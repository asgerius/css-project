[{"tags": ["c#", "authentication", "azure-sql-database"], "answers": [{"tags": [], "owner": {"reputation": 12698, "user_id": 10504999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31d210a83ff5a5b5cf4a926f4fb6a07b?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ju", "link": "https://stackoverflow.com/users/10504999/tony-ju"}, "is_accepted": false, "score": 0, "last_activity_date": 1577840915, "creation_date": 1577840915, "answer_id": 59549417, "question_id": 59549185, "link": "https://stackoverflow.com/questions/59549185/authenticating-to-azure-sql-database-without-using-userid-and-password/59549417#59549417", "title": "Authenticating to Azure SQL database without using UserID and Password", "body": "<p>You can configure and manage Azure Active Directory authentication with SQL. Refer to <a href=\"https://docs.microsoft.com/en-us/azure/sql-database/sql-database-aad-authentication-configure?tabs=azure-powershell#create-and-populate-an-azure-ad\" rel=\"nofollow noreferrer\">this document</a> for the details.</p>\n"}, {"tags": [], "owner": {"reputation": 839, "user_id": 8784568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tsJT.jpg?s=128&g=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/8784568/manish"}, "is_accepted": true, "score": 1, "last_activity_date": 1577850801, "last_edit_date": 1577850801, "creation_date": 1577848140, "answer_id": 59549779, "question_id": 59549185, "link": "https://stackoverflow.com/questions/59549185/authenticating-to-azure-sql-database-without-using-userid-and-password/59549779#59549779", "title": "Authenticating to Azure SQL database without using UserID and Password", "body": "<p>You can use 2 things.<br>\n1. <strong>Use Managed Identities for Azure Resources</strong><br>\nThis is the recommended approach, in this method, code will generate a token using azure identities.<br>\n\n<blockquote>\n  <p><strong>.NET Framework 4.6</strong> or higher or <strong>.NET Core 2.2</strong> or\n  higher is required to use the access token method.</p>\n</blockquote>\n\n<p>For More Information ->\n<a href=\"https://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/tutorial-windows-vm-access-sql\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/active-directory/managed-identities-azure-resources/tutorial-windows-vm-access-sql</a> <br>\n<br>\n2. Store sensitive information (username/password/connection string) in azure key vault\n<br><a href=\"https://docs.microsoft.com/en-us/azure/key-vault/tutorial-net-create-vault-azure-web-app\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/key-vault/tutorial-net-create-vault-azure-web-app</a></p>\n"}, {"tags": [], "owner": {"reputation": 1035, "user_id": 8446413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mtCFw.png?s=128&g=1", "display_name": "DreadedFrost", "link": "https://stackoverflow.com/users/8446413/dreadedfrost"}, "is_accepted": false, "score": 0, "last_activity_date": 1577852348, "last_edit_date": 1577852348, "creation_date": 1577850907, "answer_id": 59549918, "question_id": 59549185, "link": "https://stackoverflow.com/questions/59549185/authenticating-to-azure-sql-database-without-using-userid-and-password/59549918#59549918", "title": "Authenticating to Azure SQL database without using UserID and Password", "body": "<p>As mentioned Managed identities is the way to accomplish this. <a href=\"https://stackoverflow.com/a/59439593/8446413\">Here is a similar post specific to App Service to Azure SQL</a> this can also be accomplished via ARM and Managed Identities can also be granted access policies to Key Vaults.</p>\n"}], "owner": {"reputation": 13, "user_id": 12634324, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDIWN3fS2wGjMoV2Etg33NPBXIwG1ks8iIJq2e5qw=k-s128", "display_name": "Ziggy 117", "link": "https://stackoverflow.com/users/12634324/ziggy-117"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 59549779, "answer_count": 3, "score": 1, "last_activity_date": 1577852451, "creation_date": 1577836182, "last_edit_date": 1577852451, "question_id": 59549185, "link": "https://stackoverflow.com/questions/59549185/authenticating-to-azure-sql-database-without-using-userid-and-password", "title": "Authenticating to Azure SQL database without using UserID and Password", "body": "<p>I am trying to authenticate to my Azure SQL through c# using this code. The code works but I do not want to use my UserID and Password. Can I use anything else to authenticate? Token?</p>\n\n<pre><code>using System;\nusing System.Data.SqlClient;\nusing System.Text;\n\nnamespace sqltest\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            try \n            { \n                SqlConnectionStringBuilder builder = new SqlConnectionStringBuilder();\n                builder.DataSource = \"&lt;server&gt;.database.windows.net\"; \n                builder.UserID = \"&lt;username&gt;\";            \n                builder.Password = \"&lt;password&gt;\";     \n                builder.InitialCatalog = \"&lt;database&gt;\";\n\n                using (SqlConnection connection = new SqlConnection(builder.ConnectionString))\n                {\n                    Console.WriteLine(\"\\nQuery data example:\");\n                    Console.WriteLine(\"=========================================\\n\");\n\n                    StringBuilder sb = new StringBuilder();\n                    sb.Append(\"SELECT TOP 20 pc.Name as CategoryName, p.name as ProductName \");\n                    sb.Append(\"FROM [SalesLT].[ProductCategory] pc \");\n                    sb.Append(\"JOIN [SalesLT].[Product] p \");\n                    sb.Append(\"ON pc.productcategoryid = p.productcategoryid;\");\n                    String sql = sb.ToString();\n\n                    using (SqlCommand command = new SqlCommand(sql, connection))\n                    {\n                        connection.Open();\n                        using (SqlDataReader reader = command.ExecuteReader())\n                        {\n                            while (reader.Read())\n                            {\n                                Console.WriteLine(\"{0} {1}\", reader.GetString(0), reader.GetString(1));\n                            }\n                        }\n                    }                    \n                }\n            }\n            catch (SqlException e)\n            {\n                Console.WriteLine(e.ToString());\n            }\n            Console.ReadLine();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "android", "unity3d", "gradle"], "owner": {"reputation": 499, "user_id": 7223184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf114d17904e480e5e74448d2cf4faf2?s=128&d=identicon&r=PG", "display_name": "Aness", "link": "https://stackoverflow.com/users/7223184/aness"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577833596, "creation_date": 1577833596, "question_id": 59549042, "link": "https://stackoverflow.com/questions/59549042/when-compiling-a-unity-game-for-android-it-is-still-using-android-arch-repo-so", "title": "When Compiling a Unity Game for Android, It is still using Android.arch Repo so How do i tell Unity to Use AndroidX", "body": "<p>Hi I have a Unity Game that I made using Unity 2019 1 . ok  so I installed Android Studio and SDK 28 and I made couple projects with Android Studio just Fine.</p>\n\n<p>So the Unity Game runs fine in Windows when I try to compile for Android I get :</p>\n\n<blockquote>\n  <ul>\n  <li>What went wrong:</li>\n  </ul>\n  \n  <p>UnityEngine.GUIUtility:ProcessEvent(Int32, IntPtr)</p>\n  \n  <p>A problem occurred evaluating root project 'gradleOut'.</p>\n  \n  <p>UnityEngine.GUIUtility:ProcessEvent(Int32, IntPtr)</p>\n  \n  <blockquote>\n    <p><strong>Could not find method implementation() for arguments [{name=android.arch.lifecycle.runtime-1.0.0, ext=aar}] on object of</strong>\n    type\n    org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.</p>\n  </blockquote>\n  \n  <p>UnityEngine.GUIUtility:ProcessEvent(Int32, IntPtr)</p>\n</blockquote>\n\n<p><strong>So the error I do get it  Unity Is searching for google architecture component lifecycle library from android.arch but Google moved to Androidx repository in Android Studio I would modify gradle module and correct this but how do I do this in Unity ??</strong></p>\n"}, {"tags": ["c#", "sql", "linq-to-sql", "entity-framework-core"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1577833942, "post_id": 59549004, "comment_id": 105267169, "body": "ctx.records.OrderByDescending(r =&gt; r.score).GroupBy(r =&gt; r.name).Select(g =&gt; g.FirstOrDefault()).ToList();"}, {"owner": {"reputation": 255, "user_id": 9732315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f095f7b19beb64182f64c5840b6a943?s=128&d=identicon&r=PG&f=1", "display_name": "Ray", "link": "https://stackoverflow.com/users/9732315/ray"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1577834270, "post_id": 59549004, "comment_id": 105267215, "body": "@jdweng that did it. Thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 11326, "user_id": 9071943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QLoV.jpg?s=128&g=1", "display_name": "Nguy\u1ec5n V\u0103n Phong", "link": "https://stackoverflow.com/users/9071943/nguy%e1%bb%85n-v%c4%83n-phong"}, "is_accepted": false, "score": 1, "last_activity_date": 1577843958, "creation_date": 1577843958, "answer_id": 59549569, "question_id": 59549004, "link": "https://stackoverflow.com/questions/59549004/how-to-get-top-row-using-orderby-and-partition-by-in-linq-to-sql/59549569#59549569", "title": "How to get top row using orderby and partition by in linq to sql", "body": "<p>You can try this way, Live demo <a href=\"https://dotnetfiddle.net/2YWBpP\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>using System;\nusing System.Linq;\n\npublic class Program\n{\n    public static void Main()\n    {\n        var records = new []\n        {\n            new Record { id = 3, name = \"jim\", score = 2 },\n            new Record { id = 4, name = \"jim\", score = 1 },\n            new Record { id = 5, name = \"jim\", score = 3 },\n            new Record { id = 6, name = \"Ace\", score = 2 },\n            new Record { id = 7, name = \"jim\", score = 1 }\n        };\n\n        var result = records.GroupBy(p =&gt; p.name)\n                            .Select(g =&gt; new { Name = g.Key, Score = g.Max(p =&gt; p.score) })\n                            .ToList();\n        foreach(var item in result)\n            Console.WriteLine(\"Name: \" + item.Name + \" Score: \" + item.Score);\n    }\n\n    public class Record\n    {\n        public int id {get; set;}\n        public string name  {get; set;}\n        public int score {get; set;}\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 255, "user_id": 9732315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f095f7b19beb64182f64c5840b6a943?s=128&d=identicon&r=PG&f=1", "display_name": "Ray", "link": "https://stackoverflow.com/users/9732315/ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577843958, "creation_date": 1577833099, "question_id": 59549004, "link": "https://stackoverflow.com/questions/59549004/how-to-get-top-row-using-orderby-and-partition-by-in-linq-to-sql", "title": "How to get top row using orderby and partition by in linq to sql", "body": "<pre><code>Table\nid | name | score\n-----------------\n3  | jim  | 2\n4  | jim  | 1\n5  | jim  | 3\n6  | Ace  | 2\n7  | Ace  | 1\n</code></pre>\n\n<p>I want to return 2 records with most score. Ace with 2 and Jim with 3.\nI did this in sql but i cannot seem to convert it properly in linq.\nSQl query: </p>\n\n<pre><code>SELECT *\n      FROM   (SELECT Row_number() \n                       OVER( \n                         partition BY name\n                         ORDER BY score DESC) AS rn, \n                     score, \n                     id, \n                     name, \n              FROM  table ) AS a \n      WHERE  rn = 1 \n</code></pre>\n\n<p>Here is what i started in linq: </p>\n\n<pre><code>ctx.records.GroupBy(r =&gt; r.name).Select(g =&gt; g.OrderByDescending(i =&gt; i.score)).ToList();\n</code></pre>\n\n<p>Thank you for any help.</p>\n"}, {"tags": ["c#", "owin", "nancy"], "comments": [{"owner": {"reputation": 90, "user_id": 2263986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89c015ab003d03c5b70d882b1bf4d00c?s=128&d=identicon&r=PG", "display_name": "user2263986", "link": "https://stackoverflow.com/users/2263986/user2263986"}, "edited": false, "score": 0, "creation_date": 1577974143, "post_id": 59548990, "comment_id": 105297164, "body": "I found stateless authentication (<a href=\"https://github.com/NancyFx/Nancy/wiki/Stateless-authentication\" rel=\"nofollow noreferrer\">github.com/NancyFx/Nancy/wiki/Stateless-authentication</a>).  The pipelines are set in the CustomBootstrapper, which is called before the request is received.  The only thing I can think of is to have two different versions of the web app and use a conditional compilation symbol to detect which version to build."}, {"owner": {"reputation": 90, "user_id": 2263986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89c015ab003d03c5b70d882b1bf4d00c?s=128&d=identicon&r=PG", "display_name": "user2263986", "link": "https://stackoverflow.com/users/2263986/user2263986"}, "edited": false, "score": 0, "creation_date": 1577979657, "post_id": 59548990, "comment_id": 105299975, "body": "Or, maybe I can override it at the module level?"}, {"owner": {"reputation": 90, "user_id": 2263986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89c015ab003d03c5b70d882b1bf4d00c?s=128&d=identicon&r=PG", "display_name": "user2263986", "link": "https://stackoverflow.com/users/2263986/user2263986"}, "edited": false, "score": 0, "creation_date": 1577979866, "post_id": 59548990, "comment_id": 105300081, "body": "Or, maybe I can use a before hook on the application pipeline so I don&#39;t need two separate apps?"}, {"owner": {"reputation": 90, "user_id": 2263986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89c015ab003d03c5b70d882b1bf4d00c?s=128&d=identicon&r=PG", "display_name": "user2263986", "link": "https://stackoverflow.com/users/2263986/user2263986"}, "edited": false, "score": 0, "creation_date": 1578067084, "post_id": 59548990, "comment_id": 105329326, "body": "Tried both and neither worked."}], "answers": [{"tags": [], "owner": {"reputation": 1116, "user_id": 1195727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d09818dc9860b02416cb41e061d78ec9?s=128&d=identicon&r=PG", "display_name": "clairestreb", "link": "https://stackoverflow.com/users/1195727/clairestreb"}, "is_accepted": true, "score": 2, "last_activity_date": 1578444604, "creation_date": 1578444604, "answer_id": 59638066, "question_id": 59548990, "link": "https://stackoverflow.com/questions/59548990/how-to-skip-basic-authentication-on-certain-conditions-in-self-hosted-server/59638066#59638066", "title": "How to skip Basic Authentication on certain conditions in self-hosted server?", "body": "<ol>\n<li>You need to either add a parameter to a config file or use a conditional compilation symbol.  Either of these will set a flag that you can then check to bypass the wiring up of the Basic Authentication in the pipelines and possibly the this.RequiresAuthentication().</li>\n<li>For those Nancy Modules that require authentication, add a required URL parameter to the incoming request for the caller to supply the security token.</li>\n<li>You are going to need the REST API to have a call that validates the security token, and you will need to call it and receive back the userName so you can create your IUserIndentity.</li>\n</ol>\n"}], "owner": {"reputation": 90, "user_id": 2263986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89c015ab003d03c5b70d882b1bf4d00c?s=128&d=identicon&r=PG", "display_name": "user2263986", "link": "https://stackoverflow.com/users/2263986/user2263986"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 59638066, "answer_count": 1, "score": 1, "last_activity_date": 1578444604, "creation_date": 1577832917, "question_id": 59548990, "link": "https://stackoverflow.com/questions/59548990/how-to-skip-basic-authentication-on-certain-conditions-in-self-hosted-server", "title": "How to skip Basic Authentication on certain conditions in self-hosted server?", "body": "<ul>\n<li>I have an ASP.NET web application, let's call it Web App A, that is self-hosted using OWIN and NancyFX.</li>\n<li>Web App A uses Basic Authentication, which is set up in CustomBootstrapper.cs like this:</li>\n</ul>\n\n<pre><code>pipelines.EnableBasicAuthentication(new BasicAuthenticationConfiguration(\n    container.Resolve&lt;IUserValidator&gt;(),\n    \"MySpecificRealm\"));\n</code></pre>\n\n<ul>\n<li>After querying the user for the username and password, Web App A calls an authentication REST API to validate the credentials and return a security token if they are valid.</li>\n<li>I am being asked to make a subset of that app, let's call this subset Web App B, when a valid security token is specified in the URL instead of prompting for the credentials.</li>\n<li>The following picture might help explain this:\n<a href=\"https://i.stack.imgur.com/p87a9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p87a9.png\" alt=\"enter image description here\"></a></li>\n<li>Per the usual, there are various modules in Web App A that call:</li>\n</ul>\n\n<pre><code>this.RequiresAuthentication();\n</code></pre>\n\n<p>How can I bypass the authentication when a valid security token is passed as a parameter in the URL?</p>\n"}, {"tags": ["c#", "web-config", "iis-8", "httphandler", "isapi"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 5749406, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3JP7fkSiS4w/AAAAAAAAAAI/AAAAAAAAGL0/pxKEkMkAfC0/photo.jpg?sz=128", "display_name": "Ken Lassesen", "link": "https://stackoverflow.com/users/5749406/ken-lassesen"}, "edited": false, "score": 0, "creation_date": 1577976861, "post_id": 59559739, "comment_id": 105298498, "body": "Looked like a brilliant solution and it worked as advertised. I now have to sort out the ordering of the other two dozen filters.  I have been away in the Starbuck&#39;s world of high volume, high performance REST calls only and forgot the obvious.."}], "tags": [], "owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "is_accepted": true, "score": 1, "last_activity_date": 1577950001, "creation_date": 1577950001, "answer_id": 59559739, "question_id": 59548978, "link": "https://stackoverflow.com/questions/59548978/edge-case-can-you-configure-net-core-3-1-to-run-in-the-same-folder-as-asp-class/59559739#59559739", "title": "Edge case: Can you configure Net.Core 3.1 to run in the same folder as Asp.Classic?", "body": "<p>As far as I know, if you want to host classic asp and asp.net core at same IIS web site, you should modify your hanlder mapping to make the classic asp handler above the asp.net core module.</p>\n\n<p>Details, you could refer to below steps:</p>\n\n<p>1.Open the IIS management console and select handler mapping:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zLKhw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zLKhw.png\" alt=\"enter image description here\"></a></p>\n\n<p>2.Click the ordered list:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nOOZs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nOOZs.png\" alt=\"enter image description here\"></a></p>\n\n<p>3.Move the classic asp up than the aspnet core</p>\n\n<p><a href=\"https://i.stack.imgur.com/zZ24e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zZ24e.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 5749406, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3JP7fkSiS4w/AAAAAAAAAAI/AAAAAAAAGL0/pxKEkMkAfC0/photo.jpg?sz=128", "display_name": "Ken Lassesen", "link": "https://stackoverflow.com/users/5749406/ken-lassesen"}, "is_accepted": false, "score": 0, "last_activity_date": 1577977325, "creation_date": 1577977325, "answer_id": 59565479, "question_id": 59548978, "link": "https://stackoverflow.com/questions/59548978/edge-case-can-you-configure-net-core-3-1-to-run-in-the-same-folder-as-asp-class/59565479#59565479", "title": "Edge case: Can you configure Net.Core 3.1 to run in the same folder as Asp.Classic?", "body": "<p>Brilliant solution!!! You forget too much when you end up being siloed in doing just high performance/high volume REST API's at Starbucks for many years.</p>\n\n<p>For clarification, Brando's solution works with both .Asp and .cshtml file loading on the test site.</p>\n\n<p>This caused the Web.Config to become much bigger... and I need to get some issues sorted out, specifically:</p>\n\n<ul>\n<li>Where will static files come from (classic folder structure or netcore folder structure)</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;handlers&gt;\r\n                &lt;clear /&gt;\r\n                &lt;add name=\"ASPClassic\" path=\"*.asp\" verb=\"GET,HEAD,POST\" type=\"\" modules=\"IsapiModule\" scriptProcessor=\"%windir%\\system32\\inetsrv\\asp.dll\" resourceType=\"File\" requireAccess=\"Script\" allowPathInfo=\"false\" preCondition=\"\" responseBufferLimit=\"4194304\" /&gt;\r\n                &lt;add name=\"aspNetCore\" path=\"*\" verb=\"*\" type=\"\" modules=\"AspNetCoreModuleV2\" scriptProcessor=\"\" resourceType=\"Unspecified\" requireAccess=\"Script\" allowPathInfo=\"false\" preCondition=\"\" responseBufferLimit=\"4194304\" /&gt;\r\n                &lt;add name=\"rules-Integrated\" path=\"*.rules\" verb=\"*\" type=\"System.ServiceModel.Activation.HttpHandler, System.ServiceModel, Version=3.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\" modules=\"ManagedPipelineHandler\" scriptProcessor=\"\" resourceType=\"Unspecified\" requireAccess=\"Script\" allowPathInfo=\"false\" preCondition=\"integratedMode,runtimeVersionv2.0\" responseBufferLimit=\"4194304\" /&gt;\r\n                &lt;add name=\"AXD-ISAPI-4.0_32bit\" path=\"*.axd\" verb=\"GET,HEAD,POST,DEBUG\" type=\"\" modules=\"IsapiModule\" scriptProcessor=\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\aspnet_isapi.dll\" resourceType=\"Unspecified\" requireAccess=\"Script\" allowPathInfo=\"false\" preCondition=\"classicMode,runtimeVersionv4.0,bitness32\" responseBufferLimit=\"0\" /&gt;\r\n                &lt;add name=\"PageHandlerFactory-ISAPI-4.0_32bit\" path=\"*.aspx\" verb=\"GET,HEAD,POST,DEBUG\" type=\"\" modules=\"IsapiModule\" scriptProcessor=\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\aspnet_isapi.dll\" resourceType=\"Unspecified\" requireAccess=\"Script\" allowPathInfo=\"false\" preCondition=\"classicMode,runtimeVersionv4.0,bitness32\" responseBufferLimit=\"0\" /&gt;\r\n                &lt;add name=\"SimpleHandlerFactory-ISAPI-4.0_32bit\" path=\"*.ashx\" verb=\"GET,HEAD,POST,DEBUG\" type=\"\" modules=\"IsapiModule\" scriptProcessor=\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\aspnet_isapi.dll\" resourceType=\"Unspecified\" requireAccess=\"Script\" allowPathInfo=\"false\" preCondition=\"classicMode,runtimeVersionv4.0,bitness32\" responseBufferLimit=\"0\" /&gt;\r\n                &lt;add name=\"WebServiceHandlerFactory-ISAPI-4.0_32bit\" path=\"*.asmx\" verb=\"GET,HEAD,POST,DEBUG\" type=\"\" modules=\"IsapiModule\" scriptProcessor=\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\aspnet_isapi.dll\" resourceType=\"Unspecified\" requireAccess=\"Script\" allowPathInfo=\"false\" preCondition=\"classicMode,runtimeVersionv4.0,bitness32\" responseBufferLimit=\"0\" /&gt;\r\n                &lt;add name=\"HttpRemotingHandlerFactory-rem-ISAPI-4.0_32bit\" path=\"*.rem\" verb=\"GET,HEAD,POST,DEBUG\" type=\"\" modules=\"IsapiModule\" scriptProcessor=\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\aspnet_isapi.dll\" resourceType=\"Unspecified\" requireAccess=\"Script\" allowPathInfo=\"false\" preCondition=\"classicMode,runtimeVersionv4.0,bitness32\" responseBufferLimit=\"0\" /&gt;\r\n                &lt;add name=\"HttpRemotingHandlerFactory-soap-ISAPI-4.0_32bit\" path=\"*.soap\" verb=\"GET,HEAD,POST,DEBUG\" type=\"\" modules=\"IsapiModule\" scriptProcessor=\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\aspnet_isapi.dll\" resourceType=\"Unspecified\" requireAccess=\"Script\" allowPathInfo=\"false\" preCondition=\"classicMode,runtimeVersionv4.0,bitness32\" responseBufferLimit=\"0\" /&gt;\r\n                &lt;add name=\"svc-ISAPI-4.0_32bit\" path=\"*.svc\" verb=\"*\" type=\"\" modules=\"IsapiModule\" scriptProcessor=\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\aspnet_isapi.dll\" resourceType=\"Unspecified\" requireAccess=\"Script\" allowPathInfo=\"false\" preCondition=\"classicMode,runtimeVersionv4.0,bitness32\" responseBufferLimit=\"0\" /&gt;\r\n                &lt;add name=\"rules-ISAPI-4.0_32bit\" path=\"*.rules\" verb=\"*\" type=\"\" modules=\"IsapiModule\" scriptProcessor=\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\aspnet_isapi.dll\" resourceType=\"Unspecified\" requireAccess=\"Script\" allowPathInfo=\"false\" preCondition=\"classicMode,runtimeVersionv4.0,bitness32\" responseBufferLimit=\"0\" /&gt;\r\n     </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 103, "user_id": 5749406, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3JP7fkSiS4w/AAAAAAAAAAI/AAAAAAAAGL0/pxKEkMkAfC0/photo.jpg?sz=128", "display_name": "Ken Lassesen", "link": "https://stackoverflow.com/users/5749406/ken-lassesen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 59559739, "answer_count": 2, "score": 0, "last_activity_date": 1577977325, "creation_date": 1577832774, "question_id": 59548978, "link": "https://stackoverflow.com/questions/59548978/edge-case-can-you-configure-net-core-3-1-to-run-in-the-same-folder-as-asp-class", "title": "Edge case: Can you configure Net.Core 3.1 to run in the same folder as Asp.Classic?", "body": "<p>I am looking at migrating a huge Asp.Classic (3K files) to Net.Core 3.1 in steps (i.e. folder by folder migration). We have figured out issues with sharing sessions and prefer not to go parallel sites (but may end going there if there is not a simple solution).</p>\n\n<p>One line (in &lt;-- --> below) in a merged Web.Config determines if Asp.Classic loads or Net.Core loads.</p>\n\n<ul>\n<li>Commented out: Asp.Classic</li>\n<li>Uncomment: Net.Core</li>\n</ul>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;system.webServer&gt;\n        &lt;validation validateIntegratedModeConfiguration=\"false\" /&gt;\n      &lt;handlers&gt;\n        &lt;!--&lt;add name=\"aspNetCore\" path=\"*\" verb=\"*\" modules=\"AspNetCoreModuleV2\" resourceType=\"Unspecified\" /&gt;--&gt;\n      &lt;/handlers&gt;\n        &lt;aspNetCore processPath=\"dotnet\" arguments=\".\\WebApplication1.dll\" stdoutLogEnabled=\"false\" stdoutLogFile=\".\\logs\\stdout\" hostingModel=\"inprocess\" /&gt;\n    &lt;/system.webServer&gt;\n</code></pre>\n\n\n\n<p>I realize that ISAPI filter written in C++ is a possibility (in one way easy: if there is an .asp in the request go to Asp.Classic, otherwise pass to Net.Core). Any alternatives before walking that path?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "hosts"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1577832571, "post_id": 59548927, "comment_id": 105266982, "body": "In general network configuration questions are not on-topic on SO. SuperUser, ServerFault or one of Linux sites may be more appropriate (clarifying what OS you are using definitely needed for such question, especially since it&#39;s clearly not Windows which would be somewhat default for C# question)"}, {"owner": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "edited": false, "score": 0, "creation_date": 1577833258, "post_id": 59548927, "comment_id": 105267092, "body": "There is no requirement that an outgoing IP address is properly registered. You  might be surprised what domains you get from DnsSafeHost."}, {"owner": {"reputation": 18474, "user_id": 971141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33bad53cc72fd2873b4bd5b426fcc4c1?s=128&d=identicon&r=PG", "display_name": "David Ferenczy Rogo\u017ean", "link": "https://stackoverflow.com/users/971141/david-ferenczy-rogo%c5%bean"}, "edited": false, "score": 0, "creation_date": 1577833970, "post_id": 59548927, "comment_id": 105267172, "body": "I&#39;m not sure <code>Request.Url</code> is what you want. According the documentation, it contains &quot;<i>...information about the URL of the current request.</i>&quot;. What exactly do you mean by the &quot;domain they&#39;re coming from&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 2841, "user_id": 1920035, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cRK2R.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/1920035/david"}, "edited": false, "score": 0, "creation_date": 1577984098, "post_id": 59549030, "comment_id": 105302021, "body": "Thank you, Mark. I updated the hosts file to use the IP Address and I&#39;ve also added a new binding in IIS Express for my alias. It allows for me to ping the alias and it returns a reply from <code>127.0.0.1</code> but whenever I attempt to debug my application and navigate to the URL it returns a bad request."}, {"owner": {"reputation": 2841, "user_id": 1920035, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cRK2R.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/1920035/david"}, "edited": false, "score": 1, "creation_date": 1577993101, "post_id": 59549030, "comment_id": 105305541, "body": "Actually, take a look at my answer. I was able to resolve the issue by setting up a new binding in the IIS Express configuration for the project."}], "tags": [], "owner": {"reputation": 1427, "user_id": 4381423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W5qHX.jpg?s=128&g=1", "display_name": "Mark Mucha", "link": "https://stackoverflow.com/users/4381423/mark-mucha"}, "is_accepted": false, "score": 2, "last_activity_date": 1577833934, "last_edit_date": 1577833934, "creation_date": 1577833415, "answer_id": 59549030, "question_id": 59548927, "link": "https://stackoverflow.com/questions/59548927/c-spoof-host-name/59549030#59549030", "title": "C# Spoof Host Name", "body": "<p>From testing locally, you'll need to change the line in the hosts file to something like:\n<code>127.0.0.1 foodbar.org</code>. Per the file itself, lines should be <code>&lt;ip&gt; &lt;hostname&gt;</code>.</p>\n\n<p>Then, you'll have to navigate to <a href=\"http://foodbar.org\" rel=\"nofollow noreferrer\">http://foodbar.org</a> when testing. I've done this in the past for testing TLS certs, and this worked for me. You may have to change your bindings in IIS.</p>\n"}, {"tags": [], "owner": {"reputation": 2841, "user_id": 1920035, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cRK2R.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/1920035/david"}, "is_accepted": true, "score": 1, "last_activity_date": 1577986591, "creation_date": 1577986591, "answer_id": 59567587, "question_id": 59548927, "link": "https://stackoverflow.com/questions/59548927/c-spoof-host-name/59567587#59567587", "title": "C# Spoof Host Name", "body": "<p>This took quite a bit of searching, but I was ultimately able to resolve my issue. For future searches, here are some keywords that I should have used but didn't have enough knowledge beforehand to know what they were: IIS Express localhost alias.</p>\n\n<p>The first thing to keep in mind is that everything that I did, <strong>I had to do as an administrator</strong>.</p>\n\n<p>First, as per <a href=\"https://stackoverflow.com/a/59549030/1920035\">Mark Mucha's answer</a>, I had to format my HOSTS file properly. In my case the alias that I wanted to use was <code>dev.myproject</code> which means I added the following line to my HOSTS file:</p>\n\n<pre><code>127.0.0.1 dev.myproject\n</code></pre>\n\n<p>I verified that this worked by bringing up a terminal (I personally use Git Bash) and submitted a ping request which responded with the following:</p>\n\n<pre><code>$ ping dev.myproject\n\nPinging dev.myproject [127.0.0.1] with 32 bytes of data:\nReply from 127.0.0.1: bytes=32 time&lt;1ms TTL=128\nReply from 127.0.0.1: bytes=32 time&lt;1ms TTL=128\nReply from 127.0.0.1: bytes=32 time&lt;1ms TTL=128\nReply from 127.0.0.1: bytes=32 time&lt;1ms TTL=128\n</code></pre>\n\n<p>The next step was to configure an IIS Express alias. To do this, I went to my IIS Express configuration file, which is found at: <code>[solution directory]\\.vs\\config\\applicationhost.config</code> (keep in mind that .vs is a hidden folder) and edited the file to include a new website binding. The new binding looks like the following:</p>\n\n<pre><code>&lt;site name=\"myproject\" id=\"2\"&gt;\n    &lt;application path=\"/\" applicationPool=\"Clr4IntegratedAppPool\"&gt;\n        &lt;virtualDirectory path=\"/\" physicalPath=\"[directory name removed]\" /&gt;\n    &lt;/application&gt;\n    &lt;bindings&gt;\n        &lt;binding protocol=\"http\" bindingInformation=\"*:52841:localhost\" /&gt;\n        &lt;binding protocol=\"http\" bindingInformation=\"*:52841:dev.myproject\" /&gt;\n    &lt;/bindings&gt;\n&lt;/site&gt;\n</code></pre>\n\n<p>Once the website binding was setup I then modified my project's server properties by going to the project's properties (in the solution explorer, right-click on the project name, click on Properties at the very bottom, and then go to the Web tab). The project URL I left it as it was, but I checked the <em>Override Application URL</em> to be the alias that I wanted to use, in this case it look like:</p>\n\n<pre><code>http://dev.myproject:52841\n</code></pre>\n\n<p>The final step was to reserve the aliased URL for non-administrator users (because I generally don't run as an admin). In this case, I ran the following command from my terminal:</p>\n\n<pre><code>netsh http add urlacl url=http://*:52841/ user=\\Everyone\n</code></pre>\n\n<p>Once the alias was setup in IIS Express, I was able to reach the aliased URL by launching the application (F5). This initially brought up <code>http://localhost:52841</code> but in a separate tab I navigated to <code>http://dev.myproject:52841</code> and it worked.</p>\n\n<p>Now that everything was finished, the actual property that I needed to get was the following:</p>\n\n<pre><code>var host = Request.Url?.Host;\n</code></pre>\n"}], "owner": {"reputation": 2841, "user_id": 1920035, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cRK2R.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/1920035/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 1, "accepted_answer_id": 59567587, "answer_count": 2, "score": 0, "last_activity_date": 1577986591, "creation_date": 1577832215, "last_edit_date": 1577832728, "question_id": 59548927, "link": "https://stackoverflow.com/questions/59548927/c-spoof-host-name", "title": "C# Spoof Host Name", "body": "<p><strong>Background information</strong></p>\n\n<p>I have users stored in a table, I have the concept of \"companies\" stored in a separate table, and then I have an intermediate table that links users to companies in a one(user) to many(companies) relationship. The situation that I have is that a user will register or log in from a domain specific to a company. The requirement is that I need to authorize users based on the domain they're coming from.</p>\n\n<p><strong>What I'm Thinking</strong></p>\n\n<p>I believe that you can get the domain name from <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.httprequestbase.url?view=netframework-4.8#System_Web_HttpRequestBase_Url\" rel=\"nofollow noreferrer\">Request.Url</a> and so I thought is that I would just get the name and do my authorization logic. The issue that I'm running into is that if I try to get the name via:</p>\n\n<pre><code>var hostName = Request.Url.DnsSafeHost\n</code></pre>\n\n<p>It always returns <code>localhost</code>. So to bypass this, I though that I could edit my HOSTS file to include this line:</p>\n\n<pre><code>localhost:12345 [domain I want to spoof].com\n</code></pre>\n\n<p>But even this still returns <code>localhost</code> so I am unsure if I'm even going about this correctly.</p>\n\n<p><strong>Update</strong></p>\n\n<p>As per a comment request, the operating system that I'm using is Windows 10.</p>\n"}, {"tags": ["c#", "relational-operators"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 2, "creation_date": 1577832357, "post_id": 59548922, "comment_id": 105266943, "body": "<code>Convert.ToInt32(Console.Read());</code> should be <code>int.Parse(Console.ReadLine());</code>. You should have spotted the wrong result when debugging the value of <code>ageUser</code>"}, {"owner": {"reputation": 737, "user_id": 5399494, "user_type": "registered", "profile_image": "https://graph.facebook.com/1468499080123573/picture?type=large", "display_name": "Jean-Claude Colette", "link": "https://stackoverflow.com/users/5399494/jean-claude-colette"}, "edited": false, "score": 0, "creation_date": 1577832461, "post_id": 59548922, "comment_id": 105266961, "body": "Hello Danny. I think that you must use Console.ReadLine instead of Console.Read. Console.Read read only one character."}, {"owner": {"reputation": 23, "user_id": 12477383, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gQAWZ_dryFo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfq8aJKMpIjzKEQooH4bylqdv_IsA/photo.jpg?sz=128", "display_name": "Danny", "link": "https://stackoverflow.com/users/12477383/danny"}, "reply_to_user": {"reputation": 737, "user_id": 5399494, "user_type": "registered", "profile_image": "https://graph.facebook.com/1468499080123573/picture?type=large", "display_name": "Jean-Claude Colette", "link": "https://stackoverflow.com/users/5399494/jean-claude-colette"}, "edited": false, "score": 0, "creation_date": 1577833794, "post_id": 59548922, "comment_id": 105267147, "body": "Thanks @Jean-ClaudeColette for the clarification."}, {"owner": {"reputation": 23, "user_id": 12477383, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gQAWZ_dryFo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfq8aJKMpIjzKEQooH4bylqdv_IsA/photo.jpg?sz=128", "display_name": "Danny", "link": "https://stackoverflow.com/users/12477383/danny"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1577834336, "post_id": 59548922, "comment_id": 105267226, "body": "@UnholySheep If I may ask, when is it appropriate to use <code>Convert.ToInt32(Console.Read());</code> and <code>int.Parse(Console.ReadLine());</code>?"}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1577834689, "post_id": 59548922, "comment_id": 105267280, "body": "I can&#39;t think of any case where <code>Convert.ToInt32(Console.Read());</code> would be the right thing to use, but there&#39;s probably some use case. In most cases you want to read user input using <code>Console.ReadLine()</code> (and <code>int.Parse</code> vs <code>Convert.ToInt32</code> is a different discussion: <a href=\"https://stackoverflow.com/questions/199470/whats-the-main-difference-between-int-parse-and-convert-toint32\" title=\"whats the main difference between int parse and convert toint32\">stackoverflow.com/questions/199470/&hellip;</a>)"}], "answers": [{"tags": [], "owner": {"reputation": 9368, "user_id": 1390548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee99f66a15a8e049467a0fca2b80eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jawad", "link": "https://stackoverflow.com/users/1390548/jawad"}, "is_accepted": true, "score": 1, "last_activity_date": 1577832400, "creation_date": 1577832400, "answer_id": 59548945, "question_id": 59548922, "link": "https://stackoverflow.com/questions/59548922/relational-operator-statement-and-output-dont-seem-to-match/59548945#59548945", "title": "Relational Operator Statement And Output Don&#39;t Seem To Match", "body": "<p>You will need to change how you read in the input. Read() reads in a character and does not convert that to int like you think it does. (5 becomes 53 due to its ASCII representation). Use <code>ReadLine</code> instead.</p>\n\n<p>Use the folowing instead.</p>\n\n<pre><code>    Console.Write(\"Put in your age: \");\n    input = Convert.ToInt32(Console.ReadLine());\n    ageUser = input;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12477383, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gQAWZ_dryFo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfq8aJKMpIjzKEQooH4bylqdv_IsA/photo.jpg?sz=128", "display_name": "Danny", "link": "https://stackoverflow.com/users/12477383/danny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 59548945, "answer_count": 1, "score": 1, "last_activity_date": 1577832400, "creation_date": 1577832166, "question_id": 59548922, "link": "https://stackoverflow.com/questions/59548922/relational-operator-statement-and-output-dont-seem-to-match", "title": "Relational Operator Statement And Output Don&#39;t Seem To Match", "body": "<p>Good day all, I'm new to C# and currently at the stage of experimenting with if-else statements. Upon declaring variables <strong>ageUser</strong>, <strong>permittedAge</strong>, <strong>input</strong> and running the program, I noticed that the if statement and the resulting output don't seem to match.</p>\n\n<pre><code>        int ageUser;\n        int permittedAge = 18;\n        int input;\n\n        Console.Write(\"Put in your age: \");\n        input = Convert.ToInt32(Console.Read());\n        ageUser = input;\n\n        if (ageUser &lt; permittedAge)\n        {\n            Console.WriteLine(\"Sorry you are not permitted to enter this site!\");\n        }\n\n        else\n        {\n            Console.WriteLine(\"Welcome\");\n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OPLnO.png\" rel=\"nofollow noreferrer\">Link To Console Output</a></p>\n"}, {"tags": ["c#", "asp.net-web-api", "asp.net-core-webapi", "asp.net-core-3.1"], "answers": [{"comments": [{"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1577888271, "post_id": 59551151, "comment_id": 105275008, "body": "Using <code>[HttpGet(&lt;something&gt;)]</code> will set <code>&lt;something&gt;</code> as the route just like <code>[Route(&lt;something&gt;)]</code> does. It is not recommended to use <i>both</i> <code>HttpGet</code> and <code>Route</code> to declare routes."}], "tags": [], "owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "is_accepted": false, "score": 1, "last_activity_date": 1577869068, "creation_date": 1577869068, "answer_id": 59551151, "question_id": 59548860, "link": "https://stackoverflow.com/questions/59548860/adding-multiple-get-verbs-gives-an-error-of-ambiguousmatchexception/59551151#59551151", "title": "Adding Multiple GET verbs gives an error of AmbiguousMatchException", "body": "<p>You can try changing it like below:</p>\n\n<pre><code>[HttpGet]\n[Route(\"users\")]\npublic async Task&lt;IActionResult&gt; Get()\n{\n    var profLocals = await _unitOfWork.ProfessionalLocalUsers.GetAllAsync();\n    return Ok(_mapper.Map&lt;IEnumerable&lt;ProfessionalLocalDto&gt;&gt;(profLocals));\n}\n\n[HttpGet(\"{id}\")]\n[Route(\"users/{id}\")]\npublic async Task&lt;IActionResult&gt; Get(int id)\n{\n    var localUser = await _unitOfWork.ProfessionalLocalUsers.GetAsync(id);\n    if (localUser == null)\n    {\n        return NotFound();\n    }\n\n    return Ok(_mapper.Map&lt;ProfessionalLocalDto&gt;(localUser));\n}\n\n[HttpGet(\"{searchText}\", Name = \"Search\")]\n[Route(\"usersbytext/{id}\")]\npublic async Task&lt;IActionResult&gt; Get(string searchText)\n{\n    var localUsers = await _unitOfWork.ProfessionalLocalUsers.FindAsync(temp =&gt; temp.UserID.ToString().Contains(searchText));\n\n    return Ok(_mapper.Map&lt;IEnumerable&lt;ProfessionalLocalDto&gt;&gt;(localUsers));\n}\n</code></pre>\n\n<p>Add a custom route for third one.\nThe default routing is unable to distinguish [Route(\"users/{id}\")] from [Route(\"users/{id}\")] making it ambigous.</p>\n"}, {"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": false, "score": 2, "last_activity_date": 1577872275, "creation_date": 1577872275, "answer_id": 59551456, "question_id": 59548860, "link": "https://stackoverflow.com/questions/59548860/adding-multiple-get-verbs-gives-an-error-of-ambiguousmatchexception/59551456#59551456", "title": "Adding Multiple GET verbs gives an error of AmbiguousMatchException", "body": "<p>Routes need to be unique when mapped to controller actions.</p>\n\n<p>In this case the routes <code>[HttpGet(\"{id}\")]</code> and <code>[HttpGet(\"{searchText}\", Name = \"Search\")]</code> conflict because to both map to the same URI.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>api/v1/ProfessionalLocal/{some value here}\n</code></pre>\n\n<p>If you want to keep the same URI as before, and allow for the the two action to be distinct, use a route constraint.</p>\n\n<pre><code>//GET api/v1/ProfessionalLocal/1234\n[HttpGet(\"{id:int}\")] //&lt;-- note the constraint on the id\npublic async Task&lt;IActionResult&gt; Get(int id) {\n    //...\n}\n</code></pre>\n\n<p>So that the above is called only when a valid value is provided. An integer in this case</p>\n\n<p>And consider changing the route template of the search to be more descriptive of what it actually does.</p>\n\n<pre><code>//GET api/v1/ProfessionalLocal/search/{search text here}\n[HttpGet(\"search/{searchText}\", Name = \"Search\")]\npublic async Task&lt;IActionResult&gt; Get(string searchText) {\n    //...\n}\n</code></pre>\n\n<p>Reference <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/controllers/routing\" rel=\"nofollow noreferrer\">Routing to controller actions in ASP.NET Core</a></p>\n\n<p>Reference <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/routing\" rel=\"nofollow noreferrer\">Routing in ASP.NET Core</a></p>\n"}, {"tags": [], "owner": {"reputation": 816, "user_id": 9256699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fl416.png?s=128&g=1", "display_name": "Mahesh Nepal", "link": "https://stackoverflow.com/users/9256699/mahesh-nepal"}, "is_accepted": false, "score": 0, "last_activity_date": 1577887008, "creation_date": 1577887008, "answer_id": 59553131, "question_id": 59548860, "link": "https://stackoverflow.com/questions/59548860/adding-multiple-get-verbs-gives-an-error-of-ambiguousmatchexception/59553131#59553131", "title": "Adding Multiple GET verbs gives an error of AmbiguousMatchException", "body": "<p>I ran into a similar problem recently. My solution was to use the same method for <strong>GetAll</strong> and <strong>Search</strong>. What I did was:</p>\n\n<p>Check for the query parameter, if the query parameter is available, return search results else return all. Please refer to the snippet below.</p>\n\n<pre><code>    [HttpGet]\n    public async Task&lt;IActionResult&gt; Get([FromQuery]string search)\n    {\n      if(!String.IsNullOrEmpty(search)) \n         // return search result\n      //return all\n    }\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 1541321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2661cf4f2db81f390798d80c813686b?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/1541321/dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1577887008, "creation_date": 1577831433, "last_edit_date": 1577867971, "question_id": 59548860, "link": "https://stackoverflow.com/questions/59548860/adding-multiple-get-verbs-gives-an-error-of-ambiguousmatchexception", "title": "Adding Multiple GET verbs gives an error of AmbiguousMatchException", "body": "<p>I have a WebApi using .NET core 3.1. I'm not sure if this isn't best practice or if there's another way to do this. But, I have a WebApi that will have 3 get verbs. <br>\n1. Get All.<br> \n2. Get by Id. <br>\n3. Get by a search string. </p>\n\n<p>It work if I have just 2, the get all and get by id but once I had a 3rd, get by string I get an error. Then when I go to test in swagger I get, </p>\n\n<blockquote>\n  <p>Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The\n  request matched multiple endpoints. Matches:</p>\n</blockquote>\n\n<p>Code:</p>\n\n<pre><code>[ApiController]\n[Route(\"api/v1/[controller]\")]\npublic class ProfessionalLocalController : ControllerBase\n{\n    private IUnitOfWork _unitOfWork;\n    private readonly IMapper _mapper;\n\n    public ProfessionalLocalController(IUnitOfWork unitOfWork, IMapper mapper)\n    {\n        _unitOfWork = unitOfWork;\n        _mapper = mapper;\n    }\n\n    [HttpGet]\n    public async Task&lt;IActionResult&gt; Get()\n    {\n        var profLocals = await _unitOfWork.ProfessionalLocalUsers.GetAllAsync();\n        return Ok(_mapper.Map&lt;IEnumerable&lt;ProfessionalLocalDto&gt;&gt;(profLocals));\n    }\n\n    [HttpGet(\"{id}\")]\n    public async Task&lt;IActionResult&gt; Get(int id)\n    {\n        var localUser = await _unitOfWork.ProfessionalLocalUsers.GetAsync(id);\n        if (localUser == null)\n        {\n            return NotFound();\n        }\n\n        return Ok(_mapper.Map&lt;ProfessionalLocalDto&gt;(localUser));\n    }\n\n    [HttpGet(\"{searchText}\", Name = \"Search\")]\n    public async Task&lt;IActionResult&gt; Get(string searchText)\n    {\n        var localUsers = await _unitOfWork.ProfessionalLocalUsers.FindAsync(temp =&gt; temp.UserID.ToString().Contains(searchText));\n\n        return Ok(_mapper.Map&lt;IEnumerable&lt;ProfessionalLocalDto&gt;&gt;(localUsers));\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "winforms", "user-controls", "visual-studio-2019", "design-time"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1577832333, "post_id": 59548820, "comment_id": 105266937, "body": "This is because the serialized version no longer matches the compiled version. The only way to fix it is to open the designer and delete the control, then open the resx and delete the control there, then add it back in. There are ways to control the serialization so that doesn&#39;t happen in the future, but it&#39;s too late now."}], "answers": [{"comments": [{"owner": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "edited": false, "score": 0, "creation_date": 1578334983, "post_id": 59549563, "comment_id": 105397476, "body": "I&#39;m afraid but it did not work. The most curious thing is that this screen shows that digitalClock and digitalDate variables are not declared or never used, however, I can see both assignments in InitializeComponent method."}, {"owner": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "edited": false, "score": 1, "creation_date": 1578340036, "post_id": 59549563, "comment_id": 105399533, "body": "I have realized that the problem was due because my VS 2019 is 32 bits and I was compiling the project using 64 bits platform.I am wondering why the VS2019 installer installed 32 bits version.Doesn&#39;t VS 2019 exist for 64 bits platform? I am using Community Edition."}, {"owner": {"reputation": 3436, "user_id": 11507778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ZI8M.jpg?s=128&g=1", "display_name": "Jack J Jun - MSFT", "link": "https://stackoverflow.com/users/11507778/jack-j-jun-msft"}, "reply_to_user": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "edited": false, "score": 0, "creation_date": 1578362778, "post_id": 59549563, "comment_id": 105405964, "body": "Yes, you are right. As usual, there is no 64-bit version of Visual Studio. For more information, you could look at <a href=\"https://stackoverflow.com/a/35948345/11507778\">Visual Studio 64 bit?</a>."}], "tags": [], "owner": {"reputation": 3436, "user_id": 11507778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ZI8M.jpg?s=128&g=1", "display_name": "Jack J Jun - MSFT", "link": "https://stackoverflow.com/users/11507778/jack-j-jun-msft"}, "is_accepted": true, "score": 1, "last_activity_date": 1577843882, "creation_date": 1577843882, "answer_id": 59549563, "question_id": 59548820, "link": "https://stackoverflow.com/questions/59548820/cannot-load-user-control-design-view-in-visual-studio-2019/59549563#59549563", "title": "Cannot load user control design view in Visual Studio 2019", "body": "<p>According to <a href=\"https://stackoverflow.com/questions/19931997/to-prevent-possible-data-loss-in-windows-form-c-sharp\">To prevent possible data loss in windows form c#</a>, I suggest that you can do as the following steps.</p>\n\n<p>First, Please find all the RealTime.DigitalClock related code in UIControl.designer and UIControl.cs.</p>\n\n<p>Second, you can delete the above code.</p>\n\n<p>Third, you need to rewrite the code you just deleted.</p>\n\n<p>Finally, rebuild it and check if it works for you.</p>\n"}], "owner": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1144, "favorite_count": 0, "accepted_answer_id": 59549563, "answer_count": 1, "score": 1, "last_activity_date": 1609237041, "creation_date": 1577830970, "question_id": 59548820, "link": "https://stackoverflow.com/questions/59548820/cannot-load-user-control-design-view-in-visual-studio-2019", "title": "Cannot load user control design view in Visual Studio 2019", "body": "<p>This is very strange. I have a custom UserControl called UIControl. That user control has another custom control (derived from Label control).</p>\n\n<p>This worked OK for long time. Both at design time and at run time. However, now, I needed to edit that custom UIControl but the Visual Studio 2019 shows this error message:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mcO2z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mcO2z.png\" alt=\"Visual Studio Design View\"></a></p>\n\n<p>This error means that the RealTime.DigitalClock is not found. As you see in the project, that control is not part of an external assembly, but the same assembly where UIControl is.</p>\n\n<p>I have compiled and recompiled thousand of times and compilations finish perfectly. Even the application runs.</p>\n\n<p>Furthermore, when I build the project, those user controls appear in tool box, but when I try to place it in any form, an error telling that the component could not be added and it will be removed from the tool box is shown.</p>\n\n<p>I don't really know what is happening here. I have even closed and re-open VS 2019 but no avail.</p>\n\n<p>Regards\nJaime</p>\n"}, {"tags": ["c#", "c++", "memory"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12493615"}, "reply_to_user": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1577833066, "post_id": 59548803, "comment_id": 105267068, "body": "@MickyD well , good question , My main reason is speed and security. btw I solved the problem :D"}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1577836895, "post_id": 59548803, "comment_id": 105267536, "body": "Excellent!  Feel free to post it as an answer and if no other better answers come along, you can accept your own.  Happy New Year! :)"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12493615"}, "edited": false, "score": 0, "creation_date": 1577833189, "post_id": 59548931, "comment_id": 105267083, "body": "Thanks! I found the solution just 2 minutes after posting my question , my process is 64bit but the problem was the bad DllImport of ReadProcessMemory but your answer gave me a better solution to achieve that , <b>Marshal.ReadByte</b>  was the exact thing  I was looking for , answer accepted."}, {"owner": {"reputation": 15649, "user_id": 126995, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bdd0d42e87a7c2636f0570ce12d069e5?s=128&d=identicon&r=PG", "display_name": "Soonts", "link": "https://stackoverflow.com/users/126995/soonts"}, "edited": false, "score": 0, "creation_date": 1577841147, "post_id": 59548931, "comment_id": 105267987, "body": "@J.Mcgill Good. Happy new year, BTW."}], "tags": [], "owner": {"reputation": 15649, "user_id": 126995, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bdd0d42e87a7c2636f0570ce12d069e5?s=128&d=identicon&r=PG", "display_name": "Soonts", "link": "https://stackoverflow.com/users/126995/soonts"}, "is_accepted": true, "score": 0, "last_activity_date": 1577832265, "creation_date": 1577832265, "answer_id": 59548931, "question_id": 59548803, "link": "https://stackoverflow.com/questions/59548803/how-to-directly-read-a-vector-data-from-unmanaged-in-managed-code-using-its-poi/59548931#59548931", "title": "how to directly read a vector data from unmanaged in managed code using it&#39;s pointer", "body": "<p>I\u2019m not sure you got your data types right. The code you have now works for 64-bit builds, fails in 32-bit builds. Here\u2018s one way to fix:</p>\n\n<pre><code>[DllExport]\nstatic public void ReadThisVector( IntPtr v_ptr, uint datasize )\n// C++\nReadThisVector( demo_vector_1.data(), (uint32_t)demo_vector_1.size() );\n</code></pre>\n\n<p>Now, on your question \u2014 you can call <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.marshal.readbyte?view=netframework-4.8#System_Runtime_InteropServices_Marshal_ReadByte_System_IntPtr_System_Int32_\" rel=\"nofollow noreferrer\">Marshal.ReadByte</a> for that.</p>\n\n<p>Or, if you have modern .NET and you OK with unsafe code, you can <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.readonlyspan-1.-ctor?view=netcore-3.1#System_ReadOnlySpan_1__ctor_System_Void__System_Int32_\" rel=\"nofollow noreferrer\">create a <code>ReadOnlySpan&lt;byte&gt;</code></a> from your 2 values. If you need that data for IO, modern .NET has stuff like <code>Stream.Write(ReadOnlySpan&lt;byte&gt;)</code> i.e. streams can write directly from unmanaged buffers without making copies.</p>\n\n<p>Unfortunately, there\u2019s no way to directly cast unmanaged memory into C# array or list. You either need to copy, or change APIs from arrays/lists into spans/pointers.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12493615"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 59548931, "answer_count": 1, "score": 0, "last_activity_date": 1577837012, "creation_date": 1577830649, "last_edit_date": 1577837012, "question_id": 59548803, "link": "https://stackoverflow.com/questions/59548803/how-to-directly-read-a-vector-data-from-unmanaged-in-managed-code-using-its-poi", "title": "how to directly read a vector data from unmanaged in managed code using it&#39;s pointer", "body": "<p>I have a console c++ application creates a vector and assign data to it :</p>\n\n<pre><code>vector&lt;char&gt; demo_vector_1 = {\n        0x54, 0x48, 0x49, 0x53, 0x20, 0x49, 0x53, 0x20, 0x44, 0x45, 0x4D, 0x4F,\n        0x20, 0x44, 0x41, 0x54, 0x41\n};\n</code></pre>\n\n<p>No I have a managed dll with a exported function :</p>\n\n<pre><code>[DllExport]\n static public void ReadThisVector(IntPtr v_ptr,long datasize)\n        {\n           //// Data processing ...\n        }\n</code></pre>\n\n<p>then I call this function in c++ and pass the vector data pointer to my C# code :</p>\n\n<pre><code>ReadThisVector((long)&amp;demo_vector_1[0], demo_vector_1.size());\n</code></pre>\n\n<p>I printed out pointer of vector both in c++ and c# and they match.</p>\n\n<p>Now I need to access and ready some parts of that vector directly from C# code.\nI tried to use ReadProcessMemory but I get Access Violation error.</p>\n\n<p>How can I read vector data directly to a buffer byte array or even better C# List ?\nI don't want to copy anything , just direct access , because my data size will be huge.</p>\n\n<p>c# dll is loaded in console and same process of unmanaged process , so it should access to its memory but how ?</p>\n\n<p>Do I pass the vector pointer in a proper way ?</p>\n\n<p><strong>NOTE:</strong> I don't want to use memory mapped files.</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms", "uwp", ".net-standard"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1577831561, "post_id": 59548774, "comment_id": 105266779, "body": "<a href=\"https://stackoverflow.com/questions/52289014/certificate-pinning-on-uwp\" title=\"certificate pinning on uwp\">stackoverflow.com/questions/52289014/certificate-pinning-on-&zwnj;&#8203;uwp</a>"}, {"owner": {"reputation": 200, "user_id": 6047317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9d7c9276d6c8a32f328f723b172794?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6047317/jason"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1577832376, "post_id": 59548774, "comment_id": 105266946, "body": "The callback does fire so not the same situation."}, {"owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1577864361, "post_id": 59548774, "comment_id": 105270295, "body": "Does <code>ValidateServerCertficate</code> call in your side?"}, {"owner": {"reputation": 200, "user_id": 6047317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9d7c9276d6c8a32f328f723b172794?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6047317/jason"}, "edited": false, "score": 0, "creation_date": 1577865210, "post_id": 59548774, "comment_id": 105270437, "body": "ValidateServerCertificate is being called but the return value has no bearing on whether the connection is allowed or not"}], "answers": [{"tags": [], "owner": {"reputation": 200, "user_id": 6047317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9d7c9276d6c8a32f328f723b172794?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6047317/jason"}, "is_accepted": true, "score": 1, "last_activity_date": 1578441666, "creation_date": 1578441666, "answer_id": 59637771, "question_id": 59548774, "link": "https://stackoverflow.com/questions/59548774/uwp-servicepointmanager-servercertificatevalidationcallback/59637771#59637771", "title": "UWP ServicePointManager.ServerCertificateValidationCallback", "body": "<p>I was able to fix this by:</p>\n\n<ol>\n<li>In the UWP project, double click the Package.appxmanifest file</li>\n<li>Under the Declarations menu, select Certificates from the Available Declarations drop down</li>\n<li>Click the Add button</li>\n<li>Select the Exclusive Trust option</li>\n</ol>\n\n<p>This puts the following xml into Package.appxmanifest file:</p>\n\n<pre><code>&lt;Extensions&gt;\n   &lt;Extension Category=\"windows.certificates\"&gt;\n     &lt;Certificates&gt;\n       &lt;TrustFlags ExclusiveTrust=\"true\" /&gt;\n     &lt;/Certificates&gt;\n   &lt;/Extension&gt;\n&lt;/Extensions&gt;\n</code></pre>\n"}], "owner": {"reputation": 200, "user_id": 6047317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9d7c9276d6c8a32f328f723b172794?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6047317/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 1, "accepted_answer_id": 59637771, "answer_count": 1, "score": 9, "last_activity_date": 1578441666, "creation_date": 1577830300, "last_edit_date": 1577830706, "question_id": 59548774, "link": "https://stackoverflow.com/questions/59548774/uwp-servicepointmanager-servercertificatevalidationcallback", "title": "UWP ServicePointManager.ServerCertificateValidationCallback", "body": "<p>I have a Xamarin.Forms app that implements certificate pinning utilizing the ServicePointManager.ServerCertificateValidationCallback class and method. On Android and iOS, this works without issue in that it will allow connections to expected services whose certificate keys have been pinned and disallow connections for those that I have not.</p>\n\n<p>However, on UWP, all connections are allowed regardless whether the certificate key has been pinned or not. I have explicitly returned false from the certificate validation method and the connection is still allowed. I am sure the check is being performed as I have debugged and stepped through the certificate validation method.</p>\n\n<p>What could be causing the connection to proceed even though I am returning false from the validation check?</p>\n\n<pre><code>ServicePointManager.ServerCertificateValidationCallback = ValidateServerCertficate;\nprivate static bool ValidateServerCertficate(\n   object sender,\n   X509Certificate certificate,\n   X509Chain chain,\n   SslPolicyErrors sslPolicyErrors\n)\n{\n   return false;\n}\n</code></pre>\n"}, {"tags": ["c#", "nodatime"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1577871591, "post_id": 59548745, "comment_id": 105271430, "body": "That looks fine to me - if you take &quot;what you&#39;ve got to start with&quot; (a local date/time and a time zone) and &quot;what you want to end up with&quot; (a DateTimeOffset with an offset of 0, because you want the UTC value) then those transformations seem exactly appropriate."}], "answers": [{"comments": [{"owner": {"reputation": 8121, "user_id": 152997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae371690b3859dd1515ccf3e9ddc2ec8?s=128&d=identicon&r=PG", "display_name": "McGuireV10", "link": "https://stackoverflow.com/users/152997/mcguirev10"}, "edited": false, "score": 0, "creation_date": 1577886741, "post_id": 59548928, "comment_id": 105274677, "body": "Thanks, I&#39;m converting to <code>DateTimeOffset</code> for writing future events to SQL but the rest of the system is <code>Instant</code> based. As I understand it, that&#39;s an appropriate column type versus serializing an <code>Instant</code>. I recently switched away from <code>InZoneLeniently</code> but I&#39;ll reconsider. The discrete values are config items that must be reevaluated over long periods of time (probably years) to produce new future schedule targets, and it&#39;s the sort of system that is resilient to missed invocations so I do think skipping invalid events is reasonable (mostly DST transitions)."}], "tags": [], "owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "is_accepted": true, "score": 3, "last_activity_date": 1577832222, "creation_date": 1577832222, "answer_id": 59548928, "question_id": 59548745, "link": "https://stackoverflow.com/questions/59548745/convert-discrete-non-utc-date-time-parts-to-a-utc-datetimeoffset/59548928#59548928", "title": "Convert discrete non-UTC date/time parts to a UTC DateTimeOffset", "body": "<p>Your implementation is fine, though you could use <code>DateTimeZone.Utc</code> instead of <code>utcTimeZone</code>.</p>\n\n<p>Here's another implementation that will give the same results:</p>\n\n<pre><code>DateTimeOffset target =\n    new LocalDateTime(year, month, day, hour, minute)\n        .InZoneStrictly(dataTimeZone)\n        .ToInstant()\n        .ToDateTimeOffset();\n</code></pre>\n\n<p>You might consider whether you actually <em>need</em> <code>DateTimeOffset</code> or not.  Unless you're calling to some other API that requires one, you could use an <code>OffsetDateTime</code> or just an <code>Instant</code> instead.</p>\n\n<p>As for the part about <code>InZoneStrictly</code>, consider that a user might pass in a perfectly valid set of date and time values that just happen to be ambiguous within the given time zone because they represent a local time during a backward transition (either for DST or change in standard time).  Do you really want to throw in such cases?</p>\n\n<p>Also, consider that if you have logic that applies a daily recurrence for the same time on multiple days, eventually you could run into an invalid time during the gap of a forward transition (again either for DST or change in standard time).</p>\n\n<p>In Noda Time 2.x, <a href=\"https://nodatime.org/2.4.x/api/NodaTime.LocalDateTime.html#NodaTime_LocalDateTime_InZoneLeniently_NodaTime_DateTimeZone_\" rel=\"nofollow noreferrer\"><code>InZoneLeniently</code></a> was updated to generally do the right thing in such scenarios (first occurrence of ambiguous values, skip ahead for invalid values).  Scheduling was a primary use case in this decision.</p>\n"}], "owner": {"reputation": 8121, "user_id": 152997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ae371690b3859dd1515ccf3e9ddc2ec8?s=128&d=identicon&r=PG", "display_name": "McGuireV10", "link": "https://stackoverflow.com/users/152997/mcguirev10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 59548928, "answer_count": 1, "score": 2, "last_activity_date": 1577832222, "creation_date": 1577829870, "question_id": 59548745, "link": "https://stackoverflow.com/questions/59548745/convert-discrete-non-utc-date-time-parts-to-a-utc-datetimeoffset", "title": "Convert discrete non-UTC date/time parts to a UTC DateTimeOffset", "body": "<p>When using Noda Time, is there a more direct way to go from a set of discrete non-UTC values (that is to say, separate year, month, day, hour, minute values) to a UTC DateTimeOffset variable? I'm doing the following in a loop and it seems a bit odd to create <code>LocalDateTime</code> then apply two different timezones in a row. </p>\n\n<pre><code>DateTimeOffset target = \n    new LocalDateTime(year, month, day, hour, minute)\n        .InZoneStrictly(dataTimeZone)\n        .WithZone(utcTimeZone)\n        .ToDateTimeOffset();\n</code></pre>\n\n<p>I realize I'm probably overthinking/micro-optimizing, but since I'm new to Noda Time I'm mostly asking in case there is a way with fewer steps or that is better in some way. (I'm aware <code>InZoneStrictly</code> can throw exceptions, this is actually related to a scheduling system, so I definitely don't want invalid or auto-adjusted results.)</p>\n"}, {"tags": ["c#", ".net-core", "custom-attributes"], "comments": [{"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 1, "creation_date": 1577829947, "post_id": 59548539, "comment_id": 105266519, "body": "Also check <a href=\"https://stackoverflow.com/questions/752/how-to-create-a-new-object-instance-from-a-type\" title=\"how to create a new object instance from a type\">stackoverflow.com/questions/752/&hellip;</a>"}, {"owner": {"reputation": 126, "user_id": 11891052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cde0632799959682a9d7150026369a8?s=128&d=identicon&r=PG&f=1", "display_name": "perustaja", "link": "https://stackoverflow.com/users/11891052/perustaja"}, "reply_to_user": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1577830365, "post_id": 59548539, "comment_id": 105266590, "body": "I had read the first post, however I wasn&#39;t sure how to move forward with accessing the methods. That second post may be the ticket, I&#39;ll test it right now."}, {"owner": {"reputation": 126, "user_id": 11891052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cde0632799959682a9d7150026369a8?s=128&d=identicon&r=PG&f=1", "display_name": "perustaja", "link": "https://stackoverflow.com/users/11891052/perustaja"}, "reply_to_user": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1577833170, "post_id": 59548539, "comment_id": 105267082, "body": "There was a comment here earlier about making these classes static. The problem is I want to have the flexibility of applying interfaces to them and some of these commands will have a repository injected for data access. Apologies for any confusion surrounded by not being explicit about that."}], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1577833848, "last_edit_date": 1577833848, "creation_date": 1577831585, "answer_id": 59548877, "question_id": 59548539, "link": "https://stackoverflow.com/questions/59548539/c-using-attributes-and-reflection-in-a-command-tool/59548877#59548877", "title": "C# - Using attributes and reflection in a command tool", "body": "<p>Using some code I wrote for <a href=\"https://stackoverflow.com/a/59294981/2557128\">this answer</a>, you can find all types that implement an <code>interface</code>, e.g. <code>IBotCommand</code>, and then retrieve the custom attribute:</p>\n\n<pre><code>public static class TypeExt {\n    public static bool IsBuiltin(this Type aType) =&gt; new[] { \"/dotnet/shared/microsoft\", \"/windows/microsoft.net\" }.Any(p =&gt; aType.Assembly.CodeBase.ToLowerInvariant().Contains(p));\n\n    static Dictionary&lt;Type, HashSet&lt;Type&gt;&gt; FoundTypes = null;\n    static List&lt;Type&gt; LoadableTypes = null;\n\n    public static void RefreshLoadableTypes() {\n        LoadableTypes = AppDomain.CurrentDomain.GetAssemblies().SelectMany(a =&gt; a.GetLoadableTypes()).ToList();\n        FoundTypes = new Dictionary&lt;Type, HashSet&lt;Type&gt;&gt;();\n    }\n\n    public static IEnumerable&lt;Type&gt; ImplementingTypes(this Type interfaceType, bool includeAbstractClasses = false, bool includeStructs = false, bool includeSystemTypes = false, bool includeInterfaces = false) {\n        if (FoundTypes != null &amp;&amp; FoundTypes.TryGetValue(interfaceType, out var ft))\n            return ft;\n        else {\n            if (LoadableTypes == null)\n                RefreshLoadableTypes();\n\n            var ans = LoadableTypes\n                       .Where(aType =&gt; (includeAbstractClasses || !aType.IsAbstract) &amp;&amp;\n                                       (includeInterfaces ? aType != interfaceType : !aType.IsInterface) &amp;&amp;\n                                       (includeStructs || !aType.IsValueType) &amp;&amp;\n                                       (includeSystemTypes || !aType.IsBuiltin()) &amp;&amp;\n                                       interfaceType.IsAssignableFrom(aType) &amp;&amp;\n                                       aType.GetInterfaces().Contains(interfaceType))\n                       .ToHashSet();\n\n            FoundTypes[interfaceType] = ans;\n\n            return ans;\n        }\n    }\n}\n\npublic static class AssemblyExt {\n    //https://stackoverflow.com/a/29379834/2557128\n    public static IEnumerable&lt;Type&gt; GetLoadableTypes(this Assembly assembly) {\n        if (assembly == null)\n            throw new ArgumentNullException(\"assembly\");\n        try {\n            return assembly.GetTypes();\n        }\n        catch (ReflectionTypeLoadException e) {\n            return e.Types.Where(t =&gt; t != null);\n        }\n    }\n}\n</code></pre>\n\n<p>Note: If you create types at runtime, you will need to run <code>RefreshLoadableTypes</code> to ensure they get returned.</p>\n\n<p>If you are concerned about <code>IBotCommand</code> implementors existing without the <code>CommandAttribute</code>, you can filter the <code>ImplementingTypes</code>, otherwise:</p>\n\n<pre><code>var botCommands = typeof(IBotCommand)\n                    .ImplementingTypes()\n                    .Select(t =&gt; new { Type = t, attrib = t.GetTypeInfo().GetCustomAttribute&lt;CommandAttribute&gt;(false) })\n                    .Select(ta =&gt; new {\n                        ta.Type,\n                        TriggerString = ta.attrib.TriggerString\n                    })\n                    .ToDictionary(tct =&gt; tct.TriggerString, tct =&gt; tct.Type);\n</code></pre>\n\n<p>With an extension method for your command <code>Type</code>s:</p>\n\n<pre><code>public static class CmdTypeExt {\n    public static Task ExecuteAction(this Type commandType) {\n        var cmdObj = (IBotCommand)Activator.CreateInstance(commandType);\n        return cmdObj.ExecuteAction();\n    }\n}\n</code></pre>\n\n<p>You can use the <code>Dictionary</code> like:</p>\n\n<pre><code>var cmdString = Console.ReadLine();\nif (botCommands.TryGetValue(cmdString, out var cmdType))\n    await cmdType.ExecuteAction();\n</code></pre>\n\n<p>Overall, I might suggest having a method attribute and having static methods in static classes for commands, so multiple (related?) commands can be bundled in a single class.</p>\n\n<p>PS My command interpreters have help associates with each command, and categories to group commands, so perhaps some more attribute parameters and/or another <code>IBotCommand</code> method to return a help string.</p>\n"}], "owner": {"reputation": 126, "user_id": 11891052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cde0632799959682a9d7150026369a8?s=128&d=identicon&r=PG&f=1", "display_name": "perustaja", "link": "https://stackoverflow.com/users/11891052/perustaja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 397, "favorite_count": 0, "closed_date": 1577853588, "answer_count": 1, "score": 2, "last_activity_date": 1577854829, "creation_date": 1577827375, "last_edit_date": 1577854829, "question_id": 59548539, "link": "https://stackoverflow.com/questions/59548539/c-using-attributes-and-reflection-in-a-command-tool", "closed_reason": "Duplicate", "title": "C# - Using attributes and reflection in a command tool", "body": "<p>I'm working on a command tool in C#, although not for a terminal command-line. I have read the documentation on reflection and attributes but I'm not sure exactly what the \"right\" way to go about this is.</p>\n\n<p>The problem isn't very complicated, but it needs to be easily extended. I need to just have Commands that are picked up and loaded in where their triggering strings are checked and if they match, methods are called. How I went about it just as a proof-of-concept was:</p>\n\n<pre><code>    [System.AttributeUsage(System.AttributeTargets.Class)]\n    public class CommandAttribute : Attribute\n    {\n        public string Name { get; private set; } //e.g Help\n        public string TriggerString { get; private set; } //e.g. help, but generally think ls, pwd, etc\n\n        public CommandAttribute(string name, string triggerStrings)\n        {\n            this.Name = name;\n            this.TriggerString = triggerString;\n        }\n    }\n</code></pre>\n\n<p>Now, I decorated the class and it will implement methods from an interface. Eventually there will be many commands and my idea is to make it easy for someone with minimal programming experience to jump in and make a command.</p>\n\n<pre><code>using Foo.Commands.Attributes;\nusing Foo.Infrastructure;\n\nnamespace Foo.Commands\n{\n    [Command(\"Help\", \"help\")]\n    public class Help : IBotCommand\n    {\n        // as an example, if the message's contents match up with this command's triggerstring\n        public async Task ExecuteAction()\n\n    }\n}\n</code></pre>\n\n<p>This gets injected into the console app where it will load the commands and get passed messages</p>\n\n<pre><code>    public interface ICommandHandler\n    {\n        Task LoadCommands();\n        Task CheckMessageForCommands();\n\n    }\n</code></pre>\n\n<p>Then, everything with a matching attribute will get loaded in and when a message is received, it will check its contents against all CommandAttribute decorated classes' triggering strings, and if it matches, call the method ExecuteAction on that command class.</p>\n\n<p>What I've seen/tried: I understand how to use reflection to get custom attribute data, however I'm confused as to getting the methods and calling them, and how all of this should be configured to be fairly performant with reflection being used. I see CLI tools and chat bots that use a similar method, I just cannot peek into their handlers to see how these get loaded in and I can't find a resource that explains how to go about accessing the <strong>methods</strong> of these classes. Attributes may not be the right answer here but I'm not sure how else to go about it.</p>\n\n<p>Really, my main question is:</p>\n\n<ul>\n<li>How do I setup The CommandHandler to load all of the attribute-decorated classes <strong>and</strong> call their methods, and how they should be instantiated within it. I know the second piece may be a bit more subjective but would newing them up be improper? Should they somehow be added to DI? </li>\n</ul>\n\n<hr>\n\n<p>My solution ended up just using the Activator and lists. I still need to tweak this for performance and run more extensive stress tests, but here is my quick code for it:</p>\n\n<pre><code>// for reference: DiscordCommandAttribute is in Foo.Commands library where all the commands are, so for now it's the target as I removed the base class\n// IDiscordCommand has every method needed, so casting it as that means down the line I can call my methods off of it. The base class was just for some reflection logic I was testing and was removed, so it's gone\n\npublic void LoadCommands() // called in ctor\n{\n    var commands =\n        from t in typeof(DiscordCommandAttribute).Assembly.GetTypes()\n        let attribute = t.GetCustomAttribute(typeof(DiscordCommandAttribute), true)\n        where attribute != null\n        select new { Type = t, Attribute = attribute };\n\n    foreach (var obj in commands)\n    {\n        _commandInstances.Add((IDiscordCommand)Activator.CreateInstance(obj.Type));\n        _commandAttributes.Add(obj.Attribute as DiscordCommandAttribute);\n    }\n}\n</code></pre>\n\n<p>There is probably a more sugary way to handle adding the objects to the lists, and some other data structure besides Lists might be more suitable, I'm just not sure if HashSet is right because it's not a direct Equals call. Eventually I will genericize the interface for this class and hide all of this logic in a base class. Still a lot of work to do.</p>\n\n<p>Currently, just putting a stopwatch start before calling LoadCommands shows that the entire load takes 4ms. This is with 3 classes and a pretty anemic attribute, but I'm not too worried about the scale as I want any overhead on launch and not during command handling.</p>\n"}, {"tags": ["c#", "sql", "entity-framework", "linq-to-sql"], "comments": [{"owner": {"reputation": 9368, "user_id": 1390548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee99f66a15a8e049467a0fca2b80eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jawad", "link": "https://stackoverflow.com/users/1390548/jawad"}, "edited": false, "score": 0, "creation_date": 1577827372, "post_id": 59548495, "comment_id": 105266084, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/12498564/using-linq-to-sql-asynchronously-with-new-async-await\">Using Linq to Sql asynchronously with new async/await</a>"}, {"owner": {"reputation": 452, "user_id": 9783864, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cbz4PFLg_dU/AAAAAAAAAAI/AAAAAAAAAQ8/VDhI5_a6Fx8/photo.jpg?sz=128", "display_name": "David Edel", "link": "https://stackoverflow.com/users/9783864/david-edel"}, "reply_to_user": {"reputation": 9368, "user_id": 1390548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee99f66a15a8e049467a0fca2b80eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jawad", "link": "https://stackoverflow.com/users/1390548/jawad"}, "edited": false, "score": 0, "creation_date": 1577827567, "post_id": 59548495, "comment_id": 105266126, "body": "No, my question is not about async await, it is about the matching 2 properties using the .any on my list"}], "answers": [{"comments": [{"owner": {"reputation": 452, "user_id": 9783864, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cbz4PFLg_dU/AAAAAAAAAAI/AAAAAAAAAQ8/VDhI5_a6Fx8/photo.jpg?sz=128", "display_name": "David Edel", "link": "https://stackoverflow.com/users/9783864/david-edel"}, "edited": false, "score": 0, "creation_date": 1577827746, "post_id": 59548569, "comment_id": 105266150, "body": "This won&#39;t work because I need it to match on both properties from the same object"}, {"owner": {"reputation": 452, "user_id": 9783864, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cbz4PFLg_dU/AAAAAAAAAAI/AAAAAAAAAQ8/VDhI5_a6Fx8/photo.jpg?sz=128", "display_name": "David Edel", "link": "https://stackoverflow.com/users/9783864/david-edel"}, "edited": false, "score": 0, "creation_date": 1577828704, "post_id": 59548569, "comment_id": 105266302, "body": "Nice :) Love the creativity! It might actually work but feels like a hack to me, just wondering if there&#39;s a more official way"}], "tags": [], "owner": {"reputation": 1392, "user_id": 10818730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/118aa2b192964f9add06223ab97e47bd?s=128&d=identicon&r=PG&f=1", "display_name": "Hadi Samadzad", "link": "https://stackoverflow.com/users/10818730/hadi-samadzad"}, "is_accepted": false, "score": 1, "last_activity_date": 1577828463, "last_edit_date": 1577828463, "creation_date": 1577827680, "answer_id": 59548569, "question_id": 59548495, "link": "https://stackoverflow.com/questions/59548495/match-2-property-of-any-object-in-local-list-using-linq/59548569#59548569", "title": "Match 2 property of any object in local list using Linq", "body": "<p>Try this:</p>\n\n<pre><code>var localIdPairs = listOfOrderItems.Select(x =&gt; x.OrderId + \"-\" + x.ProductionItemId).ToList();\n\nvar results = await db.InventoryItems\n          .Where(d =&gt; !d.DeleteFlag &amp;&amp; \n                      localIdPairs.Contains(d.OrderId + \"-\" + d.ProductionItemId))\n          .Select(t =&gt; t.InventoryItemID).ToListAsync();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 452, "user_id": 9783864, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cbz4PFLg_dU/AAAAAAAAAAI/AAAAAAAAAQ8/VDhI5_a6Fx8/photo.jpg?sz=128", "display_name": "David Edel", "link": "https://stackoverflow.com/users/9783864/david-edel"}, "is_accepted": true, "score": 1, "last_activity_date": 1577976235, "creation_date": 1577976235, "answer_id": 59565217, "question_id": 59548495, "link": "https://stackoverflow.com/questions/59548495/match-2-property-of-any-object-in-local-list-using-linq/59565217#59565217", "title": "Match 2 property of any object in local list using Linq", "body": "<p>Looking further into the error I found this error: </p>\n\n<blockquote>\n  <p>Only primitive types or enumeration types are supported in this context.</p>\n</blockquote>\n\n<p>My collection listOfOrderItems was of type List, changing it to IEnumerable fixed my problem</p>\n"}], "owner": {"reputation": 452, "user_id": 9783864, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cbz4PFLg_dU/AAAAAAAAAAI/AAAAAAAAAQ8/VDhI5_a6Fx8/photo.jpg?sz=128", "display_name": "David Edel", "link": "https://stackoverflow.com/users/9783864/david-edel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 59565217, "answer_count": 2, "score": 2, "last_activity_date": 1577976235, "creation_date": 1577826935, "last_edit_date": 1577829796, "question_id": 59548495, "link": "https://stackoverflow.com/questions/59548495/match-2-property-of-any-object-in-local-list-using-linq", "title": "Match 2 property of any object in local list using Linq", "body": "<pre><code>    public class OrderItem\n    {\n        public int OrderID { get; set; }\n        public int ProductionID { get; set; }\n    }\n\n    public class InventoryItem\n    {\n        public int InventoryItemID{ get; set; }\n        public int OrderID { get; set; }\n        public int ProductionID { get; set; }\n        public bool Created { get; set; }\n        public bool Deleted { get; set; }\n    }\n</code></pre>\n\n<p>Using these example objects,</p>\n\n<p>I have a local list of orderItems and want  to query inventory items where OrderID and ProductionID matches on both properties any of my list of Order Items</p>\n\n<p>I tried linq query below but I am getting an error</p>\n\n<p>Query I am trying:</p>\n\n<pre><code>    var results = await db.InventoryItems.Where(d =&gt;\n                  listOfOrderItems.Any(o =&gt; o.OrderID == d.OrderID &amp;&amp; !d.DeleteFlag &amp;&amp; d.ProductionId == o.ProductionItemId))\n                  .Select(t =&gt; t.InventoryItemID).ToListAsync();\n</code></pre>\n\n<blockquote>\n  <p>Exception thrown: 'System.NotSupportedException' in EntityFramework.SqlServer.dll</p>\n</blockquote>\n\n<p>EDIT\ni am being referred to this question:<a href=\"https://stackoverflow.com/questions/12498564/using-linq-to-sql-asynchronously-with-new-async-await\">Using Linq to Sql asynchronously with new async/await</a></p>\n\n<p>But my question is not about async await, it is about the matching 2 properties using the .any on my list</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-web-api2", "asp.net-web-api-routing"], "answers": [{"comments": [{"owner": {"reputation": 2574, "user_id": 5216651, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/d5afb8df66b98797e5bd9bfe1b0e5dcd?s=128&d=identicon&r=PG&f=1", "display_name": "Caverman", "link": "https://stackoverflow.com/users/5216651/caverman"}, "edited": false, "score": 0, "creation_date": 1577827312, "post_id": 59548445, "comment_id": 105266069, "body": "I added this to the top of the action but didn&#39;t seem to work either. Same message that is can&#39;t find the route. [HttpPost]         [Route(&quot;api/IDM&quot;)]"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 2574, "user_id": 5216651, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/d5afb8df66b98797e5bd9bfe1b0e5dcd?s=128&d=identicon&r=PG&f=1", "display_name": "Caverman", "link": "https://stackoverflow.com/users/5216651/caverman"}, "edited": false, "score": 0, "creation_date": 1577827386, "post_id": 59548445, "comment_id": 105266088, "body": "@Caverman recheck the provided answer carefully. Note the attributes used and also that the action should not be <code>static</code>"}, {"owner": {"reputation": 2574, "user_id": 5216651, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/d5afb8df66b98797e5bd9bfe1b0e5dcd?s=128&d=identicon&r=PG&f=1", "display_name": "Caverman", "link": "https://stackoverflow.com/users/5216651/caverman"}, "edited": false, "score": 1, "creation_date": 1577976365, "post_id": 59548445, "comment_id": 105298229, "body": "Thanks for the help! Went back and looked through what I was doing and read the answer again. Added the Route and RoutePrefix like you said and removed the static declaration. At first it didn&#39;t work but thankfully you mentioned it should be ApiController. That made me go back and look that I was inheriting from a BaseController and that controller was a &quot;Controller&quot; type and not &quot;ApiController&quot;. Changed to ApiController and it worked. Good learning moment for me!"}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 2, "last_activity_date": 1577826832, "last_edit_date": 1577826832, "creation_date": 1577826449, "answer_id": 59548445, "question_id": 59548369, "link": "https://stackoverflow.com/questions/59548369/not-able-to-find-web-api-route/59548445#59548445", "title": "Not able to find Web API route?", "body": "<p>Actions must be instance members of the <code>ApiController</code>, not <code>static</code>.</p>\n\n<pre><code>[HttpPost]\npublic DuplicateCheck CheckForDuplicateID([FromBody] DuplicateCheck m) {\n    ....code \n}\n</code></pre>\n\n<p>Since attribute routing is enabled with </p>\n\n<pre><code>config.MapHttpAttributeRoutes();\n</code></pre>\n\n<p>consider using attribute routing on the API controller to get the desired behavior</p>\n\n<pre><code>[RoutePrefix(\"api/IDM\")]\npublic class IDMController : ApiController {\n\n    //...\n\n    //POST api/IDM/CheckForDuplicateID\n    [HttpPost]\n    [Route(\"CheckForDuplicateID\")]\n    public DuplicateCheck CheckForDuplicateID([FromBody] DuplicateCheck m) {\n        ....code \n    }\n}\n</code></pre>\n\n<p>Reference <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/web-api-routing-and-actions/attribute-routing-in-web-api-2\" rel=\"nofollow noreferrer\">Attribute Routing in ASP.NET Web API 2</a></p>\n"}], "owner": {"reputation": 2574, "user_id": 5216651, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/d5afb8df66b98797e5bd9bfe1b0e5dcd?s=128&d=identicon&r=PG&f=1", "display_name": "Caverman", "link": "https://stackoverflow.com/users/5216651/caverman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 59548445, "answer_count": 1, "score": 2, "last_activity_date": 1577826832, "creation_date": 1577825613, "question_id": 59548369, "link": "https://stackoverflow.com/questions/59548369/not-able-to-find-web-api-route", "title": "Not able to find Web API route?", "body": "<p>I\u2019m struggling to figure out why I can\u2019t get to an API end point. I\u2019m building a Web API that will be calling another local API and from everything I see it should be getting to the end point and I\u2019m looking for any ideas. </p>\n\n<p>This is the code in the originating API. I\u2019m using RestSharp to make the call. </p>\n\n<pre><code>string jsonToSend = JsonConvert.SerializeObject(m);\n\nvar request = new RestRequest(\"CheckForDuplicateID\", Method.POST);     \nrequest.AddParameter(\"application/json; charset=utf-8\", jsonToSend, ParameterType.RequestBody);\nrequest.RequestFormat = DataFormat.Json;\nrequest.AddParameter(\"CandidateID\", m.CandidateID);     \nrequest.AddParameter(\"FirstName\", m.FirstName);         \nrequest.AddParameter(\"LastName\", m.LastName);\n\nvar client = new RestClient(\"http://localhost:60077/api/IDM/\");\nvar content = client.Execute(request).Content;\n</code></pre>\n\n<p>This is the end point in the secondary API where I'm trying to get to.</p>\n\n<pre><code>[HttpPost]\npublic static DuplicateCheck CheckForDuplicateID([FromBody] DuplicateCheck m)\n{\n    ....code \n}\n</code></pre>\n\n<p>This is my RouteConfig.cs file. I've tried both routes and neither one works. </p>\n\n<pre><code>public static void Register(HttpConfiguration config)\n{\n    // Web API configuration and services\n\n    // Web API routes\n    config.MapHttpAttributeRoutes();\n\n    config.Routes.MapHttpRoute(\n        name: \"DefaultApi\",\n        routeTemplate: \"api/{controller}/{action}/{id}\",\n        defaults: new { id = RouteParameter.Optional }\n\n    //config.Routes.MapHttpRoute(\n    //    name: \"DefaultApi\",\n    //    routeTemplate: \"api/{controller}/{id}\",\n    //    defaults: new { id = RouteParameter.Optional }\n    );\n}\n</code></pre>\n\n<p>When I fire up the secondary API locally it is running on <code>localhost:60077</code> which I hard coded above. The name of my controller is IDMController and this is the message I get but the URL looks correct to me.</p>\n\n<pre><code>{\"Message\":\"No HTTP resource was found that matches the request URI 'http://localhost:60077/api/IDM/CheckForDuplicateID'.\",\"MessageDetail\":\"No type was found that matches the controller named 'IDM'.\"}\n</code></pre>\n"}, {"tags": ["c#", "webcam", "frame-rate", "aforge"], "owner": {"reputation": 973, "user_id": 1816035, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/11670595b1e0dcf9543465e6e01867ca?s=128&d=identicon&r=PG", "display_name": "Artik", "link": "https://stackoverflow.com/users/1816035/artik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577823869, "creation_date": 1577823869, "question_id": 59548201, "link": "https://stackoverflow.com/questions/59548201/aforge-incomplete-list-of-videocapabilities-high-frame-rate", "title": "AForge - incomplete list of VideoCapabilities - high frame rate", "body": "<p>I use AForge and C # to record video from a Logitech BRIO webcam connected via USB. I want to get about 60 fps. This camera can do such registration - other applications give such possibility for it. AForge does not allow to choose VideoCapabilities with this frame rate (list is incomplete). I mean option with AverageFrameRate=60 fps (about MaximumFrameRate AForge gives information e.g. 120 fps). These settings in other applications are not related to the low number of bits per pixel as I read in other threads.Where is the problem and how to solve it?\nI understand that if VideoCapabilities has two options with the same resolution, only one of them will be shown - the one with the most bits per pixel. Is it possible to choose the second one (with fewer bits per pixel)?</p>\n"}, {"tags": ["c#", "namespaces", "using"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1577825632, "post_id": 59548196, "comment_id": 105265765, "body": "You have to add the cs to the project.  The using statement is the library name and has nothing to do with the path where the file is located.  To add the cs file to project using VS menu : Project : Add Existing Item : Browse towards the cs file.  Once the file is added you can then add the namespace to other modules."}], "answers": [{"comments": [{"owner": {"reputation": 682, "user_id": 11910061, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-czXVN3O10b4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdbS1o35yUSm8tuni-qR9bT0UVjqw/photo.jpg?sz=128", "display_name": "Tee Zad Awk", "link": "https://stackoverflow.com/users/11910061/tee-zad-awk"}, "edited": false, "score": 0, "creation_date": 1577824335, "post_id": 59548232, "comment_id": 105265511, "body": "<code>or in another project that your current project has a reference to</code>. Does this mean I need to <code>dotnet new console</code> in the <code>Utilities</code> folder, and include a <code>&lt;PackageRefernce&gt;</code> and <code>Include</code> directive in the <code>Project</code> folder&#39;s <code>Project.csproj</code> file?"}, {"owner": {"reputation": 24411, "user_id": 292411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8fdeba51c2ba145110541a5bb19696?s=128&d=identicon&r=PG&f=1", "display_name": "C.Evenhuis", "link": "https://stackoverflow.com/users/292411/c-evenhuis"}, "reply_to_user": {"reputation": 682, "user_id": 11910061, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-czXVN3O10b4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdbS1o35yUSm8tuni-qR9bT0UVjqw/photo.jpg?sz=128", "display_name": "Tee Zad Awk", "link": "https://stackoverflow.com/users/11910061/tee-zad-awk"}, "edited": false, "score": 1, "creation_date": 1577824477, "post_id": 59548232, "comment_id": 105265542, "body": "I <i>think</i> you just want to add <code>StringHandler.cs</code> to the <code>Project.csproj</code> project, unless you want to put these utilities in a separate dll."}, {"owner": {"reputation": 682, "user_id": 11910061, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-czXVN3O10b4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdbS1o35yUSm8tuni-qR9bT0UVjqw/photo.jpg?sz=128", "display_name": "Tee Zad Awk", "link": "https://stackoverflow.com/users/11910061/tee-zad-awk"}, "edited": false, "score": 0, "creation_date": 1577824560, "post_id": 59548232, "comment_id": 105265557, "body": "I want them in a separate dll. But does it make sense to keep them in a separate dll? I want to store utility methods and extension methods separately from my business logic and I find that keeping them separate helps to add a mental barrier.  I did exactly what I mentioned above and it worked without issue. Looks like the csproj files are key. As long as their location is specified there, everything else should be fine (with the namespace included). I did the following in Project.csproj:    <code>&lt;ItemGroup&gt;     &lt;ProjectReference Include=&quot;..\\Utilities\\Utilities.csproj&quot; &#47;&gt;   &lt;&#47;ItemGroup&gt;</code>"}, {"owner": {"reputation": 1307, "user_id": 1847554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/955b15518d072b1c163b5cf04939c84a?s=128&d=identicon&r=PG", "display_name": "Roman.Pavelko", "link": "https://stackoverflow.com/users/1847554/roman-pavelko"}, "edited": false, "score": 0, "creation_date": 1577824941, "post_id": 59548232, "comment_id": 105265627, "body": "for such purposes you need to create a separate library project and reference this project everywhere you need, adding project reference, this will allow to use include project namespace with <code>using</code>"}, {"owner": {"reputation": 24411, "user_id": 292411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8fdeba51c2ba145110541a5bb19696?s=128&d=identicon&r=PG&f=1", "display_name": "C.Evenhuis", "link": "https://stackoverflow.com/users/292411/c-evenhuis"}, "edited": false, "score": 0, "creation_date": 1577894464, "post_id": 59548232, "comment_id": 105276338, "body": "If you have a bunch of related functionality, it would definitely make sense to put them in a separate dll for reuse (for instance, take a look at <a href=\"https://github.com/Humanizr/Humanizer#humanize-string\" rel=\"nofollow noreferrer\">github.com/Humanizr/Humanizer#humanize-string</a> (not my project), a dll  that contains all kinds of features similar to your extension method)."}], "tags": [], "owner": {"reputation": 24411, "user_id": 292411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8fdeba51c2ba145110541a5bb19696?s=128&d=identicon&r=PG&f=1", "display_name": "C.Evenhuis", "link": "https://stackoverflow.com/users/292411/c-evenhuis"}, "is_accepted": true, "score": 2, "last_activity_date": 1577824123, "creation_date": 1577824123, "answer_id": 59548232, "question_id": 59548196, "link": "https://stackoverflow.com/questions/59548196/how-can-i-import-a-namespace-from-a-file-in-a-seperate-folder-in-c/59548232#59548232", "title": "How can I Import A Namespace from A File in A Seperate Folder in C#", "body": "<p>The folder in which a <code>.cs</code> file is located has no meaning during compilation. The <code>using</code> statement just allows types from a certain namespace to be found. To be able to use the extension method, make sure that:</p>\n\n<ul>\n<li>The namespace is included (<code>using Utilities;</code>)</li>\n<li>The file (<code>StringHandler.cs</code>) is included in your project <em>or</em> in another project that your current project has a reference to</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 14634, "user_id": 64348, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/h3b3u.png?s=128&g=1", "display_name": "Kit", "link": "https://stackoverflow.com/users/64348/kit"}, "is_accepted": false, "score": 0, "last_activity_date": 1577826790, "creation_date": 1577826790, "answer_id": 59548480, "question_id": 59548196, "link": "https://stackoverflow.com/questions/59548196/how-can-i-import-a-namespace-from-a-file-in-a-seperate-folder-in-c/59548480#59548480", "title": "How can I Import A Namespace from A File in A Seperate Folder in C#", "body": "<blockquote>\n  <p>How do I bring into the current namespace an extension method (see below) into scope, when the file this class is defined in is in another folder?</p>\n</blockquote>\n\n<p>Where the file is defined, folder-wise, is irrelevant. By convention, the folder structure on disk mimics the namespace, but it does not have to. A <code>using</code> \"brings\" a type into the namespace. (Not really \"brings\" -- more like \"makes available to\").</p>\n\n<p>As far as the source type being available to the namespace in the target project, it has to be available physically to your project via a</p>\n\n<ul>\n<li>direct reference to the source project from the target project</li>\n<li>direct reference to a source NuGet package from the target project</li>\n<li>indirect reference to the source project via a transitive dependency of another project from the target project</li>\n<li>indirect reference to the source NuGet package via a transitive dependency of another project or NuGet package from the target project</li>\n</ul>\n\n<p>and logically by</p>\n\n<ul>\n<li>a <code>using</code> statement to the source type</li>\n</ul>\n\n<blockquote>\n  <p>When StringHandler.cs is in the Product folder, I can include using Utilities; in Product.cs, but when it is in a separate folder, alongside the Project folder (in the Utilities folder), I can't figure out how to include it. Can someone please explain how I can use the using keyword in this case?</p>\n</blockquote>\n\n<p>You can't use a <code>using</code> to get to <code>StringHandler</code> as you've currently defined your structure. The reason is that <code>StringHandler</code> is <em>not</em> a part of any project. Because it's not a part of any project, it violates the rules I listed above.</p>\n\n<p>To use the <code>using</code> as you expect, you have two simple choices in your case:</p>\n\n<ul>\n<li>add <code>StringHandler</code> directly to the project that needs it, or if you want <code>StringHandler</code> to be separate, add it to another project and reference that project from the target project.</li>\n<li>with a little more Kung Fu, leave <code>StringHandler</code> where it is (project-less) and include a <em>link</em> to that file in the target project. This is cheating a little bit: it makes it look like <code>StringHandler</code> was in <code>Project</code> all along. This case is rare; I personally only do this when I want to include, for example, common assembly attributes, not common <em>code</em>.</li>\n</ul>\n\n<blockquote>\n  <p>For instance, where is using really pointing to on my file system (do I need to specify the using directory relative to my csproj file or to my CallCenter.sln file?)?</p>\n</blockquote>\n\n<p>Again, forget about the directory/folder/disk structure. Only think about the in-solution physical references (project/NuGet based) and logical references (namespace-based). They usually match the directory/folder/disk, but they don't have to.</p>\n"}], "owner": {"reputation": 682, "user_id": 11910061, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-czXVN3O10b4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdbS1o35yUSm8tuni-qR9bT0UVjqw/photo.jpg?sz=128", "display_name": "Tee Zad Awk", "link": "https://stackoverflow.com/users/11910061/tee-zad-awk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "accepted_answer_id": 59548232, "answer_count": 2, "score": 1, "last_activity_date": 1577826790, "creation_date": 1577823800, "last_edit_date": 1577824141, "question_id": 59548196, "link": "https://stackoverflow.com/questions/59548196/how-can-i-import-a-namespace-from-a-file-in-a-seperate-folder-in-c", "title": "How can I Import A Namespace from A File in A Seperate Folder in C#", "body": "<p>How do I bring into the current namespace an extension method (see below) into scope, when the file this class is defined in is in another folder? </p>\n\n<p>When <code>StringHandler.cs</code> is in the <code>Product</code> folder, I can include <code>using Utilities;</code> in <code>Product.cs</code>, but when it is in a separate folder, alongside the <code>Project</code> folder (in the <code>Utilities</code> folder), I can't figure out how to include it. Can someone please explain how I can use the using keyword in this case? For instance, where is <code>using</code> really pointing to on my file system (do I need to specify the using directory relative to my <code>csproj</code> file or to my <code>CallCenter.sln</code> file?)?</p>\n\n<pre><code>\u2502   CallCenter.sln\n\u2502\n\u251c\u2500\u2500\u2500src\n\u2502   \u251c\u2500\u2500\u2500Project\n\u2502   \u2502   \u2502   Product.cs\n|   |   |   Project.csproj\n\u2502   \u2502   \u251c\u2500\u2500\u2500bin\n\u2502   \u2502   \u2502   \u2514\u2500\u2500\u2500...\n\u2502   \u2502   \u2502\n\u2502   \u2502   \u2514\u2500\u2500\u2500obj\n\u2502   \u2502       \u2514\u2500\u2500\u2500...         \n\u2502   \u2502\n\u2502   \u2514\u2500\u2500\u2500Utilities\n\u2502           StringHandler.cs\n</code></pre>\n\n<p><strong>StringHandler.cs</strong></p>\n\n<pre><code>namespace Utilities\n{\n    public static class StringHandler\n    {\n        public static string InsertSpaces(this string source)\n        {\n            string result = string.Empty;\n\n            if (!string.IsNullOrWhiteSpace(source))\n            {\n                foreach (char letter in source)\n                {\n                    if (char.IsUpper(letter))\n                    {\n                        result = result.Trim();\n                        result += \" \";\n                    }\n                    result += letter;\n                }\n            }\n            return result.Trim();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc-5", "asp.net-identity", "adfs", "ws-federation"], "answers": [{"tags": [], "owner": {"reputation": 620, "user_id": 1469683, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sCCpd.jpg?s=128&g=1", "display_name": "Clint Warner", "link": "https://stackoverflow.com/users/1469683/clint-warner"}, "is_accepted": true, "score": 1, "last_activity_date": 1578425221, "creation_date": 1578425221, "answer_id": 59634874, "question_id": 59548121, "link": "https://stackoverflow.com/questions/59548121/how-to-add-an-adfs-user-to-aspnetusers-in-identity/59634874#59634874", "title": "How to add an ADFS user to `AspNetUsers` in Identity?", "body": "<p>Through a significant amount of extended research, I was able to figure out what my problem was. Please reference my answer <a href=\"https://stackoverflow.com/questions/27506913/mvc5-owin-ws-federation-authenticationmanager-getexternallogininfoasync-return/59633933#59633933\">here</a>.</p>\n"}], "owner": {"reputation": 620, "user_id": 1469683, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sCCpd.jpg?s=128&g=1", "display_name": "Clint Warner", "link": "https://stackoverflow.com/users/1469683/clint-warner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 59634874, "answer_count": 1, "score": 0, "last_activity_date": 1578425221, "creation_date": 1577823089, "question_id": 59548121, "link": "https://stackoverflow.com/questions/59548121/how-to-add-an-adfs-user-to-aspnetusers-in-identity", "title": "How to add an ADFS user to `AspNetUsers` in Identity?", "body": "<p>We have an on premises ADFS server that we have been successfully using to \"authenticate\" users on our web apps. However, it seems that this is working by pure magic, and is not functioning as it should.</p>\n\n<h2>Goal</h2>\n\n<p>My goal is to have Identity set up on the web app and add ADFS as an external provider. If a user logs in via ADFS, a new Identity account will be created in <code>AspNetUsers</code>, and an entry will be added to <code>AspNetUserLogins</code> linking the AD account used to the Identity account just created.</p>\n\n<h2>Current Behavior</h2>\n\n<p>Right now, my users are sent to the ADFS page and log in. Upon returning to my app, the <code>ExternalLoginCallback</code> function is called, <code>loginData</code> is set to <code>NULL</code>, and the if statement exits the method. For some reason, it still authenticates the user though, and they have full default access to the app. There is just no record of that user in Identity, and I cannot set up roles or 2FA for the account.</p>\n\n<h2>Question</h2>\n\n<p>How can I change what I am currently doing in order to get this to function as desired?</p>\n\n<h2>Code</h2>\n\n<p><strong>Startup.Auth.cs</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Configuration;\nusing System.Globalization;\nusing System.Linq;\nusing System.Security.Claims;\nusing System.Threading.Tasks;\nusing System.Web;\nusing Microsoft.AspNet.Identity;\nusing Microsoft.AspNet.Identity.Owin;\nusing Microsoft.Owin;\nusing Microsoft.Owin.Security;\nusing Microsoft.Owin.Security.Cookies;\nusing Microsoft.Owin.Security.WsFederation;\nusing Owin;\nusing TexasRelocation.Models;\n\nnamespace TexasRelocation\n{\n    public partial class Startup\n    {\n        private static string realm = ConfigurationManager.AppSettings[\"ida:Wtrealm\"];\n        private static string adfsMetadata = ConfigurationManager.AppSettings[\"ida:ADFSMetadata\"];\n        private static string reply = ConfigurationManager.AppSettings[\"ida:Wreply\"];\n\n        public void ConfigureAuth(IAppBuilder app)\n        {\n            // Configure the db context, user manager and signin manager to use a single instance per request\n            app.CreatePerOwinContext(ApplicationDbContext.Create);\n            app.CreatePerOwinContext&lt;ApplicationUserManager&gt;(ApplicationUserManager.Create);\n            app.CreatePerOwinContext&lt;ApplicationSignInManager&gt;(ApplicationSignInManager.Create);\n            app.CreatePerOwinContext&lt;ApplicationRoleManager&gt;(ApplicationRoleManager.Create);\n\n            // Enable the application to use a cookie to store information for the signed in user\n            // and to use a cookie to temporarily store information about a user logging in with a third party login provider\n            // Configure the sign in cookie\n            app.UseCookieAuthentication(new CookieAuthenticationOptions\n            {\n                AuthenticationType = DefaultAuthenticationTypes.ApplicationCookie,\n                LoginPath = new PathString(\"/Account/Login\"),\n                Provider = new CookieAuthenticationProvider\n                {\n                    // Enables the application to validate the security stamp when the user logs in.\n                    // This is a security feature which is used when you change a password or add an external login to your account.  \n                    OnValidateIdentity = SecurityStampValidator.OnValidateIdentity&lt;ApplicationUserManager, ApplicationUser&gt;(\n                        validateInterval: TimeSpan.FromMinutes(30),\n                        regenerateIdentity: (manager, user) =&gt; user.GenerateUserIdentityAsync(manager))\n                }\n            });\n            app.UseExternalSignInCookie(DefaultAuthenticationTypes.ExternalCookie);\n\n            // Enables the application to temporarily store user information when they are verifying the second factor in the two-factor authentication process.\n            app.UseTwoFactorSignInCookie(DefaultAuthenticationTypes.TwoFactorCookie, TimeSpan.FromMinutes(5));\n\n            // Enables the application to remember the second login verification factor such as phone or email.\n            // Once you check this option, your second step of verification during the login process will be remembered on the device where you logged in from.\n            // This is similar to the RememberMe option when you log in.\n            app.UseTwoFactorRememberBrowserCookie(DefaultAuthenticationTypes.TwoFactorRememberBrowserCookie);\n\n\n            app.SetDefaultSignInAsAuthenticationType(CookieAuthenticationDefaults.AuthenticationType);\n\n            app.UseCookieAuthentication(new CookieAuthenticationOptions());\n\n            app.UseWsFederationAuthentication(\n                new WsFederationAuthenticationOptions\n                {\n                    Wtrealm = realm,\n                    MetadataAddress = adfsMetadata,\n                    Wreply = reply,\n\n                    Notifications = new WsFederationAuthenticationNotifications()\n                    {\n                        SecurityTokenValidated = notification =&gt;\n                        {\n                            //string employeeID = \"\";\n                            string upn = \"\";\n                            foreach (var claim in notification.AuthenticationTicket.Identity.Claims)\n                            {\n                                //if (claim.Type == \"employeeID\") \n                                //{\n                                //    employeeID = claim.Value;\n                                //}\n                                if (claim.Type == ClaimTypes.Upn)\n                                {\n                                    upn = claim.Value;\n                                }\n                            }\n\n                            ClaimsIdentity identity = notification.AuthenticationTicket.Identity;\n                            //identity.AddClaim(new Claim(\"employeeID\", employeeID));\n                            identity.AddClaim(new Claim(ClaimTypes.Upn, upn));\n\n                            return Task.FromResult(0);\n                        }\n                    }\n                });\n        }\n    }\n}\n</code></pre>\n\n<p><strong>AccountController.cs</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Globalization;\nusing System.Linq;\nusing System.Security.Claims;\nusing System.Threading.Tasks;\nusing System.Web;\nusing System.Web.Mvc;\nusing System.IdentityModel;\nusing Microsoft.AspNet.Identity;\nusing Microsoft.AspNet.Identity.EntityFramework;\nusing Microsoft.AspNet.Identity.Owin;\nusing Microsoft.Owin.Security;\nusing TexasRelocation.Models;\n\nnamespace TexasRelocation.Controllers\n{\n    [Authorize]\n    public class AccountController : Controller\n    {\n        private ApplicationSignInManager _signInManager;\n        private ApplicationUserManager _userManager;\n        private ApplicationRoleManager _roleManager;\n        ApplicationDbContext context;\n\n        public AccountController()\n        {\n            context = new ApplicationDbContext();\n        }\n\n        public AccountController(ApplicationUserManager userManager, ApplicationSignInManager signInManager, ApplicationRoleManager roleManager)\n        {\n            UserManager = userManager;\n            SignInManager = signInManager;\n            RoleManager = roleManager;\n        }\n\n        public ApplicationSignInManager SignInManager\n        {\n            get\n            {\n                return _signInManager ?? HttpContext.GetOwinContext().Get&lt;ApplicationSignInManager&gt;();\n            }\n            private set\n            {\n                _signInManager = value;\n            }\n        }\n\n        public ApplicationUserManager UserManager\n        {\n            get\n            {\n                return _userManager ?? HttpContext.GetOwinContext().GetUserManager&lt;ApplicationUserManager&gt;();\n            }\n            private set\n            {\n                _userManager = value;\n            }\n        }\n\n        public ApplicationRoleManager RoleManager\n        {\n            get\n            {\n                return _roleManager ?? HttpContext.GetOwinContext().Get&lt;ApplicationRoleManager&gt;();\n            }\n            private set\n            {\n                _roleManager = value;\n            }\n        }\n\n        //\n        // GET: /Account/Login\n        [AllowAnonymous]\n        public ActionResult Login(string returnUrl)\n        {\n            if (User.Identity.IsAuthenticated)\n            {\n                return RedirectToAction(\"Index\", \"Home\");\n            }\n\n            ViewBag.ReturnUrl = returnUrl;\n            return View();\n        }\n\n        //\n        // POST: /Account/Login\n        [HttpPost]\n        [AllowAnonymous]\n        [ValidateAntiForgeryToken]\n        public async Task&lt;ActionResult&gt; Login(LoginViewModel model, string returnUrl)\n        {\n            if (!ModelState.IsValid)\n            {\n                return View(model);\n            }\n\n            // This doesn't count login failures towards account lockout\n            // To enable password failures to trigger account lockout, change to shouldLockout: true\n            var result = await SignInManager.PasswordSignInAsync(model.Email, model.Password, model.RememberMe, shouldLockout: false);\n            switch (result)\n            {\n                case SignInStatus.Success:\n                    return RedirectToLocal();\n                case SignInStatus.LockedOut:\n                    return View(\"Lockout\");\n                case SignInStatus.RequiresVerification:\n                    return RedirectToAction(\"SendCode\", new { ReturnUrl = returnUrl, RememberMe = model.RememberMe });\n                case SignInStatus.Failure:\n                default:\n                    ModelState.AddModelError(\"\", \"Invalid login attempt.\");\n                    return View(model);\n            }\n        }\n\n        //\n        // POST: /Account/ExternalLogin\n        [HttpPost]\n        [AllowAnonymous]\n        [ValidateAntiForgeryToken]\n        public ActionResult ExternalLogin(string provider, string returnUrl)\n        {\n            // Request a redirect to the external login provider\n            return new ChallengeResult(provider, Url.Action(\"ExternalLoginCallback\", \"Account\", new { ReturnUrl = returnUrl }));\n            }\n\n        // GET: /Account/ExternalLoginCallback \n        [AllowAnonymous]\n        public async Task&lt;ActionResult&gt; ExternalLoginCallback(string returnUrl)\n        {\n            var loginInfo = await AuthenticationManager.GetExternalLoginInfoAsync();\n            if (loginInfo == null)\n            {\n                return RedirectToAction(\"Login\");\n            }\n\n            // Sign in the user with this external login provider if the user already has a login \n            var result = await SignInManager.ExternalSignInAsync(loginInfo, isPersistent: false);\n            switch (result)\n            {\n                case SignInStatus.Success:\n                    return RedirectToLocal();\n                case SignInStatus.LockedOut:\n                    return View(\"Lockout\");\n                case SignInStatus.RequiresVerification:\n                    return RedirectToAction(\"SendCode\", new { ReturnUrl = returnUrl, RememberMe = false });\n                case SignInStatus.Failure:\n                default:\n                    // If the user does not have an account, then prompt the user to create an account \n                    ViewBag.ReturnUrl = returnUrl;\n                    ViewBag.LoginProvider = loginInfo.Login.LoginProvider;\n                    return View(\"ExternalLoginConfirmation\", new ExternalLoginConfirmationViewModel { Email = loginInfo.Email });\n            }\n        }\n\n        //\n        // GET: /Account/ExternalLoginFailure\n        [AllowAnonymous]\n        public ActionResult ExternalLoginFailure()\n        {\n            return View();\n        }\n\n        protected override void Dispose(bool disposing)\n        {\n            if (disposing)\n            {\n                if (_userManager != null)\n                {\n                    _userManager.Dispose();\n                    _userManager = null;\n                }\n\n                if (_signInManager != null)\n                {\n                    _signInManager.Dispose();\n                    _signInManager = null;\n                }\n            }\n\n            base.Dispose(disposing);\n        }\n\n        //\n        // POST: /Account/LogOff\n        [HttpPost]\n        [ValidateAntiForgeryToken]\n        public ActionResult LogOff()\n        {\n            //AuthenticationManager.SignOut(DefaultAuthenticationTypes.ApplicationCookie);\n            Request.GetOwinContext().Authentication.SignOut();\n            return RedirectToAction(\"Login\", \"Account\");\n        }\n\n        #region Helpers\n        // Used for XSRF protection when adding external logins\n        private const string XsrfKey = \"XsrfId\";\n\n        private IAuthenticationManager AuthenticationManager\n        {\n            get\n            {\n                return HttpContext.GetOwinContext().Authentication;\n            }\n        }\n\n        private void AddErrors(IdentityResult result)\n        {\n            foreach (var error in result.Errors)\n            {\n                ModelState.AddModelError(\"\", error);\n            }\n        }\n\n        private ActionResult RedirectToLocal()\n        {\n\n            return RedirectToAction(\"Index\", \"Home\");\n        }\n\n        internal class ChallengeResult : HttpUnauthorizedResult\n        {\n            public ChallengeResult(string provider, string redirectUri)\n                : this(provider, redirectUri, null)\n            {\n            }\n\n            public ChallengeResult(string provider, string redirectUri, string userId)\n            {\n                LoginProvider = provider;\n                RedirectUri = redirectUri;\n                UserId = userId;\n            }\n\n            public string LoginProvider { get; set; }\n            public string RedirectUri { get; set; }\n            public string UserId { get; set; }\n\n            public override void ExecuteResult(ControllerContext context)\n            {\n                var properties = new AuthenticationProperties { RedirectUri = RedirectUri };\n                if (UserId != null)\n                {\n                    properties.Dictionary[XsrfKey] = UserId;\n                }\n                context.HttpContext.GetOwinContext().Authentication.Challenge(properties, LoginProvider);\n            }\n        }\n        #endregion\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-3.0"], "comments": [{"owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1577846946, "post_id": 59548022, "comment_id": 105268512, "body": "Do you mean that login with asp.net identity login page not working ?"}, {"owner": {"reputation": 83, "user_id": 9713954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xTvFt.jpg?s=128&g=1", "display_name": "Mena Samer", "link": "https://stackoverflow.com/users/9713954/mena-samer"}, "reply_to_user": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1577853573, "post_id": 59548022, "comment_id": 105269032, "body": "yes, but it work with api because it return token and i can use this token to use any api ...... so i need to work within login page and create cookie and api to get token"}, {"owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1577869677, "post_id": 59548022, "comment_id": 105271117, "body": "You can step by step to trace the issue . and why not directly sign in with asp.net identity schema ,instead of sign in again in GenerateJwtToken method ."}, {"owner": {"reputation": 83, "user_id": 9713954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xTvFt.jpg?s=128&g=1", "display_name": "Mena Samer", "link": "https://stackoverflow.com/users/9713954/mena-samer"}, "reply_to_user": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1577895863, "post_id": 59548022, "comment_id": 105276698, "body": "ok, i do not mind but i need to make api login and generate token .... do you have tutorial for that?"}, {"owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1577943239, "post_id": 59548022, "comment_id": 105285580, "body": "what do you mean by using browser the codes not working, you need to pass credentials to web api from client app as cookie authentication"}, {"owner": {"reputation": 83, "user_id": 9713954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xTvFt.jpg?s=128&g=1", "display_name": "Mena Samer", "link": "https://stackoverflow.com/users/9713954/mena-samer"}, "reply_to_user": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1577966965, "post_id": 59548022, "comment_id": 105293804, "body": "no no i mean the cookie would not create in browser"}], "owner": {"reputation": 83, "user_id": 9713954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xTvFt.jpg?s=128&g=1", "display_name": "Mena Samer", "link": "https://stackoverflow.com/users/9713954/mena-samer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577822204, "creation_date": 1577822204, "question_id": 59548022, "link": "https://stackoverflow.com/questions/59548022/create-cookie-for-authorize-pages-and-apis", "title": "Create cookie for authorize pages and APIs", "body": "<p>i created project api core 3.0 then i used JWT authentication to authorize my apis, until now i didn't face any problem with APIs in my project and the code generate token very good.\nnow i try to authorize pages without using token so i need to create cookie to authorize it by using this attribute [Authorize] but the cookie created in postman only (as in first picture). when i use browser ,the cookie is not created</p>\n\n<p><a href=\"https://i.stack.imgur.com/6kQ52.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6kQ52.png\" alt=\"enter image description here\"></a></p>\n\n<p>my GenerateToken function</p>\n\n<pre><code>    private async Task&lt;object&gt; GenerateJwtToken(string email, IdentityUser user)\n    {\n        var claims = new List&lt;Claim&gt;\n        {\n            new Claim(ClaimTypes.Name, user.Email),\n            new Claim(ClaimTypes.Role, \"Administrator\"),\n        };\n\n        var users = _userManager.Users.SingleOrDefault(r =&gt; r.Email == user.Email);\n\n        // return null if user not found\n        if (users == null)\n            return null;\n\n        string secret = \"THIS IS USED TO SIGN AND VERIFY JWT TOKENS, REPLACE IT WITH YOUR OWN SECRET, IT CAN BE ANY STRING\";\n\n        // authentication successful so generate jwt token\n        var tokenHandler = new JwtSecurityTokenHandler();\n        var key = Encoding.ASCII.GetBytes(secret);\n        var tokenDescriptor = new SecurityTokenDescriptor\n        {\n            Subject = new ClaimsIdentity(new Claim[]\n            {\n                new Claim(ClaimTypes.Name, user.Id.ToString())\n            }),\n            Expires = DateTime.UtcNow.AddDays(7),\n            SigningCredentials = new SigningCredentials(new SymmetricSecurityKey(key), SecurityAlgorithms.HmacSha256Signature)\n        };\n        var claimsIdentity = new ClaimsIdentity(\n        claims, CookieAuthenticationDefaults.AuthenticationScheme);\n        await HttpContext.SignInAsync(\n        CookieAuthenticationDefaults.AuthenticationScheme,\n        new ClaimsPrincipal(claimsIdentity),\n        new AuthenticationProperties\n        {\n\n            ExpiresUtc = DateTime.UtcNow.AddYears(1),\n            IsPersistent = true\n        });\n        var token = tokenHandler.CreateToken(tokenDescriptor);\n\n        return new JwtSecurityTokenHandler().WriteToken(token);\n    }\n</code></pre>\n\n<p>my login function</p>\n\n<pre><code>    [HttpPost]\n    public async Task&lt;object&gt; Login([FromBody] LoginDto model)\n    {\n        var result = await _signInManager.PasswordSignInAsync(model.Email, model.Password, false, false);\n\n        if (result.Succeeded)\n        {\n            var appUser = _userManager.Users.SingleOrDefault(r =&gt; r.Email == model.Email);\n            return await GenerateJwtToken(model.Email, appUser);\n        }\n\n        throw new ApplicationException(\"INVALID_LOGIN_ATTEMPT\");\n    }\n</code></pre>\n\n<p>my startup class with configuration for services</p>\n\n<pre><code>    public Startup(IConfiguration configuration)\n    {\n        Configuration = configuration;\n    }\n\n    public IConfiguration Configuration { get; }\n\n    // This method gets called by the runtime. Use this method to add services to the container.\n    public void ConfigureServices(IServiceCollection services)\n    {\n        services.Configure&lt;AppSettings&gt;(Configuration.GetSection(\"AppSettings\"));\n        services.AddDbContext&lt;ApplicationDbContext&gt;(opt =&gt;\n           opt.UseSqlServer(\"Data Source=.;Initial Catalog=ECommerceWebDb;Integrated Security=True\"));\n\n        services.AddIdentity&lt;ApplicationUser, IdentityRole&gt;(options =&gt;\n        {\n            options.Password.RequireNonAlphanumeric = false;\n        })\n           .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;()\n           .AddDefaultTokenProviders();\n\n        services.AddControllers();\n        services.AddCors();\n        services.AddMvc();\n        services.AddControllersWithViews();\n        services.AddRazorPages();\n\n        var appSettingsSection = Configuration.GetSection(\"AppSettings\");\n        services.Configure&lt;AppSettings&gt;(appSettingsSection);\n\n        // configure jwt authentication\n        var appSettings = appSettingsSection.Get&lt;AppSettings&gt;();\n        var key = Encoding.ASCII.GetBytes(appSettings.Secret);\n        services.AddAuthentication(x =&gt;\n        {\n            x.DefaultAuthenticateScheme = JwtBearerDefaults.AuthenticationScheme;\n            x.DefaultChallengeScheme = JwtBearerDefaults.AuthenticationScheme;\n        })\n        .AddJwtBearer(x =&gt;\n        {\n\n            x.RequireHttpsMetadata = true;\n            x.SaveToken = true;\n            x.TokenValidationParameters = new TokenValidationParameters\n            {\n                ValidateIssuerSigningKey = true,\n                IssuerSigningKey = new SymmetricSecurityKey(key),\n                ValidateIssuer = false,\n                ValidateAudience = false\n            };\n        }).AddCookie(x=&gt;x.Cookie.Name = \"Cookie\");\n    }\n\n    // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n    public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n    {\n\n        if (env.IsDevelopment())\n        {\n            app.UseDeveloperExceptionPage();\n        }\n        else\n        {\n            app.UseExceptionHandler(\"/Home/Error\");\n            // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts.\n            app.UseHsts();\n        }\n        var cookiePolicyOptions = new CookiePolicyOptions\n        {\n            MinimumSameSitePolicy = SameSiteMode.Strict,\n        };\n\n        app.UseHttpsRedirection();\n        app.UseStaticFiles();\n        app.UseDeveloperExceptionPage();\n        app.UseStatusCodePages();\n        app.UseRouting();\n        app.UseCors();\n        app.UseCookiePolicy(cookiePolicyOptions);\n\n        app.UseAuthentication();\n\n        app.UseAuthorization();\n        app.UseEndpoints(endpoints =&gt;\n        {\n            endpoints.MapControllerRoute(\n             name: \"default\",\n             pattern: \"{controller=Home}/{action=Index}/{id?}\");\n\n            endpoints.MapAreaControllerRoute(\n             name: \"areas\", \"areas\",\n             pattern: \"{area:exists}/{controller=Home}/{action=Index}/{id?}\");\n            endpoints.MapRazorPages();\n        });\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "amazon-web-services", "amazon-cognito"], "comments": [{"owner": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 0, "creation_date": 1577821683, "post_id": 59547854, "comment_id": 105264945, "body": "Where&#39;s the code for <code>GetCallerIdentity</code>? If it&#39;s what I think it is, you&#39;re trying to get an IAM identity for a Cognito token..."}, {"owner": {"reputation": 5869, "user_id": 1448679, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f4efbb20b826ad4a24f9a46e83a3f448?s=128&d=identicon&r=PG&f=1", "display_name": "Arun K", "link": "https://stackoverflow.com/users/1448679/arun-k"}, "edited": false, "score": 0, "creation_date": 1577829609, "post_id": 59547854, "comment_id": 105266473, "body": "How do you know that the AWS credentials given to you is incorrect"}, {"owner": {"reputation": 126, "user_id": 2529025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9666ce0731d7492c23afe1c0e520ca48?s=128&d=identicon&r=PG", "display_name": "Anderson Santos Gusm&#227;o", "link": "https://stackoverflow.com/users/2529025/anderson-santos-gusm%c3%a3o"}, "reply_to_user": {"reputation": 5869, "user_id": 1448679, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f4efbb20b826ad4a24f9a46e83a3f448?s=128&d=identicon&r=PG&f=1", "display_name": "Arun K", "link": "https://stackoverflow.com/users/1448679/arun-k"}, "edited": false, "score": 0, "creation_date": 1577905944, "post_id": 59547854, "comment_id": 105279224, "body": "@ArunK to test credentials I have tried it using .NET SDK&#39;s trying to access some resource that I know is associated with role I created, another test I did, I run <code>aws sts get-caller-identity</code> on console after running <code>aws configure</code> with those credentials."}, {"owner": {"reputation": 126, "user_id": 2529025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9666ce0731d7492c23afe1c0e520ca48?s=128&d=identicon&r=PG", "display_name": "Anderson Santos Gusm&#227;o", "link": "https://stackoverflow.com/users/2529025/anderson-santos-gusm%c3%a3o"}, "reply_to_user": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 0, "creation_date": 1577906184, "post_id": 59547854, "comment_id": 105279286, "body": "@ps2goat please, check the answer above."}], "answers": [{"comments": [{"owner": {"reputation": 9626, "user_id": 1888559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d94b2fccdfe0a1b012875e69430c9546?s=128&d=identicon&r=PG", "display_name": "Ngenator", "link": "https://stackoverflow.com/users/1888559/ngenator"}, "reply_to_user": {"reputation": 126, "user_id": 2529025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9666ce0731d7492c23afe1c0e520ca48?s=128&d=identicon&r=PG", "display_name": "Anderson Santos Gusm&#227;o", "link": "https://stackoverflow.com/users/2529025/anderson-santos-gusm%c3%a3o"}, "edited": false, "score": 0, "creation_date": 1577926397, "post_id": 59550121, "comment_id": 105282945, "body": "I don&#39;t use .NET but the docs on how to use temporary credentials with the sdks is located here <a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp_use-resources.html#using-temp-creds-sdk\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/IAM/latest/UserGuide/&hellip;</a> You&#39;d have to check the .NET SDK docs for the specific implementation"}], "tags": [], "owner": {"reputation": 9626, "user_id": 1888559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d94b2fccdfe0a1b012875e69430c9546?s=128&d=identicon&r=PG", "display_name": "Ngenator", "link": "https://stackoverflow.com/users/1888559/ngenator"}, "is_accepted": true, "score": 1, "last_activity_date": 1577855838, "creation_date": 1577855838, "answer_id": 59550121, "question_id": 59547854, "link": "https://stackoverflow.com/questions/59547854/aws-credential-provided-by-identity-pool-is-invalid/59550121#59550121", "title": "AWS Credential provided by Identity Pool is invalid", "body": "<p>When you assume a role (which is what happens when you use Cognito), the credentials returned include an <code>AccessKeyId</code>, <code>SecretAccessKey</code> and <code>SessionToken</code> (sometimes referred to as <code>SecurityToken</code>). You need to use all 3 when authenticating against the AWS apis.</p>\n"}], "owner": {"reputation": 126, "user_id": 2529025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9666ce0731d7492c23afe1c0e520ca48?s=128&d=identicon&r=PG", "display_name": "Anderson Santos Gusm&#227;o", "link": "https://stackoverflow.com/users/2529025/anderson-santos-gusm%c3%a3o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 59550121, "answer_count": 1, "score": 0, "last_activity_date": 1577855838, "creation_date": 1577820661, "last_edit_date": 1577821115, "question_id": 59547854, "link": "https://stackoverflow.com/questions/59547854/aws-credential-provided-by-identity-pool-is-invalid", "title": "AWS Credential provided by Identity Pool is invalid", "body": "<p>I want to consume some resources on <strong>AWS</strong> using <strong>Cognito User Pool</strong> authentication, after integrating it with <strong>Identity Poll</strong> and associating a role to it, I am getting AWS credentials, but when I try to use it, I am getting the following error message: <code>An error occurred (InvalidClientTokenId) when calling the GetCallerIdentity operation: The security token included in the request is invalid.</code> Any clues how to identify the issue? I am sharing part of my code below, I believe I am. missing some configuration.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qf61p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qf61p.png\" alt=\".NET code\"></a> </p>\n"}, {"tags": ["c#", "scala", "functional-programming"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 5838, "user_id": 1075282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70efe94a6c2237ec96f429402a03a27d?s=128&d=identicon&r=PG", "display_name": "Renat", "link": "https://stackoverflow.com/users/1075282/renat"}, "edited": false, "score": 1, "creation_date": 1577869110, "post_id": 59547812, "comment_id": 105271024, "body": "@Renat No, they aren&#39;t."}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1577869100, "creation_date": 1577869100, "answer_id": 59551157, "question_id": 59547812, "link": "https://stackoverflow.com/questions/59547812/c-interface-with-default-method-vs-traits/59551157#59551157", "title": "C# interface with default method vs traits", "body": "<p>Comparing with Scala traits in particular (traits in different languages can be quite different), C# is missing:</p>\n\n<ol>\n<li><p>Initialization code: you can have</p>\n\n<pre><code>trait A {\n  println(\"A's constructor\")\n}\n</code></pre>\n\n<p>and this code will be executed (in proper order) in the constructor of any class inheriting from <code>A</code>. Or more simply</p>\n\n<pre><code>trait A {\n  val x = 10\n}\n</code></pre></li>\n<li><p><a href=\"https://stackoverflow.com/questions/34242536/linearization-order-in-scala\">Trait linearization</a> (at least in the specific details)</p></li>\n<li><p>Different <code>base</code> (in C#)/<code>super</code> (in Scala) resolution, which means the <a href=\"https://www.artima.com/scalazine/articles/stackable_trait_pattern.html\" rel=\"nofollow noreferrer\">Stackable Trait</a> pattern won't work with C# interfaces.</p></li>\n<li><p>(coming in Scala 3) <a href=\"https://dotty.epfl.ch/docs/reference/other-new-features/trait-parameters.html\" rel=\"nofollow noreferrer\">Constructor parameters</a></p></li>\n<li><p>(removed in Scala 3) <a href=\"https://www.scala-lang.org/files/archive/spec/2.13/05-classes-and-objects.html#early-definitions\" rel=\"nofollow noreferrer\">Early definitions</a></p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1240, "user_id": 3384830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5oOUj.jpg?s=128&g=1", "display_name": "louthster", "link": "https://stackoverflow.com/users/3384830/louthster"}, "is_accepted": false, "score": 1, "last_activity_date": 1578317511, "last_edit_date": 1578317511, "creation_date": 1578309910, "answer_id": 59611269, "question_id": 59547812, "link": "https://stackoverflow.com/questions/59547812/c-interface-with-default-method-vs-traits/59611269#59611269", "title": "C# interface with default method vs traits", "body": "<p>Technically, you can do something like traits in C#.  Traits is ad-hoc polymorphism. i.e. you can gift types with additional <em>traits</em> ad-hoc, or after-the-fact.  This is useful when you're given a type (like <code>IEnumerable&lt;T&gt;</code> from the BCL) and you want it to have additional properties, like being a monad (but you don't own the type, so you can't change its interface list).</p>\n\n<p>So, for your iterator example, you could do this:</p>\n\n<pre><code>public interface Iterator&lt;MA, A&gt;\n{\n    bool HasNext(MA iter);\n    A Next(MA iter);\n}\n</code></pre>\n\n<p><code>MA</code> is the container type, <code>A</code> is what it contains.  </p>\n\n<p>Next, we'll do an implementation of that for <code>IEnumerator&lt;A&gt;</code>.  </p>\n\n<pre><code>public struct IteratorEnum&lt;A&gt; : Iterator&lt;IEnumerator&lt;A&gt;, A&gt;\n{\n    public bool HasNext(IEnumerator&lt;A&gt; iter) =&gt;\n        iter.MoveNext();\n\n    public A Next(IEnumerator&lt;A&gt; iter) =&gt;\n        iter.Current;\n}\n</code></pre>\n\n<blockquote>\n  <p>Ignore the fact that <code>MoveNext</code> / <code>HasNext</code>, and <code>Next</code> / <code>Current</code> don't mean the same thing, this is just for convenience.  </p>\n</blockquote>\n\n<p>Note how the type is a <code>struct</code>.  This is because structs can never be <code>null</code>.  And so, <code>default(MY_STRUCT)</code> will always have a non-null value.  </p>\n\n<p>Now, we'll create a generic implementation that uses <code>Iterator</code> and knows nothing about the underlying type:</p>\n\n<pre><code>public static IEnumerable&lt;A&gt; IterAnything&lt;IterA, MA, A&gt;(MA iter) \n    where IterA : struct, Iterator&lt;MA, A&gt;\n{\n    while(default(IterA).HasNext(iter))\n    {\n        yield return default(IterA).Next(iter);\n    }\n}\n</code></pre>\n\n<p>Note the use of <code>default(IterA)</code>, this is because we've constrained <code>IterA</code> to be <code>struct, Iterator&lt;MA, A&gt;</code> - that means it can't be <code>null</code> and must implement <code>Iterator&lt;MA, A&gt;</code>.</p>\n\n<p>Then we can invoke it with any <code>Iterator</code> we like:</p>\n\n<pre><code>var items = (new[] { 1, 2, 3, 4, 5 }).AsEnumerable().GetEnumerator();\n\nvar newitems = IterAnything&lt;IteratorEnum&lt;int&gt;, IEnumerator&lt;int&gt;, int&gt;(items);\n</code></pre>\n\n<p>A simpler example of this approach is to <code>Num&lt;A&gt;</code> and <code>Eq&lt;A&gt;</code>.  There is no base <code>INumeric</code> type in C#, but we want to write our numeric processing functions once.  The types are all buried in the BCL, so we can't go and change their interfaces:</p>\n\n<pre><code>public interface Num&lt;A&gt;\n{\n    A Add(A lhs, A rhs);\n    A Subtract(A lhs, A rhs);\n    A Multiply(A lhs, A rhs);\n    A Divide(A lhs, A rhs);\n    A FromInt(int value);\n    A One { get; }\n    A Zero { get; }\n}\n\npublic interface Eq&lt;A&gt;\n{\n    bool IsEqualTo(A lhs, A rhs);\n\n    // using C#8 default interface methods\n    bool IsNoEqualTo(A lhs, A rhs) =&gt; !IsEqualTo(lhs, rhs); \n}\n</code></pre>\n\n<p>Then we can implement both for <code>int</code> and <code>long</code>:</p>\n\n<pre><code>public struct NumInt : Num&lt;int&gt;, Eq&lt;int&gt;\n{\n    public int Add(int lhs, int rhs) =&gt; lhs + rhs;\n    public int Subtract(int lhs, int rhs) =&gt; lhs - rhs;\n    public int Multiply(int lhs, int rhs) =&gt; lhs * rhs;\n    public int Divide(int lhs, int rhs) =&gt; lhs / rhs;\n    public int FromInt(int value) =&gt; value;\n    public bool IsEqualTo(int lhs, int rhs) =&gt; lhs == rhs;\n    public int One =&gt; 1;\n    public int Zero =&gt; 0;\n}\n\npublic struct NumLong : Num&lt;long&gt;, Eq&lt;long&gt;\n{\n    public long Add(long lhs, long rhs) =&gt; lhs + rhs;\n    public long Subtract(long lhs, long rhs) =&gt; lhs - rhs;\n    public long Multiply(long lhs, long rhs) =&gt; lhs * rhs;\n    public long Divide(long lhs, long rhs) =&gt; lhs / rhs;\n    public long FromInt(int value) =&gt; (long)value;\n    public bool IsEqualTo(long lhs, long rhs) =&gt; lhs == rhs;\n    public long One =&gt; 1;\n    public long Zero =&gt; 0;\n}\n</code></pre>\n\n<p>Then we can create some methods for working with numbers:</p>\n\n<pre><code>public static bool IsEqualTo0&lt;NumA, A&gt;(A n) where NumA : struct, Num&lt;A&gt;, Eq&lt;A&gt; =&gt;\n    default(NumA).IsEqualTo(n, default(NumA).Zero);\n\npublic static bool IsEqualTo1&lt;NumA, A&gt;(A n) where NumA : struct, Num&lt;A&gt;, Eq&lt;A&gt; =&gt;\n    default(NumA).IsEqualTo(n, default(NumA).One);\n\npublic static A Subtract1&lt;NumA, A&gt;(A n) where NumA : struct, Num&lt;A&gt;, Eq&lt;A&gt; =&gt;\n    default(NumA).Subtract(n, default(NumA).One);\n\npublic static A Subtract2&lt;NumA, A&gt;(A n) where NumA : struct, Num&lt;A&gt;, Eq&lt;A&gt; =&gt;\n    Subtract1&lt;NumA, A&gt;(Subtract1&lt;NumA, A&gt;(n));\n\npublic static A Fibonacci&lt;NumA, A&gt;(A n) where NumA : struct, Num&lt;A&gt;, Eq&lt;A&gt; =&gt;\n    IsEqualTo0&lt;NumA, A&gt;(n) || IsEqualTo1&lt;NumA, A&gt;(n)\n        ? n\n        : Fibonacci&lt;NumA, A&gt;(default(NumA).Add(\n                                Subtract1&lt;NumA, A&gt;(n), \n                                Subtract2&lt;NumA, A&gt;(n)));\n</code></pre>\n\n<p>And then finally, invoke:</p>\n\n<pre><code>Fibonacci&lt;NumInt, int&gt;(100);\nFibonacci&lt;NumLong, long&gt;(100L);\n</code></pre>\n\n<p>And so, that shows adding traits to a type ad-hoc.  It's not pretty, and the C# team are looking to address this with the Shapes/Concepts/.. proposal.  But, it is possible if you need it.  I use it every now and then, and have <a href=\"https://github.com/louthy/language-ext\" rel=\"nofollow noreferrer\">a ton of example traits and implementations in my language-ext library</a> (called Type-classes and Class-instances).</p>\n\n<blockquote>\n  <p>If the .NET team had made an <code>INumeric</code> interface and made all the numeric types derive from it, then usage of it would cause boxing.  The approach demonstrated above doesn't cause any boxing at all.  Also, all the <code>default(NumA)</code> calls get optimised out in a release build, so it's just as fast as calling the functions directly.</p>\n</blockquote>\n\n<p>The limitations are that C# doesn't have higher kinds, which leads to problems when trying to implement something like <code>Monad</code> or <code>Functor</code>, but <a href=\"https://github.com/louthy/language-ext/blob/master/LanguageExt.Core/TypeClasses/Monoid/Monoid.cs\" rel=\"nofollow noreferrer\">types like <code>Monoid</code> are easy</a></p>\n"}], "owner": {"reputation": 21548, "user_id": 825920, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7a8ad6df2714b0bddeacf7a073a7a9f8?s=128&d=identicon&r=PG&f=1", "display_name": "ca9163d9", "link": "https://stackoverflow.com/users/825920/ca9163d9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1580588826, "creation_date": 1577820320, "last_edit_date": 1580588826, "question_id": 59547812, "link": "https://stackoverflow.com/questions/59547812/c-interface-with-default-method-vs-traits", "title": "C# interface with default method vs traits", "body": "<p>In the Scala doc, <a href=\"https://docs.scala-lang.org/tour/traits.html\" rel=\"nofollow noreferrer\">https://docs.scala-lang.org/tour/traits.html</a>, it gives an example of trait.</p>\n\n<pre><code>trait Iterator[A] {\n  def hasNext: Boolean\n  def next(): A\n}\n\nclass IntIterator(to: Int) extends Iterator[Int] {\n  private var current = 0\n  override def hasNext: Boolean = current &lt; to\n  override def next(): Int = {\n    if (hasNext) {\n      val t = current\n      current += 1\n      t\n    } else 0\n  }\n}\n\n\nval iterator = new IntIterator(10)\niterator.next()  // returns 0\niterator.next()  // returns 1\n</code></pre>\n\n<p>We know C# doesn't support traits yet. However, the example above can be easily converted to C# code:</p>\n\n<pre><code>interface Iterator&lt;A&gt; \n{ \n    bool HasNext(); \n    A Next(); \n}\n\npublic class IntIterator : Iterator&lt;int&gt; \n{\n    int _to;\n    int _current = 0;\n    public IntIterator(int to) =&gt; _to = to;\n    public bool HasNext() =&gt; _current &lt; _to;\n    public int Next() =&gt; HasNext() ? _current++ : 0;\n}\n\nvar itor = new IntIterator(10);\nitor.Next()\n</code></pre>\n\n<p>And C# interface can have default method now. What's C# missing comparing with traits? </p>\n\n<p>Or there should be a better Scala example to show the power of trait?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 3071, "user_id": 456832, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0d16695f1ae43f915bd413d1024018c8?s=128&d=identicon&r=PG", "display_name": "zezba9000", "link": "https://stackoverflow.com/users/456832/zezba9000"}, "edited": false, "score": 1, "creation_date": 1577823298, "post_id": 59547802, "comment_id": 105265264, "body": "This could be done by using some native Win32 methods. First you want to get the main window by enumerating all Windows on the computer that belong to a current processID. Use &quot;EnumWindows&quot; for that. Once you have the main window use &quot;SetWindowPos(hWnd, NULL, 0, 0, width, height, SWP_NOMOVE)&quot; to set its size. Testing this with C/C++ first to make sure it works is easier. Then wrap the methods you need in C#."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1577824708, "post_id": 59547802, "comment_id": 105265587, "body": "<code>SHDocVw.ShellWindows()</code> only lists IE and Explorer windows which are all the shell controls directly (remnants of IE integration in Windows). You need something like <a href=\"https://stackoverflow.com/a/10819641/2557128\">this answer</a>."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577826592, "post_id": 59547802, "comment_id": 105265935, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.automation.automationelement.findfirst\" rel=\"nofollow noreferrer\">AutomationElement.FindFirst()</a> (or <code>FromHandle()</code> or <code>FromPoint()</code> etc.) + <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.automation.transformpattern\" rel=\"nofollow noreferrer\">TransformPattern</a> \u2192 <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.automation.transformpattern.move\" rel=\"nofollow noreferrer\">Move()</a>, \u2192 <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.automation.transformpattern.resize\" rel=\"nofollow noreferrer\">Resize()</a>"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577826812, "post_id": 59547802, "comment_id": 105265984, "body": "Or <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.automation.windowpattern.setwindowvisualstate\" rel=\"nofollow noreferrer\">WinfowsPattern.SetWindowVisualState</a> (minimize, maximize...), <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.automation.windowpattern.close\" rel=\"nofollow noreferrer\">Close()</a> etc."}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 12633687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e9408bf839e063dbfb4afb12acbf3be?s=128&d=identicon&r=PG", "display_name": "Grez", "link": "https://stackoverflow.com/users/12633687/grez"}, "is_accepted": true, "score": 0, "last_activity_date": 1577913088, "creation_date": 1577913088, "answer_id": 59556155, "question_id": 59547802, "link": "https://stackoverflow.com/questions/59547802/set-height-width-and-screen-location-of-any-window/59556155#59556155", "title": "Set Height, Width and screen location of any window", "body": "<p>Thank you @zezba9000 &amp; @NetMage your answsers were the ones that worked ... I went on <a href=\"http://pinvoke.net/default.aspx/user32.EnumWindows\" rel=\"nofollow noreferrer\">PInvoke - EnumWindows</a> to get the general idea of how it works and the used <a href=\"https://stackoverflow.com/a/1190447/12633687\">Reed's answer</a> to get to this code :</p>\n\n<pre><code>        public class SearchData{\n            public string Title;\n            public IntPtr hWnd;\n        }\n\n        private delegate bool EnumWindowsProc(IntPtr hWnd, ref SearchData data);\n        [DllImport(\"user32.dll\")]\n        [return: MarshalAs(UnmanagedType.Bool)]\n        private static extern bool EnumWindows(EnumWindowsProc lpEnumFunc, ref SearchData data);\n\n        [DllImport(\"user32.dll\", CharSet = CharSet.Auto, SetLastError = true)]\n        public static extern int GetWindowText(IntPtr hWnd, StringBuilder lpString, int nMaxCount);\n\n        [DllImport(\"user32.dll\", EntryPoint = \"SetWindowPos\")]\n        public static extern IntPtr SetWindowPos(IntPtr hWnd, int hWndInsertAfter, int x, int Y, int cx, int cy,  int wFlags);\n\n        private void test(){\n            IntPtr hwnd = SearchForWindow(\"Discord\");\n            SetWindowPos(hwnd, 0, 50, 175, 1000, 750, 0x0040);\n        }\n\n        public IntPtr SearchForWindow(string title){\n            SearchData sd = new SearchData { Title = title };\n            EnumWindows(new EnumWindowsProc(EnumProc), ref sd);\n            return sd.hWnd;\n        }\n        public bool EnumProc(IntPtr hWnd, ref SearchData data){\n            StringBuilder sb = new StringBuilder(1024);\n            GetWindowText(hWnd, sb, sb.Capacity);\n            if (sb.ToString().Contains(data.Title)){\n                data.hWnd = hWnd;\n                return false;\n            }\n            else return true;\n        }\n</code></pre>\n\n<p>Also @Jimi I tried your approach but I could not work with it because it could not find Automation in the System.Windows namespace</p>\n"}], "owner": {"reputation": 23, "user_id": 12633687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e9408bf839e063dbfb4afb12acbf3be?s=128&d=identicon&r=PG", "display_name": "Grez", "link": "https://stackoverflow.com/users/12633687/grez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 59556155, "answer_count": 1, "score": 0, "last_activity_date": 1577985874, "creation_date": 1577820191, "last_edit_date": 1577985874, "question_id": 59547802, "link": "https://stackoverflow.com/questions/59547802/set-height-width-and-screen-location-of-any-window", "title": "Set Height, Width and screen location of any window", "body": "<p>Hi I looked into this guy <a href=\"https://stackoverflow.com/questions/41600762/set-height-width-and-screen-location-of-windows-explorer?newreg=d72a3894ae5e4cd6b16ab5e0974e45b0\">question</a> and got some of my answer but I would like to instead of resizing explorer I would like to resize discord or firefox for instance</p>\n\n<pre><code>    private void windowsPos(string name, Rect pos){\n        foreach (SHDocVw.InternetExplorer window in new SHDocVw.ShellWindows()){\n            if (Path.GetFileNameWithoutExtension(window.FullName).ToLowerInvariant() == name){\n                window.Left = pos.Left;\n                window.Top = pos.Top;\n                window.Width = pos.Width;\n                window.Height = pos.Height;\n            }\n        }\n    }\n</code></pre>\n\n<p>But this works only for explorer I tried other exe but it works only for explorer ... can someone help me adapt this code to my requirements ?</p>\n"}, {"tags": ["c#", "xaml", "uwp"], "comments": [{"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 2, "creation_date": 1577820003, "post_id": 59547726, "comment_id": 105264592, "body": "Please, do not post code as images"}, {"owner": {"reputation": 17, "user_id": 12619490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a281d294ea4ce3f2c75ce63f69d98fe2?s=128&d=identicon&r=PG&f=1", "display_name": "mig50", "link": "https://stackoverflow.com/users/12619490/mig50"}, "reply_to_user": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1577836269, "post_id": 59547726, "comment_id": 105267469, "body": "sorry, i didn&#39;t know, i&#39;m new here"}], "answers": [{"tags": [], "owner": {"reputation": 6904, "user_id": 9412162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KlpER.jpg?s=128&g=1", "display_name": "Richard Zhang - MSFT", "link": "https://stackoverflow.com/users/9412162/richard-zhang-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1577867856, "creation_date": 1577867856, "answer_id": 59551055, "question_id": 59547726, "link": "https://stackoverflow.com/questions/59547726/bind-to-an-observablecollection-which-is-inside-another-observablecollection/59551055#59551055", "title": "Bind to an ObservableCollection which is inside another ObservableCollection", "body": "<p>If you plan to display collection content, UWP provides <code>GridView</code> and <code>ListView</code> controls.</p>\n\n<p>like this:</p>\n\n<p><strong>xaml.cs</strong></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public ObservableCollection&lt;string&gt; TestCollection {get; set;}\n</code></pre>\n\n<p><strong>xaml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;GridView ItemsSource=\"{x:Bind TestCollection}\"/&gt;\n</code></pre>\n\n<p>If you plan to display a <code>ListView</code> or <code>GridView</code> in the <code>DataGrid</code>, you can try to put the control in <code>RowDetail</code>. like this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;controls:DataGrid ...&gt;\n   ...\n   &lt;controls:DataGrid.RowDetailsTemplate&gt;\n       &lt;DataTemplate&gt;\n           &lt;Grid&gt;\n               &lt;GridView ItemsSource=\"{Binding Atores}\"&gt;\n               &lt;/GridView&gt;\n           &lt;/Grid&gt;\n       &lt;/DataTemplate&gt;\n   &lt;/controls:DataGrid.RowDetailsTemplate&gt;\n   ...\n&lt;/controls:DataGrid&gt;\n</code></pre>\n\n<p>Here are some documents that might help you:</p>\n\n<ul>\n<li><a href=\"https://docs.microsoft.com/en-us/windows/uwp/design/controls-and-patterns/listview-and-gridview\" rel=\"nofollow noreferrer\">ListView and GridView</a></li>\n<li><a href=\"https://docs.microsoft.com/en-us/windows/communitytoolkit/controls/datagrid_guidance/rowdetails\" rel=\"nofollow noreferrer\">How to: Display and Configure Row Details in the DataGrid Control</a></li>\n</ul>\n\n<p>Best regards.</p>\n"}], "owner": {"reputation": 17, "user_id": 12619490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a281d294ea4ce3f2c75ce63f69d98fe2?s=128&d=identicon&r=PG&f=1", "display_name": "mig50", "link": "https://stackoverflow.com/users/12619490/mig50"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 59551055, "answer_count": 1, "score": 0, "last_activity_date": 1577867856, "creation_date": 1577819458, "question_id": 59547726, "link": "https://stackoverflow.com/questions/59547726/bind-to-an-observablecollection-which-is-inside-another-observablecollection", "title": "Bind to an ObservableCollection which is inside another ObservableCollection", "body": "<p><a href=\"https://i.stack.imgur.com/cv7qe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cv7qe.png\" alt=\"class attributes\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/TRi4T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TRi4T.png\" alt=\"Property[![][2]\"></a>]<a href=\"https://i.stack.imgur.com/rX04I.png\" rel=\"nofollow noreferrer\">3</a></p>\n\n<p>So i have an ObservableCollection with movies in my ViewModel, and inside that ObservableCollection there's another ObservableCollection with all the actors that participate in the movie. I wanted to show that Actors ObservableCollection in my DataGrid, but i don't know how to do it, do you have any idea? Thanks</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;controls:DataGrid\n      Grid.Row=\"1\"\n        x:Name=\"viewFilmes\"\n        Margin=\"12\"\n        VerticalAlignment=\"Stretch\" HorizontalAlignment=\"Stretch\"\n        HorizontalScrollBarVisibility=\"Visible\"\n        VerticalScrollBarVisibility=\"Visible\"\n        AlternatingRowBackground=\"Transparent\"\n        AlternatingRowForeground=\"Gray\"\n        AreRowDetailsFrozen=\"False\"\n        AreRowGroupHeadersFrozen=\"True\"\n        AutoGenerateColumns=\"False\"\n        CanUserSortColumns=\"False\"\n        CanUserReorderColumns=\"True\"\n        CanUserResizeColumns=\"False\"\n        ColumnHeaderHeight=\"32\"\n        MaxColumnWidth=\"400\"\n        FrozenColumnCount=\"0\"\n        GridLinesVisibility=\"None\"\n        HeadersVisibility=\"Column\"\n        RowDetailsVisibilityMode=\"Collapsed\"\n        SelectionChanged=\"viewFilmes_SelectionChanged\"\n        SelectionMode=\"Single\"\n        RowEditEnded=\"viewFilmes_RowEditEnded\"\n        RowGroupHeaderPropertyNameAlternative=\"Range\"\n        ItemsSource=\"{x:Bind GestaoDeFilmesViewModel.Filmes}\"&gt;\n            &lt;controls:DataGrid.Columns&gt;\n                &lt;controls:DataGridTextColumn Header=\"Id\" IsReadOnly=\"True\" Binding=\"{Binding Idfilme, Mode=OneWay}\" Tag=\"Id\"/&gt;\n                &lt;controls:DataGridTextColumn Header=\"Nome\" Binding=\"{Binding Nome, Mode=TwoWay}\" Tag=\"Nome\" /&gt;\n                &lt;controls:DataGridTextColumn Header=\"Ano\" Binding=\"{Binding Ano, Mode=TwoWay}\" Tag=\"Ano\" /&gt;\n                &lt;controls:DataGridTextColumn Header=\"Duracao\" Binding=\"{Binding Duracao, Mode=TwoWay}\" Tag=\"Duracao\" /&gt;\n                &lt;controls:DataGridTemplateColumn Header=\"Foto\" Tag=\"Foto\" &gt;\n                    &lt;controls:DataGridTemplateColumn.CellTemplate&gt;\n                        &lt;DataTemplate&gt;\n                            &lt;StackPanel&gt;\n                                &lt;control:FotoControl ImageSource=\"{Binding Foto, Mode=TwoWay}\"&gt;&lt;/control:FotoControl&gt;\n                                &lt;Button Click=\"Foto_Button_Click\"&gt;Alterar Foto&lt;/Button&gt;\n                            &lt;/StackPanel&gt;\n                        &lt;/DataTemplate&gt;\n                    &lt;/controls:DataGridTemplateColumn.CellTemplate&gt;\n                &lt;/controls:DataGridTemplateColumn&gt;\n                &lt;controls:DataGridTextColumn Header=\"Genero\"  Tag=\"Genero\"/&gt;\n                &lt;controls:DataGridTextColumn Header=\"Diretor\" Binding=\"{Binding Diretor.Nome, Mode=TwoWay}\" Tag=\"Diretor\"/&gt;\n                &lt;controls:DataGridTextColumn Header=\"Escritor\" Binding=\"{Binding Escritor.Nome, Mode=TwoWay}\" Tag=\"Escritor\"/&gt;\n                &lt;controls:DataGridTemplateColumn Header=\"Elenco\" Tag=\"Elenco\"&gt;\n                    &lt;controls:DataGridTemplateColumn.CellTemplate&gt;\n                        &lt;DataTemplate&gt;\n                            &lt;Button Content=\"Ver Elenco\"&gt;\n                                &lt;Button.Flyout&gt;\n                                    &lt;Flyout&gt;\n                                        &lt;StackPanel&gt;\n                                            &lt;TextBlock Style=\"{ThemeResource BaseTextBlockStyle}\" Text=\"Elenco\" Margin=\"0,0,0,12\" /&gt;\n                                            &lt;!--&lt;TextBox Text=\"{Binding Atores.Idator, Mode=TwoWay}\"/&gt;--&gt;\n\n                                        &lt;/StackPanel&gt;\n                                    &lt;/Flyout&gt;\n                                &lt;/Button.Flyout&gt;\n                            &lt;/Button&gt;\n                        &lt;/DataTemplate&gt;\n                    &lt;/controls:DataGridTemplateColumn.CellTemplate&gt;\n                &lt;/controls:DataGridTemplateColumn&gt;\n\n            &lt;/controls:DataGrid.Columns&gt;\n        &lt;/controls:DataGrid&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "webforms"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 12585601, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDZmvza5gpyorQWKgy2cSRT9cx2qo9vd9OEnFekaw=k-s128", "display_name": "Manuel Rodriguez", "link": "https://stackoverflow.com/users/12585601/manuel-rodriguez"}, "edited": false, "score": 0, "creation_date": 1577894972, "post_id": 59553360, "comment_id": 105276460, "body": "You&#39;re right, this worked. Thanks! but here&#39;s another problem. There&#39;s a page called <code>ProductsMain</code> (this page is in the content placeholder of masterpage) but in <code>ProductsMain</code> I have an iframe which display another screen Called <code>Products</code>. Your code doesn&#39;t work in this <code>Products</code> because it doesn&#39;t have MasterPage. Do you know how can I solve it?"}, {"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "reply_to_user": {"reputation": 15, "user_id": 12585601, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDZmvza5gpyorQWKgy2cSRT9cx2qo9vd9OEnFekaw=k-s128", "display_name": "Manuel Rodriguez", "link": "https://stackoverflow.com/users/12585601/manuel-rodriguez"}, "edited": false, "score": 0, "creation_date": 1577896278, "post_id": 59553360, "comment_id": 105276798, "body": "This code works with or without a Master Page. You just call it from wherever you want."}], "tags": [], "owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "is_accepted": false, "score": 0, "last_activity_date": 1577889110, "creation_date": 1577889110, "answer_id": 59553360, "question_id": 59547717, "link": "https://stackoverflow.com/questions/59547717/how-to-call-masterpage-from-c-class/59553360#59553360", "title": "How to call MasterPage from c# class", "body": "<p>You don't need the Master page if you want to use ScriptManager in a class.</p>\n\n<pre><code>Page page = HttpContext.Current.CurrentHandler as Page;\nScriptManager.RegisterStartupScript(page, page.GetType(), \"PopModal\", scriptModal, true);\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 12585601, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDZmvza5gpyorQWKgy2cSRT9cx2qo9vd9OEnFekaw=k-s128", "display_name": "Manuel Rodriguez", "link": "https://stackoverflow.com/users/12585601/manuel-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577889110, "creation_date": 1577819371, "last_edit_date": 1577820168, "question_id": 59547717, "link": "https://stackoverflow.com/questions/59547717/how-to-call-masterpage-from-c-class", "title": "How to call MasterPage from c# class", "body": "<p>In my asp.net project I have a MasterPage and an extra C# class called <code>Resources.cs</code>. In MasterPage I have a modal which I'm trying to use to show error messages. The way I show modals from backcode is:</p>\n\n<pre><code>ScriptManager.RegisterStartupScript(this, this.GetType(), \"PopModal\", scriptModal, true);\n</code></pre>\n\n<p>Ths first <code>this</code> references the page where script will execute and I don't know how to reference my MasterPage from <code>Resources.cs</code>. Any idea?</p>\n"}, {"tags": ["c#", "streamreader", "streamwriter"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 9561020, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ThePejnMan", "link": "https://stackoverflow.com/users/9561020/thepejnman"}, "edited": false, "score": 1, "creation_date": 1577821575, "post_id": 59547824, "comment_id": 105264914, "body": "Thank you this worked perfectly! (only had to add space after &#39;sw.Write(field, 0, length);&#39; to split the numbers but i didnt specify this)."}], "tags": [], "owner": {"reputation": 1307, "user_id": 1847554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/955b15518d072b1c163b5cf04939c84a?s=128&d=identicon&r=PG", "display_name": "Roman.Pavelko", "link": "https://stackoverflow.com/users/1847554/roman-pavelko"}, "is_accepted": true, "score": 1, "last_activity_date": 1577820403, "creation_date": 1577820403, "answer_id": 59547824, "question_id": 59547698, "link": "https://stackoverflow.com/questions/59547698/how-to-make-streamwriter-make-a-new-line-after-specific-number-of-integers/59547824#59547824", "title": "How to make streamwriter make a new line after specific number of integers?", "body": "<p><code>Writeline</code> always writes into new line. You need to use <code>Write</code> and have a <code>WriteLine</code> when 10 numbers already written.</p>\n\n<pre><code>{\n    string path = @\"textasd.txt\";\n    string ro = @\"nums.dat\";\n    StreamWriter sw = new StreamWriter(path);\n    StreamReader sr = new StreamReader(ro);\n    int length = 0,c;\n    char[] field= new char[10];\n    var numbersProcessed = 0;  //----&gt; this is new\n    while ((c = sr.Read()) != -1)\n    {\n        if (char.IsDigit((char)c))\n        {\n            field[length] = (char)c;\n            length++;\n        }\n        else\n        {\n            if(length &gt;= 5)\n            {\n                //---&gt; new code starts\n                numbersProcessed++;\n                sw.Write(field, 0, length);\n                if (numbersProcessed % 10 == 0)\n                {\n                     sw.WriteLine();\n                }\n                //---&gt; new code ends\n            }\n            length = 0;\n        }\n    }\n    sr.Close();\n    sw.Close();\n}\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 9561020, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ThePejnMan", "link": "https://stackoverflow.com/users/9561020/thepejnman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 59547824, "answer_count": 1, "score": 0, "last_activity_date": 1577841176, "creation_date": 1577819209, "last_edit_date": 1577841176, "question_id": 59547698, "link": "https://stackoverflow.com/questions/59547698/how-to-make-streamwriter-make-a-new-line-after-specific-number-of-integers", "title": "How to make streamwriter make a new line after specific number of integers?", "body": "<p>I have file with 1000 random numbers (10 characters long) numbers and i want to create new txt file that will have 10 of these numbers on line and then make a new line with another 10 numbers.</p>\n\n<p>I was only able to either print them all on first line or make a line after every (10) numbers.</p>\n\n<pre><code>        {\n            string path = @\"textasd.txt\";\n            string ro = @\"nums.dat\";\n            StreamWriter sw = new StreamWriter(path);\n            StreamReader sr = new StreamReader(ro);\n            int length = 0,c;\n            char[] field= new char[10];\n            while ((c = sr.Read()) != -1)\n            {\n                if (char.IsDigit((char)c))\n                {\n                    pole[length] = (char)c;\n                    length++;\n                }\n                else\n                {\n                    if(length &gt;= 5)\n                    {\n                        sw.WriteLine(field, 0, length);\n                    }\n                    length = 0;\n                }\n            }\n            sr.Close();\n            sw.Close();\n        }\n</code></pre>\n"}, {"tags": ["c#", "debugging", "cmd", ".net-core", "visual-studio-code"], "comments": [{"owner": {"reputation": 1373, "user_id": 3902958, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4I8vc.png?s=128&g=1", "display_name": "panoskarajohn", "link": "https://stackoverflow.com/users/3902958/panoskarajohn"}, "edited": false, "score": 0, "creation_date": 1577820112, "post_id": 59547680, "comment_id": 105264623, "body": "Have you created a <code>launch.json</code>?"}, {"owner": {"reputation": 1081, "user_id": 9578604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmzKY.jpg?s=128&g=1", "display_name": "qqqqqqq", "link": "https://stackoverflow.com/users/9578604/qqqqqqq"}, "reply_to_user": {"reputation": 1373, "user_id": 3902958, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4I8vc.png?s=128&g=1", "display_name": "panoskarajohn", "link": "https://stackoverflow.com/users/3902958/panoskarajohn"}, "edited": false, "score": 0, "creation_date": 1577820139, "post_id": 59547680, "comment_id": 105264631, "body": "@panoskarajohn, no I did not."}, {"owner": {"reputation": 1373, "user_id": 3902958, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4I8vc.png?s=128&g=1", "display_name": "panoskarajohn", "link": "https://stackoverflow.com/users/3902958/panoskarajohn"}, "edited": false, "score": 1, "creation_date": 1577820280, "post_id": 59547680, "comment_id": 105264657, "body": "<code>vscode</code> needs two files <code>tasks.json</code> and <code>launch.json</code>. Create a new <code>console app</code> and go to the debugger of vscode. It should have an option to create one for you automatically. See this example there and adapt to your own."}], "owner": {"reputation": 1081, "user_id": 9578604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmzKY.jpg?s=128&g=1", "display_name": "qqqqqqq", "link": "https://stackoverflow.com/users/9578604/qqqqqqq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 328, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577819073, "creation_date": 1577819073, "question_id": 59547680, "link": "https://stackoverflow.com/questions/59547680/how-can-i-debug-a-console-net-core-project-in-vs-code-in-a-sln", "title": "How can I debug a console .NET Core project in VS Code in a sln?", "body": "<p>How can I debug a console .NET Core project in VS Code in a sln?</p>\n\n<p>I created a solution with the help of the <code>dotnet new sln</code>, then I created a few projects and added all of them to the solution be using the <code>dotnet sln add &lt;PATH TO .csproj&gt;</code>. All of that I did with the help of VS Code and the git bash.</p>\n\n<p>Now I created a .NET console project with the help of the <code>dotnet new console</code>. And I would like to debug it.</p>\n\n<p>I can only run the <code>dotnet run</code> in the git bash when the git bash`s current directory in the .NET console project directory and there is nothing like the <code>dotnet debug</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ukaRs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ukaRs.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "azure", "authentication", "asp.net-core-mvc", "azure-active-directory"], "answers": [{"comments": [{"owner": {"reputation": 1198, "user_id": 140522, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5008e6a86b0257b08c3edff113e8e0cd?s=128&d=identicon&r=PG", "display_name": "jamesamuir", "link": "https://stackoverflow.com/users/140522/jamesamuir"}, "edited": false, "score": 0, "creation_date": 1577908154, "post_id": 59549229, "comment_id": 105279699, "body": "those were great resources. Thank you!"}], "tags": [], "owner": {"reputation": 581, "user_id": 7366631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mv1Nq.jpg?s=128&g=1", "display_name": "sidecus", "link": "https://stackoverflow.com/users/7366631/sidecus"}, "is_accepted": true, "score": 1, "last_activity_date": 1577837050, "creation_date": 1577837050, "answer_id": 59549229, "question_id": 59547668, "link": "https://stackoverflow.com/questions/59547668/mvc-core-azure-active-directory-get-groups-from-graphapi/59549229#59549229", "title": "MVC Core + Azure Active Directory Get Groups from GraphAPI", "body": "<p>There is a good answer on this @<a href=\"https://stackoverflow.com/questions/58091323/how-to-use-microsoft-graph-api-to-get-all-the-groups-for-authorization-in-net-c\">here</a>.</p>\n\n<p>It however suggests you to get all the group membership for a given user - which might not be efficient if user has large number of group memberships.</p>\n\n<p>You can instead use the <a href=\"https://docs.microsoft.com/en-us/graph/api/user-checkmembergroups?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">checkMemberGroups api</a>. It can take up to 20 group ids for each call which should be good enough for most of the cases.</p>\n"}], "owner": {"reputation": 1198, "user_id": 140522, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5008e6a86b0257b08c3edff113e8e0cd?s=128&d=identicon&r=PG", "display_name": "jamesamuir", "link": "https://stackoverflow.com/users/140522/jamesamuir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 59549229, "answer_count": 1, "score": 0, "last_activity_date": 1577837050, "creation_date": 1577818910, "question_id": 59547668, "link": "https://stackoverflow.com/questions/59547668/mvc-core-azure-active-directory-get-groups-from-graphapi", "title": "MVC Core + Azure Active Directory Get Groups from GraphAPI", "body": "<p>I am trying to implement authentication in an MVC Core 2.2 application using Azure Active Directory by following this <a href=\"https://www.c-sharpcorner.com/article/authentication-and-authorization-in-asp-net-core-2-0-using-azure-active-director/\" rel=\"nofollow noreferrer\">tutorial</a>.</p>\n\n<p>I have configured the manifest appropriately by setting the \u201cgroupMembershipClaims\": \"SecurityGroup\" but am still not getting the groups as part of the user claims. It appears that I should be getting something like this </p>\n\n<p><a href=\"https://www.red-gate.com/simple-talk/cloud/security-and-compliance/azure-active-directory-part-4-group-claims/\" rel=\"nofollow noreferrer\">https://www.red-gate.com/simple-talk/cloud/security-and-compliance/azure-active-directory-part-4-group-claims/</a>\n<a href=\"https://i.stack.imgur.com/EpvTp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EpvTp.png\" alt=\"enter image description here\"></a></p>\n\n<p>when inspecting the claims however all I appear to be getting is \"<a href=\"http://schemas.microsoft.com/ws/2008/06/identity/claims/groupsid\" rel=\"nofollow noreferrer\">http://schemas.microsoft.com/ws/2008/06/identity/claims/groupsid</a>:\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/WlxQQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WlxQQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>It seems that if the user has more than 4 groups assigned that they </p>\n\n<p><a href=\"https://github.com/MicrosoftDocs/azure-docs/issues/6996\" rel=\"nofollow noreferrer\">will not be sent as part of the token.</a> and that one would need to use the GraphAPI to pull the groups for the user. </p>\n\n<p>I cannot seem to find any resources that illustrate how to accomplish this and get it to work with </p>\n\n<pre><code>    services.AddAuthorization(options =&gt;\n        {\n\n            options.AddPolicy(\"Editor\", policy =&gt; policy.RequireClaim(\"groups\",\"XXXXXXXXXXXX\"));\n\n        });\n</code></pre>\n\n<p>Can someone possibly point me in the right direction?</p>\n"}, {"tags": ["c#", "winforms", ".net-core", ".net-core-3.0"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 3, "creation_date": 1577816899, "post_id": 59547422, "comment_id": 105263899, "body": "They decided not to port the .NET 1.0 classes that were replaced in .NET 2.0.  DataGrid was replaced by DataGridView."}, {"owner": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 1, "creation_date": 1577816954, "post_id": 59547422, "comment_id": 105263916, "body": "^ <a href=\"https://docs.microsoft.com/en-us/dotnet/core/porting/winforms-breaking-changes\" rel=\"nofollow noreferrer\">This post</a> explains more"}, {"owner": {"reputation": 23000, "user_id": 1415614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/F6BHs.jpg?s=128&g=1", "display_name": "RonC", "link": "https://stackoverflow.com/users/1415614/ronc"}, "edited": false, "score": 1, "creation_date": 1577816994, "post_id": 59547422, "comment_id": 105263926, "body": "@HansPassant3 Gotcha.  Provide that as the answer and I&#39;ll accept it. Guess I&#39;m off to learn how to port the <code>DataGrid</code> code to a <code>DataGridView</code> :-)"}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1577817025, "post_id": 59547422, "comment_id": 105263931, "body": "Shouldn&#39;t be that difficult.  DataGridView is a better control anyway."}, {"owner": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 2, "creation_date": 1577817051, "post_id": 59547422, "comment_id": 105263943, "body": "This may help as well: <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/winforms/controls/differences-between-the-windows-forms-datagridview-and-datagrid-controls\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/framework/winforms/controls/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 23000, "user_id": 1415614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/F6BHs.jpg?s=128&g=1", "display_name": "RonC", "link": "https://stackoverflow.com/users/1415614/ronc"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1577817102, "post_id": 59547422, "comment_id": 105263954, "body": "@RobertHarvey Agreed.  If they replaced the control the new one is probably a much better control."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 1, "creation_date": 1577817545, "post_id": 59547422, "comment_id": 105264078, "body": "As a curiosity, <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.datagrid\" rel=\"nofollow noreferrer\">MSDN says</a> that it&#39;s available in both .Net Core 3.0 and 3.1"}, {"owner": {"reputation": 23000, "user_id": 1415614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/F6BHs.jpg?s=128&g=1", "display_name": "RonC", "link": "https://stackoverflow.com/users/1415614/ronc"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577817707, "post_id": 59547422, "comment_id": 105264113, "body": "@Jimi I saw that too. That documentation seems to be in direct contradiction to  the post devNull (above) pointed out here: <a href=\"https://docs.microsoft.com/en-us/dotnet/core/porting/winforms-breaking-changes\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/core/porting/&hellip;</a> and of course the compiler doesn&#39;t lie. :-)  So looks like MS has some docs cleanup to do."}, {"owner": {"reputation": 23000, "user_id": 1415614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/F6BHs.jpg?s=128&g=1", "display_name": "RonC", "link": "https://stackoverflow.com/users/1415614/ronc"}, "edited": false, "score": 1, "creation_date": 1577817902, "post_id": 59547422, "comment_id": 105264153, "body": "For those following along, in my case, getting the code to compile was almost as easy as swapping out all occurrences of <code>DataGrid</code>  to <code>DataGridView</code>.  I only had one property on it I was using that didn&#39;t port straight across, that was DataGrid&#39;s <code>HeaderForeColor</code> and I just commented out that line of code.  So I&#39;m quite happy."}], "owner": {"reputation": 23000, "user_id": 1415614, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/F6BHs.jpg?s=128&g=1", "display_name": "RonC", "link": "https://stackoverflow.com/users/1415614/ronc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1223, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1577816684, "creation_date": 1577816684, "question_id": 59547422, "link": "https://stackoverflow.com/questions/59547422/how-to-resolve-datagrid-type-in-net-core-3-x-winforms", "title": "How to resolve DataGrid Type in .Net Core 3.x WinForms?", "body": "<p>I'm in the process of converting a legacy WinForms app to .Net Core 3.  This is the 2nd Winform's App I'm converting, I had success converting the first one.</p>\n\n<p>The challenge I'm hitting is that this WinForms app uses the <code>DataGrid</code> control and the compiler is complaining: </p>\n\n<blockquote>\n  <p>The type or namespace 'DataGrid' does not exist in the namespace 'System.Windows.Forms' (are you missing an assembly reference?)</p>\n</blockquote>\n\n<p>This can also be seen by hovering over the type in VS.  I'm using Visual Studio 16.4.2, although I'm not sure that matters.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gQglh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQglh.png\" alt=\"enter image description here\"></a></p>\n\n<p>Ctl+. does not provide any nuget packages to resolve this type.  My WinForms project contains <code>&lt;TargetFramework&gt;netcoreapp3.1&lt;/TargetFramework&gt;</code> and all the other WinFroms types resolve no problem, eg. <code>System.Windows.Forms.TextBox</code>.  </p>\n\n<p>I'm a bit baffled that <code>System.Windows.Forms.DataGrid</code> is an \"unknown type\".  Any help on how to resolve this type would be greatly appreciated.</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1577816790, "post_id": 59547408, "comment_id": 105263877, "body": "If you are expecting your character to keep moving such as he was running forwards and now jumps, using the rigidbody movement would seem very logical. All that you dont want is you dont want user input to change the direction he was originally heading in or to be able to jump again"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1577816865, "post_id": 59547408, "comment_id": 105263893, "body": "Why do you think the <code>Rigidbody</code> wouldn&#39;t be right?"}, {"owner": {"reputation": 142, "user_id": 10935201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AvJ6L.jpg?s=128&g=1", "display_name": "The Developer", "link": "https://stackoverflow.com/users/10935201/the-developer"}, "reply_to_user": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1577817066, "post_id": 59547408, "comment_id": 105263945, "body": "@BugFinder I could use RidgidBody.MovePossition(), but still how do I make it so I don&#39;t let the player move the character midair? (I kinda new to this stuff)"}, {"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1577817561, "post_id": 59547408, "comment_id": 105264082, "body": "using the rigidbody you give it momentum, or velocity, it handles it for you"}], "answers": [{"tags": [], "owner": {"reputation": 376, "user_id": 12619324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ucTWv.png?s=128&g=1", "display_name": "Vale", "link": "https://stackoverflow.com/users/12619324/vale"}, "is_accepted": true, "score": 4, "last_activity_date": 1578934659, "last_edit_date": 1578934659, "creation_date": 1577817071, "answer_id": 59547473, "question_id": 59547408, "link": "https://stackoverflow.com/questions/59547408/block-user-input-without-affecting-the-movement/59547473#59547473", "title": "Block user input without affecting the movement", "body": "<p>In your code, <code>transform.Translate(vector.normalized * movementSpeed * Time.deltaTime);</code> is what makes your character actually move. Since you've put under a <code>if (grounded)</code> this means the character will stop moving altogether if grounded is false (as long as you don't have anything else making it move).</p>\n\n<p>Instead, what you want to do is to preserve the state <code>vector</code> was in when you jumped so that your character will keep moving in the same direction. You can do so by putting the entire input block under the <code>if (grounded)</code> condition and having vector as a global variable rather than a local one. Here what it would look like:</p>\n\n<p>Declare <code>vector</code> in the class rather than in function.</p>\n\n<pre><code>Vector3 vector;\n</code></pre>\n\n<p>Then the actual logic code:</p>\n\n<pre><code>if (grounded) \n{\n  vector = Vector3.zero;\n\n  if (Input.GetKey(KeyCode.W) &amp;&amp; !Input.GetKey(KeyCode.S))\n  {\n     vector += Vector3.forward;\n  }\n  else if (Input.GetKey(KeyCode.S) &amp;&amp; !Input.GetKey(KeyCode.W))\n  {\n     vector += Vector3.back;\n  }\n\n  if (Input.GetKey(KeyCode.A) &amp;&amp; !Input.GetKey(KeyCode.D))\n  {\n     vector += Vector3.left;\n  }\n  else if (Input.GetKey(KeyCode.D) &amp;&amp; !Input.GetKey(KeyCode.A))\n  {\n     vector += Vector3.right;\n  }\n}\n\ntransform.Translate(vector.normalized * movementSpeed * Time.deltaTime);\n</code></pre>\n"}], "owner": {"reputation": 142, "user_id": 10935201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AvJ6L.jpg?s=128&g=1", "display_name": "The Developer", "link": "https://stackoverflow.com/users/10935201/the-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 59547473, "answer_count": 1, "score": 1, "last_activity_date": 1578934659, "creation_date": 1577816602, "question_id": 59547408, "link": "https://stackoverflow.com/questions/59547408/block-user-input-without-affecting-the-movement", "title": "Block user input without affecting the movement", "body": "<p>I have this piece of movement script to move my character around:  </p>\n\n<pre><code>Vector3 vector = Vector3.zero;\n\nif (Input.GetKey(KeyCode.W) &amp;&amp; !Input.GetKey(KeyCode.S))\n{\n   vector += Vector3.forward;\n}\nelse if (Input.GetKey(KeyCode.S) &amp;&amp; !Input.GetKey(KeyCode.W))\n{\n   vector += Vector3.back;\n}\n\nif (Input.GetKey(KeyCode.A) &amp;&amp; !Input.GetKey(KeyCode.D))\n{\n   vector += Vector3.left;\n}\nelse if (Input.GetKey(KeyCode.D) &amp;&amp; !Input.GetKey(KeyCode.A))\n{\n   vector += Vector3.right;\n}\n\nif (grounded) \n{\n   transform.Translate(vector.normalized * movementSpeed * Time.deltaTime);\n}\n</code></pre>\n\n<p>I also have a collision detection code that affects boolean <code>grounded</code>. I use it to detect when the player's jumping.<br>\nI wanted to do so when the character isn't on the ground player couldn't move it BUT the character still moves in the direction before the jump. Right now if I jump the character stops midair.\nI guess I could use my RidgidBody, but I don't think this is the right choice.<br>\nAny thoughts?</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-core", "command-line-interface"], "comments": [{"owner": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 1, "creation_date": 1577816692, "post_id": 59547316, "comment_id": 105263847, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/43687433/update-database-command-is-not-working-in-asp-net-core-entity-framework-core-b\">Update-Database command is not working in ASP.Net Core / Entity Framework Core because object in database already exists</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4879, "user_id": 1212994, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0Z0E2.jpg?s=128&g=1", "display_name": "Todd Skelton", "link": "https://stackoverflow.com/users/1212994/todd-skelton"}, "is_accepted": false, "score": -1, "last_activity_date": 1577816647, "last_edit_date": 1577816647, "creation_date": 1577816341, "answer_id": 59547376, "question_id": 59547316, "link": "https://stackoverflow.com/questions/59547316/updating-a-dbcontext-using-the-cli-commands/59547376#59547376", "title": "updating a dbcontext using the CLI commands", "body": "<p>you should use a double dash <code>--force</code> or <code>-f</code> for short hand.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/ef/core/miscellaneous/cli/dotnet#dotnet-ef-database-update\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/ef/core/miscellaneous/cli/dotnet#dotnet-ef-database-update</a></p>\n\n<h1>Update</h1>\n\n<p>Nevermind, you can't force a database update. Your database must be out of sync with your migrations. If you don't have production data in the database, the easiest option would be to delete it and reapply your migrations.</p>\n"}], "owner": {"reputation": 87, "user_id": 8964654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99db72edcc080e8eca890e16bdc5334?s=128&d=identicon&r=PG&f=1", "display_name": "user8964654", "link": "https://stackoverflow.com/users/8964654/user8964654"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577816671, "creation_date": 1577815846, "last_edit_date": 1577816671, "question_id": 59547316, "link": "https://stackoverflow.com/questions/59547316/updating-a-dbcontext-using-the-cli-commands", "title": "updating a dbcontext using the CLI commands", "body": "<p>I am trying to update my database after a migration but I am getting an error saying\n\"There is already an object named [TableName] in the database.\"</p>\n\n<p>below is how my project is structured</p>\n\n<p>AtlasBooking.Client houses the <code>startup.cs</code> file and is contained in a different namespace while AtlasBooking.Storing is where I house pretty much everything else about database interaction</p>\n\n<pre><code> 1.AtlasBooking.Client\n    -View folder\n    -ViewModels folder\n    -Controller folder\n    -Program.cs file\n    -Startup.cs file\n    -AtlasBooking.Client.csproj file\n\n2. AtlasBooking.Storing\n     -DbContext folder\n     -Repositories folder\n     -Migrations folder\n     -AtlasBooking.Storing.csproj file\n</code></pre>\n\n<p>AtlasBooking.Client.csproj references AtlasBooking.Storing.csproj as shown below</p>\n\n<pre><code>&lt;ItemGroup&gt;\n    &lt;ProjectReference Include=\"..\\AtlasBooking.Storing\\AtlasBooking.Storing.csproj\" /&gt;\n  &lt;/ItemGroup&gt;\n\n</code></pre>\n\n<p>I was successfully added the migration with the following</p>\n\n<pre><code>AtlasBooking.Storing: dotnet ef --startup-project ../AtlasBooking.Client/AtlasBooking.Client.csproj migrations add initialCreate --context AtlasBookingDbContext -o Migrations\n</code></pre>\n\n<p>to update database I used this</p>\n\n<pre><code>AtlasBooking.Storing:  dotnet ef --startup-project ../AtlasBooking.Client/AtlasBooking.Client.csproj  database update\n</code></pre>\n\n<p>I've also tried</p>\n\n<pre><code>AtlasBooking.Storing:  dotnet ef --startup-project ../AtlasBooking.Client/AtlasBooking.Client.csproj  database update --force\n</code></pre>\n\n<p>and I get the error <code>Unrecognized option '--force'</code></p>\n\n<p>how do I fix this?</p>\n"}, {"tags": ["c#", "string", "unity3d", "translation", "string-concatenation"], "comments": [{"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1577814894, "post_id": 59547165, "comment_id": 105263310, "body": "What if you translate the whole string, verbatim, and just make sure the translation also contains XXXX? And then use the translation instead of the original and then do the replacement? Translating the string <i>after</i> it has had its replacements done is going to be much more difficult."}, {"owner": {"reputation": 404, "user_id": 2929848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDJbX.png?s=128&g=1", "display_name": "Trey", "link": "https://stackoverflow.com/users/2929848/trey"}, "edited": false, "score": 0, "creation_date": 1577815016, "post_id": 59547165, "comment_id": 105263358, "body": "Please post your code, that will give us somewhere to start..."}, {"owner": {"reputation": 29, "user_id": 12633353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0658c43faf63dcfd603f30667348124?s=128&d=identicon&r=PG&f=1", "display_name": "lecapitaine", "link": "https://stackoverflow.com/users/12633353/lecapitaine"}, "edited": false, "score": 0, "creation_date": 1577815180, "post_id": 59547165, "comment_id": 105263407, "body": "It&#39;s what I tried to do at first, but since Unity gonna Unity, I found I&#39;d have to translate text as it becomes visible.  haven&#39;t got any code thus far since I couldn&#39;t get anything to stick."}, {"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1577815465, "post_id": 59547165, "comment_id": 105263491, "body": "Surely the XXXX is a variable?? can you not do $&quot;Unlock at {myvar}&quot; where myvar is the translated detail?"}, {"owner": {"reputation": 29, "user_id": 12633353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0658c43faf63dcfd603f30667348124?s=128&d=identicon&r=PG&f=1", "display_name": "lecapitaine", "link": "https://stackoverflow.com/users/12633353/lecapitaine"}, "edited": false, "score": 0, "creation_date": 1577815613, "post_id": 59547165, "comment_id": 105263536, "body": "It&#39;s what happens, but my translation method only takes the finished text as input. I do suppose I can make another method that does take the value as a secondary argument, so I&#39;ll try that."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1577815706, "post_id": 59547165, "comment_id": 105263558, "body": "This seems like an <a href=\"https://meta.stackexchange.com/a/66378/405359\">XY problem</a>. You should re-engineer your code so that your translation method doesn&#39;t only take the finished text."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1577816970, "post_id": 59547165, "comment_id": 105263923, "body": "Consider having it take a language identifier (such as an enum or a string with an iso locale code), an identifier for the statement (such as <code>1</code> for any language&#39;s &quot;Unlock at XXXX&quot;) and a list of objects to &quot;plug in&quot; to translate according to that language and to plug into the slots of that statement.   See <a href=\"https://stackoverflow.com/a/58445615/1092820\">here</a> and <a href=\"https://gamedev.stackexchange.com/a/694/121653\">here</a> especially the &quot;don&#39;t concatenate strings in code&quot; part"}], "answers": [{"comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1577817087, "post_id": 59547460, "comment_id": 105263950, "body": "you should rather use a list or a dictionary of values instead of a single string."}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1577817715, "post_id": 59547460, "comment_id": 105264114, "body": "I gather from your answer that the keyword in the text is <b>not</b> <code>XXXX</code> as you portrayed in the question? Otherwise, why do you need to replace first at all?"}, {"owner": {"reputation": 29, "user_id": 12633353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0658c43faf63dcfd603f30667348124?s=128&d=identicon&r=PG&f=1", "display_name": "lecapitaine", "link": "https://stackoverflow.com/users/12633353/lecapitaine"}, "edited": false, "score": 0, "creation_date": 1577877411, "post_id": 59547460, "comment_id": 105272681, "body": "For what it&#39;s worth, it is in fact &quot;XXXX.&quot; I use a string file, so it could effectively be anything."}], "tags": [], "owner": {"reputation": 29, "user_id": 12633353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0658c43faf63dcfd603f30667348124?s=128&d=identicon&r=PG&f=1", "display_name": "lecapitaine", "link": "https://stackoverflow.com/users/12633353/lecapitaine"}, "is_accepted": false, "score": 1, "last_activity_date": 1577816960, "creation_date": 1577816960, "answer_id": 59547460, "question_id": 59547165, "link": "https://stackoverflow.com/questions/59547165/how-to-localize-a-string-in-unity-where-different-languages-may-have-different-g/59547460#59547460", "title": "How to localize a string in unity where different languages may have different grammars", "body": "<p>I eventually found a workaround, thanks to everybody's kind advice. I stored the substring and referred to it in a special translation method that does take in a value. Thanks for your kind help, everybody.</p>\n\n<pre><code>public static string TranslateWithValue (string text, string value, int language) {\n    string sauce = text.Replace (value, \"XXXX\");\n    sauce = Translate (sauce, language);\n    sauce = sauce.Replace (\"XXXX\", value);\n    return sauce;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 205, "user_id": 12628211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a67e8e7f3f7d2d895df08c3cb2f5921f?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksandr Stepanov", "link": "https://stackoverflow.com/users/12628211/aleksandr-stepanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1577838708, "creation_date": 1577838708, "answer_id": 59549307, "question_id": 59547165, "link": "https://stackoverflow.com/questions/59547165/how-to-localize-a-string-in-unity-where-different-languages-may-have-different-g/59549307#59549307", "title": "How to localize a string in unity where different languages may have different grammars", "body": "<p>Usually, I use string.Format in such cases. In your case, I'd declare 2 localizeable strings:\n<code>\nstring unlockFormat = \"Unlock at {0}\";\nstring unlockValue = \"next level\";\n</code>\nWhen you need the unlock condition displayed, you can combine the strings like that:\n<code>\nstring unlockCondition = string.Format(unlockFormat, unlockValue);\n</code>\nwhich will produce the string \"Unlock at next level\".</p>\n\n<p>Both unlockFormat and unlockValue can be translated, and the translator can move {0} wherever needed.</p>\n"}], "owner": {"reputation": 29, "user_id": 12633353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0658c43faf63dcfd603f30667348124?s=128&d=identicon&r=PG&f=1", "display_name": "lecapitaine", "link": "https://stackoverflow.com/users/12633353/lecapitaine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1577838708, "creation_date": 1577814784, "last_edit_date": 1577817594, "question_id": 59547165, "link": "https://stackoverflow.com/questions/59547165/how-to-localize-a-string-in-unity-where-different-languages-may-have-different-g", "title": "How to localize a string in unity where different languages may have different grammars", "body": "<p>I'm translating a Unity game and some of the lines go like</p>\n\n<blockquote>\n  <p>Unlock at XXXX</p>\n</blockquote>\n\n<p>where \"XXXX\" is replaced at runtime by an arbitrary substring. Easy enough to replace the wildcards, but to translate the quote, I can't simply concatenate a + b, as some languages will have the value before or inside the string. I figured I needed to, effectively, de-replace it, ie isolate and keep the substring and translate whatever's around it.</p>\n\n<p>Problem is that while I can easily do the second part, I can't think of any avenues for the first. I know to get the character index of what I'm looking for, but the value takes up an arbitrary number of characters, and I can't use whitespace since some languages don't use it. Can't use digit detection since not all of the values are going to be numbers. I tried asking Google, but I couldn't translate \"find whatever replaces a wildcard\" into something keyword-searchable.</p>\n\n<p>In short, what I'm looking for is a way to find the \"XXXX\" (the easy part) and then <strong>find whatever replaces it in the string</strong> (the less-easy part).</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "visual-studio-code"], "comments": [{"owner": {"reputation": 13987, "user_id": 109941, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c8a94e8bd3a691d079556cdf5a0b248?s=128&d=identicon&r=PG", "display_name": "Jim G.", "link": "https://stackoverflow.com/users/109941/jim-g"}, "edited": false, "score": 1, "creation_date": 1577816923, "post_id": 59547130, "comment_id": 105263907, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/49136015/vscode-format-curly-brackets-on-the-same-line-c-sharp\">VSCode format curly brackets on the same line c#</a>"}, {"owner": {"reputation": 13987, "user_id": 109941, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c8a94e8bd3a691d079556cdf5a0b248?s=128&d=identicon&r=PG", "display_name": "Jim G.", "link": "https://stackoverflow.com/users/109941/jim-g"}, "edited": false, "score": 1, "creation_date": 1577816963, "post_id": 59547130, "comment_id": 105263921, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/q/56934072/109941\">stackoverflow.com/q/56934072/109941</a>"}, {"owner": {"reputation": 1081, "user_id": 9578604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmzKY.jpg?s=128&g=1", "display_name": "qqqqqqq", "link": "https://stackoverflow.com/users/9578604/qqqqqqq"}, "reply_to_user": {"reputation": 13987, "user_id": 109941, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c8a94e8bd3a691d079556cdf5a0b248?s=128&d=identicon&r=PG", "display_name": "Jim G.", "link": "https://stackoverflow.com/users/109941/jim-g"}, "edited": false, "score": 0, "creation_date": 1577818041, "post_id": 59547130, "comment_id": 105264181, "body": "@JimG., the  stackoverflow.com/q/56934072/109941 answer do not help. Thank you."}, {"owner": {"reputation": 1081, "user_id": 9578604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmzKY.jpg?s=128&g=1", "display_name": "qqqqqqq", "link": "https://stackoverflow.com/users/9578604/qqqqqqq"}, "reply_to_user": {"reputation": 13987, "user_id": 109941, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c8a94e8bd3a691d079556cdf5a0b248?s=128&d=identicon&r=PG", "display_name": "Jim G.", "link": "https://stackoverflow.com/users/109941/jim-g"}, "edited": false, "score": 0, "creation_date": 1577818239, "post_id": 59547130, "comment_id": 105264235, "body": "@JimG., <a href=\"https://stackoverflow.com/questions/49136015/vscode-format-curly-brackets-on-the-same-line-c-sharp\">the</a> solution does not work either. Thank you."}, {"owner": {"reputation": 1373, "user_id": 3902958, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4I8vc.png?s=128&g=1", "display_name": "panoskarajohn", "link": "https://stackoverflow.com/users/3902958/panoskarajohn"}, "reply_to_user": {"reputation": 13987, "user_id": 109941, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c8a94e8bd3a691d079556cdf5a0b248?s=128&d=identicon&r=PG", "display_name": "Jim G.", "link": "https://stackoverflow.com/users/109941/jim-g"}, "edited": false, "score": 2, "creation_date": 1577822342, "post_id": 59547130, "comment_id": 105265065, "body": "@JimG.&#39;s duplicate is valid. After you have created the <code>omnisharp json</code>, click <code>Alt</code>+<code>shift</code> + <code>F</code>. Works!"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 1373, "user_id": 3902958, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4I8vc.png?s=128&g=1", "display_name": "panoskarajohn", "link": "https://stackoverflow.com/users/3902958/panoskarajohn"}, "edited": false, "score": 0, "creation_date": 1577825021, "post_id": 59547130, "comment_id": 105265643, "body": "@panoskarajohn As noted in the question, the OP doesn&#39;t want to have to type <code>Alt</code>+<code>Shift</code>+<code>F</code> but have it happen automatically."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1577825059, "post_id": 59547130, "comment_id": 105265651, "body": "Did you create the <code>omnisharp json</code> with everything set to <code>true</code>?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1577825308, "post_id": 59547130, "comment_id": 105265711, "body": "Do you have the Text Editor settings for Format on Type and Format on Paste enabled?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1577825852, "post_id": 59547130, "comment_id": 105265803, "body": "I would recommend you type in <code>namespace MyNamesp</code> then press <code>Enter</code>, then press <code>{</code> then press <code>Enter</code> to get what you want. You should not be typing space after e.g. <code>Configuration</code> if you want the open brace on a newline, you should be typing <code>Enter</code>. You can also enable Format on Save to have it reformat every time you save a file."}, {"owner": {"reputation": 1081, "user_id": 9578604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmzKY.jpg?s=128&g=1", "display_name": "qqqqqqq", "link": "https://stackoverflow.com/users/9578604/qqqqqqq"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1577826135, "post_id": 59547130, "comment_id": 105265848, "body": "@NetMage, over <a href=\"https://stackoverflow.com/questions/49136015/vscode-format-curly-brackets-on-the-same-line-c-sharp\">here</a> the opposite is recommended. It is recommended to set everything to <code>false</code>. But ok, let me try to set everything to <code>true</code>."}, {"owner": {"reputation": 1081, "user_id": 9578604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmzKY.jpg?s=128&g=1", "display_name": "qqqqqqq", "link": "https://stackoverflow.com/users/9578604/qqqqqqq"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1577826206, "post_id": 59547130, "comment_id": 105265864, "body": "@NetMage, it does not work with the <code>omnisharp</code> even when all the properties are set to <code>true</code>."}, {"owner": {"reputation": 1081, "user_id": 9578604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmzKY.jpg?s=128&g=1", "display_name": "qqqqqqq", "link": "https://stackoverflow.com/users/9578604/qqqqqqq"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1577826316, "post_id": 59547130, "comment_id": 105265880, "body": "@NetMage, hm. The solution to press the <code>Enter</code> first seems very clever in this case. Could you, please, post it as an answer?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1577828576, "post_id": 59547130, "comment_id": 105266277, "body": "That question is asking the opposite of yours, the answer is how to prevent a newline before braces."}], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": true, "score": 1, "last_activity_date": 1577828644, "creation_date": 1577828644, "answer_id": 59548652, "question_id": 59547130, "link": "https://stackoverflow.com/questions/59547130/make-the-vs-code-move-the-curly-brace-to-the-next-line-automatically/59548652#59548652", "title": "Make the VS Code move the curly brace to the next line automatically", "body": "<p>I think it would help if you turned on the Text Editor settings for Format on Type and Format on Paste. You could also turn on Format on Save if desired.</p>\n\n<p>I would recommend you type in <code>namespace MyNamesp</code> then press <code>Enter</code>, then press <code>{</code> then press <code>Enter</code> to get what you want. You should not be typing <code>space</code> after e.g. <code>Configuration</code> if you want the open brace on a newline, you should be typing <code>Enter</code>.</p>\n"}], "owner": {"reputation": 1081, "user_id": 9578604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mmzKY.jpg?s=128&g=1", "display_name": "qqqqqqq", "link": "https://stackoverflow.com/users/9578604/qqqqqqq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "accepted_answer_id": 59548652, "answer_count": 1, "score": 1, "last_activity_date": 1577828644, "creation_date": 1577814589, "last_edit_date": 1577815605, "question_id": 59547130, "link": "https://stackoverflow.com/questions/59547130/make-the-vs-code-move-the-curly-brace-to-the-next-line-automatically", "title": "Make the VS Code move the curly brace to the next line automatically", "body": "<p>Is it possible to make the VS Code move the curly brace to the next line automatically?</p>\n\n<p>E.g. in this code:</p>\n\n<pre><code>namespace MyNamesp\n{\n    public class Configuration {\n\n    }\n}\n</code></pre>\n\n<p>I would like the code to be formatted like this:</p>\n\n<pre><code>namespace MyNamesp\n{\n    public class Configuration \n    {\n\n    }\n}\n</code></pre>\n\n<p>ASAP as I typed this:</p>\n\n<pre><code>namespace MyNamesp\n{\n    public class Configuration {}\n}\n</code></pre>\n\n<p>And pressed (or not pressed, I do not care about this exactly) the <code>Enter</code> while being between the <code>{}</code>.</p>\n\n<p>Right now in order to achieve this kind of formatting I have to select the whole document (<code>Ctrl</code> + <code>A</code>) and click <code>Alt</code> + <code>Shift</code> + 'F'.</p>\n"}, {"tags": ["c#", "cmd", "command-line", "textarea"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1577814519, "post_id": 59547089, "comment_id": 105263215, "body": "This is really the wrong way, but put Application.DoEvents() after the AppendText."}, {"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1577814740, "post_id": 59547089, "comment_id": 105263265, "body": "You can try to do that asynchronously, like in this thread <a href=\"https://stackoverflow.com/questions/9533070/how-to-read-to-end-process-output-asynchronously-in-c\">How to read to end process output asynchronously in C#?</a>"}], "owner": {"reputation": 79, "user_id": 11710512, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ADA_c0dtd6Y/AAAAAAAAAAI/AAAAAAAAXQg/sqEIUFix8ug/photo.jpg?sz=128", "display_name": "David Moll", "link": "https://stackoverflow.com/users/11710512/david-moll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577814253, "creation_date": 1577814253, "question_id": 59547089, "link": "https://stackoverflow.com/questions/59547089/output-of-cmd-window-displayed-in-a-textbox-doesnt-update-in-real-time", "title": "Output of CMD-window displayed in a TextBox doesn&#39;t update in Real-Time", "body": "<p>I am trying to display the output of a command-window in a textbox, but the code doesn't update. It only shows the first action, nothing more. What I want is it to update if new text appears in the commandline aswell.</p>\n\n<p>Here is the code I have so far, which all get triggered on a button-click:</p>\n\n<pre><code>System.Diagnostics.ProcessStartInfo procStartInfo =\n                 new System.Diagnostics.ProcessStartInfo(\"cmd\", \"/c \" + command);\n\n            procStartInfo.RedirectStandardOutput = true;\n            procStartInfo.UseShellExecute = false;\n            procStartInfo.CreateNoWindow = true;\n            System.Diagnostics.Process proc = new System.Diagnostics.Process();\n            proc.StartInfo = procStartInfo;\n            proc.Start();\n            while (!proc.StandardOutput.EndOfStream)\n            {\n                string result = proc.StandardOutput.ReadToEnd();\n                TextAreaOutput.AppendText(result + \"\\n\");\n            }\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["c#", "visual-studio-2017", "wpf-controls"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1577814682, "post_id": 59547086, "comment_id": 105263249, "body": "Did you compile the project?"}, {"owner": {"reputation": 123, "user_id": 8834314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e8cae4bedb86f89bb4d690aada1b58?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/8834314/chris"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1577818214, "post_id": 59547086, "comment_id": 105264228, "body": "Yes as I said, Ive rebuilt it.  Ive done that multiple times."}], "answers": [{"tags": [], "owner": {"reputation": 181, "user_id": 11872738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ba0119f4f593d3bf054664670c2a00?s=128&d=identicon&r=PG&f=1", "display_name": "Alex.Li - MSFT", "link": "https://stackoverflow.com/users/11872738/alex-li-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1577932767, "creation_date": 1577932767, "answer_id": 59557786, "question_id": 59547086, "link": "https://stackoverflow.com/questions/59547086/visual-studio-not-addin-custom-user-control-to-toolbox/59557786#59557786", "title": "Visual Studio not addin custom user control to toolbox", "body": "<p>You can try to add it to the toolbox manually\nIn the toolbox, select the WPF Components. At this time, click Browse, find the dll, add it, and click OK.</p>\n"}, {"tags": [], "owner": {"reputation": 123, "user_id": 8834314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e8cae4bedb86f89bb4d690aada1b58?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/8834314/chris"}, "is_accepted": true, "score": 0, "last_activity_date": 1578026914, "creation_date": 1578026914, "answer_id": 59573340, "question_id": 59547086, "link": "https://stackoverflow.com/questions/59547086/visual-studio-not-addin-custom-user-control-to-toolbox/59573340#59573340", "title": "Visual Studio not addin custom user control to toolbox", "body": "<p>I accidentally made a normal user control instead of a WPF user control.</p>\n"}], "owner": {"reputation": 123, "user_id": 8834314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e8cae4bedb86f89bb4d690aada1b58?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/8834314/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 59573340, "answer_count": 2, "score": 0, "last_activity_date": 1578026914, "creation_date": 1577814216, "question_id": 59547086, "link": "https://stackoverflow.com/questions/59547086/visual-studio-not-addin-custom-user-control-to-toolbox", "title": "Visual Studio not addin custom user control to toolbox", "body": "<p>I created a new C# WPF app project in visual studio 2017 and added a user control to the project.  Now when I try to add that user control to my main window it doesnt show up in the toolbox.</p>\n\n<p>Ive checked the AutoToolboxPopulate property and it is set to true and Ive rebuilt.  Ive tried closing and opening the project and Visual Studio.</p>\n\n<p>What do I need to do to get my controls to show up in the toolbox?</p>\n"}, {"tags": ["c#", "sql", "sqlite"], "comments": [{"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 3, "creation_date": 1577813713, "post_id": 59547012, "comment_id": 105262989, "body": "Your connection string doesn&#39;t look like you&#39;re using SQLite?"}, {"owner": {"reputation": 1018, "user_id": 1034012, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vryjZ.png?s=128&g=1", "display_name": "Alex S", "link": "https://stackoverflow.com/users/1034012/alex-s"}, "edited": false, "score": 2, "creation_date": 1577813751, "post_id": 59547012, "comment_id": 105263000, "body": "Your connection string shows you are using SQL Server Express instance and not SQLLite"}, {"owner": {"reputation": 686, "user_id": 4421078, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bO3qWQubkB4/AAAAAAAAAAI/AAAAAAAAAlI/UWjXQC0qOlY/photo.jpg?sz=128", "display_name": "Diego Baranowski", "link": "https://stackoverflow.com/users/4421078/diego-baranowski"}, "reply_to_user": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1577813929, "post_id": 59547012, "comment_id": 105263053, "body": "I Agreed with @sticky bit"}, {"owner": {"reputation": 11851, "user_id": 8367626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vlgmz.jpg?s=128&g=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/8367626/mary"}, "edited": false, "score": 0, "creation_date": 1577818866, "post_id": 59547012, "comment_id": 105264374, "body": "Before I answer is it MySql, Sqlite or Sql Server. TINYTEXT is from MySql. You say you are using Sqlite. Your code is using the Sql Server provider. Which is it?"}], "answers": [{"tags": [], "owner": {"reputation": 686, "user_id": 4421078, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bO3qWQubkB4/AAAAAAAAAAI/AAAAAAAAAlI/UWjXQC0qOlY/photo.jpg?sz=128", "display_name": "Diego Baranowski", "link": "https://stackoverflow.com/users/4421078/diego-baranowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1577813980, "creation_date": 1577813980, "answer_id": 59547064, "question_id": 59547012, "link": "https://stackoverflow.com/questions/59547012/c-unable-to-create-table-with-tinytext/59547064#59547064", "title": "C# unable to create table with tinytext", "body": "<p>Put an Sqlite connection:\nusing System.Data.SQLite;</p>\n\n<pre><code>SQLiteConnection dbConnect = new SQLiteConnection(\"Data Source=PATH_TO_SQLITE_FILE;FailIfMissing=True;\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 953, "user_id": 1399675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65bfc49f02914af863e126eacd7488d1?s=128&d=identicon&r=PG", "display_name": "Matthew K", "link": "https://stackoverflow.com/users/1399675/matthew-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1577816759, "creation_date": 1577816759, "answer_id": 59547431, "question_id": 59547012, "link": "https://stackoverflow.com/questions/59547012/c-unable-to-create-table-with-tinytext/59547431#59547431", "title": "C# unable to create table with tinytext", "body": "<p>The documentation you're using to craft your query is not describing the syntax used by the database to which you are connecting.</p>\n\n<p>Basically, it looks like you have referred to documentation for MySQL, but you are connecting to a Microsoft SQL database which uses Transact-SQL commands. There are many different types of database which may have varying features and different ways of constructing queries.</p>\n\n<p>VARCHAR is part of the ISO SQL:2003 standard; The TEXT data types, including TINYTEXT, are non-standard. Therefore, you would need to adjust your query to something like this:</p>\n\n<pre><code>string query = @\"CREATE TABLE test.task (\n        TaskID INTEGER NOT NULL PRIMARY KEY,\n        ParentID INTEGER,\n        Title VARCHAR(255) DEFAULT NULL,\n        Notes VARCHAR(65532) DEFAULT NULL,\n        Priority SMALLINT(6) DEFAULT NULL,\n        )\";\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 12633303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b70eea8b06e682a4572f4e2e500787d?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Mooney", "link": "https://stackoverflow.com/users/12633303/scott-mooney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577816759, "creation_date": 1577813525, "last_edit_date": 1577813666, "question_id": 59547012, "link": "https://stackoverflow.com/questions/59547012/c-unable-to-create-table-with-tinytext", "title": "C# unable to create table with tinytext", "body": "<p>I am using the code below to try to create a table. However it is giving me an error message \"Cannot find data type TINYTEXT\". I'm using SQLite, VS2017.  The SQLite docs says TINYTEXT is a type, and should be accepted. Anyone have info on why this isn't working, what needs to be changed?</p>\n\n<p>Thanks  </p>\n\n<pre><code>         DBResult dbResult = new DBResult();\n\n            SqlConnection dbConnect = new SqlConnection(\"Server =localhost\\\\SQLEXPRESS;Database=master;Trusted_Connection=True;\");\n\n            string query = @\"CREATE TABLE test.task (\n            TaskID INTEGER NOT NULL PRIMARY KEY,\n            ParentID INTEGER,\n            Title TINYTEXT DEFAULT NULL,\n            Notes MEDIUMTEXT DEFAULT NULL,\n            Priority SMALLINT(6) DEFAULT NULL,\n            )\";\n\n\n            SqlCommand cmd = new SqlCommand(query, dbConnect);\n            try\n            {\n                dbConnect.Open();\n                cmd.ExecuteNonQuery();\n                dbResult.isSuccess = true;\n            }\n            catch (SqlException ex)\n            {\n                dbResult.isSuccess = false;\n                dbResult.result = ex.ToString();\n            }\n            finally\n            {\n                dbConnect.Close();\n            }\n            return dbResult;\n        }\n</code></pre>\n"}, {"tags": ["c#", "regex", "str-replace", "regexp-replace"], "comments": [{"owner": {"reputation": 1106495, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "edited": false, "score": 4, "creation_date": 1577812408, "post_id": 59546836, "comment_id": 105262630, "body": "Just update the database afterwards."}, {"owner": {"reputation": 5175, "user_id": 2818430, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a16f1277601b3bb40b01f97d8bbce0ac?s=128&d=identicon&r=PG&f=1", "display_name": "user2818430", "link": "https://stackoverflow.com/users/2818430/user2818430"}, "reply_to_user": {"reputation": 1106495, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "edited": false, "score": 0, "creation_date": 1577812736, "post_id": 59546836, "comment_id": 105262734, "body": "As I mentioned the scenario is a bit different, The info coming from a rest api therefore I need to do it with C#. Sure this will have been great but I don&#39;t have access to db directly where I will fetch the info from"}, {"owner": {"reputation": 590, "user_id": 484572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/caa6ffcd00097e9055706b570aded53d?s=128&d=identicon&r=PG", "display_name": "Noel", "link": "https://stackoverflow.com/users/484572/noel"}, "edited": false, "score": 0, "creation_date": 1577813344, "post_id": 59546836, "comment_id": 105262899, "body": "Is the question just how to update a text file and replace the values, or does it involve getting the data back into the database?"}, {"owner": {"reputation": 5175, "user_id": 2818430, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a16f1277601b3bb40b01f97d8bbce0ac?s=128&d=identicon&r=PG&f=1", "display_name": "user2818430", "link": "https://stackoverflow.com/users/2818430/user2818430"}, "reply_to_user": {"reputation": 590, "user_id": 484572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/caa6ffcd00097e9055706b570aded53d?s=128&d=identicon&r=PG", "display_name": "Noel", "link": "https://stackoverflow.com/users/484572/noel"}, "edited": false, "score": 0, "creation_date": 1577813423, "post_id": 59546836, "comment_id": 105262916, "body": "@Noel I need to update the SQL script at this point"}, {"owner": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 0, "creation_date": 1577813898, "post_id": 59546836, "comment_id": 105263037, "body": "Are you just appending some value to every value that&#39;s in quotes? Or is the replacement supposed to be different for every value?"}, {"owner": {"reputation": 1106495, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "edited": false, "score": 2, "creation_date": 1577813931, "post_id": 59546836, "comment_id": 105263054, "body": "I removed the sql tag because this has nothing to do with SQL.  It is about transforming a text file."}, {"owner": {"reputation": 400278, "user_id": 73226, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tdqly.png?s=128&g=1", "display_name": "Martin Smith", "link": "https://stackoverflow.com/users/73226/martin-smith"}, "edited": false, "score": 0, "creation_date": 1577813995, "post_id": 59546836, "comment_id": 105263074, "body": "Use the regex replace overload that takes a delegate then have your conditional logic inside the delegate to get whatever the appropriate replacement text is"}, {"owner": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 0, "creation_date": 1577814224, "post_id": 59546836, "comment_id": 105263141, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/32274427/how-can-i-read-and-replace-strings-line-by-line-in-a-text-file\">How can I read and replace Strings line by line in a Text File?</a>"}, {"owner": {"reputation": 13692, "user_id": 92546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59d3e56edbab2b69598e2cdbcbb74edd?s=128&d=identicon&r=PG", "display_name": "HABO", "link": "https://stackoverflow.com/users/92546/habo"}, "edited": false, "score": 0, "creation_date": 1577817753, "post_id": 59546836, "comment_id": 105264123, "body": "Have you looked at <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.sqlserver.transactsql.scriptdom.tsqlparser?view=sql-dacfx-140.3881.1\" rel=\"nofollow noreferrer\"><code>TSqlParser</code></a>? There are several other results if you use &lt;your favorite search engine&gt; to search for <code>tsql parser</code>. That would be the right way to avoid getting lost in comments, quoted strings, ... in the DML."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1577825111, "post_id": 59546836, "comment_id": 105265672, "body": "One way is to create a string array : string[] valuesArray : {&quot;1&quot;, &quot;N&#39;Product&#39;&quot;, &quot;N&#39;Value 1&#39;&quot;, &quot;N&#39;Value 2&#39;&quot;};  Then create a string values = string.Join(&quot;,&quot;, valuesArray);   Finally add the string to the query : string query = string.Format(&quot;INSERT [dbo].[Table] ([Key], [Name], [Value], [Module])  VALUES ({0})&quot;, values);"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11871651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f9d622ee105fec556ff7e01268bb14f?s=128&d=identicon&r=PG&f=1", "display_name": "Xeno", "link": "https://stackoverflow.com/users/11871651/xeno"}, "is_accepted": false, "score": 0, "last_activity_date": 1577832103, "last_edit_date": 1577832103, "creation_date": 1577831732, "answer_id": 59548887, "question_id": 59546836, "link": "https://stackoverflow.com/questions/59546836/parse-sql-insert-statement-and-get-all-string-values-between-nvalue/59548887#59548887", "title": "Parse SQL Insert statement and get all string values between N&#39;VALUE&#39;", "body": "<p>I'm assuming you want to do some logic on the values between the single quotes. If you just want a simple string replacement then regex replace would be better.</p>\n\n<p>You can use regex matches and their capture groups to select a pieces of the regex match. Then you can use the capture groups string index values to manipulate your original string.</p>\n\n<pre><code>string input = @\"INSERT [dbo].[Table] ([Key], [Name], [Value], [Module]) VALUES (1, N'Product', N'Value 1', N'Value 2')\";\n\nRegex regex = new Regex(\"N'([^']+)'\");\nMatchCollection matches = regex.Matches(input);\n\n//Loop though matches backwards so the index values don't get misaligned\nfor (int i = matches.Count - 1; i &gt;= 0; i--)\n{\n    //Get the capture group info for the content between the single quotes\n    Group captureGroup = matches[i].Groups[1];\n\n    //Replace the contents of the input string with some updated value\n    input = input.Substring(0, captureGroup.Index) + SomeStringMethod(captureGroup.Value) + input.Substring(captureGroup.Index + captureGroup.Length);\n}\n\nConsole.WriteLine(input);\n</code></pre>\n"}], "owner": {"reputation": 5175, "user_id": 2818430, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a16f1277601b3bb40b01f97d8bbce0ac?s=128&d=identicon&r=PG&f=1", "display_name": "user2818430", "link": "https://stackoverflow.com/users/2818430/user2818430"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577832103, "creation_date": 1577812203, "last_edit_date": 1577813916, "question_id": 59546836, "link": "https://stackoverflow.com/questions/59546836/parse-sql-insert-statement-and-get-all-string-values-between-nvalue", "title": "Parse SQL Insert statement and get all string values between N&#39;VALUE&#39;", "body": "<p>I have a large SQL Server insert script</p>\n\n<pre><code>INSERT [dbo].[Table] ([Key], [Name], [Value], [Module]) \nVALUES (1, N'Product', N'Value 1', N'Value 2')\n</code></pre>\n\n<p>Now I need to parse this large file, line by line and for each value that is NVARCHAR <code>N'VALUEHERE'</code> I want to replace it with some custom info I fetch from a database.</p>\n\n<p>If this is my script:</p>\n\n<pre><code>INSERT [dbo].[Table] ([Key], [Name], [Value], [Module]) \nVALUES (1, N'Product', N'Value 1', N'Value 2')\n</code></pre>\n\n<p>After I parse it I want to update it to:</p>\n\n<pre><code>INSERT [dbo].[Table] ([Key], [Name], [Value], [Module]) \nVALUES (1, N'Product Changed', N'Value 1 with some custom info', N'Value 2 with different info')\n</code></pre>\n\n<p>Of course the real scenario is a bit different.</p>\n\n<p>In big, I want to fetch all nvarchar values and for each value that starts with <code>N'</code> get that value from single quotes, do some operation on it and update it with the new value, then move to next <code>N'</code> and so on.</p>\n\n<p>My question:</p>\n\n<p>How can I fetch every single value between quotes <code>N'VALUE'</code> change that value and replace with the new value <code>N'CHANGED'</code>?</p>\n\n<pre><code>string line = null;\n\n\nStreamReader file = new System.IO.StreamReader(@\"c:\\script.sql\");  \nwhile((line = file.ReadLine()) != null)  \n{  \n       // work with `line` here to get each value \n}  \n</code></pre>\n\n<p>One more issue, how do I fetch the value if it's something like:</p>\n\n<pre><code> `N'Jimm''s device is broken'`\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "editor"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1577812205, "post_id": 59546806, "comment_id": 105262574, "body": "Did it compile anyway?"}, {"owner": {"reputation": 45, "user_id": 11152484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ag18j.png?s=128&g=1", "display_name": "GGod", "link": "https://stackoverflow.com/users/11152484/ggod"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1577812394, "post_id": 59546806, "comment_id": 105262629, "body": "No, it doesn&#39;t  let me. Can&#39;t compile it nor launch the game in editor."}, {"owner": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 0, "creation_date": 1577812416, "post_id": 59546806, "comment_id": 105262633, "body": "In <a href=\"https://forum.unity.com/threads/error-microsoft-r-visual-c-compiler-version-2-9-1-65535-9d34608e.716471/\" rel=\"nofollow noreferrer\">another case of that error</a>, there was actually a compiler error in one of the C# files despite not being reported in that output. You may just need to look through the files in your project to see if any errors stand out"}, {"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1577812448, "post_id": 59546806, "comment_id": 105262645, "body": "Being a blank project does it go away if you change to .net 4?"}, {"owner": {"reputation": 45, "user_id": 11152484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ag18j.png?s=128&g=1", "display_name": "GGod", "link": "https://stackoverflow.com/users/11152484/ggod"}, "reply_to_user": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1577812632, "post_id": 59546806, "comment_id": 105262704, "body": "@BugFinder No, sadly."}, {"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1577812753, "post_id": 59546806, "comment_id": 105262740, "body": "Has it been working previously or is this your first unity install on this computer"}, {"owner": {"reputation": 45, "user_id": 11152484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ag18j.png?s=128&g=1", "display_name": "GGod", "link": "https://stackoverflow.com/users/11152484/ggod"}, "reply_to_user": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 0, "creation_date": 1577812806, "post_id": 59546806, "comment_id": 105262755, "body": "@devNull So then it&#39;s a bug in unity&#39;ies files, because the project is blank. All there is, is just a sample scene, nothing more."}, {"owner": {"reputation": 45, "user_id": 11152484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ag18j.png?s=128&g=1", "display_name": "GGod", "link": "https://stackoverflow.com/users/11152484/ggod"}, "reply_to_user": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1577813014, "post_id": 59546806, "comment_id": 105262807, "body": "@BugFinder It&#39;s a new project and I got this error first time. Just opened another project and the same error appeared. It had never appeard before."}, {"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1577813191, "post_id": 59546806, "comment_id": 105262859, "body": "OK so you&#39;ve been using unity previously?"}, {"owner": {"reputation": 45, "user_id": 11152484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ag18j.png?s=128&g=1", "display_name": "GGod", "link": "https://stackoverflow.com/users/11152484/ggod"}, "reply_to_user": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1577815082, "post_id": 59546806, "comment_id": 105263380, "body": "@BugFinder Yep, for almost 2 years."}, {"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1577815178, "post_id": 59546806, "comment_id": 105263405, "body": "is this a different location to where you normally store projects? Does it do the same if you turn your anitvirus off?"}, {"owner": {"reputation": 45, "user_id": 11152484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ag18j.png?s=128&g=1", "display_name": "GGod", "link": "https://stackoverflow.com/users/11152484/ggod"}, "reply_to_user": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1577816789, "post_id": 59546806, "comment_id": 105263876, "body": "@BugFinder Yeah, I was. The error popped up and I deleted the old project and created a new one in my usual dir. Just tried to turn off my AV but that didn&#39;t work. Right now I&#39;m re-installing my unity, unity hub and VS."}], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 11152484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ag18j.png?s=128&g=1", "display_name": "GGod", "link": "https://stackoverflow.com/users/11152484/ggod"}, "is_accepted": true, "score": 0, "last_activity_date": 1584969269, "creation_date": 1584969269, "answer_id": 60814261, "question_id": 59546806, "link": "https://stackoverflow.com/questions/59546806/a-microsoft-r-visual-c-compiler-error-showed-up-in-my-unity-project/60814261#60814261", "title": "A Microsoft (R) Visual C# compiler Error showed up in my Unity project", "body": "<p>OK, so after looking trough my registry, I found out that I had a key value in <code>HKEY_CURRENT_USER\\Software\\Microsoft\\Command Processor\\AutoRun</code></p>\n\n<p>and</p>\n\n<p><code>HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Command Processor\\AutoRun</code></p>\n\n<p>All I needed to do was to clear out the value. That is what fixed it for me.</p>\n"}], "owner": {"reputation": 45, "user_id": 11152484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ag18j.png?s=128&g=1", "display_name": "GGod", "link": "https://stackoverflow.com/users/11152484/ggod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 60814261, "answer_count": 1, "score": 0, "last_activity_date": 1584969269, "creation_date": 1577811939, "question_id": 59546806, "link": "https://stackoverflow.com/questions/59546806/a-microsoft-r-visual-c-compiler-error-showed-up-in-my-unity-project", "title": "A Microsoft (R) Visual C# compiler Error showed up in my Unity project", "body": "<p>So I created a new Unity (2019.2.17f1) project and a new error showed up:</p>\n\n<p><a href=\"https://i.stack.imgur.com/M7fqb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M7fqb.png\" alt=\"Error image\"></a></p>\n\n<p>There is nothing more. Just this. No error source path, nothing. To be honest, looks like an Ad or something. Anyways, is there a way to get rid of it? I have looked for an answer but none showed to be useful (for my situation). Any help would be appreciated!</p>\n"}, {"tags": ["c#", "com", "powerpoint", "office-interop"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11442754, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QFGTkmCvLpI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcTCULax2WRCYHYOYJsQvb8qHMkBQ/mo/photo.jpg?sz=128", "display_name": "VC - erussell", "link": "https://stackoverflow.com/users/11442754/vc-erussell"}, "edited": false, "score": 0, "creation_date": 1577816568, "post_id": 59547265, "comment_id": 105263798, "body": "It may have to do with the fact that I do not have an active slide selected. I believe ppt is running in the background while I am working on this."}, {"owner": {"reputation": 3305, "user_id": 4394120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/406cb60beef9747079a4e43625b43c35?s=128&d=identicon&r=PG", "display_name": "John Korchok", "link": "https://stackoverflow.com/users/4394120/john-korchok"}, "reply_to_user": {"reputation": 1, "user_id": 11442754, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QFGTkmCvLpI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcTCULax2WRCYHYOYJsQvb8qHMkBQ/mo/photo.jpg?sz=128", "display_name": "VC - erussell", "link": "https://stackoverflow.com/users/11442754/vc-erussell"}, "edited": false, "score": 0, "creation_date": 1577816934, "post_id": 59547265, "comment_id": 105263911, "body": "PowerPoint only needs to display an active slide if you&#39;re using a selection. If you use ranges, the presentation doesn&#39;t need to display at all."}], "tags": [], "owner": {"reputation": 3305, "user_id": 4394120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/406cb60beef9747079a4e43625b43c35?s=128&d=identicon&r=PG", "display_name": "John Korchok", "link": "https://stackoverflow.com/users/4394120/john-korchok"}, "is_accepted": false, "score": 0, "last_activity_date": 1577815455, "creation_date": 1577815455, "answer_id": 59547265, "question_id": 59546788, "link": "https://stackoverflow.com/questions/59546788/c-powerpoint-edit-smartart-text/59547265#59547265", "title": "C# powerpoint edit smartart text", "body": "<p>I don't work with Interop, but you might try testing first whether a node <strong>has</strong> text first before changing it. Some SmartArt variants have text nodes that can't be set programmatically, so trying to add text on them will always fail. This is working to set SmartArt text here, using this VBA:</p>\n\n<pre><code>If ActivePresentation.Slides(1).Shapes(1).SmartArt.AllNodes(X).TextFrame2.HasText Then\n    ActivePresentation.Slides(1).Shapes(1).SmartArt.AllNodes(X).TextFrame2.TextRange.Text = \"Text\"\nEnd If\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11442754, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QFGTkmCvLpI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcTCULax2WRCYHYOYJsQvb8qHMkBQ/mo/photo.jpg?sz=128", "display_name": "VC - erussell", "link": "https://stackoverflow.com/users/11442754/vc-erussell"}, "is_accepted": true, "score": 0, "last_activity_date": 1577991636, "creation_date": 1577991636, "answer_id": 59568635, "question_id": 59546788, "link": "https://stackoverflow.com/questions/59546788/c-powerpoint-edit-smartart-text/59568635#59568635", "title": "C# powerpoint edit smartart text", "body": "<p>I ended up using openxml to work around this issue. I am unfortunatly switching between openxml and interop until I can find a better fix.</p>\n\n<pre><code>using (PresentationDocument doc = PresentationDocument.Open(textBox1.Text, true))\n{\n       PresentationPart pp = doc.PresentationPart;\n       SlidePart sp1 = pp.SlideParts.ToList&lt;SlidePart&gt;()[0];\n       foreach (DiagramDataPart ddp in sp1.DiagramDataParts.ToList&lt;DiagramDataPart&gt;())\n       {\n             DataModelRoot dmr = ddp.DataModelRoot;\n             List&lt;PointList&gt; pl = dmr.Descendants&lt;PointList&gt;().ToList();\n             foreach (PointList item in pl)\n             {\n                    List&lt;Point&gt; ps = item.Descendants&lt;Point&gt;().ToList();\n                    foreach (Point p in ps)\n                    {\n                          if (p.InnerText.Equals(\"_HELLO_\"))\n                          {\n                                DocumentFormat.OpenXml.Drawing.Paragraph para = p.TextBody.GetFirstChild&lt;DocumentFormat.OpenXml.Drawing.Paragraph&gt;();\n                                DocumentFormat.OpenXml.Drawing.Run run1 = para.GetFirstChild&lt;DocumentFormat.OpenXml.Drawing.Run&gt;();\n                                DocumentFormat.OpenXml.Drawing.Text text1 = run1.GetFirstChild&lt;DocumentFormat.OpenXml.Drawing.Text&gt;();\n                                text1.Text = \"World\";\n                                var textreplacement = p.InnerText;\n                          }\n                    }\n              }\n        }\n        doc.Save();\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11442754, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QFGTkmCvLpI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcTCULax2WRCYHYOYJsQvb8qHMkBQ/mo/photo.jpg?sz=128", "display_name": "VC - erussell", "link": "https://stackoverflow.com/users/11442754/vc-erussell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 59568635, "answer_count": 2, "score": 0, "last_activity_date": 1582096254, "creation_date": 1577811838, "last_edit_date": 1582096254, "question_id": 59546788, "link": "https://stackoverflow.com/questions/59546788/c-powerpoint-edit-smartart-text", "title": "C# powerpoint edit smartart text", "body": "<p>I am currently trying to replace some text in a powerpoint smartart object. I can get the text but I am unable to set the text value even when a lot of documents make it seem very easy.</p>\n\n<p>I am using </p>\n\n<pre><code>shp.SmartArt.AllNodes[i].TextFrame2.TextRange.Text = shapeString;\n</code></pre>\n\n<p>to set the text string but I am coming up with an error no matter what function I use</p>\n\n<pre><code>shp.SmartArt.AllNodes[i].TextFrame2.DeleteText();\n</code></pre>\n\n<p>returns the same error message as the other message. I may need to make the powerpoint visible but for some reason when I make it visible it disappears. (anti-virus?)</p>\n\n<p>I can replace text in the powerpoint with standard text boxes so I am trying to repeat the steps for smartart with no success.</p>\n\n<blockquote>\n  <p>************** Exception Text **************</p>\n  \n  <p>System.Runtime.InteropServices.COMException (0x80004005): Error HRESULT E_FAIL has been returned from a call to a COM component.\n  at Microsoft.Office.Core.TextRange2.set_Text(String pbstrText)\n  at *.Form1.BtnStart_Click(Object sender, EventArgs e) in \n  *\\Form1.cs:line 414\n  at System.Windows.Forms.Control.OnClick(EventArgs e)\n  at System.Windows.Forms.Button.OnClick(EventArgs e)\n  at System.Windows.Forms.Button.PerformClick()\n  at System.Windows.Forms.Form.ProcessDialogKey(Keys keyData)\n  at System.Windows.Forms.Control.ProcessDialogKey(Keys keyData)\n  at System.Windows.Forms.Control.ProcessDialogKey(Keys keyData)\n  at System.Windows.Forms.Control.ProcessDialogKey(Keys keyData)\n  at System.Windows.Forms.Control.PreProcessMessage(Message&amp; msg)\n  at System.Windows.Forms.Control.PreProcessControlMessageInternal(Control target, Message&amp; msg)\n  at System.Windows.Forms.Application.ThreadContext.PreTranslateMessage(MSG&amp; msg)</p>\n  \n  <p>************** Loaded Assemblies **************</p>\n  \n  <p>mscorlib\n  Assembly Version: 4.0.0.0\n  Win32 Version: 4.8.4075.0 built by: NET48REL1LAST\n  CodeBase: file:///C:/Windows/Microsoft.NET/Framework/v4.0.30319/mscorlib.dll</p>\n  \n  <p>System.Windows.Forms\n  Assembly Version: 4.0.0.0\n  Win32 Version: 4.8.4042.0 built by: NET48REL1LAST_C\n  CodeBase: file:///C:/WINDOWS/Microsoft.Net/assembly/GAC_MSIL/System.Windows.Forms/v4.0_0.0.0.0__b77a5c561934e089/System.Windows.Forms.dll</p>\n  \n  <p>System\n  Assembly Version: 4.0.0.0\n  Win32 Version: 4.8.4001.0 built by: NET48REL1LAST_C\n  CodeBase: file:///C:/WINDOWS/Microsoft.Net/assembly/GAC_MSIL/System/v4.0_4.0.0.0__b77a5c> 561934e089/System.dll</p>\n  \n  <p>System.Drawing\n  Assembly Version: 4.0.0.0\n  Win32 Version: 4.8.3752.0 built by: NET48REL1\n  CodeBase: file:///C:/WINDOWS/Microsoft.Net/assembly/GAC_MSIL/System.Drawing/v4.0_4.0.0.0> __b03f5f7f11d50a3a/System.Drawing.dll</p>\n  \n  <p>System.Configuration\n  Assembly Version: 4.0.0.0\n  Win32 Version: 4.8.3752.0 built by: NET48REL1\n  CodeBase: file:///C:/WINDOWS/Microsoft.Net/assembly/GAC_MSIL/System.Configuration/v4.0_4.0.0.0__b03f5f7f11d50a3a/System.Configuration.dll</p>\n  \n  <p>System.Core\n  Assembly Version: 4.0.0.0\n  Win32 Version: 4.8.4075.0 built by: NET48REL1LAST\n  CodeBase: file:///C:/WINDOWS/Microsoft.Net/assembly/GAC_MSIL/System.Core/v4.0_4.0.0.0__b> 77a5c561934e089/System.Core.dll</p>\n  \n  <p>System.Xml\n  Assembly Version: 4.0.0.0\n  Win32 Version: 4.8.3752.0 built by: NET48REL1\n  CodeBase: file:///C:/WINDOWS/Microsoft.Net/assembly/GAC_MSIL/System.Xml/v4.0_4.0.0.0__b7> 7a5c561934e089/System.Xml.dll</p>\n  \n  <p>Microsoft.CSharp\n  Assembly Version: 4.0.0.0\n  Win32 Version: 4.8.3752.0\n  CodeBase: file:///C:/WINDOWS/Microsoft.Net/assembly/GAC_MSIL/Microsoft.CSharp/v4.0_4.0.0> .0__b03f5f7f11d50a3a/Microsoft.CSharp.dll</p>\n  \n  <p>System.Dynamic\n  Assembly Version: 4.0.0.0\n  Win32 Version: 4.8.3752.0\n  CodeBase: file:///C:/WINDOWS/Microsoft.Net/assembly/GAC_MSIL/System.Dynamic/v4.0_4.0.0.0> __b03f5f7f11d50a3a/System.Dynamic.dll</p>\n  \n  <p>Anonymously Hosted DynamicMethods Assembly\n  Assembly Version: 0.0.0.0\n  Win32 Version: 4.8.4075.0 built by: NET48REL1LAST\n  CodeBase: file:///C:/WINDOWS/Microsoft.Net/assembly/GAC_32/mscorlib/v4.0_4.0.0.0__b77a5c561934e089/mscorlib.dll</p>\n  \n  <p>CustomMarshalers\n  Assembly Version: 4.0.0.0\n  Win32 Version: 4.8.3752.0 built by: NET48REL1\n  CodeBase: file:///C:/WINDOWS/Microsoft.Net/assembly/GAC_32/CustomMarshalers/v4.0_4.0.0.0__b03f5f7f11d50a3a/CustomMarshalers.dll</p>\n  \n  <p>Microsoft.Office.Interop.PowerPoint\n  Assembly Version: 15.0.0.0\n  Win32 Version: 15.0.4569.1507\n  CodeBase: file:///C:/WINDOWS/assembly/GAC_MSIL/Microsoft.Office.Interop.PowerPoint/15.0.0.0__71e9bce111e9429c/Microsoft.Office.Interop.PowerPoint.dll</p>\n  \n  <p>office\n  Assembly Version: 15.0.0.0\n  Win32 Version: 15.0.4613.1000\n  CodeBase: \n  file:///C:/WINDOWS/assembly/GAC_MSIL/office/15.0.0.0__71e9bce111e9429c/office.dll</p>\n  \n  <p>System.Dynamic.DynamicAssembly\n  Assembly Version: 0.0.0.0\n  Win32 Version: 4.8.3752.0\n  CodeBase: file:///C:/WINDOWS/Microsoft.Net/assembly/GAC_MSIL/System.Dynamic/v4.0_4.0.0.0__b03f5f7f11d50a3a/System.Dynamic.dll</p>\n</blockquote>\n\n<p>Not sure where to go next.</p>\n\n<p>*************Documentation/Reference*************</p>\n\n<p><a href=\"https://help.syncfusion.com/file-formats/presentation/smartart\" rel=\"nofollow noreferrer\">https://help.syncfusion.com/file-formats/presentation/smartart</a></p>\n\n<pre><code>//Open a PowerPoint Presentation\nIPresentation pptxDoc = Presentation.Open(\"SampleDocument.pptx\");\n\n//Traverse through shape in the first slide.\nforeach (IShape shape in pptxDoc.Slides[0].Shapes)\n{\nif (shape is ISmartArt)\n{\n//Traverse through all nodes inside SmartArt\nforeach (ISmartArtNode mainNode in (shape as ISmartArt).Nodes)\n{\nif (mainNode.TextBody.Text == \"Old Content\")\n//Change the node content\nmainNode.TextBody.Paragraphs[0].TextParts[0].Text = \"New Content\";\n}\n}\n}\n\n//Save the Presentation.\npptxDoc.Save(\"SmartArt.pptx\");\n\n//Close the Presentation.\npptxDoc.Close();\n</code></pre>\n"}, {"tags": ["c#", ".net", "statistics", "cpu-usage", "performancecounter"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8623273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57c96c7820151e77710157f0b4adaa6a?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Sharma", "link": "https://stackoverflow.com/users/8623273/akshay-sharma"}, "edited": false, "score": 0, "creation_date": 1577815586, "post_id": 59546843, "comment_id": 105263529, "body": "This doesnt quite do the trick since it provides no API to delete sample values older than an hour while calculating the average"}], "tags": [], "owner": {"reputation": 20573, "user_id": 1643676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG", "display_name": "Athanasios Kataras", "link": "https://stackoverflow.com/users/1643676/athanasios-kataras"}, "is_accepted": false, "score": 0, "last_activity_date": 1577812237, "creation_date": 1577812237, "answer_id": 59546843, "question_id": 59546758, "link": "https://stackoverflow.com/questions/59546758/running-cpu-use-average-over-past-1-hour-sampled-every-minute-using-performance/59546843#59546843", "title": "Running cpu use average over past 1 hour sampled every minute using performance counters", "body": "<p>Check the following: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.diagnostics.performancecounter?redirectedfrom=MSDN&amp;view=netframework-4.8\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.diagnostics.performancecounter?redirectedfrom=MSDN&amp;view=netframework-4.8</a></p>\n\n<p>There is even an example looking very similar to what you are trying to do:</p>\n\n<blockquote>\n  <p>The example creates categories, sets up counters, collects data from the counters, and calls the CounterSampleCalculator class to interpret the performance counter data. The intermediate and final results are displayed in the console window. For additional examples of other performance counter types, see the PerformanceCounterType enumeration.</p>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 8623273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57c96c7820151e77710157f0b4adaa6a?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Sharma", "link": "https://stackoverflow.com/users/8623273/akshay-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1577812237, "creation_date": 1577811625, "last_edit_date": 1577812074, "question_id": 59546758, "link": "https://stackoverflow.com/questions/59546758/running-cpu-use-average-over-past-1-hour-sampled-every-minute-using-performance", "title": "Running cpu use average over past 1 hour sampled every minute using performance counters", "body": "<p>I am trying to calculate the running average of overall CPU usage (sampled every minute or less) over the past hour.</p>\n\n<p>So the algorithm should ideally read the cpu entry every minute (or less) and give me the average of the entries taken over the past running 60 minute time window. Current average counters or %counters give me an all-time average not the running average.</p>\n\n<p>What counter/ custom technique would be best suited for this purpose?</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2195680/calculating-averages-with-performance-counters\">This</a> question is quite similar but not the same. Since it is not deleting entries from the sampling history that are more than 60 mins old</p>\n"}, {"tags": ["c#", "generics", "inheritance", "base-class"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1577811368, "post_id": 59546683, "comment_id": 105262321, "body": "I would not do it this way. It&#39;s confusing that it always takes the type from the left side. For example if I added some measurement in feet, to some measurement in meters, it would return meters, but what if I wanted feet? This seems confusing from an API perspective. You should perhaps make <code>Length</code> unitless and let the user decide when to get the value, etc: <code>lengthObj.Feet</code> or <code>lengthObj.Meters</code>..."}, {"owner": {"reputation": 167, "user_id": 11154721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74807a0f77d4df0fcfd239f2e1aa9213?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/11154721/steve"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1577811712, "post_id": 59546683, "comment_id": 105262418, "body": "@RonBeyer assuming I&#39;m understanding you&#39;re suggestion correctly, there are actually conversion properties in place already; I just didn&#39;t show them in the snippets above. After the addition, the user could get the value of length3 in whatever length units they want by doing exactly what you suggested (<code>length3.Feet</code>, <code>length3.Meters</code>, etc.)."}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 11154721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74807a0f77d4df0fcfd239f2e1aa9213?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/11154721/steve"}, "edited": false, "score": 0, "creation_date": 1577812765, "post_id": 59546753, "comment_id": 105262746, "body": "Thanks, but now I&#39;m getting an <code>Unable to cast object of type Measurement&lt;LengthUnit&gt; to type Length</code> error at runtime. Any suggestions on how to fix the cast?"}, {"owner": {"reputation": 20573, "user_id": 1643676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG", "display_name": "Athanasios Kataras", "link": "https://stackoverflow.com/users/1643676/athanasios-kataras"}, "reply_to_user": {"reputation": 167, "user_id": 11154721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74807a0f77d4df0fcfd239f2e1aa9213?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/11154721/steve"}, "edited": false, "score": 0, "creation_date": 1577813061, "post_id": 59546753, "comment_id": 105262821, "body": "Sorry, wrong cast type. Fixed it so that you can retry. Check updated solution."}, {"owner": {"reputation": 167, "user_id": 11154721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74807a0f77d4df0fcfd239f2e1aa9213?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/11154721/steve"}, "edited": false, "score": 0, "creation_date": 1577813165, "post_id": 59546753, "comment_id": 105262852, "body": "I noticed that too and had fixed it in my code before trying. Is it possible to cast from a base class (<code>Measurement&lt;LengthUnit&gt;</code>) to a derived class (<code>Length</code>)?"}, {"owner": {"reputation": 167, "user_id": 11154721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74807a0f77d4df0fcfd239f2e1aa9213?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/11154721/steve"}, "edited": false, "score": 0, "creation_date": 1577813854, "post_id": 59546753, "comment_id": 105263023, "body": "Regardless, it seems like overloading operators for each class is the way to go to make using the library as easy as possible. Thanks!"}], "tags": [], "owner": {"reputation": 20573, "user_id": 1643676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG", "display_name": "Athanasios Kataras", "link": "https://stackoverflow.com/users/1643676/athanasios-kataras"}, "is_accepted": false, "score": 1, "last_activity_date": 1577813047, "last_edit_date": 1577813047, "creation_date": 1577811605, "answer_id": 59546753, "question_id": 59546683, "link": "https://stackoverflow.com/questions/59546683/using-generics-in-base-classes-in-c-how-to-ensure-methods-in-the-base-class-re/59546753#59546753", "title": "Using Generics in Base Classes in C#: How to ensure methods in the base class return the derived class&#39;s type?", "body": "<p>Check your operator overload:</p>\n\n<pre><code>// Operator overloads\npublic static Measurement&lt;TUnit&gt; operator +(Measurement&lt;TUnit&gt; left,\n                                            Measurement&lt;TUnit&gt; right)\n{\n    return new Measurement&lt;TUnit&gt;(left.Value + right.GetValueAs(left.Unit), left.Unit);\n}\n</code></pre>\n\n<p>You are returning a <code>Measurement&lt;TUnit&gt;</code> object. So the compiler which can't know if a <code>Measurement&lt;TUnit&gt;</code> class is always a length object, requires you to do the conversion like </p>\n\n<pre><code>Length length3 = (Length)(length1 + length2);\n</code></pre>\n\n<p>You can ofcource avoid this, by creating a new operator for adding <code>Length</code> that adds <code>Length</code> objects.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 4498502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FEAvB.png?s=128&g=1", "display_name": "Anton Nikolaev", "link": "https://stackoverflow.com/users/4498502/anton-nikolaev"}, "is_accepted": true, "score": 2, "last_activity_date": 1577851000, "last_edit_date": 1577851000, "creation_date": 1577816622, "answer_id": 59547410, "question_id": 59546683, "link": "https://stackoverflow.com/questions/59546683/using-generics-in-base-classes-in-c-how-to-ensure-methods-in-the-base-class-re/59547410#59547410", "title": "Using Generics in Base Classes in C#: How to ensure methods in the base class return the derived class&#39;s type?", "body": "<p>Short answer: when you need to operate derived classes from base, it can be done with implementing <a href=\"https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\">Curiously Recurring Template Pattern</a>, which originally comes from C++, but can be applied to C# as well.</p>\n\n<p>Long answer:\nIn your case, base <code>Measurement</code> class should have one additional generic parameter, which is derived class type.\nThe only limitation there is that you cannot create derived instances with <code>new</code> in base classes if derived classes has constructor with parameters. In example below I use MemberwiseClone which might solve the problem.</p>\n\n<pre><code>public class Measurement&lt;TUnit, TMeasurement&gt;\n    where TUnit : struct\n    where TMeasurement: Measurement&lt;TUnit, TMeasurement&gt;\n{\n    private readonly double _value;\n    protected Measurement(double value, TUnit unit)\n    {\n        _value = value;\n        Unit = unit;\n    }\n    protected double Value { get; set; }\n    public TUnit Unit { get; protected set; }\n\n    // Conversion Methods - these will get overridden in the derived classes.\n    protected virtual double GetValueAs(TUnit unit) =&gt; throw new NotImplementedException();\n\n    // Operator overloads\n    public static TMeasurement operator +(Measurement&lt;TUnit, TMeasurement&gt; left, Measurement&lt;TUnit, TMeasurement&gt; right)\n    {\n        //we cannot create new instance of derived class, TMeasurement, which is limitation of generics in C#, so need some workaround there\n        //Some kind of clone might be solution for that\n        var leftClone = (TMeasurement)left.MemberwiseClone();  \n        var resultValue =  leftClone.Value + right.GetValueAs(left.Unit);\n        leftClone.Unit = left.Unit;\n        leftClone.Value = resultValue;\n        return leftClone;\n    }\n}\n\npublic struct LengthUnit\n{\n\n}\n\npublic sealed class LengthMeasurement : Measurement&lt;LengthUnit, LengthMeasurement&gt;\n{\n    private LengthMeasurement(double value, LengthUnit unit): base(value, unit)\n    {\n\n    }\n\n    public static LengthMeasurement FromMeters(double meters) =&gt; throw new NotImplementedException();\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        var length1 = LengthMeasurement.FromMeters(5);\n        var length2 = LengthMeasurement.FromMeters(10);\n        LengthMeasurement length3 = length1 + length2;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 11154721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74807a0f77d4df0fcfd239f2e1aa9213?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/11154721/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 59547410, "answer_count": 2, "score": 3, "last_activity_date": 1577851000, "creation_date": 1577811110, "question_id": 59546683, "link": "https://stackoverflow.com/questions/59546683/using-generics-in-base-classes-in-c-how-to-ensure-methods-in-the-base-class-re", "title": "Using Generics in Base Classes in C#: How to ensure methods in the base class return the derived class&#39;s type?", "body": "<p>I'm working on a class library for various units of measure. I'm trying to avoid having to duplicate code as much as possible which should be pretty straightforward since, mathematically, it doesn't matter if you're adding two lengths together or two velocities together - you just convert them to the same unit and add. I <em>thought</em> I could do this pretty easily using a base class and generics...</p>\n\n<pre><code>// A measurement consists of a Value (double) and\n// a Unit (an Enum for the various unit types).\n\npublic class Measurement&lt;TUnit&gt;\n    where TUnit : struct\n{\n    protected Measurement(double value, TUnit unit)\n    {\n        _value = value;\n        _unit = unit;\n    }\n\n    protected double _value;\n    protected TUnit _unit;\n\n    public double Value =&gt; _value;\n    public TUnit Unit =&gt; _unit;\n\n    ...\n    // Conversion Methods - these will get overridden in the derived classes.\n    protected virtual double GetValueAs(TUnit unit) =&gt; throw new NotImplementedException();\n    ...\n\n    // Operator overloads\n    public static Measurement&lt;TUnit&gt; operator +(Measurement&lt;TUnit&gt; left,\n                                                Measurement&lt;TUnit&gt; right)\n    {\n        return new Measurement&lt;TUnit&gt;(left.Value + right.GetValueAs(left.Unit), left.Unit);\n    }\n}\n</code></pre>\n\n<p>And this class gets derived for each of the units like this:</p>\n\n<pre><code>public sealed class Length : Measurement&lt;LengthUnit&gt;\n{\n    // Using a private constructor and public static factory methods\n    private Length(double value, LengthUnit unit)\n        : base(value, unit) { }\n\n    ...\n}\n</code></pre>\n\n<p>My problem is that whenever I try to use any of the base class types that return <code>Measurement&lt;TUnit&gt;</code>, the methods obviously return <code>Measurement&lt;TUnit&gt;</code> objects.</p>\n\n<pre><code>Length length1 = Length.FromMeters(1); // length1 is 1 meter\n\nLength length2 = Length.FromMeters(2); // length2 is 2 meters\n\nLength length3 = length1 + length2;    // Error CS0266: Cannot implicitly convert type\n                                       // 'Measurement&lt;LengthUnit&gt;' to 'Length'.\n                                       // An explicit conversion exists (are you missing a cast?)\n\nvar varlength3 = length1 + length2;    // This works, but varlength3 is type Measurement&lt;LengthUnit&gt;\n                                       // so I can't use any methods in the Length class.\n</code></pre>\n\n<p>What am I missing? Is it even possible to do what I'm trying to do? Do I have to bite the bullet and copy the same code into each unit class?</p>\n"}, {"tags": ["c#", "asp.net-core", "lamar"], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 3234340, "user_type": "registered", "profile_image": "https://graph.facebook.com/654027883/picture?type=large", "display_name": "Schwammy", "link": "https://stackoverflow.com/users/3234340/schwammy"}, "edited": false, "score": 0, "creation_date": 1577974015, "post_id": 59548388, "comment_id": 105297117, "body": "Kirk, that got me pretty close. I had to add .Build().Run() to the end to make it run: Host.CreateDefaultBuilder(args)                 .UseLamar()                 .ConfigureWebHostDefaults(webHostBuilder =&gt;                     webHostBuilder.UseStartup&lt;Startup&gt;()).Build().Run();"}], "tags": [], "owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "is_accepted": true, "score": 2, "last_activity_date": 1577825769, "creation_date": 1577825769, "answer_id": 59548388, "question_id": 59546641, "link": "https://stackoverflow.com/questions/59546641/getting-error-webhostbuilder-does-not-contain-a-definition-for-uselamar/59548388#59548388", "title": "Getting error: &#39;WebHostBuilder&#39; does not contain a definition for &#39;UseLamar&#39;", "body": "<p>The <a href=\"https://jasperfx.github.io/lamar/documentation/ioc/aspnetcore/\" rel=\"nofollow noreferrer\">Integration with ASP.Net Core</a> guide includes a note that states:</p>\n\n<blockquote>\n  <p>If you are targeting .Net Core 3.0 and/or <code>netstandard2.1</code>, use the newly consolidated <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-3.0\" rel=\"nofollow noreferrer\">HostBuilder</a> instead of the previous <code>IWebHostBuilder</code>.</p>\n</blockquote>\n\n<p>A literal replacement for the code shown in the question would look like this:</p>\n\n<pre><code>var builder = new HostBuilder();\nbuilder.UseLamar();\n</code></pre>\n\n<p>However, the typical setup code for creating a host builder, with a call to <code>UseLamar</code> added, would look something like this for 3.0+:</p>\n\n<pre><code>Host.CreateDefaultBuilder(args)\n    .UseLamar()\n    .ConfigureWebHostDefaults(webHostBuilder =&gt;\n    {\n        webHostBuilder.UseStartup&lt;Startup&gt;();\n    });\n</code></pre>\n\n<p>The note I called out above links to the ASP.NET Core docs, which explains the generic host in much more detail: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-3.0\" rel=\"nofollow noreferrer\">.NET Generic Host</a>.</p>\n"}], "owner": {"reputation": 153, "user_id": 3234340, "user_type": "registered", "profile_image": "https://graph.facebook.com/654027883/picture?type=large", "display_name": "Schwammy", "link": "https://stackoverflow.com/users/3234340/schwammy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 59548388, "answer_count": 1, "score": 1, "last_activity_date": 1577825776, "creation_date": 1577810832, "last_edit_date": 1577825776, "question_id": 59546641, "link": "https://stackoverflow.com/questions/59546641/getting-error-webhostbuilder-does-not-contain-a-definition-for-uselamar", "title": "Getting error: &#39;WebHostBuilder&#39; does not contain a definition for &#39;UseLamar&#39;", "body": "<p>I see that there is support for ASP.NET Core 3.0 but what about 3.1? I've tried with no luck. Not sure if I am doing something dumb or if it is not supported?</p>\n\n<p>I've installed the latest Nuget Packages:</p>\n\n<ul>\n<li>Lamar 4.0.0 </li>\n<li>Lamar.Microsoft.DependencyInjection 4.0.2</li>\n</ul>\n\n<p>And I am using:</p>\n\n<pre><code>var builder = new WebHostBuilder();\nbuilder.UseLamar()\n</code></pre>\n\n<p>The file includes <code>using Lamar.Microsoft.DependencyInjection;</code> at the top.</p>\n\n<p>But getting error: \n'WebHostBuilder' does not contain a definition for 'UseLamar'.</p>\n"}, {"tags": ["c#", "multithreading", "winforms", "button"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1577811195, "post_id": 59546633, "comment_id": 105262261, "body": "This would be relatively easy to do using <code>async&#47;await</code>, are you opposed to doing it that way?"}, {"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 1, "creation_date": 1577811204, "post_id": 59546633, "comment_id": 105262264, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.componentmodel.backgroundworker?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10216583"}, "edited": false, "score": 1, "creation_date": 1577811267, "post_id": 59546633, "comment_id": 105262283, "body": "Read <a href=\"https://stackoverflow.com/questions/36266149/pause-and-resume-a-thread-from-another-thread-in-c-sharp\">this</a> carefully."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 1, "creation_date": 1577811277, "post_id": 59546633, "comment_id": 105262285, "body": "The <code>Thread</code> class does not have an event <code>Completed</code> or <code>Finished</code> or <code>Exited</code>, so you must include checking code inside both methods <code>AddLinksToList</code> and <code>EnqueueFromList</code>. It would be much easier and cleaner if you used <code>Task</code>s instead of threads."}, {"owner": {"reputation": 37, "user_id": 9742227, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yliG5T03bes/AAAAAAAAAAI/AAAAAAAABiI/zuJBvb6IiQU/photo.jpg?sz=128", "display_name": "Mead Alsorani", "link": "https://stackoverflow.com/users/9742227/mead-alsorani"}, "edited": false, "score": 0, "creation_date": 1577811438, "post_id": 59546633, "comment_id": 105262339, "body": "In fact I have to use thread because I don&#39;t have a lot of information about tasks and there is no time to learn tasks from zero"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10216583"}, "edited": false, "score": 1, "creation_date": 1577811533, "post_id": 59546633, "comment_id": 105262369, "body": "Then the GSerg&#39;s link is your friend for now."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1577811858, "post_id": 59546633, "comment_id": 105262464, "body": "Do you really use the methods <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.thread.suspend\" rel=\"nofollow noreferrer\"><code>Thread.Suspend</code></a> and <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.thread.resume\" rel=\"nofollow noreferrer\"><code>Thread.Resume</code></a>?"}, {"owner": {"reputation": 37, "user_id": 9742227, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yliG5T03bes/AAAAAAAAAAI/AAAAAAAABiI/zuJBvb6IiQU/photo.jpg?sz=128", "display_name": "Mead Alsorani", "link": "https://stackoverflow.com/users/9742227/mead-alsorani"}, "reply_to_user": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1577812001, "post_id": 59546633, "comment_id": 105262507, "body": "@TheodorZoulias Yes I use them to pause and resume threads"}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 1, "creation_date": 1577814698, "post_id": 59546633, "comment_id": 105263254, "body": "Sincerely, this stuff is obsolete. It may be time to learn about newer techniques. The time will be well spent."}], "answers": [{"tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": true, "score": 1, "last_activity_date": 1577816377, "creation_date": 1577816377, "answer_id": 59547383, "question_id": 59546633, "link": "https://stackoverflow.com/questions/59546633/enable-disable-buttons-while-thread-is-working/59547383#59547383", "title": "Enable/Disable buttons while thread is working", "body": "<p>Here is how you could start a <code>Thread</code> and have a way to await its completion:</p>\n\n<pre><code>public static Thread CreateAwaitableThread(Action action, out Task threadCompletion)\n{\n    var tcs = new TaskCompletionSource&lt;bool&gt;();\n    threadCompletion = tcs.Task;\n    return new Thread(() =&gt;\n    {\n        try\n        {\n            action();\n        }\n        finally\n        {\n            tcs.SetResult(true);\n        }\n    });\n}\n</code></pre>\n\n<p>This method returns the newly created <code>Thread</code>, and also a <code>Task</code> that will be completed when the <code>Thread</code> is completed. You could use it like this:</p>\n\n<pre><code>private async void CrawdBtn_Click(object sender, EventArgs e)\n{\n    CrawdBtn.Enabled = false;\n    Thread t1 = CreateAwaitableThread(AddLinksToList, out var t1c);\n    Thread t2 = CreateAwaitableThread(EnqueueFromList, out var t2c);\n    t1.Start();\n    t2.Start();\n    await Task.WhenAll(t1c, t2c);\n    CrawdBtn.Enabled = true;\n}\n</code></pre>\n\n<p>In case of an exception the error will not be propagated through the <code>Task</code>. It is assumed that the delegates already include error handling logic. If not, an unhandled exception will occur as usual.</p>\n"}, {"tags": [], "owner": {"reputation": 45, "user_id": 12497056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fdff6590cf0455afbefa662b4afa9fa?s=128&d=identicon&r=PG&f=1", "display_name": "ad79h", "link": "https://stackoverflow.com/users/12497056/ad79h"}, "is_accepted": false, "score": 1, "last_activity_date": 1617350071, "last_edit_date": 1617350071, "creation_date": 1577819679, "answer_id": 59547749, "question_id": 59546633, "link": "https://stackoverflow.com/questions/59546633/enable-disable-buttons-while-thread-is-working/59547749#59547749", "title": "Enable/Disable buttons while thread is working", "body": "<p>To solve your problem you can make a thread to check the ThreadState of thread t and thread b</p>\n<pre><code>private void btnstart_Click(object sender, EventArgs e)\n{\n  \n    t = new Thread(AddLinksToList);\n    b = new Thread(EnqueueFromList);\n\n\n    t.Start();\n    b.Start();\n    if (threadchecker == null)//this if determines Whether it's the first time or not\n    {\n        threadchecker = new Thread(() =&gt; ChekingStateOfThreads());\n        threadchecker.IsBackground = true;\n        threadchecker.Start();\n    }\n}\n</code></pre>\n<p>Since the thread wants to check the ThreadState of those threads it should always run.\nand This is <strong>ChekingStateOfThreads</strong></p>\n<pre><code>private void ChekingStateOfThreads()\n{\n    while (true)\n    {\n        Thread.Sleep(1000);\n   \n        if (t.ThreadState == ThreadState.Stopped)\n        {\n            this.Invoke(new Action(() =&gt;\n            {\n                btnpause.Enabled = btnstart.Enabled = false;\n                btnresume.Enabled = btnstop.Enabled = true;\n            }));\n        }\n        else if (t.ThreadState == ThreadState.Running)\n        {\n            this.Invoke(new Action(() =&gt;\n            {\n                btnstart.Enabled = btnresume.Enabled = false;\n                btnpause.Enabled = btnstop.Enabled = true;\n            }));\n        }\n        else if (t.ThreadState == ThreadState.Aborted)\n        {\n            this.Invoke(new Action(() =&gt;\n            {\n                btnstart.Enabled = true;\n                btnpause.Enabled = btnresume.Enabled = btnstop.Enabled = false;\n            }));\n        }\n        else if (t.ThreadState == ThreadState.Suspended)\n        {\n            this.Invoke(new Action(() =&gt;\n            {\n                btnpause.Enabled = btnstart.Enabled = false;\n                btnresume.Enabled = btnstop.Enabled = true;\n            }));\n        }\n    }\n}\n</code></pre>\n<p>The concept of function is pretty simple. Each 1 second the thread is check the state of thread t.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/12915076/why-use-invoke-on-controls-in-net\">Why use Invoke on Controls in .net?</a> to figure out why should we use INVOKE.</p>\n<p>To abort the threadchecker just use the Form_closing Event</p>\n<pre><code>private void Form1_FormClosed(object sender, FormClosedEventArgs e)\n{\n    threadchecker.Abort();\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 9742227, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yliG5T03bes/AAAAAAAAAAI/AAAAAAAABiI/zuJBvb6IiQU/photo.jpg?sz=128", "display_name": "Mead Alsorani", "link": "https://stackoverflow.com/users/9742227/mead-alsorani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 1, "accepted_answer_id": 59547383, "answer_count": 2, "score": 2, "last_activity_date": 1617350071, "creation_date": 1577810795, "last_edit_date": 1577812271, "question_id": 59546633, "link": "https://stackoverflow.com/questions/59546633/enable-disable-buttons-while-thread-is-working", "title": "Enable/Disable buttons while thread is working", "body": "<p>I have a button that starts two threads</p>\n\n<pre><code>private void CrawdBtn_Click(object sender, EventArgs e)\n{\n    CrawdBtn.Enabled = false;\n    t = new Thread(AddLinksToList);\n    b = new Thread(EnqueueFromList);\n    t.Start();\n    b.Start();            \n}\n</code></pre>\n\n<p>and there are another buttons to pause, Resume, Stop those threads\nMy question is how can I disable (pause, Resume, Stop) buttons while the threads are working and re enable Crawl after the threads finished </p>\n"}, {"tags": ["c#", ".net", "winforms"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577810887, "post_id": 59546589, "comment_id": 105262165, "body": "<a href=\"https://stackoverflow.com/a/13228495/7444103\">How to configure an app to run correctly on a machine with a high DPI setting (e.g. 150%)?</a>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1577811608, "post_id": 59546589, "comment_id": 105262393, "body": "You&#39;re making some other kind of mistake.  When you declare you app to be dpiAware then the form design does <i>not</i> get rescaled.  Maybe you created the panel in your code instead of with the designer and hard-coded its size to 500x500, creating it in the Load event instead of the constructor.  Just make sure you do everything in the constructor, so rescaling is consistent for all controls regardless of the DPI setting."}, {"owner": {"reputation": 37, "user_id": 10962577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c2cbb7fe6529658a6f822258b75ca3?s=128&d=identicon&r=PG&f=1", "display_name": "607", "link": "https://stackoverflow.com/users/10962577/607"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1577811734, "post_id": 59546589, "comment_id": 105262426, "body": "@HansPassant Indeed, when I declare the app to be dpiAware it does not get rescaled. Should it? I don&#39;t use the designer."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1577811805, "post_id": 59546589, "comment_id": 105262448, "body": "Not on your machine.  It might well get rescaled on another machine with a different DPI setting."}, {"owner": {"reputation": 37, "user_id": 10962577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c2cbb7fe6529658a6f822258b75ca3?s=128&d=identicon&r=PG&f=1", "display_name": "607", "link": "https://stackoverflow.com/users/10962577/607"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577811944, "post_id": 59546589, "comment_id": 105262491, "body": "@Jimi Interestingly, that is exactly what I used. From that being the accepted answer, you would think that this should do the job. But in my experience, it doesn&#39;t: it only upscales the text, nothing else."}, {"owner": {"reputation": 37, "user_id": 10962577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c2cbb7fe6529658a6f822258b75ca3?s=128&d=identicon&r=PG&f=1", "display_name": "607", "link": "https://stackoverflow.com/users/10962577/607"}, "edited": false, "score": 0, "creation_date": 1577812613, "post_id": 59546589, "comment_id": 105262700, "body": "I added screenshots to my post, for clarity."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577813559, "post_id": 59546589, "comment_id": 105262946, "body": "The Font size is another matter.When you set the Application DpiAwareness, you have to consider multiple factors. The Form must AutoScale to Dpi, not Font. All controls need to have their Font explicitly set, don&#39;t let them inherit from the Parent (at some point). Use TableLayoutPanels / FlowLayoutPanels to layout your controls etc. Note also that DpiAwareness has different levels: <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/winforms/high-dpi-support-in-windows-forms#configuring-your-windows-forms-app-for-high-dpi-support\" rel=\"nofollow noreferrer\">High DPI support in Windows Forms</a>."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577813801, "post_id": 59546589, "comment_id": 105263012, "body": "Decide if you want to use the <code>app.manifest</code>, the <code>app.config</code>, or use the Windows API to <i>manually</i> redefine this behavior: <a href=\"https://docs.microsoft.com/en-us/windows/win32/hidpi/high-dpi-desktop-application-development-on-windows\" rel=\"nofollow noreferrer\">High DPI Desktop Application Development on Windows</a>, <a href=\"https://devblogs.microsoft.com/oldnewthing/?p=93695\" rel=\"nofollow noreferrer\">How can I update my WinForms app to behave better at high DPI, or at normal DPI on very large screens?</a> (and so on). Mixing the available tools is not that straightforward. It needs some testing."}, {"owner": {"reputation": 37, "user_id": 10962577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c2cbb7fe6529658a6f822258b75ca3?s=128&d=identicon&r=PG&f=1", "display_name": "607", "link": "https://stackoverflow.com/users/10962577/607"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577887375, "post_id": 59546589, "comment_id": 105274803, "body": "@Jimi Setting either &#39;AutoScaleMode = AutoScaleMode.Font;&#39; or &#39;AutoScaleMode = AutoScaleMode.Dpi;&#39; in the form&#39;s constructor method does not visibly change anything. In both cases the form still looks like the posted screenshot.&lt;br&gt; I have now explicitly set the font for each control to (&quot;Microsoft Sans Serif&quot;, 8). This also does not visibly change anything.&lt;br&gt; I don&#39;t know if I want to use &#39;app.manifest&#39; or &#39;app.config&#39; as I had never heard of either, interestingly. I would rather not manually recreate the behaviour if it is indeed built-in, as using a built-in method seems cleaner."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577887805, "post_id": 59546589, "comment_id": 105274891, "body": "You <i>never heard</i> about the <code>app.manifest</code>? It&#39;s in the first like I posted. You add the <code>app.manifest</code> as you add any other component: Project \u2192 Add \u2192 New Item... You&#39;ll see the DpiAware setting already there, commented out. Then follow the linked answer. -- In your first image, the Form is virtualized (DpiAware = NotAware). In your second Image, the Form is is not vistualized, but the Font is scaled, causing some of the control to be resized. This is usually clear <i>symptom</i> that the Form scales on Fonts and the Font is inherited. Set these properties in the Form&#39;s designer."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577887915, "post_id": 59546589, "comment_id": 105274916, "body": "Use the manifest to set the DpiAwareness status of your app, use <code>Segoe UI</code> as Font, follow the other Documents I linked."}, {"owner": {"reputation": 37, "user_id": 10962577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c2cbb7fe6529658a6f822258b75ca3?s=128&d=identicon&r=PG&f=1", "display_name": "607", "link": "https://stackoverflow.com/users/10962577/607"}, "edited": false, "score": 0, "creation_date": 1577888455, "post_id": 59546589, "comment_id": 105275049, "body": "I have set the app.manifest and App.config lines mentioned in the default app.manifest, and commented out the API call SetProcessDPIAware();. The result is unchanged, so using the manifest and config works. However, the result should be changed.&lt;br&gt; I do not use the designer. What properties are you talking about? Surely any properties that could be set in the designer can be set by code as well.&lt;br&gt; Why would I have to use Segoe UI?"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577889297, "post_id": 59546589, "comment_id": 105275252, "body": "Well, use the Designer for testing, so you can understand what you&#39;re doing wrong. Segoe UI because it&#39;s a System Font (always available, widely used) and it&#39;s not the default one, so you have a clear <i>visual</i> when the Font has not been applied. Btw, this is a quite common/classic scenario. If you follow the instructions (to the letter, without any <i>interpretation</i>) you&#39;ll get it right. Btw2, use the <code>app.manifest</code> <b>OR</b> <code>app.config</code> not both. The former overrides the latter (this is also described in the Documents I linked)."}, {"owner": {"reputation": 37, "user_id": 10962577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c2cbb7fe6529658a6f822258b75ca3?s=128&d=identicon&r=PG&f=1", "display_name": "607", "link": "https://stackoverflow.com/users/10962577/607"}, "edited": false, "score": 0, "creation_date": 1577890428, "post_id": 59546589, "comment_id": 105275482, "body": "Without <i>interpretation</i> one wouldn&#39;t get anywhere. Imagine trying to create a bot that would solve problems through reading StackOverflow threads. The Designer doesn&#39;t show anything useful, because it doesn&#39;t actually interpret any code. It only shows a default form, which is of course very much unlike the end product. To test, you should click the &#39;Start&#39; button."}, {"owner": {"reputation": 37, "user_id": 10962577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c2cbb7fe6529658a6f822258b75ca3?s=128&d=identicon&r=PG&f=1", "display_name": "607", "link": "https://stackoverflow.com/users/10962577/607"}, "edited": false, "score": 0, "creation_date": 1577890450, "post_id": 59546589, "comment_id": 105275490, "body": "Quoting from app.manifest: `  &lt;!-- Indicates that the application is DPI-aware and will not be automatically scaled by Windows at higher        DPIs. Windows Presentation Foundation (WPF) applications are automatically DPI-aware and do not need         to opt in. Windows Forms applications targeting .NET Framework 4.6 that opt into this setting, should         also set the &#39;EnableWindowsFormsHighDpiAutoResizing&#39; setting to &#39;true&#39; in their app.config. --&gt;` I&#39;m pretty sure I&#39;m targeting .NET Framework 4.6. Edit: Yes, 4.6.1."}, {"owner": {"reputation": 37, "user_id": 10962577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c2cbb7fe6529658a6f822258b75ca3?s=128&d=identicon&r=PG&f=1", "display_name": "607", "link": "https://stackoverflow.com/users/10962577/607"}, "edited": false, "score": 0, "creation_date": 1577890763, "post_id": 59546589, "comment_id": 105275552, "body": "I think I will go with my proposed solution, as it seems like there is no working built-in solution. However, I am hesitant, because it seems like that for some people this setting that for me only changes font size actually <i>did</i> change everything. I hypothesise that these are people that used the Designer to add all their controls. But the Designer shouldn&#39;t do any magic. Anything that can be done with the Designer has to be possible without it as well, I&#39;m pretty sure."}, {"owner": {"reputation": 37, "user_id": 10962577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c2cbb7fe6529658a6f822258b75ca3?s=128&d=identicon&r=PG&f=1", "display_name": "607", "link": "https://stackoverflow.com/users/10962577/607"}, "edited": false, "score": 0, "creation_date": 1577891854, "post_id": 59546589, "comment_id": 105275765, "body": "I figured it out. My hypothesis was correct. I wish I had got the idea to test it earlier. I opened a new project, and used the Designer to add some controls. Then I added another control using regular code. When using the DPI scaling, the Designer-added controls scale, and so does the form, but the code-added control does not. So <i>yes</i>, SetProcessDPI aware should scale everything up. But there&#39;s an issue when the Designer isn&#39;t used, apparently. I will look into what the Designer actually does so I can find out how to fix this."}], "answers": [{"comments": [{"owner": {"reputation": 94, "user_id": 9200894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a3e947146bcc04322cef90ab390ebd?s=128&d=identicon&r=PG", "display_name": "Mike Williams", "link": "https://stackoverflow.com/users/9200894/mike-williams"}, "edited": false, "score": 0, "creation_date": 1577815194, "post_id": 59546957, "comment_id": 105263410, "body": "Can I ask why this was down voted? The answer may not be to the OP&#39;s liking, but it certainly fixes the issue they are having with text overloading the panels."}, {"owner": {"reputation": 37, "user_id": 10962577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c2cbb7fe6529658a6f822258b75ca3?s=128&d=identicon&r=PG&f=1", "display_name": "607", "link": "https://stackoverflow.com/users/10962577/607"}, "edited": false, "score": 0, "creation_date": 1577887491, "post_id": 59546957, "comment_id": 105274824, "body": "I may look into this answer (I have not voted on it), but I would like to point out ahead of time that I do not have an issue with text overloading panels. The text resizing is in fact desired: I would like the rest of the form to resize as well."}, {"owner": {"reputation": 94, "user_id": 9200894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a3e947146bcc04322cef90ab390ebd?s=128&d=identicon&r=PG", "display_name": "Mike Williams", "link": "https://stackoverflow.com/users/9200894/mike-williams"}, "reply_to_user": {"reputation": 37, "user_id": 10962577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c2cbb7fe6529658a6f822258b75ca3?s=128&d=identicon&r=PG&f=1", "display_name": "607", "link": "https://stackoverflow.com/users/10962577/607"}, "edited": false, "score": 0, "creation_date": 1577890232, "post_id": 59546957, "comment_id": 105275444, "body": "I appreciate that it&#39;s not trivial to swap to a WPF user control, but we have found the pain is worth it to enable support for high DPI screens with scaling not at 100%. WPF and windows forms can safely be used in the same project."}], "tags": [], "owner": {"reputation": 94, "user_id": 9200894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a3e947146bcc04322cef90ab390ebd?s=128&d=identicon&r=PG", "display_name": "Mike Williams", "link": "https://stackoverflow.com/users/9200894/mike-williams"}, "is_accepted": false, "score": -1, "last_activity_date": 1577813085, "creation_date": 1577813085, "answer_id": 59546957, "question_id": 59546589, "link": "https://stackoverflow.com/questions/59546589/can-i-automatically-scale-a-form-for-dpi-without-it-getting-blurry/59546957#59546957", "title": "Can I automatically scale a form for DPI without it getting blurry?", "body": "<p>We solved the issue of rendering controls for high DPI screens with scaling greater than 100% in Chem4Word by creating a WPF user control which is hosted in an ElementHost control, which is set to fill the form.</p>\n\n<p>WinForm\n+- ElementHost\n    +- WPFUserControl</p>\n\n<p>Looking at your uploaded images, that's exactly the problem which is solved by using a WPF user control.</p>\n"}], "owner": {"reputation": 37, "user_id": 10962577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5c2cbb7fe6529658a6f822258b75ca3?s=128&d=identicon&r=PG&f=1", "display_name": "607", "link": "https://stackoverflow.com/users/10962577/607"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577813085, "creation_date": 1577810553, "last_edit_date": 1577812595, "question_id": 59546589, "link": "https://stackoverflow.com/questions/59546589/can-i-automatically-scale-a-form-for-dpi-without-it-getting-blurry", "title": "Can I automatically scale a form for DPI without it getting blurry?", "body": "<p>I am developing a WinForms application in C#. It uses a panel to draw an image of the Mandelbrot fractal. In the manual for the program and whenever I post about it somewhere, I recommend people to set their scaling setting to 100%, as otherwise the images won't look nice. This is because on other settings, the image is scaled up after drawing it, and it becomes blurry. All other controls are blurry too. </p>\n\n<p>For example: my panel is 500x500. The scaling in my Windows is set to 125%. When I run the program, the panel is internally still 500x500, but it appears as 625x625, blurry. <br> Instead, when the program is run, I want the panel to internally resize to 625x625, and appear as 625x625 too.</p>\n\n<p>I have found the following solution: I found out about SetProcessDPIAware() (from <a href=\"http://crsouza.com/2015/04/13/how-to-fix-blurry-windows-forms-windows-in-high-dpi-settings/\" rel=\"nofollow noreferrer\">here</a>). Setting that makes the window not scale (it appears as if it was at the 100% scale setting), but the text does (and without becoming blurry). I can then, at the start of the program, calculate the appropriate multiplier (dpi = DpiX / 96) and give that to a huge method that includes commands like </p>\n\n<pre><code>xentrylabel.Location = new Point((int)(xentrylabel.Location.X * dpi),(int)(xentrylabel.Location.Y * dpi));\nxentry.Location = new Point((int)(xentry.Location.X * dpi), (int)(xentry.Location.Y * dpi));\nxentry.Size = new Size((int)(xentry.Width * dpi), (int)(xentry.Height * dpi));\n</code></pre>\n\n<p>One for every control property that might need to be updated. While writing this question, I got this idea and got started with it. However, I realised that this will need very many lines of code, so I wonder if there isn't a built-in way to do this. It seems like an option that many would like to go for, rather than their applications becoming blurry or hard to read on screens with high dpi.</p>\n\n<p>Is this way of manually correcting positions and sizes the way to go, or is there a built-in way to scale the form for other DPI settings by actually scaling everything in the form, instead of scaling the end result?</p>\n\n<p>Edit: From some comments it seems as if SetProcessDPIAware() alone should scale up everything. But in my experience, it doesn't. Here are some screenshots:\nApplication on 100% scale setting:\n<a href=\"https://i.stack.imgur.com/pws9B.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/pws9B.png</a></p>\n\n<p>Application on 125% scale setting without SetProcessDPIAware():\n<a href=\"https://i.stack.imgur.com/cE4Wx.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/cE4Wx.png</a></p>\n\n<p>Application on 125% scale setting with SetProcessDPIAware():\n<a href=\"https://i.stack.imgur.com/oVA8W.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/oVA8W.png</a></p>\n"}, {"tags": ["c#", "arrays"], "comments": [{"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 4, "creation_date": 1577810366, "post_id": 59546536, "comment_id": 105262005, "body": "The correct syntax is to declare it as an array of floats, and to allocate a 13-element array and assign to it, like this: <code>public float[] InterpolationFactorMonth = new float[13];</code>. As the error states, fixed arrays are only usable from structs, and usually only used with interop/marshalling scenarios where you need to pass the struct to some foreign unmanaged piece of code."}, {"owner": {"reputation": 105, "user_id": 12481744, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ATdyBBDF1iI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rct6Im9hrXxmx9trmlyTbHOz5zXfw/photo.jpg?sz=128", "display_name": "Kam Mistry", "link": "https://stackoverflow.com/users/12481744/kam-mistry"}, "reply_to_user": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1577810478, "post_id": 59546536, "comment_id": 105262039, "body": "Lasse, yes.  if you post as answer I will accept that...I thought that the fact that it is only 13 elements means its fixed.  So fixed array is something else...."}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 1, "creation_date": 1577810555, "post_id": 59546536, "comment_id": 105262070, "body": "You already have a good answer by Jon, there&#39;s no need to create another one."}], "answers": [{"tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 9, "last_activity_date": 1577810449, "creation_date": 1577810449, "answer_id": 59546574, "question_id": 59546536, "link": "https://stackoverflow.com/questions/59546536/c-array-member/59546574#59546574", "title": "C# array member", "body": "<p>If you want a fixed-sized array inline, that has to be declared within a struct, as per the compiler error. If you're <em>actually</em> happy with a reference to an array as normal, you need to differentiate between declaration and initialization. For example:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// Note: Utility isn't a great name either, but definitely lose the \"cls\" prefix.\nclass Utility\n{\n    public int UtilityId { get; set; }\n    public float[] InterpolationFactorMonth { get; } = new float[13];\n}\n</code></pre>\n\n<p>This declares a read-only property of type <code>float[]</code>, and initializes it with a new array of 13 elements.</p>\n"}, {"comments": [{"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 3, "creation_date": 1577810519, "post_id": 59546581, "comment_id": 105262056, "body": "It is possible to use fixed for arrays, just not in classes."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 2, "creation_date": 1577810544, "post_id": 59546581, "comment_id": 105262064, "body": "Please read <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/unsafe-code-pointers/fixed-size-buffers\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a> - fixed size buffers definitely do exist. They&#39;re not quite the same as a regular array, but they use the same syntax, hence the error message the OP is seeing."}], "tags": [], "owner": {"reputation": 94, "user_id": 9969666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3NcBQ.jpg?s=128&g=1", "display_name": "Aaron H", "link": "https://stackoverflow.com/users/9969666/aaron-h"}, "is_accepted": false, "score": 2, "last_activity_date": 1577815902, "last_edit_date": 1577815902, "creation_date": 1577810471, "answer_id": 59546581, "question_id": 59546536, "link": "https://stackoverflow.com/questions/59546536/c-array-member/59546581#59546581", "title": "C# array member", "body": "<p>So first of all, it is not possible to use <code>fixed</code> in this case. \nYou could use <code>public float[] InterpolationFactorMonth = new float[13];</code> \nTo create an array of the size 13.</p>\n"}], "owner": {"reputation": 105, "user_id": 12481744, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ATdyBBDF1iI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rct6Im9hrXxmx9trmlyTbHOz5zXfw/photo.jpg?sz=128", "display_name": "Kam Mistry", "link": "https://stackoverflow.com/users/12481744/kam-mistry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 59546574, "answer_count": 2, "score": 1, "last_activity_date": 1577815902, "creation_date": 1577810195, "last_edit_date": 1577815689, "question_id": 59546536, "link": "https://stackoverflow.com/questions/59546536/c-array-member", "title": "C# array member", "body": "<p>Here is my code and it gives red squiggly line under the variable of the array declaration, stating,</p>\n\n<blockquote>\n  <p>Fixed size buffer fields may only be members of struct</p>\n</blockquote>\n\n<p>float is a value type, so I don't quite understand this message.\nWhat is the correct syntax to create public array of 13 elements (0 through 12; I ignore index 0)...</p>\n\n<pre><code>class clsUtility\n{\n    public int UtilityId { get; set; }\n    public fixed float InterpolationFactorMonth[13];      // &lt;-- HERE IS THE PROBLEM\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio"], "comments": [{"owner": {"reputation": 9368, "user_id": 1390548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee99f66a15a8e049467a0fca2b80eb?s=128&d=identicon&r=PG&f=1", "display_name": "Jawad", "link": "https://stackoverflow.com/users/1390548/jawad"}, "edited": false, "score": 0, "creation_date": 1577810158, "post_id": 59546519, "comment_id": 105261937, "body": "Right click project, manage nuget packages, install package System.Xml"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1577810207, "post_id": 59546519, "comment_id": 105261950, "body": "If there is no project loaded, you need to create a new one first. Then you can add references to that. How are you running this C# script? PowerShell? CSH?"}, {"owner": {"reputation": 1, "user_id": 12633103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63315610546274d15c3e966fa2b48e2a?s=128&d=identicon&r=PG&f=1", "display_name": "San", "link": "https://stackoverflow.com/users/12633103/san"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1577810951, "post_id": 59546519, "comment_id": 105262181, "body": "@RonBeyer dindt rlly tought about that tbh. i think i never created a single c# file. always a console project, wpf project or use vs as my ide for unity. the plan was to drop the c# file into my unity project and use the function it provides. but it also should function as a plugin for any other programm based on c#. i thought creating a c# file and refernce it in the &#39;final application&#39; should do the trick. how do it best get started with the plugin if i really need a project?"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1577811104, "post_id": 59546519, "comment_id": 105262224, "body": "You <i>can</i> use it that way, but the project you are including it in must have a reference to the Xml namespace for it to work. The best way I can think of to test this is to create a test project and then add the file (right click the project, select Add Existing File, then instead of just selecting the file drop down the arrow on the button and select &quot;add as link&quot;). Then you can test it as you would calling it from any other project. If you want to include it as an assembly (DLL) you should start with a library project and put your plugin code in that."}, {"owner": {"reputation": 1, "user_id": 12633103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63315610546274d15c3e966fa2b48e2a?s=128&d=identicon&r=PG&f=1", "display_name": "San", "link": "https://stackoverflow.com/users/12633103/san"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1577811701, "post_id": 59546519, "comment_id": 105262415, "body": "@RonBeyer okay i will try the second method. i definitely want the xml reference in the plugin. thanks!"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1577824530, "post_id": 59546519, "comment_id": 105265552, "body": "From Solution Explorer : Right Click Namespace : Add : Add Existing Object : Select *.* and browse toward xml file.  Then Right Click XML File : Select Properties : Copy To Output Directory."}], "answers": [{"tags": [], "owner": {"reputation": 3436, "user_id": 11507778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ZI8M.jpg?s=128&g=1", "display_name": "Jack J Jun - MSFT", "link": "https://stackoverflow.com/users/11507778/jack-j-jun-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1577846384, "creation_date": 1577846384, "answer_id": 59549688, "question_id": 59546519, "link": "https://stackoverflow.com/questions/59546519/add-xml-reference-to-a-single-c-script-in-visual-studio/59549688#59549688", "title": "Add XML reference to a single c# script in visual studio", "body": "<p>You can use the following code to add xml reference to c# script and call the script successfully.</p>\n\n<pre><code> static void Main(string[] args)\n    {\n        string code = File.ReadAllText(\"D:\\\\Code.cs\");\n        CSScript.Evaluator.ReferenceAssembliesFromCode(code);\n        dynamic block = CSScript.Evaluator.LoadCode(code);\n        block.ExecuteAFunction();\n\n        Console.ReadKey();\n    }\n</code></pre>\n\n<p>Code.cs</p>\n\n<pre><code>using System;\nusing System.Xml;\n class MyScript\n    {\n        public void ExecuteAFunction()\n        {\n            string path = \"D:\\\\t.xml\";\n            XmlDocument document = new XmlDocument();\n            document.Load(path);\n            Console.WriteLine(document.LastChild.InnerXml);\n            Console.ReadKey();\n\n\n        }\n    }\n</code></pre>\n\n<p>Besides, you also look at <a href=\"https://stackoverflow.com/questions/22916467/how-to-add-a-reference-to-a-c-sharp-script\">How to Add a Reference to a C# Script</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 12633103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63315610546274d15c3e966fa2b48e2a?s=128&d=identicon&r=PG&f=1", "display_name": "San", "link": "https://stackoverflow.com/users/12633103/san"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577851922, "creation_date": 1577810039, "last_edit_date": 1577851922, "question_id": 59546519, "link": "https://stackoverflow.com/questions/59546519/add-xml-reference-to-a-single-c-script-in-visual-studio", "title": "Add XML reference to a single c# script in visual studio", "body": "<p>This may be a stupid question but how can I add XML references in Visual Studio to a single c# file?</p>\n\n<p>I want to use <code>using System.xml;</code>, but Visual Studio is not able to find it. After a little research, I found out that I have to reference the DLL. But I only created a single <code>C#</code> script and no project: the project window on the right side is empty (shows 0 projects) and, when I right-click on it, there is no option for adding a reference.</p>\n\n<p>The script should provide a few functions for reading specific XML files and basically should be a plug-in which can be implemented in any <code>C#</code> program if needed - so I think I don't really want to make an application out of it.</p>\n"}, {"tags": ["c#", "wpf", "textbox"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1577809351, "post_id": 59546407, "comment_id": 105261713, "body": "It&#39;s really unclear what you&#39;re trying to do from that image, and that&#39;s a mountain of code to try and go through."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1577809954, "post_id": 59546407, "comment_id": 105261878, "body": "<code>Is it right to have multiple text-boxes in single Text Box? If No, What would be best control to replace text box?</code> -- Another User Control."}, {"owner": {"reputation": 375, "user_id": 1897665, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3b62c0150b359b11488ed4bf67945f0c?s=128&d=identicon&r=PG", "display_name": "keerti_h", "link": "https://stackoverflow.com/users/1897665/keerti-h"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1577813700, "post_id": 59546407, "comment_id": 105262985, "body": "Sorry for that. As I said I want a editable combobox which takes inputs from 2 text boxes.This code is just Template style with few modifications like in comboboxTextBox template been modified. Please have a look"}], "owner": {"reputation": 375, "user_id": 1897665, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/3b62c0150b359b11488ed4bf67945f0c?s=128&d=identicon&r=PG", "display_name": "keerti_h", "link": "https://stackoverflow.com/users/1897665/keerti-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577813719, "creation_date": 1577809182, "last_edit_date": 1577813719, "question_id": 59546407, "link": "https://stackoverflow.com/questions/59546407/how-to-have-two-editable-textboxes-in-combobox-content-template", "title": "How to have two editable TextBoxes in Combobox content template?", "body": "<p>I want to have two <code>TextBoxe</code>s in <code>ComboBox</code> template as shown in the image below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FTGOB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FTGOB.png\" alt=\"\"></a></p>\n\n<p>I have modified control template from <strong>MSDN</strong>. This has a problem: I am not able to tab the inner <code>TextBoxe</code>s!</p>\n\n<p>Is it right to have multiple <code>TextBoxe</code>s in single <code>TextBox</code>?</p>\n\n<p>If the answer would be NO, then what would be best control to replace <code>TextBox</code>? </p>\n\n<h2>Code:</h2>\n\n<pre><code>&lt;UserControl x:Class=\"SearchableListBox_keyNavigator.TrackNameControl\"\n             xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n             xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" \n             xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\" \n             xmlns:local=\"clr-namespace:SearchableListBox_keyNavigator\"\n             mc:Ignorable=\"d\" \n             d:DesignHeight=\"450\" d:DesignWidth=\"800\"&gt;\n    &lt;UserControl.Resources&gt;\n              &lt;LinearGradientBrush x:Key=\"ProgressBarIndicatorAnimatedFill\"\n                     StartPoint=\"0,0\"\n                     EndPoint=\"1,0\"&gt;\n            &lt;LinearGradientBrush.GradientStops&gt;\n                &lt;GradientStopCollection&gt;\n                    &lt;GradientStop Color=\"#000000FF\"\n                    Offset=\"0\" /&gt;\n                    &lt;GradientStop Color=\"White\"\n                    Offset=\"0.4\" /&gt;\n                    &lt;GradientStop Color=\"MintCream\"\n                    Offset=\"0.6\" /&gt;\n                    &lt;GradientStop Color=\"#000000FF\"\n                    Offset=\"1\" /&gt;\n                &lt;/GradientStopCollection&gt;\n            &lt;/LinearGradientBrush.GradientStops&gt;\n        &lt;/LinearGradientBrush&gt;\n        &lt;ControlTemplate x:Key=\"ComboBoxToggleButton\"\n                 TargetType=\"{x:Type ToggleButton}\"&gt;\n            &lt;Grid&gt;\n                &lt;Grid.ColumnDefinitions&gt;\n                    &lt;ColumnDefinition /&gt;\n                    &lt;ColumnDefinition Width=\"20\" /&gt;\n                &lt;/Grid.ColumnDefinitions&gt;\n                &lt;VisualStateManager.VisualStateGroups&gt;\n                    &lt;VisualStateGroup x:Name=\"CommonStates\"&gt;\n                        &lt;VisualState x:Name=\"Normal\" /&gt;\n                        &lt;VisualState x:Name=\"MouseOver\"&gt;\n                            &lt;Storyboard&gt;\n                                &lt;ColorAnimationUsingKeyFrames Storyboard.TargetProperty=\"(Panel.Background).\n                (GradientBrush.GradientStops)[1].(GradientStop.Color)\"\n                                          Storyboard.TargetName=\"Border\"&gt;\n                                    &lt;EasingColorKeyFrame KeyTime=\"0\"\n                                   Value=\"{StaticResource ControlPressedColor}\" /&gt;\n                                &lt;/ColorAnimationUsingKeyFrames&gt;\n                            &lt;/Storyboard&gt;\n                        &lt;/VisualState&gt;\n                        &lt;VisualState x:Name=\"Pressed\" /&gt;\n                        &lt;VisualState x:Name=\"Disabled\"&gt;\n                            &lt;Storyboard&gt;\n                                &lt;ColorAnimationUsingKeyFrames Storyboard.TargetProperty=\"(Panel.Background).\n                (GradientBrush.GradientStops)[1].(GradientStop.Color)\"\n                                          Storyboard.TargetName=\"Border\"&gt;\n                                    &lt;EasingColorKeyFrame KeyTime=\"0\"\n                                   Value=\"{StaticResource DisabledControlDarkColor}\" /&gt;\n                                &lt;/ColorAnimationUsingKeyFrames&gt;\n                                &lt;ColorAnimationUsingKeyFrames Storyboard.TargetProperty=\"(Shape.Fill).\n                (SolidColorBrush.Color)\"\n                                          Storyboard.TargetName=\"Arrow\"&gt;\n                                    &lt;EasingColorKeyFrame KeyTime=\"0\"\n                                   Value=\"{StaticResource DisabledForegroundColor}\" /&gt;\n                                &lt;/ColorAnimationUsingKeyFrames&gt;\n                                &lt;ColorAnimationUsingKeyFrames Storyboard.TargetProperty=\"(Border.BorderBrush).\n                (GradientBrush.GradientStops)[1].(GradientStop.Color)\"\n                                          Storyboard.TargetName=\"Border\"&gt;\n                                    &lt;EasingColorKeyFrame KeyTime=\"0\"\n                                   Value=\"{StaticResource DisabledBorderDarkColor}\" /&gt;\n                                &lt;/ColorAnimationUsingKeyFrames&gt;\n                            &lt;/Storyboard&gt;\n                        &lt;/VisualState&gt;\n                    &lt;/VisualStateGroup&gt;\n                    &lt;VisualStateGroup x:Name=\"CheckStates\"&gt;\n                        &lt;VisualState x:Name=\"Checked\"&gt;\n                            &lt;Storyboard&gt;\n                                &lt;ColorAnimationUsingKeyFrames Storyboard.TargetProperty=\"(Panel.Background).\n                (GradientBrush.GradientStops)[1].(GradientStop.Color)\"\n                                          Storyboard.TargetName=\"Border\"&gt;\n                                    &lt;EasingColorKeyFrame KeyTime=\"0\"\n                                   Value=\"{StaticResource ControlPressedColor}\" /&gt;\n                                &lt;/ColorAnimationUsingKeyFrames&gt;\n                            &lt;/Storyboard&gt;\n                        &lt;/VisualState&gt;\n                        &lt;VisualState x:Name=\"Unchecked\" /&gt;\n                        &lt;VisualState x:Name=\"Indeterminate\" /&gt;\n                    &lt;/VisualStateGroup&gt;\n                &lt;/VisualStateManager.VisualStateGroups&gt;\n                &lt;Border x:Name=\"Border\"\n            Grid.ColumnSpan=\"2\"\n            CornerRadius=\"2\"\n            BorderThickness=\"1\"&gt;\n                    &lt;Border.BorderBrush&gt;\n                        &lt;LinearGradientBrush EndPoint=\"0,1\"\n                             StartPoint=\"0,0\"&gt;\n                            &lt;GradientStop Color=\"{DynamicResource BorderLightColor}\"\n                        Offset=\"0\" /&gt;\n                            &lt;GradientStop Color=\"{DynamicResource BorderDarkColor}\"\n                        Offset=\"1\" /&gt;\n                        &lt;/LinearGradientBrush&gt;\n                    &lt;/Border.BorderBrush&gt;\n                    &lt;Border.Background&gt;\n\n                        &lt;LinearGradientBrush StartPoint=\"0,0\"\n                             EndPoint=\"0,1\"&gt;\n                            &lt;LinearGradientBrush.GradientStops&gt;\n                                &lt;GradientStopCollection&gt;\n                                    &lt;GradientStop Color=\"{DynamicResource ControlLightColor}\" /&gt;\n                                    &lt;GradientStop Color=\"{DynamicResource ControlMediumColor}\"\n                            Offset=\"1.0\" /&gt;\n                                &lt;/GradientStopCollection&gt;\n                            &lt;/LinearGradientBrush.GradientStops&gt;\n                        &lt;/LinearGradientBrush&gt;\n\n                    &lt;/Border.Background&gt;\n                &lt;/Border&gt;\n                &lt;Border Grid.Column=\"0\"\n            CornerRadius=\"2,0,0,2\"\n            Margin=\"1\" &gt;\n                    &lt;Border.Background&gt;\n                        &lt;SolidColorBrush Color=\"{DynamicResource ControlLightColor}\"/&gt;\n                    &lt;/Border.Background&gt;\n                &lt;/Border&gt;\n\n                &lt;Path x:Name=\"Arrow\"\n          Grid.Column=\"1\"\n          HorizontalAlignment=\"Center\"\n          VerticalAlignment=\"Center\"\n           Data=\"M2.33496 0.802746C2.33496 0.397737 2.66329 0.0694122 3.06829 0.0694122C3.4733 0.0694122 3.80163 0.397737 3.80163 0.802746V2.06941H6.54004V0.802746C6.54004 0.397737 6.86836 0.0694122 7.27337 0.0694122C7.67838 0.0694122 8.00671 0.397737 8.00671 0.802746V2.06941H9.41028C9.68643 2.06941 9.91029 2.29327 9.91029 2.56941C9.91029 2.84555 9.68643 3.06941 9.41029 3.06941H8.00671V5.56941H9.41028C9.68643 5.56941 9.91029 5.79327 9.91029 6.06941C9.91029 6.34555 9.68643 6.56941 9.41029 6.56941H8.00671V9.06941H9.41028C9.68643 9.06941 9.91029 9.29327 9.91029 9.56941C9.91029 9.84555 9.68643 10.0694 9.41029 10.0694H8.00671V11.3361C8.00671 11.7411 7.67838 12.0694 7.27337 12.0694C6.86836 12.0694 6.54004 11.7411 6.54004 11.3361V10.0694H3.80163V11.3361C3.80163 11.7411 3.4733 12.0694 3.06829 12.0694C2.66329 12.0694 2.33496 11.7411 2.33496 11.3361V10.0694H0.876954C0.600811 10.0694 0.376953 9.84555 0.376953 9.56941C0.376953 9.29327 0.600811 9.06941 0.876953 9.06941H2.33496V6.56941H0.876954C0.600811 6.56941 0.376953 6.34555 0.376953 6.06941C0.376953 5.79327 0.600811 5.56941 0.876953 5.56941H2.33496V3.06941H0.876954C0.600811 3.06941 0.376953 2.84555 0.376953 2.56941C0.376953 2.29327 0.600811 2.06941 0.876953 2.06941H2.33496V0.802746ZM3.80163 9.06941H6.54004V6.56941H3.80163V9.06941ZM6.54004 3.06941V5.56941H3.80163V3.06941H6.54004Z\"&gt;\n                    &lt;Path.Fill&gt;\n                        &lt;SolidColorBrush Color=\"#8E8E8E\"/&gt;\n                    &lt;/Path.Fill&gt;\n                &lt;/Path&gt;\n            &lt;/Grid&gt;\n        &lt;/ControlTemplate&gt;\n\n        &lt;ControlTemplate x:Key=\"ComboBoxTextBox\"&gt;\n            &lt;StackPanel Orientation=\"Horizontal\" Width=\"290\"  &gt;\n\n                &lt;TextBox x:Name=\"KMValueText\" Width=\"40\"  PreviewTextInput=\"UIElement_OnPreviewTextInput\"  Height=\"{TemplateBinding TextBox.Template}\"  Text=\"{Binding Path=KMText,Mode=TwoWay ,RelativeSource={RelativeSource FindAncestor, \n                                    AncestorType=local:TrackNameControl, \n                                    AncestorLevel=1},UpdateSourceTrigger=PropertyChanged}\" VerticalAlignment=\"Center\" HorizontalAlignment=\"Left\" VerticalContentAlignment=\"Center\"\n                         TextAlignment=\"Left\" GotFocus=\"Text_OnGotFocus\" PreviewKeyDown=\"Mycombo_PreviewKeyDown\" TabIndex=\"0\" Style=\"{StaticResource TextBoxFocusStyle}\" &gt;\n\n                &lt;/TextBox&gt;\n                &lt;TextBlock  Width=\"auto\" Background=\"Transparent\" Text=\"km \" FontStyle=\"Italic\"  VerticalAlignment=\"Center\" HorizontalAlignment=\"Center\" &gt;\n                    &lt;TextBlock.Style&gt;\n                        &lt;Style TargetType=\"TextBlock\"&gt;\n                            &lt;Style.Triggers&gt;\n                                &lt;DataTrigger Binding=\"{Binding IsFocused ,ElementName=KMValueText}\" Value=\"False\"&gt;\n                                    &lt;Setter Property=\"Foreground\" Value=\"Gray\"&gt;&lt;/Setter&gt;\n\n                                &lt;/DataTrigger&gt;\n                            &lt;/Style.Triggers&gt;\n                        &lt;/Style&gt;\n                    &lt;/TextBlock.Style&gt;\n                &lt;/TextBlock&gt;\n\n                &lt;TextBlock  Width=\"Auto\"  Text=\"@\" FontStyle=\"Italic\"   Background =\"Transparent\" VerticalAlignment=\"Center\" HorizontalAlignment=\"Center\" &gt;\n                    &lt;TextBlock.Style&gt;\n                        &lt;Style TargetType=\"TextBlock\"&gt;\n                            &lt;Style.Triggers&gt;\n                                &lt;DataTrigger Binding=\"{Binding IsFocused ,ElementName=TrackNameText}\" Value=\"False\"&gt;\n\n                                    &lt;Setter Property=\"Foreground\" Value=\"Gray\"&gt;&lt;/Setter&gt;\n\n                                &lt;/DataTrigger&gt;\n                            &lt;/Style.Triggers&gt;\n                        &lt;/Style&gt;\n                    &lt;/TextBlock.Style&gt;\n                &lt;/TextBlock&gt;\n\n                &lt;Border x:Name=\"TrackBorder\"&gt;\n                    &lt;TextBox x:Name=\"TrackNameText\" Width=\"190\"  Height=\"{TemplateBinding TextBox.Template}\"  Text=\"{Binding Path=TrackText,Mode=TwoWay,RelativeSource={RelativeSource FindAncestor, \n                                    AncestorType=local:TrackNameControl, \n                                    AncestorLevel=1}, UpdateSourceTrigger=PropertyChanged}\"  \n                         ToolTip=\"{Binding Path=TrackText}\"  VerticalAlignment=\"Center\"\n                        HorizontalAlignment=\"Right\" \n                        VerticalContentAlignment=\"Center\" Style=\"{StaticResource TextBoxFocusStyle}\"  IsEnabled=\"{Binding Path=IsStartKmMarker,RelativeSource={RelativeSource FindAncestor,AncestorType= local:TrackNameControl, AncestorLevel=1}}\" GotFocus=\"Text_OnGotFocus\" PreviewKeyDown=\"Mycombo_PreviewKeyDown\"&gt;\n                        &lt;!--&lt;TextBox.CommandBindings&gt;\n                            &lt;CommandBinding Command=\"Delete\" Executed=\"DeleteAll\"&gt;&lt;/CommandBinding&gt;\n                        &lt;/TextBox.CommandBindings&gt;\n                        &lt;TextBox.InputBindings&gt;\n                            &lt;KeyBinding Key=\"Delete\" Command=\"Delete\" &gt;&lt;/KeyBinding&gt;\n                        &lt;/TextBox.InputBindings&gt;--&gt;\n                    &lt;/TextBox&gt;\n                &lt;/Border&gt;\n            &lt;/StackPanel&gt;\n        &lt;/ControlTemplate&gt;\n\n\n        &lt;Style x:Key=\"{x:Type ComboBox}\"\n       TargetType=\"{x:Type ComboBox}\"&gt;\n            &lt;Setter Property=\"SnapsToDevicePixels\"\n          Value=\"true\" /&gt;\n            &lt;Setter Property=\"OverridesDefaultStyle\"\n          Value=\"true\" /&gt;\n            &lt;Setter Property=\"ScrollViewer.HorizontalScrollBarVisibility\"\n          Value=\"Auto\" /&gt;\n            &lt;Setter Property=\"ScrollViewer.VerticalScrollBarVisibility\"\n          Value=\"Auto\" /&gt;\n            &lt;Setter Property=\"ScrollViewer.CanContentScroll\"\n          Value=\"true\" /&gt;\n            &lt;Setter Property=\"MinWidth\"\n          Value=\"120\" /&gt;\n            &lt;Setter Property=\"MinHeight\"\n          Value=\"20\" /&gt;\n            &lt;Setter Property=\"Template\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;ControlTemplate TargetType=\"{x:Type ComboBox}\"&gt;\n                        &lt;Grid&gt;\n                            &lt;VisualStateManager.VisualStateGroups&gt;\n                                &lt;VisualStateGroup x:Name=\"CommonStates\"&gt;\n                                    &lt;VisualState x:Name=\"Normal\" /&gt;\n                                    &lt;VisualState x:Name=\"MouseOver\" /&gt;\n                                    &lt;VisualState x:Name=\"Disabled\"&gt;\n                                        &lt;Storyboard&gt;\n                                            &lt;ColorAnimationUsingKeyFrames Storyboard.TargetName=\"PART_EditableTextBox\"\n                                                Storyboard.TargetProperty=\"(TextElement.Foreground).\n                      (SolidColorBrush.Color)\"&gt;\n                                                &lt;EasingColorKeyFrame KeyTime=\"0\"\n                                         Value=\"{StaticResource DisabledForegroundColor}\" /&gt;\n                                            &lt;/ColorAnimationUsingKeyFrames&gt;\n                                        &lt;/Storyboard&gt;\n                                    &lt;/VisualState&gt;\n                                &lt;/VisualStateGroup&gt;\n                                &lt;VisualStateGroup x:Name=\"EditStates\"&gt;\n                                    &lt;VisualState x:Name=\"Editable\"&gt;\n                                        &lt;Storyboard&gt;\n                                            &lt;ObjectAnimationUsingKeyFrames Storyboard.TargetProperty=\"(UIElement.Visibility)\"\n                                                 Storyboard.TargetName=\"PART_EditableTextBox\"&gt;\n                                                &lt;DiscreteObjectKeyFrame KeyTime=\"0\"\n                                            Value=\"{x:Static Visibility.Visible}\" /&gt;\n                                            &lt;/ObjectAnimationUsingKeyFrames&gt;\n                                            &lt;ObjectAnimationUsingKeyFrames\n                      Storyboard.TargetProperty=\"(UIElement.Visibility)\"\n                                                 Storyboard.TargetName=\"ContentSite\"&gt;\n                                                &lt;DiscreteObjectKeyFrame KeyTime=\"0\"\n                                            Value=\"{x:Static Visibility.Hidden}\" /&gt;\n                                            &lt;/ObjectAnimationUsingKeyFrames&gt;\n                                        &lt;/Storyboard&gt;\n                                    &lt;/VisualState&gt;\n                                    &lt;VisualState x:Name=\"Uneditable\" /&gt;\n                                &lt;/VisualStateGroup&gt;\n                            &lt;/VisualStateManager.VisualStateGroups&gt;\n                            &lt;ToggleButton x:Name=\"ToggleButton\"\n                        Template=\"{StaticResource ComboBoxToggleButton}\" PreviewKeyDown=\"Mycombo_PreviewKeyDown\"\n                        Grid.Column=\"2\"\n                        Focusable=\"false\"\n                        ClickMode=\"Press\"\n                        IsChecked=\"{Binding IsDropDownOpen, Mode=TwoWay, \n              RelativeSource={RelativeSource TemplatedParent}}\"/&gt;\n                            &lt;ContentPresenter x:Name=\"ContentSite\"\n                            IsHitTestVisible=\"False\"\n                            Content=\"{TemplateBinding SelectionBoxItem}\"\n                            ContentTemplate=\"{TemplateBinding SelectionBoxItemTemplate}\"\n                            ContentTemplateSelector=\"{TemplateBinding ItemTemplateSelector}\"\n                            Margin=\"3,3,23,3\"\n                            VerticalAlignment=\"Stretch\"\n                            HorizontalAlignment=\"Left\"&gt;\n                            &lt;/ContentPresenter&gt;\n                            &lt;!--&lt;StackPanel Orientation=\"Horizontal\" Width=\"250\" x:Name=\"PART_EditableTextBox\" &gt;\n\n                                &lt;TextBox  KeyboardNavigation.TabIndex=\"0\" x:Name=\"KMValueText\" Width=\"40\"  BorderBrush=\"Transparent\"  Text=\"{Binding Path=KMText,Mode=TwoWay ,RelativeSource={RelativeSource FindAncestor, \n                                    AncestorType=local:TrackNameControl, \n                                    AncestorLevel=1},UpdateSourceTrigger=PropertyChanged}\" VerticalAlignment=\"Center\" HorizontalAlignment=\"Left\" VerticalContentAlignment=\"Center\"\n                         TextAlignment=\"Right\" GotFocus=\"Text_OnGotFocus\" PreviewKeyDown=\"Mycombo_PreviewKeyDown\" TabIndex=\"0\"  &gt;\n\n                                &lt;/TextBox&gt;\n                                &lt;TextBlock  Width=\"auto\" Background=\"Transparent\" Text=\"km \" FontStyle=\"Italic\"  VerticalAlignment=\"Center\" HorizontalAlignment=\"Center\" &gt;\n                                    &lt;TextBlock.Style&gt;\n                                        &lt;Style TargetType=\"TextBlock\"&gt;\n                                            &lt;Style.Triggers&gt;\n                                                &lt;DataTrigger Binding=\"{Binding IsFocused ,ElementName=KMValueText}\" Value=\"False\"&gt;\n                                                    &lt;Setter Property=\"Foreground\" Value=\"Gray\"&gt;&lt;/Setter&gt;\n\n                                                &lt;/DataTrigger&gt;\n                                            &lt;/Style.Triggers&gt;\n                                        &lt;/Style&gt;\n                                    &lt;/TextBlock.Style&gt;\n                                &lt;/TextBlock&gt;\n\n                                &lt;TextBlock  Width=\"Auto\"  Text=\"@\" FontStyle=\"Italic\"   Background =\"Transparent\" VerticalAlignment=\"Center\" HorizontalAlignment=\"Center\" &gt;\n                                    &lt;TextBlock.Style&gt;\n                                        &lt;Style TargetType=\"TextBlock\"&gt;\n                                            &lt;Style.Triggers&gt;\n                                                &lt;DataTrigger Binding=\"{Binding IsFocused ,ElementName=TrackNameText}\" Value=\"False\"&gt;\n\n                                                    &lt;Setter Property=\"Foreground\" Value=\"Gray\"&gt;&lt;/Setter&gt;\n\n                                                &lt;/DataTrigger&gt;\n                                            &lt;/Style.Triggers&gt;\n                                        &lt;/Style&gt;\n                                    &lt;/TextBlock.Style&gt;\n                                &lt;/TextBlock&gt;\n\n                                &lt;Border x:Name=\"TrackBorder\"&gt;\n                                    &lt;TextBox x:Name=\"TrackNameText\" KeyboardNavigation.TabIndex=\"1\" Width=\"130\"  BorderBrush=\"Transparent\" Text=\"{Binding Path=TrackText,Mode=TwoWay,RelativeSource={RelativeSource FindAncestor, \n                                    AncestorType=local:TrackNameControl, \n                                    AncestorLevel=1}, UpdateSourceTrigger=PropertyChanged}\"  \n                         ToolTip=\"{Binding Path=TrackText}\"  VerticalAlignment=\"Center\"\n                        HorizontalAlignment=\"Right\" \n                        VerticalContentAlignment=\"Center\" TabIndex=\"1\"  IsEnabled=\"{Binding Path=IsStartKmMarker,RelativeSource={RelativeSource FindAncestor,AncestorType= local:TrackNameControl, AncestorLevel=1}}\" GotFocus=\"Text_OnGotFocus\" PreviewKeyDown=\"Mycombo_PreviewKeyDown\"&gt;\n\n                                    &lt;/TextBox&gt;\n                                &lt;/Border&gt;\n                            &lt;/StackPanel&gt;--&gt;\n                            &lt;TextBox x:Name=\"PART_EditableTextBox\"\n                   Style=\"{x:Null}\"\n                   Template=\"{StaticResource ComboBoxTextBox}\" \n                   HorizontalAlignment=\"Left\"\n                   VerticalAlignment=\"Bottom\"\n                   Margin=\"3,3,23,3\"\n                   Focusable=\"True\"\n                   Background=\"Transparent\"\n                   Visibility=\"Hidden\"\n                   IsReadOnly=\"{TemplateBinding IsReadOnly}\" IsTabStop=\"True\" /&gt;\n\n                            &lt;Popup x:Name=\"_popup\" KeyboardNavigation.TabIndex=\"3\"\n                 Placement=\"Bottom\"\n                 IsOpen=\"{TemplateBinding IsDropDownOpen}\"\n                 AllowsTransparency=\"True\"\n                 Focusable=\"False\"\n                 PopupAnimation=\"Slide\"&gt;\n                                &lt;Grid x:Name=\"DropDown\"\n                  SnapsToDevicePixels=\"True\"\n                  MinWidth=\"{TemplateBinding ActualWidth}\"\n                  MaxHeight=\"{TemplateBinding MaxDropDownHeight}\"&gt;\n                                    &lt;Border x:Name=\"DropDownBorder\"\n                      BorderThickness=\"1\"&gt;\n                                        &lt;Border.BorderBrush&gt;\n                                            &lt;SolidColorBrush Color=\"{DynamicResource BorderMediumColor}\" /&gt;\n                                        &lt;/Border.BorderBrush&gt;\n                                        &lt;Border.Background&gt;\n                                            &lt;SolidColorBrush Color=\"{DynamicResource ControlLightColor}\" /&gt;\n                                        &lt;/Border.Background&gt;\n                                    &lt;/Border&gt;\n                                    &lt;ScrollViewer Margin=\"4,6,4,6\"\n                            SnapsToDevicePixels=\"True\"&gt;\n                                        &lt;StackPanel IsItemsHost=\"True\"\n                            KeyboardNavigation.DirectionalNavigation=\"Contained\" /&gt;\n                                    &lt;/ScrollViewer&gt;\n                                &lt;/Grid&gt;\n                            &lt;/Popup&gt;\n                        &lt;/Grid&gt;\n                        &lt;ControlTemplate.Triggers&gt;\n                            &lt;Trigger Property=\"HasItems\"\n                   Value=\"false\"&gt;\n                                &lt;Setter TargetName=\"DropDownBorder\"\n                    Property=\"MinHeight\"\n                    Value=\"95\" /&gt;\n                            &lt;/Trigger&gt;\n                            &lt;Trigger Property=\"IsGrouping\"\n                   Value=\"true\"&gt;\n                                &lt;Setter Property=\"ScrollViewer.CanContentScroll\"\n                    Value=\"false\" /&gt;\n                            &lt;/Trigger&gt;\n                            &lt;Trigger SourceName=\"_popup\"\n                   Property=\"AllowsTransparency\"\n                   Value=\"False\"&gt;\n                                &lt;Setter TargetName=\"DropDownBorder\"\n                    Property=\"CornerRadius\"\n                    Value=\"4\" /&gt;\n                                &lt;Setter TargetName=\"DropDownBorder\"\n                    Property=\"Margin\"\n                    Value=\"0,2,0,0\" /&gt;\n                            &lt;/Trigger&gt;\n                        &lt;/ControlTemplate.Triggers&gt;\n                    &lt;/ControlTemplate&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n        &lt;/Style&gt;\n\n        &lt;Style x:Key=\"{x:Type ComboBoxItem}\"\n       TargetType=\"{x:Type ComboBoxItem}\"&gt;\n            &lt;Setter Property=\"SnapsToDevicePixels\"\n          Value=\"true\" /&gt;\n            &lt;Setter Property=\"OverridesDefaultStyle\"\n          Value=\"true\" /&gt;\n            &lt;Setter Property=\"Template\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;ControlTemplate TargetType=\"{x:Type ComboBoxItem}\"&gt;\n\n                        &lt;Border x:Name=\"Border\"\n                Padding=\"2\"\n                SnapsToDevicePixels=\"true\"\n                Background=\"Transparent\"&gt;\n                            &lt;VisualStateManager.VisualStateGroups&gt;\n                                &lt;VisualStateGroup x:Name=\"SelectionStates\"&gt;\n                                    &lt;VisualState x:Name=\"Unselected\" /&gt;\n                                    &lt;VisualState x:Name=\"Selected\"&gt;\n                                        &lt;Storyboard&gt;\n                                            &lt;ColorAnimationUsingKeyFrames Storyboard.TargetName=\"Border\"\n                                                Storyboard.TargetProperty=\"(Panel.Background).\n                    (SolidColorBrush.Color)\"&gt;\n                                                &lt;EasingColorKeyFrame KeyTime=\"0\"\n                                         Value=\"{StaticResource ControlPressedColor}\" /&gt;\n                                            &lt;/ColorAnimationUsingKeyFrames&gt;\n                                        &lt;/Storyboard&gt;\n                                    &lt;/VisualState&gt;\n                                    &lt;VisualState x:Name=\"SelectedUnfocused\"&gt;\n                                        &lt;Storyboard&gt;\n                                            &lt;ColorAnimationUsingKeyFrames Storyboard.TargetName=\"Border\"\n                                                Storyboard.TargetProperty=\"(Panel.Background).\n                    (SolidColorBrush.Color)\"&gt;\n                                                &lt;EasingColorKeyFrame KeyTime=\"0\"\n                                         Value=\"{StaticResource ControlPressedColor}\" /&gt;\n                                            &lt;/ColorAnimationUsingKeyFrames&gt;\n                                        &lt;/Storyboard&gt;\n                                    &lt;/VisualState&gt;\n                                &lt;/VisualStateGroup&gt;\n                            &lt;/VisualStateManager.VisualStateGroups&gt;\n                            &lt;TextBlock Text=\"{Binding Item3}\" /&gt;\n                        &lt;/Border&gt;\n                    &lt;/ControlTemplate&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n        &lt;/Style&gt;\n\n\n    &lt;/UserControl.Resources&gt;\n    &lt;Grid&gt;\n\n\n            &lt;ComboBox x:Name=\"TrackComboBoxEx\" IsEditable=\"True\"\n                  Width=\"230\"\n                  Height=\"25\"\n                  IsTextSearchEnabled=\"True\"\n                  ItemsSource=\"{Binding Path=ItemsSource,RelativeSource={RelativeSource FindAncestor,AncestorType=local:TrackNameControl,AncestorLevel=1}}\"  SelectedItem=\"{Binding Path=SelectedItem , RelativeSource={RelativeSource FindAncestor,AncestorType=local:TrackNameControl,AncestorLevel=1}}\" \n                      SelectionChanged=\"Mycombo_SelectionChanged\" PreviewKeyDown=\"Mycombo_PreviewKeyDown\"  PreviewMouseDown=\"TrackComboBoxEx_OnPreviewMouseDown\" &gt;\n\n            &lt;/ComboBox&gt;\n\n    &lt;/Grid&gt;\n&lt;/UserControl&gt;\n</code></pre>\n\n<p>`</p>\n"}, {"tags": ["c#", "iterator", "quadtree", "yield-return"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1577809521, "post_id": 59546373, "comment_id": 105261755, "body": "If this is working code, but you want comments on improving it, you should be using <a href=\"https://codereview.stackexchange.com/\">CodeReview.SE</a> instead of Stack Overflow."}, {"owner": {"reputation": 29, "user_id": 12205072, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NovBkff4mUY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdOiCa-i4oeNRFeFDpJv9H2AHhWvw/photo.jpg?sz=128", "display_name": "itay alperovich", "link": "https://stackoverflow.com/users/12205072/itay-alperovich"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1577817986, "post_id": 59546373, "comment_id": 105264171, "body": "@RonBeyer Thanks I wasn&#39;t aware this existed I will post it there"}], "owner": {"reputation": 29, "user_id": 12205072, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NovBkff4mUY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdOiCa-i4oeNRFeFDpJv9H2AHhWvw/photo.jpg?sz=128", "display_name": "itay alperovich", "link": "https://stackoverflow.com/users/12205072/itay-alperovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577809002, "creation_date": 1577809002, "question_id": 59546373, "link": "https://stackoverflow.com/questions/59546373/c-quadtree-yielding-properly", "title": "c# QuadTree yielding properly", "body": "<p>I have implemented a QuadTree of my own, and I'm afraid I didn't use yield properly when I query my tree,\nmy fear is that I create O(HN) iterators.</p>\n\n<p>Could you direct me how to better improve the performance of the following code?</p>\n\n<p>QuadTree</p>\n\n<pre><code>public IEnumerable&lt;T&gt; Query(string leafId, Circle shape)\n    {\n        // Gets the relevant parent by a leafId Query (this is O(lg H))\n        var startNode = GetParentIntersecting(leafId, shape);\n\n        return startNode.Query(shape);\n    }\n</code></pre>\n\n<p>QuadTreeNode</p>\n\n<pre><code> public IEnumerable&lt;T&gt; Query(IShape shape)\n    {\n        var results = new HashSet&lt;T&gt;();\n\n        foreach (var content in _contents)\n        {\n            if (shape.Contains(content.GetPosition()))\n            {\n                //Debug.Log(content.GetPosition());\n                yield return content;\n                //results.Add(content);\n            }\n        }\n\n        if (IsLeaf)\n            yield break;\n\n        foreach (var node in Nodes)\n        {\n            if (node.IsEmpty &amp;&amp; node.IsLeaf)\n                continue;\n\n            foreach (var result in node.Query(shape))\n            {\n                results.Add(result);\n            };\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "winforms", "trackbar"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577808813, "post_id": 59546271, "comment_id": 105261572, "body": "That controls doesn&#39;t support transparent colors. It&#39;s constructor doesn&#39;t add <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.controlstyles\" rel=\"nofollow noreferrer\">ControlStyles.SupportsTransparentBackColor</a> when <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.control.setstyle\" rel=\"nofollow noreferrer\">Control.SetStyle</a> is called (it also sets <code>SetStyle(ControlStyles.UserPaint, false</code>)). Not all controls support a transparent color. It depends on how they&#39;re rendered."}, {"owner": {"reputation": 11, "user_id": 12632934, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zT0Q_t9kDEs/AAAAAAAAAAI/AAAAAAAAAo4/XCYkxuqpex8/photo.jpg?sz=128", "display_name": "Dmitry Storozhev", "link": "https://stackoverflow.com/users/12632934/dmitry-storozhev"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577808964, "post_id": 59546271, "comment_id": 105261615, "body": "So, it cant be solved?"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577809201, "post_id": 59546271, "comment_id": 105261674, "body": "What <i>problem</i> do you need to solve? The background color of the TrackBar control is already set to the BackColor of its Parent. You can create a custom control derived from TrackBar and set the style. Not sure what you want to accomplish with this, though. Maybe, see the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.trackbarrenderer\" rel=\"nofollow noreferrer\">TrackBarRenderer</a> Class."}, {"owner": {"reputation": 11, "user_id": 12632934, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zT0Q_t9kDEs/AAAAAAAAAAI/AAAAAAAAAo4/XCYkxuqpex8/photo.jpg?sz=128", "display_name": "Dmitry Storozhev", "link": "https://stackoverflow.com/users/12632934/dmitry-storozhev"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577809873, "post_id": 59546271, "comment_id": 105261854, "body": "The background color of the trackBar is background color of the form, isnt it? But I need to use transporent color (to see the picture under trackBar)."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577811101, "post_id": 59546271, "comment_id": 105262223, "body": "You&#39;ld have a hard time taming that control. Maybe, revisit your design or look for an OpenSource control that implements the functionality/behavior/appearance you&#39;re looking for. You could also consider WPF. Its Slider is probably easier to handle. If you know WPF, of course."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1577813536, "post_id": 59546271, "comment_id": 105262943, "body": "Trackbar is an olden native Windows control, it uses 24bpp GDI under the hood to render itself.  It requires an opaque background.  Creating your own trackbar from Control is a somewhat useful exercise.  Google &quot;windows forms custom trackbar&quot; if you don&#39;t want to do it yourself."}], "owner": {"reputation": 11, "user_id": 12632934, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zT0Q_t9kDEs/AAAAAAAAAAI/AAAAAAAAAo4/XCYkxuqpex8/photo.jpg?sz=128", "display_name": "Dmitry Storozhev", "link": "https://stackoverflow.com/users/12632934/dmitry-storozhev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 331, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577812882, "creation_date": 1577808211, "last_edit_date": 1577812882, "question_id": 59546271, "link": "https://stackoverflow.com/questions/59546271/transparent-backcolor-for-trackbar", "title": "Transparent BackColor for TrackBar", "body": "<p>I added picturebox and label to the form and set picturebox like parent object of label. And then I can set transparent background colour on label.</p>\n\n<pre><code>label1.Parent = pictureBox1;\nlabel1.BackColor = Color.Transparent;\n</code></pre>\n\n<p>I can do it with <code>Label</code>, <code>CheckBox</code> but cannot do it with <strong><code>TrackBar</code></strong>. And I cannot understand - why and how to solve it.</p>\n"}, {"tags": ["c#", "asp.net-core", ".net-core"], "answers": [{"comments": [{"owner": {"reputation": 23854, "user_id": 70345, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/aV45a.jpg?s=128&g=1", "display_name": "Ian Kemp", "link": "https://stackoverflow.com/users/70345/ian-kemp"}, "edited": false, "score": 0, "creation_date": 1577965593, "post_id": 59561804, "comment_id": 105293242, "body": "OP is not calling <code>CreateDefaultBuilder</code> so this answer is completely irrelevant."}, {"owner": {"reputation": 13, "user_id": 7815854, "user_type": "registered", "profile_image": "https://graph.facebook.com/1253013264816989/picture?type=large", "display_name": "Flavio Emilio Borges", "link": "https://stackoverflow.com/users/7815854/flavio-emilio-borges"}, "edited": false, "score": 0, "creation_date": 1577968797, "post_id": 59561804, "comment_id": 105294643, "body": "Indeed it works if I change it in the &quot;appsettings.Development.json&quot; file, but that is not my point, because that means it still reads from the &quot;root&quot; file. The way I need it to work, I&#39;d need it to be read from the file that is the the sub-folder. For everything that I&#39;ve tried so far, it is looking like that is a bug in the Logging component, that is reading from the root directory, rather than using the Configuration that was done"}], "tags": [], "owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "is_accepted": false, "score": -1, "last_activity_date": 1577960983, "creation_date": 1577960983, "answer_id": 59561804, "question_id": 59546270, "link": "https://stackoverflow.com/questions/59546270/asp-net-core-logging-not-following-the-configurationbuilder-hierarchy/59561804#59561804", "title": "asp.net core Logging not following the ConfigurationBuilder hierarchy", "body": "<p>From the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.0#json-configuration-provider\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p><code>AddJsonFile</code> is automatically called twice when you initialize a new\n  host builder with <code>CreateDefaultBuilder</code>. The method is called to load configuration from:</p>\n  \n  <p>appsettings.json \u2013 This file is read first. The environment version of the file can override the values provided by the appsettings.json file. </p>\n  \n  <p>appsettings.{Environment}.json \u2013 The environment version of the file is loaded based on the IHostingEnvironment.EnvironmentName.</p>\n</blockquote>\n\n<p>There are two config files <code>appsettings.json</code> and <code>appsettings.Development.json</code> which overrides settings in the base <code>appsettings.json</code> file. And system use it in development mode. You could change the default Loglevel in <code>appsettings.Development.json</code> file .</p>\n\n<p><a href=\"https://i.stack.imgur.com/es7uv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/es7uv.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 7815854, "user_type": "registered", "profile_image": "https://graph.facebook.com/1253013264816989/picture?type=large", "display_name": "Flavio Emilio Borges", "link": "https://stackoverflow.com/users/7815854/flavio-emilio-borges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577971253, "creation_date": 1577808207, "last_edit_date": 1577971253, "question_id": 59546270, "link": "https://stackoverflow.com/questions/59546270/asp-net-core-logging-not-following-the-configurationbuilder-hierarchy", "title": "asp.net core Logging not following the ConfigurationBuilder hierarchy", "body": "<p>I'm trying to configure the log level of an asp.net core application. I have this ConfigurationBuilder set up in my Startup class.</p>\n\n<pre><code>         var builder = new ConfigurationBuilder()\n            .SetBasePath(env.ContentRootPath)\n            .AddJsonFile(\"appsettings.json\", optional: true, reloadOnChange: true)\n            .AddJsonFile(\"ConfigFiles/appsettings.configs.json\", optional: true, reloadOnChange: true)\n            .AddEnvironmentVariables();\n\n        Configuration = builder.Build();\n</code></pre>\n\n<p>And then in even though I configure the LogLevel in my \"ConfigFiles/appsettings.configs.json\" file, like this:</p>\n\n<pre><code>  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Information\"\n    }\n  }\n</code></pre>\n\n<p>It is simply being ignored. Instead, it is always reading directly from \"appsettings.json\" (the root file), no matter what. \nI've even tried to comment out the line of code that configures it, and surprisingly it still reads from there. I know that because I deliberately inserted a bug in the LogLevel configuration, and it throws an error.\nFor the other configuration it works correctly, reading from both files. Looks like \"Logging\" mechanism statically points to the root appsettings.json file.\nHow do I make it to read from the other file, instead of the root?</p>\n\n<p>Thank you</p>\n\n<p>EDIT:\nFramework Version: .net Core 3.0</p>\n"}, {"tags": ["c#", "asp.net-core", ".net-core", "razor-pages", "asp.net-core-mvc-2.0"], "comments": [{"owner": {"reputation": 22204, "user_id": 134725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9010d5f80331e9a23a86c93917b5ba?s=128&d=identicon&r=PG", "display_name": "Mike Brind", "link": "https://stackoverflow.com/users/134725/mike-brind"}, "edited": false, "score": 1, "creation_date": 1577950342, "post_id": 59546255, "comment_id": 105287472, "body": "You don&#39;t appear to have a form in your Razor Page. You also need name attributes on your form inputs. You should read some basics about forms in Razor Pages: <a href=\"https://www.learnrazorpages.com/razor-pages/forms\" rel=\"nofollow noreferrer\">learnrazorpages.com/razor-pages/forms</a>"}, {"owner": {"reputation": 22204, "user_id": 134725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9010d5f80331e9a23a86c93917b5ba?s=128&d=identicon&r=PG", "display_name": "Mike Brind", "link": "https://stackoverflow.com/users/134725/mike-brind"}, "reply_to_user": {"reputation": 3109, "user_id": 6086968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o38dO.png?s=128&g=1", "display_name": "Hameed Syed", "link": "https://stackoverflow.com/users/6086968/hameed-syed"}, "edited": false, "score": 0, "creation_date": 1577950390, "post_id": 59546255, "comment_id": 105287484, "body": "@HameedSyed This is not MVC. There are no controllers in Razor Pages: <a href=\"https://www.learnrazorpages.com/\" rel=\"nofollow noreferrer\">learnrazorpages.com</a>"}], "answers": [{"tags": [], "owner": {"reputation": 21271, "user_id": 6751634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kjSAI.jpg?s=128&g=1", "display_name": "Fei Han", "link": "https://stackoverflow.com/users/6751634/fei-han"}, "is_accepted": false, "score": 0, "last_activity_date": 1577958828, "creation_date": 1577958828, "answer_id": 59561331, "question_id": 59546255, "link": "https://stackoverflow.com/questions/59546255/razor-page-property-gets-empty-on-handler-call/59561331#59561331", "title": "Razor page property gets empty on handler call", "body": "<blockquote>\n  <p>My goal is to trigger the Save() method when the Save element is clicked. But currently it \"clears out\" the other data on the page</p>\n</blockquote>\n\n<p>As @MikeBrind mentioned, please put them in a form and specify <code>name</code> attribute for your  inputs, like below.</p>\n\n<pre><code>&lt;form method=\"post\"&gt;\n    @foreach (var sub in Model.Items)\n    {\n        &lt;div&gt;\n            &lt;input type=\"checkbox\" id=\"isSelected\" checked=\"@sub.Value\" name=\"@sub.Key\" /&gt;\n            &lt;label for=\"isSelected\"&gt;&lt;strong&gt;@sub.Key&lt;/strong&gt;&lt;/label&gt;\n        &lt;/div&gt;\n    }\n\n    &lt;button asp-page-handler=\"Save\"&gt;Save&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Then you can access selected items from <code>Request.Form</code> collection and use <code>RedirectToPage</code> method(s) to redirect to current page or a specified page, like below. </p>\n\n<pre><code>public IActionResult OnPostSave()\n{\n    var fb = Request.Form;\n\n    var selected_items = string.Join(\",\", fb.Keys.ToList().Take(fb.Keys.Count - 1));\n\n    //code logic to save selected items\n\n    Console.WriteLine(\"Save button clicked!!\");\n\n\n    return RedirectToPage();\n}\n</code></pre>\n"}], "owner": {"reputation": 1155, "user_id": 2246411, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/6JwiY.jpg?s=128&g=1", "display_name": "derekantrican", "link": "https://stackoverflow.com/users/2246411/derekantrican"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577958828, "creation_date": 1577808154, "last_edit_date": 1577950570, "question_id": 59546255, "link": "https://stackoverflow.com/questions/59546255/razor-page-property-gets-empty-on-handler-call", "title": "Razor page property gets empty on handler call", "body": "<p>I am using ASP.NET Core and have the following <code>MyPage.cshtml</code>:</p>\n\n<pre><code>@page\n@model MyServer.Pages.MyPageModel\n@{\n    ViewData[\"Title\"] = \"MyPage\";\n}\n\n&lt;h1&gt;MyPage&lt;/h1&gt;\n\n@foreach (var sub in Model.Items)\n{\n    &lt;div&gt;\n        &lt;input type=\"checkbox\" id=\"isSelected\" checked=\"@sub.Value\" /&gt;\n        &lt;label for=\"isSelected\"&gt;&lt;strong&gt;@sub.Key&lt;/strong&gt;&lt;/label&gt;\n    &lt;/div&gt;\n}\n\n&lt;a asp-page-handler=\"Save\"&gt;Save&lt;/a&gt;\n</code></pre>\n\n<p>And the following <code>MyPage.cshtml.cs</code>:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing Microsoft.AspNetCore.Mvc.RazorPages;\n\nnamespace MyServer.Pages\n{\n    public class MyPageModel : PageModel\n    {\n        public Dictionary&lt;string, bool&gt; Items = new Dictionary&lt;string, bool&gt;();\n        public void OnGet()\n        {\n            Items.Add(\"Item 1\", true);\n            Items.Add(\"Item 2\", false);\n            Items.Add(\"Item 3\", false);\n            Items.Add(\"Item 4\", false);\n            Items.Add(\"Item 5\", true);\n        }\n\n        public void OnGetSave()\n        {\n            Console.WriteLine(\"Save button clicked!!\");\n        }\n    }\n}\n</code></pre>\n\n<p>My goal is to trigger the <code>Save()</code> method when the Save element is clicked. But currently it \"clears out\" the other data on the page:</p>\n\n<p><img src=\"https://i.imgur.com/uJmwsUC.gif\" alt=\"\"></p>\n\n<p>How do I create a button element to trigger a <code>Save()</code> method to save the state of my data?</p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-webapi", "asp.net-core-3.0", "asp.net-core-3.1"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1577809245, "post_id": 59546230, "comment_id": 105261685, "body": "There are no existing functions that will return a file with all of its metadata the way you are requesting. You&#39;ll have to write something that returns the metadata, along with the file data itself, using JSON or some other format. Your client will need to be able to parse that metadata and data to construct a <code>FileInfo</code> themselves."}], "answers": [{"comments": [{"owner": {"reputation": 176, "user_id": 3370431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c439d7510b15637cc83068edce54310?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Mutta", "link": "https://stackoverflow.com/users/3370431/eric-mutta"}, "edited": false, "score": 0, "creation_date": 1610018049, "post_id": 59546321, "comment_id": 116002848, "body": "According to the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.physicalfileresult?view=aspnetcore-5.0\" rel=\"nofollow noreferrer\">docs</a> the <code>PhysicalFile</code> variants can be more efficient by <code>using mechanisms provided by the host.</code> which means <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/mswsock/nf-mswsock-transmitfile\" rel=\"nofollow noreferrer\">TransmitFile</a> on Windows and <a href=\"https://man7.org/linux/man-pages/man2/sendfile.2.html\" rel=\"nofollow noreferrer\">sendfile</a> on Linux."}], "tags": [], "owner": {"reputation": 44007, "user_id": 941240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SCC3P.jpg?s=128&g=1", "display_name": "Wiktor Zychla", "link": "https://stackoverflow.com/users/941240/wiktor-zychla"}, "is_accepted": true, "score": 7, "last_activity_date": 1577808633, "creation_date": 1577808633, "answer_id": 59546321, "question_id": 59546230, "link": "https://stackoverflow.com/questions/59546230/what-is-the-difference-between-file-physicalfile-physicalfileresult-in-a/59546321#59546321", "title": "What is the difference between File(), PhysicalFile(), PhysicalFileResult() in ASP.NET Core?", "body": "<p>.NET Core's <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.controllerbase.file?view=aspnetcore-3.1\" rel=\"noreferrer\"><code>File</code></a> handles only virtual paths (relative within your website). The <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.controllerbase.physicalfile?view=aspnetcore-3.1\" rel=\"noreferrer\"><code>PhysicalFile</code></a> handles physical (absolute) file paths.</p>\n\n<p><code>PhysicalFile</code> is just a facade that returns the <code>PhysicalFileResult</code>. But you can just return it manually with <code>new PhysicalFileResult</code>. </p>\n\n<p>I don't think there are other differences, the choice depends then mostly on how are you able to obtain the location of the file you want to return. If you have both a virtual and physical location, you can pick any of the two (<code>File</code> or <code>PhysicalFile</code>). </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12310517"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2543, "favorite_count": 0, "accepted_answer_id": 59546321, "answer_count": 1, "score": 6, "last_activity_date": 1577808633, "creation_date": 1577808022, "question_id": 59546230, "link": "https://stackoverflow.com/questions/59546230/what-is-the-difference-between-file-physicalfile-physicalfileresult-in-a", "title": "What is the difference between File(), PhysicalFile(), PhysicalFileResult() in ASP.NET Core?", "body": "<p>I am trying to build a Web API endpoint using ASP.NET core 3.1 what would allow an application to send me an id, and the response would be with the corresponding file.</p>\n\n<p>Here is my method</p>\n\n<pre><code>[HttpGet(\"get\")]\npublic IActionResult Get(Guid id)\n{\n    FoundFileInfo file = PathFinder.Get(id);\n\n    if(file == null || !System.IO.File.Exists(file.Fullname))\n    {\n        return NotFound();\n    }\n\n    return File(file.Fullname, \"image/jpeg\");\n}\n</code></pre>\n\n<p>using the same code, I can return <code>File(file.VirtualName, \"image/jpeg\")</code>, <code>new PhysicalFileResult(filename, \"image/jpeg\")</code>, or <code>PhysicalFile(filename, \"image/jpeg\")</code>. But what is the difference between them and what is the right use case for each?</p>\n\n<p>My end goal is to allow the consumer to construct an instance of <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.fileproviders.ifileinfo?view=dotnet-plat-ext-3.1\" rel=\"noreferrer\">IFileInfo</a> from the response of my endpoint. Somehow I would want to give the consumer enough info like <code>LastModified</code>, <code>Length</code>, <code>Name</code>, <code>PhysicalPath</code>. Which method is the right method to use for my case? </p>\n"}, {"tags": ["c#", "json", "asp.net-core", "iis", "asp.net-web-api"], "comments": [{"owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 0, "creation_date": 1577808115, "post_id": 59546058, "comment_id": 105261364, "body": "I guess we have had the same issue couple of years back. all I remember now is we had changed some WebDav IIS settings to include all methods i.e post, put ,delete etc on API server"}, {"owner": {"reputation": 53, "user_id": 4715907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9k04n.jpg?s=128&g=1", "display_name": "BlackMushroom", "link": "https://stackoverflow.com/users/4715907/blackmushroom"}, "reply_to_user": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 0, "creation_date": 1577952081, "post_id": 59546058, "comment_id": 105287964, "body": "I can try but I&#39;m not sure it&#39;ll change anything because JSON is valid when I call my API methods using Postman. I think the problem is more client side and has to do with HttpClient and HttpResponseMessage."}, {"owner": {"reputation": 53, "user_id": 4715907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9k04n.jpg?s=128&g=1", "display_name": "BlackMushroom", "link": "https://stackoverflow.com/users/4715907/blackmushroom"}, "reply_to_user": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 0, "creation_date": 1578384836, "post_id": 59546058, "comment_id": 105411327, "body": "@Prany Thanks for your comment, but in my case it appeared to be a request header problem : json was readable when I removed the &quot;Accept-Encoding: gzip, deflate&quot; header."}, {"owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 0, "creation_date": 1578388467, "post_id": 59546058, "comment_id": 105412922, "body": "no worries, I think you can comment as an answer below for the community :)"}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 4715907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9k04n.jpg?s=128&g=1", "display_name": "BlackMushroom", "link": "https://stackoverflow.com/users/4715907/blackmushroom"}, "is_accepted": false, "score": 0, "last_activity_date": 1578413088, "creation_date": 1578413088, "answer_id": 59631951, "question_id": 59546058, "link": "https://stackoverflow.com/questions/59546058/asp-net-core-api-response-wrong-json-encoding-using-iis/59631951#59631951", "title": "Asp.Net Core API response wrong json encoding using IIS", "body": "<p>After a few tests, I understood the problem appeared only when I added this header to my HttpClient instance : </p>\n\n<pre><code>Accept-Encoding: gzip, deflate\n</code></pre>\n\n<p>Removing this header solved the problem. Now I have to figure out how to use compression with IIS, I'm going back to Microsoft docs ;)</p>\n"}], "owner": {"reputation": 53, "user_id": 4715907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9k04n.jpg?s=128&g=1", "display_name": "BlackMushroom", "link": "https://stackoverflow.com/users/4715907/blackmushroom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 838, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1578413088, "creation_date": 1577807011, "last_edit_date": 1577807419, "question_id": 59546058, "link": "https://stackoverflow.com/questions/59546058/asp-net-core-api-response-wrong-json-encoding-using-iis", "title": "Asp.Net Core API response wrong json encoding using IIS", "body": "<p>I have an API in ASP Core 3.0 and an MVC client application in ASP Core 2.2. In the client application, I use HttpClient to call API methods and ReadAsStringAsync() to read responses and it works fine in debug.</p>\n\n<p>When I publish to IIS on a real server, JSON responses are not properly read using response.Content.ReadAsStringAsync(). A string is created but JSON is unreadable, probably wrongly encoded, so I'm not able to convert it to an object.</p>\n\n<p>I checked the response with Fiddler and everything looks fine, header Content-Type: application/json; charset=utf-8 is present and JSON looks good. I don't know what kind of IIS specific behaviour produces this. I tried on a local instance of IIS and didn't reproduce this issue.</p>\n\n<p>I've tried using Newtonsoft.Json to encode the API response content and also tried adding [Produces(\"application/json\")] to the API controller, the problem is still there.</p>\n\n<p>Here is an example of what an API method returns :</p>\n\n<pre><code>return Ok(new UserDto\n{\n    Login = user.Login,\n    IdAccountUser = user.IdAccountUser,\n    Prenom = user.Prenom,\n    Nom = user.Nom,\n    Token = tokenString\n});\n</code></pre>\n\n<p>And this how I read the response</p>\n\n<pre><code>HttpResponseMessage response = await _apiHttpClient.Post(\"users/authentication\", user);\n\nstring logDetail = string.Empty;\n\nif (response?.Content != null)\n{\n    if (response.IsSuccessStatusCode)\n    {\n        string json = null;\n        try\n        {\n            json = await response.Content.ReadAsStringAsync();\n            // Deserialization fails here because of invalid JSON\n            user = JsonConvert.DeserializeObject&lt;UserDto&gt;(json);\n            bool authenticationSuccessful = await AuthenticateUser(user);\n\n            if (authenticationSuccessful)\n                return string.IsNullOrEmpty(model.ReturnUrl) ? await Index() : Redirect($\"~{model.ReturnUrl}\");\n        }\n        catch (JsonReaderException ex)\n        {\n            _logger.LogError(ex, \"Erreur de lecture du JSON : {0}\", json);\n        }\n    }\n    else\n        logDetail = $\"Code HTTP r\u00e9ponse: {response.StatusCode}\";\n}\n</code></pre>\n\n<p>_apiHttpClient.Post() is a custom wrapper for HttpClient.PostAsync()</p>\n"}, {"tags": ["c#", "config", "configuration-files"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 2, "creation_date": 1577805376, "post_id": 59545756, "comment_id": 105260457, "body": "You will probably need to create a <code>WriteFileActionElement</code> and a <code>ExecuteCommandLineActionElement</code> that all derive from a base <code>ActionConfigurationElement</code>... Otherwise you could pick a different serialization format."}, {"owner": {"reputation": 670, "user_id": 2896152, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e43ee12eeb415ecb37a97b80c284f343?s=128&d=identicon&r=PG&f=1", "display_name": "user2896152", "link": "https://stackoverflow.com/users/2896152/user2896152"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1577805798, "post_id": 59545756, "comment_id": 105260583, "body": "Hi... Yes, I&#39;ve already done them and return the correct instance on the getter method. What I don&#39;t know is to manage the ConfigurationProperty attribute in this case :( Or I could inject the name of the COnfigurationProperty via reflection but seems a dirty solution to me"}, {"owner": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 1, "creation_date": 1577805939, "post_id": 59545756, "comment_id": 105260627, "body": "As stated above it may be more workable to have &lt;Actions&gt;&lt;WriteFile\u2026/&gt;&lt;ExecuteCommandLine\u2026/&gt;&lt;/Actions&gt;"}], "owner": {"reputation": 670, "user_id": 2896152, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e43ee12eeb415ecb37a97b80c284f343?s=128&d=identicon&r=PG&f=1", "display_name": "user2896152", "link": "https://stackoverflow.com/users/2896152/user2896152"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577806298, "creation_date": 1577804914, "last_edit_date": 1577806298, "question_id": 59545756, "link": "https://stackoverflow.com/questions/59545756/setting-the-name-of-a-configurationproperty-dynamically-in-c", "title": "Setting the name of a ConfigurationProperty dynamically in C#", "body": "<p>I'm developping a C# application. Everything is configurable using a <strong>.config</strong> file so I'm using the <code>System.Configuration</code> namespace to deserialize this file.</p>\n\n<p>I create <code>ConfigurationPropertyCollection</code> and <code>ConfigurationProperty</code> elements in base of the <code>circustances</code> and use the <code>ConfigurationProperty</code> attribute to decorate a property and inform the .NET that that property is an element into the configuration file.</p>\n\n<p>Ex..</p>\n\n<p><strong>C#</strong>    </p>\n\n<pre><code>[ConfigurationProperty(nameof(Times), IsRequired = true)]\npublic TimesConfigurationElement Times =&gt; (TimesConfigurationElement)(base[nameof(Times)]);\n</code></pre>\n\n<p>So far nothing relevant. But let's suppose we have this configuration fragment:</p>\n\n<p><strong>.config file fragment</strong></p>\n\n<pre><code>&lt;Actions&gt;\n   &lt;Action Type=\"WriteFile\"&gt;\n      &lt;WriteFile Append=\"Hello World\" InFile=\"C:\\File.txt\"/&gt;\n   &lt;/Action&gt;\n   &lt;Action Type=\"ExecuteCommandLine\"&gt;\n      &lt;ExecuteCommandLine Text=\"shutdown -r\"/&gt;\n   &lt;/Action&gt;\n&lt;/Actions&gt;\n</code></pre>\n\n<p>As you can see, there is a <code>ActionsConfigurationElementCollection</code> containing Actions. But each action can contain different type of sub-node in base of its Type attribute.\nSo, if I try to translate it into classes:</p>\n\n<p><strong>C#</strong></p>\n\n<pre><code>public class ActionsConfigurationElementCollection : ConfigurationElementCollection\n{\n     public ConfigurationElement NewElement() {return new ActionConfigurationElement(); }\n}\n\npublic class ActionConfigurationElement : ConfigurationElement\n{\n    [ConfigurationProperty(nameof(Type))]\n    public string Type =&gt; (string)base[nameof(Type)];\n\n    [ConfigurationProperty(Type)] -- I get an error here\n    public IConfigurableAction Action\n    {\n        get\n        {\n            if (Type == \"WriteFileAction\") return (WriteFileAction)base[\"WriteFile\"];\n            else if ... and so on;\n        }\n    }\n}\n</code></pre>\n\n<p>I get an error on the line <code>[ConfigurationProperty(Type)]</code> because naturally the <code>ConfigurationProperty</code> constructor cannot see the Type property and need a reference to access to this non-static property.</p>\n\n<p>So how can I manage this? Have a configuration element that depends on the previous configuration? Thanks you in advance.</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "webforms"], "comments": [{"owner": {"reputation": 2650, "user_id": 9549856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EpCt0.jpg?s=128&g=1", "display_name": "Reza Jenabi", "link": "https://stackoverflow.com/users/9549856/reza-jenabi"}, "edited": false, "score": 0, "creation_date": 1577804987, "post_id": 59545721, "comment_id": 105260321, "body": "Do you really want to use ASP.NET? You can do very easily with JS"}, {"owner": {"reputation": 87, "user_id": 12161174, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3pG8H9TxAXY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdEuZFUSDz8ffkTR5-iUl7f7igfqA/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/12161174/peter"}, "reply_to_user": {"reputation": 2650, "user_id": 9549856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EpCt0.jpg?s=128&g=1", "display_name": "Reza Jenabi", "link": "https://stackoverflow.com/users/9549856/reza-jenabi"}, "edited": false, "score": 0, "creation_date": 1577805282, "post_id": 59545721, "comment_id": 105260416, "body": "@RezaJenabi How can I do with JS? Thank you"}, {"owner": {"reputation": 34313, "user_id": 121309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a620f1f95441b8bde0e6c2c5140581d?s=128&d=identicon&r=PG", "display_name": "Hans Ke\ufb06ing", "link": "https://stackoverflow.com/users/121309/hans-ke%ef%ac%86ing"}, "edited": false, "score": 0, "creation_date": 1577805871, "post_id": 59545721, "comment_id": 105260609, "body": "You cannot do this from code-behind: once the HTML is sent to the browser, the server cannot access it anymore. You <i>need</i> (client-side) javascript for this."}], "answers": [{"tags": [], "owner": {"reputation": 2650, "user_id": 9549856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EpCt0.jpg?s=128&g=1", "display_name": "Reza Jenabi", "link": "https://stackoverflow.com/users/9549856/reza-jenabi"}, "is_accepted": true, "score": 6, "last_activity_date": 1577805283, "creation_date": 1577805283, "answer_id": 59545804, "question_id": 59545721, "link": "https://stackoverflow.com/questions/59545721/how-to-display-a-button-after-5-minutes-in-asp-net-aspx/59545804#59545804", "title": "How to display a button after 5 minutes in ASP.net (.aspx)?", "body": "<p>I think the following code can help you:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n    function show()\n    {\n        document.getElementById(\"Button1\").style.visibility = \"visible\";\n    }\n\n    function hide()\n    {\n        document.getElementById(\"Button1\").style.visibility = \"hidden\";\n    }\n\n    window.onload = function()\n    {\n        hide();\n        setTimeout('show()', 30000);\n    }\n\n&lt;/script&gt;\n</code></pre>\n\n<p>the code at the bottom of the page to run after the page is created</p>\n"}], "owner": {"reputation": 87, "user_id": 12161174, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3pG8H9TxAXY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdEuZFUSDz8ffkTR5-iUl7f7igfqA/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/12161174/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 59545804, "answer_count": 1, "score": 2, "last_activity_date": 1577808824, "creation_date": 1577804751, "last_edit_date": 1577808824, "question_id": 59545721, "link": "https://stackoverflow.com/questions/59545721/how-to-display-a-button-after-5-minutes-in-asp-net-aspx", "title": "How to display a button after 5 minutes in ASP.net (.aspx)?", "body": "<p>I am fairly new to the ASP.NET so is there a way to make a button visible after a certain time?</p>\n\n<pre><code>&lt;asp:Button   ID=\"Button1\" runat=\"server\" Text=\"Click here\"  OnClick=\"btn_Click\" Visible=\"False\" /&gt; \n</code></pre>\n\n<p>Code-behind: </p>\n\n<pre><code>protected void btn_Click(object sender, EventArgs e)\n        {\n            Response.Redirect(\"~/site....\" );\n        }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core"], "answers": [{"tags": [], "owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "is_accepted": true, "score": 3, "last_activity_date": 1577863413, "last_edit_date": 1577863413, "creation_date": 1577861937, "answer_id": 59550580, "question_id": 59545712, "link": "https://stackoverflow.com/questions/59545712/manually-match-an-url-against-the-registered-endpoints-in-net-core-3-0/59550580#59550580", "title": "Manually match an url against the registered endpoints in .NET Core 3.0", "body": "<p>In ASP.NET Core 2.1 and below, routing was handled by implementing the <code>IRouter</code> interface to map incoming URLs to handlers. Rather than implementing the interface directly, you would typically rely on the <code>MvcMiddleware</code> implementation added to the end of your middleware pipeline.</p>\n\n<p>In ASP.NET Core 3.0, we use endpoint routing, so the routing step is separate from the invocation of the endpoint. In practical terms that means we have two pieces of middleware:</p>\n\n<ul>\n<li><p><code>EndpointRoutingMiddleware</code> that does the actual routing i.e.\ncalculating which endpoint will be invoked for a given request URL\npath.</p></li>\n<li><p><code>EndpointMiddleware</code> that invokes the endpoint.</p></li>\n</ul>\n\n<p>So you could try the following method to match an url against all the registered routes to see there is a match in asp.net core 3.0.</p>\n\n<pre><code>    public class TestController : Controller\n  {\n    private readonly EndpointDataSource _endpointDataSource;\n\n    public TestController ( EndpointDataSource endpointDataSource)\n    {\n        _endpointDataSource = endpointDataSource;\n    }\n\n    public IActionResult Index()\n    {\n        string url = \"https://localhost/User/Account/Logout\";\n\n        // Return a collection of Microsoft.AspNetCore.Http.Endpoint instances.\n        var routeEndpoints = _endpointDataSource?.Endpoints.Cast&lt;RouteEndpoint&gt;();\n        var routeValues = new RouteValueDictionary();\n        string LocalPath = new Uri(url).LocalPath;\n\n        //To get the matchedEndpoint of the provide url\n        var matchedEndpoint = routeEndpoints.Where(e =&gt; new TemplateMatcher(\n                                                                    TemplateParser.Parse(e.RoutePattern.RawText),\n                                                                    new RouteValueDictionary())\n                                                            .TryMatch(LocalPath, routeValues))\n                                            .OrderBy(c =&gt; c.Order)\n                                            .FirstOrDefault();\n        if (matchedEndpoint != null)\n        {\n            string area = routeValues[\"area\"]?.ToString();\n            string controller = routeValues[\"controller\"]?.ToString();\n            string action = routeValues[\"action\"]?.ToString();\n        }\n        return View();\n    }\n   }\n</code></pre>\n\n<p>You could refer to <a href=\"https://andrewlock.net/converting-a-terminal-middleware-to-endpoint-routing-in-aspnetcore-3/\" rel=\"nofollow noreferrer\">this blog</a> for more details on the endpoint routing in ASP.NET Core 3.0.</p>\n"}], "owner": {"reputation": 672, "user_id": 1855953, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/55f3e963420357eb7ff1bd1f3a11c1dc?s=128&d=identicon&r=PG", "display_name": "Richard Mosselveld", "link": "https://stackoverflow.com/users/1855953/richard-mosselveld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1084, "favorite_count": 1, "accepted_answer_id": 59550580, "answer_count": 1, "score": 4, "last_activity_date": 1577863413, "creation_date": 1577804697, "question_id": 59545712, "link": "https://stackoverflow.com/questions/59545712/manually-match-an-url-against-the-registered-endpoints-in-net-core-3-0", "title": "Manually match an url against the registered endpoints in .NET Core 3.0", "body": "<p>For my application I would like to match an url against all the registered routes to see there is a match.</p>\n\n<p>When there is a match, I would like to extract the routevalues from the match.</p>\n\n<p>I got this working in ASP.NET Core 2.1, but i do not seem to be able to retrieve the routes the way they are retrieved in .NET Core 3</p>\n\n<p>Working ASP.NET Core 2.1 sample:</p>\n\n<pre><code>string url = \"https://localhost/Area/Controller/Action\";\n\n// Try to match against the default route (but can be any other route)\nRoute defaultRoute = this._httpContextAccessor.HttpContext.GetRouteData().Routers.OfType&lt;Route&gt;().FirstOrDefault(p =&gt; p.Name == \"Default\");\n\nRouteTemplate defaultTemplate = defaultRoute.ParsedTemplate;\nvar defaultMatcher = new TemplateMatcher(defaultTemplate, defaultRoute.Defaults);\nvar defaultRouteValues = new RouteValueDictionary();\nstring defaultLocalPath = new Uri(url).LocalPath;\n\nif (!defaultMatcher.TryMatch(defaultLocalPath, defaultRouteValues))\n{\n    return null;\n}\n\nstring area = defaultRouteValues[\"area\"]?.ToString();\nstring controller = defaultRouteValues[\"controller\"]?.ToString(); \nstring actiondefaultRouteValues[\"action\"]?.ToString();\n</code></pre>\n\n<p>Is there a way to obtain all registered endpoints (templates) and match against these templates?</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6"], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 1525938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f13d09639386b8c960b9ad9ae1791b3?s=128&d=identicon&r=PG", "display_name": "Michael Sawczyn", "link": "https://stackoverflow.com/users/1525938/michael-sawczyn"}, "is_accepted": true, "score": 1, "last_activity_date": 1577809156, "creation_date": 1577809156, "answer_id": 59546403, "question_id": 59545630, "link": "https://stackoverflow.com/questions/59545630/ef6-how-to-determine-principal-dependent-sides-from-a-navigationproperty/59546403#59546403", "title": "EF6 - How to determine principal/dependent sides from a NavigationProperty", "body": "<p>Well, that was the shortest run of any question I've posted to date :-) </p>\n\n<p>After a flash of insight and some digging with dotPeek, I believe I have the answers I was looking for.</p>\n\n<p>Starting with a <code>NavigationProperty</code> object:</p>\n\n<pre><code>   AssociationType associationType = (AssociationType) navigationProperty.RelationshipType;\n   ReferentialConstraint constraint = associationType.Constraint;\n   AssociationEndMember principalEnd = (AssociationEndMember) constraint.FromRole;\n   AssociationEndMember dependentEnd = (AssociationEndMember) constraint.ToRole;\n   EntityType principalType = principalEnd.GetEntityType();\n   EntityType dependentType = dependentEnd.GetEntityType();\n</code></pre>\n\n<p>Note that this can, of course, be tightened up, but I figured I'd post it spread apart for educational purposes.</p>\n"}], "owner": {"reputation": 91, "user_id": 1525938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f13d09639386b8c960b9ad9ae1791b3?s=128&d=identicon&r=PG", "display_name": "Michael Sawczyn", "link": "https://stackoverflow.com/users/1525938/michael-sawczyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 59546403, "answer_count": 1, "score": 0, "last_activity_date": 1577960676, "creation_date": 1577804285, "last_edit_date": 1577960676, "question_id": 59545630, "link": "https://stackoverflow.com/questions/59545630/ef6-how-to-determine-principal-dependent-sides-from-a-navigationproperty", "title": "EF6 - How to determine principal/dependent sides from a NavigationProperty", "body": "<p>I'm putting together a process that consumes a compiled assembly, looks for a <code>DbContext</code>, and writes code-first files for the <code>context</code> and the various entity classes. It's part of a <a href=\"https://github.com/msawczyn/EFDesigner\" rel=\"nofollow noreferrer\">larger project</a>.</p>\n\n<p>Things are going fine, but I'm running into a wall trying to discover, for associations, which end is the principal and which the dependent. This is only an issue in 0-1..0-1 and 1..1 cardinalities, since the others can be determined based on the multiplicity of each end.</p>\n\n<p>In these two cases, though, it's clear that EF6 knows which is which since they must be declared in the source. For example:</p>\n\n<pre><code>public class FooMap : EntityTypeConfiguration&lt;Foo&gt;\n{\n   public FooMap()\n   {\n      HasKey(t =&gt; t.Id);\n      ToTable(\"Foos\");\n      HasRequired(t =&gt; t.BarObj).WithRequiredPrincipal(t =&gt; t.FooObj);\n   }\n}\n</code></pre>\n\n<p>I'm starting with either a CSpace or OSpace <code>EntityType</code> (in that order, depending on which one's not null) and getting its <code>DeclaredNavigationProperties</code> property to cycle through the associations.</p>\n\n<p>What do I look for to find the principal/dependent designations? Can't use <code>GetDependentProperties()</code> to see if it returns empty because it will return empty both if the <code>DeclaringType</code> is the principal and also if there aren't any user-defined foreign key properties (i.e., all shadow properties for FKs).</p>\n\n<p>Thanks for any insight.</p>\n"}, {"tags": ["c#", ".net", "webapi"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 2, "creation_date": 1577804586, "post_id": 59545593, "comment_id": 105260198, "body": "Have you tried using <code>this.Request.InputStream</code> instead or accepting it as an action method parameter?"}, {"owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1577805484, "post_id": 59545593, "comment_id": 105260487, "body": "@Dai : My controll inherits from <code>ApiController</code> so I don&#39;t have <code>Request.InputStream</code>, instead I have <code>HttpContext.Current.Request.InputStream</code>. But if I try to use it, it throws an error : <code>HttpContext.Current.Request.InputStream = &#39;HttpContext.Current.Request.InputStream&#39; threw an exception of type &#39;System.Web.HttpException&#39;</code>"}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1577805865, "post_id": 59545593, "comment_id": 105260607, "body": "<code>ApiController</code> is <code>System.Web.Http</code> (Web API) which is a separate stack from ASP.NET MVC (which is <code>System.Web.Mvc</code>) - I think that&#39;s part of your problem (don&#39;t mix MVC and Web API when you&#39;re not using ASP.NET Core)."}, {"owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1577806211, "post_id": 59545593, "comment_id": 105260725, "body": "@Dai : My web application is ASP.NET MVC and I have to request an existing webservice which is WebAPI. I don&#39;t really have a choice here :-/"}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1577806435, "post_id": 59545593, "comment_id": 105260793, "body": "Making requests to an another webservice that uses ASP.NET Web API does not require you to use Web API at all - or even C#/.NET."}, {"owner": {"reputation": 1816, "user_id": 9684373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c00dae403a944000836295b99f1151?s=128&d=identicon&r=PG&f=1", "display_name": "Prany", "link": "https://stackoverflow.com/users/9684373/prany"}, "edited": false, "score": 0, "creation_date": 1577808470, "post_id": 59545593, "comment_id": 105261471, "body": "you need to add stream as body not headers in MVC"}], "answers": [{"tags": [], "owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "is_accepted": true, "score": 0, "last_activity_date": 1577809318, "creation_date": 1577809318, "answer_id": 59546428, "question_id": 59545593, "link": "https://stackoverflow.com/questions/59545593/stream-parameter-is-always-null/59546428#59546428", "title": "Stream parameter is always null", "body": "<p>Thanks to your comments, I've been able to find a solution.<br>\nIn case anyone struggles with the same problem here is my solution :  </p>\n\n<h3>Client (ASP.NET MVC) :</h3>\n\n<pre><code>using(var client = new HttpClient())\n{\n    Token token = GetToken();\n    client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(token.TokenType, token.AccessToken);\n    var content = new StreamContent(stream);\n    content.Headers.ContentType = new MediaTypeHeaderValue(\"application/json\");\n    var res = client.PostAsync(GetSdcUri(), content).Result;\n}\n</code></pre>\n\n<h3>SERVEUR (WebApi) :</h3>\n\n<pre><code>public System.Web.Mvc.ActionResult GenerateSDCFromTBox()\n{\n    Stream stream = Request.Content.ReadAsStreamAsync().Result;\n    // return do what ever with stream\n}\n</code></pre>\n"}], "owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 59546428, "answer_count": 1, "score": 1, "last_activity_date": 1577809318, "creation_date": 1577804034, "last_edit_date": 1577804278, "question_id": 59545593, "link": "https://stackoverflow.com/questions/59545593/stream-parameter-is-always-null", "title": "Stream parameter is always null", "body": "<p>I am sending post request from my client (ASP.NET MVC) to a webapi service, however, the webapi service controller needs a <code>Stream</code> parameter which is always <code>null</code>.</p>\n\n<h3>Request from ASP.NET MVC app:</h3>\n\n<pre><code>using(var client = new HttpClient())\n{\n    Token token = GetToken();\n    client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(token.TokenType, token.AccessToken);\n    var content = new StreamContent(stream);\n    content.Headers.ContentType = new MediaTypeHeaderValue(\"application/json\");\n    content.Headers.ContentDisposition = new ContentDispositionHeaderValue(\"form-data\") { Name = \"keliaStream\" };\n    var res = client.PostAsync(GetSdcUri(), content).Result;\n}\n</code></pre>\n\n<h3>WebApi Controller:</h3>\n\n<pre><code>// POST: api/Publication\n[HttpPost]\n[Route(\"whatever-route\")]\n[RequireHttps]\npublic System.Web.Mvc.ActionResult GenerateSDCFromTBox([FromBody]Stream keliaStream)\n{\n    // whatever\n}\n</code></pre>\n\n<p><code>keliaStream</code> is always null, what am I missing?</p>\n"}, {"tags": ["c#", "asp.net-core", "canvas", "timer", "blazor"], "comments": [{"owner": {"reputation": 25716, "user_id": 6152891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b45b7f89429f8766cdbf6c776c0a9d41?s=128&d=identicon&r=PG", "display_name": "enet", "link": "https://stackoverflow.com/users/6152891/enet"}, "edited": false, "score": 1, "creation_date": 1577804712, "post_id": 59545587, "comment_id": 105260239, "body": "It may be related to the fact that you do not execute your code within an if block like that: if( firstRender) {your code should be here, and it would execute only once } otherwise, your code would execute whenever the OnAfterRenderAsync is executed"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12632603, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDkrv9Y8B7T51qr-mg1dmqyrcgfPCs3q7OaIsSLTA=k-s128", "display_name": "Marius Jurjonas", "link": "https://stackoverflow.com/users/12632603/marius-jurjonas"}, "edited": false, "score": 0, "creation_date": 1577890007, "post_id": 59551501, "comment_id": 105275390, "body": "super :). and i am wondering why there are those lines inside the circle?"}, {"owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "reply_to_user": {"reputation": 11, "user_id": 12632603, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDkrv9Y8B7T51qr-mg1dmqyrcgfPCs3q7OaIsSLTA=k-s128", "display_name": "Marius Jurjonas", "link": "https://stackoverflow.com/users/12632603/marius-jurjonas"}, "edited": false, "score": 0, "creation_date": 1577932014, "post_id": 59551501, "comment_id": 105283764, "body": "@MariusJurjonas I&#39;ve edited my answer to show you the reason and how to avoid that lines. Please check it :)"}], "tags": [], "owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "is_accepted": false, "score": 1, "last_activity_date": 1577931946, "last_edit_date": 1577931946, "creation_date": 1577872750, "answer_id": 59551501, "question_id": 59545587, "link": "https://stackoverflow.com/questions/59545587/gc-minor-issue-on-blazor-html5-canvas-and-c-timer/59551501#59551501", "title": "GC_minor issue on Blazor html5 canvas and c# timer", "body": "<p>I could reproduce the same issue:</p>\n\n<ol>\n<li>The above comment by @<a href=\"https://stackoverflow.com/users/6152891/enet\">enet</a> is right. You should at least check whether the <code>firstRender</code> is true and avoid attaching the <code>draw()</code> function to a new timer each time.</li>\n<li>Apart from that, you should create a <code>Timer</code> as a separated field. And don't forget to <strong>DISPOSE</strong> the <code>Timer</code> when the component is disposed.</li>\n<li>Finally, there's another issue within your code: You didn't invoke the <code>_context.EndBatchAsync()</code>. As a result, it will <strong>NOT</strong> draw anything.</li>\n</ol>\n\n<p>To fix the above issues, change your code as below:</p>\n\n<pre>\n...\n<b>@implements IDisposable </b>   @* A Timer is a resource that should be disposed *@\n\n...\n\n\n@code{\n\n    private Canvas2DContext _context;\n\n    protected BECanvasComponent _canvasReference;\n\n    <b>private Timer _aTimer = new Timer(500);</b>\n\n    <b>public void Dispose()</b>\n    <b>{</b>\n    <b>    this._aTimer.Dispose();</b>\n    <b>}</b>\n\n\n    protected override async Task OnAfterRenderAsync(bool firstRender)\n    {\n        this._context = await this._canvasReference.CreateCanvas2DAsync();\n\n        var centerX = _canvasReference.Width / 2;\n        var centerY = _canvasReference.Height / 2;\n        var radius = 80;\n        var full = radius * 2;\n        var amount = 0.0;\n        var amountToIncrease = 0.1;\n        <b>if(firstRender)</b>\n        <b>{</b>\n            // you might decide to put the above `var amount = 0.0; ...` here too, it depends on your needs\n            <b>this._aTimer.Elapsed += draw;</b>\n            <b>this._aTimer.AutoReset = true;</b>\n            <b>this._aTimer.Enabled = true;</b>\n        <b>}</b>\n        async void draw(Object source, ElapsedEventArgs e)\n        {\n            await this._context.BeginBatchAsync();\n            await this._context.ArcAsync(centerX, centerY, radius, 0, amount * Math.PI, false);\n            await this._context.SetFillStyleAsync(\"#13a8a4\");\n            await this._context.FillAsync();\n            await this._context.SetLineWidthAsync(10);\n            await this._context.SetStrokeStyleAsync(\"#000000\");\n            await this._context.StrokeAsync();\n\n            <b>await this._context.EndBatchAsync();</b>  // add this line !\n            amount += amountToIncrease;\n            if (amount > full) amount = 0; // restart\n\n            await InvokeAsync(() => { StateHasChanged(); });          \n        }\n\n    }\n}\n</pre>\n\n<h3>Demo</h3>\n\n<p><a href=\"https://i.stack.imgur.com/fFtzz.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fFtzz.gif\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong>[Edit]</strong></p>\n\n<blockquote>\n  <p>i am wondering why there are those lines inside the circle?</p>\n</blockquote>\n\n<p>Those lines are the part of closed path last time. Actually, there's a <code>beginPath</code> api that starts a new path by emptying the list of sub-paths.( See <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/beginPath\" rel=\"nofollow noreferrer\">docs on MDN</a>). In other words, if you don't need them, invoke <code>_context.BeginPathAsync();</code> :</p>\n\n<pre>\nawait this._context.BeginBatchAsync();\n<b>await this._context.BeginPathAsync(); // add this line</b>\nawait this._context.ArcAsync(centerX, centerY, radius, 0, amount * Math.PI, false);\n...\n</pre>\n\n<p><strong>[Demo2] :</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/CyEg6.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CyEg6.gif\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>By the way, you don't have to notify the state has changed here (because you didn't change the component state):</p>\n\n<pre><code>//await InvokeAsync(() =&gt; { StateHasChanged(); });     \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12632603, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDkrv9Y8B7T51qr-mg1dmqyrcgfPCs3q7OaIsSLTA=k-s128", "display_name": "Marius Jurjonas", "link": "https://stackoverflow.com/users/12632603/marius-jurjonas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1577931946, "creation_date": 1577804011, "last_edit_date": 1577871176, "question_id": 59545587, "link": "https://stackoverflow.com/questions/59545587/gc-minor-issue-on-blazor-html5-canvas-and-c-timer", "title": "GC_minor issue on Blazor html5 canvas and c# timer", "body": "<pre><code>private Canvas2DContext _context;\n\nprotected BECanvasComponent _canvasReference;\n\nprotected override async Task OnAfterRenderAsync(bool firstRender)\n{\n    this._context = await this._canvasReference.CreateCanvas2DAsync();\n\n    var centerX = _canvasReference.Width / 2;\n    var centerY = _canvasReference.Height / 2;\n    var radius = 80;\n    var full = radius * 2;\n    var amount = 0.0;\n    var amountToIncrease = 0.1;\n\n    var aTimer = new Timer(500);\n\n    async void draw(Object source, ElapsedEventArgs e)\n    {\n        await this._context.BeginBatchAsync();\n        await this._context.ArcAsync(centerX, centerY, radius, 0, amount * Math.PI, false);\n        await this._context.SetFillStyleAsync(\"#13a8a4\");\n        await this._context.FillAsync();\n        await this._context.SetLineWidthAsync(10);\n        await this._context.SetStrokeStyleAsync(\"#000000\");\n        await this._context.StrokeAsync();\n        amount += amountToIncrease;\n        if (amount &gt; full) amount = 0; // restart\n\n        await InvokeAsync(() =&gt;\n        {\n            StateHasChanged();\n        });          \n    }\n\n    aTimer.Elapsed += draw;\n    aTimer.AutoReset = true;\n    aTimer.Enabled = true;\n}\n</code></pre>\n\n<p>I want to implement circle animation on htm5 canvas. I use html5 canvas extension for blazor. what am I doing wrong? On blazor server that works, on web assembly, I got GC_minor in developer tools</p>\n"}, {"tags": ["c#", "azure", "azure-language-understanding", "qnamaker"], "comments": [{"owner": {"reputation": 6530, "user_id": 9663070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0iRQt.png?s=128&g=1", "display_name": "Md Farid Uddin Kiron", "link": "https://stackoverflow.com/users/9663070/md-farid-uddin-kiron"}, "edited": false, "score": 0, "creation_date": 1577805634, "post_id": 59545559, "comment_id": 105260527, "body": "You can directly do it on QNA maker. Once you created your KB then from your source like <code>https:&#47;&#47;YourSource.azurewebsites.net&#47;qnamaker&#47;knowledgebases&zwnj;&#8203;&#47;YourSubscription&#47;ge&zwnj;&#8203;nerateAnswer</code>. Let me know if you need some more details. You can also filter your user intent from LUIS."}, {"owner": {"reputation": 93, "user_id": 11919370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4673ae083566764cd453c74b57b13025?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano", "link": "https://stackoverflow.com/users/11919370/stefano"}, "reply_to_user": {"reputation": 6530, "user_id": 9663070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0iRQt.png?s=128&g=1", "display_name": "Md Farid Uddin Kiron", "link": "https://stackoverflow.com/users/9663070/md-farid-uddin-kiron"}, "edited": false, "score": 0, "creation_date": 1577806404, "post_id": 59545559, "comment_id": 105260779, "body": "Thanks @MdFaridUddinKiron for the quick response, I&#39;m not aware where I need to place that URL, but I will play around some more and let you know."}, {"owner": {"reputation": 6530, "user_id": 9663070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0iRQt.png?s=128&g=1", "display_name": "Md Farid Uddin Kiron", "link": "https://stackoverflow.com/users/9663070/md-farid-uddin-kiron"}, "edited": false, "score": 0, "creation_date": 1577953853, "post_id": 59545559, "comment_id": 105288527, "body": "I have shown you how would you implement QNA maker in details. Let me know if you feel any challenge to implement it. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 6530, "user_id": 9663070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0iRQt.png?s=128&g=1", "display_name": "Md Farid Uddin Kiron", "link": "https://stackoverflow.com/users/9663070/md-farid-uddin-kiron"}, "is_accepted": true, "score": 0, "last_activity_date": 1578041006, "last_edit_date": 1578041006, "creation_date": 1577807003, "answer_id": 59546056, "question_id": 59545559, "link": "https://stackoverflow.com/questions/59545559/how-to-create-response-based-on-luis-question-azure/59546056#59546056", "title": "How to create response based on LUIS question? (Azure)", "body": "<p>To Invoke QNA maker you could have a look on following code:</p>\n\n<p><em><code>Invoke QNA Maker API:</code></em> </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>//Take User Input And Validate param\n\n            if (string.IsNullOrEmpty(objQnAMakerQuestion.question))\n            {\n                validationMessage = new OkObjectResult(\"Question is required!\");\n                return (IActionResult)validationMessage;\n            }\n\n            // Call QnA API             \n            var jsonContent = JsonConvert.SerializeObject(objQnAMakerQuestion);\n            var endpointKey = \"YourSubscriptionKey\";\n            var qnaMakerURI = \"https://YourSource.azurewebsites.net/qnamaker/knowledgebases/YourSubscription/generateAnswer\";\n            using (var client = new HttpClient())\n            using (var request = new HttpRequestMessage())\n            {\n                request.Method = HttpMethod.Post;\n                request.RequestUri = new Uri(qnaMakerURI);\n                request.Content = new StringContent(jsonContent, Encoding.UTF8, \"application/json\");\n                request.Headers.Add(\"Authorization\", \"EndpointKey\" + endpointKey);\n\n                var response = await client.SendAsync(request);\n\n\n                //Check status code and retrive response\n\n                if (response.IsSuccessStatusCode)\n                {\n\n                    QnAMakerModelClass objQnAResponse = JsonConvert.DeserializeObject&lt;QnAMakerModelClass&gt;(await response.Content.ReadAsStringAsync());\n                  //  var responseBody = await response.Content.ReadAsStringAsync();\n\n                    foreach (var item in objQnAResponse.answers)\n                    {\n                        QnAMakerAnswer objAnswer = new QnAMakerAnswer();\n\n                             objAnswer.answer = item.answer;\n                             return new OkObjectResult(objAnswer);\n\n                    }\n\n\n                }\n                else\n                {\n                    var result_string = await response.Content.ReadAsStringAsync();\n                    return new OkObjectResult(result_string);\n                }\n</code></pre>\n\n<p><em><code>Class Used To Invoke QNA Maker:</code></em></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class QnAMakerQuestion\n    {\n        public string question { get; set; }\n\n    }\n\n    public class QnAMakerAnswer\n    {\n        public string answer { get; set; }\n\n    }\n    public class Metadata\n    {\n        public string name { get; set; }\n        public string value { get; set; }\n    }\n\n    public class Context\n    {\n        public bool isContextOnly { get; set; }\n        public List&lt;object&gt; prompts { get; set; }\n    }\n\n    public class Answer\n    {\n        public List&lt;string&gt; questions { get; set; }\n        public string answer { get; set; }\n        public double score { get; set; }\n        public int id { get; set; }\n        public string source { get; set; }\n        public List&lt;Metadata&gt; metadata { get; set; }\n        public Context context { get; set; }\n    }\n\n    public class QnAMakerModelClass\n\n    {\n        public List&lt;Answer&gt; answers { get; set; }\n        public object debugInfo { get; set; }\n    }\n</code></pre>\n\n<p>For more details you could <a href=\"https://docs.microsoft.com/en-us/azure/cognitive-services/qnamaker/quickstarts/get-answer-from-knowledge-base-csharp\" rel=\"nofollow noreferrer\">refer this official document</a></p>\n\n<p>Hope it will help. </p>\n"}, {"tags": [], "owner": {"reputation": 2159, "user_id": 10002118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IvgFr.png?s=128&g=1", "display_name": "JJ_Wailes", "link": "https://stackoverflow.com/users/10002118/jj-wailes"}, "is_accepted": false, "score": 0, "last_activity_date": 1577991528, "creation_date": 1577991528, "answer_id": 59568620, "question_id": 59545559, "link": "https://stackoverflow.com/questions/59545559/how-to-create-response-based-on-luis-question-azure/59568620#59568620", "title": "How to create response based on LUIS question? (Azure)", "body": "<p>If you have a chatbot that is calling QnAMaker, a slightly easier method would be to use the QnAMaker class. Here's how you would do this in C#:</p>\n\n<pre><code>protected override async Task OnMessageActivityAsync(ITurnContext&lt;IMessageActivity&gt; turnContext, CancellationToken cancellationToken)\n{\n    var httpClient = _httpClientFactory.CreateClient();\n\n    var qnaMaker = new QnAMaker(new QnAMakerEndpoint\n    {\n        KnowledgeBaseId = _configuration[\"QnAKnowledgebaseId\"],\n        EndpointKey = _configuration[\"QnAEndpointKey\"],\n        Host = _configuration[\"QnAEndpointHostName\"]\n    },\n    null,\n    httpClient);\n\n    _logger.LogInformation(\"Calling QnA Maker\");\n\n    var options = new QnAMakerOptions { Top = 1 };\n\n    // The actual call to the QnA Maker service.\n    var response = await qnaMaker.GetAnswersAsync(turnContext, options);\n    if (response != null &amp;&amp; response.Length &gt; 0)\n    {\n        await turnContext.SendActivityAsync(MessageFactory.Text(response[0].Answer), cancellationToken);\n    }\n    else\n    {\n        await turnContext.SendActivityAsync(MessageFactory.Text(\"No QnA Maker answers were found.\"), cancellationToken);\n    }\n}\n</code></pre>\n\n<p>There is a good example on how to integrate QnA into a bot <a href=\"https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/11.qnamaker\" rel=\"nofollow noreferrer\">here</a>, along with the official documentation <a href=\"https://docs.microsoft.com/en-us/azure/bot-service/bot-builder-howto-qna?view=azure-bot-service-4.0&amp;tabs=cs\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 93, "user_id": 11919370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4673ae083566764cd453c74b57b13025?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano", "link": "https://stackoverflow.com/users/11919370/stefano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 59546056, "answer_count": 2, "score": 1, "last_activity_date": 1583938552, "creation_date": 1577803775, "last_edit_date": 1583938552, "question_id": 59545559, "link": "https://stackoverflow.com/questions/59545559/how-to-create-response-based-on-luis-question-azure", "title": "How to create response based on LUIS question? (Azure)", "body": "<p>I am relatively new to building with Azure's LUIS for chatbot development. I am stuck on testing my bot with a deployed LUIS and QnA Maker. I essentially developed questions on LUIS but how do I get the response based on the questions directed from LUIS? Thanks! </p>\n"}, {"tags": ["c#", ".net", "asp.net-core", "webp"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1577803881, "post_id": 59545316, "comment_id": 105259954, "body": "Do you actually need to read the image? WebP is not supported by <code>Bitmap</code>. <a href=\"https://stackoverflow.com/q/7566426/215552\">There are libraries which can</a>, but if you don&#39;t actually need to manipulate the image, I suggest just looking at the <code>Content-Type</code> HTTP header."}, {"owner": {"reputation": 411, "user_id": 4367493, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/de0be39195510fa1a13255f0a804bb6f?s=128&d=identicon&r=PG&f=1", "display_name": "Sugafree", "link": "https://stackoverflow.com/users/4367493/sugafree"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1577804010, "post_id": 59545316, "comment_id": 105259997, "body": "I dont think <code>Content-Type</code> and <code>Header</code> would be enough to check if the file is valid. I check those libraries though. Thanks"}, {"owner": {"reputation": 21271, "user_id": 6751634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kjSAI.jpg?s=128&g=1", "display_name": "Fei Han", "link": "https://stackoverflow.com/users/6751634/fei-han"}, "edited": false, "score": 0, "creation_date": 1577860823, "post_id": 59545316, "comment_id": 105269814, "body": "From <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/winforms/advanced/types-of-bitmaps?view=netframework-4.8\" rel=\"nofollow noreferrer\">here</a>, you can find the supported formats are BMP, GIF, EXIF, JPEG, PNG and TIFF."}], "owner": {"reputation": 411, "user_id": 4367493, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/de0be39195510fa1a13255f0a804bb6f?s=128&d=identicon&r=PG&f=1", "display_name": "Sugafree", "link": "https://stackoverflow.com/users/4367493/sugafree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 500, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577803434, "creation_date": 1577802432, "last_edit_date": 1577803434, "question_id": 59545316, "link": "https://stackoverflow.com/questions/59545316/is-it-possible-to-read-webp-images-into-a-c-bitmap-object", "title": "Is it possible to read WebP images into a C# Bitmap object?", "body": "<p>I am using .NET Core 3.0 MVC app with a file upload for users. These files assumed to be an image, but for obvious reasons, I validate the image before saving it to the server.</p>\n\n<p>Now I have ran into an issue, when a user tries to upload a JPEG image (which seems to be fine as he had to email it to me for further inspection) and this image seems to be a WebP image or was converted from a WebP Image.</p>\n\n<p>The issue is that one of the check for each image is  </p>\n\n<pre><code>using (var bitmap = new Bitmap(postedFile.OpenReadStream()))\n{\n}\n</code></pre>\n\n<p>This threw an exception \"Parameter is not valid\" and because of this, validation fails.</p>\n\n<p>If I read the buffer of the uploaded <code>IFromFile</code>, it starts with <code>RIFF\u06b6\\0\\0WEBPVP8</code></p>\n\n<p>This is how I knew, this is not a normal image.</p>\n\n<p>Any way to decode or validate this image as any other?</p>\n"}, {"tags": ["c#", "mysql"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12631787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e-wz56pf05M/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8QrDl0LN9Uh4oi4ZTbJ8xpDGzaQ/photo.jpg?sz=128", "display_name": "Max Hayou", "link": "https://stackoverflow.com/users/12631787/max-hayou"}, "edited": false, "score": 0, "creation_date": 1577811556, "post_id": 59545274, "comment_id": 105262376, "body": "Thank now no errors but the Datagridview stay empty - any idea?"}, {"owner": {"reputation": 1633, "user_id": 3111870, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SPSR_gr2ISw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcauhaNmB76TiuUADSyublQxGq45Ow/mo/photo.jpg?sz=128", "display_name": "Shahzad", "link": "https://stackoverflow.com/users/3111870/shahzad"}, "reply_to_user": {"reputation": 1, "user_id": 12631787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e-wz56pf05M/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8QrDl0LN9Uh4oi4ZTbJ8xpDGzaQ/photo.jpg?sz=128", "display_name": "Max Hayou", "link": "https://stackoverflow.com/users/12631787/max-hayou"}, "edited": false, "score": 0, "creation_date": 1577812455, "post_id": 59545274, "comment_id": 105262646, "body": "I&#39;m not sure. Have you tried debugging it? Put a break-point on the line after the loop finishes to see if the data is there as you expect, and then follow through to see what happens."}], "tags": [], "owner": {"reputation": 1633, "user_id": 3111870, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SPSR_gr2ISw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcauhaNmB76TiuUADSyublQxGq45Ow/mo/photo.jpg?sz=128", "display_name": "Shahzad", "link": "https://stackoverflow.com/users/3111870/shahzad"}, "is_accepted": false, "score": 1, "last_activity_date": 1577802210, "creation_date": 1577802210, "answer_id": 59545274, "question_id": 59545214, "link": "https://stackoverflow.com/questions/59545214/c-use-function-in-select-query-to-decrypt-table-data/59545274#59545274", "title": "C# use function in select query to Decrypt table data", "body": "<p>SQL doesn't know about your <code>Decrypt</code> function. What you have to do is run the query to select the usernames: <code>SELECT username FROM sys.dtls</code>, and then iterate over the results and decrypt the username then:</p>\n\n<pre><code>myDA.Fill(table);\nforeach(DataRow row in table.Rows)\n{\n    row[\"username\"] = Decrypt(row[\"username\"].ToString());\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12631787, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e-wz56pf05M/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8QrDl0LN9Uh4oi4ZTbJ8xpDGzaQ/photo.jpg?sz=128", "display_name": "Max Hayou", "link": "https://stackoverflow.com/users/12631787/max-hayou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577845144, "creation_date": 1577801795, "last_edit_date": 1577845144, "question_id": 59545214, "link": "https://stackoverflow.com/questions/59545214/c-use-function-in-select-query-to-decrypt-table-data", "title": "C# use function in select query to Decrypt table data", "body": "<p>I try to display the data form <code>dtls</code> table to datagridview - Decrypted  - using the function <code>Decrypt</code>\nThe code works fine without the function. Not sure how to implement the function in the select query</p>\n\n<pre><code>try\n{\n    con = new MySqlConnection();\n    con.ConnectionString = constring;\n    con.Open();\n\n    MySqlDataAdapter myDA = new MySqlDataAdapter();\n\n    string cmd = \"SELECT Decrypt(username) FROM sys.dtls \";\n\n    myDA.SelectCommand = new MySqlCommand(cmd, con);\n\n    DataTable table = new DataTable();\n    myDA.Fill(table);\n    BindingSource bSource = new BindingSource();\n    bSource.DataSource = table;\n\n    dgvShow.DataSource = bSource;\n\n    {\n\n    }\n    con.Close();\n\n    }\n\ncatch (MySql.Data.MySqlClient.MySqlException ex)\n{\n    MessageBox.Show(ex.Message);\n}\n\n}\n\n\n\npublic string Decrypt(string cipherText)\n{\n    string EncryptionKey = \"MAKV2SPBNI99212\";\n    byte[] cipherBytes = Convert.FromBase64String(cipherText);\n    using (Aes encryptor = Aes.Create())\n    {\n        Rfc2898DeriveBytes pdb = new Rfc2898DeriveBytes(EncryptionKey, new byte[] { 0x49, 0x76, 0x61, 0x6e, 0x20, 0x4d, 0x65, 0x64, 0x76, 0x65, 0x64, 0x65, 0x76 });\n        encryptor.Key = pdb.GetBytes(32);\n        encryptor.IV = pdb.GetBytes(16);\n        using (MemoryStream ms = new MemoryStream())\n        {\n            using (CryptoStream cs = new CryptoStream(ms, encryptor.CreateDecryptor(), CryptoStreamMode.Write))\n            {\n                cs.Write(cipherBytes, 0, cipherBytes.Length);\n                cs.Close();\n            }\n            cipherText = Encoding.Unicode.GetString(ms.ToArray());\n        }\n    }\n    return cipherText;\n\n\n}\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "linq", "entity-framework-core"], "comments": [{"owner": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "edited": false, "score": 1, "creation_date": 1577801809, "post_id": 59545154, "comment_id": 105259254, "body": "You have not much influence on how SQL is generated. Easiest would be you put your &quot;state 5&quot; to &quot;5&quot; translation in a database table, and you use a Join. This would be database style. Something very tricky: Define an Enum with corresponding values, this wll be serialized with string to int translation, but it doesn&#39;t work with spaces in the strings."}, {"owner": {"reputation": 3196, "user_id": 444149, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/11000ced4b79bd219c6b79d6c963d3c8?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/444149/marty"}, "reply_to_user": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "edited": false, "score": 0, "creation_date": 1577803654, "post_id": 59545154, "comment_id": 105259882, "body": "Thank You for the indea. Although - I have specifically posted this question here, to find out if it&#39;s possible to influence it somehow. If not - then I will have to go the way You&#39;re suggesting, adding a column or table in SQL. For now - I&#39;m looking for and answer on how to rewrite the LINQ or how to tell EF to build &#39;CASE When Then&#39; in a different manner."}, {"owner": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "edited": false, "score": 1, "creation_date": 1577805499, "post_id": 59545154, "comment_id": 105260489, "body": "It is generally possible, but not easy. There are injection mechanisms for the SQL provider. It&#39;s worth only, if you need it often in different scenarios. You can also just send the SQL with a RawSQL-Query, or you can do this string-to-int translation in LINQ to objects (or use a custom IComparer), after you loaded the strings from the database."}, {"owner": {"reputation": 68, "user_id": 12470787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b73b2ff939df23b06458ac7cea17bf5?s=128&d=identicon&r=PG&f=1", "display_name": "djsoteric", "link": "https://stackoverflow.com/users/12470787/djsoteric"}, "edited": false, "score": 0, "creation_date": 1577805949, "post_id": 59545154, "comment_id": 105260630, "body": "I would definitely go with passing raw sql to the EF context and leveraging the safe query parameterization or almost any other method other than adding an extra column to your table solely to make working with EF a little easier."}, {"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 0, "creation_date": 1577807575, "post_id": 59545154, "comment_id": 105261192, "body": "You could replace most of those with a lookup table."}, {"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 1, "creation_date": 1577807644, "post_id": 59545154, "comment_id": 105261210, "body": "Make a proposition here <a href=\"https://github.com/aspnet/EntityFrameworkCore/issues\" rel=\"nofollow noreferrer\">Issues - EntityFrameworkCore</a> to allow the translation of the new C# 8.0 switch expressions to SQL. <code>expr switch { e1 =&gt;  ret1, e2 =&gt; ret2, _ =&gt; ret3 }</code> would translate to <code>CASE expr WHEN e1 THEN ret1 WHEN e2 THEN ret2 ELSE ret3 END</code>."}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1577810121, "post_id": 59545154, "comment_id": 105261923, "body": "As an alternative you could sort in memory. It&#39;s not always the database engine that sorts faster so you may even gain something. Or, if this is a fixed order, create a database table containing <code>CaseState</code>s and their sequence. Then you can join with it (through a navigation property) and simply order by the sequence field."}], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1577820122, "creation_date": 1577820122, "answer_id": 59547795, "question_id": 59545154, "link": "https://stackoverflow.com/questions/59545154/how-to-make-ef-core-translate-custom-sort-into-a-plain-when-then-instead-of-hi/59547795#59547795", "title": "How to make EF core translate custom sort into a plain &#39;When Then&#39; instead of hierarchical", "body": "<p>How about using a string map to convert the states?</p>\n\n<pre><code>var stateMapString = \"Investigation    Awaiting CustomerState 5          State 6          State 7          State 8          State 9          State 10         State 11         Rejected         Blocked          Postponed\";\n\nvar extendedResult = result.Select(p =&gt; new\n    {\n        readModelFields = p,\n        sortKey = p.CaseState == CaseState.Scheduled.ToString() ? 1 :\n                  p.CaseState == CaseState.Queued.ToString() ? 2 :\n                  (p.CaseState != \"\" &amp;&amp; stateMapString.IndexOf(p.CaseState) &gt;= 0)\n                        ? stateMapString.IndexOf(p.CaseState)/17+3\n                        : 15\n    });\n</code></pre>\n\n<p>If your states might change, you could compute the map string:</p>\n\n<pre><code>var stateStrings = new[] { \"Investigation\",\n                            \"Awaiting Customer\",\n                            \"State 5\",\n                            \"State 6\",\n                            \"State 7\",\n                            \"State 8\",\n                            \"State 9\",\n                            \"State 10\",\n                            \"State 11\",\n                            \"Rejected\",\n                            \"Blocked\",\n                            \"Postponed\" };\nvar stateMaxLen = stateStrings.Max(s =&gt; s.Length);\nvar stateMapString = String.Join(\"\", stateStrings.Select(s =&gt; s.PadRight(stateMaxLen)));\n</code></pre>\n\n<p>And just use <code>stateMaxLen</code> in the query to divide the <code>IndexOf</code> result.</p>\n"}, {"tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 2, "last_activity_date": 1577894407, "creation_date": 1577894407, "answer_id": 59553942, "question_id": 59545154, "link": "https://stackoverflow.com/questions/59545154/how-to-make-ef-core-translate-custom-sort-into-a-plain-when-then-instead-of-hi/59553942#59553942", "title": "How to make EF core translate custom sort into a plain &#39;When Then&#39; instead of hierarchical", "body": "<p>You are experiencing EF Core query translation bug, tracked by <a href=\"https://github.com/aspnet/EntityFrameworkCore/issues/12729\" rel=\"nofollow noreferrer\">#12729: Flatten CASE expressions to avoid error \"Case expressions may only be nested to level 10\"</a>. As we can see, it's already fixed in the EF Core repository, but the fix will be included in 5.0.0 release (whenever it comes).</p>\n\n<p>It's possible to fix it by hooking into EF Core internal infrastructure, but that requires knowing the exact EF Core version and also use different approaches for different EF Core versions because the infrastructure is changing with almost every even minor release.</p>\n\n<p>As a general workaround I could suggest replacing the single multi-conditional operator expression with sum of multiple single conditional expressions. It won't generate the desired flat <code>CASE</code> SQL expression, but at least won't produce the error in question. Something like this:</p>\n\n<pre><code>sortKey =\n    (p.CaseState == CaseState.Scheduled.ToString() ? 1 : 0) +\n    (p.CaseState == CaseState.Queued.ToString() ? 2 : 0) +\n    (p.CaseState == \"Investigation\" ? 3 : 0) +\n    (p.CaseState == \"Awaiting Customer\" ? 4 : 0) +\n    (p.CaseState == \"State 5\" ? 5 : 0) + \n    (p.CaseState == \"State 6\" ? 6 : 0) +\n    (p.CaseState == \"State 7\" ? 7 : 0) +\n    (p.CaseState == \"State 8\" ? 8 : 0) +\n    (p.CaseState == \"State 9\" ? 9 : 0) +\n    (p.CaseState == \"State 10\" ? 10 : 0) +\n    (p.CaseState == \"State 11\" ? 11 : 0) +\n    (p.CaseState == \"Rejected\" ? 12 : 0) +\n    (p.CaseState == \"Blocked\" ? 13 : 0) +\n    (p.CaseState == \"Postponed\" ? 14 : 15)\n</code></pre>\n"}], "owner": {"reputation": 3196, "user_id": 444149, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/11000ced4b79bd219c6b79d6c963d3c8?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/444149/marty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 485, "favorite_count": 0, "accepted_answer_id": 59553942, "answer_count": 2, "score": 2, "last_activity_date": 1577894407, "creation_date": 1577801438, "last_edit_date": 1577877439, "question_id": 59545154, "link": "https://stackoverflow.com/questions/59545154/how-to-make-ef-core-translate-custom-sort-into-a-plain-when-then-instead-of-hi", "title": "How to make EF core translate custom sort into a plain &#39;When Then&#39; instead of hierarchical", "body": "<p>The <strong>problem</strong> is - I get the following <strong>errror</strong>:</p>\n\n<blockquote>\n  <p>Case expressions may only be nested to level 10.</p>\n</blockquote>\n\n<p>when I try using the following LINQ code with EF core</p>\n\n<pre><code>var extendedResult = result.Select(p =&gt; new\n    {\n        readModelFields = p,\n        sortKey =\n            p.CaseState == CaseState.Scheduled.ToString() ? 1 :\n            p.CaseState == CaseState.Queued.ToString() ? 2 :\n            p.CaseState == \"Investigation\" ? 3 :\n            p.CaseState == \"Awaiting Customer\" ? 4 :\n            p.CaseState == \"State 5\" ? 5 :\n            p.CaseState == \"State 6\" ? 6 :\n            p.CaseState == \"State 7\" ? 7 :\n            p.CaseState == \"State 8\" ? 8 :\n            p.CaseState == \"State 9\" ? 9 :\n            p.CaseState == \"State 10\" ? 10 :\n            p.CaseState == \"State 11\" ? 11 :\n            p.CaseState == \"Rejected\" ? 12 :\n            p.CaseState == \"Blocked\" ? 13 :\n            p.CaseState == \"Postponed\" ? 14 :\n            15\n    });\n\n    return IsAscending(query.SortDirection)\n        ? extendedResult.OrderBy(p =&gt; p.sortKey).Select(p =&gt; p.readModelFields)\n        : extendedResult.OrderByDescending(p =&gt; p.sortKey).Select(p =&gt; p.readModelFields);\n</code></pre>\n\n<p>And the issue is caused by the way SQL genertes SQL (here's a result)</p>\n\n<pre><code>exec sp_executesql N'SELECT [o].[Id], [o].[Owner], [o].[CaseState],  [o].[LastActionDate], [o].[CountryCode], [o].[Name], [o].[Risk]\nFROM [dbo].[OpenCases] AS [o]\nORDER BY CASE\n    WHEN [o].[CaseState] = N''Scheduled'' THEN 1\n    ELSE CASE\n        WHEN [o].[CaseState] = N''Queued'' THEN 2\n        ELSE CASE\n            WHEN [o].[CaseState] = N''Investigation'' THEN 3\n            ELSE CASE\n                WHEN [o].[CaseState] = N''Awaiting Customer'' THEN 4\n                ELSE CASE\n                    WHEN [o].[CaseState] = N''State 6'' THEN 6\n                    ELSE CASE\n                        WHEN [o].[CaseState] = N''State 7'' THEN 7\n                        ELSE CASE\n                            WHEN [o].[CaseState] = N''State 8'' THEN 8\n                            ELSE CASE\n                                WHEN [o].[CaseState] = N''State 9'' THEN 9\n                                ELSE CASE\n                                    WHEN [o].[CaseState] = N''State 10'' THEN 10\n                                    ELSE CASE\n                                        WHEN [o].[CaseState] = N''State 11'' THEN 11\n                                        ELSE CASE\n                                            WHEN [o].[CaseState] = N''Rejected'' THEN 12\n                                            ELSE CASE\n                                                WHEN [o].[CaseState] = N''Blocked'' THEN 13\n                                                ELSE CASE\n                                                    WHEN [o].[CaseState] = N''Postponed'' THEN 14\n                                                    ELSE 15\n                                                END\n                                            END\n                                        END\n                                    END\n                                END\n                            END\n                        END\n                    END\n                END\n            END\n        END\n    END\nEND DESC\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY',N'@__p_0 int,@__p_1 int',@__p_0=0,@__p_1=2147483647\n</code></pre>\n\n<p>What I want instead - is EF to build a query like this:</p>\n\n<pre><code>...\nORDER BY \nCASE\n   WHEN CaseState = \"Investigation\" THEN 3\n   WHEN CaseState = \"State 5\" THEN 5\n   WHEN CaseState = \"State 6\" THEN 6\n   WHEN CaseState = \"State 7\" THEN 7\n   .......\n   WHEN CaseState = \"Postponed\" THEN 14\nEND desc\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "unicode", "emoji", "character-replacement"], "answers": [{"comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1577806261, "post_id": 59545215, "comment_id": 105260737, "body": "I was going to say that Unity still has issues with combining characters (eg, try this string <code>i\u0307 i\u0308 i\u0323 i\u0324</code>) but it looks like between 2018.3.7 and 2019.1.7 they fixed that. The only character I can find that doesn&#39;t render perfectly is <code>=\u0338</code>, looks more like <code>=\u200b\u0338</code>."}], "tags": [], "owner": {"reputation": 102, "user_id": 1356718, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Y8RQL.jpg?s=128&g=1", "display_name": "znerolnoht", "link": "https://stackoverflow.com/users/1356718/znerolnoht"}, "is_accepted": false, "score": 1, "last_activity_date": 1577801798, "creation_date": 1577801798, "answer_id": 59545215, "question_id": 59545018, "link": "https://stackoverflow.com/questions/59545018/ugui-text-field-how-to-remove-replacement-characters-ufffd-aka/59545215#59545215", "title": "uGUI Text Field, How to Remove &quot;Replacement Characters&quot; (uFFFD aka \ufffd)?", "body": "<p>Found the answer!\nThis post provided a solution: <a href=\"https://stackoverflow.com/questions/28023682/how-do-i-remove-emoji-characters-from-a-string\">How do I remove emoji characters from a string?</a></p>\n\n<pre><code>body.text = Regex.Replace(body.text, @\"\\p{Cs}\", \"\");\n</code></pre>\n"}], "owner": {"reputation": 102, "user_id": 1356718, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Y8RQL.jpg?s=128&g=1", "display_name": "znerolnoht", "link": "https://stackoverflow.com/users/1356718/znerolnoht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1577801798, "creation_date": 1577800695, "last_edit_date": 1577801538, "question_id": 59545018, "link": "https://stackoverflow.com/questions/59545018/ugui-text-field-how-to-remove-replacement-characters-ufffd-aka", "title": "uGUI Text Field, How to Remove &quot;Replacement Characters&quot; (uFFFD aka \ufffd)?", "body": "<p>Using the uGUI Text component, I'm getting \"replacement characters\" aka \ufffd and I can't find a way to remove them. </p>\n\n<p>I'm getting a string from the Instagram api which contains unicode characters for both non-alphabet language characters (for Japanese for example) which I need. </p>\n\n<p>However, the unicode characters for the emojis come in as replacement characters aka \ufffd. \nI don't require the emojis and they can be stripped out however, I can't find a method to do this. </p>\n\n<p>I'm unable to use TextMeshPro as I'm unable generate a font asset with all the unicode characters need to display the various languages (this could be user error but when I try the process hangs). </p>\n\n<p>I notice these \ufffd characters don't appear in the Inspector or console so there must be a way to ignore or remove them.  </p>\n\n<p>I'm setting the string like this</p>\n\n<pre><code>body.text = System.Uri.UnescapeDataString(postData.text);\n</code></pre>\n\n<p>I've tried a number of things that haven't worked including</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    body.text = body.text.Replace('\\uFFFD','\\'');//doesn't work\n    body.text = Regex.Replace(body.text, @\"^[\\ufffd]\", string.Empty);//doesn't work\n</code></pre>\n\n<p>I've also tried breaking up the string as a char array. When I try to print to console I get this error when it hits a replacement character: </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    foreach (char item in postData.text.ToCharArray())\n                print(item); //Error: UTF-16 to UTF-8 conversion failed because the input string is invalid\n</code></pre>\n\n<p>Any help with this would be greatly appreciated! \nThank you.</p>\n\n<p>Unity 2018.4.4, c#</p>\n\n<p><a href=\"https://i.stack.imgur.com/Sdwkz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sdwkz.png\" alt=\"replacement characters can be seen here\"></a></p>\n"}, {"tags": ["c#", "asp.net", "sql-server", "asynchronous", "async-await"], "comments": [{"owner": {"reputation": 219328, "user_id": 15498, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wi4EN.png?s=128&g=1", "display_name": "Damien_The_Unbeliever", "link": "https://stackoverflow.com/users/15498/damien-the-unbeliever"}, "edited": false, "score": 3, "creation_date": 1577800970, "post_id": 59545003, "comment_id": 105259014, "body": "There are very few uses for a method called <code>EnsureConnectionOpened</code> (<code>Async</code>) unless you&#39;re <i>sharing connection objects around</i>. This almost always ends badly. Almost always better to keep those objects local and just share the connection <i>string</i>."}, {"owner": {"reputation": 153, "user_id": 11717178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a13a4d4471a272bf795440207631aa6e?s=128&d=identicon&r=PG&f=1", "display_name": "el_nektarin", "link": "https://stackoverflow.com/users/11717178/el-nektarin"}, "reply_to_user": {"reputation": 219328, "user_id": 15498, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wi4EN.png?s=128&g=1", "display_name": "Damien_The_Unbeliever", "link": "https://stackoverflow.com/users/15498/damien-the-unbeliever"}, "edited": false, "score": 0, "creation_date": 1577801225, "post_id": 59545003, "comment_id": 105259095, "body": "@Damien_The_Unbeliever got your point, this method is actually local and never used in other cllsses, I probably should make it private"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1577806756, "post_id": 59545003, "comment_id": 105260919, "body": "@el_nektarin It&#39;s not about making it private. It&#39;s the fact that your connection should be a local variable, not a field or property."}], "answers": [{"tags": [], "owner": {"reputation": 153, "user_id": 11717178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a13a4d4471a272bf795440207631aa6e?s=128&d=identicon&r=PG&f=1", "display_name": "el_nektarin", "link": "https://stackoverflow.com/users/11717178/el-nektarin"}, "is_accepted": false, "score": 1, "last_activity_date": 1577802428, "creation_date": 1577802428, "answer_id": 59545314, "question_id": 59545003, "link": "https://stackoverflow.com/questions/59545003/await-vs-task-waitall-while-openning-sqlconnection-why-does-await-throw-an-exc/59545314#59545314", "title": "Await vs Task.WaitAll while openning SqlConnection - why does Await throw an exception?", "body": "<p>The problem was very simple - the method which invoked the <code>UpdateAsync</code> command wasn't awaiting it (and wasn't marked as <code>async</code> respectively). So look carefully through your <code>async</code> code - you should await it everywhere you have to.</p>\n"}], "owner": {"reputation": 153, "user_id": 11717178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a13a4d4471a272bf795440207631aa6e?s=128&d=identicon&r=PG&f=1", "display_name": "el_nektarin", "link": "https://stackoverflow.com/users/11717178/el-nektarin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1577802428, "creation_date": 1577800552, "last_edit_date": 1577800741, "question_id": 59545003, "link": "https://stackoverflow.com/questions/59545003/await-vs-task-waitall-while-openning-sqlconnection-why-does-await-throw-an-exc", "title": "Await vs Task.WaitAll while openning SqlConnection - why does Await throw an exception?", "body": "<p>I had a simple async method to check if <code>SqlConnection</code> is closed and if it is - open it:</p>\n\n<pre><code>protected async Task EnsureConnectionOpenedAsync()\n        {\n            if (SqlConnection.State == ConnectionState.Closed &amp;&amp; SqlTransaction == null)\n            {\n                await this.SqlConnection.OpenAsync();\n            }\n        }\n</code></pre>\n\n<p>At first it worked normally, but suddenly it started to throw an exception <code>\"A task was cancelled\"</code>. When I haven't changed anything that touches the <code>SqlConnection</code>! It just somehow stopped working adequately. But after I made another version of <code>EnsureConnectionOpened</code>:</p>\n\n<pre><code>protected Task EnsureConnectionOpened()\n        {\n            if (SqlConnection.State == ConnectionState.Closed &amp;&amp; SqlTransaction == null)\n            {\n                Task.WaitAll(this.SqlConnection.OpenAsync());\n            }\n            return Task.CompletedTask;\n        }\n</code></pre>\n\n<p>everything started working OK again. </p>\n\n<p>Why did it happen? The code where I call it:</p>\n\n<pre><code>protected virtual async Task&lt;int?&gt; UpdateAsync(string storedProcedureName, SqlParameter[] sqlParameters)\n        {\n            try \n            {\n                SqlCommand sqlCommand = new SqlCommand(storedProcedureName, this.SqlConnection, this.SqlTransaction)\n                {\n                    CommandType = CommandType.StoredProcedure,\n                    CommandTimeout = this.CommandTimeout\n                };\n\n                if (sqlParameters.IsInitializedAndFilled())\n                {\n                    foreach (SqlParameter sqlParameter in sqlParameters)\n                    {\n                        if (sqlParameter.Value == null)\n                        {\n                            sqlParameter.Value = DBNull.Value;\n                        }\n                        sqlCommand.Parameters.Add(sqlParameter);\n                    }\n                }\n\n                await this.EnsureConnectionOpenedAsync();\n                await this.DeployStoredProcedure(storedProcedureName);\n\n                return (int)await sqlCommand.ExecuteScalarAsync();\n            }\n            catch (Exception exception)\n            {\n                this.SqlConnection.Close();\n                ExceptionDispatchInfo.Capture(exception).Throw();\n                return null;\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "dynamic", "polymorphism", "parameter-passing", "overloading"], "answers": [{"tags": [], "owner": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "is_accepted": true, "score": 0, "last_activity_date": 1577807106, "last_edit_date": 1577807106, "creation_date": 1577806718, "answer_id": 59546017, "question_id": 59545000, "link": "https://stackoverflow.com/questions/59545000/overloading-a-method-using-dynamics-in-net/59546017#59546017", "title": "Overloading a method using dynamics in .Net", "body": "<p>A valid overload is everything that is different in definition, meaning not exactly the same. This is the case here. There are no more checks in the definition of overloads.</p>\n\n<p>Resolving possible ambiguities take place at the site of use, the applied call.\nIt's always possible to explictly type each parameter and pick the overload you want in this way.</p>\n\n<p>In case of any type conversions are neccessary and implicitly possible, the compiler will try to find the \"Better conversion\". Less possible loss of data is always better.</p>\n\n<p>Only if by this selection you end up with multiple overloads with equal-ranked conversions applied, you will get an ambiguity error - at the place of call.</p>\n\n<p>if you call </p>\n\n<pre><code>ResultSet&lt;object&gt;(\"connection\", \"query\", new KeyValuePair&lt;string, dynamic&gt;(\"test\", null));\n</code></pre>\n\n<p>you will definitly use your first overload, since there is no conversion necessary. No conversion is better than a conversion.</p>\n"}], "owner": {"reputation": 1826, "user_id": 1895086, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7410f79377e33960f63e398b312ade94?s=128&d=identicon&r=PG", "display_name": "CDove", "link": "https://stackoverflow.com/users/1895086/cdove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 1, "accepted_answer_id": 59546017, "answer_count": 1, "score": 0, "last_activity_date": 1577807106, "creation_date": 1577800522, "question_id": 59545000, "link": "https://stackoverflow.com/questions/59545000/overloading-a-method-using-dynamics-in-net", "title": "Overloading a method using dynamics in .Net", "body": "<p>I'm a little confused about the \"why\" of something, and I'd like to get some clarification before this pushes to deployment. </p>\n\n<p>I have a DAL library that is funneling all calls for data to, essentially, two functions.   It's really one function, but I wrote an overload to accept a Data Object, convert it to an <code>ExpandoObject</code>, and build query parameters as <code>KeyValuePairs&lt;string, dynamic&gt;</code> to satisfy the original function.  </p>\n\n<pre><code>public static IEnumerable&lt;T&gt; ResultSet&lt;T&gt;(string conn, string query, params KeyValuePair&lt;string, dynamic&gt;[] pmts)...\n\npublic static IEnumerable&lt;T&gt; ResultSet&lt;T&gt;(string conn, string query, dynamic dao)\u2026\n</code></pre>\n\n<p>My question is this; why is this a valid overload?  Is the <code>params</code> keyword what is preventing an ambiguity problem?   Since I'm using  <code>dynamic</code>,  and everything works great in testing, I feel I should understand better why this is a permitted overload before it goes into production (lest it explode then).</p>\n"}, {"tags": ["c#", "asp.net", "webforms"], "answers": [{"tags": [], "owner": {"reputation": 1633, "user_id": 3111870, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SPSR_gr2ISw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcauhaNmB76TiuUADSyublQxGq45Ow/mo/photo.jpg?sz=128", "display_name": "Shahzad", "link": "https://stackoverflow.com/users/3111870/shahzad"}, "is_accepted": false, "score": 0, "last_activity_date": 1577801055, "creation_date": 1577801055, "answer_id": 59545084, "question_id": 59544888, "link": "https://stackoverflow.com/questions/59544888/enable-and-disable-buttons-based-on-textbox-values/59545084#59545084", "title": "Enable and Disable buttons based on textbox values", "body": "<p>You can convert the Texts into TimeSpans and then set the <code>Enabled</code> property of the buttons based on whether their time is within the range:</p>\n\n<pre><code>var workStartTime = TimeSpan.Parse(workStart.Text);\nvar workEndTime = TimeSpan.Parse(workEnd.Text);\nforeach (var button in allButtons)\n{\n    var buttonTime = TimeSpan.Parse(button.Text);\n    button.Enabled = buttonTime &gt;= workStartTime &amp;&amp; buttonTime &lt;= workEndTime;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "edited": false, "score": 0, "creation_date": 1578386520, "post_id": 59545230, "comment_id": 105412032, "body": "Glad I could help. It should be like: <code>var currentTime = DateTime.Now;currentTime = currentTime.AddHours(1);</code> or even simple: <code>var currentTime = DateTime.Now.AddHours(1);</code>"}, {"owner": {"reputation": 15, "user_id": 12355518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f8de884f0cbe01f24bed58012c0cf6?s=128&d=identicon&r=PG&f=1", "display_name": "Ruz", "link": "https://stackoverflow.com/users/12355518/ruz"}, "edited": false, "score": 0, "creation_date": 1578386993, "post_id": 59545230, "comment_id": 105412260, "body": "I appreciate your help, it works perfectly as I wish. I have difficulties to solve one more thing with the above question, I need to take the current time  <code>var currentTime = DateTime.Now.AddHours(1); </code> compare it with the enabled buttons and if the currentTime(+1hour) is greater than the time in button it should disable this button because its already passed."}, {"owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "reply_to_user": {"reputation": 15, "user_id": 12355518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f8de884f0cbe01f24bed58012c0cf6?s=128&d=identicon&r=PG&f=1", "display_name": "Ruz", "link": "https://stackoverflow.com/users/12355518/ruz"}, "edited": false, "score": 0, "creation_date": 1578387177, "post_id": 59545230, "comment_id": 105412336, "body": "as you comparisons are in string, you should do something like: <code>if(string.Compare( DateTime.Now.AddHours(1).ToString(&quot;HH:mm&quot;), btn.Text) &gt;=0) ....</code>"}], "tags": [], "owner": {"reputation": 30566, "user_id": 1079221, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/wFi75.jpg?s=128&g=1", "display_name": "Ashkan Mobayen Khiabani", "link": "https://stackoverflow.com/users/1079221/ashkan-mobayen-khiabani"}, "is_accepted": true, "score": 0, "last_activity_date": 1577802849, "last_edit_date": 1577802849, "creation_date": 1577801871, "answer_id": 59545230, "question_id": 59544888, "link": "https://stackoverflow.com/questions/59544888/enable-and-disable-buttons-based-on-textbox-values/59545230#59545230", "title": "Enable and Disable buttons based on textbox values", "body": "<p><code>String.Compare()</code> will work for the comparison. To get all buttons you can use <code>var buttons = buttonsParent.Controls.OfType&lt;Button&gt;().ToList()</code> of the buttons parent or you can put them in an array yourself like <code>var buttons = new Button[] { button1, button2, ... }</code></p>\n\n<p>Then:</p>\n\n<pre><code>foreach(var btn in buttons)\n   btn.Enabled = string.Compare(btn.Text, workStart.Text) &gt;= 0 &amp;&amp;\n                 string.Compare(btn.Text, workFinishes.Text) &lt;= 0;\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 12355518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f8de884f0cbe01f24bed58012c0cf6?s=128&d=identicon&r=PG&f=1", "display_name": "Ruz", "link": "https://stackoverflow.com/users/12355518/ruz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 59545230, "answer_count": 2, "score": 1, "last_activity_date": 1577808847, "creation_date": 1577799882, "last_edit_date": 1577808847, "question_id": 59544888, "link": "https://stackoverflow.com/questions/59544888/enable-and-disable-buttons-based-on-textbox-values", "title": "Enable and Disable buttons based on textbox values", "body": "<p>I have 24 buttons in which is written time, 24hours. </p>\n\n<p>First <code>button1.Text=\"01:00\"</code>, <code>button2.Text=\"02:00\"</code>, <code>button3.Text=\"03:00\"</code> and so on.....till <code>button24.Text=\"00:00\"</code></p>\n\n<p>And I have two textboxes (<code>workStart.Text</code> and <code>workFinishes.Text</code>), where the user types different times, some days they work 10 hours and other days less hours. </p>\n\n<p>For example <code>workStart.Text=\"08:00\"</code> and <code>workFinishes.Text=\"18:00\"</code>. So all the buttons from 08:00 till 18:00 range must be enabled  and the rest must be disabled in this case (according textbox values). </p>\n\n<p>I would really appreciate it if someone will help to solve this problem.</p>\n"}, {"tags": ["c#", "php", "utf-8", "character-encoding"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 7039337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHGMq.png?s=128&g=1", "display_name": "m3T3HaN", "link": "https://stackoverflow.com/users/7039337/m3t3han"}, "edited": false, "score": 0, "creation_date": 1577881423, "post_id": 59546439, "comment_id": 105273424, "body": "yes If both systems were mine, I could store the bytes as base64, but the silverlight application was made with <a href=\"https://dotnetfiddle.net/kR37Dy\" rel=\"nofollow noreferrer\">c # and it connects to an IIS 7 Server where it is authorized with a username and password.</a> I have redesigned this system with php to use it independently of the desktop application on my side with php. I debugged the silverlight application, I took the hash function of the password and I wanted to implement it with php, but I want to solve this byte2string after the correct xor encryption."}, {"owner": {"reputation": 45, "user_id": 7039337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHGMq.png?s=128&g=1", "display_name": "m3T3HaN", "link": "https://stackoverflow.com/users/7039337/m3t3han"}, "edited": false, "score": 0, "creation_date": 1577882523, "post_id": 59546439, "comment_id": 105273644, "body": "<b>Problem Solved</b>  @odalet thank you for answering, problem solved by itself :). I didn&#39;t make any changes to the PHP code, I just upgraded the PHP version of the server from 7.2 to 7.3. I&#39;m afraid to try and drop the PHP version again and leave it as it is :). <a href=\"http://phpfiddle.org/main/code/ag0m-xsvr\" rel=\"nofollow noreferrer\">PHP Code</a>"}], "tags": [], "owner": {"reputation": 1259, "user_id": 107552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84b83058bc6f6bf7a2d9a998c3a63854?s=128&d=identicon&r=PG", "display_name": "odalet", "link": "https://stackoverflow.com/users/107552/odalet"}, "is_accepted": true, "score": 2, "last_activity_date": 1577809395, "creation_date": 1577809395, "answer_id": 59546439, "question_id": 59544865, "link": "https://stackoverflow.com/questions/59544865/c-utf8-getstring-from-bytes-array-not-equal-to-php-chr-function/59546439#59546439", "title": "c# UTF8 GetString from bytes array not equal to php chr function", "body": "<p>You are mixing quite different things here.</p>\n\n<p>First, in the C# code, you are not using the same encoding when converting from bytes to a string and then from a string back to bytes: <code>Encoding.UTF8</code> in the first case and <code>Encoding.Unicode</code> (which is .NET name for <code>UTF-16</code>) in the latter... Things cannot go well if you do this. And by the way, I'm not sure that PHP's <code>UCS2</code> is equivalent to <code>UTF-16</code>:</p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\"><code>UTF-8</code></a> encodes characters on 1, 2, 3 or 4 bytes depending on the character</li>\n<li><a href=\"https://en.wikipedia.org/wiki/UTF-16\" rel=\"nofollow noreferrer\"><code>UTF-16</code></a> encodes characters on 2 or 4 bytes depending on the character</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Universal_Coded_Character_Set\" rel=\"nofollow noreferrer\"><code>UCS-2</code></a> always encodes characters on 2 bytes, and hence cannot encode more than 65536 characters...</li>\n</ul>\n\n<p>Then what you pass to the 'bytes to string' conversions is not necessarily valid! Because you've XORed the input data (I assume it to be some secret string), the resulting bytes may or may not be a valid sequence in some encodings. For example:</p>\n\n<ul>\n<li>It is not valid in <a href=\"https://en.wikipedia.org/wiki/ASCII\" rel=\"nofollow noreferrer\"><code>ASCII</code></a> because you have (in your example) bytes > 127</li>\n<li>It is not valid in <code>UTF-8</code> because 217 followed by 78 is recognized neither as a 1-, 2-, 3-, or 4-byte character by <code>UTF-8</code>; hence, the \ufffd you see before the N.</li>\n<li>It seems to be invalid <code>UTF-16</code> as well, but roundtripping works (I could get back the original array using .NET's <code>Unicode.GetString</code>, then <code>Unicode.GetBytes</code>. If I remove your last byte - and end up with an odd number of bytes - then <code>UTF-16</code> roundtripping does not work any more...</li>\n<li>Although I did not test it, it should also be invalid <code>UCS-2</code> because <code>UCS-2</code> 'looks like' <code>UTF-16</code> for 2-byte characters.</li>\n<li>Roundtripping works with <a href=\"https://en.wikipedia.org/wiki/ANSI_character_set\" rel=\"nofollow noreferrer\"><code>ANSI</code></a> encodings sucha as <a href=\"https://en.wikipedia.org/wiki/Windows-1252\" rel=\"nofollow noreferrer\"><code>windows-1252</code></a> because these encodings accept any byte. However, I would discourage using such trick because you have to be sure the same code page is used on both sides of the encoding/decoding process.</li>\n</ul>\n\n<p>Therefore, I think, in your case, the best way to store your XORed bytes into a string would be to convert the array to base64. In C# you can do it this way:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// The code below gives you ZWt1TihEInY+QydRLEIYMA==\nvar converted = Convert.ToBase64String(array); \n// And this one gives you back the initial array\nvar bytes = Convert.FromBase64String(converted);\n</code></pre>\n\n<p>Quick googling will tell you to use <code>base64_encode</code> and <code>base64_decode</code> in PHP.</p>\n\n<hr>\n\n<p>Bottom note: if you want to <strong>really</strong> understand what's going on with al this encodings stuff, here is the must-read blog post on the subject: <a href=\"https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/\" rel=\"nofollow noreferrer\">https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/</a></p>\n"}], "owner": {"reputation": 45, "user_id": 7039337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHGMq.png?s=128&g=1", "display_name": "m3T3HaN", "link": "https://stackoverflow.com/users/7039337/m3t3han"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 0, "accepted_answer_id": 59546439, "answer_count": 1, "score": 1, "last_activity_date": 1604978377, "creation_date": 1577799697, "last_edit_date": 1604978377, "question_id": 59544865, "link": "https://stackoverflow.com/questions/59544865/c-utf8-getstring-from-bytes-array-not-equal-to-php-chr-function", "title": "c# UTF8 GetString from bytes array not equal to php chr function", "body": "<p>I'm trying to make one decoder. Basic system .Net 4.7 I'm trying to migrate this system into php, but I'm having trouble converting bytes. As far as I understand the default string <strong>UTF-16le</strong> on <strong>C#</strong>, I understood the <strong>ord</strong> and <strong>chr</strong> functions as <strong>UCS-2</strong> on the <strong>PHP</strong> side. I want to do below and I do not get the same result there are codes. What can I do to fix this, thanks in advance</p>\n\n<pre><code>XOR Encoded Text Bytes = [101,107,217,78,40,68,234,218,162,67,139,81,44,166,24,148];\n</code></pre>\n\n<p>on <strong>C#</strong></p>\n\n<pre><code>string result = System.Text.Encoding.UTF8.GetString(destinationArray);\n</code></pre>\n\n<p>On <strong>PHP</strong></p>\n\n<pre><code>for($i=0;$i&lt;sizeof($encoded);$i++){\n            echo \"\\t\".$encoded[$i].\" =&gt; \".chr($encoded[$i]).\"\\n\";\n            $tmpStr .= chr($encoded[$i]);\n        }\n</code></pre>\n\n<p><strong>C#</strong> Result size=26:</p>\n\n<pre><code>ek\ufffdN(D\ufffd\u06a2C\ufffdQ,\ufffd\ufffd\n</code></pre>\n\n<p><strong>PHP</strong> Result size=16:</p>\n\n<pre><code>ek\ufffdN(D\ufffd\u06a2C\ufffdQ,\ufffd\ufffd\n</code></pre>\n\n<p>the strings looks the same, but byte translation is quite different.</p>\n\n<p><strong>C#</strong> Result to Bytes array:</p>\n\n<pre><code>byte[] utf8 = System.Text.Encoding.Unicode.GetBytes(result);\nConsole.WriteLine(string.Join(\"-\", utf8));\n</code></pre>\n\n<blockquote>\n  <p>response =\n  101-0-107-0-253-255-78-0-40-0-68-0-253-255-162-6-67-0-253-255-81-0-44-0-253-255-24-0-253-255</p>\n</blockquote>\n\n<p><strong>PHP</strong> Result to Bytes Array:</p>\n\n<pre><code>echo implode(\"-\",unpack(\"C*\", $tmpStr));\n</code></pre>\n\n<blockquote>\n  <p>response = 101-107-217-78-40-68-234-218-162-67-139-81-44-166-24-148</p>\n</blockquote>\n\n<p>if php response convert to UTF-16le, results again different</p>\n\n<pre><code>echo implode(\"-\",unpack(\"C*\", mb_convert_encoding($tmpStr,'UTF-16le')));\n</code></pre>\n\n<blockquote>\n  <p>response =\n  101-0-107-0-63-0-78-0-40-0-68-0-63-0-162-6-67-0-63-0-81-0-44-0-63-0-24-0-63-0</p>\n</blockquote>\n"}, {"tags": ["c#", "asp.net", "reflection", "system.reflection"], "comments": [{"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 0, "creation_date": 1577800080, "post_id": 59544840, "comment_id": 105258746, "body": "<code>foreach (string value in Enum.GetNames(typeof(T)))</code>"}, {"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1577807120, "post_id": 59544840, "comment_id": 105261037, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/11312111/when-and-where-to-use-gettype-or-typeof\">When and where to use GetType() or typeof()?</a>"}, {"owner": {"reputation": 19, "user_id": 4149576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86e170d76144b86cd79596b0b50ccb3?s=128&d=identicon&r=PG&f=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/4149576/leo"}, "reply_to_user": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1577810193, "post_id": 59544840, "comment_id": 105261945, "body": "@PavelAnikhouski Unfortunately not"}, {"owner": {"reputation": 19, "user_id": 4149576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86e170d76144b86cd79596b0b50ccb3?s=128&d=identicon&r=PG&f=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/4149576/leo"}, "reply_to_user": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 0, "creation_date": 1577810256, "post_id": 59544840, "comment_id": 105261969, "body": "@VDWWD See Pavel Anikhouski answer as to why that won&#39;t work"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 1, "creation_date": 1577976943, "post_id": 59544840, "comment_id": 105298548, "body": "If you actually mean <i>anonymous types</i>, then no, they have proper properties as regular types does. In other words, if you feed it a collection of objects you constructed as <code>new { A = 42, B = &quot;Meaning of life&quot; }</code>, then you would find properties A and B on T. If you mean <i>dynamic</i> or just <i><code>object</code></i>, then you&#39;re right, you can&#39;t infer properties of each object from looking at the type of the collection, you need to query the type of each object."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 4149576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86e170d76144b86cd79596b0b50ccb3?s=128&d=identicon&r=PG&f=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/4149576/leo"}, "edited": false, "score": 0, "creation_date": 1577976056, "post_id": 59553180, "comment_id": 105298089, "body": "Thank you for your assistance, it is close to what I was trying to achieve, however that appears to be impossible (properties of anonymous objects, as they can be different with each element in an IEnumerable)"}], "tags": [], "owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "is_accepted": false, "score": 1, "last_activity_date": 1577889480, "last_edit_date": 1577889480, "creation_date": 1577887481, "answer_id": 59553180, "question_id": 59544840, "link": "https://stackoverflow.com/questions/59544840/getting-properties-of-ienumerablet-where-t-is-object/59553180#59553180", "title": "Getting properties of IEnumerable&lt;T&gt; (where T is object)", "body": "<p>I'm not sure this is what you want, but the method below takes the first element of the list and returns it's properties.</p>\n\n<pre><code>public IEnumerable&lt;string&gt; PropertiesFromType&lt;T&gt;(IEnumerable&lt;T&gt; input)\n{\n    var item = input.First();\n    var properties = new List&lt;string&gt;();\n\n    foreach (PropertyInfo property in item.GetType().GetProperties())\n    {\n        properties.Add(property.Name);\n    }\n\n    return properties;\n}\n</code></pre>\n\n<p>Usage example</p>\n\n<pre><code>public class Book\n{\n    public int ID { get; set; }\n    public string Name { get; set; }\n    public DateTime PublishDate { get; set; }\n}\n\nvar PropertyList = PropertiesFromType&lt;Book&gt;(MyListOfBooks);\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 4149576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86e170d76144b86cd79596b0b50ccb3?s=128&d=identicon&r=PG&f=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/4149576/leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577975956, "creation_date": 1577799552, "last_edit_date": 1577975956, "question_id": 59544840, "link": "https://stackoverflow.com/questions/59544840/getting-properties-of-ienumerablet-where-t-is-object", "title": "Getting properties of IEnumerable&lt;T&gt; (where T is object)", "body": "<p>I have the following function:</p>\n\n<pre><code>public IEnumerable&lt;string&gt; PropertiesFromType&lt;T&gt;(IEnumerable&lt;T&gt; input)\n</code></pre>\n\n<p>From the type (<code>T</code>), I would like to get the names of the properties.</p>\n\n<p>I have tried the following:</p>\n\n<pre><code>var properties = typeof(T).GetProperties();\n//var properties = input.GetType().GetGenericArguments()[0].GetProperties(); // Doesn't work either\nforeach (var item in properties)\n{\n    Console.WriteLine(item.Name);\n}\n\n// By input it does work\nvar inputProperties = input.First().GetType().GetProperties();\nforeach (var item in inputProperties)\n{\n    Console.WriteLine(item.Name);\n}\n</code></pre>\n\n<p>When sending an anonymous <code>IEnumerable&lt;object&gt;</code> into the function, it has no properties when retrieving the <code>Type</code> from <code>T</code>. </p>\n\n<p>However, when using the <code>Type</code> of an item in the <code>IEnumerable</code>, it does have properties. </p>\n\n<p>As suggested by: <a href=\"https://stackoverflow.com/questions/557340/how-to-get-the-type-of-t-from-a-member-of-a-generic-class-or-method/557349#557349\">How to get the type of T from a member of a generic class or method?</a> using the GetGenericArguments function neither returns properties.</p>\n\n<p>Example: <a href=\"https://dotnetfiddle.net/Widget/uKzO6H\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/Widget/uKzO6H</a></p>\n\n<p>Edit:\nI guess what I was trying to say: Is it possible to get the <code>Type</code> of anonymous objects in an <code>IEnumerable</code> without having an instance of, by using the <code>T</code>.</p>\n\n<p>I now realize that is impossible, as <code>T</code> will always be <code>object</code> for anonymous objects.</p>\n"}, {"tags": ["c#", "audit", "change-tracking"], "owner": {"reputation": 6411, "user_id": 262892, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4475c6117177c777780754bf0c3b3e3c?s=128&d=identicon&r=PG", "display_name": "awj", "link": "https://stackoverflow.com/users/262892/awj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577799286, "creation_date": 1577799286, "question_id": 59544794, "link": "https://stackoverflow.com/questions/59544794/graphing-directional-user-assignments", "title": "Graphing directional user assignments", "body": "<p>I have a DB table which records changes made to orders. One of the properties on the order object is the ID of the administrator. When an administrator goes out-of-office they have the option of assigning a replacement; the replacement can then assign someone to replace themselves, who can then assign a replacement...</p>\n\n<p>Each time a replacement is assigned the order is updated and an audit trail is created in a DB table named <code>audit_log</code>.</p>\n\n<p>When an administrator returns to work they can remove their replacement, which should then cause their orders to be reassigned to them. This seems a simple problem but I'm having trouble with the logic behind deciding which orders should be reassigned. For example, take a look at the image below...</p>\n\n<p><a href=\"https://i.stack.imgur.com/rMscK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rMscK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now look what happens if <code>Admin 1</code> returns...</p>\n\n<p><a href=\"https://i.stack.imgur.com/lblKw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lblKw.png\" alt=\"enter image description here\"></a></p>\n\n<p>...so far so good, but if <code>Admin 2</code> <em>then</em> returns...</p>\n\n<p><a href=\"https://i.stack.imgur.com/XwIiJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XwIiJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>...<code>Admin 2</code> would be mistakenly reassigning an order from <code>Admin 1</code> because the audit log shows that <code>Admin 2</code> had previously reassigned it to <code>Admin 3</code> prior to leaving the office. But that order <em>shouldn't</em> be reassigned from <code>Admin 1</code> to <code>Admin 2</code> - it belongs to <code>Admin 1</code> and <code>Admin 1</code> is not out-of-office.</p>\n\n<p>Consider the scenario where the order gets reassigned through 5 different administrators, then <code>Admin 3</code> returns and reclaims the order from <code>Admin 5</code>; if <code>Admin 4</code> <em>then</em> returns they should not be assigned the order, but if <code>Admin 1</code> or <code>Admin 2</code> returns then they should reclaim the order from <code>Admin 3</code>.</p>\n\n<p>What this needs is a way of graphing the changes in assignment, then detecting which orders have been assigned <em>ahead of</em> a user but not <em>behind</em> a user, where...  </p>\n\n<ul>\n<li><em>ahead of</em> = a user who is to the right of a context user in the above images (<code>Admin 3</code> being <em>ahead of</em> <code>Admin 2</code>)  </li>\n<li><em>behind</em> = a user who is to the left of a context user in above images (<code>Admin 1</code> being <em>behind</em> <code>Admin 2</code>)</li>\n</ul>\n\n<p>...but I just don't know how to build this? Are there any well-known algorithms or patterns from building such a graph, and any pointers as to how to implement such in C#?</p>\n\n<p>Some additional information: The records in the <code>audit_log</code> DB table also have <code>id</code> and <code>recorded</code> (DateTime2) fields, so they can be retrieved in chronological order.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 0, "creation_date": 1577802026, "post_id": 59544750, "comment_id": 105259318, "body": "In C# you usually just use <code>int</code> for integer numbers regardless if your numbers are much smaller. So is there a reason why you used <code>sbyte</code>? Where does your error happen? I guess at <code>return sbNumber</code> because you have declared that your method returns an int, but sbNumber is an sbyte. Btw it should be <code>sbNumber &gt; 11</code>."}, {"owner": {"reputation": 11, "user_id": 12367418, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5rLzWOrFRqA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfkPO_fBRs63n3fW_ZOtZye0nN2MA/photo.jpg?sz=128", "display_name": "Burned Burned", "link": "https://stackoverflow.com/users/12367418/burned-burned"}, "reply_to_user": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 0, "creation_date": 1577902304, "post_id": 59544750, "comment_id": 105278375, "body": "yeah so my teacher wants us to use whenever possible byte to make sure its a good use of memory"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 6336241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hHeqZ.jpg?s=128&g=1", "display_name": "Mehri Zareie", "link": "https://stackoverflow.com/users/6336241/mehri-zareie"}, "is_accepted": true, "score": 1, "last_activity_date": 1577808431, "creation_date": 1577808431, "answer_id": 59546299, "question_id": 59544750, "link": "https://stackoverflow.com/questions/59544750/using-byte-sbyte-and-it-cant-convert/59546299#59546299", "title": "using byte/sbyte and it cant convert", "body": "<p>Return type of static function is <code>int</code>. It Cannot implicitly convert type <code>int</code> to <code>byte</code> . For explicit conversion use this: <code>byte iNumber1 = (byte)DataVaildation();</code></p>\n"}], "owner": {"reputation": 11, "user_id": 12367418, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5rLzWOrFRqA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfkPO_fBRs63n3fW_ZOtZye0nN2MA/photo.jpg?sz=128", "display_name": "Burned Burned", "link": "https://stackoverflow.com/users/12367418/burned-burned"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 59546299, "answer_count": 1, "score": 0, "last_activity_date": 1577808431, "creation_date": 1577798998, "question_id": 59544750, "link": "https://stackoverflow.com/questions/59544750/using-byte-sbyte-and-it-cant-convert", "title": "using byte/sbyte and it cant convert", "body": "<p>so i am trying to change my code from being int into byte as my teacher want to make sure that we know how do that however i have no idea how i would do that because i am very rusty on c#. my goal is to have inumber1, inumber2 and iresult as byte but its \"Cannot implicitly convert type 'int' to 'byte'. An explicit conversion exists (are you missing a cast?)\". can someone help?</p>\n\n<pre><code> private static int DataVaildation()\n    {\n\n        //variables\n        bool bUserInput;\n        sbyte sbNumber;\n\n        //below is a loop that runs at least once. the loop continues\n        //iterating while the condition evaluates to true, otherwise it ends\n        //and control goes to the statement immediately after it. \n        do\n        {\n            Console.Write(\"Please enter a number: \");\n            //converts string into int\n            bUserInput = sbyte.TryParse(Console.ReadLine(), out sbNumber);\n            //this will be true if the user input could not be converted for instance a word is used\n            if (!bUserInput)\n            {\n                Console.WriteLine(\"Input is not a number please input a number between -10 and +10\");\n                continue;\n            }\n\n            //the validation so if the inputted number from the user it will reject int and do the console.writeline.\n            if (sbNumber &lt; -11 || sbNumber &lt; 11)\n            {\n                //the error message\n                Console.WriteLine(\"Your are out of range please stay between -10 and +10\");\n\n                bUserInput = false;\n            }\n\n            //the number is in range\n            else\n            {\n                Console.WriteLine(\"Vaild number!\");\n                //if bUserInput is true then the loop can end.\n                bUserInput = true;\n            }\n        } while (!bUserInput); //while this evaluates to true, the loop continues.\n\n        return sbNumber;\n\n\n\n    }\n\n\n    //option 4\n    private static void AddingNegitiveAndPossitiveNumbers()\n    {\n        Console.WriteLine(\"Please give me 2 number between -10 and +10 and ill add them together\\n\");\n        //calls apon the private static int above \n        byte iNumber1 = DataVaildation();\n        int iNumber2 = DataVaildation();\n\n        //the adding will be done here\n        int iResult = iNumber1 + iNumber2;\n\n        Console.WriteLine(\"The sum of {0} + {1} is {2}\", iNumber1, iNumber2, iResult);\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "edited": false, "score": 1, "creation_date": 1577799143, "post_id": 59544693, "comment_id": 105258433, "body": "which version of .net core"}, {"owner": {"reputation": 5, "user_id": 9230061, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KEOpJzQqM_Y/AAAAAAAAAAI/AAAAAAAAAD0/Kr6MPahi7iA/photo.jpg?sz=128", "display_name": "Toy99", "link": "https://stackoverflow.com/users/9230061/toy99"}, "reply_to_user": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "edited": false, "score": 0, "creation_date": 1577799603, "post_id": 59544693, "comment_id": 105258601, "body": "@Gauravsa 2.1.8 preview"}, {"owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "edited": false, "score": 0, "creation_date": 1577799641, "post_id": 59544693, "comment_id": 105258615, "body": "ok, i have updated the answer"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 9230061, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KEOpJzQqM_Y/AAAAAAAAAAI/AAAAAAAAAD0/Kr6MPahi7iA/photo.jpg?sz=128", "display_name": "Toy99", "link": "https://stackoverflow.com/users/9230061/toy99"}, "edited": false, "score": 0, "creation_date": 1577799779, "post_id": 59544751, "comment_id": 105258657, "body": "So if I update my .Net Core to 3.0, should .FromXmlString work ?"}, {"owner": {"reputation": 5, "user_id": 9230061, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KEOpJzQqM_Y/AAAAAAAAAAI/AAAAAAAAAD0/Kr6MPahi7iA/photo.jpg?sz=128", "display_name": "Toy99", "link": "https://stackoverflow.com/users/9230061/toy99"}, "edited": false, "score": 0, "creation_date": 1577800109, "post_id": 59544751, "comment_id": 105258754, "body": "Well, I have all the project in .Net core 2.1.8, will it affect the whole project if I update it to 3.0 ?"}, {"owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "reply_to_user": {"reputation": 5, "user_id": 9230061, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KEOpJzQqM_Y/AAAAAAAAAAI/AAAAAAAAAD0/Kr6MPahi7iA/photo.jpg?sz=128", "display_name": "Toy99", "link": "https://stackoverflow.com/users/9230061/toy99"}, "edited": false, "score": 0, "creation_date": 1577800135, "post_id": 59544751, "comment_id": 105258764, "body": "ok, then you can use the extension method provided in the link"}, {"owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "reply_to_user": {"reputation": 5, "user_id": 9230061, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KEOpJzQqM_Y/AAAAAAAAAAI/AAAAAAAAAD0/Kr6MPahi7iA/photo.jpg?sz=128", "display_name": "Toy99", "link": "https://stackoverflow.com/users/9230061/toy99"}, "edited": false, "score": 0, "creation_date": 1577800261, "post_id": 59544751, "comment_id": 105258803, "body": "if it works, please mark it as answer. thanks and have agreat new year"}], "tags": [], "owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "is_accepted": false, "score": 0, "last_activity_date": 1577799556, "last_edit_date": 1577799556, "creation_date": 1577799013, "answer_id": 59544751, "question_id": 59544693, "link": "https://stackoverflow.com/questions/59544693/rsa-fromxmlstring-operation-is-not-supported-on-this-platform/59544751#59544751", "title": "RSA.FromXmlString &#39;Operation is not supported on this platform.&#39;", "body": "<p>Assuming its .Net Core, it doesnot have a FromXmlString. However, you can try using this as extension methods:</p>\n\n<p><a href=\"https://gist.github.com/Jargon64/5b172c452827e15b21882f1d76a94be4/\" rel=\"nofollow noreferrer\">https://gist.github.com/Jargon64/5b172c452827e15b21882f1d76a94be4/</a></p>\n\n<p>In .net core 3.0, its available. Either update to .net core 3 or use the extension methods. hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 12716290, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD5b_Qc1xAjPSeJtiq1Q5jXhYKevIGRo06xmzM4Tg=k-s128", "display_name": "Mahbobeh Porniazi", "link": "https://stackoverflow.com/users/12716290/mahbobeh-porniazi"}, "is_accepted": false, "score": 0, "last_activity_date": 1586426928, "creation_date": 1586426928, "answer_id": 61118734, "question_id": 59544693, "link": "https://stackoverflow.com/questions/59544693/rsa-fromxmlstring-operation-is-not-supported-on-this-platform/61118734#61118734", "title": "RSA.FromXmlString &#39;Operation is not supported on this platform.&#39;", "body": "<p>if you work on .netcor2 it does not support.after .net core 3 its support.</p>\n"}], "owner": {"reputation": 5, "user_id": 9230061, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KEOpJzQqM_Y/AAAAAAAAAAI/AAAAAAAAAD0/Kr6MPahi7iA/photo.jpg?sz=128", "display_name": "Toy99", "link": "https://stackoverflow.com/users/9230061/toy99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1295, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1586426928, "creation_date": 1577798654, "last_edit_date": 1577798859, "question_id": 59544693, "link": "https://stackoverflow.com/questions/59544693/rsa-fromxmlstring-operation-is-not-supported-on-this-platform", "title": "RSA.FromXmlString &#39;Operation is not supported on this platform.&#39;", "body": "<p>I'm trying to do a unit test on my Hybrid encryption and decryption but I'm having an error of 'Operation is not supported on this platform.'.</p>\n\n<p>I'm calling the declared as string private, which in result it's getting the private key. Then this method calls the method 2, which is supposed to Digital Sign a file using the private key.</p>\n\n<pre><code>    byte[] sign = new Encryp().DigitalSign(privatekey, memFile);\n</code></pre>\n\n<p>Method 2:</p>\n\n<pre><code>    public byte[] DigitalSign(string privateKey, MemoryStream data)\n    {\n        RSACryptoServiceProvider RSA = new RSACryptoServiceProvider();\n        RSA.FromXmlString(privateKey); //Line which triggers the error\n\n        byte[] hash = Hash(dataToBeSigned.ToArray());\n        byte[] signture = RSA.SignHash(hash, \"SHA512\");\n\n        return signture;\n    }\n</code></pre>\n"}, {"tags": ["c#", "mono", "collision", "godot", "collider"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 12624943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1967bdb60d2db6f4387d405b81410af?s=128&d=identicon&r=PG&f=1", "display_name": "Ufuk Bakan", "link": "https://stackoverflow.com/users/12624943/ufuk-bakan"}, "edited": false, "score": 1, "creation_date": 1577805697, "post_id": 59545337, "comment_id": 105260550, "body": "I cant use Collide.Collider.Name error : Object&#39; does not contain a definition for &#39;Name&#39; and no extension method &#39;Name&#39; accepting a first argument of type &#39;Object&#39; could be found (are you missing a using directive or an assembly reference?)"}], "tags": [], "owner": {"reputation": 5163, "user_id": 1435461, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/05f6236ee5ec04b27e27f504ebdd3744?s=128&d=identicon&r=PG", "display_name": "rcorre", "link": "https://stackoverflow.com/users/1435461/rcorre"}, "is_accepted": false, "score": 0, "last_activity_date": 1577802557, "creation_date": 1577802557, "answer_id": 59545337, "question_id": 59544681, "link": "https://stackoverflow.com/questions/59544681/godot-how-to-get-colliders-parent-name-c-godot-mono-v3-1-2-stable/59545337#59545337", "title": "Godot How to get Colliders Parent Name (C# godot mono v3.1.2 stable)", "body": "<p>First take a look at the docs for <a href=\"https://docs.godotengine.org/en/3.1/classes/class_kinematicbody.html#class-kinematicbody-method-move-and-collide\" rel=\"nofollow noreferrer\"><code>KinematicBody.move_and_collide</code></a>:</p>\n\n<blockquote>\n  <p>Returns a KinematicCollision, which contains information about the collision.</p>\n</blockquote>\n\n<p>The docs for <a href=\"https://docs.godotengine.org/en/3.1/classes/class_kinematiccollision.html#class-kinematiccollision\" rel=\"nofollow noreferrer\"><code>KinematicCollision</code></a> list a number of fields, one of which is <a href=\"https://docs.godotengine.org/en/3.1/classes/class_kinematiccollision.html#class-kinematiccollision-property-collider\" rel=\"nofollow noreferrer\"><code>collider</code></a>:</p>\n\n<blockquote>\n  <p>The colliding body.</p>\n</blockquote>\n\n<p>Note that the body is the <code>PhysicsBody</code> that owns a collision shape, <em>not</em> the collision shape itself (the latter is stored in <code>collider_shape</code>). This means that <code>collider</code> will be the <code>StaticBody</code> in your example, so we can just do:</p>\n\n<pre><code>    var Collide = MoveAndCollide(new Vector2(speed.y * (float)Math.Cos(teta), speed.y * (float)Math.Sin(teta)));\n    if (Collide != null)\n    {\n        print(Collide.Collider.Name)\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 12624943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1967bdb60d2db6f4387d405b81410af?s=128&d=identicon&r=PG&f=1", "display_name": "Ufuk Bakan", "link": "https://stackoverflow.com/users/12624943/ufuk-bakan"}, "is_accepted": true, "score": 0, "last_activity_date": 1577809203, "creation_date": 1577809203, "answer_id": 59546413, "question_id": 59544681, "link": "https://stackoverflow.com/questions/59544681/godot-how-to-get-colliders-parent-name-c-godot-mono-v3-1-2-stable/59546413#59546413", "title": "Godot How to get Colliders Parent Name (C# godot mono v3.1.2 stable)", "body": "<p>I found solution myself this one works :</p>\n\n<pre><code>    var Collide = MoveAndCollide(new Vector2(speed.y * (float)Math.Cos(teta), speed.y * (float)Math.Sin(teta)));\n    //Just defined a MoveAndCollide\n\n    if (Collide != null)\n    {\n        var x = (Godot.Node2D)Collide.Collider;\n\n        //Use collider as a Godot Node or Node2D\n        //then you can access Node properties and method like GetName()\n\n        GD.PrintS(x.GetName()); // Returned speedBoost for me\n    }\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 12624943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1967bdb60d2db6f4387d405b81410af?s=128&d=identicon&r=PG&f=1", "display_name": "Ufuk Bakan", "link": "https://stackoverflow.com/users/12624943/ufuk-bakan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1088, "favorite_count": 0, "accepted_answer_id": 59546413, "answer_count": 2, "score": 0, "last_activity_date": 1577809203, "creation_date": 1577798586, "last_edit_date": 1577798675, "question_id": 59544681, "link": "https://stackoverflow.com/questions/59544681/godot-how-to-get-colliders-parent-name-c-godot-mono-v3-1-2-stable", "title": "Godot How to get Colliders Parent Name (C# godot mono v3.1.2 stable)", "body": "<p>I have this code :</p>\n\n<pre><code>    var Collide = MoveAndCollide(new Vector2(speed.y * (float)Math.Cos(teta), speed.y * (float)Math.Sin(teta)));\n    if (Collide != null)\n    {\n        /* I need to get colliding objects parent node name here*/\n    }\n</code></pre>\n\n<p>Here is my tree hierarchy:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qlCCg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qlCCg.png\" alt=\"Hyerarchy\"></a></p>\n\n<p>Red ones are objects which are colliding. Green one is which one i want to get its name in string format.</p>\n"}, {"tags": ["c#", "mvvm", "view", "datacontext", "mahapps.metro"], "answers": [{"tags": [], "owner": {"reputation": 13840, "user_id": 1177147, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/zHhAS.jpg?s=128&g=1", "display_name": "Mark Feldman", "link": "https://stackoverflow.com/users/1177147/mark-feldman"}, "is_accepted": false, "score": 0, "last_activity_date": 1577847019, "creation_date": 1577847019, "answer_id": 59549722, "question_id": 59544670, "link": "https://stackoverflow.com/questions/59544670/wpf-mvvm-and-switching-views-into-one-mainview/59549722#59549722", "title": "WPF - MVVM and switching VIEWs into one mainview", "body": "<p>Welcome to SO!</p>\n\n<p>The usual way to implement this is with a ContentControl and a DataTemplate. Typically your main view model will look something like this:</p>\n\n<pre><code>public class MainViewModel : ViewModelBase\n{\n    private object _CurrentPage;\n    public object CurrentPage\n    {\n        get { return this._CurrentPage; }\n        set\n        {\n            if (this._CurrentPage != value)\n            {\n                this._CurrentPage = value;\n                RaisePropertyChanged(() =&gt; this.CurrentPage); // &lt;--- important that you do this\n            }\n        }\n    }\n</code></pre>\n\n<p>You'll then create a view model class (e.g. MyPageViewModel) for each page type you want to display. In your MainWindow XAML you add a ContentControl like this:</p>\n\n<pre><code>&lt;ContentControl Content=\"{Binding CurrentPage}\" /&gt;\n</code></pre>\n\n<p>Then you use a DataTemplate to tell WPF how to populate the content control whenever its Content is bound to an instance of your view model class:</p>\n\n<pre><code>&lt;!-- can put put in your Window.Resources block or App.xaml resources block --&gt;\n&lt;DataTemplate DataType=\"{x:Type MyPageViewModel\"&gt;\n    &lt;Grid&gt;  &lt;!-- could also use a custom control if you like --&gt;\n    &lt;/Grid&gt;\n&lt;/DataTemplate&gt;\n</code></pre>\n\n<p>When you create an instance of MyPageViewModel and assign it to CurrentPage you'll see the CustomControl populate with the DataTemplate.</p>\n"}], "owner": {"reputation": 1, "user_id": 7003967, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Vv2B_lGMBHs/AAAAAAAAAAI/AAAAAAAAJ14/--02Zmwu7JE/photo.jpg?sz=128", "display_name": "Ale\u0161 Kr&#225;tk&#253;", "link": "https://stackoverflow.com/users/7003967/ale%c5%a1-kr%c3%a1tk%c3%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577847019, "creation_date": 1577798539, "question_id": 59544670, "link": "https://stackoverflow.com/questions/59544670/wpf-mvvm-and-switching-views-into-one-mainview", "title": "WPF - MVVM and switching VIEWs into one mainview", "body": "<p>i am new to C# and WPF, so sorry for my question :)</p>\n\n<p>I have one mainview, and many views (user control element). I want show in mainview after click on menu (mahapps hamburgermenu) selected view from /Views/homepage.xaml or /Views/credits.xaml etc.</p>\n\n<p>i have working code with GalaSoft.MvvmLight and mahapps haburger menu BUT :</p>\n\n<p>every click on menu show current view (its still ok) but create new instance instead re-show created view. Because i have in sub-views textboxes, checkboxes etc with user filled values, everytime i click on menu, view are loaded complete new and all values are cleared.</p>\n\n<p>i dont know, if is my problem clear :-D\nSimply : i need one mainview that open inside other views, but not creating new intances,but show always view with user data content if is filled before</p>\n\n<p>here is code : <a href=\"https://github.com/sgamescz/HH6C\" rel=\"nofollow noreferrer\">https://github.com/sgamescz/HH6C</a></p>\n"}, {"tags": ["c#", "sql", "asp.net-core", "razor-pages"], "comments": [{"owner": {"reputation": 984, "user_id": 5230358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df75ddc56b95fd1ddb6cd672769dac4f?s=128&d=identicon&r=PG&f=1", "display_name": "Seyedraouf Modarresi", "link": "https://stackoverflow.com/users/5230358/seyedraouf-modarresi"}, "edited": false, "score": 0, "creation_date": 1577799532, "post_id": 59544563, "comment_id": 105258579, "body": "You have a missing column &quot;Invalid column name &#39;OfficerID&#39;&quot;, pleas fix it at first."}, {"owner": {"reputation": 98, "user_id": 6860106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214456fd522c2e50b33d96d26b18322b?s=128&d=identicon&r=PG&f=1", "display_name": "Rob C", "link": "https://stackoverflow.com/users/6860106/rob-c"}, "reply_to_user": {"reputation": 984, "user_id": 5230358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df75ddc56b95fd1ddb6cd672769dac4f?s=128&d=identicon&r=PG&f=1", "display_name": "Seyedraouf Modarresi", "link": "https://stackoverflow.com/users/5230358/seyedraouf-modarresi"}, "edited": false, "score": 0, "creation_date": 1577800019, "post_id": 59544563, "comment_id": 105258728, "body": "I do have this column in the SecurityLogOfficer table and also in the SecurityLogOfficer Model.  Is it needed elsewhere?"}], "answers": [{"comments": [{"owner": {"reputation": 98, "user_id": 6860106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214456fd522c2e50b33d96d26b18322b?s=128&d=identicon&r=PG&f=1", "display_name": "Rob C", "link": "https://stackoverflow.com/users/6860106/rob-c"}, "edited": false, "score": 0, "creation_date": 1577807699, "post_id": 59544883, "comment_id": 105261233, "body": "I&#39;m confused.  The property, OfficerID, is only declared in SecurityLogOfficer.cs.  In the SecurityLog\\Index page, I am referencing the FullName property from Officer.cs.  This is being accessed via the public virtual Officer get; set; property."}, {"owner": {"reputation": 98, "user_id": 6860106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214456fd522c2e50b33d96d26b18322b?s=128&d=identicon&r=PG&f=1", "display_name": "Rob C", "link": "https://stackoverflow.com/users/6860106/rob-c"}, "edited": false, "score": 0, "creation_date": 1577988624, "post_id": 59544883, "comment_id": 105303882, "body": "Update - If I add the column, &#39;OfficerID&#39; to the SecurityLog table, which I don&#39;t want to do... the error message goes away the securitylog index page adds two distinct rows for the same event because there are 2 security officers assigned to the event.  How could I get the security officers to show in one column with a list of comma concatenated officers?"}, {"owner": {"reputation": 98, "user_id": 6860106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214456fd522c2e50b33d96d26b18322b?s=128&d=identicon&r=PG&f=1", "display_name": "Rob C", "link": "https://stackoverflow.com/users/6860106/rob-c"}, "edited": false, "score": 0, "creation_date": 1578406891, "post_id": 59544883, "comment_id": 105422400, "body": "The biggest problem I&#39;m having is that I am trying to post values and there&#39;s no direct field to bind to in my model.  I have seen some posts that handle this with MVC but have not seen any examples without controllers, actions and views.  How can I do this with just asp.net web application razor pages?"}], "tags": [], "owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "is_accepted": false, "score": 0, "last_activity_date": 1577799860, "creation_date": 1577799860, "answer_id": 59544883, "question_id": 59544563, "link": "https://stackoverflow.com/questions/59544563/unable-to-save-multiple-selections-in-select-lists-in-a-razor-page-form/59544883#59544883", "title": "Unable to save multiple selections in select lists in a razor page form", "body": "<p>As per the error description, Officer table only has ID column. It doesnt have OfficerID Column. Try changing the code to reflect the ID column.</p>\n"}], "owner": {"reputation": 98, "user_id": 6860106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214456fd522c2e50b33d96d26b18322b?s=128&d=identicon&r=PG&f=1", "display_name": "Rob C", "link": "https://stackoverflow.com/users/6860106/rob-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577799860, "creation_date": 1577797937, "question_id": 59544563, "link": "https://stackoverflow.com/questions/59544563/unable-to-save-multiple-selections-in-select-lists-in-a-razor-page-form", "title": "Unable to save multiple selections in select lists in a razor page form", "body": "<p>Here I am able to bind the multi-select select list.  And when I attempt to save I do not get an error but it does not save the officer information.</p>\n\n<p><a href=\"https://i.stack.imgur.com/G00H4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G00H4.png\" alt=\"Multi-select binding\"></a></p>\n\n<p>And here is the error while trying to load the page</p>\n\n<blockquote>\n  <p>An unhandled exception occurred while processing the request.\n  SqlException: Invalid column name 'OfficerID'.\n  Microsoft.Data.SqlClient.SqlCommand+&lt;>c.b__164_0(Task\n  result)</p>\n  \n  <p>Stack Query Cookies Headers Routing SqlException: Invalid column name\n  'OfficerID'.\n  Microsoft.Data.SqlClient.SqlCommand+&lt;>c.b__164_0(Task\n  result)\n  System.Threading.Tasks.ContinuationResultTaskFromResultTask.InnerInvoke()\n  System.Threading.Tasks.Task+&lt;>c.&lt;.cctor>b__274_0(object obj)\n  System.Threading.ExecutionContext.RunInternal(ExecutionContext\n  executionContext, ContextCallback callback, object state)\n  System.Threading.Tasks.Task.ExecuteWithThreadLocal(ref Task\n  currentTaskSlot, Thread threadPoolThread)\n  Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject\n  parameterObject, CancellationToken cancellationToken)\n  Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject\n  parameterObject, CancellationToken cancellationToken)\n  Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject\n  parameterObject, CancellationToken cancellationToken)\n  Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable+AsyncEnumerator.InitializeReaderAsync(DbContext\n  _, bool result, CancellationToken cancellationToken) Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync(TState state, Func> operation, Func>> verifySucceeded, CancellationToken\n  cancellationToken)\n  Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable+AsyncEnumerator.MoveNextAsync()\n  Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync(IQueryable\n  source, CancellationToken cancellationToken)\n  Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync(IQueryable\n  source, CancellationToken cancellationToken)\n  SecurityCore.PaginatedList.CreateAsync(IQueryable source, int\n  pageIndex, int pageSize) in PaginatedList.cs\n  +\n              var items = await source.Skip( SecurityCore.Pages.SecurityLogs.IndexModel.OnGetAsync(string\n  sortOrder, string currentFilter, string searchString, Nullable\n  pageIndex, string entitySelect) in Index.cshtml.cs\n  +\n              SecurityLog = await PaginatedList.CreateAsync(sort\n  Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.ExecutorFactory+NonGenericTaskHandlerMethod.Execute(object\n  receiver, object[] arguments)\n  Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.InvokeHandlerMethodAsync()\n  Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.InvokeNextPageFilterAsync()\n  Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.Rethrow(PageHandlerExecutedContext\n  context)\n  Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.Next(ref\n  State next, ref Scope scope, ref object state, ref bool isCompleted)\n  Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.InvokeInnerFilterAsync()\n  Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.g__Awaited|24_0(ResourceInvoker\n  invoker, Task lastTask, State next, Scope scope, object state, bool\n  isCompleted)\n  Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed\n  context)\n  Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(ref State\n  next, ref Scope scope, ref object state, ref bool isCompleted)\n  Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.g__Awaited|19_0(ResourceInvoker\n  invoker, Task lastTask, State next, Scope scope, object state, bool\n  isCompleted)\n  Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.g__Logged|17_1(ResourceInvoker\n  invoker)\n  Microsoft.AspNetCore.Routing.EndpointMiddleware.g__AwaitRequestTask|6_0(Endpoint\n  endpoint, Task requestTask, ILogger logger)\n  Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext\n  context)\n  Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext\n  context)</p>\n</blockquote>\n\n<p><strong>Here is my code...</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing Microsoft.AspNetCore.Mvc;\nusing Microsoft.AspNetCore.Mvc.RazorPages;\nusing Microsoft.AspNetCore.Mvc.Rendering;\nusing Microsoft.EntityFrameworkCore;\nusing SecurityCore.Models;\nusing System.ComponentModel.DataAnnotations;\n\nnamespace SecurityCore.Pages.SecurityLogs\n{\n    public class IndexModel : PageModel\n    {\n        private readonly SecurityCore.Models.SecurityCoreContext _context;\n\n        public IndexModel(SecurityCore.Models.SecurityCoreContext context)\n        {\n            _context = context;\n        }\n\n\n        public string EventDateSort { get; set; }\n        public string EventStartSort { get; set; }\n        public string EventEndSort { get; set; }\n        public string ContactNameSort { get; set; }\n        public string EventTypeSort { get; set; }\n        public string ShiftRangeSort { get; set; }\n        public string EntitySort { get; set; }\n        public string LocationSort { get; set; }\n        public string NarrativeSort { get; set; }\n        public string OfficerNameSort { get; set; }\n        public string FullNameSort { get; set; }            \n        public string SubjectDOBSort { get; set; }\n        public string RecordLockedSort { get; set; }\n        public string CurrentFilter { get; set; }\n        public string CurrentSort { get; set; }\n        public string IDSort { get; set; }\n\n        public Nullable&lt;DateTime&gt; dateEnd { get; set; }      \n        public Nullable&lt;DateTime&gt; dateBegin { get; set; }\n\n\n        [TempData]\n        public string Message { get; set; }\n\n        public bool ShowMessage =&gt; !string.IsNullOrEmpty(Message);\n        public PaginatedList&lt;SecurityLog&gt; SecurityLog { get; set; }            \n\n\n        public async Task OnGetAsync(string sortOrder, string currentFilter, string searchString, int? pageIndex, string entitySelect)\n        {\n\n            ViewData[\"EntityID\"] = new SelectList(_context.Entity.Where(a =&gt; a.Active == \"Y\"), \"ID\", \"Name\");\n\n            CurrentSort = sortOrder;\n            IDSort = sortOrder == \"ID\" ? \"ID_Desc\" : \"ID\";\n            EventDateSort = sortOrder == \"EventDate\" ? \"EventDate_Desc\" : \"EventDate\";                \n            ContactNameSort = sortOrder == \"ContactName\" ? \"ContactName_Desc\" : \"ContactName\";\n            EventTypeSort = sortOrder == \"EventType\" ? \"EventType_Desc\" : \"EventType\";\n            ShiftRangeSort = sortOrder == \"ShiftRange\" ? \"ShiftRange_Desc\" : \"ShiftRange\";\n            EntitySort = sortOrder == \"Entity\" ? \"Entity_Desc\" : \"Entity\";\n            LocationSort = sortOrder == \"Location\" ? \"Location_Desc\" : \"Location\";\n            NarrativeSort = sortOrder == \"Narrative\" ? \"Narrative_Desc\" : \"Narrative\";\n            FullNameSort = sortOrder == \"FullName\" ? \"FullName_Desc\" : \"FullName\";                \n            RecordLockedSort = sortOrder == \"Locked\" ? \"NotLocked\" : \"Locked\";\n            OfficerNameSort = sortOrder == \"OfficerName\" ? \"OfficerName_Desc\" : \"OfficerName\";\n\n            if (searchString != null)\n            {\n                pageIndex = 1;\n            }\n            else\n            {\n                searchString = currentFilter;\n            }\n\n            CurrentFilter = searchString;\n\n\n            IQueryable&lt;SecurityCore.Models.SecurityLog&gt; sort = from s in _context.SecurityLog select s;\n\n            if (!String.IsNullOrEmpty(searchString))\n            {\n                sort = sort.Where(s =&gt;    s.Narrative.Contains(searchString)                                                                             \n                                       || s.RecordLocked.Contains(searchString)\n                                       || s.EventDate.ToString().Contains(searchString)                                                                                  \n                                       || s.ContactName.Contains(searchString)\n                                       || s.Entity.Name.Contains(searchString)\n                                       || s.Location.Name.Contains(searchString)\n                                       || s.EventType.Name.Contains(searchString)\n                                       || s.ShiftRange.Name.Contains(searchString)\n                                       || s.ID.ToString().Contains(searchString)\n                                       || s.SubjectFirst.Contains(searchString)\n                                       || s.SubjectLast.Contains(searchString)\n                                       || s.Officer.FullName.Contains(searchString)                                           \n                );\n            }\n\n            switch (sortOrder)\n            {\n                case \"ID_Desc\":\n                    sort = sort.OrderByDescending(s =&gt; s.ID);\n                    break;\n                case \"ID\":\n                    sort = sort.OrderBy(s =&gt; s.ID);\n                    break;\n                case \"EventDate\":\n                    sort = sort.OrderBy(s =&gt; s.EventDate);                    \n                    break;                \n                case \"ContactName\":\n                    sort = sort.OrderBy(s =&gt; s.ContactName).ThenBy(s =&gt; s.EventDate);\n                    break;\n                case \"ContactName_Desc\":\n                    sort = sort.OrderByDescending(s =&gt; s.ContactName).ThenBy(s =&gt; s.EventDate);\n                    break;\n                case \"ShiftRange\":\n                    sort = sort.OrderBy(s =&gt; s.ShiftRange.Name).ThenBy(s =&gt; s.EventDate);\n                    break;\n                case \"ShiftRange_Desc\":\n                    sort = sort.OrderByDescending(s =&gt; s.ShiftRange.Name).ThenBy(s =&gt; s.EventDate);\n                    break;\n                case \"EventType\":\n                    sort = sort.OrderBy(s =&gt; s.EventType.Name).ThenBy(s =&gt; s.EventDate);\n                    break;\n                case \"EventType_Desc\":\n                    sort = sort.OrderByDescending(s =&gt; s.EventType.Name).ThenBy(s =&gt; s.EventDate);\n                    break;\n                case \"Entity\":\n                    sort = sort.OrderBy(s =&gt; s.Entity.Name).ThenBy(s =&gt; s.EventDate);\n                    break;\n                case \"Entity_Desc\":\n                    sort = sort.OrderByDescending(s =&gt; s.Entity.Name).ThenBy(s =&gt; s.EventDate);\n                    break;\n                case \"Location\":\n                    sort = sort.OrderBy(s =&gt; s.Location.Name).ThenBy(s =&gt; s.EventDate);\n                    break;\n                case \"Location_Desc\":\n                    sort = sort.OrderByDescending(s =&gt; s.Location.Name).ThenBy(s =&gt; s.EventDate);\n                    break;\n                case \"Narrative\":\n                    sort = sort.OrderBy(s =&gt; s.Narrative).ThenBy(s =&gt; s.EventDate);\n                    break;\n                case \"Narrative_Desc\":\n                    sort = sort.OrderByDescending(s =&gt; s.Narrative).ThenBy(s =&gt; s.EventDate);\n                    break;                                    \n                case \"NotLocked\":\n                    sort = sort.OrderBy(s =&gt; s.RecordLocked).ThenBy(s =&gt; s.EventDate);\n                    break;\n                case \"Locked\":\n                    sort = sort.OrderByDescending(s =&gt; s.RecordLocked).ThenBy(s =&gt; s.EventDate);\n                    break;\n                case \"OfficerName\":\n                    sort = sort.OrderBy(s =&gt; s.Officer.FullName).ThenBy(s =&gt; s.EventDate);\n                    break;\n                case \"OfficerName_Desc\":\n                    sort = sort.OrderByDescending(s =&gt; s.Officer.FullName).ThenBy(s =&gt; s.EventDate);\n                    break;\n                default:\n                    sort = sort.OrderByDescending(s =&gt; s.EventDate);\n                    break;\n            }\n\n            int pageSize = 12;\n\n            SecurityLog = await PaginatedList&lt;SecurityLog&gt;.CreateAsync(sort\n                .Include(a =&gt; a.Entity)\n                .Include(b =&gt; b.EventType)\n                .Include(c =&gt; c.Location)\n                .Include(d =&gt; d.ShiftRange)\n                .Include(e =&gt; e.Officer)\n                .Include(f =&gt; f.SecurityLogOfficer)                    \n                .AsNoTracking(), pageIndex ?? 1, pageSize);           \n\n        }       \n\n    }\n}\n\n\n//The Security Log Model\n\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing System.ComponentModel.DataAnnotations;\nusing System.ComponentModel;\nusing ExpressiveAnnotations.Attributes;\n\nnamespace SecurityCore.Models\n{   \n    public class SecurityLog\n    {        \n        public int ID { get; set; }\n\n        [DataType(DataType.Date)]\n        [DisplayFormat(ApplyFormatInEditMode = true, DataFormatString = \"{0:MM/dd/yyyy}\")]\n        [Required]\n        [Display(Name = \"Event Date\")]           \n        public System.DateTime EventDate { get; set; }\n\n\n        [Required]\n        [Display(Name = \"Shift Range\")]       \n        //[ForeignKey(\"ShiftRange\")]\n        public Nullable&lt;int&gt; ShiftRangeID { get; set; }\n\n        [Required]\n        //[ForeignKey(\"EventType\")]\n        [Display(Name = \"Event Type\")]\n        public Nullable&lt;int&gt; EventTypeID { get; set; }\n\n        [Required]\n        [Display(Name = \"Event Start\")]\n        [DataType(DataType.DateTime)]\n        [DisplayFormat(ApplyFormatInEditMode = true, DataFormatString = \"{0:MM/dd/yyyy  hh:mm}\")]\n        public System.DateTime EventStart { get; set; }            \n\n        [Required]\n        [Display(Name = \"Event End\")]\n        [DataType(DataType.DateTime)]        \n        [DisplayFormat(ApplyFormatInEditMode = true, DataFormatString = \"{0:MM/dd/yyyy  hh:mm}\")]\n        public System.DateTime EventEnd { get; set; }\n\n        [Required]\n        [Display(Name = \"Reporting Person\")]\n        public string ContactName { get; set; }\n\n        [Required]\n        //[ForeignKey(\"Entity\")]\n        [Display(Name = \"Entity\")]\n        public Nullable&lt;int&gt; EntityID { get; set; }\n\n        [Required]\n        //[ForeignKey(\"Location\")]\n        [Display(Name = \"Location\")]\n        public Nullable&lt;int&gt; LocationID { get; set; }\n\n        [Required]\n        public string Narrative { get; set; }\n\n        //Set length of narrative displayed\n        private int NarrativeLimit = 200;\n        [Display(Name = \"Narrative\")]\n        public string NarrativeTrimmed\n        {\n            get\n            {\n                if (Narrative.Length &gt; this.NarrativeLimit)\n                    return this.Narrative.Substring(0, this.NarrativeLimit) + \"...\";\n                else\n                    return this.Narrative;\n            }\n        }\n\n        [Required]\n        [Display(Name = \"Subject's First Name\")]\n        public string SubjectFirst { get; set; }\n\n        [Required]\n        [Display(Name = \"Subject's Last Name\")]\n        public string SubjectLast { get; set; }\n\n\n        [Display(Name = \"Subject's Name\")]\n        public string FullName\n        {\n            get\n            {\n                return SubjectFirst + \" \" + SubjectLast;\n            }            \n        }\n\n        [Display(Name = \"Subject's B#/DOB\")]\n        public string SubjectDOB { get; set; }\n\n        private string _RecordLocked;\n\n        [Display(Name = \"Record Locked?\")]\n        public string RecordLocked \n        {\n            get { return _RecordLocked; }\n            set\n            {\n                _RecordLocked = value;\n                if (_RecordLocked == \"Y\")\n                {\n                    try { \n                    }\n                    catch(Exception ex)\n                    {\n\n                    }\n                }\n            }        \n        }\n\n\n        [Display(Name = \"Entered By\")]\n        public string EnteredBy { get; set; }\n\n        [Display(Name = \"Create Date\")]\n        [ReadOnly(true)]\n        [DataType(DataType.Date)]\n        public Nullable&lt;System.DateTime&gt; CreateDate { get; set; }\n\n        [Display(Name = \"Modified Date\")]        \n        [DataType(DataType.DateTime)]\n        public Nullable&lt;System.DateTime&gt; ModifiedDate { get; set; }                \n\n        [Display(Name = \"Modified By\")]\n        public string ModifiedBy { get; set; }\n\n        [Display(Name =\"Number of Extinguishers\")]        \n        public Nullable&lt;int&gt; ExtinguisherNo { get; set; }\n\n        [Display(Name =\"Total Blankets\")]\n        public Nullable&lt;int&gt; BlanketNo { get; set; }\n\n        [Display(Name =\"Cause of Alarm\")]\n        public string FireAlarmCause { get; set; }\n\n        [Display(Name =\"Doors Closed in Area?\")]\n        public string DoorsClosed { get; set; }\n\n        [Display(Name =\"Number of Staff Responding\")]\n        public Nullable&lt;int&gt; StaffNo { get; set; }\n\n        public virtual Entity Entity { get; set; }\n        public virtual ShiftRange ShiftRange { get; set; }\n        public virtual EventType EventType { get; set; }\n        public virtual Location Location { get; set; }\n        public virtual Officer Officer { get; set; }\n        public virtual SecurityLogOfficer SecurityLogOfficer { get; set; }        \n\n    }\n\n\n}\n\n//The Officer Model\n\nusing System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nusing System.Linq;\nusing System.Threading.Tasks;\n\nnamespace SecurityCore.Models\n{\n    public class Officer\n    {\n        [Required]\n        public int ID { get; set; }\n\n        //[Required]\n        [Display(Name = \"Officer's First Name\")]\n        public string FirstName { get; set; }\n\n        //[Required]\n        [Display(Name = \"Officer's Last Name\")]\n        public string LastName { get; set; }\n\n        [Display(Name = \"Officer's Name\")]\n        public string FullName\n        {\n            get\n            {\n                return FirstName + \" \" + LastName;\n            }\n        }\n\n        [Required]\n        public string Active { get; set; }            \n        public string LoginName { get; set; }     \n        public virtual SecurityLogOfficer SecurityLogOfficer { get; set; }\n\n    }\n}\n\n//The SecurityLogOfficer Model\n\nusing System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nusing System.Linq;\nusing System.Threading.Tasks;\n\nnamespace SecurityCore.Models\n{\n    public class SecurityLogOfficer\n    {\n        [Required]\n        public int ID { get; set; }\n\n        [Required]\n        public int SecurityLogID { get; set; }\n\n        public int OfficerID { get; set; }                 \n    }\n}\n\n\n\n//The Create Page that I am trying to post from\u2026\n\nusing System;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing Microsoft.AspNetCore.Mvc;\nusing Microsoft.AspNetCore.Mvc.RazorPages;\nusing Microsoft.AspNetCore.Mvc.Rendering;\nusing SecurityCore.Models;\n\nnamespace SecurityCore.Pages.SecurityLogs\n{\n    public class CreateModel : PageModel\n    {\n        private readonly SecurityCore.Models.SecurityCoreContext _context;\n\n        public CreateModel(SecurityCore.Models.SecurityCoreContext context)\n        {\n            _context = context;\n        }\n\n        public IActionResult OnGetAsync()\n        {              \n            ViewData[\"EntityID\"] = new SelectList(_context.Entity.Where(a=&gt;a.Active == \"Y\"), \"ID\", \"Name\");\n            ViewData[\"ShiftRangeID\"] = new SelectList(_context.ShiftRange.Where(a=&gt;a.Active == \"Y\"), \"ID\", \"Name\");\n            ViewData[\"LocationID\"] = new SelectList(_context.Location.Where(a=&gt;a.Active == \"Y\"), \"ID\", \"Name\");\n            ViewData[\"EventTypeID\"] = new SelectList(_context.EventType.Where(a=&gt;a.Active == \"Y\"), \"ID\",\"Name\");\n            ViewData[\"Officer\"] = new SelectList(_context.Officer.Where(a =&gt; a.Active == \"Y\"), \"ID\", \"FullName\");\n\n            return Page();\n        }\n\n        [TempData]\n        public string Message { get; set; }\n\n        [BindProperty]\n        public SecurityLog SecurityLog { get; set; }\n\n        [BindProperty(SupportsGet = true)]\n        public int entity { get; set; }\n        public int eventType { get; set; }\n\n\n        SelectList FilteredLocation;\n        SelectList FilteredEventType;\n\n        public JsonResult OnGetLocations()\n        {\n\n\n            FilteredLocation = new SelectList(_context.Location.Where(c =&gt; c.EntityID == entity).Where(c =&gt;c.Active == \"Y\").OrderBy(c =&gt;c.Name), \"ID\", \"Name\");\n\n            return new JsonResult(FilteredLocation);\n\n\n        }\n\n        public JsonResult OnGetEventTypes()\n        {\n\n\n            FilteredEventType = new SelectList(_context.EventType.Where(c =&gt; c.EntityID == entity).Where(c =&gt; c.Active == \"Y\").OrderBy(c =&gt; c.Name), \"ID\", \"Name\");\n\n            return new JsonResult(FilteredEventType);     \n\n        }               \n\n\n        // To protect from overposting attacks, please enable the specific properties you want to bind to, for\n        // more details see https://aka.ms/RazorPagesCRUD.\n        public async Task&lt;IActionResult&gt; OnPostAsync()\n        {\n            ModelState.Remove(\"EnteredBy\");\n            ModelState.Remove(\"ModifiedDate\");\n            ModelState.Remove(\"CreateDate\");\n            ModelState.Remove(\"ModifiedBy\");\n            ModelState.Remove(\"RecordLocked\");\n\n\n            if (!ModelState.IsValid)\n            {\n                return Page();\n            }\n\n            SecurityLog.EnteredBy = User.Identity.Name;\n            SecurityLog.ModifiedDate = DateTime.Now;\n            SecurityLog.CreateDate = DateTime.Now;\n            SecurityLog.ModifiedBy = User.Identity.Name;\n            SecurityLog.RecordLocked = \"N\";\n\n            _context.SecurityLog.Add(SecurityLog);\n            await _context.SaveChangesAsync();\n\n            Message = \"Entry added successfully!\";\n\n            return RedirectToPage(\"Index\");\n\n        }\n\n\n\n    }\n}\n</code></pre>\n\n<p><strong>And here is my database schema and sample results</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/odt5K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/odt5K.png\" alt=\"Sql Database Schema\"></a></p>\n\n<p>Any assistance would be appreciated!</p>\n"}, {"tags": ["c#", "unity3d", "estimote"], "comments": [{"owner": {"reputation": 340, "user_id": 704348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6jORa.jpg?s=128&g=1", "display_name": "Antoine", "link": "https://stackoverflow.com/users/704348/antoine"}, "edited": false, "score": 1, "creation_date": 1577808067, "post_id": 59544468, "comment_id": 105261352, "body": "Welcome to Stack Overflow ! Please take some time to follow the <a href=\"https://stackoverflow.com/tour\">Tour</a> and to learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> good questions. An <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> or a summary of your researches would be greatly appreciated."}, {"owner": {"reputation": 697, "user_id": 7837657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ec854a1f8a312c44f0e6cd7359376172?s=128&d=identicon&r=PG&f=1", "display_name": "Sacha", "link": "https://stackoverflow.com/users/7837657/sacha"}, "edited": false, "score": 0, "creation_date": 1577808624, "post_id": 59544468, "comment_id": 105261519, "body": "Please insert important pieces of code in your question. That way you&#39;re making it much easier for people to answer!"}], "owner": {"reputation": 13, "user_id": 11761885, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BfjBlC49h0c/AAAAAAAAAAI/AAAAAAAAAFM/74V9mKzcyKo/photo.jpg?sz=128", "display_name": "ibtissem achour", "link": "https://stackoverflow.com/users/11761885/ibtissem-achour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577808351, "creation_date": 1577797374, "last_edit_date": 1577808351, "question_id": 59544468, "link": "https://stackoverflow.com/questions/59544468/how-to-make-ibeacon-estimode-detect-all-beacons-with-unity", "title": "How to make Ibeacon estimode detect all beacons with unity", "body": "<p>I download the ibeacons asset store from the unity asset store I try to modify it so it can detect all the near estimote beacons because in the asset store I need to add the identified of the beacon so it can detect it, I want to make it detect all the nears beacons automatically without typing the beacon identified in the inputfield  <a href=\"https://github.com/souleimagara/UpLoadeImages/blob/master/Example.txt\" rel=\"nofollow noreferrer\">this is the script that I'm using</a> can anyone help me even a sample idea I have been searching for solutions from a long time.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "rotativa"], "comments": [{"owner": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "edited": false, "score": 1, "creation_date": 1577797382, "post_id": 59544432, "comment_id": 105257841, "body": "Please add the error you got."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12241876"}, "reply_to_user": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "edited": false, "score": 0, "creation_date": 1577797550, "post_id": 59544432, "comment_id": 105257891, "body": "its saying your hitting your function n times"}, {"owner": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "edited": false, "score": 0, "creation_date": 1577797903, "post_id": 59544432, "comment_id": 105258004, "body": "Could you please copy and paste the exactly text of the error? And this error occurs when you call the <code>ViewDetails</code> or <code>Test</code> method?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12241876"}, "reply_to_user": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "edited": false, "score": 0, "creation_date": 1577799559, "post_id": 59544432, "comment_id": 105258591, "body": "Error: Failed loading page <a href=\"http://localhost:49788/InwardReceiption/ViewDetails\" rel=\"nofollow noreferrer\">localhost:49788/InwardReceiption/ViewDetails</a> (sometimes it will work just to ignore this error with --load-error-handling ignore) Exit with code 1, due to unknown error."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12241876"}, "reply_to_user": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "edited": false, "score": 0, "creation_date": 1577799570, "post_id": 59544432, "comment_id": 105258593, "body": "This is My Error"}, {"owner": {"reputation": 1590, "user_id": 3112872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001410554550/picture?type=large", "display_name": "Lutti Coelho", "link": "https://stackoverflow.com/users/3112872/lutti-coelho"}, "edited": false, "score": 0, "creation_date": 1577803579, "post_id": 59544432, "comment_id": 105259852, "body": "Do you have a view called ViewDetails.cshtml in your project?"}, {"owner": {"reputation": 5203, "user_id": 1760479, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gFcMy.jpg?s=128&g=1", "display_name": "David Tansey", "link": "https://stackoverflow.com/users/1760479/david-tansey"}, "edited": false, "score": 0, "creation_date": 1577810335, "post_id": 59544432, "comment_id": 105261993, "body": "Your code shows a lower-case method name in <code>return view();</code> in the <code>ViewDetails()</code> action -- this should be <code>return View();</code> -- can you try this please?"}], "owner": {"user_type": "does_not_exist", "display_name": "user12241876"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577810516, "creation_date": 1577797175, "last_edit_date": 1577810516, "question_id": 59544432, "link": "https://stackoverflow.com/questions/59544432/asp-net-mvc-file-download-is-not-working-while-using-rotativa", "title": "Asp.net mvc file download is not working while using Rotativa", "body": "<p>I'm new to using Rotativa. I'm hitting my Rotativa function as: </p>\n\n<pre><code> @using (Html.BeginForm(\"Test\", \"InwardReceiption\", FormMethod.Post)) {\n   &lt;button type=\"submit\" class=\"btn btn-success\"&gt;Save&lt;/button&gt;\n}\n</code></pre>\n\n<p>Then I call it like this:</p>\n\n<pre><code>public ActionResult Test()\n{\n    return new ActionAsPdf(\"ViewDetails\");\n}\n\npublic ActionResult ViewDetails()\n{\n    return view();\n}\n</code></pre>\n\n<p>Here I'm hitting the function <code>ViewDetails</code> and I get this error:</p>\n\n<blockquote>\n  <p>Failed loading page localhost:49788/InwardReceiption/ViewDetails </p>\n</blockquote>\n\n<p>Sometimes it will work just to ignore this error with <code>--load-error-handling ignore</code> </p>\n\n<p>But then I get this error: </p>\n\n<blockquote>\n  <p>Exit with code 1, due to unknown error. </p>\n</blockquote>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["c#", ".net", "sharepoint-online", "csom"], "comments": [{"owner": {"reputation": 129, "user_id": 7195354, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209985103016931/picture?type=large", "display_name": "Olivier", "link": "https://stackoverflow.com/users/7195354/olivier"}, "edited": false, "score": 0, "creation_date": 1577797272, "post_id": 59544429, "comment_id": 105257802, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/18840081/specify-timezone-of-datetime-without-changing-value\">Specify timezone of datetime without changing value</a>"}, {"owner": {"reputation": 1, "user_id": 12632268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4e2612940c9413780bb197557ae01b?s=128&d=identicon&r=PG&f=1", "display_name": "mboyd4546", "link": "https://stackoverflow.com/users/12632268/mboyd4546"}, "reply_to_user": {"reputation": 129, "user_id": 7195354, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209985103016931/picture?type=large", "display_name": "Olivier", "link": "https://stackoverflow.com/users/7195354/olivier"}, "edited": false, "score": 0, "creation_date": 1577804932, "post_id": 59544429, "comment_id": 105260304, "body": "After testing, this does not appear to work. editing question to include code for example."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1577806611, "post_id": 59544429, "comment_id": 105260857, "body": "You can&#39;t change the time zone without changing the value. The value of a DateTime is a specific moment in time. The time &quot;03:00 PM PST&quot; did not occur at the same moment as &quot;03:00 PM EST&quot;."}, {"owner": {"reputation": 1, "user_id": 12632268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4e2612940c9413780bb197557ae01b?s=128&d=identicon&r=PG&f=1", "display_name": "mboyd4546", "link": "https://stackoverflow.com/users/12632268/mboyd4546"}, "edited": false, "score": 0, "creation_date": 1577807094, "post_id": 59544429, "comment_id": 105261025, "body": "The users inputting the data are in CST, we have no control of where our SharePoint Online server is hosted. The data being written to our DB needs to be in CST, yet SharePoint is returning the value in PST (or UTC equivalent of PST)."}], "answers": [{"comments": [{"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1577817809, "post_id": 59546233, "comment_id": 105264136, "body": "You convert it to UTC as the last step, exactly what did you accomplish here? Are you trying to represent something as &quot;UTC + timezone&quot;? I&#39;m not sure that concept is going to help you."}, {"owner": {"reputation": 1, "user_id": 12632268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4e2612940c9413780bb197557ae01b?s=128&d=identicon&r=PG&f=1", "display_name": "mboyd4546", "link": "https://stackoverflow.com/users/12632268/mboyd4546"}, "reply_to_user": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1577819991, "post_id": 59546233, "comment_id": 105264590, "body": "@Lasse V. Karlsen Using variable names: dT: grab string value and parse as DateTime. Utc1: convert to UTC and set timezone to UTC. Utc2: convert time zone to PST (this gives me a string value matching that of the SharePoint List the users are inputing). Final: create new DateTime using the time properties of Utc2 but setting the timezone to local (in this case CST)"}], "tags": [], "owner": {"reputation": 1, "user_id": 12632268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4e2612940c9413780bb197557ae01b?s=128&d=identicon&r=PG&f=1", "display_name": "mboyd4546", "link": "https://stackoverflow.com/users/12632268/mboyd4546"}, "is_accepted": false, "score": 0, "last_activity_date": 1577808028, "creation_date": 1577808028, "answer_id": 59546233, "question_id": 59544429, "link": "https://stackoverflow.com/questions/59544429/change-timezone-of-datetime-object-without-changing-the-value/59546233#59546233", "title": "change Timezone of DateTime object without changing the value", "body": "<p>I have it working, but its not pretty. </p>\n\n<pre><code>DateTime dT = DateTime.Parse(item.FieldValues[\"efwy\"].ToString());\nDateTime utc1 = TimeZoneInfo.ConvertTimeToUtc(dT, tZs.First(x =&gt; x.Id == \"UTC\"));\nDateTime utc2 = TimeZoneInfo.ConvertTime(utc1, tZs.First(x =&gt; x.DisplayName == tZ));\nDateTime final = TimeZoneInfo.ConvertTimeToUtc(new DateTime(utc2.Year, utc2.Month, utc2.Day, utc2.Hour, utc2.Minute, utc2.Second, utc2.Millisecond, DateTimeKind.Local)).ToLocalTime();\n</code></pre>\n\n<p>Any feedback or a cleaner solution would be appreciated. \nThanks!</p>\n"}], "owner": {"reputation": 1, "user_id": 12632268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4e2612940c9413780bb197557ae01b?s=128&d=identicon&r=PG&f=1", "display_name": "mboyd4546", "link": "https://stackoverflow.com/users/12632268/mboyd4546"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 499, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577817295, "creation_date": 1577797139, "last_edit_date": 1577817295, "question_id": 59544429, "link": "https://stackoverflow.com/questions/59544429/change-timezone-of-datetime-object-without-changing-the-value", "title": "change Timezone of DateTime object without changing the value", "body": "<p>I am working with a SharePoint Online server in another timezone. I am attempting to retrieve the values from a List with a DateTime field. Using CSOM I am able to retrieve the DateTime value stored in the list, however they are stored with UTC + Daylight savings in the timezone of the SP Server location. How can I change the Timezone of my DateTime object while keeping the value the same? (Example: Change 03:00 PM PST to 03:00 PM EST).</p>\n\n<p>For reference I am already grabbing the SharePoint server TimeZone by using <code>ClientContext.Web.RegionalSettings.TimeZone</code></p>\n\n<p><strong>Edit1:</strong></p>\n\n<p>Code:                    </p>\n\n<pre><code>#region Get Sharepoint Server Timezone Offset\nvar rS = context.Web.RegionalSettings;\ncontext.Load(rS);\n\nvar sPtZ = rS.TimeZone;\ncontext.Load(sPtZ);\ncontext.ExecuteQuery();\n\nReadOnlyCollection&lt;TimeZoneInfo&gt; tZs = TimeZoneInfo.GetSystemTimeZones();\nstring tZ = rS.TimeZone.Description;\n\nif (tZ.Contains(\" and \"))\n{\n    tZ = tZ.Replace(\" and \", \" &amp; \");\n}\n#endregion\n\n#region Write List Values to AF\nforeach (ListItem item in spCollection)\n{\n    AFElement well = vendor.Wells.First(x =&gt; x.Name == (item.FieldValues[\"Well_x0020_Name\"].ToString()));\n\n    if (well != null)\n    {\n        DateTime dT = DateTime.Parse(item.FieldValues[\"efwy\"].ToString());\n        DateTime utc = TimeZoneInfo.ConvertTimeToUtc(dT, tZs.First(x =&gt; x.Id == \"UTC\")).ToLocalTime();\n        AFValue afV = new AFValue((double)item.FieldValues[\"lbpl\"], new AFTime(DateTime.Parse(item.FieldValues[\"efwy\"].ToString()).ToLocalTime()));\n        //well.Attributes[\"Manual Input - Choke Size\"].SetValue(afV);\n        //well.Database.ApplyChanges();\n        //well.Database.CheckIn();\n    }\n    //Else leave item in list\n}\ncontext.ExecuteQuery();\n#endregion\n</code></pre>\n\n<p><code>rS.Timezone.Description</code> has a value of <code>(UTC-08:00) Pacific Time (US and Canada)</code></p>\n\n<p>The actual SharePoint List value is <code>12/3/2019 5:00 AM</code></p>\n\n<p>My dT value is <code>{12/3/2019 1:00:00 PM}</code> \nThis tells me that SharePoint is returning the value in UTC time. </p>\n\n<p>However, after setting that value as UTC then to local time on DateTime \"utc\" its showing 7:00AM. </p>\n"}, {"tags": ["c#", ".net", "real-time-clock", "system-clock"], "comments": [{"owner": {"reputation": 1676, "user_id": 1786007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bfb48152374c6833ec10ecf0574e0b?s=128&d=identicon&r=PG", "display_name": "Venson", "link": "https://stackoverflow.com/users/1786007/venson"}, "edited": false, "score": 1, "creation_date": 1577796785, "post_id": 59544369, "comment_id": 105257642, "body": "What indications do you have for that? what version of .net framework are you using? Edit: i had never any indication that apart from Sleep(1) and Sleep(0) anything between 16 and 1 is not propperly executed. That would have one of my projects pritty useless.  Maybe your BIOS HPET option has changed?"}, {"owner": {"reputation": 16708, "user_id": 548048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ea111e2291af61cee5df04fad69197?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/548048/anders"}, "reply_to_user": {"reputation": 1676, "user_id": 1786007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bfb48152374c6833ec10ecf0574e0b?s=128&d=identicon&r=PG", "display_name": "Venson", "link": "https://stackoverflow.com/users/1786007/venson"}, "edited": false, "score": 0, "creation_date": 1577797196, "post_id": 59544369, "comment_id": 105257781, "body": "I tried both full and core same thing. I&#39;m on latest windows 10, AMD 3950x on a Asus Crosshair 6 Hero. Havent changed anything related to system clock."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1577797209, "post_id": 59544369, "comment_id": 105257787, "body": "Why the question? For starters, applications could always change the system-wide interval. That&#39;s what Chrome does, leading to battery drain as the system keeps waking a lot more often than it should"}, {"owner": {"reputation": 16708, "user_id": 548048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ea111e2291af61cee5df04fad69197?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/548048/anders"}, "edited": false, "score": 0, "creation_date": 1577797357, "post_id": 59544369, "comment_id": 105257830, "body": "Why the question? Its a unknown side effect. I want to know why. I have a opensource program called freepie. It used to run at a frequency of 16ms now it runs at 1. As long as the scripts you run in it is not hardcoded to 16ms (which they shouldnt)  it doesnt matter. But I would like to know what have chagned since in my world 16ms is the rate it shuld run at"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1577797364, "post_id": 59544369, "comment_id": 105257835, "body": "There&#39;s no <i>reason</i> for this to change though. If you want fast timing, or high FPS you use the appropriate APIs, not Thread.Sleep. Games don&#39;t use Thread.Sleep to control animations and yet, they can work at 100+ FPS. It&#39;s not just the GPU - the <i>CPU</i> has to tell the GPU what to draw and where, 100 times/sec. Sound applications send bytes to the sound card&#39;s DAC a lot faster than that"}, {"owner": {"reputation": 16708, "user_id": 548048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ea111e2291af61cee5df04fad69197?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/548048/anders"}, "edited": false, "score": 0, "creation_date": 1577797411, "post_id": 59544369, "comment_id": 105257850, "body": "My program is a generic i/o mapper. I need a default framerate that is not tied to I/O etc"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1577797420, "post_id": 59544369, "comment_id": 105257852, "body": "@Anders what&#39;s changed is that you run Chrome at the same time. You shouldn&#39;t depend on Sleep&#39;s resolution for timing in any case."}, {"owner": {"reputation": 16708, "user_id": 548048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ea111e2291af61cee5df04fad69197?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/548048/anders"}, "edited": false, "score": 0, "creation_date": 1577797605, "post_id": 59544369, "comment_id": 105257906, "body": "I did a restart of OS, no change. So its not chrome."}, {"owner": {"reputation": 16708, "user_id": 548048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ea111e2291af61cee5df04fad69197?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/548048/anders"}, "edited": false, "score": 0, "creation_date": 1577797639, "post_id": 59544369, "comment_id": 105257913, "body": "If I didnt sleep and the user of my program does not trigger some kind of interupt on the thread the program will eat 100% of that core. Its not desiarable from a background type program"}, {"owner": {"reputation": 16708, "user_id": 548048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ea111e2291af61cee5df04fad69197?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/548048/anders"}, "edited": false, "score": 0, "creation_date": 1577797793, "post_id": 59544369, "comment_id": 105257961, "body": "Games run as fast as they can, becase they get natural interupts when drawcalling etc. Animations are solved by multiplying everything that is dependent on time with frame deltatime. This is another problem."}], "answers": [{"comments": [{"owner": {"reputation": 16708, "user_id": 548048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ea111e2291af61cee5df04fad69197?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/548048/anders"}, "edited": false, "score": 0, "creation_date": 1577798394, "post_id": 59544589, "comment_id": 105258155, "body": "The real time (high res)  timer is more precise. But that shouldn&#39;t change the behavior of the system clock?"}], "tags": [], "owner": {"reputation": 3852, "user_id": 383426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68c689220ce384a178abbd2b06f022c?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/383426/nick"}, "is_accepted": false, "score": 0, "last_activity_date": 1577798131, "creation_date": 1577798131, "answer_id": 59544589, "question_id": 59544369, "link": "https://stackoverflow.com/questions/59544369/is-thread-sleep-now-using-high-res-timer-or-have-windows-10-changed-default-syst/59544589#59544589", "title": "Is Thread.Sleep now using high res timer or have Windows 10 changed default system clock frequency?", "body": "<p>The newer hardware does have a more precise timer, indeed.  But the purpose of <code>Thread.Sleep</code> is not to be precise, and it should not be used as a timer.</p>\n\n<p>It is all in the <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/synchapi/nf-synchapi-sleep\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>If dwMilliseconds is less than the resolution of the system clock, the\n  thread may sleep for less than the specified length of time. If\n  dwMilliseconds is greater than one tick but less than two, the wait\n  can be anywhere between one and two ticks, and so on.</p>\n</blockquote>\n\n<p>Also very important is that after the time elapses, your thread is not automatically run.  In stead, the thread is marked as <em>ready to run</em>.  This means that it will get time only when there are no higher priority threads that are also ready to run, and not before the currently running threads consume their quantum or get into a waiting state. </p>\n"}, {"comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1577799692, "post_id": 59544835, "comment_id": 105258631, "body": "It is shovelware, you can easily live without it.  Renaming the .exe file is the easiest way to kill it.  Do document the powercfg.exe command."}, {"owner": {"reputation": 16708, "user_id": 548048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ea111e2291af61cee5df04fad69197?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/548048/anders"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1577799861, "post_id": 59544835, "comment_id": 105258682, "body": "I actually use geforce experience to capture content for my  Game Studio :D"}], "tags": [], "owner": {"reputation": 16708, "user_id": 548048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ea111e2291af61cee5df04fad69197?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/548048/anders"}, "is_accepted": false, "score": 1, "last_activity_date": 1577799839, "last_edit_date": 1577799839, "creation_date": 1577799519, "answer_id": 59544835, "question_id": 59544369, "link": "https://stackoverflow.com/questions/59544369/is-thread-sleep-now-using-high-res-timer-or-have-windows-10-changed-default-syst/59544835#59544835", "title": "Is Thread.Sleep now using high res timer or have Windows 10 changed default system clock frequency?", "body": "<p>Thanks to Hans Passant comment which I first missed I found the problem. It turns out Nvidias driver suit is the problem maker.</p>\n\n<blockquote>\n  <p>Platform Timer Resolution:Outstanding Timer Request A program or\n  service has requested a timer resolution smaller than the platform\n  maximum timer resolution. Requested Period    10000 Requesting Process\n  ID    13396 Requesting Process Path   \\Device\\HarddiskVolume2\\Program\n  Files\\NVIDIA Corporation\\NVIDIA GeForce Experience\\NVIDIA Share.exe</p>\n</blockquote>\n\n<p>This is so idiotic on so many levels. In the long run this is even bad for the environment since any computer with nvidia will use more power. </p>\n\n<p>edit: Hans Comment, relevant part:</p>\n\n<blockquote>\n  <p>Too many programs want to mess with it, on top of the list is a free\n  product of a company that sells a mobile operating system. Run\n  powercfg /energy from an elevated command prompt to find the evildoer,\n  \"Platform Timer Resolution\" in the generated report.</p>\n</blockquote>\n"}], "owner": {"reputation": 16708, "user_id": 548048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/77ea111e2291af61cee5df04fad69197?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/548048/anders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1577799839, "creation_date": 1577796692, "last_edit_date": 1577798278, "question_id": 59544369, "link": "https://stackoverflow.com/questions/59544369/is-thread-sleep-now-using-high-res-timer-or-have-windows-10-changed-default-syst", "title": "Is Thread.Sleep now using high res timer or have Windows 10 changed default system clock frequency?", "body": "<p><code>Thread.Sleep</code> used to be tied to the system clock which clocked in at a interval at roughly 16 ms, so anything below 16ms would yield 16ms sleep. The behaviour seems to have changed some way down the line line. </p>\n\n<p>What has changed? Is <code>Thread.Sleep</code> no longer tied to the system clock but to the high res timer? Or has the default system clock frequency increased in Windows 10?</p>\n\n<p>edit:\nIt seems people are intersted in knowing why I use Thread.Sleep, its actually out of the scope of the question, the question is why the behavior have changed. But anyway, I noticed the change in my open source project freepie <a href=\"https://andersmalmgren.github.io/FreePIE/\" rel=\"nofollow noreferrer\">https://andersmalmgren.github.io/FreePIE/</a></p>\n\n<p>Its a input/output emulator which is controlled by the end user using Iron python. That runs in the background. It has no natural interrupts. So I need to marshal the scripting thread so it does not starve an entire core.</p>\n"}, {"tags": ["c#", "sql-server", "database", "restore", ".net-4.6.1"], "comments": [{"owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "edited": false, "score": 0, "creation_date": 1577797111, "post_id": 59544293, "comment_id": 105257757, "body": "what is restore class? your own class or some package"}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "reply_to_user": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "edited": false, "score": 1, "creation_date": 1577797971, "post_id": 59544293, "comment_id": 105258030, "body": "@Gauravsa: most likely the class in the SMO (SQL Server Management Objects) library"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12632189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af2ec456d77bb61bc85b832824523d47?s=128&d=identicon&r=PG&f=1", "display_name": "Federico Franco", "link": "https://stackoverflow.com/users/12632189/federico-franco"}, "edited": false, "score": 0, "creation_date": 1577971765, "post_id": 59544615, "comment_id": 105296115, "body": "Hi! Happy new year, yes i double checked and the target pc has  .net framework 4.6.1 installed, the same version. Could the problem be elsewhere? or am i lokking at this the wrong way?  Thanks for your answer"}, {"owner": {"reputation": 1127, "user_id": 9529505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a15fbbb927a11068ad16e23c67918406?s=128&d=identicon&r=PG&f=1", "display_name": "Thailo", "link": "https://stackoverflow.com/users/9529505/thailo"}, "reply_to_user": {"reputation": 13, "user_id": 12632189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af2ec456d77bb61bc85b832824523d47?s=128&d=identicon&r=PG&f=1", "display_name": "Federico Franco", "link": "https://stackoverflow.com/users/12632189/federico-franco"}, "edited": false, "score": 0, "creation_date": 1577972759, "post_id": 59544615, "comment_id": 105296556, "body": "In that case, for some reason it still looks like the wrong version of the SMO dlls are loaded on the target pc. You could use <a href=\"https://docs.microsoft.com/en-us/sysinternals/downloads/procmon\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/sysinternals/downloads/procmon</a> to pinpoint what is loaded exactly. Alternatively (and in my experience this proved to be a very quick and dirty but effective solution on some occasions) you could install the latest SQL Server Management Studio on the target pc as this contains many of the needed SMO references. But as said, it is a rather ugly solution so I&#39;d suggest you investigate with procmon first."}, {"owner": {"reputation": 13, "user_id": 12632189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af2ec456d77bb61bc85b832824523d47?s=128&d=identicon&r=PG&f=1", "display_name": "Federico Franco", "link": "https://stackoverflow.com/users/12632189/federico-franco"}, "edited": false, "score": 0, "creation_date": 1578496761, "post_id": 59544615, "comment_id": 105458787, "body": "Is there a way to config my app to use the smo Version i have referenced. And not use the one installed on the target pc?"}], "tags": [], "owner": {"reputation": 1127, "user_id": 9529505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a15fbbb927a11068ad16e23c67918406?s=128&d=identicon&r=PG&f=1", "display_name": "Thailo", "link": "https://stackoverflow.com/users/9529505/thailo"}, "is_accepted": true, "score": 1, "last_activity_date": 1577798271, "creation_date": 1577798271, "answer_id": 59544615, "question_id": 59544293, "link": "https://stackoverflow.com/questions/59544293/method-not-found-while-restoring-sql-database-c/59544615#59544615", "title": "Method not Found while restoring sql database C#", "body": "<p>You must ensure you that you are running the same SMO version on all PCs i.e. in this case .NET 4.6.1 should be installed everywhere you are running your 4.6.1 compiled code.</p>\n\n<p>Download link:\n<a href=\"https://support.microsoft.com/en-us/help/3102436/the-net-framework-4-6-1-offline-installer-for-windows\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/help/3102436/the-net-framework-4-6-1-offline-installer-for-windows</a></p>\n\n<p>Also, please note that Microsoft no longer supports SQL Server 2008 R2 so I strongly suggest you have those boxes upgraded.</p>\n"}, {"tags": [], "owner": {"reputation": 267, "user_id": 3225161, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5ecd2735ecc2d774daf282e193f8087b?s=128&d=identicon&r=PG&f=1", "display_name": "SQLServerSteve", "link": "https://stackoverflow.com/users/3225161/sqlserversteve"}, "is_accepted": false, "score": 0, "last_activity_date": 1601524291, "creation_date": 1601524291, "answer_id": 64148812, "question_id": 59544293, "link": "https://stackoverflow.com/questions/59544293/method-not-found-while-restoring-sql-database-c/64148812#64148812", "title": "Method not Found while restoring sql database C#", "body": "<p>I'll post this alternate solution to the vanishing GetDatabaseConnection problem here, in case anyone else runs into mysterious error. I encountered it after upgrading a working VB.Net project from .Net Framework 4.0 to 4.8, both of which targeted a SQL Server 2014 instance on the same box.</p>\n<p>I fixed this only after discovering in the Properties Window that the runtime version for the dlls the O.P. linked to, such as Microsoft.SqlServer.ConnectionInfo, SqlServer.Smo,SqlServer.SmoExtended, SqlEnum and SqlClient, were all set to v2.0.50727.</p>\n<p>The runtime versions for all of thee files were changed to v4.0.30319 after I upgraded the SMO dll's to the latest (Sept. 30, 2020) Microsoft.SqlServer.SqlManagementObjects Nuget package + its dependencies. After this, the GetDatabaseConnection method reappeared.</p>\n<p>Hopefully this will spare someone else the same process of trial &amp; error, which involved a lot failed workarounds based on juggling .Net Framework versions, file References, Nuget packages and other such plunges into &quot;DLL Hell.&quot;</p>\n"}], "owner": {"reputation": 13, "user_id": 12632189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af2ec456d77bb61bc85b832824523d47?s=128&d=identicon&r=PG&f=1", "display_name": "Federico Franco", "link": "https://stackoverflow.com/users/12632189/federico-franco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 59544615, "answer_count": 2, "score": 1, "last_activity_date": 1601524291, "creation_date": 1577796129, "last_edit_date": 1577796403, "question_id": 59544293, "link": "https://stackoverflow.com/questions/59544293/method-not-found-while-restoring-sql-database-c", "title": "Method not Found while restoring sql database C#", "body": "<p>This is a sample of the code I'm working on, the main issue is I can't run the restore operation when running on PCs with SQL Server client 10.0.0.0. The process crashes on this line:</p>\n\n<pre><code>DataTable logicalRestoreFiles = res.ReadFileList(myServer);\n</code></pre>\n\n<p>and the exception thrown is: </p>\n\n<blockquote>\n  <p>Method not found Microsoft.SqlServer.Managment.Common.ServerConnection.GetDatabaseConnection(System.String)</p>\n</blockquote>\n\n<p>This problem only happens when i try to run this code on PCs with SQL Server 2008 R2. I tried it on SQL Server 2017 and the database got restored without problems. I really need some help here I'm out of ideas. </p>\n\n<p>Here are the current Connection packages and their versions in case it helps:</p>\n\n<pre><code> &lt;package id=\"Microsoft.Data.ConnectionUI\" version=\"16.4.29519.181\" targetFramework=\"net461\" /&gt;\n &lt;package id=\"Microsoft.Data.Tools.Sql.BatchParser\" version=\"150.18097.0-xplat\" \n  targetFramework=\"net461\" /&gt;\n &lt;package id=\"Microsoft.SqlServer.ConnectionInfo\" version=\"150.18097.0-xplat\" \n  targetFramework=\"net461\" /&gt;\n &lt;package id=\"Microsoft.SqlServer.ConnectionInfo.dll\" version=\"1.0.1\" targetFramework=\"net461\" /&gt;\n &lt;package id=\"Microsoft.SqlServer.Management.Sdk.Sfc.dll\" version=\"1.0.1\" targetFramework=\"net461\" \n  /&gt;\n &lt;package id=\"Microsoft.SqlServer.Smo.dll\" version=\"1.0.1\" targetFramework=\"net461\" /&gt;\n &lt;package id=\"Microsoft.SqlServer.SmoExtended.dll\" version=\"1.0.1\" targetFramework=\"net461\" /&gt;\n &lt;package id=\"Microsoft.SqlServer.SqlEnum.dll\" version=\"1.0.1\" targetFramework=\"net461\" /&gt;\n &lt;package id=\"System.Data.SqlClient\" version=\"4.4.0\" targetFramework=\"net461\" /&gt;\n\npublic void RestoreDatabase(string DBName)\n{\n    ServerConnection connection = new ServerConnection(txtServidor.Text, txtUsuario.Text, txtContrase\u00f1a.Text);\n    Server myServer = new Server(connection);            \n\n    Restore res = new Restore();\n    res.Database = DBName;\n    res.Action = RestoreActionType.Database;\n    res.Devices.AddDevice(ConfigurationManager.AppSettings.Get(\"bakPathToFile\"), DeviceType.File);            \n    res.PercentCompleteNotification = 10;\n    res.ReplaceDatabase = true;\n    res.PercentComplete += new PercentCompleteEventHandler(res_PercentComplete);\n\n    try\n    {\n        bool logicalNamesRetrieved = false;\n        string mdfFile = \"\";\n        string logFile = \"\";\n\n        var Response = EnviarComando(\"SELECT top 1 physical_name FROM sys.database_files\");\n\n        if (Response.Success)\n        {\n            mdfFile = CommandContent.Replace(\"master.mdf\",_databasename+\".mdf\");\n            logFile = CommandContent.Replace(\"master.mdf\", _databasename + \"_Log.ldf\");\n        }\n\n        if(String.IsNullOrEmpty(mdfFile) || String.IsNullOrEmpty(logFile))\n        {\n            Logger.WriteLog(\"Ocurrio un error al buscar la ruta del archivo mdf o ldf.\",\"Error\");\n        }\n        else\n        {\n            try\n            {\n                DataTable logicalRestoreFiles = res.ReadFileList(myServer);\n                res.RelocateFiles.Add(new RelocateFile(logicalRestoreFiles.Rows[0][0].ToString(), mdfFile));\n                res.RelocateFiles.Add(new RelocateFile(logicalRestoreFiles.Rows[1][0].ToString(), logFile));\n                logicalNamesRetrieved = true;\n            }\n            catch (Exception ex)\n            {\n                Logger.WriteLog(\"Excepcion al buscar logical names de los archivos mdf y log \"+ex.Message + ex.InnerException != null ?\n                ex.InnerException.Message : \"\", \"Error rutas\");\n            }\n        }\n\n        if(logicalNamesRetrieved) \n           res.SqlRestore(myServer);\n    }\n    catch (Exception ex)\n    {\n        Logger.WriteLog(\"Ocurrio un error al intentar restaurar la base de datos. \" + ErrorMesage + ex.InnerException != null ?\n        ex.InnerException.Message : \"\", \"Error\");\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", ".net-3.5"], "comments": [{"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 1, "creation_date": 1577795963, "post_id": 59544273, "comment_id": 105257362, "body": "What kind of code do you have? Please, share with us"}, {"owner": {"reputation": 8956, "user_id": 465558, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6bef631b2e4da7009c8e1483e1222c9c?s=128&d=identicon&r=PG", "display_name": "Yanshof", "link": "https://stackoverflow.com/users/465558/yanshof"}, "reply_to_user": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1577796019, "post_id": 59544273, "comment_id": 105257380, "body": "@PavelAnikhouski    C# .net 3.5"}, {"owner": {"reputation": 8956, "user_id": 465558, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6bef631b2e4da7009c8e1483e1222c9c?s=128&d=identicon&r=PG", "display_name": "Yanshof", "link": "https://stackoverflow.com/users/465558/yanshof"}, "reply_to_user": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1577796068, "post_id": 59544273, "comment_id": 105257399, "body": "this is simple code that need to call function with timeout .. no need to shared this kind of code ... just how do it without task"}, {"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 1, "creation_date": 1577796206, "post_id": 59544273, "comment_id": 105257448, "body": "You can use <code>IAsyncResult</code> and <code>Begin...</code> methods from APM"}, {"owner": {"reputation": 8956, "user_id": 465558, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6bef631b2e4da7009c8e1483e1222c9c?s=128&d=identicon&r=PG", "display_name": "Yanshof", "link": "https://stackoverflow.com/users/465558/yanshof"}, "reply_to_user": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1577796280, "post_id": 59544273, "comment_id": 105257471, "body": "beginInvoke and EndInvoke is async call - its not belong to my question"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1577796310, "post_id": 59544273, "comment_id": 105257477, "body": "<i>beginInvoke and EndInvoke is async call - its not belong to my question</i> That&#39;s why the code is needed"}, {"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 1, "creation_date": 1577796455, "post_id": 59544273, "comment_id": 105257525, "body": "@Yanshof you can register wait for <code>IAsyncResult</code> and throw an exception when timeout happens. Of use <code>Wait</code> and throw an exception, if operation isn&#39;t completed"}], "answers": [{"comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1577797374, "post_id": 59544391, "comment_id": 105257839, "body": "with one small caveat ... it will prolly not cancel ongoing IO operation"}, {"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1577797598, "post_id": 59544391, "comment_id": 105257904, "body": "For the handling old fashioned <code>HttpWebRequest</code> we are using the second approach with <code>RegisterWaitForSingleObject</code>. I guess, if IO operation handler supports aborting, the same thing can be used. Also OP didn&#39;t mentioned any IO operations, just a simple method"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1577797636, "post_id": 59544391, "comment_id": 105257912, "body": "from question <i>some method ( <b>io method</b> )</i>"}], "tags": [], "owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "is_accepted": true, "score": 1, "last_activity_date": 1578490468, "last_edit_date": 1578490468, "creation_date": 1577796891, "answer_id": 59544391, "question_id": 59544273, "link": "https://stackoverflow.com/questions/59544273/how-to-call-function-with-timeout-on-legacy-net-3-5/59544391#59544391", "title": "how to call function with timeout on legacy .net 3.5", "body": "<p>You can create a delegate with the same signature with your method and then call it using <code>BeginInvoke</code> and block the current thread using <code>WaitOne()</code> method with timeout. If operation isn't completed after timeout, you'll throw an exception</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public delegate void AsyncMethodCaller(...);\n\nAsyncMethodCaller caller = new AsyncMethodCaller();\n\nIAsyncResult result = caller.BeginInvoke(...);\n\nresult.AsyncWaitHandle.WaitOne(timeout);\n\nif(!result.IsCompleted)\n{\n    //throw an exception\n}\n</code></pre>\n\n<p>You can see mode detailed example in <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.iasyncresult?view=netframework-4.8\" rel=\"nofollow noreferrer\">MSDN</a>. And keep in mind, that this code blocks the current thread. If you need an asynchronous wait, there is a different approach, using <code>RegisterWaitForSingleObject</code> method from <code>ThreadPool</code> <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.threadpool.registerwaitforsingleobject?view=netframework-4.8\" rel=\"nofollow noreferrer\">class</a></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>ThreadPool.RegisterWaitForSingleObject(asyncResult.AsyncWaitHandle,\n        (state, timeout) =&gt;\n        {\n            if (timeout)\n            {\n                 //do something\n            }\n        },\n        state, timeout, true);\n</code></pre>\n\n<p><code>state</code> variable in this case is handler of your operation (IO or any other). You can pass it and abort an operation when timeout happens</p>\n"}], "owner": {"reputation": 8956, "user_id": 465558, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6bef631b2e4da7009c8e1483e1222c9c?s=128&d=identicon&r=PG", "display_name": "Yanshof", "link": "https://stackoverflow.com/users/465558/yanshof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 1, "accepted_answer_id": 59544391, "answer_count": 1, "score": -1, "last_activity_date": 1587301332, "creation_date": 1577795911, "last_edit_date": 1587301332, "question_id": 59544273, "link": "https://stackoverflow.com/questions/59544273/how-to-call-function-with-timeout-on-legacy-net-3-5", "title": "how to call function with timeout on legacy .net 3.5", "body": "<p>I have some legacy code that was write in .net 3.5</p>\n\n<p>I need to add some ability to call some method ( io method ) with timeout => that mean that after X second i need to throw exception if its not done.   </p>\n\n<p>Using Task is not possible because on .net 3.5 there is no Task.<br>\nHow to do it ? </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1361, "user_id": 11808788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90824afde2c0e06cc75077e8a411590b?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/11808788/charles"}, "edited": false, "score": 0, "creation_date": 1577796145, "post_id": 59544251, "comment_id": 105257426, "body": "what is anti-screenshot protection? for the whole screen or just a window? what comes back black?"}, {"owner": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "reply_to_user": {"reputation": 1361, "user_id": 11808788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90824afde2c0e06cc75077e8a411590b?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/11808788/charles"}, "edited": false, "score": 0, "creation_date": 1577796262, "post_id": 59544251, "comment_id": 105257467, "body": "Idk what is his anti-screenshot protection. If i try, i got the black screen just in the application window."}, {"owner": {"reputation": 1361, "user_id": 11808788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90824afde2c0e06cc75077e8a411590b?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/11808788/charles"}, "edited": false, "score": 0, "creation_date": 1577796394, "post_id": 59544251, "comment_id": 105257500, "body": "did you try to run as admin? what application are you trying to capture?"}, {"owner": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "reply_to_user": {"reputation": 1361, "user_id": 11808788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90824afde2c0e06cc75077e8a411590b?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/11808788/charles"}, "edited": false, "score": 0, "creation_date": 1577796457, "post_id": 59544251, "comment_id": 105257526, "body": "I already try to run as admin, its really a screen shot protection due to prevent botting. Its one game named Tibia. That run in a window"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577821033, "post_id": 59544251, "comment_id": 105264811, "body": "<a href=\"https://docs.microsoft.com/en-us/windows/win32/direct3ddxgi/desktop-dup-api\" rel=\"nofollow noreferrer\">Desktop Duplication API</a>"}, {"owner": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1577824896, "post_id": 59544251, "comment_id": 105265615, "body": "@Jimi Can you give me a exemple using c#?"}, {"owner": {"reputation": 3651, "user_id": 2504785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/I70ES.png?s=128&g=1", "display_name": "SQL Police", "link": "https://stackoverflow.com/users/2504785/sql-police"}, "edited": false, "score": 13, "creation_date": 1577906675, "post_id": 59544251, "comment_id": 105279386, "body": "stackoverflow should not help on theft of copyrighted material."}, {"owner": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "reply_to_user": {"reputation": 3651, "user_id": 2504785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/I70ES.png?s=128&g=1", "display_name": "SQL Police", "link": "https://stackoverflow.com/users/2504785/sql-police"}, "edited": false, "score": 0, "creation_date": 1577909957, "post_id": 59544251, "comment_id": 105280062, "body": "@SQLPolice Edited, but why i got 2 down votes?"}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1577930893, "post_id": 59544251, "comment_id": 105283567, "body": "<a href=\"https://blogs.msdn.microsoft.com/dsui_team/2013/03/25/ways-to-capture-the-screen/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/dsui_team/2013/03/25/&hellip;</a>"}, {"owner": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1577935156, "post_id": 59544251, "comment_id": 105284212, "body": "@KenWhite C# please :("}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1577935281, "post_id": 59544251, "comment_id": 105284228, "body": "C# has nothing to do with it. Those are various ways that you can capture a screen in Windows. I&#39;m not doing your research for you. The WinAPI is written with C in mind, and you&#39;ll find the majority of documentation for it uses C as the language for examples and function declarations. The link I provided discusses alternative options for doing what you ask. Make an effort to investigate them."}, {"owner": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "edited": false, "score": 0, "creation_date": 1577962810, "post_id": 59544251, "comment_id": 105292031, "body": "But i can use C# with a library .dll writen in C or C++ ?"}, {"owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 0, "creation_date": 1578290385, "post_id": 59544251, "comment_id": 105378311, "body": "I don&#39;t remember the exact details, but it&#39;s possible the game isn&#39;t using some kind of block and it is related to display overlays.  Usually a graphics driver will not render those in a screen shot and there is nothing at all you can do about it."}, {"owner": {"reputation": 332, "user_id": 4501049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fnc0.jpg?s=128&g=1", "display_name": "Raynoceros", "link": "https://stackoverflow.com/users/4501049/raynoceros"}, "edited": false, "score": 0, "creation_date": 1578388622, "post_id": 59544251, "comment_id": 105412998, "body": "window mode screen? did you try snipping tools?"}, {"owner": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "edited": false, "score": 0, "creation_date": 1578395156, "post_id": 59544251, "comment_id": 105416390, "body": "Snipping tools do not resolve for me"}, {"owner": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 0, "creation_date": 1578425333, "post_id": 59544251, "comment_id": 105431914, "body": "By design, it&#39;s difficult from Windows itself to go around protections that Windows itself offers. Check this (also the chat discussion): <a href=\"https://stackoverflow.com/questions/56302217/prevent-desktop-sharing-of-a-particular-c-sharp-winforms-or-detect-desktop-shari\" title=\"prevent desktop sharing of a particular c sharp winforms or detect desktop shari\">stackoverflow.com/questions/56302217/&hellip;</a> The app developer may have simply used SetWindowDisplayAffinity. It also prevents the Desktop Duplication API to work I think."}], "answers": [{"comments": [{"owner": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "edited": false, "score": 0, "creation_date": 1578481845, "post_id": 59638633, "comment_id": 105450220, "body": "But i want an way to acess this layer and take screenshot :("}], "tags": [], "owner": {"reputation": 626, "user_id": 2306204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/x4fTR.jpg?s=128&g=1", "display_name": "Reza Jooyandeh", "link": "https://stackoverflow.com/users/2306204/reza-jooyandeh"}, "is_accepted": false, "score": 2, "last_activity_date": 1578450638, "creation_date": 1578450638, "answer_id": 59638633, "question_id": 59544251, "link": "https://stackoverflow.com/questions/59544251/alternatives-for-taking-a-screenshot/59638633#59638633", "title": "Alternatives for taking a screenshot", "body": "<p>In order to get the screenshot you need to go a layer lower than device contexts and Gdi. The game is not doing the rendering on the device context of the <code>hWnd</code> and instead talking to the graphic card driver. So when you call <code>CreateCompatibleBitmap</code> there is essentially nothing rendered there. I am not sure if there are any public APIs to capture what is being rendered directly. Some games do this because they would like to have faster rendering and would prefer to skip GDI or GDI+.</p>\n"}, {"comments": [{"owner": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "edited": false, "score": 0, "creation_date": 1578569784, "post_id": 59654855, "comment_id": 105485304, "body": "I agree with your all adversings @TroyPalacino. This way works only for 15 min. After that the window became to black pixels again."}, {"owner": {"reputation": 538, "user_id": 984059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1501f7aef3640a3304b0edc2b9cab62e?s=128&d=identicon&r=PG", "display_name": "Troy Palacino", "link": "https://stackoverflow.com/users/984059/troy-palacino"}, "reply_to_user": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "edited": false, "score": 0, "creation_date": 1578572975, "post_id": 59654855, "comment_id": 105486938, "body": "Can you provide some more details? Do you mean after the game has been open for 15 minutes or taking screenshots for 15 minutes? How frequently does your app capture the screenshots?"}, {"owner": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "edited": false, "score": 1, "creation_date": 1578576674, "post_id": 59654855, "comment_id": 105488951, "body": "After the game has been open for 15 minutes. I take screenshots every 400ms"}, {"owner": {"reputation": 538, "user_id": 984059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1501f7aef3640a3304b0edc2b9cab62e?s=128&d=identicon&r=PG", "display_name": "Troy Palacino", "link": "https://stackoverflow.com/users/984059/troy-palacino"}, "reply_to_user": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "edited": false, "score": 0, "creation_date": 1578578373, "post_id": 59654855, "comment_id": 105490014, "body": "does the entire screen capture go blank or just the game window? also, during those 15 minutes are you actively interacting with the with the game window or just allowing the game window to be idle?"}, {"owner": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "edited": false, "score": 1, "creation_date": 1578579828, "post_id": 59654855, "comment_id": 105490946, "body": "Just the game window. allowing the game window to be idle"}, {"owner": {"reputation": 538, "user_id": 984059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1501f7aef3640a3304b0edc2b9cab62e?s=128&d=identicon&r=PG", "display_name": "Troy Palacino", "link": "https://stackoverflow.com/users/984059/troy-palacino"}, "reply_to_user": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "edited": false, "score": 0, "creation_date": 1578580499, "post_id": 59654855, "comment_id": 105491356, "body": "I suggest trying to interact with the window in some insignificant way programmatically ever couple of minutes. Perhaps move the mouse over the window and then off again or click on the title bar or something"}, {"owner": {"reputation": 538, "user_id": 984059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1501f7aef3640a3304b0edc2b9cab62e?s=128&d=identicon&r=PG", "display_name": "Troy Palacino", "link": "https://stackoverflow.com/users/984059/troy-palacino"}, "reply_to_user": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "edited": false, "score": 0, "creation_date": 1578582662, "post_id": 59654855, "comment_id": 105492720, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/205683/discussion-between-troy-palacino-and-victor-laio\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 538, "user_id": 984059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1501f7aef3640a3304b0edc2b9cab62e?s=128&d=identicon&r=PG", "display_name": "Troy Palacino", "link": "https://stackoverflow.com/users/984059/troy-palacino"}, "is_accepted": false, "score": 2, "last_activity_date": 1578523485, "creation_date": 1578523485, "answer_id": 59654855, "question_id": 59544251, "link": "https://stackoverflow.com/questions/59544251/alternatives-for-taking-a-screenshot/59654855#59654855", "title": "Alternatives for taking a screenshot", "body": "<p><strong>DISCLAIMER: I am not responsible in any way for anything that anyone does with any code shared or made accessible from this answer.</strong></p>\n\n<p>I agree that the concept of screen capturing video games that feature any type of anti-cheat software is sketchy. The other side of that coin is that there could be any number of valid personal reasons to have a separate utility that can capture screenshots or video and process the content (i.e. custom notifications of in game activity, making the game more accessible to disabled persons by parsing messages and playing them through a synthesizer API, etc...).</p>\n\n<p>All that being said, I downloaded and installed Tibia, copied the <code>FullScreenshot</code> code snippet from <a href=\"https://ourcodeworld.com/articles/read/195/capturing-screenshots-of-different-ways-with-c-and-winforms\" rel=\"nofollow noreferrer\">this article</a> into a simple WinForms app project, and was able to save a screenshot of the game (shown below).</p>\n\n<p>The WinForms app can be <a href=\"https://1drv.ms/u/s!At8HP2hlc5_wgb1OImucYQIzhv2WkA?e=37ruBo\" rel=\"nofollow noreferrer\">downloaded from here</a> to test before playing with the code yourself.</p>\n\n<p><strong>Screenshot of Tibia from custom app:</strong>\n<a href=\"https://i.stack.imgur.com/Zs7lk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zs7lk.jpg\" alt=\"this screenshot\"></a> </p>\n"}], "owner": {"reputation": 142, "user_id": 7231863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vOo56.jpg?s=128&g=1", "display_name": "Victor Laio", "link": "https://stackoverflow.com/users/7231863/victor-laio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 481, "favorite_count": 1, "answer_count": 2, "score": -5, "last_activity_date": 1578523485, "creation_date": 1577795791, "last_edit_date": 1577992395, "question_id": 59544251, "link": "https://stackoverflow.com/questions/59544251/alternatives-for-taking-a-screenshot", "title": "Alternatives for taking a screenshot", "body": "<p>I'm doing a bot to read images and transform it in text using Tesseract, but I have a problem with the target application named Tibia (Its a game in window mode screen), because it have a anti-screenshot protection. If I try, I got a black screen picture.</p>\n\n<p>A already have try <code>CopyFromScreen()</code>, <code>user32.dll</code>, and <code>gdi.dll</code> functions but without success.</p>\n\n<p>I tried these ways:</p>\n\n<pre><code>Bitmap printscreen = new Bitmap(Screen.PrimaryScreen.Bounds.Width, Screen.PrimaryScreen.Bounds.Height);\nGraphics graphics = Graphics.FromImage(printscreen as Image);\ngraphics.CopyFromScreen(0, 0, 0, 0, printscreen.Size);\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>public static Bitmap GetDesktopImage()\n{\n    WIN32_API.SIZE size;\n\n    IntPtr hDC = WIN32_API.GetDC(WIN32_API.GetDesktopWindow());\n    IntPtr hMemDC = WIN32_API.CreateCompatibleDC(hDC);\n\n    size.cx = WIN32_API.GetSystemMetrics(WIN32_API.SM_CXSCREEN);\n    size.cy = WIN32_API.GetSystemMetrics(WIN32_API.SM_CYSCREEN);\n\n    m_HBitmap = WIN32_API.CreateCompatibleBitmap(hDC, size.cx, size.cy);\n\n    if (m_HBitmap != IntPtr.Zero)\n    {\n        IntPtr hOld = (IntPtr)WIN32_API.SelectObject(hMemDC, m_HBitmap);\n        WIN32_API.BitBlt(hMemDC, 0, 0, size.cx, size.cy, hDC, 0, 0, WIN32_API.SRCCOPY);\n        WIN32_API.SelectObject(hMemDC, hOld);\n        WIN32_API.DeleteDC(hMemDC);\n        WIN32_API.ReleaseDC(WIN32_API.GetDesktopWindow(), hDC);\n        return System.Drawing.Image.FromHbitmap(m_HBitmap);\n    }\n    return null;\n}\n\npublic class WIN32_API\n{\n    public struct SIZE\n    {\n        public int cx;\n        public int cy;\n    }\n    public const int SRCCOPY = 13369376;\n    public const int SM_CXSCREEN = 0;\n    public const int SM_CYSCREEN = 1;\n\n    [DllImport(\"gdi32.dll\", EntryPoint = \"DeleteDC\")]\n    public static extern IntPtr DeleteDC(IntPtr hDc);\n\n    [DllImport(\"gdi32.dll\", EntryPoint = \"DeleteObject\")]\n    public static extern IntPtr DeleteObject(IntPtr hDc);\n\n    [DllImport(\"gdi32.dll\", EntryPoint = \"BitBlt\")]\n    public static extern bool BitBlt(IntPtr hdcDest, int xDest, int yDest, int wDest, int hDest, IntPtr hdcSource, int xSrc, int ySrc, int RasterOp);\n\n    [DllImport(\"gdi32.dll\", EntryPoint = \"CreateCompatibleBitmap\")]\n    public static extern IntPtr CreateCompatibleBitmap(IntPtr hdc, int nWidth, int nHeight);\n\n    [DllImport(\"gdi32.dll\", EntryPoint = \"CreateCompatibleDC\")]\n    public static extern IntPtr CreateCompatibleDC(IntPtr hdc);\n\n    [DllImport(\"gdi32.dll\", EntryPoint = \"SelectObject\")]\n    public static extern IntPtr SelectObject(IntPtr hdc, IntPtr bmp);\n\n    [DllImport(\"user32.dll\", EntryPoint = \"GetDesktopWindow\")]\n    public static extern IntPtr GetDesktopWindow();\n\n    [DllImport(\"user32.dll\", EntryPoint = \"GetDC\")]\n    public static extern IntPtr GetDC(IntPtr ptr);\n\n    [DllImport(\"user32.dll\", EntryPoint = \"GetSystemMetrics\")]\n    public static extern int GetSystemMetrics(int abc);\n\n    [DllImport(\"user32.dll\", EntryPoint = \"GetWindowDC\")]\n    public static extern IntPtr GetWindowDC(Int32 ptr);\n\n    [DllImport(\"user32.dll\", EntryPoint = \"ReleaseDC\")]\n    public static extern IntPtr ReleaseDC(IntPtr hWnd, IntPtr hDc);\n}\n</code></pre>\n\n<p>Can anyone help me?</p>\n\n<p>Have anyone api to capture print direct from GPU?</p>\n"}, {"tags": ["c#", "printing", "crystal-reports"], "comments": [{"owner": {"reputation": 171, "user_id": 953215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c35ee011bbcd4a1d8eba3708566b6b?s=128&d=identicon&r=PG", "display_name": "Ant&#243;nio Campos", "link": "https://stackoverflow.com/users/953215/ant%c3%b3nio-campos"}, "edited": false, "score": 0, "creation_date": 1577798266, "post_id": 59544244, "comment_id": 105258108, "body": "Try to set the paper size before rpvReportViewer.Refresh();  <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.reporting.webforms.reportviewer.setpagesettings\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 137, "user_id": 9275062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef003583e6316532bffcfeae4810b323?s=128&d=identicon&r=PG&f=1", "display_name": "Shaiwal Tripathi", "link": "https://stackoverflow.com/users/9275062/shaiwal-tripathi"}, "reply_to_user": {"reputation": 171, "user_id": 953215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15c35ee011bbcd4a1d8eba3708566b6b?s=128&d=identicon&r=PG", "display_name": "Ant&#243;nio Campos", "link": "https://stackoverflow.com/users/953215/ant%c3%b3nio-campos"}, "edited": false, "score": 0, "creation_date": 1578038030, "post_id": 59544244, "comment_id": 105316797, "body": "@Ant&#243;nioCampos Thanks for your comment but it&#39;s not working."}], "owner": {"reputation": 137, "user_id": 9275062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef003583e6316532bffcfeae4810b323?s=128&d=identicon&r=PG&f=1", "display_name": "Shaiwal Tripathi", "link": "https://stackoverflow.com/users/9275062/shaiwal-tripathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577798973, "creation_date": 1577795776, "last_edit_date": 1577798973, "question_id": 59544244, "link": "https://stackoverflow.com/questions/59544244/printer-error-waiting-for-paper-to-be-loaded-while-printing-crystal-report-in", "title": "Printer Error `Waiting For Paper To Be Loaded` while printing crystal report in c#", "body": "<p><br>I am fade up from this error. I am printing a receipt on a button click. But when command goes to the default printer, it show's the following printing error.<br>\n<a href=\"https://i.stack.imgur.com/Qobco.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qobco.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>There is no error in printing with other applications. I am using c# with MS-Access Database. Following is my code for printing</p>\n\n<pre><code>//Button Click Code\n    public void PrintOPDReceipt()\n            {\n                string ReportPath;\n                using (ReportDocument rptDc = new ReportDocument())\n                {\n                    using (OleDbConnection Con = Connections.Create())\n                    {\n                        Con.Open();\n                        using (DataSet OPDDataSet = new OPDDataSet())\n                        {\n                            DataTable Dt = new DataTable();\n                            Dt.Columns.Add(\"Query\", typeof(string));\n                            Dt.Rows.Add(\"select * from OPDRegistration where Id = \" + SetId + \"\");\n                            Dt.Rows.Add(\"select * from CompanyIdentity\");\n                            Dt.Rows.Add(\"Select * from ConsultantMaster where Id = (Select ConsultantId from OPDRegistration where Id = \" + SetId + \")\");\n                            using (DataSet Ds = GetPrintDetails(Dt, Con))\n                            {\n                                OPDDataSet.Tables[\"OPDRegistration\"].Merge(Ds.Tables[0]);\n                                OPDDataSet.Tables[\"CompanyIdentity\"].Merge(Ds.Tables[1]);\n                                OPDDataSet.Tables[\"ConsultantMaster\"].Merge(Ds.Tables[2]);\n                                ReportPath = Environment.CurrentDirectory + \"\\\\Reports\\\\rptOPDReceipt.rpt\";\n                                rptDc.Load(ReportPath);                            \n                                rptDc.SetDataSource(OPDDataSet);\n                                rpvReportViewer.ReportSource = rptDc;\n                                rpvReportViewer.Refresh();                                                     \n                                rptDc.PrintToPrinter(Convert.ToInt32(Connections.GetGlobalSettings.Rows[0][\"ReceiptPrintCopies\"]), false, 0, 0);\n                            }\n                        }\n                    }\n                }\n            }\n\n//This  how I am getting data from the database\n private DataSet GetPrintDetails(DataTable dt, OleDbConnection Con)\n        {\n            string Query = string.Empty;\n            using (DataTable NewDt = dt)\n            {\n                using (DataSet ds = new DataSet())\n                {\n                    foreach(DataRow Rw in NewDt.Rows)\n                    {\n                        Query = Rw[0].ToString();\n                        using (OleDbCommand cmd = new OleDbCommand(Query, Con))\n                        {\n                            using (OleDbDataAdapter adp = new OleDbDataAdapter())\n                            {\n                                using (DataTable DataDt = new DataTable())\n                                {\n                                    adp.SelectCommand = cmd;\n                                    adp.Fill(DataDt);\n                                    ds.Tables.Add(DataDt);\n                                }\n                            }\n                        }\n                    }\n                    return ds;\n                }\n            }\n        }\n</code></pre>\n\n<p><strong>Note</strong> There is no problem with Printer because it's working fine with other applications.<br>\nAny help will be appreciated. Thank you.</p>\n"}, {"tags": ["c#", "firebase", "unity3d", "firebase-authentication"], "answers": [{"tags": [], "owner": {"reputation": 3985, "user_id": 1134902, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pSWiM.jpg?s=128&g=1", "display_name": "Iggy", "link": "https://stackoverflow.com/users/1134902/iggy"}, "is_accepted": false, "score": 0, "last_activity_date": 1577797140, "creation_date": 1577797140, "answer_id": 59544430, "question_id": 59544210, "link": "https://stackoverflow.com/questions/59544210/firebase-authentication-does-not-work-on-android-device/59544430#59544430", "title": "Firebase Authentication does not work on Android device", "body": "<p>Try resolving android dependencies.</p>\n\n<p><code>Assets &gt; Play Services Resolver &gt; Android Resolver &gt; Force Resolve</code></p>\n"}], "owner": {"reputation": 307, "user_id": 10645179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48602dfcf2b7f865f1caa64d4fdce91?s=128&d=identicon&r=PG&f=1", "display_name": "Beginner_", "link": "https://stackoverflow.com/users/10645179/beginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577806788, "creation_date": 1577795554, "last_edit_date": 1577806788, "question_id": 59544210, "link": "https://stackoverflow.com/questions/59544210/firebase-authentication-does-not-work-on-android-device", "title": "Firebase Authentication does not work on Android device", "body": "<p>I am trying to authenticate users with Firebase.</p>\n\n<p>Earlier I asked <a href=\"https://stackoverflow.com/questions/59520551/gameobject-setactive-inside-firebase-authentication-not-called\">a question</a>.\nIn that question, it was a problem that occurred in both the Unity editor and the Android actual machine.</p>\n\n<p>However, the answer to that question only worked in Unity's editor.</p>\n\n<p>The following code calls <code>PushedButton ()</code> when the button is pressed and reads <code>RegisterUser (string, string)</code>.</p>\n\n<pre><code>public void PushedButton()\n{\n    string Email, Password; //is substituted\n    StartCoroutine(RegisterUser(Email, Password));\n}\nIEnumerator RegisterUser(string email, string password)\n{\n    var auth = FirebaseAuth.DefaultInstance;\n    var registerTask = auth.CreateUserWithEmailAndPasswordAsync(email, password);\n\n    yield return new WaitUntil(() =&gt; registerTask.IsCompleted);\n\n    if (registerTask.Exception != null)\n    {\n        Debug.LogWarning($\"Failed to register task with {registerTask.Exception}\");\n        Obj.SetActive(true);\n    }\n    else\n    {\n        Debug.Log($\"Successfully registered user {registerTask.Result.Email}\");\n    }\n}\n</code></pre>\n\n<p>But these two lines are not called on Android devices:</p>\n\n<pre><code>Debug.LogWarning ($ \"Failed to register task with {registerTask.Exception}\");\n</code></pre>\n\n<p><em>and</em> </p>\n\n<pre><code>Debug.Log ($ \"Successfully registered user {registerTask.Result.Email}\"); \n</code></pre>\n\n<p>What is the difference between an editor and an Android device? I don't know what to do.</p>\n"}, {"tags": ["c#", ".net", "sqlite", "xamarin.forms", "sqlite-net"], "comments": [{"owner": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1577801058, "post_id": 59544197, "comment_id": 105259045, "body": "You could  change the method as a task <code>public Task &lt;string&gt;UpdateUserInfos(MyUser localuser)     {         conn.UpdateAsync(localuser);         return &quot;success&quot;;     }</code>"}, {"owner": {"reputation": 111, "user_id": 12593385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bd662fd72f477f46ee96b9e465c8c0?s=128&d=identicon&r=PG&f=1", "display_name": "hugokis", "link": "https://stackoverflow.com/users/12593385/hugokis"}, "reply_to_user": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1577802946, "post_id": 59544197, "comment_id": 105259621, "body": "@LucasZhang-MSFT  I do not have UpdateAsynch"}, {"owner": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1577803107, "post_id": 59544197, "comment_id": 105259674, "body": "Check <a href=\"https://github.com/praeclarum/sqlite-net\" rel=\"nofollow noreferrer\">github.com/praeclarum/sqlite-net</a>"}, {"owner": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1577860219, "post_id": 59544197, "comment_id": 105269741, "body": "I will post it as answer , could you accept it ?Which will help more people :)"}, {"owner": {"reputation": 111, "user_id": 12593385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bd662fd72f477f46ee96b9e465c8c0?s=128&d=identicon&r=PG&f=1", "display_name": "hugokis", "link": "https://stackoverflow.com/users/12593385/hugokis"}, "reply_to_user": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1577884341, "post_id": 59544197, "comment_id": 105274125, "body": "@LucasZhang-MSFT Yes of course with pleasure !"}], "answers": [{"tags": [], "owner": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "is_accepted": true, "score": 0, "last_activity_date": 1577884642, "creation_date": 1577884642, "answer_id": 59552868, "question_id": 59544197, "link": "https://stackoverflow.com/questions/59544197/how-to-update-an-item-in-database-with-sqlite-in-xamarin-forms/59552868#59552868", "title": "How to update an item in database with SQLite in Xamarin forms", "body": "<p>For SQLite in Xamarin.Forms we could use the plugin  <a href=\"https://github.com/praeclarum/sqlite-net\" rel=\"nofollow noreferrer\">sqlite-net-pcl</a> .</p>\n\n<p>It has very simple methods for executing CRUD operations and queries safely (using parameters) and for retrieving the results of those query in a strongly typed fashion.</p>\n\n<p>In your case , you would better update the data as <code>async</code></p>\n\n<pre><code>public Task &lt;string&gt;UpdateUserInfos(MyUser localuser) \n{ \n   conn.UpdateAsync(localuser); \n   return \"success\"; \n}\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 12593385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bd662fd72f477f46ee96b9e465c8c0?s=128&d=identicon&r=PG&f=1", "display_name": "hugokis", "link": "https://stackoverflow.com/users/12593385/hugokis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 636, "favorite_count": 0, "accepted_answer_id": 59552868, "answer_count": 1, "score": 1, "last_activity_date": 1577884642, "creation_date": 1577795483, "last_edit_date": 1577809724, "question_id": 59544197, "link": "https://stackoverflow.com/questions/59544197/how-to-update-an-item-in-database-with-sqlite-in-xamarin-forms", "title": "How to update an item in database with SQLite in Xamarin forms", "body": "<p>I am trying to update the user infos on my app.</p>\n\n<p>I can add a user in my database but when I am trying to update its information, it is not working.</p>\n\n<p>Here is the function that change information:</p>\n\n<pre><code> public void ChangerLanguageValue(string language)\n {\n     var myuser = userinfodatabase.GetUsers();\n     myuser.NewsLanguage = language;     \n     userinfodatabase.UpdateUserInfos(myuser); // this does not work\n }\n</code></pre>\n\n<p>Here is my database configuration :</p>\n\n<pre><code>class UserInfosDatabase\n{\n    private SQLiteConnection conn;\n\n    public UserInfosDatabase()\n    {\n        conn = DependencyService.Get&lt;ISQLite&gt;().GetConnection();\n        conn.CreateTable&lt;MyUser&gt;();\n    }\n\n    public string AddUser(MyUser localuser)\n    {\n        conn.Insert(localuser);\n        return \"success\";\n    }\n\n    public MyUser GetUsers()\n    {\n        var users = (from u in conn.Table&lt;MyUser&gt;() select u);\n        return users.ToList().FirstOrDefault();\n    }\n\n    //Update\n    public string UpdateUserInfos(MyUser localuser)\n    {\n        conn.Update(localuser);\n        return \"succes\";\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "web-services", "xamarin", "xamarin.forms"], "comments": [{"owner": {"reputation": 1980, "user_id": 4977870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XYtfY.jpg?s=128&g=1", "display_name": "Anas Alweish", "link": "https://stackoverflow.com/users/4977870/anas-alweish"}, "edited": false, "score": 0, "creation_date": 1577799518, "post_id": 59544181, "comment_id": 105258573, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/35634662/xamarin-forms-app-sql-server-database-options\">Xamarin.Forms app SQL-server database options</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26090, "user_id": 1324345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49a5646905e90183ecc762ff8ea35ca1?s=128&d=identicon&r=PG", "display_name": "alroc", "link": "https://stackoverflow.com/users/1324345/alroc"}, "is_accepted": false, "score": 1, "last_activity_date": 1577797989, "creation_date": 1577797989, "answer_id": 59544571, "question_id": 59544181, "link": "https://stackoverflow.com/questions/59544181/how-to-connect-a-xamarin-forms-application-to-ms-sql-server/59544571#59544571", "title": "How to connect a xamarin forms application to ms sql server", "body": "<p>Since you're an intern, your manager and/or mentor should be giving you more detailed requirements and guidance. You should be asking <em>them</em> first, not Stack Overflow.</p>\n\n<p>Yes, you should absolutely create a web service for your application to interact with. You do not want to expose your SQL Server to the internet at large, nor do you want to have to scatter credentials to all your users' devices (or manage different database credentials for each user).</p>\n\n<p>This question likely will be (and should be) closed because it is <em>far</em> too broad to be answered in this medium. Entire <em>books</em> have been written on this subject.</p>\n"}], "owner": {"reputation": 11, "user_id": 12632120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7409d8dd67b4be47bb6753fbacb7d7e4?s=128&d=identicon&r=PG&f=1", "display_name": "StefanoICT", "link": "https://stackoverflow.com/users/12632120/stefanoict"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "closed_date": 1577800768, "answer_count": 1, "score": 1, "last_activity_date": 1577802578, "creation_date": 1577795358, "last_edit_date": 1577802578, "question_id": 59544181, "link": "https://stackoverflow.com/questions/59544181/how-to-connect-a-xamarin-forms-application-to-ms-sql-server", "closed_reason": "Duplicate", "title": "How to connect a xamarin forms application to ms sql server", "body": "<p>I am an intern and need to build a android and ios application to register worked hours. I use xamarin forms to build this crossplatform application. The application needs to be able to add things to the database wictch is located on the company server (ms sql server).</p>\n\n<p>I have never worked with servers before so i have no idea how i can get data from this database (for the application login) and put data in it (hour registrations).</p>\n\n<p>Webresearch has tought me that i proberly have to create a webservice but at this point i'm not so sure.</p>\n\n<p>Does anyone have any experience or tips about what I should do next? thanks in advance!</p>\n"}, {"tags": ["c#", ".net", "sql-server", "asp.net-core-2.2", "linq2db"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12631907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa65edab79c4e71eb7025b56ecd5cd6b?s=128&d=identicon&r=PG&f=1", "display_name": "RajPawar", "link": "https://stackoverflow.com/users/12631907/rajpawar"}, "edited": false, "score": 0, "creation_date": 1578042494, "post_id": 59544102, "comment_id": 105318291, "body": "Referring the above given link I got to know which configurations to do, but it does not cleared that how the database and tables gets created based on code. How can I generate Database and tables based on my code"}], "tags": [], "owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "is_accepted": false, "score": 1, "last_activity_date": 1577794929, "creation_date": 1577794929, "answer_id": 59544102, "question_id": 59543993, "link": "https://stackoverflow.com/questions/59543993/how-to-create-database-in-microsoft-sql-server-using-linq2db-by-code-first-appro/59544102#59544102", "title": "How to create database in Microsoft SQL Server using linq2db by code first approach in .NET CORE 2.2", "body": "<p>Linq2Db has a link <a href=\"https://linq2db.github.io/index.html\" rel=\"nofollow noreferrer\">https://linq2db.github.io/index.html</a>\nwhich provides more information about how to create a POCO and create a table based on it.</p>\n\n<p>As per the page, a simple POCO can go like this:</p>\n\n<pre><code>using System;\nusing LinqToDB.Mapping;\n\n[Table(Name = \"Products\")]\npublic class Product\n{\n  [PrimaryKey, Identity]\n  public int ProductID { get; set; }\n\n  [Column(Name = \"ProductName\"), NotNull]\n  public string Name { get; set; }\n\n  // ... other columns ...\n}\n</code></pre>\n\n<p>Then you need to configure the connection strings.</p>\n"}], "owner": {"reputation": 11, "user_id": 12631907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa65edab79c4e71eb7025b56ecd5cd6b?s=128&d=identicon&r=PG&f=1", "display_name": "RajPawar", "link": "https://stackoverflow.com/users/12631907/rajpawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577795547, "creation_date": 1577794310, "last_edit_date": 1577795547, "question_id": 59543993, "link": "https://stackoverflow.com/questions/59543993/how-to-create-database-in-microsoft-sql-server-using-linq2db-by-code-first-appro", "title": "How to create database in Microsoft SQL Server using linq2db by code first approach in .NET CORE 2.2", "body": "<p>Created new project in .net core 2.2 and installed nuget package <strong>linq2db.sqlserver</strong> using this package i am able to do CRUD with database first approach but i need to know how to do CRUD using code first approach.</p>\n"}, {"tags": ["c#", "asp.net-boilerplate", "abp"], "comments": [{"owner": {"reputation": 16731, "user_id": 8601760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9348fa94d90ab91964df9cc40f6d6d27?s=128&d=identicon&r=PG&f=1", "display_name": "aaron", "link": "https://stackoverflow.com/users/8601760/aaron"}, "edited": false, "score": 1, "creation_date": 1577800157, "post_id": 59543848, "comment_id": 105258768, "body": "Read the documentation: <a href=\"https://aspnetboilerplate.com/Pages/Documents/Logging\" rel=\"nofollow noreferrer\">aspnetboilerplate.com/Pages/Documents/Logging</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1167, "user_id": 3270552, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/cLwBB.png?s=128&g=1", "display_name": "Sara NikitaUsefi", "link": "https://stackoverflow.com/users/3270552/sara-nikitausefi"}, "is_accepted": true, "score": 1, "last_activity_date": 1579334552, "creation_date": 1579334552, "answer_id": 59798647, "question_id": 59543848, "link": "https://stackoverflow.com/questions/59543848/use-abpcastlelog4netmodule-in-abp-module/59798647#59798647", "title": "Use AbpCastleLog4NetModule in Abp Module", "body": "<p>I Finally find my answer.in the bootstrapper:</p>\n\n<pre><code>using Abp;\nusing Abp.Castle.Logging.Log4Net;\nusing Abp.Dependency;\nusing Castle.Facilities.Logging;\nusing System;\n\nnamespace MYNAMESPACE\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            //Bootstrapping ABP system\n            using (var bootstrapper = AbpBootstrapper.Create&lt;MYMODULE&gt;())\n            {\n                IocManager.Instance.IocContainer.AddFacility&lt;LoggingFacility&gt;(f =&gt; f.UseAbpLog4Net().WithConfig(\"log.config\"));\n                bootstrapper.Initialize();\n                Console.WriteLine(\"Press enter to exit...\");\n                Console.ReadLine();\n            }\n            Console.ReadLine();\n        }\n    }\n}\n</code></pre>\n\n<p>And Inside MyModule I have:</p>\n\n<pre><code>    public class MYMODULE: AbpModule\n        {\n            Timer timer;\n            private static readonly ILog log = LogManager.GetLogger(typeof(MYMODULE));\n            public override void PreInitialize()\n            {\n                log.Error(\"MyMessage\");\n            }\n        }\n</code></pre>\n\n<p>and inside my log.config I can config my setting for logging (for instance I can set configuration for log4net,graylog or both):</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n    &lt;log4net&gt;\n&lt;appender name=\"RollingLogFileAppender\" type=\"log4net.Appender.RollingFileAppender\"&gt;\n    &lt;lockingModel type=\"log4net.Appender.FileAppender+MinimalLock\"/&gt;\n    &lt;file value=\"C:\\Temp\\\" /&gt;\n    &lt;datePattern value=\"yyyy-MM-dd.'txt'\"/&gt;\n    &lt;staticLogFileName value=\"false\"/&gt;\n    &lt;appendToFile value=\"true\"/&gt;\n    &lt;rollingStyle value=\"Date\"/&gt;\n    &lt;maxSizeRollBackups value=\"100\"/&gt;\n    &lt;maximumFileSize value=\"15MB\"/&gt;\n    &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n      &lt;conversionPattern value=\"%date [%thread] %-5level App  %newline %message %newline %newline\"/&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n      &lt;appender name=\"GelfHttpAppender\" type=\"Gelf4Net.Appender.GelfHttpAppender, Gelf4Net.HttpAppender\"&gt;\n        &lt;url value=\"http://MYURL/gelf\" /&gt;\n        &lt;layout type=\"Gelf4Net.Layout.GelfLayout, Gelf4Net.Core\"&gt;\n          &lt;param name=\"AdditionalFields\" value=\"app:MYAPP,version:1.0,Environment:Dev,Level:%level\" /&gt;\n          &lt;param name=\"Facility\" value=\"RandomPhrases\" /&gt;\n          &lt;param name=\"IncludeLocationInformation\" value=\"true\" /&gt;\n        &lt;/layout&gt;\n      &lt;/appender&gt;\n\n      &lt;root&gt;\n        &lt;level value=\"All\"/&gt;\n        &lt;appender-ref ref=\"GelfHttpAppender\"/&gt;\n      &lt;/root&gt;\n    &lt;/log4net&gt;\n</code></pre>\n"}], "owner": {"reputation": 1167, "user_id": 3270552, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/cLwBB.png?s=128&g=1", "display_name": "Sara NikitaUsefi", "link": "https://stackoverflow.com/users/3270552/sara-nikitausefi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 59798647, "answer_count": 1, "score": 1, "last_activity_date": 1579334552, "creation_date": 1577793451, "question_id": 59543848, "link": "https://stackoverflow.com/questions/59543848/use-abpcastlelog4netmodule-in-abp-module", "title": "Use AbpCastleLog4NetModule in Abp Module", "body": "<p>I have this Class library(.net standard) which contains an Abp module and I want to log exceptions via AbpCastleLog4NetModule.\nthis class library is going to be used in an .net core console project.</p>\n\n<pre><code>[DependsOn(typeof(ANOTHERMODULE),typeof(AbpCastleLog4NetModule))]\npublic class MyModule : AbpModule\n    {\n        public override void PostInitialize()\n        {\n            var waitTime = 30000;\n            timer = new Timer((x) =&gt;\n            {\n                Integration();\n            }, null, 0, waitTime);\n\n        }\n        private void Integration()\n        {\n            var waitTime=30000;\n            timer.Change(Timeout.Infinite, Timeout.Infinite);\n            foreach (var sftpOptions in optionsCollections)\n            {\n                try\n                {\n                    //Do Something\n\n                }\n                catch (Exception ex)\n                {\n                    //log errors\n                }\n            }\n            timer.Change(waitTime, waitTime);\n        }\n    }\n</code></pre>\n\n<p>can anyone help me with a working sample?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2628, "user_id": 2495728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bgl4n.jpg?s=128&g=1", "display_name": "Jonathan Alfaro", "link": "https://stackoverflow.com/users/2495728/jonathan-alfaro"}, "edited": false, "score": 0, "creation_date": 1577801902, "post_id": 59543720, "comment_id": 105259285, "body": "Try setting the BaseUrl.  And constructing the rest of the URL and Query String and that is what you pass to your methods"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9110744, "user_type": "registered", "profile_image": "https://graph.facebook.com/1166820256786305/picture?type=large", "display_name": "Jethro van den Oever", "link": "https://stackoverflow.com/users/9110744/jethro-van-den-oever"}, "edited": false, "score": 0, "creation_date": 1610853572, "post_id": 59543902, "comment_id": 116262273, "body": "I&#39;m sorry for the late verification. I think I already solved the problem a while ago, but I&#39;m not that active on Stackoverflow lately. Thanks for the help though, I really appreciate it and I hope others do too."}], "tags": [], "owner": {"reputation": 850, "user_id": 6664433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZUlAb.jpg?s=128&g=1", "display_name": "Ivan Martinyuk", "link": "https://stackoverflow.com/users/6664433/ivan-martinyuk"}, "is_accepted": true, "score": 5, "last_activity_date": 1577793801, "creation_date": 1577793801, "answer_id": 59543902, "question_id": 59543720, "link": "https://stackoverflow.com/questions/59543720/c-httpclient-getstringasync-404-not-found/59543902#59543902", "title": "C# HttpClient() getStringASync() 404 (Not Found)", "body": "<p>So you could catch HttpRequestException, but my suggestion do not use GetStringAsync better way use GetAsync method</p>\n\n<pre><code>HttpClient client = new HttpClient();\nvar response = await client.GetAsync(\"https://www.yourwebsite.com\");\nif (response.IsSuccessStatusCode) {\n  var getResponsestring = await response.Content.ReadAsStringAsync();\n}\nelse {\n  ... your logic here \n\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9110744, "user_type": "registered", "profile_image": "https://graph.facebook.com/1166820256786305/picture?type=large", "display_name": "Jethro van den Oever", "link": "https://stackoverflow.com/users/9110744/jethro-van-den-oever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "accepted_answer_id": 59543902, "answer_count": 1, "score": 1, "last_activity_date": 1577793801, "creation_date": 1577792745, "question_id": 59543720, "link": "https://stackoverflow.com/questions/59543720/c-httpclient-getstringasync-404-not-found", "title": "C# HttpClient() getStringASync() 404 (Not Found)", "body": "<p>So i'm trying to make a basic Console Application that simply gets the visible text on the webpage.\nBut for example, if the page is not found, i'm getting an error.\nI'm not sure how i'd be able to fix this error, like, if it errors i want it to just ignore it.\nI tried adding a if statement but it does the exact same.</p>\n\n<pre><code>HttpClient client = new HttpClient();\nstring content = await client.GetStringAsync(\"https://www.yourwebsite.com/);\n</code></pre>\n"}, {"tags": ["javascript", "c#", "selenium-webdriver", "popupwindow", "print-preview"], "comments": [{"owner": {"reputation": 486, "user_id": 2925326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000706911999/picture?type=large", "display_name": "\u0645\u062d\u0645\u062f \u0627\u0644\u0646\u0639\u064a\u0645\u064a", "link": "https://stackoverflow.com/users/2925326/%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d9%86%d8%b9%d9%8a%d9%85%d9%8a"}, "edited": false, "score": 0, "creation_date": 1577799824, "post_id": 59543642, "comment_id": 105258671, "body": "use css media print"}, {"owner": {"reputation": 1361, "user_id": 11808788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90824afde2c0e06cc75077e8a411590b?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/11808788/charles"}, "edited": false, "score": 0, "creation_date": 1577811792, "post_id": 59543642, "comment_id": 105262445, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/11537103/how-to-handle-print-dialog-in-selenium\">How to handle print dialog in Selenium?</a>"}, {"owner": {"reputation": 3449, "user_id": 5324105, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z4RgL.jpg?s=128&g=1", "display_name": "Rahul L", "link": "https://stackoverflow.com/users/5324105/rahul-l"}, "edited": false, "score": 0, "creation_date": 1577965581, "post_id": 59543642, "comment_id": 105293236, "body": "<a href=\"https://stackoverflow.com/a/57218421/5324105\">stackoverflow.com/a/57218421/5324105</a> For clicking on the cancel button. Use C#  equivalent ExecuteScript()"}, {"owner": {"reputation": 1, "user_id": 9348464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6a233a5b8e2e6f2518e647619bcdfbe?s=128&d=identicon&r=PG&f=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9348464/eddy"}, "reply_to_user": {"reputation": 3449, "user_id": 5324105, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z4RgL.jpg?s=128&g=1", "display_name": "Rahul L", "link": "https://stackoverflow.com/users/5324105/rahul-l"}, "edited": false, "score": 0, "creation_date": 1578032516, "post_id": 59543642, "comment_id": 105315170, "body": "@RahulL thanks. but i want to check if the print preview popup is getting displayed or not.. any way to identify it?"}, {"owner": {"reputation": 3449, "user_id": 5324105, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z4RgL.jpg?s=128&g=1", "display_name": "Rahul L", "link": "https://stackoverflow.com/users/5324105/rahul-l"}, "edited": false, "score": 0, "creation_date": 1578032974, "post_id": 59543642, "comment_id": 105315296, "body": "Check if new window available or not and check existence of &#39;print-preview-app&#39; in new window"}], "owner": {"reputation": 1, "user_id": 9348464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6a233a5b8e2e6f2518e647619bcdfbe?s=128&d=identicon&r=PG&f=1", "display_name": "Eddy", "link": "https://stackoverflow.com/users/9348464/eddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577792321, "creation_date": 1577792321, "question_id": 59543642, "link": "https://stackoverflow.com/questions/59543642/is-there-any-way-to-verify-whether-a-print-popup-is-displaying-in-chrome-browser", "title": "Is there any way to verify whether a print popup is displaying in Chrome browser using C# Selenium? If JavaScript can be used how to use it?", "body": "<p><a href=\"https://i.stack.imgur.com/eIN56.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eIN56.png\" alt=\"Print Popup\"></a></p>\n\n<p>In C# Selenium, after clicking on a button a print preview popup will appear as in the attached image. In case of failure this will not appear and I will use the page elements to find that the test case is failed.</p>\n\n<p>Now in the success scenario, I need to check whether a print preview popup is appeared or not. If YES i need to click on CANCEL button in that print preview popup and verify the page content which is behind the popup. Unfortunately Selenium doesn't identifies the content behind the popup until the popup appears..</p>\n\n<p>Can anyone help me out to solve this problem in C# Selenium.</p>\n"}, {"tags": ["c#", "sql", "sql-server"], "comments": [{"owner": {"reputation": 2123, "user_id": 3715853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab97a97ef6e4c263972d713671b58e3?s=128&d=identicon&r=PG&f=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/3715853/holger"}, "edited": false, "score": 0, "creation_date": 1577792704, "post_id": 59543594, "comment_id": 105256265, "body": "try removing the &quot;AUTO&quot; option. Your output looks like the result of a grouping, if this comes out on a simple JOIN, this grouping must be done to reduce datasize. You want the bigger datasize, this is not the default."}, {"owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "edited": false, "score": 0, "creation_date": 1577792706, "post_id": 59543594, "comment_id": 105256267, "body": "your may be having multiple contact_ids in f for every co.contact_id"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11191334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9adc44ec50c1c460b449d7d5e248c6dc?s=128&d=identicon&r=PG&f=1", "display_name": "hadi boukdir", "link": "https://stackoverflow.com/users/11191334/hadi-boukdir"}, "edited": false, "score": 0, "creation_date": 1577802530, "post_id": 59543864, "comment_id": 105259471, "body": "Thank you so much, you are a star :D"}], "tags": [], "owner": {"reputation": 2650, "user_id": 9549856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EpCt0.jpg?s=128&g=1", "display_name": "Reza Jenabi", "link": "https://stackoverflow.com/users/9549856/reza-jenabi"}, "is_accepted": true, "score": 0, "last_activity_date": 1577798118, "last_edit_date": 1577798118, "creation_date": 1577793528, "answer_id": 59543864, "question_id": 59543594, "link": "https://stackoverflow.com/questions/59543594/how-to-sql-select-with-join-from-two-tables-and-get-one-json-object/59543864#59543864", "title": "how to SQL select with join from two tables and get one json object", "body": "<p>You can use this code:</p>\n\n<pre><code>SELECT *\nFROM    \n    (SELECT TOP 1 \n         co.[contactid]  AS [c.id],\n         co.[firstname] + ' ' + co.[lastname] AS [c.fullname],\n         f.[name]        AS [p.name],\n         f.[username]    AS [p.username],\n         f.[date]        AS [p.startDate]\n     FROM   \n         [dbo].[table1] co\n     JOIN \n         [dbo].[table2] f ON co.[contactid] = f.[contact_id]\n     WHERE  \n         co.[lastname] LIKE 'last%') a           \nFOR JSON AUTO\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11191334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9adc44ec50c1c460b449d7d5e248c6dc?s=128&d=identicon&r=PG&f=1", "display_name": "hadi boukdir", "link": "https://stackoverflow.com/users/11191334/hadi-boukdir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 59543864, "answer_count": 1, "score": 1, "last_activity_date": 1577798118, "creation_date": 1577792109, "last_edit_date": 1577797765, "question_id": 59543594, "link": "https://stackoverflow.com/questions/59543594/how-to-sql-select-with-join-from-two-tables-and-get-one-json-object", "title": "how to SQL select with join from two tables and get one json object", "body": "<p>Please I am working on a project and I am kind of stuck in this. </p>\n\n<p>My SELECT is as simple as this: </p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT TOP 1 \n  co.[contactid] AS [c.id], \n  co.[firstname] + ' ' + co.[lastname] AS [c.fullname], \n  f.[name] AS [p.name], \n  f.[username] AS [p.username], \n  f.[date] AS [p.startDate] \nFROM [dbo].[table1] co \nJOIN [dbo].[table2] f ON co.[contactid] = f.[contact_id] \nWHERE co.[lastname] LIKE 'last%' \nFOR JSON AUTO\n</code></pre>\n\n<p>and I get :</p>\n\n<pre><code>[{\n\"c.id\": \"1\",\n\"c.fullname\": \"firstname lastname\",\n\"f\": [\n  {\n    \"p.name\": \"name1\",\n    \"p.username\": \"Username1\",\n    \"p.startDate\": \"2015-06-15\"\n  }\n]}]\n</code></pre>\n\n<p>I would like the result to be:</p>\n\n<pre><code>[{\n  \"c.id\": \"1\",\n  \"c.fullname\": \"firstname lastname\",\n  \"p.name\": \"name1\",\n  \"p.username\": \"Username1\",\n  \"p.startDate\": \"2015-06-15\"\n}]\n</code></pre>\n"}, {"tags": ["c#", "asynchronous", "serial-port"], "answers": [{"tags": [], "owner": {"reputation": 1548, "user_id": 2009197, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kzFYk.png?s=128&g=1", "display_name": "Baddack", "link": "https://stackoverflow.com/users/2009197/baddack"}, "is_accepted": true, "score": 0, "last_activity_date": 1578435582, "creation_date": 1578435582, "answer_id": 59636892, "question_id": 59543563, "link": "https://stackoverflow.com/questions/59543563/c-serialport-read-command-response-continuously/59636892#59636892", "title": "C# SerialPort read command response continuously", "body": "<p>Should be able to achieve this using the <code>Timer</code> class.  You're pretty close.  Note that you should create your <code>DataReceived</code> event before opening the port.</p>\n\n<pre><code>SerialPort sp;\nTimer tm;\nprivate void init_ports()\n{\n    //Setup our Serial Port\n    sp = new SerialPort();\n    sp.NewLine = \"\\r\\n\";\n    sp.PortName = this.PortName;\n    sp.BaudRate = this.BaudRate;\n    sp.Parity = Parity.None;\n    sp.DataBits = 8;\n    sp.StopBits = StopBits.One;\n    sp.Handshake = Handshake.None;\n    sp.DtrEnable = true;\n    sp.WriteBufferSize = 1024;\n    sp.DataReceived += new SerialDataReceivedEventHandler(sp_DataReceived);\n\n    //Setup our Timer\n    tm = new Timer();\n    tm.Tick += new EventHandler(tm_Tick);\n    tm.Interval = 1000; //in ms\n    tm.Enabled = true;  //Start our timer\n}\n\nvoid tm_Tick(object sender, EventArgs e)\n{\n    if (!sp.IsOpen)\n        sp.Open();\n\n    sp.Write(\"C\");\n}\n\nvoid sp_DataReceived(object sender, SerialDataReceivedEventArgs e)\n{\n    string indata = sp.ReadExisting();\n    Console.WriteLine(\"Data Received:\");\n    Console.Write(indata);\n}\n</code></pre>\n\n<p>You should be able to call <code>init_ports</code> and once a second it should send the <code>C</code> command.</p>\n"}], "owner": {"reputation": 43, "user_id": 3368585, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3a6d957412987bd83dc984dfb89b8316?s=128&d=identicon&r=PG&f=1", "display_name": "LaCalienta", "link": "https://stackoverflow.com/users/3368585/lacalienta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 824, "favorite_count": 0, "accepted_answer_id": 59636892, "answer_count": 1, "score": 0, "last_activity_date": 1578435582, "creation_date": 1577791936, "last_edit_date": 1577792189, "question_id": 59543563, "link": "https://stackoverflow.com/questions/59543563/c-serialport-read-command-response-continuously", "title": "C# SerialPort read command response continuously", "body": "<p>I have a class that has to read a position continuously\nI am able to read the position but only once, so how would I send a command continuously and read back its response</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.IO.Ports;\nusing System.Linq;\nusing System.Text;\nusing System.Threading;\nusing System.Threading.Tasks;\n\nnamespace SharpRotor.Lib\n{\n    public class SharpRotorL\n    {\n        string PortName;\n        int BaudRate;\n        public SharpRotorL(string PortName, int BaudRate)\n        {\n            this.PortName = PortName;\n            this.BaudRate = BaudRate;\n        }\n        SerialPort sp = new SerialPort();\n        public void test()\n        {\n\n            sp.NewLine = \"\\r\\n\";\n            sp.PortName = this.PortName;\n            sp.BaudRate = this.BaudRate;\n            sp.Parity = Parity.None;\n            sp.DataBits = 8;\n            sp.StopBits = StopBits.One;\n            sp.Handshake = Handshake.None;\n            sp.DtrEnable = true;\n            sp.WriteBufferSize = 1024;\n\n            string t = \"\";\n            int timeout = 10000; //t: response msg\n            try\n            {\n                if (!sp.IsOpen)\n                    sp.Open();\n                Thread.Sleep(200);\n                sp.BaseStream.Flush();\n                sp.WriteLine(\"C\"); //Ex: cmd=C to get Position (+0001)\n                sp.BaseStream.Flush();\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(ex.Message);\n            }\n            sp.DataReceived += new SerialDataReceivedEventHandler(DataReceivedHandler);\n        }\n\n\n\n\n        private void DataReceivedHandler(\n                            object sender,\n                            SerialDataReceivedEventArgs e)\n        {\n            SerialPort sp = (SerialPort)sender;\n            string indata = sp.ReadExisting();\n            Console.WriteLine(\"Data Received:\");\n            Console.Write(indata);\n        }\n    }\n}\n</code></pre>\n\n<p>as well as reading asynchronously I would also like to send some commands back while still reading position data</p>\n\n<p>Not sure if this is possible, if it is I would love to know a way.</p>\n"}, {"tags": ["c#", "visual-studio", "visual-studio-2019"], "comments": [{"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 1, "creation_date": 1577791529, "post_id": 59543406, "comment_id": 105255866, "body": "This is called <code>IntelliSense</code>, I believe"}, {"owner": {"reputation": 9735, "user_id": 6299857, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/O4G3u.jpg?s=128&g=1", "display_name": "Prasad Telkikar", "link": "https://stackoverflow.com/users/6299857/prasad-telkikar"}, "reply_to_user": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 1, "creation_date": 1577791670, "post_id": 59543406, "comment_id": 105255919, "body": "try <code>ctrl + .</code>, but before that you need that library added to your project. as @PavelAnikhouski said it is an <code>IntelliSense</code>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1577792448, "post_id": 59543406, "comment_id": 105256180, "body": "Two steps.  First pick the IntelliSense suggestion, next click the lightbulb icon in the left rail or the red squiggles to let it add the missing <i>using</i> declaration."}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 2, "creation_date": 1577792905, "post_id": 59543406, "comment_id": 105256326, "body": "That screenshot is taken from <i>JetBrains ReSharper</i>. <a href=\"https://www.jetbrains.com/resharper/\" rel=\"nofollow noreferrer\">jetbrains.com/resharper</a>"}, {"owner": {"reputation": 149, "user_id": 7976880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02127f7c860f962a0925b264030cd149?s=128&d=identicon&r=PG&f=1", "display_name": "Jaime Santos", "link": "https://stackoverflow.com/users/7976880/jaime-santos"}, "reply_to_user": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1577801667, "post_id": 59543406, "comment_id": 105259218, "body": "@MickyD I just installed it, thank you for answering (:"}, {"owner": {"reputation": 11326, "user_id": 9071943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7QLoV.jpg?s=128&g=1", "display_name": "Nguy\u1ec5n V\u0103n Phong", "link": "https://stackoverflow.com/users/9071943/nguy%e1%bb%85n-v%c4%83n-phong"}, "edited": false, "score": 0, "creation_date": 1577808475, "post_id": 59543406, "comment_id": 105261472, "body": "You can trigger <code>IntelliSense</code> in any editor window by typing <code>Ctrl+Space</code> or by typing a trigger character. Read <a href=\"https://code.visualstudio.com/docs/editor/intellisense#_intellisense-features\" rel=\"nofollow noreferrer\">here</a> for more details."}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1577830526, "post_id": 59543406, "comment_id": 105266613, "body": "@JaimeSantos you&#39;re welcome good sir.  Enjoy R# :)"}], "owner": {"reputation": 149, "user_id": 7976880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02127f7c860f962a0925b264030cd149?s=128&d=identicon&r=PG&f=1", "display_name": "Jaime Santos", "link": "https://stackoverflow.com/users/7976880/jaime-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577799677, "creation_date": 1577791212, "last_edit_date": 1577799677, "question_id": 59543406, "link": "https://stackoverflow.com/questions/59543406/how-to-have-the-namespaces-suggestions-tool-for-visual-studio-2019", "title": "how to have the namespaces suggestions tool for visual studio 2019", "body": "<p>I was watching some videos of C# on YouTube and I saw one where visual studio offered suggestions of namespaces when a property (which was not included in the used namespaces) was used, </p>\n\n<p>I have looked for it on the internet, but the only nuggets that I have found are for Visual Studio Code, but not for <strong>Visual Studio Community 2019</strong>, I think it is what the guy in the video was using (he doesn't respond).</p>\n\n<p>I took a screenshot of the suggestions,</p>\n\n<p><img src=\"https://i.stack.imgur.com/vB881.png\" alt=\"screenshot\"> </p>\n\n<p>hope anyone can tell me how to download or activate it, because I have no clue.</p>\n"}, {"tags": ["c#", "sql", ".net"], "comments": [{"owner": {"reputation": 8029, "user_id": 388388, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ef5daac0d4439e582a05f3c6535e1845?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/388388/developer"}, "edited": false, "score": 0, "creation_date": 1577793081, "post_id": 59543368, "comment_id": 105256378, "body": "Not clear, can you post a sample image how you are expecting the output to be"}], "answers": [{"tags": [], "owner": {"reputation": 984, "user_id": 5230358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df75ddc56b95fd1ddb6cd672769dac4f?s=128&d=identicon&r=PG&f=1", "display_name": "Seyedraouf Modarresi", "link": "https://stackoverflow.com/users/5230358/seyedraouf-modarresi"}, "is_accepted": false, "score": 0, "last_activity_date": 1577800235, "creation_date": 1577800235, "answer_id": 59544940, "question_id": 59543368, "link": "https://stackoverflow.com/questions/59543368/cell-color-change-after-click-on-butonfiled/59544940#59544940", "title": "Cell color change after click on butonfiled", "body": "<p>You can the following code </p>\n\n<pre><code>Row.BackColor = Color.FromName(\"green\");\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9981769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e43d2204d5079ab6bb3b80a2a3083c1?s=128&d=identicon&r=PG&f=1", "display_name": "nitin", "link": "https://stackoverflow.com/users/9981769/nitin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1583171784, "creation_date": 1577790995, "last_edit_date": 1583171784, "question_id": 59543368, "link": "https://stackoverflow.com/questions/59543368/cell-color-change-after-click-on-butonfiled", "title": "Cell color change after click on butonfiled", "body": "<p>I am working with <code>gridview</code> in asp.net, inside <code>gridview</code> buttonfields applied when I click on buttonfield there row's color is change but when is click on another buttonfield the previous row color change to normal color. I want all the row color to change when I click on the buttonfield.I want <a href=\"https://i.stack.imgur.com/k52te.png\" rel=\"nofollow noreferrer\">output</a> but I get <a href=\"https://i.stack.imgur.com/y58bJ.png\" rel=\"nofollow noreferrer\">outputs</a> when clicking on next buttonfield</p>\n\n<pre><code>  front-end code\n   &lt;asp:GridView ID=\"GridView1\" runat=\"server\" AllowSorting=\"True\"  OnSorting=\"GridView1_Sorting\" AutoGenerateColumns=\"False\" OnRowCommand=\"GridView1_RowCommand\" OnRowDataBound=\"GridView1_RowDataBound\"    &gt;\n        &lt;Columns&gt;\n\n            &lt;asp:BoundField DataField=\"name\" HeaderText=\"Name\" SortExpression=\"name\" /&gt;\n            &lt;asp:BoundField DataField=\"suser\" HeaderText=\"GR no\" SortExpression=\"suser\" /&gt;\n            &lt;asp:BoundField DataField=\"classname\" HeaderText=\"Class Name\" SortExpression=\"classname\" /&gt;\n            &lt;asp:BoundField DataField=\"rollno\" HeaderText=\"Roll No\" SortExpression=\"rollno\" /&gt;\n            &lt;asp:ButtonField ButtonType=\"Button\" HeaderText=\"Attendance\" Text=\"Present\" CommandName=\"attendance\"  /&gt;\n            &lt;asp:ButtonField ButtonType=\"Button\" CommandName=\"apsent\" HeaderText=\"Attendance\" Text=\"Apsent\" /&gt;\n        &lt;/Columns&gt;\n    &lt;/asp:GridView&gt;\n\n   back-end code\n    protected void GridView1_RowCommand(object sender, GridViewCommandEventArgs e)\n{\n    if (e.CommandName == \"attendance\")\n    {                   \n        int crow = Convert.ToInt32(e.CommandArgument.ToString());\n        GridView1.Rows[crow].Cells[3].BackColor = System.Drawing.Color.GreenYellow;\n    }\n</code></pre>\n\n<p>}</p>\n\n<p><a href=\"https://i.stack.imgur.com/UhHLf.png\" rel=\"nofollow noreferrer\">image</a>\n now if I click on  rollno(04) buttonfield then there color changes to green.\nlike that, if I click on every buttonfield then there respective rollno's color is change</p>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1577791755, "post_id": 59543351, "comment_id": 105255946, "body": "Actually, you can split the data without regex"}], "answers": [{"comments": [{"owner": {"reputation": 5002, "user_id": 9131476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x7X4x.png?s=128&g=1", "display_name": "ITWeiHan", "link": "https://stackoverflow.com/users/9131476/itweihan"}, "edited": false, "score": 0, "creation_date": 1577791244, "post_id": 59543389, "comment_id": 105255781, "body": "thanks, but i get error <code>parsing &quot;{{(.*\\.(.*)}}&quot; - Not enough )&#39;s.</code>"}], "tags": [], "owner": {"reputation": 2239, "user_id": 940182, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/59ed28250f62ded78ce755403329fff6?s=128&d=identicon&r=PG", "display_name": "oleksa", "link": "https://stackoverflow.com/users/940182/oleksa"}, "is_accepted": false, "score": 1, "last_activity_date": 1577792073, "last_edit_date": 1577792073, "creation_date": 1577791136, "answer_id": 59543389, "question_id": 59543351, "link": "https://stackoverflow.com/questions/59543351/how-to-use-regex-to-split-string-key-value-to-two-string-key-and-value/59543389#59543389", "title": "how to use regex to split string `{{key.value}}` to two string `key` and `value`?", "body": "<pre><code>var regex = new Regex(\"{{(.*)\\\\.(.*)}}\");\n</code></pre>\n\n<p>should match group of <code>.*</code> any characters followed by dot <code>\\.</code> and then another group of any characters <code>.*</code></p>\n\n<p>Then you can get list of regex matches and group them by first group like</p>\n\n<pre><code>var list = \"{{data1.id}},{{data1.value}},{{data2.name}},{{data2.value}} \".Split(',');\nvar regex = new Regex(\"{{(.*)\\\\.(.*)}}\");\nvar matches = list.SelectMany(_ =&gt; regex.Matches(_));\n\nvar groupList = matches.Select(_ =&gt; new { data = _.Groups[1].Value, value = _.Groups[2].Value });\n\nvar groups = groupList.GroupBy(_ =&gt; _.data);\n\nforeach (var g in groups)\n    Console.WriteLine(\"group {0} {1}\", g.Key, string.Join(\",\", g.Select(_ =&gt; _.value)));\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "is_accepted": false, "score": 2, "last_activity_date": 1577791531, "creation_date": 1577791531, "answer_id": 59543479, "question_id": 59543351, "link": "https://stackoverflow.com/questions/59543351/how-to-use-regex-to-split-string-key-value-to-two-string-key-and-value/59543479#59543479", "title": "how to use regex to split string `{{key.value}}` to two string `key` and `value`?", "body": "<p>If you want to retrieve parts of the capture you need to use capture groups, e.g.:</p>\n\n<pre><code>var regex = new Regex(@\"{{(\\w+)\\.(\\w+)}}\");\n</code></pre>\n\n<p>Note that I changed the regex to capture only \"word\" characters and you have to change <code>.</code> to <code>\\.</code> since the dot character has special meaning in regular expressions (it matches any character). I further use the <code>@</code> specifier for the string to enable \"verbatim mode\", otherwise all the backslashes would have to be double backslashes (<code>\\\\</code>)</p>\n\n<p>Then you can retrieve the captured values from the <code>Match</code> object returned, e.g.:</p>\n\n<pre><code>foreach (var e in list)\n{\n    var match = regex.Match(e);\n    if (match.Success)\n    {\n         Console.WriteLine($\"{match.Groups[1]} {match.Groups[2]}\");\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": 2, "last_activity_date": 1577791692, "creation_date": 1577791692, "answer_id": 59543511, "question_id": 59543351, "link": "https://stackoverflow.com/questions/59543351/how-to-use-regex-to-split-string-key-value-to-two-string-key-and-value/59543511#59543511", "title": "how to use regex to split string `{{key.value}}` to two string `key` and `value`?", "body": "<p>No regex.  Try following :</p>\n\n<pre><code>            string list = \"{{data1.id}},{{data1.value}},{{data2.name}},{{data2.value}} \";\n            Dictionary&lt;string, string&gt; dict = list.Trim().Split(new char[] { '{', '}', ',' }, StringSplitOptions.RemoveEmptyEntries)\n                .Select((x, i) =&gt; new { val = x, index = i })\n                .GroupBy(x =&gt; x.index / 2)\n                .ToDictionary(x =&gt; x.FirstOrDefault().val, y =&gt; y.LastOrDefault().val);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2650, "user_id": 9549856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EpCt0.jpg?s=128&g=1", "display_name": "Reza Jenabi", "link": "https://stackoverflow.com/users/9549856/reza-jenabi"}, "is_accepted": false, "score": 1, "last_activity_date": 1577792576, "last_edit_date": 1577792576, "creation_date": 1577792112, "answer_id": 59543596, "question_id": 59543351, "link": "https://stackoverflow.com/questions/59543351/how-to-use-regex-to-split-string-key-value-to-two-string-key-and-value/59543596#59543596", "title": "how to use regex to split string `{{key.value}}` to two string `key` and `value`?", "body": "<p>you can use bellow code </p>\n\n<pre><code> var list = \"{{data1.id}},{{data1.value}},{{data2.name}},{{data2.value}} \".Split(',');\n        var results = new Dictionary&lt;string, IEnumerable&lt;string&gt;&gt;()\n        {\n            {\"data1\",new[]{\"id\",\"value\"}},\n            {\"data2\",new[]{\"name\",\"value\"}},\n        };\n\n        var regex = new Regex(@\"{{(\\w+)\\.(\\w+)}}\");\n\n        foreach (var e in list)\n        {\n            var match = regex.Matches(e);\n            Console.WriteLine($\"{match[0].Groups[1]} {match[0].Groups[2]}\");\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5002, "user_id": 9131476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x7X4x.png?s=128&g=1", "display_name": "ITWeiHan", "link": "https://stackoverflow.com/users/9131476/itweihan"}, "edited": false, "score": 1, "creation_date": 1577796995, "post_id": 59543604, "comment_id": 105257725, "body": "this is awesome!"}], "tags": [], "owner": {"reputation": 15446, "user_id": 7299782, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nNfiq.png?s=128&g=1", "display_name": "Anu Viswan", "link": "https://stackoverflow.com/users/7299782/anu-viswan"}, "is_accepted": true, "score": 1, "last_activity_date": 1577792136, "creation_date": 1577792136, "answer_id": 59543604, "question_id": 59543351, "link": "https://stackoverflow.com/questions/59543351/how-to-use-regex-to-split-string-key-value-to-two-string-key-and-value/59543604#59543604", "title": "how to use regex to split string `{{key.value}}` to two string `key` and `value`?", "body": "<p>You could Regex for splitting and Linq to process the result. For example,</p>\n\n<pre><code>var result = list.Select(x=&gt; Regex.Match(x,@\"{{(?&lt;Key&gt;\\w+)\\.(?&lt;Value&gt;\\w+)}}\"))\n    .Select(m=&gt;new {Key = m.Groups[\"Key\"].Value,Value=m.Groups[\"Value\"].Value})\n    .GroupBy(x=&gt;x.Key)\n    .Select(x=&gt; new KeyValuePair&lt;string,IEnumerable&lt;string&gt;&gt;(x.Key,x.Select(c=&gt;c.Value)));\n</code></pre>\n\n<p>Output</p>\n\n<p><a href=\"https://i.stack.imgur.com/UIBXR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UIBXR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "is_accepted": false, "score": 1, "last_activity_date": 1586864499, "last_edit_date": 1586864499, "creation_date": 1577792186, "answer_id": 59543614, "question_id": 59543351, "link": "https://stackoverflow.com/questions/59543351/how-to-use-regex-to-split-string-key-value-to-two-string-key-and-value/59543614#59543614", "title": "how to use regex to split string `{{key.value}}` to two string `key` and `value`?", "body": "<p>You can try to solve your problem without <code>Regex</code></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var list = \"{{data1.id}},{{data1.value}},{{data2.name}},{{data2.value}} \".Trim().Split(',');\nvar dict = new Dictionary&lt;string, IEnumerable&lt;string&gt;&gt;();\nforeach (var item in list)\n{\n    var contents = item.Trim('{', '}').Split('.');\n    if (contents.Length != 2)\n        continue;\n\n    if (dict.ContainsKey(contents[0]))\n    {\n        var values = dict[contents[0]].ToList();\n        values.Add(contents[1]);\n        dict[contents[0]] = values;\n    }\n    else\n    {\n        dict.Add(contents[0], new List&lt;string&gt;() { contents[1] });\n    }\n}\n</code></pre>\n\n<p>You also have a space after last brace, make sense to call <code>Trim()</code> before parsing</p>\n"}, {"tags": [], "owner": {"reputation": 9735, "user_id": 6299857, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/O4G3u.jpg?s=128&g=1", "display_name": "Prasad Telkikar", "link": "https://stackoverflow.com/users/6299857/prasad-telkikar"}, "is_accepted": false, "score": 1, "last_activity_date": 1577792788, "last_edit_date": 1577792788, "creation_date": 1577792315, "answer_id": 59543639, "question_id": 59543351, "link": "https://stackoverflow.com/questions/59543351/how-to-use-regex-to-split-string-key-value-to-two-string-key-and-value/59543639#59543639", "title": "how to use regex to split string `{{key.value}}` to two string `key` and `value`?", "body": "<p><strong>Without Regex</strong></p>\n\n<p>You can try below solution</p>\n\n<ol>\n<li>Split your string using <code>','</code></li>\n<li>Iterate over each element and trim <code>{</code> and <code>}</code></li>\n<li><p>again spit by <code>.</code>, to get data and value</p>\n\n<pre><code>//Step - 1\nvar list = \"{{data1.id}},{{data1.value}},{{data2.name}},{{data2.value}}\".Split(',');\n\nforeach(var element in list)\n{ \n    //Step 2\n    var input = element.Trim('{', '}').Split('.');\n    //Step 3\n    Console.WriteLine($\"Data: {input[0]}, Value {input[1]}\");\n    //You can perform dictionary operations here\n}\n</code></pre></li>\n</ol>\n\n<p><a href=\"https://dotnetfiddle.net/onbNrc\" rel=\"nofollow noreferrer\">.Net Fiddle</a></p>\n"}, {"tags": [], "owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "is_accepted": false, "score": 1, "last_activity_date": 1577792443, "creation_date": 1577792443, "answer_id": 59543664, "question_id": 59543351, "link": "https://stackoverflow.com/questions/59543351/how-to-use-regex-to-split-string-key-value-to-two-string-key-and-value/59543664#59543664", "title": "how to use regex to split string `{{key.value}}` to two string `key` and `value`?", "body": "<p>You can try:</p>\n\n<pre><code>var list = \"{{data1.id}},{{data1.value}},{{data2.name}},{{data2.value}}\"\n            .Split(',')\n            .Select(x =&gt; x.Trim(new char[] { '{', '}' }));\nvar groupBy = list.Select(x =&gt; x.Split('.'))\n                  .GroupBy(x =&gt; x[0])\n                  .ToDictionary(y=&gt; y.Key, y.Key[0] );\n</code></pre>\n"}], "owner": {"reputation": 5002, "user_id": 9131476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x7X4x.png?s=128&g=1", "display_name": "ITWeiHan", "link": "https://stackoverflow.com/users/9131476/itweihan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 1, "accepted_answer_id": 59543604, "answer_count": 8, "score": 3, "last_activity_date": 1586864499, "creation_date": 1577790888, "question_id": 59543351, "link": "https://stackoverflow.com/questions/59543351/how-to-use-regex-to-split-string-key-value-to-two-string-key-and-value", "title": "how to use regex to split string `{{key.value}}` to two string `key` and `value`?", "body": "<h3>my question :</h3>\n\n<p>here is a List like : </p>\n\n<pre><code>var list = \"{{data1.id}},{{data1.value}},{{data2.name}},{{data2.value}} \".Split(',');\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/cQ33U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cQ33U.png\" alt=\"enter image description here\"></a></p>\n\n<p>i expect to get a <code>Dictionary&lt;string,IEnumerable&lt;string&gt;&gt;</code> data like : </p>\n\n<pre><code>var results = new Dictionary&lt;string, IEnumerable&lt;string&gt;&gt;()\n{\n    {\"data1\",new[]{\"id\",\"value\"}},  \n    {\"data2\",new[]{\"name\",\"value\"}},\n};\n</code></pre>\n\n<h3>what i have tried :</h3>\n\n<pre><code>    var regex = new Regex(\"{{*.*}}\");\n    foreach (var e in list)\n    {\n        var match = regex.Matches(e);\n    }\n</code></pre>\n\n<p>i can use regex to get match data,but i have no idea about how to get the key <code>data1</code> and value <code>id</code>\n<img src=\"https://i.imgur.com/bEeAXjt.png\" alt=\"\"></p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms", "httpwebrequest", "httpclient"], "answers": [{"tags": [], "owner": {"reputation": 1910, "user_id": 10308336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxGaJ.jpg?s=128&g=1", "display_name": "Jessie Zhang -MSFT", "link": "https://stackoverflow.com/users/10308336/jessie-zhang-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1577846875, "creation_date": 1577846875, "answer_id": 59549714, "question_id": 59543323, "link": "https://stackoverflow.com/questions/59543323/xamarin-forms-upload-image-to-webpage-as-post/59549714#59549714", "title": "Xamarin Forms Upload image to webpage as POST", "body": "<p>You can try the following method:</p>\n\n<pre><code>   //In Xamarin\n        public void UploadImage()\n        {\n            //create an instance of webclient\n            System.Net.WebClient Client = new System.Net.WebClient();\n\n            //add the header\n            Client.Headers.Add(\"Content-Type\", \"binary/octet-streOpenWriteam\");\n\n            //uploads the file and gets the result in a byte[]\n            // change `weburl/controller/actionmethod` to our weburl \n            byte[] result = Client.UploadFile(\"weburl/controller/actionmethod\", \"POST\", \"pathToFile\");\n\n            //converts the result[] to a string\n            string resultString = System.Text.Encoding.UTF8.GetString(result, 0, result.Length);\n        }\n</code></pre>\n\n<p>For more details, you can check: <a href=\"https://forums.xamarin.com/discussion/30653/how-to-upload-image-from-local-storage-to-asp-net-website\" rel=\"nofollow noreferrer\">https://forums.xamarin.com/discussion/30653/how-to-upload-image-from-local-storage-to-asp-net-website</a></p>\n"}], "owner": {"reputation": 1125, "user_id": 10673107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af7b038fd4ece99899155691ef064e4?s=128&d=identicon&r=PG&f=1", "display_name": "A. Vreeswijk", "link": "https://stackoverflow.com/users/10673107/a-vreeswijk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 59549714, "answer_count": 1, "score": 0, "last_activity_date": 1577846875, "creation_date": 1577790792, "last_edit_date": 1577840173, "question_id": 59543323, "link": "https://stackoverflow.com/questions/59543323/xamarin-forms-upload-image-to-webpage-as-post", "title": "Xamarin Forms Upload image to webpage as POST", "body": "<p>I have a problem. I want to upload an image to a webpage, so I can store it on my server. Now I can find a lot of examples of uploading files to a server, but what about an Image?</p>\n\n<p>I already tried to create a byte array of the image and send that as a POST, but that crashes on the following line saying that the URI is too long:</p>\n\n<pre><code>var postData = new List&lt;KeyValuePair&lt;string, string&gt;&gt;();\npostData.Add(new KeyValuePair&lt;string, string&gt;(\"id\", App.User.Id.ToString()));\npostData.Add(new KeyValuePair&lt;string, string&gt;(\"image\", ByteArray));\nvar content = new FormUrlEncodedContent(postData);\n</code></pre>\n\n<p>Is there another way to do this?</p>\n"}, {"tags": ["c#", "android", ".net", "xamarin"], "comments": [{"owner": {"reputation": 8901, "user_id": 8187800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3h95.jpg?s=128&g=1", "display_name": "ColeX - MSFT", "link": "https://stackoverflow.com/users/8187800/colex-msft"}, "edited": false, "score": 0, "creation_date": 1577800769, "post_id": 59543309, "comment_id": 105258964, "body": "Did you debug on <code>var listOfPhones = App.UserPreferences.GetPhoneNumber(contacts);</code> to see if it is single item ? If possible could you provide a basic sample for testing  ?"}, {"owner": {"reputation": 55, "user_id": 10568742, "user_type": "registered", "profile_image": "https://graph.facebook.com/1876819109069419/picture?type=large", "display_name": "Szymon Ro\u017cek", "link": "https://stackoverflow.com/users/10568742/szymon-ro%c5%bcek"}, "reply_to_user": {"reputation": 8901, "user_id": 8187800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3h95.jpg?s=128&g=1", "display_name": "ColeX - MSFT", "link": "https://stackoverflow.com/users/8187800/colex-msft"}, "edited": false, "score": 0, "creation_date": 1577806259, "post_id": 59543309, "comment_id": 105260735, "body": "listOfPhones work without any problems it takes proper amount of numbers from user phone"}, {"owner": {"reputation": 3634, "user_id": 11104068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gueSe.jpg?s=128&g=1", "display_name": "Saamer", "link": "https://stackoverflow.com/users/11104068/saamer"}, "edited": false, "score": 0, "creation_date": 1577963675, "post_id": 59543309, "comment_id": 105292443, "body": "Your binding hasn\u2019t been done properly. Could you please share the page c# file code as well? Have you taken a look at this: <a href=\"https://forums.xamarin.com/discussion/151067/xamarin-forms-list-view-doesnt-display-added-items-instantly-with-observable-collection\" rel=\"nofollow noreferrer\">forums.xamarin.com/discussion/151067/&hellip;</a>"}, {"owner": {"reputation": 934, "user_id": 3603602, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/JgF9o.jpg?s=128&g=1", "display_name": "Marco Rehmer", "link": "https://stackoverflow.com/users/3603602/marco-rehmer"}, "edited": false, "score": 0, "creation_date": 1578325016, "post_id": 59543309, "comment_id": 105392813, "body": "are you sure, your list shows only one item? Row Height 50 isn&#39;t very height, maybe you SEE only one row, but when you scroll, then you can see the others. For tests, set Row Height = &quot; * &quot; for Row 1"}], "owner": {"reputation": 55, "user_id": 10568742, "user_type": "registered", "profile_image": "https://graph.facebook.com/1876819109069419/picture?type=large", "display_name": "Szymon Ro\u017cek", "link": "https://stackoverflow.com/users/10568742/szymon-ro%c5%bcek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1590987094, "creation_date": 1577790655, "last_edit_date": 1590987094, "question_id": 59543309, "link": "https://stackoverflow.com/questions/59543309/problem-with-observablecollection-in-xamarin-forms", "title": "Problem with ObservableCollection in Xamarin Forms", "body": "<p>I have written code below, my problem is that in the view it shows only the first value which is added in the loop, but I have more values there. I don't know where I made a mistake. If anyone has some ideas let me know. </p>\n\n<pre><code> public class NumbersViewModel : IAsyncInitialization, INotifyPropertyChanged\n{\n\n    private ObservableCollection&lt;ContactsListModel&gt; _exampleList = new ObservableCollection&lt;ContactsListModel&gt;();\n    public Task Initialization { get; private set; }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    public ObservableCollection&lt;ContactsListModel&gt; ExampleList \n    {   get =&gt; _exampleList;\n        set\n        {               \n            _exampleList = value;\n            RaisePropertyChanged(\"Number\");\n        }\n    }\n\n    public NumbersViewModel()\n    {\n        Initialization = InitializeAsync();\n    }\n\n    protected void RaisePropertyChanged(string propertyName)\n    {\n        PropertyChangedEventHandler handler = PropertyChanged;\n        if (handler != null)\n        {\n            handler(this, new PropertyChangedEventArgs(propertyName));\n        }\n    }\n\n    public async Task InitializeAsync()\n    {\n\n        var items = new ObservableCollection&lt;ContactsListModel&gt;(); // new collection\n        var contacts = await Plugin.ContactService.CrossContactService.Current.GetContactListAsync();\n        var listOfPhones = App.UserPreferences.GetPhoneNumber(contacts);\n\n        foreach (var item in listOfPhones)\n            ExampleList.Add(new ContactsListModel() { Number = item });\n\n    }\n}\n\npublic interface IAsyncInitialization\n{\n    Task Initialization { get; }\n}\n</code></pre>\n\n<p>This is my view, I think I made everything good.</p>\n\n<pre><code> &lt;Grid Grid.Row=\"1\" Margin=\"20,0,20,0\"&gt;\n            &lt;Grid.RowDefinitions&gt;\n                &lt;RowDefinition Height=\"20\"/&gt;\n                &lt;RowDefinition Height=\"50\"/&gt;\n                &lt;RowDefinition Height=\"50\"/&gt;\n                &lt;RowDefinition Height=\"50\"/&gt;\n                &lt;RowDefinition Height=\"80\"/&gt;\n                &lt;RowDefinition Height=\"300\"/&gt;\n                &lt;RowDefinition Height=\"Auto\"/&gt;\n            &lt;/Grid.RowDefinitions&gt;\n            &lt;ListView ItemsSource=\"{Binding ExampleList}\"  Grid.Row=\"1\"&gt;\n                &lt;ListView.ItemTemplate &gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextCell Text=\"{Binding Number}\"&gt;&lt;/TextCell&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/ListView.ItemTemplate&gt;\n            &lt;/ListView&gt;\n        &lt;/Grid&gt;\n    &lt;/Grid&gt;\n</code></pre>\n"}, {"tags": ["c#", "azure", "botframework", "bots"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1577790627, "post_id": 59543253, "comment_id": 105255582, "body": "Are you failing the https (secure) connection using TLS/SSL; or failing the login?"}, {"owner": {"reputation": 49, "user_id": 12580262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbe78320eaf221a5a0d72a7c1af4e524?s=128&d=identicon&r=PG&f=1", "display_name": "teju1", "link": "https://stackoverflow.com/users/12580262/teju1"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1577793295, "post_id": 59543253, "comment_id": 105256453, "body": "Sorry, i am not getting you , which type of login you are asking?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1577800426, "post_id": 59543253, "comment_id": 105258854, "body": "The login shown on the Setting link."}, {"owner": {"reputation": 521, "user_id": 6043244, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh3.googleusercontent.com/-qgkkIwf43qI/AAAAAAAAAAI/AAAAAAAAAOg/Sj_WZG-cRCs/photo.jpg?sz=128", "display_name": "Vinod kumar G", "link": "https://stackoverflow.com/users/6043244/vinod-kumar-g"}, "edited": false, "score": 1, "creation_date": 1577946123, "post_id": 59543253, "comment_id": 105286240, "body": "while testing in localhost, don,t add microsoftID and password , just remove from env/resource file and test, it worked for me also check it should be https"}], "answers": [{"tags": [], "owner": {"reputation": 1289, "user_id": 10530481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9njHN.jpg?s=128&g=1", "display_name": "Dana V", "link": "https://stackoverflow.com/users/10530481/dana-v"}, "is_accepted": false, "score": 1, "last_activity_date": 1577901617, "creation_date": 1577901617, "answer_id": 59554829, "question_id": 59543253, "link": "https://stackoverflow.com/questions/59543253/how-to-solve-post401directline-postactivity-error-occure-on-bot-framework-emulat/59554829#59554829", "title": "how to solve POST401directline.postActivity error occure on bot framework emulator?", "body": "<p><strong>V3 of Bot Framework SDK is deprecated. It is recommended to use V4.</strong>\n<a href=\"https://github.com/microsoft/BotBuilder-V3/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/microsoft/BotBuilder-V3/blob/master/README.md</a></p>\n\n<p>Regarding this:</p>\n\n<ul>\n<li><blockquote>\n  <p>then registered a bot in bot framework\n  <a href=\"https://dev.botframework.com/bots/new\" rel=\"nofollow noreferrer\">https://dev.botframework.com/bots/new</a> with\n  <a href=\"https://something.azurewebsites.net/api/messages\" rel=\"nofollow noreferrer\">https://something.azurewebsites.net/api/messages</a> endpoint url,\n  microsoft id and password.</p>\n</blockquote></li>\n</ul>\n\n<p>and</p>\n\n<ul>\n<li><blockquote>\n  <p>I got microsoft Id and password when I create a new registration in\n  app registration on azure portal</p>\n</blockquote></li>\n</ul>\n\n<p><strong>These are redundant steps</strong>. Really, what you should be doing is creating a <code>Bot Channels Registration</code> in the Azure portal or using <code>az bot</code> CLI. </p>\n\n<blockquote>\n  <p>I dont want to use \"Azure bot service</p>\n</blockquote>\n\n<p><em>This does not make sense</em>. Can you further explain what you mean by this? Those two steps you did above are doing exactly that; creating a <code>Bot Channels Registration</code>. \"<em>Typical</em>\" bots are two parts; a <code>Bot Channels Registration</code> (to allow connection to your bot from multiple places, take care of authentication, etc) and a web application (your bot code). Which one do you <strong><em>not</em></strong> want to use?</p>\n\n<p>Regarding the emulator/authentication configuration:</p>\n\n<p>I'm sure you know this, but I wanted to confirm that you are aware of the behavior of appid/password in a bot. Also for the benefit of others that might not be.</p>\n\n<p>You can test with the emulator against a localhost running bot or a deployed bot. When testing with a localhost bot, you can test with appid/password or without. If you test without, you must make sure that they are not configured in the appsettings.json (in v4. other versions, etc. may use different configuration types) and not supplied in launching the bot in emulator. If you test with; you must configure in the appsettings.json <strong>and</strong> supply them when launching the bot in emulator.</p>\n\n<p>Now let's move on to testing the online/deployed bot. In a deployed bot, it will either pick up the appid/password in the appsettings.json or from configuration in the Web App/App Service's settings. These settings must be titled <code>MicrosoftAppId</code> and <code>MicrosoftAppPassword</code>.</p>\n\n<p>So...all this being said, my <em>assumption</em> is that you created two applications (AAD app), and might be mixing up the appid/password. Either that, or it is not quite configured correctly in the Web app (<a href=\"https://something.azurewebsites.net\" rel=\"nofollow noreferrer\">https://something.azurewebsites.net</a>); either in configuration file or in configuration settings in Azure.</p>\n\n<p>I do hope this helps.</p>\n"}], "owner": {"reputation": 49, "user_id": 12580262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbe78320eaf221a5a0d72a7c1af4e524?s=128&d=identicon&r=PG&f=1", "display_name": "teju1", "link": "https://stackoverflow.com/users/12580262/teju1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577901617, "creation_date": 1577790355, "last_edit_date": 1577802505, "question_id": 59543253, "link": "https://stackoverflow.com/questions/59543253/how-to-solve-post401directline-postactivity-error-occure-on-bot-framework-emulat", "title": "how to solve POST401directline.postActivity error occure on bot framework emulator?", "body": "<p>I dont want to use \"Azure bot service\".\nI have host bot application to azure, after that got hosted url <a href=\"https://something.azurewebsites.net\" rel=\"nofollow noreferrer\">https://something.azurewebsites.net</a> then  registered a bot in bot framework <a href=\"https://dev.botframework.com/bots/new\" rel=\"nofollow noreferrer\">https://dev.botframework.com/bots/new</a> with <a href=\"https://something.azurewebsites.net/api/messages\" rel=\"nofollow noreferrer\">https://something.azurewebsites.net/api/messages</a> endpoint url, microsoft id and password.\nI got microsoft Id and password when I create a new registration in app registration  on azure portal, \nThen I used that same Microsoft Id and password in visual studio code and republished.\nBut while testing on bot framework test emulator it shows \"Sorry, my bot code is having an issue.\"  and  when I am trying on local bot framework emulator with microsoft app Id and password it shows \"Cannot post activity. Unauthorized. POST401directline.postActivity\"\nI am using \"bot framework\" : 3.9 and \".net framework\": 4.6</p>\n\n<p><a href=\"https://i.stack.imgur.com/xeUok.png\" rel=\"nofollow noreferrer\">Test on bot framework </a></p>\n\n<p><a href=\"https://i.stack.imgur.com/lJqfh.png\" rel=\"nofollow noreferrer\">Test on emulator</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/wdfrc.png\" rel=\"nofollow noreferrer\">Setting </a></p>\n\n<p><a href=\"https://i.stack.imgur.com/spmyo.png\" rel=\"nofollow noreferrer\">App registartion</a></p>\n"}, {"tags": ["c#", "postgresql", "transactions", "npgsql"], "comments": [{"owner": {"reputation": 11446, "user_id": 640325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/018fc595a3e6b1ac5c18cb27e73a066d?s=128&d=identicon&r=PG", "display_name": "Shay Rojansky", "link": "https://stackoverflow.com/users/640325/shay-rojansky"}, "edited": false, "score": 0, "creation_date": 1577961974, "post_id": 59543181, "comment_id": 105291641, "body": "Running the code you provide above with the latest Npgsql version triggers only one transaction, as shown in the PG logs; <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/transactions/implementing-an-implicit-transaction-using-transaction-scope#voting-inside-a-nested-scope\" rel=\"nofollow noreferrer\">as detailed in the docs</a>, your nested scopes in SomeMethod and AnotherMethod don&#39;t actually create a transaction - they simply join the root scope in RootMethod, and their calls to Complete are simply votes to commit."}, {"owner": {"reputation": 11446, "user_id": 640325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/018fc595a3e6b1ac5c18cb27e73a066d?s=128&d=identicon&r=PG", "display_name": "Shay Rojansky", "link": "https://stackoverflow.com/users/640325/shay-rojansky"}, "edited": false, "score": 0, "creation_date": 1577962057, "post_id": 59543181, "comment_id": 105291677, "body": "Note that you should <i>not</i> need to set max_prepared_transactions to non-zero: the code sample above should work without escalating to a distributed transaction. This is because you only have a single connection open in the (root) transaction scope at a given point in time, and so Npgsql internally reuses the same physical connection. If you had two connections open at the same time, escalation to a distributed transaction would occur (and then we&#39;re in quite a different world)."}, {"owner": {"reputation": 11446, "user_id": 640325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/018fc595a3e6b1ac5c18cb27e73a066d?s=128&d=identicon&r=PG", "display_name": "Shay Rojansky", "link": "https://stackoverflow.com/users/640325/shay-rojansky"}, "edited": false, "score": 0, "creation_date": 1577962082, "post_id": 59543181, "comment_id": 105291691, "body": "Try to recheck why you think that multiple database transactions are actually being created."}, {"owner": {"reputation": 11, "user_id": 12631114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fcbc0a087c5a80a7513e1d1c380ab8d?s=128&d=identicon&r=PG&f=1", "display_name": "migele", "link": "https://stackoverflow.com/users/12631114/migele"}, "reply_to_user": {"reputation": 11446, "user_id": 640325, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/018fc595a3e6b1ac5c18cb27e73a066d?s=128&d=identicon&r=PG", "display_name": "Shay Rojansky", "link": "https://stackoverflow.com/users/640325/shay-rojansky"}, "edited": false, "score": 0, "creation_date": 1578063334, "post_id": 59543181, "comment_id": 105327542, "body": "Thank you Shay, this was most helpful - pointed us to the issue in our code. My simplified code illustration above was not quite accurate (my bad): it appears we did open an NpgsqlConnection in the root TransactionScope and had not closed that connection before an inner TransactionScope opened a second NpgsqlConnection - effectively resulting in a distributed (two separate) transaction(s), which was unintentional. Hence separate blocks of program code did not see each others work while on the same database (on Oracle they did). @shay-rojansky"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 12631114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fcbc0a087c5a80a7513e1d1c380ab8d?s=128&d=identicon&r=PG&f=1", "display_name": "migele", "link": "https://stackoverflow.com/users/12631114/migele"}, "is_accepted": true, "score": 0, "last_activity_date": 1578126098, "creation_date": 1578126098, "answer_id": 59589111, "question_id": 59543181, "link": "https://stackoverflow.com/questions/59543181/npgsql-4-x-support-for-system-transactions-transactionsscope-not-working/59589111#59589111", "title": "Npgsql 4.x support for System.Transactions.TransactionsScope not working?", "body": "<p>One needs to close an NpgsqlConnection opened in an outer TransactionScope before opening a second NpgsqlConnection in an inner TransactionScope (to allow Npgsql to internally reuse the same physical connection, without escalation to a distributed transaction to occur).</p>\n"}], "owner": {"reputation": 11, "user_id": 12631114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fcbc0a087c5a80a7513e1d1c380ab8d?s=128&d=identicon&r=PG&f=1", "display_name": "migele", "link": "https://stackoverflow.com/users/12631114/migele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 1, "accepted_answer_id": 59589111, "answer_count": 1, "score": 1, "last_activity_date": 1578126098, "creation_date": 1577789961, "question_id": 59543181, "link": "https://stackoverflow.com/questions/59543181/npgsql-4-x-support-for-system-transactions-transactionsscope-not-working", "title": "Npgsql 4.x support for System.Transactions.TransactionsScope not working?", "body": "<p>We've got a web-based, multi-tiered eHealth system platform that uses a class/object hierarchy. As an example, a \"patient clinic visit\" object may consist of multiple diagnosis objects, multiple medication objects, multiple observation objects, laboratory test objects and so on. Database transactions are handled using the .NET System.Transactions.TransactionScope.</p>\n\n<p>When persisting data into the database each nested object in the hierarchy:</p>\n\n<ol>\n<li>instantiates a TransactionScope (with the default transaction\nrequired option) </li>\n<li>instantiates an NpgsqlConnection connection</li>\n<li>does its own SQL and</li>\n<li>sets transactionsScope.Complete(), if all went well</li>\n</ol>\n\n<p>To simplify, objects in the object hierarchy are doing like the code sample below:</p>\n\n<pre><code>void RootMethod()\n{\n    using(TransactionScope scope = new TransactionScope())\n    {\n        /* Perform transactional work here */\n        SomeMethod();\n        AnotherMethod();\n\n        scope.Complete();\n    }\n}\n\nvoid SomeMethod()\n{\n    using(TransactionScope scope = new TransactionScope())\n    {\n        using(NpgsqlConnection connection = new NpgsqlConnection(connectionString))\n        {\n            connection.Open()\n            /* Perform transactional work here */\n            scope.Complete();\n        }\n    }\n}\n\nvoid AnotherMethod()\n{\n    using(TransactionScope scope = new TransactionScope())\n    {\n        using(NpgsqlConnection connection = new NpgsqlConnection(connectionString))\n        {\n            connection.Open()\n            /* Perform transactional work here */\n            scope.Complete();\n        }\n    }\n}\n</code></pre>\n\n<p>Program code that is encapsulated in \"using(TransactionScope scope = new TransactionScope()) {...}\" code blocks gets enlisted in the same transaction fine on Oracle (with an db Oracle driver) but with Npgsql on Postgres <strong>separate transactions would appear to get generated</strong> instead of one transaction.</p>\n\n<p>As a result, transactions on Postgres fail because of foreign key constraints - data cannot be persisted in child tables as the separate transactions that get created don't see data inserted in parent tables (in separate transaction) before the data is commited by parent objects.</p>\n\n<p>We've got Enlist=true in the Npgsql connectString and the server parameter max_prepared_transactions set to a bigger number than 0 value on our Postgres server.</p>\n\n<p>The Npgsql driver versions we've tested are 4.0.7 and 4.1.2. The Postgres server version in our devt environment is version 10.</p>\n\n<p>Npgsql documentation <a href=\"https://www.npgsql.org/doc/transactions.html\" rel=\"nofollow noreferrer\">https://www.npgsql.org/doc/transactions.html</a> says System.Transactions.TransactionScope is supported (and has been since v3.3), as do other Npgsql related answers we've search for on StackOverflow.</p>\n\n<p>At first glance the <a href=\"https://github.com/npgsql/npgsql/blob/7ca02e99977deab9c0dafc142e4ddd3f55eb995e/test/Npgsql.Tests/SystemTransactionTests.cs\" rel=\"nofollow noreferrer\">Npgsql unit tests</a> would appear to use one database connection in transactional unit tests.</p>\n\n<p>QUESTIONS:</p>\n\n<ul>\n<li>are multiple TransactionScopes and multiple participating database connections as per TransactionScope implementation guidelines (e.g. <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/transactions/implementing-an-implicit-transaction-using-transaction-scope\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/framework/data/transactions/implementing-an-implicit-transaction-using-transaction-scope</a>) supported on Npgsql?</li>\n<li>Anything obvious we are missing here?</li>\n</ul>\n\n<p>As stated above, with Npgsql 4.x each opened database connection in \"using(TransactionScope scope = new TransactionScope()) {...}\" code block would appear to generate a new transaction instead of enlisting in one and the same transaction.</p>\n"}, {"tags": ["c#", "asp.net-core", "ef-core-2.2"], "comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 3, "creation_date": 1577796140, "post_id": 59543164, "comment_id": 105257424, "body": "The reason is EF Core bug, caused by the combination of the used owned types. <code>ToList()</code> instead of <code>First()</code> produces another exception. This is happening even in the latest 2.2.6, so I don&#39;t think it will be fixed in 2.x. It works in 3.1, although due to the so many breaking changes and client evaluation removal related issues updating might not be an immediate option."}, {"owner": {"reputation": 1133, "user_id": 351508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78dda8420ae968089e20368c3909f637?s=128&d=identicon&r=PG", "display_name": "Jamie R Rytlewski", "link": "https://stackoverflow.com/users/351508/jamie-r-rytlewski"}, "edited": false, "score": 0, "creation_date": 1577807362, "post_id": 59543164, "comment_id": 105261130, "body": "Although if you are on 2.2 it&#39;s hit EOL and you are supposed to be upgrading to 3.1 <a href=\"https://dotnet.microsoft.com/platform/support/policy/dotnet-core\" rel=\"nofollow noreferrer\">dotnet.microsoft.com/platform/support/policy/dotnet-core</a>"}], "owner": {"reputation": 137, "user_id": 1248493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dbe2abc60f2f56ca0637150765bfbfc4?s=128&d=identicon&r=PG", "display_name": "Mtaraby", "link": "https://stackoverflow.com/users/1248493/mtaraby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1577803945, "creation_date": 1577789887, "last_edit_date": 1577803945, "question_id": 59543164, "link": "https://stackoverflow.com/questions/59543164/a-column-has-been-specified-more-than-once-in-the-order-by-list-columns-in-the", "title": "A column has been specified more than once in the order by list. Columns in the order by list must be unique", "body": "<p>I am using EF Core 2.2.2 in my project, and I am getting this error when trying to fetch any data from DB, I am not sure what is the reason of this, but it works fine when trying to insert new item to DB:</p>\n\n<p>Error Message :</p>\n\n<blockquote>\n  <p>\"A column has been specified more than once in the order by list.\n  Columns in the order by list must be unique\"</p>\n</blockquote>\n\n<p>I think the issue happened because of using nested OwnsMany many times but not sure:</p>\n\n<pre><code>public class Program\n{\n    private static void Main(string[] args)\n    {\n        using(var context = new OwnsManyIssueContext())\n        {\n            var accidentEstimationDetails = new List&lt;AccidentEstimationDetails&gt;\n            {\n             new AccidentEstimationDetails(true, \"test1\"),\n             new AccidentEstimationDetails(false, \"test2\"),\n             new AccidentEstimationDetails(true, \"test3\")\n            };\n            var accidentEstimation = new AccidentEstimation(12, 11, accidentEstimationDetails);\n            var partiesLiabilityAmounts = new List&lt;PartyAmountDetails&gt;\n            {\n                new PartyAmountDetails(1,11,120),\n                new PartyAmountDetails(1,12,121),\n                new PartyAmountDetails(1,10,122)\n            };\n\n            var accident = new Accident(accidentEstimation, partiesLiabilityAmounts);\n\n            context.Accidents.Add(accident);\n            context.SaveChanges();\n\n            var dbAggregate = context.Accidents.FirstOrDefault();\n        }\n    }\n}\n\npublic class Accident\n{\n    public int Id { get; private set; }\n\n    public AccidentEstimation AccidentEstimation { get; private set; }\n\n    private List&lt;PartyAmountDetails&gt; _partiesAmountDetails;\n\n    public IReadOnlyCollection&lt;PartyAmountDetails&gt; PartiesAmountDetails =&gt; _partiesAmountDetails;\n\n    private Accident()\n    {\n        _partiesAmountDetails = new List&lt;PartyAmountDetails&gt;();\n    }\n\n    public Accident(AccidentEstimation accidentEstimation, List&lt;PartyAmountDetails&gt; partiesLiabilityAmount)\n    {\n        AccidentEstimation = accidentEstimation;\n        _partiesAmountDetails = partiesLiabilityAmount;\n    }\n}\n\npublic class AccidentEstimation\n{\n    public int EstimationPartyId { get; private set; }\n    public int FollowerId { get; private set; }\n\n    private readonly List&lt;AccidentEstimationDetails&gt; _details;\n    public IReadOnlyCollection&lt;AccidentEstimationDetails&gt; Details =&gt; _details;\n\n    private AccidentEstimation()\n    {\n        _details = new List&lt;AccidentEstimationDetails&gt;();\n    }\n\n    public AccidentEstimation(int estimationPartyId, int followerId, List&lt;AccidentEstimationDetails&gt; details)\n    {\n        EstimationPartyId = estimationPartyId;\n        FollowerId = followerId;\n        _details = details;\n    }\n}\n\npublic class AccidentEstimationDetails\n{\n    public bool IsApproved { get; private set; }\n    public string Name { get; private set; }\n\n    private AccidentEstimationDetails()\n    {\n    }\n\n    public AccidentEstimationDetails(bool isApproved, string name)\n    {\n        IsApproved = isApproved;\n        Name = name;\n    }\n}\n\npublic class PartyAmountDetails\n{\n    public int ItemTypeId { get; private set; }\n    public decimal Amount { get; private set; }\n    public decimal? Discount { get; private set; }\n\n    private PartyAmountDetails()\n    {\n    }\n\n    public PartyAmountDetails(int itemTypeId, decimal amount, decimal? discount)\n    {\n        ItemTypeId = itemTypeId;\n        Amount = amount;\n        Discount = discount;\n    }\n}\n\n\npublic class AccidentTypeConfiguration : IEntityTypeConfiguration&lt;Accident&gt;\n{\n    public void Configure(EntityTypeBuilder&lt;Accident&gt; builder)\n    {\n        builder.ToTable(\"Accidents\");\n        builder.Property(b =&gt; b.Id).ValueGeneratedOnAdd(); ;\n        builder.HasKey(b =&gt; b.Id);\n\n        builder.OwnsOne(a =&gt; a.AccidentEstimation, a =&gt;\n        {\n            a.Property(p =&gt; p.FollowerId).HasColumnName(\"FollowerId\");\n            a.Property(p =&gt; p.EstimationPartyId).HasColumnName(\"EstimationPartyId\");\n\n\n            a.OwnsMany(dd =&gt; dd.Details, dd =&gt;\n            {\n                dd.ToTable(\"AccidentEstimationDetails\");\n                dd.Property&lt;int&gt;(\"Id\");\n                dd.HasKey(\"Id\");\n            });\n        });\n\n        builder.OwnsMany(a =&gt; a.PartiesAmountDetails, a =&gt;\n        {\n            a.ToTable(\"PartiesLiabilityAmounts\");\n            a.Property&lt;long&gt;(\"Id\");\n            a.HasKey(\"Id\");\n        });\n    }\n}\n\npublic class OwnsManyIssueContext : DbContext\n{\n    public DbSet&lt;Accident&gt; Accidents { get; set; }\n\n\n    protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n    {\n        optionsBuilder.UseSqlServer(@\"ConnectionString\");\n    }\n\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        modelBuilder.ApplyConfiguration(new AccidentTypeConfiguration());\n\n        base.OnModelCreating(modelBuilder);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "exception", "global-filter"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1577790392, "post_id": 59543127, "comment_id": 105255512, "body": "Are you failing making the connection or failing after the connection succeeds (before redirection)?"}, {"owner": {"reputation": 55, "user_id": 11723790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/246680bbe9a7bf5e2efc1e85e26320a0?s=128&d=identicon&r=PG&f=1", "display_name": "Sunil Bamal", "link": "https://stackoverflow.com/users/11723790/sunil-bamal"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1577790676, "post_id": 59543127, "comment_id": 105255604, "body": "its not making the connection"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1577791102, "post_id": 59543127, "comment_id": 105255731, "body": "Then it is failing in the Net Library for the HTTP Request.  Try putting an exception handler (try/catch) around the request."}], "answers": [{"comments": [{"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1577791067, "post_id": 59543297, "comment_id": 105255722, "body": "Also mention that he needs to define an action on <code>Homecontroller</code> that results with <code>Error</code> view, if it doesn&#39;t exists."}, {"owner": {"reputation": 55, "user_id": 11723790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/246680bbe9a7bf5e2efc1e85e26320a0?s=128&d=identicon&r=PG&f=1", "display_name": "Sunil Bamal", "link": "https://stackoverflow.com/users/11723790/sunil-bamal"}, "edited": false, "score": 0, "creation_date": 1577792012, "post_id": 59543297, "comment_id": 105256029, "body": "its not working for me, I am redirecting on some action using this but its not redirecting there"}, {"owner": {"reputation": 645, "user_id": 12175051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWdR.jpg?s=128&g=1", "display_name": "Ishwar Gagare", "link": "https://stackoverflow.com/users/12175051/ishwar-gagare"}, "edited": false, "score": 0, "creation_date": 1577792698, "post_id": 59543297, "comment_id": 105256260, "body": "try using this ...context.HttpContext.Response.Redirect(&quot;...&quot;);"}, {"owner": {"reputation": 55, "user_id": 11723790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/246680bbe9a7bf5e2efc1e85e26320a0?s=128&d=identicon&r=PG&f=1", "display_name": "Sunil Bamal", "link": "https://stackoverflow.com/users/11723790/sunil-bamal"}, "edited": false, "score": 0, "creation_date": 1577793172, "post_id": 59543297, "comment_id": 105256405, "body": "now getting this error..     System.InvalidOperationException: &#39;StatusCode cannot be set because the response has already started.&#39;"}, {"owner": {"reputation": 645, "user_id": 12175051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWdR.jpg?s=128&g=1", "display_name": "Ishwar Gagare", "link": "https://stackoverflow.com/users/12175051/ishwar-gagare"}, "edited": false, "score": 0, "creation_date": 1577793497, "post_id": 59543297, "comment_id": 105256519, "body": "do like this                                                                            context.ExceptionHandled = true;                                                                            and then context.HttpContext.Response.Redirect(&quot;...&quot;);"}, {"owner": {"reputation": 645, "user_id": 12175051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWdR.jpg?s=128&g=1", "display_name": "Ishwar Gagare", "link": "https://stackoverflow.com/users/12175051/ishwar-gagare"}, "edited": false, "score": 0, "creation_date": 1577794015, "post_id": 59543297, "comment_id": 105256678, "body": "changed above answer have a look at it..i hope this will fix your issue"}, {"owner": {"reputation": 645, "user_id": 12175051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWdR.jpg?s=128&g=1", "display_name": "Ishwar Gagare", "link": "https://stackoverflow.com/users/12175051/ishwar-gagare"}, "reply_to_user": {"reputation": 55, "user_id": 11723790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/246680bbe9a7bf5e2efc1e85e26320a0?s=128&d=identicon&r=PG&f=1", "display_name": "Sunil Bamal", "link": "https://stackoverflow.com/users/11723790/sunil-bamal"}, "edited": false, "score": 0, "creation_date": 1577795229, "post_id": 59543297, "comment_id": 105257107, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/205146/discussion-between-ishwar-gagare-and-sunil-bamal\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 645, "user_id": 12175051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWdR.jpg?s=128&g=1", "display_name": "Ishwar Gagare", "link": "https://stackoverflow.com/users/12175051/ishwar-gagare"}, "is_accepted": false, "score": 0, "last_activity_date": 1577793979, "last_edit_date": 1577793979, "creation_date": 1577790556, "answer_id": 59543297, "question_id": 59543127, "link": "https://stackoverflow.com/questions/59543127/how-to-redirect-to-view-from-global-exception-filter-in-asp-net-mvc/59543297#59543297", "title": "How to redirect to view from global exception filter in Asp.Net MVC", "body": "<p>I hope this works for you</p>\n\n<pre><code>protected override void OnException(ExceptionContext filterContext)\n{\n  filterContext.ExceptionHandled = true;\n\n  //Redirect or return a view, but not both.\n  filterContext.Result = RedirectToAction(\"Index\", \"Home\");\n  // OR \n  filterContext.Result = new ViewResult\n  {\n     ViewName = \"~/Views/Shared/Error.cshtml\"\n  };\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 11723790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/246680bbe9a7bf5e2efc1e85e26320a0?s=128&d=identicon&r=PG&f=1", "display_name": "Sunil Bamal", "link": "https://stackoverflow.com/users/11723790/sunil-bamal"}, "edited": false, "score": 0, "creation_date": 1577792420, "post_id": 59543353, "comment_id": 105256171, "body": "HttpContext does not contain a definition for RawUrl"}], "tags": [], "owner": {"reputation": 1603, "user_id": 255673, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d6cd88697a6659181a6271645cd9c591?s=128&d=identicon&r=PG", "display_name": "User.Anonymous", "link": "https://stackoverflow.com/users/255673/user-anonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1577790900, "creation_date": 1577790900, "answer_id": 59543353, "question_id": 59543127, "link": "https://stackoverflow.com/questions/59543127/how-to-redirect-to-view-from-global-exception-filter-in-asp-net-mvc/59543353#59543353", "title": "How to redirect to view from global exception filter in Asp.Net MVC", "body": "<pre><code>        filterContext.Result = new RedirectToRouteResult(\n            new RouteValueDictionary\n            {\n                { \"controller\", \"Account\" },\n                { \"action\", \"Index\" },\n                { \"returnUrl\", filterContext.HttpContext.Request.RawUrl } \n            });\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 11723790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/246680bbe9a7bf5e2efc1e85e26320a0?s=128&d=identicon&r=PG&f=1", "display_name": "Sunil Bamal", "link": "https://stackoverflow.com/users/11723790/sunil-bamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 501, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577793979, "creation_date": 1577789657, "question_id": 59543127, "link": "https://stackoverflow.com/questions/59543127/how-to-redirect-to-view-from-global-exception-filter-in-asp-net-mvc", "title": "How to redirect to view from global exception filter in Asp.Net MVC", "body": "<p>I am working on a MVC using <strong>asp.net core</strong> where I have created a global filter to handling exceptions.\nIts handling exceptions but not redirecting to view(Error.cshtml) which is in <strong>Shared</strong> folder.</p>\n\n<p>Below is my code:</p>\n\n<pre><code>public void OnException(ExceptionContext filterContext)\n        {\n            if (filterContext.ExceptionHandled)\n            {\n                return;\n            }\n            Exception e = filterContext.Exception;\n            filterContext.ExceptionHandled = true;\n            string action = filterContext.RouteData.Values[\"action\"].ToString();\n            string controller = filterContext.RouteData.Values[\"controller\"].ToString();\n            filterContext.Result = new ViewResult()\n            {\n                ViewName = \"/Error\" // also tried with \"Error\" and \"~/Error\"\n            };\n        }\n</code></pre>\n"}]