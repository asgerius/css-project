[{"tags": ["c#", ".net", "tcpclient", "tcplistener"], "comments": [{"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 3, "creation_date": 1528933231, "post_id": 50847696, "comment_id": 88698825, "body": "<code>I need someone who know how this things work</code> Why do you think we should read this wall of code? Narrow down your problem and ask a spesific question. If you can&#39;t, there are millions of answers here about tcp communication. Read them"}, {"owner": {"reputation": 85, "user_id": 9938722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8451b4a05997f0cb384197cf60349b5?s=128&d=identicon&r=PG&f=1", "display_name": "Guibi", "link": "https://stackoverflow.com/users/9938722/guibi"}, "reply_to_user": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1532901457, "post_id": 50847696, "comment_id": 90135288, "body": "@Eser Sorry for that, its my first post. I&#39;ve clarified and edited my question."}], "answers": [{"comments": [{"owner": {"reputation": 42, "user_id": 9448046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b685ded099b0d8fbfc49f9a38414cc82?s=128&d=identicon&r=PG&f=1", "display_name": "Saddan de lo Santos", "link": "https://stackoverflow.com/users/9448046/saddan-de-lo-santos"}, "edited": false, "score": 0, "creation_date": 1528943246, "post_id": 50848633, "comment_id": 88700663, "body": "here the project respository <a href=\"https://github.com/sdelosantos/TCP_CLIENT_AND_SERVER\" rel=\"nofollow noreferrer\">github.com/sdelosantos/TCP_CLIENT_AND_SERVER</a>"}], "tags": [], "owner": {"reputation": 42, "user_id": 9448046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b685ded099b0d8fbfc49f9a38414cc82?s=128&d=identicon&r=PG&f=1", "display_name": "Saddan de lo Santos", "link": "https://stackoverflow.com/users/9448046/saddan-de-lo-santos"}, "is_accepted": false, "score": 1, "last_activity_date": 1528941979, "creation_date": 1528941979, "answer_id": 50848633, "question_id": 50847696, "link": "https://stackoverflow.com/questions/50847696/cant-read-write-data-tcpclient-server/50848633#50848633", "title": "Can&#39;t read/write data (TcpClient/Server)", "body": "<p>try this:</p>\n\n<pre><code>  //tcp server\npublic class Server\n{\n    private string ip { get; set; }\n    private int port { get; set; }\n    private Socket server { get; set; }\n    public List&lt;ClientInfo&gt; listClientsConnected { get; private set; }\n\n    // delegate for events\n    public delegate void Client_Connected(ClientInfo c);\n    public delegate void Client_Message(string msg, ClientInfo c);\n    public Server(string ip, int port)\n    {\n        this.ip = ip;\n        this.port = port;\n        this.listClientsConnected = new List&lt;ClientInfo&gt;();\n    }\n\n    // start server\n    public void Start()\n    {\n        Socket server = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\n        server.Bind(new IPEndPoint(IPAddress.Parse(this.ip), this.port));\n        server.Listen(1);\n        server.BeginAccept(new AsyncCallback(ClientConnected), server);\n    }\n\n    // accept client connection\n    private void ClientConnected(IAsyncResult res)\n    {\n        Socket s = (Socket)res.AsyncState;\n        Socket client = s.EndAccept(res);\n        ClientInfo clientInf = new ClientInfo()\n        {\n            currentClient = client\n        };\n\n        client.BeginReceive(clientInf.buffer, 0, ClientInfo.BUFFER_SIZE_FOR_MESSAGE, 0, new AsyncCallback(ReceiveMessage), clientInf);\n        // add client to list\n        listClientsConnected.Add(clientInf);\n        if (Cliente_Conneted_Event != null)\n            Cliente_Conneted_Event(clientInf);\n    }\n\n    // receive message from client\n    private void ReceiveMessage(IAsyncResult ar)\n    {\n        ClientInfo cl = (ClientInfo)ar.AsyncState;\n        Socket s = cl.currentClient;\n        int read = s.EndReceive(ar);\n        string msg = null;\n        if (read &gt; 0)\n        {\n            msg = Encoding.ASCII.GetString(cl.buffer, 0, read);\n            s.BeginReceive(cl.buffer, 0, ClientInfo.BUFFER_SIZE_FOR_MESSAGE, 0, new AsyncCallback(ReceiveMessage), cl);\n        }\n        if (Cliente_Message_Event != null)\n            Cliente_Message_Event(msg, cl);\n    }\n\n    // send message to client\n    public void sendMessage(string msg, ClientInfo client)\n    {\n        if (client.currentClient != null)\n        {\n            if (client.currentClient.Connected &amp;&amp; !string.IsNullOrEmpty(msg))\n            {\n                client.currentClient.Send(Encoding.ASCII.GetBytes(msg));\n            }\n        }\n    }\n\n    //events\n    public event Client_Connected Cliente_Conneted_Event;\n    public event Client_Message Cliente_Message_Event;\n\n\n}\n\n\n  // tcp client\npublic class Client\n{\n    private Socket client { get; set; }\n    private string clientName { get; set; }\n    private string ip { get; set; }\n    private int port { get; set; }\n\n    // delegates\n    public delegate void Client_Connected(ClientInfo c);\n    public delegate void Client_Message(string msg, ClientInfo c);\n\n    public Client(string ip, int port)\n    {\n        this.ip = ip;\n        this.port = port;\n        client = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\n    }\n\n    // connect client to server\n    public void Connect()\n    {\n        ClientInfo clientInf = new ClientInfo()\n        {\n            currentClient = client,\n        };\n        client.BeginConnect(new IPEndPoint(IPAddress.Parse(this.ip), this.port), new AsyncCallback(ClientConnected), clientInf);\n    }\n\n    // accept client connection\n    private void ClientConnected(IAsyncResult res)\n    {\n        ClientInfo clientInf = (ClientInfo)res.AsyncState;\n        clientInf.currentClient.BeginReceive(clientInf.buffer, 0, ClientInfo.BUFFER_SIZE_FOR_MESSAGE, 0, new AsyncCallback(ReceiveMessage), clientInf);\n        // client connected\n        if (Cliente_Conneted_Event != null)\n            Cliente_Conneted_Event(clientInf);\n    }\n\n    // receive message from client\n    private void ReceiveMessage(IAsyncResult ar)\n    {\n        ClientInfo cl = (ClientInfo)ar.AsyncState;\n        Socket s = cl.currentClient;\n        int read = s.EndReceive(ar);\n        string msg = null;\n        if (read &gt; 0)\n        {\n            msg = Encoding.ASCII.GetString(cl.buffer, 0, read);\n            s.BeginReceive(cl.buffer, 0, ClientInfo.BUFFER_SIZE_FOR_MESSAGE, 0, new AsyncCallback(ReceiveMessage), cl);\n        }\n        if (Cliente_Message_Event != null)\n            Cliente_Message_Event(msg, cl);\n    }\n\n    // send message to client\n    public void sendMessage(string msg, ClientInfo client)\n    {\n        if (client.currentClient != null)\n        {\n            if (client.currentClient.Connected &amp;&amp; !string.IsNullOrEmpty(msg))\n            {\n                client.currentClient.Send(Encoding.ASCII.GetBytes(msg));\n            }\n        }\n    }\n\n    public event Client_Connected Cliente_Conneted_Event;\n    public event Client_Message Cliente_Message_Event;\n\n}\n  // in my case i used a console application\nclass Program\n{\n    private static Server server;\n    static void Main(string[] args)\n    {\n        string ip = \"127.0.0.1\";\n        int port = 3122;\n        server = new Server(ip, port);\n        server.Cliente_Conneted_Event += server_Cliente_Conneted_Event;\n        server.Start();\n\n        // connect client 1\n        Client client = new Client(ip, port);\n        client.Connect();\n        client.Cliente_Message_Event+=client_Cliente_Message_Event;\n\n        sendMessageToClient();\n        Console.ReadKey();\n    }\n\n    //receive message from server\n    private static void client_Cliente_Message_Event(string msg, ClientInfo c)\n    {\n        try {\n            Console.WriteLine(\"Msg from Server:\"+msg);\n        }\n        catch(Exception ex){\n            Console.WriteLine(ex.Message);\n        }\n    }\n\n    // client connected to server\n    private static void server_Cliente_Conneted_Event(ClientInfo c)\n    {\n        Console.WriteLine(\"Client Connected...\");\n    }\n\n    // send message to all clients from server\n    private static void sendMessageToClient()\n    {\n        try\n        {\n            Console.Write(\"Msg:\");\n            string msg = Console.ReadLine();\n            // send message to clients\n            if (server.listClientsConnected.Count &gt; 0)\n            {\n                foreach (ClientInfo client in server.listClientsConnected)\n                    server.sendMessage(msg, client);\n            }\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine(ex.Message);\n        }\n        finally\n        {\n            sendMessageToClient();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 9938722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8451b4a05997f0cb384197cf60349b5?s=128&d=identicon&r=PG&f=1", "display_name": "Guibi", "link": "https://stackoverflow.com/users/9938722/guibi"}, "is_accepted": true, "score": 0, "last_activity_date": 1532613582, "creation_date": 1532613582, "answer_id": 51540677, "question_id": 50847696, "link": "https://stackoverflow.com/questions/50847696/cant-read-write-data-tcpclient-server/51540677#51540677", "title": "Can&#39;t read/write data (TcpClient/Server)", "body": "<p>It was longer than expected... I finally gave up on the TcpClient/Server to use my own sockets.\nHere is the result (i made a abstract class in my code because these classes are similar) :</p>\n\n<p>Abstract class :</p>\n\n<pre><code>public abstract partial  class Connectable : Window\n{\n    public abstract void Start();\n\n    public abstract void Stop();\n\n    public void WaitMessage()\n    {\n        WaitMessage(new StateObject() { socket = socket });\n    }\n\n    private void WaitMessage(StateObject so)\n    {\n        Socket s = so.socket;\n        int read = s.Receive(so.buffer, 0, StateObject.BUFFER_SIZE, SocketFlags.None);\n\n        so.sb.Append(Encoding.UTF8.GetString(so.buffer, 0, read));\n\n        if (s.Available &gt; 0)\n            WaitMessage(so);\n\n        else if (NewMessage != null)\n        {\n            NewMessage(so.sb.ToString());\n            so.sb.Clear();\n        }\n    }\n\n    public void ReceiveMessage()\n    {\n        StateObject state = new StateObject() { socket = socket };\n\n        try { socket.BeginReceive(state.buffer, 0, StateObject.BUFFER_SIZE, 0, new AsyncCallback(MessageReceived), state); }\n        catch (SocketException e) { Console.WriteLine(e.Message); }\n    }\n\n    protected void MessageReceived(IAsyncResult ar)\n    {\n        StateObject so = (StateObject)ar.AsyncState;\n        Socket s = so.socket;\n        int read = s.EndReceive(ar);\n\n        so.sb.Append(Encoding.UTF8.GetString(so.buffer, 0, read));\n\n        if (s.Available &gt; 0)\n            s.BeginReceive(so.buffer, 0, StateObject.BUFFER_SIZE, 0, new AsyncCallback(MessageReceived), so);\n        else if (NewMessage != null)\n        {\n            NewMessage(so.sb.ToString());\n            so.sb.Clear();\n        }\n    }\n\n    public void SendMessage(string msg)\n    {\n        if (socket != null)\n        {\n            if (socket.Connected &amp;&amp; !string.IsNullOrEmpty(msg))\n            {\n                socket.Send(Encoding.UTF8.GetBytes(msg));\n            }\n        }\n    }\n\n    protected void ShowMessage(string message)\n    {\n        Console.WriteLine(message);\n    }\n\n    public virtual bool IsConnected()\n    {\n        if (socket == null)\n            return false;\n\n        return socket.Connected;\n    }\n\n    #region Members\n    protected Socket socket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\n\n    public Message NewMessage;\n    #endregion\n\n    #region Delegates\n    public delegate void Message(string message);\n    #endregion\n}\n</code></pre>\n\n<p>Server class : </p>\n\n<pre><code>public partial class Server : Connectable\n{\n    #region Constructeurs\n    public Server() : this(12221) { }\n\n    public Server(int numPortDefaut)\n    {\n        InitializeComponent();\n        socket = null;\n        NewMessage += ShowMessage;\n\n        foreach (IPAddress addr in Dns.GetHostAddresses(Dns.GetHostName()))\n            if (addr.AddressFamily == AddressFamily.InterNetwork)\n                numIp.FromString(addr.ToString());\n\n        numPort.Value = numPortDefaut;\n\n        if (!System.Net.NetworkInformation.NetworkInterface.GetIsNetworkAvailable())\n        {\n            boutonDemarrer.IsEnabled = false;\n            MessageBox.Show(this, \"Connection impossible - Tic Tac Toe\", \"Impossible de se connecter \u00e0 internet. V\u00e9rifiez votre connection et r\u00e9essayez.\", MessageBoxButton.OK, MessageBoxImage.Warning);\n            Close();\n        }\n    }\n    #endregion\n\n    public override void Start()\n    {\n        if (socketListener.IsBound)\n        {\n            if (socket != null)\n            {\n                socket.Shutdown(SocketShutdown.Both);\n                socket.Disconnect(false);\n                socket.Dispose();\n                socket = null;\n            }\n\n            socketListener.Close();\n            socketListener = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\n        }\n\n        try\n        {\n            socketListener.Bind(new IPEndPoint(IPAddress.Parse(Ip), Port));\n            socketListener.Listen(1);\n            AcceptConnection();\n        }\n        catch (SocketException e) { Console.WriteLine(e); }\n    }\n\n    public override void Stop()\n    {\n        acceptConnection.Cancel();\n\n        if (socket != null)\n        {\n            socketListener.Close();\n\n            socket.Shutdown(SocketShutdown.Both);\n            socket.Disconnect(false);\n            socket.Dispose();\n            socket = null;\n        }\n    }\n\n    private void AcceptConnection()\n    {\n        acceptConnection = new CancellationTokenSource();\n\n        new Thread(delegate()\n        {\n            try\n            {\n                while (socket == null)\n                {\n                    if (socketListener.Poll(1, SelectMode.SelectRead))\n                        socket = socketListener.Accept();\n\n                    acceptConnection.Token.ThrowIfCancellationRequested();\n                }\n\n                Dispatcher.Invoke(delegate ()\n                {\n                    boutonDemarrer.Content = \"Jouer\";\n                    boutonDemarrer.IsEnabled = true;\n                });\n            }\n            catch (OperationCanceledException e) { Console.WriteLine(\"Fin de l'attente de connection ({0})\", e.Message); }\n        }).Start();\n    }\n\n    private void ButtonClickStart(object sender, RoutedEventArgs e)\n    {\n        if ((string)boutonDemarrer.Content == \"Jouer\")\n            Close();\n\n        else if ((string)boutonDemarrer.Content == \"D\u00e9marrer\")\n        {\n            Start();\n            boutonAnnuler.Content = \"Stop\";\n            boutonDemarrer.IsEnabled = false;\n            numPort.IsEnabled = false;\n        }\n    }\n\n    private void ButtonClickCancel(object sender, RoutedEventArgs e)\n    {\n        if ((string)boutonAnnuler.Content == \"Annuler\")\n            Close();\n\n        else if ((string)boutonAnnuler.Content == \"Stop\")\n        {\n            Stop();\n            boutonAnnuler.Content = \"Annuler\";\n            boutonDemarrer.Content = \"D\u00e9marrer\";\n            boutonDemarrer.IsEnabled = true;\n            numPort.IsEnabled = true;\n        }\n    }\n\n\n    #region Propri\u00e9t\u00e9s\n    public string Ip { get { return numIp.ToString(); } }\n\n    public int Port { get { return (int)numPort.Value; } }\n    #endregion\n\n    #region Membres\n    private Socket socketListener = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\n\n    private CancellationTokenSource acceptConnection = new CancellationTokenSource();\n    #endregion\n}\n</code></pre>\n\n<p>Client class :</p>\n\n<pre><code>public partial class Client : Connectable\n{\n    #region Constructeurs\n    public Client() : this(string.Empty, 12221) { }\n\n    public Client(string ipDefaut, int portDefaut)\n    {\n        InitializeComponent();\n        NewMessage += ShowMessage;\n\n        numIp.FromString(\"192.168.2.168\");\n        numPort.Value = portDefaut;\n    }\n    #endregion\n\n    public override void Start()\n    {\n        try\n        {\n            socket.Connect(Ip, Port);\n\n            boutonConnecter.Content = \"Jouer\";\n            numIp.IsEnabled = false;\n            numPort.IsEnabled = false;\n            boutonAnnuler.Content = \"D\u00e9connecter\";\n        }\n        catch (SocketException e)\n        {\n            Console.WriteLine(e.Message);\n        }\n    }\n\n    public override void Stop()\n    {\n        if (socket.Connected)\n        {\n            socket.Shutdown(SocketShutdown.Both);\n            socket.Close();\n            socket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\n        }\n    }\n\n    private void ButtonClickStart(object sender, RoutedEventArgs e)\n    {\n        if ((string)boutonConnecter.Content == \"Jouer\")\n            Close();\n\n        else if ((string)boutonConnecter.Content == \"Connecter\")\n        {\n            foreach (string num in numIp.ToStringArray())\n                if (num == string.Empty)\n                {\n                    ShowMessage(\"L'adresse ip doit \u00eatre compl\u00e8te.\");\n                    return;\n                }\n\n            Start();\n        }\n    }\n\n    private void ButtonClickCancel(object sender, RoutedEventArgs e)\n    {\n        if ((string)boutonAnnuler.Content == \"Annuler\")\n            Close();\n\n        else if ((string)boutonAnnuler.Content == \"D\u00e9connecter\")\n        {\n            Stop();\n            boutonConnecter.IsEnabled = true;\n            numIp.IsEnabled = true;\n            numPort.IsEnabled = true;\n            boutonAnnuler.Content = \"Annuler\";\n            boutonConnecter.Content = \"Connecter\";\n        }\n    }\n\n\n    #region Properties\n    public string Ip { get { return numIp.ToString(); } }\n\n    public int Port { get { return (int)numPort.Value; } }\n    #endregion\n}\n</code></pre>\n\n<p>If it can help someone else... :)</p>\n"}], "owner": {"reputation": 85, "user_id": 9938722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8451b4a05997f0cb384197cf60349b5?s=128&d=identicon&r=PG&f=1", "display_name": "Guibi", "link": "https://stackoverflow.com/users/9938722/guibi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 51540677, "answer_count": 2, "score": -2, "last_activity_date": 1532901312, "creation_date": 1528932818, "last_edit_date": 1532901312, "question_id": 50847696, "link": "https://stackoverflow.com/questions/50847696/cant-read-write-data-tcpclient-server", "title": "Can&#39;t read/write data (TcpClient/Server)", "body": "<p>I'm actually able to connect my TcpClient to my TcpServer, but I can't make them communicate. I tried <code>client.GetStream()</code> and <code>BinaryReader/Writer</code>.</p>\n\n<p>Here is my code: </p>\n\n<p>-<em>Client</em>:</p>\n\n<pre><code>public partial class Client : Window\n{\n    #region Constructeurs\n    public Client() : this(string.Empty, 12221) { }\n\n    public Client(string ipDefaut, int portDefaut)\n    {\n        InitializeComponent();\n\n        numIp.FromString(\"192.168.2.168\");\n        numPort.Value = portDefaut;\n\n        Serveur serveur = new Serveur();\n        serveur.Show();\n    }\n    #endregion\n\n    public void Start()\n    {\n        if (Ip == null)\n            return;\n\n        if (client == null || client.Client == null)\n            client = new TcpClient();\n\n        if (client.Connected == true)\n        {\n            ShowMessage(\"D\u00e9j\u00e0 connect\u00e9.\");\n            return;\n        }\n\n        client = new TcpClient();\n\n        try\n        {\n            client.ConnectAsync(Ip, Port).Wait(10);\n        }\n        catch (SocketException) { }\n    }\n\n    public void Stop()\n    {\n        if (client != null &amp;&amp; client.Client != null)\n            if (client.Connected)\n            {\n                client.Client.Shutdown(SocketShutdown.Both);\n                client.Close();\n            }\n    }\n\n    public string Read()\n    {\n        if (client != null &amp;&amp; client.GetStream() != null)\n            if (client.Connected &amp;&amp; client.GetStream().DataAvailable)\n            {\n                BinaryReader reader = new BinaryReader(client.GetStream());\n                return reader.ReadString();\n            }\n\n        return string.Empty;\n    }\n\n    public void Send(string info)\n    {\n        if (client != null &amp;&amp; client.GetStream() != null)\n            if (client.Connected)\n            {\n                BinaryWriter writer = new BinaryWriter(client.GetStream());\n                writer.Write(info);\n                writer.Flush();\n            }\n    }\n\n    private void ShowMessage(string message)\n    {\n        labelInfo.Content = message;\n        Storyboard sb = Resources[\"sbLabelInfo\"] as Storyboard;\n        sb.Begin(labelInfo);\n    }\n\n    private void Connecter(object sender, RoutedEventArgs e)\n    {\n        foreach (string num in numIp.ToStringArray())\n            if (num == string.Empty)\n            {\n                ShowMessage(\"L'adresse ip doit \u00eatre compl\u00e8te.\");\n                return;\n            }\n\n        Start();\n\n        if (client.Connected)\n        {\n            ShowMessage(\"Connect\u00e9\");\n            boutonConnecter.IsEnabled = false;\n            numIp.IsEnabled = false;\n            numPort.IsEnabled = false;\n            boutonAnnuler.Content = \"D\u00e9connecter\";\n        }\n\n        else\n            ShowMessage(\"Impossible de se connecter.\");\n    }\n\n    private void Annuler(object sender, RoutedEventArgs e)\n    {\n        if ((string)boutonAnnuler.Content == \"Annuler\")\n            Close();\n\n        else if ((string)boutonAnnuler.Content == \"D\u00e9connecter\")\n        {\n            Stop();\n            boutonConnecter.IsEnabled = true;\n            numIp.IsEnabled = true;\n            numPort.IsEnabled = true;\n            boutonAnnuler.Content = \"Annuler\";\n        }\n    }\n\n\n    #region Propri\u00e9t\u00e9s\n    public string Ip { get { return numIp.ToString(); } }\n\n    public int Port { get { return (int)numPort.Value; } }\n    #endregion\n\n    #region Membres\n    private TcpClient client = new TcpClient();\n    #endregion\n}\n</code></pre>\n\n<p>-<em>Server</em>:</p>\n\n<pre><code>public partial class Serveur : Window\n{\n    #region Constructeurs\n    public Serveur() : this(12221) { }\n\n    public Serveur(int numPortDefaut)\n    {\n        InitializeComponent();\n\n        foreach (IPAddress addr in Dns.GetHostAddresses(Dns.GetHostName()))\n            if (addr.AddressFamily == AddressFamily.InterNetwork)\n                numIp.FromString(addr.ToString());\n\n        numPort.Value = numPortDefaut;\n        serveur = new TcpListener(IPAddress.Parse(Ip), Port);\n        thread = new Thread(Accept);\n        serveur.Stop();\n\n        if (!System.Net.NetworkInformation.NetworkInterface.GetIsNetworkAvailable())\n        {\n            boutonDemarrer.IsEnabled = false;\n            MessageBox.Show(this, \"Connection impossible - Tic Tac Toe\", \"Impossible de se connecter \u00e0 internet. V\u00e9rifiez votre connection et r\u00e9essayez.\", MessageBoxButton.OK, MessageBoxImage.Warning);\n            Close();\n        }\n    }\n    #endregion\n\n    public void Start()\n    {\n        if (serveur != null)\n        {\n            try\n            {\n                serveur.Start();\n            }\n            catch (SocketException) { }\n\n            IsConnected = false;\n            StartThread();\n        }\n\n        else\n        {\n            serveur = new TcpListener(IPAddress.Parse(Ip), Port);\n            Start();\n        }\n    }\n\n    public void Stop()\n    {\n        if (serveur != null)\n        {\n            IsConnected = false;\n            serveur.Stop();\n            StopThread();\n        }\n    }\n\n    public void StartThread()\n    {\n        if (thread.ThreadState == ThreadState.Stopped)\n            thread.Start();\n    }\n\n    public void StopThread()\n    {\n        if (!IsConnected)\n        {\n            IsConnected = true;\n            while (thread.IsAlive) { }\n            IsConnected = false;\n        }\n    }\n\n    private void Accept()\n    {\n        while (!IsConnected &amp;&amp; serveur != null)\n            if (serveur.Pending())\n            {\n                client = serveur.AcceptTcpClient();\n                IsConnected = true;\n            }\n    }\n\n    public string Read()\n    {\n        if (client != null &amp;&amp; client.GetStream() != null)\n            if (client.Connected &amp;&amp; client.GetStream().DataAvailable)\n            {\n                BinaryReader reader = new BinaryReader(client.GetStream());\n                return reader.ReadString();\n            }\n\n        return string.Empty;\n    }\n\n    public void Send(string info)\n    {\n        if (client != null &amp;&amp; client.GetStream() != null)\n            if (client.Connected)\n            {\n                BinaryWriter writer = new BinaryWriter(client.GetStream());\n                writer.Write(info);\n                writer.Flush();\n            }\n    }\n\n    private void Demarrer(object sender, RoutedEventArgs e)\n    {\n        Start();\n        boutonAnnuler.Content = \"Stop\";\n        boutonDemarrer.IsEnabled = false;\n        numPort.IsEnabled = false;\n        numIp.IsEnabled = false;\n    }\n\n    private void Annuler(object sender, RoutedEventArgs e)\n    {\n        if ((string)boutonAnnuler.Content == \"Annuler\")\n        {\n            Stop();\n            Close();\n        }\n\n        else if ((string)boutonAnnuler.Content == \"Stop\")\n        {\n            StopThread();\n            boutonAnnuler.Content = \"Annuler\";\n            boutonDemarrer.IsEnabled = true;\n            numPort.IsEnabled = true;\n            numIp.IsEnabled = true;\n        }\n    }\n\n\n    #region Propri\u00e9t\u00e9s\n    public string Ip { get { return numIp.ToString(); } }\n\n    public int Port { get { return (int)numPort.Value; } }\n\n    public bool IsConnected { get; private set; }\n    #endregion\n\n    #region Membres\n    private TcpListener serveur = null;\n\n    private TcpClient client = null;\n\n    private Thread thread = null;\n    #endregion\n}\n</code></pre>\n\n<p>The problem is that, in debug mode, <code>client.GetStream().DataAvailable</code> return always <code>false</code>. </p>\n\n<p>Why does it return that and how do I can solve this ?</p>\n\n<p>(<code>numIp</code> and <code>numPort</code> are some fields that the user needs to fill)</p>\n"}, {"tags": ["c#", "entity-framework-6", "ef-database-first"], "comments": [{"owner": {"reputation": 5439, "user_id": 1736047, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GY4YE.jpg?s=128&g=1", "display_name": "STLDev", "link": "https://stackoverflow.com/users/1736047/stldev"}, "edited": false, "score": 0, "creation_date": 1528933594, "post_id": 50847690, "comment_id": 88698898, "body": "Please provide the SQL DDL for the <code>CORP_MASTER</code> table, including the definition of the primary key."}, {"owner": {"reputation": 5439, "user_id": 1736047, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GY4YE.jpg?s=128&g=1", "display_name": "STLDev", "link": "https://stackoverflow.com/users/1736047/stldev"}, "edited": false, "score": 0, "creation_date": 1528934184, "post_id": 50847690, "comment_id": 88699015, "body": "Apologies - SQL Data Definition Language - the <code>CREATE TABLE</code> statement that was used to create the <code>CORP_MASTER</code> table."}, {"owner": {"reputation": 5439, "user_id": 1736047, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GY4YE.jpg?s=128&g=1", "display_name": "STLDev", "link": "https://stackoverflow.com/users/1736047/stldev"}, "edited": false, "score": 0, "creation_date": 1528934284, "post_id": 50847690, "comment_id": 88699039, "body": "You should add that DDL for the <code>CORP_MASTER</code> table to your question, rather than posting it in a comment."}, {"owner": {"reputation": 5439, "user_id": 1736047, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GY4YE.jpg?s=128&g=1", "display_name": "STLDev", "link": "https://stackoverflow.com/users/1736047/stldev"}, "edited": false, "score": 0, "creation_date": 1528934335, "post_id": 50847690, "comment_id": 88699051, "body": "It might also be good to know what version of EF you&#39;re working with."}, {"owner": {"reputation": 29, "user_id": 6684959, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74c6669583d3fd78510dfac3792b175f?s=128&d=identicon&r=PG&f=1", "display_name": "Damage", "link": "https://stackoverflow.com/users/6684959/damage"}, "reply_to_user": {"reputation": 5439, "user_id": 1736047, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GY4YE.jpg?s=128&g=1", "display_name": "STLDev", "link": "https://stackoverflow.com/users/1736047/stldev"}, "edited": false, "score": 0, "creation_date": 1528934733, "post_id": 50847690, "comment_id": 88699120, "body": "Edited and added version(6.1.3) Thanks man i appreciate the assistance with formulating the question."}, {"owner": {"reputation": 465, "user_id": 404243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed49cd3885d253d7c7897abf7a73b82?s=128&d=identicon&r=PG&f=1", "display_name": "Pon Saravanan", "link": "https://stackoverflow.com/users/404243/pon-saravanan"}, "edited": false, "score": 0, "creation_date": 1528935630, "post_id": 50847690, "comment_id": 88699263, "body": "since your id is not int and also not the expected name &#39;Id&#39; you may need to decorate with attributes key"}, {"owner": {"reputation": 29, "user_id": 6684959, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74c6669583d3fd78510dfac3792b175f?s=128&d=identicon&r=PG&f=1", "display_name": "Damage", "link": "https://stackoverflow.com/users/6684959/damage"}, "edited": false, "score": 0, "creation_date": 1528936271, "post_id": 50847690, "comment_id": 88699372, "body": "I had thought that but because it&#39;s database first I can&#39;t add an attribute to the model ?"}, {"owner": {"reputation": 465, "user_id": 404243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed49cd3885d253d7c7897abf7a73b82?s=128&d=identicon&r=PG&f=1", "display_name": "Pon Saravanan", "link": "https://stackoverflow.com/users/404243/pon-saravanan"}, "edited": false, "score": 0, "creation_date": 1528936341, "post_id": 50847690, "comment_id": 88699388, "body": "have you tried the haskey in the model to specify?"}, {"owner": {"reputation": 465, "user_id": 404243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed49cd3885d253d7c7897abf7a73b82?s=128&d=identicon&r=PG&f=1", "display_name": "Pon Saravanan", "link": "https://stackoverflow.com/users/404243/pon-saravanan"}, "edited": false, "score": 0, "creation_date": 1528936681, "post_id": 50847690, "comment_id": 88699453, "body": "Please go to the designer and select the column and click properties. There you can set the EntityKey property to make it primary key"}, {"owner": {"reputation": 29, "user_id": 6684959, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74c6669583d3fd78510dfac3792b175f?s=128&d=identicon&r=PG&f=1", "display_name": "Damage", "link": "https://stackoverflow.com/users/6684959/damage"}, "edited": false, "score": 0, "creation_date": 1528940905, "post_id": 50847690, "comment_id": 88700205, "body": "Not sure where i would apply the haskey method, as i understand it, normally it would go in the context overriding the OnModelCreating method but because this is database first that method shoudn&#39;t be used should it? (i did actually end up trying that but no change)      modelBuilder.Entity&lt;CORP_MASTER&gt;().HasKey(c =&gt; c.CORP_MASTER__ID);"}, {"owner": {"reputation": 465, "user_id": 404243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed49cd3885d253d7c7897abf7a73b82?s=128&d=identicon&r=PG&f=1", "display_name": "Pon Saravanan", "link": "https://stackoverflow.com/users/404243/pon-saravanan"}, "edited": false, "score": 0, "creation_date": 1528941468, "post_id": 50847690, "comment_id": 88700324, "body": "please try to reproduce this in a smaller project with just a console app and a edmx. Post this in github. lets see what is the problem. In my code sample it works as it should."}, {"owner": {"reputation": 29, "user_id": 6684959, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74c6669583d3fd78510dfac3792b175f?s=128&d=identicon&r=PG&f=1", "display_name": "Damage", "link": "https://stackoverflow.com/users/6684959/damage"}, "edited": false, "score": 1, "creation_date": 1528941882, "post_id": 50847690, "comment_id": 88700394, "body": "That&#39;s a really good idea, i&#39;ll give that a go, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 465, "user_id": 404243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed49cd3885d253d7c7897abf7a73b82?s=128&d=identicon&r=PG&f=1", "display_name": "Pon Saravanan", "link": "https://stackoverflow.com/users/404243/pon-saravanan"}, "is_accepted": false, "score": 0, "last_activity_date": 1528936941, "creation_date": 1528936941, "answer_id": 50848124, "question_id": 50847690, "link": "https://stackoverflow.com/questions/50847690/c-entity-framework-database-first-missing-key-violation-entityset-is-based-o/50848124#50848124", "title": "C# Entity Framework database first missing key violation EntitySet &#39;&#39; is based on type &#39;&#39; that has no keys defined", "body": "<p><strong>Cause</strong></p>\n\n<p>If you don't have standard primary key names and non integer primary keys the ef may not identify your primary keys.</p>\n\n<p><strong>You can make the column as primary key by the below steps</strong></p>\n\n<ol>\n<li>Go to the designer and select the column </li>\n<li>click properties. </li>\n<li>Set the EntityKey property to true</li>\n</ol>\n\n<p><strong>Property section of the column</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/HL2FO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HL2FO.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 6684959, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74c6669583d3fd78510dfac3792b175f?s=128&d=identicon&r=PG&f=1", "display_name": "Damage", "link": "https://stackoverflow.com/users/6684959/damage"}, "is_accepted": false, "score": 1, "last_activity_date": 1529025254, "creation_date": 1529025254, "answer_id": 50867950, "question_id": 50847690, "link": "https://stackoverflow.com/questions/50847690/c-entity-framework-database-first-missing-key-violation-entityset-is-based-o/50867950#50867950", "title": "C# Entity Framework database first missing key violation EntitySet &#39;&#39; is based on type &#39;&#39; that has no keys defined", "body": "<p>And that's exactly what it came down to, a bit of ignorance and a whole lot of stupid on my part. On my context class I was inheriting from DbContext() instead of the auto generated partial entities class.</p>\n\n<p>so my context looked like</p>\n\n<pre><code> public class OzoneLiveLite : DbContext\n{\n    public DbSet&lt;CORP_MASTER&gt; CorpMaster { get; set; }\n    public DbSet&lt;JCS_FINYEAR&gt; JcsFinyear { get; set; }\n    public DbSet&lt;JCS_JOB&gt; JcsJob { get; set; }\n    public DbSet&lt;JCS_JOB__JCS_JOB_SUBJOB&gt; JcsJobJcsJobSubjob { get; set; }\n    public DbSet&lt;JCS_FINYEAR__JCFY_PERIOD&gt; JcsFinyearJcfyPeriod { get; set; }\n}\n</code></pre>\n\n<p>Instead of</p>\n\n<pre><code> public class OzoneLiveLite : Ozone_Live_LiteEntities\n{\n    public DbSet&lt;CORP_MASTER&gt; CorpMaster { get; set; }\n    public DbSet&lt;JCS_FINYEAR&gt; JcsFinyear { get; set; }\n    public DbSet&lt;JCS_JOB&gt; JcsJob { get; set; }\n    public DbSet&lt;JCS_JOB__JCS_JOB_SUBJOB&gt; JcsJobJcsJobSubjob { get; set; }\n    public DbSet&lt;JCS_FINYEAR__JCFY_PERIOD&gt; JcsFinyearJcfyPeriod { get; set; }\n}\n</code></pre>\n\n<p>To be honest I'm still not sure why it allowed me to build and only failed at runtime but it looks like my issue is solved for the moment.</p>\n\n<p>Thank you all for the assist</p>\n"}], "owner": {"reputation": 29, "user_id": 6684959, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/74c6669583d3fd78510dfac3792b175f?s=128&d=identicon&r=PG&f=1", "display_name": "Damage", "link": "https://stackoverflow.com/users/6684959/damage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1529025254, "creation_date": 1528932774, "last_edit_date": 1529007372, "question_id": 50847690, "link": "https://stackoverflow.com/questions/50847690/c-entity-framework-database-first-missing-key-violation-entityset-is-based-o", "title": "C# Entity Framework database first missing key violation EntitySet &#39;&#39; is based on type &#39;&#39; that has no keys defined", "body": "<p>I'm stumped with this. I'm using Entity Framework (EF 6.1.3) and generated a database-first model (this is the weird part because most of the googling I've done has results for code first).</p>\n\n<p>When I'm trying to query the database, I get the following error:</p>\n\n<blockquote>\n  <p>One or more validation errors were detected during model generation:TCCIntegration.DataAccess.Ozone.Context.CORP_MASTER: : EntityType 'CORP_MASTER' has no key defined. Define the key for this EntityType\" \"Define the key for this EntityType. CorpMaster: EntityType: EntitySet 'CorpMaster' is based on type 'CORP_MASTER' that has no keys defined.</p>\n</blockquote>\n\n<p>But I can see in the actual SQL database that there is a primary key defined and also in the <code>.EDMX</code>, I can see that the primary key is included in the model.</p>\n\n<p>Plus the problem with it being database-first, I can't add any data annotations to the models because they are automatically generated. Is there something obvious I am missing? (I have tried removing the tables from the <code>.EDMX</code> and re-adding them and also refreshing the <code>.EDMX</code>)</p>\n\n<p>Here's the SQL DDL (Thanks STLDeveloper)</p>\n\n<pre><code>SET ANSI_NULLS ON\nGO\nSET QUOTED_IDENTIFIER ON\nGO\nCREATE TABLE [dbo].[CORP_MASTER](\n[CORP_MASTER__ID] [varchar](255) NOT NULL,\n[CORP_MAST_ACQUIRED] [varchar](2) NULL,\n[CORP_MAST_YEAR_START] [int] NULL,CONSTRAINT [PK_CORP_MASTER] PRIMARY KEY \nCLUSTERED \n(\n[CORP_MASTER__ID] ASC\n)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, \nALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]\n) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]\nGO\n</code></pre>\n\n<p>EDIT\n[CodeName47] The EDMX does show that they should be keys</p>\n\n<p><a href=\"https://i.stack.imgur.com/MYuFr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MYuFr.jpg\" alt=\"Table Mapping Design and Properties\"></a></p>\n\n<p>EDIT</p>\n\n<p>I've created an empty console app and tried this again with the same result. \nI have a class that inherits from DbContext</p>\n\n<pre><code>namespace ConsoleApp2\n{\n    public class OzoneLiveLite : DbContext\n    {\n        public DbSet&lt;CORP_MASTER&gt; CorpMaster { get; set; }      \n    }\n}\n</code></pre>\n\n<p>A provider class</p>\n\n<pre><code>namespace ConsoleApp2\n{\n    public class OzoneLiveLiteProvider \n    {\n        private readonly OzoneLiveLite _ozoContext;\n        public OzoneLiveLiteProvider() : this(new OzoneLiveLite())\n       {\n       }\n\n       public OzoneLiveLiteProvider(OzoneLiveLite ozoneLiveLiteProvider)\n        {\n            _ozoContext = ozoneLiveLiteProvider;\n        }\n\n        public void GetProjectFinancials()\n        {\n            var corpMaster = _ozoContext.CorpMaster;\n            var ozoneFinancials = from corpMast in corpMaster select corpMast.CORP_MASTER__ID;\n       }\n        public void Dispose()\n        {\n            _ozoContext?.Dispose();\n        }\n    }\n}\n</code></pre>\n\n<p>and finally the Main class</p>\n\n<pre><code>namespace ConsoleApp2\n{\n    class Program\n   {\n        static void Main(string[] args)\n       {\n            var ozoneProvider = new OzoneLiveLiteProvider();\n            ozoneProvider.GetProjectFinancials();\n            Console.ReadKey();\n       }\n   }\n}\n</code></pre>\n\n<p>Is there possibly something wrong in the way I'm implementing the context?</p>\n"}, {"tags": ["javascript", "c#", "jquery", "json", "razor"], "comments": [{"owner": {"reputation": 1659, "user_id": 1177699, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/HEIZv.jpg?s=128&g=1", "display_name": "Krishnanunni Jeevan", "link": "https://stackoverflow.com/users/1177699/krishnanunni-jeevan"}, "edited": false, "score": 0, "creation_date": 1528932698, "post_id": 50847662, "comment_id": 88698715, "body": "Can you post the class structure of Reeps object or confirm that there is no [ScriptIgnore] or [JsonIgnore] on the objectId"}, {"owner": {"reputation": 4681, "user_id": 4077513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oxQV6.png?s=128&g=1", "display_name": "Martin Erlic", "link": "https://stackoverflow.com/users/4077513/martin-erlic"}, "reply_to_user": {"reputation": 1659, "user_id": 1177699, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/HEIZv.jpg?s=128&g=1", "display_name": "Krishnanunni Jeevan", "link": "https://stackoverflow.com/users/1177699/krishnanunni-jeevan"}, "edited": false, "score": 0, "creation_date": 1528932935, "post_id": 50847662, "comment_id": 88698770, "body": "@KrishnanunniJeevan I posted it at the top of my post. How can I confirm  [ScriptIgnore] or [JsonIgnore] is not present?"}, {"owner": {"reputation": 4681, "user_id": 4077513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oxQV6.png?s=128&g=1", "display_name": "Martin Erlic", "link": "https://stackoverflow.com/users/4077513/martin-erlic"}, "reply_to_user": {"reputation": 1659, "user_id": 1177699, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/HEIZv.jpg?s=128&g=1", "display_name": "Krishnanunni Jeevan", "link": "https://stackoverflow.com/users/1177699/krishnanunni-jeevan"}, "edited": false, "score": 1, "creation_date": 1528933157, "post_id": 50847662, "comment_id": 88698812, "body": "@KrishnanunniJeevan Yeet extends ParseObject: <a href=\"https://gist.github.com/SeloSlav/0b8e4be6a8d11f6f235f2820220933e7\" rel=\"nofollow noreferrer\">gist.github.com/SeloSlav/0b8e4be6a8d11f6f235f2820220933e7</a>"}], "owner": {"reputation": 4681, "user_id": 4077513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oxQV6.png?s=128&g=1", "display_name": "Martin Erlic", "link": "https://stackoverflow.com/users/4077513/martin-erlic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1529018838, "creation_date": 1528932463, "last_edit_date": 1529018838, "question_id": 50847662, "link": "https://stackoverflow.com/questions/50847662/parseobject-objectids-are-not-showing-up-in-my-json-response", "title": "ParseObject objectIds are not showing up in my JSON response", "body": "<p>I initiate a task that queries a list of objects from my server.</p>\n\n<p><strong>Yeet Object Class Structure (queried via Parse Dashboard API Console)</strong>:</p>\n\n<pre><code>{\n    \"results\": [\n        {\n            \"objectId\": \"6PgYUb6IUD\",\n            \"notificationText\": \"yeeeeet!\",\n            \"author\": {\n                \"__type\": \"Pointer\",\n                \"className\": \"_User\",\n                \"objectId\": \"1RtqEgy1ct\"\n            },\n            \"replyCount\": 1,\n            \"spice\": 0,\n            \"repliedToBy\": [],\n            \"likedBy\": [],\n            \"createdAt\": \"2018-06-13T06:07:09.038Z\",\n            \"updatedAt\": \"2018-06-13T22:27:36.636Z\",\n            \"replyCount_str\": \"1\",\n            \"yayeetedBy\": [],\n            \"likesCount\": 0,\n            \"likesCount_str\": \"0\"\n        }\n    ]\n}\n</code></pre>\n\n<p>Yeet extends ParseObject, which can be viewed here: <a href=\"https://gist.github.com/SeloSlav/0b8e4be6a8d11f6f235f2820220933e7\" rel=\"nofollow noreferrer\">https://gist.github.com/SeloSlav/0b8e4be6a8d11f6f235f2820220933e7</a></p>\n\n<p><strong>Parse call (index.cshtml.cs):</strong></p>\n\n<pre><code>public IEnumerable&lt;Yeet&gt; Reeps { get; private set; }\n\npublic async Task&lt;JsonResult&gt; OnPostReeps()\n    {\n\n        MemoryStream stream = new MemoryStream();\n        Request.Body.CopyTo(stream);\n        stream.Position = 0;\n\n        using (StreamReader reader = new StreamReader(stream))\n        {\n            string requestBody = reader.ReadToEnd();\n            if (requestBody.Length &gt; 0)\n            {\n                Reeps = await GetReepsAsync(requestBody);\n            }\n        }\n\n        return new JsonResult(Reeps);\n    }\n\nprivate async Task&lt;IEnumerable&lt;Yeet&gt;&gt; GetReepsAsync(String yeetId)\n    {\n        var query = new ParseQuery&lt;Yeet&gt;()\n                        .OrderByDescending(\"createdAt\")\n                        .WhereEqualTo(\"senderParseObjectId\", yeetId)\n                        .Limit(50)\n                        .Include(\"author\");\n        Reeps = await query.FindAsync();\n        return Reeps;\n    }\n</code></pre>\n\n<p><strong>I then return the JSON results in my AJAX call (index.cshtml):</strong></p>\n\n<pre><code>console.log(\"Yeet ID: \" + convoYeetId);\n$.ajax({\n            type: \"POST\",\n            url: \"Index?handler=Reeps\",\n            headers: {\n                \"XSRF-TOKEN\": $('input:hidden[name=\"__RequestVerificationToken\"]').val()\n            },\n            contentType: \"application/json; charset=utf-8\",\n            data: convoYeetId,\n            success: function (response) {\n                console.log(convoYeetId);\n                console.log(JSON.stringify(response));\n                ...\n</code></pre>\n\n<p><strong>And then print the results to my console:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/K8zgo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K8zgo.png\" alt=\"enter image description here\"></a></p>\n\n<p>Yet none of the objects have an objectId.</p>\n\n<p>I think <code>JsonResult</code> is interpreting the <code>IEnumerable&lt;Yeet&gt;</code> object that is being returned as a generic dictionary type, so the JSON it is generating is just a bunch of key-value pairs...</p>\n"}, {"tags": ["c#", "uwp", "treeview"], "comments": [{"owner": {"reputation": 5907, "user_id": 613087, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d3ac2144120f923f23c49ee4ce4437ab?s=128&d=identicon&r=PG", "display_name": "Depechie", "link": "https://stackoverflow.com/users/613087/depechie"}, "edited": false, "score": 0, "creation_date": 1528961288, "post_id": 50847619, "comment_id": 88706365, "body": "It&#39;s stated here: <a href=\"https://docs.microsoft.com/en-us/windows/uwp/design/controls-and-patterns/tree-view#tree-view-node-content\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/windows/uwp/design/&hellip;</a> &gt; you can just add anything in the content and need to provide a DataTemplate for it&#39;s representation! ( So like how a ListView works )"}, {"owner": {"reputation": 1, "user_id": 1620540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7de9b51e90cff226656121f905eca08?s=128&d=identicon&r=PG", "display_name": "user1620540", "link": "https://stackoverflow.com/users/1620540/user1620540"}, "reply_to_user": {"reputation": 5907, "user_id": 613087, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d3ac2144120f923f23c49ee4ce4437ab?s=128&d=identicon&r=PG", "display_name": "Depechie", "link": "https://stackoverflow.com/users/613087/depechie"}, "edited": false, "score": 0, "creation_date": 1528994243, "post_id": 50847619, "comment_id": 88726871, "body": "Have you tried it? I read that statement and for a ListView the &lt;DataTemplate&gt; is embedded in a &lt;ListBox.ItemTemplate&gt;. The &lt;TreeView.ItemTemplate&gt; does not exist. Hence, and example would be wonderful. I only wish their documentation could have provided an example.  Still researching an example. By example, I am referring to complete working code example as I stated in my original question."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 1620540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7de9b51e90cff226656121f905eca08?s=128&d=identicon&r=PG", "display_name": "user1620540", "link": "https://stackoverflow.com/users/1620540/user1620540"}, "is_accepted": false, "score": 0, "last_activity_date": 1529014183, "creation_date": 1529014183, "answer_id": 50866625, "question_id": 50847619, "link": "https://stackoverflow.com/questions/50847619/uwp-c-treeview-with-icons-example/50866625#50866625", "title": "UWP c# TreeView with icons example", "body": "<p>Ok, I copied the example (very bottom of the page) from the <a href=\"https://docs.microsoft.com/en-us/windows/uwp/design/controls-and-patterns/tree-view#tree-view-node-content\" rel=\"nofollow noreferrer\">link</a> provided by <a href=\"https://stackoverflow.com/users/613087/depechie\">Depechie</a> and replaced the DataTemplate with this code below and it worked. I am now able to see the Image.</p>\n\n<pre><code>&lt;DataTemplate x:Key=\"TreeViewItemDataTemplate\"&gt;\n            &lt;Grid Height=\"44\"&gt;\n                &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                    &lt;Image x:Name=\"TreeIcon\" Width=\"16\" Height=\"16\" Source=\"Assets/folder.png\" Margin=\"0,0,10,0\"&gt;\n                        &lt;Image.FocusVisualPrimaryBrush&gt;\n                            &lt;ImageBrush/&gt;\n                        &lt;/Image.FocusVisualPrimaryBrush&gt;\n                    &lt;/Image&gt;\n                    &lt;TextBlock\n                    Text=\"{Binding Content.DisplayName}\"\n                    HorizontalAlignment=\"Left\"\n                    VerticalAlignment=\"Center\"\n                    Style=\"{ThemeResource BodyTextBlockStyle}\"/&gt;\n                &lt;/StackPanel&gt;\n            &lt;/Grid&gt;\n        &lt;/DataTemplate&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 1620540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7de9b51e90cff226656121f905eca08?s=128&d=identicon&r=PG", "display_name": "user1620540", "link": "https://stackoverflow.com/users/1620540/user1620540"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1060, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1529014183, "creation_date": 1528932094, "question_id": 50847619, "link": "https://stackoverflow.com/questions/50847619/uwp-c-treeview-with-icons-example", "title": "UWP c# TreeView with icons example", "body": "<p>Microsoft recently started supporting the TreeView for UWP. This page is a reference.\n<a href=\"https://docs.microsoft.com/en-us/windows/uwp/design/controls-and-patterns/tree-view\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/windows/uwp/design/controls-and-patterns/tree-view</a></p>\n\n<p>They display there an example with icons however they do not provide an example of how to do this. </p>\n\n<p>Can anyone show an example of how to do this in XAML or programmatically?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "jquery", "asp.net-mvc", "forms", "nopcommerce"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1528931966, "post_id": 50847578, "comment_id": 88698566, "body": "You appear to be wanting to dynamically add multiple items (Products) to a collection, in which case refer the answers <a href=\"http://stackoverflow.com/questions/28019793/submit-same-partial-view-called-multiple-times-data-to-controller/28081308#28081308\">here</a> and <a href=\"http://stackoverflow.com/questions/40539321/partial-view-passing-a-collection-using-the-html-begincollectionitem-helper/40541892#40541892\">here</a> for some options"}, {"owner": {"reputation": 301, "user_id": 9120383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CNSvD.jpg?s=128&g=1", "display_name": "chris c", "link": "https://stackoverflow.com/users/9120383/chris-c"}, "edited": false, "score": 0, "creation_date": 1529045927, "post_id": 50847578, "comment_id": 88742721, "body": "@StephenMuecke please see my updated question. I tried what you suggested but could not seem to make it work. I have tried another way, but when I add the model as an item <code>Model.Items.Add(model);</code> I can&#39;t grab it from other controller method. Thanks for the help"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1529048268, "post_id": 50847578, "comment_id": 88743781, "body": "Without seeing what you tried, I cannot guess what you may have been doing wrong (and I do not even know which option you tried,but I assure you both work)"}], "owner": {"reputation": 301, "user_id": 9120383, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CNSvD.jpg?s=128&g=1", "display_name": "chris c", "link": "https://stackoverflow.com/users/9120383/chris-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1529046170, "creation_date": 1528931689, "last_edit_date": 1529045767, "question_id": 50847578, "link": "https://stackoverflow.com/questions/50847578/sending-same-form-2-or-more-times-to-controller-in-one-ajax-request", "title": "Sending same form 2 or more times to controller in one ajax request", "body": "<p>I have a problem which I have never encountered before, so here is a basic rundown.\nI'm building a area on a website where users can submit warranty claims. Working on localhost so can't provide link.</p>\n\n<p>I have one form where a user enters name etc.\nI have another form where user enters product information, now this is where my problem lies. The user can add more than one item for their warranty claim.\nSo the next step is add another item, or submit warranty claim.</p>\n\n<p>Now I don't want to add the data to the database until the user submits all their information, so clicks the submit warranty claim button.</p>\n\n<p>At the moment I have a button to add another item, and when the user clicks the add another item button I send an ajax request to the server. Then I clear the product information form and then the user can add a second product.</p>\n\n<p>So here is the code that is triggered when the user clicks the add another item button:</p>\n\n<pre><code>$.ajax({\n            cache: false,\n            url: '@(Url.RouteUrl(\"Nop.Plugin.Widgets.CustomerReturnsWidget.CustomerReturns.NoAccountWarrantyFormProduct\"))',\n            type: 'post',\n            data: $(\"#add-warranty-claim-form-product-details\").serialize(),\n            success: function (data) {\n                //reset form\n                $(\"#add-warranty-claim-form-product-details\")[0].reset();\n\n                numItemsCount++;\n            }\n        });\n</code></pre>\n\n<p>Here is the ajax for final submit button:</p>\n\n<pre><code>$.ajax({\n                cache: false,\n                url: '@(Url.RouteUrl(\"Nop.Plugin.Widgets.CustomerReturnsWidget.CustomerReturns.NoAccountWarrantyFormYourDetails\"))',\n                type: 'post',\n                data: $(\"#add-warranty-claim-form, #add-warranty-claim-form-product-details\").serialize(),\n                success: function (data) {\n                    console.log(\"success = \" + data.success + \":\");\n                }\n            });\n</code></pre>\n\n<p>As you can see I serialize both forms and send to controller. What would be the best way to go about this?</p>\n\n<p>I thought maybe I could have a temporary table, where that product form gets entered into. Then if the user doesn't go through with the claim that data isn't entered into the warranty claim tables. Then I could build a task which would run once a week and delete everything from that temp product table which is older than one week. But I feel like there would be a better solution.</p>\n\n<p>Now it's also worth noting I'm using validation on my models, so the model must be validated for the product form before another product can be added.</p>\n\n<p>Here is my model:</p>\n\n<pre><code>namespace Nop.Plugin.Widgets.CustomerReturnsWidget.Models\n{\n    [Validator(typeof(CustomerReturnsValidator))]\n    public partial class CustomerReturnsModel : BaseNopModel\n    {\n        public CustomerReturnsModel() {\n            Items = new List&lt;CustomerReturnItemModel&gt;();\n        }\n        public int CustomerReturnID { get; set; }\n\n        //customer details\n        [NopResourceDisplayName(\"Plugin.CustomerReturns.Fields.CustomerEmail\")]\n        public string CustomerEmail { get; set; }\n\n        [NopResourceDisplayName(\"Plugin.CustomerReturns.Fields.CustomerFullName\")]\n        public string CustomerFullName { get; set; }\n\n        [NopResourceDisplayName(\"Plugin.CustomerReturns.Fields.CustomerPhoneNumber\")]\n        public string CustomerPhoneNumber { get; set; }\n\n        [NopResourceDisplayName(\"Plugin.CustomerReturns.Fields.InvoiceNumber\")]\n        public int? InvoiceNumber { get; set; }\n\n        [NopResourceDisplayName(\"Plugin.CustomerReturns.Fields.DateSubmitted\")]\n        public DateTime? DateSubmitted { get; set; }\n\n        public IList&lt;CustomerReturnItemModel&gt; Items { get; set; }\n\n        [Validator(typeof(CustomerReturnItemValidator))]\n        public partial class CustomerReturnItemModel : BaseNopModel\n        {\n            public CustomerReturnItemModel()\n            {\n                ClaimOptionTypeList = new List&lt;SelectListItem&gt;();\n            }\n\n            public int Id { get; set; }\n\n            public int CustomerReturnID { get; set; }\n\n            //claim form warranty\n            [NopResourceDisplayName(\"Plugin.CustomerReturns.Fields.ClaimOptionType\")]\n            public string ClaimOptionType { get; set; }\n\n            [NopResourceDisplayName(\"Plugin.CustomerReturns.Fields.PurchaseDate\")]\n            public string PurchaseDate { get; set; }\n\n            [NopResourceDisplayName(\"Plugin.CustomerReturns.Fields.ProductBrand\")]\n            public string ProductBrand { get; set; }\n\n            [NopResourceDisplayName(\"Plugin.CustomerReturns.Fields.ProductBrandQuantity\")]\n            public int ProductBrandQuantity { get; set; }\n\n            [NopResourceDisplayName(\"Plugin.CustomerReturns.Fields.ProductName\")]\n            public string ProductName { get; set; }\n\n            public IList&lt;SelectListItem&gt; ClaimOptionTypeList { get; set; }\n        }\n    }\n}\n</code></pre>\n\n<p>Here is the action result from my controller:</p>\n\n<pre><code>public ActionResult PartialNoAccountWarrantyProductFormView()\n    {\n        var model = new CustomerReturnsModel.CustomerReturnItemModel();\n\n        //type of claim form options\n        Dictionary&lt;string, string&gt; claimFormVals = new Dictionary&lt;string, string&gt;\n        {\n            { \"I'd like to submit a warranty claim\", \"0\" },\n            { \"An item was damaged in transit\", \"1\"},\n            { \"I'd like to return an item\", \"2\" }\n        };\n\n        foreach (var val in claimFormVals)\n        {\n            model.ClaimOptionTypeList.Add(new SelectListItem\n            {\n                Text = val.Key,\n                Value = val.Value,\n                Selected = (model.ClaimOptionType != null &amp;&amp; model.ClaimOptionType != \"0\") ? val.Value == model.ClaimOptionType : val.Value == \"0\"\n            });\n        }\n\n        return View(\"~/Plugins/Widgets.CustomerReturns/Views/CustomerReturns/PartialNoAccountWarrantyProductForm.cshtml\", model);\n    }\n</code></pre>\n\n<p>For the add another item button I post to this controller method:</p>\n\n<pre><code>[HttpPost]\n    public ActionResult NoAccountWarrantyFormProduct(CustomerReturnsModel.CustomerReturnItemModel model, FormCollection form)\n    {\n        CustomerReturnsModel Model = new CustomerReturnsModel();\n        //IList&lt;CustomerReturnItemModel&gt; myList = new List&lt;CustomerReturnItemModel&gt;();\n\n        if (ModelState.IsValid)\n        {\n            //insert customer return items\n            model.ProductBrand = form[\"ProductBrand\"];\n            model.ProductBrandQuantity = Int32.Parse(form[\"ProductBrandQuantity\"]);\n            model.ProductName = form[\"ProductName\"];\n\n            //myList.Add(model);\n            Model.Items.Add(model);\n\n            //return Json(new\n            //{\n            //    success = true\n            //});\n\n        }\n\n        //If we got this far, something failed, redisplay form\n        return PartialNoAccountWarrantyProductFormView();\n    }\n</code></pre>\n\n<p>when final submit button occurs goes to this method.</p>\n\n<pre><code>[HttpPost]\n    public ActionResult NoAccountWarrantyFormYourDetails(CustomerReturnsModel model, FormCollection form)\n    {\n        CustomerReturns CustomerReturn = new CustomerReturns();//to customer return table\n        CustomerReturnItems CustomerReturnItem = new CustomerReturnItems();//to the items table\n        int CustomerReturnID;\n\n        if (ModelState.IsValid)\n        {\n\n            CustomerReturn.CustomerEmail = model.CustomerEmail;\n            CustomerReturn.CustomerFullName = model.CustomerFullName;\n            CustomerReturn.CustomerPhoneNumber = model.CustomerPhoneNumber;\n            CustomerReturn.InvoiceNumber = model.InvoiceNumber ?? CustomerReturn.InvoiceNumber;\n            CustomerReturn.DateSubmitted = DateTime.Now;\n\n            CustomerReturnID = _customerReturnsService.InsertCustomerReturn(CustomerReturn);\n\n\n            //insert customer return items\n            CustomerReturnItem.CustomerReturnID = CustomerReturnID;\n            CustomerReturnItem.ProductBrand = form[\"ProductBrand\"];\n            CustomerReturnItem.ProductBrandQuantity = Int32.Parse(form[\"ProductBrandQuantity\"]);\n            CustomerReturnItem.ProductName = form[\"ProductName\"];\n\n            _customerReturnItemsService.InsertCustomerReturnItems(CustomerReturnItem);\n\n            var items = model.Items;\n\n            foreach (var CustomerReturnItems in items)\n            {\n                CustomerReturnItem.CustomerReturnID = CustomerReturnID;\n                CustomerReturnItem.ProductBrand = CustomerReturnItems.ProductBrand;\n                CustomerReturnItem.ProductBrandQuantity = CustomerReturnItems.ProductBrandQuantity;\n                CustomerReturnItem.ProductName = CustomerReturnItems.ProductName;\n            }\n\n            return Json(new\n            {\n                success = true,\n                CustomerReturnId = CustomerReturnID\n            });\n        }\n\n        //If we got this far, something failed, redisplay form\n        return View(\"~/Plugins/Widgets.CustomerReturns/Views/CustomerReturns/CustomerReturnsNoAccount.cshtml\");\n    }\n</code></pre>\n\n<p>I'm not sure why this wouldn't work, seems so close.</p>\n\n<p>I hope this makes sense.\nCheers</p>\n"}, {"tags": ["c#", ".net-core", "nuget-package"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1528930138, "post_id": 50847326, "comment_id": 88698131, "body": "What package are you trying to install? You won&#39;t be able to use classic ASP.NET stuff in .NET Core"}, {"owner": {"reputation": 2102, "user_id": 7451356, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cabdaf63a738ff918bf4d02f692fb1e0?s=128&d=identicon&r=PG&f=1", "display_name": "Braden Brown", "link": "https://stackoverflow.com/users/7451356/braden-brown"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1528985265, "post_id": 50847326, "comment_id": 88721511, "body": "@CamiloTerevinto It&#39;s a custom package from work that was written in .Net Framework"}], "answers": [{"comments": [{"owner": {"reputation": 1944, "user_id": 9324000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/634508523bd010e56708dd4b776aa127?s=128&d=identicon&r=PG&f=1", "display_name": "superninja", "link": "https://stackoverflow.com/users/9324000/superninja"}, "edited": false, "score": 1, "creation_date": 1580958006, "post_id": 50862600, "comment_id": 106271620, "body": "Then what should we use as an alternative?"}], "tags": [], "owner": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "is_accepted": false, "score": 5, "last_activity_date": 1528995791, "creation_date": 1528995791, "answer_id": 50862600, "question_id": 50847326, "link": "https://stackoverflow.com/questions/50847326/reference-to-type-claims-it-is-defined-in-system-web-but-it-could-not-be-f/50862600#50862600", "title": "Reference to type &#39;&#39; claims it is defined in &#39;System.Web&#39;, but it could not be found", "body": "<p>It is not possible to use APIs of the <code>System.Web</code> namespace / dlls in .NET Core 2.</p>\n\n<p>While it is possible to use .NET Framework NuGet packages and DLLs, this compatibility layer is only a best-effort approach and may fail if the external code tries to use APIs that are not available in .NET Core, such as types in <code>System.Web</code>.</p>\n"}], "owner": {"reputation": 2102, "user_id": 7451356, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cabdaf63a738ff918bf4d02f692fb1e0?s=128&d=identicon&r=PG&f=1", "display_name": "Braden Brown", "link": "https://stackoverflow.com/users/7451356/braden-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4643, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1528995791, "creation_date": 1528929793, "last_edit_date": 1528929856, "question_id": 50847326, "link": "https://stackoverflow.com/questions/50847326/reference-to-type-claims-it-is-defined-in-system-web-but-it-could-not-be-f", "title": "Reference to type &#39;&#39; claims it is defined in &#39;System.Web&#39;, but it could not be found", "body": "<p>I'm working on a .NET Core 2 application, I have a Nuget package that I need that is only written in Framework 4.6. I've downloaded the Nuget package and initially there are no problems with creating an Instance of the class. </p>\n\n<p>However when I try to use one of the methods I get an error in VS 2017 saying \"Reference to type '' claims it is defined in 'System.Web', but it could not be found\" , \"Module 'System.Web, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' should be referenced\".</p>\n\n<p>I've read several posts saying that it may not be possible to reference System.Web.dll which is needed. </p>\n\n<p>However I've also seen these:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/40108106/using-external-dll-in-dot-net-core?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">Using external .dll in dot net core</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/38183649/net-core-1-0-visual-studio-referencing-external-dll\">.net core 1.0 visual studio referencing external dll</a></p>\n\n<p>I've tried adding it as a reference to the project as well as using <a href=\"https://www.microsoft.com/en-us/p/nuget-package-explorer/9wzdncrdmdm3?activetab=pivot%3Aoverviewtab\" rel=\"nofollow noreferrer\">Nuget Package Explorer</a> to create a Nuget package with System.Web in it.</p>\n\n<p>Can I solve this issue by correctly referencing the System.Web.dll or is this not possible in .NET Core 2?</p>\n"}, {"tags": ["c#", "enums", "bitwise-operators"], "comments": [{"owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1528930406, "post_id": 50847316, "comment_id": 88698199, "body": "Enum with <code>Flags</code> attribute (Available = 1stHalf | 2ndHalf). enum identifiers can not begin with a number though."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1528930428, "post_id": 50847316, "comment_id": 88698205, "body": "There&#39;s already a <code>DayOfWeek</code> enum available. Why not create an enum for the Availablility, though? It would certainly improve readability"}, {"owner": {"reputation": 4286, "user_id": 1440105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QxCty.jpg?s=128&g=1", "display_name": "Dweeberly", "link": "https://stackoverflow.com/users/1440105/dweeberly"}, "edited": false, "score": 0, "creation_date": 1528930443, "post_id": 50847316, "comment_id": 88698208, "body": "4 states * 7 days, = 28 values, so yes that should work.  I.E. It is possible."}, {"owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1528930524, "post_id": 50847316, "comment_id": 88698232, "body": "It&#39;s probably easier to work with one enum value per day. Saves you from typing a bit of code...I&#39;d imagine. No need to overengineer unless you have a reason to do so"}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 1, "creation_date": 1528930708, "post_id": 50847316, "comment_id": 88698282, "body": "I would store the <code>StartTime</code> and <code>EndTime</code> instead. It will be more flexible. You can still show <i>First Half</i> to your employees during selection but when you store it, conver it to what first half means-for example, 09:00 to 13:00. If you decide to have night shifts or overtime etc, all you will need is to change the UI and the rest will work."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1528931211, "post_id": 50847316, "comment_id": 88698397, "body": "I agree with @CodingYoshi. If you&#39;re building a scheduling app, try to build it to be as flexible as possible. Scheduling can be a very tricky and things can change pretty quickly. Tying yourself down to <code>All Day &#47; First Half &#47; Second Half &#47; None</code> does not give you the flexibility you will probably need down the road."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1528931575, "post_id": 50847316, "comment_id": 88698473, "body": "If you use <i>First Half</i> approach, you will have if conditions everywhere in the application. For example, if you want to know total hours, you will have <code>if half then do this else if all day do this and so on</code>"}, {"owner": {"reputation": 2017, "user_id": 2118062, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f9e0c6a01ccf80a550b4d521f1d3a1b9?s=128&d=identicon&r=PG", "display_name": "RouteMapper", "link": "https://stackoverflow.com/users/2118062/routemapper"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1528931607, "post_id": 50847316, "comment_id": 88698479, "body": "@RufusL I am limited by my workplace to those four options. That is, we use an app to gather availability that only returns those four options."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1528934792, "post_id": 50847316, "comment_id": 88699130, "body": "So what specifically is the input? Is it just those four options? Where does the DayOfWeek come into play? How are you integrating with the other app (how are you consuming the input)?"}, {"owner": {"reputation": 2017, "user_id": 2118062, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f9e0c6a01ccf80a550b4d521f1d3a1b9?s=128&d=identicon&r=PG", "display_name": "RouteMapper", "link": "https://stackoverflow.com/users/2118062/routemapper"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1528935537, "post_id": 50847316, "comment_id": 88699249, "body": "@RufusL The other app is a Google Sheet that employees fill out. For every day of the week, they select from a drop-down menu one of the four options I&#39;ve mentioned. I manage the sheet, so theoretically I could add whatever options I want, but my workplace prohibits me from adding more options because there are people who will begin specifying odd availability constraints and we want to avoid that. I convert the sheet to a CSV file and parse it using a library called FileHelpers into object representations of those CSV files."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1528937041, "post_id": 50847316, "comment_id": 88699530, "body": "Got it, thanks! Sounds like a fun project."}, {"owner": {"reputation": 2017, "user_id": 2118062, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f9e0c6a01ccf80a550b4d521f1d3a1b9?s=128&d=identicon&r=PG", "display_name": "RouteMapper", "link": "https://stackoverflow.com/users/2118062/routemapper"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1528937158, "post_id": 50847316, "comment_id": 88699549, "body": "@RufusL It&#39;s fun for sure. I hope it will save my shop hundreds of man-hours per year. Our current system involves manually parsing email replies from 60 employees for 7 days of availability per employee, then manually inputting their avail into an Access DB that gets corrupted every few weeks due to network latency."}, {"owner": {"reputation": 2017, "user_id": 2118062, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f9e0c6a01ccf80a550b4d521f1d3a1b9?s=128&d=identicon&r=PG", "display_name": "RouteMapper", "link": "https://stackoverflow.com/users/2118062/routemapper"}, "reply_to_user": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1528937451, "post_id": 50847316, "comment_id": 88699610, "body": "@DennisKuypers There is only one enum value per day, but there are four options to choose from. Does that make sense?"}, {"owner": {"reputation": 2017, "user_id": 2118062, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f9e0c6a01ccf80a550b4d521f1d3a1b9?s=128&d=identicon&r=PG", "display_name": "RouteMapper", "link": "https://stackoverflow.com/users/2118062/routemapper"}, "reply_to_user": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1528937532, "post_id": 50847316, "comment_id": 88699624, "body": "@CodingYoshi I agree. The problem of scheduling in my workplace, though, is always based on those four values. We don&#39;t operate on hourly availability when we schedule people. We only consider one of those four values. The shift times often change, but the employees know those times and label their availability using one of the four values for each day."}, {"owner": {"reputation": 2017, "user_id": 2118062, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f9e0c6a01ccf80a550b4d521f1d3a1b9?s=128&d=identicon&r=PG", "display_name": "RouteMapper", "link": "https://stackoverflow.com/users/2118062/routemapper"}, "reply_to_user": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1528937595, "post_id": 50847316, "comment_id": 88699639, "body": "@CodingYoshi I am ultimately using the availability values for each employee to set constraints for a Constraint Programming solver. I will use the avail values to determine which employees are avail for the first shift and second shift."}], "answers": [{"comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1528932540, "post_id": 50847562, "comment_id": 88698679, "body": "No need to shift twice, just shift before masking.  e.g. <code>return (schedule &gt;&gt; 4) &amp; 3;</code>"}, {"owner": {"reputation": 2017, "user_id": 2118062, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f9e0c6a01ccf80a550b4d521f1d3a1b9?s=128&d=identicon&r=PG", "display_name": "RouteMapper", "link": "https://stackoverflow.com/users/2118062/routemapper"}, "edited": false, "score": 0, "creation_date": 1528937707, "post_id": 50847562, "comment_id": 88699657, "body": "If I add a 5th option for an avail type, then I&#39;d require 3 bits. That means I couldn&#39;t store the schedule as an int since there would 7*6 bits required. Sure, I could use a long....but what if I needed, say, 200 bits for future options? How would you handle that?"}, {"owner": {"reputation": 46, "user_id": 7417531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f26e69337233e91ec3bf6a2e5de73f8f?s=128&d=identicon&r=PG&f=1", "display_name": "esock", "link": "https://stackoverflow.com/users/7417531/esock"}, "edited": false, "score": 0, "creation_date": 1528999589, "post_id": 50847562, "comment_id": 88729373, "body": "3 bits would only require 7*3 bits. If you really needed more room in the future don&#39;t try to fit the whole schedule into one variable. Just assign each enum to its own individual field in the constructor, so each property just returns the enum value assigned to it. You wouldn&#39;t need to do any bitmasking operations this way. You won&#39;t ever need more than 7 int fields since an enum can only hold 32 bits worth of values and there&#39;s only seven days in the week."}], "tags": [], "owner": {"reputation": 46, "user_id": 7417531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f26e69337233e91ec3bf6a2e5de73f8f?s=128&d=identicon&r=PG&f=1", "display_name": "esock", "link": "https://stackoverflow.com/users/7417531/esock"}, "is_accepted": true, "score": 1, "last_activity_date": 1528998868, "last_edit_date": 1528998868, "creation_date": 1528931570, "answer_id": 50847562, "question_id": 50847316, "link": "https://stackoverflow.com/questions/50847316/expressing-employee-availability-as-a-bitwise-operation/50847562#50847562", "title": "Expressing employee availability as a bitwise operation", "body": "<p>Yeah it should be possible you can do something like this</p>\n\n<pre><code>public class Schedule\n{\n    private int schedule;\n\n    public Schedule(Availability sunday, Availability monday, Availability tuesday, Availability wednesday, Availability thursday, Availability friday, Availability saturday)\n    {\n        this.schedule = sunday | monday &lt;&lt; 2 | tuesday &lt;&lt; 4 | wednesday &lt;&lt; 6 | thursday &lt;&lt; 8 | friday &lt;&lt; 10 | saturday &lt;&lt; 12;\n    }\n\n    public Availability Sunday\n    {\n        get\n        {\n            return (this.schedule &amp; 3);\n        }\n    }\n\n    public Availability Monday\n    {\n        get\n        {\n            return (this.schedule &gt;&gt; 2) &amp; 3;\n        }\n    }\n\n    public Availability Tuesday\n    {\n        get\n        {\n            return (this.schedule &gt;&gt; 4) &amp; 3;\n        }\n    }\n\n    public Availability Wednesday\n    {\n        get\n        {\n            return (this.schedule &gt;&gt; 6) &amp; 3;\n        }\n    }\n\n}\n\npublic enum Availability\n{\n    Available = 0,\n\n    NotAvailable = 1,\n\n    FirstHalf = 2,\n\n    SecondHalf = 3\n}\n</code></pre>\n\n<p>I stopped at Wednesday but hopefully you can see the pattern used. You can use two bits to represent each day. The number 3 is \"11\" in binary. This is bitshifted into the correct location for the desired day, then we use bitwise and to get the set bits for that day. After we shift the bits we grabbed to the right.</p>\n"}], "owner": {"reputation": 2017, "user_id": 2118062, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f9e0c6a01ccf80a550b4d521f1d3a1b9?s=128&d=identicon&r=PG", "display_name": "RouteMapper", "link": "https://stackoverflow.com/users/2118062/routemapper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 50847562, "answer_count": 1, "score": 0, "last_activity_date": 1528998868, "creation_date": 1528929732, "question_id": 50847316, "link": "https://stackoverflow.com/questions/50847316/expressing-employee-availability-as-a-bitwise-operation", "title": "Expressing employee availability as a bitwise operation", "body": "<p>I am building a scheduling app for my employees and I want to store availability for my employees for every day of the week, Sunday through Saturday. Every employee has an option for selecting { Available, Not Available, 1stHalf, 2ndHalf } for their availability each day. I think an enum could work to store all 7 days, and a bitwise operation could work for determining which type of availability the employee has for that day. Is this possible? </p>\n"}, {"tags": ["c#", "wpf", "cefsharp"], "comments": [{"owner": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1528932942, "post_id": 50847191, "comment_id": 88698772, "body": "Put your logic in the OnBeforePopup method, get that working, then move to getting an event working if required. See <a href=\"https://github.com/cefsharp/CefSharp/blob/master/CefSharp.Example/RequestEventHandler/RequestEventHandler.cs\" rel=\"nofollow noreferrer\">github.com/cefsharp/CefSharp/blob/master/CefSharp.Example/&hellip;</a> for example of a Request Handler that publishes events"}, {"owner": {"reputation": 87, "user_id": 9211153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6eeccbadb6340b848911d90a36b34ec?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/9211153/nathan"}, "reply_to_user": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1528995818, "post_id": 50847191, "comment_id": 88727572, "body": "So between <code>if (PopupRequest != null) PopupRequest(targetUrl);</code> and <code>return true</code>? What does <code>PopupRequest(targetUrl)</code> do if the OnBeforePopup method is called by the event?"}, {"owner": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1529020087, "post_id": 50847191, "comment_id": 88736932, "body": "I don&#39;t understand your question. Look at the OnBeforeBrowse method in the link I&#39;ve provided for an example of returning a result from an event."}], "owner": {"reputation": 87, "user_id": 9211153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6eeccbadb6340b848911d90a36b34ec?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/9211153/nathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 835, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528929014, "creation_date": 1528929014, "question_id": 50847191, "link": "https://stackoverflow.com/questions/50847191/open-links-containing-pattern-in-different-tab-in-cefsharp-wpf", "title": "Open Links containing pattern in different tab in CefSharp WPF", "body": "<p>I have an application with two tabs in a tab control, each containing a CefSharp ChromiumWebBrowser. Let's call these ChromiumWebBrowsers <code>searchBrowser</code> and <code>detailsBrowser</code>. </p>\n\n<p>Let's say I click a link in <code>searchBrowser</code>, and if that link contains the text \"xrep2\", I want the link to be opened in <code>detailsBrowser</code>, else it should be opened in <code>searchBrowser</code>.</p>\n\n<p>In a previous version of this application, I used the WinForms web browser control. I'm rewriting the app in WPF and using CefSharp. with the WinForms it was quite simple. In the <code>Navigating</code> event, you do something like</p>\n\n<pre><code>private void browser_Navigating(object sender, WebBrowserNavigatingEventArgs e)\n{\n    if (browser.StatusText.Contains(\"xrep2.\"))\n    {\n        e.Cancel = true;\n        detailsBrowser.Url = new Uri(browser.StatusText);\n        tabControl1.SelectedIndex = 1;\n    }\n}\n</code></pre>\n\n<p>But when using CefSharp, it appears I have to create an event inside a LifeSpanHandler per <a href=\"https://stackoverflow.com/questions/30553577/how-to-handle-popup-links-in-cefsharp\">this post</a> with an event that fires when a <code>target=\"_blank\"</code> link is clicked. I'm not super comfortable creating and subscribing to custom events, so I'd like to find an easier way to do this, but if not, I need to figure out how to subscribe a method to the event created by <code>public event Action&lt;string&gt; PopupRequest;</code> and where to put the logic (something like <code>if(searchBrowser.Address.Contains(\"xrep2\")) detailsBrowser.Address = X else searchBrowser.Address = X</code></p>\n\n<p>I have the LifeSpanHandler class code below, including the PopupRequest event that is supposed to fire when a <code>target=\"_blank\"</code> link is clicked, but I'm stuck at this point.</p>\n\n<pre><code>public class LifeSpanHandler : ILifeSpanHandler\n{\n    public event Action&lt;string&gt; PopupRequest;\n\n    public virtual bool OnBeforePopup(IWebBrowser browserControl, string sourceUrl, string targetUrl, ref int x, ref int y, ref int width,\n        ref int height)\n    {\n        if (PopupRequest != null)\n            PopupRequest(targetUrl);\n\n        return true;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1528928802, "post_id": 50847119, "comment_id": 88697746, "body": "How is your Button2_Click event getting a the button1 object? It looks like you&#39;re creating them in your CreateButtons method, so I&#39;m not sure where the reference is coming from."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 1, "creation_date": 1528928941, "post_id": 50847119, "comment_id": 88697780, "body": "I think you have a separate button in your form named <code>button1</code> which is not the button you&#39;re creating."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1528928959, "post_id": 50847119, "comment_id": 88697786, "body": "You have button1 defined inside CreateButtons so you must have two instances of Button1."}], "answers": [{"comments": [{"owner": {"reputation": 236, "user_id": 7631293, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b62581f0cfce4b924a3ccd1643daa9a6?s=128&d=identicon&r=PG&f=1", "display_name": "Alessio Raddi", "link": "https://stackoverflow.com/users/7631293/alessio-raddi"}, "edited": false, "score": 0, "creation_date": 1528929446, "post_id": 50847206, "comment_id": 88697917, "body": "That was actually my problem! In my designer there was the code of a previous button1. Thanks for the help"}], "tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": true, "score": 2, "last_activity_date": 1528929304, "last_edit_date": 1528929304, "creation_date": 1528929131, "answer_id": 50847206, "question_id": 50847119, "link": "https://stackoverflow.com/questions/50847119/remove-handler-to-button/50847206#50847206", "title": "Remove Handler to Button", "body": "<p>It appears that your form has a different button you've created at an earlier time named <code>button1</code>.</p>\n\n<p>Remove that, and make your <code>button1</code> and <code>button2</code> fields of the form.</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    private Button button1;\n    private Button button2;\n\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    private void CreateButtons()\n    {\n        button1 = new Button()\n        {\n            Font = new Font(Font.FontFamily, 10, FontStyle.Bold),\n            BackColor = Color.Yellow,\n            Width = 79,\n            Height = 62,\n            Location = new Point(141, 191),\n            Text = \"Start\"\n        };\n\n        button2 = new Button()\n        {\n            Font = new Font(Font.FontFamily, 10, FontStyle.Bold),\n            BackColor = Color.Yellow,\n            Width = 79,\n            Height = 62,\n            Location = new Point(338, 191),\n            Text = \"Stop\"\n        };\n        this.Controls.Add(button1);\n        button1.Click += Button1_Click;\n        this.Controls.Add(button2);\n        button2.Click += Button2_Click;\n    }\n\n    private void Button1_Click(object sender, EventArgs e)\n    {\n        MessageBox.Show(\"Hello World\");\n    }\n\n    private void Button2_Click(object sender, EventArgs e)\n    {\n        button1.Click -= Button1_Click;\n    }\n\n    private void Form1_Load(object sender, EventArgs e)\n    {\n        CreateButtons();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 236, "user_id": 7631293, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b62581f0cfce4b924a3ccd1643daa9a6?s=128&d=identicon&r=PG&f=1", "display_name": "Alessio Raddi", "link": "https://stackoverflow.com/users/7631293/alessio-raddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 50847206, "answer_count": 1, "score": 0, "last_activity_date": 1528931005, "creation_date": 1528928576, "last_edit_date": 1528931005, "question_id": 50847119, "link": "https://stackoverflow.com/questions/50847119/remove-handler-to-button", "title": "Remove Handler to Button", "body": "<p>I'm trying to remove a handler (Click) from a button, I tried many ways but they didn't work.</p>\n\n<p>I create two buttons like this:</p>\n\n<pre><code>private void CreateButtons()\n{\n    Button button1 = new Button()\n    {\n        Text = \"Start\"\n    };\n    Button button2 = new Button()\n    {\n        Text = \"Stop\"\n    };\n    this.Controls.Add(button1);\n    button1.Click += Button1_Click;\n    this.Controls.Add(button2);\n    button2.Click += Button2_Click;\n}\n</code></pre>\n\n<p>The first one just creates a MessageBox:</p>\n\n<pre><code>private void Button1_Click(object sender, EventArgs e)\n{\n    MessageBox.Show(\"Hello World\");\n}\n</code></pre>\n\n<p>The second one should remove the handler:</p>\n\n<pre><code>private void Button2_Click(object sender, EventArgs e)\n{\n    button1.Click -= Button1_Click;\n}\n</code></pre>\n\n<p>Unfortunately after clicking button2, button1 keeps generating a MessageBox. What am I doing wrong?</p>\n"}, {"tags": ["c#", "push-notification", "uwp", "background-process", "background-task"], "answers": [{"tags": [], "owner": {"reputation": 5241, "user_id": 2515628, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/AQ2kB.jpg?s=128&g=1", "display_name": "Igor \u0160evo", "link": "https://stackoverflow.com/users/2515628/igor-%c5%a0evo"}, "is_accepted": true, "score": 0, "last_activity_date": 1528986695, "creation_date": 1528986695, "answer_id": 50859927, "question_id": 50847024, "link": "https://stackoverflow.com/questions/50847024/uwp-network-communication-in-the-background/50859927#50859927", "title": "UWP network communication in the background", "body": "<p>Unsurprisingly, I found the answer to my own question again.</p>\n\n<p>The registered background task cannot be an in-process task and must be registered as an out-of-process task.</p>\n\n<p>As for the <code>Windows.Networking.Sockets.WebSocketKeepAlive</code> entry point, I made a workaround by creating a background task that contained the <code>Windows.Networking.Sockets.WebSocketKeepAlive</code> and called its <code>Run(\u2026)</code> method.</p>\n"}], "owner": {"reputation": 5241, "user_id": 2515628, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/AQ2kB.jpg?s=128&g=1", "display_name": "Igor \u0160evo", "link": "https://stackoverflow.com/users/2515628/igor-%c5%a0evo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 50859927, "answer_count": 1, "score": 1, "last_activity_date": 1528989326, "creation_date": 1528927961, "last_edit_date": 1528989326, "question_id": 50847024, "link": "https://stackoverflow.com/questions/50847024/uwp-network-communication-in-the-background", "title": "UWP network communication in the background", "body": "<p>I'm trying to go through the official tutorial for background task network in UWP  titled <a href=\"https://docs.microsoft.com/en-us/windows/uwp/networking/network-communications-in-the-background#feedback\" rel=\"nofollow noreferrer\">Network communications in the background</a>. However, since the tutorial is poorly ported from C++ code, the code, after being modified to be able to compile, fails at instantiating the <code>ControlChannelTrigger</code> object with an <code>AccessDenied</code> exception.</p>\n\n<p>The exception is thrown at the following line.</p>\n\n<pre><code>channel = new ControlChannelTrigger(channelId, serverKeepAliveInterval,\n                                    ControlChannelTriggerResourceType.RequestHardwareSlot);\n</code></pre>\n\n<p>I read the comment about the lock screen and tried to add the app to the lock screen (even though this should no longer be a limitation), but the error persists.</p>\n\n<p>I'm trying to maintain a persistent <code>WebSocket</code> connection with my own server to allow push notifications (I am aware of WNS, but it is not the right choice for my use-case).</p>\n\n<p>My problem is similar to one in the related question <a href=\"https://stackoverflow.com/questions/32421747/controlchanneltrigger-in-uwp-windows-10-access-denied?rq=1\">ControlChannelTrigger in UWP Windows 10 access denied</a>.</p>\n\n<p>For simplicity, I am implementing everything as an in-process background task.</p>\n\n<p>Can anyone suggest a solution or a workaround? Could the tutorial be outdated?</p>\n"}, {"tags": ["c#", "box2d", "farseer"], "answers": [{"comments": [{"owner": {"reputation": 1036, "user_id": 850427, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/0c7ca5a3eb38898c8f84ae31ddd9e2bd?s=128&d=identicon&r=PG", "display_name": "Andrew Lundgren", "link": "https://stackoverflow.com/users/850427/andrew-lundgren"}, "edited": false, "score": 0, "creation_date": 1529375589, "post_id": 50890735, "comment_id": 88839414, "body": "This is exactly the kind of answer I was looking for. Thank you. It&#39;s pretty impressive that you were able to make a true-scale solar system. Did it involve smaller objects as well, or just larger planets and such? I&#39;m curious if it would work properly with that same true-scale solar system, but with little ships, people-sized objects, etc."}, {"owner": {"reputation": 2361, "user_id": 7410358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b241c8238988d25da76f83adf9071201?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Langholtz", "link": "https://stackoverflow.com/users/7410358/louis-langholtz"}, "reply_to_user": {"reputation": 1036, "user_id": 850427, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/0c7ca5a3eb38898c8f84ae31ddd9e2bd?s=128&d=identicon&r=PG", "display_name": "Andrew Lundgren", "link": "https://stackoverflow.com/users/850427/andrew-lundgren"}, "edited": false, "score": 0, "creation_date": 1529411332, "post_id": 50890735, "comment_id": 88855710, "body": "@AndrewLundgren It&#39;s only the recognized planets and the sun. The code is the <a href=\"https://github.com/louis-langholtz/PlayRho/blob/master/Testbed/Tests/SolarSystem.hpp\" rel=\"nofollow noreferrer\">Solar System testbed demo</a> in my <a href=\"https://github.com/louis-langholtz/PlayRho\" rel=\"nofollow noreferrer\">PlayRho</a> physics library. I don&#39;t believe the current implementation of the physics of collisions would work very well between planet and people sized objects. There&#39;s too much difference between them in sizes and some of the settings are tuned in absolute size terms."}], "tags": [], "owner": {"reputation": 2361, "user_id": 7410358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b241c8238988d25da76f83adf9071201?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Langholtz", "link": "https://stackoverflow.com/users/7410358/louis-langholtz"}, "is_accepted": true, "score": 1, "last_activity_date": 1529174561, "creation_date": 1529174561, "answer_id": 50890735, "question_id": 50847019, "link": "https://stackoverflow.com/questions/50847019/farseer-box2d-increasing-max-world-size-by-using-doubles-or-decimals-rather/50890735#50890735", "title": "Farseer (Box2D) - Increasing max world size by using doubles or decimals rather than floats?", "body": "<blockquote>\n  <p>In my understanding, there is no strict limit on world size in the Farseer/Box2D engine. The only limitation, in my understanding, is that with increased world size the precision will decrease to a point where glitches are visible.</p>\n</blockquote>\n\n<p>Yep. For a point of reference on this, see <a href=\"https://github.com/erincatto/Box2D/wiki/FAQ#what-units-does-box2d-use\" rel=\"nofollow noreferrer\">What units does Box2D use?</a>. Or <a href=\"http://box2d.org/forum/viewtopic.php?t=1640\" rel=\"nofollow noreferrer\">Maximum World Size and Units</a>.</p>\n\n<blockquote>\n  <p>By replacing all floats with a higher-precision type like double or decimal <em>will that</em> make the effective maximum world size increase?</p>\n</blockquote>\n\n<p>I've added the italicized text for clarity.</p>\n\n<p>Short answer from my experience: Sort of, yes.</p>\n\n<p>A related online discussion can be found in <a href=\"http://www.box2d.org/forum/viewtopic.php?f=3&amp;t=10107\" rel=\"nofollow noreferrer\">Switching JBox2D (Box2D) from Float to Double precision</a>.</p>\n\n<p>Note that while the <a href=\"http://en.cppreference.com/w/cpp/types/numeric_limits/max\" rel=\"nofollow noreferrer\">max</a> and <a href=\"http://en.cppreference.com/w/cpp/types/numeric_limits/lowest\" rel=\"nofollow noreferrer\">least</a> values for double are larger in magnitude than the max and least for float, there will still be limitations like from the settings that are optimized in part for <a href=\"https://en.wikipedia.org/wiki/Single-precision_floating-point_format\" rel=\"nofollow noreferrer\">single precision floating point format</a> of the <code>float</code> type however.</p>\n\n<blockquote>\n  <p>Is there any meaningful downside to swapping these out or is it a pretty straight-forward 1-to-1?</p>\n</blockquote>\n\n<p>Here are some downsides that I can foresee:</p>\n\n<ol>\n<li>Some calculations will be slower because of the increased memory access of using <code>double</code> over <code>float</code>.</li>\n<li>Some calculations will be slower because of the increased precision requirements of <code>double</code> compared to <code>float</code>.</li>\n<li>An application's memory footprint &amp; requirements will be twice as large for all the doubles used as it is for floats.</li>\n<li>The settings have in part been optimized for <code>float</code> so you may have more need to tweak them for using <code>double</code>.</li>\n</ol>\n\n<p>Whether these are meaningful however, will be dependent on the individual situation and users. I made a Solar system demo that uses doubles so that everything it represents could be represented to scale including collisions. Admittedly I used a Box2D derivative physics engine for this but in principal I think things should be able to work in Box2D as well.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 1036, "user_id": 850427, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/0c7ca5a3eb38898c8f84ae31ddd9e2bd?s=128&d=identicon&r=PG", "display_name": "Andrew Lundgren", "link": "https://stackoverflow.com/users/850427/andrew-lundgren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 50890735, "answer_count": 1, "score": 0, "last_activity_date": 1529174561, "creation_date": 1528927931, "question_id": 50847019, "link": "https://stackoverflow.com/questions/50847019/farseer-box2d-increasing-max-world-size-by-using-doubles-or-decimals-rather", "title": "Farseer (Box2D) - Increasing max world size by using doubles or decimals rather than floats?", "body": "<p>I'm using Farseer Physics, which is a fork of Box2D rewritten in C#. </p>\n\n<p>In my understanding, there is no strict limit on world size in the Farseer/Box2D engine. The only limitation, in my understanding, is that with increased world size the precision will decrease to a point where glitches are visible. Currently, Farseer uses <code>float</code> types for all values (e.g. vectors). By replacing all floats with a higher-precision type like <code>double</code> or <code>decimal</code> make the effective maximum world size increase? Is there any meaningful downside to swapping these out or is it a pretty straight-forward 1-to-1?</p>\n"}, {"tags": ["c#", "json", "sharepoint"], "comments": [{"owner": {"reputation": 11446, "user_id": 1435722, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a6f9ffc8ece263d0e13b1bae341bd6dd?s=128&d=identicon&r=PG", "display_name": "Guruparan Giritharan", "link": "https://stackoverflow.com/users/1435722/guruparan-giritharan"}, "edited": false, "score": 0, "creation_date": 1528948057, "post_id": 50847018, "comment_id": 88701542, "body": "May i know where you are getting this value &quot;ConsoleApplication1.SharePointRESTResults&quot; ? this is basically the tostring value, did you try something like resultX .[SomeProperty] ?"}, {"owner": {"reputation": 789, "user_id": 4659089, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9bdb9f0ba256952e98888bfd549c715b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/4659089/john"}, "reply_to_user": {"reputation": 11446, "user_id": 1435722, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a6f9ffc8ece263d0e13b1bae341bd6dd?s=128&d=identicon&r=PG", "display_name": "Guruparan Giritharan", "link": "https://stackoverflow.com/users/1435722/guruparan-giritharan"}, "edited": false, "score": 0, "creation_date": 1528985841, "post_id": 50847018, "comment_id": 88721890, "body": "ConsoleApplication1.SharePointRESTResult is the class that was created when I did a paste special -&gt; Create Class from JSON."}, {"owner": {"reputation": 11446, "user_id": 1435722, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a6f9ffc8ece263d0e13b1bae341bd6dd?s=128&d=identicon&r=PG", "display_name": "Guruparan Giritharan", "link": "https://stackoverflow.com/users/1435722/guruparan-giritharan"}, "edited": false, "score": 0, "creation_date": 1528993017, "post_id": 50847018, "comment_id": 88726256, "body": "use this and create your class and then try to deserialize <a href=\"http://json2csharp.com/\" rel=\"nofollow noreferrer\">json2csharp.com</a>"}], "answers": [{"comments": [{"owner": {"reputation": 789, "user_id": 4659089, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9bdb9f0ba256952e98888bfd549c715b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/4659089/john"}, "edited": false, "score": 0, "creation_date": 1529084565, "post_id": 50852295, "comment_id": 88763001, "body": "I guess I figured that out the hard way.  I was hoping to use the Copy JSON as class option to create a class for the JSON deserialization, but I ended up just deserializing to a JObject and using Linq to pull out my data.  Thanks for the help"}], "tags": [], "owner": {"reputation": 152, "user_id": 9699078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bvzv3.jpg?s=128&g=1", "display_name": "Sreeraj Sree", "link": "https://stackoverflow.com/users/9699078/sreeraj-sree"}, "is_accepted": true, "score": 0, "last_activity_date": 1528962690, "creation_date": 1528962690, "answer_id": 50852295, "question_id": 50847018, "link": "https://stackoverflow.com/questions/50847018/deserializing-server-returned-string-to-json/50852295#50852295", "title": "Deserializing Server returned String to JSON", "body": "<p>The main points are -</p>\n\n<ul>\n<li>The Account Declaration.</li>\n<li>JsonProperty attribute.</li>\n</ul>\n\n<p>NOTE : If you have an object Which keys can change, Then you need to use a </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Dictionary&lt;string, T&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>. A regular class won't work for that; neither will a </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>List&lt;T&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>.</p>\n"}], "owner": {"reputation": 789, "user_id": 4659089, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9bdb9f0ba256952e98888bfd549c715b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/4659089/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 50852295, "answer_count": 1, "score": 1, "last_activity_date": 1528962690, "creation_date": 1528927927, "last_edit_date": 1528954667, "question_id": 50847018, "link": "https://stackoverflow.com/questions/50847018/deserializing-server-returned-string-to-json", "title": "Deserializing Server returned String to JSON", "body": "<p>I am using the SharePoint REST API to do a search.  I am pulling back the JSON results and reading them as follows:</p>\n\n<pre><code>HttpWebRequest endpointRequest = (HttpWebRequest)HttpWebRequest.Create(querystring);\n\nendpointRequest.Method = \"GET\";\nendpointRequest.Accept = \"application/json; odata=verbose\";\nendpointRequest.UseDefaultCredentials = true;\nHttpWebResponse endpointResponse =(HttpWebResponse)endpointRequest.GetResponse();\n\nStream webStream = endpointResponse.GetResponseStream();\nStreamReader responseReader = new StreamReader(webStream);\nvar results = responseReader.ReadToEnd();\n</code></pre>\n\n<p>This works fine, I can see the results in JSON format.  So I created a class from the JSON in VS 2017 and here is the classes created from the JSON (this was done automatically with File=>Paste Special=>Paste JSON As Classes:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace ConsoleApplication1\n{\n    class SharePointRESTResults\n    {\n        public class Rootobject\n        {\n            public D d { get; set; }\n        }\n\n        public class D\n        {\n            public Query query { get; set; }\n        }\n\n        public class Query\n        {\n            public __Metadata __metadata { get; set; }\n            public int ElapsedTime { get; set; }\n            public Primaryqueryresult PrimaryQueryResult { get; set; }\n            public Properties1 Properties { get; set; }\n            public Secondaryqueryresults SecondaryQueryResults { get; set; }\n            public string SpellingSuggestion { get; set; }\n            public Triggeredrules TriggeredRules { get; set; }\n        }\n\n        public class __Metadata\n        {\n            public string type { get; set; }\n        }\n\n        public class Primaryqueryresult\n        {\n            public __Metadata1 __metadata { get; set; }\n            public Customresults CustomResults { get; set; }\n            public string QueryId { get; set; }\n            public string QueryRuleId { get; set; }\n            public object RefinementResults { get; set; }\n            public Relevantresults RelevantResults { get; set; }\n            public object SpecialTermResults { get; set; }\n        }\n\n        public class __Metadata1\n        {\n            public string type { get; set; }\n        }\n\n        public class Customresults\n        {\n            public __Metadata2 __metadata { get; set; }\n            public object[] results { get; set; }\n        }\n\n        public class __Metadata2\n        {\n            public string type { get; set; }\n        }\n\n        public class Relevantresults\n        {\n            public __Metadata3 __metadata { get; set; }\n            public object GroupTemplateId { get; set; }\n            public object ItemTemplateId { get; set; }\n            public Properties Properties { get; set; }\n            public object ResultTitle { get; set; }\n            public object ResultTitleUrl { get; set; }\n            public int RowCount { get; set; }\n            public Table Table { get; set; }\n            public int TotalRows { get; set; }\n            public int TotalRowsIncludingDuplicates { get; set; }\n        }\n\n        public class __Metadata3\n        {\n            public string type { get; set; }\n        }\n\n        public class Properties\n        {\n            public Result[] results { get; set; }\n        }\n\n        public class Result\n        {\n            public __Metadata4 __metadata { get; set; }\n            public string Key { get; set; }\n            public string Value { get; set; }\n            public string ValueType { get; set; }\n        }\n\n        public class __Metadata4\n        {\n            public string type { get; set; }\n        }\n\n        public class Table\n        {\n            public __Metadata5 __metadata { get; set; }\n            public Rows Rows { get; set; }\n        }\n\n        public class __Metadata5\n        {\n            public string type { get; set; }\n        }\n\n        public class Rows\n        {\n            public Result1[] results { get; set; }\n        }\n\n        public class Result1\n        {\n            public __Metadata6 __metadata { get; set; }\n            public Cells Cells { get; set; }\n        }\n\n        public class __Metadata6\n        {\n            public string type { get; set; }\n        }\n\n        public class Cells\n        {\n            public Result2[] results { get; set; }\n        }\n\n        public class Result2\n        {\n            public __Metadata7 __metadata { get; set; }\n            public string Key { get; set; }\n            public object Value { get; set; }\n            public string ValueType { get; set; }\n        }\n\n        public class __Metadata7\n        {\n            public string type { get; set; }\n        }\n\n        public class Properties1\n        {\n            public Result3[] results { get; set; }\n        }\n\n        public class Result3\n        {\n            public __Metadata8 __metadata { get; set; }\n            public string Key { get; set; }\n            public string Value { get; set; }\n            public string ValueType { get; set; }\n        }\n\n        public class __Metadata8\n        {\n            public string type { get; set; }\n        }\n\n        public class Secondaryqueryresults\n        {\n            public __Metadata9 __metadata { get; set; }\n            public object[] results { get; set; }\n        }\n\n        public class __Metadata9\n        {\n            public string type { get; set; }\n        }\n\n        public class Triggeredrules\n        {\n            public __Metadata10 __metadata { get; set; }\n            public object[] results { get; set; }\n        }\n\n        public class __Metadata10\n        {\n            public string type { get; set; }\n        }\n\n    }\n}\n</code></pre>\n\n<p>So I now am trying to deserialize the results as follows:</p>\n\n<pre><code> SharePointRESTResults resultX = JsonConvert.DeserializeObject&lt;SharePointRESTResults&gt;(results());\n</code></pre>\n\n<p>The results I need should be in the Result2 Class.  The problem I have is that this line is setting resultX = to \"ConsoleApplication1.SharePointRESTResults\" and nothing more.  I looked in the JSON Serializing and Deserializing here: <a href=\"https://www.newtonsoft.com/json/help/html/SerializingJSON.htm\" rel=\"nofollow noreferrer\">JSON Documentation</a> but still cannot get the results into the class so I can pull out the data.  I appreciate any help.</p>\n"}, {"tags": ["c#", "android", "ios", "xaml", "xamarin"], "comments": [{"owner": {"reputation": 45, "user_id": 9892498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Odl6s.jpg?s=128&g=1", "display_name": "Aslam Ranjha", "link": "https://stackoverflow.com/users/9892498/aslam-ranjha"}, "reply_to_user": {"reputation": 2423, "user_id": 3674176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4dTB7.jpg?s=128&g=1", "display_name": "Hichame Yessou", "link": "https://stackoverflow.com/users/3674176/hichame-yessou"}, "edited": false, "score": 0, "creation_date": 1529434775, "post_id": 50846939, "comment_id": 88869137, "body": "No,  hichame.yessou, Acepted your answer. Thanks again :)"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 9892498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Odl6s.jpg?s=128&g=1", "display_name": "Aslam Ranjha", "link": "https://stackoverflow.com/users/9892498/aslam-ranjha"}, "edited": false, "score": 1, "creation_date": 1528932281, "post_id": 50847235, "comment_id": 88698634, "body": "Thanks hichame.yessou, Does anyone knows the solution of the same probem for iOS also."}], "tags": [], "owner": {"reputation": 2423, "user_id": 3674176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4dTB7.jpg?s=128&g=1", "display_name": "Hichame Yessou", "link": "https://stackoverflow.com/users/3674176/hichame-yessou"}, "is_accepted": true, "score": 7, "last_activity_date": 1582548072, "last_edit_date": 1582548072, "creation_date": 1528929303, "answer_id": 50847235, "question_id": 50846939, "link": "https://stackoverflow.com/questions/50846939/how-to-change-the-color-of-placeholder-of-the-picker-in-xamarin/50847235#50847235", "title": "How to change the color of placeholder of the Picker in XAMARIN?", "body": "<p><strong>For xamarin 3.6 and above:</strong></p>\n\n<p>Use the property <code>TitleColor</code>.</p>\n\n<p><strong>For Xamarin 3.6 and below:</strong></p>\n\n<p>You need a custom renderer for that:</p>\n\n<pre><code>[assembly: ExportRenderer(typeof(Picker), typeof(CustomPicker))]\nnamespace Droid\n{\n    public class CustomPicker : PickerRenderer\n    {\n\n        protected override void OnElementChanged(ElementChangedEventArgs&lt;Picker&gt; e)\n        {\n            base.OnElementChanged (e);\n\n            if (Control != null) \n                Control.SetHintTextColor (Android.Graphics.Color.Rgb(1,2,3));\n\n        }\n\n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 9892498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Odl6s.jpg?s=128&g=1", "display_name": "Aslam Ranjha", "link": "https://stackoverflow.com/users/9892498/aslam-ranjha"}, "edited": false, "score": 0, "creation_date": 1529003660, "post_id": 50849222, "comment_id": 88731258, "body": "Thank you very much Garett. You folks are doing such a great service by helping people FREELY. stackoverflow.com is surely a superb place to learn."}], "tags": [], "owner": {"reputation": 15906, "user_id": 3527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28806bbbfbdf99c70142c7c1cff13cd5?s=128&d=identicon&r=PG", "display_name": "Garett", "link": "https://stackoverflow.com/users/3527/garett"}, "is_accepted": false, "score": 3, "last_activity_date": 1528947278, "creation_date": 1528947278, "answer_id": 50849222, "question_id": 50846939, "link": "https://stackoverflow.com/questions/50846939/how-to-change-the-color-of-placeholder-of-the-picker-in-xamarin/50849222#50849222", "title": "How to change the color of placeholder of the Picker in XAMARIN?", "body": "<p>In iOS you would do something similar in your custom renderer.   </p>\n\n<pre><code>Control.AttributedPlaceholder = \n    new NSAttributedString (Control.AttributedPlaceholder.Value, foregroundColor: UIColor.White);\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 9892498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Odl6s.jpg?s=128&g=1", "display_name": "Aslam Ranjha", "link": "https://stackoverflow.com/users/9892498/aslam-ranjha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1784, "favorite_count": 0, "accepted_answer_id": 50847235, "answer_count": 2, "score": 3, "last_activity_date": 1582548072, "creation_date": 1528927462, "last_edit_date": 1528939947, "question_id": 50846939, "link": "https://stackoverflow.com/questions/50846939/how-to-change-the-color-of-placeholder-of-the-picker-in-xamarin", "title": "How to change the color of placeholder of the Picker in XAMARIN?", "body": "<p>How to change the color of placeholder of the Picker in XAMARIN for ANDROID and iOS both? PlaceholderColor = \"white\" doesn't work.</p>\n\n<pre><code>            &lt;Picker Title=\"Search items\"  TextColor=\"White\"\n            PlaceholderColor = \"white\"\n            VerticalOptions=\"Start\"&gt;\n            &lt;Picker.Items&gt;\n                &lt;x:String&gt;Item1&lt;/x:String&gt;\n                &lt;x:String&gt;item2&lt;/x:String&gt;\n                &lt;x:String&gt;item3&lt;/x:String&gt;\n            &lt;/Picker.Items&gt;\n        &lt;/Picker&gt;\n</code></pre>\n"}, {"tags": ["c#", "angular"], "comments": [{"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1528927614, "post_id": 50846933, "comment_id": 88697430, "body": "What is the value of <code>r._body</code> when debugging?"}, {"owner": {"reputation": 925, "user_id": 5197739, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0eb1950fceec1477ac6713029546eab9?s=128&d=identicon&r=PG&f=1", "display_name": "JamTay317", "link": "https://stackoverflow.com/users/5197739/jamtay317"}, "reply_to_user": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1528927683, "post_id": 50846933, "comment_id": 88697451, "body": "it looks like the bytes that were downloaded."}, {"owner": {"reputation": 925, "user_id": 5197739, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0eb1950fceec1477ac6713029546eab9?s=128&d=identicon&r=PG&f=1", "display_name": "JamTay317", "link": "https://stackoverflow.com/users/5197739/jamtay317"}, "reply_to_user": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1529006511, "post_id": 50846933, "comment_id": 88732618, "body": "does anyone know?"}], "owner": {"reputation": 925, "user_id": 5197739, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0eb1950fceec1477ac6713029546eab9?s=128&d=identicon&r=PG&f=1", "display_name": "JamTay317", "link": "https://stackoverflow.com/users/5197739/jamtay317"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528927421, "creation_date": 1528927421, "question_id": 50846933, "link": "https://stackoverflow.com/questions/50846933/angular-4-download-pdf-comes-out-blank", "title": "angular 4 download pdf comes out blank", "body": "<p>Hello I am trying to download a pdf from a report that i create on the server. When I create it I save it on the server for a moment then I make a second call and download it.</p>\n\n<p>The following is the code that is on the web API:</p>\n\n<pre><code>        var rootDirectory = HostingEnvironment.MapPath(\"~\");\n        var filePath = $@\"{rootDirectory}\\Temp\\{file}.pdf\";\n        var bytes = File.ReadAllBytes(filePath);\n        File.Delete(filePath);\n\n        var memoryStream = new MemoryStream(bytes);\n\n        var result = new HttpResponseMessage(HttpStatusCode.OK)\n        {\n            Content =  new ByteArrayContent(memoryStream.ToArray())\n        };\n        result.Content.Headers.ContentDisposition = new ContentDispositionHeaderValue(\"attachment\")\n        {\n            FileName = \"report.pdf\"\n        };\n        result.Content.Headers.ContentType = new MediaTypeHeaderValue(\"application/pdf\");\n\n        return result;\n</code></pre>\n\n<p>then I get back to the typescript and here is the code that I use do download it:</p>\n\n<pre><code>                this.reportsService\n                    .download(id)\n                    .subscribe(r =&gt; {\n                        let pdf =r._body;\n                        var pdfName = `${this.selectedReport.name}.pdf`;\n                        let blob = new Blob([pdf], { type: 'application/pdf' });\n\n                        window.open(URL.createObjectURL(blob));\n                    });\n\n            });\n</code></pre>\n\n<p>I should mention that when I open the pdf from where it is saved on the server it is correct.\nCan someone please tell me what I'm missing?</p>\n"}, {"tags": ["c#", "sharepoint"], "answers": [{"tags": [], "owner": {"reputation": 4884, "user_id": 8867311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/211a7f414a3441006d1dd418596447a9?s=128&d=identicon&r=PG&f=1", "display_name": "Lee_MSFT", "link": "https://stackoverflow.com/users/8867311/lee-msft"}, "is_accepted": true, "score": 3, "last_activity_date": 1528947926, "creation_date": 1528947926, "answer_id": 50849301, "question_id": 50846826, "link": "https://stackoverflow.com/questions/50846826/sharepoint-download-folder-as-zip-file/50849301#50849301", "title": "SharePoint - download folder as zip file", "body": "<p>Sample code for your reference.</p>\n\n<pre><code>static void Main(string[] args)\n        {\n            string _SiteUrl = \"https://domain.sharepoint.com/sites/tst\";\n            using (var clientContext = new ClientContext(_SiteUrl))\n            {\n                Console.ForegroundColor = ConsoleColor.Green;\n                string password = \"pw\";\n                SecureString sec_pass = new SecureString();\n                Array.ForEach(password.ToArray(), sec_pass.AppendChar);\n                sec_pass.MakeReadOnly();\n                clientContext.Credentials = new SharePointOnlineCredentials(\"lee@domain.onmicrosoft.com\", sec_pass);\n\n                Web web = clientContext.Web;\n                Folder folder = web.GetFolderByServerRelativeUrl(\"/sites/TST/MyDoc4/Folder\");\n                var files = folder.Files;\n                clientContext.Load(files);\n                clientContext.ExecuteQuery();\n                Console.WriteLine();\n                //Regex regex = new Regex(_SiteUrl, RegexOptions.IgnoreCase);\n\n                var list = web.Lists.GetByTitle(\"MyDoc4\");\n                var libRootFolder = list.RootFolder;\n                var subFolder = libRootFolder.Folders.GetByUrl(\"Folder\");\n                clientContext.Load(libRootFolder);\n                clientContext.Load(subFolder);\n                clientContext.ExecuteQuery();\n                Console.WriteLine(libRootFolder.ItemCount);\n                Console.WriteLine(subFolder.ItemCount);\n\n\n                using (System.IO.MemoryStream mStream = new System.IO.MemoryStream())\n                {\n                    using (var archive = new ZipArchive(mStream, ZipArchiveMode.Create, true))\n                    {\n                        foreach (var file in files)\n                        {\n                            clientContext.Load(file);\n                            Console.WriteLine(file.Name);\n                            ClientResult&lt;Stream&gt; stream = file.OpenBinaryStream();\n                            clientContext.ExecuteQuery();\n\n                            var zipArchiveEntry = archive.CreateEntry(file.Name);\n                            using (Stream zipEntryStream = zipArchiveEntry.Open())\n                            {\n\n                                    if (stream != null)\n                                    {\n                                        stream.Value.CopyTo(zipEntryStream);\n                                    }\n\n                            }\n                        }\n                    }\n                    using (var fileStream = new FileStream(@\"C:\\Lee\\FileDownload\\test.zip\", FileMode.Create))\n                    {\n                        mStream.Seek(0, SeekOrigin.Begin);\n                        mStream.CopyTo(fileStream);\n                    }\n                }\n\n\n                Console.WriteLine(\"done\");\n                Console.ReadKey();\n            }\n\n        }\n</code></pre>\n"}], "owner": {"reputation": 3509, "user_id": 4883718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a365e061b39c77c4e425cd4a00d75bc8?s=128&d=identicon&r=PG&f=1", "display_name": "Vasyl Zv", "link": "https://stackoverflow.com/users/4883718/vasyl-zv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1345, "favorite_count": 0, "accepted_answer_id": 50849301, "answer_count": 1, "score": 1, "last_activity_date": 1529009847, "creation_date": 1528926810, "last_edit_date": 1529009847, "question_id": 50846826, "link": "https://stackoverflow.com/questions/50846826/sharepoint-download-folder-as-zip-file", "title": "SharePoint - download folder as zip file", "body": "<p>I need an API (C#) to download folder as one zip file in SharePoint. This feature is enabled in SharePoint website after selecting one or a few folders but I can't find how to do this programmatically.\nI don't see something in class <code>Microsoft.SharePoint.Client.Folder</code>. Perhaps to use somehow <code>Microsoft.SharePoint.Client.DocumentSet</code>. Can't find an answer. I can do this file by file with using File.OpenBinaryDirect but maybe already exists ready function. Thanks.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1528926904, "post_id": 50846824, "comment_id": 88697203, "body": "Define your own form class, add two properties for Title and Message. Set them to your text before calling Show();"}], "answers": [{"tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": false, "score": 2, "last_activity_date": 1528927533, "creation_date": 1528927533, "answer_id": 50846948, "question_id": 50846824, "link": "https://stackoverflow.com/questions/50846824/create-modeless-child-form-in-c/50846948#50846948", "title": "Create modeless child form in C#", "body": "<p>First, you can create a form, something like the following, which would be your message box equivalent.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Nz0L8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nz0L8.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then you can change that new <code>Form2</code> constructor like this:</p>\n\n<pre><code>public partial class Form2 : Form\n{\n    public Form2(string title, string message)\n    {\n        InitializeComponent();\n        this.Text = title;\n        label1.Text = message;\n    }\n}\n</code></pre>\n\n<p><code>this.Text</code> is your title and then by using <code>label1.Text</code>, set the label text.</p>\n\n<p>Then, when you're launching the new form, do like so:</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n    Form2 f2 = new Form2(\"header\",\"message\");\n    f2.Show();\n}\n</code></pre>\n\n<p>And this is what you'll get:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jc5mh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jc5mh.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 8167996, "user_type": "registered", "profile_image": "https://graph.facebook.com/1512219852183409/picture?type=large", "display_name": "David Raths", "link": "https://stackoverflow.com/users/8167996/david-raths"}, "edited": false, "score": 0, "creation_date": 1529318732, "post_id": 50846957, "comment_id": 88815205, "body": "Thanks, this is working quite nicely for me. I will mark it as answer! One last question out of curiosity, is it possible to actually omit/mute the typer in the richtextbox?"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "reply_to_user": {"reputation": 49, "user_id": 8167996, "user_type": "registered", "profile_image": "https://graph.facebook.com/1512219852183409/picture?type=large", "display_name": "David Raths", "link": "https://stackoverflow.com/users/8167996/david-raths"}, "edited": false, "score": 0, "creation_date": 1529331313, "post_id": 50846957, "comment_id": 88822924, "body": "Do you mean setting <i>ReadOnly</i> ?"}, {"owner": {"reputation": 49, "user_id": 8167996, "user_type": "registered", "profile_image": "https://graph.facebook.com/1512219852183409/picture?type=large", "display_name": "David Raths", "link": "https://stackoverflow.com/users/8167996/david-raths"}, "edited": false, "score": 0, "creation_date": 1529341981, "post_id": 50846957, "comment_id": 88828958, "body": "I have already set it to ReadOnly, however the typer still appears (Although you can no longer modify the RichTextBox content). It is just a matter of aesthetics and I am wondering whether it is somehow possible to hide the typer?"}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "reply_to_user": {"reputation": 49, "user_id": 8167996, "user_type": "registered", "profile_image": "https://graph.facebook.com/1512219852183409/picture?type=large", "display_name": "David Raths", "link": "https://stackoverflow.com/users/8167996/david-raths"}, "edited": false, "score": 0, "creation_date": 1529349041, "post_id": 50846957, "comment_id": 88832027, "body": "@DavidRaths you can use a <code>Label</code> instead of RTB."}, {"owner": {"reputation": 49, "user_id": 8167996, "user_type": "registered", "profile_image": "https://graph.facebook.com/1512219852183409/picture?type=large", "display_name": "David Raths", "link": "https://stackoverflow.com/users/8167996/david-raths"}, "edited": false, "score": 0, "creation_date": 1529414938, "post_id": 50846957, "comment_id": 88858159, "body": "Amazing! Thank you very much!"}], "tags": [], "owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "is_accepted": true, "score": 3, "last_activity_date": 1528927586, "creation_date": 1528927586, "answer_id": 50846957, "question_id": 50846824, "link": "https://stackoverflow.com/questions/50846824/create-modeless-child-form-in-c/50846957#50846957", "title": "Create modeless child form in C#", "body": "<p>I think this can give you an idea how to start</p>\n\n<pre><code>public class MyDialog: Form\n{\n    public MyDialog(string prompt, int timeout)\n    {\n        RichTextBox rtb = new RichTextBox();\n        rtb.Dock = DockStyle.Fill;\n        rtb.Font = new Font(\"Times new Roman\", 14f, FontStyle.Bold);\n        rtb.Text = prompt;\n        this.Controls.Add(rtb);\n\n        var _Timer = new System.Windows.Forms.Timer()\n        {\n            Enabled = true,\n            Interval = timeout\n        };\n        _Timer.Tick += (s, e) =&gt; this.Close();\n        this.Show();\n    }\n}\n</code></pre>\n\n<p>All you need to do is creating this form like below</p>\n\n<pre><code>var f = new MyDialog(\"It works\", 5000);\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 8167996, "user_type": "registered", "profile_image": "https://graph.facebook.com/1512219852183409/picture?type=large", "display_name": "David Raths", "link": "https://stackoverflow.com/users/8167996/david-raths"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 50846957, "answer_count": 2, "score": -1, "last_activity_date": 1528927785, "creation_date": 1528926784, "last_edit_date": 1528927785, "question_id": 50846824, "link": "https://stackoverflow.com/questions/50846824/create-modeless-child-form-in-c", "title": "Create modeless child form in C#", "body": "<p>I am currently working on a desktop application (Main Form) which uploads data in order to perform some basic calculations. </p>\n\n<p>I would like to include a Box popping up once the user has uploaded his file (e.g. \u201cUpload has been completed\u201d). This Box should have 2 characteristics:</p>\n\n<ol>\n<li>It should be modeless, no input is needed, it is merely an\ninformation box</li>\n<li>It should disappear automatically (based on a timer).</li>\n</ol>\n\n<p>I have already found a solution for the second point, however I still have to create the form I would like to pop up. As I do not want it to have buttons, MessageBox is not a good fit. </p>\n\n<p>I know that I can create a modeless form as follows:</p>\n\n<pre><code> Public class test\n {\n Form f = new Form();\n f.show()\n }\n</code></pre>\n\n<p>Starting from that, how can I insert a string text and a string caption much similar to the messageBox style?</p>\n\n<p>thanks</p>\n"}, {"tags": ["c#", "rest", "oauth-2.0"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1528933372, "post_id": 50846780, "comment_id": 88698861, "body": "Consider storing it in a database."}, {"owner": {"reputation": 61, "user_id": 5285236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IzCEx.jpg?s=128&g=1", "display_name": "krishna chaitanya", "link": "https://stackoverflow.com/users/5285236/krishna-chaitanya"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1528934719, "post_id": 50846780, "comment_id": 88699117, "body": "Is there an alternative to storing in database?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1528934805, "post_id": 50846780, "comment_id": 88699131, "body": "Yes. You could store it in a file. Or anywhere you like really."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 5285236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IzCEx.jpg?s=128&g=1", "display_name": "krishna chaitanya", "link": "https://stackoverflow.com/users/5285236/krishna-chaitanya"}, "edited": false, "score": 0, "creation_date": 1528979305, "post_id": 50848673, "comment_id": 88717523, "body": "the token will be valid for 72 hours, and it is created using a NUID, not per user, so i have to store it and make the valid token available for web requests accesing the REST APIs"}], "tags": [], "owner": {"reputation": 17596, "user_id": 18044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1f0136186ca27b7b070b49cf1973885e?s=128&d=identicon&r=PG", "display_name": "MvdD", "link": "https://stackoverflow.com/users/18044/mvdd"}, "is_accepted": false, "score": 0, "last_activity_date": 1528942385, "creation_date": 1528942385, "answer_id": 50848673, "question_id": 50846780, "link": "https://stackoverflow.com/questions/50846780/where-should-i-store-expiring-rest-api-authentication-token/50848673#50848673", "title": "Where should i store expiring REST API authentication token?", "body": "<p>I'm not really sure why you want to store the access token in the first place. Why not just keep the token in memory while its valid?</p>\n\n<p>From what you wrote, it looks like you want your application to act on its own behalf for any user. In that case, the <a href=\"https://tools.ietf.org/html/rfc6749#section-1.3.4\" rel=\"nofollow noreferrer\">OAuth2 client credentials flow</a> is your best option.</p>\n\n<p>Also, it may be better to just use the token until the API returns an <code>HTTP 401</code> error and then renew the token and retry the API. If you store the expiration time, you have to account for clock-skew between machines. The issued token may be encrypted, in which case you cannot get the expiration time.</p>\n"}, {"tags": [], "owner": {"reputation": 4583, "user_id": 6844481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Z6GA.jpg?s=128&g=1", "display_name": "Shahar Shokrani", "link": "https://stackoverflow.com/users/6844481/shahar-shokrani"}, "is_accepted": false, "score": 0, "last_activity_date": 1567497901, "creation_date": 1567497901, "answer_id": 57767482, "question_id": 50846780, "link": "https://stackoverflow.com/questions/50846780/where-should-i-store-expiring-rest-api-authentication-token/57767482#57767482", "title": "Where should i store expiring REST API authentication token?", "body": "<p>For .Net Core you can store the authentication token in memory using the <code>IMemoryCache</code> interface, which you can inject easily to the consumer service using the build-in DI container.</p>\n\n<p>That way you can store it within memory only for the expired time span that correlated with <code>Expires_in</code>, so afterwards it will be deleted automatically.</p>\n\n<pre><code>class RestConsumerService\n{\n    private readonly IMemoryCache _memoryCache;\n    RestConsumerService(IMemoryCache memoryCache)\n    {\n         _memoryCache = memoryCache\n    }\n    string GetOAuthToken()\n    {\n        if (_memoryCache.TryGetValue&lt;string&gt;(\"MyTokenKey\", out string access_token)) //You can store the T object as well.\n        {\n            return access_token;\n        }\n\n        //Do Api OAuth call\n        //...\n        OAuthRespone response = fetchAccessToken();\n\n        _memoryCache.Set(\"MyTokenKey\", response.Access_token, new TimeSpan(0, 0, result.Expires_in));\n\n        return response.Access_token;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 5285236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IzCEx.jpg?s=128&g=1", "display_name": "krishna chaitanya", "link": "https://stackoverflow.com/users/5285236/krishna-chaitanya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1066, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567497901, "creation_date": 1528926516, "question_id": 50846780, "link": "https://stackoverflow.com/questions/50846780/where-should-i-store-expiring-rest-api-authentication-token", "title": "Where should i store expiring REST API authentication token?", "body": "<p>We have a OAuth API which provides expiring tokens to authenticate REST APIs in our application. </p>\n\n<p><strong>What I am trying to achieve</strong></p>\n\n<p>While application is running on server when first request comes through, get the expiring token, expiry date from OAuth API and store in the application somewhere and use that token until that expiry date and request for another token after that.This Token should be used Globally across the application until it expires.</p>\n\n<p><strong>What I have Done</strong></p>\n\n<p>Setup a Method which will get token from Oauth API and writing it to web.config file as App settings with the expiry date. whenever a request comes through to hit the REST API it will check if the token is available and not expired from web.config and return the Token. if the Token is not available or expired it will  get a new token from OAuth API.  </p>\n\n<p><strong>Web.Config</strong></p>\n\n<pre><code>&lt;appSettings&gt;\n&lt;add key=\"Token\" value=\"\" /&gt;\n&lt;add key=\"ExpiryDate\" value=\"\" /&gt;\n&lt;/appSettings&gt;\n</code></pre>\n\n<p><strong>CS file</strong></p>\n\n<pre><code>public RESTAPI GetData()\n{\nstring Token = GetToken();\n//use this Token to Authenticate REST API\n}\n\npublic string GetToken()\n{\nstring Token = ConfigurationManager.AppSettings[\"Token\"];\nDateTime ExpiryDate = DateTime.parse(ConfigurationManager.AppSettings[\"ExpiryDate\"]);\nif(Token == \"\" || ExpiryDate&lt;=DateTime.now)\n  {\n   RefreshToken();\n  }\nreturn ConfigurationManager.AppSettings[\"Token\"];\n} \n\npublic void RefreshToken()\n{\n//Consider OauthObject as object returned from Oauth API with Token and expiry date\nConfigurationManager.AppSettings[\"Token\"] = OauthObject.Token;\nConfigurationManager.AppSettings[\"ExpiryDate\"] = OauthObject.ExpiryDate.toString();\n}\n</code></pre>\n\n<p>I want one token to be distributed across the application for all users until it is expired. does it work this way if i want to do that? or any other suggestions please.</p>\n\n<p>Note: ASP.Net web application written in C#.</p>\n"}, {"tags": ["c#", "wmi"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7944191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31983f9686abe5e39343d7d644d1dd5d?s=128&d=identicon&r=PG&f=1", "display_name": "posh", "link": "https://stackoverflow.com/users/7944191/posh"}, "edited": false, "score": 0, "creation_date": 1528936367, "post_id": 50847225, "comment_id": 88699391, "body": "where do i write code so it trigger when the size of usb change. I am trying to see if i could time_create to trigger when the size of total usb changes. Thanks"}], "tags": [], "owner": {"reputation": 4619, "user_id": 637840, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/x12bW.png?s=128&g=1", "display_name": "NicoRiff", "link": "https://stackoverflow.com/users/637840/nicoriff"}, "is_accepted": false, "score": 1, "last_activity_date": 1528929229, "creation_date": 1528929229, "answer_id": 50847225, "question_id": 50846752, "link": "https://stackoverflow.com/questions/50846752/instancemodificationevent-class-in-c/50847225#50847225", "title": "__InstanceModificationEvent class in c#", "body": "<p>You can use <a href=\"https://github.com/nicoriff/ORMi\" rel=\"nofollow noreferrer\">ORMi</a> to easily create a watcher.</p>\n\n<p>1) Define your class:</p>\n\n<pre><code>[WMIClass(\"__InstanceModificationEvent\")]\npublic class ModificationEvent\n{\n    public string TargetInstance { get; set; }\n\n    [WMIProperty(\"TIME_CREATED\")]\n    public long Time { get; set; }\n}\n</code></pre>\n\n<p>2) Then create watcher and start handling events:</p>\n\n<pre><code>WMIWatcher watcher = new WMIWatcher(\"root\\\\CimV2\", \"SELECT * FROM __InstanceModificationEvent WHERE TargetInstance ISA 'Win32_Diskdrive' and TargetInstance.Interfacetype = 'USB'\", typeof(ModificationEvent));\nwatcher.WMIEventArrived += Watcher_WMIEventArrived;\n\nprivate static void Watcher_WMIEventArrived(object sender, WMIEventArgs e)\n{\n    ModificationEvent yourEvent = (ModificationEvent)e.Object;\n\n    Console.Log(yourEvent.TargetInstance);\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7944191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31983f9686abe5e39343d7d644d1dd5d?s=128&d=identicon&r=PG&f=1", "display_name": "posh", "link": "https://stackoverflow.com/users/7944191/posh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528929229, "creation_date": 1528926392, "last_edit_date": 1528927994, "question_id": 50846752, "link": "https://stackoverflow.com/questions/50846752/instancemodificationevent-class-in-c", "title": "__InstanceModificationEvent class in c#", "body": "<p>I am  trying to use __InstanceModificationEvent class on a a WMI query so that when size of usb change, this event kicks in. However, this doesn't do anything. Could you please provide me with tips on how to use __InstanceModificationEvent class?</p>\n\n<pre><code>SELECT * \nFROM __InstanceModificationEvent \nWITHIN 2 \nWHERE TargetInstance ISA 'Win32_Diskdrive' \n    and TargetInstance.Interfacetype = 'USB'\n</code></pre>\n"}, {"tags": ["c#", "recursive-descent", "associativity"], "comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1528927085, "post_id": 50846707, "comment_id": 88697260, "body": "The question is confusing. You wrote the code so asking <i>why</i> it does something is <i>because that&#39;s what you wrote it to do</i>. If you didn&#39;t want it to be right associative then why did you write a parser that parses binary operators as right associative?"}, {"owner": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1528927186, "post_id": 50846707, "comment_id": 88697301, "body": "@EricLippert The thing is is that I don&#39;t know <i>why</i> it&#39;s right associative"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1528927306, "post_id": 50846707, "comment_id": 88697336, "body": "Solve the problem by solving a simpler problem. Here&#39;s a language  { &quot;1&quot;, &quot;1+1&quot;, &quot;1+1+1&quot;, &quot;1+1+1+1&quot;, ...}. You already have the lexer. Now write me two parsers, one which parses to the right and one which parses to the left. Then you will know the difference between a parser that parses right and a parser that parses left."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1528927657, "post_id": 50846707, "comment_id": 88697443, "body": "Another technique you can use is one of preconditions and postconditions. You have only four relevant methods. You believe something about what the state of the token consumption is <i>before</i> they are called and <i>after</i> they are called. Say what those beliefs are, and write <code>Debug.Assert</code> calls that detect whether those beliefs are false. One of your beliefs is wrong, and that&#39;s where the bug is. The assertion will tell you where it is."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1528927873, "post_id": 50846707, "comment_id": 88697506, "body": "Briefly though: to parse to the right, you parse an expression by parsing a <i>term</i> -- the smallest possible thing that can be on the left side of an operator.  Then you check to see if there is an operator. If there is not, then the term is the expression. If there is, then you parse the <i>expression</i> on the right of the operator, and the resulting expression is (the term on the left, the operator, the expression on the right).  <b>That&#39;s the algorithm for parsing a right-associative operator</b>. Now, can you say what is the algorithm for parsing a left-associative operator?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1528928111, "post_id": 50846707, "comment_id": 88697575, "body": "If you look at your debug the first entry in a Node is always LEFT.  It is reversing the order of the terms so you are going from last to first."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1528928143, "post_id": 50846707, "comment_id": 88697584, "body": "Put another way: <code>T ::= 1, E ::= T | T + E</code> is the grammar for a right-associative operator.  <code>T ::= 1, E ::= T | E + T</code> is the grammar for a left-associative operator. Can you write parsers for both those grammars?"}, {"owner": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1528929660, "post_id": 50846707, "comment_id": 88697978, "body": "@EricLippert the thing with E ::= E + T is it\u2019s left recursive. From my understanding, recursive descent parsers don\u2019t support left recursion. So I changed it to E ::= T E\u2019 and E\u2019 ::= + T E\u2019"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1528930185, "post_id": 50846707, "comment_id": 88698145, "body": "That&#39;s the correct grammar transformation. (Though don&#39;t forget <code>E&#39; ::=  nil</code> needs to be in there.)  But now how are you going to build your desired parse tree from a parser for that grammar?  You want a parse tree where there are expressions on the left of every <code>+</code> and terms on the right, but what you&#39;ve got is an expression is a pair of (term, suffix), and a suffix is either nil, or a triple of (+, term, suffix).  How are you going to transform that thing into the tree you want?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1528930357, "post_id": 50846707, "comment_id": 88698189, "body": "Hint: <b>do you know the shunting yard algorithm</b>?"}, {"owner": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1528940572, "post_id": 50846707, "comment_id": 88700147, "body": "@EricLippert yes"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1529011101, "post_id": 50846707, "comment_id": 88734537, "body": "@ColeJohnson: <b>Have you implemented it correctly?</b>"}, {"owner": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1529079329, "post_id": 50846707, "comment_id": 88760713, "body": "@EricLippert yes"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1529082389, "post_id": 50846707, "comment_id": 88762094, "body": "@ColeJohnson: Then I still don&#39;t know what your question is.  You&#39;re familiar with the algorithm for parsing left-associative binary operators, you say you&#39;ve implemented it correctly, so <b>what is your specific question</b>?  I&#39;m happy to help people who are designing languages because that&#39;s an awesome thing to do, but help me help you here. What&#39;s your question?"}, {"owner": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "edited": false, "score": 0, "creation_date": 1529082742, "post_id": 50846707, "comment_id": 88762260, "body": "I\u2019ve tried implementing the parser as the grammar says, but I\u2019ve been pulling my hair out trying to make it parse correctly. I\u2019m sure I\u2019ve implemented the grammar wrong, but I can\u2019t see where"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1529087683, "post_id": 50846707, "comment_id": 88764273, "body": "The problem is in this line:  <code>node = (right == null) ? left : new AdditionNode(left, right);</code> That is not <i>at all</i> the right way to turn an AdditivePrime into an AdditionaNode.  Like I said in a comment above: you have to transform this into the thing you want, but you have not done so.  I&#39;ll write up an answer with some good advice."}], "answers": [{"comments": [{"owner": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "edited": false, "score": 1, "creation_date": 1529094106, "post_id": 50881099, "comment_id": 88766650, "body": "Wow! That makes so much more sense! Thanks so much for the help! And for your 3rd to last bullet point, this is just a personal project"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "edited": false, "score": 0, "creation_date": 1529094249, "post_id": 50881099, "comment_id": 88766687, "body": "@ColeJohnson: You&#39;re welcome! What are the characteristics of your new language? Are you building it for a particular purpose, or as a learning exercise, or both?"}, {"owner": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "edited": false, "score": 0, "creation_date": 1529094330, "post_id": 50881099, "comment_id": 88766713, "body": "I never really liked PHP&#39;s dynamic typing, so it&#39;s basically a strongly typed alternative to PHP. Just for fun and to learn"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "edited": false, "score": 1, "creation_date": 1529094620, "post_id": 50881099, "comment_id": 88766813, "body": "You know that&#39;s what I do for a living, right? I spent most of 2016 and 2017 rewriting the parser for Hack, a language that is an optionally-statically-typed / gradually-typed alternative to PHP.  If you are interested to see how I built the parser, well, you&#39;ll have to learn to read OCAML, but it is not a hard language once you get past the module system.  The code is here: <a href=\"https://github.com/facebook/hhvm/tree/master/hphp/hack/src/parser\" rel=\"nofollow noreferrer\">github.com/facebook/hhvm/tree/master/hphp/hack/src/parser</a>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "edited": false, "score": 0, "creation_date": 1529094887, "post_id": 50881099, "comment_id": 88766903, "body": "Note that the Hack parser is slightly unusual in a couple of ways. First, it is <i>full fidelity</i>. The syntax tree it produces attributes every single character in the file to a unique place in the parse tree.  This facilitates writing code formatters and so on, because we do not lose track of comments and whitespace."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "edited": false, "score": 0, "creation_date": 1529094966, "post_id": 50881099, "comment_id": 88766930, "body": "Second, it is written in <i>pure functional style</i>.  Every parse operation returns a parse tree <i>and a new parser that can parse the next production</i>. That way you can recover from error situations by saying &quot;OK, what happens if we parse this as a statement? What if we parse it as a class?...&quot; and we don&#39;t have to worry about having to &quot;undo&quot; the changes to the parser because there are no changes to a parser. You just get a new parser and the old one still works."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "edited": false, "score": 0, "creation_date": 1529095030, "post_id": 50881099, "comment_id": 88766949, "body": "If you are interested in type systems, Hack uses <i>flow based implicit static typing</i> with union and intersection types.  The type system code is rather harder to understand than the parser though."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "edited": false, "score": 1, "creation_date": 1529095116, "post_id": 50881099, "comment_id": 88766983, "body": "Also FYI the operator precedence in PHP is <i>insane</i>. I would not attempt to replicate it.  In the Hack parser I broke with PHP and implemented sensible operator precedence."}, {"owner": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "edited": false, "score": 1, "creation_date": 1529095206, "post_id": 50881099, "comment_id": 88767026, "body": "Oh I know that. I want to implement the precedence sanely like C# does"}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 21, "last_activity_date": 1529093526, "last_edit_date": 1529093526, "creation_date": 1529087982, "answer_id": 50881099, "question_id": 50846707, "link": "https://stackoverflow.com/questions/50846707/why-is-my-recursive-descent-parser-right-associative/50881099#50881099", "title": "Why is my recursive descent parser right-associative", "body": "<p>As I noted in a comment, the problem is that you have confused <em>the rightmost child of a binary operator</em> with <em>the rightmost child of an additiveprime</em>. The rightmost child of a binary operator is an <em>expression</em>.  The rightmost side of an additiveprime is an <em>additiveprime</em>, so on \"tree node type\" grounds alone we must conclude that you have built a wrong parse tree.</p>\n\n<p>Keeping track of the \"logical type\" of every parse artifact is a powerful technique for finding bugs in parsers. Another that I like, which is tragically underused, is <strong>attribute every token in the program to exactly one parse tree node</strong>.  If you did that then you would quickly realize that the token for the operator is logically in <em>two</em> places: in the binary operator, and in its rightmost child. This also tells us that something is wrong.</p>\n\n<p>What doesn't help is that your infrastructure for parsing is a godawful mess of passing around numbers and out parameters. <strong>Your parser lacks discipline</strong>.  Your parser code looks like <em>counting tokens</em> is the most important thing that a parser does, and that everything else is incidental. </p>\n\n<p>Parsing is a <em>very crisp problem</em>, and parser methods should do one thing, one thing only, and do it perfectly.  The structure of the parser, and the structure of each method, should <em>directly</em> reflect the grammar being parsed. There should be <em>almost no arithmetic on integers</em> in the parser, since parsing is about building a parse tree, not about counting tokens.</p>\n\n<p>I build recursive descent parsers for a living. Let me show you how I would build this parser, were I building it quickly for my own purposes.  (Were I building it for a production application it would be different in many respects, but we're going for easy to understand here.)</p>\n\n<hr>\n\n<p>All right, let's get started. First thing is: <strong>when you are stuck on a problem, solve a simpler problem</strong>.  Let's simplify the problem in the following manner:</p>\n\n<ul>\n<li>Assume that the token stream is a well-formed program. No error detection.</li>\n<li>Tokens are strings.</li>\n<li>The grammar is : <code>E ::= T E', E' ::= + T E' | nil</code>, and <code>T</code> is a term consisting of a single token. </li>\n</ul>\n\n<p>All right.  <strong>Start by creating types that represent each of those things</strong>.</p>\n\n<pre><code>sealed class Term : ParseTree \n{\n    public string Value { get; private set; }\n    public Term(string value) { this.Value = value; }\n    public override string ToString() { return this.Value; }\n}\nsealed class Additive : ParseTree \n{ \n    public ParseTree Term { get; private set; }\n    public ParseTree Prime { get; private set; }\n    public Additive(ParseTree term, ParseTree prime) {\n        this.Term = term;\n        this.Prime = prime;\n    }\n    public override string ToString() { return \"\" + this.Term + this.Prime; }\n}\nsealed class AdditivePrime : ParseTree \n{ \n    public string Operator { get; private set; }\n    public ParseTree Term { get; private set; }\n    public ParseTree Prime { get; private set; }\n    public AdditivePrime(string op, ParseTree term, ParseTree prime) {\n        this.Operator = op;\n        this.Term = term;\n        this.Prime = prime;\n    }\n    public override string ToString() { return this.Operator + this.Term + this.Prime; }\n}\nsealed class Nil : ParseTree \n{\n    public override string ToString() { return \"\"; }\n}\n</code></pre>\n\n<p>Notice a few things:</p>\n\n<ul>\n<li>Abstract classes are abstract. </li>\n<li>Concrete classes are sealed.</li>\n<li>Everything is immutable.</li>\n<li>Everything knows how to print itself.</li>\n<li>No nulls!  <strong>NO NULLS</strong>.  Nulls cause crashes.  You have a production called nil, so make a type called <code>Nil</code> to represent it.</li>\n</ul>\n\n<p>Next:  What do we want the parser to look like from the user's perspective?  We want a sequence of tokens to go in, and we want a parse tree to come out.  Great.  So the public surface should be:</p>\n\n<pre><code>sealed class Parser\n{\n    public Parser(List&lt;string&gt; tokens) { ... }\n    public ParseTree Parse() { ... }\n}\n</code></pre>\n\n<p>And if we've done everything right then the call site looks like this:</p>\n\n<pre><code>public static void Main()\n{\n    var tokens = new List&lt;string&gt;() { \"1\" , \"+\" , \"2\" , \"+\" , \"3\" , \"+\" , \"4\"};\n    var parser = new Parser(tokens);\n    var result = parser.Parse();\n    System.Console.WriteLine(result);\n}\n</code></pre>\n\n<p>Super.  Now all we have to do is implement it.</p>\n\n<p>A parser keeps track of the list of tokens and the current token under consideration.  <strong>Do not tramp that information around from method to method</strong>. It is logically part of the parser, so keep it in the parser.</p>\n\n<pre><code>public sealed class Parser\n{\n    private List&lt;string&gt; tokens;\n    private int current;    \n    public Parser(List&lt;string&gt; tokens)\n    {\n        this.tokens = tokens;\n        this.current = 0;\n    }\n</code></pre>\n\n<p>The language consists right now only of additive expressions, so:</p>\n\n<pre><code>    public ParseTree Parse()\n    {\n        return ParseAdditive();\n    }\n</code></pre>\n\n<p>Great, we are done two members of the parser already.  Now, what does <code>ParseAdditive</code> do?  <strong>It does what it says on the tin</strong>.  It parses an additive expression, which has the grammar <code>E:: T E'</code>, so that is what it does and ALL that it does, for now.</p>\n\n<pre><code>private ParseTree ParseAdditive()\n{\n    var term = ParseTerm();\n    var prime = ParseAdditivePrime();\n    return new Additive(term, prime);\n}\n</code></pre>\n\n<p><strong>If your parser methods do not look incredibly simple then you are doing something wrong</strong>.  The whole <em>point</em> of recursive descent parsers is that they are easy to understand and easy to implement.</p>\n\n<p>Now we can see how to implement <code>ParseTerm()</code>; it just consumes a token:</p>\n\n<pre><code>private string Consume() \n{\n  var t = this.tokens[this.current];\n  this.current += 1;\n  return t;\n}\nprivate ParseTree ParseTerm() {\n  return new Term(Consume());\n}\n</code></pre>\n\n<p>Again, we are assuming that the token stream is well formed. Of course this would crash if it was ill-formed, but that's a problem for another day.</p>\n\n<p>And finally, the last one is a little harder because there are two cases.</p>\n\n<pre><code>private bool OutOfTokens() \n{\n  return this.current &gt;= this.tokens.Count;\n}\nprivate ParseTree ParseAdditivePrime()\n{\n    if (OutOfTokens())\n        return new Nil();\n    var op = Consume();\n    var term = ParseTerm();\n    var prime = ParseAdditivePrime();\n    return new AdditivePrime(op, term, prime);\n}\n</code></pre>\n\n<p><strong>So simple</strong>.  Again, <strong>all your methods should look like exactly what they do</strong>.</p>\n\n<p>Notice that I did NOT write</p>\n\n<pre><code>private ParseTree ParseAdditivePrime()\n{\n    if (this.current &gt;= this.tokens.Count)\n        return new Nil();\n</code></pre>\n\n<p><strong>Keep the text of the program reading like the operations it is implementing</strong>.  What do we want to know?  <strong>Are we out of tokens?</strong>  So <strong>say that</strong>.  Don't make the reader -- yourself -- have to think about oh, did I mean <code>&gt;</code> or <code>&lt;</code> or <code>&lt;=</code> or... just don't.  Solve the problem <em>once</em>, put the solution in a method with a good name, and then call the method.  Your future self will thank your past self for taking that care.</p>\n\n<p>Notice also that I did not write the C# 7 super slick:</p>\n\n<pre><code>private ParseTree ParseAdditivePrime() =&gt; \n  OutOfTokens() ? new Nil() : new AdditivePrime(Consume(), ParseTerm(), ParseAdditivePrime());\n</code></pre>\n\n<p>That you <strong>can</strong> write your parser methods as one-liners is a sign that you've designed a good parser, but that doesn't mean that you <em>should</em>.  It's often easier to understand and debug a parser if you keep it in sequential statement form rather than slick little one-liners.  Exercise good judgment.</p>\n\n<hr>\n\n<p>OK, we have solved the easier problem!  Now let's solve a <em>slightly</em> harder problem.  We have solved parsing the grammar <code>E ::= T E', E' ::= + T E' | nil</code>, but the grammar we <em>want</em> to parse is <code>B :: T | B + T</code>.  </p>\n\n<p><strong>Notice that I am not confusing <code>E</code>, which is a term-and-suffix with <code>B</code>, which is either a <code>T</code> or a <code>B</code>, a <code>+</code>, and a <code>T</code>.   Since <code>B</code> and <code>E</code> are different, represent them by different types.</strong></p>\n\n<p>Let's make a type for <code>B</code>:</p>\n\n<pre><code>sealed class Binary : ParseTree \n{\n    public ParseTree Left { get; private set; }\n    public string Operator { get; private set; }\n    public ParseTree Right { get; private set; }\n    public Binary(ParseTree left, string op, ParseTree right) \n    {\n        this.Left = left; \n        this.Operator = op;\n        this.Right = right;\n    }\n    public override string ToString() \n    {\n        return \"(\" + Left + Operator + Right + \")\";\n    }\n}\n</code></pre>\n\n<p>Note that I have added parentheses in the output as a visual aid to help us see that it is left associative.</p>\n\n<p>Now, suppose we have an <code>Additive</code> in hand and we need a <code>Binary</code>. <strong>How are we going to do that</strong>?</p>\n\n<p>An additive is always a term and a prime.  So there are two cases.  Either the prime is nil, or it is not.</p>\n\n<p>If the prime is nil then we're done: a <code>Term</code> is acceptable where a <code>Binary</code> is required, so we can just pass back the term.</p>\n\n<p>If the prime is not nil then the prime is op, term, prime.  <strong>Somehow we have to get a <code>Binary</code> out of that</strong>.  A binary needs three things. <strong>Remember, we are attributing every token to exactly one node</strong>, so this will help us figure it out.</p>\n\n<ul>\n<li>We have our left term from the additive.  </li>\n<li>We have our op from the prime.</li>\n<li>We have our right term from the prime.</li>\n</ul>\n\n<p>But that leaves the prime's prime behind!  We need to do something with that. Let's reason it out. Again, there are two cases:</p>\n\n<ul>\n<li>If the prime's prime is nil, then the result is the binary.</li>\n<li>If the prime's prime is not nil, then the result is a new binary with the old binary on the left, and... <strong>wait a minute, this is the same algorithm that we just described for transforming an additive into a binary</strong>.  </li>\n</ul>\n\n<p>We have just discovered that this algorithm is recursive, and once you realize that it is trivial to write:</p>\n\n<pre><code>private static ParseTree AdditiveToBinary(ParseTree left, ParseTree prime) \n{\n    if (prime is Nil) return left;\n    var reallyprime = (AdditivePrime) prime;\n    var binary = new Binary(left, reallyprime.Operator, reallyprime.Term);\n    return AdditiveToBinary(binary, reallyprime.Prime);\n}\n</code></pre>\n\n<p>And now we modify our <code>ParseAdditive</code>:</p>\n\n<pre><code>private ParseTree ParseAdditive()\n{\n    var term = ParseTerm();\n    var prime = ParseAdditivePrime();\n    return AdditiveToBinary(term, prime);       \n}     \n</code></pre>\n\n<p>And run it:</p>\n\n<pre><code>(((1+2)+3)+4)\n</code></pre>\n\n<p>And we're done.</p>\n\n<p>Well, not quite.  <code>ParseAdditive</code> no longer does what it says on the tin!  It says <code>ParseAdditive</code> but it returns a <code>Binary</code>.</p>\n\n<p>In fact... <strong>do we need <code>Additive</code> at all</strong>?  Could we eliminate it entirely from the parser?  In fact we could; we now <em>never create an instance of <code>Additive</code></em>, so it can be deleted, and <code>ParseAdditive</code> can be renamed <code>ParseBinary</code>.</p>\n\n<p>This often happens when constructing programs using the technique of \"solve a simpler problem\".  You end up being able to throw away your earlier work, which is <em>great</em>. Deleted code has no bugs.</p>\n\n<ul>\n<li><strong>Exercise</strong>: Representing operators as strings is gross. Make an <code>Operator</code> class analogous to <code>Term</code>, and a method that parses operators. <strong>Keep raising the level of abstraction of the parser away from concrete strings and into the business domain of the parser</strong>. Similarly with tokens; they ought not to be strings.</li>\n<li><strong>Exercise</strong>: We've solved a slightly harder problem, so keep going. Can you now add multiplication?  </li>\n<li><strong>Exercise</strong>: Can you parse a language that has a mix of left and right associative operators?</li>\n</ul>\n\n<hr>\n\n<p>Some additional thoughts:</p>\n\n<ul>\n<li><p>I presume you are doing this either for your own fun, or for a school assignment. <strong>Do not copy paste my work into your assignment</strong>.  That's academic fraud.  <strong>Remember to properly attribute all work when you submit it if that work is not entirely your own.</strong></p></li>\n<li><p>If you're doing it for fun, have fun designing a language!  It's a nice hobby, and if you're really lucky, someday someone will pay you to do it.</p></li>\n<li><p>You're designing your own language, so you do not have to repeat the mistakes of the past.  I notice for example that your comments suggest that you're going to add cast expressions.  Welcome to a world of pain if you do it like C, C++, C#, Java, and so on.  All those languages must have their parsers disambiguate between <code>(x)+y</code> meaning \"apply unary plus to y and cast the thing to <code>x</code>\", and \"add quantity <code>(x)</code> to <code>y</code>\".  It is a major pain.  Consider a better syntax for casts, like an <code>as</code> operator.  Also, examine the meaning of a cast; in C# a cast means both \"produce an instance of a different type that represents the same value\" and \"I am asserting that the runtime type of this thing differs from its compile time type; throw if I am wrong\". Those operations are completely different but they have the same syntax. All languages are responses to previous languages, so think hard about what you like <em>because it is familiar</em> vs <em>because it is good</em>.</p></li>\n</ul>\n"}], "owner": {"reputation": 8325, "user_id": 1350209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd2f0eb2365d2a1fcd6f4eb4d40366b1?s=128&d=identicon&r=PG", "display_name": "Cole Johnson", "link": "https://stackoverflow.com/users/1350209/cole-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 4, "accepted_answer_id": 50881099, "answer_count": 1, "score": 4, "last_activity_date": 1529093526, "creation_date": 1528926171, "last_edit_date": 1529077676, "question_id": 50846707, "link": "https://stackoverflow.com/questions/50846707/why-is-my-recursive-descent-parser-right-associative", "title": "Why is my recursive descent parser right-associative", "body": "<p>I'm writing my own programming language, and I have the tokenizer (lexer) all done. But for parsing, I'm having trouble writing a recursive descent parser. It seems to be right associative, when it should be left, and I don\u2019t know why. For example, it parses <code>1-2-3</code> as <code>1-(2-3)</code>, not the correct <code>(1-2)-3</code>.</p>\n\n<p>I've trimmed off most of the other code leaving just what's reproducible:</p>\n\n<pre><code>using System.Collections.Generic;\n\nnamespace Phi\n{\n    public enum TokenType\n    {\n        Plus, // '+'\n        Minus, // '-'\n        IntegerLiteral,\n    }\n\n    public interface INode\n    {\n        // Commented out as they aren't relevant\n        //NodeType GetNodeType();\n        //void Print(string indent, bool last);\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            List&lt;Token&gt; tokens = new List&lt;Token&gt;()\n            {\n                new Token(TokenType.IntegerLiteral, \"1\"),\n                new Token(TokenType.Minus, \"\"),\n                new Token(TokenType.IntegerLiteral, \"2\"),\n                new Token(TokenType.Minus, \"\"),\n                new Token(TokenType.IntegerLiteral, \"3\"),\n            };\n\n            int consumed = ParseAdditiveExpression(tokens, out INode root);\n        }\n\n        private static int ParseAdditiveExpression(List&lt;Token&gt; block, out INode node)\n        {\n            // &lt;additiveExpr&gt; ::= &lt;multiplicativeExpr&gt; &lt;additiveExprPrime&gt;\n            int consumed = ParseMultiplicataveExpression(block, out INode left);\n            consumed += ParseAdditiveExpressionPrime(GetListSubset(block, consumed), out INode right);\n\n            if (block[1].Type == TokenType.Plus)\n                node = (right == null) ? left : new AdditionNode(left, right);\n            else\n                node = (right == null) ? left : new SubtractionNode(left, right);\n            return consumed;\n        }\n        private static int ParseAdditiveExpressionPrime(List&lt;Token&gt; block, out INode node)\n        {\n            // &lt;additiveExprPrime&gt; ::= \"+\" &lt;multiplicataveExpr&gt; &lt;additiveExprPrime&gt;\n            //                     ::= \"-\" &lt;multiplicativeExpr&gt; &lt;additiveExprPrime&gt;\n            //                     ::= epsilon\n            node = null;\n            if (block.Count == 0)\n                return 0;\n            if (block[0].Type != TokenType.Plus &amp;&amp; block[0].Type != TokenType.Minus)\n                return 0;\n\n            int consumed = 1 + ParseMultiplicataveExpression(GetListSubset(block, 1), out INode left);\n            consumed += ParseAdditiveExpressionPrime(GetListSubset(block, consumed), out INode right);\n\n            if (block[0].Type == TokenType.Plus)\n                node = (right == null) ? left : new AdditionNode(left, right);\n            else\n                node = (right == null) ? left : new SubtractionNode(left, right);\n            return consumed;\n        }\n\n        private static int ParseMultiplicataveExpression(List&lt;Token&gt; block, out INode node)\n        {\n            // &lt;multiplicativeExpr&gt; ::= &lt;castExpr&gt; &lt;multiplicativeExprPrime&gt;\n            // unimplemented; all blocks are `Count == 1` with an integer\n            node = new IntegerLiteralNode(block[0].Value);\n            return 1;\n        }\n\n        private static List&lt;T&gt; GetListSubset&lt;T&gt;(List&lt;T&gt; list, int start)\n        {\n            return list.GetRange(start, list.Count - start);\n        }\n    }\n}\n</code></pre>\n\n<p>As for the definition of <code>AdditionNode</code>, <code>SubtractionNode</code>, and <code>MultiplicationNode</code>, they are all the same and only serve semantic purposes. For brevity, here's just <code>AdditionNode</code>:</p>\n\n<pre><code>namespace Phi\n{\n    public class AdditionNode : INode\n    {\n        public AdditionNode(INode left, INode right)\n        {\n            Left = left;\n            Right = right;\n        }\n\n        public INode Left { get; }\n        public INode Right { get; }\n\n        // Print and GetNodeType have been removed as they aren't relevant\n    }\n}\n</code></pre>\n\n<p>As for my problem, when I run <code>Phi.Program</code>, as said at the beginning, it is parsing with the wrong associativity. Here is <code>root</code> after <code>ParseAdditiveExpression</code> completes:</p>\n\n<p><img src=\"https://i.stack.imgur.com/IaB9f.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/AxBnK.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/z3MAe.png\" alt=\"enter image description here\"></p>\n\n<p>As you can see, it groups the <code>2</code> with the <code>3</code>, not the <code>1</code>. Why is it doing this?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1528928026, "post_id": 50846674, "comment_id": 88697549, "body": "<code>Pay attention only to double spaces</code> There is a triple space after love. Why was it changed to a single space?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 2, "creation_date": 1528928115, "post_id": 50846674, "comment_id": 88697578, "body": "Can you talk us through why <code>input = input.Replace(&quot;  &quot;, &quot; &quot;);</code> (the first parameter being two spaces, the second being one) won&#39;t work?"}], "answers": [{"comments": [{"owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 0, "creation_date": 1528928410, "post_id": 50846940, "comment_id": 88697650, "body": "The OP said &quot;Pay attention only to double spaces, we are not focusing on triple and more spaces in this task&quot; - all of your solutions will reduce triple spaces too as far as I can see..."}, {"owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "reply_to_user": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 2, "creation_date": 1528928454, "post_id": 50846940, "comment_id": 88697661, "body": "@Chris I know.  OP is conflicted."}], "tags": [], "owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "is_accepted": false, "score": 1, "last_activity_date": 1528928568, "last_edit_date": 1528928568, "creation_date": 1528927465, "answer_id": 50846940, "question_id": 50846674, "link": "https://stackoverflow.com/questions/50846674/program-that-removes-extra-spaces-from-input-and-displays-correctly-spaced-outpu/50846940#50846940", "title": "Program that removes extra spaces from input and displays correctly spaced output", "body": "<p>Can you use regex? </p>\n\n<pre><code>string spaces = \"i do    not \";\nstring singleSpace = Regex.Replace(spaces.Trim(), @\"\\s+\", \" \");\nDebug.WriteLine(singleSpace);\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>singleSpace = string.Join(\" \", spaces.Split(new char[] {' '}), StringSplitOptions.RemoveEmptyEntries);\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>while (spaces.Contains(\"  \"))\n    spaces = spaces.Replace(\"  \", \" \");\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 5485131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/155ff1d1812238c053cd0bb8ce12a12d?s=128&d=identicon&r=PG&f=1", "display_name": "noobie", "link": "https://stackoverflow.com/users/5485131/noobie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1528928568, "creation_date": 1528926019, "last_edit_date": 1528928194, "question_id": 50846674, "link": "https://stackoverflow.com/questions/50846674/program-that-removes-extra-spaces-from-input-and-displays-correctly-spaced-outpu", "title": "Program that removes extra spaces from input and displays correctly spaced output", "body": "<p>Write a program that removes all double spaces in the string. It should read a string from the console and store it in the variable input. You should declare input using var. Pay attention only to double spaces, we are not focusing on triple and more spaces in this task.\nFor example, if the input is <code>I love  computer  science</code></p>\n\n<p>the output should be\n    <code>I love computer science</code>.</p>\n\n<p>this is what i have so far:</p>\n\n<pre><code>using System;\n\nnamespace LearningVar\n{\n    class DoubleSpaces\n    {\n        static void Main(string[] args)\n        {\n            var input = Console.ReadLine();\n            for (var i = 0; i &lt; input.Length; ++i){\n                if (input[i] != ' ')\n                Console.Write(input[i]);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>i can't get the words to space correctly. please and thank you!</p>\n"}, {"tags": ["c#", "generics", "reflection", "interface", "casting"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 4, "creation_date": 1528925857, "post_id": 50846612, "comment_id": 88696800, "body": "Casting is inherently a compile-time operation.  Casting to a type only known at runtime makes no sense.  You can&#39;t call your method if its types are not known at compile-time."}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 1, "creation_date": 1528925934, "post_id": 50846612, "comment_id": 88696830, "body": "The approach here seems wildly off-course.  Instead of asking for a specific solution, can you please describe the specific <i>concrete</i> problem that you are trying to solve?"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1528926546, "post_id": 50846612, "comment_id": 88697070, "body": "You can use Reflection or covariance, depending on your scenario."}, {"owner": {"reputation": 313, "user_id": 8986802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5195b5bae16c192588f346fa7b8ac4eb?s=128&d=identicon&r=PG&f=1", "display_name": "Bit Racketeer", "link": "https://stackoverflow.com/users/8986802/bit-racketeer"}, "reply_to_user": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1528971138, "post_id": 50846612, "comment_id": 88712619, "body": "@DavidL have updated the original question.  Please bear with my ignorance ... trying to learn a new area."}, {"owner": {"reputation": 313, "user_id": 8986802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5195b5bae16c192588f346fa7b8ac4eb?s=128&d=identicon&r=PG&f=1", "display_name": "Bit Racketeer", "link": "https://stackoverflow.com/users/8986802/bit-racketeer"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1528971309, "post_id": 50846612, "comment_id": 88712737, "body": "@SLaks - I do quite a lot of casting between types not known at compile-time.  e.g. List&lt;IParent&gt; members to their IChild interface.  e.g. List&lt;IAnimal&gt; can contain elemenst that have sub-interfaces ICat and IDog but these are only known at run-time."}, {"owner": {"reputation": 313, "user_id": 8986802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5195b5bae16c192588f346fa7b8ac4eb?s=128&d=identicon&r=PG&f=1", "display_name": "Bit Racketeer", "link": "https://stackoverflow.com/users/8986802/bit-racketeer"}, "edited": false, "score": 0, "creation_date": 1528973266, "post_id": 50846612, "comment_id": 88713893, "body": "This is a similar question but doesn&#39;t answer the problem.   <a href=\"http://stackoverflow.com/questions/1363894/how-to-serialize-idictionary\" title=\"how to serialize idictionary\">stackoverflow.com/questions/1363894/&hellip;</a>"}, {"owner": {"reputation": 313, "user_id": 8986802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5195b5bae16c192588f346fa7b8ac4eb?s=128&d=identicon&r=PG&f=1", "display_name": "Bit Racketeer", "link": "https://stackoverflow.com/users/8986802/bit-racketeer"}, "edited": false, "score": 0, "creation_date": 1528973386, "post_id": 50846612, "comment_id": 88713956, "body": "And this looks interesting   <a href=\"http://matt.berther.io/2004/06/14/serializing-an-idictionary-object/\" rel=\"nofollow noreferrer\">matt.berther.io/2004/06/14/serializing-an-idictionary-object</a>"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1528984962, "post_id": 50846612, "comment_id": 88721287, "body": "@BitRacketeer: But you can only cast <i>to</i> a type specified at compile-time."}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 1, "creation_date": 1528984970, "post_id": 50846612, "comment_id": 88721296, "body": "You need Reflection.  Lots of it."}, {"owner": {"reputation": 15800, "user_id": 1274314, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/gSYsp.jpg?s=128&g=1", "display_name": "TypeIA", "link": "https://stackoverflow.com/users/1274314/typeia"}, "edited": false, "score": 1, "creation_date": 1528986566, "post_id": 50846612, "comment_id": 88722328, "body": "You can definitely access the items in a dictionary via the non-generic <code>IDictionary</code> interface by using its <a href=\"https://msdn.microsoft.com/en-us/library/system.collections.idictionary.item(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>Item[object]</code> property</a>. What you&#39;re getting out is the same object, whether it comes from <code>IDictionary.Item[]</code> or <code>IDictionary&lt;TKey, TValue&gt;.Item[]</code>. The only difference is the <i>static type</i> of the object, and you need to forget about static typing and casts since those are strictly compile-time concepts and do not apply to what you&#39;re doing at runtime."}, {"owner": {"reputation": 313, "user_id": 8986802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5195b5bae16c192588f346fa7b8ac4eb?s=128&d=identicon&r=PG&f=1", "display_name": "Bit Racketeer", "link": "https://stackoverflow.com/users/8986802/bit-racketeer"}, "edited": false, "score": 0, "creation_date": 1529081336, "post_id": 50846612, "comment_id": 88761606, "body": "I am investigating and will advise in due course.  I appreciate that people have been constructive here, while I continue to explore this field.  Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 15800, "user_id": 1274314, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/gSYsp.jpg?s=128&g=1", "display_name": "TypeIA", "link": "https://stackoverflow.com/users/1274314/typeia"}, "is_accepted": false, "score": 1, "last_activity_date": 1528926718, "last_edit_date": 1528926718, "creation_date": 1528926105, "answer_id": 50846690, "question_id": 50846612, "link": "https://stackoverflow.com/questions/50846612/cast-a-less-specified-interface-iinterface-to-a-more-specified-iinterfacetkey-t/50846690#50846690", "title": "Cast a less specified interface IInterface to a more specified IInterface&lt;TKey,TValue&gt;?", "body": "<p>@SLaks points out in the comments:</p>\n\n<blockquote>\n  <p>Casting is inherently a compile-time operation. Casting to a type only known at runtime makes no sense. You can't call your method if its types are not known at compile-time.</p>\n</blockquote>\n\n<p>That's absolutely right. You can, of course, still call the intended method at runtime, but you'll need to use (more) reflection to do it, since you have no way to get the compiler to generate a statically-typed call.</p>\n\n<p>To do this, take the <code>Type</code> object you already constructed using <code>MakeGenericType()</code>, and call <a href=\"https://msdn.microsoft.com/en-us/library/system.type.getmethod(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>GetMethod()</code></a> on it to get the <code>Type.MethodInfo</code> object corresponding to the method to call. Then, call <a href=\"https://msdn.microsoft.com/en-us/library/a89hcwhh(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>MethodInfo.Invoke()</code></a>.</p>\n\n<pre><code>Type dictType = typeof(SerializableDictionary&lt;,&gt;).MakeGenericType(keyType, valueType);\n\nMethodInfo method = dictType.GetMethod(\"MyMethod\");\nobject returnValue = method.Invoke(dictionary, new object[] { /* arguments */ });\n</code></pre>\n\n<hr>\n\n<h3>TMI...</h3>\n\n<p>When you write <code>dictionary.MyMethod()</code>, the C# compiler generates a <a href=\"https://msdn.microsoft.com/en-us/library/system.reflection.emit.opcodes.callvirt(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>Callvirt</code></a> IL (byte code) instruction. The object to call the method on (and the arguments to the method) are pushed onto the stack, and the argument to <code>Callvirt</code> is the metadata token corresponding to the type-qualified <code>ISerializableDictionary&lt;TKey,TValue&gt;.MyMethod</code> method. This is the normal calling mechanism in .NET. When you (and the compiler) don't know what <code>TKey</code> and <code>TValue</code> are at compile time, there's no way to get the right metadata token for the method, and no way to generate the <code>Callvirt</code>. That's why you have to use the reflection API.</p>\n\n<p>You can, however, use something like <a href=\"https://msdn.microsoft.com/en-us/library/system.reflection.emit.dynamicmethod(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>DynamicMethod</code></a> to <em>generate your own IL</em> and JIT it at runtime. Once JITted, the call is just as fast as one statically generated by the compiler. There is of course significant overhead to generating a dynamic method, but it's a one-time overhead.</p>\n\n<p>Of course, @DavidL points out:</p>\n\n<blockquote>\n  <p>The approach here seems wildly off-course. Instead of asking for a specific solution, can you please describe the specific concrete problem that you are trying to solve?</p>\n</blockquote>\n\n<p>That, too, is absolutely right. So <strong>don't do what I just suggested</strong> unless you really, really know what you're doing and have a really, really good reason. (Hint: You don't.) But I thought this information might give you a better overall picture of why you can't do what you expected to do.</p>\n"}], "owner": {"reputation": 313, "user_id": 8986802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5195b5bae16c192588f346fa7b8ac4eb?s=128&d=identicon&r=PG&f=1", "display_name": "Bit Racketeer", "link": "https://stackoverflow.com/users/8986802/bit-racketeer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528974764, "creation_date": 1528925666, "last_edit_date": 1528974764, "question_id": 50846612, "link": "https://stackoverflow.com/questions/50846612/cast-a-less-specified-interface-iinterface-to-a-more-specified-iinterfacetkey-t", "title": "Cast a less specified interface IInterface to a more specified IInterface&lt;TKey,TValue&gt;?", "body": "<p>I have two interfaces</p>\n\n<pre><code>public interface ISerializableDictionary { ... }\npublic interface ISerializableDictionary&lt;TKey,TValue&gt;\n    : ISerializableDictionary { ... }\n</code></pre>\n\n<p>I need to cast from the former to the latter at run time using reflection.</p>\n\n<p>It's clearly easy to interrogate the former with <code>GetType().GetGenericArguments</code>.</p>\n\n<p>But how do I then do the cast?  I have this code below but it is failing to compile, for the obvious reason that I am trying to use a variable as a type.</p>\n\n<pre><code>Type[] genericTypes = dictionary.GetType().GenericTypeArguments;\nType keyType = genericTypes[0];\nType valueType = genericTypes[1];\n\n// this compiles but doesn't do the cast\nType dictType = typeof(SerializableDictionary&lt;,&gt;).MakeGenericType(keyType, valueType);\nvar createdDictionary = Activator.CreateInstance(dictType);\n\n// this is the line that won't compile - 'dictionary' is a SerializableDictionary, and I want to access it through its typed generic interface\nISerializableDictionary&lt;keyType,valueType&gt; serializableDictionary = dictionary as ISerializableDictionary&lt;keyType, valueType&gt;;\n</code></pre>\n\n<p>The more specified interface has a method which I need to call.  The less specified interface does not (and can't ever be, because the call needs a typed argument).</p>\n\n<p>Is the solution something to do with <code>dictionary.GetType().GetInterfaces()</code>?</p>\n\n<p>Any steer will be wildly appreciated.  Programming solo at the moment so I don't have a team to call on, hence the query here.</p>\n\n<hr>\n\n<p><strong>UPDATE - in response to comments</strong></p>\n\n<p>The problem I am trying to solve is how to serialize members of an object where the members are themselves enumerable.  I am trying to figure out how serialization libraries do it as a learning exercise and because I have a few ideas that I want to explore.  Serialization &amp; Reflection are not my main areas of programming so I am stumbling to learn them.</p>\n\n<p>So I have (as reduced code):</p>\n\n<pre><code>public class ExperimentalSerializer&lt;T&gt;\n{\n\n    public void Serialize(T objectToSerialize)\n    {\n\n        IEnumerable&lt;object&gt; collectionsToSerializeToCSV = objectToSerialize.GetEnumerableMembers();\n        foreach (object collectionToSerialize in collectionsToSerializeToCSV)\n        {\n\n            string csvString      = \"\";\n            if (collectionToSerialize.IsDictionary())\n            {\n                // serialize dictionary here to csvString\n                // but cannot properly access contents through just IDictionary\n                // need IDictionary&lt;TKey,TValue&gt;\n                // ** ALSO SEE TEXT BELOW THIS CODE SNIPPET**\n            }\n            else if (collectionToSerialize.IsList())\n            {\n                // serialize list here to csvString\n            }\n            else if (collectionToSerialize.GetType().IsArray)\n            {\n                // serialize array here to csvString\n            }\n\n            // save csvString to somewhere useful here\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>And elsewhere I have an extension method:</p>\n\n<pre><code>public static IEnumerable&lt;object&gt; GetEnumerableMembers(this object objectToInterrogate)\n{\n    Type                      objectType               = objectToInterrogate.GetType();\n\n    // get the enumerable properties\n    PropertyInfo[]            properties               = objectType.GetProperties(BindingFlags.Instance | BindingFlags.Public);\n    IEnumerable&lt;PropertyInfo&gt; enumerableProperties     = properties.Where(propertInfo =&gt; propertInfo.PropertyType.GetInterfaces().Any(x =&gt; x == typeof(IEnumerable)));\n    IEnumerable&lt;PropertyInfo&gt; serializableProperties   = enumerableProperties.Where(p =&gt; p.IsSerializable());\n    IEnumerable&lt;object&gt;       enumerablePropertyValues = serializableProperties.Select(p =&gt; p.GetValue(objectToInterrogate, null));\n\n    // get the enumerable fields\n    FieldInfo[]               fields                   = objectType.GetFields(BindingFlags.Instance | BindingFlags.Public);\n    IEnumerable&lt;FieldInfo&gt;    enumerablefields         = fields.Where(propertInfo =&gt; propertInfo.FieldType.GetInterfaces().Any(x =&gt; x == typeof(IEnumerable)));\n    IEnumerable&lt;object&gt;       enumerablefieldValues    = enumerablefields.Select(f =&gt; f.GetValue(objectToInterrogate));\n\n    // merge the two lists together\n    IEnumerable&lt;object&gt;       enumerableMembers        = enumerablePropertyValues.Union(enumerablefieldValues);\n    return enumerableMembers.ToList();\n}\n</code></pre>\n\n<p>One specific challenge I am investigating is how to serialize an enumerable (<code>Dictionary</code>, <code>List</code> or array <code>TValue[]</code>) where <code>TValue</code> is itself a complex type (e.g. a class that can be serialized).  This cannot be ascertained without knowing the type of <code>TValue</code>, but this cannot be retrieved from <code>IDictionary</code> or <code>IList</code> alone and these can only be enumerated with the type <code>object</code>.</p>\n\n<p>This is the very specific point I am trying to investigate and potentially to control: how to determine <code>TValue</code> and then to work out if/how to serialize it in turn.  My idea is to cast to more-specified generics with known type parameters but I get a bit lost at this point.</p>\n\n<p>Hope this helps.</p>\n"}, {"tags": ["c#", ".net", "asp.net-mvc", "url-routing", "asp.net-mvc-routing"], "answers": [{"tags": [], "owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "is_accepted": false, "score": 0, "last_activity_date": 1528926887, "last_edit_date": 1528926887, "creation_date": 1528926579, "answer_id": 50846792, "question_id": 50846552, "link": "https://stackoverflow.com/questions/50846552/c-asp-net-mvc-parameter-only-action-request/50846792#50846792", "title": "C# Asp.Net MVC - Parameter Only Action Request", "body": "<p>This is how I would do it. Register a route that matches any string after the root slash.</p>\n\n<p>Note that this severely limits the routes you can use for the application since not everything matching <code>/{id}</code> may actually be a user ID, which is why applications will typically prefix the route with <code>/profile</code> or <code>/p</code>.</p>\n\n<pre><code>public static void RegisterRoutes(RouteCollection routes)\n{\n    routes.MapRoute(\n        name: \"UserIdRoute\",\n        url: \"{id}\",\n        defaults: new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n    );\n\n    routes.MapRoute(\n        name: \"Default\",\n        url: \"{controller}/{action}/{id}\",\n        defaults: new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n    );\n}\n\npublic ActionResult Index(string id)\n{\n    //Get users profile from the database using the id\n    var viewModel = _userProfileService.Get(id);\n\n    return View();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 1, "last_activity_date": 1528928180, "creation_date": 1528928180, "answer_id": 50847056, "question_id": 50846552, "link": "https://stackoverflow.com/questions/50846552/c-asp-net-mvc-parameter-only-action-request/50847056#50847056", "title": "C# Asp.Net MVC - Parameter Only Action Request", "body": "<p>This is a little tricky as you want the friendly URL in the root of the site while not conflicting with any other routes.</p>\n\n<p>That would mean that if you have any other routes like About or Contact you would need to make sure that are in the route table before the friendly route to avoid route conflicts.</p>\n\n<pre><code>public class RouteConfig\n{\n    public static void RegisterRoutes(RouteCollection routes)\n    {\n        routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n        //Required for the route prefix attributes to work!\n        routes.MapMvcAttributeRoutes();\n\n        routes.MapRoute(\n            \"ProfileUrlIndexActionRemoval\",\n            \"Profile/{id}\",\n            new { controller = \"Profile\", action = \"Index\" }\n        );\n\n        routes.MapRoute(\n            name: \"Home\",\n            url: \"Home/{action}/{id}\",\n            defaults: new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n        );\n\n        routes.MapRoute(\n            name: \"About\",\n            url: \"About/{action}/{id}\",\n            defaults: new { controller = \"About\", action = \"Index\", id = UrlParameter.Optional }\n        );\n\n        routes.MapRoute(\n            name: \"Contact\",\n            url: \"Contact/{action}/{id}\",\n            defaults: new { controller = \"Contact\", action = \"Index\", id = UrlParameter.Optional }\n        );\n\n        routes.MapRoute(\n            \"Default_Frieldly\",\n            \"{*id}\",\n            new { controller = \"Profile\", action = \"Index\" }\n        );\n    }\n}\n</code></pre>\n\n<p>And finally because the default route will capture all unmatched routes, you will need to take not found profiles into account.</p>\n\n<pre><code>public class ProfileController : Controller {\n\n    //...code removed for brevity\n\n    public ActionResult Index(string id) {\n        //Get users profile from the database using the id\n        var viewModel = _userProfileService.Get(id);\n\n        if(viewModel == null) {\n            return NotFound();\n        }\n\n        return View(viewModel);\n    }\n}\n</code></pre>\n\n<p>By having the profile controller prefix in the original URL it made it unique so as to avoid route conflicts, but in wanting the root friendly URL, while not impossible, you see the hoops needed to jump through in order to get the desired behavior.</p>\n"}], "owner": {"reputation": 12626, "user_id": 99900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/28605f3cdac93bdb9a4c11e3c41612bf?s=128&d=identicon&r=PG", "display_name": "Goober", "link": "https://stackoverflow.com/users/99900/goober"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "closed_date": 1528929706, "accepted_answer_id": 50847056, "answer_count": 2, "score": 0, "last_activity_date": 1528928180, "creation_date": 1528925351, "last_edit_date": 1528926443, "question_id": 50846552, "link": "https://stackoverflow.com/questions/50846552/c-asp-net-mvc-parameter-only-action-request", "closed_reason": "Duplicate", "title": "C# Asp.Net MVC - Parameter Only Action Request", "body": "<p>I have an Asp.Net MVC project whereby we allow our users to have public profiles.</p>\n\n<p>I would like to improve the url, so that it is more friendly, and shorter.</p>\n\n<p>The existing code is as follows - </p>\n\n<pre><code>public class ProfileController : Controller\n    {\n        private readonly IUserProfileService _userProfileService;\n\n        public ProfileController(IUserProfileService userProfileService)\n        {\n            this._userProfileService = userProfileService;\n        }\n\n        public ActionResult Index(string id)\n        {\n            //Get users profile from the database using the id\n            var viewModel = _userProfileService.Get(id);\n\n            return View(viewModel);\n        }\n    }\n\n\npublic class RouteConfig\n{\n    public static void RegisterRoutes(RouteCollection routes)\n    {\n        routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n        //Required for the route prefix attributes to work!\n        routes.MapMvcAttributeRoutes();\n\n        routes.MapRoute(\n            \"ProfileUrlIndexActionRemoval\",\n            \"Profile/{id}\",\n            new { controller = \"Profile\", action = \"Index\" }\n        );\n\n        routes.MapRoute(\n            name: \"Default\",\n            url: \"{controller}/{action}/{id}\",\n            defaults: new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n        );\n    }\n}\n</code></pre>\n\n<p>The aforementioned code allows the following url to work (based on the default MVC routing) - <strong>www.mydomain.com/profile/john-doe</strong></p>\n\n<p>What routing do I need to implement, in order to allow the following url to work instead - <strong>www.mydomain.com/john-doe</strong></p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "visual-studio", "xaml"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1528925442, "post_id": 50846550, "comment_id": 88696626, "body": "I don&#39;t see anything; could any code-behind be overwriting it?"}, {"owner": {"reputation": 383, "user_id": 4236808, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/52edabfdaaea90bb02b9b97bfb7f0d74?s=128&d=identicon&r=PG&f=1", "display_name": "user180708", "link": "https://stackoverflow.com/users/4236808/user180708"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1528926145, "post_id": 50846550, "comment_id": 88696921, "body": "@BradleyDotNET BLESS! A method that someone else wrote was resetting it to be a blank string each time."}], "owner": {"reputation": 383, "user_id": 4236808, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/52edabfdaaea90bb02b9b97bfb7f0d74?s=128&d=identicon&r=PG&f=1", "display_name": "user180708", "link": "https://stackoverflow.com/users/4236808/user180708"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528925348, "creation_date": 1528925348, "question_id": 50846550, "link": "https://stackoverflow.com/questions/50846550/text-not-showing-in-textbox", "title": "Text not showing in Textbox", "body": "<p>I've been stuck on this question for a while, the text in textbox shows in the visualiser but not when I run the program. Can anyone please help me?</p>\n\n<pre><code> &lt;TextBox x:Name=\"SearchKey\" Text =\"hello\"  BorderThickness=\"0\" Width=\"Auto\" Background=\"White\" Margin=\"21.724,4,20.999,4\"&gt;\n      &lt;TextBox.InputBindings&gt;\n        &lt;KeyBinding Key=\"Enter\"\n            Command=\"{Binding SearchTemplatesCommand, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type local:EmailComposerWindow}}}\"\n            CommandParameter=\"{Binding Text, ElementName=SearchKey}\"\n         /&gt;\n      &lt;KeyBinding Key=\"Esc\"\n       Command=\"{Binding ResetSearchCommand, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type local:EmailComposerWindow}}}\"\n         /&gt;\n      &lt;/TextBox.InputBindings&gt;\n  &lt;/TextBox&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/QRAYy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QRAYy.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", ".net", "caching"], "comments": [{"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1528924713, "post_id": 50846409, "comment_id": 88696355, "body": "What do you mean by auto async cache refresh?  Regardless, asking for tooling suggestions is off-topic for StackOverflow."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1528929296, "post_id": 50846409, "comment_id": 88697880, "body": "What kind of app are you building? Web or something else?"}, {"owner": {"reputation": 811, "user_id": 1043419, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b73ae2eef8c8547d34ce21b3f1954d83?s=128&d=identicon&r=PG", "display_name": "mathiasbn", "link": "https://stackoverflow.com/users/1043419/mathiasbn"}, "edited": false, "score": 0, "creation_date": 1529405038, "post_id": 50846409, "comment_id": 88851956, "body": "The app kind should be unimportant. I&#39;m looking for some standalone code, not something part of a bigger framework"}], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 312302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f865e72614c7c0fe31b96bd6bc4e2b8f?s=128&d=identicon&r=PG", "display_name": "Drazen Patekar", "link": "https://stackoverflow.com/users/312302/drazen-patekar"}, "is_accepted": false, "score": 0, "last_activity_date": 1617792562, "creation_date": 1617792562, "answer_id": 66984546, "question_id": 50846409, "link": "https://stackoverflow.com/questions/50846409/net-cache-lib-with-auto-async-cache-refresh/66984546#66984546", "title": ".net cache lib with auto async cache refresh", "body": "<p>Take a look at <a href=\"https://github.com/dpatekar/CacheAnt\" rel=\"nofollow noreferrer\">https://github.com/dpatekar/CacheAnt</a>\nIt refreshes your cache in the background at specified intervals and you always retrieve the last stored version.</p>\n"}], "owner": {"reputation": 811, "user_id": 1043419, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b73ae2eef8c8547d34ce21b3f1954d83?s=128&d=identicon&r=PG", "display_name": "mathiasbn", "link": "https://stackoverflow.com/users/1043419/mathiasbn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1617792562, "creation_date": 1528924633, "last_edit_date": 1529091339, "question_id": 50846409, "link": "https://stackoverflow.com/questions/50846409/net-cache-lib-with-auto-async-cache-refresh", "title": ".net cache lib with auto async cache refresh", "body": "<p><strong>Context</strong></p>\n\n<p>I have en application which have some heavy calculations and data queries.</p>\n\n<p>To avoid having every user wait for the same results i use men cache</p>\n\n<p><strong>The problem</strong></p>\n\n<p>This is fine and all, but when the cache timeout occurs, the unlucky user pays the penalty of refreshing the. Ie waiting for result before carrying on</p>\n\n<p><strong>the Question</strong></p>\n\n<p>I would like there to be an additional timeout that says. I'll give you the cache value, but I will start refreshing the cache in another thread. </p>\n\n<p>You could say: <em>automatic async cache refresh</em></p>\n\n<p>How would one solve this? It sounds difficult to get right. </p>\n\n<p><em>original question too tooling specific, kept for completeness</em></p>\n\n<blockquote>\n  <p>I have been looking for a Long time after an.net equivalent caching\n  library to caffeine in the java world. </p>\n  \n  <p>I've found lacycache, which is fine</p>\n  \n  <p><em>But the number one missing feature is:</em></p>\n  \n  <p><strong>auto async cache refresh</strong></p>\n  \n  <p>The point is to minimize the amount of times a user waits on cache\n  refresh.</p>\n  \n  <p>Is there any lib solving that?</p>\n</blockquote>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 1, "creation_date": 1528924837, "post_id": 50846396, "comment_id": 88696401, "body": "If A, B, and C are derived from Character you&#39;re going to run into issues with C# being singly dispatched. You&#39;re likely looking at an implementation of the Visitor pattern to accomplish what you want."}, {"owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 0, "creation_date": 1528925142, "post_id": 50846396, "comment_id": 88696510, "body": "Makes no sense to me to put instructions for all 3 classes in A."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 5, "creation_date": 1528926729, "post_id": 50846396, "comment_id": 88697141, "body": "I wrote a series of articles about this problem; you will probably find it interesting. <a href=\"https://ericlippert.com/2015/04/27/wizards-and-warriors-part-one/\" rel=\"nofollow noreferrer\">ericlippert.com/2015/04/27/wizards-and-warriors-part-one</a>. (Read the whole thing; your specific problem starts in part 3.)  Jonathon Chase&#39;s comment is correct; the problem you are running into is that C# is single dispatched.  My belief is that you should not attempt to represent game rules <i>in the type system</i> in the first place!  Make a class that represents <i>game rules</i> and put the rules in <i>that</i>."}], "answers": [{"comments": [{"owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 0, "creation_date": 1528929163, "post_id": 50846547, "comment_id": 88697840, "body": "Every class would need to overide all."}, {"owner": {"reputation": 1, "user_id": 9938480, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Dq-IUbV5LmE/AAAAAAAAAAI/AAAAAAAAAKY/WlyKYQnrVRI/photo.jpg?sz=128", "display_name": "Bodo Baumstamm", "link": "https://stackoverflow.com/users/9938480/bodo-baumstamm"}, "reply_to_user": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 0, "creation_date": 1529076530, "post_id": 50846547, "comment_id": 88759278, "body": "@paparazzo i thought thats what he wanted. every charackter has a function for each other charackter"}, {"owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 0, "creation_date": 1529076941, "post_id": 50846547, "comment_id": 88759515, "body": "Why would you need 3 classes if the all do every thing?  Was not my down vote."}], "tags": [], "owner": {"reputation": 1, "user_id": 9938480, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Dq-IUbV5LmE/AAAAAAAAAAI/AAAAAAAAAKY/WlyKYQnrVRI/photo.jpg?sz=128", "display_name": "Bodo Baumstamm", "link": "https://stackoverflow.com/users/9938480/bodo-baumstamm"}, "is_accepted": false, "score": -1, "last_activity_date": 1528925339, "creation_date": 1528925339, "answer_id": 50846547, "question_id": 50846396, "link": "https://stackoverflow.com/questions/50846396/how-do-you-change-the-type-of-an-inherited-method/50846547#50846547", "title": "How do you change the type of an inherited method?", "body": "<p>Since you know that you are only having 3 different types why dont you just create 3 abstract methods for each type in your Charackter class?</p>\n\n<pre><code>    public abstract class Character\n        {\n            public abstract void Attack(A a);\n            public abstract void Attack(B a);\n            public abstract void Attack(C a);\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1528926433, "last_edit_date": 1528926433, "creation_date": 1528925822, "answer_id": 50846636, "question_id": 50846396, "link": "https://stackoverflow.com/questions/50846396/how-do-you-change-the-type-of-an-inherited-method/50846636#50846636", "title": "How do you change the type of an inherited method?", "body": "<p>You can implement this dispatch with a little \"magic\" from <code>dynamic</code>:</p>\n\n<pre><code>abstract class Character {\n    public void Attack(Character c) {\n        ((dynamic)this).DoAttack((dynamic)c);\n    }\n}\nclass A : Character {\n    public void DoAttack(A a) { Console.WriteLine(\"A attacks A\"); }\n    public void DoAttack(B b) { Console.WriteLine(\"A attacks B\"); }\n    public void DoAttack(C c) { Console.WriteLine(\"A attacks C\"); }\n}\nclass B : Character {\n    public void DoAttack(A a) { Console.WriteLine(\"B attacks A\"); }\n    public void DoAttack(B b) { Console.WriteLine(\"B attacks B\"); }\n    public void DoAttack(C c) { Console.WriteLine(\"B attacks C\"); }\n}\nclass C : Character {\n    public void DoAttack(A a) { Console.WriteLine(\"C attacks A\"); }\n    public void DoAttack(B b) { Console.WriteLine(\"C attacks B\"); }\n    public void DoAttack(C c) { Console.WriteLine(\"C attacks C\"); }\n}\n</code></pre>\n\n<p>Note the cast of both <code>this</code> and <code>c</code> to <code>dynamic</code>, this is what lets the runtime locate the relevant <code>DoAttack</code> override without relying on inheritance structure.</p>\n\n<p><a href=\"https://ideone.com/7uHExr\" rel=\"nofollow noreferrer\">Demo.</a></p>\n\n<p>An advantage of this approach is that you can add new implementations as you wish: the rest of the code will continue to work, as long as attacks are limited to pairs of objects of \"valid\" types.</p>\n\n<p>A disadvantage of this approach is that it is not statically typed, meaning that it would compile even in the absence of a method that handles the desired interaction. You can mitigate this problem by providing a \"default\" implementation of <code>DoAttack(Character c)</code> in the <code>Character</code> class itself.</p>\n"}, {"tags": [], "owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "is_accepted": false, "score": 1, "last_activity_date": 1528930767, "last_edit_date": 1528930767, "creation_date": 1528926236, "answer_id": 50846723, "question_id": 50846396, "link": "https://stackoverflow.com/questions/50846396/how-do-you-change-the-type-of-an-inherited-method/50846723#50846723", "title": "How do you change the type of an inherited method?", "body": "<p>If you want to avoid the dynamic dispatch solution dasblinkenlight has presented, you could go about this by implementing the Visitor pattern. We need to add a new method to your abstract class.</p>\n\n<pre><code>public abstract class Character\n{\n    public int HP {get;set;}\n    public abstract void Attack(Character t);\n    public abstract void Accept(ICharacterVisitor visitor);\n}\n</code></pre>\n\n<p>As well as create our ICharacterVisitor interface.</p>\n\n<pre><code>public interface ICharacterVisitor {\n    void Visit(A a);\n    void Visit(B b);\n    void Visit(C c);\n}\n</code></pre>\n\n<p>Lets go ahead and define some rules for attacking as character A in the terms of the ICharacterVisitor.</p>\n\n<pre><code>public class AttackVisitorA : ICharacterVisitor\n{\n    private int _baseDamage;\n    public AttackVisitorA(int baseDamage){\n        _baseDamage = baseDamage;\n    }\n    public void Visit(A a)\n    {\n        // A does normal damage to A.\n        a.HP -= _baseDamage;\n    }\n\n    public void Visit(B b)\n    {\n        // A does double damage to B.\n        b.HP -= (_baseDamage * 2);\n    }\n\n    public void Visit(C c)\n    {\n        // A does half damage to C.\n        c.HP -= (_baseDamage / 2);\n    }\n}\n</code></pre>\n\n<p>Now we can implement our A, B, and C characters. I've left the implementation of Attack on B and C as an exercise to the reader.</p>\n\n<pre><code>public class A : Character\n{\n    public override void Accept(ICharacterVisitor visitor)\n    {\n        visitor.Visit(this);\n    }\n\n    public override void Attack(Character t)\n    {\n        var damage = 15;\n        t.Accept(new AttackVisitorA(damage));\n    }\n}\n\npublic class B : Character\n{\n    public override void Accept(ICharacterVisitor visitor)\n    {\n        visitor.Visit(this);\n    }\n\n    public override void Attack(Character t)\n    {\n        throw new NotImplementedException();\n    }\n}\n\npublic class C : Character\n{\n    public override void Accept(ICharacterVisitor visitor)\n    {\n        visitor.Visit(this);\n    }\n\n    public override void Attack(Character t)\n    {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n\n<p>Now, we can conduct attacks from characters on other characters fairly simply:</p>\n\n<pre><code>void Main()\n{\n    var a = new A { HP = 100 };\n    var b = new B { HP = 100 };\n    var c = new C { HP = 100 };\n    a.Attack(a); // stop hitting yourself\n    a.Attack(b);\n    a.Attack(c);\n    Console.WriteLine(a.HP); // 85\n    Console.WriteLine(b.HP); // 70\n    Console.WriteLine(c.HP); // 93\n}\n</code></pre>\n\n<p>The logic is effectively decoupled from your object hierarchy. You can implement a DefaultAttackVisitor that goes through standard rules, or have an AttackVisitor for each character type, or perhaps some more complex rules based on weapons or spells. Either way you've ended up with a fairly clean and easily swapped set of logic for resolving attacks between classes.</p>\n\n<p>Implementing visitor over using Dynamic Dispatch will lend you a bit more compile-time type safety. If at some point you were to add a new character type, D, you would be unable to compile without having made sure your visitor implementations were updated to include logic for D as soon as you implement D's Accept method. </p>\n\n<p>With dynamic dispatch, your fall-through method would be hit for any newly added character types if the attacking type doesn't have, for instance, an added <code>Attack(D d)</code> overload.</p>\n\n<p>That said, dynamic dispatch has a much lower implementation overhead, but you give up some compile-time type safety. You'll have to assess which trade-off is more important for your use case.</p>\n"}, {"comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1528927063, "post_id": 50846862, "comment_id": 88697252, "body": "I believe this was the type of implementation the OP was looking to avoid."}, {"owner": {"reputation": 1164, "user_id": 5511981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a54996979da384438cee572eefb40313?s=128&d=identicon&r=PG&f=1", "display_name": "thatguy", "link": "https://stackoverflow.com/users/5511981/thatguy"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1528927430, "post_id": 50846862, "comment_id": 88697370, "body": "@JonathonChase I think from the question, and I could be wrong, that the OP was looking for a way to implement one override per-class that could do different things depending on the class that was being attacked and the attacker. So say if class C attacked B, it would deal 50 damage, but if A attacked B it would only deal 25 and so on. At least that how I interpreted it after reading and seeing the desired type of code from the second example."}], "tags": [], "owner": {"reputation": 1164, "user_id": 5511981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a54996979da384438cee572eefb40313?s=128&d=identicon&r=PG&f=1", "display_name": "thatguy", "link": "https://stackoverflow.com/users/5511981/thatguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1528927013, "creation_date": 1528927013, "answer_id": 50846862, "question_id": 50846396, "link": "https://stackoverflow.com/questions/50846396/how-do-you-change-the-type-of-an-inherited-method/50846862#50846862", "title": "How do you change the type of an inherited method?", "body": "<p>Just use already built into C# <code>typeof()</code> here is some example code. </p>\n\n<pre><code>public class Program\n{\n    public static void Main()\n    {\n        A a = new A();\n        B b = new B();\n\n        a.Attack(b);\n        b.Attack(a);\n        Console.WriteLine(typeof(A));\n        Console.WriteLine(typeof(B));\n\n        Console.WriteLine(typeof(A) == a.GetType());\n        Console.WriteLine(typeof(B) == a.GetType());\n        Console.ReadLine();\n    }\n\n    public abstract class Character\n    {\n        public abstract void Attack(Character c);\n    }\n\n    public class A : Character\n    {\n        public override void Attack(Character t)\n        {\n            if (t.GetType() == typeof(A))\n            {\n                Console.WriteLine(\"A attacked type A\");\n                return;\n            }\n\n            if (t.GetType() == typeof(B))\n            {\n                Console.WriteLine(\"A attacked type B\");\n                return;\n            }\n\n            if (t.GetType() == typeof(C))\n            {\n                Console.WriteLine(\"A attacked type C\");\n                return;\n            }\n\n        }\n    }\n\n    public class B : Character\n    {\n        public override void Attack(Character t)\n        {\n            if (t.GetType() == typeof(A))\n            {\n                Console.WriteLine(\"B attacked type A\");\n                return;\n            }\n\n            if (t.GetType() == typeof(B))\n            {\n                Console.WriteLine(\"B attacked type B\");\n                return;\n            }\n\n            if (t.GetType() == typeof(C))\n            {\n                Console.WriteLine(\"B attacked type C\");\n                return;\n            }\n\n\n        }\n\n    }\n    public class C : Character\n    {\n        public override void Attack(Character t)\n        {\n            if (t.GetType() == typeof(A))\n            {\n                Console.WriteLine(\"C attacked type A\");\n                return;\n            }\n\n            if (t.GetType() == typeof(B))\n            {\n                Console.WriteLine(\"C attacked type B\");\n                return;\n            }\n\n            if (t.GetType() == typeof(C))\n            {\n                Console.WriteLine(\"C attacked type C\");\n                return;\n            }\n\n        }\n    }\n\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 9362371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zjjTJ.png?s=128&g=1", "display_name": "Michelignax", "link": "https://stackoverflow.com/users/9362371/michelignax"}, "is_accepted": true, "score": 0, "last_activity_date": 1529047570, "creation_date": 1529047570, "answer_id": 50870920, "question_id": 50846396, "link": "https://stackoverflow.com/questions/50846396/how-do-you-change-the-type-of-an-inherited-method/50870920#50870920", "title": "How do you change the type of an inherited method?", "body": "<p>All those answers were very interesting, even if some of the concepts went over my head.\nReading them I finally realized that there was no real problem (don't know why I created one but you know...), it's not really good looking but going for the simpliest solution I opted for the following :</p>\n\n<p>I'll just consider the most common procedure and write it as the way to go for all classes that inherit from the abstract class. Then I can specify the methods for those that have a particular way of working the attack. \nSo let's say that when a class A character has the same way of attacking a class A or B character but attacks differently characters of type C. Using polymorphism we just have to do :</p>\n\n<pre><code>public abstract class Character\n{\n    public abstract void Attack(Character t);\n}\n\npublic class A :Character\n{\n        public override void Attack(Character t)\n        {\n         /*instructions for the attacking of a character of type A or B*/\n        }\n\n        public void Attack(C z)\n        {\n         /*instructions for the attacking of a type C character*/\n        }\n}\n</code></pre>\n\n<p>The general method (the one that takes a character parameter) will be use for any character type object (or that inherits from character) except if it's a type C object/character; in this case it will be dispatched to the Attack method that takes a type C object/character as parameter. </p>\n\n<p>And if all tree types are attacked a different way then we can just choose arbitrarily one of them to be implemented following the abstract method signature :</p>\n\n<pre><code>public abstract class Character\n{\n    public abstract void Attack(Character t);\n}\n\npublic class A :Character\n{\n        public override void Attack(Character t)\n        {\n         /*instructions for the attacking of a character of type A*/\n        }\n\n        public void Attack(B y)\n        {\n         /*instructions for the attacking of a type B character*/\n        }\n\n        public void Attack(C z)\n        {\n         /*instructions for the attacking of a type C character*/\n        }\n}\n</code></pre>\n\n<p>Well, I don't know if that's dumbing it down too much but it works. The usage of <code>dynamic</code>, interface or generic types are probably good things but really there was nothing much to do here. </p>\n\n<p>Thanks for the perspectives and please tell me if something isn't right.</p>\n\n<p>To any fellow noob reading that I'd recommand to look at the elegant solution to a close  problem (one that actually exists) presented in the section 3 of an article written by Eric Lippert on his blog that can be found following this link : <a href=\"https://ericlippert.com/2015/04/27/wizards-and-warriors-part-one/\" rel=\"nofollow noreferrer\">https://ericlippert.com/2015/04/27/wizards-and-warriors-part-one/</a></p>\n"}], "owner": {"reputation": 59, "user_id": 9362371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zjjTJ.png?s=128&g=1", "display_name": "Michelignax", "link": "https://stackoverflow.com/users/9362371/michelignax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 1, "accepted_answer_id": 50870920, "answer_count": 5, "score": 3, "last_activity_date": 1529047570, "creation_date": 1528924575, "last_edit_date": 1528952704, "question_id": 50846396, "link": "https://stackoverflow.com/questions/50846396/how-do-you-change-the-type-of-an-inherited-method", "title": "How do you change the type of an inherited method?", "body": "<p>I want to make a game where I have 3 types of characters, each type has a different attack for each other type. I would like to have an abstract class Character with an abstract method (it's a requirement) and 3 classes that inherit the method and then overload it for each type. The problem is that my attack method in my Character class takes a type Character argument and that I have to overwrite it in my sub classes with an empty method which makes the use of that abstract class and method really useless. So what can I do better than :</p>\n\n<pre><code>    public abstract class Character\n    {\n        public abstract void Attack(Character t);\n    }\n\n    public class A :Character\n    {\n            public override void Attack(Character t){}\n\n            public void Attack(A x)\n            {\n             /*instructions*/\n            }\n\n            public void Attack(B y)\n            {\n             /*instructions*/\n            }\n\n            public void Attack(C z)\n            {\n             /*instructions*/\n            }\n    }\n</code></pre>\n\n<p>And so on for class B and C.</p>\n\n<p>I would prefer to avoid that also :</p>\n\n<pre><code>    public abstract class Character\n    {\n        public abstract void Attack(Character c);\n    }\n\n    public class A :Character\n    {\n            public override void Attack(Character t)\n            {\n                A x = t as A\n                if (x != null)\n                {\n                    /*instructions*/\n                }\n\n                B y = t as B\n                if (y != null)\n                {\n                    /*instructions*/\n                }\n\n                C z = t as C\n                if (z != null)\n                {\n                    /*instructions*/\n                }\n            }\n    }\n</code></pre>\n\n<p>I hope my question is clear enough despite my english.</p>\n"}, {"tags": ["c#", ".net", "asp.net-web-api", "asp.net-core"], "answers": [{"comments": [{"owner": {"reputation": 2912, "user_id": 983442, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/8kstV.jpg?s=128&g=1", "display_name": "Nacht", "link": "https://stackoverflow.com/users/983442/nacht"}, "edited": false, "score": 0, "creation_date": 1560172924, "post_id": 56516577, "comment_id": 99638020, "body": "And then the default UserManager will pick it up and use it?"}, {"owner": {"reputation": 11466, "user_id": 3667938, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/60005b5f4fa0a22e7e1cfbc9032da272?s=128&d=identicon&r=PG&f=1", "display_name": "Kahbazi", "link": "https://stackoverflow.com/users/3667938/kahbazi"}, "reply_to_user": {"reputation": 2912, "user_id": 983442, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/8kstV.jpg?s=128&g=1", "display_name": "Nacht", "link": "https://stackoverflow.com/users/983442/nacht"}, "edited": false, "score": 1, "creation_date": 1560174992, "post_id": 56516577, "comment_id": 99639074, "body": "yes, <code>UserManager</code> have a dependency on <code>IUserStore&lt;T&gt;</code> which is registered by <code>services.AddScoped&lt;IUserStore&lt;IdentityUser&gt;, CustomUserStore&gt;()</code>"}, {"owner": {"reputation": 2912, "user_id": 983442, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/8kstV.jpg?s=128&g=1", "display_name": "Nacht", "link": "https://stackoverflow.com/users/983442/nacht"}, "edited": false, "score": 0, "creation_date": 1560175429, "post_id": 56516577, "comment_id": 99639320, "body": "Unfortunately I can&#39;t test at the moment, but it sounds very promising! I&#39;ll take it"}], "tags": [], "owner": {"reputation": 11466, "user_id": 3667938, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/60005b5f4fa0a22e7e1cfbc9032da272?s=128&d=identicon&r=PG&f=1", "display_name": "Kahbazi", "link": "https://stackoverflow.com/users/3667938/kahbazi"}, "is_accepted": true, "score": 5, "last_activity_date": 1560099247, "creation_date": 1560099247, "answer_id": 56516577, "question_id": 50846329, "link": "https://stackoverflow.com/questions/50846329/usermanagers-autosavechanges-in-net-core-2-1/56516577#56516577", "title": "UserManager&#39;s AutoSaveChanges in .NET Core 2.1", "body": "<p>You need to create a class that inherits form <code>Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore&lt;IdentityUser&gt;</code> and set <code>AutoSaveChanges</code> to <code>false</code> in the constructor and then register this class to <code>IServiceCollection</code> before <code>AddEntityFrameworkStores</code>.</p>\n\n<pre><code>public class CustomUserStore : UserStore&lt;IdentityUser&gt;\n{\n    public CustomUserStore(ApplicationDbContext context)\n        : base(context)\n    {\n        AutoSaveChanges = false;\n    }\n}\n</code></pre>\n\n<p><strong>Startup.cs</strong></p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n    services.AddScoped&lt;IUserStore&lt;IdentityUser&gt;, CustomUserStore&gt;();\n\n    services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt;\n        options.UseSqlServer(\n            Configuration.GetConnectionString(\"DefaultConnection\")));\n\n    services.AddDefaultIdentity&lt;IdentityUser&gt;()\n        .AddDefaultUI(UIFramework.Bootstrap4)\n        .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;();\n}\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 4364067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/005c50e1158a3f428e4abc70e5499244?s=128&d=identicon&r=PG&f=1", "display_name": "idealser", "link": "https://stackoverflow.com/users/4364067/idealser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 2, "accepted_answer_id": 56516577, "answer_count": 1, "score": 3, "last_activity_date": 1560099247, "creation_date": 1528924245, "question_id": 50846329, "link": "https://stackoverflow.com/questions/50846329/usermanagers-autosavechanges-in-net-core-2-1", "title": "UserManager&#39;s AutoSaveChanges in .NET Core 2.1", "body": "<p>I would like to disable automatic SaveChanges method calls of UserManager. I've found that it is possible to do it by setting AutoSaveChanges property of UserStore. But what is the best practice for such things in .NET Core 2.1? Is it possible to do in Startup.cs by configuring IdentityBuilder?</p>\n"}, {"tags": ["c#", "twilio", "twilio-api"], "answers": [{"tags": [], "owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "is_accepted": true, "score": 1, "last_activity_date": 1528938262, "creation_date": 1528938262, "answer_id": 50848239, "question_id": 50846281, "link": "https://stackoverflow.com/questions/50846281/retrieving-from-and-to-from-recording-status-callback/50848239#50848239", "title": "Retrieving From and To from recording status callback", "body": "<p>Twilio developer evangelist here.</p>\n\n<p>You can fetch the child call using the parent call sid. You can use it as a filter on the <a href=\"https://www.twilio.com/docs/voice/api/call#calls-list-resource\" rel=\"nofollow noreferrer\">Calls list resource</a>. In C# that would look like:</p>\n\n<pre><code>    TwilioClient.Init(accountSid, authToken);\n\n    var calls = CallResource.Read(\n        parentCallSid: parentCallSid,\n        pathAccountSid: accountSid\n    );\n</code></pre>\n"}], "owner": {"reputation": 10074, "user_id": 1017161, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/114c8eb5d278c2c5bd26db2ccc1b50a2?s=128&d=identicon&r=PG", "display_name": "Uriil", "link": "https://stackoverflow.com/users/1017161/uriil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 50848239, "answer_count": 1, "score": 1, "last_activity_date": 1528938262, "creation_date": 1528924020, "question_id": 50846281, "link": "https://stackoverflow.com/questions/50846281/retrieving-from-and-to-from-recording-status-callback", "title": "Retrieving From and To from recording status callback", "body": "<p>I need to save outgoing call recording locally, in order to do that I need to get From and To for recording.</p>\n\n<p>I am using this guide to create sample application: <a href=\"https://www.twilio.com/docs/voice/client/javascript/quickstart\" rel=\"nofollow noreferrer\">https://www.twilio.com/docs/voice/client/javascript/quickstart</a></p>\n\n<p>The only difference is next handler in order to record call:</p>\n\n<pre><code>exports.handler = function(context, event, callback) {\n    let twiml = new Twilio.twiml.VoiceResponse();\n\n     // Wrap the phone number or client name in the appropriate TwiML verb\n     // if is a valid phone number\n     const attr = isAValidPhoneNumber(event.To) ? 'number' : 'client';\n     const dial = twiml.dial({\n       callerId: context.CALLER_ID,\n       record: 'record-from-ringing-dual',\n       recordingStatusCallback: 'https://hooks.mydomain.com/twilio/recording'\n     });\n     dial[attr]({}, event.To);\n\n     callback(null, twiml);\n};\n</code></pre>\n\n<p>After call end I successfully receive notification:</p>\n\n<pre><code>{\n    \"AccountSid\": \"AC****\",\n    \"CallSid\": \"CA****\",\n    \"RecordingChannels\": 2,\n    \"RecordingDuration\": 24,\n    \"RecordingSid\": \"RE***\",\n    \"RecordingSource\": \"DialVerb\",\n    \"RecordingStatus\": \"completed\",\n    \"RecordingUrl\": \"https://api.twilio.com/2010-04-01/Accounts/****\"\n}\n</code></pre>\n\n<p>However when I am receiving call and recording details using API, there is no From and To information:</p>\n\n<pre><code>TwilioClient.Init(accountSid, authToken);\n\nvar call = CallResource.Fetch(\n            pathAccountSid: accountSid,\n            pathSid: \"CA****\"\n);\n//Console.WriteLine(call.From);\n\nvar recording = RecordingResource.Fetch(pathAccountSid: accountSid,\n            pathSid: \"RE****\"); \n</code></pre>\n\n<p>From Twilio console I've spotted this this call generated two records:\n<a href=\"https://i.stack.imgur.com/b3OtO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b3OtO.png\" alt=\"enter image description here\"></a></p>\n\n<p>And I recording exist on Parent call, but From and To comes to child call.</p>\n\n<p>And now, knowing the parent Id I can't fetch child call.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["c#", "asp.net-web-api"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 2, "creation_date": 1528924034, "post_id": 50846257, "comment_id": 88696074, "body": "You can return any result you want from any action; you can combine those two examples."}, {"owner": {"reputation": 13, "user_id": 9938344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ULdyqh5BuW4/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3vx2fAdhThMu2NvaEF_80x_3ouXQ/mo/photo.jpg?sz=128", "display_name": "Reaper", "link": "https://stackoverflow.com/users/9938344/reaper"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1528924738, "post_id": 50846257, "comment_id": 88696366, "body": "I tried that and the file never downloads, but if i just use the get it downloads just fine."}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1528928237, "post_id": 50846257, "comment_id": 88697601, "body": "What do you see in the Network tab? How are you making the request? Show us your code."}, {"owner": {"reputation": 13, "user_id": 9938344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ULdyqh5BuW4/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3vx2fAdhThMu2NvaEF_80x_3ouXQ/mo/photo.jpg?sz=128", "display_name": "Reaper", "link": "https://stackoverflow.com/users/9938344/reaper"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1528934708, "post_id": 50846257, "comment_id": 88699115, "body": "Ok so reading up i found that I cannot use ajax to download a file, is this correct? How can i get around this?"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1528984838, "post_id": 50846257, "comment_id": 88721193, "body": "Don&#39;t use AJAX.  Make a form submit instead."}, {"owner": {"reputation": 13, "user_id": 9938344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ULdyqh5BuW4/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3vx2fAdhThMu2NvaEF_80x_3ouXQ/mo/photo.jpg?sz=128", "display_name": "Reaper", "link": "https://stackoverflow.com/users/9938344/reaper"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1528994748, "post_id": 50846257, "comment_id": 88727111, "body": "@SLaks omg, I was just making it more difficult then it had to be. Thank you man"}], "owner": {"reputation": 13, "user_id": 9938344, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ULdyqh5BuW4/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3vx2fAdhThMu2NvaEF_80x_3ouXQ/mo/photo.jpg?sz=128", "display_name": "Reaper", "link": "https://stackoverflow.com/users/9938344/reaper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528934328, "creation_date": 1528923884, "last_edit_date": 1528934328, "question_id": 50846257, "link": "https://stackoverflow.com/questions/50846257/web-api-upload-file-then-process-and-download-file-in-one-web-api-request", "title": "Web API upload file then process and download file in one web API request", "body": "<p>I have looked through the posts on here and throughout Google and can't seem to find a solution to this.</p>\n\n<p>I want to do this without using Node.js if I can. If I cannot then I will do it because it is required.</p>\n\n<p>I know how to upload a file such as:</p>\n\n<pre><code> [HttpPost]\n    public HttpResponseMessage PostEncryption()\n    {\n      var httpPostedFile = HttpContext.Current.Request.Files[\"file\"];\n      //do some editing on the file\n    }\n</code></pre>\n\n<p>And I know how to download a file via get</p>\n\n<pre><code>private HttpResponseMessage Get(HttpResponseMessage response)\n    {\n        var txtString= \"a bunch of random stuff\";\n        var result = Request.CreateResponse(HttpStatusCode.OK);\n        result.Content = new StringContent(txtString, Encoding.UTF8, \"application/txt\");\n        result.Content.Headers.ContentDisposition = new ContentDispositionHeaderValue(\"attachment\")\n        {\n            FileName = \"test.txt\"\n        };\n\n        return result;\n    }\n</code></pre>\n\n<p>What I am trying to do is pull a file in then do some processing and force the download of the file in the browser. Is this possible through the web API and if so, how would I accomplish it?</p>\n\n<p>Here is my code currently as asked for by slaks, at this point i am just trying to get a post method to download a file...</p>\n\n<pre><code>[HttpPost]\n    public HttpResponseMessage Post()\n    {\nvar txtString= \"a bunch of random stuff\";\n        var result = Request.CreateResponse(HttpStatusCode.OK);\n        result.Content = new StringContent(txtString, Encoding.UTF8, \"application/txt\");\n        result.Content.Headers.ContentDisposition = new ContentDispositionHeaderValue(\"attachment\")\n        {\n            FileName = \"test.txt\"\n        };\n\n        return result;\n    }\n\n\n$('#uploadFile').on('click', function () {\n\n            var data = new FormData();\n\n            var files = $(\"#file\").get(0).files;\n\n            // Add the uploaded content to the form data collection\n            if (files.length &gt; 0) {\n                data.append(\"file\", files[0]);\n            }\n\n            $.ajax({\n                type: \"POST\",\n                url: \"/apifile/post\",\n                contentType: false,\n                processData: false,\n                data: data\n            });\n        });\n</code></pre>\n"}, {"tags": ["c#", "stack"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 3, "creation_date": 1528924319, "post_id": 50846233, "comment_id": 88696196, "body": "I certainly hope your course is not suggesting that you use <code>ArrayList</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1528924433, "post_id": 50846233, "comment_id": 88696243, "body": "Also you should be using the <code>==</code> operator, not the <code>is</code> keyword for your <code>if</code> conditions (does that even compile when comparing to <code>null</code>?)"}], "answers": [{"comments": [{"owner": {"reputation": 713, "user_id": 9074610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b00b5b2ff2573542db9dc9c60af411be?s=128&d=identicon&r=PG&f=1", "display_name": "St. Pat", "link": "https://stackoverflow.com/users/9074610/st-pat"}, "edited": false, "score": 0, "creation_date": 1528924156, "post_id": 50846290, "comment_id": 88696128, "body": "note also that this is removing the number indicated by the count, regardless of index, so if Count is 5, and 5 is right in the middle of the array, then the middle item gets removed, not the first or last."}], "tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": true, "score": 5, "last_activity_date": 1528924256, "last_edit_date": 1528924256, "creation_date": 1528924060, "answer_id": 50846290, "question_id": 50846233, "link": "https://stackoverflow.com/questions/50846233/why-is-this-printing-out-the-numbers-from-highest-to-lowest/50846290#50846290", "title": "Why is this printing out the numbers from highest to lowest?", "body": "<pre><code>var top = _arrayList.Count;\n_arrayList.Remove(top);\n\nreturn top;\n</code></pre>\n\n<p>You aren't printing the values, you're printing the number of elements stored.</p>\n\n<p>Try changing your values to be something other than the first few positive integers to catch this kind of mistake more easily.</p>\n\n<p>PS: There's been no reason to use <code>ArrayList</code> for over a decade.  The generic collection classes such as <code>List&lt;int&gt;</code> are better in every way -- faster, less wasted memory, type safety.</p>\n"}, {"tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": false, "score": 2, "last_activity_date": 1528924170, "creation_date": 1528924170, "answer_id": 50846312, "question_id": 50846233, "link": "https://stackoverflow.com/questions/50846233/why-is-this-printing-out-the-numbers-from-highest-to-lowest/50846312#50846312", "title": "Why is this printing out the numbers from highest to lowest?", "body": "<pre><code>var top = _arrayList.Count;\n_arrayList.Remove(top);\n\nreturn top;\n</code></pre>\n\n<p><code>top</code> is assigned the value of the size of the list, and <em>is never reassigned</em>. Thus it looks like it prints highest to lowest because its just printing the size of the stack (which of course is 5, then 4, then 3, and so on). It only <em>looks</em> like you printed the contents of your list because you happened to push the same numbers. Some different test data would have made this bug more obvious.</p>\n\n<p>I think what you <em>actually</em> wanted was</p>\n\n<pre><code>var top = _arrayList[_arrayList.Count -1];\n</code></pre>\n\n<p>Note that your code would fail miserably if there was a duplicate element in the list (due to removing based on the item value and not on the index). You also <strong>really</strong> shouldn't be using <code>ArrayList</code> at all; that's a .NET 1.0 class that's just an awful collection interface. Use a generic like <code>List&lt;T&gt;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "is_accepted": false, "score": 0, "last_activity_date": 1528925666, "last_edit_date": 1528925666, "creation_date": 1528924264, "answer_id": 50846334, "question_id": 50846233, "link": "https://stackoverflow.com/questions/50846233/why-is-this-printing-out-the-numbers-from-highest-to-lowest/50846334#50846334", "title": "Why is this printing out the numbers from highest to lowest?", "body": "<p>You are returning </p>\n\n<pre><code> var top = _arrayList.Count;\n</code></pre>\n\n<p>Not the value in that position.  </p>\n\n<pre><code> _arrayList(top-1);\n</code></pre>\n\n<p>You should be getting an index out of range error on that remove.  </p>\n\n<pre><code>_arrayList.Remove(top);\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 6335869, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/096ac82ed01e3ba9b823a5f4e5bd830b?s=128&d=identicon&r=PG&f=1", "display_name": "MrSanfrinsisco", "link": "https://stackoverflow.com/users/6335869/mrsanfrinsisco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 50846290, "answer_count": 3, "score": -1, "last_activity_date": 1528925666, "creation_date": 1528923767, "question_id": 50846233, "link": "https://stackoverflow.com/questions/50846233/why-is-this-printing-out-the-numbers-from-highest-to-lowest", "title": "Why is this printing out the numbers from highest to lowest?", "body": "<p>I'm currently taking a intermediate course on Udemy for C# and I'm trying to do one of the exercises. I've looked in the Q&amp;A for students to see other peoples solutions, I've even copied and pasted other peoples solutions to see if theirs works and they do, I don't see any difference between mine and other peoples but for some reason my code prints out the numbers from highest to lowest and no where in the code should this happen. The idea of the exercise was to create a stack, we have 3 methods: Push(), Pop(), and Clear(). The push method adds objects to an ArrayList, the pop method removes the number from the top of the stack and returns the number. The clear method is self explanatory. Here's my code:</p>\n\n<pre><code>Stack Class:\npublic class Stack {\n        private ArrayList _arrayList = new ArrayList();\n        public void Push(object obj) {\n            if (obj is null) {\n                throw new InvalidOperationException();\n            }\n            else {\n                _arrayList.Add(obj);\n            }\n        }\n\n        public object Pop() {\n            if (_arrayList is null) {\n                throw new InvalidOperationException();\n            }\n            else {\n                var top = _arrayList.Count;\n                _arrayList.Remove(top);\n\n                return top;\n            }\n        }\n\n        public void Clear() {\n            for (int i = 0; i &lt; _arrayList.Count; i++) {\n                _arrayList.Remove(i);\n            }\n        }\n    }\n</code></pre>\n\n<p>Program Class:</p>\n\n<pre><code>class Program {\n        static void Main(string[] args) {\n            var stack = new Stack();\n\n            stack.Push(5);\n            stack.Push(1);\n            stack.Push(2);\n            stack.Push(4);\n            stack.Push(3);\n\n            Console.WriteLine(stack.Pop());\n            Console.WriteLine(stack.Pop());\n            Console.WriteLine(stack.Pop());\n            Console.WriteLine(stack.Pop());\n            Console.WriteLine(stack.Pop());\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "api", "swagger", "swashbuckle"], "comments": [{"owner": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1528924840, "post_id": 50846223, "comment_id": 88696403, "body": "Maybe related <a href=\"https://stackoverflow.com/questions/41005730/how-to-configure-swashbuckle-to-ignore-property-on-model/46237000\" title=\"how to configure swashbuckle to ignore property on model\">stackoverflow.com/questions/41005730/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1738, "user_id": 1562998, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/7c99b0e0420642abfe945e8c32cdae7f?s=128&d=identicon&r=PG", "display_name": "boilers222", "link": "https://stackoverflow.com/users/1562998/boilers222"}, "edited": false, "score": 0, "creation_date": 1528977536, "post_id": 50846593, "comment_id": 88716487, "body": "Thanks!  Seems like it would be much easier just to add a second class, which I can do in this case.  I&#39;m going to keep your code because I could see in the future having a class I can&#39;t change where I would have to use this."}], "tags": [], "owner": {"reputation": 9545, "user_id": 3294396, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jprFh.png?s=128&g=1", "display_name": "MrMins", "link": "https://stackoverflow.com/users/3294396/mrmins"}, "is_accepted": true, "score": 1, "last_activity_date": 1528925585, "creation_date": 1528925585, "answer_id": 50846593, "question_id": 50846223, "link": "https://stackoverflow.com/questions/50846223/how-can-i-tell-swagger-to-not-show-certain-fields-in-my-input-class-as-parameter/50846593#50846593", "title": "How can I tell Swagger to not show certain fields in my input class as parameters?", "body": "<p>By default, <code>Swagger</code> is not prepared to do that, in case you want to have a parameter, you can add a default value like</p>\n\n<p><code>public void myMethod(string a = \"abc\", int a = 1)</code></p>\n\n<p>But, if you want to omit completely a parameter, you can do a hack like this:</p>\n\n<p>Add a new file with the name <strong>CustomSchemaFilters</strong></p>\n\n<pre><code>public class CustomSchemaFilters : ISchemaFilter\n{\n    public void Apply(Schema schema, SchemaRegistry schemaRegistry, Type type)\n    {\n        var excludeProperties = new[] {\"name\", \"lastname, \"token\"};\n\n        foreach(var prop in excludeProperties)\n            if (schema.properties.ContainsKey(prop))\n                schema.properties.Remove(prop);\n    }\n}\n</code></pre>\n\n<p>and in your file <strong>AppStart/SwaggerConfig.cs</strong></p>\n\n<p>And add in the same file, this line</p>\n\n<p><code>c.ResolveConflictingActions(apiDescriptions =&gt; apiDescriptions.First());</code></p>\n\n<p>just inside of:</p>\n\n<p><code>GlobalConfiguration.Configuration \n                .EnableSwagger(c =&gt;\n                    { ...</code></p>\n\n<p>Add the line:</p>\n\n<p><code>c.SchemaFilter&lt;CustomSchemaFilters&gt;();</code></p>\n"}], "owner": {"reputation": 1738, "user_id": 1562998, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/7c99b0e0420642abfe945e8c32cdae7f?s=128&d=identicon&r=PG", "display_name": "boilers222", "link": "https://stackoverflow.com/users/1562998/boilers222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1355, "favorite_count": 0, "accepted_answer_id": 50846593, "answer_count": 1, "score": 0, "last_activity_date": 1528925585, "creation_date": 1528923708, "question_id": 50846223, "link": "https://stackoverflow.com/questions/50846223/how-can-i-tell-swagger-to-not-show-certain-fields-in-my-input-class-as-parameter", "title": "How can I tell Swagger to not show certain fields in my input class as parameters?", "body": "<p>I have an api app where the controller method takes a class as input.  I'm using Swagger to show the user what variables are in that class.  I used the class for other purposes so for certain methods I'd like Swagger not to show certain objects.  I tried the attribute [IgnoreDataMember] mentioned <a href=\"https://github.com/ServiceStack/ServiceStack/wiki/Swagger-API\" rel=\"nofollow noreferrer\">here</a>, but it didn't seem to do anything.  How can I prevent Swagger from showing every object in the input class?</p>\n\n<p>So here is the method definition:</p>\n\n<pre><code>[HttpPost(\"Receive\")]\n[Produces(\"application/json\", Type = typeof(APIResponse))]\npublic APIResponse Receive(MyClass item)\n{....}\n</code></pre>\n\n<p>MyClass is defined with 4 objects:</p>\n\n<pre><code>public class MyClass\n{\n    [IgnoreDataMember]\n    public int itemID { get; set; }\n    [IgnoreDataMember]\n    public int quantity { get; set; }\n    public int vendor_id { get; set; }\n    public string ship_name { get; set; }\n}\n</code></pre>\n\n<p>Right now, Swagger shows all 4 objects as parameters:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Qm8OJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qm8OJ.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>For this method, I'd like to only show 2 of the 4 class objects as parameters.  For other methods, I'll need to show all 4.  Is there a way to do this or will I need to create a class for each method?</p>\n"}, {"tags": ["c#", "asp.net", "webforms", "pagemethods"], "comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1528925097, "post_id": 50846165, "comment_id": 88696494, "body": "Start debugging: put a breakpoint in Testing(), does it get called?"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1528925180, "post_id": 50846165, "comment_id": 88696524, "body": "Side note: don&#39;t start a new project with asp.net webforms. Make sure you know about MVC and SPA."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1528925275, "post_id": 50846165, "comment_id": 88696557, "body": "And I&#39;m a bit doubtfull about <code>type: &quot;POST&quot;</code>, isn&#39;t this a GET ?"}, {"owner": {"reputation": 3, "user_id": 9937800, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v-kMEspFcvA/AAAAAAAAAAI/AAAAAAAAABU/Gvqxp6OfWww/photo.jpg?sz=128", "display_name": "Angelica Adams", "link": "https://stackoverflow.com/users/9937800/angelica-adams"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1528925548, "post_id": 50846165, "comment_id": 88696662, "body": "@HenkHolterman Can&#39;t put breakpoints since im deplyoing the website to the remote server , cant be runned on localhost. It&#39;s too late for me to start MVC projects , for the past few months ive been learning Webforms and i really dont have the time at the moment. Tried with &quot;GET&quot; , same thing."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1528926097, "post_id": 50846165, "comment_id": 88696906, "body": "&quot;cant be runned on localhost&quot; - In VS, go to File|New|Project, create a simple testproject. You will need it a lot to test things like this. Keep it simple. Your code is already close to a mcve, make it work. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 3, "user_id": 9937800, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v-kMEspFcvA/AAAAAAAAAAI/AAAAAAAAABU/Gvqxp6OfWww/photo.jpg?sz=128", "display_name": "Angelica Adams", "link": "https://stackoverflow.com/users/9937800/angelica-adams"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1528926521, "post_id": 50846165, "comment_id": 88697060, "body": "@HenkHolterman the url works , if i do for example just     $(document).ready(function () { $.ajax({ alert(&#39;test&#39;);}); the alert popups,Also the mysqlcall.aspx is working. I i&#39;ll try to create a new projects now on the localhost and test just the ajax request with breakpoints.Thanks for trying to help me."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9937800, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v-kMEspFcvA/AAAAAAAAAAI/AAAAAAAAABU/Gvqxp6OfWww/photo.jpg?sz=128", "display_name": "Angelica Adams", "link": "https://stackoverflow.com/users/9937800/angelica-adams"}, "edited": false, "score": 0, "creation_date": 1528932041, "post_id": 50847280, "comment_id": 88698584, "body": "Still doesn&#39;t work.I don&#39;t get it the code seems flawless but the ajax part is like not executed at all.Could it be something wrong with the default VS Studio Asp.net C# Web application template ?"}, {"owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "reply_to_user": {"reputation": 3, "user_id": 9937800, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v-kMEspFcvA/AAAAAAAAAAI/AAAAAAAAABU/Gvqxp6OfWww/photo.jpg?sz=128", "display_name": "Angelica Adams", "link": "https://stackoverflow.com/users/9937800/angelica-adams"}, "edited": false, "score": 0, "creation_date": 1528932157, "post_id": 50847280, "comment_id": 88698613, "body": "Have you opened the browser tools and checked the console for errors?"}, {"owner": {"reputation": 3, "user_id": 9937800, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v-kMEspFcvA/AAAAAAAAAAI/AAAAAAAAABU/Gvqxp6OfWww/photo.jpg?sz=128", "display_name": "Angelica Adams", "link": "https://stackoverflow.com/users/9937800/angelica-adams"}, "edited": false, "score": 0, "creation_date": 1528934810, "post_id": 50847280, "comment_id": 88699133, "body": "thank you for the suggestion,i totally forgot about chrome debugging console and i found out that the call was not found , i had to specify the full url , instead of url: &quot;mysqlcall.aspx/Testing&quot;,  i had to use url: &quot;<a href=\"http://mywebsite/mysqlcall.aspx/Testing\" rel=\"nofollow noreferrer\">mywebsite/mysqlcall.aspx/Testing</a>&quot;,"}, {"owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "reply_to_user": {"reputation": 3, "user_id": 9937800, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v-kMEspFcvA/AAAAAAAAAAI/AAAAAAAAABU/Gvqxp6OfWww/photo.jpg?sz=128", "display_name": "Angelica Adams", "link": "https://stackoverflow.com/users/9937800/angelica-adams"}, "edited": false, "score": 0, "creation_date": 1528935856, "post_id": 50847280, "comment_id": 88699305, "body": "That&#39;s unusual. Do you have a <code>ScriptManager</code> on the page? I <i>think</i> if you add one like this <code>&lt;asp:ScriptManager runat=&quot;server&quot; EnablePageMethods=&quot;true&quot;&gt;</code>, then you won&#39;t have to do that."}, {"owner": {"reputation": 3, "user_id": 9937800, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v-kMEspFcvA/AAAAAAAAAAI/AAAAAAAAABU/Gvqxp6OfWww/photo.jpg?sz=128", "display_name": "Angelica Adams", "link": "https://stackoverflow.com/users/9937800/angelica-adams"}, "edited": false, "score": 0, "creation_date": 1528937826, "post_id": 50847280, "comment_id": 88699685, "body": "no i dont have ScriptManager on the page. The strange part was it that it was looking for the mysqlcall.aspx page here &quot;h*ttp:///mywebsite.com/results/mysqlcall.apsx&quot;  results.aspx is the webpage that contains the ajax script and makes the call.I&#39;m happy that atleast now is working but still not optimal solution since it will have delay from the domain resolver."}, {"owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "reply_to_user": {"reputation": 3, "user_id": 9937800, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v-kMEspFcvA/AAAAAAAAAAI/AAAAAAAAABU/Gvqxp6OfWww/photo.jpg?sz=128", "display_name": "Angelica Adams", "link": "https://stackoverflow.com/users/9937800/angelica-adams"}, "edited": false, "score": 0, "creation_date": 1528938281, "post_id": 50847280, "comment_id": 88699759, "body": "That&#39;s pretty important to know. You can probably just do it with <code>results&#47;mysqlcall.aspx&#47;Testing</code> or with initial slash <code>&#47;results&#47;mysqlcall.aspx&#47;Testing</code>. It&#39;s not a directory call, it&#39;s a <code>url</code> call so it has to know where to go on the site."}, {"owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "reply_to_user": {"reputation": 3, "user_id": 9937800, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v-kMEspFcvA/AAAAAAAAAAI/AAAAAAAAABU/Gvqxp6OfWww/photo.jpg?sz=128", "display_name": "Angelica Adams", "link": "https://stackoverflow.com/users/9937800/angelica-adams"}, "edited": false, "score": 0, "creation_date": 1528938680, "post_id": 50847280, "comment_id": 88699841, "body": "Although I can&#39;t really tell from your desc where the results page is. Start from the root with a slash and proceed to the correct directory and file."}, {"owner": {"reputation": 3, "user_id": 9937800, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v-kMEspFcvA/AAAAAAAAAAI/AAAAAAAAABU/Gvqxp6OfWww/photo.jpg?sz=128", "display_name": "Angelica Adams", "link": "https://stackoverflow.com/users/9937800/angelica-adams"}, "edited": false, "score": 0, "creation_date": 1528939383, "post_id": 50847280, "comment_id": 88699960, "body": "Oh sorry i didn&#39;t specify , results.aspx and mysqlcall are in same folder.Results.aspx is routed to my website like mywebsite.com/results/ , and the mysqlcall.aspx is not so its mywebsite.com/mysqlcall.aspx/ . maybe /wwwroot/mysqlcall.aspx would do it ? i&#39;ll try it."}, {"owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "reply_to_user": {"reputation": 3, "user_id": 9937800, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v-kMEspFcvA/AAAAAAAAAAI/AAAAAAAAABU/Gvqxp6OfWww/photo.jpg?sz=128", "display_name": "Angelica Adams", "link": "https://stackoverflow.com/users/9937800/angelica-adams"}, "edited": false, "score": 0, "creation_date": 1528939752, "post_id": 50847280, "comment_id": 88700011, "body": "Start with only a slash; you don&#39;t need any &#39;www&#39; stuff. <code>&#47; = root</code>. Try <code>url: &quot;&#47;mysqlcall.aspx&#47;Testing&quot;</code>. This will get you out of the current directory and back to the root (everything at the <code>mywebsite.com&#47;</code> level), and it will find <code>mysqlcall.aspx</code>."}, {"owner": {"reputation": 3, "user_id": 9937800, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v-kMEspFcvA/AAAAAAAAAAI/AAAAAAAAABU/Gvqxp6OfWww/photo.jpg?sz=128", "display_name": "Angelica Adams", "link": "https://stackoverflow.com/users/9937800/angelica-adams"}, "edited": false, "score": 1, "creation_date": 1528939967, "post_id": 50847280, "comment_id": 88700039, "body": "Working as intended now ! :) it works both with &quot;/&quot; and &quot;../&quot; as a start.Thank you for you time and suggestions."}], "tags": [], "owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "is_accepted": true, "score": 0, "last_activity_date": 1528929534, "creation_date": 1528929534, "answer_id": 50847280, "question_id": 50846165, "link": "https://stackoverflow.com/questions/50846165/ajax-request-is-not-working-with-asp-net-page-method/50847280#50847280", "title": "Ajax request is not working with ASP.NET page method", "body": "<p>Add the <code>WebMethod</code> attribute and make the method <code>static</code>:</p>\n\n<pre><code>[WebMethod]\npublic static string Testing()\n{\n    return \"asdlasldalsdl\";\n}\n</code></pre>\n\n<p>You can also remove <code>data</code> from the ajax call, or remove the quotes.</p>\n"}], "owner": {"reputation": 3, "user_id": 9937800, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v-kMEspFcvA/AAAAAAAAAAI/AAAAAAAAABU/Gvqxp6OfWww/photo.jpg?sz=128", "display_name": "Angelica Adams", "link": "https://stackoverflow.com/users/9937800/angelica-adams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 50847280, "answer_count": 1, "score": 0, "last_activity_date": 1528940135, "creation_date": 1528923482, "last_edit_date": 1528940135, "question_id": 50846165, "link": "https://stackoverflow.com/questions/50846165/ajax-request-is-not-working-with-asp-net-page-method", "title": "Ajax request is not working with ASP.NET page method", "body": "<p>I tried so many example codes and neither works. Ajax call simply does not return anything. There is no alert popup.</p>\n\n<p>This is the ajax code :</p>\n\n<pre><code>&lt;script src=\"Scripts/jquery-1.10.2.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt; \n    $(document).ready(function() {\n        $.ajax({         \n            type: \"POST\",\n            url: \"mysqlcall.aspx/Testing\",\n            contentType: \"application/json; charset=utf-8\",\n            data: {\"\"},\n            dataType: \"json\",\n            success: function (data) {\n                alert(\"idkbro\");\n                //  $(\"#testing\").text(response.d);\n            },\n            failure: function (response) {\n                alert(response.d);\n            }\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>And this is the call page :</p>\n\n<pre><code>public partial class mysqlcall : System.Web.UI.Page\n{\n    protected void Page_Load(object sender, EventArgs e)\n    {    \n    }\n\n    public string Testing()\n    {\n        return \"asdlasldalsdl\";\n    }\n}\n</code></pre>\n\n<p>I'm running it on latest version of IIS and using asp.net C# webforms with routing. mysqlcall.aspx is not routed but it doesn't matter I tried it with a routed page. Any help would be appreciated.</p>\n\n<p>Edit : Thanks to @wazz the problem was in the </p>\n\n<pre><code>url: \"mysqlcall.aspx/Testing\",\n</code></pre>\n\n<p>instead it has to begin with a slash like :</p>\n\n<pre><code>url: \"/mysqlcall.aspx/Testing\",\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "entity-framework", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1528923583, "post_id": 50846156, "comment_id": 88695884, "body": "I&#39;d look into the System.Xml namespace or System.Xml.Linq namespace, and see about using that to create a tree structure as an XmlDocument or XDocument, you can then convert that to a string. Also, it looks like you are using entity-framework, you could always write your own SQL Procedure and have it return your data as XML."}, {"owner": {"reputation": 1, "user_id": 9219339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nfbkMR3x-Ok/AAAAAAAAAAI/AAAAAAAAABI/z_SWNbySTxs/photo.jpg?sz=128", "display_name": "James Anderson", "link": "https://stackoverflow.com/users/9219339/james-anderson"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1528924314, "post_id": 50846156, "comment_id": 88696193, "body": "I&#39;m trying to create the models from the string rather than turning the models into a string. The reason for this is I&#39;m trying to import product data from a csv, The problem I seem to be having is that I&#39;ve messed up setting up the relationships but Im not able to see where. Sorry for the terrible explanation."}, {"owner": {"reputation": 442, "user_id": 8008349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAyA4.png?s=128&g=1", "display_name": "i regular", "link": "https://stackoverflow.com/users/8008349/i-regular"}, "edited": false, "score": 0, "creation_date": 1528925166, "post_id": 50846156, "comment_id": 88696518, "body": "Where do you save changes to the database? Is the Ids on the parents auto generated in the database, since you just call <code>new ProductCategory { Name = categoryName };</code> or where do you set the Ids? And you should probably set up your models so that the FK is automatically set."}, {"owner": {"reputation": 24508, "user_id": 153923, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/804ed3e25812ea0309fd07bc42bf09c2?s=128&d=identicon&r=PG", "display_name": "jp2code", "link": "https://stackoverflow.com/users/153923/jp2code"}, "edited": false, "score": 1, "creation_date": 1528925221, "post_id": 50846156, "comment_id": 88696535, "body": "@JamesAnderson - can you edit your question to post a few rows of actual string data at the bottom?"}, {"owner": {"reputation": 1, "user_id": 9219339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nfbkMR3x-Ok/AAAAAAAAAAI/AAAAAAAAABI/z_SWNbySTxs/photo.jpg?sz=128", "display_name": "James Anderson", "link": "https://stackoverflow.com/users/9219339/james-anderson"}, "edited": false, "score": 0, "creation_date": 1528925683, "post_id": 50846156, "comment_id": 88696725, "body": "This is contained within a loop that loops through each of the rows of the csv and so the changes are saved once the loop has exited. Im using entity-framework that, as far as I know, Handles the Ids. It definitely has set up the foreign keys. Ive edited the post to include some examples of the incoming string data."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9219339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nfbkMR3x-Ok/AAAAAAAAAAI/AAAAAAAAABI/z_SWNbySTxs/photo.jpg?sz=128", "display_name": "James Anderson", "link": "https://stackoverflow.com/users/9219339/james-anderson"}, "edited": false, "score": 0, "creation_date": 1528926539, "post_id": 50846660, "comment_id": 88697067, "body": "The issue with this is that each string isn&#39;t always describing a unique tree. As the example strings show Glassware etc. appear multiple times and each time it needs to point to the same node, hopefully that makes sense."}], "tags": [], "owner": {"reputation": 24508, "user_id": 153923, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/804ed3e25812ea0309fd07bc42bf09c2?s=128&d=identicon&r=PG", "display_name": "jp2code", "link": "https://stackoverflow.com/users/153923/jp2code"}, "is_accepted": false, "score": 0, "last_activity_date": 1528925936, "creation_date": 1528925936, "answer_id": 50846660, "question_id": 50846156, "link": "https://stackoverflow.com/questions/50846156/building-model-tree-from-string/50846660#50846660", "title": "Building model tree from string", "body": "<p>Something simple like this works, using a <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.treenode.aspx\" rel=\"nofollow noreferrer\">TreeNode</a> object to contain everything.</p>\n\n<pre><code>public class SO50846156\n{\n\n    public TreeNode Test(String[] data)\n    {\n        var root = new TreeNode();\n        foreach (var line in data)\n        {\n            var split = line.Split('&gt;');\n            var count = split.Length;\n            var item = root.Nodes.Add(split[0]);\n            if (1 &lt; count)\n            {\n                var subCat = item.Nodes.Add(split[1]);\n                if (2 &lt; count)\n                {\n                    var catName = subCat.Nodes.Add(split[2]);\n                }\n            }\n        }\n        return root;\n    }\n\n}\n</code></pre>\n\n<p>The root element gets created every time, and you get a node for each line of your data.</p>\n\n<p>I'm not sure what yours is trying to accomplish that is different, but maybe this gives you some ideas.</p>\n"}], "owner": {"reputation": 1, "user_id": 9219339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nfbkMR3x-Ok/AAAAAAAAAAI/AAAAAAAAABI/z_SWNbySTxs/photo.jpg?sz=128", "display_name": "James Anderson", "link": "https://stackoverflow.com/users/9219339/james-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528925936, "creation_date": 1528923434, "last_edit_date": 1528925458, "question_id": 50846156, "link": "https://stackoverflow.com/questions/50846156/building-model-tree-from-string", "title": "Building model tree from string", "body": "<p>So I've been bashing my head against a wall for a while on this one. What Im attempting to do is follow through a category trace defined as \"category>child category> child of child category...\" but for some reason, of which I am clearly failing to grasp, The categories that should have a parent sometimes fail to set their ParentId, not all the time though!?</p>\n\n<pre><code>string catString = \"Category1Name&gt;Category2Name&gt;Category3Name\";\n\n        if (!string.IsNullOrEmpty(catString)) {\n            string[] catStrings = catString.Split('&gt;');\n            ProductCategory[] categories = new ProductCategory[catStrings.Length];\n\n            for (int j = 0; j &lt; catStrings.Length; j++) {\n                string categoryName = catStrings[j];\n                ProductCategory parent = j &gt; 0 ? categories[j - 1] : null;\n\n                if (j &gt; 0) {\n                    categories[j] = _context.ProductCategories.SingleOrDefault(x =&gt; x.Name.ToUpper().Replace(\" \", \"\") == categoryName.ToUpper().Replace(\" \", \"\") &amp;&amp; x.ParentId == parent.Id);\n                } else {\n                    categories[j] = _context.ProductCategories.SingleOrDefault(x =&gt; x.Name.ToUpper().Replace(\" \", \"\") == categoryName.ToUpper().Replace(\" \", \"\"));\n                }\n\n                if (categories[j] == null) {\n                    if (j &gt; 0) {\n                        categories[j] = new ProductCategory { Name = categoryName, ParentId = parent.Id };\n\n                        if (parent.Children == null) {\n                            parent.Children = new List&lt;ProductCategory&gt;();\n                        }\n\n                        parent.Children.Add(categories[j]);\n                    } else {\n                        categories[j] = new ProductCategory { Name = categoryName };\n                    }\n\n                    _context.ProductCategories.Add(categories[j]);\n                    categoriesCreated++;\n                }\n            }\n\n            product.Category = categories.Last();\n        }\n</code></pre>\n\n<p>A Category is defined as such</p>\n\n<pre><code>public int Id { get; set; }\npublic string Name { get; set; }\npublic int ParentId { get; set; }\npublic virtual List&lt;ProductCategory&gt; Children { get; set; }\n</code></pre>\n\n<p>String Examples</p>\n\n<pre><code>Glassware&gt;Shot Glasses\nGlassware&gt;Wine Glasses\nGlassware&gt;Glass Carafes/Decanters/Jugs&gt;Glass Carafes\nGlassware&gt;Glass Carafes/Decanters/Jugs&gt;Glass Jugs\nTableware&gt;Cutlery&gt;Premium 18/10\n</code></pre>\n"}, {"tags": ["c#", ".net", "slowcheetah", "katalon-studio"], "answers": [{"tags": [], "owner": {"reputation": 6193, "user_id": 8791568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bVXnV7l4cw8/AAAAAAAAAAI/AAAAAAAAA9g/inWFSSgmbiQ/photo.jpg?sz=128", "display_name": "Mate Mr\u0161e", "link": "https://stackoverflow.com/users/8791568/mate-mr%c5%a1e"}, "is_accepted": false, "score": 1, "last_activity_date": 1530001252, "creation_date": 1530001252, "answer_id": 51038167, "question_id": 50846093, "link": "https://stackoverflow.com/questions/50846093/calling-different-environment-configurations-at-runtime-using-katalon/51038167#51038167", "title": "Calling different environment configurations at runtime using Katalon", "body": "<p>You can use global variables (or \"execution profiles\", as they are called in Katalon Studio versions 5.4+): \n<a href=\"https://docs.katalon.com/pages/viewpage.action?pageId=13697476\" rel=\"nofollow noreferrer\">https://docs.katalon.com/pages/viewpage.action?pageId=13697476</a>.</p>\n\n<p>For details, tips and tricks on the topic, there is a interesting discussion on the Katalon forums: \n<a href=\"https://forum.katalon.com/discussion/5780/katalon-properties-file-and-jvm-system-property-katalon-user-home#latest\" rel=\"nofollow noreferrer\">https://forum.katalon.com/discussion/5780/katalon-properties-file-and-jvm-system-property-katalon-user-home#latest</a>.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 323, "user_id": 5294234, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/5832d2e74747ed25fe52311c781039bb?s=128&d=identicon&r=PG", "display_name": "user5199", "link": "https://stackoverflow.com/users/5294234/user5199"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1556538824, "creation_date": 1528923162, "last_edit_date": 1556538824, "question_id": 50846093, "link": "https://stackoverflow.com/questions/50846093/calling-different-environment-configurations-at-runtime-using-katalon", "title": "Calling different environment configurations at runtime using Katalon", "body": "<p>I have something in .net visual studio called slowcheetah that allows me to store multiple app.configs for environment URLs and call them depending on the test environment I'm running against for my selenium tests. I can toggle this at runtime. </p>\n\n<p>I'm wondering if Katalon can do the same.</p>\n\n<p>If so, how?</p>\n"}, {"tags": ["c#", "docusignapi"], "answers": [{"comments": [{"owner": {"reputation": 1993, "user_id": 1086584, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ovCUD.jpg?s=128&g=1", "display_name": "SilentSteel", "link": "https://stackoverflow.com/users/1086584/silentsteel"}, "edited": false, "score": 0, "creation_date": 1587497240, "post_id": 50847925, "comment_id": 108534144, "body": "Suppose we have a SaaS app that stores files and we want end-customers that have a paid DocuSign account to integrate. This means we need to pay for our own API account, even if it&#39;s our customers who are paying DocuSign? Is this correct? Even if we only allowed existing DocuSign customers to use it, it would make no difference in our own cost?"}, {"owner": {"reputation": 4064, "user_id": 8617118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f221a8dc4cc211bedccac350bc84db96?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/8617118/drew"}, "reply_to_user": {"reputation": 1993, "user_id": 1086584, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ovCUD.jpg?s=128&g=1", "display_name": "SilentSteel", "link": "https://stackoverflow.com/users/1086584/silentsteel"}, "edited": false, "score": 0, "creation_date": 1587601557, "post_id": 50847925, "comment_id": 108579086, "body": "Sounds like you may qualify for a free ikey holding account via the DocuSign Partners program. I&#39;d recommend reaching out to partners@docusign.com to learn more."}], "tags": [], "owner": {"reputation": 4064, "user_id": 8617118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f221a8dc4cc211bedccac350bc84db96?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/8617118/drew"}, "is_accepted": true, "score": 0, "last_activity_date": 1528935087, "creation_date": 1528935087, "answer_id": 50847925, "question_id": 50846086, "link": "https://stackoverflow.com/questions/50846086/docusign-demo-account-integrator-key-connect-to-customer-docusign-accounts/50847925#50847925", "title": "DocuSign demo account Integrator Key connect to Customer DocuSign accounts", "body": "<p>When an integrator key goes Live and is promoted to the Production environment, it is linked to a single account for management purposes, but it can be used with any DocuSign account.</p>\n\n<p>You will need a DocuSign account on an API plan or Enterprise-level account to complete key promotion, but there's no special/additional licensing to enable a key to be used with other accounts once it is live.</p>\n"}], "owner": {"reputation": 19, "user_id": 8249633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e374a5eee50d6e3f4227a0a7deee0f9a?s=128&d=identicon&r=PG&f=1", "display_name": "Tuan", "link": "https://stackoverflow.com/users/8249633/tuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 1, "accepted_answer_id": 50847925, "answer_count": 1, "score": 1, "last_activity_date": 1528935087, "creation_date": 1528923123, "question_id": 50846086, "link": "https://stackoverflow.com/questions/50846086/docusign-demo-account-integrator-key-connect-to-customer-docusign-accounts", "title": "DocuSign demo account Integrator Key connect to Customer DocuSign accounts", "body": "<p>My question is currently I have a demo sandbox account with integrator key used to send documents to DocuSign. All my clients have their own DocuSign production accounts is it possible for me to connect my Demo integrator Key with clients DocuSign accounts? Also going into production environment do I need to get a DocuSign licensing to use my integrator key with other accounts?</p>\n\n<p>Thanks. </p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-web-api", "actionfilterattribute"], "owner": {"reputation": 882, "user_id": 3097454, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/2V4D2.jpg?s=128&g=1", "display_name": "Nick Gallimore", "link": "https://stackoverflow.com/users/3097454/nick-gallimore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1528923153, "creation_date": 1528922730, "last_edit_date": 1528923153, "question_id": 50846009, "link": "https://stackoverflow.com/questions/50846009/access-attributes-on-model-from-actioncontext-in-actionfilterattribute", "title": "Access attributes on model from ActionContext in ActionFilterAttribute", "body": "<p>Given a custom <em>ActionFilterAttribute</em>, is there a way to access attributes on the action's model using the <em>HttpActionContext</em> within an overriden OnActionExecuting method? </p>\n\n<p>I wish to throw an exception if attributes are not a particular type.</p>\n\n<p>For example: </p>\n\n<p>A custom attribute exists called <code>[CustomRequired]</code>. If there are any usages of <code>[Required]</code> on the model, then an exception is thrown. The model should have used <code>[CustomRequired]</code>, not <code>[Required]</code></p>\n\n<pre><code>public class ModelValidationAttribute : ActionFilterAttribute\n{\n    public override void OnActionExecuting(HttpActionContext actionContext)\n    {\n        ValidateModelAttributes(actionContext);\n    }\n\n    private static void ValidateModelAttributes(HttpActionContext actionContext)\n    {\n        var attrs = actionContext.ActionDescriptor.GetParameters();\n        foreach (var attr in attrs) \n        {\n             // if attr is not type then throw exception\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "azure-functions", "azure-cosmosdb"], "answers": [{"comments": [{"owner": {"reputation": 2938, "user_id": 2080104, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b10f165a6f9e787721f06decff6afa75?s=128&d=identicon&r=PG", "display_name": "CamHart", "link": "https://stackoverflow.com/users/2080104/camhart"}, "edited": false, "score": 0, "creation_date": 1528923501, "post_id": 50846125, "comment_id": 88695851, "body": "Is there anyway to configure how the retries occur?  Does time pass between retries?"}, {"owner": {"reputation": 5656, "user_id": 139792, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8169cfaf478e453156c423d619b2392a?s=128&d=identicon&r=PG", "display_name": "Ross Dargan", "link": "https://stackoverflow.com/users/139792/ross-dargan"}, "edited": false, "score": 0, "creation_date": 1529262149, "post_id": 50846125, "comment_id": 88799070, "body": "You could, of course, catch the exception, and retry yourself - but be careful, you probably don&#39;t want your function to run for longer than 5 minutes or it could get killed."}], "tags": [], "owner": {"reputation": 30010, "user_id": 1171619, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/6f1d9a240fc75d00c4a4ffa000ea4bd1?s=128&d=identicon&r=PG", "display_name": "Mikhail Shilkov", "link": "https://stackoverflow.com/users/1171619/mikhail-shilkov"}, "is_accepted": true, "score": 6, "last_activity_date": 1528924163, "last_edit_date": 1528924163, "creation_date": 1528923303, "answer_id": 50846125, "question_id": 50845906, "link": "https://stackoverflow.com/questions/50845906/how-do-documentdbattribute-bindings-respond-to-throttling/50846125#50846125", "title": "How do DocumentDBAttribute bindings respond to throttling?", "body": "<p>Both input and output bindings use CosmosDB SDK which has the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.documents.client.connectionpolicy.retryoptions?view=azure-dotnet\" rel=\"noreferrer\">retry mechanism</a> in place.</p>\n\n<p>By default, SDK retries 9 times on a throttled result, after that, the exception is bubbled and you Function will error. Depending on the trigger type, it will fail HTTP call, put the message back to the queue etc.</p>\n\n<p>The retries respect the timing recommendation returned by Cosmos DB:</p>\n\n<blockquote>\n  <p>When a client is sending requests faster than the allowed rate, the service will return HttpStatusCode 429 (Too Many Request) to rate limit the client. The current implementation in the SDK will then wait for the amount of time the service tells it to wait and retry after the time has elapsed.</p>\n</blockquote>\n\n<p>At the moment, there is no way to configure the bindings with a policy other than default.</p>\n"}], "owner": {"reputation": 2938, "user_id": 2080104, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b10f165a6f9e787721f06decff6afa75?s=128&d=identicon&r=PG", "display_name": "CamHart", "link": "https://stackoverflow.com/users/2080104/camhart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 50846125, "answer_count": 1, "score": 1, "last_activity_date": 1528924163, "creation_date": 1528922279, "question_id": 50845906, "link": "https://stackoverflow.com/questions/50845906/how-do-documentdbattribute-bindings-respond-to-throttling", "title": "How do DocumentDBAttribute bindings respond to throttling?", "body": "<p>I have azure functions (C# v1 functions--non scripted) that use DocumentDBAttribute bindings for both reading and writing documents.  How do those bindings respond to throttling in the following situations?</p>\n\n<ul>\n<li>Writing an item by adding it to an ICollector</li>\n<li>Reading an item by providing an Id</li>\n</ul>\n\n<p>This is for functions v1.</p>\n\n<p>First case:</p>\n\n<pre><code>        //input binding\n        [DocumentDB(ResourceNames.APCosmosDBName, \n          ResourceNames.EpisodeOfCareCollectionName,\n          ConnectionStringSetting = \"APCosmosDB\",\n          CreateIfNotExists = true)] ICollector&lt;EOC&gt; eoc,\n        //...\n        eoc.Add(new EOC()); //what happens here if throttling is occuring?\n</code></pre>\n\n<p>Second case:</p>\n\n<pre><code>[DocumentDB(ResourceNames.ORHCasesDBName, ResourceNames.ORHCasesCollectionName, ConnectionStringSetting = \"ORHCosmosDBCases\", CreateIfNotExists = true, Id = \"{id}\")] string closedCaseStr,\n</code></pre>\n"}, {"tags": ["c#", "json", "unity3d", "namespaces", "json.net"], "comments": [{"owner": {"reputation": 825, "user_id": 3110970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EMUHV.jpg?s=128&g=1", "display_name": "xneg", "link": "https://stackoverflow.com/users/3110970/xneg"}, "edited": false, "score": 0, "creation_date": 1528922250, "post_id": 50845794, "comment_id": 88695296, "body": "Try RMB on project and Restore NuGet Packages."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4806934, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9vwCCjR5rps/AAAAAAAAAAI/AAAAAAAACSs/ZhMvIA59Kn4/photo.jpg?sz=128", "display_name": "Rene Munsch", "link": "https://stackoverflow.com/users/4806934/rene-munsch"}, "edited": false, "score": 0, "creation_date": 1528998123, "post_id": 50848733, "comment_id": 88728683, "body": "Thank you for your suggestions. I reinstalled the NuGet Package and added the Newtonsoft.Json refernece manually (since it didn&#39;t set the refernece automatically for some reason) and now in VS my script knows the class and doesn&#39;t show any errors anymore! The unity editor however, still shows the same error message. Do you have any other ideas please?"}, {"owner": {"reputation": 1640, "user_id": 8051819, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210907873227100/picture?type=large", "display_name": "Milan Egon Votrubec", "link": "https://stackoverflow.com/users/8051819/milan-egon-votrubec"}, "reply_to_user": {"reputation": 23, "user_id": 4806934, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9vwCCjR5rps/AAAAAAAAAAI/AAAAAAAACSs/ZhMvIA59Kn4/photo.jpg?sz=128", "display_name": "Rene Munsch", "link": "https://stackoverflow.com/users/4806934/rene-munsch"}, "edited": false, "score": 0, "creation_date": 1529021125, "post_id": 50848733, "comment_id": 88737170, "body": "The Newtonsfot.Json files (four of them) are under Assets/Plugins/Json.NET? In the Editor are you able to select the DLL to view the DLL&#39;s information? Is there a warning that the DLL has been removed in the console? Is your project Player Settings set to .NET 4.x?"}, {"owner": {"reputation": 23, "user_id": 4806934, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9vwCCjR5rps/AAAAAAAAAAI/AAAAAAAACSs/ZhMvIA59Kn4/photo.jpg?sz=128", "display_name": "Rene Munsch", "link": "https://stackoverflow.com/users/4806934/rene-munsch"}, "edited": false, "score": 0, "creation_date": 1529089541, "post_id": 50848733, "comment_id": 88764996, "body": "YAY! Changing the Player Settings to .net4.x did the trick! Thank you very much!"}, {"owner": {"reputation": 1640, "user_id": 8051819, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210907873227100/picture?type=large", "display_name": "Milan Egon Votrubec", "link": "https://stackoverflow.com/users/8051819/milan-egon-votrubec"}, "reply_to_user": {"reputation": 23, "user_id": 4806934, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9vwCCjR5rps/AAAAAAAAAAI/AAAAAAAACSs/ZhMvIA59Kn4/photo.jpg?sz=128", "display_name": "Rene Munsch", "link": "https://stackoverflow.com/users/4806934/rene-munsch"}, "edited": false, "score": 0, "creation_date": 1529124119, "post_id": 50848733, "comment_id": 88771909, "body": "@ReneMunsch, if you could mark that as the answer, so I can build my reputation, I&#39;d appreciate that. Thanks : )"}], "tags": [], "owner": {"reputation": 1640, "user_id": 8051819, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210907873227100/picture?type=large", "display_name": "Milan Egon Votrubec", "link": "https://stackoverflow.com/users/8051819/milan-egon-votrubec"}, "is_accepted": false, "score": -1, "last_activity_date": 1528942903, "creation_date": 1528942903, "answer_id": 50848733, "question_id": 50845794, "link": "https://stackoverflow.com/questions/50845794/cs0246-type-or-namespace-newtonsoft-not-found/50848733#50848733", "title": "CS0246 Type or namespace &quot;Newtonsoft&quot; not found", "body": "<p>I've found the easiest way to incorporate Newtonsoft.Json, is to go to the <a href=\"https://www.nuget.org/packages/newtonsoft.json/\" rel=\"nofollow noreferrer\">NuGet site</a>, and manually download the package. Then, unzip all of the files in to a \"Plugins\" folder under your assets directory, i.e. Assets/Plugins/Json.NET.</p>\n\n<p>You should also be setting your Player Scripting Runtime Version to .NET 4.x. I also set my API compatibility to .NET Standard 2.0. Though while recommended, it's not required.</p>\n"}, {"tags": [], "owner": {"reputation": 603, "user_id": 3163818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7042ecba3664affb153d6c4b3f1d29?s=128&d=identicon&r=PG", "display_name": "Applejag", "link": "https://stackoverflow.com/users/3163818/applejag"}, "is_accepted": false, "score": -1, "last_activity_date": 1579669340, "creation_date": 1579669340, "answer_id": 59852907, "question_id": 50845794, "link": "https://stackoverflow.com/questions/50845794/cs0246-type-or-namespace-newtonsoft-not-found/59852907#59852907", "title": "CS0246 Type or namespace &quot;Newtonsoft&quot; not found", "body": "<p>It's recommended to use one of the prepared Newtonsoft.Json forks that have changed it to be compatible with Unity3D. They are much easier to use than the NuGet package, and unlike the official NuGet package that will fail at runtime when building to AOT targets such as Android, iOS, WebGL, etc., they all have support for this. Here are the top three:</p>\n\n<ul>\n<li><p><a href=\"https://github.com/jilleJr/Newtonsoft.Json-for-Unity\" rel=\"nofollow noreferrer\">jilleJr/Newtonsoft.Json-for-Unity</a>, Newtonsoft.Json 12.0.1-12.0.3, available via the Unity Package Manager (UPM) that's built-in Unity 2018.1 and upwards.</p></li>\n<li><p><a href=\"https://github.com/SaladLab/Json.Net.Unity3D\" rel=\"nofollow noreferrer\">SaladLab/Json.Net.Unity</a>, Newtonsoft.Json 7.0.1-9.0.1, available via <code>.unitypackage</code> and UniGet</p></li>\n<li><p><a href=\"https://assetstore.unity.com/packages/tools/input-management/json-net-for-unity-11347\" rel=\"nofollow noreferrer\">ParentElement's JSON .NET for Unity</a>, Newtonsoft.Json 8.0.3, available via the Unity Assets Store</p></li>\n</ul>\n\n<p>The variant by jilleJr is the only active fork at time of writing. The others has stopped development.</p>\n\n<p>Installation instructions taken from <a href=\"https://github.com/jilleJr/Newtonsoft.Json-for-Unity/wiki/Installation-via-UPM\" rel=\"nofollow noreferrer\">jilleJr's wiki</a></p>\n\n<blockquote>\n  <p>Open /Packages/manifest.json, add scope for jillejr, then add the package in the list of dependencies.</p>\n  \n  <p>\u00c0 la:</p>\n  \n  <pre><code>{\n  \"scopedRegistries\": [\n    {\n      \"name\": \"Packages from jillejr\",\n      \"url\": \"https://npm.cloudsmith.io/jillejr/newtonsoft-json-for-unity/\",\n      \"scopes\": [\"jillejr\"]\n    }\n  ],\n  \"dependencies\": {\n    \"jillejr.newtonsoft.json-for-unity\": \"12.0.201\",\n\n    //\u2004...\n  }\n}\n</code></pre>\n  \n  <p><sub><code>//\u2004...</code> signals the rest of the packages you have in the manifest.json, such as all the <code>\"com.unity.*\"</code> dependencies</sub></p>\n</blockquote>\n"}], "owner": {"reputation": 23, "user_id": 4806934, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9vwCCjR5rps/AAAAAAAAAAI/AAAAAAAACSs/ZhMvIA59Kn4/photo.jpg?sz=128", "display_name": "Rene Munsch", "link": "https://stackoverflow.com/users/4806934/rene-munsch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3901, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1579669340, "creation_date": 1528921756, "question_id": 50845794, "link": "https://stackoverflow.com/questions/50845794/cs0246-type-or-namespace-newtonsoft-not-found", "title": "CS0246 Type or namespace &quot;Newtonsoft&quot; not found", "body": "<p>after clean installation of Unity3D (2018.1.1f1) it post-installed VS 2017 (15.7.3).\nI begun a cs script, and want to debug an object \"print_r\"-style, so I installed Newtonsoft.Json 11.0.2 by th nuGet Package-Manager.\nIf i call \"Get-Package\" in the pakage-console, it shows to me </p>\n\n<pre><code>Newtonsoft.Json                     {11.0.2}                                 Assembly-CSharp  \n</code></pre>\n\n<p>Unfortunately it still pushes me errors when i try to compile:</p>\n\n<pre><code>Schweregrad Code    Beschreibung    Projekt Datei   Zeile   Unterdr\u00fcckungszustand\n</code></pre>\n\n<p>Fehler  CS0246  Der Typ- oder Namespacename \"Newtonsoft\" wurde nicht gefunden (m\u00f6glicherweise fehlt eine using-Direktive oder ein Assemblyverweis). Assembly-CSharp C:\\Users\\bubu\\Documents\\Therapiefilm\\Assets\\test.cs 4   Aktiv\nIt means the Namespace \"Newtonsoft\" wasnt found or an Assembly-Link is missing.</p>\n\n<p>But I dont know what the error actually is. ;-(</p>\n\n<p>Any hint is welcome!\nRegards \nRene\u00b4\nps: my script-source:</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing Newtonsoft.Json;\n\npublic class test : MonoBehaviour {\n\n    // Use this for initialization\n    void Start () {\n\n    }\n\n    // Update is called once per frame\n    void Update () {\n\n    }\n    private static void Dump(object o)\n    {\n        string json = JsonConvert.SerializeObject(o, Formatting.Indented);\n        Console.WriteLine(json);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1528921293, "post_id": 50845622, "comment_id": 88694788, "body": "Why do you need EF Core in the first place?"}, {"owner": {"reputation": 547, "user_id": 4948279, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9760045ae20652bb86b6f5cedf6697cc?s=128&d=identicon&r=PG&f=1", "display_name": "cAMPy", "link": "https://stackoverflow.com/users/4948279/campy"}, "reply_to_user": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1528921351, "post_id": 50845622, "comment_id": 88694828, "body": "Using constructors with parameters and support of mapping to fields, not just properties,"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 1, "creation_date": 1528921939, "post_id": 50845622, "comment_id": 88695144, "body": "If you have got it compiling I&#39;d say the answer to this question is: Yes. And then the next step is how EF Core is initialized, that is indeed a litle different. No App_Data in Core...  But we see no code so there will not be many answers."}], "owner": {"reputation": 547, "user_id": 4948279, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9760045ae20652bb86b6f5cedf6697cc?s=128&d=identicon&r=PG&f=1", "display_name": "cAMPy", "link": "https://stackoverflow.com/users/4948279/campy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1528921201, "creation_date": 1528921201, "question_id": 50845622, "link": "https://stackoverflow.com/questions/50845622/can-i-use-entity-framework-core-with-asp-net-mvc-not-core", "title": "Can I use Entity Framework Core with ASP.NET MVC (not core)?", "body": "<p>I'd like to use some features from EF Core (mapping to fields) but in my ASP.NET MVC application. Is this possible? When I am trying to add migration I get:\n\"No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions object in its constructor and passes it to the base constructor for DbContext.\" In usual EF the Db is just created locally in App_Data...</p>\n\n<p>Does this mean the whole idea is stupid and I should use ASP.NET MVC Core? </p>\n"}, {"tags": ["c#", "asp.net-core-mvc"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1528921796, "post_id": 50845545, "comment_id": 88695076, "body": "It&#39;s still Razor, it&#39;s just not using the same HTML helpers. It&#39;s using a new concept called <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/views/tag-helpers/intro?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">tag helpers</a>."}, {"owner": {"reputation": 689, "user_id": 2125723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe638a46efe97afc9c9dd039de54fb6b?s=128&d=identicon&r=PG", "display_name": "ryanwebjackson", "link": "https://stackoverflow.com/users/2125723/ryanwebjackson"}, "edited": false, "score": 0, "creation_date": 1528930685, "post_id": 50845545, "comment_id": 88698274, "body": "Please change the word &quot;property&quot; to &quot;element&quot;, otherwise it&#39;s a good question."}], "answers": [{"comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 2, "creation_date": 1528921299, "post_id": 50845620, "comment_id": 88694795, "body": "Link only answers are discouraged on Stack Overflow. Links are fine as a supplement, but your answer should be able to stand on its own merit without the link. Please summary the necessary information here."}], "tags": [], "owner": {"reputation": 246, "user_id": 9871202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47f5f23c023ef2edf7913ca35bbbd96?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Bowker", "link": "https://stackoverflow.com/users/9871202/jordan-bowker"}, "is_accepted": false, "score": 7, "last_activity_date": 1566887623, "last_edit_date": 1566887623, "creation_date": 1528921199, "answer_id": 50845620, "question_id": 50845545, "link": "https://stackoverflow.com/questions/50845545/environment-tag-helper-in-net-core/50845620#50845620", "title": "Environment Tag Helper in .NET Core", "body": "<p>The <strong>environment</strong> tag helper uses the value of <strong>IHostingEnvironment.EnvironmentName</strong> to include/exclude content in the DOM (Document Object Model) based on the current application environment.</p>\n\n<p>In your snippet, the first two style sheets are included when running your code in a development environment, and the bottom two are excluded when in development environment. </p>\n\n<p>See Microsoft docs on <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/environments?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">Tag Helper in ASP.NET Core</a> and <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/views/tag-helpers/built-in/environment-tag-helper?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">Environment Tag Helper</a> , which could help more clearly to answer your question.</p>\n"}, {"tags": [], "owner": {"reputation": 563, "user_id": 9848327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6e947aa3b4a109805fd08463d4c0d7?s=128&d=identicon&r=PG&f=1", "display_name": "k1dev", "link": "https://stackoverflow.com/users/9848327/k1dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1528921667, "creation_date": 1528921667, "answer_id": 50845765, "question_id": 50845545, "link": "https://stackoverflow.com/questions/50845545/environment-tag-helper-in-net-core/50845765#50845765", "title": "Environment Tag Helper in .NET Core", "body": "<p><a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/views/tag-helpers/built-in/environment-tag-helper?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">The Environment Tag Helper</a> conditionally renders its enclosed content based on the current hosting environment.</p>\n\n<p>The <code>include</code> attribute basically means render the code whether you're in <code>Development</code> environment, while it won't be rendered with <code>exclude</code> attribute.</p>\n"}, {"comments": [{"owner": {"reputation": 784, "user_id": 4236321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9f57e8a7807b7c818c00bebeac4e73d7?s=128&d=identicon&r=PG", "display_name": "Manish Jain", "link": "https://stackoverflow.com/users/4236321/manish-jain"}, "edited": false, "score": 1, "creation_date": 1566881449, "post_id": 57579978, "comment_id": 101783761, "body": "This is the best answer from all as you described &quot;Staging and Production&quot; environment too."}], "tags": [], "owner": {"reputation": 136, "user_id": 6846249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IZPyx.jpg?s=128&g=1", "display_name": "Yashar Azadvatan", "link": "https://stackoverflow.com/users/6846249/yashar-azadvatan"}, "is_accepted": false, "score": 8, "last_activity_date": 1566933185, "last_edit_date": 1566933185, "creation_date": 1566327313, "answer_id": 57579978, "question_id": 50845545, "link": "https://stackoverflow.com/questions/50845545/environment-tag-helper-in-net-core/57579978#57579978", "title": "Environment Tag Helper in .NET Core", "body": "<p>We have 3 Environments; Development, Staging and Production.</p>\n\n<p>This tag helper help us to render what we need in different environments.</p>\n\n<p>the code below means that, if we are in DEVELOPMENT environment, render this css files.</p>\n\n<pre><code>&lt;environment include=\"Development\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"~/lib/bootstrap/dist/css/bootstrap.css\" /&gt;\n    &lt;link rel=\"stylesheet\" href=\"~/css/site.css\" /&gt;\n&lt;/environment&gt;\n</code></pre>\n\n<p>and the code below means that render the content when we are NOT in DEVELOPMENT environment.</p>\n\n<pre><code>&lt;environment exclude=\"Development\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.7/css/bootstrap.min.css\"\n          asp-fallback-href=\"~/lib/bootstrap/dist/css/bootstrap.min.css\"\n          asp-fallback-test-class=\"sr-only\" asp-fallback-test-property=\"position\" asp-fallback-test-value=\"absolute\" /&gt;\n    &lt;link rel=\"stylesheet\" href=\"~/css/site.min.css\" asp-append-version=\"true\" /&gt;\n&lt;/environment&gt;\n</code></pre>\n\n<p>*note: asp-fallback-href in code above means if can't connect to cdn, go and use minified bootstrap file from server!</p>\n\n<p>also you can write code above like this:</p>\n\n<pre><code>&lt;environment include=\"Staging, Production\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.7/css/bootstrap.min.css\"\n          asp-fallback-href=\"~/lib/bootstrap/dist/css/bootstrap.min.css\"\n          asp-fallback-test-class=\"sr-only\" asp-fallback-test-property=\"position\" asp-fallback-test-value=\"absolute\" /&gt;\n    &lt;link rel=\"stylesheet\" href=\"~/css/site.min.css\" asp-append-version=\"true\" /&gt;\n&lt;/environment&gt;\n</code></pre>\n\n<p>that means render the content if we are in STAGING or PRODUCTION environments.</p>\n"}], "owner": {"reputation": 993, "user_id": 9896575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d895455f1b0ecc15e65304835e9bbba?s=128&d=identicon&r=PG&f=1", "display_name": "john Cogdle", "link": "https://stackoverflow.com/users/9896575/john-cogdle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5579, "favorite_count": 0, "answer_count": 3, "score": 7, "last_activity_date": 1566933185, "creation_date": 1528920942, "last_edit_date": 1566886888, "question_id": 50845545, "link": "https://stackoverflow.com/questions/50845545/environment-tag-helper-in-net-core", "title": "Environment Tag Helper in .NET Core", "body": "<p>I just create a .net core 2.0 project on my visual studio and found in _Layout.cshtml few new properties like called- \"environment\". I worked on MVC5 but there was no such properties. What these propertie does? Is it replacement of Rezor Syntax which i used in MVC5 view? Please provide details with doc for use those properties to get started with those. </p>\n\n<p>_Layout.cshtml:</p>\n\n<pre><code> &lt;environment include=\"Development\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"~/lib/bootstrap/dist/css/bootstrap.css\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"~/css/site.css\" /&gt;\n    &lt;/environment&gt;\n    &lt;environment exclude=\"Development\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.7/css/bootstrap.min.css\"\n              asp-fallback-href=\"~/lib/bootstrap/dist/css/bootstrap.min.css\"\n              asp-fallback-test-class=\"sr-only\" asp-fallback-test-property=\"position\" asp-fallback-test-value=\"absolute\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"~/css/site.min.css\" asp-append-version=\"true\" /&gt;\n    &lt;/environment&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/yRTke.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yRTke.png\" alt=\"pic\"></a></p>\n"}, {"tags": ["c#", "c++", "dllimport", "dllexport", "unmanaged-memory"], "comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1528922567, "post_id": 50845520, "comment_id": 88695446, "body": "Read the array with Marshal.Copy. But, how do you plan to deallocate the array? And how does the caller know the length of the array? If the length is fixed then better for caller to allocate."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 9905613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f8e97dc5518ab918a3e7b80f6a585b4?s=128&d=identicon&r=PG&f=1", "display_name": "user527248", "link": "https://stackoverflow.com/users/9905613/user527248"}, "edited": false, "score": 0, "creation_date": 1528921293, "post_id": 50845599, "comment_id": 88694789, "body": "does the getData() remain the same ? how about receiving them at the c# end ?"}, {"owner": {"reputation": 81, "user_id": 9881724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/900281a48e708a77ee1734b2a1cf98af?s=128&d=identicon&r=PG&f=1", "display_name": "wech", "link": "https://stackoverflow.com/users/9881724/wech"}, "edited": false, "score": 0, "creation_date": 1528921367, "post_id": 50845599, "comment_id": 88694837, "body": "LuisGP solution works, but it produces a memory leak because getDat() returns an array of doubles allocated trough new, and .Net does not know how to free it.  Either change the method to use a double buffer supplied by the caller or stay with IntPtr return, provide an additional deleteData()-Method to free the intptr and use System.Runtime.Interop.Marshal.PtrToStructure"}, {"owner": {"reputation": 421, "user_id": 2455274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82bfd1de1145ad919f4eb33cc4e0870b?s=128&d=identicon&r=PG", "display_name": "LuisGP", "link": "https://stackoverflow.com/users/2455274/luisgp"}, "edited": false, "score": 0, "creation_date": 1528921495, "post_id": 50845599, "comment_id": 88694915, "body": "You must use the struct instead the double*, of course. In the C# side I&#39;m not an expert. As wech says, it will produce a memory leak if you don&#39;t provide a deleteData() method, of manage the liberation of memory in any other way."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1528922445, "post_id": 50845599, "comment_id": 88695393, "body": "No need to use a struct at all. Nonsense. IntPtr is fine. You use Marshal class to read the unmanaged memory. Deallocator has to be exported to. Or allocation on a shared heap."}, {"owner": {"reputation": 35, "user_id": 9905613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f8e97dc5518ab918a3e7b80f6a585b4?s=128&d=identicon&r=PG&f=1", "display_name": "user527248", "link": "https://stackoverflow.com/users/9905613/user527248"}, "edited": false, "score": 0, "creation_date": 1528922983, "post_id": 50845599, "comment_id": 88695641, "body": "This is where I am stuck at C-sharp end:         private void button1_Click(object sender, EventArgs e)         {             IntPtr ipr = eyeData();             double[] eyeTrackData = new double[10];             int j = 0;              eyeTrackData[0] = Marshal.PtrToStringAnsi(Marshal.ReadIntPtr(ipr, 11*j));  The last line gives error. Also, I am passsing array of double type, so how do I deal with this ?"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1528923069, "post_id": 50845599, "comment_id": 88695679, "body": "An array of double is not a string"}, {"owner": {"reputation": 35, "user_id": 9905613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f8e97dc5518ab918a3e7b80f6a585b4?s=128&d=identicon&r=PG&f=1", "display_name": "user527248", "link": "https://stackoverflow.com/users/9905613/user527248"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1528924005, "post_id": 50845599, "comment_id": 88696061, "body": "@DavidHeffernan but I need to receive data that is sent to be double."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1528924131, "post_id": 50845599, "comment_id": 88696114, "body": "Right. So why are you trying to convert it to text? Rather than communicate in comments to this poor answer, how about addressing the points in my comment to the question?"}, {"owner": {"reputation": 35, "user_id": 9905613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f8e97dc5518ab918a3e7b80f6a585b4?s=128&d=identicon&r=PG&f=1", "display_name": "user527248", "link": "https://stackoverflow.com/users/9905613/user527248"}, "edited": false, "score": 0, "creation_date": 1528924628, "post_id": 50845599, "comment_id": 88696315, "body": "The length of array returned from unmanaged code will always be four. I want to convert it to text, because I want to display it on the TextBox."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1528955202, "post_id": 50845599, "comment_id": 88703442, "body": "OK. Have the caller allocate it and pass the array as a parameter that the callee populates."}, {"owner": {"reputation": 35, "user_id": 9905613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f8e97dc5518ab918a3e7b80f6a585b4?s=128&d=identicon&r=PG&f=1", "display_name": "user527248", "link": "https://stackoverflow.com/users/9905613/user527248"}, "edited": false, "score": 0, "creation_date": 1528992390, "post_id": 50845599, "comment_id": 88725968, "body": "[DllImport(&quot;C:\\\\Users\\\\BME 320 - Section 1\\\\Documents\\\\Visual Studio 2015\\\\Projects\\\\EyeTrackDll\\\\x64\\\\Debug\\\\EyeTrackDll.dll&quot;, CallingConvention = CallingConvention.Cdecl)]          public static extern IntPtr eyeData();      private void button1_Click(object sender, EventArgs e)         {             IntPtr ipr = eyeData();             try             {                                   double[] eyeTrackData = new double[4];                         Marshal.Copy(ipr, eyeTrackData, 0, 4);              finally             {                 Marshal.FreeHGlobal(ipr);             }"}, {"owner": {"reputation": 35, "user_id": 9905613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f8e97dc5518ab918a3e7b80f6a585b4?s=128&d=identicon&r=PG&f=1", "display_name": "user527248", "link": "https://stackoverflow.com/users/9905613/user527248"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1528992512, "post_id": 50845599, "comment_id": 88726025, "body": "I wrote this and getting EntryPoinNotFound exception. Any suggestions @DavidHeffernan"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1528993461, "post_id": 50845599, "comment_id": 88726487, "body": "I&#39;m fed up with doing this in comments to an answer. I&#39;m out. You keep ignoring my suggestions so it&#39;s just a waste of my time."}, {"owner": {"reputation": 421, "user_id": 2455274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82bfd1de1145ad919f4eb33cc4e0870b?s=128&d=identicon&r=PG", "display_name": "LuisGP", "link": "https://stackoverflow.com/users/2455274/luisgp"}, "edited": false, "score": 0, "creation_date": 1528996387, "post_id": 50845599, "comment_id": 88727823, "body": "I updated my answer to try summarize all David Heffernan tips."}, {"owner": {"reputation": 35, "user_id": 9905613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f8e97dc5518ab918a3e7b80f6a585b4?s=128&d=identicon&r=PG&f=1", "display_name": "user527248", "link": "https://stackoverflow.com/users/9905613/user527248"}, "edited": false, "score": 0, "creation_date": 1528997158, "post_id": 50845599, "comment_id": 88728210, "body": "@LuisGP your solution doesn&#39;t work.    eyeData(ipr); error: Cannot convert from System.IntPtr[] to System.IntPtr Also,     Marshal.Copy(ipr, eyeTrackData, 0, 4);  Cannot convert from double[] to int"}, {"owner": {"reputation": 421, "user_id": 2455274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82bfd1de1145ad919f4eb33cc4e0870b?s=128&d=identicon&r=PG", "display_name": "LuisGP", "link": "https://stackoverflow.com/users/2455274/luisgp"}, "edited": false, "score": 0, "creation_date": 1528997405, "post_id": 50845599, "comment_id": 88728334, "body": "I edited my answer with a little more of IntPtr knowledge I just googled. Why didn&#39;t you?"}, {"owner": {"reputation": 35, "user_id": 9905613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f8e97dc5518ab918a3e7b80f6a585b4?s=128&d=identicon&r=PG&f=1", "display_name": "user527248", "link": "https://stackoverflow.com/users/9905613/user527248"}, "edited": false, "score": 0, "creation_date": 1529002949, "post_id": 50845599, "comment_id": 88730945, "body": "I did that. I am now stuck with EntryPointNotFoundException which I googled a lot and came up with 2 fixes, which didn&#39;t work out."}, {"owner": {"reputation": 421, "user_id": 2455274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82bfd1de1145ad919f4eb33cc4e0870b?s=128&d=identicon&r=PG", "display_name": "LuisGP", "link": "https://stackoverflow.com/users/2455274/luisgp"}, "edited": false, "score": 0, "creation_date": 1529006972, "post_id": 50845599, "comment_id": 88732830, "body": "Did you see this <a href=\"https://stackoverflow.com/questions/12892271/entrypointnotfoundexception-when-binding-c-dll-in-c-sharp\">link</a>? Maybe you should try <a href=\"http://www.dependencywalker.com/\" rel=\"nofollow noreferrer\">DependencyWalker</a>. Sounds like you are not exporting/importing the function in the dll properly."}, {"owner": {"reputation": 102162, "user_id": 613130, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40bd5f390cba274159501bb244bc29f4?s=128&d=identicon&r=PG", "display_name": "xanatos", "link": "https://stackoverflow.com/users/613130/xanatos"}, "edited": false, "score": 0, "creation_date": 1529044138, "post_id": 50845599, "comment_id": 88742020, "body": "It could be made simpler with (in C#): <code>void eyeData(double[] array);</code> and then <code>double[] eyeTrackData = new double[4]; </code>eyeData(eyeTrackData);`. There is autopinning of arrays, and primitive type arrays aren&#39;t marshaled but simply passed as reference."}], "tags": [], "owner": {"reputation": 421, "user_id": 2455274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82bfd1de1145ad919f4eb33cc4e0870b?s=128&d=identicon&r=PG", "display_name": "LuisGP", "link": "https://stackoverflow.com/users/2455274/luisgp"}, "is_accepted": false, "score": 0, "last_activity_date": 1528997355, "last_edit_date": 1528997355, "creation_date": 1528921100, "answer_id": 50845599, "question_id": 50845520, "link": "https://stackoverflow.com/questions/50845520/retrieving-array-from-cunmanaged-code-to-c-sharp-formmanaged/50845599#50845599", "title": "Retrieving array from C++(Unmanaged code) to C Sharp form(Managed)", "body": "<p>Following the @DavidHeffernan tips, I will try to give you an example of how to achieve your objective. Please, take the C# part as pseudocode, as I'm not expert in that language.</p>\n\n<p>I would use a struct as previously said, just to make things clearer, and I consider it a good practice to give some type protection and the possibility to add a \"size\" attribute to the struct if don't know exactly how many doubles will be. In your case, as always are 4, isn't needed.</p>\n\n<p>Function in C++ Library:</p>\n\n<pre><code>void getData(double* eyeTrackData)\n{\n    const unique_ptr&lt;Fove::IFVRHeadset&gt; headset{ Fove::GetFVRHeadset() };\n\n    CheckError(headset-&gt;Initialise(Fove::EFVR_ClientCapabilities::Gaze), \"Initialise\");\n\n    Fove::SFVR_GazeVector leftGaze, rightGaze;\n    const Fove::EFVR_ErrorCode error = headset-&gt;GetGazeVectors(&amp;leftGaze, &amp;rightGaze);\n\n\n    // Check for error\n    switch (error)\n    {\n\n    case Fove::EFVR_ErrorCode::None:\n        eyeTrackData[0] = (double)leftGaze.vector.x;\n        eyeTrackData[1] = (double)leftGaze.vector.y;\n        eyeTrackData[2] = (double)rightGaze.vector.x;\n        eyeTrackData[3] = (double)rightGaze.vector.y;\n        break;\n\n    default:\n        // Less common errors are simply logged with their numeric value\n        cerr &lt;&lt; \"Error #\" &lt;&lt; EnumToUnderlyingValue(error) &lt;&lt; endl;\n        break;\n    }\n}\n</code></pre>\n\n<p>C# side:</p>\n\n<pre><code>[DllImport(\"C:\\\\Users\\\\BME 320 - Section 1\\\\Documents\\\\Visual Studio 2015\\\\Projects\\\\EyeTrackDll\\\\x64\\\\Debug\\\\EyeTrackDll.dll\", CallingConvention = CallingConvention.Cdecl)]\npublic static extern void eyeData(IntPtr); \n\nprivate void button1_Click(object sender, EventArgs e) \n{ \n    try \n    { \n        IntPtr ipr = Marshal.AllocHGlobal(4); // Memory blob to pass to the DLL\n        eyeData(ipr);\n        double[] eyeTrackData = new double[4]; // Your C# data\n        Marshal.Copy(ipr, eyeTrackData, 0, 4); // Convert?\n    }\n    finally \n    { \n        Marshal.FreeHGlobal(ipr); \n    }\n} \n</code></pre>\n\n<p>Again, sorry for my \"bad C#\" xD. Hope this helps.</p>\n"}], "owner": {"reputation": 35, "user_id": 9905613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f8e97dc5518ab918a3e7b80f6a585b4?s=128&d=identicon&r=PG&f=1", "display_name": "user527248", "link": "https://stackoverflow.com/users/9905613/user527248"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1528997355, "creation_date": 1528920851, "last_edit_date": 1528943909, "question_id": 50845520, "link": "https://stackoverflow.com/questions/50845520/retrieving-array-from-cunmanaged-code-to-c-sharp-formmanaged", "title": "Retrieving array from C++(Unmanaged code) to C Sharp form(Managed)", "body": "<p>I have below implementation in C++ (have created a DLL of the same)</p>\n\n<pre><code>double *getData()\n{\n    double *eyeTrackData = new double[10];\n    const unique_ptr&lt;Fove::IFVRHeadset&gt; headset{ Fove::GetFVRHeadset() };\n\n    CheckError(headset-&gt;Initialise(Fove::EFVR_ClientCapabilities::Gaze), \n\"Initialise\");\n\n    Fove::SFVR_GazeVector leftGaze, rightGaze;\n    const Fove::EFVR_ErrorCode error = headset-&gt;GetGazeVectors(&amp;leftGaze, \n    &amp;rightGaze);\n\n\n    // Check for error\n    switch (error)\n    {\n\n    case Fove::EFVR_ErrorCode::None:\n        eyeTrackData[0] = (double)leftGaze.vector.x;\n        eyeTrackData[1] = (double)leftGaze.vector.y;\n        eyeTrackData[2] = (double)rightGaze.vector.x;\n        eyeTrackData[3] = (double)rightGaze.vector.y;\n        break;\n\n\n    default:\n        // Less common errors are simply logged with their numeric value\n        cerr &lt;&lt; \"Error #\" &lt;&lt; EnumToUnderlyingValue(error) &lt;&lt; endl;\n        break;\n    }\n\n    return eyeTrackData;\n}\n</code></pre>\n\n<p>I have included</p>\n\n<pre><code>extern \"C\"\n{\n    __declspec(dllexport) double *getData();\n}\n</code></pre>\n\n<p>in the header file.</p>\n\n<p>I try to receive this in C-sharp.</p>\n\n<pre><code>[DllImport(\"C:\\\\Users\\\\BME 320 - Section 1\\\\Documents\\\\Visual Studio 2015\\\\Projects\\\\EyeTrackDll\\\\x64\\\\Debug\\\\EyeTrackDll.dll\", CallingConvention = CallingConvention.Cdecl)]\npublic static extern IntPtr eyeData();\n</code></pre>\n\n<p>But I don't know how to receive the array inside buttonClick event.</p>\n\n<p>I appreciate any help on this.</p>\n"}, {"tags": ["c#", "recursion", "directory"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1528920732, "post_id": 50845442, "comment_id": 88694494, "body": "perhaps keep track of the indent with another parameter to your method, and increment it when you do the recursive call?"}], "answers": [{"tags": [], "owner": {"reputation": 1233, "user_id": 7960859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tyaFp.png?s=128&g=1", "display_name": "obermillerk", "link": "https://stackoverflow.com/users/7960859/obermillerk"}, "is_accepted": true, "score": 1, "last_activity_date": 1528920946, "creation_date": 1528920946, "answer_id": 50845547, "question_id": 50845442, "link": "https://stackoverflow.com/questions/50845442/how-to-print-every-subdirectory-but-every-subdirectory-should-be-tabbed-in-befo/50845547#50845547", "title": "how to print every subdirectory, but every subdirectory should be tabbed in before its printed", "body": "<p>I don't know C# so some of the syntax might be wrong, but you could do something like this</p>\n\n<pre><code>static void WriteDirectories(string path, int level)\n{\n    string[] dirs = Directory.GetDirectories(path/*, \"*\", SearchOption.AllDirectories*/);\n    for (int i = 0; i &lt; dirs.Length; i++)\n    {\n        int l = level;\n        while (l &gt; 0) {\n            Console.Write(\"  \");\n            l -= 1;\n        }\n        Console.Write(dirs[i] + \"\\n\");\n        if (Directory.GetDirectories(dirs[i]).Length &gt; 0)\n        {\n            WriteDirectories(dirs[i], level + 1);continue;\n        }\n    }\n}\n</code></pre>\n\n<p>In your initial call just pass 0 for level. Or, if you don't want to expose this, make a private helper function that has this, and make the public facing function that accepts just a path call this with 0 for level.</p>\n"}, {"tags": [], "owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "is_accepted": false, "score": 2, "last_activity_date": 1528921233, "creation_date": 1528921233, "answer_id": 50845635, "question_id": 50845442, "link": "https://stackoverflow.com/questions/50845442/how-to-print-every-subdirectory-but-every-subdirectory-should-be-tabbed-in-befo/50845635#50845635", "title": "how to print every subdirectory, but every subdirectory should be tabbed in before its printed", "body": "<p>I would write it as. Just use a <em>level</em> parameter and call it as</p>\n\n<pre><code>WriteDirectories(path,0);\n</code></pre>\n\n<hr>\n\n<pre><code>static void WriteDirectories(string path,int level)\n{\n    string[] dirs = Directory.GetDirectories(path);\n    foreach(var dir in dirs)\n    {\n        Console.WriteLine(\"\".PadLeft(level*2, ' ') +  dir);\n        WriteDirectories(dir, level + 1);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "is_accepted": false, "score": 0, "last_activity_date": 1528921429, "creation_date": 1528921429, "answer_id": 50845692, "question_id": 50845442, "link": "https://stackoverflow.com/questions/50845442/how-to-print-every-subdirectory-but-every-subdirectory-should-be-tabbed-in-befo/50845692#50845692", "title": "how to print every subdirectory, but every subdirectory should be tabbed in before its printed", "body": "<p>It wasn't clear whether you wanted the full path for each directory or just that directory name, so given the layout, I've assumed just the name. Here it is...</p>\n\n<pre><code>    static void Main(string[] args)\n    {\n        WriteDirectories(@\"D:\\Heaven Benchmark 4.0\");\n        Console.ReadKey();\n    }\n\n    private static void WriteDirectories(string path, int depth = 0)\n    {\n        string leafName = Path.GetFileName(path);\n        string indent = new string(' ', depth * 2);\n        Console.WriteLine($\"{indent}{leafName}\");\n\n        string[] directories = Directory.GetDirectories(path);\n        foreach (var directory in directories)\n        {\n            WriteDirectories(directory, depth + 1);\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1528921608, "creation_date": 1528921608, "answer_id": 50845743, "question_id": 50845442, "link": "https://stackoverflow.com/questions/50845442/how-to-print-every-subdirectory-but-every-subdirectory-should-be-tabbed-in-befo/50845743#50845743", "title": "how to print every subdirectory, but every subdirectory should be tabbed in before its printed", "body": "<p>Here's one way to do it, what I was talking about in my comment. Notice that we're using <code>Path.GetFileName</code> to get just the directory name (without the full path), so the output looks a little better with the indents:</p>\n\n<pre><code>static void WriteDirectories(string path, int indent = 0)\n{\n    Console.WriteLine(new string(' ', indent * 2) + Path.GetFileName(path));\n\n    foreach (string subDir in Directory.GetDirectories(path))\n    {\n        WriteDirectories(subDir, indent + 1);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 8463221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7yI0u.jpg?s=128&g=1", "display_name": "Crionics", "link": "https://stackoverflow.com/users/8463221/crionics"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 50845547, "answer_count": 4, "score": 1, "last_activity_date": 1528921608, "creation_date": 1528920537, "question_id": 50845442, "link": "https://stackoverflow.com/questions/50845442/how-to-print-every-subdirectory-but-every-subdirectory-should-be-tabbed-in-befo", "title": "how to print every subdirectory, but every subdirectory should be tabbed in before its printed", "body": "<p>I'm trying to print every sub directory without using SearchOption.AllDirectories, only with Directory.GetDirectories for this i'm using recursion. my main problem is to print out every sub directory with two spaces in front like this :</p>\n\n<pre><code>1\n  1,1\n    1,1,1\n2\n  2,1\n3\netc...\n\n    class Program\n{\n\n    static void Main(string[] args)\n    {\n\n        string path = @\"D:\\Heaven Benchmark 4.0\";\n        WriteDirectories(path);\n\n        Console.ReadKey();\n\n    }\n    static void WriteDirectories(string path)\n    {\n        string[] dirs = Directory.GetDirectories(path/*, \"*\", SearchOption.AllDirectories*/);\n        for (int i = 0; i &lt; dirs.Length; i++)\n        {\n            Console.Write(dirs[i] + \"\\n\");\n            if (Directory.GetDirectories(dirs[i]).Length &gt; 0)\n            {\n                Console.Write(\"  \"); WriteDirectories(dirs[i]);continue;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "linq", "rest"], "answers": [{"tags": [], "owner": {"reputation": 15667, "user_id": 186133, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0d401170e6126e9518c8a0e5829335d3?s=128&d=identicon&r=PG", "display_name": "Carlos Mu&#241;oz", "link": "https://stackoverflow.com/users/186133/carlos-mu%c3%b1oz"}, "is_accepted": false, "score": 1, "last_activity_date": 1528921219, "creation_date": 1528921219, "answer_id": 50845627, "question_id": 50845441, "link": "https://stackoverflow.com/questions/50845441/there-is-an-error-with-linq-system-notsupportedexception/50845627#50845627", "title": "There is an error with linq &quot;System.NotSupportedException&quot;", "body": "<p>You need a <code>ToList()</code> before <code>.Select(MapToBindingModel)</code></p>\n\n<p>Since EF can't project your results to <code>TitleBindingModel</code> you should materialize the result of <code>GetAll()</code> before attempting to map them.</p>\n\n<pre><code>public virtual async Task&lt;IHttpActionResult&gt; GetAll()\n{\n    ...\n\n    return Ok(Service.GetAll().ToList().Select(MapToBindingModel));\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8929785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52db331965f5e80f1c8f86d7a3bf34db?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/8929785/dmitriy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1528921640, "creation_date": 1528920534, "last_edit_date": 1528921640, "question_id": 50845441, "link": "https://stackoverflow.com/questions/50845441/there-is-an-error-with-linq-system-notsupportedexception", "title": "There is an error with linq &quot;System.NotSupportedException&quot;", "body": "<p>Could you help to solve the problem with this error or say how it can be done differently. Thank you!</p>\n\n<p>My task is to output the result (collection) with a note for each entity in it.\nIf the user has it in the elected.</p>\n\n<pre><code>protected Expression &lt; Func &lt; TEntity, TBindingModel &gt; &gt; MapToBindingModel;  \nprotected ApplicationUserManager UserManager =&gt; Request.GetOwinContext().GetUserManager&lt;ApplicationUserManager&gt;();\n\n\ninternal ApplicationUser _applicationUser;\n\n[HttpGet]\n[Route]\n[EnableQuery]\npublic virtual async Task&lt;IHttpActionResult&gt; GetAll()\n{\n    _applicationUser = await UserManager.FindByIdAsync(User.Identity.GetUserId());\n    if (_applicationUser == null)\n        return BadRequest(\"User is not found\");\n\n    return Ok(Service.GetAll().Select(MapToBindingModel));\n}\n\nMapToBindingModel = title =&gt; new TitleBindingModel\n    {\n        Id = title.Id,\n       //data..\n        Favorite = _applicationUser != null &amp;&amp; _applicationUser.Favorite.Titles.Any(i=&gt;i.Id == title.Id)       \n    };       \n</code></pre>\n\n<p>Here is the error message:</p>\n\n<pre><code>{\n    \"Message\": \"An error has occurred.\",\n    \"ExceptionMessage\": \"Could not create constant with type \\\"Domain.Authorization.ApplicationUser\\\". In this context only primitive types and enumeration types are supported.\",\n    \"ExceptionType\": \"System.NotSupportedException\",\n    \"StackTrace\": \"   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.ConstantTranslator.TypedTranslate(ExpressionConverter parent, ConstantExpression linq)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.TranslateExpression(Expression linq)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.EqualsTranslator.CreateIsNullExpression(ExpressionConverter parent, Expression input)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.TranslateExpression(Expression linq)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.NotTranslator.TypedTranslate(ExpressionConverter parent, UnaryExpression linq)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.TranslateExpression(Expression linq)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.TranslateExpression(Expression linq)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.BinaryTranslator.TypedTranslate(ExpressionConverter parent, BinaryExpression linq)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.TranslateExpression(Expression linq)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.MemberInitTranslator.TypedTranslate(ExpressionConverter parent, MemberInitExpression linq)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.TranslateExpression(Expression linq)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.TranslateLambda(LambdaExpression lambda, DbExpression input)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.MethodCallTranslator.OneLambdaTranslator.Translate(ExpressionConverter parent, MethodCallExpression call, DbExpression&amp; source, DbExpressionBinding&amp; sourceBinding, DbExpression&amp; lambda)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.MethodCallTranslator.SelectTranslator.Translate(ExpressionConverter parent, MethodCallExpression call)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.MethodCallTranslator.TypedTranslate(ExpressionConverter parent, MethodCallExpression linq)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.TranslateExpression(Expression linq)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ExpressionConverter.Convert()\\r\\n   \u0432 System.Data.Entity.Core.Objects.ELinq.ELinqQueryState.GetExecutionPlan(Nullable`1 forMergeOption)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ObjectQuery`1.&lt;&gt;c__DisplayClass7.&lt;GetResults&gt;b__6()\\r\\n   \u0432 System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ObjectQuery`1.&lt;&gt;c__DisplayClass7.&lt;GetResults&gt;b__5()\\r\\n   \u0432 System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ObjectQuery`1.GetResults(Nullable`1 forMergeOption)\\r\\n   \u0432 System.Data.Entity.Core.Objects.ObjectQuery`1.&lt;System.Collections.Generic.IEnumerable&lt;T&gt;.GetEnumerator&gt;b__0()\\r\\n   \u0432 System.Data.Entity.Internal.LazyEnumerator`1.MoveNext()\\r\\n   \u0432 Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)\\r\\n   \u0432 Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)\\r\\n   \u0432 Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)\\r\\n   \u0432 System.Net.Http.Formatting.BaseJsonMediaTypeFormatter.WriteToStream(Type type, Object value, Stream writeStream, Encoding effectiveEncoding)\\r\\n   \u0432 System.Net.Http.Formatting.JsonMediaTypeFormatter.WriteToStream(Type type, Object value, Stream writeStream, Encoding effectiveEncoding)\\r\\n   \u0432 System.Net.Http.Formatting.BaseJsonMediaTypeFormatter.WriteToStreamAsync(Type type, Object value, Stream writeStream, HttpContent content, TransportContext transportContext, CancellationToken cancellationToken)\\r\\n--- \u041a\u043e\u043d\u0435\u0446 \u0442\u0440\u0430\u0441\u0441\u0438\u0440\u043e\u0432\u043a\u0430 \u0441\u0442\u0435\u043a\u0430 \u0438\u0437 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0433\u043e \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0433\u0434\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 ---\\r\\n   \u0432 System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\\r\\n   \u0432 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\\r\\n   \u0432 System.Web.Http.Owin.HttpMessageHandlerAdapter.&lt;BufferResponseContentAsync&gt;d__27.MoveNext()\"\n}\n</code></pre>\n"}, {"tags": ["c#", "firebase", "xamarin", "xamarin.forms", "firebase-authentication"], "comments": [{"owner": {"reputation": 1669, "user_id": 1341538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Busrg.jpg?s=128&g=1", "display_name": "Andres Castro", "link": "https://stackoverflow.com/users/1341538/andres-castro"}, "edited": false, "score": 2, "creation_date": 1528920736, "post_id": 50845396, "comment_id": 88694496, "body": "When you say nothing is returned. Do you mean user is null?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9519742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Ip5J.jpg?s=128&g=1", "display_name": "Jonathan Ray", "link": "https://stackoverflow.com/users/9519742/jonathan-ray"}, "is_accepted": false, "score": 0, "last_activity_date": 1536885792, "creation_date": 1536885792, "answer_id": 52323531, "question_id": 50845396, "link": "https://stackoverflow.com/questions/50845396/firebase-authentication-with-xamarin/52323531#52323531", "title": "FireBase Authentication with Xamarin", "body": "<p>Couple thoughts:</p>\n\n<p>1) What sign-in providers do you have enabled on Firebase? You'll need the Email/Password combo activated (this can be found under Develop > Authentication > Sign-in method).</p>\n\n<p>2) How are you initialising your FirebaseAuth instance? Here's a sample that works for me:</p>\n\n<pre><code>FirebaseOptions options = new FirebaseOptions.Builder()\n    .SetApiKey(\"your-api-key\")\n    .SetApplicationId(\"your-application-id\")\n    .Build();\n\n// declared in the Activity class, ergo 'this' references the Activity's context\nFirebaseApp app = FirebaseApp.InitializeApp(this, options);\n\nFirebaseAuth authInstance = FirebaseAuth.GetInstance(app);\n\n// Now you can use authInstance.SignInWith...(etc.)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9938060, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lgPfnVf-eBM/AAAAAAAAAAI/AAAAAAAAAEM/H9-PtmI5WBg/photo.jpg?sz=128", "display_name": "GabeS", "link": "https://stackoverflow.com/users/9938060/gabes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 936, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536885792, "creation_date": 1528920385, "question_id": 50845396, "link": "https://stackoverflow.com/questions/50845396/firebase-authentication-with-xamarin", "title": "FireBase Authentication with Xamarin", "body": "<p>Having some trouble with Firebase Authentication in a Xamarin Forms application being developed.  When trying to sign in using the following:</p>\n\n<p>Interface:</p>\n\n<pre><code>public interface IFirebaseAuthenticator\n{\n    Task&lt;string&gt; LoginWithEmailPassword(string email, string password);\n}\n</code></pre>\n\n<p>Class:</p>\n\n<pre><code>public class FirebaseAuthenticator : IFirebaseAuthenticator\n{ \n    public async Task&lt;string&gt; LoginWithEmailPassword(string email, string password)\n    {\n\n            IAuthResult user = await FirebaseAuth.Instance.SignInWithEmailAndPasswordAsync(email, password);\n            var token = await user.User.GetIdTokenAsync(false);\n            return token.Token;\n</code></pre>\n\n<p>The function is being called in the MainActivity.cs file of the application.  We do have the Xamarin.Firebase.Auth Nuget package installed and referenced.</p>\n\n<p>Nothing is returned, and the error documentation isn't helpful at all.  Our team has gone through just about every bit of information we could find online and have resorted to posting here as a last resort.</p>\n\n<p>Thanks for the help. </p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 2034, "user_id": 2486496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rpd3r.jpg?s=128&g=1", "display_name": "gravity", "link": "https://stackoverflow.com/users/2486496/gravity"}, "edited": false, "score": 0, "creation_date": 1528920501, "post_id": 50845359, "comment_id": 88694385, "body": "So, you&#39;re just concerned that it&#39;s also adjusting Column C, but Column D is correct and what you expect - correct?"}, {"owner": {"reputation": 107, "user_id": 9528003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/863b968e9ee2820f27dc010868247cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Harshvardhan Chittora", "link": "https://stackoverflow.com/users/9528003/harshvardhan-chittora"}, "reply_to_user": {"reputation": 2034, "user_id": 2486496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rpd3r.jpg?s=128&g=1", "display_name": "gravity", "link": "https://stackoverflow.com/users/2486496/gravity"}, "edited": false, "score": 0, "creation_date": 1528920830, "post_id": 50845359, "comment_id": 88694532, "body": "I just expect column D to be corrected. All other columns should remain as it is @gravity"}, {"owner": {"reputation": 2034, "user_id": 2486496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rpd3r.jpg?s=128&g=1", "display_name": "gravity", "link": "https://stackoverflow.com/users/2486496/gravity"}, "edited": false, "score": 0, "creation_date": 1528922007, "post_id": 50845359, "comment_id": 88695180, "body": "OK, that&#39;s what I thought.  Can you provide where you&#39;re setting <code>RangePosition</code> <code>Range</code> at?  It seems like you need to adjust that <code>Range</code> after applying the data, but BEFORE you change <code>DataFormat</code>"}, {"owner": {"reputation": 107, "user_id": 9528003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/863b968e9ee2820f27dc010868247cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Harshvardhan Chittora", "link": "https://stackoverflow.com/users/9528003/harshvardhan-chittora"}, "reply_to_user": {"reputation": 2034, "user_id": 2486496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rpd3r.jpg?s=128&g=1", "display_name": "gravity", "link": "https://stackoverflow.com/users/2486496/gravity"}, "edited": false, "score": 0, "creation_date": 1528961003, "post_id": 50845359, "comment_id": 88706199, "body": "Actually RangePosition is not fixed date column may differ in excel sheet so we can not set any fixed range here."}, {"owner": {"reputation": 2034, "user_id": 2486496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rpd3r.jpg?s=128&g=1", "display_name": "gravity", "link": "https://stackoverflow.com/users/2486496/gravity"}, "edited": false, "score": 0, "creation_date": 1528986781, "post_id": 50845359, "comment_id": 88722480, "body": "You&#39;re sending a <code>RangePosition.EntireRange</code> which is a <code>Range</code> in Excel.  That is your issue.  You need to isolate to the specific column instead, and only set that <code>DataFormat</code> to Column D."}, {"owner": {"reputation": 107, "user_id": 9528003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/863b968e9ee2820f27dc010868247cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Harshvardhan Chittora", "link": "https://stackoverflow.com/users/9528003/harshvardhan-chittora"}, "reply_to_user": {"reputation": 2034, "user_id": 2486496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rpd3r.jpg?s=128&g=1", "display_name": "gravity", "link": "https://stackoverflow.com/users/2486496/gravity"}, "edited": false, "score": 0, "creation_date": 1529044222, "post_id": 50845359, "comment_id": 88742051, "body": "The problem here is, we don&#39;t know exactly which column will contain the date field. We are just extracting a file from a source and the file can have the multiple numbers of date columns, as well as the position of the column, can be anywhere. It would also be great if we can find the data format of each field so that we can perform the necessary operation on the specified column. @gravity"}], "owner": {"reputation": 107, "user_id": 9528003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/863b968e9ee2820f27dc010868247cb5?s=128&d=identicon&r=PG&f=1", "display_name": "Harshvardhan Chittora", "link": "https://stackoverflow.com/users/9528003/harshvardhan-chittora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528920235, "creation_date": 1528920235, "question_id": 50845359, "link": "https://stackoverflow.com/questions/50845359/convert-number-of-days-to-date-in-excel-using-reogridcontrol-for-wpf", "title": "Convert number of days to date in excel using ReoGridControl for WPF", "body": "<p>I'm having an excel sheet (Excel 2007). I have used ReoGridControl in it. When I'm opening the sheet, the default date format is getting changed and instead of date, the number of days is being displayed.</p>\n\n<p>I tried using </p>\n\n<pre><code>worksheet.SetRangeDataFormat(RangePosition.EntireRange,CellDataFormatFlag.DateTime);\n</code></pre>\n\n<p>but it is converting other fields which are not dates into date format.</p>\n\n<p>Is there any other way to convert the specific column to the date format or the way to get the data format of the particular column?</p>\n\n<p>This is the original file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2ZleO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ZleO.png\" alt=\"enter image description here\"></a></p>\n\n<p>After loading the file, I'm getting</p>\n\n<p><a href=\"https://i.stack.imgur.com/mxFrc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mxFrc.png\" alt=\"enter image description here\"></a></p>\n\n<p>After applying <strong>SetRangeDataFormat</strong> I'm getting</p>\n\n<p><a href=\"https://i.stack.imgur.com/DH1We.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DH1We.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "edited": false, "score": 0, "creation_date": 1528919865, "post_id": 50845261, "comment_id": 88694074, "body": "Either in your SQL do a ISNULL check on the values to replace null with blank, or set the values to a variable prior to setting the items to the .Text box and do a null check on the assignment are two options"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1528920309, "post_id": 50845261, "comment_id": 88694286, "body": "A part from the null problem your code replaces the content of the TextBox three times and leave the textbox with the final value."}, {"owner": {"reputation": 17933, "user_id": 1249641, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/36f92eb927954a52eeb1331e494f4897?s=128&d=identicon&r=PG&f=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/1249641/marco"}, "edited": false, "score": 0, "creation_date": 1528920312, "post_id": 50845261, "comment_id": 88694288, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1772025/sql-data-reader-handling-null-column-values\">SQL Data Reader - handling Null column values</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9356915"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1528920863, "post_id": 50845261, "comment_id": 88694550, "body": "@Steve; what should I do to prevent that"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1528921114, "post_id": 50845261, "comment_id": 88694695, "body": "If you want to have in the same textbox the values of the three fields then you need to write <i>txt.Text += ....</i> for the two last fields."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9356915"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1528921240, "post_id": 50845261, "comment_id": 88694765, "body": "@Steve, can you write out what you mean because I want it in separate boxes"}], "answers": [{"comments": [{"owner": {"reputation": 932, "user_id": 1447861, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/100000972500066/picture?type=large", "display_name": "Vandel212", "link": "https://stackoverflow.com/users/1447861/vandel212"}, "edited": false, "score": 0, "creation_date": 1528932331, "post_id": 50845366, "comment_id": 88698641, "body": "I edited my answer, try that. The syntax might be off a tiny bit, I&#39;m doing it off the top of my head. Ultimately you need to check for a null value first before doing anything else. Also make sure you do it for each one."}], "tags": [], "owner": {"reputation": 932, "user_id": 1447861, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/100000972500066/picture?type=large", "display_name": "Vandel212", "link": "https://stackoverflow.com/users/1447861/vandel212"}, "is_accepted": false, "score": 0, "last_activity_date": 1528932258, "last_edit_date": 1528932258, "creation_date": 1528920265, "answer_id": 50845366, "question_id": 50845261, "link": "https://stackoverflow.com/questions/50845261/reading-from-database-to-placeholder-textboxes-not-working-asp-net/50845366#50845366", "title": "Reading from Database to placeholder textboxes not working Asp.net", "body": "<p>You need to check if the value is null first. Try this when you are setting the text box's text value:</p>\n\n<pre><code>txt.Text = myReader[\"ID1\"] == DBNull.Value ? \"\" : myReader[\"ID1\"].ToString();\n</code></pre>\n\n<p>That way if it's null, it'll just fill it with a empty string.</p>\n\n<p>As a side note, you are setting the same text box's text value. So the end result will always be whatever ID3 turns up. If you are appending it, use \"+=\" instead of \"=\".</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9356915"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528932258, "creation_date": 1528919757, "question_id": 50845261, "link": "https://stackoverflow.com/questions/50845261/reading-from-database-to-placeholder-textboxes-not-working-asp-net", "title": "Reading from Database to placeholder textboxes not working Asp.net", "body": "<p>I'm trying to read values from database into placeholder textbox but if one of the columns is null then throws the Unable to cast object of type 'System.DBNull' to type 'System.String'. And if I remove the textboxes that have null then I'm only seeing 1 ID even when it is two ID numbers in the database</p>\n\n<pre><code>SqlDataReader myReader = null;\n\n    SqlCommand command = new SqlCommand(\"sp_selectUser\", objConnection);\n    command.CommandType = CommandType.StoredProcedure;\n    command.Parameters.AddWithValue(\"@userNum\", txtuserNum.Text);\n\n\n    myReader = command.ExecuteReader();\n    int i = 0;\n    while (myReader.Read())\n    {\n\n\n        TextBox txt = new TextBox();\n\n        txt.Text = (string)myReader[\"ID1\"];\n        txt.Text = (string)myReader[\"ID2\"];\n        txt.Text = (string)myReader[\"ID3\"];\n\n        ContentPlaceHolder1.Controls.Add(txt);\n        ContentPlaceHolder1.Controls.Add(new \n\nLiteralControl(\"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\"));\n            ControlCache.Add(txt);\n}\n</code></pre>\n"}, {"tags": ["c#", "json.net", "deserialization"], "answers": [{"tags": [], "owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "is_accepted": true, "score": 4, "last_activity_date": 1529092317, "creation_date": 1529092317, "answer_id": 50881884, "question_id": 50845255, "link": "https://stackoverflow.com/questions/50845255/deserializing-custom-exceptions-in-newtonsoft-json/50881884#50881884", "title": "Deserializing custom exceptions in Newtonsoft.Json", "body": "<p>In Json.NET 11 a change was made to how <code>ISerializable</code> types are serialized.  According to the <a href=\"http://james.newtonking.com/archive/2018/02/22/json-net-11-0-release-1-net-standard-2-0-jsonconverters-json-path-and-more\" rel=\"nofollow noreferrer\">release notes</a>:</p>\n\n<blockquote>\n  <ul>\n  <li>Change - Types that implement ISerializable but don't have [SerializableAttribute] are not serialized using ISerializable</li>\n  </ul>\n</blockquote>\n\n<p>Thus you must now mark your exception types with <a href=\"https://msdn.microsoft.com/en-us/library/system.serializableattribute.aspx\" rel=\"nofollow noreferrer\"><code>SerializableAttribute</code></a>:</p>\n\n<pre><code>[Serializable]\npublic sealed class MyHttpException : MyBaseException\n{\n}\n\n[Serializable]\npublic abstract class MyBaseException : Exception\n{\n}\n</code></pre>\n\n<p>Alternatively, you could create a <a href=\"https://www.newtonsoft.com/json/help/html/contractresolver.htm\" rel=\"nofollow noreferrer\">custom contract resolver</a> that restores the old behavior:</p>\n\n<pre><code>public class PreferISerializableContractResolver : DefaultContractResolver\n{\n    protected override JsonContract CreateContract(Type objectType)\n    {\n        var contract = base.CreateContract(objectType);\n\n        if (!IgnoreSerializableInterface\n            &amp;&amp; contract is JsonObjectContract\n            &amp;&amp; typeof(ISerializable).IsAssignableFrom(objectType)\n            &amp;&amp; !objectType.GetCustomAttributes(true).OfType&lt;JsonContainerAttribute&gt;().Any())\n        {\n            contract = CreateISerializableContract(objectType);\n        }\n\n        return contract;\n    }\n}\n</code></pre>\n\n<p>(You may want to <a href=\"https://stackoverflow.com/q/33557737/3744182\">cache the contract resolver for best performance</a>.)</p>\n\n<p>Why was this change made?  According to <a href=\"https://github.com/JamesNK/Newtonsoft.Json/issues/1622\" rel=\"nofollow noreferrer\">Issue #1622: classes deriving from System.Exception do not serialize/deserialize properly</a>:</p>\n\n<blockquote>\n  <p>Json.NET previous wasn't serializing <code>ISerializable</code> types correctly. The <code>SerializableAttribute</code> is required.</p>\n  \n  <p>See here for more info <a href=\"https://github.com/dotnet/corefx/issues/23415\" rel=\"nofollow noreferrer\">dotnet/corefx#23415</a>.</p>\n</blockquote>\n\n<p>And in turn the linked issue <a href=\"https://github.com/dotnet/corefx/issues/23415\" rel=\"nofollow noreferrer\">dotnet/corefx Issue #23415: PlatformNotSupportedException when attempting to serialize DirectoryInfo instance with Newtonsoft.Json</a> indicates that the change was made at the request of the .NET Core team:</p>\n\n<blockquote>\n  <p><strong>JamesNK</strong> commented on Aug 29, 2017</p>\n  \n  <p>So the issue is Json.NET is checking that a type implements ISerializable but not also checking for the SerialiazableAttribute?</p>\n  \n  <p><strong>ViktorHofer</strong> commented on Aug 29, 2017</p>\n  \n  <p>Correct :)</p>\n</blockquote>\n\n<p>Thus if you do use <code>PreferISerializableContractResolver</code> instead of marking your <code>ISerializable</code> types with <code>[Serializable]</code>, you might encounter this very issue in .NET Core.</p>\n"}], "owner": {"reputation": 71, "user_id": 3553799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a75ad33be5ef3e612ca499926eb94f5?s=128&d=identicon&r=PG&f=1", "display_name": "perf-guru", "link": "https://stackoverflow.com/users/3553799/perf-guru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2338, "favorite_count": 1, "accepted_answer_id": 50881884, "answer_count": 1, "score": 3, "last_activity_date": 1529108011, "creation_date": 1528919737, "last_edit_date": 1529108011, "question_id": 50845255, "link": "https://stackoverflow.com/questions/50845255/deserializing-custom-exceptions-in-newtonsoft-json", "title": "Deserializing custom exceptions in Newtonsoft.Json", "body": "<p>I've been having trouble deserializing custom exceptions in Newtonsoft.Json version 11.0.2. It works fine in Newtonsoft.Json version 10.0.3.</p>\n\n<p>I serialize and deserialize using - </p>\n\n<pre><code>result = JsonConvert.SerializeObject( &lt;&lt;object of type MyHttpException&gt;&gt; );\nMyHttpException deserializedException = JsonConvert.DeserializeObject&lt;MyHttpException&gt;(result);\n</code></pre>\n\n<p>The error I get during deserialization is a <code>Newtonsoft.Json.JsonSerializationException</code>:</p>\n\n<blockquote>\n  <p>Unable to find a constructor to use for type MyHttpException. \n  A class should either have a default constructor, one constructor with arguments or a constructor marked with the JsonConstructor attribute. \n  Path 'HttpStatusCode', line 2, position 19.</p>\n</blockquote>\n\n<p>If I add a parameterless constructor to MyHttpException and MyBaseException, I don't get any exception. But the InnerException is not deserialized and is null.</p>\n\n<p>Is there something obvious I'm missing? I'm not sure why this would work in 10.0.3 and break in 11.0.2.</p>\n\n<p>My exception classes \u2013 </p>\n\n<pre><code>public sealed class MyHttpException : MyBaseException\n{\n    public MyHttpException(HttpStatusCode httpStatusCode, int MyStatusCode)\n        : base(MyStatusCode) =&gt; HttpStatusCode = httpStatusCode;\n\n    public MyHttpException(HttpStatusCode httpStatusCode, int MyStatusCode, string message)\n        : base(MyStatusCode, message) =&gt; HttpStatusCode = httpStatusCode;\n\n    public MyHttpException(HttpStatusCode httpStatusCode, int MyStatusCode, Exception innerException)\n        : base(MyStatusCode, innerException) =&gt; HttpStatusCode = httpStatusCode;\n\n    public MyHttpException(HttpStatusCode httpStatusCode, int MyStatusCode, string message, Exception innerException)\n        : base(MyStatusCode, message, innerException) =&gt; HttpStatusCode = httpStatusCode;\n\n    [SecurityPermission(SecurityAction.Demand, SerializationFormatter = true)]\n    private MyHttpException(SerializationInfo info, StreamingContext context)\n        : base(info, context) =&gt; HttpStatusCode = (HttpStatusCode)info.GetValue(\"HttpStatusCode\", typeof(HttpStatusCode));\n\n    public HttpStatusCode HttpStatusCode { get; set; }\n\n    [SecurityPermission(SecurityAction.Demand, SerializationFormatter = true)]\n    public override void GetObjectData(SerializationInfo info, StreamingContext context)\n    {\n        if (info == null)\n        {\n            throw new ArgumentNullException(\"info\");\n        }\n\n        info.AddValue(\"HttpStatusCode\", HttpStatusCode);\n\n        // MUST call through to the base class to let it save its own state\n        base.GetObjectData(info, context);\n    }\n}\n\npublic abstract class MyBaseException : Exception\n{\n    public MyBaseException(int MyStatusCode) =&gt; this.MyStatusCode = MyStatusCode;\n\n    public MyBaseException(int MyStatusCode, string message)\n        : base(message) =&gt; this.MyStatusCode = MyStatusCode;\n\n    public MyBaseException(int MyStatusCode, Exception innerException)\n        : base(\"MyErrorCode: \" + MyStatusCode + \". \" + MyStatusCodes.GetDescription(MyStatusCode) + \". \" + innerException.Message, innerException) =&gt; this.MyStatusCode = MyStatusCode;\n\n    public MyBaseException(int MyStatusCode, string message, Exception innerException)\n        : base(message, innerException) =&gt; this.MyStatusCode = MyStatusCode;\n\n    [SecurityPermission(SecurityAction.Demand, SerializationFormatter = true)]\n    protected MyBaseException(SerializationInfo info, StreamingContext context)\n        : base(info, context)\n    {\n        MyStatusCode = info.GetInt32(\"MyStatusCode\");\n    }\n\n    public int MyStatusCode { get; set; }\n\n    [SecurityPermission(SecurityAction.Demand, SerializationFormatter = true)]\n    public override void GetObjectData(SerializationInfo info, StreamingContext context)\n    {\n        if (info == null)\n        {\n            throw new ArgumentNullException(\"info\");\n        }\n\n        info.AddValue(\"MyStatusCode\", MyStatusCode);\n\n        // MUST call through to the base class to let it save its own state\n        base.GetObjectData(info, context);\n    }\n}\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "mysql", "asp.net-mvc"], "comments": [{"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1528919582, "post_id": 50845202, "comment_id": 88693920, "body": "Have you debugged the response from the controller before it enters the razor engine to ensure that you actually have properly populated the data?"}, {"owner": {"reputation": 13, "user_id": 9301301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pnXLd.jpg?s=128&g=1", "display_name": "Rex B", "link": "https://stackoverflow.com/users/9301301/rex-b"}, "reply_to_user": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1528920409, "post_id": 50845202, "comment_id": 88694340, "body": "No, I haven&#39;t done that yet. Thank you."}, {"owner": {"reputation": 13, "user_id": 9301301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pnXLd.jpg?s=128&g=1", "display_name": "Rex B", "link": "https://stackoverflow.com/users/9301301/rex-b"}, "reply_to_user": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1528924016, "post_id": 50845202, "comment_id": 88696065, "body": "No I hadn&#39;t done that. Thanks. I&#39;m not quite sure how to debug the response from the controller. I&#39;m going to add the controller code for this SelectList and the ApplicationDBContext and ask how to ensure that the data is properly populated. I populated the table separately for the SelectList."}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1528932048, "post_id": 50845202, "comment_id": 88698586, "body": "Your code looks fine. When are you getting this exception? Is it for the first GET request or after you submit the form ?"}, {"owner": {"reputation": 13, "user_id": 9301301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pnXLd.jpg?s=128&g=1", "display_name": "Rex B", "link": "https://stackoverflow.com/users/9301301/rex-b"}, "edited": false, "score": 0, "creation_date": 1528932844, "post_id": 50845202, "comment_id": 88698741, "body": "I get the exception on the line: &#39;asp-items=&quot;@(new SelectList(@ViewBag.ListofIdentifier, &quot;AlertIndex&quot;, &quot;Alert_Identifier&quot;))&quot;&gt;&lt;/select&gt;&#39; in the view page AlertSelect cshtml shown above."}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1528936045, "post_id": 50845202, "comment_id": 88699340, "body": "Your code is fine. I just copied and tried in a local project and it worked fine."}, {"owner": {"reputation": 13, "user_id": 9301301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pnXLd.jpg?s=128&g=1", "display_name": "Rex B", "link": "https://stackoverflow.com/users/9301301/rex-b"}, "edited": false, "score": 0, "creation_date": 1528943376, "post_id": 50845202, "comment_id": 88700691, "body": "Just btw, the error for me comes before the page is displayed. I&#39;ll keep after it. Thanks."}], "owner": {"reputation": 13, "user_id": 9301301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pnXLd.jpg?s=128&g=1", "display_name": "Rex B", "link": "https://stackoverflow.com/users/9301301/rex-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 649, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528924837, "creation_date": 1528919526, "last_edit_date": 1528924837, "question_id": 50845202, "link": "https://stackoverflow.com/questions/50845202/argumentnullexception-value-cannot-be-null-parameter-name-items", "title": "ArgumentNullException: Value cannot be null. Parameter name: items", "body": "<p>I've seen many iterations of this problem, involving dropdownlistfor tag helper more than select tag helper (my problem) such as <a href=\"https://stackoverflow.com/questions/38921483/value-cannot-be-null-parameter-name-items-in-dropdown-list-asp-net-mvc5\">here</a> and <a href=\"https://stackoverflow.com/questions/18357321/value-cannot-be-null-parameter-name-items-drodownlist\">here</a>, but I haven't found the answer that works for me yet, so I'm looking for help.</p>\n\n<p>The line of code that is highlighted in the stacktrace is from my file AlertSelect.cshtml: </p>\n\n<pre><code>asp-items=\"@(new SelectList(@ViewBag.ListofIdentifier, \"AlertIndex\", \"Alert_Identifier\"))\"&gt;&lt;/select&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>@model edxl_cap_v1_2.Models.EdxlCapMsg\n\n@{\n    &lt;form asp-controller=\"EdxlCapMsg\" asp-action=\"Index\" method=\"post\" \nclass=\"form-horizontal\" role=\"form\"&gt;\n        &lt;div class=\"form-group\"&gt;\n            &lt;div class=\"alert-danger\" asp-validation-summary=\"ModelOnly\"&gt;&lt;/div&gt;\n            &lt;div class=\"content-wrapper\"&gt;\n                &lt;span class=\"smallText\"&gt;\n                    &lt;label asp-for=\"Alert_Identifier\" class=\"control-label\"&gt;   &lt;/label&gt;\n                    &lt;select asp-for=\"AlertIndex\"\n                            class=\"form-control\"\n                            asp-items=\"@(new SelectList(@ViewBag.ListofIdentifier, \"AlertIndex\", \"Alert_Identifier\"))\"&gt;&lt;/select&gt;\n                &lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        @*&lt;div class=\"form-group\"&gt;\n            &lt;div class=\"content-wrapper\"&gt;\n                &lt;input id=\"Submit1\" type=\"submit\" value=\"submit\" /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"form-group\"&gt;\n            &lt;div class=\"content-wrapper\"&gt;\n                @if (ViewBag.SelectedValue != null)\n                {\n                    &lt;text&gt;Selected Alert_Identifier: &lt;/text&gt; @ViewBag.SelectedValue;\n                }\n            &lt;/div&gt;\n        &lt;/div&gt;*@\n    &lt;/form&gt;\n}\n</code></pre>\n\n<p>'items' references the AlertIndex and Alert_Identifier columns of the EdxlCapMsg table in the MySql databsase, which is prepopulated with 3 records. I'm really stumped because I created this dropdownlist from a <a href=\"https://www.c-sharpcorner.com/article/binding-dropdown-list-with-database-in-asp-net-core-mvc/\" rel=\"nofollow noreferrer\">tutorial</a> in a separate solution in Visual Studio 2017 with an identical table in another MySql database and it works okay up to this point. (U can see where I've commented out the code that will be adapted to using the selection from the dropdownlist to select the record for editing in the much larger application.) </p>\n\n<p>Since the table is populated, I'm not seeing how the value could be null before it has even been displayed. </p>\n\n<p>Thanks in advance. I'm sure this is a dumb mistake, but I'm not seeing it.</p>\n\n<p>Here is the controller:</p>\n\n<pre><code>public class EdxlCapMsgController : Controller\n{\n    private readonly ApplicationDbContext _context;\n\n    public EdxlCapMsgController(ApplicationDbContext context)\n    {\n        _context = context;\n    }\n\n    // GET: EdxlCapMessages\n    public IActionResult Index()\n    {\n        List&lt;EdxlCapMsg&gt; identifierlist = new List&lt;EdxlCapMsg&gt;();\n\n        //------Getting Data fom Database using EntityFrameworkCore------\n        identifierlist = (from product in _context.EdxlCapMsg\n                          select product).ToList();\n\n        //------Inserting Select Item in List------\n        identifierlist.Insert(0, new EdxlCapMsg { AlertIndex = 0, Alert_Identifier = \"Select\" });\n\n        //------Assigning identifierlist to ViewBag.ListofIdentifier------\n        ViewBag.ListofIdentifier = identifierlist;\n\n\n        return View();\n    }\n\n    [HttpPost]\n\n    public IActionResult Index(EdxlCapMsg EdxlCapMsg)\n    {\n        //------Validation------\n        if (EdxlCapMsg.AlertIndex == 0)\n        {\n            ModelState.AddModelError(\"\", \"Select EdxlCapMsg\");\n        }\n\n        //------Getting selected value------\n        int SelectedValue = EdxlCapMsg.AlertIndex;\n\n        ViewBag.SelectedValue = EdxlCapMsg.AlertIndex;\n\n        //------Setting Data back to ViewBag after Posting form------\n        List&lt;EdxlCapMsg&gt; identifierlist = new List&lt;Models.EdxlCapMsg&gt;();\n\n        identifierlist = (from product in _context.EdxlCapMsg\n                          select product).ToList();\n\n        identifierlist.Insert(0, new EdxlCapMsg { AlertIndex = 0, Alert_Identifier = \"Select\" });\n        ViewBag.ListofIdentifier = identifierlist;\n\n        return View();\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here is the ApplicationDbContext:</p>\n\n<pre><code>public class ApplicationDbContext : IdentityDbContext&lt;ApplicationUser&gt;\n{\n    public ApplicationDbContext(DbContextOptions&lt;ApplicationDbContext&gt; options)\n        : base(options)\n    {\n        this.Database.EnsureCreated();\n    }\n\n    public DbSet&lt;EdxlCapMsg&gt; EdxlCapMsg { get; set; }\n\n    public virtual DbSet&lt;Person&gt; Persons { get; set; }\n\n    public DbSet&lt;Alert&gt; Alert { get; set; }\n\n    public DbSet&lt;Area&gt; Area { get; set; }\n\n    public DbSet&lt;DataCategory&gt; DataCategory { get; set; }\n\n    public DbSet&lt;Element&gt; Element { get; set; }\n\n    public DbSet&lt;Info&gt; Info { get; set; }\n\n    public DbSet&lt;Resource&gt; Resource { get; set; }\n\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        base.OnModelCreating(modelBuilder);\n....\n</code></pre>\n\n<p>For the SelectList the EdxlCapMsg is the major significant class.</p>\n"}, {"tags": ["c#", "visual-studio"], "comments": [{"owner": {"reputation": 2953, "user_id": 3769368, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3301727987157807f500ece485c1446d?s=128&d=identicon&r=PG&f=1", "display_name": "Rajmond Burgaj", "link": "https://stackoverflow.com/users/3769368/rajmond-burgaj"}, "edited": false, "score": 2, "creation_date": 1528919424, "post_id": 50845105, "comment_id": 88693842, "body": "Have u tried to clean the solution. You have a dropdown in VS where has some values like <code>Debug</code>, <code>Release</code> etc, dont forget to set that as <code>Debug</code> mode. Is your application hosted in IIS or just running from VS directly ?"}, {"owner": {"reputation": 1587, "user_id": 1636492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6d0ccf8f18fabe4e9963d504197cfc5?s=128&d=identicon&r=PG", "display_name": "hugo", "link": "https://stackoverflow.com/users/1636492/hugo"}, "edited": false, "score": 0, "creation_date": 1528919513, "post_id": 50845105, "comment_id": 88693889, "body": "You should also cleanup you bin and obj folders"}, {"owner": {"reputation": 2064, "user_id": 3845390, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0f7130928bbe0aee13068b60151043?s=128&d=identicon&r=PG&f=1", "display_name": "NovaDev", "link": "https://stackoverflow.com/users/3845390/novadev"}, "edited": false, "score": 0, "creation_date": 1528919838, "post_id": 50845105, "comment_id": 88694060, "body": "I&#39;m running from Visual Studio directly. I&#39;m also in <code>Debug</code> for sure. Clean the solution didn&#39;t work. I&#39;m especially puzzled since the project is new, even though the rest of the solution isn&#39;t."}, {"owner": {"reputation": 31181, "user_id": 5176071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQD5c.jpg?s=128&g=1", "display_name": "D-Shih", "link": "https://stackoverflow.com/users/5176071/d-shih"}, "edited": false, "score": 0, "creation_date": 1528919969, "post_id": 50845105, "comment_id": 88694119, "body": "How many projects in your solution?"}, {"owner": {"reputation": 2064, "user_id": 3845390, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0f7130928bbe0aee13068b60151043?s=128&d=identicon&r=PG&f=1", "display_name": "NovaDev", "link": "https://stackoverflow.com/users/3845390/novadev"}, "edited": false, "score": 0, "creation_date": 1528920010, "post_id": 50845105, "comment_id": 88694143, "body": "The WebAPI project I just added makes for a total of 9."}, {"owner": {"reputation": 17932, "user_id": 16391, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/8ff75049b31c4a05033be39792f1c2be?s=128&d=identicon&r=PG", "display_name": "StingyJack", "link": "https://stackoverflow.com/users/16391/stingyjack"}, "edited": false, "score": 0, "creation_date": 1564769262, "post_id": 50845105, "comment_id": 101152967, "body": "Still happening in VS 2019"}], "answers": [{"tags": [], "owner": {"reputation": 563, "user_id": 9848327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6e947aa3b4a109805fd08463d4c0d7?s=128&d=identicon&r=PG&f=1", "display_name": "k1dev", "link": "https://stackoverflow.com/users/9848327/k1dev"}, "is_accepted": true, "score": 16, "last_activity_date": 1528919975, "creation_date": 1528919975, "answer_id": 50845308, "question_id": 50845105, "link": "https://stackoverflow.com/questions/50845105/breakpoints-set-but-not-yet-bound-in-visual-studio/50845308#50845308", "title": "Breakpoints set but not yet bound in Visual Studio", "body": "<p>Try setting your web project as default <a href=\"https://msdn.microsoft.com/en-us/library/a1awth7y.aspx\" rel=\"noreferrer\">Startup Project</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 31181, "user_id": 5176071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQD5c.jpg?s=128&g=1", "display_name": "D-Shih", "link": "https://stackoverflow.com/users/5176071/d-shih"}, "is_accepted": false, "score": 11, "last_activity_date": 1555223270, "last_edit_date": 1555223270, "creation_date": 1528920112, "answer_id": 50845337, "question_id": 50845105, "link": "https://stackoverflow.com/questions/50845105/breakpoints-set-but-not-yet-bound-in-visual-studio/50845337#50845337", "title": "Breakpoints set but not yet bound in Visual Studio", "body": "<p>If you are using Multiple projects, you need to make sure two things let project debug normally</p>\n\n<ol>\n<li>Confirm whether the project is a default project.</li>\n<li>Confirm your project mode is <code>Debug</code> instead of <code>Release</code> </li>\n<li>Restart your Current project.</li>\n</ol>\n\n<p>more detail you can see <a href=\"http://web.archive.org/web/20120120060217/http://www.ariankulp.com/archive/2009/02/23/2557.aspx\" rel=\"noreferrer\">Kulp's Site</a></p>\n"}, {"comments": [{"owner": {"reputation": 466, "user_id": 1723312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sYWKR.jpg?s=128&g=1", "display_name": "Chris Patterson", "link": "https://stackoverflow.com/users/1723312/chris-patterson"}, "edited": false, "score": 0, "creation_date": 1574396299, "post_id": 51905415, "comment_id": 104226762, "body": "For whatever reason, I had to (or ended up) setting all the other (non-startup) projects in my solution to be have debug configuration also. Once I did this, I was able to add a breakpoint that worked. Not sure how I got into this state, I had not updated Visual Studio in over a week and didn\u2019t have this issue until today. Previously (today), I had done the clean/rebuild and deleted all my breakpoints. Neither of which worked. And my startup project was already set debug configuration. I even updated to the latest VS version able (VS Prof. 2019 ver: 16.3.10) and that didn\u2019t help either."}], "tags": [], "owner": {"reputation": 261, "user_id": 10241977, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TX-vRat3tfA/AAAAAAAAAAI/AAAAAAAAAeM/SMuH3SLWZ1A/photo.jpg?sz=128", "display_name": "Sandeep Kumar Singh", "link": "https://stackoverflow.com/users/10241977/sandeep-kumar-singh"}, "is_accepted": false, "score": 26, "last_activity_date": 1534587326, "last_edit_date": 1534587326, "creation_date": 1534568372, "answer_id": 51905415, "question_id": 50845105, "link": "https://stackoverflow.com/questions/50845105/breakpoints-set-but-not-yet-bound-in-visual-studio/51905415#51905415", "title": "Breakpoints set but not yet bound in Visual Studio", "body": "<p>Change your Project mode from Release to Debug in your Visual Studio.</p>\n\n<p><img src=\"https://i.stack.imgur.com/CBj0A.png\" alt=\"Debug Mode\"></p>\n"}, {"tags": [], "owner": {"reputation": 1776, "user_id": 411552, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fee4797f9ee9252b19ad24278b1dceda?s=128&d=identicon&r=PG", "display_name": "Towhid", "link": "https://stackoverflow.com/users/411552/towhid"}, "is_accepted": false, "score": 4, "last_activity_date": 1553855333, "creation_date": 1553855333, "answer_id": 55415388, "question_id": 50845105, "link": "https://stackoverflow.com/questions/50845105/breakpoints-set-but-not-yet-bound-in-visual-studio/55415388#55415388", "title": "Breakpoints set but not yet bound in Visual Studio", "body": "<p>Just clear the solution and re-start Visual Studio.</p>\n"}, {"tags": [], "owner": {"reputation": 784, "user_id": 2682713, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/GcOuF.png?s=128&g=1", "display_name": "shdr", "link": "https://stackoverflow.com/users/2682713/shdr"}, "is_accepted": false, "score": 0, "last_activity_date": 1576674641, "creation_date": 1576674641, "answer_id": 59392830, "question_id": 50845105, "link": "https://stackoverflow.com/questions/50845105/breakpoints-set-but-not-yet-bound-in-visual-studio/59392830#59392830", "title": "Breakpoints set but not yet bound in Visual Studio", "body": "<p>Clean the solution:</p>\n\n<p>Build -> Clean [solution name] </p>\n"}, {"comments": [{"owner": {"reputation": 556, "user_id": 14291243, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhLC5l_Wl9hz2ieOTfWXc3za3bspa6dAj1ug1oIYA=k-s128", "display_name": "Xenikh", "link": "https://stackoverflow.com/users/14291243/xenikh"}, "edited": false, "score": 1, "creation_date": 1617719485, "post_id": 66963818, "comment_id": 118379467, "body": "Please make use of text formatting."}], "tags": [], "owner": {"reputation": 1, "user_id": 15175313, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Sl8axDHudrI/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmpJQT4Jt0PWzK2Np2MduGstR97Pw/s96-c/photo.jpg?sz=128", "display_name": "Ali Hamza", "link": "https://stackoverflow.com/users/15175313/ali-hamza"}, "is_accepted": false, "score": 0, "last_activity_date": 1618212554, "last_edit_date": 1618212554, "creation_date": 1617691198, "answer_id": 66963818, "question_id": 50845105, "link": "https://stackoverflow.com/questions/50845105/breakpoints-set-but-not-yet-bound-in-visual-studio/66963818#66963818", "title": "Breakpoints set but not yet bound in Visual Studio", "body": "<p>It worked for me:</p>\n<p>1.Clean the Solution\n2.Set Startup Project\n3.Restart the Visual Studio</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14911147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16058e22c1c248ec006048ea70c1595a?s=128&d=identicon&r=PG&f=1", "display_name": "Deekshith Shekar", "link": "https://stackoverflow.com/users/14911147/deekshith-shekar"}, "is_accepted": false, "score": 1, "last_activity_date": 1618133947, "creation_date": 1618133947, "answer_id": 67043462, "question_id": 50845105, "link": "https://stackoverflow.com/questions/50845105/breakpoints-set-but-not-yet-bound-in-visual-studio/67043462#67043462", "title": "Breakpoints set but not yet bound in Visual Studio", "body": "<p><strong>Select Debug instead of Release...And it might work..</strong></p>\n<p><a href=\"https://i.stack.imgur.com/4WgBH.png\" rel=\"nofollow noreferrer\">Open this link to see the step</a></p>\n"}, {"tags": [], "owner": {"reputation": 1121, "user_id": 1164571, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8deefb757156d9b412080e634df7a2a9?s=128&d=identicon&r=PG", "display_name": "kall2sollies", "link": "https://stackoverflow.com/users/1164571/kall2sollies"}, "is_accepted": false, "score": 0, "last_activity_date": 1618213385, "creation_date": 1618213385, "answer_id": 67054369, "question_id": 50845105, "link": "https://stackoverflow.com/questions/50845105/breakpoints-set-but-not-yet-bound-in-visual-studio/67054369#67054369", "title": "Breakpoints set but not yet bound in Visual Studio", "body": "<p>If your Web API project is running in IIS, and / or was launched on a terminal (e.g. if you are using .net Core), and that you are in a case that you need to attach the debugger to an already running process, make sure Visual Studio was run as an administrator, unless it won't be allowed to attach to the process.</p>\n"}], "owner": {"reputation": 2064, "user_id": 3845390, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0f7130928bbe0aee13068b60151043?s=128&d=identicon&r=PG&f=1", "display_name": "NovaDev", "link": "https://stackoverflow.com/users/3845390/novadev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52317, "favorite_count": 1, "accepted_answer_id": 50845308, "answer_count": 8, "score": 40, "last_activity_date": 1618213385, "creation_date": 1528919166, "question_id": 50845105, "link": "https://stackoverflow.com/questions/50845105/breakpoints-set-but-not-yet-bound-in-visual-studio", "title": "Breakpoints set but not yet bound in Visual Studio", "body": "<p>Running Visual Studio Community 2017. Created a WebAPI project, have a controller class in there, with some basic stuff, but when I go to run in debug mode, I get the following error on my breakpoints, and I haven't the foggiest idea why.</p>\n\n<p><code>The breakpoint will not currently be hit. Breakpoints set but not yet bound.</code></p>\n\n<p>I've seen a few answers here and there, but they don't help, or they're about Visual Studio Code, which I am definitely not using. </p>\n\n<p>I found <a href=\"https://docs.microsoft.com/en-us/visualstudio/extensibility/debugger/binding-breakpoints\" rel=\"noreferrer\">this</a>, but it doesn't tell me what to do about my problem. How do I fix this issue?</p>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1528919227, "post_id": 50845104, "comment_id": 88693738, "body": "Did you try the same thing that worked for the button?"}, {"owner": {"reputation": 11, "user_id": 9938091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACulF.png?s=128&g=1", "display_name": "Nam Vitaliy", "link": "https://stackoverflow.com/users/9938091/nam-vitaliy"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1528919347, "post_id": 50845104, "comment_id": 88693803, "body": "Yes, I tried. But in the end nothing happened and I decided to apply here"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1528919603, "post_id": 50845104, "comment_id": 88693932, "body": "Its the same principle... please show what you have tried."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1528920250, "post_id": 50845104, "comment_id": 88694255, "body": "<a href=\"https://meta.stackoverflow.com/questions/284236/\">\u201cCan someone help me?\u201d is not a question we can answer</a>."}, {"owner": {"reputation": 563, "user_id": 9848327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6e947aa3b4a109805fd08463d4c0d7?s=128&d=identicon&r=PG&f=1", "display_name": "k1dev", "link": "https://stackoverflow.com/users/9848327/k1dev"}, "edited": false, "score": 0, "creation_date": 1528920274, "post_id": 50845104, "comment_id": 88694267, "body": "Write some code for us"}, {"owner": {"reputation": 11, "user_id": 9938091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACulF.png?s=128&g=1", "display_name": "Nam Vitaliy", "link": "https://stackoverflow.com/users/9938091/nam-vitaliy"}, "edited": false, "score": 0, "creation_date": 1528920511, "post_id": 50845104, "comment_id": 88694388, "body": "Okay, just give me 5 minutes. I didn&#39;t know English as well as you. I have some problems with edition of my question. Just give me 5 minutes and i will show you my code. Sorry for that"}, {"owner": {"reputation": 11, "user_id": 9938091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACulF.png?s=128&g=1", "display_name": "Nam Vitaliy", "link": "https://stackoverflow.com/users/9938091/nam-vitaliy"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1528921576, "post_id": 50845104, "comment_id": 88694954, "body": "@BradleyDotNET here is the code"}], "answers": [{"tags": [], "owner": {"reputation": 2056, "user_id": 9285310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307e5982c5095f4597ff2eed7f8fa428?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Trainer", "link": "https://stackoverflow.com/users/9285310/tristan-trainer"}, "is_accepted": true, "score": 2, "last_activity_date": 1528922183, "creation_date": 1528922183, "answer_id": 50845880, "question_id": 50845104, "link": "https://stackoverflow.com/questions/50845104/how-can-i-change-a-windows-background-when-a-mouse-is-over-it/50845880#50845880", "title": "How can I change a window&#39;s background when a mouse is over it?", "body": "<p>This code should do it for you, the <code>&lt;Window.Style&gt;</code> ... <code>&lt;/Window.Style&gt;</code> is the relevant part! </p>\n\n<pre><code>&lt;Window x:Class=\"ForStackoverflow.MainWindow\"\n    ...\n    xmlns:local=\"clr-namespace:ForStackoverflow\"\n    mc:Ignorable=\"d\"\n    Title=\"MainWindow\" Height=\"350\" Width=\"525\"&gt;\n    &lt;Window.Style&gt;\n        &lt;Style TargetType=\"{x:Type Window}\"&gt;\n        &lt;Setter Property=\"Background\" Value=\"Blue\" /&gt;\n            &lt;Style.Triggers&gt;\n                &lt;Trigger Property=\"IsMouseOver\" Value=\"true\"&gt;\n                    &lt;Setter Property=\"Background\" Value=\"Red\" /&gt;\n                &lt;/Trigger&gt;\n            &lt;/Style.Triggers&gt;\n        &lt;/Style&gt;\n    &lt;/Window.Style&gt;\n\n    &lt;Grid&gt;\n         Content..\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>Its essentially the same as a button it's just that instead of creating a <code>Style</code> within the <code>&lt;Windows.Resources&gt;</code>, you set the <code>Style</code> of the <code>Window</code> using <code>&lt;Window.Style&gt;</code>. Hope this helps!</p>\n"}], "owner": {"reputation": 11, "user_id": 9938091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ACulF.png?s=128&g=1", "display_name": "Nam Vitaliy", "link": "https://stackoverflow.com/users/9938091/nam-vitaliy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 50845880, "answer_count": 1, "score": -4, "last_activity_date": 1528923287, "creation_date": 1528919165, "last_edit_date": 1528923287, "question_id": 50845104, "link": "https://stackoverflow.com/questions/50845104/how-can-i-change-a-windows-background-when-a-mouse-is-over-it", "title": "How can I change a window&#39;s background when a mouse is over it?", "body": "<p>I have seen how to change a <code>Button</code>'s <code>Background</code> by MouseClick or when the mouse is over it. How can I change a <code>Window</code>'s background when mouse is over it? I haven't seen something like this before... maybe someone can help me? \nThis is the code which I used to change a <code>Button</code>'s background. I don't know what I need to change to do what I need.</p>\n\n<pre><code>  &lt;Window.Resources&gt;\n    &lt;Style x:Key=\"DelAll\"&gt;\n        &lt;Setter Property=\"Button.Template\"&gt;\n            &lt;Setter.Value&gt;\n                &lt;ControlTemplate&gt;\n                    &lt;Grid&gt;\n                        &lt;Border Name=\"Head\"&gt;\n                            &lt;Rectangle HorizontalAlignment=\"Stretch\"  VerticalAlignment=\"Stretch\"  Fill=\"Transparent\" /&gt;\n                        &lt;/Border&gt;\n                        &lt;Label Name=\"NameLable\" Content=\"Delete All\" FontStyle=\"Italic\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Foreground=\"Red\"&gt;&lt;/Label&gt;\n                    &lt;/Grid&gt;\n                    &lt;ControlTemplate.Triggers&gt;\n                        &lt;Trigger Property=\"IsMouseOver\" Value=\"true\"&gt;\n                            &lt;Setter TargetName=\"Head\" Property=\"Background\" Value=\"#3500ACFF\"/&gt;\n                            &lt;Setter TargetName=\"Head\" Property=\"BorderBrush\" Value=\"#FF00ACFF\"/&gt;\n                            &lt;Setter TargetName=\"Head\" Property=\"BorderThickness\" Value=\"1,1,1,1\"/&gt;\n                            &lt;Setter TargetName=\"NameLable\" Property=\"Foreground\" Value=\"Blue\"/&gt;\n                        &lt;/Trigger&gt;\n                        &lt;Trigger Property=\"IsMouseDirectlyOver\" Value=\"true\"&gt;\n                            &lt;Setter TargetName=\"NameLable\" Property=\"Foreground\" Value=\"White\"/&gt;\n                        &lt;/Trigger&gt;\n                    &lt;/ControlTemplate.Triggers&gt;\n                &lt;/ControlTemplate&gt;\n            &lt;/Setter.Value&gt;\n        &lt;/Setter&gt;\n    &lt;/Style&gt;\n    &lt;Style x:Key=\"Del\"&gt;\n        &lt;Setter Property=\"Button.Template\"&gt;\n            &lt;Setter.Value&gt;\n                &lt;ControlTemplate&gt;\n                    &lt;Grid&gt;\n                        &lt;Border Name=\"Head\"&gt;\n                            &lt;Rectangle HorizontalAlignment=\"Stretch\"  VerticalAlignment=\"Stretch\"  Fill=\"Transparent\" /&gt;\n                        &lt;/Border&gt;\n                        &lt;Label Name=\"NameLable\" Content=\"Delete\" FontStyle=\"Italic\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Foreground=\"Yellow\"&gt;&lt;/Label&gt;\n                    &lt;/Grid&gt;\n                    &lt;ControlTemplate.Triggers&gt;\n                        &lt;Trigger Property=\"IsMouseOver\" Value=\"true\"&gt;\n                            &lt;Setter TargetName=\"Head\" Property=\"Background\" Value=\"#3500ACFF\"/&gt;\n                            &lt;Setter TargetName=\"Head\" Property=\"BorderBrush\" Value=\"#FF00ACFF\"/&gt;\n                            &lt;Setter TargetName=\"Head\" Property=\"BorderThickness\" Value=\"1,1,1,1\"/&gt;\n                            &lt;Setter TargetName=\"NameLable\" Property=\"Foreground\" Value=\"Green\"/&gt;\n                        &lt;/Trigger&gt;\n                        &lt;Trigger Property=\"IsMouseDirectlyOver\" Value=\"true\"&gt;\n                            &lt;Setter TargetName=\"NameLable\" Property=\"Foreground\" Value=\"White\"/&gt;\n                        &lt;/Trigger&gt;\n                    &lt;/ControlTemplate.Triggers&gt;\n                &lt;/ControlTemplate&gt;\n            &lt;/Setter.Value&gt;\n        &lt;/Setter&gt;\n    &lt;/Style&gt;\n&lt;/Window.Resources&gt;\n&lt;Grid&gt;\n    &lt;Button Style=\"{StaticResource DelAll}\" HorizontalAlignment=\"Left\"  Width=\"150\" Height=\"50\" Margin=\"95,49,0,0\" VerticalAlignment=\"Top\"/&gt;\n    &lt;Button Style=\"{StaticResource Del}\" HorizontalAlignment=\"Left\"  Width=\"150\" Height=\"50\" Margin=\"95,200,0,0\" VerticalAlignment=\"Top\"/&gt;\n&lt;/Grid&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc"], "answers": [{"comments": [{"owner": {"reputation": 160, "user_id": 1629552, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8ed0458617273cfd8240109beabe3736?s=128&d=identicon&r=PG", "display_name": "Dzumla", "link": "https://stackoverflow.com/users/1629552/dzumla"}, "edited": false, "score": 0, "creation_date": 1528920895, "post_id": 50845168, "comment_id": 88694570, "body": "I put the class in the controllers folder, should it go to a better place as per best practice? Should I create a viewcomponents folder or something similar?"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "reply_to_user": {"reputation": 160, "user_id": 1629552, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8ed0458617273cfd8240109beabe3736?s=128&d=identicon&r=PG", "display_name": "Dzumla", "link": "https://stackoverflow.com/users/1629552/dzumla"}, "edited": false, "score": 0, "creation_date": 1528922413, "post_id": 50845168, "comment_id": 88695379, "body": "That is a subjective question. I personally keep all these inside a folder called <code>Infrastructure&#47;Components</code>."}], "tags": [], "owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "is_accepted": true, "score": 0, "last_activity_date": 1528919754, "last_edit_date": 1528919754, "creation_date": 1528919386, "answer_id": 50845168, "question_id": 50845018, "link": "https://stackoverflow.com/questions/50845018/asp-core-passing-data-to-main-layout/50845168#50845168", "title": "asp core - passing data to main layout", "body": "<p>You should create a view component for rendering the menu.</p>\n\n<pre><code>public class MenuViewComponent : ViewComponent\n{\n    private readonly YourDbContext _context;\n\n    public MenuViewComponent(YourDbContext context)\n    {\n        _context= context;\n    }\n\n    public async Task&lt;IViewComponentResult&gt; InvokeAsync()\n    {\n        var items = await db.Pages.ToListAsync();\n        return View(items);\n    }        \n}\n</code></pre>\n\n<p>And create a corresponding razor view for your view component called <code>Default.cshtml</code> inside <code>~/Shared/Components/Menu</code> directory. You can use your existing view code there.</p>\n\n<pre><code>@model List&lt;Pages&gt;\n&lt;table&gt;\n@foreach (var item in Model) {\n&lt;tr&gt;\n    &lt;td&gt;\n        @item.Title\n    &lt;/td&gt;\n&lt;/tr&gt;\n}\n&lt;/table&gt;\n</code></pre>\n\n<p>Now you can invoke this view component in your layout </p>\n\n<pre><code>&lt;div&gt;\n    @await Component.InvokeAsync(\"Menu\")\n&lt;/div&gt;\n</code></pre>\n\n<p>You may also invoke this view component with the tag helper style syntax. First add your <code>~\\Views\\_ViewImports.cshtml</code> file to call <code>addTagHelper</code> method with your assembly name so that our custom tag helpers can be used across the project.</p>\n\n<pre><code>@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers\n@addTagHelper *, YourProjectsAssemblyName\n</code></pre>\n\n<p>Now in the layout, </p>\n\n<pre><code>&lt;vc:menu &gt;&lt;/vc:menu&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1610, "user_id": 8451520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wc4e0.png?s=128&g=1", "display_name": "ivcubr", "link": "https://stackoverflow.com/users/8451520/ivcubr"}, "is_accepted": false, "score": 0, "last_activity_date": 1528919736, "creation_date": 1528919736, "answer_id": 50845253, "question_id": 50845018, "link": "https://stackoverflow.com/questions/50845018/asp-core-passing-data-to-main-layout/50845253#50845253", "title": "asp core - passing data to main layout", "body": "<p>Add the following code inside the views/home/index.cshtml file:</p>\n\n<pre><code>@Html.Action(\"Pages\", \"Home\")\n</code></pre>\n\n<p>This will call your Pages method which will render and return the HTML into your view. You are on the right track, but putting this inside the views/home/index.cshtml file will help keep your project more organized.</p>\n"}], "owner": {"reputation": 160, "user_id": 1629552, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8ed0458617273cfd8240109beabe3736?s=128&d=identicon&r=PG", "display_name": "Dzumla", "link": "https://stackoverflow.com/users/1629552/dzumla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 50845168, "answer_count": 2, "score": 0, "last_activity_date": 1528919754, "creation_date": 1528918793, "question_id": 50845018, "link": "https://stackoverflow.com/questions/50845018/asp-core-passing-data-to-main-layout", "title": "asp core - passing data to main layout", "body": "<p>I wanna pass some data from the database to the main layout, I made a partial view called <code>_Nav</code></p>\n\n<pre><code>@model IEnumerable&lt;cms.Models.Page&gt;\n\n@foreach (var item in Model) {\n&lt;tr&gt;\n    &lt;td&gt;\n        @item.Title\n    &lt;/td&gt;\n&lt;/tr&gt;\n}\n</code></pre>\n\n<p>It lives inside <code>views/home</code></p>\n\n<p>And in the <code>HomeController</code> I have the following method which returns the partial view:</p>\n\n<pre><code>public IActionResult Pages()\n        {\n            return PartialView(\"_Nav\", _context.Pages.ToList());\n        }\n</code></pre>\n\n<p>But how do I display it in the main layout file (I think <code>@Html.Action</code> was used in mvc 5 for that) ?</p>\n"}, {"tags": ["c#", "wpf", "xaml", "datatrigger"], "comments": [{"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1528918228, "post_id": 50844835, "comment_id": 88693203, "body": "@Clemens The answer of the duplicate is exactly what I&#39;m trying to avoid. Does that means it is impossible ?"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1528918313, "post_id": 50844835, "comment_id": 88693237, "body": "Obviously, yes."}, {"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1528918388, "post_id": 50844835, "comment_id": 88693283, "body": "@Clemens Hope it truly is.. The answer is 2 years old."}, {"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1528918817, "post_id": 50844835, "comment_id": 88693530, "body": "<i>If those answers do not fully address your question, please edit this question to explain how it is different or ask a new question.</i> What to do if I did initially ?"}, {"owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "edited": false, "score": 1, "creation_date": 1528918981, "post_id": 50844835, "comment_id": 88693617, "body": "It is so happened that I&#39;m the author of duplicate answer, but I have a shorter suggestion for this question, but it was closed before I could post the answer. Voting to reopen"}, {"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "reply_to_user": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "edited": false, "score": 0, "creation_date": 1528919118, "post_id": 50844835, "comment_id": 88693690, "body": "@ASh That was my guess. But you know we&#39;re in 2018 now, I must not be offended by an impulsive closing..."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "reply_to_user": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "edited": false, "score": 0, "creation_date": 1528921287, "post_id": 50844835, "comment_id": 88694783, "body": "@ASh Why don&#39;t you just edit your existing answer? Or is it a suggestion that doesn&#39;t make sense in the context of the other question?"}, {"owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1528921812, "post_id": 50844835, "comment_id": 88695088, "body": "@Clemens, my suggestion won&#39;t work for old question. only for this one"}], "answers": [{"comments": [{"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "edited": false, "score": 0, "creation_date": 1528979204, "post_id": 50846105, "comment_id": 88717449, "body": "This is a really good answer and is worth way more attention. No other threads were talking about this specific problem. Really sad that @Clemens closed it since traffic will be significantly reduced. Anyway, thank you a lot for feedback !"}, {"owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "reply_to_user": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "edited": false, "score": 0, "creation_date": 1528980214, "post_id": 50846105, "comment_id": 88718141, "body": "@scharette, glad I was able to help. would you mind if I add a link to former duplicate <a href=\"https://stackoverflow.com/questions/38396419/multidatatrigger-with-or-instead-of-and\" title=\"multidatatrigger with or instead of and\">stackoverflow.com/questions/38396419/&hellip;</a> to your Question, so they show in Linked section and someone else with a similar issue could find them easier?"}, {"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "edited": false, "score": 0, "creation_date": 1528980376, "post_id": 50846105, "comment_id": 88718253, "body": "I&#39;d say that would be ideal. Both question are related, but you answer a more specific problem here in my opinion."}], "tags": [], "owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "is_accepted": true, "score": 3, "last_activity_date": 1528923191, "creation_date": 1528923191, "answer_id": 50846105, "question_id": 50844835, "link": "https://stackoverflow.com/questions/50844835/how-to-create-a-logic-or-behavior-in-a-multidatatrigger/50846105#50846105", "title": "How to create a logic &quot;OR&quot; behavior in a MultiDataTrigger", "body": "<p>in case when DataTrigger should work for some value and for <code>null</code>, you can replace <code>null</code> for that value, using <code>TargetNullValue</code> atrribute of Binding.</p>\n\n<p><code>TargetNullValue=''</code> replaces <code>null</code> with an empty string.</p>\n\n<pre><code>&lt;TextBlock FontSize=\"14\" Foreground=\"Red\"&gt;\n    &lt;TextBlock.Style&gt;\n        &lt;Style TargetType=\"TextBlock\"&gt;\n            &lt;Setter Property=\"Visibility\" Value=\"Collapsed\"/&gt;\n            &lt;Style.Triggers&gt;\n                &lt;DataTrigger Binding=\"{Binding Username, TargetNullValue=''}\" Value=\"\"&gt;\n                    &lt;Setter Property=\"Text\" Value=\"No Username\"/&gt;\n                    &lt;Setter Property=\"Visibility\" Value=\"Visible\"/&gt;\n                &lt;/DataTrigger&gt;\n            &lt;/Style.Triggers&gt;\n        &lt;/Style&gt;\n    &lt;/TextBlock.Style&gt;\n&lt;/TextBlock&gt;\n</code></pre>\n\n<p>it is also possible to make a visibility converter specifically for empty/null strings and work without triggers:</p>\n\n<pre><code>&lt;TextBlock FontSize=\"14\" Foreground=\"Red\" Text=\"No Username\"\n           Visibility=\"{Binding Username, Converter={StaticResource MyStringToVisibiltyConverter}}\"/&gt;\n</code></pre>\n\n<p>where Convert method will be smth like:</p>\n\n<pre><code>public object Convert(object value, Type targetType, object parameter, CultureInfo culture)\n{\n    var str = value as string;\n    return String.IsNullOrEmpty(str) ? Visibility.Visible : Visibility.Collapsed;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "edited": false, "score": 0, "creation_date": 1528979259, "post_id": 50846138, "comment_id": 88717489, "body": "Nice alternative. Didn&#39;t answer my specific purpose though. Thanks! +1"}], "tags": [], "owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "is_accepted": false, "score": 1, "last_activity_date": 1528923356, "creation_date": 1528923356, "answer_id": 50846138, "question_id": 50844835, "link": "https://stackoverflow.com/questions/50844835/how-to-create-a-logic-or-behavior-in-a-multidatatrigger/50846138#50846138", "title": "How to create a logic &quot;OR&quot; behavior in a MultiDataTrigger", "body": "<p>Why not just do it in your binding  </p>\n\n<pre><code>private string userName;\npublic string UserName \n{\n    get { return string.IsNullOrEmpty(userName) ? null : userName; }\n    set { userName = value; }\n}\n</code></pre>\n"}], "owner": {"reputation": 7519, "user_id": 7692463, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d58fe02a8d24e238972f415fa3d84239?s=128&d=identicon&r=PG&f=1", "display_name": "scharette", "link": "https://stackoverflow.com/users/7692463/scharette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 50846105, "answer_count": 2, "score": 0, "last_activity_date": 1528980673, "creation_date": 1528917969, "last_edit_date": 1528980673, "question_id": 50844835, "link": "https://stackoverflow.com/questions/50844835/how-to-create-a-logic-or-behavior-in-a-multidatatrigger", "title": "How to create a logic &quot;OR&quot; behavior in a MultiDataTrigger", "body": "<p><strong>XAML</strong></p>\n\n<pre><code>&lt;TextBlock FontSize=\"14\" Foreground=\"Red\"&gt;\n    &lt;TextBlock.Style&gt;\n        &lt;Style TargetType=\"TextBlock\"&gt;\n            &lt;Setter Property=\"Visibility\" Value=\"Collapsed\"/&gt;\n            &lt;Style.Triggers&gt;\n                &lt;MultiDataTrigger&gt;\n                    &lt;MultiDataTrigger.Conditions&gt;\n                        &lt;!--Here I want to compare with an OR behavior--&gt;\n                        &lt;Condition Binding=\"{Binding Username}\" Value=\"\" /&gt;\n                        &lt;Condition Binding=\"{Binding Username}\" Value=\"{x:Null}\"/&gt;\n                    &lt;/MultiDataTrigger.Conditions&gt;\n                    &lt;Setter Property=\"Text\" Value=\"No Username\"/&gt;\n                    &lt;Setter Property=\"Visibility\" Value=\"Visible\"/&gt;\n                &lt;/MultiDataTrigger&gt;\n            &lt;/Style.Triggers&gt;\n        &lt;/Style&gt;\n    &lt;/TextBlock.Style&gt;\n&lt;/TextBlock&gt;\n</code></pre>\n\n<p>For this to be triggered, <code>Username</code> has to be <code>null</code> and <code>empty</code> which make no sense. In fact, <strong>I want an OR behavior with these two values</strong>. </p>\n\n<p><strong>NOTE</strong></p>\n\n<p>I know that I could add multiple <code>&lt;DataTrigger&gt;</code> (like for example in <a href=\"https://stackoverflow.com/questions/38396419/multidatatrigger-with-or-instead-of-and\">MultiDataTrigger with OR instead of AND</a>) and since they are handled in order it would be fine, but that's exactly what I'm trying to avoid. I'm looking more for a <em>one-liner</em> solution.</p>\n"}, {"tags": ["c#", "active-directory", "remote-access"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1528918152, "post_id": 50844833, "comment_id": 88693155, "body": "<code>searcher.SearchScope = SearchScope.Subtree;</code> Then use a proper filter that includes the hostname you&#39;re looking for. Maybe something like <code>$&quot;(&amp;(objectCategory=Computer)(cn={hostname}))&quot;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "is_accepted": false, "score": 0, "last_activity_date": 1528919007, "creation_date": 1528919007, "answer_id": 50845068, "question_id": 50844833, "link": "https://stackoverflow.com/questions/50844833/remotely-search-ad-for-computer-object-without-ou/50845068#50845068", "title": "Remotely search AD for computer object without OU", "body": "<p>First, I would change the <code>SearchScope</code> to <code>Subtree</code> and then include the hostname as part of the filter. I would then use <code>FindOne()</code> instead of <code>FindAll()</code>:</p>\n\n<pre><code>DirectoryEntry startingPoint = new DirectoryEntry(\"LDAP://DC=Zone,DC=Corp,DC=COM\", \"UserName\", \"Password\");\n\nDirectorySearcher searcher = new DirectorySearcher(startingPoint)\n    {\n        SearchScope = SearchScope.Subtree,\n        Filter = $\"(&amp;(objectCategory=Computer)(cn={hostname}))\"\n    };\n\nSearchResult result = searcher.FindOne();\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 7758460, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zi2k8wZUhmM/AAAAAAAAAAI/AAAAAAAAAEg/F-rScZ1d9vU/photo.jpg?sz=128", "display_name": "Ryan Essex", "link": "https://stackoverflow.com/users/7758460/ryan-essex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528919007, "creation_date": 1528917950, "question_id": 50844833, "link": "https://stackoverflow.com/questions/50844833/remotely-search-ad-for-computer-object-without-ou", "title": "Remotely search AD for computer object without OU", "body": "<p>Good Day All,</p>\n\n<p>I have been asked to write out some code to find a computer object in AD I haven't been given the OU's that these objects could be in (which isn't helpful at all - obviously). I've determined that I can remotely connect to the AD server with the lines:</p>\n\n<pre><code>DirectoryEntry startingPoint = new DirectoryEntry(\"LDAP://DC=Zone,DC=Corp,DC=COM\", \"UserName\", \"Password\");\n\n//Find all OUs\nDirectorySearcher searcher = new DirectorySearcher(startingPoint);\nsearcher.Filter = \"(objectCategory=Computer)\";\n\nforeach (SearchResult result in searcher.FindAll())\n{\n}\n</code></pre>\n\n<p>Unfortunately, the only information I do have is that all the objects will be no further than 3 OU's deep. So I'd like to know how to go through each of the OU's going that deep in each one I come to until I find the designated host name. I'm not exactly sure how to work that out. Any assistance would be appreciated.</p>\n"}, {"tags": ["c#", "entity-framework", "transactions", "distributed-transactions"], "comments": [{"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1528918802, "post_id": 50844828, "comment_id": 88693519, "body": "Never had a need for explicit transactions. Unit of work is fine. I suppose there are use cases. See <a href=\"https://msdn.microsoft.com/en-us/library/dn456843(v=vs.113).aspx\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 1, "creation_date": 1528919782, "post_id": 50844828, "comment_id": 88694024, "body": "An explicit transaction is useful when wishing/needing to have multiple &#39;SaveChanges&#39; inside a single DB transaction, possibly interleaved with non-EF DB access. It may also be useful in distributed-transaction cases, although DTC can be rather complex and is probably best avoided in most cases.."}], "answers": [{"comments": [{"owner": {"reputation": 445, "user_id": 3851706, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uz62l.jpg?s=128&g=1", "display_name": "Arjun Menon", "link": "https://stackoverflow.com/users/3851706/arjun-menon"}, "edited": false, "score": 0, "creation_date": 1528947889, "post_id": 50846922, "comment_id": 88701512, "body": "createNewCustomer() and createNewOrder say returns an entityModel, so when you are assigning order.Customer to the newly created customer object will assign the foreign key? I saw a code from one of my friends where he created the customer object called db.SaveChanges(), then created the order object and assigned customerid from the saved object and finally calling transaction.commit(). is this a bad approach?"}, {"owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "reply_to_user": {"reputation": 445, "user_id": 3851706, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uz62l.jpg?s=128&g=1", "display_name": "Arjun Menon", "link": "https://stackoverflow.com/users/3851706/arjun-menon"}, "edited": false, "score": 0, "creation_date": 1528965754, "post_id": 50846922, "comment_id": 88709115, "body": "Yes, when EF is set up to know that the PK&#39;s are identity columns (DB will set) and the relationships between Customer and Order, when you add the Order to the DbSet and call SaveChanges, it goes through the entity for mapped associations and inserts those, resolving the FKs automatically. With references you don&#39;t set FKs directly and should even exclude them from your entities. (MapKey in EF6 or shadow properties in Core)"}, {"owner": {"reputation": 445, "user_id": 3851706, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uz62l.jpg?s=128&g=1", "display_name": "Arjun Menon", "link": "https://stackoverflow.com/users/3851706/arjun-menon"}, "edited": false, "score": 0, "creation_date": 1528973286, "post_id": 50846922, "comment_id": 88713902, "body": "With references you don&#39;t set FKs directly and should even exclude them from your entities. (MapKey in EF6 or shadow properties in Core) , Can  you elaborate ? I have seen FK set using Virtual class. Also my transaction has 10 table insertions , do we need to manually open a transaction or just keep on creating model class and on a single go call db.SaveChanges?"}, {"owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "reply_to_user": {"reputation": 445, "user_id": 3851706, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uz62l.jpg?s=128&g=1", "display_name": "Arjun Menon", "link": "https://stackoverflow.com/users/3851706/arjun-menon"}, "edited": false, "score": 0, "creation_date": 1529013788, "post_id": 50846922, "comment_id": 88735403, "body": "Updated the answer to elaborate on that."}, {"owner": {"reputation": 4163, "user_id": 550279, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1773ef50183f75b1a5073ed3a09d7fd4?s=128&d=identicon&r=PG", "display_name": "Nuri YILMAZ", "link": "https://stackoverflow.com/users/550279/nuri-yilmaz"}, "edited": false, "score": 0, "creation_date": 1559489667, "post_id": 50846922, "comment_id": 99428702, "body": "How about DB level transactions. Forexample MS SQL Server support many types of transaction. May be you should update your answer with DbContext.Database.BeginTransactionAsync and DbContext.Database.BeginTransaction"}, {"owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "edited": false, "score": 0, "creation_date": 1559510566, "post_id": 50846922, "comment_id": 99433701, "body": "All operations within the SaveChanges are performed within a single transaction. The only times you should need explicit transactions or a transaction scope is when dealing with multiple DbContexts (i.e. multiple updates across bounded contexts) or transaction scoped operations in conjunction with the DbContext updates. These situations are generally the exception, not the norm."}], "tags": [], "owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "is_accepted": true, "score": 14, "last_activity_date": 1529013774, "last_edit_date": 1529013774, "creation_date": 1528927345, "answer_id": 50846922, "question_id": 50844828, "link": "https://stackoverflow.com/questions/50844828/ef-db-savechanges-vs-dbtransaction-commit/50846922#50846922", "title": "EF: db.SaveChanges() vs dbTransaction.Commit", "body": "<p>Yes, if you explicitly wrap your context within a transaction such as .Net's TransactionScope, you can retrieve auto-generated IDs from entities after a .SaveChanges() call, without committing the scoped transaction.</p>\n\n<pre><code>using (var tx = new TransactionScope())\n{\n  using (var context = new MyDbContext())\n  {\n     var newEntity = populateNewEntity();\n     context.MyEntities.Add(newEntity);\n     context.SaveChanges();\n     int entityId = newEntity.EntityId; // Fetches the identity value.\n  }\n} // Rolls back the transaction. Entity not committed.\n</code></pre>\n\n<p>However, operations like this should be avoided unless absolutely necessary, and cautiously. Firstly, the above example is common use of TransactionScope, and the default isolation level of TransactionScope is \"Serializable\" which is the most pessimistic in terms of locking. Even moderate use of this pattern on systems that have a number of concurrent operations/users will result in deadlocks and performance hits due to lock waits. So if using a TransactionScope, be sure to specify an isolation level.</p>\n\n<p>DTC is useful in scenarios where you want to coordinate commits between databases or other Tx-bound operations. For instance system A is saving changes and needs to coordinate an update/insert with system B through an API. A &amp; B need to be configured to use DTC, but once that is done A can start a transaction, register it with DTC, append the DTC token to the header for B's API, B can find that token, create a ScopedTransaction linked to that token, and commit/rollback based on what A signals. This has an overhead cost meaning transactions on both systems are open longer than usual. If it's necessary then that is a cost of business. If it's not necessary then it is a waste and potential source of headaches.</p>\n\n<p>One other reason that someone might look at using an explicit Tx is when they want to update FK's in a related entity. Creating an order has an option to create a new customer, order has a customer ID so we need to create the customer, get it's ID to set on the Order, then save the order. If the order save fails then the customer creation should roll back. </p>\n\n<pre><code>using (var tx = new TransactionScope())\n{\n  using (var context = new MyDbContext())\n  {\n     var newCustomer = createNewCustomer(); // dummy method to indicate creating a customer entity.\n     context.Customers.Add(newCustomer);\n     context.SaveChanges();\n     var newOrder = createNewOrder(); \n     newOrder.CustomerId = newCustomer.CustomerId;\n     context.Orders.Add(newOrder);\n     context.SaveChanges();\n  }\n  tx.Commit();  \n} \n</code></pre>\n\n<p>With EF this scenario should be mitigated by using navigation properties with a relationship between order and customer. In this way you can create a customer, create the order, set the order's Customer reference to the new customer, add the order to the DbContext, and .SaveChanges(). This lets EF take care of going through the order, seeing the referenced customer, inserting that, associating the FK in the order, and committing the changes in one implicit Tx.</p>\n\n<pre><code>using (var context = new MyDbContext())\n{\n    var newCustomer = createNewCustomer();\n    var newOrder = createNewOrder();\n    newOrder.Customer = newCustomer;\n    context.Orders.Add(newOrder);\n    context.SaveChanges();\n}\n</code></pre>\n\n<p>Update: To outline avoiding FK references in your entities... (many-to-one)</p>\n\n<p>EntityTypeConfiguration for Order With FK in entity:</p>\n\n<pre><code>HasRequired(x =&gt; x.Customer)\n  .WithMany(x =&gt; x.Orders) // Links to an element in the Orders collection of the Customer. If Customer does not have/need an Orders collection then .WithMany()\n  .HasForeignKey(x =&gt; x.CustomerId); // Maps Order.Customer to use CustomerId property on Order entity.\n</code></pre>\n\n<p>EntityTypeConfiguration for Order With No FK in entity:</p>\n\n<pre><code>HasRequired(x =&gt; x.Customer)\n  .WithMany(x =&gt; x.Orders)\n  .Map(x =&gt; x.MapKey(\"CustomerId\")); // Maps Order.Customer to use CustomerId column on underlying Order table. Order entity does not expose a CustomerId.\n</code></pre>\n\n<p>With EF Core -- From memory, may need to be updated.</p>\n\n<pre><code>HasRequired(x =&gt; x.Customer)\n  .WithMany(x =&gt; x.Orders) // Links to an element in the Orders collection of the Customer. If Customer does not have/need an Orders collection then .WithMany()\n  .HasForeignKey(\"CustomerId\"); // Creates a shadow property where Entity does not have a CustomerId property.\n</code></pre>\n\n<p>Both approaches (with or without mapped FK) work the same. The benefit of the second approach is that there is no confusion in the code about how to update or assess the customer reference for the order. For example if you have both a Customer, and a CustomerId on the Order, changing the CustomerId and calling SaveChanges does not move the order to a new customer, only setting the Customer reference. Setting the Customer reference does not automatically update the CustomerId, so any code \"getting\" the customerId via the CustomerId property on order would still retrieve the old customer reference until the entity is refreshed.</p>\n\n<p>The important thing to using navigation properties is to leverage them with deferred execution or eager-load them efficiently. For example if you want to load a list of orders and include their customer name:</p>\n\n<pre><code>using (var myContext = new MyDbContext())\n{\n  var orders = myContext.Orders.Where(x =&gt; x.OrderDate &gt;= startDate &amp;&amp; x.OrderDate &lt; endDate).ToList();\n  return orders;\n}\n</code></pre>\n\n<p>** Bad: If this is MVC/Web API the serializer will take the orders collection, and attempting to serialize them hit every navigation property and attempt to load it. This triggers lazy-load calls one-by-one. So if Order has a Customer, that is a hit to the DB /w \"SELECT * FROM Customers WHERE CustomerId = 42\" If Order has Order lines then \"SELECT * FROM OrderLines WHERE OrderLineId = 121\", \"SELECT * FROM OrderLines WHERE OrderLineId = 122\" ... (You might think it'd know to fetch order lines by OrderId, but nope!  Huge performance impact returning Entities, just don't do it.</p>\n\n<pre><code>using (var myContext = new MyDbContext())\n{\n  var orders = myContext.Orders\n    .Include(x =&gt; x.Customer)\n    .Include(x =&gt; x.OrderLines)\n    .Where(x =&gt; x.OrderDate &gt;= startDate &amp;&amp; x.OrderDate &lt; endDate).ToList();\n  return orders;\n}\n</code></pre>\n\n<p>** Better, but still bad. You might only include the items you think you'll need, but the serializer will still fetch everything on the order. This comes back to bite you as entities are revised to include new links to data. Even if you Include everything this is wasteful if all you wanted was the Customer Name.</p>\n\n<pre><code>using (var myContext = new MyDbContext())\n{\n  var orders = myContext.Orders\n    .Where(x =&gt; x.OrderDate &gt;= startDate &amp;&amp; x.OrderDate &lt; endDate)\n    .Select(x =&gt; new OrderLineViewModel \n    {\n      OrderId = x.OrderId,\n      OrderNumber = x.OrderNumber,\n      OrderAmount = x.OrderAmount,\n      CustomerName = x.Customer.Name\n    }).ToList();\n  return orders;\n}\n</code></pre>\n\n<p>** This is the sweet spot with navigation properties and deferred execution. The SQL that gets run on the DB returns just those 4 columns from the related data. No lazy load hits, and you send across the wire just the amount of data you need.</p>\n\n<p>Some might argue that if you commonly need a CustomerId reference from an Order for example that having a CustomerId on the Order entity saves referencing the Customer.  But as outlined above, that Id may not be reliable, and by using deferred execution to let EF use the entities to populate the data you want Getting the customer IDs of orders is just a matter of including/selecting <code>x.Customer.CustomerId</code> which includes just that desired column, not loading the entire entity to get it.</p>\n"}], "owner": {"reputation": 445, "user_id": 3851706, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uz62l.jpg?s=128&g=1", "display_name": "Arjun Menon", "link": "https://stackoverflow.com/users/3851706/arjun-menon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9061, "favorite_count": 6, "accepted_answer_id": 50846922, "answer_count": 1, "score": 9, "last_activity_date": 1529013774, "creation_date": 1528917945, "last_edit_date": 1528924138, "question_id": 50844828, "link": "https://stackoverflow.com/questions/50844828/ef-db-savechanges-vs-dbtransaction-commit", "title": "EF: db.SaveChanges() vs dbTransaction.Commit", "body": "<p>I am fairly new to entity framework and I have a doubt on EF's db.SaveChange. From some posts and MSDN I learned that <code>db.SaveChange</code> by default does all the changes in transaction. Also there is a way we can create a transaction of our own using <code>db.Database.BeginTransaction()</code> ,\"db\" being my context class object. So I have two questions: </p>\n\n<ol>\n<li>What to use &amp; when</li>\n<li>If I am inserting data to one table whose @@identity is foreign key to my next inserting table, rather than using <code>db.SaveChange()</code> to get the @@identity is there any other way (<code>db.SaveChanges()</code> is in a user defined transaction scope) and will <code>db.SaveChanges()</code> commit my changes to DB</li>\n</ol>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 4, "creation_date": 1528917987, "post_id": 50844824, "comment_id": 88693072, "body": "Have you stepped through with the debugger to see what&#39;s going on? Maybe your query isn&#39;t returning any rows."}, {"owner": {"reputation": 1670, "user_id": 2116350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3312d97415dd6087903f8a43e3c2f9b0?s=128&d=identicon&r=PG", "display_name": "Charles May", "link": "https://stackoverflow.com/users/2116350/charles-may"}, "edited": false, "score": 2, "creation_date": 1528918252, "post_id": 50844824, "comment_id": 88693213, "body": "what are you entering into that textbox?"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1528918290, "post_id": 50844824, "comment_id": 88693227, "body": "Is this winforms or webforms? If it&#39;s webforms, are you changing the text of <code>lbResultado</code> at all during postback?"}, {"owner": {"reputation": 1209, "user_id": 3456812, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/04a8a4cc5cd269a7a100c8b64608449b?s=128&d=identicon&r=PG&f=1", "display_name": "markaaronky", "link": "https://stackoverflow.com/users/3456812/markaaronky"}, "edited": false, "score": 3, "creation_date": 1528918420, "post_id": 50844824, "comment_id": 88693298, "body": "As a sanity check, also verify that the query returns rows INDEPENDENTLY OF YOUR PROGRAM by using SQL Server Management Studio (it&#39;s free) or some other query tool. Copy and paste your &quot;Select nombre from Prueba where Id=&quot; along with an ID value (surrounded by single quotes) into a new query window open on your database and execute it.  For example, Select nombre from Prueba where Id=&#39;12345&#39;.   If you&#39;ve written a poorly formed query, no amount of coding is going to fix your problem."}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1528918655, "post_id": 50844824, "comment_id": 88693431, "body": "What data type is <code>id</code> in the database? And what&#39;s in <code>txtdataBase.Text</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 7076422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3852a14d479ab966e6ef2826cd3d67f8?s=128&d=identicon&r=PG&f=1", "display_name": "Peter ", "link": "https://stackoverflow.com/users/7076422/peter"}, "is_accepted": false, "score": 0, "last_activity_date": 1528920074, "last_edit_date": 1528920074, "creation_date": 1528919057, "answer_id": 50845081, "question_id": 50844824, "link": "https://stackoverflow.com/questions/50844824/sql-server-select-query-doesn%c2%b4t-do-anything/50845081#50845081", "title": "SQL Server Select query doesn&#180;t do anything", "body": "<p>I would do it this way maybe not much difference ===>assuming in your database when you run the query is returns data as you expect.</p>\n\n<pre><code>Using(SqlConnection conn = new SqlConnection(\"Data Source=DESKTOP-JO0MC7T\\\\SQLEXPRESS;Initial Catalog=Prueba;Integrated Security=True;User ID=****;Password=***\"))\n{\n    conn.Open();\n\n    SqlCommand command = new SqlCommand(\"Select nombre from Prueba where Id=@zip\", conn);\n    command.Parameters.AddWithValue(\"@zip\", txtdataBase.Text);\n\n    SqlDataReader reader = command.ExecuteReader())\n    {\n        if (reader.Read())\n        {\n            string myresult = reader.GetString(0);// what ever datatype\n            lbResultado.Text = myresult; \n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 873, "user_id": 1821637, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XImmC.jpg?s=128&g=1", "display_name": "Santiago quits SO", "link": "https://stackoverflow.com/users/1821637/santiago-quits-so"}, "is_accepted": true, "score": 2, "last_activity_date": 1528920216, "creation_date": 1528920216, "answer_id": 50845354, "question_id": 50844824, "link": "https://stackoverflow.com/questions/50844824/sql-server-select-query-doesn%c2%b4t-do-anything/50845354#50845354", "title": "SQL Server Select query doesn&#180;t do anything", "body": "<p>I recreated your solution in ASP.NET (code behind is similar if you're on WinForms). The code behind worked as you provided, so it could be that your query isn't returning results from your database or the click event isn't bind to the code behind:</p>\n\n<p><strong>SqlExample.aspx</strong></p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" AutoEventWireup=\"true\" CodeFile=\"SqlExample.aspx.cs\" Inherits=\"SqlExample\" %&gt;\n\n&lt;!DOCTYPE html&gt;\n\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head runat=\"server\"&gt;\n    &lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form1\" runat=\"server\"&gt;\n        &lt;div&gt;\n            &lt;asp:Label ID=\"lblResultado\" runat=\"server\" Text=\"?\"&gt;&lt;/asp:Label&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;asp:TextBox ID=\"tbZip\" runat=\"server\" placeholder=\"zip\"&gt;&lt;/asp:TextBox&gt;\n            &lt;asp:Button ID=\"btnSearch\" runat=\"server\" Text=\"Search\" OnClick=\"btnSearch_Click\" /&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>SqlExample.cs (code behind)</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Web.UI;\nusing System.Web.UI.WebControls;\nusing System.Data;\nusing System.Data.SqlClient;\n\npublic partial class SqlExample : System.Web.UI.Page\n{\n    protected void Page_Load(object sender, EventArgs e)\n    {\n\n    }\n\n    protected void btnSearch_Click(object sender, EventArgs e)\n    {\n        SqlConnection conn = new SqlConnection(@\"MyConnectionData\");\n        SqlCommand command = new SqlCommand(\"SELECT nombre FROM Prueba WHERE Id=@zip\", conn);\n\n        command.Parameters.AddWithValue(\"@zip\", this.tbZip.Text);\n\n        conn.Open();\n\n        using (SqlDataReader reader = command.ExecuteReader())\n        {\n            if (reader.Read())\n            {\n                this.lblResultado.Text = reader.GetValue(0).ToString();\n            }\n        }\n\n        conn.Close();\n    }\n}\n</code></pre>\n\n<p><strong>Sample data and results:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/s0E6a.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s0E6a.gif\" alt=\"WebApp\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/NEtKZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NEtKZ.png\" alt=\"Data\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ZFeN4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZFeN4.png\" alt=\"Table\"></a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8084037"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 50845354, "answer_count": 2, "score": 0, "last_activity_date": 1528920216, "creation_date": 1528917920, "last_edit_date": 1528920013, "question_id": 50844824, "link": "https://stackoverflow.com/questions/50844824/sql-server-select-query-doesn%c2%b4t-do-anything", "title": "SQL Server Select query doesn&#180;t do anything", "body": "<p>I'm trying to run a <code>Select</code> query with an ID entered in a textbox. And then showing the result on a label. But I have this code and when I hit the button, it doesn't do anything. Please help.</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n    SqlConnection conn = new SqlConnection(\"Data Source=DESKTOP-JO0MC7T\\\\SQLEXPRESS;Initial Catalog=Prueba;Integrated Security=True;User ID=****;Password=***\");\n    conn.Open();\n\n    SqlCommand command = new SqlCommand(\"Select nombre from Prueba where Id=@zip\", conn);\n    command.Parameters.AddWithValue(\"@zip\", txtdataBase.Text);\n\n    using (SqlDataReader reader = command.ExecuteReader())\n    {\n        if (reader.Read())\n        {\n            lbResultado.Text = reader.GetValue(0).ToString();\n        }\n    }\n\n    conn.Close();\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "onpause"], "answers": [{"comments": [{"owner": {"reputation": 542, "user_id": 3430889, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/569305440/picture?type=large", "display_name": "SHAI", "link": "https://stackoverflow.com/users/3430889/shai"}, "edited": false, "score": 0, "creation_date": 1528920224, "post_id": 50844714, "comment_id": 88694242, "body": "So what am I going to &quot;lose&quot; when <code>OnApplicationPause</code> is <code>true</code> again?  If <code>Start()</code> isn&#39;t being called, would all my gamebjects keep their attached scripts preferences (variables) ? And their Transform position exactly like before pausing? Why do people serialize on <code>OnApplicationPause</code> if <code>Start()</code> isn&#39;t being called again."}, {"owner": {"reputation": 2904, "user_id": 580627, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bdab596b1c704403fba98930c6955a56?s=128&d=identicon&r=PG", "display_name": "Fredrik Widerberg", "link": "https://stackoverflow.com/users/580627/fredrik-widerberg"}, "reply_to_user": {"reputation": 542, "user_id": 3430889, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/569305440/picture?type=large", "display_name": "SHAI", "link": "https://stackoverflow.com/users/3430889/shai"}, "edited": false, "score": 0, "creation_date": 1528921592, "post_id": 50844714, "comment_id": 88694960, "body": "Not sure why you would &quot;lose&quot; anything. Your objects wouldnt looses any value or change positions just because OnApplicationPause() is called. People use OnApplicationPause() to know when the appliation gets paused."}, {"owner": {"reputation": 542, "user_id": 3430889, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/569305440/picture?type=large", "display_name": "SHAI", "link": "https://stackoverflow.com/users/3430889/shai"}, "edited": false, "score": 0, "creation_date": 1528923032, "post_id": 50844714, "comment_id": 88695660, "body": "I meant to say that from what I understand- when a game pauses, we should serialize variables so we don&#39;t lose them when resuming (still not sure what exactly can get lost). Like that answer here: <a href=\"https://stackoverflow.com/questions/45847057/do-i-have-to-use-onpause-onstart-ondestroy\" title=\"do i have to use onpause onstart ondestroy\">stackoverflow.com/questions/45847057/&hellip;</a>"}, {"owner": {"reputation": 520, "user_id": 3472716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd49cbc5ef56e7f12fd74049d228dc9c?s=128&d=identicon&r=PG&f=1", "display_name": "obywan", "link": "https://stackoverflow.com/users/3472716/obywan"}, "edited": false, "score": 1, "creation_date": 1528961734, "post_id": 50844714, "comment_id": 88706638, "body": "To visualize this answer scroll down to scheme <a href=\"https://docs.unity3d.com/Manual/ExecutionOrder.html\" rel=\"nofollow noreferrer\">docs.unity3d.com/Manual/ExecutionOrder.html</a>"}], "tags": [], "owner": {"reputation": 2904, "user_id": 580627, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/bdab596b1c704403fba98930c6955a56?s=128&d=identicon&r=PG", "display_name": "Fredrik Widerberg", "link": "https://stackoverflow.com/users/580627/fredrik-widerberg"}, "is_accepted": true, "score": 4, "last_activity_date": 1528917479, "creation_date": 1528917479, "answer_id": 50844714, "question_id": 50844646, "link": "https://stackoverflow.com/questions/50844646/does-unity-call-start-when-onapplicationpausetrue/50844714#50844714", "title": "Does Unity call Start() when OnApplicationPause(true)", "body": "<p>No, <code>Start()</code> will not be called again after <code>OnApplicationPause(true)</code>.</p>\n\n<blockquote>\n  <p>Start is called on the frame when a script is enabled just before any\n  of the Update methods are called the first time.</p>\n  \n  <p>Like the Awake function, Start is called exactly once in the lifetime\n  of the script.</p>\n</blockquote>\n\n<p><a href=\"https://docs.unity3d.com/ScriptReference/MonoBehaviour.Start.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/ScriptReference/MonoBehaviour.Start.html</a></p>\n"}], "owner": {"reputation": 542, "user_id": 3430889, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/569305440/picture?type=large", "display_name": "SHAI", "link": "https://stackoverflow.com/users/3430889/shai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 855, "favorite_count": 0, "accepted_answer_id": 50844714, "answer_count": 1, "score": 1, "last_activity_date": 1528917479, "creation_date": 1528917201, "question_id": 50844646, "link": "https://stackoverflow.com/questions/50844646/does-unity-call-start-when-onapplicationpausetrue", "title": "Does Unity call Start() when OnApplicationPause(true)", "body": "<p>When receiving an incoming call for example, <code>OnApplicationPause(false)</code> is called, and when returning back to the app <code>OnApplicationPause(true)</code> is called. What's going to happen when returning? Do all my gameobjects on the scene run Start() again?  If so that's bad because it'll reset everything to default in my case. I read different answers on different sites, I wonder why it's not clear.</p>\n"}, {"tags": ["c#", ".net", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 331, "user_id": 6530636, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/404be891e07e61c25378ca1fee940252?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6530636/david"}, "is_accepted": false, "score": 2, "last_activity_date": 1528917772, "creation_date": 1528917772, "answer_id": 50844784, "question_id": 50844616, "link": "https://stackoverflow.com/questions/50844616/unity-grid-instantiating-with-offset/50844784#50844784", "title": "Unity : Grid Instantiating with Offset", "body": "<p>The Error wasnt with the code, it was with the sprite of the tile. I changed it's pivot from center to Bottom left. Since in code my it's <code>startPoint = playArea.GetComponent&lt;Renderer&gt;().bounds.min;\n</code> so it will take the bottom left of the object.</p>\n"}], "owner": {"reputation": 331, "user_id": 6530636, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/404be891e07e61c25378ca1fee940252?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/6530636/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 570, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528917772, "creation_date": 1528917048, "question_id": 50844616, "link": "https://stackoverflow.com/questions/50844616/unity-grid-instantiating-with-offset", "title": "Unity : Grid Instantiating with Offset", "body": "<p>I have a weird bug that i don't understand why it's happening, maybe someone can help.</p>\n\n<p>I'm making a snake game and im doing the Grid atm. \nI'm instantiating the grid depending on a gameobject size, however there is an offset when the grid instantiates. it's not the same as the gameobject size i specified (the black box as shown in the image below).</p>\n\n<p><a href=\"https://i.stack.imgur.com/QVG8o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QVG8o.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's My Manager where i Instantaite the Grid </p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\n public class GridManager : MonoBehaviour {\n\n[SerializeField] private GridTile gridTilePrefab; \n\n[SerializeField] private Transform playArea;\n[SerializeField] private int gridSize = 10;\n\npublic int GridSize { \n    get { return gridSize; } \n}\n\nprivate Vector3 startPoint;\n\npublic Vector3 StartPoint { \n    get { return startPoint; } \n}\n\n\nprivate int width;\nprivate int height;\n\nprivate Transform[,] grid;\n\npublic void InitializeGrid()\n{\n\n    // Grid Size\n    width = Mathf.RoundToInt (playArea.localScale.x * gridSize);\n    height = Mathf.RoundToInt (playArea.transform.localScale.y * gridSize);\n\n    grid = new Transform[width,height];\n\n    // get the left bottom as start point\n    startPoint = playArea.GetComponent&lt;Renderer&gt;().bounds.min;\n\n    CreateGridTiles ();\n\n}\n\nprivate void CreateGridTiles()\n{\n    if (gridTilePrefab == null)\n        return;\n\n\n    for (int y = 0; y &lt; height; y++) {\n\n        for (int x = 0; x &lt; width; x++) {\n\n            // Get world pos of grid location\n            Vector3 worldPos = GetWorldPos(x,y);\n            GridTile gridTile;\n            gridTile = Instantiate (gridTilePrefab, worldPos , Quaternion.identity);\n            gridTile.name = string.Format (\"Tile({0},{1})\" , x , y );\n\n            grid [x, y] = gridTile.transform; \n\n        }\n\n    }\n\n\n}\n\n\nprivate Vector3 GetWorldPos (int x, int y)\n{\n    float xf = x;\n    float yf = y;\n\n    return new Vector3 (startPoint.x + (xf / gridSize) ,startPoint.y + (yf / gridSize) ,startPoint.z);\n\n}\n\n// Use this for initialization\nvoid Start () {\n    InitializeGrid ();\n}\n\n\n}\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "asp.net-core", ".net-core"], "comments": [{"owner": {"reputation": 2779, "user_id": 122765, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/1c9ao.jpg?s=128&g=1", "display_name": "Nikola Sivkov", "link": "https://stackoverflow.com/users/122765/nikola-sivkov"}, "edited": false, "score": 1, "creation_date": 1528917070, "post_id": 50844567, "comment_id": 88692599, "body": "Disclaimer: I&#39;ve done this 5+ years ago... but can you pass a string in the form of <code>&quot;(lat,lng)&quot;</code> as a param and see if that works?"}, {"owner": {"reputation": 113, "user_id": 5860920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bRxPX.jpg?s=128&g=1", "display_name": "A. Abrams", "link": "https://stackoverflow.com/users/5860920/a-abrams"}, "reply_to_user": {"reputation": 2779, "user_id": 122765, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/1c9ao.jpg?s=128&g=1", "display_name": "Nikola Sivkov", "link": "https://stackoverflow.com/users/122765/nikola-sivkov"}, "edited": false, "score": 0, "creation_date": 1528917487, "post_id": 50844567, "comment_id": 88692806, "body": "I tried several variations of a formatted string, but no luck: System.Data.SqlClient.SqlException (0x80131904): Error converting data type nvarchar to geography."}, {"owner": {"reputation": 2779, "user_id": 122765, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/1c9ao.jpg?s=128&g=1", "display_name": "Nikola Sivkov", "link": "https://stackoverflow.com/users/122765/nikola-sivkov"}, "edited": false, "score": 1, "creation_date": 1528920194, "post_id": 50844567, "comment_id": 88694228, "body": "as a workaround maybe you can try to change the SP to accept 2 floats and combine that to a geography point in the SP"}, {"owner": {"reputation": 113, "user_id": 5860920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bRxPX.jpg?s=128&g=1", "display_name": "A. Abrams", "link": "https://stackoverflow.com/users/5860920/a-abrams"}, "reply_to_user": {"reputation": 2779, "user_id": 122765, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/1c9ao.jpg?s=128&g=1", "display_name": "Nikola Sivkov", "link": "https://stackoverflow.com/users/122765/nikola-sivkov"}, "edited": false, "score": 0, "creation_date": 1528920315, "post_id": 50844567, "comment_id": 88694289, "body": "Yes, I can do that, but I am hoping for a proper solution in .Net Core first. I am planning on passing various geometry types for this parameter (not just points), and I don&#39;t want to create a stored proc for each one."}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 2, "creation_date": 1528920441, "post_id": 50844567, "comment_id": 88694357, "body": "Side note: you should <b>not</b> use the <code>sp_</code> prefix for your stored procedures. Microsoft has <a href=\"http://msdn.microsoft.com/en-us/library/ms190669%28v=sql.105%29.aspx\" rel=\"nofollow noreferrer\">reserved that prefix for its own use (see <i>Naming Stored Procedures</i>)</a>, and you do run the risk of a name clash sometime in the future. <a href=\"http://www.sqlperformance.com/2012/10/t-sql-queries/sp_prefix\" rel=\"nofollow noreferrer\">It&#39;s also bad for your stored procedure performance</a>. It&#39;s best to just simply avoid <code>sp_</code> and use something else as a prefix - or no prefix at all!"}, {"owner": {"reputation": 113, "user_id": 5860920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bRxPX.jpg?s=128&g=1", "display_name": "A. Abrams", "link": "https://stackoverflow.com/users/5860920/a-abrams"}, "edited": false, "score": 0, "creation_date": 1528920648, "post_id": 50844567, "comment_id": 88694461, "body": "Good point - thanks!"}], "owner": {"reputation": 113, "user_id": 5860920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bRxPX.jpg?s=128&g=1", "display_name": "A. Abrams", "link": "https://stackoverflow.com/users/5860920/a-abrams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 719, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1528929631, "creation_date": 1528916891, "last_edit_date": 1528929631, "question_id": 50844567, "link": "https://stackoverflow.com/questions/50844567/net-core-cant-pass-geography-parameter-to-sql-server-stored-procedure", "title": ".Net Core: can&#39;t pass &quot;geography&quot; parameter to SQL Server stored procedure", "body": "<p>I want to pass a parameter of SQL Server type <code>geography</code> to a stored procedure from .Net Core.</p>\n\n<p>So far, I have installed the <code>System.Data.SqlClient</code> and <code>Microsoft.Spatial</code> packages. Here is my code:</p>\n\n<pre><code>using (SqlCommand cmd = new SqlCommand(\"myproc\", connection))\n{\n    cmd.CommandType = CommandType.StoredProcedure;\n\n    // Here, GeographyPoint is of type Microsoft.Spatial.GeographyPoint, and\n    // I am pretty sure this is the wrong type to use...\n    GeographyPoint gp = GeographyPoint.Create(lat, lon);\n    cmd.Parameters.AddWithValue(\"@Location\", gp);\n\n    connection.Open();\n    cmd.ExecuteNonQuery();\n}\n</code></pre>\n\n<p>When I try to execute this, I get the following exception:</p>\n\n<blockquote>\n  <p>System.ArgumentException: 'No mapping exists from object type Microsoft.Spatial.GeographyPointImplementation to a known managed provider native type</p>\n</blockquote>\n\n<p>Then I tried to install the <code>Microsoft.SqlServer.Types</code> package, but it is not compatible with .Net Core 1.1:</p>\n\n<blockquote>\n  <p>Package Microsoft.SqlServer.Types 14.0.314.76 is not compatible with netcoreapp1.1 (.NETCoreApp,Version=v1.1). Package Microsoft.SqlServer.Types 14.0.314.76 supports: net40 (.NETFramework,Version=v4.0)     </p>\n</blockquote>\n\n<p>Then I tried to specify that the geography parameter is Udt:</p>\n\n<pre><code>cmd.Parameters[\"@Location\"].SqlDbType = SqlDbType.Udt; \n//cmd.Parameters[\"@Location\"].UdtTypeName = \"Geography\";\n</code></pre>\n\n<p><strong>HOWEVER</strong>: I can't set the <code>UdtTypeName</code> to <code>Geography</code> because of <a href=\"https://stackoverflow.com/questions/44315760/no-sqlparameter-udttypename-on-netcoreapp1-1-how-to-use-udt?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">this issue</a>, so this won't work because the <code>UdtTypeName</code> is required for Udt parameters.</p>\n\n<p>Then, I upgraded to .Net Core 2.0. I tried adding the Microsoft.SqlServer.Types package again: this time it installed \"successfully\", but when I build my project, I get this error:</p>\n\n<blockquote>\n  <p>warning NU1701: Package 'Microsoft.SqlServer.Types 14.0.314.76' was restored using '.NETFramework,Version=v4.6.1' instead of the project target framework '.NETCoreApp,Version=v2.0'. This package may not be fully compatible with your project.</p>\n</blockquote>\n\n<p>I can't access any of the types in my code, so that didn't work.</p>\n\n<p>And the question remains: how do you pass a parameter of SQL Server type <code>geography</code> to a stored procedure from .Net Core?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1528917326, "post_id": 50844553, "comment_id": 88692734, "body": "If <code>AValues</code>, <code>Yvalues</code> and <code>ZValues</code> are always <code>IEnumerable&lt;int&gt;</code>, why not just <code>IEnumerable&lt;int&gt; values = null; if (...) values = myList.Select(myClassInst =&gt; myClassInst.Foo.A); if (...) values = myList.Select(myClassInst =&gt; myClassInst.Bar.Y).......</code>?"}, {"owner": {"reputation": 6044, "user_id": 2985796, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e23b7774b4e4cdaf47f2ac655eb423bd?s=128&d=identicon&r=PG", "display_name": "KDecker", "link": "https://stackoverflow.com/users/2985796/kdecker"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1528917736, "post_id": 50844553, "comment_id": 88692934, "body": "Sorry, that was just a semi-misleading example code. It will not always be <code>int</code>, it was just the fastest to type up."}], "answers": [{"comments": [{"owner": {"reputation": 6044, "user_id": 2985796, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e23b7774b4e4cdaf47f2ac655eb423bd?s=128&d=identicon&r=PG", "display_name": "KDecker", "link": "https://stackoverflow.com/users/2985796/kdecker"}, "edited": false, "score": 0, "creation_date": 1528917775, "post_id": 50844721, "comment_id": 88692953, "body": "Add, this makes sense, I like that. I guess I probably should&#39;ve seen the utility of <code>Func</code> in my example."}], "tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1528917524, "creation_date": 1528917524, "answer_id": 50844721, "question_id": 50844553, "link": "https://stackoverflow.com/questions/50844553/how-can-i-refer-to-a-field-of-a-class-as-some-object-then-use-that-object-to-ob/50844721#50844721", "title": "How can I refer to a field of a class as some object, then use that object to obtain the field&#39;s value later?", "body": "<p>You can use <code>Func&lt;MyClass,object&gt;</code> delegate:</p>\n\n<pre><code>var classFieldReferenceList = new List&lt;Func&lt;MyClass,object&gt;&gt;();\nif (...)\n    classFieldReferenceList.Add(m =&gt; m.Foo.A);\nif (...)\n    classFieldReferenceList.Add(m =&gt; m.Foo.B);\nif (...)\n    classFieldReferenceList.Add(m =&gt; m.Bar.X);\nif (...)\n    classFieldReferenceList.Add(m =&gt; m.Bar.Y);\n</code></pre>\n\n<p>This is not ideal because <code>object</code> is used as the most common denominator, but that would be required for a \"mixed bag\" of types.</p>\n\n<p>In your second example you could get away with a generic method:</p>\n\n<pre><code>private void DoActionsOnSelectedFields&lt;T&gt;(IEnumerable&lt;MyClass&gt; data, Func&lt;MyClass,T&gt; selector) {\n    foreach (T val in data.Select(selector)) {\n        ... // Perform some common action\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6044, "user_id": 2985796, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e23b7774b4e4cdaf47f2ac655eb423bd?s=128&d=identicon&r=PG", "display_name": "KDecker", "link": "https://stackoverflow.com/users/2985796/kdecker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 50844721, "answer_count": 1, "score": 2, "last_activity_date": 1528917524, "creation_date": 1528916844, "question_id": 50844553, "link": "https://stackoverflow.com/questions/50844553/how-can-i-refer-to-a-field-of-a-class-as-some-object-then-use-that-object-to-ob", "title": "How can I refer to a field of a class as some object, then use that object to obtain the field&#39;s value later?", "body": "<p>Say I have the following code</p>\n\n<pre><code>public class FooClass\n{\n    public int A { get; set; } = 0;\n    public int B { get; set; } = 0;\n}\n\npublic class BarClass\n{\n    public int X { get; set; } = 0;\n    public int Y { get; set; } = 0;\n}\n\npublic class MyClass\n{\n    int z = 0;\n    public FooClass Foo { get; set; } = new FooClass();\n    public BarClass Bar { get; set; } = new BarClass();\n\n    public static void MyMethod()\n    {\n        // List of MyClass objects\n        var myList = Enumerable.Range(1, 10).Select(_ =&gt; new MyClass()).ToList();\n\n        // Some flags set elsewhere\n        bool getFooAValues = true;\n        bool getBarYValues = true;\n        bool getClassZValues = true;\n\n        // Some statements that collects \"field referecnes\" of MyClass\n        var classFieldReferenceList = new List&lt;...&gt;();\n        if (getFooAValues)\n            classFieldReferenceList.Add(...);\n        if (getBarYValues)\n            classFieldReferenceList.Add(...);\n        if (getClassZValues)\n            classFieldReferenceList.Add(...);\n\n        // For each field reference\n        classFieldReferenceList.ForEach(classFieldRef =&gt;\n        {\n            // For each class\n            myList.ForEach(myClassInst =&gt;\n            {\n                // \"Select\"/\"Apply\" the reference to get the field value\n                var fieldValue = myClassInt.getTheFieldReferenceValue(classFieldRef);\n\n                // Do something with field value...\n                return fieldValue;\n            });\n\n            // Do something with the list of field values...\n        });\n    }\n}\n</code></pre>\n\n<p>In this code, specifically in <code>MyMethod</code>, I create a list of <code>MyClass</code> objects. This class has a few fields, some are simply primitive types, some are instances of other classes. <strong>How can I refer to or address these fields in the form of some object I can pass around?</strong></p>\n\n<p>For example, I began writing code, akin to the following</p>\n\n<pre><code>public static void MyMethod()\n{\n    // List of MyClass objects\n    var myList = Enumerable.Range(1, 10).Select(_ =&gt; new MyClass()).ToList();\n\n    // Some flags set elsewhere\n    bool getFooAValues = true;\n    bool getBarYValues = true;\n    bool getClassZValues = true;\n\n    if (getFooAValues)\n    {\n        var Avalues = myList.Select(myClassInst =&gt; myClassInst.Foo.A);\n        // Do Action X to list of values\n    }\n    if (getBarYValues)\n    {\n        var Yvalues = myList.Select(myClassInst =&gt; myClassInst.Bar.Y);\n        // Do Action X to list of values\n    }\n    if (getClassZValues)\n    {\n        var Zvalues = myList.Select(myClassInst =&gt; myClassInst.z);\n        // Do Action X to list of values\n    }\n}\n</code></pre>\n\n<p>Where <code>//Do Action X</code> was quite a few lines of code that I would perform to each set of values (Plotting values on a plot, flags represent showing plot line or not). Though, I don't really want duplicate that code for each possible field I could refer/address within <code>MyClass</code>. Thus, I want to refer to a field by some \"object\" then \"apply\" that object to an instance of <code>MyClass</code> later to get the value of the field, if that makes sense. </p>\n\n<p>I feel like this might be akin to defining a <code>delegate</code>? Though the delegate would be specific to some class structure?.. Or maybe there is some simple solution I have confused myself out of finding.</p>\n"}, {"tags": ["c#", "dependency-injection", "ninject", "repository-pattern", "unit-of-work"], "comments": [{"owner": {"reputation": 3901, "user_id": 5296462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9nGLf.jpg?s=128&g=1", "display_name": "Jan Muncinsky", "link": "https://stackoverflow.com/users/5296462/jan-muncinsky"}, "edited": false, "score": 0, "creation_date": 1529663995, "post_id": 50844531, "comment_id": 88966956, "body": "This one can be helpful for you:<a href=\"https://stackoverflow.com/questions/23081707/ninject-in-what-scope-dbcontext-should-get-binded-when-requestscope-is-meaning/48137975#48137975\" title=\"ninject in what scope dbcontext should get binded when requestscope is meaning\">stackoverflow.com/questions/23081707/&hellip;</a>"}, {"owner": {"reputation": 622, "user_id": 1177024, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3266d65812e9bdaf39fac5913b5c149a?s=128&d=identicon&r=PG", "display_name": "Michael Kargl", "link": "https://stackoverflow.com/users/1177024/michael-kargl"}, "edited": false, "score": 0, "creation_date": 1532106713, "post_id": 50844531, "comment_id": 89865141, "body": "I am just wrestling with the exact same dilemma. Have you come across a viable solution to this yet or have you taken the RepositoryFactory route? I&#39;ll keep searching..."}, {"owner": {"reputation": 2056, "user_id": 9285310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307e5982c5095f4597ff2eed7f8fa428?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Trainer", "link": "https://stackoverflow.com/users/9285310/tristan-trainer"}, "edited": false, "score": 0, "creation_date": 1532511009, "post_id": 50844531, "comment_id": 89999292, "body": "Hi Michael, I went with the Factory approach in the end, Ninject&#39;s Extensions.Factory uses DI to resolve it&#39;s dependencies, so if you are using Factory.Create() for an object, it resolves that objects dependencies too, so I believe this is still very testable and clean!"}], "answers": [{"tags": [], "owner": {"reputation": 2056, "user_id": 9285310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307e5982c5095f4597ff2eed7f8fa428?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Trainer", "link": "https://stackoverflow.com/users/9285310/tristan-trainer"}, "is_accepted": true, "score": 0, "last_activity_date": 1553637799, "creation_date": 1553637799, "answer_id": 55366843, "question_id": 50844531, "link": "https://stackoverflow.com/questions/50844531/how-do-i-use-dependency-injection-with-unit-of-work-and-repositories-in-c-not/55366843#55366843", "title": "How do I use Dependency Injection with Unit of Work and Repositories in C#? (Not a web based App)", "body": "<p>The solution is the use <code>Ninject's Extensions.Factory</code> class and pass in an <code>IAccountFactory.Create()</code> to initialise a new object. This then uses the DI Container to resolve its dependencies and doesn't break the DI approach.</p>\n"}], "owner": {"reputation": 2056, "user_id": 9285310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307e5982c5095f4597ff2eed7f8fa428?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Trainer", "link": "https://stackoverflow.com/users/9285310/tristan-trainer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 55366843, "answer_count": 1, "score": 2, "last_activity_date": 1553637799, "creation_date": 1528916761, "question_id": 50844531, "link": "https://stackoverflow.com/questions/50844531/how-do-i-use-dependency-injection-with-unit-of-work-and-repositories-in-c-not", "title": "How do I use Dependency Injection with Unit of Work and Repositories in C#? (Not a web based App)", "body": "<p>I see a lot of questions and answers on this topic, however the vast majority are dealing with <code>ASP.Net</code> or other web based applications and something called <code>.InRequestScope</code>. I have yet to find this method in <code>Ninject</code> with a <code>Windows Application</code>.</p>\n\n<p>I have the usual <code>Unit of Work</code> (UoW) and <code>Repository</code> (Repo) classes and Interfaces, but I am wanting to inject the same <code>DbContext</code> into both, each time a UoW is run from the <code>DIContainer</code>. My code looks like this;</p>\n\n<pre><code>public class UnitOfWork : IUnitOfWork, IDisposable\n{\n    private readonly FinancialContext _context;\n\n    private IAccountRepository _accountRepository;\n    public IAccountRepository Accounts\n    {\n        get { return _accountRepository; }\n    }\n\n    UnitOfWork(IMyContext context, IAccountRepository accountRepository)\n    {\n        _context = context;\n        _accountRepository = accountRepository;\n    }\n\n    public void SaveChanges()\n    {\n        _context.SaveChanges();\n    }\n\n    public void Dispose()\n    {\n        _context.Dispose();\n    }\n}\n\npublic class AccountRepository : Repository&lt;Account&gt;, IAccountRepository\n{\n    public AccountRepository(IMyContext context) : base(context) { }\n}\n</code></pre>\n\n<p>The DIContainer holds the following associations;</p>\n\n<pre><code>Bind&lt;IUnitOfWork&gt;().To&lt;UnitOfWork&gt;().InTransientScope();\nBind&lt;IUnitOfWorkFactory&gt;().ToFactory();\n\nBind&lt;IMyContext&gt;().To&lt;MyContext&gt;().InSingletonScope();\n\nBind&lt;IAccountTypeRepository&gt;().To&lt;AccountTypeRepository&gt;().InTransientScope();\n</code></pre>\n\n<p>I'll come back to the .InSingletonScope();</p>\n\n<p>The way I have seen people do this normally has been in the UoW Properties for each Repo to have code to this effect;</p>\n\n<pre><code>private IAccountRepository _accountRepository;\npublic IAccountRepository Accounts\n{\n    get \n    { \n         if(_accountRepository = null)\n         {\n             _accountRepository = new AccountRepository(_context);\n         }\n         return _accountRepository; \n    }\n}\n</code></pre>\n\n<p>And remove the injected repositories from the <code>Constructor</code>, there by ensuring that each instance of a repository using the same _context.</p>\n\n<p>However in my mind this breaks the <code>Dependency Injection</code> for this class. Is there a way to do this where each creation of a <code>UoW</code> like so;</p>\n\n<pre><code>public TestUnitOfWork(IUnitOfWorkFactory unitOfWork)\n{\n    using (var UoW = unitOfWork.Create())\n    {\n         Work done on UoW... \n    }\n}\n</code></pre>\n\n<p>Currently the <code>.InSingletonScope</code> allows this, but is this keeping an instance of the context always open? Introducing the errors associated with not disposing a context properly?</p>\n\n<p>Or is it better to create a <code>Factory</code> for the <code>Repositories</code> and give them a context parameter, then in the properties initialise it like so;</p>\n\n<pre><code>private IAccountRepository _accountRepository;\npublic IAccountRepository Accounts\n{\n    get \n    { \n         if(_accountRepository = null)\n         {\n             _accountRepository = RepositoryFactory.CreateAccountRepository(_context);\n         }\n         return _accountRepository; \n    }\n}\n</code></pre>\n\n<p>Thanks in advance for any help!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1528916659, "post_id": 50844448, "comment_id": 88692404, "body": "It&#39;s hard to be certain just from the code you&#39;ve posted, but it seems that you&#39;re setting <code>curr.Neighbors.ElementAt(i).Calea</code> to the <b>same object</b> for all values of <code>i</code>, so when you add values you&#39;re adding them to the same object each time. Perhaps you need a  <i>clone</i> of <code>curr.Calea</code>?"}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528916716, "post_id": 50844448, "comment_id": 88692435, "body": "Ah no , I set curr to different node each time , I will add that  sample code also"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 3, "creation_date": 1528916741, "post_id": 50844448, "comment_id": 88692445, "body": "@paparazzo What?"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1528916835, "post_id": 50844448, "comment_id": 88692480, "body": "@Amy Go two parse right and sometimes."}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528917121, "post_id": 50844448, "comment_id": 88692625, "body": "Ok here it is I hope is more clear now"}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "reply_to_user": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1528917350, "post_id": 50844448, "comment_id": 88692741, "body": "@DStanley I added a little more code let me know if it&#39;s still unclear"}, {"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1528917355, "post_id": 50844448, "comment_id": 88692742, "body": "the private <code>calea</code> member will always remain null, you should assign the new instance to <code>calea</code> in the getter and then return <code>calea</code>, not return the anonymous instance."}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "reply_to_user": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1528917413, "post_id": 50844448, "comment_id": 88692777, "body": "@dlatikay First I did like you said , didn&#39;t worked"}, {"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1528917452, "post_id": 50844448, "comment_id": 88692791, "body": "but closer to a working solution for sure."}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "reply_to_user": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1528917641, "post_id": 50844448, "comment_id": 88692888, "body": "@dlatikay I don&#39;t know cause I have values in calea , but they are stacking up for exemple , if a node A has two neighboors b and c , and c has a neighboor d then d will have  var Calea as {A , C , B ,D} which is not correct , that&#39;s what I mean by stacking up"}, {"owner": {"reputation": 4083, "user_id": 2748412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EZ1jT.png?s=128&g=1", "display_name": "Franck", "link": "https://stackoverflow.com/users/2748412/franck"}, "edited": false, "score": 0, "creation_date": 1528918123, "post_id": 50844448, "comment_id": 88693144, "body": "Isn&#39;t that the <code>Minimum cost flow</code> algorithm ?"}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "reply_to_user": {"reputation": 4083, "user_id": 2748412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EZ1jT.png?s=128&g=1", "display_name": "Franck", "link": "https://stackoverflow.com/users/2748412/franck"}, "edited": false, "score": 0, "creation_date": 1528918544, "post_id": 50844448, "comment_id": 88693365, "body": "@Franck Well I am trying to get the optimal solution for a path between 2 given nodes and I want to go in each node and calculate each path cost for each neighbour , as far as I know it is Dijkstra  but I am not using adjacency matrix"}, {"owner": {"reputation": 4083, "user_id": 2748412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EZ1jT.png?s=128&g=1", "display_name": "Franck", "link": "https://stackoverflow.com/users/2748412/franck"}, "edited": false, "score": 0, "creation_date": 1528921607, "post_id": 50844448, "comment_id": 88694971, "body": "@GabrielCostin Might worth looking into google developper. Reading your question i see the exact same problem i did fix using the <a href=\"https://developers.google.com/optimization/flow/mincostflow\" rel=\"nofollow noreferrer\">Min cost flow</a> from google developper. Editing value was so easy as the format is a simple array."}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "reply_to_user": {"reputation": 4083, "user_id": 2748412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EZ1jT.png?s=128&g=1", "display_name": "Franck", "link": "https://stackoverflow.com/users/2748412/franck"}, "edited": false, "score": 0, "creation_date": 1528921850, "post_id": 50844448, "comment_id": 88695107, "body": "@Franck Well thank you that algorithm is interesting I will look into it , and I have got the answer to my questions thanks to Dave"}], "answers": [{"comments": [{"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528918371, "post_id": 50844848, "comment_id": 88693275, "body": "Still not working , same situation and by stacking up I am meaning that after n nodes visited , Calea var it&#39;s like {node 1,node 2,node 3,node 4,...,node n} which of course is not correct , because not all nodes have same neighbours  for exemple , if a node A has two neighboors b and c , and c has a neighboor d then d will have var Calea as {A , C , B ,D}"}, {"owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "reply_to_user": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528918604, "post_id": 50844848, "comment_id": 88693400, "body": "@GabrielCostin see my update above. Also, you might want to google &quot;C# auto-implemented properties.&quot; <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/auto-implemented-properties\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528918688, "post_id": 50844848, "comment_id": 88693448, "body": "So then how can I have a list Calea(path) for each Node? I am using same strategy for Neighbours , which actually works.."}, {"owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "reply_to_user": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528918961, "post_id": 50844848, "comment_id": 88693606, "body": "@GabrielCostin I can&#39;t guess why this works in another circumstance. The code provided doesn&#39;t duplicate the list. See my second update. Or search google for &#39;How to deep copy a LinkedList c#&#39;. :/"}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528919280, "post_id": 50844848, "comment_id": 88693769, "body": "Actually that works , thank you very much , but could you explain why it is working? for me is almost the same thing , the only difference I can see is that when I set Calea for a neighbour I create a new LinkedList with the items of an already created LinkedList"}, {"owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "reply_to_user": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528919423, "post_id": 50844848, "comment_id": 88693840, "body": "@GabrielCostin In your posted implementation, you&#39;re only ever creating <i>one list</i>, no matter how many <code>GraphNode</code>s you create. When you, instead, pass the list as an argument to <code>LinkedList</code>&#39;s constructor, you are creating a new <code>LinkedList</code>. The list elements are still stored by reference, but the list itself is a different entity. Your first version was similar to using a <code>static</code> member, while the modified version allows each <code>GraphNode</code> to have it&#39;s own list, with its own set of elements. References are pointers with some syntactic sugar - just like C++ references."}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528919435, "post_id": 50844848, "comment_id": 88693850, "body": ".Neighbors always have an element i cause i is iterated by the number of neighbors of the current node"}, {"owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "reply_to_user": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528919456, "post_id": 50844848, "comment_id": 88693863, "body": "@GabrielCostin alrighty. I missed that part. Shrug."}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528919768, "post_id": 50844848, "comment_id": 88694019, "body": "Was my bad because I didn&#39;t included that part in the sample code, I always try to make code sample contains as less code as possible cause no one would read 2 pages of code just to help a dumb. And about the .Neighbors variable , I have to admit that I am not doing same method to instantiate which is that I have a graph which contains a method to add a vertex between 2 nodes for exemple from.Neighboor.Add(to) but why this list isn&#39;t the same?Just cause I use Add method from List?"}, {"owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "reply_to_user": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528920857, "post_id": 50844848, "comment_id": 88694546, "body": "@GabrielCostin I would <i>guess</i> that it&#39;s due to the way you&#39;re using the other structure. Without the code, I can&#39;t say for sure. It may still have the same bug, but it&#39;s just not presenting any symptoms. Also, posting two pages of code is just fine and it really helps. We prefer a minimal, complete and verifiable example for things like this. See <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>)"}, {"owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "reply_to_user": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528920901, "post_id": 50844848, "comment_id": 88694572, "body": "@GabrielCostin And this isn&#39;t a dumb question. That&#39;s what this site is for, despite what the downvote police would have you believe."}, {"owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528921075, "post_id": 50844848, "comment_id": 88694676, "body": "Well same way , private GNodeList&lt;T&gt; neighbors=null;,  protected GNodeList&lt;T&gt; Neighbors             {                 get                 {                     return neighbors;                 }                 set                 {                     neighbors = value;                 }             }"}, {"owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "reply_to_user": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "edited": false, "score": 0, "creation_date": 1528921190, "post_id": 50844848, "comment_id": 88694740, "body": "@GabrielCostin <code>set { neighbors = value; }</code> assigns the list <i>reference</i> to <code>self.neighbors</code> - <i>it does not copy the contents of the list</i>. So, no idea. Again, I can&#39;t really debug your code based on one line in the comments section."}], "tags": [], "owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "is_accepted": true, "score": 0, "last_activity_date": 1528919269, "last_edit_date": 1528919269, "creation_date": 1528918019, "answer_id": 50844848, "question_id": 50844448, "link": "https://stackoverflow.com/questions/50844448/getter-and-setter-c/50844848#50844848", "title": "Getter and Setter c#", "body": "<p>I have no idea what you mean by \"stacking up,\" but:</p>\n\n<pre><code>     public LinkedList&lt;GraphNode&lt;string&gt;&gt; Calea\n    {\n        get\n        {\n\n            if (calea == null) return new LinkedList&lt;GraphNode&lt;string&gt;&gt;();\n\n            return calea;\n\n        }\n</code></pre>\n\n<p>... creates a new list <strong>every time the property is read</strong>, not just the first time. <code>calea</code> will always be <code>null</code> with this approach. </p>\n\n<p>Try</p>\n\n<pre><code>get \n{\n    if (null == calea)\n       calea = new LinkedList&lt;GraphNode&lt;string&gt;&gt;();\n\n    return calea;\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>The line</p>\n\n<pre><code>curr.Neighbors.ElementAt(i).Calea = curr.Calea;\n</code></pre>\n\n<p>Does not make a copy of the list. It copies a <em>reference</em> to the list. Any changes made to any node's <code>calea</code> afterward will affect every node, not just the one you're after. </p>\n\n<p>Try </p>\n\n<pre><code>curr.Neighbors.ElementAt(i).Calea = new LinkedList&lt;GraphNode&lt;string&gt;&gt;(curr.Calea);\n</code></pre>\n\n<p>Though, you should make sure <code>.Neighbors</code> actually has an element <code>i</code> before doing this, among other things. </p>\n\n<p>Note: In the case of an uninitialized node, this will actually create two lists - once when Calea is read (LH of the expression, which calls your <code>.get</code>), and another on the right. </p>\n\n<p>There are many ways to copy a collection. I suggest googling <code>c# deep copy LinkedList&lt;T&gt;</code>.</p>\n"}], "owner": {"reputation": 112, "user_id": 9858689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91be1f9684a65eb1c257fcb78a6853?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel Costin", "link": "https://stackoverflow.com/users/9858689/gabriel-costin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 50844848, "answer_count": 1, "score": 0, "last_activity_date": 1528919269, "creation_date": 1528916461, "last_edit_date": 1528917093, "question_id": 50844448, "link": "https://stackoverflow.com/questions/50844448/getter-and-setter-c", "title": "Getter and Setter c#", "body": "<p>I have multiple objects(nodes) and each node has a getter and setter for a list named Calea which contains other nodes, also each node has neighbours and they are also nodes . The problem is that list is stacking up and I can't figure out why , it's like a static variable and also I am not using that getter and setter anywhere else.\nHere is my code :</p>\n\n<pre><code> private int cost = 10000;\n private LinkedList&lt;GraphNode&lt;string&gt;&gt; calea=new LinkedList&lt;GraphNode&lt;string&gt;&gt;() ;\n public int Cost\n        {\n            get\n            {\n                return cost;\n            }\n            set\n            {\n                cost = value;\n            }\n        }\n         public LinkedList&lt;GraphNode&lt;string&gt;&gt; Calea\n        {\n            get\n            {\n\n                if (calea == null) return new LinkedList&lt;GraphNode&lt;string&gt;&gt;();\n\n                return calea;\n\n            }\n\n            set\n            {\n              calea = value;\n\n            }\n        }\n</code></pre>\n\n<p>Code above shows the method for Cost and Calea , Cost works fine but Calea is stacking up.The code below is a sample of code of how I am setting the value Calea for each node:</p>\n\n<pre><code>if (curr.Neighbors.ElementAt(i).Cost &gt; curr.Costs.ElementAt(i) + curr.Cost)\n                {\n\n                    curr.Neighbors.ElementAt(i).Cost = curr.Costs.ElementAt(i) + curr.Cost;\n\n                    curr.Neighbors.ElementAt(i).Calea = curr.Calea;\n                    curr.Neighbors.ElementAt(i).Calea.AddLast((GraphNode&lt;string&gt;)curr.Neighbors.ElementAt(i));\n\n                    index = i;\n\n\n                }  \n                ++i;\n</code></pre>\n\n<p>The sample code where I change the current node below:</p>\n\n<pre><code>pathNodesToVisit.Remove(curr);\n            if (pathNodesToVisit.Count == 0) break;\n            if (curr.Neighbors.Count &gt; index)\n            {\n                for (int j = 0; j &lt; pathNodesToVisit.Count; j++)\n                {\n                    if (pathNodesToVisit.ElementAt(j).Value == curr.Neighbors.ElementAt(index).Value)\n                    {\n                        indexx = j;\n                        //MessageBox.Show(pathNodesToVisit.ElementAt(j).Value);\n                    }\n                }\n                curr = pathNodesToVisit.ElementAt(indexx);\n            }\n            else\n            {\n                curr = pathNodesToVisit.ElementAt(0);\n            }\n</code></pre>\n\n<p>A few words : pathNodesToVisit are all the nods which I want to visit(Dijkstra algorithm) , in the code above I remove the curr node from the list and the new curr node is a node which had the Costs and Calea changed.</p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-core", "asp.net-identity"], "comments": [{"owner": {"reputation": 1587, "user_id": 1636492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6d0ccf8f18fabe4e9963d504197cfc5?s=128&d=identicon&r=PG", "display_name": "hugo", "link": "https://stackoverflow.com/users/1636492/hugo"}, "edited": false, "score": 1, "creation_date": 1528920181, "post_id": 50844380, "comment_id": 88694222, "body": "if you declare services.AddTransient&lt;IUserStore&lt;Employee&gt;, ApplicationUserStore&gt;(), you cannot use ApplicationUserStore in your contructors.  You need to use IUserStore&lt;Employee&gt;"}, {"owner": {"reputation": 1771, "user_id": 3602352, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9b39efbf02bc03904e95ced949e0bf76?s=128&d=identicon&r=PG&f=1", "display_name": "Aly Elhaddad", "link": "https://stackoverflow.com/users/3602352/aly-elhaddad"}, "reply_to_user": {"reputation": 1587, "user_id": 1636492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6d0ccf8f18fabe4e9963d504197cfc5?s=128&d=identicon&r=PG", "display_name": "hugo", "link": "https://stackoverflow.com/users/1636492/hugo"}, "edited": false, "score": 0, "creation_date": 1528933125, "post_id": 50844380, "comment_id": 88698805, "body": "@hugo. Unfortunately, using <code>AddTransient</code> without <code>AddUserStore</code> didn&#39;t work with me, neither did using <code>AddUserStore</code> without <code>AddTransient</code>; I keep receiving the same message."}, {"owner": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1528933833, "post_id": 50844380, "comment_id": 88698951, "body": "Have you registered <code>ApplicationDbContext</code>?"}, {"owner": {"reputation": 1771, "user_id": 3602352, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9b39efbf02bc03904e95ced949e0bf76?s=128&d=identicon&r=PG&f=1", "display_name": "Aly Elhaddad", "link": "https://stackoverflow.com/users/3602352/aly-elhaddad"}, "reply_to_user": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1528934666, "post_id": 50844380, "comment_id": 88699107, "body": "@Brad. I guess it&#39;s being registered by this line <code>.AddEntityFrameworkStores&lt;ApplicationDbContext&gt;()</code>."}, {"owner": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 2, "creation_date": 1528935049, "post_id": 50844380, "comment_id": 88699169, "body": "It isn&#39;t.  That line is simply telling Identity the type of IdentityDbContext to use.  It expects it to be pre-configured and registered e.g. <code>services.AddDbContext&lt;ApplicationDbContext&gt;();</code>.  You may have similar problems with your other custom services."}, {"owner": {"reputation": 1771, "user_id": 3602352, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9b39efbf02bc03904e95ced949e0bf76?s=128&d=identicon&r=PG&f=1", "display_name": "Aly Elhaddad", "link": "https://stackoverflow.com/users/3602352/aly-elhaddad"}, "reply_to_user": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1528935354, "post_id": 50844380, "comment_id": 88699224, "body": "@Brad. That was really close; instead of that, I had to register <code>UserStore</code> through <code>AddScoped</code> - I came up with the solution; if interested, please see the answer."}, {"owner": {"reputation": 1771, "user_id": 3602352, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9b39efbf02bc03904e95ced949e0bf76?s=128&d=identicon&r=PG&f=1", "display_name": "Aly Elhaddad", "link": "https://stackoverflow.com/users/3602352/aly-elhaddad"}, "edited": false, "score": 1, "creation_date": 1528946364, "post_id": 50844380, "comment_id": 88701183, "body": "Down-voter, would you state why?"}], "answers": [{"comments": [{"owner": {"reputation": 1132, "user_id": 3188762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b51dc5ca2d1d2b1b1e2804aa70304aa4?s=128&d=identicon&r=PG", "display_name": "Taraz", "link": "https://stackoverflow.com/users/3188762/taraz"}, "edited": false, "score": 0, "creation_date": 1529352754, "post_id": 50847938, "comment_id": 88833598, "body": "Thanks! I was having a similar issue with the DbContext dependency injection. (Microsoft.Extensions.DependencyInjection.ActivatorUtilities&zwnj;&#8203;.GetService) and the issue was resolved by entering another services.AddDbContext item in the Startup.cs file."}, {"owner": {"reputation": 398, "user_id": 1843966, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Uvie5.jpg?s=128&g=1", "display_name": "T3.0", "link": "https://stackoverflow.com/users/1843966/t3-0"}, "edited": false, "score": 0, "creation_date": 1555508129, "post_id": 50847938, "comment_id": 98136572, "body": "I&#39;m having the same issue. What exactly is the ApplicationUserStrore? I was not able to find ApplicationUserStore within the links provided"}, {"owner": {"reputation": 1771, "user_id": 3602352, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9b39efbf02bc03904e95ced949e0bf76?s=128&d=identicon&r=PG&f=1", "display_name": "Aly Elhaddad", "link": "https://stackoverflow.com/users/3602352/aly-elhaddad"}, "reply_to_user": {"reputation": 398, "user_id": 1843966, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Uvie5.jpg?s=128&g=1", "display_name": "T3.0", "link": "https://stackoverflow.com/users/1843966/t3-0"}, "edited": false, "score": 0, "creation_date": 1555508801, "post_id": 50847938, "comment_id": 98136992, "body": "@T3.0 <code>ApplicationUserStore</code>, as provided in the question, is the custom <code>IUserStore</code> for my custom user type."}, {"owner": {"reputation": 398, "user_id": 1843966, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Uvie5.jpg?s=128&g=1", "display_name": "T3.0", "link": "https://stackoverflow.com/users/1843966/t3-0"}, "edited": false, "score": 0, "creation_date": 1555511570, "post_id": 50847938, "comment_id": 98138868, "body": "Thanks. I added an isEnabled property to my custom usertype and I have not created a custom userstore. Perhaps that is the cause of my error. <code>Unable to resolve service for type Microsoft.AspNetCore.Identity.EntityFrameworkCore.UserStore 1[Myapp.Areas.Identity.Data.xyzUser] while attempting to activate Myapp.Areas.Identity.Pages.Account.Manage.CustomUserEditPage&zwnj;&#8203;.&#47;&#47;&#47;&#47;&#47;&#47; at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.&zwnj;&#8203;GetService(IServiceP&zwnj;&#8203;rovider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)  at lambda_method...</code>"}, {"owner": {"reputation": 1282, "user_id": 1539674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5d4y8.jpg?s=128&g=1", "display_name": "mike gold", "link": "https://stackoverflow.com/users/1539674/mike-gold"}, "edited": false, "score": 0, "creation_date": 1590103768, "post_id": 50847938, "comment_id": 109561886, "body": "thanks for this, this really got me out of dependency injection h*ll!"}], "tags": [], "owner": {"reputation": 1771, "user_id": 3602352, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9b39efbf02bc03904e95ced949e0bf76?s=128&d=identicon&r=PG&f=1", "display_name": "Aly Elhaddad", "link": "https://stackoverflow.com/users/3602352/aly-elhaddad"}, "is_accepted": true, "score": 3, "last_activity_date": 1531470067, "last_edit_date": 1531470067, "creation_date": 1528935186, "answer_id": 50847938, "question_id": 50844380, "link": "https://stackoverflow.com/questions/50844380/asp-net-core-2-1-identity-userstore-dependency-injection/50847938#50847938", "title": "Asp.Net Core 2.1 Identity - UserStore dependency injection", "body": "<p>After reviewing open-source implementation <a href=\"https://github.com/aspnet/Identity/blob/master/src/Core/IdentityServiceCollectionExtensions.cs\" rel=\"nofollow noreferrer\">here</a>, and <a href=\"https://github.com/aspnet/Identity/blob/master/src/Identity/IdentityServiceCollectionExtensions.cs\" rel=\"nofollow noreferrer\">here</a>, I came up with a clue to what the issue might have been - and I guessed right. The <code>UserStore</code> needed to be registered through this line in <code>Startup.ConfigureServices</code>:</p>\n\n<pre><code>    services.AddScoped&lt;ApplicationUserStore&gt;();\n</code></pre>\n\n<p>So, my final approach was:</p>\n\n<pre><code>    ...\n    services.AddIdentityCore&lt;Employee&gt;()\n        .AddUserManager&lt;ApplicationUserManager&gt;()\n        .AddSignInManager&lt;ApplicationSignInManager&gt;()\n        .AddDefaultTokenProviders();\n\n    services.AddScoped&lt;IUserStore&lt;Employee&gt;, ApplicationUserStore&gt;();\n    services.AddScoped&lt;ApplicationUserStore&gt;();\n    ...\n</code></pre>\n\n<p>Even though, it worked without:</p>\n\n<pre><code>    services.AddScoped&lt;IUserStore&lt;Employee&gt;, ApplicationUserStore&gt;();\n</code></pre>\n"}], "owner": {"reputation": 1771, "user_id": 3602352, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9b39efbf02bc03904e95ced949e0bf76?s=128&d=identicon&r=PG&f=1", "display_name": "Aly Elhaddad", "link": "https://stackoverflow.com/users/3602352/aly-elhaddad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5473, "favorite_count": 0, "accepted_answer_id": 50847938, "answer_count": 1, "score": 2, "last_activity_date": 1531470067, "creation_date": 1528916171, "question_id": 50844380, "link": "https://stackoverflow.com/questions/50844380/asp-net-core-2-1-identity-userstore-dependency-injection", "title": "Asp.Net Core 2.1 Identity - UserStore dependency injection", "body": "<p>I'm trying to implement a custom <code>UserStore</code> for my identity models; however, I'm getting this run-time error on app startup:</p>\n\n<blockquote>\n  <p>InvalidOperationException: Unable to resolve service for type\n  '[Project].Models.Identity.ApplicationUserStore' while attempting to\n  activate '[Project].Models.Identity.ApplicationUserManager'.</p>\n</blockquote>\n\n<p>Stack:</p>\n\n<blockquote>\n  <p>Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type\n  serviceType, Type implementationType, CallSiteChain callSiteChain,\n  ParameterInfo[] parameters, bool throwIfCallSiteNotFound)\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(Type\n  serviceType, Type implementationType, CallSiteChain callSiteChain)\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor\n  descriptor, Type serviceType, CallSiteChain callSiteChain)\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type\n  serviceType, CallSiteChain callSiteChain)\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type\n  serviceType, CallSiteChain callSiteChain)\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.CreateServiceAccessor(Type\n  serviceType) System.Collections.Concurrent.ConcurrentDictionary.GetOrAdd(TKey key, Func valueFactory)\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type\n  serviceType, ServiceProviderEngineScope serviceProviderEngineScope)\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type\n  serviceType)\n  Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider\n  provider, Type serviceType)\n  Microsoft.AspNetCore.Identity.IdentityBuilder+&lt;>c__DisplayClass22_0.b__0(IServiceProvider services)\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite\n  factoryCallSite, ServiceProviderEngineScope scope)\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor.VisitCallSite(IServiceCallSite callSite, TArgument argument)\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite\n  scopedCallSite, ServiceProviderEngineScope scope)\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor.VisitCallSite(IServiceCallSite callSite, TArgument argument)\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine+&lt;>c__DisplayClass1_0.b__0(ServiceProviderEngineScope\n  scope)\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type\n  serviceType, ServiceProviderEngineScope serviceProviderEngineScope)\n  Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type\n  serviceType)\n  Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider\n  sp, Type type, Type requiredBy, bool isDefaultParameterRequired)\n  lambda_method(Closure , IServiceProvider , object[] )\n  Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider+&lt;>c__DisplayClass4_0.b__0(ControllerContext\n  controllerContext)\n  Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider+&lt;>c__DisplayClass5_0.g__CreateController|0(ControllerContext\n  controllerContext)\n  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(ref\n  State next, ref Scope scope, ref object state, ref bool isCompleted)\n  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()\n  Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()\n  Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext\n  context) Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(ref\n  State next, ref Scope scope, ref object state, ref bool isCompleted)\n  Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()\n  Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()\n  Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext\n  httpContext)\n  Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext\n  context)\n  Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext\n  context)\n  Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext\n  context)</p>\n</blockquote>\n\n<p>My <code>UserStore</code> implementation:</p>\n\n<pre><code>public class ApplicationUserStore : IUserStore&lt;Employee&gt;,\n                     IUserClaimStore&lt;Employee&gt;,\n                     IUserLoginStore&lt;Employee&gt;,\n                     IUserRoleStore&lt;Employee&gt;,\n                     IUserPasswordStore&lt;Employee&gt;,\n                     IUserSecurityStampStore&lt;Employee&gt;\n{\n    #region Constructor signatures I tried for dependency injection\n    public ApplicationUserStore(ApplicationDbContext context, IdentityErrorDescriber describer = null)\n    {\n\n    }\n    public ApplicationUserStore(ApplicationDbContext context)\n    {\n\n    }\n    public ApplicationUserStore()\n    {\n\n    }\n    public ApplicationUserStore(DbContext context)\n    {\n\n    }\n    #endregion\n    ...\n</code></pre>\n\n<p>My <code>UserManager</code> implementation:</p>\n\n<pre><code>public class ApplicationUserManager : UserManager&lt;Employee&gt;\n{\n    public ApplicationUserManager(ApplicationUserStore store, IOptions&lt;IdentityOptions&gt; optionsAccessor, IPasswordHasher&lt;Employee&gt; passwordHasher, IEnumerable&lt;IUserValidator&lt;Employee&gt;&gt; userValidators, IEnumerable&lt;IPasswordValidator&lt;Employee&gt;&gt; passwordValidators, ILookupNormalizer keyNormalizer, IdentityErrorDescriber errors, IServiceProvider services, ILogger&lt;UserManager&lt;Employee&gt;&gt; logger)\n        : base(store, optionsAccessor, passwordHasher, userValidators, passwordValidators, keyNormalizer, errors, services, logger)\n    {\n    }\n}\n</code></pre>\n\n<p>My <code>SignInManager</code> implementation:</p>\n\n<pre><code>public class ApplicationSignInManager : SignInManager&lt;Employee&gt;\n{\n    public ApplicationSignInManager(ApplicationUserManager userManager, IHttpContextAccessor contextAccessor, IUserClaimsPrincipalFactory&lt;Employee&gt; claimsFactory, IOptions&lt;IdentityOptions&gt; optionsAccessor, ILogger&lt;SignInManager&lt;Employee&gt;&gt; logger, IAuthenticationSchemeProvider schemes)\n        : base(userManager, contextAccessor, claimsFactory, optionsAccessor, logger, schemes)\n    {\n    }\n}\n</code></pre>\n\n<p>And, in <code>Startup.ConfigureServices</code>:</p>\n\n<pre><code>        ...\n        services.AddIdentityCore&lt;Employee&gt;()\n            .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;()\n            .AddUserStore&lt;ApplicationUserStore&gt;()\n            .AddUserManager&lt;ApplicationUserManager&gt;()\n            .AddSignInManager&lt;ApplicationSignInManager&gt;()\n            .AddDefaultTokenProviders();\n\n        services.AddTransient&lt;IUserStore&lt;Employee&gt;, ApplicationUserStore&gt;();\n        ...\n</code></pre>\n\n<p>I need to know what causes the problem, how to solve it, and whether there's a documentation anywhere for Asp.Net Core 2.1 dependency injection activator signatures.</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 2, "creation_date": 1528916185, "post_id": 50844358, "comment_id": 88692192, "body": "Why use dynamic here at all?"}, {"owner": {"reputation": 687, "user_id": 1634205, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/mM8wK.png?s=128&g=1", "display_name": "Ryan Taite", "link": "https://stackoverflow.com/users/1634205/ryan-taite"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1528916553, "post_id": 50844358, "comment_id": 88692356, "body": "Fair point, I suppose I could try to convert it to a strongly typed object before returning it. I have been trying to keep that logic out of my repo if possible."}, {"owner": {"reputation": 13318, "user_id": 1221684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f83137a1e0ee44a266b26d2ff01bc4?s=128&d=identicon&r=PG", "display_name": "JamieD77", "link": "https://stackoverflow.com/users/1221684/jamied77"}, "edited": false, "score": 0, "creation_date": 1528916566, "post_id": 50844358, "comment_id": 88692362, "body": "a different route you can take is add an Expression parameter to your BaseQuery method and pass in your where conditions"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1528916608, "post_id": 50844358, "comment_id": 88692381, "body": "Inject a &quot;converter class&quot; dependency into your repo, that way you have full control.  Little bit of generics and you have a full customize-able solution.  Or you can use extension methods outside of the class"}, {"owner": {"reputation": 687, "user_id": 1634205, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/mM8wK.png?s=128&g=1", "display_name": "Ryan Taite", "link": "https://stackoverflow.com/users/1634205/ryan-taite"}, "reply_to_user": {"reputation": 13318, "user_id": 1221684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f83137a1e0ee44a266b26d2ff01bc4?s=128&d=identicon&r=PG", "display_name": "JamieD77", "link": "https://stackoverflow.com/users/1221684/jamied77"}, "edited": false, "score": 0, "creation_date": 1528916867, "post_id": 50844358, "comment_id": 88692502, "body": "@JamieD77 I tried adding <code>Expression&lt;Func&lt;dynamic, bool&gt;&gt; query</code> as a parameter to BaseQuery and got the same result when passing in <code>x =&gt; x.CallThread_Id == callThreadId)</code>"}, {"owner": {"reputation": 13318, "user_id": 1221684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f83137a1e0ee44a266b26d2ff01bc4?s=128&d=identicon&r=PG", "display_name": "JamieD77", "link": "https://stackoverflow.com/users/1221684/jamied77"}, "edited": false, "score": 0, "creation_date": 1528916989, "post_id": 50844358, "comment_id": 88692557, "body": "well you shouldnt use <code>Func&lt;dynamic</code> and you dont need to if you&#39;re always querying CallDetails. it should be <code>Func&lt;CallDetails</code> and the where would be before the <code>Select</code>"}, {"owner": {"reputation": 687, "user_id": 1634205, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/mM8wK.png?s=128&g=1", "display_name": "Ryan Taite", "link": "https://stackoverflow.com/users/1634205/ryan-taite"}, "reply_to_user": {"reputation": 13318, "user_id": 1221684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f83137a1e0ee44a266b26d2ff01bc4?s=128&d=identicon&r=PG", "display_name": "JamieD77", "link": "https://stackoverflow.com/users/1221684/jamied77"}, "edited": false, "score": 0, "creation_date": 1528919151, "post_id": 50844358, "comment_id": 88693703, "body": "@JamieD77 That seems to be working for me, but gets a little trickier when I need to have multiple where conditions passed in one case and not the other. I&#39;m trying to figure that out now."}, {"owner": {"reputation": 13318, "user_id": 1221684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54f83137a1e0ee44a266b26d2ff01bc4?s=128&d=identicon&r=PG", "display_name": "JamieD77", "link": "https://stackoverflow.com/users/1221684/jamied77"}, "edited": false, "score": 0, "creation_date": 1528920675, "post_id": 50844358, "comment_id": 88694469, "body": "@RyanTaite build your multiple where conditions into a singe expression whenever possible.. <code>Where(a =&gt; a.1 == p1 &amp;&amp; a.2 == p2</code>) instead of <code>Where(a =&gt; a.1 == p1).Where(a =&gt; a.2 == p2)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 687, "user_id": 1634205, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/mM8wK.png?s=128&g=1", "display_name": "Ryan Taite", "link": "https://stackoverflow.com/users/1634205/ryan-taite"}, "edited": false, "score": 0, "creation_date": 1528927040, "post_id": 50844551, "comment_id": 88697243, "body": "I actually already have a <code>CallDetail</code>, <code>Child</code>, and <code>Caller</code> class. Looks like I would need to change things like <code>callDetail.Id</code> to <code>Id = callDetail.Id</code> and so on in your example before it stops yelling at me. Unfortunately it seems EF doesn&#39;t like me mapping to Entity Models during the query, and my current project doesn&#39;t use DTOs (only Models and ViewModels), so I&#39;d have to build that out first before I can confirm this works."}], "tags": [], "owner": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "is_accepted": false, "score": 0, "last_activity_date": 1528916836, "creation_date": 1528916836, "answer_id": 50844551, "question_id": 50844358, "link": "https://stackoverflow.com/questions/50844358/can-i-reuse-an-iqueryabledynamic-select-statement/50844551#50844551", "title": "Can I reuse an IQueryable&lt;dynamic&gt; .Select() statement?", "body": "<p>You can reuse any part of your query. As a solution to your problem you need to define a non-anonymous type that you can use in your method signature:</p>\n\n<pre><code>class CallDetails {\n    public int Id { get; set; }\n    //...\n    IQueryable&lt;CallDetailsChild&gt; Children { get; set; }\n    IQueryable&lt;CallDetailsCaller&gt; Callers { get; set; }\n    //...\n}\n\nclass CallDetailsChild {\n    //...\n}\n\nclass CallDetailsCaller {\n    //...\n}\n\n//...\n\nprivate IQueryable&lt;CallDetails&gt; BaseQuery()\n{\n    return _context.CallDetails\n        .AsNoTracking()\n        .Include(callDetail =&gt; callDetail.Callers)\n        .Select(callDetail =&gt; new CallDetails\n        {\n            callDetail.Id,\n            callDetail.EnteredByEmail,\n            callDetail.CallStartTime,\n            callDetail.CallDirectionIsIncoming,\n            callDetail.CallThread_Id,\n            Children = callDetail.Children.Select(child =&gt; new CallDetailsChild\n            {\n                child.FirstName,\n                child.LastName,\n                child.DateOfBirth\n            }),\n            Callers = callDetail.Callers.Select(y =&gt; new CallDetailsCaller\n            {\n                y.FirstName,\n                y.LastName,\n                y.PhoneNumber.Number\n            }),\n            callDetail.SensitiveCall,\n            callDetail.SuccessStory\n        });\n}\n</code></pre>\n\n<p>This solution is a little verbose, but that's the only option you have if you want to use a custom type instead of an entity type and reuse it like this.</p>\n"}], "owner": {"reputation": 687, "user_id": 1634205, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/mM8wK.png?s=128&g=1", "display_name": "Ryan Taite", "link": "https://stackoverflow.com/users/1634205/ryan-taite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528916836, "creation_date": 1528916078, "question_id": 50844358, "link": "https://stackoverflow.com/questions/50844358/can-i-reuse-an-iqueryabledynamic-select-statement", "title": "Can I reuse an IQueryable&lt;dynamic&gt; .Select() statement?", "body": "<p>I'm using C# and Entity Framework v6.2.0</p>\n\n<p>In a repository class I have this function:</p>\n\n<pre><code>public IQueryable&lt;dynamic&gt; GetRelatedCallDetailsAsNoTracking(Guid callThreadId)\n    {\n        return _context.CallDetails\n            .AsNoTracking()\n            .Include(callDetail =&gt; callDetail.Callers)\n            .Select(callDetail =&gt; new\n            {\n                callDetail.Id,\n                callDetail.EnteredByEmail,\n                callDetail.CallStartTime,\n                callDetail.CallDirectionIsIncoming,\n                callDetail.CallThread_Id,\n                Children = callDetail.Children.Select(child =&gt; new\n                {\n                    child.FirstName,\n                    child.LastName,\n                    child.DateOfBirth\n                }),\n                Callers = callDetail.Callers.Select(y =&gt; new\n                {\n                    y.FirstName,\n                    y.LastName,\n                    y.PhoneNumber.Number\n                }),\n                callDetail.SensitiveCall,\n                callDetail.SuccessStory\n            })\n            .Where(x =&gt; x.CallThread_Id == callThreadId)\n            .OrderByDescending(x =&gt; x.CallStartTime);\n    }\n</code></pre>\n\n<p>In the same Repo, I have a second function that has the exact same query with some added <code>.Where(...)</code> statements.</p>\n\n<p>Is it possible to do something like:</p>\n\n<pre><code>public IQueryable&lt;dynamic&gt; SecondQuery(Guid callThreadId)\n{\n    return BaseQuery()\n        .Where(x =&gt; x.CallTherad_Id == callThreadId)\n        .OrderByDescending(x =&gt; x...);\n}\npublic IQueryable&lt;dynamic&gt; SecondQuery(Guid callThreadId, string secondParameter, bool thirdParameter)\n{\n    return BaseQuery()\n        .Where(x =&gt; x...)\n        .Where(x =&gt; x...)\n        .Where(x =&gt; x...)\n        .OrderByDescending(x =&gt; x...);\n}\n</code></pre>\n\n<hr/>\n\n<p>I tried:</p>\n\n<pre><code>private IQueryable&lt;dynamic&gt; BaseQuery()\n{\n    return _context.CallDetails\n        .AsNoTracking()\n        .Include(callDetail =&gt; callDetail.Callers)\n        .Select(callDetail =&gt; new\n        {\n            callDetail.Id,\n            callDetail.EnteredByEmail,\n            callDetail.CallStartTime,\n            callDetail.CallDirectionIsIncoming,\n            callDetail.CallThread_Id,\n            Children = callDetail.Children.Select(child =&gt; new\n            {\n                child.FirstName,\n                child.LastName,\n                child.DateOfBirth\n            }),\n            Callers = callDetail.Callers.Select(y =&gt; new\n            {\n                y.FirstName,\n                y.LastName,\n                y.PhoneNumber.Number\n            }),\n            callDetail.SensitiveCall,\n            callDetail.SuccessStory\n        });\n}\n\npublic IQueryable&lt;dynamic&gt; GetRelatedCallDetailsAsNoTracking(Guid callThreadId)\n{\n    return BaseQuery().Where(x =&gt; x.CallThread_Id == callThreadId);\n}\n</code></pre>\n\n<p>But this gets me the error:</p>\n\n<blockquote>\n  <p>An expression tree may not contain a dynamic operation</p>\n</blockquote>\n"}, {"tags": ["c#", "keyboard", ".net-core"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1528916081, "post_id": 50844348, "comment_id": 88692137, "body": "What kind of .NET core project is this?"}, {"owner": {"reputation": 393, "user_id": 9256002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea7132d7319d98b0bb731f0ffe57a022?s=128&d=identicon&r=PG&f=1", "display_name": "Jean-David Lanz", "link": "https://stackoverflow.com/users/9256002/jean-david-lanz"}, "edited": false, "score": 0, "creation_date": 1581952105, "post_id": 50844348, "comment_id": 106599302, "body": "If you use WPF, have you tried InputBindings as proposed here : <a href=\"https://stackoverflow.com/questions/612966/keyboard-events-in-a-wpf-mvvm-application/7086853#7086853\" title=\"keyboard events in a wpf mvvm application\">stackoverflow.com/questions/612966/&hellip;</a> ?"}], "answers": [{"tags": [], "owner": {"reputation": 55371, "user_id": 536, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2142b1a501386ed0af9232862af48df9?s=128&d=identicon&r=PG", "display_name": "Judah Gabriel Himango", "link": "https://stackoverflow.com/users/536/judah-gabriel-himango"}, "is_accepted": true, "score": 3, "last_activity_date": 1528916248, "creation_date": 1528916248, "answer_id": 50844398, "question_id": 50844348, "link": "https://stackoverflow.com/questions/50844348/how-to-hook-keyboard-event-in-net-core-using-c/50844398#50844398", "title": "How to hook keyboard event in .NET Core using C#", "body": "<p>There isn't a way to do this in .NET Core. You'll need to write platform-specific code to do this on each platform you're deploying to.</p>\n"}], "owner": {"reputation": 81, "user_id": 7376760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89fcd014d26c10dce92677af72a5268?s=128&d=identicon&r=PG&f=1", "display_name": "Newb1996", "link": "https://stackoverflow.com/users/7376760/newb1996"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 969, "favorite_count": 1, "accepted_answer_id": 50844398, "answer_count": 1, "score": 3, "last_activity_date": 1528916248, "creation_date": 1528916038, "question_id": 50844348, "link": "https://stackoverflow.com/questions/50844348/how-to-hook-keyboard-event-in-net-core-using-c", "title": "How to hook keyboard event in .NET Core using C#", "body": "<p>In .NET Framework I could easy hook global keyboard events, but using .NET Core it is different, since Unix doesn't provide kernel.dll as Windows. How to hook keyboard events using .Net Core? </p>\n"}, {"tags": ["c#", "exchangewebservices"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6249459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0ac4fddf402d69a2184919117af2ef?s=128&d=identicon&r=PG&f=1", "display_name": "zachary.edwards", "link": "https://stackoverflow.com/users/6249459/zachary-edwards"}, "edited": false, "score": 0, "creation_date": 1529003269, "post_id": 50849111, "comment_id": 88731079, "body": "I removed the credentials just to post the code snippet. It appears to be an issue with my companies firewall that is preventing my connection. This article helped - <a href=\"https://www.gfi.com/support/products/how-to-obtain-the-exchange-web-services-ews-url\" rel=\"nofollow noreferrer\">gfi.com/support/products/&hellip;</a>. Switched to using the internal url and was able to stream. Thanks!"}], "tags": [], "owner": {"reputation": 16134, "user_id": 1080923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5381f82010f6a5175f2f3fe8ac85b9?s=128&d=identicon&r=PG", "display_name": "Glen Scales", "link": "https://stackoverflow.com/users/1080923/glen-scales"}, "is_accepted": false, "score": 0, "last_activity_date": 1528946317, "creation_date": 1528946317, "answer_id": 50849111, "question_id": 50844181, "link": "https://stackoverflow.com/questions/50844181/ews-servicerequestexception-when-opening-streaming-subscription/50849111#50849111", "title": "EWS ServiceRequestException when opening Streaming Subscription", "body": "<p>An easy way to test Streaming subscriptions is to make use of the Test feature in the EWSeditor <a href=\"https://github.com/dseph/EwsEditor/releases\" rel=\"nofollow noreferrer\">https://github.com/dseph/EwsEditor/releases</a> .</p>\n\n<p>The code you posted looks okay but you don't specify any credentials or the Mailbox you want to connect to for the Subscription. So its going to try connect to whatever the current credentials are and if that user has a Mailbox etc which is probably where its failing. But if you can get it to work in the EWSEditor you can then compare what's happening in the ewseditor to what happening with your code using something like fiddler to look at request etc.</p>\n"}], "owner": {"reputation": 11, "user_id": 6249459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0ac4fddf402d69a2184919117af2ef?s=128&d=identicon&r=PG&f=1", "display_name": "zachary.edwards", "link": "https://stackoverflow.com/users/6249459/zachary-edwards"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528946317, "creation_date": 1528915471, "question_id": 50844181, "link": "https://stackoverflow.com/questions/50844181/ews-servicerequestexception-when-opening-streaming-subscription", "title": "EWS ServiceRequestException when opening Streaming Subscription", "body": "<p>I am trying to stream a connection to my companies exchange servers to monitor a mailbox. I followed the EWS documentation to create and then open a StreamingSubscriptionConnection. After calling the Open method my application spins until it throws a ServiceRequestException and timesout. Have I configured anything incorrectly? I can't seem to get this to connect.</p>\n\n<p>Code: </p>\n\n<pre><code>static StreamingSubscriptionConnection connection;\nstatic void Main(string[] args)\n{\n    ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2)\n    {\n        UseDefaultCredentials = true,\n        Url = new Uri(\"https://webmail.company.com/ews/exchange.asmx\")\n    };\n\n    SetStreamingNotifications(service);\n\n    Console.ReadKey();\n}\n\npublic static void SetStreamingNotifications(ExchangeService service)\n{\n    StreamingSubscription subscription;\n    service.HttpHeaders.Add(\"X-AnchorMailbox\", \"email@company.com\");\n    service.HttpHeaders.Add(\"X-PreferServerAffinity\", \"true\");\n\n    // Subscribe to streaming notifications in the Inbox. \n    subscription = service.SubscribeToStreamingNotifications(new FolderId[] { WellKnownFolderName.Inbox },\n            EventType.NewMail,\n            EventType.Modified,\n            EventType.Deleted,\n            EventType.Created,\n            EventType.Moved,\n            EventType.Copied);\n\n    // Create a streaming connection to the service object, over which events are returned to the client.\n    // Keep the streaming connection open for 30 minutes.\n    connection = new StreamingSubscriptionConnection(subscription.Service, 30);\n    connection.AddSubscription(subscription);\n    connection.OnNotificationEvent += OnNotificationEvent;\n    connection.OnSubscriptionError += SubscriptionError;\n    connection.OnDisconnect += OnDisconnect;\n    try\n    {\n        //Never get past this block, only throws ServiceRequestException\n        connection.Open();\n    }\n    catch (ServiceRequestException e)\n    {\n        service.Timeout = 200000;\n        try\n        {\n            DateTime dt = DateTime.Now;\n            connection.Open();\n            Console.WriteLine(\"Opening the connection took longer than expected: \" + (int)Math.Round((DateTime.Now - dt).TotalSeconds) + \"s\");\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine(\"Opening the connection failed twice: \" + ex.Message + \" after \" + e.Message);\n        }\n        finally\n        {\n            service.Timeout = 100000;\n        }\n    }\n    catch (Exception e)\n    {\n       Console.WriteLine(\"Opening the connection failed: \" + e.Message);\n    }\n\n    Console.WriteLine($\"Connection Open:{connection.IsOpen}\");\n}\n</code></pre>\n\n<p>The EWS Version I am using is V2.2.0 but I have also tried this same code with Microsoft.Exchange.WebServices.NETStandard v1.1.2.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1528915457, "post_id": 50844168, "comment_id": 88691839, "body": "Do you want the id returned when you <code>INSERT</code>?  Is it an identity column/table?"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1528915520, "post_id": 50844168, "comment_id": 88691864, "body": "Do you have Identity (auto generation of PK values) enabled in your table ? How are you inserting your record ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9847039"}, "edited": false, "score": 0, "creation_date": 1528915603, "post_id": 50844168, "comment_id": 88691908, "body": "Yes i need to return id"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9847039"}, "edited": false, "score": 0, "creation_date": 1528915656, "post_id": 50844168, "comment_id": 88691929, "body": "photo_id is auto is auto generated value"}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1528915716, "post_id": 50844168, "comment_id": 88691964, "body": "What have you tried so far?  StackOverflow is not a code-generation service.  Rather, we&#39;re here to point you in the right direction when you&#39;ve made a concerted effort and you are stuck."}, {"owner": {"reputation": 403, "user_id": 9403243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/501bcf708519c51beb646f449889d9e4?s=128&d=identicon&r=PG", "display_name": "The Lyrist", "link": "https://stackoverflow.com/users/9403243/the-lyrist"}, "edited": false, "score": 0, "creation_date": 1528915887, "post_id": 50844168, "comment_id": 88692056, "body": "You can get the identity field value back from your insert query. look at the example somewhat described here: <a href=\"https://stackoverflow.com/questions/14246744/executescalar-vs-executenonquery-when-returning-an-identity-value\" title=\"executescalar vs executenonquery when returning an identity value\">stackoverflow.com/questions/14246744/&hellip;</a>"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1528918523, "post_id": 50844168, "comment_id": 88693352, "body": "What is inside <code>Model.Photos</code> ? Is it all the Photos (for all Pr_id) or just the photos for a specific Pr_Id ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9847039"}, "edited": false, "score": 0, "creation_date": 1528919154, "post_id": 50844168, "comment_id": 88693705, "body": "its all the photos for all pr_id"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1528920011, "post_id": 50844168, "comment_id": 88694145, "body": "What is your expected output ? You want to show all the PR_IDs and it&#39;s last photos ? Or you want to simply show the last photo( from all photos) ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9847039"}, "edited": false, "score": 0, "creation_date": 1528920329, "post_id": 50844168, "comment_id": 88694295, "body": "I want to show all the pr_ids and its last photo."}, {"owner": {"reputation": 3665, "user_id": 4356300, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/xoYPz.jpg?s=128&g=1", "display_name": "yogihosting", "link": "https://stackoverflow.com/users/4356300/yogihosting"}, "edited": false, "score": 0, "creation_date": 1528920944, "post_id": 50844168, "comment_id": 88694601, "body": "Do the insert through a stored procedure that also returns the last inserted it."}], "answers": [{"tags": [], "owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "is_accepted": true, "score": 0, "last_activity_date": 1528920602, "creation_date": 1528920602, "answer_id": 50845460, "question_id": 50844168, "link": "https://stackoverflow.com/questions/50844168/how-to-get-the-last-entered-id-from-database/50845460#50845460", "title": "How to get the last entered ID from database", "body": "<p>If you are trying to show all the pr_ids and it's last photo, you should do a group by on your <code>Model.Photos</code> collection and then do an <code>OrderBy</code> on the grouped items and call the <code>Last</code> method.</p>\n\n<pre><code>@{\n    var grouped = Model.Photos.GroupBy(a =&gt; a.pr_id);\n}\n@foreach(var item in grouped)\n{\n    &lt;p&gt;@item.Key&lt;/p&gt;\n    &lt;span&gt;@item.OrderBy(a=&gt;a.photo_id).Last().Path&lt;/span&gt;\n}\n</code></pre>\n\n<p>Here we are simply printing the <code>Key</code> of the grouped item which is the <code>pr_id</code>. If you want more properties of the pr entity, create a class representing that data and use that in your LINQ group by statement.</p>\n\n<p>Assuming <code>Model.Photos</code> is all the photo records for all the pr_ids</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9847039"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 50845460, "answer_count": 1, "score": 0, "last_activity_date": 1528920748, "creation_date": 1528915423, "last_edit_date": 1528920748, "question_id": 50844168, "link": "https://stackoverflow.com/questions/50844168/how-to-get-the-last-entered-id-from-database", "title": "How to get the last entered ID from database", "body": "<p>I am saving multiple photos to same <code>pr_id</code> into database. Each details are entering as different rows. So while retrieving I need the highest or last entered <code>photo_id</code> for each <code>pr_id</code>. How do I do that in C#?</p>\n\n<p>My database table looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/D1rAz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D1rAz.png\" alt=\"enter image description here\"></a></p>\n\n<p>My view code :</p>\n\n<pre><code>    @if (Model.Photos.Count &gt; 0)\n    {\n        &lt;div&gt;\n            @foreach (var photo in Model.Photos)\n            {\n             @{ var last = Model.Photos.Last(); }\n                @Html.EditorFor(modelItem =&gt; last.photo_id)\n        &lt;/div&gt;\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "ghostscript", "ghostscript.net", "redmon"], "comments": [{"owner": {"reputation": 4286, "user_id": 1440105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QxCty.jpg?s=128&g=1", "display_name": "Dweeberly", "link": "https://stackoverflow.com/users/1440105/dweeberly"}, "edited": false, "score": 0, "creation_date": 1528940108, "post_id": 50844005, "comment_id": 88700063, "body": "If I understand correctly you have a pdf file and you want it converted to text.  You might take a look at this <a href=\"https://stackoverflow.com/questions/6187250/pdf-text-extraction\">stackoverflow.com/questions/6187250/pdf-text-extraction</a>"}, {"owner": {"reputation": 63, "user_id": 2116427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7136f03c0c443e000b57bab44a63bf3a?s=128&d=identicon&r=PG", "display_name": "Marc.Adans", "link": "https://stackoverflow.com/users/2116427/marc-adans"}, "reply_to_user": {"reputation": 4286, "user_id": 1440105, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QxCty.jpg?s=128&g=1", "display_name": "Dweeberly", "link": "https://stackoverflow.com/users/1440105/dweeberly"}, "edited": false, "score": 0, "creation_date": 1529439469, "post_id": 50844005, "comment_id": 88871201, "body": "I&#39;ve tried every form of the link you submitted. However the PDF-&gt; PS-&gt; PDF-&gt; Text scenario does not work"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 2116427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7136f03c0c443e000b57bab44a63bf3a?s=128&d=identicon&r=PG", "display_name": "Marc.Adans", "link": "https://stackoverflow.com/users/2116427/marc-adans"}, "edited": false, "score": 0, "creation_date": 1529439701, "post_id": 50851784, "comment_id": 88871305, "body": "Unfortunately I need to intercept the printing of old software (No source code). And it sends to print Texts or PDFs"}, {"owner": {"reputation": 27865, "user_id": 701996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hx9ep.jpg?s=128&g=1", "display_name": "KenS", "link": "https://stackoverflow.com/users/701996/kens"}, "reply_to_user": {"reputation": 63, "user_id": 2116427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7136f03c0c443e000b57bab44a63bf3a?s=128&d=identicon&r=PG", "display_name": "Marc.Adans", "link": "https://stackoverflow.com/users/2116427/marc-adans"}, "edited": false, "score": 0, "creation_date": 1529440389, "post_id": 50851784, "comment_id": 88871595, "body": "So you are saying that the software prints to a printer, and you are intercepting that ? If so where does the PDF come in ? It might help to see an example of what you are feeding to Ghostscript."}, {"owner": {"reputation": 63, "user_id": 2116427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7136f03c0c443e000b57bab44a63bf3a?s=128&d=identicon&r=PG", "display_name": "Marc.Adans", "link": "https://stackoverflow.com/users/2116427/marc-adans"}, "edited": false, "score": 0, "creation_date": 1529494041, "post_id": 50851784, "comment_id": 88891506, "body": "I&#39;m using RedMon(Redirection Port Monitor), HP Universal Driver PS and GhostScript to intercept document printing."}, {"owner": {"reputation": 27865, "user_id": 701996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hx9ep.jpg?s=128&g=1", "display_name": "KenS", "link": "https://stackoverflow.com/users/701996/kens"}, "reply_to_user": {"reputation": 63, "user_id": 2116427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7136f03c0c443e000b57bab44a63bf3a?s=128&d=identicon&r=PG", "display_name": "Marc.Adans", "link": "https://stackoverflow.com/users/2116427/marc-adans"}, "edited": false, "score": 1, "creation_date": 1529513664, "post_id": 50851784, "comment_id": 88904467, "body": "Try using the generic PostScript printer (if it still exists in your version of Windows) instead of the HP printer. The Microsoft PostScript driver does special extra stuff to get usable text out, and the txtwrite device is capable of using that additional information. Failing that, try any other PostScript printer but <b>not</b> an HP one. I&#39;m still unclear on where the PDF file comes into this."}, {"owner": {"reputation": 1181, "user_id": 1053381, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4dc91351eb1c3391bdba4455d2a24dcc?s=128&d=identicon&r=PG", "display_name": "Ian Yates", "link": "https://stackoverflow.com/users/1053381/ian-yates"}, "edited": false, "score": 0, "creation_date": 1615895854, "post_id": 50851784, "comment_id": 117828291, "body": "Agree with @kenS - use the Microsoft driver.  I often go to the &quot;Generic&quot; drivers section in the Windows driver picker dialog and then pick the MS Publisher ImageSetter driver.  That works well and gives good text extraction capabilities once the PS has been converted to PDF   (although I don&#39;t use Ghostscript txwrite stuff but instead use a PDF library that lets me analyse the blocks of text within a PDF)"}], "tags": [], "owner": {"reputation": 27865, "user_id": 701996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hx9ep.jpg?s=128&g=1", "display_name": "KenS", "link": "https://stackoverflow.com/users/701996/kens"}, "is_accepted": false, "score": 0, "last_activity_date": 1528960929, "creation_date": 1528960929, "answer_id": 50851784, "question_id": 50844005, "link": "https://stackoverflow.com/questions/50844005/extract-text-from-pdf-filesprinted/50851784#50851784", "title": "Extract text from PDF files(Printed)", "body": "<p>As Dweeberly says in the comments, if you want to extract text from a PDF file, do <strong>not</strong> start by printing it. Especially do not turn it into PostScript.</p>\n\n<p>PDF files can have ToUnicode CMaps in the (its optional) and these allow reliable text extraction. PostScript doesn't support these and so the information is lost if you create a PostScript file from the PDF (no matter what means you use to create hte PostScript).</p>\n\n<p>In addition the PostScript program will usually be created with subset fonts, non-standard Encodings and other modifications to the text which wil make it hard, or impossible, to extract text from it.</p>\n\n<p>Since Ghostscript can accept PostScript <strong>and</strong> PDF as input, there is no value in turning the PDF into PostScript before feeding it to the txtwrite device. All you are doing is making life harder for the device and discarding useful information.</p>\n\n<p>Just use Ghostscript and the txtwrite device, and give it the PDF file as an input.</p>\n\n<p>Naturally OCR works, because it scans the shapes of the text to determine the character, but yes its slow. On the other hand it will work with PDF files which only contain images of text, not actual text, which the txtwrite device won't.</p>\n"}], "owner": {"reputation": 63, "user_id": 2116427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7136f03c0c443e000b57bab44a63bf3a?s=128&d=identicon&r=PG", "display_name": "Marc.Adans", "link": "https://stackoverflow.com/users/2116427/marc-adans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 468, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528960929, "creation_date": 1528914745, "last_edit_date": 1528916856, "question_id": 50844005, "link": "https://stackoverflow.com/questions/50844005/extract-text-from-pdf-filesprinted", "title": "Extract text from PDF files(Printed)", "body": "<p>I'm using RedMon(Redirection Port Monitor), HP Universal Driver PS and GhostScript to intercept document printing.</p>\n\n<p>However, for the following scenario:</p>\n\n<p>File PDF -> HP Universal Driver PS -> RedMon -> PostScript File** -> GhostScript create file printed.pdf*.</p>\n\n<p>* Can not extract text from PDF file:\ngs -dSAFER -dBATCH -dNOPAUSE -sDEVICE=txtwrite -sOutputFile=output.txt printed.pdf</p>\n\n<p>** The PostScript file is created as compacted and can not extract the text.</p>\n\n<p>Question is?</p>\n\n<p>Can I create a PostScript file without compacting when a PDF is sent to the printer?</p>\n\n<p>Observation: Printed.pdf -> Image(TIFF) -> Tesseract(OCR) -> Text File... Works! But it is slow.</p>\n"}, {"tags": ["c#", "mysql", "asp.net-mvc", "ado.net"], "comments": [{"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1528914897, "post_id": 50843956, "comment_id": 88691570, "body": "Have you tried SQL WHERE clause ?"}, {"owner": {"reputation": 11, "user_id": 9272193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f78f0fcbf8167b96bb20c56eb610e2?s=128&d=identicon&r=PG&f=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/9272193/anand"}, "reply_to_user": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1528914973, "post_id": 50843956, "comment_id": 88691600, "body": "Yup where mobileno=&#39;9876543210&#39; but i am not getting the list of items... of  particular record"}, {"owner": {"reputation": 1136, "user_id": 2707156, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1JK5s.png?s=128&g=1", "display_name": "StefanG", "link": "https://stackoverflow.com/users/2707156/stefang"}, "reply_to_user": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1528915449, "post_id": 50843956, "comment_id": 88691836, "body": "@Shyju Can you post what you already tried to fetch the record?"}, {"owner": {"reputation": 11, "user_id": 9272193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f78f0fcbf8167b96bb20c56eb610e2?s=128&d=identicon&r=PG&f=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/9272193/anand"}, "edited": false, "score": 0, "creation_date": 1528916028, "post_id": 50843956, "comment_id": 88692121, "body": "I am not sure the code which is written to fetch is rite or wrong ..Please suggest me to find the solution for this"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9272193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f78f0fcbf8167b96bb20c56eb610e2?s=128&d=identicon&r=PG&f=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/9272193/anand"}, "edited": false, "score": 0, "creation_date": 1528917602, "post_id": 50844633, "comment_id": 88692860, "body": "how do you get the records in the table format in the view ?"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "reply_to_user": {"reputation": 11, "user_id": 9272193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f78f0fcbf8167b96bb20c56eb610e2?s=128&d=identicon&r=PG&f=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/9272193/anand"}, "edited": false, "score": 0, "creation_date": 1528917662, "post_id": 50844633, "comment_id": 88692901, "body": "use HTML table to render a table. In that case, why would you use <code>SelectListItem</code> from your code ? create a class to represent your data and return that."}, {"owner": {"reputation": 11, "user_id": 9272193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f78f0fcbf8167b96bb20c56eb610e2?s=128&d=identicon&r=PG&f=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/9272193/anand"}, "edited": false, "score": 0, "creation_date": 1528918931, "post_id": 50844633, "comment_id": 88693587, "body": "Why do m getting this error......    The model item passed into the dictionary is of type &#39;System.Collections.Generic.List`1[System.Web.Mvc.SelectList&zwnj;&#8203;Item]&#39;, but this dictionary requires a model item of type &#39;Orders.Models.Fruits&#39;."}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "reply_to_user": {"reputation": 11, "user_id": 9272193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f78f0fcbf8167b96bb20c56eb610e2?s=128&d=identicon&r=PG&f=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/9272193/anand"}, "edited": false, "score": 0, "creation_date": 1528919823, "post_id": 50844633, "comment_id": 88694049, "body": "because your view is strongly typed to a list of Fruit objects and it expects that. But your action method is trying to pass a list of SelectListItem objects. Pass the correct data"}], "tags": [], "owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "is_accepted": false, "score": 0, "last_activity_date": 1528917161, "creation_date": 1528917161, "answer_id": 50844633, "question_id": 50843956, "link": "https://stackoverflow.com/questions/50843956/get-the-list-of-items-from-the-database-that-is-separated-with-comma-for-an-each/50844633#50844633", "title": "Get the list of items from the database that is separated with comma for an each record in MVC?", "body": "<p>The <code>ExecuteNonQuery</code> executes your query and returns the number records affected by the query (how many rows are inserted/updated). If you want to get data from your table, you should use <code>ExecuteReader</code> method which returns a <code>SqlDataReader</code></p>\n\n<pre><code>private static List&lt;SelectListItem&gt; GetFruits(Fruits bf)\n{\n    var items = new List&lt;SelectListItem&gt;();\n    string constr = \"Your connection string here\";\n    using (var con = new SqlConnection(constr))\n    {\n        var query = \" SELECT ID, Fruits FROM FruitItems where Mobileno=@Mobileno\";\n        using (var cmd = new SqlCommand(query, con))\n        {\n            cmd.Parameters.AddWithValue(\"@Mobileno\", bf.Mobileno);\n            con.Open();\n            using (var reader = cmd.ExecuteReader())\n            {\n                if (reader.HasRows)\n                {\n                    while (reader.Read())\n                    {\n                        var item = new SelectListItem();\n                        item.Value = reader.GetInt32(reader.GetOrdinal(\"Id\")).ToString();\n                        item.Text = reader.GetString(reader.GetOrdinal(\"Fruits\"));\n                        items.Add(item);\n                    }\n                }\n            }\n        }\n    }\n\n    return items;\n}\n</code></pre>\n\n<p>The value you store in the <code>Fruits</code> property is comma separated Id values like <code>1,5,4</code>. So that is what your SelectListItem's <code>Text</code> property is going to have. You probably want to consider normalizing your table to store 1 FruitId value in in a single column(and record).</p>\n\n<p>I excluded the null checks before reading from the SqlDataReader with the assumption that your ID column is NOT NULL type. If it is nullable type, You can use the <code>IsDBNull</code> method as needed</p>\n\n<pre><code>if (!reader.IsDBNull(reader.GetOrdinal(\"Id\")))\n{\n    item.Value = reader.GetInt32(reader.GetOrdinal(\"Id\")).ToString();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9272193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f78f0fcbf8167b96bb20c56eb610e2?s=128&d=identicon&r=PG&f=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/9272193/anand"}, "is_accepted": false, "score": 0, "last_activity_date": 1528922691, "creation_date": 1528922691, "answer_id": 50846002, "question_id": 50843956, "link": "https://stackoverflow.com/questions/50843956/get-the-list-of-items-from-the-database-that-is-separated-with-comma-for-an-each/50846002#50846002", "title": "Get the list of items from the database that is separated with comma for an each record in MVC?", "body": "<pre><code>@model Orders.Models.Fruits\n@using (Html.BeginForm())  \n{\n@Html.AntiForgeryToken()\n\n\n&lt;div class=\"form-horizontal\"&gt;       \n    &lt;h2&gt;Fruits&lt;/h2&gt;\n    &lt;hr /&gt;\n    @Html.ValidationSummary(true, \"\", new { @class = \"text-danger\" })\n\n\n    &lt;div class=\"form-group\"&gt;\n\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.EditorFor(model =&gt; model.Mobileno, new { htmlAttributes = new { @class = \"form-control\", @id = \"txtmobno\", @Placeholder = \"Mobile\" } })\n            @Html.ValidationMessageFor(model =&gt; model.Mobileno, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;table cellpadding=\"0\" cellspacing=\"0\"&gt;\n            &lt;tr&gt;\n                &lt;th&gt;ItemsID&lt;/th&gt;\n                &lt;th&gt;Items&lt;/th&gt;\n            &lt;/tr&gt;\n            @foreach (var items in Model)\n            {\n                &lt;tr&gt;\n                    &lt;td&gt;@items.ItemsId&lt;/td&gt;\n                    &lt;td&gt;@items.Items&lt;/td&gt;\n                &lt;/tr&gt;\n            }\n        &lt;/table&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;div class=\"col-md-offset-2 col-md-10\"&gt;\n            &lt;input type=\"submit\" value=\"Print\" class=\"btn btn-default\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 11, "user_id": 9272193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f78f0fcbf8167b96bb20c56eb610e2?s=128&d=identicon&r=PG&f=1", "display_name": "Anand", "link": "https://stackoverflow.com/users/9272193/anand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1528922691, "creation_date": 1528914572, "last_edit_date": 1528915867, "question_id": 50843956, "link": "https://stackoverflow.com/questions/50843956/get-the-list-of-items-from-the-database-that-is-separated-with-comma-for-an-each", "title": "Get the list of items from the database that is separated with comma for an each record in MVC?", "body": "<p>To Store into database through Listbox (Multiselect) refer the below link</p>\n\n<p><a href=\"https://www.aspsnippets.com/Articles/ASPNet-MVC-Get-ListBox-Selected-Text-and-Selected-Value-in-Controller.aspx\" rel=\"nofollow noreferrer\">https://www.aspsnippets.com/Articles/ASPNet-MVC-Get-ListBox-Selected-Text-and-Selected-Value-in-Controller.aspx</a> </p>\n\n<p>Here this link actually alert the messagebox of the listed items in the listbox.</p>\n\n<p>As the referred link above... i stored the data of fruits separated through comma   of multiple items like<br>\nvar items = string.Join(\",\", fruits.FruitsId.ToArray()); </p>\n\n<p>Output below is   </p>\n\n<p>ID       |    Fruits     |    Mobileno<br>\n1       |    1,5,4    |     9876543210<br>\n2       | 2,3,8       |  9876542103</p>\n\n<p>But now i actually need to fetch the data from  the database of particular record based on mobileno entered in the textbox with the records of fruitslist in the table through ado.net...</p>\n\n<p>This is how i inserted the data into fruits table using ado.net</p>\n\n<pre><code>   public void Addfruits(Fruits bfitems)\n   {\n            try   \n            {\n             connection(); \n            var items = string.Join(\",\", bfitems.FruitsId.ToArray());\n            string insertText = \"insert into FruitItems(Items,Mobileno) \n                VALUES (@Items,@Mobileno)\";\n            MySqlCommand command = new MySqlCommand(insertText, con);\n            command.Parameters.AddWithValue(\"@Items\", items);\n            command.Parameters.AddWithValue(\"@Mobileno\", bfitems.Mobileno);\n            if (insertText != null)\n            {\n                con.Open();\n                command.ExecuteNonQuery();\n            }\n\n        }\n        catch (Exception ex)\n        {\n\n        }\n        finally\n        {\n            con.Close();\n        }\n    }\n</code></pre>\n\n<p>To fetch the records ....</p>\n\n<pre><code>     private static List&lt;SelectListItem&gt; GetFruits(Fruits bf)\n    {\n        List&lt;SelectListItem&gt; items = new List&lt;SelectListItem&gt;();\n        string constr = \n        ConfigurationManager.ConnectionStrings[\"orders\"].ConnectionString;\n        using (MySqlConnection con = new MySqlConnection(constr))\n        {\n            string query = \" SELECT * FROM FruitItems where \n            Mobileno=@Mobileno\";\n            MySqlCommand cmd = new MySqlCommand(query);\n            cmd.Parameters.AddWithValue(\"@Mobileno\", bf.Mobileno);\n                cmd.Connection = con;\n                con.Open();\n                cmd.ExecuteNonQuery();\n                con.Close();\n\n        }\n\n        return items;\n    }\n</code></pre>\n"}, {"tags": ["c#", "python", "cryptography"], "comments": [{"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1528915705, "post_id": 50843953, "comment_id": 88691955, "body": "instead of writing <code>*put some data here*</code> post a real example so that people can test the code."}, {"owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1528916856, "post_id": 50843953, "comment_id": 88692494, "body": "<code>-</code> and <code>_</code> are not valid chars for base64 encoding"}, {"owner": {"reputation": 283, "user_id": 6666227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf9eecc2f25f39284dc52f2693c88f3?s=128&d=identicon&r=PG&f=1", "display_name": "Procrastinating Programmer", "link": "https://stackoverflow.com/users/6666227/procrastinating-programmer"}, "reply_to_user": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "edited": false, "score": 0, "creation_date": 1528917237, "post_id": 50843953, "comment_id": 88692681, "body": "@Eser that is what I am trying to figure out. Is there another way to decrypt the bytestream which includes - and _ ?"}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 1, "creation_date": 1528918147, "post_id": 50843953, "comment_id": 88693154, "body": "Your (<i>Python</i>) code sample <b>does not work</b>, because the key that you pass to <code>Fernet</code> constructor (<code>cipher_suite = Fernet(key)</code>) is incorrect: <code>binascii.Error: Incorrect padding</code>."}], "answers": [{"comments": [{"owner": {"reputation": 283, "user_id": 6666227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf9eecc2f25f39284dc52f2693c88f3?s=128&d=identicon&r=PG&f=1", "display_name": "Procrastinating Programmer", "link": "https://stackoverflow.com/users/6666227/procrastinating-programmer"}, "edited": false, "score": 0, "creation_date": 1528920357, "post_id": 50844957, "comment_id": 88694311, "body": "Your answer is close works with the token you provided. However when I use the token I got from the encrypt method in Python, it does not work.  Error in the line if (!hash.SequenceEqual(hash2)).  Also for decrypting the token you provided,I am getting the error cryptography.fernet.InvalidToken in python"}, {"owner": {"reputation": 283, "user_id": 6666227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf9eecc2f25f39284dc52f2693c88f3?s=128&d=identicon&r=PG&f=1", "display_name": "Procrastinating Programmer", "link": "https://stackoverflow.com/users/6666227/procrastinating-programmer"}, "edited": false, "score": 0, "creation_date": 1528921066, "post_id": 50844957, "comment_id": 88694669, "body": "Can you try with this vector gAAAAABbIXmNE6v5uaUYNxbQIFuHLokphd7OzAg-dekcC3-XlllcwWly3HJv&zwnj;&#8203;UlPAMBWsgCLWiKBMGVRe&zwnj;&#8203;eRtXLFoMS-ZVLPwAlw=="}, {"owner": {"reputation": 102162, "user_id": 613130, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40bd5f390cba274159501bb244bc29f4?s=128&d=identicon&r=PG", "display_name": "xanatos", "link": "https://stackoverflow.com/users/613130/xanatos"}, "reply_to_user": {"reputation": 283, "user_id": 6666227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf9eecc2f25f39284dc52f2693c88f3?s=128&d=identicon&r=PG&f=1", "display_name": "Procrastinating Programmer", "link": "https://stackoverflow.com/users/6666227/procrastinating-programmer"}, "edited": false, "score": 0, "creation_date": 1528921275, "post_id": 50844957, "comment_id": 88694775, "body": "@AlexT The vector I gave works correctly: <a href=\"https://ideone.com/RuLPLB\" rel=\"nofollow noreferrer\">ideone.com/RuLPLB</a> . Response <code>hello</code>"}, {"owner": {"reputation": 283, "user_id": 6666227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf9eecc2f25f39284dc52f2693c88f3?s=128&d=identicon&r=PG&f=1", "display_name": "Procrastinating Programmer", "link": "https://stackoverflow.com/users/6666227/procrastinating-programmer"}, "edited": false, "score": 0, "creation_date": 1528921430, "post_id": 50844957, "comment_id": 88694867, "body": "Yes it is working for me to with the vector you provided. However not with the vector generated by the encrypt method in python. Please assist me"}, {"owner": {"reputation": 102162, "user_id": 613130, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40bd5f390cba274159501bb244bc29f4?s=128&d=identicon&r=PG", "display_name": "xanatos", "link": "https://stackoverflow.com/users/613130/xanatos"}, "reply_to_user": {"reputation": 283, "user_id": 6666227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf9eecc2f25f39284dc52f2693c88f3?s=128&d=identicon&r=PG&f=1", "display_name": "Procrastinating Programmer", "link": "https://stackoverflow.com/users/6666227/procrastinating-programmer"}, "edited": false, "score": 0, "creation_date": 1528921468, "post_id": 50844957, "comment_id": 88694886, "body": "@AlexT I need a password and a vector. And try them in the ideone I linked to show that they really work."}, {"owner": {"reputation": 102162, "user_id": 613130, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40bd5f390cba274159501bb244bc29f4?s=128&d=identicon&r=PG", "display_name": "xanatos", "link": "https://stackoverflow.com/users/613130/xanatos"}, "reply_to_user": {"reputation": 283, "user_id": 6666227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf9eecc2f25f39284dc52f2693c88f3?s=128&d=identicon&r=PG&f=1", "display_name": "Procrastinating Programmer", "link": "https://stackoverflow.com/users/6666227/procrastinating-programmer"}, "edited": false, "score": 0, "creation_date": 1528921908, "post_id": 50844957, "comment_id": 88695130, "body": "@AlexT You have to use python 3 in ideone, because the python 2.6 of ideone isn&#39;t complete."}, {"owner": {"reputation": 102162, "user_id": 613130, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40bd5f390cba274159501bb244bc29f4?s=128&d=identicon&r=PG", "display_name": "xanatos", "link": "https://stackoverflow.com/users/613130/xanatos"}, "reply_to_user": {"reputation": 283, "user_id": 6666227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf9eecc2f25f39284dc52f2693c88f3?s=128&d=identicon&r=PG&f=1", "display_name": "Procrastinating Programmer", "link": "https://stackoverflow.com/users/6666227/procrastinating-programmer"}, "edited": false, "score": 0, "creation_date": 1528922136, "post_id": 50844957, "comment_id": 88695240, "body": "@alexT Here using python 2.7: <a href=\"https://repl.it/repls/HeavenlyWealthyMysql\" rel=\"nofollow noreferrer\">repl.it/repls/HeavenlyWealthyMysql</a>"}, {"owner": {"reputation": 283, "user_id": 6666227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf9eecc2f25f39284dc52f2693c88f3?s=128&d=identicon&r=PG&f=1", "display_name": "Procrastinating Programmer", "link": "https://stackoverflow.com/users/6666227/procrastinating-programmer"}, "edited": false, "score": 0, "creation_date": 1528922191, "post_id": 50844957, "comment_id": 88695264, "body": "I rewrote my encrypt function in python!!! The same code!!!! used the token... and magically works!!!!!!!!!"}], "tags": [], "owner": {"reputation": 102162, "user_id": 613130, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40bd5f390cba274159501bb244bc29f4?s=128&d=identicon&r=PG", "display_name": "xanatos", "link": "https://stackoverflow.com/users/613130/xanatos"}, "is_accepted": true, "score": 3, "last_activity_date": 1528965890, "last_edit_date": 1528965890, "creation_date": 1528918546, "answer_id": 50844957, "question_id": 50843953, "link": "https://stackoverflow.com/questions/50843953/decrypt-python-cryptography-fernet-token-in-c/50844957#50844957", "title": "Decrypt Python cryptography fernet token in C#", "body": "<p>There is a problem with your key. It is too much short. Written some code for Fernet encryption/decryption (it is very basic, not stream-based), tested with a test vector found <a href=\"https://github.com/fernet/spec/blob/master/generate.json\" rel=\"nofollow noreferrer\">at a javascript implementation of Fernet</a>. The specification of the Fernet algorithm can be found <a href=\"https://github.com/fernet/spec/blob/master/Spec.md\" rel=\"nofollow noreferrer\">here</a>. Note that you can't use directly <code>Convert.FromBase64String</code>, because the format used by Fernet is Base64 url-safe. I've put a small method to convert from it.</p>\n\n<pre><code>public static class SimpleFernet\n{\n    // Fernet: from https://github.com/fernet/spec/blob/master/Spec.md\n\n    // return value is base64 url encoded\n    // trimEnd is to force trimming of return value\n    public static string EncryptFernet(byte[] key, byte[] data, DateTime? timestamp = null, byte[] iv = null, bool trimEnd = false)\n    {\n        // Fernet: from https://github.com/fernet/spec/blob/master/Spec.md\n\n        if (key == null)\n        {\n            throw new ArgumentNullException(nameof(key));\n        }\n\n        if (key.Length != 32)\n        {\n            throw new ArgumentException(nameof(key));\n        }\n\n        if (data == null)\n        {\n            throw new ArgumentNullException(nameof(data));\n        }\n\n        if (iv != null &amp;&amp; iv.Length != 16)\n        {\n            throw new ArgumentException(nameof(iv));\n        }\n\n        if (timestamp == null)\n        {\n            timestamp = DateTime.UtcNow;\n        }\n\n        byte[] result = new byte[57 + ((data.Length + 16) / 16 * 16)];\n\n        result[0] = 0x80;\n\n        {\n            // BigEndian to LittleEndian\n            long timestamp2 = new DateTimeOffset(timestamp.Value).ToUnixTimeSeconds();\n            timestamp2 = IPAddress.NetworkToHostOrder(timestamp2);\n            byte[] timestamp3 = BitConverter.GetBytes(timestamp2);\n            Buffer.BlockCopy(timestamp3, 0, result, 1, timestamp3.Length);\n        }\n\n        using (var aes = new AesManaged())\n        {\n            aes.Mode = CipherMode.CBC;\n\n            byte[] encryptionKey = new byte[16];\n            Buffer.BlockCopy(key, 16, encryptionKey, 0, 16);\n\n            aes.Key = encryptionKey;\n\n            if (iv != null)\n            {\n                aes.IV = iv;\n            }\n            else\n            {\n                aes.GenerateIV();\n            }\n\n            Buffer.BlockCopy(aes.IV, 0, result, 9, 16);\n\n            aes.Padding = PaddingMode.PKCS7;\n\n            using (var encryptor = aes.CreateEncryptor())\n            {\n                byte[] encrypted = encryptor.TransformFinalBlock(data, 0, data.Length);\n                Buffer.BlockCopy(encrypted, 0, result, 25, encrypted.Length);\n            }\n        }\n\n        byte[] signingKey = new byte[16];\n        Buffer.BlockCopy(key, 0, signingKey, 0, 16);\n\n        using (var hmac = new HMACSHA256(signingKey))\n        {\n            hmac.TransformFinalBlock(result, 0, result.Length - 32);\n            Buffer.BlockCopy(hmac.Hash, 0, result, result.Length - 32, 32);\n        }\n\n        return Base64UrlEncode(result, trimEnd);\n    }\n\n    // Token is base64 url encoded\n    public static byte[] DecryptFernet(byte[] key, string token, out DateTime timestamp)\n    {\n        if (key == null)\n        {\n            throw new ArgumentNullException(nameof(key));\n        }\n\n        if (key.Length != 32)\n        {\n            throw new ArgumentException(nameof(key));\n        }\n\n        if (token == null)\n        {\n            throw new ArgumentNullException(nameof(token));\n        }\n\n        byte[] token2 = Base64UrlDecode(token);\n\n        if (token2.Length &lt; 57)\n        {\n            throw new ArgumentException(nameof(token));\n        }\n\n        byte version = token2[0];\n\n        if (version != 0x80)\n        {\n            throw new Exception(\"version\");\n        }\n\n        // Check the hmac\n        {\n            byte[] signingKey = new byte[16];\n            Buffer.BlockCopy(key, 0, signingKey, 0, 16);\n\n            using (var hmac = new HMACSHA256(signingKey))\n            {\n                hmac.TransformFinalBlock(token2, 0, token2.Length - 32);\n                byte[] hash2 = hmac.Hash;\n\n                IEnumerable&lt;byte&gt; hash = token2.Skip(token2.Length - 32).Take(32);\n\n                if (!hash.SequenceEqual(hash2))\n                {\n                    throw new Exception(\"Wrong HMAC!\");\n                }\n            }\n        }\n\n        {\n            // BigEndian to LittleEndian\n            long timestamp2 = BitConverter.ToInt64(token2, 1);\n            timestamp2 = IPAddress.NetworkToHostOrder(timestamp2);\n\n            timestamp = DateTimeOffset.FromUnixTimeSeconds(timestamp2).UtcDateTime;\n        }\n\n        byte[] decrypted;\n\n        using (var aes = new AesManaged())\n        {\n            aes.Mode = CipherMode.CBC;\n            aes.Padding = PaddingMode.PKCS7;\n\n            byte[] encryptionKey = new byte[16];\n            Buffer.BlockCopy(key, 16, encryptionKey, 0, 16);\n            aes.Key = encryptionKey;\n\n            byte[] iv = new byte[16];\n            Buffer.BlockCopy(token2, 9, iv, 0, 16);\n            aes.IV = iv;\n\n            using (var decryptor = aes.CreateDecryptor())\n            {\n                const int startCipherText = 25;\n                int cipherTextLength = token2.Length - 32 - 25;\n                decrypted = decryptor.TransformFinalBlock(token2, startCipherText, cipherTextLength);\n            }\n        }\n\n        return decrypted;\n    }\n\n    public static string Base64UrlEncode(byte[] bytes, bool trimEnd = false)\n    {\n        int length = (bytes.Length + 2) / 3 * 4; ;\n        var chars = new char[length];\n        Convert.ToBase64CharArray(bytes, 0, bytes.Length, chars, 0);\n\n        int trimmedLength = length;\n\n        if (trimEnd)\n        {\n            switch (bytes.Length % 3)\n            {\n                case 1:\n                    trimmedLength -= 2;\n                    break;\n                case 2:\n                    trimmedLength -= 1;\n                    break;\n            }\n        }\n\n        for (int i = 0; i &lt; trimmedLength; i++)\n        {\n            switch (chars[i])\n            {\n                case '/':\n                    chars[i] = '_';\n                    break;\n                case '+':\n                    chars[i] = '-';\n                    break;\n            }\n        }\n\n        string result = new string(chars, 0, trimmedLength);\n        return result;\n    }\n\n    public static byte[] Base64UrlDecode(string s)\n    {\n        // https://stackoverflow.com/a/26354677/613130\n        // But totally rewritten :-)\n\n        char[] chars;\n\n        switch (s.Length % 4)\n        {\n            case 2:\n                chars = new char[s.Length + 2];\n                chars[chars.Length - 2] = '=';\n                chars[chars.Length - 1] = '=';\n                break;\n            case 3:\n                chars = new char[s.Length + 1];\n                chars[chars.Length - 1] = '=';\n                break;\n            default:\n                chars = new char[s.Length];\n                break;\n        }\n\n        for (int i = 0; i &lt; s.Length; i++)\n        {\n            switch (s[i])\n            {\n                case '_':\n                    chars[i] = '/';\n                    break;\n                case '-':\n                    chars[i] = '+';\n                    break;\n                default:\n                    chars[i] = s[i];\n                    break;\n            }\n        }\n\n        byte[] result = Convert.FromBase64CharArray(chars, 0, chars.Length);\n        return result;\n    }\n}\n\nstatic void Main(string[] args)\n{\n    // Test vector taken from https://github.com/fernet/spec/blob/master/generate.json\n    byte[] key = Base64UrlDecode(\"cw_0x689RpI-jtRR7oE8h_eQsKImvJapLeSbXpwF4e4=\");\n    string token = \"gAAAAAAdwJ6wAAECAwQFBgcICQoLDA0ODy021cpGVWKZ_eEwCGM4BLLF_5CV9dOPmrhuVUPgJobwOz7JcbmrR64jVmpU4IwqDA==\";\n    DateTime timestamp;\n    string result = DecryptFernet(key, token, out timestamp);\n}\n</code></pre>\n"}], "owner": {"reputation": 283, "user_id": 6666227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/baf9eecc2f25f39284dc52f2693c88f3?s=128&d=identicon&r=PG&f=1", "display_name": "Procrastinating Programmer", "link": "https://stackoverflow.com/users/6666227/procrastinating-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1712, "favorite_count": 0, "accepted_answer_id": 50844957, "answer_count": 1, "score": 1, "last_activity_date": 1528965890, "creation_date": 1528914566, "last_edit_date": 1528916514, "question_id": 50843953, "link": "https://stackoverflow.com/questions/50843953/decrypt-python-cryptography-fernet-token-in-c", "title": "Decrypt Python cryptography fernet token in C#", "body": "<p>I have written an encryption function in Python, which works fine.</p>\n\n<pre><code>from cryptography.fernet import Fernet\ndef Encryptor(password):\n    key = b'MAKV2SPBNI99212'\n    cipher_suite = Fernet(key)\n    ciphered_text = cipher_suite.encrypt(password)\n    print(ciphered_text)\n</code></pre>\n\n<p>This works fine </p>\n\n<p>For example </p>\n\n<pre><code>EncryptDecrypt.Encryptor(b\"HellowWorld\")\n</code></pre>\n\n<p>returns the below output</p>\n\n<p>b'gAAAAABbIWGJt5gEZoCezKoWpMNxNk_SNTGoe9KlUoquktNbpo1JFL87PxZAi-CtCF2eXHfgZ0F5iPCV-qn2wRhheWfWG6eHJw=='</p>\n\n<p>How do I decrypt this in C#. I do not want to use Pycrypto in Python</p>\n\n<p>Here is the code I am trying in C# but it is not working as the IV needs to be 16 bytes</p>\n\n<pre><code>public static string Decrypt()\n{\n    byte[] someone = Encoding.UTF8.GetBytes(\"gAAAAABbIWGJt5gEZoCezKoWpMNxNk_SNTGoe9KlUoquktNbpo1JFL87PxZAi-CtCF2eXHfgZ0F5iPCV-qn2wRhheWfWG6eHJw==\");        \n    byte[] keybytes = Convert.FromBase64String(\"MAKV2SPBNI99212\");\n    RijndaelManaged symmetricKey = new RijndaelManaged();\n    symmetricKey.Mode = CipherMode.CBC;\n\n    ICryptoTransform decryptor = symmetricKey.CreateDecryptor(keybytes, someone);\n    byte[] cipherTextBytes = Convert.FromBase64String(\"gAAAAABbIWGJt5gEZoCezKoWpMNxNk_SNTGoe9KlUoquktNbpo1JFL87PxZAi-CtCF2eXHfgZ0F5iPCV-qn2wRhheWfWG6eHJw==\");\n    MemoryStream memoryStream = new MemoryStream(cipherTextBytes);\n    CryptoStream cryptoStream = new CryptoStream(memoryStream, decryptor, CryptoStreamMode.Read);\n    byte[] plainTextBytes = new byte[cipherTextBytes.Length];\n    int decryptedByteCount = cryptoStream.Read(plainTextBytes, 0, plainTextBytes.Length);\n    memoryStream.Close();\n    cryptoStream.Close();\n    return Encoding.UTF8.GetString(plainTextBytes, 0, decryptedByteCount);\n\n}\n</code></pre>\n"}, {"tags": ["c#", "unit-testing", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 2, "creation_date": 1528914804, "post_id": 50843949, "comment_id": 88691510, "body": "The subject of the isolated <i>Unit Test</i> should be the attribute. Create a context you control and pass that to the <code>OnActionExecuting</code> and assert the desired behavior. Otherwise create an in memory Integration Test that will invoke the action end to end at run-time, which would include also the attribute."}, {"owner": {"reputation": 1860, "user_id": 2021863, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7XxFw.jpg?s=128&g=1", "display_name": "hsim", "link": "https://stackoverflow.com/users/2021863/hsim"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1528914938, "post_id": 50843949, "comment_id": 88691587, "body": "Interesting! Would you mind throwing an example please?"}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 1, "creation_date": 1528915044, "post_id": 50843949, "comment_id": 88691629, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36629391/how-to-mock-actionexecutingcontext-with-moq\">How to mock ActionExecutingContext with Moq?</a>"}, {"owner": {"reputation": 1860, "user_id": 2021863, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7XxFw.jpg?s=128&g=1", "display_name": "hsim", "link": "https://stackoverflow.com/users/2021863/hsim"}, "reply_to_user": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1528915139, "post_id": 50843949, "comment_id": 88691683, "body": "@KennethK. Did not even know it was possible. :|"}], "answers": [{"comments": [{"owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 1, "creation_date": 1528922554, "post_id": 50844475, "comment_id": 88695439, "body": "And just to complete the picture, I would probably add tests using reflection to ensure that the attribute is on the <code>ParamLivraisonController</code> class; so that if someone who doesn&#39;t understand why it&#39;s there removes it, a test will fail, and the name of the test will explain why that attribute needs to be there."}], "tags": [], "owner": {"reputation": 1860, "user_id": 2021863, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7XxFw.jpg?s=128&g=1", "display_name": "hsim", "link": "https://stackoverflow.com/users/2021863/hsim"}, "is_accepted": false, "score": 3, "last_activity_date": 1528916528, "creation_date": 1528916528, "answer_id": 50844475, "question_id": 50843949, "link": "https://stackoverflow.com/questions/50843949/c-unit-test-mock-class-attribute/50844475#50844475", "title": "c# Unit test mock class attribute", "body": "<p>Thanks to @Kenneth K., I found the answer. @Nkosi was right as well to mention that the test should be on the attribute itself.</p>\n\n<p>Here it is:</p>\n\n<pre><code>    [TestMethod]\n    public void ValiderAttribut_EstResponsable()\n    {\n        var attribut = new ResponsableAttribute(); // Instantiation of the attribute\n        var controller = ObtenirController(); // Gets the controller via MvcFakes\n        SecuriteHelper.VerifierResponsable().Returns(true); // Sets the desired return value\n        var test = Substitute.For&lt;ActionExecutingContext&gt;(); // Substitute for ActionExecutingContext\n        test.Controller = controller; // Sets the controller to the context\n\n        attribut.OnActionExecuting(test); // Call the overrided method\n        Assert.IsNull(test.Result); // Check if the redirection occured\n    }\n</code></pre>\n\n<p>Now, to validate if the test was right, I also had to test the opposite result:</p>\n\n<pre><code>    [TestMethod]\n    public void ValiderAttribut_EstNonResponsable()\n    {\n        var attribut = new ResponsableAttribute();\n        var controller = ObtenirController();\n        SecuriteHelper.VerifierResponsable().Returns(false);\n        var test = Substitute.For&lt;ActionExecutingContext&gt;();\n        test.Controller = controller;\n\n        attribut.OnActionExecuting(test);\n        Assert.IsNotNull(test.Result);\n        Assert.AreEqual(typeof(RedirectResult), test.Result.GetType());\n    }\n</code></pre>\n\n<p>And it worked. Thanks!</p>\n"}], "owner": {"reputation": 1860, "user_id": 2021863, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7XxFw.jpg?s=128&g=1", "display_name": "hsim", "link": "https://stackoverflow.com/users/2021863/hsim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1528916528, "creation_date": 1528914559, "last_edit_date": 1528915927, "question_id": 50843949, "link": "https://stackoverflow.com/questions/50843949/c-unit-test-mock-class-attribute", "title": "c# Unit test mock class attribute", "body": "<p>In my MVC project I had to setup a controller class attribute:</p>\n\n<pre><code>public class ResponsableAttribute : ActionFilterAttribute\n{\n    public override void OnActionExecuting(ActionExecutingContext filterContext)\n    {\n        base.OnActionExecuting(filterContext);\n        var controller = (BaseController)filterContext.Controller;\n        if (!controller.EstResponsable)\n        {\n            filterContext.Result = controller.RedirectionForcee(Alertage.Information, ConstantesUi.Misc.MessageResponsable);\n        }\n    }\n}\n</code></pre>\n\n<p>Bear with me, the code's in french:</p>\n\n<pre><code>[Responsable]\npublic class ParamLivraisonController : BaseController\n</code></pre>\n\n<p>So every action has to pass through the attribute before being executed, which is the intended behavior.\nBut I do not know how to unit test this attribute, set the return value as false so that the <code>controller.RedirectionForcee</code> (which returns a <code>RedirectToRouteResult</code>) actually does its job.</p>\n\n<p>If I call any controller method:</p>\n\n<pre><code>[TestMethod]\npublic void ParamLivraisonController_GererLivraison_Get()\n{\n    ControleurAsynchrone.ObtenirLivraisons().Returns(ObtenirListeLivraison());\n    var retour = _ctrl.GererLivraisons();\n    Assert.IsNotNull(retour);\n}\n</code></pre>\n\n<p>The attribute is not hit or tested. How can test it? I am using nSubstitute with mvcFakes and I do not know how to substitute <code>ActionExecutingContext</code>.</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "datetime"], "comments": [{"owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "edited": false, "score": 0, "creation_date": 1528916553, "post_id": 50843915, "comment_id": 88692357, "body": "You don&#39;t have to use embedded code blocks if you use <code>ClientIDMode=&quot;Static&quot;</code> on all controls (or set it permanently it in <code>web.config</code>). You can just use <code>document.getElementById(&quot;lblAsOfDate&quot;)</code>. There are a lot of &quot;date diff&quot; questions on SO, make sure you search. I haven&#39;t checked the JS; what isn&#39;t working?"}, {"owner": {"reputation": 11, "user_id": 2116846, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/361b4838603e141bc40dd23182bf9dd3?s=128&d=identicon&r=PG", "display_name": "user2116846", "link": "https://stackoverflow.com/users/2116846/user2116846"}, "reply_to_user": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "edited": false, "score": 0, "creation_date": 1528922229, "post_id": 50843915, "comment_id": 88695281, "body": "@wazz I&#39;m not able to retrieve the value from my text box and label in the script. The calculation part for counting the difference work fine if I pass the fixed dates into the variable in the script itself. But when I try to retrieve the value it doesn&#39;t."}, {"owner": {"reputation": 158, "user_id": 7571735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cJ3XM.png?s=128&g=1", "display_name": "egvaldes", "link": "https://stackoverflow.com/users/7571735/egvaldes"}, "edited": false, "score": 0, "creation_date": 1528922714, "post_id": 50843915, "comment_id": 88695507, "body": "What do you get in <code>AsOfDate</code> and <code>DOL</code>? <code>undefined</code>? an element? error?"}, {"owner": {"reputation": 11, "user_id": 2116846, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/361b4838603e141bc40dd23182bf9dd3?s=128&d=identicon&r=PG", "display_name": "user2116846", "link": "https://stackoverflow.com/users/2116846/user2116846"}, "reply_to_user": {"reputation": 158, "user_id": 7571735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cJ3XM.png?s=128&g=1", "display_name": "egvaldes", "link": "https://stackoverflow.com/users/7571735/egvaldes"}, "edited": false, "score": 0, "creation_date": 1528926164, "post_id": 50843915, "comment_id": 88696930, "body": "@egvaldes I get nothing populated in my label. My label will stay balnk"}, {"owner": {"reputation": 158, "user_id": 7571735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cJ3XM.png?s=128&g=1", "display_name": "egvaldes", "link": "https://stackoverflow.com/users/7571735/egvaldes"}, "edited": false, "score": 0, "creation_date": 1528926712, "post_id": 50843915, "comment_id": 88697130, "body": "In your JS code, when you define <code>AsOfDate</code> and <code>DOL</code> you are already getting the value, which means those vars will be strings, then when you do the calculation you get the value property again, which will be undefined, you have to get rid of <code>.value</code> either in the declaration or in the calculation. You should be getting an Invalid Date error when you do <code>new Date(AsOfDate.value)</code>"}, {"owner": {"reputation": 11, "user_id": 2116846, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/361b4838603e141bc40dd23182bf9dd3?s=128&d=identicon&r=PG", "display_name": "user2116846", "link": "https://stackoverflow.com/users/2116846/user2116846"}, "reply_to_user": {"reputation": 158, "user_id": 7571735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cJ3XM.png?s=128&g=1", "display_name": "egvaldes", "link": "https://stackoverflow.com/users/7571735/egvaldes"}, "edited": false, "score": 0, "creation_date": 1528928498, "post_id": 50843915, "comment_id": 88697671, "body": "@egvaldes I got rid of .value in my var diff part and still doesn&#39;t work"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 2116846, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/361b4838603e141bc40dd23182bf9dd3?s=128&d=identicon&r=PG", "display_name": "user2116846", "link": "https://stackoverflow.com/users/2116846/user2116846"}, "edited": false, "score": 0, "creation_date": 1528929145, "post_id": 50846987, "comment_id": 88697835, "body": "I still get NaN instead of 155"}, {"owner": {"reputation": 158, "user_id": 7571735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cJ3XM.png?s=128&g=1", "display_name": "egvaldes", "link": "https://stackoverflow.com/users/7571735/egvaldes"}, "reply_to_user": {"reputation": 11, "user_id": 2116846, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/361b4838603e141bc40dd23182bf9dd3?s=128&d=identicon&r=PG", "display_name": "user2116846", "link": "https://stackoverflow.com/users/2116846/user2116846"}, "edited": false, "score": 0, "creation_date": 1528929283, "post_id": 50846987, "comment_id": 88697873, "body": "@user2116846 What is getting stored in AsOfDate and DOL vars? Those should be Date objects"}, {"owner": {"reputation": 11, "user_id": 2116846, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/361b4838603e141bc40dd23182bf9dd3?s=128&d=identicon&r=PG", "display_name": "user2116846", "link": "https://stackoverflow.com/users/2116846/user2116846"}, "edited": false, "score": 0, "creation_date": 1528929352, "post_id": 50846987, "comment_id": 88697891, "body": "they are dates. Look at the picture that I have included. You can find it using the link provided."}, {"owner": {"reputation": 11, "user_id": 2116846, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/361b4838603e141bc40dd23182bf9dd3?s=128&d=identicon&r=PG", "display_name": "user2116846", "link": "https://stackoverflow.com/users/2116846/user2116846"}, "edited": false, "score": 0, "creation_date": 1528929427, "post_id": 50846987, "comment_id": 88697912, "body": "Just in the txtDOL i&#39;m using ajaxtoolkitcontrol date mask. Which I have included in the above code in html section."}, {"owner": {"reputation": 158, "user_id": 7571735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cJ3XM.png?s=128&g=1", "display_name": "egvaldes", "link": "https://stackoverflow.com/users/7571735/egvaldes"}, "reply_to_user": {"reputation": 11, "user_id": 2116846, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/361b4838603e141bc40dd23182bf9dd3?s=128&d=identicon&r=PG", "display_name": "user2116846", "link": "https://stackoverflow.com/users/2116846/user2116846"}, "edited": false, "score": 0, "creation_date": 1528929835, "post_id": 50846987, "comment_id": 88698038, "body": "@user2116846 If when you do <code>document.getElementById(&quot;&lt;%=txtDOL.ClientID %&gt;&quot;).value</code>  you get a string whit the date, it doesn&#180;t matter. I suggest you use the debugger and go step by step on the function execution."}, {"owner": {"reputation": 158, "user_id": 7571735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cJ3XM.png?s=128&g=1", "display_name": "egvaldes", "link": "https://stackoverflow.com/users/7571735/egvaldes"}, "reply_to_user": {"reputation": 11, "user_id": 2116846, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/361b4838603e141bc40dd23182bf9dd3?s=128&d=identicon&r=PG", "display_name": "user2116846", "link": "https://stackoverflow.com/users/2116846/user2116846"}, "edited": false, "score": 0, "creation_date": 1528930197, "post_id": 50846987, "comment_id": 88698148, "body": "@user2116846 check my updated answer, I just realized you were using value for a label in <code>var AsOfDate = new Date(document.getElementById(&quot;&lt;%=lblAsOfDate.ClientID %&gt;&quot;).value)</code> labels don&#180;t have a value, we have to use <code>innerHTML</code>, like you do whit the other label."}, {"owner": {"reputation": 11, "user_id": 2116846, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/361b4838603e141bc40dd23182bf9dd3?s=128&d=identicon&r=PG", "display_name": "user2116846", "link": "https://stackoverflow.com/users/2116846/user2116846"}, "edited": false, "score": 0, "creation_date": 1528985159, "post_id": 50846987, "comment_id": 88721432, "body": "@egvales Ya now it works the problem was with the label. thanks a lot"}], "tags": [], "owner": {"reputation": 158, "user_id": 7571735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cJ3XM.png?s=128&g=1", "display_name": "egvaldes", "link": "https://stackoverflow.com/users/7571735/egvaldes"}, "is_accepted": false, "score": 0, "last_activity_date": 1528930101, "last_edit_date": 1528930101, "creation_date": 1528927748, "answer_id": 50846987, "question_id": 50843915, "link": "https://stackoverflow.com/questions/50843915/how-to-get-the-difference-between-two-dates-in-days-from-users-input-in-asp-net/50846987#50846987", "title": "How to get the difference between two dates in days from users input in asp.net using Java script", "body": "<p>Asuming everything is ok in the ASP side and you are getting the IDs right, this should work.</p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n    function getTotalDaysDown() {\n       //Here is the part that I have problem. I can't get the values from label and textbox. \n\n       var AsOfDate = new Date(document.getElementById(\"&lt;%=lblAsOfDate.ClientID %&gt;\").innerHTML); //Value should be 04/15/2018 according to your image\n       var DOL = new Date(document.getElementById(\"&lt;%=txtDOL.ClientID %&gt;\").value); //Value should be 11/01/2017 according to your image\n       var diff = (AsOfDate - DOL) / (1000 * 60 * 60 * 24);\n\n       document.getElementById('&lt;%=lblDaysDown.ClientID %&gt;').innerHTML = (diff + 1);\n       return false;\n    }\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 2116846, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/361b4838603e141bc40dd23182bf9dd3?s=128&d=identicon&r=PG", "display_name": "user2116846", "link": "https://stackoverflow.com/users/2116846/user2116846"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528930101, "creation_date": 1528914454, "last_edit_date": 1528928743, "question_id": 50843915, "link": "https://stackoverflow.com/questions/50843915/how-to-get-the-difference-between-two-dates-in-days-from-users-input-in-asp-net", "title": "How to get the difference between two dates in days from users input in asp.net using Java script", "body": "<p>I want to do some calculation and get the difference of 2 dates that user enters to the textboxes and display it in a label or textbox.\nOne of my dates is a fixed date and is displayed in a label called Asofdate.\nSecond date will be entered by user in the DOL textbox.</p>\n\n<p><a href=\"https://i.stack.imgur.com/DrQFo.jpg\" rel=\"nofollow noreferrer\">Here is the image of my form</a></p>\n\n<p>Here is my html code:</p>\n\n<pre><code>&lt;tr&gt;\n    &lt;td style=\"font-weight: bold; text-align:left; width:80px\"&gt;&amp;nbsp;As of Date: &lt;/td&gt;\n    &lt;td&gt;\n        &lt;asp:Label ID=\"lblAsOfDate\" runat=\"server\" Text=\"04/15/2018\"&gt;/asp:Label&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;tr&gt;\n    &lt;td class=\"ColWidth\"&gt;\n        &lt;span class=\"red\" style=\"color: #FF0000; font-weight: bold;\"&gt;*&lt;/span&gt;\n        &lt;asp:Label ID=\"lblDOL\" runat=\"server\" Text=\"DOL \"&gt;&lt;/asp:Label&gt;\n    &lt;/td&gt;\n    &lt;td class=\"InputCallWidth\" style=\"vertical-align: top;\"&gt;\n        &lt;asp:TextBox ID=\"txtDOL\" runat=\"server\" placeholder=\"MM/DD/YYYY\"\n             Height=\"25px\" Width=\"120px\" Enabled=\"True\" onkeyup=\"getTotalDaysDown();\" \n             ClientIDMode=\"Static\"&gt;\n        &lt;/asp:TextBox&gt;\n        &lt;br /&gt;                        \n        &lt;ajaxToolkit:MaskedEditExtender ID=\"MaskedEditExtender3\"\n                runat=\"server\"\n                ClearMaskOnLostFocus=\"true\"\n                AutoComplete=\"false\"\n                MaskType=\"Date\"\n                Mask=\"99/99/9999\"\n                InputDirection=\"LeftToRight\"\n                TargetControlID=\"txtDOL\"&gt;\n        &lt;/ajaxToolkit:MaskedEditExtender&gt;\n        &lt;ajaxToolkit:MaskedEditValidator ID=\"MaskedEditValidator3\"\n                ControlExtender=\"MaskedEditExtender3\"\n                runat=\"server\"\n                ControlToValidate=\"txtDOL\"\n                IsValidEmpty=\"False\"\n                EmptyValueMessage=\"Date is Required!\"\n                Display=\"Dynamic\" ValidationGroup=\"logSave\" \n                InvalidValueMessage='Invalid Date!' Font-Size=\"Smaller\" \n                Font-Bold=\"True\" ForeColor=\"Red\"\n                MaximumValue=\"12/31/9999\" MaximumValueMessage=\"Invalid Date!\" \n                MinimumValue=\"1/1/1754 \" MinimumValueMessage=\"Invalid Date!\"&gt;\n         &lt;/ajaxToolkit:MaskedEditValidator&gt;\n    &lt;/td&gt;\n&lt;tr&gt;\n</code></pre>\n\n<p>And Here is the part where I use my script to do the calculations.\nThis is the formula: (AsOfDate - Dol) + 1</p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n    function getTotalDaysDown() {\n       //Here is the part that I have problem. I can't get the values from label and textbox. \n       var AsOfDate = document.getElementById(\"lblAsOfDate\").value;\n       var DOL = document.getElementById(\"txtDOL\").value;\n       var diff = (new Date(AsOfDate) - new Date(DOL)) / (1000 * 60 * 60 * 24);\n\n       //I don't get no result populated in my lblDaysDown label.\n       //In the console I get the error that \"Cannot read property 'value' of null\"\n       document.getElementById('&lt;%=lblDaysDown.ClientID %&gt;').innerHTML = (diff + 1);\n       return false;\n    }\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "dpapi"], "comments": [{"owner": {"reputation": 28569, "user_id": 1922568, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/UDzW1.jpg?s=128&g=1", "display_name": "Joe Audette", "link": "https://stackoverflow.com/users/1922568/joe-audette"}, "edited": false, "score": 1, "creation_date": 1528917428, "post_id": 50843706, "comment_id": 88692781, "body": "is the system time in sync between the 2 machines? Looking through the source code for <a href=\"https://github.com/aspnet/DataProtection/blob/dev/src/Microsoft.AspNetCore.DataProtection/KeyManagement/DefaultKeyResolver.cs\" rel=\"nofollow noreferrer\">DefaultKeyResolver</a> the logic looks time sensitive and could fail to find a valid defaultkey if the system clocks are not in sync"}, {"owner": {"reputation": 1061, "user_id": 1192751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3ea7c1f76f11eba49a325f8991c094b9?s=128&d=identicon&r=PG", "display_name": "Coder6841", "link": "https://stackoverflow.com/users/1192751/coder6841"}, "reply_to_user": {"reputation": 28569, "user_id": 1922568, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/UDzW1.jpg?s=128&g=1", "display_name": "Joe Audette", "link": "https://stackoverflow.com/users/1922568/joe-audette"}, "edited": false, "score": 0, "creation_date": 1528918854, "post_id": 50843706, "comment_id": 88693552, "body": "Yes, they&#39;re in sync."}, {"owner": {"reputation": 28569, "user_id": 1922568, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/UDzW1.jpg?s=128&g=1", "display_name": "Joe Audette", "link": "https://stackoverflow.com/users/1922568/joe-audette"}, "edited": false, "score": 1, "creation_date": 1528920310, "post_id": 50843706, "comment_id": 88694287, "body": "how do both machine share the keys? Do they share a common file system drive? ie when machine A creates a new key on the ring in the xml file on disk, how does machine B know about the new keys?"}, {"owner": {"reputation": 1061, "user_id": 1192751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3ea7c1f76f11eba49a325f8991c094b9?s=128&d=identicon&r=PG", "display_name": "Coder6841", "link": "https://stackoverflow.com/users/1192751/coder6841"}, "reply_to_user": {"reputation": 28569, "user_id": 1922568, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/UDzW1.jpg?s=128&g=1", "display_name": "Joe Audette", "link": "https://stackoverflow.com/users/1922568/joe-audette"}, "edited": false, "score": 0, "creation_date": 1528920806, "post_id": 50843706, "comment_id": 88694520, "body": "Currently, the Keys folder was just copied manually and the expiry date is set to the year 2038 so that active file sharing isn&#39;t needed."}, {"owner": {"reputation": 28569, "user_id": 1922568, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/UDzW1.jpg?s=128&g=1", "display_name": "Joe Audette", "link": "https://stackoverflow.com/users/1922568/joe-audette"}, "edited": false, "score": 1, "creation_date": 1528921366, "post_id": 50843706, "comment_id": 88694834, "body": "Have you tried setting loglevel to debug or trace, looking at the code they log when the consider and rule out a candidate for default key"}, {"owner": {"reputation": 1061, "user_id": 1192751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3ea7c1f76f11eba49a325f8991c094b9?s=128&d=identicon&r=PG", "display_name": "Coder6841", "link": "https://stackoverflow.com/users/1192751/coder6841"}, "reply_to_user": {"reputation": 28569, "user_id": 1922568, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/UDzW1.jpg?s=128&g=1", "display_name": "Joe Audette", "link": "https://stackoverflow.com/users/1922568/joe-audette"}, "edited": false, "score": 0, "creation_date": 1528922292, "post_id": 50843706, "comment_id": 88695318, "body": "I&#39;ve just done that and it does provide more useful info. It looks like the issue starts with this message: 2018-06-13 16:32:32.7051 | ERROR | Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyMana&zwnj;&#8203;ger | 24 | An exception occurred while processing the key element &#39;&lt;key id=&quot;847354685...&quot; version=&quot;1&quot; /&gt;&#39;. Internal.Cryptography.CryptoThrowHelper+WindowsCryptographic&zwnj;&#8203;Exception: Keyset does not exist"}, {"owner": {"reputation": 28569, "user_id": 1922568, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/UDzW1.jpg?s=128&g=1", "display_name": "Joe Audette", "link": "https://stackoverflow.com/users/1922568/joe-audette"}, "edited": false, "score": 1, "creation_date": 1528922795, "post_id": 50843706, "comment_id": 88695542, "body": "Have you tried copying the xml file to machine B again."}, {"owner": {"reputation": 1061, "user_id": 1192751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3ea7c1f76f11eba49a325f8991c094b9?s=128&d=identicon&r=PG", "display_name": "Coder6841", "link": "https://stackoverflow.com/users/1192751/coder6841"}, "reply_to_user": {"reputation": 28569, "user_id": 1922568, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/UDzW1.jpg?s=128&g=1", "display_name": "Joe Audette", "link": "https://stackoverflow.com/users/1922568/joe-audette"}, "edited": false, "score": 0, "creation_date": 1528923388, "post_id": 50843706, "comment_id": 88695801, "body": "Yes, but the result is the same. I&#39;ve updated the question with the detailed logging."}, {"owner": {"reputation": 3455, "user_id": 1867682, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/852577b64b854aeaf589b54617e4a1a2?s=128&d=identicon&r=PG", "display_name": "PmanAce", "link": "https://stackoverflow.com/users/1867682/pmanace"}, "edited": false, "score": 0, "creation_date": 1557770949, "post_id": 50843706, "comment_id": 98868688, "body": "I had this issue today but one machine was windows and the other a container in a cluster. Turns out setting the same application name works (our keys are in azure key vault)."}], "answers": [{"comments": [{"owner": {"reputation": 2754, "user_id": 91617, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/40bc66ce6224f8bc123699f459a36e05?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/91617/pascal"}, "edited": false, "score": 2, "creation_date": 1539786106, "post_id": 50846545, "comment_id": 92629373, "body": "Hello. I&#39;m having the same problem, but the permission didn&#39;t solve it. How did you enable this detailed log? Tks"}, {"owner": {"reputation": 12002, "user_id": 2086, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4908618aea7c32eb0f94d398b57fa28d?s=128&d=identicon&r=PG", "display_name": "mcintyre321", "link": "https://stackoverflow.com/users/2086/mcintyre321"}, "edited": false, "score": 2, "creation_date": 1551805144, "post_id": 50846545, "comment_id": 96770852, "body": "You can pass options in the DataProtectionProvider.Create and do <code>options.Services.AddLogging(configure =&gt; configure.SetMinimumLevel(LogLevel.Trace).AddConsole());</code>"}, {"owner": {"reputation": 36654, "user_id": 107625, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53a82f701ae492808834e621de2586eb?s=128&d=identicon&r=PG", "display_name": "Uwe Keim", "link": "https://stackoverflow.com/users/107625/uwe-keim"}, "edited": false, "score": 0, "creation_date": 1601736834, "post_id": 50846545, "comment_id": 113501252, "body": "Awesome! Setting permissions helped me, too. Thanks a lot! \ud83d\ude0a"}, {"owner": {"reputation": 36654, "user_id": 107625, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53a82f701ae492808834e621de2586eb?s=128&d=identicon&r=PG", "display_name": "Uwe Keim", "link": "https://stackoverflow.com/users/107625/uwe-keim"}, "edited": false, "score": 0, "creation_date": 1613398855, "post_id": 50846545, "comment_id": 117055815, "body": "In another case, I got the same error message as OP and it was actually due to the fact that I (intentionally) did call <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.dataprotection.dataprotectionbuilderextensions.disableautomatickeygeneration\" rel=\"nofollow noreferrer\"><code>DisableAutomaticKeyGeneration()</code></a>. After removing the call, the error went away."}], "tags": [], "owner": {"reputation": 1061, "user_id": 1192751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3ea7c1f76f11eba49a325f8991c094b9?s=128&d=identicon&r=PG", "display_name": "Coder6841", "link": "https://stackoverflow.com/users/1192751/coder6841"}, "is_accepted": true, "score": 7, "last_activity_date": 1601736866, "last_edit_date": 1601736866, "creation_date": 1528925320, "answer_id": 50846545, "question_id": 50843706, "link": "https://stackoverflow.com/questions/50843706/data-protection-in-asp-net-core-2-1-only-works-on-one-machine/50846545#50846545", "title": "Data protection in ASP.NET Core 2.1 only works on one machine", "body": "<p>Thanks to Joe Audette's suggestion I checked out the detailed logging and found a more specific error which pointed me to <a href=\"https://stackoverflow.com/a/3176253/1192751\">this answer</a> which had the solution.</p>\n<p>The problem was that the permissions for the certificate in the Windows certificate store did not have the IIS_IUSRS group set to allow read access (Right click certificate \u2192 All Tasks \u2192 Manage Private Keys\u2026). This issue didn't appear on the development machine because there it was running under Visual Studio's user context instead.</p>\n"}, {"tags": [], "owner": {"reputation": 537, "user_id": 646860, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/50f662353cc46f0d6d3103db3a01314a?s=128&d=identicon&r=PG", "display_name": "tejas", "link": "https://stackoverflow.com/users/646860/tejas"}, "is_accepted": false, "score": 5, "last_activity_date": 1560430802, "creation_date": 1560430802, "answer_id": 56581104, "question_id": 50843706, "link": "https://stackoverflow.com/questions/50843706/data-protection-in-asp-net-core-2-1-only-works-on-one-machine/56581104#56581104", "title": "Data protection in ASP.NET Core 2.1 only works on one machine", "body": "<p>I had a similar issue, however it was between two different ASP.NET Core applications that were trying to share the same cookie. A minor version mismatch in <code>Microsoft.AspNetCore.Authentication.Cookies</code> (2.1.2 vs 2.2.0) was causing one of the applications to not be able to find the keys created by the other version.</p>\n\n<p>Adding this answer here (even though it doesn't answer the above question), as the error messages match exactly, and hopefully it saves someone a few hours.</p>\n"}, {"tags": [], "owner": {"reputation": 8467, "user_id": 188081, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7c0ebd0c092cec9c0de53a8d76a1c35a?s=128&d=identicon&r=PG", "display_name": "Gup3rSuR4c", "link": "https://stackoverflow.com/users/188081/gup3rsur4c"}, "is_accepted": false, "score": 2, "last_activity_date": 1566318764, "creation_date": 1566318764, "answer_id": 57578016, "question_id": 50843706, "link": "https://stackoverflow.com/questions/50843706/data-protection-in-asp-net-core-2-1-only-works-on-one-machine/57578016#57578016", "title": "Data protection in ASP.NET Core 2.1 only works on one machine", "body": "<p>I also had a similar problem in a 2.2 app because the certificate was self-signed. For the moment I've side-stepped it by implementing my own <code>CertificateResolver</code> class and <code>ProtectKeysWithCertificate</code> method which do not validate the certificate. The real solution for me however would be to use a valid certificate.</p>\n\n<p>Just some extra info for anyone that comes across this.</p>\n"}], "owner": {"reputation": 1061, "user_id": 1192751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3ea7c1f76f11eba49a325f8991c094b9?s=128&d=identicon&r=PG", "display_name": "Coder6841", "link": "https://stackoverflow.com/users/1192751/coder6841"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12867, "favorite_count": 7, "accepted_answer_id": 50846545, "answer_count": 3, "score": 17, "last_activity_date": 1601736866, "creation_date": 1528913642, "last_edit_date": 1592644375, "question_id": 50843706, "link": "https://stackoverflow.com/questions/50843706/data-protection-in-asp-net-core-2-1-only-works-on-one-machine", "title": "Data protection in ASP.NET Core 2.1 only works on one machine", "body": "<p>I'm using the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/data-protection/configuration/overview?view=aspnetcore-2.1&amp;tabs=aspnetcore2x\" rel=\"noreferrer\">ASP.NET Core Data Protection system</a> to encrypt data with Application A and decrypt it with Application B.</p>\n<p>Encryption and decryption both work when run on the development machine, but when Application B is moved to the production machine it's no longer able to decrypt because the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.dataprotection.dataprotectioncommonextensions.unprotect?view=aspnetcore-2.1\" rel=\"noreferrer\">IDataProtector.Unprotect</a> method throws an exception:</p>\n<blockquote>\n<p>System.InvalidOperationException: The key ring does not contain a\nvalid default protection key. The data protection system cannot create\na new key because auto-generation of keys is disabled.</p>\n</blockquote>\n<p>Here's the code I'm using to configure decryption in Application B:</p>\n<pre><code>sKeysPath = Path.Combine(Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location), &quot;Keys&quot;);\n\nservices.AddDataProtection()\n    .SetApplicationName(&quot;My Application&quot;) // Application A sets this same name\n    .PersistKeysToFileSystem(new DirectoryInfo(sKeysPath))\n    .ProtectKeysWithCertificate(&quot;634D3F23...&quot;)\n    //.ProtectKeysWithCertificate(x509Certificate2) // I've tried using an X509 certificate parameter but it gives the same result as providing the thumbprint of the one in the certificate store\n    .DisableAutomaticKeyGeneration(); // Application A is the master key generator so do not generate keys\n</code></pre>\n<p>The production machine does contain the same Keys folder (with .pfx and .xml files) and same keys installed in the Windows certificate store.</p>\n<p>As I understand it, by providing the certificate file to the Data Protection system, it should work on any machine and not be binded to a specific machine or Windows user. Is that assumption incorrect or is there an issue with the way I'm performing decryption?</p>\n<p>Here are some more detailed logging messages:</p>\n<blockquote>\n<p><code>2018-06-13 16:32:32.6750 | TRACE | Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector | 5 | Performing unprotect operation to key {846541...} with purposes ('My Application', 'My Purpose').</code></p>\n<p><code>2018-06-13 16:32:32.6750 | DEBUG | Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository | 37 | Reading data from file 'C:\\inetpub\\wwwroot\\My Website\\Keys\\key-846541....xml'.</code></p>\n<p><code>2018-06-13 16:32:32.6750 | DEBUG | Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager | 18 | Found key {846541...}.</code></p>\n<p><code>2018-06-13 16:32:32.6750 | DEBUG | Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver | 13 | Considering key {846541...} with expiration date 2038-01-18 20:54:13Z as default key.</code></p>\n<p><code>2018-06-13 16:32:32.6750 | DEBUG | Microsoft.AspNetCore.DataProtection.TypeForwardingActivator | Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.EncryptedXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=2.1.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.EncryptedXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60</code></p>\n<p><code>2018-06-13 16:32:32.7051 | ERROR | Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager | 24 | An exception occurred while processing the key element '&lt;key id=&quot;846541...&quot; version=&quot;1&quot; /&gt;'. Internal.Cryptography.CryptoThrowHelper+WindowsCryptographicException: Keyset does not exist</code></p>\n<p><code>2018-06-13 16:32:32.7051 | TRACE | Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager | 25 | An exception occurred while processing the key element '&lt;key id=&quot;846541...&quot; version=&quot;1&quot; /&gt;...</code></p>\n<p><code>2018-06-13 16:32:32.7051 | WARN | Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver | 12 | Key {846541...} is ineligible to be the default key because its CreateEncryptor method failed. Internal.Cryptography.CryptoThrowHelper+WindowsCryptographicException: Keyset does not exist</code></p>\n<p><code>2018-06-13 16:32:32.7051 | DEBUG | Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver | 14 | Key {846541...} is no longer under consideration as default key because it is expired, revoked, or cannot be deciphered.</code></p>\n<p><code>2018-06-13 16:32:32.7051 | DEBUG | Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver | 53 | Repository contains no viable default key. Caller should generate a key with immediate activation.</code></p>\n<p><code>2018-06-13 16:32:32.7051 | DEBUG | Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider | 57 | Policy resolution states that a new key should be added to the key ring.</code></p>\n<p><code>2018-06-13 16:32:32.7051 | ERROR | Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider | 49 | The key ring does not contain a valid default key, and the key manager is configured with auto-generation of keys disabled.</code></p>\n<p><code>2018-06-13 16:32:32.7051 | ERROR | Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider | 48 | An error occurred while reading the key ring. System.InvalidOperationException: The key ring does not contain a valid default protection key. The data protection system cannot create a new key because auto-generation of keys is disabled.</code></p>\n</blockquote>\n"}, {"tags": ["c#", "sockets", "server", "client"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1528914396, "post_id": 50843630, "comment_id": 88691316, "body": "See my code I posted on Monday : <a href=\"https://stackoverflow.com/questions/50786688/async-sample-client-socket-receive-in-a-loop/50788957#50788957\" title=\"async sample client socket receive in a loop\">stackoverflow.com/questions/50786688/&hellip;</a>.  Code starts listener and client in same application.  Then client sends hello and server echos back message.  When client gets response then sends hello again.  The trick is for listener to listen to IPAny and client to send to PC IP address (not loopback 127.0.0.1)."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 285465, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5d989ed3c52dbe11e3ae2f537ce717a6?s=128&d=identicon&r=PG", "display_name": "TomTom", "link": "https://stackoverflow.com/users/285465/tomtom"}, "is_accepted": false, "score": 1, "last_activity_date": 1528913466, "creation_date": 1528913466, "answer_id": 50843661, "question_id": 50843630, "link": "https://stackoverflow.com/questions/50843630/client-server-socket-c-communication/50843661#50843661", "title": "Client Server Socket C# communication", "body": "<p>If you run the client on another computer, it crosses the network.</p>\n\n<p>Unless you opened a firewall port for your server somehow, the windows integrated firewall will block all access from outside sources.</p>\n\n<p>Simple as that.</p>\n\n<p>Go to the advanced firewall settings and open the port for the server.</p>\n"}, {"tags": [], "owner": {"reputation": 1880, "user_id": 734653, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FHk95.jpg?s=128&g=1", "display_name": "Athanasios Emmanouilidis", "link": "https://stackoverflow.com/users/734653/athanasios-emmanouilidis"}, "is_accepted": false, "score": 1, "last_activity_date": 1528913813, "last_edit_date": 1528913813, "creation_date": 1528913501, "answer_id": 50843670, "question_id": 50843630, "link": "https://stackoverflow.com/questions/50843630/client-server-socket-c-communication/50843670#50843670", "title": "Client Server Socket C# communication", "body": "<p>Change the IPs. 127.0.0.1 is used for localhost. Use your local network IPs e.g. 192.168.1.10 etc etc. Also have the required port (8001) open on the firewall of the server machine.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 9881724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/900281a48e708a77ee1734b2a1cf98af?s=128&d=identicon&r=PG&f=1", "display_name": "wech", "link": "https://stackoverflow.com/users/9881724/wech"}, "is_accepted": false, "score": 0, "last_activity_date": 1528913702, "creation_date": 1528913702, "answer_id": 50843719, "question_id": 50843630, "link": "https://stackoverflow.com/questions/50843630/client-server-socket-c-communication/50843719#50843719", "title": "Client Server Socket C# communication", "body": "<p>You need the server to listen on the real ip address of your pc instead of 127.0.0.1, and also in the client, on your laptop, you have to use the ip address of your computer instead of 127.0.0.1. </p>\n\n<p>127.0.0.1 is the local network address, which is not bound to your network connection and only reachable on the same computer, not on the network.</p>\n\n<p>Further your windows firewall might block the incoming connection - either add a inbound tcp rule for port 8001 an your computer or temporarily disable the firewall on your computer.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9937762, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-be3QsC4FaU8/AAAAAAAAAAI/AAAAAAAAAgI/vZBs9AW0eGk/photo.jpg?sz=128", "display_name": "Bruno Medeiros", "link": "https://stackoverflow.com/users/9937762/bruno-medeiros"}, "is_accepted": false, "score": 0, "last_activity_date": 1528914477, "creation_date": 1528914477, "answer_id": 50843919, "question_id": 50843630, "link": "https://stackoverflow.com/questions/50843630/client-server-socket-c-communication/50843919#50843919", "title": "Client Server Socket C# communication", "body": "<p>127.0.0.1 is local IP, use the IP assigned by your network's DHCP server.</p>\n"}], "owner": {"reputation": 11, "user_id": 9775201, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YuO_gb6GmHM/AAAAAAAAAAI/AAAAAAAAAsQ/baYd7WbFX5I/photo.jpg?sz=128", "display_name": "jonatanE", "link": "https://stackoverflow.com/users/9775201/jonatane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1641, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1528916997, "creation_date": 1528913344, "last_edit_date": 1528916997, "question_id": 50843630, "link": "https://stackoverflow.com/questions/50843630/client-server-socket-c-communication", "title": "Client Server Socket C# communication", "body": "<p>I have wrote a group chat using C#, using client socket and server socket.\nthe communication between the client and the server works fine when I run the programs (both server and client) in my own pc using VS 2017.\nWhen I run the Client program in a laptop and the server in my own pc (still using VS 2017, although I don't think this is matter)  the client doesn't connect to the server.</p>\n\n<p><strong>my question is how I connect the server and the client outside of the localhost?</strong></p>\n\n<p>I will add the functions from the server and client side the responsible for connecting each other.</p>\n\n<p><strong>function in the server code that start up the server:</strong>  </p>\n\n<pre><code>public static void ServerUp()\n{\n    IPAddress ipAdd = IPAddress.Parse(\"127.0.0.1\");\n    TcpListener myListener = new TcpListener(ipAdd, 8001);\n    myListener.Start();\n    Console.WriteLine(\"The server running at port: \" + myListener.LocalEndpoint);\n    users = new List&lt;ClientSocket&gt;();\n}\n</code></pre>\n\n<p><strong>function in the client code that connect to server:</strong></p>\n\n<pre><code>public static void ConnectToServer()\n{\n    Socket socket = new Socket(AddressFamily.InterNetwork, SocketType.Stream, ProtocolType.Tcp);\n    Console.WriteLine(\"Connecting...\");\n    IPEndPoint ipAdd = new IPEndPoint(IPAddress.Parse(\"127.0.0.1\"), 8001);\n    socket.Connect(ipAdd);\n    Console.WriteLine(\"Connected\");\n    Console.WriteLine(new string('-',Console.WindowWidth));\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 2135, "user_id": 3960200, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/726296462/picture?type=large", "display_name": "Etienne Charland", "link": "https://stackoverflow.com/users/3960200/etienne-charland"}, "edited": false, "score": 0, "creation_date": 1528913423, "post_id": 50843458, "comment_id": 88690814, "body": "If I want to expose a UserControl usable by others, I can&#39;t expose the ViewModel directly, but I do need to expose the various properties, commands and events. The only 2 solutions I see is remapping all members I want to expose with glue code, or making the ViewModel the base. The base has no awareness of the UI controls so it still maintains a clean separation."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1528916844, "post_id": 50843458, "comment_id": 88692487, "body": "A UserControl should not have a view model at all. Instead it should only expose dependency properties that you can bind to properties of an externally supplied view model. This is typically passed to the DataContext of the UserControl by property value inheritance from e.g. a window where the UserControl is used."}, {"owner": {"reputation": 2135, "user_id": 3960200, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/726296462/picture?type=large", "display_name": "Etienne Charland", "link": "https://stackoverflow.com/users/3960200/etienne-charland"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1528927637, "post_id": 50843458, "comment_id": 88697437, "body": "In the case of a UserControl used only within the application. If the UserControl is meant to be used by others, then it&#39;s a completely different story. Some say that MVVM pattern doesn&#39;t apply in this case, but I got it to work that way, and it&#39;s working pretty well. Of course I&#39;m open to hear better suggestions."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1528952943, "post_id": 50843458, "comment_id": 88702684, "body": "MVVM does not mean your UserControl should have its own view model. This is a common misconception , but nevertheless wrong. It should expose bindable properties like any other control. If you take a look at the WPF framework, or any third party control library, does any of the controls there have its own view model?"}, {"owner": {"reputation": 2135, "user_id": 3960200, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/726296462/picture?type=large", "display_name": "Etienne Charland", "link": "https://stackoverflow.com/users/3960200/etienne-charland"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1528955406, "post_id": 50843458, "comment_id": 88703529, "body": "I got the code working, a UI for media players. I&#39;m using this simple project as an exercise to study proper programming practices and code models. Perhaps you can take a look and provide suggestions? What I like is the code-behind contains only UI-related code and not much code. What I don&#39;t like is it contains a lot of code to switch to full-screen mode. I do think separating the UI from the logic is good practice. <a href=\"https://github.com/mysteryx93/MediaPlayerUI.NET/blob/master/MediaPlayerUI/MediaPlayerUI.xaml.cs\" rel=\"nofollow noreferrer\">github.com/mysteryx93/MediaPlayerUI.NET/blob/master/&hellip;</a>"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1528960820, "post_id": 50843458, "comment_id": 88706113, "body": "Without taking a closer look, it should easily be possible to rename MediaPlayerUIViewModel to MediaPlayerUIBase, remove the INotifyPropertyChanged interface and convert all properties to dependency properties (which have their own change notification mechanism)."}, {"owner": {"reputation": 2135, "user_id": 3960200, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/726296462/picture?type=large", "display_name": "Etienne Charland", "link": "https://stackoverflow.com/users/3960200/etienne-charland"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1528996572, "post_id": 50843458, "comment_id": 88727925, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/173164/discussion-between-etienne-charland-and-clemens\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 2135, "user_id": 3960200, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/726296462/picture?type=large", "display_name": "Etienne Charland", "link": "https://stackoverflow.com/users/3960200/etienne-charland"}, "edited": false, "score": 0, "creation_date": 1528930798, "post_id": 50843697, "comment_id": 88698308, "body": "I did change it to &lt;UserControl.Resources&gt; but all these syntaxes work anyway. It wasn&#39;t causing the issue."}], "tags": [], "owner": {"reputation": 478, "user_id": 9906369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-r_zu7LSk4bY/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1tWAu5bmCC_qF7xvQSMJaDeY2cBQ/mo/photo.jpg?sz=128", "display_name": "Ilan Keshet", "link": "https://stackoverflow.com/users/9906369/ilan-keshet"}, "is_accepted": false, "score": -1, "last_activity_date": 1528913608, "creation_date": 1528913608, "answer_id": 50843697, "question_id": 50843458, "link": "https://stackoverflow.com/questions/50843458/wpf-derived-usercontrol-doesnt-open-in-visual-studio-but-runs/50843697#50843697", "title": "WPF Derived UserControl Doesn&#39;t Open in Visual Studio (but runs)", "body": "<p>I think you should change this:</p>\n\n<p><code>&lt;local:MediaPlayerUIViewModel x:Class=\"EmergenceGuardian.MediaPlayerUI.MediaPlayerUI\"</code></p>\n\n<p>to </p>\n\n<p><code>&lt;UserControl x:Class=\"EmergenceGuardian.MediaPlayerUI.MediaPlayerUI\" ...</code></p>\n\n<p>the \"local\" identifier is declared inside of the body itself:</p>\n\n<p><code>xmlns:local=\"clr-namespace:EmergenceGuardian.MediaPlayerUI\"</code></p>\n\n<p>Also you can change: \n<code>&lt;local:MediaPlayerUIViewModel.Resources&gt;</code>\nto just <code>&lt;Resources&gt;</code></p>\n\n<p>Your actual code of:\n<code>public class MediaPlayerUIViewModel : UserControl, INotifyPropertyChanged</code></p>\n\n<p>can still stay the same, and everything will work.</p>\n"}], "owner": {"reputation": 2135, "user_id": 3960200, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/726296462/picture?type=large", "display_name": "Etienne Charland", "link": "https://stackoverflow.com/users/3960200/etienne-charland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528913608, "creation_date": 1528912629, "last_edit_date": 1528913307, "question_id": 50843458, "link": "https://stackoverflow.com/questions/50843458/wpf-derived-usercontrol-doesnt-open-in-visual-studio-but-runs", "title": "WPF Derived UserControl Doesn&#39;t Open in Visual Studio (but runs)", "body": "<p>I wanted to develop a UserControl following MVVM pattern so I created a ViewModel class that contains all the features. Then I realized all the code within the UserControl was to expose the commands, properties and events of the ViewModel, so I thought I might as well make the ViewModel the base class that derives itself from UserControl.</p>\n\n<p>So I have something like this</p>\n\n<pre><code>&lt;local:MediaPlayerUIViewModel x:Class=\"EmergenceGuardian.MediaPlayerUI.MediaPlayerUI\"\n             xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n             xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" \n             xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n             xmlns:local=\"clr-namespace:EmergenceGuardian.MediaPlayerUI\"\n             mc:Ignorable=\"d\" Height=\"46\" Width=\"800\" x:Name=\"UI\"&gt;\n    &lt;local:MediaPlayerUIViewModel.Resources&gt;\n        &lt;ResourceDictionary&gt;\n            &lt;ResourceDictionary.MergedDictionaries&gt;\n                &lt;ResourceDictionary Source=\"pack://application:,,,/MediaPlayerUI;component/Styles.xaml\" /&gt;\n            &lt;/ResourceDictionary.MergedDictionaries&gt;\n            &lt;local:TimeSpanToDoubleConverter x:Key=\"TimeSpanToDoubleConverter\"/&gt;\n            &lt;local:BoolToVisibilityConverter x:Key=\"BoolToVisibilityConverter\"/&gt;\n        &lt;/ResourceDictionary&gt;\n    &lt;/local:MediaPlayerUIViewModel.Resources&gt;\n    ...\n</code></pre>\n\n<p>Base class looks like this</p>\n\n<pre><code>public class MediaPlayerUIViewModel : UserControl, INotifyPropertyChanged \n</code></pre>\n\n<p>Now, <strong>Visual Studio refuses to load the UserControl in the designer.</strong> It says that the members Resources, Height and Width are not recognized or not accessible.</p>\n\n<p>However, it loads in Blend and runs fine. Just Visual Studio designer doesn't like it. Any way to fix that?</p>\n\n<p><strong>EDIT:</strong> Sometimes taking a break and coming back later solves things. Closing Visual Studio and re-opening it fixed the problem!!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 6647, "user_id": 550062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X5OLy.png?s=128&g=1", "display_name": "Becuzz", "link": "https://stackoverflow.com/users/550062/becuzz"}, "edited": false, "score": 0, "creation_date": 1528913071, "post_id": 50843415, "comment_id": 88690660, "body": "What are you expecting to happen here?  This looks like webforms.  As such, I don&#39;t know how you expect it to handle a random stream of data.  You haven&#39;t set any headers to help the browser know what you are even sending.  If you did that properly, it would try to download the file (probably, can&#39;t see how this is called right now).  You need to share what you expect to happen, what&#39;s happening and enough code to replicate the problem.  Right now, you are missing all of that."}, {"owner": {"reputation": 1, "user_id": 7475016, "user_type": "registered", "profile_image": "https://graph.facebook.com/1436822913036929/picture?type=large", "display_name": "Mohamed Al-Dosari", "link": "https://stackoverflow.com/users/7475016/mohamed-al-dosari"}, "reply_to_user": {"reputation": 6647, "user_id": 550062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X5OLy.png?s=128&g=1", "display_name": "Becuzz", "link": "https://stackoverflow.com/users/550062/becuzz"}, "edited": false, "score": 0, "creation_date": 1528913579, "post_id": 50843415, "comment_id": 88690903, "body": "Can you help me?"}, {"owner": {"reputation": 6647, "user_id": 550062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X5OLy.png?s=128&g=1", "display_name": "Becuzz", "link": "https://stackoverflow.com/users/550062/becuzz"}, "edited": false, "score": 0, "creation_date": 1528914419, "post_id": 50843415, "comment_id": 88691329, "body": "Until you share the things I outlined above, no I can&#39;t."}, {"owner": {"reputation": 1, "user_id": 7475016, "user_type": "registered", "profile_image": "https://graph.facebook.com/1436822913036929/picture?type=large", "display_name": "Mohamed Al-Dosari", "link": "https://stackoverflow.com/users/7475016/mohamed-al-dosari"}, "reply_to_user": {"reputation": 6647, "user_id": 550062, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X5OLy.png?s=128&g=1", "display_name": "Becuzz", "link": "https://stackoverflow.com/users/550062/becuzz"}, "edited": false, "score": 0, "creation_date": 1528921663, "post_id": 50843415, "comment_id": 88694997, "body": "I have nothing else I just want to download the image as a maximum of saving it on the server"}], "owner": {"reputation": 1, "user_id": 7475016, "user_type": "registered", "profile_image": "https://graph.facebook.com/1436822913036929/picture?type=large", "display_name": "Mohamed Al-Dosari", "link": "https://stackoverflow.com/users/7475016/mohamed-al-dosari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528912487, "creation_date": 1528912461, "last_edit_date": 1528912487, "question_id": 50843415, "link": "https://stackoverflow.com/questions/50843415/c-how-to-bitmap-saveresponse-outputstream", "title": "c# how to bitmap.Save(Response.OutputStream)", "body": "<p>can somebody tell me why this picture not outpotstream on browser\njust i want to write over image with my custom ttf and show it on browser\ndo not want to save it on server</p>\n\n<pre><code>protected void Button1_Click(object sender, EventArgs e)\n{\n\n    string fontName = \"sky-bold.ttf\";\n\n    PrivateFontCollection pfcoll = new PrivateFontCollection();\n    //put a font file under a Fonts directory within your application root\n    pfcoll.AddFontFile(Server.MapPath(\"~/Fonts/\" + fontName));\n    FontFamily ff = pfcoll.Families[0];\n    string firstText = Label1.Text;\n\n\n    PointF firstLocation = new PointF(233f, 730f);\n\n    //put an image file under a Images directory within your application root\n    string imageFilePath = Server.MapPath(\"~/HappyEid.jpg\");\n    Bitmap bitmap = (Bitmap)System.Drawing.Image.FromFile(imageFilePath);//load the image file\n\n    using (Graphics graphics = Graphics.FromImage(bitmap))\n    {\n        using (Font f = new Font(ff, 30, FontStyle.Bold))\n        {\n\n            graphics.DrawString(firstText, f, Brushes.SaddleBrown, firstLocation);\n\n        }\n    }\n    bitmap.Save(Response.OutputStream, ImageFormat.Png);\n    } \n}\n</code></pre>\n"}, {"tags": ["c#", "struct", "marshalling", ".net-framework-version"], "comments": [{"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1528912329, "post_id": 50843328, "comment_id": 88690304, "body": "What do you mean when you say <i>doesn&#39;t seem to work</i>? What happens when you run this?"}, {"owner": {"reputation": 55, "user_id": 9843222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acfb4731b6a8449436fb8c3e53721e67?s=128&d=identicon&r=PG&f=1", "display_name": "Todd H", "link": "https://stackoverflow.com/users/9843222/todd-h"}, "reply_to_user": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1528912525, "post_id": 50843328, "comment_id": 88690410, "body": "Sorry I should have been more clear.  I would not expect that exception to be thrown.  I would expect Guid1 to be equal to Guid2.  But when I run it on a machine with .net 4.7.2 Guid1 is empty and that exception gets thrown.  When I run it on a machine on 4.7 that exception does not get thrown and works how you would expect."}, {"owner": {"reputation": 1273, "user_id": 2287427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12dacf80e8ab397c3fdcd4f0d49c32d?s=128&d=identicon&r=PG", "display_name": "Dave S", "link": "https://stackoverflow.com/users/2287427/dave-s"}, "edited": false, "score": 2, "creation_date": 1528913069, "post_id": 50843328, "comment_id": 88690658, "body": "FieldOffset(17)  -- shouldn&#39;t that be 16?"}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1528913424, "post_id": 50843328, "comment_id": 88690815, "body": "I ran this on <code>.NET 4.7.2</code> and it shows them as equal for me."}, {"owner": {"reputation": 55, "user_id": 9843222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acfb4731b6a8449436fb8c3e53721e67?s=128&d=identicon&r=PG&f=1", "display_name": "Todd H", "link": "https://stackoverflow.com/users/9843222/todd-h"}, "reply_to_user": {"reputation": 1273, "user_id": 2287427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12dacf80e8ab397c3fdcd4f0d49c32d?s=128&d=identicon&r=PG", "display_name": "Dave S", "link": "https://stackoverflow.com/users/2287427/dave-s"}, "edited": false, "score": 0, "creation_date": 1528913892, "post_id": 50843328, "comment_id": 88691040, "body": "You&#39;re right @DaveS, I&#39;ll modify the question it should be FieldOffset(16), but I&#39;m still showing them as unequal"}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1528914114, "post_id": 50843328, "comment_id": 88691158, "body": "Ran on a PC with .NET 4.6.1 as well, but can&#39;t reproduce. Maybe upload your project to git or something?"}, {"owner": {"reputation": 55, "user_id": 9843222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acfb4731b6a8449436fb8c3e53721e67?s=128&d=identicon&r=PG&f=1", "display_name": "Todd H", "link": "https://stackoverflow.com/users/9843222/todd-h"}, "reply_to_user": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1528914758, "post_id": 50843328, "comment_id": 88691489, "body": "@Sach, so it does work if I select &quot;Prefer 32-bit&quot; in the build configuration, but if I uncheck &quot;Prefer 32-bit&quot; it fails.  So it seems to work in 32 bit, but not 64 bit.  I&#39;ll try to upload repro to git shortly"}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1528915350, "post_id": 50843328, "comment_id": 88691787, "body": "OK no need to upload, I managed to reproduce the problem. So, either if you set <code>Platform Target</code> to <code>Any</code> and check <code>Prefer 32-bit</code>, or simply select <code>x86</code> as the platform target, it says equal. Otherwise, <code>Guid2</code> is all zeroes."}, {"owner": {"reputation": 55, "user_id": 9843222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acfb4731b6a8449436fb8c3e53721e67?s=128&d=identicon&r=PG&f=1", "display_name": "Todd H", "link": "https://stackoverflow.com/users/9843222/todd-h"}, "reply_to_user": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1528915526, "post_id": 50843328, "comment_id": 88691868, "body": "@Sach, I modified my question to include the part about 32 bit vs 64 bit.  So I guess my original question remains.  Whether or not this a bug in 4.7.2 or illegal code."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1528915620, "post_id": 50843328, "comment_id": 88691915, "body": "I&#39;m not quite sure if it&#39;s a bug, but doing this fixes the problem even in 64-bit platform: <code>t.Guid2 = new Guid(t.Guid1.ToByteArray());</code>"}, {"owner": {"reputation": 55, "user_id": 9843222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acfb4731b6a8449436fb8c3e53721e67?s=128&d=identicon&r=PG&f=1", "display_name": "Todd H", "link": "https://stackoverflow.com/users/9843222/todd-h"}, "reply_to_user": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1528915980, "post_id": 50843328, "comment_id": 88692098, "body": "@Sach, sure there are tons of ways around this and I made my example as simple as possible.  But this works in 64 bit for .net 4.7 but not 4.7.2.  So either it&#39;s not valid code and I was relying on undefined behavior previously or it&#39;s a bug in 4.7.2."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "reply_to_user": {"reputation": 55, "user_id": 9843222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acfb4731b6a8449436fb8c3e53721e67?s=128&d=identicon&r=PG&f=1", "display_name": "Todd H", "link": "https://stackoverflow.com/users/9843222/todd-h"}, "edited": false, "score": 0, "creation_date": 1528916178, "post_id": 50843328, "comment_id": 88692184, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/173095/discussion-between-sach-and-todd-hansen\">continue this discussion in chat</a>."}, {"owner": {"reputation": 55, "user_id": 9843222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acfb4731b6a8449436fb8c3e53721e67?s=128&d=identicon&r=PG&f=1", "display_name": "Todd H", "link": "https://stackoverflow.com/users/9843222/todd-h"}, "reply_to_user": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1529077750, "post_id": 50843328, "comment_id": 88759942, "body": "@Sach, so the disassembly for 64 bit results in nop, whereas it does not for 32 bit."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9843222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acfb4731b6a8449436fb8c3e53721e67?s=128&d=identicon&r=PG&f=1", "display_name": "Todd H", "link": "https://stackoverflow.com/users/9843222/todd-h"}, "edited": false, "score": 0, "creation_date": 1528982784, "post_id": 50849544, "comment_id": 88719883, "body": "You&#39;re correct, this does work and is a possible work around along with <code>t.Guid2 = new Guid(t.Guid1.ToByteArray());</code> as was suggested above.  That still doesn&#39;t explain why my code used to work but doesn&#39;t under 4.7.2 and if there is something wrong with it, or 4.7.2"}], "tags": [], "owner": {"reputation": 21, "user_id": 6871739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/at9Oi.jpg?s=128&g=1", "display_name": "Cappe", "link": "https://stackoverflow.com/users/6871739/cappe"}, "is_accepted": false, "score": 0, "last_activity_date": 1528949891, "creation_date": 1528949891, "answer_id": 50849544, "question_id": 50843328, "link": "https://stackoverflow.com/questions/50843328/explicit-struct-layout-with-guid/50849544#50849544", "title": "Explicit struct layout with Guid", "body": "<p>I think that the problem could be related with the FieldOffset. FieldOffset(16) is displacing the byte array.\nIf you encapsulate the field and use a property you shouldn't have the problem.</p>\n\n<pre><code>[StructLayout(LayoutKind.Explicit, Size = SIZE)]\ninternal unsafe struct TestStruct\n{\n    public const int SIZE = 32;\n\n    [FieldOffset(0)]\n    public fixed byte _data[SIZE];\n\n    [FieldOffset(0), MarshalAs(UnmanagedType.Struct, SizeConst = 16)]\n    private Guid guid1;\n\n    [FieldOffset(16), MarshalAs(UnmanagedType.Struct, SizeConst = 16)]\n    private Guid guid2;\n\n    public Guid Guid1 { get =&gt; guid1; set =&gt; guid1 = value; }\n    public Guid Guid2 { get =&gt; guid2; set =&gt; guid2 = value; }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 9843222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acfb4731b6a8449436fb8c3e53721e67?s=128&d=identicon&r=PG&f=1", "display_name": "Todd H", "link": "https://stackoverflow.com/users/9843222/todd-h"}, "is_accepted": true, "score": 0, "last_activity_date": 1529462081, "creation_date": 1529462081, "answer_id": 50939390, "question_id": 50843328, "link": "https://stackoverflow.com/questions/50843328/explicit-struct-layout-with-guid/50939390#50939390", "title": "Explicit struct layout with Guid", "body": "<p>Turns out this was a bug in RyuJIT and resolved with the following pull request.</p>\n\n<p><a href=\"https://github.com/dotnet/coreclr/pull/17971\" rel=\"nofollow noreferrer\">https://github.com/dotnet/coreclr/pull/17971</a></p>\n"}], "owner": {"reputation": 55, "user_id": 9843222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acfb4731b6a8449436fb8c3e53721e67?s=128&d=identicon&r=PG&f=1", "display_name": "Todd H", "link": "https://stackoverflow.com/users/9843222/todd-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 50939390, "answer_count": 2, "score": 1, "last_activity_date": 1529462081, "creation_date": 1528912109, "last_edit_date": 1529077691, "question_id": 50843328, "link": "https://stackoverflow.com/questions/50843328/explicit-struct-layout-with-guid", "title": "Explicit struct layout with Guid", "body": "<p>I'm trying to have an explicit struct layout where I am reinterpreting a byte array as guids.  This works fine when running in 32 bit for both .net 4.7 and .net 4.7.2.  But when you run it in 64 bit it works in .NET 4.7, but doesn't seem to work in .NET 4.7.2.  Is this code invalid or could this be a bug in .NET?</p>\n\n<p>[UPDATE]: Tested on a few more configurations.  Works on 4.6.2 and 4.7, but doesn't work on 4.7.1 and 4.7.2.</p>\n\n<p>[UPDATE 2]: Looking at the disassembly.  In 64 bit that assign results in a no-op.  So I think that's pretty clear that it's a bug in .net:</p>\n\n<p>32bit disassembly:</p>\n\n<pre><code>TestStruct t = new TestStruct();\n03010480  lea         edi,[ebp-58h]\n03010483  xorps       xmm0,xmm0\n03010486  movq        mmword ptr [edi],xmm0\n0301048A  movq        mmword ptr [edi+8],xmm0\n0301048F  movq        mmword ptr [edi+10h],xmm0\n03010494  movq        mmword ptr [edi+18h],xmm0\n\nt.Guid1 = Guid.NewGuid();\n03010499  lea         eax,[ebp-58h]\n0301049C  mov         dword ptr [ebp-64h],eax\n0301049F  lea         ecx,[ebp-74h]\n030104A2  call        723628F0\n030104A7  mov         edi,dword ptr [ebp-64h]\n030104AA  lea         esi,[ebp-74h]\n030104AD  movq        xmm0,mmword ptr [esi]\n030104B1  movq        mmword ptr [edi],xmm0\n030104B5  movq        xmm0,mmword ptr [esi+8]\n030104BA  movq        mmword ptr [edi+8],xmm0\n\nt.Guid2 = t.Guid1;\n030104BF  lea         edi,[ebp-58h]\n030104C2  add         edi,10h\n030104C5  lea         esi,[ebp-58h]\n030104C8  movq        xmm0,mmword ptr [esi]\n030104CC  movq        mmword ptr [edi],xmm0\n030104D0  movq        xmm0,mmword ptr [esi+8]\n030104D5  movq        mmword ptr [edi+8],xmm0\n</code></pre>\n\n<p>64bit disassembly:</p>\n\n<pre><code>TestStruct t = new TestStruct();\n00007FFB054604B2  lea         rcx,[rbp+78h]\n00007FFB054604B6  vxorpd      xmm0,xmm0,xmm0\n00007FFB054604BB  vmovdqu     xmmword ptr [rcx],xmm0\n00007FFB054604C0  vmovdqu     xmmword ptr [rcx+10h],xmm0\n\nt.Guid1 = Guid.NewGuid();\n00007FFB054604C6  lea         rcx,[rbp+78h]\n00007FFB054604CA  mov         qword ptr [rbp+68h],rcx\n00007FFB054604CE  lea         rcx,[rbp+58h]\n00007FFB054604D2  call        00007FFB639BE8C0\n00007FFB054604D7  mov         rax,qword ptr [rbp+68h]\n00007FFB054604DB  vmovdqu     xmm0,xmmword ptr [rbp+58h]\n00007FFB054604E1  vmovdqu     xmmword ptr [rax],xmm0\n\nt.Guid2 = t.Guid1;\n00007FFB054604E6  nop\n</code></pre>\n\n<p>Code to reproduce:</p>\n\n<pre><code>[StructLayout(LayoutKind.Explicit, Size = SIZE)]\ninternal unsafe struct TestStruct\n{\n    public const int SIZE = 32;\n\n    [FieldOffset(0)]\n    private fixed byte _data[SIZE];\n\n    [FieldOffset(0), MarshalAs(UnmanagedType.Struct, SizeConst = 16)]\n    public Guid Guid1;\n\n    [FieldOffset(16), MarshalAs(UnmanagedType.Struct, SizeConst = 16)]\n    public Guid Guid2;\n}\n\ninternal class Program\n{\n    private static void Main()\n    {\n        TestStruct t = new TestStruct();\n        t.Guid1 = Guid.NewGuid();\n        t.Guid2 = t.Guid1;\n\n        if (t.Guid1 != t.Guid2)\n        {\n            throw new InvalidOperationException(\"Guids aren't equal\");\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-routing"], "comments": [{"owner": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "edited": false, "score": 0, "creation_date": 1528912387, "post_id": 50843312, "comment_id": 88690336, "body": "Do you have an <code>Index</code> action method inside BeaconController accepting an input <code>id</code> parameter of type integer?"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 3693290, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e105b1cceccf58ad1d2c502859e20812?s=128&d=identicon&r=PG&f=1", "display_name": "user3693290", "link": "https://stackoverflow.com/users/3693290/user3693290"}, "edited": false, "score": 0, "creation_date": 1528914705, "post_id": 50843500, "comment_id": 88691473, "body": "Yes - specify the name of the controller in the defaults. Just naming the route does not hook it to the proper controller. I&#39;m learning - thanks Shyju!"}], "tags": [], "owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "is_accepted": true, "score": 2, "last_activity_date": 1528913417, "last_edit_date": 1528913417, "creation_date": 1528912769, "answer_id": 50843500, "question_id": 50843312, "link": "https://stackoverflow.com/questions/50843312/simple-asp-net-core-routing-issue/50843500#50843500", "title": "Simple ASP.NET Core routing issue", "body": "<p>You specified the route pattern URL, but did not mention what controller/action should handle these type of requests.</p>\n\n<p>You may specify the defaults options when defining the route</p>\n\n<pre><code>app.UseMvc(routes =&gt;\n{\n    routes.MapRoute(\n      name: \"beacon\",\n      template: \"beacon/{id?}\", \n      defaults: new { controller = \"Beacon\", action = \"Index\" }\n    );\n\n    routes.MapRoute(\n      name: \"default\",\n      template: \"{controller=Home}/{action=Index}/{id?}\");\n});\n</code></pre>\n\n<p>Assuming your <code>Index</code> method has a <code>id</code> parameter of nullable int type</p>\n\n<pre><code>public class BeaconController : Controller\n{\n    public ActionResult Index(int? id)\n    {\n        if(id!=null)\n        {\n            return Content(id.Value.ToString());\n        }\n        return Content(\"Id missing\");    \n    }\n}\n</code></pre>\n\n<p>Another option is to remove the specific route definition from the <code>UseMvc</code> method and specify it using attribute routing.</p>\n\n<pre><code>public class BeaconController : Controller\n{\n    [Route(\"Beacon/{id?}\")]\n    public ActionResult Index(int? id)\n    {\n        if(id!=null)\n        {\n            return Content(id.Value.ToString());\n        }\n        return Content(\"Id missing\");\n    }\n}\n</code></pre>\n\n<p>The reason, <code>http://www.example.com/beacon</code> is working is because that request structure matches to the pattern defined for the default route.</p>\n"}], "owner": {"reputation": 75, "user_id": 3693290, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e105b1cceccf58ad1d2c502859e20812?s=128&d=identicon&r=PG&f=1", "display_name": "user3693290", "link": "https://stackoverflow.com/users/3693290/user3693290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 50843500, "answer_count": 1, "score": 2, "last_activity_date": 1528913417, "creation_date": 1528912072, "last_edit_date": 1528913020, "question_id": 50843312, "link": "https://stackoverflow.com/questions/50843312/simple-asp-net-core-routing-issue", "title": "Simple ASP.NET Core routing issue", "body": "<p>using the following</p>\n\n<pre><code>app.UseMvc(routes =&gt;\n{\n    routes.MapRoute(\n       name: \"beacon\",\n       template: \"beacon/{id?}\");\n\n    routes.MapRoute(\n       name: \"default\",\n       template: \"{controller=Home}/{action=Index}/{id?}\");\n});\n</code></pre>\n\n<p><code>http://www.example.com/beacon</code> does what I expect and hits <code>BeaconController</code></p>\n\n<p>But <code>http://www.example.com/beacon/001</code> does not hit any controller and goes 404</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["c#", "iis"], "comments": [{"owner": {"reputation": 7896, "user_id": 1559219, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DXPxC.jpg?s=128&g=1", "display_name": "Kurubaran", "link": "https://stackoverflow.com/users/1559219/kurubaran"}, "edited": false, "score": 0, "creation_date": 1528913401, "post_id": 50843242, "comment_id": 88690808, "body": "Did you try <code>HttpContext.Current.User.Identity.Name</code>, This should work if you are using windows authentication."}, {"owner": {"reputation": 2688, "user_id": 9365244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b3b6d55137204d5a88f3ab1bebb826?s=128&d=identicon&r=PG&f=1", "display_name": "JayV", "link": "https://stackoverflow.com/users/9365244/jayv"}, "edited": false, "score": 0, "creation_date": 1528922660, "post_id": 50843242, "comment_id": 88695490, "body": "Have you tried disabling <code>Anonymous Authentication</code>? From what I remember, the authentication models work in a hierarchy with the simplest one first (Anonymous) and that will also work as there is nothing to gather/authenticate. Also, you <i>may</i> need to enable <code>Impersonation</code> to get the Logged On User credentials when accessing the database"}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1528923991, "post_id": 50843242, "comment_id": 88696055, "body": "<a href=\"https://stackoverflow.com/questions/1843271/whats-the-difference-between-httpcontext-current-user-and-thread-currentprincip/1843367#1843367\" title=\"whats the difference between httpcontext current user and thread currentprincip\">stackoverflow.com/questions/1843271/&hellip;</a> You should never call the methods above, but use what ASP.NET framework offers on pages or controllers natively."}, {"owner": {"reputation": 21, "user_id": 9937549, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PhxfrzWzvtc/AAAAAAAAAAI/AAAAAAAAAVs/CaohV7Nflws/photo.jpg?sz=128", "display_name": "Avinesh", "link": "https://stackoverflow.com/users/9937549/avinesh"}, "reply_to_user": {"reputation": 2688, "user_id": 9365244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b3b6d55137204d5a88f3ab1bebb826?s=128&d=identicon&r=PG&f=1", "display_name": "JayV", "link": "https://stackoverflow.com/users/9365244/jayv"}, "edited": false, "score": 0, "creation_date": 1528945843, "post_id": 50843242, "comment_id": 88701106, "body": "Thanks for your replies. @JayV i tried to set Anonymous Authentication disabled, but i am getting HTTP ERROR 404.15 - NOT FOUND"}, {"owner": {"reputation": 21, "user_id": 9937549, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PhxfrzWzvtc/AAAAAAAAAAI/AAAAAAAAAVs/CaohV7Nflws/photo.jpg?sz=128", "display_name": "Avinesh", "link": "https://stackoverflow.com/users/9937549/avinesh"}, "edited": false, "score": 0, "creation_date": 1528946224, "post_id": 50843242, "comment_id": 88701158, "body": "Can anyone please tell me , why i am unable to run the application locally by setting Anonymous Authentication in disabled state?"}], "owner": {"reputation": 21, "user_id": 9937549, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PhxfrzWzvtc/AAAAAAAAAAI/AAAAAAAAAVs/CaohV7Nflws/photo.jpg?sz=128", "display_name": "Avinesh", "link": "https://stackoverflow.com/users/9937549/avinesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1528912913, "creation_date": 1528911806, "last_edit_date": 1528912913, "question_id": 50843242, "link": "https://stackoverflow.com/questions/50843242/c-environ-username-and-iis-username-not-matching", "title": "C# Environ username and IIS username not matching", "body": "<p>I have created an Intranet application for storing customer related details. The application also stores Windows Logon nID of the person who submitted the form (<code>Envionment.Username</code>). Everything looks and works good in Localhost. The form got deployed in IIS and now <code>Environment.Uusername</code> returns a value from application pool inside IIS. We have set an identity value in IIS application pool which has access to the database and that value is getting returned for Environment.Username. </p>\n\n<p>I tried with <code>System.Web.HttpContext.Current.User.Identity.Name</code> but it returns a empty value.</p>\n\n<p>WindowsAuthentication and AnonymousAuthenication are set to ENABLED in IIS.</p>\n\n<p>Any leads on this would be of great help.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "unit-testing", "asynchronous", "moq"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 3, "creation_date": 1528911820, "post_id": 50843219, "comment_id": 88690060, "body": "With the code broken up as it is, There is no way to see what the problem is. Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that can be used to reproduce the problem. Would save a lot of time trying to figure out what you did wrong."}, {"owner": {"reputation": 1, "user_id": 4392708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daff5cd48dad0235881c30d8914f95d0?s=128&d=identicon&r=PG&f=1", "display_name": "NeilW", "link": "https://stackoverflow.com/users/4392708/neilw"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1528915572, "post_id": 50843219, "comment_id": 88691895, "body": "Thanks, first time posting here.  I&#39;ll try to come up with something."}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1528915591, "post_id": 50843219, "comment_id": 88691904, "body": "You are using <code>_detailRepository</code> instead of your mock - <code>mockDetailRepository.Object</code>"}, {"owner": {"reputation": 1, "user_id": 4392708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daff5cd48dad0235881c30d8914f95d0?s=128&d=identicon&r=PG&f=1", "display_name": "NeilW", "link": "https://stackoverflow.com/users/4392708/neilw"}, "edited": false, "score": 0, "creation_date": 1528918456, "post_id": 50843219, "comment_id": 88693320, "body": "(First, sorry for the screwy format of the code, not sure how to show it as code in a reply).  Crowcoder - Thanks.  ALMOST correct.  What I didn&#39;t show (and noticed while starting to do as Nkosi asked) was that I was NOT using  my mocked controller!              var controller = new DetailsController(_mockLoggingRepository, _detailMapper, _mockConfiguration, mockDetailRespository.Object);              // Act             var result = await _detailsController.CreateDetail(detailModel);"}, {"owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "edited": false, "score": 0, "creation_date": 1528918944, "post_id": 50843219, "comment_id": 88693592, "body": "@NeilW you can <a href=\"https://stackoverflow.com/posts/50843219/edit\">edit</a> your post and add that info directly to a question"}, {"owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 0, "creation_date": 1528925101, "post_id": 50843219, "comment_id": 88696496, "body": "Just to offer a caution about using <code>It.IsAny</code> without understanding the implications: it can allow your tests to pass when the code is faulty. You may like to take a look at <a href=\"https://stackoverflow.com/questions/49332471/mock-verify-invocation\">this question</a>. That question is about Verify, but the same argument applies to Setup. Take a look at the answer proposing use of <code>It.IsAny</code> (including all the comments) then the accepted answer."}, {"owner": {"reputation": 1, "user_id": 4392708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daff5cd48dad0235881c30d8914f95d0?s=128&d=identicon&r=PG&f=1", "display_name": "NeilW", "link": "https://stackoverflow.com/users/4392708/neilw"}, "reply_to_user": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 0, "creation_date": 1528927529, "post_id": 50843219, "comment_id": 88697403, "body": "@Richardissimo I&#39;ll take a look at that.  Thanks."}], "owner": {"reputation": 1, "user_id": 4392708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daff5cd48dad0235881c30d8914f95d0?s=128&d=identicon&r=PG&f=1", "display_name": "NeilW", "link": "https://stackoverflow.com/users/4392708/neilw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 828, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528911673, "creation_date": 1528911673, "question_id": 50843219, "link": "https://stackoverflow.com/questions/50843219/async-mocked-method-always-returns-null", "title": "Async mocked method always returns null", "body": "<p>I am mocking an async method where an interface is the parameter and I want to return a specific object.  It appears that the method call is not being associated with the mock and is therefore always returning null.</p>\n\n<p>Method being mocked:</p>\n\n<pre><code>public async Task&lt;IDetail&gt; Create(IDetail detail)\n</code></pre>\n\n<p>n async Mock Statement:</p>\n\n<pre><code>IDetail detailCreateResult = new Detail() {...}\n\nmockDetailRespository.Setup(x =&gt; x.Create(It.IsAny&lt;IDetail&gt;())).ReturnsAsync(detailCreateResult);\n</code></pre>\n\n<p>Call to the method:</p>\n\n<pre><code>var incomeTaxDetail = _detailMapper.Mapper.Map&lt;IDetail&gt; (incomeTaxDetailModel);  // Returns an IDetail\nvar newDetail = await _detailRespository.Create(incomeTaxDetail);\n</code></pre>\n\n<p><strong>newDetail is always set to a null value, not to detailCreateResult.</strong></p>\n\n<p>This mock, used another test, works fine:</p>\n\n<pre><code>mockDetailRespository.Setup(x =&gt; x.Get(It.IsAny&lt;int&gt;())).ReturnsAsync(detail);\n</code></pre>\n\n<p>Anyone see what I'm doing wrong?  If more information is needed please let me know.</p>\n"}, {"tags": ["c#", "wpf", "margins"], "comments": [{"owner": {"reputation": 1551, "user_id": 2263392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c2a64ad193ab36e10dd3b2e69d3b95f?s=128&d=identicon&r=PG", "display_name": "gunnerone", "link": "https://stackoverflow.com/users/2263392/gunnerone"}, "edited": false, "score": 0, "creation_date": 1528911372, "post_id": 50843069, "comment_id": 88689824, "body": "You might be better off using a <code>Grid</code> to space them out"}, {"owner": {"reputation": 859, "user_id": 3563563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb456db94804e2a88e57e5970ac8e60?s=128&d=identicon&r=PG&f=1", "display_name": "gdir", "link": "https://stackoverflow.com/users/3563563/gdir"}, "edited": false, "score": 1, "creation_date": 1528911757, "post_id": 50843069, "comment_id": 88690029, "body": "Please show your XAML. I never had a problem defining the margins."}, {"owner": {"reputation": 25, "user_id": 9931691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d410fc20be6d05dfbc1768ea04a4d7?s=128&d=identicon&r=PG&f=1", "display_name": "User1178", "link": "https://stackoverflow.com/users/9931691/user1178"}, "reply_to_user": {"reputation": 859, "user_id": 3563563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb456db94804e2a88e57e5970ac8e60?s=128&d=identicon&r=PG&f=1", "display_name": "gdir", "link": "https://stackoverflow.com/users/3563563/gdir"}, "edited": false, "score": 0, "creation_date": 1528912075, "post_id": 50843069, "comment_id": 88690190, "body": "@gdir I added it."}, {"owner": {"reputation": 859, "user_id": 3563563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb456db94804e2a88e57e5970ac8e60?s=128&d=identicon&r=PG&f=1", "display_name": "gdir", "link": "https://stackoverflow.com/users/3563563/gdir"}, "edited": false, "score": 0, "creation_date": 1528912447, "post_id": 50843069, "comment_id": 88690359, "body": "@User1178 I suggest that you read about layout panels in WPF. Choosing the right layout panel makes WPF very easy. Trying to set margins like in WinForms isn&#39;t the right way. <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wpf/controls/panels-overview\" rel=\"nofollow noreferrer\">WPF layout panels</a>"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1528912457, "post_id": 50843069, "comment_id": 88690363, "body": "If 1936 is the window&#39;s Width, be aware that it includes (twice) the width of the window&#39;s border. Note that you could easily set the right margin and HorizontalAlignment to Right."}], "answers": [{"tags": [], "owner": {"reputation": 2056, "user_id": 9285310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/307e5982c5095f4597ff2eed7f8fa428?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan Trainer", "link": "https://stackoverflow.com/users/9285310/tristan-trainer"}, "is_accepted": true, "score": 0, "last_activity_date": 1528924315, "creation_date": 1528924315, "answer_id": 50846348, "question_id": 50843069, "link": "https://stackoverflow.com/questions/50843069/margin-for-two-boxes-isnt-correct/50846348#50846348", "title": "Margin for Two Boxes Isn&#39;t Correct", "body": "<p>What you're looking for is a grid, set the <code>ColumnDefinition</code> <code>Widths</code> to your rectangle width + the margin you want. The * used for the middle <code>Column</code>'s <code>Width</code> means \"Fill up the available space\". The <code>Margin</code> parameter is set up as (Left, Top, Right, Bottom). This allows you to specify a right hand <code>Margin</code>.</p>\n\n<pre><code>&lt;Window x:Class=\"ForStackoverflow.MainWindow\"\n    ...\n    xmlns:local=\"clr-namespace:ForStackoverflow\"\n    mc:Ignorable=\"d\"\n    Title=\"MainWindow\" Height=\"350\" Width=\"525\"&gt;\n\n    &lt;Grid&gt;\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=\"100\" /&gt;\n            &lt;ColumnDefinition /&gt;\n            &lt;ColumnDefinition Width=\"100\" /&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n\n        &lt;Rectangle Margin=\"15 0 0 0\" \n                   StrokeThickness=\"5\" \n                   Stroke=\"Black\"\n                   Height=\"80\"\n                   Grid.Column=\"0\"/&gt;\n\n        &lt;Rectangle Margin=\"0 0 15 0\" \n                   StrokeThickness=\"5\" \n                   Stroke=\"Black\"\n                   Height=\"80\"\n                   Grid.Column=\"2\"/&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 9931691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d410fc20be6d05dfbc1768ea04a4d7?s=128&d=identicon&r=PG&f=1", "display_name": "User1178", "link": "https://stackoverflow.com/users/9931691/user1178"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 50846348, "answer_count": 1, "score": 0, "last_activity_date": 1528924315, "creation_date": 1528911003, "last_edit_date": 1528912056, "question_id": 50843069, "link": "https://stackoverflow.com/questions/50843069/margin-for-two-boxes-isnt-correct", "title": "Margin for Two Boxes Isn&#39;t Correct", "body": "<p>so I have two boxes, and the goal here is to have both boxes have the exact same margins from the edge of the window. Unfortunately, in WPF, you only get the margin from the left side, and not both, so to make sure of that, I have the following formula;</p>\n\n<blockquote>\n  <p>The margin of the second box is equal to the window width minus the margin of the first box minus the size of the box.</p>\n</blockquote>\n\n<p>And this can be backed up with math, it <em>does</em> work. And so I did get my program to figure this out, since it's reactive. And so now I have this image:</p>\n\n<p>WPF Window\n<a href=\"https://i.stack.imgur.com/rV5bM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rV5bM.png\" alt=\"enter image description here\"></a></p>\n\n<p>The text in the middle is to prove that this calculation is correct. (just so you know, each box is 500px wide) So, the first number is the margin of the first box. The second is the margin of the second, and the last is the window size. Do the math and you have this equation:</p>\n\n<blockquote>\n  <p>(1936 - 88) - 500 = 1348</p>\n</blockquote>\n\n<p>And that does work, however, if you look in the image, the box on the right is just a little bit closer to the edge than the one on the left. This happens too if you resize it, it's not just when maximized. What's up, and how can I fix this?</p>\n\n<p>Here is my XAML code:</p>\n\n<pre><code>&lt;Window x:Class=\"Horizon_Chat.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        xmlns:local=\"clr-namespace:Horizon_Chat\"\n        xmlns:i=\"clr-namespace:Horizon_Chat\"\n        i:WindowEx.ShowIcon = \"false\"\n        mc:Ignorable=\"d\"\n        Title=\"Horizon Chat\" Height=\"900\" Width=\"1280\" WindowStartupLocation=\"CenterScreen\" MinWidth=\"600\" MinHeight=\"600\" WindowState=\"Maximized\"&gt;\n    &lt;Grid&gt;\n        &lt;TextBlock x:Name=\"welcomeTitleText\" HorizontalAlignment=\"Center\" Margin=\"0,-200,0,0\" TextWrapping=\"Wrap\" Text=\"Hello Camden!\" VerticalAlignment=\"Center\" FontFamily=\"Muli\" FontSize=\"60\"/&gt;\n        &lt;Border x:Name=\"topBorder\" BorderBrush=\"#FF646464\" BorderThickness=\"0,0,0,4\" HorizontalAlignment=\"Left\" Height=\"41\" VerticalAlignment=\"Top\" Width=\"1273\" Margin=\"0,32,0,0\"/&gt;\n        &lt;Ellipse Fill=\"#FF30B44E\" HorizontalAlignment=\"Left\" Height=\"50\" Margin=\"10,10,0,0\" Stroke=\"Black\" VerticalAlignment=\"Top\" Width=\"50\" StrokeThickness=\"3\"/&gt;\n        &lt;Border x:Name=\"chatsBox\" BorderBrush=\"Black\" BorderThickness=\"3\" HorizontalAlignment=\"Left\" Height=\"250\" Margin=\"58,594,0,0\" VerticalAlignment=\"Top\" Width=\"500\"/&gt;\n        &lt;Border x:Name=\"friendsBox\" BorderBrush=\"Black\" BorderThickness=\"3\" HorizontalAlignment=\"Left\" Height=\"250\" Margin=\"724,594,0,0\" VerticalAlignment=\"Top\" Width=\"500\"/&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-core"], "comments": [{"owner": {"reputation": 1940, "user_id": 310601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/50d2bf90452f406c68e2a10eddb5d222?s=128&d=identicon&r=PG", "display_name": "Mark G", "link": "https://stackoverflow.com/users/310601/mark-g"}, "edited": false, "score": 0, "creation_date": 1528922474, "post_id": 50843016, "comment_id": 88695407, "body": "Try <a href=\"https://docs.microsoft.com/en-us/aspnet/core/performance/response-compression#troubleshooting\" rel=\"nofollow noreferrer\">Troubleshooting</a> and let us know everything that you&#39;ve ruled out."}, {"owner": {"reputation": 21, "user_id": 9105252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bedf703058f1ded5b63751b17a3cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Miretsky", "link": "https://stackoverflow.com/users/9105252/mark-miretsky"}, "reply_to_user": {"reputation": 1940, "user_id": 310601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/50d2bf90452f406c68e2a10eddb5d222?s=128&d=identicon&r=PG", "display_name": "Mark G", "link": "https://stackoverflow.com/users/310601/mark-g"}, "edited": false, "score": 0, "creation_date": 1529072379, "post_id": 50843016, "comment_id": 88756864, "body": "I went through the Troubleshooting section and verified that everything in my example is correct, as stated there. I verified using both Chrome and Fiddler.  This issue can be easily reproduced. First create an empty project in Visual Studio 2017 (just use the &quot;Empty&quot; ASP.NET Core template). I tried it with .NET Core 2.0 and 2.1 with the same result. Then open up Startup.cs and edit it according to the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/performance/response-compression?view=aspnetcore-2.1&amp;tabs=aspnetcore2x#configuration\" rel=\"nofollow noreferrer\">documentation</a>. You will notice that gzip is not working."}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1529078527, "post_id": 50843016, "comment_id": 88760348, "body": "The middleware expects your response to include a <code>Content-Type</code> header. If I take your repro steps and add <code>context.Response.Headers.Add(&quot;Content-Type&quot;, &quot;text&#47;plain&quot;);</code> before the call to <code>WriteAsync</code>, the compression kicks in. Here&#39;s the <a href=\"https://github.com/aspnet/BasicMiddleware/blob/release/2.1/src/Microsoft.AspNetCore.ResponseCompression/ResponseCompressionProvider.cs#L116\" rel=\"nofollow noreferrer\">code</a> that shows that logic in the middleware services."}, {"owner": {"reputation": 21, "user_id": 9105252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bedf703058f1ded5b63751b17a3cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Miretsky", "link": "https://stackoverflow.com/users/9105252/mark-miretsky"}, "edited": false, "score": 0, "creation_date": 1529085923, "post_id": 50843016, "comment_id": 88763560, "body": "Still doesn&#39;t work. I modified the code as you suggested (see updated code above), but compression is still not kicking in (although I can see the &quot;Content-Type&quot; header in the response now."}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1529087580, "post_id": 50843016, "comment_id": 88764222, "body": "Must be something else then. You\u2019re not using https, right?"}, {"owner": {"reputation": 21, "user_id": 9105252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bedf703058f1ded5b63751b17a3cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Miretsky", "link": "https://stackoverflow.com/users/9105252/mark-miretsky"}, "edited": false, "score": 0, "creation_date": 1529087689, "post_id": 50843016, "comment_id": 88764277, "body": "No, I am using HTTP."}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1529088983, "post_id": 50843016, "comment_id": 88764776, "body": "You might need to provide a github repo or similar - the steps from your question work for me."}, {"owner": {"reputation": 1940, "user_id": 310601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/50d2bf90452f406c68e2a10eddb5d222?s=128&d=identicon&r=PG", "display_name": "Mark G", "link": "https://stackoverflow.com/users/310601/mark-g"}, "edited": false, "score": 0, "creation_date": 1529089020, "post_id": 50843016, "comment_id": 88764791, "body": "Are you using IIS Express or Kestrel?  Try the other and see if you get the same results."}, {"owner": {"reputation": 21, "user_id": 9105252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bedf703058f1ded5b63751b17a3cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Miretsky", "link": "https://stackoverflow.com/users/9105252/mark-miretsky"}, "reply_to_user": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1529091931, "post_id": 50843016, "comment_id": 88765876, "body": "@KirkLarkin - if you created your project using the &quot;Empty&quot; ASP.NET Core 2.0 (or 2.1) template in Visual Studio and modified <code>Startup.cs</code> as above, then you and I are running the same code. Sounds like it&#39;s something with my environment. I am running Windows 10 if that makes any difference. Probably not because I have the same issue on my Windows 7 laptop."}, {"owner": {"reputation": 21, "user_id": 9105252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bedf703058f1ded5b63751b17a3cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Miretsky", "link": "https://stackoverflow.com/users/9105252/mark-miretsky"}, "reply_to_user": {"reputation": 1940, "user_id": 310601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/50d2bf90452f406c68e2a10eddb5d222?s=128&d=identicon&r=PG", "display_name": "Mark G", "link": "https://stackoverflow.com/users/310601/mark-g"}, "edited": false, "score": 0, "creation_date": 1529092323, "post_id": 50843016, "comment_id": 88766010, "body": "@MarkG - I am hosting the application in Kestrel with IIS Express as the reverse proxy, which is the default configuration. Are you suggesting to host the application in IIS Express?"}, {"owner": {"reputation": 1940, "user_id": 310601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/50d2bf90452f406c68e2a10eddb5d222?s=128&d=identicon&r=PG", "display_name": "Mark G", "link": "https://stackoverflow.com/users/310601/mark-g"}, "edited": false, "score": 0, "creation_date": 1529093688, "post_id": 50843016, "comment_id": 88766493, "body": "@MarkMiretsky Try it without IIS Express then and directly with Kestrel on port 5000."}, {"owner": {"reputation": 21, "user_id": 9105252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bedf703058f1ded5b63751b17a3cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Miretsky", "link": "https://stackoverflow.com/users/9105252/mark-miretsky"}, "edited": false, "score": 0, "creation_date": 1529096427, "post_id": 50843016, "comment_id": 88767439, "body": "Still no compression when I run it directly with Kestrel (using <code>dotnet run</code>) on port 5000."}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1529098071, "post_id": 50843016, "comment_id": 88767922, "body": "Looks like we\u2019re running out of options. How are you determining that the compression is not kicking in?"}, {"owner": {"reputation": 21, "user_id": 9105252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bedf703058f1ded5b63751b17a3cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Miretsky", "link": "https://stackoverflow.com/users/9105252/mark-miretsky"}, "edited": false, "score": 0, "creation_date": 1529098588, "post_id": 50843016, "comment_id": 88768087, "body": "I am looking at the Network tab in Chrome Dev Tools. Nothing shows up in the Content-Encoding column, and when I select the &quot;localhost&quot; record, I see <code>Accept-Encoding: gzip, deflate, br</code> under Request Headers, but do not see <code>Content-Encoding: gzip</code> under Response Headers. I <i>do</i> see <code>Content-Type: text&#47;plain</code> under Response Headers, however."}, {"owner": {"reputation": 1940, "user_id": 310601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/50d2bf90452f406c68e2a10eddb5d222?s=128&d=identicon&r=PG", "display_name": "Mark G", "link": "https://stackoverflow.com/users/310601/mark-g"}, "edited": false, "score": 0, "creation_date": 1529100388, "post_id": 50843016, "comment_id": 88768561, "body": "@MarkMiretsky I just tried the same code on my PC and it works fine.  I added a screenshot in my answer below to demonstrate the request / response.  Really hard to know why you have this issue on both your Win 7 &amp; Win 10 computers."}, {"owner": {"reputation": 21, "user_id": 9105252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bedf703058f1ded5b63751b17a3cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Miretsky", "link": "https://stackoverflow.com/users/9105252/mark-miretsky"}, "edited": false, "score": 0, "creation_date": 1529102595, "post_id": 50843016, "comment_id": 88768999, "body": "It&#39;s a mystery... Thanks guys for your time. If I do end up figuring it out, I will post the answer."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9105252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bedf703058f1ded5b63751b17a3cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Miretsky", "link": "https://stackoverflow.com/users/9105252/mark-miretsky"}, "edited": false, "score": 0, "creation_date": 1529077784, "post_id": 50878104, "comment_id": 88759961, "body": "It doesn&#39;t work even if I don&#39;t use MVC or static files. I just edited the code in my original question with the simplified example."}], "tags": [], "owner": {"reputation": 1940, "user_id": 310601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/50d2bf90452f406c68e2a10eddb5d222?s=128&d=identicon&r=PG", "display_name": "Mark G", "link": "https://stackoverflow.com/users/310601/mark-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1529100220, "last_edit_date": 1529100220, "creation_date": 1529074661, "answer_id": 50878104, "question_id": 50843016, "link": "https://stackoverflow.com/questions/50843016/gzip-compression-middleware-not-working-in-asp-net-core-2-0/50878104#50878104", "title": "Gzip compression middleware not working in asp.net core 2.0", "body": "<p>From <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/middleware/index#ordering\" rel=\"nofollow noreferrer\">ASP.NET Core Middleware</a>:</p>\n\n<blockquote>\n  <p>The following example demonstrates a middleware ordering where\n  requests for static files are handled by the static file middleware\n  before the response compression middleware. Static files are not\n  compressed with this ordering of the middleware.</p>\n</blockquote>\n\n<p>Below a screen capture of Fiddler showing the request and response with corresponding headers:</p>\n\n<p><a href=\"https://i.stack.imgur.com/R3Iva.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R3Iva.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 9105252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bedf703058f1ded5b63751b17a3cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Miretsky", "link": "https://stackoverflow.com/users/9105252/mark-miretsky"}, "edited": false, "score": 0, "creation_date": 1532128953, "post_id": 51424760, "comment_id": 89873180, "body": "That&#39;s very interesting. We do, in fact, have ESET Endpoint Antivirus installed company-wide. I will see if I can disable the antivirus and try it again."}, {"owner": {"reputation": 21, "user_id": 9105252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bedf703058f1ded5b63751b17a3cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Miretsky", "link": "https://stackoverflow.com/users/9105252/mark-miretsky"}, "edited": false, "score": 0, "creation_date": 1534531891, "post_id": 51424760, "comment_id": 90753813, "body": "Disabling ESET did not fix the issue for me."}, {"owner": {"reputation": 631, "user_id": 3140326, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/93d87aaec4dfc7ade4d3359b2638114d?s=128&d=identicon&r=PG&f=1", "display_name": "Mayo", "link": "https://stackoverflow.com/users/3140326/mayo"}, "edited": false, "score": 0, "creation_date": 1559246788, "post_id": 51424760, "comment_id": 99370015, "body": "Thanks, it resolved my issue. How to disable HTTP checking - <a href=\"https://github.com/cdnjs/cdnjs/issues/4815#issuecomment-118029930\" rel=\"nofollow noreferrer\">github.com/cdnjs/cdnjs/issues/4815#issuecomment-118029930</a>"}], "tags": [], "owner": {"reputation": 43, "user_id": 2925938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e17ead237bf51d1324c77ae8de30914?s=128&d=identicon&r=PG&f=1", "display_name": "Quodnon", "link": "https://stackoverflow.com/users/2925938/quodnon"}, "is_accepted": false, "score": 1, "last_activity_date": 1532031527, "last_edit_date": 1532031527, "creation_date": 1532009207, "answer_id": 51424760, "question_id": 50843016, "link": "https://stackoverflow.com/questions/50843016/gzip-compression-middleware-not-working-in-asp-net-core-2-0/51424760#51424760", "title": "Gzip compression middleware not working in asp.net core 2.0", "body": "<p>TL;DR: The code is fine, the issue with an environment.</p>\n\n<p>First, please find out if you have any antivirus that intercepts incoming HTTP traffic. In my case, it was ESET Endpoint Antivirus.\nSecond, Check your response for the presence of header <code>Vary: Accept-Encoding</code>. That indicates that Kestrel processed your request correctly and paid attention to Accept-Encoding request header.</p>\n\n<p>If you do have antivirus what happens is that it sniffs incoming unencrypted traffic, sees gzip header and unpack message to check for malware or whatever. Then it passes the decompressed response to a browser and removes gzip content-encoding header.</p>\n\n<p>You should turn off antivirus for some time, or test this feature on the environment without one.</p>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 7501262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3358539ef0da1257418f7d0dd4cc1b8f?s=128&d=identicon&r=PG", "display_name": "vishal shah", "link": "https://stackoverflow.com/users/7501262/vishal-shah"}, "is_accepted": false, "score": 0, "last_activity_date": 1537441444, "creation_date": 1537441444, "answer_id": 52423668, "question_id": 50843016, "link": "https://stackoverflow.com/questions/50843016/gzip-compression-middleware-not-working-in-asp-net-core-2-0/52423668#52423668", "title": "Gzip compression middleware not working in asp.net core 2.0", "body": "<p>I was facing the same problem. </p>\n\n<p>My observation is, Fiddler somehow doesn't show Content-Encoding, if it is done through ASP.net core middlewear. I am not sure why.</p>\n\n<p>But If I look at the same request in Chrome debugger, I am able to see that information with the compressed data.</p>\n\n<ol>\n<li>First row in image is without compression</li>\n<li>Second row in image is with compression</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/VFrCj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VFrCj.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 2815, "user_id": 1462295, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ts6jy.jpg?s=128&g=1", "display_name": "BurnsBA", "link": "https://stackoverflow.com/users/1462295/burnsba"}, "edited": false, "score": 0, "creation_date": 1566421061, "post_id": 54372810, "comment_id": 101655406, "body": "I ran into a similar configuration issue. Working on a project someone else started, it looked like the <code>services.AddResponseCompression</code> and <code>app.UseResponseCompression</code> where setup ... but on closer inspection, they were using a 3rd party library that set the response-content incorrectly for only some <code>Html.Partial(</code> calls. Switching from 3rd party to <a href=\"https://docs.microsoft.com/en-us/aspnet/core/performance/response-compression?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">the Microsoft way</a> fixed it. Very frustrating to track down."}], "tags": [], "owner": {"reputation": 2275, "user_id": 2920441, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/35OnW.png?s=128&g=1", "display_name": "AntonB", "link": "https://stackoverflow.com/users/2920441/antonb"}, "is_accepted": false, "score": 7, "last_activity_date": 1548450612, "creation_date": 1548450612, "answer_id": 54372810, "question_id": 50843016, "link": "https://stackoverflow.com/questions/50843016/gzip-compression-middleware-not-working-in-asp-net-core-2-0/54372810#54372810", "title": "Gzip compression middleware not working in asp.net core 2.0", "body": "<p>I faced a similar problem (asp.net core on Mac)</p>\n\n<p>Solution was to make sure response compression was called BEFORE static file serving.</p>\n\n<pre><code>    public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n    {\n        if (env.IsDevelopment())\n        {\n            app.UseDeveloperExceptionPage();\n        }\n        else\n        {\n            app.UseExceptionHandler(\"/Home/Error\");\n            app.UseHsts();\n        }\n\n        app.UseHttpsRedirection();\n        app.UseCookiePolicy();\n\n        // ordering matters here\n        app.UseResponseCompression();\n        app.UseStaticFiles();\n\n        app.UseMvc(routes =&gt;\n        {\n            routes.MapRoute(\n                name: \"default\",\n                template: \"{controller=Home}/{action=Index}/{id?}\");\n        });\n    }\n</code></pre>\n\n<p>After ordering it correctly I could see it in chrome under encoding <code>br</code> (Brotli Compression):</p>\n\n<p><a href=\"https://i.stack.imgur.com/NoC2Q.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NoC2Q.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 262, "user_id": 6929941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RzEro.png?s=128&g=1", "display_name": "Jim.Carter", "link": "https://stackoverflow.com/users/6929941/jim-carter"}, "is_accepted": false, "score": 0, "last_activity_date": 1608519010, "creation_date": 1608519010, "answer_id": 65386988, "question_id": 50843016, "link": "https://stackoverflow.com/questions/50843016/gzip-compression-middleware-not-working-in-asp-net-core-2-0/65386988#65386988", "title": "Gzip compression middleware not working in asp.net core 2.0", "body": "<p>If you use Fiddler, make sure the &quot;Decode&quot; function disabled or Fiddler will auto decode.\n<a href=\"https://i.stack.imgur.com/D1F1p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D1F1p.png\" alt=\"disable decode\" /></a></p>\n"}], "owner": {"reputation": 21, "user_id": 9105252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bedf703058f1ded5b63751b17a3cd2?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Miretsky", "link": "https://stackoverflow.com/users/9105252/mark-miretsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4595, "favorite_count": 1, "answer_count": 5, "score": 2, "last_activity_date": 1608519010, "creation_date": 1528910728, "last_edit_date": 1529085760, "question_id": 50843016, "link": "https://stackoverflow.com/questions/50843016/gzip-compression-middleware-not-working-in-asp-net-core-2-0", "title": "Gzip compression middleware not working in asp.net core 2.0", "body": "<p>I am unable to get Gzip compression middleware to work in asp.net core 2.0 (or 2.1). I created a new project using the \"Blank\" Web Application template and have the following code in Startup.cs:</p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n    services.AddResponseCompression();\n}\n\n// This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\npublic void Configure(IApplicationBuilder app, IHostingEnvironment env)\n{\n    app.UseResponseCompression();\n\n    app.Run(async (context) =&gt;\n        {\n            context.Response.Headers.Add(\"Content-Type\", \"text/plain\");\n            await context.Response.WriteAsync(\"Hello World!\");\n        });\n}\n</code></pre>\n\n<p>I verified that Chrome is sending \"Accept-Encoding: gzip, deflate, br\" in the request.</p>\n\n<p><a href=\"https://i.stack.imgur.com/iPVTr.png\" rel=\"nofollow noreferrer\">Accept-Encoding</a></p>\n\n<p>However, the server is not gzip-encoding the response:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MKss1.png\" rel=\"nofollow noreferrer\">Content-Encoding</a></p>\n\n<p>What am I doing wrong?</p>\n\n<p>I found <a href=\"https://stackoverflow.com/questions/41732254/gzip-in-net-core-not-working\">this</a> discussion, and tried everything from there, but it didn't help.</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": false, "score": 0, "last_activity_date": 1528910905, "creation_date": 1528910905, "answer_id": 50843047, "question_id": 50843009, "link": "https://stackoverflow.com/questions/50843009/why-go1-has-no-value/50843047#50843047", "title": "Why go1 has no value", "body": "<p>It has no value because you never assign it one. There are two ways to assign a value to a field:</p>\n\n<ul>\n<li>assign the field (<code>go1 = ...</code>)</li>\n<li>pass a <em>reference</em> to the field somewhere, and assign to the <em>reference</em> (<code>Foo(ref go1)</code> or <code>Foo(out go1)</code>, and assign to the <code>ref</code> parameter inside <code>Foo</code>)</li>\n</ul>\n\n<p>You don't do either of these. When you call <code>C1(go1);</code>, you are copying the <strong>current value</strong> of <code>go1</code> (<code>null</code>), and passing <em>that</em>. You aren't passing a reference to the field.</p>\n\n<p>The fact that <code>GameObject</code> is a reference-type is actually completely irrelevant here. This is because of \"pass by value\" vs \"pass by reference\", which is <strong>completely unrelated</strong> to \"reference-type\" vs \"value-type\", despite the names sounding similar.</p>\n"}], "owner": {"reputation": 1, "user_id": 7715634, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dUFP77rUkfM/AAAAAAAAAAI/AAAAAAAAABA/Moq0Y06l3S0/photo.jpg?sz=128", "display_name": "tylearymf", "link": "https://stackoverflow.com/users/7715634/tylearymf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "closed_date": 1528910881, "answer_count": 1, "score": -1, "last_activity_date": 1528910905, "creation_date": 1528910695, "question_id": 50843009, "link": "https://stackoverflow.com/questions/50843009/why-go1-has-no-value", "closed_reason": "Duplicate", "title": "Why go1 has no value", "body": "<pre><code>public GameObject go1; // null\npublic GameObject go2; // null\npublic GameObject goTarget; // has value\n\nvoid B1()\n{\n    C1(go1);\n}\nvoid C1(GameObject g)\n{\n    g = goTarget;\n    // go1 is null\n}\n\nvoid B2()\n{\n    C2(out go2);\n}\nvoid C2(out GameObject g)\n{\n    g = goTarget;\n    // go2 has value\n}\n</code></pre>\n\n<p>go1 is a reference type, why go1 still use out to pass.\nafter finding lots of informations,I still can't understand why.</p>\n"}, {"tags": ["c#", "asp.net", "wcf"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1528910878, "post_id": 50842920, "comment_id": 88689581, "body": "Split your entity up into smaller pieces."}, {"owner": {"reputation": 2320, "user_id": 5062791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17ae265babf339cb720c6448cb671bf?s=128&d=identicon&r=PG&f=1", "display_name": "ColinM", "link": "https://stackoverflow.com/users/5062791/colinm"}, "edited": false, "score": 0, "creation_date": 1528912934, "post_id": 50842920, "comment_id": 88690603, "body": "To extend on Amy&#39;s comment, using pagination to return your data, which is safer than extending your transfer size to the max limit."}], "owner": {"reputation": 21, "user_id": 8824097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77871ce1152bce36364338085d59e08b?s=128&d=identicon&r=PG&f=1", "display_name": "Balasubramaniyan Jayaraman", "link": "https://stackoverflow.com/users/8824097/balasubramaniyan-jayaraman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528912503, "creation_date": 1528910374, "last_edit_date": 1528912503, "question_id": 50842920, "link": "https://stackoverflow.com/questions/50842920/the-remote-server-returned-an-error-413-request-entity-too-large-only-in-http", "title": "The remote server returned an error: (413) Request Entity Too Large Only in HTTPS", "body": "<p>I can find on StackOverflow but I am still getting the error </p>\n\n<blockquote>\n  <p>The remote server returned an error: (413) Request Entity Too Large\"</p>\n</blockquote>\n\n<p><strong>Only in HTTPS</strong> and can't quite seem to figure out how to resolve. </p>\n\n<ol>\n<li><p>i changed the maximum size in binding area </p>\n\n<pre><code>maxBufferPoolSize=\"2147483647\" \nmaxBufferSize=\"2147483647\" \nmaxReceivedMessageSize=\"2147483647\"\n</code></pre></li>\n<li><p>i changed  system.webServer/serverRuntime /uploadreadaheadsize to \"2147483647\"</p></li>\n</ol>\n\n<p>still now i getting the (413) Request Entity Too Large</p>\n"}, {"tags": ["c#", "ssis"], "answers": [{"tags": [], "owner": {"reputation": 2377, "user_id": 1651660, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xwnat.png?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/1651660/abhishek"}, "is_accepted": true, "score": 0, "last_activity_date": 1528983442, "creation_date": 1528983442, "answer_id": 50858849, "question_id": 50842691, "link": "https://stackoverflow.com/questions/50842691/moving-files-using-ssis-and-script-component/50858849#50858849", "title": "Moving files using SSIS and Script Component", "body": "<p>Here you go, the below snippet would move the files as per the match criteria. You need to take care of the source input as per your configuration.</p>\n\n<pre><code>    string filePath = @\"C:\\Packages\\StackOverflow\";\n    //string fileName = string.Empty;\n    //get list of files\n    string[] filePaths = Directory.GetFiles(filePath);\n\n    //get list of folders\n    string[] dirPaths = Directory.GetDirectories(filePath);\n\n    //loop through the files and move them\n    foreach(string fileNames in filePaths)\n    {\n        string[] pathArr = fileNames.Split('\\\\');\n        string fileName = pathArr.Last().ToString();\n        int index = fileName.IndexOf('_');\n        string fileNamePart = fileName.Substring(0, index);\n        //get the first numeric part of the filename to perform the match\n        var fileNameNumPart = Regex.Replace(fileNamePart, \"[^0-9]\", \"\");\n        //find related directory\n        var dirMatch = dirPaths.FirstOrDefault(stringToCheck =&gt; stringToCheck.Contains(fileNameNumPart.ToString()));\n        if (dirMatch != null)\n        {\n            // move would fail if file already exists in destination\n            if (!File.Exists(dirMatch + '\\\\' + fileName))\n            {\n                File.Move(fileNames, dirMatch + '\\\\' + fileName);\n            }                        \n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 9864806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7d570a1cf8e6f3f9455b3d7c4b41bb2?s=128&d=identicon&r=PG&f=1", "display_name": "S.Vojnovic", "link": "https://stackoverflow.com/users/9864806/s-vojnovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 758, "favorite_count": 0, "accepted_answer_id": 50858849, "answer_count": 1, "score": 0, "last_activity_date": 1528983442, "creation_date": 1528909529, "question_id": 50842691, "link": "https://stackoverflow.com/questions/50842691/moving-files-using-ssis-and-script-component", "title": "Moving files using SSIS and Script Component", "body": "<p>I need to write a code in script component in SSIS that will move files to corresponding folders. Files that I'm getting are usually named, for example \"Dem323_04265.45.23.4\", \"Dem65_459.452.56\", \"Ec2345_456.156.7894\" and I need to move them to a corresponding folders. The name of my folders are \"Oklahoma City (323)\", \"New York(65)\".. I need to move those files to matching folders, so for example \"Dem323_04265.45.23.4\" would go to folder \"Oklahoma City (323)\". I need to modify my code so the number that is located between first two or three letter and underline matches number located in parenthesis. I've been working on this for several days already and I'm new with ssis and c#, so any help would be appreciated. This is the code I have so far:</p>\n\n<pre><code>     public void Main()\n    {\n        string filename;\n       // string datepart;\n        bool FolderExistFlg;\n        filename = Dts.Variables[\"User::FileName\"].Value.ToString();\n        // datepart = (filename.Substring(filename.Length - 12)).Substring(0, 8);\n        var folderNumber = Regex.Match(\n            filename,\n\n    //Dts.Variables[\"OutputMainFolder\"].Value.ToString(),\n                    @\"\\(([^)]*)\\)\").Groups[1].Value;\n        FolderExistFlg = Directory.Exists(Dts.Variables[\"OutputMainFolder\"].Value.ToString() + \"\\\\\" + folderNumber);\n\n        if (!FolderExistFlg)\n        {\n            Directory.CreateDirectory(Dts.Variables[\"OutputMainFolder\"].Value.ToString() + \"\\\\\" + folderNumber);\n        }\n\n        File.Move(Dts.Variables[\"SourceFolder\"].Value.ToString() + \"\\\\\" + filename + \"\\\\\" + folderNumber,\n        Dts.Variables[\"OutputMainFolder\"].Value.ToString()  + \"\\\\\" + filename);\n        Dts.TaskResult = (int)ScriptResults.Success;\n    }\n\n    #region ScriptResults declaration\n\n    enum ScriptResults\n    {\n        Success = Microsoft.SqlServer.Dts.Runtime.DTSExecResult.Success,\n        Failure = Microsoft.SqlServer.Dts.Runtime.DTSExecResult.Failure\n    };\n    #endregion\n\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "asp.net-core", "azure-ad-b2c"], "answers": [{"tags": [], "owner": {"reputation": 578, "user_id": 2019445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5893fa6d01eed60fd21d60e4abe5211?s=128&d=identicon&r=PG", "display_name": "Dan But", "link": "https://stackoverflow.com/users/2019445/dan-but"}, "is_accepted": false, "score": 0, "last_activity_date": 1529884483, "creation_date": 1529884483, "answer_id": 51014854, "question_id": 50842690, "link": "https://stackoverflow.com/questions/50842690/silent-sso-login-with-azure-b2c-and-open-id-connect-in-net-core-mvc-application/51014854#51014854", "title": "Silent SSO login with Azure B2C and Open Id Connect in .NET Core MVC Application", "body": "<p>You can try embedding an iframe on an anonymous page that has the src set to the signin route. Make sure when your challenge fires you set prompt=none</p>\n\n<p>You can squash any errors that come back from the signin request like interaction_required and acheive a silent single sign on when it works</p>\n"}], "owner": {"reputation": 1887, "user_id": 53496, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2a35ee925a50d97f604b7794845b2d5e?s=128&d=identicon&r=PG", "display_name": "Anton Kalcik", "link": "https://stackoverflow.com/users/53496/anton-kalcik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1536026285, "creation_date": 1528909525, "question_id": 50842690, "link": "https://stackoverflow.com/questions/50842690/silent-sso-login-with-azure-b2c-and-open-id-connect-in-net-core-mvc-application", "title": "Silent SSO login with Azure B2C and Open Id Connect in .NET Core MVC Application", "body": "<p>We would like to implement functionality where user should be logged silently over Single sign-on. The user go to the application A and log into. Now he goes to the application B, which is using the same tenant as application A. At this moment to log into the application B, it is necessary by user to click on Login button to start the <code>Challenge</code> which handle the whole OpenID Connect protocol exchange.</p>\n\n<pre><code>[HttpGet]\npublic IActionResult SignIn()\n{\n  var redirectUrl = Url.Action(nameof(HomeContrsioller.Index), \"Home\");\n  return Challenge(new AuthenticationProperties { RedirectUri = redirectUrl },\n                OpenIdConnectDefaults.AuthenticationScheme);\n}\n</code></pre>\n\n<p>The idea here was to utilize <code>Authorize</code> attribute.</p>\n\n<pre><code>[Authorize]\npublic IActionResult Index()\n{\n\n    return View();\n}\n</code></pre>\n\n<p>The problem with this attribute is that per default the attribute redirects to the login UI when the user isn't logged in. The desired behavior here is to try to silently authenticate user, when the authentication isn't possible, ignore it.</p>\n\n<p>I tried to disable to automatic challenge like described <a href=\"https://stackoverflow.com/questions/45878166/asp-net-core-2-0-disable-automatic-challenge\">here</a> but without success.</p>\n"}, {"tags": ["c#", "kubernetes", "polly"], "comments": [{"owner": {"reputation": 5120, "user_id": 4151019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938308839e5234c8fbafcec7c82144d?s=128&d=identicon&r=PG&f=1", "display_name": "mountain traveller", "link": "https://stackoverflow.com/users/4151019/mountain-traveller"}, "edited": false, "score": 0, "creation_date": 1528911038, "post_id": 50842644, "comment_id": 88689654, "body": "You may need to push the retries out to an external asynchronous work queue or some other external store/trigger mechanism of some kind. If in Azure, <a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/durable-functions-overview\" rel=\"nofollow noreferrer\">Azure Durable functions</a> may offer an approach?"}], "answers": [{"comments": [{"owner": {"reputation": 472, "user_id": 3271357, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3ecd7e778d5a7472c7c41f19bb4ec232?s=128&d=identicon&r=PG&f=1", "display_name": "PvPlatten", "link": "https://stackoverflow.com/users/3271357/pvplatten"}, "edited": false, "score": 1, "creation_date": 1528916829, "post_id": 50843053, "comment_id": 88692476, "body": "Thank you for your answer. That is what I suspected. Im thinking that I will persist unfinished requests in a redis cache or similar and then have some other process to finish them of."}], "tags": [], "owner": {"reputation": 5120, "user_id": 4151019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938308839e5234c8fbafcec7c82144d?s=128&d=identicon&r=PG&f=1", "display_name": "mountain traveller", "link": "https://stackoverflow.com/users/4151019/mountain-traveller"}, "is_accepted": false, "score": 3, "last_activity_date": 1528910940, "creation_date": 1528910940, "answer_id": 50843053, "question_id": 50842644, "link": "https://stackoverflow.com/questions/50842644/c-polly-how-to-persist-retry-chains/50843053#50843053", "title": "c# - Polly how to persist retry chains", "body": "<p>Polly is an in-process library and doesn't currently offer any out-of-process retry co-ordination. There is no current option to persist Polly retry state anywhere out-of-process.  </p>\n"}], "owner": {"reputation": 472, "user_id": 3271357, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3ecd7e778d5a7472c7c41f19bb4ec232?s=128&d=identicon&r=PG&f=1", "display_name": "PvPlatten", "link": "https://stackoverflow.com/users/3271357/pvplatten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1528910940, "creation_date": 1528909335, "question_id": 50842644, "link": "https://stackoverflow.com/questions/50842644/c-polly-how-to-persist-retry-chains", "title": "c# - Polly how to persist retry chains", "body": "<p>We are considering to use Polly as our failover lib.</p>\n\n<p>We run our applications in a kubernetes environment. We can't guarantee that the pods that for example are running retry attempts against a certain service will live long enough for the request to be successfull. And if the pod dies the retry chain disappears forever I guess..</p>\n\n<p>How do you deal with that scenario? It is important for us that certain retry chains allways continue until success.</p>\n"}, {"tags": ["c#", "flurl"], "comments": [{"owner": {"reputation": 1423, "user_id": 5121114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3bpRy.png?s=128&g=1", "display_name": "TheRock", "link": "https://stackoverflow.com/users/5121114/therock"}, "edited": false, "score": 0, "creation_date": 1528913353, "post_id": 50842589, "comment_id": 88690785, "body": "Is using a DelegatingHandler, overriding SendAsync to get the bytes of the request being sent and then configuring FlurlHttp settings to use the handler an option..?"}, {"owner": {"reputation": 12137, "user_id": 451007, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3d3a48b34dda00ca0a5745a5c285068c?s=128&d=identicon&r=PG", "display_name": "010110110101", "link": "https://stackoverflow.com/users/451007/010110110101"}, "reply_to_user": {"reputation": 1423, "user_id": 5121114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3bpRy.png?s=128&g=1", "display_name": "TheRock", "link": "https://stackoverflow.com/users/5121114/therock"}, "edited": false, "score": 0, "creation_date": 1528913397, "post_id": 50842589, "comment_id": 88690806, "body": "That sounds good.  How to do it?"}], "answers": [{"comments": [{"owner": {"reputation": 12137, "user_id": 451007, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3d3a48b34dda00ca0a5745a5c285068c?s=128&d=identicon&r=PG", "display_name": "010110110101", "link": "https://stackoverflow.com/users/451007/010110110101"}, "edited": false, "score": 0, "creation_date": 1528913971, "post_id": 50843703, "comment_id": 88691082, "body": "How do we chain the DelegatingHandlers together?  I&#39;m already overriding CreateMessageHandler to provide proxy support."}, {"owner": {"reputation": 12137, "user_id": 451007, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3d3a48b34dda00ca0a5745a5c285068c?s=128&d=identicon&r=PG", "display_name": "010110110101", "link": "https://stackoverflow.com/users/451007/010110110101"}, "edited": false, "score": 0, "creation_date": 1528914113, "post_id": 50843703, "comment_id": 88691155, "body": "I got it -- I have to add a constructor that chains."}, {"owner": {"reputation": 1423, "user_id": 5121114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3bpRy.png?s=128&g=1", "display_name": "TheRock", "link": "https://stackoverflow.com/users/5121114/therock"}, "reply_to_user": {"reputation": 12137, "user_id": 451007, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3d3a48b34dda00ca0a5745a5c285068c?s=128&d=identicon&r=PG", "display_name": "010110110101", "link": "https://stackoverflow.com/users/451007/010110110101"}, "edited": false, "score": 0, "creation_date": 1528914252, "post_id": 50843703, "comment_id": 88691245, "body": "Yep - pass in other handler through the constructor and set the InnerHandler"}, {"owner": {"reputation": 12137, "user_id": 451007, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3d3a48b34dda00ca0a5745a5c285068c?s=128&d=identicon&r=PG", "display_name": "010110110101", "link": "https://stackoverflow.com/users/451007/010110110101"}, "edited": false, "score": 0, "creation_date": 1528915043, "post_id": 50843703, "comment_id": 88691628, "body": "OK -- new problem.  If I get the content.LongLength from inside the SendAsync override in the CustomMessageHandler, how do I get that to the method that originally called SendAsync?  Is there a way to get access to it from the caller?"}, {"owner": {"reputation": 1423, "user_id": 5121114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3bpRy.png?s=128&g=1", "display_name": "TheRock", "link": "https://stackoverflow.com/users/5121114/therock"}, "reply_to_user": {"reputation": 12137, "user_id": 451007, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3d3a48b34dda00ca0a5745a5c285068c?s=128&d=identicon&r=PG", "display_name": "010110110101", "link": "https://stackoverflow.com/users/451007/010110110101"}, "edited": false, "score": 0, "creation_date": 1528915453, "post_id": 50843703, "comment_id": 88691838, "body": "You could possibly poke it in somewhere in the response message: var httpResponseMessage = await base.SendAsync(request, cancellationToken); then return the httpResponseMessage from SendAsync"}], "tags": [], "owner": {"reputation": 1423, "user_id": 5121114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3bpRy.png?s=128&g=1", "display_name": "TheRock", "link": "https://stackoverflow.com/users/5121114/therock"}, "is_accepted": false, "score": 0, "last_activity_date": 1528913627, "creation_date": 1528913627, "answer_id": 50843703, "question_id": 50842589, "link": "https://stackoverflow.com/questions/50842589/using-flurl-http-is-there-a-way-to-determine-the-number-of-bytes-sent/50843703#50843703", "title": "Using Flurl.Http, is there a way to determine the number of bytes sent?", "body": "<p>Here's a code sample of what I described in the comment - using DelegatingHandler, overriding SendAsync to get the bytes of the request being sent and then configuring FlurlHttp settings to use the handler:</p>\n\n<pre><code>public class HttpFactory : DefaultHttpClientFactory\n{\n    public override HttpMessageHandler CreateMessageHandler()\n    {\n        return new CustomMessageHandler();\n    }\n}\n\npublic class CustomMessageHandler : DelegatingHandler\n{\n    protected async override Task&lt;HttpResponseMessage&gt; SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\n    {\n        var content = await request.Content.ReadAsByteArrayAsync();\n\n\n        return await base.SendAsync(request, cancellationToken);\n    }\n}\n\n FlurlHttp.Configure(settings =&gt;\n {\n     settings.HttpClientFactory = new HttpFactory();\n });\n</code></pre>\n"}], "owner": {"reputation": 12137, "user_id": 451007, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3d3a48b34dda00ca0a5745a5c285068c?s=128&d=identicon&r=PG", "display_name": "010110110101", "link": "https://stackoverflow.com/users/451007/010110110101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528913627, "creation_date": 1528909142, "last_edit_date": 1528913478, "question_id": 50842589, "link": "https://stackoverflow.com/questions/50842589/using-flurl-http-is-there-a-way-to-determine-the-number-of-bytes-sent", "title": "Using Flurl.Http, is there a way to determine the number of bytes sent?", "body": "<p>I would like to know how many bytes were actually transmitted when using Post or PostAsync.  I'm using code similar to the following. I could look at the bytes of the filePath, but in my real code, I'm doing some manipulation to the file stream between being read and sent.  If you pull out the <code>MyFilteredContent</code> line, how would you do it?</p>\n\n<pre><code>async Task&lt;bool&gt; SendFile(string filePath)\n{\n    using (HttpContent fileContent = new FileContent(filePath))\n    using (MyFilteredContent filteredContent = new MyFilteredContent(fileContent))\n    {\n        var t = await MyAppSettings.TargetUrl\n        .AllowAnyHttpStatus()\n        .PostAsync(filteredContent);\n\n        if (t.IsSuccessStatusCode)\n        {\n            return true;\n        }\n\n        throw new Exception(\"blah blah\");\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", ".net", "linq", "iqueryable"], "comments": [{"owner": {"reputation": 848, "user_id": 1282181, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0cab45cd279a3160f06d8307fb6875e2?s=128&d=identicon&r=PG", "display_name": "jiy", "link": "https://stackoverflow.com/users/1282181/jiy"}, "edited": false, "score": 0, "creation_date": 1528919927, "post_id": 50842542, "comment_id": 88694096, "body": "I wasn&#39;t able to accomplish what I needed without adding hundreds of lines of interface/class crap, so I just copy/pasted the mostly similar LINQ statements and called it a day.  Sucks that it&#39;s not DRY, but at least I&#39;m not adding 300+ lines of boilerplate."}], "answers": [{"comments": [{"owner": {"reputation": 5525, "user_id": 576857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ec04b9d97b033d197d40642de73a4bc?s=128&d=identicon&r=PG", "display_name": "Al Kepp", "link": "https://stackoverflow.com/users/576857/al-kepp"}, "edited": false, "score": 2, "creation_date": 1528909251, "post_id": 50842585, "comment_id": 88688683, "body": "One question: Why T:class?"}, {"owner": {"reputation": 22598, "user_id": 2910943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/YaPew.jpg?s=128&g=1", "display_name": "Backs", "link": "https://stackoverflow.com/users/2910943/backs"}, "reply_to_user": {"reputation": 5525, "user_id": 576857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ec04b9d97b033d197d40642de73a4bc?s=128&d=identicon&r=PG", "display_name": "Al Kepp", "link": "https://stackoverflow.com/users/576857/al-kepp"}, "edited": false, "score": 0, "creation_date": 1528909301, "post_id": 50842585, "comment_id": 88688709, "body": "@AlKepp EF can not work with structures and interfaces. It needs class for materialization of objects"}, {"owner": {"reputation": 848, "user_id": 1282181, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0cab45cd279a3160f06d8307fb6875e2?s=128&d=identicon&r=PG", "display_name": "jiy", "link": "https://stackoverflow.com/users/1282181/jiy"}, "edited": false, "score": 0, "creation_date": 1528909314, "post_id": 50842585, "comment_id": 88688719, "body": "Thanks, Backs!  I may end up going this route, but would it be possible to accomplish this without adding the Interface/Class?  That will lead to hundreds of lines of boilerplate =("}, {"owner": {"reputation": 5525, "user_id": 576857, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8ec04b9d97b033d197d40642de73a4bc?s=128&d=identicon&r=PG", "display_name": "Al Kepp", "link": "https://stackoverflow.com/users/576857/al-kepp"}, "reply_to_user": {"reputation": 848, "user_id": 1282181, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0cab45cd279a3160f06d8307fb6875e2?s=128&d=identicon&r=PG", "display_name": "jiy", "link": "https://stackoverflow.com/users/1282181/jiy"}, "edited": false, "score": 1, "creation_date": 1528909408, "post_id": 50842585, "comment_id": 88688777, "body": "@jiy: You can never call T.Anything if T is not interface/class with that method."}, {"owner": {"reputation": 22598, "user_id": 2910943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/YaPew.jpg?s=128&g=1", "display_name": "Backs", "link": "https://stackoverflow.com/users/2910943/backs"}, "reply_to_user": {"reputation": 848, "user_id": 1282181, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0cab45cd279a3160f06d8307fb6875e2?s=128&d=identicon&r=PG", "display_name": "jiy", "link": "https://stackoverflow.com/users/1282181/jiy"}, "edited": false, "score": 1, "creation_date": 1528909470, "post_id": 50842585, "comment_id": 88688820, "body": "@jiy I don&#39;t know your situation, it&#39;s just one solution. Also, you can use <code>Ship</code> instead of <code>T</code>, or use base class for all objects, that has <code>NetValue</code>. It depends on your project"}], "tags": [], "owner": {"reputation": 22598, "user_id": 2910943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/YaPew.jpg?s=128&g=1", "display_name": "Backs", "link": "https://stackoverflow.com/users/2910943/backs"}, "is_accepted": false, "score": 2, "last_activity_date": 1528909133, "creation_date": 1528909133, "answer_id": 50842585, "question_id": 50842542, "link": "https://stackoverflow.com/questions/50842542/how-to-pass-and-return-linq-iqueryablet-to-a-function/50842585#50842585", "title": "How to pass (and return) LINQ IQueryable&lt;T&gt; to a Function?", "body": "<p>You need something, that contains <code>NetValue</code> property. <code>T</code> is generic type without properties. So, adding an interface is right way:</p>\n\n<pre><code>interface IShip\n{\n    int NetValue {get;}\n}\n\nclass Ship : IShip\n{\n    public int NetValue {get;set;}\n}\n\npublic IQueryable&lt;T&gt; GetExpensiveShips&lt;T&gt;(IQueryable&lt;T&gt; query)\n    where T : IShip, class\n{\n    return query.Where(q =&gt; q.NetValue &gt; 150000);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 1, "creation_date": 1528909447, "post_id": 50842622, "comment_id": 88688799, "body": "&quot;There&#39;s no need for this method to be generic.&quot; gets you the vote here. Using constraints seems like a somewhat noisy approach."}, {"owner": {"reputation": 848, "user_id": 1282181, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0cab45cd279a3160f06d8307fb6875e2?s=128&d=identicon&r=PG", "display_name": "jiy", "link": "https://stackoverflow.com/users/1282181/jiy"}, "edited": false, "score": 0, "creation_date": 1528909490, "post_id": 50842622, "comment_id": 88688824, "body": "Thanks! So I&#39;m going to have to create an interface/class for ship?  Is there any way to avoid doing so?  My classes would have to support lots of nesting which will be messy."}, {"owner": {"reputation": 86752, "user_id": 87399, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6rBH5.png?s=128&g=1", "display_name": "Joe White", "link": "https://stackoverflow.com/users/87399/joe-white"}, "reply_to_user": {"reputation": 848, "user_id": 1282181, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0cab45cd279a3160f06d8307fb6875e2?s=128&d=identicon&r=PG", "display_name": "jiy", "link": "https://stackoverflow.com/users/1282181/jiy"}, "edited": false, "score": 0, "creation_date": 1528910079, "post_id": 50842622, "comment_id": 88689139, "body": "@jiy No, you don&#39;t need to create a class or interface. You&#39;re working with the <code>Ship</code> class that <i>already exists.</i> If you look at <code>db.Ships</code>, it&#39;s of type <code>DbSet&lt;Ship&gt;</code>. That&#39;s the type you&#39;re passing in, and that&#39;s the type you wrote the method to expect. All that&#39;s left is to tell the compiler."}, {"owner": {"reputation": 86752, "user_id": 87399, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6rBH5.png?s=128&g=1", "display_name": "Joe White", "link": "https://stackoverflow.com/users/87399/joe-white"}, "edited": false, "score": 0, "creation_date": 1528910227, "post_id": 50842622, "comment_id": 88689232, "body": "Whoops, I just realized that you&#39;re adding extra complexity by adding an anonymous type (without any reason to do so). Updated my answer."}, {"owner": {"reputation": 848, "user_id": 1282181, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0cab45cd279a3160f06d8307fb6875e2?s=128&d=identicon&r=PG", "display_name": "jiy", "link": "https://stackoverflow.com/users/1282181/jiy"}, "edited": false, "score": 0, "creation_date": 1528910372, "post_id": 50842622, "comment_id": 88689318, "body": "@JoeWhite Thanks for the explanation.  Unfortunately as my example is greatly simplified it doesn&#39;t express the actual complexity.  The IQueryable <code>shipyard</code> will be a combination of several joins and thus won&#39;t conform to what EF already knows about."}, {"owner": {"reputation": 86752, "user_id": 87399, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6rBH5.png?s=128&g=1", "display_name": "Joe White", "link": "https://stackoverflow.com/users/87399/joe-white"}, "edited": false, "score": 0, "creation_date": 1528911942, "post_id": 50842622, "comment_id": 88690120, "body": "Okay, let&#39;s see if I understand: you&#39;ll have many different queries, with many different anonymous types, but you want to pass all of them to the same <code>GetExpensiveShips</code> method? Will all of those anonymous types have a property called <code>ship</code> of type <code>Ship</code>? If so, then (a) your code example wouldn&#39;t work anyway - you&#39;d need to do <code>q.ship.NetValue</code> instead of just <code>q.NetValue</code>; and (b) you could try <code>IQueryable&lt;dynamic&gt;</code>."}], "tags": [], "owner": {"reputation": 86752, "user_id": 87399, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6rBH5.png?s=128&g=1", "display_name": "Joe White", "link": "https://stackoverflow.com/users/87399/joe-white"}, "is_accepted": true, "score": 4, "last_activity_date": 1528910194, "last_edit_date": 1528910194, "creation_date": 1528909260, "answer_id": 50842622, "question_id": 50842542, "link": "https://stackoverflow.com/questions/50842542/how-to-pass-and-return-linq-iqueryablet-to-a-function/50842622#50842622", "title": "How to pass (and return) LINQ IQueryable&lt;T&gt; to a Function?", "body": "<p>You need to remove some unnecessary complexity.</p>\n\n<p>Change the last line of your query to:</p>\n\n<pre><code>select ship;\n</code></pre>\n\n<p>And then change your method declaration to:</p>\n\n<pre><code>public IQueryable&lt;Ship&gt; GetExpensiveShips(IQueryable&lt;Ship&gt; query)\n</code></pre>\n\n<p>Your method is already written so that it will only work on <code>Ship</code> instances - it uses the Ship.NetValue property. So, you need to be explicit that that's the type it should take. There's no need for this method to be generic.</p>\n"}], "owner": {"reputation": 848, "user_id": 1282181, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0cab45cd279a3160f06d8307fb6875e2?s=128&d=identicon&r=PG", "display_name": "jiy", "link": "https://stackoverflow.com/users/1282181/jiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 908, "favorite_count": 0, "accepted_answer_id": 50842622, "answer_count": 2, "score": 1, "last_activity_date": 1528910194, "creation_date": 1528908989, "question_id": 50842542, "link": "https://stackoverflow.com/questions/50842542/how-to-pass-and-return-linq-iqueryablet-to-a-function", "title": "How to pass (and return) LINQ IQueryable&lt;T&gt; to a Function?", "body": "<p>I'd like the ability to pass (and return) an <code>IQueryable&lt;T&gt;</code> to a function for adding expression logic:</p>\n\n<pre><code>public void getShips()\n{\n    var shipyard =\n        from ship in db.Ships\n        select new { ship };\n\n    var ballerShips = GetExpensiveShips(shipyard);     \n}\n\npublic IQueryable&lt;T&gt; GetExpensiveShips&lt;T&gt;(IQueryable&lt;T&gt; query)\n{\n    return query.Where(q =&gt; q.NetValue &gt; 150000); // &lt;== Error CS1061\n}\n</code></pre>\n\n<p>Returns this error:</p>\n\n<pre><code>Error   CS1061  'T' does not contain a definition for 'NetValue' and no\nextension method 'NetValue' accepting a first argument of type 'T' could be \nfound (are you missing a using directive or an assembly reference?\n</code></pre>\n\n<p>I've tried defining an Interface for <code>shipyard</code> and adding <code>where T : IShipyard</code> but that seems to cause more problems and leads to substantial boilerplate.</p>\n\n<p>I would also like to avoid executing the SQL till after passing through my function.</p>\n\n<p>Is this possible?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework-core"], "comments": [{"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 2, "creation_date": 1528909093, "post_id": 50842509, "comment_id": 88688592, "body": "By providing explicit <code>FriendId</code> and <code>UserId</code> properties in your models and using these for your key."}], "answers": [{"comments": [{"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1528910018, "post_id": 50842595, "comment_id": 88689108, "body": "These properties don&#39;t exist in the code the user presented, a you probably need a little more explaining."}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "reply_to_user": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1528910306, "post_id": 50842595, "comment_id": 88689274, "body": "@spender Of course, still fleshing it out a bit. Let me know if you see any oversights."}, {"owner": {"reputation": 283, "user_id": 3866107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000166929231/picture?type=large", "display_name": "Phillip McMullen", "link": "https://stackoverflow.com/users/3866107/phillip-mcmullen"}, "edited": false, "score": 0, "creation_date": 1529080231, "post_id": 50842595, "comment_id": 88761102, "body": "@JSteward thanks for the help! I&#39;m new to Entity so maybe this is trivial. Doesn&#39;t entity automatically create the table relationships when there is an object from another table as a property? So this would break that link?"}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1529082514, "post_id": 50842595, "comment_id": 88762165, "body": "EF can generate relationships for navigation properties but it won&#39;t generate a composite key. Which is what I think you were going for?"}, {"owner": {"reputation": 283, "user_id": 3866107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000166929231/picture?type=large", "display_name": "Phillip McMullen", "link": "https://stackoverflow.com/users/3866107/phillip-mcmullen"}, "edited": false, "score": 0, "creation_date": 1529438837, "post_id": 50842595, "comment_id": 88870924, "body": "@JSteward Correct. I just want to use as much out of the box functionality in Entity as possible so I don&#39;t have to manually link the objects when they return if possible. I don&#39;t know if Entity does that automatically, but this gives me a base to tinker with. Thanks!"}, {"owner": {"reputation": 1029, "user_id": 8748639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d7Qof.png?s=128&g=1", "display_name": "zolty13", "link": "https://stackoverflow.com/users/8748639/zolty13"}, "edited": false, "score": 0, "creation_date": 1596109300, "post_id": 50842595, "comment_id": 111709080, "body": "Is it possible to use HasKey method with two columns&#39; names. My key propertty is private"}], "tags": [], "owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "is_accepted": true, "score": 7, "last_activity_date": 1528910568, "last_edit_date": 1528910568, "creation_date": 1528909160, "answer_id": 50842595, "question_id": 50842509, "link": "https://stackoverflow.com/questions/50842509/entity-framework-core-two-objects-as-primary-key/50842595#50842595", "title": "Entity Framework Core Two Objects as Primary Key", "body": "<p>The basic idea here is that your adding properties to the model that EF can use to make a relationship. Right you're trying to create a relationship of type <code>User</code> and that is creating an error. To assign a composite key each key needs to be a type compatible with a <code>Key</code> field, not a navigation property. So we add <code>UserId</code> and <code>FriendId</code> of type <code>int</code>, <code>string</code> or <code>GUID</code> etc. and create a relationship off those properties.</p>\n\n<pre><code>public class Relationship\n{\n    public User Friend { get; set; }\n\n    public User User { get; set; }\n\n    public int FriendId { get; set; }\n\n    public int UserId { get; set; }\n\n    public DateTimeOffset RelationshipInitializationDate { get; set; }\n}\n\npublic class User\n{\n    public int UserId { get; set; }\n}\n</code></pre>\n\n<p>You can now define a composite key across <code>UserId</code> and <code>FriendId</code>. Something like this should do:</p>\n\n<pre><code>public class NorthwindContext : DbContext\n{\n     public NorthwindContext(DbContextOptions&lt;NorthwindContext&gt; options):base(options) { }\n\n     public NorthwindContext() { }\n\n     protected override void OnModelCreating(ModelBuilder builder)\n     {\n         builder.Entity&lt;Relationship&gt;().HasKey(table =&gt; new {\n         table.FriendId, table.UserId\n         });\n     }\n     public DbSet&lt;Relationship&gt; Relationships { get; set; }\n     public DbSet&lt;User&gt; Users { get; set; }\n}\n</code></pre>\n\n<p><a href=\"https://medium.com/radzenhq/how-to-entity-framework-core-relationships-composite-keys-foreign-keys-data-annotations-code-f4b238086463\" rel=\"noreferrer\">Source: Medium - How To: Entity Framework Core relationships, composite keys, foreign keys, data annotations, Code First and Fluent API</a></p>\n"}], "owner": {"reputation": 283, "user_id": 3866107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000166929231/picture?type=large", "display_name": "Phillip McMullen", "link": "https://stackoverflow.com/users/3866107/phillip-mcmullen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7948, "favorite_count": 1, "accepted_answer_id": 50842595, "answer_count": 1, "score": 5, "last_activity_date": 1528910568, "creation_date": 1528908884, "question_id": 50842509, "link": "https://stackoverflow.com/questions/50842509/entity-framework-core-two-objects-as-primary-key", "title": "Entity Framework Core Two Objects as Primary Key", "body": "<p>I have a model which is used for managing friend relationships. It looks as follows:</p>\n\n<pre><code>public class Relationship\n{   \n   [Required]\n   public User User { get; set; }\n\n   [Required]\n   public User Friend { get; set; }\n\n   [Required]\n   public DateTimeOffset RelationshipInitializationDate { get; set; }\n}    \n</code></pre>\n\n<p>Users will have multiple records for their ID and there will be multiple records with the same FriendID so defining either of these as a key is a no-go. I would like the key to be a composite between User and Friend but when I define it like this:</p>\n\n<pre><code>modelBuilder.Entity&lt;Relationship&gt;().HasKey(r =&gt; new { r.User, r.Friend });\n</code></pre>\n\n<p>I get an error that states: </p>\n\n<pre><code>The property 'Relationship.User' is of type 'User' which is not supported by current database provider. Either change the property CLR type or ignore the property using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.\n</code></pre>\n\n<p>How should I go about this to create the primary key that will link with a user and friend object. I didn't have any issues with my other objects having typed properties and I don't have an issue if I add an arbitrary key to the Relationship model. Thanks in advance</p>\n"}, {"tags": ["c#", "unit-testing", "botframework"], "answers": [{"tags": [], "owner": {"reputation": 1517, "user_id": 1149816, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ffa5599d5902b13729f2d306bd0cc2d?s=128&d=identicon&r=PG", "display_name": "Devedse", "link": "https://stackoverflow.com/users/1149816/devedse"}, "is_accepted": true, "score": 1, "last_activity_date": 1528909614, "creation_date": 1528909614, "answer_id": 50842715, "question_id": 50842441, "link": "https://stackoverflow.com/questions/50842441/throwing-formcancelledexception-from-await-instead-of-aggregateexception-in-unit/50842715#50842715", "title": "Throwing FormCancelledException from await instead of AggregateException in unit test", "body": "<p>I just found the answer, I basically created a new class:</p>\n\n<pre><code>public class ExceptionThrower : IAwaitable&lt;Calculation_v2Form&gt;\n{\n    public IAwaiter&lt;Calculation_v2Form&gt; GetAwaiter()\n    {\n        throw new FormCanceledException(\"Error created for test test\", null);\n    }\n}\n</code></pre>\n\n<p>And just provided this to the method:</p>\n\n<pre><code>var exceptionThrower = new ExceptionThrower();\n\nawait rootLuisDialog.ResumeAfterCalculation_v2FormDialog(dialogContextMock.Object, exceptionThrower);\n</code></pre>\n"}], "owner": {"reputation": 1517, "user_id": 1149816, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ffa5599d5902b13729f2d306bd0cc2d?s=128&d=identicon&r=PG", "display_name": "Devedse", "link": "https://stackoverflow.com/users/1149816/devedse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 50842715, "answer_count": 1, "score": 1, "last_activity_date": 1528909614, "creation_date": 1528908614, "question_id": 50842441, "link": "https://stackoverflow.com/questions/50842441/throwing-formcancelledexception-from-await-instead-of-aggregateexception-in-unit", "title": "Throwing FormCancelledException from await instead of AggregateException in unit test", "body": "<p>I'm  currently trying to test the following code in an application that makes use of the Microsoft Bot Framework.</p>\n\n<pre><code>public async Task ResumeAfterCalculation_v2FormDialog(IDialogContext context, IAwaitable&lt;Calculation_v2Form&gt; result)\n{\n    try\n    {\n        var extractedCalculationForm = await result;\n        //Removed additional code\n    }\n    catch (FormCanceledException ex)\n    {\n        var reply = \"You have canceled the operation.\";\n        await _chat.PostAsync(context, reply);\n    }\n    catch (Exception ex)\n    {\n        Console.WriteLine(ex);\n    }\n    finally\n    {\n        context.Done&lt;object&gt;(null);\n    }\n}\n</code></pre>\n\n<p>When a user types 'quit' to the bot the 'await result' code throws a FormCanceledException and the code quits the form.</p>\n\n<p>When creating a test I implemented a class to mock the IAwaitable:</p>\n\n<pre><code>public class TaskAwaiterHelper&lt;T&gt; : IAwaiter&lt;T&gt;, IAwaitable&lt;T&gt;\n{\n    public Task&lt;T&gt; Task { get; }\n\n    public TaskAwaiterHelper(T obj)\n    {\n        this.Task = System.Threading.Tasks.Task.FromResult(obj);\n    }\n\n    public TaskAwaiterHelper(Task&lt;T&gt; task)\n    {\n        this.Task = task;\n    }\n\n    public bool IsCompleted { get { return Task.IsCompleted; } }\n\n    public void OnCompleted(Action action)\n    {\n        SynchronizationContext context = SynchronizationContext.Current;\n        TaskScheduler scheduler = context == null ? TaskScheduler.Current\n            : TaskScheduler.FromCurrentSynchronizationContext();\n        Task.ContinueWith(ignored =&gt; action(), scheduler);\n    }\n\n    public T GetResult()\n    {\n        return Task.Result;\n    }\n\n    public IAwaiter&lt;T&gt; GetAwaiter()\n    {\n        return this;\n    }\n}\n</code></pre>\n\n<p>I then created the following test:</p>\n\n<pre><code>[Fact]\npublic async Task ResumeAfterCalculation_v2FormDialog_WasCancelled_ThenCallsDone()\n{\n    //Arrange\n    var chat = new Mock&lt;IChatHelper&gt;();\n    var calculationApi = new Mock&lt;ICalculationApi&gt;();\n    var dialogContextMock = new Mock&lt;IDialogContext&gt;();\n    var rootLuisDialog = new RootLuisDialog(chat.Object, calculationApi.Object);\n\n    var taskAwaiter = new TaskAwaiterHelper&lt;Calculation_v2Form&gt;(new Task&lt;Calculation_v2Form&gt;(() =&gt;\n    {\n        throw new FormCanceledException(\"Error created for test test\", null);\n    }));\n\n    taskAwaiter.Task.Start();\n\n    //Act\n    await rootLuisDialog.ResumeAfterCalculation_v2FormDialog(dialogContextMock.Object, taskAwaiter);\n\n    //Assert\n    chat.Verify(c =&gt; c.PostAsync(dialogContextMock.Object, \"You have canceled the operation.\"), Times.Once());\n\n    dialogContextMock.Verify(t =&gt; t.Done&lt;object&gt;(null), Times.Once());\n}\n</code></pre>\n\n<p>Now whatever I try to do I the exception that's being thrown in the IAwaitable is being wrapped in an AggregateException, so we always end up in the catch (Exception ex) instead of the desired catch (FormCanceledException ex)</p>\n\n<p>Is there a way to make a Task throw a specific Exception instead of an AggregateException (I mean there should be as the bot framework itself seems to be able to do it).</p>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 1644, "user_id": 3090249, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1589107501/picture?type=large", "display_name": "gilmishal", "link": "https://stackoverflow.com/users/3090249/gilmishal"}, "edited": false, "score": 1, "creation_date": 1528908762, "post_id": 50842404, "comment_id": 88688428, "body": "Yes, have you tried actually doing it?"}], "answers": [{"tags": [], "owner": {"reputation": 1345, "user_id": 6573316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48875e03d0c32c14a46cebddad5a57d3?s=128&d=identicon&r=PG&f=1", "display_name": "Christlin Panneer", "link": "https://stackoverflow.com/users/6573316/christlin-panneer"}, "is_accepted": true, "score": 2, "last_activity_date": 1528909620, "creation_date": 1528909620, "answer_id": 50842719, "question_id": 50842404, "link": "https://stackoverflow.com/questions/50842404/is-it-possible-to-reference-a-resource-within-a-resource/50842719#50842719", "title": "Is it possible to reference a resource within a resource?", "body": "<p>You <strong>can not directly reference</strong> inside an element.</p>\n\n<p>You <strong>can reference</strong> one resource inside another <strong>resources property</strong>.</p>\n\n<pre><code>&lt;Color x:Key=\"MyColorResource\"&gt;#ffffff&lt;/Color&gt;\n&lt;SolidColorBrush x:Key=\"MyBrushResource\" Color=\"{StaticResource MyColorResource}\" /&gt;\n</code></pre>\n\n<p><strong>Note</strong>: your references should be compatible types.</p>\n"}], "owner": {"reputation": 5983, "user_id": 3450580, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d266279ffa8c881b432ca404deec6c15?s=128&d=identicon&r=PG&f=1", "display_name": "boop", "link": "https://stackoverflow.com/users/3450580/boop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 50842719, "answer_count": 1, "score": 1, "last_activity_date": 1528909620, "creation_date": 1528908460, "question_id": 50842404, "link": "https://stackoverflow.com/questions/50842404/is-it-possible-to-reference-a-resource-within-a-resource", "title": "Is it possible to reference a resource within a resource?", "body": "<p>So I know how I can declare a resource. A <code>Color</code> for example</p>\n\n<pre><code>&lt;Color x:Key=\"MyColorResource\"&gt;#ffffff&lt;/Color&gt;\n</code></pre>\n\n<p>But what if I want to use another resource within my resource. Something like this</p>\n\n<pre><code>&lt;Color x:Key=\"Theme.Highlight\"&gt;#ffffff&lt;/Color&gt;\n&lt;Color x:Key=\"MyColorResource\"&gt;{StaticResource Theme.Highlight}&lt;/Color&gt;\n</code></pre>\n\n<p>Would this be possible? </p>\n"}, {"tags": ["c#", ".net", "apache-kafka", "kafka-consumer-api", "confluent-platform"], "answers": [{"tags": [], "owner": {"reputation": 1186, "user_id": 7658036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zJpaj.jpg?s=128&g=1", "display_name": "Lalit", "link": "https://stackoverflow.com/users/7658036/lalit"}, "is_accepted": false, "score": 0, "last_activity_date": 1528919844, "creation_date": 1528919844, "answer_id": 50845283, "question_id": 50842322, "link": "https://stackoverflow.com/questions/50842322/how-to-consume-latest-message-on-button-click-and-write-it-to-the-txt-file/50845283#50845283", "title": "How to consume latest message on button click and write it to the txt file?", "body": "<p><strong>Note</strong>: Just a disclaimer before I start writing the answer: I'm not familiar with C#, so I'll try and answer this conceptually.</p>\n\n<p>I think all you need to do inside your consumer space is:</p>\n\n<ol>\n<li>Subscribe to the topic by invoking the <code>subscribe()</code> method of the consumer</li>\n<li>Invoke the <code>poll()</code> method of the consumer --> This will return the newly written record(s)</li>\n<li>Process all records in a loop i.e. package each message (key and/or value) in a new file as required.</li>\n</ol>\n\n<p>I tried this quickly in Java and here is the code snippet (containing the 3 mentioned steps) for your reference:</p>\n\n<pre><code>consumer.subscribe(Collections.singleton(\"test-topic\"));\n\n    try {\n        while (true) {\n            ConsumerRecords&lt;String, String&gt; records = consumer.poll(1000);\n            for(ConsumerRecord&lt;String, String&gt; record : records) {\n\n                fWriter = new FileWriter(\"data/msg-\" + i++);\n                pWriter = new PrintWriter(fWriter);\n                pWriter.print(record.value());\n                pWriter.close();\n            }\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        consumer.close();\n    }\n</code></pre>\n\n<p>On Running this consumer client and producing a couple of messages from the console producer, 2 files were created in the specified directory (data).</p>\n\n<p>Also, the reason for the infinite loop is to ensure that the consumer just keeps running because if the consumer doesn't poll regularly, then the Consumer Group Coordinator assumes that the consumer has died and a re-balance is triggered within the consumer group.</p>\n\n<p>I hope this helps!</p>\n"}], "owner": {"reputation": 1, "user_id": 9937226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbcd161722269514c23393ac4f1b98d0?s=128&d=identicon&r=PG&f=1", "display_name": "newbiecoder", "link": "https://stackoverflow.com/users/9937226/newbiecoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 533, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544375258, "creation_date": 1528908157, "last_edit_date": 1544375258, "question_id": 50842322, "link": "https://stackoverflow.com/questions/50842322/how-to-consume-latest-message-on-button-click-and-write-it-to-the-txt-file", "title": "How to consume latest message on button click and write it to the txt file?", "body": "<p>I've wrote a simple producer that send on button click a message to the Kafka. </p>\n\n<pre><code>class Producer : IProducer\n{\n    public void produce(string msg, string topic)\n    {\n        var config = new Dictionary&lt;string, object&gt;\n        {\n            {\"bootstrap.servers\", \"localhost:9092\" }\n        };\n\n        using (var producer = new Producer&lt;Null, string&gt;(config, null, new StringSerializer(Encoding.UTF8)))\n        {\n             var m = producer.ProduceAsync(topic, null, msg).Result;\n        }\n    }\n}\n</code></pre>\n\n<p>My question is - how to write a consumer that will raise on button click and receive latest posted message from Kafka and save it to a txt file somewhere on local disk? This is what I wrote for now:</p>\n\n<pre><code>public class Consumer\n{\n    public void Consume(string topic)\n    {\n        var config = new Dictionary&lt;string, object&gt;\n        {\n            {\"group.id\", \"consumer-latest-msg\" },\n            {\"bootstrap.servers\", \"localhost:9092\" },\n            {\"auto.commit.interval.ms\", 5000 },\n            {\"auto.offset.reset\", \"latest\" }\n        };\n\n        using (var consumer = new Consumer&lt;Null, string&gt;(config, null, new StringDeserializer(Encoding.UTF8)))\n        {\n                //what to do?\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "nullable", "system.reflection", "datareader"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1528908565, "post_id": 50842262, "comment_id": 88688330, "body": "Does <code>(val1 == DBNull.Value) ? null : (int?)val1</code> work as your ternary? val1&#39;s type is Int16 and not nullable, so it doesn&#39;t match the type expectation set by returning null in the first expression."}, {"owner": {"reputation": 1145, "user_id": 1567913, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0bb132e811344710d000d06e7818a790?s=128&d=identicon&r=PG", "display_name": "Priya", "link": "https://stackoverflow.com/users/1567913/priya"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1528908693, "post_id": 50842262, "comment_id": 88688396, "body": "Yes its ternary. I am facing this issue only when type is int?, otherwise its working with decimal?, datetime?."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1528909223, "post_id": 50842262, "comment_id": 88688667, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/75746/conditional-operator-assignment-with-nullablevalue-types\">Conditional operator assignment with Nullable&lt;value&gt; types?</a>"}, {"owner": {"reputation": 283, "user_id": 2782405, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/d96703c23e4257e37eec50ad39904c44?s=128&d=identicon&r=PG&f=1", "display_name": "user2782405", "link": "https://stackoverflow.com/users/2782405/user2782405"}, "edited": false, "score": 0, "creation_date": 1563575180, "post_id": 50842262, "comment_id": 100758688, "body": "@Priya: How did you solve this issue? All types use the same method in my case as well"}, {"owner": {"reputation": 1145, "user_id": 1567913, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0bb132e811344710d000d06e7818a790?s=128&d=identicon&r=PG", "display_name": "Priya", "link": "https://stackoverflow.com/users/1567913/priya"}, "reply_to_user": {"reputation": 283, "user_id": 2782405, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/d96703c23e4257e37eec50ad39904c44?s=128&d=identicon&r=PG&f=1", "display_name": "user2782405", "link": "https://stackoverflow.com/users/2782405/user2782405"}, "edited": false, "score": 0, "creation_date": 1569490216, "post_id": 50842262, "comment_id": 102616961, "body": "Hello @user2782405. It was issue with datatype. Since I am using reflection here, I need to specify the same datatype that is reader is returning from database. In database it was smallint and I was trying to convert it in int. so there it was failing."}], "answers": [{"comments": [{"owner": {"reputation": 1145, "user_id": 1567913, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0bb132e811344710d000d06e7818a790?s=128&d=identicon&r=PG", "display_name": "Priya", "link": "https://stackoverflow.com/users/1567913/priya"}, "edited": false, "score": 0, "creation_date": 1528908373, "post_id": 50842338, "comment_id": 88688231, "body": "It gives another error :System.InvalidCastException: &#39;Invalid cast from &#39;System.Int16&#39; to &#39;System.Nullable`1[[System.Int32,...]]"}, {"owner": {"reputation": 1145, "user_id": 1567913, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0bb132e811344710d000d06e7818a790?s=128&d=identicon&r=PG", "display_name": "Priya", "link": "https://stackoverflow.com/users/1567913/priya"}, "edited": false, "score": 0, "creation_date": 1528908542, "post_id": 50842338, "comment_id": 88688317, "body": "System.InvalidCastException: &#39;Invalid cast from &#39;System.Int16&#39; to &#39;System.Nullable`1[[System.Int32, ]]"}], "tags": [], "owner": {"reputation": 22598, "user_id": 2910943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/YaPew.jpg?s=128&g=1", "display_name": "Backs", "link": "https://stackoverflow.com/users/2910943/backs"}, "is_accepted": false, "score": 0, "last_activity_date": 1528908214, "creation_date": 1528908214, "answer_id": 50842338, "question_id": 50842262, "link": "https://stackoverflow.com/questions/50842262/object-of-type-system-int16-cannot-be-converted-to-type-system-nullable1sys/50842338#50842338", "title": "Object of type &#39;System.Int16&#39; cannot be converted to type &#39;System.Nullable`1[System.Int32]", "body": "<p>Try to change type:</p>\n\n<pre><code>var val1 = datareader.GetValue(index);    \nvar convertedValue = (val1 == DBNull.Value) ? null : Convert.ChangeType(val1, info.PropertyType);                            \ninfo.SetValue(myobj, convertedValue, null);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1145, "user_id": 1567913, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0bb132e811344710d000d06e7818a790?s=128&d=identicon&r=PG", "display_name": "Priya", "link": "https://stackoverflow.com/users/1567913/priya"}, "edited": false, "score": 0, "creation_date": 1528910554, "post_id": 50842879, "comment_id": 88689407, "body": "but I can not directly use (int?) to convert it into Integer. This method is being commonly used for all types like string, int, decimal, date, double etc. I am facing issue only with int."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "reply_to_user": {"reputation": 1145, "user_id": 1567913, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0bb132e811344710d000d06e7818a790?s=128&d=identicon&r=PG", "display_name": "Priya", "link": "https://stackoverflow.com/users/1567913/priya"}, "edited": false, "score": 0, "creation_date": 1528911369, "post_id": 50842879, "comment_id": 88689822, "body": "This is exactly why I don&#39;t agree with this code.  It&#39;s not usable in a variety of ways but the answer was just to clarify your problem and fix that error. I believe what you need, IMO, is to back up and rethink the process a little and I mean this friendly I promise.  I don&#39;t doubt your skills so don&#39;t take it as a blow.  I just feel that what you want to do and what you&#39;re doing isn&#39;t inline with each other.  This code assumes too much and doesn&#39;t consider the generic behavior you&#39;ve intended.  You&#39;re doing good though, please don&#39;t read this in disgust, I just answered the specific question"}, {"owner": {"reputation": 1145, "user_id": 1567913, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0bb132e811344710d000d06e7818a790?s=128&d=identicon&r=PG", "display_name": "Priya", "link": "https://stackoverflow.com/users/1567913/priya"}, "edited": false, "score": 1, "creation_date": 1528911835, "post_id": 50842879, "comment_id": 88690065, "body": "@Michale, no no I will not take your suggestion in negative way. I will surely rethink over the taken approach to make it more efficient. :)"}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "reply_to_user": {"reputation": 1145, "user_id": 1567913, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0bb132e811344710d000d06e7818a790?s=128&d=identicon&r=PG", "display_name": "Priya", "link": "https://stackoverflow.com/users/1567913/priya"}, "edited": false, "score": 0, "creation_date": 1528911880, "post_id": 50842879, "comment_id": 88690088, "body": "Thanks man.  I certainly mean the best and I&#39;m glad you&#39;re not upset."}], "tags": [], "owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "is_accepted": false, "score": 1, "last_activity_date": 1528910219, "creation_date": 1528910219, "answer_id": 50842879, "question_id": 50842262, "link": "https://stackoverflow.com/questions/50842262/object-of-type-system-int16-cannot-be-converted-to-type-system-nullable1sys/50842879#50842879", "title": "Object of type &#39;System.Int16&#39; cannot be converted to type &#39;System.Nullable`1[System.Int32]", "body": "<p>I don't agree with this code for many reasons but to solve your current problem and answer your question it's because you can't explicitly convert <code>Int16</code> to <code>Int32</code> nor to <code>Nullable&lt;Int32&gt;</code> or <code>int?</code>.</p>\n\n<p>To make this happen you need to first convert the value to <code>Int32</code> then to <code>Nullable&lt;Int3&gt;</code>.</p>\n\n<p>There are better ways but to make it clear what's going on and to fix this one error here you go...</p>\n\n<pre><code>info.SetValue(myobj, val1 == DBNull.Value ? null : (int?)Convert.ToInt32(val1), null);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1145, "user_id": 1567913, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0bb132e811344710d000d06e7818a790?s=128&d=identicon&r=PG", "display_name": "Priya", "link": "https://stackoverflow.com/users/1567913/priya"}, "edited": false, "score": 0, "creation_date": 1528910652, "post_id": 50842953, "comment_id": 88689457, "body": "Can you suggest any generic solution? Because this method is called and executed for each and every column in datareader"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "reply_to_user": {"reputation": 1145, "user_id": 1567913, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0bb132e811344710d000d06e7818a790?s=128&d=identicon&r=PG", "display_name": "Priya", "link": "https://stackoverflow.com/users/1567913/priya"}, "edited": false, "score": 0, "creation_date": 1528911089, "post_id": 50842953, "comment_id": 88689687, "body": "@Priya I can&#39;t think of a good generic approach to this. You&#39;re going to have to write some type-specifc code to handle type-specific conversion."}, {"owner": {"reputation": 1145, "user_id": 1567913, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0bb132e811344710d000d06e7818a790?s=128&d=identicon&r=PG", "display_name": "Priya", "link": "https://stackoverflow.com/users/1567913/priya"}, "edited": false, "score": 0, "creation_date": 1528911999, "post_id": 50842953, "comment_id": 88690153, "body": "One strange thing I tried and it worked. Instead of simple int?, if I use Int16?, i.e. public Int16? StudentNumber { get; set; } , it works without exception. Why so!"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "reply_to_user": {"reputation": 1145, "user_id": 1567913, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0bb132e811344710d000d06e7818a790?s=128&d=identicon&r=PG", "display_name": "Priya", "link": "https://stackoverflow.com/users/1567913/priya"}, "edited": false, "score": 0, "creation_date": 1528912168, "post_id": 50842953, "comment_id": 88690227, "body": "@Priya For the reasons I outlined above. You <i>can</i> cast from a boxed <code>Int16</code> to <code>Int16?</code>. You <i>cannot</i> cast from a boxed <code>Int16</code> to <code>Int32</code> or <code>Int32?</code>, and will have to use a <code>Convert.ToInt32</code> call."}, {"owner": {"reputation": 1145, "user_id": 1567913, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0bb132e811344710d000d06e7818a790?s=128&d=identicon&r=PG", "display_name": "Priya", "link": "https://stackoverflow.com/users/1567913/priya"}, "edited": false, "score": 0, "creation_date": 1528912408, "post_id": 50842953, "comment_id": 88690345, "body": "Okay, okay! Thanks for explaining this! :) I will have to make some changes in my code then."}], "tags": [], "owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "is_accepted": false, "score": 1, "last_activity_date": 1529007772, "last_edit_date": 1529007772, "creation_date": 1528910524, "answer_id": 50842953, "question_id": 50842262, "link": "https://stackoverflow.com/questions/50842262/object-of-type-system-int16-cannot-be-converted-to-type-system-nullable1sys/50842953#50842953", "title": "Object of type &#39;System.Int16&#39; cannot be converted to type &#39;System.Nullable`1[System.Int32]", "body": "<p>The problem that you're having here is that, while you can cast a <code>short</code> to an <code>int</code>, you can't cast a boxed <code>short</code> to an <code>int</code> directly. ie, </p>\n\n<pre><code>object box = (short)5;\nvar x = (int?)box; // Invalid cast.\nvar y = (int?)(short?)box; // fine, we cast to short and then to int.\n</code></pre>\n\n<p>You could change the property type of your class to <code>short?</code>, or you could check if your property's type is <code>Nullable&lt;int32&gt;</code> and use <code>Convert.ToInt32</code> on the value under that situation.</p>\n"}], "owner": {"reputation": 1145, "user_id": 1567913, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0bb132e811344710d000d06e7818a790?s=128&d=identicon&r=PG", "display_name": "Priya", "link": "https://stackoverflow.com/users/1567913/priya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4074, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1529007772, "creation_date": 1528907903, "last_edit_date": 1528911078, "question_id": 50842262, "link": "https://stackoverflow.com/questions/50842262/object-of-type-system-int16-cannot-be-converted-to-type-system-nullable1sys", "title": "Object of type &#39;System.Int16&#39; cannot be converted to type &#39;System.Nullable`1[System.Int32]", "body": "<p>I've a method that generates list of class type from data of data reader.</p>\n\n<pre><code>   if (datareader != null &amp;&amp; datareader .HasRows)\n   {\n\n                Dictionary&lt;string, PropertyInfo&gt; pDict= GetPropertyDictionary&lt;T&gt;();\n                var fields = GetFieldNames(datareader );\n                while (datareader .Read())\n                {\n                    T myobj= new T();\n                    for (int index = 0; index &lt; fields.Count; index++)\n                    {                        \n                        if (pDict.TryGetValue(fields[index], out PropertyInfo info))\n                        {\n\n                                var val1 = datareader .GetValue(index);                                \n                                info.SetValue(myobj, (val1 == DBNull.Value) ? null : val1, null);\n\n                        }\n                    }\n\n                }\n\n            }\n</code></pre>\n\n<p>I have class properties, some of them are nullable.</p>\n\n<pre><code>public string StudentName{ get; set; }\npublic decimal? percentage{ get; set; }\npublic int? StudentNumber{ get; set; }\n</code></pre>\n\n<p>Code works properly for all properties except StudentNumber which is int.</p>\n\n<p>In above code following line throws exeption <strong>Object of type 'System.Int16' cannot be converted to type 'System.Nullable`1[System.Int32]</strong> :</p>\n\n<blockquote>\n  <p>info.SetValue(myobj, (val1 == DBNull.Value) ? null : val1, null);</p>\n</blockquote>\n\n<p>What can be done to solve this issue?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "linq", ".net-core"], "comments": [{"owner": {"reputation": 22598, "user_id": 2910943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/YaPew.jpg?s=128&g=1", "display_name": "Backs", "link": "https://stackoverflow.com/users/2910943/backs"}, "edited": false, "score": 0, "creation_date": 1528908010, "post_id": 50842261, "comment_id": 88688051, "body": "C# does not know, how to compare two lists for goupping. You must to write custom comparasion function for two lists"}, {"owner": {"reputation": 116, "user_id": 6448599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TQvPJ.jpg?s=128&g=1", "display_name": "Emo333", "link": "https://stackoverflow.com/users/6448599/emo333"}, "reply_to_user": {"reputation": 22598, "user_id": 2910943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/YaPew.jpg?s=128&g=1", "display_name": "Backs", "link": "https://stackoverflow.com/users/2910943/backs"}, "edited": false, "score": 0, "creation_date": 1528908145, "post_id": 50842261, "comment_id": 88688117, "body": "I am not comparing two lists.  This is a list inside a list."}, {"owner": {"reputation": 22598, "user_id": 2910943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/YaPew.jpg?s=128&g=1", "display_name": "Backs", "link": "https://stackoverflow.com/users/2910943/backs"}, "edited": false, "score": 1, "creation_date": 1528908377, "post_id": 50842261, "comment_id": 88688235, "body": "<code>GroupBy</code> need some function to compare objects. For default types (ints, strings) it use default comparison. But complex types like <code>List&lt;T&gt;</code> need custom. Read more about <code>GroupBy</code> method"}, {"owner": {"reputation": 116, "user_id": 6448599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TQvPJ.jpg?s=128&g=1", "display_name": "Emo333", "link": "https://stackoverflow.com/users/6448599/emo333"}, "reply_to_user": {"reputation": 22598, "user_id": 2910943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/YaPew.jpg?s=128&g=1", "display_name": "Backs", "link": "https://stackoverflow.com/users/2910943/backs"}, "edited": false, "score": 0, "creation_date": 1528911301, "post_id": 50842261, "comment_id": 88689783, "body": "@Backs That was the ticket.  Thank you for pointing me to looking at the IEqualityComparer&lt;&gt;!  I found this <a href=\"https://stackoverflow.com/a/35129285/6448599\">link</a> after you helped me narrow down my search.  Please answer so I can give you credit and thank you!"}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 0, "creation_date": 1528920174, "post_id": 50842261, "comment_id": 88694218, "body": "@Emo333 Your implementation of <code>IEqualityComparer&lt;T&gt;</code> with <code>SequenceEquals</code> call requires identical sequence in addition to having identical content. This may be problematic, depending on your requirements. Also your hash code method is sub-optimal, because <code>^</code> may lead to &quot;false positives.&quot; A better implementation uses a small prime and multiplication, like this: <code>Aggregate(0, (a, y) =&gt; 31*a + y.GetHashCode());</code> Finally, note that you need to implement <code>HashCode</code> and <code>Equals</code> in your <code>DayFunction</code> class."}], "answers": [{"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1528909132, "creation_date": 1528909132, "answer_id": 50842584, "question_id": 50842261, "link": "https://stackoverflow.com/questions/50842261/groupby-not-grouping-correctly-on-listt-property/50842584#50842584", "title": "GroupBy() not grouping correctly on List&lt;T&gt; property", "body": "<p>When you include a list property in <code>GroupBy</code> you end up with list comparisons deep inside <code>GroupBy</code> implementation, which is usually not what you want.</p>\n\n<p>You could solve this <a href=\"https://stackoverflow.com/q/49875428/335858\">by implementing a custom <code>IEqualityComparer</code></a>, but then you would have to define a named type for the group key, because <code>IEqualityComparer</code> cannot be defined for an anonymous type. Another approach is to group by a composite <code>string</code> key, like this:</p>\n\n<pre><code>.GroupBy(sd =&gt; new {\n    sd.Shift.Id\n,   string.Join(\n        \"|\"\n    ,   sd.DayFunctions\n            .OrderBy(f =&gt; f.ScheduleDayId).ThenBy(f =&gt; f.FunctionId)\n            .Select(f =&gt; $\"{f.ScheduleDayId}:{f.FunctionId}\")\n    )\n})\n</code></pre>\n"}], "owner": {"reputation": 116, "user_id": 6448599, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TQvPJ.jpg?s=128&g=1", "display_name": "Emo333", "link": "https://stackoverflow.com/users/6448599/emo333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "closed_date": 1528912570, "accepted_answer_id": 50842584, "answer_count": 1, "score": 1, "last_activity_date": 1528912424, "creation_date": 1528907895, "last_edit_date": 1528912424, "question_id": 50842261, "link": "https://stackoverflow.com/questions/50842261/groupby-not-grouping-correctly-on-listt-property", "closed_reason": "Duplicate", "title": "GroupBy() not grouping correctly on List&lt;T&gt; property", "body": "<p>I am trying to conditioanlly show a \"week list\"(each day of a week) either showing all 5 days(Mon-Fri), or a single \"list item\"(single list item represnting all days of week) based on if all items are the same for each day (with exception of key(s)).  The following works until I add the \"DayFunctions\"(a list) as an item of the \"week list\". Is there something different that needs to be done when Grouping with a List property?</p>\n\n<p>I have not been able to find anything in SO or even googling (for days) that addresses this specific Grouping issue.</p>\n\n<p><strong><em>UPDATED with Custom Comparer</em></strong></p>\n\n<pre><code>//POCO\npublic class ScheduleWeek : IScheduleWeek\n{\n    public int Id { get; set; }\n    public int Yr { get; set; }\n    public int WeekNo { get; set; }\n    public List&lt;ScheduleDay&gt; ScheduleDays { get; set; }\n}\n\n\n// POCO\npublic class ScheduleDay : IScheduleDay\n{\n    public int Id { get; set; }\n    public int ScheduleWeekId { get; set; }\n    public string EmpId { get; set; }\n    public DateTime ScheduleDayDt { get; set; }\n    public Shift Shift { get; set; }\n    public Station Station { get; set; }\n    public List&lt;DayFunction&gt; DayFunctions { get; set; }\n}\n\n// POCO\npublic class DayFunction\n{\n    public int ScheduleDayId { get; set; }\n    public int FunctionId { get; set; }\n}\n\n\n// HELPER METHOD\npublic async Task&lt;List&lt;ScheduleDay&gt;&gt; GetScheduleDaysWithDayFunctions(int stationId, \n                                                                        string empId, \n                                                                        int scheduleWeekId)\n{\n    var sdlist = await _ctx.ScheduleDays\n        .Where(sd =&gt; sd.ScheduleDayDt.DayOfWeek != DayOfWeek.Sunday &amp;&amp;\n                        sd.ScheduleDayDt.DayOfWeek != DayOfWeek.Saturday &amp;&amp;\n                        sd.Station.Id == stationId &amp;&amp;\n                        sd.EmpId == empId &amp;&amp;\n                        sd.ScheduleWeekId == scheduleWeekId)\n        .Include(d =&gt; d.DayFunctions)\n        .ToListAsync();\n\n    return sdlist;\n}\n\n// HELPER METHOD\n//  ** ADDED CUSTOM COMPARER\npublic class ScheduleDayComparer : IEqualityComparer&lt;ScheduleDay&gt;\n{\n    public bool Equals(ScheduleDay x, ScheduleDay y)\n    {\n        return x.Id == y.Id &amp;&amp; x.DayFunctions\n                    .SequenceEqual(y.DayFunctions);\n    }\n\n    public int GetHashCode(ScheduleDay x)\n    {\n        return x.Id.GetHashCode() ^ x.DayFunctions\n                    .Aggregate(0, (a, y) =&gt; a ^ y.GetHashCode());\n    }\n}\n\n// MODEL FOR VIEW\npublic class ScheduleWeekViewModel\n{\n    public ScheduleWeek ScheduleWeek { get; set; }\n    public ScheduleHelpers ScheduleHelpers { get; set; }\n}\n\n\n// MVC VIEW\n@{\n    var scheduleDayComparer = new ScheduleHelpers.ScheduleDayComparer(); // &lt;-- ADDED        \n    var scheduledays = Model.ScheduleHelpers\n        .GetScheduleDaysWithDayFunctions(station.Id,\n            employee.Id.ToString(),\n            Model.ScheduleWeek.Id).Result\n        .GroupBy(x =&gt; x, scheduleDayComparer) // &lt;-- ADDED\n            .Select(g =&gt; g.First())           // &lt;-- ADDED\n            .ToList();                        // &lt;-- ADDED\n        //.GroupBy(sd =&gt; new\n        //    {\n        //        sd.Shift.Id,\n        //        sd.DayFunctions // &lt;-- this causes the grouping to break\n        //    })\n        //.Select(g =&gt; g.First());\n}\n&lt;table&gt;\n    @foreach (var scheduleday in scheduledays)\n    {\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;text&gt;SHIFT: @scheduleday.Shift.Name &lt;/text&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                @foreach (var df in scheduleday.DayFunctions)\n                    {\n                        &lt;text&gt;DAY FUNCTIONS: @df.FunctionId &lt;/text&gt;\n                    }   \n            &lt;/td&gt;\n        &lt;/tr&gt;\n    }\n&lt;/table&gt;\n\n//  CONTROLLER ACTION\npublic async Task&lt;IActionResult&gt; LocationScheduler()\n{\n    var vm = new ScheduleWeekViewModel{};\n    var user = await _userManager.GetUserAsync(User);\n    vm.Employees = await _tcomsHelpers.GetEmployeesOfSupervisor(user);\n    vm.ScheduleDays = await _scheduleHelpers.GetScheduleWeekDaysForScheduler(vm.Employees);\n    vm.ScheduleWeek = await _scheduleHelpers.GetCurrentScheduleWeek();\n    vm.ScheduleHelpers = _scheduleHelpers;\n    return View(vm);\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "caching", "singleton"], "comments": [{"owner": {"reputation": 22598, "user_id": 2910943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/YaPew.jpg?s=128&g=1", "display_name": "Backs", "link": "https://stackoverflow.com/users/2910943/backs"}, "edited": false, "score": 0, "creation_date": 1528907725, "post_id": 50842185, "comment_id": 88687900, "body": "What is <code>InMemoryCacheService</code> and how it works?"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1528908008, "post_id": 50842185, "comment_id": 88688049, "body": "What makes you think it&#39;s being created multiple times? The code above looks fine."}, {"owner": {"reputation": 2645, "user_id": 710275, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7b62ccbad906bd1b83743810f94b7f44?s=128&d=identicon&r=PG&f=1", "display_name": "Adolfo Perez", "link": "https://stackoverflow.com/users/710275/adolfo-perez"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1528908087, "post_id": 50842185, "comment_id": 88688082, "body": "@DavidG as you can see in the Singleton constructor I added a Log message. When I run my report twice or three times I see a message saying that another instance was created, and I can see it because my cached data is cleared"}, {"owner": {"reputation": 2645, "user_id": 710275, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7b62ccbad906bd1b83743810f94b7f44?s=128&d=identicon&r=PG&f=1", "display_name": "Adolfo Perez", "link": "https://stackoverflow.com/users/710275/adolfo-perez"}, "reply_to_user": {"reputation": 22598, "user_id": 2910943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/YaPew.jpg?s=128&g=1", "display_name": "Backs", "link": "https://stackoverflow.com/users/2910943/backs"}, "edited": false, "score": 0, "creation_date": 1528908118, "post_id": 50842185, "comment_id": 88688100, "body": "@Backs I added a simplified version of my <code>InMemoryCacheService</code> class to my original post"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1528908121, "post_id": 50842185, "comment_id": 88688103, "body": "Is your MVC app restarting/recycling?"}, {"owner": {"reputation": 2645, "user_id": 710275, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7b62ccbad906bd1b83743810f94b7f44?s=128&d=identicon&r=PG&f=1", "display_name": "Adolfo Perez", "link": "https://stackoverflow.com/users/710275/adolfo-perez"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1528908446, "post_id": 50842185, "comment_id": 88688261, "body": "@DavidG I don&#39;t see any app pool restarting/recycling in the eventviewer in the server for my app pool in the last hours which is when my issue happened."}, {"owner": {"reputation": 22598, "user_id": 2910943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/YaPew.jpg?s=128&g=1", "display_name": "Backs", "link": "https://stackoverflow.com/users/2910943/backs"}, "edited": false, "score": 0, "creation_date": 1528908461, "post_id": 50842185, "comment_id": 88688273, "body": "omg, <code>InMemoryCacheService</code> is really too complicated"}, {"owner": {"reputation": 2645, "user_id": 710275, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7b62ccbad906bd1b83743810f94b7f44?s=128&d=identicon&r=PG&f=1", "display_name": "Adolfo Perez", "link": "https://stackoverflow.com/users/710275/adolfo-perez"}, "reply_to_user": {"reputation": 22598, "user_id": 2910943, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/YaPew.jpg?s=128&g=1", "display_name": "Backs", "link": "https://stackoverflow.com/users/2910943/backs"}, "edited": false, "score": 0, "creation_date": 1528908533, "post_id": 50842185, "comment_id": 88688310, "body": "@Backs Without caching my report takes 35 minutes calling TFS server over and over. I needed to cache complex objects. If you have other suggestions I&#39;m all ears."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1528908848, "post_id": 50842185, "comment_id": 88688464, "body": "I&#39;m not a big fan of singletons, much prefer to let the DI container handle all that for me, is that a possibility for you? Do you use something like Autofac?"}, {"owner": {"reputation": 2645, "user_id": 710275, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7b62ccbad906bd1b83743810f94b7f44?s=128&d=identicon&r=PG&f=1", "display_name": "Adolfo Perez", "link": "https://stackoverflow.com/users/710275/adolfo-perez"}, "edited": false, "score": 0, "creation_date": 1528909458, "post_id": 50842185, "comment_id": 88688811, "body": "Actually my initial approach was setting up my service using LightInject with a PerContainerLifetime but same results... Multiple instances created"}], "owner": {"reputation": 2645, "user_id": 710275, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/7b62ccbad906bd1b83743810f94b7f44?s=128&d=identicon&r=PG&f=1", "display_name": "Adolfo Perez", "link": "https://stackoverflow.com/users/710275/adolfo-perez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1528907777, "creation_date": 1528907585, "last_edit_date": 1528907777, "question_id": 50842185, "link": "https://stackoverflow.com/questions/50842185/multiple-singleton-instances-created-in-asp-net-mvc-application", "title": "Multiple singleton instances created in ASP.NET MVC application", "body": "<p>I have an ASP.NET MVC 5 application which uses LightInject as DI container and I have a Service class which lives in another class library within my VS Solution.</p>\n\n<pre><code>My Solution\n |____ASP.NET MVC Web App (async controller calls service method)\n |____Service Class Library\n    |____InMemoryCacheService (Singleton)\n</code></pre>\n\n<p>This service class refers to a <code>InMemoryCacheService</code> Singleton class I created following <a href=\"http://csharpindepth.com/Articles/General/Singleton.aspx\" rel=\"nofollow noreferrer\">Jon Skeet's preferred singleton pattern</a> approach (Simplified version):</p>\n\n<pre><code>public sealed class InMemoryCacheService\n{\nprivate static readonly InMemoryCacheService _singleton = new InMemoryCacheService();\n\n// A private constructor to restrict the object creation from outside\nstatic InMemoryCacheService()\n{\n}\n\nprivate InMemoryCacheService()\n{\n    Log.Info(\"New In Memory Cache Service instance created!\");\n}\n\npublic static InMemoryCacheService Instance\n{\n    get\n    {\n        return _singleton;\n    }\n}\n\npublic Dictionary&lt;string, ConcurrentDictionary&lt;string, Changeset&gt;&gt; ChangesetCacheDictionary\n{\n    get { return _changesetCacheDictionary; }\n    set { _changesetCacheDictionary = value; }\n}\n\n\npublic string GetChangesetCacheKey(string releaseWorkItemId)\n{\n    return $\"{releaseWorkItemId}_{CHANGESET_CACHE}\";\n}\n\n\npublic T GetOrSet&lt;T&gt;(string cacheKey, TimeSpan duration) where T : class\n{\n    var item = MemoryCache.Default.Get(cacheKey) as T;\n    if (item == null)\n    {\n        lock (CacheLockObject)\n        {\n            item = GetItemFromCacheType&lt;T&gt;(cacheKey);\n            MemoryCache.Default.Add(cacheKey, item, DateTime.Now.Add(duration));\n        }\n    }\n\n    return item;\n}\n\nprivate T GetItemFromCacheType&lt;T&gt;(string cacheKey) where T : class\n{\n    T result = null;\n    var tokens = cacheKey.Split('_');\n    var releaseWorkItemId = tokens[0];\n    var cacheType = tokens[1];\n    switch (cacheType)\n    {\n        case CHANGESET_CACHE:\n            result = GetChangesetitItem&lt;T&gt;(releaseWorkItemId);\n            break;\n    }\n\n    return result;\n}\n\nprivate T GetChangesetitItem&lt;T&gt;(string releaseWorkItemId) where T : class\n{\n    T result = null;\n    if (ChangesetCacheDictionary == null)\n    {\n        ChangesetCacheDictionary = new Dictionary&lt;string, ConcurrentDictionary&lt;string, Changeset&gt;&gt;()\n            {\n                { releaseWorkItemId,new ConcurrentDictionary&lt;string, Changeset&gt;() }\n            };\n    }\n    else if (!ChangesetCacheDictionary.ContainsKey(releaseWorkItemId))\n    {\n        ChangesetCacheDictionary.Add(releaseWorkItemId, new ConcurrentDictionary&lt;string, Changeset&gt;());\n    }\n    result = ChangesetCacheDictionary[releaseWorkItemId] as T;\n    return result;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The problem I have is that while debugging I noticed that <strong>multiple instances of my Singleton class are being created</strong>! My singleton instance is referred from an async Controller Method To Generate a Report which calls my Service and Service uses the Singleton in Parallel async tasks. </p>\n\n<p>The first time I run my report it initializes the Singleton and populates cache as expected. But second or third time I run the report it creates a new instance. This doesn't seem to happen when I run my webapp in my laptop, I only see it in my sandbox server. Any ideas of what could be wrong? My understanding was that my Singleton would be created only once.</p>\n\n<p>Here is an example of how my service consumes the Singleton <code>InMemoryCacheService</code>:</p>\n\n<pre><code>GitCommitCache = InMemoryCacheService.Instance.GetOrSet&lt;ConcurrentDictionary&lt;string,GitCommit&gt;&gt;(gitCommitCacheKey,new TimeSpan(1, 0, 0, 0));\n</code></pre>\n"}, {"tags": ["c#", "charts", "data-visualization", "derivative"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9333956, "user_type": "registered", "profile_image": "https://graph.facebook.com/1797832753574630/picture?type=large", "display_name": "William Thoi", "link": "https://stackoverflow.com/users/9333956/william-thoi"}, "edited": false, "score": 0, "creation_date": 1528985832, "post_id": 50843389, "comment_id": 88721885, "body": "Thanks! This was really helpful"}], "tags": [], "owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "is_accepted": true, "score": 1, "last_activity_date": 1528915172, "last_edit_date": 1528915172, "creation_date": 1528912376, "answer_id": 50843389, "question_id": 50842158, "link": "https://stackoverflow.com/questions/50842158/chart-series-first-derivative/50843389#50843389", "title": "Chart Series First Derivative", "body": "<p>There are <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.datavisualization.charting.statisticformula(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Statistical Formulas</a> built-in but none for derivatives.  Not even in the other function class, the <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.datavisualization.charting.financialformula(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Financial Formulas</a></p>\n\n<p>So you have to calculate them yourself.</p>\n\n<p>For a given <code>Series s0</code> the 1st derivative can be calculated from differences:</p>\n\n<pre><code>for (int i = 1; i &lt; s0.Points.Count; i++)\n{\n    s1.Points.AddXY(s0.Points[i].XValue, (s0.Points[i].YValues[0] - \n                                          s0.Points[i-1].YValues[0]) / scale);\n}\n</code></pre>\n\n<p>This simple test..:</p>\n\n<pre><code>double scale = 100;\nfor (int i = 0; i &lt; 1000; i++)\n{\n    s0.Points.AddXY(i, Math.Sin(i / scale)); \n}\n</code></pre>\n\n<p>results, as expected..:</p>\n\n<p><a href=\"https://i.stack.imgur.com/I7l5q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I7l5q.png\" alt=\"enter image description here\"></a></p>\n\n<p>If the x-values are not so evenly spaced you should calculate the full difference quotient by diving by the individual steps:</p>\n\n<pre><code>double step = s0.Points[i].XValue -  s0.Points[i-1].XValue;\n</code></pre>\n\n<p>Also: The above is a slight simplification. For better precision one ought to use x-step/2 and x+step/2 as x-values with the respective interpolated y-values. And omit both first and last point in s2..</p>\n"}], "owner": {"reputation": 55, "user_id": 9333956, "user_type": "registered", "profile_image": "https://graph.facebook.com/1797832753574630/picture?type=large", "display_name": "William Thoi", "link": "https://stackoverflow.com/users/9333956/william-thoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 50843389, "answer_count": 1, "score": 0, "last_activity_date": 1528915172, "creation_date": 1528907480, "last_edit_date": 1528907797, "question_id": 50842158, "link": "https://stackoverflow.com/questions/50842158/chart-series-first-derivative", "title": "Chart Series First Derivative", "body": "<p>I am plotting a chart using <code>System.Windows.Forms.DataVisualization.Charting</code> I've populated the series with a bunch of x and y points and I want to be able to plot the derivative as well. Does anyone know of a simple way to do so? </p>\n\n<p>Alternatively, if there was a way to get the corresponding function of the set of xy points that would be helpful too.</p>\n\n<p>Thank you.</p>\n\n<p>Series Population:</p>\n\n<pre><code>chart_TitrationData.ChartAreas[0].AxisX.Title = \"Volume (mL)\";\nchart_TitrationData.ChartAreas[0].AxisY.Title = \"pH\";\nchart_TitrationData.Series.Add(_SelectedTitration.TitrationID);        \nchart_TitrationData.Series[_SelectedTitration.TitrationID].ChartType = SeriesChartType.Spline;          \nchart_TitrationData.Series[_SelectedTitration.TitrationID].MarkerStyle = MarkerStyle.Circle;              \nchart_TitrationData.Series[_SelectedTitration.TitrationID].XValueType = ChartValueType.Double;           \nchart_TitrationData.Series[_SelectedTitration.TitrationID].YValueType = ChartValueType.Double;         \nchart_TitrationData.Series[_SelectedTitration.TitrationID].IsVisibleInLegend = true;\nforeach (var data in _SelectedTitration.TitrationData)\n{     \n    chart_TitrationData.Series[_SelectedTitration.TitrationID].Points.AddXY(data.XPoint, data.YPoint);\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "mvvm", "prism", "eventaggregator"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9909152, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lQxBmf3-QRA/AAAAAAAAAAI/AAAAAAAAAAA/_0YXzMWDR_I/photo.jpg?sz=128", "display_name": "Paul ", "link": "https://stackoverflow.com/users/9909152/paul"}, "edited": false, "score": 0, "creation_date": 1528910903, "post_id": 50842825, "comment_id": 88689598, "body": "Could you show me an example of how to implement only one class with IPropertyChanged, since I&#39;m not quite sure what you mean? Also, how do i avoid the switch statement to recognize which type of property is to be updated"}], "tags": [], "owner": {"reputation": 8866, "user_id": 5758420, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a47e2744f0e5b6f84407efd06dbee96f?s=128&d=identicon&r=PG&f=1", "display_name": "Haukinger", "link": "https://stackoverflow.com/users/5758420/haukinger"}, "is_accepted": true, "score": 0, "last_activity_date": 1528958592, "last_edit_date": 1528958592, "creation_date": 1528910007, "answer_id": 50842825, "question_id": 50842075, "link": "https://stackoverflow.com/questions/50842075/prism-wpf-event-aggregator-event-class-alternative/50842825#50842825", "title": "Prism WPF Event Aggregator Event Class Alternative", "body": "<p>Instead of using the <code>EventAggregator</code>, your service can implement <code>IPropertyChanged</code> (and the models returned from the service can, depending on your scenario ). This way you have to react to just one event.</p>\n\n<p>Also, you could just publish a single event that carries the two string values, like <code>class ServerUpdatedEvent : PubSubEvent&lt;PropertyValuePair&gt;</code> and do the parsing and distributing\nto properties in the view model.</p>\n\n<p>Example:</p>\n\n<pre><code>    // ...service...\n    private void checkResponsability(ItemValueCallback itemValue)\n    {\n        _eventAggregator.GetEvent&lt;ServerUpdatedEvent&gt;().Publish(new PropertyValuePair((string)itemValue.ClientHandle,(string)itemValue.Value);\n    }\n\n    // ...view model or intermediate service...\n    private void OnServerUpdate(PropertyValuePair data)\n    {\n        switch (data.Property)\n        {\n            case \"Zone1_Temp\": Zone1Temp = int.Parse(data.Value); break;\n        }\n    }\n</code></pre>\n\n<p>If your properties can be named like the events or you put attributes on them, you can use reflection to find the property for an incoming event. Reflection is slow, though, so that if you have lots of events, you might need some type of caching.</p>\n\n<p>Something like <a href=\"https://stackoverflow.com/questions/38915353/update-viewmodel-based-on-mainwindow-event/38916743#38916743\">this</a> could work for you, too.</p>\n"}], "owner": {"reputation": 15, "user_id": 9909152, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lQxBmf3-QRA/AAAAAAAAAAI/AAAAAAAAAAA/_0YXzMWDR_I/photo.jpg?sz=128", "display_name": "Paul ", "link": "https://stackoverflow.com/users/9909152/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 638, "favorite_count": 1, "accepted_answer_id": 50842825, "answer_count": 1, "score": 1, "last_activity_date": 1528958592, "creation_date": 1528907244, "question_id": 50842075, "link": "https://stackoverflow.com/questions/50842075/prism-wpf-event-aggregator-event-class-alternative", "title": "Prism WPF Event Aggregator Event Class Alternative", "body": "<p>I am working on a project with over 30 properties that are constantly being updated using data binding. The way i'm fetching the new values sent by the server is with event aggregator, which updates the properties. So far, here's how I got it working</p>\n\n<p><strong>Event Class</strong></p>\n\n<pre><code>public class Zone1TempEvent : PubSubEvent&lt;int&gt;\n{           \n}\n</code></pre>\n\n<p><strong>Property</strong></p>\n\n<pre><code>private int _zone1Temp;\n\npublic int Zone1Temp\n{\n   get { return _zone1Temp; }\n   set { SetProperty(ref _zone1Temp, value); }     \n}\n</code></pre>\n\n<p><strong>Subscribe</strong></p>\n\n<pre><code>eventAggregator.GetEvent&lt;Zone1TempEvent&gt;().Subscribe(tempZone1Update);\n</code></pre>\n\n<p><strong>Method</strong></p>\n\n<pre><code>private void tempZone1Update(int value) { Zone1Temp = value; }\n</code></pre>\n\n<p><strong>Publish</strong></p>\n\n<pre><code> private void checkResponsability(ItemValueCallback itemValue)\n        {\n            switch ((string)itemValue.ClientHandle)\n            {\n                case \"Zone1_Temp\":\n                    int Zone1Temp = Int32.Parse((string)itemValue.Value);\n                    _eventAggregator.GetEvent&lt;Zone1TempEvent&gt;().Publish(Zone1Temp);\n                    break;\n            }\n        }\n</code></pre>\n\n<p>However, I can't imagine doing this 30 times. I am looking for an alternative. I would like to avoid having to create a class for each event, as well as a method for each property. Is it possible to have one generic class called UpdatePropertyEvent, and use this to do so.\nOr maybe do something inspired by this thread with enums? \n<a href=\"https://stackoverflow.com/questions/13848621/mixing-enums-with-event-classes-in-an-event-aggregator?rq=1\">Mixing enums with event classes in an event aggregator</a>\nThanks</p>\n"}, {"tags": ["c#", "arrays", "random", "count", "counter"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1528907924, "post_id": 50842059, "comment_id": 88688006, "body": "I would just shuffle the list of players and then iterate through the shuffled list, adding them to teams in <code>numPlayers &#47; numTeams</code> chunks."}], "answers": [{"tags": [], "owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "is_accepted": false, "score": 0, "last_activity_date": 1528909382, "last_edit_date": 1528909382, "creation_date": 1528908646, "answer_id": 50842452, "question_id": 50842059, "link": "https://stackoverflow.com/questions/50842059/how-to-share-random-numbers-out-evenly-in-c/50842452#50842452", "title": "How to share random numbers out evenly in C#", "body": "<p>I cannot figure your code but this should work.  </p>\n\n<pre><code>public static Random randomT = new Random();\npublic static List&lt;List&lt;string&gt;&gt; DivideTeams(string[] teams, int personCount)\n{\n    List&lt;List&lt;string&gt;&gt; divideTeams = new List&lt;List&lt;string&gt;&gt;();\n    if (teams.Length % personCount != 0)\n    {\n        throw new ArgumentOutOfRangeException();\n    }\n    //shuffle teams \n    for(int k = teams.Length -1; k &gt; 0; k--)\n    {\n        int trade = random.Next(k + 1);\n        string temp = teams[trade];\n        teams[trade] = teams[k];\n        teams[k] = temp;\n    }\n    for (int j = 0; j &lt; personCount; j++)\n    {\n        divideTeams.Add(new List&lt;string&gt;());\n        for (int i = 0; i &lt; teams.Length / personCount; i++)\n        {\n            divideTeams[j].Add(teams[i]);\n        }\n    }           \n    return divideTeams;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 0, "creation_date": 1528912895, "post_id": 50842849, "comment_id": 88690583, "body": "Glad you could figure out that code.  This is not as efficient as shuffle as it has to run extra loops when a player maxes out but for a small number of teams not a big deal."}], "tags": [], "owner": {"reputation": 538, "user_id": 345223, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/49ef10b2c8977cd34cb08ea0849dcfd4?s=128&d=identicon&r=PG", "display_name": "Harsh Shah", "link": "https://stackoverflow.com/users/345223/harsh-shah"}, "is_accepted": true, "score": 1, "last_activity_date": 1528910110, "creation_date": 1528910110, "answer_id": 50842849, "question_id": 50842059, "link": "https://stackoverflow.com/questions/50842059/how-to-share-random-numbers-out-evenly-in-c/50842849#50842849", "title": "How to share random numbers out evenly in C#", "body": "<p>One problem in your code is you are initializing counter inside the loop. Also what happens if the count[selection] > max? you leave the team and don't assign it to anyone else.</p>\n\n<p>Try the following code.</p>\n\n<pre><code>int numb = 4;\nint max = 32 / numb;\nint[] counter = new int[max];\nforeach (string value in wcteams)\n{\n    bool selectionComplete = false;\n    while(!selectionComplete)\n    {\n        int selection = random.Next(0, numb);\n        counter[selection] = counter[selection] + 1;\n\n        if (counter[selection] &lt;= max)\n        {\n            selectionComplete = true;\n            Console.WriteLine(selection + \" has drawn \" + value);\n        }  \n    }                      \n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9309203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0369c43bf67cf8edb0a24c26de8b7e7b?s=128&d=identicon&r=PG&f=1", "display_name": "Kris Bond", "link": "https://stackoverflow.com/users/9309203/kris-bond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 50842849, "answer_count": 2, "score": 0, "last_activity_date": 1528910110, "creation_date": 1528907179, "question_id": 50842059, "link": "https://stackoverflow.com/questions/50842059/how-to-share-random-numbers-out-evenly-in-c", "title": "How to share random numbers out evenly in C#", "body": "<p>I am looking at sharing out a fixed number of 32 teams between a varied number of people.</p>\n\n<p>Of course, 32 may not always be evenly divisible, but for the sake of this exercise, lets say I am looking to share the 32 teams between 4 people, so a maximum number of 8 teams per person.</p>\n\n<pre><code>int max = 32 / numb;\n\nforeach (string value in wcteams)\n{\n    //Assigning teams to players\n    int selection = random.Next(0, numb);\n\n    int[] counter = new int[max];\n    counter[selection] = counter[selection] + 1;\n\n    if (counter[selection] &lt; max)\n    {\n        Console.WriteLine(inputtedNames[selection] + \" has drawn \" + value);\n    }                    \n}\n</code></pre>\n\n<p>Right now, I can run that code and I will get a list back of randomly chosen people along with their team. But the limit will not be implemented and some players will end up with more teams than others.</p>\n\n<p>I understand that the following code:</p>\n\n<pre><code>counter[selection] = counter[selection] + 1;\n</code></pre>\n\n<p>Is not working to add up the number of teams that the user has received, am I on the right track here with how to tally up the number of times a player has been randomly selected or is there another method that I should be doing?</p>\n"}, {"tags": ["c#", "wcf", "iis", "logging", "application-pool"], "answers": [{"comments": [{"owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 0, "creation_date": 1528925660, "post_id": 50845612, "comment_id": 88696710, "body": "Just tried both settings, but no avail. I did happen to find a stack trace. I&#39;ll include it in the question. It&#39;s nested with multiple inner traces.. Odd."}, {"owner": {"reputation": 1209, "user_id": 3456812, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/04a8a4cc5cd269a7a100c8b64608449b?s=128&d=identicon&r=PG&f=1", "display_name": "markaaronky", "link": "https://stackoverflow.com/users/3456812/markaaronky"}, "reply_to_user": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 0, "creation_date": 1528991499, "post_id": 50845612, "comment_id": 88725433, "body": "I&#39;m sorry that wasn&#39;t of help Jimenemex; those were the only 5 minute default values I found.  Most of the common ones that trip people up are 1 minute, so I thought these were worth taking a stab at.  You may have already looked, but there are several SO posts that report your stack trace err when the client timeouts don&#39;t match the server&#39;s: <a href=\"https://stackoverflow.com/questions/14052218/connection-that-was-expected-to-be-kept-alive-was-closed-by-the-server-in-asp-ne\" title=\"connection that was expected to be kept alive was closed by the server in asp ne\">stackoverflow.com/questions/14052218/&hellip;</a>  <a href=\"https://stackoverflow.com/questions/48749480/the-underlying-connection-was-closed-a-connection-that-was-expected-to-be-kept\" title=\"the underlying connection was closed a connection that was expected to be kept\">stackoverflow.com/questions/48749480/&hellip;</a>"}, {"owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 0, "creation_date": 1547146840, "post_id": 50845612, "comment_id": 95102033, "body": "Although the problem was on the network security side of things, this answer is correct and would be it if the problem where on the IIS App pool end. Note to others: <i>Ask the right people</i>.."}], "tags": [], "owner": {"reputation": 1209, "user_id": 3456812, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/04a8a4cc5cd269a7a100c8b64608449b?s=128&d=identicon&r=PG&f=1", "display_name": "markaaronky", "link": "https://stackoverflow.com/users/3456812/markaaronky"}, "is_accepted": true, "score": 1, "last_activity_date": 1528921539, "last_edit_date": 1528921539, "creation_date": 1528921166, "answer_id": 50845612, "question_id": 50842005, "link": "https://stackoverflow.com/questions/50842005/iis-apppool-dropping-connection-to-wcf-service/50845612#50845612", "title": "IIS Apppool dropping connection to WCF service", "body": "<p>The five minute limit doesn't sound like any of the <a href=\"https://stackoverflow.com/questions/3037734/default-timeout-values-for-wcf-endpoints\">default timeouts</a></p>\n\n<p>so I took a look at the Advanced settings for app pools and looked for settings that default to 5 minutes and look possibly problematic.  I found a couple you might try.  You might want to take this approach:</p>\n\n<ol>\n<li>In IIS Manager, go to App Pools</li>\n<li>Find your app pool, right click, select Advanced Settings</li>\n<li>Scan the list of settings and look for the 5 minute settings and try selectively tuning by increasing the values (<strong>strongly suggest reading and learning what each does first</strong>)</li>\n</ol>\n\n<p>A couple of 5 minute settings that jump out at me are Limit Interval (minutes) under <strong>CPU</strong> and Failure Interval (minutes) under <strong>Rapid-Fail Protection</strong>.</p>\n\n<p>Can't guarantee this will be it but unless you are manually setting a default value to 5 minutes somewhere, this is a reasonable place to start looking for a 5 minute setting.  Change one setting at a time, restart the app pool, and test. Note that if you have a problem like an infinite loop in your code, obviously no timeout value is going to help :-(\nGood luck.</p>\n"}], "owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 668, "favorite_count": 0, "accepted_answer_id": 50845612, "answer_count": 1, "score": 2, "last_activity_date": 1528925843, "creation_date": 1528906968, "last_edit_date": 1528925843, "question_id": 50842005, "link": "https://stackoverflow.com/questions/50842005/iis-apppool-dropping-connection-to-wcf-service", "title": "IIS Apppool dropping connection to WCF service", "body": "<p>I'm encountering an app pool timing out on one request and it always times out around 5 minutes. I've enabled tracing, but no <code>Warning</code>, <code>Error</code>, <code>Critical</code> events are being logged. There are also no events in the <code>EventViewer</code>. I enabled <code>FailedReqLogging</code> and set it to log any requests over 4 minutes 30 sec. I've found the following in the <code>C:\\inetpub\\logs\\FailedReqLogFiles\\W3SVC2</code> directory:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZVQmG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZVQmG.png\" alt=\"Logs\"></a></p>\n\n<p>What IIS setting do I change to accomidate this request? By the <code>Failure Reason</code> it's listed as <code>TIME_TAKEN</code> so I'm guessing the <code>AppPool</code> exceeded some time limit. What is that limit?</p>\n\n<p>I also notice that the <code>Final Status</code> is listed at <code>200</code>. That would mean I wouldn't see anything in the logs for <code>Warning</code>, <code>Critical</code>, or <code>Fatal</code> because it was logged as <code>OK</code>. Am I right on that assumption?</p>\n\n<p>Below is a stack trace of the exception found in the <strong>client</strong> trace logs. Note there is no error shown in the servers trace log. What's odd is that there is multiple nested exceptions within, but none hold real value.</p>\n\n<pre><code>...\n...\n&lt;Exception&gt;\n&lt;ExceptionType&gt;System.ServiceModel.CommunicationException, System.ServiceModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&lt;/ExceptionType&gt;\n&lt;Message&gt;The underlying connection was closed: A connection that was expected to be kept alive was closed by the server.&lt;/Message&gt;\n&lt;StackTrace&gt;\nat System.ServiceModel.Channels.HttpChannelUtilities.ProcessGetResponseWebException(WebException webException, HttpWebRequest request, HttpAbortReason abortReason)\nat System.ServiceModel.Channels.HttpChannelFactory`1.HttpRequestChannel.HttpChannelRequest.WaitForReply(TimeSpan timeout)\nat System.ServiceModel.Channels.RequestChannel.Request(Message message, TimeSpan timeout)\nat System.ServiceModel.Dispatcher.RequestChannelBinder.Request(Message message, TimeSpan timeout)\nat System.ServiceModel.Channels.ServiceChannel.Call(String action, Boolean oneway, ProxyOperationRuntime operation, Object[] ins, Object[] outs, TimeSpan timeout)\nat System.ServiceModel.Channels.ServiceChannelProxy.InvokeService(IMethodCallMessage methodCall, ProxyOperationRuntime operation)\nat System.ServiceModel.Channels.ServiceChannelProxy.Invoke(IMessage message)\nat System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData&amp;amp; msgData, Int32 type)\nat OSI.Framework.ServiceContracts.IWCFObjectDirectorWebService.Fetch(Byte[] serializedObjectRequest)\nat OSI.Framework.WCF.Director.WCFWebObjectDirectorProxy.Fetch(Byte[] serializedObjectRequest)\nat OSI.Framework.WCF.Director.WCFWebObjectDirector.Fetch(Object criteria)\nat ActvMonitorSystemBusiness.Views.ActvView.GetActvDetails(DateTime fromDate, DateTime thruDate, String userGrpCd, String userCatCd, String userMajorCd, String userStatusCd, Nullable`1 userMemberNbr, Nullable`1 subjNbr, String searchBy, String dispActivity, Boolean showUncategorizedActv, Object[] fetchOptions)\nat ActvMonitorSystemScreen.frmActvMonitor.Populate(Object sender, EventArgs e)\nat ActvMonitorSystemScreen.frmActvMonitor.InitializeExtension(Object sender, EventArgs e)\nat OpenSolutions.Sys.DnaExtensions.Client.SecureCoreBaseForm.Initialize(Object sender, EventArgs e)\nat OSI.Base.Windows.Forms.BaseForm.OnShown(EventArgs e)\nat OSI.Core.Windows.Forms.CoreBaseForm.OnShown(EventArgs e)\nat ActvMonitorSystemScreen.SecureCoreBaseFormShim.OnShown(EventArgs e)\nat System.Windows.Forms.Form.CallShownEvent()\nat System.Windows.Forms.Control.InvokeMarshaledCallbackDo(ThreadMethodEntry tme)\nat System.Windows.Forms.Control.InvokeMarshaledCallbackHelper(Object obj)\nat System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)\nat System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)\nat System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)\nat System.Windows.Forms.Control.InvokeMarshaledCallback(ThreadMethodEntry tme)\nat System.Windows.Forms.Control.InvokeMarshaledCallbacks()\nat System.Windows.Forms.Control.WndProc(Message&amp;amp; m)\nat System.Windows.Forms.ScrollableControl.WndProc(Message&amp;amp; m)\nat System.Windows.Forms.Form.WndProc(Message&amp;amp; m)\nat System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message&amp;amp; m)\nat System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message&amp;amp; m)\nat System.Windows.Forms.NativeWindow.Callback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)\nat System.Windows.Forms.UnsafeNativeMethods.DispatchMessageW(MSG&amp;amp; msg)\nat System.Windows.Forms.Application.ComponentManager.System.Windows.Forms.UnsafeNativeMethods.IMsoComponentManager.FPushMessageLoop(IntPtr dwComponentID, Int32 reason, Int32 pvLoopData)\nat System.Windows.Forms.Application.ThreadContext.RunMessageLoopInner(Int32 reason, ApplicationContext context)\nat System.Windows.Forms.Application.ThreadContext.RunMessageLoop(Int32 reason, ApplicationContext context)\nat System.Windows.Forms.Application.Run(Form mainForm)\nat OSI.Runtime.Program.Main(String[] args)\n&lt;/StackTrace&gt;\n&lt;ExceptionString&gt;System.ServiceModel.CommunicationException: The underlying connection was closed: A connection that was expected to be kept alive was closed by the server. ---&amp;gt; System.Net.WebException: The underlying connection was closed: A connection that was expected to be kept alive was closed by the server. ---&amp;gt; System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---&amp;gt; System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host\n   at System.Net.Sockets.Socket.Receive(Byte[] buffer, Int32 offset, Int32 size, SocketFlags socketFlags)\n   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   --- End of inner exception stack trace ---\n   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   at System.Net.FixedSizeReader.ReadPacket(Byte[] buffer, Int32 offset, Int32 count)\n   at System.Net.Security._SslStream.StartFrameHeader(Byte[] buffer, Int32 offset, Int32 count, AsyncProtocolRequest asyncRequest)\n   at System.Net.Security._SslStream.StartReading(Byte[] buffer, Int32 offset, Int32 count, AsyncProtocolRequest asyncRequest)\n   at System.Net.Security._SslStream.ProcessRead(Byte[] buffer, Int32 offset, Int32 count, AsyncProtocolRequest asyncRequest)\n   at System.Net.TlsStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   at System.Net.PooledStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   at System.Net.Connection.SyncRead(HttpWebRequest request, Boolean userRetrievedStream, Boolean probeRead)\n   --- End of inner exception stack trace ---\n   at System.Net.HttpWebRequest.GetResponse()\n   at System.ServiceModel.Channels.HttpChannelFactory`1.HttpRequestChannel.HttpChannelRequest.WaitForReply(TimeSpan timeout)\n   --- End of inner exception stack trace ---&lt;/ExceptionString&gt;\n&lt;InnerException&gt;\n&lt;ExceptionType&gt;System.Net.WebException, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&lt;/ExceptionType&gt;\n&lt;Message&gt;The underlying connection was closed: A connection that was expected to be kept alive was closed by the server.&lt;/Message&gt;\n&lt;StackTrace&gt;\nat System.Net.HttpWebRequest.GetResponse()\nat System.ServiceModel.Channels.HttpChannelFactory`1.HttpRequestChannel.HttpChannelRequest.WaitForReply(TimeSpan timeout)\n&lt;/StackTrace&gt;\n&lt;ExceptionString&gt;System.Net.WebException: The underlying connection was closed: A connection that was expected to be kept alive was closed by the server. ---&amp;gt; System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---&amp;gt; System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host\n   at System.Net.Sockets.Socket.Receive(Byte[] buffer, Int32 offset, Int32 size, SocketFlags socketFlags)\n   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   --- End of inner exception stack trace ---\n   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   at System.Net.FixedSizeReader.ReadPacket(Byte[] buffer, Int32 offset, Int32 count)\n   at System.Net.Security._SslStream.StartFrameHeader(Byte[] buffer, Int32 offset, Int32 count, AsyncProtocolRequest asyncRequest)\n   at System.Net.Security._SslStream.StartReading(Byte[] buffer, Int32 offset, Int32 count, AsyncProtocolRequest asyncRequest)\n   at System.Net.Security._SslStream.ProcessRead(Byte[] buffer, Int32 offset, Int32 count, AsyncProtocolRequest asyncRequest)\n   at System.Net.TlsStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   at System.Net.PooledStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   at System.Net.Connection.SyncRead(HttpWebRequest request, Boolean userRetrievedStream, Boolean probeRead)\n   --- End of inner exception stack trace ---\n   at System.Net.HttpWebRequest.GetResponse()\n   at System.ServiceModel.Channels.HttpChannelFactory`1.HttpRequestChannel.HttpChannelRequest.WaitForReply(TimeSpan timeout)&lt;/ExceptionString&gt;\n&lt;InnerException&gt;\n&lt;ExceptionType&gt;System.IO.IOException, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&lt;/ExceptionType&gt;\n&lt;Message&gt;Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host.&lt;/Message&gt;\n&lt;StackTrace&gt;\nat System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)\nat System.Net.FixedSizeReader.ReadPacket(Byte[] buffer, Int32 offset, Int32 count)\nat System.Net.Security._SslStream.StartFrameHeader(Byte[] buffer, Int32 offset, Int32 count, AsyncProtocolRequest asyncRequest)\nat System.Net.Security._SslStream.StartReading(Byte[] buffer, Int32 offset, Int32 count, AsyncProtocolRequest asyncRequest)\nat System.Net.Security._SslStream.ProcessRead(Byte[] buffer, Int32 offset, Int32 count, AsyncProtocolRequest asyncRequest)\nat System.Net.TlsStream.Read(Byte[] buffer, Int32 offset, Int32 size)\nat System.Net.PooledStream.Read(Byte[] buffer, Int32 offset, Int32 size)\nat System.Net.Connection.SyncRead(HttpWebRequest request, Boolean userRetrievedStream, Boolean probeRead)\n&lt;/StackTrace&gt;\n&lt;ExceptionString&gt;System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---&amp;gt; System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host\n   at System.Net.Sockets.Socket.Receive(Byte[] buffer, Int32 offset, Int32 size, SocketFlags socketFlags)\n   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   --- End of inner exception stack trace ---\n   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   at System.Net.FixedSizeReader.ReadPacket(Byte[] buffer, Int32 offset, Int32 count)\n   at System.Net.Security._SslStream.StartFrameHeader(Byte[] buffer, Int32 offset, Int32 count, AsyncProtocolRequest asyncRequest)\n   at System.Net.Security._SslStream.StartReading(Byte[] buffer, Int32 offset, Int32 count, AsyncProtocolRequest asyncRequest)\n   at System.Net.Security._SslStream.ProcessRead(Byte[] buffer, Int32 offset, Int32 count, AsyncProtocolRequest asyncRequest)\n   at System.Net.TlsStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   at System.Net.PooledStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   at System.Net.Connection.SyncRead(HttpWebRequest request, Boolean userRetrievedStream, Boolean probeRead)&lt;/ExceptionString&gt;\n&lt;InnerException&gt;\n&lt;ExceptionType&gt;System.Net.Sockets.SocketException, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&lt;/ExceptionType&gt;\n&lt;Message&gt;An existing connection was forcibly closed by the remote host&lt;/Message&gt;\n&lt;StackTrace&gt;\nat System.Net.Sockets.Socket.Receive(Byte[] buffer, Int32 offset, Int32 size, SocketFlags socketFlags)\nat System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n&lt;/StackTrace&gt;\n&lt;ExceptionString&gt;System.Net.Sockets.SocketException (0x80004005): An existing connection was forcibly closed by the remote host\n   at System.Net.Sockets.Socket.Receive(Byte[] buffer, Int32 offset, Int32 size, SocketFlags socketFlags)\n   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)&lt;/ExceptionString&gt;\n&lt;NativeErrorCode&gt;2746&lt;/NativeErrorCode&gt;\n</code></pre>\n\n<p>This service works for other clients just fine. It's just this client that's having an issue with requests over 5 minutes. Other clients on different web servers complete the request fine.</p>\n"}, {"tags": ["c#", ".net", "migradoc"], "answers": [{"comments": [{"owner": {"reputation": 490, "user_id": 1107979, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/708a666b5a6ecae9116b39bf70d3982a?s=128&d=identicon&r=PG", "display_name": "MapMan", "link": "https://stackoverflow.com/users/1107979/mapman"}, "edited": false, "score": 0, "creation_date": 1528969597, "post_id": 50852600, "comment_id": 88711634, "body": "Thanks, that was it. I, didnt actually need the tableToAdd object, and used the one from the loop. Thanks for your help!"}], "tags": [], "owner": {"reputation": 18344, "user_id": 162529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWVD6.png?s=128&g=1", "display_name": "I liked the old Stack Overflow", "link": "https://stackoverflow.com/users/162529/i-liked-the-old-stack-overflow"}, "is_accepted": true, "score": 2, "last_activity_date": 1528963703, "creation_date": 1528963703, "answer_id": 50852600, "question_id": 50841973, "link": "https://stackoverflow.com/questions/50841973/adding-a-list-of-tables-in-migradoc/50852600#50852600", "title": "Adding a list of tables in migradoc", "body": "<p>Computers often do what you tell 'em to do, not what you want 'em to do.</p>\n\n<p>Look at this piece of code:</p>\n\n<pre><code>    tableToAdd = table;\n    tableToAdd = page.AddTable();\n</code></pre>\n\n<p>You add a new, empty table to the page and assign the new table to the variable <code>tableToAdd</code>, thus losing the reference to the table with the contents.</p>\n\n<p>The code that does what you expect is even simpler:</p>\n\n<pre><code>    page.Add(tableToAdd);\n</code></pre>\n\n<p>It adds the table with the contents to the section.</p>\n\n<p>BTW: <code>page</code> is not the best name for a <code>Section</code> object.</p>\n"}], "owner": {"reputation": 490, "user_id": 1107979, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/708a666b5a6ecae9116b39bf70d3982a?s=128&d=identicon&r=PG", "display_name": "MapMan", "link": "https://stackoverflow.com/users/1107979/mapman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2270, "favorite_count": 0, "accepted_answer_id": 50852600, "answer_count": 1, "score": 0, "last_activity_date": 1528963703, "creation_date": 1528906871, "question_id": 50841973, "link": "https://stackoverflow.com/questions/50841973/adding-a-list-of-tables-in-migradoc", "title": "Adding a list of tables in migradoc", "body": "<p>I have  DB table that looks like</p>\n\n<pre><code>id | Name | ImagePath\n-------------------------\n 1 | aaa         | xxx\n 2 | bbb         | yyy\n 3 | ccc         | zzz\n</code></pre>\n\n<p>For each row I want to create a table, so when i generate my pdf each row will look like this in the pdf</p>\n\n<pre><code>--------------------|-------------------\n1                   | \naaa                 |xxx (but the actual image)\n--------------------|-------------------\n\n--------------------|-------------------\n2                   | \nbbb                 |yyy (but the actual image)\n--------------------|-------------------\n\n--------------------|-------------------\n3                   | \nccc                 |zzz (but the actual image)\n--------------------|-------------------\n</code></pre>\n\n<p>The values are passed into a function with creates the table</p>\n\n<pre><code>        public MigraDoc.DocumentObjectModel.Tables.Table createTable(List&lt;string&gt; listOfValues)\n        {\n            MigraDoc.DocumentObjectModel.Tables.Table table = new MigraDoc.DocumentObjectModel.Tables.Table();\n            //table = page.AddTable();\n            table.Style = \"Table\";\n            table.Borders.Color = Colors.Black;\n            table.Borders.Width = 0.25;\n            table.Borders.Left.Width = 0.5;\n            table.Borders.Right.Width = 0.5;\n            table.Rows.LeftIndent = 0;\n\n            //create column\n            MigraDoc.DocumentObjectModel.Tables.Column column = new MigraDoc.DocumentObjectModel.Tables.Column();\n            column = table.AddColumn(\"10cm\");\n            column.Format.Alignment = ParagraphAlignment.Left;\n            //MigraDoc.DocumentObjectModel.Tables.Row tableRow = table.AddRow();\n                MigraDoc.DocumentObjectModel.Tables.Column ImageColumn = new MigraDoc.DocumentObjectModel.Tables.Column();\n            ImageColumn = table.AddColumn(\"10cm\");\n            ImageColumn.Format.Alignment = ParagraphAlignment.Left;\n\n            //create rows from list of values\n            foreach (var value in listOfValues)\n            {\n                MigraDoc.DocumentObjectModel.Tables.Row tableRow = table.AddRow();\n                //if it is an image add to column 2\n                if (value.Contains(\"Image=\"))\n                {\n                    tableRow.Cells[1].AddParagraph(value);\n                    //merge the cells for the image column (zero based)\n                    tableRow.Cells[1].MergeDown = listOfValues.Count - 1;\n                }\n                else\n                {\n                    //add the value\n                    tableRow.Cells[0].AddParagraph(value);\n                }\n              }\n              return table\n}\n</code></pre>\n\n<p>The above created a table and then returns it, which is put into a list (of type Table)</p>\n\n<p>The list of tables is then passed into a method that generates the pdf.</p>\n\n<pre><code>public void generatePDF(List&lt;MigraDoc.DocumentObjectModel.Tables.Table&gt; listOfTables) \n    {\n    //who generated teh report\n    string author = Environment.UserName;\n    DateTime currentTime = DateTime.Now;\n    Document document = new Document();\n\n    string pageHeaderText = \"Report\";\n    string pageFooterText = string.Format(\"Report Generated by {0} at {1} on {2}\", author, currentTime.ToShortTimeString(), currentTime.ToShortDateString());\n    Style style = document.Styles[\"Normal\"];\n    style.Font.Name = \"Arial Unicode MS\";\n\n    //table Style\n    style = document.Styles.AddStyle(\"Table\", \"Normal\");\n    style.Font.Name = \"Verdana\";\n    style.Font.Size = 9;\n\n    Section page = document.AddSection();\n\n    //header\n    Paragraph header = page.Headers.Primary.AddParagraph();\n    header.AddText(pageHeaderText);\n    header.Format.Alignment = ParagraphAlignment.Center;\n\n    //footer\n    Paragraph footer = page.Footers.Primary.AddParagraph();\n    footer.AddText(pageFooterText);\n    footer.Format.Alignment = ParagraphAlignment.Center;\n\n    //Main paragraph\n    Paragraph mainPara = page.AddParagraph(\"test\\n\");\n\n    //go through each table in the list and add to teh page\n\n    foreach (var table in listOfTables)\n    {\n        MigraDoc.DocumentObjectModel.Tables.Table tableToAdd = new MigraDoc.DocumentObjectModel.Tables.Table();\n        tableToAdd = table;\n        tableToAdd = page.AddTable();\n    }\n\n    PdfDocumentRenderer pdfRenderer = new PdfDocumentRenderer(true);//false, pdfRenderer.);\n    pdfRenderer.Document = document;\n    pdfRenderer.RenderDocument();\n\n    //save and open the file\n    fileName = \"test;\n    //show file save dialog\n    SaveFileDialog sfd = new SaveFileDialog();\n    sfd.DefaultExt = \".pdf\";\n    sfd.AddExtension = true;\n    sfd.FileName = fileName;\n    if (sfd.ShowDialog() == DialogResult.OK)\n    {\n        savePath = System.IO.Path.GetDirectoryName(sfd.FileName);\n        pdfRenderer.PdfDocument.Save(savePath + \"\\\\\" + fileName + \".pdf\" );\n        Process.Start(savePath + \"\\\\\" + fileName + \".pdf\");\n    }\n}\n</code></pre>\n\n<p>The problem that I am having is that the table does not get generated on the pdf.</p>\n\n<p>If i pass in a list of strings rather than the list of tables and loop through, the table does get generated, but I am unsure why when using the list (of type tables) does not get generated when looping through.</p>\n"}, {"tags": ["c#", "type-conversion", "nullable"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1528906903, "post_id": 50841964, "comment_id": 88687488, "body": "<code>Select</code> means <code>fx_rate</code> is going to be the type of your table, did you want <code>First()</code>?"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 1, "creation_date": 1528907174, "post_id": 50841964, "comment_id": 88687654, "body": "What are you trying to get? You have selected a list of numeric values (ints? doubles?). Do you want one of those values specifically? An average or summation?"}], "answers": [{"comments": [{"owner": {"reputation": 7013, "user_id": 1304880, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/mM4r5.jpg?s=128&g=1", "display_name": "Dhaval Patel", "link": "https://stackoverflow.com/users/1304880/dhaval-patel"}, "edited": false, "score": 0, "creation_date": 1528906985, "post_id": 50841997, "comment_id": 88687534, "body": "Who will check null ? FirstOrDefault will give null if not found"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 2, "creation_date": 1528907015, "post_id": 50841997, "comment_id": 88687548, "body": "I don&#39;t think that&#39;s going to compile as the expression you&#39;ve passed to FirstOrDefault is not <code>Func&lt;T,bool&gt;</code>"}, {"owner": {"reputation": 395, "user_id": 4086704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fcb8495cd1aa90bc5020776e1d88c5f?s=128&d=identicon&r=PG&f=1", "display_name": "kjr1995", "link": "https://stackoverflow.com/users/4086704/kjr1995"}, "edited": false, "score": 0, "creation_date": 1528910034, "post_id": 50841997, "comment_id": 88689115, "body": "I&#39;ve edited it. I didn&#39;t look closely enough. It should work now."}], "tags": [], "owner": {"reputation": 395, "user_id": 4086704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fcb8495cd1aa90bc5020776e1d88c5f?s=128&d=identicon&r=PG&f=1", "display_name": "kjr1995", "link": "https://stackoverflow.com/users/4086704/kjr1995"}, "is_accepted": false, "score": -1, "last_activity_date": 1528910007, "last_edit_date": 1528910007, "creation_date": 1528906941, "answer_id": 50841997, "question_id": 50841964, "link": "https://stackoverflow.com/questions/50841964/cannot-implicitly-convert-type-system-linq-iqueryabledouble-to-double/50841997#50841997", "title": "Cannot implicitly convert type &#39;System.Linq.IQueryable&lt;double?&gt;&#39; to &#39;double&#39;", "body": "<p>Try</p>\n\n<pre><code>public static double GetFxRate(DateTime dt)    \n{\n  DBEntities dbe = new DBEntities ();\nvar fx_rate = dbe.MyTable.Where (s =&gt; s.Currency == \"aaaaaaaaa\" &amp;&amp; s.Date == dt).Select( s =&gt; (s.ask + s.bid)/2).FirstOrDefault();\nreturn Convert.ToDouble(fx_rate);\n}\n</code></pre>\n\n<p>The problem is <code>Select</code> returns an <code>IQueryable&lt;Double&gt;</code> which is all of the possible results but you're only expecting a single result so <code>FirstOrDefault</code> should work to get only one result.</p>\n"}], "owner": {"reputation": 51, "user_id": 7088751, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uHU2ytUt6kI/AAAAAAAAAAI/AAAAAAAAANs/FKXF7giIiCg/photo.jpg?sz=128", "display_name": "Gtari Abir", "link": "https://stackoverflow.com/users/7088751/gtari-abir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 357, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1528910007, "creation_date": 1528906835, "last_edit_date": 1528907818, "question_id": 50841964, "link": "https://stackoverflow.com/questions/50841964/cannot-implicitly-convert-type-system-linq-iqueryabledouble-to-double", "title": "Cannot implicitly convert type &#39;System.Linq.IQueryable&lt;double?&gt;&#39; to &#39;double&#39;", "body": "<p>I'm trying to get a double from database using entity framework, but I get an exception, below is my code </p>\n\n<pre><code>public static double GetFxRate(DateTime dt)    \n{\n  DBEntities dbe = new DBEntities ();\n  var fx_rate = dbe.MyTable\n       .Where (s =&gt; s.Currency == \"aaaaaaaaa\" &amp;&amp; s.Date == dt)\n       .Select (s =&gt; (s.ask + s.bid)/2);\n  return Convert.ToDouble(fx_rate);\n}\n</code></pre>\n\n<p>this code generate an exception in the last line</p>\n\n<blockquote>\n  <p>Additional information: Impossible d'effectuer un cast d'un objet de type 'System.Data.Entity.Infrastructure.DbQuery<code>1[System.Nullable</code>1[System.Double]]' en type 'System.IConvertible'</p>\n</blockquote>\n\n<p>How can I correct this please?</p>\n"}]