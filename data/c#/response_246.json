[{"tags": ["c#", "sql-server", "asp.net-core", ".net-core", "amazon-lightsail"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 1467590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff2120c5bde0ec7fa9db33771305e39?s=128&d=identicon&r=PG", "display_name": "Leonardo Rodrigues", "link": "https://stackoverflow.com/users/1467590/leonardo-rodrigues"}, "edited": false, "score": 0, "creation_date": 1569588043, "post_id": 58122340, "comment_id": 102656263, "body": "Thank you for looking into it. I&#39;ve tried using a different connection string as you are pointing out (same result as in the deployed appsettings.json get the old connection string). Even if there is no trace of the old local connection string anywhere in the project (actually deleted not even commented) it keeps being reused. I&#39;ve tried both debug and release modes."}, {"owner": {"reputation": 11, "user_id": 1467590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff2120c5bde0ec7fa9db33771305e39?s=128&d=identicon&r=PG", "display_name": "Leonardo Rodrigues", "link": "https://stackoverflow.com/users/1467590/leonardo-rodrigues"}, "edited": false, "score": 0, "creation_date": 1569588500, "post_id": 58122340, "comment_id": 102656492, "body": "forgot to tag you above"}], "tags": [], "owner": {"reputation": 1201, "user_id": 7802149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/391934d3d67d82a838a275ab040a4ee6?s=128&d=identicon&r=PG&f=1", "display_name": "Fakhar Ahmad Rasul", "link": "https://stackoverflow.com/users/7802149/fakhar-ahmad-rasul"}, "is_accepted": false, "score": 0, "last_activity_date": 1569520720, "creation_date": 1569520720, "answer_id": 58122340, "question_id": 58107882, "link": "https://stackoverflow.com/questions/58107882/net-core-webapi-app-connects-locally-but-fails-on-the-server-with-sql-network-i/58122340#58122340", "title": ".NET Core WebAPI app connects locally but fails on the Server with SQL Network Interfaces error: 26 Error Locating Server/Instance Specified", "body": "<p>I guessing your problem is related to .net core environments and when you are publishing your application it is getting published in development environment because of which it is using your development connection string no matter what.</p>\n\n<p>Also, look at the screenshot I am attaching, try changing your connection string here before you publish and see if you are able to connect to your database<a href=\"https://i.stack.imgur.com/U5RHB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U5RHB.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 1467590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff2120c5bde0ec7fa9db33771305e39?s=128&d=identicon&r=PG", "display_name": "Leonardo Rodrigues", "link": "https://stackoverflow.com/users/1467590/leonardo-rodrigues"}, "edited": false, "score": 0, "creation_date": 1569646547, "post_id": 58122449, "comment_id": 102672616, "body": "Here&#39;s an excerpt from the description: I can connect with DB_SERVER1 via SSMS, sqlcmd from MACHINE1, MACHINE2, and SERVER3 (didn&#39;t try SERVER2 because that&#39;s Plesk so I figured it&#39;d be easier to try things out in a private box)  The code also works connecting to DB_SERVER1 from MACHINE1 Visual Studio, MACHINE1 local IIS."}], "tags": [], "owner": {"reputation": 151, "user_id": 10844242, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l8u3OoBfN0w/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaVzj5KchM9n8xbVt4_G6LM3KoO2Q/mo/photo.jpg?sz=128", "display_name": "Mohammed Aamier", "link": "https://stackoverflow.com/users/10844242/mohammed-aamier"}, "is_accepted": false, "score": 0, "last_activity_date": 1569521248, "creation_date": 1569521248, "answer_id": 58122449, "question_id": 58107882, "link": "https://stackoverflow.com/questions/58107882/net-core-webapi-app-connects-locally-but-fails-on-the-server-with-sql-network-i/58122449#58122449", "title": ".NET Core WebAPI app connects locally but fails on the Server with SQL Network Interfaces error: 26 Error Locating Server/Instance Specified", "body": "<blockquote>\n  <p>The Issue Is with your Sql Server First Open Your Sql Server and\n  connect to Your Remote Databse check Wheater you can able to connect\n  or not Because The Error Code Clearly saying That it's a connection\n  issue If it's not connecting Then You have to configure your sql\n  server as well as 1433 port from firewall.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 1467590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff2120c5bde0ec7fa9db33771305e39?s=128&d=identicon&r=PG", "display_name": "Leonardo Rodrigues", "link": "https://stackoverflow.com/users/1467590/leonardo-rodrigues"}, "is_accepted": false, "score": 0, "last_activity_date": 1569936092, "creation_date": 1569936092, "answer_id": 58185706, "question_id": 58107882, "link": "https://stackoverflow.com/questions/58107882/net-core-webapi-app-connects-locally-but-fails-on-the-server-with-sql-network-i/58185706#58185706", "title": ".NET Core WebAPI app connects locally but fails on the Server with SQL Network Interfaces error: 26 Error Locating Server/Instance Specified", "body": "<p>I resolved the issue. Well sort of. I am not sure what it was unfortunately but it looks like it was something with the server configuration. I published the app to a new Azure environment and it worked fine.\nA couple of things to note are: When deploying to Azure I used Framework-Dependent deployment mode instead of self-contained and the target runtime as Portable instead of machine specific (win-x64).</p>\n"}], "owner": {"reputation": 11, "user_id": 1467590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff2120c5bde0ec7fa9db33771305e39?s=128&d=identicon&r=PG", "display_name": "Leonardo Rodrigues", "link": "https://stackoverflow.com/users/1467590/leonardo-rodrigues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 413, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1569936092, "creation_date": 1569455652, "last_edit_date": 1569519217, "question_id": 58107882, "link": "https://stackoverflow.com/questions/58107882/net-core-webapi-app-connects-locally-but-fails-on-the-server-with-sql-network-i", "title": ".NET Core WebAPI app connects locally but fails on the Server with SQL Network Interfaces error: 26 Error Locating Server/Instance Specified", "body": "<p>I'm developing a new app and giving .NET Core a go.\nAll is fine until I deploy the app to servers (for staging/testing).</p>\n\n<p>I wrote some custom code where I try/catch and return from WebAPI core endpoints so I am able to use Postman and see the errors there. The error is:</p>\n\n<p>\"A network-related or instance-specific error occurred while establishing a connection to SQL Server. ... (provider: SQL Network Interfaces, error: 26 - Error Locating Server/Instance Specified)\".</p>\n\n<p>I also apologize in advance because the error message I am getting is extremely common, but I did try numerous solutions to no avail.</p>\n\n<p>This is day 9 of research and I can't wait anymore. Asking for help here is the last recourse and If this doesn't get solved in a day, I'll move to .NET Framework. So, here are some scenarios that I have:</p>\n\n<p>MACHINE1: DEV machine 1, Visual Studio 2017, SSMS 2016\nMACHINE2: DEV machine 2, Visual Studio 2017, SSMS 2008 R2\nDB_SERVER1: SQL server 2016 GoDaddy Plesk\nSERVER2: GoDaddy Plesk Shared Server Hosting \nSERVER3: AWS LightSail Instance Windows Server 2016, SSMS 2016 Installed</p>\n\n<p>The error ONLY happens when SERVER2 or SERVER3 try to connect with DB_SERVER 1.</p>\n\n<p>.NET Core itself seems to work because the endpoint is returning custom code that blows up only at the point of connecting with the database.\nSo, in the beginning I was having some road bumps and wondering about whether .NET Core was installed properly, or there was a versioning issue, etc.</p>\n\n<p>I have completely turned off firewalls; \nI have given the application pool administrator privileges\nTried using a port number in the connection string.</p>\n\n<p>I can connect with DB_SERVER1 via SSMS, sqlcmd from MACHINE1, MACHINE2, and SERVER3 (didn't try SERVER2 because that's Plesk so I figured it'd be easier to try things out in a private box) </p>\n\n<p>The code also works connecting to DB_SERVER1 from MACHINE1 Visual Studio, MACHINE1 local IIS.</p>\n\n<p>Interesting side points:</p>\n\n<p>When publishing the app to the server via FTP/IIS, the connection string is ALWAYS the same no matter if I change the connection string in the appsettings.json. It uses my dev machine1's connection string. Even if I completely remove it from anywhere in the project, no matter what, that same original connection string is the one that shows up in the deployed appsettings.json. Then later, I always have to manually change the connection strings on the server to try things out, which doesn't matter anyways because the result is always the same as if the connection string never changed. The resulting error message sure comes from as if the connection string never changed. </p>\n\n<p>Is there any sort of obscure caching going on here? From IIS, AWS, .net Core? </p>\n\n<p>There's nothing wrong with the DB_SERVER1 as far as firewall, ports, etc because as just described I can connect to it via multiple avenues, tools, and my dotnet core code itself.</p>\n\n<p>What else am I missing?</p>\n\n<p>I've installed dotnet core runtimes on SERVER3.\nSo, the app runs, it bombs on the connection with the database.\nIt does use Entity Framework and I generate the models database first using dotnet commands.\nSo, would any missing EF component cause error 26?</p>\n\n<p>Ok, I'll stop here and cross my fingers for any ideas that will lead to finding that missing semicolon.</p>\n\n<p>I've tried numerous solutions, here are three as examples of very close problems to what I have.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/33893089/sql-network-interfaces-error-26-error-locating-server-instance-specified\">sql network interfaces error 26 - error locating server/instance specified</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/49865343/net-core-2-0-with-ef7-connecting-to-sql-server-express-error-26-error-locat\">.Net Core 2.0 with EF7 connecting to SQL Server Express. Error: 26 - Error Locating Server/Instance</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/57509997/net-core-cant-connect-to-remote-sql-server-database\">.NET Core can&#39;t connect to remote SQL Server database</a></p>\n\n<p>and many many more already tried.</p>\n\n<p>In appsettings.json</p>\n\n<pre><code>\"DefaultConnection\": \"Server=xxx.xx.xxx.x;Database=dbname;Trusted_Connection=False;MultipleActiveResultSets=True;User ID=username;Password=password\"\n</code></pre>\n\n<p>In startup.cs</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>            services.AddDbContext&lt;ApplicationDbContext&gt;(\n                option =&gt; option.UseSqlServer(Configuration.GetConnectionString(\"DefaultConnection\")));\n\n            services.AddIdentity&lt;IdentityUser, IdentityRole&gt;(\n                option =&gt;\n                {\n                    option.Password.RequireDigit = false;\n                    option.Password.RequiredLength = 6;\n                    option.Password.RequireNonAlphanumeric = false;\n                    option.Password.RequireUppercase = false;\n                    option.Password.RequireLowercase = false;\n                }).AddEntityFrameworkStores&lt;ApplicationDbContext&gt;()\n                .AddDefaultTokenProviders();\n</code></pre>\n"}, {"tags": ["c#", "swift", "xcode", "xamarin", "character-encoding"], "comments": [{"owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1569484020, "post_id": 58107834, "comment_id": 102613723, "body": "Are you sure if the <code>metadataObject</code>  in swift is the same thing as <code>barcodeMetadataObject</code>  in c#?"}, {"owner": {"reputation": 1, "user_id": 7994631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/viQMS.png?s=128&g=1", "display_name": "Edward Rush", "link": "https://stackoverflow.com/users/7994631/edward-rush"}, "reply_to_user": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1569491316, "post_id": 58107834, "comment_id": 102617590, "body": "I believe so, from the Xamarin.iOS repo example compared to the Xcode Swift Example  Swift Exmple <b>metadataObject as? AVMetadataMachineReadableCodeObject</b> versus the Xamarin.iOS Repo Example <b>var barcodeMetadataObject = transformedMetadataObject as AVMetadataMachineReadableCodeObject</b>. I just dont know the inner workings of the Xamarin Piece. I will examine the OpenSource implementation code of Xamarin, maybe that is where I should have looked."}, {"owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1569575214, "post_id": 58107834, "comment_id": 102649568, "body": "So, you are looking <a href=\"https://github.com/xamarin/ios-samples/tree/master/ios11/AVCamBarcode\" rel=\"nofollow noreferrer\">this sample</a>?"}, {"owner": {"reputation": 1, "user_id": 7994631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/viQMS.png?s=128&g=1", "display_name": "Edward Rush", "link": "https://stackoverflow.com/users/7994631/edward-rush"}, "reply_to_user": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1569589898, "post_id": 58107834, "comment_id": 102657214, "body": "Yes, I am looking at the <b>AVCamBarcode</b> sample. I found the solution to my issue lastnight. In Xamarin, the characters in DEBUG and Text Display are not visible like they in the Swift code. I forgot something I had done on an Android Barcode scanner for an Intermec Device, take the resulting string from <code>c# textLayerString = barcodeMetadataObject.StringValue;</code> and do textLayerString.toArray(). All data elements are visible so I can see the delimiters in the string. This is working now. Thanks."}, {"owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1569832977, "post_id": 58107834, "comment_id": 102710273, "body": "Glad to hear that:)."}], "owner": {"reputation": 1, "user_id": 7994631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/viQMS.png?s=128&g=1", "display_name": "Edward Rush", "link": "https://stackoverflow.com/users/7994631/edward-rush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569461978, "creation_date": 1569455194, "last_edit_date": 1569461978, "question_id": 58107834, "link": "https://stackoverflow.com/questions/58107834/swift-xcode-avmetadatamachinereadablecodeobject-encoding-versus-c-xamarin-avmet", "title": "Swift Xcode AVMetadataMachineReadableCodeObject encoding versus C# Xamarin AVMetadataMachineReadableCodeObject", "body": "<p>I am researching for a Barcode scanning application with iOS iPhone Camera.</p>\n\n<p>I can use Swift to get the string data that I actually need from the image I scan. However, when using Xamarin with the Xamarin implementation of the <code>AVFoundation.AVMetadataObject</code> and <code>AVMetadataMachineReadableCodeObject</code>, I don't get all of the characters. The C# code appears to execute in the same way as the Swift code with two different results.</p>\n\n<p>Example Xcode Swift:</p>\n\n<pre><code>if let metadataObject = metadataObjects.first {\n    guard let readableObject = metadataObject as? AVMetadataMachineReadableCodeObject else { return }\n    guard let stringValue = readableObject.stringValue else { return }\n    AudioServicesPlaySystemSound(SystemSoundID(kSystemSoundID_Vibrate))\n    found(code: stringValue)\n}\n</code></pre>\n\n<p>will render something like this: <strong>WHICH I WANT</strong></p>\n\n<p><em>[)>\\u{1e}06\\u{1d}1SMYDATA\\u{1d}S1MYDATA\\u{1d}1PMYDATA\\u{1d}WMYDATA\\u{1d}4LUS\\u{1e}\\u{4}</em></p>\n\n<p>Example  Xamarin Foundation Code:</p>\n\n<pre><code>var barcodeMetadataObject = transformedMetadataObject as AVMetadataMachineReadableCodeObject;\nif (barcodeMetadataObject != null)\n{\n    var barcodeOverlayPath = this.BarcodeOverlayPathWithCorners(barcodeMetadataObject.Corners);\n            metadataObjectOverlayLayer.Path = barcodeOverlayPath;\n\n    // If the metadata object has a string value, display it.\n    string textLayerString = null;\n    if (!string.IsNullOrEmpty(barcodeMetadataObject.StringValue))\n    {\n        textLayerString = barcodeMetadataObject.StringValue;\n    }\n    else\n    {\n        // TODO: add Descriptor (line 618 in original iOS sample)\n    }\n</code></pre>\n\n<p>will render something like this: <strong>WHICH I DO NOT WANT...I WANT THE ENTIRE CHARACTER SET</strong></p>\n\n<p><em>[)>061SMYDATAS1911500531PMYDATAWMYDATA</em></p>\n\n<p>So I have this: (Xcode)\n<em>[)>\\u{1e}06\\u{1d}1SMYDATA\\u{1d}S1MYDATA\\u{1d}1PMYDATA\\u{1d}WMYDATA\\u{1d}4LUS\\u{1e}\\u{4}</em></p>\n\n<p>Versus this:(Xamarin)\n<em>[)>061SMYDATAS1911500531PMYDATAWMYDATA</em></p>\n\n<p>I am not understanding why the implementation in Xamarin would not be supplying all of the same characters of the scan when it essentially acts only as a wrapper.</p>\n\n<p>Does anyone have any idea?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-core", ".net-core", "core-api"], "comments": [{"owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 0, "creation_date": 1569456501, "post_id": 58107799, "comment_id": 102606281, "body": "Can you clear up the confusion, you say <i>added a new property in this class that will match a property from the header and it works if I use it directly into the controller, like this</i> and then say <i>I try to get the same result by adding the [FromHeader] attribute into the class property, it doesn&#39;t work.</i> - <b>but in both cases you show the same code</b>"}, {"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1569457021, "post_id": 58107799, "comment_id": 102606367, "body": "Did you try removing <code>[FromHeader(Name = &quot;Authorization&quot;)] string token</code>?"}, {"owner": {"reputation": 11, "user_id": 6410996, "user_type": "registered", "profile_image": "https://graph.facebook.com/976380239098558/picture?type=large", "display_name": "Leandro Bremer", "link": "https://stackoverflow.com/users/6410996/leandro-bremer"}, "reply_to_user": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 0, "creation_date": 1569457154, "post_id": 58107799, "comment_id": 102606392, "body": "@JeremyThompson sure, the full code contains both approaches, using the FromHeader attribute into the controller and also in the class. This way you can see the one which works (controller) and the one which does not (class). Look at the image I posted to see the results, please!"}, {"owner": {"reputation": 11, "user_id": 6410996, "user_type": "registered", "profile_image": "https://graph.facebook.com/976380239098558/picture?type=large", "display_name": "Leandro Bremer", "link": "https://stackoverflow.com/users/6410996/leandro-bremer"}, "reply_to_user": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1569457255, "post_id": 58107799, "comment_id": 102606405, "body": "@ChetanRanpariya Yes, Actually as I just mentioned to Jeremy, this is the full code containing both approaches. I tried using just one of them and both of them, but only the controller one works."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1569457961, "post_id": 58107799, "comment_id": 102606521, "body": "@LeandroBremer have you had a chance to review Reference <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/models/model-binding\" rel=\"nofollow noreferrer\">Model Binding in ASP.NET Core</a>"}, {"owner": {"reputation": 11, "user_id": 6410996, "user_type": "registered", "profile_image": "https://graph.facebook.com/976380239098558/picture?type=large", "display_name": "Leandro Bremer", "link": "https://stackoverflow.com/users/6410996/leandro-bremer"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1569458304, "post_id": 58107799, "comment_id": 102606578, "body": "@Nkosi yes, I did. It says can be used like this (in the class property), but unfortunately does not work. =/"}, {"owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 0, "creation_date": 1569461169, "post_id": 58107799, "comment_id": 102607052, "body": "@LeandroBremer can you point me to the place in the MSDN reference where it says it can be used like this (a class property)?"}, {"owner": {"reputation": 11, "user_id": 6410996, "user_type": "registered", "profile_image": "https://graph.facebook.com/976380239098558/picture?type=large", "display_name": "Leandro Bremer", "link": "https://stackoverflow.com/users/6410996/leandro-bremer"}, "reply_to_user": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 0, "creation_date": 1569461396, "post_id": 58107799, "comment_id": 102607095, "body": "@JeremyThompson this sentence: &quot;Are added to model properties individually (not to the model class), as in the following example&quot;  [FromQuery(Name =&quot;Note&quot;)]"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6410996, "user_type": "registered", "profile_image": "https://graph.facebook.com/976380239098558/picture?type=large", "display_name": "Leandro Bremer", "link": "https://stackoverflow.com/users/6410996/leandro-bremer"}, "edited": false, "score": 0, "creation_date": 1569511244, "post_id": 58108530, "comment_id": 102628827, "body": "that worked!!! However, my Json request stopped working. I got a Bad Request and needed to change the body request format excluding the brackets and the parameter name... from this  <code>{\t&quot;userId&quot; : &quot;123&quot;  }</code>  to this <code>&quot;123&quot;</code>    ...=/ ... Do you know if there is a way to keep the same format working? I am using .Net Core 3.0"}, {"owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "reply_to_user": {"reputation": 11, "user_id": 6410996, "user_type": "registered", "profile_image": "https://graph.facebook.com/976380239098558/picture?type=large", "display_name": "Leandro Bremer", "link": "https://stackoverflow.com/users/6410996/leandro-bremer"}, "edited": false, "score": 0, "creation_date": 1569547167, "post_id": 58108530, "comment_id": 102640975, "body": "@Leandro Bremer That is because you add <code>[FromBody]</code> on the property,so you need to pass a string instead of an object.Refer to <a href=\"https://github.com/aspnet/AspNetCore.Docs/issues/11699\" rel=\"nofollow noreferrer\">github.com/aspnet/AspNetCore.Docs/issues/11699</a>"}, {"owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "reply_to_user": {"reputation": 11, "user_id": 6410996, "user_type": "registered", "profile_image": "https://graph.facebook.com/976380239098558/picture?type=large", "display_name": "Leandro Bremer", "link": "https://stackoverflow.com/users/6410996/leandro-bremer"}, "edited": false, "score": 0, "creation_date": 1569548083, "post_id": 58108530, "comment_id": 102641124, "body": "@Leandro Bremer  if you want to pass it as an objectm then you need to wrap userId into a viewmodel.See my update."}, {"owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "reply_to_user": {"reputation": 11, "user_id": 6410996, "user_type": "registered", "profile_image": "https://graph.facebook.com/976380239098558/picture?type=large", "display_name": "Leandro Bremer", "link": "https://stackoverflow.com/users/6410996/leandro-bremer"}, "edited": false, "score": 0, "creation_date": 1569822772, "post_id": 58108530, "comment_id": 102706049, "body": "@Leandro Bremer Could you accept the answer if you have resolved the problem?Thank you!"}, {"owner": {"reputation": 11, "user_id": 6410996, "user_type": "registered", "profile_image": "https://graph.facebook.com/976380239098558/picture?type=large", "display_name": "Leandro Bremer", "link": "https://stackoverflow.com/users/6410996/leandro-bremer"}, "edited": false, "score": 0, "creation_date": 1569969613, "post_id": 58108530, "comment_id": 102765434, "body": "That worked properly!! I&#39;ll have to change my code here, however, it&#39;s gonna be really structured!!  Thank you, man!"}], "tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": false, "score": 4, "last_activity_date": 1569548231, "last_edit_date": 1569548231, "creation_date": 1569462743, "answer_id": 58108530, "question_id": 58107799, "link": "https://stackoverflow.com/questions/58107799/net-core-api-mixed-model-binding-not-working/58108530#58108530", "title": ".Net Core API - Mixed Model Binding not working", "body": "<p>You need to configure <code>SuppressInferBindingSourcesForParameters</code> as true in ConfigureServices in Startup.cs like below :</p>\n\n<pre><code>services.AddMvc().ConfigureApiBehaviorOptions(options =&gt;\n        {\n            options.SuppressInferBindingSourcesForParameters = true;\n        });\n</code></pre>\n\n<p>Action:</p>\n\n<pre><code>[HttpPost]\n[Route(\"Test\")]\npublic IActionResult Test(TestRequest request)\n</code></pre>\n\n<p>And call the api with your <code>Authorization</code> header(not shown below) and body string, for postman\n<a href=\"https://i.stack.imgur.com/hhmOT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hhmOT.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Update:</strong></p>\n\n<p>Since you use <code>[FromBody]</code> on the string property,it accepts a string instead of json object.</p>\n\n<p>If you still would like to pass json object as <code>{ \"userId\" : \"123\" }</code>, you could warp the userId into a model,for example:</p>\n\n<pre><code>public class User\n{\n    public string UserId { get; set; }\n}\npublic class TestRequest\n{\n    [FromBody]\n    public User User { get; set; }\n\n    [FromHeader(Name = \"Authorization\")]\n    public string Token { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6410996, "user_type": "registered", "profile_image": "https://graph.facebook.com/976380239098558/picture?type=large", "display_name": "Leandro Bremer", "link": "https://stackoverflow.com/users/6410996/leandro-bremer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1305, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1569548231, "creation_date": 1569454761, "last_edit_date": 1569459642, "question_id": 58107799, "link": "https://stackoverflow.com/questions/58107799/net-core-api-mixed-model-binding-not-working", "title": ".Net Core API - Mixed Model Binding not working", "body": "<p><strong>Framework used is .Net Core 3.0 but tested in 2.2 and got the same behavior.</strong></p>\n\n<p>I am using a class to automatically bind the body request properties and that works pretty well, even without having the [FromBody] attribute on them.</p>\n\n<p>Now, I added a new property in this class that will match a property from the header and it works if I use it directly into the controller, like this:</p>\n\n\n\n<pre class=\"lang-cs prettyprint-override\"><code>public IActionResult Test(TestRequest request, [FromHeader(Name = \"Authorization\")] string token)\n</code></pre>\n\n<p>However, when I try to get the same result by adding the [FromHeader] attribute into the class property, it doesn't work.</p>\n\n<p>Here is a sample code to illustrate the issue:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[ApiController]\n[Route(\"api\")]\npublic class TestController : ControllerBase\n{\n    [HttpPost]\n    [Route(\"Test\")]\n    public IActionResult Test(TestRequest request)\n    {\n        Console.WriteLine(\"request.UserId: \" + request.UserId);\n        Console.WriteLine(\"request.Token: \" + request.Token);\n        return Ok();\n    }\n}\npublic class TestRequest\n{\n    [FromBody]\n    public string UserId { get; set; }\n\n    [FromHeader(Name = \"Authorization\")]\n    public string Token { get; set; }\n}\n</code></pre>\n\n<p>Did anybody ever face the same issue?</p>\n"}, {"tags": ["c#", "lambda"], "comments": [{"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 1, "creation_date": 1569454695, "post_id": 58107772, "comment_id": 102605963, "body": "Noting in the language is stopping you.. So what your asking is our opinion on how much logic or what sorts of logic/validation should be put there, which is opinionated an off-topic, also there is a wealth of information on the internet about this sort of situation and what is considered ok"}, {"owner": {"reputation": 831, "user_id": 9997280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ba0b2af09b03bca978c7e6ecc228f4?s=128&d=identicon&r=PG&f=1", "display_name": "Arphile", "link": "https://stackoverflow.com/users/9997280/arphile"}, "edited": false, "score": 0, "creation_date": 1569454837, "post_id": 58107772, "comment_id": 102605985, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.componentmodel.dataannotations.stringlengthattribute?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 831, "user_id": 9997280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ba0b2af09b03bca978c7e6ecc228f4?s=128&d=identicon&r=PG&f=1", "display_name": "Arphile", "link": "https://stackoverflow.com/users/9997280/arphile"}, "edited": false, "score": 0, "creation_date": 1569454857, "post_id": 58107772, "comment_id": 102605991, "body": "I&#39;d like to recommend to use Attribute to do your task"}, {"owner": {"reputation": 831, "user_id": 9997280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ba0b2af09b03bca978c7e6ecc228f4?s=128&d=identicon&r=PG&f=1", "display_name": "Arphile", "link": "https://stackoverflow.com/users/9997280/arphile"}, "edited": false, "score": 0, "creation_date": 1569454882, "post_id": 58107772, "comment_id": 102605998, "body": "but using code in setter is not bad like that."}, {"owner": {"reputation": 179, "user_id": 5225978, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d2619ee3cee117c4b94c3418a0e63287?s=128&d=identicon&r=PG&f=1", "display_name": "Blobula", "link": "https://stackoverflow.com/users/5225978/blobula"}, "edited": false, "score": 0, "creation_date": 1569455035, "post_id": 58107772, "comment_id": 102606023, "body": "In order to write a unit test around it I&#39;d need to pull the logic out into it&#39;s own method to the logic by itself right?"}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1569455918, "post_id": 58107772, "comment_id": 102606160, "body": "<i>In order to write a unit test around it I&#39;d need to pull the logic out into it&#39;s own method</i> I don&#39;t see why: set the value of the property to an invalid value, and assert it throws, But I have to say I wouldn&#39;t be happy to see this code in our code base: the value should be validated <b>before</b> it reaches the setter, and that&#39;s what I would use a method for. And then you can get rid of the backing fields."}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "reply_to_user": {"reputation": 831, "user_id": 9997280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39ba0b2af09b03bca978c7e6ecc228f4?s=128&d=identicon&r=PG&f=1", "display_name": "Arphile", "link": "https://stackoverflow.com/users/9997280/arphile"}, "edited": false, "score": 2, "creation_date": 1569456283, "post_id": 58107772, "comment_id": 102606239, "body": "@Arphile unless there&#39;s something in the stack to actually check the attribute, it will have no effect - they&#39;re not &#39;magical&#39;."}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 0, "creation_date": 1569456799, "post_id": 58107772, "comment_id": 102606332, "body": "<a href=\"https://stackoverflow.com/questions/2923116/is-it-a-good-practice-to-implement-logic-in-properties\" title=\"is it a good practice to implement logic in properties\">stackoverflow.com/questions/2923116/&hellip;</a>"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1569457124, "post_id": 58107772, "comment_id": 102606386, "body": "<code>if there&#39;s a much better way to write this</code> Given your property setters are very similar, considering putting that validation code into a function and sharing it between the two setters."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1569457550, "post_id": 58107772, "comment_id": 102606456, "body": "<a href=\"https://stackoverflow.com/questions/6127290/c-sharp-add-validation-on-a-setter-method\" title=\"c sharp add validation on a setter method\">stackoverflow.com/questions/6127290/&hellip;</a>"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1569458215, "post_id": 58107772, "comment_id": 102606559, "body": "If you are going to do that, consider having functions like <code>bool TrySetQCode(string val)</code>. It does the same validation. If it succeeds, it sets the prop value and returns true, if it fails, it returns false without changing the property value. This allows your users not to have to replicate your validation logic and reduces the likelihood of an exception. Also, consider using <code>string.IsNullOrEmpty</code> instead of testing the string length (it prevents someone from assigning null to the property)"}], "answers": [{"tags": [], "owner": {"reputation": 3445, "user_id": 261542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237a47074475f635e5d08c125c18f790?s=128&d=identicon&r=PG", "display_name": "mikek3332002", "link": "https://stackoverflow.com/users/261542/mikek3332002"}, "is_accepted": false, "score": 4, "last_activity_date": 1569461514, "last_edit_date": 1592644375, "creation_date": 1569456352, "answer_id": 58107939, "question_id": 58107772, "link": "https://stackoverflow.com/questions/58107772/is-it-ok-to-place-logic-in-setter-for-c-property/58107939#58107939", "title": "Is it ok to place logic in setter for C# property?", "body": "<p>According to the <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/property\" rel=\"nofollow noreferrer\" title=\"Property Design\">Framework Design Guidelines</a>:</p>\n<p>It is acceptable for setter's to throw exceptions</p>\n<blockquote>\n<p>\u2713 DO preserve the previous value if a property setter throws an exception.</p>\n<p>\u2713 DO allow properties to be set in any order even if this results in a temporary invalid state of the object.</p>\n</blockquote>\n<p>as long as they are not reliant on the state of other properties eg</p>\n<pre><code>public string QCode\n       { ... set {...\n                if (QBankCode.Length ==10 &amp;&amp; value.Length % 2 == 0)\n                    throw new exception();...\n</code></pre>\n<p>You code sample meets this but you should make sure your properties have sensible defaults</p>\n<blockquote>\n<p>\u2713 DO provide sensible default values for all properties, ...</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "is_accepted": false, "score": 2, "last_activity_date": 1569459683, "creation_date": 1569459683, "answer_id": 58108250, "question_id": 58107772, "link": "https://stackoverflow.com/questions/58107772/is-it-ok-to-place-logic-in-setter-for-c-property/58108250#58108250", "title": "Is it ok to place logic in setter for C# property?", "body": "<h1>Is it OK?</h1>\n\n<p>I don't think it's generally OK to have <strong>logic</strong> in property setters, but your example shows <strong>validation</strong> which is not only OK, but good practice.</p>\n\n<hr>\n\n<h1>Is there a better way?</h1>\n\n<blockquote>\n  <p>or if there's a much better way to write this and why?</p>\n</blockquote>\n\n<p>It <strong>really</strong> depends on how the code is used. </p>\n\n<p>For example, for MVC or EntityFramework models one can argue for <code>StringLength</code> and <code>Required</code> attributes. Please see <a href=\"https://docs.microsoft.com/en-us/aspnet/mvc/overview/older-versions/getting-started-with-aspnet-mvc3/cs/adding-validation-to-the-model\" rel=\"nofollow noreferrer\">Adding Validation to the Model (C#)</a> or <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.componentmodel.dataannotations.stringlengthattribute?view=netframework-4.8\" rel=\"nofollow noreferrer\">StringLengthAttribute Class </a>.</p>\n\n<p>If it's really important it should be validated on multiple levels (throw <em>and</em> use attributes). </p>\n\n<h3>Attributes</h3>\n\n<p>Please note that attributes require a framework (MVC,EF, etc.) to enforce them, while <code>throw new ArgumentException</code> will work in all circumstances which may be the desired option. </p>\n\n<h3>Contract</h3>\n\n<p>Please note that the exceptions are not visible in the build versions of the library and if your models are distributed as a binary it is important to communicate the validation rules via some other way. </p>\n\n<h3>Internationalisation and end user strings in general</h3>\n\n<p>Please note that while the validation exceptions are a sure what to stop bad values if you have to support multiple languages or allow changing the message without deploying new code you have to come up with some other way of dealing with validation failures. </p>\n\n<hr>\n\n<h1>How much validation is OK?</h1>\n\n<p>Microsoft's <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/property\" rel=\"nofollow noreferrer\">Property Design</a> .NET Guide states</p>\n\n<blockquote>\n  <p>\u2713 DO allow properties to be set in any order even if this results in a temporary invalid state of the object.</p>\n  \n  <p>It is common for two or more properties to be interrelated to a point where some values of one property might be invalid given the values of other properties on the same object. In such cases, exceptions resulting from the invalid state should be postponed until the interrelated properties are actually used together by the object.</p>\n</blockquote>\n\n<p>I strongly disagree with such design, but as always there are scenarios where it makes sense. </p>\n\n<p>I have found that systems that keep objects in a valid state are easier to work with and I always encourage immutable class design first. </p>\n"}], "owner": {"reputation": 179, "user_id": 5225978, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d2619ee3cee117c4b94c3418a0e63287?s=128&d=identicon&r=PG&f=1", "display_name": "Blobula", "link": "https://stackoverflow.com/users/5225978/blobula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1569461514, "creation_date": 1569454446, "question_id": 58107772, "link": "https://stackoverflow.com/questions/58107772/is-it-ok-to-place-logic-in-setter-for-c-property", "title": "Is it ok to place logic in setter for C# property?", "body": "<p>I'm looking at some old code and I'm curious if it's appropriate to have logic within the setter property, or if there's a much better way to write this and why? Thank you!</p>\n\n<pre><code>        string qBankCode;\n        string qCode;\n        public string QBankCode\n        {\n            get =&gt; qBankCode;\n            set\n            {\n                if (value.Length == 0)\n                    throw new ArgumentException(\"You need to enter the question bank code as it is mandatory.\");\n                if (value.Length &gt; 30)\n                    throw new ArgumentException(\"Question bank code cannot exceed 30 characters.\");\n                qBankCode = value;\n            }\n        }\n        public string QCode\n        {\n            get =&gt; qCode;\n            set\n            {\n                if (value.Length == 0)\n                    throw new ArgumentException(\"You need to enter the question code as it is mandatory.\");\n                if (value.Length &gt; 30)\n                    throw new ArgumentException(\"Question code cannot exceed 30 characters.\");\n                qCode = value;\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", ".net-core"], "owner": {"reputation": 21, "user_id": 12122000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5d5d33e3b7a4533494c18f5704659c7?s=128&d=identicon&r=PG&f=1", "display_name": "DevSBra", "link": "https://stackoverflow.com/users/12122000/devsbra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 615, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1569454315, "creation_date": 1569454315, "question_id": 58107765, "link": "https://stackoverflow.com/questions/58107765/ef-core-owned-types-the-entity-type-cannot-be-added-to-the-model-because-a-wea", "title": "EF Core Owned types - The entity type cannot be added to the model because a weak entity type with the same name already exists", "body": "<p>I'm facing issues with Migrations when I use the same class as owned type in different entities.\nIf I generate an initial migration with the following code, it works properly, but when I try to generate a second one, it throws the error: The entity type 'OwnedTypesTests.AddressDetails' cannot be added to the model because a weak entity type with the same name already exists.</p>\n\n<p>EF Core version 2.2.6</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Threading.Tasks;\nusing Microsoft.EntityFrameworkCore;\n\nnamespace OwnedTypesTests\n{\n    public class Program\n    {\n        static async Task Main(string[] args)\n        {\n            var dbOptions = new DbContextOptionsBuilder&lt;TestDbContext&gt;().UseSqlServer(TestDbContext.ConnectionString).EnableSensitiveDataLogging().EnableDetailedErrors().Options;\n            using (var dbContext = new TestDbContext(dbOptions))\n            {\n                dbContext.Database.EnsureCreated();\n\n                Console.WriteLine(\"Test\");\n            }\n        }\n    }\n\n    public class TestDbContext : DbContext\n    {\n        public const string ConnectionString = \"-\";\n\n        public DbSet&lt;PersonType1&gt; PersonType1s { get; set; }\n        public DbSet&lt;PersonType2&gt; PersonType2s { get; set; }\n\n        public TestDbContext(DbContextOptions&lt;TestDbContext&gt; options) : base(options) {}\n\n        public TestDbContext(){}\n\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n            var pType1Builder1 = modelBuilder.Entity&lt;PersonType1&gt;();\n            pType1Builder1.ToTable(\"person_type_1\");\n            pType1Builder1.HasKey(p =&gt; p.Id);\n            pType1Builder1.OwnsOne(p =&gt; p.Address, c =&gt;\n            {\n                c.ToTable(\"Address1\");\n                c.Property&lt;int&gt;(\"Id\");\n                c.HasKey(\"Id\");\n                c.Property(a =&gt; a.Street).HasColumnName(\"street_name\");\n                c.OwnsMany(a =&gt; a.ListOfDetails, a2 =&gt;\n                    {\n                        a2.ToTable(\"list_details_1\");\n                        a2.HasForeignKey(\"address1_id\");\n                        a2.Property&lt;long&gt;(\"id\");\n                        a2.HasKey(\"id\");\n                        a2.OwnsOne(l =&gt; l.From).Property(p =&gt; p.Code).HasColumnName(\"from_code\");\n                        a2.OwnsOne(l =&gt; l.To).Property(p =&gt; p.Code).HasColumnName(\"to_code\");\n                    });\n            });\n\n            var pType1Builder2 = modelBuilder.Entity&lt;PersonType2&gt;();\n            pType1Builder2.ToTable(\"person_type_2\");\n            pType1Builder2.HasKey(p =&gt; p.Id);\n            pType1Builder2.OwnsOne(p =&gt; p.Address, c =&gt;\n            {\n                c.ToTable(\"Address2\");\n                c.Property&lt;int&gt;(\"Id\");\n                c.HasKey(\"Id\");\n                c.Property(a =&gt; a.Street).HasColumnName(\"street_name\");\n                c.OwnsMany(a =&gt; a.ListOfDetails, a2 =&gt;\n                {\n                    a2.ToTable(\"list_details_2\");\n                    a2.HasForeignKey(\"address2_id\");\n                    a2.Property&lt;long&gt;(\"id\");\n                    a2.HasKey(\"id\");\n                    a2.OwnsOne(l =&gt; l.From).Property(p =&gt; p.Code).HasColumnName(\"from_code\");\n                    a2.OwnsOne(l =&gt; l.To).Property(p =&gt; p.Code).HasColumnName(\"to_code\");\n                });\n            });\n        }\n\n        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n        {\n            optionsBuilder.UseSqlServer(ConnectionString).EnableSensitiveDataLogging();\n        }\n    }\n\n    public class PersonType1\n    {\n        public int Id { get; set; }\n        public string Name { get; set; }\n        public Address Address { get; set; }\n    }\n\n    public class PersonType2\n    {\n        public int Id { get; set; }\n        public string Name { get; set; }\n        public Address Address { get; set; }\n    }\n\n    public class Address1\n    {\n        public string Street { get; set; }\n        public List&lt;AddressDetails&gt; ListOfDetails { get; set; }\n    }\n\n    public class Address\n    {\n        public string Street { get; set; }\n        public List&lt;AddressDetails&gt; ListOfDetails { get; set; }\n    }\n\n    public class AddressDetails\n    {\n        public Location From { get; set; }\n        public Location To { get; set; }\n    }\n\n    public class Location\n    {\n        public string Code { get; set; }\n    }\n}\n\n\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-core", "model-view-controller", "view"], "comments": [{"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1569457860, "post_id": 58107729, "comment_id": 102606500, "body": "<a href=\"https://stackoverflow.com/questions/2634858/how-do-i-reflect-over-the-members-of-dynamic-object\" title=\"how do i reflect over the members of dynamic object\">stackoverflow.com/questions/2634858/&hellip;</a>"}, {"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1569457878, "post_id": 58107729, "comment_id": 102606503, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2634858/how-do-i-reflect-over-the-members-of-dynamic-object\">How do I reflect over the members of dynamic object?</a>"}, {"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1569459265, "post_id": 58107729, "comment_id": 102606744, "body": "Are you able to display the column names ?"}], "answers": [{"tags": [], "owner": {"reputation": 32, "user_id": 12112265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Ypkxi162bFo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd9K3u8XXeD2JDSjNYPDZ50IJMxiA/photo.jpg?sz=128", "display_name": "\u5305\u4fca\u4ec1", "link": "https://stackoverflow.com/users/12112265/%e5%8c%85%e4%bf%8a%e4%bb%81"}, "is_accepted": false, "score": 0, "last_activity_date": 1569463562, "creation_date": 1569463562, "answer_id": 58108624, "question_id": 58107729, "link": "https://stackoverflow.com/questions/58107729/view-dynamic-model/58108624#58108624", "title": "View - dynamic model", "body": "<pre><code>@model  List&lt;dynamic&gt;\n&lt;table&gt;\n    &lt;tr&gt;\n        @foreach (var item in Model.ElementAt(0).GetType().GetProperties())\n        {\n            &lt;td&gt;\n                @item.Name\n            &lt;/td&gt;\n        }\n    &lt;/tr&gt;\n    @foreach (var item in Model)\n    {\n        if (item.GetType() == typeof(Person))\n        {\n            var person = item as Person;\n\n            &lt;tr&gt;\n                @person.Name\n            &lt;/tr&gt;\n        }\n        if (item.GetType() == typeof(Team)) {\n\n            var team = item as team;\n\n                &lt;tr&gt;\n                     @team.Name\n               &lt;/tr&gt;\n\n        }\n\n    }\n&lt;/table&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": true, "score": 0, "last_activity_date": 1569488561, "creation_date": 1569488561, "answer_id": 58113198, "question_id": 58107729, "link": "https://stackoverflow.com/questions/58107729/view-dynamic-model/58113198#58113198", "title": "View - dynamic model", "body": "<p>It comes to errors when I use <code>@model List&lt;dynamic&gt;</code> as model of view.When I change it to <code>@model dynamic</code>,it works with below code</p>\n\n<pre><code>@model dynamic\n@using System.Reflection\n@{\n    var properties = Model[0].GetType().GetProperties();\n}\n&lt;table&gt;\n    &lt;tr&gt;\n        @foreach (var item in properties)\n        {\n            &lt;td&gt;\n                @item.Name\n            &lt;/td&gt;\n        }\n    &lt;/tr&gt;\n    @foreach (var item in Model)\n    {\n        &lt;tr&gt;\n            @foreach (PropertyInfo p in properties)\n            {\n                &lt;td&gt;@p.GetValue(item)&lt;/td&gt;\n            }\n        &lt;/tr&gt;\n    }\n\n&lt;/table&gt;\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 11749015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1979952d2a799410665ee3fb1e7008a?s=128&d=identicon&r=PG&f=1", "display_name": "Johntra", "link": "https://stackoverflow.com/users/11749015/johntra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1261, "favorite_count": 1, "accepted_answer_id": 58113198, "answer_count": 2, "score": 0, "last_activity_date": 1569488561, "creation_date": 1569453959, "question_id": 58107729, "link": "https://stackoverflow.com/questions/58107729/view-dynamic-model", "title": "View - dynamic model", "body": "<p>I am attempting to create a dynamic table in my view that will be dynamically generated depending on the type of model I send to the view. So, I basically have two actions:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public IActionResult People()\n{\n        List&lt;Person&gt; lst = new List&lt;Person&gt;();\n        // Add data...\n        return View(\"Table\", lst);\n}\n\npublic IActionResult Teams()\n{\n        List&lt;Team&gt; lst = new List&lt;Team&gt;();\n        // Add data...\n        return View(\"Table\", lst);\n}\n</code></pre>\n\n<p>Now I would like to have the same view that will show a list of people / teams, so that I don't have to duplicate it. My Table.cshtml looks like this:</p>\n\n<pre><code>@model List&lt;dynamic&gt;\n&lt;table&gt;\n    &lt;tr&gt;\n        @foreach (var item in Model.ElementAt(0).GetType().GetProperties())\n        {\n            &lt;td&gt;\n                @item.Name\n            &lt;/td&gt;\n        }\n    &lt;/tr&gt;\n    @foreach (var item in Model)\n    {\n        &lt;tr&gt;\n            // foreach (var propValue in item.GetProperties())\n            // Get value for each property in the `item`\n        &lt;/tr&gt;\n    }\n&lt;/table&gt;\n</code></pre>\n\n<p>My basic output would be an HTML table corresponding to what is shown below:</p>\n\n<pre><code>Id, PersonName, Age\n1, John, 24\n2, Mike, 32\n3, Rick, 27\n</code></pre>\n\n<p>What I have a problem with is dynamically get the value for each property in my model class instance. I don't know how to get the value from the item (there's no such thing as <code>item.Property(someName).GetValue()</code>). That way I could send a List (T could be Person, Team, Student, anything) and as a result I would get a <code>&lt;table&gt;</code> with Person / Team / Student properties (e.g Id, Name, Age) and values of each of the properties in another <code>&lt;tr&gt;</code>.</p>\n"}, {"tags": ["c#", ".net-core", "intrinsics", "out"], "comments": [{"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1569452245, "post_id": 58107536, "comment_id": 102605523, "body": "Simple answer; no. <code>C#</code> requires all <code>out</code> parameters be initialized."}, {"owner": {"reputation": 103, "user_id": 8791797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24873a3219a8ff53eb1f178e49b53cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Sean M.", "link": "https://stackoverflow.com/users/8791797/sean-m"}, "reply_to_user": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1569452382, "post_id": 58107536, "comment_id": 102605542, "body": "I am afraid, but accepting, that this is likely the case. I&#39;m more curious if there are any tricks people may have up their sleeves to get around this specific issue."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1569452519, "post_id": 58107536, "comment_id": 102605566, "body": "Does using <code>out</code> not copy the struct? <i>I honestly don&#39;t know the answer.</i>"}, {"owner": {"reputation": 103, "user_id": 8791797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24873a3219a8ff53eb1f178e49b53cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Sean M.", "link": "https://stackoverflow.com/users/8791797/sean-m"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1569453414, "post_id": 58107536, "comment_id": 102605735, "body": "@mjwills In the case of value types, an <code>out</code> parameter will pass a reference to a block of memory for that type, which can be written directly into. This removes the need for the struct copy when the function returns."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1569457031, "post_id": 58107536, "comment_id": 102606371, "body": "For what it&#39;s worth, I consider the inline declaration syntax to be of <i>very</i> minimal benefit. I like using it when I can, but it is not even close to a serious inconvenience to not have access to it. That said, note that even if you use <code>ref</code>, you will be required to initialize the object. It&#39;s just that you have to initialize it before calling your method instead of inside it. Have you considered just initializing it with <code>new Matrix()</code>? I would guess that the compiler would optimize that reasonably well (if not csc, then the JIT compiler)"}], "answers": [{"comments": [{"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1569460442, "post_id": 58108152, "comment_id": 102606931, "body": "<i>merely zeroing out the memory location. It should be fast enough</i>...  Perhaps you&#39;re not realizing how cheap the real work of this function is.  If the zeroing doesn&#39;t optimize away once it gets to the real optimizer, another 4 <code>movups</code> instructions is a significant fraction of the total uop count for this function.  e.g. 4x <code>movups</code> load, 4x <code>addps</code> with memory sources (assuming aligned source or if AVX is available), 4x <code>movups</code> stores.  So 12 fused-domain uops. Zeroing a register and doing another 4 stores would bring it up to 17 uops. Also store throughput is only 1/clock (until Icelake)"}, {"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1569460648, "post_id": 58108152, "comment_id": 102606962, "body": "The analysis is basically identical for AMD and Intel, except that AMD can&#39;t do 2 load + 1 store per clock.  If this function inlines into the caller where the data is already in registers, it&#39;s just 4x <code>addps</code> without necessarily storing, e.g. if the 4x4 matrix is going to be an input to something else.  And BTW, if the matrix was large, writing it twice would be even <i>more</i> expensive.  (e.g. if the stores might miss in cache, then both passes would pay that cost.)  So this answer is only good if you can show that the dummy init optimizes away in practice."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1569461286, "post_id": 58108152, "comment_id": 102607075, "body": "@Peter: thanks. My answer is presented from the point of view of the higher-level C# issues. The OP says they want to use inline declaration of the parameter, and it&#39;s not clear whether they even really need performance here. It&#39;s beyond my intended scope to dig very deeply into the nitty gritty of counting cycles; rather, to focus on the C# abstractions that are available vs those which are not. If you find the answer lacking, I encourage you to post your own so that the OP can benefit from your wisdom."}, {"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1569461650, "post_id": 58108152, "comment_id": 102607136, "body": "If I had a C# compiler and knew the language, I might check it out.  But I don&#39;t so I can&#39;t easily investigate.  If the OP didn&#39;t need performance, presumably they wouldn&#39;t be manually using SIMD.  Anyway, <i>hopefully</i> you just need to keep the language happy, and real compilers will optimize away the store/reload to memory entirely if possible, when optimizing for CIL to machine code after inlining.  If that&#39;s plausible, I&#39;d phrase the answer that way, not in terms of zeroing have a small but negligible cost."}, {"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1569461814, "post_id": 58108152, "comment_id": 102607161, "body": "Anyway, doesn&#39;t C# have a <code>Vector&lt;float&gt;</code> extension that lets you do SIMD without <code>unsafe</code> code?  That might be a better idea, and gives you 256-bit vectors on machines that support them.  Unless the OP needs this style of using SSE for shuffles to transpose matrices?  IDK enough about how C# exposes SIMD; I just sometimes look at C# simd questions because sometimes they&#39;re about what x86 can do efficiently, assuming there&#39;s a way to express that in C# somehow."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1569464373, "post_id": 58108152, "comment_id": 102607638, "body": "@peter: .NET (C#) has a whole <code>System.Numerics</code> namespace with optimized numerical data types. There&#39;s not enough context in the question to know if that&#39;s an option for the OP, or if that&#39;s really even what they want. Maybe the use of SSE here is academic exercise. The question isn&#39;t presented as a performance issue but rather a &quot;make the compiler happy&quot; issue, and so I&#39;ve answered in that vein."}, {"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1569465301, "post_id": 58108152, "comment_id": 102607788, "body": "Sure.  My only objection to your answer is that you suggest a non-zero overhead is probably ok, instead of suggesting that this might optimize away entirely.  (Or maybe it can&#39;t, IDK if boundaries between unsafe and managed code are a problem for the optimizer, in which case doing this tiny amount of work inside an unsafe function might be a bad idea).  The rest of it, explaining why you have to keep the compiler happy and so on, looks good."}, {"owner": {"reputation": 103, "user_id": 8791797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24873a3219a8ff53eb1f178e49b53cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Sean M.", "link": "https://stackoverflow.com/users/8791797/sean-m"}, "edited": false, "score": 0, "creation_date": 1569532803, "post_id": 58108152, "comment_id": 102638177, "body": "@PeterDuniho, thank you for the analysis of the generated IL, its helpful in seeing exactly what the C# compiler is doing in the background. I am going to do some more timing tests to see if the overhead of the <code>default(Matrix)</code> still allows the SSE instructions to be faster than a member-wise addition."}, {"owner": {"reputation": 103, "user_id": 8791797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24873a3219a8ff53eb1f178e49b53cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Sean M.", "link": "https://stackoverflow.com/users/8791797/sean-m"}, "reply_to_user": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1569532954, "post_id": 58108152, "comment_id": 102638221, "body": "@PeterCordes, thanks for the additional information as well, in terms of the nitty-gritty level of counting cycles. My interest in this issue is academic, and my original question was intended to get around the peculiarities of the C# compiler. However, it&#39;s nice to have an analysis of the really low level."}], "tags": [], "owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "is_accepted": true, "score": 2, "last_activity_date": 1569461160, "last_edit_date": 1569461160, "creation_date": 1569458551, "answer_id": 58108152, "question_id": 58107536, "link": "https://stackoverflow.com/questions/58107536/how-to-avoid-out-parameter-error-when-using-intrinsics/58108152#58108152", "title": "How to avoid `out` parameter error when using intrinsics?", "body": "<p>I'm assuming here that you are using a <code>Matrix</code> type that is a <code>struct</code>. Obviously, if it were a reference type, then your method would in fact have to initialize the parameter value before you could use it, so the fact that your code doesn't indicates to me that it's a value type.</p>\n\n<p>The C# compiler cannot be made to ignore compile-time errors. And it's a compile-time error to not initialize an <code>out</code> parameter before the method returns. So you are stuck.</p>\n\n<p>That said, I don't think this should be a significant hardship. You can write your method as so:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public unsafe static void Add(in Matrix l, in Matrix r, out Matrix o)\n{\n    o = default(Matrix);\n\n    fixed (float* lp = &amp;l.m00, rp = &amp;r.m00, op = &amp;o.m00)\n    {\n        var c1 = Sse.Add(Sse.LoadVector128(lp + 0),  Sse.LoadVector128(rp + 0));\n        var c2 = Sse.Add(Sse.LoadVector128(lp + 4),  Sse.LoadVector128(rp + 4));\n        var c3 = Sse.Add(Sse.LoadVector128(lp + 8),  Sse.LoadVector128(rp + 8));\n        var c4 = Sse.Add(Sse.LoadVector128(lp + 12), Sse.LoadVector128(rp + 12));\n        Sse.Store(op + 0,  c1);\n        Sse.Store(op + 4,  c2);\n        Sse.Store(op + 8,  c3);\n        Sse.Store(op + 12, c4);\n    }\n}\n</code></pre>\n\n<p>This will compile to something like this (I picked an arbitrary <code>Matrix</code> type for the sake of the example&hellip;it's obviously not the one you're using, but the basic premise is the same):</p>\n\n<pre><code>IL_0000:  ldarg.0\nIL_0001:  initobj    System.Windows.Media.Matrix\n</code></pre>\n\n<p>Which in turn will simply <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.reflection.emit.opcodes.initobj\" rel=\"nofollow noreferrer\">initialize the block of memory to <code>0</code> values</a>:</p>\n\n<blockquote>\n  <p>The <code>initobj</code> instruction initializes each field of the value type specified by the pushed address (of type <code>native int</code>, <code>&amp;</code>, or <code>*</code>) to a null reference or a 0 of the appropriate primitive type. After this method is called, the instance is ready for a constructor method to be called. If <code>typeTok</code> is a reference type, this instruction has the same effect as <code>ldnull</code> followed by <code>stind.ref</code>.</p>\n  \n  <p>Unlike <code>Newobj</code>, <code>initobj</code> does not call the constructor method. <code>Initobj</code> is intended for initializing value types, while <code>newobj</code> is used to allocate and initialize objects.</p>\n</blockquote>\n\n<p>In other words, <code>initobj</code>, which is what you get when you use <code>default(Matrix)</code>, is a very simple initialization, merely zeroing out the memory location. It should be fast enough, and in any case is obviously less overhead than allocating a whole new copy of the object and then copying the result back to the original variable, whether that's done locally or via return value.</p>\n\n<p>All that said, this depends a lot on the context of how you're going to call the method. While you say that you would like to preserve the convenience of inline declaration, it's not clear to me why you would want that for a method that is apparently performance-critical enough to be using SSE features and unsafe code. With inline declaration, you necessarily are going to have to reinitialize the variable with each call.</p>\n\n<p>If this method is actually being called in a performance-critical way, then to me that implies it's in a loop being called a large number of times, possibly millions or more. In that situation, you may prefer the <code>ref</code> option, where you can initialize the variable outside you loop, and then just reuse that variable for each call, rather than redeclaring a new variable for each call.</p>\n"}], "owner": {"reputation": 103, "user_id": 8791797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24873a3219a8ff53eb1f178e49b53cbd?s=128&d=identicon&r=PG&f=1", "display_name": "Sean M.", "link": "https://stackoverflow.com/users/8791797/sean-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 58108152, "answer_count": 1, "score": 2, "last_activity_date": 1569461160, "creation_date": 1569452112, "question_id": 58107536, "link": "https://stackoverflow.com/questions/58107536/how-to-avoid-out-parameter-error-when-using-intrinsics", "title": "How to avoid `out` parameter error when using intrinsics?", "body": "<p>I am trying out the new hardware intrinsics added to .NET Core 3.0, specifically in order to accelerate operations on matrices. For matrix addition, I have a function, which takes two 4x4 <code>float</code> matrices as <code>in</code> parameters, and a third <code>out</code> matrix to store the results in. It uses the SSE 128-bit vector intrinsics to add and store the results in the output:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public unsafe static void Add(in Matrix l, in Matrix r, out Matrix o)\n{\n    fixed (float* lp = &amp;l.m00, rp = &amp;r.m00, op = &amp;o.m00)\n    {\n        var c1 = Sse.Add(Sse.LoadVector128(lp + 0),  Sse.LoadVector128(rp + 0));\n        var c2 = Sse.Add(Sse.LoadVector128(lp + 4),  Sse.LoadVector128(rp + 4));\n        var c3 = Sse.Add(Sse.LoadVector128(lp + 8),  Sse.LoadVector128(rp + 8));\n        var c4 = Sse.Add(Sse.LoadVector128(lp + 12), Sse.LoadVector128(rp + 12));\n        Sse.Store(op + 0,  c1);\n        Sse.Store(op + 4,  c2);\n        Sse.Store(op + 8,  c3);\n        Sse.Store(op + 12, c4);\n    }\n}\n</code></pre>\n\n<p>Now obviously the C# compiler has an issue with this, because it can't tell that the output matrix is ever written to, so it generates the error that the function cannot return until the <code>o</code> variable is assigned to. <strong>My question is if there is any way around this</strong>, without having to resort to assigning to the variable before performing the intrinsics operations, such as <code>o = default;</code> as the first line in the function. </p>\n\n<p>I originally considered something along the lines of:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var op = stackalloc float[16];\nfixed (float* lp = &amp;l.m00, rp = &amp;r.m00)\n{\n...\n}\no = *(Matrix*)op;\n</code></pre>\n\n<p>but realized this doesn't avoid copying the struct, which removes the whole point of passing the matrix as an <code>out</code>.</p>\n\n<p>I realize that this would work if I passed the output Matrix as <code>ref</code> instead, or if I just returned a matrix instance from the function, but it would be nice to keep the helpful inline syntax (<code>Matrix.Add(l, r, out Matrix o)</code>) and performance benefits from passing around large value types by reference.</p>\n"}, {"tags": ["c#", "xaml", "xamarin", "xamarin.forms"], "comments": [{"owner": {"reputation": 427, "user_id": 9916663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZZtOKC8mWPk/AAAAAAAAAAI/AAAAAAAAGaw/q8uM6m6Guoo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/9916663/steve"}, "edited": false, "score": 0, "creation_date": 1569627617, "post_id": 58107483, "comment_id": 102670595, "body": "<b>UPDATE:</b> I have just realised that when I comment out <code>ProfilePhotoBytes</code> from being set through <code>bytes</code> in the else statement this resolves the issue. I have tested this 15 times to make sure it is consistent. This means that operation somehow interferes with the rest of the <code>User</code> object being notified to the front end. Any help with this please?"}, {"owner": {"reputation": 5694, "user_id": 11850033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L8DeL.jpg?s=128&g=1", "display_name": "Wendy Zang - MSFT", "link": "https://stackoverflow.com/users/11850033/wendy-zang-msft"}, "edited": false, "score": 0, "creation_date": 1569909759, "post_id": 58107483, "comment_id": 102737889, "body": "Please make a breakpoint to debug the profilePhotoBytes whether it get the value."}, {"owner": {"reputation": 427, "user_id": 9916663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZZtOKC8mWPk/AAAAAAAAAAI/AAAAAAAAGaw/q8uM6m6Guoo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/9916663/steve"}, "reply_to_user": {"reputation": 5694, "user_id": 11850033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L8DeL.jpg?s=128&g=1", "display_name": "Wendy Zang - MSFT", "link": "https://stackoverflow.com/users/11850033/wendy-zang-msft"}, "edited": false, "score": 0, "creation_date": 1569966243, "post_id": 58107483, "comment_id": 102764534, "body": "It definitely gets a value, because the photo gets set and then the text doesn;&#39;t. But then if it goes to default photo then both the photo and text shows. I noticed that lower resolution photos do not have this issue. Its interesting."}], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 9916663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZZtOKC8mWPk/AAAAAAAAAAI/AAAAAAAAGaw/q8uM6m6Guoo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/9916663/steve"}, "edited": false, "score": 0, "creation_date": 1569529518, "post_id": 58111275, "comment_id": 102637049, "body": "Thanks, I agree that should be there. Anyway, it still does not populate my view. I actually have to created a button and change a property of User because the rest of the data loads. I have updated the models so you can see exactly what I am working with. I have updated the question to reflect the issue. Thanks."}], "tags": [], "owner": {"reputation": 137, "user_id": 6893277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d927fbf0336a021e6bff18253df75d11?s=128&d=identicon&r=PG&f=1", "display_name": "Hamid Shaikh", "link": "https://stackoverflow.com/users/6893277/hamid-shaikh"}, "is_accepted": false, "score": 0, "last_activity_date": 1569481564, "creation_date": 1569481564, "answer_id": 58111275, "question_id": 58107483, "link": "https://stackoverflow.com/questions/58107483/async-method-populating-xaml-binded-fields-inconsistently/58111275#58111275", "title": "Async method populating XAML binded fields inconsistently", "body": "<p>The problem seems to be simple...</p>\n\n<p>As you are binding class properties to UI elements which are not implementing INotifyPropertyChanged interface...any changes to those properties which not reflect your UI elements post UI elements has been already rendered...</p>\n\n<p>The easiest fix would be Implement your model class with </p>\n\n<blockquote>\n  <p>INotifyPropertyChanged</p>\n</blockquote>\n\n<p>interface...</p>\n\n<p>As you are using Prism this can be achieved by inheriting </p>\n\n<blockquote>\n  <p>BindableBase</p>\n</blockquote>\n\n<p>class...for eg</p>\n\n<pre><code>public class Group : BindableBase\n{\n    string _id;\n    public string Id { get =&gt; _id; set =&gt; SetProperty(ref _id, value); }\n    string _name;\n    public string Name { get =&gt; _name; set =&gt; SetProperty(ref _name, value); }\n\n    public byte[] GroupPhotoBytes { get; set; } //change similarly like above\n    public string CreatedUserId { get; set; } // to do \n    public DateTime CreatedDate { get; set; } // to do\n}\n</code></pre>\n\n<p>After the above changes done...now your UI will be updated when your properties are updated...</p>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 427, "user_id": 9916663, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZZtOKC8mWPk/AAAAAAAAAAI/AAAAAAAAGaw/q8uM6m6Guoo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/9916663/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1569616956, "creation_date": 1569451734, "last_edit_date": 1569616956, "question_id": 58107483, "link": "https://stackoverflow.com/questions/58107483/async-method-populating-xaml-binded-fields-inconsistently", "title": "Async method populating XAML binded fields inconsistently", "body": "<p>I have a view which is populated by two different <em>Models</em>. For my app this means that two differences <em>Services</em> are used to obtain the data for these respective models.</p>\n\n<p>Now the data simply will not populate. What do I mean? Currently, when the page loads only <code>Group.Name</code> shows. The rest of the <code>User</code> labels do not show. I have to create a button which changes a field in the <code>User</code> binded object before the three labels show.</p>\n\n<p><strong>Note:</strong> <code>BaseViewModel</code> inherits  <code>INotifyPropertyChanged</code> and <code>IPageLifecycleAware</code>. <code>SetProperty()</code> raises the event for when the property is changed.</p>\n\n<h3>View</h3>\n\n<pre><code>&lt;StackLayout Margin=\"10\" VerticalOptions=\"StartAndExpand\"&gt;\n    &lt;Grid&gt;\n        &lt;Label Grid.Row=\"0\" Text=\"{Binding User.Name}\"/&gt;\n        &lt;Label Grid.Row=\"1\" Text=\"{Binding User.Age}\"/&gt;\n        &lt;Label Grid.Row=\"2\" Text=\"{Binding User.Occupation}\"/&gt;\n        &lt;Label Grid.Row=\"3\" Text=\"{Binding Group.Name}\"/&gt;\n    &lt;/Grid&gt;\n&lt;/StackLayout&gt;\n</code></pre>\n\n<h3>ViewModel</h3>\n\n<pre><code>public class ProfileViewModel : BaseViewModel\n{\n    private IGroupService _groupService;\n    private IUserService _userService;\n    public ProfileViewModel(IGroupService groupService, IUserService userService)\n    {\n        _groupService = groupService;\n        _userService = userService;\n        GetUser();\n        GetGroup();\n    }\n\n    private async void GetUser()\n    {\n        var user = await _userService.GetUserAsync();\n        User = user;\n        SetProfilePhoto();\n    }\n\n    private async void GetGroup()\n    {\n        var group = await _groupService.GetGroupAsync();\n        Group = group;\n    }\n\n    private void SetProfilePhoto()\n    {\n        var profilePhotoBytes = User.ProfilePhotoBytes;\n        if (profilePhotoBytes == null || profilePhotoBytes.Length == 0)\n            ProfilePhoto = ImageSource.FromResource(\"MyApp.Images.default_profile_picture.png\");\n        else\n            ProfilePhoto = ImageSource.FromStream(() =&gt; new MemoryStream(profilePhotoBytes));\n    }\n\n    private ImageSource _profilePhoto;\n    public ImageSource ProfilePhoto { get =&gt; _profilePhoto; set =&gt; SetProperty(ref _profilePhoto, value); }\n\n    private User _user;\n    public User User { get =&gt; _user; set =&gt; SetProperty(ref _user, value); \n    }\n    private Group _group;\n    public Group Group{ get =&gt; _group; set =&gt; SetProperty(ref _group, value); }\n}\n</code></pre>\n\n<h3>Models</h3>\n\n<pre><code>public class User: BindableBase\n{\n    private string _id;\n    public string Id { get =&gt; _id; set =&gt; SetProperty(ref _id, value); }\n\n    private string _name;\n    public string Name { get =&gt; _name; set =&gt; SetProperty(ref _name, value); }\n\n    private string _age;\n    public string Age { get =&gt; _age; set =&gt; SetProperty(ref _age, value); }\n\n    private string _occupation;\n    public string Occupation { get =&gt; _occupation; set =&gt; SetProperty(ref _occupation, value); }\n\n    private byte[] _profilePhotoBytes;\n    public byte[] ProfilePhotoBytes { get =&gt; _profilePhotoBytes; set =&gt; SetProperty(ref _profilePhotoBytes, value); }\n\n    private ImageSource _profilePhoto;\n    public ImageSource ProfilePhoto { get =&gt; _profilePhoto; set =&gt; SetProperty(ref _profilePhoto, value); }\n}\n\npublic class Group: BindableBase\n{\n    private string _id;\n    public string Id { get =&gt; _id; set =&gt; SetProperty(ref _id, value); }\n\n    private string _name;\n    public string Name { get =&gt; _name; set =&gt; SetProperty(ref _name, value); }\n\n    private byte[] _groupPhotoBytes;\n    public byte[] GroupPhotoBytes { get =&gt; _groupPhotoBytes; set =&gt; SetProperty(ref _groupPhotoBytes, value); }\n\n    private string _createdUserId;\n    public string CreatedUserId { get =&gt; _createdUserId; set =&gt; SetProperty(ref _createdUserId, value); }\n\n    private DateTime _createdDate;\n    public DateTime CreatedDate { get =&gt; _createdDate; set =&gt; SetProperty(ref _createdDate, value); }\n}\n</code></pre>\n"}, {"tags": ["c#", "cassandra", "datastax"], "comments": [{"owner": {"reputation": 1888, "user_id": 798244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c3cbbef306763d8f70b408922bab87?s=128&d=identicon&r=PG", "display_name": "zznate", "link": "https://stackoverflow.com/users/798244/zznate"}, "edited": false, "score": 4, "creation_date": 1569462392, "post_id": 58107472, "comment_id": 102607270, "body": "You&#39;ve provided very little information for debugging. Have you tried tracing the query in cqlsh? What is the output of nodetool tablestats and tablehistograms for this table? What is the data model? A brief description of the work load would also be helpful. Well designed schemas on modern hardware should have single digit millisecond response times."}, {"owner": {"reputation": 6143, "user_id": 208683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86c110b8029c1fcbdda533c9298f6ac?s=128&d=identicon&r=PG", "display_name": "jorgebg", "link": "https://stackoverflow.com/users/208683/jorgebg"}, "edited": false, "score": 2, "creation_date": 1569499533, "post_id": 58107472, "comment_id": 102621970, "body": "A code sample would help also"}, {"owner": {"reputation": 1762, "user_id": 6114888, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/10208661162904754/picture?type=large", "display_name": "Jim Wartnick", "link": "https://stackoverflow.com/users/6114888/jim-wartnick"}, "edited": false, "score": 0, "creation_date": 1569512037, "post_id": 58107472, "comment_id": 102629227, "body": "If you have a query that takes 60 seconds to respond there are some serious issues somewhere. Considering reads timeout in 5 or 10 seconds, I&#39;m not even sure how that would happen (unless your nodes are completely overwhelmed and can&#39;t even respond to the Cassandra timeouts)."}, {"owner": {"reputation": 47278, "user_id": 18627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b31b9d123bff80f00317a1df0dd00e2?s=128&d=identicon&r=PG", "display_name": "Alex Ott", "link": "https://stackoverflow.com/users/18627/alex-ott"}, "edited": false, "score": 0, "creation_date": 1569915277, "post_id": 58107472, "comment_id": 102740194, "body": "most probably is that you&#39;re not using the read by partition key, but instead using <code>select * from table</code>, or <code>select ... from table where ... ALLOW FILTERING</code>..."}, {"owner": {"reputation": 41, "user_id": 8426038, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Vo1p9wE5Am0/AAAAAAAAAAI/AAAAAAAAAQw/ZI2IR31ycLQ/photo.jpg?sz=128", "display_name": "Sitakant Mishra", "link": "https://stackoverflow.com/users/8426038/sitakant-mishra"}, "reply_to_user": {"reputation": 47278, "user_id": 18627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b31b9d123bff80f00317a1df0dd00e2?s=128&d=identicon&r=PG", "display_name": "Alex Ott", "link": "https://stackoverflow.com/users/18627/alex-ott"}, "edited": false, "score": 0, "creation_date": 1570144072, "post_id": 58107472, "comment_id": 102830702, "body": "@AlexOtt Yes, I am using ALLOW FILTERING for all of my queries. Why do you think it is going to be a bottleneck?"}, {"owner": {"reputation": 41, "user_id": 8426038, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Vo1p9wE5Am0/AAAAAAAAAAI/AAAAAAAAAQw/ZI2IR31ycLQ/photo.jpg?sz=128", "display_name": "Sitakant Mishra", "link": "https://stackoverflow.com/users/8426038/sitakant-mishra"}, "edited": false, "score": 0, "creation_date": 1570144525, "post_id": 58107472, "comment_id": 102830794, "body": "So, I have seen that if there will be sudden increase in volume per say 1000 messages per minute, the cassandra retrieve request slows down up to 60 seconds or more. For some reason, it looks like the Datastax driver is loosing socket connections and my windows application throws the following error.        Listen &gt; Failed to open socket: System.Net.Sockets.SocketException (0x80004005): A blocking operation was interrupted by a call to WSACancelBlockingCall."}, {"owner": {"reputation": 41, "user_id": 8426038, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Vo1p9wE5Am0/AAAAAAAAAAI/AAAAAAAAAQw/ZI2IR31ycLQ/photo.jpg?sz=128", "display_name": "Sitakant Mishra", "link": "https://stackoverflow.com/users/8426038/sitakant-mishra"}, "edited": false, "score": 0, "creation_date": 1570144616, "post_id": 58107472, "comment_id": 102830811, "body": "After this other services in the application does not get any socket connections."}, {"owner": {"reputation": 47278, "user_id": 18627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b31b9d123bff80f00317a1df0dd00e2?s=128&d=identicon&r=PG", "display_name": "Alex Ott", "link": "https://stackoverflow.com/users/18627/alex-ott"}, "edited": false, "score": 0, "creation_date": 1570179724, "post_id": 58107472, "comment_id": 102839813, "body": "You need to read more on how Cassandra works - it isn&#39;t designed to execute queries that run on multiple machines &amp; fetch all data. I recommend to take DS201 &amp; DS220 courses on <a href=\"https://academy.datastax.com/\" rel=\"nofollow noreferrer\">academy.datastax.com</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4241, "user_id": 6085803, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ARdCw.jpg?s=128&g=1", "display_name": "sandeep rawat", "link": "https://stackoverflow.com/users/6085803/sandeep-rawat"}, "is_accepted": false, "score": 0, "last_activity_date": 1569509998, "creation_date": 1569509998, "answer_id": 58119628, "question_id": 58107472, "link": "https://stackoverflow.com/questions/58107472/issues-with-cassandra-read-performance/58119628#58119628", "title": "Issues with Cassandra Read Performance", "body": "<p>Cassandra use <a href=\"https://en.wikipedia.org/wiki/Log-structured_merge-tree\" rel=\"nofollow noreferrer\">Log-structured_merge-tree</a> which is <strong>optimized for write complicity</strong> not for the read </p>\n\n<pre><code>Read O(N) \ndelete O(n) \nWrite O(1)\n</code></pre>\n\n<p>So as data grow the read performance start impacting down</p>\n"}], "owner": {"reputation": 41, "user_id": 8426038, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Vo1p9wE5Am0/AAAAAAAAAAI/AAAAAAAAAQw/ZI2IR31ycLQ/photo.jpg?sz=128", "display_name": "Sitakant Mishra", "link": "https://stackoverflow.com/users/8426038/sitakant-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569563811, "creation_date": 1569451693, "last_edit_date": 1569563811, "question_id": 58107472, "link": "https://stackoverflow.com/questions/58107472/issues-with-cassandra-read-performance", "title": "Issues with Cassandra Read Performance", "body": "<p>I have an C# application (Datastax driver) which is focused on Casandra data retrieval. One of the major issues with this is that with increase in volume, the asynchronous reads take more than 60 seconds to respond and that leads to timeouts in the application. As this is a data retrieval request, so I have to wait on the asynchronous execute call to finish. This sometimes leads to loss in TCP socket connections in the application. Any suggestion to tackle this issue is greatly appreciated.</p>\n"}, {"tags": ["c#", "authentication", "asp.net-core", "cookies", "cors"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 2616448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a76e5b19d7df7922ff08a6a08ee5a918?s=128&d=identicon&r=PG", "display_name": "user2616448", "link": "https://stackoverflow.com/users/2616448/user2616448"}, "is_accepted": true, "score": 0, "last_activity_date": 1569865844, "creation_date": 1569865844, "answer_id": 58172863, "question_id": 58107470, "link": "https://stackoverflow.com/questions/58107470/how-to-set-up-cors-enabled-domain-authentication-cookie-net-core/58172863#58172863", "title": "How to Set Up CORS enabled domain authentication cookie .Net Core?", "body": "<p>After reading up some other posts on stackoverflow , it tuned out that AllowAllOrigins will only fix this problem but poses a threat.</p>\n\n<p>So I ended up fixing this issue with JWT - setting authorization token for every request sent from client interface. This issue was caused due to fact that the client and WebApi are hosted on different domains.</p>\n"}], "owner": {"reputation": 1, "user_id": 2616448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a76e5b19d7df7922ff08a6a08ee5a918?s=128&d=identicon&r=PG", "display_name": "user2616448", "link": "https://stackoverflow.com/users/2616448/user2616448"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 0, "accepted_answer_id": 58172863, "answer_count": 1, "score": 0, "last_activity_date": 1569865844, "creation_date": 1569451681, "question_id": 58107470, "link": "https://stackoverflow.com/questions/58107470/how-to-set-up-cors-enabled-domain-authentication-cookie-net-core", "title": "How to Set Up CORS enabled domain authentication cookie .Net Core?", "body": "<p>I am trying to authenticate CORS origin requests and set Claims principle with the user of internal company single sign on utility. I have the current setting so far, the cookie will never get created on the domain set at the authentication setup.</p>\n\n<p>I have an Angular client application and .Net Core 3.0 Webapi, the requirement is for the client to be able to set authentication for future api calls.</p>\n\n<pre><code>\nservices.AddAuthentication(CookieAuthenticationDefaults.AuthenticationScheme) .AddCookie(CookieAuthenticationDefaults.AuthenticationScheme, options =&gt;\n\n{   \n    options.Cookie.Name = \"access_token\";\n    options.Cookie.SameSite = SameSiteMode.None;\n    options.Cookie.Domain = \"localhost:xxxx\";\n\n});\n\n//CORS\nservices.AddCors(options =&gt;\n    {\n        options.AddPolicy(\n            \"AllowOrigin\",\n            builder =&gt; builder.WithOrigins(\"localhost:xxxx\")\n                .AllowCredentials()\n                .AllowAnyHeader()\n                .AllowAnyMethod());\n    });\n\n//Sign In \nHttpContext.SignInAsync(\n        scheme: CookieAuthenticationDefaults.AuthenticationScheme,\n        principal: new ClaimsPrincipal(new ClaimsIdentity(claims, CookieAuthenticationDefaults.AuthenticationScheme)),\n        properties: new AuthenticationProperties { ExpiresUtc = DateTime.Now.Add(120) });\n</code></pre>\n\n<p>I am testing this all on local so both URLS are localhost with different ports\nAngular is hosted: <code>http://localhost:xxxx</code>\nWebAPi is hosted :<code>http://localhost:xxx2</code></p>\n\n<p>http request from Angular to webapi is <code>http://localhost:xxx2/api/auth</code> which has the SignInAsync call, the company single sign does a username but the cookie never gets created. If I remove the <code>options.Cookie.Domain = \"localhost:xxxx\";</code> the cookie does get created on the webapi domain <code>http://localhost:xxx2</code>. I must be missing something here.</p>\n"}, {"tags": ["c#", "wpf", "xaml", "data-binding"], "comments": [{"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1569484125, "post_id": 58107267, "comment_id": 102613788, "body": "It&#39;s not a good idea to bind directly to model objects. It is usual to copy values from an EF object into a VM which is then bound. And back again. This way your vm can have all your validation code, isdirty, inotifypropertychanged etc and your EF class remains un polluted. And. Your problem would then go away because you could either new up a new viewmodel when you get a logical change to your deal OR set properties in that deal&#39;s viewmodel to the new values and they would raise propertychanged."}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1569506129, "post_id": 58107267, "comment_id": 102625700, "body": "&quot;<i>When a PropertyChanged event is fired on the property, it should always bind to the current data, right</i>? Only if it considers the new object to to differ from the old one which it apparently doesn&#39;t given your implementation of <code>Equals</code>. The solution to your issue would be to bind to a view model that doesn&#39;t implement <code>Equals</code> like this."}, {"owner": {"reputation": 69, "user_id": 5228231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7e317fa37c35b78ccd9047ef4a3411c?s=128&d=identicon&r=PG&f=1", "display_name": "Teddy", "link": "https://stackoverflow.com/users/5228231/teddy"}, "edited": false, "score": 0, "creation_date": 1569508825, "post_id": 58107267, "comment_id": 102627504, "body": "This already is in a View Model. CurrentDeal is in a View Model. My point is that I have a handful of reusable UserControls that really only need to bind to an EF object. All business logic, validation, etc. is done in the View Model. But multiple View Models can have Deals and I want to display the Deal with the same UserControl in multiple Views/View Models. All this User Control has is input fields for the Deal&#39;s properties.  I understand I can just wrap the Deal in a wrapper VM, but it just seems crazy to me."}, {"owner": {"reputation": 69, "user_id": 5228231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7e317fa37c35b78ccd9047ef4a3411c?s=128&d=identicon&r=PG&f=1", "display_name": "Teddy", "link": "https://stackoverflow.com/users/5228231/teddy"}, "edited": false, "score": 0, "creation_date": 1569508949, "post_id": 58107267, "comment_id": 102627590, "body": "Again, I&#39;m not really sure what I&#39;m asking here... I understand it&#39;s a weird use case. I honestly just found it weird that a binding would check equality when a PropertyChanged event is fired."}], "owner": {"reputation": 69, "user_id": 5228231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7e317fa37c35b78ccd9047ef4a3411c?s=128&d=identicon&r=PG&f=1", "display_name": "Teddy", "link": "https://stackoverflow.com/users/5228231/teddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569450020, "creation_date": 1569450020, "question_id": 58107267, "link": "https://stackoverflow.com/questions/58107267/datacontext-binding-broken-after-setting-a-different-instance-of-the-same-equ", "title": "DataContext Binding broken after setting a different instance of the &quot;same&quot; (Equals()) object", "body": "<p>I sometimes use a DataContext binding on UserControls and Panels when all the child controls show data from the same object. But if I set that property to a new instance of of an object where the two objects are Equal (as in their Equals method returns true), the controls don't rebind to the new object. They seem to continue to display and update the data from the previous object.</p>\n\n<p>In the example below, the CurrentDeal property is a Deal object which implements a custom Equals method that returns true when the two Deals have the same unique database identifier. When setting CurrentDeal, the setter does not check equality. It always sets the value and raises a PropertyChanged event. </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Grid DataContext=\"{Binding CurrentDeal}\"&gt;\n    &lt;TextBox Text=\"{Binding Price, Mode=TwoWay\"} /&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private Deal _currentDeal;\npublic Deal CurrentDeal\n{\n    get { return _currentDeal; }\n    set\n    {\n        _currentDeal = value;\n        NotifyPropertyChanged(nameof(CurrentDeal));\n    }\n}\n</code></pre>\n\n<p>If I set a completely different Deal, then the textbox shows the new Deal's Price, and updating the value in the text box updates the Price on the new Deal as expected.</p>\n\n<p>But if I set it to a newer instance of the \"same\" Deal (same in that their Equals methods return true), then the text box continues to show the old value (the Price may have changed since the last time this Deal was displayed). Also, changing the value in the text box doesn't update the new Deal's Price (I haven't tested if it updates the old Deal's Price, but I'm guessing that's what's happening).</p>\n\n<p>But, if I were to do this instead, everything works as expected.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Grid&gt;\n    &lt;TextBox Text=\"{Binding CurrentDeal.Price, Mode=TwoWay\"} /&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>Obviously, if I could do that everywhere I would, but my problem comes when using reusable UserControls. I have to set the DataContext if a UserControl is to be bound to the same object but in different View/View Models.</p>\n\n<p>I also can't just refresh the old entity because these are Entity Framework entities from different contexts. This came about when switching towards a \"new context for every request\" solution, rather than an \"each VM gets its own context\" solution.</p>\n\n<p>I'm honestly not really sure what my question is... this seems like a bug in the DataContext binding. I don't think it should be taking equality into account. When a PropertyChanged event is fired on the property, it should always bind to the current data, right?</p>\n\n<p>But can anyone see if I'm missing something here? Anyone ever had to deal with this before? </p>\n"}, {"tags": ["c#", "xamarin.forms"], "comments": [{"owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1569467539, "post_id": 58107258, "comment_id": 102608206, "body": "What exactly do you want to do?"}, {"owner": {"reputation": 13, "user_id": 12121758, "user_type": "registered", "profile_image": "https://graph.facebook.com/2074288762673343/picture?type=large", "display_name": "\u05e2\u05de\u05e0\u05d5\u05d0\u05dc \u05d8\u05e8\u05d5\u05d1\u05e7", "link": "https://stackoverflow.com/users/12121758/%d7%a2%d7%9e%d7%a0%d7%95%d7%90%d7%9c-%d7%98%d7%a8%d7%95%d7%91%d7%a7"}, "reply_to_user": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1569485337, "post_id": 58107258, "comment_id": 102614379, "body": "I want to make the label effect move to right, and I want it to work as while as MAIN PAGE is the only page in the stack"}, {"owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1569486300, "post_id": 58107258, "comment_id": 102614804, "body": "do you want the character moves to the right  like some scroll ad ?check below"}], "answers": [{"tags": [], "owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "is_accepted": true, "score": 1, "last_activity_date": 1569486325, "last_edit_date": 1569486325, "creation_date": 1569485619, "answer_id": 58112358, "question_id": 58107258, "link": "https://stackoverflow.com/questions/58107258/news-bar-not-work-its-need-to-move-work-all-time/58112358#58112358", "title": "News bar not work its need to move/work all time", "body": "<p>you could check this,is it the effect you need:</p>\n\n<pre><code>public partial class MaqueText : ContentPage\n{\n    private bool Execute { get; set; }\n    public MaqueText ()\n    {\n        InitializeComponent ();\n        Label1.Text = \"This is to simulate a really long sentence for testing purposes\";\n        Label1.HorizontalOptions = LayoutOptions.Start;\n        Label1.VerticalTextAlignment = TextAlignment.Center;\n        Label1.LineBreakMode = LineBreakMode.NoWrap;\n    }\n    protected override void OnAppearing()\n    {\n        base.OnAppearing();\n        Execute = true;\n\n        Device.StartTimer(TimeSpan.FromMilliseconds(50), () =&gt;\n        {\n            Label1.TranslationX += 5f;\n\n            if (Math.Abs(Label1.TranslationX) &gt; Width)\n            {\n                Label1.TranslationX = 0;\n            }\n\n            return Execute;\n        });\n    }\n    protected override void OnDisappearing()\n    {\n        base.OnDisappearing();\n\n        Execute = false;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12121758, "user_type": "registered", "profile_image": "https://graph.facebook.com/2074288762673343/picture?type=large", "display_name": "\u05e2\u05de\u05e0\u05d5\u05d0\u05dc \u05d8\u05e8\u05d5\u05d1\u05e7", "link": "https://stackoverflow.com/users/12121758/%d7%a2%d7%9e%d7%a0%d7%95%d7%90%d7%9c-%d7%98%d7%a8%d7%95%d7%91%d7%a7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 58112358, "answer_count": 1, "score": -2, "last_activity_date": 1569486325, "creation_date": 1569449948, "question_id": 58107258, "link": "https://stackoverflow.com/questions/58107258/news-bar-not-work-its-need-to-move-work-all-time", "title": "News bar not work its need to move/work all time", "body": "<p>That Not Work its need to move/work all time. this id need to be bar news\nThat Not Work its need to move/work all time. this id need to be bar news</p>\n\n<pre><code>   protected override void OnAppearing()\n    {\n        base.OnAppearing();\n\n        Task.Run(() =&gt; NewsInLabel());\n\n    }\n\n    public void NewsInLabel()\n    {\n        string text = \"\u05e2\u05d5\u05dc\u05dd \u05d4\u05de\u05d2\u05d6\u05d9\u05e0\u05d9\u05dd \u05d4\u05d8\u05d5\u05d1\u05d9\u05dd, \u05de\u05d2\u05d6\u05d9\u05e0\u05d9 \u05d2\u05d9\u05d9\u05de\u05d9\u05e0\u05d2 \u05de\u05e2\u05d5\u05dc\u05d9\u05dd, \u05e2\u05d5\u05dc\u05dd \u05d4\u05de\u05d2\u05d6\u05d9\u05e0\u05d9\u05dd \u05d4\u05d8\u05d5\u05d1\u05d9\u05dd, \u05de\u05d2\u05d6\u05d9\u05e0\u05d9 \u05d2\u05d9\u05d9\u05de\u05d9\u05e0\u05d2 \u05de\u05e2\u05d5\u05dc\u05d9\u05dd\";\n        StringBuilder someString = new StringBuilder(\"aaaaaaaaaaaaaaaaaaaa\");\n        int i = 0;\n        while (true)\n        {\n            for (int i1 = 0; i1 &lt; 20; i1++)\n            {\n                if (i1 + i &lt; text.Length)\n                {\n                    someString[i1] = text[i1 + i];\n                }\n                else i = 0;\n            }\n            Thread.Sleep(500);\n            la.Text = someString.ToString();\n            i++;\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1569860221, "post_id": 58107216, "comment_id": 102724388, "body": "Did you find a solution for this?"}], "answers": [{"tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": false, "score": 2, "last_activity_date": 1569450136, "creation_date": 1569450136, "answer_id": 58107286, "question_id": 58107216, "link": "https://stackoverflow.com/questions/58107216/i-want-my-character-to-move-only-in-the-direction-that-it-is-looking/58107286#58107286", "title": "I want my character to move only in the direction that it is looking", "body": "<p>Currently, you're using the inputs as x and z components of a world space direction. It doesn't take into account the rotation of the character at all.</p>\n\n<p>Instead, you should multiply the inputs and the corresponding local direction in world space, and then combine them. In your case, this might look like this:</p>\n\n<pre><code>MoveInput = (\n        transform.right * Input.GetAxisRaw(\"Horizontal\") \n        + transform.forward * Input.GetAxisRaw(\"Vertical\")\n        ).normalized;\n\nmoveVelocity = MoveInput * MoveSpeed;\n\nVector3 PlayerDirection = Vector3.right * -Input.GetAxisRaw(\"RHorizontal\") \n        + Vector3.forward * -Input.GetAxisRaw(\"RVertical\");\n\nif (PlayerDirection.sqrMagnitude &gt; 0.0f)\n{\n    transform.rotation = Quaternion.LookRotation(PlayerDirection, Vector3.up);\n}\n</code></pre>\n\n<p>The <code>normalized</code> is so you don't move faster diagonally.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 9844523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "alberto cruz", "link": "https://stackoverflow.com/users/9844523/alberto-cruz"}, "is_accepted": true, "score": 0, "last_activity_date": 1573040518, "last_edit_date": 1573040518, "creation_date": 1573005096, "answer_id": 58721962, "question_id": 58107216, "link": "https://stackoverflow.com/questions/58107216/i-want-my-character-to-move-only-in-the-direction-that-it-is-looking/58721962#58721962", "title": "I want my character to move only in the direction that it is looking", "body": "<p>I found a solution, here is the code: </p>\n\n<pre><code>MoveInput = new Vector3(Input.GetAxisRaw(\"Horizontal\"), 0f, Input.GetAxisRaw(\"Vertical\"));\n\nmoveVelocity = MoveInput * MoveSpeed;\n\nVector3 PlayerDirection = Vector3.right * Input.GetAxisRaw(\"Horizontal\") + Vector3.forward * Input.GetAxisRaw(\"Vertical\");\nif (PlayerDirection.sqrMagnitude &gt; 0.0f)\n{\n    transform.rotation = Quaternion.LookRotation(PlayerDirection, Vector3.up);\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9844523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "alberto cruz", "link": "https://stackoverflow.com/users/9844523/alberto-cruz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 58721962, "answer_count": 2, "score": 1, "last_activity_date": 1573040518, "creation_date": 1569449657, "question_id": 58107216, "link": "https://stackoverflow.com/questions/58107216/i-want-my-character-to-move-only-in-the-direction-that-it-is-looking", "title": "I want my character to move only in the direction that it is looking", "body": "<p>I have a 3D game, where my camera is looking at all my terrain, and I have a character that moves with an Xbox controller. I want my character to only move in the direction that it is looking, not to the sides. I have the next code that makes my character move.</p>\n\n<pre><code>void Update()\n    {\n        MoveInput = new Vector3(Input.GetAxisRaw(\"Horizontal\"), 0f, Input.GetAxisRaw(\"Vertical\"));\n        moveVelocity = MoveInput * MoveSpeed;\n\n        Vector3 PlayerDirection = Vector3.right * -Input.GetAxisRaw(\"RHorizontal\") + Vector3.forward * -Input.GetAxisRaw(\"RVertical\");\n        if (PlayerDirection.sqrMagnitude &gt; 0.0f)\n        {\n            transform.rotation = Quaternion.LookRotation(PlayerDirection, Vector3.up);\n        }\n</code></pre>\n\n<p>The character moves with the left side of the controller, and with the right side, I can move the direction that is facing.</p>\n"}, {"tags": ["c#", "html", "asp.net-mvc", "asp.net-mvc-4"], "answers": [{"comments": [{"owner": {"reputation": 451, "user_id": 2741445, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cIoTU.jpg?s=128&g=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/2741445/bill"}, "edited": false, "score": 0, "creation_date": 1569511936, "post_id": 58108120, "comment_id": 102629185, "body": "I tried this but ended up with &lt;%=  ...  %&gt; as apart of my string. Just the double quotes helped."}], "tags": [], "owner": {"reputation": 396, "user_id": 5625648, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vw9wDOSe_qM/AAAAAAAAAAI/AAAAAAAAAcc/nL9KOHrIOFM/photo.jpg?sz=128", "display_name": "Alfredo Zamudio", "link": "https://stackoverflow.com/users/5625648/alfredo-zamudio"}, "is_accepted": false, "score": 0, "last_activity_date": 1569458262, "creation_date": 1569458262, "answer_id": 58108120, "question_id": 58107167, "link": "https://stackoverflow.com/questions/58107167/how-to-get-html-input-button-to-properly-display-resource-resx-key-value-entry/58108120#58108120", "title": "How to get html input button to properly display resource.resx key / value entry?", "body": "<p>That's because you need to reference the string value in the following way:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n   &lt;input type=\"text\" name=\"date\" value=\"&lt;%= ResourceValue %&gt;\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>So, if you want to bind the resource value, you can assign it to a string var and then set it:</p>\n\n<pre><code>private string ResourceValue{ get; set; }\n\nprotected void Page_Load(object sender, EventArgs e)\n{\n   this.ResourceValue = @Resources.resource_value;\n}\n</code></pre>\n\n<p>Let me know if it helps, cheers.</p>\n"}, {"tags": [], "owner": {"reputation": 451, "user_id": 2741445, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cIoTU.jpg?s=128&g=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/2741445/bill"}, "is_accepted": false, "score": 0, "last_activity_date": 1569511855, "creation_date": 1569511855, "answer_id": 58120192, "question_id": 58107167, "link": "https://stackoverflow.com/questions/58107167/how-to-get-html-input-button-to-properly-display-resource-resx-key-value-entry/58120192#58120192", "title": "How to get html input button to properly display resource.resx key / value entry?", "body": "<p>Using double quotes around the variable resolved this issue.</p>\n\n<pre><code>@{\n    var  myString = \"worda wordb wordc\";\n}\n&lt;div class=\"row\"&gt;\n    &lt;input value=\"@myString\"&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 451, "user_id": 2741445, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cIoTU.jpg?s=128&g=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/2741445/bill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 380, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569511855, "creation_date": 1569449324, "last_edit_date": 1569450890, "question_id": 58107167, "link": "https://stackoverflow.com/questions/58107167/how-to-get-html-input-button-to-properly-display-resource-resx-key-value-entry", "title": "How to get html input button to properly display resource.resx key / value entry?", "body": "<p>This is a simplified demonstration of the issue.  will not display a string separated by white space.</p>\n\n<pre><code>@{\n    var  myString = \"worda wordb wordc\";\n}\n&lt;div class=\"row\"&gt;\n    &lt;input value=@myString&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Using a C# resource file for multi language support, I'm having problems with web page input buttons. They will not display all data apart of resource file values. The same data will display properly using other html tags.</p>\n\n<p><a href=\"https://i.stack.imgur.com/S5VGF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S5VGF.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Create default mvc project > Add properties\\resource.resx > add one entry to   file (make sure value has more than one word) > set file properties Custom Tool= PublicResXFileCodeGenerator > change index.cshtml to this code > set to chrome browser > run project. Notice the input tag will not display all data from resource file properly but other html tags will. </p>\n\n<p>resources.resx</p>\n\n<pre><code>  &lt;data name=\"updated_information_btn\" xml:space=\"preserve\"&gt;\n    &lt;value&gt;Word1 Word2 Word3&lt;/value&gt;\n  &lt;/data&gt;\n</code></pre>\n\n<p>index.cshtml</p>\n\n<pre><code>@using TestBnResourceFile.Properties\n&lt;div class=\"jumbotron\"&gt;\n    &lt;h2&gt;Testing button value displayed&lt;/h2&gt;\n    &lt;p&gt;\n        Button has problem displaying all words of resource file key.\n    &lt;/p&gt;\n&lt;/div&gt;\n\n&lt;div class=\"row\"&gt;\n    &lt;h2&gt;\n        &lt;span&gt;\"Resources.updated_information_btn\" value:&lt;/span&gt; @Resources.updated_information_btn\n    &lt;/h2&gt;\n&lt;/div&gt;\n&lt;div class=\"row\"&gt;\n    &lt;input type=\"submit\" name=\"submitbtn1\" value=@Resources.updated_information_btn class=\"submitbtn\"&gt;\n&lt;/div&gt;\n&lt;div class=\"row\"&gt;\n    &lt;input type=\"submit\" name=\"submitbtn2\" value=@Resources.updated_information_btn&gt;\n&lt;/div&gt;\n&lt;div class=\"row\"&gt;\n    &lt;input name=\"submitbtn3\" value=@Resources.updated_information_btn&gt;\n&lt;/div&gt;\n&lt;div class=\"row\"&gt;\n    &lt;input value=@Resources.updated_information_btn&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["c#", "regex"], "answers": [{"comments": [{"owner": {"reputation": 3007, "user_id": 1541224, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/KW5Hm.jpg?s=128&g=1", "display_name": "joym8", "link": "https://stackoverflow.com/users/1541224/joym8"}, "edited": false, "score": 0, "creation_date": 1569508184, "post_id": 58107131, "comment_id": 102627074, "body": "Sorry I should&#39;ve mentioned, I need to use this regex with RegularExpressionAttribute on a class property. The input <code>C,c</code> is being returned invalid by <code>@&quot;^[A-DFI](?:,[A-DFI]){0,2}$&quot;</code>"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 3007, "user_id": 1541224, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/KW5Hm.jpg?s=128&g=1", "display_name": "joym8", "link": "https://stackoverflow.com/users/1541224/joym8"}, "edited": false, "score": 0, "creation_date": 1569508278, "post_id": 58107131, "comment_id": 102627147, "body": "@joym8 Yes, then you have to use <code>&quot;^[A-DFIa-dfi](?:,[A-DFIa-dfi]){0,2}$&quot;</code>. Or even <code>&quot;[A-DFIa-dfi](?:,[A-DFIa-dfi]){0,2}&quot;</code> since the whole string must match the pattern anyway (it is just how <code>RegularExpressionAttribute</code> validates the string)."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 2, "last_activity_date": 1569449086, "creation_date": 1569449086, "answer_id": 58107131, "question_id": 58107089, "link": "https://stackoverflow.com/questions/58107089/c-regular-expression-for-comma-separated-letter-subset/58107131#58107131", "title": "C# regular expression for comma separated letter subset", "body": "<p>You may use</p>\n\n<pre><code>(?i)^[A-DFI](?:,[A-DFI]){0,2}$\n</code></pre>\n\n<p>See the <a href=\"http://regexstorm.net/tester?p=%28%3Fi%29%5E%5BA-DFI%5D%28%3F%3A%2C%5BA-DFI%5D%29%7B0%2C2%7D%5Cr%3F%24&amp;i=A%0D%0AA%2Cb%0D%0AC%2CD%2CA%0D%0A%0D%0AD%2CC%2CB%2CA%0D%0AD%2C%2CC%0D%0AH%2CA&amp;o=m\" rel=\"nofollow noreferrer\">regex demo</a></p>\n\n<p><strong>Details</strong></p>\n\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>[A-DFI]</code> - <code>A</code>, <code>B</code>, <code>C</code>, <code>D</code>, <code>F</code>, <code>I</code> (case insensitively)</li>\n<li><code>(?:,[A-DFI]){0,2}</code> - 0, 1 or 2 occurrences of \n\n<ul>\n<li><code>,</code> - comma</li>\n<li><code>[A-DFI]</code> - <code>A</code>, <code>B</code>, <code>C</code>, <code>D</code>, <code>F</code>, <code>I</code> (case insensitively)</li>\n</ul></li>\n<li><code>$</code> - end of string.</li>\n</ul>\n\n<p>In C#:</p>\n\n<pre><code>var IsValid = Regex.IsMatch(text, @\"^[A-DFI](?:,[A-DFI]){0,2}$\", RegexOptions.IgnoreCase);\n</code></pre>\n"}], "owner": {"reputation": 3007, "user_id": 1541224, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/KW5Hm.jpg?s=128&g=1", "display_name": "joym8", "link": "https://stackoverflow.com/users/1541224/joym8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 58107131, "answer_count": 1, "score": 1, "last_activity_date": 1569508254, "creation_date": 1569448811, "last_edit_date": 1569508254, "question_id": 58107089, "link": "https://stackoverflow.com/questions/58107089/c-regular-expression-for-comma-separated-letter-subset", "title": "C# regular expression for comma separated letter subset", "body": "<p>How can I allow <strong>up to</strong> 2 commas in this regular expression? It needs to be used with <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.componentmodel.dataannotations.regularexpressionattribute?view=netframework-4.6.1\" rel=\"nofollow noreferrer\">RegularExpressionAttribute</a> on a class property.</p>\n\n<p><code>A|B|C|D|F|I|a|b|c|d|f|i</code></p>\n\n<p>For instance these should be valid inputs:</p>\n\n<ul>\n<li>A</li>\n<li>A,b</li>\n<li>C,D,A</li>\n</ul>\n\n<p>Invalid inputs:</p>\n\n<ul>\n<li>D,C,B,A (more than 2 commas)</li>\n<li>D,,C (two consecutive commas)</li>\n<li>H,A (outside letter range)</li>\n</ul>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "edited": false, "score": 0, "creation_date": 1569447771, "post_id": 58106894, "comment_id": 102604459, "body": "Look up generics."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1569448152, "post_id": 58106894, "comment_id": 102604566, "body": "That is literally baseline generics. okay, maybe a <i>bit</i> advanced in that only this function is nesseasrily generic. Usually you do generics for a whole class, not just one function."}, {"owner": {"reputation": 25, "user_id": 11860587, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_Bwc0nF1jTU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcaTq9gkdsyQ8EcbvruMCOtWH5D0A/photo.jpg?sz=128", "display_name": "Alice Guo", "link": "https://stackoverflow.com/users/11860587/alice-guo"}, "edited": false, "score": 0, "creation_date": 1569450587, "post_id": 58106894, "comment_id": 102605194, "body": "Thank you guys, I am very very beginner. Thanks again for all your suggestions."}], "answers": [{"tags": [], "owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "is_accepted": true, "score": 2, "last_activity_date": 1569448339, "creation_date": 1569448339, "answer_id": 58107013, "question_id": 58106894, "link": "https://stackoverflow.com/questions/58106894/can-i-create-a-method-in-c-that-use-a-dictionary-applied-to-all-data-type-as/58107013#58107013", "title": "Can I create a method in C# that use a dictionary (applied to all data type) as parameter?", "body": "<p>I recommend <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/generics/generic-methods\" rel=\"nofollow noreferrer\">Generic Methods (C# Programming Guide)</a></p>\n\n<p>Here's a snippet for your case.</p>\n\n<pre><code>static void Main(string[] args)\n{\n    // Example dictionary from\n    // from https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2?view=netframework-4.8\n    // Create a new dictionary of strings, with string keys.\n    //\n    Dictionary&lt;string, string&gt; openWith =\n        new Dictionary&lt;string, string&gt;();\n\n    // Add some elements to the dictionary. There are no \n    // duplicate keys, but some of the values are duplicates.\n    openWith.Add(\"txt\", \"notepad.exe\");\n    openWith.Add(\"bmp\", \"paint.exe\");\n    openWith.Add(\"dib\", \"paint.exe\");\n    openWith.Add(\"rtf\", \"wordpad.exe\");\n\n    Print(openWith);\n}\n\nstatic void Print&lt;T, U&gt;(Dictionary&lt;T, U&gt; data)\n{\n    foreach (var o in data)\n    {\n        Console.WriteLine(o);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 11860587, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_Bwc0nF1jTU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcaTq9gkdsyQ8EcbvruMCOtWH5D0A/photo.jpg?sz=128", "display_name": "Alice Guo", "link": "https://stackoverflow.com/users/11860587/alice-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "closed_date": 1569450428, "accepted_answer_id": 58107013, "answer_count": 1, "score": -4, "last_activity_date": 1569499710, "creation_date": 1569447594, "last_edit_date": 1569499710, "question_id": 58106894, "link": "https://stackoverflow.com/questions/58106894/can-i-create-a-method-in-c-that-use-a-dictionary-applied-to-all-data-type-as", "closed_reason": "Duplicate", "title": "Can I create a method in C# that use a dictionary (applied to all data type) as parameter?", "body": "<pre><code>public void Method(Dictionary&lt;any datatype, any datatype&gt; dict)  \n{     \n    foreach (var o in dict)\n    {\n        Console.WriteLine(o);\n    } \n}\n</code></pre>\n\n<p>and then when we need to call the Method, we can put any kind of Dictionary there. \ne.g. Method(new Dictionary&lt; int,string >()); Method(new Dictionary&lt; string, string>()); \nCan we do that? Also, can we output a dictionary for any kind of data type?</p>\n"}, {"tags": ["c#", "model-view-controller", "selectlistitem"], "comments": [{"owner": {"reputation": 2773, "user_id": 313663, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9906123d97e6918145d21341cda05cc7?s=128&d=identicon&r=PG", "display_name": "riffnl", "link": "https://stackoverflow.com/users/313663/riffnl"}, "edited": false, "score": 0, "creation_date": 1569450220, "post_id": 58106839, "comment_id": 102605098, "body": "Your problem you use the generic SelectListItem as ViewModel property - you need to pass the DomainModel as object. Probably you used the OdeToCode example (first and most wrong one ever) you can find; read further here <a href=\"https://stackoverflow.com/questions/3057873/how-to-write-a-simple-html-dropdownlistfor\" title=\"how to write a simple html dropdownlistfor\">stackoverflow.com/questions/3057873/&hellip;</a> for more instructions and how to proceed (remember the ode-to-code exampe is almost 7 years old)"}, {"owner": {"reputation": 1, "user_id": 4450801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e271925986fa8c997b118d34b99194c?s=128&d=identicon&r=PG&f=1", "display_name": "sandStorm44", "link": "https://stackoverflow.com/users/4450801/sandstorm44"}, "reply_to_user": {"reputation": 2773, "user_id": 313663, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9906123d97e6918145d21341cda05cc7?s=128&d=identicon&r=PG", "display_name": "riffnl", "link": "https://stackoverflow.com/users/313663/riffnl"}, "edited": false, "score": 0, "creation_date": 1569517306, "post_id": 58106839, "comment_id": 102631741, "body": "I get it. I used the selectlistitem as the requirement earlier included a dropdownlist. I think I need to pass the domain model as object directly to view model and can bring that list displayed."}], "owner": {"reputation": 1, "user_id": 4450801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e271925986fa8c997b118d34b99194c?s=128&d=identicon&r=PG&f=1", "display_name": "sandStorm44", "link": "https://stackoverflow.com/users/4450801/sandstorm44"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569462856, "creation_date": 1569447336, "last_edit_date": 1569462856, "question_id": 58106839, "link": "https://stackoverflow.com/questions/58106839/how-to-loop-through-a-list-property-in-view-model", "title": "How to loop through a List property in view model", "body": "<p>I have a view model, controller. The view model has a <code>selectlistitem</code> property. I am using the <code>selectlistitem</code> to bring the list in the controller and passing it to view model list property. </p>\n\n<p>In the text of <code>selectlistitem</code>, I am concatenating three properties. I am passing the list to <code>viewmodel</code>. I need to iterate through the list in the view and split the text to display it into what I needed. Is there any other approach where I can loop through the <code>selectlistitem</code> property and split the text?</p>\n\n<p>ViewModel:</p>\n\n<pre><code>Public List&lt;SelectlistItem&gt; Current {get; set};\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>public ActionResult Index()\n{\n    ViewModel model;\n\n    model = new ViewModel()\n    { \n        Current = Active\n    };\n    return View(model);\n}\n\n//to get data, a private property \nprivate List&lt;SelectListItem&gt; Active\n{\n    get\n    {\n        List&lt;SelectListItem&gt; active = new List&lt;SelectListItem&gt;();\n        foreach(DomainModel model in domainlist)\n        {\n            active.Add(new SelectListItem)\n            {\n                Text = model.property + \"-\" +  model.property + \"-\" + model.property\n            }\n        }\n        return active;\n    }\n}\n</code></pre>\n\n<p>I get the data back to view model. The text property in <code>selectlistitem</code> has 3 values combined. I want them to be separate. Is there a way, I can loop through the list item in <code>viewmodel</code> or controller and split the text rather than doing it in view? Or should i create another <code>viewmodel</code> and bring it as a list?</p>\n"}, {"tags": ["c#", "quantitative-finance", "quantitative"], "comments": [{"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 3, "creation_date": 1569447480, "post_id": 58106835, "comment_id": 102604367, "body": "you are asking people to help you with code, it is polite to indent the code to make it more readable"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1569449000, "post_id": 58106835, "comment_id": 102604796, "body": "A NOT check that is AND connected is a exclusion check. AND and OR are short-circuiting: If one of the parts solves the operation unabiligiously (flase for a AND, true for a OR), the others are never even queried. There is also the Exclusive or or XOR."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 2, "creation_date": 1569449134, "post_id": 58106835, "comment_id": 102604838, "body": "In addition to Hogan&#39;s answer, two notes: 1) Just use the value <code>Falling1</code>. It&#39;s already what you want. The comparison is overly verbose. 2) The accidental assignment could&#39;ve been avoided entirely if you had used the value directly in the first place."}, {"owner": {"reputation": 149, "user_id": 12097894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/308aa7fa42f2adcc3d4b5ca2a09d2c1e?s=128&d=identicon&r=PG&f=1", "display_name": "williamfaith", "link": "https://stackoverflow.com/users/12097894/williamfaith"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1569460863, "post_id": 58106835, "comment_id": 102606993, "body": "Thank you so much!@madreflection and @Christopher and everyone!"}], "answers": [{"tags": [], "owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "is_accepted": true, "score": 3, "last_activity_date": 1569447558, "creation_date": 1569447558, "answer_id": 58106887, "question_id": 58106835, "link": "https://stackoverflow.com/questions/58106835/how-to-build-a-exclude-condition-in-c/58106887#58106887", "title": "How to build a exclude condition in C#", "body": "<p>you want </p>\n\n<pre><code>  &amp;&amp; (Falling1==true)\n</code></pre>\n\n<p>The way you wrote it you are doing an assignment</p>\n"}], "owner": {"reputation": 149, "user_id": 12097894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/308aa7fa42f2adcc3d4b5ca2a09d2c1e?s=128&d=identicon&r=PG&f=1", "display_name": "williamfaith", "link": "https://stackoverflow.com/users/12097894/williamfaith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 58106887, "answer_count": 1, "score": 0, "last_activity_date": 1569467495, "creation_date": 1569447329, "last_edit_date": 1569467495, "question_id": 58106835, "link": "https://stackoverflow.com/questions/58106835/how-to-build-a-exclude-condition-in-c", "title": "How to build a exclude condition in C#", "body": "<p>I'm coding a trading system using C#.Most of my logic is if some conditions occur at the same time,enter buy.</p>\n\n<p>But in some scenario,I need an exclude logic:if some conditions occur at the same time not buy. </p>\n\n<p>I tried to set a variable named <code>Falling1 = true;</code> and set <code>Falling1=false;</code> while the not buy conditions occur at the same time.</p>\n\n<p>And then in my buy logic I need <code>Falling1=true;</code>. </p>\n\n<pre><code>namespace NinjaTrader.NinjaScript.Strategies\n{\n    public class JJcrossCode : Strategy\n    {\n        private bool Falling1;\n        protected override void OnStateChange()\n        {\n            if (State == State.SetDefaults)\n            {\n                Description = @\"Enter the description for your new custom Strategy here.\";\n                Name = \"JJcrossCode\";\n                Falling1 = true;\n            }\n            else if (State == State.Configure)\n            {\n            }\n            else if (State == State.DataLoaded)\n            {\n                SetProfitTarget(@\"Short\", CalculationMode.Ticks, 20);\n            }\n        }\n\n        protected override void OnBarUpdate()\n        {\n        if (BarsInProgress != 0)\n            return;\n        if (CurrentBars[0] &lt; 7)\n            return;\n        // Set 1\n        if (Open[0] &gt; Close[0] &amp;&amp; High[0] &lt; High[1] &amp;&amp; Low[0] &lt; Low[1])\n        {\n            Falling1 = false;\n        }\n        // Set 2\n// 01-crossabovelower\n        if (((CrossAbove(JurbolBBmacd1.Macd, JurbolBBmacd1.BollingerLower, 3))\n&amp;&amp; (RSI1.Avg[0] &lt; 67)&amp;&amp; (Falling1=true)\n        {\n            EnterLong(Convert.ToInt32(Size), @\"Long\");\n        }\n    }\n}\n</code></pre>\n\n<p>The issue is that it seems the system can't recognize <code>&amp;&amp; (Falling1=true)</code> in // 01-crossabovelower,I guess there are some structure issues in my code.</p>\n"}, {"tags": ["c#", "multithreading", "elasticsearch", "serilog"], "comments": [{"owner": {"reputation": 5363, "user_id": 2588374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16c7f89aef99ff0fb791c6d5cd7671d?s=128&d=identicon&r=PG", "display_name": "Tratcher", "link": "https://stackoverflow.com/users/2588374/tratcher"}, "edited": false, "score": 0, "creation_date": 1570034804, "post_id": 58106829, "comment_id": 102789846, "body": "Have you attached a debugger and checked where threads are blocked?  Yes, BackgroundService will abandon the Task if it takes more than the given shutdown timeout. <a href=\"https://github.com/aspnet/Extensions/blob/88641b5021c880822281adf7d63298a3b5a145a2/src/Hosting/Abstractions/src/BackgroundService.cs#L65\" rel=\"nofollow noreferrer\">github.com/aspnet/Extensions/blob/&hellip;</a>"}], "owner": {"reputation": 1815, "user_id": 3991688, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28a449026a2de59dcbea4da40d8dd4a1?s=128&d=identicon&r=PG", "display_name": "Rabadash8820", "link": "https://stackoverflow.com/users/3991688/rabadash8820"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 773, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569447312, "creation_date": 1569447312, "question_id": 58106829, "link": "https://stackoverflow.com/questions/58106829/serilog-logging-on-multiple-threads-stalls-app-cancellation", "title": "Serilog - Logging on Multiple Threads Stalls App Cancellation", "body": "<p>I'm having trouble with graceful shutdown of a .NET Core app that is logging to the Serilog ElasticSearch sink from multiple threads. Below is a minimum working example:</p>\n\n<p><code>Program.cs</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System.Threading.Tasks;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.Extensions.Hosting;\nusing Serilog;\n\npublic class Program\n{\n    public static async Task Main() =&gt;\n        await new HostBuilder()\n            .UseConsoleLifetime()\n            .ConfigureLogging((context, logging) =&gt; logging.AddSerilog(\n                new LoggerConfiguration()\n                    .WriteTo.Console()\n                    .WriteTo.Elasticsearch(\n                        nodeUris: \"http://example.com:9200\",\n                        indexFormat: \"derp-{0:yyyy.MM.dd}\",\n                        typeName: \"_doc\"\n                    )\n                .CreateLogger(), dispose: true)\n            )\n            .ConfigureServices((context, services) =&gt;\n            {\n                services.AddHostedService&lt;DerpService&gt;();\n            })\n        .Build()\n        .RunAsync();\n}\n</code></pre>\n\n<p><code>DerpService.cs</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System.Linq;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing Microsoft.Extensions.Hosting;\nusing Microsoft.Extensions.Logging;\n\npublic class DerpService : BackgroundService\n{\n    private readonly ILogger&lt;DerpService&gt; _logger;\n    public DerpService(ILogger&lt;DerpService&gt; logger)\n    {\n        _logger = logger;\n    }\n    protected override async Task ExecuteAsync(CancellationToken stoppingToken) =&gt;\n        await Task.WhenAll(Enumerable\n            .Range(0, 100)\n            .Select(i =&gt;\n                Task.Run(() =&gt;\n                {\n                    while (!stoppingToken.IsCancellationRequested)\n                    {\n                        _logger.LogInformation($\"Task {i} is here!\");\n                    }\n                }, stoppingToken)\n        ));\n}\n</code></pre>\n\n<p>When I run this app, Serilog immediately starts writing a whole bunch of <code>Task i is here!</code> messages to Console, but nothing gets logged to ElasticSearch for \n several minutes. Once the ElasticSearch logs do start, they fall increasingly behind as the app continues. In addition, the app's memory consumption blows up, seemingly without bound, with <code>Serilog.Events.LogEvent</code> instances. Finally, when I then try to cancel the app with <code>Ctrl+C</code> in the console window, the console logs stop, and the memory consumption tapers off, but the app remains alive for several minutes longer, presumably while Serilog chews through the backlog of <code>LogEvent</code>s to send to ElasticSearch.</p>\n\n<p>So clearly I'm hammering the Serilog ElasticSearch sink with more concurrent logs than it was ever meant to handle, but these seem like potentially annoying problems for <em>any</em> multi-threaded app with logging. Specifically:</p>\n\n<ol>\n<li>Does the ElasticSearch have some maximum logging rate that it can handle? Are there any good ways to make it faster?</li>\n<li>I thought .NET Core generic hosts were supposed to <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host#shutdown-timeout\" rel=\"nofollow noreferrer\">shutdown automatically after 5 seconds</a>. What about the ElasticSearch sink is preventing the host from shutting down the app?</li>\n<li>Is there some way to force cancellation of Serilog after <code>Ctrl+C</code> instructs the app to shutdown (assuming I don't care about the remaining log events)?</li>\n</ol>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c#", ".net", "winforms", "user-controls", "designer"], "comments": [{"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1569471044, "post_id": 58106827, "comment_id": 102608834, "body": "<a href=\"https://stackoverflow.com/q/57034662/3110834\">stackoverflow.com/q/57034662/3110834</a>"}, {"owner": {"reputation": 17, "user_id": 12048101, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-k2AGnMfufa8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzxpBg2wnI7DKDyUA2KtdiqHUkkQ/photo.jpg?sz=128", "display_name": "c sharp", "link": "https://stackoverflow.com/users/12048101/c-sharp"}, "reply_to_user": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 1, "creation_date": 1569498909, "post_id": 58106827, "comment_id": 102621628, "body": "Reza Aghaei, thank you . it works very very well with Generate Member"}], "owner": {"reputation": 17, "user_id": 12048101, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-k2AGnMfufa8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzxpBg2wnI7DKDyUA2KtdiqHUkkQ/photo.jpg?sz=128", "display_name": "c sharp", "link": "https://stackoverflow.com/users/12048101/c-sharp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569447280, "creation_date": 1569447280, "question_id": 58106827, "link": "https://stackoverflow.com/questions/58106827/how-to-hide-some-objects-from-a-custom-property-in-winforms-designer", "title": "How to hide some objects from a Custom Property in WinForms Designer?", "body": "<p>I have a <code>UserControl</code> which contains for example a property </p>\n\n<pre><code>public Button TargetButton { get; set; }\n</code></pre>\n\n<p>the <code>UserControl</code> also contains for example 3 buttons.</p>\n\n<p>Now i have a Main UI or Control that inherits from this <code>UserControl</code></p>\n\n<p>The UI Control has a <code>Button</code> . Now i was thought the TargetButton in PropertyGrid or VS Desginer will show only Buttons in UiControl. but actually it shows all buttons. the Core Buttons of <code>UserControl</code> and the normal buttons in UI Control.</p>\n\n<p>How to Exclude Buttons of UserControl from PropertyGrid or VS Designer TargetButton property selecting list ?</p>\n\n<p>For example : Attribute in UserControl like </p>\n\n<pre><code>[TypeConverter(ExcludeObjects(coreBtn1, coreBtn2 ))]\n</code></pre>\n\n<p>So all i need preventing My Property selecting the Core Buttons on Base UserControl. but only i can selects a buttons in Main Control or UIControl which inherits from UserControl </p>\n"}, {"tags": ["c#", "asp.net-core", ".net-core"], "comments": [{"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 4, "creation_date": 1569448647, "post_id": 58106803, "comment_id": 102604694, "body": "It&#39;s no longer maintained as a package - it&#39;s available via a <a href=\"https://docs.microsoft.com/en-us/aspnet/core/migration/22-to-30?view=aspnetcore-3.0&amp;tabs=visual-studio#framework-reference\" rel=\"nofollow noreferrer\">Framework Reference</a>."}, {"owner": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "reply_to_user": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1569448676, "post_id": 58106803, "comment_id": 102604702, "body": "Where are the docs?"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1569448829, "post_id": 58106803, "comment_id": 102604746, "body": "The WinForms code has not had an update in literal <i>decades</i>, as it was deprecated. Now with it being re-introduced with .NET Core? We might see some movement here."}], "owner": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569448702, "creation_date": 1569447177, "last_edit_date": 1569448689, "question_id": 58106803, "link": "https://stackoverflow.com/questions/58106803/what-happened-to-ihtmlcontent", "title": "What happened to IHtmlContent?", "body": "<p>I'm getting ready to update a library to work with ASP.NET Core 3.0. My library provides an implementation of <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.html.ihtmlcontent?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\"><code>IHtmlContent</code></a>, which used to live in <a href=\"https://www.nuget.org/packages/Microsoft.AspNetCore.Html.Abstractions/\" rel=\"nofollow noreferrer\">the <code>Microsoft.AspNetCore.Html.Abstractions</code> package</a>.</p>\n\n<p>That package seems not to have been updated with the release of .NET Core 3.0 \u2014 it's still at version 2.2.0 and hasn't been updated in nearly a year. I can't find any documentation for <code>IHtmlContent</code> in the .NET API Browser for version 3.0 either (either by switching the dropdown from the above link to \"ASP.NET Core 3.0\" or by searching for it).</p>\n\n<p>Where did <code>IHtmlContent</code> move to? Am I meant to continue using the one from the <code>Abstractions</code> package? Where are the docs?</p>\n"}, {"tags": ["c#", "razor", "model-view-controller", "controller", "refresh"], "comments": [{"owner": {"reputation": 165, "user_id": 3178492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/isp0r.jpg?s=128&g=1", "display_name": "AlwaysLearning", "link": "https://stackoverflow.com/users/3178492/alwayslearning"}, "edited": false, "score": 0, "creation_date": 1569525998, "post_id": 58106755, "comment_id": 102635569, "body": "The is a contatiner call TempData that can hold the params for two requests. <a href=\"https://www.tutorialsteacher.com/mvc/tempdata-in-asp.net-mvc\" rel=\"nofollow noreferrer\">tutorialsteacher.com/mvc/tempdata-in-asp.net-mvc</a>"}], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 3178492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/isp0r.jpg?s=128&g=1", "display_name": "AlwaysLearning", "link": "https://stackoverflow.com/users/3178492/alwayslearning"}, "is_accepted": false, "score": 0, "last_activity_date": 1569526352, "creation_date": 1569526352, "answer_id": 58123586, "question_id": 58106755, "link": "https://stackoverflow.com/questions/58106755/how-to-keep-controller-parameter-populated-when-browser-is-refreshed-in-mvc/58123586#58123586", "title": "How to keep controller parameter populated when browser is refreshed in MVC?", "body": "<p>You can use <a href=\"https://www.tutorialsteacher.com/mvc/tempdata-in-asp.net-mvc\" rel=\"nofollow noreferrer\">TempData</a> to hold params for two calls:</p>\n\n<pre><code>public ActionResult FirstCall()\n{\n    TempData[\"Param1\"] = \"Param1\";\n    return View();\n}\n\npublic ActionResult SecondCall()\n{ \n    ViewModel model = new ViewModel();\n    model.param1 = TempData[\"Param1\"];\n    return View();\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 11877368, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-do7NXeyb8Zw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcgWq7BhL_DrEaviplPyQMepyKO_w/photo.jpg?sz=128", "display_name": "Muhammad Vairnd", "link": "https://stackoverflow.com/users/11877368/muhammad-vairnd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569526352, "creation_date": 1569446865, "question_id": 58106755, "link": "https://stackoverflow.com/questions/58106755/how-to-keep-controller-parameter-populated-when-browser-is-refreshed-in-mvc", "title": "How to keep controller parameter populated when browser is refreshed in MVC?", "body": "<p>I would like to keep the parameters of my controller populated to what was previously sent when the browser is refreshed.</p>\n\n<p>I would like the page to refresh with the same information that was displayed instead of throwing a null. The error that is thrown when browser is refreshed: \"The parameters dictionary contains a null entry for parameter...\"</p>\n"}, {"tags": ["c#", "linq", "date-range"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1569447106, "post_id": 58106660, "comment_id": 102604251, "body": "You have some extension methods in play here. I assume <code>ToFirstDateOfMonth</code> only modifies the day to <code>1</code>, correct?"}], "answers": [{"comments": [{"owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "edited": false, "score": 0, "creation_date": 1569451121, "post_id": 58107247, "comment_id": 102605313, "body": "I cannot stop thinking that there is a solution that doesn&#39;t require calculating a daily value and looks as good as this. Anyway, this answer is a beauty."}, {"owner": {"reputation": 161, "user_id": 12084399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/218fe5e04da8d5b779d0ad60f6b11434?s=128&d=identicon&r=PG&f=1", "display_name": "Stackberg", "link": "https://stackoverflow.com/users/12084399/stackberg"}, "edited": false, "score": 0, "creation_date": 1569501144, "post_id": 58107247, "comment_id": 102622798, "body": "Thanks! Aesthetically this solution is beautiful! You&#39;ll get a vote up from me for that! However, performance wise the solution provided by @RufusL is much better so I&#39;m going to accept that as the answer"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "reply_to_user": {"reputation": 161, "user_id": 12084399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/218fe5e04da8d5b779d0ad60f6b11434?s=128&d=identicon&r=PG&f=1", "display_name": "Stackberg", "link": "https://stackoverflow.com/users/12084399/stackberg"}, "edited": false, "score": 0, "creation_date": 1569565827, "post_id": 58107247, "comment_id": 102645126, "body": "@Stackberg - Why is performance an issue? That wasn&#39;t specified in the question. You did ask for &quot;a much easier way&quot;. Isn&#39;t this a much easier way?"}, {"owner": {"reputation": 161, "user_id": 12084399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/218fe5e04da8d5b779d0ad60f6b11434?s=128&d=identicon&r=PG&f=1", "display_name": "Stackberg", "link": "https://stackoverflow.com/users/12084399/stackberg"}, "edited": false, "score": 0, "creation_date": 1569569966, "post_id": 58107247, "comment_id": 102647024, "body": "@Enigmativity In my opinion performance is always an issue, but I will mention it clearly next time. Thanks for the feedback, I honesty appreciate it."}], "tags": [], "owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "is_accepted": false, "score": 2, "last_activity_date": 1571586038, "last_edit_date": 1571586038, "creation_date": 1569449856, "answer_id": 58107247, "question_id": 58106660, "link": "https://stackoverflow.com/questions/58106660/split-amount-per-date-range-into-amount-per-month-year/58107247#58107247", "title": "Split amount per date-range into amount per month/year", "body": "<p>It is much easier with LINQ.</p>\n\n<pre><code>var output =\n    from app in lstAmountPerPeriod\n    let days = (int)app.Enddate.Date.Subtract(app.Startdate.Date).TotalDays + 1\n    from day in Enumerable.Range(0, days)\n    let daily = new AmountPerPeriod()\n    {\n        Id = app.Id,\n        Startdate = app.Startdate.AddDays(day),\n        Enddate = app.Startdate.AddDays(day),\n        Amount = app.Amount / days\n    }\n    group daily.Amount by new\n    {\n        daily.Id,\n        daily.Startdate.Year,\n        daily.Startdate.Month\n    } into gds\n    select new AmountPerMonth()\n    {\n        Id = gds.Key.Id,\n        Year = gds.Key.Year,\n        Month = gds.Key.Month,\n        Amount = gds.Sum(),\n    };\n</code></pre>\n\n<p>This query returns:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pPvW0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pPvW0.png\" alt=\"output\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 1, "last_activity_date": 1571586100, "last_edit_date": 1571586100, "creation_date": 1569452491, "answer_id": 58107575, "question_id": 58106660, "link": "https://stackoverflow.com/questions/58106660/split-amount-per-date-range-into-amount-per-month-year/58107575#58107575", "title": "Split amount per date-range into amount per month/year", "body": "<p>Here's another way to do it, the basic difference here is that I'm using a <code>for</code> loop to continually update the \"first day\" to either the first day in the period or the first day of the current month, and the \"last day\" to either the last day of the current month or the last day of the period, whichever is smaller. </p>\n\n<p>I also added this as a static method on the <code>AmountPerMonth</code> class, which takes in an <code>AmountPerPeriod</code> and returns a <code>List&lt;AmountPerMonth&gt;</code>. Additionally, I overrode the <code>ToString</code> method to output a string similar to the one in your question, so the output looks the same:</p>\n\n<pre><code>public class AmountPerMonth\n{\n    public int Id { get; set; }\n    public int Year { get; set; }\n    public int Month { get; set; }\n    public decimal Amount { get; set; }\n\n    public static List&lt;AmountPerMonth&gt; FromPeriod(AmountPerPeriod period)\n    {\n        if (period == null) return null;\n        var amtPerDay = period.Amount / ((period.EndDate - period.StartDate).Days + 1);\n        var result = new List&lt;AmountPerMonth&gt;();\n\n        for (var date = period.StartDate; date &lt;= period.EndDate; \n             date = date.AddMonths(1).ToFirstDateOfMonth())\n        {\n            var lastDayOfMonth = date.ToLastDateOfMonth();\n            var lastDay = period.EndDate &lt; lastDayOfMonth\n                ? period.EndDate\n                : lastDayOfMonth;\n            var amount = ((lastDay - date).Days + 1) * amtPerDay;\n\n            result.Add(new AmountPerMonth\n            {\n                Id = period.Id,\n                Year = date.Year,\n                Month = date.Month,\n                Amount = amount\n            });\n        }\n\n        return result;\n    }\n\n    public override string ToString()\n    {\n        return $\"{Id,-3} |{Month,-6}| {Year,-6}| {Amount:0.00}\";\n    }\n}\n</code></pre>\n\n<p>We can use this method as an argument to <code>SelectMany</code> from your sample data to generate our list and output the results:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    var lstAmountPerPeriod = new List&lt;AmountPerPeriod&gt;()\n    {\n        new AmountPerPeriod\n        {\n            Id = 1,\n            StartDate = new DateTime(2019, 03, 21),\n            EndDate = new DateTime(2019, 05, 09),\n            Amount = 10000\n        },\n        new AmountPerPeriod\n        {\n            Id = 2,\n            StartDate = new DateTime(2019, 04, 02),\n            EndDate = new DateTime(2019, 04, 10),\n            Amount = 30000\n        },\n        new AmountPerPeriod\n        {\n            Id = 3,\n            StartDate = new DateTime(2018, 11, 01),\n            EndDate = new DateTime(2019, 01, 08),\n            Amount = 20000\n        }\n    };\n\n    var amountsPerMonth = lstAmountPerPeriod.SelectMany(AmountPerMonth.FromPeriod);\n\n    Console.WriteLine(\"ID |month |year   |amount\");\n    Console.WriteLine(\"---|------|-------|--------\");\n    Console.WriteLine(string.Join(Environment.NewLine, amountsPerMonth));\n\n    GetKeyFromUser(\"\\n\\nDone! Press any key to exit...\");\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/5bqhl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5bqhl.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note: These extension methods were used in the code above:</p>\n\n<pre><code>public static class Extensions\n{\n    public static DateTime ToFirstDateOfMonth(this DateTime input)\n    {\n        return new DateTime(input.Year, input.Month, 1, input.Hour, \n            input.Minute, input.Second, input.Millisecond, input.Kind);\n    }\n\n    public static DateTime ToLastDateOfMonth(this DateTime input)\n    {\n        return new DateTime(input.Year, input.Month, \n            DateTime.DaysInMonth(input.Year, input.Month), input.Hour,\n            input.Minute, input.Second, input.Millisecond, input.Kind);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 12084399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/218fe5e04da8d5b779d0ad60f6b11434?s=128&d=identicon&r=PG&f=1", "display_name": "Stackberg", "link": "https://stackoverflow.com/users/12084399/stackberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 58107575, "answer_count": 2, "score": 1, "last_activity_date": 1571586100, "creation_date": 1569446404, "last_edit_date": 1571586086, "question_id": 58106660, "link": "https://stackoverflow.com/questions/58106660/split-amount-per-date-range-into-amount-per-month-year", "title": "Split amount per date-range into amount per month/year", "body": "<p>I'm basicly trying to do the same thing as <a href=\"https://stackoverflow.com/questions/57991290/return-amount-per-year-month-records-based-on-start-and-enddate\">here</a> only I want to do this in C# and not in SQL.</p>\n\n<p>I have a class:</p>\n\n<pre><code>public class AmountPerPeriod\n{\n    public int Id { get; set; }\n    public DateTime Startdate { get; set; }\n    public DateTime Enddate { get; set; }\n    public decimal Amount { get; set; }\n}\n</code></pre>\n\n<p>For this example say I populate a list of <code>AmountPerPeriod</code> items with:</p>\n\n<pre><code>var lstAmountPerPeriod = new List&lt;AmountPerPeriod&gt;()\n            {\n                new AmountPerPeriod\n                {\n                    Id = 1,\n                    Startdate = new DateTime(2019, 03, 21),\n                    Enddate = new DateTime(2019, 05, 09),\n                    Amount = 10000\n                },\n                new AmountPerPeriod\n                {\n                    Id = 2,\n                    Startdate = new DateTime(2019, 04, 02),\n                    Enddate = new DateTime(2019, 04, 10),\n                    Amount = 30000\n                },\n                new AmountPerPeriod\n                {\n                    Id = 3,\n                    Startdate = new DateTime(2018, 11, 01),\n                    Enddate = new DateTime(2019, 01, 08),\n                    Amount = 20000\n                }\n            };\n</code></pre>\n\n<p>I want my out put to be a List of AmountPerMonth class which looks like this:</p>\n\n<pre><code>public class AmountPerMonth\n{\n    public int Id { get; set; }\n    public int Year { get; set; }\n    public int Month { get; set; }\n    public decimal Amount { get; set; }\n}\n</code></pre>\n\n<p>Like I should I tried and I got a working method which I feel its way way way to complex. This method which provided the correct outcome looks like this:  </p>\n\n<pre><code>var result = new List&lt;AmountPerMonth&gt;();\n\n    foreach (var item in lstAmountPerPeriod)\n    {\n        if (item.Startdate.Year == item.Enddate.Year &amp;&amp; item.Startdate.Month == item.Enddate.Month)\n        {\n            result.Add(new AmountPerMonth\n            {\n                Amount = item.Amount,\n                Id = item.Id,\n                Month = item.Startdate.Month,\n                Year = item.Startdate.Year\n            });\n        }\n        else\n        {\n            var numberOfDaysInPeriod = (item.Enddate - item.Startdate).Days+1;\n            var amountPerDay = item.Amount / numberOfDaysInPeriod;\n            var periodStartDate = item.Startdate;\n\n            bool firstPeriod = true;\n\n            while (periodStartDate.ToFirstDateOfMonth() &lt;= item.Enddate.ToFirstDateOfMonth())\n            {\n                if (firstPeriod)\n                {\n                    result.Add(new AmountPerMonth\n                    {\n                        Amount = ((periodStartDate.ToLastDateOfMonth()-periodStartDate).Days+1)*amountPerDay,\n                        Id = item.Id,\n                        Month = periodStartDate.Month,\n                        Year = periodStartDate.Year\n                    });\n                }\n                else if (periodStartDate.Month != item.Enddate.Month)\n                {\n                    result.Add(new AmountPerMonth\n                    {\n                        Amount = ((periodStartDate.ToLastDateOfMonth()-periodStartDate.ToFirstDateOfMonth()).Days+1) * amountPerDay,\n                        Id = item.Id,\n                        Month = periodStartDate.Month,\n                        Year = periodStartDate.Year\n                    });\n                }\n                else\n                {\n                    result.Add(new AmountPerMonth\n                    {\n                        Amount = ((item.Enddate - periodStartDate.ToFirstDateOfMonth()).Days+1) * amountPerDay,\n                        Id = item.Id,\n                        Month = periodStartDate.Month,\n                        Year = periodStartDate.Year\n                    });\n                }\n\n                periodStartDate = periodStartDate.AddMonths(1);\n\n                firstPeriod = false;\n            }\n        }\n    }\n\n\n// assert using fluentassertions\nresult.Count.Should().Be(7);\nresult.First().Amount.Should().Be(2200);\nresult.Last().Amount.Should().BeApproximately(2318.84M, 2);\n\n// list with result basically should contain:\n// ID |month |year   |amount\n// ---|------|-------|--------\n// 1  |3     | 2019  | 2200.00\n// 1  |4     | 2019  | 6000.00\n// 1  |5     | 2019  | 1800.00\n// 2  |4     | 2019  |30000.00\n// 3  |11    | 2018  | 8695.65\n// 3  |12    | 2018  | 8985.51\n// 3  |1     | 2019  | 2318.84\n</code></pre>\n\n<p>Like I said there should be a much easier way, even possibly using LINQ. Anyone has any suggestions?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "asp.net-mvc", "json.net"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 2509192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab0f2754b765164ae8a3a59792368d3?s=128&d=identicon&r=PG", "display_name": "user2509192", "link": "https://stackoverflow.com/users/2509192/user2509192"}, "edited": false, "score": 0, "creation_date": 1569503912, "post_id": 58107205, "comment_id": 102624336, "body": "It is &quot;en-CA&quot; just before the return line and then &quot;fr-CA&quot; within the WriteJson method of my converter. Could there be a filter or something that changes the culture between the time the controller returns its value and the time the JsonConverter writes the content?"}, {"owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "reply_to_user": {"reputation": 53, "user_id": 2509192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab0f2754b765164ae8a3a59792368d3?s=128&d=identicon&r=PG", "display_name": "user2509192", "link": "https://stackoverflow.com/users/2509192/user2509192"}, "edited": false, "score": 0, "creation_date": 1569536389, "post_id": 58107205, "comment_id": 102639122, "body": "What if you call <code>var temp = JsonConvert.SerializeObject</code> explicitly, just as a test, just before you return? What does <code>WriteJson</code> see then?"}, {"owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "reply_to_user": {"reputation": 53, "user_id": 2509192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab0f2754b765164ae8a3a59792368d3?s=128&d=identicon&r=PG", "display_name": "user2509192", "link": "https://stackoverflow.com/users/2509192/user2509192"}, "edited": false, "score": 0, "creation_date": 1569536476, "post_id": 58107205, "comment_id": 102639139, "body": "Also, what happens if you set <code>System.Globalization.CultureInfo.CurrentCulture = new CultureInfo(&quot;th-TH&quot;, false);</code> (not <code>Thread.CurrentThread.</code>) - there should be no difference in you scenario, but maybe I&#39;m reading the docs incorrectly. It&#39;s worth a try."}, {"owner": {"reputation": 53, "user_id": 2509192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab0f2754b765164ae8a3a59792368d3?s=128&d=identicon&r=PG", "display_name": "user2509192", "link": "https://stackoverflow.com/users/2509192/user2509192"}, "edited": false, "score": 0, "creation_date": 1569593022, "post_id": 58107205, "comment_id": 102658837, "body": "When i use my custom JsonConverter on a LocalizedString in my controller it uses the CurrentCulture as expected."}, {"owner": {"reputation": 53, "user_id": 2509192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab0f2754b765164ae8a3a59792368d3?s=128&d=identicon&r=PG", "display_name": "user2509192", "link": "https://stackoverflow.com/users/2509192/user2509192"}, "edited": false, "score": 0, "creation_date": 1569593892, "post_id": 58107205, "comment_id": 102659302, "body": "I still have the same results with System.Globalization.CultureInfo.CurrentCulture = . Btw, thanks for taking the time to think about it! It seems the json serialization is started on another thread which doesn&#39;t carry the previous culture... I can&#39;t find any documention on how to manage the culture when serializing. I only need to have a handle on the request so I can fetch the user culture from the headers..."}], "tags": [], "owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "is_accepted": false, "score": 0, "last_activity_date": 1569449575, "creation_date": 1569449575, "answer_id": 58107205, "question_id": 58106653, "link": "https://stackoverflow.com/questions/58106653/how-to-serialize-object-to-json-based-on-the-client-culture-with-newtonsoft/58107205#58107205", "title": "How to serialize object to json based on the client culture with newtonsoft?", "body": "<p>According to <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.globalization.cultureinfo.currentculture?view=netframework-4.8#how-a-threads-culture-is-determined\" rel=\"nofollow noreferrer\">How a Thread's Culture Is Determined</a> your code should work if you set the culture correctly.</p>\n\n<p>What is <code>Console.WriteLine(\"CurrentCulture is now {0}.\", CultureInfo.CurrentCulture.Name);</code> just before you return from your controller (so just before the serialiser is called)?</p>\n\n<p>Also, the Microsoft <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.globalization.cultureinfo.currentculture?view=netframework-4.8#remarks\" rel=\"nofollow noreferrer\">doco</a> states:</p>\n\n<blockquote>\n  <p>In the .NET Framework 4.5.2 and earlier versions, the <em>CurrentCulture</em> property is read-only; that is, you can retrieve the property value, but you cannot set it. To change the current culture, you assign the <code>CultureInfo</code> object that represents the new culture to the <code>Thread.CurrentThread.CurrentCulture</code> property. Starting with the .NET Framework 4.6, the <em>CurrentCulture</em> property is read-write; you can both set and retrieve the property's value. If you do set the property value to a <em>CultureInfo</em> object that represents a new culture, the value of the <code>Thread.CurrentThread.CurrentCulture</code> property also changes.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 2509192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab0f2754b765164ae8a3a59792368d3?s=128&d=identicon&r=PG", "display_name": "user2509192", "link": "https://stackoverflow.com/users/2509192/user2509192"}, "is_accepted": true, "score": 0, "last_activity_date": 1569858587, "last_edit_date": 1569858587, "creation_date": 1569857837, "answer_id": 58171126, "question_id": 58106653, "link": "https://stackoverflow.com/questions/58106653/how-to-serialize-object-to-json-based-on-the-client-culture-with-newtonsoft/58171126#58171126", "title": "How to serialize object to json based on the client culture with newtonsoft?", "body": "<p>If anyone encounters the same problem I couldn't find the exact answer I was looking for. I was looking for a way to either pass the request itself to the JsonConverter or set the culture info of the thread that is running the JsonConverter.</p>\n\n<p>Couldn't find anything in the available documentation so my workaround is a filter that sets culture info to every LocalizedString of the Response Content. Note that the IsValueType() method is an extension method that is basically return type.IsValueType || type == typeof(string);</p>\n\n<pre><code>/// &lt;summary&gt;\n/// Assign the culture to every LocalizedString from the response.\n/// &lt;/summary&gt;\n[AttributeUsage(AttributeTargets.Class | AttributeTargets.Method)]\npublic sealed class SetCultureToLocalizedStringsAttribute : ActionFilterAttribute\n{\n    #region Methods\n\n    /// &lt;summary&gt;\n    /// Occurs after the action method is invoked\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"actionExecutedContext\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"cancellationToken\"&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    public override async Task OnActionExecutedAsync(HttpActionExecutedContext actionExecutedContext, CancellationToken cancellationToken)\n    {\n        var content = actionExecutedContext.Response.Content != null ? await actionExecutedContext.Response.Content.ReadAsAsync&lt;object&gt;(cancellationToken) : null;\n\n        AssignCultureOfLocalizedStringProperties(\n            content,\n            typeof(LocalizedString)\n                .GetProperties().First(x =&gt; x.PropertyType == typeof(CultureInfo)),\n            Thread.CurrentThread.CurrentCulture);\n    }\n\n    private static void AssignCultureOfLocalizedStringProperties(object obj, PropertyInfo cultureProperty, CultureInfo culture)\n    {\n        if (obj == null || obj.GetType().IsValueType())\n        {\n            return;\n        }\n\n        if (obj.GetType() == typeof(LocalizedString))\n        {\n            cultureProperty.SetValue(obj, culture);\n            return;\n        }\n\n        var currentProperties = obj.GetType().GetProperties(BindingFlags.Public | BindingFlags.Instance);\n\n        foreach (var property in currentProperties)\n        {\n            var propValue = property.GetValue(obj);\n\n            if (property.PropertyType.IsValueType())\n            {\n                continue;\n            }\n\n            if (propValue is IEnumerable elems)\n            {\n                foreach (var item in elems)\n                {\n                    AssignCultureOfLocalizedStringProperties(item, cultureProperty, culture);\n                }\n            }\n            else\n            {\n                AssignCultureOfLocalizedStringProperties(propValue, cultureProperty, culture);\n            }\n        }\n    }\n\n    #endregion\n}\n</code></pre>\n\n<p>I had to change some code of my LocalizedString class. First I've added a CultureInfo property</p>\n\n<pre><code>    [Raven.Imports.Newtonsoft.Json.JsonIgnore]\n    public CultureInfo Culture { get; set; }\n</code></pre>\n\n<p>And I've also changed the toString method.</p>\n\n<pre><code>    public override string ToString()\n    {\n        return this.IsEnglish() ? this.English : this.French;\n    }\n\n    private bool IsEnglish()\n    {\n        var cultureName = this.Culture != null ? this.Culture.Name : Thread.CurrentThread.CurrentCulture.Name;\n\n        return cultureName.Equals(Language.English.CultureName, StringComparison.OrdinalIgnoreCase);\n    }\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 2509192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab0f2754b765164ae8a3a59792368d3?s=128&d=identicon&r=PG", "display_name": "user2509192", "link": "https://stackoverflow.com/users/2509192/user2509192"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 996, "favorite_count": 0, "accepted_answer_id": 58171126, "answer_count": 2, "score": 0, "last_activity_date": 1569858587, "creation_date": 1569446347, "last_edit_date": 1569513160, "question_id": 58106653, "link": "https://stackoverflow.com/questions/58106653/how-to-serialize-object-to-json-based-on-the-client-culture-with-newtonsoft", "title": "How to serialize object to json based on the client culture with newtonsoft?", "body": "<p>I'm using Newtonsoft.Json.JsonConverter and .NET Framework 4.7.2.</p>\n\n<p>I have a controller that returns an object with a property of type LocalizedString which is just a simple object with 2 properties: english and french representation of a string.</p>\n\n<p>The culture is set to the current thread by the controller like this:</p>\n\n<pre><code>Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture(this.Name);\nThread.CurrentThread.CurrentUICulture = CultureInfo.CreateSpecificCulture(this.Name);\n</code></pre>\n\n<p>The culture comes from the request cookies and when queried within the controller GET method it works. </p>\n\n<p>The LocalizedString has a ToString method that looks like this:</p>\n\n<pre><code>public string ToString(string language)\n{\n   return language.Equals(Language.English.CultureName, StringComparison.OrdinalIgnoreCase) ? this.English : this.French;\n}\n</code></pre>\n\n<p>Now I have a JsonConverter to manage the serialization of the LocalizedString objects that looks like this:</p>\n\n<pre><code>public class LocalizedStringJsonConverter : JsonConverter\n{\n    #region Methods\n\n    /// &lt;summary&gt;\n    /// Writes the JSON representation of the object.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"writer\"&gt;The &lt;see cref=\"T:Newtonsoft.Json.JsonWriter\"/&gt; to write to.&lt;/param&gt;&lt;param name=\"value\"&gt;The value.&lt;/param&gt;&lt;param name=\"serializer\"&gt;The calling serializer.&lt;/param&gt;\n    public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n    {\n        writer.WriteValue(((LocalizedString)value).ToString(Thread.CurrentThread.CurrentCulture.Name));\n    }\n\n    /// &lt;summary&gt;\n    /// Reads the JSON representation of the object.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"reader\"&gt;The &lt;see cref=\"T:Newtonsoft.Json.JsonReader\"/&gt; to read from.&lt;/param&gt;&lt;param name=\"objectType\"&gt;Type of the object.&lt;/param&gt;&lt;param name=\"existingValue\"&gt;The existing value of object being read.&lt;/param&gt;&lt;param name=\"serializer\"&gt;The calling serializer.&lt;/param&gt;\n    /// &lt;returns&gt;\n    /// The object value.\n    /// &lt;/returns&gt;\n    public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n    {\n        throw new NotImplementedException();\n    }\n\n    /// &lt;summary&gt;\n    /// Determines whether this instance can convert the specified object type.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"objectType\"&gt;Type of the object.&lt;/param&gt;\n    /// &lt;returns&gt;\n    /// &lt;c&gt;true&lt;/c&gt; if this instance can convert the specified object type; otherwise, &lt;c&gt;false&lt;/c&gt;.\n    /// &lt;/returns&gt;\n    public override bool CanConvert(Type objectType)\n    {\n        return objectType == typeof(LocalizedString);\n    }\n\n    #endregion\n}\n</code></pre>\n\n<p>When I query the culture within the JsonConverter like this:\n    Thread.CurrentThread.CurrentCulture.Name</p>\n\n<p>The value is always the culture of the server (which is french when i debug on my PC).</p>\n\n<p>I'm trying to understand what I'm doing wrong...\nI know of plenty of other ways to do what I want to do, like I could let client manage the culture with javascript or my controller could actually return a string pre-localized but that would mean I would need to refactor the whole web app.. which I'm trying to avoid.</p>\n\n<p>Thanks for your time</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I've tried to add my own filter to make sure the culture is still set after my controller returns but the JsonConverter is executed after the OnActionExecuted method of my filter and the culture is still wrong. I don't know what calls the JsonConverter but that is probably where the culture should be set...</p>\n"}, {"tags": ["c#", ".net", "winforms", "data-binding"], "comments": [{"owner": {"reputation": 8216, "user_id": 311343, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d966ec61fcaf459d0a057828f285694c?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/311343/tim"}, "reply_to_user": {"reputation": 13507, "user_id": 2846483, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/X2Bfs.jpg?s=128&g=1", "display_name": "dymanoid", "link": "https://stackoverflow.com/users/2846483/dymanoid"}, "edited": false, "score": 0, "creation_date": 1569447343, "post_id": 58106643, "comment_id": 102604326, "body": "@dymanoid: Thanks for that info. This is a legacy WinForms app.  I&#39;ve edited the question."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1569456238, "post_id": 58106643, "comment_id": 102606231, "body": "See <a href=\"https://stackoverflow.com/a/39714058\">this answer</a> in the first marked duplicate for what is probably the most straightforward approach. You can of course use other techniques described, including the &quot;shallow copy&quot; approach that you&#39;ve already expressed a preference against, or subclassing <code>BindingList&lt;T&gt;</code> and implementing an actual in situ sort yourself (quicksort is a well-documented, easy-to-implement option, so that shouldn&#39;t be too hard)."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1569478910, "post_id": 58106643, "comment_id": 102611270, "body": "Take a look at <a href=\"https://stackoverflow.com/a/23661356/3110834\"><code>SortableBindingList</code></a> with some small <a href=\"https://stackoverflow.com/a/39539248/3110834\">changes</a> to keep it sorted on data changes."}, {"owner": {"reputation": 8216, "user_id": 311343, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d966ec61fcaf459d0a057828f285694c?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/311343/tim"}, "reply_to_user": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1569593686, "post_id": 58106643, "comment_id": 102659187, "body": "@RezaAghaei: Can the <code>OrderBy</code> method be invoked like this?  <code>MySortable.OrderBy(x=&gt;x.title);</code> ?"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1569596325, "post_id": 58106643, "comment_id": 102660630, "body": "@Tim no, it cannot. To sort using code, use <code>ApplySort</code> method. Also if you bind a <code>DataGridView</code> to the sortable binding list, when you click on columns, sort will work as expected."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1569596607, "post_id": 58106643, "comment_id": 102660780, "body": "Just in case you are using EF, you may find <a href=\"https://stackoverflow.com/a/35978408/3110834\">this post</a> useful. It&#39;s about filtering however, but I think it may be useful for sort as well."}, {"owner": {"reputation": 8216, "user_id": 311343, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d966ec61fcaf459d0a057828f285694c?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/311343/tim"}, "reply_to_user": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1569598924, "post_id": 58106643, "comment_id": 102661889, "body": "@RezaAghaei: Sorry, but I don&#39;t understand. That method is not visible from <code>mySortable</code> ( nor is ApplySortCore) when I declare the object like this:    <code>var  mySortable = new SortableBindingList&lt;myCustomObject&gt;()</code>.  Am I not using it properly?"}], "owner": {"reputation": 8216, "user_id": 311343, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d966ec61fcaf459d0a057828f285694c?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/311343/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "closed_date": 1569456086, "answer_count": 0, "score": 0, "last_activity_date": 1569479067, "creation_date": 1569446290, "last_edit_date": 1569449059, "question_id": 58106643, "link": "https://stackoverflow.com/questions/58106643/which-bindable-observable-net-collectiont-or-listt-can-be-sorted-in-situ", "closed_reason": "Duplicate", "title": "Which bindable/observable .NET Collection&lt;T&gt; or List&lt;T&gt; can be sorted &quot;in situ&quot; , that is, without making a shallow copy?", "body": "<p>I would like to two-way bind a collection or list or view of <code>&lt;customObject&gt;</code> to the UI, and have this bound \"thing\" be sortable <em>in situ</em>, that is, without making a shallow copy of it, and also raise an event when values change or the order of its items change, so that the UI controls can be notified and respond.</p>\n\n<p>Which .NET classes meet this description?  Please provide the namespaces where they are found.</p>\n\n<p>EDIT: Need to retrofit a legacy WinForms application.</p>\n"}, {"tags": ["c#", "unity3d", "rotation", "smoothing"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1569446951, "post_id": 58106550, "comment_id": 102604199, "body": "You&#39;ll want to scale the magntidue by the Mouse X axis &amp; keep the axis constant. Try <code>this._obj.transform.Rotate(Vector3.down, Time.unscaledDeltaTime * this.speed * Input.GetAxis(&quot;Mouse X&quot;));</code>"}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 8752083, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/10d5545d6b2f88a95c4146f954a8a29c?s=128&d=identicon&r=PG&f=1", "display_name": "rafulin", "link": "https://stackoverflow.com/users/8752083/rafulin"}, "edited": false, "score": 0, "creation_date": 1606593141, "post_id": 58107734, "comment_id": 115009517, "body": "thank you so much! works like a charm!"}], "tags": [], "owner": {"reputation": 636, "user_id": 5616893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DwU87.jpg?s=128&g=1", "display_name": "Vitulus", "link": "https://stackoverflow.com/users/5616893/vitulus"}, "is_accepted": true, "score": 2, "last_activity_date": 1569454001, "creation_date": 1569454001, "answer_id": 58107734, "question_id": 58106550, "link": "https://stackoverflow.com/questions/58106550/smooth-with-mouse-object-rotation/58107734#58107734", "title": "Smooth with mouse object rotation", "body": "<p>Its a bit complicated just to rotate it. Here's a working version of what you want:</p>\n\n<pre><code>    public Vector3 hiddenRotation;\n\nvoid Start()\n{\n    hiddenRotation = this.transform.rotation.eulerAngles;\n}\n\nvoid Update()\n{\n    float sensitivity = 5.0f;\n    //Get rotation vector\n    Vector3 rot = new Vector3(0, -Input.GetAxis(\"Mouse X\"), 0) * sensitivity;\n    //Add rotation to hidden internal rotation\n    hiddenRotation += rot;\n\n    //Specify speed at which the cube rotates.\n    float speed = 50.0f;\n    float step = speed * Time.deltaTime;\n\n    //Set new rotation (changing this function may allow for smoother motion, like lower step as it approaches the new rotation\n    this.transform.rotation = Quaternion.RotateTowards(this.transform.rotation, Quaternion.Euler(hiddenRotation), step);\n\n}\n</code></pre>\n\n<p>Which uses a hidden rotation and gets the transform.rotation to approach it.</p>\n"}], "owner": {"reputation": 139, "user_id": 10536169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L1Qsx.jpg?s=128&g=1", "display_name": "UnknownUser", "link": "https://stackoverflow.com/users/10536169/unknownuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 1, "accepted_answer_id": 58107734, "answer_count": 1, "score": 1, "last_activity_date": 1569454001, "creation_date": 1569445658, "question_id": 58106550, "link": "https://stackoverflow.com/questions/58106550/smooth-with-mouse-object-rotation", "title": "Smooth with mouse object rotation", "body": "<p>I use this line to rotate object using mouse:</p>\n\n<pre><code>this._obj.transform.Rotate(new Vector3(0, -Input.GetAxis(\"Mouse X\"), 0), Time.unscaledDeltaTime * this.speed);\n</code></pre>\n\n<p>But I would like to smooth this out, with some delay like in Sketchfab when you use the mouse to rotate the object, just not sure how to do this properly. I'm not really familiar with the Quaternions that much.</p>\n\n<p>Can someone give me some advice on how I just approach this?</p>\n"}, {"tags": ["c#", "oracle"], "comments": [{"owner": {"reputation": 204, "user_id": 1838837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/449d2e64b9bc5bd98509b34d0918c1e2?s=128&d=identicon&r=PG", "display_name": "Johannes Krackowizer", "link": "https://stackoverflow.com/users/1838837/johannes-krackowizer"}, "edited": false, "score": 0, "creation_date": 1569446143, "post_id": 58106532, "comment_id": 102603957, "body": "Did you have a look at this: <a href=\"https://stackoverflow.com/questions/10124548/odp-net-update-returning-into-multiple-rows-parameter-type/10212178\" title=\"odp net update returning into multiple rows parameter type\">stackoverflow.com/questions/10124548/&hellip;</a>"}, {"owner": {"reputation": 90, "user_id": 1903906, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/N45It.jpg?s=128&g=1", "display_name": "Eduardo Lion", "link": "https://stackoverflow.com/users/1903906/eduardo-lion"}, "reply_to_user": {"reputation": 204, "user_id": 1838837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/449d2e64b9bc5bd98509b34d0918c1e2?s=128&d=identicon&r=PG", "display_name": "Johannes Krackowizer", "link": "https://stackoverflow.com/users/1838837/johannes-krackowizer"}, "edited": false, "score": 0, "creation_date": 1569447079, "post_id": 58106532, "comment_id": 102604244, "body": "Thanks Johannes, but i need to dynamically set the return, ie, I don&#39;t know how many rows will be updated. I guess i have stumbled with this question during my research hahahaha"}], "answers": [{"tags": [], "owner": {"reputation": 204, "user_id": 1838837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/449d2e64b9bc5bd98509b34d0918c1e2?s=128&d=identicon&r=PG", "display_name": "Johannes Krackowizer", "link": "https://stackoverflow.com/users/1838837/johannes-krackowizer"}, "is_accepted": false, "score": 0, "last_activity_date": 1569449131, "creation_date": 1569449131, "answer_id": 58107140, "question_id": 58106532, "link": "https://stackoverflow.com/questions/58106532/how-to-get-the-updated-rows-primary-key-without-stored-procedure/58107140#58107140", "title": "How to get the updated rows primary key without stored procedure", "body": "<p>You do not need to create a stored procedure but it won't work with a simple update statement. you need at least something like this as statement:</p>\n\n<pre><code>DECLARE t_ids id_array;\nBEGIN\nUPDATE table\nSET field1 = :value\nWHERE field2 = :searchFor\nRETURNING key_column BULK COLLECT INTO t_ids;\n\nOPEN :rcursor FOR SELECT * FROM TABLE(cast(t_ids as id_array));\nEND;\n</code></pre>\n\n<p>This will return a ref cursor which you could process in c#</p>\n\n<pre><code>OracleCommand command = new OracleCommand(\"&lt;the sql query above&gt;\", connection);\ncommand.BindByName = true;\n\n// Add the parameters for update statement\n// ...\n\n// Add the out parameter for the ref cursor\nOracleParameter refCursor = new OracleParameter(\"rcursor\", OracleDbType.RefCursor);\nrefCursor.Direction = ParameterDirection.ReturnValue;\ncommand.Parameters.Add(returnCursor);\n\nvar reader = command.ExecuteReader();\n\nOracleDataAdapter dataAdapter = new OracleDataAdapter(command);\nDataTable dt = new DataTable();\ndataAdapter.Fill(dt);\n</code></pre>\n"}], "owner": {"reputation": 90, "user_id": 1903906, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/N45It.jpg?s=128&g=1", "display_name": "Eduardo Lion", "link": "https://stackoverflow.com/users/1903906/eduardo-lion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569449131, "creation_date": 1569445568, "question_id": 58106532, "link": "https://stackoverflow.com/questions/58106532/how-to-get-the-updated-rows-primary-key-without-stored-procedure", "title": "How to get the updated rows primary key without stored procedure", "body": "<p>I have a situation where I need to retrieve the primary key of the updated rows in a simple update statement.\nI found the \"RETURNING INTO\" clause from Oracle, but couldn't find a way to retrieve all the primary keys from the rows that were updated, using C#, without create a stored procedure.\nThe logic is quite simple, update some rows, get their IDs so multiple threads works on multiple sets of updated rows.\nIs it possible to achieve?</p>\n"}, {"tags": ["c#", "xamarin.android"], "comments": [{"owner": {"reputation": 2078, "user_id": 3691155, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/VJ4J7.jpg?s=128&g=1", "display_name": "Mukesh Modhvadiya", "link": "https://stackoverflow.com/users/3691155/mukesh-modhvadiya"}, "edited": false, "score": 0, "creation_date": 1569486027, "post_id": 58106509, "comment_id": 102614670, "body": "You should post the code that you have tried and the problem you are facing."}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 11895474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a63555072e88b6b3175145ee598089c?s=128&d=identicon&r=PG&f=1", "display_name": "Taniguchi.sales", "link": "https://stackoverflow.com/users/11895474/taniguchi-sales"}, "edited": false, "score": 0, "creation_date": 1572962829, "post_id": 58111285, "comment_id": 103719319, "body": "@thanks so much, sorry for long reply i had to make another account because i blocked to make questions in this account"}], "tags": [], "owner": {"reputation": 1910, "user_id": 10308336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxGaJ.jpg?s=128&g=1", "display_name": "Jessie Zhang -MSFT", "link": "https://stackoverflow.com/users/10308336/jessie-zhang-msft"}, "is_accepted": true, "score": 2, "last_activity_date": 1569487890, "last_edit_date": 1569487890, "creation_date": 1569481597, "answer_id": 58111285, "question_id": 58106509, "link": "https://stackoverflow.com/questions/58106509/xamarin-android-how-to-create-a-combobox/58111285#58111285", "title": "Xamarin Android: How to create a combobox", "body": "<p>I have translated the sample code from java to c#, and it works properly.The main code is as follows:</p>\n\n<p>activity_main.axml</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:orientation=\"vertical\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n&lt;Spinner  \n  android:id=\"@+id/spinner\"  \n  android:layout_width=\"fill_parent\"  \n  android:layout_height=\"wrap_content\"  \n  android:spinnerMode=\"dialog\"\n  android:prompt=\"@string/country_prompt\" /&gt;\n&lt;Spinner\n    android:layout_marginTop=\"15dp\"\n    android:id=\"@+id/spinner2\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/btnSubmit\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"15dp\"\n    android:text=\"Submit\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>MainActivity.cs</p>\n\n<pre><code>public class MainActivity : AppCompatActivity\n{\n    private Spinner spinner1, spinner2;\n    private Button btnSubmit;\n\n    protected override void OnCreate(Bundle savedInstanceState)\n    {\n        base.OnCreate(savedInstanceState);\n        // Set our view from the \"main\" layout resource\n        SetContentView(Resource.Layout.activity_main);\n\n        addItemsOnSpinner1();\n\n        addItemsOnSpinner2();\n\n        addListenerOnButton();\n\n    }\n\n    public void addItemsOnSpinner1()\n    {\n        spinner1 = FindViewById&lt;Spinner&gt;(Resource.Id.spinner);\n        spinner1.ItemSelected += new EventHandler&lt;AdapterView.ItemSelectedEventArgs&gt;(spinner_ItemSelected);\n        var adapter = ArrayAdapter.CreateFromResource(this, Resource.Array.country_array, Android.Resource.Layout.SimpleSpinnerItem);\n        adapter.SetDropDownViewResource(Android.Resource.Layout.SimpleSpinnerDropDownItem);\n        spinner1.Adapter = adapter;\n    }\n\n    public void addItemsOnSpinner2()\n    {\n        spinner2 = (Spinner)FindViewById(Resource.Id.spinner2);\n        List&lt;String&gt; list = new List&lt;String&gt;();\n        list.Add(\"list 1\");\n        list.Add(\"list 2\");\n        list.Add(\"list 3\");\n        ArrayAdapter&lt;String&gt; dataAdapter = new ArrayAdapter&lt;String&gt;(this,\n            Android.Resource.Layout.SimpleSpinnerItem, list);  //simple_spinner_item\n        dataAdapter.SetDropDownViewResource(Android.Resource.Layout.SimpleSpinnerDropDownItem);//simple_spinner_dropdown_item\n\n        spinner2.Adapter = dataAdapter;\n    }\n\n    private void spinner_ItemSelected(object sender, AdapterView.ItemSelectedEventArgs e)\n    {\n        Spinner spinner = (Spinner)sender;\n        string toast = string.Format(\"Selected country is {0}\", spinner.GetItemAtPosition(e.Position));\n        Toast.MakeText(this, toast, ToastLength.Long).Show();\n    }\n\n    private void addListenerOnButton()\n    {\n        btnSubmit = (Button)FindViewById(Resource.Id.btnSubmit);\n        btnSubmit.Click += BtnSubmit_Click;\n\n    }\n\n    private void BtnSubmit_Click(object sender, EventArgs e)\n    {\n        Toast.MakeText(this,\n            \"OnClickListener : \" +\n            \"\\nSpinner 1 : \" + (spinner1.SelectedItem) +\n            \"\\nSpinner 2 : \" + (spinner2.SelectedItem),\n        ToastLength.Short).Show();\n    }\n}\n</code></pre>\n\n<p>strings.xml</p>\n\n<pre><code>&lt;string name=\"country_prompt\"&gt;Choose a country&lt;/string&gt;\n&lt;string-array name=\"country_array\"&gt;\n  &lt;item&gt;Malaysia&lt;/item&gt;\n  &lt;item&gt;United States&lt;/item&gt;\n  &lt;item&gt;Indonesia&lt;/item&gt;\n  &lt;item&gt;France&lt;/item&gt;\n  &lt;item&gt;Italy&lt;/item&gt;\n  &lt;item&gt;Singapore&lt;/item&gt;\n  &lt;item&gt;New Zealand&lt;/item&gt;\n  &lt;item&gt;India&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 11895474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a63555072e88b6b3175145ee598089c?s=128&d=identicon&r=PG&f=1", "display_name": "Taniguchi.sales", "link": "https://stackoverflow.com/users/11895474/taniguchi-sales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1761, "favorite_count": 0, "accepted_answer_id": 58111285, "answer_count": 1, "score": 1, "last_activity_date": 1569487890, "creation_date": 1569445413, "question_id": 58106509, "link": "https://stackoverflow.com/questions/58106509/xamarin-android-how-to-create-a-combobox", "title": "Xamarin Android: How to create a combobox", "body": "<p>Hello everyone my name is Taniguchi</p>\n\n<p>I m trying to create a create form on my app, and i wish to insert a combobox the example i saw was dropdown menus and i would like to insert a field to when i click is open a windows with some options and the option i clicked filled the field.</p>\n\n<p>For example: i have a field called countrys, when i click this field opens a window with some country for me to choose. the country i choose will fill the field.</p>\n\n<p>like image below:\n<a href=\"http://www.mkyong.com/wp-content/uploads/2011/11/android-spinner-demo1.png\" rel=\"nofollow noreferrer\">http://www.mkyong.com/wp-content/uploads/2011/11/android-spinner-demo1.png</a></p>\n\n<p><a href=\"http://www.mkyong.com/wp-content/uploads/2011/11/android-spinner-demo2.png\" rel=\"nofollow noreferrer\">http://www.mkyong.com/wp-content/uploads/2011/11/android-spinner-demo2.png</a></p>\n\n<p><a href=\"http://www.mkyong.com/wp-content/uploads/2011/11/android-spinner-demo3.png\" rel=\"nofollow noreferrer\">http://www.mkyong.com/wp-content/uploads/2011/11/android-spinner-demo3.png</a></p>\n\n<p>i ve found a documentation but is on java and i need to do on C#.\n<a href=\"https://www.mkyong.com/android/android-spinner-drop-down-list-example/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/android/android-spinner-drop-down-list-example/</a></p>\n"}, {"tags": ["c#", ".net", "asp.net-web-api", "autofac"], "comments": [{"owner": {"reputation": 61863, "user_id": 133910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f1b913d48f914347dcafabff8d01ded?s=128&d=identicon&r=PG", "display_name": "Yuriy Faktorovich", "link": "https://stackoverflow.com/users/133910/yuriy-faktorovich"}, "edited": false, "score": 0, "creation_date": 1569445803, "post_id": 58106387, "comment_id": 102603852, "body": "Just a guess, but you should change the <code>InstancePerRequest</code> to <code>SingleInstance</code>"}, {"owner": {"reputation": 64, "user_id": 2706842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KCqlV.jpg?s=128&g=1", "display_name": "zblago", "link": "https://stackoverflow.com/users/2706842/zblago"}, "reply_to_user": {"reputation": 61863, "user_id": 133910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f1b913d48f914347dcafabff8d01ded?s=128&d=identicon&r=PG", "display_name": "Yuriy Faktorovich", "link": "https://stackoverflow.com/users/133910/yuriy-faktorovich"}, "edited": false, "score": 0, "creation_date": 1569446556, "post_id": 58106387, "comment_id": 102604079, "body": "I can&#39;t. Object being used is per loggedin user."}, {"owner": {"reputation": 1651, "user_id": 3305679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4uj3K.jpg?s=128&g=1", "display_name": "H&#252;seyin Burak Karadag", "link": "https://stackoverflow.com/users/3305679/h%c3%bcseyin-burak-karadag"}, "edited": false, "score": 0, "creation_date": 1569447484, "post_id": 58106387, "comment_id": 102604371, "body": "Have you tried InstancePerLifetimeScope ?"}, {"owner": {"reputation": 64, "user_id": 2706842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KCqlV.jpg?s=128&g=1", "display_name": "zblago", "link": "https://stackoverflow.com/users/2706842/zblago"}, "edited": false, "score": 0, "creation_date": 1569447856, "post_id": 58106387, "comment_id": 102604482, "body": "It has same effect as <b>InstancePerRequest</b>, also I&#39;m getting some unwanted side effects. Btw, I don&#39; have a problem with resolving in general. I have a problem with getting data from some other resolvings."}, {"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 0, "creation_date": 1569453243, "post_id": 58106387, "comment_id": 102605702, "body": "Use <code>InstanceByMatchingLifetimeScope(&quot;yourscopename&quot;)</code> and give both of your scopes the same name (<code>BeginLifetimeScope(&quot;yourscopename&quot;)</code>), so Autofac knows which scopes are the same. See <a href=\"https://autofaccn.readthedocs.io/en/latest/lifetime/instance-scope.html#instance-per-matching-lifetime-scope\" rel=\"nofollow noreferrer\">autofaccn.readthedocs.io/en/latest/lifetime/&hellip;</a> for details."}, {"owner": {"reputation": 61863, "user_id": 133910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f1b913d48f914347dcafabff8d01ded?s=128&d=identicon&r=PG", "display_name": "Yuriy Faktorovich", "link": "https://stackoverflow.com/users/133910/yuriy-faktorovich"}, "reply_to_user": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 0, "creation_date": 1569502042, "post_id": 58106387, "comment_id": 102623290, "body": "@ckuri if that&#39;s the solution, he could use the HttpContext.Current.SessionID."}], "owner": {"reputation": 64, "user_id": 2706842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KCqlV.jpg?s=128&g=1", "display_name": "zblago", "link": "https://stackoverflow.com/users/2706842/zblago"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569445403, "creation_date": 1569444824, "last_edit_date": 1569445403, "question_id": 58106387, "link": "https://stackoverflow.com/questions/58106387/how-to-get-the-same-instance-from-the-autofac-scope", "title": "How to get the same instance from the autofac scope?", "body": "<p>Using Autofac, In my ASP .NET Web API application I'm resolving service on multiple places (Web API filter, query interceptor under EF6). </p>\n\n<p>In WebAPI filter I'm resolving my service and setting up some property under the same resolved object.</p>\n\n<p>Later in EF6 interceptor, again, I'm resolving the same service, asking for a values previously changed in WebAPI filter.</p>\n\n<p>What I've noticed that in query interceptor resolved object has different hashcode than one resolved in Web API fiter.</p>\n\n<p>I've also tried to change the values using InjectProperties method.</p>\n\n<p>Global.asax code</p>\n\n<pre><code>builder.RegisterType&lt;MyType&gt;().AsSelf().InstancePerRequest();\n</code></pre>\n\n<p>Web API code</p>\n\n<pre><code>using(var scope = container.BeginLifetimeScope())\n{\n  var service = scope.Resolve&lt;IService&gt;();\n  service.A = \"test\";\n  //service.GetHashCode() - 111111\n}\n</code></pre>\n\n<p>EF6 Query Interceptor</p>\n\n<pre><code>//I'm getting here different hashcode, service.A is null.\nusing(var scope = container.BeginLifetimeScope())\n{\n  var service = scope.Resolve&lt;IService&gt;();\n  var a = service.A; //service.A here is null (string).\n //service.GetHashCode() - 222222\n}\n</code></pre>\n\n<p>How to get the same instance, or at least the new one but with all changes made in Web API filter.</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1569445027, "post_id": 58106371, "comment_id": 102603613, "body": "Did you make sure <code>_timer</code> cannot be collected by the garbage collector?"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1569445242, "post_id": 58106371, "comment_id": 102603681, "body": "Also, you set <code>AutoReset</code> to <code>false</code>, what happens if <code>&#47;&#47;do some work</code> throws an exception?"}, {"owner": {"reputation": 617, "user_id": 3388684, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b953bbb193894842d4cf737c6963979a?s=128&d=identicon&r=PG&f=1", "display_name": "Snorlax", "link": "https://stackoverflow.com/users/3388684/snorlax"}, "reply_to_user": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1569445258, "post_id": 58106371, "comment_id": 102603686, "body": "I think that it would be the case with System.Threading Timer not System.Timers Timer :)"}, {"owner": {"reputation": 617, "user_id": 3388684, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b953bbb193894842d4cf737c6963979a?s=128&d=identicon&r=PG&f=1", "display_name": "Snorlax", "link": "https://stackoverflow.com/users/3388684/snorlax"}, "reply_to_user": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1569445335, "post_id": 58106371, "comment_id": 102603712, "body": "It is in try catch block and there was no exception"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1569445374, "post_id": 58106371, "comment_id": 102603726, "body": "So you have a try/catch block in <code>Test</code>?"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1569445516, "post_id": 58106371, "comment_id": 102603764, "body": "You have an <i>empty</i> try/catch in <code>Test</code>?"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1569445643, "post_id": 58106371, "comment_id": 102603811, "body": "An empty catch block would silently catch all errors, but it would let the code continue to execute and then call <code>_timer.Start()</code>, so in respect to restarting the timer it is fine. As a general piece of code, not so much, but that might be a case of simplification for the question."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1569445656, "post_id": 58106371, "comment_id": 102603817, "body": "An empty catch block only hinders your ability to detect issues in your code.  At a <i>minimum</i>, log something.  Otherwise, remove that try/catch entirely."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1569450307, "post_id": 58106371, "comment_id": 102605119, "body": "You did everything right, except for posting the real code you use.  Which surely just throws an exception over and over again with no way for you to see that.  Can&#39;t write this kind of code without a logger."}], "answers": [{"tags": [], "owner": {"reputation": 204, "user_id": 1838837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/449d2e64b9bc5bd98509b34d0918c1e2?s=128&d=identicon&r=PG", "display_name": "Johannes Krackowizer", "link": "https://stackoverflow.com/users/1838837/johannes-krackowizer"}, "is_accepted": false, "score": 0, "last_activity_date": 1569448375, "last_edit_date": 1569448375, "creation_date": 1569447815, "answer_id": 58106924, "question_id": 58106371, "link": "https://stackoverflow.com/questions/58106371/timer-in-c-stops-firing-event-after-few-hours/58106924#58106924", "title": "Timer in C# stops firing event after few hours", "body": "<p>There are some points you should check.</p>\n\n<ol>\n<li>Where is <code>_timer</code> defined? Are you sure there is at least one reference hold anywhere in you code so that the garbage collector will never collect it.</li>\n<li>Make sure <code>_timer.Start()</code> is called -> use a <code>finally</code> block.</li>\n<li>Make sure every line of code is inside the <code>try-catch</code> scope.</li>\n<li><code>_timer.Stop()</code> is not necessary because <code>AutoReset = false</code> means that after firing <code>Elapsed</code> once the timer is stopped.</li>\n<li>You could register a callback to <code>_timer.Disposed</code> to monitor if it gets disposed by some other component in your code (set a breakpoint and wait for it to happen and than look into the call stack): <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.componentmodel.component.disposed?view=netframework-4.8\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.componentmodel.component.disposed?view=netframework-4.8</a></li>\n<li>Try one of the other timers for example <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.timer?view=netframework-4.8\" rel=\"nofollow noreferrer\">System.Threading.Timer</a></li>\n<li>Never suppress exceptions with an empty catch clause, at least log something so that you do not fail silently.</li>\n</ol>\n\n<pre><code>using Timer = System.Timers.Timer;\npublic void Start()\n{\n    try\n    {\n        _timer = new Timer(Configuration.Configuration.MainLoopIntervalMs) {AutoReset = false};\n        _timer.Elapsed += Test;\n        _timer.Start();\n    }\n    catch (Exception e)\n    {\n        _logger.Error(e, \"Exception \");\n    }   \n}\n\nprivate void Test(object sender, ElapsedEventArgs eventArgs)\n{\n   // No code outside try-catch\n   try\n   {\n       _logger.Debug(\"Test - Start\");\n       // Do all your work\n       Console.WriteLine(\"Im doing here some more stuff\");\n   }\n   catch(Exception e)\n   {\n       _logger.Error(e, \"Some usefull description\")\n   }\n   finally\n   {\n       _timer.Start();\n       _logger.Debug(\"_timer restarted\"); \n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 617, "user_id": 3388684, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b953bbb193894842d4cf737c6963979a?s=128&d=identicon&r=PG&f=1", "display_name": "Snorlax", "link": "https://stackoverflow.com/users/3388684/snorlax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1569453997, "creation_date": 1569444691, "last_edit_date": 1569453997, "question_id": 58106371, "link": "https://stackoverflow.com/questions/58106371/timer-in-c-stops-firing-event-after-few-hours", "title": "Timer in C# stops firing event after few hours", "body": "<p>I have a code that uses timer. It works nice but after few hours timer stops raising elapsed event:</p>\n\n<pre><code>using Timer = System.Timers.Timer;\npublic void Start()\n{\n    try\n    {\n        _timer = new Timer(Configuration.Configuration.MainLoopIntervalMs) {AutoReset = false};\n        _timer.Elapsed += Test;\n        _timer.Start();\n    }\n    catch (Exception e)\n    {\n        _logger.Error(e, \"Exception \");\n    }   \n}\nprivate void Test(object sender, ElapsedEventArgs eventArgs)\n{\n    try\n    {\n       Console.WriteLine(\"Im doing here some more stuff\");\n    }\n    catch(Exception e){ }\n    _timer.Stop();\n    _timer.Start(); \n}\n</code></pre>\n\n<p>It works like expected for few hours but then <code>Test</code> method stops being executed even tohugh console application still runs. What may be the reason for that?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 13507, "user_id": 2846483, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/X2Bfs.jpg?s=128&g=1", "display_name": "dymanoid", "link": "https://stackoverflow.com/users/2846483/dymanoid"}, "edited": false, "score": 0, "creation_date": 1569443921, "post_id": 58106198, "comment_id": 102603234, "body": "Please read our <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> topics. You have to <i>precisely</i> specify <i>what</i> error (not only the error number but also the description) and <i>where exactly</i>."}, {"owner": {"reputation": 12952, "user_id": 286934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16a184d26b72795ff243464d715cffe?s=128&d=identicon&r=PG", "display_name": "Progman", "link": "https://stackoverflow.com/users/286934/progman"}, "edited": false, "score": 0, "creation_date": 1569443970, "post_id": 58106198, "comment_id": 102603251, "body": "Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/58106198/edit\">edit</a> your question to include your full source code you have and post the exact complete error message you get."}, {"owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 3, "creation_date": 1569444069, "post_id": 58106198, "comment_id": 102603288, "body": "You never declare <code>firstNumber</code> or <code>secondNumber</code>."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1569444232, "post_id": 58106198, "comment_id": 102603342, "body": "I don&#39;t know what a CS0165 is off the top of my head. But I could probably tell you what the error means if you provided the text in your question, and I could help you faster. Always provide the error text in your question, not just the code."}, {"owner": {"reputation": 15, "user_id": 12121485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca7cfd719550dc0f749cc5cb8c2ea62?s=128&d=identicon&r=PG&f=1", "display_name": "mcbacon", "link": "https://stackoverflow.com/users/12121485/mcbacon"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1569444668, "post_id": 58106198, "comment_id": 102603480, "body": "@mason I made an edit explaining what the error meant"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1569444684, "post_id": 58106198, "comment_id": 102603491, "body": "So &quot;use of unassigned local variable&quot;, what happens if none of the cases match? What value will <code>result</code> have then?"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1569445160, "post_id": 58106198, "comment_id": 102603656, "body": "@rufusL&#39;s answer is correct.  To see why, put yourself into the mind of the compiler.  It sees that you have declared <code>result</code> up above your switch statement.  And, it sees that you use it at the end of the switch.  Now it looks to see that no matter what happens, you have assigned it a value before you use it (at the end).  It sees that in every case - except the <code>default</code> case, you have an assigned variable, but, if the <code>default</code> case is chosen, it&#39;s unassigned.  So, it lets you know with that CS0165 (the actual order of the decisions I describe is different, but you should get the idea)"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1569445335, "post_id": 58106198, "comment_id": 102603713, "body": "By the way, you will be much better off if you use <code>double.TryParse</code> rather than <code>convert.ToDouble</code>.  Always assume that anything a user enters has a good chance of being wrong.  <code>TryParse</code> will let you know if the entered value is a real double (so that you can tell your user &quot;hey, enter a number&quot;)"}], "answers": [{"tags": [], "owner": {"reputation": 3882, "user_id": 346645, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0RTYG.png?s=128&g=1", "display_name": "Vidar", "link": "https://stackoverflow.com/users/346645/vidar"}, "is_accepted": false, "score": 1, "last_activity_date": 1569444170, "creation_date": 1569444170, "answer_id": 58106275, "question_id": 58106198, "link": "https://stackoverflow.com/questions/58106198/im-trying-to-make-a-calculator-but-i-keep-getting-cs0165-and-im-confused-as-to/58106275#58106275", "title": "I&#39;m trying to make a calculator but I keep getting CS0165 and I&#39;m confused as to why", "body": "<p>In the case of an unrecognised operator, the <code>result</code> variable would be undefined when trying to do the <code>Console.WriteLine()</code>. You either need to set it to a value when catching the default behaviour, or initialize it before the switch.</p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 12121485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca7cfd719550dc0f749cc5cb8c2ea62?s=128&d=identicon&r=PG&f=1", "display_name": "mcbacon", "link": "https://stackoverflow.com/users/12121485/mcbacon"}, "edited": false, "score": 0, "creation_date": 1569444996, "post_id": 58106382, "comment_id": 102603604, "body": "This worked, thanks. Can you explain why it needs to be assigned a value in &#39;default&#39; even though it&#39;s been assigned a value in every other &#39;case&#39;?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 15, "user_id": 12121485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca7cfd719550dc0f749cc5cb8c2ea62?s=128&d=identicon&r=PG&f=1", "display_name": "mcbacon", "link": "https://stackoverflow.com/users/12121485/mcbacon"}, "edited": false, "score": 1, "creation_date": 1569445117, "post_id": 58106382, "comment_id": 102603641, "body": "Sure, because if someone enters an invalid operator, then none of the <code>case</code> blocks are executed (only the <code>default</code> case), so the variable is never assigned. But then the code execution still gets to <code>Console.WriteLine(result);</code>, which is an error (you can&#39;t use an unassigned variable). The compiler examines all possible code paths, discovers this specific scenario, and then gives you the error."}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1569445488, "post_id": 58106382, "comment_id": 102603755, "body": "Another thing you can do is have a flag that there was an error and not output the result if there was an error (though you probably would still get the CS0165 - the compiler is smart, but probably not smart enough to pick up on logic like that)."}], "tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 3, "last_activity_date": 1569444775, "creation_date": 1569444775, "answer_id": 58106382, "question_id": 58106198, "link": "https://stackoverflow.com/questions/58106198/im-trying-to-make-a-calculator-but-i-keep-getting-cs0165-and-im-confused-as-to/58106382#58106382", "title": "I&#39;m trying to make a calculator but I keep getting CS0165 and I&#39;m confused as to why", "body": "<p>The error itself tells you what's wrong: </p>\n\n<blockquote>\n  <p>Error CS0165: Use of unassigned local variable 'result'</p>\n</blockquote>\n\n<p>This means that you're trying to use a variable that may not have been initialized yet. Notice that it isn't initialized it when it's declared, and it isn't assigned a value in the <code>default:</code> case in the switch statement.</p>\n\n<p>So there are two ways to solve this:</p>\n\n<p>1)  Initialize the variable when you declare it</p>\n\n<pre><code>double result = 0;\n</code></pre>\n\n<p>2) Or, make sure every possible code path (including then default switch case) assigns a value to it before it's used</p>\n\n<pre><code>default:\n    result = 0;\n    Console.WriteLine($\"unrecognised operator: {Operator}\");\n    break;\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 12121485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ca7cfd719550dc0f749cc5cb8c2ea62?s=128&d=identicon&r=PG&f=1", "display_name": "mcbacon", "link": "https://stackoverflow.com/users/12121485/mcbacon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 58106382, "answer_count": 2, "score": -1, "last_activity_date": 1569446827, "creation_date": 1569443822, "last_edit_date": 1569446827, "question_id": 58106198, "link": "https://stackoverflow.com/questions/58106198/im-trying-to-make-a-calculator-but-i-keep-getting-cs0165-and-im-confused-as-to", "title": "I&#39;m trying to make a calculator but I keep getting CS0165 and I&#39;m confused as to why", "body": "<p>The Console.Writeline(result); at the end returns error <code>CS0165 Use of unassigned local variable 'result'</code> and I don't know why. Would appreciate an explanation as I'm a complete beginner. Like I said in the title, I'm trying to build a calculator.</p>\n\n<pre><code>char Operator;\ndouble firstNumber;\ndouble secondNumber;\n\n    Console.WriteLine(\"Enter the first number\");\n    string firstNumberAsText = Console.ReadLine();\n\n    Console.WriteLine(\"Enter the second number\");\n    string secondNumberAsText = Console.ReadLine();\n\n    Console.WriteLine(@\"Enter a math operation. '+' for addition, '-' for subtraction, '*' for multiplication, '/' for division, '%' for remainder and '^' for power\");\n    string mathOperator = Console.ReadLine();\n\n    firstNumber = Convert.ToDouble(firstNumberAsText);\n    secondNumber = Convert.ToDouble(secondNumberAsText);\n    Operator = Convert.ToChar(mathOperator);\n\n    double result;\n\n    switch (Operator)\n    {\n        case '+':\n            result = firstNumber + secondNumber;\n            break;\n\n        case '-':\n            result = firstNumber - secondNumber;\n            break;\n\n        case '*':\n            result = firstNumber * secondNumber;\n            break;\n\n        case '/':\n            result = firstNumber / secondNumber;\n            break;\n\n        case '%':\n            result = firstNumber % secondNumber;\n            break;\n\n        case '^':\n            result = Math.Pow(firstNumber, secondNumber);\n            break;\n\n        default:\n            Console.WriteLine(\"unrecognised operator: \" + Operator);\n            break;\n    }\n\n    Console.WriteLine(result);\n\n    Console.ReadKey();\n</code></pre>\n"}, {"tags": ["c#", ".net", ".net-core", "ignite"], "answers": [{"comments": [{"owner": {"reputation": 376, "user_id": 742578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/927a6dcbf8bc84d458edc6fc67ffdd76?s=128&d=identicon&r=PG", "display_name": "Rishabh Jain", "link": "https://stackoverflow.com/users/742578/rishabh-jain"}, "edited": false, "score": 0, "creation_date": 1569497280, "post_id": 58112131, "comment_id": 102620728, "body": "Thanks Pavel. This exactly what we were doing but we felt like reinventing what is already available in Java. 1 use case of my question is not clear, we want to ensure that an item is processed only by 1 processor max at a time. do we have a suggestion or example on how to do this? this is a very common use case for queues where they deliver to one consumer at a time or broadcast to all consumers"}, {"owner": {"reputation": 6643, "user_id": 305020, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/y4OpN.jpg?s=128&g=1", "display_name": "Pavel Tupitsyn", "link": "https://stackoverflow.com/users/305020/pavel-tupitsyn"}, "reply_to_user": {"reputation": 376, "user_id": 742578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/927a6dcbf8bc84d458edc6fc67ffdd76?s=128&d=identicon&r=PG", "display_name": "Rishabh Jain", "link": "https://stackoverflow.com/users/742578/rishabh-jain"}, "edited": false, "score": 0, "creation_date": 1569513439, "post_id": 58112131, "comment_id": 102629922, "body": "Oh, <code>1 consumer</code> confused me. Can you please describe the use case in more detail? How many consumers would you like? Is it a classic producer-consumer scenario, and you would like to scale it to multiple machines?"}, {"owner": {"reputation": 376, "user_id": 742578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/927a6dcbf8bc84d458edc6fc67ffdd76?s=128&d=identicon&r=PG", "display_name": "Rishabh Jain", "link": "https://stackoverflow.com/users/742578/rishabh-jain"}, "edited": false, "score": 0, "creation_date": 1569519616, "post_id": 58112131, "comment_id": 102632779, "body": "Sorry for the confusion. Right now the case is typical Producer Consumer scenario where multiple producers (on multiple machines) insert items into a queue. Now there could be multiple consumers present again on multiple machines but only 1 consumer should process an item. E.g. there are P1,P2 producers they generate T1,T2,T3 and we have C1,C2,C3 consumers now T1 should be processed by ONLY 1 from C1,C2,C3 and so on for T2,T3 should also similarly be processed only once by 1 consumer"}, {"owner": {"reputation": 6643, "user_id": 305020, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/y4OpN.jpg?s=128&g=1", "display_name": "Pavel Tupitsyn", "link": "https://stackoverflow.com/users/305020/pavel-tupitsyn"}, "reply_to_user": {"reputation": 376, "user_id": 742578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/927a6dcbf8bc84d458edc6fc67ffdd76?s=128&d=identicon&r=PG", "display_name": "Rishabh Jain", "link": "https://stackoverflow.com/users/742578/rishabh-jain"}, "edited": false, "score": 0, "creation_date": 1569525865, "post_id": 58112131, "comment_id": 102635509, "body": "@RishabhJain I&#39;ve updated the answer to address your concerns. With ContinuousQuery, you will have at least one consumer per node, and this consumer is only called for entries that are local to that node. It guarantees that every entry is processed once and only once."}, {"owner": {"reputation": 6643, "user_id": 305020, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/y4OpN.jpg?s=128&g=1", "display_name": "Pavel Tupitsyn", "link": "https://stackoverflow.com/users/305020/pavel-tupitsyn"}, "reply_to_user": {"reputation": 376, "user_id": 742578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/927a6dcbf8bc84d458edc6fc67ffdd76?s=128&d=identicon&r=PG", "display_name": "Rishabh Jain", "link": "https://stackoverflow.com/users/742578/rishabh-jain"}, "edited": false, "score": 0, "creation_date": 1569526053, "post_id": 58112131, "comment_id": 102635597, "body": "FYI, actual Java implementation of <code>IgniteQueue</code> uses <code>IgniteCache.getAndRemove</code> in a loop on consumer side. The problem here is to know the key, and they use a very complicated logic to maintain the range of currently available keys. I believe that <code>ContinuousQuery</code> is a simpler solution for your use case."}, {"owner": {"reputation": 376, "user_id": 742578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/927a6dcbf8bc84d458edc6fc67ffdd76?s=128&d=identicon&r=PG", "display_name": "Rishabh Jain", "link": "https://stackoverflow.com/users/742578/rishabh-jain"}, "edited": false, "score": 0, "creation_date": 1569529581, "post_id": 58112131, "comment_id": 102637069, "body": "Thanks for the update. I like the idea of using blocking queue. I approached the solution today by using cache locks. So basically the first consumer that gets the lock on the key gets to process the item. Remaining consumers skip it as they won&#39;t get lock on that particular key.  This way the item remains in the queue till it fails or retries are finished."}], "tags": [], "owner": {"reputation": 6643, "user_id": 305020, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/y4OpN.jpg?s=128&g=1", "display_name": "Pavel Tupitsyn", "link": "https://stackoverflow.com/users/305020/pavel-tupitsyn"}, "is_accepted": true, "score": 1, "last_activity_date": 1569525689, "last_edit_date": 1569525689, "creation_date": 1569484789, "answer_id": 58112131, "question_id": 58106173, "link": "https://stackoverflow.com/questions/58106173/ignitequeue-in-apache-ignite-net/58112131#58112131", "title": "IgniteQueue in Apache Ignite.NET", "body": "<p>IgniteQueue is built on top of Ignite Cache, so yes, you can replicate the same functionality in .NET:</p>\n\n<ol>\n<li>Create a cache</li>\n<li>Use <a href=\"https://apacheignite-net.readme.io/docs/continuous-queries\" rel=\"nofollow noreferrer\">Continuous Query</a> as a consumer, call ICache.Remove to ensure that every item is processed only once</li>\n<li>Add data to cache on producers with <a href=\"https://apacheignite-net.readme.io/docs/data-streamers\" rel=\"nofollow noreferrer\">Data Streamers</a> or just use <code>ICache.Put</code> / <code>PutAll</code></li>\n</ol>\n\n<p>Below is the code for continuous query listener:</p>\n\n<pre><code>class CacheEventListener&lt;TK, TV&gt; : ICacheEntryEventListener&lt;TK, TV&gt;\n{\n    private readonly string _cacheName;\n\n    [InstanceResource]  // Injected automatically.\n    private readonly IIgnite _ignite = null;\n\n    private ICache&lt;TK, TV&gt; _cache;\n\n    public CacheEventListener(string cacheName)\n    {\n        _cacheName = cacheName;\n    }\n\n    public void OnEvent(IEnumerable&lt;ICacheEntryEvent&lt;TK, TV&gt;&gt; events)\n    {\n        _cache = _cache ?? _ignite.GetCache&lt;TK, TV&gt;(_cacheName);\n\n        foreach (var entryEvent in events)\n        {\n            if (entryEvent.EventType == CacheEntryEventType.Created &amp;&amp; _cache.Remove(entryEvent.Key))\n            {\n                // Run consumer logic here - use another thread for heavy processing.\n                Consume(entryEvent.Value);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Then we deploy this to every node with a single call:</p>\n\n<pre><code>var consumer = new CacheEventListener&lt;Guid, string&gt;(cache.Name);\nvar continuousQuery = new ContinuousQuery&lt;Guid, string&gt;(consumer);\ncache.QueryContinuous(continuousQuery);\n</code></pre>\n\n<p>As a result, <code>OnEvent</code> is called once per entry on the primary node for that entry. So there is one consumer per Ignite node. We can increase effective number of consumers per node by offloading actual consumer logic to other threads, using <code>BlockingCollection</code> and so on.</p>\n\n<p>And one last thing - we have to come up with a unique cache key for every new entry. Simplest thing is <code>Guid.NewGuid()</code>, but we can also use <code>AtomicSequence</code>.</p>\n"}], "owner": {"reputation": 376, "user_id": 742578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/927a6dcbf8bc84d458edc6fc67ffdd76?s=128&d=identicon&r=PG", "display_name": "Rishabh Jain", "link": "https://stackoverflow.com/users/742578/rishabh-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 58112131, "answer_count": 1, "score": 1, "last_activity_date": 1569525689, "creation_date": 1569443684, "last_edit_date": 1569519865, "question_id": 58106173, "link": "https://stackoverflow.com/questions/58106173/ignitequeue-in-apache-ignite-net", "title": "IgniteQueue in Apache Ignite.NET", "body": "<p>We are using Ignite.NET and don't have option to use Ignite Java API (team skills, technology affinity etc). We are looking to create a queuing mechanism so that we could process messages in distributed fashion. I found IgniteQueue data structure to be most suitable but it doesn't seem to be available in ignite.net could someone please suggest a solution to the scenario. Multiple producers queue a unique work item to be processed reliably by only 1 consumer at a time. </p>\n\n<p>E.g. there are P1,P2 producers (on different machines) they generate T1,T2,T3 on the queue and we have C1,C2,C3 consumers (on different machines) now T1 should be processed by ONLY 1 from C1,C2,C3 and so on for T2,T3 should also similarly be processed only once by 1 consumer</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework-core"], "comments": [{"owner": {"reputation": 2064, "user_id": 1898688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cb15741a2864c82a70537e9b82a19780?s=128&d=identicon&r=PG", "display_name": "tic", "link": "https://stackoverflow.com/users/1898688/tic"}, "edited": false, "score": 0, "creation_date": 1569444226, "post_id": 58106108, "comment_id": 102603341, "body": "Does <code>public NPPR_ServLocation() { this. NPIAssociations = new List&lt; NPPR_NPIAssociations &gt;(); }</code> make the output json <code>[]</code> instead of <code>null</code>?"}, {"owner": {"reputation": 639, "user_id": 7966704, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/671309838493/picture?type=large", "display_name": "Jonathan Kuhl", "link": "https://stackoverflow.com/users/7966704/jonathan-kuhl"}, "reply_to_user": {"reputation": 2064, "user_id": 1898688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cb15741a2864c82a70537e9b82a19780?s=128&d=identicon&r=PG", "display_name": "tic", "link": "https://stackoverflow.com/users/1898688/tic"}, "edited": false, "score": 0, "creation_date": 1569445244, "post_id": 58106108, "comment_id": 102603682, "body": "If I do that, yes, it produces <code>[]</code> but then it breaks my queries because Entity Framework is expecting an auto property."}, {"owner": {"reputation": 639, "user_id": 7966704, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/671309838493/picture?type=large", "display_name": "Jonathan Kuhl", "link": "https://stackoverflow.com/users/7966704/jonathan-kuhl"}, "reply_to_user": {"reputation": 2064, "user_id": 1898688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cb15741a2864c82a70537e9b82a19780?s=128&d=identicon&r=PG", "display_name": "tic", "link": "https://stackoverflow.com/users/1898688/tic"}, "edited": false, "score": 0, "creation_date": 1569519413, "post_id": 58106108, "comment_id": 102632700, "body": "I modified the model so the constructor initializes them to <code>new List&lt;NPPR_*&gt;()</code> and now they all return empty arrays, without breaking the queries.  Still, they shouldn&#39;t be empty arrays in JSON if I provide data."}, {"owner": {"reputation": 2064, "user_id": 1898688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cb15741a2864c82a70537e9b82a19780?s=128&d=identicon&r=PG", "display_name": "tic", "link": "https://stackoverflow.com/users/1898688/tic"}, "edited": false, "score": 0, "creation_date": 1569519714, "post_id": 58106108, "comment_id": 102632822, "body": "Is there any way you can provide a cut-down example that can be tested locally? Also where is the serialization with NewtonSoft?"}], "owner": {"reputation": 639, "user_id": 7966704, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/671309838493/picture?type=large", "display_name": "Jonathan Kuhl", "link": "https://stackoverflow.com/users/7966704/jonathan-kuhl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569443282, "creation_date": 1569443282, "question_id": 58106108, "link": "https://stackoverflow.com/questions/58106108/child-objects-in-partial-keeps-coming-up-as-null", "title": "Child objects in partial keeps coming up as null", "body": "<p>I am making a UI that takes in user information and spits out a JSON file (as well as posting the data to a database).  The UI has a form that gathers all the data and then the associated controller pushes that data through Newtonsoft to produce JSON.  The problem is the child tables keep appearing as \"null\" in the JSON and I think I've set up my partial views incorrectly.</p>\n\n<p>Here's the base model, <code>NPPR_Provider</code>:</p>\n\n<pre><code> [Table(\"NPPR_Provider\", Schema =\"AD\")]\n    public class NPPR_Provider : Provider\n    {\n        //...\n        public NPPR_ServLocation NPPR_ServLocation { get; set; }\n    }\n}\n</code></pre>\n\n<p>Provider's direct child is <code>NPPR_ServLocation</code>.  The other properties I omitted were just primary and foreign keys.  The base class \"Provider\" simply provides all the column names shared between the different types of provider my company has.</p>\n\n<p><code>NPPR_ServLocation</code>'s fields display fine in the resulting JSON, but it's children do not.</p>\n\n<pre><code>public class NPPR_ServLocation\n    {\n        [Key]\n        public int ServLocationId { get; set; }\n        public int NPPRProvId { get; set; }\n        public string EnrollmentType { get; set; }\n\n        //... more column names that work as intended\n\n        //Child Tables:\n        public List&lt;NPPR_Address&gt; Address { get; set; }\n        public List&lt;NPPR_NPIAssociations&gt; NPIAssociations { get; set; }\n        //... more table names that do not work as intended\n    }\n</code></pre>\n\n<p>The table names work fine for fetching data, so I don't think the problem is there.  It's in setting the data where I'm running into this problem.  All of these tables appear as \"null\" in the resulting JSON.</p>\n\n<p>Here's how, for example, the NPI Associations model is passed from the primary view to its specific partial:</p>\n\n<p>Primary view:</p>\n\n<pre><code>using Company.Namespace.Application.Models\n@model NPPR_Provider\n\n&lt;section class=\"container\"&gt;\n\n    @using (Html.BeginForm(\"NPPRJsonFile\", \"Home\", FormMethod.Post, new { @class = \"form-horizontal\", @id=\"NPPRTemplateForm\", @onsubmit=\"validateNPPRTemplate(event)\" }))\n    {\n        @Html.AntiForgeryToken()\n        @Html.ValidationSummary(true, String.Empty, new { @class = \"text-danger\" })\n        @Html.Partial(partialFormsDir + \"ServiceProvider\")\n        @Html.Partial(partialFormsDir + \"ServiceLocation\")\n        @Html.Partial(partialFormsDir + \"NPIAssoc\", Model.NPPR_ServLocation.NPIAssociations)\n        //... etc\n</code></pre>\n\n<p>And in the NPIAssoc cshtml:</p>\n\n<pre><code>@using Company.Namespace.Application.Models\n@model List&lt;NPPR_NPIAssociations&gt;\n\n&lt;div class=\"form-group\"&gt;\n    &lt;h3 class=\"aetna-brand-heading\"&gt;NPI Associations&lt;/h3&gt;\n&lt;/div&gt;\n&lt;div class=\"form-group\" id=\"npiHTML\"&gt;\n    &lt;div class=\"col-sm-2\"&gt;\n        @Html.LabelFor(model =&gt; model.NPI, htmlAttributes: new { @class = \"control-label\" })\n    &lt;/div&gt;\n    &lt;div class=\"col-sm-4\"&gt;\n        @Html.EditorFor(model =&gt; model.NPI, new { htmlAttributes = new { id = \"NPI\", @class = \"form-control\", maxlength = 10, required = true } })\n        &lt;small class=\"help-block\"&gt;Ten digit identifier, numeric values only&lt;/small&gt;\n    &lt;/div&gt;\n    // ...etc\n</code></pre>\n\n<p>And the associated model:</p>\n\n<pre><code>[Table(\"NPPR_NPIAssociations\", Schema = \"AD\")]\n    public class NPPR_NPIAssociations : NPI_Associations\n    {\n        [Key]\n        public int NPIAssocId { get; set; }\n        public int ServLocationId { get; set; }\n    }\n\npublic abstract class NPI_Associations\n    {\n        [Display(Name = \"NPI Association\")]\n        [Required]\n        [RegularExpression(\"^[0-9]*$\")]\n        [StringLength(10)]\n        public string NPI { get; set; }\n    }\n</code></pre>\n\n<p>And finally, the controller itself:</p>\n\n<pre><code>public ActionResult NPPRJsonFile(NPPR_Provider provider)\n        {\n            string nppr_file = JsonConvert.SerializeObject(provider);\n            ViewData[\"nppr_json\"] = nppr_file;\n            return View(\"NPPRJsonFile\");\n        }\n</code></pre>\n\n<p>For some reason, when I fill out the form and submit, all of the child tables of <code>NPPR_ServLocation</code> are coming into the JSON as \"null\".  Not the fields with in them, the models themselves.  Even with all the input fields properly filled in.</p>\n\n<pre><code>\"NPPR_ServLocation\":{\n    \"ServLocationId\":0,\n    \"NPPRProvId\":0,\n    \"EnrollmentType\":\"I\",\n    \"ProviderLocationId\":null,\n    \"ProviderTypeCode\":\"29\",\n    \"OrganizationType\":\"H\",\n    \"Address\":null,\n    \"IRSTaxAssociations\":null,\n    \"NPIAssociations\":null,\n}\n</code></pre>\n\n<p>You can see, starting at <code>Address</code>, they're all null.  And they're all set up the same way NPIAssociations is set up as I showed above.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["java", "c#", "apache-httpclient-4.x", "qliksense"], "comments": [{"owner": {"reputation": 763, "user_id": 4888323, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ceba016b0263b54ae64a617569a0ff6f?s=128&d=identicon&r=PG&f=1", "display_name": "Bilgehan", "link": "https://stackoverflow.com/users/4888323/bilgehan"}, "edited": false, "score": 0, "creation_date": 1589812062, "post_id": 58106107, "comment_id": 109433950, "body": "Do you find a solution @luke"}], "owner": {"reputation": 49, "user_id": 12120186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/906f0f50f8724767f5142bf60f019828?s=128&d=identicon&r=PG&f=1", "display_name": "luke", "link": "https://stackoverflow.com/users/12120186/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 208, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569464880, "creation_date": 1569443269, "last_edit_date": 1569464880, "question_id": 58106107, "link": "https://stackoverflow.com/questions/58106107/java-version-of-httpwebrequest-sedefaultcredentials-true", "title": "Java version of HttpWebRequest seDefaultCredentials = true;", "body": "<p>I am currently working on authorizing the Qlik API proxy using Java. To do this I have to navigate through several redirects and then open a WebSocket. I have a version of C# that completes the task but need to port it over to java. </p>\n\n<p>In Java, I am able to complete the redirects and obtain the session key for the WebSocket but I cannot seem to configure the NTLM credentials correctly for the WebSocket to accept them. </p>\n\n<p>I am currently using apache HTTP client v 4.5. And nv-websocket-client for the WebSocket. </p>\n\n<p><a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/index.html\" rel=\"nofollow noreferrer\">https://hc.apache.org/httpcomponents-client-4.5.x/index.html</a></p>\n\n<p><a href=\"https://github.com/TakahikoKawasaki/nv-websocket-client\" rel=\"nofollow noreferrer\">https://github.com/TakahikoKawasaki/nv-websocket-client</a></p>\n\n<p>In Java, I made a credentials object and set the NTLM credentials for the https request. </p>\n\n<p>The issue is that in C# the call to the WebSocket seems to be automatically picking up the request.UseDefaultCredentials = true;.</p>\n\n<p>My question is there a way to get this same functionality in Java or a library that supports the functions. Or if someone has used Java to complete this task any insight would be great. </p>\n\n<p>I have tried configuring the headers for the WebSocket request to mirror the NTLM request, but I am not really sure where to go from here. Below is the c# set up I am looking to complete the same task.   </p>\n\n<pre><code>HttpWebRequest request = (HttpWebRequest) WebRequest.Create(URI);  \nrequest.Headers = headers;  \n        request.Method = \"GET\";  \n        request.Accept = \"application/json\";  \n        request.Credentials = true;    \nSystem.Net.CredentialCache.DefaultNetworkCredentials;  \n        request.UseDefaultCredentials = true;  \n        request.AllowAutoRedirect = false;  \n        request.CookieContainer = new CookieContainer();   \n</code></pre>\n\n<p>I am currently receiving: </p>\n\n<blockquote>\n  <p>webSocketFrame(FIN=1,RSV1=0,RSV2=0,RSV3=0,Opcode=TEXT,Length=226,Payload=\"</p>\n  \n  <p>{\"jsonrpc\":\"2.0\",<br>\n     \"method\":\"OnAuthenticationInformation\",<br>\n     \"params\":{\"loginUri\":baseurl+port\"/internal_windows_authentication/?\n     targetId=ID returned here\",<br>\n     \"mustAuthenticate\":true}}\")</p>\n</blockquote>\n\n<p>The response I am looking for it: </p>\n\n<blockquote>\n  <p>webSocketFrame(FIN=1,RSV1=0,RSV2=0,RSV3=0,Opcode=TEXT,Length=226,Payload=\"\n      {\"jsonrpc\":\"2.0\",<br>\n      \"method\":\"OnAuthenticationInformation\",<br>\n      \"params\":{\"loginUri\":baseurl+port\"/internal_windows_authentication/? \n      targetId=ID returned here \",<br>\n      \"mustAuthenticate\":false}}\") &lt;---- the boolean flag is changed</p>\n</blockquote>\n"}, {"tags": ["c#", "wpf", "combobox", "inotifypropertychanged"], "comments": [{"owner": {"reputation": 2734, "user_id": 2470362, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xlHsB.jpg?s=128&g=1", "display_name": "Abin", "link": "https://stackoverflow.com/users/2470362/abin"}, "edited": false, "score": 0, "creation_date": 1569446837, "post_id": 58106001, "comment_id": 102604166, "body": "Where are you actually doing the add ?? Post the code of that you doing it(Probably  ViewModel)."}, {"owner": {"reputation": 306, "user_id": 5104896, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/771aa2af13a67f6984c014449ee34462?s=128&d=identicon&r=PG&f=1", "display_name": "Galactic", "link": "https://stackoverflow.com/users/5104896/galactic"}, "reply_to_user": {"reputation": 2734, "user_id": 2470362, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xlHsB.jpg?s=128&g=1", "display_name": "Abin", "link": "https://stackoverflow.com/users/2470362/abin"}, "edited": false, "score": 0, "creation_date": 1569498777, "post_id": 58106001, "comment_id": 102621548, "body": "Thanks for pointing out the oversight.  An update has been made that provides the view model code used for the add and edit processing."}], "answers": [{"comments": [{"owner": {"reputation": 306, "user_id": 5104896, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/771aa2af13a67f6984c014449ee34462?s=128&d=identicon&r=PG&f=1", "display_name": "Galactic", "link": "https://stackoverflow.com/users/5104896/galactic"}, "edited": false, "score": 0, "creation_date": 1569502083, "post_id": 58112386, "comment_id": 102623315, "body": "I defined the DataSource as ObservableCollection&lt;dynamic&gt;, removed the reference to DataSoureChanged, and tried one and two binding with and without the  OnPropertyChanged activation.  The behavior is unchanged:  on two-way binding, the data updates, but the pre-existing selection becomes unlinked to the combobox."}, {"owner": {"reputation": 306, "user_id": 5104896, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/771aa2af13a67f6984c014449ee34462?s=128&d=identicon&r=PG&f=1", "display_name": "Galactic", "link": "https://stackoverflow.com/users/5104896/galactic"}, "edited": false, "score": 0, "creation_date": 1569610918, "post_id": 58112386, "comment_id": 102666742, "body": "After locating the solution as listed, the DataSource is also defined as an object as originally planned."}], "tags": [], "owner": {"reputation": 2930, "user_id": 92080, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0c7e4eba3344831f22c063306fce88a5?s=128&d=identicon&r=PG", "display_name": "pete the pagan-gerbil", "link": "https://stackoverflow.com/users/92080/pete-the-pagan-gerbil"}, "is_accepted": false, "score": 0, "last_activity_date": 1569485721, "creation_date": 1569485721, "answer_id": 58112386, "question_id": 58106001, "link": "https://stackoverflow.com/questions/58106001/wpf-usercontrol-combobox-bound-selection-lost-when-itemssource-reloaded/58112386#58112386", "title": "WPF UserControl Combobox Bound Selection Lost when ItemsSource reloaded", "body": "<p>Instead of using an <code>object</code> for your DataSource property, could you instead use an <code>ObservableCollection</code>? Then instead of reloading the items in the DataSourceChanged method, any add/remove operations on it are passed to the XAML with databinding automatically.</p>\n"}, {"comments": [{"owner": {"reputation": 306, "user_id": 5104896, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/771aa2af13a67f6984c014449ee34462?s=128&d=identicon&r=PG&f=1", "display_name": "Galactic", "link": "https://stackoverflow.com/users/5104896/galactic"}, "edited": false, "score": 0, "creation_date": 1569610983, "post_id": 58119137, "comment_id": 102666767, "body": "Thanks for this bit of information.  It sent me down another path of searches where by I came across a solution."}, {"owner": {"reputation": 2734, "user_id": 2470362, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xlHsB.jpg?s=128&g=1", "display_name": "Abin", "link": "https://stackoverflow.com/users/2470362/abin"}, "reply_to_user": {"reputation": 306, "user_id": 5104896, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/771aa2af13a67f6984c014449ee34462?s=128&d=identicon&r=PG&f=1", "display_name": "Galactic", "link": "https://stackoverflow.com/users/5104896/galactic"}, "edited": false, "score": 0, "creation_date": 1569611517, "post_id": 58119137, "comment_id": 102666975, "body": "@Galactic That&#39;s great to know that it helped."}], "tags": [], "owner": {"reputation": 2734, "user_id": 2470362, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xlHsB.jpg?s=128&g=1", "display_name": "Abin", "link": "https://stackoverflow.com/users/2470362/abin"}, "is_accepted": false, "score": 1, "last_activity_date": 1569508348, "creation_date": 1569508348, "answer_id": 58119137, "question_id": 58106001, "link": "https://stackoverflow.com/questions/58106001/wpf-usercontrol-combobox-bound-selection-lost-when-itemssource-reloaded/58119137#58119137", "title": "WPF UserControl Combobox Bound Selection Lost when ItemsSource reloaded", "body": "<p><code>ContactList = new ObservableCollection&lt;ActorModel&gt;(actors);</code> This line may be the issue as you are creating a new list here instead you can Add or Addrange to the existing OvservableCollection. </p>\n\n<p>creating a new instance will <code>refresh your whole collection</code>(which is what you are doing there for you lose the selection).</p>\n\n<p>Your goal is to add or remove items. not refreshing entire collection.</p>\n\n<p>check <a href=\"https://stackoverflow.com/a/851129/2470362\">this</a> out. hope this way you wont lose your selection by refreshing.</p>\n"}, {"tags": [], "owner": {"reputation": 306, "user_id": 5104896, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/771aa2af13a67f6984c014449ee34462?s=128&d=identicon&r=PG&f=1", "display_name": "Galactic", "link": "https://stackoverflow.com/users/5104896/galactic"}, "is_accepted": true, "score": 0, "last_activity_date": 1569610404, "creation_date": 1569610404, "answer_id": 58140066, "question_id": 58106001, "link": "https://stackoverflow.com/questions/58106001/wpf-usercontrol-combobox-bound-selection-lost-when-itemssource-reloaded/58140066#58140066", "title": "WPF UserControl Combobox Bound Selection Lost when ItemsSource reloaded", "body": "<p>It turns out that there is an issue when using TemplateBinding.  The following update was made to the user control and the DependecyProperty definition.  To the original post mark down hater that could not take a moment to explain why....keep on walking.</p>\n\n<p>Credit to TSoftware-Old on a <a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/06b4c701-5e07-4c1a-98a3-1edac107a403/propertychanged-not-fired-when-user-controls-combo-box-selected-value-changes?forum=wpf\" rel=\"nofollow noreferrer\">Microsoft forum post</a>.</p>\n\n<pre><code>&lt;ComboBox x:Name=\"cboMaintenance\" Grid.Column=\"0\" Grid.Row=\"1\"\n    Background=\"{StaticResource BH_TitleDefaultBackground}\" Foreground=\"Black\" \n    VerticalContentAlignment=\"Center\"\n    ItemsSource=\"{Binding DataSource, RelativeSource={RelativeSource TemplatedParent}}\"\n    DisplayMemberPath=\"{Binding DisplayItem, RelativeSource={RelativeSource TemplatedParent}}\"                                \n    SelectedValue=\"{Binding ModelPropertyField, RelativeSource={RelativeSource TemplatedParent}}\"\n    SelectedValuePath=\"{Binding DisplayRecordKey, RelativeSource={RelativeSource TemplatedParent}}\" \n    SelectedItem=\"{Binding ModelSelectionItem, RelativeSource={RelativeSource TemplatedParent}}\"/&gt;\n\n-------------------------\n\n   public static readonly DependencyProperty ModelSelectionItemProperty =\n        DependencyProperty.Register(\"ModelSelectionItem\", typeof(object), typeof(MaintenanceComboBox),\n        new FrameworkPropertyMetadata() { BindsTwoWayByDefault = true, DefaultUpdateSourceTrigger = UpdateSourceTrigger.PropertyChanged });\n</code></pre>\n"}], "owner": {"reputation": 306, "user_id": 5104896, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/771aa2af13a67f6984c014449ee34462?s=128&d=identicon&r=PG&f=1", "display_name": "Galactic", "link": "https://stackoverflow.com/users/5104896/galactic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 58140066, "answer_count": 3, "score": -1, "last_activity_date": 1569610404, "creation_date": 1569442743, "last_edit_date": 1569503162, "question_id": 58106001, "link": "https://stackoverflow.com/questions/58106001/wpf-usercontrol-combobox-bound-selection-lost-when-itemssource-reloaded", "title": "WPF UserControl Combobox Bound Selection Lost when ItemsSource reloaded", "body": "<p>I have a UserControl that displays a ComboBox along with add and edit buttons.  </p>\n\n<p><strong>XAML Code Block</strong></p>\n\n<pre><code>&lt;Style TargetType=\"local:MaintenanceComboBox\"&gt;\n    &lt;Setter Property=\"Template\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate TargetType=\"local:MaintenanceComboBox\"&gt;\n                &lt;Border x:Name=\"_boxBorder\"&gt;\n                    &lt;Grid&gt;\n                        &lt;Grid.ColumnDefinitions&gt;\n                            &lt;ColumnDefinition Width=\"*\"/&gt;\n                            &lt;ColumnDefinition Width=\"Auto\"/&gt;\n                            &lt;ColumnDefinition Width=\"Auto\"/&gt;\n                        &lt;/Grid.ColumnDefinitions&gt;\n                        &lt;ComboBox x:Name=\"cboMaintenance\" Grid.Column=\"0\" \n                            Background=\"{StaticResource BH_TitleDefaultBackground}\" Foreground=\"Black\"\n                            VerticalContentAlignment=\"Center\"\n                            ItemsSource=\"{TemplateBinding DataSource}\"\n                            DisplayMemberPath=\"{TemplateBinding DisplayItem}\"                                                                \n                            SelectedValue=\"{TemplateBinding ModelPropertyField}\"\n                            SelectedValuePath=\"{TemplateBinding DisplayRecordKey}\"/&gt;                            \n                        &lt;Button Grid.Column=\"1\" Name=\"btnAddRecord\" ToolTip=\"Add Record\" Style=\"{StaticResource IconButton}\" Margin=\"1.5,0\" Background=\"Transparent\" \n                                                Command=\"{TemplateBinding AddRecordCommand}\"&gt;\n                            &lt;Image Source=\"{Binding Converter={StaticResource ImgConverter}, ConverterParameter={x:Static utilui:eImages_16x16.Add} }\"/&gt;\n                        &lt;/Button&gt;\n                        &lt;Button Grid.Column=\"2\" Name=\"btnEditRecord\" ToolTip=\"Edit Record\" Margin=\"1.5,0\" Background=\"Transparent\" \n                                                Command=\"{TemplateBinding EditRecordCommand}\"&gt;\n                            &lt;Image Source=\"{Binding Converter={StaticResource ImgConverter}, ConverterParameter={x:Static utilui:eImages_16x16.PageEdit} }\"/&gt;\n                            &lt;Button.Style&gt;\n                                &lt;Style TargetType=\"{x:Type Button}\" BasedOn=\"{StaticResource IconButton}\" &gt;\n                                    &lt;Setter Property=\"Visibility\" Value=\"Visible\"/&gt;\n                                    &lt;Style.Triggers&gt;\n                                        &lt;DataTrigger Binding=\"{Binding ElementName=cboMaintenance, Path=SelectedIndex}\" Value=\"0\"&gt;\n                                            &lt;Setter Property=\"Visibility\" Value=\"Collapsed\"/&gt;\n                                        &lt;/DataTrigger&gt;\n                                    &lt;/Style.Triggers&gt;\n                                &lt;/Style&gt;\n                            &lt;/Button.Style&gt;\n                        &lt;/Button&gt;\n                    &lt;/Grid&gt;\n                &lt;/Border&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p><strong>Content Control Code</strong></p>\n\n<pre><code>public class MaintenanceComboBox : ContentControl\n{\n    private static object _previousSelection = null;\n\n    public ICommand AddRecordCommand\n    {\n        get { return (ICommand)GetValue(AddRecordCommandProperty); }\n        set { SetValue(AddRecordCommandProperty, value); }\n    }\n    public static readonly DependencyProperty AddRecordCommandProperty =\n        DependencyProperty.Register(\"AddRecordCommand\", typeof(ICommand), typeof(MaintenanceComboBox),\n            new PropertyMetadata(default(ICommand), new PropertyChangedCallback(AddRecordCommandChanged)));\n\n    private static void AddRecordCommandChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)\n    {\n        ((MaintenanceComboBox)d).AddRecordCommand = (ICommand)e.NewValue;\n    }\n\n    public ICommand EditRecordCommand\n    {\n        get { return (ICommand)GetValue(EditRecordCommandProperty); }\n        set { SetValue(EditRecordCommandProperty, value); }\n    }\n    public static readonly DependencyProperty EditRecordCommandProperty =\n        DependencyProperty.Register(\"EditRecordCommand\", typeof(ICommand), typeof(MaintenanceComboBox),\n            new PropertyMetadata(default(ICommand), new PropertyChangedCallback(EditRecordCommandChanged)));\n\n    private static void EditRecordCommandChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)\n    {\n        ((MaintenanceComboBox)d).EditRecordCommand = (ICommand)e.NewValue;\n    }\n    //------------------------------------------------------------------------------------------\n    public Color BackgroundColor\n    {\n        get { return (Color)GetValue(BackgroundColorProperty); }\n        set { SetValue(BackgroundColorProperty, value); }\n    }\n    public static readonly DependencyProperty BackgroundColorProperty =\n        DependencyProperty.Register(\"BackgroundColor\", typeof(Color), typeof(MaintenanceComboBox),\n            new PropertyMetadata(default(Color), new PropertyChangedCallback(BackgroundColorChanged)));\n\n    private static void BackgroundColorChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)\n    {\n        ((MaintenanceComboBox)d).BackgroundColor = (Color)e.NewValue;\n    }\n    //------------------------------------------------------------------------------------------\n    public object DataSource\n    {\n        get { return GetValue(DataSourceProperty); }\n        set { SetValue(DataSourceProperty, value); }\n    }\n    public static readonly DependencyProperty DataSourceProperty =\n        DependencyProperty.Register(\"DataSource\", typeof(object), typeof(MaintenanceComboBox),\n            new FrameworkPropertyMetadata(true, FrameworkPropertyMetadataOptions.BindsTwoWayByDefault, DataSourceChanged));\n\n    private static void DataSourceChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)\n    {\n        ((MaintenanceComboBox)d).DataSource = e.NewValue;\n    }\n    //------------------------------------------------------------------------------------------\n    public string DisplayItem\n    {\n        get { return GetValue(DisplayItemProperty).ToString(); }\n        set { SetValue(DisplayItemProperty, value); }\n    }\n    public static readonly DependencyProperty DisplayItemProperty =\n        DependencyProperty.Register(\"DisplayItem\", typeof(string), typeof(MaintenanceComboBox),\n            new PropertyMetadata(default(string), new PropertyChangedCallback(DisplayItemChanged)));\n\n    private static void DisplayItemChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)\n    {\n        ((MaintenanceComboBox)d).DisplayItem = e.NewValue.ToString();\n    }\n    //------------------------------------------------------------------------------------------\n    public string DisplayRecordKey\n    {\n        get { return GetValue(DisplayRecordKeyProperty).ToString(); }\n        set { SetValue(DisplayRecordKeyProperty, value); }\n    }\n    public static readonly DependencyProperty DisplayRecordKeyProperty =\n        DependencyProperty.Register(\"DisplayRecordKey\", typeof(string), typeof(MaintenanceComboBox),\n            new PropertyMetadata(default(string), new PropertyChangedCallback(DisplayRecordKeyChanged)));\n\n    private static void DisplayRecordKeyChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)\n    {\n        ((MaintenanceComboBox)d).DisplayRecordKey = e.NewValue.ToString();\n    }\n    //------------------------------------------------------------------------------------------\n    public object ModelPropertyField\n    {\n        get { return GetValue(ModelPropertyFieldProperty); }\n        set { SetValue(ModelPropertyFieldProperty, value); }\n    }\n    public static readonly DependencyProperty ModelPropertyFieldProperty =\n        DependencyProperty.Register(\"ModelPropertyField\", typeof(object), typeof(MaintenanceComboBox),\n            new PropertyMetadata(default(object), new PropertyChangedCallback(ModelPropertyFieldChanged)));\n\n    private static void ModelPropertyFieldChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)\n    {\n        ((MaintenanceComboBox)d).ModelPropertyField = e.NewValue;\n    }\n    //------------------------------------------------------------------------------------------\n\n    public int SelectedIndex\n    {\n        get { return Convert.ToInt32(GetValue(SelectedIndexProperty)); }\n        set { SetValue(SelectedIndexProperty, value); }\n    }\n    public static readonly DependencyProperty SelectedIndexProperty =\n        DependencyProperty.Register(\"SelectedIndex\", typeof(int), typeof(MaintenanceComboBox),\n            new PropertyMetadata(default(int), new PropertyChangedCallback(SelectedIndexChanged)));\n\n    private static void SelectedIndexChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)\n    {\n        ((MaintenanceComboBox)d).SelectedIndex = Convert.ToInt32(e.NewValue);\n    }\n    //------------------------------------------------------------------------------------------\n    public object ModelSelectionItem\n    {\n        get { return GetValue(ModelSelectionItemProperty); }\n        set { SetValue(ModelSelectionItemProperty, value); }\n    }\n    public static readonly DependencyProperty ModelSelectionItemProperty =\n        DependencyProperty.Register(\"ModelSelectionItem\", typeof(object), typeof(MaintenanceComboBox),\n            new PropertyMetadata(default(object), new PropertyChangedCallback(ModelSelectionItemChanged)));\n\n    private static void ModelSelectionItemChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)\n    {\n        ((MaintenanceComboBox)d).ModelSelectionItem = e.NewValue;\n    }\n\n\n}\n</code></pre>\n\n<p>The maintenance box is used multiple times on a form to choose from a shared list of business contacts for separate business roles.  All uses of the user control can add or edit an entry.  When this occurs, the data will be refreshed in order to allow a selection.</p>\n\n<p><strong>Usage of the Maintenance ComboBox Control</strong></p>\n\n<pre><code>&lt;utilctl:MaintenanceComboBox x:Name=\"cboFieldService\" DisplayItem=\"FullName\" DisplayRecordKey=\"ActorID\" \n ModelPropertyField=\"{Binding FieldServiceRep, Mode=TwoWay}\"     \n DataSource=\"{Binding ContactList, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}\" /&gt;\n</code></pre>\n\n<p>Upon the initial display of a record, everything functions as expected: </p>\n\n<ul>\n<li>contact list is loaded in all maintenance box controls </li>\n<li>current business role selections are displayed as the selected item.</li>\n</ul>\n\n<p>After the add or edit record process is completed and the data refreshed, the current item selected lost while the the dropdown list displays the updated contacts list.  </p>\n\n<p>A view model is the DataContext for the form that feeds the maintenance controls and implements INotifyPropertyChanged.  The form is rather large and is pretty repetitive functionality.</p>\n\n<p><strong>Property definition for the cboFieldService</strong></p>\n\n<pre><code>private string _fieldServiceRep = string.Empty;\npublic string FieldServiceRep { get { return _fieldServiceRep; } set { _fieldServiceRep = value; OnPropertyChanged(); } }\n</code></pre>\n\n<p>While researching this the past few days, there have been numerous mentions to:</p>\n\n<ul>\n<li><strong>INotifyPropertyChanged</strong> - is being implemented</li>\n<li><strong>IsSyncronizeWithCurrentItem</strong> - can not be set to true since the uses of the user control are all independent selections that happen to share the same contacts selection pool</li>\n</ul>\n\n<p>Debugging the past few days indicates that the property values of the individual contact selections are still intact, however they aren't displayed after refresh.  What can be done so that the each list selection properly displays after the contacts list has been refreshed following an add or edit?</p>\n\n<p><strong>UPDATE # 1------</strong></p>\n\n<p>When the record is loaded, the add and edit commands are defined in the view model.</p>\n\n<pre><code>public void LoadRecord(IncidentModel record)\n{\n    DataContext = _activeIncident;\n    cboFieldService.AddRecordCommand = new DelegateCommand(_activeIncident.AddFieldServiceRep);\n    cboFieldService.EditRecordCommand = new DelegateCommand(_activeIncident.EditFieldServiceRep);\n}\n    public void AddFieldServiceRep() { AddContact(nameof(FieldServiceRep)); }\n    public void AddContact(string propertyName)\n    {\n        ProcessContactMaintenance(new ContactMaintenanceWindow(MaintenanceType.Add), propertyName);\n    }\n\n    public void EditFieldServiceRep() { EditContact(ContactTypeCode.Rep, nameof(FieldServiceRep)); }\n    public void EditContact(ContactTypeCode type, string propertyName)\n    {\n        ProcessContactMaintenance(new ContactMaintenanceWindow(MaintenanceType.Edit, GetIncidentContact(type)?.ActorInfo), propertyName);\n    }\n    private void ProcessContactMaintenance(ContactMaintenanceWindow win, string propertyName)\n    {\n        win.ShowDialog();\n        if (win.DialogResult.Equals(true))\n        {\n            RefreshContactList(); OnPropertyChanged(nameof(ContactList)); UpdateContactProperties();\n        }\n    }\n\n    public void RefreshContactList()\n    {\n        ObservableCollection&lt;ActorModel&gt; contacts = new ObservableCollection&lt;ActorModel&gt;(FieldServiceManagementDataService.GetActors());\n        List&lt;ActorModel&gt; actors = contacts?.OrderBy(c =&gt; c.FullName).ToList();\n        ActorModel none = new ActorModel();\n        none.ActorID = \"-1\";\n        none.FirstName = \"-- Select --\";\n        actors?.Insert(0, none);\n        ContactList = new ObservableCollection&lt;ActorModel&gt;(actors);\n    }\n\n    public void UpdateContactProperties()\n    {\n        OnPropertyChanged(nameof(FieldServiceRep));\n    }\n</code></pre>\n\n<p><strong>UPDATE # 2 ------</strong></p>\n\n<p>Per recommendation, the DataSource was redefined and the reference to the PropertyChangedCallback was removed.  The result was unchanged behavior.</p>\n\n<p>The behavior occurs only when the ContactList binding mode=TwoWay.  When it is set to OneWay, the ComboBox selections do not show any updated information and the record selections are visually shown.</p>\n\n<pre><code>public ObservableCollection&lt;dynamic&gt; DataSource\n{\n    get { return (ObservableCollection&lt;dynamic&gt;)GetValue(DataSourceProperty); }\n    set { SetValue(DataSourceProperty, value); }\n}\npublic static readonly DependencyProperty DataSourceProperty =\n    DependencyProperty.Register(\"DataSource\", typeof(ObservableCollection&lt;dynamic&gt;), typeof(MaintenanceComboBox),\n        new PropertyMetadata(default(ObservableCollection&lt;dynamic&gt;)));\n</code></pre>\n\n<p><strong>Before Image</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/ebNMi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ebNMi.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Image after contact information is updated (Mode=TwoWay)</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Wu6YU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wu6YU.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-webapi", "background-service", "asp.net-core-hosted-services"], "comments": [{"owner": {"reputation": 19212, "user_id": 4275342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/KnE9R.png?s=128&g=1", "display_name": "Roman Marusyk", "link": "https://stackoverflow.com/users/4275342/roman-marusyk"}, "edited": false, "score": 0, "creation_date": 1569442626, "post_id": 58105917, "comment_id": 102602752, "body": "You need data storage"}], "answers": [{"tags": [], "owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "is_accepted": true, "score": 3, "last_activity_date": 1569490794, "creation_date": 1569490794, "answer_id": 58113885, "question_id": 58105917, "link": "https://stackoverflow.com/questions/58105917/how-to-pass-data-from-a-controller-to-a-background-service/58113885#58113885", "title": "How to pass data from a controller to a background service", "body": "<p>Register your backgroundService as the <code>IHostedService</code> in the <code>ConfigureServices</code> of Startup.cs like below :</p>\n\n<pre><code> services.AddSingleton&lt;UserService&gt;();\n services.AddSingleton&lt;IHostedService, UserService&gt;(\n            serviceProvider =&gt; serviceProvider.GetService&lt;UserService&gt;());\n</code></pre>\n\n<p>Then dependency inject service in controller :</p>\n\n<pre><code> public class UsersController : ControllerBase\n{\n    private readonly UserService _userService;\n\n    public UsersController(UserService userService)\n    {\n        _userService = userService;\n    }\n\n    [HttpPost]\n    public IActionResult PostUser(User user)\n    {\n        _userService.AddUser(user);\n        return Ok();\n    }\n}\n</code></pre>\n\n<p>Reference :<a href=\"https://github.com/simpleinjector/SimpleInjector/issues/596\" rel=\"nofollow noreferrer\">https://github.com/simpleinjector/SimpleInjector/issues/596</a></p>\n"}], "owner": {"reputation": 5, "user_id": 10268952, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I5wZCKqq2Tc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPr0YDyPwPMucP_yZw3xzXQLBPTOA/mo/photo.jpg?sz=128", "display_name": "kristianos", "link": "https://stackoverflow.com/users/10268952/kristianos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2150, "favorite_count": 1, "accepted_answer_id": 58113885, "answer_count": 1, "score": 0, "last_activity_date": 1569490794, "creation_date": 1569442199, "last_edit_date": 1569443164, "question_id": 58105917, "link": "https://stackoverflow.com/questions/58105917/how-to-pass-data-from-a-controller-to-a-background-service", "title": "How to pass data from a controller to a background service", "body": "<p>I'm trying to write a simple web api project with a background service executing a method every second.\nThis method loops over a list and just prints out (for the moment) some statistics.\nI declared a new list in the constructor of the background service.</p>\n\n<p>I'm currently encountering some issues with adding and removing items from inside the controller.</p>\n\n<pre><code>public UsersController(IUserBackgroundService userService)\n{\n   private readonly IUserBackgroundService _userService;\n\n   public UserController(IUserBackgroundService userService)\n   {\n       _userService = userservice;\n   }\n\n   [HttpPost]\n   public IActionResult PostUser(User user)\n   {\n      _userService.Add(user) \n   }\n}\n\npublic UserService: BackgroundService, IUserService\n{\n    private List&lt;User&gt; Users;\n\n    public UserService()\n    {\n       Users = new List&lt;Users&gt;();\n    }\n    protected override ExecuteAsync(CancellationToken token)\n    {\n        //this will execute the GenerateUserStats every second\n    }\n\n    //this method is being executed every second \n    protected Task GenerateUserStatistics()\n    {\n        Console.WriteLine($\"Nr. of users {users.count}\");\n        foreach(var user in users)\n        {\n            Console.WriteLine($\"{user.fname} {user.sname}\");\n        }\n    }\n\n    //add a user to the collection\n    // this is called by the PostUser method of my controller.\n    public void AddUser(User user)\n    {\n        Users.Add(user);\n    }\n\n    public void RemoveUser(string id)\n    {\n        var user = Users.FirstOrDefault(u =&gt; u.Id == id);\n        Users.Remove(user);\n    }\n}\n</code></pre>\n\n<p>I'd expect that every time I call the PostUser() the Users list should increase and my GenerateStatistics() method should print out the correct values, instead all it prints out is Nr of users 0.</p>\n\n<p>I registered the service as a hostedservice and a singleton.\nI omitted some things from the code for the moment because I don't have the code on this machine.</p>\n"}, {"tags": ["c#", "odata"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1569442492, "post_id": 58105914, "comment_id": 102602698, "body": "Why is the retrieval of data being treated as a concern of the presentation layer? Why not just retrieve all 6 properties and then let the presentation layer display what the user wants to see?"}, {"owner": {"reputation": 77, "user_id": 8100128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/386688965bda59d244cbd58d219d54bc?s=128&d=identicon&r=PG&f=1", "display_name": "m1547", "link": "https://stackoverflow.com/users/8100128/m1547"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1569443390, "post_id": 58105914, "comment_id": 102603040, "body": "@Igor you&#39;re right, I should stick with retrieving it all. Is there anything else I can do in a console app about displaying data than just write a separate <code>Console.WriteLine</code> for each query?"}], "owner": {"reputation": 77, "user_id": 8100128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/386688965bda59d244cbd58d219d54bc?s=128&d=identicon&r=PG&f=1", "display_name": "m1547", "link": "https://stackoverflow.com/users/8100128/m1547"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569442187, "creation_date": 1569442187, "question_id": 58105914, "link": "https://stackoverflow.com/questions/58105914/what-is-a-good-way-how-to-deal-with-different-possible-data-requests-of-odata-ap", "title": "What is a good way how to deal with different possible data requests of OData API?", "body": "<p>I have an OData API with one entity and many properties. The user can choose which properties he wants to retrieve from the API. How to best approach this situation of having several possible queries? Say, one user would want to see items of specific weight, another items of specific height, yet another items of both specific weight and height. The properties that they don't specifically request wouldn't be displayed. </p>\n\n<p>The simple and obvious solution would be to write a separate query for each of the possible queries. Is this actually a good approach? E.g., if weight is requested</p>\n\n<pre><code>var data = context.MyEntity.Where(e =&gt; e.weight == userInputWeight);\n\nforeach(var item in data)\n{\n  Console.WriteLine(\"item_name: \" + item.name + \" weight: \" + item.weight);\n}\n\n</code></pre>\n\n<p>and if height is requested</p>\n\n<pre><code>var data = context.MyEntity.Where(e =&gt; e.height == userInputHeight);\n\nforeach(var item in data)\n{\n  Console.WriteLine(\"item_name: \" + item.name + \" height: \" + item.height);\n}\n</code></pre>\n\n<p>and so on. Can it be done in a different way, with less repetition of very similar code? I am dealing with 6 possible queries.</p>\n"}, {"tags": ["c#", "asp.net", "xml", "datatable", "webspeed"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1569454547, "post_id": 58105886, "comment_id": 102605947, "body": "Use httpwebrequest"}, {"owner": {"reputation": 317, "user_id": 4578096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f900c810e5312a93c5694283bc496a81?s=128&d=identicon&r=PG&f=1", "display_name": "IceeFrog", "link": "https://stackoverflow.com/users/4578096/iceefrog"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1569454938, "post_id": 58105886, "comment_id": 102606007, "body": "So far I was able to render the data I require using WebClient, adding the logic in the controller and displaying the html.render in my view, however it shows up without format, I&#39;ll try httpwebrequest and post my results, thanks for the tip"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1569474722, "post_id": 58105886, "comment_id": 102609756, "body": "It won&#39;t make a difference.  Xml is text and you issue isn&#39;t with parsing or getting the xml.  You need to do a better job of formating your JSON datatables."}], "owner": {"reputation": 317, "user_id": 4578096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f900c810e5312a93c5694283bc496a81?s=128&d=identicon&r=PG&f=1", "display_name": "IceeFrog", "link": "https://stackoverflow.com/users/4578096/iceefrog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569442074, "creation_date": 1569442074, "question_id": 58105886, "link": "https://stackoverflow.com/questions/58105886/how-to-consume-webspeed-xml-with-c-and-display-it-into-datatable-in-asp-net", "title": "How to consume webspeed XML with C# and display it into datatable in asp.net", "body": "<p>Hello everyone I'm very new in C# altho I have some background in Python so I'm not very lost but I have not been able to complete this task.</p>\n\n<p>I'm trying to consume a Webspeed that shows up data from a database, the problem is that I'm to dumb to realize how to make the request using C#, I've been looking for examples but there's no clear examples of how to perform this action. </p>\n\n<p>Also I would like to be clear that the URL I'm trying to consume to get the XML does not shows any XML format, instead I have to click show source on the website, so it can return the actual XML as \"view-source:url\"</p>\n\n<p>This is an example of the url</p>\n\n<pre><code>\"127.0.0.1/cgi-bin/wspd_cgi.sh/WService=ec-dev/app/interfaces/path/sp_sourceofdata.html?num_item=3072464&amp;date_ini=01/01/19&amp;date_end=08/05/19\"\n</code></pre>\n\n<p>And this is the xml I get</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;&lt;response&gt;&lt;datos&gt;\n&lt;Documento_abierto&gt;\n    &lt;control-ent&gt; &lt;/control-ent&gt;\n    &lt;machine-id&gt;  &lt;/machine-id&gt;\n    &lt;trans-code&gt;  or&lt;/trans-code&gt;\n    &lt;trans-no&gt;    12341567&lt;/trans-no&gt;\n    &lt;cust-id&gt;     ABC12345&lt;/cust-id&gt;\n    &lt;trans-id&gt;    ABCD&lt;/trans-id&gt;\n    &lt;entity-id&gt;   A1234E45&lt;/entity-id&gt;\n    &lt;ret-id&gt;      &lt;/ret-id&gt;\n    &lt;mont&gt;       35&lt;/mont&gt;\n    &lt;serie&gt;       &lt;/serie&gt;\n    &lt;fis-no&gt;   0&lt;/fis-no&gt;\n    &lt;trans-date&gt;  07/25/19&lt;/trans-date&gt;\n    &lt;due-date&gt;    07/25/19&lt;/due-date&gt;\n&lt;/Documento_abierto&gt;\n&lt;/response&gt;\n&lt;/data&gt;\n</code></pre>\n\n<p>Basically this are the instructions I need to perform are:</p>\n\n<p>Query the URL and save the XML data\nTransform data into JSON\nSave that JSON data\nRender JSON data into datatables in ASP.NET website</p>\n\n<p>The big issue I'm facing is the query, I've found examples of all the other instructions.</p>\n\n<p>Can someone point me in the right directions please?</p>\n"}, {"tags": ["c#"], "answers": [{"tags": [], "owner": {"reputation": 1100, "user_id": 11994733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b021364a53b38903905f55827cf89101?s=128&d=identicon&r=PG&f=1", "display_name": "Mandelbrotter", "link": "https://stackoverflow.com/users/11994733/mandelbrotter"}, "is_accepted": false, "score": 0, "last_activity_date": 1569443801, "creation_date": 1569443801, "answer_id": 58106194, "question_id": 58105740, "link": "https://stackoverflow.com/questions/58105740/c-executing-a-query-and-getting-data-out-of-an-access-database-accdb-without/58106194#58106194", "title": "C# Executing a query and getting data out of an Access Database (accdb) without using ACE.OLEDB", "body": "<p>Found a workaround. It uses Microsoft.Office.Interop.Access found in NuGet.</p>\n\n<pre><code>    var accApp = new Microsoft.Office.Interop.Access.Application();\n    accApp.OpenCurrentDatabase(@tests.DatabasePath);\n    Microsoft.Office.Interop.Access.Dao.Database cdb = accApp.CurrentDb();\n\n    Microsoft.Office.Interop.Access.Dao.Recordset rst =\ncdb.OpenRecordset(\n    \"SELECT * FROM Users\",\n    Microsoft.Office.Interop.Access.Dao.RecordsetTypeEnum.dbOpenSnapshot);\n    while (!rst.EOF)\n    {\n        Console.WriteLine(rst.Fields[\"username\"].Value);\n        rst.MoveNext();\n    }\n    rst.Close();\n    accApp.CloseCurrentDatabase();\n    accApp.Quit();\n</code></pre>\n"}], "owner": {"reputation": 1100, "user_id": 11994733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b021364a53b38903905f55827cf89101?s=128&d=identicon&r=PG&f=1", "display_name": "Mandelbrotter", "link": "https://stackoverflow.com/users/11994733/mandelbrotter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 384, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569443801, "creation_date": 1569441415, "question_id": 58105740, "link": "https://stackoverflow.com/questions/58105740/c-executing-a-query-and-getting-data-out-of-an-access-database-accdb-without", "title": "C# Executing a query and getting data out of an Access Database (accdb) without using ACE.OLEDB", "body": "<p>I'm writing a WPF application.</p>\n\n<p>Trying to use the normal method of getting a connection returns an error similar to: \"The 'Microsoft.ACE.OLEDB.12.0' provider is not registered on the local machine.\"</p>\n\n<p>ACE.OLEDB has never been installed on this machine so this error makes sense. </p>\n\n<p>I'm trying to create this application in a way so that our users won't need to contact IT to have the application installed. Getting IT involved is a no go situation and the project will be abandoned. </p>\n\n<p>Another team has an Access database (accdb) that I want my application to extract information (only read, no insert or update). I talked to the team and they won't convert this database back to an earlier version (mdb).</p>\n\n<p>After my research I assume that installing ACE.OLEDB without using Admin privileges is impossible. Because of this and my application requirement of not requiring admin privileges I need to start looking for \"Mutant\"/Dirty solutions that don't involve ACE.OLEDB. </p>\n\n<p>I tried using power-shell but I'm getting the same problems as I had with C# (requires IT to install ACE.OLEDB).</p>\n\n<p>I have two potential solutions. One write a VBA script that opens up the database and dumps a query result into a file. My C# application would call this VB script and then parse the created file. </p>\n\n<p>The second option is to create a new Access process using Process.Start(fullFilePath) and somehow pass the command to execute a query and somehow pass the results back to the executing application (either via a method return or first to a file).</p>\n\n<p>How would you get the data out? </p>\n\n<p>Is there a way for C# to duplicate the DB file and convert it from (accdb -> mdb)?</p>\n\n<p>This is the second question I ask that is very similar. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/58103947/c-sharp-connecting-to-access-db-with-no-install?noredirect=1#comment102599120_58103947\">C# Connecting to Access DB with no install</a></p>\n\n<p>The difference between the two (to prevent this is a duplicate question) is that in the previous question I was looking for ways to install ACE.OLEDB without admin privileges while here I'm just looking for any other work around. </p>\n"}, {"tags": ["c#", "unity3d", "image-processing", "camera", "textures"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1570739554, "post_id": 58105682, "comment_id": 103019233, "body": "Did you get anywhere on this problem? It&#39;s a toughie"}, {"owner": {"reputation": 107, "user_id": 8173319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50119eecf236a0330341bec7dd5431ab?s=128&d=identicon&r=PG&f=1", "display_name": "Mike OD", "link": "https://stackoverflow.com/users/8173319/mike-od"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1570804651, "post_id": 58105682, "comment_id": 103042150, "body": "Ahh, not really. Eventually I was able to find an Asset on the Unity store (World Political Map) that had its own custom tiling system, which more or less fulfilled my purpose. Though even looking at their code I&#39;m still pretty lost as to how it works."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1570804726, "post_id": 58105682, "comment_id": 103042207, "body": "Ah, the solution was eldritch sorcery all along."}, {"owner": {"reputation": 107, "user_id": 8173319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50119eecf236a0330341bec7dd5431ab?s=128&d=identicon&r=PG&f=1", "display_name": "Mike OD", "link": "https://stackoverflow.com/users/8173319/mike-od"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1570804961, "post_id": 58105682, "comment_id": 103042353, "body": "Such is the life of a software engineer. Thanks for offering your thoughts on a solution though."}], "answers": [{"tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": false, "score": 1, "last_activity_date": 1569513601, "last_edit_date": 1592644375, "creation_date": 1569444308, "answer_id": 58106300, "question_id": 58105682, "link": "https://stackoverflow.com/questions/58105682/how-to-apply-textures-to-a-material-based-on-camera-viewport-in-unity/58106300#58106300", "title": "How to apply textures to a material based on camera viewport in Unity", "body": "<p>Interesting problem to try and solve without looping through a lot of tiles or pixels.  Here's a partial answer that might help you find a solution.</p>\n<p>There are two main problem here:</p>\n<ol>\n<li>Finding which &quot;tiles&quot; are visible to the camera.</li>\n<li>Loading those tiles into the shader and having it index them correctly.</li>\n</ol>\n<hr />\n<h3>Finding which &quot;tiles&quot; are visible to the camera</h3>\n<p>The best idea I can come up here is to try and find a way to project the camera's view of the sphere onto where the visible points are on an equirectangular projection.</p>\n<p>You <em>could</em> sample for this with multiple <code>ViewportPointToRay</code> and collision checks, but it would be inaccurate and especially in the cases where the camera can see &quot;around&quot; the sphere and the rays don't collide with the sphere there.</p>\n<p>There may be a formulaic approach to this but I'm not sure what to do.</p>\n<hr />\n<h3>Loading those tiles into the shader and having it index them correctly.</h3>\n<p>This is the much easier part if you can determine which equirectangular tiles need to be sent.  If you can draw a rectangle that loops around horizontally around all the points that the camera can see, then you can just send the tiles that are partially or completely inside that &quot;loading rectangle&quot;.</p>\n<p>You'll also need to send the start &amp; endpoints of the rectangle. So the shader can calculate how to change the entire-map <code>texIndex</code> coordinates to where that tile is stored in the &quot;loading rectangle&quot;.</p>\n<p>Basically these lines in the shader would probably be the same:</p>\n<pre><code>float2 equiUV = RadialCoords(IN.normal);\n\nfloat2 texIndex;\nfloat2 uvInTex = modf(equiUV * float2(_COLUMNS, _ROWS), texIndex);\n\n...\n\nreturn UNITY_SAMPLE_TEX2DARRAY(_MainTexArray,\n        float3(uvInTex, flatTexIndex));\n</code></pre>\n<p>This line would have to change in some way to also take into account the loading rectangle parameters and how it horizontally wraps around the tile map:</p>\n<pre><code>int flatTexIndex = texIndex.x * _ROWS + texIndex.y;\n</code></pre>\n<hr />\n<p>Sorry about the vagueness, especially for the first part. Good luck.</p>\n"}], "owner": {"reputation": 107, "user_id": 8173319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50119eecf236a0330341bec7dd5431ab?s=128&d=identicon&r=PG&f=1", "display_name": "Mike OD", "link": "https://stackoverflow.com/users/8173319/mike-od"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1569513601, "creation_date": 1569441172, "last_edit_date": 1569444388, "question_id": 58105682, "link": "https://stackoverflow.com/questions/58105682/how-to-apply-textures-to-a-material-based-on-camera-viewport-in-unity", "title": "How to apply textures to a material based on camera viewport in Unity", "body": "<p>So this post is more or less a continuation of my last question <a href=\"https://stackoverflow.com/questions/58029424/how-to-create-a-shader-that-can-display-a-texture-made-out-of-many-small-images\">here</a>, so check that link if you're lost. </p>\n\n<p>Basically, I need to load higher quality images applied to a material on a globe as the user zooms in the camera further. As it stands right now, I load all images at once depending on the zoom level, which is profoundly unoptimized at lower zoom levels, and impossible at higher ones since a texture2darray can only hold 2048 images. </p>\n\n<p>What I need to know is, how could I only load the images that the camera is viewing, and not worry about ones off screen?</p>\n\n<p>This may be a ludicrously specific problem, so I understand if I'm barking up the wrong tree here, but I figured I'd throw it out there and see if anyone has any insight.</p>\n\n<p>Here's my current tiling class:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class TilerHelper : MonoBehaviour\n{\n    MapTiler tiler = new MapTiler(\"G:/s2cloudless_4326_v1.0.0.sqlite\"); //Function that loads from the sql table\n    public Material mat; //The material\n    Texture2DArray texArr; //The array that will be made into the final texture\n    public Texture2D[] textures; //The images loaded from the sql table\n    int size = 2048; //A texture2darray can only hold 2048 textures\n    int count = 0; //Iterator for loading images\n    int zoom = 1; //Determines which zoom level to load from the sql table\n    int lastZoom = 1; //Determines whether the zoom level has moved\n    CameraOrbit cam; //The main camera\n    int initX = 3; //The x value of the image at zoom level 1\n    int initY = 1;//The y value of the image at zoom level 1\n\n    // Start is called before the first frame update\n    void Start()\n    {\n        SetTiles(3, 1, 1, 4, 2); //This loads the first set of images at max distance when the program starts\n        cam = Camera.main.gameObject.GetComponent&lt;CameraOrbit&gt;();\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n        //These different zoom levels are based on the camera distance from the earth (large earth, so large numbers)\n        if (cam.distance &lt;= 90000) zoom = 12;\n        else if (cam.distance &lt;= 100000) zoom = 11;\n        else if (cam.distance &lt;= 110000) zoom = 10;\n        else if (cam.distance &lt;= 130000) zoom = 9;\n        else if (cam.distance &lt;= 150000) zoom = 8;\n        else if (cam.distance &lt;= 170000) zoom = 7;\n        else if (cam.distance &lt;= 190000) zoom = 6;\n        else if (cam.distance &lt;= 210000) zoom = 5;\n        else if (cam.distance &lt;= 230000) zoom = 4;\n        else if (cam.distance &lt;= 250000) zoom = 3;\n        else if (cam.distance &lt;= 270000) zoom = 2;\n        else if (cam.distance &gt;= 270000) zoom = 1;\n\n        //If the camera has gone to a new zoom level...\n        if(lastZoom != zoom)\n        {\n            if (zoom == 1) SetTiles(initX, initY, zoom, 4, 2); //Set it to 1 manually, since the formula won't work for it\n            else\n            {\n                //This formula will load the correct images in the correct places regardless of zoom level\n                int counter = 1;\n                int resultX = initX;\n                int resultY = initY;\n                while(counter &lt; zoom)\n                {\n                    resultX = resultX * 2 + 1;\n                    resultY = resultY * 2 + 1;\n                    counter++;\n                }\n                SetTiles(resultX, resultY, zoom, (int)Mathf.Pow(2, zoom + 1), (int)Mathf.Pow(2, zoom));\n            }\n\n            lastZoom = zoom;  //Update last zoom\n        }\n    }\n    //The method that actually places the images\n    void SetTiles(int x, int y, int z, int columns, int rows)\n    {\n        textures = new Texture2D[size]; //The array to hold all the textures\n        //Load and place all the images according to passed x, y, and zoom level\n        for (int i = 0; i &lt;= x; i++)\n        {\n            for (int j = 0; j &lt;= y; j++)\n            {\n                textures[count] = tiler.Read(i, j, z); //The z determines the zoom level, so I wouldn't want them all loaded at once\n                count++;     \n            }\n        }\n        count = 0; //Reset the counter\n\n        //Instantiate the texture2darray\n        texArr = new Texture2DArray(256, 256, textures.Length, TextureFormat.RGBA32, false, true);\n        texArr.filterMode = FilterMode.Bilinear;\n        texArr.wrapMode = TextureWrapMode.Clamp;\n        //Set the texture2darray to contain all images loaded\n        for (int i = 0; i &lt; textures.Length; i++)\n        {\n            if (textures[i] == null) continue;\n            texArr.SetPixels(textures[i].GetPixels(), i, 0);\n        }\n        //Apply the texture and set appropriate material values\n        texArr.Apply();\n        mat.SetTexture(\"_MainTexArray\", texArr);\n        Matrix4x4 matrix = Matrix4x4.TRS(Vector3.zero, Quaternion.Euler(0, -90, 0), Vector3.one);\n        mat.SetMatrix(\"_Matrix\", matrix);\n        mat.SetInt(\"_COLUMNS\", columns);\n        mat.SetInt(\"_ROWS\", rows);\n    }\n}\n\n</code></pre>\n\n<p>And here is my shader code</p>\n\n<pre><code>// Upgrade NOTE: replaced 'mul(UNITY_MATRIX_MVP,*)' with 'UnityObjectToClipPos(*)'\n\nShader \"Custom/Tiling\"\n{\n    Properties\n    {\n        _MainTexArray(\"Tex\", 2DArray) = \"\" {}\n        _COLUMNS(\"Columns\", Int) = 8\n        _ROWS(\"Rows\", Int) = 4\n    }\n        SubShader\n        {\n            Pass{\n            Tags {\"RenderType\" = \"Opaque\"}\n            Lighting Off\n            ZWrite Off\n\n                CGPROGRAM\n                #pragma vertex vert\n                #pragma fragment frag\n                #pragma require 2darray\n\n                #include \"UnityCG.cginc\"\n\n                struct appdata \n                {\n                   float4 vertex : POSITION;\n                   float3 normal : NORMAL;\n                };\n                struct v2f\n                {\n                    float4 pos : SV_POSITION;\n                    float3 normal : TEXCOORD0;\n                };\n\n                float4x4 _Matrix;\n                v2f vert(appdata v, float3 normal : TEXCOORD0)\n                {\n                    v2f o;\n                    o.pos = UnityObjectToClipPos(v.vertex);\n                    o.normal = mul(v.normal, _Matrix);\n                    return o;\n                }\n\n                UNITY_DECLARE_TEX2DARRAY(_MainTexArray);\n\n                int _ROWS;\n                int _COLUMNS;\n\n                #define PI 3.141592653589793\n\n                inline float2 RadialCoords(float3 a_coords)\n                {\n                    float3 a_coords_n = normalize(a_coords);\n                    float lon = atan2(a_coords_n.z, a_coords_n.x);\n                    float lat = acos(a_coords_n.y);\n                    float2 sphereCoords = float2(lon, lat) * (1.0 / PI);\n                    return float2(sphereCoords.x * 0.5 + 0.5, 1 - sphereCoords.y);\n                }\n\n                float _UVClamp;\n\n                float4 frag(v2f IN) : COLOR\n                {\n                    float2 equiUV = RadialCoords(IN.normal);\n\n                    float2 texIndex;\n                    float2 uvInTex = modf(equiUV * float2(_COLUMNS, _ROWS), texIndex);\n\n                    int flatTexIndex = texIndex.x * _ROWS + texIndex.y;\n\n                    return UNITY_SAMPLE_TEX2DARRAY(_MainTexArray,\n                    float3(uvInTex, flatTexIndex));\n                }\n                ENDCG\n            }\n        }\n}\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "excel"], "comments": [{"owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 0, "creation_date": 1569441323, "post_id": 58105669, "comment_id": 102602211, "body": "Try to format the cell like this: <code>mWSheet1.Cells[row, 7].NumberFormat = &quot;mm&#47;dd&#47;yyyy&quot;;</code>"}, {"owner": {"reputation": 2860, "user_id": 12046148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039c7e7445eb52d65ba41f7ecdf27e04?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg", "link": "https://stackoverflow.com/users/12046148/oleg"}, "edited": false, "score": 0, "creation_date": 1569441599, "post_id": 58105669, "comment_id": 102602321, "body": "Probably duplicated : <a href=\"https://stackoverflow.com/questions/3310800/how-to-make-correct-date-format-when-writing-data-to-excel\" title=\"how to make correct date format when writing data to excel\">stackoverflow.com/questions/3310800/&hellip;</a>"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 2, "creation_date": 1569441716, "post_id": 58105669, "comment_id": 102602377, "body": "I would not use ambiguous date formats - is that Jan 12th or Dec 1st? Use <code>DateTime.ToOADate()</code> to specify the date <i>value</i> and let Excel worry about the formatting."}], "answers": [{"comments": [{"owner": {"reputation": 2612, "user_id": 1313789, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jG0DC.jpg?s=128&g=1", "display_name": "Yuri", "link": "https://stackoverflow.com/users/1313789/yuri"}, "edited": false, "score": 0, "creation_date": 1569441876, "post_id": 58105756, "comment_id": 102602442, "body": "this will work, but sorting will be done on string - not on date"}], "tags": [], "owner": {"reputation": 167, "user_id": 6495157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a13ac1ba7ada14899ee415f948ee5a6?s=128&d=identicon&r=PG&f=1", "display_name": "ag93", "link": "https://stackoverflow.com/users/6495157/ag93"}, "is_accepted": true, "score": 0, "last_activity_date": 1569441493, "creation_date": 1569441493, "answer_id": 58105756, "question_id": 58105669, "link": "https://stackoverflow.com/questions/58105669/c-excel-changes-the-date-format-when-i-write-a-date-in-a-worksheet/58105756#58105756", "title": "C# Excel changes the date format when I write a date in a worksheet", "body": "<p>have you tried passing your date using the Format class? Note that passing the ' in before the value will tell excel to format it as text and it shouldn't try and do its own formatting.</p>\n\n<pre><code>mWSheet1.Cells[row , 7] = \"'\" + Format(\"01/12/2019\", \"MM/dd/yyyy\");\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 6827763, "user_type": "registered", "profile_image": "https://graph.facebook.com/1240664809308093/picture?type=large", "display_name": "Francesco Zappal&#224;", "link": "https://stackoverflow.com/users/6827763/francesco-zappal%c3%a0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 58105756, "answer_count": 1, "score": 1, "last_activity_date": 1569441592, "creation_date": 1569441120, "question_id": 58105669, "link": "https://stackoverflow.com/questions/58105669/c-excel-changes-the-date-format-when-i-write-a-date-in-a-worksheet", "title": "C# Excel changes the date format when I write a date in a worksheet", "body": "<p>I'm using this code to write a date on a cell</p>\n\n<pre><code>mWSheet1.Cells[row, 7] = \"01/12/2019\";\n</code></pre>\n\n<p>but when I open the Excel file, it saves \"12/01/2019\".\nHow can I solve it?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "razor", "url-routing"], "comments": [{"owner": {"reputation": 280, "user_id": 3011319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c4d93c76b29ca5ac85a4515ca9dd3a4?s=128&d=identicon&r=PG", "display_name": "Erik Humphrey", "link": "https://stackoverflow.com/users/3011319/erik-humphrey"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1569442378, "post_id": 58105656, "comment_id": 102602644, "body": "@RyanWilson Oops! Fixed."}, {"owner": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 1, "creation_date": 1569443652, "post_id": 58105656, "comment_id": 102603138, "body": "looks like your <code>Url.Action</code> needs updated. You have an <code>id</code> parameter but you are passing the whole model instead of just an id. Maybe try this: <code>@Url.Action(&quot;ExportServerInfo&quot;, &quot;ServerList&quot;, new { id = Model.Servers[i].Id })</code>"}, {"owner": {"reputation": 280, "user_id": 3011319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c4d93c76b29ca5ac85a4515ca9dd3a4?s=128&d=identicon&r=PG", "display_name": "Erik Humphrey", "link": "https://stackoverflow.com/users/3011319/erik-humphrey"}, "edited": false, "score": 0, "creation_date": 1569443957, "post_id": 58105656, "comment_id": 102603247, "body": "The entire <code>Server</code> should be passed because ExportServerInfo has to read.  Server doesn&#39;t have an <code>id</code> variable; I think that&#39;s just the default one for routing. Not sure what you&#39;re supposed to do if you have multiple arguments, but nothing happens otherwise; I tried passing it as <code>new { server = Model.Servers[i] })</code> and making the method <code>ExportServerInfo (Server server)</code>."}, {"owner": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 1, "creation_date": 1569444337, "post_id": 58105656, "comment_id": 102603375, "body": "ya that won&#39;t work like that. If you are just wanting to pass <code>Name</code> and <code>RamCapacity</code> then pass those has parameters like this: <code>@Url.Action(&quot;ExportServerInfo&quot;, &quot;ServerList&quot;, new { name = Model.Servers[i].Name, ram =Model.Servers[i].RamCapacity  })</code> then update your action to accept those parameters: <code>public void ExportServerInfo(string name, string ram)</code>. It would only work that way if you were posting form values, then the MVC model binder would map the posted values to your <code>Server</code> model."}, {"owner": {"reputation": 280, "user_id": 3011319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c4d93c76b29ca5ac85a4515ca9dd3a4?s=128&d=identicon&r=PG", "display_name": "Erik Humphrey", "link": "https://stackoverflow.com/users/3011319/erik-humphrey"}, "edited": false, "score": 0, "creation_date": 1569444990, "post_id": 58105656, "comment_id": 102603603, "body": "Ahhh; I feared as much. That worked; thanks. The button CSS is still a little off with this implementation for some reason, but it works. Feel free to submit it as answer!"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 1, "creation_date": 1569462824, "post_id": 58105656, "comment_id": 102607363, "body": "@ErikHumphrey Another option would be to serialize the object and pass it to your controller as a JSON string then deserialize it in the controller into a Server class object."}], "answers": [{"tags": [], "owner": {"reputation": 280, "user_id": 3011319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c4d93c76b29ca5ac85a4515ca9dd3a4?s=128&d=identicon&r=PG", "display_name": "Erik Humphrey", "link": "https://stackoverflow.com/users/3011319/erik-humphrey"}, "is_accepted": true, "score": 0, "last_activity_date": 1569939691, "creation_date": 1569939691, "answer_id": 58186866, "question_id": 58105656, "link": "https://stackoverflow.com/questions/58105656/passing-an-instance-of-a-class-as-an-argument-to-the-action-method-of-url-action/58186866#58186866", "title": "Passing an instance of a class as an argument to the action/method of Url.Action", "body": "<p>The object cannot be passed directly from the view to the controller. If you only have a few properties that need to be passed, pass those as arguments in the type declarator.</p>\n\n<p>If you must pass the entire object, <a href=\"http://www.newtonsoft.com/json/help/html/SerializingJSON.htm\" rel=\"nofollow noreferrer\">serialize the object</a> and pass it as a string argument.</p>\n\n<pre><code>&lt;div class=\"col-md-12\" align=\"right\"&gt;\n    &lt;a href=\"@Url.Action(\"ExportServerInfo\", \"ServerList\", new { s = Newtonsoft.Json.JsonConvert.SerializeObject(Model.Servers[i] })\" class=\"btn btn-primary\"&gt;\n        &lt;span class=\"glyphicon glyphicon-download-alt\" aria-hidden=\"true\"&gt;&lt;/span&gt;\n         @MainResource.SomeLocalizationString\n    &lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Adjust the method so that it takes in a string, then deserialize it and store it in a variable of the object's original type.</p>\n\n<pre><code>public void ExportServerInfo(string s)\n{\n    Server server = Newtonsoft.Json.JsonConvert.DeserializeObject&lt;Server&gt;(s);\n\n    // Do something with the Server\n    System.Diagnostics.Debug.WriteLine(server.Name);\n    System.Diagnostics.Debug.WriteLine(server.RamCapacity);\n}\n</code></pre>\n"}], "owner": {"reputation": 280, "user_id": 3011319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c4d93c76b29ca5ac85a4515ca9dd3a4?s=128&d=identicon&r=PG", "display_name": "Erik Humphrey", "link": "https://stackoverflow.com/users/3011319/erik-humphrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 58186866, "answer_count": 1, "score": 0, "last_activity_date": 1569939691, "creation_date": 1569441076, "last_edit_date": 1569445206, "question_id": 58105656, "link": "https://stackoverflow.com/questions/58105656/passing-an-instance-of-a-class-as-an-argument-to-the-action-method-of-url-action", "title": "Passing an instance of a class as an argument to the action/method of Url.Action", "body": "<p>My goal is to achieve the following:</p>\n\n<ol>\n<li>While on an ASP.NET page, the user selects a server from a list of <code>Server</code> objects.</li>\n<li>The user clicks a button to export information about that server.</li>\n<li>Clicking the button executes a C# method <code>ExportServerInfo()</code> with the current <code>Server</code> object (<code>Model.Servers[i]</code>) passed to it.</li>\n</ol>\n\n<p>The controller has the method:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public void ExportServerInfo(Server id)\n{\n    // Do something with the Server\n    System.Diagnostics.Debug.WriteLine(id.Name);\n    System.Diagnostics.Debug.WriteLine(id.RamCapacity);\n}\n</code></pre>\n\n<p>The view is a CSHTML file using Razor. This is the code for the button:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"col-md-12\" align=\"right\"&gt;\n    &lt;a href=\"@Url.Action(\"ExportServerInfo\", \"ServerList\", new { id = Model.Servers[i] })\" class=\"btn btn-primary\"&gt;\n        &lt;span class=\"glyphicon glyphicon-download-alt\" aria-hidden=\"true\"&gt;&lt;/span&gt;\n         @MainResource.SomeLocalizationString\n    &lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>HTML generated: <code>&lt;a href=\"/ServerList/ExportServerInfo/ProjectName.ViewModels.Server\" class=...&gt;</code></p>\n\n<p>When the button is clicked, the method <code>ExportServerInfo()</code> in the ServerListController class should be called with the selected <code>Server</code> as the only argument. Instead, the user is brought to <code>localhost:56789/ServerList/ExportServerInfo/ProjectName.ViewModels.Server</code> with an HTTP 404 error from the web server because it can't find it; that string alone doesn't indicate which server it is. The method isn't called at all. A similar solution I tried brought the user to a blank page with the above as a query string in the URL instead.</p>\n\n<p>When the user clicks the button, the method should be called, but instead, the user gets moved to a page (which 404s) and the method isn't called.</p>\n\n<hr>\n\n<p>The method is executed if the action has no argument/parameter:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"col-md-12\" align=\"right\"&gt;\n    &lt;a href=\"@Url.Action(\"ExportServerInfo\", \"ServerList\")\" class=\"btn btn-primary\"&gt;\n        &lt;span class=\"glyphicon glyphicon-download-alt\" aria-hidden=\"true\"&gt;&lt;/span&gt;\n         @MainResource.SomeLocalizationString\n    &lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>HTML generated: <code>&lt;a href=\"/ServerList/ExportServerInfo\" class=...&gt;</code></p>\n\n<p>The user clicks the button (\"visiting\" <code>/ServerList/ExportServerInfo</code>) but stays on the page, and the method runs (with no parameters). But the method must have a parameter to pass the <code>Server</code> back to the controller.</p>\n\n<hr>\n\n<p>Also, for some reason, the look of the button is fine when it works, but the highlight colours are a little off with the wrong implementation.</p>\n\n<p><strong>tl;dr:</strong> Argument isn't passed to the method, method never runs, user is routed to 404 page. Method needs a <code>Server</code> passed into it.</p>\n"}, {"tags": ["c#", "json.net"], "comments": [{"owner": {"reputation": 11, "user_id": 11842067, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VbyWEEULLwk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reYIKcl-kZlnOkeKS4M49cGfahMKg/photo.jpg?sz=128", "display_name": "Minesh Mohan", "link": "https://stackoverflow.com/users/11842067/minesh-mohan"}, "edited": false, "score": 0, "creation_date": 1569440975, "post_id": 58105623, "comment_id": 102602055, "body": "Please help to resolve the same"}, {"owner": {"reputation": 11, "user_id": 11842067, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VbyWEEULLwk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reYIKcl-kZlnOkeKS4M49cGfahMKg/photo.jpg?sz=128", "display_name": "Minesh Mohan", "link": "https://stackoverflow.com/users/11842067/minesh-mohan"}, "edited": false, "score": 0, "creation_date": 1569441026, "post_id": 58105623, "comment_id": 102602077, "body": "Actual value for the above :-   \\ \\cifs_BI-FileDumps\\BI-FileDumps\\"}, {"owner": {"reputation": 11, "user_id": 11842067, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VbyWEEULLwk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reYIKcl-kZlnOkeKS4M49cGfahMKg/photo.jpg?sz=128", "display_name": "Minesh Mohan", "link": "https://stackoverflow.com/users/11842067/minesh-mohan"}, "edited": false, "score": 0, "creation_date": 1569441040, "post_id": 58105623, "comment_id": 102602083, "body": "actual value starts with \\\\"}, {"owner": {"reputation": 45983, "user_id": 177883, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1e1f4dbb6e64ed8de79766168a3db197?s=128&d=identicon&r=PG", "display_name": "DarthVader", "link": "https://stackoverflow.com/users/177883/darthvader"}, "edited": false, "score": 0, "creation_date": 1569441090, "post_id": 58105623, "comment_id": 102602106, "body": "you will have to encode the field."}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1569441272, "post_id": 58105623, "comment_id": 102602186, "body": "Is the string you show what you see in the debugger?  What does it look like if you look at it in the Text Visualizer or the JSON Visualizer? (to get access to the visualizers in the debugger, look at the variable and click the little magnifying glass icon)"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1569444322, "post_id": 58105623, "comment_id": 102603370, "body": "If the string content is <b>actually</b> like that, then that is not JSON. If there had been one backslash in front of the double quotes, then perhaps, but not two, this looks like a doubly escaped string, and the debugger will only escape once."}], "answers": [{"comments": [{"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1569444276, "post_id": 58105700, "comment_id": 102603357, "body": "There should be no need to escape anything <b>before</b> serializing to json because any json serializer other than a homebrew one should properly escape problematic characters by itself."}, {"owner": {"reputation": 11, "user_id": 11842067, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VbyWEEULLwk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reYIKcl-kZlnOkeKS4M49cGfahMKg/photo.jpg?sz=128", "display_name": "Minesh Mohan", "link": "https://stackoverflow.com/users/11842067/minesh-mohan"}, "edited": false, "score": 0, "creation_date": 1569486256, "post_id": 58105700, "comment_id": 102614775, "body": "But the deserializing the below string is throwing error even it contains escape sequence"}, {"owner": {"reputation": 11, "user_id": 11842067, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VbyWEEULLwk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reYIKcl-kZlnOkeKS4M49cGfahMKg/photo.jpg?sz=128", "display_name": "Minesh Mohan", "link": "https://stackoverflow.com/users/11842067/minesh-mohan"}, "edited": false, "score": 0, "creation_date": 1569486261, "post_id": 58105700, "comment_id": 102614777, "body": "&quot;{\\&quot;count\\&quot;:1,\\r\\n\\&quot;value\\&quot;:[\\r\\n{\\&quot;HOST\\&quot;:\\&quot;\\\\\\\\cifs_BI-Fil&zwnj;&#8203;eDumps\\\\BI-FileDumps&zwnj;&#8203;\\\\\\&quot;}]}&quot;"}], "tags": [], "owner": {"reputation": 45983, "user_id": 177883, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1e1f4dbb6e64ed8de79766168a3db197?s=128&d=identicon&r=PG", "display_name": "DarthVader", "link": "https://stackoverflow.com/users/177883/darthvader"}, "is_accepted": false, "score": 0, "last_activity_date": 1569441249, "creation_date": 1569441249, "answer_id": 58105700, "question_id": 58105623, "link": "https://stackoverflow.com/questions/58105623/newtonsoft-json-string-deserialization-with-escape-character-issue/58105700#58105700", "title": "Newtonsoft JSON string deserialization with \\ escape character issue", "body": "<p>You need to escape <code>\\</code> therefore before serializing, encode that field. After you deserialize you should decode back. </p>\n\n<p><code>\\cifs_BI-FileDumps\\BI-FileDumps\\</code> becomes: </p>\n\n<p><code>%5Ccifs_BI-FileDumps%5CBI-FileDumps%5C</code> after you encode it. </p>\n\n<p>And works other way around when you decode it. </p>\n"}], "owner": {"reputation": 11, "user_id": 11842067, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VbyWEEULLwk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reYIKcl-kZlnOkeKS4M49cGfahMKg/photo.jpg?sz=128", "display_name": "Minesh Mohan", "link": "https://stackoverflow.com/users/11842067/minesh-mohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569443861, "creation_date": 1569440948, "last_edit_date": 1569443861, "question_id": 58105623, "link": "https://stackoverflow.com/questions/58105623/newtonsoft-json-string-deserialization-with-escape-character-issue", "title": "Newtonsoft JSON string deserialization with \\ escape character issue", "body": "<p>We have a serialized JSON string like this:</p>\n\n<pre><code>{\\\\\"count\\\":1,\\r\\n\\\"value\\\":[\\r\\n{\\\"HOST\\\":\\\"\\\\\\\\cifs_BI-FileDumps\\\\BI-FileDumps\\\\\\\"}]}\n</code></pre>\n\n<p>Actual value for the above:</p>\n\n<pre><code>\\\\cifs_BI-FileDumps\\BI-FileDumps\\\n</code></pre>\n\n<p>I tried to convert this with online JSON parser and its working fine as well as valid JSON.</p>\n\n<p>But when we try to deserialize it, we get this error:</p>\n\n<blockquote>\n  <p>Executed 'ExecuteQueryFunction' (Failed, Id=d6a4875e-7aa8-47e8-b298-16d50f4807b5) System.Private.CoreLib:<br>\n  Exception while executing function: ExecuteQueryFunction.<br>\n  Newtonsoft.Json: Bad JSON escape sequence: \\B. Path 'value[0].HOST', line 3, position 30.</p>\n</blockquote>\n"}, {"tags": ["c#", "visual-studio", "unity3d"], "comments": [{"owner": {"reputation": 2860, "user_id": 12046148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039c7e7445eb52d65ba41f7ecdf27e04?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg", "link": "https://stackoverflow.com/users/12046148/oleg"}, "edited": false, "score": 0, "creation_date": 1569441003, "post_id": 58105608, "comment_id": 102602065, "body": "Look at <a href=\"https://answers.unity.com/questions/658928/how-to-destroy-an-instantiated-prefab-in-c.html\" rel=\"nofollow noreferrer\" title=\"how to destroy an instantiated prefab in c.html\">answers.unity.com/questions/658928/&hellip;</a>"}, {"owner": {"reputation": 2860, "user_id": 12046148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039c7e7445eb52d65ba41f7ecdf27e04?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg", "link": "https://stackoverflow.com/users/12046148/oleg"}, "edited": false, "score": 0, "creation_date": 1569441099, "post_id": 58105608, "comment_id": 102602108, "body": "InstaniateObject = Instantiate(crackedObject..."}], "answers": [{"tags": [], "owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "is_accepted": false, "score": 3, "last_activity_date": 1569441242, "creation_date": 1569441242, "answer_id": 58105699, "question_id": 58105608, "link": "https://stackoverflow.com/questions/58105608/how-to-destroy-instantiated-objects/58105699#58105699", "title": "how to destroy instantiated objects", "body": "<p>By storing a reference to it</p>\n\n<pre><code>var obj = Instantiate(crackedObject, transform.position, transform.rotation);\nDestroy(gameObject);\nDestroy(obj, 3f);\n</code></pre>\n\n<p>what you did is trying to destroy the original (assuming Prefab) reference which you shouldn't.</p>\n"}], "owner": {"reputation": 11, "user_id": 9919166, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lLvVIePlxIQ/AAAAAAAAAAI/AAAAAAAAAAA/7j0d8V3dsSY/photo.jpg?sz=128", "display_name": "frederik Niebling", "link": "https://stackoverflow.com/users/9919166/frederik-niebling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569441242, "creation_date": 1569440880, "question_id": 58105608, "link": "https://stackoverflow.com/questions/58105608/how-to-destroy-instantiated-objects", "title": "how to destroy instantiated objects", "body": "<p>I'm making a 3d game in unity and I made a animation that destroys a cube into pieces. but the small pieces of the cube stays in the scene and will give some performance issues later. I tried to destroy my gameobject afterward using this method:</p>\n\n<pre><code>public GameObject crackedObject;\n// Start is called before the first frame update\nprivate void OnCollisionEnter(Collision collision)\n{\n    if (collision.gameObject.name == \"Sphere\")\n    {\n        Instantiate(crackedObject, transform.position, transform.rotation);\n        Destroy(gameObject);\n        Destroy(crackedObject, 3f);\n\n    }\n}\n</code></pre>\n\n<p>this code is placed on my cube. but it can't destroy the clones of my cubes after the collision. it destroys (gameobject) but not (crackedObject)</p>\n"}, {"tags": ["c#", "arrays", "json", "serialization", "json.net"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8480657, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NM0A-7mS6OI/AAAAAAAAAAI/AAAAAAAACHA/VY56sYbXK5w/photo.jpg?sz=128", "display_name": "Dovydas Vai\u010diukynas", "link": "https://stackoverflow.com/users/8480657/dovydas-vai%c4%8diukynas"}, "edited": false, "score": 0, "creation_date": 1569455710, "post_id": 58105704, "comment_id": 102606124, "body": "Yeah, well Formatting.None puts everything into a single line of Json data"}], "tags": [], "owner": {"reputation": 931, "user_id": 1663657, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6KKFl.jpg?s=128&g=1", "display_name": "Renan Barbosa", "link": "https://stackoverflow.com/users/1663657/renan-barbosa"}, "is_accepted": false, "score": -1, "last_activity_date": 1569441268, "creation_date": 1569441268, "answer_id": 58105704, "question_id": 58105587, "link": "https://stackoverflow.com/questions/58105587/how-do-i-prevent-jsonwriter-from-adding-too-many-newlines-while-serializing-a-mu/58105704#58105704", "title": "How do I prevent JsonWriter from adding too many newlines while serializing a multidimensional array?", "body": "<pre><code>writer.Formatting = Formatting.None;\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>writer.Formatting = Formatting.Indented;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "reply_to_user": {"reputation": 13, "user_id": 8480657, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NM0A-7mS6OI/AAAAAAAAAAI/AAAAAAAACHA/VY56sYbXK5w/photo.jpg?sz=128", "display_name": "Dovydas Vai\u010diukynas", "link": "https://stackoverflow.com/users/8480657/dovydas-vai%c4%8diukynas"}, "edited": false, "score": 0, "creation_date": 1569510930, "post_id": 58109041, "comment_id": 102628678, "body": "No problem; glad I could help."}], "tags": [], "owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "is_accepted": true, "score": 0, "last_activity_date": 1569468054, "last_edit_date": 1569468054, "creation_date": 1569467314, "answer_id": 58109041, "question_id": 58105587, "link": "https://stackoverflow.com/questions/58105587/how-do-i-prevent-jsonwriter-from-adding-too-many-newlines-while-serializing-a-mu/58109041#58109041", "title": "How do I prevent JsonWriter from adding too many newlines while serializing a multidimensional array?", "body": "<p>You could make a custom <a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_JsonConverter.htm\" rel=\"nofollow noreferrer\"><code>JsonConverter</code></a> to toggle the writer's <code>Formatting</code> setting to <code>None</code> at the appropriate intervals:</p>\n\n<pre><code>public class CustomFormattingMatrixConverter : JsonConverter\n{\n    public override bool CanConvert(Type objectType)\n    {\n        return objectType == typeof(int[,]);\n    }\n\n    public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n    {\n        int[,] array = (int[,])value;\n        writer.WriteStartArray();\n        for (int i = 0, bound0 = array.GetUpperBound(0); i &lt;= bound0; i++)\n        {\n            writer.WriteStartArray();\n            writer.Formatting = Formatting.None;\n            for (int j = 0, bound1 = array.GetUpperBound(1); j &lt;= bound1; j++)\n            {\n                writer.WriteValue(array[i, j]);\n            }\n            writer.WriteEndArray();\n            writer.Formatting = Formatting.Indented;\n        }\n        writer.WriteEndArray();\n    }\n\n    public override bool CanRead\n    {\n        get { return false; }\n    }\n\n    public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n    {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n\n<p>Then use it with your serializer like this:</p>\n\n<pre><code>JsonSerializer serializer = new JsonSerializer();\nserializer.Converters.Add(new CustomFormattingMatrixConverter());\n\nwriter.Formatting = Formatting.Indented;\nserializer.Serialize(writer, obj);\n</code></pre>\n\n<p>Working demo here:  <a href=\"https://dotnetfiddle.net/q3P0en\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/q3P0en</a></p>\n"}], "owner": {"reputation": 13, "user_id": 8480657, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NM0A-7mS6OI/AAAAAAAAAAI/AAAAAAAACHA/VY56sYbXK5w/photo.jpg?sz=128", "display_name": "Dovydas Vai\u010diukynas", "link": "https://stackoverflow.com/users/8480657/dovydas-vai%c4%8diukynas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 58109041, "answer_count": 2, "score": 1, "last_activity_date": 1569468326, "creation_date": 1569440818, "last_edit_date": 1569468326, "question_id": 58105587, "link": "https://stackoverflow.com/questions/58105587/how-do-i-prevent-jsonwriter-from-adding-too-many-newlines-while-serializing-a-mu", "title": "How do I prevent JsonWriter from adding too many newlines while serializing a multidimensional array?", "body": "<p>Recently I have been working on a tilemap editor. I am using C#, MonoGame, and Newtonsoft.Json\nBasically I want to serialize a Map class with a list of Layer classes.\nThe problem is, when serializing <code>int[,] MAP</code> inside of the Layer class, it is adding newlines for each element of the array.</p>\n\n<p>I want to achieve this output:</p>\n\n<pre><code>\"MAP\": \n  [\n    [17,17,17,17,17,17,17,17,17,17],\n    [17,17,17,17,17,17,17,17,17,17],\n    [17,17,17,17,17,17,17,17,17,17],\n    [17,17,17,17,17,17,17,17,17,17],\n    [17,17,17,17,17,17,17,17,17,17],\n    [17,17,17,17,17,17,17,17,17,17],\n    [17,17,17,17,17,17,17,17,17,17],\n    [17,17,17,17,17,17,17,17,17,17],\n    [17,17,17,17,17,17,17,17,17,17],\n    [17,17,17,17,17,17,17,17,17,17]\n  ]\n</code></pre>\n\n<p>What I get instead:</p>\n\n<pre><code>\"MAP\": \n  [\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17\n  ],\n  [\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17,\n    17\n  ],\n  and so on\n</code></pre>\n\n<p>How can I avoid this?</p>\n\n<p>My serialization code:</p>\n\n<pre><code>public void Save(string path, object obj)\n{\n   using (TextWriter sw = new StreamWriter(path))\n   using (JsonWriter writer = new JsonTextWriter(sw))\n   {\n        JsonSerializer serializer = new JsonSerializer();\n\n        writer.Formatting = Formatting.Indented;\n        serializer.Serialize(writer, obj);\n        writer.Close();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wcf"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7116024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43f62584a62f95751b2f5ed75f50331c?s=128&d=identicon&r=PG&f=1", "display_name": "HelplessInterns", "link": "https://stackoverflow.com/users/7116024/helplessinterns"}, "edited": false, "score": 0, "creation_date": 1569604663, "post_id": 58109053, "comment_id": 102664325, "body": "okay, excuse my ignorance as I am very new to web services. Creating that custom channel makes sense, but I am unsure how I would use the channel with my proxy class. The constructor that my webservice uses calls for a binding and an endpoint. Is the binding and channel almost the same thing?"}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 15, "user_id": 7116024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43f62584a62f95751b2f5ed75f50331c?s=128&d=identicon&r=PG&f=1", "display_name": "HelplessInterns", "link": "https://stackoverflow.com/users/7116024/helplessinterns"}, "edited": false, "score": 0, "creation_date": 1569827871, "post_id": 58109053, "comment_id": 102707916, "body": "Sorry for the late response. Em, almost, the client proxy is also implemented by the creation of the communication channel. The shape of the WCF channel consists of binding and endpoint address. Calling services through proxy classes and invoking services through channel factory is one thing."}], "tags": [], "owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "is_accepted": false, "score": 0, "last_activity_date": 1569467438, "creation_date": 1569467438, "answer_id": 58109053, "question_id": 58105574, "link": "https://stackoverflow.com/questions/58105574/pulling-custom-binding-from-arbitrary-config-file/58109053#58109053", "title": "Pulling Custom Binding from arbitrary config file", "body": "<p>Can you transform the custom binding to a regular binding, apply it in the regular configuration file? it appears to be that you have transformed it properly and the main issue is how to read it on the client-side from another configuration file.<br>\nHere is an example of how to read the configuration from another configuration.<br>\n<a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wcf/samples/configuration-channel-factory\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/framework/wcf/samples/configuration-channel-factory</a><br>\nThere are some points we should pay utmost attention to in this example (the same applies to your current situation).  </p>\n\n<ol>\n<li><p>We should ensure that the project could find another configuration\nproperly. Generally, we do the below changes.<br>\n<a href=\"https://i.stack.imgur.com/z7tc7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z7tc7.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>The endpoint name and endpoint address should correspond to the configuration file.</p></li>\n</ol>\n\n<pre><code>\n    ConfigurationChannelFactory factory1 = new \n    ConfigurationChannelFactory(\"BasicHttpBinding_IService1\", newConfiguration, \n    new EndpointAddress(\"http://10.157.13.70:8080\"));\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;system.serviceModel&gt;\n    &lt;bindings&gt;\n      &lt;basicHttpBinding&gt;\n        &lt;binding name=\"BasicHttpBinding_IService1\" /&gt;\n        &lt;binding name=\"BasicHttpBinding_ITestService\" /&gt;\n      &lt;/basicHttpBinding&gt;\n    &lt;/bindings&gt;\n    &lt;client&gt;\n       &lt;!--pay attention to the Contract property. it should be in the client-side.--&gt;\n      &lt;endpoint address=\"http://10.157.13.70:8080/\" binding=\"basicHttpBinding\"\n          bindingConfiguration=\"BasicHttpBinding_IService1\" contract=\"SimpleTest.IService1\"\n          name=\"BasicHttpBinding_IService1\" /&gt;\n      &lt;endpoint address=\"http://10.157.13.69:4386/\" binding=\"basicHttpBinding\"\n          bindingConfiguration=\"BasicHttpBinding_ITestService\" contract=\"SimpleTest.ITestService\"\n          name=\"BasicHttpBinding_ITestService\" /&gt;\n    &lt;/client&gt;\n  &lt;/system.serviceModel&gt;\n</code></pre>\n\n<p>Feel free to let me know if the problem still exists.</p>\n"}], "owner": {"reputation": 15, "user_id": 7116024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43f62584a62f95751b2f5ed75f50331c?s=128&d=identicon&r=PG&f=1", "display_name": "HelplessInterns", "link": "https://stackoverflow.com/users/7116024/helplessinterns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569467438, "creation_date": 1569440785, "last_edit_date": 1569442298, "question_id": 58105574, "link": "https://stackoverflow.com/questions/58105574/pulling-custom-binding-from-arbitrary-config-file", "title": "Pulling Custom Binding from arbitrary config file", "body": "<p>I am connecting to a web service that requires a custom binding. I have it working, but the issue is I am not able to leave the custom binding in the <em>app.config</em>. I put another <em>*.config</em> file in the project and I am trying to read from it. I'm able to find the binding I want, but it comes out as a BindingElement. Any idea of how to convert this to a regular binding?</p>\n\n<pre><code>        string assemblyPath = Path.Combine(Path.GetDirectoryName(Assembly.GetExecutingAssembly().GetName().CodeBase), @\"my.config\");\n\n        assemblyPath = assemblyPath.Replace(@\"file:\\\", \"\");\n\n        ExeConfigurationFileMap exeConfigurationFileMap = new ExeConfigurationFileMap();\n        exeConfigurationFileMap.ExeConfigFilename = assemblyPath;\n\n        Configuration configuration = ConfigurationManager.OpenMappedExeConfiguration(exeConfigurationFileMap, ConfigurationUserLevel.None);\n\n        ServiceModelSectionGroup serviceModelSectionGroup = ServiceModelSectionGroup.GetSectionGroup(configuration);\n\n        var BindingsSection = serviceModelSectionGroup.Bindings;\n\n        //Console.WriteLine(temp.Name);\n        //Console.WriteLine(temp.GetType());\n\n        //does not pull from the loaded config, but if i stick it in the app regular config it works\n        var binding = new CustomBinding(\"MyCustomBinding\");\n\n\n\n\n        var endPoint = CreateEndPointAddress(new X509Certificate2(GetCertificate(thumbprint)), url);\n        var client = new MyWebService(binding, endPoint);\n</code></pre>\n\n<p>'''</p>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 1, "creation_date": 1569441049, "post_id": 58105568, "comment_id": 102602087, "body": "INSERT queries usually don&#39;t have a WHERE clause.  If you are trying to change the values, use an UPDATE query."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12064315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q1HzSpw6bsY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDVo35LgtqAKlsWl_3fppBNbdxRA/photo.jpg?sz=128", "display_name": "Stratos Eftychiadis", "link": "https://stackoverflow.com/users/12064315/stratos-eftychiadis"}, "edited": false, "score": 1, "creation_date": 1569443498, "post_id": 58105642, "comment_id": 102603083, "body": "Of course it was update instead of insert... It worked as it was intended to. Many thanks!"}], "tags": [], "owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "is_accepted": true, "score": 1, "last_activity_date": 1569441037, "creation_date": 1569441037, "answer_id": 58105642, "question_id": 58105568, "link": "https://stackoverflow.com/questions/58105568/how-to-fill-a-column-of-a-certain-field-which-has-a-certain-id-in-the-database/58105642#58105642", "title": "How to fill a column of a certain field which has a certain Id in the database", "body": "<p>Instead of insert, you want to do an update. You'll also need to add the ID as a parameter for the where clause.</p>\n\n<pre><code>\"update data set FirstNameOfChild=@FirstNameOfChild,LastNameOfChild=@LastNameOfChild,Age=@Age where Id = @TransitionPhoneId\"\n</code></pre>\n\n<p>Keep the parameters you're already adding and add the ID parameter as well:</p>\n\n<pre><code>cmd1.Parameters.AddWithValue(\"@TransitionPhoneId\", TransitionPhone.Id);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12064315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q1HzSpw6bsY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDVo35LgtqAKlsWl_3fppBNbdxRA/photo.jpg?sz=128", "display_name": "Stratos Eftychiadis", "link": "https://stackoverflow.com/users/12064315/stratos-eftychiadis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 58105642, "answer_count": 1, "score": 0, "last_activity_date": 1569443878, "creation_date": 1569440753, "last_edit_date": 1569443878, "question_id": 58105568, "link": "https://stackoverflow.com/questions/58105568/how-to-fill-a-column-of-a-certain-field-which-has-a-certain-id-in-the-database", "title": "How to fill a column of a certain field which has a certain Id in the database", "body": "<p>I want to access a row that has a certain id and add new values in this row, but not in the id column. The id is used only to locate the correct row.</p>\n\n<pre><code>`SqlCommand cmd1 = new SqlCommand(\"Insert into data(FirstNameOfChild,LastNameOfChild,Age) values(@FirstNameOfChild,@LastNameOfChild,@Age) where Id = @TransitionPhone.Id\", con3);\ncmd1.Parameters.AddWithValue(\"@FirstNameOfChild\", childNameBOX.Text);\ncmd1.Parameters.AddWithValue(\"@LastNameOfChild\", lastChildBOX.Text);\ncmd1.Parameters.AddWithValue(\"@Age\", ageBOX.Text);\ncmd1.ExecuteNonQuery();`\n</code></pre>\n\n<p>My problem is that I do not know how to access this specific id. My current attempt is the <code>where Id</code> command, which outputs an error. <code>TransitionPhone.Id</code> is an integer containing the id that I want.</p>\n"}, {"tags": ["c#", "arrays"], "comments": [{"owner": {"reputation": 1980, "user_id": 4977870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XYtfY.jpg?s=128&g=1", "display_name": "Anas Alweish", "link": "https://stackoverflow.com/users/4977870/anas-alweish"}, "edited": false, "score": 0, "creation_date": 1569440790, "post_id": 58105554, "comment_id": 102601937, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16265247/printing-all-contents-of-array-in-c-sharp\">printing all contents of array in C#</a>"}, {"owner": {"reputation": 4345, "user_id": 12067560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1YrPJ.jpg?s=128&g=1", "display_name": "Corentin Pane", "link": "https://stackoverflow.com/users/12067560/corentin-pane"}, "edited": false, "score": 0, "creation_date": 1569440853, "post_id": 58105554, "comment_id": 102601966, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.string.join?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 0, "creation_date": 1569440890, "post_id": 58105554, "comment_id": 102601988, "body": "<code>string.Join</code> accepts a string that gets inserting between each element of the array, and an array to join together. So, your second code is saying: Join the elements of <code>array1</code> with <code>&quot;, &quot;</code> (a comma and a space) in between each element. Does this clear it up a little? Where are you confused?"}, {"owner": {"reputation": 81, "user_id": 12071277, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q13IYzkW-PU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0Pz9GE760KJTJ8jzHaUIkeQjDEA/photo.jpg?sz=128", "display_name": "XxDanxX", "link": "https://stackoverflow.com/users/12071277/xxdanxx"}, "reply_to_user": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 0, "creation_date": 1569441014, "post_id": 58105554, "comment_id": 102602069, "body": "What is the purpose of <code>&quot;[{0}]&quot;</code>? @dvo"}, {"owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 0, "creation_date": 1569441191, "post_id": 58105554, "comment_id": 102602151, "body": "@XxDanxX That is the same as <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.string.format?view=netframework-4.8#System_String_Format_System_String_System_Object_\" rel=\"nofollow noreferrer\">string.Format</a> where the <code>{0}</code> is replaced by the first object passed after the comma. So this will print out: <code>[{your array}]</code> (replacing the <code>{0}</code> with your array string). This will print the same as <code>&quot;[&quot; + {your string.Join} + &quot;]&quot;</code>."}, {"owner": {"reputation": 81, "user_id": 12071277, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q13IYzkW-PU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0Pz9GE760KJTJ8jzHaUIkeQjDEA/photo.jpg?sz=128", "display_name": "XxDanxX", "link": "https://stackoverflow.com/users/12071277/xxdanxx"}, "reply_to_user": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 0, "creation_date": 1569441789, "post_id": 58105554, "comment_id": 102602413, "body": "@dvo Thanks, that slightly clears up the confusion. But I&#39;m still kinda confused on the whole string.Join - Should I just remember that the whole point of it, is tolo go in array and join all the elements together? - Also, you said string.Join accepts a string. But how does it accept a string when my array is numbers, not characters? Lastly, with the {0} part how does it know to place that in between the brackets? It is after in speech marks so why does it input the element instead of 0?"}, {"owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 0, "creation_date": 1569442051, "post_id": 58105554, "comment_id": 102602519, "body": "@XxDanxX The array can be an array of anything. It will print whatever would print if you called <code>.ToString()</code> on each element of the array. As for your other question. Exactly &quot;<code>{0}</code>&quot; gets replaced. So if you had <code>&quot;foo{0}bar&quot;, &quot;ANY&quot;</code>, it would output <code>fooANYbar</code>. Hope that makes sense."}, {"owner": {"reputation": 81, "user_id": 12071277, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q13IYzkW-PU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0Pz9GE760KJTJ8jzHaUIkeQjDEA/photo.jpg?sz=128", "display_name": "XxDanxX", "link": "https://stackoverflow.com/users/12071277/xxdanxx"}, "reply_to_user": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 0, "creation_date": 1569442350, "post_id": 58105554, "comment_id": 102602633, "body": "It kinda makes sense. However I&#39;m still confused lol - It&#39;s all good, I mainly understand it. Thanks for clarifying it up a bit for me! @dvo"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7703126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b75a252bae2c7c087ade12a16070322?s=128&d=identicon&r=PG&f=1", "display_name": "Liam Tuite", "link": "https://stackoverflow.com/users/7703126/liam-tuite"}, "is_accepted": false, "score": 0, "last_activity_date": 1571414685, "creation_date": 1571414685, "answer_id": 58454506, "question_id": 58105554, "link": "https://stackoverflow.com/questions/58105554/printing-all-contents-from-an-array-in-a-single-line-c/58454506#58454506", "title": "Printing all contents from an array in a single line C#", "body": "<p>It might help to understand that this code:</p>\n\n<pre><code>Console.WriteLine(\"{0}\", string.Join(\", \", array1));\n</code></pre>\n\n<p>Is pretty much the same as this code:</p>\n\n<pre><code>string allContents = string.Join(\", \", array1);\nConsole.WriteLine(allContents);\n</code></pre>\n\n<p>Microsoft Docs defines string.Join as follows:</p>\n\n<blockquote>\n  <p>Concatenates the elements of a specified array or the members of a collection, using the specified separator between each element or member.</p>\n</blockquote>\n\n<p>If you ever don't understand what a method does, you can look it up there for some help :)</p>\n\n<p>The \"{0}\" part of the string is replaced by the first (index 0) argument which comes after it. So in your case, this is the evaluation of \"string.Join(\", \", array1)\". This is known as Composite Formatting, and you can read more about it <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/base-types/composite-formatting\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Basically, when Console.WriteLine encounters numbers (or special formats) enclosed in curly brackets, along with additional objects (which specify the objects to be formatted), then it treats those curly brackets as special characters and it formats the values passed into them accordingly. If you want to actually print the curly bracket characters, then you need to 'escape' them by using \"{{\" instead of \"{\", and \"}}\" instead of \"}\".This can be demonstrated by testing some variations:</p>\n\n<pre><code>Console.WriteLine(\"{0} {1} {2} {3} {4}\", \"this\", \"is\", \"a\", \"test\", \"string\"); // Prints \"this is a test string\".\nConsole.WriteLine(\"{0} {1} {0} {4} {3}\", \"this\", \"is\", \"a\", \"test\", \"string\"); // Prints \"this is this string test\" - note you can order the arguments whatever way you like and also reuse them.\nConsole.WriteLine(\"{{0}}\", string.Join(\", \", array1)); // Prints \"{0}\", as the curly brackets are 'escaped', meaning they are treated literally. The other arguments are ignored as no string contained within curly brackets was detected.\nConsole.WriteLine(\"{0}\"); // Prints \"{0}\" exactly as it's written, as there are no arguments to be formatted.\nConsole.WriteLine(\"[{asdf}]\", string.Join(\", \", array1)); // throws an exception, because an invalid format is enclosed in curly brackets.\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 12071277, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q13IYzkW-PU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0Pz9GE760KJTJ8jzHaUIkeQjDEA/photo.jpg?sz=128", "display_name": "XxDanxX", "link": "https://stackoverflow.com/users/12071277/xxdanxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1571414685, "creation_date": 1569440699, "question_id": 58105554, "link": "https://stackoverflow.com/questions/58105554/printing-all-contents-from-an-array-in-a-single-line-c", "title": "Printing all contents from an array in a single line C#", "body": "<p>I am wanting to output the whole array in a single line. I know how to do one each line which would be:</p>\n\n<pre><code>Array.ForEach(array1, Console.WriteLine);\n</code></pre>\n\n<p>I saw that to print it all out in 1 line it is like this: </p>\n\n<pre><code>Console.WriteLine(\"[{0}]\", string.Join(\", \", array1));\n</code></pre>\n\n<p>But i don't really understand what that piece of code is actually doing - If there is a more basic version to understand please let me know, if not then could you please explain what it is doing? </p>\n"}, {"tags": ["c#", ".net", "asp.net-mvc", "linq"], "comments": [{"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 2, "creation_date": 1569440762, "post_id": 58105506, "comment_id": 102601916, "body": "You can&#39;t pass methods like this to LINQ to Entities or Entity Framework as the expression has to be able to be converted to SQL."}, {"owner": {"reputation": 145, "user_id": 3686567, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ChHWf.jpg?s=128&g=1", "display_name": "JakeFromStateFarm", "link": "https://stackoverflow.com/users/3686567/jakefromstatefarm"}, "reply_to_user": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1569441649, "post_id": 58105506, "comment_id": 102602345, "body": "So I guess the only way to set the value using my function would be to use a foreach to loop through the &quot;assets&quot; list after the list is created, and set the value there? That would slow things down a bit."}], "answers": [{"tags": [], "owner": {"reputation": 145, "user_id": 3686567, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ChHWf.jpg?s=128&g=1", "display_name": "JakeFromStateFarm", "link": "https://stackoverflow.com/users/3686567/jakefromstatefarm"}, "is_accepted": false, "score": 1, "last_activity_date": 1569443915, "creation_date": 1569443915, "answer_id": 58106222, "question_id": 58105506, "link": "https://stackoverflow.com/questions/58105506/linq-to-entities-does-not-recognize-the-method-system-string-setassetstatusint/58106222#58106222", "title": "LINQ to Entities does not recognize the method &#39;System.String SetAssetStatus(Int32)&#39; method", "body": "<p>A workaround I finally found online is using AsEnumerable() in my LINQ query, just before the .Select():</p>\n\n<pre><code>var assets = assetList.Where(x =&gt; x.HardwareType_SK != 37 &amp;&amp; x.HardwareType_SK != 28 &amp;&amp; x.IsActive &amp;&amp; x.IsVisible &amp;&amp; x.Parent == null &amp;&amp; x.Asset_SK == 49).OrderBy(x =&gt; x.SortOrder).AsEnumerable().Select(x =&gt; new Models.Asset()\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 3686567, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ChHWf.jpg?s=128&g=1", "display_name": "JakeFromStateFarm", "link": "https://stackoverflow.com/users/3686567/jakefromstatefarm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569443915, "creation_date": 1569440476, "question_id": 58105506, "link": "https://stackoverflow.com/questions/58105506/linq-to-entities-does-not-recognize-the-method-system-string-setassetstatusint", "title": "LINQ to Entities does not recognize the method &#39;System.String SetAssetStatus(Int32)&#39; method", "body": "<p>I'm trying to set a value using a function, inside of a linq select new() block:</p>\n\n<pre><code>            var assetList = DbContext.Assets.Where(x =&gt; x.IsActive &amp;&amp; x.Parent == null);\n\n            var assets = assetList.Where(x =&gt; x.HardwareType_SK != 37 &amp;&amp; x.HardwareType_SK != 28 &amp;&amp; x.IsActive &amp;&amp; x.IsVisible &amp;&amp; x.Parent == null).OrderBy(x =&gt; x.SortOrder).Select(x =&gt; new Models.Asset()\n            {\n                ID = x.Asset_SK,\n                Status = SetAssetStatus(x.Asset_SK),\n                Description = x.Description,\n                AssociatedCNEStatus = \"fmc\",\n                ChildStatus = \"fmc\",\n                NetworkStatus = \"\",\n                Abbreviation = x.Name,\n                Number = x.SortOrder.ToString(),\n                Name = x.Name,\n                Enviroment = \"dev\",\n                IsEmpty = x.AssetType_SK == 8,\n                SiteID = x.Site_SK,\n                HardwareDescription = x.HardwareType.Description,\n                HardwareType_SK = x.HardwareType_SK\n            });\n</code></pre>\n\n<p>It is failing here:</p>\n\n<pre><code>Status = SetAssetStatus(x.Asset_SK),\n</code></pre>\n\n<p>My method:</p>\n\n<pre><code>        public string SetAssetStatus(int assetID)\n        {\n            //var assetIntID = int.Parse(assetID);\n            var problemReportStatuses = DbContext.ProblemReportDetails.Where(x =&gt; x.ProblemReport.Asset_SK == assetID).OrderByDescending(x =&gt; x.MaintenanceStatus_SK).Select(x =&gt; x.MaintenanceStatus_SK).ToList();\n            if (problemReportStatuses.Min() == 1)\n            {\n                return \"fmc\";\n            }\n            else if(problemReportStatuses.Min() == 2)\n            {\n                return \"pmc\";\n            }\n            else\n            {\n                return \"nmc\";\n            }\n        }\n</code></pre>\n\n<p>I get the following:</p>\n\n<p>LINQ to Entities does not recognize the method 'System.String SetAssetStatus(Int32)' method, and this method cannot be translated into a store expression</p>\n\n<p>Am I not allowed to pass the database value (x.Asset_SK) into my function to use?</p>\n\n<p>I've tried using int.Parse(X.Asset_SK) and x.Asset_SK.ToString() but same error..</p>\n"}, {"tags": ["c#", "asp.net", "gridview"], "comments": [{"owner": {"reputation": 2194, "user_id": 4308286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/cTDez.jpg?s=128&g=1", "display_name": "Jamshaid K.", "link": "https://stackoverflow.com/users/4308286/jamshaid-k"}, "edited": false, "score": 0, "creation_date": 1569452973, "post_id": 58105464, "comment_id": 102605650, "body": "Please post your aspx markup as well."}, {"owner": {"reputation": 1, "user_id": 9560144, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sangam Rawat", "link": "https://stackoverflow.com/users/9560144/sangam-rawat"}, "reply_to_user": {"reputation": 2194, "user_id": 4308286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/cTDez.jpg?s=128&g=1", "display_name": "Jamshaid K.", "link": "https://stackoverflow.com/users/4308286/jamshaid-k"}, "edited": false, "score": 0, "creation_date": 1569593464, "post_id": 58105464, "comment_id": 102659077, "body": "Jamshaid Kamran I have added images from my code"}], "owner": {"reputation": 1, "user_id": 9560144, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sangam Rawat", "link": "https://stackoverflow.com/users/9560144/sangam-rawat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569593571, "creation_date": 1569440305, "last_edit_date": 1569593571, "question_id": 58105464, "link": "https://stackoverflow.com/questions/58105464/why-does-gridview-dropdownlist-selectedindex-is-always-2-not-even-0-or-1-or-3", "title": "Why does gridview dropdownlist selectedIndex is always 2 (Not even 0 or 1 or 3) on selectedIndexChange?", "body": "<p>I bind a dropdown list in GridView on <code>gv_RowDataBound</code>. During <code>gv_onSelectionIndexChanged</code>, </p>\n\n<p>the selected index is always 2 which is the third value in the dropdown list in spite of choosing any other value. </p>\n\n<p>I have tried getting index value, selected value or selected item, it is always index 2.</p>\n\n<p><a href=\"https://i.stack.imgur.com/BNXaB.png\" rel=\"nofollow noreferrer\">Gridview Image 1</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/CPhLp.png\" rel=\"nofollow noreferrer\">Gridview Image 2</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/zxuaa.png\" rel=\"nofollow noreferrer\">Code for onRowDataBound</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/5xNfe.png\" rel=\"nofollow noreferrer\">Code where I am trying to get DropDownList selected value or index or anything</a></p>\n\n<p>\n                    \n                        \n                            \n                                ' Font-Size=\"Small\"\n                                    Width=\"40px\">\n                                \n                            \n                        \n                        \n                            \n                                ' Font-Size=\"Small\"\n                                    Width=\"40px\">\n                                \n                            \n                        \n                        \n                            \n                                ' Font-Size=\"Small\"\n                                    Width=\"210px\">\n                                \n                            \n                        \n                        \n                            \n                                ' Font-Size=\"Small\"\n                                    Width=\"50px\">\n                                \n                            \n                        \n                        \n                            \n                                ' Font-Size=\"Small\"\n                                    Width=\"40px\" ReadOnly=\"true\" BackColor=\"#CCCCCC\">\n                                \n                                <br>\n                                    <br>\n                                        \n                                        \n                                        \n                                        \n                                        \n                                        \n                                        \n                                        \n                                        \n                                        \n                                        \n                                        \n                                        \n                                        \n                                        \n                                        \n                                        \n                                        \n                                    <br>\n                                \n                            \n                        \n                        \n                            \n                                \n                            \n                        \n                        \n                            \n                                \n                                    \n                                        \n                                        \n                                    \n                                \n                            \n                        \n                    \n                </p>\n\n<p>protected void gvBillOfLadings_RowDataBound(object sender, GridViewRowEventArgs e)\n        {</p>\n\n<pre><code>        if (e.Row.RowType == DataControlRowType.DataRow)\n        {    \n            DropDownList ddl = (DropDownList)e.Row.FindControl(\"ddlBLDescription\");\n            //ddl.DataSource = your_data_source_here;\n            //ddl.DataBind();\n\n            // Populate Bill Of Ladings Choose Description dropdownlist\n            String customerIDSession = Session[\"CustomerID\"] != null ? Session[\"CustomerID\"].ToString() : null;\n            String connStrLogo = ConfigurationManager.ConnectionStrings[\"myConnectionString\"].ConnectionString;\n            SqlConnection conn = new SqlConnection(connStrLogo);                \n            string getBLDescriptions = \"SELECT Description, Class FROM COMMODITY WHERE customerID = '\" + customerIDSession + \"' ORDER BY Description\";\n\n            conn.Open();\n            DataTable dt_BLDescriptions = new DataTable();\n            SqlDataAdapter adpatpter_BLDescriptions = new SqlDataAdapter(getBLDescriptions, conn);\n            adpatpter_BLDescriptions.Fill(dt_BLDescriptions);\n            ddl.DataSource = dt_BLDescriptions;\n\n            ddl.DataTextField = \"Description\";\n            ddl.DataValueField = \"Class\";\n            ddl.DataBind();\n            ddl.Items.Insert(0, new ListItem(\"CHOOSE DESCRIPTION\", \"0\"));\n            conn.Close();\n            // End of populating Bill of Lading Items Gridview Description\n\n        }\n\n    }\n</code></pre>\n\n<p>protected void ddlBLDescription_SelectedIndexChanged(Object sender, EventArgs e)\n        {</p>\n\n<pre><code>        GridViewRow gvr = (GridViewRow)(((Control)sender).NamingContainer);\n        DropDownList duty = (DropDownList)gvr.FindControl(\"ddlBLDescription\");\n        String Text = duty.SelectedItem.ToString();\n\n\n        DropDownList ddl = (DropDownList)sender;\n\n        Session[\"slectedValue\"] = ddl.SelectedIndex;\n\n        //GridViewRow row = (GridViewRow)ddl.NamingContainer;\n        GridViewRow row = (GridViewRow)ddl.NamingContainer;\n\n        String zero = ddl.Items[0].Text;\n        String one = ddl.Items[1].Text;\n        String two = ddl.Items[2].Text;\n        String three = ddl.Items[3].Text;\n\n        DropDownList list = (DropDownList)row.FindControl(\"ddlBLDescription\");\n        String val = list.SelectedValue;\n        String item = list.SelectedItem.ToString();\n\n        TextBox txtDesc = (TextBox)row.FindControl(\"Description\");\n        txtDesc.Text = ddl.SelectedItem.Text;\n\n        TextBox txtClass = (TextBox)row.FindControl(\"Class\");\n        txtClass.Text = ddl.SelectedValue;\n\n    }\n</code></pre>\n"}, {"tags": ["javascript", "c#", "model-view-controller"], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 12020266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uJplmuK2Y8Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfHx0u9Xmnv15AK_FFKmho0D1xCGA/photo.jpg?sz=128", "display_name": "Hunter Lazenby", "link": "https://stackoverflow.com/users/12020266/hunter-lazenby"}, "is_accepted": false, "score": 0, "last_activity_date": 1569515379, "creation_date": 1569515379, "answer_id": 58121138, "question_id": 58105346, "link": "https://stackoverflow.com/questions/58105346/my-javascript-will-not-return-a-value-to-the-model-preventing-the-value-needed/58121138#58121138", "title": "My javascript will not return a value to the model, preventing the value needed from ever reaching the controller function", "body": "<p>I was able to get the javascript to assign the value. Apparently the values were being set to the model, but the <code>ActionResult</code> that used that model was not the one being called by the \"Submit\" button. Instead it would go to the <code>ActionResult</code> that controlled the entire view, which was not linked to the model. To fix this issue I inserted <code>[ActionName(\"proj\")]</code> above the <code>ActionResult</code> that was linked to the model. </p>\n\n<pre><code>[ActionName(\"proj\")]\n    [HttpPost]\n    public IActionResult Projects(ReleaseViewModel model)\n    {\n        UpdateProjectList(model.Paths);\n        StatusMessage = \"Successfully updated the project list\";\n        return RedirectToAction(nameof(Projects));\n    }\n</code></pre>\n\n<p>I then set an <code>asp-action=\"proj\"</code> value for my submit button so that it would route the output of the Javascript linked to that button to the correct <code>ActionResult</code></p>\n\n<pre><code>&lt;button type=\"submit\" id=\"butSubmit1\" class=\"btn btn-block btn-cc\" asp-action=\"proj\" &gt;Save&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 12020266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uJplmuK2Y8Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfHx0u9Xmnv15AK_FFKmho0D1xCGA/photo.jpg?sz=128", "display_name": "Hunter Lazenby", "link": "https://stackoverflow.com/users/12020266/hunter-lazenby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1569515379, "creation_date": 1569439741, "question_id": 58105346, "link": "https://stackoverflow.com/questions/58105346/my-javascript-will-not-return-a-value-to-the-model-preventing-the-value-needed", "title": "My javascript will not return a value to the model, preventing the value needed from ever reaching the controller function", "body": "<p>I have a code that creates a program to send out a mailing list to multiple recipients. I have two different views with dynamic tables as part of the program. One is for the recipients of the mailing list, and the other is to select between different projects. The mailing list table works the way it is supposed to. I have a table with the recipients, that are stored in a database so they are there upon initialization, and at the foot of the table are some textboxes along with an add button and a save button at the very bottom. Whenever I hit the add button I just adds the recipient to the table, but whenever I hit the save button, the table isnt supposed to change, but the database is updated based off of the new entries in the textboxes. It does that by using javascript to get values out of the text entries, and set them to a value in my model. That value is then retrieved from the model by the controller. My issue is in the project list table, when I click save, the javascript is not setting that value it gets from the textboxes to the model value. All I did was copy/paste the html and js code from the mailing list to a new view for the project list, then change the variables.</p>\n\n<p>I have stepped through the code line by line to see that the problem happens when the function $(\"#paths\").val(pathList); is called. I does not assign pathList value to #paths.</p>\n\n<p>HTML code for the mailing list where model values are assigned:</p>\n\n<p>`</p>\n\n<pre><code>&lt;div class=\"col-md-9\"&gt;\n        &lt;div class=\"well-lg bordered\" style=\"max-width:600px;\"&gt;\n            &lt;div style=\"max-width:500px; margin-right:auto; margin-left:auto;\"&gt;\n                &lt;form method=\"post\" role=\"form\"&gt;\n                    &lt;input asp-for=\"Names\" id=\"names\" type=\"hidden\" value=\"\" /&gt;\n                    &lt;input asp-for=\"Emails\" id=\"emails\" type=\"hidden\" value=\"\" /&gt;\n                    &lt;div class=\"form-group\"&gt;\n                        &lt;class =\"row\"&gt;\n                            &lt;class =\"column\"&gt;&lt;label&gt;Mailing List&lt;/label&gt;\n                            &lt;class =\"column\" &gt;&lt;/class&gt;&lt;a href=\"https://localhost:44355/Home/Release\"&gt;&lt;font color=\"#1974D2\"&gt;Back&lt;/font&gt;&lt;/a&gt;\n                        &lt;div class=\"table-responsive bg-white\"&gt;\n                            &lt;table class=\"table bordered\" id=\"dynamic-table\"&gt;\n                                &lt;thead&gt;\n                                    &lt;tr class=\"bg-clubcar\"&gt;\n                                        &lt;th width=\"35%\"&gt;Name&lt;/th&gt;\n                                        &lt;th width=\"45%\"&gt;Email&lt;/th&gt;\n                                        &lt;th width=\"20%\"&gt;Edit&lt;/th&gt;\n</code></pre>\n\n<p>`</p>\n\n<p>JAVASCRIPT code for the mailing list:</p>\n\n<pre><code>`\n\n$(function () {\n        $(\"#butSubmit\").click(function () {\n            var nameList = [];\n            var emailList = [];\n\n            $(\"#dynamic-table tr:not(:first, :last)\").each(function () {\n                var tdlist = $(this).find(\"td\");\n                var name = $(tdlist[0]).html();\n                var email = $(tdlist[1]).html();\n                nameList.push(name);\n                emailList.push(email);\n            });\n            $(\"#names\").val(nameList);\n            $(\"#emails\").val(emailList);\n        });\n    });\n</code></pre>\n\n<p>`</p>\n\n<p>HTML code for project list where model values SHOULD be assigned:</p>\n\n<p>`</p>\n\n<pre><code>&lt;div class=\"col-md-9\"&gt;\n        &lt;div class=\"well-lg bordered\" style=\"max-width:1000px;\"&gt;\n            &lt;div style=\"max-width:900px; margin-right:auto; margin-left:auto;\"&gt;\n                &lt;form method=\"post\" role=\"form\" &gt;\n                    &lt;input asp-for=\"ProjectNames\" id=\"projectNames\" type=\"hidden\" value=\"\" /&gt;\n                    &lt;input asp-for=\"Paths\" id=\"paths\" type=\"hidden\" value=\"\" /&gt;\n                    &lt;div class=\"form-group\"&gt;\n                        &lt;class =\"row\"&gt;\n                            &lt;class =\"column\"&gt;&lt;label&gt;Project List&lt;/label&gt;\n                                &lt;class =\"column\"&gt;&lt;/class&gt;&lt;a href=\"https://localhost:44355/Home/Release\"&gt;&lt;font color=\"#1974D2\"&gt;Back&lt;/font&gt;&lt;/a&gt;\n                                &lt;div class=\"table-responsive bg-white\"&gt;\n                                    &lt;table class=\"table bordered\" id=\"dynamic-table2\"&gt;\n                                        &lt;thead&gt;\n                                            &lt;tr class=\"bg-clubcar\"&gt;\n                                                &lt;th width=\"35%\"&gt;Project Name&lt;/th&gt;\n                                                &lt;th width=\"55%\"&gt;File Pathways&lt;/th&gt;\n                                                &lt;th width=\"10%\"&gt;Edit/Delete&lt;/th&gt;\n                                            &lt;/tr&gt;\n</code></pre>\n\n<p>`</p>\n\n<p>JAVASCRIPT code for the project list:</p>\n\n<pre><code> `\n\n$(function () {\n        $(\"#butSubmit1\").click(function () {\n            var projnameList = [];\n            var pathList = [];\n\n            $(\"#dynamic-table2 tr:not(:lt(2), :last)\").each(function () {\n                var tdlist = $(this).find(\"td\");\n                var projname = $(tdlist[0]).html();\n                var path = $(tdlist[1]).html();\n                projnameList.push(projname);\n                pathList.push(path);\n            });\n            $(\"#projectnames\").val(projnameList);\n            $(\"#paths\").val(pathList);\n        });\n    });\n</code></pre>\n\n<p>`</p>\n\n<p>I should be getting a value consisting of a list of all paths set to id=\"paths\" which sets the value to my model \"Paths\". \"Paths\" is always null after the Javascript has run.</p>\n"}, {"tags": ["c#", "asp.net", "instagram"], "comments": [{"owner": {"reputation": 916, "user_id": 4887664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDjRP.jpg?s=128&g=1", "display_name": "Jonathan Larouche", "link": "https://stackoverflow.com/users/4887664/jonathan-larouche"}, "edited": false, "score": 1, "creation_date": 1569442104, "post_id": 58105291, "comment_id": 102602543, "body": "Please consider searching your question first. This question already have been answered <a href=\"https://stackoverflow.com/questions/16106318/instagram-api-user-photos\" title=\"instagram api user photos\">stackoverflow.com/questions/16106318/instagram-api-user-phot&zwnj;&#8203;os</a>. Also use tags accordingly : this is not related to <code>c#</code> or <code>asp.net</code>"}], "answers": [{"tags": [], "owner": {"reputation": 134, "user_id": 11580377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d213cc6070698ac85bc43d85a6d4226f?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/11580377/patrick"}, "is_accepted": false, "score": 0, "last_activity_date": 1569443214, "creation_date": 1569443214, "answer_id": 58106095, "question_id": 58105291, "link": "https://stackoverflow.com/questions/58105291/c-asp-net-how-to-get-images-from-instagram-without-api-access-token/58106095#58106095", "title": "C#- ASP.NET - How to get images from Instagram without API Access Token", "body": "<p>The only pictures you can get from any public facing page on a Facebook service are profile pictures of public facebook pages (i.e. <a href=\"http://graph.facebook.com/honda/picture\" rel=\"nofollow noreferrer\">http://graph.facebook.com/honda/picture</a>) otherwise you have to have a developer account and you have to go through the App Review process.</p>\n"}], "owner": {"reputation": 1, "user_id": 5335367, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153586055402086/picture?type=large", "display_name": "Fatih ", "link": "https://stackoverflow.com/users/5335367/fatih"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1094, "favorite_count": 0, "closed_date": 1569460943, "answer_count": 1, "score": -1, "last_activity_date": 1569443214, "creation_date": 1569439464, "last_edit_date": 1569440793, "question_id": 58105291, "link": "https://stackoverflow.com/questions/58105291/c-asp-net-how-to-get-images-from-instagram-without-api-access-token", "closed_reason": "Duplicate", "title": "C#- ASP.NET - How to get images from Instagram without API Access Token", "body": "<p>Can I get images from Instagram  public profile without Instagram API or Access token? (only use username)</p>\n"}, {"tags": ["c#", "redirect", ".net-core", "dotnet-httpclient", ".net-core-2.2"], "comments": [{"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1569453028, "post_id": 58105194, "comment_id": 102605659, "body": "I don&#39;t see a redirect happening. If you set <code>AllowAutoRedirect</code> to true, the content of the response is the same. I just think your code is complete and you&#39;re ready to use your session cookie for requests."}, {"owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "reply_to_user": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1569483008, "post_id": 58105194, "comment_id": 102613194, "body": "@Silvermind Precisely! However, when I perform the action manually in the browser, the list of networks requests clearly produces a header with location set to something. I&#39;ve turned off JS for all sites to ensure that I follow the same steps using HttpClient. What I suspect is that one of the calls differ in some detail I&#39;m missing and hence produces a different result on one of the servers at a later stage. I&#39;m thinking that <b>precisely</b> the same request should produce <b>precisely</b> the same result. Any hints on how to deduce such a point? I&#39;m about to give it up.   :)"}, {"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1569528358, "post_id": 58105194, "comment_id": 102636615, "body": "I don&#39;t know. Perhaps you can reenable the redirect and check fiddler or something like that to see what&#39;s happening."}], "owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569439033, "creation_date": 1569439033, "question_id": 58105194, "link": "https://stackoverflow.com/questions/58105194/httpclient-delivers-location-equal-to-null-at-redirection-while-corresponding-b", "title": "HttpClient delivers Location equal to null at redirection (while corresponding browser call contains URL)", "body": "<p>I'm getting a cookie and using it, continue to emulate the steps that corresponding browser steps give. Since the auto-redirection is turned off, I have to execute each step individually, fetching the location in the response headers using it in the next. After three such operations, the response's headers contain location field but it's null. Carrying out the corresponding operations using the browser, contains an actual location in every redirection step.</p>\n\n<pre><code>private static Uri ObtainExecutor(Uri referer, Uri uri, Cookie cookie)\n{\n  CookieContainer cookieJar = new CookieContainer();\n  cookieJar.Add(cookie);\n  HttpClientHandler handler = new HttpClientHandler\n  {\n    CookieContainer = cookieJar,\n    AllowAutoRedirect = false\n  };\n  HttpClient client = new HttpClient(handler);\n  client.DefaultRequestHeaders.Referrer = referer;\n  client.DefaultRequestHeaders.Host = uri.Host;\n\n  HttpResponseMessage response = client.GetAsync(uri).Result;\n  HttpResponseHeaders headers = response.Headers;\n  return new Uri(uri, response.Headers.Location);\n}\n</code></pre>\n\n<p>I have no idea how to troubleshoot it further. I've compared the headers noticing nothing of relevance. I've sharked it with the same result, not being able to grasp the overload of packages coming in. Of course, I've googled it for over a week too.</p>\n\n<p>I'm sure there's a tiny difference in how the call is executed but I lack ability to see it. The sample below connects to the actual server and shows the spot where the redirection location is missing. (My apologies for the large sample - I tried to make it minimal but making sure not to leave out a relevant detail unclear to me.)</p>\n\n<pre><code>class Program\n{\n  static void Main(string[] args)\n  {\n    const string url = \"https://www.pensionsmyndigheten.se/service/login/login\"\n    + \"?targetPage=https://www.pensionsmyndigheten.se/service/overview/\"\n    + \"&amp;failurePage=https://www.pensionsmyndigheten.se/service/login/error/login-failed\"\n    + \"&amp;cancelPage=https://www.pensionsmyndigheten.se/\";\n    Uri uri = new Uri(url);\n\n    Cookie cookie = GenerateCookie(uri);\n    Uri discovery = DiscoverService(cookie);\n    Uri execution = ObtainExecutor(uri, discovery, cookie);\n    Uri conversation = ObtainConversor(uri, execution, cookie);\n  }\n\n  private static Cookie GenerateCookie(Uri uri)\n  {\n    CookieContainer cookieJar = new CookieContainer();\n    HttpClientHandler handler = new HttpClientHandler { CookieContainer = cookieJar };\n    HttpClient client = new HttpClient(handler);\n\n    HttpResponseMessage response = client.GetAsync(uri).Result;\n    HttpContent content = response.Content;\n\n    Cookie cookie = cookieJar.GetCookies(uri)\n      .Cast&lt;Cookie&gt;()\n      .First(e =&gt; e.Name == \"pm_retention_urls\");\n\n    return cookie;\n  }\n\n  private static Uri DiscoverService(Cookie cookie)\n  {\n    string url = \"https://www.pensionsmyndigheten.se/service/login/discoresponse\"\n      + \"?spId=default\"\n      + \"&amp;entityID=https%3A%2F%2Feid.legitimeringstjanst.se%2Fmobilt-bankid%2F\";\n    Uri uri = new Uri(url);\n    CookieContainer cookieJar = new CookieContainer();\n    cookieJar.Add(cookie);\n    HttpClientHandler handler = new HttpClientHandler\n    {\n      CookieContainer = cookieJar,\n      AllowAutoRedirect = false\n    };\n    HttpClient client = new HttpClient(handler);\n    client.DefaultRequestHeaders.Referrer = uri;\n    client.DefaultRequestHeaders.Host = uri.Host;\n\n    HttpResponseMessage response = client.GetAsync(uri).Result;\n    HttpResponseHeaders headers = response.Headers;\n\n    return headers.Location;\n  }\n\n  private static Uri ObtainExecutor(Uri referer, Uri uri, Cookie cookie)\n  {\n    CookieContainer cookieJar = new CookieContainer();\n    cookieJar.Add(cookie);\n    HttpClientHandler handler = new HttpClientHandler\n    {\n      CookieContainer = cookieJar,\n      AllowAutoRedirect = false\n    };\n    HttpClient client = new HttpClient(handler);\n    client.DefaultRequestHeaders.Referrer = referer;\n    client.DefaultRequestHeaders.Host = uri.Host;\n\n    HttpResponseMessage response = client.GetAsync(uri).Result;\n    HttpResponseHeaders headers = response.Headers;\n    return new Uri(uri, response.Headers.Location);\n  }\n\n  private static Uri ObtainConversor(Uri referer, Uri uri, Cookie cookie)\n  {\n    CookieContainer cookieJar = new CookieContainer();\n    cookieJar.Add(cookie);\n    HttpClientHandler handler = new HttpClientHandler\n    {\n      CookieContainer = cookieJar,\n      AllowAutoRedirect = false\n    };\n    HttpClient client = new HttpClient(handler);\n    client.DefaultRequestHeaders.Referrer = referer;\n    client.DefaultRequestHeaders.Host = uri.Host;\n\n    HttpResponseMessage response = client.GetAsync(uri).Result;\n    HttpResponseHeaders headers = response.Headers;\n\n    // Figure out why the returned redirection URL is empty.\n    Uri redirection = headers.Location;\n    // It should be containing the following value.\n    redirection = new Uri(\n      \"https://idpproxy.pensionsmyndigheten.se/idp/Authn/SamlSP?conversation=e1s1\");\n\n    return redirection;\n  }\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "arkit", "arcore"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1569439651, "post_id": 58105161, "comment_id": 102601534, "body": "<a href=\"https://docs.unity3d.com/ScriptReference/MonoBehaviour.OnDestroy.html\" rel=\"nofollow noreferrer\"><code>OnDestroy</code></a> is called by Unity via message as soon as the Component or GameObject gets destroyed"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1569439654, "post_id": 58105161, "comment_id": 102601536, "body": "It&#39;s probably when it&#39;s destroyed. Have you tried <code>Destroy(m_ARSessionOriginGO.GetComponent&lt;AREnvironmentProbeM&zwnj;&#8203;anager&gt;());</code> ?"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 1, "creation_date": 1569439795, "post_id": 58105161, "comment_id": 102601581, "body": "maybe kind of a hack but alternatively you could also inherit from the according class and add a public method which calls the <code>OnDestroy</code>: <code>public class MyAREnvironmentProbeManager : AREnvironmentProbeManager { public void DoOnDestroy(){ OnDestroy(); } }</code> when inheriting you have access to <code>protected</code> stuff"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1569439985, "post_id": 58105161, "comment_id": 102601648, "body": "derHugo has a fine suggestion here, but just watch out because there may be side effects from calling <code>OnDestroy()</code> without actually destroying the thing."}, {"owner": {"reputation": 165, "user_id": 9024493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01c27b8c22bc65138332c32529ea633?s=128&d=identicon&r=PG&f=1", "display_name": "Sergio Solorzano", "link": "https://stackoverflow.com/users/9024493/sergio-solorzano"}, "edited": false, "score": 0, "creation_date": 1569497458, "post_id": 58105161, "comment_id": 102620828, "body": "Thanks a bunch everyone, I ended up finding a workaround that seems to do the trick by subscribing to AREnvironmentProbeManagerScript environmentProbesChanged , creating a list of probes and removing using AREnvironmentProbeManagerScript GetEnvironmentProbe"}], "owner": {"reputation": 165, "user_id": 9024493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01c27b8c22bc65138332c32529ea633?s=128&d=identicon&r=PG&f=1", "display_name": "Sergio Solorzano", "link": "https://stackoverflow.com/users/9024493/sergio-solorzano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569439339, "creation_date": 1569438878, "last_edit_date": 1569439339, "question_id": 58105161, "link": "https://stackoverflow.com/questions/58105161/how-call-ondestroy-arenvironmentprobemanager", "title": "How Call OnDestroy @ AREnvironmentProbeManager", "body": "<p>In regards to ARFoundation I'd want to give the user the option to switch off AR Env Probes and at OnDisable destroy any trackables/probes created by AREnvironmentProbeManager. Using ARFoundation 3.0 prev.2 Version the probes remain after disabling AREnvProbeMgr.</p>\n\n<p>OnDestroy() in AREnvironmentProbeManager.cs seems to do just this, how can I call this function? It's protected in package: <a href=\"https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@2.1/api/UnityEngine.XR.ARFoundation.AREnvironmentProbeManager.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@2.1/api/UnityEngine.XR.ARFoundation.AREnvironmentProbeManager.html</a></p>\n\n<p>\"Destroys any game objects created by this environment probe manager for each environment probe, and clears the mapping of environment probes.\"</p>\n\n<p>Disabling AREnvironmentProbeManager does not destroy probes</p>\n\n<pre><code>m_ARSessionOriginGO.GetComponent&lt;AREnvironmentProbeManager&gt;().enabled = false;\n//Disables the probe manager but doesn't destroy the probes created.\n</code></pre>\n\n<p>Trying to achieve: Environment probes are destroyed when AREnvironmentProbeManager is disabled.</p>\n"}, {"tags": ["c#", "entity-framework-core", "entity-framework-core-3.0"], "comments": [{"owner": {"reputation": 7879, "user_id": 506147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/U9JU7.png?s=128&g=1", "display_name": "Roman Pokrovskij", "link": "https://stackoverflow.com/users/506147/roman-pokrovskij"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1569453583, "post_id": 58105160, "comment_id": 102605762, "body": "@Ivan Stoev,  But what is  &quot;TypeMapping&quot; from the MS official note?"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1569454001, "post_id": 58105160, "comment_id": 102605838, "body": "It&#39;s internal annotation <b>name</b> - something you normally not use. As they say <i>&quot;This will only break applications that access the type mapping directly as an annotation, which isn&#39;t common. The most appropriate action to fix is to use API surface to access type mappings rather than using the annotation directly.&quot;</i>. Just use the <code>Get</code> / <code>Set</code> extension methods of <code>IEnityType</code> and other metadata interfaces."}, {"owner": {"reputation": 7879, "user_id": 506147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/U9JU7.png?s=128&g=1", "display_name": "Roman Pokrovskij", "link": "https://stackoverflow.com/users/506147/roman-pokrovskij"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1569454698, "post_id": 58105160, "comment_id": 102605964, "body": "@IvanStoev thank you. With new API I&#39;m not sure when I call e.g. &#39;IKey.GetName()&#39; what I get: some kind of internal names or real db names ... Previously used <code>SqlServer()</code> left no room for doubts."}], "owner": {"reputation": 7879, "user_id": 506147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/U9JU7.png?s=128&g=1", "display_name": "Roman Pokrovskij", "link": "https://stackoverflow.com/users/506147/roman-pokrovskij"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 226, "favorite_count": 0, "closed_date": 1569445046, "answer_count": 0, "score": 0, "last_activity_date": 1569438877, "creation_date": 1569438877, "question_id": 58105160, "link": "https://stackoverflow.com/questions/58105160/ef-core-3-migration-relationalentitytypeannotations", "closed_reason": "Duplicate", "title": "Ef Core 3 migration: RelationalEntityTypeAnnotations", "body": "<p>How to get annotations (e.g. table name, schema name) for <code>IEntityType</code> ?</p>\n\n<p>Previously we had</p>\n\n<pre><code>var relationalEntityTypeAnnotations = entityType.Relational();\nvar schema = relationalEntityTypeAnnotations.Schema;\nvar tableName = relationalEntityTypeAnnotations.TableName;\n</code></pre>\n\n<p>But now relationalEntityTypeAnnotations class (and <code>Relational</code> extension) were removed.</p>\n\n<p>The documnetation advice:</p>\n\n<blockquote>\n  <p>The Relational:TypeMapping annotation is now just TypeMapping Tracking\n  Issue #9913</p>\n  \n  <p>This change is introduced in EF Core 3.0-preview 2.</p>\n  \n  <p>Old behavior</p>\n  \n  <p>The annotation name for type mapping annotations was\n  \"Relational:TypeMapping\".</p>\n  \n  <p>New behavior</p>\n  \n  <p>The annotation name for type mapping annotations is now \"TypeMapping\".</p>\n  \n  <p>Why</p>\n  \n  <p>Type mappings are now used for more than just relational database\n  providers.</p>\n  \n  <p>Mitigations</p>\n  \n  <p>This will only break applications that access the type mapping\n  directly as an annotation, which isn't common. The most appropriate\n  action to fix is to use API surface to access type mappings rather\n  than using the annotation directly.</p>\n</blockquote>\n\n<p>but there are no method <code>entityType.TypeMapping</code> or something like this...</p>\n"}, {"tags": ["c#", ".net-core"], "comments": [{"owner": {"reputation": 126, "user_id": 14223965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a9a2a4383be1e96cd8c6d3f2ede8f6?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Chan", "link": "https://stackoverflow.com/users/14223965/gary-chan"}, "edited": false, "score": 0, "creation_date": 1611124271, "post_id": 58105146, "comment_id": 116345904, "body": "For .net 5.0, see <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-5.0#host-configuration\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/fundamentals/host/&hellip;</a>  It discusses how IHostEnvironment setting EnvironmentName is determined by the generic host builder.  Note how prefixes are used for the environment variable provider."}], "answers": [{"comments": [{"owner": {"reputation": 3866, "user_id": 3206983, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/747c3ecb784e251dede5651ea1f11714?s=128&d=identicon&r=PG&f=1", "display_name": "bitshift", "link": "https://stackoverflow.com/users/3206983/bitshift"}, "edited": false, "score": 0, "creation_date": 1569445993, "post_id": 58106233, "comment_id": 102603909, "body": "That works perfect.  Now I just need to get those same arguments passed in via the windows service start parameters."}, {"owner": {"reputation": 986, "user_id": 744807, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3efb9ca6af32dbb214f1b84676f5833c?s=128&d=identicon&r=PG", "display_name": "Stephen York", "link": "https://stackoverflow.com/users/744807/stephen-york"}, "edited": false, "score": 2, "creation_date": 1596186700, "post_id": 58106233, "comment_id": 111737757, "body": "I&#39;ve stumbled over so many possible answers that just make me cringe. I&#39;m so glad I found this. It worked and has no reliance on environment variables or ASP.NET Core so i the absolute best answer."}], "tags": [], "owner": {"reputation": 10503, "user_id": 9200675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PxESv.jpg?s=128&g=1", "display_name": "pfx", "link": "https://stackoverflow.com/users/9200675/pfx"}, "is_accepted": true, "score": 17, "last_activity_date": 1606092329, "last_edit_date": 1606092329, "creation_date": 1569443969, "answer_id": 58106233, "question_id": 58105146, "link": "https://stackoverflow.com/questions/58105146/how-to-set-hosting-environment-name-for-net-core-console-app-using-generic-host/58106233#58106233", "title": "How to set hosting environment name for .NET Core console app using Generic Host (HostBuilder)", "body": "<p>You can set the environment from the command line variables via the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.hosting.hostbuilder.configurehostconfiguration\" rel=\"noreferrer\"><code>ConfigureHostConfiguration</code></a> extension method.</p>\n<blockquote>\n<p>Set up the configuration for the builder itself. This will be used to\ninitialize the Microsoft.Extensions.Hosting.IHostEnvironment for use\nlater in the build process.</p>\n</blockquote>\n<pre><code>var hostBuilder = new HostBuilder()\n    .UseContentRoot(Directory.GetCurrentDirectory())\n    .ConfigureHostConfiguration(configurationBuilder =&gt; {\n        configurationBuilder.AddCommandLine(args);\n    })\n    .ConfigureAppConfiguration((hostingContext, cfg) =&gt;\n    {\n        // ...\n\n        var env = hostingContext.HostingEnvironment;\n        Console.WriteLine(env.EnvironmentName); // Test\n        // ...\n    });\n    \n    // ...\n\n    hostBuilder.Build();\n</code></pre>\n<hr>\n<p>In Visual Studio, you configure the application arguments with the same ones as being used by <code>dotnet run</code> which is <strong><code>--environment</code></strong>,<br />\ne.g. <code>dotnet run --environment Test</code>.</p>\n<p>Without this application argument, the hosting environment defaults back to <code>Production</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/BeLkW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BeLkW.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": [], "owner": {"reputation": 3838, "user_id": 790300, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dc25137541bd74b264496c8e9066a948?s=128&d=identicon&r=PG", "display_name": "Dmitry Polomoshnov", "link": "https://stackoverflow.com/users/790300/dmitry-polomoshnov"}, "is_accepted": false, "score": 3, "last_activity_date": 1606092378, "last_edit_date": 1606092378, "creation_date": 1601312412, "answer_id": 64106511, "question_id": 58105146, "link": "https://stackoverflow.com/questions/58105146/how-to-set-hosting-environment-name-for-net-core-console-app-using-generic-host/64106511#64106511", "title": "How to set hosting environment name for .NET Core console app using Generic Host (HostBuilder)", "body": "<p>To pick up the hosting environment from environment variables, you can also add:</p>\n<pre><code>.ConfigureHostConfiguration(config =&gt;\n{\n    config.AddEnvironmentVariables();\n})\n</code></pre>\n<p>Then use <code>Environment</code> environment variable to pass the actual environment.</p>\n"}, {"comments": [{"owner": {"reputation": 667, "user_id": 4930982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a340b34eb2787de781f5cffa01ad744?s=128&d=identicon&r=PG", "display_name": "Rob Johnston", "link": "https://stackoverflow.com/users/4930982/rob-johnston"}, "edited": false, "score": 3, "creation_date": 1612378826, "post_id": 65804375, "comment_id": 116751425, "body": "I think the answer could be improved by adding a little bit of code to get it to work:  .ConfigureHostConfiguration(configHost =&gt; {   configHost.AddEnvironmentVariables(prefix: &quot;DOTNET_&quot;); }"}, {"owner": {"reputation": 6057, "user_id": 543814, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sC2s7.png?s=128&g=1", "display_name": "Timo", "link": "https://stackoverflow.com/users/543814/timo"}, "reply_to_user": {"reputation": 667, "user_id": 4930982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a340b34eb2787de781f5cffa01ad744?s=128&d=identicon&r=PG", "display_name": "Rob Johnston", "link": "https://stackoverflow.com/users/4930982/rob-johnston"}, "edited": false, "score": 2, "creation_date": 1613471537, "post_id": 65804375, "comment_id": 117078841, "body": "@RobJohnston Your comment was actually the only thing on this page that truly answered this question for me."}], "tags": [], "owner": {"reputation": 126, "user_id": 14223965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61a9a2a4383be1e96cd8c6d3f2ede8f6?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Chan", "link": "https://stackoverflow.com/users/14223965/gary-chan"}, "is_accepted": false, "score": 3, "last_activity_date": 1611125297, "creation_date": 1611125297, "answer_id": 65804375, "question_id": 58105146, "link": "https://stackoverflow.com/questions/58105146/how-to-set-hosting-environment-name-for-net-core-console-app-using-generic-host/65804375#65804375", "title": "How to set hosting environment name for .NET Core console app using Generic Host (HostBuilder)", "body": "<p>In <strong>Visual Studio</strong>, you can add an environment variable under the <strong>Debug</strong> tab of the console application properties. For a console application the <em>environment variable provider</em> name must be prefixed by <em>DOTNET_</em> for the generic host builder to recognize it.  In this case, the provider name is <em>DOTNET_ENVIRONMENT</em>.</p>\n<p><a href=\"https://i.stack.imgur.com/uAXbY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uAXbY.png\" alt=\"Visual Studio 2019 image\" /></a></p>\n<p>If this provider name is not specified, the default is <em>Production</em>.</p>\n<p>Reference : <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-5.0#host-configuration\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-5.0#host-configuration</a></p>\n"}, {"comments": [{"owner": {"reputation": 2401, "user_id": 12695027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i74ZG.png?s=128&g=1", "display_name": "Scratte", "link": "https://stackoverflow.com/users/12695027/scratte"}, "edited": false, "score": 0, "creation_date": 1615083698, "post_id": 66473474, "comment_id": 117581544, "body": "Please do not post images of code. Post the code as text in a code block."}, {"owner": {"reputation": 31, "user_id": 8978643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dd110690c1a6202c2750f7d2d0152d5?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#233;mie Leclercq", "link": "https://stackoverflow.com/users/8978643/j%c3%a9r%c3%a9mie-leclercq"}, "reply_to_user": {"reputation": 2401, "user_id": 12695027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i74ZG.png?s=128&g=1", "display_name": "Scratte", "link": "https://stackoverflow.com/users/12695027/scratte"}, "edited": false, "score": 1, "creation_date": 1615470719, "post_id": 66473474, "comment_id": 117704216, "body": "@Scratte Thank for the feedback, edited :)"}], "tags": [], "owner": {"reputation": 31, "user_id": 8978643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dd110690c1a6202c2750f7d2d0152d5?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#233;mie Leclercq", "link": "https://stackoverflow.com/users/8978643/j%c3%a9r%c3%a9mie-leclercq"}, "is_accepted": false, "score": 0, "last_activity_date": 1615470693, "last_edit_date": 1615470693, "creation_date": 1614854819, "answer_id": 66473474, "question_id": 58105146, "link": "https://stackoverflow.com/questions/58105146/how-to-set-hosting-environment-name-for-net-core-console-app-using-generic-host/66473474#66473474", "title": "How to set hosting environment name for .NET Core console app using Generic Host (HostBuilder)", "body": "<p>Another method is to use the &quot;UseEnvironnement&quot; method directly on the host builder :</p>\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.hosting.hostinghostbuilderextensions.useenvironment?view=dotnet-plat-ext-5.0\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.hosting.hostinghostbuilderextensions.useenvironment?view=dotnet-plat-ext-5.0</a></p>\n<p>For example :</p>\n<pre><code>   public static IHostBuilder CreateHostBuilder(string[] args) =&gt;\n            Host.CreateDefaultBuilder(args)\n                .UseEnvironment(&quot;dev&quot;) // Magic is here\n                .ConfigureWebHostDefaults(webBuilder =&gt;\n                {\n                    webBuilder.UseUrls(&quot;http://0.0.0.0:8081&quot;);\n                    webBuilder.UseStartup&lt;Startup&gt;();\n                });\n</code></pre>\n"}], "owner": {"reputation": 3866, "user_id": 3206983, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/747c3ecb784e251dede5651ea1f11714?s=128&d=identicon&r=PG&f=1", "display_name": "bitshift", "link": "https://stackoverflow.com/users/3206983/bitshift"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7912, "favorite_count": 1, "accepted_answer_id": 58106233, "answer_count": 4, "score": 13, "last_activity_date": 1615470693, "creation_date": 1569438802, "last_edit_date": 1606092227, "question_id": 58105146, "link": "https://stackoverflow.com/questions/58105146/how-to-set-hosting-environment-name-for-net-core-console-app-using-generic-host", "title": "How to set hosting environment name for .NET Core console app using Generic Host (HostBuilder)", "body": "<p>I am setting up a .NET Core 2.x console app as a Windows service and need to load an appsettings json file based on the environment.  I was thinking to start the service with a command line argument that identifies the environment.  How can I do that in Visual Studio?  No matter what I set in the project settings, the EnvironmentName value is always &quot;Production&quot;.</p>\n<p>How can I set my environment from a command line argument?</p>\n<pre><code>var hostBuilder = new HostBuilder()\n                 .UseContentRoot(Directory.GetCurrentDirectory())\n                 .ConfigureAppConfiguration((hostingContext, config) =&gt;\n                 {\n                     var env = hostingContext.HostingEnvironment;\n                     config.AddCommandLine(args);\n                     config.AddJsonFile($&quot;appsettings.{env.EnvironmentName}.json&quot;, optional: false, reloadOnChange: true);\n                     config.AddEnvironmentVariables();\n                 })\n                 .ConfigureServices((hostContext, services) =&gt;\n                 {\n                     //Inject additional services as needed\n                     services.AddHostedService&lt;JobRunner&gt;();\n                });\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OOnEp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OOnEp.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["c#", ".net-core"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1569438969, "post_id": 58105134, "comment_id": 102601255, "body": "Have you tried using <a href=\"https://www.nuget.org/packages/YamlDotNet/\" rel=\"nofollow noreferrer\">a YAML parser</a>?"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 5, "creation_date": 1569439161, "post_id": 58105134, "comment_id": 102601340, "body": "Don&#39;t read all the text, read it in using ReadAllLines or ReadLines.  Then look for your &quot;---&quot; and &quot;***&quot; line as you walk through the file"}, {"owner": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1569439544, "post_id": 58105134, "comment_id": 102601499, "body": "@EdPlunkett Yes, and I am using it to parse YAML text but I wasn&#39;t able to get the other two parts using YamlDotNet. There is why I am looking to split first in 3 parts and then do whatever I need after it."}], "answers": [{"tags": [], "owner": {"reputation": 23662, "user_id": 380384, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/uT3JH.png?s=128&g=1", "display_name": "John Alexiou", "link": "https://stackoverflow.com/users/380384/john-alexiou"}, "is_accepted": true, "score": 1, "last_activity_date": 1569452510, "creation_date": 1569452510, "answer_id": 58107580, "question_id": 58105134, "link": "https://stackoverflow.com/questions/58105134/split-text-into-3-parts/58107580#58107580", "title": "Split text into 3 parts", "body": "<p>I would create a class to handle the parsing. Something like this:</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        var yaml = new YamlParser(\"data.yaml\");\n\n        Debug.WriteLine(string.Join(Environment.NewLine, yaml.Head));\n        // title: Welcome post\n        // tags: [tech]\n        // enabled: true\n        Debug.WriteLine(string.Join(Environment.NewLine, yaml.Intro));\n        // This is the post intro.\n        Debug.WriteLine(string.Join(Environment.NewLine, yaml.Body));\n        // This is the post body.\n    }\n}\n\n\npublic enum YamlSection\n{\n    Start,\n    Header,\n    Into,\n    Body,\n    Finished\n}\n\npublic class YamlParser\n{\n    public YamlParser(string file)\n        : this(System.IO.File.OpenText(file))\n    {  }\n    public YamlParser(StreamReader reader)\n    {\n        Head = new List&lt;string&gt;();\n        Intro = new List&lt;string&gt;();\n        Body = new List&lt;string&gt;();\n        var section = YamlSection.Start;\n\n        while (!reader.EndOfStream)\n        {\n            var line = reader.ReadLine();\n            if (string.IsNullOrWhiteSpace(line))\n            {\n                continue;\n            }\n            if (line.StartsWith(\"---\") &amp;&amp; section == YamlSection.Start)\n            {\n                section = YamlSection.Header;\n            }\n            else if (line.StartsWith(\"---\") &amp;&amp; section == YamlSection.Header)\n            {\n                section = YamlSection.Into;\n            }\n            else if (line.StartsWith(\"***\"))\n            {\n                section =  YamlSection.Body;\n            }\n            else\n            {\n                switch (section)\n                {\n                    case YamlSection.Header:\n                        Head.Add(line);\n                        break;\n                    case YamlSection.Into:\n                        Intro.Add(line);\n                        break;\n                    case YamlSection.Body:\n                        Body.Add(line);\n                        break;\n                    default:\n                        throw new NotSupportedException();\n                }\n            }\n        }\n        section = YamlSection.Finished;\n    }\n\n    public List&lt;string&gt; Head { get; }  \n    public List&lt;string&gt; Intro { get; } \n    public List&lt;string&gt; Body { get; }  \n}\n</code></pre>\n"}], "owner": {"reputation": 27795, "user_id": 577805, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dbbe0a475e6a151f0595b83e55475f34?s=128&d=identicon&r=PG", "display_name": "Miguel Moura", "link": "https://stackoverflow.com/users/577805/miguel-moura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 58107580, "answer_count": 1, "score": 0, "last_activity_date": 1569452510, "creation_date": 1569438763, "last_edit_date": 1569440757, "question_id": 58105134, "link": "https://stackoverflow.com/questions/58105134/split-text-into-3-parts", "title": "Split text into 3 parts", "body": "<p>I have a markdown file with a YAML header:</p>\n\n<pre><code>---\ntitle: Welcome post\ntags: [tech]\nenabled: true\n---\n\nThis is the post intro.\n\n***\n\nThis is the post body.\n</code></pre>\n\n<p>I am reading the file using:</p>\n\n<pre><code>String text = File.ReadAllText(filePath);\n</code></pre>\n\n<p>How can I get, from text, the 3 parts of the file?</p>\n\n<p>The YAML section between <code>---</code>:</p>\n\n<pre><code>title: Welcome post\ntags: [tech]\nenabled: true\n</code></pre>\n\n<p>The intro section, between <code>---</code> and <code>***</code>:</p>\n\n<pre><code>This is the post intro.\n</code></pre>\n\n<p>And the body section, after the <code>***</code>:</p>\n\n<pre><code>This is the post body.\n</code></pre>\n\n<p><strong>Note:</strong> Sometimes there is no intro so only YAML and Body:</p>\n\n<pre><code>---\ntitle: Welcome post\ntags: [tech]\nenabled: true\n---\n\nThis is the post body.\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>I was able to solve this by using:</p>\n\n<pre><code>String text = File.ReadAllText(file);\n\nvar result = text.Split(new String[] { \"---\", \"***\" }, StringSplitOptions.RemoveEmptyEntries);\n</code></pre>\n\n<p>Not sure if it is the best way but it seems to work.</p>\n"}, {"tags": ["c#", "asp.net", "blazor", "blazor-server-side", "blazor-client-side"], "comments": [{"owner": {"reputation": 936, "user_id": 241740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d1aca7191f2d16e184971054c7c143?s=128&d=identicon&r=PG", "display_name": "henon", "link": "https://stackoverflow.com/users/241740/henon"}, "edited": false, "score": 1, "creation_date": 1592941711, "post_id": 58105036, "comment_id": 110604424, "body": "if you like MatBlazor you might also like Skclusive-UI: <a href=\"https://skclusive.github.io/Skclusive.Material.Docs/\" rel=\"nofollow noreferrer\">skclusive.github.io/Skclusive.Material.Docs</a>"}], "answers": [{"tags": [], "owner": {"reputation": 547, "user_id": 10022456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/280ea42f72565038ee34a59abc5d3077?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/10022456/peter"}, "is_accepted": true, "score": 1, "last_activity_date": 1572874854, "last_edit_date": 1572874854, "creation_date": 1569438275, "answer_id": 58105037, "question_id": 58105036, "link": "https://stackoverflow.com/questions/58105036/how-do-you-create-a-form-wizard-using-blazor/58105037#58105037", "title": "How do you create a form wizard using Blazor?", "body": "<p>The following is a basic form wizard that was inspired by <a href=\"https://itnext.io/building-a-blazor-wizard-with-razor-components-23d652ff06e9\" rel=\"nofollow noreferrer\">Louis Hendricks</a>.</p>\n\n<p>Please note that you will need to install <a href=\"https://www.matblazor.com/\" rel=\"nofollow noreferrer\">MatBlazor</a> by Vladimir Samoilenko in order to get web elements prefixed by \"Mat\" working.</p>\n\n<p><strong>Form.razor File</strong></p>\n\n<pre><code>&lt;div id=\"form-navigation-container\"&gt;\n\n    &lt;!-- Checks to see if current step is not equal to first step via SetNavButtons() method --&gt;\n    &lt;MatButton Class=\"previous\" disabled=\"@Wizard.PreviousButtonDisabled\" @onclick=\"Wizard.GoToPreviousStep\"&gt;Previous Step&lt;/MatButton&gt;\n\n    &lt;!-- Checks to see if current step is not equal to last step via SetNavButtons() method --&gt;\n    &lt;MatButton Unelevated=\"true\" disabled=\"@Wizard.NextButtonDisabled\" @onclick=\"Wizard.GoToNextStep\"&gt;Next Step&lt;/MatButton&gt;\n&lt;/div&gt;\n\n&lt;!-- Progress bar gets incremented/decremented via GoToNextStep()/GoToPreviousStep() methods --&gt;\n&lt;MatProgressBar Class=\"progress\" Progress=\"@Wizard.Progress\" aria-valuenow=\"@Wizard.Progress\" aria-valuemin=\"0\" aria-valuemax=\"1\"&gt;&lt;/MatProgressBar&gt;\n\n@code {\n    Wizard Wizard = new Wizard();\n}\n</code></pre>\n\n<p><strong>Wizard.cs File</strong></p>\n\n<pre><code>using FORM.Models;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\n\nnamespace FORM.Models\n{\n    public class Wizard\n    {\n\n\n        public Wizard()\n        {\n            Progress = .2;\n            Step = 1;\n            SetNavButtons();\n        }\n\n        public double Progress { get; private set; }\n\n        public int Step { get; private set; }\n\n        public bool PreviousButtonDisabled { get; private set; }\n        public bool NextButtonDisabled { get; private set; }\n\n        public void GoToNextStep()\n        {\n            Step += 1;            \n            Progress += .2;\n            if (Step == 6)\n            {\n                Progress = 100;\n            }\n            SetNavButtons();\n        }\n\n        public void GoToPreviousStep()\n        {\n            if (Step &gt; 1)\n            {\n                Step -= 1;\n                Progress -= .2;\n            }\n            if (Step == 1)\n            {\n                Progress = .2;\n            }\n            SetNavButtons();\n        }\n\n        public void SetNavButtons()\n        {\n            NextButtonDisabled = false;\n            switch (Step)\n            {\n                case 1:\n                    PreviousButtonDisabled = true;               \n                    break;\n                case 2:\n                    PreviousButtonDisabled = false;\n                    break;\n                case 3:\n                    PreviousButtonDisabled = false;\n                    break;\n                case 4:\n                    PreviousButtonDisabled = false;\n                    break;\n                case 5:\n                    NextButtonDisabled = true;\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 547, "user_id": 10022456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/280ea42f72565038ee34a59abc5d3077?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/10022456/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2511, "favorite_count": 0, "accepted_answer_id": 58105037, "answer_count": 1, "score": 3, "last_activity_date": 1572874854, "creation_date": 1569438275, "question_id": 58105036, "link": "https://stackoverflow.com/questions/58105036/how-do-you-create-a-form-wizard-using-blazor", "title": "How do you create a form wizard using Blazor?", "body": "<p>How do you create a form wizard using Blazor + MatBlazor (Material Design for Blazor) and no Javascript?  The user should be able to navigate between different pages of the form and a progress bar should be dynamically updated.</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 445, "user_id": 4594986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/538e24066e602f6fd16ff0192af24fff?s=128&d=identicon&r=PG&f=1", "display_name": "Ppp", "link": "https://stackoverflow.com/users/4594986/ppp"}, "edited": false, "score": 0, "creation_date": 1569441646, "post_id": 58105015, "comment_id": 102602344, "body": "You mean SelectedCells.Last().Column.DisplayIndex?"}, {"owner": {"reputation": 319, "user_id": 11711668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e634b69b02f56dcca2506314b23ef98?s=128&d=identicon&r=PG&f=1", "display_name": "Aakanksha", "link": "https://stackoverflow.com/users/11711668/aakanksha"}, "edited": false, "score": 0, "creation_date": 1569478744, "post_id": 58105015, "comment_id": 102611198, "body": "You have already provided the code. Is there anything wrong in this?"}], "owner": {"reputation": 1, "user_id": 7587597, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nSsgboGnHV8/AAAAAAAAAAI/AAAAAAAABHo/oHYPFac4cS8/photo.jpg?sz=128", "display_name": "Shoaib Arshad", "link": "https://stackoverflow.com/users/7587597/shoaib-arshad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569438515, "creation_date": 1569438170, "last_edit_date": 1569438515, "question_id": 58105015, "link": "https://stackoverflow.com/questions/58105015/how-to-get-clicked-cell-index-without-using-column-name-of-datagrid-in-wpf", "title": "how to get clicked cell index without using Column name of DataGrid in WPF", "body": "<p>I try to get specific <strong>clicked cell index</strong> and Column name in DataGrid in WPF without using column name. I want to nave on behalf of  DataGrid cell value. </p>\n\n<pre><code>private void recordDataGrid_SelectedCellsChanged(object sender, SelectedCellsChangedEventArgs e)\n{\n    object val = recordDataGrid.SelectedValue;\n    object ind = recordDataGrid.SelectedIndex;\n    string stringval = val.ToString();\n    int n = Convert.ToInt32(ind);\n    MessageBox.Show(\" \" + n + \"\" + stringval);\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework-core", "entity-framework-core-3.0"], "comments": [{"owner": {"reputation": 198, "user_id": 10595194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41b5af4aa4722595d924dab164744605?s=128&d=identicon&r=PG", "display_name": "Kexy Biscuit", "link": "https://stackoverflow.com/users/10595194/kexy-biscuit"}, "edited": false, "score": 1, "creation_date": 1570523649, "post_id": 58104860, "comment_id": 102930980, "body": "AFAIK CSharpHelper is still a public class. <a href=\"https://github.com/aspnet/EntityFrameworkCore/blob/v3.0.0/src/EFCore.Design/Design/Internal/CSharpHelper.cs\" rel=\"nofollow noreferrer\">github.com/aspnet/EntityFrameworkCore/blob/v3.0.0/src/&hellip;</a>"}, {"owner": {"reputation": 7879, "user_id": 506147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/U9JU7.png?s=128&g=1", "display_name": "Roman Pokrovskij", "link": "https://stackoverflow.com/users/506147/roman-pokrovskij"}, "reply_to_user": {"reputation": 198, "user_id": 10595194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41b5af4aa4722595d924dab164744605?s=128&d=identicon&r=PG", "display_name": "Kexy Biscuit", "link": "https://stackoverflow.com/users/10595194/kexy-biscuit"}, "edited": false, "score": 0, "creation_date": 1570576720, "post_id": 58104860, "comment_id": 102953907, "body": "@KexyBiscuit but it is not included into Microsoft.EntityFrameworkCore.Design package (and there are no new Microsoft.EntityFrameworkCore.Design.Internal package) :-(   There are no  Microsoft.EntityFrameworkCore.Design.Internal namespace at all in Microsoft.EntityFrameworkCore.Design"}], "answers": [{"tags": [], "owner": {"reputation": 373, "user_id": 1736156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CR2xC.jpg?s=128&g=1", "display_name": "Codemunkie", "link": "https://stackoverflow.com/users/1736156/codemunkie"}, "is_accepted": false, "score": 1, "last_activity_date": 1572302443, "creation_date": 1572302443, "answer_id": 58599285, "question_id": 58104860, "link": "https://stackoverflow.com/questions/58104860/ef-core-3-how-to-migrate-microsoft-entityframeworkcore-design-internal-csharphe/58599285#58599285", "title": "ef core 3: how to migrate Microsoft.EntityFrameworkCore.Design.Internal.CSharpHelper?", "body": "<p><code>Microsoft.EntityFrameworkCore.Design</code> is now a DevelopmentDependency package meaning that it won't be deployed with your application and you can't reference it in code.</p>\n\n<p>If you need custom design-time services, you have to edit the PackageReference in your project as described here: <a href=\"https://docs.microsoft.com/en-us/ef/core/what-is-new/ef-core-3.0/breaking-changes#microsoftentityframeworkcoredesign-is-now-a-developmentdependency-package\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/ef/core/what-is-new/ef-core-3.0/breaking-changes#microsoftentityframeworkcoredesign-is-now-a-developmentdependency-package</a></p>\n"}], "owner": {"reputation": 7879, "user_id": 506147, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/U9JU7.png?s=128&g=1", "display_name": "Roman Pokrovskij", "link": "https://stackoverflow.com/users/506147/roman-pokrovskij"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572302443, "creation_date": 1569437497, "question_id": 58104860, "link": "https://stackoverflow.com/questions/58104860/ef-core-3-how-to-migrate-microsoft-entityframeworkcore-design-internal-csharphe", "title": "ef core 3: how to migrate Microsoft.EntityFrameworkCore.Design.Internal.CSharpHelper?", "body": "<p><code>Microsoft.EntityFrameworkCore.Design.Internal.CSharpHelper</code> is absent in EF Core 3.</p>\n\n<p>I am using it to support sql server constraints install/uninstall with the EF Core Migrations.</p>\n\n<pre><code>public class MyCSharpHelper : CSharpHelper\n{\n    public MyCSharpHelper (IRelationalTypeMappingSource relationalTypeMappingSource) : base(relationalTypeMappingSource)\n    {\n\n    }\n\n    public override string UnknownLiteral(object value)\n    {\n        if (value is MyConstraint[] constraints)\n        {\n            return ConstraintManager.ProcessConstraintLiteral(constraints);\n        }\n        return base.UnknownLiteral(value);\n    }\n}\n</code></pre>\n\n<p>How this should look in EF Core 3 ?</p>\n"}, {"tags": ["c#", ".net-core"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1569448840, "post_id": 58104851, "comment_id": 102604750, "body": "Add a <code>global.json</code> file to force use the 2.2 SDK."}, {"owner": {"reputation": 371, "user_id": 1169287, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b3dd3ae53f1665d3a451826c38e367bd?s=128&d=identicon&r=PG", "display_name": "Staggerlee011", "link": "https://stackoverflow.com/users/1169287/staggerlee011"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1569480422, "post_id": 58104851, "comment_id": 102611900, "body": "hi, would that also let it run as v3? looking more for a fix than a work around."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1569513083, "post_id": 58104851, "comment_id": 102629741, "body": "What does your <code>classes.csproj</code> look like? Specifically, what framework does it target? Have you set it to <code>netcoreapp3.0</code>?  Have you tried building ? Those could be fake errors caused because VS Code hasn&#39;t had a chance to restore the required packages yet."}, {"owner": {"reputation": 371, "user_id": 1169287, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b3dd3ae53f1665d3a451826c38e367bd?s=128&d=identicon&r=PG", "display_name": "Staggerlee011", "link": "https://stackoverflow.com/users/1169287/staggerlee011"}, "edited": false, "score": 0, "creation_date": 1569518180, "post_id": 58104851, "comment_id": 102632168, "body": "hi edited main issue to show outputs."}, {"owner": {"reputation": 788, "user_id": 2712990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97e21f555b54f1e52fa801605e9ea8c2?s=128&d=identicon&r=PG", "display_name": "pavinan", "link": "https://stackoverflow.com/users/2712990/pavinan"}, "edited": false, "score": 0, "creation_date": 1569518312, "post_id": 58104851, "comment_id": 102632228, "body": "Did you install c# extension? <a href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.csharp\" rel=\"nofollow noreferrer\">marketplace.visualstudio.com/items?itemName=ms-vscode.csharp</a>&zwnj;&#8203;."}, {"owner": {"reputation": 371, "user_id": 1169287, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b3dd3ae53f1665d3a451826c38e367bd?s=128&d=identicon&r=PG", "display_name": "Staggerlee011", "link": "https://stackoverflow.com/users/1169287/staggerlee011"}, "edited": false, "score": 0, "creation_date": 1569522347, "post_id": 58104851, "comment_id": 102633962, "body": "yes thats installed. it also tries to do restore when i do a build saying that the  &quot;There are unresolved dependencies. Please execute the restore command to continue.&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 371, "user_id": 1169287, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b3dd3ae53f1665d3a451826c38e367bd?s=128&d=identicon&r=PG", "display_name": "Staggerlee011", "link": "https://stackoverflow.com/users/1169287/staggerlee011"}, "is_accepted": false, "score": 0, "last_activity_date": 1570136782, "creation_date": 1570136782, "answer_id": 58226890, "question_id": 58104851, "link": "https://stackoverflow.com/questions/58104851/post-net-core-3-sdk-install-errors/58226890#58226890", "title": "post .net core 3 sdk install errors", "body": "<p>So finally got this fixed via the following:</p>\n\n<p>Uninstalled .net core 3 \nRebooted \nInstalled .net core 3 again (same installed dotnet-sdk-3.0.30.exe)<br>\nopened terminal and ran \"dotnet --version\" which returned v3.<br>\nran \"dotnet new mvc\"<br>\nopen in visual code and got no errors !!!  </p>\n\n<p>Opened visual studio 2019<br>\nCreate new project - AND STILL NO .net core 3 option !!!<br>\nUpdated visual studio from 16.3.1 to 16.3.2  and i have the option to create 3.0 !!!   </p>\n\n<p>Thanks\nS</p>\n"}], "owner": {"reputation": 371, "user_id": 1169287, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b3dd3ae53f1665d3a451826c38e367bd?s=128&d=identicon&r=PG", "display_name": "Staggerlee011", "link": "https://stackoverflow.com/users/1169287/staggerlee011"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570136782, "creation_date": 1569437437, "last_edit_date": 1569680952, "question_id": 58104851, "link": "https://stackoverflow.com/questions/58104851/post-net-core-3-sdk-install-errors", "title": "post .net core 3 sdk install errors", "body": "<p>On Win10, i had .net core 2.2 installed with vs code running fine (using the c# extension). I installed the latest visual studio, thinking it would also install .net core 3, but it didnt, so i downloaded and installed the sdk from: </p>\n\n<p><a href=\"https://dotnet.microsoft.com/download/thank-you/dotnet-sdk-3.0.100-windows-x64-installer\" rel=\"nofollow noreferrer\">https://dotnet.microsoft.com/download/thank-you/dotnet-sdk-3.0.100-windows-x64-installer</a></p>\n\n<p>Since then when i create a new project (say dotnet new console) I get multiple errors without doing anything: </p>\n\n<p><a href=\"https://i.stack.imgur.com/MOzWS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MOzWS.png\" alt=\"enter image description here\"></a></p>\n\n<p>running <strong>dotnet --version</strong> returns:</p>\n\n<pre><code>dotnet --version\n3.0.100\n</code></pre>\n\n<p><strong>classes.csproj</strong> shows:</p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n  &lt;PropertyGroup&gt;\n    &lt;OutputType&gt;Exe&lt;/OutputType&gt;\n    &lt;TargetFramework&gt;netcoreapp3.0&lt;/TargetFramework&gt;\n  &lt;/PropertyGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n\n<p>running: <strong>dotnet build</strong>  </p>\n\n<pre><code>Microsoft (R) Build Engine version 16.3.0+0f4c62fea for .NET Core\nCopyright (C) Microsoft Corporation. All rights reserved.\n\n  Restore completed in 65.55 ms for E:\\training\\Csharpe\\classes\\classes.csproj.\n  classes -&gt; E:\\training\\Csharpe\\classes\\bin\\Debug\\netcoreapp3.0\\classes.dll\n\n    0 Error(s)\n\nTime Elapsed 00:00:00.95\n</code></pre>\n\n<p><strong>dotnet restore</strong> returns:</p>\n\n<pre><code>  Restore completed in 18.49 ms for E:\\training\\Csharpe\\classes\\classes.csproj.\n</code></pre>\n\n<p>if i create a 2.1 app in visual studio i get no issues, so its just v3???</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": true, "score": 1, "last_activity_date": 1569438118, "creation_date": 1569438118, "answer_id": 58104996, "question_id": 58104829, "link": "https://stackoverflow.com/questions/58104829/why-the-object-is-rotating-also-on-x-and-z-it-should-be-rotating-only-on-y/58104996#58104996", "title": "Why the object is rotating also on x and z ? It should be rotating only on y", "body": "<p>When <code>scaleUp</code> isn't true, you mean to zero out the y component of the direction vector you're passing to <code>Quaternion.LookRotation</code>.  You can use <code>Vector3.Scale</code> to do this:</p>\n\n<pre><code>if (scaleUp)\n{\n    rotation = Quaternion.LookRotation(lookPos);\n    objectToScale.transform.rotation = Quaternion.Slerp(\n            objectToScale.transform.rotation, rotation, counter / duration);\n\n    DimLights(1);\n}\nelse\n{\n    Vector3 flattenedLookDirection = Vector3.Scale(\n            new Vector3(1,0,1),\n            playerCamera.transform.forward);\n\n    rotation = Quaternion.LookRotation(flattenedLookDirection);\n    objectToScale.transform.rotation = Quaternion.Slerp(\n            objectToScale.transform.rotation, rotation, counter / duration);\n\n    DimLights(0);\n}\n</code></pre>\n"}], "owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 58104996, "answer_count": 1, "score": 0, "last_activity_date": 1569438118, "creation_date": 1569437356, "question_id": 58104829, "link": "https://stackoverflow.com/questions/58104829/why-the-object-is-rotating-also-on-x-and-z-it-should-be-rotating-only-on-y", "title": "Why the object is rotating also on x and z ? It should be rotating only on y", "body": "<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class NaviManager : MonoBehaviour\n{\n    public GameObject objectToScale;\n    public GameObject lookAtObjToRotate;\n    public Camera playerCamera;\n    public DimLights dimLights;\n    public float duration = 1f;\n    public Vector3 minSize;\n    public Vector3 maxSize;\n    public bool scaleUp = false;\n    public Coroutine scaleCoroutine;\n    public bool automatic = false;\n    public bool coroutineIsRunning = false;\n\n    private Quaternion rotation;\n    private float counter = 0;\n    private Coroutine lightsCoroutine;\n\n    private void Start()\n    {\n        objectToScale.transform.localScale = minSize;\n    }\n\n    private void Update()\n    {\n        if (automatic)\n        {\n            if (!coroutineIsRunning)\n            {\n                NaviScaling();\n            }\n        }\n        else\n        {\n            if (Input.GetKeyDown(KeyCode.G))\n            {\n                NaviScaling();\n            }\n        }\n    }\n\n    public void NaviScaling()\n    {\n        scaleUp = !scaleUp;\n\n        if (scaleCoroutine != null)\n            StopCoroutine(scaleCoroutine);\n\n        if (scaleUp)\n        {\n            scaleCoroutine = StartCoroutine(ScaleOverTime(objectToScale, maxSize, duration));\n        }\n        else\n        {\n            scaleCoroutine = StartCoroutine(ScaleOverTime(objectToScale, minSize, duration));\n        }\n    }\n\n    private IEnumerator ScaleOverTime(GameObject objectToScale, Vector3 toScale, float duration)\n    {\n        counter = 0;\n        Vector3 startScaleSize = objectToScale.transform.localScale;\n\n        coroutineIsRunning = true;\n\n        while (counter &lt; duration)\n        {\n            counter += Time.deltaTime;\n\n            ScaleAndRotate(startScaleSize, toScale);\n\n            if (counter &gt; duration)\n                coroutineIsRunning = false;\n\n            yield return null;\n        }\n    }\n\n    private void ScaleAndRotate(Vector3 startScaleSize, Vector3 toScale)\n    {\n        objectToScale.transform.localScale = Vector3.Lerp(startScaleSize, toScale, counter / duration);\n\n        var lookPos = lookAtObjToRotate.transform.position - objectToScale.transform.position;\n        lookPos.y = 0;\n        if (scaleUp == true)\n        {\n            rotation = Quaternion.LookRotation(lookPos);\n            objectToScale.transform.rotation = Quaternion.Slerp(objectToScale.transform.rotation, rotation, counter / duration);\n\n            DimLights(1);\n        }\n        else\n        {\n            rotation = Quaternion.LookRotation(playerCamera.transform.forward);\n            objectToScale.transform.rotation = Quaternion.Slerp(objectToScale.transform.rotation, rotation, counter / duration);\n\n            DimLights(0);\n        }\n    }\n\n    private void DimLights(int LightsOnOff)\n    {\n        if (dimLights.lightsOnOff == false)\n            lightsCoroutine = StartCoroutine(dimLights.dimLightOverTime(LightsOnOff, duration));\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "oracle"], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 11368539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bda4cd6896459266f49f99a3b061059c?s=128&d=identicon&r=PG&f=1", "display_name": "KnApP993", "link": "https://stackoverflow.com/users/11368539/knapp993"}, "is_accepted": false, "score": 0, "last_activity_date": 1569487577, "creation_date": 1569487577, "answer_id": 58112916, "question_id": 58104817, "link": "https://stackoverflow.com/questions/58104817/oracle-manageddataaccess-tns-admin-setting-by-environment-variable/58112916#58112916", "title": "Oracle.ManagedDataAccess TNS_ADMIN setting by environment variable", "body": "<p>We did something similar to your problem. Here is my solution:</p>\n\n<pre><code> internal static OracleDatabase ServerConnection()\n        {\n            try\n            {\n                string connectionString = TNSORA.TnsNames();\n\n                OracleConnection connection = new OracleConnection(connectionString);\n                OracleDatabase oracleDatabase = new OracleDatabase(connection);\n                return oracleDatabase;\n            }\n            catch {return null;}\n\n        }\n\ninternal static string TnsNames()\n        {\n//TODO get your TNS from your environment variable, if you have more you have to select by code which is the correct one\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "is_accepted": false, "score": 0, "last_activity_date": 1569492151, "creation_date": 1569492151, "answer_id": 58114327, "question_id": 58104817, "link": "https://stackoverflow.com/questions/58104817/oracle-manageddataaccess-tns-admin-setting-by-environment-variable/58114327#58114327", "title": "Oracle.ManagedDataAccess TNS_ADMIN setting by environment variable", "body": "<p>Simply remove the setting from the .NET config file. The ODP.NET Managed driver will automatically use the current value from <code>TNS_ADMIN</code> environment setting.</p>\n\n<p>Note, this is in contradiction to the Oracle documentation but it works anyway. See also <a href=\"https://stackoverflow.com/questions/28280883/determining-location-of-relevant-tnsnames-ora-file/28283924#28283924\">Determining location of relevant tnsnames.ora file</a></p>\n"}], "owner": {"reputation": 63, "user_id": 3157675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a255059b17ad234485e8f3aceedaf6c1?s=128&d=identicon&r=PG&f=1", "display_name": "user3157675", "link": "https://stackoverflow.com/users/3157675/user3157675"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 590, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569492151, "creation_date": 1569437289, "question_id": 58104817, "link": "https://stackoverflow.com/questions/58104817/oracle-manageddataaccess-tns-admin-setting-by-environment-variable", "title": "Oracle.ManagedDataAccess TNS_ADMIN setting by environment variable", "body": "<p>I am trying to configure my solution that is using the Oracle.ManagedDataAccess library to use TNS names as follows:</p>\n\n<pre><code>&lt;oracle.manageddataaccess.client&gt;\n    &lt;version number=\"*\"&gt;\n      &lt;settings&gt;\n        &lt;setting name=\"TNS_ADMIN\" value=\"C:\\oracle\\TNS\" /&gt; \n      &lt;/settings&gt;\n    &lt;/version&gt;\n  &lt;/oracle.manageddataaccess.client&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>It is possible to set the TNS_ADMIN path value from the environment variables at runtime by code?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "sql", "linq"], "comments": [{"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 1, "creation_date": 1569437862, "post_id": 58104790, "comment_id": 102600776, "body": "Please never just post SQL and ask for conversion. At least show a class model so navigation properties and the multiplicity of associations are visible. Also, tell what type of LINQ you&#39;re targeting (to entities?), and show your own first efforts so we see where <i>specifically</i> you need help. The best LINQ query is hardly ever a 1:1 reproduction of a SQL query."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1569438406, "post_id": 58104790, "comment_id": 102601021, "body": "Your title says &quot;convert LINQ to SQL&quot; but your question provides SQL and says you want to convert it to LINQ. Please make your title consistent. And I agree with Gert - you need to make an attempt here."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1569439873, "post_id": 58104790, "comment_id": 102601606, "body": "<a href=\"https://sqltolinq.com/\" rel=\"nofollow noreferrer\">sqltolinq.com</a>"}], "answers": [{"comments": [{"owner": {"reputation": 458, "user_id": 8961920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e0bc1e1ef0bded68f72ad2ae6ceb6a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hadfield", "link": "https://stackoverflow.com/users/8961920/chris-hadfield"}, "edited": false, "score": 0, "creation_date": 1569510509, "post_id": 58105033, "comment_id": 102628467, "body": "@Micheal - This query hits database for 3 times as it is seen on profiler. I get the result as desired but the problem is that this query filtering the data in memory. Is there any other efficient way to do this..."}, {"owner": {"reputation": 28228, "user_id": 7132550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1063981417044495/picture?type=large", "display_name": "Micha\u0142 Turczyn", "link": "https://stackoverflow.com/users/7132550/micha%c5%82-turczyn"}, "reply_to_user": {"reputation": 458, "user_id": 8961920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e0bc1e1ef0bded68f72ad2ae6ceb6a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hadfield", "link": "https://stackoverflow.com/users/8961920/chris-hadfield"}, "edited": false, "score": 0, "creation_date": 1569510859, "post_id": 58105033, "comment_id": 102628643, "body": "@ChrisHadfield I think it&#39;s not a problem, since anyway, the data will be fetched from databse and .NET is using connection pool, so there shouldn&#39;t be aproblem."}], "tags": [], "owner": {"reputation": 28228, "user_id": 7132550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1063981417044495/picture?type=large", "display_name": "Micha\u0142 Turczyn", "link": "https://stackoverflow.com/users/7132550/micha%c5%82-turczyn"}, "is_accepted": false, "score": 0, "last_activity_date": 1569438253, "creation_date": 1569438253, "answer_id": 58105033, "question_id": 58104790, "link": "https://stackoverflow.com/questions/58104790/how-to-conver-linq-to-sql/58105033#58105033", "title": "How to conver Linq to SQL", "body": "<p>Try (<code>ctx</code> is your database context):</p>\n\n<pre><code>ctx.CustomerStatus\n  .GroupBy(cs =&gt; cs.CustomerId)\n  .Select(gr =&gt; gr.OrderByDescending(cs =&gt; cs.Date).First())\n  .Join(ctx.Status, cs =&gt; cs.Status, st =&gt; st.Id, (cs, st) =&gt; new {cs.CustomerId, Status = st})\n  .Join(ctx.Customers, a =&gt; a.CustomerId, c =&gt; c.Id, (a, c) =&gt; new {a.Status.Status, c.Name});\n</code></pre>\n"}], "owner": {"reputation": 458, "user_id": 8961920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e0bc1e1ef0bded68f72ad2ae6ceb6a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hadfield", "link": "https://stackoverflow.com/users/8961920/chris-hadfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1569439078, "creation_date": 1569437213, "last_edit_date": 1569439078, "question_id": 58104790, "link": "https://stackoverflow.com/questions/58104790/how-to-conver-linq-to-sql", "title": "How to conver Linq to SQL", "body": "<p>How can I can I convert this SQL query to LINQ?</p>\n\n<pre><code>select \n    c.Name as 'Name', s.Status \nfrom \n    (select \n         *, \n         row_number() over (partition by CustomerID order by Date desc) rn\n     from \n         CustomerStatus) detail\ninner join \n    Status s on detail.Status = s.Id\ninner join\n    Customers c on detail.CustomerId = c.Id\nwhere \n    detail.rn = 1\n</code></pre>\n\n<p>I am unable to convert this SQL to linq - how can I do this?</p>\n"}, {"tags": ["c#", "xamarin", "plugins", "xamarin.android"], "answers": [{"tags": [], "owner": {"reputation": 1980, "user_id": 4977870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XYtfY.jpg?s=128&g=1", "display_name": "Anas Alweish", "link": "https://stackoverflow.com/users/4977870/anas-alweish"}, "is_accepted": false, "score": 2, "last_activity_date": 1569442068, "last_edit_date": 1592644375, "creation_date": 1569442068, "answer_id": 58105885, "question_id": 58104762, "link": "https://stackoverflow.com/questions/58104762/xamarin-plugin-media-unable-to-get-file-location/58105885#58105885", "title": "Xamarin Plugin.Media &quot;Unable to get file location&quot;", "body": "<p>Take a look at the answer <a href=\"https://forums.xamarin.com/discussion/comment/318254/#Comment_318254\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p><strong>Quote</strong></p>\n<p>@<strong>Kevelop</strong> said:</p>\n<p>When i use below file_paths.xml file (exactly as mentioned in the mediaPlugin README!)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n  &lt;external-files-path name=&quot;my_images&quot; path=&quot;Pictures&quot; /&gt;\n  &lt;external-files-path name=&quot;my_movies&quot; path=&quot;Movies&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>It works only when the default location for memory in Android settings is set to internal memory. When set to SD-Card <strong>IT DOES NOT WORK</strong>!</p>\n<p>When i change file_paths.xml file to this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n  &lt;external-path name=&quot;my_images&quot; path=&quot;Android/data/com.plugin.mediatest/files/Pictures&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>It works for <strong>BOTH</strong> internal memory and SD-Card.</p>\n</blockquote>\n"}], "owner": {"reputation": 33, "user_id": 11826149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf94b5c5036cc8033688eb061ea7d259?s=128&d=identicon&r=PG&f=1", "display_name": "TRMN8R", "link": "https://stackoverflow.com/users/11826149/trmn8r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569570086, "creation_date": 1569437115, "last_edit_date": 1569570086, "question_id": 58104762, "link": "https://stackoverflow.com/questions/58104762/xamarin-plugin-media-unable-to-get-file-location", "title": "Xamarin Plugin.Media &quot;Unable to get file location&quot;", "body": "<p>Very odd case. My xml files are set up exactly the way the readme says it should be. Yet when I try to access CrossMedia.Current.TakePhotoAsync(), I get the following Exception:</p>\n\n<blockquote>\n  <p>Unable to get file location. This most likely means that the file provider information is not set in your Android Manifest file. Please check documentation on how to set this up in your project.</p>\n</blockquote>\n\n<p>But, here's my AndroidManifest.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\" android:versionCode=\"1\" android:versionName=\"1.0\" package=\"com.companyname.clipidapp\" android:installLocation=\"preferExternal\"&gt;\n    &lt;uses-sdk android:minSdkVersion=\"21\" android:targetSdkVersion=\"28\" /&gt;\n    &lt;application android:label=\"ClipIDApp.Android\"&gt;\n        &lt;provider android:name=\"android.support.v4.content.FileProvider\" android:authorities=\"com.companyname.clipidapp.fileprovider\" android:exported=\"false\" android:grantUriPermissions=\"true\"&gt;\n            &lt;meta-data android:name=\"android.support.FILE_PROVIDER_PATHS\" android:resource=\"@xml/file_paths\"&gt;&lt;/meta-data&gt;\n        &lt;/provider&gt;\n    &lt;/application&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>And here's file_paths</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;paths xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n  &lt;external-files-path name=\"my_images\" path=\"Pictures\" /&gt;\n  &lt;external-files-path name=\"my_movies\" path=\"Movies\" /&gt;\n&lt;/paths&gt;\n</code></pre>\n\n<p>And here's the code where I try to access the TakePhotoAsync() function</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>try {\n    _mediaFile = await CrossMedia.Current.TakePhotoAsync(new StoreCameraMediaOptions\n    {\n        Directory = \"temp\",\n        SaveToAlbum = false,\n        CompressionQuality = 75,\n        CustomPhotoSize = 50,\n        PhotoSize = PhotoSize.MaxWidthHeight,\n        MaxWidthHeight = 2000,\n        DefaultCamera = CameraDevice.Front,\n        Name = \"test.jpg\"\n    });\n    if (_mediaFile == null) return;\n    image.Source = ImageSource.FromStream(() =&gt;\n    {\n        var stream = _mediaFile.GetStream();\n        return stream;\n    });\n}\ncatch(Exception Ex) \n{\n    await Current.MainPage.DisplayAlert(\"Error\", Ex.Message, \"OK\");\n}\n</code></pre>\n"}, {"tags": ["c#", "stringbuilder", "tryparse", "c#-7.2", "system.memory"], "comments": [{"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 1, "creation_date": 1569497169, "post_id": 58104693, "comment_id": 102620654, "body": "These overloads are not supported in .NET Framework, and thus they&#39;re not present in .NET Standard 2 either (note that no version of .NET Framework implements .NET Standard 2.1). They can&#39;t be implemented separately because these types are part of the system libraries, so even if .NET Standard pretended they existed they&#39;d still fail to work at runtime when running on .NET Framework. In theory equivalent <code>Span</code> methods could be implemented on .NET Framework, but then they would still not be present on the original classes, so you&#39;d still need to multi-target anyway."}], "owner": {"reputation": 7308, "user_id": 689185, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/098eb2c81f9a79e33caa5c3a4c4cdb56?s=128&d=identicon&r=PG", "display_name": "rianjs", "link": "https://stackoverflow.com/users/689185/rianjs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569436797, "creation_date": 1569436797, "question_id": 58104693, "link": "https://stackoverflow.com/questions/58104693/is-there-a-way-to-use-the-readonlyspanchar-overloads-for-stringbuilder-and-try", "title": "Is there a way to use the ReadOnlySpan&lt;char&gt; overloads for StringBuilder and TryParse methods in a netstandard2.0 class library?", "body": "<p>I have a NetStandard2.0 class library. I have imported the <code>System.Memory</code> nuget package, which means I can use <code>Span&lt;T&gt;</code> inside it. That's well and good, but the nuget package doesn't seem to include the <code>ReadOnlySpan&lt;char&gt;</code> overloads for <code>StringBuilder</code> and the <code>TryParse()</code> methods for other primitive types.</p>\n\n<p>If I could upgrade to netstandard21, I would do that, and this problem would go away, but I can't for reasons beyond my control.</p>\n\n<p>This code works in a <code>netcoreapp2.2</code> program, but not a netstandard20 class library, even with <code>System.Memory</code> as a dependency:</p>\n\n<pre><code>public static int GetIbanIntValueForCharacter(ReadOnlySpan&lt;char&gt; span)\n{\n    // Stuff\n\n    if (int.TryParse(span, out var val))\n    {\n        return val;\n    }\n\n    // More stuff\n}\n</code></pre>\n\n<p>Is there another nuget package that I can reference that brings span support to <code>StringBuilder</code> and <code>TryParse</code> to netstandard20 libraries?</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "blazor"], "comments": [{"owner": {"reputation": 1769, "user_id": 3471712, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001030341259/picture?type=large", "display_name": "Auguste", "link": "https://stackoverflow.com/users/3471712/auguste"}, "edited": false, "score": 0, "creation_date": 1569437602, "post_id": 58104669, "comment_id": 102600678, "body": "This one is problem more advanced than what you&#39;re trying to do, but if you are trying to create a wizard form with each page or modal to do something different, please refer to the link below:  <a href=\"https://www.c-sharpcorner.com/UploadFile/4b0136/getting-started-with-wizard-in-Asp-Net-mvc-5-part-1/\" rel=\"nofollow noreferrer\">c-sharpcorner.com/UploadFile/4b0136/&hellip;</a>"}, {"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "edited": false, "score": 0, "creation_date": 1569479412, "post_id": 58104669, "comment_id": 102611468, "body": "You can do it with a <a href=\"https://docs.microsoft.com/en-us/aspnet/core/blazor/javascript-interop?view=aspnetcore-3.0\" rel=\"nofollow noreferrer\">JS interop</a>"}], "owner": {"reputation": 547, "user_id": 10022456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/280ea42f72565038ee34a59abc5d3077?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/10022456/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569436664, "creation_date": 1569436664, "question_id": 58104669, "link": "https://stackoverflow.com/questions/58104669/how-do-i-get-my-button-to-jump-to-the-top-of-the-page-using-a-c-method", "title": "How do I get my button to jump to the top of the page using a C# method?", "body": "<p>I am using C# to create a method called <code>GoToNextStep</code> which will take the user to the next page of the form on click.  The method currently looks like this:</p>\n\n<p>Wizard.cs File</p>\n\n<pre><code>public void GoToNextStep()\n    {\n\n\n        Step += 1;            \n        Progress += .2;\n        if (Step == 6)\n        {\n            Progress = 100;\n        }\n        SetNavButtons();\n    }\n</code></pre>\n\n<p>Form.razor File</p>\n\n<pre><code>&lt;div id=\"form-navigation-container\"&gt;\n   @if (@Wizard.Step != 1)\n   {\n       &lt;MatButton Class=\"previous\" disabled=\"@Wizard.PreviousButtonDisabled\" @onclick=\"Wizard.GoToPreviousStep\"&gt;Previous Step&lt;/MatButton&gt;\n   }\n\n   @if (@Wizard.Step != 5)\n   {\n       &lt;MatButton Unelevated=\"true\" disabled=\"@Wizard.NextButtonDisabled\" @onclick=\"Wizard.GoToNextStep\"&gt;Next Step&lt;/MatButton&gt;\n   }\n&lt;/div&gt;\n</code></pre>\n\n<p>I have tried looking around for help regarding C# jump links but was not able to find anything.  Please note that I am very new to C# and would appreciate an explanation of any and all answers.  Thank you for your help!</p>\n"}, {"tags": ["c#", ".net", "asp.net-core-2.2"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1569437442, "post_id": 58104568, "comment_id": 102600621, "body": "Any strange things when looking at the contents of the .proj files?"}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1569438907, "post_id": 58104568, "comment_id": 102601229, "body": "Not sure about <code>dotnet run kestrel</code> (Never seen that before and it&#39;s not documented.), but <code>dotnet run</code> starts a <i>project</i>, not a published site, and will default to <code>Development</code> environment and <code>Debug</code> config. After publishing, you should just be running <code>dotnet MyApp.dll</code>."}, {"owner": {"reputation": 11, "user_id": 12120943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1deb2738900b98b7b8a41205513a03?s=128&d=identicon&r=PG&f=1", "display_name": "acarteas", "link": "https://stackoverflow.com/users/12120943/acarteas"}, "edited": false, "score": 0, "creation_date": 1569444804, "post_id": 58104568, "comment_id": 102603533, "body": "Doing a dotnet MyApp.dll seems to indeed run it in release mode.  I took the dotnet run kestrel from a CI/CD script that someone else wrote for the project.  Maybe the kestrel thing is just for debugging and not meant for production.  Regardless thanks for the tip.  If you write a reply, I&#39;ll mark it as answered."}], "owner": {"reputation": 11, "user_id": 12120943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1deb2738900b98b7b8a41205513a03?s=128&d=identicon&r=PG&f=1", "display_name": "acarteas", "link": "https://stackoverflow.com/users/12120943/acarteas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 514, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569436430, "creation_date": 1569436238, "last_edit_date": 1569436430, "question_id": 58104568, "link": "https://stackoverflow.com/questions/58104568/dotnet-publish-c-release-still-produces-debug-symbols-why", "title": "dotnet publish -c Release still produces debug symbols. Why?", "body": "<p>I'm using the DEBUG constant in an ASP.NET Core 2.2 application to toggle various features when not in debug mode.  However, when I publish the app using dotnet publish in release mode, it appears as though the DEBUG constant is still defined.  </p>\n\n<p>Here's my debug project configuration:</p>\n\n<p><img src=\"https://i.stack.imgur.com/RWslu.png\" alt=\"debug configuration\"></p>\n\n<p>Here's my release config: </p>\n\n<p><img src=\"https://i.stack.imgur.com/uqSIH.png\" alt=\"release configuration\"></p>\n\n<p>And lastly, my conditional logging code: </p>\n\n<p><img src=\"https://i.stack.imgur.com/etZxc.png\" alt=\"conditional code\"></p>\n\n<p>When I run </p>\n\n<pre><code>dotnet publish --configuration Release\n</code></pre>\n\n<p>And then try to run my code with kestrel using </p>\n\n<pre><code>dotnet run kestrel\n</code></pre>\n\n<p>I get the debug warning present in my code along with the notification</p>\n\n<pre><code>Hosting environment: Production\n</code></pre>\n\n<p>How can I get the DEBUG constant to not be defined when I build and deploy!?  Thanks a bunch for any help.</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6"], "comments": [{"owner": {"reputation": 3023, "user_id": 5587393, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d83bf6603c6c7a002ab8e18e418e2e5?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Luzzara", "link": "https://stackoverflow.com/users/5587393/marco-luzzara"}, "edited": false, "score": 0, "creation_date": 1569438409, "post_id": 58104448, "comment_id": 102601023, "body": "Why not in the <code>&lt;appSettings&gt;</code>?"}, {"owner": {"reputation": 79, "user_id": 1537714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/HCkb4.png?s=128&g=1", "display_name": "garuda one", "link": "https://stackoverflow.com/users/1537714/garuda-one"}, "reply_to_user": {"reputation": 3023, "user_id": 5587393, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d83bf6603c6c7a002ab8e18e418e2e5?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Luzzara", "link": "https://stackoverflow.com/users/5587393/marco-luzzara"}, "edited": false, "score": 0, "creation_date": 1569507268, "post_id": 58104448, "comment_id": 102626463, "body": "As in check for a key and set the initializer through code? That&#39;s a good idea, thank you. I am still curious to know why my config entry doesn&#39;t work though."}, {"owner": {"reputation": 79, "user_id": 1537714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/HCkb4.png?s=128&g=1", "display_name": "garuda one", "link": "https://stackoverflow.com/users/1537714/garuda-one"}, "reply_to_user": {"reputation": 3023, "user_id": 5587393, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d83bf6603c6c7a002ab8e18e418e2e5?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Luzzara", "link": "https://stackoverflow.com/users/5587393/marco-luzzara"}, "edited": false, "score": 0, "creation_date": 1569614855, "post_id": 58104448, "comment_id": 102667810, "body": "Turns out using <code>appSettings</code> isn&#39;t ideal for me. I would prefer for the context and its project to be the one deciding, not all of the calling apps. I don&#39;t want other projects to worry about including an <code>appSettings</code> key"}], "owner": {"reputation": 79, "user_id": 1537714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/HCkb4.png?s=128&g=1", "display_name": "garuda one", "link": "https://stackoverflow.com/users/1537714/garuda-one"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569435722, "creation_date": 1569435722, "question_id": 58104448, "link": "https://stackoverflow.com/questions/58104448/how-do-i-disable-entity-framework-database-initialization-via-app-config", "title": "How do I disable Entity Framework database initialization via app.config?", "body": "<p>(Entity Framework 6 and SQL Server)</p>\n\n<p>I realize I can do it via code with </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Database.SetInitializer(new NullDatabaseInitializer&lt;FirmaContext&gt;());\n</code></pre>\n\n<p>and that works, but I would like to configure it per-environment via app.config. </p>\n\n<p>Below is what I currently have, but it's not preventing initialization (i.e. in <code>Database.Log</code>, I still see queries against <code>INFORMATION_SCHEMA.TABLES</code> and <code>dbo.__MigrationHistory</code>):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;entityFramework&gt;\n&lt;!-- (defaultConnectionFactory and providers nodes ommitted) --&gt; \n    &lt;contexts&gt;\n      &lt;context type=\"My.Long.Namespace.Data.DbContexts.MyContext, My.Long.Namespace.Data\"&gt;\n        &lt;databaseInitializer type=\"System.Data.Entity.NullDatabaseInitializer`1[[My.Long.Namespace.Data.DbContexts.MyContext, My.Long.Namespace.Data\"/&gt;\n      &lt;/context&gt;\n    &lt;/contexts&gt;\n  &lt;/entityFramework&gt;\n</code></pre>\n\n<p>I also tried this to no avail:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;context type=\"My.Long.Namespace.Data.DbContexts.MyContext, My.Long.Namespace.Data\" disableDatabaseInitialization=\"true\"&gt;\n&lt;/context&gt;\n</code></pre>\n\n<p>(I got the assembly names via <code>(typeof(MyContext)).AssemblyQualifiedName</code> and <code>(typeof(NullDatabaseInitializer&lt;MyContext&gt;).AssemblyQualifiedName)</code>)</p>\n"}, {"tags": ["c#", "xml-deserialization"], "comments": [{"owner": {"reputation": 1356, "user_id": 4358137, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bfsy9.jpg?s=128&g=1", "display_name": "Seth Kitchen", "link": "https://stackoverflow.com/users/4358137/seth-kitchen"}, "edited": false, "score": 1, "creation_date": 1569436327, "post_id": 58104343, "comment_id": 102600158, "body": "[XmlArray(&quot;VectorElement&quot;)]"}], "answers": [{"comments": [{"owner": {"reputation": 4143, "user_id": 994541, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a73cce4c1e9faad5ff99a10ceb6d1dba?s=128&d=identicon&r=PG", "display_name": "iaacp", "link": "https://stackoverflow.com/users/994541/iaacp"}, "edited": false, "score": 0, "creation_date": 1569438738, "post_id": 58104741, "comment_id": 102601163, "body": "I tried this, but when I call <code>deserializer.Deserialize&lt;TMMAI&gt;(response);</code> to do the deserialization, I get an exception stating that <code>System.MissingMethodException: &#39;No parameterless constructor defined for this object.&#39;</code>. I tried adding a parameterless constructor to the TMMAI class, but I&#39;m still getting the same error. Any ideas?"}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "reply_to_user": {"reputation": 4143, "user_id": 994541, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a73cce4c1e9faad5ff99a10ceb6d1dba?s=128&d=identicon&r=PG", "display_name": "iaacp", "link": "https://stackoverflow.com/users/994541/iaacp"}, "edited": false, "score": 0, "creation_date": 1569439145, "post_id": 58104741, "comment_id": 102601332, "body": "Just add a default constructor in this class. Updated the code above."}, {"owner": {"reputation": 4143, "user_id": 994541, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a73cce4c1e9faad5ff99a10ceb6d1dba?s=128&d=identicon&r=PG", "display_name": "iaacp", "link": "https://stackoverflow.com/users/994541/iaacp"}, "edited": false, "score": 0, "creation_date": 1569440134, "post_id": 58104741, "comment_id": 102601697, "body": "That&#39;s exactly what I had added too, but it&#39;s still giving the same error for some reason."}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "reply_to_user": {"reputation": 4143, "user_id": 994541, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a73cce4c1e9faad5ff99a10ceb6d1dba?s=128&d=identicon&r=PG", "display_name": "iaacp", "link": "https://stackoverflow.com/users/994541/iaacp"}, "edited": false, "score": 0, "creation_date": 1569448339, "post_id": 58104741, "comment_id": 102604619, "body": "Remove Partial from the class declaration."}], "tags": [], "owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "is_accepted": false, "score": 0, "last_activity_date": 1569439135, "last_edit_date": 1569439135, "creation_date": 1569437038, "answer_id": 58104741, "question_id": 58104343, "link": "https://stackoverflow.com/questions/58104343/deserializing-xml-into-a-c-objects/58104741#58104741", "title": "Deserializing XML into a C# Objects", "body": "<p>Visual studio 2015 or greater have built-in XML to class converter. It might give you advantage over serialization/deserialization.Goto Edit -> Past special -> XML to Classes.</p>\n\n<p>Below is the generated class using VS2019 - </p>\n\n<pre><code>// NOTE: Generated code may require at least .NET Framework 4.5 or .NET Core/Standard 2.0.\n    /// &lt;remarks/&gt;\n    [System.SerializableAttribute()]\n    [System.ComponentModel.DesignerCategoryAttribute(\"code\")]\n    [System.Xml.Serialization.XmlTypeAttribute(AnonymousType = true)]\n    [System.Xml.Serialization.XmlRootAttribute(Namespace = \"\", IsNullable = false)]\n    public partial class TMMAI\n    {\n\n        private uint stringReturnField;\n\n        private string[] vectorReturnField;\n        // Default constructor\n        public TMMAI() {} \n        /// &lt;remarks/&gt;\n        public uint StringReturn\n        {\n            get\n            {\n                return this.stringReturnField;\n            }\n            set\n            {\n                this.stringReturnField = value;\n            }\n        }\n\n        /// &lt;remarks/&gt;\n        [System.Xml.Serialization.XmlArrayItemAttribute(\"VectorElement\", IsNullable = false)]\n        public string[] VectorReturn\n        {\n            get\n            {\n                return this.vectorReturnField;\n            }\n            set\n            {\n                this.vectorReturnField = value;\n            }\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 4143, "user_id": 994541, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a73cce4c1e9faad5ff99a10ceb6d1dba?s=128&d=identicon&r=PG", "display_name": "iaacp", "link": "https://stackoverflow.com/users/994541/iaacp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569439135, "creation_date": 1569435313, "last_edit_date": 1569436800, "question_id": 58104343, "link": "https://stackoverflow.com/questions/58104343/deserializing-xml-into-a-c-objects", "title": "Deserializing XML into a C# Objects", "body": "<p>I have the following XML schema that I'm trying to deserialize into a C# objects:</p>\n\n<pre><code>&lt;TMMAI&gt;\n     &lt;StringReturn&gt;123456789&lt;/StringReturn&gt;\n     &lt;VectorReturn&gt;\n          &lt;VectorElement&gt;test1&lt;/VectorElement&gt;\n          &lt;VectorElement&gt;test2&lt;/VectorElement&gt;\n          &lt;VectorElement&gt;test3&lt;/VectorElement&gt;\n          &lt;VectorElement&gt;test4&lt;/VectorElement&gt;\n          &lt;VectorElement&gt;test5&lt;/VectorElement&gt;\n          &lt;VectorElement&gt;test6&lt;/VectorElement&gt;\n          &lt;VectorElement&gt;test7&lt;/VectorElement&gt;\n     &lt;/VectorReturn&gt;\n&lt;/TMMAI&gt;\n</code></pre>\n\n<p>and the C# objects I want to deserialize into (generated from <a href=\"https://xmltocsharp.azurewebsites.net/\" rel=\"nofollow noreferrer\">https://xmltocsharp.azurewebsites.net/</a>, but pasting in the above XML schema):</p>\n\n<pre><code>    [XmlRoot(ElementName = \"VectorReturn\")]\n    public class VectorReturn\n    {\n        [XmlElement(ElementName = \"VectorElement\")]\n        public List&lt;string&gt; VectorElement { get; set; }\n    }\n\n    [XmlRoot(ElementName = \"TMMAI\")]\n    public class TMMAI\n    {\n        [XmlElement(ElementName = \"VectorReturn\")]\n        public VectorReturn VectorReturn { get; set; }\n        [XmlElement(ElementName= \"StringReturn\")]\n        public string StringReturn { get; set; }\n    }\n</code></pre>\n\n<p>After initiating and using the default XmlDeserializer, <code>VectorElement</code> has a length of 0 with no data inside of it.</p>\n\n<p>I also tried created my own object hierarchy that was the following, instead of using the generation tool:</p>\n\n<pre><code>    [XmlRoot(\"TMMAI\")]\n    public class TMMAI\n    {\n        [XmlElement(\"StringReturn\")]\n        public string StringReturn { get; set; }\n        [XmlElement(\"VectorReturn\")]\n        public VectorReturn VectorReturn { get; set; }\n    }\n\n    public class VectorReturn\n    {\n        [XmlElement(\"VectorElement\")]\n        public List&lt;VectorElement&gt; VectorElements { get; set; }\n    }\n\n    public class VectorElement\n    {\n        public string Element { get; set; }\n    }\n</code></pre>\n\n<p>This one got me closer - <code>VectorElements</code> was a size of 7, which was the correct number of <code>&lt;VectorElement&gt;</code> items in the test XML, but the value of each VectorElement.Element was <code>null</code>.</p>\n\n<p>I'm close, but I can't tell what's wrong at this point. A wrong attribute? Incorrect object design? Need to use the XmlArray attribute?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 7159, "user_id": 1251127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w1M26.jpg?s=128&g=1", "display_name": "ESG", "link": "https://stackoverflow.com/users/1251127/esg"}, "edited": false, "score": 1, "creation_date": 1569435453, "post_id": 58104328, "comment_id": 102599800, "body": "Lists in C# have to be of a single type. You either need a class with 3 properties, or a <code>Tuple&lt;T1, T2, T3&gt;</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1569435467, "post_id": 58104328, "comment_id": 102599806, "body": "You can&#39;t have a list of multiple types. You can either have a list of a common base class or common interface."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12120883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/567bec3b2060cbcc888ec1032b621142?s=128&d=identicon&r=PG&f=1", "display_name": "Bluperman949", "link": "https://stackoverflow.com/users/12120883/bluperman949"}, "edited": false, "score": 0, "creation_date": 1569438268, "post_id": 58104381, "comment_id": 102600950, "body": "Thank you! I completely forgot about tuples&#39; existence."}], "tags": [], "owner": {"reputation": 8367, "user_id": 381708, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ee6de571b1290a66e9e7fa12f4cbfa84?s=128&d=identicon&r=PG", "display_name": "Chris Hutchinson", "link": "https://stackoverflow.com/users/381708/chris-hutchinson"}, "is_accepted": false, "score": 4, "last_activity_date": 1569435934, "last_edit_date": 1569435934, "creation_date": 1569435466, "answer_id": 58104381, "question_id": 58104328, "link": "https://stackoverflow.com/questions/58104328/c-dictionary-that-whose-value-is-a-list-of-multiple-types/58104381#58104381", "title": "C# - Dictionary that whose value is a List of multiple Types", "body": "<p>Create a <strong>data structure</strong> to contain the types:</p>\n\n<pre><code>class BlockDescriptor \n{\n    public Tile Tile { get; }\n    public int Hardness { get;}\n    public string DisplayName { get; }\n    public bool HasGravity { get; }\n\n    public BlockDescriptor(Tile tile, int hardness, string name, bool gravity)\n    {\n        Tile = tile;\n        Hardness = hardness;\n        DisplayName = name;\n        HasGravity = gravity;\n    }\n}\n</code></pre>\n\n<p>Then you can store them in a dictionary:</p>\n\n<pre><code>Dictionary&lt;int, BlockDescriptor&gt; blockProperties = new Dictionary&lt;int, BlockDescriptor&gt;();\nblockProperties.Add(0, new BlockDescriptor(/* Tile */, 1, \"Block A\", false);\nblockProperties.Add(1, new BlockDescriptor(/* Tile */, 2, \"Block B\", true); \n</code></pre>\n\n<p>Alternatively you could use a <strong>tuple</strong>:</p>\n\n<pre><code>var blockProperties = new Dictionary&lt;int, (Tile, int, string, bool)&gt;();\nblockProperties.Add(0, (/* Tile */, 0, \"Block A\", false));\nblockProperties.Add(1, (/* Tile */, 1, \"Block B\", true));\n</code></pre>\n\n<p>I recommend choosing a data structure, because you can implement various interfaces such as IEquatable, IEqualityComparer, to affect the behavior within LINQ queries, containers, etc. Additionally, it provides potential for various introspection properties (e.g. IsUnbreakable, HasTileWithTransparency), or methods (e.g. CalculateHardness)</p>\n"}], "owner": {"reputation": 1, "user_id": 12120883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/567bec3b2060cbcc888ec1032b621142?s=128&d=identicon&r=PG&f=1", "display_name": "Bluperman949", "link": "https://stackoverflow.com/users/12120883/bluperman949"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569450769, "creation_date": 1569435193, "question_id": 58104328, "link": "https://stackoverflow.com/questions/58104328/c-dictionary-that-whose-value-is-a-list-of-multiple-types", "title": "C# - Dictionary that whose value is a List of multiple Types", "body": "<p>I'm trying to make a \"Block\" class for a side-scrolling cave game in Unity 2D. I'm looking to have a HashMap/Dictionary whose key is and int (the block's ID) and the value is a List of multiple types, say, the block's texture (Tile), display name (string), hardness (int), or relationship with gravity (bool).</p>\n\n<p>I'd like it to work like this, but I know this isn't how C# works.</p>\n\n<pre><code>Dictionary&lt;int, List&lt;Tile, int, string, bool&gt;&gt; blockProperties;\n</code></pre>\n"}, {"tags": ["c#", "selenium", "internet-explorer", ".net-core", "visual-studio-2019"], "comments": [{"owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "edited": false, "score": 1, "creation_date": 1569449689, "post_id": 58104277, "comment_id": 102604979, "body": "For anyone wondering, I was able to reproduce the exact issue. I will try to troubleshoot."}, {"owner": {"reputation": 3366, "user_id": 100534, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7669ca80c4655a18e463b42a4238fa19?s=128&d=identicon&r=PG", "display_name": "Doctor Blue", "link": "https://stackoverflow.com/users/100534/doctor-blue"}, "reply_to_user": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "edited": false, "score": 0, "creation_date": 1569495393, "post_id": 58104277, "comment_id": 102619688, "body": "Thanks @Christine and good luck!"}, {"owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "edited": false, "score": 1, "creation_date": 1569502542, "post_id": 58104277, "comment_id": 102623573, "body": "It\u2019s weird because IE will actually navigate to the URL, then it times out afterwards like it\u2019s waiting for something else. I read another post suggesting to update <code>PageLoadStrategy</code> to <code>Eager</code> but that didn\u2019t work."}, {"owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "edited": false, "score": 1, "creation_date": 1569502686, "post_id": 58104277, "comment_id": 102623654, "body": "I would recommend opening a GitHub issue in the Selenium repo for this. There&#39;s no discernible reason why the code isn&#39;t working, and the Selenium devs might point you to a special setting that could help."}], "answers": [{"comments": [{"owner": {"reputation": 3366, "user_id": 100534, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7669ca80c4655a18e463b42a4238fa19?s=128&d=identicon&r=PG", "display_name": "Doctor Blue", "link": "https://stackoverflow.com/users/100534/doctor-blue"}, "edited": false, "score": 0, "creation_date": 1569495263, "post_id": 58111047, "comment_id": 102619618, "body": "Apologies. I only set the timeout to 10 seconds because it was wasteful waiting for the default timeout length of 60 seconds. Removing the timeout sadly just makes the code take longer to fail. I should&#39;ve mentioned this in my original post!"}, {"owner": {"reputation": 10400, "user_id": 7062291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ca0ff9016cfdb9352adaf4435737d6?s=128&d=identicon&r=PG&f=1", "display_name": "Zhi Lv", "link": "https://stackoverflow.com/users/7062291/zhi-lv"}, "reply_to_user": {"reputation": 3366, "user_id": 100534, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7669ca80c4655a18e463b42a4238fa19?s=128&d=identicon&r=PG", "display_name": "Doctor Blue", "link": "https://stackoverflow.com/users/100534/doctor-blue"}, "edited": false, "score": 0, "creation_date": 1569567809, "post_id": 58111047, "comment_id": 102646034, "body": "Please check the Edit, you could try to extend the waiting time or using the IJavaScriptExecutor to execute the JavaScript script to decrease the spend time. Another point, please check the navigate url, whether the url is correct and whether it spends too much time to load or not? You could try to test my code first, to check whether it works well."}, {"owner": {"reputation": 3366, "user_id": 100534, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7669ca80c4655a18e463b42a4238fa19?s=128&d=identicon&r=PG", "display_name": "Doctor Blue", "link": "https://stackoverflow.com/users/100534/doctor-blue"}, "edited": false, "score": 0, "creation_date": 1569604495, "post_id": 58111047, "comment_id": 102664258, "body": "Sorry, the timeout is not the issue, as I&#39;ve pointed out already. The default timeout (60 seconds) times out too, and it doesn&#39;t even get to <code>SendKeys</code>. It times out on the Navigate line."}, {"owner": {"reputation": 10400, "user_id": 7062291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ca0ff9016cfdb9352adaf4435737d6?s=128&d=identicon&r=PG&f=1", "display_name": "Zhi Lv", "link": "https://stackoverflow.com/users/7062291/zhi-lv"}, "reply_to_user": {"reputation": 3366, "user_id": 100534, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7669ca80c4655a18e463b42a4238fa19?s=128&d=identicon&r=PG", "display_name": "Doctor Blue", "link": "https://stackoverflow.com/users/100534/doctor-blue"}, "edited": false, "score": 0, "creation_date": 1569836405, "post_id": 58111047, "comment_id": 102712142, "body": "how much time the website will spend to load the page? Have you ever used the F12 developer tools to check it? might be you need to improve website performance and decrease the page load time."}], "tags": [], "owner": {"reputation": 10400, "user_id": 7062291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ca0ff9016cfdb9352adaf4435737d6?s=128&d=identicon&r=PG&f=1", "display_name": "Zhi Lv", "link": "https://stackoverflow.com/users/7062291/zhi-lv"}, "is_accepted": false, "score": 0, "last_activity_date": 1569567711, "last_edit_date": 1569567711, "creation_date": 1569480650, "answer_id": 58111047, "question_id": 58104277, "link": "https://stackoverflow.com/questions/58104277/net-core-vs2019-and-selenium-ie-driver-doesnt-work-webdriverexception-ht/58111047#58111047", "title": ".NET Core, VS2019, and Selenium: IE Driver Doesn&#39;t Work (WebDriverException - HTTP request timeout)", "body": "<blockquote>\n  <p>using (var driver = new InternetExplorerDriver(binPath, opts, new\n  TimeSpan(0, 0, 10)))</p>\n</blockquote>\n\n<p>The issue is relate to the InternetExplorerDriver setting (the above code). Please check the <a href=\"https://seleniumhq.github.io/selenium/docs/api/dotnet/html/M_OpenQA_Selenium_IE_InternetExplorerDriver__ctor_7.htm\" rel=\"nofollow noreferrer\">InternetExplorerDriver Constructor (String, InternetExplorerOptions, TimeSpan)</a> method, we can see that the TimeSpan means the maximum amount of time to wait for each command. if the waiting time is over, it will show this error. </p>\n\n<p>To prevent this error, you could try to extend the waiting time or remove this setting. Code as below:</p>\n\n<pre><code>        using (var driver = new InternetExplorerDriver(binPath, opts))\n        {\n            driver.Navigate().GoToUrl(\"https://www.bing.com/\"); // \"Line 17\" in above error. This line times out!\n            IWebElement someTextbox = driver.FindElement(By.Id(\"sb_form_q\")); // Never gets here...\n            someTextbox.SendKeys(\"abc123\"); \n        }\n</code></pre>\n\n<p><strong>Edit</strong>:</p>\n\n<p>You could extend the waiting time, such as set it to 20 seconds.</p>\n\n<p>Besides, when we use the SendKeys method to enter values into the textbox, it might be very slow and spend too much time. As a workaround, to decrease the spend time, we could use the IJavaScriptExecutor to execute the JavaScript script, and set the value.</p>\n\n<p>Code as below:</p>\n\n<pre><code>        using (var driver = new InternetExplorerDriver(binPath, opts, new TimeSpan(0, 0, 20)))\n        {\n            driver.Navigate().GoToUrl(\"https://www.bing.com/\"); // \"Line 17\" in above error. This line times out!\n            //IWebElement someTextbox = driver.FindElement(By.Id(\"sb_form_q\")); // Never gets here...\n            //someTextbox.SendKeys(\"abc123\");\n            var element = driver.FindElementById(\"sb_form_q\");\n\n            var script = \"document.getElementById('sb_form_q').value = 'webdriver';\";\n            IJavaScriptExecutor jse = (IJavaScriptExecutor)driver;\n\n            jse.ExecuteScript(script, element); \n            element.SendKeys(Keys.Enter); \n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12376301, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/9743196a9accfc1b83a237387740a343?s=128&d=identicon&r=PG", "display_name": "Nazif Sahim", "link": "https://stackoverflow.com/users/12376301/nazif-sahim"}, "is_accepted": false, "score": 0, "last_activity_date": 1573788380, "creation_date": 1573788380, "answer_id": 58869903, "question_id": 58104277, "link": "https://stackoverflow.com/questions/58104277/net-core-vs2019-and-selenium-ie-driver-doesnt-work-webdriverexception-ht/58869903#58869903", "title": ".NET Core, VS2019, and Selenium: IE Driver Doesn&#39;t Work (WebDriverException - HTTP request timeout)", "body": "<p>Alright, it appears you are missing Microsoft Web driver. If you are using Windows OS I recommend go to &lt;<strong>settings</strong>> --> select <strong>Update  &amp; Security</strong>, then to the left from the list choose <strong>For developers</strong> and finally click &amp; select <strong>Developers mode</strong> and wait for the installation to complete and then run your project. I also recommend using EdgeDriver instead of InternetExploperDriver\nI hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10413945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33bbee7b1e9d905707753d91d085fa4?s=128&d=identicon&r=PG&f=1", "display_name": "T S", "link": "https://stackoverflow.com/users/10413945/t-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1593169489, "creation_date": 1593169489, "answer_id": 62593405, "question_id": 58104277, "link": "https://stackoverflow.com/questions/58104277/net-core-vs2019-and-selenium-ie-driver-doesnt-work-webdriverexception-ht/62593405#62593405", "title": ".NET Core, VS2019, and Selenium: IE Driver Doesn&#39;t Work (WebDriverException - HTTP request timeout)", "body": "<p>I faced the same issue and managed to solve this by running VS2019 as an administrator, the same worked for command line.</p>\n"}], "owner": {"reputation": 3366, "user_id": 100534, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7669ca80c4655a18e463b42a4238fa19?s=128&d=identicon&r=PG", "display_name": "Doctor Blue", "link": "https://stackoverflow.com/users/100534/doctor-blue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1593169489, "creation_date": 1569434989, "last_edit_date": 1569495340, "question_id": 58104277, "link": "https://stackoverflow.com/questions/58104277/net-core-vs2019-and-selenium-ie-driver-doesnt-work-webdriverexception-ht", "title": ".NET Core, VS2019, and Selenium: IE Driver Doesn&#39;t Work (WebDriverException - HTTP request timeout)", "body": "<p><strong>UPDATE:</strong> This error only happens in Visual Studio 2019. I'm on 16.3.1 Community. Visual Studio 2017 works just fine and causes no issues. So it seems the crux of the issue lies in Visual Studio 2019 for some reason.</p>\n\n<p><strong>NOTE</strong> that no matter which IDE I build it in, <code>dotnet run</code> will fail just like VS2019 does. Only if I run the app within VS2017 does it work.</p>\n\n<p>I <a href=\"https://developercommunity.visualstudio.com/content/problem/748198/selenium-iedriverserver-fails.html\" rel=\"nofollow noreferrer\">cross-posted this to Microsoft</a> via Visual Studio's built-in \"Report a Problem\" menu to attack this issue from multiple angles. I'll report back if/when they do anything (i.e. if they identify it as an issue with Visual Studio).</p>\n\n<hr>\n\n<p>We've recently upgraded from .NET Framework to .NET Core. The application presently runs on .NET Core 2.2, but the same issues occur on .NET Core 3.0.</p>\n\n<p>We run Selenium for UI testing, and for some reason, Internet Explorer's tests are quite wonky. The driver successfully launches the browser, but the first <code>Navigate()</code> call hangs indefinitely after it successfully performs navigation (never gets beyond that line of code). Here's the full stack trace:</p>\n\n<blockquote>\n  <p>OpenQA.Selenium.WebDriverException\n  HResult=0x80131500</p>\n  \n  <p>Message=The HTTP request to the remote WebDriver server for URL <a href=\"http://localhost:52211/session/9e1e828b-5e72-46d8-8012-6b29bfc2d854/url\" rel=\"nofollow noreferrer\">http://localhost:52211/session/9e1e828b-5e72-46d8-8012-6b29bfc2d854/url</a> timed out after 10 seconds.\n    Source=WebDriver</p>\n  \n  <p>StackTrace:\n     at OpenQA.Selenium.Remote.HttpCommandExecutor.MakeHttpRequest(HttpRequestInfo requestInfo)</p>\n  \n  <p>at OpenQA.Selenium.Remote.HttpCommandExecutor.Execute(Command commandToExecute)</p>\n  \n  <p>at OpenQA.Selenium.Remote.DriverServiceCommandExecutor.Execute(Command commandToExecute)</p>\n  \n  <p>at OpenQA.Selenium.Remote.RemoteWebDriver.Execute(String driverCommandToExecute, Dictionary`2 parameters)</p>\n  \n  <p>at OpenQA.Selenium.Remote.RemoteWebDriver.set_Url(String value)</p>\n  \n  <p>at SandboxSelenium.Program.Main(String[] args) in C:\\dev_sandbox\\SandboxSelenium\\SandboxSelenium\\Program.cs:line 17</p>\n  \n  <p>Inner Exception 1: WebException: The operation has timed out.</p>\n</blockquote>\n\n<p>For simplicity, I created a brand new .NET Core Console App, and did nothing in Main except repeat the above step, and I recreated the issue.</p>\n\n<p>Here are the whole csproj of the console app project, including package references:</p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n  &lt;PropertyGroup&gt;\n    &lt;OutputType&gt;Exe&lt;/OutputType&gt;\n    &lt;TargetFramework&gt;netcoreapp2.2&lt;/TargetFramework&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;ItemGroup&gt;\n    &lt;PackageReference Include=\"Selenium.WebDriver\" Version=\"3.141.0\" /&gt;\n    &lt;PackageReference Include=\"Selenium.WebDriver.IEDriver\" Version=\"3.150.0\" /&gt;\n  &lt;/ItemGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n\n<p>And here's the code I'm calling:</p>\n\n<pre><code>using OpenQA.Selenium;\nusing OpenQA.Selenium.IE;\nusing System;\nusing System.IO;\nusing System.Reflection;\n\nnamespace SandboxSelenium\n{\n    public static class Program\n    {\n        public static void Main(string[] args)\n        {\n            string binPath = Path.GetDirectoryName(Assembly.GetExecutingAssembly().Location); // In .NET Core you have to tell Selenium where the EXE is.\n            InternetExplorerOptions opts = new InternetExplorerOptions();\n            using (var driver = new InternetExplorerDriver(binPath, opts, new TimeSpan(0, 0, 10)))\n            {\n                driver.Navigate().GoToUrl(\"https://example.com/\"); // \"Line 17\" in above error. This line times out!\n                IWebElement someTextbox = driver.FindElement(By.Id(\"SomeTextBox\")); // Never gets here...\n                someTextbox.SendKeys(\"abc123\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>NOTE:</strong> I only set the driver's command timeout to <code>new TimeSpan(0, 0, 10)</code> (10 seconds) in order to shorten the timeout from the default 60 seconds. It times out no matter how long or short the timeout is.</p>\n\n<p>Also, it seems the server executable, <code>IEDriverServer.exe</code>, doesn't close either and is left hanging open after the crash.</p>\n\n<p><strong>I suspect</strong> that somehow Selenium is losing track of IE or something, since it seems to completely lose the browser itself. Not sure though. <strong>I have tried</strong> changing the <code>PageLoadStrategy</code> within <code>InternetExplorerOptions</code> for the driver, but that didn't help any. I <strong>have also tried</strong> using the 64bit NuGet package for the IE server driver, but that didn't change anything.</p>\n\n<p>Any help is appreciated! </p>\n"}, {"tags": ["c#", "expression", "expression-trees"], "comments": [{"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1569435036, "post_id": 58104135, "comment_id": 102599620, "body": "I&#39;m not sure what you want to do, but you probably want to look at LinqKit <a href=\"http://www.albahari.com/nutshell/linqkit.aspx\" rel=\"nofollow noreferrer\">albahari.com/nutshell/linqkit.aspx</a>"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 1, "creation_date": 1569440023, "post_id": 58104135, "comment_id": 102601659, "body": "Why do you require the parameters to be expressions? Since you have <code>p =&gt; p.Name</code> as an expression, why can&#39;t you simply do it with <code>(p, value) =&gt; p.Name = Transform(value)</code> directly?"}], "answers": [{"tags": [], "owner": {"reputation": 522, "user_id": 379241, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b0620e8dae2f3119cb557898e7b98b39?s=128&d=identicon&r=PG", "display_name": "alex", "link": "https://stackoverflow.com/users/379241/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1569436818, "creation_date": 1569436818, "answer_id": 58104701, "question_id": 58104135, "link": "https://stackoverflow.com/questions/58104135/how-to-implement-following-c-expression-tree-usage/58104701#58104701", "title": "How to implement following c# expression tree usage?", "body": "<p>I think I've got the answer. Anyone can tell me whether it's legit?</p>\n\n<pre><code>public static void Set&lt;TValue&gt;(this Person person, IDictionary&lt;string, object&gt; dictionary, string key, Expression&lt;Func&lt;Person, TValue&gt;&gt; selector, Expression&lt;Func&lt;object, TValue&gt;&gt; transformer)\n{\n    if (!dictionary.TryGetValue(key, out var value))\n    {\n        return;\n    }\n\n    var parameterExpression = selector.Parameters.Concat(transformer.Parameters);\n    var delegateExpression = Expression.Lambda&lt;Action&lt;Person, object&gt;&gt;(\n        Expression.Assign(selector.Body, transformer.Body), parameterExpression\n    );\n\n    delegateExpression.Compile()(person, value);\n}\n</code></pre>\n"}], "owner": {"reputation": 522, "user_id": 379241, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b0620e8dae2f3119cb557898e7b98b39?s=128&d=identicon&r=PG", "display_name": "alex", "link": "https://stackoverflow.com/users/379241/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569436818, "creation_date": 1569434378, "last_edit_date": 1569435819, "question_id": 58104135, "link": "https://stackoverflow.com/questions/58104135/how-to-implement-following-c-expression-tree-usage", "title": "How to implement following c# expression tree usage?", "body": "<p>Assuming I have the following class:</p>\n\n<pre><code>public class Person\n{\n    public string Name { get; set; }\n    public int Age { get; set; }\n}\n</code></pre>\n\n<p>How can I or if it's even possible to implement a method with the usage of Expression Tree such that it would look like the following?</p>\n\n<pre><code>Dictionary&lt;string, object&gt; someDictionary = GetDictionary();\nPerson person = new Person();\nperson.Set(someDictionary, \"someKey\", p =&gt; p.Name, value =&gt; Transform(value));\n</code></pre>\n\n<p>Such that <code>person.Name</code> will be set by <code>Transform(value)</code> where <code>value</code> is provided by the dictionary?</p>\n\n<p>I have started a signature of an extension method like</p>\n\n<pre><code>public static void Set&lt;TValue&gt;(\n    this Person person, \n    IDictionary&lt;string, object&gt; dictionary, \n    string key, \n    Expression&lt;Func&lt;Person, TValue&gt;&gt; selector, \n    Expression&lt;Func&lt;object, TValue&gt;&gt; transformer)\n</code></pre>\n\n<p>But does not have much clue on how to implement it.<br>\nAny helps are welcome.  Thanks.</p>\n\n<p>I have something like the following:</p>\n\n<pre><code>public static void Set&lt;TValue&gt;(this Person person, IDictionary&lt;string, object&gt; dictionary, string key, Expression&lt;Func&lt;Person, TValue&gt;&gt; selector, Expression&lt;Func&lt;object, TValue&gt;&gt; transformer)\n{\n    if (!dictionary.TryGetValue(key, out var value))\n    {\n        return;\n    }\n\n    // more logic to manipulate 'value'...\n\n    var parameterExpression = (ParameterExpression) ((MemberExpression) selector.Body).Expression;\n    var delegateExpression = Expression.Lambda&lt;Action&lt;Person&gt;&gt;(\n        Expression.Assign(selector.Body, transformer.Body), parameterExpression\n    );\n\n    delegateExpression.Compile()(person);\n}\n</code></pre>\n\n<p>But I'm unable to figure out on how to pass the <code>value</code> to the <code>transformer</code>.</p>\n"}, {"tags": ["c#", "sql-server", "stored-procedures"], "comments": [{"owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 1, "creation_date": 1569435230, "post_id": 58104110, "comment_id": 102599704, "body": "I don&#39;t understand the question because it looks like you already have an example to follow with the code you posted."}, {"owner": {"reputation": 15, "user_id": 5053388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35e3476ccba32f01dd54c03aef4f2e04?s=128&d=identicon&r=PG&f=1", "display_name": "gigi", "link": "https://stackoverflow.com/users/5053388/gigi"}, "reply_to_user": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 0, "creation_date": 1569435338, "post_id": 58104110, "comment_id": 102599751, "body": "I am not sure how to call [completiondt] since it is not a parameter that is the field I need to update"}, {"owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 0, "creation_date": 1569436577, "post_id": 58104110, "comment_id": 102600263, "body": "Add the parameter to your SQL using <code>@Id</code> in your stored procedure as an example, set the SQL type for this new parameter according to the type needed based on the SQL field type in your table definition, update your SQL <code>UPDATE</code> statement to set this value. In your C#, add the parameter, again using the <code>@Id</code> parameter in your C# as an example and set the type according to how you typed the SQL parameter in you stored procedure."}, {"owner": {"reputation": 2334, "user_id": 7948962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b64557f8a617effccaf4426f16e9035?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob H", "link": "https://stackoverflow.com/users/7948962/jacob-h"}, "edited": false, "score": 2, "creation_date": 1569437149, "post_id": 58104110, "comment_id": 102600490, "body": "I think the bottom line here is that you need to be able to modify the SQL procedure. Are you able to do that? Because it doesn&#39;t sound like you are considering that for some reason."}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1569437523, "post_id": 58104110, "comment_id": 102600653, "body": "You don&#39;t call a column. You update it, with an update statement that should include a where clause to limit the update to certain row(s). Kind of like all the other update statements you already have. Not sure what the question really is here."}, {"owner": {"reputation": 15, "user_id": 5053388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35e3476ccba32f01dd54c03aef4f2e04?s=128&d=identicon&r=PG&f=1", "display_name": "gigi", "link": "https://stackoverflow.com/users/5053388/gigi"}, "edited": false, "score": 0, "creation_date": 1569437740, "post_id": 58104110, "comment_id": 102600734, "body": "My question is how do I get the value of currentDate in that completiondt field"}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1569439439, "post_id": 58104110, "comment_id": 102601451, "body": "The same way all your other updates are working. Update YourTable set MyColumn = MyValue Where MyKey = SomeKey We don&#39;t even know what table it belongs to. Your procedure updates several tables already. Just add another column to the appropriate update statement."}, {"owner": {"reputation": 4126, "user_id": 390122, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6f9494c096977b56cd5c808f2a52bcf?s=128&d=identicon&r=PG", "display_name": "AlwaysLearning", "link": "https://stackoverflow.com/users/390122/alwayslearning"}, "edited": false, "score": 0, "creation_date": 1569449155, "post_id": 58104110, "comment_id": 102604846, "body": "From the stored procedure code <code>completiondt</code> looks like some kind of audit field recording when an action took place. Perhaps you should not be trying to inject a particular date into it."}], "answers": [{"tags": [], "owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "is_accepted": true, "score": 0, "last_activity_date": 1569460040, "creation_date": 1569460040, "answer_id": 58108279, "question_id": 58104110, "link": "https://stackoverflow.com/questions/58104110/stored-procedure-with-no-parameters-to-update-the-database-table/58108279#58108279", "title": "Stored procedure with no parameters to update the database table", "body": "<p>I'm going to take a stab at answering your question, whether or not this will work for you depends your ultimate goal and your applications requirements.</p>\n\n<p>Comments have been added in the code where I've made changes.</p>\n\n<hr>\n\n<p>First, I've added a new SQL parameter <code>@datecompleted</code> with a default value of NULL. This will allow you to exclude it when calling the sproc from C# and continue to use existing SQL logic if necessary.</p>\n\n<p>Second, I've added a <code>COALESCE</code> call to use the <code>@datecompleted</code> value if it's not NULL or call the function <code>fnc_getdatelocal</code> as it does already if it is NULL.</p>\n\n<p>SQL: </p>\n\n<pre><code>ALTER PROCEDURE [dbo].[usp_load_status_update]\n    @id INT = 0,\n    @statusname VARCHAR(128) = '',\n    @loginname VARCHAR(512),\n    @datecompleted DATETIME = NULL -- Added new SQL parameter for date completed input from C#\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    -- Set the @today variable to use the @datecompleted paramter if it's not null otherwise use date from the fnc_getdatelocal() function\n    DECLARE @today DATETIME = COALESCE(@datecompleted,[dbo].[fnc_getdatelocal]())\n    -- Depending on the locality of the @datecompleted parameter and your application's requirements, \n    --   you will need to figure out the best way for your process to convert to locality used by the fnc_getdatelocal function\n    -- Does your function accept a parameter, if so you may be able to pass the @datecompleted parameter to it, e.g.  DECLARE @today DATETIME = COALESCE(@datecompleted,[dbo].[fnc_getdatelocal](@datecompleted))\n\n    DECLARE @statusid INT\n    DECLARE @oldstatusid INT\n    DECLARE @olddriverid INT\n\n    SELECT @statusid = [id] \n    FROM [LoadStatus] \n    WHERE [name] = @statusname\n\n    SELECT @oldstatusid = [statusid], @olddriverid = [driverid] \n    FROM [Load] \n    WHERE [id] = @id\n\n    -- update status, and reset driverid to null if it is back to pending\n    UPDATE [Load] \n    SET [statusid] = ISNULL(@statusid, 0),\n        [driverid] = CASE \n                        WHEN ISNULL(@statusid, 0) = 0 \n                           THEN NULL\n                           ELSE [driverid] \n                     END\n    WHERE [id] = @id\n\n    --kludge for now, need to update status on each row in the future\n    UPDATE [LoadContact] \n    SET [statusid] = IsNull(@statusid, 0),\n    [completiondt] = CASE\n                        WHEN [instancetype] = 1 \n                             AND ISNULL(@oldstatusid, 0) &lt; 3 \n                             AND ISNULL(@statusid, 0) &gt;= 3 \n                           THEN @today\n                        WHEN [instancetype] = 2 \n                             AND ISNULL(@oldstatusid, 0) &lt; 4 \n                             AND ISNULL(@statusid, 0) &gt;= 4 \n                           THEN @today\n                        ELSE [completiondt]\n                     END\n    WHERE [loadid] = @id\n\n    --kludge for now, need to update order invoice status separately\n    IF (ISNULL(@statusid, 0) &gt;= 8)\n    BEGIN\n        UPDATE [Invoice] \n        SET [statusid] = 8\n        WHERE [orderid] = @id\n\n        UPDATE [Bill] \n        SET [statusid] = 8\n        WHERE [loadid] = @id\n    END\n</code></pre>\n\n<hr>\n\n<p>C#:</p>\n\n<p>I've changed your <code>currentDate</code>'s variable type to allow it to be null. This can be useful if you don't always want to send it in your SQL call and instead use the existing logic as it is today. I believe the <code>ASPxDateEdit</code> control can have a <code>null</code> date if configured for it. This really depends on your requirements.</p>\n\n<pre><code>protected void editDeliveredDate_DateChanged(object sender, EventArgs e)\n{\n    ASPxDateEdit dateEdit = sender as ASPxDateEdit;\n    // I made your currentDate variable to be nullable\n    DateTime? currentDate = dateEdit.Date; \n\n    using (SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings[\"ACAOSBConnectionString\"].ToString()))\n    {\n        string ordstr = (txt_orderid.Text != null) ? txt_orderid.Text : string.Empty;\n        SqlCommand cmd = new SqlCommand();\n        cmd.Connection = conn;\n        cmd.CommandText = \"usp_load_status_update\";\n        cmd.CommandType = CommandType.StoredProcedure;\n\n        cmd.Parameters.Add(\"@id\", SqlDbType.Int).Value = ordstr.ToString();\n        cmd.Parameters.Add(\"@loginname\", SqlDbType.VarChar, 512).Value = Page.User.Identity.Name;\n        if(currentDate != null)\n        { \n            // only set the parameter if it's not null, this will allow the SQL sproc to use its existing logic        \n            cmd.Parameters.Add(\"@datecompleted\", SqlDbType.DateTime).Value = currentDate;\n        }\n\n        try\n        {\n            conn.Open();\n            cmd.ExecuteNonQuery();\n        }\n        catch (Exception ex)\n        {\n            //TODO: save log for now;\n            int ex_errorid = 0;\n            string ex_msg = string.Concat((ex != null &amp;&amp; ex.Message != null) ? ex.Message.ToString() : (ex != null &amp;&amp; ex.InnerException != null) ? ex.InnerException.ToString() : \"No Message Found \", (ex != null &amp;&amp; ex.StackTrace != null) ? ex.StackTrace.ToString() : \"No Strack Trace \");\n            int ex_genericid = 0;\n            string ex_username = (Page != null &amp;&amp; Page.User != null &amp;&amp; Page.User.Identity != null &amp;&amp; Page.User.Identity.Name != null) ? Page.User.Identity.Name : \"No user found\";\n            Jobs.log_somewhere ex_errorlog = new Jobs.log_somewhere();\n            ex_errorlog.log_secos_error(ex_errorid, ex_msg, ex_genericid, ex_username);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5053388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35e3476ccba32f01dd54c03aef4f2e04?s=128&d=identicon&r=PG&f=1", "display_name": "gigi", "link": "https://stackoverflow.com/users/5053388/gigi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 58108279, "answer_count": 1, "score": 0, "last_activity_date": 1569460040, "creation_date": 1569434275, "last_edit_date": 1569434950, "question_id": 58104110, "link": "https://stackoverflow.com/questions/58104110/stored-procedure-with-no-parameters-to-update-the-database-table", "title": "Stored procedure with no parameters to update the database table", "body": "<p>I have this stored procedure that has some parameters but the column I need to use is not a parameter and I need to update it when the date is changed which I'm using a date picker. I am not sure how to call this in C# the field I need to use is called <code>[completiondt]</code>.</p>\n\n<pre><code>ALTER PROCEDURE [dbo].[usp_load_status_update]\n    @id INT = 0,\n    @statusname VARCHAR(128) = '',\n    @loginname VARCHAR(512)\nAS\nBEGIN\n    SET NOCOUNT ON;\n\n    DECLARE @today DATETIME = [dbo].[fnc_getdatelocal]()\n    DECLARE @statusid INT\n    DECLARE @oldstatusid INT\n    DECLARE @olddriverid INT\n\n    SELECT @statusid = [id] \n    FROM [LoadStatus] \n    WHERE [name] = @statusname\n\n    SELECT @oldstatusid = [statusid], @olddriverid = [driverid] \n    FROM [Load] \n    WHERE [id] = @id\n\n    -- update status, and reset driverid to null if it is back to pending\n    UPDATE [Load] \n    SET [statusid] = ISNULL(@statusid, 0),\n        [driverid] = CASE \n                        WHEN ISNULL(@statusid, 0) = 0 \n                           THEN NULL\n                           ELSE [driverid] \n                     END\n    WHERE [id] = @id\n\n    --kludge for now, need to update status on each row in the future\n    UPDATE [LoadContact] \n    SET [statusid] = IsNull(@statusid, 0),\n        [completiondt] = CASE\n                            WHEN [instancetype] = 1 \n                                 AND ISNULL(@oldstatusid, 0) &lt; 3 \n                                 AND ISNULL(@statusid, 0) &gt;= 3 \n                               THEN @today\n                            WHEN [instancetype] = 2 \n                                 AND ISNULL(@oldstatusid, 0) &lt; 4 \n                                 AND ISNULL(@statusid, 0) &gt;= 4 \n                               THEN @today\n                            ELSE [completiondt]\n                         END\n    WHERE [loadid] = @id\n\n    --kludge for now, need to update order invoice status separately\n    IF (ISNULL(@statusid, 0) &gt;= 8)\n    BEGIN\n        UPDATE [Invoice] \n        SET [statusid] = 8\n        WHERE [orderid] = @id\n\n        UPDATE [Bill] \n        SET [statusid] = 8\n        WHERE [loadid] = @id\n    END\n</code></pre>\n\n<p>C# code:</p>\n\n<pre><code>protected void editDeliveredDate_DateChanged(object sender, EventArgs e)\n{\n        ASPxDateEdit dateEdit = sender as ASPxDateEdit;\n        DateTime currentDate = dateEdit.Date;\n\n        using (SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings[\"ACAOSBConnectionString\"].ToString()))\n        {\n            string ordstr = (txt_orderid.Text != null) ? txt_orderid.Text : string.Empty;\n            SqlCommand cmd = new SqlCommand();\n            cmd.Connection = conn;\n            cmd.CommandText = \"usp_load_status_update\";\n            cmd.CommandType = CommandType.StoredProcedure;\n\n            cmd.Parameters.Add(\"@id\", SqlDbType.Int).Value = ordstr.ToString();\n            cmd.Parameters.Add(\"@loginname\", SqlDbType.VarChar, 512).Value = Page.User.Identity.Name;\n\n            try\n            {\n                conn.Open();\n                cmd.ExecuteNonQuery();\n            }\n            catch (Exception ex)\n            {\n                //TODO: save log for now;\n                int ex_errorid = 0;\n                string ex_msg = string.Concat((ex != null &amp;&amp; ex.Message != null) ? ex.Message.ToString() : (ex != null &amp;&amp; ex.InnerException != null) ? ex.InnerException.ToString() : \"No Message Found \", (ex != null &amp;&amp; ex.StackTrace != null) ? ex.StackTrace.ToString() : \"No Strack Trace \");\n                int ex_genericid = 0;\n                string ex_username = (Page != null &amp;&amp; Page.User != null &amp;&amp; Page.User.Identity != null &amp;&amp; Page.User.Identity.Name != null) ? Page.User.Identity.Name : \"No user found\";\n                Jobs.log_somewhere ex_errorlog = new Jobs.log_somewhere();\n                ex_errorlog.log_secos_error(ex_errorid, ex_msg, ex_genericid, ex_username);\n            }\n        }\n    }\n</code></pre>\n\n<p>Once I figure this out it will be equal to <code>currentDate</code>.</p>\n"}, {"tags": ["c#", "asp.net-core", "grpc", "asp.net-core-middleware"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 10307803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5d129805a6bbb050dea1af6b3b66782?s=128&d=identicon&r=PG&f=1", "display_name": "alexalok", "link": "https://stackoverflow.com/users/10307803/alexalok"}, "edited": false, "score": 0, "creation_date": 1569478136, "post_id": 58106574, "comment_id": 102610964, "body": "Thank you for bringing my attention to the fact that there are multiple ways to use gRPC with .NET. To my shame, I wasn&#39;t aware of that fact."}, {"owner": {"reputation": 330, "user_id": 11885543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f33ab4d96f5a433cd80899aaf84c5f3?s=128&d=identicon&r=PG&f=1", "display_name": "csteegz", "link": "https://stackoverflow.com/users/11885543/csteegz"}, "reply_to_user": {"reputation": 57, "user_id": 10307803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5d129805a6bbb050dea1af6b3b66782?s=128&d=identicon&r=PG&f=1", "display_name": "alexalok", "link": "https://stackoverflow.com/users/10307803/alexalok"}, "edited": false, "score": 0, "creation_date": 1569601235, "post_id": 58106574, "comment_id": 102662925, "body": "Grpc.AspNetCore is really, really new! It came out with .Net Core 3 which was released like a week ago."}], "tags": [], "owner": {"reputation": 330, "user_id": 11885543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f33ab4d96f5a433cd80899aaf84c5f3?s=128&d=identicon&r=PG&f=1", "display_name": "csteegz", "link": "https://stackoverflow.com/users/11885543/csteegz"}, "is_accepted": false, "score": 3, "last_activity_date": 1569445822, "creation_date": 1569445822, "answer_id": 58106574, "question_id": 58104095, "link": "https://stackoverflow.com/questions/58104095/asp-net-core-mvc-filter-analogue-for-grpc-service/58106574#58106574", "title": "ASP.NET Core MVC filter analogue for gRPC service", "body": "<p>This will have slightly different answers depending on if you're using <a href=\"https://www.nuget.org/packages/Grpc.Core/2.23.0\" rel=\"nofollow noreferrer\">Grpc.Core</a>, which is a wrapper around the C GRPC library initially developed at Google, which has been available for a while and supports a variety of .Net targets (including Framework), or if you're using the new <a href=\"https://www.nuget.org/packages/Grpc.AspNetCore/\" rel=\"nofollow noreferrer\">Grpc.AspNetCore</a> which launched with .Net Core 3.0 and is built on Kestrel and ASP.NET Core internals.</p>\n\n<h2>Grpc.Core</h2>\n\n<p>For Grpc.Core you would want to pass your header value as metadata, and then create a <a href=\"https://grpc.github.io/grpc/csharp/api/Grpc.Core.Interceptors.Interceptor.html\" rel=\"nofollow noreferrer\">server-side Interceptor</a> to handle the metadata and the request. You can also consider using the <a href=\"https://grpc.github.io/grpc/csharp/api/Grpc.Core.AsyncAuthInterceptor.html\" rel=\"nofollow noreferrer\">AsyncAuthInterceptor</a>, however the core Grpc implementation on the client side will not send credentials over insecure (non-TLS) connections.</p>\n\n<h2>Grpc.AspNetCore</h2>\n\n<p>Grpc.AspNetCore is built on ASP.NET and <a href=\"https://docs.microsoft.com/en-us/aspnet/core/grpc/authn-and-authz?view=aspnetcore-3.0\" rel=\"nofollow noreferrer\">can use ASP.NET middleware</a>, including the default ASP.NET authentication. If you can convert your filter into a middleware, you would be able to share the authentication between both implementations.    </p>\n"}, {"tags": [], "owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "is_accepted": true, "score": 3, "last_activity_date": 1569477596, "creation_date": 1569477596, "answer_id": 58110429, "question_id": 58104095, "link": "https://stackoverflow.com/questions/58104095/asp-net-core-mvc-filter-analogue-for-grpc-service/58110429#58110429", "title": "ASP.NET Core MVC filter analogue for gRPC service", "body": "<p>For MVC and gRpc, they are different. ActionFilter is not exist under gRpc.</p>\n\n<p>If you want to apply checking request header for all actions, you could try implement your custom middleware before <code>app.UseEndpoints</code> and check the request header.</p>\n\n<p>For another way, you could try <code>Policy</code> like below:</p>\n\n<ol>\n<li><p><code>GrpcRequireemnt</code> and <code>GrpcHandler</code>  </p>\n\n<pre><code>public class GrpcRequireemnt : IAuthorizationRequirement\n{ \n\n}\npublic class GrpcHandler : AuthorizationHandler&lt;GrpcRequireemnt&gt;\n{\n    private readonly IHttpContextAccessor _httpContextAccessor;\n\n    public GrpcHandler(IHttpContextAccessor httpContextAccessor)\n    {\n        _httpContextAccessor = httpContextAccessor;\n    }\n    protected override Task HandleRequirementAsync(AuthorizationHandlerContext context, GrpcRequireemnt requirement)\n    {\n\n        var headers = _httpContextAccessor.HttpContext.Request.Headers;\n        StringValues token;\n        if (!headers.TryGetValue(\"token\", out token))\n        {\n            context.Fail();\n            return Task.CompletedTask;\n        }\n        context.Succeed(requirement);\n        return Task.CompletedTask;\n\n    }\n}\n</code></pre></li>\n<li><p>Register required services</p>\n\n<pre><code>services.AddAuthorization(options =&gt;\n{\n    options.AddPolicy(\"TokenAuthorize\", policy =&gt;\n    {                   \n        policy.AddRequirements(new GrpcRequireemnt());\n    });\n});\nservices.AddHttpContextAccessor();\nservices.AddSingleton&lt;IAuthorizationHandler, GrpcHandler&gt;();\n</code></pre></li>\n<li><p>UseCase  </p>\n\n<pre><code>[Authorize(\"TokenAuthorize\")]\npublic override Task&lt;BuyTicketsResponse&gt; BuyTickets(BuyTicketsRequest request, ServerCallContext context)\n{\n    var user = context.GetHttpContext().User;\n\n    return Task.FromResult(new BuyTicketsResponse\n    {\n        Success = _ticketRepository.BuyTickets(user.Identity.Name!, request.Count)\n    });\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 57, "user_id": 10307803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5d129805a6bbb050dea1af6b3b66782?s=128&d=identicon&r=PG&f=1", "display_name": "alexalok", "link": "https://stackoverflow.com/users/10307803/alexalok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 941, "favorite_count": 0, "accepted_answer_id": 58110429, "answer_count": 2, "score": 0, "last_activity_date": 1569477596, "creation_date": 1569434206, "question_id": 58104095, "link": "https://stackoverflow.com/questions/58104095/asp-net-core-mvc-filter-analogue-for-grpc-service", "title": "ASP.NET Core MVC filter analogue for gRPC service", "body": "<p>I have an existing REST API running on ASP.NET Core 3.0. It uses MVC filter to perform an authorization check based on a header value and returns error in case of authorization failure so that the request is not passed to the controller.</p>\n\n<p>Now, I am experimenting with gRPC and trying to port this API to a gRPC service. However, I do not see any obvious solutions that might act as an MVC filter replacement. </p>\n\n<p>Is there some way to achieve similar authorization checking functionality, perhaps using <a href=\"https://grpc.github.io/grpc/csharp/api/Grpc.Core.Metadata.html\" rel=\"nofollow noreferrer\">metadata</a>?</p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-identity"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1569434455, "post_id": 58103980, "comment_id": 102599403, "body": "You cam see in the code that <a href=\"https://github.com/aspnet/AspNetCore/blob/master/src/Identity/Extensions.Core/src/UserManager.cs#L920\" rel=\"nofollow noreferrer\"><code>ResetPasswordAsync</code></a> calls <a href=\"https://github.com/aspnet/AspNetCore/blob/master/src/Identity/Extensions.Core/src/UserManager.cs#L2398\" rel=\"nofollow noreferrer\"><code>UpdatePasswordHash</code></a> that then calls <code>UpdateSecurityStampInternal</code> - so no, you don&#39;t have to do it. But relying on implementation details isn&#39;t ideal and it isn&#39;t doing any harm, so you could just leave it in."}, {"owner": {"reputation": 1861, "user_id": 6843077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8GZhw.jpg?s=128&g=1", "display_name": "HMZ", "link": "https://stackoverflow.com/users/6843077/hmz"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1569435395, "post_id": 58103980, "comment_id": 102599768, "body": "Thank you if you post your comment as an answer I&#39;ll accept it."}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1569435540, "post_id": 58103980, "comment_id": 102599826, "body": "Well, it&#39;s a bit short for an answer, but thanks."}], "owner": {"reputation": 1861, "user_id": 6843077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8GZhw.jpg?s=128&g=1", "display_name": "HMZ", "link": "https://stackoverflow.com/users/6843077/hmz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 264, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569437938, "creation_date": 1569433704, "last_edit_date": 1569437938, "question_id": 58103980, "link": "https://stackoverflow.com/questions/58103980/do-i-have-to-update-the-security-stamp-manually-whenever-a-user-request-a-passwo", "title": "Do i have to update the security stamp manually whenever a user request a password change or it is handled automatically by user manager?", "body": "<p>As Microsoft stated on their website : \nSecurity Stamp:</p>\n\n<blockquote>\n  <p>A random value that must change whenever a users credentials change (password changed, login removed)</p>\n</blockquote>\n\n<p>I am writing an action where the admin can change a users password manually:</p>\n\n<pre><code> [HttpPost]\n        [ValidateAntiForgeryToken]\n        public async Task&lt;IActionResult&gt; ForgotPassword(string userId, string newPassword)\n        {\n            var user = await _userManager.FindByIdAsync(userId);\n            if (user == null)\n            {\n                TempData.Put(\"M\", new ResultMessage\n                {\n                    CssClassName = \"alert alert-danger alert-dismissible\",\n                    Title = \"Failed!\",\n                    Message = \"User not found!\"\n                });\n\n                return RedirectToAction(\"Index\");\n            }\n\n            string resetToken = await _userManager.GeneratePasswordResetTokenAsync(user);\n\n            var result = await _userManager.ResetPasswordAsync(user, resetToken, newPassword);\n\n            if (result.Succeeded)\n            {\n                var ress = await _userManager.UpdateSecurityStampAsync(user); //Is this step necessary?\n\n                if (ress.Succeeded)\n                {\n                    TempData.Put(\"M\", new ResultMessage\n                    {\n                        CssClassName = \"alert alert-success alert-dismissible\",\n                        Title = \"Success!\",\n                        Message = \"Password updated successfully!\"\n                    });\n\n                    return RedirectToAction(\"Index\");\n                }\n\n                TempData.Put(\"M\", new ResultMessage\n                {\n                    CssClassName = \"alert alert-danger alert-dismissible\",\n                    Title = \"Failed!\",\n                    Message = \"Failed at the security stamp step!\"\n                });\n\n                return RedirectToAction(\"Index\");\n\n            }\n\n            TempData.Put(\"M\", new ResultMessage\n            {\n                CssClassName = \"alert alert-danger alert-dismissible\",\n                Title = \"Failed!\",\n                Message = \"Failed to reset password!\"\n            });\n\n            return RedirectToAction(\"Index\");\n        }\n\n</code></pre>\n\n<p>and validating the security stamp every 15 minutes to force user logout on password change like this :</p>\n\n<pre><code>    services.Configure&lt;SecurityStampValidatorOptions&gt;(options =&gt;\n\n            options.ValidationInterval = TimeSpan.FromMinutes(15)\n            );\n\n</code></pre>\n\n<p>do i have to generate a new security stamp on every password change or is it done automatically by the user manager ?</p>\n\n<p>using ASP.Net Core 2.2</p>\n"}, {"tags": ["c#", "windows", "uwp", "windows-10", "kiosk"], "comments": [{"owner": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "edited": false, "score": 0, "creation_date": 1569474185, "post_id": 58103965, "comment_id": 102609599, "body": "About the F: drive, can you tell us if it is a removable device or a disk?"}, {"owner": {"reputation": 159, "user_id": 2282990, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/974784681751e66f7373d8739172f4e7?s=128&d=identicon&r=PG", "display_name": "Ramanan", "link": "https://stackoverflow.com/users/2282990/ramanan"}, "reply_to_user": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "edited": false, "score": 0, "creation_date": 1569479102, "post_id": 58103965, "comment_id": 102611333, "body": "It is physical hard drive. Not removable storage."}, {"owner": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "edited": false, "score": 0, "creation_date": 1569485648, "post_id": 58103965, "comment_id": 102614500, "body": "When you add broadFileSystemAccess, if you use <code>StorageFile.GetFileFromPathAsync(@&quot;F:\\...&quot;)</code>, can you get the file correctly?"}, {"owner": {"reputation": 159, "user_id": 2282990, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/974784681751e66f7373d8739172f4e7?s=128&d=identicon&r=PG", "display_name": "Ramanan", "link": "https://stackoverflow.com/users/2282990/ramanan"}, "reply_to_user": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "edited": false, "score": 0, "creation_date": 1569490832, "post_id": 58103965, "comment_id": 102617308, "body": "Yes. I can read/write contents of file any location using code.But the file picker dialog not showing other drives."}, {"owner": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "edited": false, "score": 0, "creation_date": 1569491878, "post_id": 58103965, "comment_id": 102617859, "body": "It seems that the file picker has limits in kiosk mode. I suggest you still use <code>GetFileFromPathAsync()</code> to achieve it."}], "owner": {"reputation": 159, "user_id": 2282990, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/974784681751e66f7373d8739172f4e7?s=128&d=identicon&r=PG", "display_name": "Ramanan", "link": "https://stackoverflow.com/users/2282990/ramanan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569433615, "creation_date": 1569433615, "question_id": 58103965, "link": "https://stackoverflow.com/questions/58103965/uwp-kiosk-mode-open-fileopenpicker-in-f-drive", "title": "UWP Kiosk mode open FileOpenPicker in F: drive", "body": "<p>I am using Multi Kiosk (assigned access) mode to show my UWP apps in Windows 10 Version 1809.</p>\n\n<p>I have requirement to open the FileOpenPicker dialog and select files in F: drive. </p>\n\n<p>But in Kiosk mode it only allow to open known folders that I have added the capability. </p>\n\n<p>I tried to add <strong>broadFileSystemAccess</strong>. Still it is not allowing to browse file in F drive.</p>\n\n<p>Can we achieve this in Kiosk mode?</p>\n"}, {"tags": ["c#", "ms-access", "database-connection", "connection-string"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1569433843, "post_id": 58103947, "comment_id": 102599120, "body": "If you switch to a 32bit architecture then you can use the <i>Microsoft.Jet.OLEDB.4.0</i> but you need to change the database format back to the MDB (Access 2003)"}, {"owner": {"reputation": 1100, "user_id": 11994733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b021364a53b38903905f55827cf89101?s=128&d=identicon&r=PG&f=1", "display_name": "Mandelbrotter", "link": "https://stackoverflow.com/users/11994733/mandelbrotter"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1569433970, "post_id": 58103947, "comment_id": 102599185, "body": "Unfortunately I don&#39;t have the scope to be able to modify the Access DB. It&#39;s part of another project under a different team. Is there a way in C# to make a temp file of the conversion (accdb -&gt; mdb) and run Jet on the new file."}], "owner": {"reputation": 1100, "user_id": 11994733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b021364a53b38903905f55827cf89101?s=128&d=identicon&r=PG&f=1", "display_name": "Mandelbrotter", "link": "https://stackoverflow.com/users/11994733/mandelbrotter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569433536, "creation_date": 1569433536, "question_id": 58103947, "link": "https://stackoverflow.com/questions/58103947/c-connecting-to-access-db-with-no-install", "title": "C# Connecting to Access DB with no install", "body": "<p>I have an Access database (.accdb) and I have a WPF application trying to connect to it.</p>\n\n<p>It seems that I don't have Microsoft.ACE.OLEDB.12.0; installed. </p>\n\n<p>Results of:</p>\n\n<pre><code>    OleDbEnumerator enumerator = new OleDbEnumerator();\n    var t = enumerator.GetElements();\n    var a = \"s\";\n    foreach (DataRow row in t.Rows)\n    {\n        Console.WriteLine(row[0]);\n    }\n</code></pre>\n\n<p>on x86 CPU Gives the following results</p>\n\n<pre><code>SQLOLEDB\nMSDMine\nMSDataShape\nSQLNCLI11\nADsDSOObject\nMSOLEDBSQL\nMSOLEDBSQL Enumerator\nMSDMine Enumerator\nSQLNCLI11 Enumerator\nWindows Search Data Source\nMSOLAP\nMSOLAP\nMSDASQL\nMSDASQL Enumerator\nMSOLAP\nMSOLAP\nMicrosoft.Jet.OLEDB.4.0\nSQLOLEDB Enumerator\nMSDAOSP\nMSDAORA\n</code></pre>\n\n<p>and on 64 I get the following</p>\n\n<pre><code>SQLOLEDB\nMSDataShape\nSQLNCLI11\nADsDSOObject\nMSOLEDBSQL\nMSOLEDBSQL Enumerator\nSQLNCLI11 Enumerator\nWindows Search Data Source\nMSDASQL\nMSDASQL Enumerator\nMSOLAP\nMSOLAP\nSQLOLEDB Enumerator\nMSDAOSP\n</code></pre>\n\n<p>Now the problem I have is that I nor my users have admin privileges on our computers so installing a new driver is out of the question (So I can't use the free Microsoft.ACE.Oledb.12.0).</p>\n\n<p>How do I go and deploy a WPF app that can connect to an access database (accdb not mdb) and does not require me or any user to install something that an admin has to walk behind and input their credentials? </p>\n\n<p>At this point I'm willing to rewrite my application to make sure it works in 86 if there is a solution there. </p>\n\n<p>Bad assumption: I think a user will have the same drivers installed as I have here. </p>\n\n<p>Note: I have Excel VBA programs that can connect to the Access db so the driver exists somewhere I think. </p>\n"}, {"tags": ["c#", "azure-active-directory"], "comments": [{"owner": {"reputation": 41, "user_id": 10393063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5c7797184c2dda59d68e4689121de1?s=128&d=identicon&r=PG&f=1", "display_name": "Penny", "link": "https://stackoverflow.com/users/10393063/penny"}, "edited": false, "score": 0, "creation_date": 1569433211, "post_id": 58103808, "comment_id": 102598878, "body": "Currently I have only this information available to me:                                                      -&gt; SAML Single Sign-On Service URL:<a href=\"https://login.microsoftonline.com/##############/saml2\" rel=\"nofollow noreferrer\">login.microsoftonline.com/##############/saml2</a> \u2022        SAML Entity ID:<a href=\"https://sts.comity.net/######/\" rel=\"nofollow noreferrer\">sts.comity.net/######</a> \u2022         Sign-Out URL:<a href=\"https://login.microsoftonline.com/common/w#########3n?wa=wsignout1.0\" rel=\"nofollow noreferrer\">login.microsoftonline.com/common/w#########3n?wa=wsignou&zwnj;&#8203;t1.0</a>"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 10393063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5c7797184c2dda59d68e4689121de1?s=128&d=identicon&r=PG&f=1", "display_name": "Penny", "link": "https://stackoverflow.com/users/10393063/penny"}, "edited": false, "score": 0, "creation_date": 1569531515, "post_id": 58113578, "comment_id": 102637785, "body": "Thank you for your response. I tried this but I get the below error:                               HTTP Error 500.19 - Internal Server Error The requested page cannot be accessed because the related configuration data for the page is invalid. at                                                                                 &lt;sustainsys.saml2 entityId=&quot;<a href=\"https://localhost:44300\" rel=\"nofollow noreferrer\">localhost:44300</a>&quot;                                                     Config Error\t   The configuration section &#39;sustainsys.saml2&#39; cannot be read because it is missing a section declaration"}, {"owner": {"reputation": 391, "user_id": 5340896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262bf6765f0c45120e1a3d88945aa422?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Luo", "link": "https://stackoverflow.com/users/5340896/tom-luo"}, "reply_to_user": {"reputation": 41, "user_id": 10393063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5c7797184c2dda59d68e4689121de1?s=128&d=identicon&r=PG&f=1", "display_name": "Penny", "link": "https://stackoverflow.com/users/10393063/penny"}, "edited": false, "score": 0, "creation_date": 1569545164, "post_id": 58113578, "comment_id": 102640629, "body": "Sounds like the issue is caused by misformat of the config file. Could you post the complete config? Remember to remove private information."}, {"owner": {"reputation": 41, "user_id": 10393063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5c7797184c2dda59d68e4689121de1?s=128&d=identicon&r=PG&f=1", "display_name": "Penny", "link": "https://stackoverflow.com/users/10393063/penny"}, "edited": false, "score": 0, "creation_date": 1569604652, "post_id": 58113578, "comment_id": 102664318, "body": "You were right, I fixed the issue in the config file but now I get this error:                           Server Error in &#39;/&#39; Application. IDX20807: Unable to retrieve document from: &#39;[PII is hidden. For more details, see <a href=\"https://aka.ms/IdentityModel/PII.]\" rel=\"nofollow noreferrer\">aka.ms/IdentityModel/PII.]</a>&#39;. HttpResponseMessage: &#39;[PII is hidden. For more details, see <a href=\"https://aka.ms/IdentityModel/PII.]\" rel=\"nofollow noreferrer\">aka.ms/IdentityModel/PII.]</a>&#39;, HttpResponseMessage.Content: &#39;[PII is hidden. For more details, see <a href=\"https://aka.ms/IdentityModel/PII.]\" rel=\"nofollow noreferrer\">aka.ms/IdentityModel/PII.]</a>&#39;."}, {"owner": {"reputation": 391, "user_id": 5340896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262bf6765f0c45120e1a3d88945aa422?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Luo", "link": "https://stackoverflow.com/users/5340896/tom-luo"}, "reply_to_user": {"reputation": 41, "user_id": 10393063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5c7797184c2dda59d68e4689121de1?s=128&d=identicon&r=PG&f=1", "display_name": "Penny", "link": "https://stackoverflow.com/users/10393063/penny"}, "edited": false, "score": 0, "creation_date": 1569826528, "post_id": 58113578, "comment_id": 102707354, "body": "I assume this url is for metadata location. Pay attention to:  a) your login.microsoftonline.com url is misformat. It contains special characters like &quot;&lt;&quot; . Please check it again.     b) the url you configured is for openid, not SAML. the correct url should be like <a href=\"https://login.microsoftonline.com/xxxx-xxx-xxx-xxxx-xxxx/FederationMetadata/2007-06/FederationMetadata.xml\" rel=\"nofollow noreferrer\">login.microsoftonline.com/xxxx-xxx-xxx-xxxx-xxxx/&hellip;</a>   c) you accidently posted your real tenant id, please delete it for security"}, {"owner": {"reputation": 41, "user_id": 10393063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5c7797184c2dda59d68e4689121de1?s=128&d=identicon&r=PG&f=1", "display_name": "Penny", "link": "https://stackoverflow.com/users/10393063/penny"}, "edited": false, "score": 0, "creation_date": 1569856708, "post_id": 58113578, "comment_id": 102722734, "body": "I deleted the comment, thanks. I had few references to OpenID, once I deleted this, I get the error: &quot;HTTP Error 401.0 - Unauthorized You do not have permission to view this directory or page. sustain sys saml&quot; Am I missing something? Should I be following the same steps as here: <a href=\"https://github.com/Sustainsys/Saml2/tree/master/Samples/SampleMvcApplication\" rel=\"nofollow noreferrer\">github.com/Sustainsys/Saml2/tree/master/Samples/&hellip;</a>"}, {"owner": {"reputation": 41, "user_id": 10393063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5c7797184c2dda59d68e4689121de1?s=128&d=identicon&r=PG&f=1", "display_name": "Penny", "link": "https://stackoverflow.com/users/10393063/penny"}, "edited": false, "score": 0, "creation_date": 1569873375, "post_id": 58113578, "comment_id": 102729713, "body": "After trying another method: I get this                                                    AADSTS700016: Application with identifier &#39;<a href=\"https://sts.xxxxxxxxxxxxxxxxxxxxxxxx/\" rel=\"nofollow noreferrer\">sts.xxxxxxxxxxxxxxxxxxxxxxxx</a>&#39; was not found in the directory &#39;xxxxxxxxxxxxxxxxxxxxx&#39;. This can happen if the application has not been installed by the administrator of the tenant or consented to by any user in the tenant. You may have sent your authentication request to the wrong tenant.         Is it something to do with Azure AD setting? Pls advise"}, {"owner": {"reputation": 391, "user_id": 5340896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262bf6765f0c45120e1a3d88945aa422?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Luo", "link": "https://stackoverflow.com/users/5340896/tom-luo"}, "reply_to_user": {"reputation": 41, "user_id": 10393063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5c7797184c2dda59d68e4689121de1?s=128&d=identicon&r=PG&f=1", "display_name": "Penny", "link": "https://stackoverflow.com/users/10393063/penny"}, "edited": false, "score": 0, "creation_date": 1569903338, "post_id": 58113578, "comment_id": 102736292, "body": "hmm, it&#39;s hard for us to help you with an error message only. I suggested 3 steps. I assume you met problem when configuring web.config. Please strictly follow the Sustainsys official guidance then refer to my web.config sample. If any problem occurs, please post your complete web.config, so that we can help."}], "tags": [], "owner": {"reputation": 391, "user_id": 5340896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262bf6765f0c45120e1a3d88945aa422?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Luo", "link": "https://stackoverflow.com/users/5340896/tom-luo"}, "is_accepted": false, "score": 0, "last_activity_date": 1569489808, "creation_date": 1569489808, "answer_id": 58113578, "question_id": 58103808, "link": "https://stackoverflow.com/questions/58103808/steps-to-authenticate-the-user-using-saml-sso-to-my-existing-c-web-app/58113578#58113578", "title": "steps to authenticate the user using SAML SSO to my existing C# web app", "body": "<p>.net doesn't provide native library for SAML authentication. You need to leverage third party SAML library. I recommend <a href=\"https://saml2.sustainsys.com/en/2.0/index.html\" rel=\"nofollow noreferrer\">Sustainsys</a>. \nCheck the corresponding guideline according to your project type. </p>\n\n<p>I use APS.NET MVC as example:</p>\n\n<p>1, Install \"<a href=\"https://www.nuget.org/packages/Sustainsys.Saml2.Mvc/\" rel=\"nofollow noreferrer\">Sustainsys.Saml2.Mvc</a>\" package</p>\n\n<p>2, Configure web.config file referring to <a href=\"https://saml2.sustainsys.com/en/2.0/configuration.html\" rel=\"nofollow noreferrer\">https://saml2.sustainsys.com/en/2.0/configuration.html</a> </p>\n\n<p>Here is an example for <code>sustainsys.saml2</code> section:</p>\n\n<pre><code>  &lt;sustainsys.saml2 entityId=\"https://www.contoso.org/checkresourceapp[This is your application URI in Azure AD]\"\n                    returnUrl=\"http://localhost:54664/[this is the reply url of your app in AAD]\"\n\n                    &gt;\n    &lt;nameIdPolicy allowCreate=\"true\" format=\"Persistent\"/&gt;\n\n    &lt;identityProviders&gt;\n      &lt;add entityId=\"https://sts.windows.net/&lt;YourADTenantID&gt;/\"\n          metadataLocation=\"https://login.microsoftonline.com/&lt;YourADTenantID&gt;/FederationMetadata/2007-06/FederationMetadata.xml\"\n          loadMetadata = \"true\"\n          allowUnsolicitedAuthnResponse=\"true\"\n          signOnUrl=\"https://login.microsoftonline.com/&lt;YourADTenantID&gt;\"\n          binding=\"HttpRedirect\"&gt;\n\n      &lt;/add&gt;\n\n    &lt;/identityProviders&gt;\n\n    &lt;federations&gt;\n      &lt;add metadataLocation=\"https://login.microsoftonline.com/&lt;YourADTenantID&gt;/FederationMetadata/2007-06/FederationMetadata.xml\" allowUnsolicitedAuthnResponse = \"false\" /&gt;\n    &lt;/federations&gt;\n  &lt;/sustainsys.saml2&gt;\n</code></pre>\n\n<p>3, Add \"Authorize\" attribute to the page you want to enable authentication  </p>\n"}], "owner": {"reputation": 41, "user_id": 10393063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5c7797184c2dda59d68e4689121de1?s=128&d=identicon&r=PG&f=1", "display_name": "Penny", "link": "https://stackoverflow.com/users/10393063/penny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1569489808, "creation_date": 1569432950, "last_edit_date": 1569437037, "question_id": 58103808, "link": "https://stackoverflow.com/questions/58103808/steps-to-authenticate-the-user-using-saml-sso-to-my-existing-c-web-app", "title": "steps to authenticate the user using SAML SSO to my existing C# web app", "body": "<p>I looked at multiple articles online but nothing was useful, can some one help me with the steps to authenticate the user using SAML SSO to my existing C# web app?</p>\n"}, {"tags": ["c#", "winforms", "desktop-application"], "comments": [{"owner": {"reputation": 159, "user_id": 1215656, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/64480597ed969327286d6f7b8e1e7e4e?s=128&d=identicon&r=PG", "display_name": "Nitin Singh", "link": "https://stackoverflow.com/users/1215656/nitin-singh"}, "edited": false, "score": 0, "creation_date": 1569432380, "post_id": 58103658, "comment_id": 102598536, "body": "I did try difference panel_paint event but with no luck"}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 3, "creation_date": 1569432565, "post_id": 58103658, "comment_id": 102598603, "body": "Surely using a ProgressBar would be easier (Aero knows what progressbars are , so it will animate it suitably etc)? If you&#39;re desperate to roll your own wouldn&#39;t get into painting myown rectangle; I&#39;d just add another panel inside the first one, docked to the left and width = 200 * 50/100, make the backcolour of the new panel green, and change its width as progress occurs"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1569433074, "post_id": 58103658, "comment_id": 102598826, "body": "<i>I did try difference panel_paint event but with no luck</i> What are we to make of that? Paint is the right event; show your code!!! You trigger it from whereever the progress is made or noted by calling panel.Invalidate(). You fill a rectangles with e.Graphics.FillRectangle(Brushes.Green) and set the Backcolor to Color.Red. Do DoubleBuffer the Panel!! - Or use Caius&#39; advice if using two panels!"}, {"owner": {"reputation": 159, "user_id": 1215656, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/64480597ed969327286d6f7b8e1e7e4e?s=128&d=identicon&r=PG", "display_name": "Nitin Singh", "link": "https://stackoverflow.com/users/1215656/nitin-singh"}, "reply_to_user": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1569433726, "post_id": 58103658, "comment_id": 102599063, "body": "@CaiusJard Actually i did tried your idea about using the progress bar but unfortunately using progress bar comes with its own challenges of using different colors in that. Though panel inside panel is i am going to try."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1569434160, "post_id": 58103658, "comment_id": 102599270, "body": "We have to see your paint code in order to help you."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1569434245, "post_id": 58103658, "comment_id": 102599311, "body": "Create the green rectangle at design time. Make it invisible. When the time is right, make it visible. I would look for a progress bar that can have a gradient color and play with the gradient."}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1569434757, "post_id": 58103658, "comment_id": 102599522, "body": "@NitinSingh color your own progress bar (but read all answers-accepted answer might not be what you want): <a href=\"https://stackoverflow.com/questions/778678/how-to-change-the-color-of-progressbar-in-c-sharp-net-3-5\" title=\"how to change the color of progressbar in c sharp net 3 5\">stackoverflow.com/questions/778678/&hellip;</a> - remember that choosing the user&#39;s colors <i>is not your job</i>; the user has picked the windows theme they want, including the color of the progress bar they want. You might pick a color they cant see well.. I still recommend you just use progressbar and if you want it green, set your Windows to green theme, but leave my Windows&#39; blue progressbars blue ;)"}], "answers": [{"comments": [{"owner": {"reputation": 162, "user_id": 10780320, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ciwTMm5EN2k/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gFAw4_QKi2CyWHhmQTE5-rPx7aZg/mo/photo.jpg?sz=128", "display_name": "Mostafa Mahmoud", "link": "https://stackoverflow.com/users/10780320/mostafa-mahmoud"}, "edited": false, "score": 0, "creation_date": 1569435494, "post_id": 58104201, "comment_id": 102599816, "body": "sorry for the mistake, but I&#39;ve fixed the code."}, {"owner": {"reputation": 159, "user_id": 1215656, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/64480597ed969327286d6f7b8e1e7e4e?s=128&d=identicon&r=PG", "display_name": "Nitin Singh", "link": "https://stackoverflow.com/users/1215656/nitin-singh"}, "edited": false, "score": 1, "creation_date": 1569435642, "post_id": 58104201, "comment_id": 102599862, "body": "Thanks Man. Yes indeed i had to change the constructor with public but that did work like a charm. Thanks!"}, {"owner": {"reputation": 162, "user_id": 10780320, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ciwTMm5EN2k/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gFAw4_QKi2CyWHhmQTE5-rPx7aZg/mo/photo.jpg?sz=128", "display_name": "Mostafa Mahmoud", "link": "https://stackoverflow.com/users/10780320/mostafa-mahmoud"}, "reply_to_user": {"reputation": 159, "user_id": 1215656, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/64480597ed969327286d6f7b8e1e7e4e?s=128&d=identicon&r=PG", "display_name": "Nitin Singh", "link": "https://stackoverflow.com/users/1215656/nitin-singh"}, "edited": false, "score": 0, "creation_date": 1569435904, "post_id": 58104201, "comment_id": 102599994, "body": "don&#39;t forget to also change this line <code>e.Graphics.FillRectangle(new SolidBrush(ProgressColor), new Rectangle(new Point(), new Size((int)(Width * Progress &#47; 100), Height)));</code>"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "reply_to_user": {"reputation": 159, "user_id": 1215656, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/64480597ed969327286d6f7b8e1e7e4e?s=128&d=identicon&r=PG", "display_name": "Nitin Singh", "link": "https://stackoverflow.com/users/1215656/nitin-singh"}, "edited": false, "score": 0, "creation_date": 1569436711, "post_id": 58104201, "comment_id": 102600314, "body": "@NitinSingh You should be disposing that brush you are creating."}, {"owner": {"reputation": 162, "user_id": 10780320, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ciwTMm5EN2k/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gFAw4_QKi2CyWHhmQTE5-rPx7aZg/mo/photo.jpg?sz=128", "display_name": "Mostafa Mahmoud", "link": "https://stackoverflow.com/users/10780320/mostafa-mahmoud"}, "edited": false, "score": 0, "creation_date": 1569492128, "post_id": 58104201, "comment_id": 102617993, "body": "the compiler is smart enough to automatically dispose it as soon as you don&#39;t need it anymore"}], "tags": [], "owner": {"reputation": 162, "user_id": 10780320, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ciwTMm5EN2k/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gFAw4_QKi2CyWHhmQTE5-rPx7aZg/mo/photo.jpg?sz=128", "display_name": "Mostafa Mahmoud", "link": "https://stackoverflow.com/users/10780320/mostafa-mahmoud"}, "is_accepted": true, "score": 2, "last_activity_date": 1569435376, "last_edit_date": 1569435376, "creation_date": 1569434657, "answer_id": 58104201, "question_id": 58103658, "link": "https://stackoverflow.com/questions/58103658/how-to-fill-panel-background-color-based-on-dynamic-value/58104201#58104201", "title": "How to fill panel background color based on dynamic value", "body": "<p>here's a simple control that does the job</p>\n\n<pre><code>public partial class ProgressPanel : Panel\n{\n    private float m_progress = 0;\n    private Color m_progressColor = Color.Green;\n    public ProgressPanel()\n    {\n        InitializeComponent();\n    }\n\n    /// &lt;summary&gt;\n    /// the progress value is between 0 &amp; 100 inclusively\n    /// &lt;/summary&gt;\n    public float Progress\n    {\n        get\n        {\n            return m_progress;\n        }\n        set\n        {\n            m_progress = value;\n            this.Invalidate();\n        }\n    }\n\n    public Color ProgressColor\n    {\n        get\n        {\n            return m_progressColor;\n        }\n        set\n        {\n            m_progressColor = value;\n            this.Invalidate();\n        }\n    }\n\n    private void ProgressPanel_Paint(object sender, PaintEventArgs e)\n    {\n        e.Graphics.Clear(BackColor);\n\n        e.Graphics.FillRectangle(new SolidBrush(ProgressColor), new Rectangle(new Point(), new Size((int)(Width * Progress / 100), Height)));\n    }\n\n    private void InitializeComponent()\n    {\n        this.SuspendLayout();\n        // \n        // ProgressPanel\n        // \n        this.Paint += new System.Windows.Forms.PaintEventHandler(this.ProgressPanel_Paint);\n        this.ResumeLayout(false);\n\n    }\n}\n</code></pre>\n\n<p>just create a new empty class in your project &amp; name it <code>ProgressPanel</code> then copy the above code into it.</p>\n\n<p>now you can use your newly created <code>ProgressPanel</code> as you would use any other control from the designer</p>\n\n<p>note that this example is a simplified one.\nyou may notice some flickering, but other than this it's totally functional</p>\n\n<p>if you want to know how to upgrade this example to a professional control, I'd be happy to help</p>\n"}], "owner": {"reputation": 159, "user_id": 1215656, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/64480597ed969327286d6f7b8e1e7e4e?s=128&d=identicon&r=PG", "display_name": "Nitin Singh", "link": "https://stackoverflow.com/users/1215656/nitin-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "closed_date": 1569437960, "accepted_answer_id": 58104201, "answer_count": 1, "score": 0, "last_activity_date": 1569435376, "creation_date": 1569432343, "question_id": 58103658, "link": "https://stackoverflow.com/questions/58103658/how-to-fill-panel-background-color-based-on-dynamic-value", "closed_reason": "Not suitable for this site", "title": "How to fill panel background color based on dynamic value", "body": "<p>I am working on an desktop application in C# that requires a panel background to be filled using dynamic values.For example if the panel of width 200px and the progress property is currently reached at 50% then 100px of the panel should have green color in it rest 100px will be as it.</p>\n"}, {"tags": ["c#", "unity3d", "animation"], "answers": [{"tags": [], "owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "is_accepted": true, "score": 1, "last_activity_date": 1569440826, "creation_date": 1569440826, "answer_id": 58105593, "question_id": 58103601, "link": "https://stackoverflow.com/questions/58103601/unity-access-animations-inside-animation-component/58105593#58105593", "title": "Unity: Access animations inside animation component", "body": "<p><a href=\"https://docs.unity3d.com/ScriptReference/Animation.Play.html\" rel=\"nofollow noreferrer\"><code>Animation.Play</code></a> </p>\n\n<blockquote>\n  <p>If no name is supplied then the default animation will be played</p>\n</blockquote>\n\n<p>What you want to do is start all animations by name:</p>\n\n<pre><code>anim = GetComponent&lt;Animation&gt;();\nforeach (AnimationState state in anim)\n{\n    anim.Play(state.name);\n}\n</code></pre>\n\n<p>However also note</p>\n\n<blockquote>\n  <p>Animations must be marked as \u2018Legacy\u2019 in the Inspector for the animations to be found by this method. This option appears after switching the Inspector Window to \u2018Debug\u2019.</p>\n</blockquote>\n"}], "owner": {"reputation": 3, "user_id": 8929888, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-M4j1qOGRJEU/AAAAAAAAAAI/AAAAAAAAAlI/kwne7cDVako/photo.jpg?sz=128", "display_name": "julio cesar Hernandez", "link": "https://stackoverflow.com/users/8929888/julio-cesar-hernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 58105593, "answer_count": 1, "score": 0, "last_activity_date": 1569440826, "creation_date": 1569432053, "question_id": 58103601, "link": "https://stackoverflow.com/questions/58103601/unity-access-animations-inside-animation-component", "title": "Unity: Access animations inside animation component", "body": "<p>so the 3D person in my team made a tree and the tree has an animation for each leaf, so the thing is that i need to play all the animations of the leaves at the same time, so i tried to do this by code but Unity only plays the first of them (there are 23 animations), can you help me please ? , this is my code: </p>\n\n<pre><code>public Animation anim;\n\nvoid Start()\n{\n    anim = GetComponent&lt;Animation&gt;();\n    foreach (AnimationState state in anim)\n    {\n        anim.Play();\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1569432399, "post_id": 58103563, "comment_id": 102598545, "body": "Put the usercontrols in datatemplates hosted in a ContentControl. Bind its Content to your viewmodel that has the <code>AnimationFile</code> property. Have one template for each type of player you want to use. Use a TemplateSelector to pick which one the ContentControl uses. Swapping DataTemplates is the canonical method of doing this type of thing with XAML."}, {"owner": {"reputation": 8866, "user_id": 5758420, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a47e2744f0e5b6f84407efd06dbee96f?s=128&d=identicon&r=PG&f=1", "display_name": "Haukinger", "link": "https://stackoverflow.com/users/5758420/haukinger"}, "edited": false, "score": 0, "creation_date": 1569435145, "post_id": 58103563, "comment_id": 102599665, "body": "<code>I couldn&#39;t figure out how to handle the Dependency Properties that need to be passed to the Control</code> - exactly the same way you do when binding directly. The view model is the the data context of the data template, so just put <code>{Binding WhatEver}</code> in there as always..."}, {"owner": {"reputation": 13507, "user_id": 2846483, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/X2Bfs.jpg?s=128&g=1", "display_name": "dymanoid", "link": "https://stackoverflow.com/users/2846483/dymanoid"}, "edited": false, "score": 0, "creation_date": 1569435375, "post_id": 58103563, "comment_id": 102599762, "body": "Please, please, please remove the finalizer. Never use finalizers!"}, {"owner": {"reputation": 17, "user_id": 2419024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f512e60aa0ae4b444ef05b01fbc722?s=128&d=identicon&r=PG", "display_name": "Danny Diaz", "link": "https://stackoverflow.com/users/2419024/danny-diaz"}, "reply_to_user": {"reputation": 13507, "user_id": 2846483, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/X2Bfs.jpg?s=128&g=1", "display_name": "dymanoid", "link": "https://stackoverflow.com/users/2846483/dymanoid"}, "edited": false, "score": 0, "creation_date": 1569444878, "post_id": 58103563, "comment_id": 102603555, "body": "@dymanoid, if I didn&#39;t use a finalizer, where would I call my dispose method? I don&#39;t actively create the class, and I don&#39;t actively destroy the class. And the objects inside the class have to live for as long as the class is still being used, which I have no control over when that is."}, {"owner": {"reputation": 13507, "user_id": 2846483, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/X2Bfs.jpg?s=128&g=1", "display_name": "dymanoid", "link": "https://stackoverflow.com/users/2846483/dymanoid"}, "edited": false, "score": 0, "creation_date": 1569445820, "post_id": 58103563, "comment_id": 102603856, "body": "A WPF control should not be <code>IDisposable</code>. The GC will get rid of your object as soon as it becomes collectible."}, {"owner": {"reputation": 17, "user_id": 2419024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f512e60aa0ae4b444ef05b01fbc722?s=128&d=identicon&r=PG", "display_name": "Danny Diaz", "link": "https://stackoverflow.com/users/2419024/danny-diaz"}, "reply_to_user": {"reputation": 13507, "user_id": 2846483, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/X2Bfs.jpg?s=128&g=1", "display_name": "dymanoid", "link": "https://stackoverflow.com/users/2846483/dymanoid"}, "edited": false, "score": 0, "creation_date": 1569520812, "post_id": 58103563, "comment_id": 102633321, "body": "@dymanoid - the exception is when the control requires owning unmanaged resources, as this one does (I&#39;m just not showing it). When in use, the class holds unmanaged resources from the video library&#39;s DLL, and without the finalizer those resources would be abandoned (leaked). I appreciate your comment, it&#39;s good to think about for most uses, but in this case I think it&#39;s an exception to the rule."}], "answers": [{"tags": [], "owner": {"reputation": 346, "user_id": 10858684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4366b214590a6b339d7ca12783bc5e7c?s=128&d=identicon&r=PG&f=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/10858684/wes"}, "is_accepted": true, "score": 1, "last_activity_date": 1569433801, "last_edit_date": 1569433801, "creation_date": 1569432630, "answer_id": 58103740, "question_id": 58103563, "link": "https://stackoverflow.com/questions/58103563/how-can-i-dynamically-change-what-control-im-using-within-mvvm-xaml/58103740#58103740", "title": "How can I dynamically change what control I&#39;m using within MVVM XAML", "body": "<p>You can use a content control and data templates</p>\n\n<p>In your parent window define the data templates for each video player.</p>\n\n<pre><code>&lt;Window ...\n        ...&gt;\n\n    &lt;Window.Resources&gt;\n        &lt;DataTemplate DataType=\"{x:Type viewModels:LibSharpViewModel}\"&gt;\n            &lt;views:LibSharpView/&gt;\n        &lt;/DataTemplate&gt;\n        &lt;DataTemplate DataType=\"{x:Type viewModels:VlcViewModel}\"&gt;\n            &lt;views:VlcView/&gt;\n        &lt;/DataTemplate&gt;\n\n    &lt;/Window.Resources&gt;\n\n    &lt;Grid&gt;        \n        &lt;ContentControl  Content=\"{Binding SelectedVideoPlayerViewModel}\"/&gt;               \n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>Then define the Vlc and LibSharp views in separate xaml files. </p>\n\n<p>You can create a base class for the video player viewmodels that define the required dependency properties that the Vlc and LibSharp VM's will inherit from. </p>\n\n<p>In the parent window's VM you can determine which player to use based on your hardware criteria, and set the SelectedVideoPlayerViewModel to switch which control is displayed in the content control.</p>\n"}], "owner": {"reputation": 17, "user_id": 2419024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f512e60aa0ae4b444ef05b01fbc722?s=128&d=identicon&r=PG", "display_name": "Danny Diaz", "link": "https://stackoverflow.com/users/2419024/danny-diaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 58103740, "answer_count": 1, "score": 0, "last_activity_date": 1569435295, "creation_date": 1569431893, "last_edit_date": 1569435295, "question_id": 58103563, "link": "https://stackoverflow.com/questions/58103563/how-can-i-dynamically-change-what-control-im-using-within-mvvm-xaml", "title": "How can I dynamically change what control I&#39;m using within MVVM XAML", "body": "<p>I am writing a simple application that uses VLC to play a video. This would normally be a simple solution, but there are side-effects to virtually all VLC libraries currently out there; Vlc.DotNet.WPF is great but it has a side-effect that it is CPU intensive but solves problems with layering videos, and LibVLCSharp.WPF is much better with CPU utilization but has problems with layering videos (airspace issues). So, I want to be able to architect my application to allow me to switch which video library I'm using to play the video so that I can manage the trade-offs of the two renderers depending on the hardware and situational requirements I have.</p>\n\n<p>Each library provides a custom UserControl for use to display a video within a View. LibVLCSharp provides <code>LibVLCSharp.WPF.VideoView</code> and Vlc.DotNet.WPF provides <code>Vlc.DotNet.Wpf.VlcControl</code>.</p>\n\n<p>I've structured my code to display each of these independently in the following way:</p>\n\n<p>Control Class for using VlcDotNetWpf:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class vlcPlayerDotNet : Vlc.DotNet.Wpf.VlcControl\n{\n   public vlcPlayerDotNet() {}\n   ~vlcPlayerDotNet()\n   {\n      // class-specific cleanup routines\n   }\n\n   public void PlayVideo()\n   {\n      // class-specific video playback code to play Source video\n   }\n\n   // Dependency Properties\n   public static readonly DependencyProperty SourceProperty =\n      DependencyProperty.Register(\n      \"Source\", typeof(string),\n      typeof(vlcPlayerDotNet)\n   );\n   public string Source\n   {\n      get { return (string)GetValue(SourceProperty); }\n      set { SetValue(SourceProperty, value); }\n   } \n\n   /*\n      ... and so on, for multiple dependency properties\n   */\n}\n</code></pre>\n\n<p>And Control class for using LibVlcSharp.Wpf:</p>\n\n<pre><code>public class vlcPlayerLibVLCSharp : LibVLCSharp.WPF.VideoView\n{\n   public vlcPlayerLibVLCSharp() {}\n   ~vlcPlayerLibVLCSharp()\n   {\n      // class-specific cleanup routines\n   }\n\n   public void PlayVideo()\n   {\n      // class-specific video playback code to play Source video\n   }\n\n   // Dependency Properties\n   public static readonly DependencyProperty SourceProperty =\n      DependencyProperty.Register(\n      \"Source\", typeof(string),\n      typeof(vlcPlayerLibVLCSharp)\n   );\n   public string Source\n   {\n      get { return (string)GetValue(SourceProperty); }\n      set { SetValue(SourceProperty, value); }\n   } \n\n   /*\n      ... and so on, for multiple dependency properties\n   */\n}\n</code></pre>\n\n<p>In my ViewModel I have a few needed inputs, namely:</p>\n\n<pre><code>   private string animationFile;\n   public string AnimationFile\n   {\n      get { return animationFile; }\n      set { SetProperty(ref animationFile, value); }\n   }\n</code></pre>\n\n<p>Then, in my View, I define which video control I want to use - for example, if I am using the LibVLCSharp player I use the following:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;Grid&gt;\n      &lt;local:vlcPlayerLibVLCSharp \n         Grid.Column=\"0\" Grid.Row=\"0\"                 \n         HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" \n         Height=\"720\" Width=\"1280\"\n         Source=\"{Binding AnimationFile}\" LoadedBehavior=\"Play\"  \n         MediaEnded=\"animationPlayer_MediaEnded\" \n         MediaFailed=\"animationPlayer_MediaFailed\" \n         x:Name=\"vlcPlayer\"/&gt;\n   &lt;/Grid&gt;\n</code></pre>\n\n<p>And so on for the other player.</p>\n\n<p>What I DO NOT want is to have two View UserControls stacked and collapsed; I want to be able to have ONE View UserControl in the View and be able to dynamically choose which UserControl is actually being used within the View. My goal is to have a straightforward View, and it would be amazing if I could later add another Control without changing the View (but it's not a dealbreaker). </p>\n\n<p>I have investigated using a <code>ContentControl</code> in the View to contain the video UserControl(s), but I couldn't figure out how to handle the Dependency Properties that need to be passed to the Control. I've also looked at <code>DataTemplate</code> and <code>DataTemplateSelector</code> but all of the examples I've found deal with List Boxes and I'm having a hard time making the conceptual leap from the listbox to these derived controls. </p>\n\n<p>Any advice on how to architect my code to allow this swap under the hood is appreciated!</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6"], "answers": [{"comments": [{"owner": {"reputation": 422, "user_id": 6777301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b0d2f70dc74f2b05ce53732ed4ec63f?s=128&d=identicon&r=PG&f=1", "display_name": "sm101", "link": "https://stackoverflow.com/users/6777301/sm101"}, "edited": false, "score": 0, "creation_date": 1569484876, "post_id": 58103569, "comment_id": 102614181, "body": "Tried that but not getting any results from the bridge table. Im getting nothing. The count is 0. Im using Entity Framework 6.2.0 by the way not core"}, {"owner": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "reply_to_user": {"reputation": 422, "user_id": 6777301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b0d2f70dc74f2b05ce53732ed4ec63f?s=128&d=identicon&r=PG&f=1", "display_name": "sm101", "link": "https://stackoverflow.com/users/6777301/sm101"}, "edited": false, "score": 0, "creation_date": 1569494220, "post_id": 58103569, "comment_id": 102619105, "body": "Do you have any data there in the database?"}], "tags": [], "owner": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "is_accepted": false, "score": 0, "last_activity_date": 1569431910, "creation_date": 1569431910, "answer_id": 58103569, "question_id": 58103476, "link": "https://stackoverflow.com/questions/58103476/entity-created-onmodelcreating-is-not-accessible-in-dbcontext/58103569#58103569", "title": "Entity Created OnModelCreating is not accessible in DbContext", "body": "<p>If you want to access the middle-mapping entities directly, add those as a <code>DbSet</code> on your context, along with the other ones:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public virtual DbSet&lt;CountryRegionMapping&gt; CountryRegionMappings { get; set; }\n\npublic virtual DbSet&lt;Country&gt; Countries { get; set; }\npublic virtual DbSet&lt;Region&gt; Regions { get; set; }\n</code></pre>\n\n<p>Then you can access them same as you access <code>Countries</code>, or <code>Regions</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>ApplicationDbContext db = new ApplicationDbContext();\ndb.CountryRegionMappings//.SingleOrDefault, etc.\n</code></pre>\n"}], "owner": {"reputation": 422, "user_id": 6777301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b0d2f70dc74f2b05ce53732ed4ec63f?s=128&d=identicon&r=PG&f=1", "display_name": "sm101", "link": "https://stackoverflow.com/users/6777301/sm101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569431910, "creation_date": 1569431452, "last_edit_date": 1569431762, "question_id": 58103476, "link": "https://stackoverflow.com/questions/58103476/entity-created-onmodelcreating-is-not-accessible-in-dbcontext", "title": "Entity Created OnModelCreating is not accessible in DbContext", "body": "<p>I have a many to many relationship mapping, and the mapping table has an additional field. I created the ApplicationDbContext as below:</p>\n\n<pre><code>        public virtual DbSet&lt;Country&gt; Countries { get; set; }\n        public virtual DbSet&lt;Region&gt; Regions { get; set; }\n\n        protected override void OnModelCreating(DbModelBuilder modelBuilder)\n        {\n            modelBuilder.Entity&lt;CountryRegionMapping&gt;()\n                .HasKey(um =&gt; um.CountryRegionMappingId)\n                .ToTable(\"CountryRegionMapping\");\n\n            modelBuilder.Entity&lt;CountryRegionMapping&gt;()\n                .HasRequired(um =&gt; um.Region).WithMany(g =&gt; g.CountryMappings)\n                .HasForeignKey(um =&gt; um.RegionId);\n\n            modelBuilder.Entity&lt;CountryRegionMapping&gt;()\n                .HasRequired(um =&gt; um.Country).WithMany(g =&gt; g.RegionMappings)\n                .HasForeignKey(um =&gt; um.CountryId);\n\n            base.OnModelCreating(modelBuilder);\n        }\n</code></pre>\n\n<p>I was refering <a href=\"https://entityframework.net/knowledge-base/30899930/ef-code-first---many-to-many-relation-mapping-table-with-extra-columns\" rel=\"nofollow noreferrer\">this link</a> to create the Many-to-Many relationship having an extra field in the mapping table.</p>\n\n<p>The entity classes are :</p>\n\n<pre><code>    public class Country\n    {\n        public int Id { get; set; }\n        public string SystemOneName { get; set; }\n        public string SystemTwoName { get; set; }\n        public virtual ICollection&lt;CountryRegionMapping&gt; RegionMappings { get; set; }\n    }\n\n    public class Region\n    {\n        public int Id { get; set; }\n        public string SystemOneName { get; set; }\n        public string SystemTwoName { get; set; }\n        public virtual ICollection&lt;CountryRegionMapping&gt; CountryMappings { get; set; }\n    }\n\n    public class CountryRegionMapping\n    {\n        public int CountryRegionMappingId { get; set; }\n        public int CountryId { get; set; }\n        public virtual Country Country { get; set; }\n        public int RegionId { get; set; }\n        public virtual Region Region { get; set; }\n        public bool CheckField { get; set; }\n    }\n</code></pre>\n\n<p>When I try to access the Country or Region tables I can simply access it through the code as below using dbcontext.Regions</p>\n\n<pre><code>ApplicationDbContext db = new ApplicationDbContext();\ndb.Regions.SingleOrDefault(r =&gt; r.Id == Id);\n</code></pre>\n\n<p>But when I try to access the \"CountryRegionMapping\" entity I cannot access through a code as db.CountryRegionMapping</p>\n\n<p>Why is this not available in the Db Context. How can I access this entity in the middle of a Many-to-Many relationship.</p>\n"}, {"tags": ["c#", "arrays"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1569431404, "post_id": 58103446, "comment_id": 102598129, "body": "Don&#39;t declare a new <code>array1</code>. Just create a new array and assign it to the existing reference: <code>array1 = new int[i];</code> <code>Convert.ToInt32(TotalArray);</code> means &quot;take this string called TotalArray, and try to convert the text in that string into an integer.&quot; If the string is <code>&quot;13&quot;</code>, that&#39;ll return integer 13. If the text is &quot;my cat&#39;s breath smells like Fred Flintstone&quot;, it&#39;ll throw an exception. However, <code>TotalArray</code> <i>is already an integer</i>. You parsed a string from the user on the previous line. So just create <code>new int[TotalArray]</code>, and omit <code>i</code> entirely."}, {"owner": {"reputation": 81, "user_id": 12071277, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q13IYzkW-PU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0Pz9GE760KJTJ8jzHaUIkeQjDEA/photo.jpg?sz=128", "display_name": "XxDanxX", "link": "https://stackoverflow.com/users/12071277/xxdanxx"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1569431840, "post_id": 58103446, "comment_id": 102598314, "body": "@EdPlunkett Thanks for the response! That worked! I am currently trying to loop that section where it asks what position you would like to add your number to until the array is full - How would I go about doing this?"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1569432262, "post_id": 58103446, "comment_id": 102598481, "body": "Do you need to give the user an error if they pick the same position twice? Personally, I&#39;d just have them fill it in from zero to whatever in order, but I assume this is is a class assignment."}, {"owner": {"reputation": 350, "user_id": 11697802, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PIeSeEpG05s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9pMPA1FYPN99XArKBn9M-8pY5eA/photo.jpg?sz=128", "display_name": "ShaneDemskie", "link": "https://stackoverflow.com/users/11697802/shanedemskie"}, "edited": false, "score": 0, "creation_date": 1569433906, "post_id": 58103446, "comment_id": 102599151, "body": "I&#39;d let them alter fields as many times as they want and leave them to it. They could definitely do some basic input validation though."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 12071277, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q13IYzkW-PU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0Pz9GE760KJTJ8jzHaUIkeQjDEA/photo.jpg?sz=128", "display_name": "XxDanxX", "link": "https://stackoverflow.com/users/12071277/xxdanxx"}, "edited": false, "score": 0, "creation_date": 1569432682, "post_id": 58103634, "comment_id": 102598654, "body": "To be honest that code is quite confusing for me. I don&#39;t quite understand the whole --requestCount &gt;=0 thing - I think its a bit too complex for me.I thought there was a more basic version. In additon to that, the code doesn&#39;t seem to work.Result: Hello, welcome to creating your own array! How many numbers do you wish to add to the array?: 3 What position would you like to add your number to?: 1 What number would you like to add to position 1 3 Testing: 3 0 3 0 What position would you like to add your number to?: 2 Error! You entered your position higher than your total array!"}, {"owner": {"reputation": 81, "user_id": 12071277, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q13IYzkW-PU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0Pz9GE760KJTJ8jzHaUIkeQjDEA/photo.jpg?sz=128", "display_name": "XxDanxX", "link": "https://stackoverflow.com/users/12071277/xxdanxx"}, "edited": false, "score": 0, "creation_date": 1569432700, "post_id": 58103634, "comment_id": 102598660, "body": "I think I might just create a new post as that would be more appropiate"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "reply_to_user": {"reputation": 81, "user_id": 12071277, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q13IYzkW-PU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0Pz9GE760KJTJ8jzHaUIkeQjDEA/photo.jpg?sz=128", "display_name": "XxDanxX", "link": "https://stackoverflow.com/users/12071277/xxdanxx"}, "edited": false, "score": 0, "creation_date": 1569433030, "post_id": 58103634, "comment_id": 102598804, "body": "Please edit your question to show the entire code for the version which you got that error from. Mine isn&#39;t doing that. Also, note that arrays in C# count from zero: In an array of three items, the valid indexes are 0, 1, and 2. 3 is out of range."}, {"owner": {"reputation": 81, "user_id": 12071277, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q13IYzkW-PU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0Pz9GE760KJTJ8jzHaUIkeQjDEA/photo.jpg?sz=128", "display_name": "XxDanxX", "link": "https://stackoverflow.com/users/12071277/xxdanxx"}, "edited": false, "score": 0, "creation_date": 1569433082, "post_id": 58103634, "comment_id": 102598830, "body": "That simplified version makes much more sense now! I can&#39;t believe I didn&#39;t think of that - Such a simple thing, thanks. It works!"}], "tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": true, "score": 3, "last_activity_date": 1569433316, "last_edit_date": 1569433316, "creation_date": 1569432224, "answer_id": 58103634, "question_id": 58103446, "link": "https://stackoverflow.com/questions/58103446/how-to-create-an-array-length-based-on-users-input/58103634#58103634", "title": "How to create an array length based on users input", "body": "<p>First, you don't need to convert TotalArray to an integer, since you already parsed the user's repsonse as an integer. So omit <code>i</code>. Next, you're declaring a new <code>array1</code>. Instead, just assign a new one to the same reference:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>array1 = new int[TotalArray];\n</code></pre>\n\n<p>As for the loop. Here's the naive version, but if you need to scold the user for picking the same position twice, you'll need to do a lot more work. </p>\n\n<pre><code>int requestCount = TotalArray;\n\nwhile (requestCount &gt; 0)\n{\n    requestCount = requestCount - 1;\n\n    Console.WriteLine(\"What position would you like to add your number to? (0 - \" \n        + (TotalArray - 1) + \"): \");\n    position = int.Parse(Console.ReadLine());\n    if (position &lt; TotalArray)\n    {\n        Console.WriteLine(\"What number would you like to add to position \" + position);\n        Number = int.Parse(Console.ReadLine());\n        array1[position] = Number;\n        Console.WriteLine(\"Testing: \" + array1[position]);\n        Console.ReadKey();\n    }\n    else\n    {\n        Console.WriteLine(\"Error! You entered your position higher than your total array!\");\n    }\n}\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 12071277, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q13IYzkW-PU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0Pz9GE760KJTJ8jzHaUIkeQjDEA/photo.jpg?sz=128", "display_name": "XxDanxX", "link": "https://stackoverflow.com/users/12071277/xxdanxx"}, "edited": false, "score": 1, "creation_date": 1569433195, "post_id": 58103710, "comment_id": 102598871, "body": "Thank you for explaining the whole thing to me, Much appreciated!"}, {"owner": {"reputation": 350, "user_id": 11697802, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PIeSeEpG05s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9pMPA1FYPN99XArKBn9M-8pY5eA/photo.jpg?sz=128", "display_name": "ShaneDemskie", "link": "https://stackoverflow.com/users/11697802/shanedemskie"}, "edited": false, "score": 1, "creation_date": 1569434097, "post_id": 58103710, "comment_id": 102599240, "body": "Good explanation, Mostafa."}], "tags": [], "owner": {"reputation": 162, "user_id": 10780320, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ciwTMm5EN2k/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gFAw4_QKi2CyWHhmQTE5-rPx7aZg/mo/photo.jpg?sz=128", "display_name": "Mostafa Mahmoud", "link": "https://stackoverflow.com/users/10780320/mostafa-mahmoud"}, "is_accepted": false, "score": 3, "last_activity_date": 1569432512, "creation_date": 1569432512, "answer_id": 58103710, "question_id": 58103446, "link": "https://stackoverflow.com/questions/58103446/how-to-create-an-array-length-based-on-users-input/58103710#58103710", "title": "How to create an array length based on users input", "body": "<p>first this is the right way to write your code</p>\n\n<pre><code>Console.WriteLine(\"Hello, welcome to creating your own array!\");\nConsole.WriteLine(\"How many numbers do you wish to add to the array?: \");\nTotalArray = int.Parse(Console.ReadLine());\narray1 = new int[TotalArray];\n</code></pre>\n\n<p>the third line means <strong>read the last line entered into the console then convert it to a value of type <em>int</em>, then store this value in the variable <em>TotalArray</em></strong></p>\n\n<p>while the fourth line means <strong>construct a new array of length <em>TotalArray</em> then store the resulted array into the variable <em>array1</em></strong></p>\n\n<p>this doesn't work when you write <code>int[] array1 = new int[i];</code> because it means <strong>create a new variable called <em>array1</em> then create a new array of length <em>i</em> to be stored in the newly created variable <em>array1</em></strong></p>\n\n<p>and as you can see in your code you've already defined <code>array1</code></p>\n\n<p>here:</p>\n\n<pre><code>//Variables\nint[] array1 = new int[0];\n</code></pre>\n\n<p>this is why you get the message: <em><code>A local variable or function named 'array1' is already defined in this scope</code></em></p>\n\n<p>but good job for a beginner.</p>\n"}], "owner": {"reputation": 81, "user_id": 12071277, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q13IYzkW-PU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0Pz9GE760KJTJ8jzHaUIkeQjDEA/photo.jpg?sz=128", "display_name": "XxDanxX", "link": "https://stackoverflow.com/users/12071277/xxdanxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 58103634, "answer_count": 2, "score": 1, "last_activity_date": 1569433316, "creation_date": 1569431331, "question_id": 58103446, "link": "https://stackoverflow.com/questions/58103446/how-to-create-an-array-length-based-on-users-input", "title": "How to create an array length based on users input", "body": "<p>So I am currently pretty confused (keep in mind im new to coding). \nI am currently trying to create a program which creates allows the user to input the amount of numbers they would like to enter in the array (it then creates an array based on that length), asks the user to input the numbers into their desired position. \nMy code currently looks like this: </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace Arrays\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            //Variables\n            int[] array1 = new int[0];\n            int TotalArray, position, Number;\n\n            //Main Program\n            Console.WriteLine(\"Hello, welcome to creating your own array!\");\n            Console.WriteLine(\"How many numbers do you wish to add to the array?: \");\n            TotalArray = int.Parse(Console.ReadLine());\n            Console.ReadKey();\n            {\n                Console.WriteLine(\"What position would you like to add your number to?: \");\n                position = int.Parse(Console.ReadLine());\n                if (position &lt; TotalArray)\n                {\n                    Console.WriteLine(\"What number would you like to add to position \" + position);\n                    Number = int.Parse(Console.ReadLine());\n                    array1[position] = Number;\n                    Console.WriteLine(\"Testing: \" + array1[position]);\n                    Console.ReadKey();\n                }\n                else\n                {\n                    Console.WriteLine(\"Error! You entered your position higher than your total array!\");\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>However, I do not understand how to create an array length based on the users input. \nI have to tried to do this:</p>\n\n<pre><code>            Console.WriteLine(\"Hello, welcome to creating your own array!\");\n            Console.WriteLine(\"How many numbers do you wish to add to the array?: \");\n            TotalArray = int.Parse(Console.ReadLine());\n            int i = Convert.ToInt32(TotalArray);\n            int[] array1 = new int[i];\n</code></pre>\n\n<p>But get this error: \n<code>A local variable or function named 'array1' is already defined in this scope</code>\nI don't really understand what this piece of code does:</p>\n\n<pre><code>            int i = Convert.ToInt32(TotalArray);\n            int[] array1 = new int[i];\n</code></pre>\n\n<p>However, I saw it mentioned on stackoverflow and thought id try an implement it. I kinda understand the 2nd line but don't really get the whole converting thing.</p>\n\n<p>Any help would greatly be appreciated!</p>\n"}, {"tags": ["c#", "mysql", ".net", "ado.net"], "comments": [{"owner": {"reputation": 19193, "user_id": 5193536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZGlox.png?s=128&g=1", "display_name": "nbk", "link": "https://stackoverflow.com/users/5193536/nbk"}, "edited": false, "score": 0, "creation_date": 1569432138, "post_id": 58103396, "comment_id": 102598423, "body": "first check your table which character4set and collation it s using maybe it isn&#39;t utf8"}, {"owner": {"reputation": 405, "user_id": 497073, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/97bbcfaa2fe2ed3a8d75138b614540e6?s=128&d=identicon&r=PG&f=1", "display_name": "PNR", "link": "https://stackoverflow.com/users/497073/pnr"}, "reply_to_user": {"reputation": 19193, "user_id": 5193536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZGlox.png?s=128&g=1", "display_name": "nbk", "link": "https://stackoverflow.com/users/5193536/nbk"}, "edited": false, "score": 0, "creation_date": 1569433372, "post_id": 58103396, "comment_id": 102598935, "body": "Thanks very  much for your reply! The table is set to latin1_danish_ci"}], "answers": [{"tags": [], "owner": {"reputation": 19193, "user_id": 5193536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZGlox.png?s=128&g=1", "display_name": "nbk", "link": "https://stackoverflow.com/users/5193536/nbk"}, "is_accepted": false, "score": 0, "last_activity_date": 1569443816, "creation_date": 1569443816, "answer_id": 58106196, "question_id": 58103396, "link": "https://stackoverflow.com/questions/58103396/special-characters-replaced-with-question-marks-in-mysql-response-from-net-usin/58106196#58106196", "title": "Special characters replaced with question marks in MySql response from .net using MySqlConnection", "body": "<p>try connection with</p>\n\n<pre><code>Server=localhost;Port=3306;Database=xxx;Uid=x xx;Pwd=xxxx;CHARSET=latin1;\n</code></pre>\n\n<p>And then</p>\n\n<pre><code>partial void OnContextCreated()\n{\n    System.Data.Common.DbCommand command = this.Connection.CreateCommand();\n    command.CommandText = \"set collation_connection = utf8_slovenian_ci;\";\n    command.CommandType = System.Data.CommandType.Text;\n    this.Connection.Open();\n    command.ExecuteNonQuery();\n}\n</code></pre>\n\n<p>like described here <a href=\"https://stackoverflow.com/questions/2132530/database-connection-string-and-collation\">Database connection string and collation</a></p>\n"}], "owner": {"reputation": 405, "user_id": 497073, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/97bbcfaa2fe2ed3a8d75138b614540e6?s=128&d=identicon&r=PG&f=1", "display_name": "PNR", "link": "https://stackoverflow.com/users/497073/pnr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1569443816, "creation_date": 1569431126, "question_id": 58103396, "link": "https://stackoverflow.com/questions/58103396/special-characters-replaced-with-question-marks-in-mysql-response-from-net-usin", "title": "Special characters replaced with question marks in MySql response from .net using MySqlConnection", "body": "<p>I am using MySqlConnection in my .net application to query a MySql Database from a .net application, but special characters (it is in Danish) in my resultset is shown as question marks. I have tried including \"charset\" (charset=utf8) in my connection string without any luck.</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 2, "creation_date": 1569431362, "post_id": 58103379, "comment_id": 102598104, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/q/39898301/7111561\">Compare floats in Unity</a> -&gt; You can&#39;t use <code>==</code> for <code>float</code> values. Rather use <code>if(Mathf.Approximately(clickFrames[i], playbackFrames))</code> or use a threashold <code>if(Mathf.Abs(clickFrames[i] - playbackFrames) &lt;= ThresholdValue)</code>"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1569432117, "post_id": 58103379, "comment_id": 102598414, "body": "Also elements of <a href=\"https://stackoverflow.com/q/54565734/1092820\">Approach to solve a not accurate replay system</a>. You shouldn&#39;t check for approximate frame count anyway because there&#39;s no expectation for <code>deltaTime</code> being the same between recording episode and playback episode unless you&#39;re handling input in <code>FixedUpdate</code> (which you shouldn&#39;t do)"}], "answers": [{"tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": true, "score": 1, "last_activity_date": 1569434483, "last_edit_date": 1569434483, "creation_date": 1569431983, "answer_id": 58103588, "question_id": 58103379, "link": "https://stackoverflow.com/questions/58103379/record-and-replay-input-using-list-of-timestamps/58103588#58103588", "title": "Record and replay input using list of timestamps", "body": "<p>There's no reason to expect <code>Time.deltaTime</code> to be constant. You are probably never going to get the same cumulative amount of time this way. You are better off clicking as long as the next timestamp is less than or equal to the current timestamp, and keeping track of where you are in the list of <code>clickFrames</code> accordingly.</p>\n\n<p>This also lets you avoid iterating through the while <code>clickFrames</code> list every frame:</p>\n\n<pre><code>public float recordingFrames;\npublic float playbackFrames;\npublic List&lt;float&gt; clickFrames;\npublic bool recording;\npublic bool playing;\npublic int nextClickFrameIndex;\n\npublic void BeginPlayback()\n{\n    nextClickFrameIndex = 0;\n    playback = true;\n}\n\npublic void InputRecordPlayback()\n{\n    if (recording)\n    {\n        recordingFrames += Time.deltaTime;\n        if (Input.GetMouseButton(0))\n        {\n            clickFrames.Add(recordingFrames);\n        }\n    }\n\n    if (playback)\n    {\n        playbackFrames += Time.deltaTime;\n\n        // loop while you have clicks left in the replay\n        // AND you have clicks to playback since the last frame\n        while (\n                nextClickFrameIndex &lt; playBackFrames.Count \n                &amp;&amp; clickFrames[nextClickFrameIndex] &lt;= playbackFrames \n                )\n        {\n            nextClickFrameIndex++;\n            Debug.Log(\"hello!\");\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9543231, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sbYCyU_ZmSw/AAAAAAAAAAI/AAAAAAAAHao/3IcyfbcDKDY/photo.jpg?sz=128", "display_name": "dexter e gardner", "link": "https://stackoverflow.com/users/9543231/dexter-e-gardner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 1, "accepted_answer_id": 58103588, "answer_count": 1, "score": 1, "last_activity_date": 1569434483, "creation_date": 1569431071, "last_edit_date": 1569433114, "question_id": 58103379, "link": "https://stackoverflow.com/questions/58103379/record-and-replay-input-using-list-of-timestamps", "title": "Record and replay input using list of timestamps", "body": "<p>i'm trying to record player input and play it back. i'm doing this by making a list in which i add the current frame every time the player clicks. when i play it back, i compare the list to the current frame. when the frame the player clicked is equal to the current playback frame, an action will happen.</p>\n\n<pre><code>public float recordingFrames;\npublic float playbackFrames;\npublic List&lt;float&gt; clickFrames;\npublic bool recording;\npublic bool playing;\n\nif (recording)\n{\n    recordingFrames += Time.deltaTime;\n    if (Input.GetMouseButton(0))\n    {\n        clickFrames.Add(recordingFrames);\n    }\n}\n\nif (playback)\n{\n    playbackFrames += Time.deltaTime;\n    for (int i = 0; i &lt; clickFrames.Count; i++)\n    {\n        if (clickFrames[i] == playbackFrames)\n        {\n            Debug.Log(\"hello!\")\n        }\n    }\n}\n</code></pre>\n\n<p>the debug log is never received. how can i fix this? thank you!</p>\n"}, {"tags": ["c#", "stomp"], "comments": [{"owner": {"reputation": 28, "user_id": 6894418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a37dea9b93f747ed94921e8a61078d?s=128&d=identicon&r=PG&f=1", "display_name": "Vitaliy", "link": "https://stackoverflow.com/users/6894418/vitaliy"}, "reply_to_user": {"reputation": 16275, "user_id": 8381946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YoUh4.jpg?s=128&g=1", "display_name": "Justin Bertram", "link": "https://stackoverflow.com/users/8381946/justin-bertram"}, "edited": false, "score": 0, "creation_date": 1569433968, "post_id": 58103330, "comment_id": 102599183, "body": "Yes, exactly. It looks like match my requirements"}, {"owner": {"reputation": 28, "user_id": 6894418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a37dea9b93f747ed94921e8a61078d?s=128&d=identicon&r=PG&f=1", "display_name": "Vitaliy", "link": "https://stackoverflow.com/users/6894418/vitaliy"}, "edited": false, "score": 0, "creation_date": 1569512048, "post_id": 58103330, "comment_id": 102629235, "body": "Can help anybody? I really tired trying to get working activemq ssl connection either using nms and stomp"}, {"owner": {"reputation": 28, "user_id": 6894418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a37dea9b93f747ed94921e8a61078d?s=128&d=identicon&r=PG&f=1", "display_name": "Vitaliy", "link": "https://stackoverflow.com/users/6894418/vitaliy"}, "edited": false, "score": 0, "creation_date": 1569606129, "post_id": 58103330, "comment_id": 102664912, "body": "Well, I resolved issue with subject. Now, I have error related to SslProtocol version. It is default, but I need to set it to Tls12. Please, how should I set it in that above Stomp example code?"}], "owner": {"reputation": 28, "user_id": 6894418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a37dea9b93f747ed94921e8a61078d?s=128&d=identicon&r=PG&f=1", "display_name": "Vitaliy", "link": "https://stackoverflow.com/users/6894418/vitaliy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 517, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569511827, "creation_date": 1569430887, "last_edit_date": 1569511827, "question_id": 58103330, "link": "https://stackoverflow.com/questions/58103330/stomp-net-example-need-explanation", "title": "Stomp.Net example: need explanation", "body": "<p>I test <a href=\"https://github.com/DaveSenn/Stomp.Net/blob/master/.Src/Examples/Stomp.Net.Example.SendReceiveCore/Program.cs\" rel=\"nofollow noreferrer\">STOMP example Stomp.Net.Example.SendReceiveCore</a>. In connection factory:</p>\n\n<pre><code>SslSettings =\n{\n  ServerName = serverName,\n  ClientCertSubject = subject,\n  KeyStoreName = \"My\",\n  KeyStoreLocation = \"LocalMachine\"\n}\n</code></pre>\n\n<p>What should be in <code>ClientCertSubject</code>? In certificate properties, I see <code>Subject</code> is <code>CN = fpclientcert</code> (value <code>fpclientcert</code>). Submitting that value gives error:</p>\n\n<blockquote>\n  <p>[Warn]  Found no matching cert. with Subject 'fpclientcert'    (SelectLocalCertificate Ln 161 [C:_git\\Stomp.Net.Src\\Stomp.Net\\Transport\\SslTransport.cs])</p>\n</blockquote>\n\n<p>Certificate was created and imported into trust store on a server. Exported client's certificate has been imported into Personal store on client machine. \nI can establish connection with that certificates using <code>SslStream</code> socket.</p>\n"}, {"tags": ["c#", "visual-studio-2019"], "comments": [{"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 3, "creation_date": 1569430603, "post_id": 58103172, "comment_id": 102597749, "body": "could you add a screenshot of the &#39;0 Projects&#39; in Solution Explorer?"}, {"owner": {"reputation": 350, "user_id": 11697802, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PIeSeEpG05s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9pMPA1FYPN99XArKBn9M-8pY5eA/photo.jpg?sz=128", "display_name": "ShaneDemskie", "link": "https://stackoverflow.com/users/11697802/shanedemskie"}, "edited": false, "score": 1, "creation_date": 1569430687, "post_id": 58103172, "comment_id": 102597791, "body": "Please add a screenshot of what you&#39;re seeing in visual studio"}, {"owner": {"reputation": 1013, "user_id": 2137237, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QIfio.jpg?s=128&g=1", "display_name": "Markus Deibel", "link": "https://stackoverflow.com/users/2137237/markus-deibel"}, "edited": false, "score": 0, "creation_date": 1569437018, "post_id": 58103172, "comment_id": 102600440, "body": "If you recently  - like yesterday or today - updated VS, make sure you have dotnet core SDKs installed that work with VS2019. Also check if the &quot;Use core preview&quot; setting might need to be dis-/enabled with the SDKs you already have on the machine."}, {"owner": {"reputation": 100127, "user_id": 67392, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95e28ac250c4604a6f9d7e34705c3259?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/67392/richard"}, "edited": false, "score": 0, "creation_date": 1569481651, "post_id": 58103172, "comment_id": 102612509, "body": "Given the major update to VS2019 that arrived yesterday: exactly which version of VS2019 do you have?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1569488207, "post_id": 58103172, "comment_id": 102615803, "body": "Try a clean build."}, {"owner": {"reputation": 2522, "user_id": 6593272, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/SeRTz.png?s=128&g=1", "display_name": "D.J.", "link": "https://stackoverflow.com/users/6593272/d-j"}, "edited": false, "score": 0, "creation_date": 1569495805, "post_id": 58103172, "comment_id": 102619914, "body": "you need to have a solution (<i>.sln file) and a project (</i>.csproj) loaded if you want to debug. you can not open a cs-file and expect VisualStudio to guess what kind of project this is supposed to be and how to handle this"}, {"owner": {"reputation": 11, "user_id": 12120514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f922234cca3ceec365b02c240bd27715?s=128&d=identicon&r=PG&f=1", "display_name": "Glen ", "link": "https://stackoverflow.com/users/12120514/glen"}, "edited": false, "score": 0, "creation_date": 1569500126, "post_id": 58103172, "comment_id": 102622261, "body": "The solution (.sln file) and a project (.csproj) file exist - they appear when I switch to folder view. It is not clear to me how I access the the &quot;Use core preview&quot; setting. If I select Tools --&gt; Options --&gt; Projects and Solutions --&gt; - there is no option for .Net"}], "owner": {"reputation": 11, "user_id": 12120514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f922234cca3ceec365b02c240bd27715?s=128&d=identicon&r=PG&f=1", "display_name": "Glen ", "link": "https://stackoverflow.com/users/12120514/glen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 686, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569495339, "creation_date": 1569430294, "last_edit_date": 1569495339, "question_id": 58103172, "link": "https://stackoverflow.com/questions/58103172/cannot-create-c-project-in-visual-studio-2019-which-can-be-debugged", "title": "Cannot create C# project in Visual Studio 2019 which can be debugged", "body": "<p>In Visual Studio I perform the following steps to create a new C# project</p>\n\n<ol>\n<li><p>Create New Project</p></li>\n<li><p>Console App (.Net Core) C#</p></li>\n</ol>\n\n<p>The project is created with a valid Hello World C# file. But the Debug option is disable (greyed out).  </p>\n\n<p>Presumably this is related to the fact that '0 Projects' is displayed alongside the project in Solution Explorer.</p>\n\n<p>I have tried reinstalling Visual Studio but this did not help</p>\n\n<p>No error messages were displayed.</p>\n\n<p>I am using Microsoft.NETCore.App 3.0.0\nThe Visual Studio version is 16.3.1 - I did a clean install today\n<a href=\"https://i.stack.imgur.com/jAfzH.png\" rel=\"nofollow noreferrer\">Screen shot showing problem</a></p>\n"}, {"tags": ["c#", "asynchronous", "async-await", "task", "parallel.foreach"], "comments": [{"owner": {"reputation": 16641, "user_id": 1744164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c224e326809636f5f5d3841899571e?s=128&d=identicon&r=PG", "display_name": "Sir Rufo", "link": "https://stackoverflow.com/users/1744164/sir-rufo"}, "edited": false, "score": 0, "creation_date": 1569431193, "post_id": 58103090, "comment_id": 102598024, "body": "At some point you did not use ConfigureAwait(false) (see <code>GetObjectDetailsAsync</code>) and that will have a great impact on performance because the code is waiting for synchronization."}, {"owner": {"reputation": 16641, "user_id": 1744164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c224e326809636f5f5d3841899571e?s=128&d=identicon&r=PG", "display_name": "Sir Rufo", "link": "https://stackoverflow.com/users/1744164/sir-rufo"}, "edited": false, "score": 0, "creation_date": 1569431340, "post_id": 58103090, "comment_id": 102598091, "body": "Also it would be interesting on which context this code is running. WinForms/WPF/asp.net/Console/...?"}, {"owner": {"reputation": 41, "user_id": 8470263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zVPC.jpg?s=128&g=1", "display_name": "davekats", "link": "https://stackoverflow.com/users/8470263/davekats"}, "reply_to_user": {"reputation": 16641, "user_id": 1744164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c224e326809636f5f5d3841899571e?s=128&d=identicon&r=PG", "display_name": "Sir Rufo", "link": "https://stackoverflow.com/users/1744164/sir-rufo"}, "edited": false, "score": 0, "creation_date": 1569433926, "post_id": 58103090, "comment_id": 102599159, "body": "@SirRufo Ah yes I will add ConfigureAwait(false) there to see how it affects performance. It is a Console app (.Net Framework 4.6.1)"}, {"owner": {"reputation": 41, "user_id": 8470263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zVPC.jpg?s=128&g=1", "display_name": "davekats", "link": "https://stackoverflow.com/users/8470263/davekats"}, "reply_to_user": {"reputation": 16641, "user_id": 1744164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c224e326809636f5f5d3841899571e?s=128&d=identicon&r=PG", "display_name": "Sir Rufo", "link": "https://stackoverflow.com/users/1744164/sir-rufo"}, "edited": false, "score": 0, "creation_date": 1569447139, "post_id": 58103090, "comment_id": 102604262, "body": "@SirRufo Adding ConfigureAwait(false) in GetObjectDetailsAsync didn&#39;t seem to affect performance."}, {"owner": {"reputation": 16641, "user_id": 1744164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c224e326809636f5f5d3841899571e?s=128&d=identicon&r=PG", "display_name": "Sir Rufo", "link": "https://stackoverflow.com/users/1744164/sir-rufo"}, "edited": false, "score": 0, "creation_date": 1569476272, "post_id": 58103090, "comment_id": 102610301, "body": "Yes, a console application has no synchronization context at all and so there are no synchronizations that can impact performance. Thats the reason I wanted to know in which kind of application the code is running"}, {"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1569494976, "post_id": 58103090, "comment_id": 102619476, "body": "The async version of your code is blocking a lot. Is this intentional? Your <code>GetAllObjectDetailsInBatches</code> should be an <code>async</code> method. You should not <code>Task.WaitAll</code> in there but rather <code>await Task.WhenAll</code>. Your <code>TryDeserializeResponse</code> should be <code>async</code> method and reading from stream should be <code>await response.Content.ReadAsStreamAsync()</code> without the <code>.Result</code>. Get those changes in and see what the numbers say after that."}, {"owner": {"reputation": 41, "user_id": 8470263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zVPC.jpg?s=128&g=1", "display_name": "davekats", "link": "https://stackoverflow.com/users/8470263/davekats"}, "reply_to_user": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1569523735, "post_id": 58103090, "comment_id": 102634602, "body": "@JohanP I actually did intentionally make <code>GetAllObjectDetailsInBatches</code> synchronous and use <code>Task.WaitAll</code> because there isn&#39;t any other work that can be done while the function is running (This is a console app with no UI). But good catch on <code>TryDeserializeResponse</code>. That was a copy/paste error. I made an edit to add the updated version."}, {"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1569533362, "post_id": 58103090, "comment_id": 102638326, "body": "@davekats there is heaps of work to be done, all 3k responses will resume on threadpool threads and youre blocking on all of them. Your pool starts off with as few threads as possible and new ones get injected at 2 a second, so your concurrency and throughput are very low and it seems you are experiencing threadpool starvation."}, {"owner": {"reputation": 41, "user_id": 8470263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zVPC.jpg?s=128&g=1", "display_name": "davekats", "link": "https://stackoverflow.com/users/8470263/davekats"}, "reply_to_user": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1569857396, "post_id": 58103090, "comment_id": 102723099, "body": "@JohanP I&#39;m having trouble understanding how the main thread blocking on <code>Task.WaitAll</code> affects the work being done on the threadpool threads."}, {"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1569878515, "post_id": 58103090, "comment_id": 102731587, "body": "I was more talking about the .Result on ReadStreamAsync but I see you have changed that."}], "answers": [{"tags": [], "owner": {"reputation": 5993, "user_id": 45734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1b32a507176df447ba3271366c243f0?s=128&d=identicon&r=PG", "display_name": "Pharabus", "link": "https://stackoverflow.com/users/45734/pharabus"}, "is_accepted": false, "score": 0, "last_activity_date": 1569430240, "creation_date": 1569430240, "answer_id": 58103155, "question_id": 58103090, "link": "https://stackoverflow.com/questions/58103090/parallel-foreach-faster-than-task-waitall-for-i-o-bound-tasks/58103155#58103155", "title": "Parallel.ForEach faster than Task.WaitAll for I/O bound tasks?", "body": "<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.parallel.foreach?view=netframework-4.8\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.parallel.foreach?view=netframework-4.8</a></p>\n\n<p>Basically the parralel foreach allows iterations to run in parallel so you are not constraining the iteration to run in serial, on a host that is not thread constrained this will tend to lead to improved throughput</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 8470263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zVPC.jpg?s=128&g=1", "display_name": "davekats", "link": "https://stackoverflow.com/users/8470263/davekats"}, "edited": false, "score": 0, "creation_date": 1569446576, "post_id": 58104173, "comment_id": 102604087, "body": "Thanks Jeroen, I agree with you but my question isn&#39;t which solution is the better fit. I know that the Task solution is the better fit, but what I am seeing is that the Task solution is actually slower - an unexpected result. So my question is why, in this case, is the Parallel solution faster?"}], "tags": [], "owner": {"reputation": 18209, "user_id": 2266130, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/YBXhC.png?s=128&g=1", "display_name": "Jeroen van Langen", "link": "https://stackoverflow.com/users/2266130/jeroen-van-langen"}, "is_accepted": false, "score": 1, "last_activity_date": 1569434538, "creation_date": 1569434538, "answer_id": 58104173, "question_id": 58103090, "link": "https://stackoverflow.com/questions/58103090/parallel-foreach-faster-than-task-waitall-for-i-o-bound-tasks/58104173#58104173", "title": "Parallel.ForEach faster than Task.WaitAll for I/O bound tasks?", "body": "<p>In short:</p>\n\n<ul>\n<li><code>Parallel.Foreach()</code> is most useful for CPU bound tasks.</li>\n<li><code>Task.WaitAll()</code> is more useful for IO bound tasks.</li>\n</ul>\n\n<p>So in your case, you are getting information from webservers, which is IO. If the async methods are implemented correctly, it won't block any thread. <em>(It will use IO Completion ports to wait on)</em> This way the threads can do other stuff.</p>\n\n<p>By running the async methods <code>GetObjectDetailsAsync(baseUrl, pair.Key).Result</code> synchroniced, it will block a thread. So the threadpool will be flood by waiting threads.</p>\n\n<p>So I think the Task solution will have a better fit.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 8470263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zVPC.jpg?s=128&g=1", "display_name": "davekats", "link": "https://stackoverflow.com/users/8470263/davekats"}, "edited": false, "score": 0, "creation_date": 1569446999, "post_id": 58104820, "comment_id": 102604220, "body": "Thank you for the great answer! So the difference between the batch solution and the solution using SemaphoreSlim is that the SemaphoreSlim solution will always have 20 requests running at the same time - starting a new request as soon as one of the 20 completes, whereas the batch method will wait to start the next batch until all requests are complete in the current batch. I like it."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 41, "user_id": 8470263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zVPC.jpg?s=128&g=1", "display_name": "davekats", "link": "https://stackoverflow.com/users/8470263/davekats"}, "edited": false, "score": 0, "creation_date": 1569447250, "post_id": 58104820, "comment_id": 102604300, "body": "@davekats yeap, you&#39;ve got the concept. :-)"}], "tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": true, "score": 0, "last_activity_date": 1569437304, "creation_date": 1569437304, "answer_id": 58104820, "question_id": 58103090, "link": "https://stackoverflow.com/questions/58103090/parallel-foreach-faster-than-task-waitall-for-i-o-bound-tasks/58104820#58104820", "title": "Parallel.ForEach faster than Task.WaitAll for I/O bound tasks?", "body": "<p>A possible reason why <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.parallel.foreach\" rel=\"nofollow noreferrer\"><code>Parallel.ForEach</code></a> may run faster is because it creates the side-effect of throttling. Initially x threads are processing the first x elements (where x in the number of the available cores), and progressively more threads may be added depending on internal heuristics. Throttling IO operations is a good thing because it protects the network and the server that handles the requests from becoming overburdened. Your alternative improvised method of throttling, by making requests in batches of 100, is far from ideal for many reasons, one of them being that 100 concurrent requests are a lot of requests! Another one is that a single long running operation may delay the completion of the batch until long after the completion of the other 99 operations.</p>\n\n<p>Note that <code>Parallel.ForEach</code> is also not ideal for parallelizing IO operations. It just happened to perform better than the alternative, wasting memory all along. For better approaches look here: <a href=\"https://stackoverflow.com/questions/10806951/how-to-limit-the-amount-of-concurrent-async-i-o-operations\">How to limit the amount of concurrent async I/O operations?</a></p>\n"}], "owner": {"reputation": 41, "user_id": 8470263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zVPC.jpg?s=128&g=1", "display_name": "davekats", "link": "https://stackoverflow.com/users/8470263/davekats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 503, "favorite_count": 0, "accepted_answer_id": 58104820, "answer_count": 3, "score": 1, "last_activity_date": 1569523466, "creation_date": 1569429968, "last_edit_date": 1569523466, "question_id": 58103090, "link": "https://stackoverflow.com/questions/58103090/parallel-foreach-faster-than-task-waitall-for-i-o-bound-tasks", "title": "Parallel.ForEach faster than Task.WaitAll for I/O bound tasks?", "body": "<p>I have two versions of my program that submit ~3000 HTTP GET requests to a web server.</p>\n\n<p><strong>The first version</strong> is based off of what I read <a href=\"http://www.michalbialecki.com/2018/04/19/how-to-send-many-requests-in-parallel-in-asp-net-core/\" rel=\"nofollow noreferrer\">here</a>. That solution makes sense to me because making web requests is I/O bound work, and the use of async/await along with Task.WhenAll or Task.WaitAll means that you can submit 100 requests all at once and then wait for them all to finish before submitting the next 100 requests so that you don't bog down the web server. I was surprised to see that this version completed all of the work in ~12 minutes - way slower than I expected.</p>\n\n<p><strong>The second version</strong> submits all 3000 HTTP GET requests inside a Parallel.ForEach loop. I use .Result to wait for each request to finish before the rest of the logic within that iteration of the loop can execute. I thought that this would be a far less efficient solution, since using threads to perform tasks in parallel is usually better suited for performing CPU bound work, but I was surprised to see that the this version completed all of the work within ~3 minutes!</p>\n\n<p>My question is why is the Parallel.ForEach version faster? This came as an extra surprise because when I applied the same two techniques against a <strong>different</strong> API/web server, <strong>version 1</strong> of my code was actually faster than version 2 by about 6 minutes - which is what I expected. Could performance of the two different versions have something to do with how the web server handles the traffic? </p>\n\n<p>You can see a simplified version of my code below:</p>\n\n<pre><code>private async Task&lt;ObjectDetails&gt; TryDeserializeResponse(HttpResponseMessage response)\n{\n    try\n    {\n        using (Stream stream = await response.Content.ReadAsStreamAsync())\n        using (StreamReader readStream = new StreamReader(stream, Encoding.UTF8))\n        using (JsonTextReader jsonTextReader = new JsonTextReader(readStream))\n        {\n            JsonSerializer serializer = new JsonSerializer();\n            ObjectDetails objectDetails = serializer.Deserialize&lt;ObjectDetails&gt;(\n                jsonTextReader);\n            return objectDetails;\n        }\n    }\n    catch (Exception e)\n    {\n        // Log exception\n        return null;\n    }\n}\n\nprivate async Task&lt;HttpResponseMessage&gt; TryGetResponse(string urlStr)\n{\n    try\n    {\n        HttpResponseMessage response = await httpClient.GetAsync(urlStr)\n            .ConfigureAwait(false);\n        if (response.StatusCode != HttpStatusCode.OK)\n        {\n            throw new WebException(\"Response code is \"\n                + response.StatusCode.ToString() + \"... not 200 OK.\");\n        }\n        return response;\n    }\n    catch (Exception e)\n    {\n        // Log exception\n        return null;\n    }\n}\n\nprivate async Task&lt;ListOfObjects&gt; GetObjectDetailsAsync(string baseUrl, int id)\n{\n    string urlStr = baseUrl + @\"objects/id/\" + id + \"/details\";\n\n    HttpResponseMessage response = await TryGetResponse(urlStr);\n\n    ObjectDetails objectDetails = await TryDeserializeResponse(response);\n\n    return objectDetails;\n}\n\n// With ~3000 objects to retrieve, this code will create 100 API calls\n// in parallel, wait for all 100 to finish, and then repeat that process\n// ~30 times. In other words, there will be ~30 batches of 100 parallel\n// API calls.\nprivate Dictionary&lt;int, Task&lt;ObjectDetails&gt;&gt; GetAllObjectDetailsInBatches(\n    string baseUrl, Dictionary&lt;int, MyObject&gt; incompleteObjects)\n{\n    int batchSize = 100;\n    int numberOfBatches = (int)Math.Ceiling(\n        (double)incompleteObjects.Count / batchSize);\n    Dictionary&lt;int, Task&lt;ObjectDetails&gt;&gt; objectTaskDict\n        = new Dictionary&lt;int, Task&lt;ObjectDetails&gt;&gt;(incompleteObjects.Count);\n\n    var orderedIncompleteObjects = incompleteObjects.OrderBy(pair =&gt; pair.Key);\n\n    for (int i = 0; i &lt; 1; i++)\n    {\n        var batchOfObjects = orderedIncompleteObjects.Skip(i * batchSize)\n            .Take(batchSize);\n        var batchObjectsTaskList = batchOfObjects.Select(\n            pair =&gt; GetObjectDetailsAsync(baseUrl, pair.Key));\n        Task.WaitAll(batchObjectsTaskList.ToArray());\n        foreach (var objTask in batchObjectsTaskList)\n            objectTaskDict.Add(objTask.Result.id, objTask);\n    }\n\n    return objectTaskDict;\n}\n\npublic void GetObjectsVersion1()\n{\n    string baseUrl = @\"https://mywebserver.com:/api\";\n\n    // GetIncompleteObjects is not shown, but it is not relevant to\n    // the question\n    Dictionary&lt;int, MyObject&gt; incompleteObjects = GetIncompleteObjects();\n\n    Dictionary&lt;int, Task&lt;ObjectDetails&gt;&gt; objectTaskDict\n        = GetAllObjectDetailsInBatches(baseUrl, incompleteObjects);\n\n    foreach (KeyValuePair&lt;int, MyObject&gt; pair in incompleteObjects)\n    {\n        ObjectDetails objectDetails = objectTaskDict[pair.Key].Result\n            .objectDetails;\n\n        // Code here that copies fields from objectDetails to pair.Value\n        // (the incompleteObject)\n\n        AllObjects.Add(pair.Value);\n    };\n}\n\npublic void GetObjectsVersion2()\n{\n    string baseUrl = @\"https://mywebserver.com:/api\";\n\n    // GetIncompleteObjects is not shown, but it is not relevant to\n    // the question\n    Dictionary&lt;int, MyObject&gt; incompleteObjects = GetIncompleteObjects();\n\n    Parallel.ForEach(incompleteHosts, pair =&gt;\n    {\n        ObjectDetails objectDetails = GetObjectDetailsAsync(\n            baseUrl, pair.Key).Result.objectDetails;\n\n        // Code here that copies fields from objectDetails to pair.Value\n        // (the incompleteObject)\n\n        AllObjects.Add(pair.Value);\n    });\n}\n</code></pre>\n"}, {"tags": ["c#", "sharepoint", "lambda", "expression", "linq-to-sharepoint"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1569430077, "post_id": 58103077, "comment_id": 102597483, "body": "That&#39;s a conditional expression, often called a &quot;ternary&quot; because it has three operands: <code>item =&gt; (item[&quot;I&quot;] != null)  ? item=&gt;item[&quot;I&quot;] : item=&gt;item[&quot;J&quot;];</code>"}, {"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "edited": false, "score": 0, "creation_date": 1569430252, "post_id": 58103077, "comment_id": 102597562, "body": "<code>item =&gt; item[&quot;I&quot;] != null ? item[&quot;I&quot;] : item[&quot;J&quot;]</code>. Or shorter <code>item =&gt; item[&quot;I&quot;] ?? item[&quot;J&quot;]</code>"}, {"owner": {"reputation": 1, "user_id": 11897077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbfc59272c94000338a0ab9df3420f5?s=128&d=identicon&r=PG&f=1", "display_name": "alphonsoCulano", "link": "https://stackoverflow.com/users/11897077/alphonsoculano"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1569430326, "post_id": 58103077, "comment_id": 102597594, "body": "@EdPlunkett I am getting the following error: Type of conditional expression cannot be determined because there is no implicit conversion between &quot;lambda expression&quot; and &quot;lambda expression&quot;"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1569430420, "post_id": 58103077, "comment_id": 102597650, "body": "@alphonsoCulano Please show the code that&#39;s giving you that error. But you should really use the null-coalescing operator suggested by DK and Racil, which I neglected due to advanced senile dementia."}, {"owner": {"reputation": 1, "user_id": 11897077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbfc59272c94000338a0ab9df3420f5?s=128&d=identicon&r=PG&f=1", "display_name": "alphonsoCulano", "link": "https://stackoverflow.com/users/11897077/alphonsoculano"}, "reply_to_user": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "edited": false, "score": 0, "creation_date": 1569430824, "post_id": 58103077, "comment_id": 102597862, "body": "@RacilHilan  , i am getting the following error -&quot;The query expression &#39;(item.get_Item(\\&quot;I\\&quot;) ?? item.get_Item(\\&quot;J\\&quot;))&#39; is not supported.&quot;}Microsoft.SharePoint.Client.InvalidQueryExpressi&zwnj;&#8203;onException when using the coalescing operator"}, {"owner": {"reputation": 2933, "user_id": 16886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e85ef113acb3966ce368d303b52a6ef?s=128&d=identicon&r=PG", "display_name": "DK.", "link": "https://stackoverflow.com/users/16886/dk"}, "edited": false, "score": 0, "creation_date": 1569430824, "post_id": 58103077, "comment_id": 102597863, "body": "Okie, now I&#39;m actually unclear of the OP&#39;s goal. Looks like it might be something like performance optimization by run-time code construction picking one of the lambda expressions and reusing it later in the code. A larger example of how <code>fieldsToRetreive </code> is (supposed to be) used would be helpful as this could turn into a simple OO-design problem or a legit intricate code-building case."}, {"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "edited": false, "score": 0, "creation_date": 1569430958, "post_id": 58103077, "comment_id": 102597927, "body": "Yes, the <code>??</code> operator is relatively new in C# and I don&#39;t know the version you&#39;re using, so try my first suggestion <code>item =&gt; item[&quot;I&quot;] != null ? item[&quot;I&quot;] : item[&quot;J&quot;]</code>."}, {"owner": {"reputation": 1, "user_id": 11897077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbfc59272c94000338a0ab9df3420f5?s=128&d=identicon&r=PG&f=1", "display_name": "alphonsoCulano", "link": "https://stackoverflow.com/users/11897077/alphonsoculano"}, "reply_to_user": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "edited": false, "score": 0, "creation_date": 1569431324, "post_id": 58103077, "comment_id": 102598078, "body": "@RacilHilan i am getting the same error: -\t\t$exception\t{&quot;The query expression &#39;IIF((item.get_Item(\\&quot;I\\&quot;) != null), item.get_Item(\\&quot;I\\&quot;), item.get_Item(\\&quot;J\\&quot;))&#39; is not supported.&quot;}\tMicrosoft.SharePoint.Client.InvalidQueryExpress&zwnj;&#8203;ionException"}, {"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "edited": false, "score": 0, "creation_date": 1569432117, "post_id": 58103077, "comment_id": 102598415, "body": "I don&#39;t have <code>IIF</code> in my comment, where did that come from? It looks like the VB <code>IIf()</code> operator combined with the C# trinary operator. That makes no sense."}, {"owner": {"reputation": 1, "user_id": 11897077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbfc59272c94000338a0ab9df3420f5?s=128&d=identicon&r=PG&f=1", "display_name": "alphonsoCulano", "link": "https://stackoverflow.com/users/11897077/alphonsoculano"}, "edited": false, "score": 0, "creation_date": 1569432287, "post_id": 58103077, "comment_id": 102598491, "body": "Hi Racil, this is c#. I am justy copy pasting the error code :("}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1569434922, "post_id": 58103077, "comment_id": 102599587, "body": "@alphonsoCulano Can you share the full context here? It looks like you&#39;re using <a href=\"https://docs.microsoft.com/en-us/previous-versions/office/developer/sharepoint-2010/ee535491(v%3Doffice.14)\" rel=\"nofollow noreferrer\">Linq to Sharepoint</a>, is that correct? So it&#39;s going to be translating your C# LINQ expression into some other language that Shartepoint actually uses internally. VB perhaps, VBA...? I&#39;ve added the linq-to-sharepoint tag. You&#39;re the 27th question on that subject we&#39;ve seen. Congratulations!"}, {"owner": {"reputation": 2933, "user_id": 16886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e85ef113acb3966ce368d303b52a6ef?s=128&d=identicon&r=PG", "display_name": "DK.", "link": "https://stackoverflow.com/users/16886/dk"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1569437141, "post_id": 58103077, "comment_id": 102600486, "body": "@EdPlunkett +1. This looks precisely like LINQ not being able to turn C# expression into Sharepoint-compatible VBA. I didn&#39;t work with that stack specifically - so can only guess here that it could be helped by e.g. upgrading sharepoint version to the one LINQ expects, using a different sharepoint communication library or just simplifying request logic and doing all the processing back in c#."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1569437253, "post_id": 58103077, "comment_id": 102600533, "body": "The solution with Linq to SQL is generally to identify the translatable subset of C#, and stick to that. Unfortunately your subset may not be so well documented. It could possibly be as simple as <code>item =&gt; { if (item != null) then return item[&quot;I&quot;] else return item[&quot;J&quot;]; }</code>."}, {"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "edited": false, "score": 0, "creation_date": 1569439334, "post_id": 58103077, "comment_id": 102601414, "body": "Like EdPlunkett said, it looks like your code is being translated to an internal VB code. Your best bet is to search for a setting to change the default internal language to C#. If no such a setting exists, consider changing your code to VB. If that&#39;s not an option either, I&#39;m afraid you&#39;re stuck with only using expressions that work in both VB and C#, and that&#39;s very limited."}, {"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1569439949, "post_id": 58103077, "comment_id": 102601632, "body": "@EdPlunkett That&#39;s not how you write it in VB :). If you look at the error, you&#39;ll notice that <code>!= null</code> was not translated to VB, and VB has neither <code>!=</code> nor <code>null</code>, so your line will not likely work unless it magically starts translating those two. This is how it should be written in VB <code>item =&gt; If(item[&quot;I&quot;] IsNot Nothing, item[&quot;I&quot;], item[&quot;J&quot;])</code>. I didn&#39;t change the square brackets to parentheses which is what VB uses because in the error it seems that the brackets were translated correctly. Alphonso, could you try this line above?"}, {"owner": {"reputation": 22785, "user_id": 3215948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mRU0y.jpg?s=128&g=1", "display_name": "Racil Hilan", "link": "https://stackoverflow.com/users/3215948/racil-hilan"}, "edited": false, "score": 0, "creation_date": 1569440161, "post_id": 58103077, "comment_id": 102601708, "body": "Or it can be written with another version of <code>If()</code> like this: <code>item =&gt; If(item[&quot;I&quot;], item[&quot;J&quot;])</code>. Try this one too, it looks much better with less crazy mixing of VB and C#."}], "owner": {"reputation": 1, "user_id": 11897077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbfc59272c94000338a0ab9df3420f5?s=128&d=identicon&r=PG&f=1", "display_name": "alphonsoCulano", "link": "https://stackoverflow.com/users/11897077/alphonsoculano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569435082, "creation_date": 1569429925, "last_edit_date": 1569435082, "question_id": 58103077, "link": "https://stackoverflow.com/questions/58103077/how-to-make-a-condtion-in-a-a-lambda-expression-when-assigning-a-value", "title": "How to make a condtion in a a lambda expression when assigning a value", "body": "<p>I am trying to assign a value to my item but i need to put a condition because the id changes depending of the language.</p>\n\n<pre><code>Expression&lt;Func&lt;ListItem, object&gt;&gt;[] fieldsToRetreive \n    = new Expression&lt;Func&lt;ListItem, object&gt;&gt;[] {\n        item =&gt; item[\"A\"], //\n        item =&gt; item[\"B\"], //\n        item =&gt; item[\"C\"], //\n        item =&gt; item[\"D\"], //\n        item =&gt; item[\"E\"], //\n        item =&gt; item[\"F\"], //\n        item =&gt; item[\"G\"], //\n        item =&gt; item[\"H\"],\n    },\n</code></pre>\n\n<p>I am try to do something similar to this: </p>\n\n<pre><code>item =&gt; if(item[\"I\"] != null){item=&gt;item[\"I\"]}else{item=&gt;item[\"J\"])\n</code></pre>\n\n<p>UPDATE:\nHere is more of the code of the function</p>\n\n<pre><code>private List&lt;ListItem&gt; FindItemsWithContentType(List list, string contentTypeId, DateTime? notOlderThan = null)\n        {\n            DateTime searchDate = new DateTime(1990, 01, 01);\n\n            if (notOlderThan.HasValue &amp;&amp; notOlderThan.Value.Date == DateTime.Today)\n                searchDate = notOlderThan.Value.AddDays(-1); // Sharepoint does not take time into account, so we roll back to yesterday if today\n            else\n                notOlderThan = searchDate;\n            string date = DateTime.SpecifyKind(searchDate, DateTimeKind.Utc).ToString(\"yyyy-MM-ddTHH:mm:ssZ\"); // could also be like: \"&lt;Today OffsetDays=\\\"-7\\\" /&gt;\"\n\n            CamlQuery query = new CamlQuery()\n            {\n                ViewXml = string.Format(\"&lt;View&gt;&lt;Query&gt;&lt;Where&gt;&lt;And&gt;&lt;BeginsWith&gt;&lt;FieldRef Name='ContentTypeId' /&gt;&lt;Value Type='ContentTypeId'&gt;{0}&lt;/Value&gt;&lt;/BeginsWith&gt;&lt;Gt&gt;&lt;FieldRef Name='Modified' /&gt;&lt;Value Type='DateTime'&gt;{1}&lt;/Value&gt;&lt;/Gt&gt;&lt;/And&gt;&lt;/Where&gt;&lt;/Query&gt;&lt;/View&gt;\", contentTypeId, date)\n            };\n\n            ListItemCollection items = list.GetItems(query);\n\n            Expression&lt;Func&lt;ListItem, object&gt;&gt;[] fieldsToRetreive = new Expression&lt;Func&lt;ListItem, object&gt;&gt;[] {\n                                                                                                                item =&gt; item[\"A\"],                                                                                                                 item =&gt; item[\"B\"],                                                                                                               item =&gt; item[\"C\"],                                                                                                             item =&gt; item[\"D\"],                                                                                                              item =&gt; item[\"E\"],                                                                                                                item =&gt; item[\"F\"],                                                                                                               item =&gt; item[\"G\"],                                                                                                                 item =&gt; item[\"H\"],                                                                                                            item =&gt; item[\"I\"] ?? item[\"J\"]\n                                                                                                                                                                                                                            };\n\n\n            // Making sure we load the content of the item fields\n            this.AppOnlyContext.Load(items, i =&gt; i.Include(fieldsToRetreive));\n            this.AppOnlyContext.ExecuteQuery();\n</code></pre>\n"}, {"tags": ["c#", "wpf", "console-application"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 4, "creation_date": 1569429632, "post_id": 58102966, "comment_id": 102597313, "body": "I&#39;d put all the shared logic in an assembly that&#39;s used by both a WPF application and a console application."}, {"owner": {"reputation": 2394, "user_id": 264482, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0462f8f297cb91495f3e878dfaa694e0?s=128&d=identicon&r=PG", "display_name": "Rob Goodwin", "link": "https://stackoverflow.com/users/264482/rob-goodwin"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1569431024, "post_id": 58102966, "comment_id": 102597954, "body": "I would definitely do what @EdPlunkett suggests and separate these into separate assemblies.  Since it can take such a long time to run, you could go further and slap some kind of external interface, such as gRPC on the headless implementation and have the UI connect to that to get status."}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1569506934, "post_id": 58102966, "comment_id": 102626246, "body": "Maybe this should do the work in a windows service. Reading from an input message queue that passes it tasks to do. Outputting the results to another message queue. Then the WPF front end could be used to add to the tasks and report the results."}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 1, "creation_date": 1569507093, "post_id": 58102966, "comment_id": 102626345, "body": "There are also various cron - like apps people have written for windows or just windows task sheduler."}], "answers": [{"comments": [{"owner": {"reputation": 2591, "user_id": 885838, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/kYqCd.png?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/885838/vlad"}, "edited": false, "score": 0, "creation_date": 1569515524, "post_id": 58103356, "comment_id": 102630907, "body": "Yes its plausible. But need to set a mechanism for each console parameter. By the way, what do i add to command line arguments in Debug tab in project properties? It doesn&#39;t compile without setting some letters in command line arguments for the project."}], "tags": [], "owner": {"reputation": 3651, "user_id": 2504785, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/I70ES.png?s=128&g=1", "display_name": "SQL Police", "link": "https://stackoverflow.com/users/2504785/sql-police"}, "is_accepted": true, "score": 2, "last_activity_date": 1569430960, "creation_date": 1569430960, "answer_id": 58103356, "question_id": 58102966, "link": "https://stackoverflow.com/questions/58102966/should-i-develop-a-console-application-along-the-wpf-application/58103356#58103356", "title": "Should I develop a console application along the WPF application?", "body": "<p>You can use a WPF application also as a pure console application. </p>\n\n<p>You could do it like this: When you call the EXE from the command line, then add a parameter, e.g. <code>/c</code> for \"console\", or similar. Then, in the <code>main</code> function of your application, look for that parameter, and when it is set, then continue as a console application and don't create any windows.</p>\n"}], "owner": {"reputation": 2591, "user_id": 885838, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/kYqCd.png?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/885838/vlad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 58103356, "answer_count": 1, "score": 0, "last_activity_date": 1569430960, "creation_date": 1569429503, "question_id": 58102966, "link": "https://stackoverflow.com/questions/58102966/should-i-develop-a-console-application-along-the-wpf-application", "title": "Should I develop a console application along the WPF application?", "body": "<p>I built a rather simple application in C#/WPF that finds, copies txt files in separate folders which represent each month, and then packs them into one large txt file but inside each month folder for each month. </p>\n\n<p>There are lot of files like 10000 and the txt file for each month can reach like 1.5GB, so it needs like 25 minutes to finish. </p>\n\n<p>The two steps are separated, copying into appropriate month folder and then the second step is packing a txt file for each month. </p>\n\n<p>I want to be able to automate these steps along other heavy duty tasks like running Access 2000 macros that check data integrity(also 20 mins to finish), running TSQL stored procedures in a sequence(20 mins to finsih). I started doing this in Powershell script. </p>\n\n<p>I can build another console application that holds the steps of copying and packing and run those by will, but should it be separate application?\nCan I use WPF app as a console application as well? \nOr build a library application and use it in separate WPF and Console app?</p>\n"}, {"tags": ["c#", "angular", "azure", "azure-active-directory"], "answers": [{"tags": [], "owner": {"reputation": 40761, "user_id": 1658906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e4748ed2fb97e8a8d4dd6d439625135?s=128&d=identicon&r=PG", "display_name": "juunas", "link": "https://stackoverflow.com/users/1658906/juunas"}, "is_accepted": true, "score": 1, "last_activity_date": 1569432422, "creation_date": 1569432422, "answer_id": 58103683, "question_id": 58102924, "link": "https://stackoverflow.com/questions/58102924/securing-angular-net-core-api-with-azure-ad-and-application-roles/58103683#58103683", "title": "Securing Angular &amp; .Net Core API with Azure AD and Application Roles", "body": "<blockquote>\n  <p>On which registered Azure AD app (API or Angular) should the Application Roles be defined?</p>\n</blockquote>\n\n<p>I'd say register them on the API app.\nYou can't enforce those roles on the front-end anyway, so you need to implement authorization checks for them in the back-end at least.</p>\n\n<blockquote>\n  <p>How would I access these roles - are they contained within the bearer token or do I need to make Microsoft Graph API calls to retrieve them?</p>\n</blockquote>\n\n<p>They will be in the access token if you define them in the API app and assign them to users.\nThere is some limit to the amount that will be in the token if acquired through implicit flow, but if you have like 3 like you mentioned, you should be fine.</p>\n"}], "owner": {"reputation": 698, "user_id": 5132661, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/934c87cde0b353a4363bc3bba472e263?s=128&d=identicon&r=PG&f=1", "display_name": "OverflowStack", "link": "https://stackoverflow.com/users/5132661/overflowstack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 58103683, "answer_count": 1, "score": 0, "last_activity_date": 1569432422, "creation_date": 1569429311, "last_edit_date": 1569430273, "question_id": 58102924, "link": "https://stackoverflow.com/questions/58102924/securing-angular-net-core-api-with-azure-ad-and-application-roles", "title": "Securing Angular &amp; .Net Core API with Azure AD and Application Roles", "body": "<p>My system consists of Angular front end and .Net Core API back end. Both are registered as separate Active Directory apps within the Azure Portal.</p>\n\n<p>Consequently, both apps are secured by Azure AD. API is exposed and consumed by authenticated users on Angular front end.</p>\n\n<p>The problem is - I want users to have different kinds of user roles (User/Moderator/Administrator). These roles would make certain API end points accessible or inaccessible based on user role. User roles would also shape the UI on Angular.</p>\n\n<p>From my research it appears that I can utilize something called <a href=\"https://docs.microsoft.com/en-us/azure/architecture/multitenant-identity/app-roles\" rel=\"nofollow noreferrer\"><strong>Application Roles</strong></a> on Azure AD, however I am lost as to how I would implement them. </p>\n\n<p>I have the following questions - </p>\n\n<ol>\n<li>On which registered Azure AD app (API or Angular) should the Application Roles be\ndefined? </li>\n<li>How would I access these roles - are they\ncontained within the bearer token or do I need to make Microsoft\nGraph API calls to retrieve them?</li>\n</ol>\n"}, {"tags": ["c#", "dictionary"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1569429470, "post_id": 58102923, "comment_id": 102597233, "body": "No, you can&#39;t do that. You can&#39;t pretend that a Dictionary of <code>Int32</code> is a Dictionary of String, because when you add a string to a dictionary of <code>Int32</code>, it can&#39;t contain those and it will throw an exception. Please think back to the moment before you thought of creating these two dictionaries. You were trying to a solve a problem, and you thought the two dictionaries were the solution. What was that first problem, the earlier, primordial problem which led you to this current problem? Can you tell us about that problem in your question in UNBELIEVABLY THOROUGH detail, with code?"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1569429546, "post_id": 58102923, "comment_id": 102597266, "body": "You likely need to make the code that is handling this generic as well, but it&#39;s hard to tell from what you&#39;ve shown here.  What exactly are you trying to accomplish with this code."}, {"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "edited": false, "score": 0, "creation_date": 1569430555, "post_id": 58102923, "comment_id": 102597726, "body": "GetProgress returns Task&lt;IHttpActionResult&gt;. But your returns a Dictionary in the implementation?"}], "answers": [{"tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": false, "score": 0, "last_activity_date": 1569430143, "creation_date": 1569430143, "answer_id": 58103126, "question_id": 58102923, "link": "https://stackoverflow.com/questions/58102923/how-can-i-use-one-dictionary-variable-for-two-different-type/58103126#58103126", "title": "How Can I use one Dictionary variable for two different type?", "body": "<p>There is no diamond operator in C# like in Java that allows to access the open generic type underlying to closed types, which prevents generic polymorphism.</p>\n\n<p>You can only use non generic interfaces implemented by the Dictionary class.</p>\n"}, {"tags": [], "owner": {"reputation": 186, "user_id": 3931624, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vw6No.png?s=128&g=1", "display_name": "Florian S.", "link": "https://stackoverflow.com/users/3931624/florian-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1569430323, "creation_date": 1569430323, "answer_id": 58103183, "question_id": 58102923, "link": "https://stackoverflow.com/questions/58102923/how-can-i-use-one-dictionary-variable-for-two-different-type/58103183#58103183", "title": "How Can I use one Dictionary variable for two different type?", "body": "<p>If you want to use a generic dictionary that can take two different types, they need to be based on the same base class; otherwise, you have to use a non-generic one.</p>\n\n<p>Apart from that, the code in your example doesn't make much sense. First of all, since you are returning a Task of IHttpActionResult, you cannot return a dictionary here . You either have to return a new Task (via <code>Task.Factory.StartNew()</code>, for example) or await something that returns an IHttpActionResult and use async/await syntax.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 7308469, "user_type": "registered", "profile_image": "https://graph.facebook.com/1821824674697336/picture?type=large", "display_name": "Westley Bennett", "link": "https://stackoverflow.com/users/7308469/westley-bennett"}, "is_accepted": false, "score": 0, "last_activity_date": 1569430411, "creation_date": 1569430411, "answer_id": 58103209, "question_id": 58102923, "link": "https://stackoverflow.com/questions/58102923/how-can-i-use-one-dictionary-variable-for-two-different-type/58103209#58103209", "title": "How Can I use one Dictionary variable for two different type?", "body": "<p>The thing that pops out to me is that you are trying to return a Dictionary as a Task. That's the primary error you're probably coming across, and why you can't use ContainsKey() or Add(), because those aren't properties of a Task object. We also don't know what object1/obj1 and object2/obj2 are. I concur with the others, you should state what exactly your goal is.</p>\n\n<p>However, not knowing what this method is, or what it's for, and ASSUMING (always a terrible idea), that obj1 and obj2 are things that do in fact exist on the global scope, I'd modify it like this:</p>\n\n<pre><code>    public Dictionary&lt;string, object&gt; GetProgress(int id)\n    {\n        Dictionary&lt;string, object&gt; returnValue;\n        if(obj1)\n        {\n            Dictionary&lt;string, object1&gt; progresses = new Dictionary&lt;string, object1&gt;();\n        }\n        else if(obj2)\n        {\n            Dictionary&lt;string, object2&gt; progresses = new Dictionary&lt;string, object2&gt;();\n        }\n        return progresses;\n    }\n</code></pre>\n\n<p>Though that might fail as well as you can't implicitly convert a Dictionary of String, Object into a Dictionary of String, \"Object1\", whatever that is...</p>\n"}, {"tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": false, "score": 1, "last_activity_date": 1569431514, "last_edit_date": 1569431514, "creation_date": 1569431123, "answer_id": 58103394, "question_id": 58102923, "link": "https://stackoverflow.com/questions/58102923/how-can-i-use-one-dictionary-variable-for-two-different-type/58103394#58103394", "title": "How Can I use one Dictionary variable for two different type?", "body": "<p>This code has a multitude of problems. Let's go through each of them.</p>\n\n<pre><code>public Task&lt;IHttpActionResult&gt; GetProgress(int id)\n{\n   if(obj1)\n   {\n      Dictionary&lt;string, object1&gt; progresses = new Dictionary&lt;string, object1&gt; \n      ();\n   }\n   else if(obj2)\n   {\n      Dictionary&lt;string, object2&gt; progresses = new Dictionary&lt;string, object2&gt; \n      ();\n   }\n   return progresses;\n}\n</code></pre>\n\n<p>The return type of your method is <code>Task&lt;IHttpActionResult&gt;</code> but you're trying to return a <code>Dictionary</code>, which is a type mismatch and the compiler won't like it for obvious reasons. So the first thing to fix is to match the two, and let's say we change the return type to a <code>Dictionary</code>. Now, however, you face the problem of based on your <code>if</code> you're trying to return one of two different types of dictionaries, and that won't work. So for now let's assume you always return a <code>Dictionary&lt;string, Object1&gt;</code> just so we can make the compiler happy. Now you can also notice that we've declared the return object outside the two <code>if</code> statements so you get rid of that error as well. I'm not sure what your <code>obj1</code> and <code>obj2</code> are so I'm using some random condition in place.</p>\n\n<pre><code>public Dictionary&lt;string, Object1&gt; GetProgress(int id)\n{\n    Dictionary&lt;string, Object1&gt; progresses = new Dictionary&lt;string, Object1&gt;();\n\n    if (id == 1)\n    {\n        progresses = new Dictionary&lt;string, Object1&gt;();\n    }\n    else if (id == 2)\n    {\n        progresses = new Dictionary&lt;string, Object1&gt;();\n    }\n\n    return progresses;\n}\n</code></pre>\n\n<p>Now the compiler is happy, but you're returning a dictionary of the same type in both occasions. How can we fix it? If you boil the situation down, based on your condition you want to return a <code>string</code> and an instance of either <code>Object1</code> or <code>Object2</code>. Well one way to handle this is to declare a parent class to <code>Object1</code> and <code>Object2</code> and create the dictionary of that parent class.</p>\n\n<pre><code>public class ParentObject\n{\n}\n\npublic class Object1 : ParentObject\n{\n}\n\npublic class Object2 : ParentObject\n{\n}\n</code></pre>\n\n<p>Then, create the dictionary like so:</p>\n\n<pre><code>Dictionary&lt;string, ParentObject&gt; progresses = new Dictionary&lt;string, ParentObject&gt;();\n</code></pre>\n\n<p>Now, based on condition you can either add an instance of <code>Object1</code> or <code>Object2</code> to the dictionary.</p>\n\n<pre><code>public Dictionary&lt;string, ParentObject&gt; GetProgress(int id)\n{\n    Dictionary&lt;string, ParentObject&gt; progresses = new Dictionary&lt;string, ParentObject&gt;();\n\n    if (id == 1)\n    {\n        var o1 = new Object1();\n        progresses.Add(id.ToString(), o1);\n    }\n    else if (id == 2)\n    {\n        var o2 = new Object2();\n        progresses.Add(id.ToString(), o2);\n    }\n\n    return progresses;\n}\n</code></pre>\n\n<p>When you're calling the method and wants to know which type of an object you received, you can get the <code>Type</code> of it like so:</p>\n\n<pre><code>var result1 = GetProgress(1);\n// Here, type = Object1\nvar typeOfObject1 = result1.First().Value.GetType();\n\nvar result2 = GetProgress(2);\n// Here, type = Object2\nvar typeOfObject2 = result2.First().Value.GetType();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 462, "user_id": 5334191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gaZ2GJ9PG1w/AAAAAAAAAAI/AAAAAAAAARM/81w9_b_schg/photo.jpg?sz=128", "display_name": "yob", "link": "https://stackoverflow.com/users/5334191/yob"}, "is_accepted": false, "score": 0, "last_activity_date": 1569435389, "creation_date": 1569435389, "answer_id": 58104365, "question_id": 58102923, "link": "https://stackoverflow.com/questions/58102923/how-can-i-use-one-dictionary-variable-for-two-different-type/58104365#58104365", "title": "How Can I use one Dictionary variable for two different type?", "body": "<p>To expand on previous great answer, you can shorten object createion using </p>\n\n<pre><code>    (ParentObject)Activator.CreateInstance(Type.GetType($\"Object{id}\"))\n</code></pre>\n\n<p>and you can also base your Object1 and Object2 on an interface, to have them implement same methods, for example:</p>\n\n<pre><code>    public interface ParentObject\n    {\n            int Id { get; set; }\n            void ObjectAction(int value);\n    }\n\n    public class Object1 : ParentObject\n    {\n        public int Id { get; set; }\n        public void ObjectAction(int value)\n        {\n            Console.WriteLine(\"I'm object #1 with value\" + value);\n        }\n    }\n\n    public class Object2 : ParentObject\n    {\n        public int Id { get; set; }\n        public void ObjectAction(int value)\n        {\n            Console.WriteLine(\"I'm different object #2 with value\" + value);\n        }\n    }\n\n    public class UsingDifferentObjects\n    {\n            public Dictionary&lt;string, ParentObject&gt; GetProgress(int id)\n            {\n                    Dictionary&lt;string, ParentObject&gt; progresses = new Dictionary&lt;string,ParentObject&gt;();\n                    var objtoAdd = (ParentObject)Activator.CreateInstance(Type.GetType($\"Object{id}\"));\n                    objtoAdd.Id = id;\n                    progresses.Add(id.ToString(), objtoAdd);\n                    return progresses;\n            }\n    }\n</code></pre>\n\n<p>so, later when you need use them:</p>\n\n<pre><code>    ((ParentObject)progresses[objectKey]).ObjectAction(value);\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 11197920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5412033635c91467fc81b972bfd57cc6?s=128&d=identicon&r=PG&f=1", "display_name": "P.Lee", "link": "https://stackoverflow.com/users/11197920/p-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1569435389, "creation_date": 1569429303, "last_edit_date": 1569429484, "question_id": 58102923, "link": "https://stackoverflow.com/questions/58102923/how-can-i-use-one-dictionary-variable-for-two-different-type", "title": "How Can I use one Dictionary variable for two different type?", "body": "<p>I am very new in C# and want to use Dictionary&lt;></p>\n\n<p>My code is like this:</p>\n\n<pre><code>public Task&lt;IHttpActionResult&gt; GetProgress(int id)\n{\n   if(obj1)\n   {\n      Dictionary&lt;string, object1&gt; progresses = new Dictionary&lt;string, object1&gt; \n      ();\n   }\n   else if(obj2)\n   {\n      Dictionary&lt;string, object2&gt; progresses = new Dictionary&lt;string, object2&gt; \n      ();\n   }\n   return progresses;\n}\n</code></pre>\n\n<p>In this case, I got error because I did'n define the variable before if else.</p>\n\n<p>I have tried to do like this:</p>\n\n<pre><code>   Object progresses = null;\n   if(obj1)\n   {\n      progresses = new Dictionary&lt;string, object1&gt;();\n   }\n   else if(obj2)\n   {\n      progresses = new Dictionary&lt;string, object2&gt;();\n   }\n   return progresses;\n</code></pre>\n\n<p>However, it didn't work. I got error for \"progresses.ContainsKey()\" and \"progresses.Add()\".</p>\n\n<p>How can I solve this problem?\nI appreciate in advance.</p>\n"}, {"tags": ["c#", "asp.net-core", "https", "compression", "image-compression"], "comments": [{"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1569431845, "post_id": 58102921, "comment_id": 102598318, "body": "There is technically no way. The mitigation of the exploits is on the client-side, and indeed some browsers (Chrome and Firefox, I think) have mitigations for these attacks. There&#39;s nothing you, on the server, can do, other than just flat out not allow compression at all, removing the attack vector."}, {"owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "reply_to_user": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1569436420, "post_id": 58102921, "comment_id": 102600191, "body": "@ChrisPratt I guess I am not clearly understanding the exploits. But, can I only compress image/jpeg MIMI type without falling into this issue?"}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1569437678, "post_id": 58102921, "comment_id": 102600713, "body": "Well, yes, but it would do you little good. JPEG is already a compressed format. It&#39;s like zipping a zip archive."}, {"owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "reply_to_user": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1569437863, "post_id": 58102921, "comment_id": 102600778, "body": "@ChrisPratt Thank you. I am just trying to figure out if that exploit is limited to certain MIMI types. In other words, what if I compress everything except for <code>text&#47;html</code> and <code>images</code>?"}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1569438174, "post_id": 58102921, "comment_id": 102600908, "body": "Not necessarily. The danger of exploit is secrets exposed in content. If the location of the secret in the document is a known quantity (a simple view source), then the response can be teased to expose the actual secret value, despite TLS encryption. If you don&#39;t have secrets or you aren&#39;t actually outputting them in HTML, JS, etc. then it&#39;s not a concern."}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1569438389, "post_id": 58102921, "comment_id": 102601013, "body": "In truth, it&#39;s more a concern for things like banking institutions where your account number may be printed on the page, for example. CSRF tokens can also be a problem, though not in Core, as they&#39;re nonced. The problem isn&#39;t so much allowing compression on everything it could apply to, but rather in the one-off cases where you actually might end up doing something where you shouldn&#39;t allow compression."}, {"owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "reply_to_user": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1569438479, "post_id": 58102921, "comment_id": 102601057, "body": "Again thanks alot for explaining. I am a bit confused on what you really mean by secrets? I mean in what condition would one put a secrent into an html?"}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1569438605, "post_id": 58102921, "comment_id": 102601112, "body": "A secret is generally anything that shouldn&#39;t be exposed past the user authorized to see it. It could be an account number for a bank account as I already gave as an example or even just high-value PII: email, address, phone, etc."}, {"owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "reply_to_user": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1569439098, "post_id": 58102921, "comment_id": 102601313, "body": "That is perfect example. To be on the safe side, what if I compress only my public pages? In other words, anything requres authentication, I would not compress. Any request at <code>Account&#47;*</code> pages or <code>Admin&#47;*</code> I would not compress."}], "answers": [{"tags": [], "owner": {"reputation": 462, "user_id": 5334191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gaZ2GJ9PG1w/AAAAAAAAAAI/AAAAAAAAARM/81w9_b_schg/photo.jpg?sz=128", "display_name": "yob", "link": "https://stackoverflow.com/users/5334191/yob"}, "is_accepted": false, "score": -1, "last_activity_date": 1569433518, "creation_date": 1569433518, "answer_id": 58103942, "question_id": 58102921, "link": "https://stackoverflow.com/questions/58102921/how-to-enable-compression-in-asp-net-core-2-2-project-for-https-site-and-avoid-p/58103942#58103942", "title": "How to enable compression in asp.net Core 2.2 project for https site and avoid problems like CRIME and BREACH", "body": "<p>In addition, you may also \"compress\" image prior to sending over, for example, using : </p>\n\n<pre><code>    private byte[] CompressImageToQuality(System.Drawing.Image image, int quality)\n    {\n            EncoderParameter qualityParam = new EncoderParameter(Encoder.Quality, quality); \n            ImageCodecInfo jpegCodec = GetEncoderInfo(\"image/jpeg\");\n            EncoderParameters encoderParams = new EncoderParameters(1);\n            encoderParams.Param[0] = qualityParam;\n            using (var stream = new System.IO.MemoryStream())\n            {\n                image.Save(stream, jpegCodec, encoderParams);\n                return stream.ToArray();\n            }\n    }\n</code></pre>\n"}], "owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 623, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569433518, "creation_date": 1569429297, "question_id": 58102921, "link": "https://stackoverflow.com/questions/58102921/how-to-enable-compression-in-asp-net-core-2-2-project-for-https-site-and-avoid-p", "title": "How to enable compression in asp.net Core 2.2 project for https site and avoid problems like CRIME and BREACH", "body": "<p>I have a web application that is written using C# on the top of ASP.NET Core 2.2 MVC framework.</p>\n\n<p>My application displays lots of images on every request which makes load time high and increase bandwidth usage. To improve page load and bandwidth usage, I want to compress the HTTP response using <a href=\"https://en.wikipedia.org/wiki/Brotli\" rel=\"nofollow noreferrer\">Brotli</a> and <a href=\"https://en.wikipedia.org/wiki/Gzip\" rel=\"nofollow noreferrer\">Gzip</a> formats.</p>\n\n<p>Luckily Microsoft has a package that uses middleware to compress the HTTP response for me called <a href=\"https://www.nuget.org/packages/Microsoft.AspNetCore.ResponseCompression/\" rel=\"nofollow noreferrer\">Microsoft.AspNetCore.ResponseCompression</a>. From the package official <a href=\"https://docs.microsoft.com/en-us/aspnet/core/performance/response-compression?view=aspnetcore-3.0\" rel=\"nofollow noreferrer\">documentation</a>, compression for secured websites is disabled by default.</p>\n\n<blockquote>\n  <p>Using compression with dynamically generated pages can lead to security problems such as the <a href=\"https://en.wikipedia.org/wiki/CRIME_(security_exploit)\" rel=\"nofollow noreferrer\">CRIME</a> and <a href=\"https://en.wikipedia.org/wiki/BREACH\" rel=\"nofollow noreferrer\">BREACH</a> attacks.</p>\n</blockquote>\n\n<p>My question how can I compress the response while avoiding security issues?</p>\n\n<p>Here is how I set up the <a href=\"https://www.nuget.org/packages/Microsoft.AspNetCore.ResponseCompression/\" rel=\"nofollow noreferrer\">Microsoft.AspNetCore.ResponseCompression</a> package</p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n    services.AddResponseCompression(options =&gt;\n    {\n        options.Providers.Add&lt;BrotliCompressionProvider&gt;();\n        options.Providers.Add&lt;GzipCompressionProvider&gt;();\n        options.MimeTypes = ResponseCompressionDefaults.MimeTypes.Concat(\n        new[] { \"image/svg+xml\", \"image/jpeg\" });\n        options.EnableForHttps = true;\n    });\n\n    ...\n}\n\npublic void Configure(IApplicationBuilder app, IHostingEnvironment env)\n{\n    app.UseResponseCompression();\n    ...\n}\n</code></pre>\n\n<p>The above setup will apply compression for the following MIMI types</p>\n\n<ul>\n<li>application/javascript</li>\n<li>application/json</li>\n<li>application/xml</li>\n<li>text/css</li>\n<li>text/html</li>\n<li>text/json</li>\n<li>text/plain</li>\n<li>text/xml</li>\n<li>image/svg+xml</li>\n<li>image/jpeg</li>\n</ul>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-core", ".net-core", "asp.net-core-mvc"], "comments": [{"owner": {"reputation": 2123, "user_id": 2367096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GeWgS.png?s=128&g=1", "display_name": "Seano666", "link": "https://stackoverflow.com/users/2367096/seano666"}, "edited": false, "score": 0, "creation_date": 1569433883, "post_id": 58102909, "comment_id": 102599139, "body": "There are no solution-controlled relationships when a .Net project is published to a server, that&#39;s just for devs to organize their projects in the IDE.  I&#39;d suggest using an config app setting with the full url of the other project."}], "answers": [{"tags": [], "owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "is_accepted": true, "score": 0, "last_activity_date": 1569430913, "creation_date": 1569430913, "answer_id": 58103339, "question_id": 58102909, "link": "https://stackoverflow.com/questions/58102909/net-core-redirect-to-controller-in-another-project-under-same-solution/58103339#58103339", "title": ".NET Core Redirect to Controller in another Project under same Solution", "body": "<p>It must be the full absolute URL, as regardless of whether the projects exist in the same solution, while running, they are totally separate and distinct web apps. One has no inherent knowledge of how the other is hosted, and indeed, they could be running under any IP, hostname, domain, subdomain and port thereof.</p>\n\n<p>You should handle this via config. Set something like:</p>\n\n<pre><code>{\n    \"LoginURL\": \"https://accounts.website.com/login\"\n}\n</code></pre>\n\n<p>And then you can do:</p>\n\n<pre><code>services.ConfigureApplicationCookie(options =&gt;\n{\n    options.LoginPath = Configuration[\"LoginURL\"];\n    ...\n});\n</code></pre>\n\n<p>Then, you just need to deploy environment-specific JSON or environment variables to override that config value per environment. For example, when developing it might be <code>https://localhost:44301/login</code> instead.</p>\n"}], "owner": {"reputation": 2362, "user_id": 4907861, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3de1ce4ab463ae04e5429387cf4710ba?s=128&d=identicon&r=PG&f=1", "display_name": "JianYA", "link": "https://stackoverflow.com/users/4907861/jianya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 58103339, "answer_count": 1, "score": 0, "last_activity_date": 1569430913, "creation_date": 1569429257, "question_id": 58102909, "link": "https://stackoverflow.com/questions/58102909/net-core-redirect-to-controller-in-another-project-under-same-solution", "title": ".NET Core Redirect to Controller in another Project under same Solution", "body": "<p>Is it possible to redirect to another project within the same solution in .NET Core without using an absolute url?</p>\n\n<p>I'm asking because I see so many web apps that have billing.website.com that serves billing functionality only and app.website.com that holds most of the application. </p>\n\n<p>I have found <a href=\"https://stackoverflow.com/questions/47617994/how-to-use-a-controller-in-another-assembly-in-asp-net-core-mvc-2-0?rq=1\">How to use a controller in another assembly in ASP.NET Core MVC 2.0?</a> but it isn't clear on if the users cookie has timed out, where and how should I redirect the user to?</p>\n\n<p>If I have a project that will be under the url account.website.com that handles authentication, how should I set it in my Startup.cs?</p>\n\n<pre><code>services.ConfigureApplicationCookie(options =&gt;\n{\n    // Cookie settings\n    options.LoginPath = \"accounts.website.com\";\n    options.AccessDeniedPath = Environment.GetEnvironmentVariable(AccessDeniedPath);\n    options.SlidingExpiration = true;\n});\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 1, "creation_date": 1569429593, "post_id": 58102896, "comment_id": 102597293, "body": "yes you can&#39;t .. a sprite is an asset. You rather want to enable/disable the Component/GameObject using that sprite ... please add you complete code"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 1, "creation_date": 1569429789, "post_id": 58102896, "comment_id": 102597375, "body": "<b>Stop</b> Please <b><a href=\"https://stackoverflow.com/posts/58102896/edit\">EDIT</a></b> your question and add all your relevant code there. Format it using the <code>{ }</code> button!"}, {"owner": {"reputation": 25, "user_id": 11767500, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-T1xNo6ngtkE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re7EzEkDF_IP34FImY1InzemQ6B2g/photo.jpg?sz=128", "display_name": "solzier", "link": "https://stackoverflow.com/users/11767500/solzier"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1569430395, "post_id": 58102896, "comment_id": 102597638, "body": "ok, fixed it i hope that is clear"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 2, "creation_date": 1569430615, "post_id": 58102896, "comment_id": 102597754, "body": "Yes way better ;) <code>Sprite</code> is not a component so you can&#39;t use <code>GetComponent&lt;Sprite&gt;</code> As said you have to find the component using that sprite like e.g. <code>SpriteRenderer</code> or <code>Image</code> and enable/disable that instead"}, {"owner": {"reputation": 25, "user_id": 11767500, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-T1xNo6ngtkE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re7EzEkDF_IP34FImY1InzemQ6B2g/photo.jpg?sz=128", "display_name": "solzier", "link": "https://stackoverflow.com/users/11767500/solzier"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1569430731, "post_id": 58102896, "comment_id": 102597813, "body": "Sorry about the messed up format!! And thank you! I will get right to it!"}, {"owner": {"reputation": 25, "user_id": 11767500, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-T1xNo6ngtkE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re7EzEkDF_IP34FImY1InzemQ6B2g/photo.jpg?sz=128", "display_name": "solzier", "link": "https://stackoverflow.com/users/11767500/solzier"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1569440226, "post_id": 58102896, "comment_id": 102601723, "body": "After fixing this issue, I receive cannot convert sprite renderer to sprite... I&#39;ve changed it in different ways to avoid it, but no luck. what am i missing?"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 1, "creation_date": 1569440312, "post_id": 58102896, "comment_id": 102601748, "body": "The question is what are you trying? How/Where does this <code>Sprite</code> come from? Where is it used? What is the expected behavior you are trying to achieve?"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 11767500, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-T1xNo6ngtkE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re7EzEkDF_IP34FImY1InzemQ6B2g/photo.jpg?sz=128", "display_name": "solzier", "link": "https://stackoverflow.com/users/11767500/solzier"}, "edited": false, "score": 1, "creation_date": 1569447211, "post_id": 58106201, "comment_id": 102604288, "body": "this. this saved me. I just got through a huge portion because of this, thanks so much!"}], "tags": [], "owner": {"reputation": 4148, "user_id": 10209883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zd3hk.png?s=128&g=1", "display_name": "Alex Myers", "link": "https://stackoverflow.com/users/10209883/alex-myers"}, "is_accepted": true, "score": 0, "last_activity_date": 1569443829, "creation_date": 1569443829, "answer_id": 58106201, "question_id": 58102896, "link": "https://stackoverflow.com/questions/58102896/unity-cs1061-sprite-does-not-contain-definition-for-enabled/58106201#58106201", "title": "UNITY CS1061 Sprite does not contain definition for enabled", "body": "<p>If you're using an <code>Image</code> component you can reference the sprite with: </p>\n\n<pre><code>Sprite mySprite = GetComponent&lt;Image&gt;().sprite;\n</code></pre>\n\n<p>If you're using a <code>SpriteRenderer</code> componenent you can reference the sprite with: </p>\n\n<pre><code>Sprite mySprite = GetComponent&lt;SpriteRenderer&gt;().sprite;\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 11767500, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-T1xNo6ngtkE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re7EzEkDF_IP34FImY1InzemQ6B2g/photo.jpg?sz=128", "display_name": "solzier", "link": "https://stackoverflow.com/users/11767500/solzier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1193, "favorite_count": 1, "accepted_answer_id": 58106201, "answer_count": 1, "score": 2, "last_activity_date": 1569443829, "creation_date": 1569429187, "last_edit_date": 1569430579, "question_id": 58102896, "link": "https://stackoverflow.com/questions/58102896/unity-cs1061-sprite-does-not-contain-definition-for-enabled", "title": "UNITY CS1061 Sprite does not contain definition for enabled", "body": "<p>I am following a tutorial on 2048 in unity. He is using a Text and Image to render his 'tiles' and I decided to use a sprite because I have pre-made tiles in adobe. The first bit of code is the TileStyleHolder and the second script is called Tile(to be attached to the actual sprite/image itself that will be enabled/disabled.)</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\n[System.Serializable]\npublic class TileStyle \n{\n    public Sprite tile_number;\n}\n\npublic class TileStyleHolder : MonoBehaviour\n{\n    //SINGLETON\n    public static TileStyleHolder Instance;\n\n    public TileStyle[] TileStyles;\n\n    void Awake() \n    {\n        Instance = this;\n    }\n}\n</code></pre>\n\n<p>AND THIS IS THE SECOND SCRIPT~~  </p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.UI;\n\npublic class Tile : MonoBehaviour\n{\n    public int Number \n    {\n        get \n        {\n            return number;\n        }\n        set \n        {\n            number = value;\n            if (number == 0)\n                SetEmpty();\n            else \n            {\n                ApplyStyle(number);\n                SetVisible();\n            }\n        }\n    }\n    private int number;\n\n    private Sprite TileSprite;\n\n    void Awake() \n    {\n        TileSprite = transform.Find(\"numcell\").GetComponent&lt;Sprite&gt;();\n    }\n\n    void ApplyStyleFromHolder(int index) \n    {\n        TileSprite = TileStyleHolder.Instance.TileStyles[index].tile_number.ToSprite();\n    }\n\n    void ApplyStyle(int num) \n    {\n        switch (num) \n        {\n            case 2:\n            ApplyStyleFromHolder(0);\n            break;\n\n            case 4:\n            ApplyStyleFromHolder(1);\n            break;\n\n            case 8:\n            ApplyStyleFromHolder(2);\n            break;\n\n            case 16:\n            ApplyStyleFromHolder(3);\n            break;\n\n            case 32:\n            ApplyStyleFromHolder(4);\n            break;\n\n            case 64:\n            ApplyStyleFromHolder(5);\n            break;\n\n            case 128:\n            ApplyStyleFromHolder(6);\n            break;\n\n            case 256:\n            ApplyStyleFromHolder(7);\n            break;\n\n            case 512:\n            ApplyStyleFromHolder(8);\n            break;\n\n            case 1024:\n            ApplyStyleFromHolder(9);\n            break;\n\n            case 2048:\n            ApplyStyleFromHolder(10);\n            break;\n\n            case 4096:\n            ApplyStyleFromHolder(11);\n            break;\n\n            default:\n            Debug.LogError(\"Check the numders that you pass to ApplyStyle\");\n            break;\n        }\n    }\n\n    private void SetVisible() \n    {\n        TileSprite.enabled = true;\n    }\n\n    private void SetEmpty() \n    {\n        TileSprite.enabled = false;\n    }\n\n\n    // Start is called before the first frame update\n    void Start()\n    {\n\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", ".net-core", "entity-framework-6"], "comments": [{"owner": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "edited": false, "score": 0, "creation_date": 1569431671, "post_id": 58102826, "comment_id": 102598249, "body": "I believe that you have three entities Driver, Route and DailyRoute. DailyRoute is for mapping many to many relationship between Driver and Route entities. Look at this example for configuration <a href=\"https://www.learnentityframeworkcore.com/configuration/many-to-many-relationship-configuration\" rel=\"nofollow noreferrer\">learnentityframeworkcore.com/configuration/&hellip;</a>"}, {"owner": {"reputation": 550, "user_id": 9161570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0d57d8efb3e16463dc63ea3e0fd948?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karnaski", "link": "https://stackoverflow.com/users/9161570/tom-karnaski"}, "reply_to_user": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "edited": false, "score": 0, "creation_date": 1569431836, "post_id": 58102826, "comment_id": 102598313, "body": "Yes i have driver which have many DailyRoute and DailyRoute have only one Route"}, {"owner": {"reputation": 550, "user_id": 9161570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0d57d8efb3e16463dc63ea3e0fd948?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karnaski", "link": "https://stackoverflow.com/users/9161570/tom-karnaski"}, "reply_to_user": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "edited": false, "score": 0, "creation_date": 1569432234, "post_id": 58102826, "comment_id": 102598469, "body": "To get this result is required to configured with the Fluent API or entity framework doing this automatically ?"}, {"owner": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "edited": false, "score": 0, "creation_date": 1569432609, "post_id": 58102826, "comment_id": 102598626, "body": "Yes, I believe so"}, {"owner": {"reputation": 550, "user_id": 9161570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0d57d8efb3e16463dc63ea3e0fd948?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karnaski", "link": "https://stackoverflow.com/users/9161570/tom-karnaski"}, "reply_to_user": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "edited": false, "score": 0, "creation_date": 1569433056, "post_id": 58102826, "comment_id": 102598815, "body": "I use this <a href=\"https://www.learnentityframeworkcore.com/configuration/one-to-many-relationship-configuration\" rel=\"nofollow noreferrer\">learnentityframeworkcore.com/configuration/&hellip;</a> to return driver with dailyRoute list but list is also empty"}, {"owner": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "edited": false, "score": 0, "creation_date": 1569433258, "post_id": 58102826, "comment_id": 102598895, "body": "In my opinion, your case is many to many relationship between Driver and Route entities. DailyRoute entity is for mapping Driver to Route on a specific date"}, {"owner": {"reputation": 550, "user_id": 9161570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0d57d8efb3e16463dc63ea3e0fd948?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karnaski", "link": "https://stackoverflow.com/users/9161570/tom-karnaski"}, "reply_to_user": {"reputation": 3697, "user_id": 5484067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSbcB.jpg?s=128&g=1", "display_name": "Mohsin Mehmood", "link": "https://stackoverflow.com/users/5484067/mohsin-mehmood"}, "edited": false, "score": 0, "creation_date": 1569433987, "post_id": 58102826, "comment_id": 102599190, "body": "When i try to use one to many i cant get this result ? I dont know why i get the empty daily route but on database table the driverId is on dailyRoute table in column DriverId. The entity framework dont mapping this automatically ?"}], "answers": [{"comments": [{"owner": {"reputation": 550, "user_id": 9161570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0d57d8efb3e16463dc63ea3e0fd948?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karnaski", "link": "https://stackoverflow.com/users/9161570/tom-karnaski"}, "edited": false, "score": 0, "creation_date": 1569431354, "post_id": 58103277, "comment_id": 102598099, "body": "But i want to get all users i dont what to pass the userId"}, {"owner": {"reputation": 251, "user_id": 4099762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p4OJX.jpg?s=128&g=1", "display_name": "Nachiappan Kumarappan", "link": "https://stackoverflow.com/users/4099762/nachiappan-kumarappan"}, "reply_to_user": {"reputation": 550, "user_id": 9161570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0d57d8efb3e16463dc63ea3e0fd948?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karnaski", "link": "https://stackoverflow.com/users/9161570/tom-karnaski"}, "edited": false, "score": 0, "creation_date": 1569431752, "post_id": 58103277, "comment_id": 102598284, "body": "was just modifying your code &quot;public async Task&lt;Driver&gt; GetAsync(Guid userId)&quot;. If you need to get all, then don&#39;t filter on userid"}, {"owner": {"reputation": 550, "user_id": 9161570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0d57d8efb3e16463dc63ea3e0fd948?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karnaski", "link": "https://stackoverflow.com/users/9161570/tom-karnaski"}, "edited": false, "score": 0, "creation_date": 1569432084, "post_id": 58103277, "comment_id": 102598405, "body": "In this case, he doesn&#39;t even get an empty list. When i debug _passengerContext and show driver a i have DailyRoute list but is empty. When i add dailyRoute to driver and debug databaseContext driver have list with dailyRoute but when i try to get all driver this list on all users was empty"}], "tags": [], "owner": {"reputation": 251, "user_id": 4099762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p4OJX.jpg?s=128&g=1", "display_name": "Nachiappan Kumarappan", "link": "https://stackoverflow.com/users/4099762/nachiappan-kumarappan"}, "is_accepted": false, "score": 1, "last_activity_date": 1569430711, "creation_date": 1569430711, "answer_id": 58103277, "question_id": 58102826, "link": "https://stackoverflow.com/questions/58102826/entity-framework-6-on-net-core-2-2-one-to-many-return-empty-list/58103277#58103277", "title": "Entity Framework 6 on .NET Core 2.2 - one to many return empty list", "body": "<p>There are different loading policies in entity framework such as \"eager loading\" and \"lazy loading\". By default it would be lazy loading.</p>\n\n<p>If you want the associated entities to loaded, then you have to make it eager loading. you can do this by adding a Include function in your linq query. The <a href=\"https://www.entityframeworktutorial.net/eager-loading-in-entity-framework.aspx\" rel=\"nofollow noreferrer\">Link</a> could probably help you.</p>\n\n<p>The below change should probably fix the issue for you. Not compiled, so minor compilations issues possible</p>\n\n<pre><code> return await _passengerContext.Drivers.Include(x =&gt; x.DailyRoutes).SingleOrDefaultAsync(x =&gt; x.DriverId == userId);\n</code></pre>\n"}], "owner": {"reputation": 550, "user_id": 9161570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0d57d8efb3e16463dc63ea3e0fd948?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karnaski", "link": "https://stackoverflow.com/users/9161570/tom-karnaski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569430711, "creation_date": 1569428942, "last_edit_date": 1569429711, "question_id": 58102826, "link": "https://stackoverflow.com/questions/58102826/entity-framework-6-on-net-core-2-2-one-to-many-return-empty-list", "title": "Entity Framework 6 on .NET Core 2.2 - one to many return empty list", "body": "<p>I spend all day to repair this bug but nothing happened. I use Entity Framework 6 with .NET Core 2.2.</p>\n\n<p>I have <code>Driver</code> class which have list of many <code>DailyRoute</code>: </p>\n\n<pre><code>public class Driver\n{\n    [Key]\n    public Guid DriverId { get; protected set; }\n    public Vehicle Vehicle { get; protected set; }\n\n    private ISet&lt;DailyRoute&gt; _dailyRoutes = new HashSet&lt;DailyRoute&gt;();\n\n    public virtual ICollection&lt;DailyRoute&gt; DailyRoutes\n    {\n        get =&gt; _dailyRoutes;\n\n        set =&gt; _dailyRoutes = new HashSet&lt;DailyRoute&gt;(value);\n    }\n\n    public DateTime UpdatedAt { get; private set; }\n\n    protected Driver() \n    {\n    }\n\n    public Driver (Guid userid)\n    {\n        DriverId = userid;\n    }\n}\n</code></pre>\n\n<p>This is the <code>DailyRoute</code> class: </p>\n\n<pre><code>public class DailyRoute\n{\n    public Guid Id { get; set; }\n    public DateTime DateTime { get; protected set; }\n\n    private ISet&lt;PassengerNode&gt; _passengerNodes = new HashSet&lt;PassengerNode&gt;();\n\n    public Route Route { get; protected set; }\n\n    public Driver Driver { get; set; }\n\n    public ICollection&lt;PassengerNode&gt; PassengerNodes =&gt; _passengerNodes;\n\n    public DailyRoute()\n    {\n    }\n\n    protected DailyRoute(DateTime dateTime, Route route, Guid id)\n    {\n        Id = id;\n        Route = route;\n        DateTime = dateTime;\n    }\n}\n</code></pre>\n\n<p>The problem is I debug program and when I update user and then show the actual <code>dbcontext</code> element there was driver with the dailyRoute list but and on the next request when I try to show all drivers, I got the driver with empty daily route list. In the database, I have a table with dailyRoute with driver Id and this Id does exist in the <code>Driver</code> table.</p>\n\n<p>The <code>dbContext</code> class: </p>\n\n<pre><code>public class PassengerContext : DbContext\n{\n    public PassengerContext(DbContextOptions&lt;PassengerContext&gt; options): base(options)\n    {\n    }\n\n    public DbSet&lt;User&gt; Users { get; set; }\n    public DbSet&lt;Driver&gt; Drivers { get; set; }\n    public DbSet&lt;RefreshToken&gt; RefreshTokens { get; set; }\n    public DbSet&lt;DailyRoute&gt; DailyRoutes { get; set; }\n\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;Driver&gt;()\n            .HasMany(e =&gt; e.DailyRoutes).WithOne(k =&gt; k.Driver).IsRequired();\n    }\n}\n</code></pre>\n\n<p>This is the class when i try to get Driver, the driver exist but the dailyRoute list is empty;</p>\n\n<pre><code>public class DriverRepository : IDriverRepository\n{\n    private readonly PassengerContext _passengerContext;\n\n    public DriverRepository(PassengerContext passengerContext)\n    {\n        _passengerContext = passengerContext;\n    }\n\n    public async Task&lt;Driver&gt; GetAsync(Guid userId)\n    {\n        return await _passengerContext.Drivers.SingleOrDefaultAsync(x =&gt; x.DriverId == userId);\n    }\n</code></pre>\n\n<p><code>Driver</code> table:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pgZBR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pgZBR.png\" alt=\"The driver table\"></a> </p>\n\n<p><code>DailyRoute</code> table:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gcFpJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gcFpJ.png\" alt=\"DailyRoute table\"></a></p>\n"}, {"tags": ["c#", "linq", "entity-framework-core"], "answers": [{"comments": [{"owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 0, "creation_date": 1597375553, "post_id": 58107176, "comment_id": 112118188, "body": "Why are we avoiding the predicate version of <code>Count</code>?"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "edited": false, "score": 1, "creation_date": 1597384307, "post_id": 58107176, "comment_id": 112120260, "body": "@JonathanWood Because it has no direct SQL equivalent (and conditional <code>Sum</code> does), so it either is not translated (EF Core up to now) or get worse and inefficient translation (EF6)."}], "tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 15, "last_activity_date": 1569449378, "creation_date": 1569449378, "answer_id": 58107176, "question_id": 58102821, "link": "https://stackoverflow.com/questions/58102821/translating-query-with-group-by-and-count-to-linq/58107176#58107176", "title": "Translating query with GROUP BY and COUNT to Linq", "body": "<p>Avoid predicate version of <code>Count</code> and use the equivalent conditional <code>Sum</code>.</p>\n\n<p>In EF Core 3.0+ you can directly replace <code>Count(condition)</code> with <code>Sum(condition ? 1 : 0)</code>, e.g.</p>\n\n<pre><code>var countData = await _context.Sale\n    .GroupBy(s =&gt; s.InternalUser.UserName)\n    .Select(g =&gt; new\n    {\n        UserName = g.Key,\n        InsertCount = g.Sum(s =&gt; s.Version == 1 ? 1 : 0),\n        UpdateCount = g.Sum(s =&gt; s.Version &gt; 1 ? 1 : 0),\n    })\n    .ToListAsync();\n</code></pre>\n\n<p>EF Core 2.x supports translation only for <code>GroupBy</code> aggregates on simple grouping element property accessors, so you need to preselect the required expressions by using the <code>GroupBy</code> overload with element selector, e.g.</p>\n\n<pre><code>var countData = await _context.Sale\n    .GroupBy(s =&gt; s.InternalUser.UserName, s =&gt; new\n    {\n        InsertCount = s.Version == 1 ? 1 : 0,\n        UpdateCount = s.Version &gt; 1 ? 1 : 0,\n    })\n    .Select(g =&gt; new\n    {\n        UserName = g.Key,\n        InsertCount = g.Sum(s =&gt; s.InsertCount),\n        UpdateCount = g.Sum(s =&gt; s.UpdateCount),\n    })\n    .ToListAsync();\n</code></pre>\n"}], "owner": {"reputation": 2255, "user_id": 7897176, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3a552cdc067239869f8571f314912e86?s=128&d=identicon&r=PG&f=1", "display_name": "Valuator", "link": "https://stackoverflow.com/users/7897176/valuator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2965, "favorite_count": 1, "accepted_answer_id": 58107176, "answer_count": 1, "score": 8, "last_activity_date": 1569449378, "creation_date": 1569428906, "question_id": 58102821, "link": "https://stackoverflow.com/questions/58102821/translating-query-with-group-by-and-count-to-linq", "title": "Translating query with GROUP BY and COUNT to Linq", "body": "<p>I have a query to see how many entities Users have inserted (<code>Version = 1</code>) and entities they've updated (<code>Version &gt; 1</code>). It queries the entire table and groups by the UserName of the record. This is the raw SQL query:</p>\n\n<pre><code>SELECT \n    [s.InternalUser].[UserName],\n    COUNT(CASE WHEN s.Version = 1 THEN 1 END) AS [InsertCount],\n    COUNT(CASE WHEN s.Version &gt; 1 THEN 1 END) AS [UpdateCount]\nFROM [Sale] AS [s]\nINNER JOIN [InternalUser] AS [s.InternalUser] ON [s].[InternalUserId] = \n    [s.InternalUser].[InternalUserId]\nGROUP BY [s.InternalUser].[UserName]\n</code></pre>\n\n<p>This returns what I want it to. I've tried translating this to a Linq query in a project using EF Core 2.2:</p>\n\n<pre><code>var countData = await _context.Sale\n.GroupBy(s =&gt; s.InternalUser.UserName)\n.Select(g =&gt; new\n{\n    UserName = g.Key,\n    InsertCount = g.Count(s =&gt; s.Version == 1),\n    UpdateCount = g.Count(s =&gt; s.Version &gt; 1)\n})\n.ToListAsync();\n</code></pre>\n\n<p>However this results the entire table being loaded and the computations being done in memory:</p>\n\n<blockquote>\n  <p>Microsoft.EntityFrameworkCore.Query:Warning: The LINQ expression 'GroupBy([s.InternalUser].UserName, [s])' could not be translated and will be evaluated locally.\n  Microsoft.EntityFrameworkCore.Query:Warning: The LINQ expression 'where ([s].Version == 1)' could not be translated and will be evaluated locally.\n  Microsoft.EntityFrameworkCore.Query:Warning: The LINQ expression 'Count()' could not be translated and will be evaluated locally.\n  Microsoft.EntityFrameworkCore.Query:Warning: The LINQ expression 'where ([s].Version == 1)' could not be translated and will be evaluated locally.\n  Microsoft.EntityFrameworkCore.Query:Warning: The LINQ expression 'Count()' could not be translated and will be evaluated locally.\n  Microsoft.EntityFrameworkCore.Query:Warning: The LINQ expression 'where ([s].Version > 1)' could not be translated and will be evaluated locally.\n  Microsoft.EntityFrameworkCore.Query:Warning: The LINQ expression 'Count()' could not be translated and will be evaluated locally.\n  Microsoft.EntityFrameworkCore.Query:Warning: The LINQ expression 'where ([s].Version > 1)' could not be translated and will be evaluated locally.\n  Microsoft.EntityFrameworkCore.Query:Warning: The LINQ expression 'Count()' could not be translated and will be evaluated locally.</p>\n</blockquote>\n\n<p>It's the <code>Count()</code> query that causes it, if I remove that the Group By is translated to the query.</p>\n\n<p>Is there a different way of writing this that would translate to something like the SQL Query I posted before?</p>\n"}, {"tags": ["c#", "visual-studio"], "answers": [{"comments": [{"owner": {"reputation": 4496, "user_id": 3325290, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba85b021834dcc4f71e91234f93332b6?s=128&d=identicon&r=PG&f=1", "display_name": "KeithL", "link": "https://stackoverflow.com/users/3325290/keithl"}, "edited": false, "score": 0, "creation_date": 1569435125, "post_id": 58103132, "comment_id": 102599656, "body": "what do you return to return task?"}, {"owner": {"reputation": 5170, "user_id": 1410246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfce8c2aa420b800bb7595ac5fbc986d?s=128&d=identicon&r=PG", "display_name": "EylM", "link": "https://stackoverflow.com/users/1410246/eylm"}, "reply_to_user": {"reputation": 4496, "user_id": 3325290, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba85b021834dcc4f71e91234f93332b6?s=128&d=identicon&r=PG&f=1", "display_name": "KeithL", "link": "https://stackoverflow.com/users/3325290/keithl"}, "edited": false, "score": 0, "creation_date": 1569435304, "post_id": 58103132, "comment_id": 102599733, "body": "In this implementation, it not returning anything. You can change the signature to Task&lt;bool&gt; or any other generic type to return some value."}, {"owner": {"reputation": 4496, "user_id": 3325290, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba85b021834dcc4f71e91234f93332b6?s=128&d=identicon&r=PG&f=1", "display_name": "KeithL", "link": "https://stackoverflow.com/users/3325290/keithl"}, "edited": false, "score": 0, "creation_date": 1569437047, "post_id": 58103132, "comment_id": 102600448, "body": "I am calling from main with var a = TryDownload();  the code exits after just trying to do warmup. Am I doing something wrong?"}, {"owner": {"reputation": 5170, "user_id": 1410246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfce8c2aa420b800bb7595ac5fbc986d?s=128&d=identicon&r=PG", "display_name": "EylM", "link": "https://stackoverflow.com/users/1410246/eylm"}, "reply_to_user": {"reputation": 4496, "user_id": 3325290, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba85b021834dcc4f71e91234f93332b6?s=128&d=identicon&r=PG&f=1", "display_name": "KeithL", "link": "https://stackoverflow.com/users/3325290/keithl"}, "edited": false, "score": 0, "creation_date": 1569438628, "post_id": 58103132, "comment_id": 102601124, "body": "Await TryDownload().Result:"}], "tags": [], "owner": {"reputation": 5170, "user_id": 1410246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfce8c2aa420b800bb7595ac5fbc986d?s=128&d=identicon&r=PG", "display_name": "EylM", "link": "https://stackoverflow.com/users/1410246/eylm"}, "is_accepted": true, "score": 3, "last_activity_date": 1569430163, "creation_date": 1569430163, "answer_id": 58103132, "question_id": 58102776, "link": "https://stackoverflow.com/questions/58102776/download-a-file-but-it-seems-like-i-have-to-do-it-with-a-browser/58103132#58103132", "title": "Download a file but it seems like I have to do it with a browser", "body": "<p>The site you are trying to download from, uses cookies. \nSo once you navigate to the first page, some cookies are set to the browser.\nThis allows the download on the second page.</p>\n\n<p>You could accomplish this with this code:</p>\n\n<pre><code>static async Task TryDownload()\n{\n    var clientHandler = new HttpClientHandler\n    {\n        AllowAutoRedirect = true,\n        UseCookies = true,\n        CookieContainer = new CookieContainer()\n    };\n\n    using (var httpClient = new HttpClient(clientHandler))\n    {\n        // this gets the request and allows the site to set cookies.\n        var warmup = await httpClient.GetAsync(\"https://www.fapiis.gov/fapiis/allfapiisdata.action\");\n\n        // get the file (cookies are sent automatically).\n        var fileResponse = httpClient.GetAsync(\"https://www.fapiis.gov/fapiis/downloadview?type=allFapiis\");\n\n        if (fileResponse.Result.IsSuccessStatusCode)\n        {\n            HttpContent content = fileResponse.Result.Content;\n            var contentStream = await content.ReadAsStreamAsync();\n            using (var fileStream = File.Create(\"C:\\\\temp\\\\a.xlsx\"))\n            {\n                contentStream.CopyTo(fileStream);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Excel file in c:\\temp (662,044 bytes)\n</code></pre>\n"}], "owner": {"reputation": 4496, "user_id": 3325290, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba85b021834dcc4f71e91234f93332b6?s=128&d=identicon&r=PG&f=1", "display_name": "KeithL", "link": "https://stackoverflow.com/users/3325290/keithl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 58103132, "answer_count": 1, "score": 1, "last_activity_date": 1569430163, "creation_date": 1569428717, "last_edit_date": 1569428750, "question_id": 58102776, "link": "https://stackoverflow.com/questions/58102776/download-a-file-but-it-seems-like-i-have-to-do-it-with-a-browser", "title": "Download a file but it seems like I have to do it with a browser", "body": "<p>I would like to download a file from a website but the specific URL does not work unless a different page is loaded.</p>\n\n<p>I literally call a web browser to load a page and then call another page to download a file.</p>\n\n<p>This works but I hate it...</p>\n\n<pre><code>static void Main(string[] args)\n        {\n            //Open website\n            Process.Start(\"chrome.exe\", \"https://www.fapiis.gov/fapiis/allfapiisdata.action\");\n\n            //Wait 20 sec\n            System.Threading.Thread.Sleep(20000);\n\n            //DownLoad File\n            Process.Start(\"Chrome.exe\", \"https://www.fapiis.gov/fapiis/downloadview?type=allFapiis\");\n\n            //Wait 10 sec\n            System.Threading.Thread.Sleep(10000);\n\n            //Close Chrome\n            Process[] chromeInstances = Process.GetProcessesByName(\"chrome\");\n            foreach (Process p in chromeInstances)\n            { p.Kill(); }\n\n            //Move file for SSIS Processing\n            string[] files = System.IO.Directory.GetFiles(@\"C:\\Users\\xxxx\\Downloads\", \"AllFapiis*\");\n            foreach (string file in files)\n            {\n                string fname = System.IO.Path.GetFileName(file);\n                System.IO.File.Copy(file, @\"C:\\xxxxx\\FAPIIS\\\" + fname);\n                System.IO.File.Delete(file);\n            }\n        }\n</code></pre>\n\n<p>I tried using webclient but it can never find the 2nd page. Any other way to do this without calling a browser? Another problem is I can't direct where the download goes. It automatically goes into downloads on my user account.</p>\n"}, {"tags": ["c#", "entity-framework", "model-view-controller", "httprequest", "dbcontext"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1569524654, "post_id": 58102765, "comment_id": 102635002, "body": "Please edit your question with your code <i>as text</i>.  Please don&#39;t give us screenshots of code.  See:  <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-on-so-when-asking-a-question\">Why not upload images of code when asking a question</a>"}, {"owner": {"reputation": 99, "user_id": 4970279, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6fb6f9b61f117c2a568f3c1e62062935?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4970279/paul"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1569527588, "post_id": 58102765, "comment_id": 102636303, "body": "Removed images and replaced with code."}, {"owner": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "edited": false, "score": 0, "creation_date": 1569527794, "post_id": 58102765, "comment_id": 102636400, "body": "update code to only show the parts which are important.... way to many actions if its about GetTestInfoByTestTypeID  only, current code is a mess on SO please update so its readable."}, {"owner": {"reputation": 99, "user_id": 4970279, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6fb6f9b61f117c2a568f3c1e62062935?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4970279/paul"}, "edited": false, "score": 0, "creation_date": 1569934343, "post_id": 58102765, "comment_id": 102749971, "body": "Can anyone share come constructive input on how to get the controller to return only the test info for a particular test type id?  Do I have to pass the test type as a parameter?  Any examples would be appreciated."}], "owner": {"reputation": 99, "user_id": 4970279, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/6fb6f9b61f117c2a568f3c1e62062935?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4970279/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1569601454, "creation_date": 1569428661, "last_edit_date": 1569601454, "question_id": 58102765, "link": "https://stackoverflow.com/questions/58102765/how-do-i-do-an-httpget-to-a-custom-controller-method", "title": "How do I do an HTTPGet to a custom controller method", "body": "<p>What is the best way to do an httpget request to the custom controller method GetTestInfoByTestTypeID.  Please find below my client app, API controller, model and dbcontext.  The TestInfo and TestInfo/ID request work, but the GetTestInfoByTestTypeID method does not work. </p>\n\n<p><strong>Client</strong></p>\n\n<pre><code>   request.Method = HttpMethod.Get;\n   // request.RequestUri = new Uri(ConstantsCS.c_BaseURL + \"/TestIT/TestInfo\"); WORKS\n   // request.RequestUri = new Uri(ConstantsCS.c_BaseURL + \"/TestIT/TestInfo/4\"); WORKS\n      request.RequestUri = new Uri(ConstantsCS.c_BaseURL + \"/TestIT/TestInfo/GetTestInfoByTestTypeID/4\"); //DOES NOT WORK\n\n   HttpResponseMessage responsemsg = await client.SendAsync(request);\n   if (responsemsg.StatusCode == System.Net.HttpStatusCode.OK)\n   {\n   }\n</code></pre>\n\n<p><strong>API Controller method:</strong></p>\n\n<pre><code>#region \"TestIT/Testinfo/GetTestInfoByTestTypeID/1\"\n        [HttpGet(\"{TestTypeId}\", Name = \"GetTestInfoByTestTypeID\")]\n        public IEnumerable&lt;TestInfo&gt; GetTestInfoByTestTypeID([FromRoute] int TestTypeId)\n        {\n            try\n            {\n                List&lt;TestInfo&gt; tstinfoIn = _context.TestInfo.ToList();\n                List&lt;TestTypeInfo&gt; tsttypinfoIn = _context.TestTypeInfo.ToList();\n\n                List&lt;TestInfo&gt; tstinfoCombo = new List&lt;TestInfo&gt;();\n\n                tstinfoCombo = tstinfoIn.Select(c =&gt; new TestInfo()\n                {\n                    TestId = c.TestId,\n                    TestShortDescription = c.TestShortDescription,\n                    TestLongDescription = c.TestLongDescription,\n                    TestTypeId = c.TestTypeId,\n                    TestTypeInfos = GetTestTypeInfo(tsttypinfoIn, c.TestTypeId)\n                }).ToList();\n\n                tstinfoCombo = tstinfoCombo\n                    .Where(x =&gt; x.TestTypeId == TestTypeId)\n                    .Select(x =&gt; new TestInfo()\n                {\n                    TestId = x.TestId,\n                    TestShortDescription = x.TestShortDescription,\n                    TestLongDescription = x.TestLongDescription,\n                    TestTypeId = x.TestTypeId,\n                    TestTypeInfos = x.TestTypeInfos\n                }).ToList();\n\n                return tstinfoCombo;\n            }\n            catch (Exception ex)\n            {\n                return null;\n            }\n        }\n        #endregion\n</code></pre>\n\n<p><strong>TestInfo Model:</strong></p>\n\n<pre><code>namespace TestITWebService.Model\n{\n    public partial class TestInfo\n    {\n        public int TestId { get; set; }\n        public string TestShortDescription { get; set; }\n        public string TestLongDescription { get; set; }\n        public int TestTypeId { get; set; }\n        public ICollection&lt;TestTypeInfo&gt; TestTypeInfos { get; set; }\n    }\n}\n</code></pre>\n\n<p><strong>DBContext:</strong></p>\n\n<pre><code>#region \"TestInfo\"\n            modelBuilder.Entity&lt;TestInfo&gt;(entity =&gt;\n            {\n                entity.HasKey(e =&gt; e.TestId);\n\n                entity.HasIndex(e =&gt; e.TestShortDescription)\n                    .HasName(\"IX_TestInfo\")\n                    .IsUnique();\n\n                entity.Property(e =&gt; e.TestId).HasColumnName(\"TestID\");\n\n                entity.Property(e =&gt; e.TestLongDescription)\n                    .HasMaxLength(150)\n                    .IsUnicode(false);\n\n                entity.Property(e =&gt; e.TestShortDescription)\n                    .IsRequired()\n                    .HasMaxLength(50)\n                    .IsUnicode(false);\n\n                entity.Property(e =&gt; e.TestTypeId).HasColumnName(\"TestTypeID\");\n            });\n            #endregion\n</code></pre>\n"}]