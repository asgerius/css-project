[{"tags": ["c#", "security", "md5", "executable"], "comments": [{"owner": {"reputation": 747, "user_id": 4199541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NzCIM.png?s=128&g=1", "display_name": "Benj", "link": "https://stackoverflow.com/users/4199541/benj"}, "edited": false, "score": 3, "creation_date": 1435189451, "post_id": 31038941, "comment_id": 50101700, "body": "how about signing your application? <a href=\"http://stackoverflow.com/questions/5280435/application-signing-verification\" title=\"application signing verification\">stackoverflow.com/questions/5280435/&hellip;</a>"}, {"owner": {"reputation": 548, "user_id": 2695927, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Wbonl.jpg?s=128&g=1", "display_name": "Ismail Gunes", "link": "https://stackoverflow.com/users/2695927/ismail-gunes"}, "reply_to_user": {"reputation": 747, "user_id": 4199541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NzCIM.png?s=128&g=1", "display_name": "Benj", "link": "https://stackoverflow.com/users/4199541/benj"}, "edited": false, "score": 0, "creation_date": 1435189896, "post_id": 31038941, "comment_id": 50101808, "body": "@Benj OP does not want to use SSL or verification by OS. He wants only check if his application is harmed by a malicious virus. Best way is to make  a checksum of your application when you lunch it."}, {"owner": {"reputation": 747, "user_id": 4199541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NzCIM.png?s=128&g=1", "display_name": "Benj", "link": "https://stackoverflow.com/users/4199541/benj"}, "reply_to_user": {"reputation": 548, "user_id": 2695927, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Wbonl.jpg?s=128&g=1", "display_name": "Ismail Gunes", "link": "https://stackoverflow.com/users/2695927/ismail-gunes"}, "edited": false, "score": 0, "creation_date": 1435190471, "post_id": 31038941, "comment_id": 50101949, "body": "@IsmailGunes: this implies storing the hash somewhere (but not in the executable, since the application&#39;s hash would change when embedding the hash). soooo, since you need to store it externally, malware could extract the storage location and - guess what - update that hash as well ... nothing gained. so you need a guarantee that a certain hash is connected (the fingerprint) of an application - and that is where certificates come to play. this has nothing to do with verification by OS. you can verify it by yourself. but OS is more convenient (of course)"}, {"owner": {"reputation": 548, "user_id": 2695927, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Wbonl.jpg?s=128&g=1", "display_name": "Ismail Gunes", "link": "https://stackoverflow.com/users/2695927/ismail-gunes"}, "edited": false, "score": 0, "creation_date": 1435190801, "post_id": 31038941, "comment_id": 50102030, "body": "I did it before. I took the checksum by xor my main application and added in an other application which is running the main application. I used two applications first one is checking the checksum if correct then running the main application."}, {"owner": {"reputation": 747, "user_id": 4199541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NzCIM.png?s=128&g=1", "display_name": "Benj", "link": "https://stackoverflow.com/users/4199541/benj"}, "edited": false, "score": 0, "creation_date": 1435192188, "post_id": 31038941, "comment_id": 50102375, "body": "so each time the main application changes, the checker-application has to be updated and recompiled? sure, one can do that. basically your checker-application serves as a certificate then and ... can be modified as well"}], "owner": {"reputation": 21, "user_id": 5046692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c5acdce723e6196ed485682c02d6c44?s=128&d=identicon&r=PG&f=1", "display_name": "Srav", "link": "https://stackoverflow.com/users/5046692/srav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435190622, "creation_date": 1435189261, "last_edit_date": 1435190622, "question_id": 31038941, "link": "https://stackoverflow.com/questions/31038941/verifying-the-winform-executable-file-before-launching", "title": "Verifying the Winform executable file before launching", "body": "<p>I have a Windows forms application. I would like a checksum to be associated with the executable. Each time I run this I would like to verify this checksum. The aim is to be able to detect malicious attacks.</p>\n\n<p>I am tempted to use md5 algorithm but I am not sure if this is the right approach.</p>\n\n<p>Thanks,\nSrav</p>\n"}, {"tags": ["c#", ".net", "exception", "asp.net-web-api", "asp.net-web-api2"], "comments": [{"owner": {"reputation": 747, "user_id": 4199541, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NzCIM.png?s=128&g=1", "display_name": "Benj", "link": "https://stackoverflow.com/users/4199541/benj"}, "edited": false, "score": 1, "creation_date": 1435189824, "post_id": 31038936, "comment_id": 50101785, "body": "this seems like a rather opinion based question to me. I am creating new <code>Exception</code>s if (and only if) the <code>catch</code>-implementation differs from other exceptions. generally: as many as necessary, but as few as possible"}, {"owner": {"reputation": 1457, "user_id": 4903729, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/49c3608ccad546ef58793cf4e225f407?s=128&d=identicon&r=PG&f=1", "display_name": "hazjack", "link": "https://stackoverflow.com/users/4903729/hazjack"}, "edited": false, "score": 1, "creation_date": 1435233217, "post_id": 31038936, "comment_id": 50120186, "body": "IMHO, the exceptions should be catch in a filter instead of catching in each method."}], "answers": [{"tags": [], "owner": {"reputation": 1278, "user_id": 4486694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GXzvj.jpg?s=128&g=1", "display_name": "Chris Schubert", "link": "https://stackoverflow.com/users/4486694/chris-schubert"}, "is_accepted": false, "score": 1, "last_activity_date": 1435190157, "last_edit_date": 1435190157, "creation_date": 1435189840, "answer_id": 31039038, "question_id": 31038936, "link": "https://stackoverflow.com/questions/31038936/custom-exceptions-am-i-doing-it-right/31039038#31039038", "title": "Custom exceptions - Am I doing it right?", "body": "<p>This might be more appropriate as a Programming question rather than Stack Overflow.  </p>\n\n<p>Throwing custom exceptions can be very useful in the right scenario, and a lot of unnecessary work and complexity in the wrong scenario.  Usually the sanity check I use, is different handling for each distinct exception type.  </p>\n\n<p>For example, your FileTypeException and FileSizeException - is there a different <code>catch</code> for each type?  Or are you just returning a different message?  </p>\n\n<p>If it's the latter, try to consolidate where you can or use the framework provided exceptions.  If it's the former, then you're using custom exceptions right.</p>\n"}, {"tags": [], "owner": {"reputation": 1783, "user_id": 1152738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OeaRg.jpg?s=128&g=1", "display_name": "ManOVision", "link": "https://stackoverflow.com/users/1152738/manovision"}, "is_accepted": false, "score": 0, "last_activity_date": 1435302174, "creation_date": 1435302174, "answer_id": 31066940, "question_id": 31038936, "link": "https://stackoverflow.com/questions/31038936/custom-exceptions-am-i-doing-it-right/31066940#31066940", "title": "Custom exceptions - Am I doing it right?", "body": "<p>An exception filter works great for these cases. In your WebApiConfig, register an exception filter</p>\n\n<pre><code>config.Filters.Add(new CustomExceptionFilterAttribute());\n</code></pre>\n\n<p>Code for a basic filter:</p>\n\n<pre><code>//needed for CreateErrorResponse(statusCode, message)\nusing System.Net.Http\n\npublic class CustomExceptionFilterAttribute : ExceptionFilterAttribute\n{\n    public override void OnException(HttpActionExecutedContext context)\n    {\n        //you can get the underlying exception here\n        var type = context.Exception.GetType();\n\n        //I like to map exception types to status codes\n        var statusCode = GetHttpStatusCode(type);\n\n        //respond with a proper status code and the message\n        context.Response = context.Request.CreateErrorResponse(statusCode, context.Exception.Message);\n    }\n}\n</code></pre>\n\n<p>Now in any controller code you can throw and it will hit your filter</p>\n\n<pre><code>public IHttpActionResult Get(int id)\n{\n    throw new FileSizeException();\n}\n</code></pre>\n"}], "owner": {"reputation": 829, "user_id": 1373121, "user_type": "registered", "accept_rate": 5, "profile_image": "https://www.gravatar.com/avatar/1a05541adfccff61fce1cd628d846082?s=128&d=identicon&r=PG", "display_name": "user1373121", "link": "https://stackoverflow.com/users/1373121/user1373121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1435302174, "creation_date": 1435189211, "question_id": 31038936, "link": "https://stackoverflow.com/questions/31038936/custom-exceptions-am-i-doing-it-right", "title": "Custom exceptions - Am I doing it right?", "body": "<p>I am currently writing a .net REST web api, and am using custom exceptions so that I can send back detailed information to the client as well as the correct http response to stay compliant with REST.. but it seems like I am explicitly throwing a lot of exceptions. </p>\n\n<p>For example: I have an API for uploading image files. These image files have to be a certain file format and under a certain size. If my code finds that an image is the wrong file format, I throw a new custom exception like:</p>\n\n<p><code>throw new FileTypeException();</code></p>\n\n<p>Or, if the file is too big, meaning the file.Size() is greater than an amount I have set in the web.config, I throw a different custom exception like:</p>\n\n<pre><code>throw new FileSizeException();\n</code></pre>\n\n<p>I then catch these exceptions in my Post() method and return a 400 BadRequest and a reason.</p>\n\n<p>So, my code is not actually throwing an error, its just the request does not meet specifications. Is this bad practice?</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 11603, "user_id": 1007019, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/HjT3D.png?s=128&g=1", "display_name": "UnhandledExcepSean", "link": "https://stackoverflow.com/users/1007019/unhandledexcepsean"}, "edited": false, "score": 0, "creation_date": 1435191073, "post_id": 31038929, "comment_id": 50102104, "body": "Quick and dirty... Why not just set the password box&#39;s text to something different as soon as you load it into the secure string?"}, {"owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "reply_to_user": {"reputation": 11603, "user_id": 1007019, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/HjT3D.png?s=128&g=1", "display_name": "UnhandledExcepSean", "link": "https://stackoverflow.com/users/1007019/unhandledexcepsean"}, "edited": false, "score": 0, "creation_date": 1435230324, "post_id": 31038929, "comment_id": 50118413, "body": "@Ghost I think <code>String</code> immutability would mean you only succeeded in creating a second string in memory.  Timely disposal of the form, and as such, the Textbox is the real cleanup here.  Meaning it would come down to how quickly GC gets to it."}, {"owner": {"reputation": 1378, "user_id": 3501751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cJ4g9.jpg?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/3501751/charlie"}, "edited": false, "score": 0, "creation_date": 1435250102, "post_id": 31038929, "comment_id": 50133165, "body": "I&#39;m curious about your use case. Are you worried about a virus stealing the password? If so then you probably want a custom solution as mentioned elsewhere on SO. SecureString is really just for hiding the password if you accidentally write it to a log or crash report. <a href=\"http://stackoverflow.com/questions/6982236/how-is-securestring-encrypted-and-still-usable\" title=\"how is securestring encrypted and still usable\">stackoverflow.com/questions/6982236/&hellip;</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1378, "user_id": 3501751, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cJ4g9.jpg?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/3501751/charlie"}, "is_accepted": true, "score": 1, "last_activity_date": 1435250975, "last_edit_date": 1495541165, "creation_date": 1435250975, "answer_id": 31056224, "question_id": 31038929, "link": "https://stackoverflow.com/questions/31038929/ensure-removal-of-sensitive-data-from-memory/31056224#31056224", "title": "Ensure removal of sensitive data from memory", "body": "<p>I believe this is already answered <a href=\"https://stackoverflow.com/questions/26190938/is-securestring-ever-practical-in-a-c-sharp-application\">here</a>, but let me summarize my understanding:</p>\n\n<ul>\n<li>The use case for SecureString is to prevent the developer from accidentally showing a password to someone in a log or crash report.</li>\n<li>If you are concerned about a virus stealing your password out of memory than even encrypting it won't help because at somepoint you will need to decypt it (as explained <a href=\"https://stackoverflow.com/questions/26190938/is-securestring-ever-practical-in-a-c-sharp-application\">here</a>) at which point the virus can just get the password.</li>\n<li>You could create a custom control like this <a href=\"https://securetextbox.codeplex.com/\" rel=\"nofollow noreferrer\">one</a> that uses a SecureString for the text box, but I would question what the point is. Unless you create log entries or crash reports by dumping everything in memory there probably isn't a point.</li>\n</ul>\n"}], "owner": {"reputation": 149, "user_id": 1301890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f5e83d1986ff0282dd56ed82ac5ecbd?s=128&d=identicon&r=PG", "display_name": "Johan Geluk", "link": "https://stackoverflow.com/users/1301890/johan-geluk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 1, "accepted_answer_id": 31056224, "answer_count": 1, "score": 3, "last_activity_date": 1435250975, "creation_date": 1435189181, "question_id": 31038929, "link": "https://stackoverflow.com/questions/31038929/ensure-removal-of-sensitive-data-from-memory", "title": "Ensure removal of sensitive data from memory", "body": "<p>My application requires the user to enter a password like so:</p>\n\n<pre><code>using (var passwordForm = new PasswordForm())\n{\n    var result = passwordForm.ShowDialog();\n    if (result == DialogResult.OK)\n    {\n        password = new SecureString();\n        foreach(var c in passwordForm.PasswordBox.Text)\n        {\n            password.AppendChar(c);\n        }\n    }\n}\n</code></pre>\n\n<p>With <code>password</code> being a <code>SecureString</code> field which holds on to the password for quite some time.</p>\n\n<p>Obviously, <code>PasswordField.Text</code> is just a regular unencrypted string, which means the user's password is exposed. There isn't really a way around this (as far as I know) so it's a necessary evil. Because of this, I want the period of time during which the password is exposed to be as short as possible.</p>\n\n<p>What's the best way to achieve this? The password form will be disposed as soon as I'm done with it, but would this actually remove all 'plaintext occurrences' of the password from memory? And if not, what's the best way to ensure that this will happen as soon as possible?</p>\n"}, {"tags": ["c#", "mysql", "database", "insert", "duplication"], "comments": [{"owner": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "edited": false, "score": 0, "creation_date": 1435188916, "post_id": 31038886, "comment_id": 50101568, "body": "What you mean by avoid duplication here?"}, {"owner": {"reputation": 1, "user_id": 4354463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2be6264073f1eb59173e4426b056930b?s=128&d=identicon&r=PG&f=1", "display_name": "asma", "link": "https://stackoverflow.com/users/4354463/asma"}, "edited": false, "score": 0, "creation_date": 1435189117, "post_id": 31038886, "comment_id": 50101613, "body": "for example i have in database a rang in which num of matricule = 1 , so i can&#39;t add in next time a rang in which matricule= 1 ."}, {"owner": {"reputation": 1, "user_id": 4354463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2be6264073f1eb59173e4426b056930b?s=128&d=identicon&r=PG&f=1", "display_name": "asma", "link": "https://stackoverflow.com/users/4354463/asma"}, "edited": false, "score": 0, "creation_date": 1435189219, "post_id": 31038886, "comment_id": 50101641, "body": "here : if (textBox1.Text.Equals(&quot;&quot;)) how can i add the matricule?"}, {"owner": {"reputation": 2313, "user_id": 231844, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2e731702917afeb958741433fb17e803?s=128&d=identicon&r=PG", "display_name": "Bloodyaugust", "link": "https://stackoverflow.com/users/231844/bloodyaugust"}, "edited": false, "score": 0, "creation_date": 1435189461, "post_id": 31038886, "comment_id": 50101701, "body": "Perhaps a rephrasing of your question is needed."}, {"owner": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "edited": false, "score": 0, "creation_date": 1435189682, "post_id": 31038886, "comment_id": 50101746, "body": "Show schema for <code>users</code> please (maybe overkill)"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4354463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2be6264073f1eb59173e4426b056930b?s=128&d=identicon&r=PG&f=1", "display_name": "asma", "link": "https://stackoverflow.com/users/4354463/asma"}, "edited": false, "score": 0, "creation_date": 1435192929, "post_id": 31038958, "comment_id": 50102554, "body": "thnx :)) But i have a problem in ligne : WHERE NOT EXISTS (SELECT 1 FROM users"}], "tags": [], "owner": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "is_accepted": true, "score": 1, "last_activity_date": 1435189353, "creation_date": 1435189353, "answer_id": 31038958, "question_id": 31038886, "link": "https://stackoverflow.com/questions/31038886/how-to-avoid-duplication-in-mysql-database/31038958#31038958", "title": "how to avoid duplication in mysql database", "body": "<p>I am not absolutely sure what you mean by avoiding duplication but if you mean to avoid inserting the same data then you can consider wrapping your <code>INSERT</code> in a stored procedure where you can check for existence of those data like</p>\n\n<pre><code>create procedure usp_testInsert (@Matricule varchar(10),\n              @mot_de_passe varchar(10),\n              @Nom varchar(10) ,\n              @Prenom varchar(10))\nas\nbegin\nINSERT INTO users (Matricule,mot_de_passe,Nom,Prenom) \nSELECT @Matricule,\n@mot_de_passe,\n@Nom,\n@Prenom\nWHERE NOT EXISTS (SELECT 1 FROM users \nWHERE Matricule = @Matricule AND mot_de_passe = @mot_de_passe\nAND Nom = @Nom AND Prenom = @Prenom);\nend\n</code></pre>\n\n<p>You can then call this procedure in your <code>C#</code> code passing all the parameter what you are passing currently.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4354463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2be6264073f1eb59173e4426b056930b?s=128&d=identicon&r=PG&f=1", "display_name": "asma", "link": "https://stackoverflow.com/users/4354463/asma"}, "is_accepted": false, "score": 0, "last_activity_date": 1435227821, "creation_date": 1435227821, "answer_id": 31047655, "question_id": 31038886, "link": "https://stackoverflow.com/questions/31038886/how-to-avoid-duplication-in-mysql-database/31047655#31047655", "title": "how to avoid duplication in mysql database", "body": "<p>good , it works :))</p>\n\n<pre><code>create procedure usp_testInsert(Matricule int, mot_de_passe varchar(10), Nom varchar(10) , Prenom varchar(10)) begin INSERT INTO users (Matricule,mot_de_passe,Nom,Prenom) SELECT @Matricule, @mot_de_passe, @Nom, @Prenom FROM users WHERE NOT EXISTS (SELECT 1 FROM users WHERE Matricule = @Matricule AND mot_de_passe = @mot_de_passe AND Nom = @Nom AND Prenom = @Prenom ); end \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4354463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2be6264073f1eb59173e4426b056930b?s=128&d=identicon&r=PG&f=1", "display_name": "asma", "link": "https://stackoverflow.com/users/4354463/asma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 31038958, "answer_count": 2, "score": -2, "last_activity_date": 1435227821, "creation_date": 1435188824, "last_edit_date": 1435189614, "question_id": 31038886, "link": "https://stackoverflow.com/questions/31038886/how-to-avoid-duplication-in-mysql-database", "title": "how to avoid duplication in mysql database", "body": "<p>when i insert in mysql data base, i would like to avoid the duplication. what should i add in the \"if\" expression.\nthe insert function is :</p>\n\n<pre><code>private void Inscrire_Click(object sender, EventArgs e)\n    { //bouton insert\n\n        cmd = new MySqlCommand(\"INSERT INTO users (Matricule,mot_de_passe,Nom,Prenom) VALUES(@Matricule,@mot_de_passe,@Nom,@Prenom)\", con);\n\n            cmd.Parameters.AddWithValue(\"@Matricule\", textBox1.Text);\n            cmd.Parameters.AddWithValue(\"@mot_de_passe\", textBox2.Text);\n            cmd.Parameters.AddWithValue(\"@Nom\", textBox3.Text);\n            cmd.Parameters.AddWithValue(\"@Prenom\", textBox4.Text);\n\n\n            MySqlDataReader dr;\n            // avoiding duplication of \"Matricule\"\n            // what can i add here?\n                if (textBox1.Text.Equals(\"\"))\n                {\n                    MessageBox.Show(\"existe d\u00e9ja\");\n                }\n                else\n                {\n                    cmd.ExecuteNonQuery();\n                    MessageBox.Show(\"inscription r\u00e9ussite !\");\n                    Form1 f = new Form1();\n                    f.ShowDialog();\n                }\n\n    }\n</code></pre>\n\n<p>French to English</p>\n\n<pre><code>Matricule - Id #\nmotte de passe - password\nNom - surname\npr\u00e9nom - firstname\n</code></pre>\n"}, {"tags": ["c#", "app-config", "configuration-files", "configurationmanager"], "comments": [{"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1435188491, "post_id": 31038748, "comment_id": 50101451, "body": "What is <code>&lt;dbservers&gt;</code>? Is that a custom section?"}, {"owner": {"reputation": 89, "user_id": 4700850, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1fae8e680cb822d061b3b6730889f594?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4700850/brandon"}, "reply_to_user": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1435188562, "post_id": 31038748, "comment_id": 50101475, "body": "Yea its a custom section. That was the part I&#39;m a little unsure on. Would that mess with how the methods are used?"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 4700850, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1fae8e680cb822d061b3b6730889f594?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4700850/brandon"}, "edited": false, "score": 0, "creation_date": 1435189149, "post_id": 31038911, "comment_id": 50101621, "body": "So if I call GetSection(&quot;dbservers/connectionStrings) would that work?"}, {"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "reply_to_user": {"reputation": 89, "user_id": 4700850, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1fae8e680cb822d061b3b6730889f594?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4700850/brandon"}, "edited": false, "score": 0, "creation_date": 1435189440, "post_id": 31038911, "comment_id": 50101695, "body": "I haven&#39;t tried it that way; I&#39;ve only done <code>(DbServersConfig)GetSection(&quot;dbservers&quot;)</code> and then accessed children through that object."}, {"owner": {"reputation": 89, "user_id": 4700850, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1fae8e680cb822d061b3b6730889f594?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4700850/brandon"}, "edited": false, "score": 0, "creation_date": 1435189671, "post_id": 31038911, "comment_id": 50101745, "body": "Awesome. This is very helpful. I will take some time to read it all over."}], "tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": true, "score": 1, "last_activity_date": 1435189895, "last_edit_date": 1435189895, "creation_date": 1435189026, "answer_id": 31038911, "question_id": 31038748, "link": "https://stackoverflow.com/questions/31038748/understanding-app-config-and-using-configuration-manager-getsection-vs-connect/31038911#31038911", "title": "Understanding App.config and using Configuration Manager: GetSection vs. ConnectionString", "body": "<p>I don't think that <code>ConnectionStrings</code> will work unless you put them in the standard section for those. If you want a custom <code>&lt;dbservers&gt;</code> section, you'll have to use <code>GetSection</code> instead.</p>\n\n<p>This functionality is a bit awkward, but highly useful. <a href=\"https://msdn.microsoft.com/en-us/library/2tw134k3(v=vs.140).aspx\" rel=\"nofollow\">How to: Create Custom Configuration Sections Using ConfigurationSection</a> is a useful guide for this.</p>\n\n<p>Essentially this boils down to creating a class that inherits from <code>ConfigurationSection</code>, and adding the proper attributes (from the above guide):</p>\n\n<pre><code>public class PageAppearanceSection : ConfigurationSection\n{\n    // Create a \"remoteOnly\" attribute.\n    [ConfigurationProperty(\"remoteOnly\", DefaultValue = \"false\", IsRequired = false)]\n    public Boolean RemoteOnly\n    {\n        get\n        { \n            return (Boolean)this[\"remoteOnly\"]; \n        }\n        set\n        { \n            this[\"remoteOnly\"] = value; \n        }\n    }\n\n    // Create a \"font\" element.\n    [ConfigurationProperty(\"font\")]\n    public FontElement Font\n    {\n        get\n        { \n            return (FontElement)this[\"font\"]; }\n        set\n        { this[\"font\"] = value; }\n    }\n\n    // Create a \"color element.\"\n    [ConfigurationProperty(\"color\")]\n    public ColorElement Color\n    {\n        get\n        {\n            return (ColorElement)this[\"color\"];\n        }\n        set\n        { this[\"color\"] = value; }\n    }\n}\n</code></pre>\n\n<p>...and then adding a reference to your section in the app/web.config:</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;section name=\"dbservers\" type=\"Namespace.DbServersSection, YourAssembly\"/&gt;\n  &lt;/configSections&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 4700850, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1fae8e680cb822d061b3b6730889f594?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4700850/brandon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 31038911, "answer_count": 1, "score": 0, "last_activity_date": 1435189895, "creation_date": 1435187980, "last_edit_date": 1435188403, "question_id": 31038748, "link": "https://stackoverflow.com/questions/31038748/understanding-app-config-and-using-configuration-manager-getsection-vs-connect", "title": "Understanding App.config and using Configuration Manager: GetSection vs. ConnectionString", "body": "<p>For some context, I want to open a connection to a database and execute some queries. </p>\n\n<p>Here's my App.config: </p>\n\n<pre><code>    &lt;dbservers&gt;\n        &lt;connectionStrings&gt;\n            &lt;add name=\"Cube_ConnectionString\" connectionString=\"OLEDB; Datasource=http://cube.com; Initial Catalog=BP\" /&gt;\n        &lt;/connectionStrings&gt;\n        &lt;queries&gt;\n            &lt;add connectionStringName=\"CubeConnectionString\" usedBy=\"DataAccessor\" connectionString=\"\" /&gt;\n        &lt;/queries&gt;\n    &lt;/dbservers&gt;\n</code></pre>\n\n<p>This is how I intend to retrieve the connectionString:</p>\n\n<pre><code>    System.Configuration.ConfigurationManager.ConnectionStrings[\"Cube_ConnectionString\"].ConnectionString;\n</code></pre>\n\n<p>I am wondering whether GetSection or ConnectionString would be best to use. And what would be returned for both of them? How do these two methods function within nested XML such as this? </p>\n\n<p>Additionally, what's the purpose of putting queries in the app.config?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "vba", "vsto", "excel-dna"], "comments": [{"owner": {"reputation": 20828, "user_id": 4088852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41cfu.png?s=128&g=1", "display_name": "Comintern", "link": "https://stackoverflow.com/users/4088852/comintern"}, "edited": false, "score": 0, "creation_date": 1435193119, "post_id": 31038649, "comment_id": 50102602, "body": "This is why I come to Stack Overflow and not Google Groups..."}, {"owner": {"reputation": 5397, "user_id": 8678, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5Bgli.jpg?s=128&g=1", "display_name": "tbone", "link": "https://stackoverflow.com/users/8678/tbone"}, "reply_to_user": {"reputation": 20828, "user_id": 4088852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41cfu.png?s=128&g=1", "display_name": "Comintern", "link": "https://stackoverflow.com/users/4088852/comintern"}, "edited": false, "score": 0, "creation_date": 1435207559, "post_id": 31038649, "comment_id": 50105882, "body": "That&#39;s what I don&#39;t get.  To be fair, the thread originally started in 2011, but the question posted on Oct 14, 2014 is still struggling with this, and he is coming <i>from</i> c#, so why he can&#39;t just get the Range reference directly I don&#39;t understand.  Maybe his addin is Excel-DNA based rather than VSTO?  Does that even make sense? I am just learning this so have no clue."}, {"owner": {"reputation": 5397, "user_id": 8678, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5Bgli.jpg?s=128&g=1", "display_name": "tbone", "link": "https://stackoverflow.com/users/8678/tbone"}, "reply_to_user": {"reputation": 20828, "user_id": 4088852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41cfu.png?s=128&g=1", "display_name": "Comintern", "link": "https://stackoverflow.com/users/4088852/comintern"}, "edited": false, "score": 0, "creation_date": 1435207699, "post_id": 31038649, "comment_id": 50105923, "body": "Actually, Govert doesn&#39;t know what that guy&#39;s talking about either now that I reread it....lol"}], "answers": [{"comments": [{"owner": {"reputation": 5397, "user_id": 8678, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5Bgli.jpg?s=128&g=1", "display_name": "tbone", "link": "https://stackoverflow.com/users/8678/tbone"}, "edited": false, "score": 0, "creation_date": 1435256508, "post_id": 31047222, "comment_id": 50136895, "body": "thanks for the incredibly comprehensive answer, exactly what I was wanting to know.  I would very much like to learn more on the specific COM considerations you mentioned, any links you might have handy would be most appreciated. (&quot;You don&#39;t want to build process to directly register your .dll as the COM server for your XLServer.MyClass COM type, but rather have the .xll serve as the COM server. That will ensure your COM objects live in the same AppDomain as the rest of the add-in.&quot;)"}, {"owner": {"reputation": 15406, "user_id": 44264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d941e5d68ed49560a678a4f37c2bbb?s=128&d=identicon&r=PG", "display_name": "Govert", "link": "https://stackoverflow.com/users/44264/govert"}, "reply_to_user": {"reputation": 5397, "user_id": 8678, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5Bgli.jpg?s=128&g=1", "display_name": "tbone", "link": "https://stackoverflow.com/users/8678/tbone"}, "edited": false, "score": 0, "creation_date": 1435257336, "post_id": 31047222, "comment_id": 50137366, "body": "Suppose you have some kind of cache that you want to share between the worksheet UDFs and the COM objects used from VBA. Then it&#39;s much easier to share if the UDF part and the COM objects are in the same AppDomain. Registering the .dll for COM access on its own will cause the .NET runtime to activate it in the default AppDomain, while the Excel-DNA add-in runs in its own AppDomain. Also - the Excel-DNA registration does not require Admin rights."}, {"owner": {"reputation": 1803, "user_id": 166231, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e1d586387b3a13caa0e7540f47e98f92?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/166231/terry"}, "edited": false, "score": 0, "creation_date": 1449627712, "post_id": 31047222, "comment_id": 56086701, "body": "Is there ever a reason to <i>not</i> use ExcelAynscUtil.QueueAsMacro in the Ribbon callback?  I want to use COM and C API both, and wrapping call to my function in QueueAsMacro allows me to use XlCall.Excel( XlCall.xlfGetCell, 53, reference ).  If I didn&#39;t use that, I couldn&#39;t figure out a way to call that function successfully.  My Ribbon/AddIn hooks to application events and needs to maintain a bit of state in some of the handlers, so making all my call backs static so Application.Run() could be used on them became too complicated."}, {"owner": {"reputation": 1803, "user_id": 166231, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e1d586387b3a13caa0e7540f47e98f92?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/166231/terry"}, "edited": false, "score": 0, "creation_date": 1449629868, "post_id": 31047222, "comment_id": 56087283, "body": "Also, when an error is thrown from the QueueAsMacro delegate, who catches that exception?  It doesn&#39;t appear to be my Ribbon callback nor my ExcelIntegration.RegisterUnhandledExceptionHandler() method."}], "tags": [], "owner": {"reputation": 15406, "user_id": 44264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d941e5d68ed49560a678a4f37c2bbb?s=128&d=identicon&r=PG", "display_name": "Govert", "link": "https://stackoverflow.com/users/44264/govert"}, "is_accepted": true, "score": 8, "last_activity_date": 1435257138, "last_edit_date": 1592644375, "creation_date": 1435226704, "answer_id": 31047222, "question_id": 31038649, "link": "https://stackoverflow.com/questions/31038649/passing-an-excel-range-from-vba-to-c-via-excel-dna/31047222#31047222", "title": "Passing an Excel.Range from VBA to C# via Excel-DNA", "body": "<p>Yes, it's the right way to do it, as long as you:</p>\n<ol>\n<li><p>are sure your library project is <strong>not</strong> marked as &quot;Register for COM interop&quot;. You don't want to build process to directly register your .dll as the COM server for your <code>XLServer.MyClass</code> COM type, but rather have the .xll serve as the COM server. That will ensure your COM objects live in the same AppDomain as the rest of the add-in.</p>\n</li>\n<li><p>add the <code>ComServer</code> attribute to the <code>&lt;ExternalLibrary&gt;</code> tag in the .dna file, thus as</p>\n<p><code>&lt;ExternalLibrary Path=&quot;XlServer.dll&quot; ComServer=&quot;true&quot; ... /&gt;</code>.</p>\n</li>\n<li><p>take care of all the COM interface versioning rules.</p>\n</li>\n</ol>\n<p>The best references on the topic are the walk-through articles by Mikael Katajam\u00e4ki, which I presume you found:</p>\n<ul>\n<li><a href=\"http://mikejuniperhill.blogspot.fi/2014/03/interfacing-c-and-vba-with-exceldna-no.html\" rel=\"noreferrer\">http://mikejuniperhill.blogspot.fi/2014/03/interfacing-c-and-vba-with-exceldna-no.html</a></li>\n<li><a href=\"http://mikejuniperhill.blogspot.fi/2014/03/interfacing-c-and-vba-with-exceldna_16.html\" rel=\"noreferrer\">http://mikejuniperhill.blogspot.fi/2014/03/interfacing-c-and-vba-with-exceldna_16.html</a></li>\n</ul>\n<hr />\n<p>Now for some background to give some context to the Google group discussion:</p>\n<p>Most of the Excel-DNA internals is concerned with the Excel C API (as defined by the Excel SDK) which is great for making high-performance worksheet UDFs. In this setting, the C API structure that describes a worksheet reference is wrapper in the <code>ExcelDna.Integration.ExcelReference</code> type. This is a small data structure that wraps a sheet pointer (called the SheetId), and the extents of the reference. <code>ExcelReference</code> objects can be safely used in multi-threaded UDFs, and can be passed back-and-forth to the C API. Excel-DNA worksheet functions can be configured to receive <code>ExcelReference</code> objects as input, when appropriate.</p>\n<p>The <code>Range</code> COM object is quite a different thing. It is a COM object wrapper around such a sheet reference, subject to all the COM threading, lifetime and other restrictions. Microsoft does not support using the COM object model (and hence the <code>Range</code> objects) inside UDF functions defined in an .xll, and while it mostly works, trying to use these in multi-threaded functions is likely to cause serious trouble.</p>\n<p>Inside a macro or ribbon callback (as async triggered macro that is run started by <code>ExcelAsyncUtil.QueueAsMacro</code>) that you put in an Excel-DNA add-in, you can safely use both the C API and the COM object model.</p>\n<p>Converting from an thin <code>ExcelReference</code> object to a COM <code>Range</code> object is mot so hard, though it depends on whether you want to support multi-area ranges. If not, it's as simple as:</p>\n<pre><code>static Range ReferenceToRange(ExcelReference xlref)\n{\n    string refText = (string)XlCall.Excel(XlCall.xlfReftext, xlref, true);\n    dynamic app = ExcelDnaUtil.Application;\n    return app.Range[refText];\n} \n</code></pre>\n<p>The only reason this helper is not part of the <code>ExcelReference</code> type is that Excel-DNA still support .NET 2.0, and the COM type unification that would make sense of this is only available since .NET 4.0</p>\n"}], "owner": {"reputation": 5397, "user_id": 8678, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5Bgli.jpg?s=128&g=1", "display_name": "tbone", "link": "https://stackoverflow.com/users/8678/tbone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4901, "favorite_count": 2, "accepted_answer_id": 31047222, "answer_count": 1, "score": 2, "last_activity_date": 1435257138, "creation_date": 1435187302, "last_edit_date": 1435191008, "question_id": 31038649, "link": "https://stackoverflow.com/questions/31038649/passing-an-excel-range-from-vba-to-c-via-excel-dna", "title": "Passing an Excel.Range from VBA to C# via Excel-DNA", "body": "<p>I'm working on figuring out how the proper/best way to pass Excel.Range objects from VBA in Excel to C# via Excel-DNA, and then interacting with the Excel object model via that passed reference.</p>\n\n<p>Sample code:</p>\n\n<pre><code>    '***************** VBA code ********************\n    Sub test2()\n        Dim rng As Excel.Range\n        Set rng = Worksheets(\"test_output\").Range(\"D9\")\n\n        Dim myDLL As New XLServer.MyClass\n        Call myDLL.test_ExcelRangePassedAsObject(rng)\n        Call myDLL.test_ExcelRangePassedAsRange(rng)\n    End Sub\n\n\n\n//**************** C# Code **********************\nusing System;\nusing ExcelDna.Integration;\nusing ExcelDna.ComInterop;\nusing System.Runtime.InteropServices;\nusing Microsoft.Office.Interop;\nusing Excel = Microsoft.Office.Interop.Excel;\n\nnamespace XLServer\n{\n    [ComVisible(false)]\n    class ExcelAddin : IExcelAddIn\n    {\n        public void AutoOpen()\n        {\n            ComServer.DllRegisterServer();\n        }\n        public void AutoClose()\n        {\n            ComServer.DllUnregisterServer();\n        }\n    }    \n\n    [ComVisible(true)]\n    [ClassInterface(ClassInterfaceType.AutoDual)]\n    public class MyClass                            \n    {\n        public void test_ExcelRangePassedAsObject(object range)\n        {\n            Excel.Range rng = (Excel.Range)range;\n            rng.Worksheet.Cells[1, 1].Value = \"Specified range was: \" + rng.Address.ToString();\n        }\n\n        public void test_ExcelRangePassedAsRange(Excel.Range range)\n        {\n            Excel.Range rng = range;\n            rng.Worksheet.Cells[2, 1].Value = \"Specified range was: \" + rng.Address.ToString();\n        }\n</code></pre>\n\n<p>And when I run this, I get the expected output:<br>\nA1: Specified range was: $D$9<br>\nA2: Specified range was: $D$9</p>\n\n<p>After spending a significant amount of time googling Excel-DNA questions and coming up with nothing, I just wrote this and was actually surprised that it worked with no issues.  </p>\n\n<p>So I guess my question is to those who are experienced in this...<strong>is this the proper/best way to go about it?</strong></p>\n\n<p>For example, I came across many posts similar to this:<br>\n<a href=\"https://groups.google.com/forum/#!topic/exceldna/zqzEIos7ma0\" rel=\"nofollow\">https://groups.google.com/forum/#!topic/exceldna/zqzEIos7ma0</a></p>\n\n<p>....where people were dealing with <code>ExcelReference</code> objects and having to use incredibly obscure code to convert those into <code>Excel.Range</code> objects and it almost feels like there's something I'm missing?</p>\n"}, {"tags": ["c#", "ubuntu", "mono", "nunit"], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 2314351, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/468119ab9c829de0ff2b0062b9afb164?s=128&d=identicon&r=PG", "display_name": "user2314351", "link": "https://stackoverflow.com/users/2314351/user2314351"}, "edited": false, "score": 0, "creation_date": 1435216728, "post_id": 31041709, "comment_id": 50109893, "body": "Thanks, it worked.  I can also use <code>nunit-gui OnlyTest.dll</code>. Great step-by-step explanation, I had only change <code>$(PWD)</code> to <code>$(pwd)</code>."}, {"owner": {"reputation": 313, "user_id": 2314351, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/468119ab9c829de0ff2b0062b9afb164?s=128&d=identicon&r=PG", "display_name": "user2314351", "link": "https://stackoverflow.com/users/2314351/user2314351"}, "edited": false, "score": 0, "creation_date": 1435216791, "post_id": 31041709, "comment_id": 50109949, "body": "BTW, I have <code>OS Version: Unix 3.16.0.30, CLR Version: 2.0.50727.1433 ( Mono 3.5 ( 3.2.8</code> Which PPA is used for getting Mono 4?"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "reply_to_user": {"reputation": 313, "user_id": 2314351, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/468119ab9c829de0ff2b0062b9afb164?s=128&d=identicon&r=PG", "display_name": "user2314351", "link": "https://stackoverflow.com/users/2314351/user2314351"}, "edited": false, "score": 0, "creation_date": 1435219360, "post_id": 31041709, "comment_id": 50111603, "body": "I added another answer in order to point you to the latest mono packages for Unbuntu...  I build from source: Mono JIT compiler version 4.3.0 (master/b044a27)"}, {"owner": {"reputation": 3067, "user_id": 802397, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34f3e6c9a5a1649db9c86b79d83fe99e?s=128&d=identicon&r=PG", "display_name": "netpoetica", "link": "https://stackoverflow.com/users/802397/netpoetica"}, "edited": false, "score": 0, "creation_date": 1555590320, "post_id": 31041709, "comment_id": 98168728, "body": "If I get &quot;The &#39;NUnit 3.11.0&#39; package requires NuGet client version &#39;2.12&#39; or above, but the current NuGet version is &#39;2.8.60717.93&#39;&quot; when trying to run <code>mono nuget.exe install NUnit</code> does this mean there is an additional CLI tool like NuGet client which needs to be installed/updated?"}], "tags": [], "owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "is_accepted": true, "score": 8, "last_activity_date": 1435212150, "last_edit_date": 1435212150, "creation_date": 1435209241, "answer_id": 31041709, "question_id": 31038629, "link": "https://stackoverflow.com/questions/31038629/run-nunit-test-on-ubuntu-from-command-line/31041709#31041709", "title": "Run NUnit test on Ubuntu from command line", "body": "<pre><code>Could not load file or assembly 'nunit.framework, Version=2.6.4.14350, Culture=neutral, PublicKeyToken=96d09a1eb7f44a77'\n</code></pre>\n\n<p>Check which nunit-console/nunit assemblies that are installed... I assuming it is picking up old assemblies in the GAC.</p>\n\n<p>Lets start from the beginning:</p>\n\n<p>Get the latest and greatest NUnit <strong>AND</strong> it's Runner tools</p>\n\n<pre><code>curl https://api.nuget.org/downloads/nuget.exe -o nuget.exe\nmono nuget.exe install NUnit\nmono nuget.exe install NUnit.Runners\n</code></pre>\n\n<p>Make sure the mono is finding those assemblies first (vs the GAC)</p>\n\n<pre><code>export MONO_PATH=$(PWD)/NUnit.Runners.2.6.4/tools:$(PWD)/NUnit.2.6.4/lib\n</code></pre>\n\n<p>Create your test example and compile it:</p>\n\n<pre><code>vi OnlyTest.cs #Using the example in your question\nmcs OnlyTest.cs -target:library -r:NUnit.2.6.4/lib/nunit.framework.dll -out:OnlyTest.dll\n</code></pre>\n\n<p>Run it:</p>\n\n<pre><code>mono ./NUnit.Runners.2.6.4/tools/nunit-console.exe OnlyTest.dll -noresult\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Using default runtime: v4.0.30319\nNUnit-Console version 2.6.4.14350\nCopyright (C) 2002-2012 Charlie Poole.\nCopyright (C) 2002-2004 James W. Newkirk, Michael C. Two, Alexei A. Vorontsov.\nCopyright (C) 2000-2002 Philip Craig.\nAll Rights Reserved.\n\nRuntime Environment -\n   OS Version: Unix 14.3.0.0\n  CLR Version: 4.0.30319.17020 ( Mono 4.0 ( 4.3.0 (master/b044a27 Thu Jun 18 15:17:08 PDT 2015) ) )\n\nProcessModel: Default    DomainUsage: Single\nExecution Runtime: mono-4.0\n.\nTests run: 1, Errors: 0, Failures: 0, Inconclusive: 0, Time: 0.0280499 seconds\n  Not run: 0, Invalid: 0, Ignored: 0, Skipped: 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "is_accepted": false, "score": 0, "last_activity_date": 1435219243, "creation_date": 1435219243, "answer_id": 31044514, "question_id": 31038629, "link": "https://stackoverflow.com/questions/31038629/run-nunit-test-on-ubuntu-from-command-line/31044514#31044514", "title": "Run NUnit test on Ubuntu from command line", "body": "<p>FYI: I build mono from source as I'm on OS-X and the official disto is still 32-bit.</p>\n\n<p>Getting the the latest and greatest on Ubuntu:</p>\n\n<p>Debian, Ubuntu, and derivatives\nAdd the Mono Project GPG signing key and the package repository to your system (if you don\u2019t use sudo, be sure to switch to root):</p>\n\n<pre><code>sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF\necho \"deb http://download.mono-project.com/repo/debian wheezy main\" | sudo tee /etc/apt/sources.list.d/mono-xamarin.list\nsudo apt-get update\n</code></pre>\n\n<p>Run a package upgrade to upgrade existing packages to the latest available. Then install Mono as described in the Usage section.</p>\n\n<p>Note: While the APT package is built against Debian Wheezy, it is compatible with a number of Debian derivatives (including Ubuntu) which means you can use the same repository across all these distributions.</p>\n\n<p><a href=\"http://www.mono-project.com/docs/getting-started/install/linux/#debian-ubuntu-and-derivatives\" rel=\"nofollow\">http://www.mono-project.com/docs/getting-started/install/linux/#debian-ubuntu-and-derivatives</a></p>\n"}], "owner": {"reputation": 313, "user_id": 2314351, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/468119ab9c829de0ff2b0062b9afb164?s=128&d=identicon&r=PG", "display_name": "user2314351", "link": "https://stackoverflow.com/users/2314351/user2314351"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8613, "favorite_count": 4, "accepted_answer_id": 31041709, "answer_count": 2, "score": 6, "last_activity_date": 1435219243, "creation_date": 1435187183, "question_id": 31038629, "link": "https://stackoverflow.com/questions/31038629/run-nunit-test-on-ubuntu-from-command-line", "title": "Run NUnit test on Ubuntu from command line", "body": "<p>How to run NUnit test on Ubuntu from the command line?</p>\n\n<p>I've created file OnlyTest.cs</p>\n\n<pre><code>using System;\nusing System.Text;\nusing System.Collections.Generic;\nusing NUnit.Framework;\n\n[TestFixture]\npublic class OnlyTest\n{\n    [Test]\n    public void MyTest() \n    {\n        int a = 10;\n        Assert.AreEqual(10, a);\n    }\n}\n</code></pre>\n\n<p>According to article <a href=\"http://headsigned.com/article/running-nuget-command-line-on-linux\" rel=\"noreferrer\">Running NuGet command-line on Linux</a> I've downloaded files NuGet.exe and Microsoft.Build.dll </p>\n\n<p>I've run NuGet to install NUnit</p>\n\n<pre>\n    $ mono NuGet.exe install NUnit\n    Installing 'NUnit 2.6.4'.\n    Successfully installed 'NUnit 2.6.4'.\n\n    $ ls -lR\n    .:\n    razem 1668\n    -rw-rw-r-- 1 mw mw   28861 cze 24 23:45 Microsoft.Build.zip\n    -rw-rw-r-- 1 mw mw 1664512 cze 24 23:42 NuGet.exe\n    drwxrwxr-x 3 mw mw    4096 cze 25 00:29 NUnit.2.6.4\n    -rw-rw-r-- 1 mw mw     208 cze 25 00:27 OnlyTest.cs\n\n    ./NUnit.2.6.4:\n    razem 108\n    drwxrwxr-x 2 mw mw  4096 cze 25 00:29 lib\n    -rw-rw-r-- 1 mw mw  1131 cze 25 00:29 license.txt\n    -rw-rw-r-- 1 mw mw 99004 cze 25 00:29 NUnit.2.6.4.nupkg\n\n    ./NUnit.2.6.4/lib:\n    razem 720\n    -rw-rw-r-- 1 mw mw 151552 cze 25 00:29 nunit.framework.dll\n    -rw-rw-r-- 1 mw mw 584600 cze 25 00:29 nunit.framework.xml\n</pre>\n\n<p>Since I'm not sure about compiling and running</p>\n\n<p>Compiling hadn't produce any errors</p>\n\n<pre>\n mcs OnlyTest.cs -target:library -r:NUnit.2.6.4/lib/nunit.framework.dll -out:OnlyTest.dll\n</pre>\n\n<p>But when I try run nunit I get errors like</p>\n\n<pre>\n$ nunit-console OnlyTest.dll -noresult\nNUnit-Console version 2.6.0.0\nCopyright (C) 2002-2012 Charlie Poole.\nCopyright (C) 2002-2004 James W. Newkirk, Michael C. Two, Alexei A. Vorontsov.\nCopyright (C) 2000-2002 Philip Craig.\nAll Rights Reserved.\n\nRuntime Environment - \n   OS Version: Unix 3.16.0.30\n  CLR Version: 4.0.30319.17020 ( Mono 4.0 ( 3.2.8 (Debian 3.2.8+dfsg-4ubuntu1.1) ) )\n\nProcessModel: Default    DomainUsage: Single\nExecution Runtime: mono-4.0\nMissing method .ctor in assembly /[MY_PATH]/OnlyTest.dll, type NUnit.Framework.TestFixtureAttribute\nCan't find custom attr constructor image: /[MY_PATH]/OnlyTest.dll mtoken: 0x0a000001\nCould not load file or assembly 'nunit.framework, Version=2.6.4.14350, Culture=neutral, PublicKeyToken=96d09a1eb7f44a77' or one of its dependencies.\n</pre>\n\n<p>The same goes for <code>nunit-gui</code></p>\n"}, {"tags": ["c#", "sql-server", "database-deadlocks"], "comments": [{"owner": {"reputation": 573, "user_id": 4817023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e0998cae8b5b0a62dfd814b3c9e0a81?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/4817023/steve"}, "edited": false, "score": 0, "creation_date": 1435188347, "post_id": 31038565, "comment_id": 50101408, "body": "I have earned reputation points off of checking if any of the objects used are not being disposed of properly.  This behaviour is typical of that root cause, and  I do not see a using statement or a call to dispose in the code. Deadlock is happening when during a second execution a physical resource is being accessed that had not been disposed of in the first execution.  Right now I do not have time to go through the code to write a formal answer but I hope this helps."}, {"owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "edited": false, "score": 0, "creation_date": 1435188650, "post_id": 31038565, "comment_id": 50101498, "body": "Can you show us the code for <code>DocumentRepository repo = GetDocumentRepository(repositoryId);</code>"}, {"owner": {"reputation": 61, "user_id": 3755906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e156114d1af8e45acbcfc0273c605407?s=128&d=identicon&r=PG&f=1", "display_name": "nothingman", "link": "https://stackoverflow.com/users/3755906/nothingman"}, "edited": false, "score": 0, "creation_date": 1435189427, "post_id": 31038565, "comment_id": 50101691, "body": "<code>public DocumentRepository GetDocumentRepository(int repositoryId)         {             var result = DocumentRepositories.SingleOrDefault(x =&gt; x.RepositoryId == repositoryId);             return result;         }</code>"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1435189731, "post_id": 31038565, "comment_id": 50101759, "body": "@nothingman - It&#39;s much better that you edit your question to add code rather than put it in the comments. When you do add code, it&#39;s best to add the code at the end of your question so everyone can follow the changes easily."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1435189775, "post_id": 31038565, "comment_id": 50101771, "body": "@nothingman - I think you should also add the code that populates the <code>DocumentRepositories</code>."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1435189860, "post_id": 31038565, "comment_id": 50101797, "body": "@nothingman - And finally, can you please let us know what <code>_unitOfWork</code> is and why it appears to be a field-level variable? Usually a &quot;unit of work&quot; is created and closed each time it is needed."}], "answers": [{"tags": [], "owner": {"reputation": 11827, "user_id": 754049, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/pV5Na.jpg?s=128&g=1", "display_name": "Francisco Goldenstein", "link": "https://stackoverflow.com/users/754049/francisco-goldenstein"}, "is_accepted": false, "score": 0, "last_activity_date": 1435187613, "creation_date": 1435187613, "answer_id": 31038686, "question_id": 31038565, "link": "https://stackoverflow.com/questions/31038565/why-am-i-getting-a-deadlock-when-my-code-is-accessed-multiple-times/31038686#31038686", "title": "Why am I getting a deadlock when my code is accessed multiple times?", "body": "<p>Have you checked the code without defining a transaction explicitly? Based on your code I would say that you are trying to read something that has been modified but not commited.\nAnother test you could do is to try to add a breakpoint in your code and try to get the DocumentRepository using READ UNCOMMITTED.</p>\n"}], "owner": {"reputation": 61, "user_id": 3755906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e156114d1af8e45acbcfc0273c605407?s=128&d=identicon&r=PG&f=1", "display_name": "nothingman", "link": "https://stackoverflow.com/users/3755906/nothingman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435571509, "creation_date": 1435186849, "last_edit_date": 1435571509, "question_id": 31038565, "link": "https://stackoverflow.com/questions/31038565/why-am-i-getting-a-deadlock-when-my-code-is-accessed-multiple-times", "title": "Why am I getting a deadlock when my code is accessed multiple times?", "body": "<p>In my c# code I have the following method that creates a document in the database, adds metadata regarding the document to the database and then updates some information regarding the date the repository was last updated.  This method is often called numerous times in quick succession as multiple file uploads are common.  However I am having problems with the code failing due to deadlock in sql server. </p>\n\n<pre><code>private IEnumerable&lt;DocumentMetadata&gt; CreateDoc(int? jobId, int?repositoryId, int? folderId, string documentTypeString,       IEnumerable&lt;DocumentModel&gt; files)\n{\n    if ((jobId == null &amp;&amp; repositoryId == null) || (jobId != null &amp;&amp; repositoryId != null))\n        {\n            throw new InvalidOperationException(\"Either job id or repository id must be specified\");\n        }\n    using (var tran = new TransactionScope())\n    {\n        List&lt;DocumentMetadata&gt; newDocuments = new List&lt;DocumentMetadata&gt;();\n\n        var documentType = GetDocumentTypeByPrefix(documentTypeString);\n\n        if (folderId == null)\n        {\n            // Find the root folder\n            var job = getJob(jobId);\n            var rootFolder = getRootFolder(job);\n\n            // If we can't find a root folder, create one\n            if (rootFolder == null)\n            {\n                rootFolder = CreateRootDirectory(job);\n            }\n\n            folderId = rootFolder.FolderId;\n        }\n\n        User currentUser = _userService.GetCurrentUser();\n\n        foreach (var file in files)\n        {\n            var document = new Document() { Document1 = file.Data };\n            var documentMetadata = new DocumentMetadata\n            {\n                Document = document,\n                CreatedDate = file.CreatedDate,\n                FileName = file.Filename,\n                FileSize = file.Data.Length,\n                FolderId = folderId,\n                DocumentType = documentType,\n                JobId = jobId,\n                RepositoryId = repositoryId,\n                User = currentUser\n            };\n\n            _unitOfWork.DocumentMetadata.Add(documentMetadata);\n            newDocuments.Add(documentMetadata);\n        }\n\n        // set repository updated date \n        if (repositoryId != null)\n        {\n            DocumentRepository repo = GetDocumentRepository(repositoryId);\n            if (repo != null)\n            {\n                repo.UpdatedDate = new DateTimeOffset(DateTime.Now);\n            }\n        }\n\n        _unitOfWork.SaveChanges();\n        tran.Complete();\n\n        return newDocuments;\n    }\n}\n</code></pre>\n\n<p>After some debugging it would appear that the updating of the repository id is causing the deadlock problem.  If I remove this code block outside of the transaction all files are saved with no errors.</p>\n\n<p>Why would this code block</p>\n\n<pre><code>if (repositoryId != null)\n        {\n            DocumentRepository repo = GetDocumentRepository(repositoryId);\n            if (repo != null)\n            {\n                repo.UpdatedDate = new DateTimeOffset(DateTime.Now);\n            }\n        }\n</code></pre>\n\n<p>cause the deadlock? No other access is being made to the DocumentRepository table apart from in this method - as the locks are obtained in the same order surely there should be no deadlock?</p>\n\n<p>What is it about this code that is leading to deadlock?</p>\n\n<p>Updated: The code for GetDocumentRepository is:</p>\n\n<pre><code> public DocumentRepository GetDocumentRepository(int repositoryId) \n { \n     var result = DocumentRepositories.SingleOrDefault(x =&gt; x.RepositoryId == repositoryId); return result; \n }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "validation", "razor"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1435186550, "post_id": 31038484, "comment_id": 50100893, "body": "Not without using ajax to call a controller method based on the selected car, which returns a value indicating the number of seats."}, {"owner": {"reputation": 263, "user_id": 2925656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/77aebe733d1916e39d89ad1a38442094?s=128&d=identicon&r=PG&f=1", "display_name": "user2925656", "link": "https://stackoverflow.com/users/2925656/user2925656"}, "edited": false, "score": 0, "creation_date": 1435186644, "post_id": 31038484, "comment_id": 50100927, "body": "Could you please give some example of such a ajax or some source ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1435190734, "post_id": 31038484, "comment_id": 50102009, "body": "There are millions of examples of using ajax on the web. You need to do some research."}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 3877579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52e4f102cbb79303f383cd66475047d?s=128&d=identicon&r=PG&f=1", "display_name": "DanielVorph", "link": "https://stackoverflow.com/users/3877579/danielvorph"}, "is_accepted": true, "score": 1, "last_activity_date": 1435187729, "creation_date": 1435187729, "answer_id": 31038706, "question_id": 31038484, "link": "https://stackoverflow.com/questions/31038484/asp-net-razor-real-time-validation/31038706#31038706", "title": "asp.net razor real time validation", "body": "<pre><code>$.ajax({\n    type: \"GET\",        //GET or POST or PUT or DELETE verb\n    url: ajaxUrl,       // Location of the service\n    data: \"\",       //Data sent to server in your case CarID Selected\n    contentType: \"\",        // content type sent to server\n    dataType: \"json\",   //Expected data format from server\n    processdata: true,  //True or False\n    success: function (json) {//On Successful service call\n    var result = json.name;\n    $(\"#dvAjax\").html(result);\n    },\n    error: ServiceFailed    // When Service call fails\n});\n</code></pre>\n\n<p>And you must write a method in controller that returns Number of Seats in json, this method receives CarID parameter </p>\n"}], "owner": {"reputation": 263, "user_id": 2925656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/77aebe733d1916e39d89ad1a38442094?s=128&d=identicon&r=PG&f=1", "display_name": "user2925656", "link": "https://stackoverflow.com/users/2925656/user2925656"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "accepted_answer_id": 31038706, "answer_count": 1, "score": 0, "last_activity_date": 1435187729, "creation_date": 1435186301, "question_id": 31038484, "link": "https://stackoverflow.com/questions/31038484/asp-net-razor-real-time-validation", "title": "asp.net razor real time validation", "body": "<p>I have a bit of a problem and I would like to ask if it is possible and if yes how. For example you have a Create form for Reservation in Car Rental. </p>\n\n<pre><code>Car model containts information like:\nbrand,model,costPerHour, NumberOfSeats(how many seat 4,5,7,...)\n</code></pre>\n\n<p>In Create form - dropdown list:</p>\n\n<pre><code>&lt;div class=\"editor-label\"&gt;\n  @Html.LabelFor(model =&gt; model.CarId, \"Car\")\n&lt;/div&gt;\n&lt;div class=\"editor-field\"&gt;\n  @Html.DropDownList(\"CarId\", String.Empty)\n  @Html.ValidationMessageFor(model =&gt; model.CarId)\n&lt;/div&gt;\n</code></pre>\n\n<p>Under dropdown there will be slider with number of persons that are gonna travel.</p>\n\n<pre><code>&lt;div class=\"editor-label\"&gt;\n  @Html.LabelFor(model =&gt; model.PersonsInCar)\n&lt;/div&gt;\n&lt;div class=\"editor-field\"&gt;\n  @Html.EditorFor(model =&gt; model.PersonsInCar)\n  @Html.ValidationMessageFor(model =&gt; model.PersonsInCar)\n&lt;/div&gt;\n</code></pre>\n\n<p>Is there a way to limit editor for PersonsInCar, depending on Car.NumberOfSeats (from 1 to number of seats of selected car)? \nThank you for any help.</p>\n"}, {"tags": ["c#", "export-to-excel", "sqldatetime"], "comments": [{"owner": {"reputation": 403, "user_id": 718373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QHw2j.png?s=128&g=1", "display_name": "fujiFX", "link": "https://stackoverflow.com/users/718373/fujifx"}, "edited": false, "score": 0, "creation_date": 1435189103, "post_id": 31038445, "comment_id": 50101607, "body": "if <code>item.paid_date == null</code> is not yielding the desired results, you can try the <code>item.paid_date == System.DBNull.Value</code>. Also <code>IDataReader</code> object has a <code>IsDbNull</code> method and you should be able to make use of it if the SQL result is stored in a DataReader. eg. <code>IDataReader reader;  sqlReader = ExecuteReader(&quot;StoredProc&quot;,args);  if (!sqlReader.IsDbNull(0))   tmp = reader.GetString(0);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 1570597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fc07212dc4e8a830724572ce6597937?s=128&d=identicon&r=PG", "display_name": "Miroslav Bihari", "link": "https://stackoverflow.com/users/1570597/miroslav-bihari"}, "is_accepted": false, "score": 0, "last_activity_date": 1435186319, "creation_date": 1435186319, "answer_id": 31038487, "question_id": 31038445, "link": "https://stackoverflow.com/questions/31038445/replacing-01-01-1900-from-sql-resultset-and-exporting-to-excel-using-c/31038487#31038487", "title": "Replacing 01/01/1900 from SQL resultset and exporting to Excel using C#", "body": "<p>have you tried:</p>\n\n<pre><code>worksheet.Cells[rowNumber, 11].Value = item.paid_date == null ? string.Empty : item.paid_date.ToShortDateString(); \n</code></pre>\n\n<p>?</p>\n"}], "owner": {"reputation": 69, "user_id": 2034556, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e8c7c762c850428241d0aea734c09dc0?s=128&d=identicon&r=PG", "display_name": "Hamza Zahir", "link": "https://stackoverflow.com/users/2034556/hamza-zahir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435190306, "creation_date": 1435186043, "last_edit_date": 1435190306, "question_id": 31038445, "link": "https://stackoverflow.com/questions/31038445/replacing-01-01-1900-from-sql-resultset-and-exporting-to-excel-using-c", "title": "Replacing 01/01/1900 from SQL resultset and exporting to Excel using C#", "body": "<pre><code>                foreach (var item in bh)\n        {\n            worksheet.Cells[rowNumber, 1].Value = item.bill_number;\n            worksheet.Cells[rowNumber, 2].Value = item.yearref + @\"\\\" + item.monthref;\n            worksheet.Cells[rowNumber, 3].Value = item.stdate.ToShortDateString();\n            worksheet.Cells[rowNumber, 4].Value = item.enddate.ToShortDateString();\n            worksheet.Cells[rowNumber, 5].Value = item.duration;\n            worksheet.Cells[rowNumber, 6].Value = item.last_reading;\n            worksheet.Cells[rowNumber, 7].Value = item.new_reading;\n            worksheet.Cells[rowNumber, 8].Value = item.usage;\n            worksheet.Cells[rowNumber, 9].Value = item.totaldueamt;\n            worksheet.Cells[rowNumber, 10].Value = item.total_paid;\n            worksheet.Cells[rowNumber, 11].Value = item.paid_date.ToShortDateString();     }\n</code></pre>\n\n<p>I have the above code that loops through an SQL resultset which is later used to export to Excel, when the item.paid_date is null, in the exported Excel sheet the date is shown as 01/01/1900, How can I replace item.paid_date with '' if date is null?  </p>\n\n<p>Here is the store procedure, at times there won't be any record in the reading table where <code>where bg.bill_number = p.bill_number</code></p>\n\n<pre><code>CREATE PROCEDURE [dbo].[BillHistory] @accNo varchar(50) as begin select bg.Id, bg.account_number, bg.bill_number, bg.year, bg.month, bg.usagetotal, bg.fineamt, bg.fuelcharge, bg.othercharge, bg.totalamt, bg.totaldueamt, bg.billdate, bg.bill_due_date, bg.outstanding_amt, bg.[desc], readingId = re.Id, re.accountno, re.oldccountNo, re.new_reading, re.last_reading, re.meterno, re.yearref , re.monthref , re.referencecount, re.stdate, re.enddate, current_reading_date = re.created_on, pre_reading_date = isnull((select top 1 c.created_on from reading c where c.accountno = @accNo and c.Id &lt; re.Id order by c.Id desc),CAST(-53690 as datetime)), re.duration, re.usage, re.averageusage, re.averageconsumption, isnull((select p.total_paid from payment p where bg.bill_number = p.bill_number ),0) as total_paid, isnull((select p.created_on from payment p where bg.bill_number = p.bill_number ),0) as paid_date from reading re join billing_gen bg on re.Id=bg.reading_id where re.accountno = @accNo and bg.enable=1 order by bg.Id asc; end;\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "linq"], "comments": [{"owner": {"reputation": 415, "user_id": 4707373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kDa90eSH1qA/AAAAAAAAAAI/AAAAAAAAABs/nxfLGtuIk4M/photo.jpg?sz=128", "display_name": "Malte R", "link": "https://stackoverflow.com/users/4707373/malte-r"}, "edited": false, "score": 0, "creation_date": 1435186020, "post_id": 31038378, "comment_id": 50100750, "body": "Could you be more specific? What do you want your PersonID to be? &#180;.Where()&#180; returns a collection, is this what you want? Do you want to store it when the name is displayed?"}, {"owner": {"reputation": 415, "user_id": 4707373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kDa90eSH1qA/AAAAAAAAAAI/AAAAAAAAABs/nxfLGtuIk4M/photo.jpg?sz=128", "display_name": "Malte R", "link": "https://stackoverflow.com/users/4707373/malte-r"}, "edited": false, "score": 0, "creation_date": 1435186310, "post_id": 31038378, "comment_id": 50100825, "body": "Please provide more code.  What is <code>Names</code>, <code>model</code> and <code>contactIDquery</code>, and where is this supposed to be saved?"}, {"owner": {"reputation": 147, "user_id": 4997287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51c1678c658d67e46b82d18da30039c5?s=128&d=identicon&r=PG&f=1", "display_name": "Louise", "link": "https://stackoverflow.com/users/4997287/louise"}, "edited": false, "score": 0, "creation_date": 1435186330, "post_id": 31038378, "comment_id": 50100835, "body": "So NameFull is the list of names that are in the table. I want to get the one name that is chosen by the user (implemented as a DropDownList)"}, {"owner": {"reputation": 147, "user_id": 4997287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51c1678c658d67e46b82d18da30039c5?s=128&d=identicon&r=PG&f=1", "display_name": "Louise", "link": "https://stackoverflow.com/users/4997287/louise"}, "edited": false, "score": 0, "creation_date": 1435186438, "post_id": 31038378, "comment_id": 50100867, "body": "Names is the ViewBag that I am using to display the output - will add to code."}, {"owner": {"reputation": 415, "user_id": 4707373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kDa90eSH1qA/AAAAAAAAAAI/AAAAAAAAABs/nxfLGtuIk4M/photo.jpg?sz=128", "display_name": "Malte R", "link": "https://stackoverflow.com/users/4707373/malte-r"}, "edited": false, "score": 0, "creation_date": 1435186558, "post_id": 31038378, "comment_id": 50100898, "body": "Doesn&#39;t the DropDownList have a <code>.SelectedValue</code> property that gives you what you need?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1435189727, "post_id": 31038378, "comment_id": 50101758, "body": "How does the user make a selection? If is from a dropdownlist (as suggested by the use of <code>SelectList</code>), then bind it to a <code>PersonID</code> property so it submits the value (no need for a database call)"}], "answers": [{"tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": true, "score": 1, "last_activity_date": 1435253852, "last_edit_date": 1435253852, "creation_date": 1435194798, "answer_id": 31039648, "question_id": 31038378, "link": "https://stackoverflow.com/questions/31038378/asp-net-mvc-concatenate-names-and-map-to-id/31039648#31039648", "title": "ASP.NET MVC concatenate names and map to ID#", "body": "<h1>Running Fiddle</h1>\n\n<p>Here is <a href=\"https://dotnetfiddle.net/u7gZhY\" rel=\"nofollow\">a running fiddle</a> that I created for you. Select a person and click submit. The selected person's id will display after the HTTP post.</p>\n\n<h1>Model</h1>\n\n<p><code>MyViewModel</code> contains a <code>List</code> of persons and a <code>SelectedPersonID</code>. It is this view model that we bind to <code>DropDownListFor</code>.</p>\n\n<pre><code>using System.Collections.Generic;\n\nnamespace HelloWorld\n{\n    public class MyViewModel\n    {\n        public int SelectedPersonID { get; set; }\n        public List&lt;Person&gt; Persons { get; set; }\n    }\n\n    public class Person\n    {\n        public int PersonID  { get; set; }\n        public string First { get; set; }\n        public string Last { get; set; }\n\n        public string NameFull\n        {\n            get {\n\n                return First + \" \" + Last;\n            }\n        }\n    }\n}\n</code></pre>\n\n<h1>View</h1>\n\n<p>We bind the <code>DropDownListFor</code> to <code>MyViewModel</code>. Specifically, the first parameter is the current <code>SelectedPersonId</code>, and the second parameter is a new <code>SelectList</code> that we create from our view model.</p>\n\n<pre><code>@model HelloWorld.MyViewModel\n@{\n    Layout = null;\n}\n\n&lt;!DOCTYPE html&gt;    \n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;&lt;/head&gt;\n    &lt;body&gt;\n\n        @using (Html.BeginForm())\n        {\n            @Html.DropDownListFor(\n                m =&gt; m.SelectedPersonID, \n                new SelectList(Model.Persons, \"PersonID\", \"NameFull\"))\n            &lt;button type=\"sumbit\"&gt;Submit&lt;/button&gt;\n        }\n        &lt;span&gt;Selected Person's ID is @Model.SelectedPersonID&lt;/span&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h1>Controller</h1>\n\n<p>On the post back to the controller, we can retrieve the <code>SelectedPersonID</code>.</p>\n\n<pre><code>using System.Web.Mvc;\nusing System.Collections.Generic;\nusing System.Linq;\n\nnamespace HelloWorld\n{\n    public class HomeController : Controller\n    {\n        public FakeDb fakeDb = new FakeDb();\n\n        [HttpGet]\n        public ActionResult Index()\n        {\n            var vm = new MyViewModel {\n                SelectedPersonID = fakeDb.Persons.FirstOrDefault().PersonID,\n                Persons = fakeDb.Persons\n            };\n\n            return View(vm);\n        }\n\n        [HttpPost]\n        public ActionResult Index(MyViewModel vm)\n        {\n            // this is redundant \n            // but illustrates how to access the selected id  \n            vm.SelectedPersonID = vm.SelectedPersonID;\n            vm.Persons = fakeDb.Persons;\n\n            return View(vm);\n        }\n    }\n}\n</code></pre>\n\n<h1>FakeDb</h1>\n\n<p>This is just for demo purposes.</p>\n\n<pre><code>public class FakeDb\n{\n    public List&lt;Person&gt; Persons\n    {\n        get\n        {\n            var persons = new List&lt;Person&gt;();\n            for (var i = 0; i &lt; 10; ++i)\n            {\n                persons.Add(new Person()\n                {\n                    First = \"First\" + i, \n                    Last = \"Last\" + i, \n                    PersonID = i\n                });\n            }\n\n            return persons; \n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23878, "user_id": 225799, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1614284ac92e0d49c3afac54cd04d0bc?s=128&d=identicon&r=PG", "display_name": "Brendan Vogt", "link": "https://stackoverflow.com/users/225799/brendan-vogt"}, "is_accepted": false, "score": 2, "last_activity_date": 1435225032, "creation_date": 1435225032, "answer_id": 31046566, "question_id": 31038378, "link": "https://stackoverflow.com/questions/31038378/asp-net-mvc-concatenate-names-and-map-to-id/31046566#31046566", "title": "ASP.NET MVC concatenate names and map to ID#", "body": "<p>If I understand you correctly then you want the first name and last name to be displayed in the dropdown and when a user selects a name combination, then the person's ID has to be used instead? If so, then the code below is based on my assumptions above.</p>\n\n<p>I have created the necessary classes as what I would have done it. Please excuse if I have left something out, the code below is not tested.</p>\n\n<p>Your <code>Person</code> class will look something like this:</p>\n\n<pre><code>public class Person\n{\n     public int Id { get; set; }\n\n     public string FirstName { get; set; }\n\n     public string LastName { get; set; }\n\n     public string FullName\n     {\n          get\n          {\n               return FirstName + \" \" + LastName;\n          }\n     }\n}\n</code></pre>\n\n<p>I haven't worked with <code>Entity Framework</code> in ages, not sure if it will complain about <code>FullName</code> not being a column name in the persons table.</p>\n\n<p>Create a <code>PersonViewModel</code> class that you will pass into the view.</p>\n\n<pre><code>public class PersonViewModel\n{\n     public PersonViewModel()\n     {\n          Persons = new List&lt;Person&gt;();\n     }\n\n     public int PersonId { get; set; }\n\n     public List&lt;Person&gt; Persons { get; set; }\n}\n</code></pre>\n\n<p>In your controller you will have something like this:</p>\n\n<pre><code>public ActionResult Create()\n{\n     PersonViewModel model = new PersonViewModel();\n\n     // Get a list of all the people\n     // I can't remember how to use Entity Framework to get a list of all the people,\n     // it's something like the code below\n     model.Persons = db.Persons;\n\n     return View(model);\n}\n</code></pre>\n\n<p>Your post action method:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Create(PersonViewModel model)\n{\n     // Do whatever you need to do\n}\n</code></pre>\n\n<p>In your view the code will look like this:</p>\n\n<pre><code>@Html.DropDownListFor(\n     x =&gt; x.PersonId,\n     new SelectList(Model.Persons, \"Id\", \"FullName\", Model.PersonId),\n     \"-- Select --\"\n)\n</code></pre>\n\n<p>The code above should display the first name and last name in the \"text\" part of the dropdown, and the ID of the person in the value of the dropdown.</p>\n\n<p>I hope you come right :)</p>\n"}], "owner": {"reputation": 147, "user_id": 4997287, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51c1678c658d67e46b82d18da30039c5?s=128&d=identicon&r=PG&f=1", "display_name": "Louise", "link": "https://stackoverflow.com/users/4997287/louise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2379, "favorite_count": 0, "accepted_answer_id": 31039648, "answer_count": 2, "score": 1, "last_activity_date": 1525272085, "creation_date": 1435185715, "last_edit_date": 1525272085, "question_id": 31038378, "link": "https://stackoverflow.com/questions/31038378/asp-net-mvc-concatenate-names-and-map-to-id", "title": "ASP.NET MVC concatenate names and map to ID#", "body": "<p>I have a table which stores Person.  The attributes are <code>FirstName</code>, <code>LastName</code> and <code>PersonID</code>. I have added the attribute</p>\n\n<pre><code>public string NameFull { get { return FirstName + \" \" + LastName; } } \n</code></pre>\n\n<p>and I am able to display the output as a concatenated name. </p>\n\n<p>However, when the user makes the selection of the name, I want to store it as the PersonID.</p>\n\n<p>Currently, I have this as my linq Where statement:</p>\n\n<pre><code>var personID= db.Persons\n         .Where(h =&gt; Names == model.Person.NameFull)\n         .Select(h =&gt; h.PersonID);\nvar idToSave = personID.AsEnumerable().FirstOrDefault().Trim().ToString();\n</code></pre>\n\n<p>In the controller:</p>\n\n<pre><code>SelectList names = new SelectList(db.Person.ToArray(), \"PersonID\", \"NameFull\");\nViewBag.Names = names;\n</code></pre>\n\n<p>Would anyone be able to point me in the right direction?</p>\n"}, {"tags": ["c#", "asp.net-web-api", "moq"], "answers": [{"tags": [], "owner": {"reputation": 12766, "user_id": 863240, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/a2221c5cbaa548f9022616b4f6d6a59a?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Du\u0161ek", "link": "https://stackoverflow.com/users/863240/daniel-du%c5%a1ek"}, "is_accepted": true, "score": 1, "last_activity_date": 1435224968, "creation_date": 1435224968, "answer_id": 31046532, "question_id": 31038368, "link": "https://stackoverflow.com/questions/31038368/add-accepttype-to-mock-of-httprequestbase/31046532#31046532", "title": "Add AcceptType to Mock of HttpRequestBase", "body": "<p>Have you tryied to create the <em>fake headers collection</em> first and then return it from <code>Setup</code> of <code>Headers</code>?</p>\n\n<pre><code>NameValueCollection fakeHeaders = new NameValueCollection();\nfakeHeaders.Add(\"AcceptType\", \"ABC\");\nfakeHeaders.Add(\"AcceptType\", \"QWE\");\n\nMock&lt;HttpRequestBase&gt; requestBaseMock = new Mock&lt;HttpRequestBase&gt;();\nrequestBaseMock.Setup(r =&gt; r.HttpMethod).Returns(\"POST\");\nrequestBaseMock.Setup(r =&gt; r.Headers).Returns(fakeHeaders);\n</code></pre>\n"}], "owner": {"reputation": 4631, "user_id": 1278561, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ddda7f523105fc2aabfb9434c5ddd01f?s=128&d=identicon&r=PG", "display_name": "GPGVM", "link": "https://stackoverflow.com/users/1278561/gpgvm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 31046532, "answer_count": 1, "score": 1, "last_activity_date": 1435238954, "creation_date": 1435185667, "last_edit_date": 1495540710, "question_id": 31038368, "link": "https://stackoverflow.com/questions/31038368/add-accepttype-to-mock-of-httprequestbase", "title": "Add AcceptType to Mock of HttpRequestBase", "body": "<p>Simple question here. I am trying to mock the HttpRequestBase and add two AcceptTypes.</p>\n\n<p>I thought this was the approach but it wasn't and Googling / digging around has not revealed anything to me.</p>\n\n<pre><code>var request = new Mock&lt;HttpRequestBase&gt;();\n   request.Setup(p =&gt; p.HttpMethod).Returns(\"POST\");\n   request.Setup(a =&gt; a.Headers.Add(\"AcceptType\", \"ABC\"));\n   request.Setup(z =&gt; z.Headers.Add(\"AcceptType\", \"QWE\"));\n</code></pre>\n\n<h2>EDIT</h2>\n\n<p>According to the answer by <a href=\"https://stackoverflow.com/users/863240/dee\">dee</a> I understood how I misunderstood the Mock setup / Returns combination.</p>\n\n<p>So my final answer is as seen below but it came about completely by the answer given.</p>\n\n<pre><code>new string[] fakeHeaders = new string[]\n{ \"ABC\",\"QWE\" };\n\nMock&lt;HttpRequestBase&gt; requestBaseMock = new Mock&lt;HttpRequestBase&gt;();\nrequestBaseMock.Setup(r =&gt; r.HttpMethod).Returns(\"POST\");\nrequestBaseMock.Setup(r =&gt; r.Headers).Returns(fakeHeaders);\n</code></pre>\n"}, {"tags": ["c#", "wpf", "mvvm", "telerik"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1435188922, "post_id": 31038286, "comment_id": 50101571, "body": "Your code example is far too complicated, and yet is also incomplete. Please provide <a href=\"https://stackoverflow.com/help/mcve\">a good, <i>minimal</i>, <i>complete</i> code example</a> that reliably reproduces the problem."}, {"owner": {"reputation": 164, "user_id": 2213536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e7f7fda94103fb8c8e4d22469a1db9?s=128&d=identicon&r=PG", "display_name": "Nathan White", "link": "https://stackoverflow.com/users/2213536/nathan-white"}, "edited": false, "score": 0, "creation_date": 1435190759, "post_id": 31038286, "comment_id": 50102014, "body": "everytime you are using OnPropertyChanged(); - should you be telling the function what property to notify of change?  public string SystemId     {         get { return _systemId; }         set         {             _systemId = value;              OnPropertyChanged(&quot;SystemId&quot;);         }     }"}, {"owner": {"reputation": 1742, "user_id": 3817502, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YcBpO.jpg?s=128&g=1", "display_name": "coolboyjules", "link": "https://stackoverflow.com/users/3817502/coolboyjules"}, "edited": false, "score": 0, "creation_date": 1435236284, "post_id": 31038286, "comment_id": 50122418, "body": "ReSharper makes an implementation of INotifyPropertyChanged that supposedly does this for you. What really makes no sense here is that it will work 80% of the time, but occasionally the bindings won&#39;t update. I&#39;ve even tried breaking the MVVM paradigm and manually doing the update in the view but still it will not work."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1435241710, "post_id": 31038286, "comment_id": 50126841, "body": "Grab Snoop.  Use it at runtime to examine your bindings.  Might help."}, {"owner": {"reputation": 1742, "user_id": 3817502, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YcBpO.jpg?s=128&g=1", "display_name": "coolboyjules", "link": "https://stackoverflow.com/users/3817502/coolboyjules"}, "edited": false, "score": 0, "creation_date": 1435243395, "post_id": 31038286, "comment_id": 50128287, "body": "I&#39;ve got snoop. Pretty cool. There are no errors in my bindings. What troubles me is that shouldn&#39;t my ViewModel&#39;s collections be changed when I add / remove to my bound collections, before I press any commit button? Currently it only changes when I press the commit button."}, {"owner": {"reputation": 1742, "user_id": 3817502, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YcBpO.jpg?s=128&g=1", "display_name": "coolboyjules", "link": "https://stackoverflow.com/users/3817502/coolboyjules"}, "edited": false, "score": 0, "creation_date": 1435256135, "post_id": 31038286, "comment_id": 50136649, "body": "I fixed it. I was triggering a &#39;refresh&#39; command before this one which effectively locally undid my changes that I wanted to commit. Snoop helped me and showed me that there were two PropertyChanged evnets."}], "owner": {"reputation": 1742, "user_id": 3817502, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YcBpO.jpg?s=128&g=1", "display_name": "coolboyjules", "link": "https://stackoverflow.com/users/3817502/coolboyjules"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 306, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435242220, "creation_date": 1435185191, "last_edit_date": 1435242220, "question_id": 31038286, "link": "https://stackoverflow.com/questions/31038286/inexplicable-wpf-binding-error-source-property-not-updating", "title": "Inexplicable WPF Binding Error. Source Property Not Updating", "body": "<p>I am using a RadListBox in MVVM to do drag and drop between two RadListBox's. Each of them hold a ObservableCollection where ApplicationPermission implements INotifyPropertyChanged. The DataContext is the view model.</p>\n\n<pre><code>public class PermissionPortfolio : INotifyPropertyChanged, IEquatable&lt;PermissionPortfolio&gt;\n{\n    private string _systemId;\n    private string _shortName;\n    private string _accessType;\n    private decimal _accountId;\n    private string _longName;\n\n\n    public string LongName\n    {\n        get { return _longName; }\n        set\n        {\n            _longName = value; \n            OnPropertyChanged();\n        }\n    }\n\n    public string SystemId\n    {\n        get { return _systemId; }\n        set\n        {\n            _systemId = value; \n            OnPropertyChanged();\n        }\n    }\n\n    public string ShortName\n    {\n        get { return _shortName; }\n        set\n        {\n            _shortName = value; \n            OnPropertyChanged();\n        }\n    }\n\n    public string AccessType\n    {\n        get { return _accessType; }\n        set\n        {\n            _accessType = value;\n            OnPropertyChanged();\n        }\n    }\n\n    public decimal AccountId\n    {\n        get { return _accountId; }\n        set\n        {\n            _accountId = value; \n            OnPropertyChanged();\n        }\n    }\n\n    public bool Equals(PermissionPortfolio other)\n    {\n        return other.ShortName.Equals(ShortName) &amp;&amp;\n               other.SystemId.Equals(SystemId) &amp;&amp; other.AccountId == AccountId;\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    [NotifyPropertyChangedInvocator]\n    protected virtual void OnPropertyChanged([CallerMemberName] string propertyName = null)\n    {\n        var handler = PropertyChanged;\n        if (handler != null) handler(this, new PropertyChangedEventArgs(propertyName));\n    }\n}\n</code></pre>\n\n<p>I've made a custom ListBoxDragDropBehavior which will handle the drops into the second list box:</p>\n\n<pre><code>public class UserPortfolioListBoxDragDropBehavior : ListBoxDragDropBehavior\n{\n    public override void Drop(DragDropState state)\n    {\n        if (state.IsSameControl) return;\n        foreach (PermissionPortfolio portfolio in state.DraggedItems)\n        {\n            if (String.IsNullOrEmpty(portfolio.AccessType))\n            {\n                AccessTypeDialog window = new AccessTypeDialog();\n                if (window.ShowDialog() == true)\n                {\n                    portfolio.AccessType = window.Answer();\n                }\n            }\n            else\n            {\n                DragDropCanceled(state);\n                return;\n            }\n        }\n        base.Drop(state);\n    }\n\n}\n</code></pre>\n\n<p>My XAML:</p>\n\n<pre><code>&lt;StackPanel Grid.Row=\"2\" Grid.Column=\"1\" Margin=\"5\"&gt;\n            &lt;Label Content=\"Available portfolios:\"&gt;&lt;/Label&gt;\n            &lt;telerik:RadListBox x:Name=\"AllPortfolios\" TextPath=\"ShortName\" AllowDrop=\"True\" ItemTemplate=\"{StaticResource AvailablePortfolioCustomTemplate}\" ItemContainerStyle=\"{StaticResource DraggableListBoxItem}\" MaxHeight=\"200\" SelectionMode=\"Extended\" ItemsSource=\"{Binding Path=AllPortfolios, Mode=TwoWay}\" MinHeight=\"20\" Margin=\"10\" &gt;\n                &lt;telerik:RadListBox.DragDropBehavior&gt;\n                    &lt;telerik:ListBoxDragDropBehavior/&gt;\n                &lt;/telerik:RadListBox.DragDropBehavior&gt;\n            &lt;/telerik:RadListBox&gt;\n        &lt;/StackPanel&gt;\n        &lt;StackPanel Grid.Row=\"2\" Grid.Column=\"2\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\"/&gt;\n        &lt;StackPanel Grid.Row=\"2\" Grid.Column=\"2\" Margin=\"5\"&gt;\n            &lt;Label Content=\"Current portfolios for user:\"&gt;&lt;/Label&gt;\n            &lt;telerik:RadListBox x:Name=\"UserPortfolios\" AllowDrop=\"True\" ItemTemplate=\"{StaticResource UserPortfoliosCustomTemplate}\" ItemContainerStyle=\"{StaticResource DraggableListBoxItem}\" SelectionMode=\"Extended\" ItemsSource=\"{Binding Path=UserPortfolios, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}\" MinHeight=\"20\" Margin=\"10\" MaxHeight=\"200\"&gt;\n                &lt;telerik:RadListBox.DragDropBehavior&gt;\n                    &lt;!--&lt;telerik:ListBoxDragDropBehavior/&gt;--&gt;\n                    &lt;meshPermissionsGui:UserPortfolioListBoxDragDropBehavior/&gt;\n                &lt;/telerik:RadListBox.DragDropBehavior&gt;\n            &lt;/telerik:RadListBox&gt;\n        &lt;/StackPanel&gt;\n</code></pre>\n\n<p>When the update button is pressed on the MainWindowViewModel, it triggers the WriteAll command which does this: </p>\n\n<pre><code>// Applications\n\n            List&lt;PermissionApplication&gt; appsToDelete = new List&lt;PermissionApplication&gt;();\n            List&lt;PermissionApplication&gt; appsToAddOrEdit = new List&lt;PermissionApplication&gt;();\n\n            foreach (\n                PermissionApplication permissionApplication in _vm.Model.GetApplicationsForUser(_vm.SelectedUser))\n            {\n                if (!_vm.UserApplications.Contains(permissionApplication)) // remove ones that were deleted\n                    appsToDelete.Add(permissionApplication);\n            }\n            foreach (PermissionApplication permissionApplication in _vm.UserApplications) // add or edit new ones\n            {\n                appsToAddOrEdit.Add(permissionApplication);\n            }\n\n\n            _vm.Model.AddOrEditUserApplications(appsToAddOrEdit, _vm.SelectedUser);\n            _vm.Model.DeleteUserApplications(appsToDelete, _vm.SelectedUser);\n\n            // end applications\n            // Groups\n            List&lt;Group&gt; groupsToDelete = new List&lt;Group&gt;();\n            List&lt;Group&gt; groupsToAddOrEdit = new List&lt;Group&gt;();\n\n            foreach (Group g in _vm.Model.GetGroupsForUser(_vm.SelectedUser))\n            {\n                if (!_vm.UserGroups.Contains(g))\n                    groupsToDelete.Add(g);\n            }\n\n            foreach (Group g in _vm.UserGroups)\n            {\n                groupsToAddOrEdit.Add(g);\n            }\n\n            _vm.Model.AddOrEditUserGroups(groupsToAddOrEdit, _vm.SelectedUser);\n            _vm.Model.DeleteUserGroups(groupsToDelete, _vm.SelectedUser);\n\n            //ends groups\n            //Portfolios\n\n            List&lt;PermissionPortfolio&gt; portfoliosToDelete = new List&lt;PermissionPortfolio&gt;();\n            List&lt;PermissionPortfolio&gt; portfoliosToAddOrEdit = new List&lt;PermissionPortfolio&gt;();\n\n            foreach (PermissionPortfolio portfolio in _vm.Model.GetUserPortfolios(_vm.SelectedUser))\n            {\n                if (!_vm.UserPortfolios.Contains(portfolio))\n                    portfoliosToDelete.Add(portfolio);\n            }\n\n            foreach (PermissionPortfolio portfolio in _vm.UserPortfolios)\n            {\n                portfoliosToAddOrEdit.Add(portfolio);\n            }\n\n            _vm.Model.AddOrEditUserPortfolios(portfoliosToAddOrEdit, _vm.SelectedUser);\n            _vm.Model.DeleteUserPortfolios(portfoliosToDelete, _vm.SelectedUser);\n\n            // end portfolios\n</code></pre>\n\n<p>When the user drags one into the second box, regardless of the previous state of the target box, it <em>should</em> write everything that is in that box. If something is removed that was previously there, it will delete from the database. This whole thing is supposed to be a GUI to manage database permissions. </p>\n\n<p>The count property of the observable collection is always correct. But sometimes the items are incorrect. It may work for the first 5-6 times and then the 7th time it will break. I am completely stumped. </p>\n\n<p>Thanks for your help!</p>\n\n<p>EDIT: My full command class in ViewModel:</p>\n\n<pre><code>public class WriteAllCommand : ICommand\n    {\n        public MainWindowViewModel Vm\n        {\n            get { return _vm; }\n            set\n            {\n                _vm = value; \n                Debugger.Break();\n            }\n        }\n\n\n        public WriteAllCommand(MainWindowViewModel vm)\n        {\n            Vm = vm;\n        }\n\n        public void Execute(object parameter)\n        {\n            AppConfiguration.Log.Write(LogLevel.Info, \"WriteAll Command Activated\");\n\n            // Applications\n\n            List&lt;PermissionApplication&gt; appsToDelete = new List&lt;PermissionApplication&gt;();\n            List&lt;PermissionApplication&gt; appsToAddOrEdit = new List&lt;PermissionApplication&gt;();\n\n            foreach (\n                PermissionApplication permissionApplication in Vm.Model.GetApplicationsForUser(Vm.SelectedUser))\n            {\n                if (!Vm.UserApplications.Contains(permissionApplication)) // remove ones that were deleted\n                    appsToDelete.Add(permissionApplication);\n            }\n            foreach (PermissionApplication permissionApplication in Vm.UserApplications) // add or edit new ones\n            {\n                appsToAddOrEdit.Add(permissionApplication);\n            }\n\n\n            Vm.Model.AddOrEditUserApplications(appsToAddOrEdit, Vm.SelectedUser);\n            Vm.Model.DeleteUserApplications(appsToDelete, Vm.SelectedUser);\n\n            // end applications\n            // Groups\n            List&lt;Group&gt; groupsToDelete = new List&lt;Group&gt;();\n            List&lt;Group&gt; groupsToAddOrEdit = new List&lt;Group&gt;();\n\n            foreach (Group g in Vm.Model.GetGroupsForUser(Vm.SelectedUser))\n            {\n                if (!Vm.UserGroups.Contains(g))\n                    groupsToDelete.Add(g);\n            }\n\n            foreach (Group g in Vm.UserGroups)\n            {\n                groupsToAddOrEdit.Add(g);\n            }\n\n            Vm.Model.AddOrEditUserGroups(groupsToAddOrEdit, Vm.SelectedUser);\n            Vm.Model.DeleteUserGroups(groupsToDelete, Vm.SelectedUser);\n\n            //ends groups\n            //Portfolios\n\n            List&lt;PermissionPortfolio&gt; portfoliosToDelete = new List&lt;PermissionPortfolio&gt;();\n            List&lt;PermissionPortfolio&gt; portfoliosToAddOrEdit = new List&lt;PermissionPortfolio&gt;();\n\n            foreach (PermissionPortfolio portfolio in Vm.Model.GetUserPortfolios(Vm.SelectedUser))\n            {\n                if (!Vm.UserPortfolios.Contains(portfolio))\n                    portfoliosToDelete.Add(portfolio);\n            }\n\n            foreach (PermissionPortfolio portfolio in Vm.UserPortfolios)\n            {\n                portfoliosToAddOrEdit.Add(portfolio);\n            }\n\n            Vm.Model.AddOrEditUserPortfolios(portfoliosToAddOrEdit, Vm.SelectedUser);\n            Vm.Model.DeleteUserPortfolios(portfoliosToDelete, Vm.SelectedUser);\n\n            // end portfolios\n\n\n            Vm.Refresh.Execute(null);\n\n        }\n\n        bool _canexecute = true;\n        private MainWindowViewModel _vm;\n        public bool CanExecute(object parameter) { return _canexecute; }\n        public event EventHandler CanExecuteChanged { add { } remove { } }\n    }\n</code></pre>\n\n<p>The Binding debug when I call the command. This is when it fails:</p>\n\n<pre><code>System.Windows.Data Warning: 95 : BindingExpression (hash=58169988): Got\nPropertyChanged event from MainWindowViewModel (hash=12012133)\nSystem.Windows.Data Warning: 101 : BindingExpression (hash=58169988):   \nGetValue at level 0 from MainWindowViewModel (hash=12012133) using RuntimePropertyInfo(UserPortfolios): &lt;null&gt;\nSystem.Windows.Data Warning: 80 : BindingExpression (hash=58169988): TransferValue - got raw value &lt;null&gt;\nSystem.Windows.Data Warning: 89 : BindingExpression (hash=58169988): TransferValue - using final value &lt;null&gt;\nSystem.Windows.Data Warning: 95 : BindingExpression (hash=58169988): Got PropertyChanged event from MainWindowViewModel (hash=12012133)\nSystem.Windows.Data Warning: 101 : BindingExpression (hash=58169988): GetValue at level 0 from MainWindowViewModel (hash=12012133) using RuntimePropertyInfo(UserPortfolios): ObservableCollection`1 (hash=33513495 Count=0)\nSystem.Windows.Data Warning: 80 : BindingExpression (hash=58169988): TransferValue - got raw value ObservableCollection`1 (hash=33513495 Count=0)\nSystem.Windows.Data Error: 5 : Value produced by BindingExpression is not valid for target property.; Value='System.Collections.ObjectModel.ObservableCollection`1[MeshPermissionsGUI.PermissionPortfolio]' BindingExpression:Path=UserPortfolios; DataItem='MainWindowViewModel' (HashCode=12012133); target element is 'TextBlock' (Name=''); target property is 'Text' (type 'String')\nSystem.Windows.Data Warning: 87 : BindingExpression (hash=58169988): TransferValue - value ObservableCollection`1 (hash=33513495 Count=0) is not valid for target\nSystem.Windows.Data Warning: 88 : BindingExpression (hash=58169988): TransferValue - using fallback/default value ''\nSystem.Windows.Data Warning: 89 : BindingExpression (hash=58169988):     TransferValue - using final value ''\n</code></pre>\n\n<p>Ignore the errors in that. It's just me binding that to a textbox in the GUI to get this data. What troubles me is that it is actually getting the wrong number of items.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "unit-testing"], "comments": [{"owner": {"reputation": 560, "user_id": 4702470, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6ef26e098a185be6c40badd56f11a97b?s=128&d=identicon&r=PG&f=1", "display_name": "Steven Lemmens", "link": "https://stackoverflow.com/users/4702470/steven-lemmens"}, "edited": false, "score": 1, "creation_date": 1435184919, "post_id": 31038188, "comment_id": 50100377, "body": "I guess you&#39;re missing a using directive or an assembly reference, like the error message says. Without seeing more code, I don&#39;t think we can say any more than that. Please post your HomeController."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1435184944, "post_id": 31038188, "comment_id": 50100387, "body": "You probably just need to add a reference to your test project that points to the other C# project in your solution (the one containing HomeController)."}, {"owner": {"reputation": 752, "user_id": 4107957, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-D-Iklnzzwi4/AAAAAAAAAAI/AAAAAAAAAAA/zr2IAB0HgMw/photo.jpg?sz=128", "display_name": "John Schultz", "link": "https://stackoverflow.com/users/4107957/john-schultz"}, "edited": false, "score": 0, "creation_date": 1435185082, "post_id": 31038188, "comment_id": 50100429, "body": "my references are Admin.Web.API, Microsoft.VisualStudio.QualityTools..., System, System.web and System.Web.Mvc. The Admin.Web.API reference has a yellow triangle on it."}, {"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1435185302, "post_id": 31038188, "comment_id": 50100524, "body": "<code>HomeController</code> is still just a class.  Reference like any other class"}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1435185363, "post_id": 31038188, "comment_id": 50100543, "body": "Sounds like you need to fix your Admin.Web.API reference."}, {"owner": {"reputation": 752, "user_id": 4107957, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-D-Iklnzzwi4/AAAAAAAAAAI/AAAAAAAAAAA/zr2IAB0HgMw/photo.jpg?sz=128", "display_name": "John Schultz", "link": "https://stackoverflow.com/users/4107957/john-schultz"}, "edited": false, "score": 0, "creation_date": 1435185754, "post_id": 31038188, "comment_id": 50100669, "body": "Since I have never done UnitTesting before, and I am still rather &quot;Green&quot; What exactly do you mean &quot;fix&quot; Admin.Web.API? It runs fine and compiles with no errors. What am I over looking?"}, {"owner": {"reputation": 752, "user_id": 4107957, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-D-Iklnzzwi4/AAAAAAAAAAI/AAAAAAAAAAA/zr2IAB0HgMw/photo.jpg?sz=128", "display_name": "John Schultz", "link": "https://stackoverflow.com/users/4107957/john-schultz"}, "edited": false, "score": 0, "creation_date": 1435186473, "post_id": 31038188, "comment_id": 50100877, "body": "Figured it out, I had some assembly version conflicts"}], "answers": [{"comments": [{"owner": {"reputation": 752, "user_id": 4107957, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-D-Iklnzzwi4/AAAAAAAAAAI/AAAAAAAAAAA/zr2IAB0HgMw/photo.jpg?sz=128", "display_name": "John Schultz", "link": "https://stackoverflow.com/users/4107957/john-schultz"}, "edited": false, "score": 0, "creation_date": 1435185812, "post_id": 31038384, "comment_id": 50100687, "body": "Already did that and the reference has a yellow triangle on it."}, {"owner": {"reputation": 1880, "user_id": 1269074, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NSGtc.jpg?s=128&g=1", "display_name": "Oladipo Olasemo", "link": "https://stackoverflow.com/users/1269074/oladipo-olasemo"}, "reply_to_user": {"reputation": 752, "user_id": 4107957, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-D-Iklnzzwi4/AAAAAAAAAAI/AAAAAAAAAAA/zr2IAB0HgMw/photo.jpg?sz=128", "display_name": "John Schultz", "link": "https://stackoverflow.com/users/4107957/john-schultz"}, "edited": false, "score": 0, "creation_date": 1435187303, "post_id": 31038384, "comment_id": 50101121, "body": "Check the version of .NET Framework for both projects. Sometimes if one is higher than the other this might happen. To do this, you need to right click the project name in solution explorer then select &#39;Properties&#39; Check the Application tab, check the Target Framework for both projects. Ensure they are the same version."}], "tags": [], "owner": {"reputation": 1880, "user_id": 1269074, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NSGtc.jpg?s=128&g=1", "display_name": "Oladipo Olasemo", "link": "https://stackoverflow.com/users/1269074/oladipo-olasemo"}, "is_accepted": false, "score": 0, "last_activity_date": 1435185728, "creation_date": 1435185728, "answer_id": 31038384, "question_id": 31038188, "link": "https://stackoverflow.com/questions/31038188/how-do-i-reference-the-homecontroller-in-a-unittest/31038384#31038384", "title": "How do I reference the HomeController in a UnitTest?", "body": "<p>I am guessing the Homecontroller is in another VS Project within the same Solution. </p>\n\n<p>You need to add a project reference / assembly reference for the WEB API Project to the Unit Test Project.</p>\n\n<p>To add a project reference, right click the Unit Test Project name in Solution Explorer, then Select 'Add Reference...', Select the Web API check box in the 'Reference Manager' dialog if it is listed or browse to it's location.</p>\n\n<p>Click Ok. I expect the problem should be gone.</p>\n"}], "owner": {"reputation": 752, "user_id": 4107957, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-D-Iklnzzwi4/AAAAAAAAAAI/AAAAAAAAAAA/zr2IAB0HgMw/photo.jpg?sz=128", "display_name": "John Schultz", "link": "https://stackoverflow.com/users/4107957/john-schultz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 483, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435185728, "creation_date": 1435184743, "question_id": 31038188, "link": "https://stackoverflow.com/questions/31038188/how-do-i-reference-the-homecontroller-in-a-unittest", "title": "How do I reference the HomeController in a UnitTest?", "body": "<p>I am getting the following error with a UnitTest for VS 2013 <code>The type or namespace name 'HomeController' could not be found (are you missing a using directive or an assembly reference?)</code></p>\n\n<p>My code is:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Admin.Web.API;\nusing Admin.Web.API.Controllers;\nusing Microsoft.VisualStudio.TestTools.UnitTesting;\nusing System.Web.Mvc;\n\nnamespace Admin.Web.API.Controllers.Tests\n{\n    [TestClass()]\n    public class HomeControllerTests\n    {\n        [TestMethod()]\n        public void IndexTest()\n        {\n            var controller = new HomeController();\n            ActionResult _Result = controller.Login(\"jschultz0614@gmail.com\", \"********\") as ActionResult;\n            Assert.IsInstanceOfType(_Result, typeof(RedirectToRouteResult));\n        }\n    }\n}\n</code></pre>\n\n<p>And it is puking on the controller line.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1435185877, "post_id": 31038186, "comment_id": 50100705, "body": "Link/location where you&#39;ve read that would be useful to clarify the question."}], "answers": [{"comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 1, "creation_date": 1435184966, "post_id": 31038217, "comment_id": 50100395, "body": "No; you can write an iterator."}, {"owner": {"reputation": 165, "user_id": 5008523, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b9350679e3b5893626c332937be88511?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Rayakwar", "link": "https://stackoverflow.com/users/5008523/sumit-rayakwar"}, "edited": false, "score": 0, "creation_date": 1435185600, "post_id": 31038217, "comment_id": 50100622, "body": "If I have a collection as a field member then i dont need to implement IEnumerator but if I want my class object to be iterated then i must implement IEnumerator. Is that what you are trying to answer @StriplingWarrior."}, {"owner": {"reputation": 165, "user_id": 5008523, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b9350679e3b5893626c332937be88511?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Rayakwar", "link": "https://stackoverflow.com/users/5008523/sumit-rayakwar"}, "edited": false, "score": 0, "creation_date": 1435185618, "post_id": 31038217, "comment_id": 50100628, "body": "Thank you for your answer though"}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "reply_to_user": {"reputation": 165, "user_id": 5008523, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b9350679e3b5893626c332937be88511?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Rayakwar", "link": "https://stackoverflow.com/users/5008523/sumit-rayakwar"}, "edited": false, "score": 0, "creation_date": 1435203477, "post_id": 31038217, "comment_id": 50104863, "body": "@SumitRayakwar: If you want your class to be iterated, then there must exist an implementation of IEnumerator, but you don&#39;t necessarily have to implement it explicitly. You may be able to reuse some other class&#39;s IEnumerator (for example, the example in this answer could have just as easily been implemented by returning <code>days.GetEnumerator()</code>. Or, you may be able to use the C# Iterator feature to <code>yield return</code> your way out of creating a custom implementation."}], "tags": [], "owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "is_accepted": false, "score": 1, "last_activity_date": 1435185520, "last_edit_date": 1435185520, "creation_date": 1435184875, "answer_id": 31038217, "question_id": 31038186, "link": "https://stackoverflow.com/questions/31038186/why-is-it-necessary-to-implement-ienumerator-when-implementing-ienumerable/31038217#31038217", "title": "Why is it necessary to implement IEnumerator when Implementing IEnumerable", "body": "<p>The <a href=\"https://msdn.microsoft.com/en-us/library/system.collections.ienumerable(v=vs.110).aspx\" rel=\"nofollow\"><code>IEnumerable</code> interface</a> must implement a <code>GetEnumerator()</code> method, which returns an <code>IEnumerator</code>. In order to return an <code>IEnumerator</code>, there must be some implementation for you to return. Depending on your class, it may be possible to reuse an existing <code>IEnumerator</code> implementation, but it's also possible that your class has a custom way of being iterated over, in which case you'll need to create your own implementation of this interface.</p>\n\n<p>There is a shortcut syntax available, however. You can use the <code>yield return</code> keyword in your <code>GetEnumerator()</code> method to let the C# compiler do the work of creating an IEnumerator implementation for you, based on some code that you provide inline. <a href=\"https://msdn.microsoft.com/en-us/library/dscyy5s0.aspx#BKMK_CollectionClass\" rel=\"nofollow\">This example</a> of a Collection class, for instance, implements it this way:</p>\n\n<pre><code>public class DaysOfTheWeek : IEnumerable\n{\n    private string[] days = { \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\" };\n\n    public IEnumerator GetEnumerator()\n    {\n        for (int index = 0; index &lt; days.Length; index++)\n        {\n            // Yield each day of the week. \n            yield return days[index];\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 219328, "user_id": 15498, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wi4EN.png?s=128&g=1", "display_name": "Damien_The_Unbeliever", "link": "https://stackoverflow.com/users/15498/damien-the-unbeliever"}, "edited": false, "score": 2, "creation_date": 1548226727, "post_id": 54321363, "comment_id": 95462038, "body": "How does that answer the OPs 4 year old question - &quot;I just want the answer to the question of WHY.&quot;? You&#39;re just repeating things already stated in the question."}], "tags": [], "owner": {"reputation": 46, "user_id": 8871616, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ShlkSgYhdvs/AAAAAAAAAAI/AAAAAAAACoU/BOvFLhXdyHA/photo.jpg?sz=128", "display_name": "Alan Yang", "link": "https://stackoverflow.com/users/8871616/alan-yang"}, "is_accepted": false, "score": 0, "last_activity_date": 1548225668, "creation_date": 1548225668, "answer_id": 54321363, "question_id": 31038186, "link": "https://stackoverflow.com/questions/31038186/why-is-it-necessary-to-implement-ienumerator-when-implementing-ienumerable/54321363#54321363", "title": "Why is it necessary to implement IEnumerator when Implementing IEnumerable", "body": "<p>From MICROSOFT document, it says \"When you implement IEnumerable, you must also implement IEnumerator.\"</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerator?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerator?view=netframework-4.7.2</a></p>\n"}], "owner": {"reputation": 165, "user_id": 5008523, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b9350679e3b5893626c332937be88511?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Rayakwar", "link": "https://stackoverflow.com/users/5008523/sumit-rayakwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1548225668, "creation_date": 1435184734, "last_edit_date": 1435185767, "question_id": 31038186, "link": "https://stackoverflow.com/questions/31038186/why-is-it-necessary-to-implement-ienumerator-when-implementing-ienumerable", "title": "Why is it necessary to implement IEnumerator when Implementing IEnumerable", "body": "<p>Why is it necessary to implement <code>IEnumerator</code> when Implementing <code>IEnumerable</code>. Wherever I read its written only that it must happen but I just want the answer to the question of WHY.</p>\n"}, {"tags": ["c#", "windows-phone-8.1"], "answers": [{"comments": [{"owner": {"reputation": 1767, "user_id": 101886, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e3bce57ea4282d89d348aeeb70261f7f?s=128&d=identicon&r=PG", "display_name": "jonasb", "link": "https://stackoverflow.com/users/101886/jonasb"}, "edited": false, "score": 0, "creation_date": 1435221571, "post_id": 31038447, "comment_id": 50112966, "body": "Thanks Paul! <code>MapTapped</code> is only fired when the user taps the map, not when they pan or zoom, so it doesn&#39;t solve my problem. <code>LoadingStatusChanged</code> is also fired when I programatically manipulate the map, e.g. calls <code>TrySetViewAsync()</code>"}, {"owner": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "edited": false, "score": 0, "creation_date": 1435444901, "post_id": 31038447, "comment_id": 50204955, "body": "The <code>CenterChanged</code> and <code>ZoomLevelChanged</code> events will let you know when interaction is occurring."}], "tags": [], "owner": {"reputation": 6885, "user_id": 123422, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/ft4KH.jpg?s=128&g=1", "display_name": "Paul Abbott", "link": "https://stackoverflow.com/users/123422/paul-abbott"}, "is_accepted": false, "score": 0, "last_activity_date": 1435186074, "creation_date": 1435186074, "answer_id": 31038447, "question_id": 31038152, "link": "https://stackoverflow.com/questions/31038152/how-to-detect-user-interaction-with-mapcontrol-on-windows-phone-8-1/31038447#31038447", "title": "How to detect user interaction with `MapControl` on Windows Phone 8.1?", "body": "<p>The <code>MapTapped</code> event handles tapping the map, the generic <code>Tapped</code> event doesn't work.</p>\n\n<p>As for panned or zoomed, I use the <code>LoadingStatusChanged</code> event and look for <code>mapControl.LoadingStatus == MapLoadingStatus.Loaded</code> to know when the user has stopped manipulating the map.</p>\n\n<p>Note that things like drawing elements on the map will also trigger <code>LoadingStatusChanged</code>.  If that is a situation you need to deal with, you can store the map's center and zoom level somewhere, and then compare these values to the current center/zoom level of the map when the even fires to know if the map was really manipulated.</p>\n\n<p>If you're using Interactivity, I wrote a behavior that does all of this if you want it.</p>\n"}], "owner": {"reputation": 1767, "user_id": 101886, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e3bce57ea4282d89d348aeeb70261f7f?s=128&d=identicon&r=PG", "display_name": "jonasb", "link": "https://stackoverflow.com/users/101886/jonasb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435186074, "creation_date": 1435184564, "question_id": 31038152, "link": "https://stackoverflow.com/questions/31038152/how-to-detect-user-interaction-with-mapcontrol-on-windows-phone-8-1", "title": "How to detect user interaction with `MapControl` on Windows Phone 8.1?", "body": "<p>I have a <code>MapControl</code> and want to detect if the user has panned or zoomed the map (or basically generated any pointer events).</p>\n\n<p>I've tried a number of approaches but haven't been able to detect the pointer events. E.g. <code>MyMapControl.PointerPressed += ...</code>, <code>MyMapControl.AddHandler(UIElement.PointerPressedEvent, ..., true)</code>, <code>Window.Current.CoreWindow.PointerPressed +=</code>, <code>((Page)this).PointerPressed +=</code>, but they aren't called. The events for the page and the window are emitted when touching down outside the <code>MapControl</code>, but never when touching down inside the <code>MapControl</code>.</p>\n\n<p>If I put something that covers the <code>MapControl</code>, e.g. a <code>Rectangle</code>, it gets the events, but it also consumes them so they don't reach the <code>MapControl</code>. I'm hoping that it's possible for the overlay to see the events but not consume them, but haven't succeeded so far.</p>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["c#", "multithreading", "unhandled-exception", "activexobject"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1435189213, "post_id": 31038092, "comment_id": 50101640, "body": "It is not possible that your call to <code>base.Show()</code> would throw an exception, and yet that exception would not be caught by the <code>try&#47;catch</code> that surrounds the call. Please provide <a href=\"https://stackoverflow.com/help/mcve\">a good, <i>minimal</i>, <i>complete</i> code example</a> that reliably reproduces the problem."}], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 3067061, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/1040991168/picture?type=large", "display_name": "DiggityCS", "link": "https://stackoverflow.com/users/3067061/diggitycs"}, "is_accepted": false, "score": 1, "last_activity_date": 1436554605, "creation_date": 1436554605, "answer_id": 31348314, "question_id": 31038092, "link": "https://stackoverflow.com/questions/31038092/how-to-pass-unhandled-exception-to-application-catch-block-in-thread/31348314#31348314", "title": "How to pass unhandled exception to application catch block in thread", "body": "<p>To fix this issue, I was able to change the:</p>\n\n<pre><code>Application.SetUnhandledExceptionMode(UnhandledExceptionMode.CatchException);\n</code></pre>\n\n<p>to </p>\n\n<pre><code>Application.SetUnhandledExceptionMode(UnhandledExceptionMode.ThrowException);\n</code></pre>\n\n<p>this solved the issue.</p>\n"}], "owner": {"reputation": 111, "user_id": 3067061, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/1040991168/picture?type=large", "display_name": "DiggityCS", "link": "https://stackoverflow.com/users/3067061/diggitycs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1436554605, "creation_date": 1435184175, "question_id": 31038092, "link": "https://stackoverflow.com/questions/31038092/how-to-pass-unhandled-exception-to-application-catch-block-in-thread", "title": "How to pass unhandled exception to application catch block in thread", "body": "<p>I currently have an application that opens an ActiveX object that displays information to the user.  The COM object needs to be in a new thread in order to be modal.  There are currently a couple of issues I am having with it:</p>\n\n<ol>\n<li>I use a base.Show() method that is used to display the ActiveX object, and it throws an InvalidOperationException during runtime which is shown through VisualStudio by throwing Common Language Runtime Exceptions.  </li>\n<li>In an attempt to handle this exception, it is encapsulated in a try/catch block, but is never caught by the catch.  Because it is unhandled, I attempted to use Application.SetUnhandledExceptionMode(UnhandledExceptionMode.CatchException) which was suggested in multiple posts on SO.</li>\n<li>Once the base.Show() is hit, a dialog appears and if continued through it, the program runs without issue.</li>\n</ol>\n\n<p>A couple of solutions could be:</p>\n\n<ol>\n<li>Disable the dialog box that shows that the exception is unhandled.</li>\n<li>When the exception is thrown, log it, but still allow the base.Show() to execute.</li>\n<li>Open up a window without base.Show() that will allow the ActiveX control to show.</li>\n</ol>\n\n<p>Code for the Show method is as follows:</p>\n\n<pre><code>public void Show(string url, int entityId, string sessionId, int projId, string docId)\n{\n    try\n    {\n        Application.SetUnhandledExceptionMode(UnhandledExceptionMode.CatchException);\n        base.Show(); //exception occurs here\n    }\n    catch (Exception ex)\n    {\n        //continue without dialog because once continuing in the dialog, application runs without error\n        Logger.Error(\"Base.Show() throws InvalidOperationException, but continuing will bypass issue\", ex);\n    }\n\n    try\n    {\n        this.DocViewer.InitComm(url, entityId, sessionId, projId, docId);\n    }\n    catch (Exception ex)\n    {\n        Logger.Error(\"Error opening papervision viewer\", ex);\n        throw;\n    }\n}    \n</code></pre>\n\n<p>I am unsure how to access this method in the main thread, and have attempted to use BeginInvoke, but the base.Show() must open the window before the DocViewer.InitComm is run.</p>\n\n<p>Thanks in advance for any help!</p>\n"}, {"tags": ["c#", "arrays", "sorting", "2d"], "comments": [{"owner": {"reputation": 497, "user_id": 5028654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae3adc67920fa134f2e30c2825136179?s=128&d=identicon&r=PG&f=1", "display_name": "A B", "link": "https://stackoverflow.com/users/5028654/a-b"}, "edited": false, "score": 0, "creation_date": 1435183744, "post_id": 31037915, "comment_id": 50099914, "body": "So you actually want to sort studentIDArr which is 1D?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4840466"}, "reply_to_user": {"reputation": 497, "user_id": 5028654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae3adc67920fa134f2e30c2825136179?s=128&d=identicon&r=PG&f=1", "display_name": "A B", "link": "https://stackoverflow.com/users/5028654/a-b"}, "edited": false, "score": 0, "creation_date": 1435183908, "post_id": 31037915, "comment_id": 50099981, "body": "Yup! I know how to sort that but i don&#39;t know how to sort the marks matrix such that that marks that belongs to the student is also correctly reflected when i display the student IDs and marks"}, {"owner": {"reputation": 497, "user_id": 5028654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae3adc67920fa134f2e30c2825136179?s=128&d=identicon&r=PG&f=1", "display_name": "A B", "link": "https://stackoverflow.com/users/5028654/a-b"}, "edited": false, "score": 0, "creation_date": 1435184470, "post_id": 31037915, "comment_id": 50100216, "body": "check my logic explanation. If you need help with the code implementation or you have questions let me know."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1435185409, "post_id": 31037915, "comment_id": 50100562, "body": "Any particular reason why you can&#39;t have <code>class Student{string Name, List&lt;int&gt; Marks;}</code> instead of storing this information in 2 arrays?"}, {"owner": {"reputation": 32143, "user_id": 4955425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y0RDl.jpg?s=128&g=1", "display_name": "sstan", "link": "https://stackoverflow.com/users/4955425/sstan"}, "edited": false, "score": 0, "creation_date": 1435186193, "post_id": 31037915, "comment_id": 50100798, "body": "Are your values really strings?  For instance, is a <code>StudentId</code> a number or a string?  That would impact how to sort it. Sorting numerically vs. alphabetically are 2 very different things."}], "answers": [{"tags": [], "owner": {"reputation": 497, "user_id": 5028654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae3adc67920fa134f2e30c2825136179?s=128&d=identicon&r=PG&f=1", "display_name": "A B", "link": "https://stackoverflow.com/users/5028654/a-b"}, "is_accepted": true, "score": 0, "last_activity_date": 1435186661, "last_edit_date": 1435186661, "creation_date": 1435184070, "answer_id": 31038062, "question_id": 31037915, "link": "https://stackoverflow.com/questions/31037915/c-how-to-sort-2d-array-values/31038062#31038062", "title": "c# how to sort 2D array values", "body": "<p>A possible solution is:</p>\n\n<ol>\n<li>Declare a new vector of strings (let's call it studentIDArrSorted)</li>\n<li>Sort studentIDArr and store it in studentIDArrSorted, without altering the order of studentIDArr.</li>\n<li>Now take a for on studentIDArrSorted</li>\n<li>For studentIDArrSorted[i], search is position in studentIDArr.</li>\n<li>Print the corresponding column from marksMatrix.</li>\n</ol>\n\n<p>Example:\nInitial list : \"3\", \"4\", \"2\"<br>\nSorted list: \"2\", \"3\", \"4\"</p>\n\n<p>The old position of \"2\" in list was 3, so you must print the 3th line from the matrix.<br>\nNote: I assume that the ids are unique.  </p>\n\n<p>A more simple solution will be to store the both arrays (the marks and the ids) in an object. This will get rid of all the overhead.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4840466"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 31038062, "answer_count": 1, "score": 0, "last_activity_date": 1435186661, "creation_date": 1435183334, "last_edit_date": 1435183682, "question_id": 31037915, "link": "https://stackoverflow.com/questions/31037915/c-how-to-sort-2d-array-values", "title": "c# how to sort 2D array values", "body": "<p>I have 2 arrays</p>\n\n<pre><code>string[,] marksMatrix = new string[5, 4];\nstring[] studentIDArr = new string[5];\n</code></pre>\n\n<p>Marks matrix has the marks of 5 students for 4 subjects and their student IDs are stored in the studentIDArr. When I display the student IDs and marks of each student, how do I sort it in ascending order of the student IDs?</p>\n\n<pre><code>textBox2.Text = \"StudentID\\tOOAD\\tDWA\\tDB\\tWAD\\r\\n\";\nint rowlength = marksMatrix.GetLength(0);\nint collength = marksMatrix.GetLength(1);\n\nfor (int y = 0; y &lt; rowlength; y++) {\n  textBox2.Text += studentIDArr[y];\n  for (int x = 0; x &lt; collength; x++) {\n    textBox2.Text += \"\\t\" + marksMatrix[y,x];\n  }\n  textBox2.Text += \"\\r\\n\";\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "encoding", "mvcmailer"], "answers": [{"comments": [{"owner": {"reputation": 7865, "user_id": 687549, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/90d946b9e4caa30e2cd42a7adae5f8e5?s=128&d=identicon&r=PG", "display_name": "PussInBoots", "link": "https://stackoverflow.com/users/687549/pussinboots"}, "edited": false, "score": 0, "creation_date": 1435194348, "post_id": 31039523, "comment_id": 50102855, "body": "Yes, I have tried not converting it - it didn&#39;t solved the problem."}, {"owner": {"reputation": 76, "user_id": 3593639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0ff66ad873d35efdf1fa65d0db940f?s=128&d=identicon&r=PG", "display_name": "tendrel", "link": "https://stackoverflow.com/users/3593639/tendrel"}, "reply_to_user": {"reputation": 7865, "user_id": 687549, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/90d946b9e4caa30e2cd42a7adae5f8e5?s=128&d=identicon&r=PG", "display_name": "PussInBoots", "link": "https://stackoverflow.com/users/687549/pussinboots"}, "edited": false, "score": 0, "creation_date": 1435201454, "post_id": 31039523, "comment_id": 50104398, "body": "Total bummer.  Does it happen with any other mail providers? Besides Hotmail?"}, {"owner": {"reputation": 76, "user_id": 3593639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0ff66ad873d35efdf1fa65d0db940f?s=128&d=identicon&r=PG", "display_name": "tendrel", "link": "https://stackoverflow.com/users/3593639/tendrel"}, "reply_to_user": {"reputation": 7865, "user_id": 687549, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/90d946b9e4caa30e2cd42a7adae5f8e5?s=128&d=identicon&r=PG", "display_name": "PussInBoots", "link": "https://stackoverflow.com/users/687549/pussinboots"}, "edited": false, "score": 0, "creation_date": 1435247555, "post_id": 31039523, "comment_id": 50131502, "body": "I would suggest, if possible, that you test out as many mail clients as you can to nail down what is happening. That will also help you in searching for more info about the problem, as I find a LOT of info, it just is not particular to hotmail, and so hard to tell what might or might not help. =)  Outlook express for instance is noted as having issues with encoding due to its default settings, possibly.  Good Luck!"}], "tags": [], "owner": {"reputation": 76, "user_id": 3593639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0ff66ad873d35efdf1fa65d0db940f?s=128&d=identicon&r=PG", "display_name": "tendrel", "link": "https://stackoverflow.com/users/3593639/tendrel"}, "is_accepted": false, "score": 0, "last_activity_date": 1435193802, "creation_date": 1435193802, "answer_id": 31039523, "question_id": 31037878, "link": "https://stackoverflow.com/questions/31037878/%c3%a4-character-in-mailmessage-subject-showing-up-as-%c3%83%c2%a4-in-hotmail/31039523#31039523", "title": "&#228; character in MailMessage.Subject showing up as &#195;&#164; in hotmail", "body": "<p>Have you tried not converting it?  Just using your value, since you already have the characters there?</p>\n\n<p>I see some people with the same issue that report that they found their data was already UTF8 so converting it resulted in messed up characters as you report. Using their string value directly solved the display problem in those cases. </p>\n\n<p>I found a lot of people with the same issue, in different contexts using the keywords:</p>\n\n<pre><code>     \u00e4 character converted to \u00c3\u00a4 hotmail\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7865, "user_id": 687549, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/90d946b9e4caa30e2cd42a7adae5f8e5?s=128&d=identicon&r=PG", "display_name": "PussInBoots", "link": "https://stackoverflow.com/users/687549/pussinboots"}, "edited": false, "score": 0, "creation_date": 1435357761, "post_id": 31080467, "comment_id": 50184278, "body": "Gave me the same result. This is how the raw data looks in hotmail:  Subject: Best&#195;&#164;llningsbekr&#195;&#164;ftelse Content-Type: text/html; charset=utf-8 Content-Transfer-Encoding: base64"}, {"owner": {"reputation": 7865, "user_id": 687549, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/90d946b9e4caa30e2cd42a7adae5f8e5?s=128&d=identicon&r=PG", "display_name": "PussInBoots", "link": "https://stackoverflow.com/users/687549/pussinboots"}, "edited": false, "score": 0, "creation_date": 1435357896, "post_id": 31080467, "comment_id": 50184314, "body": "I&#39;m using MvcMailer. MvcMailer I believe inherit from the System.Net.Mail classes. I have to use MvcMailer since I need to use its templating features. Maybe one option would be to write a new CustomMvcMailerMessage that inherits from MvcMailerMessage? And also write a new custom SMTP class, extending MvcMailer SMTP object using MailKit?"}, {"owner": {"reputation": 28276, "user_id": 87117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f9e45dad82da556b0acabdbf3be8452?s=128&d=identicon&r=PG", "display_name": "jstedfast", "link": "https://stackoverflow.com/users/87117/jstedfast"}, "reply_to_user": {"reputation": 7865, "user_id": 687549, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/90d946b9e4caa30e2cd42a7adae5f8e5?s=128&d=identicon&r=PG", "display_name": "PussInBoots", "link": "https://stackoverflow.com/users/687549/pussinboots"}, "edited": false, "score": 0, "creation_date": 1435436562, "post_id": 31080467, "comment_id": 50202689, "body": "If the Subject header looks like <code>Subject: Best&#195;&#164;llningsbekr&#195;&#164;ftelse</code>, then something is decoding the header and Hotmail is for some reason unable to render it correctly. FWIW, it looks like that is UTF-8 that was converted into a unicode display string using the iso-8859-1 encoding."}], "tags": [], "owner": {"reputation": 28276, "user_id": 87117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f9e45dad82da556b0acabdbf3be8452?s=128&d=identicon&r=PG", "display_name": "jstedfast", "link": "https://stackoverflow.com/users/87117/jstedfast"}, "is_accepted": false, "score": 0, "last_activity_date": 1435345673, "creation_date": 1435345673, "answer_id": 31080467, "question_id": 31037878, "link": "https://stackoverflow.com/questions/31037878/%c3%a4-character-in-mailmessage-subject-showing-up-as-%c3%83%c2%a4-in-hotmail/31080467#31080467", "title": "&#228; character in MailMessage.Subject showing up as &#195;&#164; in hotmail", "body": "<p>If System.Net.Mail does not do this correctly for you, you can try using <a href=\"https://github.com/jstedfast/MimeKit\" rel=\"nofollow\">MimeKit</a>'s <a href=\"http://www.mimekit.net/docs/html/T_MimeKit_Utils_Rfc2047.htm\" rel=\"nofollow\">MimeKit.Utils.Rfc2047</a> utility class for encoding and decoding header values.</p>\n\n<p>For the display name of email addresses in <code>To</code>, <code>Cc</code>, <code>Bcc</code>, etc, you'll want to use <a href=\"http://www.mimekit.net/docs/html/Overload_MimeKit_Utils_Rfc2047_EncodePhrase.htm\" rel=\"nofollow\">EncodePhrase</a> and for <code>Subject</code>, etc. you'll want to use <a href=\"http://www.mimekit.net/docs/html/Overload_MimeKit_Utils_Rfc2047_EncodeText.htm\" rel=\"nofollow\">EncodeText</a>.</p>\n\n<p>Unfortunately these are not really designed to be used with System.Net.Mail as you'll notice that these do not return string, they return byte[] (this is because they are designed to be used internally in MimeKit - they are only public for advanced usage).</p>\n\n<p>That said, since the byte[] returned from these methods is US-ASCII, you could use <code>System.Text.Encoding.ASCII.GetString (result)</code> to convert the encoded subject back into a string that you could set on the <code>MailMessage</code>. If you are stuck with System.Net.Mail, then this might be your only option. If not, though, I would highly recommend dropping System.Net.Mail and replacing it with <a href=\"https://github.com/jstedfast/MimeKit\" rel=\"nofollow\">MimeKit</a> and <a href=\"https://github.com/jstedfast/MailKit\" rel=\"nofollow\">MailKit</a> (MailKit is what you can use for SMTP, POP3 and/or IMAP).</p>\n\n<p>Hope that helps.</p>\n"}, {"tags": [], "owner": {"reputation": 333, "user_id": 4163446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da78aca6f37eaaa1ed20143b7ace49a1?s=128&d=identicon&r=PG&f=1", "display_name": "steryd", "link": "https://stackoverflow.com/users/4163446/steryd"}, "is_accepted": false, "score": 0, "last_activity_date": 1446197016, "creation_date": 1446197016, "answer_id": 33432548, "question_id": 31037878, "link": "https://stackoverflow.com/questions/31037878/%c3%a4-character-in-mailmessage-subject-showing-up-as-%c3%83%c2%a4-in-hotmail/33432548#33432548", "title": "&#228; character in MailMessage.Subject showing up as &#195;&#164; in hotmail", "body": "<p>You must override PopulateHtmlPart on class derived from MailerBase</p>\n\n<pre><code> public override AlternateView PopulateHtmlPart(MailMessage mailMessage, string viewName, string masterName, Dictionary&lt;string, string&gt; linkedResources)\n    {\n        var htmlPart = base.PopulateHtmlPart(mailMessage, viewName, masterName, linkedResources);\n        htmlPart.ContentType.CharSet = mailMessage.BodyEncoding.HeaderName;\n        return htmlPart;\n    }  \n</code></pre>\n\n<p>and set encoding</p>\n\n<pre><code>public virtual MvcMailMessage OrderConfirmation()\n    {\n        return Populate(x =&gt;\n        {\n            x.Subject = \"Best\u00e4llningsbekr\u00e4ftelse\";\n            x.From = new MailAddress(\"test@test.com\", \"test.com\");\n            x.ViewName = \"OrderConfirmation\";\n            x.To.Add(order.Email);\n            x.BodyEncoding = Encoding.UTF8;\n            x.SubjectEncoding = Encoding.UTF8;\n        });\n    }\n</code></pre>\n"}], "owner": {"reputation": 7865, "user_id": 687549, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/90d946b9e4caa30e2cd42a7adae5f8e5?s=128&d=identicon&r=PG", "display_name": "PussInBoots", "link": "https://stackoverflow.com/users/687549/pussinboots"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1029, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1446197016, "creation_date": 1435183212, "last_edit_date": 1435345711, "question_id": 31037878, "link": "https://stackoverflow.com/questions/31037878/%c3%a4-character-in-mailmessage-subject-showing-up-as-%c3%83%c2%a4-in-hotmail", "title": "&#228; character in MailMessage.Subject showing up as &#195;&#164; in hotmail", "body": "<p><strong>Question</strong>: <code>\u00e4</code> character in <code>MailMessage.Subject</code> shows up as <code>\u00c3\u00a4</code> in hotmail. In Gmail the <code>\u00e4</code> character in the subject looks fine. How do you do you properly encode <code>MailMessage.Subject</code> so that the <code>\u00e4</code> character doesn't get converted to <code>\u00c3\u00a4</code>?</p>\n\n<p>This is how I create the MailMessage (using <a href=\"https://github.com/smsohan/MvcMailer\" rel=\"nofollow\">MvcMailer</a>):</p>\n\n<pre><code>public virtual MvcMailMessage OrderConfirmation()\n    {\n        return Populate(x =&gt;\n        {\n            x.Subject = \"Best\u00e4llningsbekr\u00e4ftelse\";\n            x.From = new MailAddress(\"test@test.com\", \"test.com\");\n            x.ViewName = \"OrderConfirmation\";\n            x.To.Add(order.Email);\n        });\n    }\n</code></pre>\n\n<p>I have tried the following:</p>\n\n<ul>\n<li>x.SubjectEncoding = Encoding.UTF8;</li>\n<li>x.SubjectEncoding = Encoding.GetEncoding(\"ISO-8859-1\");</li>\n</ul>\n"}, {"tags": ["c#", "zedgraph"], "owner": {"reputation": 53, "user_id": 5046484, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_kK_DzqngqY/AAAAAAAAAAI/AAAAAAAAABY/zMqQC6L2LdY/photo.jpg?sz=128", "display_name": "Alex MacLean", "link": "https://stackoverflow.com/users/5046484/alex-maclean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435183190, "creation_date": 1435183190, "question_id": 31037873, "link": "https://stackoverflow.com/questions/31037873/scientific-notation-labels-for-zedgraph", "title": "Scientific Notation Labels for ZedGraph", "body": "<p>I'm working on a project and I was wondering if there is a way to make Zed Graph always display the labels on the y-axis in Scientific Notation</p>\n"}, {"tags": ["c#", "windows", "performancecounter"], "comments": [{"owner": {"reputation": 4893, "user_id": 194709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oTCwx.png?s=128&g=1", "display_name": "Chris O", "link": "https://stackoverflow.com/users/194709/chris-o"}, "edited": false, "score": 0, "creation_date": 1452033531, "post_id": 31037861, "comment_id": 56990616, "body": "How / when are you creating the performance counters for the tests?"}], "owner": {"reputation": 1822, "user_id": 853005, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d9463fa95c704788d4058b269784eed9?s=128&d=identicon&r=PG", "display_name": "mert", "link": "https://stackoverflow.com/users/853005/mert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1452031212, "creation_date": 1435183111, "last_edit_date": 1452031212, "question_id": 31037861, "link": "https://stackoverflow.com/questions/31037861/performance-counter-interfering-with-others", "title": "Performance Counter Interfering With Others", "body": "<p>I need to define performance counters for an application. I wrote couple of unit tests to assure they are working as expected. I have a test class for each different counter type like AverageCounterTest (<code>AverageCount64</code>) or InstantaneousCounterTest (<code>NumberOfItems64</code>) or RateCounterTest (<code>RateOfCountsPerSecond64</code>). When I run them separately they pass. If I run them together, most of them fail due to counters reporting <code>0</code> values.</p>\n\n<p>Tests are as simple as the following for <code>NumberOfItems64</code>:</p>\n\n<pre><code>counter.NextValue(); // sample first and reset the counter\nint someValue = random.Next(int.MaxValue);\ncounter.IncrementBy(someValue);\nfloat expected = someValue;\nAssert.AreEqual(expected, counter.NextValue());\n</code></pre>\n\n<p>Another example could be for <code>RateOfCountsPerSecond64</code>:</p>\n\n<pre><code>counter.NextValue(); // sample first and reset the counter\ncounter.IncrementBy(1);\nThread.Sleep(2000);\nfloat expected = 1 / (float)2;\nAssert.IsTrue(expected, counter.NextValue());\n</code></pre>\n\n<p>What might be causing counters report <code>0</code>s? I use different performance counter categories per test (random Guid) to isolate them.</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 67884, "user_id": 2149718, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/71OOq.jpg?s=128&g=1", "display_name": "Giorgos Betsos", "link": "https://stackoverflow.com/users/2149718/giorgos-betsos"}, "edited": false, "score": 0, "creation_date": 1435183301, "post_id": 31037834, "comment_id": 50099766, "body": "This way you <i>dynamically</i> add a <code>Label</code> control. Hence, it has to be added again after every post-back."}, {"owner": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "edited": false, "score": 0, "creation_date": 1435183372, "post_id": 31037834, "comment_id": 50099793, "body": "ASP.NET web application or WinForms desktop application?"}], "owner": {"reputation": 1, "user_id": 5046470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfecb59f6f1e4f466cd065990c42f317?s=128&d=identicon&r=PG&f=1", "display_name": "joe poe", "link": "https://stackoverflow.com/users/5046470/joe-poe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435183330, "creation_date": 1435182996, "last_edit_date": 1435183330, "question_id": 31037834, "link": "https://stackoverflow.com/questions/31037834/adding-controls-to-an-update-panel-without-removing-whats-already-there", "title": "Adding controls to an update panel without removing what&#39;s already there", "body": "<p>Is there anyway to add controls to an update panel without removing what is already on it?\nFor example, </p>\n\n<pre><code>public void Button1_Click(Object sender, EventArgs e)\n{\n    Label testLabel = new Label();\n    testLabel.Text = \"Test Text\";\n    UpdatePanel1.ContentTemplateContainer.Controls.Add(testLabel);\n    UpdatePanel1.Update();\n}\n</code></pre>\n\n<p>Will just show up with \"Test Text\" just once no matter how many times it's called. </p>\n\n<p>I am trying to add different controls so doing a counter and just adding the same thing multiple times is not what i'm looking for.</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "gridview", "linkbutton"], "comments": [{"owner": {"reputation": 106, "user_id": 4975106, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g1oC9XpPO3Q/AAAAAAAAAAI/AAAAAAAADPw/EmQs5wL6h-I/photo.jpg?sz=128", "display_name": "Kane Wang", "link": "https://stackoverflow.com/users/4975106/kane-wang"}, "edited": false, "score": 0, "creation_date": 1435247201, "post_id": 31037833, "comment_id": 50131260, "body": "You mentioned you can&#39;t use anchor tag, I am a bit unclear on that, seems that you only rely on the value from commandArgument to generate pdf link url, so why the anchor can&#39;t make it? it could be something like this: &lt;a href=&quot;pdf.aspx?id=&lt;%# Eval(&quot;id&quot;) %&gt;&quot; target=&quot;_blank&quot;&gt;Loading in new window&lt;/a&gt;, the logic in the event handler ProcessRequest could be ported over to pdf.aspx. did I miss anything?"}, {"owner": {"reputation": 41, "user_id": 5046381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nht4R.jpg?s=128&g=1", "display_name": "lunchroom", "link": "https://stackoverflow.com/users/5046381/lunchroom"}, "reply_to_user": {"reputation": 106, "user_id": 4975106, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g1oC9XpPO3Q/AAAAAAAAAAI/AAAAAAAADPw/EmQs5wL6h-I/photo.jpg?sz=128", "display_name": "Kane Wang", "link": "https://stackoverflow.com/users/4975106/kane-wang"}, "edited": false, "score": 0, "creation_date": 1435251589, "post_id": 31037833, "comment_id": 50134017, "body": "Kane - Unfortunately, I do not &quot;only rely on the value from commandArgument to generate pdf link url&quot;.  As I stated, I am not just linking to the PDF URL.  Server side processing is key. I am doing several server-side operations prior to <b>streaming</b> the PDF to the browser. Additionally, I do not want a user to be able to share or bookmark the link using a querystring parm as you suggested."}, {"owner": {"reputation": 106, "user_id": 4975106, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g1oC9XpPO3Q/AAAAAAAAAAI/AAAAAAAADPw/EmQs5wL6h-I/photo.jpg?sz=128", "display_name": "Kane Wang", "link": "https://stackoverflow.com/users/4975106/kane-wang"}, "edited": false, "score": 0, "creation_date": 1435280817, "post_id": 31037833, "comment_id": 50146805, "body": "There should be many ways to protect the URL, for example, adding a token expiring in 15 minutes as a parameter in the URL, in this way, even the URL is visible to the user, he can&#39;t simply use it later on. If all the process could be done independently from the parent page, I think it is still doable to use an anchor."}, {"owner": {"reputation": 41, "user_id": 5046381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nht4R.jpg?s=128&g=1", "display_name": "lunchroom", "link": "https://stackoverflow.com/users/5046381/lunchroom"}, "reply_to_user": {"reputation": 106, "user_id": 4975106, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g1oC9XpPO3Q/AAAAAAAAAAI/AAAAAAAADPw/EmQs5wL6h-I/photo.jpg?sz=128", "display_name": "Kane Wang", "link": "https://stackoverflow.com/users/4975106/kane-wang"}, "edited": false, "score": 0, "creation_date": 1435778619, "post_id": 31037833, "comment_id": 50347658, "body": "Huge credit to <a href=\"http://stackoverflow.com/users/2203520/atters\">Atters</a>.  <a href=\"http://stackoverflow.com/a/20236113/5046381\">This suggestion</a> resolved my issue."}], "answers": [{"tags": [], "owner": {"reputation": 1535, "user_id": 3968481, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/omke0.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/3968481/patrick"}, "is_accepted": false, "score": -2, "last_activity_date": 1448721746, "creation_date": 1448721746, "answer_id": 33972566, "question_id": 31037833, "link": "https://stackoverflow.com/questions/31037833/how-do-i-prevent-postbacks-from-opening-in-new-window-after-a-linkbutton-with-ta/33972566#33972566", "title": "How do I prevent postbacks from opening in new window after a LinkButton with target=_blank is clicked?", "body": "<p>Add the following code to prevent post-backs.</p>\n\n<pre><code>lbDoc.Attributes.Add(\"onclick\",\"return false;\");\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5046381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nht4R.jpg?s=128&g=1", "display_name": "lunchroom", "link": "https://stackoverflow.com/users/5046381/lunchroom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1025, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1448721746, "creation_date": 1435182991, "last_edit_date": 1495542732, "question_id": 31037833, "link": "https://stackoverflow.com/questions/31037833/how-do-i-prevent-postbacks-from-opening-in-new-window-after-a-linkbutton-with-ta", "title": "How do I prevent postbacks from opening in new window after a LinkButton with target=_blank is clicked?", "body": "<p><strong>Summary:</strong> I have a GridView with a TemplateField containing only an ASP.NET LinkButton.  My LinkButton looks like this:</p>\n\n<pre><code>&lt;asp:LinkButton ID=\"lbDoc\" runat=\"server\" OnClientClick=\"document.forms[0].target ='_blank';\" OnCommand=\"ProcessRequest\" Text='&lt;%# Eval(\"Title\").ToString() %&gt;' CommandArgument='&lt;%# Eval(\"ID\").ToString() %&gt;' /&gt;\n</code></pre>\n\n<p>Note the CommandArgument and the OnCommand property of the control.  Each button needs to perform some server-side processing, dependent upon the CommandArgument, and ultimately redirect and present a PDF in the new window. IMPORTANT: I am not just linking to the PDF URL so I cannot use a HyperLink control or a simple anchor tag. The server-side processing is key and required.</p>\n\n<p><strong>The problem</strong>:  At run-time, once a user clicks on one of the LinkButtons, the PDF is loaded as desired in a new window, however all postbacks after that also load in a new browser tab/window. I've got DropDownLists (with AutoPostback) that requery and rebind my GridView - if the user selects different filter options in those DropDownLists after clicking on one of the LinkButtons, the results are posted back in a new browser tab/window. <strong>That's the problem</strong> - the user will end up with a mess of tabs/windows. </p>\n\n<p><strong>What I've Tried</strong> User Pow-Ian described the same problem <a href=\"https://stackoverflow.com/a/18875066\">here</a>, but the proposed Javascript solution did not work for me. I've tried a pure JavaScript solution like <a href=\"https://stackoverflow.com/q/804256/5046381\">this</a>, but it also doesn't work. It will render the target='_blank' on the resulting  tag, but for some reason, it won't process the link in a new browser tab.</p>\n\n<p>Any suggestions?  </p>\n"}, {"tags": ["c#", "sql-server", "entity-framework", "entity-framework-6"], "answers": [{"comments": [{"owner": {"reputation": 11827, "user_id": 754049, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/pV5Na.jpg?s=128&g=1", "display_name": "Francisco Goldenstein", "link": "https://stackoverflow.com/users/754049/francisco-goldenstein"}, "edited": false, "score": 0, "creation_date": 1470400274, "post_id": 31037953, "comment_id": 64948664, "body": "Why do you say that? You don&#39;t need to always indicate the SqlDbType. You can provide the parameter name and value (object). Remember that int (shortcut to Int32) is an object. Check the SqlParameter constructors here: <a href=\"https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlparameter(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}], "tags": [], "owner": {"reputation": 11827, "user_id": 754049, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/pV5Na.jpg?s=128&g=1", "display_name": "Francisco Goldenstein", "link": "https://stackoverflow.com/users/754049/francisco-goldenstein"}, "is_accepted": true, "score": 1, "last_activity_date": 1435183478, "creation_date": 1435183478, "answer_id": 31037953, "question_id": 31037789, "link": "https://stackoverflow.com/questions/31037789/ef-6-code-first-from-database-calling-existing-stored-procedure/31037953#31037953", "title": "EF 6 Code First From Database - Calling existing stored procedure", "body": "<p>You need to define a DTO for each stored procedure. You just create simple classes where the propery names of the classes match the name of the columns that are returned by the stored procedure. So, when you call the Stored Procedure from EF, your objects are built and populated. The performance is great!\nHere I'm pasting an example:</p>\n\n<pre><code>dbContext.Database.CommandTimeout = 3600;\nList&lt;CarsDTO&gt; objs = dbContext.Database.SqlQuery&lt;CarsDTO&gt;(\n         \"spGetCars @carMakeId\", new SqlParameter(\"carMakeId\", id)\n).ToList();\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 4934822, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/74e2dd0fd1d357ef35258ad73c31971d?s=128&d=identicon&r=PG&f=1", "display_name": "degmo", "link": "https://stackoverflow.com/users/4934822/degmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1748, "favorite_count": 1, "accepted_answer_id": 31037953, "answer_count": 1, "score": 4, "last_activity_date": 1549951147, "creation_date": 1435182807, "last_edit_date": 1549951147, "question_id": 31037789, "link": "https://stackoverflow.com/questions/31037789/ef-6-code-first-from-database-calling-existing-stored-procedure", "title": "EF 6 Code First From Database - Calling existing stored procedure", "body": "<p>I am using EF 6 to connect to an existing SQL database.  I want to generate a model for some existing entities and non-CRUD stored procedures.  From visual studio, I am adding a new \"ADO.NET Entity Data Model\" and selecting \"Code First from Database\" for the model content.  However, the only database objects that are available to me are Tables and Views.  Stored procedures aren't available.  Is this by design or am i missing something here?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "azure"], "comments": [{"owner": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "edited": false, "score": 0, "creation_date": 1435182899, "post_id": 31037735, "comment_id": 50099610, "body": "I had some issues also when I did publish my Web Apps at IIS. When the application goes Idle for some time It fails. Do you have IoC and DI in this application? Are you using OWIN? I solved this issue migrating the IoC initialization to the OWIN Startup class rather than the Global.asax App_Start."}, {"owner": {"reputation": 163, "user_id": 3006677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc372505b67ef74835b32f4b83a081e4?s=128&d=identicon&r=PG&f=1", "display_name": "krb", "link": "https://stackoverflow.com/users/3006677/krb"}, "reply_to_user": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "edited": false, "score": 0, "creation_date": 1435184311, "post_id": 31037735, "comment_id": 50100151, "body": "This project does use DI but is not using OWIN.  I suspect that DI might be heading down the right track.  The getter for CurrentUser is the first attempt that is made to access an object loaded via injection.  If injection is not starting up and working correctly after the app pool is disposed and reloaded then that is the method call that would fail."}, {"owner": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "edited": false, "score": 0, "creation_date": 1435184388, "post_id": 31037735, "comment_id": 50100188, "body": "Looks like you have the same issue that I had. The Container is Aufofac?"}, {"owner": {"reputation": 163, "user_id": 3006677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc372505b67ef74835b32f4b83a081e4?s=128&d=identicon&r=PG&f=1", "display_name": "krb", "link": "https://stackoverflow.com/users/3006677/krb"}, "reply_to_user": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "edited": false, "score": 0, "creation_date": 1435184496, "post_id": 31037735, "comment_id": 50100223, "body": "Yes, Autofac. Do you have a link to a discussion of your issue?"}, {"owner": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "edited": false, "score": 0, "creation_date": 1435184716, "post_id": 31037735, "comment_id": 50100306, "body": "As I said, I figure it out that moving the Container to the Startup class make things work properly. I had to do trying and error until Its done, because I couldn&#39;t find anything at Stackoverflow, neigther the oficial Autofac forum. I Also registered as InstancePerRequest, post your configuration."}], "answers": [{"tags": [], "owner": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "is_accepted": false, "score": 0, "last_activity_date": 1435186301, "creation_date": 1435186301, "answer_id": 31038485, "question_id": 31037735, "link": "https://stackoverflow.com/questions/31037735/c-mvc-app-on-azure-site-works-fine-when-freshly-deployed-but-fails-after-being/31038485#31038485", "title": "C# MVC app on Azure: Site works fine when freshly deployed but fails after being left idle", "body": "<p>IIS has introduced Suspend action for idle timeout, when site is idle for specified duration, IIS will suspend process, god knows what happens exactly but looks like it just hibernates the process. And waking up may not work, so you can change this action to terminate for idle timeout. </p>\n\n<p>Second option is to keep site awake by using pingdom or site24x7 services.</p>\n"}, {"comments": [{"owner": {"reputation": 163, "user_id": 3006677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc372505b67ef74835b32f4b83a081e4?s=128&d=identicon&r=PG&f=1", "display_name": "krb", "link": "https://stackoverflow.com/users/3006677/krb"}, "edited": false, "score": 0, "creation_date": 1435238968, "post_id": 31042080, "comment_id": 50124548, "body": "That seems like a good thing for the production site when it goes live but for now that option is not available for my dev site."}], "tags": [], "owner": {"reputation": 106, "user_id": 2515171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/efJ5R.jpg?s=128&g=1", "display_name": "Dag K&#246;nig", "link": "https://stackoverflow.com/users/2515171/dag-k%c3%b6nig"}, "is_accepted": false, "score": 0, "last_activity_date": 1435211005, "creation_date": 1435211005, "answer_id": 31042080, "question_id": 31037735, "link": "https://stackoverflow.com/questions/31037735/c-mvc-app-on-azure-site-works-fine-when-freshly-deployed-but-fails-after-being/31042080#31042080", "title": "C# MVC app on Azure: Site works fine when freshly deployed but fails after being left idle", "body": "<p>Could it help to try Azure Web App and set Always On? \n<a href=\"http://azure.microsoft.com/updates/azure-web-sites-adds-always-on/\" rel=\"nofollow\">http://azure.microsoft.com/updates/azure-web-sites-adds-always-on/</a></p>\n"}, {"tags": [], "owner": {"reputation": 163, "user_id": 3006677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc372505b67ef74835b32f4b83a081e4?s=128&d=identicon&r=PG&f=1", "display_name": "krb", "link": "https://stackoverflow.com/users/3006677/krb"}, "is_accepted": false, "score": 0, "last_activity_date": 1435238831, "creation_date": 1435238831, "answer_id": 31051725, "question_id": 31037735, "link": "https://stackoverflow.com/questions/31037735/c-mvc-app-on-azure-site-works-fine-when-freshly-deployed-but-fails-after-being/31051725#31051725", "title": "C# MVC app on Azure: Site works fine when freshly deployed but fails after being left idle", "body": "<p>It looks like I found a solution.  </p>\n\n<p>The app start event in global.asax included \"var assemblies = System.Web.Compilation.BuildManager.GetReferencedAssemblies();\" in order to make sure that everything loads, but that line was -after- the call that was triggering all of the dependency registration.  I cut/pasted that line so that it happens first and the site came up fine when I tried it this morning.</p>\n"}], "owner": {"reputation": 163, "user_id": 3006677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc372505b67ef74835b32f4b83a081e4?s=128&d=identicon&r=PG&f=1", "display_name": "krb", "link": "https://stackoverflow.com/users/3006677/krb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1435238831, "creation_date": 1435182623, "question_id": 31037735, "link": "https://stackoverflow.com/questions/31037735/c-mvc-app-on-azure-site-works-fine-when-freshly-deployed-but-fails-after-being", "title": "C# MVC app on Azure: Site works fine when freshly deployed but fails after being left idle", "body": "<p>I have spent a good bit of time researching this but have not found anybody else reporting the issue that I am having.</p>\n\n<p>I deploy my site and everything is good.  I share the link with my QA and UI peeps and everything works for them.  But if the site goes for a period of time, such as overnight, without being accessed then the web application is unable to start and reports \"Method 'get_CurrentUser' in type ... does not have an implementation.\"  Stopping and restarting the site does not resolve the issue but if I simply re-upload the main .dll file (the exact same version of the .dll) to the site then everything works fine again.  For a while, at any rate.</p>\n\n<p>Why would it be okay when newly published but fail after sitting for some time?  Any suggestions on troubleshooting this would be greatly appreciated.</p>\n"}, {"tags": ["c#", "linq", "entity-framework", "linq-to-sql"], "answers": [{"comments": [{"owner": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "edited": false, "score": 0, "creation_date": 1435262942, "post_id": 31038428, "comment_id": 50140365, "body": "This works great.  The only thing it doesn&#39;t return is a Node that doesn&#39;t have any children.  Is it possible to to do so?"}, {"owner": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "edited": false, "score": 0, "creation_date": 1435265640, "post_id": 31038428, "comment_id": 50141720, "body": "I figured it out, I modified the second WHERE clause to: Where(c =&gt; c.Children.Any(x =&gt; x.NodeName.Contains(query)) || !c.Parent.NodeName.Contains(query))"}], "tags": [], "owner": {"reputation": 23953, "user_id": 469533, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/CQueM.jpg?s=128&g=1", "display_name": "Aducci", "link": "https://stackoverflow.com/users/469533/aducci"}, "is_accepted": true, "score": 1, "last_activity_date": 1435185947, "creation_date": 1435185947, "answer_id": 31038428, "question_id": 31037703, "link": "https://stackoverflow.com/questions/31037703/ef-linq-select-only-parent-entity/31038428#31038428", "title": "EF LINQ - Select only parent Entity", "body": "<p>You can use the <code>Any</code> method like this: <code>c.Children.Any(x =&gt; x.NodeName.Contains(query))</code></p>\n\n<pre><code>var results = await dbContext.Nodes.\n                        Include(c =&gt; c.Parent).\n                        Where(c =&gt; c.NodeName.Contains(query)).\n                        Where(c =&gt; c.Children.Any(x =&gt; x.NodeName.Contains(query))).\n                        OrderBy(n =&gt; n.NodeName).\n                        ToPagedListAsync(page ?? 1, pageSize);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "edited": false, "score": 0, "creation_date": 1435261941, "post_id": 31038435, "comment_id": 50139845, "body": "This solution results in getting all the children, as well as the parent.  The solution I was looking for was getting only the parent."}], "tags": [], "owner": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "is_accepted": false, "score": 0, "last_activity_date": 1435185966, "creation_date": 1435185966, "answer_id": 31038435, "question_id": 31037703, "link": "https://stackoverflow.com/questions/31037703/ef-linq-select-only-parent-entity/31038435#31038435", "title": "EF LINQ - Select only parent Entity", "body": "<p>You don't need to include parent, you can search children and return the parent. If you need, you can return children as well.</p>\n\n<pre><code>dbContext.Nodes.Where(\n     n =&gt;n.NodeName.Contains(query)) || n.Children.Any(\n         c=&gt;c.NodeName.Contains(query))).\n                    OrderBy(n =&gt; n.NodeName).\n                    ToPagedListAsync(page ?? 1, pageSize);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "edited": false, "score": 0, "creation_date": 1435264978, "post_id": 31038547, "comment_id": 50141349, "body": "This solution generates an exception because the written method is not recognized by LINQ to Entities."}, {"owner": {"reputation": 152, "user_id": 5031201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e9c1bfb3d659cbf379f389f8cc1caa4?s=128&d=identicon&r=PG&f=1", "display_name": "SKG", "link": "https://stackoverflow.com/users/5031201/skg"}, "reply_to_user": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "edited": false, "score": 0, "creation_date": 1435268155, "post_id": 31038547, "comment_id": 50142919, "body": "my mistake...didn&#39;t realize while posting that it was not regular linq....sorry about that..."}], "tags": [], "owner": {"reputation": 152, "user_id": 5031201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e9c1bfb3d659cbf379f389f8cc1caa4?s=128&d=identicon&r=PG&f=1", "display_name": "SKG", "link": "https://stackoverflow.com/users/5031201/skg"}, "is_accepted": false, "score": 0, "last_activity_date": 1435187628, "last_edit_date": 1435187628, "creation_date": 1435186750, "answer_id": 31038547, "question_id": 31037703, "link": "https://stackoverflow.com/questions/31037703/ef-linq-select-only-parent-entity/31038547#31038547", "title": "EF LINQ - Select only parent Entity", "body": "<p>please try this....</p>\n\n<pre><code>dbContext.Nodes\n     .Where(c =&gt; c.NodeName.Contains(query))\n     .Select(c=&gt;GetParentOrSelf(c,query))\n     .OrderBy(n =&gt; n.NodeName)\n     .ToPagedListAsync(page ?? 1, pageSize);    \n\n\nprivate Node GetParentOrSelf(Node n)\n{\n    if (n.Parent==null)\n        return n;\n    else\n    {\n        if (n.Parent.NodeName.Contains(query))\n            return GetParentOrSelf(n.Parent,query);\n        else\n            return n;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 925, "favorite_count": 0, "accepted_answer_id": 31038428, "answer_count": 3, "score": 1, "last_activity_date": 1435187628, "creation_date": 1435182511, "question_id": 31037703, "link": "https://stackoverflow.com/questions/31037703/ef-linq-select-only-parent-entity", "title": "EF LINQ - Select only parent Entity", "body": "<p>I'm faced with an interesting issue.</p>\n\n<p>I have a Node entity.  Nodes may or may not have Children, and also may or may not have a parent.</p>\n\n<p>For my UI, when a user searches for a Node, I'd like to only return the Parent if the search results contain both the parent and one or many of its children (since the Parent has a Children Navigation Property).</p>\n\n<p><strong>My result when I search for a name that contains \"ParentA\":</strong></p>\n\n<ul>\n<li>ParentA</li>\n<li>ParentA_ChildA</li>\n<li>ParentA_ChildB</li>\n</ul>\n\n<p><strong>Desired result:</strong></p>\n\n<ul>\n<li>ParentA  (because <strong>ParentA.Children</strong> will contain <strong><em>ParentA_ChildA</em></strong> and <strong><em>ParentA_ChildB</em></strong>)</li>\n</ul>\n\n<p><strong>This is my current LINQ Query:</strong></p>\n\n<pre><code>var results = await dbContext.Nodes.\n                        Include(c =&gt; c.Parent).\n                        Where(c =&gt; c.NodeName.Contains(query)).\n                        OrderBy(n =&gt; n.NodeName).\n                        ToPagedListAsync(page ?? 1, pageSize);\n</code></pre>\n\n<p><strong>Node Entity:</strong></p>\n\n<pre><code>public class Node\n{\n    [Key, DatabaseGenerated(DatabaseGeneratedOption.None)]\n    public long Id { get; set; }\n\n    [Required, MaxLength(50)]\n    [DisplayName(\"Node Name\")]\n    public string NodeName { get; set; }\n\n    [ForeignKey(\"Parent\")]\n    public Nullable&lt;long&gt; ParentId { get; set; }\n    public virtual Node Parent { get; set; }\n\n    public virtual ICollection&lt;Node&gt; Children { get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "xml", "shell"], "owner": {"reputation": 336, "user_id": 4238524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jq49x.jpg?s=128&g=1", "display_name": "Rabby Hasan", "link": "https://stackoverflow.com/users/4238524/rabby-hasan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1519375626, "creation_date": 1435182190, "last_edit_date": 1435224797, "question_id": 31037623, "link": "https://stackoverflow.com/questions/31037623/windows-explorer-shell-integration-and-bit-more", "title": "windows explorer shell integration and bit more?", "body": "<p>I have registered a program in windows explorer right click menu using this link. <a href=\"http://www.codeproject.com/Articles/512956/NET-Shell-Extensions-Shell-Context-Menus\" rel=\"nofollow\">.NET-Shell-Extension</a>, It works fine. But my problem is I want to target XML file, If I right click on that file it will load that XML file and  open fileDialog to choose folder and create folder and sub-folder according to the structure of the XML file. It looks fine when I tasted it on shell server. I tried to register with this following code but its not appearing when I click on any XML file.</p>\n\n<pre><code>using System.IO;\nusing System.Runtime.InteropServices;\nusing System.Text;\nusing System.Windows.Forms;\nusing SharpShell.Attributes;\nusing SharpShell.SharpContextMenu;\nusing System.Xml;\n\nnamespace ClassLibrary1\n{\n[ComVisible(true)]\n[COMServerAssociation(AssociationType.ClassOfExtension, \".xml\")]\npublic class Class1 : SharpContextMenu\n{\n    protected override bool CanShowMenu()\n    {\n        return true;\n    }     \n    protected override ContextMenuStrip CreateMenu()\n    {          \n        var menu = new ContextMenuStrip();\n        var createFolder = new ToolStripMenuItem\n        {\n            Text = \"Create Folder\",                \n        };                      \n        createFolder.Click += (sender, args) =&gt; myFunction();\n        menu.Items.Add(createFolder);\n        return menu;\n    }\n    private void myFunction()\n    {\n        var ofd = new OpenFileDialog();\n        foreach (var filePath in SelectedItemPaths)\n        {             \n            if (ofd.ShowDialog() != DialogResult.Cancel)\n            {\n                string fullPath = ofd.FileName;               \n                using (XmlTextReader reader = new  XmlTextReader(fullPath))\n                {\n                    var basePath = filePath + \"/\";\n                    while (reader.Read())\n                    {\n                        switch (reader.NodeType)\n                        {\n                            case XmlNodeType.Element:                           \n                                var baseDirPath = Path.Combine(basePath + reader.Name);\n                                Directory.CreateDirectory(baseDirPath);\n                                break;\n                            case XmlNodeType.Text: \n                                Directory.CreateDirectory(basePath + reader.Name + \"/\" + reader.Value);\n                                break;\n                        }\n                    }\n                }\n            } \n        }        \n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "generics", "dependency-injection", "asp.net-core"], "comments": [{"owner": {"reputation": 4082, "user_id": 1062224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c7a4804d2601e7e166e00b7d6bbad22?s=128&d=identicon&r=PG", "display_name": "Anish Patel", "link": "https://stackoverflow.com/users/1062224/anish-patel"}, "edited": false, "score": 0, "creation_date": 1435182417, "post_id": 31037577, "comment_id": 50099372, "body": "open generics, good question!"}], "answers": [{"tags": [], "owner": {"reputation": 53359, "user_id": 1184056, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/10d932cc801053521e099e162dbe8bdb?s=128&d=identicon&r=PG", "display_name": "Kiran Challa", "link": "https://stackoverflow.com/users/1184056/kiran-challa"}, "is_accepted": true, "score": 9, "last_activity_date": 1458307750, "last_edit_date": 1458307750, "creation_date": 1435191144, "answer_id": 31039217, "question_id": 31037577, "link": "https://stackoverflow.com/questions/31037577/vnext-dependency-injection-generic-interface/31039217#31039217", "title": "vNext Dependency Injection Generic Interface", "body": "<p>Following is an example:</p>\n\n<p><code>services.TryAdd(ServiceDescriptor.Singleton(typeof(IOptions&lt;&gt;), typeof(OptionsManager&lt;&gt;)));</code></p>\n\n<p>Source: \n<a href=\"https://github.com/aspnet/Options/blob/1.0.0-rc1/src/Microsoft.Extensions.OptionsModel/OptionsServiceCollectionExtensions.cs#L23\" rel=\"noreferrer\">https://github.com/aspnet/Options/blob/1.0.0-rc1/src/Microsoft.Extensions.OptionsModel/OptionsServiceCollectionExtensions.cs#L23</a></p>\n"}], "owner": {"reputation": 2085, "user_id": 775706, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/mFwj3.jpg?s=128&g=1", "display_name": "jkruer01", "link": "https://stackoverflow.com/users/775706/jkruer01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1989, "favorite_count": 4, "accepted_answer_id": 31039217, "answer_count": 1, "score": 10, "last_activity_date": 1462270688, "creation_date": 1435182019, "last_edit_date": 1462270688, "question_id": 31037577, "link": "https://stackoverflow.com/questions/31037577/vnext-dependency-injection-generic-interface", "title": "vNext Dependency Injection Generic Interface", "body": "<p>I have created an ASP.Net vNext Web API.</p>\n\n<p>I have successfully used the dependency inection with a simple interface such as this:</p>\n\n<pre><code>services.AddScoped&lt;ILinearRegressionCalculator, LinearRegressionCalculator&gt;();\n</code></pre>\n\n<p>However, I can't figure out how to do dependency inection with a Generic Interface.</p>\n\n<p>How do I setup dependency injection for this interface:</p>\n\n<pre><code>public interface IMongoConnectionHandler&lt;T&gt; where T : IMongoEntity\n</code></pre>\n"}, {"tags": ["c#", ".net", "winforms"], "comments": [{"owner": {"reputation": 9918, "user_id": 1224069, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/pPBUs.jpg?s=128&g=1", "display_name": "Philip Pittle", "link": "https://stackoverflow.com/users/1224069/philip-pittle"}, "edited": false, "score": 0, "creation_date": 1435181985, "post_id": 31037512, "comment_id": 50099160, "body": "You want a global (ie static) variable?"}, {"owner": {"reputation": 40308, "user_id": 7122, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/31fdbe39c7657652fb5f34cdef2c78c9?s=128&d=identicon&r=PG", "display_name": "David Arno", "link": "https://stackoverflow.com/users/7122/david-arno"}, "edited": false, "score": 0, "creation_date": 1435182326, "post_id": 31037512, "comment_id": 50099336, "body": "Could you show the code please, where you create the instances of Form1 and Form2 (eg in Main)."}, {"owner": {"reputation": 36654, "user_id": 107625, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53a82f701ae492808834e621de2586eb?s=128&d=identicon&r=PG", "display_name": "Uwe Keim", "link": "https://stackoverflow.com/users/107625/uwe-keim"}, "edited": false, "score": 1, "creation_date": 1435182681, "post_id": 31037512, "comment_id": 50099507, "body": "Those &quot;two forms, one developer&quot; questions seem to never die..."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5046436, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153091087888090/picture?type=large", "display_name": "Joey Guerassio", "link": "https://stackoverflow.com/users/5046436/joey-guerassio"}, "is_accepted": false, "score": 0, "last_activity_date": 1435182091, "creation_date": 1435182091, "answer_id": 31037600, "question_id": 31037512, "link": "https://stackoverflow.com/questions/31037512/passing-not-a-new-object-as-parameter/31037600#31037600", "title": "Passing &quot;not a new&quot; object as parameter", "body": "<p>I would just create a variable on form 2 and a method that changes it, then when the button is pressed on form 1 do something like form_form2.someMethod(value) <br> but i'm not sure that's the recommended way to handle it.</p>\n\n<p>you would also have to change the scope of form_form2 i believe.</p>\n"}, {"tags": [], "owner": {"reputation": 40308, "user_id": 7122, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/31fdbe39c7657652fb5f34cdef2c78c9?s=128&d=identicon&r=PG", "display_name": "David Arno", "link": "https://stackoverflow.com/users/7122/david-arno"}, "is_accepted": false, "score": 1, "last_activity_date": 1435182522, "creation_date": 1435182522, "answer_id": 31037709, "question_id": 31037512, "link": "https://stackoverflow.com/questions/31037512/passing-not-a-new-object-as-parameter/31037709#31037709", "title": "Passing &quot;not a new&quot; object as parameter", "body": "<p>The solution is to inject a reference to <code>Form1</code> into <code>Form2</code>. You could do this like:</p>\n\n<pre><code>public partial class Form2 : Form\n{\n    public Form2()\n    {\n        InitializeComponent();\n    }\n\n    public Form1 OtherForm { get; set; }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        string value = OtherForm.value;\n        ...\n</code></pre>\n\n<p>Then in the sction of code where you create the <code>Form1</code> and <code>Form2</code> instances, do something like:</p>\n\n<pre><code>Form1 form1 = new Form1();\nForm2 form2 = new Form2();\nform2.OtherForm = form1;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1195, "user_id": 4273199, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8TDx.jpg?s=128&g=1", "display_name": "Mischa", "link": "https://stackoverflow.com/users/4273199/mischa"}, "is_accepted": false, "score": 0, "last_activity_date": 1435183248, "creation_date": 1435183248, "answer_id": 31037893, "question_id": 31037512, "link": "https://stackoverflow.com/questions/31037512/passing-not-a-new-object-as-parameter/31037893#31037893", "title": "Passing &quot;not a new&quot; object as parameter", "body": "<p>Don't create a new Form1. Pass your Value to your Form2. I modified your code a little bit:</p>\n\n<p><strong>Form1</strong>:</p>\n\n<pre><code>namespace GUITest\n{\n  public partial class Form1 : Form\n  {\n    private string _value = \"Default\"; // Create a private field with your Default Value\n\n    public string Value\n    {\n      get\n      {\n        return _value;\n      }\n      set\n      {\n        _value = value\n      }\n    }\n\n    public Form1()\n    {\n      Application.EnableVisualStyles();\n      InitializeComponent();\n      this.textBox1.Text = Value;\n    }\n\n    private void textBox1_TextChanged(object sender, EventArgs e)\n    {\n      Value = this.textBox1.Text;\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n      switch (comboBox2.SelectedIndex)\n      {\n        case -1:\n          MessageBox.Show(\"You didn't choose anything.\");\n          break;\n        case 0:\n          MessageBox.Show(\"Value of variable: \" + value); // Here it's the new value, NOT \"Default\"\n          Form2 form_Form2 = new Form2(Value); // Pass the Value to the Constructor of Form2\n          form_Form2.ShowDialog();\n          break;\n      }\n    }\n  }\n}\n</code></pre>\n\n<p><strong>Form2</strong></p>\n\n<pre><code>namespace GUITest\n{\n  public partial class Form2 : Form\n  {\n\n    private string _value; // Again your field but this time without your default Value\n\n    public Form2(string myVal)\n    {\n      InitializeComponent();\n      _value = myVal;\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n      if (checkBox1.Checked)\n      {\n        MessageBox.Show(\"Value: \" + _value); // Here it's now not anymore \"Default\" :)\n      }\n      else // Removed redundant if\n      {\n        MessageBox.Show(\"Value: \" + _value); // TBD\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>And something general: Even if it's only you who is working on this project... Give your controls self explaining names ;) It'll make your developer life much easier :)</p>\n\n<p>Code should work. I couldn't test it at the moment. If errors occur then pls comment! :)</p>\n\n<p><em>Source: My own know-how ^^</em></p>\n"}, {"tags": [], "owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "is_accepted": false, "score": 0, "last_activity_date": 1435185839, "creation_date": 1435185839, "answer_id": 31038407, "question_id": 31037512, "link": "https://stackoverflow.com/questions/31037512/passing-not-a-new-object-as-parameter/31038407#31038407", "title": "Passing &quot;not a new&quot; object as parameter", "body": "<p>Since you're using <code>ShowDialog()</code>, simply grab the value off your Form2 instance when it returns execution back to Form1.  Form2 does <strong>not</strong> need any kind of reference to Form1 for this to work...</p>\n\n<p>So you need to do two things:</p>\n\n<ol>\n<li>Somehow pass the current value to Form2 (via the Constructor is a common way and has already been shown).</li>\n<li>Retrieve the new value off Form2 if \"OK\" was returned.  A property in Form2 would be best.</li>\n</ol>\n\n<p>Here are those two things put together:</p>\n\n<pre><code>public partial class Form1 : Form\n{\n\n    public Form1()\n    {\n        InitializeComponent();\n        this.textBox1.Text = \"Default\";\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        switch (comboBox2.SelectedIndex)\n        {\n            case -1:\n                MessageBox.Show(\"You didn't choose anything.\");\n                break;\n            case 0:\n                Form2 form_Form2 = new Form2(this.textBox1.Text);\n                if (form_Form2.ShowDialog() == System.Windows.Forms.DialogResult.OK)\n                {\n                    this.textBox1.Text = form_Form2.Value;\n                }\n                break;\n        }\n    }\n\n}\n\npublic partial class Form2 : Form\n{\n\n    private Form2() { }\n\n    public string Value\n    {\n        get\n        {\n            return this.textBox1.Text;\n        }\n    }\n\n    public Form2(string currentValue)\n    {\n        InitializeComponent();\n        this.textBox1.Text = currentValue;\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        this.DialogResult = System.Windows.Forms.DialogResult.OK;\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5046365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d3c98b0a209b809e949de8f57ece680?s=128&d=identicon&r=PG&f=1", "display_name": "user5046365", "link": "https://stackoverflow.com/users/5046365/user5046365"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1435185839, "creation_date": 1435181765, "last_edit_date": 1435182627, "question_id": 31037512, "link": "https://stackoverflow.com/questions/31037512/passing-not-a-new-object-as-parameter", "title": "Passing &quot;not a new&quot; object as parameter", "body": "<p>Probably a simple one, I am just learning C#.</p>\n\n<p>I am using VS2013, having two forms.</p>\n\n<p>Goal: A textbox has a default value. At the time of a button (still on form1) is pressed, pass the new, entered value from the textbox on form1, from form1 to form2.</p>\n\n<p>I have one textbox on Form1 and on Form2 a button, that is telling me what's in the textbox of Form1. This is all right, but I am handling TextChangedEvent so if I modify the text, the creation of a new object of Form1 will result in having a new instance, thus the changed text will be wiped out. It remains the default value.</p>\n\n<p>Question: how to reference to the current value of the object, not create a new instance and have default values?</p>\n\n<p>Form1:</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    public string value { get; set; }\n\n    public Form1()\n    {\n        Application.EnableVisualStyles();\n        InitializeComponent();\n        this.textBox1.Text = \"Default\";\n    }\n\n    private void textBox1_TextChanged(object sender, EventArgs e)\n    {\n        value = this.textBox1.Text;\n    }\n    private void button1_Click(object sender, EventArgs e)\n    {\n        switch (comboBox2.SelectedIndex)\n        {\n            case -1:\n                MessageBox.Show(\"You didn't choose anything.\");\n                break;\n            case 0:\n                MessageBox.Show(\"Value of variable: \" + value); // Here it's the new value, NOT \"Default\"\n                Form2 form_Form2 = new Form2();\n                form_Form2.ShowDialog();\n                break;\n        }\n    }\n}\n</code></pre>\n\n<p>Form2:</p>\n\n<pre><code>public partial class Form2 : Form\n{\n    public Form2()\n    {\n        InitializeComponent();\n    }\n    private void button1_Click(object sender, EventArgs e)\n    {\n        Form1 getdata = new Form1();\n        string value = getdata.value;\n        if (checkBox1.Checked)\n        {\n            MessageBox.Show(\"Value: \" + value); // Here it's \"Default\" :(\n        }\n        else if (!checkBox1.Checked)\n        {\n            MessageBox.Show(\"Value: \" + value); // TBD\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio-debugging"], "answers": [{"tags": [], "owner": {"reputation": 9918, "user_id": 1224069, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/pPBUs.jpg?s=128&g=1", "display_name": "Philip Pittle", "link": "https://stackoverflow.com/users/1224069/philip-pittle"}, "is_accepted": false, "score": 2, "last_activity_date": 1435181848, "creation_date": 1435181848, "answer_id": 31037529, "question_id": 31037473, "link": "https://stackoverflow.com/questions/31037473/visual-studio-debugger-run-until-next-user-prompt/31037529#31037529", "title": "Visual Studio debugger - run until next user prompt", "body": "<p>You can open the Breakpoints window <strong>(Debug -> Windows -> Breakpoints)</strong> and then you can select multiple breakpoints and disable or enable them as you go:</p>\n\n<p><img src=\"https://i.stack.imgur.com/L6fRT.png\" alt=\"Breakpoints window\"></p>\n"}, {"tags": [], "owner": {"reputation": 1801, "user_id": 73027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4w9nA.png?s=128&g=1", "display_name": "codemonkeh", "link": "https://stackoverflow.com/users/73027/codemonkeh"}, "is_accepted": false, "score": 0, "last_activity_date": 1435277059, "creation_date": 1435277059, "answer_id": 31062797, "question_id": 31037473, "link": "https://stackoverflow.com/questions/31037473/visual-studio-debugger-run-until-next-user-prompt/31062797#31062797", "title": "Visual Studio debugger - run until next user prompt", "body": "<p>The best thing i can think of would be to create a condition on the breakpoint to only break when the data is set up. </p>\n\n<p>E.g.</p>\n\n<p><img src=\"https://i.stack.imgur.com/z15B8.png\" alt=\"Add conditional breakpoint\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/VtpIG.png\" alt=\"Setting the condition for the breakpoint\"></p>\n\n<p>Or if all else fails, set a BreakPoint Hit Count, if you know it'll always be the 6th break that is relevant. E.g.</p>\n\n<p><img src=\"https://i.stack.imgur.com/u1oj9.png\" alt=\"Defining a breakpoint hit count\"></p>\n"}], "owner": {"reputation": 73, "user_id": 1694859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32c0b35d0199898156a5e13ecd353bf4?s=128&d=identicon&r=PG", "display_name": "Vince Miccio", "link": "https://stackoverflow.com/users/1694859/vince-miccio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1435277059, "creation_date": 1435181592, "last_edit_date": 1435181723, "question_id": 31037473, "link": "https://stackoverflow.com/questions/31037473/visual-studio-debugger-run-until-next-user-prompt", "title": "Visual Studio debugger - run until next user prompt", "body": "<p>I'm in a Visual Studio debugging session, debugging a WinForms app, but I think this question applies to an ASP.Net code-behind debug session also.  Let's say that I have lots of breakpoints set and I want to test a condition that requires running a setup test case first, then I want to run another test case that exercises the code again.  The first time, I have to hit the Continue (F9) button 5 times to progress through the code breakpoints and finally arrive at the point where I'm prompted for input again. Now I want to input some data and I now want to carefully step through all the breakpoints.</p>\n\n<p>Is there some way I can quickly push a button and tell the debugger to skip all those breakpoints during the setup test case entry and just progress to the next data input field?  I know about the run to cursor capablilty, but that doesn't seem any easier than clicking thru all of the breakpoints.</p>\n\n<p>I know this may sound trivial, but I find myself in this situation all the time.\nI just want a super-continue button.</p>\n"}, {"tags": ["c#", "windows-phone-8", "unity3d", "unityscript"], "comments": [{"owner": {"reputation": 5982, "user_id": 937131, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7f901fe72af6b6308f6054f7ce88f993?s=128&d=identicon&r=PG", "display_name": "JensB", "link": "https://stackoverflow.com/users/937131/jensb"}, "edited": false, "score": 0, "creation_date": 1435439170, "post_id": 31037396, "comment_id": 50203448, "body": "Thought I had figured it out by making a raw <code>System.Net.Sockets</code> request but turns out this isent supported either.. Unity is starting to suck."}, {"owner": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "edited": false, "score": 0, "creation_date": 1435443953, "post_id": 31037396, "comment_id": 50204712, "body": "When you say &quot;I&#39;ve also tried WebRequests, but GetResponse() breaks it&quot;, what do you mean exactly? How does it break?"}], "answers": [{"comments": [{"owner": {"reputation": 5982, "user_id": 937131, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7f901fe72af6b6308f6054f7ce88f993?s=128&d=identicon&r=PG", "display_name": "JensB", "link": "https://stackoverflow.com/users/937131/jensb"}, "edited": false, "score": 0, "creation_date": 1435483074, "post_id": 31094171, "comment_id": 50211771, "body": "Tried using these methods instead but resulted in the same annoying does not exist on target platform errors. Updated question with result."}, {"owner": {"reputation": 3184, "user_id": 3517635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8addd5b5f91cd2334626e874e956daaa?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Hoffmann", "link": "https://stackoverflow.com/users/3517635/stefan-hoffmann"}, "reply_to_user": {"reputation": 5982, "user_id": 937131, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7f901fe72af6b6308f6054f7ce88f993?s=128&d=identicon&r=PG", "display_name": "JensB", "link": "https://stackoverflow.com/users/937131/jensb"}, "edited": false, "score": 0, "creation_date": 1435531228, "post_id": 31094171, "comment_id": 50226055, "body": "@JensB You tried <code>UploadDataAsync</code>, which doesn&#39;t exist for Windows Phone. Only the string versions are <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/System.Net.WebClient_methods(v=vs.105).aspx\" rel=\"nofollow noreferrer\">supported</a>"}, {"owner": {"reputation": 5982, "user_id": 937131, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7f901fe72af6b6308f6054f7ce88f993?s=128&d=identicon&r=PG", "display_name": "JensB", "link": "https://stackoverflow.com/users/937131/jensb"}, "edited": false, "score": 0, "creation_date": 1435822605, "post_id": 31094171, "comment_id": 50362955, "body": "Although this diden&#39;t give me the solution, it helped me find the right documentation for solving the problem (the accepted answer), so Ill give you the bounty :)"}], "tags": [], "owner": {"reputation": 11321, "user_id": 4184842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mD03.jpg?s=128&g=1", "display_name": "Peter Torr - MSFT", "link": "https://stackoverflow.com/users/4184842/peter-torr-msft"}, "is_accepted": false, "score": 1, "last_activity_date": 1435444123, "creation_date": 1435444123, "answer_id": 31094171, "question_id": 31037396, "link": "https://stackoverflow.com/questions/31037396/making-a-post-request-in-unity-on-windows-phone-8/31094171#31094171", "title": "Making a post request in Unity on Windows Phone 8", "body": "<p>I don't know about any potential restrictions placed on you by Unity, but Windows Phone 8 has the <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/system.net.webclient.uploadstringasync(v=vs.105).aspx\" rel=\"nofollow\"><code>WebClient.UploadStringAsync</code> method</a> and the <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/system.net.webclient.uploadstringasync(v=vs.105).aspx\" rel=\"nofollow\"><code>WebClient.UploadStringCompleted</code> event</a> for doing just this. </p>\n\n<p><code>HttpWebRequest</code> should also work (again, I don't know about any Unity limitations - see comment above asking for clarification).</p>\n"}, {"comments": [{"owner": {"reputation": 490, "user_id": 1906111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba9127dc24cb1ffc1edd57c312e1859?s=128&d=identicon&r=PG", "display_name": "G&#233;ry Arduino", "link": "https://stackoverflow.com/users/1906111/g%c3%a9ry-arduino"}, "edited": false, "score": 0, "creation_date": 1435653072, "post_id": 31133160, "comment_id": 50277461, "body": "Unity will swap those two dlls on build time so that on your windows phone solution you will have already referenced the dll which is compatible for windows phone"}], "tags": [], "owner": {"reputation": 490, "user_id": 1906111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba9127dc24cb1ffc1edd57c312e1859?s=128&d=identicon&r=PG", "display_name": "G&#233;ry Arduino", "link": "https://stackoverflow.com/users/1906111/g%c3%a9ry-arduino"}, "is_accepted": false, "score": 0, "last_activity_date": 1435652957, "last_edit_date": 1435652957, "creation_date": 1435652638, "answer_id": 31133160, "question_id": 31037396, "link": "https://stackoverflow.com/questions/31037396/making-a-post-request-in-unity-on-windows-phone-8/31133160#31133160", "title": "Making a post request in Unity on Windows Phone 8", "body": "<p>You cannot use these frameworks from unity because they are threaded / async / use another version of .Net</p>\n\n<p>In short :</p>\n\n<ul>\n<li>Unity runs on a version of mono which accepts only .Net 3.5</li>\n<li>Unity does not allow you to start threads, tasks or anything close to real asynchronicity</li>\n<li>You can implement those though.</li>\n</ul>\n\n<p>To do that on windows phone you will need to create a class library (two in fact) what unity calls a plugin</p>\n\n<p>So why two dlls? </p>\n\n<p>Because the editor needs a mockup dll (or the actual one if you want to implement it for desktop as well) that implements the same interface as the dll which is compatible on windows phone.</p>\n\n<p>To be clear : </p>\n\n<ul>\n<li>The dll for the editor (in Assets/Plugins) needs to be compatible .Net 3.5 and desktop</li>\n<li>The dll placed in Assets/plugins/WP8 needs to be compatible windows phone .Net subset (as i remember you can be .Net 4.5 with no pb)</li>\n</ul>\n\n<p>So you should implement that functionality in a dll, then reference that in unity, and finally call it directly.</p>\n\n<p>All is explained here : <a href=\"http://docs.unity3d.com/Manual/wp8-plugins-guide-csharp.html\" rel=\"nofollow\">http://docs.unity3d.com/Manual/wp8-plugins-guide-csharp.html</a></p>\n\n<p>It is simpler than it looks like.</p>\n"}, {"comments": [{"owner": {"reputation": 5982, "user_id": 937131, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7f901fe72af6b6308f6054f7ce88f993?s=128&d=identicon&r=PG", "display_name": "JensB", "link": "https://stackoverflow.com/users/937131/jensb"}, "edited": false, "score": 0, "creation_date": 1435734840, "post_id": 31150491, "comment_id": 50318759, "body": "To the best of my knowledge this is not true. I have a thread on unity forums regarding this: <a href=\"http://goo.gl/3sC9gp\" rel=\"nofollow noreferrer\">goo.gl/3sC9gp</a> Basically WWW will block the rendering thread."}, {"owner": {"reputation": 936, "user_id": 4764202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29ef305cf8560cdd2483e32dbf08f922?s=128&d=identicon&r=PG", "display_name": "Colton White", "link": "https://stackoverflow.com/users/4764202/colton-white"}, "reply_to_user": {"reputation": 5982, "user_id": 937131, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7f901fe72af6b6308f6054f7ce88f993?s=128&d=identicon&r=PG", "display_name": "JensB", "link": "https://stackoverflow.com/users/937131/jensb"}, "edited": false, "score": 1, "creation_date": 1435798993, "post_id": 31150491, "comment_id": 50355596, "body": "Have you tried doing a while loop and checking the isDone instead of doing yield return wwwObject?  That is really strange to me because I&#39;ve never seen that happen, but based on that link it looks like you are doing everything right, sorry i couldn&#39;t be more help :("}], "tags": [], "owner": {"reputation": 936, "user_id": 4764202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29ef305cf8560cdd2483e32dbf08f922?s=128&d=identicon&r=PG", "display_name": "Colton White", "link": "https://stackoverflow.com/users/4764202/colton-white"}, "is_accepted": false, "score": 0, "last_activity_date": 1435708795, "creation_date": 1435708795, "answer_id": 31150491, "question_id": 31037396, "link": "https://stackoverflow.com/questions/31037396/making-a-post-request-in-unity-on-windows-phone-8/31150491#31150491", "title": "Making a post request in Unity on Windows Phone 8", "body": "<p>I know you said you don't want to use the WWW class, but the reasons you gave to dont make sense IMO.</p>\n\n<p>If you use a Coroutine to check the \".isDone\" flag and not check it by using the Thread.Sleep() it wont block rendering and is thread safe (since unity only gives you access to its info on a single thread).</p>\n\n<p>If you want to access the return data on another thread you just need to read that data in the main unity thread and then pass it along to whatever thread you want to use it on.</p>\n\n<p>Unity by design is all runs on a single thread to make life easier for less experienced programmers.  Though you should be able to create multiple threads using .NET threading, you will not be able to communicate directly with any Unity components, but you can pass the data back to Unity and wait until Update or another call by Unity to use the data. I know this doesnt answer your question exactly but if you cant solve it I think it would be worthwhile to look again at the WWW class and the best practices in using it.</p>\n"}, {"tags": [], "owner": {"reputation": 5982, "user_id": 937131, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7f901fe72af6b6308f6054f7ce88f993?s=128&d=identicon&r=PG", "display_name": "JensB", "link": "https://stackoverflow.com/users/937131/jensb"}, "is_accepted": true, "score": 1, "last_activity_date": 1435822641, "last_edit_date": 1435822641, "creation_date": 1435735846, "answer_id": 31155131, "question_id": 31037396, "link": "https://stackoverflow.com/questions/31037396/making-a-post-request-in-unity-on-windows-phone-8/31155131#31155131", "title": "Making a post request in Unity on Windows Phone 8", "body": "<p>Go it to work on the windows phone using the code below. Compiles and runs in the editor, on Android and on WP8 (yay!). Haven't tried it on iOS yet. </p>\n\n<p>Also wrote a post about it here: <a href=\"http://www.syntaxwarriors.com/2015/send-post-request-in-unity-on-any-platform-even-windows-phone-without-www/\" rel=\"nofollow\">Create Web requests for unity that work on all platforms, even WP8</a></p>\n\n<pre><code>/// &lt;summary&gt;\n/// Make post request to url with given paramaters\n/// &lt;/summary&gt;\n/// &lt;param name=\"url\"&gt;URL to post data to http://server.com/method &lt;/param&gt;\n/// &lt;param name=\"data\"&gt;{ Data: data }&lt;/param&gt;\n/// &lt;returns&gt;string server response&lt;/returns&gt;\npublic string PostData(string url, string data)\n{\n    // json request, hard coded right now but use \"data\" paramater to set this value.\n    string jsonRequest = \"{\\\"Data\\\": \\\"data\\\"}\"; // the json request\n\n    var request = System.Net.WebRequest.Create(url) as System.Net.HttpWebRequest;\n\n    // this could be different for your server\n    request.ContentType = \"application/json\"; \n\n    // i want to do post and not get\n    request.Method = \"POST\"; \n\n    // used to check if async call is complete\n    bool isRequestCallComplete = false;\n\n    // store the response in this\n    string responseString = string.Empty;\n\n    request.BeginGetRequestStream(ar =&gt;\n    {\n        var requestStream = request.EndGetRequestStream(ar);\n        using (var sw = new System.IO.StreamWriter(requestStream))\n        {\n            // write the request data to the server\n            sw.Write(jsonRequest);\n\n            // force write of all content \n            sw.Flush();\n        }\n\n        request.BeginGetResponse(a =&gt;\n        {\n            var response = request.EndGetResponse(a);\n            var responseStream = response.GetResponseStream();\n            using (var sr = new System.IO.StreamReader(responseStream))\n            {\n                // read in the servers response right here.\n                responseString = sr.ReadToEnd();\n            }\n            // set this to true so the while loop at the end stops looping.\n            isRequestCallComplete = true;\n        }, null);\n\n    }, null);\n\n    // wait for request to complete before continuing\n    // probably want to add some sort of time out to this \n    // so that the request is stopped after X seconds.\n    while (isRequestCallComplete == false) { Thread.Sleep(50); }\n\n    return responseString;\n}\n</code></pre>\n"}], "owner": {"reputation": 5982, "user_id": 937131, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7f901fe72af6b6308f6054f7ce88f993?s=128&d=identicon&r=PG", "display_name": "JensB", "link": "https://stackoverflow.com/users/937131/jensb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 0, "accepted_answer_id": 31155131, "answer_count": 4, "score": 9, "last_activity_date": 1435822641, "creation_date": 1435181349, "last_edit_date": 1435483017, "question_id": 31037396, "link": "https://stackoverflow.com/questions/31037396/making-a-post-request-in-unity-on-windows-phone-8", "title": "Making a post request in Unity on Windows Phone 8", "body": "<p>I'm trying to do a post request on windows phone 8 from the Unity Platform. I do not want to use the unity WWW method as this blocks rendering (and is not thread safe).</p>\n\n<p>The following code works in the editor and on Android, but when building it for WP8 I get the following error. </p>\n\n<blockquote>\n  <p>System.Byte[] System.Net.WebClient::UploadData(System.String,System.String,System.Byte[])` doesn't exist in target framework.</p>\n</blockquote>\n\n<p>The reason for this error is explained here</p>\n\n<blockquote>\n  <p>It\u2019s because Windows Phone 8 uses a different flavor of .NET called .NET for Windows Phone which is missing some of the types available on other platforms. You\u2019ll have to either replace these types with different ones or implement them yourself. \n  - <a href=\"http://docs.unity3d.com/Manual/wp8-faq.html\">http://docs.unity3d.com/Manual/wp8-faq.html</a></p>\n</blockquote>\n\n<p>This is my code</p>\n\n<pre><code>using (WebClient client = new WebClient())\n{\n    client.Encoding = System.Text.Encoding.UTF8;\n    client.Headers[HttpRequestHeader.ContentType] = \"application/json\";\n\n    byte[] requestData = new byte[0];\n    string jsonRequest = \"{}\";\n    if (data != null) \n    {\n        string tempRequest = Converter.SerializeToString (data);\n        jsonRequest = \"{\\\"Data\\\": \\\"\" + tempRequest + \"\\\"}\";\n\n        requestData = System.Text.Encoding.UTF8.GetBytes(jsonRequest);\n    }\n\n    // below line of code is the culprit    \n    byte[] returnedData = client.UploadData(url, \"POST\", requestData);\n\n    if(returnedData.Length &gt; 0)\n    {\n        // do stuff\n    }\n}\n</code></pre>\n\n<p>I've also tried WebRequests, but GetResponse() breaks it, and HttpClient does not exist. </p>\n\n<p>So, how do I post data in Unity, without using WWW, on windows phone 8?</p>\n\n<p><strong>UPDATE AS PER COMMENT REQUEST - WebRequests</strong></p>\n\n<p>This code, using HttpWebRequest works in the editor and on Android, but on windows phone throws the errors listed below the code.</p>\n\n<pre><code>var request = (System.Net.HttpWebRequest) System.Net.WebRequest.Create(url); \nrequest.ContentType = \"application/json\";\nrequest.Method = \"POST\";\n\nvar sw = new System.IO.StreamWriter(request.GetRequestStream(), System.Text.Encoding.UTF8);\n\nsw.Write(jsonRequest); // jsonRequest is same variable as in above code, string with json object.\nsw.Close();\n\nvar re = request.GetResponse();\n\nstring resultString = \"\";\nusing (var outputStream = new System.IO.StreamReader(re.GetResponseStream(), System.Text.Encoding.UTF8))\n{\n    resultString = outputStream.ReadToEnd();\n}\n\nif(resultString.Length &gt; 0)\n{}\n</code></pre>\n\n<p>Error 1:</p>\n\n<blockquote>\n  <p>Error: method <code>System.IO.Stream System.Net.HttpWebRequest::GetRequestStream()</code> doesn't exist in target framework.</p>\n</blockquote>\n\n<p>Error 2:</p>\n\n<blockquote>\n  <p><code>System.Net.WebResponse System.Net.HttpWebRequest::GetResponse()</code> doesn't exist in target framework.</p>\n</blockquote>\n\n<p><strong>UPDATE WITH MORE DETAILS - UploadStringAsync</strong></p>\n\n<p>Using this code to make an async request it again works great in the editor, errors are thrown on the WP8.</p>\n\n<pre><code>bool isCompleted = false;\nbyte[] returnedData = null;\nclient.UploadDataCompleted += \n   new UploadDataCompletedEventHandler((object sender, UploadDataCompletedEventArgs e) =&gt; \n{\n        Debug.Log(\"return event\");\n        returnedData = e.Result;\n        isCompleted =true;\n});\n\nDebug.Log(\"async call start\");\nclient.UploadDataAsync(new Uri(url), requestData);\n\nwhile(isCompleted == false){\n    Thread.Sleep(100);\n}\n\nif(returnedData.Length &gt; 0)\n{}\n</code></pre>\n\n<p>Error 1</p>\n\n<blockquote>\n  <p>method <code>System.Void System.Net.WebClient::add_UploadDataCompleted(System.Net.UploadDataCompletedEventHandler)</code> doesn't exist in target framework.</p>\n</blockquote>\n\n<p>Error 2</p>\n\n<blockquote>\n  <p>Error: method <code>System.Void System.Net.WebClient::UploadDataAsync(System.Uri,System.Byte[])</code> doesn't exist in target framework. </p>\n</blockquote>\n\n<p>Error 3</p>\n\n<blockquote>\n  <p>Error: type <code>System.Net.UploadDataCompletedEventArgs</code> doesn't exist in target framework.</p>\n</blockquote>\n\n<p>Error 4</p>\n\n<blockquote>\n  <p>Error: method <code>System.Byte[] System.Net.UploadDataCompletedEventArgs::get_Result()</code> doesn't exist in target framework.</p>\n</blockquote>\n"}, {"tags": ["c#", "asp.net", "iis", "asp.net-web-api", "exception-handling"], "answers": [{"comments": [{"owner": {"reputation": 9862, "user_id": 27012, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ee274e0f76943bacbc5168ad7845284e?s=128&d=identicon&r=PG", "display_name": "MichaelGG", "link": "https://stackoverflow.com/users/27012/michaelgg"}, "edited": false, "score": 0, "creation_date": 1435182422, "post_id": 31037655, "comment_id": 50099375, "body": "I&#39;d like to avoid modifying any of the client code, and solve it instead by doing something global to ASP.NET/Web API."}], "tags": [], "owner": {"reputation": 11, "user_id": 5045905, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-87_1rjiznos/AAAAAAAAAAI/AAAAAAAAgI0/XtMw6ht_NDc/photo.jpg?sz=128", "display_name": "Mariusz Bojkowski", "link": "https://stackoverflow.com/users/5045905/mariusz-bojkowski"}, "is_accepted": false, "score": 1, "last_activity_date": 1435182353, "creation_date": 1435182353, "answer_id": 31037655, "question_id": 31037371, "link": "https://stackoverflow.com/questions/31037371/restart-iis-appdomain-on-type-initializer-static-constructor-exception/31037655#31037655", "title": "Restart IIS AppDomain on type initializer/static constructor exception", "body": "<p>Just a thought. Is the 'rare failure' deterministic? Could it be solved by adding retry logic?</p>\n\n<pre><code>public static readonly string Thing = RetrySpecialCall();\n\nprivate static string RetrySpecialCall()\n{\n    while (true)\n    {\n        try\n        {\n            return SomeSpecialCallThatRarelyFails();\n        }\n        catch (Exception) {}\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9862, "user_id": 27012, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ee274e0f76943bacbc5168ad7845284e?s=128&d=identicon&r=PG", "display_name": "MichaelGG", "link": "https://stackoverflow.com/users/27012/michaelgg"}, "is_accepted": false, "score": 0, "last_activity_date": 1435785793, "last_edit_date": 1435785793, "creation_date": 1435183435, "answer_id": 31037943, "question_id": 31037371, "link": "https://stackoverflow.com/questions/31037371/restart-iis-appdomain-on-type-initializer-static-constructor-exception/31037943#31037943", "title": "Restart IIS AppDomain on type initializer/static constructor exception", "body": "<p>So here's a way to handle it in Web API 1:</p>\n\n<p>In Application_Start, iterate over your controller types, calling System.Runtime.CompilerServices.RuntimeHelpers.RunClassConstructor to force all your known type constructors to run. If it Application_Start fails, ASP.NET seems to restart.</p>\n\n<p>Add an exception filter that looks for TypeInitializationExceptions. Then call HttpRuntime.UnloadAppDomain().</p>\n\n<p>The two parts are needed as a controller failing to construct will not hit the exception filters.</p>\n\n<p>With Web API 2 it seems like you could do it in <a href=\"http://www.asp.net/web-api/overview/error-handling/web-api-global-error-handling\" rel=\"nofollow\">one go</a> by implementing System.Web.Http.ExceptionHandling.IExceptionLogger and registering it as a global service. Same logic: check for TypeInitializationException and UnloadAppDomain if so.</p>\n"}], "owner": {"reputation": 9862, "user_id": 27012, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ee274e0f76943bacbc5168ad7845284e?s=128&d=identicon&r=PG", "display_name": "MichaelGG", "link": "https://stackoverflow.com/users/27012/michaelgg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1435785793, "creation_date": 1435181211, "question_id": 31037371, "link": "https://stackoverflow.com/questions/31037371/restart-iis-appdomain-on-type-initializer-static-constructor-exception", "title": "Restart IIS AppDomain on type initializer/static constructor exception", "body": "<p>I've got an ASP.NET that relies on some code that uses static constructors. The code in these type initializers sometimes fails. Let's say, for sake of argument, that the code is:</p>\n\n<pre><code>public static readonly string Thing = SomeSpecialCallThatRarelyFails();\n</code></pre>\n\n<p>Perhaps that's vile, but it cannot be changed. And this kinda code is in every controller, so ASP.NET can't create the controller and just sits there broken until someone comes along to restart it.</p>\n\n<p>I understand this is the way it should be, because the problem may very well be non-transient and auto-restarting would create a loop. Or perhaps only one controller fails, so the app is still sort of alive. So I get the default behaviour to just keep returning the error. But in this particular case, let's pretend the best thing is to notice this failure and restart.</p>\n\n<p>How can I automate the detection of this scenario and trigger a restart or recycle of the IIS app pool/AppDomain?</p>\n\n<p>I've noticed that if I cause an exception on Application_Start, then the app will auto-restart. So one way is for me to iterate over all my types and try accessing them. If they have .cctor failures, then I'll crash Application_Start and ASP.NET will restart. But that's pretty hacky, plus it won't help if the actual request code references another type that I don't know about which throws on .cctor.</p>\n\n<p>Is there a better way? Should I write a Web API filter and look for TypeInitializerException or something?</p>\n"}, {"tags": ["c#", "asp.net", "sql-server", "asp.net-membership", "web-deployment"], "comments": [{"owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1435183217, "post_id": 31037333, "comment_id": 50099721, "body": "Well, the exception message said your application cannot connect to SQL server. Could you make sure you can even connect to same SQL sever via SSMS?"}, {"owner": {"reputation": 2585, "user_id": 2970223, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/efcbf2c33336818cac5884b256806ee8?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2970223/chris"}, "reply_to_user": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1435183323, "post_id": 31037333, "comment_id": 50099779, "body": "@Win, that&#39;s the thing I can connect to the database through SSMS, I can query the tables as well"}], "answers": [{"tags": [], "owner": {"reputation": 899, "user_id": 1140411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c037257e7ff09fda74d262749fa30ab?s=128&d=identicon&r=PG", "display_name": "MIKE", "link": "https://stackoverflow.com/users/1140411/mike"}, "is_accepted": true, "score": 0, "last_activity_date": 1435294181, "creation_date": 1435294181, "answer_id": 31065146, "question_id": 31037333, "link": "https://stackoverflow.com/questions/31037333/deploying-web-application-that-uses-asp-net-membership-database-throws-error-on/31065146#31065146", "title": "Deploying web application that uses Asp.NET Membership database throws error on Login and Register", "body": "<p>Remove the port from your connection string</p>\n"}], "owner": {"reputation": 2585, "user_id": 2970223, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/efcbf2c33336818cac5884b256806ee8?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2970223/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 31065146, "answer_count": 1, "score": 0, "last_activity_date": 1435294181, "creation_date": 1435181096, "last_edit_date": 1495541161, "question_id": 31037333, "link": "https://stackoverflow.com/questions/31037333/deploying-web-application-that-uses-asp-net-membership-database-throws-error-on", "title": "Deploying web application that uses Asp.NET Membership database throws error on Login and Register", "body": "<p>I posted a question a few days ago about a Win32 Exception error about the parameter was incorrect when deploying to godaddy, that link is <a href=\"https://stackoverflow.com/questions/30987167/win32-exception-error-the-parameter-was-incorrect-after-deploying-to-godaddy\">here</a>\nWell after some more digging around, I thought I had figured out the issue because what I was trying to do was not only deploy the web app (which I have successfully done) but also deploy the asp.net membership database that gets created when creating a project and using the Webforms template in VS2013.\nSo I found some tutorials on this <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/ff361972(v=vs.100).aspx\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/dd465343(v=vs.100).aspx\" rel=\"nofollow noreferrer\">here</a>\nSo after following and trying both, I am still getting the same error that I mentioned in my original question. I took a look at the webconfig and noticed this connectionstring</p>\n\n<pre><code>&lt;add name=\"DefaultConnection\" connectionString=\"Data Source=(LocalDb)\\v11.0;AttachDbFilename=|DataDirectory|\\aspnet-GSDataCollection-20150421103634.mdf;Initial Catalog=aspnet-GSDataCollection-20150421103634;Integrated Security=True\" providerName=\"System.Data.SqlClient\" /&gt;\n</code></pre>\n\n<p>This was created when I created the project. I commented that out because I generated scripts from SSMS with schema and data, and ran it against the shared database and then added this connectionstring</p>\n\n<pre><code>&lt;add name=\"DefaultConnection\" connectionString=\"Data Source=*****:1433;Initial Catalog=*****;Persist Security Info=True;User ID=*****;Password=*****\" providerName=\"System.Data.SqlClient\" /&gt;\n</code></pre>\n\n<p>this is the connectionstring that I use to connect to the database through SSMS and was provided when I opened the database in the Server Explorer of Visual Studio and got it from right clicking the database and clicking properties then copied it over from properties area.\nSo next I went back to SSMS and queried the table to make sure that there was data in the AspNetUsers table and there was. So after a number of failed attempts at registering on the site and getting the same Win32 Exception error, I decided to go into the App_Data folder and published the database and thought maybe that was the issue and no, didn't work again.</p>\n\n<p>So I thought that maybe that I may have done something wrong and wrote a test app to see if I could connect to the database and just wrote this</p>\n\n<pre><code>string cnStr = ConfigurationManager.ConnectionStrings[\"DefaultConnection\"].ConnectionString;\nSqlConnection cn = new SqlConnection(cnStr);\n\nstring cmStr = \"SELECT * FROM AspNetUsers\";\nSqlCommand cm = new SqlCommand(cmStr, cn);\ncm.CommandType = CommandType.Text;\n\nDataSet ds = new DataSet();\nSqlDataAdapter da = new SqlDataAdapter(cm);\n\ncn.Open();\nda.Fill(ds);\ncn.Close();\n</code></pre>\n\n<p>I set a break point at da.fill(ds); and it threw the exact same error as it did from my original project and that error is</p>\n\n<blockquote>\n  <p>Additional information: A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: SQL Network Interfaces, error: 25 - Connection string is not valid)</p>\n</blockquote>\n\n<p>So I am pretty lost now on what to do or try, and am still waiting on a response from GoDaddy. Has anyone had any issues on deploying a web application that uses asp.net membership database? or does anyone notice where I may have went wrong?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here is the entire IdentityModel with the DbContext</p>\n\n<pre><code>    using System;\nusing System.Security.Claims;\nusing System.Threading.Tasks;\nusing System.Web;\nusing Microsoft.AspNet.Identity;\nusing Microsoft.AspNet.Identity.EntityFramework;\nusing Microsoft.AspNet.Identity.Owin;\nusing Microsoft.Owin.Security;\nusing GSDataCollection.Models;\n\nnamespace GSDataCollection.Models\n{\n// You can add User data for the user by adding more properties to your User class, please visit http://go.microsoft.com/fwlink/?LinkID=317594 to learn more.\npublic class ApplicationUser : IdentityUser\n{\n    public ClaimsIdentity GenerateUserIdentity(ApplicationUserManager manager)\n    {\n        // Note the authenticationType must match the one defined in CookieAuthenticationOptions.AuthenticationType\n        var userIdentity = manager.CreateIdentity(this, DefaultAuthenticationTypes.ApplicationCookie);\n        // Add custom user claims here\n        return userIdentity;\n    }\n\n    public Task&lt;ClaimsIdentity&gt; GenerateUserIdentityAsync(ApplicationUserManager manager)\n    {\n        return Task.FromResult(GenerateUserIdentity(manager));\n    }\n}\n\npublic class ApplicationDbContext : IdentityDbContext&lt;ApplicationUser&gt;\n{\n    public ApplicationDbContext()\n        : base(\"DefaultConnection\", throwIfV1Schema: false)\n    {\n    }\n\n    public static ApplicationDbContext Create()\n    {\n        return new ApplicationDbContext();\n    }\n}\n}\n\n#region Helpers\nnamespace GSDataCollection\n{\npublic static class IdentityHelper\n{\n    // Used for XSRF when linking external logins\n    public const string XsrfKey = \"XsrfId\";\n\n    public static void SignIn(ApplicationUserManager manager, ApplicationUser user, bool isPersistent)\n    {\n        IAuthenticationManager authenticationManager = HttpContext.Current.GetOwinContext().Authentication;\n        authenticationManager.SignOut(DefaultAuthenticationTypes.ExternalCookie);\n        var identity = manager.CreateIdentity(user, DefaultAuthenticationTypes.ApplicationCookie);\n        authenticationManager.SignIn(new AuthenticationProperties() { IsPersistent = isPersistent }, identity);\n    }\n\n    public const string ProviderNameKey = \"providerName\";\n    public static string GetProviderNameFromRequest(HttpRequest request)\n    {\n        return request.QueryString[ProviderNameKey];\n    }\n\n    public const string CodeKey = \"code\";\n    public static string GetCodeFromRequest(HttpRequest request)\n    {\n        return request.QueryString[CodeKey];\n    }\n\n    public const string UserIdKey = \"userId\";\n    public static string GetUserIdFromRequest(HttpRequest request)\n    {\n        return HttpUtility.UrlDecode(request.QueryString[UserIdKey]);\n    }\n\n    public static string GetResetPasswordRedirectUrl(string code, HttpRequest request)\n    {\n        var absoluteUri = \"/Account/ResetPassword?\" + CodeKey + \"=\" + HttpUtility.UrlEncode(code);\n        return new Uri(request.Url, absoluteUri).AbsoluteUri.ToString();\n    }\n\n    public static string GetUserConfirmationRedirectUrl(string code, string userId, HttpRequest request)\n    {\n        var absoluteUri = \"/Account/Confirm?\" + CodeKey + \"=\" + HttpUtility.UrlEncode(code) + \"&amp;\" + UserIdKey + \"=\" + HttpUtility.UrlEncode(userId);\n        return new Uri(request.Url, absoluteUri).AbsoluteUri.ToString();\n    }\n\n    private static bool IsLocalUrl(string url)\n    {\n        return !string.IsNullOrEmpty(url) &amp;&amp; ((url[0] == '/' &amp;&amp; (url.Length == 1 || (url[1] != '/' &amp;&amp; url[1] != '\\\\'))) || (url.Length &gt; 1 &amp;&amp; url[0] == '~' &amp;&amp; url[1] == '/'));\n    }\n\n    public static void RedirectToReturnUrl(string returnUrl, HttpResponse response)\n    {\n        if (!String.IsNullOrEmpty(returnUrl) &amp;&amp; IsLocalUrl(returnUrl))\n        {\n            response.Redirect(returnUrl);\n        }\n        else\n        {\n            response.Redirect(\"~/\");\n        }\n    }\n}\n}\n#endregion\n</code></pre>\n"}, {"tags": ["c#", "json", "restsharp"], "answers": [{"tags": [], "owner": {"reputation": 211, "user_id": 83874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da00a010b69f3e4af9e9e3172238f83?s=128&d=identicon&r=PG", "display_name": "Gordon Tisher", "link": "https://stackoverflow.com/users/83874/gordon-tisher"}, "is_accepted": false, "score": 1, "last_activity_date": 1445558578, "creation_date": 1445558578, "answer_id": 33292799, "question_id": 31037271, "link": "https://stackoverflow.com/questions/31037271/using-deserializeasattribute-on-a-key-that-has-a-in-it/33292799#33292799", "title": "Using DeserializeAsAttribute on a key that has a &quot;.&quot; in it", "body": "<p>I would also like to figure this out.  I had to parse the response content manually...</p>\n\n<pre><code>    Regex IssuedRegex = new Regex(@\"\\\"\"\\.issued\\\"\":\\s*\\\"\"([^\\\"\"]+)\\\"\"\");\n    Regex ExpiresRegex = new Regex(@\"\\\"\"\\.expires\\\"\":\\s*\\\"\"([^\\\"\"]+)\\\"\"\");\n\n    var response = authClient.Execute&lt;AccessToken&gt;(request);\n    AccessToken = response.Data;\n\n    // workaround for bug in RestSharp\n    var im = IssuedRegex.Match(response.Content);\n    if (im.Success)\n        AccessToken.Issued = DateTime.ParseExact(im.Groups[1].Value, \"R\", CultureInfo.InvariantCulture);\n\n    var em = ExpiresRegex.Match(response.Content);\n    if (em.Success)\n        AccessToken.Expires = DateTime.ParseExact(em.Groups[1].Value, \"R\", CultureInfo.InvariantCulture);\n</code></pre>\n"}], "owner": {"reputation": 716, "user_id": 133906, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/84659f02b576edeaf835b61759d7d3c6?s=128&d=identicon&r=PG", "display_name": "Cole", "link": "https://stackoverflow.com/users/133906/cole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1445558578, "creation_date": 1435180849, "question_id": 31037271, "link": "https://stackoverflow.com/questions/31037271/using-deserializeasattribute-on-a-key-that-has-a-in-it", "title": "Using DeserializeAsAttribute on a key that has a &quot;.&quot; in it", "body": "<p>I'm unabled to get a value for a key that has a <code>.</code> in it when using RestSharp's <a href=\"http://www.nudoq.org/#!/Packages/RestSharp/RestSharp/DeserializeAsAttribute\" rel=\"nofollow\">DeserializeAsAttribute</a>. </p>\n\n<p>Here's my JSON: </p>\n\n<pre><code>{\n    \".issued\": \"Wed, 24 Jun 2015 20:59:57 GMT\",\n    \".expires\": \"Wed, 08 Jul 2015 20:59:57 GMT\"\n}\n</code></pre>\n\n<p>Model I'm deserializing: </p>\n\n<pre><code>class TokenModel\n{\n    [DeserializeAs(Name = \".issued\")]\n    public DateTime Issued { get; set; }\n    [DeserializeAs(Name = \".expires\")]\n    public DateTime Expires { get; set; }\n}\n</code></pre>\n\n<p>Debugging: </p>\n\n<pre><code>GetToken() - success - issued: 1/1/0001 12:00:00 AM\nGetToken() - success - expires: 1/1/0001 12:00:00 AM\n</code></pre>\n\n<p>I also have the <code>RestRequest.DateFormat</code> set to: </p>\n\n<pre><code>request.DateFormat = \"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'\";\n</code></pre>\n\n<p>I've followed the <a href=\"https://github.com/restsharp/RestSharp/wiki/Deserialization\" rel=\"nofollow\">https://github.com/restsharp/RestSharp/wiki/Deserialization</a> docs as best I can without any luck. </p>\n"}, {"tags": ["c#", "entity-framework", "wcf"], "comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1435181341, "post_id": 31037209, "comment_id": 50098853, "body": "What steps are you doing to get that XML you posted?"}, {"owner": {"reputation": 131, "user_id": 3171008, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a4e286e4092306e9102d4fc1ab99513c?s=128&d=identicon&r=PG&f=1", "display_name": "nimish jain", "link": "https://stackoverflow.com/users/3171008/nimish-jain"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1435181620, "post_id": 31037209, "comment_id": 50098991, "body": "I am invoking a WCF service from WCF client and passing the input parameters ."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1435182026, "post_id": 31037209, "comment_id": 50099180, "body": "No, I mean what tool are you using to get that output. The code you posted saves it to a database, not generate XML."}, {"owner": {"reputation": 3629, "user_id": 4730201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yjnMS.png?s=128&g=1", "display_name": "Ricardo Pontual", "link": "https://stackoverflow.com/users/4730201/ricardo-pontual"}, "edited": false, "score": 0, "creation_date": 1435201674, "post_id": 31037209, "comment_id": 50104436, "body": "Try to remove the [DataContract] attribute and add [XmlIgnore]"}, {"owner": {"reputation": 27873, "user_id": 569662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DROcJ.png?s=128&g=1", "display_name": "tom redfern", "link": "https://stackoverflow.com/users/569662/tom-redfern"}, "reply_to_user": {"reputation": 3629, "user_id": 4730201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yjnMS.png?s=128&g=1", "display_name": "Ricardo Pontual", "link": "https://stackoverflow.com/users/4730201/ricardo-pontual"}, "edited": false, "score": 0, "creation_date": 1435217439, "post_id": 31037209, "comment_id": 50110345, "body": "@RicardoPontual and how will that help? The fact that the members are not marked with the DataMember attribute should be sufficient to prevent them from being serialized."}, {"owner": {"reputation": 27873, "user_id": 569662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DROcJ.png?s=128&g=1", "display_name": "tom redfern", "link": "https://stackoverflow.com/users/569662/tom-redfern"}, "edited": false, "score": 1, "creation_date": 1435217774, "post_id": 31037209, "comment_id": 50110559, "body": "@nimish is the xml you posted taken from the service response message? Can you post the entire message? Is this a REST or SOAP service?"}, {"owner": {"reputation": 3629, "user_id": 4730201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yjnMS.png?s=128&g=1", "display_name": "Ricardo Pontual", "link": "https://stackoverflow.com/users/4730201/ricardo-pontual"}, "reply_to_user": {"reputation": 27873, "user_id": 569662, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DROcJ.png?s=128&g=1", "display_name": "tom redfern", "link": "https://stackoverflow.com/users/569662/tom-redfern"}, "edited": false, "score": 0, "creation_date": 1435236789, "post_id": 31037209, "comment_id": 50122805, "body": "@TomRedfern I agree with you, just removing DataMember must be enough to prevent serialization, but as Nimish Jain said, that solution didn&#39;t resolve the problem, so include Xmlgnore will inform to serializer that you don&#39;t want to serialize that property."}, {"owner": {"reputation": 131, "user_id": 3171008, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a4e286e4092306e9102d4fc1ab99513c?s=128&d=identicon&r=PG&f=1", "display_name": "nimish jain", "link": "https://stackoverflow.com/users/3171008/nimish-jain"}, "edited": false, "score": 0, "creation_date": 1435240892, "post_id": 31037209, "comment_id": 50126162, "body": "XMLignore works with xml serialization. It doesn&#39;t work with datacontract serialization. This is a SOAP service."}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 3171008, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a4e286e4092306e9102d4fc1ab99513c?s=128&d=identicon&r=PG&f=1", "display_name": "nimish jain", "link": "https://stackoverflow.com/users/3171008/nimish-jain"}, "edited": false, "score": 0, "creation_date": 1435268261, "post_id": 31058657, "comment_id": 50142966, "body": "Even after I add  the datacontract and datamemmber attributes to InsuredInfo , it is showing me createdby,createddate in response xml ."}], "tags": [], "owner": {"reputation": 60497, "user_id": 86611, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7ce9a18f294e088d18deeceb65ff3df4?s=128&d=identicon&r=PG", "display_name": "Shiraz Bhaiji", "link": "https://stackoverflow.com/users/86611/shiraz-bhaiji"}, "is_accepted": false, "score": 1, "last_activity_date": 1435258876, "creation_date": 1435258876, "answer_id": 31058657, "question_id": 31037209, "link": "https://stackoverflow.com/questions/31037209/how-to-prevent-serializing-datamember-in-wcf-service/31058657#31058657", "title": "how to prevent serializing datamember in wcf service", "body": "<p>With WCF you can choose to use DataContract / Datamember or just use public properties.</p>\n\n<p>If you use public properties without attributes then all public properties will be serialized. If you use DataContract / Datamember  then only fields with DataContract / Datamember will be serialized.</p>\n\n<p>In your case the root class InsuredInfo is not marked with DataContract / Datamember, so WCF serializes all public properties.</p>\n"}], "owner": {"reputation": 131, "user_id": 3171008, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a4e286e4092306e9102d4fc1ab99513c?s=128&d=identicon&r=PG&f=1", "display_name": "nimish jain", "link": "https://stackoverflow.com/users/3171008/nimish-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 848, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1435258876, "creation_date": 1435180600, "last_edit_date": 1435217648, "question_id": 31037209, "link": "https://stackoverflow.com/questions/31037209/how-to-prevent-serializing-datamember-in-wcf-service", "title": "how to prevent serializing datamember in wcf service", "body": "<p>I have a method which has some members like createdby,createddate etc in InsuredGeneralInfo and InsuredAddrInfo which I don't want to serialize . I didn't add [datamember] property to those but still I see them in my response xml when I test it using wcf client. any reason?</p>\n\n<p>Here is the declaration in Interface</p>\n\n<pre><code>public class InsuredInfo\n{\n    public InsuredGeneralInfo insuredGeneralInfo { get; set; }\n    public InsuredAddressInfo insuredAddrInfo { get; set; }\n}\n\n[DataContract]\npublic class InsuredGeneralInfo\n{\n    [DataMember]\n    public string FirstName { get; set; }\n    [DataMember]\n    public string MiddleInitial { get; set; }\n    [DataMember]\n    public string LastName { get; set; }\n    [DataMember]\n    public string Gender { get; set; }\n    [DataMember]\n    public string DOB { get; set; }\n    [DataMember]\n    public string SSN { get; set; }\n\n    public string CreatedBy { get; set; }\n    public DateTime CreatedDate { get; set; }\n    public string LastModifiedBy { get; set; }\n    public DateTime LastModifiedDate { get; set; }\n}\n</code></pre>\n\n<p>Output : </p>\n\n<pre><code>&lt;insuredGeneralInfo&gt;\n      &lt;FirstName&gt;test&lt;/FirstName&gt;\n      &lt;MiddleInitial&gt;t&lt;/MiddleInitial&gt;\n      &lt;LastName&gt;test&lt;/LastName&gt;\n      &lt;Gender&gt;male&lt;/Gender&gt;\n      &lt;DOB&gt;12-25-1982&lt;/DOB&gt;\n      &lt;SSN&gt;123456789&lt;/SSN&gt;\n      &lt;CreatedBy&gt;ad&lt;/CreatedBy&gt;\n      &lt;CreatedDate&gt;2015-06-24T16:12:00&lt;/CreatedDate&gt;\n      &lt;LastModifiedBy&gt;ad&lt;/LastModifiedBy&gt;\n      &lt;LastModifiedDate&gt;2015-06-24T16:12:00&lt;/LastModifiedDate&gt;\n    &lt;/insuredGeneralInfo&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "iis-7.5"], "comments": [{"owner": {"reputation": 3350, "user_id": 217239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7a5cd5e29666bd220d57aa1ea50c3cd?s=128&d=identicon&r=PG&f=1", "display_name": "WorkSmarter", "link": "https://stackoverflow.com/users/217239/worksmarter"}, "edited": false, "score": 0, "creation_date": 1435195353, "post_id": 31037166, "comment_id": 50103063, "body": "Does the .NET application reside within its own application pool?"}, {"owner": {"reputation": 85, "user_id": 2591831, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0a17eec38b54bc72b63af0f93ea048d4?s=128&d=identicon&r=PG", "display_name": "Travis Grannan", "link": "https://stackoverflow.com/users/2591831/travis-grannan"}, "reply_to_user": {"reputation": 3350, "user_id": 217239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7a5cd5e29666bd220d57aa1ea50c3cd?s=128&d=identicon&r=PG&f=1", "display_name": "WorkSmarter", "link": "https://stackoverflow.com/users/217239/worksmarter"}, "edited": false, "score": 0, "creation_date": 1435235562, "post_id": 31037166, "comment_id": 50121830, "body": "Yes, it is inside it&#39;s own app pool. I have it set to .NET 4.0 Integrated."}], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 2591831, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0a17eec38b54bc72b63af0f93ea048d4?s=128&d=identicon&r=PG", "display_name": "Travis Grannan", "link": "https://stackoverflow.com/users/2591831/travis-grannan"}, "is_accepted": false, "score": 0, "last_activity_date": 1436374336, "creation_date": 1436374336, "answer_id": 31298910, "question_id": 31037166, "link": "https://stackoverflow.com/questions/31037166/click-event-not-working-iis-7-5/31298910#31298910", "title": "Click Event not working IIS 7.5", "body": "<p>In the end it wasn't an IIS issue. It was due to the fact that in my classic ASP page I was always directing back to the main page and I was losing my QueryString. This wasn't happening while I was debugging because of the '#if !DEBUG' statement.</p>\n"}], "owner": {"reputation": 85, "user_id": 2591831, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0a17eec38b54bc72b63af0f93ea048d4?s=128&d=identicon&r=PG", "display_name": "Travis Grannan", "link": "https://stackoverflow.com/users/2591831/travis-grannan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436374336, "creation_date": 1435180437, "last_edit_date": 1435216249, "question_id": 31037166, "link": "https://stackoverflow.com/questions/31037166/click-event-not-working-iis-7-5", "title": "Click Event not working IIS 7.5", "body": "<p>I have a classic asp website using IIS 7.5. I have created a .NET application inside of the classic asp website. I have noticed clicking a submit button doesn't fire an event. It works when I debug but that's it. I have enclosed some code below.</p>\n\n<p>MASTER PAGE (This calls a classic asp page to check if the user is logged into the classic part of the website)</p>\n\n<pre><code>        #if !DEBUG\n            if (Request.Cookies[\"sessionInfo\"] != null)\n            {\n                HttpCookie cookie = Request.Cookies.Get(\"sessionInfo\");\n                bool temp;\n                cookie.Name = \"sessionInfo\";\n\n                if (bool.TryParse(cookie[\"PortalManagement\"], out temp))\n                {\n                    Session[\"PortalManagement\"] = bool.Parse(cookie[\"PortalManagement\"]);\n                    cookie.Expires = DateTime.Now.AddDays(-1);\n                    Response.Cookies.Add(cookie);\n                    Logon();\n                }\n                else\n                {\n                    Response.Redirect(ConfigurationManager.AppSettings[\"PricingDesk\"]);\n                }\n            }\n            else\n            {\n                Response.Redirect(String.Format(\"{0}loginSession.asp?cPage={1}\", ConfigurationManager.AppSettings[\"PricingDesk\"], Request.Url.AbsolutePath));\n            }\n        #endif\n</code></pre>\n\n<p>ASPX Page (just a button)</p>\n\n<pre><code>    &lt;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"head\" runat=\"server\"&gt;\n    &lt;/asp:Content&gt;\n    &lt;asp:Content ID=\"Content2\" ContentPlaceHolderID=\"ContentPlaceHolder1\" runat=\"server\"&gt;\n        &lt;asp:Button ID=\"btnClick\" runat=\"server\" Text=\"Click\" OnClick=\"btnClick_Click\" /&gt;\n    &lt;/asp:Content&gt;\n</code></pre>\n\n<p>Code Behind</p>\n\n<pre><code> protected void btnClick_Click(object sender, EventArgs e)\n {\n     Response.Write(\"&lt;script language=javascript&gt;alert('ERROR');&lt;/script&gt;\");\n }\n</code></pre>\n\n<p>WEBCONFIG (of .NET site)</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;appSettings&gt;\n    &lt;add key=\"Database\" value=\"Min Pool Size=5;Max Pool Size=40;Connect Timeout=40;Server=&lt;serv&gt;;uid=&lt;username&gt;;pwd=&lt;pass&gt;;database=&lt;db&gt;\"/&gt;\n    &lt;add key=\"PricingDesk\" value=\"http://address/\"/&gt;\n  &lt;/appSettings&gt;\n  &lt;system.web&gt;\n    &lt;compilation debug=\"true\" targetFramework=\"4.5\" /&gt;\n    &lt;httpRuntime targetFramework=\"4.5\" /&gt;\n    &lt;customErrors mode=\"Off\"&gt;&lt;/customErrors&gt;\n  &lt;/system.web&gt;\n  &lt;system.webServer&gt;\n    &lt;defaultDocument&gt;\n      &lt;files&gt;\n        &lt;add value=\"home.aspx\"/&gt;\n      &lt;/files&gt;\n    &lt;/defaultDocument&gt;\n  &lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>WEBCONFIG (classic or main website)</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;system.webServer&gt;\n        &lt;defaultDocument&gt;\n            &lt;files&gt;\n                &lt;remove value=\"default.aspx\" /&gt;\n                &lt;remove value=\"iisstart.htm\" /&gt;\n                &lt;remove value=\"index.html\" /&gt;\n                &lt;remove value=\"index.htm\" /&gt;\n                &lt;remove value=\"Default.asp\" /&gt;\n                &lt;remove value=\"Default.htm\" /&gt;\n                &lt;add value=\"Pricingdesk.asp\" /&gt;\n            &lt;/files&gt;\n        &lt;/defaultDocument&gt;\n        &lt;httpErrors errorMode=\"DetailedLocalOnly\" defaultPath=\"/errorPages/unknownerror.asp\" defaultResponseMode=\"ExecuteURL\"&gt;\n            &lt;remove statusCode=\"401\" subStatusCode=\"-1\" /&gt;\n            &lt;remove statusCode=\"403\" subStatusCode=\"-1\" /&gt;\n            &lt;remove statusCode=\"405\" subStatusCode=\"-1\" /&gt;\n            &lt;remove statusCode=\"406\" subStatusCode=\"-1\" /&gt;\n            &lt;remove statusCode=\"412\" subStatusCode=\"-1\" /&gt;\n            &lt;remove statusCode=\"502\" subStatusCode=\"-1\" /&gt;\n            &lt;remove statusCode=\"501\" subStatusCode=\"-1\" /&gt;\n            &lt;remove statusCode=\"500\" subStatusCode=\"-1\" /&gt;\n            &lt;remove statusCode=\"404\" subStatusCode=\"-1\" /&gt;\n            &lt;error statusCode=\"404\" prefixLanguageFilePath=\"\" path=\"/errorPages/pagenotfound.asp\" responseMode=\"ExecuteURL\" /&gt;\n            &lt;error statusCode=\"412\" prefixLanguageFilePath=\"\" path=\"/errorPages/pagenotfound.asp\" responseMode=\"ExecuteURL\" /&gt;\n            &lt;error statusCode=\"406\" prefixLanguageFilePath=\"\" path=\"/errorPages/pagenotfound.asp\" responseMode=\"ExecuteURL\" /&gt;\n            &lt;error statusCode=\"405\" prefixLanguageFilePath=\"\" path=\"/errorPages/pagenotfound.asp\" responseMode=\"ExecuteURL\" /&gt;\n            &lt;error statusCode=\"403\" prefixLanguageFilePath=\"\" path=\"/errorPages/pagenotfound.asp\" responseMode=\"ExecuteURL\" /&gt;\n            &lt;error statusCode=\"401\" prefixLanguageFilePath=\"\" path=\"/errorPages/pagenotfound.asp\" responseMode=\"ExecuteURL\" /&gt;\n            &lt;error statusCode=\"500\" path=\"/errorPages/unknownerror.asp\" responseMode=\"ExecuteURL\" /&gt;\n            &lt;error statusCode=\"500\" subStatusCode=\"100\" path=\"/errorPages/unknownerror.asp\" responseMode=\"ExecuteURL\" /&gt;\n            &lt;error statusCode=\"501\" path=\"/errorPages/unknownerror.asp\" responseMode=\"ExecuteURL\" /&gt;\n            &lt;error statusCode=\"502\" path=\"/errorPages/unknownerror.asp\" responseMode=\"ExecuteURL\" /&gt;\n        &lt;/httpErrors&gt;&lt;/system.webServer&gt;\n    &lt;system.web&gt;\n        &lt;compilation batch=\"true\" explicit=\"false\" debug=\"true\" targetFramework=\"4.0\"&gt;\n        &lt;/compilation&gt;\n        &lt;pages controlRenderingCompatibilityVersion=\"3.5\" clientIDMode=\"AutoID\" /&gt;&lt;/system.web&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>I've been searching all day for an answer and I hope someone out there smarter than me can figure it out!</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c#", "performance", "wcf", "task-parallel-library"], "comments": [{"owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 3, "creation_date": 1435183167, "post_id": 31037051, "comment_id": 50099708, "body": "How many iterations does your test perform?  If it is just one, your numbers are meaningless.  See <a href=\"http://tech.pro/blog/1293/c-performance-benchmark-mistakes-part-one\" rel=\"nofollow noreferrer\">tech.pro/blog/1293/c-performance-benchmark-mistakes-part-one</a>"}, {"owner": {"reputation": 3629, "user_id": 4730201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yjnMS.png?s=128&g=1", "display_name": "Ricardo Pontual", "link": "https://stackoverflow.com/users/4730201/ricardo-pontual"}, "edited": false, "score": 0, "creation_date": 1435202234, "post_id": 31037051, "comment_id": 50104566, "body": "It must be deeply inspected, but looking to code, looks like when you&#39;re using parallel at client side, it uses the same instance of the service, but when you use at service side, each iteration creates a new instance."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1435217370, "post_id": 31037051, "comment_id": 50110305, "body": "The two samples aren&#39;t similar. In one case you have multiple instances serving multiple client requests by performing one GET each. In the second, you have a single instance trying to make multiple GET calls. It may simply be that you are hitting the 2 HTTP connections per domain limit. Repeat the benchmark after changing this either by setting <code>System.Net.ServicePointManager.DefaultConnectionLimit</code> to a higher number or set <a href=\"https://msdn.microsoft.com/en-us/library/1tkaca2y(v=vs.110).aspx\" rel=\"nofollow noreferrer\">the connectionManagement  config setting</a> to a high connection number"}], "owner": {"reputation": 103, "user_id": 975744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88169f74918d1066c71db1009191d8a6?s=128&d=identicon&r=PG", "display_name": "user975744", "link": "https://stackoverflow.com/users/975744/user975744"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1435180321, "creation_date": 1435180037, "question_id": 31037051, "link": "https://stackoverflow.com/questions/31037051/why-does-the-performance-differ-so-greatly-with-seemingly-the-same-code", "title": "Why does the performance differ so greatly with seemingly the same code?", "body": "<p>I have a WCF service called <code>TapApiService</code> which contains the following methods:</p>\n\n<pre><code>public class TapApiService : Contracts.ServiceContracts.ITapApiService\n{\n    private static readonly IConfigurationManagerWrapper ConfigWrapper = new ConfigurationManagerWrapper();\n    private static UriManager uriManager = new UriManager(ConfigWrapper.AppSettings[\"tapScheme\"], ConfigWrapper.AppSettings[\"tapHost\"], ConfigWrapper);\n\n    public JobLongForm GetJob(string jobId)\n    {\n        var request = uriManager.GetUriFromKey(\"jobResource\", jobId).ToString().GetTapRequest(\"GET\", ConfigWrapper);\n\n        return JsonConvert.DeserializeObject&lt;JobLongForm&gt;(request.GetResponseString());\n    }\n\n    public IEnumerable&lt;string&gt; GetAllJobIds()\n    {\n        return GetAllJobs().Select(job =&gt; job.Id);\n    }\n\n    public IEnumerable&lt;JobShortForm&gt; GetAllJobs()\n    {\n        var request = uriManager.GetUriFromKey(\"allJobsResource\").ToString().GetTapRequest(\"GET\", ConfigWrapper);\n\n        return JsonConvert.DeserializeObject&lt;JobShortForm[]&gt;(request.GetResponseString());\n    }\n\n    public IEnumerable&lt;JobLongForm&gt; GetFullJobs(IEnumerable&lt;string&gt; jobIds)\n    {\n        return jobIds.Select(GetJob);\n    }\n}\n</code></pre>\n\n<p>I have a Console Application I'm using to test. It has the following code:\n    var proxy = new TapApiService();</p>\n\n<pre><code>var stopwatch = new Stopwatch();\n\nstopwatch.Start();\nvar ids = proxy.GetAllJobIds();\nproxy.GetFullJobs(ids);\nstopwatch.Stop();\nConsole.WriteLine(stopwatch.GetElapsedTimeString());\n\nstopwatch.Reset();\n\nstopwatch.Start();\nproxy.GetAllJobIds().AsParallel().Select(id =&gt; proxy.GetJob(id));\nstopwatch.Stop();\nConsole.WriteLine(stopwatch.GetElapsedTimeString());\n</code></pre>\n\n<p>The results are: <code>00:00:00.713</code> and <code>00:00:00.104</code> The <code>AsParallel()</code> implementation is clearly a lot faster. However, if I move the <code>AsParallel()</code> to inside of the <code>GetFullJobs(IEnumerable&lt;string&gt; jobIds)</code> method like this:</p>\n\n<pre><code>public IEnumerable&lt;JobLongForm&gt; GetFullJobs(IEnumerable&lt;string&gt; jobIds)\n{\n    return jobIds.AsParallel().Select(GetJob);\n}\n</code></pre>\n\n<p>I get <code>00:00:00.813</code> and <code>00:00:00.158</code>. The second implementation is still faster. I thought their performance would now be the same. What am I missing here?</p>\n"}, {"tags": ["c#", "odata"], "comments": [{"owner": {"reputation": 13350, "user_id": 3347858, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5OuQM.jpg?s=128&g=1", "display_name": "Tony L.", "link": "https://stackoverflow.com/users/3347858/tony-l"}, "edited": false, "score": 0, "creation_date": 1435180498, "post_id": 31037019, "comment_id": 50098469, "body": "Does it allow you to do and Imports Organization.Office.Project.DomainObjects.Enumerations at the top of you code file?"}], "answers": [{"comments": [{"owner": {"reputation": 1450, "user_id": 1102726, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7a5ccd2292456659f672c7620d7ca08b?s=128&d=identicon&r=PG", "display_name": "Don 01001100", "link": "https://stackoverflow.com/users/1102726/don-01001100"}, "edited": false, "score": 0, "creation_date": 1435238316, "post_id": 31040093, "comment_id": 50124033, "body": "Thanks for the answer, @Sam Xu.  I edited your answer to include the code that worked for me."}, {"owner": {"reputation": 4331, "user_id": 1946412, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/70fc1752ed75fa968107bbaa500cfe8a?s=128&d=identicon&r=PG", "display_name": "julealgon", "link": "https://stackoverflow.com/users/1946412/julealgon"}, "edited": false, "score": 0, "creation_date": 1541111596, "post_id": 31040093, "comment_id": 93115748, "body": "Could you consider updating your answer to the newer <code>Microsoft.AspNetCore.OData</code> package? Also, I&#39;d strongly suggest adding the relevant information from the links as part of your answer as that will make it much easier to immediately see and won&#39;t create a dependency with potentially dead links later on."}], "tags": [], "owner": {"reputation": 2883, "user_id": 3304931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c3443a4f06cb5b80251971d64f3c4b9?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Xu", "link": "https://stackoverflow.com/users/3304931/sam-xu"}, "is_accepted": true, "score": 1, "last_activity_date": 1435198344, "creation_date": 1435198344, "answer_id": 31040093, "question_id": 31037019, "link": "https://stackoverflow.com/questions/31037019/shortening-or-omitting-namespace-for-enum-in-odata-filter/31040093#31040093", "title": "Shortening or omitting namespace for enum in OData filter", "body": "<p>Web API OData supports the enum prefix free. I think that's you're looking for.</p>\n\n<p>With enum prefix free enabled, you can directly use the enum value, for example,\n<code>\n'MyValue'\n</code></p>\n\n<p>Below is the sample codes how to enable the enum prefix free. <a href=\"http://odata.github.io/WebApi/#06-01-custom-url-parsing\" rel=\"nofollow\">http://odata.github.io/WebApi/#06-01-custom-url-parsing</a></p>\n\n<p>Below's the corresponding end to end test cases provided by OData team:</p>\n\n<p><a href=\"https://github.com/OData/WebApi/blob/master/OData/test/E2ETest/WebStack.QA.Test.OData/UriParserExtension/EnumPrefixFreeTest.cs\" rel=\"nofollow\">https://github.com/OData/WebApi/blob/master/OData/test/E2ETest/WebStack.QA.Test.OData/UriParserExtension/EnumPrefixFreeTest.cs</a></p>\n\n<p>Below is the more detail introduction about the Uri parser extension.\n<a href=\"http://blogs.msdn.com/b/odatateam/archive/2014/09/12/tutorial-amp-sample-odatauriparser-extension-support.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/odatateam/archive/2014/09/12/tutorial-amp-sample-odatauriparser-extension-support.aspx</a></p>\n\n<p>Thanks</p>\n"}], "owner": {"reputation": 1450, "user_id": 1102726, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7a5ccd2292456659f672c7620d7ca08b?s=128&d=identicon&r=PG", "display_name": "Don 01001100", "link": "https://stackoverflow.com/users/1102726/don-01001100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2236, "favorite_count": 0, "accepted_answer_id": 31040093, "answer_count": 1, "score": 3, "last_activity_date": 1435198344, "creation_date": 1435179916, "question_id": 31037019, "link": "https://stackoverflow.com/questions/31037019/shortening-or-omitting-namespace-for-enum-in-odata-filter", "title": "Shortening or omitting namespace for enum in OData filter", "body": "<p>I took a look at <a href=\"http://blogs.msdn.com/b/odatateam/archive/2014/03/18/use-enumeration-types-in-odata.aspx\" rel=\"nofollow\" title=\"[Tutorial &amp; Sample] Use Enumeration types in OData\">[Tutorial &amp; Sample] Use Enumeration types in OData</a> to see how I could filter data returned by OData using an enumeration. The data model I'm using has a long namespace, and it would be nice to be able to use something shorter, rather than</p>\n\n<pre><code>Organization.Office.Project.DomainObjects.Enumerations.MyEnumeration'MyValue'\n</code></pre>\n\n<p>it'd be nice to be able to just to do <code>MyEnumeration'MyValue'</code>. <em>How can I do this?</em> I tried setting the <code>Namespace</code> property of the <code>ODataConventionModelBuilder</code>, but it had no effect.</p>\n"}, {"tags": ["c#", "class"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1435181191, "post_id": 31037011, "comment_id": 50098785, "body": "Design questions are usually opinion based... How big you app - as you design is probably ok for 3-5Kloc app. Bigger you&#39;d probably want split serialization completely from <code>Car</code> object."}], "answers": [{"comments": [{"owner": {"reputation": 1102, "user_id": 410791, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/9OZmN.png?s=128&g=1", "display_name": "TreK", "link": "https://stackoverflow.com/users/410791/trek"}, "edited": false, "score": 0, "creation_date": 1435180378, "post_id": 31037113, "comment_id": 50098398, "body": "From what I know, you really shouldn&#39;t create static methods to access data, they should be a part of the class?"}, {"owner": {"reputation": 1156, "user_id": 3565626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPtR6.jpg?s=128&g=1", "display_name": "GEEF", "link": "https://stackoverflow.com/users/3565626/geef"}, "reply_to_user": {"reputation": 1102, "user_id": 410791, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/9OZmN.png?s=128&g=1", "display_name": "TreK", "link": "https://stackoverflow.com/users/410791/trek"}, "edited": false, "score": 0, "creation_date": 1435180421, "post_id": 31037113, "comment_id": 50098423, "body": "This would be a static method inside of the <code>Car</code> class, that you could use to search and retrieve <i>previously made</i> cars by ID."}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "reply_to_user": {"reputation": 1102, "user_id": 410791, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/9OZmN.png?s=128&g=1", "display_name": "TreK", "link": "https://stackoverflow.com/users/410791/trek"}, "edited": false, "score": 0, "creation_date": 1435180516, "post_id": 31037113, "comment_id": 50098476, "body": "@TravisK: This static method is what&#39;s called a &quot;factory method&quot; and is a perfectly acceptable way of instantiating an object.  If the object creation logic becomes more complex, or if you have valid reasons for avoiding static methods and want to maintain objects (testability, for example), then you can create a &quot;factory object&quot; (<code>CarFactory</code>) whose job is to build and return instances of this object."}, {"owner": {"reputation": 40308, "user_id": 7122, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/31fdbe39c7657652fb5f34cdef2c78c9?s=128&d=identicon&r=PG", "display_name": "David Arno", "link": "https://stackoverflow.com/users/7122/david-arno"}, "reply_to_user": {"reputation": 1102, "user_id": 410791, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/9OZmN.png?s=128&g=1", "display_name": "TreK", "link": "https://stackoverflow.com/users/410791/trek"}, "edited": false, "score": 1, "creation_date": 1435180576, "post_id": 31037113, "comment_id": 50098507, "body": "@TravisK, you are correct; good practice is to only use static methods for &quot;pure functions&quot;, ie ones that act on the data passed to them and return a result without any side-effects or reading of &quot;state&quot; data."}, {"owner": {"reputation": 40308, "user_id": 7122, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/31fdbe39c7657652fb5f34cdef2c78c9?s=128&d=identicon&r=PG", "display_name": "David Arno", "link": "https://stackoverflow.com/users/7122/david-arno"}, "reply_to_user": {"reputation": 1102, "user_id": 410791, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/9OZmN.png?s=128&g=1", "display_name": "TreK", "link": "https://stackoverflow.com/users/410791/trek"}, "edited": false, "score": 2, "creation_date": 1435180650, "post_id": 31037113, "comment_id": 50098549, "body": "@TravisK, this answer is an example of using a service locator pattern, which is widely regarded as an anti-pattern these days as it makes writing tests much harder than they need to be."}, {"owner": {"reputation": 1156, "user_id": 3565626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPtR6.jpg?s=128&g=1", "display_name": "GEEF", "link": "https://stackoverflow.com/users/3565626/geef"}, "edited": false, "score": 0, "creation_date": 1435180903, "post_id": 31037113, "comment_id": 50098663, "body": "The first example is just a way to retrieve Cars from a static list by ID, call the pattern what you will. The second example is a simple factory where you create by ID. You would generally do this if you wanted to do something else in that factory such as store the data."}], "tags": [], "owner": {"reputation": 1156, "user_id": 3565626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPtR6.jpg?s=128&g=1", "display_name": "GEEF", "link": "https://stackoverflow.com/users/3565626/geef"}, "is_accepted": false, "score": 1, "last_activity_date": 1435180660, "last_edit_date": 1435180660, "creation_date": 1435180263, "answer_id": 31037113, "question_id": 31037011, "link": "https://stackoverflow.com/questions/31037011/class-design-populate-instance-of-class/31037113#31037113", "title": "Class Design, populate instance of class", "body": "<p>Your first line actually creates an instance of a <code>Car</code>:</p>\n\n<p><code>Car myCar = new Car()</code> </p>\n\n<p>It sounds like you may want a public <em>static</em> method in the Car class called <code>GetCarByID(int ID)</code> which can take an ID and return the car instance represented by that ID. A possible implementation could be as follows:</p>\n\n<pre><code>public static Car GetCarByID(int id)\n{\n    // Search a list of cars by ID, and return it\n}\n</code></pre>\n\n<p>And you would want to add all created cars to some static list in the Car class, potentially in the main Car constructor.</p>\n\n<p>Alternatively, you could use a factory, where you do as follows:</p>\n\n<pre><code>public static Car CreateCarByID(int id)\n{\n    // Create a car with the given ID (using a private constructor) and return it\n    Car myCar = new Car(id);\n    return myCar;\n}\n\nprivate Car(int id)\n{\n    // Save ID to field\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 40308, "user_id": 7122, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/31fdbe39c7657652fb5f34cdef2c78c9?s=128&d=identicon&r=PG", "display_name": "David Arno", "link": "https://stackoverflow.com/users/7122/david-arno"}, "edited": false, "score": 0, "creation_date": 1435180833, "post_id": 31037129, "comment_id": 50098628, "body": "It&#39;s worth adding to your answer that <code>Car.Save</code> is a bad idea too as it fails to adopt separation of concerns. The <code>Car</code> class should worry about modelling a car; another class should worry about loading/saving from/to a database."}, {"owner": {"reputation": 1102, "user_id": 410791, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/9OZmN.png?s=128&g=1", "display_name": "TreK", "link": "https://stackoverflow.com/users/410791/trek"}, "edited": false, "score": 0, "creation_date": 1435181241, "post_id": 31037129, "comment_id": 50098808, "body": "In your example would data access code (for example to get the car from a database) be included in the public Car(string ID) constructor?"}, {"owner": {"reputation": 3499, "user_id": 546220, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/92e02cc2974df2b48185aae6ff5d8a24?s=128&d=identicon&r=PG&f=1", "display_name": "Jeb", "link": "https://stackoverflow.com/users/546220/jeb"}, "edited": false, "score": 0, "creation_date": 1435182458, "post_id": 31037129, "comment_id": 50099393, "body": "That would be the responsibility of the class aggregated/composed of Car objects, not the Car itself.The Car instance should only ever be composed of lower level objects of itself (e.g. engine, wheels, doors etc.), not &quot;itself&quot;, that is the responsibility of the containing class, e.g. &quot;Factory&quot; or &quot;Car Plant&quot; etc."}], "tags": [], "owner": {"reputation": 3499, "user_id": 546220, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/92e02cc2974df2b48185aae6ff5d8a24?s=128&d=identicon&r=PG&f=1", "display_name": "Jeb", "link": "https://stackoverflow.com/users/546220/jeb"}, "is_accepted": false, "score": 1, "last_activity_date": 1435223430, "last_edit_date": 1435223430, "creation_date": 1435180303, "answer_id": 31037129, "question_id": 31037011, "link": "https://stackoverflow.com/questions/31037011/class-design-populate-instance-of-class/31037129#31037129", "title": "Class Design, populate instance of class", "body": "<p>This is not an advised approach. When you instantiate an instance of the class, the instance should be completely usable. When you call the constructor, you pass in the necessary arguments to create the instance successfully. You shouldn't be calling methods after construction to complete the \"population\" of the instance. The reason being someone might assume the <code>Car</code> instance is usable before the call to <code>GetCarByID</code> has been made resulting in all sorts of headaches/maintainability issues, especially for other developers.</p>\n\n<p>E.g.:</p>\n\n<pre><code>Car MyCar = new Car(\"123\");\n</code></pre>\n\n<p>where constructor:</p>\n\n<pre><code>public Car(string ID)\n{\n   _id = ID;\n}\n</code></pre>\n"}], "owner": {"reputation": 1102, "user_id": 410791, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/9OZmN.png?s=128&g=1", "display_name": "TreK", "link": "https://stackoverflow.com/users/410791/trek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 641, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1457831125, "creation_date": 1435179895, "last_edit_date": 1457831125, "question_id": 31037011, "link": "https://stackoverflow.com/questions/31037011/class-design-populate-instance-of-class", "title": "Class Design, populate instance of class", "body": "<p>I want to validate my class design principals.</p>\n\n<p>If I have a class Car, and I have a public method GetCarByID(int id).</p>\n\n<p>First I need to call the Car constructor to get an instance of the car.</p>\n\n<pre><code>Car MyCar = new Car();\n</code></pre>\n\n<p>then I can call GetCarByID() to populate the instance of the car.</p>\n\n<pre><code>MyCar.GetCarByID(123);\n</code></pre>\n\n<p>MyCar should now be a populated instance of the Car class?  Is this the proper use of a class?  Then when I want to save my car (for example back to a database) I can create another method for save() and call.</p>\n\n<pre><code>MyCar.Save();\n</code></pre>\n\n<p>Can someone please validate or correct me if I'm thinking about class design in a wrong way? Is this a specific coding pattern, if so what one?</p>\n"}, {"tags": ["c#", "xaml", "windows-phone-8.1", "progress-bar"], "comments": [{"owner": {"reputation": 2861, "user_id": 1175935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42b57b079954c18fdde646962bbd6107?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1175935/jon"}, "edited": false, "score": 0, "creation_date": 1435183013, "post_id": 31036994, "comment_id": 50099645, "body": "What exactly are you trying to do? Your current code works fine to update the progress bar every minute because the interval you have set (1 minute) controls how often the Tick handler gets called."}, {"owner": {"reputation": 11561, "user_id": 613605, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/998f50cbd33e0f514d679aa82f34f61d?s=128&d=identicon&r=PG", "display_name": "J86", "link": "https://stackoverflow.com/users/613605/j86"}, "reply_to_user": {"reputation": 2861, "user_id": 1175935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42b57b079954c18fdde646962bbd6107?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1175935/jon"}, "edited": false, "score": 0, "creation_date": 1435183588, "post_id": 31036994, "comment_id": 50099864, "body": "Damn, thanks John, I thought I had that on the Seconds, not minutes."}, {"owner": {"reputation": 36762, "user_id": 869621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7ab9817b53b7e7b0e735528bc9c2372?s=128&d=identicon&r=PG", "display_name": "Kevin Gosse", "link": "https://stackoverflow.com/users/869621/kevin-gosse"}, "edited": false, "score": 0, "creation_date": 1435211206, "post_id": 31036994, "comment_id": 50107136, "body": "That said, you probably should use a storyboard instead of a DispatcherTimer, to animate your progress bar smoothly"}, {"owner": {"reputation": 11561, "user_id": 613605, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/998f50cbd33e0f514d679aa82f34f61d?s=128&d=identicon&r=PG", "display_name": "J86", "link": "https://stackoverflow.com/users/613605/j86"}, "edited": false, "score": 0, "creation_date": 1435215305, "post_id": 31036994, "comment_id": 50109086, "body": "How so? do you have any examples please?"}], "answers": [{"tags": [], "owner": {"reputation": 11561, "user_id": 613605, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/998f50cbd33e0f514d679aa82f34f61d?s=128&d=identicon&r=PG", "display_name": "J86", "link": "https://stackoverflow.com/users/613605/j86"}, "is_accepted": false, "score": 0, "last_activity_date": 1435183658, "creation_date": 1435183658, "answer_id": 31037988, "question_id": 31036994, "link": "https://stackoverflow.com/questions/31036994/bind-dispatchertimer-to-progress-bar-xaml-wp-8-1/31037988#31037988", "title": "Bind DispatcherTimer to Progress Bar XAML WP 8.1", "body": "<p>As suggested by Jon, all I had to do was fix the interval on the timer.</p>\n\n<pre><code>Timer.Interval = new TimeSpan(0, 0, 0, 0, 50);\n</code></pre>\n\n<p>This now calls the Tick handler every 50 milliseconds, and I can see my progress bar moving!</p>\n\n<p>Thanks Jon.</p>\n"}], "owner": {"reputation": 11561, "user_id": 613605, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/998f50cbd33e0f514d679aa82f34f61d?s=128&d=identicon&r=PG", "display_name": "J86", "link": "https://stackoverflow.com/users/613605/j86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 713, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516913399, "creation_date": 1435179833, "last_edit_date": 1516913399, "question_id": 31036994, "link": "https://stackoverflow.com/questions/31036994/bind-dispatchertimer-to-progress-bar-xaml-wp-8-1", "title": "Bind DispatcherTimer to Progress Bar XAML WP 8.1", "body": "<p>I'm working in a WP 8.1 application (non SL) and have the following XAML code:</p>\n\n<pre><code>&lt;Page&gt;\n    &lt;Grid&gt;\n        &lt;ProgressBar x:Name=\"TimeBar\" IsIndeterminate=\"False\" Maximum=\"200\" Value=\"30\" Height=\"10\" Width=\"300\"/&gt;\n    &lt;/Grid&gt;\n&lt;/Page&gt;\n</code></pre>\n\n<p>This gives me the following:</p>\n\n<p><img src=\"https://i.stack.imgur.com/jiQXq.png\" alt=\"progress bar\"></p>\n\n<p>I want to bind a timer object, so that as the time ticks and goes forward, the progress bar moves with it, until the timer stops (reaches 1 minute).</p>\n\n<p>I have the following code, but it doesn't seem to work.</p>\n\n<pre><code>namespace BarWithTimer\n{\n    public sealed partial class MainPage : Page\n    {\n        public DispatcherTimer Timer;\n\n        public MainPage()\n        {\n            InitializeComponent();\n            Timer = new DispatcherTimer();\n            Timer.Tick += TimerOnTick;\n            Timer.Interval = new TimeSpan(0, 1, 0);\n            Timer.Start();\n            NavigationCacheMode = NavigationCacheMode.Required;\n        }\n\n        private void TimerOnTick(object sender, object o)\n        {\n            TimeBar.Value += 10;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1435180076, "post_id": 31036983, "comment_id": 50098238, "body": "Backticks are only for inline code, if you have a large block of code you want to display you must indent it with 4 spaces or highlight the code then hit the <code>{ }</code> on the tool bar of the text editor of the website."}, {"owner": {"reputation": 413, "user_id": 2156339, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/dcf04bc7296d409402591c3d9be729b6?s=128&d=identicon&r=PG", "display_name": "Nitin Aggarwal", "link": "https://stackoverflow.com/users/2156339/nitin-aggarwal"}, "edited": false, "score": 0, "creation_date": 1435180352, "post_id": 31036983, "comment_id": 50098379, "body": "this function is no where called on your aspx file : Login1_Authenticate"}], "answers": [{"comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1435180165, "post_id": 31037064, "comment_id": 50098285, "body": "I don&#39;t know ASP.NET at all but isn&#39;t that was <code>AutoEventWireup=   &quot;true&quot;</code> is for?"}, {"owner": {"reputation": 2551, "user_id": 1007939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjpvE.png?s=128&g=1", "display_name": "CDspace", "link": "https://stackoverflow.com/users/1007939/cdspace"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 2, "creation_date": 1435180482, "post_id": 31037064, "comment_id": 50098453, "body": "@ScottChamberlain See <a href=\"http://stackoverflow.com/a/680913/1007939\">here</a>. <code>AutoEventWireup</code> is for the Page itself"}, {"owner": {"reputation": 23, "user_id": 4897306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef41dbcf72a79ce1db8329875d5e54f3?s=128&d=identicon&r=PG&f=1", "display_name": "Echo", "link": "https://stackoverflow.com/users/4897306/echo"}, "edited": false, "score": 1, "creation_date": 1435236119, "post_id": 31037064, "comment_id": 50122290, "body": "@Steve Thanks you for the help, that is what I needed it works now."}, {"owner": {"reputation": 624, "user_id": 8207463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pJhJL.jpg?s=128&g=1", "display_name": "Just Fair", "link": "https://stackoverflow.com/users/8207463/just-fair"}, "edited": false, "score": 0, "creation_date": 1618798901, "post_id": 31037064, "comment_id": 118703285, "body": "this kicked me off. Thx"}], "tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": true, "score": 5, "last_activity_date": 1435180100, "creation_date": 1435180100, "answer_id": 31037064, "question_id": 31036983, "link": "https://stackoverflow.com/questions/31036983/c-function-not-being-called/31037064#31037064", "title": "c# function not being called", "body": "<p>It seems that you miss to bind the event in your asp.net markup</p>\n\n<pre><code>   &lt;asp:login \n       id=\"Login1\" \n       runat=\"server\" \n       style=\"width: 100%;\"\n       OnAuthenticate=\"Login1_Authenticate\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4897306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef41dbcf72a79ce1db8329875d5e54f3?s=128&d=identicon&r=PG&f=1", "display_name": "Echo", "link": "https://stackoverflow.com/users/4897306/echo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 31037064, "answer_count": 1, "score": 2, "last_activity_date": 1435182617, "creation_date": 1435179810, "last_edit_date": 1435182617, "question_id": 31036983, "link": "https://stackoverflow.com/questions/31036983/c-function-not-being-called", "title": "c# function not being called", "body": "<p>I have a function that is not being called. I tried to use debugging to write a file, it correctly writes the first debug message <code>\"debug0\"</code>. But not the other messages.</p>\n\n<p>Here is aspx:</p>\n\n<pre><code>&lt;%@PageLanguage=\"C#\"AutoEventWireup=\"true\" CodeFile=\"Login.aspx.cs\" Inherits=\"Login\" %&gt;\n\n&lt;!DOCTYPE html PUBLIC &gt;\n\n&lt;html&gt;\n    &lt;head runat=\"server\"&gt;\n        &lt;title/&gt;\n        &lt;link rel=\"stylesheet\" type=\"text/css\" href=\".//style.css\" /&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;form class=\"container\" runat=\"server\"&gt;\n            &lt;asp:login id=\"Login1\" runat=\"server\" style=\"width: 100%;\"&gt;\n                &lt;LayoutTemplate&gt;\n                    &lt;div id=\"content\"&gt;\n                        &lt;h1&gt;blah&lt;br&gt;Site Login &lt;/h1&gt;\n                        &lt;asp:TextBox class=\"field\" placeholder=\"Username\" ID=\"username\" runat=\"server\"&gt; &lt;/asp:TextBox&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"UserNameRequired\" runat=\"server\" ControlToValidate=\"UserName\" ErrorMessage=\"User Name is required.\" ToolTip=\"User Name is required.\" ValidationGroup=\"Login1\"&gt;*\n                        &lt;/asp:RequiredFieldValidator&gt;\n                        &lt;br&gt;\n                        &lt;asp:TextBox class=\"field\" placeholder=\"Password\" ID=\"password\" runat=\"server\" TextMode=\"Password\"/&gt;\n                        &lt;asp:RequiredFieldValidator ID=\"PasswordRequired\" runat=\"server\" ControlToValidate=\"Password\" ErrorMessage=\"Password is required.\" ToolTip=\"Password is required.\" ValidationGroup=\"Login1\"&gt;*\n                        &lt;/asp:RequiredFieldValidator&gt;\n                        &lt;br&gt;\n                        &lt;asp:Button class=\"btn\" ID=\"LoginButton\" runat=\"server\" CommandName=\"Login\" Text=\"Log In\" ValidationGroup=\"Login1\"/&gt;\n                        &lt;br&gt;\n                        &lt;asp:Literal ID=\"FailureText\" runat=\"server\" EnableViewState=\"False\"/&gt;\n                    &lt;/div&gt;\n                &lt;/LayoutTemplate&gt;\n            &lt;/asp:login&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And code behind:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Web.UI;\nusing System.Web.UI.WebControls;\nusing System.Data.SqlClient;\nusing System.Configuration;\nusing System.IO;\nusing System.Text;\n\npublic partial class Login : System.Web.UI.Page\n{\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        File.AppendAllText(@\"C:\\inetpub\\Site\\log.txt\", \"debug0\");\n    }\n\n    protected void Login1_Authenticate(object sender,AuthenticateEventArgs e)\n    {\n        File.AppendAllText(@\"C:\\inetpub\\Site\\log.txt\", \"debug1\");\n        SqlConnection con = new SqlConnection();\n        try\n        {       \n            con.ConnectionString =ConfigurationManager.ConnectionStrings[\"LocalSqlServer\"].ConnectionString;\n            con.Open();\n\n            string command = \"SELECT Username FROM Members WHERE Usernam = @Username AND Password = @Password\";\n\n            SqlCommand comm = new SqlCommand(command, con);\n            comm.Parameters.Add(new SqlParameter(\"Username\", Login1.UserName));\n            comm.Parameters.Add(new SqlParameter(\"Password\", Login1.Password));\n\n            SqlDataReader reader = comm.ExecuteReader();\n            if (reader.Read())\n            {\n                File.AppendAllText(@\"C:\\inetpub\\Site\\log.txt\", \"debug2\");\n\n                if (reader[\"Username\"].ToString() == \"1\")\n                {\n                    Response.Redirect(\"Upload/index.php\", false);\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            File.AppendAllText(@\"C:\\inetpub\\Site\\log.txt\", \"debug3\");\n            Console.WriteLine(ex.ToString());\n        }\n        finally\n        {\n            if (con != null)\n                con.Close();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "timer"], "comments": [{"owner": {"reputation": 29843, "user_id": 33264, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4ffb7620821b43c340d40187ca5820ff?s=128&d=identicon&r=PG", "display_name": "MatthewMartin", "link": "https://stackoverflow.com/users/33264/matthewmartin"}, "edited": false, "score": 0, "creation_date": 1435179715, "post_id": 31036921, "comment_id": 50098059, "body": "Nontrivial task because you said it needs to run in the context of a web app. This is one solution: <a href=\"http://hangfire.io/\" rel=\"nofollow noreferrer\">hangfire.io</a>"}, {"owner": {"reputation": 1873, "user_id": 1678608, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hrma1.png?s=128&g=1", "display_name": "PaulBinder", "link": "https://stackoverflow.com/users/1678608/paulbinder"}, "edited": false, "score": 0, "creation_date": 1435179842, "post_id": 31036921, "comment_id": 50098133, "body": "why is this in a webapplication? if the data is all server side then why not a console application that runs on the server?"}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1435179889, "post_id": 31036921, "comment_id": 50098153, "body": "This shouldn&#39;t be in a web application.  This should be either in a Windows Service or a scheduled Console Application."}], "answers": [{"comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1435180304, "post_id": 31037081, "comment_id": 50098361, "body": "This will not work in a web application, the application will be recycled and your timer will not start until you get your next visitor to the website."}, {"owner": {"reputation": 35, "user_id": 3637393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef8215a95af4ea7c611f938cd8520a70?s=128&d=identicon&r=PG&f=1", "display_name": "Emaad Shehzzad", "link": "https://stackoverflow.com/users/3637393/emaad-shehzzad"}, "edited": false, "score": 0, "creation_date": 1435180405, "post_id": 31037081, "comment_id": 50098414, "body": "Can you provide me with a full syntax ?"}, {"owner": {"reputation": 93, "user_id": 3633655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70f6b0bfe9e31d6971c57aa0144f3b8f?s=128&d=identicon&r=PG&f=1", "display_name": "cheft", "link": "https://stackoverflow.com/users/3633655/cheft"}, "edited": false, "score": 0, "creation_date": 1435180423, "post_id": 31037081, "comment_id": 50098425, "body": "Yes forgot to mention, this is performed in a self- hosted WCF service. Admittedly, this works in only specific cases as Scott Chamberlain mentions."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1435180484, "post_id": 31037081, "comment_id": 50098454, "body": "If that WCF service is hosted on IIS it still has the same problem, only if the service was &quot;Self Hosted&quot; would it not be a problem."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 35, "user_id": 3637393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef8215a95af4ea7c611f938cd8520a70?s=128&d=identicon&r=PG&f=1", "display_name": "Emaad Shehzzad", "link": "https://stackoverflow.com/users/3637393/emaad-shehzzad"}, "edited": false, "score": 0, "creation_date": 1435180528, "post_id": 31037081, "comment_id": 50098483, "body": "@EmaadShehzzad See <a href=\"http://stackoverflow.com/a/31037101/80274\">Alexei&#39;s answer</a> his solution is the correct, reliable, one. Also see <a href=\"http://stackoverflow.com/questions/31036921/correct-usage-of-timer-in-a-c-sharp-webapplication#comment50098059_31036921\">Martin&#39;s comment</a> for a example of a good &quot;other scheduling tool&quot;."}], "tags": [], "owner": {"reputation": 93, "user_id": 3633655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70f6b0bfe9e31d6971c57aa0144f3b8f?s=128&d=identicon&r=PG&f=1", "display_name": "cheft", "link": "https://stackoverflow.com/users/3633655/cheft"}, "is_accepted": false, "score": 0, "last_activity_date": 1435180152, "creation_date": 1435180152, "answer_id": 31037081, "question_id": 31036921, "link": "https://stackoverflow.com/questions/31036921/correct-usage-of-timer-in-a-c-webapplication/31037081#31037081", "title": "Correct usage of Timer in a C# webapplication", "body": "<p>Not totally sure how GetIntStatus() is implemented but I had to do something similar.  Basically, you just start a timer, set an interval, and set some method to get called when the interval has elapsed.  </p>\n\n<p>Here's the syntax:</p>\n\n<pre><code>System.Timers.Timer timer = new System.Timers.Timer();\ntimer.Start();\ntimer.Interval = 5 * 60 * 1000; // 5 minute updates\ntimer.Elapsed += (sender, args) =&gt; PerformUpdates();\n</code></pre>\n\n<p>In my case, the PefromUpdates() was an async method that returned a Task.</p>\n"}, {"tags": [], "owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "is_accepted": true, "score": 3, "last_activity_date": 1435180232, "creation_date": 1435180232, "answer_id": 31037101, "question_id": 31036921, "link": "https://stackoverflow.com/questions/31036921/correct-usage-of-timer-in-a-c-webapplication/31037101#31037101", "title": "Correct usage of Timer in a C# webapplication", "body": "<p>Correct way to use <code>Timer</code> in WebAplication is not to use timers at all. </p>\n\n<p>Alternative approaches for long running/repeating tasks:</p>\n\n<ul>\n<li>scheduled tasks on server side (external process with Windows or any other scheduling tools).</li>\n<li>ping data with script scheduled to run repeatedly</li>\n<li>re-request data from client browser (assuming it is opened all the time)</li>\n<li>use cache and configure items to re-request on expiration.</li>\n</ul>\n\n<p>Sometimes it is ok to use short-lived timers to handle timeouts during request. I.e. <code>Task.Delay</code> may be used to force timeout when run in parallel with some other potentially long task.</p>\n"}], "owner": {"reputation": 35, "user_id": 3637393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef8215a95af4ea7c611f938cd8520a70?s=128&d=identicon&r=PG&f=1", "display_name": "Emaad Shehzzad", "link": "https://stackoverflow.com/users/3637393/emaad-shehzzad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 31037101, "answer_count": 2, "score": 0, "last_activity_date": 1435180232, "creation_date": 1435179551, "question_id": 31036921, "link": "https://stackoverflow.com/questions/31036921/correct-usage-of-timer-in-a-c-webapplication", "title": "Correct usage of Timer in a C# webapplication", "body": "<p>I have been looking extensively for examples on how to correctly use the timer feature in C# to trigger a function. The function here which is called <strong>GetIntStatus()</strong> basically aggregates data from several databases and stores in a seperate database. I need to run this function in a interval of every 2 hours to refresh the data and then that data will be pulled into a grid (this part I have it covered). Can someone show me how best to handle this situation ?</p>\n"}, {"tags": ["c#", "entity-framework", "foreign-keys", "data-annotations"], "answers": [{"comments": [{"owner": {"reputation": 1076, "user_id": 4966342, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5ba542149065d6e4e2e6a4b639639361?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/4966342/drew"}, "edited": false, "score": 0, "creation_date": 1435182021, "post_id": 31037198, "comment_id": 50099176, "body": "Hmm, now that I did that I&#39;m getting the error I got before: {&quot;Unable to determine the principal end of an association between the types &#39;Models.EFPerson&#39; and &#39;Models.EFEmployee&#39;. The principal end of this association must be explicitly configured using either the relationship fluent API or data annotations.&quot;} Also it would be nice for EFEmployee to inherit from EFPerson, but I need all entity classes to inherit from the base entity class EFBusinessEntity."}, {"owner": {"reputation": 4602, "user_id": 4812586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/258b1e084b70fa990e3b46b9fe8c8e49?s=128&d=identicon&r=PG&f=1", "display_name": "jjj", "link": "https://stackoverflow.com/users/4812586/jjj"}, "reply_to_user": {"reputation": 1076, "user_id": 4966342, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5ba542149065d6e4e2e6a4b639639361?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/4966342/drew"}, "edited": false, "score": 0, "creation_date": 1435183303, "post_id": 31037198, "comment_id": 50099768, "body": "Ah, shoot, I think you can&#39;t do what I was originally suggesting because the navigation property and foreign key property are on different classes. (See <a href=\"http://stackoverflow.com/questions/11900155/how-to-map-foreign-keys-between-tph-tpt-objects-entity-framework-code-first\">this</a>. On the other hand, if <code>EFEmployee</code> inherits from <code>EFPerson</code>, and <code>EFPerson</code> inherits from <code>EFBusinessEntity</code>, wouldn&#39;t that mean <code>EFEmployee</code> is still inheriting from <code>EFBusinessEntity</code>?"}, {"owner": {"reputation": 1076, "user_id": 4966342, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5ba542149065d6e4e2e6a4b639639361?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/4966342/drew"}, "edited": false, "score": 0, "creation_date": 1435184035, "post_id": 31037198, "comment_id": 50100032, "body": "Thanks I&#39;ll have a look at that. Oh yeah, duh, lol. But I have to keep the entity model like this because I&#39;m creating this in parallel with a NoSQL database and it&#39;s easier to have the relationships like this. Regardless, there will come a time when I have more entities that have a 1:0..1 relationship and inheritance doesn&#39;t work like it would for a person and employee."}, {"owner": {"reputation": 4602, "user_id": 4812586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/258b1e084b70fa990e3b46b9fe8c8e49?s=128&d=identicon&r=PG&f=1", "display_name": "jjj", "link": "https://stackoverflow.com/users/4812586/jjj"}, "reply_to_user": {"reputation": 1076, "user_id": 4966342, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5ba542149065d6e4e2e6a4b639639361?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/4966342/drew"}, "edited": false, "score": 0, "creation_date": 1435185013, "post_id": 31037198, "comment_id": 50100408, "body": "@Drew: Well, the side with the &quot;ForeignKey&quot; annotation is supposed to mark the dependent side, but not sure how you&#39;d use it in this case...sorry. Generally any of those variations of 1:1 associations seem to be pretty limited with Entity Framework -- especially if you can&#39;t use Fluent API. (Haven&#39;t seen a working optional:optional association yet.) Manually joining (no navigation property and adding the foreign key constraint in the migration) or using 1:* associations (and validating that the many side has at most one is another option), but those are workarounds."}, {"owner": {"reputation": 1076, "user_id": 4966342, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5ba542149065d6e4e2e6a4b639639361?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/4966342/drew"}, "edited": false, "score": 0, "creation_date": 1435185580, "post_id": 31037198, "comment_id": 50100614, "body": "Don&#39;t worry, thanks for the help! Hmm, the last suggestion is interesting, but I&#39;d prefer to stick to automatic code migrations using SetInitializer (I hope I&#39;ve partly understood what you&#39;re suggesting). This is because I&#39;m using CodeDOM to generate entities at run time (this is also the reason I want to stay away from fluent API, since then I would have to generate the contexts too, where as now I can just use reflection to get the Assembly and stuff."}], "tags": [], "owner": {"reputation": 4602, "user_id": 4812586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/258b1e084b70fa990e3b46b9fe8c8e49?s=128&d=identicon&r=PG&f=1", "display_name": "jjj", "link": "https://stackoverflow.com/users/4812586/jjj"}, "is_accepted": false, "score": 1, "last_activity_date": 1435183423, "last_edit_date": 1495540715, "creation_date": 1435180563, "answer_id": 31037198, "question_id": 31036868, "link": "https://stackoverflow.com/questions/31036868/ef-code-first-10-1-relationship-error-multiplicity-is-not-valid-in-role-efem/31037198#31037198", "title": "EF Code First 1:0..1 relationship error: Multiplicity is not valid in Role &#39;EFEmployee_Identity_Source&#39; in relationship &#39;EFEmployee_Identity&#39;", "body": "<p><s>Generally, with 1:0..1 relationships in Entity Framework, the dependent side needs to use its primary key as the foreign key. Fortunately, for your case, this doesn't seem like it would be a bad idea. You would need to:</p>\n\n<ol>\n<li>Remove the <code>EFEmployee.PersonID</code> property</li>\n<li>Add <code>[ForeignKey(\"Id\")]</code> to <code>EFEmployee.Identity</code></s></li>\n</ol>\n\n<p><em>Edit: May not work because key and navigation property are on separate classes. See <a href=\"https://stackoverflow.com/questions/11900155/how-to-map-foreign-keys-between-tph-tpt-objects-entity-framework-code-first\">this</a>.</em></p>\n\n<p>Having <code>EFEmployee</code> inherit from <code>EFPerson</code> seems like it might be a viable option as well. Inheritance uses TPH by default, but if you want to use TPT (table-per-type), add the <code>[Table]</code> attribute to your type.</p>\n"}, {"comments": [{"owner": {"reputation": 4602, "user_id": 4812586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/258b1e084b70fa990e3b46b9fe8c8e49?s=128&d=identicon&r=PG&f=1", "display_name": "jjj", "link": "https://stackoverflow.com/users/4812586/jjj"}, "edited": false, "score": 0, "creation_date": 1435188917, "post_id": 31038854, "comment_id": 50101569, "body": "FYI, I think this will make the relationship a one-to-many. You might be able to assign the same <code>EFPerson</code> to multiple <code>EFEmployee</code>&#39;s <code>Identity</code>."}, {"owner": {"reputation": 1076, "user_id": 4966342, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5ba542149065d6e4e2e6a4b639639361?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/4966342/drew"}, "reply_to_user": {"reputation": 4602, "user_id": 4812586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/258b1e084b70fa990e3b46b9fe8c8e49?s=128&d=identicon&r=PG&f=1", "display_name": "jjj", "link": "https://stackoverflow.com/users/4812586/jjj"}, "edited": false, "score": 0, "creation_date": 1435189830, "post_id": 31038854, "comment_id": 50101789, "body": "Hmm, I wonder if there&#39;s another constraint I can make while keeping the model like this."}], "tags": [], "owner": {"reputation": 1076, "user_id": 4966342, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5ba542149065d6e4e2e6a4b639639361?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/4966342/drew"}, "is_accepted": true, "score": 0, "last_activity_date": 1435188688, "creation_date": 1435188688, "answer_id": 31038854, "question_id": 31036868, "link": "https://stackoverflow.com/questions/31036868/ef-code-first-10-1-relationship-error-multiplicity-is-not-valid-in-role-efem/31038854#31038854", "title": "EF Code First 1:0..1 relationship error: Multiplicity is not valid in Role &#39;EFEmployee_Identity_Source&#39; in relationship &#39;EFEmployee_Identity&#39;", "body": "<p>I did some more playing around with the models and found out what was wrong. So I kept the foreign key attribute with EFPerson.Identity like jjj suggested:</p>\n\n<pre><code>[ForeignKey(\"PersonID\")]\npublic virtual EFPerson Identity { get; set; }\n</code></pre>\n\n<p>Then the other change I had to make was in the EFPerson class. In my EFPerson class I had the navigation property to EFEmployee:</p>\n\n<pre><code>public virtual EFEmployee Employee { get; set; }\n</code></pre>\n\n<p>However, since this is a 1:0..1 relationship with EFEmployee being the dependent side (i.e. the non-essential side), I removed that navigation property, and when I ran my test it worked. </p>\n"}], "owner": {"reputation": 1076, "user_id": 4966342, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/5ba542149065d6e4e2e6a4b639639361?s=128&d=identicon&r=PG&f=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/4966342/drew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1180, "favorite_count": 0, "accepted_answer_id": 31038854, "answer_count": 2, "score": 0, "last_activity_date": 1435188688, "creation_date": 1435179305, "last_edit_date": 1592644375, "question_id": 31036868, "link": "https://stackoverflow.com/questions/31036868/ef-code-first-10-1-relationship-error-multiplicity-is-not-valid-in-role-efem", "title": "EF Code First 1:0..1 relationship error: Multiplicity is not valid in Role &#39;EFEmployee_Identity_Source&#39; in relationship &#39;EFEmployee_Identity&#39;", "body": "<p>Full error:</p>\n<blockquote>\n<p>One or more validation errors were detected during model generation:</p>\n<p>EFEmployee_Identity_Source: : Multiplicity is not valid in Role 'EFEmployee_Identity_Source' in relationship 'EFEmployee_Identity'. Because the Dependent Role properties are not the key properties, the upper bound of the multiplicity of the Dependent Role must be '*'.</p>\n</blockquote>\n<p>I am dealing with three types of entities: EFEmployee, EFPerson, and EFOffice. It's kind of weird that I'm getting this error because the code I'm testing only creates an instance of an EFOffice entity. Anyway, here is the EFEmployee entity class:</p>\n<pre><code>[Table(&quot;employee_entity&quot;)]\npublic class EFEmployee : EFBusinessEntity\n{\n    [ForeignKey(&quot;Office&quot;)]\n    public Guid OfficeID { get; set; }\n\n    [ForeignKey(&quot;Identity&quot;)]\n    public Guid PersonID { get; set; }\n\n    [Column(&quot;hire_date&quot;)]\n    public DateTime HireDate { get; set; }\n\n    [Column(&quot;job_title&quot;)]\n    public byte[] JobTitle { get; set; }\n\n    [Column(&quot;salary&quot;)]\n    public int Salary { get; set; }\n\n    [Column(&quot;certifications&quot;)]\n    public byte[] Certifications { get; set; }\n\n    [Column(&quot;vacation_time&quot;)]\n    public int VacationTime { get; set; }\n\n    [Column(&quot;sick_time&quot;)]\n    public int SickTime { get; set; }\n\n    public virtual EFOffice Office { get; set; }\n\n    public EFPerson Identity { get; set; }\n\n    public virtual EFEmployee ReportingTo { get; set; }\n}\n</code></pre>\n<p>And this is my EFPerson entity class:</p>\n<pre><code>[Table(&quot;person_entity&quot;)]\npublic class EFPerson : EFBusinessEntity\n{\n    [Column(&quot;first_name&quot;)]\n    [StringLength(50)]\n    public string FirstName { get; set; }\n\n    [Column(&quot;last_name&quot;)]\n    [StringLength(50)]\n    public string LastName { get; set; }\n\n    [Column(&quot;phone_num&quot;)]\n    public uint? PhoneNum { get; set; }\n\n    [Column(&quot;date_of_birth&quot;)]\n    public DateTime DateOfBirth { get; set; }\n\n    public EFEmployee Employee { get; set; }\n}\n</code></pre>\n<p>You can see that they both inherit from EFBusinessEntity, which is here:</p>\n<pre><code>[Table(&quot;business_entity&quot;)]\npublic abstract class EFBusinessEntity : IBusinessEntity\n{\n    [Column(&quot;tenant_id&quot;)]\n    public Guid TenantId\n    {\n        get;\n        set;\n    }\n\n    [Column(&quot;id&quot;)]\n    [Key]\n    public Guid Id\n    {\n        get;\n        set;      \n    }\n}\n</code></pre>\n<p>As you can see, there is a one-to-zero-or-one relationship between EFEmployee and EFPerson, with EFEmployee being the dependent side since there can be a person who is not an employee, but there can't be an employee who is not a person too. Since EFEmployee is the dependent side, I have added a PersonID in EFEmployee with the data annotation (attribute?) above denoting that it's the foreign key to Person:</p>\n<pre><code>[ForeignKey(&quot;Identity&quot;)]\npublic Guid PersonID { get; set; }\n</code></pre>\n<p>I think I've made it pretty clear for Entity Framework that this is a 1:0..1 relationship. Does anyone know how to solve this error <em>using data annotations (or attributes, whatever those square bracket things above properties are)</em>. I can't use fluent API for reasons I'm not getting into.</p>\n"}, {"tags": ["c#", "xamarin"], "comments": [{"owner": {"reputation": 2046, "user_id": 4945059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElQ4m.jpg?s=128&g=1", "display_name": "voytek", "link": "https://stackoverflow.com/users/4945059/voytek"}, "edited": false, "score": 1, "creation_date": 1435179401, "post_id": 31036802, "comment_id": 50097891, "body": "Well, when you write &quot;gives me an error&quot; - you should at least paste this error here. As I looked at Xamarin documentation, there is no such constructor that takes two ints - <a href=\"http://developer.xamarin.com/api/type/MonoTouch.UIKit.UITextRange/\" rel=\"nofollow noreferrer\">developer.xamarin.com/api/type/MonoTouch.UIKit.UITextRange</a>"}, {"owner": {"reputation": 301, "user_id": 2833275, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c372b92d8ecb9dd3bdec6b5a8b2ae264?s=128&d=identicon&r=PG&f=1", "display_name": "jipot", "link": "https://stackoverflow.com/users/2833275/jipot"}, "reply_to_user": {"reputation": 2046, "user_id": 4945059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElQ4m.jpg?s=128&g=1", "display_name": "voytek", "link": "https://stackoverflow.com/users/4945059/voytek"}, "edited": false, "score": 0, "creation_date": 1435179923, "post_id": 31036802, "comment_id": 50098171, "body": "Yes, you&#39;re right. The error was in regard to not allowing a constructor that takes two ints. So how do I go about formatting it?"}], "answers": [{"comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "reply_to_user": {"reputation": 301, "user_id": 2833275, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c372b92d8ecb9dd3bdec6b5a8b2ae264?s=128&d=identicon&r=PG&f=1", "display_name": "jipot", "link": "https://stackoverflow.com/users/2833275/jipot"}, "edited": false, "score": 0, "creation_date": 1435191317, "post_id": 31037719, "comment_id": 50102161, "body": "they&#39;re just ints - the start and end index of the text you want to replace"}], "tags": [], "owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "is_accepted": true, "score": 1, "last_activity_date": 1435182573, "creation_date": 1435182573, "answer_id": 31037719, "question_id": 31036802, "link": "https://stackoverflow.com/questions/31036802/how-to-format-uitextfield-replacetext/31037719#31037719", "title": "How to format UITextField.ReplaceText", "body": "<pre><code>UITextRange range = myTextField.GetTextRange(start,end);\nmyTextField.ReplaceText(range, newstring);\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 2833275, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c372b92d8ecb9dd3bdec6b5a8b2ae264?s=128&d=identicon&r=PG&f=1", "display_name": "jipot", "link": "https://stackoverflow.com/users/2833275/jipot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 1, "accepted_answer_id": 31037719, "answer_count": 1, "score": 0, "last_activity_date": 1435182573, "creation_date": 1435179088, "question_id": 31036802, "link": "https://stackoverflow.com/questions/31036802/how-to-format-uitextfield-replacetext", "title": "How to format UITextField.ReplaceText", "body": "<p>The method</p>\n\n<pre><code>UITextField.ReplaceText(range, string);\n</code></pre>\n\n<p>Takes a UITextRange <strong>range</strong>. How do I format the range? The string is self-explanatory, but there is no documentation on how to go about forming the range.</p>\n\n<p>I have tried</p>\n\n<pre><code>UITextRange range = new UITextRange(4, 1);\n</code></pre>\n\n<p>However, this gives me an error. </p>\n"}, {"tags": ["c#"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4205878, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8681a532b7fdd0189bb6cd6dea22a0dc?s=128&d=identicon&r=PG&f=1", "display_name": "TJ DMU", "link": "https://stackoverflow.com/users/4205878/tj-dmu"}, "edited": false, "score": 0, "creation_date": 1435181175, "post_id": 31037261, "comment_id": 50098777, "body": "You are absolutely right! This worked perfectly and makes perfect sense :) Much appreciated."}], "tags": [], "owner": {"reputation": 2017, "user_id": 4999494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0e49247723efb14f33ad19a5ecdf1a4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Balabin", "link": "https://stackoverflow.com/users/4999494/alexander-balabin"}, "is_accepted": true, "score": 0, "last_activity_date": 1435180802, "creation_date": 1435180802, "answer_id": 31037261, "question_id": 31036797, "link": "https://stackoverflow.com/questions/31036797/extracting-files-nested-within-a-zip-file-using-system-io-compression-c/31037261#31037261", "title": "Extracting files nested within a zip file using System.IO.Compression C#", "body": "<p>Would have helped if you left the path in the error message there so people could see what path was not found. I would guess that when you combine extractPath and FullName you end up with a folder name that does not exist - as you mentioned the files in the zip file have subdirectories. </p>\n\n<p>I think you really meant to use <code>Name</code> property in your <code>Path.Combine</code> call.</p>\n"}], "owner": {"reputation": 11, "user_id": 4205878, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8681a532b7fdd0189bb6cd6dea22a0dc?s=128&d=identicon&r=PG&f=1", "display_name": "TJ DMU", "link": "https://stackoverflow.com/users/4205878/tj-dmu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1248, "favorite_count": 0, "accepted_answer_id": 31037261, "answer_count": 1, "score": 0, "last_activity_date": 1435180802, "creation_date": 1435179073, "question_id": 31036797, "link": "https://stackoverflow.com/questions/31036797/extracting-files-nested-within-a-zip-file-using-system-io-compression-c", "title": "Extracting files nested within a zip file using System.IO.Compression C#", "body": "<p>I have a number of zip files that contain .txt files nested in sub directories within the zip file. I am trying to extract the .txt files and output them to another directory, however I am getting an error 'Could not find a part of the path...' This error occurs at the 'entry.FullName' point</p>\n\n<p>I believe I need to remove the file path at some stage of the unzip process since I can get the code to run if I use zip files with .txt files in them without any sub-directories. Any pointers would be much appreciated.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n\n        DateTime dt = DateTime.Now;\n        foreach (var zp in Directory.GetFiles(@\"D:\\\\My Documents\\\\DMU\\\\Frontrunner2015\\\\ZipIn\\\\\", \"*.zip\"))\n        {\n            string zipPath = zp;\n            string extractPath = @\"D:\\\\My Documents\\\\DMU\\\\Frontrunner2015\\\\ZipOut\\\\\";\n\n            using (ZipArchive archive = ZipFile.OpenRead(zipPath))\n            {\n                foreach (ZipArchiveEntry entry in archive.Entries)\n                {\n                    if (entry.FullName.EndsWith(\".txt\", StringComparison.OrdinalIgnoreCase))\n                    {\n                        entry.ExtractToFile(Path.Combine(extractPath, entry.FullName));\n                    }\n                    foreach (var file in Directory.GetFiles(extractPath))\n                    {.....\n</code></pre>\n"}, {"tags": ["c#", "batch-file"], "comments": [{"owner": {"reputation": 121, "user_id": 3877579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52e4f102cbb79303f383cd66475047d?s=128&d=identicon&r=PG&f=1", "display_name": "DanielVorph", "link": "https://stackoverflow.com/users/3877579/danielvorph"}, "edited": false, "score": 0, "creation_date": 1435182314, "post_id": 31036788, "comment_id": 50099327, "body": "monthTest.bat must be run when today = 1/15/2015"}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 5041873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uiPdU.png?s=128&g=1", "display_name": "Jens R.", "link": "https://stackoverflow.com/users/5041873/jens-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1435180375, "creation_date": 1435180375, "answer_id": 31037154, "question_id": 31036788, "link": "https://stackoverflow.com/questions/31036788/using-c-to-make-decisions-based-on-lines-in-text-files/31037154#31037154", "title": "Using C# to make decisions based on lines in text files", "body": "<p>First, I would describe your scenario a bit different: If the current date is in File B, then execute monthTest.bat. If not, check if it's in File A, then execute weekTest.bat. If it isn't in either one, do nothing.</p>\n\n<p>You can use LINQ to query the arrays for the existence of your date:</p>\n\n<pre><code>var fileToRun = string.Empty;\nif (dateLinesMonth.Any(x =&gt; Convert.ToDateTime(x) == today)\n{\n    fileToRun = \"monthTest.bat\";\n}\nelse if (dateLinesWeek.Any(x =&gt; Convert.ToDateTime(x) == today)\n{\n    fileToRun = \"weekTest.bat\";\n}\n\nif (!string.IsNullOrEmpty(fileToRun)) \n{\n    // create and run process\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 3692948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be26521c9989459ce84e2e9120a7b78b?s=128&d=identicon&r=PG&f=1", "display_name": "subzeroLV", "link": "https://stackoverflow.com/users/3692948/subzerolv"}, "edited": false, "score": 0, "creation_date": 1435182205, "post_id": 31037244, "comment_id": 50099272, "body": "I appreciate your effort, but reading from the text files is a requirement for this. This solution will be implemented with multiple clients, and we don&#39;t want to hard code the dates in the actual application because each client could be different."}, {"owner": {"reputation": 652, "user_id": 1856992, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eed63f2945cf3d8f6611e856fc36c674?s=128&d=identicon&r=PG", "display_name": "thinklarge", "link": "https://stackoverflow.com/users/1856992/thinklarge"}, "reply_to_user": {"reputation": 43, "user_id": 3692948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be26521c9989459ce84e2e9120a7b78b?s=128&d=identicon&r=PG&f=1", "display_name": "subzeroLV", "link": "https://stackoverflow.com/users/3692948/subzerolv"}, "edited": false, "score": 0, "creation_date": 1435182997, "post_id": 31037244, "comment_id": 50099636, "body": "I was just simplifying it because I don&#39;t have your files.  Just put your reading script in place of the hard coded dates I put in there."}], "tags": [], "owner": {"reputation": 652, "user_id": 1856992, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eed63f2945cf3d8f6611e856fc36c674?s=128&d=identicon&r=PG", "display_name": "thinklarge", "link": "https://stackoverflow.com/users/1856992/thinklarge"}, "is_accepted": false, "score": 0, "last_activity_date": 1435180740, "creation_date": 1435180740, "answer_id": 31037244, "question_id": 31036788, "link": "https://stackoverflow.com/questions/31036788/using-c-to-make-decisions-based-on-lines-in-text-files/31037244#31037244", "title": "Using C# to make decisions based on lines in text files", "body": "<p>OK So I seriously simplified what you had and I converted your arrays of strings to a list.  I also cut out your read from file, because I didn't want to have that in dotfiddle.  Here's another way to do it.  </p>\n\n<p>You can see the following code on dotfiddle. <a href=\"https://dotnetfiddle.net/QYjoqw\" rel=\"nofollow\">https://dotnetfiddle.net/QYjoqw</a></p>\n\n<pre><code>public static void Main()\n{\n    var today = \"1/8/2015\";\n\n    // create the string arrays to hold the dates from the text files.     Initialize to null.\n    List&lt;string&gt; dateLinesWeek = null;\n    List&lt;string&gt; dateLinesMonth = null;\n\n    // this is the text file that contains the dates for week-end run dates.\n    dateLinesWeek = new List&lt;string&gt;() {\n        \"1/1/2015\", \n        \"1/8/2015\", \n        \"1/15/2015\", \n        \"1/22/2015\", \n        \"1/29/2015\"\n    };\n    dateLinesMonth= new List&lt;string&gt;() \n    {\n        \"1/15/2015\", \n        \"2/15/2015\", \n        \"3/15/2015\"\n    };\n\n    if (dateLinesMonth.Contains(today))\n    {\n        Console.WriteLine(\"Execute B\");\n    }\n    else if(dateLinesWeek.Contains(today))\n    {\n        Console.WriteLine(\"Execute A\");\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 3692948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be26521c9989459ce84e2e9120a7b78b?s=128&d=identicon&r=PG&f=1", "display_name": "subzeroLV", "link": "https://stackoverflow.com/users/3692948/subzerolv"}, "edited": false, "score": 0, "creation_date": 1435239025, "post_id": 31037766, "comment_id": 50124599, "body": "This worked perfectly! Thank you Lars N! And thank you to everyone else that offered solutions. I really appreciate your time and effort."}], "tags": [], "owner": {"reputation": 114, "user_id": 2667127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcf47fbcb2ad1ff0d02652500b7412e6?s=128&d=identicon&r=PG", "display_name": "Lars N", "link": "https://stackoverflow.com/users/2667127/lars-n"}, "is_accepted": true, "score": 1, "last_activity_date": 1435182712, "creation_date": 1435182712, "answer_id": 31037766, "question_id": 31036788, "link": "https://stackoverflow.com/questions/31036788/using-c-to-make-decisions-based-on-lines-in-text-files/31037766#31037766", "title": "Using C# to make decisions based on lines in text files", "body": "<p>I think the reason your code is not working properly is the</p>\n\n<pre><code>else \n{\n    return;\n}\n</code></pre>\n\n<p>If today's date is not on the first line in the month file, the application will exit.</p>\n\n<p>If I understand your requirements right you shall execute:</p>\n\n<ul>\n<li>Script A.bat if today's date is present in file A.txt.</li>\n<li>Script B.bat if today's date is present in file A.txt and B.txt.</li>\n</ul>\n\n<p>If so, I would do something like the below. You may want to change the conditions when to run what script if I misunderstood your requirements.</p>\n\n<pre><code>namespace Automate_Script\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            DateTime today =  DateTime.Today;\n            // display today's date in console window.\n            Console.WriteLine(\"\\n\\t\\tToday is {0}\", today.ToString(\"d\"));\n\n            if (!FileContainsDate(@\"C:\\MyScripts\\weekDates.txt\", today))\n                return; // Todays date not present in week dates, nothing shall be done.\n\n            if (FileContainsDate(@\"C:\\MyScripts\\monthDates.txt\", today))\n            {\n                RunScript(\"monthTest.bat\");\n            }\n            else\n            {\n                RunScript(\"weekTest.bat\");\n            }\n\n            Console.ReadLine();\n        }\n\n        private static bool FileContainsDate(string dateFile, DateTime date)\n        {\n            try\n            {\n                string[] dates = File.ReadAllLines(dateFile);\n                return dates.Any(line =&gt; Convert.ToDateTime(line) == date);\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(ex.Message);\n                return false; \n            }\n        }\n\n        private static void RunScript(string scriptFile)\n        {\n            try\n            {\n                Process p = new Process();\n                p.StartInfo.UseShellExecute = true;\n                p.StartInfo.WorkingDirectory = @\"C:\\MyScripts\";\n                p.StartInfo.FileName = scriptFile;\n                p.StartInfo.CreateNoWindow = false;\n                p.Start();\n                p.WaitForExit();\n                System.Threading.Thread.Sleep(3000);\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(\"Exception Occurred: {0}, {1}\", ex.Message, ex.StackTrace.ToString());\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59189, "user_id": 778560, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/52ebdc4690fff7b07d3644c4cb7b255a?s=128&d=identicon&r=PG", "display_name": "Aacini", "link": "https://stackoverflow.com/users/778560/aacini"}, "is_accepted": false, "score": 0, "last_activity_date": 1435184880, "creation_date": 1435184880, "answer_id": 31038221, "question_id": 31036788, "link": "https://stackoverflow.com/questions/31036788/using-c-to-make-decisions-based-on-lines-in-text-files/31038221#31038221", "title": "Using C# to make decisions based on lines in text files", "body": "<p>You selected the <code>batch-file</code> tag in this question, so I posted a batch-file solution (that is much simpler than the C# one).</p>\n\n<pre><code>@echo off\nsetlocal\n\nrem Get today's date and eliminate left zeros in each part\nset today=%date:/0=/%\n\nrem If there's a date in file A that's equal to today's date...\nfindstr /L \"%today%\" A.txt &gt; NUL\nif not errorlevel 1 (\n\n   rem then look at file B to see if today's date is contained in file B.\n   findstr /L \"%today%\" B.txt &gt; NUL\n\n   rem If it is in file B...\n   if not errorlevel 1 (\n      rem run batch file \"B\"\n      call B.bat\n   ) else (\n      rem run batch file \"A\"\n      call A.bat\n   )\n\n)\n\nrem If today's date is not listed in file A, do nothing\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 3692948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be26521c9989459ce84e2e9120a7b78b?s=128&d=identicon&r=PG&f=1", "display_name": "subzeroLV", "link": "https://stackoverflow.com/users/3692948/subzerolv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 31037766, "answer_count": 4, "score": 0, "last_activity_date": 1435184880, "creation_date": 1435179037, "question_id": 31036788, "link": "https://stackoverflow.com/questions/31036788/using-c-to-make-decisions-based-on-lines-in-text-files", "title": "Using C# to make decisions based on lines in text files", "body": "<p>I need to write a C# console application that can be called by a scheduled task. What I need to do is compare two\ntext files of dates. One file will have more dates than the other. The application will need to compare a list of dates to the current date, and run a batch file based on the date.</p>\n\n<p>If there's a date in file A that's equal to today's date, then look at file B to see if today's date is contained in file B.\nIf it is in file B, run batch file \"B\". If today's date is not listed in file B, but is in file A, run batch file \"A\". If today's date is not listed in either text file, do nothing.</p>\n\n<p>As an example:\nFile A has dates of, \n1/1/2015\n1/8/2015\n1/15/2015\n1/22/2015\n1/29/2015</p>\n\n<p>File B has dates of,\n1/15/2015\n2/15/2015\n3/15/2015</p>\n\n<p>Let's assume today is 1/15/2015. The application checks file A and sees that today's date exists. It then goes on to check \nfile B and finds that todays date exits so it runs the batch file \"B\". If today's date was not in file B, it would run batch file \"A\".</p>\n\n<p>If today was 1/31/2015, neither would be true, and no batch files would run.</p>\n\n<p>This is what I have so far. Fyi... I'm new to C# and new to programming in general. Thanks in advance for any assistance.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Diagnostics;\nusing System.IO;\n\nnamespace Automate_Script\n{\n    class Program\n    {\n        // get today's date\n        private static DateTime today = DateTime.Today;\n\n        // create the string arrays to hold the dates from the text files.     Initialize to null.\n        private static string[] dateLinesWeek = null;\n        private static string[] dateLinesMonth = null;\n\n        static void Main(string[] args)\n        {\n            // display today's date in console window.\n            Console.WriteLine(\"\\n\\t\\tToday is {0}\", today.ToString(\"d\"));\n\n            // attempts to read the 'weekDates' text file.\n            try\n            {\n                // this is the text file that contains the dates for week-end run dates.\n                dateLinesWeek = File.ReadAllLines(@\"C:\\MyScripts\\weekDates.txt\");\n                dateLinesMonth = File.ReadAllLines(@\"C:\\MyScripts\\monthDates.txt\");\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(ex.Message);\n            }\n\n            // create the process to run the batch execution.\n            Process p = new Process();\n\n            // iterate through the 'weekDates' text file\n            foreach (var weekLine in dateLinesWeek)\n            {\n                if (Convert.ToDateTime(weekLine) == today)\n                {\n                    foreach (var monthLine in dateLinesMonth)\n                    {\n                        if (Convert.ToDateTime(monthLine) == today &amp;&amp; Convert.ToDateTime(weekLine) == today)\n                        {\n                            try\n                            {\n                                string targetDirectory;\n                                targetDirectory = string.Format(@\"C:\\MyScripts\");\n\n                                p.StartInfo.UseShellExecute = true;\n                                p.StartInfo.WorkingDirectory = targetDirectory;\n                                p.StartInfo.FileName = \"monthTest.bat\";\n                                p.StartInfo.CreateNoWindow = false;\n                                p.Start();\n                                p.WaitForExit();\n                                System.Threading.Thread.Sleep(3000);\n                            }\n                            catch (Exception ex)\n                            {\n                                Console.WriteLine(\"Exception Occurred: {0}, {1}\", ex.Message, ex.StackTrace.ToString());\n                            }\n                        }\n                        else\n                        {\n                            return;\n                        }\n                    }\n                }\n                else\n                {\n                    try\n                    {\n                        string targetDirectory;\n                        targetDirectory = string.Format(@\"C:\\MyScripts\");\n\n                        p.StartInfo.UseShellExecute = true;\n                        p.StartInfo.WorkingDirectory = targetDirectory;\n                        p.StartInfo.FileName = \"weekTest.bat\";\n                        p.StartInfo.CreateNoWindow = false;\n                        p.Start();\n                        p.WaitForExit();\n                        System.Threading.Thread.Sleep(3000);\n                    }\n                    catch (Exception ex)\n                    {\n                        Console.WriteLine(\"Exception Occurred: {0}, {1}\", ex.Message, ex.StackTrace.ToString());\n                    }\n                    break;\n                }\n            }\n\n            Console.ReadLine();\n            //System.Threading.Thread.Sleep(3000);\n        }\n    }\n}\n</code></pre>\n\n<p>I've tried many varieties of the above code with mostly the same results. I can typically only get the weekly script to run.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 2, "creation_date": 1435179362, "post_id": 31036783, "comment_id": 50097869, "body": "<code>BinarySearch</code> is a method on <code>List</code>.  So no.  You can write an extension method, but you&#39;re just hiding the <code>List</code> then."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1435179956, "post_id": 31036783, "comment_id": 50098182, "body": "Do you actually intent to have different types of lists in <code>listOne</code> besides <code>LIst</code>?  Are you going to store arrays, or collection types you&#39;ve created yourself, etc.?  If you know that you&#39;re only ever going to represent a <code>List</code> with that variable, then make that the variables type."}, {"owner": {"reputation": 553, "user_id": 4398885, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c8a0594f6e056491ed9c95a7c7f9d0fe?s=128&d=identicon&r=PG&f=1", "display_name": "Raj Karri", "link": "https://stackoverflow.com/users/4398885/raj-karri"}, "edited": false, "score": 0, "creation_date": 1435180409, "post_id": 31036783, "comment_id": 50098416, "body": "Correct. I am going to pass different type of things to &quot;listOne&quot; and I want to take the advantage of BinarySearch() method from List and sometimes I just want to return &quot;can&#39;t perform binary search on given collection.&quot;."}, {"owner": {"reputation": 2344, "user_id": 1095390, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/hlFdg.png?s=128&g=1", "display_name": "farid bekran", "link": "https://stackoverflow.com/users/1095390/farid-bekran"}, "edited": false, "score": 0, "creation_date": 1435180576, "post_id": 31036783, "comment_id": 50098509, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/967047/how-to-perform-a-binary-search-on-ilistt\">How to perform a binary search on IList&lt;T&gt;?</a>"}, {"owner": {"reputation": 553, "user_id": 4398885, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c8a0594f6e056491ed9c95a7c7f9d0fe?s=128&d=identicon&r=PG&f=1", "display_name": "Raj Karri", "link": "https://stackoverflow.com/users/4398885/raj-karri"}, "reply_to_user": {"reputation": 2344, "user_id": 1095390, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/hlFdg.png?s=128&g=1", "display_name": "farid bekran", "link": "https://stackoverflow.com/users/1095390/farid-bekran"}, "edited": false, "score": 0, "creation_date": 1435181227, "post_id": 31036783, "comment_id": 50098802, "body": "@farid bekran I am not worrying about binary search. Please have a look at update added."}, {"owner": {"reputation": 2344, "user_id": 1095390, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/hlFdg.png?s=128&g=1", "display_name": "farid bekran", "link": "https://stackoverflow.com/users/1095390/farid-bekran"}, "edited": false, "score": 1, "creation_date": 1435181485, "post_id": 31036783, "comment_id": 50098928, "body": "@rajasekharareddy oh sorry. In this kind of situations I prefer to use wrapper classes and interfaces to encapsulate raw .net logic. for example I define my own list class and list interface that at some points it executes my logic and another points it simply pass control to .net routines."}], "answers": [{"tags": [], "owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "is_accepted": true, "score": 2, "last_activity_date": 1435181391, "creation_date": 1435181391, "answer_id": 31037410, "question_id": 31036783, "link": "https://stackoverflow.com/questions/31036783/how-to-access-binarysearch-method-in-ilist-to-list-initialization-without-brea/31037410#31037410", "title": "How to access BinarySearch() method in IList to List initialization without breaking program to interface rule", "body": "<p>This is a thorny issue with .NET collections. The hierarchies are not designed well. I think it is reasonable to assume that not each <code>IList</code> derived class can implement <code>BinarySearch</code> efficiently. The BCL should contain an interface <code>ISupportsBinarySearch</code> and an extension method that uses that interface if available and implements it's own binary search if not.</p>\n\n<p>The <code>Enumerable.Count</code> extension method does just that. It delegates to <code>ICollection.Count</code> if available.</p>\n\n<p>Given that the BCL does not have this feature that I just proposed you need to do some work yourself. Write yourself an extension method that does binary search on any <code>IList</code>. In that method runtime test whether the passed-in <code>IList</code> is in fact a <code>List</code>. If that is the case delegate to the <code>List.BinarySearch</code> method.</p>\n"}, {"comments": [{"owner": {"reputation": 9219, "user_id": 979325, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b513c9edd4da1688c05ba041820011c7?s=128&d=identicon&r=PG", "display_name": "Jepessen", "link": "https://stackoverflow.com/users/979325/jepessen"}, "edited": false, "score": 0, "creation_date": 1513768193, "post_id": 31038125, "comment_id": 82775944, "body": "Thanks, you saved my day... Now I have to learn what <code>ReliabilityContract</code> is (I&#39;m really new to c#, but I&#39;ll find a guide somewhere)..."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 9219, "user_id": 979325, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b513c9edd4da1688c05ba041820011c7?s=128&d=identicon&r=PG", "display_name": "Jepessen", "link": "https://stackoverflow.com/users/979325/jepessen"}, "edited": false, "score": 0, "creation_date": 1513787130, "post_id": 31038125, "comment_id": 82788352, "body": "@Jepessen don&#39;t worry about <code>ReliabilityContract</code>, it is only necessary if you are writing code that has Constrained Execution Regions, which 99.99% of projects will not have in any user written code."}], "tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": false, "score": 2, "last_activity_date": 1435184357, "creation_date": 1435184357, "answer_id": 31038125, "question_id": 31036783, "link": "https://stackoverflow.com/questions/31036783/how-to-access-binarysearch-method-in-ilist-to-list-initialization-without-brea/31038125#31038125", "title": "How to access BinarySearch() method in IList to List initialization without breaking program to interface rule", "body": "<p>Because the <a href=\"http://referencesource.microsoft.com/#mscorlib/system/array.cs,c9d30a83673759f0\" rel=\"nofollow\">Refrence Source is available</a> I looked in to how <a href=\"https://msdn.microsoft.com/en-us/library/523d096t(v=vs.110).aspx\" rel=\"nofollow\"><code>Array.BinarySearch</code></a> does it's work. It is not a complex method so I wrote my own extension method that tries the built in searches first but if it can't find them it then does its own Binary Search on the IList.</p>\n\n<pre><code>public static class ExtensionMethods\n{\n    [Pure]\n    [ReliabilityContract(Consistency.WillNotCorruptState, Cer.MayFail)]\n    public static int BinarySearch&lt;T&gt;(IList&lt;T&gt; list, T value)\n    {\n        if (list == null)\n            throw new ArgumentNullException(\"list\");\n        Contract.Ensures((Contract.Result&lt;int&gt;() &gt;= 0) &amp;&amp; Contract.Result&lt;int&gt;() &lt;= (list.Count &gt; 0 ? list.Count - 1 : 0) || (Contract.Result&lt;int&gt;() &lt; 0 &amp;&amp; ~Contract.Result&lt;int&gt;() &lt;= list.Count));\n        Contract.EndContractBlock();\n        return BinarySearch(list, 0, list.Count, value, null);\n    }\n\n    [Pure]\n    [ReliabilityContract(Consistency.WillNotCorruptState, Cer.MayFail)]\n    public static int BinarySearch&lt;T&gt;(IList&lt;T&gt; list, T value, IComparer&lt;T&gt; comparer)\n    {\n        if (list == null)\n            throw new ArgumentNullException(\"list\");\n        Contract.EndContractBlock();\n        return BinarySearch(list, 0, list.Count, value, comparer);\n    }\n\n    [Pure]\n    [ReliabilityContract(Consistency.WillNotCorruptState, Cer.MayFail)]\n    public static int BinarySearch&lt;T&gt;(IList&lt;T&gt; list, int index, int length, T value, IComparer&lt;T&gt; comparer)\n    {\n        if (list == null)\n            throw new ArgumentNullException(\"list\");\n        Contract.EndContractBlock();\n\n        //Try one of the existing implementations of BinarySearch before we do our own.\n        var asListT = list as List&lt;T&gt;;\n        if (asListT != null)\n            return BinarySearch(list, index, length, value, comparer);\n\n        var asTypedArray = list as T[];\n        if (asTypedArray != null)\n            Array.BinarySearch&lt;T&gt;(asTypedArray, index, length, value, comparer);\n\n        var asUntypedArray = list as Array;\n        if (asUntypedArray != null)\n        {\n            if (comparer != null)\n            {\n                IComparer nonGenericComparer = comparer as IComparer ?? new ComparerWrapper&lt;T&gt;(comparer);\n                return Array.BinarySearch(asUntypedArray, index, length, value, nonGenericComparer);\n            }\n            else\n            {\n                return Array.BinarySearch(asUntypedArray, index, length, value, null);\n            }\n        }\n\n        if (index &lt; 0 || length &lt; 0)\n            throw new ArgumentOutOfRangeException((index &lt; 0 ? \"index\" : \"length\"), \"argument is less than 0.\");\n        if (list.Count - index &lt; length)\n            throw new ArgumentException(\"index and length do not specify a valid range in the list.\");\n\n\n\n        if (comparer == null) \n            comparer = Comparer&lt;T&gt;.Default;\n\n\n        int lo = index;\n        int hi = index + length - 1;\n        while (lo &lt;= hi)\n        {\n            // i might overflow if lo and hi are both large positive numbers. \n            int i = GetMedian(lo, hi);\n\n            int c;\n            try\n            {\n                c = comparer.Compare(list[i], value);\n            }\n            catch (Exception e)\n            {\n                throw new InvalidOperationException(\"Comparer failed\", e);\n            }\n            if (c == 0) return i;\n            if (c &lt; 0)\n            {\n                lo = i + 1;\n            }\n            else\n            {\n                hi = i - 1;\n            }\n        }\n        return ~lo;\n    }\n\n    [ReliabilityContract(Consistency.WillNotCorruptState, Cer.Success)]\n    private static int GetMedian(int low, int hi)\n    {\n        // Note both may be negative, if we are dealing with arrays w/ negative lower bounds.\n        Contract.Requires(low &lt;= hi);\n        Contract.Assert(hi - low &gt;= 0, \"Length overflow!\");\n        return low + ((hi - low) &gt;&gt; 1);\n    }\n}\n\nclass ComparerWrapper&lt;T&gt; : IComparer\n{\n    private readonly IComparer&lt;T&gt; _comparer;\n\n    public ComparerWrapper(IComparer&lt;T&gt; comparer)\n    {\n        _comparer = comparer;\n    }\n\n    public int Compare(object x, object y)\n    {\n        return _comparer.Compare((T)x, (T)y);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 553, "user_id": 4398885, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c8a0594f6e056491ed9c95a7c7f9d0fe?s=128&d=identicon&r=PG&f=1", "display_name": "Raj Karri", "link": "https://stackoverflow.com/users/4398885/raj-karri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 31037410, "answer_count": 2, "score": 1, "last_activity_date": 1435184357, "creation_date": 1435179021, "last_edit_date": 1435182738, "question_id": 31036783, "link": "https://stackoverflow.com/questions/31036783/how-to-access-binarysearch-method-in-ilist-to-list-initialization-without-brea", "title": "How to access BinarySearch() method in IList to List initialization without breaking program to interface rule", "body": "<p>I have a code snippet and I am not able to take the advantage of program to interface instead of implementation. In below scenario, I am not able to perform binary search on \"listOne\". Is there any other way other than <code>IList&lt;int&gt;</code> to <code>List&lt;int&gt;</code> initialization?.</p>\n\n<pre><code>IList&lt;int&gt; listOne = new List&lt;int&gt;();\nList&lt;int&gt; listTwo = new List&lt;int&gt;();\n\n// some code goes here.\n\n// Below statement invalid.\n//int itemFoundIndex = listOne.BinarySearch(5);\n\nint itemFoundIndex = listTwo.BinarySearch(5);\n</code></pre>\n\n<p>Update:</p>\n\n<p>In design point of view when we have this kind of situation, Do we need to worry about program to interface or not? Asked this question mocking and unit tests point of view as well.</p>\n"}, {"tags": ["c#", "sql", "linq-to-sql"], "comments": [{"owner": {"reputation": 573, "user_id": 786143, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ddb57b66d3e72154508385bebeed08c7?s=128&d=identicon&r=PG", "display_name": "javisrk", "link": "https://stackoverflow.com/users/786143/javisrk"}, "edited": false, "score": 0, "creation_date": 1435181526, "post_id": 31036723, "comment_id": 50098948, "body": "I&#39;d use database triggers."}, {"owner": {"reputation": 15, "user_id": 3963309, "user_type": "registered", "profile_image": "https://graph.facebook.com/1153819252/picture?type=large", "display_name": "Thokozani Tkay Gwiliza", "link": "https://stackoverflow.com/users/3963309/thokozani-tkay-gwiliza"}, "reply_to_user": {"reputation": 573, "user_id": 786143, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ddb57b66d3e72154508385bebeed08c7?s=128&d=identicon&r=PG", "display_name": "javisrk", "link": "https://stackoverflow.com/users/786143/javisrk"}, "edited": false, "score": 0, "creation_date": 1435226043, "post_id": 31036723, "comment_id": 50115701, "body": "Thanks for your response but the thing is I read the connections based on the user selection dropdown. So i am not inserting to all database all the time."}], "owner": {"reputation": 15, "user_id": 3963309, "user_type": "registered", "profile_image": "https://graph.facebook.com/1153819252/picture?type=large", "display_name": "Thokozani Tkay Gwiliza", "link": "https://stackoverflow.com/users/3963309/thokozani-tkay-gwiliza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435178825, "creation_date": 1435178825, "question_id": 31036723, "link": "https://stackoverflow.com/questions/31036723/how-to-insert-into-multiple-databases-in-one-stored-procedure-call", "title": "How to insert into multiple databases in one stored procedure call", "body": "<p>I have a table that stores connection string to other databases.I have a common table among all my databases that I would like to insert data given the connection string. Using linq to sql I would like to know if it it possible to do multiple inserts into different databases in one stored procedure call.</p>\n\n<p>I have tried the below I get no error message but data is not committed to he DB. Is this even possible? if so how can I achieve that</p>\n\n<pre><code>   private bool addUserToSelectedPortals(string Connectionstring, string accountIdList, int? logAccount, string userName, string logUserName, string moduleName, bool isLastUsed, bool isDefault, bool isDebugUser, ref string retMsg)\n    {\n          int? result =0;\n\n          using (var context = new UserCreateDALDataContext(Connectionstring))\n              {\n\n               result = (context.adm_InsAccountUser(accountIdList, logAccount, userName, logUserName, moduleName, isLastUsed, isDefault, isDebugUser, ref retMsg));\n               if(result = 0)\n               { \n                  return false\n               }\n               else\n                  return false;                                        \n              }              \n\n    }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 36654, "user_id": 107625, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/53a82f701ae492808834e621de2586eb?s=128&d=identicon&r=PG", "display_name": "Uwe Keim", "link": "https://stackoverflow.com/users/107625/uwe-keim"}, "edited": false, "score": 0, "creation_date": 1435178900, "post_id": 31036722, "comment_id": 50097624, "body": "Maybe something with the <a href=\"https://msdn.microsoft.com/en-us/library/dd264736.aspx\" rel=\"nofollow noreferrer\"><code>dynamic</code> keyword</a>?"}, {"owner": {"reputation": 20789, "user_id": 51428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dfe31131d62b675b10d7b02284d5303?s=128&d=identicon&r=PG", "display_name": "flq", "link": "https://stackoverflow.com/users/51428/flq"}, "edited": false, "score": 2, "creation_date": 1435179169, "post_id": 31036722, "comment_id": 50097765, "body": "Seems to me the ratio of cost to value is not a good one for this."}, {"owner": {"reputation": 102162, "user_id": 613130, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40bd5f390cba274159501bb244bc29f4?s=128&d=identicon&r=PG", "display_name": "xanatos", "link": "https://stackoverflow.com/users/613130/xanatos"}, "edited": false, "score": 0, "creation_date": 1435216328, "post_id": 31036722, "comment_id": 50109678, "body": "Are the methods of all the builders the same methosd? So do all the builders support .<code>WithParameter()</code>/<code>WithAnother()</code>, or are there specific methods for specific builders, like <code>WithParameterOfFooBuilder()</code>/<code>WithParameterOfBarBuilder()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 20789, "user_id": 51428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dfe31131d62b675b10d7b02284d5303?s=128&d=identicon&r=PG", "display_name": "flq", "link": "https://stackoverflow.com/users/51428/flq"}, "edited": false, "score": 2, "creation_date": 1435179081, "post_id": 31036785, "comment_id": 50097715, "body": "You also got it wrong. T is not the builder but the model"}, {"owner": {"reputation": 1309, "user_id": 1531189, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/3c62b569e446192810c13aabeb8dad05?s=128&d=identicon&r=PG", "display_name": "Demarsch", "link": "https://stackoverflow.com/users/1531189/demarsch"}, "edited": false, "score": 0, "creation_date": 1435179164, "post_id": 31036785, "comment_id": 50097762, "body": "I think he meant that return type should implement iBuilder interface i.e. <code>public static IBuilder For&lt;T&gt;();</code>"}, {"owner": {"reputation": 24598, "user_id": 21461, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/44968af84be89a8ee8eecb31fab8d5ff?s=128&d=identicon&r=PG", "display_name": "Kyle Trauberman", "link": "https://stackoverflow.com/users/21461/kyle-trauberman"}, "reply_to_user": {"reputation": 20789, "user_id": 51428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dfe31131d62b675b10d7b02284d5303?s=128&d=identicon&r=PG", "display_name": "flq", "link": "https://stackoverflow.com/users/51428/flq"}, "edited": false, "score": 0, "creation_date": 1435179272, "post_id": 31036785, "comment_id": 50097823, "body": "@flq Good catch.  the return type should be IBuilder, not T"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1435180428, "post_id": 31036785, "comment_id": 50098426, "body": "This is unlikely to be useful.  The builder is going to need more than just a <code>Build</code> member; it&#39;s going to need methods for all of the different values to supply, none of which are going to be exposed when doing this.  These members aren&#39;t going to be common among all of the various builders."}, {"owner": {"reputation": 102162, "user_id": 613130, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40bd5f390cba274159501bb244bc29f4?s=128&d=identicon&r=PG", "display_name": "xanatos", "link": "https://stackoverflow.com/users/613130/xanatos"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1435216226, "post_id": 31036785, "comment_id": 50109613, "body": "@Servy If the builder is totally unknown at compile time, then you couldn&#39;t call a <code>.SpecializedMethodOfFooBuilder(5)</code>... The fact that you use a &quot;special&quot; method of a specific builder implies that you know of that builder."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 102162, "user_id": 613130, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40bd5f390cba274159501bb244bc29f4?s=128&d=identicon&r=PG", "display_name": "xanatos", "link": "https://stackoverflow.com/users/613130/xanatos"}, "edited": false, "score": 0, "creation_date": 1435236509, "post_id": 31036785, "comment_id": 50122589, "body": "@xanatos That&#39;s correct.  The answer to the question is, &quot;it&#39;s not possible&quot;.  The answer provided here doesn&#39;t solve the requested problem, because that problem can&#39;t be solved."}], "tags": [], "owner": {"reputation": 24598, "user_id": 21461, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/44968af84be89a8ee8eecb31fab8d5ff?s=128&d=identicon&r=PG", "display_name": "Kyle Trauberman", "link": "https://stackoverflow.com/users/21461/kyle-trauberman"}, "is_accepted": false, "score": 0, "last_activity_date": 1435179226, "last_edit_date": 1435179226, "creation_date": 1435179031, "answer_id": 31036785, "question_id": 31036722, "link": "https://stackoverflow.com/questions/31036722/how-do-i-return-a-type-that-is-unknown-at-compile-time/31036785#31036785", "title": "How do I return a type that is unknown at compile time?", "body": "<p>Define a base class or interface for your builder types:</p>\n\n<pre><code>public interface IBuilder \n{\n    // common methods and properties here\n}\n</code></pre>\n\n<p>Make all your builders inherit from that interface or base class.</p>\n\n<p>Then update your return type:</p>\n\n<pre><code>public static IBuilder For&lt;T&gt;()\n{\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51015, "user_id": 356849, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/INqgP.jpg?s=128&g=1", "display_name": "NullVoxPopuli", "link": "https://stackoverflow.com/users/356849/nullvoxpopuli"}, "edited": false, "score": 0, "creation_date": 1435233735, "post_id": 31036866, "comment_id": 50120539, "body": "Thanks for the info! I think more information is needed though. Here is an example of the pattern I&#39;ve implemented: <a href=\"http://stefanoricciardi.com/2010/04/14/a-fluent-builder-in-c/\" rel=\"nofollow noreferrer\">stefanoricciardi.com/2010/04/14/a-fluent-builder-in-c</a> So, I guess in order to use your technique, the lambda would have to specify both the parameter and the value? (meaning all the properties would need to be public (right now, mine are private))"}, {"owner": {"reputation": 51015, "user_id": 356849, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/INqgP.jpg?s=128&g=1", "display_name": "NullVoxPopuli", "link": "https://stackoverflow.com/users/356849/nullvoxpopuli"}, "edited": false, "score": 0, "creation_date": 1435233971, "post_id": 31036866, "comment_id": 50120717, "body": "You&#39;re correct about the relationship of the builder with T"}, {"owner": {"reputation": 51015, "user_id": 356849, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/INqgP.jpg?s=128&g=1", "display_name": "NullVoxPopuli", "link": "https://stackoverflow.com/users/356849/nullvoxpopuli"}, "edited": false, "score": 0, "creation_date": 1435234217, "post_id": 31036866, "comment_id": 50120878, "body": "I guess, alternatively, is there a way to use a lamba that all the attributes could be assigned at once? Kind of like ruby on rails&#39;s attribute assignment  <a href=\"http://www.davidverhasselt.com/set-attributes-in-activerecord/\" rel=\"nofollow noreferrer\">davidverhasselt.com/set-attributes-in-activerecord</a>  But then still have compile time errors thrown in case refactoring needs to happen?"}], "tags": [], "owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "is_accepted": false, "score": 2, "last_activity_date": 1435182425, "last_edit_date": 1435182425, "creation_date": 1435179304, "answer_id": 31036866, "question_id": 31036722, "link": "https://stackoverflow.com/questions/31036722/how-do-i-return-a-type-that-is-unknown-at-compile-time/31036866#31036866", "title": "How do I return a type that is unknown at compile time?", "body": "<p>Servy has pointed out that you have left a comment on a now deleted answer where you say each builder can have different methods. </p>\n\n<blockquote>\n  <p>I don't think this exact approach would work, as all the builders are\n  going to have different methods?</p>\n</blockquote>\n\n<p>If that is the case, i.e. the individual builder types can have methods that you want to access, there is no value to the <code>Builder.For</code> method abstraction. </p>\n\n<p>Put another way, if there is no single type that <code>For</code> can return that could conceivably be useful to you, except for the specific builder type you're trying to construct, you might as well new up an instance of the builder and be done with it.</p>\n\n<p>If, on the other hand, you're interested in exposing a uniform API where arguments can be analyzed by the dynamically resolved builder to build the object, or in other words want to do something like this:</p>\n\n<pre><code>MyModel mm = Builder.For&lt;MyModel&gt;()\n    .WithProperty(x =&gt; x.MyModelProp)\n    .HavingValue(10)\n    .Build();\n\nMyOtherModel mom = Builder.For&lt;MyOtherModel&gt;()\n    .WithProperty(x =&gt; x.MyOtherModelProp)\n    .HavingValue(\"hello\")\n    .Build();\n</code></pre>\n\n<p>read on.</p>\n\n<hr>\n\n<p>I'm speculating a bit here, but I'm assuming a TBuilder is supposed to have this sort of a relationship with T:</p>\n\n<pre><code>interface IBuilder&lt;T&gt;\n{\n    T Build();\n}\n</code></pre>\n\n<p>Let's say you have: </p>\n\n<pre><code>class Tower \n{\n    string Tallness { get { return \"So tall\"; } } \n}\nclass TowerBuilder : IBuilder&lt;Tower&gt; \n{\n    Tower Build() { return new Tower(); }\n}\n</code></pre>\n\n<p>You can implement the method like so:</p>\n\n<pre><code>static IBuilder&lt;T&gt; BuilderFor&lt;T&gt;()\n{\n    var builderName = typeof(T).Name + \"Builder\";\n    var type = Type.GetType(builderName);\n    var builder = (IBuilder&lt;T&gt;)Activator.CreateInstance(type);\n    return builder;\n}\n</code></pre>\n\n<p>Then do:</p>\n\n<pre><code>var tb = BuilderFor&lt;Tower&gt;();\nvar towerTallness = tb.Build().Tallness;\n</code></pre>\n"}], "owner": {"reputation": 51015, "user_id": 356849, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/INqgP.jpg?s=128&g=1", "display_name": "NullVoxPopuli", "link": "https://stackoverflow.com/users/356849/nullvoxpopuli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1435182425, "creation_date": 1435178824, "question_id": 31036722, "link": "https://stackoverflow.com/questions/31036722/how-do-i-return-a-type-that-is-unknown-at-compile-time", "title": "How do I return a type that is unknown at compile time?", "body": "<p>Here is what I have so far:</p>\n\n<pre><code>public static object For&lt;T&gt;()\n{\n    var builderName = typeof(T).Name + \"Builder\";\n    var type = Type.GetType(builderName);\n    var builder = Activator.CreateInstance(type);\n    return builder;\n}\n</code></pre>\n\n<p>And that doesn't error or anything, but the problem is when I call it:</p>\n\n<pre><code>var builder = Builder.For&lt;MyModel&gt;();\n</code></pre>\n\n<p>and then try to call methods on it:</p>\n\n<pre><code>builder.WithAnything()\n</code></pre>\n\n<p>It errors, because the return type of the method is just an object, rather than the type that was built within the method.</p>\n\n<p>The purpose of this is to sort of have a factory that produces \"Builders\" (which follow the fluent builder pattern) -- and trying to create some syntactic sugar, so I don't have to do this:</p>\n\n<pre><code>(new MyModelBuilder())\n  .WithParameter(2)\n  .WithAnother(3)\n  .Build();\n</code></pre>\n\n<p>At least, <em>I</em> Like the look of this much better (so this is the yet-to-be-achieved goal):</p>\n\n<pre><code>Builder.For&lt;MyModel&gt;()\n  .WithParemeter(2)\n  .WithAnother(3)\n  .Build();\n</code></pre>\n\n<p>Can this be done in c#?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 2, "creation_date": 1435178361, "post_id": 31036551, "comment_id": 50097359, "body": "You prompted for input <b>OUTSIDE</b> of your loops, then never prompt for input inside the loops. Therefore whatever was chosen at the beginning become PERMANENT choices."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 5, "creation_date": 1435178737, "post_id": 31036551, "comment_id": 50097546, "body": "Usually this kind of problems are solved very quickly using the debugger. You should try it. Soon, you will ask yourself how it was possible to program without it"}], "answers": [{"comments": [{"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1435179557, "post_id": 31036890, "comment_id": 50097963, "body": "Also, along with my answer I should ask: why use a do/while instead of a regular while? If the user wants to quit before the first round, do you force them to play the first round?"}], "tags": [], "owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "is_accepted": true, "score": 0, "last_activity_date": 1435179394, "creation_date": 1435179394, "answer_id": 31036890, "question_id": 31036551, "link": "https://stackoverflow.com/questions/31036551/trouble-with-infinite-loop/31036890#31036890", "title": "Trouble with infinite loop", "body": "<p>You are never updating the user's input within your loop. Once the user makes a choice, it is never changed.<br>\n<code>UserOption = GetOptionFromUser();</code> should also occur in your loop. At least that's what I can tell from a quick glance.</p>\n"}], "owner": {"reputation": 7, "user_id": 4259508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5c260c9e3c63cbe1d1ecb88eb68f28dc?s=128&d=identicon&r=PG&f=1", "display_name": "drew202", "link": "https://stackoverflow.com/users/4259508/drew202"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 31036890, "answer_count": 1, "score": -1, "last_activity_date": 1435179394, "creation_date": 1435178239, "question_id": 31036551, "link": "https://stackoverflow.com/questions/31036551/trouble-with-infinite-loop", "title": "Trouble with infinite loop", "body": "<p>I am trying to make a simple shotgun game where the user vs the CPU and the both pick shot, shield or reload using enumeration but When I go to run my code it just keeps looping what the user and computer picked. I am not sure as to how to fix this</p>\n\n<p>Any guidance would be appreciated</p>\n\n<pre><code>//Declare Variables\n        Console.Title = \"Welcome To The Shotgune Game\";\n        int CPUBullets = 3, userBullets = 3;\n        ShotgunOption UserOption;\n        int  userScore = 0;\n        bool QUIT = false;\n        double gameCount = 0.0;\n        Random computer = new Random();\n\n        Console.Clear();\n        Console.WriteLine(\"SHOOT RELOAD SHIELD\");\n\n        UserOption = GetOptionFromUser();\n        ShotgunOption CPUOption = (ShotgunOption)computer.Next(1, 3); // 1 is Shot, 2 is Reload, 3 is Shield\n\n         do\n        {\n\n\n           // if (UserOption == \"QUIT\")\n            //{\n                //break;\n            //}\n\n            do\n            {\n            //Console.Write(\"Please enter choice, or enter QUIT to quit: \");\n\n\n\n\n              switch (UserOption)\n            {\n                 case ShotgunOption.Shoot:\n                    if((int)CPUOption == 1)\n                    {\n                        Console.WriteLine(\"You chose {0} and the computer chose Shoot. It was a tie!\", UserOption);\n                        ; userBullets --;CPUBullets --; ++gameCount;\n                    }\n                    else if ((int)CPUOption == 2)\n                    {\n                        Console.WriteLine(\"You chose {0} and the computer chose Reload. You win!\", UserOption);\n                        ++userScore; ++gameCount;\n                    }\n                    else if ((int)CPUOption == 3)\n                    {\n                        Console.WriteLine(\"You chose {0} and the computer chose Shield. No Damage!\", UserOption);\n                        ++gameCount;\n                    }\n                    break;\n                 case ShotgunOption.Reload:\n                    if((int)CPUOption == 1)\n                    {\n                        Console.WriteLine(\"You chose {0} and the computer chose Shoot. You lose!\", UserOption);\n                         ++userScore; ++gameCount;\n                    }\n                    else if ((int)CPUOption == 2)\n                    {\n                        Console.WriteLine(\"You chose {0} and the computer chose Reload. You Both Gain A bullet\", UserOption);\n                        userBullets++; CPUBullets++; ++gameCount;\n                    }\n                    else if ((int)CPUOption == 3)\n                    {\n                        Console.WriteLine(\"You chose {0} and the computer chose Shield. No Damage!\", UserOption);\n\n                    }\n                    break;\n                  case ShotgunOption.Shield:\n                    if((int)CPUOption == 1)\n                    {\n                        Console.WriteLine(\"You chose {0} and the computer chose Shoot. You lose!\", UserOption);\n                        ++gameCount;\n                    }\n                    else if ((int)CPUOption == 2)\n                    {\n                        Console.WriteLine(\"You chose {0} and the computer chose Reload. You win!\", UserOption);\n                        ++userScore; ++gameCount;\n                    }\n                    else if ((int)CPUOption == 3)\n                    {\n                        Console.WriteLine(\"You chose {0} and the computer chose Shield. No Damage!\", UserOption);\n                        ++gameCount;\n                    }\n                    break;                  \n\n            }\n          }\n            while (UserOption != ShotgunOption.Shield || CPUOption != ShotgunOption.Shield);\n        } while (QUIT == false || gameCount != 3 || UserOption != ShotgunOption.Shield || CPUOption != ShotgunOption.Shield);\n\n\n\n        if (gameCount &gt; 1)\n        {\n            DisplayResults(UserOption, CPUOption,  userScore, userBullets, CPUBullets);\n        }\n</code></pre>\n"}, {"tags": ["c#", "excel", "bigdata"], "comments": [{"owner": {"reputation": 5081, "user_id": 1010405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uJsDG.gif?s=128&g=1", "display_name": "NoChance", "link": "https://stackoverflow.com/users/1010405/nochance"}, "edited": false, "score": 0, "creation_date": 1435178422, "post_id": 31036525, "comment_id": 50097401, "body": "It is not clear where the error occurs in your code. What happens when you run debug? What was the DataTable size then?"}, {"owner": {"reputation": 329, "user_id": 2588613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DTMoQ.png?s=128&g=1", "display_name": "Yamur", "link": "https://stackoverflow.com/users/2588613/yamur"}, "reply_to_user": {"reputation": 5081, "user_id": 1010405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uJsDG.gif?s=128&g=1", "display_name": "NoChance", "link": "https://stackoverflow.com/users/1010405/nochance"}, "edited": false, "score": 0, "creation_date": 1435178765, "post_id": 31036525, "comment_id": 50097552, "body": "Thank you @EmmadKareem, do you mean load 61 Excel files with huge contents into database?, then use SQL for accessing and processing. Do you think this will be efficient?"}, {"owner": {"reputation": 5081, "user_id": 1010405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uJsDG.gif?s=128&g=1", "display_name": "NoChance", "link": "https://stackoverflow.com/users/1010405/nochance"}, "edited": false, "score": 0, "creation_date": 1435179098, "post_id": 31036525, "comment_id": 50097731, "body": "Yes. This is what the ETL/Data Mart technology is about. Loading data into a table that does not have indexes is extremely fast. You could load millions of rows in few seconds. Of course in-memory DataTable would be faster - I don&#39;t argue with this but the standard ETL practice is to load data to database from source and perform analysis on the database data. You could also run many of the load processes in parallel."}, {"owner": {"reputation": 5081, "user_id": 1010405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uJsDG.gif?s=128&g=1", "display_name": "NoChance", "link": "https://stackoverflow.com/users/1010405/nochance"}, "edited": false, "score": 0, "creation_date": 1435179204, "post_id": 31036525, "comment_id": 50097787, "body": "This link may help:<a href=\"https://social.msdn.microsoft.com/Forums/en-US/41e1b19a-b5ee-4cf2-ac1e-ff0c9a35b961/out-of-memory-exception-adonet-dataset?forum=adodotnetdataset\" rel=\"nofollow noreferrer\">social.msdn.microsoft.com/Forums/en-US/&hellip;</a>"}, {"owner": {"reputation": 329, "user_id": 2588613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DTMoQ.png?s=128&g=1", "display_name": "Yamur", "link": "https://stackoverflow.com/users/2588613/yamur"}, "reply_to_user": {"reputation": 5081, "user_id": 1010405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uJsDG.gif?s=128&g=1", "display_name": "NoChance", "link": "https://stackoverflow.com/users/1010405/nochance"}, "edited": false, "score": 0, "creation_date": 1435179491, "post_id": 31036525, "comment_id": 50097926, "body": "Thanks @EmmadKareem. I am wondering if you have some resources to start with. Also, I did <code>OutOfMemory</code> exception but it is still useless with my data."}, {"owner": {"reputation": 5081, "user_id": 1010405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uJsDG.gif?s=128&g=1", "display_name": "NoChance", "link": "https://stackoverflow.com/users/1010405/nochance"}, "edited": false, "score": 0, "creation_date": 1435180281, "post_id": 31036525, "comment_id": 50098353, "body": "I have used commercial software in the past to do this but today you can do a lot with Open Source ETL tools or even C#. Without opting for a complex solution or a learning curve, you can do this in C#. Divide your project to Load job, Validate Job (optional), Insert Job and finally Analyze job. Control the sequence using a master controller program that controls the sequence of jobs and takes care of the files if needed."}, {"owner": {"reputation": 3907, "user_id": 4961700, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f80e4233c80b9ba42b3b39cf704804dc?s=128&d=identicon&r=PG&f=1", "display_name": "Solar Mike", "link": "https://stackoverflow.com/users/4961700/solar-mike"}, "edited": false, "score": 0, "creation_date": 1435181572, "post_id": 31036525, "comment_id": 50098964, "body": "In the past I used a cvs format which allowed only a selection of rows to be selected as data - reducing the memory load, would this approach be possible with columns? A quick search gave the following link: <a href=\"http://opendata.stackexchange.com/questions/1256/how-can-i-work-with-a-4gb-csv-file\" title=\"how can i work with a 4gb csv file\">opendata.stackexchange.com/questions/1256/&hellip;</a>"}, {"owner": {"reputation": 329, "user_id": 2588613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DTMoQ.png?s=128&g=1", "display_name": "Yamur", "link": "https://stackoverflow.com/users/2588613/yamur"}, "reply_to_user": {"reputation": 5081, "user_id": 1010405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uJsDG.gif?s=128&g=1", "display_name": "NoChance", "link": "https://stackoverflow.com/users/1010405/nochance"}, "edited": false, "score": 0, "creation_date": 1435224024, "post_id": 31036525, "comment_id": 50114440, "body": "@EmmadKareem could you explain more in details?. You mentioned to the process using C#. What kind of process should I follow in each step (Divide your project to Load job, Validate Job (optional), Insert Job and finally Analyze job.)?"}, {"owner": {"reputation": 329, "user_id": 2588613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DTMoQ.png?s=128&g=1", "display_name": "Yamur", "link": "https://stackoverflow.com/users/2588613/yamur"}, "reply_to_user": {"reputation": 3907, "user_id": 4961700, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f80e4233c80b9ba42b3b39cf704804dc?s=128&d=identicon&r=PG&f=1", "display_name": "Solar Mike", "link": "https://stackoverflow.com/users/4961700/solar-mike"}, "edited": false, "score": 0, "creation_date": 1435224146, "post_id": 31036525, "comment_id": 50114522, "body": "Thanks @SolarMike, I used in the code above a way for selecting part of columns but memory problem always."}, {"owner": {"reputation": 5081, "user_id": 1010405, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uJsDG.gif?s=128&g=1", "display_name": "NoChance", "link": "https://stackoverflow.com/users/1010405/nochance"}, "edited": false, "score": 0, "creation_date": 1435243938, "post_id": 31036525, "comment_id": 50128710, "body": "I would like to elaborate but the discussion is rather long and the space here would not permit. I think the step names are self explanatory. For example the extract job may read the Excel files convert them to CSV if necessary, the load job may run a bulk loader utility of the database of your choice, and so on."}], "owner": {"reputation": 329, "user_id": 2588613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DTMoQ.png?s=128&g=1", "display_name": "Yamur", "link": "https://stackoverflow.com/users/2588613/yamur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435178128, "creation_date": 1435178128, "question_id": 31036525, "link": "https://stackoverflow.com/questions/31036525/analyzing-big-data-using-c-without-outofmemory-thrown", "title": "Analyzing Big Data using C# without OutOfMemory thrown", "body": "<p>I have <code>OutOfMemory</code> thrown always when I tried to analyze selective columns in my big data.</p>\n\n<p>My big data stored in individual Excel files. Each file has more than 22 columns and more than 222330 records.</p>\n\n<p>I need to read a selective columns then do statistical analysis. I read these selective columns into <code>Datatable</code> then <code>for loop</code> to study the contents.</p>\n\n<p>As the code below:</p>\n\n<pre><code>        OleDbDataAdapter adapter_sido_Class4 = new OleDbDataAdapter(\"Select [Kvalitetsklass (null)],[Sido kortv\u00e5g v\u00e4nster (null)], [Sido mellanv\u00e5g v\u00e4nster (null)], [Sido l\u00e5ngv\u00e5g v\u00e4nster (null)],\" + \"[Sido kortv\u00e5g h\u00f6ger (null)], [Sido mellanv\u00e5g h\u00f6ger (null)], [Sido l\u00e5ngv\u00e5g h\u00f6ger (null)]\" + \" from [Sheet1$]\" + \" where ([Kvalitetsklass (null)] = 4)\", connection);\n\n        DataTable dt_sido_Class4 = new DataTable();\n\n        adapter_sido_Class4.Fill(dt_sido_Class4);\n\n        for (int i = 0; i &lt; dt_sido_Class4.Rows.Count; i++)\n        {\n            if (dt_sido_Class4.Rows[i].Field&lt;double&gt;(1) == 0)\n            {\n                sido_count10v++;\n\n            }\n            else if (dt_sido_Class4.Rows[i].Field&lt;double&gt;(4) == 0)\n            {\n                sido_count10h++;\n\n            }\n            else if (dt_sido_Class4.Rows[i].Field&lt;double&gt;(1) == null)\n            {\n                sido_count11v++;\n\n            }\n        }\n</code></pre>\n\n<p>I used <code>Where</code> condition to work on bunch of data instead of hole data.</p>\n\n<p>In the same code, I tried to add more select of other columns and do other analysis, but I always got <code>OutOfMemory</code> exception. While, I used <code>Dispose()</code> and <code>Close()</code> to leave a space in memory for other calculations.</p>\n\n<p>What suggestions do you have to process this big data?</p>\n\n<p>Thank you,</p>\n"}, {"tags": ["c#", "python"], "answers": [{"comments": [{"owner": {"reputation": 339, "user_id": 1432917, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/250eb7d3c9032df3209017709b508e7e?s=128&d=identicon&r=PG", "display_name": "spainchaud", "link": "https://stackoverflow.com/users/1432917/spainchaud"}, "edited": false, "score": 1, "creation_date": 1435185740, "post_id": 31037202, "comment_id": 50100663, "body": "Looks good. In my fumbling with code I missed the cast to a PythonContext. I will test this when I get back to work tomorrow. ! wIll sleep good tonight!"}, {"owner": {"reputation": 339, "user_id": 1432917, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/250eb7d3c9032df3209017709b508e7e?s=128&d=identicon&r=PG", "display_name": "spainchaud", "link": "https://stackoverflow.com/users/1432917/spainchaud"}, "edited": false, "score": 1, "creation_date": 1435244907, "post_id": 31037202, "comment_id": 50129487, "body": "I just finished testing and this solution works. Thank you."}], "tags": [], "owner": {"reputation": 7463, "user_id": 4311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7Nij.jpg?s=128&g=1", "display_name": "Doug Porter", "link": "https://stackoverflow.com/users/4311/doug-porter"}, "is_accepted": true, "score": 0, "last_activity_date": 1435180579, "creation_date": 1435180579, "answer_id": 31037202, "question_id": 31036516, "link": "https://stackoverflow.com/questions/31036516/need-help-to-upgrade-ironpython-2-0-2-to-2-7-5-called-from-c/31037202#31037202", "title": "Need help to upgrade IronPython 2.0.2 to 2.7.5, called from C#", "body": "<p>Your <code>LanguageContext</code> is a <code>PythonContext</code> so it can be cast.  You can then use that along with a <code>PythonDictionary</code> to create a <code>ModuleContext</code>.  Then you can use that along with a <code>PythonDictionary</code> to create your <code>CodeContext</code>:</p>\n\n<pre><code>PythonContext cxt = (PythonContext)Microsoft.Scripting.Hosting.Providers.HostingHelpers.GetLanguageContext(_engine);\nPythonDictionary dict = new PythonDictionary();\nModuleContext modctx = new ModuleContext(dict, cxt);\nvar context = new CodeContext(dict, modctx);\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 1432917, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/250eb7d3c9032df3209017709b508e7e?s=128&d=identicon&r=PG", "display_name": "spainchaud", "link": "https://stackoverflow.com/users/1432917/spainchaud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 31037202, "answer_count": 1, "score": 1, "last_activity_date": 1435180579, "creation_date": 1435178113, "question_id": 31036516, "link": "https://stackoverflow.com/questions/31036516/need-help-to-upgrade-ironpython-2-0-2-to-2-7-5-called-from-c", "title": "Need help to upgrade IronPython 2.0.2 to 2.7.5, called from C#", "body": "<p>I need to upgrade code calling IronPython from C# and would like to upgrade to IronPython 2.7.5. The problem is that one of the APIs has changed, and I am not familiar enough with the original code to fix it. I have written a console program that exhibits the problem</p>\n\n<p>My Main:</p>\n\n<pre><code>class Program\n{\n    static void Main()\n    {\n        var pythonTest = new PythonTest();\n        pythonTest.LoadScript();\n        Console.WriteLine(\"Area = {0}\", pythonTest.Evaluate());\n    }\n}\n</code></pre>\n\n<p>My test class:</p>\n\n<pre><code>public class PythonTest\n{\n    private readonly ScriptEngine _engine;\n    private readonly ScriptScope _scope;\n    private ScriptSource _source;\n    private PythonFunction _currentFunction;\n    private readonly Dictionary&lt;string, PythonFunction&gt; _functions = new Dictionary&lt;string, PythonFunction&gt;();\n    private readonly double _scriptInput;\n\n    public PythonTest()\n    {\n        _scriptInput = 5;\n        _engine = Python.CreateEngine();\n        _scope = _engine.CreateScope();\n    }\n\n    public void LoadScript()\n    {\n        const string filename = @\"../../Scripts/testscript.py\";\n        _source = _engine.CreateScriptSourceFromFile(filename);\n        _source.Execute(_scope);\n\n        string firstFunction = \"\";\n        foreach (KeyValuePair&lt;string, object&gt; pair in _scope.GetItems())\n        {\n            var pairValue = pair.Value as PythonFunction;\n            if (pairValue != null)\n            {\n                _functions.Add(pair.Key, pairValue);\n\n                if (_functions.Count == 1)\n                {\n                    firstFunction = _functions.Keys.First();\n                }\n            }\n        }\n        _currentFunction = _functions[firstFunction];\n    }\n\n    public string Evaluate()\n    {\n        if (_currentFunction == null)\n            return null;\n\n        var parameters = new ArrayList {_scriptInput};\n\n        LanguageContext cxt = Microsoft.Scripting.Hosting.Providers.HostingHelpers.GetLanguageContext(_engine);\n        var context = new CodeContext(new Scope(), cxt);\n        object result = _currentFunction.__call__(context, parameters.ToArray());\n        return result.ToString();\n    }\n}\n</code></pre>\n\n<p>My test script:</p>\n\n<pre><code>from math import *\ndef AREA(h):\n  return (h * h)\n</code></pre>\n\n<p>This all works with the old Python DLLs. With the new DLLs the instantiation of the CodeContext (in the Evaluate method) is incorrect. The new API uses a PythonDictionary:</p>\n\n<pre><code>        public CodeContext(PythonDictionary dict, ModuleContext moduleContext);\n</code></pre>\n\n<p>I don't know how to modify the code to fix this problem. Any help would  be appreciated.</p>\n"}, {"tags": ["c#", "c++", "mono", "marshalling", "ubuntu-14.04"], "comments": [{"owner": {"reputation": 2579, "user_id": 1729349, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/QsdvA.jpg?s=128&g=1", "display_name": "inside", "link": "https://stackoverflow.com/users/1729349/inside"}, "reply_to_user": {"reputation": 41122, "user_id": 2101267, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/06383b51463f855d7cc0f07d4566bd42?s=128&d=identicon&r=PG", "display_name": "Dark Falcon", "link": "https://stackoverflow.com/users/2101267/dark-falcon"}, "edited": false, "score": 0, "creation_date": 1435178258, "post_id": 31036431, "comment_id": 50097306, "body": "#define APIFUNC extern &quot;C&quot; __declspec(dllexport)"}, {"owner": {"reputation": 41122, "user_id": 2101267, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/06383b51463f855d7cc0f07d4566bd42?s=128&d=identicon&r=PG", "display_name": "Dark Falcon", "link": "https://stackoverflow.com/users/2101267/dark-falcon"}, "edited": false, "score": 2, "creation_date": 1435178487, "post_id": 31036431, "comment_id": 50097435, "body": "I don&#39;t know a lot about marshalling, but I bet that the <code>sizeof(long)</code> is 8. It is on my 64-bit Ubuntu system under gcc. Use <code>int</code> or one of the sized types from <code>&lt;cstdint&gt;</code>. Or make two versions of the function in C# and call the proper one."}, {"owner": {"reputation": 2579, "user_id": 1729349, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/QsdvA.jpg?s=128&g=1", "display_name": "inside", "link": "https://stackoverflow.com/users/1729349/inside"}, "reply_to_user": {"reputation": 41122, "user_id": 2101267, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/06383b51463f855d7cc0f07d4566bd42?s=128&d=identicon&r=PG", "display_name": "Dark Falcon", "link": "https://stackoverflow.com/users/2101267/dark-falcon"}, "edited": false, "score": 0, "creation_date": 1435178669, "post_id": 31036431, "comment_id": 50097520, "body": "just found a workaround :)"}], "answers": [{"tags": [], "owner": {"reputation": 2579, "user_id": 1729349, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/QsdvA.jpg?s=128&g=1", "display_name": "inside", "link": "https://stackoverflow.com/users/1729349/inside"}, "is_accepted": false, "score": -1, "last_activity_date": 1435178905, "creation_date": 1435178905, "answer_id": 31036743, "question_id": 31036431, "link": "https://stackoverflow.com/questions/31036431/intptr-is-not-properly-marshaled-in-mono/31036743#31036743", "title": "IntPtr is not properly marshaled in mono", "body": "<p>I just found a workaround, I am forcing my IntPtrs to be marshaled as 4 bytes: </p>\n\n<pre><code>[DllImport(@\"libRT\", CharSet = CharSet.Ansi, CallingConvention = CallingConvention.Cdecl)]\nprivate static extern uint DoChallenge(\n    [MarshalAs(UnmanagedType.U4)] // this is a fix\n    IntPtr pEncryptedBlob,\n    uint dwEncryptedBlobLen,\n    [MarshalAs(UnmanagedType.U4)]\n    IntPtr pDecryptedBlob,\n    uint dwMaxLen,\n    ref uint dwDecryptedBlobLen);\n</code></pre>\n\n<p>Result: </p>\n\n<p>C# result: </p>\n\n<pre><code>139700723537696\n139700723538064\n</code></pre>\n\n<p>C++ result: </p>\n\n<pre><code>pEncryptedBlob: 139700723537696 \npDecryptedBlob: 139700723538064\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "is_accepted": true, "score": 2, "last_activity_date": 1435185908, "creation_date": 1435185908, "answer_id": 31038419, "question_id": 31036431, "link": "https://stackoverflow.com/questions/31036431/intptr-is-not-properly-marshaled-in-mono/31038419#31038419", "title": "IntPtr is not properly marshaled in mono", "body": "<p>To remove platform specific implementation so your C# &amp; c/cpp code will run xplat  you should just pass a C# \"System.String\" to \"const char *src\". Interop marshalling will handle the rest.</p>\n\n<p>C signature of: </p>\n\n<pre><code>void myfunc (const char *src, size_t n);\n</code></pre>\n\n<p>C# DllImport of: </p>\n\n<pre><code>private static extern void myCfunc (string src, uint n);\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var myString = \"Test\";\nmyCfunc(myString, myString.Length);\n</code></pre>\n\n<p>Interop with Native Libraries :\n<a href=\"http://www.mono-project.com/docs/advanced/pinvoke/\" rel=\"nofollow\">http://www.mono-project.com/docs/advanced/pinvoke/</a></p>\n"}], "owner": {"reputation": 2579, "user_id": 1729349, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/QsdvA.jpg?s=128&g=1", "display_name": "inside", "link": "https://stackoverflow.com/users/1729349/inside"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "accepted_answer_id": 31038419, "answer_count": 2, "score": 0, "last_activity_date": 1435185908, "creation_date": 1435177847, "question_id": 31036431, "link": "https://stackoverflow.com/questions/31036431/intptr-is-not-properly-marshaled-in-mono", "title": "IntPtr is not properly marshaled in mono", "body": "<p>I am trying to do a function P/Invoke using Mono on Ubuntu 14.04: </p>\n\n<pre><code>[DllImport(@\"libRT\", CharSet = CharSet.Ansi, CallingConvention = CallingConvention.Cdecl)]\n    private static extern uint DoChallenge(\n        IntPtr pEncryptedBlob,\n        uint dwEncryptedBlobLen,\n        IntPtr pDecryptedBlob,\n        uint dwMaxLen,\n        ref uint dwDecryptedBlobLen);\n</code></pre>\n\n<p>Before I invoke the function in C#, I print the encrypted and decrypted values: </p>\n\n<pre><code>Console.WriteLine(pEncryptedBlob.ToString()); // value is 140640247632608\nConsole.WriteLine(pDecryptedBlob.ToString()); // values is 140640247634240\n\n// Do the challenge\nthis.errorCode = DoRtasChallenge(pEncryptedBlob, pDecryptedBlob,\n                    (uint)this.decryptedBlobBuffer.Length,\n                    ref this.decryptedBlobReturnLength);\n</code></pre>\n\n<p>Now in C++ code I print the values that I receive:</p>\n\n<pre><code>APIFUNC uint32_t DoChallenge(unsigned char * pEncryptedBlob,long dwEncryptedBlobLen,unsigned char * pDecryptedBlob,long dwMaxLen,long * dwDecryptedBlobLen)\n{ \n    fprintf(stderr, \"pEncryptedBlob: %ld \\n\",pEncryptedBlob);\n    fprintf(stderr, \"pDecryptedBlob: %ld \\n\",pDecryptedBlob);\n\n    // the output: \n    // pEncryptedBlob: 1 \n    // pDecryptedBlob: 140640603072256 \n}\n</code></pre>\n\n<p>So  it looks like both of IntPtrs are getting modified during the marshaling. </p>\n\n<p>I assume that this happens specifically because of Mono/Ubuntu 14.04 64 bit environment, because it works on Windows and Ubuntu 14.04 32 bit.</p>\n\n<p>Any ideas for the workaround? Thanks very much</p>\n"}, {"tags": ["c#", "c++", "function", "dll", "global"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 1814831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2fb02845c413ce7a1400560ab609a6?s=128&d=identicon&r=PG", "display_name": "ezhang94", "link": "https://stackoverflow.com/users/1814831/ezhang94"}, "edited": false, "score": 0, "creation_date": 1435237110, "post_id": 31038395, "comment_id": 50123090, "body": "This explanation is very informative. I figured that something like this might be the case, but I did not know how to put it into words. Thanks"}, {"owner": {"reputation": 15, "user_id": 1814831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2fb02845c413ce7a1400560ab609a6?s=128&d=identicon&r=PG", "display_name": "ezhang94", "link": "https://stackoverflow.com/users/1814831/ezhang94"}, "edited": false, "score": 0, "creation_date": 1435607354, "post_id": 31038395, "comment_id": 50260986, "body": "Update: Additionally, I found this reference on MSDN that says: &quot;If you are progamming in Visaul Basic or C#, you must declare DLL functions within a class or Visual Basic module.&quot; <a href=\"https://msdn.microsoft.com/en-us/library/khbsw73t(v=vs.100).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/khbsw73t(v=vs.100).aspx</a>"}], "tags": [], "owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "is_accepted": true, "score": 1, "last_activity_date": 1435185765, "creation_date": 1435185765, "answer_id": 31038395, "question_id": 31036353, "link": "https://stackoverflow.com/questions/31036353/c-unable-to-access-methods-included-in-c-cli-dll/31038395#31038395", "title": "C# - Unable to Access Methods Included in C++/CLI .dll", "body": "<blockquote>\n  <p>If it is not possible, why can't C# not use \"class-less\" DLLs?</p>\n</blockquote>\n\n<p>Because the CLR does not support it, methods must always be a member of a class.  That's an impedance mismatch with C++'s support for free functions.  The C++/CLI compiler solves it by moving them into a class anyway.  It's name is <code>&lt;Module&gt;</code> and it is not accessible outside of the assembly.  Like an <em>internal</em> class in C#.  In effect making the functions inaccessible as well.</p>\n\n<p>Solving it is simple, add them to a ref class.  You can declare them <em>static</em>.</p>\n"}], "owner": {"reputation": 15, "user_id": 1814831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2fb02845c413ce7a1400560ab609a6?s=128&d=identicon&r=PG", "display_name": "ezhang94", "link": "https://stackoverflow.com/users/1814831/ezhang94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 31038395, "answer_count": 1, "score": 1, "last_activity_date": 1435185765, "creation_date": 1435177611, "question_id": 31036353, "link": "https://stackoverflow.com/questions/31036353/c-unable-to-access-methods-included-in-c-cli-dll", "title": "C# - Unable to Access Methods Included in C++/CLI .dll", "body": "<p>I have two C++/CLI DLLs that I am trying to use with C#. I am using VS10 and have made sure that the DLLs are appropriately included in the \"References\" folder.</p>\n\n<p>So, the first DLL works great. It contains classes, so the C# application can access the functions within the classes by 1) creating an instance of a class found in the DLL, then 2) calling the function \"normally.\" (e.g. <code>instanceOfClass.method1();</code>).</p>\n\n<p><strong>The second DLL does not work.</strong> In the second DLL, all functions are at a global scope. No namespace scopes or classes. I am running into issues here, because when I try to access one of these functions in the C# application, I get an error: <code>The name 'fxn' does not exist in the current context.</code> I have tried all of the following possible ways of addressing the function:</p>\n\n<pre><code>namespace myDLL {           // Tried with and without namespace declaration\n    class Program {\n        static void Main(string[] args) {\n            fxnInitialize();\n            myDLL.fxnInitialize();\n            myDLL-&gt;fxnInitialize();    \n        }\n    }\n}\n</code></pre>\n\n<p>All of the other questions I have found regarding this issue have been with C++ DLLs with classes. <em>My</em> issue is: <strong>Is it possible to reference methods in DLLs that <em>don't</em> belong to a class?</strong></p>\n\n<ul>\n<li><p>If it is possible, what am I doing wrong? I suspect I might be limiting the namespace (or some scope) in my C# application that is not allowing it see the contents of the DLL</p></li>\n<li><p>If it is not possible, why can't C# not use \"class-less\" DLLs? Is there a way to get around this, or another way to avoid using classes in the library (for easiest accessibility)?</p></li>\n</ul>\n"}, {"tags": ["c#", "multithreading", "system.reactive", "reactive-programming"], "comments": [{"owner": {"reputation": 16833, "user_id": 2521865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r86Ji.jpg?s=128&g=1", "display_name": "paulpdaniels", "link": "https://stackoverflow.com/users/2521865/paulpdaniels"}, "edited": false, "score": 0, "creation_date": 1435178464, "post_id": 31036348, "comment_id": 50097423, "body": "Have you tried anything?"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1435200902, "post_id": 31036348, "comment_id": 50104268, "body": "Can you please describe what role your worker class plays in your code?"}], "owner": {"reputation": 1, "user_id": 3590093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32fa8b84b4ffec3806e0ead8f7e5eb3f?s=128&d=identicon&r=PG&f=1", "display_name": "Sha . . .", "link": "https://stackoverflow.com/users/3590093/sha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "closed_date": 1435220798, "answer_count": 0, "score": 0, "last_activity_date": 1435177600, "creation_date": 1435177600, "question_id": 31036348, "link": "https://stackoverflow.com/questions/31036348/rx-block-observable-work", "closed_reason": "Duplicate", "title": "Rx Block observable work", "body": "<p>I built a Worker class using Rx:</p>\n\n<pre><code>class Worker&lt;TInput&gt;\n{\n\n    private Subject&lt;TInput&gt; subject;\n\n    public Worker(Action&lt;TInput&gt; processingAction)\n    {\n        subject = new Subject&lt;TInput&gt;();\n\n        subject.Subscribe(processiongAction);\n    }\n\n\n    public void PostData(TInput data)\n    {\n       subject.OnNext(data);\n    }\n}\n</code></pre>\n\n<p>There are 2 things I want to accomplish:</p>\n\n<ol>\n<li><p>Control the concurrency (max parallel threads) of the observable.</p></li>\n<li><p>block the posting thread if the are too much processingAction active</p></li>\n</ol>\n\n<p>How do I do it?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 3, "creation_date": 1435177625, "post_id": 31036297, "comment_id": 50096953, "body": "The whole point of an interface is to be able to call its methods (see also the Liskov Substitution Principle).  You can&#39;t do that."}], "answers": [{"tags": [], "owner": {"reputation": 40308, "user_id": 7122, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/31fdbe39c7657652fb5f34cdef2c78c9?s=128&d=identicon&r=PG", "display_name": "David Arno", "link": "https://stackoverflow.com/users/7122/david-arno"}, "is_accepted": true, "score": 2, "last_activity_date": 1435178267, "creation_date": 1435178267, "answer_id": 31036559, "question_id": 31036297, "link": "https://stackoverflow.com/questions/31036297/explicit-interface-derivation-private-method-accessible-as-public-one/31036559#31036559", "title": "Explicit interface derivation: private method accessible as public one", "body": "<p>With reference to <a href=\"https://msdn.microsoft.com/en-us/library/aa664591%28v=vs.71%29.aspx\" rel=\"nofollow\">The C# Language Specification, 13.4.1 Explicit interface member implementations</a></p>\n\n<blockquote>\n  <p>It is a compile-time error for an explicit interface member implementation to include access modifiers, and it is a compile-time error to include the modifiers abstract, virtual, override, or static.</p>\n</blockquote>\n\n<p>Such methods have to be accessed via a reference to the interface and they have the same access level as the interface itself (either <code>public</code> or <code>internal</code>).</p>\n"}], "owner": {"reputation": 1675, "user_id": 4247632, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/bee595d85ad99ff9537478f2fe29b022?s=128&d=identicon&r=PG&f=1", "display_name": "P.K.", "link": "https://stackoverflow.com/users/4247632/p-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 31036559, "answer_count": 1, "score": 0, "last_activity_date": 1435178267, "creation_date": 1435177467, "question_id": 31036297, "link": "https://stackoverflow.com/questions/31036297/explicit-interface-derivation-private-method-accessible-as-public-one", "title": "Explicit interface derivation: private method accessible as public one", "body": "<p>I have a problem with understanding some C# code:)</p>\n\n<p>I have a 2 interfaces IClassB and IClass, each of them with one method, no matter the name &amp; signature. Im doing class ClassC which implements them both: IClassB explicitly and IClassA implicitly. So I have code:</p>\n\n<pre><code> public class ClassC: IClassA, IClassB\n        {\n        void IClassB.methodForClassB()\n        {\n            Console.WriteLine(\"method for explicit implementation\");\n        }\n\n        public void methodForClassA()\n        { \n            Console.WriteLine(\"method for implicit implementation\");\n        }\n    }\n</code></pre>\n\n<p>As you see: method void IClassB.methodForClassB() is private (isn't it?).\nBut when I use this ClassC object, I can call method methodForClassB as it would be a public method. How to explain it?</p>\n\n<pre><code>ClassC classC = new ClassC();\n\nIClassB classB = new ClassC();\nclassB.methodForClassB();*\n\n((IClassB)classC).methodForClassB();\n</code></pre>\n"}, {"tags": ["c#", "windows", "winforms"], "comments": [{"owner": {"reputation": 15257, "user_id": 648078, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9698c2f1c188de4ebf3c4496d9f07eb0?s=128&d=identicon&r=PG", "display_name": "Marius Bancila", "link": "https://stackoverflow.com/users/648078/marius-bancila"}, "edited": false, "score": 0, "creation_date": 1435180440, "post_id": 31036223, "comment_id": 50098433, "body": "That is the Windows XP common dialog box style. If you want to use the new Visma/7/etc. style then you have to use the new common item dialog <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb776913(v=vs.85).aspx#customizing\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>. Also see this article <a href=\"http://www.codeproject.com/Articles/16678/Vista-Goodies-in-C-Using-the-New-Vista-File-Dialog\" rel=\"nofollow noreferrer\">codeproject.com/Articles/16678/&hellip;</a>."}, {"owner": {"reputation": 271, "user_id": 1821499, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/e132ca25117d852fba8dc4803afff26a?s=128&d=identicon&r=PG", "display_name": "user1821499", "link": "https://stackoverflow.com/users/1821499/user1821499"}, "reply_to_user": {"reputation": 15257, "user_id": 648078, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9698c2f1c188de4ebf3c4496d9f07eb0?s=128&d=identicon&r=PG", "display_name": "Marius Bancila", "link": "https://stackoverflow.com/users/648078/marius-bancila"}, "edited": false, "score": 0, "creation_date": 1435183949, "post_id": 31036223, "comment_id": 50099995, "body": "Yes this looks like it. It is changed post vista. But the link you provided have C++ / VC++ code and I am looking for C#.net is there any other link? Thanks!"}, {"owner": {"reputation": 271, "user_id": 1821499, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/e132ca25117d852fba8dc4803afff26a?s=128&d=identicon&r=PG", "display_name": "user1821499", "link": "https://stackoverflow.com/users/1821499/user1821499"}, "reply_to_user": {"reputation": 15257, "user_id": 648078, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9698c2f1c188de4ebf3c4496d9f07eb0?s=128&d=identicon&r=PG", "display_name": "Marius Bancila", "link": "https://stackoverflow.com/users/648078/marius-bancila"}, "edited": false, "score": 0, "creation_date": 1435269179, "post_id": 31036223, "comment_id": 50143364, "body": "Can someone please help? I tried to get to IFileDialogCustomize example C# but I am not able to use any of those. A sample or example would be really helpful!"}], "answers": [{"comments": [{"owner": {"reputation": 271, "user_id": 1821499, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/e132ca25117d852fba8dc4803afff26a?s=128&d=identicon&r=PG", "display_name": "user1821499", "link": "https://stackoverflow.com/users/1821499/user1821499"}, "edited": false, "score": 0, "creation_date": 1435607391, "post_id": 31095201, "comment_id": 50261009, "body": "This works but the user control can&#39;t be bigger than what you have shown here in the picture. There is very little space between &quot;Save as type&quot; and &quot;Browse / hide folders&quot; link. My user control may be bigger and I need extra space in between. Is this possible?"}, {"owner": {"reputation": 553, "user_id": 4992762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cacf48c4c034eab5520f2cb93db72edd?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/4992762/josh"}, "reply_to_user": {"reputation": 271, "user_id": 1821499, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/e132ca25117d852fba8dc4803afff26a?s=128&d=identicon&r=PG", "display_name": "user1821499", "link": "https://stackoverflow.com/users/1821499/user1821499"}, "edited": false, "score": 0, "creation_date": 1435608905, "post_id": 31095201, "comment_id": 50261958, "body": "Yes, you are right. The presented solution works only for minor additions to the common dialog within the space present. You may consult <a href=\"http://www.codeproject.com/Articles/16276/Customizing-OpenFileDialog-in-NET\" rel=\"nofollow noreferrer\">codeproject.com/Articles/16276/&hellip;</a>, being the base of the solution cited by yourself in your initiating post, and being a lot more complex than the one presented here. In a nutshell, IMO it is ridiculous by MS to have us to tinker with all kinds of pinvoke to customize such a dialog."}, {"owner": {"reputation": 271, "user_id": 1821499, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/e132ca25117d852fba8dc4803afff26a?s=128&d=identicon&r=PG", "display_name": "user1821499", "link": "https://stackoverflow.com/users/1821499/user1821499"}, "edited": false, "score": 0, "creation_date": 1435610659, "post_id": 31095201, "comment_id": 50262945, "body": "Well said.. Thanks Josh. I will see what is the best solution for my needs."}, {"owner": {"reputation": 271, "user_id": 1821499, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/e132ca25117d852fba8dc4803afff26a?s=128&d=identicon&r=PG", "display_name": "user1821499", "link": "https://stackoverflow.com/users/1821499/user1821499"}, "edited": false, "score": 0, "creation_date": 1436417814, "post_id": 31095201, "comment_id": 50605686, "body": "Is there any way to handle the resize event for this window? When we resize the save dialog, it goes over my user control.. I want the user control to stay at one place ( may be with a scroll ). I tried normal dock / anchor properties but it does not work."}, {"owner": {"reputation": 5389, "user_id": 5437621, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/FTt9D.png?s=128&g=1", "display_name": "mrid", "link": "https://stackoverflow.com/users/5437621/mrid"}, "edited": false, "score": 0, "creation_date": 1548296243, "post_id": 31095201, "comment_id": 95493709, "body": "Is there a way I can change the dialog background color? And that of the favourite..desktop.. list as well?"}], "tags": [], "owner": {"reputation": 553, "user_id": 4992762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cacf48c4c034eab5520f2cb93db72edd?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/4992762/josh"}, "is_accepted": true, "score": 6, "last_activity_date": 1435453969, "last_edit_date": 1495542162, "creation_date": 1435453969, "answer_id": 31095201, "question_id": 31036223, "link": "https://stackoverflow.com/questions/31036223/customize-save-file-dialog-to-be-similar-to-underlying-os-save-dialog-c/31095201#31095201", "title": "Customize Save file dialog to be similar to underlying OS save dialog C#", "body": "<p>The suggested solution works as described:</p>\n\n<p>The Save As file dialog (used in this example) is associated to a User Control, called CustomSaveFileDialog. It has the advantage that it is present in the Toolbox, and that it implements automatically the IDisposable interface. However, it could have also been a simple C# class.</p>\n\n<p>This control has a constructor accepting an arbitrary application specific User Control hosting all the elements which are to show up in the File Dialog. When I got the question right, that is what is required.</p>\n\n<p>The CustomSaveFileDialog has the following properties:</p>\n\n<ul>\n<li>Accepting arbitrary User Controls Docked to the bottom of the File\nDialog, i.e. they follow the resizing of the File Dialog</li>\n<li>No special behaviour for the additional elements (buttons, images,\ncheckboxes etc) is necessary. They act quite normally, as in other\nwindows.</li>\n</ul>\n\n<p>This is the code of the described class:</p>\n\n<pre><code>using System;\nusing System.Windows.Forms;\nusing System.Runtime.InteropServices;\nusing System.Diagnostics;\n\nnamespace customSaveFileDialog\n{\n    public partial class CustomSaveFileDialog : UserControl\n    {\n        //https://stackoverflow.com/questions/9665579/setting-up-hook-on-windows-messages\n        delegate void WinEventDelegate(IntPtr hWinEventHook, uint eventType,\n            IntPtr hwnd, int idObject, int idChild, uint dwEventThread, uint dwmsEventTime);\n\n        const uint WINEVENT_OUTOFCONTEXT = 0;\n\n        [DllImport(\"user32.dll\")]\n        private static extern IntPtr SetWinEventHook(uint eventMin, uint eventMax, IntPtr\n           hmodWinEventProc, WinEventDelegate lpfnWinEventProc, uint idProcess,\n           uint idThread, uint dwFlags);\n\n        [DllImport(\"user32.dll\")]\n        private static extern bool UnhookWinEvent(IntPtr hWinEventHook);\n\n        [DllImport(\"user32.dll\")]\n        private static extern bool MoveWindow(IntPtr hWnd, int x, int y, int w, int h, bool repaint);\n        private struct RECT { public int Left; public int Top; public int Right; public int Bottom; }\n\n        [DllImport(\"user32.dll\")]\n        private static extern bool GetClientRect(IntPtr hWnd, out RECT rc);\n\n        [DllImport(\"kernel32.dll\")]\n        private static extern uint GetLastError();\n\n        [DllImport(\"user32.dll\", SetLastError = true)]\n        private static extern IntPtr FindWindowEx(IntPtr hwndParent, IntPtr hwndChildAfter, string lpszClass, string lpszWindow);\n\n        [DllImport(\"user32.dll\", SetLastError = true)]\n        private static extern IntPtr SetParent(IntPtr hwndChild, IntPtr hwndNewParent);\n\n        [DllImport(\"user32.dll\", SetLastError = true)]\n        private static extern IntPtr GetParent(IntPtr hWnd);\n\n        private IntPtr hDlg;        // Save As dialog handle\n        private IntPtr hHook;       // Event hook\n        private IntPtr hCtrl;       // App. specific user control handle\n\n        UserControl ctrl;           // App. specific user control\n\n        //Static variable containing the instance object\n        private static CustomSaveFileDialog customSaveFileDialog;\n\n        //public property for the user\n        //theSaveFileDialog has been added to the control in the designer from the Toolbox\n        public SaveFileDialog Dlg { get { return theSaveFileDialog; } }\n\n        //Event hook delegate\n        private static WinEventDelegate procDelegate = new WinEventDelegate(WinEventProc);\n\n        /// &lt;summary&gt;\n        /// Constructor\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"ctrl\"&gt;The User Control to be displayed in the file dialog&lt;/param&gt;\n        public CustomSaveFileDialog(UserControl ctrl)\n        {\n            InitializeComponent();\n\n            customSaveFileDialog = this;\n            this.ctrl = ctrl;\n            hCtrl = ctrl.Handle;\n\n            //Setup Hook; for simplicity, hook all possible events from the current process\n            hHook = SetWinEventHook(1, 0x7fffffff, IntPtr.Zero,\n                    procDelegate, (uint)Process.GetCurrentProcess().Id, 0, WINEVENT_OUTOFCONTEXT);\n        }\n\n\n        // Hook function\n        static void WinEventProc(IntPtr hWinEventHook, uint eventType,\n            IntPtr hwnd, int idObject, int idChild, uint dwEventThread, uint dwmsEventTime)\n        {\n            CustomSaveFileDialog csfdg = customSaveFileDialog;\n            if (csfdg.hDlg == IntPtr.Zero)\n                csfdg.hDlg = FindWindowEx(IntPtr.Zero, IntPtr.Zero, \"#32770\", \"Save As\");\n\n            if (hwnd == csfdg.hDlg) \n            {\n                IntPtr hParent = GetParent(csfdg.hCtrl);\n\n                //this is done only once\n                if (!(hParent == csfdg.hDlg))\n                    SetParent(csfdg.hCtrl, csfdg.hDlg);   //Bind the user control to the Common Dialog\n\n                RECT cliRect;\n                GetClientRect(csfdg.hDlg, out cliRect);\n\n                //Position the button in the file dialog\n                MoveWindow(csfdg.hCtrl, cliRect.Left + 130, cliRect.Bottom - 55, 500, 60, true);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The essential part is the hooking of the windows events. This has been taken from <a href=\"https://stackoverflow.com/questions/9665579/setting-up-hook-on-windows-messages\">that post</a>.</p>\n\n<p>It may be noted that the \"FindWindowEx\" function (in the WinEventProc) finds all Common Dialogs (and probably more) with a title of \"Save As\". If this should be a problem, more filtering would be necessary, e.g by searching in the current thread only. Such a search function may be found <a href=\"https://stackoverflow.com/questions/2576156/winforms-how-can-i-make-messagebox-appear-centered-on-mainform/2576220#2576220\">here</a>.</p>\n\n<p>Additionally (not shown in the above code) the \"Dispose\" method in CustormSaveFileDialog.desinger.cs contains the Unhook function with the hHook handle as the parameter.</p>\n\n<p>The software has been tested in Windows7 in Debug mode. As a test, a simple Forms window with a button has been implemented:</p>\n\n<pre><code>        //Test for the customized \"Save As\" dialog\n        private void button1_Click(object sender, EventArgs e)\n        {\n            //Arbitrary User Control\n            myUserControl ctrl = new myUserControl();\n\n            using (CustomSaveFileDialog csfdg = new CustomSaveFileDialog(ctrl))\n            {\n                csfdg.Dlg.FileName = \"test\";\n\n                //Show the Save As dialog associated to the CustomFileDialog control\n                DialogResult res = csfdg.Dlg.ShowDialog();\n                if (res == System.Windows.Forms.DialogResult.OK)\n                    MessageBox.Show(\"Save Dialog Finished\");\n            }\n        }\n</code></pre>\n\n<p>And - as well as a test - the applicatioin specific user control handles the following events:</p>\n\n<pre><code>using System;\nusing System.Windows.Forms;\n\nnamespace CustomFile\n{\n    public partial class myUserControl : UserControl\n    {\n        public myUserControl()\n        {\n            InitializeComponent();\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            MessageBox.Show(\"Button Clicked\");\n        }\n\n        private void pictureBox1_Click(object sender, EventArgs e)\n        {\n            MessageBox.Show(\"Image Clicked\");\n\n        }\n\n        private void checkBox1_CheckedChanged(object sender, EventArgs e)\n        {\n            if (!checkBox1.Checked)\n                pictureBox1.Visible = false;\n            else\n                pictureBox1.Visible = true;\n        }\n    }\n}\n</code></pre>\n\n<p>The following output is produced:</p>\n\n<p><img src=\"https://i.stack.imgur.com/CkUJ6.jpg\" alt=\"enter image description here\"></p>\n\n<p>The next picture shows another screenshot, File Dialog resized, and the checkbox to display the image is unchecked.</p>\n\n<p><img src=\"https://i.stack.imgur.com/fj93u.jpg\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 271, "user_id": 1821499, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/e132ca25117d852fba8dc4803afff26a?s=128&d=identicon&r=PG", "display_name": "user1821499", "link": "https://stackoverflow.com/users/1821499/user1821499"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3020, "favorite_count": 3, "accepted_answer_id": 31095201, "answer_count": 1, "score": 9, "last_activity_date": 1435453969, "creation_date": 1435177247, "last_edit_date": 1435351949, "question_id": 31036223, "link": "https://stackoverflow.com/questions/31036223/customize-save-file-dialog-to-be-similar-to-underlying-os-save-dialog-c", "title": "Customize Save file dialog to be similar to underlying OS save dialog C#", "body": "<p>I have been using this example to customize the save dialog,</p>\n\n<p><a href=\"http://www.codeproject.com/Articles/19566/Extend-OpenFileDialog-and-SaveFileDialog-the-easy\" rel=\"noreferrer\">http://www.codeproject.com/Articles/19566/Extend-OpenFileDialog-and-SaveFileDialog-the-easy</a></p>\n\n<p>This works well and I could customize the dialog too. However, I see that the customized dialog does not follow the underlying windows style. For example, If I am in Windows 7 the dialog would look like this,</p>\n\n<p><img src=\"https://i.stack.imgur.com/KsSI5.png\" alt=\"enter image description here\"></p>\n\n<p>This is a save dialog from word and it does have few options like tags and stuff. But the look and feel is same as OS save dialog. \nHowever, the custom save dialog with the above mentioned link would look like this,</p>\n\n<p><img src=\"https://i.stack.imgur.com/Xjmgw.png\" alt=\"enter image description here\"></p>\n\n<p>Why would it not follow what OS offers? Is there any way to handle this?</p>\n\n<hr>\n\n<p>Ok, I researched a bit and got to the point where I can use CommonSaveFileDialog from Microsoft.WindowsAPICodePack.Dialogs and create the underlying Save dialog ( which does match with Windows 7 style. ). I installed the WindowsAPI shell package and used the CommonSaveFileDialog control to create something like this,</p>\n\n<p><img src=\"https://i.stack.imgur.com/CSeEm.png\" alt=\"enter image description here\"></p>\n\n<p>The controls marked in red are actually CommonFileDialogLabel / CommonFileDialogTextBox / CommonFileDialogComboBox etc which are provided in those API. But now my question is how do I add a user control / custom control to this? I need full control over what I add so it could be a user control. Any idea.. Please help Thanks.</p>\n"}, {"tags": ["c#", ".net", "logging", "serilog"], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 4774985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UpNbW.jpg?s=128&g=1", "display_name": "Mark West", "link": "https://stackoverflow.com/users/4774985/mark-west"}, "is_accepted": false, "score": 0, "last_activity_date": 1447803206, "creation_date": 1447803206, "answer_id": 33769114, "question_id": 31036112, "link": "https://stackoverflow.com/questions/31036112/how-can-i-create-an-optional-property-in-a-serilog-output-template/33769114#33769114", "title": "How can I create an optional property in a Serilog output template?", "body": "<p>I am using Serilog in my application, and like you notice that \"missing\" fields will \"disappear\" as you observe, but the character formatting around these placeholders do not.  </p>\n\n<p>I recommend changing the format of the message template so that the fields that are optional either appear on subsequent lines (which can be ignored) or are formatted such that you don't notice their absence.  </p>\n\n<p>You could also write a wrapper around the Serilog logging methods (logger.Debug, logger.Warning, logger.Information, etc) that is called by your application, and which has logic (or overloaded methods) to know which values are present and which are absent.  The wrapper code would provide an appropriate message template with the right combination to avoid extra characters in the message.  </p>\n"}], "owner": {"reputation": 1015, "user_id": 53001, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a2095321d6af2ea8632eac62929f6db4?s=128&d=identicon&r=PG", "display_name": "Ken Sykora", "link": "https://stackoverflow.com/users/53001/ken-sykora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1037, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1447803206, "creation_date": 1435176894, "question_id": 31036112, "link": "https://stackoverflow.com/questions/31036112/how-can-i-create-an-optional-property-in-a-serilog-output-template", "title": "How can I create an optional property in a Serilog output template?", "body": "<p>I'm trying to create an global output template for serilog messages that follows the following format:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>{Timestamp:yyyy-MM-dd HH:mm:ss,fff} [{ComponentName}, {ApplicationName}, {ThreadId}] {Level} ({ErrorId}): {Message} {Exception}\n</code></pre>\n\n<p>The trouble I'm running into is that, some messages will not contain error IDs, or exceptions, or ThreadIds. So, when this case occurs, I get a message that has a bunch of characters that add noise to the log message, e.g.,</p>\n\n<p><code>2015-06-24 15:11:03,234 [Component, MyApp, ] Info (): This is a message that I'm writing</code></p>\n\n<p>Is it possible to have Serilog support optional parameters in the message template?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "collections", "model"], "comments": [{"owner": {"reputation": 2402, "user_id": 3647221, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JvPA6.png?s=128&g=1", "display_name": "PMerlet", "link": "https://stackoverflow.com/users/3647221/pmerlet"}, "edited": false, "score": 0, "creation_date": 1435176761, "post_id": 31036051, "comment_id": 50096484, "body": "Is the list of colors already known and fixed or is it a dynamic list ?"}, {"owner": {"reputation": 43527, "user_id": 98094, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VkdLW.jpg?s=128&g=1", "display_name": "Icemanind", "link": "https://stackoverflow.com/users/98094/icemanind"}, "edited": false, "score": 0, "creation_date": 1435176865, "post_id": 31036051, "comment_id": 50096524, "body": "Can users select multiple colors or just one color per user?"}, {"owner": {"reputation": 1221, "user_id": 2636044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/YauuW.png?s=128&g=1", "display_name": "Onilol", "link": "https://stackoverflow.com/users/2636044/onilol"}, "reply_to_user": {"reputation": 2402, "user_id": 3647221, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JvPA6.png?s=128&g=1", "display_name": "PMerlet", "link": "https://stackoverflow.com/users/3647221/pmerlet"}, "edited": false, "score": 0, "creation_date": 1435177592, "post_id": 31036051, "comment_id": 50096932, "body": "@Cubi already known and fixed"}, {"owner": {"reputation": 1221, "user_id": 2636044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/YauuW.png?s=128&g=1", "display_name": "Onilol", "link": "https://stackoverflow.com/users/2636044/onilol"}, "reply_to_user": {"reputation": 43527, "user_id": 98094, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VkdLW.jpg?s=128&g=1", "display_name": "Icemanind", "link": "https://stackoverflow.com/users/98094/icemanind"}, "edited": false, "score": 0, "creation_date": 1435177602, "post_id": 31036051, "comment_id": 50096939, "body": "@Icemanind Just 1 color"}], "answers": [{"comments": [{"owner": {"reputation": 1221, "user_id": 2636044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/YauuW.png?s=128&g=1", "display_name": "Onilol", "link": "https://stackoverflow.com/users/2636044/onilol"}, "edited": false, "score": 0, "creation_date": 1435177755, "post_id": 31036261, "comment_id": 50097018, "body": "I&#39;ll try it in a bit.. it&#39;s a bit confusing for me since I&#39;m pretty much new at this, you mean to initialize the variables within the Controller as :     <code>new ColourSelectList()</code> ??"}, {"owner": {"reputation": 43527, "user_id": 98094, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VkdLW.jpg?s=128&g=1", "display_name": "Icemanind", "link": "https://stackoverflow.com/users/98094/icemanind"}, "edited": false, "score": 0, "creation_date": 1435178267, "post_id": 31036261, "comment_id": 50097312, "body": "I would use <code>@Html.EnumDropDownListFor</code> instead though."}, {"owner": {"reputation": 1221, "user_id": 2636044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/YauuW.png?s=128&g=1", "display_name": "Onilol", "link": "https://stackoverflow.com/users/2636044/onilol"}, "edited": false, "score": 0, "creation_date": 1435180022, "post_id": 31036261, "comment_id": 50098211, "body": "color enum would be inside the user class ?"}, {"owner": {"reputation": 1567, "user_id": 1946548, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/0hvVa.jpg?s=128&g=1", "display_name": "Rhys", "link": "https://stackoverflow.com/users/1946548/rhys"}, "reply_to_user": {"reputation": 1221, "user_id": 2636044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/YauuW.png?s=128&g=1", "display_name": "Onilol", "link": "https://stackoverflow.com/users/2636044/onilol"}, "edited": false, "score": 0, "creation_date": 1435180161, "post_id": 31036261, "comment_id": 50098281, "body": "@Giulio Corkone Fullnior - as we&#39;re also accessing it within <code>UserColorAddEditViewModel</code> class, it needs to be outside of the <code>User</code> class. You can save the <code>User.cs</code> file with the enum outside of the User class, the compiler won&#39;t complain :)."}], "tags": [], "owner": {"reputation": 1567, "user_id": 1946548, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/0hvVa.jpg?s=128&g=1", "display_name": "Rhys", "link": "https://stackoverflow.com/users/1946548/rhys"}, "is_accepted": true, "score": 2, "last_activity_date": 1435179285, "last_edit_date": 1435179285, "creation_date": 1435177378, "answer_id": 31036261, "question_id": 31036051, "link": "https://stackoverflow.com/questions/31036051/how-can-i-set-multiple-options-on-a-model-attribute/31036261#31036261", "title": "How can I set multiple options on a model attribute", "body": "<p>You're nearly there. The <code>Color</code> class isn't necessary if you're only wanting to provide a <code>Color</code> enum. Taking that into account, try this: </p>\n\n<pre><code>public enum Color\n{\n    Red,\n    Green,\n    Blue\n}\n\npublic class User\n{\n    public String Name { get; set; }\n\n    public Color Color { get; set; }\n}\n\npublic class UserColorAddEditViewModel\n{\n    public String Name { get; set; }\n\n    public Color Color { get; set; }\n\n    public IList&lt;SelectListItem&gt; ColorSelectList { get; set; }\n}\n</code></pre>\n\n<p>Then in the View, you can use the <code>UserColorAddEditViewModel</code> model and use the following <code>HtmlHelper</code>:</p>\n\n<p><code>@Html.DropDownListFor(model =&gt; model.Color, Model.ColorSelectList)</code></p>\n\n<p>or as <code>Icemanind</code> mentioned, you can simply use:</p>\n\n<p><code>@Html.EnumDropDownListFor(model =&gt; model.Color)</code> and you scrap the <code>ColorSelectList</code> variable (that means you can ignore the part below too).</p>\n\n<p>If you decide to use the <code>DropDownListFor</code> helper, you'll need to initiate this variable within the defined <code>Controller</code> class, as shown below.</p>\n\n<pre><code>public class MyController : Controller\n{\n     public ActionResult Index()\n     {\n          UserColorAddEditViewModel Model = new UserColorAddEditViewModel();\n\n          Model.ColourSelectList = Enum.\n                GetValues(typeof(Color)).\n                Cast&lt;Color&gt;().\n                Select(c =&gt; new SelectListItem { Text = c.ToString(), Value = ((int)c).ToString()})\n                .ToList();\n\n        return View(Model);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23878, "user_id": 225799, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1614284ac92e0d49c3afac54cd04d0bc?s=128&d=identicon&r=PG", "display_name": "Brendan Vogt", "link": "https://stackoverflow.com/users/225799/brendan-vogt"}, "is_accepted": false, "score": 1, "last_activity_date": 1435226714, "creation_date": 1435226714, "answer_id": 31047227, "question_id": 31036051, "link": "https://stackoverflow.com/questions/31036051/how-can-i-set-multiple-options-on-a-model-attribute/31047227#31047227", "title": "How can I set multiple options on a model attribute", "body": "<p>Your basic user class will look like this. I broke down your name property to first name and last name.</p>\n\n<pre><code>public class User\n{\n     public string FirstName { get; set; }\n\n     public string LastName { get; set; }\n}\n</code></pre>\n\n<p>I changed your colour class a bit in case (one day) you want to be able to go the database route instead of having a fixed set of colours. Name your class in singular form, not plural, for example Colour instead of Colours.</p>\n\n<pre><code>public class Colour\n{\n     public int Id { get; set; }\n\n     public string Name { get; set; }\n}\n</code></pre>\n\n<p>A user view model will be passed to the view. This view model will contain user information and a list of the colours that will be used in the dropdown.</p>\n\n<pre><code>public class UserViewModel\n{\n     public string Name { get; set; }\n\n     public int ColourId { get; set; }\n\n     public List&lt;Colour&gt; Colours { get; set; }\n}\n</code></pre>\n\n<p>In your controller's action method you create an instance of the view model above and populate it with user data and a list of all the colours.</p>\n\n<pre><code>public ActionResult Edit(int userId)\n{\n     // Get your user's information\n     User user = userRepository.GetById(userId);\n\n     UserViewModel model = new UserViewModel();\n     model.Name = user.FirstName + \" \" + user.LastName;\n     // This can be separated into a repository class of its own if you need to use colours in another action method\n     model.Colours = new List&lt;Colour&gt;\n     {\n         new Colour { Id = 1, Name = \"Blue\" },\n         new Colour { Id = 2, Name = \"Green\" },\n         new Colour { Id = 3, Name = \"Red\" },\n         new Colour { Id = 4, Name = \"Yellow\" }\n     };\n\n     return View(model);\n}\n</code></pre>\n\n<p>And then in your view you will have something like:</p>\n\n<pre><code>&lt;h1&gt;@Model.Name&lt;/h1&gt;\n&lt;p&gt;Please select a colour:&lt;/p&gt;\n@Html.DropDownListFor(\n     x =&gt; x.ColourId,\n     new SelectList(Model.Colours, \"Id\", \"Name\", Model.ColourId),\n     \"-- Select --\"\n)\n</code></pre>\n\n<p>Play around with the code to see how it works out for you.</p>\n"}], "owner": {"reputation": 1221, "user_id": 2636044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/YauuW.png?s=128&g=1", "display_name": "Onilol", "link": "https://stackoverflow.com/users/2636044/onilol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 31036261, "answer_count": 2, "score": 0, "last_activity_date": 1435226714, "creation_date": 1435176634, "last_edit_date": 1435182172, "question_id": 31036051, "link": "https://stackoverflow.com/questions/31036051/how-can-i-set-multiple-options-on-a-model-attribute", "title": "How can I set multiple options on a model attribute", "body": "<p>I'm trying to elaborate a model ( User for instance ) which can select a color from multiple options ( list )</p>\n\n<p>How could I write it in the model and expose it in the view ?\nI'd need to write a separate model only for the colors or is this approach going the right way :</p>\n\n<pre><code>//user.cs\npublic class User\n{\n    public string Name { get; set; }\n\n    public Colors Colors { get; set; }\n}\n\n//colors.cs\npublic class Colors\n{\n    public User User { get; set; }\n    public enum Colors ???\n}\n</code></pre>\n"}, {"tags": ["c#", "facebook", "unity3d", "facebook-opengraph"], "comments": [{"owner": {"reputation": 448, "user_id": 472306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54aa5e05520417a7c108bfabdf8916a5?s=128&d=identicon&r=PG&f=1", "display_name": "subeeshb", "link": "https://stackoverflow.com/users/472306/subeeshb"}, "edited": false, "score": 0, "creation_date": 1435636132, "post_id": 31036048, "comment_id": 50270153, "body": "Are you sharing a story with a custom action and object type? If so, you need to specify the actionName parameter when calling FB.Feed. The link you posted was for iOS, but you can find information and code snippets specific to Unity here: <a href=\"https://developers.facebook.com/docs/unity/reference/current/FB.Feed\" rel=\"nofollow noreferrer\">developers.facebook.com/docs/unity/reference/current/FB.Feed</a>"}], "owner": {"reputation": 11, "user_id": 3267226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29d7030d321c90c70f0bb6e2f54269bd?s=128&d=identicon&r=PG&f=1", "display_name": "user3267226", "link": "https://stackoverflow.com/users/3267226/user3267226"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 369, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435176611, "creation_date": 1435176611, "question_id": 31036048, "link": "https://stackoverflow.com/questions/31036048/sharing-opengraph-story-using-fb-feed", "title": "Sharing opengraph story using FB.Feed", "body": "<p>I am trying to figure out how to publish opengraph stories using FB.Feed in Unity3d. We are using the Unity Facebook SDK version 6.2.2. </p>\n\n<p>According to the Facebook docs it is possible to utilize the share dialog to post custom opengraph stories. </p>\n\n<p><a href=\"https://developers.facebook.com/docs/sharing/opengraph/ios#sharedialog\" rel=\"nofollow\">https://developers.facebook.com/docs/sharing/opengraph/ios#sharedialog</a></p>\n\n<p>I know it is possible to post stories with FB.API, but that requires extended permissions from the user, which is not something we want to ask for.</p>\n\n<p>Does anyone have a C# code snippet showing how to use the FB.Feed function to post opengraph stories (including metadata and an image)?</p>\n\n<p>Thanks for your kind help.</p>\n"}, {"tags": ["c#", "wpf", "listview"], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 4573445, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10205930027720407/picture?type=large", "display_name": "OKUZA", "link": "https://stackoverflow.com/users/4573445/okuza"}, "edited": false, "score": 1, "creation_date": 1435249908, "post_id": 31037031, "comment_id": 50133068, "body": "Thanks so much! Got it working exactly as I want it."}], "tags": [], "owner": {"reputation": 2920, "user_id": 2047469, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/nIvq0.jpg?s=128&g=1", "display_name": "Olaru Mircea", "link": "https://stackoverflow.com/users/2047469/olaru-mircea"}, "is_accepted": true, "score": 1, "last_activity_date": 1435205783, "last_edit_date": 1435205783, "creation_date": 1435179949, "answer_id": 31037031, "question_id": 31036019, "link": "https://stackoverflow.com/questions/31036019/wpf-how-do-i-find-the-listview-row-of-an-element-in-a-gridview-cell/31037031#31037031", "title": "wpf - How do I find the ListView row of an element in a GridView cell?", "body": "<p>Here is a working example for you:</p>\n\n<pre><code>&lt;Window x:Class=\"ListViewGridView.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    Title=\"MainWindow\" Height=\"350\" Width=\"525\"&gt;\n&lt;Grid&gt;\n    &lt;ListView Margin=\"10\" Name=\"lvUsers\" ItemsSource=\"{Binding  items}\"&gt;\n        &lt;ListView.View&gt;\n            &lt;GridView&gt;\n                &lt;GridViewColumn Header=\"Items\" Width=\"150\"&gt;\n                    &lt;GridViewColumn.CellTemplate&gt;\n                        &lt;DataTemplate&gt;\n                            &lt;ComboBox ItemsSource=\"{Binding containerItems}\" SelectionChanged=\"ComboBox_SelectionChanged\"&gt;\n                                &lt;ComboBox.ItemTemplate&gt;\n                                    &lt;DataTemplate&gt;\n                                        &lt;TextBlock Text=\"{Binding}\"/&gt;\n                                    &lt;/DataTemplate&gt;\n                                &lt;/ComboBox.ItemTemplate&gt;\n                            &lt;/ComboBox&gt;\n                        &lt;/DataTemplate&gt;\n                    &lt;/GridViewColumn.CellTemplate&gt;\n                &lt;/GridViewColumn&gt;\n            &lt;/GridView&gt;\n        &lt;/ListView.View&gt;\n    &lt;/ListView&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n\n<p>Codebehind:</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    public ObservableCollection&lt;ItemContainer&gt; items { get; set; }\n\n    public MainWindow()\n    {\n        InitializeComponent();\n        items = new ObservableCollection&lt;ItemContainer&gt;();\n\n        items.Add(new ItemContainer() { containerItems = new List&lt;string&gt;() { \"Item1\", \"Item2\", \"Item3\" } });\n        items.Add(new ItemContainer() { containerItems = new List&lt;string&gt;() { \"Item4\", \"Item5\", \"Item6\" } });\n\n        this.DataContext = this;\n    }\n\n\n    public static T FindAncestorOrSelf&lt;T&gt;(DependencyObject obj)\n        where T : DependencyObject\n    {\n        while (obj != null)\n        {\n            T objTest = obj as T;\n\n            if (objTest != null)\n                return objTest;\n\n            obj = VisualTreeHelper.GetParent(obj);\n        }\n        return null;\n    }\n\n    private void ComboBox_SelectionChanged(object sender, SelectionChangedEventArgs e)\n    {\n        ListViewItem lvItem = FindAncestorOrSelf&lt;ListViewItem&gt;(sender as ComboBox);\n        ListView listView = ItemsControl.ItemsControlFromItemContainer(lvItem) as ListView;\n        int index = listView.ItemContainerGenerator.IndexFromContainer(lvItem);\n        Console.WriteLine(index.ToString());\n    }\n}\n</code></pre>\n\n<p>And the simple model class:</p>\n\n<pre><code>public class ItemContainer\n{\n    public List&lt;string&gt; containerItems { get; set; }\n}\n</code></pre>\n\n<p>That's about it. Have fun!</p>\n"}], "owner": {"reputation": 119, "user_id": 4573445, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10205930027720407/picture?type=large", "display_name": "OKUZA", "link": "https://stackoverflow.com/users/4573445/okuza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1536, "favorite_count": 1, "accepted_answer_id": 31037031, "answer_count": 1, "score": 1, "last_activity_date": 1435205783, "creation_date": 1435176486, "question_id": 31036019, "link": "https://stackoverflow.com/questions/31036019/wpf-how-do-i-find-the-listview-row-of-an-element-in-a-gridview-cell", "title": "wpf - How do I find the ListView row of an element in a GridView cell?", "body": "<p>I have a combobox embedded within a grid view cell that is subsequently embedded in ListView object. When the window is loaded, the combobox gets values from my list of container classes and populates the combobox. This works fine, but what \nI want is to be able to determine the listview index of the combobox whenever the SelectionChanged event is fired.</p>\n\n<p><code>&lt;ComboBox x:Name=\"TransFileOpt\" ItemsSource=\"{Binding ComboBoxOptions}\" SelectedIndex=\"{Binding SelectedIndex}\" SelectionChanged=\"ComboBoxSelectionChanged\"/&gt;</code></p>\n\n<p>When I've searched this before, all of the results are directed towards System.Windows.Forms.ListView while I'm working with System.Windows.Controls.ListView, so \n<code>m_ListView.Rows[index]</code> does not work.</p>\n\n<p>Basically I need a way to get the ListView index or item that contains the combobox that calls ComboBoxSelectionChanged (on firing of the SelectionChanged Event).</p>\n\n<p>The ListView block:</p>\n\n<pre><code>    &lt;ListView Name=\"m_ListView\" ItemsSource=\"{Binding Tables}\" Margin=\"0,28,0,132\" SelectionMode=\"Extended\" SelectedIndex=\"0\" \n              RenderTransformOrigin=\"0.503,0.468\" ScrollViewer.HorizontalScrollBarVisibility=\"Disabled\"\n              SelectionChanged=\"ListView_SelectionChanged\"&gt;\n        &lt;ListView.View&gt;\n            &lt;GridView x:Name=\"m_TableGridView\" AllowsColumnReorder=\"False\"  &gt;\n                &lt;GridViewColumn Width=\"50\" Header=\"Loaded\"&gt;\n                    &lt;GridViewColumn.CellTemplate&gt;\n                        &lt;DataTemplate&gt;\n                            &lt;CheckBox IsChecked=\"{Binding Loaded}\"&gt;&lt;/CheckBox&gt;\n                        &lt;/DataTemplate&gt;\n                    &lt;/GridViewColumn.CellTemplate&gt;\n                &lt;/GridViewColumn&gt;\n                &lt;GridViewColumn Width=\"150\" Header=\"Master File\" DisplayMemberBinding =\"{Binding MasterFileName}\"/&gt;\n                &lt;GridViewColumn Width=\"200\" Header =\"Translation File\" &gt;\n                    &lt;GridViewColumn.CellTemplate&gt;\n                        &lt;DataTemplate&gt;\n                            &lt;ComboBox x:Name=\"TransFileOpt\" ItemsSource=\"{Binding ComboBoxOptions}\" \n                                      SelectedIndex=\"{Binding SelectedIndex}\" SelectionChanged=\"ComboBoxSelectionChanged\"/&gt;\n                        &lt;/DataTemplate&gt;\n                    &lt;/GridViewColumn.CellTemplate&gt;\n                &lt;/GridViewColumn&gt;\n            &lt;/GridView&gt;\n        &lt;/ListView.View&gt;\n        &lt;ListView.Resources&gt;\n            &lt;Style TargetType=\"{x:Type TextBlock}\"&gt;\n                &lt;Setter Property=\"ToolTip\" Value=\"{Binding RelativeSource={RelativeSource Self}, Path=Text }\"&gt;&lt;/Setter&gt;\n            &lt;/Style&gt;\n            &lt;Style TargetType=\"ListViewItem\"&gt;\n                &lt;Setter Property=\"HorizontalContentAlignment\" Value=\"Stretch\"/&gt;\n            &lt;/Style&gt;\n        &lt;/ListView.Resources&gt;\n    &lt;/ListView&gt;\n</code></pre>\n\n<p>Other info: the project was generated through Visual Studio's wpf editor which defaulted to System.Windows.Controls for classes.</p>\n"}, {"tags": ["c#", ".net", "json", "serialization", "asp.net-web-api"], "answers": [{"tags": [], "owner": {"reputation": 1238, "user_id": 2391294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8af32502212174717014d4867e8bda3?s=128&d=identicon&r=PG", "display_name": "Arin", "link": "https://stackoverflow.com/users/2391294/arin"}, "is_accepted": false, "score": 1, "last_activity_date": 1435176820, "creation_date": 1435176820, "answer_id": 31036091, "question_id": 31035950, "link": "https://stackoverflow.com/questions/31035950/web-api-list-is-appended-rather-than-overwritten/31036091#31036091", "title": "Web API list is appended rather than overwritten", "body": "<p>I ran into that same behavior a couple months back. I concluded what was happening was, as the WebAPI service received a POST request with some data, it would:</p>\n\n<ol>\n<li>Call the type constructor to instantiate a new C# object corresponding to the POST request.</li>\n<li>Add (not overwrite) the data from the POST request to the List in this new object.</li>\n</ol>\n\n<p>I know, you can probably infer that from the result, and you illustrated that nicely. </p>\n\n<p>But what I ended up doing is moving out any initial value-setting from the type constructor into a Factory, for situations when I'd need those \"default\" values set. Then when <code>new()</code> gets called as part of a POST, it returns an empty List, so the values added from the POST are the only values that end up in the object.</p>\n"}], "owner": {"reputation": 291, "user_id": 2551539, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/100003777279692/picture?type=large", "display_name": "Jesse Adam", "link": "https://stackoverflow.com/users/2551539/jesse-adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1435176820, "creation_date": 1435176257, "question_id": 31035950, "link": "https://stackoverflow.com/questions/31035950/web-api-list-is-appended-rather-than-overwritten", "title": "Web API list is appended rather than overwritten", "body": "<p>I have a class with a constructor as follows</p>\n\n<pre><code>public SomeClass\n{\n    List&lt;string&gt; MyList;\n    public SomeClass()\n    {\n        this.MyList = new List&lt;string&gt;() { \"1\",\"2\",\"3\" };\n    }\n}\n</code></pre>\n\n<p>my ajax post is as follows:</p>\n\n<pre><code>{MyList:[\"a\",\"b\",\"c\"]}\n</code></pre>\n\n<p>in the conroller I have</p>\n\n<pre><code>public void Post([FromBody]Models.SomeClass example)\n    {\n\n        Debug.WriteLine(example.MyList);\n    }\n</code></pre>\n\n<p>the output is:</p>\n\n<pre><code>[\"1\",\"2\",\"3\",\"a\",\"b\",\"c\"]\n</code></pre>\n\n<p>I expected:</p>\n\n<pre><code>[\"a\",\"b\",\"c\"]\n</code></pre>\n\n<p>I expect exactly what was posted rather than the initial values with the posted values appended. Not sure what's going on here, why is the initial state of the list not being overwritten?</p>\n"}, {"tags": ["c#", "string"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1435176399, "post_id": 31035933, "comment_id": 50096282, "body": "Can you not create (or reuse) a method that can look at a string value and either sanitize it, or determine if it is safe?  Then you protect yourself from problematic string literals and allow the use of non-literal safe values."}, {"owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 3, "creation_date": 1435176669, "post_id": 31035933, "comment_id": 50096425, "body": "Expressions in attributes are guaranteed to be constant, if I recall correctly. So, you could also try creating a custom attribute, and having client code pass you a member or a type decorated with that attribute. Then, you could read the metadata from that attribute. (Though there may be reflection tricks that can fake that, using dynamic assemblies.)"}, {"owner": {"reputation": 420, "user_id": 3832343, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8f7fc02486e8ef43ab9d46e89b43bff5?s=128&d=identicon&r=PG&f=1", "display_name": "Safari Jones", "link": "https://stackoverflow.com/users/3832343/safari-jones"}, "edited": false, "score": 0, "creation_date": 1435176671, "post_id": 31035933, "comment_id": 50096426, "body": "The problem is that the key is inherently unsafe. That&#39;s why it should never ever come from user input under any circumstances. Right now my options are to either check if it is known at compile time OR to hardcode it into my library so it cannot be changed by external developers."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1435176673, "post_id": 31035933, "comment_id": 50096427, "body": "Any way you do this is going to be hacky, as long as your key is a string.  How about keying off object instances, and their Type must extend an abstract base Type you define in your library?  Implementers would have to extend that type in order to create an instance and then pass it to you to use as the key."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "reply_to_user": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 0, "creation_date": 1435176717, "post_id": 31035933, "comment_id": 50096445, "body": "I <i>do</i> like @Theo&#39;s solution, that&#39;s pretty damned good."}, {"owner": {"reputation": 420, "user_id": 3832343, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8f7fc02486e8ef43ab9d46e89b43bff5?s=128&d=identicon&r=PG&f=1", "display_name": "Safari Jones", "link": "https://stackoverflow.com/users/3832343/safari-jones"}, "edited": false, "score": 0, "creation_date": 1435176944, "post_id": 31035933, "comment_id": 50096571, "body": "I might go with an attribute. It gives me the guarantees I want without taking away other developer&#39;s flexibility. The interning suggestion below might be viable also, but I&#39;d need to research it, the last thing I&#39;d want is another developer running into the exception and then just adding .Intern to the user-input to &quot;fix&quot; the problem."}, {"owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 0, "creation_date": 1435177127, "post_id": 31035933, "comment_id": 50096686, "body": "@SafariJones Whether the attribute solution (or possibly any solution) is valid, depends on whether the intention of the authors of the client code can be trusted. In other words: if you make it clear to them that you want them to provide a constant string, do you expect them to conform to this or could they (possibly with malicious intent) go seriously out of their way to circumvent that? If there is no (expected) malicious intent from the client code, then attributes could work."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 0, "creation_date": 1435177276, "post_id": 31035933, "comment_id": 50096753, "body": "@TheodorosChatzigiannakis Of course, if there&#39;s malicious intent on the part of the caller then <i>there is no solution</i>."}], "answers": [{"comments": [{"owner": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "edited": false, "score": 0, "creation_date": 1435178101, "post_id": 31036025, "comment_id": 50097204, "body": "Alternatively, one could receive a value of type <code>enum</code> and use the name of the passed-in value as a string.  That would limit strings to characters that would be valid within an <code>enum</code> value&#39;s name, but would allow client code to use arbitrary enumerations that were defined within the code."}], "tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": false, "score": 3, "last_activity_date": 1435176502, "creation_date": 1435176502, "answer_id": 31036025, "question_id": 31035933, "link": "https://stackoverflow.com/questions/31035933/check-if-a-string-is-a-literal-string-known-at-compile-time/31036025#31036025", "title": "Check if a string is a literal string known at compile time?", "body": "<p>You can use <code>string.IsInterned</code> to determine if the string is interned.  All compile time literals will be interned by default, but you can turn this off using a compiler flag.</p>\n\n<p>This is a runtime check, not a compile time check.</p>\n\n<p>Also note that non-compile time literals can be interned using the <code>string.Intern</code> function, so <em>technically</em> you can have non-literal strings pass your test.  But if your program is either not interning strings at any point, or only ever interning strings you know are safe, then this may work.</p>\n\n<hr>\n\n<p>Another option, if all of your keys are supposed to be known at compile time, is to not have the key be a string at all.  Make the key be an enumeration, for example, so that you know that the only values that can ever be used as keys are on a list you've fixed at compile time.</p>\n"}, {"comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1435177352, "post_id": 31036209, "comment_id": 50096796, "body": "It&#39;s quite easy to construct an expression at runtime of a lambada that returns an <code>Expression.Constant</code> that returns a string value computed at runtime."}, {"owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 0, "creation_date": 1435178044, "post_id": 31036209, "comment_id": 50097168, "body": "Given the requirements in the question (and assuming no malicious intent from client code), I think this is the best solution, being both easy to implement and not too easy to &quot;accidentally&quot; circumvent."}, {"owner": {"reputation": 11284, "user_id": 1431042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac347d1664f3b4c3c2d6d1326e8558f8?s=128&d=identicon&r=PG", "display_name": "Me.Name", "link": "https://stackoverflow.com/users/1431042/me-name"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1435178051, "post_id": 31036209, "comment_id": 50097174, "body": "@Servy True, but as you mentioned yourself, if the developers intent is there to  circumvent the restriction, he can. Still a good point. Added an extra check on interned to make it more difficult. Wonder if you can check if the lambda is created dynamically"}], "tags": [], "owner": {"reputation": 11284, "user_id": 1431042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac347d1664f3b4c3c2d6d1326e8558f8?s=128&d=identicon&r=PG", "display_name": "Me.Name", "link": "https://stackoverflow.com/users/1431042/me-name"}, "is_accepted": false, "score": 3, "last_activity_date": 1435178032, "last_edit_date": 1435178032, "creation_date": 1435177196, "answer_id": 31036209, "question_id": 31035933, "link": "https://stackoverflow.com/questions/31035933/check-if-a-string-is-a-literal-string-known-at-compile-time/31036209#31036209", "title": "Check if a string is a literal string known at compile time?", "body": "<p>Not extensively tested, but by using expressions instead of direct values, you could test the type of value being passed. e.g.</p>\n\n<pre><code>void Add(Expression&lt;Func&lt;string&gt;&gt; fn)\n{\n        if (fn.Body.NodeType != ExpressionType.Constant)\n            throw new ArgumentException(\"Only literal strings are allowed\");\n\n        //and extra check if the value itself is interned\n        var val = fn.Compile()();\n        if (string.IsInterned(val) == null)\n            throw new ArgumentException(\"Only literal strings are allowed\");\n\n}\n</code></pre>\n\n<p>Then the developer has to pass the argument as a lambda:</p>\n\n<pre><code>  Add(() =&gt; \"Test\"); //Valid\n  string somestring = \"Test\";\n  Add(() =&gt; somestring); //Error\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "is_accepted": true, "score": 2, "last_activity_date": 1436473428, "last_edit_date": 1495540354, "creation_date": 1435177470, "answer_id": 31036299, "question_id": 31035933, "link": "https://stackoverflow.com/questions/31035933/check-if-a-string-is-a-literal-string-known-at-compile-time/31036299#31036299", "title": "Check if a string is a literal string known at compile time?", "body": "<p>I can think of two possible ways, both using reflection:</p>\n\n<ul>\n<li><p>Receive a type that contains a key as a string constant field. <a href=\"https://stackoverflow.com/questions/10261824/how-can-i-get-all-constants-of-a-type-by-reflection\">There is another answer on how to get constant fields from a type</a>.</p></li>\n<li><p>Define an attribute that stores a string. Attribute arguments are required to be constant expressions. You can receive a type or a member that's decorated with that attribute and extract the key from said attribute.</p></li>\n</ul>\n\n<hr>\n\n<p>Worth mentioning that both can probably be faked by client code. For example, one could use <a href=\"https://msdn.microsoft.com/en-us/library/8ffc3x75(v=vs.110).aspx\" rel=\"nofollow noreferrer\">dynamic assemblies</a> or the <a href=\"http://msdn.microsoft.com/en-us/library/system.componentmodel.typedescriptor.aspx\" rel=\"nofollow noreferrer\"><code>System.ComponentModel.TypeDescriptor</code></a> class.</p>\n"}], "owner": {"reputation": 420, "user_id": 3832343, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8f7fc02486e8ef43ab9d46e89b43bff5?s=128&d=identicon&r=PG&f=1", "display_name": "Safari Jones", "link": "https://stackoverflow.com/users/3832343/safari-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 842, "favorite_count": 1, "accepted_answer_id": 31036299, "answer_count": 3, "score": 6, "last_activity_date": 1436473428, "creation_date": 1435176206, "question_id": 31035933, "link": "https://stackoverflow.com/questions/31035933/check-if-a-string-is-a-literal-string-known-at-compile-time", "title": "Check if a string is a literal string known at compile time?", "body": "<p>I am writing a library, and I have a method which takes in a Dictionary. The value of the dictionary is untrusted/insecure, but the key is trusted and if an end-user were given the ability to enter an arbitrary key name then \"bad things\" could happen.    </p>\n\n<p>So when other developers use this library function, I want to force them to know the key name at compile time. So something like this would be allowed:    </p>\n\n<pre><code>string userInput = Console.ReadLine(); \nDictionary&lt;string, string&gt; something = new Dictionary&lt;string, string&gt;();   \nsomething.Add(\"MyKey\", userInput);    \n</code></pre>\n\n<p>Because \"MyKey\" is a string literal, known at compile time. But something like this would either raise a compile or runtime exception:   </p>\n\n<pre><code>string userInput = Console.ReadLine();\nstring userKey = Console.ReadLine(); \nDictionary&lt;string, string&gt; something = new Dictionary&lt;string, string&gt;();   \nsomething.Add(userKey, userInput);    \n</code></pre>\n\n<p>Because user input was used for the key (userKey) and thus it was unknown at compile time.    </p>\n\n<p>I've looked in GetType() and there is nothing that really distinguishes between a literal string and a string created at runtime. </p>\n"}, {"tags": ["c#", "visual-studio-2010", "dll"], "comments": [{"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 1, "creation_date": 1435176223, "post_id": 31035882, "comment_id": 50096182, "body": "Both projects compiled under the same version of .NET?"}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 1, "creation_date": 1435176260, "post_id": 31035882, "comment_id": 50096200, "body": "<i>&quot;Added &quot;using CsVorbisDll.dll;&quot;, and this part works.&quot;</i>. You should read about the difference between assembly references and using directives."}, {"owner": {"reputation": 450, "user_id": 1705043, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/hnEU1.png?s=128&g=1", "display_name": "DrZ214", "link": "https://stackoverflow.com/users/1705043/drz214"}, "reply_to_user": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1435176422, "post_id": 31035882, "comment_id": 50096292, "body": "@Jonesy yes, both have &quot;Target framework: .NET Framework 4&quot; set in project properties."}, {"owner": {"reputation": 450, "user_id": 1705043, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/hnEU1.png?s=128&g=1", "display_name": "DrZ214", "link": "https://stackoverflow.com/users/1705043/drz214"}, "reply_to_user": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 0, "creation_date": 1435176465, "post_id": 31035882, "comment_id": 50096321, "body": "@LucasTrzesniewski sorry i typod it before. It&#39;s &quot;using CsVorbisDll;&quot; with no .dll at the end. I shoulda chose a better name for the dll file tho."}, {"owner": {"reputation": 2344, "user_id": 1095390, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/hlFdg.png?s=128&g=1", "display_name": "farid bekran", "link": "https://stackoverflow.com/users/1095390/farid-bekran"}, "edited": false, "score": 0, "creation_date": 1435177939, "post_id": 31035882, "comment_id": 50097120, "body": "Did you check that projects are on different 32 bit build mode?"}, {"owner": {"reputation": 450, "user_id": 1705043, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/hnEU1.png?s=128&g=1", "display_name": "DrZ214", "link": "https://stackoverflow.com/users/1705043/drz214"}, "reply_to_user": {"reputation": 2344, "user_id": 1095390, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/hlFdg.png?s=128&g=1", "display_name": "farid bekran", "link": "https://stackoverflow.com/users/1095390/farid-bekran"}, "edited": false, "score": 0, "creation_date": 1435178510, "post_id": 31035882, "comment_id": 50097444, "body": "@faridbekran I just checked, the dll was set to &quot;Any CPU&quot;, but my MonoGame Project was set to &quot;x86&quot;. They are not both set to &quot;x86&quot;. I recompiled and re-tested, but still get the same problem. It can&#39;t see inside the dll. If it matters, my machine is 64-bit Windows 7."}, {"owner": {"reputation": 2344, "user_id": 1095390, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/hlFdg.png?s=128&g=1", "display_name": "farid bekran", "link": "https://stackoverflow.com/users/1095390/farid-bekran"}, "edited": false, "score": 0, "creation_date": 1435178994, "post_id": 31035882, "comment_id": 50097672, "body": "try <a href=\"http://stackoverflow.com/a/23910959/1095390\">this</a> steps. maybe it worked. specially cleaning solution. deleting bin/obj folders"}, {"owner": {"reputation": 450, "user_id": 1705043, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/hnEU1.png?s=128&g=1", "display_name": "DrZ214", "link": "https://stackoverflow.com/users/1705043/drz214"}, "reply_to_user": {"reputation": 2344, "user_id": 1095390, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/hlFdg.png?s=128&g=1", "display_name": "farid bekran", "link": "https://stackoverflow.com/users/1095390/farid-bekran"}, "edited": false, "score": 0, "creation_date": 1435179898, "post_id": 31035882, "comment_id": 50098159, "body": "@faridbekran I tried some of those, no luck. Right now I&#39;m hunting through the properties tabs, looking for anything that stands out. Could &quot;Start Actions -&gt; Start External Program&quot; have something to do with it?"}, {"owner": {"reputation": 2344, "user_id": 1095390, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/hlFdg.png?s=128&g=1", "display_name": "farid bekran", "link": "https://stackoverflow.com/users/1095390/farid-bekran"}, "edited": false, "score": 0, "creation_date": 1435181131, "post_id": 31035882, "comment_id": 50098758, "body": "@DrZ214 I don&#39;t think so."}], "answers": [{"comments": [{"owner": {"reputation": 78357, "user_id": 3603, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7eaba3dd7c0fdce655ab50f001f23cc0?s=128&d=identicon&r=PG", "display_name": "Richard Szalay", "link": "https://stackoverflow.com/users/3603/richard-szalay"}, "edited": false, "score": 0, "creation_date": 1435176736, "post_id": 31036039, "comment_id": 50096464, "body": "Or use ilspy, which is free and open source"}, {"owner": {"reputation": 46944, "user_id": 3764814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d02a4923abd2ca6d7593f031e4222c2?s=128&d=identicon&r=PG", "display_name": "Lucas Trzesniewski", "link": "https://stackoverflow.com/users/3764814/lucas-trzesniewski"}, "edited": false, "score": 0, "creation_date": 1435176997, "post_id": 31036039, "comment_id": 50096616, "body": "I&#39;m baffled when people still recommend Reflector in 2015, especially after the controversy... Just use dotPeek, which is much better (and free), or ReSharper which integrates the decompiler."}, {"owner": {"reputation": 899, "user_id": 1140411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c037257e7ff09fda74d262749fa30ab?s=128&d=identicon&r=PG", "display_name": "MIKE", "link": "https://stackoverflow.com/users/1140411/mike"}, "edited": false, "score": 0, "creation_date": 1436453005, "post_id": 31036039, "comment_id": 50628662, "body": "I am looking at purchasing ReSharper. Have you personally used it? Is it worth it?"}], "tags": [], "owner": {"reputation": 899, "user_id": 1140411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c037257e7ff09fda74d262749fa30ab?s=128&d=identicon&r=PG", "display_name": "MIKE", "link": "https://stackoverflow.com/users/1140411/mike"}, "is_accepted": false, "score": 0, "last_activity_date": 1435176568, "creation_date": 1435176568, "answer_id": 31036039, "question_id": 31035882, "link": "https://stackoverflow.com/questions/31035882/project-cannot-see-inside-a-dll/31036039#31036039", "title": "Project cannot see inside a dll", "body": "<p>If you want to dig deep inside dlls you can try <a href=\"http://www.red-gate.com/products/dotnet-development/reflector/\" rel=\"nofollow\">.Net Reflector</a></p>\n\n<p>You can install the free trial it is good for about 60 days. It installs a new menu into visual studio. </p>\n"}, {"comments": [{"owner": {"reputation": 450, "user_id": 1705043, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/hnEU1.png?s=128&g=1", "display_name": "DrZ214", "link": "https://stackoverflow.com/users/1705043/drz214"}, "edited": false, "score": 0, "creation_date": 1435176905, "post_id": 31036070, "comment_id": 50096548, "body": "I didnt change anything in the source code of OggSharp or CsVorbis. The namespaces it uses are indeed &quot;OggSharp&quot;. However, &quot;using OggSharp;&quot; in my MonoGame Project gives an error. It can&#39;t see it. But it can see CsVorbisDll. I don&#39;t understand it either."}], "tags": [], "owner": {"reputation": 78357, "user_id": 3603, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7eaba3dd7c0fdce655ab50f001f23cc0?s=128&d=identicon&r=PG", "display_name": "Richard Szalay", "link": "https://stackoverflow.com/users/3603/richard-szalay"}, "is_accepted": false, "score": 0, "last_activity_date": 1435176704, "creation_date": 1435176704, "answer_id": 31036070, "question_id": 31035882, "link": "https://stackoverflow.com/questions/31035882/project-cannot-see-inside-a-dll/31036070#31036070", "title": "Project cannot see inside a dll", "body": "<p>Unless you also changed all the namespaces, you're using statement is incorrect. It should be:</p>\n\n<pre><code>using OggSharp;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 450, "user_id": 1705043, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/hnEU1.png?s=128&g=1", "display_name": "DrZ214", "link": "https://stackoverflow.com/users/1705043/drz214"}, "is_accepted": true, "score": 0, "last_activity_date": 1435188312, "creation_date": 1435188312, "answer_id": 31038795, "question_id": 31035882, "link": "https://stackoverflow.com/questions/31035882/project-cannot-see-inside-a-dll/31038795#31038795", "title": "Project cannot see inside a dll", "body": "<p>I figured out what was wrong, but still don't like it.</p>\n\n<p>The .cs files I was compiling all have <code>namespace Oggsharp</code>. So on a whim, I made a new Class Library project and named it OggSharp (instead of CsVorbisDll as before). This time it compiled into an 84 KB dll. I referenced it and was able to use all its classes and functions!</p>\n\n<p>My initial suspicion was right, because CsVorbisDll.dll was compiled as a pitifully small 4 KB dll file. So I guess it didn't compile things into it because the namespaces didnt match up with the dll name?</p>\n\n<p>Upon calling the project OggSharp and making OggSharp.dll, it compiled into an 84 KB dll, with all its insides usable.</p>\n\n<p>Not sure I like this convention/rule. I may do some experiments, e.g., manually renaming the dll and seeing what happens.</p>\n"}], "owner": {"reputation": 450, "user_id": 1705043, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/hnEU1.png?s=128&g=1", "display_name": "DrZ214", "link": "https://stackoverflow.com/users/1705043/drz214"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 31038795, "answer_count": 3, "score": 0, "last_activity_date": 1435188401, "creation_date": 1435176024, "last_edit_date": 1435188401, "question_id": 31035882, "link": "https://stackoverflow.com/questions/31035882/project-cannot-see-inside-a-dll", "title": "Project cannot see inside a dll", "body": "<p>Here's what I did so far:</p>\n\n<ol>\n<li><p>Went here and downloaded the source code: <a href=\"http://oggsharp.codeplex.com/SourceControl/latest#OggSharp/CsVorbis\" rel=\"nofollow\">http://oggsharp.codeplex.com/SourceControl/latest#OggSharp/CsVorbis</a> . It came as \"oggsharp-19c0361a8fa8.zip\" and in there is OggSharp\\CsVorbis which has all the .cs files I want.</p></li>\n<li><p>Started a new Class Library project in MS VS 2010. Added all the .cs files from that folder (CsVorbis).</p></li>\n<li><p>Compiled the project. This made a CsVorbisDll.dll file.</p></li>\n<li><p>Went to another project of mine---a MonoGame DirectX project---and added a reference to that dll.</p></li>\n<li><p>Added <code>using CsVorbisDll;</code>, and this part works. So it can see the dll. (EDIT: typod it before. It is <code>using CsVorbisDll;</code>)</p></li>\n<li><p>Tried to use classes from that dll, such as OggDecoder, <strong>but this doesn't work!</strong> It says \"The type or namespace name 'OggDecoder' could not be found\"</p></li>\n</ol>\n\n<p>Apparently my project <strong>can see</strong> the dll, but <strong>cannot see into</strong> the dll. I'm not sure why. The OggDecoder class is public. I noticed, however, that the dll was only 4 KB in size, whereas the source code folder was something like 300 KB. Did it not compile correctly?</p>\n\n<p>I set the Configuration to \"Release\", not \"Debug\", when I compiled the dll. My MonoGame Project is also in MS VS 2010, uses DirectX, and otherwise runs fine.</p>\n\n<p>EDIT: What I've verified so far: Both projects target \".NET Framework 4\" (not the Client Profile). Both projects have platform target \"x86\".</p>\n\n<p>Can someone help me set up this dll correctly? I really want it to be a dll. There are too many *.cs from the source to just add them all into my MonoGame Project.</p>\n\n<p>EDIT: I found the answer and posted it. Basically, I had to make the project name the same as the namespace of all the .cs files so that the dll filename is the same as the namespace too.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "dependency-injection", "owin", "simple-injector"], "comments": [{"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1435222095, "post_id": 31035867, "comment_id": 50113311, "body": "Where exactly is this DI setup code located? Why don&#39;t you use the value supplied to the <code>Configuration</code> method in your DI setup code."}, {"owner": {"reputation": 3167, "user_id": 964053, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6ff66778039151c04dfca30c5c25124c?s=128&d=identicon&r=PG", "display_name": "NoOne", "link": "https://stackoverflow.com/users/964053/noone"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1435249368, "post_id": 31035867, "comment_id": 50132704, "body": "@Steven My DI initialization is in my <code>Global.asax.cs</code>. And, apparently, it executes first, so my code above does not work. The code in your answer below would work, but I need to get the DI container somehow and 1) I don&#39;t now how (there must be a better way than using static properties) and 2) some people consider touching the DI container in places other than the DI initialization a &quot;no-no&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "is_accepted": true, "score": 3, "last_activity_date": 1435222297, "creation_date": 1435222297, "answer_id": 31045558, "question_id": 31035867, "link": "https://stackoverflow.com/questions/31035867/trying-to-use-simple-injector-in-asp-net-mvc-site-with-owin/31045558#31045558", "title": "Trying to use Simple Injector in ASP.NET MVC site with OWIN", "body": "<p>Do this:\n</p>\n\n<pre><code>public void Configuration(IAppBuilder app)\n{\n    app.Use((async (context, next) =&gt;\n    {\n        using (container.BeginExecutionContextScope())\n        {\n            await next();\n        }\n    }));\n\n    ConfigureAuth(app);\n}\n</code></pre>\n"}], "owner": {"reputation": 3167, "user_id": 964053, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6ff66778039151c04dfca30c5c25124c?s=128&d=identicon&r=PG", "display_name": "NoOne", "link": "https://stackoverflow.com/users/964053/noone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 1, "accepted_answer_id": 31045558, "answer_count": 1, "score": 1, "last_activity_date": 1439810330, "creation_date": 1435175988, "last_edit_date": 1439810330, "question_id": 31035867, "link": "https://stackoverflow.com/questions/31035867/trying-to-use-simple-injector-in-asp-net-mvc-site-with-owin", "title": "Trying to use Simple Injector in ASP.NET MVC site with OWIN", "body": "<p>Reading the docs <a href=\"https://simpleinjector.readthedocs.org/en/latest/owinintegration.html\" rel=\"nofollow\">here</a>\n..it seemed easy thing to do, but in practice things are not so simple.</p>\n\n<p>One problem I had was accessing the <code>IAppBuilder</code> interface from the method that sets up the DI. I have put an <code>AppBuilder</code> public static property on Startup class for that purpose and hoped that it gets initialized first, before DI setup starts:</p>\n\n<pre><code>// DI setup code:\nStartup.AppBuilder.Use((async (context, next) =&gt;\n{\n    using (container.BeginExecutionContextScope())\n    {\n        await next();\n    }\n}));\n\n\n[assembly: OwinStartupAttribute(typeof(MySite.Presentation.Startup))]\nnamespace MySite.Presentation\n{\n    public partial class Startup\n    {\n        public static IAppBuilder AppBuilder { get; private set; }\n\n        public void Configuration(IAppBuilder app)\n        {\n            AppBuilder = app;\n\n            ConfigureAuth(app);\n        }\n    }\n}\n</code></pre>\n\n<p>But it turns out that it's not.\n<code>Startup.AppBuilder</code> is null when the DI gets setup.\nHow can I solve this?</p>\n\n<p>I don't know if I can somehow get the container from within the <code>Startup</code> class but keeping the DI setup code in one place would be nice, if possible.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 23604, "user_id": 1043198, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fd794fa557e412eefe8aa19251412df8?s=128&d=identicon&r=PG", "display_name": "Ant P", "link": "https://stackoverflow.com/users/1043198/ant-p"}, "edited": false, "score": 2, "creation_date": 1435176303, "post_id": 31035864, "comment_id": 50096231, "body": "You are waiting for the completion of a task that you never start. Is there any reason why you are not calling that async method asynchronously?"}, {"owner": {"reputation": 988, "user_id": 571723, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/be1759766cc3c5e34c82749523e888ea?s=128&d=identicon&r=PG", "display_name": "dmikester1", "link": "https://stackoverflow.com/users/571723/dmikester1"}, "reply_to_user": {"reputation": 23604, "user_id": 1043198, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fd794fa557e412eefe8aa19251412df8?s=128&d=identicon&r=PG", "display_name": "Ant P", "link": "https://stackoverflow.com/users/1043198/ant-p"}, "edited": false, "score": 0, "creation_date": 1435176556, "post_id": 31035864, "comment_id": 50096364, "body": "I&#39;m pretty new at this, so I&#39;m completely open to better methods."}, {"owner": {"reputation": 37143, "user_id": 517852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9XmOJ.jpg?s=128&g=1", "display_name": "Mike Zboray", "link": "https://stackoverflow.com/users/517852/mike-zboray"}, "edited": false, "score": 0, "creation_date": 1435176888, "post_id": 31035864, "comment_id": 50096541, "body": "What version of MVC are you using? You should be using <a href=\"http://www.asp.net/mvc/overview/performance/using-asynchronous-methods-in-aspnet-mvc-4\" rel=\"nofollow noreferrer\">async/await for this</a>."}, {"owner": {"reputation": 988, "user_id": 571723, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/be1759766cc3c5e34c82749523e888ea?s=128&d=identicon&r=PG", "display_name": "dmikester1", "link": "https://stackoverflow.com/users/571723/dmikester1"}, "reply_to_user": {"reputation": 37143, "user_id": 517852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9XmOJ.jpg?s=128&g=1", "display_name": "Mike Zboray", "link": "https://stackoverflow.com/users/517852/mike-zboray"}, "edited": false, "score": 0, "creation_date": 1435177361, "post_id": 31035864, "comment_id": 50096805, "body": "@mike z, you are correct, that did it.  You can add an answer and I&#39;ll accept if you want."}], "owner": {"reputation": 988, "user_id": 571723, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/be1759766cc3c5e34c82749523e888ea?s=128&d=identicon&r=PG", "display_name": "dmikester1", "link": "https://stackoverflow.com/users/571723/dmikester1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435175975, "creation_date": 1435175975, "question_id": 31035864, "link": "https://stackoverflow.com/questions/31035864/task-waitany-is-hanging", "title": "Task.WaitAny is hanging", "body": "<p>For some reason my Task.WaitAny line is hanging and I have no idea why.  I am trying to create new user in the problem line of code.  Here is the code:</p>\n\n<pre><code> [HttpPost]\n    [ValidateAntiForgeryToken]\n    public ActionResult EditUser([Bind(Include = \"UserID, Email, UserName, Roles, RoleID, RoleName\")] ManagerUserViewModel model)\n    {\n        if (ModelState.IsValid)\n        {\n            using (var context = new ApplicationDbContext())\n            {\n                var store = new UserStore&lt;ApplicationUser&gt;(context);\n                var manager = new UserManager&lt;ApplicationUser&gt;(store);\n                ApplicationUser user = new ApplicationUser();\n                user.Email = model.Email;\n                user.UserName = model.UserName;\n\n                if (model.UserID == null || model.UserID == \"\" || model.UserID == \"0\")\n                {\n                    // Since it didn't have a UserID, we assume this is a new User\n\n                    Task.WaitAny(manager.CreateAsync(user, \"Changeitasap!2\"));\n</code></pre>\n"}, {"tags": ["c#", "inversion-of-control", "mef"], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 724351, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/38a92dea3c18ad5352035c8a875d477a?s=128&d=identicon&r=PG", "display_name": "LucasMcGraw", "link": "https://stackoverflow.com/users/724351/lucasmcgraw"}, "is_accepted": true, "score": 0, "last_activity_date": 1438705345, "creation_date": 1438705345, "answer_id": 31814438, "question_id": 31035854, "link": "https://stackoverflow.com/questions/31035854/mef-composition-with-multiple-interdependent-parts/31814438#31814438", "title": "MEF composition with multiple interdependent parts", "body": "<p>In exploring this question more, inter-dependencies are perfectly allowed.  The key is to have the assemblies available in the catalog passed to the CompositionContainer that is being used to compose the parts.  Then the following code helped in allowing one plugin to access another plugin:</p>\n\n<pre><code>  [Export(typeof(IWindow))]\n  class Window2 : IWindow\n  {\n    IEventManager eventMgr;\n\n    [ImportingConstructor]\n    public Window2([Import(typeof(IEventManager))]IEventManager mgr)\n    {\n      this.eventMgr.AnEvent += eventMgr_AnEvent;\n    }\n\n    void eventMgr_AnEvent(object sender, EventArgs e)\n    {\n      Debug.WriteLine(\"Event from Window 2\");\n    }\n\n    public string Name { get { return \"Window2\"; } }\n  }\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 724351, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/38a92dea3c18ad5352035c8a875d477a?s=128&d=identicon&r=PG", "display_name": "LucasMcGraw", "link": "https://stackoverflow.com/users/724351/lucasmcgraw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 31814438, "answer_count": 1, "score": 0, "last_activity_date": 1438705345, "creation_date": 1435175937, "question_id": 31035854, "link": "https://stackoverflow.com/questions/31035854/mef-composition-with-multiple-interdependent-parts", "title": "MEF composition with multiple interdependent parts", "body": "<p>What is the best way to design an MEF-based plugin architecture that has dependencies between plugins?  For example:</p>\n\n<pre><code>  class MainForm\n  {\n    CompositionContainer container;\n\n    [ImportMany]\n    IEnumerable&lt;Lazy&lt;IWindow&gt;&gt; windows;\n\n    public MainForm()\n    {\n      this.container = new CompositionContainer(new AssemblyCatalog(Assembly.GetExecutingAssembly()));\n      this.container.ComposeParts(this);\n    }\n\n    public void DoSomething()\n    {\n      foreach (var winPart in windows)\n      {\n        Debug.WriteLine(winPart.Value.Name);\n      }\n    }\n  }\n\n\n  interface IWindow\n  {\n    string Name { get; }\n  }\n\n  delegate void AnEvent(object sender, EventArgs e);\n  interface IEventManager\n  {\n    event AnEvent AnEvent;\n    void OnAnEvent(object sender, EventArgs eventArgs);\n  }\n\n  [Export(typeof(IEventManager))]\n  class EventManager : IEventManager\n  {\n    public event AnEvent AnEvent = delegate { };\n    public void OnAnEvent(object sender, EventArgs eventArgs) { AnEvent(sender, eventArgs); }\n  }\n\n  [Export(typeof(IWindow))]\n  class Window1 : IWindow\n  {\n    [Import]\n    IEventManager eventMgr;\n\n    public Window1() { }\n\n    public string Name\n    {\n      get\n      {\n        eventMgr.OnAnEvent(this, new EventArgs());\n        return \"Window1\";\n      }\n    }\n  }\n\n  [Export(typeof(IWindow))]\n  class Window2 : IWindow\n  {\n    [Import]\n    IEventManager eventMgr;\n\n    public Window2()  {  this.eventMgr.AnEvent += eventMgr_AnEvent; }\n\n    void eventMgr_AnEvent(object sender, EventArgs e)\n    {\n      Debug.WriteLine(\"Event from Window 2\");\n    }\n\n    public string Name { get { return \"Window2\"; } }\n  }\n</code></pre>\n\n<p>In the <code>Window2</code> constructor <code>this.eventMgr</code> is null.  I would expect it to be composed by MainForm.  One approach is to have multiple <code>CompositionContainers</code> but if you do that there are two instances of <code>EventManager</code> rather than one shared instance.  What would be the best way of doing this?</p>\n"}, {"tags": ["c#", "jquery", "asp.net", "asp.net-mvc", "jquery-autocomplete"], "comments": [{"owner": {"reputation": 6029, "user_id": 900307, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vkqaG.jpg?s=128&g=1", "display_name": "RajeshKdev", "link": "https://stackoverflow.com/users/900307/rajeshkdev"}, "edited": false, "score": 0, "creation_date": 1435211765, "post_id": 31035847, "comment_id": 50107357, "body": "you can check some more samples from code project <a href=\"http://www.codeproject.com/Tips/639578/jQuery-Autocomplete-MVC-and-WebAPI\" rel=\"nofollow noreferrer\">Example 1</a> and <a href=\"http://www.codeproject.com/Tips/746697/Auto-Complete-TextBox-Using-jQuery-and-ASP-NET-MVC\" rel=\"nofollow noreferrer\">Example 2</a>. And <a href=\"http://www.c-sharpcorner.com/UploadFile/raj1979/autocomplete-textbox-in-mvc-using-jquery-and-webapi/\" rel=\"nofollow noreferrer\">this example</a> is very much simple and easy to follow the steps."}, {"owner": {"reputation": 61, "user_id": 4881112, "user_type": "registered", "accept_rate": 9, "profile_image": "https://graph.facebook.com/10205367585721772/picture?type=large", "display_name": "Gerardo Quintana", "link": "https://stackoverflow.com/users/4881112/gerardo-quintana"}, "reply_to_user": {"reputation": 6029, "user_id": 900307, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vkqaG.jpg?s=128&g=1", "display_name": "RajeshKdev", "link": "https://stackoverflow.com/users/900307/rajeshkdev"}, "edited": false, "score": 0, "creation_date": 1435262838, "post_id": 31035847, "comment_id": 50140314, "body": "I can&#39;t implement it to my project, its to hard!"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 4782955, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/ff01e7ed31f0be4f4225fbe5d3890a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Kirtesh", "link": "https://stackoverflow.com/users/4782955/kirtesh"}, "edited": false, "score": 0, "creation_date": 1436947886, "post_id": 31424821, "comment_id": 50821279, "body": "And try to remove VIewBag then try"}], "tags": [], "owner": {"reputation": 107, "user_id": 4782955, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/ff01e7ed31f0be4f4225fbe5d3890a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Kirtesh", "link": "https://stackoverflow.com/users/4782955/kirtesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1436947580, "creation_date": 1436947580, "answer_id": 31424821, "question_id": 31035847, "link": "https://stackoverflow.com/questions/31035847/cannot-autocomplete-textbox-search/31424821#31424821", "title": "Cannot autocomplete textbox (search)", "body": "<p>Try this its working for me</p>\n\n<pre><code>$(\"#search\").autocomplete({\n            minLength: 3,\n            source: '@Url.Action(\"GetProductos\")',\n            select: function (event, ui) {\n                $('#search').val(ui.item.value);\n            },\n            change: function (event, ui) {\n            }\n        });\n</code></pre>\n\n<p>And In controller</p>\n\n<pre><code>public JsonResult GetProductos(string term)\n{\n    var producto = db.ProductosList\n        .Where(m =&gt; m.Nombre.StartsWith(search))\n        .Select(m =&gt; m.Nombre).ToList();\n    return Json(producto, JsonRequestBehavior.AllowGet);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 667, "user_id": 219571, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6EJt8.png?s=128&g=1", "display_name": "KevD", "link": "https://stackoverflow.com/users/219571/kevd"}, "is_accepted": false, "score": 0, "last_activity_date": 1436966522, "last_edit_date": 1436966522, "creation_date": 1436952939, "answer_id": 31426712, "question_id": 31035847, "link": "https://stackoverflow.com/questions/31035847/cannot-autocomplete-textbox-search/31426712#31426712", "title": "Cannot autocomplete textbox (search)", "body": "<p>Your jquery selector is missing the hash character - it should be <code>$(\"#search\").autocomplete({...</code> (like in Snehal's example).</p>\n\n<p>Just as a side note you've got two references to jquery UI javascript - one minified and one not.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 61, "user_id": 4881112, "user_type": "registered", "accept_rate": 9, "profile_image": "https://graph.facebook.com/10205367585721772/picture?type=large", "display_name": "Gerardo Quintana", "link": "https://stackoverflow.com/users/4881112/gerardo-quintana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1436966522, "creation_date": 1435175925, "last_edit_date": 1435204853, "question_id": 31035847, "link": "https://stackoverflow.com/questions/31035847/cannot-autocomplete-textbox-search", "title": "Cannot autocomplete textbox (search)", "body": "<p>I want to implement an autocomplete textbox, like the one in this tutorial: <a href=\"https://www.youtube.com/watch?v=quQgUNteWxY\" rel=\"nofollow\">Implement autocomplete textbox functionally</a>, but I can't make it work.</p>\n\n<p>Controllers:</p>\n\n<pre><code>public ActionResult Productos(string searchString, string currentFilter, int? page)\n{\n    int pageSize = 8;\n    int pageNumber = (page ?? 1);\n\n    ViewBag.CurrentFilter = searchString;\n\n    if (!String.IsNullOrEmpty(searchString))\n    {\n        var producto = db.ProductosList\n            .Where(m =&gt; m.Nombre.StartsWith(searchString))\n            .Include(x =&gt; x.Subcategoria)\n        .Include(x =&gt; x.Subcategoria.Categorias)\n        .Include(x =&gt; x.Subcategoria.Categorias.Marcas)\n         .OrderBy(x =&gt; x.Subcategoria.Nombre).ToPagedList(pageNumber, pageSize);\n\n        var subcategorias = db.SubcategoriasList\n   .Include(x =&gt; x.Categorias)\n                 .OrderBy(x =&gt; x.Categorias.Nombre).ToPagedList(pageNumber, pageSize);\n\n        var categorias = db.CategoriasList\n            .Include(x =&gt; x.Subcategoriases)\n            .OrderBy(x =&gt; x.Subcategoriases.Count).ToPagedList(pageNumber, pageSize);\n\n        var model = new PagedListViewModel\n        {\n            SubcategoriasListes = subcategorias,\n            CategoriasListes = categorias,\n            ProductosListes = producto\n        };\n\n        ViewBag.Count = db.ProductosList.Count();\n        return View(model);\n    }\n    else\n    {\n        var producto = db.ProductosList\n            .Include(i =&gt; i.FilePaths)\n              .Include(x =&gt; x.Subcategoria)\n        .Include(x =&gt; x.Subcategoria.Categorias)\n        .Include(x =&gt; x.Subcategoria.Categorias.Marcas)\n        .OrderBy(x =&gt; x.Subcategoria.Nombre).ToPagedList(pageNumber, pageSize);\n\n        var subcategorias = db.SubcategoriasList\n                 .Include(x =&gt; x.Categorias)\n                 .OrderBy(x =&gt; x.Categorias.Nombre).ToPagedList(pageNumber, pageSize);\n\n        var categorias = db.CategoriasList\n            .Include(x =&gt; x.Subcategoriases)\n            .OrderBy(x =&gt; x.Subcategoriases.Count).ToPagedList(pageNumber, pageSize);\n\n        var model = new PagedListViewModel\n        {\n            SubcategoriasListes = subcategorias,\n            CategoriasListes = categorias,\n            ProductosListes = producto\n        };\n        ViewBag.Count = db.ProductosList.Count();\n        return View(model);\n    }\n}\n\npublic JsonResult GetProductos(string search, int? page)\n{\n    int pageSize = 8;\n    int pageNumber = (page ?? 1);\n\n    var producto = db.ProductosList\n        .Where(m =&gt; m.Nombre.StartsWith(search))\n        .Select(m =&gt; m.Nombre).ToList();\n    return Json(producto, JsonRequestBehavior.AllowGet);\n}\n</code></pre>\n\n<p>View:</p>\n\n<pre><code> &lt;link href=\"~/Content/Main/dis/dis/css/jquery-ui.css\" rel=\"stylesheet\" /&gt;\n &lt;script src=\"~/Content/Main/dis/dis/js/jquery-ui.js\"&gt;&lt;/script&gt;\n&lt;script src=\"~/Content/Main/dis/dis/js/jquery-ui.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"~/Content/Main/dis/dis/js/jquery.js\"&gt;&lt;/script&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n    $(function() {\n        $(\"search\").autocomplete({\n            source: '@Url.Action(\"GetProductos\")'\n        });\n\n    });\n&lt;/script&gt;\n&lt;section class=\"page-title\"&gt;\n    &lt;div class=\"alert-style\"&gt;\n         @{ Html.RenderPartial(\"_Alerts\"); }\n      &lt;/div&gt;\n    &lt;div class=\"grid-row clearfix\"&gt;\n        &lt;h1&gt;Productos&lt;/h1&gt;\n         &lt;br /&gt;\n        @using (Html.BeginForm(\"Productos\", \"Productos\", FormMethod.Get))\n        {\n\n                &lt;div class=\"input-group pull-right\"&gt;\n                &lt;div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\"&gt;\n                  &lt;p class=\"s\"&gt; @Html.TextBox(\"searchString\", ViewBag.CurrentFilter as string, new { @id = \"search\", @placeholder = \"\u00bfQu\u00e9 producto buscas?\", autofocus = \"autofocus\" })&lt;/p&gt;\n               &lt;/div&gt;\n            &lt;div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\"&gt;\n                &lt;input type=\"submit\" value=\"Buscar por producto\" class=\"btn pull-left\" id=\"busqueda\" autofocus /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    }\n</code></pre>\n\n<p>My code doesn't have any trouble executing, but it doesn't work.</p>\n"}, {"tags": ["c#", "sql", "asp.net", ".net", "dbextensions"], "comments": [{"owner": {"reputation": 2344, "user_id": 1095390, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/hlFdg.png?s=128&g=1", "display_name": "farid bekran", "link": "https://stackoverflow.com/users/1095390/farid-bekran"}, "edited": false, "score": 0, "creation_date": 1435177270, "post_id": 31035822, "comment_id": 50096746, "body": "can you provide link of DbExtension library?"}, {"owner": {"reputation": 8397, "user_id": 2736022, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c937c803dbc35de26f1e93229875679e?s=128&d=identicon&r=PG&f=1", "display_name": "Gillardo", "link": "https://stackoverflow.com/users/2736022/gillardo"}, "reply_to_user": {"reputation": 2344, "user_id": 1095390, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/hlFdg.png?s=128&g=1", "display_name": "farid bekran", "link": "https://stackoverflow.com/users/1095390/farid-bekran"}, "edited": false, "score": 0, "creation_date": 1435177326, "post_id": 31035822, "comment_id": 50096782, "body": "<a href=\"https://github.com/maxtoroq/DbExtensions\" rel=\"nofollow noreferrer\">github.com/maxtoroq/DbExtensions</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2344, "user_id": 1095390, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/hlFdg.png?s=128&g=1", "display_name": "farid bekran", "link": "https://stackoverflow.com/users/1095390/farid-bekran"}, "is_accepted": false, "score": 0, "last_activity_date": 1435182731, "creation_date": 1435182731, "answer_id": 31037772, "question_id": 31035822, "link": "https://stackoverflow.com/questions/31035822/dbextensions-where-with-and-and-or/31037772#31037772", "title": "DbExtensions - WHERE with AND and OR", "body": "<p>You can use this sample to generate specified query.</p>\n\n<p>Query: </p>\n\n<pre><code>SELECT *\nFROM myTable\nWHERE (Field1 LIKE '%a%' OR Field1 LIKE '%b%')\n    AND (Field2 LIKE '%a%' OR Field2 LIKE '%b%')\n</code></pre>\n\n<p>Code snippet to do this: </p>\n\n<pre><code>var builder = SQL\n    .SELECT(\"*\")\n    .FROM(\"myTable\")\n    .WHERE();\n\nforeach (var field in fields) {\n        builder.WHERE(\"\").Append(\"(\")\n        var index = 0;\n        foreach (var value in field.values) {\n            builder.AppendClause(\"WHERE\", index == 0 ? \"\": \" OR \", field.columnName + \" LIKE {0}\", new object[] { \"%\" + value.Value + \"%\" });\n        }\n        index++;\n        builder.Append(\")\");\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8397, "user_id": 2736022, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c937c803dbc35de26f1e93229875679e?s=128&d=identicon&r=PG&f=1", "display_name": "Gillardo", "link": "https://stackoverflow.com/users/2736022/gillardo"}, "edited": false, "score": 0, "creation_date": 1435207908, "post_id": 31041025, "comment_id": 50105993, "body": "Max how could i append a query to an OR?  Edited question with more detail. Great library btw!"}], "tags": [], "owner": {"reputation": 27154, "user_id": 39923, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/UF9rB.png?s=128&g=1", "display_name": "Max Toro", "link": "https://stackoverflow.com/users/39923/max-toro"}, "is_accepted": false, "score": 0, "last_activity_date": 1435205242, "creation_date": 1435205242, "answer_id": 31041025, "question_id": 31035822, "link": "https://stackoverflow.com/questions/31035822/dbextensions-where-with-and-and-or/31041025#31041025", "title": "DbExtensions - WHERE with AND and OR", "body": "<p>Try this:</p>\n\n<pre><code>var builder = SQL\n   .SELECT(\"*\")\n   .FROM(\"myTable\")\n   .WHERE();\n\nforeach (var field in fields) {\n   builder._OR(field.values, field.columnName + \" LIKE {0}\", v =&gt; new object[1] { \"%\" + v.ToString() +  \"%\" });\n}\n</code></pre>\n\n<p>I don't know if merging the <code>%</code> with the parameter value is the best option. I mostly work with MySQL, where I do <code>Field1 LIKE CONCAT('%', {0}, '%')</code>. Don't append parameter values to the format string, it could expose an injection.</p>\n"}], "owner": {"reputation": 8397, "user_id": 2736022, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c937c803dbc35de26f1e93229875679e?s=128&d=identicon&r=PG&f=1", "display_name": "Gillardo", "link": "https://stackoverflow.com/users/2736022/gillardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 532, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1435207864, "creation_date": 1435175851, "last_edit_date": 1435207864, "question_id": 31035822, "link": "https://stackoverflow.com/questions/31035822/dbextensions-where-with-and-and-or", "title": "DbExtensions - WHERE with AND and OR", "body": "<p>I would like to build an SQL statement using DbExtensions.  I need to build a WHERE clause with AND and OR.  Something like this</p>\n\n<pre><code>SELECT *\nFROM myTable\nWHERE (Field1 LIKE '%a%' OR Field1 LIKE '%b%')\n    AND (Field2 LIKE '%a%' OR Field2 LIKE '%b%')\n</code></pre>\n\n<p>I need to do this from within a loop.</p>\n\n<pre><code>var builder = SQL\n    .SELECT(\"*\")\n    .FROM(\"myTable\")\n    .WHERE();\n\nforeach (var field in fields) {\n    foreach (var value in field.values) {\n        builder.AppendClause(\"WHERE\", \" OR \", field.columnName + \" LIKE {0}\", new object[] { \"%\" + value.Value + \"%\" });\n    }\n}\n</code></pre>\n\n<p>The above code seems to produce an SQL statement like so</p>\n\n<pre><code>SELECT *\nFROM myTable\nWHERE Field1 LIKE '%a%' OR Field1 LIKE '%b%'\n    OR Field2 LIKE '%a%' OR Field2 LIKE '%b%'\n</code></pre>\n\n<p>As you can see, if doesnt have any brackets and there is an OR instead of an AND.</p>\n\n<p>It there anyway i can get DbExtensions to do what i want using the methods available, without having to write this all to another stringBuilder?</p>\n\n<p><strong>EDIT</strong>\nI have changed my code as suggested to this</p>\n\n<pre><code>var builder = SQL\n   .SELECT(\"*\")\n   .FROM(\"myTable\")\n   .WHERE();\n\nforeach (var field in fields) {\n   builder._OR(field.values, field.columnName + \" LIKE {0}\", v =&gt; new object[1] { \"%\" + v.ToString() +  \"%\" });\n}\n</code></pre>\n\n<p>But i also need to append an OR into the current block.  So lets say that each field has a property called \"CheckBlank\" and if true, i need to add \" OR FieldX IS NULL\" how can this be done?  So i would expect to end up with SQL like this if Field1.CheckBlank was true, but Field2 CheckBlank is false</p>\n\n<pre><code>SELECT *\nFROM myTable\nWHERE (Field1 LIKE '%a%' OR Field1 LIKE '%b%' OR Field1 IS NULL)\n    AND (Field2 LIKE '%a%' OR Field2 LIKE '%b%')\n</code></pre>\n"}, {"tags": ["c#", ".net", "methods"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 1, "creation_date": 1435175881, "post_id": 31035775, "comment_id": 50095999, "body": "That&#39;s a big old code smell right there.  And it isn&#39;t a dupe, as he&#39;s looking for the <i>type</i> of the caller."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 1, "creation_date": 1435176062, "post_id": 31035775, "comment_id": 50096102, "body": "It&#39;s a weird and very suspect requirement. You usually want to (and easily can) constrain the Types being registered. Who does the registering should be of no concern to the registrar."}], "answers": [{"comments": [{"owner": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435179085, "post_id": 31035828, "comment_id": 50097718, "body": "Mr @JonSkeet: The AnimalContainer is the sink node in the references graph. Including the &quot;animal&#39;s Publisher&quot; on that node would break that property posible ending with cycle references."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435179519, "post_id": 31035828, "comment_id": 50097943, "body": "@mdarefull: Sorry, I don&#39;t follow that at all. By references do you mean assemy references or object references?"}, {"owner": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435179911, "post_id": 31035828, "comment_id": 50098168, "body": "Assembly reference, of course. The AnimalContainer should be accesible by every other object and the Factory Classes (the set of allowed types) should have references to all the objects. Putting both on the same assembly would create a cycle reference. Anyway, you were right when assumming what I&#39;m trying to acchieve. I&#39;m trying to code defensively. Surely I can create a &quot;convention&quot; about which types will register instances to the container, but what would happen if a new developer that doesn&#39;t know about this convention would try to publish instances in places and moments that aren&#39;t allowed"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435179991, "post_id": 31035828, "comment_id": 50098196, "body": "@mdarefull: If you can&#39;t trust new developers to read your documentation or to talk with the rest of the team - assuming this is your internal code - then there are bigger problems."}, {"owner": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435180077, "post_id": 31035828, "comment_id": 50098239, "body": "or simply aren&#39;t conceived by the original design of the solution. This would break something and would be very difficult to find the cause. By code-restricting the allowed types I avoid that situation."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435180193, "post_id": 31035828, "comment_id": 50098300, "body": "@mdarefull: Well without knowing more context it&#39;s hard to help you towards a less brittle design, but basically the feature you&#39;re asking for doesn&#39;t exist in C# - the access control you have is just in terms of private/protected/internal/public."}, {"owner": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435180617, "post_id": 31035828, "comment_id": 50098535, "body": "One can never be enough cautious right? In big Projects errors like that tends to happen very frequently. Trying to code defesinvely is my way to avoid as much as I can. Sometimes a &quot;No&quot; is also a valid answer. So I will mark your answer as the answer to my solution."}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 1, "last_activity_date": 1435175867, "creation_date": 1435175867, "answer_id": 31035828, "question_id": 31035775, "link": "https://stackoverflow.com/questions/31035775/how-to-determine-method-caller-type-at-run-time/31035828#31035828", "title": "How to determine method caller type at run time?", "body": "<p>Well, you could use reflection to access the stack trace - but that's slow, and in some cases I wouldn't be surprised if the JIT skipped some stack frames due to inlining.</p>\n\n<p>One option is to make the methods internal, and only include the \"allowed\" types within the same assembly. Or make the methods private, and only include the \"allowed\" types as nested types within the outer type.</p>\n\n<p>There isn't anything more fine-grained than that though - if you need more than the \"allowed\" types within the assembly, you should think about your trust model... how much control do you have over the other code that ends up in your assembly? If other people you don't trust can change that code, it's game over anyway, and they can undo any protection you add.</p>\n\n<p>If you're trying to prevent <em>accidentally</em> doing the wrong thing, you could use a Roslyn Code Diagnostic, potentially... but fundamentally there's only so far this sort of thing can take you.</p>\n"}, {"comments": [{"owner": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435178911, "post_id": 31035923, "comment_id": 50097633, "body": "Sorry but that gives me the MethodName, what I need is the Type of the instance that invoques my method."}], "tags": [], "owner": {"reputation": 27, "user_id": 272526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ededb1fc7074aa507b6a2666c845bbe2?s=128&d=identicon&r=PG", "display_name": "Oleksander Lubushyn", "link": "https://stackoverflow.com/users/272526/oleksander-lubushyn"}, "is_accepted": false, "score": 0, "last_activity_date": 1435176154, "creation_date": 1435176154, "answer_id": 31035923, "question_id": 31035775, "link": "https://stackoverflow.com/questions/31035775/how-to-determine-method-caller-type-at-run-time/31035923#31035923", "title": "How to determine method caller type at run time?", "body": "<p>StackTrace stackTrace = new StackTrace();\nConsole.WriteLine(stackTrace.GetFrame(1).GetMethod().Name);</p>\n"}, {"comments": [{"owner": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435178835, "post_id": 31036053, "comment_id": 50097589, "body": "Would you, please, design a different way for that requirement? Again. supose you have an AnimalContainer class (like a magazine), and then a set of, let&#39;s say, animal&#39;s stores. Only the Animal&#39;s stores can register animals to your &quot;magazine&quot;, and then, any other object (being it a person, another store, a restaurant) can get those animal&#39;s instances. How would you solve that requirement? What approach would you take?"}, {"owner": {"reputation": 2287, "user_id": 3697604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba861fd9c4a0282daf790ff90b75bfe?s=128&d=identicon&r=PG&f=1", "display_name": "willaien", "link": "https://stackoverflow.com/users/3697604/willaien"}, "reply_to_user": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435178903, "post_id": 31036053, "comment_id": 50097626, "body": "@mdarefull: Let any caller register any type, then constrain the actual Type to be added to be of the expected supertype."}, {"owner": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435179330, "post_id": 31036053, "comment_id": 50097851, "body": "I&#39;m sorry but I think you don&#39;t understand the problem. In fact, I don&#39;t care about the Types being registered, but about the Class that can register types."}, {"owner": {"reputation": 2287, "user_id": 3697604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba861fd9c4a0282daf790ff90b75bfe?s=128&d=identicon&r=PG&f=1", "display_name": "willaien", "link": "https://stackoverflow.com/users/3697604/willaien"}, "reply_to_user": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435179376, "post_id": 31036053, "comment_id": 50097880, "body": "Why does it matter who can register a type?"}, {"owner": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435179589, "post_id": 31036053, "comment_id": 50097984, "body": "Look the AnimalContainer as an Animal&#39;s Store. You want only the breeder to sells animals on the store. You don&#39;t want that anyone sells an animal. As a more valuable problem. Imagine you have an IoC container. Because you are coding defensively you don&#39;t want that anyone (but a selected set of &quot;special&quot; class) be able to register dependencies on the container. If another developer comes after you, and doesn&#39;t know that &quot;conventions&quot; then he may try to register an instance and posible breaking your Project."}, {"owner": {"reputation": 2287, "user_id": 3697604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba861fd9c4a0282daf790ff90b75bfe?s=128&d=identicon&r=PG&f=1", "display_name": "willaien", "link": "https://stackoverflow.com/users/3697604/willaien"}, "reply_to_user": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435179716, "post_id": 31036053, "comment_id": 50098061, "body": "And I can break your application by simply throwing in a <code>throw new Exception()</code>, I still don&#39;t see the value in restricting who can register things in an IOC world. If it matters that much to you, hoard the reference to the IOC container and make it a private variable of the thing allowed to add references. Or some such. (Or wrap it in a readonly container to pass around)"}, {"owner": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "edited": false, "score": 0, "creation_date": 1435180325, "post_id": 31036053, "comment_id": 50098369, "body": ":) Anyone can mistakenly asume because a method is public that can be called anywhere, certainly in very big projects. The developer that make the throw new Exception() is simply an idiot."}], "tags": [], "owner": {"reputation": 2287, "user_id": 3697604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba861fd9c4a0282daf790ff90b75bfe?s=128&d=identicon&r=PG&f=1", "display_name": "willaien", "link": "https://stackoverflow.com/users/3697604/willaien"}, "is_accepted": false, "score": 0, "last_activity_date": 1435176637, "creation_date": 1435176637, "answer_id": 31036053, "question_id": 31035775, "link": "https://stackoverflow.com/questions/31035775/how-to-determine-method-caller-type-at-run-time/31036053#31036053", "title": "How to determine method caller type at run time?", "body": "<p>This requirement smells bad, and I suspect that you'd be better off doing things differently. That said, the following code can <em>generally</em> get you the caller's type. I strongly recommend against it for various reasons (including the fact that it's slow, slightly error prone and did I mention that it's slow?</p>\n\n<p>Please think about what you're doing before you consume the following code.</p>\n\n<pre><code>[MethodImpl(MethodImplOptions.NoInlining)]\nprivate static Type GetCallerType()\n  int skipFrames = 2; //Assumes that you are calling this from the method being invoked by the caller. Add stack frames to skip for each method removed, and make sure each one is marked with [MethodImpl(MethodImplOptions.NoInlining)]\n  Type declaringType;\n  do\n  {\n    MethodBase method = new StackFrame(skipFrames, false).GetMethod();\n    declaringType = method.DeclaringType;\n    skipFrames++;\n  } while (declaringType.Module.Name.Equals(\"mscorlib.dll\", StringComparison.OrdinalIgnoreCase));\n  return declaringType;\n}\n</code></pre>\n\n<p>Code is based on <a href=\"https://github.com/NLog/NLog/blob/master/src/NLog/LogManager.cs\" rel=\"nofollow\">NLog's source code</a></p>\n"}], "owner": {"reputation": 561, "user_id": 1833622, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/Q6U0Z.jpg?s=128&g=1", "display_name": "mdarefull", "link": "https://stackoverflow.com/users/1833622/mdarefull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 814, "favorite_count": 0, "closed_date": 1435217563, "accepted_answer_id": 31035828, "answer_count": 3, "score": 0, "last_activity_date": 1435312782, "creation_date": 1435175640, "last_edit_date": 1495541161, "question_id": 31035775, "link": "https://stackoverflow.com/questions/31035775/how-to-determine-method-caller-type-at-run-time", "closed_reason": "Duplicate", "title": "How to determine method caller type at run time?", "body": "<p>I wish to know if there is a way for a method to determine, at run time, the type that invokes it.</p>\n\n<p>[UPD2]\nFor this particular case I'm interested in the Type of the caller only, not the name of the method, so, other similar questions like <a href=\"https://stackoverflow.com/questions/171970/how-can-i-find-the-method-that-called-the-current-method\">How can I find the method that called the current method?</a> or <a href=\"https://stackoverflow.com/questions/615940\">Retrieving the calling method name from within a method</a> doesn't solve my problem.</p>\n\n<p>For the sake of simplicity, let's assume I have a class named <code>AnimalContainer</code>. \nAt its initialization its constructor will receive a list of allowed types: The types who are allowed to register animals to the container.</p>\n\n<p>The goal of this class (something like an IoC Container) is to serve as a container for any type who wish to retrieve an instance of a particular animal. The restriction is that only an arbitrary set of types should be able to register animals to the container. Then, if a non-allowed type calls the method, the method would return an <code>InvalidOperationException</code></p>\n\n<p>Expecting a Type or an object parameter:</p>\n\n<pre><code>void RegisterAnimal(Type callerType, Animal animal) {...}\n// Or\nvoid RegisterAnimal(object invoker, Animal animal) {...}\n</code></pre>\n\n<p>These won't work because the invoker is not restricted to specify its own type (or instance). For example:</p>\n\n<pre><code>// Inside class A:\nanimalContainer.RegisterAnimal(typeof(B), anyAnimal);\n</code></pre>\n\n<p>[UPD1]\nI've seen many answers stating that this seems so be a bad approach. If you consider so, would you suggest another way? In general terms, What I'm trying to achieve is to code defensively.\nI surely can have, by convention, the set of Types that are allowed to register animals in that container. What would happen, is any other developer, who aren't aware of this convetions, try to register an animal inside a class doesn't suppose to be doing that? It will be doing something that the design isn't expecting, so, most probably will end up by introducing some erros.\nThis is just the simpler example I could find (The AnimalContainer) but it can be extended to a huge set of situations:</p>\n\n<ol>\n<li>Having a set of controllers clases that would register dependencies into an IoC Container.</li>\n<li>Having a MessageContainer that register publishers and subscriptor for messages between different types (decouple the fact that an event subscriber should know who is publishing the event). And then specifying that only a set of types can publish a given message.\nEx: Any class can listen for NewAnimalArrive message, but only a specific set of clases can fire that event.</li>\n</ol>\n"}, {"tags": ["c#", "visual-studio", "unit-testing"], "answers": [{"tags": [], "owner": {"reputation": 10223, "user_id": 592182, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fu0me.jpg?s=128&g=1", "display_name": "forsvarir", "link": "https://stackoverflow.com/users/592182/forsvarir"}, "is_accepted": false, "score": 0, "last_activity_date": 1435185291, "creation_date": 1435185291, "answer_id": 31038302, "question_id": 31035684, "link": "https://stackoverflow.com/questions/31035684/implement-a-custom-exception-that-fails-a-unit-test-as-inconclusive/31038302#31038302", "title": "Implement a Custom Exception that Fails a Unit Test as Inconclusive", "body": "<p>The Inconclusive recognition is built into the test framework, by the time you get to cleanup, it's too late to change a fail into an inconclusive.</p>\n\n<p>It feels like you should really be catching the exceptions from within your integration tests anyway, since this shows that you're recognising the method your testing can throw a certain type of exception and that the right thing to do is to ignore the result in that situation.</p>\n\n<p>If you need to have multiple exceptions that can be detected like this, I'd be tempted to have them implement an interface, so that the catch block can just check if any exceptions caught implement that interface.</p>\n\n<p>If you wanted to minimize the impact/visibility on the rest of your test code then you could wrap the call that could fail in an action, in which case your code might look something like this:</p>\n\n<p>The interface:</p>\n\n<pre><code>public interface ISomeNonCriticalException {\n}\n</code></pre>\n\n<p>The Caller code:</p>\n\n<pre><code>public void CallPossiblyInconclusiveMethod(Action something) {\n    try {\n        something();\n    }\n    catch (Exception ex) {\n        if (ex is ISomeNonCriticalException) Assert.Inconclusive();\n        else throw;\n    }\n}\n</code></pre>\n\n<p>And in your test:</p>\n\n<pre><code>CallPossiblyInconclusiveMethod(()=&gt;SomeMethodThatMightFail());\n</code></pre>\n"}], "owner": {"reputation": 765, "user_id": 1710693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f01a194ce369358dbcddd235fcb1c4a4?s=128&d=identicon&r=PG", "display_name": "LiamK", "link": "https://stackoverflow.com/users/1710693/liamk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435185291, "creation_date": 1435175332, "question_id": 31035684, "link": "https://stackoverflow.com/questions/31035684/implement-a-custom-exception-that-fails-a-unit-test-as-inconclusive", "title": "Implement a Custom Exception that Fails a Unit Test as Inconclusive", "body": "<p>Using the test tools built into Visual Studio (in my case VS 2013, though I believe this extends to other versions as well), a 'TestMethod' (any method marked with a <code>[TestMethod]</code> attribute) can result in 1 of 3 statuses after being run:</p>\n\n<ul>\n<li>Passed</li>\n<li>Skipped/Inconclusive</li>\n<li>Failed</li>\n</ul>\n\n<p>A test is passed if it runs to completion with no uncaught exceptions. A test fails it throws an uncaught exception. A test is inconclusive if it throws a special type of uncaught exception: <code>AssertInconclusiveException</code>.</p>\n\n<p>My question is, is it possible (in, say, a <code>[TestCleanup]</code> method) to treat an custom uncaught exception similarly to the <code>AssertInconclusiveException</code> and set the test status to 'Inconclusive' instead of 'Failed'? Or is the recognition of <code>AssertInconclusiveException</code> as a special exception built into Visual Studio itself? What I'm looking for, in rough pseudocode form, is roughly:</p>\n\n<pre><code>[TestCleanup]\npublic void TestCleanup()\n{\n    if(this.TestContext.CurrentTestOutcome == UnitTestOutcome.Failed \n        &amp;&amp; this.TestContext.UncaughtException.GetType() == typeof(MyCustomException))\n    {\n        this.TestContext.CurrentTestOutcome = UnitTestOutcome.Inconclusive;\n    }\n}\n</code></pre>\n\n<p>This would be used as part of an integration test suite to mark a test as inconclusive whenever the setup method for the test throws a special <code>SetupFailureException</code> (usually indicative of broken downstream system that is not the one under test).</p>\n\n<p>I've been able to produce the desired behavior in the interim by defining:</p>\n\n<pre><code>public class SetupFailedException : AssertInconclusiveException\n{\n}\n\n// example test that demonstrates desired behavior\n[TestMethod]\npublic void TestThatFailsAsInconclusiveByThrowingUncaughtSpecialException()\n{\n    throw new SetupFailedException();\n}\n</code></pre>\n\n<p>But this seems messy since the thrown exception has nothing to do with an assertion and prevents custom exceptions which should fail tests as inconclusive from inheriting from any other abstract class.</p>\n"}, {"tags": ["c#", "task-parallel-library", "sparse-matrix"], "comments": [{"owner": {"reputation": 3089, "user_id": 2637050, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3INgK.png?s=128&g=1", "display_name": "a-ctor", "link": "https://stackoverflow.com/users/2637050/a-ctor"}, "edited": false, "score": 0, "creation_date": 1435175673, "post_id": 31035657, "comment_id": 50095849, "body": "You could use a second <code>Parallel.ForEach</code>. I don&#39;t know if it makes a huge difference but its worth a shot"}, {"owner": {"reputation": 33, "user_id": 2152420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45a444320cf30e8ae043e3afafba0c8b?s=128&d=identicon&r=PG", "display_name": "Bermy Dev", "link": "https://stackoverflow.com/users/2152420/bermy-dev"}, "reply_to_user": {"reputation": 3089, "user_id": 2637050, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3INgK.png?s=128&g=1", "display_name": "a-ctor", "link": "https://stackoverflow.com/users/2637050/a-ctor"}, "edited": false, "score": 0, "creation_date": 1435176955, "post_id": 31035657, "comment_id": 50096586, "body": "Gave that a try, unfortunately no luck. I also tried the partitioner, and saw negligible gains. The row calculation takes about 2 seconds whereas the column calculation takes roughly 14 seconds. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 2152420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45a444320cf30e8ae043e3afafba0c8b?s=128&d=identicon&r=PG", "display_name": "Bermy Dev", "link": "https://stackoverflow.com/users/2152420/bermy-dev"}, "edited": false, "score": 0, "creation_date": 1435180203, "post_id": 31036093, "comment_id": 50098307, "body": "This is looking good so far, I will need to test it a bit more, but seems to have cut the column calculation time in half =)"}, {"owner": {"reputation": 33, "user_id": 2152420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45a444320cf30e8ae043e3afafba0c8b?s=128&d=identicon&r=PG", "display_name": "Bermy Dev", "link": "https://stackoverflow.com/users/2152420/bermy-dev"}, "edited": false, "score": 0, "creation_date": 1435180786, "post_id": 31036093, "comment_id": 50098607, "body": "This works well, I figured it was a contention issue, but I did not know it could be handled so elegantly. Thanks!"}, {"owner": {"reputation": 95903, "user_id": 314291, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e155276fa30aebfcbd9280d07fd1ddf8?s=128&d=identicon&r=PG", "display_name": "StuartLC", "link": "https://stackoverflow.com/users/314291/stuartlc"}, "reply_to_user": {"reputation": 33, "user_id": 2152420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45a444320cf30e8ae043e3afafba0c8b?s=128&d=identicon&r=PG", "display_name": "Bermy Dev", "link": "https://stackoverflow.com/users/2152420/bermy-dev"}, "edited": false, "score": 0, "creation_date": 1435212552, "post_id": 31036093, "comment_id": 50107642, "body": "Your mileage will vary quite wildly, depending on the amount of column contention. I&#39;ve put some code <a href=\"https://gist.github.com/nonnb/4e5605983f8c282be31d\" rel=\"nofollow noreferrer\">up here</a>. If there is little or no column contention (i.e. very very sparse matrix, or very few rows) then your <code>ColumnSum</code> will outperform."}], "tags": [], "owner": {"reputation": 95903, "user_id": 314291, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e155276fa30aebfcbd9280d07fd1ddf8?s=128&d=identicon&r=PG", "display_name": "StuartLC", "link": "https://stackoverflow.com/users/314291/stuartlc"}, "is_accepted": true, "score": 4, "last_activity_date": 1435178822, "last_edit_date": 1435178822, "creation_date": 1435176824, "answer_id": 31036093, "question_id": 31035657, "link": "https://stackoverflow.com/questions/31035657/c-improve-parallel-performance-of-sparse-matrix-row-and-column-total-calculatio/31036093#31036093", "title": "C# Improve parallel performance of Sparse Matrix Row and Column Total Calculations", "body": "<p>What could be happening is that there is contention for the centralized <code>ConcurrentDictionary</code>. If this is the case, you could try the <code>localInit</code> overload of <code>Parallel.ForEach</code>, to give each Task batch its own local (and uncontended) <code>Dictionary</code>, which is then aggregated into the central dictionary at the end:</p>\n\n<pre><code>var columnTotals = new ConcurrentDictionary&lt;int, decimal&gt;();\n\nParallel.ForEach(MyMatrix,\n    // Each Task gets own dictionary\n    () =&gt; new Dictionary&lt;int, decimal&gt;(),\n    (row, state, colTots) =&gt;\n    {\n        foreach (var column in row.Value)\n        {\n            if (!colTots.ContainsKey(column.Key))\n            {\n                colTots[column.Key] = column.Value;\n            }\n            else\n            {\n                colTots[column.Key] += column.Value;\n            }\n        }\n        return colTots;\n    },\n    colTots =&gt;\n    {\n        // Aggregate the dictionaries\n        foreach (var column in colTots)\n        {\n            columnTotals.AddOrUpdate(column.Key, column.Value, \n                (key, old) =&gt; old + column.Value);\n        }\n    });\n</code></pre>\n\n<p><strong>Edit</strong> </p>\n\n<p>Some timings (10M populated elements in a 100000 x 100000 space)</p>\n\n<ul>\n<li>Your RowSum 425ms</li>\n<li>Your ColumnSum 7774ms</li>\n<li>localInit ColumnSum 3324ms</li>\n</ul>\n\n<p>So still an order of magnitude slower than the row sums, but looks like a reasonable improvement.</p>\n\n<p>(Was also bug in my Dictionary usage)</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 2152420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45a444320cf30e8ae043e3afafba0c8b?s=128&d=identicon&r=PG", "display_name": "Bermy Dev", "link": "https://stackoverflow.com/users/2152420/bermy-dev"}, "edited": false, "score": 0, "creation_date": 1435177673, "post_id": 31036205, "comment_id": 50096974, "body": "Yes, sorry about that will edit the question. Yeah I tried the tuple before, but as you said the speed gets hit."}], "tags": [], "owner": {"reputation": 154, "user_id": 5045192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c074d2dd4c01c7fecbdde35ee1047e4c?s=128&d=identicon&r=PG&f=1", "display_name": "RayCW", "link": "https://stackoverflow.com/users/5045192/raycw"}, "is_accepted": false, "score": 1, "last_activity_date": 1435177189, "creation_date": 1435177189, "answer_id": 31036205, "question_id": 31035657, "link": "https://stackoverflow.com/questions/31035657/c-improve-parallel-performance-of-sparse-matrix-row-and-column-total-calculatio/31036205#31036205", "title": "C# Improve parallel performance of Sparse Matrix Row and Column Total Calculations", "body": "<p>I think that </p>\n\n<pre><code> Parallel.ForEach(MyMatrix, (row) =&gt;\n   {\n        foreach (var column in row.Value)\n        {\n            columnTotals.AddOrUpdate(column.Key, 0, (key, old) =&gt; old + column.Value);\n        }\n   });\n</code></pre>\n\n<p>should be</p>\n\n<pre><code> Parallel.ForEach(MyMatrix, (row) =&gt;\n   {\n        foreach (var column in row.Value)\n        {\n            columnTotals.AddOrUpdate(column.Key, column.value, (key, old) =&gt; old + column.Value);\n        }\n   });\n</code></pre>\n\n<p>I think that you can make the performance more symmetrical (<strong>but not faster</strong>) by starting with a <code>public IDictionary&lt;Tuple&lt;int, int&gt;, decimal&gt; MyMatrix { get; private set; }</code></p>\n"}, {"tags": [], "owner": {"reputation": 1570, "user_id": 5008193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iOKgE.jpg?s=128&g=1", "display_name": "Graffito", "link": "https://stackoverflow.com/users/5008193/graffito"}, "is_accepted": false, "score": 0, "last_activity_date": 1435179950, "last_edit_date": 1435179950, "creation_date": 1435179565, "answer_id": 31036925, "question_id": 31035657, "link": "https://stackoverflow.com/questions/31035657/c-improve-parallel-performance-of-sparse-matrix-row-and-column-total-calculatio/31036925#31036925", "title": "C# Improve parallel performance of Sparse Matrix Row and Column Total Calculations", "body": "<p><strong>If</strong> the difference between the highest and lowest column values is sufficiently low to create a simple int array, you may proceed as follow:</p>\n\n<p>Identify the highest and lowest value to further create a correspondence array associating to each column value an index in the 2 arrays used for summing the value, i.e an array storing the column values and, in parallel, the Columns Totals.</p>\n\n<p>Your code will look like:</p>\n\n<pre><code>private void ColumnSum()\n{\n   int highestKeyValue=int.MinValue;\n   int lowestKeyValue =int.MaxValue;\n   Parallel.ForEach(MyMatrix, (row) =&gt;\n   { // identify highest and lowest column value\n     foreach (var column in row.Value) \n     {\n       lowest =Math.Min(lowestKeyValue ,column.Key) ; \n       highest=Math.Max(highestKeyValue,column.Key) ; \n      }\n   // Create correspondence array \n   int[] corrrespondence=new int[highestKeyValue-lowestKeyValue]; \n   for (int i=0;i&lt;highest-lowest;i++) corrrespondence[i]=-1 ; \n   Parallel.ForEach(MyMatrix, (row) =&gt;\n   { // tag the key values found in matrix\n     foreach (var column in row.Value) corrrespondence[column.Key-lowest]=0 ; \n   }\n   int columnsCount=0 ;\n   // compute the indexes to result arrays\n   for (int i=0;i&lt;highest-lowest;i++) \n     if (corrrespondence[i]&gt;=0) corrrespondence[i]=columnsCount++  ; \n   // allocate and initialize results array\n   int[] columnValues=new int[columnsCount]() ;\n   int[] columnTotals=new int[columnsCount]() ;\n   for (int i=0;i&lt;columnsCount;i++) columnTotals[i]=0 ; \n   Parallel.ForEach(MyMatrix, (row) =&gt;\n   {\n     foreach (var column in row.Value)\n     {\n       int j=correspondence[column.Key-lowest] ;\n       // a lock on results[j] is required there to avoid concurrent update of results[j] \n       columnValues[j]=column.Key ;\n       columnTotals[j]+=column.Value ;\n     }\n   }\n }\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 2152420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45a444320cf30e8ae043e3afafba0c8b?s=128&d=identicon&r=PG", "display_name": "Bermy Dev", "link": "https://stackoverflow.com/users/2152420/bermy-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 0, "accepted_answer_id": 31036093, "answer_count": 3, "score": 2, "last_activity_date": 1438061479, "creation_date": 1435175203, "last_edit_date": 1438061479, "question_id": 31035657, "link": "https://stackoverflow.com/questions/31035657/c-improve-parallel-performance-of-sparse-matrix-row-and-column-total-calculatio", "title": "C# Improve parallel performance of Sparse Matrix Row and Column Total Calculations", "body": "<p>I have a sparse matrix containing roughly 100 million non-zero elements:</p>\n\n<pre><code>// [Row][Column][Element]\npublic IDictionary&lt;int, IDictionary&lt;int, decimal&gt;&gt; MyMatrix { get; private set; }\n</code></pre>\n\n<p>Getting the sum of each row is very fast:</p>\n\n<pre><code>private void RowSum()\n{\n    var rowTotals = new ConcurrentDictionary&lt;int, decimal&gt;();\n\n    Parallel.ForEach(MyMatrix, (row) =&gt;\n    {\n         rowTotals.TryAdd(row.Key, row.Value.Sum(x =&gt; x.Value));\n    });\n}\n</code></pre>\n\n<p>Getting the sum of each column is much slower: </p>\n\n<pre><code>private void ColumnSum()\n{\n   var columnTotals = new ConcurrentDictionary&lt;int, decimal&gt;();\n\n   Parallel.ForEach(MyMatrix, (row) =&gt;\n   {\n        foreach (var column in row.Value)\n        {\n            columnTotals.AddOrUpdate(column.Key, column.Value, \n                 (key, old) =&gt; old + column.Value);\n        }\n   });\n}\n</code></pre>\n\n<p>To make column calculations faster, I could create a [Column][Row][Element] matrix, but that would double the RAM requirement. Is there any approach or data structure that would allow for the column calculations to be as fast as the row calculations, without doubling the ram?</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 4012, "user_id": 1936825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a335e4999f3e77e21ead9ff2ea1b284d?s=128&d=identicon&r=PG", "display_name": "Gjeltema", "link": "https://stackoverflow.com/users/1936825/gjeltema"}, "edited": false, "score": 5, "creation_date": 1435175000, "post_id": 31035577, "comment_id": 50095432, "body": "Change the parentheses to curly braces."}], "answers": [{"tags": [], "owner": {"reputation": 1112, "user_id": 1569005, "user_type": "registered", "profile_image": "https://graph.facebook.com/1470953136/picture?type=large", "display_name": "lem2802", "link": "https://stackoverflow.com/users/1569005/lem2802"}, "is_accepted": true, "score": 4, "last_activity_date": 1435175180, "creation_date": 1435175180, "answer_id": 31035648, "question_id": 31035577, "link": "https://stackoverflow.com/questions/31035577/c-assign-to-dictionary-upon-instantiating/31035648#31035648", "title": "C# assign to dictionary upon instantiating", "body": "<pre><code>Dictionary&lt;int, string&gt; myDictionary = new Dictionary&lt;int, string&gt;()\n{\n    {0, \"first\"},\n    {1, \"second\"}\n};\n</code></pre>\n"}], "owner": {"reputation": 4670, "user_id": 2658159, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7ca457ff473ed766a9c140f9956c910a?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Thomas", "link": "https://stackoverflow.com/users/2658159/aaron-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1435175738, "accepted_answer_id": 31035648, "answer_count": 1, "score": 0, "last_activity_date": 1435175180, "creation_date": 1435174922, "question_id": 31035577, "link": "https://stackoverflow.com/questions/31035577/c-assign-to-dictionary-upon-instantiating", "closed_reason": "Duplicate", "title": "C# assign to dictionary upon instantiating", "body": "<p>What's the best way to assign to a dictionary when instantiating?</p>\n\n<p>For example, how can I do to <code>myDictionary</code> below what I've done with <code>myList</code>?</p>\n\n<pre><code>Dictionary&lt;int, string&gt; myDictionary = new Dictionary&lt;int, string&gt;()\n{\n    // this does not work. how to make it work?\n    (0, \"first\"),\n    (1, \"second\")\n};\n\n// here's how it's done with List&lt;T&gt;\nList&lt;Int32&gt; myList = new List&lt;int&gt;(){\n    1,\n    2,\n    3\n};\n</code></pre>\n"}, {"tags": ["c#", "winforms", "search", "hash", "onedrive"], "answers": [{"tags": [], "owner": {"reputation": 1442, "user_id": 533057, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/hE7wt.jpg?s=128&g=1", "display_name": "Peter Nied", "link": "https://stackoverflow.com/users/533057/peter-nied"}, "is_accepted": false, "score": 0, "last_activity_date": 1435250699, "creation_date": 1435250699, "answer_id": 31056145, "question_id": 31035544, "link": "https://stackoverflow.com/questions/31035544/how-to-search-by-file-hash-using-onedrive-sdk/31056145#31056145", "title": "How to search by file hash using OneDrive SDK", "body": "<p>OneDrive does not support searching by hash.</p>\n\n<p>If you are looking to de-dupe multiple times I would recommend using the <a href=\"https://dev.onedrive.com/items/view_changes.htm\" rel=\"nofollow\">view.changes api</a> to see the files that have been updated.</p>\n\n<p><code>GET https://api.onedrive.com/v1.0/drive/root/view.changes?select=id,file\n</code></p>\n\n<p>This query has been altered so it will just return the item ids and the file facets for all items in the  drive</p>\n\n<p><code>{\n    ...\n    \"value\": [{\n        \"id\": \"DA56136E!124\"\n    },\n    {\n        \"id\": \"DA56136E!178\",\n        \"file\": {\n            \"hashes\": {\n                \"crc32Hash\": \"838920AE\",\n                \"sha1Hash\": \"23DCC6D4B5BFE00357FD0248BB5955B8E36BB8F1\"\n            },\n            \"mimeType\": \"image/gif\"\n        }\n    },\n    ...\n</code></p>\n\n<p>After following the @odata.nextLink until you've enumerated the entire set of files you should have all of the item id's in the drive along with the sha1 or crc32 that matches those files.  Then you can perform your cleanup process to remove the files that have been duplicated.</p>\n\n<p>If you preserve the @changes.token then you can make future calls and only see the files that have changed since the last time you preformed a de-dupe and be confidant of the clean state of the drive.</p>\n"}], "owner": {"reputation": 345, "user_id": 217463, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sg9Od.jpg?s=128&g=1", "display_name": "amb9800", "link": "https://stackoverflow.com/users/217463/amb9800"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 925, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1435250699, "creation_date": 1435174781, "question_id": 31035544, "link": "https://stackoverflow.com/questions/31035544/how-to-search-by-file-hash-using-onedrive-sdk", "title": "How to search by file hash using OneDrive SDK", "body": "<p>Part of a program I'm writing needs to connect to OneDrive and de-duplicate files (there's a folder that has lots of files, many of which are also found elsewhere in the user's OneDrive, possibly under a different file name).</p>\n\n<p>So given a particular file, I need a way to search for duplicates (and if they exist, I'll delete the first file). OneDrive provides a file hash; I just need to be able to search by that to find dupes.</p>\n\n<p>The OneDrive Explorer C# sample (<a href=\"https://github.com/OneDrive/onedrive-explorer-win\" rel=\"nofollow\">https://github.com/OneDrive/onedrive-explorer-win</a>) shows how to implement search, but the search seems only index file names, contents, and tags -- not hashes.</p>\n\n<p>Any way to search by hash? Otherwise I suppose I'll need to recursively go through every item in the user's OneDrive and compare the hash...</p>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 14727, "user_id": 261682, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2443cd165426e35f7edcbd0caccab0d?s=128&d=identicon&r=PG", "display_name": "webnoob", "link": "https://stackoverflow.com/users/261682/webnoob"}, "edited": false, "score": 0, "creation_date": 1435174763, "post_id": 31035478, "comment_id": 50095301, "body": "Just fixed my example - It wasn&#39;t in line with my requirements listed."}, {"owner": {"reputation": 3968, "user_id": 1180926, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/23f5f41abe66d5c15827867c78d0ad53?s=128&d=identicon&r=PG", "display_name": "Arithmomaniac", "link": "https://stackoverflow.com/users/1180926/arithmomaniac"}, "edited": false, "score": 0, "creation_date": 1435174996, "post_id": 31035478, "comment_id": 50095430, "body": "Try lookbehind instead? <a href=\"http://stackoverflow.com/a/521172/1180926\">stackoverflow.com/a/521172/1180926</a>"}, {"owner": {"reputation": 14727, "user_id": 261682, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2443cd165426e35f7edcbd0caccab0d?s=128&d=identicon&r=PG", "display_name": "webnoob", "link": "https://stackoverflow.com/users/261682/webnoob"}, "reply_to_user": {"reputation": 3968, "user_id": 1180926, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/23f5f41abe66d5c15827867c78d0ad53?s=128&d=identicon&r=PG", "display_name": "Arithmomaniac", "link": "https://stackoverflow.com/users/1180926/arithmomaniac"}, "edited": false, "score": 0, "creation_date": 1435175071, "post_id": 31035478, "comment_id": 50095481, "body": "The problem with a look behind is the char I need to keep ends up on the wrong line and from my tests, I still can&#39;t get the results I need."}], "answers": [{"comments": [{"owner": {"reputation": 14727, "user_id": 261682, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2443cd165426e35f7edcbd0caccab0d?s=128&d=identicon&r=PG", "display_name": "webnoob", "link": "https://stackoverflow.com/users/261682/webnoob"}, "edited": false, "score": 0, "creation_date": 1435175208, "post_id": 31035621, "comment_id": 50095560, "body": "Legend! Thanks very much, works perfectly. I wasn&#39;t too far off in my second test locally so I&#39;ll take some satisfaction in that ;) I&#39;ll mark it as the answer when I&#39;m allow. Thanks again for your time."}], "tags": [], "owner": {"reputation": 8751, "user_id": 1265182, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dd2835f92c5cdd2222afa06763e294c5?s=128&d=identicon&r=PG&f=1", "display_name": "Shar1er80", "link": "https://stackoverflow.com/users/1265182/shar1er80"}, "is_accepted": true, "score": 2, "last_activity_date": 1435175102, "creation_date": 1435175102, "answer_id": 31035621, "question_id": 31035478, "link": "https://stackoverflow.com/questions/31035478/splitting-a-string-using-regex-categorybobcookshop/31035621#31035621", "title": "Splitting a string using regex: *category**bob*!cookshop", "body": "<p>Try this...</p>\n\n<pre><code>var tests = new List&lt;string&gt; \n{\n    \"*foo**bar*!bob\",\n    \"*foo*!42\",\n    \"!foo*bar*\"\n};\n\nforeach (var expression in tests)\n{\n    var strings = Regex.Split(expression, @\"(?=[!])|(\\*[^\\*]+\\*)\").Where(exp =&gt; !String.IsNullOrEmpty(exp));\n    Console.WriteLine(String.Join(Environment.NewLine, strings));\n}\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>*foo*\n*bar*\n!bob\n*foo*\n!42\n!foo\n*bar*\n</code></pre>\n"}], "owner": {"reputation": 14727, "user_id": 261682, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2443cd165426e35f7edcbd0caccab0d?s=128&d=identicon&r=PG", "display_name": "webnoob", "link": "https://stackoverflow.com/users/261682/webnoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 31035621, "answer_count": 1, "score": 1, "last_activity_date": 1435175102, "creation_date": 1435174546, "question_id": 31035478, "link": "https://stackoverflow.com/questions/31035478/splitting-a-string-using-regex-categorybobcookshop", "title": "Splitting a string using regex: *category**bob*!cookshop", "body": "<p>This is what I have been trying so far. Basically, I want to split the string but <strong>keep</strong> the separator. My regex knowledge is very limited but I've been trying using a forward lookup to match the expression. Whenever I try to introduce <code>\\*1</code> into the string split, it goes badly so I'm not sure what to do and if this is possible.</p>\n\n<pre><code>var tests = new List&lt;string&gt; \n{\n    \"*foo**bar*!bob\",\n    \"*foo*!42\",\n    \"!foo*bar*\"\n};\n\nforeach (var expression in tests)\n{\n    var strings = Regex.Split(expression, @\"(?=[!])\");\n    Console.WriteLine(String.Join(Environment.NewLine, strings));\n}\n</code></pre>\n\n<p>1st line:</p>\n\n<pre><code>*foo**bar*\n!bob\n</code></pre>\n\n<p>2nd Line (this is working as expected)</p>\n\n<pre><code>*foo*\n!42\n</code></pre>\n\n<p>3rd line</p>\n\n<pre><code>{EMPTY LINE}\n!foo*bar*\n</code></pre>\n\n<p>But I'm <em>trying</em> to get back is:</p>\n\n<p>1st line</p>\n\n<pre><code>*foo*\n*bar*\n!bob\n</code></pre>\n\n<p>2nd line - As Above (this is correct)</p>\n\n<p>3rd line</p>\n\n<pre><code>!foo\n*bar*\n</code></pre>\n"}, {"tags": ["c#", "network-programming"], "comments": [{"owner": {"reputation": 41122, "user_id": 2101267, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/06383b51463f855d7cc0f07d4566bd42?s=128&d=identicon&r=PG", "display_name": "Dark Falcon", "link": "https://stackoverflow.com/users/2101267/dark-falcon"}, "edited": false, "score": 0, "creation_date": 1435174897, "post_id": 31035468, "comment_id": 50095372, "body": "The usual approach is to employ compression (such as H.264) to reduce the size of the data sent."}, {"owner": {"reputation": 8956, "user_id": 465558, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6bef631b2e4da7009c8e1483e1222c9c?s=128&d=identicon&r=PG", "display_name": "Yanshof", "link": "https://stackoverflow.com/users/465558/yanshof"}, "reply_to_user": {"reputation": 41122, "user_id": 2101267, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/06383b51463f855d7cc0f07d4566bd42?s=128&d=identicon&r=PG", "display_name": "Dark Falcon", "link": "https://stackoverflow.com/users/2101267/dark-falcon"}, "edited": false, "score": 0, "creation_date": 1435175032, "post_id": 31035468, "comment_id": 50095452, "body": "There is no way to compression - this is something that i can&#39;t control and handle with :("}, {"owner": {"reputation": 1570, "user_id": 5008193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iOKgE.jpg?s=128&g=1", "display_name": "Graffito", "link": "https://stackoverflow.com/users/5008193/graffito"}, "edited": false, "score": 0, "creation_date": 1435175045, "post_id": 31035468, "comment_id": 50095463, "body": "Try to sgnificantly increase listener.Client.ReceiveBufferSize"}, {"owner": {"reputation": 41122, "user_id": 2101267, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/06383b51463f855d7cc0f07d4566bd42?s=128&d=identicon&r=PG", "display_name": "Dark Falcon", "link": "https://stackoverflow.com/users/2101267/dark-falcon"}, "edited": false, "score": 0, "creation_date": 1435175077, "post_id": 31035468, "comment_id": 50095484, "body": "@Yanshof: I don&#39;t believe you."}, {"owner": {"reputation": 8956, "user_id": 465558, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6bef631b2e4da7009c8e1483e1222c9c?s=128&d=identicon&r=PG", "display_name": "Yanshof", "link": "https://stackoverflow.com/users/465558/yanshof"}, "edited": false, "score": 0, "creation_date": 1435175375, "post_id": 31035468, "comment_id": 50095660, "body": "Graffito@ thanks ... i try but this is not help"}], "answers": [{"comments": [{"owner": {"reputation": 8956, "user_id": 465558, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6bef631b2e4da7009c8e1483e1222c9c?s=128&d=identicon&r=PG", "display_name": "Yanshof", "link": "https://stackoverflow.com/users/465558/yanshof"}, "edited": false, "score": 0, "creation_date": 1435177451, "post_id": 31036230, "comment_id": 50096855, "body": "no can do ... the deserilaize take 0.459 milliseconds (less then one milliseconds) - so this is not the problem"}, {"owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "reply_to_user": {"reputation": 8956, "user_id": 465558, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6bef631b2e4da7009c8e1483e1222c9c?s=128&d=identicon&r=PG", "display_name": "Yanshof", "link": "https://stackoverflow.com/users/465558/yanshof"}, "edited": false, "score": 0, "creation_date": 1435178116, "post_id": 31036230, "comment_id": 50097212, "body": "You said you are receiving at an image every 30 milliseconds, 951000/1500 = 634, 634 * .459 = 291.006. This means you are spending 291 milliseconds deserializing when you need to be ready for the next frame every 30 milliseconds. How can shaving almost 300 milliseconds off your image processing time not help?"}, {"owner": {"reputation": 8956, "user_id": 465558, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6bef631b2e4da7009c8e1483e1222c9c?s=128&d=identicon&r=PG", "display_name": "Yanshof", "link": "https://stackoverflow.com/users/465558/yanshof"}, "edited": false, "score": 0, "creation_date": 1435178254, "post_id": 31036230, "comment_id": 50097299, "body": "i cant do it without the deserialize. i must know and update the gui in case sime packate didnt get to me or lost."}, {"owner": {"reputation": 8956, "user_id": 465558, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6bef631b2e4da7009c8e1483e1222c9c?s=128&d=identicon&r=PG", "display_name": "Yanshof", "link": "https://stackoverflow.com/users/465558/yanshof"}, "edited": false, "score": 0, "creation_date": 1435178325, "post_id": 31036230, "comment_id": 50097337, "body": "and the other side is not stopping send :-("}, {"owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "reply_to_user": {"reputation": 8956, "user_id": 465558, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6bef631b2e4da7009c8e1483e1222c9c?s=128&d=identicon&r=PG", "display_name": "Yanshof", "link": "https://stackoverflow.com/users/465558/yanshof"}, "edited": false, "score": 0, "creation_date": 1435178511, "post_id": 31036230, "comment_id": 50097446, "body": "That is why you check the first int in the first package in the list and compare to the list.count, if they don&#39;t match you lost packages. If you check after each image is received, and you are getting images at 1 every 30 milliseconds, you are going to know packages are missing in, at most, 30 milliseconds."}, {"owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "reply_to_user": {"reputation": 8956, "user_id": 465558, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6bef631b2e4da7009c8e1483e1222c9c?s=128&d=identicon&r=PG", "display_name": "Yanshof", "link": "https://stackoverflow.com/users/465558/yanshof"}, "edited": false, "score": 0, "creation_date": 1435178602, "post_id": 31036230, "comment_id": 50097492, "body": "The other side not stopping send is another reason you dont need to check after each package, What difference will it make if you know a package is missing in 20 milliseconds as opposed to 30 milliseconds, they are going to send until they have sent them all anyway."}, {"owner": {"reputation": 8956, "user_id": 465558, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6bef631b2e4da7009c8e1483e1222c9c?s=128&d=identicon&r=PG", "display_name": "Yanshof", "link": "https://stackoverflow.com/users/465558/yanshof"}, "edited": false, "score": 0, "creation_date": 1435200002, "post_id": 31036230, "comment_id": 50104056, "body": "sorry .. this is totally not the problem. I already do it now ... check only the first int on the incoming package"}], "tags": [], "owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "is_accepted": false, "score": 0, "last_activity_date": 1435177271, "creation_date": 1435177271, "answer_id": 31036230, "question_id": 31035468, "link": "https://stackoverflow.com/questions/31035468/lost-of-packages-on-udpclient-receiver/31036230#31036230", "title": "lost of packages on UdpClient receiver", "body": "<p>Don't deserialize each package to an intermediate class after recieve. </p>\n\n<p>Create a List of byte arrays and stuff them all in there as they come in. </p>\n\n<p>Once the other side finishes sending, look in the first one to find the total count and see if the List.Count matches the total count. </p>\n\n<p>If it does, you have all of the packages, now you can reassemble the image, just disregard the headers, you don't need them anymore.</p>\n\n<p>Since you don't need anything at this point but the data from each packet, assembling the image should be faster (no serialization to an intermediate class involved anymore).</p>\n\n<p>This should minimize the processing required for each image.</p>\n"}], "owner": {"reputation": 8956, "user_id": 465558, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6bef631b2e4da7009c8e1483e1222c9c?s=128&d=identicon&r=PG", "display_name": "Yanshof", "link": "https://stackoverflow.com/users/465558/yanshof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1435177271, "creation_date": 1435174490, "question_id": 31035468, "link": "https://stackoverflow.com/questions/31035468/lost-of-packages-on-udpclient-receiver", "title": "lost of packages on UdpClient receiver", "body": "<p>My application using UdpClient to receive images from some other machine.<br>\nEach image size is 951000 bytes and MTU limit is 1500 bytes. </p>\n\n<p>So the sender application must use fragmentation ... and each sending package contain header that contain 2 int </p>\n\n<ol>\n<li>total_number</li>\n<li>current_number </li>\n</ol>\n\n<p>The code receiving bytes .. .and this is very intensive bit rate because the video have new frame to send to my application every 30 milisecond .. </p>\n\n<p>I found myself losing packages and i don't know how to do it different and not to lose packages. </p>\n\n<p>Someone have any idea how to solve this ? \nIs there any better way ? </p>\n\n<p>this is the code </p>\n\n<pre><code>public class PackagePartial\n{\n    public int total_count;\n    public int current_count; // first package is 1  \n    public byte[] buffer;\n\n    public byte[] Serializable()\n    {\n        // make the Serialize\n    }\n\n    public static void DeSerializable(byte[] v)\n    {\n        total_count = ... ;\n        current_count = ... \n        buffer = ... \n    }\n}\n\n// the network layer \nint lastPackIndex = 0;\nList&lt;byte&gt; collection = new List&lt;byte&gt;();\nwhile(true)\n{\n      byte[] package = _clientListener.Receive(ref ep);\n\n       PackagePartial p = PackagePartial.DeSerializable(package);\n\n       // indication that i lost package\n       if(p.current_count - lastPackIndex != 1 )\n       {\n         collection.Clear();\n         lastPackIndex = 0\n         continue;               \n\n       }\n\n       if(p.current_count == p.total_count)\n       {\n             // image Serialize and send it to the GUI layer as bitmap \n             Image img = ConvertBytesToImage(collection);\n\n             SendToGui(img);\n\n             collection.Clear();\n\n             lastPackIndex = 0\n\n       }\n       else\n       {\n             lastPackIndex = p.current_count\n             collection.AddRange(p.Buffer)\n       }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "telerik"], "answers": [{"tags": [], "owner": {"reputation": 4875, "user_id": 1144624, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c640c2471d507b73b93d5cb34eaebfed?s=128&d=identicon&r=PG", "display_name": "Kcvin", "link": "https://stackoverflow.com/users/1144624/kcvin"}, "is_accepted": false, "score": 1, "last_activity_date": 1435242465, "creation_date": 1435242465, "answer_id": 31053242, "question_id": 31035427, "link": "https://stackoverflow.com/questions/31035427/error-occurred-loading-resource-dictionary/31053242#31053242", "title": "Error Occurred Loading Resource Dictionary", "body": "<p>The first thing that I know IS wrong and that has to be added, according to Telerik documentation, </p>\n\n<blockquote>\n  <p>They can be merged in the resources of your application (in App.xaml) and as a result will be applied implicitly on any control that does not have a local Style set. For example, if you need to style a control from Telerik.Windows.Controls.dll, you need the Telerik.Windows.Controls.xaml resource dictionary.</p>\n</blockquote>\n\n<p>That being said you're missing a <code>ResourceDictionary</code> for <code>DataVisualization</code>.  If that doesn't solve the problem, keep reading.</p>\n\n<p>Last I recall, when I was looking at theme'ing my application using Telerik, there are a couple different ways you can apply styles, and doing it right might be a little tricky at first.  There is Implicit Styling (NoXaml) and there is standard styling, where styles are built into the control libraries.  Implicit styling is the recommended approach for styling your application in a \"global\" manner.  IIRC, it is also more performant is much more clean in code.</p>\n\n<p>Since we talked in the WPF chat, it sounds like you weren't sure which binaries you were trying to build from source.  Implicit styles requires you to build the Binaries.NoXaml source code.  After that's said and done, you have to make sure you're adding references to the correct assemblies coming from the <code>..\\Binaries.NoXaml\\WPF4x\\</code> directory.  </p>\n\n<p>The last time I built from source, the build instructions were included inside the downloaded .ZIP.  Make sure you follow those instructions carefully.  I have no used built in Visual Studio Telerik tools to build/deploy my referenced libraries, so if you are, then maybe manual is the way to go.</p>\n\n<p>A couple other things.  I'm suspicious the build wasn't successfully completed.  Your Version # on your Telerik references should be something other than <code>0.0.0.0</code>.  Secondly, if I remember correctly, I had problems with defining the source and <em>possibly</em> the order matters--so try the source that I used in my example below, and maybe move the <code>NotifyIconResources.xaml</code> below the Telerik declarations.</p>\n\n<p>Here is my XAML used with implicit style technique:</p>\n\n<pre><code>&lt;ResourceDictionary Source=\"/Telerik.Windows.Themes.Windows7;component/Themes/Telerik.Windows.Controls.xaml\" /&gt;\n&lt;ResourceDictionary Source=\"/Telerik.Windows.Themes.Windows7;component/Themes/System.Windows.xaml\" /&gt;\n&lt;ResourceDictionary Source=\"/Telerik.Windows.Themes.Windows7;component/Themes/Telerik.Windows.Controls.Input.xaml\" /&gt;\n&lt;ResourceDictionary Source=\"/Telerik.Windows.Themes.Windows7;component/Themes/Telerik.Windows.Controls.Navigation.xaml\" /&gt;\n</code></pre>\n\n<p>As always, starting a new project and getting a basic thing like this working might do you wonders and it will also prevent you from changing so many things in your current code base that you end up forgetting the things you've changed and causing issues in places you don't want them.  </p>\n"}], "owner": {"reputation": 2454, "user_id": 2607840, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/odHBN.jpg?s=128&g=1", "display_name": "Cameron", "link": "https://stackoverflow.com/users/2607840/cameron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 654, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1435242465, "creation_date": 1435174386, "last_edit_date": 1495540280, "question_id": 31035427, "link": "https://stackoverflow.com/questions/31035427/error-occurred-loading-resource-dictionary", "title": "Error Occurred Loading Resource Dictionary", "body": "<p>I've looked at and tried these <a href=\"https://stackoverflow.com/questions/25721324/wpf-vs2013-an-error-occurred-while-finding-the-resource-dictionary\">other</a> <a href=\"https://stackoverflow.com/questions/19779776/vs2013-an-error-occurred-while-finding-the-resource-dictionary\">solutions</a> that I've found, and even copied <a href=\"http://docs.telerik.com/devtools/wpf/styling-and-appearance/styling-apperance-implicit-styles-overview#applying-theme-globally-in-your-application\" rel=\"nofollow noreferrer\">Telerik's Documentation</a>. However, I still can't get a working solution.</p>\n\n<p>XAML:</p>\n\n<pre><code>    &lt;ResourceDictionary.MergedDictionaries&gt;\n            &lt;ResourceDictionary Source=\"NotifyIconResources.xaml\" /&gt;\n            &lt;ResourceDictionary Source=\"pack://application:,,,/Telerik.Windows.Themes.Windows8;component/Themes/System.Windows.xaml\" /&gt;\n            &lt;ResourceDictionary Source=\"pack://application:,,,/Telerik.Windows.Themes.Windows8;component/Themes/Telerik.Windows.Controls.xaml\" /&gt;\n            &lt;ResourceDictionary Source=\"pack://application:,,,/Telerik.Windows.Themes.Windows8;component/Themes/Telerik.Windows.Controls.Navigation.xaml\" /&gt;\n        &lt;/ResourceDictionary.MergedDictionaries&gt;\n</code></pre>\n\n<p>Here is an image of the error that ReSharper is giving:\n<img src=\"https://i.stack.imgur.com/YxzwE.png\" alt=\"ReSharper Image\"></p>\n\n<p>Here's an image of the assembly being a reference:\n<img src=\"https://i.stack.imgur.com/Qlb8w.png\" alt=\"Assembly as reference\"></p>\n\n<p>Here's an image of the assembly properties:\n<img src=\"https://i.stack.imgur.com/Hek7Q.png\" alt=\"Assembly properties\"></p>\n\n<p>Lastly, here's the exception information when I try to run the app:</p>\n\n<pre><code>System.Windows.Markup.XamlParseException was unhandled\n  HResult=-2146233087\n  Message='Cannot create unknown type '{clr-namespace:Telerik.Windows.Controls.External}Windows8ThemeExternal'.' Line number '15' and line position '6'.\n  Source=PresentationFramework\n  LineNumber=15\n  LinePosition=6\n  StackTrace:\n       at System.Windows.Markup.WpfXamlLoader.Load(XamlReader\u00a0xamlReader,\u00a0IXamlObjectWriterFactory\u00a0writerFactory,\u00a0Boolean\u00a0skipJournaledProperties,\u00a0Object\u00a0rootObject,\u00a0XamlObjectWriterSettings\u00a0settings,\u00a0Uri\u00a0baseUri)\n       at System.Windows.Markup.WpfXamlLoader.LoadBaml(XamlReader\u00a0xamlReader,\u00a0Boolean\u00a0skipJournaledProperties,\u00a0Object\u00a0rootObject,\u00a0XamlAccessLevel\u00a0accessLevel,\u00a0Uri\u00a0baseUri)\n       at System.Windows.Markup.XamlReader.LoadBaml(Stream\u00a0stream,\u00a0ParserContext\u00a0parserContext,\u00a0Object\u00a0parent,\u00a0Boolean\u00a0closeStream)\n       at System.Windows.Application.LoadComponent(Object\u00a0component,\u00a0Uri\u00a0resourceLocator)\n       at MyApp.App.InitializeComponent() in App.xaml: line 1\n       at MyApp.App.Main() in c:\\MyApp\\obj\\Debug\\App.g.cs: line 0\n       at System.AppDomain._nExecuteAssembly(RuntimeAssembly\u00a0assembly,\u00a0String[]\u00a0args)\n       at System.AppDomain.ExecuteAssembly(String\u00a0assemblyFile,\u00a0Evidence\u00a0assemblySecurity,\u00a0String[]\u00a0args)\n       at Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()\n       at System.Threading.ThreadHelper.ThreadStart_Context(Object\u00a0state)\n       at System.Threading.ExecutionContext.RunInternal(ExecutionContext\u00a0executionContext,\u00a0ContextCallback\u00a0callback,\u00a0Object\u00a0state,\u00a0Boolean\u00a0preserveSyncCtx)\n       at System.Threading.ExecutionContext.Run(ExecutionContext\u00a0executionContext,\u00a0ContextCallback\u00a0callback,\u00a0Object\u00a0state,\u00a0Boolean\u00a0preserveSyncCtx)\n       at System.Threading.ExecutionContext.Run(ExecutionContext\u00a0executionContext,\u00a0ContextCallback\u00a0callback,\u00a0Object\u00a0state)\n       at System.Threading.ThreadHelper.ThreadStart()\n  InnerException: System.Xaml.XamlObjectWriterException\n       HResult=-2146233088\n       Message='Cannot create unknown type '{clr-namespace:Telerik.Windows.Controls.External}Windows8ThemeExternal'.' Line number '15' and line position '6'.\n       Source=System.Xaml\n       LineNumber=15\n       LinePosition=6\n       StackTrace:\n            at System.Xaml.XamlObjectWriter.WriteStartObject(XamlType\u00a0xamlType)\n            at System.Xaml.XamlWriter.WriteNode(XamlReader\u00a0reader)\n            at System.Windows.Markup.WpfXamlLoader.TransformNodes(XamlReader\u00a0xamlReader,\u00a0XamlObjectWriter\u00a0xamlWriter,\u00a0Boolean\u00a0onlyLoadOneNode,\u00a0Boolean\u00a0skipJournaledProperties,\u00a0Boolean\u00a0shouldPassLineNumberInfo,\u00a0IXamlLineInfo\u00a0xamlLineInfo,\u00a0IXamlLineInfoConsumer\u00a0xamlLineInfoConsumer,\u00a0XamlContextStack`1\u00a0stack,\u00a0IStyleConnector\u00a0styleConnector)\n            at System.Windows.Markup.WpfXamlLoader.Load(XamlReader\u00a0xamlReader,\u00a0IXamlObjectWriterFactory\u00a0writerFactory,\u00a0Boolean\u00a0skipJournaledProperties,\u00a0Object\u00a0rootObject,\u00a0XamlObjectWriterSettings\u00a0settings,\u00a0Uri\u00a0baseUri)\n       InnerException: \n</code></pre>\n"}, {"tags": ["c#", "winforms", "system.drawing"], "comments": [{"owner": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "edited": false, "score": 3, "creation_date": 1435174892, "post_id": 31035423, "comment_id": 50095371, "body": "I&#39;m only partway through reading your question, but you shouldn&#39;t be using CreateGraphics in this situation.  The PaintEventArgs you get in the Paint event handler has a <code>Graphics</code> property that you should use instead (so you&#39;d have to pass <code>e.Graphics</code> to your <code>drawBorder</code> method).  This allows .NET to manage things like double buffering for you."}, {"owner": {"reputation": 16599, "user_id": 24472, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2020a7f739da6d67e7deb61ed40ba0a6?s=128&d=identicon&r=PG", "display_name": "Larry", "link": "https://stackoverflow.com/users/24472/larry"}, "edited": false, "score": 0, "creation_date": 1435174988, "post_id": 31035423, "comment_id": 50095425, "body": "I would place the color in a property at the form level, and call this.Invalidate() in the set{} each time it changes."}], "answers": [{"comments": [{"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 1, "creation_date": 1435178828, "post_id": 31035523, "comment_id": 50097587, "body": "If you&#39;re going to call <code>DrawBorder</code> in the <code>OnPaint</code> override, then pass the graphics instance from the <code>PaintEventArgs</code> to DrawBorder.  Calling <code>CreateGraphics</code> is generally considered bad."}, {"owner": {"reputation": 19021, "user_id": 922198, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/RKeIA.png?s=128&g=1", "display_name": "Parimal Raj", "link": "https://stackoverflow.com/users/922198/parimal-raj"}, "reply_to_user": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1435252119, "post_id": 31035523, "comment_id": 50134311, "body": "@ChrisDunaway - yes i know, i copy pasted the <code>OP&#39;s</code> code!"}], "tags": [], "owner": {"reputation": 19021, "user_id": 922198, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/RKeIA.png?s=128&g=1", "display_name": "Parimal Raj", "link": "https://stackoverflow.com/users/922198/parimal-raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1435175176, "last_edit_date": 1435175176, "creation_date": 1435174714, "answer_id": 31035523, "question_id": 31035423, "link": "https://stackoverflow.com/questions/31035423/c-draw-rectangle-in-every-form/31035523#31035523", "title": "c# draw rectangle in every form", "body": "<p>Well I would suggest you to create a <code>BaseForm</code> with <code>protected override OnPaint()</code>.</p>\n\n<p>And whenever you create a new <code>Form</code>, inherit the <code>BaseForm</code> instead of the default <code>Form</code></p>\n\n<hr>\n\n<p>Here is how you do <code>BaseForm</code></p>\n\n<pre><code>public class BaseForm : Form\n{\n    protected void DrawBorder(Color c)\n    {\n        var g = CreateGraphics();\n        var br = new SolidBrush(c);\n        var p = new Pen(br, 4);\n\n        var r = new Rectangle(0, 0, 50, 50);\n        g.DrawRectangle(p, r);\n\n        p.Dispose();\n        br.Dispose();\n        g.Dispose();\n    }\n\n    protected override void OnPaint(PaintEventArgs e)\n    {\n        DrawBorder(Color.Red);\n        base.OnPaint(e);\n    }\n}\n</code></pre>\n\n<p>How to apply it on new created form</p>\n\n<pre><code>public partial class Form1 : BaseForm // Use the BaseForm instead of default 'Form'\n{\n    public Form1()\n    {\n        InitializeComponent();\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3179, "user_id": 3836669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d7a1723055a47768715c1322cb6683?s=128&d=identicon&r=PG&f=1", "display_name": "kidshaw", "link": "https://stackoverflow.com/users/3836669/kidshaw"}, "is_accepted": false, "score": 1, "last_activity_date": 1435174952, "creation_date": 1435174952, "answer_id": 31035587, "question_id": 31035423, "link": "https://stackoverflow.com/questions/31035423/c-draw-rectangle-in-every-form/31035587#31035587", "title": "c# draw rectangle in every form", "body": "<p>A base form is a solid approach - add to that a static method to trigger a static event when you want to change the colour.</p>\n\n<p>Make your base form handle that event and force a repaint and you should have a single point from where all rectangles can changed.</p>\n"}], "owner": {"reputation": 1476, "user_id": 2195829, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/015cf14ca9932b71bca5429ff4c9a36e?s=128&d=identicon&r=PG", "display_name": "Thanos Darkadakis", "link": "https://stackoverflow.com/users/2195829/thanos-darkadakis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1229, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1435175176, "creation_date": 1435174380, "question_id": 31035423, "link": "https://stackoverflow.com/questions/31035423/c-draw-rectangle-in-every-form", "title": "c# draw rectangle in every form", "body": "<p>I have a project in c# with many forms. Imagine this scenario:</p>\n\n<p>Every form has a (let's say green) rectangle in it. when I call a function, i need every rectangle to change it's color (to red). I have created this function in order to draw a rectangle:</p>\n\n<pre><code>private void drawBorder(System.Drawing.Color c)\n{\n    System.Drawing.Graphics g = this.CreateGraphics();\n    System.Drawing.Brush br = new System.Drawing.SolidBrush(c);\n    System.Drawing.Pen p = new System.Drawing.Pen(br, 4);\n\n    System.Drawing.Rectangle r = new Rectangle(0, 0, 50, 50);\n    g.DrawRectangle(p, r);\n    g.Dispose();\n    br.Dispose();\n    p.Dispose();\n}\n</code></pre>\n\n<p>I have realized that I cannot call this function on load (is this true?) <strong>This just was my first question needing an answer</strong></p>\n\n<p>So, if i had just one form, I would first call this function on paint:</p>\n\n<pre><code>private void fLogin_Paint(object sender, PaintEventArgs e)\n{\n    drawBorder(System.Drawing.Color.Red);\n}\n</code></pre>\n\n<p>and then call it again whenever I need (eg on a button click) with a different color argument. This works on my single form. But I need this in every form.</p>\n\n<p>So <strong>my second question is</strong> do i need to create a _paint event in every form for my solution to work?</p>\n\n<p>I have also thought that i could create a new type of Form, inheriting the default form, add the _paint event in that form and define all my forms as this type. Which is the best approach?</p>\n\n<p><strong>My last question is</strong>: When i call my function more than once, what I really do is drawing a new rectangle on top of the previous one. Should i use</p>\n\n<pre><code>this.Invalidate();\n</code></pre>\n\n<p>before changing the color of my border?</p>\n"}, {"tags": ["java", "c#", "multithreading"], "comments": [{"owner": {"reputation": 12309, "user_id": 423991, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/PTnBq.jpg?s=128&g=1", "display_name": "K Erlandsson", "link": "https://stackoverflow.com/users/423991/k-erlandsson"}, "edited": false, "score": 0, "creation_date": 1435174824, "post_id": 31035413, "comment_id": 50095334, "body": "Interesting question. However, unfortunately I think you are out of luck. To the best of my knowledge there is no such feature in Java. I&#39;d be happy to be corrected and learn something new though."}, {"owner": {"reputation": 12309, "user_id": 423991, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/PTnBq.jpg?s=128&g=1", "display_name": "K Erlandsson", "link": "https://stackoverflow.com/users/423991/k-erlandsson"}, "edited": false, "score": 0, "creation_date": 1435175007, "post_id": 31035413, "comment_id": 50095439, "body": "Just a question for clarification - if the &quot;original thread&quot; in your example changes its TLS data, does its child threads see the updated value? I.e., the child threads to not only get a copy, they have a live view of the parent TLS?"}, {"owner": {"reputation": 18202, "user_id": 2158288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glWQk.jpg?s=128&g=1", "display_name": "ZhongYu", "link": "https://stackoverflow.com/users/2158288/zhongyu"}, "edited": false, "score": 1, "creation_date": 1435175050, "post_id": 31035413, "comment_id": 50095468, "body": "There&#39;s no official async support in JDK. It&#39;s not hard though to create your own (without language-level syntax). For example, my <a href=\"http://bayou.io/release/0.9/docs/async/Async_Programming.html#Fiber\" rel=\"nofollow noreferrer\">Fiber and FiberLocal</a>"}, {"owner": {"reputation": 26067, "user_id": 284758, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/0c0a1f54ab0a0911fd931ae5e19a5903?s=128&d=identicon&r=PG", "display_name": "Brent Arias", "link": "https://stackoverflow.com/users/284758/brent-arias"}, "edited": false, "score": 1, "creation_date": 1435177926, "post_id": 31035413, "comment_id": 50097109, "body": "@Erlandsson: As I understand, prior to .net 4.5 the already-created child threads would indeed see the change.  But as of .net 4.5 the already created child-threads would not see the change."}, {"owner": {"reputation": 64398, "user_id": 1064245, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e1ed9c48a989a39ff2a14b1d36c177a?s=128&d=identicon&r=PG&f=1", "display_name": "M A", "link": "https://stackoverflow.com/users/1064245/m-a"}, "edited": false, "score": 1, "creation_date": 1435941725, "post_id": 31035413, "comment_id": 50424008, "body": "Java has a <code>ThreadLocal</code> class for storing thread-local variables."}], "answers": [{"tags": [], "owner": {"reputation": 2622, "user_id": 1248724, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K5WPD.jpg?s=128&g=1", "display_name": "Zarathustra", "link": "https://stackoverflow.com/users/1248724/zarathustra"}, "is_accepted": false, "score": -3, "last_activity_date": 1435999248, "creation_date": 1435999248, "answer_id": 31218715, "question_id": 31035413, "link": "https://stackoverflow.com/questions/31035413/what-is-the-java-equivalent-of-c-logical-call-context/31218715#31218715", "title": "What is the Java Equivalent of C# &quot;Logical Call Context&quot;", "body": "<p>I am not familiar with .net but from your Description the closest thing I could think of was a <code>ThreadLocal</code>.</p>\n\n<p>However I found an article that you might find helpfull.</p>\n\n<p><a href=\"https://dzone.com/articles/thread-local-storage-java\" rel=\"nofollow\">https://dzone.com/articles/thread-local-storage-java</a></p>\n"}, {"tags": [], "owner": {"reputation": 1366, "user_id": 3314423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1dcc9420e3a196fd77c68649f5a313e?s=128&d=identicon&r=PG&f=1", "display_name": "xp500", "link": "https://stackoverflow.com/users/3314423/xp500"}, "is_accepted": true, "score": 16, "last_activity_date": 1436423185, "creation_date": 1436423185, "answer_id": 31309666, "question_id": 31035413, "link": "https://stackoverflow.com/questions/31035413/what-is-the-java-equivalent-of-c-logical-call-context/31309666#31309666", "title": "What is the Java Equivalent of C# &quot;Logical Call Context&quot;", "body": "<p>Maybe <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/InheritableThreadLocal.html\"><code>InheritableThreadLocal</code></a> is what you're looking for?</p>\n\n<p>I'm not sure if it's exactly the same, but as far as I understand it meets this requirement:</p>\n\n<blockquote>\n  <p>a logical request can spawn a hierarchy of new threads - and each of those threads will have access to the same TLS of the original thread.</p>\n</blockquote>\n\n<p>From the docs </p>\n\n<blockquote>\n  <p>This class extends ThreadLocal to provide inheritance of values from parent thread to child thread: when a child thread is created, the child receives initial values for all inheritable thread-local variables for which the parent has values. Normally the child's values will be identical to the parent's; however, the child's value can be made an arbitrary function of the parent's by overriding the childValue method in this class.\n  Inheritable thread-local variables are used in preference to ordinary thread-local variables when the per-thread-attribute being maintained in the variable (e.g., User ID, Transaction ID) must be automatically transmitted to any child threads that are created.</p>\n</blockquote>\n\n<p>I don't know about the \"copy on write\" capability you mentioned, but I guess you can override <code>InheritableThreadLocal.childValue(T)</code> to proxy the parent's value so that writes don't go through to the parent and modify the current thread's local storage  </p>\n"}], "owner": {"reputation": 26067, "user_id": 284758, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/0c0a1f54ab0a0911fd931ae5e19a5903?s=128&d=identicon&r=PG", "display_name": "Brent Arias", "link": "https://stackoverflow.com/users/284758/brent-arias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1228, "favorite_count": 3, "accepted_answer_id": 31309666, "answer_count": 2, "score": 34, "last_activity_date": 1436423185, "creation_date": 1435174354, "last_edit_date": 1436389665, "question_id": 31035413, "link": "https://stackoverflow.com/questions/31035413/what-is-the-java-equivalent-of-c-logical-call-context", "title": "What is the Java Equivalent of C# &quot;Logical Call Context&quot;", "body": "<p>In .net, there is an \"uber\" thread-local-storage (TLS) which allows arbitrary TLS data to auto-magically \"jump\" from one thread to another.  It is based on the <a href=\"http://www.wintellect.com/devcenter/jeffreyr/logical-call-context-flowing-data-across-threads-appdomains-and-processes\">CallContext class</a>.  </p>\n\n<p>In other words, a logical request can spawn a hierarchy of new threads - and each of those threads will have access to the same TLS of the original thread.  It is a very powerful feature, particularly for logging, authorization, multi-tenancy, or branding concerns.</p>\n\n<p><strong>What is the equivalent in Java?</strong></p>\n\n<p>Only in <a href=\"http://blog.stephencleary.com/2013/04/implicit-async-context-asynclocal.html\">.net 4.5 has the \"logical callcontext\" gained a \"copy on write\" capability</a> that allows threads to make private modifications to the logical callcontext.  In other words, .net is still maturing this capability and providing greater stability.</p>\n\n<p>If Java has an equivalent notion, how stable is it?  What issues does it have?</p>\n\n<p><strong>Clarification</strong></p>\n\n<p>I already know that Java has a thread local storage (TLS) capability.  That is not the question.  I am asking if Java has an equivalent of the .net \"logical call context\" which is a much more powerful construct than simple TLS.</p>\n"}, {"tags": ["c#", "matlab", "com"], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 2619554, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7wrEk.jpg?s=128&g=1", "display_name": "john.dennis", "link": "https://stackoverflow.com/users/2619554/john-dennis"}, "is_accepted": true, "score": 0, "last_activity_date": 1435178890, "creation_date": 1435178890, "answer_id": 31036739, "question_id": 31035378, "link": "https://stackoverflow.com/questions/31035378/modify-data-in-matlab-instance-using-mlapp-and-com-c/31036739#31036739", "title": "Modify data in matlab instance using MLApp and COM, C#", "body": "<p>Need to set the value in the execute method:</p>\n\n<pre><code>matlab.Execute(name + \" = reshape (\" + name + \",2,2)\");\n</code></pre>\n"}], "owner": {"reputation": 56, "user_id": 2619554, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/7wrEk.jpg?s=128&g=1", "display_name": "john.dennis", "link": "https://stackoverflow.com/users/2619554/john-dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 31036739, "answer_count": 1, "score": 0, "last_activity_date": 1435178890, "creation_date": 1435174266, "last_edit_date": 1435178090, "question_id": 31035378, "link": "https://stackoverflow.com/questions/31035378/modify-data-in-matlab-instance-using-mlapp-and-com-c", "title": "Modify data in matlab instance using MLApp and COM, C#", "body": "<p>C# application trying to reshape data in Matlab. In Matlab I need the data to appear <strong>3-dimensional in the matlab instance</strong>. (The code assumes an instance of matlab is running.)</p>\n\n<pre><code>public void PassAndResizeInMatlab()\n{\n    MLApp.MLApp matlab = (MLApp.MLApp)Marshal.GetActiveObject(\"Matlab.Desktop.Application\");\n    matlab.Execute(\"enableservice('AutomationServer',true);\");\n    var dat = new double[]{1,2,3,4};\n    var name = \"myexample\";\n    //matlab does not support passing double[,,] with this function.\n    matlab.PutWorkspaceData(name, \"base\", dat);\n\n    object varargout;\n    //this fails\n    matlab.Feval(\"reshape\", 1, out varargout, name, new double[]{2,2});\n    //works but does not put the value in the matlab instance.\n    matlab.Feval(\"ones\", 1, out varargout, 3,4,5); //works\n    //works but does not put the value in the matlab instance.\n    var output = matlab.Execute(\"reshape (\" + name + \",2,2)\");\n}\n</code></pre>\n\n<p>Is it possible to modify existing data in matlab at all with COM?</p>\n"}, {"tags": ["c#", "recursion", "methods", "binary-search-tree"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1435174656, "post_id": 31035349, "comment_id": 50095242, "body": "You can&#39;t change what <code>comN</code> refers to without the <code>ref</code> keyword."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1435174707, "post_id": 31035349, "comment_id": 50095271, "body": "You can fix this with the <code>ref</code> keyword, but that just makes your code even harder to reason about. Could you give a plain English description of what your method is supposed to do?"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1435174727, "post_id": 31035349, "comment_id": 50095286, "body": "I suggest you learn about &quot;pass by value&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 1, "creation_date": 1435174783, "post_id": 31035495, "comment_id": 50095311, "body": "This could also be handled without the <code>ref</code> keyword by assigning to <code>comN.left</code> or <code>comN.right</code> as the final terminating condition."}, {"owner": {"reputation": 40308, "user_id": 7122, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/31fdbe39c7657652fb5f34cdef2c78c9?s=128&d=identicon&r=PG", "display_name": "David Arno", "link": "https://stackoverflow.com/users/7122/david-arno"}, "reply_to_user": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 1, "creation_date": 1435175236, "post_id": 31035495, "comment_id": 50095572, "body": "I agree with @crashmstr. Sure this will work, but you have just assisted the OP down a path of bad coding practice. Much better to have shown them how to achieve this without the <code>ref</code> keyword."}, {"owner": {"reputation": 2287, "user_id": 3697604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba861fd9c4a0282daf790ff90b75bfe?s=128&d=identicon&r=PG&f=1", "display_name": "willaien", "link": "https://stackoverflow.com/users/3697604/willaien"}, "reply_to_user": {"reputation": 40308, "user_id": 7122, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/31fdbe39c7657652fb5f34cdef2c78c9?s=128&d=identicon&r=PG", "display_name": "David Arno", "link": "https://stackoverflow.com/users/7122/david-arno"}, "edited": false, "score": 0, "creation_date": 1435175657, "post_id": 31035495, "comment_id": 50095841, "body": "@DavidArno: That&#39;s fair, and generally I tend towards education about what smells bad about the code, but he did specifically ask about setting references in methods (that will propagate up), so I answered that question. I do agree that this is slightly awkward (there&#39;s a reason why you&#39;re forced to use the ref keyword when using such a method: you know there will be side-effects), but, I don&#39;t work with data trees all that much, and didn&#39;t comment due to lack of knowledge in that domain."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 40308, "user_id": 7122, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/31fdbe39c7657652fb5f34cdef2c78c9?s=128&d=identicon&r=PG", "display_name": "David Arno", "link": "https://stackoverflow.com/users/7122/david-arno"}, "edited": false, "score": 0, "creation_date": 1435176776, "post_id": 31035495, "comment_id": 50096493, "body": "@DavidArno I don&#39;t necessarily agree that there is anything wrong with using <code>ref</code> here. Many textbooks even use a ref parameter when teaching the algorithm."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1435179496, "post_id": 31035495, "comment_id": 50097930, "body": "@Asad it would be way better to use a better function name and return a value instead though (or at least use a better function name than <code>Compare</code>)"}], "tags": [], "owner": {"reputation": 2287, "user_id": 3697604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba861fd9c4a0282daf790ff90b75bfe?s=128&d=identicon&r=PG&f=1", "display_name": "willaien", "link": "https://stackoverflow.com/users/3697604/willaien"}, "is_accepted": true, "score": 3, "last_activity_date": 1435174624, "creation_date": 1435174624, "answer_id": 31035495, "question_id": 31035349, "link": "https://stackoverflow.com/questions/31035349/cant-set-an-object-in-a-recursive-method/31035495#31035495", "title": "Can&#39;t set an object in a recursive method", "body": "<p>Due to how C# passes parameters, by default, you're working with a local reference. Setting <code>comN</code> to <code>newN</code> doesn't copy values: it sets your local reference to the same object, without updating the reference in the calling code. You can get the expected behavior by changing your code as follows:</p>\n\n<pre><code>Compare(newNode, ref tree.root);\n...\n\npublic static void Compare(Node newN, ref Node comN)\n    {\n        if (comN == null)\n        {\n            comN = newN;\n            return;\n        }\n        else\n        {\n            if (newN.data &lt; comN.data)\n            { Compare(newN, ref comN.left); }\n            else if (newN.data &gt; comN.data)\n            { Compare(newN, ref comN.right); }\n            else if (newN == comN)\n                return;\n        }\n    }\n</code></pre>\n\n<p>See <a href=\"https://msdn.microsoft.com/en-us/library/s6938f28.aspx\" rel=\"nofollow\">Passing Reference-Type Parameters (C# Programming Guide)</a> for more information on reference types and parameters.</p>\n"}, {"tags": [], "owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "is_accepted": false, "score": 1, "last_activity_date": 1435178908, "last_edit_date": 1435178908, "creation_date": 1435176715, "answer_id": 31036072, "question_id": 31035349, "link": "https://stackoverflow.com/questions/31035349/cant-set-an-object-in-a-recursive-method/31036072#31036072", "title": "Can&#39;t set an object in a recursive method", "body": "<p>I'm going to call this class <code>BST</code> instead of <code>Node</code> because it makes what is going on a bit clearer. Assuming it is defined to accept a <code>data</code> and a left and right node as arguments:</p>\n\n<pre><code>// C# 6 for brevity\nclass BST\n{\n    public int Data { get; }\n    public BST Left { get; }\n    public BST Right { get; }\n\n    public Bst(int data, BST left, BST right) \n    {\n        Data = data;\n        Left = left;\n        Right = right;\n    }\n}\n</code></pre>\n\n<p>Your insert algorithm could be defined as follows:</p>\n\n<pre><code>static class BSTExtensions\n{\n    public static BST Insert(this BST bst, BST n)\n    {\n        if (bst == null)\n            return n;\n\n        if (n.Data &lt; bst.Data)\n            return new BST(bst.Data, bst.Left.Insert(n), bst.Right);\n        if (n.Data &gt; bst.Data)\n            return new BST(bst.Data, bst.Left, bst.Right.Insert(n));\n\n        return bst;\n    }\n}\n</code></pre>\n\n<p>It's fairly easy to understand what is going on here. </p>\n\n<ol>\n<li>If the node you were supposed to compare against is non existent, this is the spot the new node is supposed to occupy. </li>\n<li>If the value of the new node is less than the value in the current node, insert into the left subtree. </li>\n<li>If the value of the new node is bigger than in the current node, insert into the right subtree. </li>\n<li>If the values are equal (the only remaining possiblity), no change is needed. Just return the original tree.</li>\n</ol>\n\n<p>While I've also made the tree in this example immutable, if you implement setters in your class you can do this a bit more efficiently, while still not requiring <code>ref</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 4698403, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xyKpYkejHxI/AAAAAAAAAAI/AAAAAAAAAB4/oaRJSvKl7nU/photo.jpg?sz=128", "display_name": "Knight Solaire", "link": "https://stackoverflow.com/users/4698403/knight-solaire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 31035495, "answer_count": 2, "score": 0, "last_activity_date": 1435178908, "creation_date": 1435174165, "question_id": 31035349, "link": "https://stackoverflow.com/questions/31035349/cant-set-an-object-in-a-recursive-method", "title": "Can&#39;t set an object in a recursive method", "body": "<p>I'm trying to add a node to a binary search tree.\nHere's a bit where two nodes are compared - the node you want to add and a node in your tree (first time its root).</p>\n\n<pre><code>    ...\n    Compare(newNode, tree.root);\n    ...\n\n    public static void Compare(Node newN, Node comN)\n        {\n            if (comN == null)\n            {\n                comN = newN;\n                return;\n            }\n            else\n            {\n                if (newN.data &lt; comN.data)\n                { Compare(newN, comN.left); }\n                else if (newN.data &gt; comN.data)\n                { Compare(newN, comN.right); }\n                else if (newN == comN)\n                    return;\n            }\n        }\n        // .data = int value of the node\n</code></pre>\n\n<p>When I step through:</p>\n\n<p>In the \"comN = newN;\" part, the node is set. However, after \"return;\" it jumps back up a level and the left/right node (the node we set earlier) is still set to null.</p>\n\n<p>Any suggestions? (Sorry for possibly incorrect use of terminology, I'm a newbie)</p>\n"}, {"tags": ["c#", "ios", "uiview", "xamarin", "xamarin.ios"], "comments": [{"owner": {"reputation": 734, "user_id": 3191351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgQBD.png?s=128&g=1", "display_name": "jrisberg", "link": "https://stackoverflow.com/users/3191351/jrisberg"}, "edited": false, "score": 1, "creation_date": 1435259857, "post_id": 31035312, "comment_id": 50138768, "body": "Try setting the frames for all of your UI components just like you did with the player, if the frame is undefined the result is gonna be unpredictable."}], "answers": [{"comments": [{"owner": {"reputation": 2244, "user_id": 1951977, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/gtoCJ.jpg?s=128&g=1", "display_name": "TheAmazingKnight", "link": "https://stackoverflow.com/users/1951977/theamazingknight"}, "edited": false, "score": 0, "creation_date": 1435342242, "post_id": 31060115, "comment_id": 50177700, "body": "Thanks for clearing things up! However, nothing is showing on screen (just a white blank screen). I&#39;m puzzled."}, {"owner": {"reputation": 7805, "user_id": 1107580, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dXu86.jpg?s=128&g=1", "display_name": "Iain Smith", "link": "https://stackoverflow.com/users/1107580/iain-smith"}, "reply_to_user": {"reputation": 2244, "user_id": 1951977, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/gtoCJ.jpg?s=128&g=1", "display_name": "TheAmazingKnight", "link": "https://stackoverflow.com/users/1951977/theamazingknight"}, "edited": false, "score": 1, "creation_date": 1435439214, "post_id": 31060115, "comment_id": 50203464, "body": "Thats weird you could try deleting the <code>partial</code> part in the class declaration, then remove the xib files and designer.cs file as you dont needs these as you are setting up the view programmatically. If that doesnt work would you be able to edit your question with where you add the view?"}, {"owner": {"reputation": 2244, "user_id": 1951977, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/gtoCJ.jpg?s=128&g=1", "display_name": "TheAmazingKnight", "link": "https://stackoverflow.com/users/1951977/theamazingknight"}, "edited": false, "score": 1, "creation_date": 1435584864, "post_id": 31060115, "comment_id": 50247388, "body": "Thanks again for your generous help. Everything is working now as expected."}], "tags": [], "owner": {"reputation": 7805, "user_id": 1107580, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dXu86.jpg?s=128&g=1", "display_name": "Iain Smith", "link": "https://stackoverflow.com/users/1107580/iain-smith"}, "is_accepted": true, "score": 1, "last_activity_date": 1435268794, "last_edit_date": 1435268794, "creation_date": 1435263895, "answer_id": 31060115, "question_id": 31035312, "link": "https://stackoverflow.com/questions/31035312/how-do-i-properly-add-ui-elements-into-a-view-programmatically-for-ios/31060115#31060115", "title": "How do I properly add UI elements into a view programmatically for iOS?", "body": "<p>Im guessing you want it like this:</p>\n\n<pre><code>using System;\nusing System.Drawing;\n\nusing Foundation;\nusing UIKit;\nusing MediaPlayer;\nusing CoreGraphics;\n\nnamespace CHANGE_THIS_TO_YOUR_NAME_SPACE\n{\n    public partial class VideoViewController : UIViewController\n    {\n        MPMoviePlayerController moviePlayer;\n        UILabel label;\n        UITextView textView;\n\n        public VideoViewController () : base (\"VideoViewController\", null)\n        {\n        }\n\n        public override void DidReceiveMemoryWarning ()\n        {\n            // Releases the view if it doesn't have a superview.\n            base.DidReceiveMemoryWarning ();\n\n            // Release any cached data, images, etc that aren't in use.\n        }\n\n        public override void ViewDidLoad ()\n        {\n            base.ViewDidLoad ();\n\n            // Perform any additional setup after loading the view, typically from a nib.\n            moviePlayer = new MPMoviePlayerController (NSUrl.FromString (\"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4\")); // Use FromString() to play video directly from web.\n            moviePlayer.View.Frame = new CGRect (0, 20, View.Frame.Size.Width, 180); // size of the video frame\n            moviePlayer.ScalingMode = MPMovieScalingMode.AspectFit; // show the video relative to the video size dimensions\n            moviePlayer.PrepareToPlay ();\n            moviePlayer.Play ();\n            View.Add (moviePlayer.View); // add the view after video starts playing to display it\n\n            // UILabel\n            label = new UILabel (new CGRect(0,200, View.Frame.Size.Width, 50));\n            label.Text = \"Tutorial\";\n            label.Font.WithSize (36);\n            View.Add (label.ViewForBaselineLayout);\n\n            // UITextView\n            textView = new UITextView ();\n            textView.Editable = false;\n            textView.ScrollEnabled = true;\n            textView.UserInteractionEnabled = true;\n            textView.ViewForBaselineLayout.Frame = new CGRect (0, 250, View.Frame.Size.Width, View.Frame.Size.Height * 3);\n            textView.Text = \"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. [shorten text for this post] \"; // shorten text for this post\n            View.Add (textView);\n\n        }\n    }\n}\n</code></pre>\n\n<p>Basically you were almost there, when you are setting the frame for the view with a <code>CGRect</code> its <code>new CGRect(x-coord, y-coord, width, height)</code>. As all of the views were 0,0 they were place on top of each other. Also the <code>UITextView</code> wont scroll as you have made its height three times the height of the screen. If you want it to scroll the content(text) needs to extend past the frame.</p>\n\n<p>iOS9 introduced <code>UIStackView</code>\nSee this video from WWDC 2015: <a href=\"https://developer.apple.com/videos/wwdc/2015/?id=218\" rel=\"nofollow\">https://developer.apple.com/videos/wwdc/2015/?id=218</a> but if you are supporting iOS7/8 there are some third party implementations. Xamarin.Forms has a stacklayout so that might be an option too.</p>\n\n<p>An improved solution would be to not set the frame of your views and rather use auto layout constraints like so:</p>\n\n<pre><code>using System;\nusing System.Drawing;\n\nusing Foundation;\nusing UIKit;\nusing MediaPlayer;\nusing CoreGraphics;\n\nnamespace CHANGE_THIS_TO_YOUR_NAME_SPACE\n{\n    public partial class VideoViewController : UIViewController\n    {\n        MPMoviePlayerController moviePlayer;\n        UILabel label;\n        UITextView textView;\n\n        public VideoViewController () : base (\"VideoViewController\", null)\n        {\n        }\n\n        public override void DidReceiveMemoryWarning ()\n        {\n            // Releases the view if it doesn't have a superview.\n            base.DidReceiveMemoryWarning ();\n\n            // Release any cached data, images, etc that aren't in use.\n        }\n\n        public override void ViewDidLoad ()\n        {\n            base.ViewDidLoad ();\n\n            // Perform any additional setup after loading the view, typically from a nib.\n            moviePlayer = new MPMoviePlayerController (NSUrl.FromString (\"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4\")); // Use FromString() to play video directly from web.\n            moviePlayer.View.TranslatesAutoresizingMaskIntoConstraints = false;\n//          moviePlayer.View.Frame = new CGRect (0, 20, View.Frame.Size.Width, 180); // size of the video frame\n            moviePlayer.ScalingMode = MPMovieScalingMode.AspectFit; // show the video relative to the video size dimensions\n            moviePlayer.PrepareToPlay ();\n            moviePlayer.Play ();\n            View.Add (moviePlayer.View); // add the view after video starts playing to display it\n\n            // UILabel\n//          label = new UILabel (new CGRect(0,200, View.Frame.Size.Width, 50));\n            label = new UILabel ();\n            label.TranslatesAutoresizingMaskIntoConstraints = false;\n            label.Text = \"Tutorial\";\n            label.Font.WithSize (36);\n            View.Add (label.ViewForBaselineLayout);\n\n            // UITextView\n            textView = new UITextView ();\n            textView.TranslatesAutoresizingMaskIntoConstraints = false;\n            textView.Editable = false;\n            textView.ScrollEnabled = true;\n            textView.UserInteractionEnabled = true;\n//          textView.ViewForBaselineLayout.Frame = new CGRect (0, 250, View.Frame.Size.Width, View.Frame.Size.Height * 3);\n            textView.Text = \"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. [shorten text for this post] \"; // shorten text for this post\n            View.Add (textView);\n\n            SetUpAutoLayoutConstraints ();\n        }\n\n        private void SetUpAutoLayoutConstraints()\n        {\n            View.AddConstraints (new [] {\n                NSLayoutConstraint.Create(moviePlayer.View, NSLayoutAttribute.Width, NSLayoutRelation.Equal, View, NSLayoutAttribute.Width, 1, 0),\n                NSLayoutConstraint.Create(moviePlayer.View, NSLayoutAttribute.Height, NSLayoutRelation.Equal, View, NSLayoutAttribute.Width, 0.5625f, 0), // setting it to this to keep your aspect ratio\n                NSLayoutConstraint.Create(moviePlayer.View, NSLayoutAttribute.Top, NSLayoutRelation.Equal, View, NSLayoutAttribute.Top, 1, 20),\n                NSLayoutConstraint.Create(moviePlayer.View, NSLayoutAttribute.Left, NSLayoutRelation.Equal, View, NSLayoutAttribute.Left, 1, 0)\n            });\n\n            View.AddConstraints (new [] {\n                NSLayoutConstraint.Create(label, NSLayoutAttribute.Width, NSLayoutRelation.Equal, View, NSLayoutAttribute.Width, 1, 0),\n                NSLayoutConstraint.Create(label, NSLayoutAttribute.Height, NSLayoutRelation.Equal, null, NSLayoutAttribute.NoAttribute, 1, 50),\n                NSLayoutConstraint.Create(label, NSLayoutAttribute.Top, NSLayoutRelation.Equal, moviePlayer.View, NSLayoutAttribute.Bottom, 1, 0),\n                NSLayoutConstraint.Create(label, NSLayoutAttribute.Left, NSLayoutRelation.Equal, View, NSLayoutAttribute.Left, 1, 0)\n            });\n\n            View.AddConstraints (new [] {\n                NSLayoutConstraint.Create(textView, NSLayoutAttribute.Width, NSLayoutRelation.Equal, View, NSLayoutAttribute.Width, 1, 0),\n                NSLayoutConstraint.Create(textView, NSLayoutAttribute.Bottom, NSLayoutRelation.Equal, View, NSLayoutAttribute.Bottom, 1, 0),\n                NSLayoutConstraint.Create(textView, NSLayoutAttribute.Top, NSLayoutRelation.Equal, label, NSLayoutAttribute.Bottom, 1, 0),\n                NSLayoutConstraint.Create(textView, NSLayoutAttribute.Left, NSLayoutRelation.Equal, View, NSLayoutAttribute.Left, 1, 0)\n            });\n\n        }\n    }\n}\n</code></pre>\n\n<p>This then lets your view adapt to the screen size, e.g. layout on iphone4,5,6,6+ iPad properly. and your <code>UITextView</code> will scroll if its too big.</p>\n\n<p>A Good tutorial on auto layout <a href=\"http://www.raywenderlich.com/50317/beginning-auto-layout-tutorial-in-ios-7-part-1\" rel=\"nofollow\">here</a></p>\n"}], "owner": {"reputation": 2244, "user_id": 1951977, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/gtoCJ.jpg?s=128&g=1", "display_name": "TheAmazingKnight", "link": "https://stackoverflow.com/users/1951977/theamazingknight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3451, "favorite_count": 1, "accepted_answer_id": 31060115, "answer_count": 1, "score": 1, "last_activity_date": 1435268794, "creation_date": 1435174019, "last_edit_date": 1435268456, "question_id": 31035312, "link": "https://stackoverflow.com/questions/31035312/how-do-i-properly-add-ui-elements-into-a-view-programmatically-for-ios", "title": "How do I properly add UI elements into a view programmatically for iOS?", "body": "<p>I am using Xamarin.iOS in Visual Studio 2013 to build a simple user interface programmatically in C#. I know it's much easier to use the designer view, but it's not working for me right now.</p>\n\n<p>So far, I have managed to get the MPMoviePlayerController and the TextView showing, but the TextView won't scroll, even though I added requirements to do so.</p>\n\n<p>The TextView overlaps the video as I can hear audio playing in the background. And the UILabel is no where to be seen. </p>\n\n<p>I thought adding each UI element as a subView of the main View, will show the elements in a stack order displaying the video at the top, label right under the video and textview with scroll. </p>\n\n<p>In a way, I want them to sort of stack each other layer by layer. What am I not doing right or am missing something?</p>\n\n<pre><code>using System;\nusing System.Drawing;\n\nusing Foundation;\nusing UIKit;\nusing MediaPlayer;\n\npublic partial class VideoViewController : UIViewController\n    {\n        MPMoviePlayerController moviePlayer;\n        UILabel label;\n        UITextView textView;\n        public VideoViewController() : base(\"VideoViewController\", null)\n        {\n        }\n\n        public override void DidReceiveMemoryWarning()\n        {\n            // Releases the view if it doesn't have a superview.\n            base.DidReceiveMemoryWarning();\n\n            // Release any cached data, images, etc that aren't in use.\n        }\n\n        public override void ViewDidLoad()\n        {\n            base.ViewDidLoad();\n\n            // Perform any additional setup after loading the view, typically from a nib.\n            moviePlayer = new MPMoviePlayerController(NSUrl.FromString(\"http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4\")); // Use FromString() to play video directly from web.\n            moviePlayer.View.Frame = new CoreGraphics.CGRect(0, 20, this.View.Frame.Size.Width, 180); // size of the video frame\n            moviePlayer.ScalingMode = MPMovieScalingMode.AspectFit; // show the video relative to the video size dimensions\n            moviePlayer.PrepareToPlay();\n            moviePlayer.Play();\n            this.View.AddSubview(moviePlayer.View); // add the view after video starts playing to display it\n\n            // UILabel\n            label = new UILabel();\n            label.Text = \"Tutorial\";\n            label.Font.WithSize(36);\n            this.View.AddSubview(label.ViewForBaselineLayout);\n\n            // UITextView\n            textView = new UITextView();\n            textView.Editable = false;\n            textView.ScrollEnabled = true;\n            textView.UserInteractionEnabled = true;\n            textView.ViewForBaselineLayout.Frame = new CoreGraphics.CGRect(0, 0, this.View.Frame.Size.Width, this.View.Frame.Size.Height*3);\n            textView.Text = \"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. [shorten text for this post] \"; // shorten text for this post\n            this.View.AddSubview(textView);\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "enums"], "answers": [{"tags": [], "owner": {"reputation": 8771, "user_id": 1393543, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5940aefd57c6c8f7e9921d0512bc1d81?s=128&d=identicon&r=PG", "display_name": "Christian Sauer", "link": "https://stackoverflow.com/users/1393543/christian-sauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1435174139, "creation_date": 1435174139, "answer_id": 31035341, "question_id": 31035270, "link": "https://stackoverflow.com/questions/31035270/enum-or-actual-table-to-store-category-with-entity-framework/31035341#31035341", "title": "Enum or actual table to store category with Entity Framework?", "body": "<p>If the data can change use an actual table - I have seen changing enums and it isn't pretty. You will have codes like \"first try\" \"first try second...\" - for an example see Microsoft offices interop enums ;)</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 4556142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f470845f8ffdcfd6c31913823cc52d23?s=128&d=identicon&r=PG&f=1", "display_name": "sosspyker", "link": "https://stackoverflow.com/users/4556142/sosspyker"}, "is_accepted": false, "score": 1, "last_activity_date": 1435174317, "creation_date": 1435174317, "answer_id": 31035396, "question_id": 31035270, "link": "https://stackoverflow.com/questions/31035270/enum-or-actual-table-to-store-category-with-entity-framework/31035396#31035396", "title": "Enum or actual table to store category with Entity Framework?", "body": "<p>My take on this is to use the second approach (separate table) since it supports separation of concerns (data is separate from implementation). \nHowever if you may not be adding more roles any ways then your first approach of using enums should be ok.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3430328"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1081, "favorite_count": 0, "closed_date": 1435220374, "answer_count": 2, "score": 3, "last_activity_date": 1435174317, "creation_date": 1435173881, "question_id": 31035270, "link": "https://stackoverflow.com/questions/31035270/enum-or-actual-table-to-store-category-with-entity-framework", "closed_reason": "Duplicate", "title": "Enum or actual table to store category with Entity Framework?", "body": "<p>I am using Entity Framework Code First to build my database. I have categories which do not change often, but could potentially change in the future. Would it be better practice to store the category data in enums or in an actual table? Below is an example of the ways I would implement the two approaches:</p>\n\n<p>With an enum:</p>\n\n<pre><code>public enum Role\n{\n    Administrator, Employee, Developer\n}\n\npublic class User\n{\n    public int ID {get;set;}\n    public string Name { get; set; }\n    public Role Role { get; set; }\n}\n</code></pre>\n\n<p>With a separate table:</p>\n\n<pre><code>public class User\n{\n    public int ID { get; set; }\n    public string Name { get; set; }\n    public int RoleID { get; set; } // Foreign key to Role table\n    public virtual Role Role { get; set; } // Navigation property for Role\n}\n\npublic class Role\n{\n    public int ID { get; set; }\n    public string RoleName { get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 9813, "user_id": 2465182, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/27dda39f641c68b11b8fc65f65549481?s=128&d=identicon&r=PG", "display_name": "Nathan A", "link": "https://stackoverflow.com/users/2465182/nathan-a"}, "edited": false, "score": 2, "creation_date": 1435174724, "post_id": 31035238, "comment_id": 50095283, "body": "I can&#39;t help but wonder why you don&#39;t just normalize your tables into one table? If they are all the same structure..."}, {"owner": {"reputation": 403, "user_id": 4940725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38abf1fd5590c1d949840619cc08fc87?s=128&d=identicon&r=PG&f=1", "display_name": "Obin", "link": "https://stackoverflow.com/users/4940725/obin"}, "reply_to_user": {"reputation": 9813, "user_id": 2465182, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/27dda39f641c68b11b8fc65f65549481?s=128&d=identicon&r=PG", "display_name": "Nathan A", "link": "https://stackoverflow.com/users/2465182/nathan-a"}, "edited": false, "score": 0, "creation_date": 1435176043, "post_id": 31035238, "comment_id": 50096094, "body": "The simplest way is just normalize but i can&#39;t do it in this project. Tables are need to be separated"}, {"owner": {"reputation": 548, "user_id": 3444160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6b29c6dbd771dd0e0bfd50b8b8d121?s=128&d=identicon&r=PG", "display_name": "tdbeckett", "link": "https://stackoverflow.com/users/3444160/tdbeckett"}, "edited": false, "score": 0, "creation_date": 1435592488, "post_id": 31035238, "comment_id": 50252789, "body": "In order to do what you are wanting to do you would need to update your edmx file with the new metadata of the created tables. I don&#39;t know of a way to do this at run time, because updating the edmx file would require a rebuild because new code would be generated. I think that Entity Framework currently does not support what you are trying to do."}, {"owner": {"reputation": 548, "user_id": 3444160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6b29c6dbd771dd0e0bfd50b8b8d121?s=128&d=identicon&r=PG", "display_name": "tdbeckett", "link": "https://stackoverflow.com/users/3444160/tdbeckett"}, "edited": false, "score": 0, "creation_date": 1435592564, "post_id": 31035238, "comment_id": 50252833, "body": "Can you give us an example of the tables being created?  Is the data changing radically between each table? What is the significance of each table i.e. what does each table represent?"}, {"owner": {"reputation": 403, "user_id": 4940725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38abf1fd5590c1d949840619cc08fc87?s=128&d=identicon&r=PG&f=1", "display_name": "Obin", "link": "https://stackoverflow.com/users/4940725/obin"}, "edited": false, "score": 0, "creation_date": 1435596377, "post_id": 31035238, "comment_id": 50255052, "body": "Tables structure are the same like model (earlier named &quot;SpecificModel&quot;) for each table. They differ in the table name like &quot;Company_A&quot;, &quot;Company_B&quot;, &quot;Company_C&quot; and data in this tables but not structure. Of course I can paste here all model with sql script to generate tables (grabbed from EF Code First) but i think it&#39;s not necessary and can blur whats a point of my problem"}, {"owner": {"reputation": 548, "user_id": 3444160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6b29c6dbd771dd0e0bfd50b8b8d121?s=128&d=identicon&r=PG", "display_name": "tdbeckett", "link": "https://stackoverflow.com/users/3444160/tdbeckett"}, "edited": false, "score": 0, "creation_date": 1435599544, "post_id": 31035238, "comment_id": 50256764, "body": "I would recommend that you create another table called Company with the company name and an id and make a foreign key in the SpecificModel table to the company table.  Then the script that creates the tables could instead insert the data into the SpecificModel table with the company id.  Then you would be able to easily use linq to pull the company information."}], "answers": [{"comments": [{"owner": {"reputation": 403, "user_id": 4940725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38abf1fd5590c1d949840619cc08fc87?s=128&d=identicon&r=PG&f=1", "display_name": "Obin", "link": "https://stackoverflow.com/users/4940725/obin"}, "edited": false, "score": 1, "creation_date": 1435425295, "post_id": 31085192, "comment_id": 50199272, "body": "It works nice but it is still query. There is a way to do this with LINQ?"}, {"owner": {"reputation": 6112, "user_id": 1019435, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oGv8Y.jpg?s=128&g=1", "display_name": "Palanikumar", "link": "https://stackoverflow.com/users/1019435/palanikumar"}, "reply_to_user": {"reputation": 403, "user_id": 4940725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38abf1fd5590c1d949840619cc08fc87?s=128&d=identicon&r=PG&f=1", "display_name": "Obin", "link": "https://stackoverflow.com/users/4940725/obin"}, "edited": false, "score": 0, "creation_date": 1435472634, "post_id": 31085192, "comment_id": 50209589, "body": "Yes, I think we can do that in LINQ using Reflection and Expression, but little complicate once I get let you know. In entity framework, finally the linq expression will convert into sql query, so no more difference with that. Using this method also EF mapping your data into class object(SecificModel) right :)"}, {"owner": {"reputation": 548, "user_id": 3444160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6b29c6dbd771dd0e0bfd50b8b8d121?s=128&d=identicon&r=PG", "display_name": "tdbeckett", "link": "https://stackoverflow.com/users/3444160/tdbeckett"}, "edited": false, "score": 2, "creation_date": 1435587740, "post_id": 31085192, "comment_id": 50249468, "body": "This will allow for sql injection."}, {"owner": {"reputation": 548, "user_id": 3444160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6b29c6dbd771dd0e0bfd50b8b8d121?s=128&d=identicon&r=PG", "display_name": "tdbeckett", "link": "https://stackoverflow.com/users/3444160/tdbeckett"}, "edited": false, "score": 0, "creation_date": 1435590837, "post_id": 31085192, "comment_id": 50251706, "body": "This will not work.  The because the tables are being created dynamically and there will not be a SpecificModel that is know to EF for the return type."}, {"owner": {"reputation": 6112, "user_id": 1019435, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oGv8Y.jpg?s=128&g=1", "display_name": "Palanikumar", "link": "https://stackoverflow.com/users/1019435/palanikumar"}, "reply_to_user": {"reputation": 548, "user_id": 3444160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6b29c6dbd771dd0e0bfd50b8b8d121?s=128&d=identicon&r=PG", "display_name": "tdbeckett", "link": "https://stackoverflow.com/users/3444160/tdbeckett"}, "edited": false, "score": 0, "creation_date": 1435638038, "post_id": 31085192, "comment_id": 50270655, "body": "@tdbeckett, If there is no way to achieve the requirement via Linq, then we have to use this method and we need to properly validate the input string to avoid sql injection."}, {"owner": {"reputation": 6112, "user_id": 1019435, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oGv8Y.jpg?s=128&g=1", "display_name": "Palanikumar", "link": "https://stackoverflow.com/users/1019435/palanikumar"}, "reply_to_user": {"reputation": 548, "user_id": 3444160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6b29c6dbd771dd0e0bfd50b8b8d121?s=128&d=identicon&r=PG", "display_name": "tdbeckett", "link": "https://stackoverflow.com/users/3444160/tdbeckett"}, "edited": false, "score": 0, "creation_date": 1435638048, "post_id": 31085192, "comment_id": 50270658, "body": "@tdbeckett, He mentioned in question &quot;I have many tables with the same model structure&quot; also he replied you in comment &quot;They differ in the table name like &quot;Company_A&quot;, &quot;Company_B&quot;, &quot;Company_C&quot; and data in this tables but not structure&quot;. So we can use SpecificModel class for mapping."}], "tags": [], "owner": {"reputation": 6112, "user_id": 1019435, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oGv8Y.jpg?s=128&g=1", "display_name": "Palanikumar", "link": "https://stackoverflow.com/users/1019435/palanikumar"}, "is_accepted": false, "score": 7, "last_activity_date": 1435380225, "last_edit_date": 1435380225, "creation_date": 1435379803, "answer_id": 31085192, "question_id": 31035238, "link": "https://stackoverflow.com/questions/31035238/dynamic-table-name-with-entity-framework/31085192#31085192", "title": "Dynamic table name with entity framework", "body": "<p>Do you want to do like this?</p>\n\n<pre><code>foreach (string tableName in new[] { \"Table1\", \"Table2\" })\n{\n   var result = dbContext.Database.SqlQuery&lt;SpecificModel&gt;(string.Format(\"SELECT * FROM {0} WHERE ID=@p0\", tableName), 1).FirstOrDefault();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4209, "user_id": 313072, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/02df357c5e2309add7416cb366c1c7c2?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/313072/bryan"}, "is_accepted": false, "score": 5, "last_activity_date": 1441035897, "creation_date": 1441035897, "answer_id": 32315087, "question_id": 31035238, "link": "https://stackoverflow.com/questions/31035238/dynamic-table-name-with-entity-framework/32315087#32315087", "title": "Dynamic table name with entity framework", "body": "<p>I did something like this. \n<a href=\"http://nodogmablog.bryanhogan.net/2013/08/entity-framework-in-an-dynamics-nav-navision-envirnoment/\" rel=\"noreferrer\">http://nodogmablog.bryanhogan.net/2013/08/entity-framework-in-an-dynamics-nav-navision-envirnoment/</a></p>\n\n<p>I had tables which were identical, but they had different names. For example, a customer table but with different prefixes for different companies. </p>\n\n<pre><code>[ACME$Customer] \n[SuperCorp$Customer]\n</code></pre>\n\n<p>I ended up using dynamic compilation. It's a pretty detailed blog post so I won't go into it here.</p>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 3379560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33dcc5974cc969a2e683bf8df7d3c831?s=128&d=identicon&r=PG&f=1", "display_name": "nycdanielp", "link": "https://stackoverflow.com/users/3379560/nycdanielp"}, "is_accepted": false, "score": 2, "last_activity_date": 1536943070, "creation_date": 1536943070, "answer_id": 52336066, "question_id": 31035238, "link": "https://stackoverflow.com/questions/31035238/dynamic-table-name-with-entity-framework/52336066#52336066", "title": "Dynamic table name with entity framework", "body": "<p>You can do this:</p>\n\n<pre><code>        // Gets entity type from specified namespace/assembly\n        Type entityType = Type.GetType(string.Format(\"Your.NameSpace.{0},{1}\", entityName, \"Assembly.Name\"));\n        // Finds item to update based on its primary key value\n        var entity = _dbContext.Find(entityType, entityKey);\n        // Finds column to update preference for\n        PropertyInfo propertyInfo = entity.GetType().GetProperty(entityField);\n        // Set and update (date example given)\n        propertyInfo.SetValue(entity, isOptIn ? (DateTime?)null : (DateTimeOffset?)DateTime.Now, null);\n        _dbContext.SaveChanges();\n</code></pre>\n"}], "owner": {"reputation": 403, "user_id": 4940725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38abf1fd5590c1d949840619cc08fc87?s=128&d=identicon&r=PG&f=1", "display_name": "Obin", "link": "https://stackoverflow.com/users/4940725/obin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18912, "favorite_count": 6, "answer_count": 3, "score": 18, "last_activity_date": 1536943070, "creation_date": 1435173797, "last_edit_date": 1435374982, "question_id": 31035238, "link": "https://stackoverflow.com/questions/31035238/dynamic-table-name-with-entity-framework", "title": "Dynamic table name with entity framework", "body": "<p>I have many tables with the same model structure but with other table names with other data (in this case will be ~100 tables). I want to dynamically switch table name in runtime using Entity Framework (for example get name table from routing). Tables in database are dynamically adding and deleting by other script. There is a way to do this with good performance like this?</p>\n\n<pre><code>db.Table(\"TableName\")&lt;SpecificModel&gt;.Where(x =&gt; x.ID == ID)\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "database-connection", "freesqldatabase"], "answers": [{"tags": [], "owner": {"reputation": 578, "user_id": 4787936, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/31c8eb45c40c55ef76aac374dd695946?s=128&d=identicon&r=PG", "display_name": "DotNetMatt", "link": "https://stackoverflow.com/users/4787936/dotnetmatt"}, "is_accepted": true, "score": 1, "last_activity_date": 1435174320, "creation_date": 1435174320, "answer_id": 31035399, "question_id": 31035227, "link": "https://stackoverflow.com/questions/31035227/sqlconnection-not-being-able-to-open-the-connection/31035399#31035399", "title": "SqlConnection not being able to open the connection", "body": "<p>All objects starting with \"Sql\" such as \"SqlConnection\", \"SqlCommand\", etc. are made for SQL Server. Apparently you are using MySQL so you need a different provider: <a href=\"https://dev.mysql.com/downloads/connector/net/\" rel=\"nofollow\">https://dev.mysql.com/downloads/connector/net/</a></p>\n\n<p>Once you add this provider as a reference in your project, you will be able to use \"MySqlConnection\", \"MySqlCommand\", etc.</p>\n"}], "owner": {"reputation": 1602, "user_id": 1716310, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/24ff82e0962f79caedf7011c505ef136?s=128&d=identicon&r=PG", "display_name": "Btc Sources", "link": "https://stackoverflow.com/users/1716310/btc-sources"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 31035399, "answer_count": 1, "score": 0, "last_activity_date": 1603229162, "creation_date": 1435173773, "last_edit_date": 1603229162, "question_id": 31035227, "link": "https://stackoverflow.com/questions/31035227/sqlconnection-not-being-able-to-open-the-connection", "title": "SqlConnection not being able to open the connection", "body": "<h2>What I have</h2>\n<ol>\n<li>An account in <a href=\"http://www.freesqldatabase.com\" rel=\"nofollow noreferrer\">http://www.freesqldatabase.com</a></li>\n<li>A database (<strong>DB_DATABASE</strong> var in my asp.net application)</li>\n<li>An user and password for the DB (<strong>DB_USER</strong>, <strong>DB_PASS</strong>)</li>\n<li>An Host URL (sql4.freesqldatabase.com [<strong>DB_SERVER</strong>])</li>\n<li>A catalog, plus three tables (<strong>DB_CATALOG</strong>)</li>\n<li>A port (<strong>DB_PORT</strong>)</li>\n</ol>\n<h2>What I aim</h2>\n<p>To connect from my asp.net app, to my database.</p>\n<h2>What have I tried</h2>\n<p>I tried to build a <code>SqlConnection</code>, just like:</p>\n<pre><code>SqlConnection con = new SqlConnection(@&quot;Data Source=(&quot; + DB_SERVER + &quot;\\\\&quot; + DB_DATABASE + &quot;,&quot; + DB_PORT + &quot;);Initial Catalog=&quot; + DB_CATALOG + &quot;;UID=&quot; + DB_USER + &quot;;PWD=&quot; + DB_PASS + &quot;;&quot;);\n</code></pre>\n<p>I've used <code>DB_DATABASE</code> as the instance name, but I'm not sure about that (any explanation to clarify me this mess would be apreciated!)</p>\n<p>But I've also tried without it:</p>\n<pre><code>SqlConnection con = new SqlConnection(@&quot;Data Source=(&quot; + DB_SERVER + &quot;,&quot; + DB_PORT + &quot;);Initial Catalog=&quot; + DB_CATALOG + &quot;;UID=&quot; + DB_USER + &quot;;PWD=&quot; + DB_PASS + &quot;;&quot;);\n</code></pre>\n<p>And several options besides these ones, trying to modify the connection string, but no one has worked yet =(</p>\n<h2>What I obtain</h2>\n<p>Well, when I'm trying to open the connection, I'm getting the following exception (I've tried to look for any useful data here, but I'm not used to this yet...):</p>\n<pre><code>   en System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\n   en System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\n   en System.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover)\n   en System.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)\n   en System.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)\n   en System.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)\n   en System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData)\n   en System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)\n   en System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)\n   en System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\n   en System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)\n   en System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal&amp; connection)\n   en System.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal&amp; connection)\n   en System.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal&amp; connection)\n   en System.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\n   en System.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)\n   en System.Data.SqlClient.SqlConnection.TryOpenInner(TaskCompletionSource`1 retry)\n   en System.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry)\n   en System.Data.SqlClient.SqlConnection.Open()\n   en Gallery.Gallery.registerNewUser(String username, String encripted_password)\n</code></pre>\n<h2>Plus, Found out</h2>\n<p>At <a href=\"http://www.freesqldatabase.com/category/net/\" rel=\"nofollow noreferrer\">http://www.freesqldatabase.com/category/net/</a> , they said they've said:</p>\n<blockquote>\n<p>Due to a bug within some MySQL connectors, the \u2018Out of sync with server\u2019 error is returned.</p>\n<p>To resolve this, use a different version of the MySQL connector.</p>\n</blockquote>\n<p>But since I've seen nothing about this in the exception stacktrace, I'm not sure if I'm being affected by this (plus it's 2011 news).</p>\n<p><strong>Did I do something wrong when building the connection?</strong> How can I fix it?</p>\n<p>Thank you in advance!</p>\n"}, {"tags": ["c#", "sql", "database", "localhost"], "comments": [{"owner": {"reputation": 415, "user_id": 4707373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kDa90eSH1qA/AAAAAAAAAAI/AAAAAAAAABs/nxfLGtuIk4M/photo.jpg?sz=128", "display_name": "Malte R", "link": "https://stackoverflow.com/users/4707373/malte-r"}, "edited": false, "score": 0, "creation_date": 1435173791, "post_id": 31035152, "comment_id": 50094758, "body": "You could use &#180;File.ReadAllLines()&#180;, which returns an array, which you can check the length of."}, {"owner": {"reputation": 63, "user_id": 4556142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f470845f8ffdcfd6c31913823cc52d23?s=128&d=identicon&r=PG&f=1", "display_name": "sosspyker", "link": "https://stackoverflow.com/users/4556142/sosspyker"}, "edited": false, "score": 0, "creation_date": 1435174938, "post_id": 31035152, "comment_id": 50095397, "body": "SQL can do that: see it [here][1].        [1]: <a href=\"http://stackoverflow.com/a/12502435/4556142\">stackoverflow.com/a/12502435/4556142</a>"}], "answers": [{"comments": [{"owner": {"reputation": 415, "user_id": 4707373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kDa90eSH1qA/AAAAAAAAAAI/AAAAAAAAABs/nxfLGtuIk4M/photo.jpg?sz=128", "display_name": "Malte R", "link": "https://stackoverflow.com/users/4707373/malte-r"}, "edited": false, "score": 0, "creation_date": 1435173944, "post_id": 31035260, "comment_id": 50094839, "body": "Check my comment, a simpler solution^"}], "tags": [], "owner": {"reputation": 1, "user_id": 5045933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18e5486dc2febcd975f56e10d60cc278?s=128&d=identicon&r=PG", "display_name": "fieora", "link": "https://stackoverflow.com/users/5045933/fieora"}, "is_accepted": false, "score": 0, "last_activity_date": 1435173847, "creation_date": 1435173847, "answer_id": 31035260, "question_id": 31035152, "link": "https://stackoverflow.com/questions/31035152/reading-number-of-rows-in-a-text-file-through-sql-in-c/31035260#31035260", "title": "Reading number of rows in a text file through SQL in C#", "body": "<p>So, it seems like you know a bit about reading files, and handling exceptions(much recommended) but this is the while loop I would use for that</p>\n\n<pre><code>while((line = file.ReadLine()) != null)\n{\n   counter++;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8749, "user_id": 990750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nIvmG.jpg?s=128&g=1", "display_name": "Tarik", "link": "https://stackoverflow.com/users/990750/tarik"}, "is_accepted": false, "score": 0, "last_activity_date": 1435173960, "creation_date": 1435173960, "answer_id": 31035295, "question_id": 31035152, "link": "https://stackoverflow.com/questions/31035152/reading-number-of-rows-in-a-text-file-through-sql-in-c/31035295#31035295", "title": "Reading number of rows in a text file through SQL in C#", "body": "<p>You can connect to the text file via the ADO.Net ODBC Provider using the Microsoft Text Driver. See <a href=\"http://www.c-sharpcorner.com/UploadFile/mgold/ConnectODBCText11262005070206AM/ConnectODBCText.aspx\" rel=\"nofollow\">Connecting to a Text file using ADO.NET</a>.</p>\n\n<p>That said, you are better off reading the file using a StreamReader:</p>\n\n<pre><code>using System.IO;\n\nint counter = 0;\nstring line;\n\n// Read the file and display it line by line.\nStreamReader file = new StreamReader(\"c:\\\\test.txt\");\nwhile((line = file.ReadLine()) != null)\n{\n   Console.WriteLine (line);\n   counter++;\n}\n\nfile.Close();\n\n// Suspend the screen.\nConsole.ReadLine();\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5029395, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fdf932be9a54df8893d759b262093b3e?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Steere", "link": "https://stackoverflow.com/users/5029395/mike-steere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 463, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1435177788, "creation_date": 1435173541, "last_edit_date": 1435177788, "question_id": 31035152, "link": "https://stackoverflow.com/questions/31035152/reading-number-of-rows-in-a-text-file-through-sql-in-c", "title": "Reading number of rows in a text file through SQL in C#", "body": "<p>I have a stream that I convert into a string and then write to a text file (or csv, doesn't really matter) on C:. Now I want to access that file (C:\\InterfaceFiles\\Requirements.txt) and determine the number of rows in that file. Can SQL do that, or do I need to use another command?</p>\n\n<p>edit: Went with @Malte R 's solution in the comments.</p>\n\n<pre><code>string[] filearray = File.ReadAllLines(\"C:\\\\InterfaceFiles\\\\\" + query);\ncount = filearray.Length;\nConsole.WriteLine(query + \" row count = \" + count);\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "unit-testing", "visual-studio-2013"], "answers": [{"comments": [{"owner": {"reputation": 247, "user_id": 2323410, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/78d7bc0c0b4f321f0335f1f6bb4fb7b7?s=128&d=identicon&r=PG", "display_name": "Smack Jack", "link": "https://stackoverflow.com/users/2323410/smack-jack"}, "edited": false, "score": 0, "creation_date": 1457646539, "post_id": 31062945, "comment_id": 59514490, "body": "This solved my problem. Output was being written to (for example) bin/x86/Debug/Some.DLL but trying to load from bin/x86/Debug/en-US/Some.DLL."}], "tags": [], "owner": {"reputation": 703, "user_id": 1558729, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9b1a843f3dcbe330a75d6d7f3a3a5084?s=128&d=identicon&r=PG", "display_name": "Chris Peterson", "link": "https://stackoverflow.com/users/1558729/chris-peterson"}, "is_accepted": true, "score": 2, "last_activity_date": 1435278169, "last_edit_date": 1495541692, "creation_date": 1435278169, "answer_id": 31062945, "question_id": 31035151, "link": "https://stackoverflow.com/questions/31035151/vs2013-express-unit-testing-filenotfoundexception/31062945#31062945", "title": "VS2013 Express Unit Testing FileNotFoundException", "body": "<p>Similar to <a href=\"https://stackoverflow.com/questions/199702/microsoft-unit-testing-failure-unable-to-load-dll-to-test?rq=1\">Microsoft Unit Testing failure, unable to load DLL to test</a>, if you set the AssemblyCulture to anything, the references won't work anymore. I figure this question/answer can stay up since I couldn't find the other one through  searching. I just got lucky to stumble upon it in the Related section.</p>\n\n<p>Basically: Make sure, in AssemblyInfo.cs on both the unit test project and the project being tested that AssemblyCulture is an empty string:</p>\n\n<pre><code>[assembly: AssemblyCulture(\"\")]\n</code></pre>\n"}], "owner": {"reputation": 703, "user_id": 1558729, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9b1a843f3dcbe330a75d6d7f3a3a5084?s=128&d=identicon&r=PG", "display_name": "Chris Peterson", "link": "https://stackoverflow.com/users/1558729/chris-peterson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 734, "favorite_count": 0, "accepted_answer_id": 31062945, "answer_count": 1, "score": 0, "last_activity_date": 1435278169, "creation_date": 1435173540, "question_id": 31035151, "link": "https://stackoverflow.com/questions/31035151/vs2013-express-unit-testing-filenotfoundexception", "title": "VS2013 Express Unit Testing FileNotFoundException", "body": "<p>I'm starting a new solution which contains 6 projects, 2 class libraries, a website, and a unit testing project for each. </p>\n\n<p>I am having trouble setting up the unit tests for one of the class libraries. This library uses entity framework and I would like to Mock the database context to test the various functions. The functions work when referenced from the website and other class library but not in the unit testing project.</p>\n\n<p>When I try to run a unit test referencing that library, I get an error: </p>\n\n<blockquote>\n  <p>System.IO.FileNotFoundException: Could not load file or assembly 'ClassLibrary', Version=1.0.0.0, Culture=en-US, PublicKeyToken=null'\n  or one of its dependencies. The system cannot find the file\n  specified.WRN: Assembly binding logging is turned OFF.\n  To enable assembly bind failure logging, set the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog] (DWORD) to 1.\n  Note: There is some performance penalty associated with assembly bind failure logging.\n  To turn this feature off, remove the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog].</p>\n</blockquote>\n\n<p>Now the error is pretty straight forward, it cannot find the class library's dll. The solution, however, is not so simple. I have spent a couple hours googling and trying different things. Here is what I have tried so far:</p>\n\n<ol>\n<li>The DLL does exist in the location it says.</li>\n<li>Changing the architecture of the tests to x64 or x86 does nothing, the class library is set to Any CPU</li>\n<li>I tried changing all references on both the library and test project to copy local but that didn't help.</li>\n<li>I have tried manually copying the dll and changing the reference point</li>\n<li>The same library can be successfully called from the website project and the other class library</li>\n<li>I have tried turning on the assembly bind logging but it didn't provide any new information</li>\n</ol>\n\n<p>Currently the entire solution is bare bones so I am flexible on any suggestions. I am at my wits and googling end. Let me know if you would like more information.</p>\n\n<p>Thank you for any help,</p>\n\n<p>Chris</p>\n"}, {"tags": ["c#", "sql-server", "datetime", "datetime-conversion"], "comments": [{"owner": {"reputation": 15070, "user_id": 210916, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5c7e713b6f536d3fa0c9e1fbbdfb9c1?s=128&d=identicon&r=PG", "display_name": "MPelletier", "link": "https://stackoverflow.com/users/210916/mpelletier"}, "edited": false, "score": 0, "creation_date": 1435173641, "post_id": 31035144, "comment_id": 50094673, "body": "What is the format of the dates in the database? It&#39;s likely that the dates are recorded in one format, and your conversion is running in another."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1435173799, "post_id": 31035144, "comment_id": 50094762, "body": "What is the <i>type</i> in the database? It should be a DateTime, which means you shouldn&#39;t convert to a string and back at all. Just use <code>if ((DateTime) ds.Tables[0].Rows[0][&quot;StartDate&quot;] &gt; (DateTime) ds.Tables[0].Rows[0][&quot;OriginalStartDate&quot;]))</code>"}, {"owner": {"reputation": 459, "user_id": 1580047, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/665066801/picture?type=large", "display_name": "Matthew Fritz", "link": "https://stackoverflow.com/users/1580047/matthew-fritz"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1435174265, "post_id": 31035144, "comment_id": 50095021, "body": "Double checking the <code>type</code> both fields are of type DateTime. @JonSkeet I&#39;ll try your suggestion out accordingly. As for the format it looks like <code>2015-07-01 00:00:00.000</code> @MPelletier"}, {"owner": {"reputation": 3017, "user_id": 696783, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/JY3U9.jpg?s=128&g=1", "display_name": "Phoenix_uy", "link": "https://stackoverflow.com/users/696783/phoenix-uy"}, "edited": false, "score": 0, "creation_date": 1435175938, "post_id": 31035144, "comment_id": 50096032, "body": "Can you post some data from the database so we can see what&#39;s the format?"}, {"owner": {"reputation": 459, "user_id": 1580047, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/665066801/picture?type=large", "display_name": "Matthew Fritz", "link": "https://stackoverflow.com/users/1580047/matthew-fritz"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1435176259, "post_id": 31035144, "comment_id": 50096199, "body": "@JonSkeet your answer sorted it out for me! Thanks!"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1435176271, "post_id": 31035144, "comment_id": 50096212, "body": "Okay, will add it as an answer."}], "answers": [{"tags": [], "owner": {"reputation": 3017, "user_id": 696783, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/JY3U9.jpg?s=128&g=1", "display_name": "Phoenix_uy", "link": "https://stackoverflow.com/users/696783/phoenix-uy"}, "is_accepted": false, "score": 0, "last_activity_date": 1435175883, "creation_date": 1435175883, "answer_id": 31035838, "question_id": 31035144, "link": "https://stackoverflow.com/questions/31035144/casting-sql-date-value-using-convert-todatetime-in-c-is-failing/31035838#31035838", "title": "Casting SQL Date Value using Convert.ToDateTime in C# is failing", "body": "<p>Maybe you can try this?</p>\n\n<pre><code>        if (Convert.ToDateTime(ds.Tables[0].Rows[0][\"StartDate\"].ToString(\"yyyyMMdd HH:mm:ss\")).Date &gt; Convert.ToDateTime(ds.Tables[0].Rows[0][\"OriginalStartDate\"].ToString(\"yyyyMMdd HH:mm:ss\")).Date) \n        {\n                ...do stuff...\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 459, "user_id": 1580047, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/665066801/picture?type=large", "display_name": "Matthew Fritz", "link": "https://stackoverflow.com/users/1580047/matthew-fritz"}, "edited": false, "score": 0, "creation_date": 1435178211, "post_id": 31035984, "comment_id": 50097274, "body": "Thanks Jon. 100% correct here. I realised at the base I was trying to cut some corners which just caused me the headache, and of course the string conversion was unnecessary. Thanks for your insight. Appreciated."}, {"owner": {"reputation": 15952, "user_id": 555798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bf58909a999e84465a22a090a8d2aa6?s=128&d=identicon&r=PG", "display_name": "MikeTeeVee", "link": "https://stackoverflow.com/users/555798/miketeevee"}, "edited": false, "score": 0, "creation_date": 1598724646, "post_id": 31035984, "comment_id": 112554883, "body": "If your data allow nulls, then I&#39;d go with <code>DateTime? ColumnName = ((DateTime?)(dr[&quot;ColumnName&quot;] == DBNull.Value ? null : dr[&quot;ColumnName&quot;]));</code>  Even if nulls are not allowed, running this logic is still safe, should you later decide to alter the Schema to allow nulls."}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 4, "last_activity_date": 1435176370, "creation_date": 1435176370, "answer_id": 31035984, "question_id": 31035144, "link": "https://stackoverflow.com/questions/31035144/casting-sql-date-value-using-convert-todatetime-in-c-is-failing/31035984#31035984", "title": "Casting SQL Date Value using Convert.ToDateTime in C# is failing", "body": "<p>Basically, you shouldn't be converting the values to strings and back in the first place. Wherever possible, avoid string conversions unless that's an essential part of what you're trying to do. In your case, you're really interested in <code>DateTime</code> values. They're <code>DateTime</code> in the database, and you want them as <code>DateTime</code> values in your code, so why introduce strings?</p>\n\n<p>You should be able to use:</p>\n\n<pre><code>DataRow row = ds.Tables[0].Rows[0];\nDateTime startDate = (DateTime) row[\"StartDate\"];\nDateTime originalStartDate = (DateTime) row[\"OriginalStartDate\"];\nif (startDate.Date &gt; originalStartDate.Date)\n{\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 459, "user_id": 1580047, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/665066801/picture?type=large", "display_name": "Matthew Fritz", "link": "https://stackoverflow.com/users/1580047/matthew-fritz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 675, "favorite_count": 0, "accepted_answer_id": 31035984, "answer_count": 2, "score": 1, "last_activity_date": 1435176370, "creation_date": 1435173530, "last_edit_date": 1435173745, "question_id": 31035144, "link": "https://stackoverflow.com/questions/31035144/casting-sql-date-value-using-convert-todatetime-in-c-is-failing", "title": "Casting SQL Date Value using Convert.ToDateTime in C# is failing", "body": "<p>To start, the error I'm getting is as follows:</p>\n\n<blockquote>\n  <p>The conversion of a varchar data type to a datetime data type resulted in an out-of-range value.</p>\n</blockquote>\n\n<p>What I've done is returned a set of data from a SQL database into a datatable, from there I'm running an <code>if</code> statement on the c# code side to determine if one date is greater than the other. This has worked on numerous deployments, however a specific deployment on a new server is resulting in the above error.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>if\n(\n    Convert.ToDateTime(ds.Tables[0].Rows[0][\"StartDate\"].ToString()).Date &gt;\n    Convert.ToDateTime(ds.Tables[0].Rows[0][\"OriginalStartDate\"].ToString()).Date\n)\n{\n   ... do stuff ...\n}\n</code></pre>\n\n<p>My understanding is that the data inside the column, converted to a string, is failing when trying to execute the <code>Convert.ToDateTime()</code></p>\n\n<p>The perplexing issue however is that this code has worked on other servers and this issue is isolated. So I get that it could be unique to the server however I don't know where to look.</p>\n\n<p>Changing any regional settings, etc., is unfortunately not an option so I'm trying to find a way around this!</p>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["c#", "xml", "serialization"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 5046010, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-e24cJbbKwwg/AAAAAAAAAAI/AAAAAAAABoU/OIFdJffa-Sc/photo.jpg?sz=128", "display_name": "Bryan Jacob", "link": "https://stackoverflow.com/users/5046010/bryan-jacob"}, "edited": false, "score": 0, "creation_date": 1435237946, "post_id": 31035367, "comment_id": 50123737, "body": "Thank you very much for the response. I got it working now :)"}], "tags": [], "owner": {"reputation": 4767, "user_id": 3911233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dcd131c52bf8f025d147620b6d59f9?s=128&d=identicon&r=PG&f=1", "display_name": "steve16351", "link": "https://stackoverflow.com/users/3911233/steve16351"}, "is_accepted": true, "score": 1, "last_activity_date": 1435174241, "creation_date": 1435174241, "answer_id": 31035367, "question_id": 31035095, "link": "https://stackoverflow.com/questions/31035095/xml-serialization-not-reading-attribute-values/31035367#31035367", "title": "XML Serialization not reading Attribute values", "body": "<p><code>XmlAttribute</code> will not work in the context you're using it, because it's looking at the element <code>PostalAddress</code>, which has no attributes. The attribute you want, <code>isoCountryCode</code>, is on the sub element <code>Country</code>.</p>\n\n<p>To make this work you need to define another class for the <code>Country</code> element. For example, you could use classes like the below.</p>\n\n<pre><code>public class PostalAddress\n{\n    public string DeliverTo { get; set; }\n    public string Street { get; set; }\n    public string City { get; set; }\n    public string PostalCode { get; set; }    \n    public Country Country { get; set; }\n}\n\n[XmlRoot(\"Country\")]\npublic class Country \n{\n    [XmlAttribute(\"isoCountryCode\")]\n    public string IsoCountryCode { get; set;}\n    [XmlText]\n    public string Name { get; set; }\n}\n</code></pre>\n\n<p>Alternatively, if you can't change your class structure, you can look at custom deserialisation with the <code>IXmlSerializable</code> interface.</p>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 5046010, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-e24cJbbKwwg/AAAAAAAAAAI/AAAAAAAABoU/OIFdJffa-Sc/photo.jpg?sz=128", "display_name": "Bryan Jacob", "link": "https://stackoverflow.com/users/5046010/bryan-jacob"}, "edited": false, "score": 0, "creation_date": 1435237960, "post_id": 31035397, "comment_id": 50123745, "body": "Thank you very much for the response. I got it working now :)"}], "tags": [], "owner": {"reputation": 15339, "user_id": 642579, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jJpEP.png?s=128&g=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/642579/markus"}, "is_accepted": false, "score": 0, "last_activity_date": 1435174319, "creation_date": 1435174319, "answer_id": 31035397, "question_id": 31035095, "link": "https://stackoverflow.com/questions/31035095/xml-serialization-not-reading-attribute-values/31035397#31035397", "title": "XML Serialization not reading Attribute values", "body": "<p>When using the <code>XmlAttribute</code>-attribute, the attribute should be located on the element that corresponds to the class. In other words, if you would structure your XML document like this, the attribute would be de-serialized into the property:</p>\n\n<pre><code>&lt;PostalAddress isoCountryCode=\"US\"&gt;...&lt;/PostalAddress&gt;\n</code></pre>\n\n<p>However, of you add another class for the country, you can deserialize the XML properly:</p>\n\n<pre><code>public class PostalAddress\n{\n    public string DeliverTo { get; set; }\n    public string Street { get; set; }\n    public string City { get; set; }\n    public string PostalCode { get; set; }\n\n    [XmlElement(\"Country\")]\n    public CountryCode CountryCode;\n}\n\npublic class CountryCode\n{\n    [XmlAttribute(\"isoCountryCode\")]\n    public string Code { get; set; }\n    [XmlText]\n    public string Country { get; set; }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 5046010, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-e24cJbbKwwg/AAAAAAAAAAI/AAAAAAAABoU/OIFdJffa-Sc/photo.jpg?sz=128", "display_name": "Bryan Jacob", "link": "https://stackoverflow.com/users/5046010/bryan-jacob"}, "edited": false, "score": 0, "creation_date": 1435237964, "post_id": 31035609, "comment_id": 50123750, "body": "Thank you very much for the response. I got it working now :)"}], "tags": [], "owner": {"reputation": 21, "user_id": 1375898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb7454b22f62b52ae8c9f220a9b8891?s=128&d=identicon&r=PG", "display_name": "Hariharasudhan Chandramurthy", "link": "https://stackoverflow.com/users/1375898/hariharasudhan-chandramurthy"}, "is_accepted": false, "score": 1, "last_activity_date": 1435175041, "creation_date": 1435175041, "answer_id": 31035609, "question_id": 31035095, "link": "https://stackoverflow.com/questions/31035095/xml-serialization-not-reading-attribute-values/31035609#31035609", "title": "XML Serialization not reading Attribute values", "body": "<p>You have to create class for Country element with two property named CountryCode &amp; Text...</p>\n\n<pre><code>public class PostalAddress\n{\n    public string DeliverTo { get; set; }\n    public string Street { get; set; }\n    public string City { get; set; }\n    public string PostalCode { get; set; }\n\n    public Country Country { get; set; }\n\n}\n\npublic class Country\n{\n    [XmlAttribute(\"isoCountryCode\")]\n    public string CountryCode { get; set; }\n    [XmlText]\n    public string Description { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 5046010, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-e24cJbbKwwg/AAAAAAAAAAI/AAAAAAAABoU/OIFdJffa-Sc/photo.jpg?sz=128", "display_name": "Bryan Jacob", "link": "https://stackoverflow.com/users/5046010/bryan-jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 2, "accepted_answer_id": 31035367, "answer_count": 3, "score": 3, "last_activity_date": 1435175041, "creation_date": 1435173334, "question_id": 31035095, "link": "https://stackoverflow.com/questions/31035095/xml-serialization-not-reading-attribute-values", "title": "XML Serialization not reading Attribute values", "body": "<p>I am trying to serialize an XML into a Class, PostalAddress. The Postal Address looks like this</p>\n\n<pre><code> public class PostalAddress\n{\n    public string DeliverTo { get; set; }\n    public string Street { get; set; }\n    public string City { get; set; }\n    public string PostalCode { get; set; }\n\n    [XmlAttribute(\"isoCountryCode\")]\n    public string CountryCode { get; set; }\n\n    public string Country { get; set; }\n}\n</code></pre>\n\n<p>The input XML document is </p>\n\n<pre><code>&lt;PostalAddress&gt;\n   &lt;DeliverTo&gt;SomeBody&lt;/DeliverTo&gt;\n   &lt;Street&gt;Some Street Address&lt;/Street&gt;\n   &lt;City&gt;MyCity&lt;/City&gt;\n   &lt;PostalCode&gt;US-1013&lt;/PostalCode&gt;\n   &lt;Country isoCountryCode=\"US\"&gt;US&lt;/Country&gt;\n&lt;/PostalAddress&gt;\n</code></pre>\n\n<p>The C# code I am using for Serializing is </p>\n\n<p>Now After Deserialization, I am able to see the values from XML in the corresponding properties but It is Missing the Attribute Value which I wanted to map into a Property, CountryCode. </p>\n\n<pre><code>var serializer = new XmlSerializer(typeof(PostalAddress));\nvar xmlReaderSettings = new XmlReaderSettings { DtdProcessing = DtdProcessing.Parse}\nPostalAddress postalAddress;\nusing (var reader = XmlReader.Create(new StringReader(inputDocument.ToString()), xmlReaderSettings))\n{\n     postalAddress= (PostalAddress)serializer.Deserialize(reader);\n}\n</code></pre>\n\n<p>Can you please help where am I missing things here?``</p>\n"}, {"tags": ["c#", "compiler-errors", "c#-6.0"], "comments": [{"owner": {"reputation": 2914, "user_id": 999571, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/85f2f801cfb39822bf9c807f80d80b35?s=128&d=identicon&r=PG", "display_name": "K. Alan Bates", "link": "https://stackoverflow.com/users/999571/k-alan-bates"}, "edited": false, "score": 0, "creation_date": 1435173627, "post_id": 31035022, "comment_id": 50094662, "body": "Remove the question mark in your line <code>art?.Prop1 = &quot;Hi&quot;;</code> and your assignment should not throw an error.  Make it <code>art.Prop1 = &quot;Hi&quot;;</code>"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 2914, "user_id": 999571, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/85f2f801cfb39822bf9c807f80d80b35?s=128&d=identicon&r=PG", "display_name": "K. Alan Bates", "link": "https://stackoverflow.com/users/999571/k-alan-bates"}, "edited": false, "score": 0, "creation_date": 1435173814, "post_id": 31035022, "comment_id": 50094776, "body": "@K.AlanBates He specifically wants to use the null propagation operator."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1435174031, "post_id": 31035022, "comment_id": 50094894, "body": "Structs are there in C# just to make you life interesting. Try <code>List&lt;Article&gt; articles = new List&lt;Article&gt;{ new Article() }; article[0].Prop1 = &quot;test&quot;;</code> - maybe you&#39;ll reconsider using structs at that point :)."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1435174220, "post_id": 31035022, "comment_id": 50095008, "body": "Mahdi, I&#39;ve changed title to match the answer - feel free to revert/improve if it does not match you intention."}, {"owner": {"reputation": 2914, "user_id": 999571, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/85f2f801cfb39822bf9c807f80d80b35?s=128&d=identicon&r=PG", "display_name": "K. Alan Bates", "link": "https://stackoverflow.com/users/999571/k-alan-bates"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1435175584, "post_id": 31035022, "comment_id": 50095790, "body": "@Servy You say he specifically uses it. I say he is accidentally using it and his question is how to make his assignment of &quot;Hi&quot; to Prop1 pass compilation. The easiest way to make it pass compilation is to remove the maybe."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 2914, "user_id": 999571, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/85f2f801cfb39822bf9c807f80d80b35?s=128&d=identicon&r=PG", "display_name": "K. Alan Bates", "link": "https://stackoverflow.com/users/999571/k-alan-bates"}, "edited": false, "score": 0, "creation_date": 1435175694, "post_id": 31035022, "comment_id": 50095866, "body": "@K.AlanBates that then removes the desired semantics of supporting the possibly null value.  Making the code compile but fail to work is not a solution, nor is it an explanation of the behavior, which is what he&#39;s specifically asking for.  And the fact that he&#39;s accepted the answer explaining why the null propagation operator has the semantics it does as opposed to the one claiming that he didn&#39;t mean to do what he specifically said he meant to do more or less conclusively answers the question of what he was asking about."}, {"owner": {"reputation": 2914, "user_id": 999571, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/85f2f801cfb39822bf9c807f80d80b35?s=128&d=identicon&r=PG", "display_name": "K. Alan Bates", "link": "https://stackoverflow.com/users/999571/k-alan-bates"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1435176050, "post_id": 31035022, "comment_id": 50096097, "body": "@Servy ...yeah, and I upvoted that answer about a half hour ago."}, {"owner": {"reputation": 2914, "user_id": 999571, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/85f2f801cfb39822bf9c807f80d80b35?s=128&d=identicon&r=PG", "display_name": "K. Alan Bates", "link": "https://stackoverflow.com/users/999571/k-alan-bates"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1435176165, "post_id": 31035022, "comment_id": 50096157, "body": "@Servy I thought I read somewhere a while back that during propagated null checks, you run into a problem when trying to propagate through a Nullable; apparently that is not the case so my particular answer was incorrect and I deleted it."}], "answers": [{"comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 3, "creation_date": 1435173433, "post_id": 31035073, "comment_id": 50094576, "body": "Or to say the same thing more technically, the result of the null propagation operator is always a value, never a variable, which is why he&#39;s getting the error saying that he can&#39;t assign a value to a value, since it&#39;s not a variable."}, {"owner": {"reputation": 408521, "user_id": 284240, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/01d6005ebf89c14de87a62add488aaad?s=128&d=identicon&r=PG", "display_name": "Tim Schmelter", "link": "https://stackoverflow.com/users/284240/tim-schmelter"}, "edited": false, "score": 5, "creation_date": 1452160830, "post_id": 31035073, "comment_id": 57049412, "body": "The question remains why it&#39;s not allowed. The compiler could notice that it&#39;s an assignment and then use the  null propagation operator to return the variable/property instead of the value or did i overlook something? Could be used to simplify code by omitting null checks before doing an assignment."}, {"owner": {"reputation": 2538, "user_id": 1619238, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/46wxy.jpg?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/1619238/vlad"}, "edited": false, "score": 1, "creation_date": 1488459613, "post_id": 31035073, "comment_id": 72246629, "body": "Since you already can call a method like x?.SetValue(...), a property assignment (which is the same thing) should a be a valid option. Why not?"}], "tags": [], "owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "is_accepted": true, "score": 17, "last_activity_date": 1435173752, "last_edit_date": 1435173752, "creation_date": 1435173270, "answer_id": 31035073, "question_id": 31035022, "link": "https://stackoverflow.com/questions/31035022/why-c-6-0-doesnt-let-to-set-properties-of-a-non-null-nullable-struct-when-usin/31035073#31035073", "title": "Why C# 6.0 doesn&#39;t let to set properties of a non-null nullable struct when using Null propagation operator?", "body": "<p>This code:</p>\n\n<pre><code>Article? art\n</code></pre>\n\n<p>will define a <code>Nullable&lt;Article&gt;</code> but later when you do:</p>\n\n<pre><code>art?.Prop1 = \"Hi\";\n</code></pre>\n\n<p>This will mean using Null propagation/conditional operator.</p>\n\n<p>Null propagation/conditional operator is for accessing properties, not setting them. Hence you can't use it. </p>\n\n<p>As @Servy said in the comments, the result of Null conditional operator is always a value and you can't assign a value to a value, hence the error. </p>\n\n<p>If you are only trying to set the property then you don't need <code>?</code> with the object name, <code>?</code> with <code>Nullable&lt;T&gt;</code> types is used at the time of declaration, which is syntactic sugar to:</p>\n\n<pre><code>Nullable&lt;Article&gt; art; //same as Article? art\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 386, "user_id": 5707531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3911d502d885969f7d3cbdb82e0c5ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Krypt", "link": "https://stackoverflow.com/users/5707531/krypt"}, "is_accepted": false, "score": 0, "last_activity_date": 1536537713, "creation_date": 1536537713, "answer_id": 52249580, "question_id": 31035022, "link": "https://stackoverflow.com/questions/31035022/why-c-6-0-doesnt-let-to-set-properties-of-a-non-null-nullable-struct-when-usin/52249580#52249580", "title": "Why C# 6.0 doesn&#39;t let to set properties of a non-null nullable struct when using Null propagation operator?", "body": "<p><code>Article? art</code> is a shortcut for <code>Nullable&lt;Article&gt; art</code>\nTo assign property you need to access <code>.Value</code> field of <code>Nullable&lt;T&gt;</code>. In general case you need to ensure art is not null:</p>\n\n<pre><code>if (art.HasValue)\n{\n    art.Value.Prop1 = \"Hi\"; \n}\n</code></pre>\n"}], "owner": {"reputation": 5552, "user_id": 1780739, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/a58g3.jpg?s=128&g=1", "display_name": "Mohsen Sarkar", "link": "https://stackoverflow.com/users/1780739/mohsen-sarkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1866, "favorite_count": 0, "accepted_answer_id": 31035073, "answer_count": 2, "score": 9, "last_activity_date": 1538949497, "creation_date": 1435173137, "last_edit_date": 1538949497, "question_id": 31035022, "link": "https://stackoverflow.com/questions/31035022/why-c-6-0-doesnt-let-to-set-properties-of-a-non-null-nullable-struct-when-usin", "title": "Why C# 6.0 doesn&#39;t let to set properties of a non-null nullable struct when using Null propagation operator?", "body": "<p>Assume we have following code :</p>\n\n<pre><code>struct Article\n{\n    public string Prop1 { get; set; }\n}\n\nArticle? art = new Article();\nart?.Prop1 = \"Hi\"; // compile-error\n</code></pre>\n\n<p>The compile error is</p>\n\n<blockquote>\n  <p>CS0131 The left-hand side of an assignment must be a variable, property or indexer.</p>\n</blockquote>\n\n<p>Actually <code>art?.Prop1</code> is a property and should be considered as a valid assignment!<br>\nI don't see any problem with assignment to make this code invalid.</p>\n\n<p>Why C# 6.0 doesn't let to set properties of a non-null nullable struct ?<br>\nAlternately any suggestion for one line code to make assignment valid would be appreciated. </p>\n"}, {"tags": ["c#", "asp.net-mvc", "visual-studio", "view", "combobox"], "comments": [{"owner": {"reputation": 16378, "user_id": 2296135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a4d0d238f6d47cd59af1250147d6c1fa?s=128&d=identicon&r=PG", "display_name": "ramiramilu", "link": "https://stackoverflow.com/users/2296135/ramiramilu"}, "edited": false, "score": 0, "creation_date": 1435173623, "post_id": 31034972, "comment_id": 50094660, "body": "Working Fiddle - <a href=\"https://jsfiddle.net/hrxfnd2a/\" rel=\"nofollow noreferrer\">jsfiddle.net/hrxfnd2a</a>"}, {"owner": {"reputation": 801, "user_id": 4462995, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/509813639/picture?type=large", "display_name": "djblois", "link": "https://stackoverflow.com/users/4462995/djblois"}, "reply_to_user": {"reputation": 16378, "user_id": 2296135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a4d0d238f6d47cd59af1250147d6c1fa?s=128&d=identicon&r=PG", "display_name": "ramiramilu", "link": "https://stackoverflow.com/users/2296135/ramiramilu"}, "edited": false, "score": 0, "creation_date": 1435173799, "post_id": 31034972, "comment_id": 50094764, "body": "@ramiramilu, thank you. Is there a way to change the arrow style to be similar to above as well?"}], "answers": [{"comments": [{"owner": {"reputation": 801, "user_id": 4462995, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/509813639/picture?type=large", "display_name": "djblois", "link": "https://stackoverflow.com/users/4462995/djblois"}, "edited": false, "score": 0, "creation_date": 1435173693, "post_id": 31035127, "comment_id": 50094697, "body": "tbm0115, that works great.  Now is there a way to change the arrow style?"}, {"owner": {"reputation": 398, "user_id": 4585104, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b5f2850bf3a06b863e3415affa3bdb5d?s=128&d=identicon&r=PG", "display_name": "tbm0115", "link": "https://stackoverflow.com/users/4585104/tbm0115"}, "reply_to_user": {"reputation": 801, "user_id": 4462995, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/509813639/picture?type=large", "display_name": "djblois", "link": "https://stackoverflow.com/users/4462995/djblois"}, "edited": false, "score": 0, "creation_date": 1435173811, "post_id": 31035127, "comment_id": 50094771, "body": "You could check out this question for arrow styles. It get&#39;s a bit more complicated with components of a control. You usually have to provide images for each component. <a href=\"http://stackoverflow.com/questions/18092123/css-custom-dropdown-select-that-works-across-all-browsers-ie7-ff-webkit\" title=\"css custom dropdown select that works across all browsers ie7 ff webkit\">stackoverflow.com/questions/18092123/&hellip;</a>"}], "tags": [], "owner": {"reputation": 398, "user_id": 4585104, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b5f2850bf3a06b863e3415affa3bdb5d?s=128&d=identicon&r=PG", "display_name": "tbm0115", "link": "https://stackoverflow.com/users/4585104/tbm0115"}, "is_accepted": true, "score": 1, "last_activity_date": 1435704581, "last_edit_date": 1495541643, "creation_date": 1435173454, "answer_id": 31035127, "question_id": 31034972, "link": "https://stackoverflow.com/questions/31034972/color-the-background-of-a-combobox/31035127#31035127", "title": "color the background of a combobox", "body": "<p>Try applying the css to just the combobox:</p>\n\n<pre><code>\n\n      select{\n        margin:40px;\n        background-color: #ddd1d1;\n        color: #000;\n        text-shadow:0 1px 0 rgba(0,0,0,0.4);\n      }\n\n</code></pre>\n\n<p>The css you provided only applies the styling to the options (or items) inside the combobox, so when you open the combobox it the style is then applied. The css provided above applies the style to all options in the combobox.</p>\n\n<p>Here's some CSS that does what you're looking for. It utilizes CSS3 attribute selection.</p>\n\n<pre><code>\n\n    select[disabled]{\n        margin:40px;\n        background-color: #ddd1d1;\n        color: #000;\n        text-shadow:0 1px 0 rgba(0,0,0,0.4);\n    }\n\n</code></pre>\n\n<h3>Update</h3>\n\n<p>Per comment, here's what I've found for drop down arrows:</p>\n\n<p>The only way I could get it to work, was to add a <code>DIV</code> and a new css class as per answer to <a href=\"https://stackoverflow.com/questions/18092123/css-custom-dropdown-select-that-works-across-all-browsers-ie7-ff-webkit\">this question</a>. Basically, you're \"hiding\" the <code>SELECT</code> without disabling it (this is where you get creative with your CSS across browsers). Maintain the same sizes between both <code>SELECT</code> and <code>DIV</code> and give the <code>DIV</code> all of the styling. Example:</p>\n\n<pre>\n<code>\n\n    &lt;style>\n      .selector{\n        width: 200px;\n        height: 34px;\n        background: url(new_arrow.png) no-repeat right #ddd1d1;\n        color: #000;\n        text-shadow: 0 1px 0 rgba(0,0,0,0.4);\n      }\n      .selector select{\n        background: transparent;\n        width: 200px;\n        height: 34px;\n        /* for major browsers */\n        appearance: none;\n        -moz-appearance: none;\n        -webkit-appearance: none;\n      }\n      select option{\n        background-color: #ddd1d1;\n        color: #000;\n        height: 34px;\n        text-shadow: 0 1px 0 rgba(0,0,0,0.4);\n      }\n    &lt;/style>\n    &lt;div class=\"selector\">\n      &lt;select>\n        &lt;option>Test1&lt;/option>\n        &lt;option>Test2&lt;/option>\n      &lt;/select>\n    &lt;/div>\n\n</code>\n</pre>\n"}], "owner": {"reputation": 801, "user_id": 4462995, "user_type": "registered", "accept_rate": 41, "profile_image": "https://graph.facebook.com/509813639/picture?type=large", "display_name": "djblois", "link": "https://stackoverflow.com/users/4462995/djblois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 31035127, "answer_count": 1, "score": 1, "last_activity_date": 1435704581, "creation_date": 1435172975, "question_id": 31034972, "link": "https://stackoverflow.com/questions/31034972/color-the-background-of-a-combobox", "title": "color the background of a combobox", "body": "<p>I want to color my combo boxes to have a grey background when it is inactive (meaning even before the user clicks on it).  Here is an example of what I want:</p>\n\n<p><img src=\"https://i.stack.imgur.com/EPPZw.jpg\" alt=\"enter image description here\"></p>\n\n<p>This is the css that I have tried:</p>\n\n<pre><code>select option {\n    margin:40px;\n    background-color: #ddd1d1;\n    color: #000;\n    text-shadow:0 1px 0 rgba(0,0,0,0.4);\n</code></pre>\n\n<p>However, that css only colors the combobox when opened. Now I want to be able to color it before the user even touches it.</p>\n"}, {"tags": ["javascript", "c#", "jquery", "json", "asp.net-mvc"], "comments": [{"owner": {"reputation": 2811, "user_id": 4001497, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LeYKJ.jpg?s=128&g=1", "display_name": "Sushil", "link": "https://stackoverflow.com/users/4001497/sushil"}, "edited": false, "score": 0, "creation_date": 1435173086, "post_id": 31034953, "comment_id": 50094400, "body": "what do u see in the console?"}, {"owner": {"reputation": 1594, "user_id": 2762516, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f4d804f3374a750732ccaa7c92b1a36?s=128&d=identicon&r=PG", "display_name": "Casey", "link": "https://stackoverflow.com/users/2762516/casey"}, "edited": false, "score": 0, "creation_date": 1435173152, "post_id": 31034953, "comment_id": 50094442, "body": "Why not just make a type, and then the type contains properties of those types? Seems like it would make more sense and be easier, unless I am misunderstanding the purpose."}, {"owner": {"reputation": 16378, "user_id": 2296135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a4d0d238f6d47cd59af1250147d6c1fa?s=128&d=identicon&r=PG", "display_name": "ramiramilu", "link": "https://stackoverflow.com/users/2296135/ramiramilu"}, "edited": false, "score": 1, "creation_date": 1435173169, "post_id": 31034953, "comment_id": 50094451, "body": "Create a C# class say <code>MyClass</code> with - <code>DataName</code> and <code>AttachmentsName</code>. Then create a new Instance of class <code>var cls = new MyClass()</code> and assign those properties with the data you got in <code>POST</code>. then use <code>return Json(cls, JsonBehavior.AllowGet)</code> in your controller action to send data back to AJAX call."}, {"owner": {"reputation": 1594, "user_id": 2762516, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f4d804f3374a750732ccaa7c92b1a36?s=128&d=identicon&r=PG", "display_name": "Casey", "link": "https://stackoverflow.com/users/2762516/casey"}, "edited": false, "score": 1, "creation_date": 1435173287, "post_id": 31034953, "comment_id": 50094503, "body": "You need to serialize to two strings you sent as json, or else it is just a string and does not contain properties. I would create to partial classes, that represent the two json objects you are sending to the controller, so in the method you can serialize(desalinize) them accordingly."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1435189998, "post_id": 31034953, "comment_id": 50101839, "body": "Your submitting objects (as name/value pairs), not strings. Create classes on the server to represent the data your posting"}, {"owner": {"reputation": 3666, "user_id": 2421349, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/bfce06c5facb3ecb1acc1b2ef895f321?s=128&d=identicon&r=PG&f=1", "display_name": "kibowki", "link": "https://stackoverflow.com/users/2421349/kibowki"}, "edited": false, "score": 0, "creation_date": 1435238179, "post_id": 31034953, "comment_id": 50123916, "body": "Do I have to create a class every time I want to receive an object?  Or is there another way?  Also, how do I create nested name value pairs like in the case of <code>moreData.attachments.name</code>?    <code>public class MoreData {      attachments {get; set;}  }</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1435284745, "post_id": 31034953, "comment_id": 50147749, "body": "You can always just have a lot of parameter names e.g. <code>string Name, int Age, ...</code> but that will soon get out of control. For the object you have shown you need 3 classes - <code>public class Attachment { public string name { get; set; }</code>, <code>public class moreData { public string documentName { get; set; } public Attachment attachments { get; set; }}</code> and <code>public class myData { public string Name { get; set; } public int Age { get; set; }}</code> and then the controller method would be <code>public ActionResult Index(myData  model1, moreData model2)</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1435284825, "post_id": 31034953, "comment_id": 50147766, "body": "Of course you could just have one class containing all properties and just create one javascript object on the client."}], "owner": {"reputation": 3666, "user_id": 2421349, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/bfce06c5facb3ecb1acc1b2ef895f321?s=128&d=identicon&r=PG&f=1", "display_name": "kibowki", "link": "https://stackoverflow.com/users/2421349/kibowki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435172906, "creation_date": 1435172906, "question_id": 31034953, "link": "https://stackoverflow.com/questions/31034953/how-do-i-use-json-sent-from-a-post-request-to-c", "title": "How do I use JSON sent from a POST Request to C#?", "body": "<p>So as the title says, I'm looking to manipulate JSON received from a client side AJAX POST request in a C# backend.  Here is my code:</p>\n\n<p><strong>Client side:</strong></p>\n\n<pre><code>var myData = { Name: \"tyler\", Age: 3 };\nvar moreData = {\n    documentName: \"Doc-109\",\n    attachments: {\n        name: \"Attachment 11\"\n    }\n};\n$.post('/NMISProduct/Index', { myData: myData, moreData: moreData }, function(returnedData) {\n    console.log(returnedData);\n}, 'json');\n</code></pre>\n\n<p><strong>C# backend:</strong></p>\n\n<pre><code>[HttpPost]\npublic ActionResult Index(string myData, string moreData)\n{\n    //I want to return myData.Name + moreData.attachments.name in JSON format - How do I do this?\n}\n</code></pre>\n\n<p>How do I do this?</p>\n"}, {"tags": ["c#", "validation", "typeconverter", "parameterbinding"], "owner": {"reputation": 1290, "user_id": 1727540, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/1XvnL.jpg?s=128&g=1", "display_name": "nastassiar", "link": "https://stackoverflow.com/users/1727540/nastassiar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435175202, "creation_date": 1435172833, "last_edit_date": 1435175202, "question_id": 31034937, "link": "https://stackoverflow.com/questions/31034937/parameter-binding-typeconverter-error-handling", "title": "Parameter Binding TypeConverter Error Handling", "body": "<p>Potentially this is a very silly question and I am missing something simple</p>\n\n<p>I am using Parameter binding to bind a string to a type and then I was hoping to do some basic validation on it. But I can't seem to get the error messages to be helpful. </p>\n\n<p>Originally I had  :</p>\n\n<pre><code>    [HttpPost]\n    [Route(\"user/{id:guid}/name/{name}\")]\n    public async Task&lt;IHttpActionResult&gt; PostUserName(Guid id, [FromUri] Request Name)\n    {\n        ....\n    }\n\npublic class Request\n{\n    [Required]\n    [StringLength(17, MinimumLength = 17, ErrorMessage = ValidationConstants.LengthMessage)]\n    [RegularExpression(ValidationConstants.AlphaNumericRegex, ErrorMessage = ValidationConstants.AlphaNumericMessage)]\n    public string Name { get; set; }\n}\n</code></pre>\n\n<p>And the error messaging looked great but then my request URI looked like this:</p>\n\n<blockquote>\n  <p><a href=\"http://localhost:2010/v2/users/\" rel=\"nofollow\">http://localhost:2010/v2/users/</a>{id}/name/{Name}?name.Name=784598143uurjkndgkjhajkdhfkladshfkjahsdkfjl</p>\n</blockquote>\n\n<p>Then I tried</p>\n\n<pre><code>    [HttpPost]\n    [Route(\"user/{id:guid}/name/{name}\")]\n    public async Task&lt;IHttpActionResult&gt; PostUserName(Guid id, Request name)\n    {\n        .....\n    }\n\n\n    [TypeConverter(typeof(RequestConverter))]\n    public class Request\n    {\n        [Required]\n        [StringLength(50, MinimumLength = 1, ErrorMessage = ValidationConstants.LengthMessage)]\n        [RegularExpression(ValidationConstants.AlphaNumericRegex, ErrorMessage = ValidationConstants.AlphaNumericMessage)]\n\n        public string Name { get; set; } \n\n        public static bool TryParse(string s, out Request result)\n        {\n            result = new Request() { Name = s };\n           if (result.Name != null)\n           {\n                return false;\n            }\n\n            return true;\n        }\n    }\n\n    class RequestConverter : TypeConverter\n    {\n        public override bool CanConvertFrom(ITypeDescriptorContext context, Type sourceType)\n        {\n            if (sourceType == typeof(string))\n            {\n                return true;\n            }\n            return base.CanConvertFrom(context, sourceType);\n        }\n\n        public override object ConvertFrom(ITypeDescriptorContext context,\n            CultureInfo culture, object value)\n        {\n            if (value is string)\n            {\n                Request t;\n                try\n                {\n                    if (Request.TryParse((string)value, out t))\n                    {\n                        return t;\n                    }\n                }\n                catch (Exception e)\n                {\n                    throw e; \n                }\n            }\n            return base.ConvertFrom(context, culture, value);\n        }\n    }\n}\n</code></pre>\n\n<p>For this the URI looks good:</p>\n\n<blockquote>\n  <p><a href=\"http://localhost:2010/v2/users/\" rel=\"nofollow\">http://localhost:2010/v2/users/</a>{id}/name/784598143uurjkndgkjhajkdhfkladshfkjahsdkfjl</p>\n</blockquote>\n\n<p>But the validation doesn't work and when I try throwing exceptions the error messages are generic. </p>\n\n<p>The reason I chose to do it this way is I want the name to be a URI parameter, but I also want to do validation on it and have the error message be meaningful.  </p>\n\n<p>Is there a simpler way to do this or an I missing something simple?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "angularjs", "post", "internal-server-error"], "comments": [{"owner": {"reputation": 1171, "user_id": 3454330, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Cn1Yh.jpg?s=128&g=1", "display_name": "dima", "link": "https://stackoverflow.com/users/3454330/dima"}, "edited": false, "score": 0, "creation_date": 1435174560, "post_id": 31034931, "comment_id": 50095190, "body": "what is the actual error though? the one you provided from browser console is not helping. Click on that <code>http:&#47;&#47;localhost:64201</code> link, it should go to the network tab in chrome, click again and see what the response is and what kind of error it is."}, {"owner": {"reputation": 1493, "user_id": 4429104, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0a07097aa0241c0240a8e87660c88f3e?s=128&d=identicon&r=PG&f=1", "display_name": "user95227", "link": "https://stackoverflow.com/users/4429104/user95227"}, "reply_to_user": {"reputation": 1171, "user_id": 3454330, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Cn1Yh.jpg?s=128&g=1", "display_name": "dima", "link": "https://stackoverflow.com/users/3454330/dima"}, "edited": false, "score": 0, "creation_date": 1435175038, "post_id": 31034931, "comment_id": 50095458, "body": "@dima thank you so much for reaching out. I&#39;m pretty new so I didn&#39;t think to look there! The error message read <code>ExceptionMessage: &quot;The model backing the &#39;ApplicationDbContext&#39; context has changed since the database was created. Consider using Code First Migrations to update the database</code>. So I opened the package manager console and executed the <code>Update-Database</code> command but got <code>No pending explicit migrations.</code> and still encounter the same error. Is <code>Update-Database</code> what I should be executing to do the migrations? Thank you!"}, {"owner": {"reputation": 1493, "user_id": 4429104, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0a07097aa0241c0240a8e87660c88f3e?s=128&d=identicon&r=PG&f=1", "display_name": "user95227", "link": "https://stackoverflow.com/users/4429104/user95227"}, "reply_to_user": {"reputation": 1171, "user_id": 3454330, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Cn1Yh.jpg?s=128&g=1", "display_name": "dima", "link": "https://stackoverflow.com/users/3454330/dima"}, "edited": false, "score": 0, "creation_date": 1435175697, "post_id": 31034931, "comment_id": 50095869, "body": "@dima I also came across the top answer to <a href=\"http://stackoverflow.com/questions/22407968/internal-server-error-api-account-register\">this post</a> where someone was getting the same error as myself at the same line of code. His issue seemed to be his connection string. I checked my <code>web.config</code> and everything looks as right as I could expect. I have a connection string for the table with my models&#39; data and one for my asp users."}, {"owner": {"reputation": 1171, "user_id": 3454330, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/Cn1Yh.jpg?s=128&g=1", "display_name": "dima", "link": "https://stackoverflow.com/users/3454330/dima"}, "edited": false, "score": 0, "creation_date": 1435175862, "post_id": 31034931, "comment_id": 50095984, "body": "ok so really the problem is that your migrations don&#39;t work or don&#39;t update your DB. It&#39;s hard to know what the problem can be. It&#39;s been awhile since I used migrations but I think you need to specifically add a migration first and then update DB unless you have automatic migrations on. Hard to say without looking at your code."}], "answers": [{"comments": [{"owner": {"reputation": 1493, "user_id": 4429104, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0a07097aa0241c0240a8e87660c88f3e?s=128&d=identicon&r=PG&f=1", "display_name": "user95227", "link": "https://stackoverflow.com/users/4429104/user95227"}, "edited": false, "score": 0, "creation_date": 1435178580, "post_id": 31035944, "comment_id": 50097477, "body": "After running the first two, <a href=\"http://i.imgur.com/wqEkbLY.png\" rel=\"nofollow noreferrer\">here is the output</a>. I know I had entered <code>enable-migrations</code> and <code>update-database</code> previously. I had never tried <code>add-migration InitialCreate</code> before.  If you&#39;re wondering why I specified the project name for <code>enable migrations</code>, it&#39;s because there are two projects in this solution and it asked me to specify.  Should I try <code>enable-migrations force</code> to overwrite the existing migrations? Thanks!"}, {"owner": {"reputation": 1493, "user_id": 4429104, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0a07097aa0241c0240a8e87660c88f3e?s=128&d=identicon&r=PG&f=1", "display_name": "user95227", "link": "https://stackoverflow.com/users/4429104/user95227"}, "edited": false, "score": 0, "creation_date": 1435179088, "post_id": 31035944, "comment_id": 50097723, "body": "Additionally, here is my migrations folder that currently exists: <a href=\"http://i.imgur.com/NsKj8Dc.png\" rel=\"nofollow noreferrer\">i.imgur.com/NsKj8Dc.png</a>"}, {"owner": {"reputation": 1493, "user_id": 4429104, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0a07097aa0241c0240a8e87660c88f3e?s=128&d=identicon&r=PG&f=1", "display_name": "user95227", "link": "https://stackoverflow.com/users/4429104/user95227"}, "edited": false, "score": 0, "creation_date": 1435179620, "post_id": 31035944, "comment_id": 50097996, "body": "Not sure why I didn&#39;t just try to run <code>update-database</code> after the first two commands the first time. But I did and got <a href=\"http://i.imgur.com/7NRv1Uk.png\" rel=\"nofollow noreferrer\">this result</a>. Unfortunatley, I still get the same 500 server error. Please advise. Thank you so much for helping!"}, {"owner": {"reputation": 1493, "user_id": 4429104, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0a07097aa0241c0240a8e87660c88f3e?s=128&d=identicon&r=PG&f=1", "display_name": "user95227", "link": "https://stackoverflow.com/users/4429104/user95227"}, "edited": false, "score": 0, "creation_date": 1435236537, "post_id": 31035944, "comment_id": 50122610, "body": "It appears to be the same. <a href=\"http://i.imgur.com/JeHUcaH.png\" rel=\"nofollow noreferrer\">ExceptionMessage: &quot;The model backing the &#39;ApplicationDbContext&#39; context has changed since the database was created. Consider using Code First Migrations to update the database</a>. I really appreciate you looking into this. I can try removing the current migrations folder and enabling them again or just force another add. I&#39;ll be sure to commit the current state of the project so I can revert if I break things. Let me know if you have any ideas. Thanks Alex!"}, {"owner": {"reputation": 1759, "user_id": 3990495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EAazt.jpg?s=128&g=1", "display_name": "ranquild", "link": "https://stackoverflow.com/users/3990495/ranquild"}, "reply_to_user": {"reputation": 1493, "user_id": 4429104, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0a07097aa0241c0240a8e87660c88f3e?s=128&d=identicon&r=PG&f=1", "display_name": "user95227", "link": "https://stackoverflow.com/users/4429104/user95227"}, "edited": false, "score": 1, "creation_date": 1435236658, "post_id": 31035944, "comment_id": 50122702, "body": "If possible, delete entire database in development environment, delete migrations and let ef recreate database from scratch."}, {"owner": {"reputation": 1493, "user_id": 4429104, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0a07097aa0241c0240a8e87660c88f3e?s=128&d=identicon&r=PG&f=1", "display_name": "user95227", "link": "https://stackoverflow.com/users/4429104/user95227"}, "edited": false, "score": 0, "creation_date": 1435244322, "post_id": 31035944, "comment_id": 50129032, "body": "<a href=\"http://i.imgur.com/AAmP2XI.png\" rel=\"nofollow noreferrer\">Ok check it out</a>! <code>FirstName</code> and <code>LastName</code> were added to my table <code>AspNetUsers</code> table! Thank you so much! Now I&#39;m left with a couple questions. As you can see from the image, I still have two DbContexts. Should I be trying to move the tables that EF created from my models to the same context as <code>AspNetUsers</code>?"}, {"owner": {"reputation": 1759, "user_id": 3990495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EAazt.jpg?s=128&g=1", "display_name": "ranquild", "link": "https://stackoverflow.com/users/3990495/ranquild"}, "reply_to_user": {"reputation": 1493, "user_id": 4429104, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0a07097aa0241c0240a8e87660c88f3e?s=128&d=identicon&r=PG&f=1", "display_name": "user95227", "link": "https://stackoverflow.com/users/4429104/user95227"}, "edited": false, "score": 1, "creation_date": 1435244374, "post_id": 31035944, "comment_id": 50129082, "body": "You can inherit your context from IdentityContext."}, {"owner": {"reputation": 1493, "user_id": 4429104, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0a07097aa0241c0240a8e87660c88f3e?s=128&d=identicon&r=PG&f=1", "display_name": "user95227", "link": "https://stackoverflow.com/users/4429104/user95227"}, "edited": false, "score": 0, "creation_date": 1435244599, "post_id": 31035944, "comment_id": 50129254, "body": "I also noticed that my <code>Configuration.cs</code> in my Migrations folder now applies to the context with <code>AspNetUsers</code> (DefaultConnection at the top of image from last comment). So the seed method no longer can populate the tables for my created models (because they are in the other DbContext). Is there a way to get a second <code>Configuration.cs</code> file or a <code>Seed</code> method? So that I can seed both? This is a moot point if the answer to my previous comment is &quot;Add the tables EF generated for your models to the same DbContext as <code>AspNetUsers</code>. Thanks!"}, {"owner": {"reputation": 1493, "user_id": 4429104, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0a07097aa0241c0240a8e87660c88f3e?s=128&d=identicon&r=PG&f=1", "display_name": "user95227", "link": "https://stackoverflow.com/users/4429104/user95227"}, "edited": false, "score": 0, "creation_date": 1435245532, "post_id": 31035944, "comment_id": 50130008, "body": "Ok so the context is for my models currently starts with <code>public class TourneyTimeAPIContext : DbContext</code>. Is this where I should change it to be <code>public class TourneyTimeAPIContext : IdentityDbContext&lt;ApplicationUser&gt;</code> ? What will this do for me? Sorry I&#39;m unfamiliar with this process. Thanks"}, {"owner": {"reputation": 1759, "user_id": 3990495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EAazt.jpg?s=128&g=1", "display_name": "ranquild", "link": "https://stackoverflow.com/users/3990495/ranquild"}, "reply_to_user": {"reputation": 1493, "user_id": 4429104, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0a07097aa0241c0240a8e87660c88f3e?s=128&d=identicon&r=PG&f=1", "display_name": "user95227", "link": "https://stackoverflow.com/users/4429104/user95227"}, "edited": false, "score": 0, "creation_date": 1435247848, "post_id": 31035944, "comment_id": 50131702, "body": "If you inherit from IdentityDbContext you will get access to Users and related tables."}], "tags": [], "owner": {"reputation": 1759, "user_id": 3990495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EAazt.jpg?s=128&g=1", "display_name": "ranquild", "link": "https://stackoverflow.com/users/3990495/ranquild"}, "is_accepted": true, "score": 2, "last_activity_date": 1435176245, "creation_date": 1435176245, "answer_id": 31035944, "question_id": 31034931, "link": "https://stackoverflow.com/questions/31034931/http-post-resulting-in-500-internal-server-error-with-c-mvc-after-adding-pro/31035944#31035944", "title": "$http post resulting in 500 (Internal Server Error) with C# MVC after adding properties to built in User", "body": "<p>From the comments above, it is clearly a db migration error. Code for package manager console:</p>\n\n<pre><code>enable-migrations\nadd-migration InitialCreate\nupdate-database\n</code></pre>\n\n<p>More info with example <a href=\"http://www.asp.net/mvc/overview/getting-started/getting-started-with-ef-using-mvc/migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 1493, "user_id": 4429104, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0a07097aa0241c0240a8e87660c88f3e?s=128&d=identicon&r=PG&f=1", "display_name": "user95227", "link": "https://stackoverflow.com/users/4429104/user95227"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2599, "favorite_count": 0, "accepted_answer_id": 31035944, "answer_count": 1, "score": 0, "last_activity_date": 1435176245, "creation_date": 1435172811, "last_edit_date": 1495540715, "question_id": 31034931, "link": "https://stackoverflow.com/questions/31034931/http-post-resulting-in-500-internal-server-error-with-c-mvc-after-adding-pro", "title": "$http post resulting in 500 (Internal Server Error) with C# MVC after adding properties to built in User", "body": "<p>I'm getting a 500 Internal Server error when trying to register a new user with ASP.net's built in user authentication.</p>\n\n<p>This was previously working for me, but now I've attempted to add a <code>FirstName</code> and <code>LastName</code> field to the 'AspNetUser' table and I'm receiving the 500 error.</p>\n\n<p>In my app.js I'm using angular to communicate with my c sharp controllers. I've put comments with \"**\" next to all the code I added since the app was registering users properly.</p>\n\n<p>Previously I only registered users with an <code>email</code>, <code>password</code>, and <code>confirmPassword</code>. When trying to add in the <code>FirstName</code> and <code>LastName</code>, I get the 500 error.</p>\n\n<p>JS:</p>\n\n<pre><code>$http.post(API_END_POINT + '/api/Account/Register', user);  //**added to post the new user. this call is triggered when a header is clicked in my html\n\nvar user = {\n    Email: 'Joe@gmail.com',\n    Password: 'Pass1234!',\n    ConfirmPassword: 'Pass1234!',\n    FirstName: 'Joe',       ///**added FirstName and LastName to test JS object\n    LastName: 'Schmo'       ///**\n}\n</code></pre>\n\n<p>AccountController</p>\n\n<pre><code>    //[Authorize]\n[RoutePrefix(\"api/Account\")]\npublic class AccountController : ApiController\n{\n\n        // POST api/Account/Register\n    [AllowAnonymous]\n    [Route(\"Register/\")]\n    public async Task&lt;IHttpActionResult&gt; Register(RegisterBindingModel model)\n    {\n        if (!ModelState.IsValid)\n        {\n            return BadRequest(ModelState);\n        }\n\n        var user = new ApplicationUser() { UserName = model.Email, Email = model.Email, FirstName = model.FirstName, LastName = model.LastName}; //**added FirstName and LastName to ApplicationUser\n\n        IdentityResult result = await UserManager.CreateAsync(user, model.Password);\n\n        if (!result.Succeeded)\n        {\n            return GetErrorResult(result);\n        }\n\n        return Ok();\n    }\n\n}\n</code></pre>\n\n<p>IdentityModels.cs</p>\n\n<p>I tried to follow the advice of /u/dima <a href=\"https://stackoverflow.com/questions/23209539/how-can-i-add-user-first-name-and-last-name-to-an-asp-net-identity-2\">from this accepted answer</a> as well as /u/ Alex Polyankin in the <a href=\"https://stackoverflow.com/questions/31028602/ef-code-first-mvc-should-i-add-fields-to-the-default-aspnetusers-table-or-creat\">question I posted earlier today</a> by adding the <code>FirstName</code> and <code>LastName</code> properties to <code>ApplicationUser</code>.</p>\n\n<pre><code>    // You can add profile data for the user by adding more properties to your ApplicationUser class, please visit http://go.microsoft.com/fwlink/?LinkID=317594 to learn more.\npublic class ApplicationUser : IdentityUser\n{\n    public async Task&lt;ClaimsIdentity&gt; GenerateUserIdentityAsync(UserManager&lt;ApplicationUser&gt; manager, string authenticationType)\n    {\n        // Note the authenticationType must match the one defined in CookieAuthenticationOptions.AuthenticationType\n        var userIdentity = await manager.CreateIdentityAsync(this, authenticationType);\n        // Add custom user claims here\n        return userIdentity;\n    }\n\n    public string FirstName { get; set; }     //**added these per user Dima's suggestion\n    public string LastName { get; set; }      //**\n\n}\n</code></pre>\n\n<p>AccountBindingModels.cs</p>\n\n<pre><code> public class RegisterBindingModel\n{\n    [Required]\n    [Display(Name = \"Email\")]\n    public string Email { get; set; }\n\n    [Required]\n    [StringLength(100, ErrorMessage = \"The {0} must be at least {2} characters long.\", MinimumLength = 6)]\n    [DataType(DataType.Password)]\n    [Display(Name = \"Password\")]\n    public string Password { get; set; }\n\n    [DataType(DataType.Password)]\n    [Display(Name = \"Confirm password\")]\n    [Compare(\"Password\", ErrorMessage = \"The password and confirmation password do not match.\")]\n    public string ConfirmPassword { get; set; }\n\n    [Required]\n    [Display(Name = \"First Name\")]\n    public string FirstName { get; set; }     //**added FirstName to  account binding class\n\n    [Required]\n    [Display(Name = \"Last Name\")]\n    public string LastName { get; set; }       //**added FirstName to  account binding class\n\n}\n</code></pre>\n\n<p>Again, I commented with ** on all the code I added since it was working.</p>\n\n<p>When debugging, the user(with first and last name) <a href=\"https://i.imgur.com/cA5pekP.png\" rel=\"nofollow noreferrer\">appears to make it to the controller properly</a></p>\n\n<p>However <a href=\"https://i.imgur.com/jracwZu.png\" rel=\"nofollow noreferrer\">this is as far as I make it in the debugger</a>. I get the 500 error before entering that last if statement in the account controller.</p>\n\n<p>And <a href=\"https://i.imgur.com/CXFEFuA.png\" rel=\"nofollow noreferrer\">here</a> is the actual error in the debugger.</p>\n\n<p>What might be causing this error?</p>\n\n<p>Thank you very much for your time. Let me know if you need any additional information or if I am being unclear.</p>\n"}, {"tags": ["c#", "xamarin"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1435172929, "post_id": 31034896, "comment_id": 50094298, "body": "You want to use the .NET String.Format (System.String.Format), not the Java String.Format"}], "answers": [{"tags": [], "owner": {"reputation": 652, "user_id": 1856992, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/eed63f2945cf3d8f6611e856fc36c674?s=128&d=identicon&r=PG", "display_name": "thinklarge", "link": "https://stackoverflow.com/users/1856992/thinklarge"}, "is_accepted": false, "score": 0, "last_activity_date": 1435173352, "creation_date": 1435173352, "answer_id": 31035099, "question_id": 31034896, "link": "https://stackoverflow.com/questions/31034896/convert-a-string-to-hex/31035099#31035099", "title": "Convert a string to hex", "body": "<p>This ought to work for you.\nYou don't need to convert to a character array and you're using the wrong string formatter. </p>\n\n<pre><code>string a = \"msg\";  \n\nforeach (char c in a)    \n{       \n    int val = Convert.ToInt32(c);\n    string z = String.Format(\"{0:X}\",val); \n    Console.WriteLine(z);  \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 520, "user_id": 3050333, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zPwNm.png?s=128&g=1", "display_name": "Jyrka98", "link": "https://stackoverflow.com/users/3050333/jyrka98"}, "is_accepted": false, "score": 1, "last_activity_date": 1435174106, "creation_date": 1435174106, "answer_id": 31035329, "question_id": 31034896, "link": "https://stackoverflow.com/questions/31034896/convert-a-string-to-hex/31035329#31035329", "title": "Convert a string to hex", "body": "<p>Here's a one line solution using linq:</p>\n\n<pre><code>var msg = \"msg\";\nmsg.Select(i =&gt; ((int)i).ToString(\"X\")).ToList().ForEach(Console.WriteLine);\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 4012846, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/100000469850967/picture?type=large", "display_name": "Bogdan Mocanu", "link": "https://stackoverflow.com/users/4012846/bogdan-mocanu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1435174789, "creation_date": 1435172736, "last_edit_date": 1435174789, "question_id": 31034896, "link": "https://stackoverflow.com/questions/31034896/convert-a-string-to-hex", "title": "Convert a string to hex", "body": "<p>I want to convert a string to hex code.I am using\n xamarin.The only output I get is {0:X} </p>\n\n<pre><code>string a = \"msg\";    \nchar[] val = a.ToCharArray();\n\nforeach (char c in val)    \n{    \n    int b = Convert.ToInt32(val);    \n    string z = Java.Lang.String.Format(\"{0:X}\",b);    \n    outEditText.Text = z;    \n}\n</code></pre>\n"}, {"tags": ["c#", "function", "report", "progress"], "answers": [{"comments": [{"owner": {"reputation": 425, "user_id": 4020890, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/269ea302c935056ccab17fb63623b495?s=128&d=identicon&r=PG&f=1", "display_name": "Matias", "link": "https://stackoverflow.com/users/4020890/matias"}, "edited": false, "score": 0, "creation_date": 1435173385, "post_id": 31034939, "comment_id": 50094555, "body": "Thanks, I could do that, but I&#39;m more interested in how to display the pop-up window.. I can&#39;t just put a messagebox I believe."}, {"owner": {"reputation": 1, "user_id": 5045933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18e5486dc2febcd975f56e10d60cc278?s=128&d=identicon&r=PG", "display_name": "fieora", "link": "https://stackoverflow.com/users/5045933/fieora"}, "reply_to_user": {"reputation": 425, "user_id": 4020890, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/269ea302c935056ccab17fb63623b495?s=128&d=identicon&r=PG&f=1", "display_name": "Matias", "link": "https://stackoverflow.com/users/4020890/matias"}, "edited": false, "score": 0, "creation_date": 1435175378, "post_id": 31034939, "comment_id": 50095664, "body": "Well, you could make your own form and load that. Put the bar on it, and tell the form to close when it fills up."}], "tags": [], "owner": {"reputation": 1, "user_id": 5045933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18e5486dc2febcd975f56e10d60cc278?s=128&d=identicon&r=PG", "display_name": "fieora", "link": "https://stackoverflow.com/users/5045933/fieora"}, "is_accepted": false, "score": 0, "last_activity_date": 1435172838, "creation_date": 1435172838, "answer_id": 31034939, "question_id": 31034822, "link": "https://stackoverflow.com/questions/31034822/show-progress-visually/31034939#31034939", "title": "Show Progress Visually", "body": "<p>in C#.NET there is an object for a progress bar.  It has a property called step that is an int that increases the progress by that value.  You increase the progress by running the PerformStep() method. Which might look like this.</p>\n\n<p><br><Code> progressBar1.PerformStep();</code></p>\n\n<p>You will have to figure out how you want to measure progress.\nYou can hide the object and use the value in a pop-up window.</p>\n"}, {"tags": [], "owner": {"reputation": 1570, "user_id": 5008193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iOKgE.jpg?s=128&g=1", "display_name": "Graffito", "link": "https://stackoverflow.com/users/5008193/graffito"}, "is_accepted": false, "score": 0, "last_activity_date": 1435221374, "last_edit_date": 1495540711, "creation_date": 1435174642, "answer_id": 31035497, "question_id": 31034822, "link": "https://stackoverflow.com/questions/31034822/show-progress-visually/31035497#31035497", "title": "Show Progress Visually", "body": "<p>If you are using WinForms, you will find a class matching your expectations there:\n<a href=\"https://stackoverflow.com/questions/30829395/an-easy-to-use-progress-bar-for-winforms\">SxProgress overview and source code</a></p>\n\n<pre><code>SxProgress.Execute(\"XXXXX in progress...\",3,false,false,myFunction_ExecInThread,new object[]{})\n\n    private bool myFunction_ExecInThread,_ExecInThread(int ItemIndex,object[] UserObjects)\n    { // 3 steps ==&gt; ItemIndex varies from 0 to 2\n      switch (i)\n        { \n           case 0 : // your step 1 code there\n                    // if you have a n/count progress info in step 1 process, use this:\n                    // SetSubProgressValue(n,count,UserObjects) \n                    break ;\n           case 1 : // your step 2 code there\n           case 2 : // your step  3 code there\n        }\n       return true ; // or false if a step fails\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3089, "user_id": 2637050, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3INgK.png?s=128&g=1", "display_name": "a-ctor", "link": "https://stackoverflow.com/users/2637050/a-ctor"}, "is_accepted": true, "score": 1, "last_activity_date": 1435175462, "creation_date": 1435175462, "answer_id": 31035724, "question_id": 31034822, "link": "https://stackoverflow.com/questions/31034822/show-progress-visually/31035724#31035724", "title": "Show Progress Visually", "body": "<p>To create a simple solution consider this:</p>\n\n<p>Create a another form (in my case <code>Progress</code>) and put something on  it which visualizes the progress. In my case it looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/t0UkZ.png\" alt=\"Progess form\"></p>\n\n<p>The form itself has the <code>FormBorderStyle</code> set to <code>FixedToolWindow</code> and <code>StartPosition</code> set to <code>CenterParent</code>.</p>\n\n<p>Now change the constructor to the a <code>BackgroundWorker</code> argument and set up the events and start the process.</p>\n\n<pre><code>public Progress(BackgroundWorker task)\n{\n    InitializeComponent();\n    task.RunWorkerCompleted += (sender, args) =&gt; Close();\n    task.ProgressChanged += (sender, args) =&gt; pB_progress.Value = args.ProgressPercentage;\n    task.RunWorkerAsync();\n}\n</code></pre>\n\n<p>In the main form just add something like this:</p>\n\n<pre><code>private void PopupJob()\n{\n    var worker = new BackgroundWorker\n    {\n        WorkerSupportsCancellation = false,\n        WorkerReportsProgress = true\n    };\n    worker.DoWork += OurRealJob;\n    new Progress(worker).ShowDialog();\n}\n\nprivate void OurRealJob(object sender, DoWorkEventArgs doWorkEventArgs)\n{\n    var wrk = (BackgroundWorker) sender;\n    Thread.Sleep(1000);\n    wrk.ReportProgress(30);\n    Thread.Sleep(5000);\n    wrk.ReportProgress(100);\n}\n</code></pre>\n\n<p>To show the popup progress thingy simply call <code>PopupJob</code>. The <code>OurRealJob</code> can be replaced with your code.</p>\n\n<p>When you do it this way, the code will run in the background and the form will stay responsive. Because we are calling <code>Form.ShowDialog()</code> the progress form will be at the front and the main form can not be used until the job is done.</p>\n"}], "owner": {"reputation": 425, "user_id": 4020890, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/269ea302c935056ccab17fb63623b495?s=128&d=identicon&r=PG&f=1", "display_name": "Matias", "link": "https://stackoverflow.com/users/4020890/matias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 31035724, "answer_count": 3, "score": 0, "last_activity_date": 1435221374, "creation_date": 1435172431, "question_id": 31034822, "link": "https://stackoverflow.com/questions/31034822/show-progress-visually", "title": "Show Progress Visually", "body": "<p>I have a function that performs several steps, one at a time, and I would like to display a form or something that tells the user their function is being processed</p>\n\n<p>Basically the function in the Main Form looks like this:</p>\n\n<pre><code> public void MyFunction ()\n{\n//Step1, takes aproximately 20 seconds\n//Step2, takes 10 seconds\n//Step3, takes about 25 seconds\n}\n</code></pre>\n\n<p>So, the idea is to inform the user something is under process, because during Step 1, 2 and 3, the GUI remains unresponsive. I don't want to use a simple ProgressBar, it's an image processing software and there's no space to add a ProgressBar, it should be something that pops up basically. I was thinking on another form but not sure how would that work..</p>\n\n<p>Any ideas on how to do this?</p>\n\n<p>Thank you,</p>\n\n<p>Matias.</p>\n"}, {"tags": ["c#", "html", "asp.net", "telerik", "radgrid"], "comments": [{"owner": {"reputation": 2247, "user_id": 2514995, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/FYI74.jpg?s=128&g=1", "display_name": "Nilesh", "link": "https://stackoverflow.com/users/2514995/nilesh"}, "edited": false, "score": 1, "creation_date": 1435241730, "post_id": 31034816, "comment_id": 50126859, "body": "Follow this link. It should help fix your issue. <a href=\"http://stackoverflow.com/questions/19915504/telerik-control-layout-issues-visual-studio-2013\">Here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2247, "user_id": 2514995, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/FYI74.jpg?s=128&g=1", "display_name": "Nilesh", "link": "https://stackoverflow.com/users/2514995/nilesh"}, "is_accepted": true, "score": 1, "last_activity_date": 1435241798, "last_edit_date": 1495541647, "creation_date": 1435241798, "answer_id": 31052964, "question_id": 31034816, "link": "https://stackoverflow.com/questions/31034816/asp-net-telerik-radgrid-data-does-not-render-in-tabular-format/31052964#31052964", "title": "Asp.Net Telerik RadGrid : Data does not render in tabular format", "body": "<p>Check this <a href=\"https://stackoverflow.com/questions/19915504/telerik-control-layout-issues-visual-studio-2013\">link</a> \nI think this should resolve the issue you are facing. the problem is VS2013.</p>\n"}], "owner": {"reputation": 2077, "user_id": 980872, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/735dea1466ed6f5f9e9f4ad71cbd7f54?s=128&d=identicon&r=PG", "display_name": "Lucifer", "link": "https://stackoverflow.com/users/980872/lucifer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 31052964, "answer_count": 1, "score": 0, "last_activity_date": 1435241798, "creation_date": 1435172417, "last_edit_date": 1435173635, "question_id": 31034816, "link": "https://stackoverflow.com/questions/31034816/asp-net-telerik-radgrid-data-does-not-render-in-tabular-format", "title": "Asp.Net Telerik RadGrid : Data does not render in tabular format", "body": "<p>I have an ASP.NET Telerik RadGrid control declared as below. The first column is a templated column which has checkboxes for each row. I observe that whenever I use the html checkbox input control the grid is rendered properly using the WebBlue skin. However, if I use an Asp.Net server side checkbox control then the data is rendered without the grid/table. (Screenshots attached). Now I need to use the server side controls to be able to use them in my server side functionality. I would really appreciate if someone is able to figure the solution for this bug.</p>\n\n<pre><code>        &lt;telerik:RadGrid AutoGenerateColumns=\"False\" ID=\"FxTransactionGrid\" AllowFilteringByColumn=\"false\"\n            AllowPaging=\"False\" AllowSorting=\"false\" runat=\"server\" GridLines=\"None\" HeaderStyle-Font-Bold=\"true\" \n            Skin=\"WebBlue\" ItemStyle-HorizontalAlign=\"Right\" AlternatingItemStyle-HorizontalAlign=\"Right\"\n            SortingSettings-EnableSkinSortStyles=\"false\" HeaderStyle-HorizontalAlign=\"Center\"\n            OnItemCommand=\"FxTransactionGrid_ItemCommand\" Font-Names=\"veranda\" \n            &gt;\n            &lt;MasterTableView GroupLoadMode=\"Client\" TableLayout=\"Auto\" DataKeyNames=\"ExecRate, High, Low, SlippageVSMid,SlippageVSWMCO,ApprovedBy,Mt_ref, Warning\" \n\n            Font-Size=\"Smaller\" AllowMultiColumnSorting=\"true\"&gt;\n                &lt;Columns&gt;\n                    &lt;telerik:GridTemplateColumn UniqueName=\"CheckBox\" ItemStyle-Width=\"30px\" ItemStyle-HorizontalAlign=\"Center\"&gt;\n                        &lt;HeaderTemplate&gt;\n                            &lt;input id=\"headerCheckBox\" type=\"checkbox\" onclick=\"checkAllRows(this);\" /&gt;\n                        &lt;/HeaderTemplate&gt;\n                        &lt;ItemTemplate&gt;\n                            &lt;%--&lt;input id=\"rowCheckBox\" type=\"checkbox\" /&gt;--%&gt;\n                            &lt;asp:CheckBox ID=\"rowCheckBox\" runat=\"server\" /&gt;\n                        &lt;/ItemTemplate&gt;\n                    &lt;/telerik:GridTemplateColumn&gt;\n\n               ...other columns....\n       &lt;/telerik:RadGrid&gt;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/J9ooq.png\" alt=\"Grid with Server-side CheckBox control\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/H1g2A.png\" alt=\"Grid with HTML CheckBox Input control\"></p>\n"}, {"tags": ["c#", "wpf", "triggers", "touch", "scrollviewer"], "answers": [{"tags": [], "owner": {"reputation": 429, "user_id": 2815245, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/866f62352043f7305f89617d1393ed64?s=128&d=identicon&r=PG&f=1", "display_name": "Joby James", "link": "https://stackoverflow.com/users/2815245/joby-james"}, "is_accepted": false, "score": 0, "last_activity_date": 1435219300, "creation_date": 1435219300, "answer_id": 31044533, "question_id": 31034758, "link": "https://stackoverflow.com/questions/31034758/wpf-why-my-scrollview-with-panning-mode-is-blocking-button-touchdown-inside-it/31044533#31044533", "title": "WPF Why my scrollview with panning mode is blocking button.touchdown inside it?", "body": "<p>Use this style, Please set Images. </p>\n\n<pre><code>&lt;Style x:Key=\"DigitButtonStyle111\" TargetType=\"{x:Type Button}\"&gt;\n    &lt;Setter Property=\"Template\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate TargetType=\"{x:Type Button}\"&gt;\n                &lt;Grid&gt;\n                    &lt;Image x:Name=\"PinButton\" Source=\"pack://application:,,,/V-Coles;component/Resources/Images/pin_key.png\" Stretch=\"Fill\"/&gt;\n                    &lt;ContentPresenter x:Name=\"contentPresenter\" Focusable=\"False\" HorizontalAlignment=\"{TemplateBinding HorizontalContentAlignment}\" Margin=\"{TemplateBinding Padding}\" RecognizesAccessKey=\"True\" SnapsToDevicePixels=\"{TemplateBinding SnapsToDevicePixels}\" VerticalAlignment=\"{TemplateBinding VerticalContentAlignment}\"/&gt;\n                &lt;/Grid&gt;\n                &lt;ControlTemplate.Triggers&gt;\n                    &lt;EventTrigger SourceName=\"PinButton\"  RoutedEvent=\"Button.PreviewMouseDown\"&gt;\n                        &lt;BeginStoryboard  &gt;\n                            &lt;Storyboard &gt;\n                                &lt;ObjectAnimationUsingKeyFrames Storyboard.TargetName=\"PinButton\" Storyboard.TargetProperty=\"Source\"&gt;\n                                    &lt;DiscreteObjectKeyFrame KeyTime=\"0:0:0\" Value=\"pack://application:,,,/V-Coles;component/Resources/Images/cancle_pin_inpress.png\" /&gt;\n                                &lt;/ObjectAnimationUsingKeyFrames&gt;\n                            &lt;/Storyboard&gt;\n                        &lt;/BeginStoryboard&gt;\n                    &lt;/EventTrigger&gt;\n                    &lt;Trigger Property=\"IsDefaulted\" Value=\"true\"&gt;\n\n                    &lt;/Trigger&gt;\n                    &lt;Trigger Property=\"IsEnabled\" Value=\"false\"&gt;\n                    &lt;/Trigger&gt;\n                &lt;/ControlTemplate.Triggers&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n&lt;/Style&gt;\n\n&lt;Button x:Name=\"SecondButton\" Width=\"62\" Height=\"63\" BorderBrush=\"Transparent\" Style=\"{StaticResource ButtonStyle11}\" PreviewTouchDown=\"FirstButton_TouchDown\" PreviewTouchUp=\"FirstButton_TouchUp\"  PreviewMouseDown=\"FirstButton_PreviewMouseDown\" PreviewMouseUp=\"FirstButton_PreviewMouseUp\" Canvas.Left=\"72\" Canvas.Top=\"121\"  FontWeight=\"Bold\" FontSize=\"25\" Content=\"2\" Command=\"{Binding Path=DigitButton}\" CommandParameter=\"{Binding ElementName=SecondButton}\"&gt;\n                &lt;Button.Background&gt;\n                    &lt;ImageBrush ImageSource=\"pack://application:,,,/V-Coles;component/Resources/Images/pin_key.png\"/&gt;\n                &lt;/Button.Background&gt;\n            &lt;/Button&gt;\n\nprivate void FirstButton_PreviewMouseDown(object sender, MouseButtonEventArgs e)\n{\n    ImageBrush brush1 = new ImageBrush();\n    brush1.Stretch = Stretch.Fill;\n    BitmapImage image = new BitmapImage(new Uri(\"pack://application:,,,/V;component/Resources/Images/cancle_pin_inpress.png\"));\n    brush1.ImageSource = image;\n    (sender as Button).Background = brush1;\n    (sender as Button).Foreground = Brushes.White;\n}\n\nprivate void FirstButton_PreviewMouseUp(object sender, MouseButtonEventArgs e)\n{\n    ImageBrush brush1 = new ImageBrush();\n    BitmapImage image = new BitmapImage(new Uri(\"pack://application:,,,/V;component/Resources/Images/pin_key.png\"));\n    brush1.ImageSource = image;\n    (sender as Button).Background = brush1;\n    (sender as Button).Foreground = Brushes.Black;\n}\n\nprivate void FirstButton_TouchDown(object sender, TouchEventArgs e)\n{\n    ImageBrush brush1 = new ImageBrush();\n    brush1.Stretch = Stretch.Fill;\n    BitmapImage image = new BitmapImage(new Uri(\"pack://application:,,,/V;component/Resources/Images/cancle_pin_inpress.png\"));\n    brush1.ImageSource = image;\n    (sender as Button).Background = brush1;\n    (sender as Button).Foreground = Brushes.White;\n}\n\nprivate void FirstButton_TouchUp(object sender, TouchEventArgs e)\n{\n    ImageBrush brush1 = new ImageBrush();\n    BitmapImage image = new BitmapImage(new Uri(\"pack://application:,,,/V;component/Resources/Images/pin_key.png\"));\n    brush1.ImageSource = image;\n    (sender as Button).Background = brush1;\n    (sender as Button).Foreground = Brushes.Black;\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 4330012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da4eb092f60af5d945ac2f92dcb13e2?s=128&d=identicon&r=PG&f=1", "display_name": "Jez Avila", "link": "https://stackoverflow.com/users/4330012/jez-avila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 526, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435219300, "creation_date": 1435172235, "question_id": 31034758, "link": "https://stackoverflow.com/questions/31034758/wpf-why-my-scrollview-with-panning-mode-is-blocking-button-touchdown-inside-it", "title": "WPF Why my scrollview with panning mode is blocking button.touchdown inside it?", "body": "<p>The problem i'm investigating is about  Button.Touchdown/up triggers on a Button with a style. OK this buttons are inside a ScrollViewer, this one has a panning-mode property and it's enabled. The situation is when i test my aplication with a TouchScreen and i try to drag with my finger the panel, it moves and then i touch any button the trigger TouchDown doesn't show the style effects. </p>\n\n<p>If i set panning-mode to false, then i try again to press the button it shows the style effects. </p>\n\n<p>The question is. Is any solution for this panning-mode issue?</p>\n\n<p>Look my Code:</p>\n\n<p>WindowApp.xaml</p>\n\n<pre><code>    &lt;Window x:Class=\"WPFScrollviewButtonsEffects.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        Title=\"MainWindow\" Height=\"350\" Width=\"525\"&gt;\n    &lt;Window.Resources&gt;\n        &lt;ResourceDictionary&gt;\n            &lt;ResourceDictionary.MergedDictionaries&gt;\n                &lt;ResourceDictionary Source=\"/webcontent/StylesPanelServices.xaml\"/&gt;\n            &lt;/ResourceDictionary.MergedDictionaries&gt;\n        &lt;/ResourceDictionary&gt;\n    &lt;/Window.Resources&gt;\n    &lt;Grid&gt;\n        &lt;ScrollViewer VerticalScrollBarVisibility=\"Auto\" HorizontalScrollBarVisibility=\"Disabled\" PanningMode=\"Both\"&gt;\n            &lt;StackPanel Width=\"500\" Height=\"500\"&gt;\n                &lt;StackPanel Orientation=\"Horizontal\" Margin=\"20,15,0,15\"&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                &lt;/StackPanel&gt;\n                &lt;StackPanel Orientation=\"Horizontal\" Margin=\"20,15,0,15\"&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                &lt;/StackPanel&gt;\n                &lt;StackPanel Orientation=\"Horizontal\" Margin=\"20,15,0,15\"&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                &lt;/StackPanel&gt;\n                &lt;StackPanel Orientation=\"Horizontal\" Margin=\"20,15,0,15\"&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                &lt;/StackPanel&gt;\n                &lt;StackPanel Orientation=\"Horizontal\" Margin=\"20,15,0,15\"&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                    &lt;Button Height=\"34\" Width=\"120\" Content=\"Button1\"/&gt;\n                &lt;/StackPanel&gt;\n            &lt;/StackPanel&gt;\n        &lt;/ScrollViewer&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>WindowApp.cs</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows;\nusing System.Windows.Controls;\nusing System.Windows.Data;\nusing System.Windows.Documents;\nusing System.Windows.Input;\nusing System.Windows.Media;\nusing System.Windows.Media.Imaging;\nusing System.Windows.Navigation;\nusing System.Windows.Shapes;\n\nnamespace WPFScrollviewButtonsEffects\n{\n    /// &lt;summary&gt;\n    /// L\u00f3gica de interacci\u00f3n para MainWindow.xaml\n    /// &lt;/summary&gt;\n    public partial class MainWindow : Window\n    {\n        public MainWindow()\n        {\n            InitializeComponent();\n        }\n    }\n}\n</code></pre>\n\n<p>StylesPanelServices.xaml</p>\n\n<pre><code>&lt;ResourceDictionary xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n                    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"&gt;\n\n    &lt;SolidColorBrush x:Key=\"AzulOscuro\" Color=\"#FF005E91\"/&gt;\n    &lt;Style TargetType=\"{x:Type Button}\"&gt;\n        &lt;Setter Property=\"FontFamily\" Value=\"Arial\"/&gt;\n        &lt;Setter Property=\"FontSize\" Value=\"8\"/&gt;\n        &lt;Setter Property=\"FontWeight\" Value=\"Light\"/&gt;\n        &lt;Setter Property=\"FontStyle\" Value=\"Normal\"/&gt;\n        &lt;Setter Property=\"Margin\" Value=\"15,0,15,0\"/&gt;\n        &lt;Setter Property=\"MinHeight\" Value=\"55\"/&gt;\n        &lt;Setter Property=\"TextBlock.TextAlignment\" Value=\"Center\"/&gt;\n        &lt;Setter Property=\"Template\"&gt;\n            &lt;Setter.Value&gt;\n                &lt;ControlTemplate TargetType=\"{x:Type Button}\"&gt;\n                    &lt;ControlTemplate.Resources&gt;\n                        &lt;Storyboard x:Key=\"Storyboard1\"&gt;\n                            &lt;ColorAnimation \n                                Storyboard.TargetName=\"btnborder\"\n                                Storyboard.TargetProperty=\"(Border.Background).(SolidColorBrush.Color)\"                                        \n                                To=\"#FF005E91\" Duration=\"00:00:0.08\"/&gt;\n                            &lt;DoubleAnimation BeginTime=\"0\" Duration=\"0\" Storyboard.TargetProperty=\"(Effect).Opacity\" Storyboard.TargetName=\"imagen\" To=\"1\"/&gt;\n                        &lt;/Storyboard&gt;\n                        &lt;Storyboard x:Key=\"Storyboard2\"&gt;\n                            &lt;ColorAnimation \n                                Storyboard.TargetName=\"btnborder\"\n                                Storyboard.TargetProperty=\"(Border.Background).(SolidColorBrush.Color)\"                                        \n                                To=\"White\" Duration=\"00:00:0.08\"/&gt;\n                            &lt;DoubleAnimation BeginTime=\"0\" Duration=\"0\" Storyboard.TargetProperty=\"(Effect).Opacity\" Storyboard.TargetName=\"imagen\" To=\"0\"/&gt;\n                        &lt;/Storyboard&gt;\n                        &lt;Storyboard x:Key=\"GlowOn\"&gt;\n                            &lt;DoubleAnimationUsingKeyFrames BeginTime=\"00:00:00\" Storyboard.TargetProperty=\"(Effect).Opacity\" Storyboard.TargetName=\"imagen\"&gt;\n                                &lt;SplineDoubleKeyFrame KeyTime=\"0:0:0.2\" Value=\"1\"/&gt;\n                            &lt;/DoubleAnimationUsingKeyFrames&gt;\n                        &lt;/Storyboard&gt;\n                        &lt;Storyboard x:Key=\"GlowOff\"&gt;\n                            &lt;DoubleAnimationUsingKeyFrames BeginTime=\"00:00:00\" Storyboard.TargetProperty=\"(Effect).Opacity\" Storyboard.TargetName=\"imagen\"&gt;\n                                &lt;SplineDoubleKeyFrame KeyTime=\"0:0:0.2\" Value=\"0\"/&gt;\n                            &lt;/DoubleAnimationUsingKeyFrames&gt;\n                        &lt;/Storyboard&gt;\n                    &lt;/ControlTemplate.Resources&gt;\n                    &lt;Grid&gt;\n                        &lt;Border x:Name=\"btnborder\" Background=\"#FFFFFFFF\" CornerRadius=\"10\" BorderBrush=\"#FF009ADA\" BorderThickness=\"1\"&gt;\n                            &lt;ContentPresenter x:Name=\"imagen\" VerticalAlignment=\"Center\" HorizontalAlignment=\"Center\" Margin=\"5,2,5,3\"&gt;\n                                &lt;ContentPresenter.Effect&gt;\n                                    &lt;DropShadowEffect ShadowDepth=\"0\" Color=\"White\" Opacity=\"0.9\" BlurRadius=\"10\"/&gt;\n                                &lt;/ContentPresenter.Effect&gt;\n                            &lt;/ContentPresenter&gt;\n                        &lt;/Border&gt;\n                    &lt;/Grid&gt;\n                    &lt;ControlTemplate.Triggers&gt;\n                        &lt;Trigger Property=\"IsPressed\" Value=\"true\"&gt;\n                            &lt;Trigger.ExitActions&gt;\n                                &lt;BeginStoryboard Storyboard=\"{StaticResource Storyboard2}\"/&gt;\n                            &lt;/Trigger.ExitActions&gt;\n                            &lt;Trigger.EnterActions&gt;\n                                &lt;BeginStoryboard Storyboard=\"{StaticResource Storyboard1}\"/&gt;\n                            &lt;/Trigger.EnterActions&gt;\n                        &lt;/Trigger&gt;\n                    &lt;/ControlTemplate.Triggers&gt;\n                &lt;/ControlTemplate&gt;\n            &lt;/Setter.Value&gt;\n        &lt;/Setter&gt;\n    &lt;/Style&gt;\n&lt;/ResourceDictionary&gt;\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2046, "user_id": 4945059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElQ4m.jpg?s=128&g=1", "display_name": "voytek", "link": "https://stackoverflow.com/users/4945059/voytek"}, "edited": false, "score": 0, "creation_date": 1435172204, "post_id": 31034682, "comment_id": 50093882, "body": "Do you want just read them? or modify too?"}, {"owner": {"reputation": 25, "user_id": 2913191, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3ecf844168ef89aa20290e8e9aff5ed?s=128&d=identicon&r=PG&f=1", "display_name": "CodeForFun", "link": "https://stackoverflow.com/users/2913191/codeforfun"}, "reply_to_user": {"reputation": 2046, "user_id": 4945059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElQ4m.jpg?s=128&g=1", "display_name": "voytek", "link": "https://stackoverflow.com/users/4945059/voytek"}, "edited": false, "score": 0, "creation_date": 1435173218, "post_id": 31034682, "comment_id": 50094476, "body": "It&#39;s a exe file with folder and sub folders. So I actually don&#39;t know if I need to be able to only read or also modify. I shan&#39;t to be able to open the program so probably the program needs to save some data in some file inside the folders...."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 1, "creation_date": 1435175688, "post_id": 31035263, "comment_id": 50095860, "body": "FYI, the framework has a CopyTo method on streams that allows you to copy the contents of one stream to another."}], "tags": [], "owner": {"reputation": 7422, "user_id": 1586390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f07270207034d2bcbe347b028edc8f02?s=128&d=identicon&r=PG", "display_name": "Sorceri", "link": "https://stackoverflow.com/users/1586390/sorceri"}, "is_accepted": true, "score": 3, "last_activity_date": 1435175458, "last_edit_date": 1435175458, "creation_date": 1435173862, "answer_id": 31035263, "question_id": 31034682, "link": "https://stackoverflow.com/questions/31034682/open-embedded-zipped-resource/31035263#31035263", "title": "Open embedded zipped resource", "body": "<p>Here is an example of add the embedded zip file to the temp folder and unzip it.  </p>\n\n<pre><code>     private string _tempPath = Environment.GetEnvironmentVariable(\"TEMP\") + @\"\\\";\n     private string _zipPath = Environment.GetEnvironmentVariable(\"TEMP\") + @\"\\\" + @\"MyZip.zip\";\n\n\n    /// &lt;summary&gt;\n    /// Extracts the contents of a zip file to the \n    /// Temp Folder\n    /// &lt;/summary&gt;\n    private void ExtractZip()\n    {\n        try\n        {                \n            //write the resource zip file to the temp directory\n            using (Stream stream = System.Reflection.Assembly.GetExecutingAssembly().GetManifestResourceStream(\"&lt;Namespace&gt;.Resources.&lt;filename&gt;.zip\"))\n            {\n                using (FileStream bw = new FileStream(_zipPath,FileMode.Create))\n                {\n                    //read until we reach the end of the file\n                    while (stream.Position &lt; stream.Length)\n                    {\n                        //byte array to hold file bytes\n                        byte[] bits = new byte[stream.Length];\n                        //read in the bytes\n                        stream.Read(bits, 0, (int)stream.Length);\n                        //write out the bytes\n                        bw.Write(bits, 0, (int)stream.Length);\n                    }\n                }\n                stream.Close();\n            }\n\n            //extract the contents of the file we created\n            UnzipFile(_zipPath, _tempPath);\n             //or\n             System.IO.Compression.ZipFile.ExtractToDirectory(_zipPath,_tempPath);\n\n        }\n        catch (Exception e)\n        {\n            //handle the error\n        }\n    }\n\n\n\n    public void UnzipFile(string zipPath, string folderPath)\n    {\n        try\n        {\n            if (!File.Exists(zipPath))\n            {\n                throw new FileNotFoundException();\n            }\n            if (!Directory.Exists(folderPath))\n            {\n                Directory.CreateDirectory(folderPath);\n            }\n            Shell32.Shell objShell = new Shell32.Shell();\n            Shell32.Folder destinationFolder = objShell.NameSpace(folderPath);\n            Shell32.Folder sourceFile = objShell.NameSpace(zipPath);\n            foreach (var file in sourceFile.Items())\n            {\n                destinationFolder.CopyHere(file, 4 | 16);\n            }\n        }\n        catch (Exception e)\n        {\n            //handle error\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 2913191, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3ecf844168ef89aa20290e8e9aff5ed?s=128&d=identicon&r=PG&f=1", "display_name": "CodeForFun", "link": "https://stackoverflow.com/users/2913191/codeforfun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3716, "favorite_count": 0, "accepted_answer_id": 31035263, "answer_count": 1, "score": 2, "last_activity_date": 1435175946, "creation_date": 1435172003, "last_edit_date": 1435175946, "question_id": 31034682, "link": "https://stackoverflow.com/questions/31034682/open-embedded-zipped-resource", "title": "Open embedded zipped resource", "body": "<p>I have the same problem where I have one embedded .exe and a data folder with a large number of sub folders within. To handle this I have as well used zip to get the folder inside the resource in VS. But now to my question....</p>\n\n<p>How do I open the zipped folders during runtime? Do I need to open, unzip and save in temp area or can I somehow open I memory and use them from there?</p>\n\n<p>The .exe is created in the temp area, but I was hoping to be able to use this as well onli in memory...</p>\n\n<p>Or could I unzip directly in resource folder?</p>\n\n<p>Great full for answers....</p>\n"}, {"tags": ["c#", "asp.net", "datatable", "oledb", "datarow"], "comments": [{"owner": {"reputation": 5865, "user_id": 2557138, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/zwSr0.png?s=128&g=1", "display_name": "Rick S", "link": "https://stackoverflow.com/users/2557138/rick-s"}, "edited": false, "score": 0, "creation_date": 1435171991, "post_id": 31034635, "comment_id": 50093757, "body": "You can&#39;t easily manage a database writing code every time you want to do something.  Install the proper client."}, {"owner": {"reputation": 636, "user_id": 4831846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1a73347bbae8d28e075e354fae243f?s=128&d=identicon&r=PG&f=1", "display_name": "Pichi Wuana", "link": "https://stackoverflow.com/users/4831846/pichi-wuana"}, "reply_to_user": {"reputation": 5865, "user_id": 2557138, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/zwSr0.png?s=128&g=1", "display_name": "Rick S", "link": "https://stackoverflow.com/users/2557138/rick-s"}, "edited": false, "score": 0, "creation_date": 1435172027, "post_id": 31034635, "comment_id": 50093781, "body": "What do you mean with client? Software program?"}, {"owner": {"reputation": 5865, "user_id": 2557138, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/zwSr0.png?s=128&g=1", "display_name": "Rick S", "link": "https://stackoverflow.com/users/2557138/rick-s"}, "edited": false, "score": 0, "creation_date": 1435172112, "post_id": 31034635, "comment_id": 50093827, "body": "If it&#39;s an Access database install Access.  If it&#39;s SQL server install SQL server mgmt studio.  If you really want to add a column, send an <code>ALTER TABLE</code> command to the database."}, {"owner": {"reputation": 862, "user_id": 4975760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98d8b8ea5214d2a4a2b2f3ac10a25211?s=128&d=identicon&r=PG&f=1", "display_name": "Dacker", "link": "https://stackoverflow.com/users/4975760/dacker"}, "edited": false, "score": 0, "creation_date": 1435172172, "post_id": 31034635, "comment_id": 50093866, "body": "Why don&#39;t you use the client tool SQL Server Management Studio? Unless you want to re-invent every variation in datamodelling that&#39;s already usable in SSMS. If so, the easiest way is to learn SQL and kick of the necessary queries to update/change your database from code (even that would be easier todo in SSMS)."}, {"owner": {"reputation": 636, "user_id": 4831846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1a73347bbae8d28e075e354fae243f?s=128&d=identicon&r=PG&f=1", "display_name": "Pichi Wuana", "link": "https://stackoverflow.com/users/4831846/pichi-wuana"}, "reply_to_user": {"reputation": 5865, "user_id": 2557138, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/zwSr0.png?s=128&g=1", "display_name": "Rick S", "link": "https://stackoverflow.com/users/2557138/rick-s"}, "edited": false, "score": 0, "creation_date": 1435172661, "post_id": 31034635, "comment_id": 50094156, "body": "@RickS I can&#39;t find where to install Access(I don&#39;t have money for buying it...)"}], "answers": [{"comments": [{"owner": {"reputation": 636, "user_id": 4831846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1a73347bbae8d28e075e354fae243f?s=128&d=identicon&r=PG&f=1", "display_name": "Pichi Wuana", "link": "https://stackoverflow.com/users/4831846/pichi-wuana"}, "edited": false, "score": 0, "creation_date": 1435172529, "post_id": 31034710, "comment_id": 50094069, "body": "What do I put instead of {datatype}?"}, {"owner": {"reputation": 1052, "user_id": 4995557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/025e6868be34174f3b4ba3a6bdeae13a?s=128&d=identicon&r=PG&f=1", "display_name": "Fahad Jameel", "link": "https://stackoverflow.com/users/4995557/fahad-jameel"}, "reply_to_user": {"reputation": 636, "user_id": 4831846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1a73347bbae8d28e075e354fae243f?s=128&d=identicon&r=PG&f=1", "display_name": "Pichi Wuana", "link": "https://stackoverflow.com/users/4831846/pichi-wuana"}, "edited": false, "score": 0, "creation_date": 1435174288, "post_id": 31034710, "comment_id": 50095037, "body": "you can use the <code>varbinary</code> datatype"}], "tags": [], "owner": {"reputation": 1052, "user_id": 4995557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/025e6868be34174f3b4ba3a6bdeae13a?s=128&d=identicon&r=PG&f=1", "display_name": "Fahad Jameel", "link": "https://stackoverflow.com/users/4995557/fahad-jameel"}, "is_accepted": true, "score": 0, "last_activity_date": 1435175458, "last_edit_date": 1435175458, "creation_date": 1435172088, "answer_id": 31034710, "question_id": 31034635, "link": "https://stackoverflow.com/questions/31034635/add-column-to-database/31034710#31034710", "title": "Add column to database", "body": "<p>You can use the <code>ALTER TABLE</code> Command:</p>\n\n<pre><code>ALTER TABLE item ADD COLUMN picture varbinary\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5045933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18e5486dc2febcd975f56e10d60cc278?s=128&d=identicon&r=PG", "display_name": "fieora", "link": "https://stackoverflow.com/users/5045933/fieora"}, "is_accepted": false, "score": 0, "last_activity_date": 1435172518, "creation_date": 1435172518, "answer_id": 31034849, "question_id": 31034635, "link": "https://stackoverflow.com/questions/31034635/add-column-to-database/31034849#31034849", "title": "Add column to database", "body": "<p>Well, you can add the column using SQL, which I am assuming you are familiar with.\n<br><code>ALTER TABLE table_name\nADD column_name column-definition;</code><br>\nSo that is something you would want to run 1 time and make sure you define the column correctly;</p>\n\n<p>Alternatively, you can edit the <b>Table Definition</b> from the server explorer by right clicking on the table and clicking table definition. Then you can add or change what ever you like.</p>\n"}], "owner": {"reputation": 636, "user_id": 4831846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1a73347bbae8d28e075e354fae243f?s=128&d=identicon&r=PG&f=1", "display_name": "Pichi Wuana", "link": "https://stackoverflow.com/users/4831846/pichi-wuana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "accepted_answer_id": 31034710, "answer_count": 2, "score": -5, "last_activity_date": 1435175458, "creation_date": 1435171841, "question_id": 31034635, "link": "https://stackoverflow.com/questions/31034635/add-column-to-database", "title": "Add column to database", "body": "<p>I'm working with ASP.NET in Microsoft Visual Studio 2010. When I did my database I had Microsoft Access. Now I don't have it (have tried to get it), so I thought that the best idea is to change my table with code. I want to add a column to my table that can fit pictures. How do I do it? I thought that I do an <strong><em>.aspx</em></strong> file(Webpage), then in the <strong><em>.aspx.cs</em></strong> file I write my code. I run it once changing my table and have what I want and delete that file. Is there another way without other programs?</p>\n\n<p>My table is called <strong>item</strong> and I want to add the column that can have a picture. What's the code for that? <strong><em>Thanks!</em></strong></p>\n"}]