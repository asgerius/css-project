[{"tags": ["c#"], "comments": [{"owner": {"reputation": 2069, "user_id": 7874193, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/910a754bafc803719bce9881ddf9beb8?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksa Ristic", "link": "https://stackoverflow.com/users/7874193/aleksa-ristic"}, "edited": false, "score": 0, "creation_date": 1524096298, "post_id": 49910648, "comment_id": 86837305, "body": "What do you mean with <code>I can not use the variable that I declared inside the foreach loop which are &#39;minute&#39; and &#39;hour&#39; from outside</code>. Where do you want to use them?"}, {"owner": {"reputation": 6686, "user_id": 9086466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JI5yN.png?s=128&g=1", "display_name": "Ctznkane525", "link": "https://stackoverflow.com/users/9086466/ctznkane525"}, "edited": false, "score": 0, "creation_date": 1524096843, "post_id": 49910648, "comment_id": 86837447, "body": "why are you calling the shutdown command inside a loop...thus calling it multiple times"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1524096968, "post_id": 49910648, "comment_id": 86837487, "body": "If you&#39;re trying to get the total seconds, you could avoid doing the math operations and do something like: <code>now = (int)thisDate.TimeOfDay.TotalSeconds;</code> and <code>operationTime = (int)item.TimeOfDay.TotalSeconds;</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1524099257, "post_id": 49910648, "comment_id": 86838036, "body": "Instead of a <code>while</code> loop that just sleeps for a second and decrements a variable, you may as well just remove the loop and do: <code>Thread.Sleep(neatTime * 1000);</code> And your outside <code>foreach</code> loop is not necessary anyway, since after the first iteration you reboot the machine. What are you <i>actually</i> trying to do? What is the big picture here?"}, {"owner": {"reputation": 61, "user_id": 9135524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vHiAtuPcLWI/AAAAAAAAAAI/AAAAAAAAABg/JYySZ2CTc_A/photo.jpg?sz=128", "display_name": "Ilker Kaan ADIGUZEL", "link": "https://stackoverflow.com/users/9135524/ilker-kaan-adiguzel"}, "edited": false, "score": 0, "creation_date": 1524099361, "post_id": 49910648, "comment_id": 86838063, "body": "Alright, thank you, I&#39;ve done it, how to close this question? Big picture was making a timer for pc to shutdown-restart or alert when the time comes, I actually asked the same question here but someone told me to narrow my question, but it made it fail to understand, check this out, sorry for this brain-burner question:  <a href=\"https://stackoverflow.com/questions/49890431/c-using-variables-outside-a-loop-and-some-problems-about-my-project\" title=\"c using variables outside a loop and some problems about my project\">stackoverflow.com/questions/49890431/&hellip;</a>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1524099392, "post_id": 49910648, "comment_id": 86838078, "body": "Click the &#39;delete&#39; link underneath it. Unless one of the answers solved your problem, then mark it as answered."}], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 7010843, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/9ngPk.jpg?s=128&g=1", "display_name": "NyW", "link": "https://stackoverflow.com/users/7010843/nyw"}, "is_accepted": true, "score": 0, "last_activity_date": 1524097659, "last_edit_date": 1524097659, "creation_date": 1524096768, "answer_id": 49910773, "question_id": 49910648, "link": "https://stackoverflow.com/questions/49910648/c-variables-outside-foreach-loop-and-thread-sleep/49910773#49910773", "title": "C#, variables outside foreach loop and thread.sleep", "body": "<p>Re: unable to use variables inside the foreach loop - \nWhat you're looking for is a global variable, in order to use it throughout the rest of the script. You can declare the variables outside the loop and assign the values inside it:</p>\n\n<pre><code>XDocument xdoc = XDocument.Load(\"date.xml\");\nDateTime thisDate = DateTime.Now;\n\nint now;\nint operationTime;\nint neatTime;\nint hour;\nint minute;\n\nvar date = from i in xdoc.Descendants(\"date\")\n    select new\n        {\n            Hour = i.Element(\"hour\").Value,\n            Minute = i.Element(\"minute\").Value,\n        };\n\nforeach (var item in date)\n    {\n        hour = Convert.ToInt32(item.Hour);\n        minute = Convert.ToInt32(item.Minute);\n\n        //Rest of code here\n    }\n</code></pre>\n\n<p>Re: Not using Thread.Sleep() - You can use an IENumerator method instead. This method will run at the same time as your original thread continues on e.g. </p>\n\n<pre><code>public IEnumerator PauseWhileStillRunning()\n{\n    yield return new WaitForSeconds(1);\n    Process.Start(\"shutdown\", \"/s /t 0\");\n}\n</code></pre>\n\n<p>You can then call this method by calling <code>StartCoroutine(PauseWhileStillRunning())</code></p>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 6471637, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Ol4q.jpg?s=128&g=1", "display_name": "Sportalcraft", "link": "https://stackoverflow.com/users/6471637/sportalcraft"}, "is_accepted": false, "score": 1, "last_activity_date": 1524096855, "creation_date": 1524096855, "answer_id": 49910781, "question_id": 49910648, "link": "https://stackoverflow.com/questions/49910648/c-variables-outside-foreach-loop-and-thread-sleep/49910781#49910781", "title": "C#, variables outside foreach loop and thread.sleep", "body": "<p>You can use variables out of loops if you declare them outside the loop.\nFor example :</p>\n\n<pre><code>int count = 0;\nfor(int i =1; i&lt;=10; i++)\n    count++;\nconsole.writeLine(count) // print 10\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 9135524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vHiAtuPcLWI/AAAAAAAAAAI/AAAAAAAAABg/JYySZ2CTc_A/photo.jpg?sz=128", "display_name": "Ilker Kaan ADIGUZEL", "link": "https://stackoverflow.com/users/9135524/ilker-kaan-adiguzel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 49910773, "answer_count": 2, "score": -2, "last_activity_date": 1524162432, "creation_date": 1524095582, "last_edit_date": 1524162432, "question_id": 49910648, "link": "https://stackoverflow.com/questions/49910648/c-variables-outside-foreach-loop-and-thread-sleep", "title": "C#, variables outside foreach loop and thread.sleep", "body": "<p>I can not use the variable that I declared inside the foreach loop which are 'minute' and 'hour' from outside, so that makes me use that linq and foreach stuff in all three methods over and over again.</p>\n\n<p>And I can not keep using my program like I can not click other buttons and stuff because of this Thread.Sleep, what can I use instead?</p>\n\n<pre><code>XDocument xdoc = XDocument.Load(\"date.xml\");\nDateTime thisDate = DateTime.Now;\n\nint now;\nint operationTime;\nint neatTime;\n\nvar date = from i in xdoc.Descendants(\"date\")\n    select new\n        {\n            Hour = i.Element(\"hour\").Value,\n            Minute = i.Element(\"minute\").Value,\n        };\n\nforeach (var item in date)\n    {\n        int hour = Convert.ToInt32(item.Hour);\n        int minute = Convert.ToInt32(item.Minute);\n        now = (thisDate.Hour * 3600) + (thisDate.Minute * 60);\n        operationTime = (hour * 3600) + (minute * 60);\n        if (operationTime &lt; now)\n        {\n            neatTime = (24 * 3600) - (now - operationTime);\n        }\n        else\n        {\n            neatTime = operationTime - now;\n        }\n        while (neatTime &gt; 0)\n        {\n            neatTime--;\n            Thread.Sleep(1000);\n        }\n        Process.Start(\"shutdown\", \"/s /t 0\");\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "mono", ".net-core", "mono-posix"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1524118132, "post_id": 49910638, "comment_id": 86843113, "body": "This just isn&#39;t going to work on windows. And how would it? There is no such thing as SIGTERM signal in windows for example."}, {"owner": {"reputation": 8905, "user_id": 681040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/24aee106202d9dd35e4c594ce4acbe53?s=128&d=identicon&r=PG", "display_name": "Dan S", "link": "https://stackoverflow.com/users/681040/dan-s"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1524159140, "post_id": 49910638, "comment_id": 86869887, "body": "@Evk Windows does support it albeit poorly, <a href=\"https://msdn.microsoft.com/en-us/library/xdkz3x12.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/xdkz3x12.aspx</a>"}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1524159522, "post_id": 49910638, "comment_id": 86870101, "body": "If you are on .net core - I&#39;d suggest to use Console.CancelKeyPress event. Despite its name, it handles those signals (on unix) just fine, and works as you expect on windows too. I&#39;d also avoid mono for any new project (unless of course it&#39;s unity/mobile)."}, {"owner": {"reputation": 14422, "user_id": 544947, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/125e1b6d250e0529d33d3822c3787b07?s=128&d=identicon&r=PG", "display_name": "knocte", "link": "https://stackoverflow.com/users/544947/knocte"}, "edited": false, "score": 0, "creation_date": 1524379809, "post_id": 49910638, "comment_id": 86942561, "body": "if your target is Linux+mono, just develop and test with Linux+mono, as it&#39;s the most logical way to avoid problems"}], "owner": {"reputation": 8905, "user_id": 681040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/24aee106202d9dd35e4c594ce4acbe53?s=128&d=identicon&r=PG", "display_name": "Dan S", "link": "https://stackoverflow.com/users/681040/dan-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 818, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524095479, "creation_date": 1524095479, "question_id": 49910638, "link": "https://stackoverflow.com/questions/49910638/how-can-i-receive-signals-with-mono-posix-on-windows", "title": "How can I receive signals with Mono.Posix on Windows?", "body": "<p>When creating a UnixSignal object I get a System.EntryPointNotFoundException with the the Message:</p>\n\n<blockquote>\n  <p>Unable to find an entry point named 'Mono_Unix_UnixSignal_install' in DLL 'MonoPosixHelper'.</p>\n</blockquote>\n\n<pre><code>    static void Main(string[] args)\n    {\n        Console.WriteLine(\"Hello World!\");\n\n        UnixSignal sigint = new UnixSignal(Signum.SIGINT);\n        UnixSignal sigterm = new UnixSignal(Signum.SIGTERM);\n\n        Console.WriteLine(\"Waiting for SIGINT or SIGTERM\");\n        UnixSignal.WaitAny(new[] { sigint, sigterm });\n\n        Console.WriteLine(\"Exiting\");\n    }\n</code></pre>\n\n<p>I am using Nuget library Mono.Posix.NETStandard, on Windows 10, VS 2017. The error is the same with either a .net Core 2.0.0 app or .net Framework v4.6.2 app. Ultimately I plan to run my app on Mono in Linux but need to do the development in Windows.</p>\n"}, {"tags": ["c#", "mysql"], "comments": [{"owner": {"reputation": 1476, "user_id": 9405863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40cdcd740f2f6f607a21a66697131155?s=128&d=identicon&r=PG&f=1", "display_name": "user9405863", "link": "https://stackoverflow.com/users/9405863/user9405863"}, "edited": false, "score": 0, "creation_date": 1524096960, "post_id": 49910611, "comment_id": 86837483, "body": "what is the error message you are getting"}, {"owner": {"reputation": 1641, "user_id": 1858145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2cdb45e2398d5e45108f674ccc3ba0ea?s=128&d=identicon&r=PG&f=1", "display_name": "Prometheus", "link": "https://stackoverflow.com/users/1858145/prometheus"}, "reply_to_user": {"reputation": 1476, "user_id": 9405863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40cdcd740f2f6f607a21a66697131155?s=128&d=identicon&r=PG&f=1", "display_name": "user9405863", "link": "https://stackoverflow.com/users/9405863/user9405863"}, "edited": false, "score": 0, "creation_date": 1524096999, "post_id": 49910611, "comment_id": 86837497, "body": "Error: unable to connect to any of the specified mysql hosts"}, {"owner": {"reputation": 1476, "user_id": 9405863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40cdcd740f2f6f607a21a66697131155?s=128&d=identicon&r=PG&f=1", "display_name": "user9405863", "link": "https://stackoverflow.com/users/9405863/user9405863"}, "edited": false, "score": 0, "creation_date": 1524097428, "post_id": 49910611, "comment_id": 86837601, "body": "try exactly like this.. MySqlConnection con = new MySqlConnection(&quot;Server=###;Port=3306;Database=###;Uid=###;P&zwnj;&#8203;wd=###;&quot;); i think its Pwd not the password.. may be workable to you"}, {"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1524098645, "post_id": 49910611, "comment_id": 86837882, "body": "Can you share the connection  strings with sensitive information masked and tell what&#39;s the difference between them?"}, {"owner": {"reputation": 1641, "user_id": 1858145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2cdb45e2398d5e45108f674ccc3ba0ea?s=128&d=identicon&r=PG&f=1", "display_name": "Prometheus", "link": "https://stackoverflow.com/users/1858145/prometheus"}, "reply_to_user": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1524098698, "post_id": 49910611, "comment_id": 86837897, "body": "@ChetanRanpariya the only difference is the server IP address."}, {"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1524098867, "post_id": 49910611, "comment_id": 86837942, "body": "Try running <code>telnet &lt;serverip&gt; 3306</code> from command prompt and see if it asked for mysql password"}, {"owner": {"reputation": 1641, "user_id": 1858145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2cdb45e2398d5e45108f674ccc3ba0ea?s=128&d=identicon&r=PG&f=1", "display_name": "Prometheus", "link": "https://stackoverflow.com/users/1858145/prometheus"}, "edited": false, "score": 0, "creation_date": 1524099305, "post_id": 49910611, "comment_id": 86838044, "body": "It states: Connecting To ###...Could not open connection to the host, on port 3306: Connect failed"}, {"owner": {"reputation": 1476, "user_id": 9405863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40cdcd740f2f6f607a21a66697131155?s=128&d=identicon&r=PG&f=1", "display_name": "user9405863", "link": "https://stackoverflow.com/users/9405863/user9405863"}, "edited": false, "score": 0, "creation_date": 1524099746, "post_id": 49910611, "comment_id": 86838158, "body": "@did you try include property SslMode?"}, {"owner": {"reputation": 1641, "user_id": 1858145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2cdb45e2398d5e45108f674ccc3ba0ea?s=128&d=identicon&r=PG&f=1", "display_name": "Prometheus", "link": "https://stackoverflow.com/users/1858145/prometheus"}, "reply_to_user": {"reputation": 1476, "user_id": 9405863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40cdcd740f2f6f607a21a66697131155?s=128&d=identicon&r=PG&f=1", "display_name": "user9405863", "link": "https://stackoverflow.com/users/9405863/user9405863"}, "edited": false, "score": 0, "creation_date": 1524099827, "post_id": 49910611, "comment_id": 86838168, "body": "@user9405863 yes. I&#39;ve tried different variations of ssl entries in the connection string. Including the one you mentioned below. But no result."}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 1, "creation_date": 1524109282, "post_id": 49910611, "comment_id": 86840329, "body": "@Prometheus <i>&quot;Could not open connection to the host, on port 3306: Connect failed&quot;</i> I&#39;m guessing the other server doesn&#39;t exhibit that behavior.  This suggests a connectivity problem, nothing to do with your code."}], "answers": [{"comments": [{"owner": {"reputation": 1641, "user_id": 1858145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2cdb45e2398d5e45108f674ccc3ba0ea?s=128&d=identicon&r=PG&f=1", "display_name": "Prometheus", "link": "https://stackoverflow.com/users/1858145/prometheus"}, "edited": false, "score": 0, "creation_date": 1524097852, "post_id": 49910869, "comment_id": 86837705, "body": "I&#39;ve double checked. It&#39;s not the issue unfortunately. :/"}, {"owner": {"reputation": 1476, "user_id": 9405863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40cdcd740f2f6f607a21a66697131155?s=128&d=identicon&r=PG&f=1", "display_name": "user9405863", "link": "https://stackoverflow.com/users/9405863/user9405863"}, "reply_to_user": {"reputation": 1641, "user_id": 1858145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2cdb45e2398d5e45108f674ccc3ba0ea?s=128&d=identicon&r=PG&f=1", "display_name": "Prometheus", "link": "https://stackoverflow.com/users/1858145/prometheus"}, "edited": false, "score": 0, "creation_date": 1524098364, "post_id": 49910869, "comment_id": 86837817, "body": "can you share full stack trace please"}, {"owner": {"reputation": 1476, "user_id": 9405863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40cdcd740f2f6f607a21a66697131155?s=128&d=identicon&r=PG&f=1", "display_name": "user9405863", "link": "https://stackoverflow.com/users/9405863/user9405863"}, "reply_to_user": {"reputation": 1641, "user_id": 1858145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2cdb45e2398d5e45108f674ccc3ba0ea?s=128&d=identicon&r=PG&f=1", "display_name": "Prometheus", "link": "https://stackoverflow.com/users/1858145/prometheus"}, "edited": false, "score": 0, "creation_date": 1524098613, "post_id": 49910869, "comment_id": 86837873, "body": "try to include SslMode=Preferred; along with connection string. use updated answer. i hope that works for you"}], "tags": [], "owner": {"reputation": 1476, "user_id": 9405863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40cdcd740f2f6f607a21a66697131155?s=128&d=identicon&r=PG&f=1", "display_name": "user9405863", "link": "https://stackoverflow.com/users/9405863/user9405863"}, "is_accepted": false, "score": 0, "last_activity_date": 1524098580, "last_edit_date": 1524098580, "creation_date": 1524097577, "answer_id": 49910869, "question_id": 49910611, "link": "https://stackoverflow.com/questions/49910611/connect-to-mysql-database-on-shared-server-issue/49910869#49910869", "title": "Connect to MySQL database on shared server issue", "body": "<p>try exactly like this..</p>\n\n<pre><code>MySqlConnection con = new MySqlConnection(\"Server=###;Port=3306;Database=###;Uid=###;Pwd=###;SslMode=Preferred;\");`\n</code></pre>\n\n<p>include sslMode. hopefully that workable to you</p>\n"}], "owner": {"reputation": 1641, "user_id": 1858145, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2cdb45e2398d5e45108f674ccc3ba0ea?s=128&d=identicon&r=PG&f=1", "display_name": "Prometheus", "link": "https://stackoverflow.com/users/1858145/prometheus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1524098580, "creation_date": 1524095169, "last_edit_date": 1524097124, "question_id": 49910611, "link": "https://stackoverflow.com/questions/49910611/connect-to-mysql-database-on-shared-server-issue", "title": "Connect to MySQL database on shared server issue", "body": "<p>I have two shared server accounts. They are identical, linux based servers. </p>\n\n<p>I've set up an identical MySQL database (username, password, wildcard and user permissions) on both accounts that I want to access through my C# windows form application. </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing MySql.Data;\nusing MySql.Data.MySqlClient;\n\nnamespace SchoolGrades\n{\n    public partial class Form1 : Form\n    {\n\n        public Form1()\n        {\n            InitializeComponent();\n            this.AcceptButton = btnLogin;\n        }\n\n\n        private void btnLogin_Click(object sender, EventArgs e)\n        {    \n            try\n            {\n                MySqlConnection con = new MySqlConnection(\"SERVER=###;PORT=3306;DATABASE=###;UID=###;PASSWORD=###;\");    \n                con.Open();\n                MessageBox.Show(\"Successful connection\");    \n            } \n          catch (MySql.Data.MySqlClient.MySqlException ex)\n            {\n                MessageBox.Show(ex.Message);\n            }\n\n        }\n}\n</code></pre>\n\n<p>One of the connection strings establishes a connection, the other one outputs the following error: </p>\n\n<blockquote>\n  <p>unable to connect to any of the specified mysql hosts</p>\n</blockquote>\n\n<p>I've read multiple SO posts with the same question, I've checked all options: </p>\n\n<ul>\n<li>Connection string;</li>\n<li>Firewall; </li>\n<li>User privilages. </li>\n</ul>\n\n<p>Nothing seems to be the issue. </p>\n\n<p>The only thing that pops to my mind is that I've setup SSL on the account that the connection cannot be established with. </p>\n\n<p>Any ideas if this could be the problem? And if so, any hints how I can solve it? </p>\n\n<p>Many thanks </p>\n"}, {"tags": ["c#", "mysql", "crystal-reports"], "comments": [{"owner": {"reputation": 323, "user_id": 7865861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eefc50c33b60c67a183123bf5b82ff6?s=128&d=identicon&r=PG&f=1", "display_name": "Arsalan Khan", "link": "https://stackoverflow.com/users/7865861/arsalan-khan"}, "edited": false, "score": 0, "creation_date": 1524117017, "post_id": 49910610, "comment_id": 86842650, "body": "Please provide more what you want to do, <code>{list_komponen1.nama_komponen}</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9543011"}, "reply_to_user": {"reputation": 323, "user_id": 7865861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eefc50c33b60c67a183123bf5b82ff6?s=128&d=identicon&r=PG&f=1", "display_name": "Arsalan Khan", "link": "https://stackoverflow.com/users/7865861/arsalan-khan"}, "edited": false, "score": 0, "creation_date": 1524214967, "post_id": 49910610, "comment_id": 86891411, "body": "@ArsalanKhan the record will be sort and grouped by <code>{list_komponen1.nama_komponen}</code>. list_komponen1 is table for banyak, peminjaman_alat for peminjaman_banyak"}, {"owner": {"reputation": 323, "user_id": 7865861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eefc50c33b60c67a183123bf5b82ff6?s=128&d=identicon&r=PG&f=1", "display_name": "Arsalan Khan", "link": "https://stackoverflow.com/users/7865861/arsalan-khan"}, "edited": false, "score": 0, "creation_date": 1524223205, "post_id": 49910610, "comment_id": 86896525, "body": "As I understand you simply do <code>{list_komponen1.banyak} - {peminjaman_alat1.peminjaman_banyak}</code> and then grouped and sort by <code>{list_komponen1.nama_komponen}</code>? is that you want"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9543011"}, "reply_to_user": {"reputation": 323, "user_id": 7865861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eefc50c33b60c67a183123bf5b82ff6?s=128&d=identicon&r=PG&f=1", "display_name": "Arsalan Khan", "link": "https://stackoverflow.com/users/7865861/arsalan-khan"}, "edited": false, "score": 0, "creation_date": 1524296372, "post_id": 49910610, "comment_id": 86923493, "body": "yeah, but, when <code>peminjaman_banyak</code> is null, they don&#39;t show anything except <code>peminjaman_banyak</code> not null"}], "owner": {"user_type": "does_not_exist", "display_name": "user9543011"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524095166, "creation_date": 1524095166, "question_id": 49910610, "link": "https://stackoverflow.com/questions/49910610/using-formula-in-crystal-report-with-empty-data", "title": "Using formula in Crystal Report with empty data", "body": "<p>I'm new at Crystal report.</p>\n\n<p>I have 2 column in different table like this: </p>\n\n<pre><code>banyak    peminjaman_banyak      \n  2               1                 \n  3               1          \n  3               2          \n  4                       \n</code></pre>\n\n<p>when i enter this code :</p>\n\n<pre><code>tonumber({list_komponen1.banyak})-tonumber(sum({peminjaman_alat1.peminjaman_banyak},{list_komponen1.nama_komponen}))\n</code></pre>\n\n<p>i get the result like this :</p>\n\n<pre><code>banyak    peminjaman_banyak     Total     \n  2               1           1   \n  3               1           2\n  3               2           1  \n</code></pre>\n\n<p>I want to show data like this:</p>\n\n<pre><code>banyak    peminjaman_banyak     Total     \n  2               1               1\n  3               1               2\n  3               2               5\n  4                               4\n</code></pre>\n\n<p>how can i subtract these table, when one off them doesn't have any value?\nI hope you can understand what i mean.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "combobox"], "comments": [{"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1524095143, "post_id": 49910556, "comment_id": 86837061, "body": "The selection of Year dropdown has nothing to do with your Week dropdown.  Your current code <code>db.week_list.Where(x =&gt; x.Name == &quot;&quot;)</code> is returning 0 results, hence the razor view renders an empty SELECT element. Remove the where clause from the linq expression and see what happens."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1524096870, "post_id": 49910556, "comment_id": 86837457, "body": "You need to make both properties nullable and with the <code>[Required]</code> attribute. And that is possibly the worst way to generate you <code>&lt;select&gt;</code> elements. Use a view model with <code>IEnumerable&lt;SelectListItem&gt;</code> properties and strongly bind to your model using <code>@Html.DropDownListFor(m =&gt; m.SelectYear, Model.YearList, &quot;Please select&quot;, new { ... })</code>"}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1524112625, "post_id": 49910556, "comment_id": 86841234, "body": "@StephenMuecke Both are already <code>[Required]</code> but dont allow null, because they are Required. The problem isnt with the Year, is with the Week dropdown. If I create an empty list return value 0 when should return NULL"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1524112720, "post_id": 49910556, "comment_id": 86841258, "body": "It need to be nullable and <code>[Required]</code>! When you submit the form, no value is posted for <code>Week</code> therefore its set to the default (i.e. <code>0</code> for an <code>int</code>). Refer also <a href=\"https://stackoverflow.com/questions/43688968/what-does-it-mean-for-a-property-to-be-required-and-nullable/43689575#43689575\">this answer</a>"}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "reply_to_user": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1524112780, "post_id": 49910556, "comment_id": 86841281, "body": "@Shyju There is a javascript code populating Week when Year change. But when page load and no year has been selected the Weeks is empty"}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1524113187, "post_id": 49910556, "comment_id": 86841385, "body": "@StephenMuecke I can try. But I dont understand why have different behaviour.  Right now both are required and dont allow null, and as you can see the behaviour is different. Because by default the Year has <code>&lt;option value=&quot;&quot;&gt;Seleccione A&#241;o&lt;&#47;option&gt;</code> and that option return null But because Week have empty list return 0."}], "answers": [{"comments": [{"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1524112652, "post_id": 49910590, "comment_id": 86841240, "body": "The visibility is irrelevant, the problem is an empty list return 0 instead of null."}], "tags": [], "owner": {"reputation": 133, "user_id": 1667117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06ae8b8fbe740cd72916d8a7e5878f3d?s=128&d=identicon&r=PG", "display_name": "Siraj K", "link": "https://stackoverflow.com/users/1667117/siraj-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1524094964, "creation_date": 1524094964, "answer_id": 49910590, "question_id": 49910556, "link": "https://stackoverflow.com/questions/49910556/how-return-null-for-an-empty-combo-box-instead-of-0/49910590#49910590", "title": "How return null for an empty combo box instead of 0?", "body": "<p>I know it is not the answer you asked but the pattern I use to handle the dependent control issue is to show the second only after the first is valid. From experience, this pattern saves me a lot of headaches.</p>\n"}, {"comments": [{"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1524148463, "post_id": 49914139, "comment_id": 86863244, "body": "The nullable property work perfect. The key was understand the model is initialize with the default values. But I can&#39;t use the strongly bind for Week because that is a cascade combo. So depend on what you have selected from Year. Unless there is a way to do that without javascript? Can you encapsulate a method in YourVM class to return the filter IEnumerable for Weeks? Right now Im using  getJson from JQuery"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "reply_to_user": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1524174041, "post_id": 49914139, "comment_id": 86877240, "body": "Yes you can, and absolutely should use the strongly bound <code>HtmlHelper</code> methods (always). And if you want to understand how to generate cascading dropdownlists, refer <a href=\"https://dotnetfiddle.net/1bPZym\" rel=\"nofollow noreferrer\">this DotNetFiddle</a>"}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1524190613, "post_id": 49914139, "comment_id": 86881547, "body": "Is me or that .Net fiddle have issue with the scroll botton of the mouse?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "reply_to_user": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1524193906, "post_id": 49914139, "comment_id": 86882323, "body": "What issue are you having with the mouse?"}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1524194721, "post_id": 49914139, "comment_id": 86882514, "body": "I try to scroll down but jump back up. Have to use arrow instead"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "reply_to_user": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1524194800, "post_id": 49914139, "comment_id": 86882533, "body": "Works fine for me"}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1524196798, "post_id": 49914139, "comment_id": 86883076, "body": "Thanks for the sample anyway that is just what I need. There is a minor issue not sure if can be solved. <a href=\"https://i.stack.imgur.com/xm51Q.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/xm51Q.png</a>  if you press save with everything empty. You get all the error message. If you start filling the combos the error go away. But if you deselect the combo the error is back, but only for that combo"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "reply_to_user": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1524196915, "post_id": 49914139, "comment_id": 86883108, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/169391/discussion-between-stephen-muecke-and-juan-carlos-oropeza\">continue this discussion in chat</a>."}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1525099964, "post_id": 49914139, "comment_id": 87222943, "body": "Hey stephen, could you take a look to the fiddle? Or should I start a new question to try to get help about it?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "is_accepted": true, "score": 1, "last_activity_date": 1524119335, "creation_date": 1524119335, "answer_id": 49914139, "question_id": 49910556, "link": "https://stackoverflow.com/questions/49910556/how-return-null-for-an-empty-combo-box-instead-of-0/49914139#49914139", "title": "How return null for an empty combo box instead of 0?", "body": "<p>You need to make the property nullable and add the <code>[Required]</code> attribute.</p>\n\n<p>When you submit your form, the <code>DefaultModelBinder</code> initializes your model, and at that point, the value of <code>YearID</code> and <code>WeekID</code> are both <code>0</code> (the default value for <code>int</code>)</p>\n\n<p>The name/value pairs are then read from the request. Because there is a <code>name/value</code> pair for <code>YearID</code> which is <code>null</code>, the <code>DefaultModelBinder</code> attempts to set <code>YearID = null</code> which fails, and a <code>ModelState</code> error is added for <code>YearID</code> (the <code>actualValue</code> of the property is <code>0</code> and the <code>attemptedValue</code> is <code>null</code>)</p>\n\n<p>Because the dropdownlist for <code>WeekID</code> does not contain any <code>&lt;option&gt;</code> elements, no <code>name/value</code> pair is sent in the request, so no attempt is made to set the value, and the value of <code>WeekID</code> remains a <code>0</code>. Because <code>0</code> is valid for <code>int</code>, there is no <code>ModelState</code> error for <code>WeekID</code>, which is why no error message is displayed.</p>\n\n<p>In addition, your use of <code>DropDownList()</code> means that no matter what you select in the first dropdownlist, when you return the view, the first option (<code>Seleccione A\u00f1o</code>) will be selected (what the user previously selected is lost)</p>\n\n<p>You are editing data so you should always be using a view model which will include</p>\n\n<pre><code>public class YourVM\n{\n    [Required(ErrorMessage = \"...\")]\n    public int? SelectedYear { get; set; } // nullable\n    [Required(ErrorMessage = \"...\")]\n    public int? SelectedWeek { get; set; } // nullable\n    public IEnumerable&lt;SelectListItem&gt; YearList { get; set; }\n    public IEnumerable&lt;SelectListItem&gt; WeekList { get; set; }\n}\n</code></pre>\n\n<p>and in the view, strongly bind to your model</p>\n\n<pre><code>@Html.DropDownListFor(m =&gt; m.SelectedYear, Model.YearList, \"Seleccione A\u00f1o\", new { @class = \"form-control\" })\n@Html.ValidatinMessageFor(m =&gt; m.SelectedYear)\n\n@Html.DropDownListFor(m =&gt; m.SelectedWeek, Model.WeekList, \"Seleccione A\u00f1o\", new { @class = \"form-control\" })\n@Html.ValidatinMessageFor(m =&gt; m.SelectedWeek)\n</code></pre>\n"}], "owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 49914139, "answer_count": 2, "score": 0, "last_activity_date": 1524119335, "creation_date": 1524094620, "question_id": 49910556, "link": "https://stackoverflow.com/questions/49910556/how-return-null-for-an-empty-combo-box-instead-of-0", "title": "How return null for an empty combo box instead of 0?", "body": "<p>I have two linked combo, Year and Week.</p>\n\n<p>Im sending the list of year and empty data set for week to the View</p>\n\n<pre><code>ViewBag.YearID = new SelectList(db.years, \"YearID\", \"Name\");\nViewBag.WeekID = new SelectList(db.week_list.Where(x =&gt; x.Name == \"\"), \"WeekID\", \"Name\");\n</code></pre>\n\n<p>In the View I have</p>\n\n<pre><code>@Html.DropDownList(\"YearID\", null, \"Seleccione A\u00f1o\", htmlAttributes: new { @class = \"form-control\" })\n@Html.DropDownList(\"WeekID\", null, htmlAttributes: new { @class = \"form-control\" })\n</code></pre>\n\n<p>Right now when start Year have a help message <code>Select Year</code> without value.</p>\n\n<pre><code>&lt;select class=\"form-control\" id=\"YearID\" name=\"YearID\"&gt;\n    &lt;option value=\"\"&gt;Seleccione A\u00f1o&lt;/option&gt;\n    &lt;option value=\"7\"&gt;2016&lt;/option&gt;\n    &lt;option value=\"8\"&gt;2017&lt;/option&gt;\n    &lt;option value=\"9\"&gt;2018&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>So because not year has been selected I pass an empty list for weeks and result on this:</p>\n\n<pre><code>&lt;select class=\"form-control\" id=\"WeekID\" name=\"WeekID\"&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p><strong>Starting State:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/uIQUv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uIQUv.png\" alt=\"enter image description here\"></a></p>\n\n<p>The problem is when I hit <code>Create</code> button to send the form. The action controller get the wrong value for WeekID</p>\n\n<pre><code> YearID = null  -- as I espect\n WeekID = 0     -- dont know why. I expect null\n</code></pre>\n\n<p>Then the validation show Year is required, but doesnt show anything for Week because already received 0</p>\n\n<p><strong>Validation State:</strong> </p>\n\n<p><a href=\"https://i.stack.imgur.com/iVHGU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iVHGU.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "list", "if-statement"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1524094801, "post_id": 49910542, "comment_id": 86836974, "body": "<a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">Step through you code in the debugger</a> to see what you are doing wrong."}, {"owner": {"reputation": 890, "user_id": 6572277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bb20e4c4348fdf65ae2a571248ebef1?s=128&d=identicon&r=PG&f=1", "display_name": "rshepp", "link": "https://stackoverflow.com/users/6572277/rshepp"}, "edited": false, "score": 3, "creation_date": 1524094942, "post_id": 49910542, "comment_id": 86837013, "body": "The <a href=\"https://msdn.microsoft.com/en-us/library/bhkz42b3(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>List.Contains</code></a> method would be useful here."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9578886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7784ff3a83ced86f3d53e124a42c7ae7?s=128&d=identicon&r=PG&f=1", "display_name": "Carter", "link": "https://stackoverflow.com/users/9578886/carter"}, "edited": false, "score": 0, "creation_date": 1524095629, "post_id": 49910592, "comment_id": 86837166, "body": "I appreciate this, I was able to work it with the first suggestion!  That addition you did, the bool value, that&#39;s a little new to me.  I&#39;m not understanding how it works, with the first usage being found = true, and then the second usage being &quot;if(!found)&quot;  is this saying that the match alters the bool value to true, so it doesn&#39;t trigger the second if, but no match allows the second if to trigger?  Second confusion on my part, wouldn&#39;t !found = true since found was set as false?  Thanks if you have the time to discuss this!  :)"}, {"owner": {"reputation": 191, "user_id": 6471637, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Ol4q.jpg?s=128&g=1", "display_name": "Sportalcraft", "link": "https://stackoverflow.com/users/6471637/sportalcraft"}, "reply_to_user": {"reputation": 13, "user_id": 9578886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7784ff3a83ced86f3d53e124a42c7ae7?s=128&d=identicon&r=PG&f=1", "display_name": "Carter", "link": "https://stackoverflow.com/users/9578886/carter"}, "edited": false, "score": 0, "creation_date": 1524096430, "post_id": 49910592, "comment_id": 86837344, "body": "@Carter it works like this : if one of the values in the list is what you were looking for, than i&#39;m saving it on the boolean variable, and then exiting the loop. affter the loop i&#39;m checking if the value you were looking for was found (if the value of found is trure, it can only hapend if the if statement was entered, if it is false, the if statement were never entered) and respond accordinlly. if !found ==true it means found ==false, and the value were not found"}, {"owner": {"reputation": 13, "user_id": 9578886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7784ff3a83ced86f3d53e124a42c7ae7?s=128&d=identicon&r=PG&f=1", "display_name": "Carter", "link": "https://stackoverflow.com/users/9578886/carter"}, "edited": false, "score": 0, "creation_date": 1524109281, "post_id": 49910592, "comment_id": 86840328, "body": "Thanks so much for explaining that, that&#39;s a really cool method!"}], "tags": [], "owner": {"reputation": 191, "user_id": 6471637, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Ol4q.jpg?s=128&g=1", "display_name": "Sportalcraft", "link": "https://stackoverflow.com/users/6471637/sportalcraft"}, "is_accepted": true, "score": 1, "last_activity_date": 1524095288, "last_edit_date": 1524095288, "creation_date": 1524094968, "answer_id": 49910592, "question_id": 49910542, "link": "https://stackoverflow.com/questions/49910542/c-my-else-statement-gets-caught-up-in-the-array-how-do-i-overlook-it/49910592#49910592", "title": "C#: My Else statement gets caught up in the Array, how do I overlook it?", "body": "<p>you wrote the <code>if - else</code> insde a loop,\nso every time the loop start again one of them will happand</p>\n\n<p>try this :</p>\n\n<pre><code>List&lt;string&gt; Gems = new List&lt;string&gt;();\nGems.Add(\"ruby\");\nGems.Add(\"emerald\");\nGems.Add(\"topaz\");\nGems.Add(\"diamond\");\nGems.Add(\"pearl\");\nGems.Add(\"infinity stone\");\nConsole.WriteLine(\"Please enter the type of gem you want on your wedding ring: \");\nstring want = Console.ReadLine();\nbool found = false;\nfor (int g = 0; g &lt; Gems.Count &amp; !found; g++)\n{\n    if (want == Gems[g])\n    {\n        Console.WriteLine(\"Your wedding ring will feature your selection: \" + Gems[g]);\n        found = true;\n    }\n}\n\nif(!found)\n    Console.WriteLine(\"Im sorry that was not a valid selection.\");\n</code></pre>\n\n<p>or simply do this (recommended) :</p>\n\n<pre><code>List&lt;string&gt; Gems = new List&lt;string&gt;();\nGems.Add(\"ruby\");\nGems.Add(\"emerald\");\nGems.Add(\"topaz\");\nGems.Add(\"diamond\");\nGems.Add(\"pearl\");\nGems.Add(\"infinity stone\");\nConsole.WriteLine(\"Please enter the type of gem you want on your wedding ring: \");\nstring want = Console.ReadLine();\n\nif(Gems.Contains(want))\n    Console.WriteLine(\"Your wedding ring will feature your selection: \" + want);\nelse\n    Console.WriteLine(\"Im sorry that was not a valid selection.\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 9578886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7784ff3a83ced86f3d53e124a42c7ae7?s=128&d=identicon&r=PG&f=1", "display_name": "Carter", "link": "https://stackoverflow.com/users/9578886/carter"}, "edited": false, "score": 0, "creation_date": 1524095934, "post_id": 49910619, "comment_id": 86837227, "body": "This is a great answer, only issue is Im learning about iteration and have to use it in the code.  But yours looks like what I&#39;d be doing if I was just coding for myself!"}], "tags": [], "owner": {"reputation": 890, "user_id": 6572277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bb20e4c4348fdf65ae2a571248ebef1?s=128&d=identicon&r=PG&f=1", "display_name": "rshepp", "link": "https://stackoverflow.com/users/6572277/rshepp"}, "is_accepted": false, "score": 5, "last_activity_date": 1524095235, "creation_date": 1524095235, "answer_id": 49910619, "question_id": 49910542, "link": "https://stackoverflow.com/questions/49910542/c-my-else-statement-gets-caught-up-in-the-array-how-do-i-overlook-it/49910619#49910619", "title": "C#: My Else statement gets caught up in the Array, how do I overlook it?", "body": "<p>Rather than looping through the list trying to find if it contains the <code>want</code> value manually, you can use one of the useful methods on the <code>List&lt;T&gt;</code> type such as <a href=\"https://msdn.microsoft.com/en-us/library/bhkz42b3(v=vs.110).aspx\" rel=\"noreferrer\"><code>List.Contains</code></a>:</p>\n\n<pre><code>string want = Console.ReadLine();\nif (Gems.Contains(want))\n{\n    Console.WriteLine(\"Your wedding ring will feature your selection: \" + want);\n}\nelse \n{\n    Console.WriteLine(\"Im sorry that was not a valid selection.\");               \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1524095718, "post_id": 49910646, "comment_id": 86837183, "body": "Whilst arguably a nice answer, I&#39;m not sure LINQ is a good solution for novice programmers"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1524097132, "post_id": 49910646, "comment_id": 86837524, "body": "Did you test this before posting? It outputs <code>System.Linq.Enumerable+&lt;DefaultIfEmptyIterator&gt;d__91</code>1[System&zwnj;&#8203;.String]`. It&#39;s great to put alternative solutions, but make sure they work."}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "reply_to_user": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1524103580, "post_id": 49910646, "comment_id": 86839060, "body": "@Enigmativity, thanks, <code>.First()</code> were missing, fixed"}], "tags": [], "owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "is_accepted": false, "score": 1, "last_activity_date": 1524117944, "last_edit_date": 1524117944, "creation_date": 1524095577, "answer_id": 49910646, "question_id": 49910542, "link": "https://stackoverflow.com/questions/49910542/c-my-else-statement-gets-caught-up-in-the-array-how-do-i-overlook-it/49910646#49910646", "title": "C#: My Else statement gets caught up in the Array, how do I overlook it?", "body": "<p>If you want use right tool for checking is value exists in the collection, then <code>HashSet&lt;T&gt;</code> will be that tool.    </p>\n\n<p><code>HashSet&lt;T&gt;</code> was designed exactly for that reason. <code>Contains</code> will return <code>true/false</code> in one operation, where <code>List.Contains</code> will iterate through whole collection until value found.</p>\n\n<p>In your case it will provide tiny tiny better performance</p>\n\n<pre><code>var gems = new HashSet&lt;string&gt;();\ngems.Add('ruby');\ngems.Add('diamond');\n\nif (gems.Contains(want))\n{\n    Console.WriteLine($\"Your wedding ring will feature your selection: {want}\");\n}\nelse\n{\n    Console.WriteLine(\"Im sorry that was not a valid selection.\");\n}\n</code></pre>\n\n<p>For iterating you can use LINQ approach for printing value only once</p>\n\n<pre><code>var gems = new List&lt;string&gt;\n{\n    \"ruby\",\n    \"emerald\",\n    // ...\n}\n\nvar answer = \n    gems.Where(gem =&gt; gem == want)\n        .Select(gem =&gt; $\"Your wedding ring will feature your selection: {want}\")\n        .DefaultIfEmpty(\"Im sorry that was not a valid selection.\")\n        .First();\n\nConsole.WriteLine(answer);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9578886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7784ff3a83ced86f3d53e124a42c7ae7?s=128&d=identicon&r=PG&f=1", "display_name": "Carter", "link": "https://stackoverflow.com/users/9578886/carter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 49910592, "answer_count": 3, "score": 0, "last_activity_date": 1524117944, "creation_date": 1524094534, "last_edit_date": 1524095665, "question_id": 49910542, "link": "https://stackoverflow.com/questions/49910542/c-my-else-statement-gets-caught-up-in-the-array-how-do-i-overlook-it", "title": "C#: My Else statement gets caught up in the Array, how do I overlook it?", "body": "<p>I am having trouble with this code, I want to have the code return an answer if the input matches an item in the list, (Can't use an array), or if there is no match, write the line <em>once</em> and repeat the code, but when I do this, the result is:</p>\n\n<pre><code>Please enter the type of gem you want on your wedding ring:\ndiamond\nIm sorry that was not a valid selection.\nIm sorry that was not a valid selection.\nIm sorry that was not a valid selection.\nYour wedding ring will feature your selection: diamond\nIm sorry that was not a valid selection.\nIm sorry that was not a valid selection.\n</code></pre>\n\n<p>The code is;</p>\n\n<pre><code>List&lt;string&gt; Gems = new List&lt;string&gt;();\nGems.Add(\"ruby\");\nGems.Add(\"emerald\");\nGems.Add(\"topaz\");\nGems.Add(\"diamond\");\nGems.Add(\"pearl\");\nGems.Add(\"infinity stone\");\nConsole.WriteLine(\"Please enter the type of gem you want on your wedding ring: \");\nstring want = Console.ReadLine();\nfor (int g = 0; g &lt; Gems.Count; g++)\n{\n    if (want == Gems[g])\n    {\n        Console.WriteLine(\"Your wedding ring will feature your selection: \" + Gems[g]);\n    }\n    else \n    {\n        Console.WriteLine(\"Im sorry that was not a valid selection.\");               \n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "culture", "asp.net-core-tag-helpers"], "answers": [{"tags": [], "owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "is_accepted": false, "score": 2, "last_activity_date": 1531502522, "creation_date": 1531502522, "answer_id": 51330073, "question_id": 49910534, "link": "https://stackoverflow.com/questions/49910534/asp-net-core-tag-helper-links-ignore-current-culture/51330073#51330073", "title": "ASP.Net Core Tag Helper links ignore current culture", "body": "<p>I have faced the same problem and found the solution by setting the default culture as the first in order and specifying a constraint:</p>\n\n<pre><code>routes.MapRoute(\n    name: \"DefaultCulture\",\n    template: \"{controller=Home}/{action=Index}/{id?}\",\n    constraints: new { culture = \"en\"},\n    defaults: new { culture = \"en\" });\nroutes.MapRoute(\n    name: \"NonDefaultCulture\",\n    template: \"{culture:culture=en}/{controller=Home}/{action=Index}/{id?}\"\n);\n</code></pre>\n\n<p>The key here is the <code>constraints</code> parameter. Without it, the tag helpers will check the first route and see it match, even though the current URL's route has a different culture. With <code>constraints</code> the algorithm will see it cannot match the current route with the constraint and will proceed with the next <code>NonDefaultCulture</code> route, which is what we need.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9384820"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1531502522, "creation_date": 1524094482, "question_id": 49910534, "link": "https://stackoverflow.com/questions/49910534/asp-net-core-tag-helper-links-ignore-current-culture", "title": "ASP.Net Core Tag Helper links ignore current culture", "body": "<p>I am building a multilingual website that supports Albanian, English and Serbian ,but somehow, all the links that are generated from tag helpers keep redirecting to Serbian language.  </p>\n\n<p>This is what I have in <code>StartUp.cs</code>:</p>\n\n<pre><code>        var supportedCultures = new List&lt;CultureInfo&gt;\n                {\n                    new CultureInfo(\"sq-AL\"),\n                    new CultureInfo(\"en-US\"),\n                    new CultureInfo(\"sr-Latn-RS\")\n                };\n\n        var localizationOptions = new RequestLocalizationOptions\n        {\n            DefaultRequestCulture = new RequestCulture(\"sq-AL\"),\n            SupportedCultures = supportedCultures,\n            SupportedUICultures = supportedCultures\n        };\n        var requestProvider = new RouteDataRequestCultureProvider();\n        localizationOptions.RequestCultureProviders.Insert(0, requestProvider);\n\n        app.UseRouter(routes =&gt;\n        {\n            routes.MapMiddlewareRoute(\"{culture=sq-AL}/{*mvcRoute}\", subApp =&gt;\n            {\n                subApp.UseRequestLocalization(localizationOptions);\n\n                subApp.UseMvc(mvcRoutes =&gt;\n                {\n                    mvcRoutes.MapRoute(\n                        name: \"default\",\n                        template: \"{culture=sq-AL}/{controller=Home}/{action=Index}/{id?}\");\n                });\n            });\n        });    \n</code></pre>\n\n<p>And this is an action link that I have in the main navigation menu:</p>\n\n<p><code>&lt;a asp-controller=\"Content\" asp-action=\"About\"&gt;@_localizer[\"nav_about\"]&lt;/a&gt;</code></p>\n\n<p>It used to work well, I tried to figure out why it's not working anymore but no idea so far.</p>\n\n<p>The funny thing is that all the labels get values from resource files based on the selected culture, where as links keep redirecting to Serbian no matter what culture I switch to. The link generated from the tag helper above: <code>http://localhost:50807/sr-Latn-RS/Content/About</code>. </p>\n\n<p>Same is with submit forms: <code>&lt;form asp-controller=\"Account\" asp-action=\"RegisterProfile\" method=\"post\"&gt;</code> results to <code>http://localhost:50807/sr-Latn-RS/Account/RegisterProfile</code> no matter the culture currently selected. </p>\n\n<p>Anyone has any idea where is it getting the Serbian culture from? Any kind of help would be appreciated!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1524094657, "post_id": 49910528, "comment_id": 86836945, "body": "Why did you add &quot;c++&quot; to the title of a c# question? Do you know what technologies you use?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1524095503, "post_id": 49910528, "comment_id": 86837139, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/21197410/c-sharp-returning-error-not-all-code-paths-return-a-value\">c# returning error &quot;not all code paths return a value&quot;</a>"}, {"owner": {"reputation": 137, "user_id": 5648005, "user_type": "registered", "profile_image": "https://graph.facebook.com/998055603586142/picture?type=large", "display_name": "John DeLuca", "link": "https://stackoverflow.com/users/5648005/john-deluca"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1524513122, "post_id": 49910528, "comment_id": 86994284, "body": "i know i was rushing and made a mistake"}], "answers": [{"comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1524095528, "post_id": 49910577, "comment_id": 86837143, "body": "Not sure why take the time to answer a question with hundreds of duplicates"}, {"owner": {"reputation": 3003, "user_id": 7644018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yE50W.png?s=128&g=1", "display_name": "Paul T.", "link": "https://stackoverflow.com/users/7644018/paul-t"}, "edited": false, "score": 0, "creation_date": 1524103747, "post_id": 49910577, "comment_id": 86839099, "body": "@John DeLuca: adding to @DavidG&#39;s answer - the opposite is also true: anything below 50 would be the same problem. But, ANYTHING &lt; 60 is technically an &#39;F&#39;, correct? So, you were on the right track using <code>else if</code>. Add the same before the 70 and 60 conditions and then add an else at the end that returns &#39;F&#39; (no need to check the 50 range). Then a return for <code>all code paths</code> will exist, or you can keep the exception shown above. With a <code>if .. else if .. else if .. else</code>  construct, the conditions that you have can be simplified by removing the <code>&amp;&amp; avg ...</code> from the right side of each condition."}], "tags": [], "owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "is_accepted": false, "score": 0, "last_activity_date": 1524094857, "creation_date": 1524094857, "answer_id": 49910577, "question_id": 49910528, "link": "https://stackoverflow.com/questions/49910528/gui-array-error-cs0610-error/49910577#49910577", "title": "gui array error &quot;CS0610 error&quot;", "body": "<p>What do you think happens if you pass in a value of 101 to the <code>Lettergrade</code> function? It falls through all the <code>if</code> statements and doesn't return anything at all. Since your code is expecting a value between 0 and 100, you could throw an exception or you could return a value to indicate an unknown grade. </p>\n\n<pre><code>char Lettergrade(double avg)\n{\n    if (avg &gt;= 90 &amp;&amp; avg &lt;= 100)\n        return 'A';\n    else if (avg &gt;= 80 &amp;&amp; avg &lt;= 89)\n        return 'B';\n    if (avg &gt;= 70 &amp;&amp; avg &lt;= 79)\n        return 'C';\n    if (avg &gt;= 60 &amp;&amp; avg &lt;= 69)\n        return 'D';\n    if (avg &gt;= 50 &amp;&amp; avg &lt;= 59)\n        return 'F';\n\n    throw new Exception(\"Invalid grade was supplied\");\n    //or\n    return '?';\n}\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 5648005, "user_type": "registered", "profile_image": "https://graph.facebook.com/998055603586142/picture?type=large", "display_name": "John DeLuca", "link": "https://stackoverflow.com/users/5648005/john-deluca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1524094857, "creation_date": 1524094455, "last_edit_date": 1524094576, "question_id": 49910528, "link": "https://stackoverflow.com/questions/49910528/gui-array-error-cs0610-error", "title": "gui array error &quot;CS0610 error&quot;", "body": "<p>Hello I am in the middle of creating a program for my C# class that has us make a GUI program that you enter 4 number grades, then average that out, take the average number and then assign a letter grade to it. right now i got everything working except for the letter grade part. Right now I get the CS0161 error, 'Grade_Calculator. Lettergrade (double)'; not all code paths return a value. </p>\n\n<pre><code>`using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing System.Windows.Forms.VisualStyles;\n\nnamespace Average_Test_Grades\n{\n    public partial class Grade_Calculator : Form\n    {\n        public Grade_Calculator()\n        {\n            InitializeComponent();\n        }\n\n        private void Button_Click(object sender, EventArgs e)\n        {\n            int Num1;\n            int Num2;\n            int Num3;\n            int Num4;\n\n\n            Num1 = Convert.ToInt32(Input1.Text);\n            Num2 = Convert.ToInt32(Input2.Text);\n            Num3 = Convert.ToInt32(Input3.Text);\n            Num4 = Convert.ToInt32(Input4.Text);\n\n            int sum = Num1 + Num2 + Num3 + Num4;\n            int avg = sum / 4;\n            Output1.Text = \"\" + avg;\n\n        }\n\n        char Lettergrade(double avg)\n        {\n            if (avg &gt;= 90 &amp;&amp; avg &lt;= 100)\n                return 'A';\n            else if (avg &gt;= 80 &amp;&amp; avg &lt;= 89)\n                return 'B';\n            if (avg &gt;= 70 &amp;&amp; avg &lt;= 79)\n                return 'C';\n            if (avg &gt;= 60 &amp;&amp; avg &lt;= 69)\n                return 'D';\n            if (avg &gt;= 50 &amp;&amp; avg &lt;= 59)\n                return 'F';\n        }\n    }\n    }\n`\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6", "npgsql"], "answers": [{"comments": [{"owner": {"reputation": 1113, "user_id": 969295, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/dea809ef5ac9770fb400f1eb65544443?s=128&d=identicon&r=PG", "display_name": "Sassa", "link": "https://stackoverflow.com/users/969295/sassa"}, "edited": false, "score": 0, "creation_date": 1524319069, "post_id": 49954403, "comment_id": 86929178, "body": "I did that, but even so, I left the query running for like 15 ~ 20 minutes and it didn&#39;t finish even when the database was simply empty."}], "tags": [], "owner": {"reputation": 1592, "user_id": 9676724, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rdklYjfI1Vg/AAAAAAAAAAI/AAAAAAAAABM/agZfIy-0w6k/photo.jpg?sz=128", "display_name": "Ajay Gupta", "link": "https://stackoverflow.com/users/9676724/ajay-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1524303709, "creation_date": 1524303709, "answer_id": 49954403, "question_id": 49910400, "link": "https://stackoverflow.com/questions/49910400/query-with-large-where-clause-causes-timeout-exception-in-ef6-with-npgsql/49954403#49954403", "title": "Query with large WHERE clause causes timeout exception in EF6 with npgsql", "body": "<p>You can disable timeouts by passing <code>Command Timeout=0</code> in the connection string, as with a default of 30 seconds your queries are probably running for too long and you need to optimize things.</p>\n"}, {"comments": [{"owner": {"reputation": 1113, "user_id": 969295, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/dea809ef5ac9770fb400f1eb65544443?s=128&d=identicon&r=PG", "display_name": "Sassa", "link": "https://stackoverflow.com/users/969295/sassa"}, "edited": false, "score": 0, "creation_date": 1524578248, "post_id": 49967060, "comment_id": 87023365, "body": "Thanks for the amazing answer! I was just wondering, is it possible to change the query to only match if the Frame collection is exact the same? As now, if I have a MultiframeModule A with 2 frames, and I query for a MultiframeModule B with 1 frame (which is one of the 2 frames in the A multiframeModule) the query will return A, with its 2 frames."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 1113, "user_id": 969295, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/dea809ef5ac9770fb400f1eb65544443?s=128&d=identicon&r=PG", "display_name": "Sassa", "link": "https://stackoverflow.com/users/969295/sassa"}, "edited": false, "score": 0, "creation_date": 1524584689, "post_id": 49967060, "comment_id": 87028152, "body": "You are welcome:) Regarding your question, what if you add <code>p =&gt; p.Frames.Count() == count &amp;&amp; ....</code> to the query criteria?"}], "tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 3, "last_activity_date": 1524407549, "creation_date": 1524407549, "answer_id": 49967060, "question_id": 49910400, "link": "https://stackoverflow.com/questions/49910400/query-with-large-where-clause-causes-timeout-exception-in-ef6-with-npgsql/49967060#49967060", "title": "Query with large WHERE clause causes timeout exception in EF6 with npgsql", "body": "<p>As far as I can tell, the problem is caused by the too many subqueries in the generated SQL query.  </p>\n\n<p>In my test environment, SqlServer (LocalDB) simply refuses to execute the generated query with the reason as <em>being too complex</em>. PostgreSQL was able to execute it  (after setting the <code>CommandTimeout</code> to 0) in ~4min.</p>\n\n<p>The solution is to find equivalent construct which does not generate many subqueries. What I usually use in such case in the <em>counting the distinct matches and comparing it to the criteria count</em> approach.</p>\n\n<p>It can be implemented in two ways.</p>\n\n<p>(1) This is applicable only for conditions of type <code>property == valueN</code>. In such case, counting the distinct matches can be done like this (in pseudo code):</p>\n\n<pre><code>obj.Collection\n   .Select(elem =&gt; elem.Property)\n   .Distinct()\n   .Count(value =&gt; values.Contains(values))\n</code></pre>\n\n<p>Applying it to your sample:</p>\n\n<pre><code>private static IQueryable&lt;MultiframeModule&gt; WhereAllFramesProperties(this IQueryable&lt;MultiframeModule&gt; query, ICollection&lt;Frame&gt; frames)\n{\n    var values = frames.Select(e =&gt; e.FrameData.ShaHash);\n    var count = frames.Count();\n    return query.Where(p =&gt; p.Frames.Select(e =&gt; e.FrameData.ShaHash)\n        .Distinct().Count(v =&gt; values.Contains(v)) == count);\n}\n</code></pre>\n\n<p>(2) This is applicable for any type of condition. In this case the match is identified by its index, which requires building dynamically a selector expression like this:</p>\n\n<pre><code>Condition0 ? 0 : Condition1 ? 1 : ... ConditionN-1 ? N - 1 : -1\n</code></pre>\n\n<p>and the distinct match count would be</p>\n\n<pre><code>obj.Collection\n   .Select(selector)\n   .Distinct()\n   .Count(i =&gt; i &gt;= 0)\n</code></pre>\n\n<p>Applying it to your sample:</p>\n\n<pre><code>private static IQueryable&lt;MultiframeModule&gt; WhereAllFramesProperties(this IQueryable&lt;MultiframeModule&gt; query, ICollection&lt;Frame&gt; frames)\n{\n    var parameter = Expression.Parameter(typeof(MultiframeModuleFrame), \"e\");\n    var body = frames.Select((frame, index) =&gt;\n    {\n        Expression&lt;Func&lt;Frame, bool&gt;&gt; predicate = e =&gt; e.FrameData.ShaHash == frame.FrameData.ShaHash;\n        return new\n        {\n            Condition = predicate.Body.ReplaceParameter(predicate.Parameters[0], parameter),\n            Value = Expression.Constant(index)\n        };\n    })\n    .Reverse()\n    .Aggregate((Expression)Expression.Constant(-1), (next, item) =&gt;\n        Expression.Condition(item.Condition, item.Value, next));\n    var selector = Expression.Lambda&lt;Func&lt;Frame, int&gt;&gt;(body, parameter);\n    var count = frames.Count();\n    return query.Where(p =&gt; p.Frames.AsQueryable().Select(selector)\n        .Distinct().Count(i =&gt; i &gt;= 0) == count);\n}\n</code></pre>\n\n<p>where the <code>ReplaceParameter</code> is the following custom extension method:</p>\n\n<pre><code>public static partial class ExpressionUtils\n{\n    public static Expression ReplaceParameter(this Expression expression, ParameterExpression source, Expression target)\n    {\n        return new ParameterReplacer { Source = source, Target = target }.Visit(expression);\n    }\n\n    class ParameterReplacer : ExpressionVisitor\n    {\n        public ParameterExpression Source;\n        public Expression Target;\n        protected override Expression VisitParameter(ParameterExpression node)\n        {\n            return node == Source ? Target : base.VisitParameter(node);\n        }\n    }\n}\n</code></pre>\n\n<p>The generated SQL contains a huge <code>CASE WHEN</code> expression (unfortunately doubled in the <code>WHERE</code> clause), but a <em>single</em> subquery, and is accepted and successfully executed in both SqlServer and PostgreSQL (in the later case in less ~2 sec under the same condition as the original test - 1K records in both tables, 1M links, 200 conditions).</p>\n"}, {"tags": [], "owner": {"reputation": 9545, "user_id": 3294396, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jprFh.png?s=128&g=1", "display_name": "MrMins", "link": "https://stackoverflow.com/users/3294396/mrmins"}, "is_accepted": false, "score": 0, "last_activity_date": 1524427149, "creation_date": 1524427149, "answer_id": 49970177, "question_id": 49910400, "link": "https://stackoverflow.com/questions/49910400/query-with-large-where-clause-causes-timeout-exception-in-ef6-with-npgsql/49970177#49970177", "title": "Query with large WHERE clause causes timeout exception in EF6 with npgsql", "body": "<p>You have a <code>any</code> clause inside of a <code>where</code>, maybe you would try to optimize it</p>\n\n<pre><code>return frames.Aggregate(query, (q, frame) =&gt;\n        {\n            return q.Frames.Any(i =&gt; i.FrameData.ShaHash == frame.FrameData.ShaHash));\n        });\n</code></pre>\n"}], "owner": {"reputation": 1113, "user_id": 969295, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/dea809ef5ac9770fb400f1eb65544443?s=128&d=identicon&r=PG", "display_name": "Sassa", "link": "https://stackoverflow.com/users/969295/sassa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 0, "accepted_answer_id": 49967060, "answer_count": 3, "score": 5, "last_activity_date": 1524427149, "creation_date": 1524093570, "last_edit_date": 1524101463, "question_id": 49910400, "link": "https://stackoverflow.com/questions/49910400/query-with-large-where-clause-causes-timeout-exception-in-ef6-with-npgsql", "title": "Query with large WHERE clause causes timeout exception in EF6 with npgsql", "body": "<p>I have a query that looks something like this:</p>\n\n<pre><code>private static IQueryable&lt;MultiframeModule&gt; WhereAllFramesProperties(this IQueryable&lt;MultiframeModule&gt; query, ICollection&lt;Frame&gt; frames)\n{\n    return frames.Aggregate(query, (q, frame) =&gt;\n    {\n        return q.Where(p =&gt; p.Frames.Any(i =&gt; i.FrameData.ShaHash == frame.FrameData.ShaHash));\n    });\n}\n</code></pre>\n\n<p><code>MultiframeModule</code> and <code>Frame</code> have an many-to-many relation.</p>\n\n<p>With that query I want to find a <code>MultiframeModule</code> that contains all frames inside the <code>frames</code> collection I sent as a parameter, for that I check the <code>ShaHash</code> parameter.</p>\n\n<p>If <code>frames</code> contains 2 frames, then the generated SQL would be something like that:</p>\n\n<pre><code>SELECT\n   \"Extent1\".\"MultiframeModuleId\",\n   \"Extent1\".\"FrameIncrementPointer\",\n   \"Extent1\".\"PageNumberVector\" \nFROM\n   \"public\".\"MultiframeModule\" AS \"Extent1\" \nWHERE\n   EXISTS \n   (\n      SELECT\n         1 AS \"C1\" \n      FROM\n         \"public\".\"Frame\" AS \"Extent2\" \n         INNER JOIN\n            \"public\".\"FrameData\" AS \"Extent3\" \n            ON \"Extent2\".\"FrameData_FrameDataId\" = \"Extent3\".\"FrameDataId\" \n      WHERE\n         \"Extent1\".\"MultiframeModuleId\" = \"Extent2\".\"MultiframeModule_MultiframeModuleId\" \n         AND \"Extent3\".\"ShaHash\" = @p__linq__0\n   )\n   AND EXISTS \n   (\n      SELECT\n         1 AS \"C1\" \n      FROM\n         \"public\".\"Frame\" AS \"Extent4\" \n         INNER JOIN\n            \"public\".\"FrameData\" AS \"Extent5\" \n            ON \"Extent4\".\"FrameData_FrameDataId\" = \"Extent5\".\"FrameDataId\" \n      WHERE\n         \"Extent1\".\"MultiframeModuleId\" = \"Extent4\".\"MultiframeModule_MultiframeModuleId\" \n         AND \"Extent5\".\"ShaHash\" = @p__linq__1\n   )\n   LIMIT 2\n\n-- p__linq__0: '0' (Type = Int32, IsNullable = false)\n\n-- p__linq__1: '0' (Type = Int32, IsNullable = false)\n</code></pre>\n\n<p>But, if I have more frames, say 200 for example, then the call would throw an exception:</p>\n\n<pre><code>Unable to read data from the transport connection: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.\n</code></pre>\n\n<p>With stacktrace:</p>\n\n<pre><code>   at Npgsql.ReadBuffer.&lt;Ensure&gt;d__27.MoveNext()\n--- End of stack trace from previous location where exception was thrown ---\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n   at Npgsql.NpgsqlConnector.&lt;DoReadMessage&gt;d__157.MoveNext()\n--- End of stack trace from previous location where exception was thrown ---\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n   at System.Runtime.CompilerServices.ValueTaskAwaiter`1.GetResult()\n   at Npgsql.NpgsqlConnector.&lt;ReadMessage&gt;d__156.MoveNext()\n--- End of stack trace from previous location where exception was thrown ---\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n   at System.Runtime.CompilerServices.ValueTaskAwaiter`1.GetResult()\n   at Npgsql.NpgsqlConnector.&lt;ReadExpecting&gt;d__163`1.MoveNext()\n--- End of stack trace from previous location where exception was thrown ---\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n   at System.Runtime.CompilerServices.ValueTaskAwaiter`1.GetResult()\n   at Npgsql.NpgsqlDataReader.&lt;NextResult&gt;d__32.MoveNext()\n--- End of stack trace from previous location where exception was thrown ---\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n   at Npgsql.NpgsqlDataReader.NextResult()\n   at Npgsql.NpgsqlCommand.&lt;Execute&gt;d__71.MoveNext()\n--- End of stack trace from previous location where exception was thrown ---\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n   at System.Runtime.CompilerServices.ValueTaskAwaiter`1.GetResult()\n   at Npgsql.NpgsqlCommand.&lt;ExecuteDbDataReader&gt;d__92.MoveNext()\n--- End of stack trace from previous location where exception was thrown ---\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n   at System.Runtime.CompilerServices.ValueTaskAwaiter`1.GetResult()\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\n   at System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext,TResult](TTarget target, Func`3 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)\n   at System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.Reader(DbCommand command, DbCommandInterceptionContext interceptionContext)\n   at System.Data.Entity.Core.EntityClient.Internal.EntityCommandDefinition.ExecuteStoreCommands(EntityCommand entityCommand, CommandBehavior behavior)\n</code></pre>\n\n<p>So, is there some obvious reason why my query is failing? And how can I improve it to be able to do the query successfully?</p>\n"}, {"tags": ["c#", "visual-studio"], "comments": [{"owner": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 1, "creation_date": 1524092437, "post_id": 49910234, "comment_id": 86836345, "body": "Doesn&#39;t your Visual Studio compile (if necessary) when you press F5?"}, {"owner": {"reputation": 2118, "user_id": 2787364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lxZ8k.png?s=128&g=1", "display_name": "Cosmin Ioni\u021b\u0103", "link": "https://stackoverflow.com/users/2787364/cosmin-ioni%c8%9b%c4%83"}, "edited": false, "score": 7, "creation_date": 1524092451, "post_id": 49910234, "comment_id": 86836347, "body": "F5 does build + run"}, {"owner": {"reputation": 1914, "user_id": 3534103, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zVgpl.png?s=128&g=1", "display_name": "Nightmare Games", "link": "https://stackoverflow.com/users/3534103/nightmare-games"}, "reply_to_user": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 0, "creation_date": 1524095882, "post_id": 49910234, "comment_id": 86837211, "body": "@WaiHaLee: No, it does not.  It just runs the last built version.  I didn&#39;t realize my VS had a problem."}], "answers": [{"tags": [], "owner": {"reputation": 2118, "user_id": 2787364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lxZ8k.png?s=128&g=1", "display_name": "Cosmin Ioni\u021b\u0103", "link": "https://stackoverflow.com/users/2787364/cosmin-ioni%c8%9b%c4%83"}, "is_accepted": false, "score": 1, "last_activity_date": 1524092984, "creation_date": 1524092984, "answer_id": 49910330, "question_id": 49910234, "link": "https://stackoverflow.com/questions/49910234/visual-studio-runs-but-does-not-build-with-start-button-or-f5/49910330#49910330", "title": "Visual Studio runs but does not build with start button or F5", "body": "<p>F5 does <strong>build</strong> (if you modified any of your sources, so that it makes sense to build the project) and then <strong>run</strong>.</p>\n\n<p>If this doesn't work for you then you can try to restore settings to Visual C# (for example) and you'll get that functionality. </p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/da5kh0wa.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow noreferrer\">This</a> is a full list of VS shortcuts that you can check.</p>\n"}, {"comments": [{"owner": {"reputation": 1914, "user_id": 3534103, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zVgpl.png?s=128&g=1", "display_name": "Nightmare Games", "link": "https://stackoverflow.com/users/3534103/nightmare-games"}, "edited": false, "score": 2, "creation_date": 1524157709, "post_id": 49910940, "comment_id": 86869122, "body": "I figured it out - it was the &quot;only build startup projects and dependencies on run&quot;."}, {"owner": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "reply_to_user": {"reputation": 1914, "user_id": 3534103, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zVgpl.png?s=128&g=1", "display_name": "Nightmare Games", "link": "https://stackoverflow.com/users/3534103/nightmare-games"}, "edited": false, "score": 0, "creation_date": 1524161312, "post_id": 49910940, "comment_id": 86871013, "body": "@NightmareGames - Awesome!  Glad to hear that.  This is a great question!  I learned something new!"}], "tags": [], "owner": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "is_accepted": false, "score": 2, "last_activity_date": 1524158727, "last_edit_date": 1524158727, "creation_date": 1524098137, "answer_id": 49910940, "question_id": 49910234, "link": "https://stackoverflow.com/questions/49910234/visual-studio-runs-but-does-not-build-with-start-button-or-f5/49910940#49910940", "title": "Visual Studio runs but does not build with start button or F5", "body": "<p>It's odd, but it sounds like your build options got configured to not build in certain scenarios.  On the Visual Studio menu go to </p>\n\n<p><code>Tools &gt; Options &gt; Projects and Solutions &gt; Build and Run</code></p>\n\n<p>Ensure <strong>On Run, when projects are out of date:</strong> option is \"Prompt to build\" or \"always\".  Not \"Never build\".</p>\n\n<p>And I also have my <strong>On Run, when build and deployment errors occur</strong> set to \"prompt to launch\", but that should't do what you describe.  </p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>As noted in the comments, this particular issue is resolved by toggling off  <strong>Only Build startup projects and dependencies on run</strong>.  There <a href=\"https://blogs.msdn.microsoft.com/saraford/2008/10/01/did-you-know-how-to-build-just-the-startup-project-and-any-dependencies-325/\" rel=\"nofollow noreferrer\">was a time</a> when this feature was off by default.  This feature defaulted to on for me in visual studio 2017 community edition.</p>\n\n<blockquote>\n  <p><strong>Only build startup projects and dependencies on Run</strong><br>\n  <a href=\"https://docs.microsoft.com/en-us/visualstudio/ide/reference/options-dialog-box-projects-and-solutions-build-and-run\" rel=\"nofollow noreferrer\">Builds only the startup project and its dependencies</a> when you use the F5 key, select\n  the Debug > Start menu command, or applicable commands on the Build\n  menu. If clear, all projects and dependencies are build.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/nm6b9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nm6b9.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1914, "user_id": 3534103, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zVgpl.png?s=128&g=1", "display_name": "Nightmare Games", "link": "https://stackoverflow.com/users/3534103/nightmare-games"}, "is_accepted": true, "score": 3, "last_activity_date": 1524158047, "creation_date": 1524158047, "answer_id": 49926679, "question_id": 49910234, "link": "https://stackoverflow.com/questions/49910234/visual-studio-runs-but-does-not-build-with-start-button-or-f5/49926679#49926679", "title": "Visual Studio runs but does not build with start button or F5", "body": "<p>For me, the problem was this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/95iZI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/95iZI.png\" alt=\"screenshot\"></a></p>\n\n<p>Unchecking this box fixed the issue.  I was able to make a change in my code and simply hit F5 to see the new results.</p>\n\n<p>This explains why VS <em>appeared</em> to be building <em>something</em>, but not changing the actual code I was working in.  Apparently, it was building some of the projects in my solution, but not the one I was working in.</p>\n"}], "owner": {"reputation": 1914, "user_id": 3534103, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zVgpl.png?s=128&g=1", "display_name": "Nightmare Games", "link": "https://stackoverflow.com/users/3534103/nightmare-games"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1300, "favorite_count": 0, "accepted_answer_id": 49926679, "answer_count": 3, "score": 2, "last_activity_date": 1524158727, "creation_date": 1524092323, "last_edit_date": 1524097484, "question_id": 49910234, "link": "https://stackoverflow.com/questions/49910234/visual-studio-runs-but-does-not-build-with-start-button-or-f5", "title": "Visual Studio runs but does not build with start button or F5", "body": "<p>My Visual Studio 2017 runs the last built version of a program when the start button or F5 key is pressed, but it will only reflect recent changes if I use Build -> Build Solution or ctrl + shift + B beforehand.</p>\n\n<p>Even with keyboard shortcuts, it's often tedious to hit ctrl+shift+b to build (which is already awkward with one hand), wait till the solution compiles (which could be anywhere from a second to several minutes depending on the project), and then press F5 to run.</p>\n\n<p>It would be a huge time and convenience saver if I could get a standard build + run shortcut working.  I'm not sure what setting I should be looking for, however.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Checking in Tools -> Options -> Environment -> Keyboard, it looks like my Debug.Start is set to F5, so it's not a problem with the keyboard shortcut.</p>\n"}, {"tags": ["c#", "visual-studio", "execution"], "comments": [{"owner": {"reputation": 5331, "user_id": 4256749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lpRO.png?s=128&g=1", "display_name": "Kzrystof", "link": "https://stackoverflow.com/users/4256749/kzrystof"}, "edited": false, "score": 1, "creation_date": 1524092386, "post_id": 49910227, "comment_id": 86836333, "body": "Have you tried to use the Performance Profiler in Visual Studio?"}, {"owner": {"reputation": 144, "user_id": 7810515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aYsRjzZ-WIA/AAAAAAAAAAI/AAAAAAAAAAs/DtSyVffIbpQ/photo.jpg?sz=128", "display_name": "Drew Sumido", "link": "https://stackoverflow.com/users/7810515/drew-sumido"}, "edited": false, "score": 0, "creation_date": 1524092554, "post_id": 49910227, "comment_id": 86836374, "body": "You can use an IL weaving library like Fody to accomplish this. <a href=\"https://github.com/Fody/MethodTimer\" rel=\"nofollow noreferrer\">github.com/Fody/MethodTimer</a>"}, {"owner": {"reputation": 101, "user_id": 6365898, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-TOI9OScloPg/AAAAAAAAAAI/AAAAAAAAAFI/zljJcVY2Qr8/photo.jpg?sz=128", "display_name": "alettin", "link": "https://stackoverflow.com/users/6365898/alettin"}, "reply_to_user": {"reputation": 5331, "user_id": 4256749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lpRO.png?s=128&g=1", "display_name": "Kzrystof", "link": "https://stackoverflow.com/users/4256749/kzrystof"}, "edited": false, "score": 0, "creation_date": 1524093078, "post_id": 49910227, "comment_id": 86836520, "body": "I tried but I couldn&#39;t. I try again @Kzrystof"}, {"owner": {"reputation": 5331, "user_id": 4256749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lpRO.png?s=128&g=1", "display_name": "Kzrystof", "link": "https://stackoverflow.com/users/4256749/kzrystof"}, "edited": false, "score": 0, "creation_date": 1524093625, "post_id": 49910227, "comment_id": 86836670, "body": "Was there any error? What went wrong?"}], "owner": {"reputation": 101, "user_id": 6365898, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-TOI9OScloPg/AAAAAAAAAAI/AAAAAAAAAFI/zljJcVY2Qr8/photo.jpg?sz=128", "display_name": "alettin", "link": "https://stackoverflow.com/users/6365898/alettin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 829, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524092250, "creation_date": 1524092250, "question_id": 49910227, "link": "https://stackoverflow.com/questions/49910227/how-to-find-execution-time-function-method-in-visual-studio", "title": "how to find execution time function/method in visual studio", "body": "<p>I have mvc5 project, some of my code is running slowly, but I do not know where the problem is. How do I see the runtime of each class or method that is running on a request in vs17</p>\n"}, {"tags": ["c#", "xamarin.forms", "documentation", "visual-studio-mac", "code-editor"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3375385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8395f1c78a80a51eb1a15ae659657927?s=128&d=identicon&r=PG&f=1", "display_name": "user3375385", "link": "https://stackoverflow.com/users/3375385/user3375385"}, "edited": false, "score": 0, "creation_date": 1524181254, "post_id": 49914178, "comment_id": 86879277, "body": "Good tips, thanks Ali123. I am looking for &quot;F1&quot; type behavior though."}], "tags": [], "owner": {"reputation": 683, "user_id": 4017847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AG1V4.jpg?s=128&g=1", "display_name": "Ali123", "link": "https://stackoverflow.com/users/4017847/ali123"}, "is_accepted": false, "score": 0, "last_activity_date": 1524119463, "creation_date": 1524119463, "answer_id": 49914178, "question_id": 49910129, "link": "https://stackoverflow.com/questions/49910129/how-to-navigate-from-source-code-editor-in-visual-studio-for-mac-to-xamarin-api/49914178#49914178", "title": "How to navigate from Source Code Editor in Visual Studio for Mac to Xamarin API documentation?", "body": "<p>you can use \"control + space\" to view details about the method or \"Command + D\" to go to declaration and from there you will see the name of the class and the name of the method which will sometimes have decent documentation or you can search more using those values </p>\n"}], "owner": {"reputation": 1, "user_id": 3375385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8395f1c78a80a51eb1a15ae659657927?s=128&d=identicon&r=PG&f=1", "display_name": "user3375385", "link": "https://stackoverflow.com/users/3375385/user3375385"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524181127, "creation_date": 1524091553, "last_edit_date": 1524181127, "question_id": 49910129, "link": "https://stackoverflow.com/questions/49910129/how-to-navigate-from-source-code-editor-in-visual-studio-for-mac-to-xamarin-api", "title": "How to navigate from Source Code Editor in Visual Studio for Mac to Xamarin API documentation?", "body": "<p>In Visual Studio for Windows, in C# editor, when you type a name of a method and press on F1, while the cursor is on the method for example WithLuninosity as below </p>\n\n<pre><code>var color = Color.FromRGB(100, 100, 100);\nvar color.WithLuminosity(.75);\n</code></pre>\n\n<p>a browser would open with MSDN documentation for the method. \nOr it used to be the case at least for a subset of framework class library.</p>\n\n<p>Is it possible to achieve the same behavior with Visual Studio for Mac for Xamarin API or at least for .NET or .NET Core Framework class library?</p>\n"}, {"tags": ["c#", ".net", "dlib"], "comments": [{"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1524096651, "post_id": 49910060, "comment_id": 86837403, "body": "You are accessing the data as 32bpp, but trying to put it in an Array2D of <code>Byte</code>. You will probably need <code>Aray2D&lt;Int32&gt;</code> instead, and read per 4 bytes."}, {"owner": {"reputation": 21, "user_id": 8210364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec26e22b396ab4a43db606b07ee51116?s=128&d=identicon&r=PG&f=1", "display_name": "O. Coder", "link": "https://stackoverflow.com/users/8210364/o-coder"}, "reply_to_user": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1524122763, "post_id": 49910060, "comment_id": 86845730, "body": "Notice that I am using offset <code>offset = x * 4 + y * bitmap.Width</code> for that same reason."}, {"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1524122930, "post_id": 49910060, "comment_id": 86845835, "body": "Yes, but isn&#39;t your return type wrong if it only has one byte in each entry of your 2D array? You&#39;ll need a full <code>Int32</code> (possibly <code>UInt32</code>) for 32bpp pixels. I don&#39;t know ShapePredictor, so I don&#39;t know what kind of data it expects, but you can&#39;t put four bytes of data into one byte."}, {"owner": {"reputation": 21, "user_id": 8210364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec26e22b396ab4a43db606b07ee51116?s=128&d=identicon&r=PG&f=1", "display_name": "O. Coder", "link": "https://stackoverflow.com/users/8210364/o-coder"}, "reply_to_user": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1524124282, "post_id": 49910060, "comment_id": 86846664, "body": "The return type is fine. ShapePredictor works with grayscale (8-bit). An <code>Array2D&lt;byte&gt; array = Dlib.LoadPng&lt;byte&gt;(&quot;file.png&quot;)</code> loaded from file works as expected, but what I really need is to be able to convert a Bitmap into Array2D, so that I can work with data that is already loaded in memory."}, {"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1524124407, "post_id": 49910060, "comment_id": 86846742, "body": "You need more than that. You need code to <i>actually convert your image to grayscale</i> too then. You have no such thing in your code; you&#39;re accessing it as 32bpp alpha-capable 16 million colour data. Such conversions are better performed <i>before</i> accessing it as bytes."}, {"owner": {"reputation": 21, "user_id": 8210364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec26e22b396ab4a43db606b07ee51116?s=128&d=identicon&r=PG&f=1", "display_name": "O. Coder", "link": "https://stackoverflow.com/users/8210364/o-coder"}, "reply_to_user": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1524124879, "post_id": 49910060, "comment_id": 86846998, "body": "For now, I would be satisfied with using just one colour channel, in order to have a working solution. Later, I may write a robust version."}, {"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1524126519, "post_id": 49910060, "comment_id": 86847949, "body": "I think I found your error. You remarked that you are using <code>offset = x * 4 + y * bitmap.Width</code>, but in fact <i>you aren&#39;t</i>. You&#39;re multiplying <i>that</i> by 4 <i>again</i>. That said, doing multiple multiplications inside the deepest loop is pretty inefficient (and, to be honest, looping over the data per column is pretty weird in itself), so I advise you use the code I provided, which iterates over the image data in the order of the actual image data."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8210364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec26e22b396ab4a43db606b07ee51116?s=128&d=identicon&r=PG&f=1", "display_name": "O. Coder", "link": "https://stackoverflow.com/users/8210364/o-coder"}, "edited": false, "score": 0, "creation_date": 1524127368, "post_id": 49915891, "comment_id": 86848420, "body": "Your code is more lean, though I noticed a few typos, easily fixed. The conversion still does not work. The main problem is that initialization of Array2D data seems to be undocumented, which is why I am doing this in an array loop. I have seen lots of people asking how to do it, but no definitive answer as of yet."}, {"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "reply_to_user": {"reputation": 21, "user_id": 8210364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec26e22b396ab4a43db606b07ee51116?s=128&d=identicon&r=PG&f=1", "display_name": "O. Coder", "link": "https://stackoverflow.com/users/8210364/o-coder"}, "edited": false, "score": 0, "creation_date": 1524133267, "post_id": 49915891, "comment_id": 86852549, "body": "@O.Coder I think I found it. The DlibDotNet source code uses <code>rows</code> and <code>columns</code>, in that order. That means <i>height</i> and <i>width</i>. You switched those everywhere. The multidimensional array is, as I already noted, a lot more logical if seen per row, so the access is also <code>array[y][x]</code>."}, {"owner": {"reputation": 21, "user_id": 8210364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec26e22b396ab4a43db606b07ee51116?s=128&d=identicon&r=PG&f=1", "display_name": "O. Coder", "link": "https://stackoverflow.com/users/8210364/o-coder"}, "edited": false, "score": 0, "creation_date": 1524133710, "post_id": 49915891, "comment_id": 86852854, "body": "Haha, oh my. Thanks Nyerguds. That fixed it."}, {"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "reply_to_user": {"reputation": 21, "user_id": 8210364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec26e22b396ab4a43db606b07ee51116?s=128&d=identicon&r=PG&f=1", "display_name": "O. Coder", "link": "https://stackoverflow.com/users/8210364/o-coder"}, "edited": false, "score": 0, "creation_date": 1524133803, "post_id": 49915891, "comment_id": 86852913, "body": "It also seems every retrieve of a row does a function call, so it&#39;s a lot more efficient to retrieve it outside the X loop. I edited the code to show that."}], "tags": [], "owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "is_accepted": true, "score": 1, "last_activity_date": 1524133527, "last_edit_date": 1524133527, "creation_date": 1524125279, "answer_id": 49915891, "question_id": 49910060, "link": "https://stackoverflow.com/questions/49910060/converting-system-drawing-bitmap-to-dlib-array2d/49915891#49915891", "title": "Converting System.Drawing Bitmap to Dlib Array2D", "body": "<p>As noted before, you first need to convert your image to grayscale. There are plenty of answers here on StackOverflow to help you with that. I advise the <code>ColorMatrix</code> method used in this answer:</p>\n\n<p><a href=\"https://stackoverflow.com/a/2265990/395685\">A: Convert an image to grayscale</a></p>\n\n<p>I'll be using the <code>MakeGrayscale3(Bitmap original)</code> method shown in that answer in my code below.</p>\n\n<p>Typically, images are looped through line by line for processing, so for clarity, you should put your Y loop as outer loop. It also makes the calculation of the data offsets a lot more efficient.</p>\n\n<p>As for the actual data, if the image is grayscale, the R, G and B bytes should all be the same. The order \"ARGB\" in 32-bit pixel data refers to one <code>UInt32</code> value, but those are little-endian, meaning the actual order of the bytes is [B, G, R, A]. This means that in each loop iteration we can just take the first of the four bytes, and it'll be the blue component.</p>\n\n<pre><code>public static Array2D&lt;Byte&gt; ToArray2D(this Bitmap bitmap)\n{\n    Int32 stride;\n    Byte[] data;\n    // Removes unnecessary getter calls.\n    Int32 width = bitmap.Width;\n    Int32 height = bitmap.Height;\n    // 'using' block to properly dispose temp image.\n    using (Bitmap grayImage = MakeGrayscale(bitmap))\n    {\n        BitmapData bits = grayImage.LockBits(new Rectangle(0, 0, width, height), ImageLockMode.ReadOnly, PixelFormat.Format32bppPArgb);\n        stride = bits.Stride;\n        Int32 length = stride*height;\n        data = new Byte[length];\n        Marshal.Copy(bits.Scan0, data, 0, length);\n        grayImage.UnlockBits(bits);\n    }\n    // Constructor is (rows, columns), so (height, width)\n    Array2D&lt;Byte&gt; array = new Array2D&lt;Byte&gt;(height, width);\n    Int32 offset = 0;\n    for (Int32 y = 0; y &lt; height; y++)\n    {\n        // Offset variable for processing one line\n        Int32 curOffset = offset;\n        // Get row in advance\n        Array2D&lt;Byte&gt;.Row&lt;Byte&gt; curRow = array[y];\n        for (Int32 x = 0; x &lt; width; x++)\n        {\n            curRow[x] = data[curOffset]; // Should be the Blue component.\n            curOffset += 4;\n        }\n        // Stride is the actual data length of one line. No need to calculate that;\n        // not only is it already given by the BitmapData object, but in some situations\n        // it may differ from the actual data length. This also saves processing time\n        // by avoiding multiplications inside each loop.\n        offset += stride;\n    }\n    return array;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8210364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec26e22b396ab4a43db606b07ee51116?s=128&d=identicon&r=PG&f=1", "display_name": "O. Coder", "link": "https://stackoverflow.com/users/8210364/o-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1336, "favorite_count": 1, "accepted_answer_id": 49915891, "answer_count": 1, "score": 2, "last_activity_date": 1527313457, "creation_date": 1524091182, "last_edit_date": 1524124210, "question_id": 49910060, "link": "https://stackoverflow.com/questions/49910060/converting-system-drawing-bitmap-to-dlib-array2d", "title": "Converting System.Drawing Bitmap to Dlib Array2D", "body": "<p>In this case, a grayscale Array2D for ShapePredictor.</p>\n\n<p>Here is what I am trying, without much success.</p>\n\n<pre><code>using DlibDotNet;\nusing Rectangle = System.Drawing.Rectangle;\nusing System.Runtime.InteropServices;\n\npublic static class Extension\n{\n    public static Array2D&lt;byte&gt; ToArray2D(this Bitmap bitmap)\n    {\n        var bits = bitmap.LockBits(new Rectangle(0, 0, bitmap.Width, bitmap.Height), ImageLockMode.ReadOnly, PixelFormat.Format32bppPArgb);\n        var length = bits.Stride * bits.Height;\n        var data = new byte[length];\n\n        Marshal.Copy(bits.Scan0, data, 0, length);\n        bitmap.UnlockBits(bits);\n\n        var array = new Array2D&lt;byte&gt;(bitmap.Width, bitmap.Height);\n\n        for (var x = 0; x &lt; bitmap.Width; x++)\n            for (var y = 0; y &lt; bitmap.Height; y++)\n            {\n                var offset = x * 4 + y * bitmap.Width * 4;\n\n                array[x][y] = data[offset];\n            }\n\n        return array;\n    }\n</code></pre>\n\n<p>I've searched and have not yet found a clear answer.</p>\n"}, {"tags": ["c#", "visual-studio", "reference", "system.drawing"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1524094630, "post_id": 49910014, "comment_id": 86836932, "body": "<a href=\"https://www.nuget.org/packages/System.Drawing.Common/4.5.0-preview2-26406-04\" rel=\"nofollow noreferrer\">nuget.org/packages/System.Drawing.Common/&hellip;</a>"}, {"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1526245123, "post_id": 49910014, "comment_id": 87657014, "body": ".Net Core doesn&#39;t have that stuff by default, no..."}], "answers": [{"comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1524091551, "post_id": 49910054, "comment_id": 86836102, "body": "There is a library called <a href=\"https://github.com/SixLabors/ImageSharp\" rel=\"nofollow noreferrer\">ImageSharp</a> that is taking care of a lot of the System.Drawing namespace features. Maybe OP could utilize something in there. Also to OP, use nuget. Don\u2019t randomly import dlls"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1524091780, "post_id": 49910054, "comment_id": 86836164, "body": "@maccettura true. Hard to know what the op wants to do"}, {"owner": {"reputation": 59, "user_id": 7494748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c59848340db7f7d5d12b967fa76e53?s=128&d=identicon&r=PG&f=1", "display_name": "pp-man", "link": "https://stackoverflow.com/users/7494748/pp-man"}, "edited": false, "score": 0, "creation_date": 1524135359, "post_id": 49910054, "comment_id": 86853897, "body": "Hey, thanks for the answer! Basically I&#39;m trying to load a bitmap image in the server and send it to the client, I allready wrote the server-client program and it works fine."}], "tags": [], "owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "is_accepted": true, "score": 6, "last_activity_date": 1524091156, "creation_date": 1524091156, "answer_id": 49910054, "question_id": 49910014, "link": "https://stackoverflow.com/questions/49910014/cant-add-system-drawing-dll-reference/49910054#49910054", "title": "can&#39;t add System.Drawing.dll reference", "body": "<p><code>System.Drawing</code> is not part of .NET Core. It depends on GDI+ which is part of Windows. There are plenty of alternatives out there.</p>\n\n<p><em>Aside</em>: Never download DLLs from an untrusted source. </p>\n"}], "owner": {"reputation": 59, "user_id": 7494748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c59848340db7f7d5d12b967fa76e53?s=128&d=identicon&r=PG&f=1", "display_name": "pp-man", "link": "https://stackoverflow.com/users/7494748/pp-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2711, "favorite_count": 0, "accepted_answer_id": 49910054, "answer_count": 1, "score": 2, "last_activity_date": 1524092090, "creation_date": 1524090915, "last_edit_date": 1524092090, "question_id": 49910014, "link": "https://stackoverflow.com/questions/49910014/cant-add-system-drawing-dll-reference", "title": "can&#39;t add System.Drawing.dll reference", "body": "<p>Ok, so I'm on this bug for the last 4 hours and I dont know what to do..</p>\n\n<p>I'm using Visual Studio Community 2017 and I opened Consol App(.net core) project. also I'm working on windows 8.1 OS.</p>\n\n<p>I wanted to use Image from the System.Drawing namespace and it keeps giving me that error:\n\"the type or namespace name 'Image' could not be found (are you missing a using directive or an assembly reference?)\"</p>\n\n<p>I downloaded the System.Drawing.dll from <a href=\"https://www.dllme.com/dll/files/system_drawing_dll.html\" rel=\"nofollow noreferrer\">https://www.dllme.com/dll/files/system_drawing_dll.html</a>\n(to the desktop) and then right click on the right project->add->Reference..->Browse..->System.Drawing.dll->OK\nthen I saw in the project (in the Solution Explorer) in the project dependencies->Assemblies->System.Drawing so I guess it works right?!</p>\n\n<p>I'm still getting the same error and can't use the System.Drawing namespace, any suggestions?</p>\n\n<pre><code>using System;\nusing System.Net.Sockets;\nusing System.Drawing;\nnamespace client2\n{\n  class Program\n  {\n    static void Main(string[] args)\n    {\n        try\n        {\n\n            //read image\n            Image image = new Image(\"C:\\\\image\\\\amir.jpg\");\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "linq"], "answers": [{"tags": [], "owner": {"reputation": 34, "user_id": 2925965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4059da5d3556129445729d3436935fc?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen Mehhh", "link": "https://stackoverflow.com/users/2925965/stephen-mehhh"}, "is_accepted": false, "score": 0, "last_activity_date": 1524352135, "creation_date": 1524352135, "answer_id": 49960990, "question_id": 49909993, "link": "https://stackoverflow.com/questions/49909993/get-details-from-a-linq-query-from-controller-to-razor-view/49960990#49960990", "title": "Get details from a LINQ query from Controller to Razor View", "body": "<p>First, you should materialize your query to get all admin object from your db:</p>\n\n<pre><code>var adminIds = db.admins.Select(a =&gt; a.Id).ToList();\nViewBag.AdministrationIds = adminIds;\n</code></pre>\n\n<p>Then, if you are using ViewBag to access those admin ids in the view, you will need to foreach over them and render a hidden input with the ID as the value:</p>\n\n<pre><code>@{\n    foreach (var item in ViewBag.AdministrationIds)\n    {\n        &lt;input type =\"hidden\" value=\"@item\" /&gt;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 9419790, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oTjJc.jpg?s=128&g=1", "display_name": "Chloe Finn", "link": "https://stackoverflow.com/users/9419790/chloe-finn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524352135, "creation_date": 1524090803, "question_id": 49909993, "link": "https://stackoverflow.com/questions/49909993/get-details-from-a-linq-query-from-controller-to-razor-view", "title": "Get details from a LINQ query from Controller to Razor View", "body": "<p>Currently trying to build a bulletin in my application where the logged in user simply types in something in a text box and the results are then displayed with a list of other bulletins.</p>\n\n<p>My problem is that I don't want to display the dropdown box of names, I just want the admins' ID who is logged in to post. FYI, I messed up my admin in this app, their ID is different to their userID but their usernames are the same and that is how I get their ID.</p>\n\n<p>I want to store the result of a linq query in the HiddenFor in my razor page. I've been trying with ViewBags but I just get <strong>cannot implicitly convert type 'int' to 'system.collections.ienumerable'</strong></p>\n\n<p>Here is my Create part of my controller:</p>\n\n<pre><code>    // GET: Bulletins/Create\n    public ActionResult Create()\n    {\n        string username = Membership.GetUser().UserName;\n\n        var getAdmin = (from a in db.Admins\n                        where username == a.AdminUsername\n                        select a.AdministrationId).SingleOrDefault();\n\n\n        ViewBag.AdministrationId = new SelectList(db.Admins, \"AdministrationId\", \"AdministratorName\");\n        return View();\n    }\n\n    // POST: Bulletins/Create\n    // To protect from overposting attacks, please enable the specific properties you want to bind to, for \n    // more details see https://go.microsoft.com/fwlink/?LinkId=317598.\n    [HttpPost]\n    [ValidateAntiForgeryToken]\n    public ActionResult Create([Bind(Include = \"BulletinsID,DetailsOfBulletin,AdministrationId\")] Bulletins bulletins)\n    {\n        if (ModelState.IsValid)\n        {\n            string username = Membership.GetUser().UserName;\n\n            var getAdmin = (from a in db.Admins\n                            where username == a.AdminUsername\n                            select a.AdministrationId).SingleOrDefault();\n\n            db.Bulletins.Add(bulletins);\n            db.SaveChanges();\n            return RedirectToAction(\"Index\");\n        }\n\n        ViewBag.AdministrationId = new SelectList(db.Admins, \"AdministrationId\", \"AdministratorName\", bulletins.AdministrationId);\n        return View(bulletins);\n    }\n</code></pre>\n\n<p>And my Razor View:</p>\n\n<pre><code> @Html.HiddenFor(model =&gt; model.AdministrationId)\n</code></pre>\n\n<p>Honestly couldn't find anything so any help would be appreciated. x</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "is_accepted": true, "score": 1, "last_activity_date": 1524091038, "creation_date": 1524091038, "answer_id": 49910037, "question_id": 49909975, "link": "https://stackoverflow.com/questions/49909975/why-when-trying-to-draw-a-triangle-im-getting-exception-out-of-bounds-on-the-uv/49910037#49910037", "title": "Why when trying to draw a triangle I&#39;m getting exception out of bounds on the uv&#39;s?", "body": "<p>You need to move the vertex array assignment statement to before the uv one, because Unity currently thinks that the number of vertices is zero.</p>\n\n<pre><code>mesh.vertices = ...\nmesh.uv = ...\n</code></pre>\n"}], "owner": {"reputation": 825, "user_id": 9660968, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Benzi Avrumi", "link": "https://stackoverflow.com/users/9660968/benzi-avrumi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "accepted_answer_id": 49910037, "answer_count": 1, "score": 1, "last_activity_date": 1524091038, "creation_date": 1524090688, "question_id": 49909975, "link": "https://stackoverflow.com/questions/49909975/why-when-trying-to-draw-a-triangle-im-getting-exception-out-of-bounds-on-the-uv", "title": "Why when trying to draw a triangle I&#39;m getting exception out of bounds on the uv&#39;s?", "body": "<p>It's drawing a triangle but also give exception.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class MeshGenerator : MonoBehaviour\n{\n    public GameObject meshPrefab;\n    public Vector3[] newVertices;\n    public Vector2[] newUV;\n    public int[] newTriangles;\n\n    private Mesh mesh;\n\n    void Start()\n    {\n        Mesh meshprefab = meshPrefab.GetComponent&lt;MeshFilter&gt;().sharedMesh;\n        newVertices = meshprefab.vertices;\n        newUV = meshprefab.uv;\n        newTriangles = meshprefab.triangles;\n\n\n        mesh = new Mesh();\n        mesh = gameObject.GetComponent&lt;MeshFilter&gt;().mesh;\n        mesh.Clear();\n        mesh.uv = new Vector2[] { new Vector2(0, 0), new Vector2(0, 0.25f), new Vector2(0.25f, 0.25f) };\n        mesh.vertices = new Vector3[] { new Vector3(0, 0, 0), new Vector3(0, 0.25f, 0), new Vector3(0.25f, 0.25f, 0) };\n        mesh.triangles = new int[] { 0, 1, 2 };\n    }\n}\n</code></pre>\n\n<p>The exception is on the line:</p>\n\n<pre><code>mesh.uv = new Vector2[] { new Vector2(0, 0), new Vector2(0, 0.25f), new Vector2(0.25f, 0.25f) };\n</code></pre>\n\n<p>Mesh.uv is out of bounds. The supplied array needs to be the same size as the Mesh.vertices array.\nUnityEngine.Mesh:set_uv(Vector2[])</p>\n"}, {"tags": ["c#", "linq"], "answers": [{"comments": [{"owner": {"reputation": 352, "user_id": 4835627, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153337036588783/picture?type=large", "display_name": "Austin Donley", "link": "https://stackoverflow.com/users/4835627/austin-donley"}, "edited": false, "score": 0, "creation_date": 1524092102, "post_id": 49910029, "comment_id": 86836243, "body": "This saved me about a second (33 to 32), and it looks nicer than mine too. I&#39;ll run more tests, but I&#39;m not convinced this is entirely more efficient, though. That second difference might be from elsewhere."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 352, "user_id": 4835627, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153337036588783/picture?type=large", "display_name": "Austin Donley", "link": "https://stackoverflow.com/users/4835627/austin-donley"}, "edited": false, "score": 0, "creation_date": 1524092302, "post_id": 49910029, "comment_id": 86836301, "body": "Do you have control over the order of the list? And do both lists have the same number of elements and matching IDs?"}, {"owner": {"reputation": 352, "user_id": 4835627, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153337036588783/picture?type=large", "display_name": "Austin Donley", "link": "https://stackoverflow.com/users/4835627/austin-donley"}, "edited": false, "score": 0, "creation_date": 1524092326, "post_id": 49910029, "comment_id": 86836308, "body": "Yes to both questions @DavidG"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 352, "user_id": 4835627, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153337036588783/picture?type=large", "display_name": "Austin Donley", "link": "https://stackoverflow.com/users/4835627/austin-donley"}, "edited": false, "score": 0, "creation_date": 1524092576, "post_id": 49910029, "comment_id": 86836380, "body": "How about option 2?"}, {"owner": {"reputation": 352, "user_id": 4835627, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153337036588783/picture?type=large", "display_name": "Austin Donley", "link": "https://stackoverflow.com/users/4835627/austin-donley"}, "edited": false, "score": 0, "creation_date": 1524093081, "post_id": 49910029, "comment_id": 86836521, "body": "You wouldn&#39;t believe it - but that one takes longer for some reason. Up to 38. Does accessing an index perhaps take a little time then?"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 352, "user_id": 4835627, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153337036588783/picture?type=large", "display_name": "Austin Donley", "link": "https://stackoverflow.com/users/4835627/austin-donley"}, "edited": false, "score": 0, "creation_date": 1524093170, "post_id": 49910029, "comment_id": 86836539, "body": "I would guess there&#39;s something not right with your metrics. Are you allowing for warm up? Is it compiled in release instead of debug mode? What are you using to do the timing? How many elements do you have?"}, {"owner": {"reputation": 352, "user_id": 4835627, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153337036588783/picture?type=large", "display_name": "Austin Donley", "link": "https://stackoverflow.com/users/4835627/austin-donley"}, "edited": false, "score": 0, "creation_date": 1524093318, "post_id": 49910029, "comment_id": 86836591, "body": "I&#39;m using Stopwatch - it starts right before I call the function, and stops after the function is executed. You&#39;re right though the timing is probably funky. But yes I am compiled in debug instead of release - I set a breakpoint to check the timer when it returns."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 352, "user_id": 4835627, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153337036588783/picture?type=large", "display_name": "Austin Donley", "link": "https://stackoverflow.com/users/4835627/austin-donley"}, "edited": false, "score": 0, "creation_date": 1524093402, "post_id": 49910029, "comment_id": 86836612, "body": "Don&#39;t use debug mode, it&#39;s not going to give you consistent results."}, {"owner": {"reputation": 352, "user_id": 4835627, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153337036588783/picture?type=large", "display_name": "Austin Donley", "link": "https://stackoverflow.com/users/4835627/austin-donley"}, "edited": false, "score": 0, "creation_date": 1524093734, "post_id": 49910029, "comment_id": 86836696, "body": "Every test I&#39;m running is giving the best results on your first answer, but that could be for a number of reasons I assume. It&#39;s a good start, and consistently more efficient than the route I chose originally."}, {"owner": {"reputation": 1090, "user_id": 7396598, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b5d7500a00bd4aa5a9be5f61b032dfa?s=128&d=identicon&r=PG", "display_name": "user7396598", "link": "https://stackoverflow.com/users/7396598/user7396598"}, "edited": false, "score": 0, "creation_date": 1524094387, "post_id": 49910029, "comment_id": 86836866, "body": "The linq join method under the hood probably implements a hash table as @zdravko danev mentions in his answer below.  If it did not it would implement nested loops like your original code and display similar performance.  I would recommend explicitly trying the hashtable approach and compare that as well."}, {"owner": {"reputation": 352, "user_id": 4835627, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153337036588783/picture?type=large", "display_name": "Austin Donley", "link": "https://stackoverflow.com/users/4835627/austin-donley"}, "reply_to_user": {"reputation": 1090, "user_id": 7396598, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b5d7500a00bd4aa5a9be5f61b032dfa?s=128&d=identicon&r=PG", "display_name": "user7396598", "link": "https://stackoverflow.com/users/7396598/user7396598"}, "edited": false, "score": 0, "creation_date": 1524094435, "post_id": 49910029, "comment_id": 86836869, "body": "@user7396598 I&#39;m doing that right now, to see the results."}], "tags": [], "owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "is_accepted": false, "score": 1, "last_activity_date": 1524092566, "last_edit_date": 1524092566, "creation_date": 1524091002, "answer_id": 49910029, "question_id": 49909900, "link": "https://stackoverflow.com/questions/49909900/given-two-lists-of-different-objects-how-to-combine-values-from-each-into-a-new/49910029#49910029", "title": "Given two lists of different objects, how to combine values from each into a new list based on a common Id, efficiently?", "body": "<p>Your looking for a simple <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/join-clause\" rel=\"nofollow noreferrer\">Linq <code>join</code></a>, the order of items doesn't matter. For example:</p>\n\n<pre><code>public List&lt;C&gt; getList(List&lt;A&gt; listA, List&lt;B&gt; listB)\n{\n    var listC = from a in listA\n                join b in listB on a.Id equals b.Id\n                select new C \n                {\n                    Id = a.Id,\n                    stuffA = a.stuffA,\n                    stuffB = b.stuffB\n                };\n\n    return listC.ToList();\n}\n</code></pre>\n\n<p>If you can ensure that both lists are in the same order with the same number of elements, you can loop through the lists and join based on index. This eliminates any searches required:</p>\n\n<pre><code>public List&lt;C&gt; getList(List&lt;A&gt; listA, List&lt;B&gt; listB)\n{\n    var listC = new List&lt;C&gt;();\n\n    for(var i = 0; i &lt; listA.Count; i++)\n    {\n        listC.Add(new C \n        {\n            Id = listA[i].Id,\n            stuffA = listA[i].stuffA,\n            stuffB = listB[i].stuffB\n        };\n    }\n\n    return listC;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 352, "user_id": 4835627, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153337036588783/picture?type=large", "display_name": "Austin Donley", "link": "https://stackoverflow.com/users/4835627/austin-donley"}, "edited": false, "score": 0, "creation_date": 1524095644, "post_id": 49910033, "comment_id": 86837169, "body": "I tried this and it seems less efficient than the method in the answer above, but maybe it becomes more efficient when I have more data in the set. I&#39;ll continue researching."}], "tags": [], "owner": {"reputation": 11775, "user_id": 1735918, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/oo9j7.jpg?s=128&g=1", "display_name": "Z. Danev", "link": "https://stackoverflow.com/users/1735918/z-danev"}, "is_accepted": false, "score": 0, "last_activity_date": 1524091023, "creation_date": 1524091023, "answer_id": 49910033, "question_id": 49909900, "link": "https://stackoverflow.com/questions/49909900/given-two-lists-of-different-objects-how-to-combine-values-from-each-into-a-new/49910033#49910033", "title": "Given two lists of different objects, how to combine values from each into a new list based on a common Id, efficiently?", "body": "<p>This sounds a bit like a homework question but anyway... the trivial solution has a complexity of O(n^2). if efficiency is your goal, you need to use a structure that allows for fast searching like a hashtable, then your solution will be O(n). so add the elements of the first array to a hash table, then loop thru the second array and compose the result.</p>\n"}], "owner": {"reputation": 352, "user_id": 4835627, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153337036588783/picture?type=large", "display_name": "Austin Donley", "link": "https://stackoverflow.com/users/4835627/austin-donley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1618333821, "creation_date": 1524090245, "last_edit_date": 1618333821, "question_id": 49909900, "link": "https://stackoverflow.com/questions/49909900/given-two-lists-of-different-objects-how-to-combine-values-from-each-into-a-new", "title": "Given two lists of different objects, how to combine values from each into a new list based on a common Id, efficiently?", "body": "<p>What I am trying to do is combine two lists of different types into a new type, on the Id property of each. Both lists have different properties that I need in the new list.</p>\n<p>This snippet is working already, but I am not happy with the performance. Assuming both lists are the same length, and in whatever order they need to be, is it possible to do this more efficiently?</p>\n<pre><code>class A\n{\n    public int Id { get; set; }\n    public string stuffA { get; set; }\n    //other properties that we aren't using\n}\nclass B\n{\n    public int Id { get; set; }\n    public string stuffB { get; set; }\n    //other properties we aren't using\n}\nclass C\n{\n    public int Id { get; set; }\n    public string stuffA { get; set; }\n    public string stuffB { get; set; }\n}\npublic List&lt;C&gt; getList(List&lt;A&gt; listA, List&lt;B&gt; listB)\n{\n    var listC = new List&lt;C&gt;();\n    \n    foreach(var a in listA)\n    {\n        var b = listB.Where(x =&gt; x.Id == a.Id);\n        listC.Add(new C{ Id = a.Id, stuffA = a.stuffA, stuffB = b.stuffB});\n    }\n    return listC;\n}\n</code></pre>\n<p>I've looked into the Enumerable.Zip method, which pairs up two lists in the order provided, but I can't seem to use that with objects. The only examples I can make work are with primitive types.</p>\n<p>I've seen this question: <a href=\"https://stackoverflow.com/questions/24579324/how-merge-two-lists-of-different-objects\">How merge two lists of different objects?</a> but this doesn't create a new type, only an anonymous type containing the old lists (I believe).</p>\n<p>Any ideas?</p>\n"}, {"tags": ["c#", "input", "console"], "answers": [{"comments": [{"owner": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "edited": false, "score": 1, "creation_date": 1524094468, "post_id": 49909910, "comment_id": 86836882, "body": "You mean the first (and perhaps only) <a href=\"https://www.unicode.org/faq/utf_bom.html#utf16-1\" rel=\"nofollow noreferrer\">UTF-16</a> code unit (C# <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/char\" rel=\"nofollow noreferrer\"><code>char</code></a>) value for the <a href=\"http://www.unicode.org/charts/nameslist/index.html\" rel=\"nofollow noreferrer\">Unicode codepoint</a>. Yes, if the user entered &quot;1&quot;, the value would 49. For &quot;\ud83d\udeb2&quot;, the first value would be 55357 and, in this case, there would be a second value, 57010."}, {"owner": {"reputation": 3, "user_id": 8350493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CZdGq.gif?s=128&g=1", "display_name": "Knotwood", "link": "https://stackoverflow.com/users/8350493/knotwood"}, "edited": false, "score": 0, "creation_date": 1524143488, "post_id": 49909910, "comment_id": 86859620, "body": "That makes total sense. I didn&#39;t even think about the conversion between. Thanks a lot!"}], "tags": [], "owner": {"reputation": 33537, "user_id": 15393, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c31c0dfc2a92d09b3e93d50e6ce5a489?s=128&d=identicon&r=PG", "display_name": "RB.", "link": "https://stackoverflow.com/users/15393/rb"}, "is_accepted": false, "score": 3, "last_activity_date": 1524090697, "last_edit_date": 1524090697, "creation_date": 1524090277, "answer_id": 49909910, "question_id": 49909867, "link": "https://stackoverflow.com/questions/49909867/requesting-and-storing-user-input-c/49909910#49909910", "title": "Requesting and storing user input c#", "body": "<p><a href=\"https://msdn.microsoft.com/en-us/library/system.console.read(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Console.Read</a> reads a single character from the console. As you are assigning the value to an int, you are effectively getting the ASCII value of the character (e.g. if the user entered \"1\" then the value would be 49, as per asciitable.com).</p>\n\n<p>You need to read in a line of input, and parse the input as an integer, like so:</p>\n\n<pre><code>X1 = int.Parse(Console.ReadLine());\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8350493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CZdGq.gif?s=128&g=1", "display_name": "Knotwood", "link": "https://stackoverflow.com/users/8350493/knotwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524090752, "creation_date": 1524090074, "question_id": 49909867, "link": "https://stackoverflow.com/questions/49909867/requesting-and-storing-user-input-c", "title": "Requesting and storing user input c#", "body": "<p>so this seems kind of silly, but I'm trying to create a program that accepts two x,y,z coordinates from the user and determines the distance between them. However, running this skips lines and gives random numbers. I'm new to c# and would appreciate any help!</p>\n\n<pre><code>namespace CoordinateCalcMC\n{\n  class Program\n{\n    static void Main(string[] args)\n    {\n        int X1;\n        int Y1;\n        int Z1;\n        int X2;\n        int Y2;\n        int Z2;\n        int XDist;\n        int YDist;\n        int ZDist;\n        int TotalDist;\n\n        Console.WriteLine(\"Please enter the X coordinate of the first point.\");\n        X1 = Console.Read();\n        Console.WriteLine(\"Please enter the Y coordinate of the first point.\");\n        Y1 = Console.Read();\n        Console.WriteLine(\"Please enter the Z coordinate of the first point.\");\n        Z1 = Console.Read();\n        Console.WriteLine(\"Your first point is \" + X1 + \", \" + Y1 + \", \" + Z1 + \".\");\n        Console.WriteLine(\"Please enter the X coordinate of the second point.\");\n        X2 = Console.Read();\n        Console.WriteLine(\"Please enter the Y coordinate of the second point.\");\n        Y2 = Console.Read();\n        Console.WriteLine(\"Please enter the Z coordinate of the second point.\");\n        Z2 = Console.Read();\n        Console.WriteLine(\"Your second point is \" + X2 + \", \" + Y2 + \", \" + Z2 + \".\");\n        XDist = Math.Abs(X1 - X2);\n        YDist = Math.Abs(Y1 - Y2);\n        ZDist = Math.Abs(Z1 - Z2);\n        TotalDist = XDist + YDist + ZDist;\n        Console.WriteLine(\"The total X distance is \" + XDist + \".\");\n        Console.WriteLine(\"The total Y distance is \" + YDist + \".\");\n        Console.WriteLine(\"The total Z distance is \" + ZDist + \".\");\n        Console.WriteLine(\"The total number of rails needed to connect these two points is: \" + TotalDist);\n        Console.Read();\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "unity3d", "events", "delegates", "singleton"], "comments": [{"owner": {"reputation": 658, "user_id": 1644830, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/83f61516d14c8dbab3eb582259fd006b?s=128&d=identicon&r=PG", "display_name": "Behnam Rasooli", "link": "https://stackoverflow.com/users/1644830/behnam-rasooli"}, "edited": false, "score": 0, "creation_date": 1524094503, "post_id": 49909843, "comment_id": 86836894, "body": "There might be several instances of Door and GameManager, even though it looks like there is only one. Do a debug check on the event and see how many subscribers it has. You&#39;re probably subscribing the Door multiple times without knowing it."}], "answers": [{"tags": [], "owner": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "is_accepted": false, "score": 1, "last_activity_date": 1524107977, "last_edit_date": 1524107977, "creation_date": 1524092393, "answer_id": 49910246, "question_id": 49909843, "link": "https://stackoverflow.com/questions/49909843/how-to-unsubscribe-from-an-event-inside-of-the-gamemanager/49910246#49910246", "title": "How to unsubscribe from an event inside of the gamemanager?", "body": "<p>I suspect you're spawning a new singleton when you call <code>GameManager.Instance</code> after it's been destroyed? If so, do something like this instead:</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>public class GameManager : MonoBehaviour\n{\n    public static GameManager Instance\n    {\n        get\n        {\n            if (isDestroyed) return null;\n\n            // Your spawn logic...\n        }\n    }\n\n    static bool isDestroyed;\n\n    void OnDestroy()\n    {\n        isDestroyed = true;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 711, "user_id": 8586392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d92600653b1f7d5d078a686eadac6b8?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Carey", "link": "https://stackoverflow.com/users/8586392/sean-carey"}, "is_accepted": true, "score": 0, "last_activity_date": 1524169028, "last_edit_date": 1524169028, "creation_date": 1524098632, "answer_id": 49910995, "question_id": 49909843, "link": "https://stackoverflow.com/questions/49909843/how-to-unsubscribe-from-an-event-inside-of-the-gamemanager/49910995#49910995", "title": "How to unsubscribe from an event inside of the gamemanager?", "body": "<p>As Lece pointed out, I'm spawning a new singleton when I call GameManager.Instance. Rather than creating a static bool to remedy the problem however, I replaced <code>if (_instance == null)</code> with <code>if ((object)_instance == null)</code> inside my Instance getter and it solved the problem. This is because, while the object is destroyed in the native code, it still exists in the managed code. So I'm now referencing it in the managed world. Moreover, Unity makes is so that when an object is destroyed in native code, its value in managed code will still return null.</p>\n"}], "owner": {"reputation": 711, "user_id": 8586392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d92600653b1f7d5d078a686eadac6b8?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Carey", "link": "https://stackoverflow.com/users/8586392/sean-carey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 624, "favorite_count": 0, "accepted_answer_id": 49910995, "answer_count": 2, "score": 0, "last_activity_date": 1524180156, "creation_date": 1524089922, "last_edit_date": 1524180156, "question_id": 49909843, "link": "https://stackoverflow.com/questions/49909843/how-to-unsubscribe-from-an-event-inside-of-the-gamemanager", "title": "How to unsubscribe from an event inside of the gamemanager?", "body": "<p>In Unity, in my <code>GameManager</code> script, I have a delegate. In my <code>Door</code> script, I subscribe to this delegate. I've tried unsubscribing from it in both the <code>OnDisable</code> and <code>OnDestroy</code> methods in the <code>Door</code> script. In both cases, I get an error when I stop running the game in the editor:</p>\n\n<blockquote>\n  <p>Some objects were not cleaned up when closing the scene. (Did you spawn new GameObjects from OnDestroy?)</p>\n</blockquote>\n\n<p>Using <code>Debug.Log</code>, I found out that this is because the <code>GameManager</code> will always be destroyed before the <code>Door</code> script. Even if I do a <code>null</code> check inside either the <code>OnDisable</code> or <code>OnDestroy</code> of the <code>Door</code> script to see if the <code>GameManager</code> is <code>null</code>, I get the same error</p>\n\n<pre><code>if (GameManager.Instance)\n{\n    GameManager.Instance.OnAllEnemiesKilled -= OpenDoor;\n}\n</code></pre>\n\n<p>Somebody told me that I don't need to unsubscribe from it, as the delegate will automatically become null when the <code>Door</code> object is destroyed, but that's not true. During runtime, after the <code>Door</code> is destroyed, my update loop inside of the <code>GameManager</code> is still printing that the delegate has one subscriber: the <code>Door</code>.</p>\n"}, {"tags": ["c#", "visual-studio-2015", "discord.net"], "comments": [{"owner": {"reputation": 1155, "user_id": 2246411, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/6JwiY.jpg?s=128&g=1", "display_name": "derekantrican", "link": "https://stackoverflow.com/users/2246411/derekantrican"}, "edited": false, "score": 0, "creation_date": 1566494394, "post_id": 49909820, "comment_id": 101683572, "body": "For me I discovered that I had multiple versions of System.Interactive.Async referenced across different .csprojs. Unifying the references solved this"}], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 6841781, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-biW7EvWNsOw/AAAAAAAAAAI/AAAAAAAAABY/5zzaXvpnJSg/photo.jpg?sz=128", "display_name": "PhotonChaos", "link": "https://stackoverflow.com/users/6841781/photonchaos"}, "is_accepted": true, "score": 0, "last_activity_date": 1524102855, "creation_date": 1524102855, "answer_id": 49911514, "question_id": 49909820, "link": "https://stackoverflow.com/questions/49909820/visual-studio-could-not-load-system-interactive-async/49911514#49911514", "title": "Visual Studio could not load System.Interactive.Async", "body": "<p>I eventually solved the issue. The dll file was  corrupted, so I just asked a friend to send me a copy of theirs.</p>\n"}], "owner": {"reputation": 19, "user_id": 6841781, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-biW7EvWNsOw/AAAAAAAAAAI/AAAAAAAAABY/5zzaXvpnJSg/photo.jpg?sz=128", "display_name": "PhotonChaos", "link": "https://stackoverflow.com/users/6841781/photonchaos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1487, "favorite_count": 0, "accepted_answer_id": 49911514, "answer_count": 1, "score": 0, "last_activity_date": 1524102855, "creation_date": 1524089778, "question_id": 49909820, "link": "https://stackoverflow.com/questions/49909820/visual-studio-could-not-load-system-interactive-async", "title": "Visual Studio could not load System.Interactive.Async", "body": "<p>I am writing a Discord bot using the Discord.NET API wrapper but for some reason, whenever I try and run the code, it crashes on the line</p>\n\n<pre><code>new Program().StartAsync().GetAwaiter().GetResult();\n</code></pre>\n\n<p>which is the line that starts the bot. <code>System.Interactive.Async</code> is included in the solution's references and is up-to-date as of the NuGet Package Manager. I have already tried adding</p>\n\n<pre><code>&lt;dependentAssembly&gt;\n&lt;assemblyIdentity name=\"System.Interactive.Async\" publicKeyToken=\"94bc3704cddfc263\" culture=\"neutral\" /&gt;\n&lt;bindingRedirect oldVersion=\"0.0.0.0-3.0.3000.0\" newVersion=\"3.0.0.0\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>to the app.config however, this did not solve my issue. The solution is running .NET framework 4.6.1.</p>\n\n<p>Image of the error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4YKGM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4YKGM.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "speech-recognition", "speech", "user32"], "comments": [{"owner": {"reputation": 810, "user_id": 4341921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e311083332688ee57860d29499d94b9?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Garud", "link": "https://stackoverflow.com/users/4341921/deepak-garud"}, "edited": false, "score": 0, "creation_date": 1550657703, "post_id": 49909750, "comment_id": 96346055, "body": "The message &#39;SAPI does not implement phonetic alphabet selection.&#39; is information only. To resolve same issue in my case, I needed to go to Control Panel -&gt; Speech Recognition -&gt; Start Speech Recognition to check if the computer was actually getting audio from my microphone."}], "owner": {"reputation": 11, "user_id": 4885267, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206460942220783/picture?type=large", "display_name": "Jamie Law", "link": "https://stackoverflow.com/users/4885267/jamie-law"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1524089426, "creation_date": 1524089426, "question_id": 49909750, "link": "https://stackoverflow.com/questions/49909750/sapi-does-not-implement-phonetic-alphabet-selection-speech-command-app", "title": "SAPI does not implement phonetic alphabet selection. Speech Command App", "body": "<p>In my speech command app, I am loading files from an external source, processing that data and loading them into a list of possible commands for execution</p>\n\n<p>When I run the app, I get the message in the console</p>\n\n<pre><code>Main.exe Information: 0: SAPI does not implement phonetic alphabet selection.\n</code></pre>\n\n<p>I tried solutions such as adding</p>\n\n<pre><code>gram.Culture = New System.Globalization.CultureInfo(\"en-GB\")\n</code></pre>\n\n<p>I think this is either outdated or does not work on this type of WPF application</p>\n\n<p>Any tips?</p>\n\n<p>Code:</p>\n\n<pre><code>{\n            InitializeComponent();\n\n\n\n\n        }\n        SpeechSynthesizer synth = new SpeechSynthesizer();\n        PromptBuilder builder = new PromptBuilder();\n        SpeechRecognitionEngine recog = new SpeechRecognitionEngine();\n        private System.Windows.Input.Key k;\n        private int vkey;\n        private Choices cmd;\n\n        private void Button_Click_1(object sender, RoutedEventArgs e)\n        {\n            b1.IsEnabled = false;\n            Choices list = new Choices();\n            cmd = Singleton.getInstance().getChoices();\n            list.Add(new string[] { \"hello\", \"test\", \"it works\", \"sup\", \"windows\", \"grenade\" });\n            Grammar gr = new Grammar(new GrammarBuilder(cmd));\n\n            try\n            {\n                recog.RequestRecognizerUpdate();\n                recog.LoadGrammar(gr);\n                recog.SpeechRecognized += Recog_SpeechRecognized;\n                recog.SetInputToDefaultAudioDevice();\n                recog.RecognizeAsync(RecognizeMode.Multiple);\n            }\n\n            catch\n            {\n                return;\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "asp.net-mvc-4"], "comments": [{"owner": {"reputation": 1867, "user_id": 6535663, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PdSpK.png?s=128&g=1", "display_name": "David Lee", "link": "https://stackoverflow.com/users/6535663/david-lee"}, "edited": false, "score": 0, "creation_date": 1524089022, "post_id": 49909676, "comment_id": 86835301, "body": "There are several things that can cause this issue. Have you tried to connect to your production SQL Server with some type of tool like SSMS?"}, {"owner": {"reputation": 606, "user_id": 1458452, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1270a4891f38f0abbc1a2b49d4543a85?s=128&d=identicon&r=PG", "display_name": "Adrian", "link": "https://stackoverflow.com/users/1458452/adrian"}, "reply_to_user": {"reputation": 1867, "user_id": 6535663, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PdSpK.png?s=128&g=1", "display_name": "David Lee", "link": "https://stackoverflow.com/users/6535663/david-lee"}, "edited": false, "score": 0, "creation_date": 1524089455, "post_id": 49909676, "comment_id": 86835439, "body": "Yes I am able to login to SSMS with my new user and I can see all the tables including the one above and its contents. But when I publish, its not adding a new migration to the table - and yes I have the checkbox ticked in the publish wizard"}, {"owner": {"reputation": 1867, "user_id": 6535663, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/PdSpK.png?s=128&g=1", "display_name": "David Lee", "link": "https://stackoverflow.com/users/6535663/david-lee"}, "edited": false, "score": 0, "creation_date": 1524094204, "post_id": 49909676, "comment_id": 86836812, "body": "Are you using a different user account than the one you used to create your database?"}], "answers": [{"tags": [], "owner": {"reputation": 606, "user_id": 1458452, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1270a4891f38f0abbc1a2b49d4543a85?s=128&d=identicon&r=PG", "display_name": "Adrian", "link": "https://stackoverflow.com/users/1458452/adrian"}, "is_accepted": false, "score": 0, "last_activity_date": 1524132506, "creation_date": 1524132506, "answer_id": 49918356, "question_id": 49909676, "link": "https://stackoverflow.com/questions/49909676/publishing-site-gives-permission-error/49918356#49918356", "title": "Publishing site gives permission error", "body": "<p>So it appears i need to run the following permissions on the new user</p>\n\n<pre><code>EXEC sp_addrolemember 'db_datareader', 'my_user'\nEXEC sp_addrolemember 'db_datawriter', 'my_user'\nEXEC sp_addrolemember 'db_ddladmin', 'my_user'\n</code></pre>\n\n<p>And the site will now publish/retrieve the migrations. </p>\n"}], "owner": {"reputation": 606, "user_id": 1458452, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1270a4891f38f0abbc1a2b49d4543a85?s=128&d=identicon&r=PG", "display_name": "Adrian", "link": "https://stackoverflow.com/users/1458452/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524132506, "creation_date": 1524088925, "question_id": 49909676, "link": "https://stackoverflow.com/questions/49909676/publishing-site-gives-permission-error", "title": "Publishing site gives permission error", "body": "<p>I am using Code First migrations and up to this point that process has been working correctly. I have created a new user and I have added the following permissions to them:</p>\n\n<pre><code>GRANT INSERT ON dbo.__MigrationHistory TO MY_USER\nGRANT SELECT ON dbo.__MigrationHistory TO MY_USER\nGRANT DELETE ON dbo.__MigrationHistory TO MY_USER\nGRANT UPDATE ON dbo.__MigrationHistory TO MY_USER\n</code></pre>\n\n<p>But when the site is published, my new Migration is not inserted into the table and I get an error</p>\n\n<pre><code>Cannot find the objects \"Person\" because it does not exist or you do not have permission\n</code></pre>\n\n<p>Is this down to a missing permission and if so which one am I missing? As you can see I have the basic CRUD added for that table.</p>\n"}, {"tags": ["c#", "winforms", "openfiledialog"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 1, "creation_date": 1524089125, "post_id": 49909662, "comment_id": 86835333, "body": "Why are you using the API rather than the nice neat NET object?"}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1524089233, "post_id": 49909662, "comment_id": 86835368, "body": "It is a customized FileDialog. I added a control inside the OFD dialog."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1524089579, "post_id": 49909662, "comment_id": 86835486, "body": "Perhaps it would be better to customize the dialog from the C# class as in <a href=\"https://stackoverflow.com/a/6093152/2557128\">this answer</a> ?"}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1524089766, "post_id": 49909662, "comment_id": 86835556, "body": "@RufusL for 3 or 4 selected files it is the current folder path and separated file names. For a bigger selection, it is empty, and SendMessage return 1."}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1524089914, "post_id": 49909662, "comment_id": 86835610, "body": "@NetMage I need to put a custom control inside the OFD, I can&#39;t find any IFileDialogCustomize example for winforms."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1524090300, "post_id": 49909662, "comment_id": 86835737, "body": "In the C# code for <code>OpenFileDialog</code>, they setup a buffer of size 8192 to handle multiple files, and they add the path from the beginning of the buffer to each filename for the answer. Did you follow the link in my comment to see the customized <code>OpenFileDialog</code> links in that answer?"}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1524090478, "post_id": 49909662, "comment_id": 86835792, "body": "@NetMage I&#180;ll read your link. I&#39;ll trywith the 8192 size. Thanks."}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1524091152, "post_id": 49909662, "comment_id": 86836007, "body": "@NetMage the 8192 is not working, I&#39;m reading your links but I can&#39;t something about multiple files."}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524091712, "post_id": 49909662, "comment_id": 86836146, "body": "Yes, I can parse the string, but when the selection is bigger than 7 elements, the stringbuilder is empty. For 1-6 elements the stringbuilder is ok, with  the path and the files names, but for 7+, the result from CDM_GETFILEPATH is empty."}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524092069, "post_id": 49909662, "comment_id": 86836235, "body": "Yes, but what if the user select a lot of files? I&#39;m using another method for get the selected files, but that method only return the filenames, without the path, check the edit in the question."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1524092307, "post_id": 49909662, "comment_id": 86836303, "body": "Note the code also catches the <code>CDN_SELCHANGE</code> message and uses <code>CDM_GETSPEC</code> to estimate the buffer size needed when the selection changes (plus 2048, but GETFOLDERPATH is more specific)."}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524092600, "post_id": 49909662, "comment_id": 86836387, "body": "I tried with: var count = SelectedItems(handle); where SelectedItems get the count of selected items in the listview (sending the LVM_GETSELECTEDCOUNT and then the LVM_GETITEMSTATE for each ListViewitem) and then, for the buffer size : var bufferSize = 1024 * count; but it is the same, if the selection is for 8 files, the return is an empty string. I&#39;ll try with 2048."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1524092694, "post_id": 49909662, "comment_id": 86836419, "body": "Where is <code>bufferSize</code> in your code?"}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1524092851, "post_id": 49909662, "comment_id": 86836464, "body": "@NetMage I need to edit the OP question, I&#39;m doing changes in my code trying the suggestions. the 2048 did&#39;mt work, for a selection of 7 of more, the stringbuilder is empty."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1524092984, "post_id": 49909662, "comment_id": 86836502, "body": "What does <code>var path = new StringBuilder(8192) SendMessage(handle, CDM_GETFILEPATH, (IntPtr)path.Capacity, path);</code> do? How long are your filenames you are testing with?"}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524093150, "post_id": 49909662, "comment_id": 86836533, "body": "I&#39;ve tried with new StringBuilder(8192) and didn&#39;t work, well, it only work for 6-7 files. The filenames aren&#39;t too big, probably 20-30 characters for each filename. I tried with CDM_GETSPEC, &quot;SendMessage(handle, CDM_GETSPEC, IntPtr.Zero, IntPtr.Zero);&quot; and didn&#39;t work."}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524095207, "post_id": 49909662, "comment_id": 86837074, "body": "Well, it looks that it doesnt works with 8+ files. I need a workaround."}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1524097407, "post_id": 49909662, "comment_id": 86837593, "body": "@NetMage Is it possible to get the full path of ListViewItems in the listview of OpenFileDialog? I can get the filename (without the path) but I need the full path"}], "answers": [{"comments": [{"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524089439, "post_id": 49909720, "comment_id": 86835435, "body": "Ok, I&#39;ll try to get the reference to the OpenFileDialog object."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "reply_to_user": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524089458, "post_id": 49909720, "comment_id": 86835441, "body": "Please let me know if it works ... it might help me in the future:)"}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524089481, "post_id": 49909720, "comment_id": 86835450, "body": "Ok, I&#39;m coding now ;)"}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524089805, "post_id": 49909720, "comment_id": 86835568, "body": "Not working :(, FileNames has an element with an empty string."}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524090764, "post_id": 49909720, "comment_id": 86835901, "body": "Bot I need the selected file before user click Ok, I need the selected files after the user is selecting with the mouse, and before it select Ok."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "reply_to_user": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524090922, "post_id": 49909720, "comment_id": 86835951, "body": "It is not possible unless 1.You modify the opd class itself | or | 2.Make your own opd"}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524091611, "post_id": 49909720, "comment_id": 86836124, "body": "Yes, I&#39;m modifing the OFD."}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524091770, "post_id": 49909720, "comment_id": 86836161, "body": "I&#39;m following this article: <a href=\"https://www.codeproject.com/Articles/19566/Extend-OpenFileDialog-and-SaveFileDialog-the-easy\" rel=\"nofollow noreferrer\">codeproject.com/Articles/19566/&hellip;</a>"}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524091925, "post_id": 49909720, "comment_id": 86836201, "body": "Basically I override the WndProc method, check for the WM_NOTIFY message, convert the LParam to OFNOTIFY type, check if the code of OFNOTIFY is CDN_SELCHANGE value, and then send a   CDM_GETFILEPATH message to the OpenFileDialog, but it works for 1-6 elements, for a selection of 7 or more files, the return value is empty."}], "tags": [], "owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "is_accepted": false, "score": 0, "last_activity_date": 1524089984, "last_edit_date": 1524089984, "creation_date": 1524089209, "answer_id": 49909720, "question_id": 49909662, "link": "https://stackoverflow.com/questions/49909662/get-the-selected-files-in-open-file-dialog/49909720#49909720", "title": "Get the selected files in Open File Dialog", "body": "<p>Simple :</p>\n\n<pre><code>  IO.Stream st1\n\n ///Set MultiSelect property to true\n  openfiledialog1.MultiSelect = true;\n\n\n\n  ///Now get the filenames\n  if (openfiledialog1.ShowDialog() == DialogResult.OK)\n  {\n    foreach (String file in openfiledialog1.FileNames) \n\n    {\n      try\n      {\n        if ((st1 = openfiledialog1.OpenFile()) != null)\n        {\n          using (st1)\n          {\n           List.Add(file);\n          }\n       }\n    }\n</code></pre>\n\n<p><strong>Note: Don't know if this will also work with the custom control as well as no code is provided regarding the custom control</strong></p>\n"}, {"comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1524089358, "post_id": 49909734, "comment_id": 86835410, "body": "No, no it really won&#39;t."}, {"owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "edited": false, "score": 0, "creation_date": 1524089388, "post_id": 49909734, "comment_id": 86835421, "body": "But I need to tell the buffer size in the wParam parameter."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 1, "creation_date": 1524089401, "post_id": 49909734, "comment_id": 86835425, "body": "wait...how does this even answer the question ?"}, {"owner": {"reputation": 25, "user_id": 3830154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/962b2d0914909c6eab237905c7ed0291?s=128&d=identicon&r=PG&f=1", "display_name": "user3830154", "link": "https://stackoverflow.com/users/3830154/user3830154"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1524090173, "post_id": 49909734, "comment_id": 86835685, "body": "@NetMage The StringBuilder will create a new buffer if it overflows.  I posted that because it seems the OP didn&#39;t understand how StringBuilder worked.   Microsoft has a good example of using Multiselect  <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.openfiledialog.multiselect(v=vs.110).aspx\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1524090363, "post_id": 49909734, "comment_id": 86835755, "body": "That uses the stock <code>OpenFileDialog</code> class and not a custom control and has no relevance to the question."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1524092384, "post_id": 49909734, "comment_id": 86836332, "body": "Note that the user is calling <code>SendMessage(handle, CDM_GETFILEPATH, (IntPtr)path.Capacity, path);</code>. In this example, the method needs the capacity to be passed to it as the 3rd argument, so the <code>StringBuilder</code> must be initialized to a capacity beforehand."}], "tags": [], "owner": {"reputation": 25, "user_id": 3830154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/962b2d0914909c6eab237905c7ed0291?s=128&d=identicon&r=PG&f=1", "display_name": "user3830154", "link": "https://stackoverflow.com/users/3830154/user3830154"}, "is_accepted": false, "score": -3, "last_activity_date": 1524089335, "creation_date": 1524089335, "answer_id": 49909734, "question_id": 49909662, "link": "https://stackoverflow.com/questions/49909662/get-the-selected-files-in-open-file-dialog/49909734#49909734", "title": "Get the selected files in Open File Dialog", "body": "<p>the StringBuilder buffer will autoexpand</p>\n"}], "owner": {"reputation": 361, "user_id": 8512394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47e55a45d1d34e317a5444dc2a7b8812?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8512394/luis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 763, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1524093007, "creation_date": 1524088873, "last_edit_date": 1524093007, "question_id": 49909662, "link": "https://stackoverflow.com/questions/49909662/get-the-selected-files-in-open-file-dialog", "title": "Get the selected files in Open File Dialog", "body": "<p>I need to get the selected files in a OpenFileDialog. For a single file, I'm doing this:</p>\n\n<p>EDIT:</p>\n\n<pre><code>var count = SelectedItems(handle); // handle is the handle to ListView control in OpenFiledialog\nvar bufferSize = 2048 * count;\nif (bufferSize &gt; 0)\n{\n    var path = new StringBuilder(bufferSize)\n    SendMessage(handle, CDM_GETFILEPATH, (IntPtr)path.Capacity, path);\n}\n</code></pre>\n\n<p>And it works fine, but I need to check for multiple files (Multiselect = true). I don't know the buffer size (stringBuilder size). </p>\n\n<p>EDIT: I'm customizing the Open File Dialog. I'm trying to get the selected files before the OFD window is closed.</p>\n\n<p>EDIT: Currently I can have a list of selected files, BUT, only the filenames, without path, I'm using this:</p>\n\n<pre><code>var totalItemsCount = SendMessage(handle, LVM_GETITEMCOUNT, 0, 0);\nvar fileNames = new List&lt;string&gt;();\nvar lvi = new LVITEM();\nvar lviPtr = Marshal.AllocHGlobal(Marshal.SizeOf(typeof(LVITEM)));\n\nfor (var i = 0; i &lt; totalItemsCount; i++)\n{\n    var pcsText = Marshal.AllocHGlobal(1024);\n\n    lvi.iSubItem = 0;\n    lvi.cchTextMax = 1024;\n    lvi.pszText = pcsText;\n\n    Marshal.StructureToPtr(lvi, lviPtr, fDeleteOld: true);\n\n    var success = SendMessage(handle, LVM_GETITEMTEXT, i, (int)lviPtr);\n    if (success &gt; 0)\n    {\n        var itemState = SendMessage(handle, LVM_GETITEMSTATE, i, 2);\n        var selected = (itemState &amp; 2) != 0;\n        if (selected = (itemState &amp; 2) != 0)\n        {\n            lvi = (LVITEM)Marshal.PtrToStructure(lviPtr, typeof(LVITEM));\n            var name = Marshal.PtrToStringAnsi(lvi.pszText);\n            fileNames.Add(name);\n        }\n     }\n\n     Marshal.FreeHGlobal(pcsText);\n }\n\n Marshal.FreeHGlobal(lviPtr);\n</code></pre>\n\n<p>What I'm doing is to get the selected files directly from the listview, but I need gthe filenames with the path. </p>\n\n<p>When the OpenfileDialog change the folder, I can get the folder path with:</p>\n\n<pre><code>var folderPath = new StringBuilder(256);\nSendMessage(handle, CDM_GETFOLDERPATH, (IntPtr)256, folderPath);\n</code></pre>\n\n<p>But it doesnt work when the folder is an special folder, like the libraries.</p>\n"}, {"tags": ["c#", "filestream", "using", "memorystream"], "comments": [{"owner": {"reputation": 2934, "user_id": 746674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bb83e111a90fa717af1dac727d1884b?s=128&d=identicon&r=PG", "display_name": "Phil Cooper", "link": "https://stackoverflow.com/users/746674/phil-cooper"}, "edited": false, "score": 1, "creation_date": 1524089170, "post_id": 49909627, "comment_id": 86835353, "body": "Is there a flush() missing somewhere before you open up (and close) the inner FileStream?"}, {"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "reply_to_user": {"reputation": 2934, "user_id": 746674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bb83e111a90fa717af1dac727d1884b?s=128&d=identicon&r=PG", "display_name": "Phil Cooper", "link": "https://stackoverflow.com/users/746674/phil-cooper"}, "edited": false, "score": 0, "creation_date": 1524089401, "post_id": 49909627, "comment_id": 86835426, "body": "@PhilCooper You mean &quot;nMp3Writer&quot;?"}, {"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "reply_to_user": {"reputation": 2934, "user_id": 746674, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/7bb83e111a90fa717af1dac727d1884b?s=128&d=identicon&r=PG", "display_name": "Phil Cooper", "link": "https://stackoverflow.com/users/746674/phil-cooper"}, "edited": false, "score": 0, "creation_date": 1524089809, "post_id": 49909627, "comment_id": 86835572, "body": "Adding &quot;                        nMp3Writer.Flush();                         nMp3Writer.Close();                         nSpeakStreamAsMp3.Seek(0, SeekOrigin.Begin);&quot; fixed it. Thank you very much!!"}], "answers": [{"tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": true, "score": 4, "last_activity_date": 1524089874, "creation_date": 1524089874, "answer_id": 49909834, "question_id": 49909627, "link": "https://stackoverflow.com/questions/49909627/saving-memorystream-to-file-produces-0-bytes/49909834#49909834", "title": "Saving MemoryStream to File produces 0 bytes", "body": "<ol>\n<li><code>nSpeakStreamAsMp3</code> is currently positioned at the <em>end</em> of the stream; you need to think like a VCR: be kind, rewind (<code>nSpeakStreamAsMp3.Position = 0;</code>) before you copy the value out again</li>\n<li>make sure you flush <code>nMp3Writer</code>; if possible, close <code>nMp3Writer</code> completely</li>\n</ol>\n"}], "owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1026, "favorite_count": 0, "accepted_answer_id": 49909834, "answer_count": 1, "score": 0, "last_activity_date": 1524089874, "creation_date": 1524088701, "question_id": 49909627, "link": "https://stackoverflow.com/questions/49909627/saving-memorystream-to-file-produces-0-bytes", "title": "Saving MemoryStream to File produces 0 bytes", "body": "<p>I'm using this code to write an MP3 MemoryStream to file:</p>\n\n<pre><code>using (var nSpeakStreamAsMp3 = new MemoryStream())\nusing (var nWavFileReader = new WaveFileReader(nSpeakStream))\nusing (var nMp3Writer = new LameMP3FileWriter(nSpeakStreamAsMp3, nWavFileReader.WaveFormat, LAMEPreset.STANDARD_FAST))\n{\n    nWavFileReader.CopyTo(nMp3Writer);\n\n    string sPath = \"C:\\\\inetpub\\\\wwwroot\\\\server\\\\bin\\\\mymp3.mp3\";\n\n    using (FileStream nFile = new FileStream(sPath, FileMode.Create, System.IO.FileAccess.Write))\n    {\n        nSpeakStreamAsMp3.CopyTo(nFile);\n    }\n\n    sRet = (String.Concat(\"data:audio/mpeg;base64,\", Convert.ToBase64String(nSpeakStreamAsMp3.ToArray())));\n}\n\nreturn sRet;\n</code></pre>\n\n<p>For some reason which I don't see, this produces a file of 0 bytes.\nHowever, the MP3 stream is valid and does work. I'm passing it as a Base64String to a website, and I do hear it.</p>\n\n<p>Where might be the error here?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "edited": false, "score": 0, "creation_date": 1524088679, "post_id": 49909570, "comment_id": 86835187, "body": "You have a space at the end so unless your string ends with a literal space, it will fail. Remove the space or use RegexOptions.IgnorePatternWhitespace"}, {"owner": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "edited": false, "score": 0, "creation_date": 1524088950, "post_id": 49909570, "comment_id": 86835278, "body": "I suggest using an online regex tester. Most of them will diagnose/debug your pattern and show you what each individual character/group in your regex matches or expects"}], "answers": [{"tags": [], "owner": {"reputation": 595, "user_id": 3755169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a4d708c9640a0b6e77aa2b8dcee8222?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/3755169/kevin-b"}, "is_accepted": true, "score": 2, "last_activity_date": 1524088729, "creation_date": 1524088729, "answer_id": 49909634, "question_id": 49909570, "link": "https://stackoverflow.com/questions/49909570/why-is-this-regex-returning-false/49909634#49909634", "title": "Why is this Regex returning false?", "body": "<p>There is a space between your <code>*</code> and <code>$</code> this means that after validating all of the characters in the string match the set <code>[a-zA-Z0-9\\s\\\"\",.;?!']</code> it is expecting a space before the end of the string. If you add a space to your test string \"The bla, bla bla \" it will return <code>true</code></p>\n"}], "owner": {"reputation": 115, "user_id": 9581271, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bob", "link": "https://stackoverflow.com/users/9581271/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 49909634, "answer_count": 1, "score": 0, "last_activity_date": 1524088729, "creation_date": 1524088363, "question_id": 49909570, "link": "https://stackoverflow.com/questions/49909570/why-is-this-regex-returning-false", "title": "Why is this Regex returning false?", "body": "<p>I'm wondering why this is failing. I got this from StackOverflow earlier and modified it to fit my needs. The goal of this function is to sanitize a string. I'm only interested in alphanumeric with basic punctuation. </p>\n\n<pre><code>    public static Boolean IsAlphaNumeric(string text)\n    {\n        Regex rg = new Regex(@\"^[a-zA-Z0-9\\s\\\"\",.;?!']* $\");\n\n        return rg.IsMatch(text);\n    }\n</code></pre>\n\n<p>I have it check something like \"The bla, bla bla\" and it returns false. Why is this?</p>\n"}, {"tags": ["c#", ".net-core", "thrift"], "comments": [{"owner": {"reputation": 12067, "user_id": 499466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cc0612ec9a2b6af96500cc6e4bfdc7c?s=128&d=identicon&r=PG", "display_name": "JensG", "link": "https://stackoverflow.com/users/499466/jensg"}, "edited": false, "score": 0, "creation_date": 1524491251, "post_id": 49909543, "comment_id": 86981663, "body": "What was the cmdline you used to generate the files? Note there is a difference between <code>-gen netcore</code> and <code>-gen csharp</code> (at least right now, we are working on merging them into one)"}], "answers": [{"tags": [], "owner": {"reputation": 1199, "user_id": 10176713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0258241681f335051e09488a97a35b3e?s=128&d=identicon&r=PG", "display_name": "Jake", "link": "https://stackoverflow.com/users/10176713/jake"}, "is_accepted": false, "score": 1, "last_activity_date": 1536934078, "creation_date": 1536934078, "answer_id": 52333698, "question_id": 49909543, "link": "https://stackoverflow.com/questions/49909543/thrift-in-net-core-generated-c-code-does-not-compile/52333698#52333698", "title": "Thrift in .NET Core - Generated C# Code does not compile", "body": "<p>Seems to be caused by having both <code>union</code> and <code>hashcode</code>.  <code>-gen netcore:wcf,union,serial,hashcode</code> is generating <code>as Ping_args</code> when the type is <code>PingArgs</code>.</p>\n\n<p>Removing either gets rid of that cast.</p>\n"}], "owner": {"reputation": 31, "user_id": 1538269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c74a700336f381b1e1bb487cd706168d?s=128&d=identicon&r=PG", "display_name": "Bob2004", "link": "https://stackoverflow.com/users/1538269/bob2004"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1536934078, "creation_date": 1524088201, "last_edit_date": 1592644375, "question_id": 49909543, "link": "https://stackoverflow.com/questions/49909543/thrift-in-net-core-generated-c-code-does-not-compile", "title": "Thrift in .NET Core - Generated C# Code does not compile", "body": "<p>I am trying to use <a href=\"https://github.com/apache/thrift\" rel=\"nofollow noreferrer\">Thrift</a> in a .NET Core project, but for some reason the C# code generated by the Thrift compiler does not work.</p>\n<p>I have created a very simple .thrift file to use as a test, which looks like this:</p>\n<pre><code>namespace netcore Management\n\nservice ManagementService {\n    void Ping()\n}\n</code></pre>\n<p>I have put this in an empty class library (which my other projects will depend on), and have added the following code to my .csproj file to compile it:</p>\n<pre><code>&lt;Target Name=&quot;PreBuild&quot; BeforeTargets=&quot;_GenerateRestoreProjectSpec;Restore;Compile&quot;&gt;\n    &lt;Exec Condition=&quot;'$(OS)' == 'Windows_NT'&quot; Command=&quot;where thrift&quot; ConsoleToMSBuild=&quot;true&quot;&gt;\n        &lt;Output TaskParameter=&quot;ConsoleOutput&quot; PropertyName=&quot;PathToThrift&quot; /&gt;\n    &lt;/Exec&gt;\n    &lt;Exec Condition=&quot;Exists('$(PathToThrift)')&quot; Command=&quot;$(PathToThrift) -out $(ProjectDir) -gen netcore:wcf,union,serial,hashcode -r management.thrift&quot; /&gt;\n&lt;/Target&gt;\n</code></pre>\n<p>This appears to work correctly, and a ManagementService.cs file is created in my project containing the auto-generated code.</p>\n<p>However, this auto-generated code does not compile! When I try, MSBuild throws these errors:</p>\n<blockquote>\n<p>The type or namespace name 'Ping_args' could not be found (are you missing a using directive or an assembly reference?)</p>\n<p>The type or namespace name 'Ping_result' could not be found (are you missing a using directive or an assembly reference?)</p>\n</blockquote>\n<p>Looking through the code myself, it does indeed appear that these two variables are not declared anywhere. Could anyone tell me why this might be? Is there a problem with my .thrift file, perhaps?</p>\n"}, {"tags": ["c#", "ssl", "client", "ssl-certificate", "azure-web-app-service"], "answers": [{"comments": [{"owner": {"reputation": 859, "user_id": 1930376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4dd458700413d042a9642c9bd403f26?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Antunes", "link": "https://stackoverflow.com/users/1930376/jo%c3%a3o-antunes"}, "edited": false, "score": 0, "creation_date": 1524088956, "post_id": 49909644, "comment_id": 86835281, "body": "It doesn&#39;t even get invoked!  but it does locally when I add the untrusted CA to the store - however - that doesn&#39;t work on an Azure Web App!!"}, {"owner": {"reputation": 64, "user_id": 4993930, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L3df69pKKdw/AAAAAAAAAAI/AAAAAAAAAD4/sQmsABQF_Uo/photo.jpg?sz=128", "display_name": "Artem Kurianov", "link": "https://stackoverflow.com/users/4993930/artem-kurianov"}, "reply_to_user": {"reputation": 859, "user_id": 1930376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4dd458700413d042a9642c9bd403f26?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Antunes", "link": "https://stackoverflow.com/users/1930376/jo%c3%a3o-antunes"}, "edited": false, "score": 0, "creation_date": 1524089297, "post_id": 49909644, "comment_id": 86835390, "body": "Did I understand correctly, that you call untrusted https server from azure web app? What about try to install it on your host like this <code>X509Certificate2Collection certificates = new X509Certificate2Collection();                 certificates.Import(certName, password, X509KeyStorageFlags.PersistKeySet );</code>"}, {"owner": {"reputation": 859, "user_id": 1930376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4dd458700413d042a9642c9bd403f26?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Antunes", "link": "https://stackoverflow.com/users/1930376/jo%c3%a3o-antunes"}, "edited": false, "score": 0, "creation_date": 1524128503, "post_id": 49909644, "comment_id": 86849107, "body": "Yes! I did that, @Artem Kurianov and it gives out a File not found - which has to do with the store AFAIK - because I actually have the certificates (the pfx) as a byte array on the Resources"}, {"owner": {"reputation": 64, "user_id": 4993930, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L3df69pKKdw/AAAAAAAAAAI/AAAAAAAAAD4/sQmsABQF_Uo/photo.jpg?sz=128", "display_name": "Artem Kurianov", "link": "https://stackoverflow.com/users/4993930/artem-kurianov"}, "reply_to_user": {"reputation": 859, "user_id": 1930376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4dd458700413d042a9642c9bd403f26?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Antunes", "link": "https://stackoverflow.com/users/1930376/jo%c3%a3o-antunes"}, "edited": false, "score": 0, "creation_date": 1524141448, "post_id": 49909644, "comment_id": 86858093, "body": "It&#39;s very strange.In my azurewebapp it works`          public string Ssl()         {             try             {                 ServicePointManager.ServerCertificateValidationCallback += (sender, cert, chain, sslPolicyErrors) =&gt; true;                 using (var wc = new WebClient())                 {                     var res = wc.DownloadString(&quot;<a href=\"https://untrusted-root.badssl.com/&quot;\" rel=\"nofollow noreferrer\">untrusted-root.badssl.com/&quot;</a>);                                       return res;                 }             }             catch (Exception ex)             {                 return ex.ToString();             }         }`"}, {"owner": {"reputation": 859, "user_id": 1930376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4dd458700413d042a9642c9bd403f26?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Antunes", "link": "https://stackoverflow.com/users/1930376/jo%c3%a3o-antunes"}, "edited": false, "score": 0, "creation_date": 1524149998, "post_id": 49909644, "comment_id": 86864358, "body": "Finally progress!! thanks!  So, your code works - which is different from mine, which used a HTTPWebRequest:  //Prepare Request                     HttpWebRequest request = (HttpWebRequest)WebRequest.Create(_urlWebService);                     request.ServerCertificateValidationCallback += Communicator.CustomServiceCertificateValidation;                      Now I just have to figure out how to add client cert and other things with the WebClient!! Any idea?"}, {"owner": {"reputation": 859, "user_id": 1930376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4dd458700413d042a9642c9bd403f26?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Antunes", "link": "https://stackoverflow.com/users/1930376/jo%c3%a3o-antunes"}, "edited": false, "score": 0, "creation_date": 1524150060, "post_id": 49909644, "comment_id": 86864408, "body": "I&#39;m onto it!!:  <a href=\"https://stackoverflow.com/questions/2066489/how-can-you-add-a-certificate-to-webclient-c?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"how can you add a certificate to webclient c\">stackoverflow.com/questions/2066489/&hellip;</a>  Thanks @Artem Kurianov"}, {"owner": {"reputation": 859, "user_id": 1930376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4dd458700413d042a9642c9bd403f26?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Antunes", "link": "https://stackoverflow.com/users/1930376/jo%c3%a3o-antunes"}, "edited": false, "score": 0, "creation_date": 1524150170, "post_id": 49909644, "comment_id": 86864478, "body": "Edit your answer and add the webclient part and I&#39;ll upvote it!"}, {"owner": {"reputation": 859, "user_id": 1930376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4dd458700413d042a9642c9bd403f26?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Antunes", "link": "https://stackoverflow.com/users/1930376/jo%c3%a3o-antunes"}, "reply_to_user": {"reputation": 64, "user_id": 4993930, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L3df69pKKdw/AAAAAAAAAAI/AAAAAAAAAD4/sQmsABQF_Uo/photo.jpg?sz=128", "display_name": "Artem Kurianov", "link": "https://stackoverflow.com/users/4993930/artem-kurianov"}, "edited": false, "score": 0, "creation_date": 1524157972, "post_id": 49909644, "comment_id": 86869263, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/169358/discussion-between-joao-antunes-and-artem-kurianov\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 64, "user_id": 4993930, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L3df69pKKdw/AAAAAAAAAAI/AAAAAAAAAD4/sQmsABQF_Uo/photo.jpg?sz=128", "display_name": "Artem Kurianov", "link": "https://stackoverflow.com/users/4993930/artem-kurianov"}, "is_accepted": false, "score": 2, "last_activity_date": 1524152320, "last_edit_date": 1524152320, "creation_date": 1524088766, "answer_id": 49909644, "question_id": 49909510, "link": "https://stackoverflow.com/questions/49909510/https-client-to-connect-to-server-without-trusted-chain-non-trusted-ca-on-azur/49909644#49909644", "title": "HTTPs Client to connect to server without trusted chain (non trusted CA) on Azure Web App", "body": "<p>What about hardcode returning true in your custom callback like this?</p>\n\n<pre><code> public string Ssl()\n    {\n        try\n        {\n            ServicePointManager.ServerCertificateValidationCallback += (sender, cert, chain, sslPolicyErrors) =&gt; true;\n            using (var wc = new WebClient())\n            {\n                var res = wc.DownloadString(\"https://untrusted-root.badssl.com/\");\n                Console.WriteLine(res);\n                return res;\n            }\n        }\n        catch (Exception ex)\n        {\n            return ex.ToString();\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 859, "user_id": 1930376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4dd458700413d042a9642c9bd403f26?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Antunes", "link": "https://stackoverflow.com/users/1930376/jo%c3%a3o-antunes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1524159485, "creation_date": 1524088062, "last_edit_date": 1524159485, "question_id": 49909510, "link": "https://stackoverflow.com/questions/49909510/https-client-to-connect-to-server-without-trusted-chain-non-trusted-ca-on-azur", "title": "HTTPs Client to connect to server without trusted chain (non trusted CA) on Azure Web App", "body": "<p>I have been stuck for around 3 days trying to connect to a server that has a certificate which hasn't been signed by a trusted CA - you can add the CA's certificate through Azure Portal - but to no affect.</p>\n\n<p>apparently everything HTTP uses a kernel module (!) HTTP.SYS.</p>\n\n<p>All of the suggestions I have seen to override this either use:</p>\n\n<p><code>ServicePointManager.ServerCertificateValidationCallback = Communicator.CustomServiceCertificateValidation;\n</code></p>\n\n<p>(or its less global counterpart on the request itself)</p>\n\n<p>or something like this:</p>\n\n<pre><code> client.ClientCredentials.ServiceCertificate.SslCertificateAuthentication =\n                 new X509ServiceCertificateAuthentication()\n                 {\n                     CertificateValidationMode = X509CertificateValidationMode.Custom,\n                     RevocationMode = X509RevocationMode.NoCheck,\n\n                     //TrustedStoreLocation = StoreLocation.CurrentUser,\n                     CustomCertificateValidator = new PermissiveCertificateValidator()\n\n                 };\n</code></pre>\n\n<p>yet, neither gets invoked!!</p>\n\n<p>Some more important details:</p>\n\n<p>This works:</p>\n\n<pre><code>  try\n        {\n            ServicePointManager.ServerCertificateValidationCallback += (sender, cert, chain, sslPolicyErrors) =&gt; true;\n            using (var wc = new WebClient())\n            {\n                var res = wc.DownloadString(\"https://untrusted-root.badssl.com/\");\n                return Content(res);\n            }\n        }\n        catch (Exception ex)\n        {\n            return Content(ex.ToString());\n        }\n</code></pre>\n\n<p>Yet, I need to authenticate myself with a client certificate - so, following the instructions found here:\n<a href=\"https://stackoverflow.com/questions/2066489/how-can-you-add-a-certificate-to-webclient-c?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">How can you add a Certificate to WebClient (C#)?</a></p>\n\n<p>I end up with the following code:</p>\n\n<pre><code>class ATWebClient : WebClient\n{\n    protected override WebRequest GetWebRequest(Uri address)\n    {\n        HttpWebRequest request = (HttpWebRequest)base.GetWebRequest(address);\n        request.Headers.Add(\"SOAPAction\", \"https://servicos.portaldasfinancas.gov.pt/sgdtws/documentosTransporte/\");\n        X509Certificate2 cert = new X509Certificate2();\n        //From user installed Certificates\n        //cert.Import(_pathCertificate, _passwordCertificate, X509KeyStorageFlags.DefaultKeySet);\n        //From FileSystem \"Resources\\Certificates\"\n        cert.Import(Common.Properties.Resources.testewebservices_novo, \"TESTEwebservice\", X509KeyStorageFlags.Exportable);\n\n        // Output Certificate \n        //Utils.Log(string.Format(\"Cert Subject: [{0}], NotBefore: [{1}], NotAfter: [{2}]\", cert.Subject, cert.NotBefore, cert.NotAfter));\n\n        request.ClientCertificates.Add(cert);\n        request.Method = \"POST\";\n        request.ContentType = \"text/xml; charset=utf-8\";\n        request.Accept = \"text/xml\";\n\n\n        return request;\n    }\n</code></pre>\n\n<p>And now I invoke the service with:</p>\n\n<pre><code>   try\n    {\n\n        ServicePointManager.ServerCertificateValidationCallback += (sender, cert, chain, sslPolicyErrors) =&gt; true;\n        ServicePointManager.CheckCertificateRevocationList = false;\n        ServicePointManager.UseNagleAlgorithm = false;\n        using (var wc = new ATWebClient())\n        {\n            //var res = wc.DownloadString(\"https://servicos.portaldasfinancas.gov.pt:701/sgdtws/documentosTransporte\");\n            var res = wc.UploadString(\"https://servicos.portaldasfinancas.gov.pt:701/sgdtws/documentosTransporte\", \"Test of content\");\n            return Content(res);\n        }\n\n\n    }\n    catch (Exception ex)\n    {\n        return Json(ex);\n    }\n</code></pre>\n\n<p>Note, yes, this is a SOAP endpoint - I tried sending valid SOAP content, yet the result is in both cases the same, I get the following exception:</p>\n\n<p><code>The underlying connection was closed: An unexpected error occurred on a send.</code></p>\n\n<p>Stacktrace:</p>\n\n<pre><code>   at System.Net.WebClient.UploadDataInternal(Uri address, String method, Byte[] data, WebRequest&amp; request)\n   at System.Net.WebClient.UploadString(Uri address, String method, String data)\n   at System.Net.WebClient.UploadString(String address, String data)\n   at MagniWebApp.Controllers.HomeController.NonTrustedCATestEndpoint() in C:\\Users\\joao.antunes.Office2\\source\\repos\\07. Platform\\WebApp\\MagniWebApp\\Controllers\\HomeController.cs:line 1154\n</code></pre>\n\n<p>Inner exception's message:</p>\n\n<p><code>\nAuthentication failed because the remote party has closed the transport stream.\n</code></p>\n\n<p>Any ideas?!\nHalp!</p>\n"}, {"tags": ["c#", "forms", "winforms", "elements"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1524088310, "post_id": 49909493, "comment_id": 86835049, "body": "In your mind, what is the difference between hiding it and make it invisible?  Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and take the [tour["}], "answers": [{"tags": [], "owner": {"reputation": 2069, "user_id": 7874193, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/910a754bafc803719bce9881ddf9beb8?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksa Ristic", "link": "https://stackoverflow.com/users/7874193/aleksa-ristic"}, "is_accepted": true, "score": 0, "last_activity_date": 1524116001, "last_edit_date": 1524116001, "creation_date": 1524115499, "answer_id": 49913297, "question_id": 49909493, "link": "https://stackoverflow.com/questions/49909493/how-to-hide-elements-from-the-form-editor/49913297#49913297", "title": "How to hide elements from the form editor", "body": "<p>No there is no that possibility but there are 3 others (second one i do not prefer and would NEVER use but it is possible)</p>\n\n<p>So you want to hide some elements in editing process because you are doing something behind them. From picture i see that first one is some kind of login form. So these are solutions:</p>\n\n<p><strong>1. Creating another form</strong></p>\n\n<p>So most common and practical is creating another form.</p>\n\n<ul>\n<li>Simply create form with right click on your solution explorer > new > Windows Form</li>\n<li>Then call it with buttons</li>\n</ul>\n\n<p>Calling:</p>\n\n<pre><code>NewForm nf = new NewForm();\nnf.Show();\nthis.Close();\n</code></pre>\n\n<p><strong>2. Temporary moving it off</strong></p>\n\n<p>So idea is to move controls to the side in editing mode and then when you run program you set their location by code with simply doing <code>button1.Location = new Point(15, 15);</code></p>\n\n<p><strong>3. Using TabPage</strong></p>\n\n<p>Create TabPage with 3 tabs.</p>\n\n<p>First one are buttons, Second is if user want to create third if want to join.</p>\n\n<p>Add this to your tab so it looks better and have no buttons at top (to user swich tabs)</p>\n\n<pre><code>tabControl.Appearance = TabAppearance.FlatButtons;\ntabControl.ItemSize = new Size(0, 1);\ntabControl.SizeMode = TabSizeMode.Fixed;\n</code></pre>\n\n<p>Then on button go to specific tab and boom.</p>\n"}], "owner": {"reputation": 1, "user_id": 9660597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddbd2f81113690661d6eca166c27dc7a?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy White", "link": "https://stackoverflow.com/users/9660597/jeremy-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1524122309, "accepted_answer_id": 49913297, "answer_count": 1, "score": -4, "last_activity_date": 1524116001, "creation_date": 1524087957, "question_id": 49909493, "link": "https://stackoverflow.com/questions/49909493/how-to-hide-elements-from-the-form-editor", "closed_reason": "Needs details or clarity", "title": "How to hide elements from the form editor", "body": "<p>so I'm making a chat room, and it has several different scenes. However, for maximum efficiency, I need to have a clean workspace. However, the start here:\n<a href=\"https://i.stack.imgur.com/iopTE.png\" rel=\"nofollow noreferrer\">First scene</a>. Is hard to have in the background when I'm placing stuff around. I know how to hide it once it runs, but is there any way to keep it alive, but invisible when I'm editing?</p>\n"}, {"tags": ["c#", "sql-server", "entity-framework"], "comments": [{"owner": {"reputation": 170, "user_id": 3630361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7dc72e8678c2f727dc678cc16080839?s=128&d=identicon&r=PG&f=1", "display_name": "Wearwolf", "link": "https://stackoverflow.com/users/3630361/wearwolf"}, "edited": false, "score": 0, "creation_date": 1524088196, "post_id": 49909377, "comment_id": 86834996, "body": "What is the other update coming from? If a value can be updated from multiple points that you need to look into ways of getting those multiple points to co-ordinate their updates."}, {"owner": {"reputation": 3298, "user_id": 4328664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh5.googleusercontent.com/-3Ev_pLEHiV4/AAAAAAAAAAI/AAAAAAAAAEQ/xJKCwzeUM1M/photo.jpg?sz=128", "display_name": "CMS", "link": "https://stackoverflow.com/users/4328664/cms"}, "reply_to_user": {"reputation": 170, "user_id": 3630361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7dc72e8678c2f727dc678cc16080839?s=128&d=identicon&r=PG&f=1", "display_name": "Wearwolf", "link": "https://stackoverflow.com/users/3630361/wearwolf"}, "edited": false, "score": 0, "creation_date": 1524088468, "post_id": 49909377, "comment_id": 86835107, "body": "its few other applications all using same database"}, {"owner": {"reputation": 11827, "user_id": 754049, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/pV5Na.jpg?s=128&g=1", "display_name": "Francisco Goldenstein", "link": "https://stackoverflow.com/users/754049/francisco-goldenstein"}, "edited": false, "score": 0, "creation_date": 1524088597, "post_id": 49909377, "comment_id": 86835150, "body": "If the SP was working fine for this, why don&#39;t you call the SP from EF?"}, {"owner": {"reputation": 3298, "user_id": 4328664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh5.googleusercontent.com/-3Ev_pLEHiV4/AAAAAAAAAAI/AAAAAAAAAEQ/xJKCwzeUM1M/photo.jpg?sz=128", "display_name": "CMS", "link": "https://stackoverflow.com/users/4328664/cms"}, "edited": false, "score": 0, "creation_date": 1524088724, "post_id": 49909377, "comment_id": 86835199, "body": "how can i call SP from EF (on save changes)?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 2, "creation_date": 1524093668, "post_id": 49909377, "comment_id": 86836682, "body": "If your isolation level isn&#39;t serializable your SQL statement doesn&#39;t guarantee consistency either."}, {"owner": {"reputation": 3298, "user_id": 4328664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh5.googleusercontent.com/-3Ev_pLEHiV4/AAAAAAAAAAI/AAAAAAAAAEQ/xJKCwzeUM1M/photo.jpg?sz=128", "display_name": "CMS", "link": "https://stackoverflow.com/users/4328664/cms"}, "edited": false, "score": 0, "creation_date": 1524148704, "post_id": 49909377, "comment_id": 86863418, "body": "in EF it all runs ONLY on SaveChanges so from a transaction point its very good. BUT i could not afford to have balance updated wrong if another application updates in the mean time, ConcurrencyCheck is perfect for me."}], "answers": [{"tags": [], "owner": {"reputation": 12891, "user_id": 5630778, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3yro_KhP3ds/AAAAAAAAAAI/AAAAAAAAACE/mDQEhphwsL0/photo.jpg?sz=128", "display_name": "Slava Utesinov", "link": "https://stackoverflow.com/users/5630778/slava-utesinov"}, "is_accepted": false, "score": 2, "last_activity_date": 1524118766, "last_edit_date": 1524118766, "creation_date": 1524118450, "answer_id": 49913921, "question_id": 49909377, "link": "https://stackoverflow.com/questions/49909377/update-balance-in-entity-framework-using-c/49913921#49913921", "title": "UPDATE Balance in Entity Framework using C#", "body": "<p>Try to use <code>ConcurrencyCheckAttribute</code>:</p>\n\n<p><strong>Model:</strong></p>\n\n<pre><code>public class Account\n{\n    //other properties...\n    [ConcurrencyCheck]\n    public decimal Balance {get; set;}\n}\n</code></pre>\n\n<p><strong>Balance update logic:</strong></p>\n\n<pre><code>while(true)\n{\n    balance += diff;\n    try\n    {       \n        context.SaveChanges();\n        break;\n    }\n    catch(DbUpdateConcurrencyException)\n    {     \n        //balance was updated by someone else,\n        //so we will get it's last value and try to update again\n        context.Entity(balance).Reload();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3298, "user_id": 4328664, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh5.googleusercontent.com/-3Ev_pLEHiV4/AAAAAAAAAAI/AAAAAAAAAEQ/xJKCwzeUM1M/photo.jpg?sz=128", "display_name": "CMS", "link": "https://stackoverflow.com/users/4328664/cms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524118766, "creation_date": 1524087270, "last_edit_date": 1524114204, "question_id": 49909377, "link": "https://stackoverflow.com/questions/49909377/update-balance-in-entity-framework-using-c", "title": "UPDATE Balance in Entity Framework using C#", "body": "<p>I have a website that has balances &amp; I used to update with a stored procedure:</p>\n\n<pre><code>UPDATE Account \nSET Balance = Balance + @Diff\n</code></pre>\n\n<p>And it works very well BUT now with C# and Entity Framework, I can only update the value by setting amount (loading value first).</p>\n\n<p>I'm ok with loading value before the update BUT I don't like the generated SQL statement:</p>\n\n<pre><code>UPDATE Account \nSET Balance = 6.99\n</code></pre>\n\n<p>That sucks because if balance gets updated after read and before update (which can be 300ms in EF from load to save) then the balance my be changed in the process.</p>\n\n<p>And to run within a transaction is not really recommended for EF since it causes dead locks.</p>\n\n<p>So is there any way to do this correct with EF or do I need to update with the stored procedure?</p>\n"}, {"tags": ["c#", "wpf", "controls", "border", "titlebar"], "comments": [{"owner": {"reputation": 3744, "user_id": 4298200, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-HcKtiretO2g/AAAAAAAAAAI/AAAAAAAAAH0/IXGAL7MX8sQ/photo.jpg?sz=128", "display_name": "Neuron", "link": "https://stackoverflow.com/users/4298200/neuron"}, "edited": false, "score": 0, "creation_date": 1524088346, "post_id": 49909359, "comment_id": 86835067, "body": "Please don&#39;t post links to images on external sites and instead use the SO internal image uploader. If those sites ever take the pictures offline, your question will not make any sense to people coming here in the future."}], "answers": [{"tags": [], "owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "is_accepted": false, "score": 0, "last_activity_date": 1524088903, "last_edit_date": 1524088903, "creation_date": 1524088174, "answer_id": 49909539, "question_id": 49909359, "link": "https://stackoverflow.com/questions/49909359/looking-for-a-way-to-create-replace-custom-controls-border/49909539#49909539", "title": "Looking for a way to create/replace custom controls + Border", "body": "<p>It's quiet simple , if you wanna drag the window , make use of the <code>DragMove</code> method :</p>\n\n<pre><code> private void WhatEverControlYouWanttoUseToClickAndDrag_MouseDown()\n  { \n    DragMove();\n  )\n</code></pre>\n\n<p><strong>The rest</strong></p>\n\n<p>You can simply use <code>Image</code> control.You can add any image you want to display.Put it above a <code>Rectangle</code> and use it.</p>\n\n<p><strong>Explanation</strong></p>\n\n<p><code>Image</code> control comes from the <code>System.Windows.Controls</code> namespace.<code>Rectangle</code> control is no different.Now, you might ask ,why am i not suggesting <code>Button</code> ? Well, you can use a button but you cannot achieve your required looks with it unless you go with <code>ControlTemplate</code>,which,for a beginner, i would not suggest at all.</p>\n\n<p>You can use a <code>Rectangle</code>,set a <code>Fill</code> color.Now, what if you want to change the color when the mouse is over the rect ? Well, here's a sample <code>XAML</code> that'll also add an animation to the color-changing :)</p>\n\n<pre><code> &lt;Rectangle &gt;\n   &lt;Rectangle.Triggers&gt;\n     &lt;EventTrigger RoutedEvent=\"MouseEnter\"&gt;\n       &lt;BeginStoryboard&gt;\n         &lt;Storyboard&gt;\n           &lt;ColorAnimation Storyboard.TargetProperty=\"Fill\" Value = \"Blue\" Duration=\"0:0:0.3\"/&gt;\n          ///Add required closing tags please\n</code></pre>\n\n<p>Now, about the <code>Image</code> control.When you place it over the rectangle , you need to set the <code>IsHitTestVisible</code> property to <code>False</code> which will prevent any sort of mouse interaction on/with it which will also prevent the interference between the <code>Image</code> and the <code>Rectangle</code>. :)</p>\n\n<p>One last tip , if you want to have the <code>Image</code> control apply the clearest look/best quality on the image,make sure to set <code>BitmapScalingMode</code> to <code>Fant</code> :</p>\n\n<pre><code> &lt;Image Source=\"\\ac.png\" RenderingOptions.BitmapScalingMode=\"Fant\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9666498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zavN2.png?s=128&g=1", "display_name": "Eddd", "link": "https://stackoverflow.com/users/9666498/eddd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1524088903, "creation_date": 1524087142, "last_edit_date": 1524088276, "question_id": 49909359, "link": "https://stackoverflow.com/questions/49909359/looking-for-a-way-to-create-replace-custom-controls-border", "title": "Looking for a way to create/replace custom controls + Border", "body": "<p>I'd like to create an application with exactly the same titlebar / controls as in Visual Studio. Or do you know dnSpy? It is using them as well.</p>\n\n<p><a href=\"https://prnt.sc/j731zj\" rel=\"nofollow noreferrer\">https://prnt.sc/j731zj</a></p>\n\n<p>I also like to have this 1px border, the blue one in this case.</p>\n\n<p>I already googled alot, also tried to find something here, but I'm not finding anything helpful for me.</p>\n\n<p>Here for example (it's from Wallpaper Engine) the window not only has that blue border, which I like to have, it has some kind of a blue shadow as well? Which looks pretty cool to me. I'd like to try that as well.</p>\n\n<p><a href=\"https://prnt.sc/j7321n\" rel=\"nofollow noreferrer\">https://prnt.sc/j7321n</a></p>\n\n<p>What I already tried in WinForms is working with panels and create it on my own.</p>\n\n<p><a href=\"https://prnt.sc/j73bj5\" rel=\"nofollow noreferrer\">https://prnt.sc/j73bj5</a></p>\n\n<p>I managed to get the border that I want, I also could use pictureboxes for the min/max/close buttons?</p>\n\n<p>But that's not exactly what I was looking for, I also have to code the move/drag behaviour of the app too then, since there is no controls anymore. Which is not that hard but... I want it another way.</p>\n\n<p>Anyone can help me with that? I'm using C# in VS 2017 and I'd like to create the app either with Forms or WPF. Probably going for WPF.</p>\n\n<p>Almost forgot to mention I don't really want to use 3rd party tools like MahApps, Metro Framework, etc.. Isn't there a build-in metro style option in VS or something? Rather in .NET framework.</p>\n\n<p>I mean it's actually only these 3 buttons, min/max/close. And the border. That's all I need</p>\n"}, {"tags": ["c#", "process", "mainwindow"], "owner": {"reputation": 11, "user_id": 8734152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a02cc9576e4118feaaf4a1e060aa1e87?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/8734152/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1524087093, "creation_date": 1524087093, "question_id": 49909344, "link": "https://stackoverflow.com/questions/49909344/c-process-mainwindowtitle-showing-process-name-instead", "title": "C# process.mainwindowtitle showing process name instead", "body": "<p>I am writing a C# application and before I exit, I need to close another console application based on its window title... this second application (staticEngineWriter) is a C program that uses SetConsoleTitle() function to set its title.</p>\n\n<p>The code I have in C# to do this is below.  The problem is it is returning the process name instead of the window title of the C application.  Seems simple enough but I wonder if it has to do with how the writer application is setting its title using the SetConsoleTitle function.</p>\n\n<pre><code>static void stopWriter()\n{\n\n    Process[] proc = Process.GetProcessesByName(\"staticEngineWriter\");\n\n    foreach (System.Diagnostics.Process CurrentProcess in proc)\n    {\n        Console.Writeline(CurrentProcess.MainWindowTitle); //debug\n\n        if (CurrentProcess.MainWindowTitle.Contains(\"My Writer\"))\n        {\n            CurrentProcess.Kill();\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "algorithm"], "answers": [{"comments": [{"owner": {"reputation": 99643, "user_id": 445517, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/57e2ba76e6290c4e9e19821a068bc8c1?s=128&d=identicon&r=PG", "display_name": "CodesInChaos", "link": "https://stackoverflow.com/users/445517/codesinchaos"}, "edited": false, "score": 0, "creation_date": 1524088747, "post_id": 49909620, "comment_id": 86835210, "body": "That&#39;s not an issue for the sorting algorithm, since it&#39;s still a consistent comparison function, if likely not the desired one."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1524088753, "post_id": 49909620, "comment_id": 86835212, "body": "Exactly.  You have to keep checking all the digits when they are equal."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "reply_to_user": {"reputation": 99643, "user_id": 445517, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/57e2ba76e6290c4e9e19821a068bc8c1?s=128&d=identicon&r=PG", "display_name": "CodesInChaos", "link": "https://stackoverflow.com/users/445517/codesinchaos"}, "edited": false, "score": 3, "creation_date": 1524088783, "post_id": 49909620, "comment_id": 86835224, "body": "@CodesInChaos You don&#39;t understand why faulty comparison logic will cause a sort to fail?"}, {"owner": {"reputation": 3298, "user_id": 3394884, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/LqQhR.png?s=128&g=1", "display_name": "kuskmen", "link": "https://stackoverflow.com/users/3394884/kuskmen"}, "edited": false, "score": 0, "creation_date": 1524088851, "post_id": 49909620, "comment_id": 86835248, "body": "owww now I get it"}, {"owner": {"reputation": 99643, "user_id": 445517, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/57e2ba76e6290c4e9e19821a068bc8c1?s=128&d=identicon&r=PG", "display_name": "CodesInChaos", "link": "https://stackoverflow.com/users/445517/codesinchaos"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1524088862, "post_id": 49909620, "comment_id": 86835256, "body": "@juharr I don&#39;t see how it&#39;s a faulty comparison in the mathematical sense sorting relies on. It simply treats all those strings as equal."}, {"owner": {"reputation": 3298, "user_id": 3394884, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/LqQhR.png?s=128&g=1", "display_name": "kuskmen", "link": "https://stackoverflow.com/users/3394884/kuskmen"}, "reply_to_user": {"reputation": 99643, "user_id": 445517, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/57e2ba76e6290c4e9e19821a068bc8c1?s=128&d=identicon&r=PG", "display_name": "CodesInChaos", "link": "https://stackoverflow.com/users/445517/codesinchaos"}, "edited": false, "score": 0, "creation_date": 1524088999, "post_id": 49909620, "comment_id": 86835297, "body": "@CodesInChaos he is write, I really need to treat them as numbers, else clause is wrong, because I am leaving the method too early."}, {"owner": {"reputation": 3298, "user_id": 3394884, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/LqQhR.png?s=128&g=1", "display_name": "kuskmen", "link": "https://stackoverflow.com/users/3394884/kuskmen"}, "edited": false, "score": 0, "creation_date": 1524089122, "post_id": 49909620, "comment_id": 86835331, "body": "This doesn&#39;t fix the SO exception problem tho"}, {"owner": {"reputation": 99643, "user_id": 445517, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/57e2ba76e6290c4e9e19821a068bc8c1?s=128&d=identicon&r=PG", "display_name": "CodesInChaos", "link": "https://stackoverflow.com/users/445517/codesinchaos"}, "edited": false, "score": 2, "creation_date": 1524089155, "post_id": 49909620, "comment_id": 86835345, "body": "@.kuskmen This function will result in an array sorted differently than you want (all strings with same length and same first char are considered equal and thus output in unspecified order). But since it&#39;s a valid comparison function (describing a <a href=\"https://en.wikipedia.org/wiki/Total_order\" rel=\"nofollow noreferrer\">total order</a> in the mathematical sense) cannot cause infinite recursion, endless loops, out of bounds reads and all the weirdness you&#39;re experiencing due to bugs in the sorting algorithm. Contrary to @juarr is claiming, it cannot <i>cause a sort to fail</i>."}, {"owner": {"reputation": 3298, "user_id": 3394884, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/LqQhR.png?s=128&g=1", "display_name": "kuskmen", "link": "https://stackoverflow.com/users/3394884/kuskmen"}, "edited": false, "score": 0, "creation_date": 1524089397, "post_id": 49909620, "comment_id": 86835423, "body": "Agree, this is not the answer to exception I am facing right now."}, {"owner": {"reputation": 6063, "user_id": 3225495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/57OBG.jpg?s=128&g=1", "display_name": "BJ Myers", "link": "https://stackoverflow.com/users/3225495/bj-myers"}, "reply_to_user": {"reputation": 99643, "user_id": 445517, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/57e2ba76e6290c4e9e19821a068bc8c1?s=128&d=identicon&r=PG", "display_name": "CodesInChaos", "link": "https://stackoverflow.com/users/445517/codesinchaos"}, "edited": false, "score": 0, "creation_date": 1524089914, "post_id": 49909620, "comment_id": 86835612, "body": "@CodesInChaos To be fair, your original comment (before edit) basically just said &quot;this is not a problem.&quot;  I think most people would disagree that a faulty comparison is not a problem for a sorting algorithm, even if it doesn&#39;t cause infinite recursion."}], "tags": [], "owner": {"reputation": 25, "user_id": 3830154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/962b2d0914909c6eab237905c7ed0291?s=128&d=identicon&r=PG&f=1", "display_name": "user3830154", "link": "https://stackoverflow.com/users/3830154/user3830154"}, "is_accepted": false, "score": 2, "last_activity_date": 1524088655, "creation_date": 1524088655, "answer_id": 49909620, "question_id": 49909276, "link": "https://stackoverflow.com/questions/49909276/why-am-i-getting-stackoverflow-exception-in-this-helper-function-of-quicksort/49909620#49909620", "title": "Why am I getting stackoverflow exception in this helper function of quicksort?", "body": "<p>There seems to be an issue with IsBigger</p>\n\n<p>\"1234\".IsBigger(\"1235\") \nand\n\"1235\".IsBigger(\"1234\") </p>\n\n<p>both return false.</p>\n\n<p>The else clause in the loop should be removed.</p>\n"}, {"tags": [], "owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "is_accepted": false, "score": 0, "last_activity_date": 1524091862, "creation_date": 1524091862, "answer_id": 49910175, "question_id": 49909276, "link": "https://stackoverflow.com/questions/49909276/why-am-i-getting-stackoverflow-exception-in-this-helper-function-of-quicksort/49910175#49910175", "title": "Why am I getting stackoverflow exception in this helper function of quicksort?", "body": "<p>For some reason this is never happening</p>\n\n<pre><code>if (left &gt;= right) return;\n</code></pre>\n\n<p>You are never returning. And so you recurse forever and overflow your stack. Use your debugger to find out why you right is always > left</p>\n"}, {"tags": [], "owner": {"reputation": 3298, "user_id": 3394884, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/LqQhR.png?s=128&g=1", "display_name": "kuskmen", "link": "https://stackoverflow.com/users/3394884/kuskmen"}, "is_accepted": true, "score": 1, "last_activity_date": 1524098151, "creation_date": 1524098151, "answer_id": 49910942, "question_id": 49909276, "link": "https://stackoverflow.com/questions/49909276/why-am-i-getting-stackoverflow-exception-in-this-helper-function-of-quicksort/49910942#49910942", "title": "Why am I getting stackoverflow exception in this helper function of quicksort?", "body": "<p>Problem was that I was fool to believe <em>x > y == !(x &lt; y)</em> when it really should have been <em>x > y == x &lt;= y</em>. Pay attention to the classes of discrete mathematics guys.</p>\n\n<p>This let me introduce another helper method</p>\n\n<pre><code>static bool IsLessThan(this string a, string b)\n    =&gt; a.Equals(b) ? false : !a.IsBigger(b);\n</code></pre>\n\n<p>ultimately changing partition method to</p>\n\n<pre><code>static int partition(string[] array, int left, int right, string pivot)\n{\n    while (left &lt;= right)\n    {\n        while (array[left].IsLessThan(pivot)) left++;\n        while (array[right].IsBigger(pivot)) right--;\n        if (left &lt;= right)\n        {\n            swap(array, left, right);\n            left++;\n            right--;\n        }\n    }\n    return left;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1162, "user_id": 511782, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5a2a90db37ab38213d140c0423762726?s=128&d=identicon&r=PG", "display_name": "lex87", "link": "https://stackoverflow.com/users/511782/lex87"}, "is_accepted": false, "score": 0, "last_activity_date": 1524165794, "last_edit_date": 1524165794, "creation_date": 1524165149, "answer_id": 49928558, "question_id": 49909276, "link": "https://stackoverflow.com/questions/49909276/why-am-i-getting-stackoverflow-exception-in-this-helper-function-of-quicksort/49928558#49928558", "title": "Why am I getting stackoverflow exception in this helper function of quicksort?", "body": "<p>Could try something like this instead and adjust your \"IsBigger\"extension method to what you want:</p>\n\n<pre><code>using System;\n\nnamespace ConsoleApp1\n{\n    class Program\n    {\n        static void swap(string[] array, int first, int second)\n        {\n            var temp = array[first];\n            array[first] = array[second];\n            array[second] = temp;\n        }\n\n        static void quickSort(string[] array, int left, int right)\n        {\n            int i = left, j = right;\n            var pivot = array[(left + right) / 2];\n\n            while (i &lt;= j)\n            {\n                while (array[i].IsBigger(pivot))\n                {\n                    i++;\n                }\n\n                while (array[j].IsBigger(pivot))\n                {\n                    j--;\n                }\n\n                if (i &lt;= j)\n                {\n                    // Swap                    \n                    swap(array, i, j);\n\n                    i++;\n                    j--;\n                }\n            }\n\n            // Recursive calls\n            if (left &lt; j)\n            {\n                quickSort(array, left, j);\n            }\n\n            if (i &lt; right)\n            {\n                quickSort(array, i, right);\n            }\n        }\n\n        static void Main(string[] args)\n        {\n            Console.WriteLine(\"Hello World!\");\n\n            var array = new[] { \"31415926535897932384626433832795\", \"1\", \"3\", \"10\", \"3\", \"5\" };\n\n            // Print the unsorted array\n            for (int i = 0; i &lt; array.Length; i++)\n            {\n                Console.Write(array[i] + \" \");\n            }\n\n            Console.WriteLine();\n\n            quickSort(array, 0, array.Length - 1);\n\n            // Print the sorted array\n            for (int i = 0; i &lt; array.Length; i++)\n            {\n                Console.Write(array[i] + \" \");\n            }\n\n            Console.WriteLine();\n            Console.WriteLine(\"Done!\");\n\n            Console.ReadLine();\n        }\n    }\n\n    public static class StringExtension\n    {\n        public static bool IsBigger(this string a, string b)\n        {\n            if (a.Length &lt; b.Length) return false;\n            else if (a.Length &gt; b.Length) return true;\n\n            for (int i = 0; i &lt; a.Length; i++)\n            {\n                if (a[i] &gt; b[i]) return true;\n\n                return false;\n            }\n\n            return false;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3298, "user_id": 3394884, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/LqQhR.png?s=128&g=1", "display_name": "kuskmen", "link": "https://stackoverflow.com/users/3394884/kuskmen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 49910942, "answer_count": 4, "score": -3, "last_activity_date": 1524165794, "creation_date": 1524086846, "last_edit_date": 1524088624, "question_id": 49909276, "link": "https://stackoverflow.com/questions/49909276/why-am-i-getting-stackoverflow-exception-in-this-helper-function-of-quicksort", "title": "Why am I getting stackoverflow exception in this helper function of quicksort?", "body": "<p>I want to solve following problem using Quicksort.</p>\n\n<p>I have <em>n</em> string in an array where each string is guaranteed to be positive positive number with no leading zeros and digits between 1 and 10^6 inclusive. I did it using regular quicksort with <code>BigInteger</code> struct but I've got a lot of timeout cases which led me to think I need to optimize my way of comparisons and drop the parsing from <code>string[]</code> and back to <code>BigInteger[]</code> and back to <code>string[]</code> so I've decided to sort it as it is. Here is my code:</p>\n\n<pre><code>static void swap(string[] array, int first, int second)\n{\n    var temp = array[first];\n    array[first] = array[second];\n    array[second] = temp;\n}\n\nstatic void quickSort(string[] array, int left, int right)\n{\n    if (left &gt;= right) return;\n    var pivot = array[(left + right) / 2];\n    var index = partition(array, left, right, pivot);\n    quickSort(array, left, index - 1);\n    quickSort(array, index, right);\n}\n\nstatic int partition(string[] array, int left, int right, string pivot)\n{\n    while(left &lt;= right)\n    {\n        while (left &lt; array.Length &amp;&amp; !array[left].IsBigger(pivot)) left++;\n        while (right &lt; array.Length &amp;&amp; array[right].IsBigger(pivot)) right--;\n        if (left &lt;= right)\n        {\n            swap(array, left, right);\n            left++;\n            right--;\n        }\n    }\n\n    return left;\n}\n\nstatic bool IsBigger(this string a, string b)\n{\n    if (a.Length &lt; b.Length) return false;\n    else if(a.Length &gt; b.Length) return true;\n\n    for (int i = 0; i &lt; a.Length; i++)\n    {\n        if (a[i] &gt; b[i]) return true;\n        else return false;\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>But then I am getting SO exception in <code>IsBigger</code> function when the input is so small as <code>[ \"31415926535897932384626433832795\", \"1\", \"3\", \"10\", \"3\", \"5\" ]</code> and I can't seem to try why.</p>\n\n<p>There is no funny moments calling quicksort - this is how I do it <code>quickSort(unsorted, 0, unsorted.Length - 1);</code></p>\n\n<hr>\n\n<h2>What I've tried so far</h2>\n\n<ul>\n<li>Sounds crazy but I've tried to force .NET ensure that this method needs more stack size as to me everything looks okay by calling <code>RuntimeHelpers.EnsureSufficientExecutionStack();</code> in <code>IsBigger</code> but didn't work also.</li>\n</ul>\n"}, {"tags": ["c#", "sql", "math", "maps"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1524086586, "post_id": 49909175, "comment_id": 86834321, "body": "What DB?  SQL Server has a geography type that has a distance method you can use."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1524087008, "post_id": 49909175, "comment_id": 86834518, "body": "Using Lat-Long as unique columns you can at least determine a bounding &quot;box&quot; around your location to narrow it down."}, {"owner": {"user_type": "does_not_exist", "display_name": "user354134"}, "edited": false, "score": 0, "creation_date": 1524524164, "post_id": 49909175, "comment_id": 86998672, "body": "Thoughts: 1) use postgreSQL&#39;s postgis, 2) create table with 3D data from 2D data and use <code>(x-x0)^2 + (y-y0)^2 + (z-z0)^2</code> as your function (still ugly, but faster)-- obviously, you&#39;ll need to modify the condition, 3) use the approximation that distance is proportional to difference in latitude + <code>(difference in longitude) times cosine(latitude)</code>"}, {"owner": {"reputation": 11, "user_id": 3747432, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/168755d00f4b9388b2882622a8264dc3?s=128&d=identicon&r=PG&f=1", "display_name": "fine line", "link": "https://stackoverflow.com/users/3747432/fine-line"}, "edited": false, "score": 0, "creation_date": 1524678182, "post_id": 49909175, "comment_id": 87072816, "body": "@barrycarter thanks man, will try this asap."}], "owner": {"reputation": 11, "user_id": 3747432, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/168755d00f4b9388b2882622a8264dc3?s=128&d=identicon&r=PG&f=1", "display_name": "fine line", "link": "https://stackoverflow.com/users/3747432/fine-line"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1524086634, "creation_date": 1524086398, "question_id": 49909175, "link": "https://stackoverflow.com/questions/49909175/sql-query-to-get-all-locationslat-lng-within-a-certain-distance-from-a-given-l", "title": "SQL Query to get all locations(lat/lng) within a certain distance from a given location(lat/lng)", "body": "<p>Given a database of places with Latitude and Longitude locations, such as 30.706557, 76.733588. How would I find all locations within a given distance of a specific location?</p>\n\n<p>It doesn't seem very efficient to select all locations from the DB and then go through them one by one, getting the distance from the starting location to see if they are within the specified distance. Is there a good way to narrow down the initially selected locations from the DB?</p>\n\n<p>I have just found this query:</p>\n\n<pre><code>    SELECT * FROM(\n    SELECT *,(((acos(sin((@latitude*pi()/180)) * sin((Latitude*pi()/180))+cos((@latitude*pi()/180)) * cos((Latitude*pi()/180)) * cos(((@longitude - Longitude)*pi()/180))))*180/pi())*60*1.1515*1.609344) as distance FROM Distances) t\nWHERE distance &lt;= @distance\n</code></pre>\n\n<p>Help me to understand and to implement it, if this is the right way. Thank you.</p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-2.1", "httpclientfactory"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1524092287, "post_id": 49909170, "comment_id": 86836295, "body": "something is wrong with the file itself. Just tried opening it in the browser and it just hangs"}, {"owner": {"reputation": 45502, "user_id": 4227, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/db3dbf59a3772da9555829eefe237751?s=128&d=identicon&r=PG", "display_name": "bitbonk", "link": "https://stackoverflow.com/users/4227/bitbonk"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1524113866, "post_id": 49909170, "comment_id": 86841576, "body": "I can open it in the browser (chrome) just fine and I can download it with wget (it just takes a while)."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 1, "creation_date": 1524113934, "post_id": 49909170, "comment_id": 86841598, "body": "Then that may be the issue. The time taken is probably too long and it is timing out. Increase the timeout of the client and see if it works"}, {"owner": {"reputation": 45502, "user_id": 4227, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/db3dbf59a3772da9555829eefe237751?s=128&d=identicon&r=PG", "display_name": "bitbonk", "link": "https://stackoverflow.com/users/4227/bitbonk"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1524114027, "post_id": 49909170, "comment_id": 86841624, "body": "Can I configure HttpClient in a way that it does not time out (just like chrome or wget do not time out)?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1524114432, "post_id": 49909170, "comment_id": 86841746, "body": "For now I would suggest using a large value to see if it works first."}, {"owner": {"reputation": 1839, "user_id": 882912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0ee650f3ddaf676349ef9de068ad52?s=128&d=identicon&r=PG", "display_name": "KTCO", "link": "https://stackoverflow.com/users/882912/ktco"}, "edited": false, "score": 0, "creation_date": 1525652920, "post_id": 49909170, "comment_id": 87428498, "body": "I recommend NOT using HttpClientFactory with DotNetCore 2.1 for now. Just create a static HttpClient instance and use it for ALL requests. I&#39;ve seen lots of weird freeze issues in httpClient.SendAsync() using HttpClientFactory under heavy load. No idea why, but by getting rid of HttpClientFactory usage, things started working reliably again."}, {"owner": {"reputation": 3546, "user_id": 2858407, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/t4vFy.jpg?s=128&g=1", "display_name": "stop-cran", "link": "https://stackoverflow.com/users/2858407/stop-cran"}, "edited": false, "score": 0, "creation_date": 1551974868, "post_id": 49909170, "comment_id": 96846479, "body": "I faced this issue using just <code>HttpClient</code>, not <code>HttpClientFactory</code> on .Net Core 2.1 - both Windows 10 and CentOS 7. After quick googling found a bug report, still not fixed, though - <a href=\"https://github.com/dotnet/corefx/issues/30691\" rel=\"nofollow noreferrer\">github.com/dotnet/corefx/issues/30691</a>"}, {"owner": {"reputation": 153, "user_id": 7191183, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0675f4631ecebef103f42b7622fb500d?s=128&d=identicon&r=PG&f=1", "display_name": "lissajous", "link": "https://stackoverflow.com/users/7191183/lissajous"}, "reply_to_user": {"reputation": 1839, "user_id": 882912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0ee650f3ddaf676349ef9de068ad52?s=128&d=identicon&r=PG", "display_name": "KTCO", "link": "https://stackoverflow.com/users/882912/ktco"}, "edited": false, "score": 2, "creation_date": 1580476705, "post_id": 49909170, "comment_id": 106119852, "body": "@KTCO &quot;I recommend NOT using HttpClientFactory with DotNetCore 2.1 for now. Just create a static HttpClient instance and use it for ALL requests.&quot; - not good idea as DNS can change and this solution will not respect that change. Please refere to: <a href=\"https://github.com/dotnet/runtime/issues/18348\" rel=\"nofollow noreferrer\">github.com/dotnet/runtime/issues/18348</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1654, "user_id": 13501564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63889c96a06c20c36578c901e96b8354?s=128&d=identicon&r=PG&f=1", "display_name": "Stelios Giakoumidis", "link": "https://stackoverflow.com/users/13501564/stelios-giakoumidis"}, "is_accepted": false, "score": 1, "last_activity_date": 1588973593, "creation_date": 1588973593, "answer_id": 61688463, "question_id": 49909170, "link": "https://stackoverflow.com/questions/49909170/httpclientfactory-taskcanceledexception-unable-to-read-data-from-the-transport/61688463#61688463", "title": "HttpClientFactory TaskCanceledException: Unable to read data from the transport connection", "body": "<p>In your case it seems that size is the problem. Another thing I would try is to pass the </p>\n\n<pre><code>HttpCompletionOption.ResponseHeadersRead\n</code></pre>\n\n<p>in the SendAsync() as the second argument. What happens is that your method returns as soon as the headers are read. The response is not buffered in a MemoryStream buffer any more but is read directly from the socket. That means you can start streaming before the whole object is streamed. Performance wise it is significantly faster and in your case speed might be of the essence.</p>\n\n<p>Just remember to dispose the response message otherwise the connection will not be released.</p>\n"}], "owner": {"reputation": 45502, "user_id": 4227, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/db3dbf59a3772da9555829eefe237751?s=128&d=identicon&r=PG", "display_name": "bitbonk", "link": "https://stackoverflow.com/users/4227/bitbonk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11653, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1603710130, "creation_date": 1524086381, "last_edit_date": 1552056864, "question_id": 49909170, "link": "https://stackoverflow.com/questions/49909170/httpclientfactory-taskcanceledexception-unable-to-read-data-from-the-transport", "title": "HttpClientFactory TaskCanceledException: Unable to read data from the transport connection", "body": "<p>I have created a simple console app that downloads a single (PDF) file from archive.org using the <a href=\"https://github.com/aspnet/HttpClientFactory\" rel=\"noreferrer\">new ASP.NET Core 2.1 HttpClientFactory</a>. </p>\n\n<p>For the particular URL used in that program I always get a <code>TaskCanceledException</code>. If you try to run this code, you would probably get the same exception. It works for other URLs on archive.org though. When downloading the file using wget from the exact the same URL (<code>wget https://archive.org/download/1952-03_IF/1952-03_IF.pdf --output-document=IF.pdf</code>)\nthe download is successful.</p>\n\n<p>However when I do it with <code>HttpClient</code> I get the below exception.</p>\n\n<p>What could I possible be doing wrong?</p>\n\n<p>Here is the simple code:</p>\n\n<pre><code>using System;\nusing System.Net.Http;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing Microsoft.Extensions.DependencyInjection;\nusing System.IO;\nusing System.Diagnostics;\n\nnamespace test2\n{\n    public class Program\n    {\n        public static async Task Main(string[] args)\n        {\n            var serviceCollection = new ServiceCollection();\n            serviceCollection.AddHttpClient(\"archive\", c =&gt;\n            {\n                c.BaseAddress = new Uri(\"https://archive.org/download/\");\n                c.DefaultRequestHeaders.Add(\"Accept\", \"application/pdf\");\n            })\n            .AddTypedClient&lt;ArchiveClient&gt;();\n\n            var services = serviceCollection.BuildServiceProvider();\n            var archive = services.GetRequiredService&lt;ArchiveClient&gt;();\n            await archive.Get();\n        }\n\n        private class ArchiveClient\n        {\n            public ArchiveClient(HttpClient httpClient)\n            {\n                HttpClient = httpClient;\n            }\n\n            public HttpClient HttpClient { get; }\n\n            public async Task Get()\n            {\n                var request = new HttpRequestMessage(HttpMethod.Get, \"1952-03_IF/1952-03_IF.pdf\");\n                var response = await HttpClient.SendAsync(request).ConfigureAwait(false);\n                response.EnsureSuccessStatusCode();\n                using (Stream contentStream = await response.Content.ReadAsStreamAsync(), \n                    fileStream = new FileStream(\"Worlds of IF 1952-03.pdf\", FileMode.Create, FileAccess.Write, FileShare.None, 8192, true))\n                {\n                    var totalRead = 0L;\n                    var totalReads = 0L;\n                    var buffer = new byte[8192];\n                    var isMoreToRead = true;\n\n                    do\n                    {\n                        var read = await contentStream.ReadAsync(buffer, 0, buffer.Length);\n                        if (read == 0)\n                        {\n                            isMoreToRead = false;\n                        }\n                        else\n                        {\n                            await fileStream.WriteAsync(buffer, 0, read);\n\n                            totalRead += read;\n                            totalReads += 1;\n\n                            if (totalReads % 2000 == 0)\n                            {\n                                Console.WriteLine(string.Format(\"bytes downloaded: {0:n0}\", totalRead));\n                            }\n                        }\n                    }\n                    while (isMoreToRead);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This is the full exception I get:</p>\n\n<pre><code>Unhandled Exception: System.Threading.Tasks.TaskCanceledException: The operation was canceled. \n---&gt; System.IO.IOException: Unable to read data from the transport connection: Operation canceled. \n---&gt; System.Net.Sockets.SocketException: Operation canceled    \n--- End of inner exception stack trace ---    \nat System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error)    \nat System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.GetResult(Int16 token)    \nat System.Net.Security.SslStreamInternal.&lt;FillBufferAsync&gt;g__InternalFillBufferAsync|38_0[TReadAdapter](TReadAdapter adap, ValueTask`1 task, Int32 min, Int32 initial)    \nat System.Net.Security.SslStreamInternal.ReadAsyncInternal[TReadAdapter](TReadAdapter adapter, Memory`1 buffer)    \nat System.Net.Http.HttpConnection.FillAsync()    \nat System.Net.Http.HttpConnection.CopyToExactLengthAsync(Stream destination, UInt64 length, CancellationToken cancellationToken)    \nat System.Net.Http.HttpConnection.ContentLengthReadStream.CompleteCopyToAsync(Task copyTask, CancellationToken cancellationToken)    \n--- End of inner exception stack trace ---    \nat System.Net.Http.HttpConnection.ContentLengthReadStream.CompleteCopyToAsync(Task copyTask, CancellationToken cancellationToken)    \nat System.Net.Http.HttpConnection.HttpConnectionResponseContent.SerializeToStreamAsync(Stream stream, TransportContext context, CancellationToken cancellationToken) \nat System.Net.Http.HttpContent.LoadIntoBufferAsyncCore(Task serializeToStreamTask, MemoryStream tempBuffer)    at System.Net.Http.HttpClient.FinishSendAsyncBuffered(Task`1 sendTask, HttpRequestMessage request, CancellationTokenSource cts, Boolean disposeCts)    \nat test2.Program.ArchiveClient.Get() in /Users/Foo/Temp/test3/Program.cs:line 42    \nat test2.Program.Main(String[] args) in /Users/Foo/Temp/test3/Program.cs:line 27    \nat test2.Program.&lt;Main&gt;(String[] args)\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "mvvm"], "comments": [{"owner": {"reputation": 871, "user_id": 7107548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce53e74dcdc4ff87ee007c3a565c9517?s=128&d=identicon&r=PG&f=1", "display_name": "Mwspencer", "link": "https://stackoverflow.com/users/7107548/mwspencer"}, "edited": false, "score": 0, "creation_date": 1524089954, "post_id": 49908938, "comment_id": 86835624, "body": "One thing I still do not understand is why does my MessageBox.Show(Btn_Update_Visibility) shows a change in value, even though I am changing the btn_update_visibility variable.  Wouldn&#39;t this trigger the OnPropertyChange() method?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1524158306, "post_id": 49908938, "comment_id": 86869435, "body": "Side note, grab a copy of the framework design guidelines. Or, alternatively, if you don&#39;t see a style in the .net framework, don&#39;t use it. Hungarian notation and_underscores_in_names aren&#39;t used (except in autogenerated event handler names which is so embarrassing), and if other people see you using it they&#39;ll think you aren&#39;t as skilled in the language. It can hurt you in job interviews and in code reviews."}, {"owner": {"reputation": 871, "user_id": 7107548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce53e74dcdc4ff87ee007c3a565c9517?s=128&d=identicon&r=PG&f=1", "display_name": "Mwspencer", "link": "https://stackoverflow.com/users/7107548/mwspencer"}, "edited": false, "score": 0, "creation_date": 1524171899, "post_id": 49908938, "comment_id": 86876426, "body": "Essentially when in doubt use camel case?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1524233880, "post_id": 49908938, "comment_id": 86903575, "body": "When in doubt, &quot;how does Microsoft format this?&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 871, "user_id": 7107548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce53e74dcdc4ff87ee007c3a565c9517?s=128&d=identicon&r=PG&f=1", "display_name": "Mwspencer", "link": "https://stackoverflow.com/users/7107548/mwspencer"}, "edited": false, "score": 0, "creation_date": 1524085619, "post_id": 49908978, "comment_id": 86833952, "body": "Okay thank you, I am still a little confused on how INotifyPropertyChange() works."}, {"owner": {"reputation": 871, "user_id": 7107548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce53e74dcdc4ff87ee007c3a565c9517?s=128&d=identicon&r=PG&f=1", "display_name": "Mwspencer", "link": "https://stackoverflow.com/users/7107548/mwspencer"}, "edited": false, "score": 0, "creation_date": 1524086319, "post_id": 49908978, "comment_id": 86834209, "body": "In my constructor I check if the user is an Admin, if so more controls ar made &quot;Visible&quot;.  I do this by setting the private strings = &quot;Visible&quot; without any issues.  Does this work because it is in the contructor and therefore never has to watch for OnPropertyChange()? Thanks still learning the ins and outs of MVVM.  (I added my constructor to my question)"}], "tags": [], "owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "is_accepted": true, "score": 5, "last_activity_date": 1524085921, "last_edit_date": 1524085921, "creation_date": 1524085428, "answer_id": 49908978, "question_id": 49908938, "link": "https://stackoverflow.com/questions/49908938/mvvm-button-visibility/49908978#49908978", "title": "MVVM Button Visibility", "body": "<p>You are setting the value of <code>btn_update_visibility</code> field directly instead of via the <code>Btn_Update_Visibility</code> property. This means the <code>OnPropertyChanged(\"Btn_Update_Visibility\")</code> method never gets called to indicate the view needs to change. </p>\n\n<p>Instead your code should be:</p>\n\n<pre><code>public void OnSelect_Row()\n{\n    Btn_Update_Visibility = \"Visible\";\n    MessageBox.Show(\"Update Button is \" + Btn_Update_Visibility.ToString());\n}\n</code></pre>\n\n<p>Partially related though is your naming of variables and methods. Common C# convention, which would clarify your code somewhat would have it a little more like this (with some other styling improvements too):</p>\n\n<pre><code>private string _buttonUpdateVisibility;\n\npublic string ButtonUpdateVisibility\n{\n    get =&gt; _buttonUpdateVisibility;\n    set\n    {\n        _buttonUpdateVisibility= value;\n        OnPropertyChanged(nameof(ButtonUpdateVisibility));\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 871, "user_id": 7107548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce53e74dcdc4ff87ee007c3a565c9517?s=128&d=identicon&r=PG&f=1", "display_name": "Mwspencer", "link": "https://stackoverflow.com/users/7107548/mwspencer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1050, "favorite_count": 0, "accepted_answer_id": 49908978, "answer_count": 1, "score": 1, "last_activity_date": 1524086021, "creation_date": 1524085259, "last_edit_date": 1524086021, "question_id": 49908938, "link": "https://stackoverflow.com/questions/49908938/mvvm-button-visibility", "title": "MVVM Button Visibility", "body": "<p>I have a button that is set to Hidden in my ViewModel constructor.  When the user clicks on an item the button should become visible.  My break points and messagebox show that the value of the Visibility is being change to \"Visible\" So I'm not sure what  I am missing in my binding.</p>\n\n<p>XAML:</p>\n\n<pre><code>    &lt;Button  \n        Grid.Column=\"0\"\n        Grid.Row=\"2\"\n        HorizontalAlignment=\"Left\" \n        Margin=\"105,22,0,21\" \n        Style=\"{StaticResource MetroButton}\" \n        Width=\"90\" \n        Height=\"57\" \n        Click=\"btn_Update_Click\" \n        RenderTransformOrigin=\"0.49,0.287\"\n        Visibility=\"{Binding Btn_Update_Visibility, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}\"&gt;\n        &lt;TextBlock Text=\"Update Request\" TextWrapping=\"Wrap\" TextAlignment=\"Center\"/&gt;\n    &lt;/Button&gt;\n</code></pre>\n\n<p>ViewModel:</p>\n\n<p>Items User can select:</p>\n\n<pre><code>private DataRowView select_request;\npublic DataRowView Select_Request\n{\n    get { return select_request; }\n    set\n    {\n        select_request = value;\n        OnPropertyChanged(\"Select_Request\");\n\n        //Get the Check Request ID\n        OnSelect_RequestChange();\n\n        //Make Update Button Visible\n        OnSelect_Row();\n    }\n}\n</code></pre>\n\n<p>Value to Bind Visibility To in XAML</p>\n\n<pre><code>private string btn_update_visiblity;\npublic string Btn_Update_Visibility\n{\n    get { return btn_update_visiblity; }\n    set\n    {\n        btn_update_visiblity = value;\n        OnPropertyChanged(\"Btn_Update_Visibility\");\n    }\n}\n</code></pre>\n\n<p>Method that is called when user selects row</p>\n\n<pre><code>public void OnSelect_Row()\n{\n    btn_update_visiblity = \"Visible\";\n    MessageBox.Show(\"Update Button is \" + Btn_Update_Visibility.ToString());\n}\n</code></pre>\n\n<p>Edit: Adding Constructor\nMy Constructor:</p>\n\n<pre><code>    public LandingPageMVVM()\n    {\n        Search_User = MyCommonValues.UserName;\n\n        btn_update_visiblity = \"Hidden\";\n        //Check if Manager\n        #region Manager Check\n\n        bool? manager_check = MyCommonValues.manager_check;\n        if (manager_check == true)\n        {\n            MessageBox.Show(\"Welcome Manager\");\n            btn_review_visibility = \"Visible\";\n        }\n        else\n        {\n            MessageBox.Show(\"Welcome User\");\n            btn_review_visibility = \"Hidden\";\n        }\n     }\n</code></pre>\n"}, {"tags": ["c#", "monogame"], "answers": [{"comments": [{"owner": {"reputation": 1352, "user_id": 2735344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d369895803df5664eb8669ae12980ff3?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/2735344/steven"}, "edited": false, "score": 1, "creation_date": 1524134117, "post_id": 49909945, "comment_id": 86853093, "body": "A little bit of information that a draw is called every frame. If you don&#39;t clear the field, it will draw over it&#39;s previous frame. In XNA game design, all images have to be drawn and redrawn every frame."}], "tags": [], "owner": {"reputation": 387, "user_id": 2229933, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c518160c8fb1ef5902d0458bf2829626?s=128&d=identicon&r=PG", "display_name": "FreddyFlares", "link": "https://stackoverflow.com/users/2229933/freddyflares"}, "is_accepted": false, "score": 3, "last_activity_date": 1524090530, "creation_date": 1524090530, "answer_id": 49909945, "question_id": 49908791, "link": "https://stackoverflow.com/questions/49908791/how-to-fix-font-drawing-over-itself/49909945#49909945", "title": "How to fix font drawing over itself", "body": "<p>You could clear the screen between draws, put this line at the beginning;</p>\n\n<pre><code>protected override void Draw(GameTime gameTime)\n{\n    GraphicsDevice.Clear(Color.CornflowerBlue);   // Clear screen\n    ....\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9666484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d06098d4ef73e4be380cf36e53647812?s=128&d=identicon&r=PG&f=1", "display_name": "MFleming94", "link": "https://stackoverflow.com/users/9666484/mfleming94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524098948, "creation_date": 1524084527, "last_edit_date": 1524098948, "question_id": 49908791, "link": "https://stackoverflow.com/questions/49908791/how-to-fix-font-drawing-over-itself", "title": "How to fix font drawing over itself", "body": "<p>So I am having an issue in Microsoft Visual Studios, I am using Monogame as well, with the score drawing over itself, ie the 0 mixes with the 5 and so on.\nWas wondering if anyone could have an answer to solve this problem.\nmy code is listed below.</p>\n\n<pre><code>    protected override void Draw(GameTime gameTime)\n    {\n\n        // TODO: Add your drawing code here\n\n        timer += gameTime.ElapsedGameTime.TotalMilliseconds; // Increment the timer by the elapsed game time.\n\n        if (timer &gt;= 10000) // Check to see if ten seconds has passed.\n        {\n            score += 5; // Increment the score by 5.\n            timer -= 10000; // Reset the timer.\n        }\n\n        spriteBatch.Begin();\n\n        spriteBatch.DrawString(font, \"Score: \" + score, new Vector2(50, 70), Color.DarkRed);\n        spriteBatch.DrawString(font, \"Time Elapsed\", new Vector2(50, 50), Color.GhostWhite);\n\n        spriteBatch.End();\n\n        base.Draw(gameTime);\n    }\n</code></pre>\n"}, {"tags": ["c#", "exceldatareader"], "answers": [{"comments": [{"owner": {"reputation": 454, "user_id": 4552288, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9ce7e986bb51499855b41f5cde90f6d7?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/4552288/matt"}, "edited": false, "score": 1, "creation_date": 1524099832, "post_id": 49909596, "comment_id": 86838170, "body": "Ended up changing slightly to do this:  FilterColumn = (columnReader, columnIndex) =&gt;                      !headers[columnIndex].ToString().ToUpper().Contains(&quot;SKIP&quot;)"}], "tags": [], "owner": {"reputation": 417, "user_id": 8728340, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b8a2c76858d9124ea097e6b1f80786e?s=128&d=identicon&r=PG", "display_name": "user8728340", "link": "https://stackoverflow.com/users/8728340/user8728340"}, "is_accepted": true, "score": 2, "last_activity_date": 1524088509, "creation_date": 1524088509, "answer_id": 49909596, "question_id": 49908729, "link": "https://stackoverflow.com/questions/49908729/exceldatareader-filtercolumn-usage/49909596#49909596", "title": "ExcelDataReader FilterColumn usage", "body": "<p>Put the headers in a list in <code>ReadHeaderRow</code>, and check the index in <code>FilterColumn</code>:</p>\n\n<pre><code>    var headers = new List&lt;string&gt;();\n\n    ds = reader.AsDataSet(new ExcelDataSetConfiguration()\n    {\n        ConfigureDataTable = (tableReader) =&gt; new ExcelDataTableConfiguration()\n        {\n            UseHeaderRow = true,\n\n            ReadHeaderRow = rowReader =&gt; {\n                for (var i = 0; i &lt; rowReader.FieldCount; i++)\n                    headers.Add(Convert.ToString(rowReader.GetValue(i)));\n            },\n\n            FilterColumn = (columnReader, columnIndex) =&gt;\n                headers.IndexOf(\"string\") != columnIndex\n        }\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15122, "user_id": 4519059, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/MBHID.png?s=128&g=1", "display_name": "shA.t", "link": "https://stackoverflow.com/users/4519059/sha-t"}, "is_accepted": false, "score": 3, "last_activity_date": 1548046525, "last_edit_date": 1548046525, "creation_date": 1534241589, "answer_id": 51839007, "question_id": 49908729, "link": "https://stackoverflow.com/questions/49908729/exceldatareader-filtercolumn-usage/51839007#51839007", "title": "ExcelDataReader FilterColumn usage", "body": "<p>It is really easy! Just use it in this way:</p>\n\n<pre><code>FilterColumn = (rowReader, colIndex) =&gt; \n    rowReader[colIndex].ToString() != \"string\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>FilterColumn = (rowReader, colIndex) =&gt; \n    !rowReader[colIndex].ToString().Contains(\"string\")\n</code></pre>\n"}], "owner": {"reputation": 454, "user_id": 4552288, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9ce7e986bb51499855b41f5cde90f6d7?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/4552288/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3522, "favorite_count": 1, "accepted_answer_id": 49909596, "answer_count": 2, "score": 2, "last_activity_date": 1548046525, "creation_date": 1524084254, "last_edit_date": 1524084644, "question_id": 49908729, "link": "https://stackoverflow.com/questions/49908729/exceldatareader-filtercolumn-usage", "title": "ExcelDataReader FilterColumn usage", "body": "<p>I am trying to return a data set that returns the first row as the header row(this is working) as well as filter out entire columns from the data depending on their column header.</p>\n\n<p><code>ExcelDataReader 3.4.0</code> introduced the <code>FilterColumn</code> callback option which I am attempting to utilize.</p>\n\n<p>Below is my <code>AsDataSet</code> call</p>\n\n<pre><code>           var ds = reader.AsDataSet(new ExcelDataSetConfiguration()\n        {\n            ConfigureDataTable = (tableReader) =&gt; new ExcelDataTableConfiguration()\n            {\n\n                // Gets or sets a value indicating whether to use a row from the \n                // data as column names.\n                UseHeaderRow = true,\n\n                // Gets or sets a callback to determine which row is the header row. \n                // Only called when UseHeaderRow = true.\n                ReadHeaderRow = (rowReader) =&gt; {\n                    // F.ex skip the first row and use the 2nd row as column headers:\n                    rowReader.ToString();\n                },\n\n                FilterColumn = (rowReader, columnIndex) =&gt; { \n                    return //if header == \"string\" filter out entire column\n                }\n            }\n        });\n</code></pre>\n\n<p>Above when I try to look at the row,index pair of the column and test to see if it contains the phrase it returns it anyway. What is the proper usage of <code>FilterColumn</code> in this scenario?</p>\n\n<p>Link to github : <a href=\"https://github.com/ExcelDataReader/ExcelDataReader/tree/v3.4.0\" rel=\"nofollow noreferrer\">https://github.com/ExcelDataReader/ExcelDataReader/tree/v3.4.0</a></p>\n"}, {"tags": ["c#", "ws-security"], "comments": [{"owner": {"reputation": 105028, "user_id": 134554, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1894f68e0b15fd3d5b27bfcb021fa11c?s=128&d=identicon&r=PG", "display_name": "John Bode", "link": "https://stackoverflow.com/users/134554/john-bode"}, "edited": false, "score": 0, "creation_date": 1548971141, "post_id": 49908716, "comment_id": 95747249, "body": "I have this exact same question, except from a C++/OpenSSL perspective."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8145672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7183dd549edb4fdd6c7a2d6aa9fdcfe?s=128&d=identicon&r=PG", "display_name": "tete17", "link": "https://stackoverflow.com/users/8145672/tete17"}, "is_accepted": false, "score": 1, "last_activity_date": 1558026077, "creation_date": 1558026077, "answer_id": 56173374, "question_id": 49908716, "link": "https://stackoverflow.com/questions/49908716/how-to-generate-binarysecuritytoken-x509pkipathv1-from-p12-file/56173374#56173374", "title": "How to generate BinarySecurityToken (X509PKIPathv1) from .p12 file", "body": "<p>So this may not be a fully solution to your problem but it may help you out somewhat.</p>\n\n<p>This:</p>\n\n<blockquote>\n  <p><strong>#X509PKIPathv1</strong>: An ordered list of X.509 certificates packaged in a PKIPath</p>\n</blockquote>\n\n<p>means is a asn1 sequence or chain of certificates that you have used to sign your message. You can even see it <a href=\"http://javadoc.iaik.tugraz.at/iaik_jce/current/iaik/x509/X509CertPath.html#X509CertPath(iaik.x509.X509Certificate[])\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>To give some context <a href=\"https://es.wikipedia.org/wiki/ASN.1\" rel=\"nofollow noreferrer\">asn1</a> is way of representing data in way independent of the machine you are using. This data is binary and not human readable so you transform it to bade 64 and that is what you see in that field.</p>\n\n<p>I am not entirely sure what the exact content of your <code>.p12</code> file is but at the very least I assume it has the certificate of the private key you used to sign your message and maybe the chain until the publicly trusted certificate or <a href=\"https://en.wikipedia.org/wiki/Certificate_authority\" rel=\"nofollow noreferrer\">CA</a>.</p>\n\n<p>I am mostly a C++ developer and I know openssl provides a C like api to read a certificate <a href=\"https://www.openssl.org/docs/man1.1.1/man3/d2i_X509_REQ_bio.html\" rel=\"nofollow noreferrer\">manipulate the underlying asn1</a> structure and the output it as a string.</p>\n\n<p>Sorry for not providing with a greater level of detail or a code example</p>\n"}], "owner": {"reputation": 1791, "user_id": 349, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/47ebce52bf7c1f07a4bca41e6543e940?s=128&d=identicon&r=PG", "display_name": "Edo", "link": "https://stackoverflow.com/users/349/edo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 909, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1558026077, "creation_date": 1524084204, "last_edit_date": 1524084704, "question_id": 49908716, "link": "https://stackoverflow.com/questions/49908716/how-to-generate-binarysecuritytoken-x509pkipathv1-from-p12-file", "title": "How to generate BinarySecurityToken (X509PKIPathv1) from .p12 file", "body": "<p>I am trying to consume a Java web service from a C# client. The service requires <code>BinarySecurityToken</code> element with value type <code>X509PKIPathv1</code>.</p>\n\n<pre><code>&lt;wsse:BinarySecurityToken EncodingType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\" \n      ValueType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509PKIPathv1\"&gt;\n      MIIH......\n&lt;/wsse:BinarySecurityToken&gt;\n</code></pre>\n\n<p>Since <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wcf/feature-details/security-protocols#12-x509-token\" rel=\"nofollow noreferrer\">WCF does not support X509PKIPathv1</a> value type, I am generating the SOAP message by hand, signing it using the <code>SignedXml</code> class, encrypting it using the <code>EncryptedXml</code> and sending it using the <code>WebClient</code> class. As for the value of <code>BinarySecurityToken</code> element, I used the value generated in SoapUI for the same certificate, and it works.</p>\n\n<p>But, I would like to be able to generate this value programmatically from .p12 file, and not having to paste it from SoapUI again every time when the certificate expires.</p>\n\n<p>The <a href=\"http://docs.oasis-open.org/wss-m/wss/v1.1.1/os/wss-x509TokenProfile-v1.1.1-os.html\" rel=\"nofollow noreferrer\">WS-Security documentation</a> is a bit vague, so I am not sure how to go about it. This is all the information it gives about this token type:</p>\n\n<blockquote>\n  <p><strong>#X509PKIPathv1</strong>: An ordered list of X.509 certificates packaged in a PKIPath</p>\n</blockquote>\n\n<p>How to generate this value from .p12 file in C#? SoapUI does it somehow.</p>\n"}, {"tags": ["c#", "unit-testing", "asp.net-core", "moq"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1524084543, "post_id": 49908658, "comment_id": 86833487, "body": "<code>UserManager</code> is an implementation concern that should be abstracted out. would make the mocking and injection easier."}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1524105797, "post_id": 49908658, "comment_id": 86839538, "body": "When testing Controller class you will not be able to test actual work of <code>AuthorizationAttribute</code>. Because <code>AuthorizationAttribute</code> consumed by middleware. For testing that you need to test full pipeline: create client(<code>HttpClient</code>), start your WebAPI, send request to the url you are testing and assert on response."}], "answers": [{"tags": [], "owner": {"reputation": 64, "user_id": 4993930, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L3df69pKKdw/AAAAAAAAAAI/AAAAAAAAAD4/sQmsABQF_Uo/photo.jpg?sz=128", "display_name": "Artem Kurianov", "link": "https://stackoverflow.com/users/4993930/artem-kurianov"}, "is_accepted": false, "score": 1, "last_activity_date": 1524084876, "creation_date": 1524084876, "answer_id": 49908869, "question_id": 49908658, "link": "https://stackoverflow.com/questions/49908658/unit-testing-controller-with-authorization-asp-net-core-2-0-web-api/49908869#49908869", "title": "Unit Testing Controller with Authorization ASP.NET Core 2.0 Web API", "body": "<p>I think, problem is in dependency injection. In your Startups.cs file you could find similar string: <code>services.AddIdentity&lt;AppUser, AppRole&gt;().AddEntityFrameworkStores&lt;AppDbContext&gt;().AddDefaultTokenProviders();</code> it means that magic of namespace <code>Microsoft.Extensions.DependencyInjection</code> provide you an instance of your User- or RoleManger anywhere where you want to use it. For example, in InvitationsController using injectin in constructor. </p>\n\n<p>You can try inject UserManger in test class and mock it. Or read similar <a href=\"https://stackoverflow.com/questions/37724738/how-to-unit-test-asp-net-core-application-with-constructor-dependency-injection\">question</a></p>\n"}, {"comments": [{"owner": {"reputation": 127, "user_id": 7728985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/74cvp.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7728985/joe"}, "edited": false, "score": 0, "creation_date": 1524156501, "post_id": 49922037, "comment_id": 86868466, "body": "Would you recommend the integration test approach over unit testing when testing a controller with its methods?"}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "reply_to_user": {"reputation": 127, "user_id": 7728985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/74cvp.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7728985/joe"}, "edited": false, "score": 0, "creation_date": 1524156795, "post_id": 49922037, "comment_id": 86868621, "body": "Controller <i>actions</i>, yes. If you have some sort of utility method on your controller that&#39;s not an action you can unit test that. Actions are inherently integrations. You won&#39;t know if it&#39;s actually working unless you hit it via a request."}, {"owner": {"reputation": 173, "user_id": 5560365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/528262067326073/picture?type=large", "display_name": "Brad", "link": "https://stackoverflow.com/users/5560365/brad"}, "edited": false, "score": 0, "creation_date": 1539805999, "post_id": 49922037, "comment_id": 92639603, "body": "This answer really got me on the right track, but how do you &quot;fake&quot; the authenticated user such that you could run a test that shows the authorization passes? ie how do you test Authorize attribute applied? ie [Authorize(Policy = &quot;Is18orOlder&quot;)] or whatever the policy may be?"}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1539806240, "post_id": 49922037, "comment_id": 92639713, "body": "Insert one or more test users into the in-memory database. Then, hit your login post action with the test client and sending the username and pass for the user you want to test. The response will contain your auth cookie. Use that to make your authenticated request via the test client again. Based on the user being tested, assert authorization passes or fails, accordingly."}], "tags": [], "owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "is_accepted": false, "score": 7, "last_activity_date": 1524143569, "creation_date": 1524143569, "answer_id": 49922037, "question_id": 49908658, "link": "https://stackoverflow.com/questions/49908658/unit-testing-controller-with-authorization-asp-net-core-2-0-web-api/49922037#49922037", "title": "Unit Testing Controller with Authorization ASP.NET Core 2.0 Web API", "body": "<p>You're not unit testing; you're integration testing. When you find yourself setting up ten thousand mocks just to run a method, that's a pretty good sign it's an integration test. Additionally, things like authorization only happen as part of the request lifecycle; there's no way to test that, without doing an actual request, which again, means you're integration testing.</p>\n\n<p>As such, use the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/testing/integration-testing?view=aspnetcore-2.1\" rel=\"noreferrer\">test host</a>. </p>\n\n<pre><code>private readonly TestServer _server;\nprivate readonly HttpClient _client;\n\npublic MyTestClass()\n{\n    _server = new TestServer(new WebHostBuilder()\n        .UseStartup&lt;Startup&gt;());\n    _client = _server.CreateClient();\n}\n\n[Fact]\npublic async Task GetInvitationByCode_ReturnsInvitation() {\n\n    var mockInvitation = new Invitation {\n        StoreId = 1,\n        InviteCode = \"123abc\",\n    };\n\n    var response = await _client.GetAsync(\"/route\");\n    response.EnsureSuccessStatusCode();\n\n    var responseString = await response.Content.ReadAsStringAsync();\n    var result = JsonConvert.DeserializeObject&lt;Invitation&gt;(responseString);\n\n    // Compare individual properties you care about.\n    // Comparing the full objects will fail because of reference inequality\n    Assert.Equal(mockInvitation.StoreId, result.StoreId);\n}\n</code></pre>\n\n<p>If you need to scaffold your data to make the correct result return, simply use the <a href=\"https://docs.microsoft.com/en-us/ef/core/providers/in-memory/\" rel=\"noreferrer\">in-memory database provider</a>. The easiest way to use this for integration testing is to specify a new environment like \"Test\". Then, in your startup, when configuring your context, branch on the environment and use the in-memory provider (instead of SQL Server or whatever) when the environment is \"Test\". Then, when setting up your test server for integration testing, simply add <code>.UseEnvironment(\"Test\")</code> before <code>.UseStartup&lt;Startup&gt;()</code>.</p>\n"}], "owner": {"reputation": 127, "user_id": 7728985, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/74cvp.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7728985/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4684, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1524143569, "creation_date": 1524083934, "question_id": 49908658, "link": "https://stackoverflow.com/questions/49908658/unit-testing-controller-with-authorization-asp-net-core-2-0-web-api", "title": "Unit Testing Controller with Authorization ASP.NET Core 2.0 Web API", "body": "<p>I have a controller:</p>\n\n<pre><code>public class InvitationsController: Controller {\n        private readonly IMapper _mapper;\n        private readonly IInvitationManager _invitationManager;\n        private readonly UserManager&lt;MyAppUser&gt; _userManager;\n\n        public InvitationsController(\n            IInvitationManager invitationManager,\n            IMapper mapper,\n            UserManager&lt;MyAppUser&gt; userManager,\n            IJobManager jobManager\n        ) {\n            _invitationManager = invitationManager;\n            _mapper = mapper;\n            _userManager = userManager;\n        } \n[Authorization]\nGetInvitationByCode(string code) { ... }\n</code></pre>\n\n<p>I'm trying to write unit tests using Xunit and Moq. Here is the implentation of my test:</p>\n\n<pre><code>  public class InvitationsControllerTests {\n\n    private Mock&lt;IInvitationManager&gt; invitationManagerMock;        \n    private Mock&lt;UserManager&lt;MyAppUser&gt;&gt; userManagerMock;\n    private Mock&lt;IMapper&gt; mapperMock;\n    private InvitationsController controller;\n\n    public InvitationsControllerTests() {\n        invitationManagerMock = new Mock&lt;IInvitationManager&gt;();          \n        userManagerMock = new Mock&lt;UserManager&lt;MyAppUser&gt;&gt;();\n\n        mapperMock = new Mock&lt;IMapper&gt;();\n        controller = new InvitationsController(invitationManagerMock.Object,\n                   mapperMock.Object,\n                   userManagerMock.Object);\n    }\n\n    [Fact]\n    public async Task GetInvitationByCode_ReturnsInvitation() {\n\n        var mockInvitation = new Invitation {\n            StoreId = 1,\n            InviteCode = \"123abc\",\n        };\n\n        invitationManagerMock.Setup(repo =&gt; \n        repo.GetInvitationByCodeAsync(\"123abc\"))\n            .Returns(Task.FromResult(mockInvitation));\n\n        var result = await controller.GetInvitationByCode(\"123abc\");\n\n        Assert.Equal(mockInvitation, result);\n    }\n</code></pre>\n\n<p>I don't think I'm using the mocking functionality correctly. Specifically with  UserManager. I can't find a clear answer on using Moq to test controllers protected by [Authorize]. When running my tests, it throws an exception on</p>\n\n<pre><code>        controller = new InvitationsController(invitationManagerMock.Object,\n                   mapperMock.Object,\n                   userManagerMock.Object);\n</code></pre>\n\n<p>Which reads:</p>\n\n<p>Castle.DynamicProxy.InvalidProxyConstructorArgumentsException: 'Can not instantiate proxy of class: Microsoft.AspNetCore.Identity.UserManager`1[[MyApp.api.Core.Models.MyAppUser, MyApp.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]].\nCould not find a parameterless constructor.'</p>\n"}, {"tags": ["c#", "asp.net", "xml", "web-services", "http"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1524084267, "post_id": 49908641, "comment_id": 86833372, "body": "Are you able to read the entire response into an <code>XDocument</code>? LINQ to XML is <i>much</i> simpler to use than <code>XmlReader</code>."}, {"owner": {"reputation": 41, "user_id": 9486836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/733190d486ac826aaec6f3b97e80d637?s=128&d=identicon&r=PG&f=1", "display_name": "Lanshore Dev", "link": "https://stackoverflow.com/users/9486836/lanshore-dev"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524084517, "post_id": 49908641, "comment_id": 86833475, "body": "Not sure how to do it."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524084638, "post_id": 49908641, "comment_id": 86833531, "body": "Well you can load it easily enough with <code>XDocument.Load</code>, assuming the document will be small enough. The main reason to use <code>XmlReader</code> is if you have a potentially <i>huge</i> document that you don&#39;t want to load into memory."}, {"owner": {"reputation": 41, "user_id": 9486836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/733190d486ac826aaec6f3b97e80d637?s=128&d=identicon&r=PG&f=1", "display_name": "Lanshore Dev", "link": "https://stackoverflow.com/users/9486836/lanshore-dev"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524084910, "post_id": 49908641, "comment_id": 86833662, "body": "I don&#39;t use XDocument.Load, however I&#39;ve tried and the catch statement displayed this error: <b>Non white space characters cannot be added to content</b>"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524085365, "post_id": 49908641, "comment_id": 86833860, "body": "That&#39;s suggests you&#39;re getting invalid XML. I suggest you save a response locally as a file just for development purposes - then you can write a simple console app which opens the file as a stream instead of doing it all in a web environment."}, {"owner": {"reputation": 41, "user_id": 9486836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/733190d486ac826aaec6f3b97e80d637?s=128&d=identicon&r=PG&f=1", "display_name": "Lanshore Dev", "link": "https://stackoverflow.com/users/9486836/lanshore-dev"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524085503, "post_id": 49908641, "comment_id": 86833914, "body": "But it is weird because when I use <b>reader.ReadToDescendant(&quot;fileHitIndicator&quot;)</b> to get one value from the entire XML is retrieves the info correctly. The XML file starts with <b>&lt;document xmlns=&quot;<a href=\"http://www.transunion.com/namespace&quot;&gt;response&lt;/document\" rel=\"nofollow noreferrer\">transunion.com/namespace&quot;&gt;response&lt;/document</a>&gt; &lt;version xmlns=&quot;<a href=\"http://www.transunion.com/namespace&quot;&gt;2.21&lt;/version\" rel=\"nofollow noreferrer\">transunion.com/namespace&quot;&gt;2.21&lt;/version</a>&gt;</b>"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524114006, "post_id": 49908641, "comment_id": 86841616, "body": "That means the document was okay <i>that far</i>. Perhaps there&#39;s extra content at the end, for example. If you download the data and look at it in an editor, you&#39;ll be in a much better position to understand what&#39;s going on."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 9486836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/733190d486ac826aaec6f3b97e80d637?s=128&d=identicon&r=PG&f=1", "display_name": "Lanshore Dev", "link": "https://stackoverflow.com/users/9486836/lanshore-dev"}, "edited": false, "score": 0, "creation_date": 1524087900, "post_id": 49909168, "comment_id": 86834883, "body": "This works perfectly, however I am not 100% sure how to capture what it is he tag <b>&lt;ssnMatchIndicator&gt;exact&lt;/ssnMatchIndicator&gt;</b> for example in this case the <b>exact</b>"}, {"owner": {"reputation": 11485, "user_id": 16964, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1aac03fde960d0e6f8f4a0a9106eb712?s=128&d=identicon&r=PG", "display_name": "Cyberherbalist", "link": "https://stackoverflow.com/users/16964/cyberherbalist"}, "reply_to_user": {"reputation": 41, "user_id": 9486836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/733190d486ac826aaec6f3b97e80d637?s=128&d=identicon&r=PG&f=1", "display_name": "Lanshore Dev", "link": "https://stackoverflow.com/users/9486836/lanshore-dev"}, "edited": false, "score": 0, "creation_date": 1524130146, "post_id": 49909168, "comment_id": 86850256, "body": "@LanshoreDev, see the additional information I&#39;ve added to my answer."}, {"owner": {"reputation": 41, "user_id": 9486836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/733190d486ac826aaec6f3b97e80d637?s=128&d=identicon&r=PG&f=1", "display_name": "Lanshore Dev", "link": "https://stackoverflow.com/users/9486836/lanshore-dev"}, "edited": false, "score": 0, "creation_date": 1524152587, "post_id": 49909168, "comment_id": 86866108, "body": "Thanks a lot! I appreciate your help."}], "tags": [], "owner": {"reputation": 11485, "user_id": 16964, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1aac03fde960d0e6f8f4a0a9106eb712?s=128&d=identicon&r=PG", "display_name": "Cyberherbalist", "link": "https://stackoverflow.com/users/16964/cyberherbalist"}, "is_accepted": false, "score": 0, "last_activity_date": 1524131645, "last_edit_date": 1524131645, "creation_date": 1524086376, "answer_id": 49909168, "question_id": 49908641, "link": "https://stackoverflow.com/questions/49908641/how-to-retrieve-all-elements-from-xml-file-using-c/49909168#49909168", "title": "How to retrieve all Elements from XML file using c#", "body": "<p>I don't know why what you're doing is not working, but I wouldn't use that method.  I've found the following to work well. Whether you're getting the xml from a stream, just put it into a string and bang...</p>\n\n<pre><code>StreamReader reader = new StreamReader(sourcepath);\nstring xml = reader.ReadToEnd();\nreader.Close();\nXmlDocument doc = new XmlDocument();\ndoc.LoadXml(xml);\nXmlNodeList list = doc.GetElementsByTagName(\"*\");\nforeach (XmlNode nd in list)\n{\n    switch (nd.Name)\n    {\n        case \"ContactID\":\n            var ContactIdent = nd.InnerText;\n            break;\n        case \"ContactName\":\n            var ContactName = nd.InnerText;\n            break;\n    }\n}\n</code></pre>\n\n<p>To capture what is between the Xml tags, if there are no child Xml tags, use the InnerText property, e.g. <code>XmlNode.InnerText</code>. To capture what is between the quotes in the nodes' attributes, use <code>XmlAttribute.Value</code>.  </p>\n\n<p>As for iterating through the attributes, if one of your nodes has attributes, such as the elements \"Name\", \"SpectralType\" and \"Orbit\" in the Xml here:</p>\n\n<pre><code>&lt;System&gt;\n  &lt;Star Name=\"Epsilon Eridani\" SpectralType=\"K2v\"&gt;\n    &lt;Planets&gt;\n      &lt;Planet Orbit=\"1\"&gt;Bill&lt;/Planet&gt;\n      &lt;Planet Orbit=\"2\"&gt;Moira&lt;/Planet&gt;\n    &lt;/Planets&gt;\n  &lt;/Star&gt;\n&lt;/System&gt;\n</code></pre>\n\n<p>Detect them using the Attributes property, and iterate through them as shown:</p>\n\n<pre><code>if (nd.Attributes.Count &gt; 0)\n{\n    XmlAttributeCollection coll = nd.Attributes;\n    foreach (XmlAttribute cn in coll)\n    {\n        switch (cn.Name)\n        {\n            case \"Name\":\n                thisStar.Name = cn.Value;\n                break;\n            case \"SpectralType\":\n                thisStar.SpectralClass = cn.Value;\n                break;\n        }\n    }\n}\n</code></pre>\n\n<p>You might find some more useful information <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.xmldocument(v=vs.110).aspx\" rel=\"nofollow noreferrer\">HERE</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 9486836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/733190d486ac826aaec6f3b97e80d637?s=128&d=identicon&r=PG&f=1", "display_name": "Lanshore Dev", "link": "https://stackoverflow.com/users/9486836/lanshore-dev"}, "edited": false, "score": 0, "creation_date": 1524152620, "post_id": 49918943, "comment_id": 86866127, "body": "Thanks a lot! This worked perfectly!! You saved my ass!"}], "tags": [], "owner": {"reputation": 133, "user_id": 6532116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BkAvV.jpg?s=128&g=1", "display_name": "Chintan", "link": "https://stackoverflow.com/users/6532116/chintan"}, "is_accepted": true, "score": 0, "last_activity_date": 1524134154, "creation_date": 1524134154, "answer_id": 49918943, "question_id": 49908641, "link": "https://stackoverflow.com/questions/49908641/how-to-retrieve-all-elements-from-xml-file-using-c/49918943#49918943", "title": "How to retrieve all Elements from XML file using c#", "body": "<p>Try this :</p>\n\n<pre><code>        XmlDataDocument xmldoc = new XmlDataDocument();\n        XmlNodeList xmlnode ;\n        int i = 0;\n        string str = null;\n        FileStream fs = new FileStream(\"product.xml\", FileMode.Open, FileAccess.Read);\n        xmldoc.Load(fs);\n        xmlnode = xmldoc.GetElementsByTagName(\"Product\");\n        for (i = 0; i &lt;= xmlnode.Count - 1; i++)\n        {\n            xmlnode[i].ChildNodes.Item(0).InnerText.Trim();\n            str = xmlnode[i].ChildNodes.Item(0).InnerText.Trim() + \"  \" + xmlnode[i].ChildNodes.Item(1).InnerText.Trim() + \"  \" + xmlnode[i].ChildNodes.Item(2).InnerText.Trim();\n            MessageBox.Show (str);\n        }\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9486836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/733190d486ac826aaec6f3b97e80d637?s=128&d=identicon&r=PG&f=1", "display_name": "Lanshore Dev", "link": "https://stackoverflow.com/users/9486836/lanshore-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 49918943, "answer_count": 2, "score": 1, "last_activity_date": 1524134154, "creation_date": 1524083864, "question_id": 49908641, "link": "https://stackoverflow.com/questions/49908641/how-to-retrieve-all-elements-from-xml-file-using-c", "title": "How to retrieve all Elements from XML file using c#", "body": "<p>I am trying to retrieve all elements from an XML file, but I just can reach one, is there any way I can retrieve all?</p>\n\n<pre><code>HttpWebResponse objResponse = (HttpWebResponse)objRequest.GetResponse();\n            using (XmlReader reader = XmlReader.Create(new StreamReader(objResponse.GetResponseStream())))\n            {\n                while (reader.Read())\n                {\n                    #region Get Credit Score\n                    //if (reader.ReadToDescendant(\"results\"))\n\n                    if (reader.ReadToDescendant(\"ssnMatchIndicator\"))\n                    {\n                        string ssnMatchIndicator = reader.Value;\n                    }\n\n                    if (reader.ReadToDescendant(\"fileHitIndicator\"))\n                    {\n                        reader.Read();//this moves reader to next node which is text \n                        result = reader.Value; //this might give value than \n                        Res.Response = true;\n                        Res.SocialSecurityScore = result.ToString();\n                        //break;\n                    }\n                    else\n                    {\n                        Res.Response = false;\n                        Res.SocialSecurityScore = \"Your credit score might not be available. Please contact support\";\n                    }\n                    #endregion\n\n                    #region Get fileHitIndicator\n                    if (reader.ReadToDescendant(\"fileHitIndicator\"))\n                    {\n                        reader.Read();\n                        Res.fileHitIndicator = reader.Value;\n                        //break;\n                    }\n                    #endregion\n                }\n            }   \n</code></pre>\n\n<p>Can somebody help me out with this issue?\nI am also using <strong>objResponse.GetResponseStream()</strong> because the XML comes from a response from server. </p>\n\n<p>Thanks a lot in advance. </p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-core-2.0"], "answers": [{"comments": [{"owner": {"reputation": 1612, "user_id": 1272944, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ba1f12846af94813c397ea839ce7ee96?s=128&d=identicon&r=PG", "display_name": "Tab", "link": "https://stackoverflow.com/users/1272944/tab"}, "edited": false, "score": 0, "creation_date": 1524144799, "post_id": 49921547, "comment_id": 86860493, "body": "That is true, however the app pool expiration is set to 300 minutes and same behavior exists. However, I&#39;ll look into persistent session and see if this fits for us."}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "reply_to_user": {"reputation": 1612, "user_id": 1272944, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ba1f12846af94813c397ea839ce7ee96?s=128&d=identicon&r=PG", "display_name": "Tab", "link": "https://stackoverflow.com/users/1272944/tab"}, "edited": false, "score": 0, "creation_date": 1524145253, "post_id": 49921547, "comment_id": 86860809, "body": "Well, in general, you should never use in-memory <i>anything</i> in production. Whether or not it also fixes this problem, you should use a persistent store."}, {"owner": {"reputation": 1612, "user_id": 1272944, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ba1f12846af94813c397ea839ce7ee96?s=128&d=identicon&r=PG", "display_name": "Tab", "link": "https://stackoverflow.com/users/1272944/tab"}, "edited": false, "score": 0, "creation_date": 1524145362, "post_id": 49921547, "comment_id": 86860870, "body": "Good point, normally we use sql server in production, I&#39;ll give it a go on my dev box."}], "tags": [], "owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "is_accepted": true, "score": 3, "last_activity_date": 1524142119, "creation_date": 1524142119, "answer_id": 49921547, "question_id": 49908610, "link": "https://stackoverflow.com/questions/49908610/cookie-authentication-early-expiration/49921547#49921547", "title": "Cookie Authentication Early Expiration", "body": "<p>You're using in-memory sessions, which are tied to the process. That process in IIS is your App Pool. By default, the App Pool recycles automatically after a period of time. When it recycles, it takes your sessions with it.</p>\n\n<p>Use a <a href=\"https://docs.microsoft.com/en-us/aspnet/core/performance/caching/distributed?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">persistent session store</a>: SQL Server, Redis, etc. (Sessions use distributed cache, so the way you set up persistent sessions is to setup a persistent distributed cache store.)</p>\n"}, {"tags": [], "owner": {"reputation": 1612, "user_id": 1272944, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ba1f12846af94813c397ea839ce7ee96?s=128&d=identicon&r=PG", "display_name": "Tab", "link": "https://stackoverflow.com/users/1272944/tab"}, "is_accepted": false, "score": 0, "last_activity_date": 1524353067, "creation_date": 1524353067, "answer_id": 49961076, "question_id": 49908610, "link": "https://stackoverflow.com/questions/49908610/cookie-authentication-early-expiration/49961076#49961076", "title": "Cookie Authentication Early Expiration", "body": "<p>Thanks to <a href=\"https://stackoverflow.com/users/654031/chris-pratt\" title=\"Chris Pratt\">Chris Pratt</a> to starting me in the right direction.  Moving to Redis helped with performance and distributed caching is the right way to go.</p>\n\n<p>However, Redis did not solve my problem, the app still timed out after 90 minutes regardless of my settings.</p>\n\n<p>Since we use IIS I ended up having to change settings in the <strong>AppPool</strong> to finally get the session to honor my timeout instead of the AppPool's.</p>\n\n<ul>\n<li>For the AppPool, click on the Advanced Settings and make the following changes:\n\n<ul>\n<li>Section: <strong>Process Model</strong>\n\n<ul>\n<li>Idle Time-out (minutes) = 0 (disables the timeout so that the application pool will never shut down due to being idle)</li>\n<li>Idle Time-out Action = Suspend (A suspended worker process remains alive but is paged-out to disk, reducing the system resources it consumes)</li>\n</ul></li>\n<li>Section: <strong>Recycling</strong>\n\n<ul>\n<li>Regular Time Interval (minutes) = 0 (setting to 0 means the apppool will not recycle)</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<h3>Note:  The above settings should not affect other applications unless you have a great deal many applications running on the same server.  I suggest you research the settings in detail before using them to ensure they will work for you.</h3>\n\n<p>Finally, I ran several tests with various settings (we store them in appsettings.json) for timeout from 2 mins, 10 mins, 1 hour and finally 2 hours and all worked as required.</p>\n"}], "owner": {"reputation": 1612, "user_id": 1272944, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ba1f12846af94813c397ea839ce7ee96?s=128&d=identicon&r=PG", "display_name": "Tab", "link": "https://stackoverflow.com/users/1272944/tab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1712, "favorite_count": 0, "accepted_answer_id": 49921547, "answer_count": 2, "score": 5, "last_activity_date": 1524836245, "creation_date": 1524083708, "last_edit_date": 1524836245, "question_id": 49908610, "link": "https://stackoverflow.com/questions/49908610/cookie-authentication-early-expiration", "title": "Cookie Authentication Early Expiration", "body": "<h2>Issue</h2>\n\n<p>In my ASP.NET MVC Core 2.0 application I have setup to use the cookie authentication scheme without using Identity as we have our own backend authentication storage and api.</p>\n\n<p>The authentication and authorization works perfectly every time.</p>\n\n<p>However, no matter what the login/session expires after approximately 30 minutes.  You can see that we are setting the timeout to 120 minutes for both authentication cookie and session cookie.</p>\n\n<p><strong>Application information:</strong></p>\n\n<ul>\n<li>Platform: .Net 4.7.x (Windows)</li>\n<li>Framework: Asp.Net Core 2.x</li>\n<li>IIS used as a proxy server</li>\n</ul>\n\n<h3>Any help or input on how to solve this would be welcome</h3>\n\n<h2>Code</h2>\n\n<p><strong>Update:</strong> Replaced <code>services.AddMemoryCache()</code> with <code>services.AddDistributedRedisCache(..)</code> - testing to see how this works</p>\n\n<p><strong>Startup.cs</strong></p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n    services.AddDistributedRedisCache(options =&gt;\n        {\n            options.Configuration = \"localhost\";\n            options.InstanceName = \"CoreTestInstance\";\n        });\n\n    services.AddAuthentication(\"CookieAuthenticationScheme\")\n        .AddCookie(\"CookieAuthenticationScheme\", options =&gt; \n        {\n            options.Cookie.Name = authSettings.Name;\n            options.Cookie.HttpOnly = false;\n            options.Cookie.Expiration = TimeSpan.FromMinutes(120);\n            options.ExpireTimeSpan = TimeSpan.FromMinutes(120);\n            options.AccessDeniedPath = new PathString(\"/Errors/StatusCodeErrors/401\");\n            options.LoginPath = \"/Account/Login\";\n        });\n        // services.AddMemoryCache();\n        services.AddSession(options =&gt;\n        {\n            options.Cookie.Name = sessSettings.Name;\n            options.Cookie.HttpOnly = false;\n            options.IdleTimeout = TimeSpan.FromMinutes(120);\n        });\n}\n\npublic void Configure(IApplicationBuilder app, IHostingEnvironment env)\n{\n    if (env.IsDevelopment())\n    {\n        app.UseBrowserLink();\n        app.UseDeveloperExceptionPage();\n    }\n    else\n    {\n        app.UseExceptionHandler(\"/Errors/Default\");\n    }\n    app.UseStatusCodePagesWithRedirects(\"/Errors/StatusCodeErrors/{0}\");\n    app.UseStaticFiles();\n    app.UseAuthentication();\n    app.UseSession();\n    app.UseMvc();\n}\n</code></pre>\n\n<p><strong>AccountController.cs</strong></p>\n\n<pre><code>[HttpPost(\"Login\")]\npublic async Task&lt;IActionResult&gt; Login(AccountModel model)\n{\n    var claims = new List&lt;Claim&gt;();\n    claims.Add(new Claim(ClaimTypes.Name, model.UserName));\n    claims.Add(new Claim(ClaimTypes.Role, \"Administrator\", ClaimValueTypes.String, model.UserName));\n\n    var identity = new ClaimsIdentity(claims, \"login\");\n    var principal = new ClaimsPrincipal(identity);\n    await HttpContext.SignInAsync(\"CookieAuthenticationScheme\", principal);\n}\n</code></pre>\n"}, {"tags": ["c#", "json", "json.net"], "comments": [{"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1524084081, "post_id": 49908607, "comment_id": 86833276, "body": "You&#39;ll have to transform the data first. You can&#39;t expect the JSON deserializer to interpret something that isn&#39;t JSON."}, {"owner": {"reputation": 7741, "user_id": 1501327, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e0926655f7fec6bd7e262d37248aeb79?s=128&d=identicon&r=PG", "display_name": "James B", "link": "https://stackoverflow.com/users/1501327/james-b"}, "reply_to_user": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1524084469, "post_id": 49908607, "comment_id": 86833463, "body": "@DanWilson - Think the <code>SupportMultipleContent</code> feature will do what I&#39;m trying to achieve. See answer below."}, {"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1524084638, "post_id": 49908607, "comment_id": 86833533, "body": "Well I&#39;ll be...ya learn somethin new every day. You young bucks and yer JSON streams..."}], "owner": {"reputation": 7741, "user_id": 1501327, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e0926655f7fec6bd7e262d37248aeb79?s=128&d=identicon&r=PG", "display_name": "James B", "link": "https://stackoverflow.com/users/1501327/james-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1524084762, "answer_count": 0, "score": 0, "last_activity_date": 1524084425, "creation_date": 1524083695, "question_id": 49908607, "link": "https://stackoverflow.com/questions/49908607/json-net-deserialize-psuedo-json-stream", "closed_reason": "Duplicate", "title": "JSON.Net Deserialize psuedo-JSON Stream", "body": "<p>I have a stream producing the following json-like data:</p>\n\n<pre><code>{\n  \"type\": \"TypeA\",\n  \"time\": \"2018-04-18T19:54:06.653874823Z\",\n  \"status\": \"Pending\"\n}\n{\n  \"type\": \"TypeB\",\n  \"time\": \"2018-04-18T19:55:06.653874823Z\",\n  \"status\": \"Pending\"\n}\n{\n  ...\n</code></pre>\n\n<p>and I'd like to use JSON.Net to bind this to my class</p>\n\n<pre><code>public class MyData\n{\n    public string Type { get; set; }\n    public string Time { get; set; }\n    public string Status { get; set; }\n}\n</code></pre>\n\n<p>If the data being streamed were properly formatted json, i.e.,</p>\n\n<pre><code>[\n  {\n    \"type\": \"TypeA\",\n    \"time\": \"2018-04-18T19:54:06.653874823Z\",\n    \"status\": \"Pending\"\n  },\n  {\n    \"type\": \"TypeB\",\n    \"time\": \"2018-04-18T19:55:06.653874823Z\",\n    \"status\": \"Pending\"\n  },\n  {\n    ...\n]\n</code></pre>\n\n<p>I could achieve this simply with</p>\n\n<pre><code>var serializer = new JsonSerializer();\n\nusing (var sr = new StreamReader(myStream)\nusing (var reader = new JsonTextReader(sr))\n   {\n       var myDatas= serializer.Deserialize&lt;List&lt;MyData&gt;&gt;(reader);\n   }\n</code></pre>\n\n<p>Is there any way to configure JSON.Net to use the json-like data shown above? Or, will I have to transform the data before I get JSON.Net to do the conversion?</p>\n"}, {"tags": ["c#", "sql-server", "using"], "comments": [{"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 2, "creation_date": 1524084190, "post_id": 49908576, "comment_id": 86833322, "body": "You desperately need to read about, understand and start using parameters in your queries. This is wide open to sql injection. My friend bobby tables loves this style of coding. <a href=\"http://bobby-tables.com/\" rel=\"nofollow noreferrer\">bobby-tables.com</a>"}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1524084284, "post_id": 49908576, "comment_id": 86833384, "body": "For the problem at hand where is this error being thrown? And what is the point of a try/catch if all the catch does is catch the error and throw it again? All that is accomplishing is to slow your application down. Either properly handle the error or just let it happen."}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1524084462, "post_id": 49908576, "comment_id": 86833462, "body": "Oh I see the error...in the method InsertData you have a loop and you open the connection each iteration through the loop. Move that open before the loop. And then go fix your queries to use parameters."}, {"owner": {"reputation": 1090, "user_id": 7396598, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b5d7500a00bd4aa5a9be5f61b032dfa?s=128&d=identicon&r=PG", "display_name": "user7396598", "link": "https://stackoverflow.com/users/7396598/user7396598"}, "reply_to_user": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1524084648, "post_id": 49908576, "comment_id": 86833539, "body": "Dangit @sean lange, while I was typing...At any rate, Albert, you don&#39;t need that validate method, you&#39;re simply doing more work than needs to be done.  If you try to Insert and the row already exists, SQL will tell you, you just have to catch that error response and act on it."}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1524084713, "post_id": 49908576, "comment_id": 86833568, "body": "Even better than trying to insert a duplicate would be to use a NOT EXISTS in your insert so it won&#39;t insert the duplicate at all."}, {"owner": {"reputation": 3, "user_id": 9665825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c67c6bcf1ad1865cd0789e05c9dbca?s=128&d=identicon&r=PG&f=1", "display_name": "Albert_gem", "link": "https://stackoverflow.com/users/9665825/albert-gem"}, "edited": false, "score": 0, "creation_date": 1524084900, "post_id": 49908576, "comment_id": 86833660, "body": "I know about Sql Injection, but since it&#39;s a local process (exe), I considered that wasn&#39;t neccesary. But I&#39;ll take your recommendation, to update it :)"}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1524085149, "post_id": 49908576, "comment_id": 86833771, "body": "It is always necessary. It is so simple to parameterize that not doing it is borderline negligent. Personally I would consider reworking this whole thing to use a table value parameter to a stored procedure. That way you can pass in the entire collection of data at once and use a single insert statement to insert all of the non-existent data in one step. Way simpler code and faster performance. Everybody wins!!"}, {"owner": {"reputation": 3, "user_id": 9665825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c67c6bcf1ad1865cd0789e05c9dbca?s=128&d=identicon&r=PG&f=1", "display_name": "Albert_gem", "link": "https://stackoverflow.com/users/9665825/albert-gem"}, "edited": false, "score": 0, "creation_date": 1524085375, "post_id": 49908576, "comment_id": 86833863, "body": "Oh you really true <i>Sean Lange</i> , I&#39;ll change the iteration and validation out of the SqlConnection block, and check if the exeption isn&#39;t throw again, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9665825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c67c6bcf1ad1865cd0789e05c9dbca?s=128&d=identicon&r=PG&f=1", "display_name": "Albert_gem", "link": "https://stackoverflow.com/users/9665825/albert-gem"}, "edited": false, "score": 0, "creation_date": 1524094126, "post_id": 49909408, "comment_id": 86836785, "body": "the try catch has only the purpose to alert, in another method via email, when a error is handled to keep testing the process, and also know if there were a connection error to the database, that&#39;s the reason I&#39;m using  :)"}], "tags": [], "owner": {"reputation": 111, "user_id": 7076422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3852a14d479ab966e6ef2826cd3d67f8?s=128&d=identicon&r=PG&f=1", "display_name": "Peter ", "link": "https://stackoverflow.com/users/7076422/peter"}, "is_accepted": false, "score": 0, "last_activity_date": 1524094831, "last_edit_date": 1524094831, "creation_date": 1524087430, "answer_id": 49909408, "question_id": 49908576, "link": "https://stackoverflow.com/questions/49908576/getting-connection-open-when-using-a-sqlconnection-block-within-another-block/49909408#49909408", "title": "Getting connection Open when Using a SqlConnection block within Another Block", "body": "<p>First your code is badly written,as they have suggested you don't need to validate,try catch will do it for you.second opening a connection inside a loop ( foreach in your case) will will result to trying to open already open connection. Example here you could do something like  </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>  query= \"INSERT INTO history(iddata,description, datehist\" VALUES(@id,@descrip,GETDATE())\";\n   using (SqlConnection con = new SqlConnection(myDBtwo))\n            {\n           con.Open();\n   SqlCommand com = new SqlCommand(query,con);\n                foreach (DataRow x in dt.Rows)\n                {     \n                        com.Parameters.Add(new SqlParameter(\"@id\", x[\"idoper\"].ToString()));\n                        com.Parameters.Add(new SqlParameter(\"@descrip\", x[\"description\"] ));\n                        com.ExecuteNonQuery();\n                    }\n                }\n            }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9665825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c67c6bcf1ad1865cd0789e05c9dbca?s=128&d=identicon&r=PG&f=1", "display_name": "Albert_gem", "link": "https://stackoverflow.com/users/9665825/albert-gem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1524094831, "creation_date": 1524083603, "last_edit_date": 1524093958, "question_id": 49908576, "link": "https://stackoverflow.com/questions/49908576/getting-connection-open-when-using-a-sqlconnection-block-within-another-block", "title": "Getting connection Open when Using a SqlConnection block within Another Block", "body": "<p>In the project I call a method to query additional information with a <i>SqlConnection block</i>, but then I validate if exists in a second table using another <i>sqlconnection block</i>, but it is supposed to be disposed (closed) after getting back to the method <b>InsertNewData</b>, but when calling to Open the connection for the Insert, I'm getting the following message:</p>\n\n<blockquote>\n  <p>The connection was not closed. The connection's current state is open.</p>\n</blockquote>\n\n<p>My code is like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public void InsertNewData(string operation)\n{\n    DataTable dt = new DataTable();\n    try\n    {\n        if (operation!= string.Empty)\n        {\n            using (SqlConnection oconn = new SqlConnection(myDBone))\n            {\n                SqlCommand cmd = new SqlCommand();\n                SqlDataAdapter da = new SqlDataAdapter();\n                string query = \"SELECT * FROM operations \"+\n                \"WHERE idoper=@id\";\n                oconn.Open();\n                cmd = new SqlCommand(query, oconn);\n                cmd.Parameters.Add(new SqlParameter(\"@id\", operation.ToString()));\n                da = new SqlDataAdapter(cmd);\n                da.Fill(dt);\n            }\n            if (dt.Rows.Count &gt; 0)\n            {\n                using (SqlConnection con = new SqlConnection(myDBtwo))\n                {\n                    SqlCommand com = new SqlCommand();\n                    string query= \"\";\n                    foreach (DataRow x in dt.Rows)\n                    {\n                        if (ValidateData(x) == false)\n                        {\n                            query= \"INSERT INTO history(iddata,description, datehist ) \"+\n                            \" VALUES(@id,@descrip,GETDATE())\";\n                            con.Open();  //Here throws the Exception error\n                            com = new SqlCommand(query, con);\n                            com.Parameters.Add(new SqlParameter(\"@id\", x[\"idoper\"].ToString()));\n                            com.Parameters.Add(new SqlParameter(\"@descrip\", x[\"description\"] ));\n                            com.ExecuteNonQuery();\n                        }\n                    }\n                }\n            }\n        }\n    }\n    catch (Exception x)\n    {\n        throw x;\n    }\n}\n\npublic bool ValidateData(DataRow row)\n{\n    bool exists= false;\n\n    string operation= row[\"idoper\"].ToString();\n    string descrip= row[\"description\"].ToString();\n    if (operation!= string.Empty &amp;&amp; descrip!= string.Empty)\n    {\n        using (SqlConnection oconn = new SqlConnection(sqlrastreo))\n        {\n            SqlCommand cmd = new SqlCommand();\n            string query = \"SELECT COUNT(*) FROM history \"+\n            \"WHERE iddata=@id AND description=@descrip\";\n            oconn.Open();\n            cmd = new SqlCommand(query, oconn);\n            com.Parameters.Add(new SqlParameter(\"@id\", operation));\n            com.Parameters.Add(new SqlParameter(\"@descrip\", descrip));\n            int count = (int) cmd.ExecuteScalar();\n            if (count &gt; 0)\n                exists= true;\n        }// Here it should be Disposed or closed the SqlConnection\n    }\n    return exists;\n}\n</code></pre>\n\n<p>What I'm doing wrong, because it's suppose to be closed the other connection and the other hasn't been opened ? or Should I Still call the Close() method for each SqlConnection inside the block <i>Using</i>?</p>\n\n<p><b>Updated:</b>\nI've changed to parameters for best reading code and recommendation syntax.</p>\n\n<p><b>NOTE</b>\nThe values and parameters aren't the real ones, my real table <em>descriptions</em> have about 8 fields, but I validate with just two parameters that aren't primary key, but considering that I can't edit the table properties (Have only reading permissions for that database).</p>\n\n<p><b>Update 2: </b>\nThanks to the recommendation of <i><a href=\"https://stackoverflow.com/users/3813116/sean-lange\">Sean Lange</a></i>, it was better and so simple to use a Store Procedure (SP) to validate and insert at the same time, so I do it as follow in code of the process:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public void InsertNewData(string operation)\n{\n    try\n    {\n        if(operation == string.Empty)\n            return;\n        using(SqlConnection con = new SqlConnection(myDBtwo))\n        {\n            con.Open();\n            var cmd = new SqlCommand(\"SP_InsertData\", con);\n            cmd.Parameters.Add(new SqlParameter(\"@id\", operation));\n            cmd.ExecuteNonQuery();\n        }\n     }\n     catch(Exception  ex)\n     { throw ex; }\n}\n</code></pre>\n\n<p>And then in my SP I insert a select statement of the parameter, to avoid duplicates and also do it in One go:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE PROCEDURE SP_InsertData @id VARCHAR(10)\nAS\nBEGIN\n    INSERT INTO History\n    SELECT O.idoper, O.description\n    FROM myDBone.dbo.operations O\n    LEFT JOIN History H \n    ON H.iddata = O.idoper AND H.description = O.description\n    WHERE O.idoper=@id AND H.iddata IS NULL\nEND\n</code></pre>\n\n<p>Thanks for your support, and hope it helps someone.</p>\n"}, {"tags": ["c#", ".net", "node.js", "cmd", ".net-core"], "answers": [{"tags": [], "owner": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1524507427, "creation_date": 1524507427, "answer_id": 49987522, "question_id": 49908369, "link": "https://stackoverflow.com/questions/49908369/reliably-kill-node-js-process-launched-via-cmd-process-in-a-net-core-app/49987522#49987522", "title": "Reliably kill node.js process launched via cmd process in a .NET Core app", "body": "<p>I really <em>really</em> don't like ending up answering my own question(s), especially when the answer is based on a hack-ish way of achieving the results.</p>\n\n<p>However, I understand that this may save somebody else their time. So, here's my solution:</p>\n\n<h1>Code</h1>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Diagnostics;\nusing System.IO;\nusing System.Linq;\nusing System.Threading;\n\nnamespace RunE2E\n{\n    public class Program\n    {\n        static string currentDirectory = Directory.GetCurrentDirectory();\n\n        public static int Main(string[] args)\n        {\n            var serviceAlikeProcessResult = StartProcessViaCmd(\"node\", \"test.js\", \"\");\n            var serviceAlikeProcess = serviceAlikeProcessResult.MainProcess;\n\n            var brokenWithErrorResult = StartProcessViaCmd(\"npm\", \"THIS IS NOT A REAL COMMAND, THEREFORE EXPECTED TO FAIL\", \"\");\n            var brokenWithErrorProcess = brokenWithErrorResult.MainProcess;\n            brokenWithErrorProcess.Exited += (_, __) =&gt;\n            {\n                KillProcesses(\"Front-End\", serviceAlikeProcessResult.MainProcess, serviceAlikeProcessResult.CreatedProcesses);\n                KillProcesses(\"E2E-Test\", brokenWithErrorResult.MainProcess, brokenWithErrorResult.CreatedProcesses);\n            };\n\n            serviceAlikeProcess.WaitForExit();\n            return serviceAlikeProcess.ExitCode;\n        }\n\n        private static CommandStartResult StartProcessViaCmd(string command, string arguments, string workingDirectory)\n        {\n            workingDirectory = NormalizeWorkingDirectory(workingDirectory);\n\n            var process = new Process\n            {\n                EnableRaisingEvents = true,\n                StartInfo = new ProcessStartInfo\n                {\n                    FileName = \"cmd\",\n                    Arguments = arguments,\n                    WorkingDirectory = workingDirectory,\n                    UseShellExecute = false,\n                    RedirectStandardInput = true,\n                    RedirectStandardError = true,\n                    RedirectStandardOutput = true,\n                    CreateNoWindow = true,\n                },\n            };\n            var createdProcesses = new List&lt;Process&gt;();\n\n            process.ErrorDataReceived += (_, e) =&gt; handle(command, arguments, workingDirectory, \"ERROR\", e.Data);\n            process.OutputDataReceived += (_, e) =&gt; handle(command, arguments, workingDirectory, \"\", e.Data);\n\n            var commandId = $\"[{workingDirectory}] {command} {arguments}\";\n            try\n            {\n                WriteLine(commandId);\n\n                createdProcesses = StartProcessAndCapture(commandId, process);\n\n                process.BeginOutputReadLine();\n                process.StandardInput.WriteLine($\"{command} {arguments} &amp; exit\");\n            }\n            catch (Exception exc)\n            {\n                WriteLine($\"{commandId}: {exc}\");\n                throw;\n            }\n\n            return new CommandStartResult\n            {\n                MainProcess = process,\n                CreatedProcesses = createdProcesses,\n            };\n        }\n\n        static List&lt;Process&gt; StartProcessAndCapture(string commandId, Process processToStart)\n        {\n            var before = Process.GetProcesses().ToList();\n            var beforePidSet = new HashSet&lt;int&gt;(before.Select(process =&gt; process.Id));\n\n            var _ = processToStart.Start();\n\n            Thread.Sleep(3000);\n\n            var after = Process.GetProcesses().ToList();\n            var newlyCreatedProcessIdList = new HashSet&lt;int&gt;(after.Select(process =&gt; process.Id));\n            newlyCreatedProcessIdList.ExceptWith(beforePidSet);\n            var createdProcesses = after.Where(process =&gt; newlyCreatedProcessIdList.Contains(process.Id)).ToList();\n\n            foreach (var process in createdProcesses)\n                WriteLine($\"{commandId} ||| [{process.Id}] {process.ProcessName}\", ConsoleColor.Blue);\n\n            return createdProcesses;\n        }\n\n        static string NormalizeWorkingDirectory(string workingDirectory)\n        {\n            if (string.IsNullOrWhiteSpace(workingDirectory))\n                return currentDirectory;\n            else if (Path.IsPathRooted(workingDirectory))\n                return workingDirectory;\n            else\n                return Path.GetFullPath(Path.Combine(currentDirectory, workingDirectory));\n        }\n\n        static Action&lt;string, string, string, string, string&gt; handle =\n            (string command, string arguments, string workingDirectory, string level, string message) =&gt;\n            {\n                var defaultColor = Console.ForegroundColor;\n                Write($\"[{workingDirectory}] \");\n                Write($\"{command} \", ConsoleColor.DarkGreen);\n                Write($\"{arguments}\", ConsoleColor.Green);\n                Write($\"{level} \", level == \"\" ? defaultColor : ConsoleColor.Red);\n                WriteLine($\": {message}\");\n            };\n\n        static void KillProcesses(string prefix, Process baseProcess, List&lt;Process&gt; processList)\n        {\n            processList = baseProcess == null ?\n                processList :\n                processList.Where(process =&gt; process.Id != baseProcess.Id).Append(baseProcess).ToList();\n\n            foreach (var process in processList)\n                KillProcess(prefix, process);\n        }\n\n        static void KillProcess(string prefix, Process process)\n        {\n            if (process != null &amp;&amp; !process.HasExited)\n                try\n                {\n                    WriteLine(prefix + \" | Kill (\" + process.ProcessName + \") [\" + process.Id + \"]\");\n                    process.Kill();\n                }\n                catch (Win32Exception win32exc)\n                {\n                    WriteLine(prefix + \" | Kill (\" + process.ProcessName + \") [\" + process.Id + \"]: \" + win32exc.Message);\n                }\n        }\n\n        static void WaitForExit(Process process)\n        {\n            while (process.HasExited == false) { }\n        }\n\n        static object console = new object();\n        static void Write(string text, ConsoleColor? color = null)\n        {\n            lock (console)\n            {\n                var original = Console.ForegroundColor;\n                Console.ForegroundColor = color.HasValue ? color.Value : original;\n                Console.Write(text);\n                Console.ForegroundColor = original;\n            }\n        }\n        static void WriteLine(string text = null, ConsoleColor? color = null)\n        {\n            lock (console)\n            {\n                var original = Console.ForegroundColor;\n                Console.ForegroundColor = color.HasValue ? color.Value : original;\n                Console.WriteLine(text);\n                Console.ForegroundColor = original;\n            }\n        }\n    }\n\n    class CommandStartResult\n    {\n        public Process MainProcess { get; set; }\n        public List&lt;Process&gt; CreatedProcesses { get; set; }\n    }\n}\n</code></pre>\n\n<p>Additionally, one may want to use the following methods when dealing with .NET Core processes.</p>\n\n<pre><code>        private static CommandStartResult StartDotnetProcess(string arguments, string workingDirectory)\n        {\n            var command = \"dotnet\";\n            workingDirectory = NormalizeWorkingDirectory(workingDirectory);\n\n            var process = PrepareProcess(command, arguments, workingDirectory);\n            var createdProcesses = new List&lt;Process&gt;();\n            var commandId = $\"[{workingDirectory}] {command} {arguments}\";\n            try\n            {\n                WriteLine(commandId);\n\n                createdProcesses = StartProcessAndCapture(commandId, process);\n\n                process.BeginOutputReadLine();\n            }\n            catch (Exception exc)\n            {\n                WriteLine($\"{commandId} : {exc}\");\n                throw;\n            }\n\n            return new CommandStartResult\n            {\n                MainProcess = process,\n                CreatedProcesses = createdProcesses,\n            };\n        }\n\n        private static Process PrepareProcess(\n            string command,\n            string arguments,\n            string workingDirectory\n        )\n        {\n            var process = new Process\n            {\n                EnableRaisingEvents = true,\n                StartInfo = new ProcessStartInfo\n                {\n                    FileName = command,\n                    Arguments = arguments,\n                    WorkingDirectory = workingDirectory,\n                    UseShellExecute = false,\n                    RedirectStandardOutput = true,\n                    RedirectStandardError = true,\n                },\n            };\n\n            process.ErrorDataReceived += (_, e) =&gt; handle(command, arguments, workingDirectory, \"ERROR\", e.Data);\n            process.OutputDataReceived += (_, e) =&gt; handle(command, arguments, workingDirectory, \"\", e.Data);\n\n            process.StartInfo.Environment.Add(\"ASPNETCORE_ENVIRONMENT\", \"Development\");\n\n            return process;\n        }\n</code></pre>\n"}], "owner": {"reputation": 6905, "user_id": 482868, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ysm67.jpg?s=128&g=1", "display_name": "Igor Soloydenko", "link": "https://stackoverflow.com/users/482868/igor-soloydenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 2, "accepted_answer_id": 49987522, "answer_count": 1, "score": 1, "last_activity_date": 1524507427, "creation_date": 1524082731, "last_edit_date": 1524087237, "question_id": 49908369, "link": "https://stackoverflow.com/questions/49908369/reliably-kill-node-js-process-launched-via-cmd-process-in-a-net-core-app", "title": "Reliably kill node.js process launched via cmd process in a .NET Core app", "body": "<h1>What am I trying to solve</h1>\n\n<p>To improve my build pipeline, I'd like to add an end-to-end test step. I'm planning to achieve it by means of a CLI tool (.NET \"Console App\"). The tool will spin up and orchestrate a few <code>npm</code>/<code>node</code> commands (processes).</p>\n\n<p>More specifically, there will be:</p>\n\n<ol>\n<li>a back-end process;</li>\n<li>a front-end process;</li>\n<li>and a test process.</li>\n</ol>\n\n<p>When a test process (<code>3</code>) completes, the CLI tool should terminate back-end (<code>1</code>) and front-end (<code>2</code>) processes gracefully, plus return <code>0</code> exit code if <strong>every</strong> orchestrated process has successfully terminated.</p>\n\n<h1>Trouble</h1>\n\n<p>In my <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> below I'm trying to spin up a process <code>serviceAlikeProcess</code> and a failing process (<code>brokenWithErrorProcess</code>). When the latter one fails, I'm trying to forcibly terminate the former one via <code>Kill(process)</code> method.</p>\n\n<p><strong>!!!</strong> As it is <a href=\"https://stackoverflow.com/a/43952716/482868\">suggested here</a>, the <code>node</code>/<code>npm</code> processes are being launched via <code>cmd</code> process. I.e. I'm first spinning up a <code>cmd</code> process, and then write <code>node test.js</code> to its <code>stdin</code> stream. The <code>node</code> process gets launched just fine but when the <code>cmd</code> process is terminated later, the <code>node</code> process keeps running and producing the output.</p>\n\n<p><em>I suppose this happens due to the fact <code>cmd</code> and <code>node</code> processes are not getting linked in a parent-child relationship</em> (because if I manually terminate the <code>cmd</code> process from a Task Manager, I observe same exact behavior).</p>\n\n<h1>Question</h1>\n\n<p><strong>How do I reliably kill both processes?</strong></p>\n\n<p><strong>Idea:</strong> I was thinking about capturing the <code>node</code> process' <code>pid</code> and then terminate both <code>cmd</code> and <code>node</code> processes myself, but I haven't found a way to capture that <code>pid</code>...</p>\n\n<h1>Code</h1>\n\n<h3>Program.cs</h3>\n\n<pre><code>using System;\nusing System.Diagnostics;\nusing System.IO;\n\nnamespace RunE2E\n{\n    public class Program\n    {\n        static string currentDirectory = Directory.GetCurrentDirectory();\n\n        public static int Main(string[] args)\n        {\n            var serviceAlikeProcess = StartProcessViaCmd(\"node\", \"test.js\", \"\");\n\n\n            var brokenWithErrorProcess = StartProcessViaCmd(\"npm\", \"THIS IS NOT A REAL COMMAND, THEREFORE EXPECTED TO FAIL\", \"\");\n            brokenWithErrorProcess.Exited += (_, __) =&gt; KillProcess(serviceAlikeProcess);\n\n\n            serviceAlikeProcess.WaitForExit();\n            return serviceAlikeProcess.ExitCode;\n        }\n\n        private static Process StartProcessViaCmd(string command, string arguments, string workingDirectory)\n        {\n            workingDirectory = NormalizeWorkingDirectory(workingDirectory);\n\n            var process = new Process\n            {\n                EnableRaisingEvents = true,\n                StartInfo = new ProcessStartInfo\n                {\n                    FileName = \"cmd\",\n                    Arguments = arguments,\n                    WorkingDirectory = workingDirectory,\n                    UseShellExecute = false,\n                    RedirectStandardInput = true,\n                    RedirectStandardError = true,\n                    RedirectStandardOutput = true,\n                    CreateNoWindow = true,\n                }\n            };\n\n            process.ErrorDataReceived += (_, e) =&gt; handle(command, arguments, workingDirectory, \"ERROR\", e.Data);\n            process.OutputDataReceived += (_, e) =&gt; handle(command, arguments, workingDirectory, \"OUTPUT\", e.Data);\n\n            try\n            {\n                Console.WriteLine($\"[{workingDirectory}] {command} {arguments}\");\n\n                var _ = process.Start();\n\n                process.BeginOutputReadLine();\n                process.StandardInput.WriteLine($\"{command} {arguments} &amp; exit\");\n            }\n            catch (Exception exc)\n            {\n                Console.WriteLine($\"[{workingDirectory}] {command} {arguments} : {exc}\");\n                throw;\n            }\n            return process;\n        }\n\n        static string NormalizeWorkingDirectory(string workingDirectory)\n        {\n            if (string.IsNullOrWhiteSpace(workingDirectory))\n                return currentDirectory;\n            else if (Path.IsPathRooted(workingDirectory))\n                return workingDirectory;\n            else\n                return Path.GetFullPath(Path.Combine(currentDirectory, workingDirectory));\n        }\n\n        static Action&lt;string, string, string, string, string&gt; handle =\n            (string command, string arguments, string workingDirectory, string level, string message) =&gt;\n            Console.WriteLine($\"[{workingDirectory}] {command} {arguments} {level}: {message}\");\n\n        static void KillProcess(Process process)\n        {\n            if (process != null &amp;&amp; !process.HasExited)\n                process.Kill();\n        }\n    }\n}\n</code></pre>\n\n<h3>test.js</h3>\n\n<pre><code>setInterval(() =&gt; {\n    console.info(new Date());\n}, 1000);\n</code></pre>\n\n<h1>Screenshots</h1>\n\n<h3>Before launching any processes programmatically</h3>\n\n<p><a href=\"https://i.stack.imgur.com/cuAoC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cuAoC.png\" alt=\"enter image description here\"></a></p>\n\n<h3>After the `cmd` process is killed</h3>\n\n<p><a href=\"https://i.stack.imgur.com/SKiYi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SKiYi.png\" alt=\"enter image description here\"></a></p>\n\n<h3>Console output</h3>\n\n<p><a href=\"https://i.stack.imgur.com/iCLFZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iCLFZ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "wpf", "qt"], "comments": [{"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1524082172, "post_id": 49908155, "comment_id": 86832296, "body": "<code>But they don&#39;t work for me.</code> It would help if you could explain why."}, {"owner": {"reputation": 3876, "user_id": 7478455, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VP5WO.jpg?s=128&g=1", "display_name": "Mohammad Kanan", "link": "https://stackoverflow.com/users/7478455/mohammad-kanan"}, "edited": false, "score": 0, "creation_date": 1524083632, "post_id": 49908155, "comment_id": 86833058, "body": "Can you show relevant code (native)"}, {"owner": {"reputation": 389, "user_id": 9204431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12e84368daf95ad94ef0cbdd81bae1a9?s=128&d=identicon&r=PG&f=1", "display_name": "H.J. Meijer", "link": "https://stackoverflow.com/users/9204431/h-j-meijer"}, "reply_to_user": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1524118118, "post_id": 49908155, "comment_id": 86843107, "body": "@DanWilson, the window that I want to show in wpf is not showing up and &#39;SetParent&#39; returns 0. I have searched for more information, but that&#39;s the only clue&#39;s I got."}], "answers": [{"tags": [], "owner": {"reputation": 389, "user_id": 9204431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12e84368daf95ad94ef0cbdd81bae1a9?s=128&d=identicon&r=PG&f=1", "display_name": "H.J. Meijer", "link": "https://stackoverflow.com/users/9204431/h-j-meijer"}, "is_accepted": true, "score": 0, "last_activity_date": 1525256409, "creation_date": 1525256409, "answer_id": 50132253, "question_id": 49908155, "link": "https://stackoverflow.com/questions/49908155/host-qt-application-in-wpf/50132253#50132253", "title": "Host qt application in WPF", "body": "<p>Answer: <a href=\"https://stackoverflow.com/questions/27421029/external-app-inside-wpf-notepad-exe-works-but-others-dont\">external App inside WPF (notepad.exe works but others don&#39;t)</a>. In short, this is not possible since OLE is not supported by most apps.</p>\n"}], "owner": {"reputation": 389, "user_id": 9204431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12e84368daf95ad94ef0cbdd81bae1a9?s=128&d=identicon&r=PG&f=1", "display_name": "H.J. Meijer", "link": "https://stackoverflow.com/users/9204431/h-j-meijer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 50132253, "answer_count": 1, "score": 0, "last_activity_date": 1525256409, "creation_date": 1524081852, "last_edit_date": 1525256371, "question_id": 49908155, "link": "https://stackoverflow.com/questions/49908155/host-qt-application-in-wpf", "title": "Host qt application in WPF", "body": "<p>I am trying to host a window of a QT application inside a windowsforms/wpf application. I have already seen a lot of questions and answers on this question. But they don't work for me (the window doesn't show up in the wpf form and remains running on its own).\nI got an application that must be launched in administrator mode on windows. When I try to embed/host it in my application with SetParent it does not show up, and SetParent returns 0.<br/></p>\n\n<p>Other applications like notepad++ do work, do I need to do additional steps to host an administrator-mode window?</p>\n\n<p><strong>Edit 1:</strong></p>\n\n<pre><code>        int h = FindWindow(null, \"Game Browser\");\n        IntPtr hwnd = (IntPtr)h;\n        // Both h and hwnd are set to correct values\n\n        var helper = new WindowInteropHelper(this);\n        var x = SetParent(hwnd, helper.Handle);\n        // x remains 0, helper.Handle returns a seemingly correct value\n\n        // remove control box\n        int style = GetWindowLong(hwnd, GWL_STYLE);\n        style = style &amp; ~WS_CAPTION &amp; ~WS_THICKFRAME;\n        SetWindowLong(hwnd, GWL_STYLE, style);\n</code></pre>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1524082042, "post_id": 49908097, "comment_id": 86832235, "body": "There are too many possible answers here. I would say use services for all your data work and put the database on a centralized server. But there are dozens of other options. As such this is not a well enough focused question."}, {"owner": {"reputation": 612, "user_id": 1517392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MIxU7.jpg?s=128&g=1", "display_name": "Yaroslav Veremenko", "link": "https://stackoverflow.com/users/1517392/yaroslav-veremenko"}, "edited": false, "score": 0, "creation_date": 1524082676, "post_id": 49908097, "comment_id": 86832567, "body": "When you say it does not work anymore, it does not do anything or you get an exception?"}, {"owner": {"reputation": 2334, "user_id": 7948962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b64557f8a617effccaf4426f16e9035?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob H", "link": "https://stackoverflow.com/users/7948962/jacob-h"}, "edited": false, "score": 2, "creation_date": 1524082681, "post_id": 49908097, "comment_id": 86832570, "body": "I haven&#39;t used it-- but surely you&#39;ll get recommendations for SQLite. It seems to be the most commonly used embedded db. I assume if you&#39;re looking for an embedded db you don&#39;t need your users to share data?"}, {"owner": {"reputation": 11, "user_id": 9666322, "user_type": "registered", "profile_image": "https://graph.facebook.com/438026049882653/picture?type=large", "display_name": "Popa Cristian", "link": "https://stackoverflow.com/users/9666322/popa-cristian"}, "edited": false, "score": 0, "creation_date": 1524083175, "post_id": 49908097, "comment_id": 86832819, "body": "The insert command doesn&#39;t insert new data into the table .  I just need a way to make the database portable..."}], "owner": {"reputation": 11, "user_id": 9666322, "user_type": "registered", "profile_image": "https://graph.facebook.com/438026049882653/picture?type=large", "display_name": "Popa Cristian", "link": "https://stackoverflow.com/users/9666322/popa-cristian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 665, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524081794, "creation_date": 1524081643, "last_edit_date": 1524081794, "question_id": 49908097, "link": "https://stackoverflow.com/questions/49908097/how-to-create-an-embedded-database", "title": "How to create an embedded database?", "body": "<p>So, I started to make an app on my main pc. The database works just fine. </p>\n\n<p>But when I move the app on the second Pc,or any other Pc , to continue the work, it chrases, and throws this exception:</p>\n\n<pre><code>System.Data.SqlClient.SqlException: 'An attempt to attach an auto-named database for file C:\\Users\\Cristi\\OneDrive\\Documente\\Licurici\\Licurici\\qst.mdf failed. A database with the same name exists, or specified file cannot be opened, or it is located on UNC share.'\n</code></pre>\n\n<p>This is the initial connection string : </p>\n\n<pre><code>SqlConnection sqc = new SqlConnection(@\"Data Source=(LocalDB)\\MSSQLLocalDB;AttachDbFilename=C:\\Users\\Cristi\\OneDrive\\Documente\\Licurici\\Licurici\\qst.mdf;Integrated Security=True\");\n</code></pre>\n\n<p>I changed the connection string in:</p>\n\n<pre><code> SqlConnection sqc = new SqlConnection(@\"Data Source=(LocalDB)\\MSSQLLocalDB;AttachDbFilename=|DataDirectory|qst.mdf;Integrated Security=True\");\n</code></pre>\n\n<p>and  I also tried this : </p>\n\n<pre><code> SqlConnection sqc = new SqlConnection(Properties.Settings.Default.qstConnectionString);\n</code></pre>\n\n<p>The last 2 strings work fine, and makes the database portable, but makes INSERT commands not work anymore, at all. This is my sql command:</p>\n\n<pre><code>sqc.Open();\nSqlCommand cmd = new SqlCommand(\"INSERT INTO Question(quest, a, b, c, d) VALUES(@q, @a, @b, @c, @d)\",sqc);\ncmd.Parameters.AddWithValue(\"@q\", richTextBox1.Text.ToString());\ncmd.Parameters.AddWithValue(\"@a\", richTextBox2.Text.ToString());\ncmd.Parameters.AddWithValue(\"@b\", richTextBox3.Text.ToString());\ncmd.Parameters.AddWithValue(\"@c\", richTextBox4.Text.ToString());\ncmd.Parameters.AddWithValue(\"@d\", richTextBox5.Text.ToString());\ncmd.ExecuteNonQuery();\nsqc.Close();\n</code></pre>\n\n<p>So  I am asking you, how do I create a portable(or embedded) database, that will work on any pc, without having to change manually the connection string everytime  and also have the possibility to work properly with the sqlcommands like insert  ? </p>\n\n<p>I'm working in Visual Studio 2017 with .NET framework.The project is a windows form app.</p>\n\n<p>Any help is appreciated ! :) </p>\n"}, {"tags": ["c#", "asp.net-core", ".net-core", "action-filter"], "comments": [{"owner": {"reputation": 3794, "user_id": 7614076, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2273909efe93ebcc8a6cdf7b8f5f4a27?s=128&d=identicon&r=PG&f=1", "display_name": "Akos Nagy", "link": "https://stackoverflow.com/users/7614076/akos-nagy"}, "edited": false, "score": 1, "creation_date": 1524081955, "post_id": 49908073, "comment_id": 86832183, "body": "Based on the documentation I&#39;d say that the <code>Order</code> property can only be used to override the default ordering of filters only and the property does not affect the order of controller methods and filters."}], "answers": [{"comments": [{"owner": {"reputation": 7398, "user_id": 1039247, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/K2tQU.png?s=128&g=1", "display_name": "Juli&#235;n", "link": "https://stackoverflow.com/users/1039247/juli%c3%abn"}, "edited": false, "score": 0, "creation_date": 1524120257, "post_id": 49913430, "comment_id": 86844183, "body": "That&#39;s it, @CodeFuller! Thanks a bunch."}, {"owner": {"reputation": 10903, "user_id": 758093, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/78bf6c8ba2dff9e0ff636371460b0dfb?s=128&d=identicon&r=PG", "display_name": "Marko", "link": "https://stackoverflow.com/users/758093/marko"}, "edited": false, "score": 0, "creation_date": 1570155778, "post_id": 49913430, "comment_id": 102832849, "body": "@CodeFuller Is this order property also necessary on async action filters?"}], "tags": [], "owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "is_accepted": true, "score": 10, "last_activity_date": 1577145279, "last_edit_date": 1577145279, "creation_date": 1524116087, "answer_id": 49913430, "question_id": 49908073, "link": "https://stackoverflow.com/questions/49908073/execute-global-filter-before-controllers-onactionexecuting-in-asp-net-core/49913430#49913430", "title": "Execute global filter before controller&#39;s OnActionExecuting, in ASP.NET Core", "body": "<p>You're almost there. Your small mistake is that default order of controller filter execution is not <code>0</code>. This order is defined in <code>ControllerActionFilter</code> class as <code>int.MinValue</code> (<a href=\"https://github.com/aspnet/AspNetCore/blob/master/src/Mvc/Mvc.Core/src/Filters/ControllerActionFilter.cs#L17\" rel=\"nofollow noreferrer\">source code</a>):</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class ControllerActionFilter : IAsyncActionFilter, IOrderedFilter\n{\n    // Controller-filter methods run farthest from the action by default.\n    /// &lt;inheritdoc /&gt;\n    public int Order { get; set; } = int.MinValue;\n\n    // ...\n}\n</code></pre>\n\n<p>So the only change you should make to your current code is to set <code>FooActionFilter.Order</code> to <code>int.MinValue</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class FooActionFilter : IActionFilter, IOrderedFilter\n{\n    public int Order =&gt; int.MinValue;\n\n    //  ...\n}\n</code></pre>\n\n<p>Now <code>FooActionFilter</code> and <code>ControllerActionFilter</code> have the same order. But <code>FooActionFilter</code> is a global filter, while <code>ControllerActionFilter</code> is Controller-level filter. That's why <code>FooActionFilter</code> will be executed the first, based on <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/controllers/filters?view=aspnetcore-2.0#overriding-the-default-order\" rel=\"nofollow noreferrer\">this statement</a>:</p>\n\n<blockquote>\n  <p>The Order property trumps scope when determining the order in which filters will run. Filters are sorted first by order, <strong>then scope is used to break ties</strong>.</p>\n</blockquote>\n"}], "owner": {"reputation": 7398, "user_id": 1039247, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/K2tQU.png?s=128&g=1", "display_name": "Juli&#235;n", "link": "https://stackoverflow.com/users/1039247/juli%c3%abn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9939, "favorite_count": 2, "accepted_answer_id": 49913430, "answer_count": 1, "score": 17, "last_activity_date": 1577145279, "creation_date": 1524081564, "last_edit_date": 1524112665, "question_id": 49908073, "link": "https://stackoverflow.com/questions/49908073/execute-global-filter-before-controllers-onactionexecuting-in-asp-net-core", "title": "Execute global filter before controller&#39;s OnActionExecuting, in ASP.NET Core", "body": "<p>In an ASP.NET Core 2.0 application, I am trying to execute a global filter's <code>OnActionExecuting</code> <em>before</em> executing the Controller's variant. Expected behaviour is that I can prepare something in the global before and pass along the result value to the controller(s). The current behaviour, however, is that the order of execution is reversed by design.</p>\n\n<p>The docs tell me about the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/controllers/filters?view=aspnetcore-2.0#default-order-of-execution\" rel=\"noreferrer\">default order of execution</a>: </p>\n\n<blockquote>\n  <p>Every controller that inherits from the Controller base class includes OnActionExecuting and OnActionExecuted methods. These methods wrap the filters that run for a given action: OnActionExecuting is called before any of the filters, and OnActionExecuted is called after all of the filters.</p>\n</blockquote>\n\n<p>Which leads me to interpret that the Controller's <code>OnActionExecuting</code> is executed before any of the filters. Makes sense. But the docs also states that <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/controllers/filters?view=aspnetcore-2.0#overriding-the-default-order\" rel=\"noreferrer\">the default order can be overridden</a> by implementing <code>IOrderedFilter</code>.</p>\n\n<p>My attempt to implement this in a filter is like so:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class FooActionFilter : IActionFilter, IOrderedFilter\n{\n    // Setting the order to 0, using IOrderedFilter, to attempt executing\n    // this filter *before* the BaseController's OnActionExecuting.\n    public int Order =&gt; 0;\n\n    public void OnActionExecuting(ActionExecutingContext context)\n    {\n        // removed logic for brevity\n        var foo = \"bar\";\n\n        // Pass the extracted value back to the controller\n        context.RouteData.Values.Add(\"foo\", foo);\n    }\n}\n</code></pre>\n\n<p>This filter is registered at startup as:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>services.AddMvc(options =&gt; options.Filters.Add(new FooActionFilter()));\n</code></pre>\n\n<p>Finally, my BaseController looks like the sample below. This best explains what I'm trying to achieve:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class BaseController : Controller\n{\n    public override void OnActionExecuting(ActionExecutingContext context)\n    {\n        // The problem: this gets executed *before* the global filter.\n        // I actually want the FooActionFilter to prepare this value for me.\n        var foo = context.RouteData.Values.GetValueOrDefault(\"foo\").ToString();\n    }\n}\n</code></pre>\n\n<p>Setting the <code>Order</code> to 0, or even a non-zero value like -1, does not seem to have any effect on the order of execution.</p>\n\n<p>My question: what can I do to make my global filter execute the <code>OnActionExecuting</code> <em>before</em> the (Base)Controller's <code>OnActionExecuting</code>?</p>\n"}, {"tags": ["c#", "datetime", "utc", "datetime-conversion"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524081622, "post_id": 49908040, "comment_id": 86832023, "body": "Welcome to Stack Overflow. I&#39;d strongly advise you to start using parameterized SQL as the <i>very first</i> thing to do. That will avoid conversion issues and SQL injection attacks, as well as making the code much more readable. I&#39;d also advise you to do as few conversions between strings and date/time values as possible."}, {"owner": {"reputation": 90882, "user_id": 447156, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/8348bcf40f55bc5818651824369caff1?s=128&d=identicon&r=PG", "display_name": "Soner G&#246;n&#252;l", "link": "https://stackoverflow.com/users/447156/soner-g%c3%b6n%c3%bcl"}, "edited": false, "score": 0, "creation_date": 1524081637, "post_id": 49908040, "comment_id": 86832030, "body": "&quot;not working&quot; is not helpful only itself. What do you mean by that? You get an error? Exception? Unexpected result? And do <b>not</b> store your DateTime values as a string. Store them exactly what they are. Read: <a href=\"https://sqlblog.org/2009/10/12/bad-habits-to-kick-choosing-the-wrong-data-type\" rel=\"nofollow noreferrer\">sqlblog.org/2009/10/12/&hellip;</a>"}, {"owner": {"reputation": 583, "user_id": 624756, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/719d8eba780f55201541da58533f1b74?s=128&d=identicon&r=PG", "display_name": "mrdnk", "link": "https://stackoverflow.com/users/624756/mrdnk"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524081703, "post_id": 49908040, "comment_id": 86832055, "body": "I agree with @DaisyShipton. And would add, you want to keep it as a DateTime type all the way to the SQL query entry. Also check out... <a href=\"https://msdn.microsoft.com/en-us/library/system.datetime.touniversaltime(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 9298722, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bujQJ74uTm8/AAAAAAAAAAI/AAAAAAAAAEY/s1c4Jd-0J7c/photo.jpg?sz=128", "display_name": "BILAL AHMAD", "link": "https://stackoverflow.com/users/9298722/bilal-ahmad"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524081882, "post_id": 49908040, "comment_id": 86832141, "body": "Thanks @DaisyShipton thanks for suggestions but I dint wrote this whole applications i am just asigned a small tweak in it about datetime conversion issue on which i am stuck at"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524081957, "post_id": 49908040, "comment_id": 86832184, "body": "You don&#39;t need to rewrite the whole application just to use SQL parameters for this - although you should probably raise the issue if it&#39;s like this everywhere. (Although you haven&#39;t told us what the type of the column is on the database, which doesn&#39;t help us.)"}, {"owner": {"reputation": 11, "user_id": 9298722, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bujQJ74uTm8/AAAAAAAAAAI/AAAAAAAAAEY/s1c4Jd-0J7c/photo.jpg?sz=128", "display_name": "BILAL AHMAD", "link": "https://stackoverflow.com/users/9298722/bilal-ahmad"}, "reply_to_user": {"reputation": 90882, "user_id": 447156, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/8348bcf40f55bc5818651824369caff1?s=128&d=identicon&r=PG", "display_name": "Soner G&#246;n&#252;l", "link": "https://stackoverflow.com/users/447156/soner-g%c3%b6n%c3%bcl"}, "edited": false, "score": 0, "creation_date": 1524082054, "post_id": 49908040, "comment_id": 86832240, "body": "@SonerG&#246;n&#252;l The date i passed to startTime is this  &quot;2018-05-10 01:00:00.000&quot; and the date which it saves to the db is &quot;2018-05-10 20:00:00.000&quot; where as i want to save the date to as it is as i passed but it converts it to some other time zone i guess"}, {"owner": {"reputation": 11, "user_id": 9298722, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bujQJ74uTm8/AAAAAAAAAAI/AAAAAAAAAEY/s1c4Jd-0J7c/photo.jpg?sz=128", "display_name": "BILAL AHMAD", "link": "https://stackoverflow.com/users/9298722/bilal-ahmad"}, "edited": false, "score": 0, "creation_date": 1524082089, "post_id": 49908040, "comment_id": 86832258, "body": "the db column type is datetime"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524082730, "post_id": 49908040, "comment_id": 86832600, "body": "&quot;but it converts it to some other time zone i guess&quot; - rather than guessing, log <i>everything</i>. At the moment we hardly know anything - we don&#39;t know what time zone your server is in, what all the values are, how you&#39;re looking at the value in the database, or even what database you&#39;re using. With so little information, it&#39;s <i>very</i> hard to help."}, {"owner": {"reputation": 11, "user_id": 9298722, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bujQJ74uTm8/AAAAAAAAAAI/AAAAAAAAAEY/s1c4Jd-0J7c/photo.jpg?sz=128", "display_name": "BILAL AHMAD", "link": "https://stackoverflow.com/users/9298722/bilal-ahmad"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524083327, "post_id": 49908040, "comment_id": 86832901, "body": "@DaisyShipton i am using sql db,i am in pakistan my server is in US chicago"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1524083355, "post_id": 49908040, "comment_id": 86832914, "body": "Have you tried using UTC time instead? <code>DateTime.UtcNow.ToString()</code> and if <code>app_date</code> is a local time: <code>Convert.ToDateTime(app_date).ToUniversalTime();</code>."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524083364, "post_id": 49908040, "comment_id": 86832920, "body": "By &quot;sql db&quot; do you mean SQL Server? There are lots of databases that use SQL... please edit <i>all</i> the relevant information into your question."}], "answers": [{"tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": false, "score": 1, "last_activity_date": 1524085342, "last_edit_date": 1524085342, "creation_date": 1524084375, "answer_id": 49908755, "question_id": 49908040, "link": "https://stackoverflow.com/questions/49908040/datetime-conversion-issue-from-localtime-to-utc-while-saving-in-db-on-published/49908755#49908755", "title": "DateTime Conversion Issue From LocalTime to UTC while saving in db on Published site", "body": "<p>Working with <code>DateTime</code>s is tricky and there are rules that you should follow to ensure that the system behaves as expected. </p>\n\n<ul>\n<li>Always transmit the UTC value of a <code>DateTime</code>.</li>\n<li>Always transmit the value of a <code>DateTime</code> using <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO8601</a> notation if the serialization of the instance occurs using a string representation. Sending <code>DateTime</code> using <code>json</code> or in a query string in a URL are both examples where this should be done.</li>\n<li>Always store <code>DateTime</code> instances using the UTC value.</li>\n<li>Always store <code>DateTime</code> instances using a native type in the persistence store (never as string).</li>\n<li>When sending <code>DateTime</code> values from the client convert to a UTC value as early as possible as the client \"knows\" about it's relevant time zone.</li>\n<li>When sending <code>DateTime</code> values from the server to the client convert to the local time zone as late as possible on the client as the client \"knows\" about it's relevant time zone.</li>\n<li>When displaying a <code>DateTime</code> value convert to a string (from <code>DateTime</code> type) as late as possible in the call stack (ie. it is a presentation layer concern best handled by the client).</li>\n<li>When sending a <code>DateTime</code> value from the client back to the server convert to a <code>DateTime</code> type as early as possible.</li>\n<li>When creating ado.net commands/queries (regardless of the underlying provider) always use parameters for all values and in the parameter: \n\n<ul>\n<li>specify the matching Db value type</li>\n<li>assign the native value (not the string representation)</li>\n<li>For <a href=\"/questions/tagged/sql-server\" class=\"post-tag\" title=\"show questions tagged &#39;sql-server&#39;\" rel=\"tag\"><img src=\"https://i.stack.imgur.com/gfrSH.png\" height=\"16\" width=\"18\" alt=\"\" class=\"sponsor-tag-img\">sql-server</a> specific example using <a href=\"/questions/tagged/c%23\" class=\"post-tag\" title=\"show questions tagged &#39;c#&#39;\" rel=\"tag\">c#</a> see <a href=\"https://stackoverflow.com/questions/35163361\">How can I add user-supplied input to an SQL statement?</a></li>\n</ul></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2947731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EvgpA.png?s=128&g=1", "display_name": "Saeed Al Hamed", "link": "https://stackoverflow.com/users/2947731/saeed-al-hamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1567332636, "creation_date": 1567332636, "answer_id": 57745077, "question_id": 49908040, "link": "https://stackoverflow.com/questions/49908040/datetime-conversion-issue-from-localtime-to-utc-while-saving-in-db-on-published/57745077#57745077", "title": "DateTime Conversion Issue From LocalTime to UTC while saving in db on Published site", "body": "<p>Use DateTime.UtcNow when saving data into db, on display convert it to the timezone you want to display datetime with, this is the main practice initially.</p>\n\n<p>example for displaying UTC datetime in Jordan timezone:</p>\n\n<pre><code>TimeZoneInfo timeZoneInfo = TimeZoneInfo.FindSystemTimeZoneById(\"Jordan Standard Time\");\nstring CreatedDate = TimeZoneInfo.ConvertTimeFromUtc(model.CreatedDate, timeZoneInfo).ToString(\"d/M/yyyy HH:mm:ss\")\n</code></pre>\n\n<p>model.CreatedDate is a UTC datetime from db.</p>\n"}], "owner": {"reputation": 11, "user_id": 9298722, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bujQJ74uTm8/AAAAAAAAAAI/AAAAAAAAAEY/s1c4Jd-0J7c/photo.jpg?sz=128", "display_name": "BILAL AHMAD", "link": "https://stackoverflow.com/users/9298722/bilal-ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567332636, "creation_date": 1524081462, "last_edit_date": 1524083066, "question_id": 49908040, "link": "https://stackoverflow.com/questions/49908040/datetime-conversion-issue-from-localtime-to-utc-while-saving-in-db-on-published", "title": "DateTime Conversion Issue From LocalTime to UTC while saving in db on Published site", "body": "<p>I am trying to save a <code>DateTime</code> to a database. </p>\n\n<p>When I run the code from my server machine and save the date to the db, it saves the <code>DateTime</code> correctly, but when I deploy the site to production, access it from my local machine, and try to save the same <code>DateTime</code>, then it changes it to a diferent date and time. I guess this may be due to diferent timezones on my machine and the server machine.</p>\n\n<p>I tried to convert the datetime to UTC but its not working:</p>\n\n<pre><code>DateTime OnlyStartDate = Convert.ToDateTime(app_date);\nDateTime NewStartDateTime = Convert.ToDateTime(\n    OnlyStartDate.Add(TimeSpan.Parse(appData.start.ToString(\"HH:mm:ss\"))));         \nstartTime = Convert.ToString(NewStartDateTime);\n</code></pre>\n\n<p>This is the query in which the variable startTime is passed, which saves the wrong time to the db:</p>\n\n<pre><code>query = \"Insert into [Appointments] Values('\" + loc_id + \"', '\" + appData.titleId + \n    \"', '\" + patiant_id + \"', '\" + app_date + \"', '\" + startTime + \"', '\" + endTime + \n    \"', '\" + appData.providerId + \"', 'enable', 'False', '\" + userEmail + \"', '\" + \n    DateTime.Now.ToString(\"yyyy-MM-dd HH:mm:ss\") + \"', '\" + userEmail + \"', '\" + \n    DateTime.Now.ToString(\"yyyy-MM-dd HH:mm:ss\") + \"', '\" + \n    appData.statusId + \"', '\" + appData.userId + \"','')\";\n\nDB.executeQuery(query);\n</code></pre>\n"}, {"tags": ["c#", "sockets", "asynchronous", "parallel-processing"], "comments": [{"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1524081703, "post_id": 49908019, "comment_id": 86832054, "body": "Yes, it is absolutely possible to handle sockets using async, but... it can be pretty complex. The <code>Socket</code> type actually has 2 complete async APIs (being/end, and socketasynceventargs), and <code>NetworkStream</code> has the async stream API. But... you can&#39;t just throw these in blindly. Async sockets are <i>really</i> quite hard to do short examples of. Note: parallel <i>is</i> an option, but doesn&#39;t scale very well unless you only have a handful of connections to worry about. If you have hundreds, thousands, etc : don&#39;t go &quot;parallel&quot; - go async"}], "answers": [{"tags": [], "owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "is_accepted": true, "score": 0, "last_activity_date": 1524081675, "creation_date": 1524081675, "answer_id": 49908112, "question_id": 49908019, "link": "https://stackoverflow.com/questions/49908019/asynchronous-tcp-socket-issue/49908112#49908112", "title": "Asynchronous TCP Socket Issue", "body": "<p>You can modify your code to be async:</p>\n\n<pre><code>public async Task&lt;T&gt; SendRequest&lt;T&gt;(IFrame request) where T : IFrame, new()\n{\n    var data = request.ToByteArray();\n\n    var stream = this.TCPConnection.GetStream();\n    await stream.WriteAsync(data, 0, data.Length);\n\n    data = new byte[this.BUFFER_SIZE];\n    var quantityBytes = await stream.ReadAsync(data, 0, data.Length);\n\n    var frameResponse = data.Take(quantityBytes).ToArray();\n\n    var response = new T\n    {\n        FrameHeader = frameResponse[0],\n        Lenght = frameResponse[1],\n        FunctionCode = frameResponse[2],\n        Data = (frameResponse[1] == 0) ? null : data.ToDataField(quantityBytes),\n        Checksum = frameResponse[frameResponse.Length - 1]\n    };\n\n    if(response.Checksum != response.VerifyChecksum())\n        throw new Exception(\"Err in Checksum!\");\n\n    return response;\n}\n</code></pre>\n\n<p>To call it use:</p>\n\n<pre><code>MyFrameResponseType response = await SendRequest(yourRequest);\n</code></pre>\n\n<p>Also, as a note, that code assumes you will receive a response with only one read, that will fail on a future, if the network is slow or the sent response is big enough it will be received in multiple read operations, you should have some mechanism to detect a frame start/end and read until you have received a full frame.</p>\n"}], "owner": {"reputation": 117, "user_id": 9665126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626485a375ec35207c132156048a60f2?s=128&d=identicon&r=PG", "display_name": "Victor Soares", "link": "https://stackoverflow.com/users/9665126/victor-soares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 49908112, "answer_count": 1, "score": 0, "last_activity_date": 1524083204, "creation_date": 1524081403, "last_edit_date": 1524083204, "question_id": 49908019, "link": "https://stackoverflow.com/questions/49908019/asynchronous-tcp-socket-issue", "title": "Asynchronous TCP Socket Issue", "body": "<p>Well, I need to connect to a TCP socket, however, it only accepts one connection at a time and has a 60 second timeout.</p>\n\n<p>The problem is that in the process of sending information and receiving a response, the application is not performative.</p>\n\n<p>I would like to know, if in this case, it is possible to do something asynchronous/parallel.</p>\n\n<p>Below is my socket client class.</p>\n\n<pre><code>public class TcpSocketClient\n{\n    public TcpClient TCPConnection { get; private set; }\n\n    private int BUFFER_SIZE = 259;\n\n    public TcpSocketClient Connect(IPEndPoint endpoint)\n    {\n        try\n        {\n            this.TCPConnection = new TcpClient(endpoint);\n            return this;\n        }\n        catch (SocketException ex)\n        {\n            throw new Exception($\"{ex.Message} - {ex.StackTrace}\");\n        }\n        catch (Exception ex)\n        {\n            throw new Exception($\"Err: {ex.Message} - {ex.StackTrace}\");\n        }\n    }\n\n    public T SendRequest&lt;T&gt;(IFrame request) where T : IFrame, new()\n    {\n        var data = request.ToByteArray();\n\n        var stream = this.TCPConnection.GetStream();\n        stream.Write(data, 0, data.Length);\n\n        data = new byte[this.BUFFER_SIZE];\n        var quantityBytes = stream.Read(data, 0, data.Length);\n\n        var frameResponse = data.Take(quantityBytes).ToArray();\n\n        var response = new T\n        {\n            FrameHeader = frameResponse[0],\n            Lenght = frameResponse[1],\n            FunctionCode = frameResponse[2],\n            Data = (frameResponse[1] == 0) ? null : data.ToDataField(quantityBytes),\n            Checksum = frameResponse[frameResponse.Length - 1]\n        };\n\n        (response.Checksum != response.VerifyChecksum()) { throw new Exception(\"Err in Checksum!\"); }\n\n        return response;\n    }\n\n    public void Disconnect()\n    {\n        this.TCPConnection.Dispose();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "itext", "pdf-generation"], "comments": [{"owner": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 1, "creation_date": 1524125926, "post_id": 49907865, "comment_id": 86847636, "body": "iText QA here. I disagree with the close vote. The question is very clear and contains code examples. The answers are also very high quality. I am marking the question as favorite and will come back to it later. Being a Linux guy myself, I don&#39;t have a lot of experience with performance monitoring in Windows, but I&#39;ll port the code to Java and see how it behaves on Linux. I may ask additional questions in the comments."}, {"owner": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1524125981, "post_id": 49907865, "comment_id": 86847669, "body": "First question: how exactly did you measure memory usage?"}, {"owner": {"reputation": 70840, "user_id": 1622493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7S0d.jpg?s=128&g=1", "display_name": "Bruno Lowagie", "link": "https://stackoverflow.com/users/1622493/bruno-lowagie"}, "edited": false, "score": 0, "creation_date": 1524141042, "post_id": 49907865, "comment_id": 86857818, "body": "If this question gets closed, please let me know so that I can vote to reopen it. I agree with Amedee&#39;s comment: good question."}, {"owner": {"reputation": 344, "user_id": 3746936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EvnnZ.png?s=128&g=1", "display_name": "sillo01", "link": "https://stackoverflow.com/users/3746936/sillo01"}, "reply_to_user": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1525216911, "post_id": 49907865, "comment_id": 87268327, "body": "I ported the code to Java and the memory consumption is about the same. More than 1000MB for a 500 pages document with two images per page. @AmedeeVanGasse"}, {"owner": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1525241029, "post_id": 49907865, "comment_id": 87273828, "body": "I haven&#39;t had the time for it yet, but I haven&#39;t forgotten about it."}], "answers": [{"comments": [{"owner": {"reputation": 344, "user_id": 3746936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EvnnZ.png?s=128&g=1", "display_name": "sillo01", "link": "https://stackoverflow.com/users/3746936/sillo01"}, "edited": false, "score": 0, "creation_date": 1524083344, "post_id": 49908117, "comment_id": 86832906, "body": "Not working. Also tried with no difference:  bool immediateFlush = true; new Canvas(canvas, pdf, pageSize, immediateFlush)                         .Add(img);"}, {"owner": {"reputation": 612, "user_id": 1517392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MIxU7.jpg?s=128&g=1", "display_name": "Yaroslav Veremenko", "link": "https://stackoverflow.com/users/1517392/yaroslav-veremenko"}, "reply_to_user": {"reputation": 344, "user_id": 3746936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EvnnZ.png?s=128&g=1", "display_name": "sillo01", "link": "https://stackoverflow.com/users/3746936/sillo01"}, "edited": false, "score": 0, "creation_date": 1524086072, "post_id": 49908117, "comment_id": 86834115, "body": "@sillo01 let me know if it works for you, I am kind of curious now"}, {"owner": {"reputation": 344, "user_id": 3746936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EvnnZ.png?s=128&g=1", "display_name": "sillo01", "link": "https://stackoverflow.com/users/3746936/sillo01"}, "edited": false, "score": 0, "creation_date": 1524088507, "post_id": 49908117, "comment_id": 86835125, "body": "Memory usage looks proportional to the pages/images added. I will let you the results following the update."}, {"owner": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 0, "creation_date": 1524126061, "post_id": 49908117, "comment_id": 86847715, "body": "How exactly did you measure memory usage?"}, {"owner": {"reputation": 612, "user_id": 1517392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MIxU7.jpg?s=128&g=1", "display_name": "Yaroslav Veremenko", "link": "https://stackoverflow.com/users/1517392/yaroslav-veremenko"}, "reply_to_user": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 1, "creation_date": 1524146872, "post_id": 49908117, "comment_id": 86862007, "body": "@AmedeeVanGasse I was using dotMemory"}], "tags": [], "owner": {"reputation": 612, "user_id": 1517392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MIxU7.jpg?s=128&g=1", "display_name": "Yaroslav Veremenko", "link": "https://stackoverflow.com/users/1517392/yaroslav-veremenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1524089551, "last_edit_date": 1524089551, "creation_date": 1524081693, "answer_id": 49908117, "question_id": 49907865, "link": "https://stackoverflow.com/questions/49907865/why-itext7-for-net-uses-much-more-memory-than-itextsharp5/49908117#49908117", "title": "Why itext7 for .NET uses (much) more memory than itextsharp5?", "body": "<p>I am not familiar with the library, but it could be <code>PdfCanvas</code> and <code>Canvas</code> objects not being destroyed after being used, and sitting in the memory until the document is destroyed. \nAccording to the documentation you must release the memory after drawing the chart.</p>\n\n<blockquote>\n  <p>Make sure to call PdfCanvas.release() after you finished writing to\n  the canvas.</p>\n</blockquote>\n\n<p>Source: <a href=\"https://github.com/itext/itext7-dotnet/blob/dd5c209cff35c137ed451fef6e11a96889a52fe9/itext/itext.kernel/itext/kernel/pdf/canvas/PdfCanvas.cs#L69\" rel=\"nofollow noreferrer\">https://github.com/itext/itext7-dotnet/blob/dd5c209cff35c137ed451fef6e11a96889a52fe9/itext/itext.kernel/itext/kernel/pdf/canvas/PdfCanvas.cs#L69</a></p>\n\n<p><strong>UPD</strong></p>\n\n<p>I just ran it locally. In my example I had peak on 500MB. After I added:</p>\n\n<pre><code>page.Flush(true);\n</code></pre>\n\n<p>It dropped to 250MB.</p>\n\n<p><em>Reference: <a href=\"http://itextsupport.com/apidocs/itext7/7.0.2/com/itextpdf/kernel/pdf/PdfPage.html#flush-boolean-\" rel=\"nofollow noreferrer\">http://itextsupport.com/apidocs/itext7/7.0.2/com/itextpdf/kernel/pdf/PdfPage.html#flush-boolean-</a></em></p>\n\n<p><strong>UPD2</strong></p>\n\n<p>Memory usage with and without <code>page.Flush(true)</code></p>\n\n<pre><code>    foreach (var chart in Enumerable.Range(0, 10))\n    {\n        canvas = new PdfCanvas(page, true);\n        imgd = ImageDataFactory.Create((byte[])converter.ConvertTo(data, typeof(byte[])));\n        img = new iText.Layout.Element.Image(imgd, left, bottom);\n        img.ScaleAbsolute(width, heigth);\n        new Canvas(canvas, pdf, pageSize)\n            .Add(img);\n        // this line has been added\n        page.Flush(true);\n        page = pdf.AddNewPage();\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Z8Htu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z8Htu.png\" alt=\"graph\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 612, "user_id": 1517392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MIxU7.jpg?s=128&g=1", "display_name": "Yaroslav Veremenko", "link": "https://stackoverflow.com/users/1517392/yaroslav-veremenko"}, "edited": false, "score": 1, "creation_date": 1524086891, "post_id": 49909187, "comment_id": 86834447, "body": "I still think that <code>PdfCanvas</code> should be released manually as per documentation, event if GC can do it later. It would not hurt, anyway. As per my answer, the biggest memory usage was keeping the whole document in the memory. After flushing the page to the disk by <code>page.Flush(true)</code>, memory usage dropped at least in half."}, {"owner": {"reputation": 2599, "user_id": 6574422, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Gkbt4.jpg?s=128&g=1", "display_name": "Kitson88", "link": "https://stackoverflow.com/users/6574422/kitson88"}, "reply_to_user": {"reputation": 612, "user_id": 1517392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MIxU7.jpg?s=128&g=1", "display_name": "Yaroslav Veremenko", "link": "https://stackoverflow.com/users/1517392/yaroslav-veremenko"}, "edited": false, "score": 0, "creation_date": 1524087822, "post_id": 49909187, "comment_id": 86834846, "body": "Do you mean <code>Release()</code> for <code>PdfCanvas</code>? If so then yeah, it may help...my biggest concern was the instantiation of the new object  (<code>Canvas</code>) which duplicated memory along with not calling <code>Dispose()</code> on the <code>PdfWriter</code> which holds the entire document. That right there should make a huge saving."}, {"owner": {"reputation": 344, "user_id": 3746936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EvnnZ.png?s=128&g=1", "display_name": "sillo01", "link": "https://stackoverflow.com/users/3746936/sillo01"}, "edited": false, "score": 0, "creation_date": 1524090153, "post_id": 49909187, "comment_id": 86835677, "body": "Using page.Flush(true) makes significant improvement on memory usage. However itextsharp performs much better for me."}], "tags": [], "owner": {"reputation": 2599, "user_id": 6574422, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Gkbt4.jpg?s=128&g=1", "display_name": "Kitson88", "link": "https://stackoverflow.com/users/6574422/kitson88"}, "is_accepted": false, "score": 1, "last_activity_date": 1524086761, "last_edit_date": 1524086761, "creation_date": 1524086442, "answer_id": 49909187, "question_id": 49907865, "link": "https://stackoverflow.com/questions/49907865/why-itext7-for-net-uses-much-more-memory-than-itextsharp5/49909187#49909187", "title": "Why itext7 for .NET uses (much) more memory than itextsharp5?", "body": "<p>The big one would be to wrap <code>PdfWriter</code> in a <code>using</code> as this implements <code>IDisposable</code> for a reason and should help hugely when used in parallel. I've also removed the instantiation of <code>Canvas</code> as it seems unnecessary and wasteful when your existing <code>PdfCanvas</code> object can do the same thing. Also, I've moved your fields into the <code>Foreach</code> scope so they have a higher chance of collection by the GC.</p>\n\n<pre><code>using (var fs = new FileStream(path, FileMode.Create, FileAccess.Write))\n{\n    using (PdfWriter writer = new PdfWriter(fs)) //**Implements IDisposable - This should help hugely when used in Parallel**\n    {\n         var pdf = new PdfDocument(writer);\n         var pageSize = PageSize.LETTER;\n         var document = new Document(pdf);\n\n          foreach (var chart in data)\n          {\n             var page = pdf.AddNewPage(); //When it get's reassigned on the next iteration, Garbage collection will take over\n             PdfCanvas canvas = new PdfCanvas(page, true); //When it get's reassigned on the next iteration, Garbage collection will take over\n             canvas.AddImage(ImageDataFactory.Create(chart.ImageBytes), pageSize, false); //1x Less Object in Memory but you will need to play around with params for precision.\n             chart.DestroyImage();\n          }\n\n          document.Close();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 344, "user_id": 3746936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EvnnZ.png?s=128&g=1", "display_name": "sillo01", "link": "https://stackoverflow.com/users/3746936/sillo01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 854, "favorite_count": 1, "accepted_answer_id": 49908117, "answer_count": 2, "score": 3, "last_activity_date": 1524152228, "creation_date": 1524080777, "last_edit_date": 1524152228, "question_id": 49907865, "link": "https://stackoverflow.com/questions/49907865/why-itext7-for-net-uses-much-more-memory-than-itextsharp5", "title": "Why itext7 for .NET uses (much) more memory than itextsharp5?", "body": "<p>I am using itext for generating PDFs on a .NET environmet. Trying to optimize execution time I am migrating from itextsharp  5.5.13 to itext 7.1.1 for .NET.</p>\n\n<p>The generated PDF consist mainly on images. I generate documents on parallel with multi threading.</p>\n\n<p>itext7 seems faster but memory usage is much higher. Since I am generating more than one document at the same time I run out of memory.</p>\n\n<p>I ran a simple test with the same input data and the output file is 5 MB. Below is my code for both versions of the library. It is something wrong with my code?</p>\n\n<p><strong>itextsharp 5</strong></p>\n\n<p>Time: 1:18, RAM: peak 173MB an then steady around 65MB</p>\n\n<pre><code>public string GenerateImagesReport(IEnumerable&lt;IChartData&gt; data, string basename)\n    {\n        var doc = PdfUtility.CreateDoc();\n\n        string path = Shared.BuildPdfPath(basename);\n        using (var fs = new FileStream(path, FileMode.Create, FileAccess.Write))\n        {\n            PdfWriter writer = PdfWriter.GetInstance(doc, fs);\n\n            float left = 30f;\n            float bottom = PdfUtility.GetYPosition(ReportElem.Chart2);\n            float width = PdfUtility.CHART_WIDTH;\n            float heigth = PdfUtility.CHART_hEIGTH * 2 + PdfUtility.V_SPACE1 + PdfUtility.V_SPACE2 + PdfUtility.GROUP_BY;\n\n            doc.NewPage();\n            doc.Open();\n            PdfTemplate ImageTemplate;\n            PdfContentByte cb = writer.DirectContent;\n            Image img;\n            foreach (var chart in data)\n            {\n                // chart image\n                ImageTemplate = cb.CreateTemplate(width, heigth);\n                img = Image.GetInstance(chart.ImageBytes, true);\n                img.ScaleAbsolute(width, heigth);\n                img.SetAbsolutePosition(0, 0);\n                ImageTemplate.AddImage(img);\n\n                cb.AddTemplate(ImageTemplate, left, bottom);\n\n                chart.DestroyImage();\n                doc.NewPage();\n            }\n            doc.Close();\n        }\n\n        return path;\n    }\n</code></pre>\n\n<p><strong>itext 7</strong></p>\n\n<p>Time: 1:09, RAM: peak 753MB steady to the end</p>\n\n<pre><code>public string GenerateImagesReport(IEnumerable&lt;IChartData&gt; data, string basename)\n    {\n        string path = Shared.BuildPdfPath(basename);\n        using (var fs = new FileStream(path, FileMode.Create, FileAccess.Write))\n        {\n            PdfWriter writer = new PdfWriter(fs);\n            var pdf = new PdfDocument(writer);\n            var pageSize = PageSize.LETTER;\n            var doc = new Document(pdf, pageSize);\n\n            float left = 30f;\n            float bottom = PdfUtility.GetYPosition(ReportElem.Chart2);\n            float width = PdfUtility.CHART_WIDTH;\n            float heigth = PdfUtility.CHART_hEIGTH * 2 + PdfUtility.V_SPACE1 + PdfUtility.V_SPACE2 + PdfUtility.GROUP_BY;\n\n            PdfPage page;\n            PdfCanvas canvas;\n            ImageData imgd;\n            Image img;\n            page = pdf.AddNewPage();\n            foreach (var chart in data)\n            {\n                canvas = new PdfCanvas(page, true);\n\n                imgd = ImageDataFactory.Create(chart.ImageBytes);\n                img = new Image(imgd, left, bottom);\n                img.ScaleAbsolute(width, heigth);\n\n                new Canvas(canvas, pdf, pageSize)\n                    .Add(img);\n\n                chart.DestroyImage();\n                page = pdf.AddNewPage();\n            }\n\n            doc.Close();\n        }\n\n        return path;\n    }\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>I am using Visual Studio Profiler to monitor memory usage. Following Yaroslav Veremenko input, I am seeing an improvement on memory usage. Different chart have marked when the actual process of generating pdf starts.</p>\n\n<p><em>with itextsharp 0:43</em>\n<a href=\"https://i.stack.imgur.com/b0y7E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b0y7E.png\" alt=\"itextsharp memory usage\"></a></p>\n\n<p><em>with itext7 0:26</em>\n<a href=\"https://i.stack.imgur.com/64eJ0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/64eJ0.png\" alt=\"itext7 memory usage\"></a></p>\n\n<p><em>with itext7 - page.Flush() 0:42</em>\n<a href=\"https://i.stack.imgur.com/BaeGa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BaeGa.png\" alt=\"itext7 memory usage 2\"></a></p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms"], "comments": [{"owner": {"reputation": 303, "user_id": 5734527, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-paQKgcBL-Cw/AAAAAAAAAAI/AAAAAAAAAPE/qjeuFUnDLOg/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0442\u0451\u043c \u0422\u0438\u0449\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/5734527/%d0%90%d1%80%d1%82%d1%91%d0%bc-%d0%a2%d0%b8%d1%89%d0%b5%d0%bd%d0%ba%d0%be"}, "edited": false, "score": 0, "creation_date": 1524086108, "post_id": 49907862, "comment_id": 86834126, "body": "Can you show build log, please"}, {"owner": {"reputation": 4560, "user_id": 8093394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-rAl_keJkKAM/AAAAAAAAAAI/AAAAAAAAl0o/Y2pvHWTFzBM/photo.jpg?sz=128", "display_name": "Diego Rafael Souza", "link": "https://stackoverflow.com/users/8093394/diego-rafael-souza"}, "edited": false, "score": 0, "creation_date": 1524093901, "post_id": 49907862, "comment_id": 86836727, "body": "What non default you have in <code>App. Xaml</code>?"}, {"owner": {"reputation": 133, "user_id": 9612777, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qb6R3BYai3g/AAAAAAAAAAI/AAAAAAAAAYM/zuKWtIaNeSo/photo.jpg?sz=128", "display_name": "Thor Giversen", "link": "https://stackoverflow.com/users/9612777/thor-giversen"}, "edited": false, "score": 0, "creation_date": 1524140165, "post_id": 49907862, "comment_id": 86857258, "body": "Apt&#235;m : I don&#180;t think i have acces to a build log because i am using xamarin liveplayer.  Diego: Not sure what you mean, could you clarify or point to some resource that explains what you are referring to ?"}], "owner": {"reputation": 133, "user_id": 9612777, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qb6R3BYai3g/AAAAAAAAAAI/AAAAAAAAAYM/zuKWtIaNeSo/photo.jpg?sz=128", "display_name": "Thor Giversen", "link": "https://stackoverflow.com/users/9612777/thor-giversen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1524081164, "creation_date": 1524080771, "last_edit_date": 1524081164, "question_id": 49907862, "link": "https://stackoverflow.com/questions/49907862/several-build-errors-on-xamarin-forms-project-problems-with-csproj-and-more", "title": "Several build errors on xamarin.forms project (problems with .csproj and more)", "body": "<p>I get the errors displayed in the image when trying to compile my Xamarin.Forms project. The problems started after i moved some files into a folder and deleted a couple of files. \nI have found several posts concerning somewhat similar issues and have tried the suggested fixes. Therefore i have checked references, unloaded and loaded he project, cleaned the code, and i even made a brand new project and manually migrated all my code from my original project to the new one. However the problems persist. </p>\n\n<p>Any help fixing this would be much appreciated. </p>\n\n<p>ps.  Since App.Delegate.cs and Spellbook.csproj is the only named files that is the only ones i have included. I will be happy to provide anything else that can help solve this issue.</p>\n\n<p>App.Delegate.cs code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\nusing Foundation;\nusing UIKit;\nusing SpellBook;\n\nnamespace SpellBook.iOS\n{\n// The UIApplicationDelegate for the application. This class is responsible for launching the \n// User Interface of the application, as well as listening (and optionally responding) to \n// application events from iOS.\n[Register(\"AppDelegate\")]\npublic partial class AppDelegate : \nglobal::Xamarin.Forms.Platform.iOS.FormsApplicationDelegate\n{\n    //\n    // This method is invoked when the application has loaded and is ready to run. In this \n    // method you should instantiate the window, load the UI into it and \nthen make the window\n    // visible.\n    //\n    // You have 17 seconds to return from this method, or iOS will terminate your application.\n    //\n    public override bool FinishedLaunching(UIApplication app, NSDictionary \noptions)\n    {\n        global::Xamarin.Forms.Forms.Init();\n        LoadApplication(new App());\n\n        return base.FinishedLaunching(app, options);\n    }\n    }\n}\n</code></pre>\n\n<p>Spellbook.csproj content:</p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n\n      &lt;PropertyGroup&gt;\n        &lt;TargetFramework&gt;netstandard2.0&lt;/TargetFramework&gt;\n      &lt;/PropertyGroup&gt;\n\n      &lt;ItemGroup&gt;\n        &lt;PackageReference Include=\"Newtonsoft.Json\" Version=\"11.0.2\" /&gt;\n        &lt;PackageReference Include=\"Xamarin.Forms\" Version=\"2.5.1.444934\" /&gt;\n          &lt;/ItemGroup&gt;\n\n      &lt;ItemGroup&gt;\n        &lt;Compile Condition=\" '$(EnableDefaultCompileItems)' == 'true' \" \n    Update=\"App.xaml.cs\"&gt;\n      &lt;DependentUpon&gt;*.xaml&lt;/DependentUpon&gt;\n    &lt;/Compile&gt;\n   &lt;/ItemGroup&gt;\n\n  &lt;ItemGroup&gt;\n    &lt;EmbeddedResource Update=\"Views\\CharacterPage.xaml\"&gt;\n      &lt;Generator&gt;MSBuild:UpdateDesignTimeXaml&lt;/Generator&gt;\n    &lt;/EmbeddedResource&gt;\n    &lt;EmbeddedResource Update=\"Views\\CurrentSpells.xaml\"&gt;\n      &lt;Generator&gt;MSBuild:UpdateDesignTimeXaml&lt;/Generator&gt;\n    &lt;/EmbeddedResource&gt;\n    &lt;EmbeddedResource Update=\"Views\\MainPage.xaml\"&gt;\n      &lt;Generator&gt;MSBuild:UpdateDesignTimeXaml&lt;/Generator&gt;\n    &lt;/EmbeddedResource&gt;\n    &lt;EmbeddedResource Update=\"Views\\SpellList.xaml\"&gt;\n      &lt;Generator&gt;MSBuild:UpdateDesignTimeXaml&lt;/Generator&gt;\n    &lt;/EmbeddedResource&gt;\n  &lt;/ItemGroup&gt;\n    &lt;/Project&gt;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/LgQBz.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["c#", "asp.net-mvc", "validation"], "comments": [{"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1524080842, "post_id": 49907858, "comment_id": 86831589, "body": "it&#39;s not clear what you want :("}, {"owner": {"reputation": 187, "user_id": 6126281, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7a28d9261efe99fae65f5bcc0dd55abd?s=128&d=identicon&r=PG&f=1", "display_name": "zm10", "link": "https://stackoverflow.com/users/6126281/zm10"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1524081435, "post_id": 49907858, "comment_id": 86831928, "body": "sorry, not being clear, i just updated the last paragraph to be more clear :), Just an fyi, currently my function works but it fails if user enters any html tag in their input but i want to allow user to be able to use some html tags, and for that i created array where i can define html tags which user can enter"}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1524081860, "post_id": 49907858, "comment_id": 86832128, "body": "Wait....isn&#39;t it an obvious behaviour ? Just don&#39;t include the html tags that you don&#39;t want :)"}, {"owner": {"reputation": 187, "user_id": 6126281, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7a28d9261efe99fae65f5bcc0dd55abd?s=128&d=identicon&r=PG&f=1", "display_name": "zm10", "link": "https://stackoverflow.com/users/6126281/zm10"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1524082269, "post_id": 49907858, "comment_id": 86832346, "body": "Yes that&#39;s what i&#39;m doing but the problem is in this check !RequestValidator.Current.InvokeIsValidRequestString it fails so i&#39;m asking how can i whitelist some tags so this validation check does&#39;nt fail"}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1524082786, "post_id": 49907858, "comment_id": 86832626, "body": "Firstly, i don&#39;t see where you are looping through the array...Secondly, the behaviour is normal .... i guess you should try looping through the list"}, {"owner": {"reputation": 187, "user_id": 6126281, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7a28d9261efe99fae65f5bcc0dd55abd?s=128&d=identicon&r=PG&f=1", "display_name": "zm10", "link": "https://stackoverflow.com/users/6126281/zm10"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1524082982, "post_id": 49907858, "comment_id": 86832719, "body": "Yes, You&#39;re right, i can loop through the array and replace all the allowed tags with empty string so that the validation check does&#39;nt fail but i was looking for the out of the box functionality if there is so i dont have to hack it around..."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1524083056, "post_id": 49907858, "comment_id": 86832753, "body": "yes...there&#39;s always a way , why don&#39;t u use <code>linQ</code> ?"}, {"owner": {"reputation": 187, "user_id": 6126281, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7a28d9261efe99fae65f5bcc0dd55abd?s=128&d=identicon&r=PG&f=1", "display_name": "zm10", "link": "https://stackoverflow.com/users/6126281/zm10"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1524083204, "post_id": 49907858, "comment_id": 86832835, "body": "I&#39;m sorry if i sound stupid what Linq would provide in here and would allow us to ignore the validation fail if there&#39;s specific tag ?"}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1524083243, "post_id": 49907858, "comment_id": 86832853, "body": "I will post an answer in a minute :)"}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 6126281, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7a28d9261efe99fae65f5bcc0dd55abd?s=128&d=identicon&r=PG&f=1", "display_name": "zm10", "link": "https://stackoverflow.com/users/6126281/zm10"}, "edited": false, "score": 0, "creation_date": 1524085985, "post_id": 49908533, "comment_id": 86834077, "body": "Thanks for suggesting using LINQ, but it looks to me i was not able to clarify my requirement. The issue is not looping over the array, issue is how to whitelist the specific tags, so if i use your logic it would only succeed if input contains the tags from array but as i said earlier it would not work(which is wrong) when input contains plain text."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "reply_to_user": {"reputation": 187, "user_id": 6126281, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7a28d9261efe99fae65f5bcc0dd55abd?s=128&d=identicon&r=PG&f=1", "display_name": "zm10", "link": "https://stackoverflow.com/users/6126281/zm10"}, "edited": false, "score": 0, "creation_date": 1524086110, "post_id": 49908533, "comment_id": 86834128, "body": "@zubairm , I really don&#39;t get it ...... what do you mean by plain text here ?? If input contains string that exists in list , my code will check it ...what&#39;s wrong with it ?"}, {"owner": {"reputation": 187, "user_id": 6126281, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7a28d9261efe99fae65f5bcc0dd55abd?s=128&d=identicon&r=PG&f=1", "display_name": "zm10", "link": "https://stackoverflow.com/users/6126281/zm10"}, "edited": false, "score": 0, "creation_date": 1524086596, "post_id": 49908533, "comment_id": 86834328, "body": "stupid me, let me try to explain again :( validator should only pass if input is :  &quot;hello world&quot; or  &quot;&lt;strong&gt;hello world&lt;/strong&gt;&quot;, so if i use your check it would only pass when input contains list item but not if it does&#39;nt contain any list item , like for this input &quot;hello world&quot; ??"}, {"owner": {"reputation": 187, "user_id": 6126281, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7a28d9261efe99fae65f5bcc0dd55abd?s=128&d=identicon&r=PG&f=1", "display_name": "zm10", "link": "https://stackoverflow.com/users/6126281/zm10"}, "edited": false, "score": 0, "creation_date": 1524086698, "post_id": 49908533, "comment_id": 86834360, "body": "and even if it passes the validator check would still fail?? !RequestValidator.Current.InvokeIsValidRequestString(null, str, RequestValidationSource.Form, null, out int index))"}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "reply_to_user": {"reputation": 187, "user_id": 6126281, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7a28d9261efe99fae65f5bcc0dd55abd?s=128&d=identicon&r=PG&f=1", "display_name": "zm10", "link": "https://stackoverflow.com/users/6126281/zm10"}, "edited": false, "score": 0, "creation_date": 1524086786, "post_id": 49908533, "comment_id": 86834396, "body": "@zubairm , re-check my code and mark it as the answer please :)"}, {"owner": {"reputation": 187, "user_id": 6126281, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7a28d9261efe99fae65f5bcc0dd55abd?s=128&d=identicon&r=PG&f=1", "display_name": "zm10", "link": "https://stackoverflow.com/users/6126281/zm10"}, "edited": false, "score": 0, "creation_date": 1524094192, "post_id": 49908533, "comment_id": 86836806, "body": "Thanks for helping in understanding LINQ"}, {"owner": {"reputation": 187, "user_id": 6126281, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7a28d9261efe99fae65f5bcc0dd55abd?s=128&d=identicon&r=PG&f=1", "display_name": "zm10", "link": "https://stackoverflow.com/users/6126281/zm10"}, "edited": false, "score": 0, "creation_date": 1524094652, "post_id": 49908533, "comment_id": 86836944, "body": "No unfortunately :("}, {"owner": {"reputation": 187, "user_id": 6126281, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7a28d9261efe99fae65f5bcc0dd55abd?s=128&d=identicon&r=PG&f=1", "display_name": "zm10", "link": "https://stackoverflow.com/users/6126281/zm10"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1524094709, "post_id": 49908533, "comment_id": 86836959, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/169284/discussion-between-zubairm-and-zack-raiyan\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "is_accepted": false, "score": 0, "last_activity_date": 1524086766, "last_edit_date": 1524086766, "creation_date": 1524083440, "answer_id": 49908533, "question_id": 49907858, "link": "https://stackoverflow.com/questions/49907858/how-to-whitelist-html-tags-in-asp-net-validationattribute/49908533#49908533", "title": "How to whitelist html tags in Asp.net ValidationAttribute", "body": "<p>Just use <code>LINQ</code> to loop through the list :</p>\n\n<pre><code>  bool contains = list.Any(x =&gt; mystring.Contains(x));\n\n  if (contains == true)\n   {\n     ////codes here \n\n   }\n   else\n    {\n     ////if not in list\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 374, "user_id": 426759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84adbaf46a8589f359c9f2150383d7ac?s=128&d=identicon&r=PG", "display_name": "love2code", "link": "https://stackoverflow.com/users/426759/love2code"}, "edited": false, "score": 0, "creation_date": 1582766840, "post_id": 49914276, "comment_id": 106894084, "body": "This doesn&#39;t work for this kind of strings   &lt;a href=&#39;www.google.com&#39;&gt;www.google.com&lt;/a&gt;  and whitelisting a element"}], "tags": [], "owner": {"reputation": 21059, "user_id": 472434, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dc8e4969da6f6390324dce670ffc7597?s=128&d=identicon&r=PG", "display_name": "Christoph Fink", "link": "https://stackoverflow.com/users/472434/christoph-fink"}, "is_accepted": false, "score": 1, "last_activity_date": 1524119853, "creation_date": 1524119853, "answer_id": 49914276, "question_id": 49907858, "link": "https://stackoverflow.com/questions/49907858/how-to-whitelist-html-tags-in-asp-net-validationattribute/49914276#49914276", "title": "How to whitelist html tags in Asp.net ValidationAttribute", "body": "<p>I think using RegEx should be faster and more convenient than normal string operations or replacing all white-listed tags:</p>\n\n<pre><code>public sealed class WhiteListAttribute : ValidationAttribute\n{\n    public static bool EnableWhiteListTags { get; set; }\n    private static List&lt;string&gt; whitelistTags = new List&lt;string&gt;() { \"strong\" };\n    private static Regex regex = new Regex(\"(&lt;/?([^&gt;/]*)/?&gt;)\");\n\n    protected override ValidationResult IsValid(object value, ValidationContext validationContext)\n    {\n        string str = (string)value;\n\n        if (str != null &amp;&amp; \n            ((!EnableWhiteListTags &amp;&amp;\n            !RequestValidator.Current.InvokeIsValidRequestString(null, str, RequestValidationSource.Form, null, out int index)) ||\n            (EnableWhiteListTags &amp;&amp; !AllTagsValid(str))))\n        {\n            return new ValidationResult($\"A potentially dangerous value was detected from request {validationContext.Name}: {str}\");\n        }\n\n        return ValidationResult.Success;\n    }\n\n    private static bool AllTagsValid(string input)\n    {\n        var matches = regex.Matches(input);\n        var tags = matches.OfType&lt;Match&gt;().Select(m =&gt; m.Groups[2].Value);\n        return tags.All(t =&gt; whitelistTags.Contains(t.Trim()));\n    }\n}\n</code></pre>\n\n<p>Here I get a list of all tags via regex and then check if the tag is in the white-list. The group at <code>m.Groups[2]</code> always contains the tag name incl. all attributes but no opening or closing <code>&lt;</code>, <code>&gt;</code> or <code>/</code>. See <a href=\"https://dotnetfiddle.net/ChrqcD\" rel=\"nofollow noreferrer\">HERE</a> for a short example.</p>\n"}], "owner": {"reputation": 187, "user_id": 6126281, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7a28d9261efe99fae65f5bcc0dd55abd?s=128&d=identicon&r=PG&f=1", "display_name": "zm10", "link": "https://stackoverflow.com/users/6126281/zm10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1524119853, "creation_date": 1524080739, "last_edit_date": 1524081285, "question_id": 49907858, "link": "https://stackoverflow.com/questions/49907858/how-to-whitelist-html-tags-in-asp-net-validationattribute", "title": "How to whitelist html tags in Asp.net ValidationAttribute", "body": "<p>I'm using Asp.net \"ValidationAttribute\" to validate user input, Currently i throw error if user enters any html tags like <code>&lt;html&gt;,&lt;h1&gt;,&lt;div&gt;</code> etc etc but i want to whitelist few tags and do not want to throw error if user enters input with some tags like following should not fail.</p>\n\n<pre><code>&lt;strong&gt; hello world &lt;/strong&gt;\n&lt;p&gt;hello &lt;/p&gt;\n</code></pre>\n\n<p>but the following should fail since it's <code>div</code> not in whitelist tags array above</p>\n\n<pre><code>&lt;div&gt;hello&lt;/div&gt; \n</code></pre>\n\n<p>Current implementation:</p>\n\n<pre><code>public sealed class WhiteListAttribute : ValidationAttribute\n{\n    public static bool EnableWhiteListTags { get; set; }\n    private static string[] whitelistTags = new[] { \"strong\" };\n\n    protected override ValidationResult IsValid(object value, ValidationContext validationContext)\n    {\n        string str = (string)value;\n\n        if (str != null &amp;&amp; \n            !EnableWhiteListTags &amp;&amp;\n            !RequestValidator.Current.InvokeIsValidRequestString(null, str, RequestValidationSource.Form, null, out int index))\n        {\n            return new ValidationResult($\"A potentially dangerous value was detected from request {validationContext.Name}: {str}\");\n        }\n\n        return ValidationResult.Success;\n    }\n}\n</code></pre>\n\n<p>How can i allow user to enter only specific html tags which i defined in my array <code>private static string[] whitelistTags = new[] { \"strong\" };</code>, so let's say if user enters any text which has html (<code>&lt;strong&gt;</code>) tag , validation should not fail but if user enters any other text with html tags like (<code>&lt;div&gt;, &lt;p&gt;</code>) etc , it should fail as it does currently</p>\n"}, {"tags": ["c#", "wpf"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 9638185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b0fabd5440e0a3ef5436a028bdb161?s=128&d=identicon&r=PG&f=1", "display_name": "maffoo", "link": "https://stackoverflow.com/users/9638185/maffoo"}, "edited": false, "score": 0, "creation_date": 1524087003, "post_id": 49908173, "comment_id": 86834514, "body": "Great idea. I&#39;ve just had a go at this. However, I think I&#39;m struggling to refer to the existing merged dictionary. How do I get a reference to the English dictionary I added in App.xaml? .Remove( ??? );"}, {"owner": {"reputation": 37, "user_id": 9638185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b0fabd5440e0a3ef5436a028bdb161?s=128&d=identicon&r=PG&f=1", "display_name": "maffoo", "link": "https://stackoverflow.com/users/9638185/maffoo"}, "edited": false, "score": 0, "creation_date": 1524173403, "post_id": 49908173, "comment_id": 86876999, "body": "Ok, so I&#39;ve used your example above (tweaked for my app). I&#39;m now getting resource errors saying that none of the resources defined in the resource file that is loaded can be found. I am certain that the merged dictionary exists at the end of the method as I have called your foreach loop again and my english.xaml is there. However, any reference to the string resource names either within the code - FindResource(&quot;t-hellowelcome&quot;) - or within the XAML - {DynamicResource t-close} - cannot find the resource. Am I missing something really obvious?"}, {"owner": {"reputation": 37, "user_id": 9638185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b0fabd5440e0a3ef5436a028bdb161?s=128&d=identicon&r=PG&f=1", "display_name": "maffoo", "link": "https://stackoverflow.com/users/9638185/maffoo"}, "edited": false, "score": 0, "creation_date": 1524174452, "post_id": 49908173, "comment_id": 86877386, "body": "Fixed it. I was using this.Current.Resources..... instead of Application.Current.Resources.... Thanks!"}], "tags": [], "owner": {"reputation": 395, "user_id": 6446753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/719a177d4dd57b0ab1dd7eeb7b7a71c0?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Woolsey", "link": "https://stackoverflow.com/users/6446753/michael-woolsey"}, "is_accepted": true, "score": 0, "last_activity_date": 1524148083, "last_edit_date": 1524148083, "creation_date": 1524081901, "answer_id": 49908173, "question_id": 49907829, "link": "https://stackoverflow.com/questions/49907829/wpf-supporting-multiple-languages/49908173#49908173", "title": "WPF: Supporting multiple languages", "body": "<p>What I did to get my multiple languages to work was to only loaded one language file at a time, in my case I loaded English as a default one, in my App.xaml.</p>\n\n<p>Then in my startup of the application I would check for what language the user wanted to display and I would remove the current language from the ResourceDictionary and then only add the newly selected language that the user wants.</p>\n\n<p>Use:</p>\n\n<pre><code>this.Resources.MergedDictionaries.Remove(...);\nthis.Resources.MergedDictionaries.Add(...);\n</code></pre>\n\n<p>Example load code that I use:</p>\n\n<pre><code> internal void LoadLanguageFile()\n {\n      var languageCode = ApplicationSetting.LanguageCode;\n      if (string.IsNullOrEmpty(languageCode) == false)\n      {\n            var dictionariesToRemove = new List&lt;ResourceDictionary&gt;();\n\n            foreach (var dictionary in Application.Current.Resources.MergedDictionaries)\n            {\n                if (dictionary.Source.ToString().Contains(@\"/Strings.\") == true)\n                    dictionariesToRemove.Add(dictionary);\n            }\n\n            foreach (var item in dictionariesToRemove)\n                Application.Current.Resources.MergedDictionaries.Remove(item);\n\n            var languageDictionary = new ResourceDictionary()\n            {\n                Source = new Uri($\"/SomeApp;component/Assets/Languages/Strings.{languageCode}.xaml\", UriKind.Relative)\n            };\n\n    Application.Current.Resources.MergedDictionaries.Add(languageDictionary);\n\n            }\n        }\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "is_accepted": false, "score": 0, "last_activity_date": 1524126100, "creation_date": 1524126100, "answer_id": 49916139, "question_id": 49907829, "link": "https://stackoverflow.com/questions/49907829/wpf-supporting-multiple-languages/49916139#49916139", "title": "WPF: Supporting multiple languages", "body": "<p>This is pretty much the method I use for localisation, except the apps I've worked on delivered one local language dictionary and you can't pick between say English and Spanish. \nWhen you merge another resource dictionary in which has the same keys as an existing one, the new ones replace the old.\nSome of my apps are mostly English with parts that are localised. Some also merge in branding strings or pictures which overlay the original.  </p>\n\n<p>You need to bind with dynamicsource to pick up changes.</p>\n\n<p>The problem you're seeing seems more likely to be associated with your switch. If you debug that, I think you'll find there's a problem there and it just ends up picking the default dictionary no matter what. </p>\n\n<p>If you really wanted to remove a dictionary you can do:</p>\n\n<pre><code>Application.Current.Resources.MergedDictionaries[0].Clear();\n</code></pre>\n\n<p>I think maybe you can also do removeat.\nBut I don't think you should need to do either.</p>\n"}], "owner": {"reputation": 37, "user_id": 9638185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b0fabd5440e0a3ef5436a028bdb161?s=128&d=identicon&r=PG&f=1", "display_name": "maffoo", "link": "https://stackoverflow.com/users/9638185/maffoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1547, "favorite_count": 0, "accepted_answer_id": 49908173, "answer_count": 2, "score": 0, "last_activity_date": 1524148083, "creation_date": 1524080632, "question_id": 49907829, "link": "https://stackoverflow.com/questions/49907829/wpf-supporting-multiple-languages", "title": "WPF: Supporting multiple languages", "body": "<p>I am following this thread :-</p>\n\n<p><a href=\"https://stackoverflow.com/questions/11327840/multilingual-wpf-application\">multiligual wpf application</a></p>\n\n<p>I want to support multiple languages as originally asked.</p>\n\n<p>I've done everything suggested by Aghilas. However, only the last language that I have added to my App.xaml file actually gets applied. It makes no difference which ResourceDictionary I add at runtime.</p>\n\n<p>Using this extract of the language section in my App.xaml file, only the last language referred to gets used, in this case it's French.</p>\n\n<pre><code>            &lt;ResourceDictionary Source=\"languages/lang-english-uk.xaml\" /&gt;\n            &lt;ResourceDictionary Source=\"languages/lang-english-us.xaml\" /&gt;\n            &lt;ResourceDictionary Source=\"languages/lang-spanish.xaml\" /&gt;\n            &lt;ResourceDictionary Source=\"languages/lang-french.xaml\" /&gt;\n</code></pre>\n\n<p>This is the code I call when initialising the application.</p>\n\n<pre><code>    private void LoadLanguageResource()\n    {\n        ResourceDictionary dict = new ResourceDictionary();\n        CultureInfo cultInfo = Thread.CurrentThread.CurrentCulture;\n        switch (cultInfo.TwoLetterISOLanguageName)\n        {\n            case \"fr\":\n                dict.Source = new Uri(\"..\\\\languages\\\\lang-french.xaml\", UriKind.Relative);\n                break;\n            case \"es\":\n                dict.Source = new Uri(\"..\\\\languages\\\\lang-spanish.xaml\", UriKind.Relative);\n                break;\n            default:\n                if (cultInfo.Name.Contains(\"US\"))\n                {\n                    dict.Source = new Uri(\"..\\\\languages\\\\lang-english-us.xaml\", UriKind.Relative);\n                    break;\n                }\n                else\n                {\n                    dict.Source = new Uri(\"..\\\\languages\\\\lang-english-uk.xaml\", UriKind.Relative);\n                    break;\n                }        \n        }\n        this.Resources.MergedDictionaries.Add(dict);\n    }\n</code></pre>\n"}, {"tags": ["c#", "json", "xml", "asp.net-mvc", "json.net"], "comments": [{"owner": {"reputation": 9, "user_id": 3865439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q7aYj.png?s=128&g=1", "display_name": "acoto", "link": "https://stackoverflow.com/users/3865439/acoto"}, "edited": false, "score": 0, "creation_date": 1524080961, "post_id": 49907828, "comment_id": 86831652, "body": "You can try with <a href=\"https://stackoverflow.com/questions/471946/how-to-convert-xml-to-json-in-python\">this</a> solution, is in python"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 9, "user_id": 3865439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q7aYj.png?s=128&g=1", "display_name": "acoto", "link": "https://stackoverflow.com/users/3865439/acoto"}, "edited": false, "score": 0, "creation_date": 1524081060, "post_id": 49907828, "comment_id": 86831714, "body": "@acoto thats not very helpful is it?  This is a question specifically tagged with JSON.NET"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524082169, "post_id": 49907828, "comment_id": 86832295, "body": "You&#39;ve presented a large amount of XML and JSON - could you reduce this to a much <i>smaller</i> example with just a few properties? That will make it much easier to compare the expected and actual results."}], "answers": [{"tags": [], "owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "is_accepted": false, "score": 1, "last_activity_date": 1524083224, "creation_date": 1524083224, "answer_id": 49908497, "question_id": 49907828, "link": "https://stackoverflow.com/questions/49907828/how-to-parse-xml-to-json-in-below-format-using-newtonsoft-or-any-other-xml-to-js/49908497#49908497", "title": "How to parse XML TO JSON in below format using Newtonsoft or any other XML to JSON formatter", "body": "<p>I don't see a way to do this without transforming the XML. Basically, you'll need to get the XML into the format below.</p>\n\n<p>One approach would be to deserialize the original XML into model A, copy the data into model B, and serialize model B into JSON.</p>\n\n<p>Model classes:</p>\n\n<pre><code>public class ModelA\n{\n    public List&lt;Package&gt; Packages { get; set; }\n    ...\n}\n\npublic class ModelB\n{\n    public List&lt;Package&gt; Packages { get; set; }\n    ...\n}\n</code></pre>\n\n<p>Target XML:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;manifest&gt;\n   &lt;packages&gt;\n      &lt;trackingNumber&gt;23780498191986&lt;/trackingNumber&gt;\n      &lt;shipCost&gt;14&lt;/shipCost&gt;\n      &lt;shipDate&gt;2018-04-12T15:33:39.887&lt;/shipDate&gt;\n      &lt;items&gt;\n         &lt;dscoItemId&gt;sdsd&lt;/dscoItemId&gt;\n         &lt;sku&gt;sdsd&lt;/sku&gt;\n         &lt;quantity&gt;1&lt;/quantity&gt;\n         &lt;lineNumber&gt;1&lt;/lineNumber&gt;\n         &lt;originalLineNumber&gt;1&lt;/originalLineNumber&gt;\n         &lt;originalOrderQuantity&gt;1&lt;/originalOrderQuantity&gt;\n      &lt;/items&gt;\n      &lt;items&gt;\n         &lt;dscoItemId&gt;CCCVSD33&lt;/dscoItemId&gt;\n         &lt;sku&gt;TESRRST123&lt;/sku&gt;\n         &lt;quantity&gt;2&lt;/quantity&gt;\n         &lt;lineNumber&gt;2&lt;/lineNumber&gt;\n         &lt;originalLineNumber&gt;2&lt;/originalLineNumber&gt;\n         &lt;originalOrderQuantity&gt;2&lt;/originalOrderQuantity&gt;\n      &lt;/items&gt;\n      &lt;shipCarrier /&gt;\n      &lt;shipMethod /&gt;\n      &lt;shippingServiceLevelCode&gt;FESDPO&lt;/shippingServiceLevelCode&gt;\n      &lt;numberOfLineItems&gt;2&lt;/numberOfLineItems&gt;\n      &lt;shipFrom&gt;\n         &lt;attention&gt;OPERATIONS m&lt;/attention&gt;\n         &lt;firstName&gt;SD&lt;/firstName&gt;\n         &lt;lastName&gt;SD&lt;/lastName&gt;\n         &lt;company /&gt;\n         &lt;address1&gt;ADD1&lt;/address1&gt;\n         &lt;address2 /&gt;\n         &lt;city&gt;URBANCREST&lt;/city&gt;\n         &lt;region&gt;OH&lt;/region&gt;\n         &lt;postal&gt;43123&lt;/postal&gt;\n         &lt;country&gt;US&lt;/country&gt;\n         &lt;phone&gt;123.125.1265&lt;/phone&gt;\n         &lt;email /&gt;\n         &lt;locationCode /&gt;\n      &lt;/shipFrom&gt;\n      &lt;shipTo&gt;\n         &lt;attention&gt;SD&lt;/attention&gt;\n         &lt;firstName&gt;DD&lt;/firstName&gt;\n         &lt;lastName&gt;DD&lt;/lastName&gt;\n         &lt;company&gt;ABC CORPORATION&lt;/company&gt;\n         &lt;address1&gt;123 FINE WAY&lt;/address1&gt;\n         &lt;address2&gt;BUILDING F-1&lt;/address2&gt;\n         &lt;city&gt;BALTIMORE&lt;/city&gt;\n         &lt;region&gt;MD&lt;/region&gt;\n         &lt;postal&gt;21234&lt;/postal&gt;\n         &lt;country&gt;US&lt;/country&gt;\n         &lt;phone&gt;222-222-2222&lt;/phone&gt;\n         &lt;email&gt;XYZ@ACOMP.COM&lt;/email&gt;\n         &lt;locationCode /&gt;\n      &lt;/shipTo&gt;\n      &lt;shipWeight&gt;35.00&lt;/shipWeight&gt;\n   &lt;/packages&gt;\n&lt;/manifest&gt;\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 907327, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/n6lWg.jpg?s=128&g=1", "display_name": "Kuldeep Shige", "link": "https://stackoverflow.com/users/907327/kuldeep-shige"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524083224, "creation_date": 1524080627, "last_edit_date": 1524081132, "question_id": 49907828, "link": "https://stackoverflow.com/questions/49907828/how-to-parse-xml-to-json-in-below-format-using-newtonsoft-or-any-other-xml-to-js", "title": "How to parse XML TO JSON in below format using Newtonsoft or any other XML to JSON formatter", "body": "<p>I am using Newtonsoft to convert XML to JSON, and one of the API consumes JSON as input but using Newtonsoft I get different JSON result which is not compatible with the API.</p>\n\n<pre><code>&lt;packages&gt;\n  &lt;Package&gt;\n     &lt;trackingNumber&gt;23780498191986&lt;/trackingNumber&gt;\n     &lt;shipCost&gt;14&lt;/shipCost&gt;\n     &lt;shipDate&gt;2018-04-12T15:33:39.887&lt;/shipDate&gt;\n     &lt;items&gt;\n        &lt;Item&gt;\n           &lt;dscoItemId&gt;sdsd&lt;/dscoItemId&gt;\n           &lt;sku&gt;sdsd&lt;/sku&gt;\n           &lt;quantity&gt;1&lt;/quantity&gt;\n           &lt;lineNumber&gt;1&lt;/lineNumber&gt;\n           &lt;originalLineNumber&gt;1&lt;/originalLineNumber&gt;\n           &lt;originalOrderQuantity&gt;1&lt;/originalOrderQuantity&gt;\n        &lt;/Item&gt;\n        &lt;Item&gt;\n           &lt;dscoItemId&gt;CCCVSD33&lt;/dscoItemId&gt;\n           &lt;sku&gt;TESRRST123&lt;/sku&gt;\n           &lt;quantity&gt;2&lt;/quantity&gt;\n           &lt;lineNumber&gt;2&lt;/lineNumber&gt;\n           &lt;originalLineNumber&gt;2&lt;/originalLineNumber&gt;\n           &lt;originalOrderQuantity&gt;2&lt;/originalOrderQuantity&gt;\n        &lt;/Item&gt;\n     &lt;/items&gt;\n     &lt;shipCarrier /&gt;\n     &lt;shipMethod /&gt;\n     &lt;shippingServiceLevelCode&gt;FESDPO&lt;/shippingServiceLevelCode&gt;\n     &lt;numberOfLineItems&gt;2&lt;/numberOfLineItems&gt;\n     &lt;shipFrom&gt;\n        &lt;attention&gt;OPERATIONS m&lt;/attention&gt;\n        &lt;firstName&gt;SD&lt;/firstName&gt;\n        &lt;lastName&gt;SD&lt;/lastName&gt;\n        &lt;company&gt;&lt;/company&gt;\n        &lt;address1&gt;ADD1&lt;/address1&gt;\n        &lt;address2 /&gt;\n        &lt;city&gt;URBANCREST&lt;/city&gt;\n        &lt;region&gt;OH&lt;/region&gt;\n        &lt;postal&gt;43123&lt;/postal&gt;\n        &lt;country&gt;US&lt;/country&gt;\n        &lt;phone&gt;123.125.1265&lt;/phone&gt;\n        &lt;email /&gt;\n        &lt;locationCode /&gt;\n     &lt;/shipFrom&gt;\n     &lt;shipTo&gt;\n        &lt;attention&gt;SD&lt;/attention&gt;\n        &lt;firstName&gt;DD&lt;/firstName&gt;\n        &lt;lastName&gt;DD&lt;/lastName&gt;\n        &lt;company&gt;ABC CORPORATION&lt;/company&gt;\n        &lt;address1&gt;123 FINE WAY&lt;/address1&gt;\n        &lt;address2&gt;BUILDING F-1&lt;/address2&gt;\n        &lt;city&gt;BALTIMORE&lt;/city&gt;\n        &lt;region&gt;MD&lt;/region&gt;\n        &lt;postal&gt;21234&lt;/postal&gt;\n        &lt;country&gt;US&lt;/country&gt;\n        &lt;phone&gt;222-222-2222&lt;/phone&gt;\n        &lt;email&gt;XYZ@ACOMP.COM&lt;/email&gt;\n        &lt;locationCode /&gt;\n     &lt;/shipTo&gt;\n     &lt;shipWeight&gt;35.00&lt;/shipWeight&gt;\n  &lt;/Package&gt;\n</code></pre>\n\n<p> </p>\n\n<p>Want to convert in below format for one of the API in my test app</p>\n\n<pre><code>\"packages\": [ \n{\n  \"trackingNumber\": \"7804981212191986\",\n  \"shipCost\": 14,\n  \"shipDate\": \"2018-04-12T15:33:39.887\",\n  \"items\": [\n    {\n      \"dscoItemId\": 10312120074055,\n      \"sku\": \"ABC11223\",\n      \"quantity\": 1,\n      \"lineNumber\": 1,\n      \"originalLineNumber\": 1,\n      \"originalOrderQuantity\": 1\n    }\n  ],\n  \"shipCarrier\": null,\n  \"shipMethod\": null,\n  \"shippingServiceLevelCode\": \"FEPO\",\n  \"numberOfLineItems\": 1,\n   \"shipFrom\": {\n    \"attention\": \"OPERATIONS manager\",\n    \"firstName\": \"sd\",\n    \"lastName\": \"Ysd\",\n    \"company\": \"sd\",\n    \"address1\": \"Add1\",                \n    \"city\": \"URBANCREST\",\n    \"region\": \"OH\",\n    \"postal\": \"43123\",\n    \"country\": \"US\",\n    \"phone\": \"123.212.1235\"        \n  },\n  \"shipTo\": {\n    \"attention\": \"Attention: GROUP A\",\n    \"firstName\": \"MO\",\n    \"lastName\": \"WK\",\n    \"company\": \"ABC CORPORATION\",\n    \"address1\": \"123 FINE WAY\",\n    \"address2\": \"BUILDING F-1\",\n    \"city\": \"BALTIMORE\",\n    \"region\": \"MD\",\n    \"postal\": \"21234\",\n    \"country\": \"US\",\n    \"phone\": \"222-222-2222\",\n    \"email\": \"JOE@ACOMP.COM\"        \n  },\n  \"shipWeight\": \"35.00\"\n}\n]\n</code></pre>\n\n<p>But using Newtonsoft I get below result which is invalid for API which I am consuming in one of test app.   </p>\n\n<pre><code>\"packages\": {\n\"Package\": {\n  \"trackingNumber\": \"780498193231986\",\n  \"shipCost\": \"14.14\",\n  \"shipDate\": \"2018-04-12T15:33:39.887\",\n  \"items\": {\n    \"Item\": [\n      {\n        \"dscoItemId\": \"AAVVCAACF\",\n        \"sku\": \"ABC123\",\n        \"quantity\": \"1\",\n        \"lineNumber\": \"1\",\n        \"originalLineNumber\": \"1\",\n        \"originalOrderQuantity\": \"1\"\n      },\n      {\n        \"dscoItemId\": \"CCCAAV33\",\n        \"sku\": \"TEST123\",\n        \"quantity\": \"2\",\n        \"lineNumber\": \"2\",\n        \"originalLineNumber\": \"2\",\n        \"originalOrderQuantity\": \"2\"\n      }\n    ]\n  },\n  \"shipCarrier\": null,\n  \"shipMethod\": null,\n  \"shippingServiceLevelCode\": \"FEPO\",\n  \"numberOfLineItems\": \"2\",\n  \"shipFrom\": {\n    \"attention\": \"OPERATIONS manager\",\n    \"firstName\": \"asas\",\n    \"lastName\": \"asas\",\n    \"company\": \"asas\",\n    \"address1\": \"Add1\",\n    \"address2\": null,\n    \"city\": \"URBANCREST\",\n    \"region\": \"OH\",\n    \"postal\": \"43123\",\n    \"country\": \"US\",\n    \"phone\": \"125.125.1235\",\n    \"email\": null,\n    \"locationCode\": null\n  },\n  \"shipTo\": {\n    \"attention\": \"Attention: GROUP A\",\n    \"firstName\": \"sa\",\n    \"lastName\": \"sd\",\n    \"company\": \"ABC CORPORATION\",\n    \"address1\": \"123 FINE WAY\",\n    \"address2\": \"BUILDING F-1\",\n    \"city\": \"BALTIMORE\",\n    \"region\": \"MD\",\n    \"postal\": \"21234\",\n    \"country\": \"US\",\n    \"phone\": \"222-222-2222\",\n    \"email\": \"JOE@ACOMP.COM\",\n    \"locationCode\": null\n  }\n</code></pre>\n\n<p>Following code I am using for converting XML to JSON</p>\n\n<pre><code>private static string XmlToJSONWithJSONNet(String xmlDoc)\n{\n    string jsonString = string.Empty;\n    XmlDocument xd = new XmlDocument();\n    xd.LoadXml(Convert.ToString(xmlDoc));\n    jsonString = JsonConvert.SerializeXmlNode(xd,Newtonsoft.Json.Formatting.None, true);\n    return jsonString;\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "answers": [{"tags": [], "owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "is_accepted": true, "score": 1, "last_activity_date": 1524102669, "last_edit_date": 1524102669, "creation_date": 1524080576, "answer_id": 49907815, "question_id": 49907728, "link": "https://stackoverflow.com/questions/49907728/open-window-from-button-without-creating-new-windowfoo-instances/49907815#49907815", "title": "Open Window from Button without creating new windowFoo instances", "body": "<p>isn't it obvious to declare the <code>Window</code> instance in class level ?</p>\n\n<pre><code> public class Abc()\n  {\n   MainWindow mw = new MainWindow();\n   ///GoogleApi gp = new GoogleApi\n\n   private void Show()\n    {\n     mw.Show();\n     //gp.Show();\n    }\n</code></pre>\n\n<p>However , the above code won't work if the window is the mainwindow , rather try this :</p>\n\n<pre><code>  Application.Current.MainWindow.Show();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 9503525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b446f626e6293285ccca3f34852c4a?s=128&d=identicon&r=PG&f=1", "display_name": "r3dfarce", "link": "https://stackoverflow.com/users/9503525/r3dfarce"}, "is_accepted": false, "score": 0, "last_activity_date": 1525780526, "creation_date": 1525780526, "answer_id": 50233003, "question_id": 49907728, "link": "https://stackoverflow.com/questions/49907728/open-window-from-button-without-creating-new-windowfoo-instances/50233003#50233003", "title": "Open Window from Button without creating new windowFoo instances", "body": "<p>Another thing I found that is a better solution, for some forms, is to use the ShowDialog method rather than showing/hiding forms.</p>\n"}], "owner": {"reputation": 101, "user_id": 9503525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b446f626e6293285ccca3f34852c4a?s=128&d=identicon&r=PG&f=1", "display_name": "r3dfarce", "link": "https://stackoverflow.com/users/9503525/r3dfarce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 1, "accepted_answer_id": 49907815, "answer_count": 2, "score": 2, "last_activity_date": 1525780526, "creation_date": 1524080189, "last_edit_date": 1524081905, "question_id": 49907728, "link": "https://stackoverflow.com/questions/49907728/open-window-from-button-without-creating-new-windowfoo-instances", "title": "Open Window from Button without creating new windowFoo instances", "body": "<p>The problem with this is that each time you move between Windows you are creating a new object instance and adding to the memory heap (process memory, not entirely sure please correct if wrong term!). This is wasteful and poor taste in my opinion, and I'm wondering if there is another solution out there for this since I'm sure someone has thought about it before. I don't like the Pages, the navigation buttons look too much like IE in Windows 7 for a desktop application.</p>\n\n<p>I have seen the solutions like this (i realize I'm not using good naming conventions, but I'm just tinkering with WPF for fun):</p>\n\n<pre><code>public GoogleAPI()\n{\n    InitializeComponent();\n    Closing += GoogleAPI_Closing;\n}\n\nprivate void GoogleAPI_Closing(object sender, System.ComponentModel.CancelEventArgs e)\n{\n    MainWindow main = new MainWindow();\n    main.Show();\n}\n</code></pre>\n\n<p>This works with MainWindow creating a new GoogleAPI (my window name) instance in MainWindow in a button event.</p>\n\n<pre><code>private void Button1_Click(object sender, RoutedEventArgs e)\n{\n    GoogleAPI googleapi = new GoogleAPI();\n    googleapi.Show();\n    this.Hide();\n}\n</code></pre>\n"}, {"tags": ["c#", "macos", "visual-studio", "f#", ".net-core"], "comments": [{"owner": {"reputation": 1074, "user_id": 9258246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EaISP.png?s=128&g=1", "display_name": "TJ Wolschon", "link": "https://stackoverflow.com/users/9258246/tj-wolschon"}, "edited": false, "score": 0, "creation_date": 1524080502, "post_id": 49907727, "comment_id": 86831406, "body": "Please transcribe your error message into the body of your question."}, {"owner": {"reputation": 2379, "user_id": 3696798, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ab86feaa934235389b714b491e8ef441?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/3696798/simon"}, "reply_to_user": {"reputation": 1074, "user_id": 9258246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EaISP.png?s=128&g=1", "display_name": "TJ Wolschon", "link": "https://stackoverflow.com/users/9258246/tj-wolschon"}, "edited": false, "score": 0, "creation_date": 1524081382, "post_id": 49907727, "comment_id": 86831898, "body": "@TJWolschon done"}, {"owner": {"reputation": 6124, "user_id": 5627983, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/696f780ea286896dd41a92459152fbb3?s=128&d=identicon&r=PG&f=1", "display_name": "s952163", "link": "https://stackoverflow.com/users/5627983/s952163"}, "edited": false, "score": 1, "creation_date": 1524139131, "post_id": 49907727, "comment_id": 86856587, "body": "I would just install Rider or VS Code."}, {"owner": {"reputation": 1074, "user_id": 9258246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EaISP.png?s=128&g=1", "display_name": "TJ Wolschon", "link": "https://stackoverflow.com/users/9258246/tj-wolschon"}, "edited": false, "score": 0, "creation_date": 1524139296, "post_id": 49907727, "comment_id": 86856710, "body": "Which IDE/editor are you using?"}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 8606997, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--d7nfvxODQc/AAAAAAAAAAI/AAAAAAAAAFo/284ZEYkUTKw/photo.jpg?sz=128", "display_name": "wura alese", "link": "https://stackoverflow.com/users/8606997/wura-alese"}, "is_accepted": true, "score": 1, "last_activity_date": 1561461656, "creation_date": 1561461656, "answer_id": 56752918, "question_id": 49907727, "link": "https://stackoverflow.com/questions/49907727/error-running-c-f-program-on-mac-os/56752918#56752918", "title": "Error running C#/F# program on Mac OS", "body": "<p>To fix it, I added a symlink to the .NET binary in my $PATH. Apparently, the problem is that .NET isn't added to your path by default. Add the link through your terminal with the following:</p>\n\n<pre><code>ln -s /usr/local/share/dotnet/dotnet /usr/local/bin/\n</code></pre>\n\n<p>I found this solution here <a href=\"https://developercommunity.visualstudio.com/content/problem/420236/debugger-operation-failed-launch-program-does-not.html\" rel=\"nofollow noreferrer\">https://developercommunity.visualstudio.com/content/problem/420236/debugger-operation-failed-launch-program-does-not.html</a></p>\n"}], "owner": {"reputation": 2379, "user_id": 3696798, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ab86feaa934235389b714b491e8ef441?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/3696798/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 1, "accepted_answer_id": 56752918, "answer_count": 1, "score": 1, "last_activity_date": 1561461656, "creation_date": 1524080189, "last_edit_date": 1524081373, "question_id": 49907727, "link": "https://stackoverflow.com/questions/49907727/error-running-c-f-program-on-mac-os", "title": "Error running C#/F# program on Mac OS", "body": "<p>Both, the C# and F# hello world console application examples, fail with the following message:  </p>\n\n<p><strong>Debugger operation failed</strong><br>\nlaunch: program '' does not exist.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7unH8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7unH8.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can't get it to work properly. Microsoft site says that no additional stuff has to be installed for it to work properly <a href=\"https://docs.microsoft.com/en-us/dotnet/fsharp/get-started/get-started-with-visual-studio-for-mac\" rel=\"nofollow noreferrer\">source</a></p>\n\n<p>I already reinstalled visual studio which did not help. If I choose run -> run with custom configuration and turn off 'run in external console' it works fine. However I cannot find a setting to make this the default and I would love if it would just work and my installation was fine.</p>\n\n<p>Hope someone has a clue. Thanks in advance</p>\n"}, {"tags": ["c#", "xml", "xpath"], "answers": [{"tags": [], "owner": {"reputation": 23944, "user_id": 1305969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wlo8z.png?s=128&g=1", "display_name": "zx485", "link": "https://stackoverflow.com/users/1305969/zx485"}, "is_accepted": false, "score": 1, "last_activity_date": 1524081885, "creation_date": 1524081885, "answer_id": 49908169, "question_id": 49907650, "link": "https://stackoverflow.com/questions/49907650/logical-and-operator-in-xpath-to-select-values/49908169#49908169", "title": "Logical and operator in Xpath to select values", "body": "<p>You can put all the conditions into one predicate and then <code>and</code> them. I changed <code>@id</code> to <code>parentID</code> to match the number. Otherwise it wouldn't have matches the sample data.</p>\n\n<p>The XPath matching the four conditions could be:</p>\n\n<pre><code>//*[@parentID='1701' and @isDoc and contains(topic/text(),'Admissions') and contains(categories/text(),'Case Studies')]\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 6286468, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5cc24b81ec92800ed75ec8df1b6d8636?s=128&d=identicon&r=PG&f=1", "display_name": "DanielJ", "link": "https://stackoverflow.com/users/6286468/danielj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1524082416, "creation_date": 1524079872, "last_edit_date": 1524082416, "question_id": 49907650, "link": "https://stackoverflow.com/questions/49907650/logical-and-operator-in-xpath-to-select-values", "title": "Logical and operator in Xpath to select values", "body": "<p>I have some generated XML like so </p>\n\n<pre><code>&lt;resource id=\"1759\" key=\"8f0ab89b:fb7b:45aa:8863:5c8cf4692194\" parentID=\"1701\" level=\"3\" creatorID=\"0\" sortOrder=\"5\" createDate=\"2018:03:28T13:59:22\" updateDate=\"2018:04:17T15:06:25\" nodeName=\"facebook\" urlName=\"facebook\" path=\":1,1378,1701,1759\" isDoc=\"\" nodeType=\"1705\" creatorName=\"Scott\" writerName=\"Scott\" writerID=\"0\" template=\"0\" nodeTypeAlias=\"resource\"&gt;\n&lt;resourceImage&gt;{\n\"focalPoint\": {\n\"left\": 0.5,\n\"top\": 0.5\n},\n\"src\": \"/media/9566/ddd:col_116588_020117_1999x614.jpg\",\n\"crops\": [\n{\n  \"alias\": \"Resource\",\n  \"width\": 320,\n  \"height\": 238\n}\n]\n}&lt;/resourceImage&gt;\n      &lt;categories&gt;Case Studies&lt;/categories&gt;\n    &lt;resourceLink&gt;http://facebook.com&lt;/resourceLink&gt;\n    &lt;topic&gt;Admissions&lt;/topic&gt;\n  &lt;/resource&gt;\n</code></pre>\n\n<p>Im trying to use an Xpath Expression to select it by both the topic and category like </p>\n\n<pre><code>//* [@id=1701]//*[@isDoc]/ topic[text()[contains(.,'Admissions')]] and category[text()[contains(.,'Webinar')]] /..\n</code></pre>\n\n<p>however I get no match. I am able to make it work by just using one of the parameters like </p>\n\n<pre><code>  //* [@id=1701]//*[@isDoc]/ topic[text()[contains(.,'Admissions')]]/..\n</code></pre>\n\n<p>however I do need to be able to filter by both parameters. How am i do doing the logical operator wrong?</p>\n\n<p>thanks</p>\n"}, {"tags": ["c#", "unity3d", "frame-rate", "flicker"], "answers": [{"comments": [{"owner": {"reputation": 9668, "user_id": 1429487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/57fe7ba5bccd866ab2d9536243a8a25a?s=128&d=identicon&r=PG", "display_name": "Everts", "link": "https://stackoverflow.com/users/1429487/everts"}, "edited": false, "score": 0, "creation_date": 1524081818, "post_id": 49907702, "comment_id": 86832110, "body": "That makes wrong usage of deltaTime. FixedUpdate is already fixed butdeltaTime is dependent on frame rate so you could get a different value on each run."}, {"owner": {"reputation": 3923, "user_id": 6837889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/148983ab46f8c60cf357c240c183c751?s=128&d=identicon&r=PG&f=1", "display_name": "ryeMoss", "link": "https://stackoverflow.com/users/6837889/ryemoss"}, "reply_to_user": {"reputation": 9668, "user_id": 1429487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/57fe7ba5bccd866ab2d9536243a8a25a?s=128&d=identicon&r=PG", "display_name": "Everts", "link": "https://stackoverflow.com/users/1429487/everts"}, "edited": false, "score": 0, "creation_date": 1524082520, "post_id": 49907702, "comment_id": 86832491, "body": "according to the <a href=\"https://docs.unity3d.com/ScriptReference/Time-fixedDeltaTime.html\" rel=\"nofollow noreferrer\">unity docs</a> - deltaTime is the recommended method for measuring the delta in time (including within FixedUpdate) whereas fixedDeltaTime is used for physics."}, {"owner": {"reputation": 9668, "user_id": 1429487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/57fe7ba5bccd866ab2d9536243a8a25a?s=128&d=identicon&r=PG", "display_name": "Everts", "link": "https://stackoverflow.com/users/1429487/everts"}, "edited": false, "score": 0, "creation_date": 1524084766, "post_id": 49907702, "comment_id": 86833594, "body": "Ok it appears Unity is resetting the value of deltaTime when called within FixedUpdate, which if you asked me, I&#39;d say is not smart. So yep would run."}], "tags": [], "owner": {"reputation": 3923, "user_id": 6837889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/148983ab46f8c60cf357c240c183c751?s=128&d=identicon&r=PG&f=1", "display_name": "ryeMoss", "link": "https://stackoverflow.com/users/6837889/ryemoss"}, "is_accepted": true, "score": 2, "last_activity_date": 1524082398, "last_edit_date": 1524082398, "creation_date": 1524080099, "answer_id": 49907702, "question_id": 49907580, "link": "https://stackoverflow.com/questions/49907580/making-an-object-flicker-every-x-seconds/49907702#49907702", "title": "Making an object &quot;Flicker&quot; every X seconds", "body": "<p>You can create something like a timer below to manage the on and off time:</p>\n\n<pre><code>float toggletime;\n\n void FixedUpdate () {\n    toggletime += Time.deltaTime;\n    if (toggletime &lt; 2) // flicker will occur from 0-2 seconds\n        startFlicker();\n    else if (toggletime &gt; 4) // nothing will occur between 2-4 seconds\n        toggletime = 0; // reset timer after 4 seconds have passed\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9668, "user_id": 1429487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/57fe7ba5bccd866ab2d9536243a8a25a?s=128&d=identicon&r=PG", "display_name": "Everts", "link": "https://stackoverflow.com/users/1429487/everts"}, "is_accepted": false, "score": 1, "last_activity_date": 1524082198, "creation_date": 1524082198, "answer_id": 49908241, "question_id": 49907580, "link": "https://stackoverflow.com/questions/49907580/making-an-object-flicker-every-x-seconds/49908241#49908241", "title": "Making an object &quot;Flicker&quot; every X seconds", "body": "<p>\"I know something like invokeRepeating would work however the flickering relies on being in the FixedUpdate for it to run every frame.\"</p>\n\n<p>FixedUpdate is for Physics. Sure you can use it for other purposes but if they not physics related then it is not the primary purpose.</p>\n\n<p>Invoke would actually do just fine, you have full control of it.</p>\n\n<pre><code>float timer = 2f;\nbool isOn = false;\nvoid Start()\n{\n    Invoke(\"Method\", timer);\n}\n\nvoid Method()\n{\n    // you can change timer if needed\n    this.timer = Random.Range(0f, maxTimer);\n    this.isOn = !this.isOn;\n    Invoke(\"Method\", this.timer);\n}\n\nvoid CancelMethodAndResetTimerForAnyReason()\n{\n     CancelInvoke();\n     this.timer = Random.Range(0f, maxTimer);\n     Invoke(\"Method\", this.timer);\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 5495244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3d7d4ac730d9d0c1cfcfcbb07b934ec?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5495244/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 1, "accepted_answer_id": 49907702, "answer_count": 2, "score": 1, "last_activity_date": 1595578580, "creation_date": 1524079577, "last_edit_date": 1595578580, "question_id": 49907580, "link": "https://stackoverflow.com/questions/49907580/making-an-object-flicker-every-x-seconds", "title": "Making an object &quot;Flicker&quot; every X seconds", "body": "<p>I need to make an object flicker every X seconds. So far I have the code for the actual flickering and it works great, however I need the flicker to come on for X seconds, then turning off, then come on for X seconds. Similar to turning a strobe light on (it flickers), then off.</p>\n\n<p>I know something like <code>invokeRepeating</code> would work however the flickering relies on being in the <code>FixedUpdate</code> for it to run every frame.</p>\n\n<p>For anyone wondering I'm actually trying to do something with image modulation and attention. Here is what I have so far:</p>\n\n<pre><code>public class scrFlicker : MonoBehaviour {\n    public SpriteRenderer sRen;\n    public float cycleHz; // Hz, the mesurement of cycles.\n\n    private float dtime = 0; // delta time\n    private Color alpha;\n\n    // Use this for initialization\n    void Start () {\n        sRen = GetComponent&lt;SpriteRenderer&gt;();\n        GetComponent&lt;SpriteRenderer&gt;().enabled = false;\n        alpha = sRen.color;\n        alpha.a = 0.4f;\n        sRen.color = alpha;\n     }\n\n     // Update is called once per frame\n     void FixedUpdate () {\n        startFlicker();\n     }\n\n     void startFlicker() {\n        dtime += Time.deltaTime;\n\n        float wave = Mathf.Sin((dtime * 2.0f * Mathf.PI) * cycleHz);\n\n        if(wave &gt; 0.0f) {\n            GetComponent&lt;SpriteRenderer&gt;().enabled = true;\n        } else {\n            GetComponent&lt;SpriteRenderer&gt;().enabled = false;\n        }\n\n        if (wave == 0.0f) {\n            dtime = 0.0f;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 8514, "user_id": 1360251, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1lBMF.jpg?s=128&g=1", "display_name": "now he who must not be named.", "link": "https://stackoverflow.com/users/1360251/now-he-who-must-not-be-named"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1524079338, "post_id": 49907408, "comment_id": 86830796, "body": "Updated. Quick eye. Thanks :)"}, {"owner": {"reputation": 22367, "user_id": 7913, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9fe3132ce475fb90fd4e65a0238f99e3?s=128&d=identicon&r=PG", "display_name": "gregmac", "link": "https://stackoverflow.com/users/7913/gregmac"}, "edited": false, "score": 0, "creation_date": 1524079490, "post_id": 49907408, "comment_id": 86830875, "body": "Are <code>{</code>, <code>}</code> or space ever valid values, eg: <code>brackets={{foo}</code> (resulting in <code>&quot;brackets&quot;,&quot;{foo&quot;</code>) or <code>spaces={  lots of spaces   }</code> (resulting in <code>&quot;spaces&quot;,&quot;  lots of spaces   &quot;</code>)? Can the input string ever contain newlines? You show one item with a space after the comma, are there other variations of input?"}, {"owner": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "edited": false, "score": 2, "creation_date": 1524079597, "post_id": 49907408, "comment_id": 86830944, "body": "I&#39;m voting to close this question as off-topic because it belongs on <a href=\"https://codereview.stackexchange.com/\">Code Review</a>"}, {"owner": {"reputation": 8514, "user_id": 1360251, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1lBMF.jpg?s=128&g=1", "display_name": "now he who must not be named.", "link": "https://stackoverflow.com/users/1360251/now-he-who-must-not-be-named"}, "reply_to_user": {"reputation": 22367, "user_id": 7913, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9fe3132ce475fb90fd4e65a0238f99e3?s=128&d=identicon&r=PG", "display_name": "gregmac", "link": "https://stackoverflow.com/users/7913/gregmac"}, "edited": false, "score": 0, "creation_date": 1524079670, "post_id": 49907408, "comment_id": 86830991, "body": "@gregmac: No, the input string doesn&#39;t change much. It is pretty much the same format :)"}, {"owner": {"reputation": 2051, "user_id": 3626537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1499840559/picture?type=large", "display_name": "Phrancis", "link": "https://stackoverflow.com/users/3626537/phrancis"}, "reply_to_user": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "edited": false, "score": 1, "creation_date": 1524079683, "post_id": 49907408, "comment_id": 86830994, "body": "@TnTinMn It is okay to recommend the OP post on CR but in the future, please don&#39;t use Code Review as a reason to close a question. Evaluate the request and use a reason like <i>too broad</i>, <i>primarily opinion-based</i>, etc. Then you can mention to the OP that it can be posted on Code Review if it is <a href=\"https://codereview.stackexchange.com/help/on-topic\">on-topic</a>. Please see the section <b>What you should not do</b> in <a href=\"https://codereview.meta.stackexchange.com/a/5778/120114\">this answer to A guide to Code Review for Stack Overflow users</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8514, "user_id": 1360251, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1lBMF.jpg?s=128&g=1", "display_name": "now he who must not be named.", "link": "https://stackoverflow.com/users/1360251/now-he-who-must-not-be-named"}, "edited": false, "score": 1, "creation_date": 1524079611, "post_id": 49907511, "comment_id": 86830951, "body": "Guys like you are legend :) I wrote the code for some 15 mins, but you complete hardly in 1 min... I think I should explore more on linq :)"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1524079856, "post_id": 49907511, "comment_id": 86831088, "body": "@Steve That would trim all the curly braces, but based on the OP&#39;s comments that&#39;s not a concern.  Additionally their <code>TrimStart(&#39;{&#39;)</code> woudl get rid of all the &quot;{&quot; at the beginning.  So yeah, not an exact match for unexpected input.  Changing it to <code>Trim().TrimStart(&#39;{&#39;).TrimEnd(&#39;}&#39;)</code> would make it match, but that seemed a bit much."}], "tags": [], "owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "is_accepted": true, "score": 2, "last_activity_date": 1524079314, "creation_date": 1524079314, "answer_id": 49907511, "question_id": 49907408, "link": "https://stackoverflow.com/questions/49907408/how-to-convert-a-string-to-dictionary-in-c-after-applying-pre-processing/49907511#49907511", "title": "How to convert a string to dictionary in c# [after applying pre-processing]", "body": "<p>Definitely.  The following Linq code should give the same results.</p>\n\n<pre><code>var dictionary = yourString.Split(',')\n    .Select(x =&gt; x.Split('='))\n    .ToDictionary(x =&gt; x[0].Trim(), x =&gt; x[1].Trim('}','{',' '));\n</code></pre>\n\n<p>Note that like your code there is no error checking for entries that are missing the equal sign.</p>\n"}, {"comments": [{"owner": {"reputation": 1853, "user_id": 3000189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ed62cc80ccc0e44e55cdf75ff3a83c?s=128&d=identicon&r=PG&f=1", "display_name": "glenebob", "link": "https://stackoverflow.com/users/3000189/glenebob"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 3, "creation_date": 1524079862, "post_id": 49907605, "comment_id": 86831094, "body": "What if, what if :) This answer assumes very predictable input. Error checking/handling is additional work."}, {"owner": {"reputation": 1853, "user_id": 3000189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ed62cc80ccc0e44e55cdf75ff3a83c?s=128&d=identicon&r=PG&f=1", "display_name": "glenebob", "link": "https://stackoverflow.com/users/3000189/glenebob"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1524080597, "post_id": 49907605, "comment_id": 86831461, "body": "Also, what if there are duplicate keys? What if keys or values contain &#39;,&#39; or &#39;=&#39; characters? What if there is no &#39;=&#39; between a pair of &#39;,&#39; characters? What if a key trims to the empty string?"}], "tags": [], "owner": {"reputation": 1853, "user_id": 3000189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ed62cc80ccc0e44e55cdf75ff3a83c?s=128&d=identicon&r=PG&f=1", "display_name": "glenebob", "link": "https://stackoverflow.com/users/3000189/glenebob"}, "is_accepted": false, "score": 1, "last_activity_date": 1524079673, "creation_date": 1524079673, "answer_id": 49907605, "question_id": 49907408, "link": "https://stackoverflow.com/questions/49907408/how-to-convert-a-string-to-dictionary-in-c-after-applying-pre-processing/49907605#49907605", "title": "How to convert a string to dictionary in c# [after applying pre-processing]", "body": "<p>Very simple. Without LINQ, it would look like:</p>\n\n<pre><code>var strings1 = @\"a={b},c={d},e={f},g={h},\n    i={j},k={l},m={n},o={p},q={r},s={t},u={v},w={x},\n    y={z}, alpha={beta}\";\n\nvar splitString  = strings1.Split(',');\nvar dict = new Dictionary&lt;string, string&gt;();\n\nforeach (string s in splitString)\n{\n    var splitPair = s.Split('=');\n\n    dict[splitPair[0].Trim()] = splitPair[1].Trim(' ', '{', '}');\n}\n</code></pre>\n"}], "owner": {"reputation": 8514, "user_id": 1360251, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1lBMF.jpg?s=128&g=1", "display_name": "now he who must not be named.", "link": "https://stackoverflow.com/users/1360251/now-he-who-must-not-be-named"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 2, "accepted_answer_id": 49907511, "answer_count": 2, "score": -2, "last_activity_date": 1524079673, "creation_date": 1524078921, "last_edit_date": 1524079319, "question_id": 49907408, "link": "https://stackoverflow.com/questions/49907408/how-to-convert-a-string-to-dictionary-in-c-after-applying-pre-processing", "title": "How to convert a string to dictionary in c# [after applying pre-processing]", "body": "<p>I have a string like this:</p>\n\n<pre><code>var strings1 = @\"a={b},c={d},e={f},g={h},\n                    i={j},k={l},m={n},o={p},q={r},s={t},u={v},w={x},\n                    y={z}, alpha={beta}\";\n</code></pre>\n\n<p>What am I trying to achieve is this: </p>\n\n<ol>\n<li>Comma separate values </li>\n<li>After separating them, trim down <code>'{'</code> and <code>'}'</code> chars from start and end.</li>\n<li>Store them in a dictionary.</li>\n</ol>\n\n<p>Output should be like this:</p>\n\n<pre><code>a,b\nc,d\ne,f    //etc..,\n</code></pre>\n\n<p>Have written this program below and it works <strong>perfectly fine</strong>.</p>\n\n<p><strong>The question is, Are there any short / perfect way of doing this ?</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\npublic class Program\n{\n    public static void Main()\n    {\n        var strings1 = @\"a={b},c={d},e={f},g={h},\n                i={j},k={l},m={n},o={p},q={r},s={t},u={v},w={x},\n                y={z}, alpha={beta}\";\n\n\n            var splitString  = strings1.Split(',');\n            var splitList = splitString.ToList();\n\n            var output = new List&lt;string&gt;();\n            splitList.ForEach(x =&gt;\n            {\n               output.Add(x.Trim());\n            });\n\n            splitList = new List&lt;string&gt;();\n            output.ForEach(x =&gt;\n                {\n                    splitList.Add(x.Trim());\n                });\n\n            var dict = new Dictionary&lt;string, string&gt;();\n            splitList.ForEach(x =&gt;\n            {\n                var outpt = x.Split('=');\n                dict.Add(outpt[0], outpt[1]);\n            });\n\n            var dict1 = new Dictionary&lt;string, string&gt;();\n            foreach (var x in dict.Keys)\n            {\n                var val = dict[x];\n                var y = val.TrimStart('{').ToString().TrimEnd('}').ToString();\n                dict1.Add(x, y);\n            }\n\n\n            foreach(var y in dict1.Keys)\n            {\n                var stringFormatted = y + dict1[y];\n                Console.Write(stringFormatted);\n                Console.WriteLine();\n            }\n\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "android"], "comments": [{"owner": {"reputation": 471, "user_id": 4900683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/caaefcfaa8651cd3f0e238d445742dc6?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Liriano", "link": "https://stackoverflow.com/users/4900683/anthony-liriano"}, "edited": false, "score": 0, "creation_date": 1524079446, "post_id": 49907295, "comment_id": 86830850, "body": "How are you verifying that information is not transmitting?"}, {"owner": {"reputation": 25, "user_id": 9324109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf27c0e1735658ea419e44bc22d82dde?s=128&d=identicon&r=PG&f=1", "display_name": "Kamaljit Kaur", "link": "https://stackoverflow.com/users/9324109/kamaljit-kaur"}, "reply_to_user": {"reputation": 471, "user_id": 4900683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/caaefcfaa8651cd3f0e238d445742dc6?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Liriano", "link": "https://stackoverflow.com/users/4900683/anthony-liriano"}, "edited": false, "score": 0, "creation_date": 1524079710, "post_id": 49907295, "comment_id": 86831011, "body": "i am using ping command with host and domain name it shows that  Ping request could not find the host name. Please check the name  and try again. But mine host name is right."}, {"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 1, "creation_date": 1524080020, "post_id": 49907295, "comment_id": 86831172, "body": "What you are sending is not <code>multipart&#47;form-data</code> but <code>application&#47;x-www-form-urlencoded</code>."}, {"owner": {"reputation": 2095, "user_id": 226781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a5c60ca9b6ac960242386c71ceefbc5?s=128&d=identicon&r=PG", "display_name": "asherber", "link": "https://stackoverflow.com/users/226781/asherber"}, "edited": false, "score": 0, "creation_date": 1524080310, "post_id": 49907295, "comment_id": 86831316, "body": "See <a href=\"https://stackoverflow.com/questions/14702902/post-form-data-using-httpwebrequest\" title=\"post form data using httpwebrequest\">stackoverflow.com/questions/14702902/&hellip;</a>"}, {"owner": {"reputation": 25, "user_id": 9324109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf27c0e1735658ea419e44bc22d82dde?s=128&d=identicon&r=PG&f=1", "display_name": "Kamaljit Kaur", "link": "https://stackoverflow.com/users/9324109/kamaljit-kaur"}, "edited": false, "score": 0, "creation_date": 1524080626, "post_id": 49907295, "comment_id": 86831471, "body": "I have tried this as well but it is giving me same response after that i did try multipart/form-data still it&#39;s not working for me."}, {"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1524081290, "post_id": 49907295, "comment_id": 86831844, "body": "The request is correct if you change the content type, are you sure the server is working? have you tried with some external tool to do the exact same request? Also, what response are you receiving?"}, {"owner": {"reputation": 25, "user_id": 9324109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf27c0e1735658ea419e44bc22d82dde?s=128&d=identicon&r=PG&f=1", "display_name": "Kamaljit Kaur", "link": "https://stackoverflow.com/users/9324109/kamaljit-kaur"}, "edited": false, "score": 0, "creation_date": 1524081925, "post_id": 49907295, "comment_id": 86832170, "body": "yes, i am sure, Server is working because when i use the same address with parameters in the URL then it works fine. I am receiving Your Internet name abc.xyz.com has been activated and gives my ip address. Same does not work by Post in c#."}, {"owner": {"reputation": 2095, "user_id": 226781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a5c60ca9b6ac960242386c71ceefbc5?s=128&d=identicon&r=PG", "display_name": "asherber", "link": "https://stackoverflow.com/users/226781/asherber"}, "edited": false, "score": 0, "creation_date": 1524097003, "post_id": 49907295, "comment_id": 86837498, "body": "If it works with query string parameters and a GET, but it doesn&#39;t work with a POST, then it sounds like the server is not set up to accept a POST at that URL."}, {"owner": {"reputation": 25, "user_id": 9324109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf27c0e1735658ea419e44bc22d82dde?s=128&d=identicon&r=PG&f=1", "display_name": "Kamaljit Kaur", "link": "https://stackoverflow.com/users/9324109/kamaljit-kaur"}, "edited": false, "score": 0, "creation_date": 1524147522, "post_id": 49907295, "comment_id": 86862520, "body": "Thank you Asherber . server may not be set up to accept a POST at that URL. presently it works fine with Get method. Thank you very much.  Now  I have one more issue I need to send this request after each 1 minute how might I do this. with the goal that application ought not crash. Thanks in advance."}, {"owner": {"reputation": 25, "user_id": 9324109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf27c0e1735658ea419e44bc22d82dde?s=128&d=identicon&r=PG&f=1", "display_name": "Kamaljit Kaur", "link": "https://stackoverflow.com/users/9324109/kamaljit-kaur"}, "edited": false, "score": 0, "creation_date": 1524151985, "post_id": 49907295, "comment_id": 86865748, "body": "Hi, i  am able to send request again after every two minutes, it works. Thanks every one in advance. But i have one last problem , now i want to stop this request to send to server. Would you please suggest me something about it. I tried with request.Abort()  method but after that it takes a lot of time to send request again to server. Thanks in advance."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 9324109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf27c0e1735658ea419e44bc22d82dde?s=128&d=identicon&r=PG&f=1", "display_name": "Kamaljit Kaur", "link": "https://stackoverflow.com/users/9324109/kamaljit-kaur"}, "edited": false, "score": 0, "creation_date": 1524081276, "post_id": 49907765, "comment_id": 86831835, "body": "Now, again i did use &quot;application/x-www-form-urlencoded&quot; but it is not working."}], "tags": [], "owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "is_accepted": false, "score": 0, "last_activity_date": 1524080384, "creation_date": 1524080384, "answer_id": 49907765, "question_id": 49907295, "link": "https://stackoverflow.com/questions/49907295/post-in-c-using-httpwebrequest-with-two-parameters/49907765#49907765", "title": "Post in C# using HttpWebRequest with two parameters", "body": "<p>You have set the content type to <code>multipart/form-data</code> but the data you are posting is formed as <code>application/x-www-form-urlencoded</code>.</p>\n\n<p>A multipart content should look something like this:</p>\n\n<pre><code>--12345\nContent-Disposition: form-data; name=\"sometext\"\n\nsome text sent via post...\n--12345--\n</code></pre>\n\n<p>And the content type must contain the boundary: </p>\n\n<pre><code>request.ContentType = \"multipart/form-data; boundary=12345\";\n</code></pre>\n\n<p>But you have this type of content:</p>\n\n<pre><code>id1=123456&amp;id2=0123456789\n</code></pre>\n\n<p>So using <code>application/x-www-form-urlencoded</code> for the content type will solve the problem:</p>\n\n<pre><code>request.ContentType = \"application/x-www-form-urlencoded\";\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 9324109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf27c0e1735658ea419e44bc22d82dde?s=128&d=identicon&r=PG&f=1", "display_name": "Kamaljit Kaur", "link": "https://stackoverflow.com/users/9324109/kamaljit-kaur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524080384, "creation_date": 1524078515, "question_id": 49907295, "link": "https://stackoverflow.com/questions/49907295/post-in-c-using-httpwebrequest-with-two-parameters", "title": "Post in C# using HttpWebRequest with two parameters", "body": "<p>I am new in Programming. I am composing a straightforward application utilizing C# with android in which I need send information to server, information incorporates URL with two parameters. When I attempt to send information to server it just sends the URL however not parameters. Would you be able to help me with respect to this. </p>\n\n<pre><code>var postData = (\"id1=\"+\"123456\");\npostData += (\"&amp;id2=\"+\"0123456789\");\nvar request = (HttpWebRequest)WebRequest.Create(\"http://abc.xyz.com\");\nvar data = Encoding.ASCII.GetBytes(postData);\nrequest.Method = \"POST\"\nrequest.ContentType = \"multipart/form-data\";\nrequest.ContentLength = data.Length;\nusing (var stream = request.GetRequestStream())\n {\n     stream.Write(data, 0, data.Length);\n     stream.Close();\n}\nvar response = (HttpWebResponse)request.GetResponse();\nvar responseString = new StreamReader(response.GetResponseStream()).ReadToEnd();\n response.Close();\n</code></pre>\n"}, {"tags": ["c#", "html", "sql", "model-view-controller"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1524078143, "post_id": 49907110, "comment_id": 86830171, "body": "Why is this tagged HTML?  What do you mean by this code <code>&quot;refers to a SQL table&quot;</code> is it entity framework?  How do you imagine it would be possible to sort from the single instance anyway?  This class would refer to a single row of a table, you would have no context of the rest of the rows."}, {"owner": {"reputation": 23, "user_id": 8478505, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/68438748d737038b224cb32da5e4e337?s=128&d=identicon&r=PG&f=1", "display_name": "techindustry", "link": "https://stackoverflow.com/users/8478505/techindustry"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1524078490, "post_id": 49907110, "comment_id": 86830326, "body": "Please see my updated code above."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1524078598, "post_id": 49907110, "comment_id": 86830375, "body": "What do you want it sorted by?  You are expected to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with your question"}, {"owner": {"reputation": 674, "user_id": 2362847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/up5Nq.jpg?s=128&g=1", "display_name": "Evgeny Gorbovoy", "link": "https://stackoverflow.com/users/2362847/evgeny-gorbovoy"}, "edited": false, "score": 0, "creation_date": 1524078625, "post_id": 49907110, "comment_id": 86830387, "body": "Do you want rows to be persisted sorted in database?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1524078976, "post_id": 49907110, "comment_id": 86830591, "body": "Does this work? <code>ViewBag.MachineOptions = machines.OrderBy(m =&gt; m.Text);</code>"}, {"owner": {"reputation": 23, "user_id": 8478505, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/68438748d737038b224cb32da5e4e337?s=128&d=identicon&r=PG&f=1", "display_name": "techindustry", "link": "https://stackoverflow.com/users/8478505/techindustry"}, "edited": false, "score": 0, "creation_date": 1524079005, "post_id": 49907110, "comment_id": 86830605, "body": "Sorry about that guys. See my updated code above. I want the Machine Names in the Name column in the SQL table to be sorted in alphabetical order."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1524079093, "post_id": 49907110, "comment_id": 86830656, "body": "@techindustry do you want to literally resort the items <b>in your SQL table</b> or do you want them displayed sorted in your view?"}, {"owner": {"reputation": 23, "user_id": 8478505, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/68438748d737038b224cb32da5e4e337?s=128&d=identicon&r=PG&f=1", "display_name": "techindustry", "link": "https://stackoverflow.com/users/8478505/techindustry"}, "edited": false, "score": 0, "creation_date": 1524079127, "post_id": 49907110, "comment_id": 86830675, "body": "It worked! Thanks, Rufus L!"}, {"owner": {"reputation": 674, "user_id": 2362847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/up5Nq.jpg?s=128&g=1", "display_name": "Evgeny Gorbovoy", "link": "https://stackoverflow.com/users/2362847/evgeny-gorbovoy"}, "edited": false, "score": 0, "creation_date": 1524079168, "post_id": 49907110, "comment_id": 86830705, "body": "@techindustry What you asked for is not what you wanted"}, {"owner": {"reputation": 674, "user_id": 2362847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/up5Nq.jpg?s=128&g=1", "display_name": "Evgeny Gorbovoy", "link": "https://stackoverflow.com/users/2362847/evgeny-gorbovoy"}, "edited": false, "score": 0, "creation_date": 1524079237, "post_id": 49907110, "comment_id": 86830741, "body": "and did you search for answer before asking?  <a href=\"https://docs.microsoft.com/en-us/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/sorting-filtering-and-paging-with-the-entity-framework-in-an-asp-net-mvc-application\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/mvc/overview/getting-started&zwnj;&#8203;/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1524078946, "post_id": 49907406, "comment_id": 86830573, "body": "Why <code>.ToList()</code> before the <code>Select()</code>?  That does not make a whole lot of sense to me"}, {"owner": {"reputation": 674, "user_id": 2362847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/up5Nq.jpg?s=128&g=1", "display_name": "Evgeny Gorbovoy", "link": "https://stackoverflow.com/users/2362847/evgeny-gorbovoy"}, "edited": false, "score": 0, "creation_date": 1524079027, "post_id": 49907406, "comment_id": 86830615, "body": "&quot;in the Machine table to be sorted alphabetically&quot; He wants Machine to be sorted inside table"}, {"owner": {"reputation": 583, "user_id": 624756, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/719d8eba780f55201541da58533f1b74?s=128&d=identicon&r=PG", "display_name": "mrdnk", "link": "https://stackoverflow.com/users/624756/mrdnk"}, "edited": false, "score": 0, "creation_date": 1524079086, "post_id": 49907406, "comment_id": 86830651, "body": "Yes, better to do all the logic operations before called .ToList()"}, {"owner": {"reputation": 23, "user_id": 8478505, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/68438748d737038b224cb32da5e4e337?s=128&d=identicon&r=PG&f=1", "display_name": "techindustry", "link": "https://stackoverflow.com/users/8478505/techindustry"}, "edited": false, "score": 0, "creation_date": 1524079294, "post_id": 49907406, "comment_id": 86830772, "body": "Yeah my code is a bit scattered, but the solutions above have worked. Thanks!"}, {"owner": {"reputation": 583, "user_id": 624756, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/719d8eba780f55201541da58533f1b74?s=128&d=identicon&r=PG", "display_name": "mrdnk", "link": "https://stackoverflow.com/users/624756/mrdnk"}, "reply_to_user": {"reputation": 23, "user_id": 8478505, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/68438748d737038b224cb32da5e4e337?s=128&d=identicon&r=PG&f=1", "display_name": "techindustry", "link": "https://stackoverflow.com/users/8478505/techindustry"}, "edited": false, "score": 0, "creation_date": 1524079316, "post_id": 49907406, "comment_id": 86830783, "body": "@techindustry Better to do the sort before, calling to list, as this will execute on the SQL Server, and not in code - which is more efficient."}, {"owner": {"reputation": 674, "user_id": 2362847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/up5Nq.jpg?s=128&g=1", "display_name": "Evgeny Gorbovoy", "link": "https://stackoverflow.com/users/2362847/evgeny-gorbovoy"}, "edited": false, "score": 0, "creation_date": 1524079401, "post_id": 49907406, "comment_id": 86830828, "body": "why &quot;ToList()&quot; ? Why not ToArray() ?"}, {"owner": {"reputation": 23, "user_id": 8478505, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/68438748d737038b224cb32da5e4e337?s=128&d=identicon&r=PG&f=1", "display_name": "techindustry", "link": "https://stackoverflow.com/users/8478505/techindustry"}, "edited": false, "score": 0, "creation_date": 1524079540, "post_id": 49907406, "comment_id": 86830900, "body": "@mrdnk how do you sort before putting it into list?"}, {"owner": {"reputation": 674, "user_id": 2362847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/up5Nq.jpg?s=128&g=1", "display_name": "Evgeny Gorbovoy", "link": "https://stackoverflow.com/users/2362847/evgeny-gorbovoy"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1524079561, "post_id": 49907406, "comment_id": 86830918, "body": "@RufusL Will the GetEnumerator be executed normally after db was disposed?"}, {"owner": {"reputation": 583, "user_id": 624756, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/719d8eba780f55201541da58533f1b74?s=128&d=identicon&r=PG", "display_name": "mrdnk", "link": "https://stackoverflow.com/users/624756/mrdnk"}, "reply_to_user": {"reputation": 23, "user_id": 8478505, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/68438748d737038b224cb32da5e4e337?s=128&d=identicon&r=PG&f=1", "display_name": "techindustry", "link": "https://stackoverflow.com/users/8478505/techindustry"}, "edited": false, "score": 1, "creation_date": 1524079773, "post_id": 49907406, "comment_id": 86831042, "body": "@techindustry as per my example. So .OrderBy(...).ToList() will execute the sort in SQL.  Essentially .ToList(), will execute the actually query, and anything before it such as OrderBy(...), is in simple terms setting up the SQL criteria to run.  Noting that all of these types of operations are generic interface methods, and can be run on any type of LINQ collections."}, {"owner": {"reputation": 583, "user_id": 624756, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/719d8eba780f55201541da58533f1b74?s=128&d=identicon&r=PG", "display_name": "mrdnk", "link": "https://stackoverflow.com/users/624756/mrdnk"}, "reply_to_user": {"reputation": 23, "user_id": 8478505, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/68438748d737038b224cb32da5e4e337?s=128&d=identicon&r=PG&f=1", "display_name": "techindustry", "link": "https://stackoverflow.com/users/8478505/techindustry"}, "edited": false, "score": 1, "creation_date": 1524079842, "post_id": 49907406, "comment_id": 86831078, "body": "@techindustry whereas, .ToList().OrderBy(...), will fetch the data from the database, and then Order it."}, {"owner": {"reputation": 23, "user_id": 8478505, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/68438748d737038b224cb32da5e4e337?s=128&d=identicon&r=PG&f=1", "display_name": "techindustry", "link": "https://stackoverflow.com/users/8478505/techindustry"}, "edited": false, "score": 0, "creation_date": 1524079915, "post_id": 49907406, "comment_id": 86831120, "body": "Yeah I agree with you all, the values should be sorted before putting them into List. I tried what Rufus L and mrdnk asked me to try and both of your solutions worked! Thank you so much!"}, {"owner": {"reputation": 583, "user_id": 624756, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/719d8eba780f55201541da58533f1b74?s=128&d=identicon&r=PG", "display_name": "mrdnk", "link": "https://stackoverflow.com/users/624756/mrdnk"}, "reply_to_user": {"reputation": 23, "user_id": 8478505, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/68438748d737038b224cb32da5e4e337?s=128&d=identicon&r=PG&f=1", "display_name": "techindustry", "link": "https://stackoverflow.com/users/8478505/techindustry"}, "edited": false, "score": 0, "creation_date": 1524080152, "post_id": 49907406, "comment_id": 86831246, "body": "@techindustry glad I could help. You may want to look at creating an Interface with properties of Id and Name to make more Dropdown more generic (something I&#39;ve done in the past, for dropdown list data, but that depends on where you are with your .NET"}], "tags": [], "owner": {"reputation": 583, "user_id": 624756, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/719d8eba780f55201541da58533f1b74?s=128&d=identicon&r=PG", "display_name": "mrdnk", "link": "https://stackoverflow.com/users/624756/mrdnk"}, "is_accepted": true, "score": 2, "last_activity_date": 1524079151, "last_edit_date": 1524079151, "creation_date": 1524078916, "answer_id": 49907406, "question_id": 49907110, "link": "https://stackoverflow.com/questions/49907110/sort-values-in-sql-table-using-c-mvc-code/49907406#49907406", "title": "Sort Values in SQL Table Using C# MVC Code", "body": "<p>You're looking for <strong>OrderBy</strong>...</p>\n\n<pre><code>var machines = db.Machines\n.OrderBy(m =&gt; m.Name)\n.Select(m =&gt; m.ToSelectListItem());\n.ToList()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1524078976, "post_id": 49907409, "comment_id": 86830589, "body": "Why commit the items to memory before querying?"}, {"owner": {"reputation": 674, "user_id": 2362847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/up5Nq.jpg?s=128&g=1", "display_name": "Evgeny Gorbovoy", "link": "https://stackoverflow.com/users/2362847/evgeny-gorbovoy"}, "edited": false, "score": 0, "creation_date": 1524079061, "post_id": 49907409, "comment_id": 86830638, "body": "+ &quot;in the Machine table to be sorted&quot;, not the result to be sorted"}, {"owner": {"reputation": 583, "user_id": 624756, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/719d8eba780f55201541da58533f1b74?s=128&d=identicon&r=PG", "display_name": "mrdnk", "link": "https://stackoverflow.com/users/624756/mrdnk"}, "edited": false, "score": 0, "creation_date": 1524079124, "post_id": 49907409, "comment_id": 86830669, "body": "Might be taking that too &quot;literally&quot;"}, {"owner": {"reputation": 118, "user_id": 8761262, "user_type": "registered", "profile_image": "https://graph.facebook.com/1578846488825455/picture?type=large", "display_name": "Cleber Machado", "link": "https://stackoverflow.com/users/8761262/cleber-machado"}, "edited": false, "score": 0, "creation_date": 1524251613, "post_id": 49907409, "comment_id": 86913105, "body": "well, I just added the .OrderBy() in the original code, which would solve the case..."}], "tags": [], "owner": {"reputation": 118, "user_id": 8761262, "user_type": "registered", "profile_image": "https://graph.facebook.com/1578846488825455/picture?type=large", "display_name": "Cleber Machado", "link": "https://stackoverflow.com/users/8761262/cleber-machado"}, "is_accepted": false, "score": -2, "last_activity_date": 1524078924, "creation_date": 1524078924, "answer_id": 49907409, "question_id": 49907110, "link": "https://stackoverflow.com/questions/49907110/sort-values-in-sql-table-using-c-mvc-code/49907409#49907409", "title": "Sort Values in SQL Table Using C# MVC Code", "body": "<p>As easy as that:</p>\n\n<pre><code>db.Machines.ToList().OrderBy(o =&gt; o.Name).Select(m =&gt; m.ToSelectListItem());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 8478505, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/68438748d737038b224cb32da5e4e337?s=128&d=identicon&r=PG&f=1", "display_name": "techindustry", "link": "https://stackoverflow.com/users/8478505/techindustry"}, "edited": false, "score": 0, "creation_date": 1524079394, "post_id": 49907419, "comment_id": 86830826, "body": "I was a little vague about my question. But thanks for your help!"}, {"owner": {"reputation": 490, "user_id": 1121648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17063d9b6a7802c64d3de6840b5a8ef1?s=128&d=identicon&r=PG", "display_name": "Dmitri M", "link": "https://stackoverflow.com/users/1121648/dmitri-m"}, "edited": false, "score": 0, "creation_date": 1524079509, "post_id": 49907419, "comment_id": 86830885, "body": "This solution is a little odd, since changing the clustered index is an overkill for what seems to be a simple query."}, {"owner": {"reputation": 674, "user_id": 2362847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/up5Nq.jpg?s=128&g=1", "display_name": "Evgeny Gorbovoy", "link": "https://stackoverflow.com/users/2362847/evgeny-gorbovoy"}, "reply_to_user": {"reputation": 490, "user_id": 1121648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17063d9b6a7802c64d3de6840b5a8ef1?s=128&d=identicon&r=PG", "display_name": "Dmitri M", "link": "https://stackoverflow.com/users/1121648/dmitri-m"}, "edited": false, "score": 0, "creation_date": 1524079618, "post_id": 49907419, "comment_id": 86830957, "body": "@DmitriM Simple query does not do the thing that is stated in quote"}, {"owner": {"reputation": 490, "user_id": 1121648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17063d9b6a7802c64d3de6840b5a8ef1?s=128&d=identicon&r=PG", "display_name": "Dmitri M", "link": "https://stackoverflow.com/users/1121648/dmitri-m"}, "edited": false, "score": 0, "creation_date": 1524079865, "post_id": 49907419, "comment_id": 86831096, "body": "OP\u2019s question is poorly constructed which makes things confusing. Yes, your answer is technically correct but what really is needed is an .OrderBy()"}], "tags": [], "owner": {"reputation": 674, "user_id": 2362847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/up5Nq.jpg?s=128&g=1", "display_name": "Evgeny Gorbovoy", "link": "https://stackoverflow.com/users/2362847/evgeny-gorbovoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1524079366, "last_edit_date": 1524079366, "creation_date": 1524078970, "answer_id": 49907419, "question_id": 49907110, "link": "https://stackoverflow.com/questions/49907110/sort-values-in-sql-table-using-c-mvc-code/49907419#49907419", "title": "Sort Values in SQL Table Using C# MVC Code", "body": "<blockquote>\n  <p>How do I sort the Names in alphabetical order in the SQL table using\n  this code?</p>\n</blockquote>\n\n<p>If you want rows to be stored in another sorting way than by primary key - make another column a clustered index:</p>\n\n<pre><code>public class Machine\n{\npublic int Id { get; set; }\n\n[Index(\"NameClusteredIndex\", IsClustered = true)]\npublic string Name { get; set; }\n\npublic SelectListItem ToSelectListItem()\n{\n    return new SelectListItem\n    {\n        Value = Id.ToString(),\n        Text = Name\n    };\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 23, "user_id": 8478505, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/68438748d737038b224cb32da5e4e337?s=128&d=identicon&r=PG&f=1", "display_name": "techindustry", "link": "https://stackoverflow.com/users/8478505/techindustry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 49907406, "answer_count": 3, "score": 0, "last_activity_date": 1524082884, "creation_date": 1524077824, "last_edit_date": 1524082884, "question_id": 49907110, "link": "https://stackoverflow.com/questions/49907110/sort-values-in-sql-table-using-c-mvc-code", "title": "Sort Values in SQL Table Using C# MVC Code", "body": "<p>I have this C# MVC code that refers to a SQL table. I have a SQL table called Machines with all the Machine names. How do I sort the Names in alphabetical order in the SQL table using this code?</p>\n\n<p>The Controller Code:</p>\n\n<pre><code> public class HomeController : Controller\n{\n    public ActionResult Index()\n    {\n        using (var db = new DatabaseModel())\n        {\n            var machines = db.Machines.ToList().Select(m =&gt; m.ToSelectListItem());\n\n            ViewBag.MachineOptions = machines;\n        }\n\n        return View();\n    }\n}\n</code></pre>\n\n<p>I want the Names under Name column in the Machine table to be sorted alphabetically.</p>\n\n<p>Machine Table:</p>\n\n<pre><code>  Id     Name\n   1      HP500\n   2      ABC234\n   3      JH430\n</code></pre>\n"}, {"tags": ["c#", "automapper"], "comments": [{"owner": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1524110899, "post_id": 49907057, "comment_id": 86840763, "body": "You can have a separate profile where you set the prefix."}], "owner": {"reputation": 184, "user_id": 2896368, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/28280ac25ee6bfa6778a86247c667d50?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Andrews", "link": "https://stackoverflow.com/users/2896368/michael-andrews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1524077667, "creation_date": 1524077667, "question_id": 49907057, "link": "https://stackoverflow.com/questions/49907057/automapper-remove-prefix-per-map", "title": "Automapper Remove Prefix Per Map", "body": "<p>I want to remove a prefix from my source object, but I'd like to do it for each map an not globally, as it could cause issues where it's removing a column when it shouldn't. Is there an easy way to do this? This is what I'm working with right now</p>\n\n<pre><code>public partial class MappingProfile : Profile\n{\n\n\n    public MappingProfile()\n    {\n        //I would prefer this not to be a global and only remove the prefix on the specific map below\n        RecognizePrefixes(\"Can\");\n        CreateMap&lt;Candidate, CandidateVM&gt;();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "datatable", "sqlcommand"], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 8098080, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7c5443ac2a244df008b66c55997f4d9b?s=128&d=identicon&r=PG&f=1", "display_name": "W.Harr", "link": "https://stackoverflow.com/users/8098080/w-harr"}, "edited": false, "score": 0, "creation_date": 1524079185, "post_id": 49907375, "comment_id": 86830717, "body": "Thanks for your suggestion. Unfortunately, the result of the command is still a blank {} datatable."}, {"owner": {"reputation": 1018, "user_id": 8729180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?s=128&d=identicon&r=PG", "display_name": "Jake Reece", "link": "https://stackoverflow.com/users/8729180/jake-reece"}, "reply_to_user": {"reputation": 193, "user_id": 8098080, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7c5443ac2a244df008b66c55997f4d9b?s=128&d=identicon&r=PG&f=1", "display_name": "W.Harr", "link": "https://stackoverflow.com/users/8098080/w-harr"}, "edited": false, "score": 0, "creation_date": 1524097031, "post_id": 49907375, "comment_id": 86837501, "body": "Didn&#39;t want to leave you hanging--I&#39;ll take another look at this when I get a chance."}, {"owner": {"reputation": 193, "user_id": 8098080, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7c5443ac2a244df008b66c55997f4d9b?s=128&d=identicon&r=PG&f=1", "display_name": "W.Harr", "link": "https://stackoverflow.com/users/8098080/w-harr"}, "edited": false, "score": 0, "creation_date": 1524097476, "post_id": 49907375, "comment_id": 86837619, "body": "Appreciate it brother."}, {"owner": {"reputation": 193, "user_id": 8098080, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7c5443ac2a244df008b66c55997f4d9b?s=128&d=identicon&r=PG&f=1", "display_name": "W.Harr", "link": "https://stackoverflow.com/users/8098080/w-harr"}, "edited": false, "score": 0, "creation_date": 1524153094, "post_id": 49907375, "comment_id": 86866439, "body": "Very interesting. I see how the Command Factory class isn&#39;t necessary. When I implemented your suggestions it still returned a blank data table for the original query but for the second query I mentioned in my edit it returned 7 rows as expected. I confirmed the original query was working in SSMS so I&#39;m a little confused. I will do some more digging. Thank you though, you&#39;ve been a great help"}, {"owner": {"reputation": 1018, "user_id": 8729180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?s=128&d=identicon&r=PG", "display_name": "Jake Reece", "link": "https://stackoverflow.com/users/8729180/jake-reece"}, "reply_to_user": {"reputation": 193, "user_id": 8098080, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7c5443ac2a244df008b66c55997f4d9b?s=128&d=identicon&r=PG&f=1", "display_name": "W.Harr", "link": "https://stackoverflow.com/users/8098080/w-harr"}, "edited": false, "score": 0, "creation_date": 1524153701, "post_id": 49907375, "comment_id": 86866830, "body": "You&#39;re welcome. Could you post your updated code that still isn&#39;t working? Are you passing the same value for @practiceID in your testing as you are in SSMS?"}, {"owner": {"reputation": 193, "user_id": 8098080, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7c5443ac2a244df008b66c55997f4d9b?s=128&d=identicon&r=PG&f=1", "display_name": "W.Harr", "link": "https://stackoverflow.com/users/8098080/w-harr"}, "edited": false, "score": 0, "creation_date": 1524154142, "post_id": 49907375, "comment_id": 86867106, "body": "Sure thing. Just so you know I changed the function name from getAllModifiedChargesToday to PerformStoredProcedure and added a parameter command name. This allows me to reuse the function for different procedures without having to make a new function for each one. Also yes, the practiceID being passed is definitely the same"}, {"owner": {"reputation": 1018, "user_id": 8729180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?s=128&d=identicon&r=PG", "display_name": "Jake Reece", "link": "https://stackoverflow.com/users/8729180/jake-reece"}, "reply_to_user": {"reputation": 193, "user_id": 8098080, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7c5443ac2a244df008b66c55997f4d9b?s=128&d=identicon&r=PG&f=1", "display_name": "W.Harr", "link": "https://stackoverflow.com/users/8098080/w-harr"}, "edited": false, "score": 0, "creation_date": 1524171114, "post_id": 49907375, "comment_id": 86876078, "body": "Hmmm... Are there any other details you can offer? What rows do you expect, and what rows are being output to the log? The fact that this method is able to retrieve data by calling one of your stored procedures indicates that the application successfully connects to the database. So since you now have a means of retrieving data, I can only think that there have to be differences between the way the stored procedure is being called in your application vs. in SSMS. By the way, you may way to pass in a parameters array, since surely not every stored procedure expects the same parameters."}, {"owner": {"reputation": 193, "user_id": 8098080, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7c5443ac2a244df008b66c55997f4d9b?s=128&d=identicon&r=PG&f=1", "display_name": "W.Harr", "link": "https://stackoverflow.com/users/8098080/w-harr"}, "edited": false, "score": 0, "creation_date": 1524242200, "post_id": 49907375, "comment_id": 86908718, "body": "Very good point about sending an array of parameters instead of specified ones. Also, I have no idea why but when I ran the original SP from ASP.NET this morning it returned what I expected. I have no idea what is different from yesterday that&#39;s making it work and I&#39;m concerned it may be inconsistent in the future. Anyways, marking yours as right answer for all your great help and the fact you tremendously improved the program. Thank you"}], "tags": [], "owner": {"reputation": 1018, "user_id": 8729180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed6dbee925e18919b19b4a98c567e6c1?s=128&d=identicon&r=PG", "display_name": "Jake Reece", "link": "https://stackoverflow.com/users/8729180/jake-reece"}, "is_accepted": true, "score": 1, "last_activity_date": 1524110546, "last_edit_date": 1524110546, "creation_date": 1524078790, "answer_id": 49907375, "question_id": 49907041, "link": "https://stackoverflow.com/questions/49907041/procedure-returning-blank-data-table-from-asp-net/49907375#49907375", "title": "Procedure Returning Blank Data Table from ASP.NET", "body": "<p>You're quite close. Here are a few pointers:</p>\n\n<ol>\n<li>The <code>SqlConnection</code> is never opened. You need to call <code>.Open()</code> in order\nfor the connection to be established.</li>\n<li>If you set\na breakpoint on the <code>.Fill()</code> line and hover over the <code>DataTable</code>\nobject, it will appear as if the <code>DataTable</code> is empty (as you've seen), but <code>.Fill()</code> actually fills the <code>Rows</code> of the <code>DataTable</code> for you\nautomatically (see <a href=\"https://msdn.microsoft.com/en-us/library/905keexk(v=vs.110).aspx\" rel=\"nofollow noreferrer\">MSDN</a>). I bet that if you loop through the <code>Rows</code>, you'll find\nthat your query has actually been returning data all along.</li>\n<li>You could use <code>using</code> statements which automatically call <code>.Dispose()</code> for you as well as close the <code>SqlConnection</code>.</li>\n</ol>\n\n<p>Here's an updated version of your method:</p>\n\n<pre><code>public static DataTable getAllModifiedChargesToday(int practiceID)\n{\n    DataTable dt = new DataTable();\n\n    try\n    {\n        using (SqlConnection conn = new SqlConnection(System.Configuration.ConfigurationManager.AppSettings[\"DbConnString\"].ToString()))\n        {\n            conn.Open();\n\n            using (SqlCommand cmd = conn.CreateCommand())\n            {\n                cmd.CommandType = CommandType.StoredProcedure;\n                cmd.CommandText = \"ch_getAllModifiedChargesToday\";\n                cmd.Parameters.AddWithValue(\"@practiceID\", practiceID);\n\n                using (SqlDataAdapter da = new SqlDataAdapter(cmd))\n                {\n                    da.Fill(dt);\n                }\n            }\n        }\n    }\n    catch (Exception ex)\n    {\n        LogError(ex);\n    }\n\n    return dt;\n}\n</code></pre>\n\n<p>And here's a test you can run to view the data returned:</p>\n\n<pre><code>for (int i = 0; i &lt; dt.Rows.Count; i++)\n{\n    for (int j = 0; j &lt; dt.Rows[i].ItemArray.Length; j++)\n    {\n        Console.Write(dt.Rows[i].ItemArray[j] + \",\");\n    }\n    Console.WriteLine();\n}\n</code></pre>\n\n<p>Also, you mentioned setting a timeout... I usually set my in my connection string, like so:</p>\n\n<pre><code>\"Server=SERVER;Database=DATABASE;User ID=USER;Password=PASSWORD;Trusted_Connection=False;Asynchronous Processing=true;Timeout=60;\"\n</code></pre>\n\n<p>You don't need that extra <code>CommandFactory</code> class at all, and you don't need to set a <code>MinimumCapacity</code> (<a href=\"https://msdn.microsoft.com/en-us/library/system.data.datatable.minimumcapacity(v=vs.110).aspx\" rel=\"nofollow noreferrer\">MSDN</a>) unless you are really trying to optimize performance and have a guesstimate of how many records will be returned. This property isn't used very often.</p>\n"}], "owner": {"reputation": 193, "user_id": 8098080, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7c5443ac2a244df008b66c55997f4d9b?s=128&d=identicon&r=PG&f=1", "display_name": "W.Harr", "link": "https://stackoverflow.com/users/8098080/w-harr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 49907375, "answer_count": 1, "score": 1, "last_activity_date": 1524154221, "creation_date": 1524077623, "last_edit_date": 1524154221, "question_id": 49907041, "link": "https://stackoverflow.com/questions/49907041/procedure-returning-blank-data-table-from-asp-net", "title": "Procedure Returning Blank Data Table from ASP.NET", "body": "<p>I'm having issues with a stored procedure I'm attempting to run from an ASP.NET console application.</p>\n\n<p>This is how I'm attempting to get the results in the code:</p>\n\n<pre><code>public static DataTable PerformStoredProcedure(int PracticeID, string CommandName)\n    {\n\n        DataTable dt = new DataTable();\n\n        try\n        {\n            using (SqlConnection conn = new SqlConnection(System.Configuration.ConfigurationManager.AppSettings[\"DbConnString\"].ToString()))\n            {\n                conn.Open();\n\n                using (SqlCommand cmd = conn.CreateCommand())\n                {\n                    cmd.CommandType = CommandType.StoredProcedure;\n                    cmd.CommandText = CommandName;\n                    cmd.Parameters.AddWithValue(\"@practiceID\", PracticeID);\n\n                    using (SqlDataAdapter da = new SqlDataAdapter(cmd))\n                    {\n                        da.Fill(dt);\n                    }\n                }\n\n                for (int i = 0; i &lt; dt.Rows.Count; i++)\n                {\n                    for (int j = 0; j &lt; dt.Rows[i].ItemArray.Length; j++)\n                    {\n                        Console.Write(dt.Rows[i].ItemArray[j] + \",\");\n                    }\n                    Console.WriteLine();\n                }\n            }\n        }\n</code></pre>\n\n<p>After the procedure is run I get returned with a blank data set with no errors. However, when I run the procedure in SQL Server Management Studio I works just fine.</p>\n\n<p>You may notice I don't use the <code>new SqlCommand()</code> constructor when initiating the <code>SqlCommand cmd</code>. That is because the query is enormous and takes a while to run so I figured it was a timeout issue.</p>\n\n<p>Following the suggestion <a href=\"https://stackoverflow.com/questions/25302038/how-to-set-sqlcommandtimeout-in-app-config\">here</a>, I made the following class in order to adjust the execution timeout limit.</p>\n\n<pre><code>class CommandFactory\n{\n            public static int CommandTimeout\n            {\n                get\n                {\n                    int commandTimeout = 0;\n                    var configValue = ConfigurationManager.AppSettings[\"commandTimeout\"];\n\n                    if (int.TryParse(configValue, out commandTimeout))\n                        return commandTimeout;\n\n                    return 120;\n                }\n            }\n</code></pre>\n\n<p>Figured I'd include that just to avoid confusion about whether the <code>SqlCommand</code> was being initialized correctly. After that adjustment, I began getting the issue where the command returns a blank data table. I assumed it could have to do with the minimum capacity of the data table <code>dt</code>, so I adjusted that as you can see in the original code.</p>\n\n<p>I've done additional research and made the suggested fixes that are suggested to no avail:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5511374/my-stored-procedure-returns-something-but-sqldataadapter-fill-leaves-datatable\">1.</a> Set nocount on</p>\n\n<p><a href=\"https://www.codeproject.com/Questions/310286/Stored-Procedure-returns-Empty-table-to-DATAREADER\" rel=\"nofollow noreferrer\">2.</a> Use data adapter instead of data reader</p>\n\n<p><a href=\"https://www.sqlservercentral.com/Forums/1497882/Works-in-Management-Studio-but-not-from-C?PageIndex=1\" rel=\"nofollow noreferrer\">3.</a> This is the most detailed answer. There are several suggestions made with in the forum but the eventual resolution has to do with views being used by the database as a default and blocking access to desired data. I have already confirmed with our DBA that we do not do this.</p>\n\n<p>Like I mentioned before, the query encompassed in the stored procedure is enormous and I haven't included it here because of its sheer size and because this post is long enough as it is. Again, I did confirm that the procedure is working in SSMS.</p>\n\n<p>I also haven't included an example result set because the data contains restricted information.</p>\n\n<p>I appreciate any help you can give.</p>\n\n<p>UPDATE:</p>\n\n<p>I added another method that calls a stored procedure to see if the problem was particular to the particular procedure being called. That second stored procedure also returned a blank data table so the problem is not specific to either procedure. (I also confirmed the second procedure was working and returning rows in SSMS)</p>\n\n<p>That led me to believe there was something wrong with the app.config file for that project. I then added a third method that called a stored procedure on another project in the solution. However, even that returned a blank data table.</p>\n\n<p>Figured I'd provide clues as I happen upon them.</p>\n"}, {"tags": ["c#", "xaml", "uwp", "accessibility", "ui-automation"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1524077489, "post_id": 49906901, "comment_id": 86829852, "body": "Is <code>DOES_NOT_WORK</code> definitely a property of the GridViewHeaderItem&#39;s DataContext?"}, {"owner": {"reputation": 3230, "user_id": 329928, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/HWX0x.png?s=128&g=1", "display_name": "Chris Leyva", "link": "https://stackoverflow.com/users/329928/chris-leyva"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1524078006, "post_id": 49906901, "comment_id": 86830109, "body": "@EdPlunkett Absolutely. I edited the question to hopefully be clearer. It seems that Binding in a Style&#39;s Setter Value doesn&#39;t work."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1524078192, "post_id": 49906901, "comment_id": 86830197, "body": "I think it was clear enough before. <a href=\"https://stackoverflow.com/a/33582406/424129\">But anyway, you&#39;re right</a>, and I&#39;m afraid that&#39;s the answer."}, {"owner": {"reputation": 3230, "user_id": 329928, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/HWX0x.png?s=128&g=1", "display_name": "Chris Leyva", "link": "https://stackoverflow.com/users/329928/chris-leyva"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1524079766, "post_id": 49906901, "comment_id": 86831036, "body": "@EdPlunkett Yeah, that&#39;s the link I came across, too. Thanks for trying. I was looking for a way to work-around this, if possible."}], "answers": [{"comments": [{"owner": {"reputation": 1236, "user_id": 1162324, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d33728a4fd234a9c00e390766928525f?s=128&d=identicon&r=PG", "display_name": "Max Young", "link": "https://stackoverflow.com/users/1162324/max-young"}, "edited": false, "score": 0, "creation_date": 1524425282, "post_id": 49951750, "comment_id": 86955709, "body": "This answer would work but what if you wanted the property to be the same throughout your whole application? Sorry I know that is not OPs question but was just curious."}, {"owner": {"reputation": 10490, "user_id": 27306, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/5bc16a644f52bd2c62283f1252ed1b41?s=128&d=identicon&r=PG", "display_name": "Michael S. Scherotter", "link": "https://stackoverflow.com/users/27306/michael-s-scherotter"}, "reply_to_user": {"reputation": 1236, "user_id": 1162324, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d33728a4fd234a9c00e390766928525f?s=128&d=identicon&r=PG", "display_name": "Max Young", "link": "https://stackoverflow.com/users/1162324/max-young"}, "edited": false, "score": 0, "creation_date": 1525261942, "post_id": 49951750, "comment_id": 87285938, "body": "Max, If you create a Style in App.Xaml for GridView without an x:Key, it will be the new default style for all GridViews.  set its GroupStyle and it will apply to all GridView instances."}, {"owner": {"reputation": 3230, "user_id": 329928, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/HWX0x.png?s=128&g=1", "display_name": "Chris Leyva", "link": "https://stackoverflow.com/users/329928/chris-leyva"}, "edited": false, "score": 0, "creation_date": 1525277306, "post_id": 49951750, "comment_id": 87296376, "body": "Unfortunately, this does not work. I messed up when testing this answer and prematurely marked it as the answer and assigned the bounty. Anyway, this does not set the AutomationProperty.Name on the GridViewHeaderItem, which is what Windows&#39; Narrator app uses to read the names of the control when it has focus. I&#39;m playing around with some other ideas now to try to get it to work. Thanks, though."}, {"owner": {"reputation": 3230, "user_id": 329928, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/HWX0x.png?s=128&g=1", "display_name": "Chris Leyva", "link": "https://stackoverflow.com/users/329928/chris-leyva"}, "edited": false, "score": 0, "creation_date": 1529613721, "post_id": 49951750, "comment_id": 88950271, "body": "@MichaelS.Scherotter It took a long time but I was finally able to post the solution that worked for me. Thanks again for taking a look."}], "tags": [], "owner": {"reputation": 10490, "user_id": 27306, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/5bc16a644f52bd2c62283f1252ed1b41?s=128&d=identicon&r=PG", "display_name": "Michael S. Scherotter", "link": "https://stackoverflow.com/users/27306/michael-s-scherotter"}, "is_accepted": false, "score": 1, "last_activity_date": 1525261790, "last_edit_date": 1525261790, "creation_date": 1524276887, "answer_id": 49951750, "question_id": 49906901, "link": "https://stackoverflow.com/questions/49906901/how-can-i-set-automationproperties-name-on-a-gridviewheaderitem/49951750#49951750", "title": "How Can I Set AutomationProperties.Name on a GridViewHeaderItem?", "body": "<p>Instead of specifying the name in the Style, define the HeaderTemplate of the GridView.GroupStyle and use data binding there </p>\n\n<pre><code>&lt;Grid AutomationProperties.Name=\"{Binding MyNameProperty}\"&gt; \n   ...\n&lt;/Grid&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3230, "user_id": 329928, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/HWX0x.png?s=128&g=1", "display_name": "Chris Leyva", "link": "https://stackoverflow.com/users/329928/chris-leyva"}, "is_accepted": true, "score": 1, "last_activity_date": 1529613672, "creation_date": 1529613672, "answer_id": 50977109, "question_id": 49906901, "link": "https://stackoverflow.com/questions/49906901/how-can-i-set-automationproperties-name-on-a-gridviewheaderitem/50977109#50977109", "title": "How Can I Set AutomationProperties.Name on a GridViewHeaderItem?", "body": "<h2>SOLUTION: AutomationPeers</h2>\n\n<p>Here is how I was able to set AutomationProperties.Name on the GridViewHeaderItem at runtime, without having to use the VisualTreeHelper. Basically, I used the AutomationPeer classes to grab a reference to the GridViewHeaderItem and then set the AutomationProperties.Name in that way.</p>\n\n<p><strong>Control.xaml</strong></p>\n\n<pre><code>&lt;GridView ...&gt;\n    &lt;GridView.GroupStyle&gt;\n        &lt;GroupStyle ...&gt;\n            &lt;GroupStyle.HeaderTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;!-- Important to handle the Loaded event --&gt;\n                    &lt;TextBlock Loaded=\"TextBlockLoaded\" Text=\"Hi\" /&gt;\n                &lt;/DateTemplate&gt;\n            &lt;/GroupStyle.HeaderTemplate&gt;\n        &lt;/GroupStyle&gt;\n    &lt;/GridView.GroupStyle&gt;\n&lt;/GridView&gt;\n</code></pre>\n\n<p><strong>Control.xaml.cs</strong></p>\n\n<pre><code>private void TextBlockLoaded(object sender, RoutedEventArgs e)\n{\n    var textBlockAP = FrameworkElementAutomationPeer.CreatePeerForElement(sender as UIElement);\n    if (textBlockAP != null) \n    {\n        var parentAP = textBlockAP.Navigate(AutomationNavigationDirection.Parent);\n        if (parentAP is GridViewHeaderItemAutomationPeer gridViewHeaderItemAP)\n        {\n            var gridViewHeaderItem = gridViewHeaderItemAP.Owner as GridViewHeaderItem;\n            var itemGroup = gridViewHeaderItem.Content as SomeItemGroupClass;\n            AutomationProperties.SetName(gridViewHeaderItem, itemGroup.Title ?? string.Empty);\n        }\n    }\n}\n</code></pre>\n\n<p>This worked wonders for me with my very specific use case.</p>\n"}], "owner": {"reputation": 3230, "user_id": 329928, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/HWX0x.png?s=128&g=1", "display_name": "Chris Leyva", "link": "https://stackoverflow.com/users/329928/chris-leyva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 0, "accepted_answer_id": 50977109, "answer_count": 2, "score": 4, "last_activity_date": 1529613672, "creation_date": 1524077133, "last_edit_date": 1524081663, "question_id": 49906901, "link": "https://stackoverflow.com/questions/49906901/how-can-i-set-automationproperties-name-on-a-gridviewheaderitem", "title": "How Can I Set AutomationProperties.Name on a GridViewHeaderItem?", "body": "<p>I have a Grouped GridView in my app. I'd like to set <code>AutomationProperties.Name</code> on the <code>GridViewHeaderItem</code> object, which I can do using a <code>&lt;Style&gt;</code> like the following:</p>\n\n<pre><code>&lt;Style x:Key=\"GridViewHeaderStyle\" TargetType=\"GridViewHeaderItem\"&gt;\n    &lt;Setter Property=\"AutomationProperties.Name\" Value=\"This Works\" /&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p>The following <strong>does NOT</strong> work, regardless of what I bind to:</p>\n\n<pre><code>&lt;Style x:Key=\"GridViewHeaderStyle\" TargetType=\"GridViewHeaderItem\"&gt;\n    &lt;Setter Property=\"AutomationProperties.Name\" Value=\"{Binding DataContext.PropertyDoesNotWork}\" /&gt;\n&lt;/Style&gt;\n</code></pre>\n\n<p>How can I set the <code>AutomationProperties.Name</code> at run-time? Is there some event that is fired when the <code>GridViewHeaderItem</code> object is created? </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "arrays", "winforms", "sql-server-2008"], "comments": [{"owner": {"reputation": 2238, "user_id": 2780300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0f8fbffb43125296bc27d421fe383c?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/2780300/kevin"}, "edited": false, "score": 0, "creation_date": 1524078190, "post_id": 49906878, "comment_id": 86830196, "body": "have you considered serialization/deserialization, it would still be a string?"}, {"owner": {"reputation": 2238, "user_id": 2780300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0f8fbffb43125296bc27d421fe383c?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/2780300/kevin"}, "edited": false, "score": 0, "creation_date": 1524078664, "post_id": 49906878, "comment_id": 86830412, "body": "I tried both NewtonSoft and a foreach loop using StringBuilder instead of String. The foreach loop was twice as fast."}, {"owner": {"reputation": 2238, "user_id": 2780300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0f8fbffb43125296bc27d421fe383c?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/2780300/kevin"}, "edited": false, "score": 1, "creation_date": 1524078818, "post_id": 49906878, "comment_id": 86830497, "body": "I tried Dmitry&#39;s solution also the foreach solution is still the fastest by a significant amount of time."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 2238, "user_id": 2780300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0f8fbffb43125296bc27d421fe383c?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/2780300/kevin"}, "edited": false, "score": 1, "creation_date": 1524078913, "post_id": 49906878, "comment_id": 86830555, "body": "@Kevin post it as an answer!"}, {"owner": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "edited": false, "score": 0, "creation_date": 1524082326, "post_id": 49906878, "comment_id": 86832381, "body": "While I question the wisdom of saving that much data to a DB field, why would you save it a String instead of a BLOB?  As a String you would need use the <code>G17</code> format specifier to ensure round-trip data accuracy.  In most cases I would expect that the string representation would consume far more storage than the 8 bytes per double stored in a BLOB."}], "answers": [{"tags": [], "owner": {"reputation": 148466, "user_id": 2319407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/98O16.jpg?s=128&g=1", "display_name": "Dmitry Bychenko", "link": "https://stackoverflow.com/users/2319407/dmitry-bychenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1524080400, "last_edit_date": 1524080400, "creation_date": 1524078306, "answer_id": 49907242, "question_id": 49906878, "link": "https://stackoverflow.com/questions/49906878/converting-double-to-a-string-and-storing-in-sql-server-table-column/49907242#49907242", "title": "Converting double[,] to a string and storing in SQL Server table column", "body": "<p>Try <code>OfType&lt;double&gt;()</code> in order to get <code>IEnumerable&lt;double&gt;</code> which you can put to <code>Join</code>:</p>\n\n<pre><code>double[,] zDataDifference = new double[2048, 2048];\n\n...\n\nstring result = string.Join(\",\", zDataDifference.OfType&lt;double&gt;());\n</code></pre>\n\n<p>But be careful: <code>2048 * 2048 == 4194304</code> items means a lot of memory (and time) </p>\n\n<p><strong>Edit:</strong> <code>StringBuilder</code> solution (based on <em>Kevin's</em> answer) </p>\n\n<pre><code>   // In order NOT to reallocate the memory in the process, \n   // let's estimate imageData size in anvance.\n   // Let us expect each item to be not more than of 20 characters\n   var ImageData = new StringBuilder(2048 * 2048 * 20);\n\n   foreach (var item in zDataDifference) {\n     // We should add ',' before each item except the very first one\n     if (ImageData.Length &gt; 0)\n       ImageData.Append(',');\n\n     // Try to avoid creating a lot of small strings: item + \",\"\n     ImageData.Append(item);\n   }\n\n   string result = ImageData.ToString();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2238, "user_id": 2780300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0f8fbffb43125296bc27d421fe383c?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/2780300/kevin"}, "is_accepted": false, "score": 2, "last_activity_date": 1524079757, "creation_date": 1524079757, "answer_id": 49907625, "question_id": 49906878, "link": "https://stackoverflow.com/questions/49906878/converting-double-to-a-string-and-storing-in-sql-server-table-column/49907625#49907625", "title": "Converting double[,] to a string and storing in SQL Server table column", "body": "<p>The reason your foreach solution is slow is because you are using String, and doing string concatenation for each iteration of the loop (4,194,304 iterations). By using a StringBuilder you could improve performance signicantly. If ease of use is of importance I would serialize this to json and store it that way, it also makes it very easy to reinitialize your array (you could also make it async so it doesn't slow down your application if nothing relies on it being added to the db first).</p>\n\n<p>Foreach using StringBuilder (fastest way):</p>\n\n<pre><code>var ImageData = new StringBuilder();\n\nforeach (var dd in zDataDifference)\n{\n   ImageData.Append(dd + \",\");\n}\n</code></pre>\n\n<p>Ease of use:</p>\n\n<pre><code>var ImageData = JsonConvert.SerializeObject(zDataDifference);\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 8909688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6970cff0ab45c566f4a40e179ec4ee7?s=128&d=identicon&r=PG&f=1", "display_name": "Baba", "link": "https://stackoverflow.com/users/8909688/baba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1524080400, "creation_date": 1524077018, "last_edit_date": 1524078543, "question_id": 49906878, "link": "https://stackoverflow.com/questions/49906878/converting-double-to-a-string-and-storing-in-sql-server-table-column", "title": "Converting double[,] to a string and storing in SQL Server table column", "body": "<p>I have a double array initialized as below</p>\n\n<pre><code>double[,] zDataDifference = new double[2048, 2048];\n</code></pre>\n\n<p>in order to store this data in a SQL server table column, i am trying to convert that to a string. Initially i thought of using the below code which I used to convert my double[] to string and was successful in doing so.</p>\n\n<pre><code>String.Join(\",\", NICorrectedMean.Select(p =&gt; p.ToString()).ToArray());\n</code></pre>\n\n<p>But since <code>double[,]</code> i.e.,(double[<em>,</em>]) does not have a definition for <code>Select</code> method and no extension method exists...</p>\n\n<p>I do not want to use the below foreach loop as the whole application hangs due to large amount of data.</p>\n\n<pre><code>foreach(double dd in zDataRedDouble)\n{\n    ImageData += String.Join(\",\", dd);\n}\n</code></pre>\n\n<p>Is there any quick or efficient way to convert the <code>double[*,*]</code> to a string in C#?</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1524077134, "post_id": 49906857, "comment_id": 86829653, "body": "I&#39;m not sure what you are asking? A method to display it to the user? How to obtain it from the database? How to organize it in code? How to represent it visually?"}, {"owner": {"reputation": 247, "user_id": 9419790, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oTjJc.jpg?s=128&g=1", "display_name": "Chloe Finn", "link": "https://stackoverflow.com/users/9419790/chloe-finn"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1524077192, "post_id": 49906857, "comment_id": 86829692, "body": "I&#39;ll edit my question, tired eyes from coding all day lol"}, {"owner": {"reputation": 247, "user_id": 9419790, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oTjJc.jpg?s=128&g=1", "display_name": "Chloe Finn", "link": "https://stackoverflow.com/users/9419790/chloe-finn"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1524077332, "post_id": 49906857, "comment_id": 86829769, "body": "@RonBeyer just edited there"}, {"owner": {"reputation": 512, "user_id": 1647122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bfccc13d9aff180dddd04bf93cf7d61?s=128&d=identicon&r=PG", "display_name": "Milton Filho", "link": "https://stackoverflow.com/users/1647122/milton-filho"}, "edited": false, "score": 1, "creation_date": 1524078654, "post_id": 49906857, "comment_id": 86830404, "body": "On action VolunteerCeremonies, do you wanna list all appointments from a user? if so you should use  var ceremonies = (from a in getVolunteer.Appointments                           where a.Fee != null &amp;&amp; a.Slots != 0                           select a).ToList();          return View(ceremonies);"}, {"owner": {"reputation": 512, "user_id": 1647122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bfccc13d9aff180dddd04bf93cf7d61?s=128&d=identicon&r=PG", "display_name": "Milton Filho", "link": "https://stackoverflow.com/users/1647122/milton-filho"}, "edited": false, "score": 1, "creation_date": 1524078697, "post_id": 49906857, "comment_id": 86830429, "body": "To add a new appointment to this user  getVolunteer.Appointments.Add(apps); db.SaveChanges();"}, {"owner": {"reputation": 247, "user_id": 9419790, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oTjJc.jpg?s=128&g=1", "display_name": "Chloe Finn", "link": "https://stackoverflow.com/users/9419790/chloe-finn"}, "reply_to_user": {"reputation": 512, "user_id": 1647122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bfccc13d9aff180dddd04bf93cf7d61?s=128&d=identicon&r=PG", "display_name": "Milton Filho", "link": "https://stackoverflow.com/users/1647122/milton-filho"}, "edited": false, "score": 0, "creation_date": 1524081722, "post_id": 49906857, "comment_id": 86832063, "body": "@MiltonFilho yes, I would like a user to their specific users events."}], "owner": {"reputation": 247, "user_id": 9419790, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/oTjJc.jpg?s=128&g=1", "display_name": "Chloe Finn", "link": "https://stackoverflow.com/users/9419790/chloe-finn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1524077310, "creation_date": 1524076969, "last_edit_date": 1524077310, "question_id": 49906857, "link": "https://stackoverflow.com/questions/49906857/display-someones-events-when-using-many-to-many", "title": "Display someone&#39;s events when using Many to Many", "body": "<p>I have an application which keeps tracks of Volunteers and what events they are signed up to.</p>\n\n<p>A Volunteer can have many events and an event can have many Volunteers.</p>\n\n<p>I want to have it so:</p>\n\n<ul>\n<li>A Volunteer can view their events that they are signed up to (Doing this through my DB) in a List - essentially just the details of the event specific to if they are signed up for.</li>\n<li>And also sign up for new events - press a link which takes their ID and adds it to the Event/Appointment list thats in the Event/Appointment table to update the event and the many to many table.</li>\n</ul>\n\n<p>I'm trying to create a method to do these but I'm lost. I've tried to use a multi select list with javascript but its not looking well.</p>\n\n<p>Here is my Volunteer Entity along with what I have so far:</p>\n\n<pre><code>public class Volunteer\n{\n    [Key]\n    public int VolunteerId { get; set; }\n\n    public string Name { get; set; }\n\n    public string Username { get; set; }\n\n    public string Email { get; set; }\n\n    public bool GardaVetted { get; set; }\n\n    public string VolunteerRole { get; set; }\n\n    public string VolunteerPhoneNumber { get; set; }\n\n    [ForeignKey(\"Church\")]\n    public int ChurchId { get; set; }\n\n    //Foreign Key\n    public virtual Church Church { get; set; }\n\n    public virtual ICollection&lt;Appointments&gt; Appointments { get; set; }\n\n    public Volunteer()\n    {\n        this.Appointments = new HashSet&lt;Appointments&gt;();\n    }\n\n}\n</code></pre>\n\n<p>Volunteer Controller:</p>\n\n<pre><code> public ActionResult AvailableCeremonies()\n    {\n        var ceremonies = (from a in db.Appointments\n                          where a.Fee != null &amp;&amp; a.Slots != 0\n                          select a).ToList();\n\n        return View(ceremonies);\n    }\n\n    public ActionResult VolunteerCeremonies(Appointments apps)\n    {\n        string username = Membership.GetUser().UserName;\n\n        var getVolunteer = (from vol in db.Volunteers\n                            where username == vol.Username\n                            select vol).SingleOrDefault();\n\n\n        //List of Volunteers in the Ceremonies\n        apps.Volunteers = new List&lt;Volunteer&gt;();\n\n\n\n\n        db.SaveChanges();\n\n        return View(apps);\n\n    }\n</code></pre>\n\n<p>My Events/Appointments entity because I don't need to do anything in the other controller:</p>\n\n<pre><code>public class Appointments\n{\n    [Key]\n    public int AppointmentId { get; set; }\n\n    public string DetailsOfAppointment { get; set; }\n\n    public int? Fee { get; set; }\n\n    public string RoomType { get; set; }\n\n    public string NameOfApplicant { get; set; }\n\n    public string ApplicantPhoneNumber { get; set; }\n\n    public string ApplicantEmail { get; set; }\n\n    public int Slots { get; set; }\n\n    [DataType(DataType.DateTime)]\n    [DisplayFormat(ApplyFormatInEditMode = true,DataFormatString = \"{0:dd/MM/yyyy HH:mm}\")]\n    public DateTime DateOfAppointment { get; set; }\n\n    public string ThemeColour { get; set; }\n\n    public Boolean Confirmed { get; set; }\n\n    [ForeignKey(\"Admins\")]\n    public int AdministrationId { get; set; }\n\n    [ForeignKey(\"Church\")]\n    public int ChurchId { get; set; }\n\n    //[ForeignKey(\"Volunteers\")]\n    //public int VolunteerId { get; set; }\n\n    public virtual Church Church { get; set; }\n\n    public virtual Administration Admins { get; set; }\n\n    public ICollection &lt;Volunteer&gt; Volunteers { get; set; }\n\n    public Appointments()\n    {\n        this.Volunteers = new HashSet&lt;Volunteer&gt;();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Is there anyway of doing these or even point me in the right direction?</p>\n"}, {"tags": ["c#", "visual-studio-2017", "setup-project", "visual-studio-setup-proje"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1524077274, "post_id": 49906828, "comment_id": 86829735, "body": "What is a &quot;locked .exe&quot;?"}, {"owner": {"reputation": 138, "user_id": 7054211, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/33a4161df1450a925e6845762852737c?s=128&d=identicon&r=PG&f=1", "display_name": "rippergr", "link": "https://stackoverflow.com/users/7054211/rippergr"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1524078874, "post_id": 49906828, "comment_id": 86830529, "body": "When I compile my project it creates an exe file. I then run an application the it &quot;locks&quot; it so it asks for a key to run it."}, {"owner": {"reputation": 19184, "user_id": 3261150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0821e1dca957dda1214f1d273a08e161?s=128&d=identicon&r=PG&f=1", "display_name": "PhilDW", "link": "https://stackoverflow.com/users/3261150/phildw"}, "edited": false, "score": 0, "creation_date": 1524161305, "post_id": 49906828, "comment_id": 86871008, "body": "You can add any exe you want to the setup project with &quot;Add File&quot; or drag and drop into the File System view, if that is what you are asking."}, {"owner": {"reputation": 138, "user_id": 7054211, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/33a4161df1450a925e6845762852737c?s=128&d=identicon&r=PG&f=1", "display_name": "rippergr", "link": "https://stackoverflow.com/users/7054211/rippergr"}, "reply_to_user": {"reputation": 19184, "user_id": 3261150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0821e1dca957dda1214f1d273a08e161?s=128&d=identicon&r=PG&f=1", "display_name": "PhilDW", "link": "https://stackoverflow.com/users/3261150/phildw"}, "edited": false, "score": 0, "creation_date": 1524161749, "post_id": 49906828, "comment_id": 86871259, "body": "@PhilDW I know that but my problem is that I want to change to executable of the program. So if I put another exe I want when the installation finish to replace the original executable with the one I put as extra."}, {"owner": {"reputation": 19184, "user_id": 3261150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0821e1dca957dda1214f1d273a08e161?s=128&d=identicon&r=PG&f=1", "display_name": "PhilDW", "link": "https://stackoverflow.com/users/3261150/phildw"}, "edited": false, "score": 0, "creation_date": 1524166708, "post_id": 49906828, "comment_id": 86873873, "body": "It&#39;s still not clear exactly when you want this to happen, but after you have built the first exe, you can add a post-build event that modifies the exe to do your locking, and then you build the MSI and it will contain the locked exe. That&#39;s the way you include it in your MSI."}, {"owner": {"reputation": 138, "user_id": 7054211, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/33a4161df1450a925e6845762852737c?s=128&d=identicon&r=PG&f=1", "display_name": "rippergr", "link": "https://stackoverflow.com/users/7054211/rippergr"}, "reply_to_user": {"reputation": 19184, "user_id": 3261150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0821e1dca957dda1214f1d273a08e161?s=128&d=identicon&r=PG&f=1", "display_name": "PhilDW", "link": "https://stackoverflow.com/users/3261150/phildw"}, "edited": false, "score": 0, "creation_date": 1524202000, "post_id": 49906828, "comment_id": 86884580, "body": "@PhilDW That will do the job. Can you give me more details on how can I achieve that?"}], "answers": [{"tags": [], "owner": {"reputation": 19184, "user_id": 3261150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0821e1dca957dda1214f1d273a08e161?s=128&d=identicon&r=PG&f=1", "display_name": "PhilDW", "link": "https://stackoverflow.com/users/3261150/phildw"}, "is_accepted": false, "score": 0, "last_activity_date": 1524506477, "creation_date": 1524506477, "answer_id": 49987300, "question_id": 49906828, "link": "https://stackoverflow.com/questions/49906828/can-i-add-a-different-executable-file-other-than-compiled-exe-in-vs-2017-setup/49987300#49987300", "title": "Can I add a different executable file other than compiled .exe in VS 2017 Setup Project", "body": "<p>You can add any exe you want to the setup project with \"Add File\" or drag and drop into the File System view, if that is what you are asking. </p>\n\n<p>If you want to alter the built exe, you can add a post-build event that modifies the exe to do your locking, and then you build the MSI and it will contain the locked exe. That's the way you include it in your MSI.</p>\n\n<p>Setup projects don't have much functionality for build events, so use the Visual Studio build of your code and add a post-build event. There are macros for the locations of the inputs, outputs, and any programs you want to run. It's fairly intuitive, I found, but you'd need to look up articles on using post-build events - or ask in the appropriate Visual Studio forum (rather than install related). </p>\n"}], "owner": {"reputation": 138, "user_id": 7054211, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/33a4161df1450a925e6845762852737c?s=128&d=identicon&r=PG&f=1", "display_name": "rippergr", "link": "https://stackoverflow.com/users/7054211/rippergr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1524506477, "creation_date": 1524076851, "last_edit_date": 1524161380, "question_id": 49906828, "link": "https://stackoverflow.com/questions/49906828/can-i-add-a-different-executable-file-other-than-compiled-exe-in-vs-2017-setup", "title": "Can I add a different executable file other than compiled .exe in VS 2017 Setup Project", "body": "<p>I made a setup project and I want to add a locked .exe instead of the compiled .exe in my setup.\nCan this be done with a custom action or some other way?</p>\n"}, {"tags": ["c#", "excel", "winnovative"], "owner": {"reputation": 1400, "user_id": 4761773, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/44baf0a2e1e701d2ecf851e3f06c46b7?s=128&d=identicon&r=PG&f=1", "display_name": "TheFallenOne", "link": "https://stackoverflow.com/users/4761773/thefallenone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1524082455, "creation_date": 1524076843, "last_edit_date": 1524082455, "question_id": 49906823, "link": "https://stackoverflow.com/questions/49906823/to-draw-a-pie-chart-in-excel-using-winnovative", "title": "To draw a pie chart in excel using winnovative", "body": "<p>I am using <code>Winnovative</code> to write data to an excel sheet from my C# code. Writing data from a data table works fine without any issues. I intend to have a pie chart from the data I have written. So I have a template of the excel sheet where I have predrawn a pie chart for 3 columns and am trying to insert values there using my code instead of drawing the pie chart in code which is <a href=\"http://www.winnovative-software.com/ExcelLibDemo/ChartsDemo.aspx\" rel=\"nofollow noreferrer\">possible.</a></p>\n\n<p>However when I try to open the excel file I get an error \"Another process is using the excel file\". So is the pie chart creation considered as a process running? Is there a way where I can define cells for the chart and define values to it from my code uysing <code>Winnovative</code>? Is there a way I can hold off the processing of the chart until the values from the code are passed?</p>\n\n<p>This is my code where I am getting the exception.</p>\n\n<pre><code>string dataFilePath = System.IO.Path.Combine(Server.MapPath(\"~\"), @\"Data\\awemployees.xls\");\nSystem.IO.FileStream sourceXlsDataStream = new System.IO.FileStream(dataFilePath, System.IO.FileMode.Open);\n\nExcelWorkbook tempWorkbook = new ExcelWorkbook(sourceXlsDataStream);//Error\n</code></pre>\n"}, {"tags": ["c#", "python-2.7", "opencv", "udp", "emgucv"], "answers": [{"tags": [], "owner": {"reputation": 551, "user_id": 5551935, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NtEIR.jpg?s=128&g=1", "display_name": "Oscar Martinez", "link": "https://stackoverflow.com/users/5551935/oscar-martinez"}, "is_accepted": true, "score": 0, "last_activity_date": 1524261552, "last_edit_date": 1524261552, "creation_date": 1524260859, "answer_id": 49950169, "question_id": 49906779, "link": "https://stackoverflow.com/questions/49906779/udp-sending-frames-from-opencv-to-emgucv/49950169#49950169", "title": "UDP Sending frames from OpenCv to EmguCv", "body": "<p>Well, socket architecture was OK.\nAfter testing and testing, I found out a solution.</p>\n\n<p>For the sake of future visitors coming up with the same idea:</p>\n\n<p>Do not use <code>Image</code> object of EmguCv. You better want to use Opencv native <code>Mat</code> object. In my case, I instantiate it as:</p>\n\n<pre><code>this.Mat = new Mat(new Size(640, 480), Emgu.CV.CvEnum.DepthType.Cv8U, 3);\n</code></pre>\n\n<p>And also the obvious part I missed, decode the data with <code>Imdecode</code> native method.\nPython code results in the same I posted on the question post, but C# method would result in the following:</p>\n\n<pre><code>private void ReadFrame()\n{\n    using (UdpClient socket = new UdpClient(this.camPort))\n    {\n        try\n        {\n            while (!end)\n            {\n                var remoteEP = new IPEndPoint(IPAddress.Any, this.camPort);\n                byte[] data = socket.Receive(ref remoteEP);\n                Emgu.CV.CvInvoke.Imdecode(data, Emgu.CV.CvEnum.ImreadModes.ReducedColor8, this.Mat);\n            }\n        }\n        catch (SocketException)\n        {\n            throw;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 551, "user_id": 5551935, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NtEIR.jpg?s=128&g=1", "display_name": "Oscar Martinez", "link": "https://stackoverflow.com/users/5551935/oscar-martinez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 49950169, "answer_count": 1, "score": 2, "last_activity_date": 1524261552, "creation_date": 1524076626, "last_edit_date": 1524122156, "question_id": 49906779, "link": "https://stackoverflow.com/questions/49906779/udp-sending-frames-from-opencv-to-emgucv", "title": "UDP Sending frames from OpenCv to EmguCv", "body": "<p>I have got a Raspberry Pi processing images from its raspicam with a Python module.\nTo simplify I am deleting image processing block codes.</p>\n\n<pre><code>from picamera.array import PiRGBArray\nfrom picamera import PiCamera\nimport time\nimport cv2\nfrom socket import *\nimport socket\nimport numpy as np\nimport sys\n\nclass Cam():\n    def __init__(self,ip,port):\n        self._s = socket.socket(socket.AF_INET,socket.SOCK_DGRAM)\n        self._address = (ip,port)\n        self._quality=[int(cv2.IMWRITE_JPEG_QUALITY),80]\n\n\n    def run(self):\n        self._cam= PiCamera()\n        self._cam.resolution = (640, 480)\n        self._cam.framerate = 32\n        self._capturer = PiRGBArray(self._cam, size=(640, 480))\n        time.sleep(2)\n\n        for frame in self._cam.capture_continuous(self._capturer, format=\"bgr\", use_video_port=True):\n            try:\n                image = frame.array\n\n                # processing\n\n                result, imgencode = cv2.imencode('.jpg', image, self._quality)\n                data = np.array(imgencode)\n\n                stringData = data.tostring()\n                self._s.sendto(stringData,self._address)\n                self._capturer.truncate(0)\n\n            except KeyboardInterrupt:\n                self._cam.close()\n                break\n</code></pre>\n\n<p>After that, raspberry sends the image via datagram socket (udp) to my C# program hosted in a PC.\nI show you the method that is receiving the bytes from the socket and binding them to a EmguCv <code>Image</code> :</p>\n\n<pre><code>    private void ReadFrame()\n    {\n        using (UdpClient socket = new UdpClient(this.camPort))\n        {\n            try\n            {\n\n                while (!end)\n                {\n                    var remoteEP = new IPEndPoint(IPAddress.Any, this.camPort);\n                    byte[] data = socket.Receive(ref remoteEP);\n\n                    this.Frame = new Image&lt;Bgr, byte&gt;(640,480);\n                    // Until here it works, and data is correctly received\n\n                    this.Frame.Bytes = data;\n\n                }\n            }\n            catch (SocketException)\n            {\n                throw;\n            }\n        }\n    }\n</code></pre>\n\n<p>It works until I try to bind the byte array to the EmguCv <code>Image</code> object.\nOn that line I get:</p>\n\n<blockquote>\n  <p>An unhandled exception of type 'System.ArgumentOutOfRangeException' occurred in Emgu.CV.World.dll</p>\n</blockquote>\n\n<p>Because <code>data</code> length is lower than what <code>Frame.Bytes</code>is expecting.</p>\n\n<p><strong>How should I build the EmguCv image from bytes?</strong></p>\n\n<p><strong>I am also open to other ways of achieving this.</strong></p>\n"}, {"tags": ["c#", "forms", "winforms", "visual-studio"], "comments": [{"owner": {"reputation": 606, "user_id": 5991722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3318de058ed875d4fd3817865bdac26?s=128&d=identicon&r=PG&f=1", "display_name": "CrudaLilium", "link": "https://stackoverflow.com/users/5991722/crudalilium"}, "edited": false, "score": 1, "creation_date": 1524076808, "post_id": 49906755, "comment_id": 86829481, "body": "It&#39;s because variable &quot;reply&quot; exists only in the context of Form1 constructor, since it is local variable (you declared it there). Make it class field or declare it and download the value inside your button1_Click method."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1524077375, "post_id": 49906755, "comment_id": 86829792, "body": "Also, you would need to call <code>Contains</code> using the <code>Text</code> property of the <code>Textbox</code> (not the <code>Textbox</code> itself). And, <code>Contains</code> will return <code>true</code> if the <b>first</b> string contains the <b>second</b> string. In your case, it sounds like you want to check if the textbox text is contained in the raw text. If that&#39;s the case, you would use <code>if (reply.Contains(textbox.Text))</code>."}, {"owner": {"reputation": 43, "user_id": 9652506, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QeTeLtaC4V4/AAAAAAAAAAI/AAAAAAAADgs/0UhspoF-3rU/photo.jpg?sz=128", "display_name": "kyle conciso", "link": "https://stackoverflow.com/users/9652506/kyle-conciso"}, "edited": false, "score": 0, "creation_date": 1524080484, "post_id": 49906755, "comment_id": 86831393, "body": "Hello Rufus L, I am getting an error &quot;System.ArgumentNullException: &#39;Value cannot be null. Parameter name: value&#39;&quot; when i click the button with the line &quot;if (textbox.Contains(reply))&quot;. I printed the reply string to console and it was fine."}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1524083969, "post_id": 49906755, "comment_id": 86833230, "body": "Show your updated code.  Again, <code>if (textbox.Contains(reply))</code> is incorrect as the <code>textbox</code> does not have a definition for <code>Contains</code>.  You need to use <code>if (textbox.Text.Contains(reply))</code>."}], "answers": [{"tags": [], "owner": {"reputation": 713, "user_id": 9074610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b00b5b2ff2573542db9dc9c60af411be?s=128&d=identicon&r=PG&f=1", "display_name": "St. Pat", "link": "https://stackoverflow.com/users/9074610/st-pat"}, "is_accepted": true, "score": 3, "last_activity_date": 1524076968, "creation_date": 1524076968, "answer_id": 49906855, "question_id": 49906755, "link": "https://stackoverflow.com/questions/49906755/how-can-i-make-an-if-statement-to-check-if-textbox1-text-contains-the-string-rep/49906855#49906855", "title": "How can I make an If statement to check if textBox1.Text contains the string reply = client.DownloadString (address); properly?", "body": "<p>This is an issue of scope. <code>reply</code> is defined within <code>Form1</code>'s constructor. Once the constructor is exited, the <code>reply</code> variable is no longer valid.</p>\n\n<p>You can declare the variable at the class level instead of within a method.</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    // Declare it here\n    private string reply;\n\n    public Form1()\n    {\n        InitializeComponent();\n\n        WebClient client = new WebClient();\n        reply = client.DownloadString(\"https://pastebin.com/raw/0FHx1t5w\");\n    }\n}\n</code></pre>\n\n<p>Then you will be able to access it from the button click event handler.</p>\n"}, {"tags": [], "owner": {"reputation": 674, "user_id": 2362847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/up5Nq.jpg?s=128&g=1", "display_name": "Evgeny Gorbovoy", "link": "https://stackoverflow.com/users/2362847/evgeny-gorbovoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1524077002, "creation_date": 1524077002, "answer_id": 49906873, "question_id": 49906755, "link": "https://stackoverflow.com/questions/49906755/how-can-i-make-an-if-statement-to-check-if-textbox1-text-contains-the-string-rep/49906873#49906873", "title": "How can I make an If statement to check if textBox1.Text contains the string reply = client.DownloadString (address); properly?", "body": "<p>Change you code to this:</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    //Now its a field, rename it appropriately later\n    private string reply;\n\n    public Form1()\n    {\n        InitializeComponent();\n\n\n\n        WebClient client = new WebClient();\n        reply = client.DownloadString(\"https://pastebin.com/raw/0FHx1t5w\");\n\n\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9652506, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QeTeLtaC4V4/AAAAAAAAAAI/AAAAAAAADgs/0UhspoF-3rU/photo.jpg?sz=128", "display_name": "kyle conciso", "link": "https://stackoverflow.com/users/9652506/kyle-conciso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "accepted_answer_id": 49906855, "answer_count": 2, "score": 1, "last_activity_date": 1524077188, "creation_date": 1524076553, "last_edit_date": 1524077188, "question_id": 49906755, "link": "https://stackoverflow.com/questions/49906755/how-can-i-make-an-if-statement-to-check-if-textbox1-text-contains-the-string-rep", "title": "How can I make an If statement to check if textBox1.Text contains the string reply = client.DownloadString (address); properly?", "body": "<p>I am trying to make a button that will check if <code>textBox1.Text</code> contains any of the text in my raw text file on Pastebin online for test purposes.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n\n        WebClient client = new WebClient();\n        string reply = client.DownloadString(\"https://pastebin.com/raw/0FHx1t5w\");\n    }\n</code></pre>\n\n<p>and for my button</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n{\n    string textbox = textBox1.Text;\n\n    // Compile error on next line: \n    if (textbox.Contains(reply))\n    {\n    }\n}\n</code></pre>\n\n<p>The string <code>reply</code> is marked red and says:</p>\n\n<blockquote>\n  <p>The name 'reply' does not exist in the current context</p>\n</blockquote>\n\n<p>Is it because <code>.Contains</code> doesn't support string check?</p>\n"}, {"tags": ["c#", "asp.net", ".net", "api", "google-api"], "answers": [{"tags": [], "owner": {"reputation": 2958, "user_id": 7055769, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/37cee50ac5cb90bb2a5ed4c00747337f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Ironside", "link": "https://stackoverflow.com/users/7055769/alex-ironside"}, "is_accepted": true, "score": 0, "last_activity_date": 1527591283, "creation_date": 1527591283, "answer_id": 50582609, "question_id": 49906653, "link": "https://stackoverflow.com/questions/49906653/google-adwords-library-doesnt-create-an-access-token/50582609#50582609", "title": "Google AdWords library doesn&#39;t create an access token", "body": "<p>I had my configuration wrong. I had to recreate all the credentials using incognito window. If you have any issues just open a thread here: <a href=\"https://groups.google.com/forum/#!forum/adwords-api\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!forum/adwords-api</a></p>\n"}], "owner": {"reputation": 2958, "user_id": 7055769, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/37cee50ac5cb90bb2a5ed4c00747337f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Ironside", "link": "https://stackoverflow.com/users/7055769/alex-ironside"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 50582609, "answer_count": 1, "score": 0, "last_activity_date": 1527591283, "creation_date": 1524076140, "question_id": 49906653, "link": "https://stackoverflow.com/questions/49906653/google-adwords-library-doesnt-create-an-access-token", "title": "Google AdWords library doesn&#39;t create an access token", "body": "<p>I'm trying to make a <em>targetingIdeaService</em> API call to Google AdWords. This is my code so far:</p>\n\n<pre><code>[HttpGet]\npublic IEnumerable&lt;string&gt; Get()\n{\n    var user = new AdWordsUser();\n\n    using (TargetingIdeaService targetingIdeaService = (TargetingIdeaService)user.GetService(AdWordsService.v201802.TargetingIdeaService))\n    {\n        // Create selector.\n        TargetingIdeaSelector selector = new TargetingIdeaSelector();\n        selector.requestType = RequestType.IDEAS;\n        selector.ideaType = IdeaType.KEYWORD;\n        selector.requestedAttributeTypes = new AttributeType[] {\n            AttributeType.KEYWORD_TEXT,\n            AttributeType.SEARCH_VOLUME,\n            AttributeType.AVERAGE_CPC,\n            AttributeType.COMPETITION,\n            AttributeType.CATEGORY_PRODUCTS_AND_SERVICES\n        };\n\n        // Set selector paging (required for targeting idea service).\n        var paging = Paging.Default;\n        // Create related to query search parameter.\n        var relatedToQuerySearchParameter =\n            new RelatedToQuerySearchParameter\n            { queries = new String[] { \"bakery\", \"pastries\", \"birthday cake\" } };\n        var searchParameters = new List&lt;SearchParameter&gt; { relatedToQuerySearchParameter };\n\n        var page = new TargetingIdeaPage();\n        page = targetingIdeaService.get(selector);\n        return new string[] { \"value1\", \"value2\" };\n    }\n}\n</code></pre>\n\n<p>it looks ok, compiles at last, and so on. But then I went into debug mode. And I saw this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1pnsA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1pnsA.png\" alt=\"enter image description here\"></a></p>\n\n<p>So as you can see, the variable doesn't have the <strong><em>access token</em></strong>. The other data comes from <code>app.config</code> file.</p>\n\n<p>I am quite certain the keys passed in are correct.</p>\n\n<p>Then the code throws the famous <code>invalid_grand</code> error. In my case, I believe that's because the access token is not being generated. I'm new to AdWords and ASP.NET, so I probably missed something, but I have no idea what.</p>\n\n<p>I used the \n<a href=\"https://developers.google.com/adwords/api/docs/guides/targeting-idea-service\" rel=\"nofollow noreferrer\">docs</a>, \n<a href=\"https://developers.google.com/adwords/api/docs/guides/samples-use-cases\" rel=\"nofollow noreferrer\">Code Structure instructions</a>, and \n<a href=\"https://developers.google.com/adwords/api/docs/samples/csharp/optimization#get-keyword-ideas\" rel=\"nofollow noreferrer\">code examples</a> to put it all together.</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 3, "creation_date": 1524076196, "post_id": 49906652, "comment_id": 86829110, "body": "You can use <a href=\"https://msdn.microsoft.com/en-us/library/system.string.trimstart(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>TrimStart()</code></a> if its specific characters you want to remove.   If its always going to be whitespace characters like <code>\\r\\n</code> then you can just use <code>TrimStart()</code> with no parameters"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 2, "creation_date": 1524076200, "post_id": 49906652, "comment_id": 86829114, "body": "<code>\\r\\n</code> is whitespace, so <code>&quot;\\r\\n mystring&quot;.Trim()</code> will remove it. The string you are creating though has <code>\\r\\n</code> as a literal on the front, not feed/carriage returns."}, {"owner": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "edited": false, "score": 0, "creation_date": 1524076295, "post_id": 49906652, "comment_id": 86829161, "body": "I find elegance in hooking into C libraries.  Unmanaged code is way cooler than managed."}, {"owner": {"reputation": 59217, "user_id": 156695, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3390f053c9414f150c48f700afaa3e7a?s=128&d=identicon&r=PG", "display_name": "Tigran", "link": "https://stackoverflow.com/users/156695/tigran"}, "edited": false, "score": 0, "creation_date": 1524076362, "post_id": 49906652, "comment_id": 86829205, "body": "less code you write, more &quot;elegant&quot; it gets"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 3, "creation_date": 1524076466, "post_id": 49906652, "comment_id": 86829272, "body": "Why are you calling <code>ToString</code> on a string? Why are you calling <code>new string</code> on a string?  Why are you trimming an already-trimmed string? This code makes no sense."}, {"owner": {"reputation": 8514, "user_id": 1360251, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1lBMF.jpg?s=128&g=1", "display_name": "now he who must not be named.", "link": "https://stackoverflow.com/users/1360251/now-he-who-must-not-be-named"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1524076555, "post_id": 49906652, "comment_id": 86829324, "body": "@EricLippert: I wanted to try out on a Watch window. Thats y"}, {"owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 1, "creation_date": 1524077248, "post_id": 49906652, "comment_id": 86829727, "body": "I don&#39;t think that is a valid string constructor.  <a href=\"https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/system.string(v=vs.110).asp&zwnj;&#8203;x</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 10, "creation_date": 1524076331, "post_id": 49906698, "comment_id": 86829189, "body": "The best answer would most certainly <i>not</i> be regex"}, {"owner": {"reputation": 171, "user_id": 1279310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07cd356ef777ddda174435ca031b7971?s=128&d=identicon&r=PG", "display_name": "bobbysmith007", "link": "https://stackoverflow.com/users/1279310/bobbysmith007"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1524076422, "post_id": 49906698, "comment_id": 86829241, "body": "In what sense is regexp not the correct tool for removing arbitrary strings from the beginning of other strings?"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1524076463, "post_id": 49906698, "comment_id": 86829268, "body": "In the sense that its completely inefficient and inelegant compared to using a built in method (<code>.TrimStart()</code>)"}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 2, "creation_date": 1524076749, "post_id": 49906698, "comment_id": 86829438, "body": "its called overkill. And plus regex tends to be hard to read so I would avoid them for simple tasks like this."}], "tags": [], "owner": {"reputation": 171, "user_id": 1279310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07cd356ef777ddda174435ca031b7971?s=128&d=identicon&r=PG", "display_name": "bobbysmith007", "link": "https://stackoverflow.com/users/1279310/bobbysmith007"}, "is_accepted": false, "score": -3, "last_activity_date": 1524077031, "last_edit_date": 1524077031, "creation_date": 1524076308, "answer_id": 49906698, "question_id": 49906652, "link": "https://stackoverflow.com/questions/49906652/what-is-the-best-way-to-remove-characters-at-start-of-a-string-in-c/49906698#49906698", "title": "What is the best way to remove characters at start of a string in c#?", "body": "<p>Your best answer would be to use a regular expression.</p>\n\n<pre><code>new Regex(@\"(^\\s+\").Replace(\"\\r\\n BLah blah blah   \",\"\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1524076699, "post_id": 49906766, "comment_id": 86829399, "body": "I would go on to say that because the OP is using <code>new string(@&quot;\\r\\n  test&quot;)</code> that the front of the string does not have whitespace, it is equivalent to doing <code>&quot;\\\\r\\\\n test&quot;</code> which results in there literally being a <code>\\r\\n</code> at the start of the string."}, {"owner": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 0, "creation_date": 1524077315, "post_id": 49906766, "comment_id": 86829759, "body": "Are you sure new string (@&quot;\\r\\n  test&quot;) is even valid syntax?"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 42585, "user_id": 607314, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/N7ogx.png?s=128&g=1", "display_name": "paparazzo", "link": "https://stackoverflow.com/users/607314/paparazzo"}, "edited": false, "score": 0, "creation_date": 1524077565, "post_id": 49906766, "comment_id": 86829887, "body": "@paparazzo Updated my answer because your suspicion was correct."}], "tags": [], "owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "is_accepted": true, "score": 3, "last_activity_date": 1524077719, "last_edit_date": 1524077719, "creation_date": 1524076578, "answer_id": 49906766, "question_id": 49906652, "link": "https://stackoverflow.com/questions/49906652/what-is-the-best-way-to-remove-characters-at-start-of-a-string-in-c/49906766#49906766", "title": "What is the best way to remove characters at start of a string in c#?", "body": "<p>It's hard to tell if you want the carriage return and line feed characters removed or if you want the literal string: <code>\"\\r\\n\"</code> removed.  </p>\n\n<p>The code you have posted:</p>\n\n<pre><code>new string (@\"\\r\\n  test\")\n</code></pre>\n\n<p>Is not even valid syntax.  If you want a string literal the syntax is:</p>\n\n<pre><code>var someString = @\"\\r\\n some value\";\n</code></pre>\n\n<p>The <code>@</code> Means that you are <em>literally</em> including the string: <code>\"\\r\\n\"</code> in the output, this means it will not output the escape characters <code>\\r\\n</code> which is carriage return and line feed.</p>\n\n<p>If you want to remove the specific <em>string</em> <code>\"\\r\\n\"</code> you can use <code>String.Replace</code> like you were doing, I have cleaned up your code a bit and removed some redundancies:</p>\n\n<pre><code>var trimmedString = @\"\\r\\n  test\".Replace(@\"\\r\\n\", \"\");\n</code></pre>\n\n<p>If you actually want to remove the <em>escape characters</em> from the beginning of the string you need to remove the <code>@</code> symbol so its no longer a string literal, then you can use the <a href=\"https://msdn.microsoft.com/en-us/library/system.string.trimstart(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>TrimStart()</code></a> method of a string:</p>\n\n<pre><code>var trimmedString = \"\\r\\n  test\".TrimStart();\n</code></pre>\n\n<p><code>TrimStart()</code> accepts a <code>char[]</code> parameter that details the specific characters you want to remove.  However if you do not pass any parameter to <code>TrimStart()</code> it will automatically remove <em>whitespace</em> characters from the beginning of the string.</p>\n\n<p>Fiddle <a href=\"https://dotnetfiddle.net/fjAQD3\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1524077490, "creation_date": 1524077490, "answer_id": 49906999, "question_id": 49906652, "link": "https://stackoverflow.com/questions/49906652/what-is-the-best-way-to-remove-characters-at-start-of-a-string-in-c/49906999#49906999", "title": "What is the best way to remove characters at start of a string in c#?", "body": "<p>Assuming that you wish to remove \"raw\" escape sequences from your string, you can generalize regex-based approach as follows:</p>\n\n<pre><code>var trimmed = Regex.Replace(original, @\"^(\\\\[rntv]|\\s)*\", \"\");\n</code></pre>\n\n<p>This removes verbatim <code>\\n</code>, <code>\\r</code>, <code>\\t</code>, and <code>\\v</code> sequences with optional whitespaces at the beginning of the string. Note that <code>\\</code> at the beginning is doubled inside a verbatim <code>@\"...\"</code> string literal, meaning that the regex is going to match an escape sequence, not the character it represents.</p>\n\n<p><a href=\"https://ideone.com/S4hYl2\" rel=\"nofollow noreferrer\">Demo.</a></p>\n"}], "owner": {"reputation": 8514, "user_id": 1360251, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1lBMF.jpg?s=128&g=1", "display_name": "now he who must not be named.", "link": "https://stackoverflow.com/users/1360251/now-he-who-must-not-be-named"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 1, "accepted_answer_id": 49906766, "answer_count": 3, "score": -1, "last_activity_date": 1524079616, "creation_date": 1524076139, "last_edit_date": 1524079616, "question_id": 49906652, "link": "https://stackoverflow.com/questions/49906652/what-is-the-best-way-to-remove-characters-at-start-of-a-string-in-c", "title": "What is the best way to remove characters at start of a string in c#?", "body": "<p>Considering I have a string like this:</p>\n\n<pre><code>var myStr = @\"\\r\\n test\";\n</code></pre>\n\n<p>What is the best way to remove the characters like <code>\\r</code> and <code>\\n</code> (carriage feed characters) and empty characters </p>\n\n<p>One way I can think of is </p>\n\n<pre><code>var trimmedString = myStr.Replace(\"\\r\\n\", \"\").Trim();\n</code></pre>\n\n<p>What is the most elegant way to do this ?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524075839, "post_id": 49906523, "comment_id": 86828888, "body": "Please either translate your question into English, or post it on <a href=\"https://es.stackoverflow.com/\">es.stackoverflow.com</a> This site is only for English questions."}, {"owner": {"reputation": 38450, "user_id": 2221001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19e92b3618d46eb6ab80e4bc38cec44?s=128&d=identicon&r=PG", "display_name": "JNevill", "link": "https://stackoverflow.com/users/2221001/jnevill"}, "edited": false, "score": 1, "creation_date": 1524252314, "post_id": 49906523, "comment_id": 86913416, "body": "I&#39;m assuming you want <code>System.Web.UI.HtmlControls.HtmlElement</code> as such remove your reference <code>using...</code> to the other library. Or.. fully qualify which one you want <code>foreach (System.Web.UI.HtmlControls.HtmlElement el in select)</code> for example."}, {"owner": {"reputation": 11, "user_id": 9580040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c9247ae8f46021b15b71731e7900b78?s=128&d=identicon&r=PG&f=1", "display_name": "black_scorpion", "link": "https://stackoverflow.com/users/9580040/black-scorpion"}, "edited": false, "score": 0, "creation_date": 1524347651, "post_id": 49906523, "comment_id": 86937517, "body": "Los using que tengo declarados dentro del formulario using System; using System.Data; using System.Configuration; using System.Web; using System.Web.Security; using System.Web.UI; using System.Web.UI.WebControls; using System.Web.UI.WebControls.WebParts; using System.Web.UI.HtmlControls;  using System.Windows.Forms; using System.Threading; using System.IO; using System.Text.RegularExpressions; using System.Net; using System.Text;  <a href=\"http://subirimagen.me/uploads/20180421165339.PNG\" rel=\"nofollow noreferrer\">subirimagen.me/uploads/20180421165339.PNG</a>"}, {"owner": {"reputation": 11, "user_id": 9580040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c9247ae8f46021b15b71731e7900b78?s=128&d=identicon&r=PG&f=1", "display_name": "black_scorpion", "link": "https://stackoverflow.com/users/9580040/black-scorpion"}, "edited": false, "score": 0, "creation_date": 1524440745, "post_id": 49906523, "comment_id": 86959375, "body": "my references <a href=\"http://subirimagen.me/uploads/20180422184256.PNG\" rel=\"nofollow noreferrer\">subirimagen.me/uploads/20180422184256.PNG</a>"}], "owner": {"reputation": 11, "user_id": 9580040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c9247ae8f46021b15b71731e7900b78?s=128&d=identicon&r=PG&f=1", "display_name": "black_scorpion", "link": "https://stackoverflow.com/users/9580040/black-scorpion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524252353, "creation_date": 1524075730, "last_edit_date": 1524252353, "question_id": 49906523, "link": "https://stackoverflow.com/questions/49906523/htmlelement-is-an-ambiguous-reference", "title": "&#39;HtmlElement&#39; is an ambiguous reference", "body": "<p>I liked the meeting developed the use of the DOM page of a website, which took the content first in WinForms and now I am trying to implement the same thing that I feel WinForms to a WebForm in C #.</p>\n\n<ol>\n<li>The page to which I am registering the DOM with C # has several IFRAME the HTML code of the Website</li>\n<li>Inside the C code, it was necessary to read the content that is inside IFRAME with id = A4, Inside Iframe.</li>\n<li>Within the IFRAME with the ID A4 this contains several Select nested with Ajax where, as indicated, I have problems to read.</li>\n<li>The problem is the following problem of reading the selection that is inside the iframe A4 which I do in WinForm but when I try to adapt the code to the WebForm I get the following problem</li>\n</ol>\n\n<blockquote>\n  <p>Compiler Error Message: CS0104: 'HtmlElement' is an ambiguous reference between 'System.Web.UI.HtmlControls.HtmlElement' and 'System.Windows.Forms.HtmlElement'.</p>\n</blockquote>\n\n<p>My C# code is as follows:</p>\n\n<pre><code>private void GetLinksFromFrames()\n{\n    try\n    {\n        webPoderJudicial.Navigate(\"https://misitio.com/frameInv.php\");\n        string frameUrl;\n\n        if (!(this.webPoderJudicial.Document == null))\n        {\n            //  WebCargado = true;\n            HtmlWindow currentWindow = this.webPoderJudicial.Document.Window;\n            if (currentWindow.Frames.Count &gt; 0)\n            {\n                foreach (HtmlWindow frame in currentWindow.Frames)\n                {\n                    frameUrl = frame.Url.ToString();\n                    if (frameUrl == \"https://oficinajudicialvirtual.pjud.cl/moduloautoconsulta.php\")\n                    {\n                        HtmlElementCollection select = frame.Document.GetElementsByTagName(\"select\");\n                        foreach (HtmlElement el in select)\n                        {\n                            if (el.Name == \"competencia\")\n                            {\n                                Application.DoEvents();\n                                foreach (HtmlElement ele in el.GetElementsByTagName(\"option\"))\n                                {\n                                    cmbCompetencia.Items.Add(ele.InnerText);\n                                }\n                            }\n                        }\n                    }\n                }\n            }                   \n        }\n    }\n    catch (Exception ex) { \n    } \n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "entity-framework", "asp.net-web-api", "hangfire"], "comments": [{"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1524078205, "post_id": 49906465, "comment_id": 86830206, "body": "Are you sure &#39;LogRepeatedTask&#39; is hit at all? I don&#39;t see any reference in the code you&#39;ve shown."}, {"owner": {"reputation": 4481, "user_id": 1265205, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/dWsVS.jpg?s=128&g=1", "display_name": "Andr&#233; Luiz", "link": "https://stackoverflow.com/users/1265205/andr%c3%a9-luiz"}, "reply_to_user": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1524078300, "post_id": 49906465, "comment_id": 86830250, "body": "@RuardvanElburg Yes it is. The method that uses it is gigantic and it is not relevant to the question. But yes, it is hit I saw it being hit on the debug."}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1524078360, "post_id": 49906465, "comment_id": 86830274, "body": "Did you check the connectionstring? Since you are using a new instance, it may be looking at a different db."}, {"owner": {"reputation": 4481, "user_id": 1265205, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/dWsVS.jpg?s=128&g=1", "display_name": "Andr&#233; Luiz", "link": "https://stackoverflow.com/users/1265205/andr%c3%a9-luiz"}, "reply_to_user": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1524078658, "post_id": 49906465, "comment_id": 86830406, "body": "@RuardvanElburg yes I did. This service is already used in many places and most of the methods work with the database. Even the new methods work. Only this method seems to be the problem, actually this new entity because I add entries to the DB manually and _dbContext.TaskRepeatLogs.First(), for example, won&#39;t return anything"}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1524079236, "post_id": 49906465, "comment_id": 86830740, "body": "You are using EF6? And the method never inserted a row, not in debug and not in production? Can you add a try-catch around it? Perhaps there is some underlying error that is causing this behaviour."}, {"owner": {"reputation": 4481, "user_id": 1265205, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/dWsVS.jpg?s=128&g=1", "display_name": "Andr&#233; Luiz", "link": "https://stackoverflow.com/users/1265205/andr%c3%a9-luiz"}, "reply_to_user": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1524079847, "post_id": 49906465, "comment_id": 86831082, "body": "@RuardvanElburg ok, I&#39;ll try the Try-Catch, If I get the error I&#39;ll update the question or fix myself and then post here. I&#39;m using Entity Framework Core 2. Tnx"}, {"owner": {"reputation": 4481, "user_id": 1265205, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/dWsVS.jpg?s=128&g=1", "display_name": "Andr&#233; Luiz", "link": "https://stackoverflow.com/users/1265205/andr%c3%a9-luiz"}, "reply_to_user": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1524081099, "post_id": 49906465, "comment_id": 86831736, "body": "@RuardvanElburg you were right. See my answer. Thanks for the hit!"}], "answers": [{"tags": [], "owner": {"reputation": 4481, "user_id": 1265205, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/dWsVS.jpg?s=128&g=1", "display_name": "Andr&#233; Luiz", "link": "https://stackoverflow.com/users/1265205/andr%c3%a9-luiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1524081064, "creation_date": 1524081064, "answer_id": 49907934, "question_id": 49906465, "link": "https://stackoverflow.com/questions/49906465/asp-net-core-2-entity-framework-and-services-weird-behaviour/49907934#49907934", "title": "Asp.Net Core 2,Entity Framework and Services. Weird Behaviour", "body": "<p>I found the issue. The problem was that I was calling the <code>LogRepeatedTask</code> inside a loop and it was throwing an error saying that there was another transaction happening.</p>\n\n<p>This is where I was calling the function. I just removed from there, added the Ids to a dictionary and I'm using from there.</p>\n\n<pre><code>    var tasks = _dbContext.Tasks\n        .Include(i =&gt; i.RepeatConfig)\n        .Where(p =&gt; p.RepeatTask &amp;&amp; p.RepeatConfig != null &amp;&amp; p.CopiedFromTaskId == null);\n\n    if (tasks != null)\n    {\n        foreach (var task in tasks)\n        {\n            // I was calling the method here. \n        }\n    }\n</code></pre>\n\n<p>So there was no weird behavior.</p>\n"}], "owner": {"reputation": 4481, "user_id": 1265205, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/dWsVS.jpg?s=128&g=1", "display_name": "Andr&#233; Luiz", "link": "https://stackoverflow.com/users/1265205/andr%c3%a9-luiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524081064, "creation_date": 1524075452, "question_id": 49906465, "link": "https://stackoverflow.com/questions/49906465/asp-net-core-2-entity-framework-and-services-weird-behaviour", "title": "Asp.Net Core 2,Entity Framework and Services. Weird Behaviour", "body": "<p>I'm adding a new method to a service that already works. This new method is used by a HangFire job. This is how I add it to the <code>Configure</code> method of the <code>Startup.cs</code></p>\n\n<pre><code>// Create the daily tasks\nRecurringJob.AddOrUpdate&lt;ITaskService&gt;(x =&gt; x.CreateRecurringTasks(), Cron.Daily(0));\n</code></pre>\n\n<p>And this is the constructor of the service. Note that I create the DB context in the start so I don't have transaction problems when using it inside a controller. </p>\n\n<pre><code>public TaskService(\n    IMapper mapper,\n    INotificationService notificationService,\n    IConfiguration configuration\n)\n{\n\n    var opts = new DbContextOptionsBuilder&lt;ProjectDbContext&gt;();\n    opts.UseSqlServer(configuration.GetConnectionString(\"DefaultConnection\"));\n    _dbContext = new ProjectDbContext(opts.Options);\n\n    _configuration = configuration;\n    _mapper = mapper;\n    _notificationService = notificationService;\n}\n</code></pre>\n\n<p>My problem is that the method below won't add the row in the database.</p>\n\n<pre><code>void LogRepeatedTask(long copiedTaskId, long originalTaskId) {\n    _dbContext.TaskRepeatLogs.Add(new Data.Models.TaskRepeatLog\n    {\n        CopiedTaskId = copiedTaskId,\n        OriginalTaskId = originalTaskId,\n        UtcDate = DateTime.UtcNow\n    });\n    _dbContext.SaveChanges();\n}\n</code></pre>\n\n<p>This is the model. As you can see it is pretty simple:</p>\n\n<pre><code>public class TaskRepeatLog\n{\n    public long Id { get; set; }\n    public long OriginalTaskId { get; set; }\n    public long CopiedTaskId { get; set; }\n    public DateTime UtcDate { get; set; }\n}\n</code></pre>\n\n<p>And this is the DbSet in the <code>ProjectDbContext</code>:</p>\n\n<pre><code>public DbSet&lt;TaskRepeatLog&gt; TaskRepeatLogs { get; set; }\n</code></pre>\n\n<p>Everything seems pretty straightforward to me but I can't understand why the method is not working. Even the select on this DbSet seems not to work properly and I don't understand what I did wrong. Can you help me?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "edited": false, "score": 0, "creation_date": 1524075701, "post_id": 49906438, "comment_id": 86828807, "body": "<code>var thisIsFalse = typeof(Base) == typeof(Base&lt;&gt;);</code>"}, {"owner": {"reputation": 377, "user_id": 9665681, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x17Yl__N30Y/AAAAAAAAAAI/AAAAAAAAM9c/WcPRD4zlV7Y/photo.jpg?sz=128", "display_name": "Kaloyan Manev", "link": "https://stackoverflow.com/users/9665681/kaloyan-manev"}, "reply_to_user": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "edited": false, "score": 0, "creation_date": 1524075798, "post_id": 49906438, "comment_id": 86828858, "body": "Yeah, I guess but the properties may be more than 1. I edited the question ;)"}, {"owner": {"reputation": 3852, "user_id": 5321363, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153640801268875/picture?type=large", "display_name": "Rann Lifshitz", "link": "https://stackoverflow.com/users/5321363/rann-lifshitz"}, "edited": false, "score": 0, "creation_date": 1524075874, "post_id": 49906438, "comment_id": 86828918, "body": "Good question buddy! Welcome to SO :)"}, {"owner": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "edited": false, "score": 3, "creation_date": 1524076320, "post_id": 49906438, "comment_id": 86829178, "body": "The object-oriented way to do this is to define a virtual property or method in BaseClass that abstracts the operation you want to perform in the loop. Each derived class would override the method with its own specific implementation."}, {"owner": {"reputation": 377, "user_id": 9665681, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x17Yl__N30Y/AAAAAAAAAAI/AAAAAAAAM9c/WcPRD4zlV7Y/photo.jpg?sz=128", "display_name": "Kaloyan Manev", "link": "https://stackoverflow.com/users/9665681/kaloyan-manev"}, "edited": false, "score": 0, "creation_date": 1524076868, "post_id": 49906438, "comment_id": 86829514, "body": "I could define a virtual method in the base class that returns a property but what should be its type? Each derived class would return a result with a different type. This means I need a method for each of the properties in the derived classes."}, {"owner": {"reputation": 674, "user_id": 2362847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/up5Nq.jpg?s=128&g=1", "display_name": "Evgeny Gorbovoy", "link": "https://stackoverflow.com/users/2362847/evgeny-gorbovoy"}, "edited": false, "score": 0, "creation_date": 1524077226, "post_id": 49906438, "comment_id": 86829710, "body": "@KaloyanManev From your example it is seen that it&#39;s type should be object. as the only thing you use - is ToString method that belongs to type &quot;object&quot;"}, {"owner": {"reputation": 606, "user_id": 5991722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3318de058ed875d4fd3817865bdac26?s=128&d=identicon&r=PG&f=1", "display_name": "CrudaLilium", "link": "https://stackoverflow.com/users/5991722/crudalilium"}, "reply_to_user": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "edited": false, "score": 0, "creation_date": 1524077822, "post_id": 49906438, "comment_id": 86830011, "body": "You want to avoid casting, but your class BaseClass and if statements are basically your type checks and casts, just in a different way. You can get rid of BaseClass, make List&lt;object&gt; and check and cast to interfaces with properties you know you are gonna work with. Or go the way as suggested by @MichaelLiu. Or make Lists for each of your derived types (or interfaces) and get rid of these if statements."}], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 9665681, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x17Yl__N30Y/AAAAAAAAAAI/AAAAAAAAM9c/WcPRD4zlV7Y/photo.jpg?sz=128", "display_name": "Kaloyan Manev", "link": "https://stackoverflow.com/users/9665681/kaloyan-manev"}, "edited": false, "score": 0, "creation_date": 1524076028, "post_id": 49906530, "comment_id": 86829019, "body": "So, you mean I use &quot;is&quot; to check if the class inside the list is what I need and then somehow cast it to the needed derived class?"}, {"owner": {"reputation": 2287, "user_id": 3303064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3510c433a8fc7fdac2c042420f13ab01?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Himada", "link": "https://stackoverflow.com/users/3303064/omar-himada"}, "edited": false, "score": 0, "creation_date": 1524076085, "post_id": 49906530, "comment_id": 86829054, "body": "I believe he means like <code>if (derived is DerivedClass&lt;int&gt;) { ... }</code> but note this does cast, so you might as well do <code>var derived2 = derived as DerivedClass&lt;int&gt;; if (derived2 != null) { &#47;* derived2 is a DerivedClass&lt;int&gt; *&#47; }</code>"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1524089988, "post_id": 49906530, "comment_id": 86835634, "body": "<code>if (derived is DerivedClass&lt;int&gt;) DerivedClass&lt;int&gt; temp = (DerivedClass&lt;int&gt;)derived;</code>"}], "tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": 0, "last_activity_date": 1524075738, "creation_date": 1524075738, "answer_id": 49906530, "question_id": 49906438, "link": "https://stackoverflow.com/questions/49906438/c-collection-of-different-generic-types-without-casting/49906530#49906530", "title": "C# Collection of Different Generic Types Without Casting", "body": "<p>To the best of my knowledge what you want is between impossible and not a good idea. Typechecking is done at compile time. Stuff like Dynamic can move those checks to runtime, but it results in all kinds of issues (functions that take dynamic parameters also return dynamic).</p>\n\n<p>If you got at least C# 7.0, you can at least write a switch for it. Old switch only supported values vs constants for a few select value types and string. But C# 7.0 introduces <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/pattern-matching\" rel=\"nofollow noreferrer\">pattern matching</a>. With that you could even use a <code>is</code> check as part of a case.</p>\n"}, {"comments": [{"owner": {"reputation": 377, "user_id": 9665681, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x17Yl__N30Y/AAAAAAAAAAI/AAAAAAAAM9c/WcPRD4zlV7Y/photo.jpg?sz=128", "display_name": "Kaloyan Manev", "link": "https://stackoverflow.com/users/9665681/kaloyan-manev"}, "edited": false, "score": 0, "creation_date": 1524079630, "post_id": 49907490, "comment_id": 86830963, "body": "Thank you for the clean answer! However I need to create something like a get method that return the data not just print it to the console. That&#39;s where the problem comes because I don&#39;t want to create an abstract method for each property of different type."}, {"owner": {"reputation": 569, "user_id": 7158180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ed6efada879923203f990ac3ab546e?s=128&d=identicon&r=PG", "display_name": "Jim Berg", "link": "https://stackoverflow.com/users/7158180/jim-berg"}, "reply_to_user": {"reputation": 377, "user_id": 9665681, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x17Yl__N30Y/AAAAAAAAAAI/AAAAAAAAM9c/WcPRD4zlV7Y/photo.jpg?sz=128", "display_name": "Kaloyan Manev", "link": "https://stackoverflow.com/users/9665681/kaloyan-manev"}, "edited": false, "score": 0, "creation_date": 1524079915, "post_id": 49907490, "comment_id": 86831122, "body": "The DoSomething could do that.  How would you like the data?  I can modify my answer to provide that."}, {"owner": {"reputation": 377, "user_id": 9665681, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x17Yl__N30Y/AAAAAAAAAAI/AAAAAAAAM9c/WcPRD4zlV7Y/photo.jpg?sz=128", "display_name": "Kaloyan Manev", "link": "https://stackoverflow.com/users/9665681/kaloyan-manev"}, "edited": false, "score": 0, "creation_date": 1524082770, "post_id": 49907490, "comment_id": 86832619, "body": "Can you make the DoSomething of type T so it could return the value of the OtherProperty ?"}, {"owner": {"reputation": 569, "user_id": 7158180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ed6efada879923203f990ac3ab546e?s=128&d=identicon&r=PG", "display_name": "Jim Berg", "link": "https://stackoverflow.com/users/7158180/jim-berg"}, "reply_to_user": {"reputation": 377, "user_id": 9665681, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x17Yl__N30Y/AAAAAAAAAAI/AAAAAAAAM9c/WcPRD4zlV7Y/photo.jpg?sz=128", "display_name": "Kaloyan Manev", "link": "https://stackoverflow.com/users/9665681/kaloyan-manev"}, "edited": false, "score": 0, "creation_date": 1524084404, "post_id": 49907490, "comment_id": 86833444, "body": "There is no way you can do something like that without using a cast or a dynamic.  You have to be willing to cast derived to the type it is or do whatever data manipulation you want to do in DoSomething().  The latter is a lot cleaner.  Without knowing what you want to do with the data, it&#39;s difficult to provide a solution."}], "tags": [], "owner": {"reputation": 569, "user_id": 7158180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ed6efada879923203f990ac3ab546e?s=128&d=identicon&r=PG", "display_name": "Jim Berg", "link": "https://stackoverflow.com/users/7158180/jim-berg"}, "is_accepted": false, "score": 1, "last_activity_date": 1524145210, "last_edit_date": 1524145210, "creation_date": 1524079219, "answer_id": 49907490, "question_id": 49906438, "link": "https://stackoverflow.com/questions/49906438/c-collection-of-different-generic-types-without-casting/49907490#49907490", "title": "C# Collection of Different Generic Types Without Casting", "body": "<p>This looks like a problem that can be solved with polymorphism.  I'll make a version of your app that does exactly what you seem to be doing in your example, but if there was more information as to what your target goal is, the solution may be different. </p>\n\n<pre><code>public abstract class BaseClass\n{\n    public abstract void DoSomething();\n    public abstract void GetData(Dictionary&lt;string,string&gt; container);\n}\n\npublic class DerivedClass&lt;T&gt; : BaseClass\n{\n    public DerivedClass(T initialValue)\n    {\n        Property = initialValue;\n    }\n\n    public T Property { get; set; }\n    public override void DoSomething()\n    {\n        Console.WriteLine(Property);\n    }\n\n    public override void GetData(Dictionary&lt;string,string&gt; container)\n    {\n        container.Add(nameof(Property), \"{Property}\");\n    }\n}\n\npublic class OtherDerivedClass&lt;T&gt; : BaseClass\n{\n    public OtherDerivedClass(T initialValue)\n    {\n        OtherProperty = initialValue;\n    }\n\n    public T OtherProperty { get; set; }\n    public int OtherProperty2 { get; set; }\n\n    public override void DoSomething()\n    {\n        Console.WriteLine(OtherProperty);\n    }\n\n    public override void GetData(Dictionary&lt;string,string&gt; container)\n    {\n        container.Add(nameof(OtherProperty), \"{OtherProperty}\");\n        container.Add(nameof(OtherProperty2), \"{OtherProperty2}\");\n    }\n}\n</code></pre>\n\n<p>Your foreach loop could then be as simple as:</p>\n\n<pre><code>foreach(var derived in baseClassList) derived.DoSomething();\n</code></pre>\n\n<p>This is the proper way to do something like this using OO.  There's no need for the DerivedType integer since the object knows what type of class it is and what to do.  This is why one would use polymorphism.  It's simple and elegant and OO.  Extend or change the DoSomething to be more appropriate for what you're trying to do.</p>\n\n<p>The OP came up with his own solution, but if the goal is to do something with the data that is more meaningful, you could also pass in an object to an abstract method that allows you to do this.  I added a GetData method that will return all of the property values as strings.  The second type of the dictionary could also be <code>object</code> with the actual value stored in the dictionary.</p>\n\n<p>BaseClass could also be a regular class with a method in it to return an IDictionary of <code>object</code> values with string keys.  The method could use reflection to get all property values for whatever class it is the base of.  Reflection has much more overhead, though, so is not the most efficient way to do this from an execution standpoint.</p>\n\n<p>The correct way to check if an object is a certain type is to use the <code>is</code> operator such as:</p>\n\n<pre><code>if(derived is DerivedType&lt;int&gt;)\n{\n    // Do what you need to do with the specific object type\n}\n</code></pre>\n\n<p>If you know you're going to cast the object, as pointed out by Adosi, you would use:</p>\n\n<pre><code>var castedValue = derived as DerivedType&lt;int&gt;;\nif(castedValue != null)\n{\n    // Do what you need to do with castedValue\n}\n</code></pre>\n\n<p>A null will be returned if the object isn't of type <code>DerivedType&lt;int&gt;</code>.  Trying to use (DerivedType)derived would cause an invalid cast exception.</p>\n"}, {"tags": [], "owner": {"reputation": 377, "user_id": 9665681, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x17Yl__N30Y/AAAAAAAAAAI/AAAAAAAAM9c/WcPRD4zlV7Y/photo.jpg?sz=128", "display_name": "Kaloyan Manev", "link": "https://stackoverflow.com/users/9665681/kaloyan-manev"}, "is_accepted": true, "score": 0, "last_activity_date": 1524084661, "creation_date": 1524084661, "answer_id": 49908810, "question_id": 49906438, "link": "https://stackoverflow.com/questions/49906438/c-collection-of-different-generic-types-without-casting/49908810#49908810", "title": "C# Collection of Different Generic Types Without Casting", "body": "<p>Thank you all for the awesome support! I decided to go simple and just use a cast.</p>\n\n<pre><code>public class BaseClass\n{\n    public int Data\u0422ype { get; set; }\n\n    public object Data { get; set; }\n}\n\npublic class DataClass&lt;T&gt;\n{\n    public DataClass(T initialValue)\n    {\n        Property = initialValue;\n    }\n    public T Property { get; set; }\n}\n\npublic class Program\n{\n    public static void Main(string[] args)\n    {\n        List&lt;BaseClass&gt; listBaseClass = new List&lt;BaseClass&gt;();\n        BaseClass dummy = new BaseClass();\n        dummy.Data\u0422ype = 1;\n        dummy.Data = new DataClass&lt;int&gt;(50);\n        listBaseClass.Add(dummy);\n        if (listBaseClass[0].Data\u0422ype == 1)\n        {\n            DataClass&lt;int&gt; casted = (DataClass&lt;int&gt;)listBaseClass[0].Data;     \n            Console.WriteLine(casted.Property);\n        }      \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 9665681, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x17Yl__N30Y/AAAAAAAAAAI/AAAAAAAAM9c/WcPRD4zlV7Y/photo.jpg?sz=128", "display_name": "Kaloyan Manev", "link": "https://stackoverflow.com/users/9665681/kaloyan-manev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 49908810, "answer_count": 3, "score": 0, "last_activity_date": 1524904014, "creation_date": 1524075363, "last_edit_date": 1524904014, "question_id": 49906438, "link": "https://stackoverflow.com/questions/49906438/c-collection-of-different-generic-types-without-casting", "title": "C# Collection of Different Generic Types Without Casting", "body": "<p>I've found couple of questions on the same topic here, however I couldn't find what I need. Basically I am searching for this kind of magic:</p>\n\n<pre><code>public class BaseClass\n{\n    public int Derived\u0422ype { get; set; }\n}\n\npublic class DerivedClass&lt;T&gt; : BaseClass\n{\n    public DerivedClass(T initialValue)\n    {\n        Derived\u0422ype = 1;\n        Property = initialValue;\n    }\n\n    public T Property { get; set; }\n}\n\npublic class OtherDerivedClass&lt;T&gt; : BaseClass\n{\n    public OtherDerivedClass(T initialValue)\n    {\n        Derived\u0422ype = 2;\n        OtherProperty = initialValue;\n    }\n\n    public T OtherProperty { get; set; }\n    public int OtherProperty2 { get; set; }\n    public float OtherProperty { get; set; }\n}\n\npublic class Program\n{\n    public static void Main()\n    {\n        List&lt;BaseClass&gt; baseClassList = new List&lt;BaseClass&gt;();\n        baseClassList.Add(new DerivedClass&lt;int&gt;(5));\n        baseClassList.Add(new OtherDerivedClass&lt;float&gt;(6));\n        foreach (var derived in baseClassList)\n        {\n            if (derived.Derived\u0422ype == 1)\n            {\n                Console.WriteLine(derived.Property);\n            }\n            else if (derived.Derived\u0422ype == 2)\n            {\n                Console.WriteLine(derived.OtherProperty);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I want a list of BaseClass where I can insert instances of DerivedClass and OtherDerivedClass. So far so good.</p>\n\n<p>DerivedClass and OtherDerivedClass hold different properties so I really have no idea how access them. Also I don't want to use any weired casts. So this part of the code prevents me from building.</p>\n\n<pre><code>if (derived.Derived\u0422ype == 1)\n{\n    Console.WriteLine(derived.Property);\n}\nelse if (derived.Derived\u0422ype == 2)\n{\n    Console.WriteLine(derived.OtherProperty);\n}\n</code></pre>\n\n<p>Any ideas would be appreciated. Thank you in advance!</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524075711, "post_id": 49906417, "comment_id": 86828810, "body": "It&#39;s not clear where that method is declared, or whether there&#39;s a <code>Login</code> property for it to use. If it&#39;s in the code-behind for the form, you can probably just use <code>email</code> and <code>password</code> rather than <code>Login.email</code> and <code>Login.password</code>... but it&#39;s pretty unclear at the moment. It would help if you&#39;d give the full error message as well, rather than just &quot;giving red underline&quot;."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1524075865, "post_id": 49906417, "comment_id": 86828906, "body": "Some SQL parameter code has nothing to do with ASPX code.  You need to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with your question"}, {"owner": {"reputation": 47, "user_id": 8076663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b626b518ab9097b56359d8fa133f854?s=128&d=identicon&r=PG&f=1", "display_name": "JigJagJoe", "link": "https://stackoverflow.com/users/8076663/jigjagjoe"}, "edited": false, "score": 0, "creation_date": 1524076021, "post_id": 49906417, "comment_id": 86829014, "body": "The error message is: Compiler Error Message: CS1061: &#39;System.Web.UI.WebControls.Login&#39; does not contain a definition for &#39;email&#39; and no extension method &#39;email&#39; accepting a first argument of type &#39;System.Web.UI.WebControls.Login&#39; could be found (are you missing a using directive or an assembly reference?)"}, {"owner": {"reputation": 34313, "user_id": 121309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a620f1f95441b8bde0e6c2c5140581d?s=128&d=identicon&r=PG", "display_name": "Hans Ke\ufb06ing", "link": "https://stackoverflow.com/users/121309/hans-ke%ef%ac%86ing"}, "edited": false, "score": 1, "creation_date": 1531831069, "post_id": 49906417, "comment_id": 89734897, "body": "Related: <a href=\"https://blogs.msmvps.com/jcoehoorn/blog/2014/05/12/can-we-stop-using-addwithvalue-already/\" rel=\"nofollow noreferrer\">blogs.msmvps.com/jcoehoorn/blog/2014/05/12/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 8076663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b626b518ab9097b56359d8fa133f854?s=128&d=identicon&r=PG&f=1", "display_name": "JigJagJoe", "link": "https://stackoverflow.com/users/8076663/jigjagjoe"}, "edited": false, "score": 0, "creation_date": 1524124286, "post_id": 49908372, "comment_id": 86846667, "body": "should I write anything in the action attribute?"}, {"owner": {"reputation": 11, "user_id": 8957366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc937bd55885a7e0dc3e9be130006d21?s=128&d=identicon&r=PG&f=1", "display_name": "U_M4D_BR0", "link": "https://stackoverflow.com/users/8957366/u-m4d-br0"}, "reply_to_user": {"reputation": 47, "user_id": 8076663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b626b518ab9097b56359d8fa133f854?s=128&d=identicon&r=PG&f=1", "display_name": "JigJagJoe", "link": "https://stackoverflow.com/users/8076663/jigjagjoe"}, "edited": false, "score": 0, "creation_date": 1524149633, "post_id": 49908372, "comment_id": 86864081, "body": "You only have to place the  [HttpPost] Attribute above the Method , and you are able to set a custom Route URL with [Route(controllername\\methodname)]. After that you are able to create a JS file where you can place the Route URLs inside and then accessing it via for example: myvariablename: &quot;mycontrollerurl&quot; ; Save your URLs inside a JS file to access it from everywhere inside your web APP frontend"}], "tags": [], "owner": {"reputation": 11, "user_id": 8957366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc937bd55885a7e0dc3e9be130006d21?s=128&d=identicon&r=PG&f=1", "display_name": "U_M4D_BR0", "link": "https://stackoverflow.com/users/8957366/u-m4d-br0"}, "is_accepted": false, "score": 0, "last_activity_date": 1531830692, "last_edit_date": 1531830692, "creation_date": 1524082746, "answer_id": 49908372, "question_id": 49906417, "link": "https://stackoverflow.com/questions/49906417/addwithvalue-method-on-asp-net/49908372#49908372", "title": "AddWithValue method on ASP.NET", "body": "<p>I assume, that you want to send the client side input value to your sql statement, or something like that ?\nYou have to perform a post request to get the value into your c# backend.\nTry something like in this <a href=\"https://stackoverflow.com/questions/389149/how-to-access-html-form-input-from-asp-net-code-behind\">post</a>.</p>\n\n<p>Another possible way (i would prefer) instead of this one is to create a JSON oject that you can easily post and access via c# <a href=\"https://stackoverflow.com/questions/23638199/web-api-routing-and-http-post\">HttpPost</a>.\nI recommend to use the ApiController for this purpose.</p>\n\n<p>Good luck ;)</p>\n"}], "owner": {"reputation": 47, "user_id": 8076663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b626b518ab9097b56359d8fa133f854?s=128&d=identicon&r=PG&f=1", "display_name": "JigJagJoe", "link": "https://stackoverflow.com/users/8076663/jigjagjoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531830692, "creation_date": 1524075288, "last_edit_date": 1524076968, "question_id": 49906417, "link": "https://stackoverflow.com/questions/49906417/addwithvalue-method-on-asp-net", "title": "AddWithValue method on ASP.NET", "body": "<p>I am using AddStringWithValue method in ASP.NET using C#</p>\n\n<p>My HTML code is </p>\n\n<pre><code>&lt;form class=\"login-modal-content animate\" action=\"\"&gt;   \n    &lt;asp:Login ID = \"Login\" runat = \"server\" OnAuthenticate=\"ValidateUser\"&gt;&lt;/asp:Login&gt;        \n    &lt;div class=\"input\"&gt;\n        &lt;div&gt;\n            &lt;input type=\"text\" id=\"email\" style=\"margin:8px 2px 5px 2px;\" placeholder=\"Email\"/&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;input type=\"password\" id=\"password\" style=\"margin:5px 2px 8px 2px;\" placeholder=\"**********\"/&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;button type=\"submit\" style=\"display:none\"&gt;&lt;/button&gt;\n    &lt;f style=\"padding-left: 4px\"&gt;Not yet registered? &lt;f style=\"color:rgb(176,224,230); cursor:pointer\" onclick=\"document.getElementById('Sign_Up_Form').style.display='block';document.getElementById('Login_Form').style.display='none';\"&gt;Sign Up&lt;/f&gt;&lt;/f&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>My C# code for the method is:</p>\n\n<pre><code>cmd.Parameters.AddWithValue(\"@email\", Login.email);\ncmd.Parameters.AddWithValue(\"@password\", Login.password);\n</code></pre>\n\n<p>The problem is, it is giving red underline under  email and password. Shouldn't we  identify them with Id? Please tell me how to identify them..</p>\n\n<p>I am sorry, I still don't know how to format my codes here..</p>\n\n<p>edit:</p>\n\n<p>The error message is</p>\n\n<blockquote>\n  <p>Compiler Error Message: CS1061: 'System.Web.UI.WebControls.Login' does not \n  contain a definition for 'email' and no extension method 'email' accepting a \n  first argument of type 'System.Web.UI.WebControls.Login' could be found (are you missing a using directive or an assembly reference?)</p>\n</blockquote>\n\n<p>The HTML is in masterpage.master and c# code is in masterpage.master.cs</p>\n"}, {"tags": ["c#", "excel", "vsto"], "comments": [{"owner": {"reputation": 648, "user_id": 1710496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J0JbW.gif?s=128&g=1", "display_name": "PetLahev", "link": "https://stackoverflow.com/users/1710496/petlahev"}, "edited": false, "score": 0, "creation_date": 1524511650, "post_id": 49906374, "comment_id": 86993513, "body": "I&#39;ve just copy paste your provided code (second version) under a new button and it worked as expected. The <code>afterCount</code> is correctly saying <code>2</code> I&#39;d suggest to create a new project add a Ribbon and copy paste code from here. It must work. Make sure that the <code>Workbooks.Open</code> really opens the file (must be visible) after that"}, {"owner": {"reputation": 92, "user_id": 4504654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pHur-fETZD4/AAAAAAAAAAI/AAAAAAAAAE8/ZZSOe5LnczQ/photo.jpg?sz=128", "display_name": "Jaredt Hultink", "link": "https://stackoverflow.com/users/4504654/jaredt-hultink"}, "reply_to_user": {"reputation": 648, "user_id": 1710496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J0JbW.gif?s=128&g=1", "display_name": "PetLahev", "link": "https://stackoverflow.com/users/1710496/petlahev"}, "edited": false, "score": 0, "creation_date": 1524676861, "post_id": 49906374, "comment_id": 87072107, "body": "I tried the updated code on a fresh install of Excel and it worked perfectly. I am looking into some reg keys that might have caused the issue"}], "answers": [{"comments": [{"owner": {"reputation": 92, "user_id": 4504654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pHur-fETZD4/AAAAAAAAAAI/AAAAAAAAAE8/ZZSOe5LnczQ/photo.jpg?sz=128", "display_name": "Jaredt Hultink", "link": "https://stackoverflow.com/users/4504654/jaredt-hultink"}, "edited": false, "score": 0, "creation_date": 1524232299, "post_id": 49938325, "comment_id": 86902553, "body": "the xlApp.Workbooks[activeWkbName].Activate() line throws COMException: &#39;Invalid index&#39;."}, {"owner": {"reputation": 648, "user_id": 1710496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J0JbW.gif?s=128&g=1", "display_name": "PetLahev", "link": "https://stackoverflow.com/users/1710496/petlahev"}, "reply_to_user": {"reputation": 92, "user_id": 4504654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pHur-fETZD4/AAAAAAAAAAI/AAAAAAAAAE8/ZZSOe5LnczQ/photo.jpg?sz=128", "display_name": "Jaredt Hultink", "link": "https://stackoverflow.com/users/4504654/jaredt-hultink"}, "edited": false, "score": 0, "creation_date": 1524234257, "post_id": 49938325, "comment_id": 86903840, "body": "Strange, try to change the problematic line with xlApp.Workbooks.Item[activeWkbName].Activate();  works fine here"}, {"owner": {"reputation": 92, "user_id": 4504654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pHur-fETZD4/AAAAAAAAAAI/AAAAAAAAAE8/ZZSOe5LnczQ/photo.jpg?sz=128", "display_name": "Jaredt Hultink", "link": "https://stackoverflow.com/users/4504654/jaredt-hultink"}, "edited": false, "score": 0, "creation_date": 1524241746, "post_id": 49938325, "comment_id": 86908482, "body": "It looks like the Workbooks.Open() method is closing the workbook that is currently open. Workbooks.Count is 1 before and after calling Open()"}, {"owner": {"reputation": 648, "user_id": 1710496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J0JbW.gif?s=128&g=1", "display_name": "PetLahev", "link": "https://stackoverflow.com/users/1710496/petlahev"}, "reply_to_user": {"reputation": 92, "user_id": 4504654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pHur-fETZD4/AAAAAAAAAAI/AAAAAAAAAE8/ZZSOe5LnczQ/photo.jpg?sz=128", "display_name": "Jaredt Hultink", "link": "https://stackoverflow.com/users/4504654/jaredt-hultink"}, "edited": false, "score": 0, "creation_date": 1524244385, "post_id": 49938325, "comment_id": 86909844, "body": "Can you share your full code? At least the method, is it VSTO add-in? <code>Open</code> certainly doesn&#39;t close existing workbook"}], "tags": [], "owner": {"reputation": 648, "user_id": 1710496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J0JbW.gif?s=128&g=1", "display_name": "PetLahev", "link": "https://stackoverflow.com/users/1710496/petlahev"}, "is_accepted": false, "score": 1, "last_activity_date": 1524216233, "creation_date": 1524216233, "answer_id": 49938325, "question_id": 49906374, "link": "https://stackoverflow.com/questions/49906374/inserting-sheet-from-another-workbook-in-excel-add-in/49938325#49938325", "title": "Inserting Sheet from another Workbook in Excel Add-in", "body": "<p>Try this</p>\n\n<pre><code>            // no need to open another Excel instance\n            Microsoft.Office.Interop.Excel.Application xlApp = Globals.ThisAddIn.Application;\n            // get the name of the active workbook to be able to return back\n            var activeWkbName = xlApp.ActiveWorkbook.Name;\n\n            // open the template workbook - which will become active then\n            var templateWorkbook = xlApp.Workbooks.Open(templatePath);\n            var from = (templateWorkbook.Sheets[1] as Microsoft.Office.Interop.Excel.Worksheet); \n\n            // active the original one\n            xlApp.Workbooks[activeWkbName].Activate();\n            from.Copy(xlApp.ActiveWorkbook.ActiveSheet, Type.Missing);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92, "user_id": 4504654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pHur-fETZD4/AAAAAAAAAAI/AAAAAAAAAE8/ZZSOe5LnczQ/photo.jpg?sz=128", "display_name": "Jaredt Hultink", "link": "https://stackoverflow.com/users/4504654/jaredt-hultink"}, "is_accepted": true, "score": 3, "last_activity_date": 1524685886, "creation_date": 1524685886, "answer_id": 50030302, "question_id": 49906374, "link": "https://stackoverflow.com/questions/49906374/inserting-sheet-from-another-workbook-in-excel-add-in/50030302#50030302", "title": "Inserting Sheet from another Workbook in Excel Add-in", "body": "<p>It was a strange Excel issue. We had disabled the Excel welcome page via a registry key at HKEY_CURRENT_USER\\Software\\Microsoft\\Office\\16.0\\Common\\General\\DisableBootToOfficeStart. For some strange reason this stopped this code from working as expected.</p>\n"}], "owner": {"reputation": 92, "user_id": 4504654, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pHur-fETZD4/AAAAAAAAAAI/AAAAAAAAAE8/ZZSOe5LnczQ/photo.jpg?sz=128", "display_name": "Jaredt Hultink", "link": "https://stackoverflow.com/users/4504654/jaredt-hultink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 0, "accepted_answer_id": 50030302, "answer_count": 2, "score": 1, "last_activity_date": 1524685886, "creation_date": 1524075093, "last_edit_date": 1524495911, "question_id": 49906374, "link": "https://stackoverflow.com/questions/49906374/inserting-sheet-from-another-workbook-in-excel-add-in", "title": "Inserting Sheet from another Workbook in Excel Add-in", "body": "<p>I am trying to copy a sheet from an existing Excel Workbook and paste it into the current workbook using an Excel Add-in. I am using the following code but it is throwing an exception:</p>\n\n<pre><code>private void insertSamplingWksht_Click(object sender, RibbonControlEventArgs e)\n{\n     Microsoft.Office.Interop.Excel.Application xlApp = new    \n     Microsoft.Office.Interop.Excel.Application();\n     Workbook templateWorkbook = xlApp.Workbooks.Open(templatePath);\n     Worksheet from = (templateWorkbook.Sheets[1] as Worksheet); // Get first sheet\n     Worksheet to = (Globals.ThisAddIn.Application.ActiveWorkbook.ActiveSheet as Worksheet);\n     from.Copy(to, Type.Missing); // Throws System.Runtime.InteropServices.COMException: 'No such interface supported'\n }\n</code></pre>\n\n<p>I also tried the following which did not work either.</p>\n\n<pre><code>private void insertSamplingWksht_Click(object sender, RibbonControlEventArgs e)\n{\n    string templatePath = @\"path to file\";\n\n    Microsoft.Office.Interop.Excel.Application xlApp = Globals.ThisAddIn.Application;\n    var activeWkbName = xlApp.ActiveWorkbook.Name;\n\n    int beforeCount = xlApp.Workbooks.Count; // 1\n\n    var templateWorkbook = xlApp.Workbooks.Open(templatePath);\n    var from = (templateWorkbook.Sheets[1] as Microsoft.Office.Interop.Excel.Worksheet);\n\n    int afterCount = xlApp.Workbooks.Count; // also 1\n\n    xlApp.Workbooks[activeWkbName].Activate(); // COMException: 'Invalid index. \n    from.Copy(xlApp.ActiveWorkbook.ActiveSheet, Type.Missing);\n}\n</code></pre>\n"}, {"tags": ["c#", "runtime", "dropdown", "acumatica"], "comments": [{"owner": {"reputation": 6832, "user_id": 6064728, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yZxqO.jpg?s=128&g=1", "display_name": "Samvel Petrosov", "link": "https://stackoverflow.com/users/6064728/samvel-petrosov"}, "edited": false, "score": 0, "creation_date": 1524076469, "post_id": 49906357, "comment_id": 86829274, "body": "Add <code>PXStringList</code> to the DAC, then you should be able to overwrite it&#39;s values from code using <code>PXStringListAttribute.SetList</code>"}, {"owner": {"reputation": 13, "user_id": 9165633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22809e2a34aeb1064c912356b04d527e?s=128&d=identicon&r=PG&f=1", "display_name": "Valentina E.", "link": "https://stackoverflow.com/users/9165633/valentina-e"}, "reply_to_user": {"reputation": 6832, "user_id": 6064728, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yZxqO.jpg?s=128&g=1", "display_name": "Samvel Petrosov", "link": "https://stackoverflow.com/users/6064728/samvel-petrosov"}, "edited": false, "score": 0, "creation_date": 1524078810, "post_id": 49906357, "comment_id": 86830493, "body": "I tried that but it still failing"}, {"owner": {"reputation": 6832, "user_id": 6064728, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yZxqO.jpg?s=128&g=1", "display_name": "Samvel Petrosov", "link": "https://stackoverflow.com/users/6064728/samvel-petrosov"}, "edited": false, "score": 0, "creation_date": 1524079357, "post_id": 49906357, "comment_id": 86830806, "body": "Are you getting any errors or it is just not working?"}, {"owner": {"reputation": 13, "user_id": 9165633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22809e2a34aeb1064c912356b04d527e?s=128&d=identicon&r=PG&f=1", "display_name": "Valentina E.", "link": "https://stackoverflow.com/users/9165633/valentina-e"}, "reply_to_user": {"reputation": 6832, "user_id": 6064728, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yZxqO.jpg?s=128&g=1", "display_name": "Samvel Petrosov", "link": "https://stackoverflow.com/users/6064728/samvel-petrosov"}, "edited": false, "score": 0, "creation_date": 1524079469, "post_id": 49906357, "comment_id": 86830864, "body": "Just not working"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9165633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22809e2a34aeb1064c912356b04d527e?s=128&d=identicon&r=PG&f=1", "display_name": "Valentina E.", "link": "https://stackoverflow.com/users/9165633/valentina-e"}, "edited": false, "score": 0, "creation_date": 1524082490, "post_id": 49907631, "comment_id": 86832477, "body": "Thanks @Simon ML, it worked fine. However, I try to load the dropdown values in runtime: I have a local file in the workstation and I want to show several elements in the dropdown. I tried the suggestion of Samvel with the PXStringList on the DAC but it doesn&#39;t work"}, {"owner": {"reputation": 1651, "user_id": 2528023, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/lLzlr.jpg?s=128&g=1", "display_name": "Simon ML", "link": "https://stackoverflow.com/users/2528023/simon-ml"}, "reply_to_user": {"reputation": 13, "user_id": 9165633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22809e2a34aeb1064c912356b04d527e?s=128&d=identicon&r=PG&f=1", "display_name": "Valentina E.", "link": "https://stackoverflow.com/users/9165633/valentina-e"}, "edited": false, "score": 0, "creation_date": 1524149286, "post_id": 49907631, "comment_id": 86863810, "body": "You have a file you would like to pull the data from ? You can try to load and parse the file during the CacheAttached, it should work."}, {"owner": {"reputation": 13, "user_id": 9165633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22809e2a34aeb1064c912356b04d527e?s=128&d=identicon&r=PG&f=1", "display_name": "Valentina E.", "link": "https://stackoverflow.com/users/9165633/valentina-e"}, "edited": false, "score": 0, "creation_date": 1524492039, "post_id": 49907631, "comment_id": 86982261, "body": "Thanks @SimonML! Works fine but I take the Samvel answer"}], "tags": [], "owner": {"reputation": 1651, "user_id": 2528023, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/lLzlr.jpg?s=128&g=1", "display_name": "Simon ML", "link": "https://stackoverflow.com/users/2528023/simon-ml"}, "is_accepted": false, "score": 1, "last_activity_date": 1524079776, "creation_date": 1524079776, "answer_id": 49907631, "question_id": 49906357, "link": "https://stackoverflow.com/questions/49906357/acumatica-dynamic-dropdown/49907631#49907631", "title": "Acumatica dynamic dropdown", "body": "<p>Here is an example I did a while ago that displays how to leverage CacheAttached method to dynamicaly populate a string list. It changes the available values depending on the current company.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class DynamicDropdownAttribute : PXStringListAttribute\n{\n    private string[] Values2 = { \"A\", \"C\" };\n    private string[] Labels2 = { \"Alpha\", \"Charlie\" };\n\n    private string[] Values3 = { \"N\", \"C\" };\n    private string[] Labels3 = { \"November\", \"Charlie\" };\n\n    public DynamicDropdownAttribute()\n        : base()\n    {\n    }\n\n    public override void CacheAttached(PXCache sender)\n    {\n        base.CacheAttached(sender);\n        var company = PX.Data.Update.PXInstanceHelper.CurrentCompany;\n        if (company == 2)\n        {\n            this._AllowedValues = Values2;\n            this._AllowedLabels = Labels2;\n        }\n        else if (company == 3)\n        {\n            this._AllowedValues = Values3;\n            this._AllowedLabels = Labels3;\n        }\n    }\n}\n\npublic class SOOrderPXExt : PXCacheExtension&lt;SOOrder&gt;\n{\n    [PXString(1)]\n    [PXUIField(DisplayName = \"Process\")]\n    [DynamicDropdown]\n    public virtual string UsrProcess { get; set; }\n    public abstract class usrProcess : IBqlField { }\n}\n</code></pre>\n\n<p>The reason you need to use CacheAttached is explained in the T200 certification, available in Acumatica Open University. Here is an excerpt :</p>\n\n<p><a href=\"https://i.stack.imgur.com/dLLTa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dLLTa.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 9165633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22809e2a34aeb1064c912356b04d527e?s=128&d=identicon&r=PG&f=1", "display_name": "Valentina E.", "link": "https://stackoverflow.com/users/9165633/valentina-e"}, "edited": false, "score": 0, "creation_date": 1524101345, "post_id": 49907964, "comment_id": 86838566, "body": "Thanks Samvel! I tried it with this example and it works perfect with a dropdown in the Form, however I tried y with the same example for the dropdown in the Grid and it didn&#39;t work for me, let me know if you have any idea why"}, {"owner": {"reputation": 13, "user_id": 9165633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22809e2a34aeb1064c912356b04d527e?s=128&d=identicon&r=PG&f=1", "display_name": "Valentina E.", "link": "https://stackoverflow.com/users/9165633/valentina-e"}, "edited": false, "score": 0, "creation_date": 1524492013, "post_id": 49907964, "comment_id": 86982240, "body": "Thanks @SamvelPetrosov. It works fine without the if(e.Row!=null)"}, {"owner": {"reputation": 123, "user_id": 3245571, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/474b3ad9876212ed777b54ba491771d5?s=128&d=identicon&r=PG&f=1", "display_name": "Stan A", "link": "https://stackoverflow.com/users/3245571/stan-a"}, "edited": false, "score": 0, "creation_date": 1601477885, "post_id": 49907964, "comment_id": 113421840, "body": "Neither Samvel&#39;s nor Simon&#39;s solutions will work for grids without MatrixMode grid property set to true"}], "tags": [], "owner": {"reputation": 6832, "user_id": 6064728, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yZxqO.jpg?s=128&g=1", "display_name": "Samvel Petrosov", "link": "https://stackoverflow.com/users/6064728/samvel-petrosov"}, "is_accepted": true, "score": 0, "last_activity_date": 1524136810, "last_edit_date": 1524136810, "creation_date": 1524081202, "answer_id": 49907964, "question_id": 49906357, "link": "https://stackoverflow.com/questions/49906357/acumatica-dynamic-dropdown/49907964#49907964", "title": "Acumatica dynamic dropdown", "body": "<p>Here is example how you can change the Values of the <code>PXStringListAttribute</code> while selecting that field:</p>\n\n<p><strong>The DAC Extension</strong>:</p>\n\n<pre><code>public class SOOrderExt:PXCacheExtension&lt;SOOrder&gt;\n{\n\n    #region TestField\n    [PXString]\n    [PXStringList()]\n    [PXUIField(DisplayName = \"Acumatica Field\")]\n    public string TestField { get; set; }\n\n    public abstract class testField : IBqlField { }\n    #endregion\n}\n</code></pre>\n\n<p><strong>The Graph Extension</strong></p>\n\n<pre><code>public class SOOrderEntryExt : PXGraphExtension&lt;SOOrderEntry&gt;\n{\n    public virtual void SOOrder_TestField_FieldSelecting(PXCache sender,PXFieldSelectingEventArgs e)\n    {\n        if(e.Row!=null)\n        {\n            List&lt;string&gt; values = new List&lt;string&gt;();\n            values.AddRange(new []{ \"First\",\"Second\"});\n            SOOrder row = (SOOrder)e.Row;\n            PXStringListAttribute.SetList&lt;SOOrderExt.testField&gt;(sender, row, values.ToArray(), values.ToArray());\n        }\n    }\n}\n</code></pre>\n\n<p>Also you should be sure that when you added the field to the Page from Layout Editor that it was added as \"Combobox\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/xGnFQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xGnFQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>As a result you will get the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/skNKI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/skNKI.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>UPDATE 1</strong>\nFor changing the dropdown in the Grid you can use the following code as an example:</p>\n\n<p><strong>Graph Extension</strong></p>\n\n<pre><code>public class SOOrderEntryExt : PXGraphExtension&lt;SOOrderEntry&gt;\n{\n    public virtual void SOLine_TestField_FieldSelecting(PXCache sender,PXFieldSelectingEventArgs e)\n    {\n        if(e.Row!=null)\n        {\n            List&lt;string&gt; values = new List&lt;string&gt;();\n            values.AddRange(new[] { \"First\", \"Second\" });\n            PXStringListAttribute.SetList&lt;SOLineExt.testField&gt;(sender, null, values.ToArray(), values.ToArray());\n        }\n    }\n}\n</code></pre>\n\n<p><strong>DAC Extension</strong></p>\n\n<pre><code>public class SOLineExt : PXCacheExtension&lt;SOLine&gt;\n{\n\n    #region TestField\n    [PXString]\n    [PXStringList()]\n    [PXUIField(DisplayName = \"Acumatica Field\")]\n    public string TestField { get; set; }\n\n    public abstract class testField : IBqlField { }\n    #endregion\n}\n</code></pre>\n\n<p>As you can see the difference is in the call of the <code>PXStringListAttribute.SetList&lt;T&gt;</code> in case of grid this is working only when passing <code>null</code> as row so that the change will be done for all lines.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NYkqr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NYkqr.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 4292071, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EBmJmXCa0Jk/AAAAAAAAAAI/AAAAAAAAB_s/7R7x6GawHlo/photo.jpg?sz=128", "display_name": "Cosmin Antohe", "link": "https://stackoverflow.com/users/4292071/cosmin-antohe"}, "is_accepted": false, "score": 0, "last_activity_date": 1560258273, "creation_date": 1560258273, "answer_id": 56544423, "question_id": 49906357, "link": "https://stackoverflow.com/questions/49906357/acumatica-dynamic-dropdown/56544423#56544423", "title": "Acumatica dynamic dropdown", "body": "<p>The problem you count comes from the Grid control and not from DAC/Graph.</p>\n\n<p>Because you set different cell formatting for each row, you need to set:</p>\n\n<pre><code>&lt;px:PXGrid MatrixMode=\"True\"\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9165633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22809e2a34aeb1064c912356b04d527e?s=128&d=identicon&r=PG&f=1", "display_name": "Valentina E.", "link": "https://stackoverflow.com/users/9165633/valentina-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1062, "favorite_count": 1, "accepted_answer_id": 49907964, "answer_count": 3, "score": 1, "last_activity_date": 1560258273, "creation_date": 1524075044, "question_id": 49906357, "link": "https://stackoverflow.com/questions/49906357/acumatica-dynamic-dropdown", "title": "Acumatica dynamic dropdown", "body": "<p>I have a dropdown in a Grid and I want to fill it in runtime. I tried it in a RowSelected event but it doesn't work. </p>\n\n<p>Then I tried it to assign the attribute PXStringList in the field definition on the DAC, but it doesn't work either.</p>\n\n<p>This is the event</p>\n\n<pre><code>        protected virtual void HIASetupDetail_RowSelected(PXCache sender, PXRowSelectedEventArgs e)\n    {\n        List&lt;string&gt; values = new List&lt;string&gt;();\n        values.AddRange(new string[] { \"A\", \"B\" });\n\n        if (e.Row == null)\n        {\n            return;\n        }\n\n        HIASetupDetail HIASetupDetailRow = (HIASetupDetail)e.Row;\n\n        PXStringListAttribute.SetList&lt;HIASetupDetail.acumaticaField&gt;(sender, HIASetupDetailRow, values.ToArray(), values.ToArray());\n    }\n</code></pre>\n\n<p>And this is the DAC</p>\n\n<pre><code>[System.SerializableAttribute()]\npublic class HIASetupDetail : PX.Data.IBqlTable\n{        \n    #region AcumaticaField\n    public abstract class acumaticaField : PX.Data.IBqlField\n    {\n    }\n    [PXDBString()]\n    [PXDefault()]\n    [PXUIField(DisplayName = \"Acumatica Field\")]\n    public virtual string AcumaticaField { get; set; }\n    #endregion\n\n\n}\n</code></pre>\n\n<p>This is the Dropdown in the Grid</p>\n\n<p>Any idea why it doesn't work in the Grid?</p>\n"}, {"tags": ["c#", "visual-studio", "nuget"], "comments": [{"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1524074951, "post_id": 49906310, "comment_id": 86828436, "body": "winform,wpf,umw , which one ?"}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1524074969, "post_id": 49906310, "comment_id": 86828445, "body": "and if restore failed, why not try re-downloading em ?"}, {"owner": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "edited": false, "score": 1, "creation_date": 1524075031, "post_id": 49906310, "comment_id": 86828480, "body": "<a href=\"https://github.com/restsharp/RestSharp/issues/992\" rel=\"nofollow noreferrer\">github.com/restsharp/RestSharp/issues/992</a>"}, {"owner": {"reputation": 2095, "user_id": 226781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a5c60ca9b6ac960242386c71ceefbc5?s=128&d=identicon&r=PG", "display_name": "asherber", "link": "https://stackoverflow.com/users/226781/asherber"}, "edited": false, "score": 0, "creation_date": 1524080558, "post_id": 49906310, "comment_id": 86831439, "body": "Where is this NuGet package located?"}, {"owner": {"reputation": 51483, "user_id": 7460777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938b7ee32587b28c8634edec4a0f90c2?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Liu-MSFT", "link": "https://stackoverflow.com/users/7460777/leo-liu-msft"}, "edited": false, "score": 0, "creation_date": 1524102432, "post_id": 49906310, "comment_id": 86838810, "body": "What is your project type?"}], "answers": [{"tags": [], "owner": {"reputation": 142, "user_id": 3068667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4kuq.jpg?s=128&g=1", "display_name": "ashishsingh92", "link": "https://stackoverflow.com/users/3068667/ashishsingh92"}, "is_accepted": false, "score": 0, "last_activity_date": 1524076898, "creation_date": 1524076898, "answer_id": 49906837, "question_id": 49906310, "link": "https://stackoverflow.com/questions/49906310/install-nuget-package-get-error/49906837#49906837", "title": "Install nuget package get error", "body": "<p>Try restarting your machine and then\nFire the command in package manager console\nUpdate-Package \u2013reinstall </p>\n"}, {"tags": [], "owner": {"reputation": 51483, "user_id": 7460777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938b7ee32587b28c8634edec4a0f90c2?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Liu-MSFT", "link": "https://stackoverflow.com/users/7460777/leo-liu-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1524105150, "creation_date": 1524105150, "answer_id": 49911828, "question_id": 49906310, "link": "https://stackoverflow.com/questions/49906310/install-nuget-package-get-error/49911828#49911828", "title": "Install nuget package get error", "body": "<blockquote>\n  <p>Error : Package restore failed. Rolling back package changes for 'VizsafeWindows'.</p>\n</blockquote>\n\n<p>I have tried install those two packages to different project types, got the same error when I install them to the UWP project. So, Is your project type UWP?</p>\n\n<p>When I open the output window, I will got the following detailed error messages:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VWm3i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VWm3i.png\" alt=\"enter image description here\"></a></p>\n\n<p>Just as the error message showing, the reason for this issue is those packages are not compatible with uap10.0.10586 (UAP,Version=v10.0.10586).</p>\n\n<p>To resolve this issue, we have to wait the author of those package to update package to support UWP. You can check the <a href=\"https://github.com/restsharp/RestSharp/issues/745\" rel=\"nofollow noreferrer\">similar issue</a> on the Github.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8579173"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 49911828, "answer_count": 2, "score": 1, "last_activity_date": 1524105150, "creation_date": 1524074856, "last_edit_date": 1524101706, "question_id": 49906310, "link": "https://stackoverflow.com/questions/49906310/install-nuget-package-get-error", "title": "Install nuget package get error", "body": "<p>I am trying to install the nuget package <code>GeoLocation</code>, <code>EntityFramework</code> to my project by using VS 2017 Professional. While I am getting the following error.</p>\n\n<blockquote>\n  <p>Error  : Package restore failed. Rolling back package changes for\n  'VizsafeWindows'.</p>\n</blockquote>\n\n<p>I have tried the following methods but none will work:</p>\n\n<ul>\n<li><p>Deleted the %AppData%/Nuget/Nuget.config and restarted the VS .</p></li>\n<li><p>Closing and reopening the VS.</p></li>\n<li><p>Deleted all the packages and installed once again.</p></li>\n</ul>\n"}, {"tags": ["c#", "unit-testing", "dependency-injection", "autofac"], "comments": [{"owner": {"reputation": 24411, "user_id": 292411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8fdeba51c2ba145110541a5bb19696?s=128&d=identicon&r=PG&f=1", "display_name": "C.Evenhuis", "link": "https://stackoverflow.com/users/292411/c-evenhuis"}, "edited": false, "score": 1, "creation_date": 1524074850, "post_id": 49906218, "comment_id": 86828387, "body": "If you expect these parameters to change over time, one solution is to put them in an <code>AbstractFooParameters</code> class, that the concrete classes pass as a single parameter. Not sure if that&#39;s what you were looking for though."}, {"owner": {"reputation": 1050, "user_id": 1038053, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/09ba8dca887249437ca9e5af4f63e591?s=128&d=identicon&r=PG", "display_name": "Ian Overton", "link": "https://stackoverflow.com/users/1038053/ian-overton"}, "reply_to_user": {"reputation": 24411, "user_id": 292411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8fdeba51c2ba145110541a5bb19696?s=128&d=identicon&r=PG&f=1", "display_name": "C.Evenhuis", "link": "https://stackoverflow.com/users/292411/c-evenhuis"}, "edited": false, "score": 0, "creation_date": 1524075060, "post_id": 49906218, "comment_id": 86828498, "body": "would that be able to be used with a DI?"}, {"owner": {"reputation": 24411, "user_id": 292411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8fdeba51c2ba145110541a5bb19696?s=128&d=identicon&r=PG&f=1", "display_name": "C.Evenhuis", "link": "https://stackoverflow.com/users/292411/c-evenhuis"}, "edited": false, "score": 0, "creation_date": 1524075728, "post_id": 49906218, "comment_id": 86828821, "body": "I don&#39;t know autofac but it should work with constructor injection, just like with any other constructor parameter."}, {"owner": {"reputation": 1050, "user_id": 1038053, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/09ba8dca887249437ca9e5af4f63e591?s=128&d=identicon&r=PG", "display_name": "Ian Overton", "link": "https://stackoverflow.com/users/1038053/ian-overton"}, "reply_to_user": {"reputation": 24411, "user_id": 292411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8fdeba51c2ba145110541a5bb19696?s=128&d=identicon&r=PG&f=1", "display_name": "C.Evenhuis", "link": "https://stackoverflow.com/users/292411/c-evenhuis"}, "edited": false, "score": 0, "creation_date": 1524077405, "post_id": 49906218, "comment_id": 86829804, "body": "I actually like this solution can you post it as an answer?"}, {"owner": {"reputation": 583, "user_id": 624756, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/719d8eba780f55201541da58533f1b74?s=128&d=identicon&r=PG", "display_name": "mrdnk", "link": "https://stackoverflow.com/users/624756/mrdnk"}, "edited": false, "score": 0, "creation_date": 1524080714, "post_id": 49906218, "comment_id": 86831509, "body": "@IanOverton, I agree that C.Evenhuis solution was my initial thought on how to solve this issue, however the implementation depends very much on the context of these parameters, and what you&#39;re trying to achieve"}, {"owner": {"reputation": 24411, "user_id": 292411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8fdeba51c2ba145110541a5bb19696?s=128&d=identicon&r=PG&f=1", "display_name": "C.Evenhuis", "link": "https://stackoverflow.com/users/292411/c-evenhuis"}, "edited": false, "score": 0, "creation_date": 1524084168, "post_id": 49906218, "comment_id": 86833308, "body": "@IanOverton I think the first part of Kitson88&#39;s answer already captures the idea."}], "answers": [{"comments": [{"owner": {"reputation": 20225, "user_id": 8116, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b473ad19f5781cd5f17a65a670f3b37?s=128&d=identicon&r=PG", "display_name": "Travis Illig", "link": "https://stackoverflow.com/users/8116/travis-illig"}, "edited": false, "score": 2, "creation_date": 1524151056, "post_id": 49907450, "comment_id": 86865115, "body": "From a &quot;solving this with Autofac&quot; perspective, <a href=\"http://autofac.readthedocs.io/en/latest/advanced/aggregate-services.html\" rel=\"nofollow noreferrer\">Autofac supports the &quot;aggregate service&quot; pattern</a>, allowing you to define an interface where the required parameters are properties on the interface. Autofac will dynamically generate the concrete implementation of the interface and populate the properties for you. <a href=\"http://autofac.readthedocs.io/en/latest/advanced/aggregate-services.html\" rel=\"nofollow noreferrer\">See the docs for an example.</a>"}, {"owner": {"reputation": 2599, "user_id": 6574422, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Gkbt4.jpg?s=128&g=1", "display_name": "Kitson88", "link": "https://stackoverflow.com/users/6574422/kitson88"}, "reply_to_user": {"reputation": 20225, "user_id": 8116, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b473ad19f5781cd5f17a65a670f3b37?s=128&d=identicon&r=PG", "display_name": "Travis Illig", "link": "https://stackoverflow.com/users/8116/travis-illig"}, "edited": false, "score": 0, "creation_date": 1524151917, "post_id": 49907450, "comment_id": 86865710, "body": "@TravisIllig Not had the pleasure of using Autofac. Just going through the doc&#39;s now...pretty impressive."}, {"owner": {"reputation": 1050, "user_id": 1038053, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/09ba8dca887249437ca9e5af4f63e591?s=128&d=identicon&r=PG", "display_name": "Ian Overton", "link": "https://stackoverflow.com/users/1038053/ian-overton"}, "edited": false, "score": 0, "creation_date": 1524154247, "post_id": 49907450, "comment_id": 86867171, "body": "the param list is the same in both classes not a dynamic list. it&#39;s jus tthe details the class are different. What Travis said is interesting I&#39;ll have to try that. It will make it so I don&#39;t need to have a concrete class to accomplish what I&#39;m wanting to do."}, {"owner": {"reputation": 1050, "user_id": 1038053, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/09ba8dca887249437ca9e5af4f63e591?s=128&d=identicon&r=PG", "display_name": "Ian Overton", "link": "https://stackoverflow.com/users/1038053/ian-overton"}, "edited": false, "score": 0, "creation_date": 1524247462, "post_id": 49907450, "comment_id": 86911393, "body": "+1 Even though I didn&#39;t need this kind of solution for this problem its definitely an awesome one and I&#39;ll have to find places to use it."}], "tags": [], "owner": {"reputation": 2599, "user_id": 6574422, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Gkbt4.jpg?s=128&g=1", "display_name": "Kitson88", "link": "https://stackoverflow.com/users/6574422/kitson88"}, "is_accepted": false, "score": 1, "last_activity_date": 1524081592, "last_edit_date": 1524081592, "creation_date": 1524079045, "answer_id": 49907450, "question_id": 49906218, "link": "https://stackoverflow.com/questions/49906218/polymorphic-abstract-class-with-a-lot-of-di-paramters/49907450#49907450", "title": "Polymorphic Abstract class with a lot of DI paramters", "body": "<p>I believe this is similar to what <strong>@C.Evenhuis</strong> mentioned in the comments by abstracting your constructor parameters into a common interface so they can be passed as single constructor parameter as well as being easily tested. </p>\n\n<p><strong>Concrete Classes:</strong></p>\n\n<pre><code>public class FooComplex : AbstractFoo\n{\n    public FooComplex(ComplexParam complexParam) : base(complexParam)\n    {}\n}\n\npublic class FooSimple : AbstractFoo\n{\n    public FooSimple(SimpleParam simpleParam) : base(simpleParam)\n    {}\n}\n</code></pre>\n\n<p><strong>Single Generic Concrete Class (Optional)</strong></p>\n\n<p>With this class, you could pass any type into the constructor which inherits <code>IParams</code> and potentially remove the need for <code>FooComplex</code> and <code>FooSimple</code>.</p>\n\n<pre><code>public class Foo&lt;T&gt; : AbstractFoo where T : IParam\n{\n    public Foo(T param) : base(param)\n    { }\n}\n</code></pre>\n\n<p><strong>Base Abstract Class:</strong></p>\n\n<pre><code>public abstract class AbstractFoo\n{\n protected AbstractFoo(IParam parameter) { }\n}\n</code></pre>\n\n<p><strong>Interfaces:</strong></p>\n\n<pre><code>public interface IBarCool : IBar\n{}\n\npublic interface IBarAwesome : IBar\n{}\n\npublic interface IBar\n{}\n\npublic interface IParam\n{\n    IEnumerable&lt;IBar&gt; Param { get; }\n}\n</code></pre>\n\n<p><strong>Reusable Concrete Parameters:</strong></p>\n\n<p>I personally don't like this method below because of the repetition but I suppose if each of the classes have their own separate implementation then it's okay. Another option would be to just have a class called <code>ParameterHolder</code> and two instances of the class named appropriately e.g. <code>var complex = new ParameterHolder()</code> and pass to the Generic <code>Foo&lt;T&gt;</code>.</p>\n\n<pre><code>public class ComplexParam : IParam\n{\n    public IEnumerable&lt;IBar&gt; Param { get; }\n\n    public ComplexParam(IEnumerable&lt;IBar&gt; complexParam)\n    {\n        Param = complexParam;\n    }\n}\n\npublic class SimpleParam : IParam\n{\n    public IEnumerable&lt;IBar&gt; Param { get; }\n\n    public SimpleParam(IEnumerable&lt;IBar&gt; simpleParam)\n    {\n        Param = simpleParam;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1050, "user_id": 1038053, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/09ba8dca887249437ca9e5af4f63e591?s=128&d=identicon&r=PG", "display_name": "Ian Overton", "link": "https://stackoverflow.com/users/1038053/ian-overton"}, "is_accepted": true, "score": 0, "last_activity_date": 1524247102, "creation_date": 1524247102, "answer_id": 49947339, "question_id": 49906218, "link": "https://stackoverflow.com/questions/49906218/polymorphic-abstract-class-with-a-lot-of-di-paramters/49947339#49947339", "title": "Polymorphic Abstract class with a lot of DI paramters", "body": "<p>All that needs to happen is:</p>\n\n<pre><code>public interface IAbstractParams\n{\n   IBarAwesome awesome { get; } \n   IBarCool cool { get; }\n   ... \n}\n\npublic class FooComplex : AbstractFoo \n{\n    public FooComplex(IAbstractParams params) : base(params) { }\n    ...a lot of overriding abstracts\n}\n\npublic class FooSimple : AbstractFoo\n{\n    public FooSimple(IAbstractParams params) : base(params) { }\n    ...little bit of overriding abstracts\n}\n\npublic class AbstractFoo\n{\n    protected readonly IBarAwesome _awesome;\n    protected readonly IBarCool _cool;\n\n    public AbstractFoo(IAbstractParams params)\n    {\n     _awesome = params.awesome;\n     _cool = params.cool;\n    }\n\n    ...heavy lifting\n}\n</code></pre>\n\n<p>then you need to add the nuget package Autofac.Extras.AggregateService and add this line to your builder:</p>\n\n<pre><code>builder.RegisterAggregateService&lt;IAbstractParams&gt;();\n</code></pre>\n\n<p>Thank you to <strong>@Travis Illig</strong> and <strong>@C.Evenhuis</strong> for helping me come up with this solution.</p>\n\n<p>For more complex solutions to this same problem please look at <strong>@Kitson88</strong></p>\n"}], "owner": {"reputation": 1050, "user_id": 1038053, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/09ba8dca887249437ca9e5af4f63e591?s=128&d=identicon&r=PG", "display_name": "Ian Overton", "link": "https://stackoverflow.com/users/1038053/ian-overton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 49947339, "answer_count": 2, "score": 2, "last_activity_date": 1524247102, "creation_date": 1524074534, "question_id": 49906218, "link": "https://stackoverflow.com/questions/49906218/polymorphic-abstract-class-with-a-lot-of-di-paramters", "title": "Polymorphic Abstract class with a lot of DI paramters", "body": "<p>I'm constantly running into the problem of having an abstract class that does all the heavy lifting and then I have a lot of polymorphic classes that customize the abstract to a specific need. The abstract generally needs a lot of parameters, so they all have to be passed from all polymorphic classes</p>\n\n<pre><code>public class FooComplex : AbstractFoo {\n    public FooComplex(IBarAwesome awesome, IBarCool cool, ...) : base(IBarAwesome awesome, IBarCool cool, ...) { }\n    ...a lot of overriding abstracts\n}\n\npublic class FooSimple : AbstractFoo\n{\n    public FooSimple(IBarAwesome awesome, IBarCool cool, ...) : base(IBarAwesome awesome, IBarCool cool, ...) { }\n    ...little bit of overriding abstracts\n}\n\npublic class AbstractFoo\n{\n    public AbstractFoo(IBarAwesome awesome, IBarCool cool, ...)\n    ...heavy lifting\n}\n</code></pre>\n\n<p>Is there anything I can do to not pass all these things, but be able to unit test them? I've always been taught that doing </p>\n\n<pre><code>var awesome = container.Resolve&lt;IBarAwesome&gt;();\n</code></pre>\n\n<p>In like say the constructor is bad practice.</p>\n\n<p>The reason I would like to find a solution to this, is it makes it harder and hard to pass anything new into the abstract class as I have to copy and pass the same parameters into many polymorphic subclasses.</p>\n"}, {"tags": ["c#", "sql", "asp.net", "database", "insert"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 1, "creation_date": 1524074831, "post_id": 49906211, "comment_id": 86828371, "body": "These kinds of limitations should always be applied to teh DB Side. A unique constraint is one of the most trivial ones, every DBMS that supports Priamry keys needs ot have one. Moving these knds of checks into the Client only makes it more prone to error without giving you anything."}, {"owner": {"reputation": 11, "user_id": 9530968, "user_type": "registered", "profile_image": "https://graph.facebook.com/1204228823045826/picture?type=large", "display_name": "nouko", "link": "https://stackoverflow.com/users/9530968/nouko"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1524075627, "post_id": 49906211, "comment_id": 86828762, "body": "In Users Table in my db, the primary key is the Username. Could it be that I am just trying to re-Add as a parameter the username? Maybe there is a way to take it from the first time."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1524075836, "post_id": 49906211, "comment_id": 86828882, "body": "A string makes a poor primary key. It should be a integer, autovalue. You can still apply unique to other rows freely. If you want to know the value of something you just inserted, MS SQL has the &quot;OUTPUT&quot; clause. It allows access to stuff like the auto generated primary key of the row you just inserted."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9530968, "user_type": "registered", "profile_image": "https://graph.facebook.com/1204228823045826/picture?type=large", "display_name": "nouko", "link": "https://stackoverflow.com/users/9530968/nouko"}, "edited": false, "score": 0, "creation_date": 1524075444, "post_id": 49906337, "comment_id": 86828690, "body": "Same error. the @sign in front of the Values(@username, @password) makes the &quot;assignment&quot; from the users input."}, {"owner": {"reputation": 950, "user_id": 977046, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8oeOa.jpg?s=128&g=1", "display_name": "Rick Riensche", "link": "https://stackoverflow.com/users/977046/rick-riensche"}, "edited": false, "score": 0, "creation_date": 1524075522, "post_id": 49906337, "comment_id": 86828718, "body": "Are you missing an &quot;into&quot; a la &quot;INSERT INTO table&quot;?"}, {"owner": {"reputation": 471, "user_id": 4900683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/caaefcfaa8651cd3f0e238d445742dc6?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Liriano", "link": "https://stackoverflow.com/users/4900683/anthony-liriano"}, "edited": false, "score": 0, "creation_date": 1524075980, "post_id": 49906337, "comment_id": 86828983, "body": "You have the syntax issues in three different places, edited my comment to include the additional place."}, {"owner": {"reputation": 11, "user_id": 9530968, "user_type": "registered", "profile_image": "https://graph.facebook.com/1204228823045826/picture?type=large", "display_name": "nouko", "link": "https://stackoverflow.com/users/9530968/nouko"}, "edited": false, "score": 0, "creation_date": 1524076352, "post_id": 49906337, "comment_id": 86829197, "body": "Thank you for you interest. Again, same error. I don&#39;t believe there&#39;s a syntax error. But I have one question, about your edit, why add 2 times the username parameter?"}, {"owner": {"reputation": 471, "user_id": 4900683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/caaefcfaa8651cd3f0e238d445742dc6?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Liriano", "link": "https://stackoverflow.com/users/4900683/anthony-liriano"}, "edited": false, "score": 0, "creation_date": 1524076979, "post_id": 49906337, "comment_id": 86829579, "body": "Think I nailed it this time. So, you&#39;re using separate SqlCommand objects. You have to assign the variables to each individual object. In the else block you&#39;re using cmPass not cmSignUp  There are multiple entries because there are 2 separate objects, hope this answered your question."}, {"owner": {"reputation": 11, "user_id": 9530968, "user_type": "registered", "profile_image": "https://graph.facebook.com/1204228823045826/picture?type=large", "display_name": "nouko", "link": "https://stackoverflow.com/users/9530968/nouko"}, "edited": false, "score": 0, "creation_date": 1524077197, "post_id": 49906337, "comment_id": 86829697, "body": "NAILED IT IT IS!!! and I just created a user named hopethatworks password gogogo  (hahaha)"}, {"owner": {"reputation": 471, "user_id": 4900683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/caaefcfaa8651cd3f0e238d445742dc6?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Liriano", "link": "https://stackoverflow.com/users/4900683/anthony-liriano"}, "edited": false, "score": 0, "creation_date": 1524077416, "post_id": 49906337, "comment_id": 86829814, "body": "Happy to help! Please accept the answer when you get the chance"}], "tags": [], "owner": {"reputation": 471, "user_id": 4900683, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/caaefcfaa8651cd3f0e238d445742dc6?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Liriano", "link": "https://stackoverflow.com/users/4900683/anthony-liriano"}, "is_accepted": true, "score": 1, "last_activity_date": 1524076871, "last_edit_date": 1524076871, "creation_date": 1524074974, "answer_id": 49906337, "question_id": 49906211, "link": "https://stackoverflow.com/questions/49906211/check-if-element-exist-and-if-not-then-update-database-c/49906337#49906337", "title": "Check if element exist and if not then update database c#", "body": "<p>It seems like it an issue with your syntax I would replace the following lines with @username and @password</p>\n\n<pre><code>cmdSignUp.Parameters.Add(new SqlParameter(\"@username\", username));\ncmdPass.Parameters.Add(new SqlParameter(\"@username\", username))\ncmdPass.Parameters.Add(new SqlParameter(\"@password\", password));\n</code></pre>\n\n<p>Also, you're using the wrong reference in the else block you should be using cmPass instead of cmdSignUp</p>\n"}], "owner": {"reputation": 11, "user_id": 9530968, "user_type": "registered", "profile_image": "https://graph.facebook.com/1204228823045826/picture?type=large", "display_name": "nouko", "link": "https://stackoverflow.com/users/9530968/nouko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 49906337, "answer_count": 1, "score": 0, "last_activity_date": 1524079052, "creation_date": 1524074522, "last_edit_date": 1524079052, "question_id": 49906211, "link": "https://stackoverflow.com/questions/49906211/check-if-element-exist-and-if-not-then-update-database-c", "title": "Check if element exist and if not then update database c#", "body": "<p>As you can see below, I am trying to check first if username of new user already exists. If not, then to insert in database. My error is </p>\n\n<blockquote>\n  <p>System.Data.SqlClient.SqlException: 'Must declare the scalar variable \"@username\".</p>\n</blockquote>\n\n<p>I am thinking about taking off the second </p>\n\n<pre><code>cmdSignUp.Parameters.Add(new SqlParameter(\"username\", username)); \n</code></pre>\n\n<p>where my //comments are.</p>\n\n<p>But it's not fixed.</p>\n\n<p>I think it's all because I demand the input inside a using above the <em>Insert</em> using.</p>\n\n<pre><code>Console.WriteLine(\"Select Username\");\nstring username = Console.ReadLine();\n\nusing (SqlCommand cmdSignUp = new SqlCommand(\"Select Count(*) from Users where Username = @username\", conn))\n{\n    cmdSignUp.Parameters.Add(new SqlParameter(\"username\", username));\n    int UserExists = (int)cmdSignUp.ExecuteScalar();\n\n    if (UserExists &gt; 0)\n    {                                \n        Console.WriteLine(\"Username already exists. Please sign up again\");\n        Console.ReadKey();\n        Console.Clear();\n    }\n    else\n    {\n        Console.WriteLine(\"Enter a password 6-8 characters\");\n        string password = Console.ReadLine();\n\n        using (SqlCommand cmdPass = new SqlCommand(\"Insert Users(Username, Password) Values(@username, @password)\", conn))\n        {\n            // maybe the error is here? If I delete it I am getting \n            // System.Data.SqlClient.SqlException: \n            // 'Must declare the scalar variable \"@username\"\n            cmdSignUp.Parameters.Add(new SqlParameter(\"username\", username));                 \n            cmdSignUp.Parameters.Add(new SqlParameter(\"password\", password));\n\n            int rows = cmdPass.ExecuteNonQuery();\n\n            Console.WriteLine($\"{rows} new user has been created. Press a key to go back to Main Menu and LogIn\");\n            Console.ReadKey();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#"], "answers": [{"comments": [{"owner": {"reputation": 1223, "user_id": 2366842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db1f21d133e897903c931feb815012b?s=128&d=identicon&r=PG", "display_name": "user2366842", "link": "https://stackoverflow.com/users/2366842/user2366842"}, "edited": false, "score": 0, "creation_date": 1524074632, "post_id": 49906178, "comment_id": 86828271, "body": "Another way to do this is to do an inline <code>ToString</code> on the <code>WriteLine</code> for the variable.  This breaks common conventions used by many people in C#, but does in fact work..."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 1223, "user_id": 2366842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db1f21d133e897903c931feb815012b?s=128&d=identicon&r=PG", "display_name": "user2366842", "link": "https://stackoverflow.com/users/2366842/user2366842"}, "edited": false, "score": 2, "creation_date": 1524074892, "post_id": 49906178, "comment_id": 86828406, "body": "@user2366842 <code>Console.WriteLine()</code> automatically calls <code>.ToString()</code> on variables passed as arguments.   I am not sure I follow your comment"}, {"owner": {"reputation": 1223, "user_id": 2366842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db1f21d133e897903c931feb815012b?s=128&d=identicon&r=PG", "display_name": "user2366842", "link": "https://stackoverflow.com/users/2366842/user2366842"}, "edited": false, "score": 0, "creation_date": 1524081905, "post_id": 49906178, "comment_id": 86832155, "body": "My comment being you could go like such: <code>Console.WriteLine(&quot;testing &quot; &amp; HumanStrideLength.ToString());</code> or so.  You don&#39;t need to pass them through as arguments."}, {"owner": {"reputation": 4172, "user_id": 3508956, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/umLTo.jpg?s=128&g=1", "display_name": "laptou", "link": "https://stackoverflow.com/users/3508956/laptou"}, "reply_to_user": {"reputation": 1223, "user_id": 2366842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db1f21d133e897903c931feb815012b?s=128&d=identicon&r=PG", "display_name": "user2366842", "link": "https://stackoverflow.com/users/2366842/user2366842"}, "edited": false, "score": 0, "creation_date": 1524082851, "post_id": 49906178, "comment_id": 86832655, "body": "@user2366842 The concatenation operator in C# is <code>+</code>, not <code>&amp;</code>."}, {"owner": {"reputation": 1223, "user_id": 2366842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db1f21d133e897903c931feb815012b?s=128&d=identicon&r=PG", "display_name": "user2366842", "link": "https://stackoverflow.com/users/2366842/user2366842"}, "edited": false, "score": 0, "creation_date": 1524084232, "post_id": 49906178, "comment_id": 86833348, "body": "Fair enough.  I&#39;m honestly a little rusty on my C#, as I spend the majority of my time in VB these days."}], "tags": [], "owner": {"reputation": 4172, "user_id": 3508956, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/umLTo.jpg?s=128&g=1", "display_name": "laptou", "link": "https://stackoverflow.com/users/3508956/laptou"}, "is_accepted": true, "score": 6, "last_activity_date": 1524074720, "last_edit_date": 1524074720, "creation_date": 1524074423, "answer_id": 49906178, "question_id": 49906116, "link": "https://stackoverflow.com/questions/49906116/c-double-values-not-printing/49906178#49906178", "title": "C# Double values not printing", "body": "<p>If you call <code>Console.WriteLine()</code> with multiple arguments, the first argument must be a <em>format string</em>. This means that it has to contain something like <code>{0}</code>, which is a placeholder that will be replaced by the additional arguments to <code>Console.WriteLine()</code>. For example, change:</p>\n\n<blockquote>\n<pre><code>Console.WriteLine(\"test\", HumanStrideLength);\n</code></pre>\n</blockquote>\n\n<p>to</p>\n\n<pre><code>Console.WriteLine(\"test {0}\", HumanStrideLength);\n</code></pre>\n\n<p>And the output you should see if <code>HumanStrideLength</code> is <code>12.3</code>, for example, will be:</p>\n\n<pre><code>test 12.3\n</code></pre>\n\n<p>or </p>\n\n<pre><code>test 12.3000001\n</code></pre>\n\n<p>due to floating point inaccuracy.</p>\n\n<p>You can include multiple placeholders like this, with the number inside of each one corresponding to the zero-based index of the parameter that it will be replaced with:</p>\n\n<pre><code>Console.WriteLine(\"testing {0}, {1}\", 2.3, 4.5);\n</code></pre>\n\n<p>will write \"testing 2.3, 4.5\" to the console. See <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/base-types/standard-numeric-format-strings\" rel=\"nofollow noreferrer\">documentation on MSDN</a> for more information on this.</p>\n\n<p>If you want to be more concise, you can also just use <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/interpolated\" rel=\"nofollow noreferrer\">string interpolation</a> instead of a format string. This feature was introduced in C# 6:</p>\n\n<pre><code>Console.WriteLine($\"test {HumanStrideLength}\");\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9665761, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mike Hawk", "link": "https://stackoverflow.com/users/9665761/mike-hawk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 49906178, "answer_count": 1, "score": -1, "last_activity_date": 1524074720, "creation_date": 1524074200, "question_id": 49906116, "link": "https://stackoverflow.com/questions/49906116/c-double-values-not-printing", "title": "C# Double values not printing", "body": "<p>Okay so my program is supposed to take values that the user gives and then performs a calculation with them and then returns them, the problem is that when I try to write a Console.WriteLine to print the values, nothing appears where the variable should and I have no idea what I'm doing wrong</p>\n\n<pre><code>        double HumanStrideLength = 0;\n        double HumanHeight;\n        double HumanVelocity;\n        double HumanStrideFrequency = 0;\n        string Answer;\n        string AnimalName;\n        double AnimalLength;\n        double AnimalStrideLength;\n        Console.WriteLine(\"Hello and welcome to Animal Run\");\n        Console.WriteLine(\"Press ENTER to continue\");\n        Console.ReadLine();\n        Console.WriteLine(\"Do you know your stride length?\");\n        Answer = Console.ReadLine();\n        if ((Answer == \"Yes\") || (Answer == \"yes\") || (Answer == \"y\") || (Answer == \"Y\") || (Answer == \"Yeah\") || (Answer == \"yeah\"))\n        {\n            Console.WriteLine(\"Please input your stride length in CM\");\n            try\n            {\n                HumanStrideLength = double.Parse(Console.ReadLine());\n            }\n            catch(FormatException f)\n            {\n                Console.WriteLine(f.Message);\n            }\n        }\n        else\n        {\n            Console.WriteLine(\"What is your height in CM\");\n            HumanHeight = Double.Parse(Console.ReadLine());\n            HumanStrideLength = HumanHeight * 0.413;\n        }\n        Console.WriteLine(\"test\", HumanStrideLength);\n</code></pre>\n\n<p>So here where it is supposed to print the variable HumanStrideLength it instead prints just the word \"test\".</p>\n"}, {"tags": ["c#", "asp.net", "razor", "razor-pages"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1524074081, "post_id": 49906053, "comment_id": 86827978, "body": "Tip: Proper helper methods are extension methods with <code>(this HtmlHelper&lt;T&gt; html, ...</code> as the first parameter."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1524074204, "post_id": 49906053, "comment_id": 86828033, "body": "I can&#39;t reproduce your behavior locally. What version of ASP.NET are you using? And are you targeting the .NET Framework or .NET Core?"}, {"owner": {"reputation": 7735, "user_id": 1672994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56278338c1a328fee5a80471a18bfc82?s=128&d=identicon&r=PG", "display_name": "user1672994", "link": "https://stackoverflow.com/users/1672994/user1672994"}, "edited": false, "score": 0, "creation_date": 1524074227, "post_id": 49906053, "comment_id": 86828039, "body": "Is the method <code>TruthyValueSelector</code> being invoked? Put a debug point to validate if the method is called."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 1, "creation_date": 1524074335, "post_id": 49906053, "comment_id": 86828101, "body": "You don&#39;t need to use interpolated strings either - just put <code>return firstParameter;</code> or <code>return secondParameter;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": true, "score": 2, "last_activity_date": 1524074283, "creation_date": 1524074283, "answer_id": 49906139, "question_id": 49906053, "link": "https://stackoverflow.com/questions/49906053/generating-multi-css-class-names-with-razor-in-asp-net/49906139#49906139", "title": "Generating multi CSS class names with Razor in ASP.Net", "body": "<p>You could just use the ternary operator:</p>\n\n<pre><code>&lt;footer class=\"@( someBooleanValue ? \"footer\" : \"footer footer--no--border\" )\"&gt;\n\n&lt;/footer&gt;\n</code></pre>\n\n<p>This renders like this on my machine (when <code>someBooleanValue</code> is false):</p>\n\n<pre><code>&lt;footer class=\"footer footer--no--border\"&gt;\n\n&lt;/footer&gt;\n</code></pre>\n"}], "owner": {"reputation": 631, "user_id": 843681, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/22a130815aa2293750190ade94573182?s=128&d=identicon&r=PG", "display_name": "Payam", "link": "https://stackoverflow.com/users/843681/payam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 49906139, "answer_count": 1, "score": 0, "last_activity_date": 1524074283, "creation_date": 1524073973, "last_edit_date": 1524074128, "question_id": 49906053, "link": "https://stackoverflow.com/questions/49906053/generating-multi-css-class-names-with-razor-in-asp-net", "title": "Generating multi CSS class names with Razor in ASP.Net", "body": "<p>I need to generate multi CSS class names in a view using Razor, however Razor treats white space a bit tricky</p>\n\n<pre><code>&lt;footer class=@HtmlHelpers.TruthyValueSelector(false,\"footer\",\"footer footer--no--border\"&gt;\n\n&lt;/footer&gt;\n</code></pre>\n\n<p>My helper method:</p>\n\n<pre><code>public static string TruthyValueSelector(bool condition, string firstParameter, string secondParameter)\n        {\n            if (condition)\n                return $\"{firstParameter}\";\n            return $\"{secondParameter}\";\n        }\n</code></pre>\n\n<p>when I inspect the element, the footer css class is: <code>class=\"footer\" footer--no--border=\"\"</code></p>\n\n<p>Of course, this is not going to work. My attempts in handling this situation cleanly with C# and Razor has not been successful. How can I take care of this in Razor?</p>\n"}, {"tags": ["c#", "android", "xamarin", "timer", "xamarin.android"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 9582336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e4ab962898d63096edf523b9e7c5c3f?s=128&d=identicon&r=PG&f=1", "display_name": "Code Bank", "link": "https://stackoverflow.com/users/9582336/code-bank"}, "edited": false, "score": 0, "creation_date": 1524074724, "post_id": 49906150, "comment_id": 86828314, "body": "thanks alot @iamlcarus, one more question, if i want to put any logic i-e want to insert record in db after five seconds, do i still have to use RunOnUiThread??"}, {"owner": {"reputation": 1394, "user_id": 3216608, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2TxF2.jpg?s=128&g=1", "display_name": "iamIcarus", "link": "https://stackoverflow.com/users/3216608/iamicarus"}, "reply_to_user": {"reputation": 5, "user_id": 9582336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e4ab962898d63096edf523b9e7c5c3f?s=128&d=identicon&r=PG&f=1", "display_name": "Code Bank", "link": "https://stackoverflow.com/users/9582336/code-bank"}, "edited": false, "score": 0, "creation_date": 1524074953, "post_id": 49906150, "comment_id": 86828437, "body": "@CodeBank just the UI invocations need to be executed withing RunOnUiThread. All other code can be freely placed outside (or inside) the RunOnUiThread block"}], "tags": [], "owner": {"reputation": 1394, "user_id": 3216608, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/2TxF2.jpg?s=128&g=1", "display_name": "iamIcarus", "link": "https://stackoverflow.com/users/3216608/iamicarus"}, "is_accepted": true, "score": 0, "last_activity_date": 1524074322, "creation_date": 1524074322, "answer_id": 49906150, "question_id": 49905946, "link": "https://stackoverflow.com/questions/49905946/android-xamarin-timer-not-working/49906150#49906150", "title": "android xamarin timer not working", "body": "<p>You have UI invocation in your <code>async</code> timer callback method <code>Timer_Elapsed</code>\nAll UI invocation need to pass through the MainThread, or it will result to thread exception </p>\n\n<p>Wrap Toast with RunOnUiThread like the example below</p>\n\n<pre><code>private void Timer_Elapsed(object sender, ElapsedEventArgs e)\n{\n   RunOnUiThread(()=&gt;Toast.MakeText(this, \"asasasas\", ToastLength.Long).Show();)\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 9582336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e4ab962898d63096edf523b9e7c5c3f?s=128&d=identicon&r=PG&f=1", "display_name": "Code Bank", "link": "https://stackoverflow.com/users/9582336/code-bank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "accepted_answer_id": 49906150, "answer_count": 1, "score": 0, "last_activity_date": 1524074322, "creation_date": 1524073544, "last_edit_date": 1524074073, "question_id": 49905946, "link": "https://stackoverflow.com/questions/49905946/android-xamarin-timer-not-working", "title": "android xamarin timer not working", "body": "<p>i am making an android app in xamarin using c#, and using the following code to repeat task, but unfortunately the code is not working properly,</p>\n\n<pre><code>protected override void OnCreate(Bundle savedInstanceState)\n    {\n         base.OnCreate(savedInstanceState);\n                Timer timer= new Timer();\n                SetContentView(Resource.Layout.Home);\n                timer.Enabled = true;\n                timer.Interval = 2000;\n                timer.Elapsed += Timer_Elapsed;\n                timer.Start();\n                }\n\n            private void Timer_Elapsed(object sender, ElapsedEventArgs e)\n            {\n                Toast.MakeText(this, \"asasasas\", ToastLength.Long).Show();\n            }\n</code></pre>\n"}, {"tags": ["c#", "entity-framework-core", "asp.net-core-2.0", "ef-database-first"], "comments": [{"owner": {"reputation": 1919, "user_id": 4484219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402d5979683f34e3e342a34ac2a0324b?s=128&d=identicon&r=PG&f=1", "display_name": "Smit", "link": "https://stackoverflow.com/users/4484219/smit"}, "edited": false, "score": 0, "creation_date": 1524159315, "post_id": 49905942, "comment_id": 86869987, "body": "Scaffolding does not cause the error. It would generate code in OnModelCreating to configure the relationship correctly. You are deleting some of the generated code hence the error."}, {"owner": {"reputation": 41, "user_id": 9398637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4f541f9af08ce5aba2ad1c9b7bfbf5?s=128&d=identicon&r=PG&f=1", "display_name": "Leustherin", "link": "https://stackoverflow.com/users/9398637/leustherin"}, "reply_to_user": {"reputation": 1919, "user_id": 4484219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402d5979683f34e3e342a34ac2a0324b?s=128&d=identicon&r=PG&f=1", "display_name": "Smit", "link": "https://stackoverflow.com/users/4484219/smit"}, "edited": false, "score": 0, "creation_date": 1524229527, "post_id": 49905942, "comment_id": 86900646, "body": "@Smit Right which is what the error message tells me. I want to avoid modifying the OnModelCreating as this is generated code as well.  &quot; You are deleting some of the generated code hence the error.&quot;  How so?"}, {"owner": {"reputation": 1919, "user_id": 4484219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402d5979683f34e3e342a34ac2a0324b?s=128&d=identicon&r=PG&f=1", "display_name": "Smit", "link": "https://stackoverflow.com/users/4484219/smit"}, "edited": false, "score": 0, "creation_date": 1524252292, "post_id": 49905942, "comment_id": 86913406, "body": "I tried scaffolding code from your model. Since there are multiple navigations on both side EF cannot determine based on convention what should be the relationships. (as the error says). Therefore, scaffolding would spit out code in OnModelCreating to resolve the ambiguity. You wouldn&#39;t get error with the code in OnModelCreating."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 9398637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4f541f9af08ce5aba2ad1c9b7bfbf5?s=128&d=identicon&r=PG&f=1", "display_name": "Leustherin", "link": "https://stackoverflow.com/users/9398637/leustherin"}, "is_accepted": true, "score": 2, "last_activity_date": 1524086207, "creation_date": 1524086207, "answer_id": 49909140, "question_id": 49905942, "link": "https://stackoverflow.com/questions/49905942/entity-framework-core-database-first-multiple-foreign-keys-to-one-table/49909140#49909140", "title": "Entity Framework Core Database First - Multiple Foreign keys to one table", "body": "<p><strong>For posterity:</strong></p>\n\n<p>With the database approach a scaffold of the db is done to create the context and data models. </p>\n\n<p>The data models generated (using the example tables above) look something like this -</p>\n\n<pre><code>public partial class Buzz\n{\n    public Buzz()\n    { }\n\n    public Guid Id { get; set; }\n    public int TypeId1 { get; set; }\n    public int TypeId2 { get; set; }\n\n    public Fizz TypeId1Fizz { get; set; }\n    public Fizz TypeId2Fizz { get; set; }\n}\n\n\npublic partial class Fizz\n{\n    public Fizz()\n    { }\n\n    public int Id { get; set; }\n    public string Category { get; set; }\n    public string Value { get; set; }\n\n    public ICollection&lt;Buzz&gt; TypeId1Fizz { get; set; }\n    public ICollection&lt;Buzz&gt; TypeId2Fizz { get; set; }\n}\n</code></pre>\n\n<p>The issue is that the relationship in Buzz could not be resolved. </p>\n\n<h2>The solution</h2>\n\n<p>When using scaffold on the database all models are generated as partials to a specified folder. I created a partial for the Buzz class in another directory that lives inside of the directory created by the scaffold (be sure that the namespaces match VS likes to add the directory name to the namespace and the partials won't be matched). </p>\n\n<pre><code>public partial class Buzz\n{\n    [NotMapped]\n    public Fizz TypeId1Fizz { get; set; }\n    [NotMapped]\n    public Fizz TypeId2Fizz { get; set; }\n}\n</code></pre>\n\n<p>but Leustherin then you lose the ability to utilize .Include for Fizz! EntityFramework won't create an SQL join statement for you so you will have to make an extra trip to the DB to obtain your look up value!</p>\n\n<p>To get around this, override the Get or GetAll function of your data repository and create your own join statement. </p>\n\n<h2>Why I chose this solution</h2>\n\n<p><strong>Maintainability.</strong> </p>\n\n<p>Anytime the DataModels are regenerated instead of getting a runtime error there is now a compile error reminding the dev to delete the extra properties from the generated data model. </p>\n\n<p>There is no other modification of automatically generated files. </p>\n\n<p>There are no major schema changes done to accommodate the change.</p>\n\n<p>I will do my best to keep this updated.</p>\n"}], "owner": {"reputation": 41, "user_id": 9398637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4f541f9af08ce5aba2ad1c9b7bfbf5?s=128&d=identicon&r=PG&f=1", "display_name": "Leustherin", "link": "https://stackoverflow.com/users/9398637/leustherin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1914, "favorite_count": 1, "accepted_answer_id": 49909140, "answer_count": 1, "score": 1, "last_activity_date": 1547431351, "creation_date": 1524073519, "last_edit_date": 1547431351, "question_id": 49905942, "link": "https://stackoverflow.com/questions/49905942/entity-framework-core-database-first-multiple-foreign-keys-to-one-table", "title": "Entity Framework Core Database First - Multiple Foreign keys to one table", "body": "<h2>Background Information</h2>\n\n<p>I am currently working with EF Core using a database first implementation.</p>\n\n<p>Current tables</p>\n\n<pre><code>Fizz\n{\n    [Id] INT\n    [Category] varchar\n    [Value] varchar\n}\n\nBuzz\n{\n    [Id] UniqueIdentifier\n    [TypeId1] INT\n    [TypeId2] INT\n    CONSTRAINT [FK_Buzz_Fizz_1] FOREIGN KEY ([TypeId1] REFERENCES [Fizz][Id]) \n    CONSTRAINT [FK_Buzz_Fizz_2] FOREIGN KEY ([TypeId2] REFERENCES [Fizz][Id])\n}\n</code></pre>\n\n<p>Fizz currently acts a lookup table. Doing this allows for a single data repository to be used to find different values by category. </p>\n\n<p>Buzz is a table that has two different type values to be stored e.g. TypeId1 could be brand which would exist in Fizz as (id, Brands, Nestle) and TypeId2 could be a flavor which would exist in Fizz as (id, Flavors, Grape).</p>\n\n<h2>The Issue</h2>\n\n<p>I scaffold the db to create the Data Models. \nWhen running the application the following occurrs:</p>\n\n<blockquote>\n  <p>InvalidOperationException: Unable to determine the relationship represented by navigation property 'Buzz.TypeId1' of type 'Fizz'. Either manually configure the relationship, or ignore this property using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.</p>\n</blockquote>\n\n<p>One solution that has occurred to me is to break this lookup table (Fizz) into multiple tables that way the references could be resolved by not having duplicate types used for Foreign Keys. </p>\n\n<p>This would require re-work of the logic for the current data repository to either access multiple tables or be split into multiple data repos.</p>\n\n<p>Another solution would be to modify the DBContext that is generated and use DataAnnotations on the DataModel. I would like to avoid doing this as the Context and Models will be regenerated in the future and these changes will be overwritten. </p>\n\n<p>Is there a way to have a datamodel generated from a table that has multiple Foreign Keys to a single table without having to modify the generated code?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 1074, "user_id": 9258246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EaISP.png?s=128&g=1", "display_name": "TJ Wolschon", "link": "https://stackoverflow.com/users/9258246/tj-wolschon"}, "edited": false, "score": 1, "creation_date": 1524079713, "post_id": 49905933, "comment_id": 86831012, "body": "Please stop reposting this, you only need to post it once."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 9649997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff11fc8932c943724f478508f96c2d60?s=128&d=identicon&r=PG&f=1", "display_name": "jonesmax", "link": "https://stackoverflow.com/users/9649997/jonesmax"}, "edited": false, "score": 0, "creation_date": 1524098091, "post_id": 49909729, "comment_id": 86837757, "body": "im so puzzled, piror to running the program, the cube is at 0,0,0 once i start it, it literally doesnt show movement but it says its moving all over, coordinates constally moving but the cube actually isnt moving...?"}, {"owner": {"reputation": 85, "user_id": 9649997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff11fc8932c943724f478508f96c2d60?s=128&d=identicon&r=PG&f=1", "display_name": "jonesmax", "link": "https://stackoverflow.com/users/9649997/jonesmax"}, "edited": false, "score": 0, "creation_date": 1524098119, "post_id": 49909729, "comment_id": 86837762, "body": "and should I put your codde here? :          while (t &lt; tumblingDuration)         {             t += Time.deltaTime;             transform.RotateAround(pivot, rotAxis, rotSpeed * Time.deltaTime);             yield return null;         }          transform.rotation = endRotation;         transform.position = endPosition;                    isTumbling = false;           vec.x = Mathf.RoundToInt(vec.x / 90 * 90);         vec.y = Mathf.RoundToInt(vec.y / 90 * 90);         vec.z = Mathf.RoundToInt(vec.z / 90 * 90);     }       }"}, {"owner": {"reputation": 161, "user_id": 6355583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6cae95e2d848a120cc2add698c78baa?s=128&d=identicon&r=PG", "display_name": "Argus Kos", "link": "https://stackoverflow.com/users/6355583/argus-kos"}, "reply_to_user": {"reputation": 85, "user_id": 9649997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff11fc8932c943724f478508f96c2d60?s=128&d=identicon&r=PG&f=1", "display_name": "jonesmax", "link": "https://stackoverflow.com/users/9649997/jonesmax"}, "edited": false, "score": 0, "creation_date": 1524102274, "post_id": 49909729, "comment_id": 86838771, "body": "Are you sure you don&#39;t have rigidbody attached to the cube?"}], "tags": [], "owner": {"reputation": 161, "user_id": 6355583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6cae95e2d848a120cc2add698c78baa?s=128&d=identicon&r=PG", "display_name": "Argus Kos", "link": "https://stackoverflow.com/users/6355583/argus-kos"}, "is_accepted": false, "score": 1, "last_activity_date": 1524089281, "creation_date": 1524089281, "answer_id": 49909729, "question_id": 49905933, "link": "https://stackoverflow.com/questions/49905933/perfect-rotation-of-a-cube/49909729#49909729", "title": "Perfect rotation of a cube", "body": "<p>Your script should work just fine, you will always have small errors because of how float numbers are stored. But you shouldn't have errors as big as yours.</p>\n\n<p>Are sure your cube is starting from (0,0,0)?\nAnyway you can be sure if you put this in the end of the Tumble</p>\n\n<pre><code>    var vec = transform.eulerAngles;\n    vec.x = Mathf.RoundToInt(vec.x / 90 * 90);\n    vec.y = Mathf.RoundToInt(vec.y / 90 * 90);\n    vec.z = Mathf.RoundToInt(vec.z / 90 * 90);\n    transform.eulerAngles = vec;\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 9649997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff11fc8932c943724f478508f96c2d60?s=128&d=identicon&r=PG&f=1", "display_name": "jonesmax", "link": "https://stackoverflow.com/users/9649997/jonesmax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1526344809, "creation_date": 1524073476, "last_edit_date": 1526344809, "question_id": 49905933, "link": "https://stackoverflow.com/questions/49905933/perfect-rotation-of-a-cube", "title": "Perfect rotation of a cube", "body": "<p>I currently have a script to move my \"Player\" around a surface but I find it very uneffective, the cube wiggles left to right and up and down. Does anyone have any good scrips on how to move a cube, flipping side to side, without wiggling or whatever. that also moves perfectly each time? my last one would move to a point like 2.000231 or something like that. it was really fusterating because I'm trying to have it perfect so it would fit in an hole. He's the script I am using. If you have a better one pls include ty\nusing System.Collections;\nusing UnityEngine;</p>\n\n<pre><code>public class TumblingCubes : MonoBehaviour\n{\n\n    public float tumblingDuration = 0.2f;\n\n    void Update()\n    {\n        var dir = Vector3.zero;\n\n        if (Input.GetKey(KeyCode.UpArrow))\n            dir = Vector3.forward;\n\n        if (Input.GetKey(KeyCode.DownArrow))\n            dir = Vector3.back;\n\n        if (Input.GetKey(KeyCode.LeftArrow))\n            dir = Vector3.left;\n\n        if (Input.GetKey(KeyCode.RightArrow))\n            dir = Vector3.right;\n\n        if (dir != Vector3.zero &amp;&amp; !isTumbling)\n        {\n            StartCoroutine(Tumble(dir));\n        }\n\n    }\n\n    bool isTumbling = false;\n    IEnumerator Tumble(Vector3 direction)\n    {\n        isTumbling = true;\n\n        var rotAxis = Vector3.Cross(Vector3.up, direction);\n        var pivot = (transform.position + Vector3.down * 0.5f) + direction * 0.5f;\n\n        var startRotation = transform.rotation;\n        var endRotation = Quaternion.AngleAxis(90.0f, rotAxis) * startRotation;\n\n        var startPosition = transform.position;\n        var endPosition = transform.position + direction;\n\n        var rotSpeed = 90.0f / tumblingDuration;\n        var t = 0.0f;\n\n        while (t &lt; tumblingDuration)\n        {\n            t += Time.deltaTime;\n            transform.RotateAround(pivot, rotAxis, rotSpeed * Time.deltaTime);\n            yield return null;\n        }\n\n        transform.rotation = endRotation;\n        transform.position = endPosition;\n\n        isTumbling = false;\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "prism", "prism-6"], "comments": [{"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1524076533, "post_id": 49905923, "comment_id": 86829310, "body": "As a note, RegionManager is an <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wpf/advanced/attached-properties-overview\" rel=\"nofollow noreferrer\">attached property</a>. The static GetRegionManager method is the corresponding property get accessor."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1524076606, "post_id": 49905923, "comment_id": 86829344, "body": "Yes, but I don&#39;t know what the DependencyProperty parameter it accepts is.  Do I just pass it <code>this</code>?"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1524076689, "post_id": 49905923, "comment_id": 86829389, "body": "I don&#39;t know what <code>this</code> is in your case. However, that doesn&#39;t matter, because you will only ever get a non-null value if it has been set before on the target element (by SetRegionManager or in XAML). I have no experience with Prism, but I&#39;m pretty sure that this method is not what you are looking for."}], "answers": [{"comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1524076529, "post_id": 49906624, "comment_id": 86829306, "body": "So if I hear you right, since you have to expose bindable properties on the ViewModel anyway, you might as well wire up the constructor in the ViewModel that gets the Region Manager from Prism?"}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1524077295, "post_id": 49906624, "comment_id": 86829751, "body": "See my question update. Styling is not the issue; a normal hyperlink control should work just fine."}, {"owner": {"reputation": 41, "user_id": 633108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35680153ef9307075540bdf55216601?s=128&d=identicon&r=PG", "display_name": "syutzy", "link": "https://stackoverflow.com/users/633108/syutzy"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1524166565, "post_id": 49906624, "comment_id": 86873800, "body": "Can you clarify a bit why performing the navigation from the control itself rather than the viewmodel behind the code is desirable?  I&#39;m making an assumption here that you&#39;re using MVVM, and if so then navigation is typically a concern of the viewmodel.  For implementation, you could implement ICommandSource in your Hyperlink control to allow binding to arbitrary commands in the viewmodel, then wherever you use the control you&#39;d bind to whatever Command/CommandParameter is appropriate."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1524166684, "post_id": 49906624, "comment_id": 86873857, "body": "It&#39;s desirable because it makes the control <i>self-contained.</i>  See the last paragraph in my OP."}], "tags": [], "owner": {"reputation": 41, "user_id": 633108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35680153ef9307075540bdf55216601?s=128&d=identicon&r=PG", "display_name": "syutzy", "link": "https://stackoverflow.com/users/633108/syutzy"}, "is_accepted": false, "score": 0, "last_activity_date": 1524076039, "creation_date": 1524076039, "answer_id": 49906624, "question_id": 49905923, "link": "https://stackoverflow.com/questions/49905923/how-do-i-obtain-a-regionmanager-object-in-code-behind-for-navigation-purposes-in/49906624#49906624", "title": "How do I obtain a RegionManager object in code-behind for navigation purposes in Prism?", "body": "<p>It sounds like you want something with the behavior of a button, but with the appearance of a hyperlink.  If so, I'd suggest using the existing WPF Button control and styling it appropriately to appear like a hyperlink.</p>\n\n<p>If that fits your purposes, then wherever you use the control you can bind it to a command in whatever viewmodel is used there.  Each viewmodel can have an IRegionManager (via constructor injection, for example) and you can use IRegionManager.RequestNavigate to perform whatever navigation is appropriate.</p>\n\n<p>As a side benefit, keeping the logic in the viewmodel allows it to be more easily tested.  For example, a unit test could invoke the command on the viewmodel and verify that IRegionManager.RequestNavigate was called with the appropriate parameters.</p>\n"}, {"tags": [], "owner": {"reputation": 8866, "user_id": 5758420, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a47e2744f0e5b6f84407efd06dbee96f?s=128&d=identicon&r=PG&f=1", "display_name": "Haukinger", "link": "https://stackoverflow.com/users/5758420/haukinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1524082442, "creation_date": 1524082442, "answer_id": 49908293, "question_id": 49905923, "link": "https://stackoverflow.com/questions/49905923/how-do-i-obtain-a-regionmanager-object-in-code-behind-for-navigation-purposes-in/49908293#49908293", "title": "How do I obtain a RegionManager object in code-behind for navigation purposes in Prism?", "body": "<p>You can always use the <code>CommonServiceLocator</code>, but that's just evil. Also, you <em>want</em> navigation to happen in a view model (rather than in a view) just to make it testable. If not for that, you could drop mvvm altogether.</p>\n\n<p>Having a <code>HyperLinkViewModel</code> (that receives an <code>IRegionManager</code> and has an associated <code>DataTemplate</code> and/or <code>ControlTemplate</code>) looks very self-contained to me, btw. Just expose it as a property from another view model, and you have a working hyperlink.</p>\n\n<p>The view model <em>is</em> the code-behind of the <code>DataTemplate</code>, in a way.</p>\n"}], "owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 385, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1524166766, "creation_date": 1524073457, "last_edit_date": 1592644375, "question_id": 49905923, "link": "https://stackoverflow.com/questions/49905923/how-do-i-obtain-a-regionmanager-object-in-code-behind-for-navigation-purposes-in", "title": "How do I obtain a RegionManager object in code-behind for navigation purposes in Prism?", "body": "<p>I'd like to create a custom hyperlink control that, when clicked, navigates to a region and parameters specified by bindings to properties in a parent ViewModel.  Since I'd like to be able to drop this control into any arbitrary xaml, it cannot have its own ViewModel or Module Manager, which is usually how a Region Manager is obtained.</p>\n<p>Is there a way to get a <code>RegionManager</code> object in code-behind, without having to inject it into a ViewModel?  I see that there's a static <code>GetRegionManager()</code> method on the <code>RegionManager</code> class, but it takes a dependency property parameter that I don't understand how to use.</p>\n<h3>Why I'd like to do this in code-behind:</h3>\n<p>While I could certainly supply the constructor that allows injection of the <code>RegionManager</code> object into the ViewModel, I would like my new Hyperlink control to be more self-contained and independent than that.  Involving the ViewModel in this manner means that the navigation is going to take place in the ViewModel, not the new Hyperlink control, which sort of defeats the purpose of having a self-contained Hyperlink control.</p>\n"}, {"tags": ["c#", "service", "repository", "domain-driven-design", "paas"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7511483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eabcb6e5e68ca993bb2d4fe4eb63833?s=128&d=identicon&r=PG&f=1", "display_name": "Bassem Cherif", "link": "https://stackoverflow.com/users/7511483/bassem-cherif"}, "is_accepted": false, "score": 0, "last_activity_date": 1524136673, "creation_date": 1524136673, "answer_id": 49919762, "question_id": 49905804, "link": "https://stackoverflow.com/questions/49905804/ddd-service-specialization/49919762#49919762", "title": "DDD - service specialization", "body": "<p>first do not use userRepository at the ClientA service to separate the business from the infrastructure layer.</p>\n\n<p>the implementation in the clientA can only be a simple call to the service : Core.userService and at that level you make the call to the repository.</p>\n"}], "owner": {"reputation": 1, "user_id": 9665549, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Alexandre Parshin", "link": "https://stackoverflow.com/users/9665549/alexandre-parshin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1524145975, "creation_date": 1524072980, "last_edit_date": 1524145975, "question_id": 49905804, "link": "https://stackoverflow.com/questions/49905804/ddd-service-specialization", "title": "DDD - service specialization", "body": "<p>I am writing a multi-tenancy Platform As A Service solution, and trying to employ DDD approach. I have some basic, Core functionality which is default behaviour and has its services exosed to an API (application) layer.\nSo far it all was straightforward, until I've started to write per-tenant, custom functionality (separated projects on top of Core). How do I extend base services to add custom behaviour?</p>\n\n<p>For example, <code>Core</code> service:</p>\n\n<pre><code>namespace Core.Services\n{\n    public class UserService\n    {\n        private readonly IUserRepository userRepository;\n\n        public User Get(Guid id)\n        {\n            userRepository.GetById(id);\n        }\n\n        public void Update(Guid id, UserStatus newUserStatus)\n        {\n            userRepository.UpdateStatus(Guid id, newUserStatus);\n        }\n    }\n}\n</code></pre>\n\n<p>Now, I have a <code>ClientA</code>, who wants to, say, periodically rename users based on their activity:</p>\n\n<pre><code>namespace ClientA.Services\n{\n    public class UserService // : Core.UserService ?\n    {\n        public void RenameInactiveUsers()\n        {\n            // something like\n            userRepository.UpdateAll(\n                condition: (user) =&gt; { user.NotActiveRecently() },\n                action: (user) =&gt; { user.Name = user.Name + \" (inactive)\" }\n            )\n        }\n\n        public void BanSuspiciousUsers()\n        {\n            userRepository.UpdateAll(\n                condition: (user) =&gt; { user.SomeSuspiciousFlag },\n                action: (user) =&gt; { user.Status = UserStatus::Banned }\n            );\n        }\n\n        // etc\n    }\n}\n</code></pre>\n\n<p>So, how do I extend base services while still expose <code>Get</code>, <code>Update</code> and other methods to reuse the code?</p>\n\n<p>Should it be inheritance? That way I will have to make private repositories, data and methods accessible in ancestors. Furthermore, inheritance in discourage in DDD as far as I know.</p>\n\n<p>Or should for each tenant I create new <code>UserService</code>, which takes <code>Core.UserService</code> and expose identical contract, which will lead to many code like</p>\n\n<p><code>ClientA.UserService.Get(id) { return udnerlyingUserService.Get(id); }</code> ?</p>\n\n<p>Maybe, some third option?</p>\n"}, {"tags": ["c#", "json", "sql-server"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1524072985, "post_id": 49905763, "comment_id": 86827388, "body": "When you run locally, are you using an IP address? What IP? Or are you using localhost?"}, {"owner": {"reputation": 53, "user_id": 9603455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab9462025f996d10b97e6cd1bab5a17d?s=128&d=identicon&r=PG&f=1", "display_name": "M. Douglas", "link": "https://stackoverflow.com/users/9603455/m-douglas"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1524073048, "post_id": 49905763, "comment_id": 86827430, "body": "I am using the IP-address of the server, not localhost."}], "answers": [{"tags": [], "owner": {"reputation": 549, "user_id": 9285072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a91754ec0d7abac7f446c52290a964b2?s=128&d=identicon&r=PG&f=1", "display_name": "Shloime Rosenblum", "link": "https://stackoverflow.com/users/9285072/shloime-rosenblum"}, "is_accepted": false, "score": 1, "last_activity_date": 1524087033, "last_edit_date": 1524087033, "creation_date": 1524076977, "answer_id": 49906864, "question_id": 49905763, "link": "https://stackoverflow.com/questions/49905763/unable-to-connect-locally-to-sql-server-on-ubuntu-16-04-server-using-net-core-2/49906864#49906864", "title": "Unable to connect locally to SQL Server on Ubuntu 16.04-server using .NET Core 2.0", "body": "<p>Check your firewall you must allow connecting to C:\\Program Files\\Microsoft SQL Server\\MSSQL12.SQLEXPRESS2014\\MSSQL\\Binn\\sqlservr.exe</p>\n\n<p>Make sure the connection string is the correct for your machine as it may be different from the database on your server</p>\n"}], "owner": {"reputation": 53, "user_id": 9603455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab9462025f996d10b97e6cd1bab5a17d?s=128&d=identicon&r=PG&f=1", "display_name": "M. Douglas", "link": "https://stackoverflow.com/users/9603455/m-douglas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 619, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524087033, "creation_date": 1524072836, "last_edit_date": 1524079246, "question_id": 49905763, "link": "https://stackoverflow.com/questions/49905763/unable-to-connect-locally-to-sql-server-on-ubuntu-16-04-server-using-net-core-2", "title": "Unable to connect locally to SQL Server on Ubuntu 16.04-server using .NET Core 2.0", "body": "<p>I have a clean .NET Core 2.0 webapp up and running on a Ubuntu 16.04 server using nginx.</p>\n\n<p>My <code>appsettings.json</code> contains:</p>\n\n<pre><code>\"ConnectionStrings\": {\n   \"Database\": \"Server=myip;Database=mydb;Uid=myuser;Pwd=mypassword\",\n   \"providerName\": \"Sql.Data.SqlClient\"\n},\n</code></pre>\n\n<p>I've installed SQL Server on a separated server, it's working properly:</p>\n\n<pre><code>user@server:~$ sudo systemctl status mssql-server.service\n\u25cf mssql-server.service - Microsoft SQL Server Database Engine\n   Loaded: loaded (/lib/systemd/system/mssql-server.service; enabled; vendor preset: enabled)\n   Active: active (running) since Wed 2018-04-18 19:05:37 CEST; 20min ago\n     Docs: https://docs.microsoft.com/en-us/sql/linux\n Main PID: 1016 (sqlservr)\n   CGroup: /system.slice/mssql-server.service\n           \u251c\u25001016 /opt/mssql/bin/sqlservr\n           \u2514\u25001197 /opt/mssql/bin/sqlservr\n</code></pre>\n\n<p>I've managed to deploy my application successfully, it's working because I have interaction with my models. However, when I try to run the same project (from the server) locally on my machine, it shows the following error in the console:</p>\n\n<pre><code>Executing handler method OnGetAsync with arguments ((null)) - ModelState is Valid\ninfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]\n      Entity Framework Core 2.0.2-rtm-10011 initialized 'WebappContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None\n</code></pre>\n\n<blockquote>\n  <p>fail: Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware[0]  </p>\n  \n  <p>An unhandled exception has occurred while executing the request</p>\n  \n  <p>System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server)</p>\n</blockquote>\n\n<p>So my main question is: Why can't I connect to the database when running the same (deployed) project when it's running locally on my machine? </p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1524073462, "post_id": 49905749, "comment_id": 86827656, "body": "We need more information, can you show delegate for <code>btnRegister_Click</code> and some additional information."}], "answers": [{"comments": [{"owner": {"reputation": 789, "user_id": 1592474, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Z8Kj5.jpg?s=128&g=1", "display_name": "Reza Paidar", "link": "https://stackoverflow.com/users/1592474/reza-paidar"}, "edited": false, "score": 0, "creation_date": 1529300570, "post_id": 49906036, "comment_id": 88806125, "body": "no there is no binding. I just want to send postback using asp:linkbutton"}], "tags": [], "owner": {"reputation": 1604, "user_id": 1732726, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fT4xK.jpg?s=128&g=1", "display_name": "Morteza Jangjoo", "link": "https://stackoverflow.com/users/1732726/morteza-jangjoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1524073894, "creation_date": 1524073894, "answer_id": 49906036, "question_id": 49905749, "link": "https://stackoverflow.com/questions/49905749/asplinkbutton-vs-aspbutton-invalid-postback-or-callback-argument/49906036#49906036", "title": "asp:LinkButton vs asp:Button. Invalid postback or callback argument", "body": "<p>if you bind gridview or datalist or repeater in page load, must do it:</p>\n\n<pre><code> protected void Page_Load(object sender, EventArgs e)\n    {\n        if (!IsPostBack)\n        {\n        //all code in page_load\n        }\n     }\n</code></pre>\n\n<p>already You could do as the error message suggests and use the ClientScriptManager.RegisterForEventValidation method in order to register the postback or callback data for validation.</p>\n\n<p>Or you could just set EnableEventValidation for the page to false.</p>\n"}, {"comments": [{"owner": {"reputation": 125670, "user_id": 6464308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/12PVX.jpg?s=128&g=1", "display_name": "Laurenz Albe", "link": "https://stackoverflow.com/users/6464308/laurenz-albe"}, "edited": false, "score": 0, "creation_date": 1529307875, "post_id": 50904464, "comment_id": 88809310, "body": "Please provide some explanation why this answers the question."}], "tags": [], "owner": {"reputation": 777, "user_id": 9042256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/842cbd80d238af6bf9464e6ee58d8360?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/9042256/ramesh"}, "is_accepted": false, "score": -1, "last_activity_date": 1529306627, "creation_date": 1529306627, "answer_id": 50904464, "question_id": 49905749, "link": "https://stackoverflow.com/questions/49905749/asplinkbutton-vs-aspbutton-invalid-postback-or-callback-argument/50904464#50904464", "title": "asp:LinkButton vs asp:Button. Invalid postback or callback argument", "body": "<p>Check with <code>AutoEventWireup=\"true\"</code></p>\n"}], "owner": {"reputation": 789, "user_id": 1592474, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Z8Kj5.jpg?s=128&g=1", "display_name": "Reza Paidar", "link": "https://stackoverflow.com/users/1592474/reza-paidar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 349, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1529306627, "creation_date": 1524072787, "last_edit_date": 1529300883, "question_id": 49905749, "link": "https://stackoverflow.com/questions/49905749/asplinkbutton-vs-aspbutton-invalid-postback-or-callback-argument", "title": "asp:LinkButton vs asp:Button. Invalid postback or callback argument", "body": "<p>I recently use asp:LinkButton instead of asp:Button for some CSS styles.<br/></p>\n\n<pre><code>&lt;asp:LinkButton ID=\"btnRegister\" CssClass=\"btn btn-primary btn-lg btnSend\" runat=\"server\" OnClick=\"btnRegister_Click\"&gt;Submit&lt;/asp:LinkButton&gt;\n&lt;asp:Button ID=\"Button1\" runat=\"server\" OnClick=\"Button1_Click\" Text=\"Button\" /&gt;\n</code></pre>\n\n<p>I wonder that when I click on <code>btnRegister_Click</code> I get error that <br></p>\n\n<pre><code>Invalid postback or callback argument.  Event validation is enabled using &lt;pages enableEventValidation=\"true\"/&gt; in configuration or &lt;%@ Page EnableEventValidation=\"true\" %&gt; in a page.  For security purposes, this feature verifies that arguments to postback or callback events originate from the server control that originally rendered them.  If the data is valid and expected, use the ClientScriptManager.RegisterForEventValidation method in order to register the postback or callback data for validation.\n</code></pre>\n\n<p>but there is no error on <code>Button1_Click</code>.</p>\n\n<p>I know that disabling <code>EnableEventValidation=\"false\"</code> has some security issues. </p>\n\n<ol>\n<li>What's different between asp:LinkButton and asp:Button on postback event?</li>\n<li>what is best and secure solution in this case?</li>\n</ol>\n\n<p><strong>Edit:</strong>\nThere is no code on load and click, I was confused with my designer coding :)).<br>\nI realize that there are multi forms without <code>runat=server</code> but with <code>method=postback</code> attributes. I clear that extra forms and problem resolved.<br></p>\n\n<p>any Idea of why <code>asp:linkbutton</code> behavior like this neither <code>asp:button</code>?</p>\n\n<p><strong>Edit 2:</strong> please don't tell me to change <code>EnableEventValidation</code> to false, I don't want the risk of page security. also, I add <br></p>\n\n<pre><code>&lt;appSettings&gt;\n   &lt;add key=\"ValidationSettings:UnobtrusiveValidationMode\" value=\"None\" /&gt;\n&lt;/appSettings&gt;\n</code></pre>\n\n<p>in web.config and didn't work.</p>\n"}, {"tags": ["c#", "model-view-controller", "dll", "json.net", "assembly-binding-redirect"], "comments": [{"owner": {"reputation": 980, "user_id": 3783353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7661c2a40c94a306cbbc4560d475ebd4?s=128&d=identicon&r=PG&f=1", "display_name": "Mikanikal", "link": "https://stackoverflow.com/users/3783353/mikanikal"}, "edited": false, "score": 0, "creation_date": 1524073157, "post_id": 49905735, "comment_id": 86827489, "body": "Was there a breaking change or functionality change that would not allow you to use 7.0 for all your needs?"}], "answers": [{"tags": [], "owner": {"reputation": 497, "user_id": 1338778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf537e16ed6734dab23e1fa10bf92488?s=128&d=identicon&r=PG", "display_name": "Shashwat Gupta", "link": "https://stackoverflow.com/users/1338778/shashwat-gupta"}, "is_accepted": true, "score": 2, "last_activity_date": 1524074173, "creation_date": 1524074173, "answer_id": 49906113, "question_id": 49905735, "link": "https://stackoverflow.com/questions/49905735/two-different-versions-of-newtonsoft-json-dll-needed-in-asp-net-mvc/49906113#49906113", "title": "Two different versions of Newtonsoft.Json.dll needed in ASP.NET MVC", "body": "<p>I had also hit the same issue. I solved using codebase methods mentioned in this link.  <a href=\"https://devnet.kentico.com/articles/referencing-multiple-versions-of-the-same-assembly-in-a-single-application\" rel=\"nofollow noreferrer\">https://devnet.kentico.com/articles/referencing-multiple-versions-of-the-same-assembly-in-a-single-application</a></p>\n"}, {"comments": [{"owner": {"reputation": 135, "user_id": 5500457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/971122912945563/picture?type=large", "display_name": "Omar Seleim", "link": "https://stackoverflow.com/users/5500457/omar-seleim"}, "edited": false, "score": 0, "creation_date": 1594221237, "post_id": 49906639, "comment_id": 111052166, "body": "I made that but still has error  Could not load file or assembly &#39;Newtonsoft.Json, Version=4.5.0.0, Culture=neutral, PublicKeyToken=30ad4fe6b2a6aeed&#39; or one of its dependencies. The located assembly&#39;s manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040)"}], "tags": [], "owner": {"reputation": 602, "user_id": 1147920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd56da60adb35d2635b36fa92378cf24?s=128&d=identicon&r=PG", "display_name": "Sawrub", "link": "https://stackoverflow.com/users/1147920/sawrub"}, "is_accepted": false, "score": 9, "last_activity_date": 1524076090, "creation_date": 1524076090, "answer_id": 49906639, "question_id": 49905735, "link": "https://stackoverflow.com/questions/49905735/two-different-versions-of-newtonsoft-json-dll-needed-in-asp-net-mvc/49906639#49906639", "title": "Two different versions of Newtonsoft.Json.dll needed in ASP.NET MVC", "body": "<p>Try this assemblyBinding block instead, note the subtle differences...</p>\n\n<p>I've removed the bindingredirect node because you don't need it!</p>\n\n<p>I've changed the slash to backslash in your href attrib</p>\n\n<p>And of course you're going to need 2 codeBase nodes</p>\n\n<pre><code>&lt;assemblyBinding xmlns=\"urn:schemas-microsoft-com:asm.v1\"&gt;\n   &lt;dependentAssembly&gt;\n      &lt;assemblyIdentity name=\"Newtonsoft.Json\" publicKeyToken=\"30ad4fe6b2a6aeed\"\n        culture=\"neutral\" /&gt;\n      &lt;!-- You don't need binding redirect, because you're not targeting old version to new,\n      ---- instead you're catering to 2 different versions.\n        &lt;bindingredirect oldVersion=\"7.0.0.0-7.1.0.0\" newVersion=\"7.0.0.0\"&gt;&lt;/bindingredirect&gt;\n      --&gt;\n      &lt;codeBase version=\"6.0.0.0\" href=\"bin\\json6\\Newtonsoft.Json.dll\" /&gt;\n      &lt;codeBase version=\"7.0.0.0\" href=\"dlls\\7.0.0.0\\Newtonsoft.Json.dll\" /&gt;\n    &lt;/dependentAssembly&gt;\n  &lt;/assemblyBinding&gt;\n</code></pre>\n"}], "owner": {"reputation": 627, "user_id": 1881458, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/898a6a07808e2a08fb5620e104984e26?s=128&d=identicon&r=PG", "display_name": "Gags", "link": "https://stackoverflow.com/users/1881458/gags"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4952, "favorite_count": 0, "accepted_answer_id": 49906113, "answer_count": 2, "score": 6, "last_activity_date": 1524076090, "creation_date": 1524072731, "question_id": 49905735, "link": "https://stackoverflow.com/questions/49905735/two-different-versions-of-newtonsoft-json-dll-needed-in-asp-net-mvc", "title": "Two different versions of Newtonsoft.Json.dll needed in ASP.NET MVC", "body": "<p>I have developed a MVC application that has dependency on Connectwise SDK that uses Newtonsoft.Json.dll v6.0.0.0 and Dropbox SDK that uses Newtonsoft.Json.dll v7.0.0.0.</p>\n\n<p>I need to ensure that my project uses the appropriate dll when needed.\nAfter researching, I tried the following:\n- Placed the 2 dlls under sub-folders /dlls/6.0.0.0/ and /dlls/7.0.0.0 resp.\n- Referenced version 6.0.0.0 dll in project References\n- Added to web.config</p>\n\n<pre><code>&lt;assemblyBinding xmlns=\"urn:schemas-microsoft-com:asm.v1\"&gt;\n        &lt;dependentAssembly&gt;\n          &lt;assemblyIdentity name=\"Newtonsoft.Json\" publicKeyToken=\"30ad4fe6b2a6aeed\"\n            culture=\"neutral\" /&gt;\n          &lt;bindingredirect oldVersion=\"0.0.0.0-6.0.0.0\" newVersion=\"6.0.0.0\"&gt;&lt;/bindingredirect&gt;          \n        &lt;/dependentAssembly&gt;\n       &lt;dependentAssembly&gt;\n          &lt;assemblyIdentity name=\"Newtonsoft.Json\" publicKeyToken=\"30ad4fe6b2a6aeed\"\n            culture=\"neutral\" /&gt;\n          &lt;bindingredirect oldVersion=\"7.0.0.0-7.1.0.0\" newVersion=\"7.0.0.0\"&gt;&lt;/bindingredirect&gt;\n          &lt;codeBase version=\"7.0.0.0\" href=\"dlls/7.0.0.0/Newtonsoft.Json.dll\" /&gt;\n        &lt;/dependentAssembly&gt;\n      &lt;/assemblyBinding&gt;     \n</code></pre>\n\n<p>Could not load file or assembly 'Newtonsoft.Json, Version=7.0.0.0, Culture=neutral, PublicKeyToken=30ad4fe6b2a6aeed' or one of its dependencies. The located assembly's manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040)</p>\n\n<p>Is my href incorrect ?? dlls folder is in the same level as Content folder in MVC project</p>\n\n<p>Thanks,\nGagan</p>\n"}, {"tags": ["c#", ".net", "dataset"], "answers": [{"tags": [], "owner": {"reputation": 3868, "user_id": 1928266, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/459c81e52f517a0328b9286f18115619?s=128&d=identicon&r=PG", "display_name": "szpic", "link": "https://stackoverflow.com/users/1928266/szpic"}, "is_accepted": true, "score": 0, "last_activity_date": 1524311168, "creation_date": 1524311168, "answer_id": 49955425, "question_id": 49905727, "link": "https://stackoverflow.com/questions/49905727/get-changes-after-merging-datasets/49955425#49955425", "title": "Get changes after merging datasets", "body": "<p>I needed to change one line:</p>\n\n<pre><code>foreach(var row in added)\n{\n     changes2.Tables[\"Footer\"].Rows.Add(row.ItemArray);\n}\n</code></pre>\n\n<p>now its ok. Adding lines creates changes</p>\n"}], "owner": {"reputation": 3868, "user_id": 1928266, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/459c81e52f517a0328b9286f18115619?s=128&d=identicon&r=PG", "display_name": "szpic", "link": "https://stackoverflow.com/users/1928266/szpic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 49955425, "answer_count": 1, "score": 0, "last_activity_date": 1524311168, "creation_date": 1524072717, "question_id": 49905727, "link": "https://stackoverflow.com/questions/49905727/get-changes-after-merging-datasets", "title": "Get changes after merging datasets", "body": "<p>Hello I have two Datasets with the same schemas and i need to get changes between two of them.</p>\n\n<p>Datasets can be created using code below:</p>\n\n<pre><code>DataSet First = new DataSet(\"DSStore\");\nDataTable Footer = new DataTable(\"Footer\");\nDataColumn Column = new DataColumn(\"Value\", Type.GetType(\"System.Int32\"), \"\");\nDataColumn[] PK = new DataColumn[1];\nPK[0] = Column;\nDataSet changes;\nFirst.Tables.Add(Footer);\nFooter.Columns.Add(Column);\nFooter.PrimaryKey = PK;\n//Clone to create second one\nchanges = First.Clone();\n</code></pre>\n\n<p>now just fill both with data:</p>\n\n<pre><code>for (int i = 0; i &lt; 10; i++)\n{\n     var row2 = changes.Tables[\"Footer\"].NewRow();\n     row2[\"Value\"] = i;\n     changes.Tables[\"Footer\"].Rows.Add(row2);\n}\nvar firstRow = First.Tables[\"Footer\"].NewRow();\nfirstRow[\"Value\"] = 8;\nFirst.Tables[\"Footer\"].Rows.Add(firstRow);\nFirst.AcceptChanges();\nchanges.AcceptChanges();\n</code></pre>\n\n<p>Now when we have all data prepared we can get to what I tried:</p>\n\n<p>I tried merging both of them:</p>\n\n<pre><code>First.Merge(changes);\nif (First.HasChanges())\n    Console.WriteLine(\"has changes\");\nelse\n    Console.WriteLine(\"Doesnt\");\n</code></pre>\n\n<p>but unfortunately merge do not change row status so after rows being accepted hasChanges returns false and getchanges is null.</p>\n\n<p>I tried another way:</p>\n\n<pre><code>IEnumerable&lt;DataRow&gt; added = changes.Tables[\"Footer\"].AsEnumerable().Except(First.Tables[\"Footer\"].AsEnumerable(),DataRowComparer.Default);\nConsole.WriteLine(\"Added:\");\nforeach (var row in added)\n{\n    Console.WriteLine(row[\"Value\"]);\n}\n</code></pre>\n\n<p>Now i received some results but it is printing all 9 lines correct. So I tried to insert changes to the first dataset:</p>\n\n<pre><code>foreach(var row in added)\n{\n   changes2.Tables[\"Footer\"].Rows.Add(row);\n}\nif (changes2.HasChanges())\n   Console.WriteLine(\"has changes\");\nelse\n   Console.WriteLine(\"Doesnt\");\n</code></pre>\n\n<p>But after trying to add rows I am receving <code>ArgumentException</code></p>\n"}, {"tags": ["c#", "dictionary", "locking", "monitor", "contention"], "comments": [{"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1524072784, "post_id": 49905718, "comment_id": 86827291, "body": "Does <a href=\"https://msdn.microsoft.com/en-us/library/dd287191(v=vs.110).aspx\" rel=\"nofollow noreferrer\">ConcurrentDictionary</a> not work?"}, {"owner": {"reputation": 21, "user_id": 9393574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00cf07d5851b3c1e2f51edf1355cf169?s=128&d=identicon&r=PG&f=1", "display_name": "ArvN", "link": "https://stackoverflow.com/users/9393574/arvn"}, "reply_to_user": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1524073411, "post_id": 49905718, "comment_id": 86827635, "body": "It&#39;s a good point, but as I understand it concurrent dictionary could have the item when checking for existence, and then not have it when I access it if modified by a different thread (very possible in my case), so I will still need locking. Additionally I found ConcurrentDictionary to be around 3x slower than a dictionary locking approach in my tests, especially when the same keys are being asked for and modified 100s of times a second.  Every access to the dictionary results in either an add/update or remove from the dictionary, so the access pattern is 50-50 read/write."}, {"owner": {"reputation": 21, "user_id": 9393574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00cf07d5851b3c1e2f51edf1355cf169?s=128&d=identicon&r=PG&f=1", "display_name": "ArvN", "link": "https://stackoverflow.com/users/9393574/arvn"}, "reply_to_user": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1524075459, "post_id": 49905718, "comment_id": 86828699, "body": "Actually I think I&#39;m wrong on the lock with ConcurrentDictionary, the point of TryAdd and TryRemove is to avoid the lock. However it still performs much worse in Add/Remove scenarios, and around equivalent in read (although you&#39;d even expect it to be faster)."}, {"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1524076108, "post_id": 49905718, "comment_id": 86829067, "body": "I wouldn&#39;t expect it to be as fast as handling the locks for a specific situation; I would just expect it to be thread-safe and reliable. I wonder if it&#39;s possible to partition the keys between many concurrent dictionaries?"}, {"owner": {"reputation": 21, "user_id": 9393574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00cf07d5851b3c1e2f51edf1355cf169?s=128&d=identicon&r=PG&f=1", "display_name": "ArvN", "link": "https://stackoverflow.com/users/9393574/arvn"}, "reply_to_user": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1524162569, "post_id": 49905718, "comment_id": 86871697, "body": "That&#39;s something I did consider, sharding the keys between dictionaries might be a good option. The time to shard should be miniscule if anything. Thanks for that suggestion"}, {"owner": {"reputation": 21, "user_id": 9393574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00cf07d5851b3c1e2f51edf1355cf169?s=128&d=identicon&r=PG&f=1", "display_name": "ArvN", "link": "https://stackoverflow.com/users/9393574/arvn"}, "reply_to_user": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1524162688, "post_id": 49905718, "comment_id": 86871763, "body": "One other thing that I&#39;m doing that might help is instead of taking a lock on the dictionary for the entire processing of the item, I only need to take a lock when adding to the dictionary. Readers should not need to lock."}], "owner": {"reputation": 21, "user_id": 9393574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00cf07d5851b3c1e2f51edf1355cf169?s=128&d=identicon&r=PG&f=1", "display_name": "ArvN", "link": "https://stackoverflow.com/users/9393574/arvn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 326, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1524072690, "creation_date": 1524072690, "question_id": 49905718, "link": "https://stackoverflow.com/questions/49905718/suggestions-for-improving-lock-contention-when-accessing-dictionary", "title": "Suggestions for improving lock contention when accessing dictionary", "body": "<p>This is my first post so please bear with me if I've missed any guidelines. </p>\n\n<p>I'm implementing a solution for throttling keys on the fly, and it revolves around a dictionary that has to be locked before every request (as multiple threads can ask for and modify the same key at the same time). As expected the number of items in the dictionary does not matter but the number of threads being used increases lock contention.</p>\n\n<p>If I can't get a lock on the dictionary I just return OK, so as to not delay the caller. Each successfully taken lock takes around 5us, each unsuccessful about 600uS. So not only does lock contention cause a potentially throttled key to be allowed to proceed, it also takes a lot of time. Locking mechanism is using Monitor.TryEnter. </p>\n\n<p>Test parameters: 20k items in dictionary, equal weighted</p>\n\n<p>With 10 threads I get 140k tps, with 6% lock contention \nWith 20 threads I get 90k tps, with 10% lock contention\nWith 30 threads I get 80k tps, with 14% lock contention</p>\n\n<p>While these are ridiculously high TPS numbers that will likely never be hit on a  single box, the problem still stands when the number of accessing threads is high, even with low TPS.</p>\n\n<p>What would the best way to improve this situation be? Perhaps I can have a sharding mechanism with individual locks for multiple dictionaries, and do a separate lookup to find which dictionary to use? </p>\n\n<p>Thanks :)</p>\n"}, {"tags": ["c#", ".net", "winforms", "datagridview"], "comments": [{"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1524073370, "post_id": 49905668, "comment_id": 86827617, "body": "Why do it in the loop?? Add Kartons_DataGrid.CurrentCell = Kartons_DataGrid.Rows[0].Cells[0]; but not without testing for null! - Also: Did you check in the debugger what is null in the line??"}, {"owner": {"reputation": 116, "user_id": 7245101, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3344ea0ee35820487f2cca12ccef6bb1?s=128&d=identicon&r=PG&f=1", "display_name": "bigb055", "link": "https://stackoverflow.com/users/7245101/bigb055"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1524077046, "post_id": 49905668, "comment_id": 86829607, "body": "<code>Kartons_DataGrid.CurrentCell = Kartons_DataGrid.Rows[0].Cells[0]</code> not possible because CurrentCell is always null, and that&#39;s the problem"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 1, "creation_date": 1524077243, "post_id": 49905668, "comment_id": 86829721, "body": "Nonsense! this line <b>sets</b> it, provided there <b>is a row and a cell</b>."}, {"owner": {"reputation": 116, "user_id": 7245101, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3344ea0ee35820487f2cca12ccef6bb1?s=128&d=identicon&r=PG&f=1", "display_name": "bigb055", "link": "https://stackoverflow.com/users/7245101/bigb055"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1524077622, "post_id": 49905668, "comment_id": 86829912, "body": "Ok, I watch it tomorrow and write back. Thanks"}, {"owner": {"reputation": 116, "user_id": 7245101, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3344ea0ee35820487f2cca12ccef6bb1?s=128&d=identicon&r=PG&f=1", "display_name": "bigb055", "link": "https://stackoverflow.com/users/7245101/bigb055"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1524129213, "post_id": 49905668, "comment_id": 86849564, "body": "@TaW <code>Kartons_DataGrid.Rows[0].Cells[0];</code> This call causes the nullreference exception, but I checked cell at index 0 and it has value. Suggestions? Error is in German, but it should translate to &quot;Index -1 has no value&quot; or something similar."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1524129408, "post_id": 49905668, "comment_id": 86849695, "body": "So there is a row at 0 and a Cell at 0? Then it can&#39;t be null. Check again! (Do it right when the exception is on the screen!)"}, {"owner": {"reputation": 116, "user_id": 7245101, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3344ea0ee35820487f2cca12ccef6bb1?s=128&d=identicon&r=PG&f=1", "display_name": "bigb055", "link": "https://stackoverflow.com/users/7245101/bigb055"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1524129629, "post_id": 49905668, "comment_id": 86849856, "body": "@TaW Yes there is but error says &quot;Index -1 does not have a value&quot; Where does index -1 come from at all?"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1524130027, "post_id": 49905668, "comment_id": 86850158, "body": "Nor is any value accessed in the line you mention. So it really can&#39;t be that line. Hard to help from here on; maybe add a screenshot of the exception.."}], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 7245101, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3344ea0ee35820487f2cca12ccef6bb1?s=128&d=identicon&r=PG&f=1", "display_name": "bigb055", "link": "https://stackoverflow.com/users/7245101/bigb055"}, "is_accepted": true, "score": 0, "last_activity_date": 1524133926, "creation_date": 1524133926, "answer_id": 49918862, "question_id": 49905668, "link": "https://stackoverflow.com/questions/49905668/cant-set-currentrow-currentcell-for-datagridview/49918862#49918862", "title": "Can&#39;t set CurrentRow/CurrentCell for DataGridView", "body": "<p>I solved it with the help of following thread: <a href=\"https://stackoverflow.com/questions/28785307/datagridview-index-1-does-not-have-a-value\">DataGridView &quot;index -1 does not have a value&quot;</a></p>\n\n<p>In short, change List to BindingList as the datasource and that's it.</p>\n"}], "owner": {"reputation": 116, "user_id": 7245101, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3344ea0ee35820487f2cca12ccef6bb1?s=128&d=identicon&r=PG&f=1", "display_name": "bigb055", "link": "https://stackoverflow.com/users/7245101/bigb055"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 49918862, "answer_count": 1, "score": 0, "last_activity_date": 1524133926, "creation_date": 1524072517, "question_id": 49905668, "link": "https://stackoverflow.com/questions/49905668/cant-set-currentrow-currentcell-for-datagridview", "title": "Can&#39;t set CurrentRow/CurrentCell for DataGridView", "body": "<p>Can you tell me how to prevent <strong>CurrentRow</strong> from staying null after following code executes:</p>\n\n<pre><code>private void Kartons_DataGrid_DataBindingComplete(object sender, DataGridViewBindingCompleteEventArgs e)\n        {\n            foreach (DataGridViewRow row in Kartons_DataGrid.Rows)\n            {\n                Kartons_DataGrid.ClearSelection();\n                var line = (TransportUnitHeader)row.DataBoundItem;\n                if (line.NoTransportUnit == _selectTuNo)\n                {\n                    if (Kartons_DataGrid.CurrentRow != null) Kartons_DataGrid.CurrentRow.Selected = false;\n                    Kartons_DataGrid.Rows[row.Index].Selected = true;\n                    Kartons_DataGrid.CurrentCell = Kartons_DataGrid.Rows[row.Index].Cells[0];\n                    _selectTuNo = string.Empty;\n                    break;\n                }\n            }\n        }\n</code></pre>\n\n<p>At line</p>\n\n<pre><code>Kartons_DataGrid.CurrentCell = Kartons_DataGrid.Rows[row.Index].Cells[0];\n</code></pre>\n\n<p>it always throws NullReference for CurrentCell, thus it cannot be changed.</p>\n\n<p>I need first row of DataGridView to be selected by default after databinding is completed.</p>\n"}, {"tags": ["c#", "asp.net-web-api2", "owin", "delegatinghandler"], "answers": [{"tags": [], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "is_accepted": true, "score": 0, "last_activity_date": 1524078817, "creation_date": 1524078817, "answer_id": 49907384, "question_id": 49905584, "link": "https://stackoverflow.com/questions/49905584/per-request-error-handling-policy/49907384#49907384", "title": "Per Request Error Handling Policy", "body": "<p>I decided that the guide I was following was too old to be relevant anymore, and followed this approach instead.  It's simpler, and works.</p>\n\n<p>We replace the <code>ExceptionResult</code> with a new one, where we specify whether the detail should be included.  We copy the other dependencies from the existing result.</p>\n\n<pre><code>public class PerUserErrorDetailExceptionHandler : ExceptionHandler\n{\n    public override void Handle(ExceptionHandlerContext context)\n    {\n        var exResult = context.Result as ExceptionResult;\n        if (!context.CatchBlock.IsTopLevel || exResult == null)\n            return;\n\n        var identity = context.RequestContext.Principal as ClaimsPrincipal;\n        var showErrorDetail = identity != null\n                              &amp;&amp; identity.Identity.IsAuthenticated\n                              &amp;&amp; identity.IsInRole(\"IT\");\n\n        context.Result = new ExceptionResult(\n            exResult.Exception,\n            showErrorDetail,\n            exResult.ContentNegotiator,\n            exResult.Request,\n            exResult.Formatters);\n    }\n}\n</code></pre>\n\n<p>Elsewhere, in the Web Api configuration:</p>\n\n<pre><code>public static void Configure(HttpConfiguration http)\n{\n    http.Services.Replace(typeof(IExceptionHandler), new PerUserErrorDetailExceptionHandler());\n}\n</code></pre>\n"}], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 49907384, "answer_count": 1, "score": 1, "last_activity_date": 1524078817, "creation_date": 1524072176, "last_edit_date": 1524073156, "question_id": 49905584, "link": "https://stackoverflow.com/questions/49905584/per-request-error-handling-policy", "title": "Per Request Error Handling Policy", "body": "<p>I'm attempting to follow <a href=\"https://www.strathweb.com/2013/03/per-request-error-detail-policy-in-asp-net-web-api/\" rel=\"nofollow noreferrer\">this 2013 guide</a> on setting up per-request error handling policies.</p>\n\n<ul>\n<li>If the request is local, display the error information.</li>\n<li>If the current user is in the IT group, display the error information.</li>\n<li>For everyone else, don't show errors.</li>\n</ul>\n\n<p>My code:</p>\n\n<pre><code>public class PerRequestErrorPolicyDelegatingHandler : DelegatingHandler\n{\n    protected override Task&lt;HttpResponseMessage&gt; SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)\n    {\n        request.Properties[HttpPropertyKeys.IncludeErrorDetailKey] = new Lazy&lt;bool&gt;(() =&gt;\n        {\n            // CHECK USER\n            var identity = request.GetRequestContext().Principal as ClaimsPrincipal;\n            return identity != null &amp;&amp; identity.Identity.IsAuthenticated &amp;&amp; identity.IsInRole(\"IT\");\n        });\n\n        return base.SendAsync(request, cancellationToken);\n    }\n}\n</code></pre>\n\n<p>It's registered as the first handler:</p>\n\n<pre><code>public static void Configure(HttpConfiguration http)\n{\n    http.MessageHandlers.Add(new PerRequestErrorPolicyDelegatingHandler());\n    ...\n}\n</code></pre>\n\n<p>My Web Api is hosted on Owin, but I see no relevant Owin code, so I've omitted it.  To test, I'm using this controller:</p>\n\n<pre><code>[AllowAnonymous]\n[RoutePrefix(\"api/sandbox\")]\npublic class SandboxApiController : ApiController\n{\n    [HttpPost, Route(\"test\")]\n    public IHttpActionResult Test()\n    {\n        throw new InvalidOperationException($\"you screwed up. Local: {RequestContext.IsLocal}, IT: {User.IsInRole(\"IT\")}\");\n    }\n}\n</code></pre>\n\n<p>Locally, I always get error information, and the lazy-loading code (denoted by \"CHECK USER\") is never executed, so I can't figure out how to debug it.</p>\n\n<p>Deployed to a server, authenticated or not, I am never getting any error information.  </p>\n\n<p>I have no custom error configuration in my web.config.</p>\n\n<p>What am I doing incorrectly?</p>\n"}, {"tags": ["c#", "dll"], "comments": [{"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1524072402, "post_id": 49905578, "comment_id": 86827088, "body": "You could always try it and see what happens?"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1524072408, "post_id": 49905578, "comment_id": 86827089, "body": "There are ways it can break, but the only way to know for sure would be to try it."}, {"owner": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "edited": false, "score": 0, "creation_date": 1524072579, "post_id": 49905578, "comment_id": 86827191, "body": "I&#39;m pretty sure the answer here is no.  Adding the option to override a method has no impact on dependencies.  Of course, removing the option to override (delete virtual) is a breaking change. This is a change I make regularly for testability reasons.  I&#39;ve never had a break doing it.  I don&#39;t see this listed either way here: <a href=\"https://stackoverflow.com/questions/1456785/a-definitive-guide-to-api-breaking-changes-in-net\" title=\"a definitive guide to api breaking changes in net\">stackoverflow.com/questions/1456785/&hellip;</a>"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1524072673, "post_id": 49905578, "comment_id": 86827243, "body": "Are you looking for source compatibility, binary compatibility, or both? Do you mind if adding making the properties virtual introduces a warning at build time, but not an error? (Questions of compatibility are rarely very straightforward, I&#39;m afraid.) Admittedly I&#39;ll need to work to find examples of how it breaks things, but I strongly suspect there <i>are</i> such examples, if you want both source and binary compatibility for everything other than reflection."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1524072850, "post_id": 49905578, "comment_id": 86827322, "body": "You didn&#39;t declare the class <i>sealed</i>.  So yes, if the client code derived its own class from yours then it is borken."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1524072879, "post_id": 49905578, "comment_id": 86827337, "body": "@HansPassant: Can you give an example of how making the properties virtual breaks a derived class? That&#39;s what I&#39;m trying to come up with at the moment."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1524072923, "post_id": 49905578, "comment_id": 86827359, "body": "Also note that what you&#39;ve got here are <i>properties</i> - whereas your question asks about <i>methods</i>. The answers may just be different for subtle reasons. Do you care about just properties, or properties and methods?"}, {"owner": {"reputation": 39030, "user_id": 87796, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b2028885d939a335af8333da70d06310?s=128&d=identicon&r=PG", "display_name": "P.Brian.Mackey", "link": "https://stackoverflow.com/users/87796/p-brian-mackey"}, "edited": false, "score": 1, "creation_date": 1524073154, "post_id": 49905578, "comment_id": 86827486, "body": "You <i>can&#39;t</i> have virtual members in a sealed class.  <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/misc/cs0549\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/misc/cs0549</a>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1524078023, "post_id": 49905578, "comment_id": 86830120, "body": "@RonBeyer: What are the ways it can break? Don&#39;t be coy; enumerate them."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1524078101, "post_id": 49905578, "comment_id": 86830150, "body": "@RicardoAlves: Can you describe why you wish to make this change? Even if there is no immediate breaking change caused by moving from instance to virtual, there might be other issues or better techniques."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1524078513, "post_id": 49905578, "comment_id": 86830338, "body": "@EricLippert The &quot;way&quot; I was thinking was that the OP means to make them virtual to derive them in a sub-class and then pass that sub class back to the legacy code, I believe (you are the expert and I haven&#39;t tried this) that it would call the base class implementation and not the derived one, or am I off base on that?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1524082499, "post_id": 49905578, "comment_id": 86832482, "body": "@RonBeyer: Close. See my answer for the real story."}], "answers": [{"comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1524077879, "post_id": 49906616, "comment_id": 86830041, "body": "Regarding your parenthetical &quot;I&#39;m surprised that C# doesn&#39;t let consumer types do this explicitly&quot; -- there are security and correctness concerns. Consider: <code>abstract class B { private B() {} public virtual void M() { Danger(); } private class D : B { public override void M() { SecurityCheck(); base.M(); } public static B GetD() { return new D(); }}</code>  We would reasonable assume that low-trust code which gets its hands on a <code>D</code> should be unable to bypass the security check in <code>D.M</code> by calling <code>B.M</code> directly on an instance of <code>D</code>."}, {"owner": {"reputation": 954, "user_id": 1854114, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7071c25eecdca7d088286afaae2d342e?s=128&d=identicon&r=PG", "display_name": "Ricardo Alves", "link": "https://stackoverflow.com/users/1854114/ricardo-alves"}, "edited": false, "score": 0, "creation_date": 1524086088, "post_id": 49906616, "comment_id": 86834123, "body": "Thanks for the explanation! In my case, I really don&#39;t think it will break anything, as I want to turn obsolute old fields and make sure that our server still processes old data based on overriden properties. So, legacy code can still use whatever they were using, but my server has to make sure that, when reading old properties, they translate it to other property."}], "tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": true, "score": 6, "last_activity_date": 1524076524, "last_edit_date": 1524076524, "creation_date": 1524076016, "answer_id": 49906616, "question_id": 49905578, "link": "https://stackoverflow.com/questions/49905578/does-adding-virtual-to-a-c-method-may-break-legacy-clients/49906616#49906616", "title": "Does adding virtual to a C# method may break legacy clients?", "body": "<ul>\n<li>C# is compiled to CIL (formerly known as MSIL).</li>\n<li>Property accesses and assignments are compiled to method calls:\n\n<ul>\n<li><code>value = foo.Bar</code> becomes <code>value = foo.get_Bar()</code>.</li>\n<li><code>foo.Bar = value</code> becomes <code>foo.set_Bar( value )</code>.</li>\n</ul></li>\n<li>Method calls are compiled to <a href=\"https://msdn.microsoft.com/en-us/library/system.reflection.emit.opcodes.call(v=vs.110).aspx\" rel=\"noreferrer\"><code>call</code></a> or <a href=\"https://msdn.microsoft.com/en-us/library/system.reflection.emit.opcodes.callvirt%28v=vs.110%29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"noreferrer\"><code>callvirt</code></a> opcodes.</li>\n<li>The <code>call</code> and <code>callvirt</code> opcodes' first operand is a \"symbol\"/identifier by-name, <strong>so changing your class's members from non-virtual to <code>virtual</code> will not break JIT compilation</strong>.</li>\n<li><code>call</code> and <code>callvirt</code> can both be used to call <code>virtual</code> and non-virtual methods with differing behaviour, and the opcodes are chosen by the compiler for various reasons, and importantly the compiler may use <code>callvirt</code> to call a non-virtual method ( <a href=\"http://www.levibotelho.com/development/call-and-callvirt-in-cil/\" rel=\"noreferrer\">http://www.levibotelho.com/development/call-and-callvirt-in-cil/</a> )\n\n<ul>\n<li><code>.call NonVirtualMethod</code>  \n\n<ul>\n<li>The <code>NonVirtualMethod</code> is directly invoked.</li>\n</ul></li>\n<li><code>.callvirt NonVirtualMethod</code>  \n\n<ul>\n<li>The <code>NonVirtualMethod</code> is directly invoked (with a null-check).</li>\n</ul></li>\n<li><code>.call VirtualMethod</code>  \n\n<ul>\n<li>The <code>VirtualMethod</code> is directly invoked, even if the current object overrides it.</li>\n</ul></li>\n<li><code>.callvirt VirtualMethod</code>  \n\n<ul>\n<li>The current object's override of <code>VirtualMethod</code> is invoked.</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>So while a compiled application will still start and JIT after swapping your old binary assembly for a new one with <code>virtual</code> members there are still some scenarios to consider regarding the behavior of the consumer of your assembly depending on what opcode (<code>call</code> or <code>callvirt</code>) the consumer's compiler used:</p>\n\n<ol>\n<li><p>A consumer binary-assembly has <code>.call ExportReservationsToFtpRequestOld::get_A</code></p>\n\n<p>Provided you don't pass any subclass of <code>ExportReservationsToFtpRequestOld</code> with overridden members to the consumer, then the correct property will be invoked. If you do pass a subclass with overridden <code>virtual</code> members then the overridding version <a href=\"https://msdn.microsoft.com/en-us/library/system.reflection.emit.opcodes.call(v=vs.110).aspx\" rel=\"noreferrer\">will <strong>not</strong> be invoked</a>: </p>\n\n<blockquote>\n  <p>It is valid to call a virtual method using <code>call</code> (rather than <code>callvirt</code>); this indicates that the method is to be resolved using the class specified by method rather than as specified dynamically from the object being invoked.</p>\n</blockquote>\n\n<p>(I'm surprised that C# doesn't let consumer types do this explicitly, only classes in an inheritance tree can use the <code>base</code> keyword).</p></li>\n<li><p>A consumer binary-assembly has <code>.callvirt ExportReservationsToFtpRequestOld::get_A</code></p>\n\n<p>If the consumer is working with a subclass then the subclass's override of <code>get_A</code> will be invoked, and not necessarily <code>ExportReservationsToFtpRequestOld</code>'s version.</p></li>\n<li><p>A consumer already subclasses <code>ExportReservationsToFtpRequestOld</code> and adds <em>shadows</em> (<code>new</code>) versions of <code>get_A</code> and <code>get_B</code>, then calls those properties:</p>\n\n<pre><code>class Derived : ExportReservationsToFtpRequestOld {\n\n    public new int A { get; set; }\n    public new long B { get; set; }\n}\n</code></pre>\n\n<p>or even:</p>\n\n<pre><code>class Derived : ExportReservationsToFtpRequestOld {\n\n    public new virtual int A { get; set; }\n    public new virtual long B { get; set; }\n}\n\n// with:\n\nclass Derived2 : Derived {\n\n    public override int A { get; set; }\n    public override long B { get; set; }\n}\n</code></pre>\n\n<p>As <code>Derived</code>'s members have different internal identifiers then <code>ExportReservationsToFtpRequestOld</code>'s <code>get_A</code> and <code>get_B</code> will not be invoked. Even if the consumer's compiler used <code>.callvirt</code> instead of <code>.call</code>, the virtual-method lookup will start with their subclass, not <code>ExportReservationsToFtpRequestOld</code>. Things get complicated with <code>Derived2</code> however and what happens depends on how it's consumed, see here: <a href=\"https://stackoverflow.com/questions/10415900/what-is-public-new-virtual-void-method-mean\">what is &quot;public new virtual void Method()&quot; mean?</a></p></li>\n</ol>\n\n<h3>TL;DR:</h3>\n\n<p>If you're sure no-one is deriving from <code>ExportReservationsToFtpRequestOld</code> with shadow+virtual members then go ahead and change it to <code>virtual</code> - you won't break anything.</p>\n"}, {"comments": [{"owner": {"reputation": 954, "user_id": 1854114, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7071c25eecdca7d088286afaae2d342e?s=128&d=identicon&r=PG", "display_name": "Ricardo Alves", "link": "https://stackoverflow.com/users/1854114/ricardo-alves"}, "edited": false, "score": 0, "creation_date": 1524086055, "post_id": 49908304, "comment_id": 86834108, "body": "Thanks for the explanation! In my case, I really don&#39;t think it will break anything, as I want to turn obsolute old fields and make sure that our server still processes old data based on overriden properties. So, legacy code can still use whatever they were using, but my server has to make sure that, when reading old properties, they translate it to other property."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1524086972, "post_id": 49908304, "comment_id": 86834498, "body": "<i>&quot;[...]  will still be doing an unverifiable non-virtual dispatch to B.M!&quot;</i> There is a good joke in there somewhere, like turning your call into excrement... Good explanation as always!"}, {"owner": {"reputation": 142, "user_id": 1846281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493562e8f5009df77da3993c29d62b11?s=128&d=identicon&r=PG&f=1", "display_name": "Luca Cremonesi", "link": "https://stackoverflow.com/users/1846281/luca-cremonesi"}, "edited": false, "score": 0, "creation_date": 1524149860, "post_id": 49908304, "comment_id": 86864242, "body": "@EricLippert : &quot;if you are changing <b>anything</b> about a base class, recompile all the assemblies that make derived classes.&quot; Is this required even if the changes are only about private members of the base class?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 142, "user_id": 1846281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493562e8f5009df77da3993c29d62b11?s=128&d=identicon&r=PG&f=1", "display_name": "Luca Cremonesi", "link": "https://stackoverflow.com/users/1846281/luca-cremonesi"}, "edited": false, "score": 0, "creation_date": 1524150462, "post_id": 49908304, "comment_id": 86864663, "body": "@LucaCremonesi: You are correct; I was too broad there. I&#39;ve updated the text to be more clear. Thanks!"}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 15, "last_activity_date": 1524150440, "last_edit_date": 1524150440, "creation_date": 1524082472, "answer_id": 49908304, "question_id": 49905578, "link": "https://stackoverflow.com/questions/49905578/does-adding-virtual-to-a-c-method-may-break-legacy-clients/49908304#49908304", "title": "Does adding virtual to a C# method may break legacy clients?", "body": "<p>The answer from Dai is good but a little hard to read and it buries the lede. Let's not bury the lede.</p>\n\n<blockquote>\n  <p>can making a non-virtual instance method virtual break a legacy client dll?</p>\n</blockquote>\n\n<p><strong>Yes</strong>.  The breakage is subtle and unlikely, but it is <em>possible</em>.  <strong>Legacy clients should be recompiled when you make a member of a dependency virtual</strong>. </p>\n\n<p>More generally: <strong>if you are changing anything about a base class's public or protected surface area, recompile all the assemblies that make derived classes</strong>.</p>\n\n<p>Let's see how this specific scenario can break a legacy client. Suppose we have a dependency assembly with:</p>\n\n<pre><code>public class B {\n  public void M() { }\n}\n</code></pre>\n\n<p>and then we use this in a client assembly:</p>\n\n<pre><code>class C {\n  static void Q() {\n    B b = new B();\n    b.M();\n  }\n}\n</code></pre>\n\n<p>What IL is generated?</p>\n\n<pre><code>    newobj instance void B::.ctor()\n    callvirt instance void B::M()\n    ret\n</code></pre>\n\n<p>Perfectly reasonable code.  C# generates a <code>callvirt</code> to a non-virtual call because that means we do not have to emit a check to ensure that the receiver is non-null. This keeps the code small.</p>\n\n<p>If we update <code>B.M</code> to be virtual, the call site does not need to change; it is already doing a virtual call.  So everything is fine, right?</p>\n\n<p>Now, suppose <em>before</em> the new version of the dependency ships, some super genius comes along and says oh, we can refactor this code into the obviously better code:</p>\n\n<pre><code>  static void Q() {\n    new B().M();\n  }\n</code></pre>\n\n<p>Surely that refactoring changes nothing, right?  </p>\n\n<p>WRONG. The code generated is now:</p>\n\n<pre><code>  newobj instance void B::.ctor()\n  call instance void B::M()\n  ret\n</code></pre>\n\n<p>C# reasons \"I'm doing a call to a non-virtual method and I know the receiver is a <code>new</code> expression which <em>never produces null</em>, so I'll save that nanosecond and skip the null check\". </p>\n\n<p>Why not do that in the first case? Because C# does not do the control flow analysis in the first version and deduce that on every control flow, the receiver is known to be non-null. It just does a cheap check to see if the receiver is one of a handful of expressions known to be impossible to be null.</p>\n\n<p>If you now change the dependency <code>B.M</code> to a virtual method and do not recompile the assembly with the call site, <strong>the code in the call site is now not verifiable</strong> because it violates the CLR security rules.  A non-virtual call to a virtual method is only legal when the call is <em>directly</em> in a member of a derived type. </p>\n\n<p>See my comment on another answer for a scenario that motivates this security design decision.</p>\n\n<p>Aside: the rule applies even to nested types!  That is, if we have <code>class D : B { class N { } }</code> then code inside <code>N</code> is not allowed to do a non-virtual call to a virtual member of <code>B</code>, though code inside <code>D</code> is!</p>\n\n<p>So already we have a problem; we're turning verifiable code <em>in another assembly we don't own</em> into nonverifiable code.   </p>\n\n<p>But wait, it gets worse.</p>\n\n<p>Suppose we have a slightly different scenario. I suspect this is the scenario actually motivating your change.</p>\n\n<pre><code>// Original code\npublic class B {\n  public void M() {}\n}\npublic class D : B { }\n</code></pre>\n\n<p>And a client</p>\n\n<pre><code>class C {\n  static void Q() {\n    new D().M();\n  }\n}\n</code></pre>\n\n<p>What code is generated now?  The answer might surprise you. <strong>It is the same as before</strong>.  C# does NOT generate</p>\n\n<pre><code>  call instance void D::M()\n</code></pre>\n\n<p>Rather it generates </p>\n\n<pre><code>  call instance void B::M()\n</code></pre>\n\n<p>Because after all, <strong>that's the method being called</strong>. </p>\n\n<p>And now we change the dependency to</p>\n\n<pre><code>// New code\nclass B {\n  public virtual void M() {}\n}\nclass D : B { \n  public override void M() {}\n}\n</code></pre>\n\n<p>The authors of the new code reasonably believe that all calls to <code>new D().M()</code> should be dispatched to <code>D.M</code>, but as we see, the not-recompiled client will still be doing an unverifiable non-virtual dispatch to <code>B.M</code>!  So this is a not-breaking change in the sense that the client still gets the behaviour they used to get (assuming they ignore the verification failure) but that behaviour is no longer <em>correct</em>, and will change upon recompilation.</p>\n\n<p>The basic problem here is that a non-virtual call can show up where you don't expect it, and then if you change the requirement to make the call virtual, that doesn't happen until recompilation.</p>\n\n<p>Let's look at another version of the scenario we just did. In the dependency we have as before</p>\n\n<pre><code>public class B { public void M() {} }\npublic class D : B {}\n</code></pre>\n\n<p>and in our client we now have:</p>\n\n<pre><code>interface I { void M(); }\nclass C : D, I {}\n...\nI i = new C();\ni.M();\n</code></pre>\n\n<p>All is good; <code>C</code> inherits from <code>D</code>, which gives it a public member <code>B.M</code> which implements <code>I.M</code> and we're all set.</p>\n\n<p>Except that there's a problem.  The CLR requires that a method <code>B.M</code> that implements <code>I.M</code> be virtual, and <code>B.M</code> is not.  Rather than rejecting this program, C# pretends that you wrote:</p>\n\n<pre><code>class C : D, I \n{\n  void I.M()\n  {\n    base.M();\n  }\n}\n</code></pre>\n\n<p>Where <code>base.M()</code> is compiled as <em>non-virtual</em> call to <code>B.M()</code>.  After all, we know that <code>this</code> is non-null and <code>B.M()</code> is not virtual, so we can do a <code>call</code> instead of a <code>callvirt</code>.</p>\n\n<p>But now what happens when we recompile the dependency without recompiling the client:</p>\n\n<pre><code>class B {\n  public virtual void M() {}\n}\nclass D : B { \n  public override void M() {}\n}\n</code></pre>\n\n<p>Now calling <code>i.M()</code> will do a <em>verifiable</em> non-virtual call to <code>B.M</code> but  the author of <code>D.M</code> expected that <code>D.M</code> would be called in this scenario, and on re-compilation of the client, it will be.</p>\n\n<p>Finally, there are potentially more scenarios involving explicit <code>base.</code> calls where changing a dependency \"in the middle\" of a class hierarchy can produce bizarre unexpected results. See <a href=\"https://blogs.msdn.microsoft.com/ericlippert/2010/03/29/putting-a-base-in-the-middle/\" rel=\"nofollow noreferrer\">https://blogs.msdn.microsoft.com/ericlippert/2010/03/29/putting-a-base-in-the-middle/</a> for details of that scenario.  This is not your scenario, but it further illustrates the dangers of non-virtual calls to virtual methods.</p>\n"}], "owner": {"reputation": 954, "user_id": 1854114, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7071c25eecdca7d088286afaae2d342e?s=128&d=identicon&r=PG", "display_name": "Ricardo Alves", "link": "https://stackoverflow.com/users/1854114/ricardo-alves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 3, "accepted_answer_id": 49906616, "answer_count": 2, "score": 9, "last_activity_date": 1524150440, "creation_date": 1524072157, "question_id": 49905578, "link": "https://stackoverflow.com/questions/49905578/does-adding-virtual-to-a-c-method-may-break-legacy-clients", "title": "Does adding virtual to a C# method may break legacy clients?", "body": "<p>The question is very straightforward,</p>\n\n<p>if I have a following class:</p>\n\n<pre><code>public class ExportReservationsToFtpRequestOld \n{\n    public int A { get; set; }\n    public long B { get; set; }\n}\n</code></pre>\n\n<p>and change it to:</p>\n\n<pre><code>public class ExportReservationsToFtpRequestOld \n{\n    public virtual int A { get; set; }\n    public virtual long B { get; set; }\n}\n</code></pre>\n\n<p>can it break a legay client dll?</p>\n"}, {"tags": ["c#", ".net-core", "twilio", "telephony"], "comments": [{"owner": {"reputation": 1437, "user_id": 3644847, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/busMu.jpg?s=128&g=1", "display_name": "C1rdec", "link": "https://stackoverflow.com/users/3644847/c1rdec"}, "edited": false, "score": 0, "creation_date": 1524072324, "post_id": 49905568, "comment_id": 86827042, "body": "Just a quick question why are you using XmlDocument? If there is no good reason you should definitely look into XDocument (System.Xml.Linq)"}, {"owner": {"reputation": 2083, "user_id": 439627, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aUgyf.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/439627/eric"}, "reply_to_user": {"reputation": 1437, "user_id": 3644847, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/busMu.jpg?s=128&g=1", "display_name": "C1rdec", "link": "https://stackoverflow.com/users/3644847/c1rdec"}, "edited": false, "score": 1, "creation_date": 1524080083, "post_id": 49905568, "comment_id": 86831209, "body": "@C1rdec no particular reason, I&#39;ll optimize once I get the thing running."}], "answers": [{"comments": [{"owner": {"reputation": 2083, "user_id": 439627, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aUgyf.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/439627/eric"}, "edited": false, "score": 0, "creation_date": 1524117531, "post_id": 49912567, "comment_id": 86842860, "body": "Phil, does the URL need to be publicly accessible or only via running application?"}, {"owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "reply_to_user": {"reputation": 2083, "user_id": 439627, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aUgyf.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/439627/eric"}, "edited": false, "score": 0, "creation_date": 1524117608, "post_id": 49912567, "comment_id": 86842885, "body": "It needs to be accessible by Twilio from the Internet. You can <a href=\"https://www.twilio.com/docs/api/security\" rel=\"nofollow noreferrer\">validate that requests come from Twilio and protect it with HTTP basic auth</a> to ensure that only Twilio can access it though."}, {"owner": {"reputation": 2083, "user_id": 439627, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aUgyf.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/439627/eric"}, "edited": false, "score": 0, "creation_date": 1524268666, "post_id": 49912567, "comment_id": 86918702, "body": "I &quot;solved&quot; this by presenting the xml via an mvc service that produces xml, and I reference that controller/action/id to twilio. Still a pain to work with a non-publicly accessible development instance."}], "tags": [], "owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "is_accepted": true, "score": 3, "last_activity_date": 1524110904, "creation_date": 1524110904, "answer_id": 49912567, "question_id": 49905568, "link": "https://stackoverflow.com/questions/49905568/use-local-xml-file-for-a-twilio-call/49912567#49912567", "title": "use local xml file for a twilio call", "body": "<p>Twilio developer evangelist here.</p>\n\n<p>Currently there is no way to send the <a href=\"https://www.twilio.com/docs/api/twiml/\" rel=\"nofollow noreferrer\">TwiML</a> for a call with the request to create the call. You do need the TwiML to be hosted somewhere.</p>\n\n<p>If it would be difficult for you to host TwiML, then you could look into <a href=\"https://www.twilio.com/console/runtime/twiml-bins\" rel=\"nofollow noreferrer\">TwiML Bins</a> or <a href=\"https://www.twilio.com/docs/runtime/functions\" rel=\"nofollow noreferrer\">Twilio Functions</a> for static and dynamic ways of hosting TwiML within Twilio.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10340996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b006ba49a76cb718bfd6ccbbfab44cd?s=128&d=identicon&r=PG&f=1", "display_name": "Dut20819463", "link": "https://stackoverflow.com/users/10340996/dut20819463"}, "is_accepted": false, "score": 1, "last_activity_date": 1537517455, "creation_date": 1537517455, "answer_id": 52439375, "question_id": 49905568, "link": "https://stackoverflow.com/questions/49905568/use-local-xml-file-for-a-twilio-call/52439375#52439375", "title": "use local xml file for a twilio call", "body": "<p>Well its funny Before I have asked a similar question and now I'm answering it. Try this:\nI created an method that takes a string message as parameter which is the message I want to  over the call. I call this method before execution of the create call and I put a break, and found that the xml was created in the correct format in the specified directory.<code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Response&gt;</code>enter code here<code>\n  &lt;Say&gt;HELLO WORLD&lt;/Say&gt;\n&lt;/Response&gt;</code>\nLine 43 I created the method. Then in line 70 I called the method the Xml file was created like below:</p>\n\n<p>\n<code>enter code here</code>\n  HELLO WORLD\n</p>\n\n<p><a href=\"https://i.stack.imgur.com/K96PT.jpg\" rel=\"nofollow noreferrer\">My code</a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 1895142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8462985a208942615f8adbbfc8aeed12?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1895142/shai"}, "is_accepted": false, "score": 0, "last_activity_date": 1596220891, "creation_date": 1596220891, "answer_id": 63197429, "question_id": 49905568, "link": "https://stackoverflow.com/questions/49905568/use-local-xml-file-for-a-twilio-call/63197429#63197429", "title": "use local xml file for a twilio call", "body": "<p>It seems like you actually can send it from you local xml file:</p>\n<pre><code>    client.calls\n    .create({\n        twiml: '&lt;Response&gt;&lt;Say&gt;### THIS STRING CAN BE REPLACED WITH YOUR XML FILE CONTENT ###&lt;/Say&gt;&lt;/Response&gt;',\n        from: '',\n        to: ''\n    })\n    .then(call =&gt; console.log(message.sid));\n</code></pre>\n"}], "owner": {"reputation": 2083, "user_id": 439627, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/aUgyf.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/439627/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1190, "favorite_count": 0, "accepted_answer_id": 49912567, "answer_count": 3, "score": 3, "last_activity_date": 1596220891, "creation_date": 1524072129, "question_id": 49905568, "link": "https://stackoverflow.com/questions/49905568/use-local-xml-file-for-a-twilio-call", "title": "use local xml file for a twilio call", "body": "<p>The <a href=\"https://www.twilio.com/docs/voice/tutorials/how-to-make-outbound-phone-calls-csharp\" rel=\"nofollow noreferrer\">sample code on how-to-make-a-call</a> looks like this:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    // Find your Account Sid and Auth Token at twilio.com/console\n    const string accountSid = \"ACc610c3a41a31c91a01396f7bf92c517d\";\n    const string authToken = \"your_auth_token\";\n    TwilioClient.Init(accountSid, authToken);\n\n    var to = new PhoneNumber(\"+14155551212\");\n    var from = new PhoneNumber(\"+15017122661\");\n    var call = CallResource.Create(to,\n                                   from,\n                                   url: new Uri(\"http://demo.twilio.com/docs/voice.xml\"));\n\nConsole.WriteLine(call.Sid);\n}\n</code></pre>\n\n<p>The xml of the referenced voice.xml looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Response&gt;\n    &lt;Say voice=\"alice\"&gt;Thanks for trying our documentation. Enjoy!&lt;/Say&gt;\n    &lt;Play&gt;http://demo.twilio.com/docs/classic.mp3&lt;/Play&gt;\n&lt;/Response&gt;\n</code></pre>\n\n<p>I would like to just create an xml file in memory, and reference that, rather than a remote uri. Is there anyway to take something like the below and attach it to the CallResource.Create argument?</p>\n\n<pre><code>    System.Xml.XmlDocument xmlDocument = new XmlDocument();\n    String s = \"My custom message!\";\n    xmlDocument.LoadXml(string.Format(@\"&lt;Response&gt;&lt;Say voice=\"\"alice\"\"&gt;{0}&lt;/Say&gt;&lt;/Response&gt;\", s));\n</code></pre>\n"}, {"tags": ["c#", "xml"], "comments": [{"owner": {"reputation": 2978, "user_id": 760139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VrAo0.jpg?s=128&g=1", "display_name": "Tony Dong", "link": "https://stackoverflow.com/users/760139/tony-dong"}, "edited": false, "score": 3, "creation_date": 1524071197, "post_id": 49905259, "comment_id": 86826430, "body": "Show your XML file will help us."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9665608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84df6d9f17f7e384c963905ab0680f63?s=128&d=identicon&r=PG&f=1", "display_name": "JJ.Dorian", "link": "https://stackoverflow.com/users/9665608/jj-dorian"}, "edited": false, "score": 0, "creation_date": 1524077168, "post_id": 49905436, "comment_id": 86829678, "body": "It works, thank you. Can someone tell me if I can check as contains, if the user is already in the xml file zufinden?"}, {"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "reply_to_user": {"reputation": 1, "user_id": 9665608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84df6d9f17f7e384c963905ab0680f63?s=128&d=identicon&r=PG&f=1", "display_name": "JJ.Dorian", "link": "https://stackoverflow.com/users/9665608/jj-dorian"}, "edited": false, "score": 0, "creation_date": 1524079008, "post_id": 49905436, "comment_id": 86830608, "body": "Use the code in the <code>View()</code> method to get the existing users as a <code>List&lt;string&gt;</code> and check your new user against that list using the <code>Contains()</code> method."}], "tags": [], "owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "is_accepted": false, "score": 2, "last_activity_date": 1524071955, "last_edit_date": 1524071955, "creation_date": 1524071640, "answer_id": 49905436, "question_id": 49905259, "link": "https://stackoverflow.com/questions/49905259/c-how-can-i-get-all-users-of-the-xml-file/49905436#49905436", "title": "C# how can i get all users of the XML file", "body": "<p>I'm not sure what wasn't working for you, but this works for me. I am using <code>//Login</code> as the path selector. Ensure that your XML file actually has multiple users.</p>\n\n<pre><code>void Main()\n{\n    //Create();\n    View();\n\n    // Output:\n    // User1\n    // User2\n}\n\nprivate void Create()\n{\n    string path = \"C:\\\\Code\\\\Sandbox\\\\Accounts.xml\";\n    XmlDocument doc = new XmlDocument();\n    doc.Load(path);\n    XmlElement root = doc.CreateElement(\"Login\");\n    XmlElement user = doc.CreateElement(\"user\");\n    user.InnerText = \"User2\";\n    root.AppendChild(user);\n    doc.DocumentElement.AppendChild(root);\n    doc.Save(path);\n    Console.WriteLine(\"Created SuccesFully!\");\n}\n\nprivate void View()\n{\n    XmlDocument xdoc = new XmlDocument();\n    xdoc.Load(\"C:\\\\Code\\\\Sandbox\\\\Accounts.xml\");\n    foreach (XmlNode person in xdoc.SelectNodes(\"//Login\"))\n    {\n        Console.WriteLine(person[\"user\"].InnerText);\n    }\n}\n</code></pre>\n\n<p>Here is the generated XML. I inserted a root <code>Logins</code> element.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Logins&gt;\n  &lt;Login&gt;\n    &lt;user&gt;User1&lt;/user&gt;\n  &lt;/Login&gt;\n  &lt;Login&gt;\n    &lt;user&gt;User2&lt;/user&gt;\n  &lt;/Login&gt;\n&lt;/Logins&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9665608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84df6d9f17f7e384c963905ab0680f63?s=128&d=identicon&r=PG&f=1", "display_name": "JJ.Dorian", "link": "https://stackoverflow.com/users/9665608/jj-dorian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524072430, "creation_date": 1524071017, "last_edit_date": 1524072430, "question_id": 49905259, "link": "https://stackoverflow.com/questions/49905259/c-how-can-i-get-all-users-of-the-xml-file", "title": "C# how can i get all users of the XML file", "body": "<p>I have created an xml file and there are stored my user. The problem, I only ever get the first one out. How do I manage to get all users of the XML file displayed? </p>\n\n<pre><code>        private void button1_Click(object sender, EventArgs e)\n    {\n        string path = \"C:\\\\temp\\\\Accounts.xml\";\n\n        XmlDocument doc = new XmlDocument();\n        doc.Load(path);\n        XmlElement root = doc.CreateElement(\"Login\");\n        XmlElement user = doc.CreateElement(\"user\");\n        user.InnerText = textBox1.Text;\n\n\n        root.AppendChild(user);\n        doc.DocumentElement.AppendChild(root);\n        doc.Save(path);\n        MessageBox.Show(\"Created SuccesFully!\");\n    }\n\n    private void button2_Click(object sender, EventArgs e)\n    {\n        XmlDocument xdoc = new XmlDocument();\n        xdoc.Load(\"C:\\\\temp\\\\Accounts.xml\");\n\n        foreach (XmlNode person in xdoc.SelectNodes(\"/Login\"))\n        {\n            MessageBox.Show(person[\"user\"].InnerText);\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["c#", "servicestack", "ormlite-servicestack"], "answers": [{"tags": [], "owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "is_accepted": true, "score": 2, "last_activity_date": 1524088923, "creation_date": 1524088923, "answer_id": 49909675, "question_id": 49905167, "link": "https://stackoverflow.com/questions/49905167/servicestack-ormlite-capture-sql-infomessage-event-from-stored-procedure/49909675#49909675", "title": "ServiceStack OrmLite - Capture Sql InfoMessage event from stored procedure", "body": "<p>The logging strategy approach for doing this is to configure a filter in your logging provider to only log the messages you're interested in. </p>\n\n<p>OrmLite's SQL debug logging messages containing the SQL and DB Params are logged under the <code>ServiceStack.OrmLite.OrmLiteResultsFilterExtensions</code> Type.</p>\n\n<p>To make this scenario easier I've just added new <code>OrmLiteConfig.BeforeExecFilter</code> and <code>OrmLiteConfig.AfterExecFilter</code> which you can use to execute custom logic before and after a DB Command is executed, e.g:</p>\n\n<pre><code>OrmLiteConfig.BeforeExecFilter = dbCmd =&gt; Console.WriteLine(dbCmd.GetDebugString());\n</code></pre>\n\n<p>This change is available from v5.0.3 that's now <a href=\"http://docs.servicestack.net/myget\" rel=\"nofollow noreferrer\">available on MyGet</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "is_accepted": false, "score": 1, "last_activity_date": 1524149016, "creation_date": 1524149016, "answer_id": 49923907, "question_id": 49905167, "link": "https://stackoverflow.com/questions/49905167/servicestack-ormlite-capture-sql-infomessage-event-from-stored-procedure/49923907#49923907", "title": "ServiceStack OrmLite - Capture Sql InfoMessage event from stored procedure", "body": "Update:\n\n<p>Looking through the ServiceStack.OrmLite source, it looks like <code>IDbConnection</code> can be cast to <code>SqlConnection</code> using <code>(SqlConnection)IDbConnection.ToDbConnetion()</code>.</p>\n\n<p>Wrapping this up in an <a href=\"https://github.com/ServiceStack/ServiceStack.OrmLite/blob/master/src/ServiceStack.OrmLite/OrmLiteExecFilter.cs\" rel=\"nofollow noreferrer\"><code>OrmLiteExecFilter</code></a> to be called on every statement, casting the <code>IDbConnection</code> and creating the <code>DbCommand</code> with the cast connection worked for me:</p>\n\n<pre><code>public class LogInfoMessageFilter : OrmLiteExecFilter\n{\n\n    ILog SlackLog = LogManager.GetLogger(\"SlackLogger\");\n\n    public override T Exec&lt;T&gt;(IDbConnection dbConn, Func&lt;IDbCommand, T&gt; filter) \n    {\n\n        var holdProvider = OrmLiteConfig.DialectProvider;\n\n        // casting, skipping type checks for brevity\n        var sqlConn = (SqlConnection)dbConn.ToDbConnection();\n\n        // add the event\n        sqlConn.InfoMessage += _HandleInfoMessage;\n\n        var dbCmd = CreateCommand(sqlConn);\n\n        try\n        {\n            return filter(dbCmd);\n        }\n        finally\n        {\n            DisposeCommand(dbCmd, sqlConn);\n            OrmLiteConfig.DialectProvider = holdProvider;\n        }\n    }\n\n    private void _HandleInfoMessage(object sender, SqlInfoMessageEventArgs args)\n    {\n        SlackLog.Info($\"what does the sproc say? {args.Message}\");\n    }\n}\n\n\n// before opening the connection:\nOrmLiteConfig.ExecFilter = new LogInfoMessageFilter();\n</code></pre>\n\n<p>However, now that @mythz has replied with an 'official' way to do this, I'll go about refactoring. Just thought I'd plop this here in case it suits anyone's use case.</p>\n"}], "owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 49909675, "answer_count": 2, "score": 1, "last_activity_date": 1524149016, "creation_date": 1524070691, "last_edit_date": 1524074414, "question_id": 49905167, "link": "https://stackoverflow.com/questions/49905167/servicestack-ormlite-capture-sql-infomessage-event-from-stored-procedure", "title": "ServiceStack OrmLite - Capture Sql InfoMessage event from stored procedure", "body": "<p>Asked this question a few days ago but maybe wasn't too specific.</p>\n\n<p>Basically, I'm writing a console app that accepts a list of stored procedure names and arbitrarily executes them. The app is supposed to log to Slack, etc. on the progress of these sprocs, as well as do some other stuff later.</p>\n\n<p>The 'other stuff' I mentioned interacts with known database models, and since we have a library of ServiceStack/OrmLite types build up, I am using OrmLite to interact with the database later.</p>\n\n<p>So, since I have OrmLite included and configured in the project, I'm just using the OrmLite <code>IDbConnection</code> to execute the stored procedures, even if it's just by name. The sprocs simply move data to another database, one that the app doesn't need to interact with -- so I'm not <code>SELECT</code>ing any data into the app with the sprocs and there's no POCO representation of what's moved.</p>\n\n<p>However, the sprocs spit out a number of informational <code>PRINT</code> statements that I want to capture and log to our team in a formatted manner via Slack. Enabling full-on debug logging spits out a little too much information for this purpose.</p>\n\n<p>Is there any way I can configure the <code>Ormlite</code> <code>SqlServerDialect.Provider</code>, the <code>IDataReader</code>, etc. to basically capture the <a href=\"https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlconnection.infomessage(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>SqlConnection.InfoMessage</code></a>\nevent (or to provide it with a connection already prepped with a <code>SqlInfoMessageEventHandler</code>)?</p>\n"}, {"tags": ["c#", "rabbitmq"], "answers": [{"comments": [{"owner": {"reputation": 6400, "user_id": 1466825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b420d86764ffe237a2fdc52e28b73f4?s=128&d=identicon&r=PG", "display_name": "Luke Bakken", "link": "https://stackoverflow.com/users/1466825/luke-bakken"}, "edited": false, "score": 0, "creation_date": 1524149738, "post_id": 49905617, "comment_id": 86864151, "body": "I doubt that the restart is actually what fixed this, to be honest. I can&#39;t reproduce it."}, {"owner": {"reputation": 10325, "user_id": 571507, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c9A0L.png?s=128&g=1", "display_name": "Deeptechtons", "link": "https://stackoverflow.com/users/571507/deeptechtons"}, "reply_to_user": {"reputation": 6400, "user_id": 1466825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b420d86764ffe237a2fdc52e28b73f4?s=128&d=identicon&r=PG", "display_name": "Luke Bakken", "link": "https://stackoverflow.com/users/1466825/luke-bakken"}, "edited": false, "score": 0, "creation_date": 1525282536, "post_id": 49905617, "comment_id": 87299157, "body": "@LukeBakken Yeah it was just crazy for me too to accept this."}], "tags": [], "owner": {"reputation": 10325, "user_id": 571507, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c9A0L.png?s=128&g=1", "display_name": "Deeptechtons", "link": "https://stackoverflow.com/users/571507/deeptechtons"}, "is_accepted": true, "score": 0, "last_activity_date": 1524072324, "creation_date": 1524072324, "answer_id": 49905617, "question_id": 49905090, "link": "https://stackoverflow.com/questions/49905090/rabbitmq-unable-to-login-with-newly-created-user/49905617#49905617", "title": "RabbitMq unable to login with newly created user", "body": "<p>For some reason, <strong>Restarting</strong> RabbitMq service did the trick. Now any new user i am adding is able to read queues using c# client.</p>\n"}], "owner": {"reputation": 10325, "user_id": 571507, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c9A0L.png?s=128&g=1", "display_name": "Deeptechtons", "link": "https://stackoverflow.com/users/571507/deeptechtons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 49905617, "answer_count": 1, "score": 0, "last_activity_date": 1524072324, "creation_date": 1524070438, "question_id": 49905090, "link": "https://stackoverflow.com/questions/49905090/rabbitmq-unable-to-login-with-newly-created-user", "title": "RabbitMq unable to login with newly created user", "body": "<p>I Created a new user <code>appserviceaccount</code> using the default guest administrator account and set administrator tag on that user.\nI am able to login to the web interface using the newly created user, But not able to login via C# client to publish messages and consume them. Error i receive is below, I have no clues as to why this is happening.</p>\n\n<pre><code>2018-04-18 12:42:15.409 [info] &lt;0.5272.2&gt; accepting AMQP connection &lt;0.5272.2&gt; (127.0.0.1:65155 -&gt; 127.0.0.1:5672)\n2018-04-18 12:42:15.460 [info] &lt;0.5272.2&gt; Connection &lt;0.5272.2&gt; (127.0.0.1:65155 -&gt; 127.0.0.1:5672) has a client-provided name: Application\n2018-04-18 12:42:15.461 [error] &lt;0.5272.2&gt; Error on AMQP connection &lt;0.5272.2&gt; (127.0.0.1:65155 -&gt; 127.0.0.1:5672, state: starting):\nPLAIN login refused: user 'appserviceaccount' - invalid credentials\n2018-04-18 12:42:15.464 [info] &lt;0.5272.2&gt; closing AMQP connection &lt;0.5272.2&gt; (127.0.0.1:65155 -&gt; 127.0.0.1:5672 - Application)\n</code></pre>\n\n<p>C# Code used to establish connection is below, i had to mask the password. Error occurs when <code>CreateConnection</code> is called.</p>\n\n<pre><code>var connFact = new RabbitMQ.Client.ConnectionFactory();\n            connFact.HostName = \"localhost\";\n            connFact.UserName = \"appserviceaccount\";\n            connFact.Password = \"XXXXXXX\";\n            connFact.VirtualHost = \"/\";\n            Console.WriteLine(\"This is a Sender\");\n            try\n            {\n                using (var conn = connFact.CreateConnection(\"Application\"))\n                {\n</code></pre>\n"}]