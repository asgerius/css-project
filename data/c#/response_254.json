[{"tags": ["c#", "lambda", "delegates"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1574293553, "post_id": 58965039, "comment_id": 104185293, "body": "Instead of picking the most complicated scenario (combining multiple delegates and calling them from other method) consider doing it one step at a time - after that you either understand the whole thing or at least sort out what exactly you have problem and can <a href=\"https://stackoverflow.com/posts/58965039/edit\">edit</a> post to clarify that... At very least have good names for <b>all</b> objects in the code so you can reference them in your text - i.e. split <code>action += \u2026</code> into <code>Action a1 = \u2026; action += a1;</code>"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1574294697, "post_id": 58965039, "comment_id": 104185523, "body": "I don&#39;t see any &quot;instance variable&quot; in your code. And there is only ever one delegate instance during the execution of your code. I also don&#39;t see anything that is actually a <i>question</i> in your post. I have a vague sense that your &quot;question&quot;, such as it is, is actually not about delegates at all, but rather about the relationship between a declared local variable, a method that is called, the value it returns, and how that&#39;s stored in the variable. Still, given the lack of a real question, it&#39;s impossible to know for sure what you&#39;re asking."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1574295478, "post_id": 58965039, "comment_id": 104185721, "body": "<i>&quot;create a new instance of <code>Action</code> and refer it to some method&quot;</i> - this is inaccurate. You create a new <i>variable</i> but there&#39;s no instance until you arrive at the lambda expression, and that is an instance that&#39;s assigned to <code>action</code> using <code>+=</code>."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1574299379, "post_id": 58965039, "comment_id": 104186636, "body": "@madreflection to be super pedantic on &quot; that is an instance that&#39;s assigned to action&quot; -  <code>+=</code> combines existing <code>null</code> value of the delegate with right side... While it seem to always pick right side if started with null this is not clear from <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.delegate.combine?redirectedfrom=MSDN&amp;view=netframework-4.8#System_Delegate_Combine_System_Delegate___\" rel=\"nofollow noreferrer\">Delegate.Combine</a> that it is required behavior- in theory it may always assign new delegate that combines <code>null</code> and right side delegate (would not be practical so)."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1574315686, "post_id": 58965039, "comment_id": 104190585, "body": "@AlexeiLevenkov: Yes. I could&#39;ve gone into that, and I almost did, but it was too big a topic to jump into and OP needed a correction on instances more than anything. It&#39;s not so much that it picks the right side (it does but that&#39;s an implementation detail)... <code>null</code> is the additive identity for delegates (<i>whichever</i> side it&#39;s on)--just as <code>0</code> is the additive identity for real numbers--and because delegates are immutable, there&#39;s no need to create a new instance. Anyway, I guess we&#39;re saying the same thing in the end."}, {"owner": {"reputation": 37, "user_id": 10943762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18f2a9ecd6df036d7cecc894f720c32d?s=128&d=identicon&r=PG&f=1", "display_name": "chaudhry", "link": "https://stackoverflow.com/users/10943762/chaudhry"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1574363815, "post_id": 58965039, "comment_id": 104217042, "body": "@madreflection  In the &quot;Main&quot; Method when I wrote Action a1, I did not write &quot;new&quot; keyword for creating instance. I was thinking that it is automatically creating instance of reference variable a1. Because I thought it would not be possible to invoke a1() without having instance. After reading the above comments I have understood that a1 is just a local variable. Still I do not know how we were able to invoke a1() if there was no instance of a1. As far as I know &quot;Delegate&quot; is a class. And we need to create an instance first if we want to invoke a delegate."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1574364156, "post_id": 58965039, "comment_id": 104217225, "body": "Within <code>GiveAction</code>, you&#39;re creating the instance. It&#39;s not &quot;automatic&quot;, it&#39;s &quot;implicit&quot;. There&#39;s a difference and that difference is important. The expression <code>() =&gt; { i++; }</code>, for example, is an expression that yields a delegate instance. That conversion is implicit. It&#39;s then combined with <code>b1</code>&#39;s <code>null</code> and assigned to <code>b1</code>. You then combine <i>another</i> expression&#39;s instance with that (the &quot;complicated scenario&quot; mentioned in the very first comment). When <code>GiveAction</code> returns <code>b1</code>, <i>that&#39;s</i> the instance that gets assigned to <code>a1</code> in <code>Main</code> and then invoked."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1574364380, "post_id": 58965039, "comment_id": 104217332, "body": "It&#39;s <i>implicit</i> because the compiler is generating a class (with an unreachable name) for you, and it contains two methods with the bodies of the two lambdas in <code>GiveAction</code>. It then does <code>var &lt;&gt;__context_object = new &lt;&gt;__context_class(); &lt;&gt;__context_object.i = 4;</code> and then <code>new Action(&lt;&gt;__context_object.&lt;&gt;__generated_method)</code> (these names are not exactly what&#39;s generated but it&#39;s something close to that). That&#39;s how a delegate instance is created without seeing a <code>new</code> keyword. And the <code>&lt;&gt;__context_object</code> is how the closure is achieved."}, {"owner": {"reputation": 37, "user_id": 10943762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18f2a9ecd6df036d7cecc894f720c32d?s=128&d=identicon&r=PG&f=1", "display_name": "chaudhry", "link": "https://stackoverflow.com/users/10943762/chaudhry"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1574365853, "post_id": 58965039, "comment_id": 104218008, "body": "@madreflection thanks a lot for the detailed answer. Now I have  understood."}], "owner": {"reputation": 37, "user_id": 10943762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18f2a9ecd6df036d7cecc894f720c32d?s=128&d=identicon&r=PG&f=1", "display_name": "chaudhry", "link": "https://stackoverflow.com/users/10943762/chaudhry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574360960, "creation_date": 1574292994, "last_edit_date": 1574360960, "question_id": 58965039, "link": "https://stackoverflow.com/questions/58965039/to-whom-action-variable-is-referencing-the-method-which-is-invoked-or-the-retu", "title": "To whom Action variable is referencing , the method which is invoked or the return value of the invoked method which is also Action", "body": "<p>I am trying to learn about closures in C#. While following YouTube tutorials I have got some idea of closures. I am writing a sample program. In this program, I am calling a static method named <code>GiveAction()</code> which is returning <code>Action</code>.</p>\n\n<p>Now in the <code>Main</code> Method of the class when we create a new instance of <code>Action</code> and refer it to some method. I am confused to whom this instance refers: <strong>GiveAction</strong> method or the return value of this method which is b1 (also Action).</p>\n\n<p>The return value is also an <code>Action</code>. When I invoke this instance of <code>Action</code> while debugging, I can see only the part where I have lambda function that is invoked. This shows that the instance variable is referencing only the return value. But I am not sure.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private static Action GiveAction()\n{\n    Action b1= null;\n    int i = 4;\n    b1+= () =&gt;\n    {\n        i++;\n    };\n    b1+= () =&gt;\n    {\n        i+=10;\n        Console.WriteLine(i);\n    };\n    return b1;\n}\n</code></pre>\n\n<h2>Main Method</h2>\n\n<pre class=\"lang-cs prettyprint-override\"><code>static void Main(string[] args)\n{\n    Action a1= GiveAction();\n    a1();\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "asp.net-core", "dbcontext"], "comments": [{"owner": {"reputation": 163, "user_id": 7669224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6b94e060d8f3789465eb855d1755ec?s=128&d=identicon&r=PG&f=1", "display_name": "Adleri", "link": "https://stackoverflow.com/users/7669224/adleri"}, "edited": false, "score": 0, "creation_date": 1574293290, "post_id": 58964990, "comment_id": 104185230, "body": "Try returning <code>m_Context.Accounts.Where(x =&gt; x.Id == id).ToList();</code>"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1574294286, "post_id": 58964990, "comment_id": 104185440, "body": "Re the often more than one account with the same id? It feels like GetAccounts should just return a single account or a null, via SingleOrDefault, no?"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1574294403, "post_id": 58964990, "comment_id": 104185462, "body": "&quot;here account.Status is returned as INACTIVE, but in the database the column value is ACTIVE&quot; - ORMs will often hand you the same reference every time they see the same id for a given collection, rather than deserialize the data (or even fetch it) each time - is this what you are seeing? i.e. it is simply handing you back the same object that you already edited"}, {"owner": {"reputation": 388, "user_id": 4677422, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/add3cf669bc23bde2c0175062d8d475d?s=128&d=identicon&r=PG&f=1", "display_name": "nmess88", "link": "https://stackoverflow.com/users/4677422/nmess88"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1574294625, "post_id": 58964990, "comment_id": 104185510, "body": "@MarcGravell since I updated the Status to INACTIVE, I updated the ORMs reference. Therefore, when I called GetAccounts again for the same id, it didnt fetch it from the DB, it just gave me the reference. Is that right?"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1574294892, "post_id": 58964990, "comment_id": 104185572, "body": "Exactly, yes. Note that it isn&#39;t always possible for it to avoid the fetch (although <code>{First|Single}[OrDefault]</code> will usually spot it before issuing a query), but even if it does execute: when it comes back it&#39;ll say &quot;id 283526 from Accounts? I&#39;ve already seen that, here it is&quot;"}, {"owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "edited": false, "score": 0, "creation_date": 1574319255, "post_id": 58964990, "comment_id": 104191908, "body": "Why you name both the action parameter and result of query as <code>account</code> in &#183;AddOrUpdateAccounts`?"}, {"owner": {"reputation": 388, "user_id": 4677422, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/add3cf669bc23bde2c0175062d8d475d?s=128&d=identicon&r=PG&f=1", "display_name": "nmess88", "link": "https://stackoverflow.com/users/4677422/nmess88"}, "reply_to_user": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "edited": false, "score": 0, "creation_date": 1574348462, "post_id": 58964990, "comment_id": 104208844, "body": "@XingZou that was an error. I fixed the question and added comments."}], "answers": [{"comments": [{"owner": {"reputation": 388, "user_id": 4677422, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/add3cf669bc23bde2c0175062d8d475d?s=128&d=identicon&r=PG&f=1", "display_name": "nmess88", "link": "https://stackoverflow.com/users/4677422/nmess88"}, "edited": false, "score": 0, "creation_date": 1574348598, "post_id": 58973507, "comment_id": 104208929, "body": "The variable names in AddOrUpdateAccounts was an error. I modified the questions and added some notes."}, {"owner": {"reputation": 22234, "user_id": 5928070, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/u5lN9.jpg?s=128&g=1", "display_name": "TanvirArjel", "link": "https://stackoverflow.com/users/5928070/tanvirarjel"}, "edited": false, "score": 0, "creation_date": 1574348665, "post_id": 58973507, "comment_id": 104208972, "body": "You don&#39;t need to implement <code>IDisposable</code> explicitly in ASP.NET Core. Because it is the responsibility of the DI container to dispose the object correctly. So you can safely remove <code>IDisposable</code> from your <code>UnitOfWork</code>."}, {"owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "edited": false, "score": 0, "creation_date": 1574371498, "post_id": 58973507, "comment_id": 104220506, "body": "That unit of work example is for demonstration only. If a DI were to provide a DbContext to a UoW then the DI would manage disposal. In that example though the DbContext is new&#39;d up inside the UoW so the UoW must be disposable to ensure the DbContext is disposed as well. DI would dispose the UoW dependency only."}, {"owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "reply_to_user": {"reputation": 388, "user_id": 4677422, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/add3cf669bc23bde2c0175062d8d475d?s=128&d=identicon&r=PG&f=1", "display_name": "nmess88", "link": "https://stackoverflow.com/users/4677422/nmess88"}, "edited": false, "score": 0, "creation_date": 1574372460, "post_id": 58973507, "comment_id": 104220906, "body": "@nmess88 - The reason that your attempt to retrieve the data again from the database is showing &quot;Inactive&quot; is because that DbContext is still tracking the reference to the entity that you modified. I added an edit above explaining that behaviour."}], "tags": [], "owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "is_accepted": false, "score": 0, "last_activity_date": 1574372418, "last_edit_date": 1574372418, "creation_date": 1574334437, "answer_id": 58973507, "question_id": 58964990, "link": "https://stackoverflow.com/questions/58964990/c-net-core-dbcontext-not-returning-data-that-is-in-the-database/58973507#58973507", "title": "C# .NET Core DbContext not returning data that is in the database", "body": "<p>The repository method should return <code>IQueryable&lt;Account&gt;</code> rather than <code>IEnumerable&lt;Account&gt;</code> as this will allow the the consumer to continue to refine any criteria or govern how the account(s) should be consumed prior to any query executing against the database:</p>\n\n<p>I would consider:</p>\n\n<pre><code>public IQueryable&lt;Account&gt; GetAccountsById(int id){\n    return m_Context.Accounts.Where(x =&gt; x.Id == id);\n}\n</code></pre>\n\n<p>Don't return #null, just the query. The consumer can decide what to do if the data is not available. </p>\n\n<p>From there the calling code looks like:</p>\n\n<pre><code>var accounts = myRepo.GetAccounts(accountId).ToList(); \n\nforeach (var account in accounts)\n{\n    account.Status=\"INACTIVE\";\n}\n</code></pre>\n\n<p>Your addOrUpdate wouldn't work:</p>\n\n<pre><code>public Account AddOrUpdateAccounts(Account account){\n    ...\n    var account = myRepo.GetAccounts(account.Id); //this doesn't return whats in the database.\n</code></pre>\n\n<p>You pass in the Account as \"account\" then try declaring a local variable called \"account\". If you remove the <code>var</code> keyword you would load the DbContext's record over top your modified account and your changes would be lost. Loading the account into another variable isn't necessary as long as the account is still associated with the DbContext.</p>\n\n<p>Edit:  After changing the <code>var account = ...</code> statement to look like:</p>\n\n<pre><code>public Account AddOrUpdateAccounts(Account account){\n    ...\n    var accountToUpdate = myRepo.GetAccounts(account.Id); //this doesn't return whats \n</code></pre>\n\n<p><code>accountToUpdate</code> will show the modified status rather than what is in the database because that DbContext is still tracking the reference to the entity that you modified.  (<code>account</code>) For instance if I do this:</p>\n\n<pre><code>var account1st = context.Accounts.Single(x =&gt; x.AccountId == 1);\nvar account2nd = context.Accounts.Single(x =&gt; x.AccountId == 1);\nConsole.WriteLine(account1st.Status); // I get \"ACTIVE\"\nConsole.WriteLine(account2nd.Status); // I get \"ACTIVE\"\naccount1st.Status = \"INACTIVE\";\nConsole.WriteLine(account2nd.Status); // I get \"INACTIVE\"\n</code></pre>\n\n<p>Both references point to the same instance. It doesn't matter when I attempt to read the Account the 2nd time, as long as it's coming from the same DbContext and the context is tracking instances. If you read the row via a different DbContext, or use <code>AsNoTracking()</code> with all of your reads then the account can be read fresh from the database. You can reload an entity, but if those variables are pointing at the same reference it will overwrite your changes and set the entity back to <code>Unmodified</code>. This can be a little confusing when watching an SQL profiler output because in some cases you will see EF run a <code>SELECT</code> query for an entity, but the entity returned has different, modified values than what is in the database. Even when loading from the tracking cache, EF can still execute queries against the DB in some cases, but it returns the tracked entity reference.</p>\n\n<p>/Edit</p>\n\n<p>When it comes to saving the changes, it really just boils down to calling the SaveChanges on the DbContext that the account is associated. The \"tricky\" part is scoping the DbContext so that this can be done. The recommended pattern for this is the Unit of Work. There are a few different ones out there, and the one I recommend for EF is Mehdime's DbContextScope, however you can implement simpler ones that may be easier to understand and follow.  Essentially a unit of work encapsulates the DbContext so that you can define a scope that repositories can access the same DbContext, then commit those changes at the end of the work.</p>\n\n<p>At the most basic level:</p>\n\n<pre><code>public interface IUnitOfWork&lt;TDbContext&gt; : IDisposable where TDbContext : DbContext\n{\n    TDbContext Context { get; } \n\n    int SaveChanges();\n}\n\npublic class UnitOfWork : IUnitOfWork&lt;YourDbContext&gt;\n{\n    private YourDbContext _context = null;\n    TDbContext IUnitOfWork&lt;YourDbContext&gt;.Context\n    {\n        get { return _context ?? (_context = new YourDbContext(\"YourConnectionString\"); }\n    }\n\n    int IUnitOfWork&lt;YourDbContext&gt;.SaveChanges()\n    {\n        if(_context == null)\n            return 0;\n       return _context.SaveChanges();\n    }\n\n    public void Dispose()\n    { \n        try\n        {\n           if (_context != null)\n              _context.Dispose();\n        }\n        catch (ObjectDisposedException)\n        { }\n    }\n}\n</code></pre>\n\n<p>With this class available, and using dependency injection via an IoC container (Autofac, Unity, or MVC Core) you register the unit of work as Instance per Request so that when the controller and repository classes request one in their constructor, they receive the same instance.</p>\n\n<p>Controller / Service:</p>\n\n<pre><code>private readonly IUnitOfWork&lt;YourDbContext&gt; _unitOfWork = null;\nprivate readonly IYourRepository _repository = null;\n\npublic YourService(IUnitOfWork&lt;YourDbContext&gt; unitOfWork, IYourRepository repository)\n{\n   _unitOfWork = unitOfWork ?? throw new ArgumentNullException(\"unitOfWork\");\n   _repository = repository ?? throw new ArgumentNullException(\"repository\");\n}\n</code></pre>\n\n<p>Repository</p>\n\n<pre><code>private readonly IUnitOfWork&lt;YourDbContext&gt; _unitOfWork = null;\n\npublic YourService(IUnitOfWork&lt;YourDbContext&gt; unitOfWork)\n{\n   _unitOfWork = unitOfWork ?? throw new ArgumentNullException(\"unitOfWork\");\n}\n\nprivate YourDbContext Context { get { return _unitOfWork.Context; } }\n</code></pre>\n\n<p>Big Disclaimer: This is a very crude initial implementation to explain roughly how a Unit of Work can operate, it is no way production suitable code. It has limitations, specifically around disposing the DbContext but should serve as a demonstration. Definitely look to implement a library that's already out there and addresses these concerns. These implementations properly manage the DbContext disposal and will manage a scope beyond the context, like a TransactionScope so that their SaveChanges is required even if the unitOfWork.Context.SaveChanges() is called.</p>\n\n<p>With a unit of work available to the Controller/Service and Repository, the code to use the repository and update your changes becomes:</p>\n\n<pre><code>var accounts = myRepo.GetAccountsById(accountId).ToList(); \nforeach (var account in accounts)\n{\n    account.Status=\"INACTIVE\";\n}\n\nUnitOfWork.SaveChanges();\n</code></pre>\n\n<p>With a proper unit of work it will look more like:</p>\n\n<pre><code>using (var unitOfWork = UnitOfWorkFactory.Create())\n{\n    var accounts = myRepo.GetAccountsById(accountId).ToList(); // Where myRepo can resolve the unit of work via locator.\n    foreach (var account in accounts)\n    {\n        account.Status=\"INACTIVE\";\n    }\n\n    unitOfWork.SaveChanges();\n}\n</code></pre>\n\n<p>This way if you were to call different repos to fetch data, perform a number of different updates, the changes would be committed all in one call at the end and rolled back if there was a problem with any of the data.</p>\n"}], "owner": {"reputation": 388, "user_id": 4677422, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/add3cf669bc23bde2c0175062d8d475d?s=128&d=identicon&r=PG&f=1", "display_name": "nmess88", "link": "https://stackoverflow.com/users/4677422/nmess88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2054, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1574372418, "creation_date": 1574292633, "last_edit_date": 1574348414, "question_id": 58964990, "link": "https://stackoverflow.com/questions/58964990/c-net-core-dbcontext-not-returning-data-that-is-in-the-database", "title": "C# .NET Core DbContext not returning data that is in the database", "body": "<p>I have the following code:</p>\n\n<pre><code>public void someMethod(){\n    ...\n\n    var accounts = myRepo.GetAccounts(accountId)?.ToList(); \n\n    ...\n\n    foreach (var account in accounts)\n    {\n        account.Status=\"INACTIVE\";\n        var updatedAccount = myRepo.AddOrUpdateAccounts(account);\n    }\n}\n\npublic Account AddOrUpdateAccounts(Account account){\n    //I want to compare account in the Db and what is passed in. So get the account from DB\n    var accountFromDb = myRepo.GetAccounts(account.Id); //this doesn't return whats in the database.\n\n    //here accountFromDb.Status is returned as INACTIVE, but in the database the column value is ACTIVE\n    ...\n    ...\n}\n\npublic IEnumerable&lt;Account&gt; GetAccounts(int id){\n    return id &lt;= 0 ? null : m_Context.Accounts.Where(x =&gt; x.Id == id);\n}\n\n</code></pre>\n\n<p>Here, inside <code>someMethod()</code> I am calling <code>GetAccounts()</code> that returns data from the Accounts table.</p>\n\n<p>Then I am changing the <code>Status</code> of the account, and calling <code>AddOrUpdateAccounts()</code>.</p>\n\n<p>Inside <code>AddOrUpdateAccounts()</code>, I want to compare the account that was passed in and whats in the database. When I call <code>GetAccounts()</code>, it returned a record with <code>STATUS=\"INACTIVE\"</code>. I haven't done <code>SaveChanges()</code>. Why didn't <code>GetAccounts()</code> returned the data from the database? In the Db the status is still \"ACTIVE\"</p>\n"}, {"tags": ["c#", ".net", "asp.net-core", "caching"], "comments": [{"owner": {"reputation": 4769, "user_id": 688357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3626fc691f53efdb3245996a0509c8?s=128&d=identicon&r=PG&f=1", "display_name": "William Xifaras", "link": "https://stackoverflow.com/users/688357/william-xifaras"}, "edited": false, "score": 0, "creation_date": 1574295287, "post_id": 58964800, "comment_id": 104185674, "body": "Use DateTimeOffset.UtcNow."}, {"owner": {"reputation": 3681, "user_id": 846565, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d4582072bbefba358d3fb459d37b6e19?s=128&d=identicon&r=PG", "display_name": "Ctrl_Alt_Defeat", "link": "https://stackoverflow.com/users/846565/ctrl-alt-defeat"}, "reply_to_user": {"reputation": 4769, "user_id": 688357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3626fc691f53efdb3245996a0509c8?s=128&d=identicon&r=PG&f=1", "display_name": "William Xifaras", "link": "https://stackoverflow.com/users/688357/william-xifaras"}, "edited": false, "score": 0, "creation_date": 1574333198, "post_id": 58964800, "comment_id": 104199631, "body": "@WilliamXifaras - can you give an explanation as to why?"}], "answers": [{"tags": [], "owner": {"reputation": 37059, "user_id": 85597, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/pc3cE.jpg?s=128&g=1", "display_name": "Akash Kava", "link": "https://stackoverflow.com/users/85597/akash-kava"}, "is_accepted": false, "score": 1, "last_activity_date": 1574310195, "creation_date": 1574310195, "answer_id": 58967278, "question_id": 58964800, "link": "https://stackoverflow.com/questions/58964800/distributedcache-expiry-time-based-on-server-location/58967278#58967278", "title": "DistributedCache Expiry time based on server location", "body": "<p>If you use <code>DateTimeOffset.Now</code> or <code>DateTimeOffset.UtcNow</code> both will work, basically non UTC time will be converted to UTC as <code>DateTimeOffset</code> contains UTC Offset.</p>\n\n<p>So it does not matter, Microsoft made it very easy. As it is easy to convert any DateTimeOffet to UTC.</p>\n\n<p>Earlier Users were setting DateTime.Now instead of DateTime.UtcNow and it did create confusion, DateTime.UtcNow was the correct way to do it.</p>\n\n<p><a href=\"https://github.com/dotnet/corefx/blob/master/src/System.Runtime.Caching/src/System/Runtime/Caching/MemoryCacheEntry.cs#L131\" rel=\"nofollow noreferrer\">https://github.com/dotnet/corefx/blob/master/src/System.Runtime.Caching/src/System/Runtime/Caching/MemoryCacheEntry.cs#L131</a></p>\n"}, {"tags": [], "owner": {"reputation": 3681, "user_id": 846565, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d4582072bbefba358d3fb459d37b6e19?s=128&d=identicon&r=PG", "display_name": "Ctrl_Alt_Defeat", "link": "https://stackoverflow.com/users/846565/ctrl-alt-defeat"}, "is_accepted": false, "score": 0, "last_activity_date": 1574349787, "creation_date": 1574349787, "answer_id": 58978266, "question_id": 58964800, "link": "https://stackoverflow.com/questions/58964800/distributedcache-expiry-time-based-on-server-location/58978266#58978266", "title": "DistributedCache Expiry time based on server location", "body": "<p>Ending up rewriting and using the below:</p>\n\n<pre><code>                var options = new DistributedCacheEntryOptions().SetSlidingExpiration(TimeSpan.FromSeconds(300));\n\n                _cache.SetString(cacheKey, \"Foo\", options);\n</code></pre>\n"}], "owner": {"reputation": 3681, "user_id": 846565, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d4582072bbefba358d3fb459d37b6e19?s=128&d=identicon&r=PG", "display_name": "Ctrl_Alt_Defeat", "link": "https://stackoverflow.com/users/846565/ctrl-alt-defeat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574349787, "creation_date": 1574291194, "last_edit_date": 1574291780, "question_id": 58964800, "link": "https://stackoverflow.com/questions/58964800/distributedcache-expiry-time-based-on-server-location", "title": "DistributedCache Expiry time based on server location", "body": "<p>I have an ASP.NET Core 3.0 Application.  In my Startup.cs in configure service I have added the following line:</p>\n\n<pre><code>services.AddDistributedMemoryCache();\n</code></pre>\n\n<p>I am using a Distributed Memory Cache for some lightweight caching.  However I do have a question on the Cache Expiry - this is the code I have for setting \"Foo\" in this case in the cache for 5 mins:</p>\n\n<pre><code>_cache.SetString(cacheKey, \"Foo\", new DistributedCacheEntryOptions() { AbsoluteExpiration = DateTimeOffset.UtcNow.AddMinutes(5) });\n</code></pre>\n\n<p>My question is on the AbsoluteExpiration I am using:</p>\n\n<p>If I have 2 servers in London for example will the Data be held in cache for 5 mins</p>\n\n<p>If I have two servers in Chicago will the data be held in cache for 5 hours 5 mins</p>\n\n<p>If I have a server in London and Chicago will it be 5 mins in one and 5 hours and 5 in the other</p>\n\n<p>*Note - I am assuming the first two requests hit both servers in web farm for simplicity and thus set the cache data in both servers</p>\n\n<p>Should I just be using <code>DateTimeOffset.Now</code> rather than <code>DateTimeOffset.UtcNow</code></p>\n"}, {"tags": ["c#", ".net-core", "microsoft-graph-api", "socketexception", "microsoft-graph-sdks"], "comments": [{"owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "edited": false, "score": 0, "creation_date": 1574358484, "post_id": 58964724, "comment_id": 104214582, "body": "This normally means your using TLS 1.2. Are you setting <code>SslProtocols </code> to something other than <code>Tls12</code> at startup?"}, {"owner": {"reputation": 135, "user_id": 9132526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd72adcfe485dd6b0a01ecff7c7fec95?s=128&d=identicon&r=PG&f=1", "display_name": "Suemayah Eldursi", "link": "https://stackoverflow.com/users/9132526/suemayah-eldursi"}, "reply_to_user": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "edited": false, "score": 0, "creation_date": 1574601362, "post_id": 58964724, "comment_id": 104282223, "body": "Hi @Marc Thanks for responding no I&#39;m not making any changes in startup. I&#39;m not sure what the default is but I thought TLS 1.2 was recommended though  <a href=\"https://microsoftgraph.github.io/msgraph-sdk-design/GraphClientFactory.html\" rel=\"nofollow noreferrer\">microsoftgraph.github.io/msgraph-sdk-design/&hellip;</a>"}], "owner": {"reputation": 135, "user_id": 9132526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd72adcfe485dd6b0a01ecff7c7fec95?s=128&d=identicon&r=PG&f=1", "display_name": "Suemayah Eldursi", "link": "https://stackoverflow.com/users/9132526/suemayah-eldursi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 302, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574559067, "creation_date": 1574290780, "last_edit_date": 1574559067, "question_id": 58964724, "link": "https://stackoverflow.com/questions/58964724/call-to-graph-api-fails-with-inexplicable-logs-and-the-socket-exception-not-gett", "title": "Call to graph api fails with inexplicable logs and the socket exception not getting caught", "body": "<p><strong>Describe the bug</strong>\nWe are getting intermittent failures when calling graph.microsoft.com. The exception isn't very clear and its been very difficult debugging the issue. I haven't actually been able to reproduce it locally. </p>\n\n<p>Our app is a .net core 2.1 app running on Kubernetes. We try to get user memberships with the following code</p>\n\n<pre><code>var memberIds = await graphClient.Me.TransitiveMemberOf.Request(userOptions).GetAsync();\nuserMemberships = memberIds.Select(o =&gt; o.Id).ToList();\n\nwhile (memberIds.NextPageRequest != null)\n{\n     memberIds = await memberIds.NextPageRequest.GetAsync();\n     userMemberships.AddRange(memberIds.Select(o =&gt; o.Id).ToList());\n}\n</code></pre>\n\n<p>Its not clear from the trace where the error actually is but the lines above are the only ones which we call graph so we tried wrapping this in a try catch:</p>\n\n<pre><code>try {\n // get members\n} catch(ServiceException e) {\n  // log something\n}\n</code></pre>\n\n<p>Here is the exception trace:</p>\n\n<pre><code>System.Net.Http.HttpRequestException:\n   at System.Net.Http.ConnectHelper+&lt;EstablishSslConnectionAsyncCore&gt;d__5.MoveNext (System.Net.Http, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Threading.Tasks.ValueTask`1.get_Result (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Net.Http.HttpConnectionPool+&lt;CreateConnectionAsync&gt;d__44.MoveNext (System.Net.Http, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Threading.Tasks.ValueTask`1.get_Result (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Net.Http.HttpConnectionPool+&lt;WaitForCreatedConnectionAsync&gt;d__49.MoveNext (System.Net.Http, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Threading.Tasks.ValueTask`1.get_Result (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Net.Http.HttpConnectionPool+&lt;SendWithRetryAsync&gt;d__39.MoveNext (System.Net.Http, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1+ConfiguredTaskAwaiter.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Net.Http.AuthenticationHelper+&lt;SendWithAuthAsync&gt;d__17.MoveNext (System.Net.Http, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1+ConfiguredTaskAwaiter.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Net.Http.RedirectHandler+&lt;SendAsync&gt;d__4.MoveNext (System.Net.Http, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1+ConfiguredTaskAwaiter.GetResult (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Net.Http.DiagnosticsHandler+&lt;SendAsync&gt;d__2.MoveNext (System.Net.Http, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\nInner exception System.IO.IOException handled at System.Net.Http.ConnectHelper+&lt;EstablishSslConnectionAsyncCore&gt;d__5.MoveNext:\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Net.Security.SslState.StartSendBlob (System.Net.Security, Version=4.1.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\n   at System.Net.Security.SslState.ForceAuthentication (System.Net.Security, Version=4.1.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\n   at System.Net.Security.SslState.ProcessAuthentication (System.Net.Security, Version=4.1.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\n   at System.Net.Security.SslStream.BeginAuthenticateAsClient (System.Net.Security, Version=4.1.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\n   at System.Net.Security.SslStream+&lt;&gt;c.&lt;AuthenticateAsClientAsync&gt;b__47_0 (System.Net.Security, Version=4.1.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\n   at System.Threading.Tasks.TaskFactory`1.FromAsyncImpl (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Threading.Tasks.TaskFactory.FromAsync (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Threading.Tasks.TaskFactory.FromAsync (System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e)\n   at System.Net.Security.SslStream.AuthenticateAsClientAsync (System.Net.Security, Version=4.1.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\n   at System.Net.Http.ConnectHelper+&lt;EstablishSslConnectionAsyncCore&gt;d__5.MoveNext (System.Net.Http, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a)\nInner exception System.Net.Sockets.SocketException handled at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw:\n</code></pre>\n\n<p>The exception message</p>\n\n<pre><code>The SSL connection could not be established, see inner exception. Unable to read data from the transport connection: Connection reset by peer. Connection reset by peer\n</code></pre>\n\n<p><strong>To Reproduce</strong>\nI have not been able to reproduce. I've managed to force a similar exception by blocking graph.microsoft.com on my local machine. This gave me the following:\n<a href=\"https://user-images.githubusercontent.com/15933995/69274383-292bde80-0bd2-11ea-8062-5d9b63162363.png\" rel=\"nofollow noreferrer\">click here for screenshot</a>\nThis error actually was caught in the try catch so I am baffled as to why the other one didn't.</p>\n\n<p><strong>Expected behavior</strong>\nI expected a  ServiceException  with better explanation of the problem and how to resolve it</p>\n\n<p><strong>Package Version</strong>\nMicrosoft.Graph: v1.17.0\nMicrosoft.Graph.Core: v1.18.0</p>\n\n<p><strong>Additional context</strong>\nI've been reading a little and it may be due to socket starvation. Is there any way I can avoid creating a new Graph service instance every time. I can't find much material which tells me if this is possible. I know that you can do that with a httpclient instance and keep reusing it. I can see there is a GraphClientFactory but nothing on how to use it or if you can reuse it.</p>\n\n<p>Please if you could provide insight it would be great. Thanks</p>\n"}, {"tags": ["c#", "angular", "datetime", "datepicker", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 10597645, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Sq-suNiwV_4/AAAAAAAAAAI/AAAAAAAAERg/geZ2wZ5zM-c/photo.jpg?sz=128", "display_name": "Juliette Ruchel", "link": "https://stackoverflow.com/users/10597645/juliette-ruchel"}, "edited": false, "score": 0, "creation_date": 1574299269, "post_id": 58965127, "comment_id": 104186613, "body": "I added the [FromModel] to your suggestion and it worked! Thank you"}], "tags": [], "owner": {"reputation": 31, "user_id": 12383559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33882d358e3a8a0220900d3bcc0fa1e5?s=128&d=identicon&r=PG&f=1", "display_name": "Yazan Ati", "link": "https://stackoverflow.com/users/12383559/yazan-ati"}, "is_accepted": true, "score": 0, "last_activity_date": 1574293678, "creation_date": 1574293678, "answer_id": 58965127, "question_id": 58964717, "link": "https://stackoverflow.com/questions/58964717/angular-datepicker-to-c-datetime/58965127#58965127", "title": "Angular DatePicker to C# Datetime", "body": "<p>Please wrap the start and end dates in your controller in one class...so you will be able to catch the data from the request body...</p>\n\n<pre><code>public class DateRange\n{\n   public DateTime start { get; set;}\n\n   public DateTime end { get; set;}\n\n}\n</code></pre>\n\n<p>.....</p>\n\n<pre><code>[HttpPost(\"File/Modifications\")]\npublic IActionResult GetFileModificationReport(DateRange data){}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 10597645, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Sq-suNiwV_4/AAAAAAAAAAI/AAAAAAAAERg/geZ2wZ5zM-c/photo.jpg?sz=128", "display_name": "Juliette Ruchel", "link": "https://stackoverflow.com/users/10597645/juliette-ruchel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 58965127, "answer_count": 1, "score": 0, "last_activity_date": 1574293678, "creation_date": 1574290726, "question_id": 58964717, "link": "https://stackoverflow.com/questions/58964717/angular-datepicker-to-c-datetime", "title": "Angular DatePicker to C# Datetime", "body": "<p>I'm having trouble sending a request with two dates selected in angular-material date pickers to the server. The network seems to be sending them right however when it gets to the controller their value is DateTime default's value. </p>\n\n<p>Requests Tried:</p>\n\n<pre><code>return this.http.post(endpoint, {\n        StartDate,\n        EndDate\n    },\n      {\n        headers: headers,\n        responseType: 'text'\n      });\n</code></pre>\n\n<pre><code>return this.http.post(endpoint, {\n        start: StartDate,\n        end: EndDate\n    },\n      {\n        headers: headers,\n        responseType: 'text'\n      });\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>[HttpPost(\"File/Modifications\")]\npublic IActionResult GetFileModificationReport([FromBody] DateTime start, [FromBody] DateTime end){}\n</code></pre>\n"}, {"tags": ["c#", "json", "json.net"], "comments": [{"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1574290633, "post_id": 58964653, "comment_id": 104184373, "body": "I think you only posted <i>half</i> the error message?"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1574290858, "post_id": 58964653, "comment_id": 104184464, "body": "You might try cleaning and rebuilding.  See: <a href=\"https://stackoverflow.com/q/58904011/3744182\">Loading dll that contains Newtonsoft assembly with reflection error</a>."}, {"owner": {"reputation": 128, "user_id": 1165921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6728f003b43270028ae07103be35cf92?s=128&d=identicon&r=PG", "display_name": "shobeurself", "link": "https://stackoverflow.com/users/1165921/shobeurself"}, "edited": false, "score": 0, "creation_date": 1574291005, "post_id": 58964653, "comment_id": 104184535, "body": "What does array look like when you debug it?  Does it have anything in it?"}, {"owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "edited": false, "score": 1, "creation_date": 1574291008, "post_id": 58964653, "comment_id": 104184538, "body": "We need some more info here: what error message are you getting, where is it throwing the error"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6353256, "user_type": "registered", "profile_image": "https://graph.facebook.com/590064137838145/picture?type=large", "display_name": "Staffan L&#246;wgren", "link": "https://stackoverflow.com/users/6353256/staffan-l%c3%b6wgren"}, "edited": false, "score": 0, "creation_date": 1574332824, "post_id": 58964742, "comment_id": 104199411, "body": "Thank you so much, this helped out a bunch. I still had the error code but I got it working. Seems like the reference generated with Visual Studio wasn&#39;t working."}], "tags": [], "owner": {"reputation": 7159, "user_id": 1251127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w1M26.jpg?s=128&g=1", "display_name": "ESG", "link": "https://stackoverflow.com/users/1251127/esg"}, "is_accepted": true, "score": 1, "last_activity_date": 1574290861, "creation_date": 1574290861, "answer_id": 58964742, "question_id": 58964653, "link": "https://stackoverflow.com/questions/58964653/c-the-type-initializer-for-newtonsoft-json-serialization-defaultserializationb/58964742#58964742", "title": "C# The type initializer for &#39;Newtonsoft.Json.Serialization.DefaultSerializationBinder&#39;", "body": "<p>Welcome to C#!</p>\n\n<p>My first suggestion would be to avoid <code>dynamic</code> unless you have a good use case for it. In this scenario, I'd create a class to match your data</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class Data\n{\n    public double X { get; set; }\n    public double Y { get; set; }\n    public string Code { get; set; }\n}\n</code></pre>\n\n<p>Then use the generic version of <code>DeserializeObject</code> to type your deserialization, such as </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var array = JsonConvert.DeserializeObject&lt;List&lt;Data&gt;&gt;(postals);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6353256, "user_type": "registered", "profile_image": "https://graph.facebook.com/590064137838145/picture?type=large", "display_name": "Staffan L&#246;wgren", "link": "https://stackoverflow.com/users/6353256/staffan-l%c3%b6wgren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 804, "favorite_count": 0, "closed_date": 1574292795, "accepted_answer_id": 58964742, "answer_count": 1, "score": 0, "last_activity_date": 1574333289, "creation_date": 1574290369, "last_edit_date": 1574333289, "question_id": 58964653, "link": "https://stackoverflow.com/questions/58964653/c-the-type-initializer-for-newtonsoft-json-serialization-defaultserializationb", "closed_reason": "Not suitable for this site", "title": "C# The type initializer for &#39;Newtonsoft.Json.Serialization.DefaultSerializationBinder&#39;", "body": "<p>What I'm trying to do is convert a JSON file into arrays that I can utilize later on in the C# script but for some reason, I can't get it to work. Either the JSON lib doesn't want to load or when I do get it to load I get these errors, no matter how simple the JSON file is. </p>\n\n<p>The worst part is that I've got this to work in another script but for some reason, it refuses to work <em>here</em>. I've gone through the old one trying to figure out what I'm missing but I can't find it.</p>\n\n<p>So instead of trying to just read a simple JSON file I'll give you the full thing I need to do and hopefully someone can help me out in here.</p>\n\n<p>Code:</p>\n\n<pre><code>public List&lt;string&gt; PostalCodes = new List&lt;string&gt;();\n\npublic Client()\n{\n    try\n    {\n        string postals = LoadResourceFile(GetCurrentResourceName(), \"new-postals.json\");\n        Debug.WriteLine(postals); // Outputs properly, actually can see the stuff\n\n        dynamic array = JsonConvert.DeserializeObject(postals); //Newtonsoft.Json\n        Debug.WriteLine(array[0]); // Not working at all.\n    }\n    catch (Exception e)\n    {\n        Debug.WriteLine($\"^3[DEBUG] ^0Error info: {e.Message.ToString()}\\r\\n\\r\\n\");\n        throw;\n    }\n}\n</code></pre>\n\n<p>JSON File:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        \"x\":2325.4345703125,\n        \"y\":5147.21484375,\n        \"code\":\"2000\"\n    },\n    {\n        \"x\":2151.2138671875,\n        \"y\":5166.0888671875,\n        \"code\":\"2001\"\n    },\n    // And so on.\n]\n</code></pre>\n\n<p>If you wonder what <code>LoadResourceFile</code> it's loading and reading the file for me in one line of code.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>First, let me start by apologizing. As I'm still new to this I didn't include the whole error message as the rest that was given to me didn't look like it was useful.</p>\n\n<pre><code>[DEBUG] ^0Error info: The type initializer for 'Newtonsoft.Json.Serialization.DefaultSerializationBinder' threw an exception.\nMainThrd/ Failed to instantiate instance of script Client: System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. ---&gt; System.TypeInitializationException: The type initializer for 'Newtonsoft.Json.Serialization.DefaultSerializationBinder' threw an exception. ---&gt; System.MethodAccessException: Error verifying Newtonsoft.Json.Serialization.DefaultSerializationBinder:.ctor (): Method System.Runtime.Serialization.SerializationBinder:.ctor () is not accessible at 0x0001\nMainThrd/   at Newtonsoft.Json.Serialization.DefaultSerializationBinder..cctor () [0x00000] in &lt;836484b0267d488c8d30f28b57efebd9&gt;:0 \nMainThrd/    --- End of inner exception stack trace ---\nMainThrd/   at Newtonsoft.Json.JsonSerializer.Create () [0x00000] in &lt;836484b0267d488c8d30f28b57efebd9&gt;:0 \nMainThrd/   at Newtonsoft.Json.JsonSerializer.Create (Newtonsoft.Json.JsonSerializerSettings settings) [0x00000] in &lt;836484b0267d488c8d30f28b57efebd9&gt;:0 \nMainThrd/   at Newtonsoft.Json.JsonSerializer.CreateDefault () [0x00011] in &lt;836484b0267d488c8d30f28b57efebd9&gt;:0 \nMainThrd/   at Newtonsoft.Json.JsonSerializer.CreateDefault (Newtonsoft.Json.JsonSerializerSettings settings) [0x00000] in &lt;836484b0267d488c8d30f28b57efebd9&gt;:0 \nMainThrd/   at Newtonsoft.Json.JsonConvert.DeserializeObject (System.String value, System.Type type, Newtonsoft.Json.JsonSerializerSettings settings) [0x0000b] in &lt;836484b0267d488c8d30f28b57efebd9&gt;:0 \nMainThrd/   at Newtonsoft.Json.JsonConvert.DeserializeObject[T] (System.String value, Newtonsoft.Json.JsonSerializerSettings settings) [0x00000] in &lt;836484b0267d488c8d30f28b57efebd9&gt;:0 \nMainThrd/   at Newtonsoft.Json.JsonConvert.DeserializeObject[T] (System.String value) [0x00000] in &lt;836484b0267d488c8d30f28b57efebd9&gt;:0 \nMainThrd/   at Client..ctor () [0x00071] in &lt;7b9b05cb23034b40bf8a5d2ade61e392&gt;:0 \nMainThrd/   at (wrapper managed-to-native) System.Reflection.MonoCMethod:InternalInvoke (System.Reflection.MonoCMethod,object,object[],System.Exception&amp;)\nMainThrd/   at System.Reflection.MonoCMethod.InternalInvoke (System.Object obj, System.Object[] parameters) [0x00002] in &lt;74fbbe963b7e417b8d715b858c5c584f&gt;:0 \nMainThrd/    --- End of inner exception stack trace ---\nMainThrd/   at System.Reflection.MonoCMethod.InternalInvoke (System.Object obj, System.Object[] parameters) [0x00014] in &lt;74fbbe963b7e417b8d715b858c5c584f&gt;:0 \nMainThrd/   at System.RuntimeType.CreateInstanceMono (System.Boolean nonPublic) [0x000a8] in &lt;74fbbe963b7e417b8d715b858c5c584f&gt;:0 \nMainThrd/   at System.RuntimeType.CreateInstanceSlow (System.Boolean publicOnly, System.Boolean skipCheckThis, System.Boolean fillCache, System.Threading.StackCrawlMark&amp; stackMark) [0x00009] in &lt;74fbbe963b7e417b8d715b858c5c584f&gt;:0 \nMainThrd/   at System.RuntimeType.CreateInstanceDefaultCtor (System.Boolean publicOnly, System.Boolean skipCheckThis, System.Boolean fillCache, System.Threading.StackCrawlMark&amp; stackMark) [0x00027] in &lt;74fbbe963b7e417b8d715b858c5c584f&gt;:0 \nMainThrd/   at System.Activator.CreateInstance (System.Type type, System.Boolean nonPublic) [0x00020] in &lt;74fbbe963b7e417b8d715b858c5c584f&gt;:0 \nMainThrd/   at System.Activator.CreateInstance (System.Type type) [0x00000] in &lt;74fbbe963b7e417b8d715b858c5c584f&gt;:0 \nMainThrd/   at CitizenFX.Core.InternalManager.CreateAssemblyInternal (System.String assemblyFile, System.Byte[] assemblyData, System.Byte[] symbolData) [0x000b1] in C:\\gl\\builds\\edf06b9b\\0\\cfx\\fivem\\code\\client\\clrcore\\InternalManager.cs:134 \n</code></pre>\n\n<p>I did, however, get it to work with the answer below and changing the project reference. I did try the code first but it didn't resolve anything, I read a bit more about the problem and I decided to change the project reference after and just gave it a test run. It works perfectly now. Thank you all so much for all the help. Greatly appreciated!</p>\n\n<p>Project Reference (CSPROJ)</p>\n\n<pre><code>// FROM\n&lt;Reference Include=\"Newtonsoft.Json, Version=12.0.0.0, Culture=neutral, PublicKeyToken=30ad4fe6b2a6aeed, processorArchitecture=MSIL\"&gt;\n  &lt;HintPath&gt;..\\packages\\Newtonsoft.Json.12.0.1\\lib\\net45\\Newtonsoft.Json.dll&lt;/HintPath&gt;\n&lt;/Reference&gt;\n\n// TO\n&lt;PackageReference Include=\"Newtonsoft.Json\" Version=\"12.0.0\" ExcludeAssets=\"Compile\" GeneratePathProperty=\"true\" /&gt;\n&lt;Reference Include=\"Newtonsoft.Json\"&gt;\n  &lt;HintPath&gt;..\\packages\\Newtonsoft.Json.12.0.1\\lib\\portable-net40+sl5+win8+wp8+wpa81\\Newtonsoft.Json.dll&lt;/HintPath&gt;\n&lt;/Reference&gt;\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "entity-framework", "linq", "ef-core-3.0"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7844079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1ff3ee13f4a0b656b935d3c082a7309?s=128&d=identicon&r=PG&f=1", "display_name": "J Nguyen", "link": "https://stackoverflow.com/users/7844079/j-nguyen"}, "edited": false, "score": 0, "creation_date": 1574296815, "post_id": 58965176, "comment_id": 104186063, "body": "Thank Yazan, yes you are correct. it work. But I wonder why it relate to that table MessageKeyTag. I query the Offer table and it has no attribute relate to MessageKeyTag table"}], "tags": [], "owner": {"reputation": 31, "user_id": 12383559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33882d358e3a8a0220900d3bcc0fa1e5?s=128&d=identicon&r=PG&f=1", "display_name": "Yazan Ati", "link": "https://stackoverflow.com/users/12383559/yazan-ati"}, "is_accepted": true, "score": 0, "last_activity_date": 1574294035, "creation_date": 1574294035, "answer_id": 58965176, "question_id": 58964498, "link": "https://stackoverflow.com/questions/58964498/query-data-after-scaffolding-the-existing-database-error-the-navigation-can/58965176#58965176", "title": "Query data after scaffolding the existing database. Error: The navigation &#39;&#39; cannot be added because it targets the keyless entity type", "body": "<p>The problem is that MessageKeyTag table in your database dose <strong><em>not</em></strong> have a primary key. EF assumes every entity has key. Otherwise the table will be treated as a view.</p>\n\n<p>Please add a primary key to your keyless table then regenerate the code...</p>\n"}], "owner": {"reputation": 25, "user_id": 7844079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1ff3ee13f4a0b656b935d3c082a7309?s=128&d=identicon&r=PG&f=1", "display_name": "J Nguyen", "link": "https://stackoverflow.com/users/7844079/j-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 58965176, "answer_count": 1, "score": 0, "last_activity_date": 1574294035, "creation_date": 1574289520, "last_edit_date": 1574290131, "question_id": 58964498, "link": "https://stackoverflow.com/questions/58964498/query-data-after-scaffolding-the-existing-database-error-the-navigation-can", "title": "Query data after scaffolding the existing database. Error: The navigation &#39;&#39; cannot be added because it targets the keyless entity type", "body": "<p>My problem is as describe in the title. I am using EF core to scaffold an existing database. It auto generates all the table class files and <code>DbContext</code> class. Then I try to query the <code>Offer</code> table with <code>Id = 4341</code>. However I always get this error.</p>\n\n<blockquote>\n  <p>The navigation '' cannot be added because it targets the keyless entity type</p>\n</blockquote>\n\n<p>I have seen someone asked this question before but no clear solution has been provided.</p>\n\n<p>This is how I query the database:</p>\n\n<pre><code>using (var context = new Vmob_xbg178_CoreContext())\n{\n    var offer4341 = context.Offer.Where(s =&gt; s.Id == 4341);\n}\n</code></pre>\n\n<p>[<img src=\"https://i.stack.imgur.com/qCWnb.png\" alt=\"Error in DbContext class[1]\"></p>\n"}, {"tags": ["c#", "asp.net-core"], "comments": [{"owner": {"reputation": 189, "user_id": 9643959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da718b6d79b5fc126bf3d3c2cd281e6?s=128&d=identicon&r=PG&f=1", "display_name": "Formula12", "link": "https://stackoverflow.com/users/9643959/formula12"}, "edited": false, "score": 0, "creation_date": 1574289584, "post_id": 58964484, "comment_id": 104184001, "body": "Pay attention to the second line of the debug and last line if I may emphasize"}, {"owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "edited": false, "score": 1, "creation_date": 1574298402, "post_id": 58964484, "comment_id": 104186415, "body": "Your logging shows it redirects to &quot;/api/values/get&quot;. That seems an API endpoint. My best guess is it should be <code>&#47;api&#47;values</code> (<b>without the trailing <code>&#47;get</code></b>).  If this doesn&#39;t work, please show us the controller&amp;action with the attributes."}], "answers": [{"comments": [{"owner": {"reputation": 24913, "user_id": 1300910, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/se92W.jpg?s=128&g=1", "display_name": "huysentruitw", "link": "https://stackoverflow.com/users/1300910/huysentruitw"}, "edited": false, "score": 1, "creation_date": 1574412979, "post_id": 58990531, "comment_id": 104232300, "body": "Is this the answer to your question or an additional finding?"}, {"owner": {"reputation": 189, "user_id": 9643959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da718b6d79b5fc126bf3d3c2cd281e6?s=128&d=identicon&r=PG&f=1", "display_name": "Formula12", "link": "https://stackoverflow.com/users/9643959/formula12"}, "reply_to_user": {"reputation": 24913, "user_id": 1300910, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/se92W.jpg?s=128&g=1", "display_name": "huysentruitw", "link": "https://stackoverflow.com/users/1300910/huysentruitw"}, "edited": false, "score": 0, "creation_date": 1574414311, "post_id": 58990531, "comment_id": 104232960, "body": "This is an additional finding. I actually discovered that the app was authenticating but due to the above mentioned two lines, the application was not responding to the authentication. All I did was just to comment out the two lines."}, {"owner": {"reputation": 6913, "user_id": 573976, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5aa663da4a6107980dbe41a33139fd5f?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/573976/jesper"}, "edited": false, "score": 0, "creation_date": 1574417453, "post_id": 58990531, "comment_id": 104234742, "body": "Maybe <a href=\"https://docs.microsoft.com/en-us/aspnet/core/migration/22-to-30?view=aspnetcore-3.0&amp;tabs=visual-studio#routing-startup-code\" rel=\"nofollow noreferrer\">this information will help</a> - migrating to .NET Core 3.0, including the relative positions of UseEndpointRouting, UseAuthentication and UseAuthorization."}, {"owner": {"reputation": 24913, "user_id": 1300910, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/se92W.jpg?s=128&g=1", "display_name": "huysentruitw", "link": "https://stackoverflow.com/users/1300910/huysentruitw"}, "edited": false, "score": 1, "creation_date": 1574428472, "post_id": 58990531, "comment_id": 104240410, "body": "Yes, I believe the order of the <code>Use</code> calls are important as they dictate the order of the request pipeline."}], "tags": [], "owner": {"reputation": 189, "user_id": 9643959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da718b6d79b5fc126bf3d3c2cd281e6?s=128&d=identicon&r=PG&f=1", "display_name": "Formula12", "link": "https://stackoverflow.com/users/9643959/formula12"}, "is_accepted": true, "score": 0, "last_activity_date": 1574412487, "creation_date": 1574412487, "answer_id": 58990531, "question_id": 58964484, "link": "https://stackoverflow.com/questions/58964484/jwt-token-not-authenticating/58990531#58990531", "title": "JWT token not authenticating", "body": "<p>I have been working around this for a while now and i created the same authentication in a different project this time adding components individually. I discovered that this code inside my <code>Configure</code> method was causing the problem.</p>\n\n<pre><code>app.UseEndpointRouting();\napp.UseEndpoint();\n</code></pre>\n\n<p>But what does this mean?\nWhen commented out, the request passes authentication successfully but when I uncomment it, it redirects me to the <code>AspNetCore.Identity</code> default authentication route which is this <code>http://localhost:49873/Account/Login</code></p>\n"}], "owner": {"reputation": 189, "user_id": 9643959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da718b6d79b5fc126bf3d3c2cd281e6?s=128&d=identicon&r=PG&f=1", "display_name": "Formula12", "link": "https://stackoverflow.com/users/9643959/formula12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 58990531, "answer_count": 1, "score": 0, "last_activity_date": 1574412487, "creation_date": 1574289466, "last_edit_date": 1574339040, "question_id": 58964484, "link": "https://stackoverflow.com/questions/58964484/jwt-token-not-authenticating", "title": "JWT token not authenticating", "body": "<p>I have developed this API and I am trying to add JWT authentication to it.\nI have inherited the AspNetCore UserManager to do all my authentications.\nI register users successfully then i authenticate the registered user. I\nget back the JWT token as expected but when I try accessing a locked resource,\nIt denies access and just returns a 404 (Not found) error message. When I\nchecked my debug session, I saw that it was redirecting to the usual AspNetCore\nMVC web application authentication route and it was not finding it. What could\nbe?\nthis is my <code>startUp.cs</code></p>\n\n<pre><code>namespace ProjectManager.Web.API\n{\n    public class Startup\n    {\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }\n\n        public IConfiguration Configuration { get; }\n\n        // This method gets called by the runtime. Use this method to add services to the container.\n        public void ConfigureServices(IServiceCollection services)\n        {\n            services.Configure&lt;IdentityOptions&gt;(options =&gt;\n            {\n                options.User.AllowedUserNameCharacters = \"abcdefghijklmnopqrstuvwxyz\" +\n                \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n                options.User.RequireUniqueEmail = false;\n\n                options.Password.RequireUppercase = false;\n                options.Password.RequiredUniqueChars = 0;\n                options.Password.RequireNonAlphanumeric = false;\n                options.Password.RequireDigit = false;\n\n                options.Lockout.AllowedForNewUsers = true;\n                options.Lockout.DefaultLockoutTimeSpan = TimeSpan.FromMinutes(60);\n                options.Lockout.MaxFailedAccessAttempts = 4;\n\n                options.SignIn.RequireConfirmedEmail = false;\n                options.SignIn.RequireConfirmedPhoneNumber = false;\n            });\n            services.AddCors();\n\n            // configure strongly typed settings objects\n            var appSettingsSection = Configuration.GetSection(\"AppSettings\");\n            services.Configure&lt;AppSettings&gt;(appSettingsSection);\n\n            // configure jwt authentication\n            var appSettings = appSettingsSection.Get&lt;AppSettings&gt;();\n            var key = Encoding.ASCII.GetBytes(appSettings.Secret);\n            services.AddAuthentication(x =&gt;\n            {\n                x.DefaultAuthenticateScheme = JwtBearerDefaults.AuthenticationScheme;\n                x.DefaultChallengeScheme = JwtBearerDefaults.AuthenticationScheme;\n            })\n            .AddJwtBearer(x =&gt;\n            {\n                x.Events = new JwtBearerEvents\n                {\n                    OnTokenValidated = context =&gt;\n                    {\n                        var userService = context.HttpContext.RequestServices.GetRequiredService&lt;SchoolAuthenticationManager&gt;();\n                        var userId = context.Principal.Identity.Name;\n                        var user = userService.FindByNameAsync(userId);\n                        if (user == null)\n                        {\n                            // return unauthorized if user no longer exists\n                            context.Fail(\"Unauthorized\");\n                        }\n                        return Task.CompletedTask;\n                    }\n                };\n                x.RequireHttpsMetadata = false;\n                x.SaveToken = true;\n                x.TokenValidationParameters = new TokenValidationParameters\n                {\n                    ValidateIssuerSigningKey = true,\n                    IssuerSigningKey = new SymmetricSecurityKey(key),\n                    ValidateIssuer = true,\n                    ValidateAudience = true,\n                    ValidateLifetime = true,\n\n                    ValidIssuer = (string)Configuration.GetSection(\"JwtIssuerOptions\").GetValue(typeof(string), \"Issuer\"),\n                    ValidAudience = (string)Configuration.GetSection(\"JwtIssuerOptions\").GetValue(typeof(string), \"Audience\"),\n                    TokenDecryptionKey = new SymmetricSecurityKey(key),\n                    ClockSkew = TimeSpan.FromMinutes(0),\n                };\n            });\n\n            services.AddIdentity&lt;SchoolUser, IdentityRole&gt;()\n                .AddEntityFrameworkStores&lt;ProjectDbContext&gt;();\n\n        }\n\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n        {\n            app.UseCors(x =&gt; x\n            .AllowAnyHeader()\n            .AllowAnyMethod()\n            .AllowAnyOrigin());\n            app.UseSwagger();\n\n            //{..................}\n\n            app.UseAuthentication();\n            app.UseMvc();\n        }\n    }\n}\n</code></pre>\n\n<p>This is the message I see in the debug session</p>\n\n<pre><code>Microsoft.AspNetCore.Hosting.Internal.WebHost:Information: Request finished in 66.1768ms 302 \nMicrosoft.AspNetCore.Hosting.Internal.WebHost:Information: **Request starting HTTP/1.1 GET http://localhost:49873/Account/Login?ReturnUrl=%2Fapi%2Fvalues%2Fget**  \nMicrosoft.EntityFrameworkCore.Infrastructure:Information: Entity Framework Core 2.2.6-servicing-10079 initialized 'ProjectDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: Non\nThe thread 0x2a2c has exited with code 0 (0x0).\n'iisexpress.exe' (CoreCLR: clrhost): Loaded 'C:\\Program Files\\dotnet\\shared\\Microsoft.NETCore.App\\2.2.6\\System.Xml.ReaderWriter.dll'. Skipped loading symbols. Module is optimized and the debugger option 'Just My Code' is enabled.\nMicrosoft.EntityFrameworkCore.Database.Command:Information: Executed DbCommand (6,238ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']\nSELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[ConcurrencyStamp], [e].[Discriminator], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]\nFROM [AspNetUsers] AS [e]\nWHERE ([e].[Discriminator] = N'SchoolUser') AND ([e].[Id] = @__get_Item_0)\nMicrosoft.EntityFrameworkCore.Database.Command:Information: Executed DbCommand (600ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']\nSELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]\nFROM [AspNetUserClaims] AS [uc]\nWHERE [uc].[UserId] = @__user_Id_0\nMicrosoft.EntityFrameworkCore.Database.Command:Information: Executed DbCommand (175ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']\nSELECT [role].[Name]\nFROM [AspNetUserRoles] AS [userRole]\nINNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]\nWHERE [userRole].[UserId] = @__userId_0\nMicrosoft.AspNetCore.Hosting.Internal.WebHost:Information: **Request finished in 11822.4543ms 404** \n</code></pre>\n\n<p>This is my authencation controller</p>\n\n<pre><code>[Route(\"{api}/{controller}/{action}\")]\n    [ApiController]\n    public class AuthenticationController : ControllerBase\n    {\n        private readonly ProjectAuthenticationManager _authenticationManager; //Inherited from AspNetCore.Identity\n        private readonly ProjectSignInManager _signInManager;//Inherited from AspNetCore.Identity\n        private readonly AppSettings _appSettings;\n        private readonly IMapper _mapper;\n        private readonly ILogger&lt;LoginModel&gt; _logger;\n        private readonly IConfiguration _configuration;\n\n        public AuthenticationController(ProjectAuthenticationManager AuthenticationManager,\n            ProjectSignInManager signInManager,\n            ILogger&lt;LoginModel&gt; logger,\n            IOptions&lt;AppSettings&gt; setting,\n            IConfiguration configuration)\n        {\n            _authenticationManager = AuthenticationManager;\n            _signInManager = signInManager;\n            _logger = logger;\n            _appSettings = setting.Value;\n            _configuration = configuration;\n        }\n\n    [HttpPost]\n        [AllowAnonymous]\n        public async Task&lt;IActionResult&gt; AuthenticateAsync([FromBody]LoginModel loginModel)\n        {\n            ProjectUser user = await _authenticationManager.FindByNameAsync(loginModel.Username);\n            var result = await _signInManager.PasswordSignInAsync(loginModel.Username, loginModel.Password, false, lockoutOnFailure: true);\n            if (result.Succeeded)\n            {\n                _logger.LogInformation(\"User logged in.\");\n                var tokenHandler = new JwtSecurityTokenHandler();\n                var key = Encoding.ASCII.GetBytes(_appSettings.Secret);\n                var tokenDescriptor = new SecurityTokenDescriptor\n                {\n                    Subject = new ClaimsIdentity(new Claim[]\n                    {\n                        new Claim(ClaimTypes.Name, user.Id.ToString())\n                    }),\n                    Expires = DateTime.UtcNow.AddDays(7),\n                    Audience = (string)_configuration.GetSection(\"JwtIssuerOptions\").GetValue(typeof(string), \"Audience\"),\n                    EncryptingCredentials = null,\n                    IssuedAt = DateTime.Now,\n                    Issuer = (string)_configuration.GetSection(\"JwtIssuerOptions\").GetValue(typeof(string), \"Issuer\"),\n                    SigningCredentials = new SigningCredentials(new SymmetricSecurityKey(key), SecurityAlgorithms.HmacSha256Signature)\n                };\n                var token = tokenHandler.CreateJwtSecurityToken(tokenDescriptor);\n                var tokenString = tokenHandler.WriteToken(token);\n\n                // return basic user info (without password) and token to store client side\n                return Ok(new\n                {\n                    Id = user.Id,\n                    Username = user.UserName,\n                    //FirstName = user.FirstName,\n                    //LastName = user.LastName,\n                    Token = tokenString\n                });\n            }\n        }\n\n        [HttpPost]\n        public async Task&lt;IActionResult&gt; Register([FromBody]RegisterModel registerModel)\n        {\n            if (ModelState.IsValid)\n            {\n                var user = new ProjectUser { UserName = registerModel.Username, Email = registerModel.Email };\n                var result = await _authenticationManager.CreateAsync(user, registerModel.Password);\n                if (result.Succeeded)\n                {\n                    _logger.LogInformation(\"User created a new account with password.\");\n\n                    //var code = await _authenticationManager.GenerateEmailConfirmationTokenAsync(user);\n                    //var callbackUrl = Url.Page(\n                    //    \"/Account/ConfirmEmail\",\n                    //    pageHandler: null,\n                    //    values: new { userId = user.Id, code = code },\n                    //    protocol: Request.Scheme);\n\n                    //await _emailSender.SendEmailAsync(registerModel.Email, \"Confirm your email\",\n                    //    $\"Please confirm your account by &lt;a href='{HtmlEncoder.Default.Encode(callbackUrl)}'&gt;clicking here&lt;/a&gt;.\");\n\n                    return Created(\"\", \"User account created successfully.\");\n                }\n            }\n            // If we got this far, something failed.\n            return BadRequest(new string(\"Something bad happened\"));\n        }\n</code></pre>\n\n<p>This is the resource im trying to access</p>\n\n<pre><code>[Route(\"{api}/{controller}/{action}\")]\n    [ApiController]\n    [Authorize]\n    public class ValuesController : ControllerBase\n    {\n        // GET api/values\n        [HttpGet]\n        public ActionResult&lt;IEnumerable&lt;string&gt;&gt; Get()\n        {\n            return new string[] { \"value1\", \"value2\" };\n        }\n\n        // GET api/values/5\n        [HttpGet(\"{id}\")]\n        public ActionResult&lt;string&gt; Get(int id)\n        {\n            return \"value\";\n        }\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1574288479, "post_id": 58964254, "comment_id": 104183626, "body": "You mean summed up, line by line ?"}, {"owner": {"reputation": 631, "user_id": 5615853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/509546125886385/picture?type=large", "display_name": "Daina Hodges", "link": "https://stackoverflow.com/users/5615853/daina-hodges"}, "reply_to_user": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1574288594, "post_id": 58964254, "comment_id": 104183664, "body": "No, I will edit it"}, {"owner": {"reputation": 631, "user_id": 5615853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/509546125886385/picture?type=large", "display_name": "Daina Hodges", "link": "https://stackoverflow.com/users/5615853/daina-hodges"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1574288841, "post_id": 58964254, "comment_id": 104183750, "body": "@RufusL Ok. But please, do not close it after editing I really need help."}, {"owner": {"reputation": 631, "user_id": 5615853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/509546125886385/picture?type=large", "display_name": "Daina Hodges", "link": "https://stackoverflow.com/users/5615853/daina-hodges"}, "edited": false, "score": 0, "creation_date": 1574289151, "post_id": 58964254, "comment_id": 104183852, "body": "Yes, I copied it from my project."}, {"owner": {"reputation": 631, "user_id": 5615853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/509546125886385/picture?type=large", "display_name": "Daina Hodges", "link": "https://stackoverflow.com/users/5615853/daina-hodges"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1574289445, "post_id": 58964254, "comment_id": 104183947, "body": "@RufusL I copied it again. Please,check it. Thank you"}], "answers": [{"tags": [], "owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "is_accepted": false, "score": 1, "last_activity_date": 1574296696, "creation_date": 1574296696, "answer_id": 58965521, "question_id": 58964254, "link": "https://stackoverflow.com/questions/58964254/maximum-sum-path-triangle-and-get-the-numbers-which-were-added-c/58965521#58965521", "title": "Maximum Sum path Triangle and get the numbers which were added C#", "body": "<p>Given the homework nature of the question, I am loathe to solve it outright. Any answer that did so would be doing you and your teacher a disservice.</p>\n\n<p>That said, given that you're aware of the dynamic-programming approach described at <a href=\"https://www.mathblog.dk/project-euler-18/\" rel=\"nofollow noreferrer\">https://www.mathblog.dk/project-euler-18/</a>, I hope it's helpful to provide some insight regarding what your solution should look like, without actually <em>writing</em> the solution for you.</p>\n\n<p>So in particular, let's consider the algorithm described. The essence of the algorithm is that it resolves all of the subproblems at the bottom of your triangle, folding (or \"collapsing\") the result from the bottom row into the next row above.</p>\n\n<p>The key is to note that when this is done, for each value in the next row above that is updated, it's updated by adding one or the other of the values left or right from the row immediately below. If you want to be able to display the path that the maximal solution takes through the triangle, you just need to remember at each row from which direction the new, maximal value was calculated.</p>\n\n<p>This is easily done by introducing a new array with the same dimensions as the original, but where instead of the values from the input, you store in the array some indication as to whether the value was calculated by summing a value from the left or right in the row below (naturally, this array won't need any actual data in the bottom-most row&hellip;you can either just ignore the values there, or you can actually make the array one row smaller than the original data's array).</p>\n\n<p>Then once you complete the algorithm and have reached the top of the numeric array, you'll also have this sort of \"bread-crumbs\" array that tells you how you got there. Starting at the top row, which has only one element, you can look at the bread-crumbs array to recall which element from the next row down was added to that element.</p>\n\n<p>With that information, you now know which element from the second row was used. And the bread-crumbs array tells you which element from the row below <em>that</em> (the third row) was used. And so on.</p>\n\n<p>There are other ways to design your data structure to achieve the same goal. But they will all boil down to the same basic idea: storing somewhere the information of how each sum was calculated, so that you can reproduce that later.</p>\n\n<p>It should not be hard for you to modify the code you have already, to include this additional array and then to use that later to recall the path that was taken.</p>\n\n<p><br/>\nFinally, in the spirit of the dynamic-programming aspect of this, I'll point out that if you build your output string as you go along, you don't even need a multidimensional array. Instead, you just start with an array holding strings, which is as long as the next-to-last row, and where the first string stored in each array element is simply the number that was added to the current element in the next-to-last row.</p>\n\n<p>At each new row, you will replace each string by prepending (i.e. inserting at the beginning) the <em>original</em> number that was in the previous row's location which was used for the current sum. You need to track the original number &ndash; which is easy because you already maintain two copies of the array in your code.</p>\n\n<p>And I'll note that this \"keep just a one-dimensional array\" technique can work for the running totals as well. I.e. the only two-dimensional array you really need is the one that has the original data. At each iteration, you only care about the most recent row, so you just need a one-dimensional array for that row.</p>\n"}, {"comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1574303783, "post_id": 58966388, "comment_id": 104187692, "body": "This is Stack Overflow, not Code Golf. This doesn&#39;t actually answer the question the OP had. They are <i>specifically</i> looking for how to report the path through the tree <i>in the context of the dynamic-programming solution</i>. The brute-force method isn&#39;t practical anyway, because it can&#39;t scale the way the dynamic-programming version does, but even if it did, the brute-force implementation doesn&#39;t do anything to help the OP understand how they can fix <i>their</i> implementation."}, {"owner": {"reputation": 36, "user_id": 12399611, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HYRrPUm0ktM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf9UCaDJBI-Lez4vykP6U5L6coh4w/photo.jpg?sz=128", "display_name": "user1239961", "link": "https://stackoverflow.com/users/12399611/user1239961"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1574345062, "post_id": 58966388, "comment_id": 104206583, "body": "Noted.  I missed the explicit requirement for a particular approach.  Cheers."}], "tags": [], "owner": {"reputation": 36, "user_id": 12399611, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HYRrPUm0ktM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf9UCaDJBI-Lez4vykP6U5L6coh4w/photo.jpg?sz=128", "display_name": "user1239961", "link": "https://stackoverflow.com/users/12399611/user1239961"}, "is_accepted": false, "score": 0, "last_activity_date": 1574303505, "creation_date": 1574303505, "answer_id": 58966388, "question_id": 58964254, "link": "https://stackoverflow.com/questions/58964254/maximum-sum-path-triangle-and-get-the-numbers-which-were-added-c/58966388#58966388", "title": "Maximum Sum path Triangle and get the numbers which were added C#", "body": "<p>A different approach to dynamic programming is to do a <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\">depth first search</a> since the pyramid is a just a tree.  This corresponds to the \"brute force\" technique in the blog @peterduniho referenced.  The basic idea is very simple: you examine each and every path from the root (55) to the leaf nodes (27, 2, etc..).  </p>\n\n<p>I setup scaffolding to get you going.  You might find this representation of the data a little easier to work with since you don't have to think so much about indices and off-by-one errors and you can concentrate more on how to solve the problem.  It also makes using Visual Studio's debugging features easier (you can put a breakpoint in the code and look at descendants and descendants of descendants, etc.. for example)</p>\n\n<p>If you are not familiar with recursion, the key thing to note in the code is that <code>DepthFirstSearch</code> calls itself.  </p>\n\n<p>(I think dynamic programming is the better way to solve this problem but I am just posting this as an alternative)</p>\n\n<pre><code>    public void Solve()\n    {\n        string input = \n                                @\"55\n                                94 48\n                               95 30 96\n                             77 71 26 67\n                            97 13 76 38 45\n                          07 36 79 16 37 68\n                         48 07 09 18 70 26 06\n                       18 72 79 46 59 79 29 90\n                      20 76 87 11 32 07 07 49 18\n                    27 83 58 35 71 11 25 57 29 85\n                   14 64 36 96 27 11 58 56 92 18 55\n                 02 90 03 60 48 49 41 46 33 36 47 23\n                92 50 48 02 36 59 42 79 72 20 82 77 42\n              56 78 38 80 39 75 02 71 66 66 01 03 55 72\n             44 25 67 84 71 67 11 61 40 57 58 89 40 56 36\n           85 32 25 85 57 48 84 35 47 62 17 01 01 99 89 52\n          06 71 28 75 94 48 37 10 23 51 06 48 53 18 74 98 15\n        27 02 92 23 08 71 76 84 15 52 92 63 81 10 44 10 69 93\";\n\n        var tree = input.Split('\\n')\n            .Select(line =&gt; line.Trim()\n                .Split(' ')\n                .Select(s =&gt; new Node(int.Parse(s.Trim())))\n                .ToArray())\n            .ToArray();\n\n        for (var i = 0; i &lt; tree.Length-1; i++)\n        {\n            for (var j = 0; j &lt; tree[i].Length; j++)\n            {\n                tree[i][j].Descendants.Add(tree[i + 1][j]);\n                tree[i][j].Descendants.Add(tree[i + 1][j+1]);\n            }\n        }\n        var root = tree[0][0];\n        int maxSum = 0;\n        DepthFirstSearch(tree[0][0],  ImmutableList&lt;Node&gt;.Empty.Add(root), 0, ref maxSum);\n    }\n\n\n    private void DepthFirstSearch(Node root, ImmutableList&lt;Node&gt; path, int runningSum, ref int maxSum)\n    {\n        CheckBaseCase(root, path, ref maxSum);\n        foreach(var node in root.Descendants)\n        {\n            runningSum += node.Value;\n            DepthFirstSearch(node, path.Add(node), runningSum, ref maxSum);\n        }\n    }\n\n    private void CheckBaseCase(Node root, ImmutableList&lt;Node&gt; path, ref int maxSum)\n    {\n        // Fill me in!\n    }\n\n   [DebuggerDisplay(\"Value = {Value}, DescendantCount={Descendants.Count}\")]\n   class Node\n   {\n       public Node(int value)\n       {\n           Value = value;\n       }\n       public int Value{ get; }\n       public List&lt;Node&gt; Descendants { get; } = new List&lt;Node&gt;();\n   }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 631, "user_id": 5615853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/509546125886385/picture?type=large", "display_name": "Daina Hodges", "link": "https://stackoverflow.com/users/5615853/daina-hodges"}, "edited": false, "score": 0, "creation_date": 1574345402, "post_id": 58976772, "comment_id": 104206782, "body": "No. I have the original numbers in list2 object but I cannot get the correct path."}, {"owner": {"reputation": 36, "user_id": 12399611, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HYRrPUm0ktM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf9UCaDJBI-Lez4vykP6U5L6coh4w/photo.jpg?sz=128", "display_name": "user1239961", "link": "https://stackoverflow.com/users/12399611/user1239961"}, "reply_to_user": {"reputation": 631, "user_id": 5615853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/509546125886385/picture?type=large", "display_name": "Daina Hodges", "link": "https://stackoverflow.com/users/5615853/daina-hodges"}, "edited": false, "score": 0, "creation_date": 1574346522, "post_id": 58976772, "comment_id": 104207599, "body": "Are you required to build the path as you go along or can you build it up after you complete the nested loops?  If you do not need to build the path as you go along, then you can use both lists to find the path.  Start at <code>list[0,0]</code>.  Where do you go form there? <code>list[1,0]</code> since that value is bigger (1265 vs. 1130).  Note the index and pull the value out of <code>list2</code> which has the original values.  From 1265 where you go?  1171.  Again, use this index to find the value in <code>list1</code>.  Keep doing this until you get the the bottom and you will have your path."}], "tags": [], "owner": {"reputation": 36, "user_id": 12399611, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HYRrPUm0ktM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf9UCaDJBI-Lez4vykP6U5L6coh4w/photo.jpg?sz=128", "display_name": "user1239961", "link": "https://stackoverflow.com/users/12399611/user1239961"}, "is_accepted": true, "score": 1, "last_activity_date": 1574345010, "creation_date": 1574345010, "answer_id": 58976772, "question_id": 58964254, "link": "https://stackoverflow.com/questions/58964254/maximum-sum-path-triangle-and-get-the-numbers-which-were-added-c/58976772#58976772", "title": "Maximum Sum path Triangle and get the numbers which were added C#", "body": "<p>\"...but I cannot find a way to find all the number that were summed up\"</p>\n\n<p>You are <em>so</em> close.  You maintain all the information you need to be able to construct the path through the pyramid.  <code>list</code> looks like this after the nested for loops.  Can you think of a simple way to traverse <code>list</code> to find the path?</p>\n\n<pre><code>1320 \n1265 1130 \n1171 1061 1082 \n1076 1031 986  925  \n999  903  960  813  858  \n902  890  884  754  775  813  \n895  854  805  682  738  694  745  \n793  847  796  664  644  668  660  739  \n719  775  717  618  585  543  589  631  649  \n643  699  630  607  553  522  536  582  554  631  \n566  616  512  572  482  466  511  509  525  509  546  \n489  552  465  476  454  455  448  453  433  384  491  467  \n487  445  462  416  383  406  364  407  400  348  342  444  426  \n348  395  372  414  332  347  253  322  328  328  225  260  367  384  \n292  220  317  334  293  272  216  251  245  262  204  224  257  312  292  \n248  195  145  250  222  172  205  129  190  205  146  135  135  217  256  219  \n33   163  120  98   165  124  121  94   75   143  98   129  134  62   118  167  108  \n27   2    92   23   8    71   76   84   15   52   92   63   81   10   44   10   69   93   \n</code></pre>\n"}], "owner": {"reputation": 631, "user_id": 5615853, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/509546125886385/picture?type=large", "display_name": "Daina Hodges", "link": "https://stackoverflow.com/users/5615853/daina-hodges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 58976772, "answer_count": 3, "score": 0, "last_activity_date": 1574345010, "creation_date": 1574288309, "last_edit_date": 1574289400, "question_id": 58964254, "link": "https://stackoverflow.com/questions/58964254/maximum-sum-path-triangle-and-get-the-numbers-which-were-added-c", "title": "Maximum Sum path Triangle and get the numbers which were added C#", "body": "<p>I'm trying to get the maximum Sum from Top to Bottom of the Triangle\nInput should be like this</p>\n\n<pre><code>                      5\n                    94 48\n                   95 30 96\n                 77 71 26 67\n                97 13 76 38 45\n              07 36 79 16 37 68\n             48 07 09 18 70 26 06\n           18 72 79 46 59 79 29 90\n          20 76 87 11 32 07 07 49 18\n         27 83 58 35 71 11 25 57 29 85\n        14 64 36 96 27 11 58 56 92 18 55\n       02 90 03 60 48 49 41 46 33 36 47 23\n      92 50 48 02 36 59 42 79 72 20 82 77 42\n     56 78 38 80 39 75 02 71 66 66 01 03 55 72\n    44 25 67 84 71 67 11 61 40 57 58 89 40 56 36\n   85 32 25 85 57 48 84 35 47 62 17 01 01 99 89 52\n  06 71 28 75 94 48 37 10 23 51 06 48 53 18 74 98 15\n27 02 92 23 08 71 76 84 15 52 92 63 81 10 44 10 69 93\n</code></pre>\n\n<p>Output should be:</p>\n\n<pre><code>Maximum total: 1320\nPath (for example) : 55 - 48 -30 - etc\n</code></pre>\n\n<p>The path should be the number which I added together to get the result 1320. \n am able to find the SUM (1320) but I cannot find a way to find all the number that were summed up. My code returns all numbers not only those were summed up.</p>\n\n<pre><code>static void Sum()\n    {\n        int[,] list = new int[18, 19];\n        int[,] list2 = new int[18, 19];\n\n        string input = @\"55\n                        94 48\n                       95 30 96\n                     77 71 26 67\n                    97 13 76 38 45\n                  07 36 79 16 37 68\n                 48 07 09 18 70 26 06\n               18 72 79 46 59 79 29 90\n              20 76 87 11 32 07 07 49 18\n            27 83 58 35 71 11 25 57 29 85\n           14 64 36 96 27 11 58 56 92 18 55\n         02 90 03 60 48 49 41 46 33 36 47 23\n        92 50 48 02 36 59 42 79 72 20 82 77 42\n      56 78 38 80 39 75 02 71 66 66 01 03 55 72\n     44 25 67 84 71 67 11 61 40 57 58 89 40 56 36\n   85 32 25 85 57 48 84 35 47 62 17 01 01 99 89 52\n  06 71 28 75 94 48 37 10 23 51 06 48 53 18 74 98 15\n27 02 92 23 08 71 76 84 15 52 92 63 81 10 44 10 69 93\";\n        var charArray = input.Split('\\n');\n\n        for (int i = 0; i &lt; charArray.Length; i++)\n        {\n            var numArr = charArray[i].Trim().Split(' ');\n\n            for (int j = 0; j &lt; numArr.Length; j++)\n            {\n                int number = Convert.ToInt32(numArr[j]);\n                list[i, j] = number;\n                list2[i, j] = number;\n            }\n        }\n\n        StringBuilder path = new StringBuilder();\n        for (int i = 16; i &gt;= 0; i--)\n        {\n            for (int j = 0; j &lt; 18; j++)\n            {\n                //list[i, j] = Math.Max(list[i, j] + list[i + 1, j], list[i, j] + list[i + 1, j + 1]);\n                if (list[i, j] + list[i + 1, j] &gt; list[i, j] + list[i + 1, j + 1])\n                {\n                    if (list2[i, j] &gt; 0)\n                        path.Append(list2[i, j] + \" - \");\n                    if (list2[i+1, j] &gt;0)\n                        path.Append(list2[i+1, j] + \" - \");\n\n                    list[i, j] = list[i, j] + list[i + 1, j];\n                }\n                else\n                {\n                    //path.Append(list2[i, j] + \" - \" + list2[i + 1, j + 1]+ \" - \");\n                    if (list2[i, j] &gt; 0)\n                        path.Append(list2[i, j] + \" - \");\n                    if (list2[i + 1, j] &gt; 0)\n                        path.Append(list2[i + 1, j] + \" - \");\n\n                    list[i, j] = list[i, j] + list[i + 1, j + 1];\n                }\n            }\n        }\n\n        Console.WriteLine(string.Format(\"Maximum total: {0} \\n Path {1}\", list[0, 0], path));\n</code></pre>\n\n<p>I have been trying for 4 days to solve it for 4 day but I failed, I appreciate your help. Thank you</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1574288227, "post_id": 58964218, "comment_id": 104183539, "body": "Shouldn&#39;t a fruit basket return ... fruits?"}, {"owner": {"reputation": 11, "user_id": 10811999, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QbH6H_nX3RA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hPFqc8tCetQ0EtEiiPNT8PoI6Dbg/mo/photo.jpg?sz=128", "display_name": "plee", "link": "https://stackoverflow.com/users/10811999/plee"}, "reply_to_user": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1574288603, "post_id": 58964218, "comment_id": 104183667, "body": "Yeah - probably not the best example..."}, {"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 1, "creation_date": 1574288668, "post_id": 58964218, "comment_id": 104183693, "body": "You should explain a practical issue you&#39;re having, instead."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1574296077, "post_id": 58964218, "comment_id": 104185875, "body": "Ability to evaluate if answers actually answer the question depends on what you expect from <code>var fruits</code> - it is generally <i>hard</i> to declare variable of type only known at compile time - so depending on what you hope to achieve existing answers my or may not help... (&quot;hard&quot; as in &quot;<code>object</code>/<code>dynamic</code> is your only option and you don&#39;t get any type safety&quot;)"}], "answers": [{"tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": false, "score": 1, "last_activity_date": 1574289141, "creation_date": 1574289141, "answer_id": 58964411, "question_id": 58964218, "link": "https://stackoverflow.com/questions/58964218/using-an-input-class-as-a-method-output/58964411#58964411", "title": "Using an input class as a method output", "body": "<p>I'm guessing <code>Banana</code> and <code>Orange</code> are subclasses of <code>Fruit</code>. So are you looking for something like this:</p>\n\n<pre><code>public class FruitBasket\n{\n    public Fruit CurrentFruit { get; set; }\n\n    public FruitBasket(Fruit fruit)\n    {\n        CurrentFruit = fruit;\n    }\n\n    public List&lt;Fruit&gt; GetFruits(connection)\n    {\n        var fruitType = CurrentFruit.GetType();\n\n        if (fruitType == typeof(Banana))\n        {\n            var bananas = connection.Query&lt;Banana&gt;(\"Select * from Bananas\");\n            return bananas;\n        }\n        else if (fruitType == typeof(Orange))\n        {\n            var oranges = connection.Query&lt;Orange&gt;(\"Select * from Oranges\");\n            return oranges;\n        }\n    }\n}\n\npublic class Fruit { }\n\npublic class Orange : Fruit { }\n\npublic class Banana : Fruit { }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 390, "user_id": 10542513, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KI47DMswagM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX8Jyi86l0cgUSnVVBJs9q9MU5aEA/mo/photo.jpg?sz=128", "display_name": "Brian says Reinstate Monica", "link": "https://stackoverflow.com/users/10542513/brian-says-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1574290545, "creation_date": 1574290545, "answer_id": 58964683, "question_id": 58964218, "link": "https://stackoverflow.com/questions/58964218/using-an-input-class-as-a-method-output/58964683#58964683", "title": "Using an input class as a method output", "body": "<p>To accomplish your specific, literal request, I would approach this not with <code>dynamic</code>, but with an <code>IFruit</code> interface containing a <code>GetFruits</code> method. Make your repository/list class accept a generic that must support that interface. Then it's just a matter of <code>new MyRepoList&lt;Banana&gt;</code>. I would abandon <code>dynamic</code> entirely as soon as possible - in my experience the short-term benefits never outweigh the long-term problems.</p>\n\n<p>Generally - it sounds like you're working on a generic, simple repository. A general limitation of this approach (one entity per repository) is that at some point you're going to want to update multiple entities in one transaction. I would strongly encourage you to design your repositories around the units of work that your application actually performs, rather than trying to simplify/generalize how your entities are stored. It's far too easy to make your business logic awkward/difficult because you create the repositories first.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 12383559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33882d358e3a8a0220900d3bcc0fa1e5?s=128&d=identicon&r=PG&f=1", "display_name": "Yazan Ati", "link": "https://stackoverflow.com/users/12383559/yazan-ati"}, "is_accepted": false, "score": 0, "last_activity_date": 1574290765, "creation_date": 1574290765, "answer_id": 58964723, "question_id": 58964218, "link": "https://stackoverflow.com/questions/58964218/using-an-input-class-as-a-method-output/58964723#58964723", "title": "Using an input class as a method output", "body": "<p>Here is how <code>GetFruits</code> should look like</p>\n\n<pre><code>public List&lt;Fruit&gt; GetFruits(connection)\n{\n\n    if (FruitBasket.CurrentFruit is Banana))\n    {\n        var bananas = connection.Query&lt;Banana&gt;(\"Select * from Bananas\");\n        return bananas;\n    }\n    else if (FruitBasket.CurrentFruit is Orange)\n    {\n        var oranges = connection.Query&lt;Orange&gt;(\"Select * from Oranges\");\n        return oranges;\n    }\n\n    //You may replace this exception by returning null or an empty list\n    throw new Exception(\"Not supported fruit type\");\n}\n</code></pre>\n\n<p>Another solution would be instead of using dynamic you may use fruite as a base class (or abstract class) for both orange and banana</p>\n"}, {"tags": [], "owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "is_accepted": false, "score": 0, "last_activity_date": 1574291692, "creation_date": 1574291692, "answer_id": 58964856, "question_id": 58964218, "link": "https://stackoverflow.com/questions/58964218/using-an-input-class-as-a-method-output/58964856#58964856", "title": "Using an input class as a method output", "body": "<p>You can either make the class generic or you can make the method generic. Either way, you need a base class for your different fruits:</p>\n\n<pre><code>public class Fruit { }\n\npublic class Orange : Fruit { }\n\npublic class Banana : Fruit { }\n</code></pre>\n\n<p>Generic class approach:</p>\n\n<pre><code>public class FruitBasket&lt;T&gt; Where T : Fruit  // FruitBasket of something where something must be a fruit \n{\n    public List&lt;T&gt; GetFruits(connection)\n    {\n        var fruitType = typeof(T);\n\n        if (fruitType == typeof(Banana))\n            return connection.Query&lt;Banana&gt;(\"Select * from Bananas\");\n        else if (fruitType == typeof(Orange))\n            return connection.Query&lt;Orange&gt;(\"Select * from Oranges\");\n    }\n}\n\nvar orangeBasket = new FruitBasket&lt;Orange&gt;();\nvar oranges = orangeBasket.GetFruits(connection);\n\nvar bananaBasket = new FruitBasket&lt;Banana&gt;();\nvar bananas = bananaBasket.GetFruits(connection);\n</code></pre>\n\n<p>Generic method approach:</p>\n\n<pre><code>public class FruitBasket\n{\n    public List&lt;T&gt; GetFruits&lt;T&gt;(connection Where T : Fruit  // Get list of something where something must be a fruit \n    {\n        var fruitType = typeof(T);\n\n        if (fruitType == typeof(Banana))\n            return connection.Query&lt;Banana&gt;(\"Select * from Bananas\");\n        else if (fruitType == typeof(Orange))\n            return connection.Query&lt;Orange&gt;(\"Select * from Oranges\");\n    }\n}\n\nvar fruitBasket= new FruitBasket();\nvar oranges = fruitBasket.GetFruits&lt;Orange&gt;(connection);\nvar bananas = fruitBasket.GetFruits&lt;Banana&gt;(connection);\n</code></pre>\n\n<p>Which approach you choose depends on your use case. \nCan a fruit basket only contain one type of fruit? => generic class\nCan a fruit basket contain multiple types of fruit? => generic method</p>\n"}], "owner": {"reputation": 11, "user_id": 10811999, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QbH6H_nX3RA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hPFqc8tCetQ0EtEiiPNT8PoI6Dbg/mo/photo.jpg?sz=128", "display_name": "plee", "link": "https://stackoverflow.com/users/10811999/plee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1574291692, "creation_date": 1574288121, "last_edit_date": 1574288563, "question_id": 58964218, "link": "https://stackoverflow.com/questions/58964218/using-an-input-class-as-a-method-output", "title": "Using an input class as a method output", "body": "<p>I'm trying to pass in a dynamic model class to a more generic class. Part of the generic class is using dapper querying to a typed List. I'm trying to make this generic class modular in that in can take in any model class and be able to use this model class as an output of the query. </p>\n\n<p>Am I even approaching this problem in the right way? </p>\n\n<p>So in the example below, I'd like for the <code>GetFruits</code> method to be dynamic in that it would return <code>List&lt;Bananas&gt;</code> if <code>Bananas</code> is passed in or <code>List&lt;Orange&gt;</code> if <code>Oranges</code> is passed in</p>\n\n<pre><code>class FruitBasket\n{\n    public FruitBasket(dynamic ModelClass)\n    {\n\n    }\n\n    public List&lt;Orange&gt; GetFruits(connection)\n    {\n        List&lt;Orange&gt; oranges = connection.Query&lt;Orange&gt;(\"Select * from Oranges\"); \n        return oranges\n    }\n}\n\n//Passes in Oranges model class\nvar fruits = new FruitBasket(new Oranges())\n\n//Passes in Bananas model class\nvar fruits = new FruitBasket(new Bananas ())\n</code></pre>\n"}, {"tags": ["c#", ".net", "clr"], "comments": [{"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1574287857, "post_id": 58964102, "comment_id": 104183414, "body": "That it has to be blittable as well ?"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 1, "creation_date": 1574288019, "post_id": 58964102, "comment_id": 104183466, "body": "<a href=\"https://softwareengineering.stackexchange.com/q/139747/117476\">softwareengineering.stackexchange.com/q/139747/117476</a>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1574290258, "post_id": 58964102, "comment_id": 104184234, "body": "It is a bit arbitrary, neither the CLI nor the C# spec defines the concept.  But in general they are types that the processor knows about, if you use them then pref is going to fantastic.  Strings, arrays, objects, not fantastic, the processor is clueless about them and has to be steered into doing the right thing with multiple instructions.  And yes, <code>decimal</code> is the odd duck out.  The C# language makes it look like it is primitive but anything you do with it requires a helper call into mscorlib or the CLR.  Slow, not primitive."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1574290390, "post_id": 58964102, "comment_id": 104184279, "body": "Short version: a .NET or C# type is primitive if the designers say it is. See marked duplicate&#39;s second answer for extended discussion on the question."}, {"owner": {"reputation": 23968, "user_id": 442351, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/069558aeae416cb4a81cd65b90f987ec?s=128&d=identicon&r=PG", "display_name": "BanksySan", "link": "https://stackoverflow.com/users/442351/banksysan"}, "reply_to_user": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1574292324, "post_id": 58964102, "comment_id": 104184987, "body": "@Aybe definitely not that because they aren&#39;t all blittable (e.g. <code>Int64</code> isn&#39;t blittable on in a 32-bit environment and isn&#39;t <i>guarenteed</i> blittable in any environment)."}, {"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1574303658, "post_id": 58964102, "comment_id": 104187661, "body": "@BanksySan Good point, thank you!"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1574356044, "post_id": 58964102, "comment_id": 104213370, "body": "<i>&quot;What&#39;s important is that reference types are passed by reference and value types are copied&quot;</i> -- I noticed this statement in your now-deleted comment. Unfortunately, as with the heap/stack trope, your statement is also wrong. All parameters are passed by-value, unless otherwise indicated by <code>ref</code>, <code>out</code>, and <code>in</code>. For reference types, the value <i>is</i> a reference, but the parameter is still passed by-value. ..."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1574356049, "post_id": 58964102, "comment_id": 104213376, "body": "... See e.g. <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/ref#passing-an-argument-by-reference\" rel=\"nofollow noreferrer\"><i>&quot;Do not confuse the concept of passing by reference with the concept of reference types. The two concepts are not the same.&quot;</i></a>"}, {"owner": {"reputation": 23968, "user_id": 442351, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/069558aeae416cb4a81cd65b90f987ec?s=128&d=identicon&r=PG", "display_name": "BanksySan", "link": "https://stackoverflow.com/users/442351/banksysan"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1574374154, "post_id": 58964102, "comment_id": 104221551, "body": "@PeterDuniho Good spot.  Thanks."}], "owner": {"reputation": 23968, "user_id": 442351, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/069558aeae416cb4a81cd65b90f987ec?s=128&d=identicon&r=PG", "display_name": "BanksySan", "link": "https://stackoverflow.com/users/442351/banksysan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "closed_date": 1574290340, "answer_count": 0, "score": 0, "last_activity_date": 1574290327, "creation_date": 1574287568, "question_id": 58964102, "link": "https://stackoverflow.com/questions/58964102/what-makes-a-type-primitive", "closed_reason": "Duplicate", "title": "What makes a type primitive?", "body": "<p>Some types are primitive.  I can see a definition of what types out of the simple types are primitive and which are not from the MSDN documentation.  </p>\n\n<p>What's special about a primitive type other than they're on that list?</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>| Type           | IsPrimitive | IsValueType |\n|----------------|-------------|-------------| \n| System.Boolean | True        | True        |\n| System.Byte    | True        | True        |\n| System.Char    | True        | True        |\n| System.Decimal | False       | True        |\n| System.Double  | True        | True        |\n| System.Single  | True        | True        |\n| System.Int32   | True        | True        |\n| System.Int64   | True        | True        |\n| System.SByte   | True        | True        |\n| System.UInt32  | True        | True        |\n| System.UInt64  | True        | True        |\n| System.UInt16  | True        | True        |\n| System.String  | False       | False       |\n| System.Object  | False       | False       |\n</code></pre>\n\n<ul>\n<li>All primitives are value types.</li>\n<li>Not all simple value types are primitives.</li>\n<li>Not all CTS value types are primitives.</li>\n</ul>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 3, "creation_date": 1574287215, "post_id": 58963988, "comment_id": 104183150, "body": "include your code for moving the thing"}, {"owner": {"reputation": 1737, "user_id": 3657151, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a1eae85cb0bc9cf52b1b8cd64b31ec6?s=128&d=identicon&r=PG&f=1", "display_name": "user14492", "link": "https://stackoverflow.com/users/3657151/user14492"}, "edited": false, "score": 0, "creation_date": 1574342365, "post_id": 58963988, "comment_id": 104204892, "body": "It seems to be doing what you have there. You&#39;re only moving the turrent not the player guessing form the script name."}, {"owner": {"reputation": 1, "user_id": 12406701, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mALvLvcCjszRIGpEHpfLLOCFMBPNqK6u4KOoD0C4g=k-s128", "display_name": "Danitch", "link": "https://stackoverflow.com/users/12406701/danitch"}, "edited": false, "score": 0, "creation_date": 1574455416, "post_id": 58963988, "comment_id": 104253397, "body": "<a href=\"https://i.imgur.com/bkUaveC.png\" rel=\"nofollow noreferrer\">Moving code</a>  This is a code of player, not turret"}, {"owner": {"reputation": 1, "user_id": 12406701, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mALvLvcCjszRIGpEHpfLLOCFMBPNqK6u4KOoD0C4g=k-s128", "display_name": "Danitch", "link": "https://stackoverflow.com/users/12406701/danitch"}, "edited": false, "score": 0, "creation_date": 1574455605, "post_id": 58963988, "comment_id": 104253464, "body": "And rotation code is a code of turret (pTurrMg)"}], "owner": {"reputation": 1, "user_id": 12406701, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mALvLvcCjszRIGpEHpfLLOCFMBPNqK6u4KOoD0C4g=k-s128", "display_name": "Danitch", "link": "https://stackoverflow.com/users/12406701/danitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1574320454, "creation_date": 1574286894, "last_edit_date": 1574320454, "question_id": 58963988, "link": "https://stackoverflow.com/questions/58963988/the-object-attached-to-the-player-does-not-rotate-to-the-mouse-when-the-player-m", "title": "The object attached to the player does not rotate to the mouse when the player moves", "body": "<p>When the player moves, the object attached to it does not rotate to the mouse -\n<a href=\"https://i.stack.imgur.com/KHrEu.gif\" rel=\"nofollow noreferrer\">how it looks.</a></p>\n\n<p>The object is attached in <a href=\"https://i.stack.imgur.com/UwD44.png\" rel=\"nofollow noreferrer\">this way</a>.</p>\n\n<p>Player have the dynamic body type, turret - kinematic</p>\n\n<p>Rotation code:</p>\n\n<pre><code> using System.Collections.Generic;\n using UnityEngine;\n\n public class scrTurrMg : MonoBehaviour\n {\n     public Rigidbody2D rb;\n     public Camera cam;\n\n     Vector2 mousePos;\n\n     void Update()\n     {\n         mousePos = cam.ScreenToWorldPoint(Input.mousePosition);\n\n         Vector2 lookDir = mousePos - rb.position;\n         float angle = Mathf.Atan2(lookDir.y, lookDir.x) * Mathf.Rad2Deg;\n         rb.rotation = angle;\n     }\n\n     void FixedUpdate()\n     {\n\n     }\n }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-3.1", "asp.net-core-tag-helpers", "asp.net-core-viewcomponent"], "answers": [{"tags": [], "owner": {"reputation": 4441, "user_id": 3025856, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/68e9ff807fadeaa41ece5dcf761a03c1?s=128&d=identicon&r=PG", "display_name": "Jeremy Caney", "link": "https://stackoverflow.com/users/3025856/jeremy-caney"}, "is_accepted": false, "score": 4, "last_activity_date": 1577495989, "creation_date": 1577495989, "answer_id": 59507419, "question_id": 58963949, "link": "https://stackoverflow.com/questions/58963949/how-to-bind-a-modelexpression-to-a-viewcomponent-in-asp-net-core/59507419#59507419", "title": "How to bind a ModelExpression to a ViewComponent in ASP.NET Core?", "body": "<p>To answer my own question in the negative: I ultimately came to the conclusion that while this may well be intuitive and desirable functionality in terms of our <em>parent views</em>, it's ultimately a confused concept in terms of our <em>view components</em>.</p>\n\n<p>Even if you resolve the technical issue with extracting the fully-qualified <code>HtmlFieldPrefix</code> from <code>ModelExpression</code>, the deeper issue is conceptual. Presumably, the view component will assemble additional data, and relay it down to the view via a new view model\u2014e.g., the <code>SelectViewModel</code> proposed in the question. Otherwise, there's no real benefit to using a view component. <strong>In the view component's view, however, there's no logical way to map properties of the <em>child</em> view model back to the <em>parent</em> view model.</strong></p>\n\n<p>So, for example, let us say that in your <em>parent view</em> you bind the view component to a <code>UserViewModel.Country</code> property:</p>\n\n<pre><code>@model UserViewModel\n\n&lt;vc:select asp-for=\"Country\" /&gt;\n</code></pre>\n\n<p>Then, what properties do you bind to in the <em>child view</em>?</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>@model SelectViewModel\n\n&lt;select asp-for=@??? asp-items=\"Model.Options\"&gt;\n  &lt;option value=\"\"&gt;Select one\u2026&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>In my original question, I proposed <code>@Model</code>, which is similar to what you would do in e.g. an <em>editor template</em> called via <code>@Html.EditorFor()</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>&lt;select asp-for=@Model asp-items=\"Model.Options\"&gt;\n  &lt;option value=\"\"&gt;Select one\u2026&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>That might return the correct <code>id</code> and <code>name</code> attributes, since it's falling back to the <code>HtmlFieldPrefix</code> of the <code>ViewData</code>. But, it's not going to have access to any e.g. data validation attributes, since it's binding to a <code>SelectViewModel</code> and not a reference to the original <code>UserViewModel.Country</code> property, as it would in an <em>editor template</em>.</p>\n\n<p>Similarly, you could relay the <code>ModelExpression.Model</code> down via e.g. a <code>SelectViewModel.Model</code> property\u2026</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>&lt;select asp-for=@Model asp-items=\"Model.Options\"&gt;\n  &lt;option value=\"\"&gt;Select one\u2026&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>\u2026but that doesn't solve the problem either since, obviously, relaying a <em>value</em> doesn't relay the <em>attributes</em> of the source property.</p>\n\n<p>Ultimately, what you want is to bind your <code>asp-for</code> to the original property on the original object that your <code>ModelExpression</code> is resolving to. And while you can get metadata from <code>ModelExpression</code> <em>describing</em> that property and object, there doesn't seem to be a way to relay a <em>reference</em> to it in a way that the <code>asp-for</code> tag helpers recognize.</p>\n\n<p>Obviously, one could conceive of Microsoft building in lower-level tooling into <code>ModelExpression</code> and the core implementations of the <code>asp-for</code> tag helpers which allow relaying <code>ModelExpression</code> objects all the way down the line. Alternatively, they might establish a keyword\u2014such as <code>@ParentModel</code>\u2014which allows a reference to the model from the <em>parent view</em>. In absence of that, however, this doesn't seem feasible.</p>\n\n<p>I'm not going to mark this as the answer in hopes that someone, at some point, finds something I'm missing. I wanted to leave these notes here, however, in case anyone else is trying to make this work, and to document my own conclusions.</p>\n"}], "owner": {"reputation": 4441, "user_id": 3025856, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/68e9ff807fadeaa41ece5dcf761a03c1?s=128&d=identicon&r=PG", "display_name": "Jeremy Caney", "link": "https://stackoverflow.com/users/3025856/jeremy-caney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 973, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1586300753, "creation_date": 1574286717, "last_edit_date": 1586300753, "question_id": 58963949, "link": "https://stackoverflow.com/questions/58963949/how-to-bind-a-modelexpression-to-a-viewcomponent-in-asp-net-core", "title": "How to bind a ModelExpression to a ViewComponent in ASP.NET Core?", "body": "<p>I would like to bind a model expression (such as a property) to a view component\u2014much like I would with an HTML helper (e.g., <code>@Html.EditorFor()</code>) or a tag helper (e.g., <code>&lt;partial for /&gt;</code>)\u2014<em>and</em> reuse this model in the view with nested HTML and/or tag helpers. I am able to define a <code>ModelExpression</code> as a parameter on a view component, and retrieve a lot of useful metadata from it. Beyond this, I start running into roadblocks:</p>\n\n<ul>\n<li>How do I relay and bind to the underlying source model to e.g. an <code>asp-for</code> tag helper?</li>\n<li>How do I ensure property metadata (e.g. validation attributes) from <code>ViewData.ModelMetadata</code> are honored?</li>\n<li>How do I assemble a <em>fully qualified</em> <code>HtmlFieldPrefix</code> for the field <code>name</code> attribute?</li>\n</ul>\n\n<p>I've provided a (simplified) scenario with code and outcomes below\u2014but the code exposes more unknowns than answers. Much of the code is known to be incorrect, but I'm including it so we can have a concrete baseline to evaluate and discuss alternatives to.</p>\n\n<h1>Scenario</h1>\n\n<p>The values of a <code>&lt;select&gt;</code> list need to be populated via a data repository. Assume it is impractical or undesirable to populate the possible values as part of e.g. the original view model (see \"Alternate Options\" below).</p>\n\n<h1>Sample Code</h1>\n\n<h3><code>/Components/SelectListViewComponent.cs</code></h3>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using system;\nusing Microsoft.AspNetCore.Mvc.Rendering;\n\npublic class SelectViewComponent \n{\n\n  private readonly IRepository _repository;\n\n  public SelectViewComponent(IRepository repository) \n  {\n    _repository = repository?? throw new ArgumentNullException(nameof(repository));\n  }\n\n  public IViewComponentResult Invoke(ModelExpression aspFor) \n  {\n    var sourceList = _repository.Get($\"{aspFor.Metadata.Name}Model\");\n    var model = new SelectViewModel() \n    {\n      Options = new SelectList(sourceList, \"Id\", \"Name\")\n    };\n    ViewData.TemplateInfo.HtmlFieldPrefix = ViewData.TemplateInfo.GetFullHtmlFieldName(modelMetadata.Name);\n    return View(model);\n  }\n\n}\n</code></pre>\n\n<p><strong>Notes</strong></p>\n\n<ul>\n<li>Using <code>ModelExpression</code> not only allows me to call the view component with a model expression, but also gives me a lot of useful metadata via reflection such as validation parameters.</li>\n<li>The parameter name <code>for</code> is illegal in C#, since it's a reserved keyword. As such, I'm instead using <code>aspFor</code>, which will be exposed to the tag helper format as <code>asp-for</code>. This is a bit of a hack, but yields a familiar interface for developers.</li>\n<li>Obviously, the <code>_repository</code> code and logic will vary considerably with implementation. In my own use case, I actually pull the arguments from some custom attributes.</li>\n<li>The <code>GetFullHtmlFieldName()</code> doesn't construct a <em>full</em> HTML field name; it always returns whatever value I submit to it, which is just the model expression name. More on this under \"Issues\" below.</li>\n</ul>\n\n<h3><code>/Models/SelectViewModel.cs</code></h3>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using Microsoft.AspNetCore.Mvc.Rendering;\n\npublic class SelectViewModel {\n  public SelectList Options { get; set; }\n}\n</code></pre>\n\n<p><strong>Notes</strong></p>\n\n<ul>\n<li>Technically, in this case, I <em>could</em> just return the <code>SelectList</code> directly to the view, since it will handle the current value. However, if you bind your model to your <code>&lt;select&gt;</code>'s <code>asp-for</code> tag helper, then it will automatically enable <code>multiple</code>, which is the default behavior when binding to a collection model. </li>\n</ul>\n\n<h3><code>/Views/Shared/Select/Default.cshtml</code></h3>\n\n<pre class=\"lang-cs prettyprint-override\"><code>@model SelectViewModel\n\n&lt;select asp-for=@Model asp-items=\"Model.Options\"&gt;\n  &lt;option value=\"\"&gt;Select one\u2026&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p><strong>Notes</strong></p>\n\n<ul>\n<li>Technically, the value for <code>@Model</code> will return <code>SelectViewModel</code>. If this were an <code>&lt;input /&gt;</code> that would be obvious. This issue is obscured due to the <code>SelectList</code> identifying the correct value, presumably from the <code>ViewData.ModelMetadata</code>.</li>\n<li>I could instead set the <code>aspFor.Model</code> to e.g. an <code>UnderlyingModel</code> property on the <code>SelectViewModel</code>. That would result in an HTML field name of <code>{HtmlFieldPrefix}.UnderlyingModel</code>\u2014and would still fail to retrieve any of the metadata (such as validation attributes) from the original property.</li>\n</ul>\n\n<h1>Variations</h1>\n\n<p>If I don't set the <code>HtmlFieldPrefix</code>, and place the view component within the context of e.g. a <code>&lt;partial for /&gt;</code> or <code>@Html.EditorFor()</code> then the field names will be correct, as the <code>HtmlFieldPrefix</code> is getting defined in a parent context. If I place it directly in a top-level view, however, I will get the following error due to the <code>HtmlFieldPrefix</code> not being defined:</p>\n\n<blockquote>\n  <p>ArgumentException: The name of an HTML field cannot be null or empty. Instead use methods Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper.Editor or Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper``1.EditorFor with a non-empty htmlFieldName argument value. (Parameter 'expression')</p>\n</blockquote>\n\n<h1>Issues</h1>\n\n<ul>\n<li>The <code>HtmlFieldPrefix</code> doesn't get properly populated with a fully qualified value. E.g., if the model property name is <code>Country</code> it will always return <code>Country</code>, even if the actual model path is, say, <code>ShippingAddress.Country</code> or <code>Addresses[2].Country</code>.</li>\n<li>The <strong>jQuery Validation Unobtrusive</strong> functionality isn't firing. For instance, if the property this is bound to is marked as <code>[Required]</code> then that's not getting flagged here. That's presumably because it's being bound to the <code>SelectViewModel</code>, not the parent property.</li>\n<li>The original model isn't being relayed in any way to the view component's view; the <code>SelectList</code> is able to infer the original value from <code>ViewData</code>, but that is lost to the view. I could relay the <code>aspFor.Model</code> via the view model, but it won't have access to the original metadata (such as validation attributes).</li>\n</ul>\n\n<h1>Alternate Options</h1>\n\n<p>Some other options I've considered, and rejected for my use cases.</p>\n\n<ul>\n<li><strong>Tag Helpers:</strong> This is easy to achieve via tag helpers. Injecting dependencies, such as a repository, into a tag helper is less elegant since there isn't a way to instantiate a tag helper via the composition root, as one can do with e.g. <code>IViewComponentActivator</code>. </li>\n<li><strong>Controllers:</strong> In this simplified example, it is also possible to define the source collection on the top-level view model, next to the actual property (e.g., <code>Country</code> for the value, <code>CountryList</code> for the options). That may not be practical or elegant in more sophisticated examples.</li>\n<li><strong>AJAX:</strong> The values could be retrieved via a JavaScript call to a web service, binding the JSON output to the <code>&lt;select&gt;</code> element on the client. I use this approach in other applications, but it's undesirable here since I don't want to expose the full range of potential query logic to a public interface.</li>\n<li><strong>Explicit Values:</strong> I could explicitly relay the <em>parent</em> model along with the <code>ModelExpression</code> in order to recreate the parent context under the view component. That's a bit of a kludge, so I'd like to game out the <code>ModelExpression</code> approach first.</li>\n</ul>\n\n<h1>Previous Research</h1>\n\n<p>This question has been asked (and answered) before:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/42855758/custom-viewcomponent-with-asp-for-as-parameter\">StackOverflow</a>.</li>\n<li><a href=\"https://forums.asp.net/t/2148104.aspx\" rel=\"nofollow noreferrer\">forums.ASP.net</a>. </li>\n</ul>\n\n<p>In both cases, however, the accepted answer (one by the OP) doesn't fully explore the question, and instead decides that a tag helper is more suitable for their scenarios. Tag helpers are great, and have their purpose; I'd like to fully explore the original questions, however, for the scenarios where view components are more appropriate (such as depending on an external service).</p>\n\n<p>Am I chasing a rabbit down a hole? Or are there options that the community's deeper understanding of model expressions can resolve?</p>\n"}, {"tags": ["c#", "asp.net", ".net", "blazor", "blazor-client-side"], "comments": [{"owner": {"reputation": 11283, "user_id": 5825294, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Un5fU.png?s=128&g=1", "display_name": "Enlico", "link": "https://stackoverflow.com/users/5825294/enlico"}, "edited": false, "score": 0, "creation_date": 1574290643, "post_id": 58963903, "comment_id": 104184375, "body": "Please, edit the question by removing those links and pasting the actual code in their place."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10326169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1377cda9b55fba4d3c1767b37f6556b9?s=128&d=identicon&r=PG&f=1", "display_name": "Harun", "link": "https://stackoverflow.com/users/10326169/harun"}, "edited": false, "score": 0, "creation_date": 1574287567, "post_id": 58964005, "comment_id": 104183288, "body": "Hi,  I know that. what I want to do is override the base component&#39;s methods.  Example :  IndexPage :   BasePage"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "reply_to_user": {"reputation": 15, "user_id": 10326169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1377cda9b55fba4d3c1767b37f6556b9?s=128&d=identicon&r=PG&f=1", "display_name": "Harun", "link": "https://stackoverflow.com/users/10326169/harun"}, "edited": false, "score": 0, "creation_date": 1574289993, "post_id": 58964005, "comment_id": 104184143, "body": "@Harun:  Which methods?  How? Your question needs a lot more detail."}, {"owner": {"reputation": 15, "user_id": 10326169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1377cda9b55fba4d3c1767b37f6556b9?s=128&d=identicon&r=PG&f=1", "display_name": "Harun", "link": "https://stackoverflow.com/users/10326169/harun"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1574290385, "post_id": 58964005, "comment_id": 104184276, "body": "@HenkHolterman for example: I have five pages. Toolbar Menu is available in these five pages. Toolbar Menu component has three methods. These are Save, Update, Remove. I want to crush(override) the Update Method of this toolbar menu on my second page."}], "tags": [], "owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "is_accepted": true, "score": 4, "last_activity_date": 1574359106, "last_edit_date": 1574359106, "creation_date": 1574286983, "answer_id": 58964005, "question_id": 58963903, "link": "https://stackoverflow.com/questions/58963903/how-can-i-do-baselayout-basecomponent-override-in-blazor/58964005#58964005", "title": "How can I do BaseLayout/BaseComponent override In Blazor", "body": "<p>Add classes derived from <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.components.componentbase?f1url=https%3A%2F%2Fmsdn.microsoft.com%2Fquery%2Fdev16.query%3FappId%3DDev16IDEF1%26l%3DEN-US%26k%3Dk(Microsoft.AspNetCore.Components.ComponentBase);k(SolutionItemsProject);k(DevLang-csharp)%26rd%3Dtrue&amp;view=aspnetcore-3.0\" rel=\"nofollow noreferrer\"><code>ComponentBase</code></a> and use <code>@inherits</code> </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class MyBaseComponent : ComponentBase\n{\n    [Inject]\n    public IService AnInjectedService { get; set; }\n\n    [Parameter]\n    public string AParameter { get; set; }\n\n    protected virtual void Update()\n    {        \n    }   \n}\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>@inherits MyBaseComponent\n&lt;h3&gt;My derived component @AParamter&lt;/h3&gt;\n\n@code {\n    protected override void Update()\n    {\n        // code overidding my base update method\n        base.Update();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 10326169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1377cda9b55fba4d3c1767b37f6556b9?s=128&d=identicon&r=PG&f=1", "display_name": "Harun", "link": "https://stackoverflow.com/users/10326169/harun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1074, "favorite_count": 0, "accepted_answer_id": 58964005, "answer_count": 1, "score": 1, "last_activity_date": 1574359106, "creation_date": 1574286486, "last_edit_date": 1574292345, "question_id": 58963903, "link": "https://stackoverflow.com/questions/58963903/how-can-i-do-baselayout-basecomponent-override-in-blazor", "title": "How can I do BaseLayout/BaseComponent override In Blazor", "body": "<p>ToolbarLayout.cs</p>\n\n<pre><code>public class ToolbarLayoutBase : LayoutComponentBase\n{\n    public string Text { get; set; }\n\n    public virtual void NewData()\n    {\n        Console.WriteLine(\"Save Click \" + Text);\n    }\n    public virtual void UpdateData()\n    {\n        Console.WriteLine(\"Update Click\");\n    }\n}\n</code></pre>\n\n<p>ToolbarLayout Razor</p>\n\n<pre><code>@inherits ToolbarLayoutBase\nBtnSave,BtnUpdate,BtnRemove HTML Button\n</code></pre>\n\n<p>EditPage.cs</p>\n\n<pre><code>public class EditPageBase : ToolbarLayoutBase\n{\n\n    public override void UpdateData()\n    {\n        base.UpdateData();\n    }\n\n}\n</code></pre>\n\n<p>EditPage Razor</p>\n\n<pre><code>@inherits EditPageBase\n@page \"/editpage\"\n\n&lt;ToolbarLayout  /&gt;\n</code></pre>\n\n<p>I have components as shown in the pictures above.\nI want to use my \"ToolbarLayout\" component as a base component, and I need methods, etc. I want to change.\nLike the Base Form structure in WinForm.</p>\n"}, {"tags": ["c#", "dictionary", "unity3d", "struct"], "comments": [{"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1574286589, "post_id": 58963888, "comment_id": 104182879, "body": "If this is going to be a <code>Key</code> in a <code>Dictionary</code>, can you use an <code>Enum</code> instead?"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574286640, "post_id": 58963888, "comment_id": 104182911, "body": "Use as key means a lot of Comparision. And the default comparer for structs uses Refleection. Provide a reflection-free variant instead. That alow should speed it up a spell."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574286755, "post_id": 58963888, "comment_id": 104182962, "body": "Another thing worth knowing, is that Dictionary is the Generic Hashlist. Object implements &quot;GetHashCode()&quot;. However the default implementation will give back a number that seems to be derived from the Reference, somehow. | Again, overriding GetHashCode should do you some favors in speed."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1574286786, "post_id": 58963888, "comment_id": 104182983, "body": "A good hash is based on what those values can be.  If all of them can be any <code>int</code> value then standard hashing that combines them all should be fine.  But you can do better, and maybe even come up with a better structure if some of those values have much smaller ranges."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574286950, "post_id": 58963888, "comment_id": 104183045, "body": "It is not clear at all what &quot;TV&quot; respresents. It has 16 or 17 Fields. All of Range int. No naming convention I can parse. It honestly looks mostly that TV should have been it&#39;s own Dictionary. In any case, something is really wrong with the design of this type. Particular if it is used as a key."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1574287101, "post_id": 58963888, "comment_id": 104183104, "body": "as a side note: a mutable value-type is ... tricky to work with; you may want to consider a <code>readonly struct</code>; this would also allow you to pre-calculate a hash-code during construction rather than as-needed"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1574287446, "post_id": 58963888, "comment_id": 104183236, "body": "The IDE may be able to do a basic version <i>for you</i>: <a href=\"https://docs.microsoft.com/en-us/visualstudio/ide/reference/generate-equals-gethashcode-methods?view=vs-2019\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/visualstudio/ide/reference/&hellip;</a>"}, {"owner": {"reputation": 77, "user_id": 12386923, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCtvaVYMEtiPJ8chRnXqV3R9spJxfuCZjb5n72XDg=k-s128", "display_name": "fabrialis", "link": "https://stackoverflow.com/users/12386923/fabrialis"}, "edited": false, "score": 0, "creation_date": 1574287490, "post_id": 58963888, "comment_id": 104183254, "body": "Essentially TV is the key to a sprite, I am drawing a sprite with 17 layers and then using the TV key to link me to the previously created sprite. Each int in TV could probably be a byte or ushort if that helps"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1574287710, "post_id": 58963888, "comment_id": 104183354, "body": "@fabrialis if they can be bytes, you could <i>if needed</i> create a union with 2 longs and a byte, and just do 3 equality checks rather than 17"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 12386923, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCtvaVYMEtiPJ8chRnXqV3R9spJxfuCZjb5n72XDg=k-s128", "display_name": "fabrialis", "link": "https://stackoverflow.com/users/12386923/fabrialis"}, "edited": false, "score": 0, "creation_date": 1574287633, "post_id": 58964013, "comment_id": 104183316, "body": "Thanks for the reply, could you please show me broadly how I would implement GetHashCode() in this case?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1574287824, "post_id": 58964013, "comment_id": 104183398, "body": "You also might want to consider making all those public fieds read-only, since structs should be immutable and the fields used in <code>GetHashCode</code> should also be immutable."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1574287961, "post_id": 58964013, "comment_id": 104183445, "body": "@RufusL indeed; see similar comment on the question"}], "tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": true, "score": 7, "last_activity_date": 1574287981, "last_edit_date": 1574287981, "creation_date": 1574287013, "answer_id": 58964013, "question_id": 58963888, "link": "https://stackoverflow.com/questions/58963888/how-to-implement-struct-to-be-used-as-dictionary-key/58964013#58964013", "title": "How to implement Struct to be used as Dictionary key", "body": "<p>The key here is to:</p>\n\n<ol>\n<li>implement <code>IEquatable&lt;TV&gt;</code> (it will be invoked via \"constrained\" call, not via boxing)</li>\n<li>implement <code>GetHashCode()</code> with a suitable hash function over whatever fields you want to compare</li>\n<li>implement <code>Equals(TV)</code> with an equality check that aligns with <code>GetHashCode()</code></li>\n<li>implement <code>Equals(object)</code> as <code>=&gt; obj is TV typed &amp;&amp; Equals(typed);</code></li>\n</ol>\n\n<p>This should avoid all the boxing and reflection.</p>\n\n<hr>\n\n<p>Here's one way of doing it:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public struct TV : IEquatable&lt;TV&gt;\n{\n\n    public override string ToString() =&gt; nameof(TV);\n\n    public int B;\n    public int BC;\n    public int P;\n    public int PO;\n    public int PC;\n    public int W;\n    public int WO;\n    public int WC;\n    public int R;\n    public int RO;\n    public int RC;\n    public int G;\n    public int GO;\n    public int GC;\n    public int GW;\n    public int GWO;\n    public int GWC;\n\n    public TV(int b, int bC, int p, int po, int pC, int w, int wo, int wC, int r, int ro, int rC, int g, int go, int gC, int gw, int gwo, int gwC)\n    {\n        B = b;\n        BC = bC;\n        P = p;\n        PO = po;\n        PC = pC;\n        W = w;\n        WO = wo;\n        WC = wC;\n        R = r;\n        RO = ro;\n        RC = rC;\n        G = g;\n        GO = go;\n        GC = gC;\n        GW = gw;\n        GWO = gwo;\n        GWC = gwC;\n    }\n\n    public override bool Equals(object obj) =&gt; obj is TV other &amp;&amp; Equals(other);\n\n    public bool Equals(TV other)\n    {\n        return B == other.B &amp;&amp;\n               BC == other.BC &amp;&amp;\n               P == other.P &amp;&amp;\n               PO == other.PO &amp;&amp;\n               PC == other.PC &amp;&amp;\n               W == other.W &amp;&amp;\n               WO == other.WO &amp;&amp;\n               WC == other.WC &amp;&amp;\n               R == other.R &amp;&amp;\n               RO == other.RO &amp;&amp;\n               RC == other.RC &amp;&amp;\n               G == other.G &amp;&amp;\n               GO == other.GO &amp;&amp;\n               GC == other.GC &amp;&amp;\n               GW == other.GW &amp;&amp;\n               GWO == other.GWO &amp;&amp;\n               GWC == other.GWC;\n    }\n\n    public override int GetHashCode()\n    {\n        var hash = new HashCode();\n        hash.Add(B);\n        hash.Add(BC);\n        hash.Add(P);\n        hash.Add(PO);\n        hash.Add(PC);\n        hash.Add(W);\n        hash.Add(WO);\n        hash.Add(WC);\n        hash.Add(R);\n        hash.Add(RO);\n        hash.Add(RC);\n        hash.Add(G);\n        hash.Add(GO);\n        hash.Add(GC);\n        hash.Add(GW);\n        hash.Add(GWO);\n        hash.Add(GWC);\n        return hash.ToHashCode();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 12386923, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCtvaVYMEtiPJ8chRnXqV3R9spJxfuCZjb5n72XDg=k-s128", "display_name": "fabrialis", "link": "https://stackoverflow.com/users/12386923/fabrialis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 1, "accepted_answer_id": 58964013, "answer_count": 1, "score": 1, "last_activity_date": 1574287981, "creation_date": 1574286429, "question_id": 58963888, "link": "https://stackoverflow.com/questions/58963888/how-to-implement-struct-to-be-used-as-dictionary-key", "title": "How to implement Struct to be used as Dictionary key", "body": "<p>I am using a custom struct as a key in a dictionary:</p>\n\n<pre><code>\n    public struct TV\n    {\n        public int B;\n        public int BC;\n        public int P;\n        public int PO;\n        public int PC;\n        public int W;\n        public int WO;\n        public int WC;\n        public int R;\n        public int RO;\n        public int RC;\n        public int G;\n        public int GO;\n        public int GC;\n        public int GW;\n        public int GWO;\n        public int GWC;\n\n        public TV(int b, int bC, int p, int po, int pC, int w, int wo, int wC, int r, int ro, int rC, int g, int go, int gC, int gw, int gwo, int gwC)\n        {\n            B = b;\n            BC = bC;\n            P = p;\n            PO = po;\n            PC = pC;\n            W = w;\n            WO = wo;\n            WC = wC;\n            R = r;\n            RO = ro;\n            RC = rC;\n            G = g;\n            GO = go;\n            GC = gC;\n            GW = gw;\n            GWO = gwo;\n            GWC = gwC;\n    }\n\n    }\n\n</code></pre>\n\n<p>However as I am using .containskey and getkey I am getting insane amounts of garbage collection allocations numbering in the millions per frame</p>\n\n<p>I have researched this problem and I understand that it has to do with improper boxing of the struct due to not implementing IEquatable and overrides for some methods like equals() and getHashCode. </p>\n\n<p>I have seen some examples of how to implement those but I only found examples for small structs of 2 or 3 variables, since my struct has 17 values I am at a loss on how I should implement this also because I don't understand how hashcodes work, I would greatly appreciate it if someone could guide me in the right direction, what should I add to this struct to make it usable as a dictionary key?</p>\n"}, {"tags": ["c#", ".net", "unit-testing", "xunit"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 4, "creation_date": 1574285773, "post_id": 58963717, "comment_id": 104182555, "body": "Why wouldn&#39;t it? There&#39;s no <i>failing</i> assertion."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1574286750, "post_id": 58963717, "comment_id": 104182958, "body": "Tests will only fail with exceptions. They are the circuit breaker. Any test that runs to completion without any exception is considered a passing test. within all assertions, if it fails it throws an exception that is caught by the test runner to indicate that the test failed."}], "answers": [{"tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 6, "last_activity_date": 1574286793, "creation_date": 1574286793, "answer_id": 58963967, "question_id": 58963717, "link": "https://stackoverflow.com/questions/58963717/why-does-an-xunit-fact-type-test-without-assertions-always-passes/58963967#58963967", "title": "Why does an xUnit Fact type test without assertions always passes?", "body": "<p>A test fails if an assertion fails. Equivalently, a test passes if every assertion succeeds.  Let's be more precise and mathematical:</p>\n\n<ul>\n<li>If the number of failures is not zero, the test fails.</li>\n<li>If the number of assertions is equal to the number of successful assertions, the test passes.</li>\n</ul>\n\n<p>In your test case the number of failures is zero, and the number of successes is equal to the number of assertions; both are equal to zero. </p>\n\n<p>The rule is not \"every assertion must succeed and there must be at least one assertion\". The rule is just \"every assertion must succeed\" and that condition is met.</p>\n"}], "owner": {"reputation": 353, "user_id": 6472895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf8c7954d0e067366ffbcf66a17c2c3e?s=128&d=identicon&r=PG", "display_name": "amartin1911", "link": "https://stackoverflow.com/users/6472895/amartin1911"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 58963967, "answer_count": 1, "score": 1, "last_activity_date": 1574286793, "creation_date": 1574285591, "question_id": 58963717, "link": "https://stackoverflow.com/questions/58963717/why-does-an-xunit-fact-type-test-without-assertions-always-passes", "title": "Why does an xUnit Fact type test without assertions always passes?", "body": "<p>Sample:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[Fact]\npublic void FooTest(){\n\n}\n</code></pre>\n\n<p>Result in VS2015:\nTest Passed</p>\n\n<p>I'm using xUnit NuGet v2.4.1 in a .NET 4.6 Framework C# project.</p>\n"}, {"tags": ["c#", "sql-server", "asp.net-mvc"], "comments": [{"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 1, "creation_date": 1574286018, "post_id": 58963690, "comment_id": 104182650, "body": "Can you show the code that actually replicates this? Perhaps a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>?"}, {"owner": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 1, "creation_date": 1574286096, "post_id": 58963690, "comment_id": 104182685, "body": "Maybe also include your table definition, too."}, {"owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "edited": false, "score": 0, "creation_date": 1574286229, "post_id": 58963690, "comment_id": 104182736, "body": "Is this db first or code first?"}, {"owner": {"reputation": 219, "user_id": 12196730, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--ntZQ-MLXZA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc5Q19kuReUrVt2fW8shrhdwc1Gmg/photo.jpg?sz=128", "display_name": "Scott Purtan", "link": "https://stackoverflow.com/users/12196730/scott-purtan"}, "reply_to_user": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "edited": false, "score": 0, "creation_date": 1574287953, "post_id": 58963690, "comment_id": 104183443, "body": "@tymtam this is code first."}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 12196730, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--ntZQ-MLXZA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc5Q19kuReUrVt2fW8shrhdwc1Gmg/photo.jpg?sz=128", "display_name": "Scott Purtan", "link": "https://stackoverflow.com/users/12196730/scott-purtan"}, "edited": false, "score": 0, "creation_date": 1574287997, "post_id": 58964028, "comment_id": 104183457, "body": "Really sure as i am the one who created the table.. Edited above"}, {"owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "reply_to_user": {"reputation": 219, "user_id": 12196730, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--ntZQ-MLXZA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc5Q19kuReUrVt2fW8shrhdwc1Gmg/photo.jpg?sz=128", "display_name": "Scott Purtan", "link": "https://stackoverflow.com/users/12196730/scott-purtan"}, "edited": false, "score": 0, "creation_date": 1574306313, "post_id": 58964028, "comment_id": 104188258, "body": "Ha! So it was a float but a float(5)."}], "tags": [], "owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "is_accepted": false, "score": 0, "last_activity_date": 1574287125, "creation_date": 1574287125, "answer_id": 58964028, "question_id": 58963690, "link": "https://stackoverflow.com/questions/58963690/exceptions-error-on-double-could-not-be-set-to-a-system-single/58964028#58964028", "title": "Exceptions Error on double - Could not be set to a &quot;System.Single&quot;", "body": "<p>Are you sure that the db side is not of type <code>real</code>?</p>\n\n<p>For this error, the solution is to make <code>Priority</code> be a <code>float</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 219, "user_id": 12196730, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--ntZQ-MLXZA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc5Q19kuReUrVt2fW8shrhdwc1Gmg/photo.jpg?sz=128", "display_name": "Scott Purtan", "link": "https://stackoverflow.com/users/12196730/scott-purtan"}, "edited": false, "score": 0, "creation_date": 1574289961, "post_id": 58964387, "comment_id": 104184134, "body": "Thanks for that. I changed this originally was using a string. Did not realize that it did not need the (5) after it. Problem solved by removing it."}], "tags": [], "owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "is_accepted": true, "score": 1, "last_activity_date": 1574289002, "creation_date": 1574289002, "answer_id": 58964387, "question_id": 58963690, "link": "https://stackoverflow.com/questions/58963690/exceptions-error-on-double-could-not-be-set-to-a-system-single/58964387#58964387", "title": "Exceptions Error on double - Could not be set to a &quot;System.Single&quot;", "body": "<blockquote>\n  <p><code>[Priority] [float](5)</code></p>\n</blockquote>\n\n<p>Maps to System.Single, not System.Double:</p>\n\n<blockquote>\n  <p>Syntax </p>\n  \n  <p>float [ (n) ] Where n is the number of bits that are used to\n  store the mantissa of the float number in scientific notation and,\n  therefore, dictates the precision and storage size. If n is specified,\n  it must be a value between 1 and 53. The default value of n is 53.</p>\n  \n  <p><code>n value  Precision   Storage size \n  1-24    7 digits    4 bytes \n  25-53   15 digits   8 bytes</code></p>\n</blockquote>\n\n<p><a href=\"https://docs.microsoft.com/en-us/sql/t-sql/data-types/float-and-real-transact-sql?view=sql-server-ver15\" rel=\"nofollow noreferrer\">float and real (TSQL)</a></p>\n"}], "owner": {"reputation": 219, "user_id": 12196730, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--ntZQ-MLXZA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc5Q19kuReUrVt2fW8shrhdwc1Gmg/photo.jpg?sz=128", "display_name": "Scott Purtan", "link": "https://stackoverflow.com/users/12196730/scott-purtan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 58964387, "answer_count": 2, "score": 0, "last_activity_date": 1574289002, "creation_date": 1574285458, "last_edit_date": 1574287907, "question_id": 58963690, "link": "https://stackoverflow.com/questions/58963690/exceptions-error-on-double-could-not-be-set-to-a-system-single", "title": "Exceptions Error on double - Could not be set to a &quot;System.Single&quot;", "body": "<p>I am getting an exceptions on my model. </p>\n\n<pre><code>public double? Priority { get; set; } \n</code></pre>\n\n<p>I have changed this from <code>double</code>, <code>Double</code>, and <code>double?</code> And I am still getting this error. In my SQL table this is set to <code>float</code>. Which should match the <code>double</code>.</p>\n\n<p>The complete error I am getting:</p>\n\n<blockquote>\n  <p>System.InvalidOperationException: 'The 'Priority' property on 'MySitemap' could not be set to a 'System.Single' value. You must set this property to a non-null value of type 'System.Double'. '</p>\n</blockquote>\n\n<p>Update:</p>\n\n<p>The code that is doing this is just a simple index list:</p>\n\n<pre><code> // GET: Sitemap\n    public ActionResult Index()\n    {\n        return View(db.Sitemaps.ToList());\n    }\n</code></pre>\n\n<p>SQL:</p>\n\n<pre><code>CREATE TABLE [dbo].[MySitemap](\n[ID] [int] IDENTITY(1,1) NOT NULL,\n[Location] [varchar](500) NULL,\n[ChangeFreq] [varchar](20) NULL CONSTRAINT [DF_MySitemap_ChangeFreq]  DEFAULT ('daily'),\n[Priority] [float](5) NOT NULL CONSTRAINT [DF_MySitemap_Priority]  DEFAULT ((0.5)),\n[LastModified] [datetime] NULL CONSTRAINT [DF_MySitemap_LastMod] DEFAULT GETDATE(),\n[Category] [varchar](50) NULL,\n[IsAdded] [bit] NOT NULL CONSTRAINT [DF_MySitemap_IsAdded] DEFAULT ('False'),\nCONSTRAINT [PK_MySitemap] PRIMARY KEY CLUSTERED \n(\n[ID] ASC\n)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, \nIGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON \n[PRIMARY]\n) ON [PRIMARY]\n</code></pre>\n"}, {"tags": ["c#", "moq", "autofac", "automoq"], "answers": [{"tags": [], "owner": {"reputation": 4583, "user_id": 6844481, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Z6GA.jpg?s=128&g=1", "display_name": "Shahar Shokrani", "link": "https://stackoverflow.com/users/6844481/shahar-shokrani"}, "is_accepted": true, "score": 2, "last_activity_date": 1574719174, "creation_date": 1574719174, "answer_id": 59040720, "question_id": 58963632, "link": "https://stackoverflow.com/questions/58963632/using-autofac-property-injection-with-moq/59040720#59040720", "title": "Using AutoFac Property Injection with Moq", "body": "<blockquote>\n  <p>only constructor injection is supported by Autofac.Extras.Moq</p>\n</blockquote>\n\n<p>Actually you are right, but the <code>AutoMock.GetLoose</code> has an overload in which you can inject to the mock a fully functioned <code>IContainer</code> by passing a delegate of <code>ContainerBuilder</code> with all the regular <em>autofac</em> features:</p>\n\n<pre><code>public class AutoMock : IDisposable\n{\n    //...  \n    public IContainer Container { get; }\n    public static AutoMock GetLoose(Action&lt;ContainerBuilder&gt; beforeBuild);\n    //...\n}\n</code></pre>\n\n<p>In your case the extension <code>Autofac.Extras.Moq</code> is not supporting the <code>PropertiesAutowired()</code> method so we can build a ContainerBuilder and pass it with a delegate:</p>\n\n<pre><code>Action&lt;ContainerBuilder&gt; containerBuilderAction = delegate(ContainerBuilder cb)\n{\n    cb.RegisterType&lt;ServiceFoo&gt;().As&lt;IService&gt;();\n    cb.RegisterType&lt;ViewModelBase&gt;().PropertiesAutowired(); //The autofac will go to every single property and try to resolve it.\n};\n\nvar mock = AutoMock.GetLoose(actionCB);\n\nvar viewModelBase = mock.Create&lt;ViewModelBase&gt;();            \nAssert.IsNotNull(viewModelBase.Service);\n</code></pre>\n\n<p>With <code>IService</code> implementation class of <code>ServiceFoo</code>:</p>\n\n<pre><code>public class ServiceFoo : IService` { }\n</code></pre>\n"}], "owner": {"reputation": 52, "user_id": 10289094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3b580dd477ab5cd3f343cc774a46733?s=128&d=identicon&r=PG&f=1", "display_name": "mlxyz", "link": "https://stackoverflow.com/users/10289094/mlxyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 59040720, "answer_count": 1, "score": 2, "last_activity_date": 1575179089, "creation_date": 1574285216, "last_edit_date": 1575179089, "question_id": 58963632, "link": "https://stackoverflow.com/questions/58963632/using-autofac-property-injection-with-moq", "title": "Using AutoFac Property Injection with Moq", "body": "<p>Consider the following class:</p>\n\n<pre><code>public class ViewModelBase\n{\n    public IService Service { get; protected set; }\n}\n</code></pre>\n\n<p>and this test for the class:</p>\n\n<pre><code>using var mock = AutoMock.GetLoose();\nvar viewModelBase = mock.Create&lt;ViewModelBase&gt;();\nAssert.NotNull(viewModelBase.Service);\n</code></pre>\n\n<p>In my normal application, I'm using the property injection functionality of <code>Autofac.Core.NonPublicProperty</code> to autowire the <code>IService</code> dependency into the <code>ViewModelBase</code>:</p>\n\n<pre><code>containerBuilder.RegisterType(typeof(ViewModelBase)).AutoWireNonPublicProperties();\n</code></pre>\n\n<p>In the test, I'm using the <code>Autofac.Extras.Moq</code> integration package to automatically mock dependencies for <code>ViewModelBase</code>. However, as far as I can tell, only constructor injection is supported by <code>Autofac.Extras.Moq</code>. This causes the test to fail because the <code>Service</code> property is not autowired by Moq.</p>\n\n<p>Is there any elegant way of utilizing the property injection function of AutoFac with Moq?</p>\n"}, {"tags": ["javascript", "c#", "html", "bridge.net"], "comments": [{"owner": {"reputation": 34608, "user_id": 84206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/144fd462785db33cf6665cafd54101c7?s=128&d=identicon&r=PG", "display_name": "AaronLS", "link": "https://stackoverflow.com/users/84206/aaronls"}, "edited": false, "score": 0, "creation_date": 1574284923, "post_id": 58963499, "comment_id": 104182226, "body": "Somewhat alarming is many of the types that appear in the nuget package aren&#39;t actually declared in the github repo(only tests): <a href=\"https://github.com/bridgedotnet/Bridge/search?q=HTMLButtonElement&amp;unscoped_q=HTMLButtonElement\" rel=\"nofollow noreferrer\">github.com/bridgedotnet/Bridge/&hellip;</a>"}, {"owner": {"reputation": 34608, "user_id": 84206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/144fd462785db33cf6665cafd54101c7?s=128&d=identicon&r=PG", "display_name": "AaronLS", "link": "https://stackoverflow.com/users/84206/aaronls"}, "edited": false, "score": 0, "creation_date": 1574284975, "post_id": 58963499, "comment_id": 104182244, "body": "Have you tried <code>HTMLLinkElement</code>?"}, {"owner": {"reputation": 2355, "user_id": 501102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/312dbbe84f108dec72cc239b83f8ea5d?s=128&d=identicon&r=PG", "display_name": "geoffrey.mcgill", "link": "https://stackoverflow.com/users/501102/geoffrey-mcgill"}, "reply_to_user": {"reputation": 34608, "user_id": 84206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/144fd462785db33cf6665cafd54101c7?s=128&d=identicon&r=PG", "display_name": "AaronLS", "link": "https://stackoverflow.com/users/84206/aaronls"}, "edited": false, "score": 1, "creation_date": 1574290887, "post_id": 58963499, "comment_id": 104184483, "body": "@AaronLS The <code>HTMLLinkElement</code> is generally used to include a .css file. To create a hyperlink, an <code>HTMLAnchorElement</code> would be used."}], "answers": [{"comments": [{"owner": {"reputation": 2355, "user_id": 501102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/312dbbe84f108dec72cc239b83f8ea5d?s=128&d=identicon&r=PG", "display_name": "geoffrey.mcgill", "link": "https://stackoverflow.com/users/501102/geoffrey-mcgill"}, "edited": false, "score": 3, "creation_date": 1574287118, "post_id": 58963712, "comment_id": 104183112, "body": "Here&#39;s a similar sample, but using the <code>Retyped.dom</code> library instead of <code>Bridge.Html5</code> =&gt; <a href=\"https://deck.net/b01b7eba2e8939be8ac6d90cf0e30105\" rel=\"nofollow noreferrer\">deck.net/b01b7eba2e8939be8ac6d90cf0e30105</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12275574"}, "edited": false, "score": 0, "creation_date": 1574346345, "post_id": 58963712, "comment_id": 104207478, "body": "Thank you! I did not know that hyperlinks were called Anchors."}], "tags": [], "owner": {"reputation": 14805, "user_id": 2441442, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/0Aevu.jpg?s=128&g=1", "display_name": "Christian Gollhardt", "link": "https://stackoverflow.com/users/2441442/christian-gollhardt"}, "is_accepted": true, "score": 3, "last_activity_date": 1574285569, "creation_date": 1574285569, "answer_id": 58963712, "question_id": 58963499, "link": "https://stackoverflow.com/questions/58963499/bridge-net-how-to-make-a-hyperlink/58963712#58963712", "title": "Bridge.NET - How to make a hyperlink", "body": "<p><sub>Full Disclosure: I heard of bridge the first time in this moment <sub>(but it seems to be exciting)</sub></sub>.</p>\n\n<p>I think, you are searching for the wrong word. In HTML hyperlinks are called Anchors, hence the <code>&lt;a&gt;</code>.</p>\n\n<p>After searching for it, I found this <a href=\"https://forums.bridge.net/forum/community/help/5314-replace-part-of-dom\" rel=\"nofollow noreferrer\">post</a>, talking about <code>HTMLAnchorElement</code>.</p>\n\n<p><a href=\"https://forums.bridge.net/member/215-aschoenebeck\" rel=\"nofollow noreferrer\">aschoenebeck</a> has added an example <a href=\"https://deck.net/16dac2885f12734e6e2d1e63809944a9\" rel=\"nofollow noreferrer\">there</a>:</p>\n\n<pre><code>using Bridge.Html5;\n\npublic class Program\n{\n    public static void Main()\n    {\n        var body = Document.Body;\n        HTMLDivElement msg = new HTMLDivElement { Id = \"MsgPanel\" };\n        HTMLAnchorElement linkbtn = new HTMLAnchorElement\n        {\n            Href = \"#\",\n            InnerHTML = \"Click\",\n            OnClick = (ev) =&gt;\n            {\n                HTMLDivElement msgpanel =\n                    Document.GetElementById&lt;HTMLDivElement&gt;(\"MsgPanel\");\n                msgpanel.InnerHTML = \"MyText\";\n            }\n        };\n        body.AppendChild(linkbtn);\n        body.AppendChild(msg);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 4619658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dd4b9389a173e17c07e96a4332fc306?s=128&d=identicon&r=PG&f=1", "display_name": "pirasath luxchumykanthan", "link": "https://stackoverflow.com/users/4619658/pirasath-luxchumykanthan"}, "is_accepted": false, "score": 0, "last_activity_date": 1574286210, "creation_date": 1574286210, "answer_id": 58963836, "question_id": 58963499, "link": "https://stackoverflow.com/questions/58963499/bridge-net-how-to-make-a-hyperlink/58963836#58963836", "title": "Bridge.NET - How to make a hyperlink", "body": "<p>Sorry \"a\" hyperlink not path of HTML5... Path of HTML..</p>\n\n<p>Create your own.:</p>\n\n<p>Document.CreateElement(\"a\");</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12275574"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 58963712, "answer_count": 2, "score": 1, "last_activity_date": 1574286210, "creation_date": 1574284551, "last_edit_date": 1574284755, "question_id": 58963499, "link": "https://stackoverflow.com/questions/58963499/bridge-net-how-to-make-a-hyperlink", "title": "Bridge.NET - How to make a hyperlink", "body": "<p>I am using <a href=\"https://bridge.net/\" rel=\"nofollow noreferrer\">Bridge (C# to JS Compiler)</a> to make a website.</p>\n\n<p>I cannot figure out how to create a hyperlink (the <code>a</code> HTML tag) using C#. You can make the other HTML tags (examples below):</p>\n\n<pre><code>HTMLDivElement div1 = new HTMLDivElement();\nHTMLButtonElement button1 = new HTMLButtonElement();\nHTMLParagraphElement para1 = new HTMLParagraphElement();\n</code></pre>\n\n<p>There seems to be no way <em>(I have searched Google and the Bridge Documentation/Forums)</em> to make a hyperlink?<br><br>\nHelp would be greatly appreciated.</p>\n"}, {"tags": ["c#", "asp.net", "webforms", "frontend"], "answers": [{"comments": [{"owner": {"reputation": 308, "user_id": 1457814, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23fe44ec7ba858d6db474856f52c5068?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Scitus", "link": "https://stackoverflow.com/users/1457814/darth-scitus"}, "edited": false, "score": 0, "creation_date": 1574285743, "post_id": 58963631, "comment_id": 104182543, "body": "Yes this works, but it still complains about the button1 being a duplicate id. Thats my main issue, im starting to think that im pushing webforms too far on this one."}, {"owner": {"reputation": 150, "user_id": 4029296, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2c88e997937565fbe284ed9cc35001e?s=128&d=identicon&r=PG&f=1", "display_name": "codemonkeytony", "link": "https://stackoverflow.com/users/4029296/codemonkeytony"}, "reply_to_user": {"reputation": 308, "user_id": 1457814, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23fe44ec7ba858d6db474856f52c5068?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Scitus", "link": "https://stackoverflow.com/users/1457814/darth-scitus"}, "edited": false, "score": 1, "creation_date": 1574285882, "post_id": 58963631, "comment_id": 104182591, "body": "I beleive you can change the ID of a server control at runtime.  <a href=\"https://stackoverflow.com/questions/5142204/can-i-change-the-id-of-a-asp-net-control-programatically-asp-net\" title=\"can i change the id of a asp net control programatically asp net\">stackoverflow.com/questions/5142204/&hellip;</a>  maybe try that?!?"}, {"owner": {"reputation": 308, "user_id": 1457814, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23fe44ec7ba858d6db474856f52c5068?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Scitus", "link": "https://stackoverflow.com/users/1457814/darth-scitus"}, "edited": false, "score": 0, "creation_date": 1574285889, "post_id": 58963631, "comment_id": 104182593, "body": "Also I could change the ID of one of the buttons to &quot;button2&quot; but now the backend needs to be edited to use both button1 and button2. Which im trying to avoid."}, {"owner": {"reputation": 308, "user_id": 1457814, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23fe44ec7ba858d6db474856f52c5068?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Scitus", "link": "https://stackoverflow.com/users/1457814/darth-scitus"}, "edited": false, "score": 0, "creation_date": 1574285980, "post_id": 58963631, "comment_id": 104182639, "body": "That may work, i would still have to edit the back end code but only minimally. Let me play around with that for a bit."}], "tags": [], "owner": {"reputation": 150, "user_id": 4029296, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c2c88e997937565fbe284ed9cc35001e?s=128&d=identicon&r=PG&f=1", "display_name": "codemonkeytony", "link": "https://stackoverflow.com/users/4029296/codemonkeytony"}, "is_accepted": false, "score": 0, "last_activity_date": 1574285214, "creation_date": 1574285214, "answer_id": 58963631, "question_id": 58963493, "link": "https://stackoverflow.com/questions/58963493/have-duplicate-content-on-a-single-aspx-page/58963631#58963631", "title": "Have duplicate content on a single aspx page?", "body": "<p>Can you use an if stament to only render that required section</p>\n\n<pre><code>&lt;% if(!Featureflag) { %&gt;\n   &lt;asp:Content ContentPlaceHolderID=\"MainContent\" runat=\"server\"&gt;\n    &lt;asp:Button runat=\"server\" ID=\"button1\"/&gt;\n     Feature flag is off\n&lt;/asp:Content&gt;\n&lt;% } else { %&gt;\n&lt;asp:Content ContentPlaceHolderID=\"NewMainContent\" runat=\"server\"&gt;\n    &lt;asp:Button runat=\"server\" ID=\"button1\"/&gt;\n    Feature flag is on\n&lt;/asp:Content&gt;\n&lt;% } %&gt;\n</code></pre>\n"}], "owner": {"reputation": 308, "user_id": 1457814, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23fe44ec7ba858d6db474856f52c5068?s=128&d=identicon&r=PG&f=1", "display_name": "Darth Scitus", "link": "https://stackoverflow.com/users/1457814/darth-scitus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574285419, "creation_date": 1574284526, "last_edit_date": 1574285419, "question_id": 58963493, "link": "https://stackoverflow.com/questions/58963493/have-duplicate-content-on-a-single-aspx-page", "title": "Have duplicate content on a single aspx page?", "body": "<p>Background: I am trying to implement a new layout for my company's enterprise website, and I've already set up the master page to swap between the old and new layouts based on a feature flag that is set. Now I want to restyle each page and be able to swap between the old and new content using that same feature flag. The problem is I can't duplicate Ids so now the back end code, which I don't want to touch, would need to be touched so that all duplicated controls work properly on the backend. </p>\n\n<p>The way the old pages are styled it's not as easy to just swap out CSS files, all styles are embedded in the asp control itself, so this lead me to the solution below, but it complains about the duplicate control ids. </p>\n\n<p>My question is, is there an easy way to do what I want to do here? Or is there some way I can have two controls on the same page with the same ID?</p>\n\n<p>My primary area of development is ASP.NET MVC and I try to stay as far away from webforms as possible but the sheer number of pages we have that are aspx would be a slow process of converting each page to a new MVC view. So I just wanted to restyle the aspx pages for now. </p>\n\n<pre><code>&lt;asp:Content ContentPlaceHolderID=\"HeadContent\" runat=\"server\"&gt;&lt;/asp:Content&gt;\n&lt;asp:Content ContentPlaceHolderID=\"MainContent\" runat=\"server\"&gt;\n    &lt;asp:Button runat=\"server\" ID=\"button1\"/&gt;\n    Feature flag is off\n&lt;/asp:Content&gt;\n&lt;asp:Content ContentPlaceHolderID=\"NewMainContent\" runat=\"server\"&gt;\n    &lt;asp:Button runat=\"server\" ID=\"button1\"/&gt;\n    Feature flag is on\n&lt;/asp:Content&gt;\n</code></pre>\n"}, {"tags": ["c#", "list", "iteration"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 1, "creation_date": 1574284205, "post_id": 58963394, "comment_id": 104181908, "body": "Try to do it in one loop over the whole collection. A <code>List&lt;int&gt;</code> where you use the number as Index and otherwise count up. Or a <code>Dictionary&lt;int, int&gt;</code> could do this easily."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 3, "creation_date": 1574284254, "post_id": 58963394, "comment_id": 104181942, "body": "Please, for the love of all things you hold dear, don&#39;t name variables just <code>_</code>."}, {"owner": {"reputation": 2034, "user_id": 2486496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rpd3r.jpg?s=128&g=1", "display_name": "gravity", "link": "https://stackoverflow.com/users/2486496/gravity"}, "edited": false, "score": 1, "creation_date": 1574284352, "post_id": 58963394, "comment_id": 104181973, "body": "So you&#39;ve instantiated the list... where is your attempt at iterating and keeping track of counts?  Can you <a href=\"https://stackoverflow.com/posts/58963394/edit\">edit</a> in that portion of your code?"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 1, "creation_date": 1574284389, "post_id": 58963394, "comment_id": 104181990, "body": "Show us your loop attempt so we can fix it."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1574284535, "post_id": 58963394, "comment_id": 104182061, "body": "A <code>for</code> loop is probably just as fast as any other method."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "reply_to_user": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1574284709, "post_id": 58963394, "comment_id": 104182138, "body": "@Sach Unless it&#39;s a variable that&#39;s meant to be ignored."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1574284810, "post_id": 58963394, "comment_id": 104182171, "body": "@juharr still you can give it a better name."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1574284815, "post_id": 58963394, "comment_id": 104182175, "body": "@juharr More reason not to only use <code>_</code> as name. I reserve <code>_</code> as prefix for private instance variables. Stufff like backing fields of properties. If just <code>_</code> can resolve, that would be utterly messed up."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574285191, "post_id": 58963394, "comment_id": 104182321, "body": "@Christopher I mean when you do something like <code>if(int.TryParse(x, out var _))</code> when you just want to know if a string parses to an int, but you don&#39;t need to do anything with the int value.  I&#39;m not sure how that would mess up using it as a prefix."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1574287048, "post_id": 58963394, "comment_id": 104183087, "body": "You ask for &quot;best&quot;, &quot;fastest&quot; and &quot;most efficient&quot;, but those need not be the same thing. Give a metric by which &quot;bestness&quot; and &quot;efficiency&quot; can be measured, and remember that we often trade, say, worse memory usage for better speed."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1574287117, "post_id": 58963394, "comment_id": 104183111, "body": "Also, asking for &quot;fastest&quot; is seldom a good idea; the fastest way to solve the problem is to build custom hardware dedicated to solving this problem; you can do so for under a billion dollars, but you&#39;re probably not looking for that solution. No one cares about <i>fastest</i>. We care about <i>fast enough for the user&#39;s requirements</i>. So instead of saying &quot;fastest&quot;, tell us what your performance budget is and how close you are to meeting it."}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1574353847, "post_id": 58963394, "comment_id": 104212126, "body": "Here&#39;s a <a href=\"https://dotnetfiddle.net/FsLEya\" rel=\"nofollow noreferrer\">LINQ</a> version for an alternative than what was posted."}, {"owner": {"reputation": 35, "user_id": 11321886, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8rz8z3lpxxE/AAAAAAAAAAI/AAAAAAAAA_M/gyIxvTuqVrE/photo.jpg?sz=128", "display_name": "BBonless", "link": "https://stackoverflow.com/users/11321886/bbonless"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1574375058, "post_id": 58963394, "comment_id": 104221838, "body": "@EricLippert Yeah sorry. I left it pretty ambigous because I didn&#39;t really mind whether the program was fast, efficient, or anything else. Just any answer really, guess it was a bad idea."}, {"owner": {"reputation": 35, "user_id": 11321886, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8rz8z3lpxxE/AAAAAAAAAAI/AAAAAAAAA_M/gyIxvTuqVrE/photo.jpg?sz=128", "display_name": "BBonless", "link": "https://stackoverflow.com/users/11321886/bbonless"}, "reply_to_user": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1574375104, "post_id": 58963394, "comment_id": 104221856, "body": "@Sach I know lol, it&#39;s not part of any actual code and is just a placeholder name for this post."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1574375594, "post_id": 58963394, "comment_id": 104222027, "body": "@BBonless: Please don&#39;t ask questions if you&#39;re not interested in the answers; the people volunteering to answer questions could be spending time answering questions where people do care about the answer."}, {"owner": {"reputation": 35, "user_id": 11321886, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8rz8z3lpxxE/AAAAAAAAAAI/AAAAAAAAA_M/gyIxvTuqVrE/photo.jpg?sz=128", "display_name": "BBonless", "link": "https://stackoverflow.com/users/11321886/bbonless"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1574375860, "post_id": 58963394, "comment_id": 104222106, "body": "@EricLippert What makes you think I&#39;m not interested in the answer? What Rufus said was helpful and I&#39;m definitely thankful for it. I&#39;m just saying I didn&#39;t mind how the program was optimized, whether quick or efficient."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11321886, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8rz8z3lpxxE/AAAAAAAAAAI/AAAAAAAAA_M/gyIxvTuqVrE/photo.jpg?sz=128", "display_name": "BBonless", "link": "https://stackoverflow.com/users/11321886/bbonless"}, "edited": false, "score": 0, "creation_date": 1574374913, "post_id": 58963700, "comment_id": 104221786, "body": "Woah. Thanks for the detailed explaination despite my lackluster wording! This helps alot!"}], "tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 0, "last_activity_date": 1574285503, "creation_date": 1574285503, "answer_id": 58963700, "question_id": 58963394, "link": "https://stackoverflow.com/questions/58963394/best-way-to-find-how-many-times-an-item-in-a-list-repeats-in-a-row-in-c/58963700#58963700", "title": "Best way to find how many times an item in a list repeats in a row, in C#?", "body": "<p>I would just loop through the list, and for each item I would see if the current item is the same as the previous item. If it is, increment a count variable and continue. If it isn't, capture the previous item and the count and reset the previous item to the current item and the count to <code>1</code>.</p>\n\n<p>One way to make this easier is to create a simple class that holds a <code>Value</code> and a <code>Count</code>, so that we can return a list of these that represent the items in the list:</p>\n\n<pre><code>public class Item&lt;T&gt;\n{\n    public T Value { get; set; }\n    public int Count  { get; set; }\n\n    public override string ToString()\n    {\n        return $\"{Value} * {Count}\";\n    }\n}\n</code></pre>\n\n<p>Then we can write a generic method that takes in a list and returns a list of the class above, using the strategy mentioned in the beginning:</p>\n\n<pre><code>public static List&lt;Item&lt;T&gt;&gt; GetItemCounts&lt;T&gt;(List&lt;T&gt; input)\n{\n    if (input == null) return null;\n    var itemCounts = new List&lt;Item&lt;T&gt;&gt;();\n    Item&lt;T&gt; currentItem = null;\n\n    foreach (var item in input)\n    {\n        // If we haven't set an item yet, do so\n        if (currentItem == null)\n        {\n            currentItem = new Item&lt;T&gt; {Value = item, Count = 1};\n        }\n        // If the current item is the same as this item, increment the count\n        else if (currentItem.Value.Equals(item))\n        {\n            currentItem.Count++;\n        }\n        // This is a new item, so save the current item and create a new one\n        else\n        {\n            itemCounts.Add(currentItem);\n            currentItem = new Item&lt;T&gt; { Value = item, Count = 1 };\n        }\n    }\n\n    // Add the last item\n    if (currentItem != null) itemCounts.Add(currentItem);\n\n    return itemCounts;\n}\n</code></pre>\n\n<p>Now, using your sample input, we can use the method above to get our results:</p>\n\n<pre><code>public static void Main(string[] args)\n{\n    var items = new List&lt;int&gt; {1, 1, 1, 3, 3, 4, 4, 1, 1, 8, 8, 8, 5, 6, 7, 7, 7, 7, 8, 8};\n\n    // Get our item counts and output them to the console window\n    GetItemCounts(items).ForEach(Console.WriteLine);\n\n    GetKeyFromUser(\"\\nDone! Press any key to exit...\");\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/CUbO0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CUbO0.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": false, "score": 0, "last_activity_date": 1574285517, "creation_date": 1574285517, "answer_id": 58963705, "question_id": 58963394, "link": "https://stackoverflow.com/questions/58963394/best-way-to-find-how-many-times-an-item-in-a-list-repeats-in-a-row-in-c/58963705#58963705", "title": "Best way to find how many times an item in a list repeats in a row, in C#?", "body": "<p>Here's an algorithm that works.</p>\n\n<p>The idea is this; iterate through the list until we reach the penultimate item, and at each iteration see if current items is the same as the next. If so, increment the <code>repeat</code> variable, which is initialized to <code>1</code>. Otherwise, print the count of the current item and reset <code>repeat</code>.</p>\n\n<pre><code>var numbers = new List&lt;int&gt;() { 1, 1, 1, 3, 3, 4, 4, 1, 1, 8, 8, 8, 5, 6, 7, 7, 7, 7, 8, 8, 7 };\n\nvar repeat = 1;\nfor (int i = 0; i &lt; numbers.Count - 1; i++)\n{\n    if (numbers[i] == numbers[i + 1])\n    {\n        repeat++;\n    }\n    else\n    {\n        Console.WriteLine(\"{0} * {1}\", numbers[i], repeat);\n        repeat = 1;\n    }\n\n    if (i == numbers.Count - 2)\n    {\n        if (numbers[i] == numbers[i + 1])\n        {\n            Console.WriteLine(\"{0} * {1}\", numbers[i], repeat);\n        }\n        else\n        {\n            Console.WriteLine(\"{0} * {1}\", numbers[i + 1], 1);\n        }\n    }\n}\n</code></pre>\n\n<p>The additional <code>if</code> at the end is to deal with the special case of last item. Since we iterate the loop only up to the penultimate item, we need to check the last item separately.</p>\n"}], "owner": {"reputation": 35, "user_id": 11321886, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8rz8z3lpxxE/AAAAAAAAAAI/AAAAAAAAA_M/gyIxvTuqVrE/photo.jpg?sz=128", "display_name": "BBonless", "link": "https://stackoverflow.com/users/11321886/bbonless"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "closed_date": 1574296981, "accepted_answer_id": 58963700, "answer_count": 2, "score": -6, "last_activity_date": 1574285517, "creation_date": 1574284086, "question_id": 58963394, "link": "https://stackoverflow.com/questions/58963394/best-way-to-find-how-many-times-an-item-in-a-list-repeats-in-a-row-in-c", "closed_reason": "Needs details or clarity", "title": "Best way to find how many times an item in a list repeats in a row, in C#?", "body": "<p>Given a list, for example:\n<code>List&lt;int&gt; _ = new List&lt;int&gt;() { 1, 1, 1, 3, 3, 4, 4, 1, 1, 8, 8, 8, 5, 6, 7, 7, 7, 7, 8, 8 };</code></p>\n\n<p>What would be the best / fastest / most efficient way to find how many times an item repeats in a row, in C#?\nFor this list, the result I'd be looking for is something that looks like this:</p>\n\n<p>1 * 3</p>\n\n<p>3 * 2</p>\n\n<p>4 * 2</p>\n\n<p>1 * 2</p>\n\n<p>8 * 3</p>\n\n<p>5 * 1</p>\n\n<p>6 * 1</p>\n\n<p>7 * 4</p>\n\n<p>8 * 2</p>\n\n<p>Doesn't have to be in this odd multiplication format, I think it makes it a bit easier to understand.</p>\n\n<p>I've been trying looping over the List and comparing each item to the next, but I inevitably get stuck, and don't really know what to do.</p>\n"}, {"tags": ["c#", "winforms", "devexpress-gridcontrol"], "answers": [{"tags": [], "owner": {"reputation": 120, "user_id": 10453490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gecfA.png?s=128&g=1", "display_name": "LPGTE SOFTS", "link": "https://stackoverflow.com/users/10453490/lpgte-softs"}, "is_accepted": false, "score": 0, "last_activity_date": 1574509921, "last_edit_date": 1574509921, "creation_date": 1574509301, "answer_id": 59007215, "question_id": 58963379, "link": "https://stackoverflow.com/questions/58963379/changing-row-back-color-on-devexpress-gridview-on-condition/59007215#59007215", "title": "Changing Row Back Color on DevExpress GridView on condition", "body": "<p>Here code modified, it is done with notepad and it remains the test.</p>\n\n<p>First the background color of gridview1 that must be changed according to the values \u200b\u200bof \"BS\" and \"rep\u00e8re\", this is done in the RowStyle function.</p>\n\n<pre><code>private void gridView1_RowStyle(object sender, RowStyleEventArgs e)  {  \n\n    If (e.RowHandle = this.gridView1.FocusedRowHandle)  \n    {\n       string strBS = gridView1.GetRowCellValue(row, \"BS\");\n       string strRepere = gridView1.GetRowCellValue(row, \"Rep\u00e8re\");\n        if (SearchRow(strBS,strRepere)==true)\n         {\n           e.Appearance.BackColor = Color.Red  \n           e.HighPriority = True  \n          }\n    }\n}\n\nprivate bool SearchRow(string strBS, string strRepere)  {  \n    bool RowExist=false;\n    for (int j = 0; j &lt; gridView3.RowCount; j++)\n    {\n      if (gridView3.GetRowCellValue(j, \"ProjectN\").ToString() ==strBS &amp;&amp;\n        gridView3.GetRowCellValue(j, \"Parts\").ToString()==strRepere)\n      {\n         RowExist=true;\n         Break;\n      }\n    }\n   return RowExist;    \n}\n</code></pre>\n\n<p>Adding gridview1 Rows to gridview3</p>\n\n<pre><code>private async void btnAdd_Click(object sender, EventArgs e)\n{\n        int[] selectedRows = gridView1.GetSelectedRows();\n        for (int i = 0; i &lt; selectedRows.Length; i++)\n        {\n            DataRow rowGridView1 = (gridView1.GetRow(selectedRows[i]) as DataRowView).Row;\n            for (int j = 0; j &lt; gridView3.RowCount; j++)\n            {\n                if (rowGridView1[\"BS\"].ToString() == gridView3.GetRowCellValue(j, \"ProjectN\").ToString() &amp;&amp;\n                    rowGridView1[\"Rep\u00e8re\"].ToString() == gridView3.GetRowCellValue(j, \"Parts\").ToString())\n                {\n                    DataRow row = dt.NewRow();\n                    row[0] = rowGridView1[\"BS\"];\n                    row[1] = gridView3.GetRowCellValue(j, \"Parts\");\n                    row[2] = gridView3.GetRowCellValue(j, \"Profile\");\n                    row[3] = rowGridView1[\"Quantit\u00e9\"];\n\n                    dt.Rows.Add(row);\n            dt.AcceptChanges();\n                }\n            }\n       }\n\n       gridView1.Datasource=dt;\n       grid.DataBind();\n}\n</code></pre>\n"}], "owner": {"reputation": 272, "user_id": 9608194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e124929b13fa92ab2e6546a7bc22ec?s=128&d=identicon&r=PG&f=1", "display_name": "M.Bouabdallah", "link": "https://stackoverflow.com/users/9608194/m-bouabdallah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574509921, "creation_date": 1574283999, "last_edit_date": 1574500773, "question_id": 58963379, "link": "https://stackoverflow.com/questions/58963379/changing-row-back-color-on-devexpress-gridview-on-condition", "title": "Changing Row Back Color on DevExpress GridView on condition", "body": "<p>I have two grid view and a button on a click of button I copy data from gridView1 to gridView2\nThis is my code:  </p>\n\n<pre><code>private async void btnAdd_Click(object sender, EventArgs e)\n    {\n        int[] selectedRows = gridView1.GetSelectedRows();\n        for (int i = 0; i &lt; selectedRows.Length; i++)\n\n        {\n            DataRow rowGridView1 = (gridView1.GetRow(selectedRows[i]) as DataRowView).Row;\n            for (int j = 0; j &lt; gridView3.RowCount; j++)\n            {\n                if (rowGridView1[\"BS\"].ToString() == gridView3.GetRowCellValue(j, \"ProjectN\").ToString() &amp;&amp;\n                    rowGridView1[\"Rep\u00e8re\"].ToString() == gridView3.GetRowCellValue(j, \"Parts\").ToString())\n                {\n                    DataRow row = dt.NewRow();\n                    row[0] = rowGridView1[\"BS\"];\n                    row[1] = gridView3.GetRowCellValue(j, \"Parts\");\n                    row[2] = gridView3.GetRowCellValue(j, \"Profile\");\n                    row[3] = rowGridView1[\"Quantit\u00e9\"];\n\n                    dt.Rows.Add(row);\n                }\n                else if(j == (gridView3.RowCount -1)) \n                {\n                    gridView1.RowStyle += (senderr, ee) =&gt; {\n\n                        if (gridView1.GetFocusedDataRow() == rowGridView1)\n                        {\n                            ee.Appearance.BackColor = Color.Red;\n                            ee.HighPriority = true;\n                        }\n                    };\n                }\n            }\n        }\n</code></pre>\n\n<p>I want to change the back color of gridView1 rows that do not match the condition so i can verified them<br>\nUnfortunately, all rows become red.<br>\nhow can I fix this problem.<br>\nThanks in advance</p>\n\n<p><a href=\"https://stackoverflow.com/a/18188865/9608194\">Answer by Giannis Paraskevopoulos</a></p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 3, "creation_date": 1574283907, "post_id": 58963317, "comment_id": 104181786, "body": "You want to use a generic collection type instead, like <code>Dictionary&lt;string, string[]&gt;</code>"}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1574284083, "post_id": 58963317, "comment_id": 104181865, "body": "Because <code>x[&quot;msg&quot;]</code> returns an <code>object</code>, not a <code>string</code>."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1574287213, "post_id": 58963317, "comment_id": 104183148, "body": "You say that the compiler knows that it is of type string, but <code>GetType</code> is a <b>runtime</b> call, not a <b>compile time</b> call. The <i>runtime</i> knows the type; the compiler does not."}], "answers": [{"comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574284049, "post_id": 58963380, "comment_id": 104181849, "body": "I also recently learned that Dictionary uses HashTable mechanics for matching too."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1574284194, "post_id": 58963380, "comment_id": 104181902, "body": "Typo: should be <code>dict</code>, not <code>x</code>."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1574284234, "post_id": 58963380, "comment_id": 104181929, "body": "@Sach Thank you for catching that."}], "tags": [], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "is_accepted": true, "score": 6, "last_activity_date": 1574284224, "last_edit_date": 1574284224, "creation_date": 1574284001, "answer_id": 58963380, "question_id": 58963317, "link": "https://stackoverflow.com/questions/58963317/question-about-language-design-arrays-and-indexing/58963380#58963380", "title": "Question about language design (arrays and indexing)", "body": "<p>Your hashtable isn't a generic.  All it knows is that added values are of type <code>object</code>.</p>\n\n<p>The runtime type of <code>x[\"msg\"]</code> is <code>string[]</code>, but its compile-time type is <code>object</code>.  </p>\n\n<p>This is the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.hashtable.item?view=netframework-4.8\" rel=\"nofollow noreferrer\">signature of the HashTable indexer</a>: <code>object this[object key] { get; set; }</code>.  In other words, at <em>compile time</em>, any object retrieved using the indexer will have compile-time type <code>object</code>.</p>\n\n<p>You can use the generic <code>Dictionary&lt;Tkey, TValue&gt;</code> instead.  This will retain the compile-time type information:</p>\n\n<pre><code>var dict = new Dictionary&lt;string, string[]&gt;();\ndict.Add(\"msg\", new string[]{ \"hello\", \"world\" });\nConsole.WriteLine(dict[\"msg\"][0]);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "is_accepted": false, "score": 1, "last_activity_date": 1574284179, "creation_date": 1574284179, "answer_id": 58963421, "question_id": 58963317, "link": "https://stackoverflow.com/questions/58963317/question-about-language-design-arrays-and-indexing/58963421#58963421", "title": "Question about language design (arrays and indexing)", "body": "<p>It doesn't work because <code>HashTable</code> doesn't know what the type of objects stored in it are. When you get something out of it (e.g. with your <code>x[\"msg\"]</code>) the value of the data returned is going to be of type <code>object</code>. And since <code>object</code> doesn't know how to deal with the indexer operator, trying to force it will result in an error. </p>\n\n<p>It doesn't matter what the underlying data is. What matters is the type of the variable itself is. HashTable returns <code>object</code>s, so without casting you can only do stuff to it what you could normally do with an <code>object</code> variable. This is the nature of using a statically-typed language like C#. (As opposed to a dynamically-typed language like Javascript.)</p>\n\n<p>If, however, you used a generic collection like <code>Dictionary&lt;string, string[]&gt;</code>, you could do this easily. This is because <code>Dictionary</code> uses the generic type parameter to determine what the actual type of the data stored within it is, and so returns values of the correct type. </p>\n\n<pre><code>Dictionary&lt;string, string[]&gt; x = new Dictionary&lt;string, string[]&gt;();\nstring[] y = new string[]{ \"hello\", \"world\" };\n\nx.Add(\"msg\", y);\n\nConsole.WriteLine(x[\"msg\"][0]); // Will execute perfectly fine\n</code></pre>\n"}], "owner": {"reputation": 934, "user_id": 217128, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/r1qNq.jpg?s=128&g=1", "display_name": "andymcgregor", "link": "https://stackoverflow.com/users/217128/andymcgregor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 58963380, "answer_count": 2, "score": -2, "last_activity_date": 1574284224, "creation_date": 1574283719, "question_id": 58963317, "link": "https://stackoverflow.com/questions/58963317/question-about-language-design-arrays-and-indexing", "title": "Question about language design (arrays and indexing)", "body": "<pre><code>using System;\nusing System.Collections;\n\npublic class Program\n{\n    public static void Main()\n    {\n        Hashtable x = new Hashtable();\n        string[] y = new string[]{ \"hello\", \"world\" };\n\n        x.Add(\"msg\", y);\n\n        //Console.WriteLine(x[\"msg\"][0]); why error?\n        Console.WriteLine(x[\"msg\"].GetType()); //System.String[]\n        Console.WriteLine(((string[]) x[\"msg\"])[0]);\n    }\n}\n</code></pre>\n\n<p><strong>Why</strong> i cant access array items like this</p>\n\n<pre><code>Console.WriteLine(x[\"msg\"][0]);//Cannot apply indexing with [] to an expression of type 'object'\n</code></pre>\n\n<p>if compiler knows that its an array of strings</p>\n\n<pre><code>Console.WriteLine(x[\"msg\"].GetType());//System.String[]\n</code></pre>\n\n<p>and it forces me to use such an ugly syntax?</p>\n\n<pre><code>Console.WriteLine(((string[]) x[\"msg\"])[0]);\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 8960482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de135aa22b16187b0ea04a8df45e075?s=128&d=identicon&r=PG&f=1", "display_name": "ATA", "link": "https://stackoverflow.com/users/8960482/ata"}, "edited": false, "score": 0, "creation_date": 1574293596, "post_id": 58964426, "comment_id": 104185307, "body": "Thank you for your reply.  Can you provide an example of a SQL query that I can use.  I assume the query can be placed in the OnPost , correct?"}], "tags": [], "owner": {"reputation": 2253, "user_id": 1223876, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4a9a3cb558d820dfabcd473ae559a09a?s=128&d=identicon&r=PG", "display_name": "daxu", "link": "https://stackoverflow.com/users/1223876/daxu"}, "is_accepted": false, "score": 0, "last_activity_date": 1574289187, "creation_date": 1574289187, "answer_id": 58964426, "question_id": 58963241, "link": "https://stackoverflow.com/questions/58963241/can-multiple-records-be-added-one-at-a-time-using-await-db-savechangesasync/58964426#58964426", "title": "Can multiple records be added one at a time using await _db.SaveChangesAsync", "body": "<p>If you want to stick to pure entity framework, then you can't achieve that. As each entity framework call will be translated to a sql statement. So it will be multiple calls.</p>\n\n<p>Depends on your usage scenario, you could:</p>\n\n<ol>\n<li>Create a stored procedure and add your schedule there. It will be in\none call and more efficient then entity framework. You just call it\nfrom entity framework</li>\n<li>Raw SQL Queries. Similar to sp, but you create sql statement in c#. There is a danger of sql injection, but as long as you\nparameterize your sql correctly, no problem.</li>\n</ol>\n\n<p>Saying that, if your page is quick enough, you may not bother and stick to EF.</p>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 8960482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de135aa22b16187b0ea04a8df45e075?s=128&d=identicon&r=PG&f=1", "display_name": "ATA", "link": "https://stackoverflow.com/users/8960482/ata"}, "is_accepted": true, "score": 0, "last_activity_date": 1574831203, "creation_date": 1574831203, "answer_id": 59063335, "question_id": 58963241, "link": "https://stackoverflow.com/questions/58963241/can-multiple-records-be-added-one-at-a-time-using-await-db-savechangesasync/59063335#59063335", "title": "Can multiple records be added one at a time using await _db.SaveChangesAsync", "body": "<p>Simply put, the code did not recognize that every new date in the loop should be viewed as a new record to be inserted into the database.  The first three lines in the Do While statement resolved the problem.</p>\n\n<pre><code>// OnPost\npublic async Task&lt;IActionResult&gt; OnPostAsync()\n{\n    var newYear = Request.Form[\"txtYear\"];                              \n    DateTime yearEndMarker = Convert.ToDateTime(\"12/31/\"                                                         \n        + newYear);\n\n    var newSunday = Request.Form[\"txtSunday\"];                          \n    DateTime currentSunday = \n                          Convert.ToDateTime(newSunday);             \n\n    do\n    {\n       //the next three lines makes each iteration      \n       //appear as a new record to be saved \n       scheduleIn = new ScheduleIn()\n       {\n           DOT = currentSunday\n       };\n\n         _db.ScheduleIn.Add(scheduleIn);\n         await _db.SaveChangesAsync();\n\n         currentSunday = currentSunday.AddDays(7);\n\n   } while (currentSunday.Date &lt;=  \n                               yearEndMarker.Date);\n\n     Message = \"The year \" + newYear + \" has been \n                successfully initialized\";\n\n     return RedirectToPage(\"Index\");                         \n }\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 8960482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5de135aa22b16187b0ea04a8df45e075?s=128&d=identicon&r=PG&f=1", "display_name": "ATA", "link": "https://stackoverflow.com/users/8960482/ata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 59063335, "answer_count": 2, "score": 0, "last_activity_date": 1574831203, "creation_date": 1574283402, "question_id": 58963241, "link": "https://stackoverflow.com/questions/58963241/can-multiple-records-be-added-one-at-a-time-using-await-db-savechangesasync", "title": "Can multiple records be added one at a time using await _db.SaveChangesAsync", "body": "<p>I'm working on a ASP.Net Razor Page app.  On one page when a user enters a year, and event handler determines the date of the first Sunday in the year and displays the date in a text box. The On Post handler saves the date to the database, then adds seven days to the First Sunday Date to determine the next Sunday Date. When the OnPost tries to save next Sunday Date the program crashes.  Is it possible to save multiple records one at a time using my code?  Is there a better way to accomplish what I'm trying to do?</p>\n\n<pre><code>//*****cshtml.cs*****\nusing System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nusing System.Linq;\nusing System.Reflection.Metadata;\nusing System.Threading.Tasks;\nusing Microsoft.AspNetCore.Mvc;\nusing Microsoft.AspNetCore.Mvc.RazorPages;\nusing Microsoft.CodeAnalysis;\nusing PublicTalkSchedule.Data;\nusing PublicTalkSchedule.Models;\nusing Document = System.Reflection.Metadata.Document;\n\nnamespace PublicTalkSchedule.Pages.TalksIncoming\n{\n    public class CreateModel : PageModel\n    {\n        private readonly ApplicationDbContext _db;\n\n        public CreateModel(ApplicationDbContext db)\n        {\n            _db = db;\n        }\n\n        // ***** success message - displays message from create, edit or delete page *****\n        [TempData]\n        public string Message { get; set; }\n\n        public string lblMessage { get; set; }\n        public DateTime currentDate { get; set; }\n        public int weekDay { get; set; }\n        [Required(ErrorMessage = \"The Year field is required... \")]\n        public string txtYear { get; set; }\n        [Required(ErrorMessage = \"The Sunday Date field is required... \")]\n        public string txtSunday { get; set; }\n\n        [BindProperty]\n        public ScheduleIn scheduleIn { get; set; }\n\n\n        // OnGet\n        public IActionResult OnGet(DateTime sunDate, string newYear)\n        {\n            //determine if sunDate is a valid Sunday date for the selected year.  if valid, run code. if blank\n            //(MinValue equals 01/01/0001 and indicates a blank textbox), skip code. the initialize schedule page appears\n            if (sunDate != DateTime.MinValue)   \n            {\n                txtYear = newYear;\n\n                var strSunday = sunDate.ToString(\"MM/dd/yyyy\");\n                txtSunday = strSunday;\n            }\n\n            txtYear = newYear;\n\n            return Page();\n        }\n\n\n\n        // OnPost\n        public async Task&lt;IActionResult&gt; OnPostAsync()\n        {\n            var newYear = Request.Form[\"txtYear\"];      //get the first Sunday from the page\n            DateTime yearEndMarker = Convert.ToDateTime(\"12/25/\" + newYear);   \n\n            var newSunday = Request.Form[\"txtSunday\"];        //get the first Sunday from the page\n            DateTime currentSunday = Convert.ToDateTime(newSunday);   //convert String to DateTime\n\n            scheduleIn.DOT = currentSunday;\n\n\n            do\n            {\n                _db.ScheduleIn.Add(scheduleIn);\n                await _db.SaveChangesAsync();\n\n                currentSunday = currentSunday.AddDays(7);\n                scheduleIn.DOT = currentSunday;\n\n            } while (currentSunday.Date &lt;= yearEndMarker.Date);\n\n\n            return RedirectToPage(\"Index\");                         //return to Index page\n        }\n\n\n\n        //On Post - Initialize Year  \n        public async Task&lt;IActionResult&gt; OnPostInitializeYear()\n        {\n            var newYear = Request.Form[\"txtYear\"];      //get the selected year\n\n            //add newYear to jan. 1, then convert to datetime. \n            currentDate = Convert.ToDateTime(\"01/01/\" + newYear);\n            weekDay = Convert.ToInt32(currentDate.DayOfWeek);\n\n            //determine he first Sunday in the year.  increase sunDate by 1 until weekDay equals 0 )\n            do\n            {\n                currentDate = currentDate.AddDays(1);\n                weekDay = Convert.ToInt32(currentDate.DayOfWeek);\n            }\n            while (weekDay != 0);\n\n            return RedirectToPage(\"Create\", new { sunDate = currentDate, newYear = newYear });\n        }   \n    }\n}\n\n\n//*****cshtml\n@page\n@model PublicTalkSchedule.Pages.TalksIncoming.CreateModel\n@{\n    ViewData[\"Title\"] = \"Create\";\n    Layout = \"~/Pages/Shared/_Layout.cshtml\";\n}\n\n&lt;!-- *************** code used to display success message *************** --&gt;\n@if (Model.Message != null)\n{\n    &lt;div class=\"alert alert-info alert-dismissible\" role=\"alert\"&gt;\n        &lt;button type=\"button\" class=\"close\" data-dismiss=\"alert\" aira-label=\"close\"&gt;\n            &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n        &lt;/button&gt;\n        @Model.Message\n    &lt;/div&gt;\n}\n\n\n&lt;!-- ****************************** Create (initilize) Incoming New Year Schedule Banner ****************************** --&gt;\n&lt;br /&gt;\n&lt;h4 class=\"text-info\"&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; Initilize New Calendar Year for Incomming Talk Schedule&lt;/h4&gt;\n&lt;br /&gt;\n\n&lt;form method=\"post\"&gt;\n\n    &lt;div class=\"border backgroundwhite\"&gt;\n\n        &lt;!-- setup border, texbox (for new calendar year) and submit button--&gt;\n        &lt;div style=\"height:110px;\" class=\"container border border-secondary\"&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"col-12\"&gt;\n                    &lt;div class=\"row\" style=\"padding-top:10px\"&gt;\n                        &lt;div class=\"col-1\"&gt;&lt;/div&gt;\n                        &lt;!-- textbox NewYear--&gt;\n                        &lt;div class=\"col-4 text-right\"&gt;\n                            &lt;h4 id=\"lblYear\" class=\"text-info pl-1 pt-1 pb-1\"&gt;Enter New Year:&lt;/h4&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"col-2\"&gt;\n                            &lt;input type=\"text\" asp-for=\"txtYear\" runat=\"server\" id=\"txtYear\"\n                                   class=\"text-black pl-1 pt-1 pb-1\" style=\"width:90px; text-align:center\" /&gt;\n                        &lt;/div&gt;\n                        &lt;span asp-validation-for=\"txtYear\" class=\"text-danger\"&gt;&lt;/span&gt;\n\n                        &lt;div class=\"col-1\"&gt;&lt;/div&gt;\n                        &lt;div class=\"col-2 text-right\"&gt;\n                            &lt;!-- submit button --&gt;\n                            &lt;button type=\"submit\" asp-page-handler=\"InitializeYear\" runat=\"server\"\n                                    class=\"form-control btn btn-primary\"&gt;\n                                Submit\n                            &lt;/button&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n\n                &lt;br /&gt;\n\n                &lt;!-- *************** if tstYear is null, then hide txtSunday and txtLabel ***************--&gt;\n                &lt;!-- display first sunday date for new calendar year with confirm button --&gt;\n                @if (!String.IsNullOrWhiteSpace(Model.txtYear))\n                {\n                    &lt;div class=\"col-12\"&gt;\n                        &lt;div class=\"row\" style=\"padding-top:5px\"&gt;\n                            &lt;div class=\"col-2\"&gt;&lt;/div&gt;\n                            &lt;!--txtSunay--&gt;\n                            &lt;div class=\"col-11 offset-2\" style=\"padding-bottom:10px\" text-align:center&gt;\n                                &lt;input type=\"text\" asp-for=\"txtSunday\" runat=\"server\" id=\"txtSunday\"\n                                       class=\"text-black pl-1 pt-1 pb-1\" style=\"width:100px\" ; text-align:center /&gt;\n                                &lt;h10 id=\"lblSunday\" class=\"text-info pl-1 pt-5 pb-1\"&gt;is the FIRST Sunday the year. If this is correct, click Create&lt;/h10&gt;\n                            &lt;/div&gt;\n\n                            &lt;!--lblSunday--&gt;\n                            @*&lt;div class=\"col-8\"&gt;\n                                &lt;h10 id=\"lblSunday\" class=\"text-info pl-1 pt-5 pb-1\"&gt;is the FIRST Sunday the year. If this is correct, click Continue&lt;/h10&gt;\n                            &lt;/div&gt;*@\n                        &lt;/div&gt;\n\n                    &lt;/div&gt;\n                }\n                &lt;!-- ************************* LAST LINE OF HIDEN IV SECTION ***************--&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;br /&gt;\n        &lt;!-- add buttons--&gt;\n        &lt;div class=\"form-group row\"&gt;\n            &lt;div class=\"col-5 offset-3\"&gt;\n                &lt;partial name=\"_CreateAndBackToListButton\" /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n\n&lt;/form&gt;\n\n@section Scripts{\n    @{ await Html.RenderPartialAsync(\"_ValidationScriptsPartial\");}\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 1, "creation_date": 1574283148, "post_id": 58963169, "comment_id": 104181462, "body": "Have you tried the package <code>Microsoft.AspNetCore.Mvc.OkObjectResult</code> or <code>Microsoft.AspNetCore.Mvc.OkResult</code>"}, {"owner": {"reputation": 2255, "user_id": 4783205, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HUnVS.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/4783205/michael"}, "edited": false, "score": 0, "creation_date": 1574283878, "post_id": 58963169, "comment_id": 104181771, "body": "What it is that you are trying to accomplish? Maybe there is another way of doing the same thing?"}, {"owner": {"reputation": 13, "user_id": 10524462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2ay1.jpg?s=128&g=1", "display_name": "Mayardes Oliveira", "link": "https://stackoverflow.com/users/10524462/mayardes-oliveira"}, "edited": false, "score": 0, "creation_date": 1574284436, "post_id": 58963169, "comment_id": 104182013, "body": "Maybe! In Asp.Net MVC OkNegotiatedContentResult it works."}, {"owner": {"reputation": 13628, "user_id": 11398810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCTFx.jpg?s=128&g=1", "display_name": "Rena", "link": "https://stackoverflow.com/users/11398810/rena"}, "edited": false, "score": 0, "creation_date": 1574301643, "post_id": 58963169, "comment_id": 104187217, "body": "Try this: <code>FindResponse findResponse = new FindResponse();</code>  <code>var contentResult = ret as OkObjectResult(findResponse);</code>"}, {"owner": {"reputation": 13, "user_id": 10524462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2ay1.jpg?s=128&g=1", "display_name": "Mayardes Oliveira", "link": "https://stackoverflow.com/users/10524462/mayardes-oliveira"}, "edited": false, "score": 0, "creation_date": 1574342830, "post_id": 58963169, "comment_id": 104205171, "body": "I&#39;ll try to do that. Thanks"}, {"owner": {"reputation": 13, "user_id": 10524462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2ay1.jpg?s=128&g=1", "display_name": "Mayardes Oliveira", "link": "https://stackoverflow.com/users/10524462/mayardes-oliveira"}, "edited": false, "score": 0, "creation_date": 1574368639, "post_id": 58963169, "comment_id": 104219235, "body": "Thank you, I managed to solve!"}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 10524462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2ay1.jpg?s=128&g=1", "display_name": "Mayardes Oliveira", "link": "https://stackoverflow.com/users/10524462/mayardes-oliveira"}, "is_accepted": true, "score": 0, "last_activity_date": 1574368574, "creation_date": 1574368574, "answer_id": 58983327, "question_id": 58963169, "link": "https://stackoverflow.com/questions/58963169/replacement-for-oknegotiatedcontentresult-in-asp-net-core-3-0/58983327#58983327", "title": "Replacement for OkNegotiatedContentResult in ASP.NET Core 3.0?", "body": "<p><strong>I managed to solve according below in ASP.Net Core:</strong></p>\n\n<pre><code> public IActionResult PostOpenBase64([FromBody]Open64Request request)\n    {\n        string param = Base64.DecodeFromBase64(request.b64);\n        EvaluationParameter ep = JsonConvert.DeserializeObject&lt;EvaluationParameter&gt;(param);\n        OpenRequest or = new OpenRequest();\n        FindRequest fr = new FindRequest();\n        or.Parameters = ep;\n        fr.Parameters = ep;\n        IActionResult ret = Post(fr);\n\n        var contentResult = ret as OkObjectResult;\n        FindResponse response = (FindResponse)contentResult.Value;\n\n        if (response.MustOpen || response.EvaluationId == 0)\n        {\n            Post(or); //Open\n            ret = Post(fr); //Find\n        }\n\n        return ret;\n    }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10524462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R2ay1.jpg?s=128&g=1", "display_name": "Mayardes Oliveira", "link": "https://stackoverflow.com/users/10524462/mayardes-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 58983327, "answer_count": 1, "score": 0, "last_activity_date": 1574368574, "creation_date": 1574283026, "question_id": 58963169, "link": "https://stackoverflow.com/questions/58963169/replacement-for-oknegotiatedcontentresult-in-asp-net-core-3-0", "title": "Replacement for OkNegotiatedContentResult in ASP.NET Core 3.0?", "body": "<p><strong>I have following code:</strong></p>\n\n<pre><code>    public IActionResult PostOpenBase64([FromBody]Open64Request request)\n    {\n        string param = Base64.DecodeFromBase64(request.b64);\n        EvaluationParameter ep = \n        JsonConvert.DeserializeObject&lt;EvaluationParameter&gt;(param);\n        OpenRequest or = new OpenRequest();\n        FindRequest fr = new FindRequest();\n        or.Parameters = ep;\n        fr.Parameters = ep;\n        IActionResult ret = Post(fr);\n\n        var contentResult = ret as OkNegotiatedContentResult&lt;FindResponse&gt;;\n\n        FindResponse response = contentResult.Content;\n\n        if (response.MustOpen || response.EvaluationId == 0)\n        {\n            Post(or); //Open\n            ret = Post(fr);\n        }\n\n        return ret;\n    }\n</code></pre>\n\n<p>The problem here is <strong>OkNegotiatedContentResult</strong> is unknown is ASP.Net Core.\nAnyone have idea to solve this problem?</p>\n"}, {"tags": ["c#", "unit-testing", "asp.net-core", "asp.net-core-middleware", "asp.net-core-authenticationhandler"], "answers": [{"comments": [{"owner": {"reputation": 4983, "user_id": 5789, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/400e387db6de9e9870789adc387d6c21?s=128&d=identicon&r=PG", "display_name": "Luk", "link": "https://stackoverflow.com/users/5789/luk"}, "edited": false, "score": 11, "creation_date": 1578068642, "post_id": 58963134, "comment_id": 105330064, "body": "note that <code>_options</code> must return <code>new AuthenticationSchemeOptions()</code> when <code>OptionsMonitor.Get(Scheme.Name)</code> is called in <code>InitializeAsync</code>. When using NSubtitute, I had to explicitely say so (otherwise the test crashed)"}, {"owner": {"reputation": 113, "user_id": 4262994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcd2f1ee4caa04dc83f3b478bb1f0bdf?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/4262994/travis"}, "reply_to_user": {"reputation": 4983, "user_id": 5789, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/400e387db6de9e9870789adc387d6c21?s=128&d=identicon&r=PG", "display_name": "Luk", "link": "https://stackoverflow.com/users/5789/luk"}, "edited": false, "score": 1, "creation_date": 1579295477, "post_id": 58963134, "comment_id": 105731911, "body": "@Luk I had to do the same thing for NSubstitute for it not to crash. But I&#39;m not sure I understand why given this line: <a href=\"https://github.com/aspnet/Security/blob/master/src/Microsoft.AspNetCore.Authentication/AuthenticationHandler.cs#L85\" rel=\"nofollow noreferrer\">github.com/aspnet/Security/blob/master/src/&hellip;</a>   - it should just create a new instance itself? What am I missing?   As an aside - I only had to do this in .NET Core 3.1 (I migrated an app from 2.1 where this didn&#39;t matter)."}, {"owner": {"reputation": 1900, "user_id": 60602, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/210c528a2daf12a485e02738e5ad2491?s=128&d=identicon&r=PG", "display_name": "Steve Pettifer", "link": "https://stackoverflow.com/users/60602/steve-pettifer"}, "reply_to_user": {"reputation": 4983, "user_id": 5789, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/400e387db6de9e9870789adc387d6c21?s=128&d=identicon&r=PG", "display_name": "Luk", "link": "https://stackoverflow.com/users/5789/luk"}, "edited": false, "score": 1, "creation_date": 1588772784, "post_id": 58963134, "comment_id": 109027551, "body": "Thank you @Luk, you have solved a mystery for me that I got when upgrading from 2.2 to 3.1 and again when creating a new 3.1 project. As @Travis pointed out I couldn&#39;t see why on earth this would be an issue given that line in the code for <code>InitializeAsync</code> and until I read your comment I had been completely unable to work it out."}, {"owner": {"reputation": 101, "user_id": 2142965, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9b93aeb12da5edbd739e9650c91703a8?s=128&d=identicon&r=PG", "display_name": "nikhilbhr", "link": "https://stackoverflow.com/users/2142965/nikhilbhr"}, "edited": false, "score": 7, "creation_date": 1596942767, "post_id": 58963134, "comment_id": 111971189, "body": "To avoid Null reference exception with Authentication 3.1 library , add on line number 2 in BasicAuthenticationTests() constructor following line   _options.Setup(x =&gt; x.Get(AuthenticationSchemeOptions.AuthenticationSchemeName))&zwnj;&#8203;.Returns(new AuthenticationSchemeOptions());"}], "tags": [], "owner": {"reputation": 5885, "user_id": 787958, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5930b88072538304c9f866a30a9686b6?s=128&d=identicon&r=PG", "display_name": "ScubaSteve", "link": "https://stackoverflow.com/users/787958/scubasteve"}, "is_accepted": false, "score": 21, "last_activity_date": 1574282873, "creation_date": 1574282873, "answer_id": 58963134, "question_id": 58963133, "link": "https://stackoverflow.com/questions/58963133/unit-test-custom-authenticationhandler-middleware/58963134#58963134", "title": "Unit Test Custom AuthenticationHandler Middleware", "body": "<p>Unit testing custom middleware is relatively easy, but when you inherit from <code>AuthenticationHandler</code>, the base class throws a wrench in it.  After looking everywhere and only finding integration tests, I was finally able to figure out how to do it.</p>\n\n<p>Basic setup of the unit test that won't change per test.</p>\n\n<pre><code>    [TestClass]\n    public class BasicAuthenticationTests\n    {\n        private readonly Mock&lt;IOptionsMonitor&lt;AuthenticationSchemeOptions&gt;&gt; _options;\n        private readonly Mock&lt;ILoggerFactory&gt; _loggerFactory;\n        private readonly Mock&lt;UrlEncoder&gt; _encoder;\n        private readonly Mock&lt;ISystemClock&gt; _clock;\n        private readonly Mock&lt;IProvidePrincipal&gt; _principalProvider;\n        private readonly BasicAuthenticationHandler _handler;\n\n        public BasicAuthenticationTests()\n        {\n            _options = new Mock&lt;IOptionsMonitor&lt;AuthenticationSchemeOptions&gt;&gt;();\n\n            var logger = new Mock&lt;ILogger&lt;BasicAuthenticationHandler&gt;&gt;();\n            _loggerFactory = new Mock&lt;ILoggerFactory&gt;();\n            _loggerFactory.Setup(x =&gt; x.CreateLogger(It.IsAny&lt;String&gt;())).Returns(logger.Object);\n\n            _encoder = new Mock&lt;UrlEncoder&gt;();\n            _clock = new Mock&lt;ISystemClock&gt;();\n            _principalProvider = new Mock&lt;IProvidePrincipal&gt;();\n\n            _handler = new BasicAuthenticationHandler(_options.Object, _loggerFactory.Object, _encoder.Object, _clock.Object, _principalProvider.Object);\n        }\n</code></pre>\n\n<p><strong>Special note</strong> on <code>_loggerFactory.Setup(x =&gt; x.CreateLogger(It.IsAny&lt;String&gt;())).Returns(logger.Object);</code>\nIf you do not do this, your unit tests will bomb after your handler finishes on a null reference in code that you cannot debug.  It is because the base class calls <code>CreateLogger</code> in its constructor.</p>\n\n<p>Now, you can setup the context using <code>DefaultHttpContext</code> to test the logic.</p>\n\n<pre><code>        [TestMethod]\n        public async Task HandleAuthenticateAsync_NoAuthorizationHeader_ReturnsAuthenticateResultFail()\n        {\n            var context = new DefaultHttpContext();\n\n            await _handler.InitializeAsync(new AuthenticationScheme(BasicAuthenticationHandler.SchemeName, null, typeof(BasicAuthenticationHandler)), context);\n            var result = await _handler.AuthenticateAsync();\n\n            Assert.IsFalse(result.Succeeded);\n            Assert.AreEqual(\"Basic authentication failed.  Authorization header is missing.\", result.Failure.Message);\n        }\n</code></pre>\n\n<p><strong>Note</strong> that you cannot call <code>HandleAuthenticateAsync</code> directly as it is protected. The handler must be Initialized first then call <code>AuthenticateAsync</code>.</p>\n\n<p>I included the rest of the logic to be tested below to give examples on how to manipulate the context \n and assert on the result for different testing scenarios.</p>\n\n<pre><code>        [TestMethod]\n        public async Task HandleAuthenticateAsync_CredentialsTryParseFails_ReturnsAuthenticateResultFail()\n        {\n            var context = new DefaultHttpContext();\n            var authorizationHeader = new StringValues(String.Empty);\n            context.Request.Headers.Add(HeaderNames.Authorization, authorizationHeader);\n\n            await _handler.InitializeAsync(new AuthenticationScheme(BasicAuthenticationHandler.SchemeName, null, typeof(BasicAuthenticationHandler)), context);\n            var result = await _handler.AuthenticateAsync();\n\n            Assert.IsFalse(result.Succeeded);\n            Assert.AreEqual(\"Basic authentication failed.  Unable to parse username and password.\", result.Failure.Message);\n        }\n\n        [TestMethod]\n        public async Task HandleAuthenticateAsync_PrincipalIsNull_ReturnsAuthenticateResultFail()\n        {\n            _principalProvider.Setup(m =&gt; m.GetClaimsPrincipalAsync(It.IsAny&lt;String&gt;(), It.IsAny&lt;String&gt;(), It.IsAny&lt;String&gt;())).ReturnsAsync((ClaimsPrincipal)null);\n\n            var context = new DefaultHttpContext();\n            var authorizationHeader = new StringValues(\"Basic VGVzdFVzZXJOYW1lOlRlc3RQYXNzd29yZA==\");\n            context.Request.Headers.Add(HeaderNames.Authorization, authorizationHeader);\n\n            await _handler.InitializeAsync(new AuthenticationScheme(BasicAuthenticationHandler.SchemeName, null, typeof(BasicAuthenticationHandler)), context);\n            var result = await _handler.AuthenticateAsync();\n\n            Assert.IsFalse(result.Succeeded);\n            Assert.AreEqual(\"Basic authentication failed.  Invalid username and password.\", result.Failure.Message);\n        }\n\n        [TestMethod]\n        public async Task HandleAuthenticateAsync_PrincipalIsNull_ReturnsAuthenticateResultSuccessWithPrincipalInTicket()\n        {\n            var username = \"TestUserName\";\n            var claims = new[] { new Claim(ClaimTypes.Name, username) };\n            var identity = new ClaimsIdentity(claims, BasicAuthenticationHandler.SchemeName);\n            var claimsPrincipal = new ClaimsPrincipal(identity);\n            _principalProvider.Setup(m =&gt; m.GetClaimsPrincipalAsync(It.IsAny&lt;String&gt;(), It.IsAny&lt;String&gt;(), It.IsAny&lt;String&gt;())).ReturnsAsync(claimsPrincipal);\n\n            var context = new DefaultHttpContext();\n            var authorizationHeader = new StringValues(\"Basic VGVzdFVzZXJOYW1lOlRlc3RQYXNzd29yZA==\");\n            context.Request.Headers.Add(HeaderNames.Authorization, authorizationHeader);\n\n            await _handler.InitializeAsync(new AuthenticationScheme(BasicAuthenticationHandler.SchemeName, null, typeof(BasicAuthenticationHandler)), context);\n            var result = await _handler.AuthenticateAsync();\n\n            Assert.IsTrue(result.Succeeded);\n            Assert.AreEqual(BasicAuthenticationHandler.SchemeName, result.Ticket.AuthenticationScheme);\n            Assert.AreEqual(username, result.Ticket.Principal.Identity.Name);\n        }\n</code></pre>\n"}], "owner": {"reputation": 5885, "user_id": 787958, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5930b88072538304c9f866a30a9686b6?s=128&d=identicon&r=PG", "display_name": "ScubaSteve", "link": "https://stackoverflow.com/users/787958/scubasteve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3423, "favorite_count": 2, "answer_count": 1, "score": 8, "last_activity_date": 1575266240, "creation_date": 1574282873, "last_edit_date": 1575266240, "question_id": 58963133, "link": "https://stackoverflow.com/questions/58963133/unit-test-custom-authenticationhandler-middleware", "title": "Unit Test Custom AuthenticationHandler Middleware", "body": "<p>How do you unit test custom middleware that inherits from <code>AuthenticationHandler&lt;AuthenticationSchemeOptions&gt;</code>?</p>\n\n<p>My custom class that inherits from it is for Basic authentication.</p>\n\n<pre><code>    public class BasicAuthenticationHandler : AuthenticationHandler&lt;AuthenticationSchemeOptions&gt;\n    {\n        private readonly IProvidePrincipal _principalProvider;\n\n        public BasicAuthenticationHandler(IOptionsMonitor&lt;AuthenticationSchemeOptions&gt; options, ILoggerFactory logger, UrlEncoder encoder, ISystemClock clock, IProvidePrincipal principalProvider)\n            : base(options, logger, encoder, clock)\n        {\n            _principalProvider = principalProvider;\n        }\n\n        protected override async Task&lt;AuthenticateResult&gt; HandleAuthenticateAsync()\n        {\n            if (Request.Headers.TryGetValue(HeaderNames.Authorization, out StringValues authorizationHeader))\n            {\n                if (Credentials.TryParse(authorizationHeader, out Credentials credentials))\n                {\n                    var principal = await _principalProvider.GetClaimsPrincipalAsync(credentials.Username, credentials.Password, Scheme.Name);\n\n                    if (principal != null)\n                    {\n                        var ticket = new AuthenticationTicket(principal, Scheme.Name);\n\n                        return AuthenticateResult.Success(ticket);\n                    }\n                    else\n                    {\n                        return AuthenticateResult.Fail(\"Basic authentication failed.  Invalid username and password.\");\n                    }\n                }\n                else\n                {\n                    return AuthenticateResult.Fail(\"Basic authentication failed.  Unable to parse username and password.\");\n                }\n            }\n\n            return AuthenticateResult.Fail(\"Basic authentication failed.  Authorization header is missing.\");\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "azure-functions"], "comments": [{"owner": {"reputation": 10995, "user_id": 10383250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86977ed7f8c387560ffd1c75bc41bedc?s=128&d=identicon&r=PG&f=1", "display_name": "George Chen", "link": "https://stackoverflow.com/users/10383250/george-chen"}, "edited": false, "score": 0, "creation_date": 1574324457, "post_id": 58963063, "comment_id": 104194259, "body": "You  already know use <code>IAsyncCollector</code> to access the output table entity so what&#39;s your main problem now?"}, {"owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "reply_to_user": {"reputation": 10995, "user_id": 10383250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86977ed7f8c387560ffd1c75bc41bedc?s=128&d=identicon&r=PG&f=1", "display_name": "George Chen", "link": "https://stackoverflow.com/users/10383250/george-chen"}, "edited": false, "score": 0, "creation_date": 1574332243, "post_id": 58963063, "comment_id": 104199054, "body": "How do you delete? How do you update?"}], "answers": [{"tags": [], "owner": {"reputation": 1968, "user_id": 2854993, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/903782651787352046ec13f62893eeb3?s=128&d=identicon&r=PG&f=1", "display_name": "Chris B", "link": "https://stackoverflow.com/users/2854993/chris-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1574340049, "last_edit_date": 1574340049, "creation_date": 1574339528, "answer_id": 58975158, "question_id": 58963063, "link": "https://stackoverflow.com/questions/58963063/how-to-bind-to-a-table-in-order-to-do-update-insert-delete/58975158#58975158", "title": "how to bind to a table in order to do update/insert/delete", "body": "<p>Bind with <code>CloudTable</code>:</p>\n\n<pre><code>[Table(\"AzureWebJobsHostLogscommon\")] CloudTable cloudTable\n</code></pre>\n\n<p>Then you can use the <code>TableOperation</code> class to insert, update and delete entities:</p>\n\n<pre><code>TableOperation insert = TableOperation.InsertOrReplace(entity);\nTableOperation delete = TableOperation.Delete(entity);\nTableOperation replace = TableOperation.Replace(entity);\nTableOperation merge = TableOperation.Merge(entity);\n... etc\n\nawait cloudTable.ExecuteAsync(insert);\nawait cloudTable.ExecuteAsync(delete);\nawait cloudTable.ExecuteAsync(replace);\nawait cloudTable.ExecuteAsync(merge);\n... etc\n</code></pre>\n\n<p>Full example:</p>\n\n<pre><code>public class MyEntity : TableEntity\n{\n    public string Name { get; set; }\n}\n\npublic static class HttpTriggeredFunction\n{\n    [FunctionName(\"HttpTriggeredFunction\")]\n    public static async Task&lt;IActionResult&gt; Run(\n        [HttpTrigger(AuthorizationLevel.Function, \"get\", \"post\", Route = null)] HttpRequest req,\n        [Table(\"AzureFunctionsSandbox\", Connection = \"StorageConnectionString\")] CloudTable cloudTable,\n        ILogger log)\n    {\n        log.LogInformation(\"C# HTTP trigger function processed a request.\");\n\n        var myEntity = new MyEntity\n        {\n            PartitionKey = Guid.NewGuid().ToString(),\n            RowKey = Guid.NewGuid().ToString(),\n            Name = \"chris\"\n        };\n\n        TableOperation insert = TableOperation.InsertOrReplace(myEntity);\n\n        await cloudTable.ExecuteAsync(insert);\n\n        return new OkObjectResult(null);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574340049, "creation_date": 1574282569, "question_id": 58963063, "link": "https://stackoverflow.com/questions/58963063/how-to-bind-to-a-table-in-order-to-do-update-insert-delete", "title": "how to bind to a table in order to do update/insert/delete", "body": "<p><strong>Which approach (or combination of approaches) can we utilize in order to enable us to be able to insert, update, and delete entities?</strong></p>\n\n<p>There are several ways to bind to table storage:</p>\n\n<p>This works great if you have just 1 entity that you are retrieving and your trigger has all the info needed to query for that 1 record:</p>\n\n<pre><code>[Table(\"MyTable\", \"MyPartition\", \"{queueTrigger}\")] MyPoco poco\n</code></pre>\n\n<p>With <strong>v1 Functions</strong> we were able to bind like so in order to query (unfortunately this isn't available in v2):</p>\n\n<pre><code>[Table(\"MyTable\", \"MyPartition\")] IQueryable&lt;MyPoco&gt; pocos\n</code></pre>\n\n<p>We can bind with <code>CloudTable</code>:</p>\n\n<pre><code>[Table(\"AzureWebJobsHostLogscommon\")] CloudTable cloudTable\n</code></pre>\n\n<p>Finally, we can bind with <code>IAsyncCollector</code>:</p>\n\n<pre><code>[Table(\"mytable\", \"mypartition\")] IAsyncCollector&lt;MyPoco&gt; MyPoco\n</code></pre>\n\n<p><strong>Which approach (or combination of approaches) can we utilize in order to enable us to be able to insert, update, and delete entities?</strong></p>\n"}, {"tags": ["c#", "wpf", "uwp", "scrollview"], "comments": [{"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1574283694, "post_id": 58963027, "comment_id": 104181691, "body": "You should post an MVCE: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}, {"owner": {"reputation": 1246, "user_id": 1852526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e66cfb9b607ef879597a01bd2ab71bd6?s=128&d=identicon&r=PG", "display_name": "nikhil", "link": "https://stackoverflow.com/users/1852526/nikhil"}, "reply_to_user": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1574284088, "post_id": 58963027, "comment_id": 104181866, "body": "I can update my code for the drag and drop but I wanted to keep the code as short as possible so its easy to understand. Should I post any further details for the code to drag and drop etc.?"}, {"owner": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1574284151, "post_id": 58963027, "comment_id": 104181885, "body": "The best you can do to help yourself is to post enough code so one can simply copy/paste it and see the problem in action."}, {"owner": {"reputation": 1246, "user_id": 1852526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e66cfb9b607ef879597a01bd2ab71bd6?s=128&d=identicon&r=PG", "display_name": "nikhil", "link": "https://stackoverflow.com/users/1852526/nikhil"}, "reply_to_user": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1574284297, "post_id": 58963027, "comment_id": 104181954, "body": "Sure. Let me update my post."}, {"owner": {"reputation": 1246, "user_id": 1852526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e66cfb9b607ef879597a01bd2ab71bd6?s=128&d=identicon&r=PG", "display_name": "nikhil", "link": "https://stackoverflow.com/users/1852526/nikhil"}, "reply_to_user": {"reputation": 12860, "user_id": 361899, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/c16354d30a3d1531f8a7fa053b95716c?s=128&d=identicon&r=PG", "display_name": "aybe", "link": "https://stackoverflow.com/users/361899/aybe"}, "edited": false, "score": 0, "creation_date": 1574284688, "post_id": 58963027, "comment_id": 104182129, "body": "Please see the code, I updated my post."}, {"owner": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "edited": false, "score": 0, "creation_date": 1574309675, "post_id": 58963027, "comment_id": 104189055, "body": "&quot;it somehow assumes that I want to scroll the entire page and the Drag never happens&quot; what do you mean? And I used the code snippet, it worked well, it could drag normally. So What is your expected behavior and what the behavior you currently get? Can you show more details about this?"}, {"owner": {"reputation": 1246, "user_id": 1852526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e66cfb9b607ef879597a01bd2ab71bd6?s=128&d=identicon&r=PG", "display_name": "nikhil", "link": "https://stackoverflow.com/users/1852526/nikhil"}, "edited": false, "score": 0, "creation_date": 1574344637, "post_id": 58963027, "comment_id": 104206322, "body": "If there is no Scrollviewer element in the xaml it&#39;s dragging fine for me also. But when I embed stackpanel in my case, inside the Scrollviewer it never does the drag. I press on one of the thumbs on the screen and I can&#39;t drag it anywhere. I&#39;m testing on a touch screen so I guess that&#39;s making the difference. Let me test on the desktop."}, {"owner": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "edited": false, "score": 0, "creation_date": 1574666423, "post_id": 58963027, "comment_id": 104298157, "body": "When I tested it on a touch screen, it also worked well, the thumbs can be draged. So can you provide a simple sample for us to test? In addition, what is your touch screen and what is the version of it?"}, {"owner": {"reputation": 1246, "user_id": 1852526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e66cfb9b607ef879597a01bd2ab71bd6?s=128&d=identicon&r=PG", "display_name": "nikhil", "link": "https://stackoverflow.com/users/1852526/nikhil"}, "edited": false, "score": 0, "creation_date": 1576090305, "post_id": 58963027, "comment_id": 104789272, "body": "Thank you it works fine for me too. My exact problem was this, in case if it helps someone <a href=\"https://stackoverflow.com/questions/47660777/uwp-how-to-prevent-page-level-scroll-bounce-effect-when-scrolling-inside-a-list\" title=\"uwp how to prevent page level scroll bounce effect when scrolling inside a list\">stackoverflow.com/questions/47660777/&hellip;</a>. When the bounce effect happened, the Thumbs never got the focus back and was unable to drag."}, {"owner": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "edited": false, "score": 0, "creation_date": 1576575958, "post_id": 58963027, "comment_id": 104935656, "body": "So you encountered this issue when the bounce effect happened? Can the solution shared in the link solve your problem?"}, {"owner": {"reputation": 1246, "user_id": 1852526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e66cfb9b607ef879597a01bd2ab71bd6?s=128&d=identicon&r=PG", "display_name": "nikhil", "link": "https://stackoverflow.com/users/1852526/nikhil"}, "reply_to_user": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "edited": false, "score": 0, "creation_date": 1576595797, "post_id": 58963027, "comment_id": 104946546, "body": "Yes @Faywang-MSFT thank you it solved my problem. I just made a small change but using the code shared in the link."}], "owner": {"reputation": 1246, "user_id": 1852526, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e66cfb9b607ef879597a01bd2ab71bd6?s=128&d=identicon&r=PG", "display_name": "nikhil", "link": "https://stackoverflow.com/users/1852526/nikhil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574345976, "creation_date": 1574282425, "last_edit_date": 1574345976, "question_id": 58963027, "link": "https://stackoverflow.com/questions/58963027/drag-and-drop-elements-inside-a-cavas-that-is-inside-a-scrollviewer-on-touch-scr", "title": "Drag and drop elements inside a cavas that is inside a ScrollViewer on touch screen", "body": "<p>I have a ScrollViewer inside which I have some expanders and of the Expander's content has a Canvas. I am drawing two rectangles on the Canvas which are Thumb controls that can be dragged around. Problem is, whenever I press on the rectangles and try to drag, it somehow assumes that I want to scroll the entire page and the Drag never happens. How can I solve this problem inside the ScrollViewer. </p>\n\n<p>There is a property called <code>CanBeScrollAnchor</code>which I saw on MSDN for UWP that says the property is used for (Gets or sets a value that indicates whether the UIElement can be a candidate for scroll anchoring.). But setting that to false doesn't help. (I am adding the WPF tag because the concept is the same). Please help</p>\n\n<p>Edit: This issue occurs only on the touch screen.</p>\n\n<pre><code>&lt;ScrollViewer Grid.Row=\"1\" VerticalScrollBarVisibility=\"Hidden\"&gt;\n&lt;StackPanel Orientation=\"Vertical\" HorizontalAlignment=\"Stretch\"&gt;\n&lt;uwpControls:Expander&gt;\n&lt;!--Some Content--&gt;\n&lt;/uwpControls:Expander&gt;\n\n&lt;uwpControls:Expander HeaderStyle=\"{StaticResource ToggleButtonFullWidthHeader}\"\n                              Background=\"{StaticResource ListViewItemBackgroundBrush}\" Margin=\"0,20,0,0\" HorizontalAlignment=\"Stretch\" Header=\"DragDrop\"&gt;\n\n                    &lt;Grid x:Name=\"gridBarImagePanel\" Grid.Row=\"4\" BorderBrush=\"Black\" BorderThickness=\"2\"&gt;\n\n                        &lt;uwpControls:ImageEx x:Name=\"BarCodeImage\" IsCacheEnabled=\"True\" Source=\"..\\SampleImage\\demo.png\" \n                                 Stretch=\"UniformToFill\" /&gt;\n\n                        &lt;Canvas x:Name=\"cnvBarCodeImage\" Canvas.ZIndex=\"100\" VerticalAlignment=\"Stretch\"&gt;\n\n                        &lt;/Canvas&gt;\n                    &lt;/Grid&gt;\n                &lt;/uwpControls:Expander&gt;\n\n&lt;/StackPanel&gt; \n&lt;/ScrollViewer&gt;\n</code></pre>\n\n<p>In the code behind, I am calling this method to draw two Thumb controls on the Canvas dynamically.</p>\n\n<pre><code>public sealed partial class SomeControl:Page\n{\nevent Action&lt;Thumb, double, double&gt; ChangeDimensions;\n\npublic void OnSomeButtonClick(object sender,EventArgs e)\n{\n //TEST(Remove this)\n                dimensions.Add(new Dimensions()\n                {\n                    Height = 80,\n                    Width = 150,\n                    left = 250,\n                    Top = 40,\n                    BorderColor = BrushCollection[0],\n                    MaxLeftPossible = null,\n                    MaxTopPossible = null,//280\n                    MaxRightPossible = null,\n                    MaxBottomPossible = null,\n                });\n                dimensions.Add(new Dimensions()\n                {\n                    Height = 80,\n                    Width = 150,\n                    left = 250,\n                    Top = 150,\n                    BorderColor = BrushCollection[1],\n                    MaxLeftPossible = null,\n                    MaxTopPossible = null,//280\n                    MaxRightPossible = null,\n                    MaxBottomPossible = null,\n                });\n                //CreateUIShapes(SelectedRowItem.WindowLocations.Count, dimensions);\n                CreateUIShapes(2, dimensions);\n\n}\n       private void CreateUIShapes(int numberOfWindows, List&lt;Dimensions&gt; dimensions)\n            {\n                Thumb th = null;\n                for (int i = 0; i &lt; numberOfWindows; i++)\n                {\n                    th = new Thumb();\n                    th.Name = string.Format(\"{0}{1}\", \"Thumb\", i + 1);\n                    var item = dimensions[i];\n                    th.Width = item.Width;\n                    th.Height = item.Height;\n                    th.Foreground = new SolidColorBrush(Windows.UI.Colors.Transparent);\n                    th.BorderBrush = item.BorderColor;\n                    th.BorderThickness = new Thickness(3);\n                    th.DragDelta += (sender, e) =&gt; Th_DragDelta(sender, e, dimensions);\n                    th.DragCompleted += (sender, e) =&gt; Th_DragCompleted(sender, e);\n                    Canvas.SetLeft(th, CheckAndGetItemToLeft(item.left, i));\n                    Canvas.SetTop(th, CheckAndGetItemTotop(item.Top, i));\n                    cnvBarCodeImage.Children.Add(th);\n                }\n            }\n\n//This is the code to drag and drop.    \n     private void Th_DragDelta(object sender, DragDeltaEventArgs e, List&lt;Dimensions&gt; LimitedWindowMovements)\n        {\n            var SelectedDraggableThumb = sender as Thumb;\n            double left = (Canvas.GetLeft(SelectedDraggableThumb) &gt;= 0) ? Canvas.GetLeft(SelectedDraggableThumb) : 0;\n            double top = (Canvas.GetTop(SelectedDraggableThumb) &gt;= 0) ? Canvas.GetTop(SelectedDraggableThumb) : 0;\n\n            if (ChkDualMode.IsChecked == true)\n            {\n                var OtherDraggableThumbs = cnvBarCodeImage.Children.OfType&lt;Thumb&gt;().Where(x =&gt; x != SelectedDraggableThumb);\n\n                var maxTopSelected = LimitedWindowMovements[0].MaxTopPossible == null ? 1 : LimitedWindowMovements[0].MaxTopPossible;\n                var maxBottomSelected = LimitedWindowMovements[0].MaxBottomPossible == null ? BarCodeImage.ActualHeight - SelectedDraggableThumb.ActualHeight : LimitedWindowMovements[0].MaxBottomPossible;\n                var maxLeftSelected = LimitedWindowMovements[0].MaxLeftPossible == null ? 0 : LimitedWindowMovements[0].MaxLeftPossible;\n                var maxRightSelected = LimitedWindowMovements[0].MaxRightPossible == null ? BarCodeImage.ActualWidth - SelectedDraggableThumb.Width : LimitedWindowMovements[0].MaxRightPossible;\n                //Boundry case for top-&gt;Current element.\n                //Don't allow further up.\n\n                if (top &lt; maxTopSelected) //Hardcoding for now. top &lt; 1 original.\n                {\n                    if (e.VerticalChange &lt;= 1)\n                    {\n                        ChangeDimensions -= BarCodeServiceView_ChangeDimensions;\n                        return;\n                    }\n                }\n                //Boundry case for bottom-&gt;Current element.\n                //Don't allow further down.\n                //Canvas.GetTop(SelectedDraggableThumb) &gt;= BarCodeImage.ActualHeight - SelectedDraggableThumb.ActualHeight original.\n                else if (Canvas.GetTop(SelectedDraggableThumb) &gt;= maxBottomSelected)\n                {\n                    if (e.VerticalChange &gt; 0)\n                    {\n                        ChangeDimensions -= BarCodeServiceView_ChangeDimensions;\n                        return;\n                    }\n                }\n                //Boundry case for left-&gt;Current element.\n                //Don't allow further left.\n                //Canvas.GetLeft(SelectedDraggableThumb) &lt;= 0 original.\n                else if (Canvas.GetLeft(SelectedDraggableThumb) &lt;= maxLeftSelected)\n                {\n                    if (e.HorizontalChange &lt;= 1)\n                    {\n                        ChangeDimensions -= BarCodeServiceView_ChangeDimensions;\n                        return;\n                    }\n                }\n                //Boundry case for left-&gt;Current element.\n                //Don't allow further right.\n                //Math.Round(Canvas.GetLeft(SelectedDraggableThumb), 1) &gt;= BarCodeImage.ActualWidth - SelectedDraggableThumb.Width original.\n                else if (Math.Round(Canvas.GetLeft(SelectedDraggableThumb), 1) &gt;= maxRightSelected)\n                {\n                    if (e.HorizontalChange &gt;= 0)\n                    {\n                        ChangeDimensions -= BarCodeServiceView_ChangeDimensions;\n                        return;\n                    }\n                }\n                //There may be n number of windows.\n                foreach (var item in OtherDraggableThumbs)\n                {\n                    //Boundry case for the other thumb moving up.\n                    //Don't allow further up.\n                    //var OtherTop = Canvas.GetTop(item); original\n                    var OtherTop = Canvas.GetTop(item);\n                    if (OtherTop &lt; maxTopSelected)\n                    {\n                        if (e.VerticalChange &lt;= 1)\n                        {\n                            ChangeDimensions -= BarCodeServiceView_ChangeDimensions;\n                            return;\n                        }\n                    }\n\n                    //Boundry case for the other thumb moving bottom\n                    //Don't allow further bottom.\n                    //BarCodeImage.ActualHeight - SelectedDraggableThumb.ActualHeight original\n                    if (Canvas.GetTop(item) &gt;= maxBottomSelected)\n                    {\n\n                        if (e.VerticalChange &gt; 0)\n                        {\n                            ChangeDimensions -= BarCodeServiceView_ChangeDimensions;\n                            return;\n                        }\n\n                    }\n\n                    //Boundry case for the other thumb moving left.\n                    //Don't allow further left\n                    //Canvas.GetLeft(item) &lt;= 0 original\n                    if (Canvas.GetLeft(item) &lt;= maxLeftSelected)\n                    {\n                        if (e.HorizontalChange &lt;= 1)\n                        {\n                            ChangeDimensions -= BarCodeServiceView_ChangeDimensions;\n                            return;\n                        }\n\n                    }\n\n                    //Boundry case for the other thumb moving right.\n                    //Don't allow further right\n                    //Math.Round(Canvas.GetLeft(item), 1) &gt;= BarCodeImage.ActualWidth - item.Width original\n                    if (Math.Round(Canvas.GetLeft(item), 1) &gt;= maxRightSelected)\n                    {\n                        if (e.HorizontalChange &gt;= 0)\n                        {\n                            ChangeDimensions -= BarCodeServiceView_ChangeDimensions;\n                            return;\n                        }\n                    }\n\n\n                    if (ChangeDimensions == null)\n                    {\n                        ChangeDimensions += BarCodeServiceView_ChangeDimensions;\n                    }\n\n                }\n\n                foreach (var item in OtherDraggableThumbs)\n                {\n                    ChangeDimensions?.Invoke(item, e.HorizontalChange, e.VerticalChange);\n                }\n\n            }\n\n            left = (Canvas.GetLeft(SelectedDraggableThumb) &gt; BarCodeImage.ActualWidth - SelectedDraggableThumb.ActualWidth) ? BarCodeImage.ActualWidth - SelectedDraggableThumb.ActualWidth : left;\n            top = (Canvas.GetTop(SelectedDraggableThumb) &gt; BarCodeImage.ActualHeight - SelectedDraggableThumb.ActualHeight) ? BarCodeImage.ActualHeight - SelectedDraggableThumb.ActualHeight : top;\n            Canvas.SetLeft(SelectedDraggableThumb, left + e.HorizontalChange);\n            Canvas.SetTop(SelectedDraggableThumb, top + e.VerticalChange);\n        }\n\n//When one thumb moves, I want to move the other in the same direction.\n  private void BarCodeServiceView_ChangeDimensions(Thumb sender, double arg1, double arg2)\n        {\n            if (sender != null)\n            {\n                //4025e8df\n                double left = (Canvas.GetLeft(sender) &gt; 0) ? Canvas.GetLeft(sender) : 0;\n                double top = (Canvas.GetTop(sender) &gt; 0) ? Canvas.GetTop(sender) : 0;\n                left = (Canvas.GetLeft(sender) &gt; BarCodeImage.ActualWidth - sender.ActualWidth) ? BarCodeImage.ActualWidth - sender.ActualWidth : left;\n                top = (Canvas.GetTop(sender) &gt; BarCodeImage.ActualHeight - sender.ActualHeight) ? BarCodeImage.ActualHeight - sender.ActualHeight : top;\n                Canvas.SetLeft(sender, left + arg1);\n                Canvas.SetTop(sender, top + arg2);\n            }\n        }\n\n    private void Th_DragCompleted(object sender, DragCompletedEventArgs e)\n    {\n    //Do something.\n       foreach (var item in cnvBarCodeImage.Children.OfType&lt;Thumb&gt;())\n        {\n            ChangeDimensions -= BarCodeServiceView_ChangeDimensions;\n        }\n    }\n}\n\n public class Dimensions\n    {\n        public double Height { get; set; }\n        public double Width { get; set; }\n        public double left { get; set; }\n        public double Top { get; set; }\n        public Windows.UI.Xaml.Media.Brush BorderColor { get; set; }\n        /// &lt;summary&gt;\n        /// If no restriction needed specify null\n        /// &lt;/summary&gt;\n        public double? MaxTopPossible { get; set; }\n        /// &lt;summary&gt;\n        /// If no restriction needed specify null\n        /// &lt;/summary&gt;\n        public double? MaxLeftPossible { get; set; }\n        /// &lt;summary&gt;\n        /// If no restriction needed specify null\n        /// &lt;/summary&gt;\n        public double? MaxRightPossible { get; set; }\n        /// &lt;summary&gt;\n        /// If no restriction needed specify null\n        /// &lt;/summary&gt;\n        public double? MaxBottomPossible { get; set; }\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "thread-safety", "signalr", "asp.net-core-signalr"], "comments": [{"owner": {"reputation": 2464, "user_id": 10581132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XmD0q.jpg?s=128&g=1", "display_name": "Kiril1512", "link": "https://stackoverflow.com/users/10581132/kiril1512"}, "edited": false, "score": 0, "creation_date": 1574329825, "post_id": 58963016, "comment_id": 104197483, "body": "What do you mean by save and concurrency problems?"}, {"owner": {"reputation": 2370, "user_id": 5177045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qO1kp.png?s=128&g=1", "display_name": "amedina", "link": "https://stackoverflow.com/users/5177045/amedina"}, "reply_to_user": {"reputation": 2464, "user_id": 10581132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XmD0q.jpg?s=128&g=1", "display_name": "Kiril1512", "link": "https://stackoverflow.com/users/10581132/kiril1512"}, "edited": false, "score": 0, "creation_date": 1574331615, "post_id": 58963016, "comment_id": 104198664, "body": "@Kiril1512 Race conditions, making the IHubContext object&#39;s internal state inconsistent..., that kind of things."}], "answers": [{"tags": [], "owner": {"reputation": 16731, "user_id": 8601760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9348fa94d90ab91964df9cc40f6d6d27?s=128&d=identicon&r=PG&f=1", "display_name": "aaron", "link": "https://stackoverflow.com/users/8601760/aaron"}, "is_accepted": true, "score": 1, "last_activity_date": 1574593472, "creation_date": 1574593472, "answer_id": 59016981, "question_id": 58963016, "link": "https://stackoverflow.com/questions/58963016/is-ihubcontextthub-of-signalr-thread-safe/59016981#59016981", "title": "Is IHubContext&lt;THub&gt; of SignalR thread-safe?", "body": "<p>You can use <code>IHubContext&lt;THub&gt;</code> safely with <code>Timer</code>.</p>\n\n<p><code>IHubContext&lt;THub&gt;</code> is a singleton:</p>\n\n<blockquote>\n  <pre class=\"lang-cs prettyprint-override\"><code>services.TryAddSingleton(typeof(IHubContext&lt;&gt;), typeof(HubContext&lt;&gt;));\n</code></pre>\n</blockquote>\n\n<p>Reference: <a href=\"https://github.com/aspnet/AspNetCore/blob/c84e37f30def9ff0b2d12e877e3de6c283be6145/src/SignalR/server/Core/src/SignalRDependencyInjectionExtensions.cs#L26\" rel=\"nofollow noreferrer\">https://github.com/aspnet/AspNetCore/blob/c84e37f30def9ff0b2d12e877e3de6c283be6145/src/SignalR/server/Core/src/SignalRDependencyInjectionExtensions.cs#L26</a></p>\n"}], "owner": {"reputation": 2370, "user_id": 5177045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qO1kp.png?s=128&g=1", "display_name": "amedina", "link": "https://stackoverflow.com/users/5177045/amedina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 59016981, "answer_count": 1, "score": 0, "last_activity_date": 1574593601, "creation_date": 1574282375, "last_edit_date": 1574593601, "question_id": 58963016, "link": "https://stackoverflow.com/questions/58963016/is-ihubcontextthub-of-signalr-thread-safe", "title": "Is IHubContext&lt;THub&gt; of SignalR thread-safe?", "body": "<p>I have this action inside an ASP.NET MVC Core controller:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public IActionResult Get()\n{\n    var timeManager = new TimerManager(() =&gt;\n    {\n        _hub.Clients.All.SendAsync(\"transferchartdata\", DataManager.GetData());\n    });\n\n    return Ok(new { Message = \"Request completed\" });\n}\n</code></pre>\n\n<p>The <code>TimerManager</code> class looks like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class TimerManager\n{\n    private Timer _timer;\n    private AutoResetEvent _autoResetEvent;\n    private Action _action;\n\n    public DateTime TimerStarted { get; }\n\n    public TimerManager(Action action)\n    {\n        _action = action;\n        _autoResetEvent = new AutoResetEvent(false);\n        _timer = new Timer(Execute, _autoResetEvent, 1000, 2000);\n        TimerStarted = DateTime.Now;\n    }\n\n    public void Execute(object stateInfo)\n    {\n        _action();\n\n        if ((DateTime.Now - TimerStarted).Seconds &gt; 60)\n        {\n            _timer.Dispose();\n        }\n    }\n}\n</code></pre>\n\n<p>But I don't know if calling <code>_hub.Clients.All.SendAsync()</code> will have concurrency problems. Is <code>IHubContext&lt;THub&gt;</code> and its methods thread-safe?</p>\n"}, {"tags": ["c#", "webforms", "hashtable", "connection-string"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1574282045, "post_id": 58962884, "comment_id": 104180952, "body": "What kind of web application is this? MVC? Web Forms?"}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1574282144, "post_id": 58962884, "comment_id": 104180993, "body": "Well, you could use an IOC container and DI and have the software automatically provide instances of your database context - but I&#39;m more curious as to why you don&#39;t see the current  place where the connection strings love (config file/configuration manager) as a cache that&#39;s available through your entire project?"}, {"owner": {"reputation": 611, "user_id": 7862418, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d539ae26769bcce672781aa8069f22ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mhd", "link": "https://stackoverflow.com/users/7862418/mhd"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1574282160, "post_id": 58962884, "comment_id": 104181002, "body": "@mason Web Forms"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1574282481, "post_id": 58962884, "comment_id": 104181138, "body": "Why don&#39;t you just access the <code>ConfigurationManager</code> instead and skip the caching?"}, {"owner": {"reputation": 611, "user_id": 7862418, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d539ae26769bcce672781aa8069f22ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mhd", "link": "https://stackoverflow.com/users/7862418/mhd"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1574282610, "post_id": 58962884, "comment_id": 104181200, "body": "@Train that is the requirement. I have to"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1574283665, "post_id": 58962884, "comment_id": 104181672, "body": "@Mhd Who gave you that requirement? How did they determine that caching would be a worthwhile endeavor?"}, {"owner": {"reputation": 611, "user_id": 7862418, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d539ae26769bcce672781aa8069f22ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mhd", "link": "https://stackoverflow.com/users/7862418/mhd"}, "edited": false, "score": 0, "creation_date": 1574284215, "post_id": 58962884, "comment_id": 104181915, "body": "thats true though."}], "answers": [{"tags": [], "owner": {"reputation": 311, "user_id": 11890070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c09693a07a143ccad2a6a928769394?s=128&d=identicon&r=PG&f=1", "display_name": "jaspenlind", "link": "https://stackoverflow.com/users/11890070/jaspenlind"}, "is_accepted": false, "score": 1, "last_activity_date": 1574284313, "creation_date": 1574284313, "answer_id": 58963447, "question_id": 58962884, "link": "https://stackoverflow.com/questions/58962884/how-to-cache-the-connection-string-and-access-it/58963447#58963447", "title": "How to cache the connection string and access it?", "body": "<p>My first thought is why would you cache it? It's configuration data and should be quick enough to fetch every time you need it.</p>\n\n<p>If you really need caching, there are more modern alternatives to HttpContext.Current.Application. </p>\n\n<p>You can use a IOC container as suggested in the comments and configure it as a singletion instance. Seems overkill to setup a IOC container for that purpose though. If you're having multiple servers and you want to make sure they have the same state consider using a distributed cache like Redis.</p>\n\n<p>Other alternatives are storing the connection string in a static variable, use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.runtime.caching.memorycache?view=netframework-4.8\" rel=\"nofollow noreferrer\">MemoryCache</a>, HttpRuntime.Cache or HttpContext.Current.Cache.</p>\n\n<p>Example using a lazy static variable:</p>\n\n<pre><code>private static Lazy&lt;string&gt; ConnectionString = new Lazy&lt;string&gt;(() =&gt; ConfigurationManager.ConnectionStrings[\"YourConnectionString\"].ConnectionString);\n\n// Access the connection string: var connectionString = ConnectionString.Value;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1365, "user_id": 313935, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tJhLs.png?s=128&g=1", "display_name": "dpant", "link": "https://stackoverflow.com/users/313935/dpant"}, "is_accepted": true, "score": 0, "last_activity_date": 1574346279, "creation_date": 1574346279, "answer_id": 58977184, "question_id": 58962884, "link": "https://stackoverflow.com/questions/58962884/how-to-cache-the-connection-string-and-access-it/58977184#58977184", "title": "How to cache the connection string and access it?", "body": "<p>This should work (in a somewhat generic way):</p>\n\n<pre><code>public class HttpContextCache\n{\n    public void Remove(string key)\n    {\n        HttpContext.Current.Cache.Remove(key);\n    }\n\n    public void Store(string key, object data)\n    {\n        HttpContext.Current.Cache.Insert(key, data);\n    }\n\n    public T Retrieve&lt;T&gt;(string key)\n    {\n        T itemStored = (T)HttpContext.Current.Cache.Get(key);\n        if (itemStored == null)\n        {\n            itemStored = default(T);\n        }\n\n        return itemStored;\n    }\n}\n</code></pre>\n\n<p>Anywhere you find appropriate in your code:</p>\n\n<pre><code>// cache the connection string\nHttpContextCache cache = new HttpContextCache();\ncache.Store(\"WEBConnectionString\", ConfigurationManager.ConnectionStrings[\"WEBConnectionString\"].ConnectionString);\n\n// ...\n\n// get connection string from the cache\nHttpContextCache cache = new HttpContextCache();\nstring conString = cache.Retrieve&lt;string&gt;(\"WEBConnectionString\");\n</code></pre>\n"}], "owner": {"reputation": 611, "user_id": 7862418, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d539ae26769bcce672781aa8069f22ce?s=128&d=identicon&r=PG&f=1", "display_name": "Mhd", "link": "https://stackoverflow.com/users/7862418/mhd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "accepted_answer_id": 58977184, "answer_count": 2, "score": 0, "last_activity_date": 1574346279, "creation_date": 1574281856, "last_edit_date": 1574283678, "question_id": 58962884, "link": "https://stackoverflow.com/questions/58962884/how-to-cache-the-connection-string-and-access-it", "title": "How to cache the connection string and access it?", "body": "<p>I want to cache the connection string and used cached object throughout my project. I tried like below</p>\n\n<pre><code>public static void Demo()\n{\nHashtable Hashtable = new Hashtable()\nHashtable.Add(\"WEBConnectionString\", ConfigurationManager.ConnectionStrings[\"WEBConnectionString\"].ConnectionString);\nHttpContext.Current.Application[\"CachedValue\"] = Hashtable;}\n\npublic static string Method(string key)\n{\n  string result = string.Empty;\n  Hashtable CachedObject = (Hashtable)HttpContext.Current.Application[\"CachedValue\"];\n  if (CachedObject != null &amp;&amp; CachedObject.ContainsKey(key))\n   { \n      result = CachedObject[key].ToString();\n   }\nreturn result;\n}\n</code></pre>\n\n<p>and accessing like this</p>\n\n<pre><code>string conString = Utility.Method(\"WEBConnectionString\");\n</code></pre>\n\n<p>but <code>CachedObject.ContainsKey(key)</code> condition getting false. What am I doing wrong here? or is there any other method to cache the connection string.</p>\n"}, {"tags": ["c#", "unity3d", "game-development"], "comments": [{"owner": {"reputation": 640, "user_id": 3935050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Zq5E.jpg?s=128&g=1", "display_name": "DetectivePikachu", "link": "https://stackoverflow.com/users/3935050/detectivepikachu"}, "edited": false, "score": 0, "creation_date": 1574282195, "post_id": 58962845, "comment_id": 104181017, "body": "When a  gameobject is the child of another object it uses the parents transform. Its own transform becomes relative to the parent. Just dont set the parent and you&#39;re good to go"}], "answers": [{"comments": [{"owner": {"reputation": 271, "user_id": 12244845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31b34813044a8765db1dd7316e5a533?s=128&d=identicon&r=PG&f=1", "display_name": "NullOrNotNull", "link": "https://stackoverflow.com/users/12244845/nullornotnull"}, "edited": false, "score": 0, "creation_date": 1574282775, "post_id": 58962956, "comment_id": 104181274, "body": "Thanks alot, its working that way. The bullets are flying strange tho because they don&#39;t fly alone the green axis.. but i guess thats off topic."}], "tags": [], "owner": {"reputation": 585, "user_id": 12041806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KZpCH.jpg?s=128&g=1", "display_name": "Spencer Stream", "link": "https://stackoverflow.com/users/12041806/spencer-stream"}, "is_accepted": false, "score": 3, "last_activity_date": 1574282142, "creation_date": 1574282142, "answer_id": 58962956, "question_id": 58962845, "link": "https://stackoverflow.com/questions/58962845/unity2d-shot-object-turns-with-character-but-shouldnt/58962956#58962956", "title": "Unity2D shot object turns with character but shouldn&#39;t", "body": "<p>The bullet is being set as a child of the player. Children objects keep the same rotation as their parent.</p>\n\n<p>In your bullet's <code>Start()</code> you will want to remove the parent from the bullet after setting the force.</p>\n\n<p>Off the top of my head you should be able to do that with</p>\n\n<pre><code>transform.parent = null;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 733, "user_id": 9638388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DIYkQ.png?s=128&g=1", "display_name": "geekley", "link": "https://stackoverflow.com/users/9638388/geekley"}, "is_accepted": false, "score": 0, "last_activity_date": 1574282175, "creation_date": 1574282175, "answer_id": 58962962, "question_id": 58962845, "link": "https://stackoverflow.com/questions/58962845/unity2d-shot-object-turns-with-character-but-shouldnt/58962962#58962962", "title": "Unity2D shot object turns with character but shouldn&#39;t", "body": "<p>That's probably because you're instantiating bullets as child of the object's transform.\nThen, when the object rotates, the bullets rotate as well.</p>\n\n<p>You want to instantiate them in the world/root, or maybe in a static object at (0,0,0) if you want to group them in the hierarchy.</p>\n\n<p><code>Object.Instantiate(bullet).transform.position = base.transform.position</code></p>\n"}, {"comments": [{"owner": {"reputation": 271, "user_id": 12244845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31b34813044a8765db1dd7316e5a533?s=128&d=identicon&r=PG&f=1", "display_name": "NullOrNotNull", "link": "https://stackoverflow.com/users/12244845/nullornotnull"}, "edited": false, "score": 0, "creation_date": 1574283123, "post_id": 58963088, "comment_id": 104181451, "body": "Thanks a lot for sharing! Do you have an idea, why my bullet flight is offset? When the player looks towards north, bullts fly there. But when the player looks east, the bullets fly to the south..."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "reply_to_user": {"reputation": 271, "user_id": 12244845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31b34813044a8765db1dd7316e5a533?s=128&d=identicon&r=PG&f=1", "display_name": "NullOrNotNull", "link": "https://stackoverflow.com/users/12244845/nullornotnull"}, "edited": false, "score": 0, "creation_date": 1574284499, "post_id": 58963088, "comment_id": 104182050, "body": "@NullOrNotNull Because the bullets were rotated in a way that their local up wasn&#39;t the correct direction for them to travel. From your comment, it sounds like they really ought to travel in their local left direction, but without a screenshot showing their local axes and the direction they are meant to travel, it is hard to be sure. Anyway, I edited the <code>bullet.cs</code> part of my answer. Let me know if that changed anything for you."}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 1, "creation_date": 1574317746, "post_id": 58963088, "comment_id": 104191343, "body": "Actually for bullets I would simply set it&#39;s <code>rb.velocity = -transform.right * bulletSpeed;</code> once and not use <code>Update</code> or <code>FixedUpdate</code> at all :)"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1574317806, "post_id": 58963088, "comment_id": 104191366, "body": "@derHugo yeah that&#39;s probably better :)"}], "tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": false, "score": 1, "last_activity_date": 1574284764, "last_edit_date": 1574284764, "creation_date": 1574282699, "answer_id": 58963088, "question_id": 58962845, "link": "https://stackoverflow.com/questions/58962845/unity2d-shot-object-turns-with-character-but-shouldnt/58963088#58963088", "title": "Unity2D shot object turns with character but shouldn&#39;t", "body": "<p>First, don't have the bullets be children of the player. (Don't use <code>Instantiate(Bullet, transform);</code>)</p>\n\n<p>Second, set the rotation and position of the bullet to be the same as the player when the bullet is instantiated. ( Do use <code>Instantiate(Bullet, transform.position, transform.rotation);</code> )</p>\n\n<p>Third, don't base the bullet's movement on the transform of the player. Just use its own transform. ( Do use <code>Force = transform.up * bulletSpeed;</code> instead of <code>Force = parent.transform.up * bulletSpeed</code> )</p>\n\n<p>player.cs</p>\n\n<pre><code>    private void Shoot()\n    {\n        GameObject bullet = Instantiate(Bullet, transform.position, transform.rotation);\n    }\n\n    private void FaceMouseDirection()\n    {\n        Vector2 direction = Camera.main.ScreenToWorldPoint(Input.mousePosition) - transform.position;\n        float angle = Mathf.Atan2(direction.x, direction.y) * Mathf.Rad2Deg;\n        Quaternion rotation = Quaternion.AngleAxis(angle, Vector3.back);\n        transform.rotation = Quaternion.Slerp(transform.rotation, rotation, turningSpeed * Time.deltaTime);\n    }\n</code></pre>\n\n<p>bullet.cs</p>\n\n<pre><code>    private Vector3 Force;\n\n    // Use this for initialization\n    void Start () \n    {\n\n        Force = -transform.right * bulletSpeed;\n    }\n\n    void FixedUpdate()\n    {\n        transform.Translate(Force * Time.fixedDeltaTime);\n    }\n}\n</code></pre>\n\n<p>Fourth, you should consider using a technique called <a href=\"https://stackoverflow.com/q/53217000/1092820\">object pooling</a> for your bullets, as instantiating and destroying many near-duplicates of gameobjects is not usually very efficient.</p>\n\n<p>Note: If you're using <code>Rigidbody</code> or <code>Rigidbody2D</code> on the bullets, you should rather use <code>rb.MovePosition(transform.position + Force * Time.deltaTime);</code> (<code>Time.deltaTime</code> is the same as <code>Time.fixedDeltaTime</code> in <code>FixedUpdate</code>) because it will interpolate properly for frames that render between calls to <code>FixedUpdate</code>. </p>\n"}], "owner": {"reputation": 271, "user_id": 12244845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d31b34813044a8765db1dd7316e5a533?s=128&d=identicon&r=PG&f=1", "display_name": "NullOrNotNull", "link": "https://stackoverflow.com/users/12244845/nullornotnull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1574284764, "creation_date": 1574281689, "question_id": 58962845, "link": "https://stackoverflow.com/questions/58962845/unity2d-shot-object-turns-with-character-but-shouldnt", "title": "Unity2D shot object turns with character but shouldn&#39;t", "body": "<p>I'm trying to learn Unity. My goal is to build a little asteroids clone.</p>\n\n<p>Currently, my character is able to fly, shoot and rotate towards the mouse location. However, the bullets are somehow effected by the player turning.</p>\n\n<p>Here is some sample code:</p>\n\n<p>player.cs</p>\n\n<pre><code>    private void Shoot()\n    {\n        Instantiate(Bullet, transform);\n    }\n\n    private void FaceMouseDirection()\n    {\n        Vector2 direction = Camera.main.ScreenToWorldPoint(Input.mousePosition) - transform.position;\n        float angle = Mathf.Atan2(direction.x, direction.y) * Mathf.Rad2Deg;\n        Quaternion rotation = Quaternion.AngleAxis(angle, Vector3.back);\n        transform.rotation = Quaternion.Slerp(transform.rotation, rotation, turningSpeed * Time.deltaTime);\n    }\n</code></pre>\n\n<p>bullet.cs</p>\n\n<pre><code>    private GameObject parent;\n    private Vector3 Force;\n\n    // Use this for initialization\n    void Start () \n    {\n        parent = GameObject.Find(\"Player\");\n        Force = parent.transform.up * bulletSpeed;\n    }\n\n    void FixedUpdate()\n    {\n        transform.Translate(Force * Time.fixedDeltaTime);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "concurrency", "rabbitmq", "task-parallel-library", "easynetq"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 11890000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6aff7a1bd5e2addfbf51d78dcbc2af8?s=128&d=identicon&r=PG&f=1", "display_name": "RomanOwensby", "link": "https://stackoverflow.com/users/11890000/romanowensby"}, "edited": false, "score": 0, "creation_date": 1576522002, "post_id": 58971838, "comment_id": 104919038, "body": "Since I am using this instance for the longevity of the app, if I am using the mvvm pattern and I have the Ibus instance in the view model, what is the correct way to dispose of it when the application closes?"}, {"owner": {"reputation": 9887, "user_id": 67910, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b5ba9fee1091fc055eb22e38e9121d04?s=128&d=identicon&r=PG", "display_name": "Wiebe Tijsma", "link": "https://stackoverflow.com/users/67910/wiebe-tijsma"}, "reply_to_user": {"reputation": 61, "user_id": 11890000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6aff7a1bd5e2addfbf51d78dcbc2af8?s=128&d=identicon&r=PG&f=1", "display_name": "RomanOwensby", "link": "https://stackoverflow.com/users/11890000/romanowensby"}, "edited": false, "score": 0, "creation_date": 1576576179, "post_id": 58971838, "comment_id": 104935787, "body": "I don&#39;t know without some more context. Seems more like a MVVM pattern, not about EasyNetQ, maybe you could post this as a separate question?"}], "tags": [], "owner": {"reputation": 9887, "user_id": 67910, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b5ba9fee1091fc055eb22e38e9121d04?s=128&d=identicon&r=PG", "display_name": "Wiebe Tijsma", "link": "https://stackoverflow.com/users/67910/wiebe-tijsma"}, "is_accepted": true, "score": 2, "last_activity_date": 1574329688, "creation_date": 1574329688, "answer_id": 58971838, "question_id": 58962742, "link": "https://stackoverflow.com/questions/58962742/how-to-correctly-use-easynetq-in-a-multi-threaded-environment/58971838#58971838", "title": "How to correctly use EasyNetQ in a multi-threaded environment", "body": "<p>That's all correct, keep one instance of IBus in your app, and it can be safely used from multiple threads.</p>\n"}], "owner": {"reputation": 61, "user_id": 11890000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6aff7a1bd5e2addfbf51d78dcbc2af8?s=128&d=identicon&r=PG&f=1", "display_name": "RomanOwensby", "link": "https://stackoverflow.com/users/11890000/romanowensby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 481, "favorite_count": 0, "accepted_answer_id": 58971838, "answer_count": 1, "score": 1, "last_activity_date": 1574329688, "creation_date": 1574281260, "last_edit_date": 1574298108, "question_id": 58962742, "link": "https://stackoverflow.com/questions/58962742/how-to-correctly-use-easynetq-in-a-multi-threaded-environment", "title": "How to correctly use EasyNetQ in a multi-threaded environment", "body": "<p>I'm learning about message brokers (specifically RabbitMQ) and I've started a project using EasyNetQ. From what I have read, the best practice is to use long-standing connections to the broker and end them at the end of your application. In my project, I am using EasyNetQ in a windows service. Would the best approach be to instantiate the connection (IBus) in the <code>onStartMethod()</code> and dispose of it during the <code>onStop()</code>? If so, if I instantiate some tasks running on various threads in the <code>OnStartMethod()</code> can each thread safely use the Bus instance to publish/subscribe? I couldn't find anything in the documentation. Thanks in advance. </p>\n"}, {"tags": ["javascript", "c#", "asp.net"], "comments": [{"owner": {"reputation": 690, "user_id": 7455317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KdGRq.png?s=128&g=1", "display_name": "Andrew Reese", "link": "https://stackoverflow.com/users/7455317/andrew-reese"}, "edited": false, "score": 0, "creation_date": 1574282846, "post_id": 58962737, "comment_id": 104181313, "body": "Shot in the dark, but should you use double quotes inside your alert(&#39;valid&#39;) statements?"}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574290972, "post_id": 58962737, "comment_id": 104184518, "body": "Please refactor that text into something readable."}], "owner": {"reputation": 11, "user_id": 8960031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80090c24c155b414e35f3351bdd74456?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/8960031/brad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574314615, "creation_date": 1574281231, "last_edit_date": 1574314615, "question_id": 58962737, "link": "https://stackoverflow.com/questions/58962737/asp-net-validators-validate-in-javascript", "title": "ASP.NET Validators, Validate in JavaScript", "body": "<p>I have a page with textboxes where a user enters their name and address. I also have ASP.NET <code>requiredfieldvalidators</code> associated with each of the input textboxes to verify that they enter in their info.  Everything works for validating the fields from C# server-side, however, I need to validate them from client-side as well.  I have an <code>OnClientClick</code> and <code>OnClick</code> events tied to a button.  </p>\n\n<p>When the <code>OnClientClick</code> function is called, I want to verify that the <code>requiredfieldvalidators</code> are valid (i.e. user entered info into input boxes) and if so, then I am wanting to start a JS timer that will do something after a certain period of time elapses.  In the meantime, the <code>Onclick</code> server-side event fires and executes code to insert input into database.  The server-side code is executing correctly in that my <code>if (Page.IsValid)</code> is correct. </p>\n\n<p>If student did not enter info into all required fields, then it is false and does not execute the rest of the code.  If student did enter all info, then inserts into DB.  However, in the client-side code, when I execute <code>if (Page_ClientValidate())</code> it ALWAYS returns true even if no fields have been filled out.</p>\n\n<p>What am I missing?  I want to say if \"validation is successful (i.e. all fields have been entered) then start timer, otherwise do not start timer\".  Below is short snippet of my code.  So when client-side function \"Test()\" is called, it is always saying 'true' even when inputs are empty, but the server-side function shows <code>Page.IsValid</code> is false, stops and shows the validator messages (which are defined in server-side function during <code>Page_Load()</code>).  Why does client-side always give me true but server-side is false?</p>\n\n<p>Client:</p>\n\n<pre><code>&lt;%@ Page Language=\"c#\" CodeBehind=\"test1.aspx.cs\" AutoEventWireup=\"false\" Inherits=\"test1\" %&gt;\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;xyz&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"Form1\" method=\"post\" runat=\"server\"&gt;\n        &lt;div id=\"webPage\"&gt;\n            &lt;h3 class=\"section-title\" align=\"left\"&gt;User Information&lt;/h3&gt;\n\n            &lt;div class=\"grid-row no-padding\"&gt;\n                &lt;div class=\"grid-col-xs-12\"&gt;\n                    &lt;div class=\"grid-row no-padding\"&gt;\n                        &lt;div class=\"grid-col-xs-12\"&gt;\n                            &lt;div class=\"form-field\" style=\"padding-bottom: 0px; margin-bottom: 0px;\"&gt;\n                                &lt;p&gt;&lt;span style=\"color: blue;\"&gt;Name on Card&lt;/span&gt;&lt;/p&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=\"grid-row no-padding\"&gt; \n                        &lt;div class=\"grid-col-xs-6\" style=\"min-width:200px;\"&gt;\n                            &lt;div class=\"form-field\"&gt;\n                                &lt;label class=\"formlabel\"&gt;First Name:&lt;/label&gt;\n                                &lt;asp:TextBox ID=\"tbBillFirstName\" runat=\"server\" CssClass=\"input-textbox editable\" BackColor=\"#fff2e6\"&gt;&lt;/asp:TextBox&gt;\n                                &lt;asp:RequiredFieldValidator ID=\"rfvFirstName\" ControlToValidate=\"tbBillFirstName\" Display=\"Dynamic\" runat=\"server\"\n                                    Font-Names=\"Arial\" Font-Size=\"10\" Font-Bold=\"False\" ForeColor=\"#ff8c19\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"grid-col-xs-6\" style=\"min-width:200px;\"&gt;\n                            &lt;div class=\"form-field\"&gt;\n                                &lt;label class=\"formlabel\"&gt;Last Name:&lt;/label&gt;\n                                &lt;asp:TextBox ID=\"tbBillLastName\" runat=\"server\" CssClass=\"input-textbox editable\" BackColor=\"#fff2e6\"&gt;&lt;/asp:TextBox&gt;\n                                &lt;asp:RequiredFieldValidator ID=\"rfvLastName\" ControlToValidate=\"tbBillLastName\" Display=\"Dynamic\" runat=\"server\"\n                                    Font-Names=\"Arial\" Font-Size=\"10\" Font-Bold=\"False\" ForeColor=\"#ff8c19\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=\"grid-row no-padding\"&gt;\n                        &lt;div class=\"grid-col-xs-12\"&gt;\n                            &lt;div class=\"form-field\" style=\"padding-bottom: 0px; margin-bottom: 0px;\"&gt;\n                                &lt;p&gt;&lt;span style=\"color: blue;\"&gt;Billing Address&lt;/span&gt;&lt;/p&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=\"grid-row no-padding\"&gt;\n                        &lt;div class=\"grid-col-xs-6\" style=\"min-width:200px;\"&gt;\n                            &lt;div class=\"form-field\"&gt;\n                                &lt;label class=\"formlabel\"&gt;Street1:&lt;/label&gt;\n                                &lt;asp:TextBox ID=\"tbBillAddress1\" runat=\"server\" CssClass=\"input-textbox editable\" BackColor=\"#fff2e6\"&gt;&lt;/asp:TextBox&gt;\n                                &lt;asp:RequiredFieldValidator ID=\"rfvAddress1\" ControlToValidate=\"tbBillAddress1\" Display=\"Dynamic\"\n                                    Font-Names=\"Arial\" Font-Size=\"10\" Font-Bold=\"False\" ForeColor=\"#ff8c19\" runat=\"server\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"grid-col-xs-6\" style=\"min-width:200px;\"&gt;\n                            &lt;div class=\"form-field\"&gt;\n                                &lt;label class=\"formlabel\"&gt;Street2:&lt;/label&gt;\n                                &lt;asp:TextBox ID=\"tbBillAddress2\" runat=\"server\" CssClass=\"input-textbox editable\" BackColor=\"#fff2e6\"&gt;&lt;/asp:TextBox&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=\"grid-row no-padding\"&gt;\n                        &lt;div class=\"grid-col-xs-6\" style=\"min-width:200px;\"&gt;\n                            &lt;div class=\"form-field\"&gt;\n                                &lt;label class=\"formlabel\"&gt;City:&lt;/label&gt;\n                                &lt;asp:TextBox ID=\"tbBillCity\" runat=\"server\" CssClass=\"input-textbox editable\" BackColor=\"#fff2e6\"&gt;&lt;/asp:TextBox&gt;\n                                &lt;asp:RequiredFieldValidator ID=\"rfvBillCity\" ControlToValidate=\"tbBillCity\" Display=\"Dynamic\" runat=\"server\" Font-Names=\"Arial\" Font-Size=\"10\" Font-Bold=\"False\" ForeColor=\"#ff8c19\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"grid-col-xs-6\" style=\"min-width:200px;\"&gt;\n                            &lt;div class=\"form-field\"&gt;\n                                &lt;label class=\"formlabel\"&gt;State:&lt;/label&gt;\n                                &lt;asp:DropDownList ID=\"StatesDDL\" runat=\"server\" DataTextField=\"State_name\" DataValueField=\"State_code\" CssClass=\"input-textbox editable\" AutoPostBack=\"False\" BackColor=\"#fff2e6\"&gt;&lt;/asp:DropDownList&gt;\n                                &lt;asp:RequiredFieldValidator ID=\"rfvBillState\" ControlToValidate=\"StatesDDL\" Display=\"Dynamic\" InitialValue=\"Select\" runat=\"server\" Font-Name=\"Arial\" Font-Size=\"10\" Font-Bold=\"False\" ForeColor=\"#ff8c19\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=\"grid-row no-padding\"&gt;\n                        &lt;div class=\"grid-col-xs-6\" style=\"min-width:200px;\"&gt;\n                            &lt;div class=\"form-field\"&gt;\n                                &lt;label class=\"formlabel\"&gt;Zip:&lt;/label&gt;\n                                &lt;asp:TextBox ID=\"tbBillZip\" runat=\"server\" CssClass=\"input-textbox editable\" BackColor=\"#fff2e6\"&gt;&lt;/asp:TextBox&gt;\n                                &lt;asp:RequiredFieldValidator ID=\"rfvBillZip\" ControlToValidate=\"tbBillZip\" Display=\"Static\"\n                                    runat=\"server\" Font-Names=\"Arial\" Font-Size=\"10\" Font-Bold=\"False\" ForeColor=\"#ff8c19\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                                &lt;asp:CustomValidator ID=\"cvZip\" Font-Names=\"Arial\" Font-Size=\"10\" Font-Bold=\"False\"\n                                    ForeColor=\"#ff8c19\" runat=\"server\" Display=\"Dynamic\" ControlToValidate=\"tbBillZip\"\n                                    OnServerValidate=\"CheckZipFormat\"&gt;&lt;/asp:CustomValidator&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"grid-col-xs-6\" style=\"min-width:200px;\"&gt;\n                            &lt;div class=\"form-field\"&gt;\n                                &lt;label class=\"formlabel\"&gt;Country:&lt;/label&gt;\n                                &lt;asp:DropDownList ID=\"ddlCountry\" runat=\"server\" DataTextField=\"Country_name\" DataValueField=\"Country_code\"\n                                    OnSelectedIndexChanged=\"CountryChanged\" AutoPostBack=\"True\"\n                                    CssClass=\"input-textbox editable\" BackColor=\"#fff2e6\"&gt;\n                                &lt;/asp:DropDownList&gt;\n                                &lt;asp:RequiredFieldValidator ID=\"rfvCountry\" runat=\"server\" ControlToValidate=\"ddlCountry\"\n                                    Display=\"Dynamic\" Font-Names=\"Arial\" Font-Size=\"10\" Font-Bold=\"False\"\n                                    ForeColor=\"#ff8c19\" InitialValue=\"00\"&gt;&lt;/asp:RequiredFieldValidator&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;div id=\"divSubmit\" class=\"grid-row bottom-nav\"&gt;\n            &lt;div class=\"grid-col-xs-12\" style=\"text-align:center;\"&gt;\n                &lt;asp:LinkButton ID=\"btn_submit2\" runat=\"server\" OnClientClick=\"Test();\" OnClick=\"btn_submit_Click\" CssClass=\"button button-orange\" CausesValidation=\"true\"&gt;Submit&lt;/asp:LinkButton&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;script type=\"text/javascript\"&gt;\n            function Test() {\n                if (Page_ClientValidate()) {\n                    alert('valid');\n                }\n                else {\n                    alert('not valid');\n                }\n            }\n        &lt;/script&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Server-side:</p>\n\n<pre><code>public void btn_submit_Click(object sender, EventArgs e)\n{\n    if (Page.IsValid)\n    {\n        // insert into DB\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "augmented-reality", "vuforia", "arcamera"], "owner": {"reputation": 395, "user_id": 9881889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45325ec593d49c6418f0f5a8ecff1321?s=128&d=identicon&r=PG&f=1", "display_name": "A.Crane", "link": "https://stackoverflow.com/users/9881889/a-crane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1574281196, "creation_date": 1574281196, "question_id": 58962725, "link": "https://stackoverflow.com/questions/58962725/linerenderer-alignment-not-facing-vuforia-arcamera", "title": "LineRenderer Alignment Not Facing Vuforia ARCamera", "body": "<p>I am trying to create a Line Renderer that renders a line between several objects augmented with Vuforia image targets. </p>\n\n<p>I understand that the Line Renderer component has the \"Alignment\" field which can be set to either \"View\" or \"Transform Z\". For my project, I need the rendered lines to always face the camera, so I have that field set to View. Here is a picture of the component:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yMulx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yMulx.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, in both the Unity Editor preview and on my deployed Android application, the line rotates along with the objects (for example, if I move or rotate the image target). The ARCamera is already tagged as MainCamera, so it should be recognized as the camera.</p>\n\n<p>Once I noticed this, to test if the field was being overwritten somehow, I added the line <code>lr.alignment = LineAlignment.View;</code> to both a start function at the beginning of the application, and to an update function, to make sure it is always set to View, but that did not change anything.</p>\n\n<p>Is it possible for the Line Renderer to always face an ARCamera? Is there a step I am missing?</p>\n\n<p>Here is a picture of the issue, where you can see that two of the lines are rotated to their side (the top line between the blue and green spheres is hardly visible). \n<a href=\"https://i.stack.imgur.com/yIa1W.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yIa1W.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "html", "asp.net", "webforms"], "comments": [{"owner": {"reputation": 422, "user_id": 454437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9021d240bdd932a4d4eb518ecf99329?s=128&d=identicon&r=PG", "display_name": "AceJordin", "link": "https://stackoverflow.com/users/454437/acejordin"}, "edited": false, "score": 0, "creation_date": 1574293033, "post_id": 58962653, "comment_id": 104185173, "body": "If the given code works then wouldn&#39;t setting BtnName.Value to &quot;Foo.aspx&quot; accomplish the task?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12335096"}, "reply_to_user": {"reputation": 422, "user_id": 454437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9021d240bdd932a4d4eb518ecf99329?s=128&d=identicon&r=PG", "display_name": "AceJordin", "link": "https://stackoverflow.com/users/454437/acejordin"}, "edited": false, "score": 0, "creation_date": 1574296690, "post_id": 58962653, "comment_id": 104186029, "body": "The code works, but i get a syntax error message, I believe there&#39;s a library to do that, i was looking and i couldn&#39;t find anything."}, {"owner": {"reputation": 1365, "user_id": 313935, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tJhLs.png?s=128&g=1", "display_name": "dpant", "link": "https://stackoverflow.com/users/313935/dpant"}, "edited": false, "score": 0, "creation_date": 1574338616, "post_id": 58962653, "comment_id": 104202749, "body": "There&#39;s a whole namespace, <code>System.IO</code> that contains everything you need to work with folders and files. For example, to create a file: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file.create?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>. My question is, what do you mean by &quot;it just needs to be accessible to the project&quot;?"}, {"owner": {"reputation": 422, "user_id": 454437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9021d240bdd932a4d4eb518ecf99329?s=128&d=identicon&r=PG", "display_name": "AceJordin", "link": "https://stackoverflow.com/users/454437/acejordin"}, "edited": false, "score": 0, "creation_date": 1574350039, "post_id": 58962653, "comment_id": 104209805, "body": "Also, providing what the syntax error says will also be helpful."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12335096"}, "edited": false, "score": 0, "creation_date": 1574355185, "post_id": 58962653, "comment_id": 104212906, "body": "BY accessible i mean that the project can look it up and open it, but thanks for the link, lets see if i can get this done!"}], "owner": {"user_type": "does_not_exist", "display_name": "user12335096"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574280969, "creation_date": 1574280969, "question_id": 58962653, "link": "https://stackoverflow.com/questions/58962653/how-to-create-a-aspx-file-after-clicking-a-button-on-another-form", "title": "How to create a ASPX file after clicking a button on another form", "body": "<p>Hopefully this is clear enough, i have this bit of code :</p>\n\n<pre><code>        private void BtnAdd_ServerClick(object sender, EventArgs e)\n        {\n            var path = @\"C:\\Users\\User\\Desktop\\Demo\\Demo\\\" + BtnName.Value;\n\n            if (!Directory.Exists(path))\n            {\n                Directory.CreateDirectory(path);\n            }\n        }\n</code></pre>\n\n<p>That creates a folder named after the value of a text box, and i need to know if there's a way to create an aspx file the same way, and save it in one of those folders or anywhere it just needs to be accessible to the project, thanks in advance! I'm open to any questions or code updates.</p>\n"}, {"tags": ["c#", "mongodb", "bson", "objectid", "formatexception"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 11602333, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rkXFJEJTAGQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfS74Po1UHHE-PxOY-XhlRP_P046w/mo/photo.jpg?sz=128", "display_name": "hfires", "link": "https://stackoverflow.com/users/11602333/hfires"}, "edited": false, "score": 0, "creation_date": 1574284024, "post_id": 58963372, "comment_id": 104181836, "body": "should my _id property be String or Object Id?"}, {"owner": {"reputation": 41, "user_id": 9925547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e32d3d47210a102f4f51b2bd30475fb?s=128&d=identicon&r=PG&f=1", "display_name": "pkantorowicz", "link": "https://stackoverflow.com/users/9925547/pkantorowicz"}, "reply_to_user": {"reputation": 83, "user_id": 11602333, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rkXFJEJTAGQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfS74Po1UHHE-PxOY-XhlRP_P046w/mo/photo.jpg?sz=128", "display_name": "hfires", "link": "https://stackoverflow.com/users/11602333/hfires"}, "edited": false, "score": 0, "creation_date": 1574284815, "post_id": 58963372, "comment_id": 104182174, "body": "Ok, I have an another idea to change the your object id to string and name of the property to the Id, ID or something other than _id."}, {"owner": {"reputation": 83, "user_id": 11602333, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rkXFJEJTAGQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfS74Po1UHHE-PxOY-XhlRP_P046w/mo/photo.jpg?sz=128", "display_name": "hfires", "link": "https://stackoverflow.com/users/11602333/hfires"}, "edited": false, "score": 0, "creation_date": 1574284963, "post_id": 58963372, "comment_id": 104182239, "body": "Do I keep [BsonId]?"}, {"owner": {"reputation": 83, "user_id": 11602333, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rkXFJEJTAGQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfS74Po1UHHE-PxOY-XhlRP_P046w/mo/photo.jpg?sz=128", "display_name": "hfires", "link": "https://stackoverflow.com/users/11602333/hfires"}, "edited": false, "score": 0, "creation_date": 1574285110, "post_id": 58963372, "comment_id": 104182291, "body": "now i get this error , &#39;Element &#39;x&#39; does not match any field or property of class SimRunnerTest.Things.&#39;"}, {"owner": {"reputation": 83, "user_id": 11602333, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rkXFJEJTAGQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfS74Po1UHHE-PxOY-XhlRP_P046w/mo/photo.jpg?sz=128", "display_name": "hfires", "link": "https://stackoverflow.com/users/11602333/hfires"}, "edited": false, "score": 0, "creation_date": 1574285325, "post_id": 58963372, "comment_id": 104182366, "body": "i tried adding this, [BsonRepresentation(BsonType.ObjectId)] and I got no errors. I have a piece of code adding all the id&#39;s to a list. but my list was empty"}, {"owner": {"reputation": 41, "user_id": 9925547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e32d3d47210a102f4f51b2bd30475fb?s=128&d=identicon&r=PG&f=1", "display_name": "pkantorowicz", "link": "https://stackoverflow.com/users/9925547/pkantorowicz"}, "reply_to_user": {"reputation": 83, "user_id": 11602333, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rkXFJEJTAGQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfS74Po1UHHE-PxOY-XhlRP_P046w/mo/photo.jpg?sz=128", "display_name": "hfires", "link": "https://stackoverflow.com/users/11602333/hfires"}, "edited": false, "score": 0, "creation_date": 1574286641, "post_id": 58963372, "comment_id": 104182913, "body": "I have two new solutions, maybe now it&#39;s not a problem with the only id. Keep your actual implementation. In your query remove AsQueryable() and try using a Find() method instead of Where() or build a filter like this: <code>var filter = Builders&lt;Things&gt;.Filter.Ne(&quot;Id&quot;, BsonNull.Value);</code> and pass it to the Find() method."}, {"owner": {"reputation": 83, "user_id": 11602333, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rkXFJEJTAGQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfS74Po1UHHE-PxOY-XhlRP_P046w/mo/photo.jpg?sz=128", "display_name": "hfires", "link": "https://stackoverflow.com/users/11602333/hfires"}, "reply_to_user": {"reputation": 41, "user_id": 9925547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e32d3d47210a102f4f51b2bd30475fb?s=128&d=identicon&r=PG&f=1", "display_name": "pkantorowicz", "link": "https://stackoverflow.com/users/9925547/pkantorowicz"}, "edited": false, "score": 0, "creation_date": 1574286990, "post_id": 58963372, "comment_id": 104183066, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/202761/discussion-between-hfires-and-pkantorowicz\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 41, "user_id": 9925547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e32d3d47210a102f4f51b2bd30475fb?s=128&d=identicon&r=PG&f=1", "display_name": "pkantorowicz", "link": "https://stackoverflow.com/users/9925547/pkantorowicz"}, "is_accepted": false, "score": 0, "last_activity_date": 1574291389, "last_edit_date": 1574291389, "creation_date": 1574283974, "answer_id": 58963372, "question_id": 58962514, "link": "https://stackoverflow.com/questions/58962514/how-to-query-mongodb-for-id-field-and-make-a-list-of-ids-in-c/58963372#58963372", "title": "How to query MongoDb for id field and make a list of id&#39;s in c#", "body": "<p>Changing [BsonRepresentation (BsonType.ObjectId)] to [BsonId] will most likely solve your problem.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/27019513/system-formatexception-occurred-in-mongodb-bson-dll-xxx-is-not-a-valid-24-dig/27019743\">How can I tell the MongoDB C# driver to store all Guids in string format?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/38871416/difference-between-decorating-a-property-in-c-sharp-with-bsonrepresentationbson\">Difference between decorating a property in C# with BsonRepresentation(BsonType.ObjectId) vs BsonId vs ObjectId</a></p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I created a simple working example. \nIt's a model.</p>\n\n<pre><code>public class Model\n{\n    [BsonId]\n    [BsonElement(\"id\")]\n    [BsonRepresentation(BsonType.ObjectId)]\n    public ObjectId ID { get; set; }\n\n    public Model(ObjectId id)\n    {\n        ID = id;\n    }\n}\n</code></pre>\n\n<p>This is a simple service class:</p>\n\n<pre><code>public interface IModelService\n{\n    Task&lt;IEnumerable&lt;string&gt;&gt; GetModelsIds();\n    Task AddModel();\n}\n\npublic class ModelService : IModelService\n{\n    private const string CollectionName = \"Models\";\n\n    private readonly MongoClient client;\n    private readonly IMongoDatabase _mongoDatabase;\n    private readonly IMongoCollection&lt;Model&gt; _modelsCollection;\n\n    public ModelService()\n    {\n        client = new MongoClient(\"mongodb://localhost:27017\");\n        _mongoDatabase = client.GetDatabase(\"MongoStackOverFlow\");\n        _productsCollection = _mongoDatabase.GetCollection&lt;Model&gt;(CollectionName);\n    }\n\n    public async Task&lt;IEnumerable&lt;string&gt;&gt; GetModelsIds()\n    {\n        var models =  await _productsCollection.Find(p =&gt; p.ID != null).ToListAsync();\n        return models.Select(x =&gt; x.ID.ToString());\n    }\n\n    public async Task AddModel()\n    {\n        var model = new Model(new ObjectId());\n\n        await _productsCollection.InsertOneAsync(model);\n    }\n}\n</code></pre>\n\n<p>And the entry point:</p>\n\n<pre><code>class Program\n{\n    static async Task Main(string[] args)\n    {\n        IModelService modelService = new ModelService();\n        var modelsIds = await modelService.GetModelsIds();\n\n        if (!modelsIds.Any())\n        {\n            for (int i = 0; i &lt;= 10; i++)\n            {\n                await modelService.AddModel();\n            }\n        }\n\n        Task.WaitAll();\n\n        foreach (var modelId in modelsIds)\n        {\n            Console.WriteLine($\"ProductID: {modelId}\");\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 11602333, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rkXFJEJTAGQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfS74Po1UHHE-PxOY-XhlRP_P046w/mo/photo.jpg?sz=128", "display_name": "hfires", "link": "https://stackoverflow.com/users/11602333/hfires"}, "is_accepted": false, "score": 0, "last_activity_date": 1574354561, "creation_date": 1574354561, "answer_id": 58979759, "question_id": 58962514, "link": "https://stackoverflow.com/questions/58962514/how-to-query-mongodb-for-id-field-and-make-a-list-of-ids-in-c/58979759#58979759", "title": "How to query MongoDb for id field and make a list of id&#39;s in c#", "body": "<p>I've been able to resolve my issue. It seems that using a Model and doing a conversion between ObjectId and String was throwing off my program. So the below approach solved the issue.</p>\n\n<pre><code>var demoThings = DBConnect.CosmosClient.GetCollection&lt;BsonDocument&gt;(\"Things\");\n            foreach(var doc in demoThings.Find(x =&gt; x[\"_id\"] != \"\").ToList())\n            {\n                thingList.Add(doc[\"_id\"].ToString());\n            }\n</code></pre>\n\n<p>My goal was to grab the collection and add all the _id's and add them to a list so that I could I simulate data in a json file and attach an id to the JSON. With the above i was able to grab the id's and them to a list.</p>\n"}], "owner": {"reputation": 83, "user_id": 11602333, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rkXFJEJTAGQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfS74Po1UHHE-PxOY-XhlRP_P046w/mo/photo.jpg?sz=128", "display_name": "hfires", "link": "https://stackoverflow.com/users/11602333/hfires"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574354561, "creation_date": 1574280402, "question_id": 58962514, "link": "https://stackoverflow.com/questions/58962514/how-to-query-mongodb-for-id-field-and-make-a-list-of-ids-in-c", "title": "How to query MongoDb for id field and make a list of id&#39;s in c#", "body": "<p>I am trying to loop through id's in a collection for a MongoDb database. The goal is to loop trough these id's and use the id's to create a json files with the different id's. I believe the query that I wrote is returning all the id's, but then i get the below error.</p>\n\n<pre><code>Inner Exception 1:\nFormatException: '9a1c458c-82Dd-43b4-a963-76a96d374580' is not a valid 24 digit hex string.\n</code></pre>\n\n<p>Below is my query to get all the id's</p>\n\n<pre><code>var thingsDoc = demoThings.AsQueryable().Where(a =&gt; a._id != null).ToList();\n</code></pre>\n\n<p>Below is my class of properties for Things</p>\n\n<pre><code>public class Things\n    {\n        [BsonRepresentation(BsonType.ObjectId)]\n        public ObjectId _id { get; set; }\n    }\n</code></pre>\n\n<p>I believe the issue is with how the properties are defined. Or maybe it is a problem with my query? From research I know the reason it is complaining is because of the dashes in the format. But not finding any work arounds to resolve this. Help is much appreciated.</p>\n"}, {"tags": ["c#", "visual-studio-2017", ".net-assembly"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574280378, "post_id": 58962474, "comment_id": 104180214, "body": "Adding a reference is something you have to do explicitly. This is not a mater of mere code copy&amp;paste. The exact way to reference assemblies varries by IDE/Compiler/Project format."}, {"owner": {"reputation": 3, "user_id": 9819698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Carlos Cortez", "link": "https://stackoverflow.com/users/9819698/carlos-cortez"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574280416, "post_id": 58962474, "comment_id": 104180230, "body": "Im adding the reference via Nuget package, and as far as i know it should work out of the box, doesn&#39;t it?"}], "answers": [{"comments": [{"owner": {"reputation": 476, "user_id": 9518407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XyZlX.jpg?s=128&g=1", "display_name": "Sajeeb Chandan", "link": "https://stackoverflow.com/users/9518407/sajeeb-chandan"}, "reply_to_user": {"reputation": 3, "user_id": 9819698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Carlos Cortez", "link": "https://stackoverflow.com/users/9819698/carlos-cortez"}, "edited": false, "score": 0, "creation_date": 1574282097, "post_id": 58962582, "comment_id": 104180978, "body": "In that case you can download my working copy from Mediafire <a href=\"http://www.mediafire.com/file/x1njyeanx2tka0s/UndertaleModTool-master.rar/file\" rel=\"nofollow noreferrer\">mediafire.com/file/x1njyeanx2tka0s/UndertaleModTool-master.r&zwnj;&#8203;ar/&hellip;</a>"}], "tags": [], "owner": {"reputation": 476, "user_id": 9518407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XyZlX.jpg?s=128&g=1", "display_name": "Sajeeb Chandan", "link": "https://stackoverflow.com/users/9518407/sajeeb-chandan"}, "is_accepted": false, "score": 0, "last_activity_date": 1574280690, "creation_date": 1574280690, "answer_id": 58962582, "question_id": 58962474, "link": "https://stackoverflow.com/questions/58962474/visual-studio-2017-community-not-finding-reference-properly/58962582#58962582", "title": "Visual studio 2017 community not finding reference properly", "body": "<p>Download clean project from github</p>\n\n<p>Then try restoring nuget packages for solution demonstrated in screenshot</p>\n\n<p>I've solved the issue in this way. Mine is running property with 3 warnings</p>\n\n<p><a href=\"https://i.stack.imgur.com/3zzl7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3zzl7.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 9819698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Carlos Cortez", "link": "https://stackoverflow.com/users/9819698/carlos-cortez"}, "is_accepted": true, "score": 0, "last_activity_date": 1574281989, "creation_date": 1574281989, "answer_id": 58962922, "question_id": 58962474, "link": "https://stackoverflow.com/questions/58962474/visual-studio-2017-community-not-finding-reference-properly/58962922#58962922", "title": "Visual studio 2017 community not finding reference properly", "body": "<p>Seems to be a Visual studio 2017 community bug, installing vs community 2019 fixes the issue entirely without having to do anything.</p>\n"}], "owner": {"reputation": 3, "user_id": 9819698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Carlos Cortez", "link": "https://stackoverflow.com/users/9819698/carlos-cortez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 58962922, "answer_count": 2, "score": 0, "last_activity_date": 1574281989, "creation_date": 1574280215, "last_edit_date": 1574280796, "question_id": 58962474, "link": "https://stackoverflow.com/questions/58962474/visual-studio-2017-community-not-finding-reference-properly", "title": "Visual studio 2017 community not finding reference properly", "body": "<p>I cloned a project on github and while trying to compile, it gives me missing assembly reference error but the said assembly is within the project and seems to be just fine.</p>\n\n<blockquote>\n  <p>Error  CS0012  The type 'ValueType' is defined in an assembly that is not referenced. You must add a reference to assembly 'netstandard, Version=2.0.0.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51'.   UndertaleModTool Converters\\RectConverter.cs    16</p>\n</blockquote>\n\n<p>ValueType is within the dependency ValueTuple.</p>\n\n<p><a href=\"https://i.stack.imgur.com/FORhq.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n\n<p>Tried re-installing, updating and setting in the csproj file but i wanted to find a clean solution for this problem; other people seem to be able to compile the project just fine.</p>\n\n<p>Any ideas on how to solve this kind of issue?</p>\n\n<p>link of the project on github for reference <a href=\"https://github.com/krzys-h/UndertaleModTool\" rel=\"nofollow noreferrer\">https://github.com/krzys-h/UndertaleModTool</a></p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "server", "localization"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1574280361, "post_id": 58962442, "comment_id": 104180201, "body": "What are the values of <code>string culture, string returnUrl</code> on the server? Don&#39;t you have logging?"}, {"owner": {"reputation": 21, "user_id": 10933314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170ddfbc07418077bee5d3a796d47b22?s=128&d=identicon&r=PG&f=1", "display_name": "gru", "link": "https://stackoverflow.com/users/10933314/gru"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1574280698, "post_id": 58962442, "comment_id": 104180343, "body": "<b>Train</b> I don&#39;t have an access to the server logs."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1574280763, "post_id": 58962442, "comment_id": 104180378, "body": "Why don&#39;t you log errors to the database? Or a file? Try looking at Elmah."}, {"owner": {"reputation": 21, "user_id": 10933314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170ddfbc07418077bee5d3a796d47b22?s=128&d=identicon&r=PG&f=1", "display_name": "gru", "link": "https://stackoverflow.com/users/10933314/gru"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1574283631, "post_id": 58962442, "comment_id": 104181658, "body": "@Train I did not know about this application. I installed it and tested it.I published the new code to the server, but it not showed any problems."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1574283914, "post_id": 58962442, "comment_id": 104181790, "body": "If it works on your local but not on the server, obviously something is going on in the server side. It&#39;s hard for me to help without more information on what&#39;s happening on the server. You&#39;re going to have to figure out a way to log more info from the server."}, {"owner": {"reputation": 21, "user_id": 10933314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170ddfbc07418077bee5d3a796d47b22?s=128&d=identicon&r=PG&f=1", "display_name": "gru", "link": "https://stackoverflow.com/users/10933314/gru"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1574284051, "post_id": 58962442, "comment_id": 104181851, "body": "@Train, the localization just doesn&#39;t working on the server and didn&#39;t show any kind of problems or errors. Locally it&#39;s fine!"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10933314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170ddfbc07418077bee5d3a796d47b22?s=128&d=identicon&r=PG&f=1", "display_name": "gru", "link": "https://stackoverflow.com/users/10933314/gru"}, "is_accepted": false, "score": 1, "last_activity_date": 1574669846, "creation_date": 1574669846, "answer_id": 59027551, "question_id": 58962442, "link": "https://stackoverflow.com/questions/58962442/asp-net-core-2-2-localization-doesnt-work-on-the-server/59027551#59027551", "title": "ASP.NET CORE 2.2 Localization doesn&#39;t work on the server", "body": "<p>I found the solution for my problem. </p>\n\n<blockquote>\n  <p>This can occur when a project's name is not a valid .NET identifier. For instance my-project-name.csproj will use the root namespace my_project_name and the assembly name my-project-name leading to this error.\n  Blockquote</p>\n</blockquote>\n\n<p>I changed the name of the project and folder and now works.</p>\n"}], "owner": {"reputation": 21, "user_id": 10933314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/170ddfbc07418077bee5d3a796d47b22?s=128&d=identicon&r=PG&f=1", "display_name": "gru", "link": "https://stackoverflow.com/users/10933314/gru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574670468, "creation_date": 1574280082, "question_id": 58962442, "link": "https://stackoverflow.com/questions/58962442/asp-net-core-2-2-localization-doesnt-work-on-the-server", "title": "ASP.NET CORE 2.2 Localization doesn&#39;t work on the server", "body": "<p>I've been trying to make a simple blog website on .net core 2.2 with Localization. Everything works locally, but on the server, doesn't work.</p>\n\n<p>I added in AssemblyInfo.cs file:\n[assembly: RootNamespace(\"e_cosmetics\")] </p>\n\n<p>This is Startup.cs</p>\n\n<pre><code>public class Startup\n    {\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }\n\n        public IConfiguration Configuration { get; }\n\n        // This method gets called by the runtime. Use this method to add services to the container.\n        public void ConfigureServices(IServiceCollection services)\n        {\n            services.AddLocalization(options =&gt; options.ResourcesPath = \"Resources\");\n\n            services.AddMvc()\n                .AddViewLocalization(LanguageViewLocationExpanderFormat.Suffix)\n                .AddDataAnnotationsLocalization();\n\n            services.Configure&lt;CookiePolicyOptions&gt;(options =&gt;\n            {\n                // This lambda determines whether user consent for non-essential cookies is needed for a given request.\n                options.CheckConsentNeeded = context =&gt; true;\n                options.MinimumSameSitePolicy = SameSiteMode.None;\n            });\n\n\n            services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt;\n                options.UseSqlServer(\n                    Configuration.GetConnectionString(\"DefaultConnection\")));\n\n            //services.AddDefaultIdentity&lt;IdentityUser&gt;()\n            services.AddIdentity&lt;User, IdentityRole&gt;()\n                .AddDefaultUI(UIFramework.Bootstrap4)\n                .AddDefaultTokenProviders()\n                .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;();\n\n\n            services.Configure&lt;RequestLocalizationOptions&gt;(\n        opts =&gt;\n        {\n            var supportedCultures = new List&lt;CultureInfo&gt;\n            {\n                new CultureInfo(\"en-US\"),\n                new CultureInfo(\"bg-BG\")\n            };\n\n            opts.DefaultRequestCulture = new RequestCulture(\"bg-BG\");\n            // Formatting numbers, dates, etc.\n            opts.SupportedCultures = supportedCultures;\n            // UI strings that we have localized.\n            opts.SupportedUICultures = supportedCultures;\n        });\n\n            services.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_2);\n        }\n</code></pre>\n\n<p>HomeController.cs</p>\n\n<pre><code>public class HomeController : Controller\n{\n    [HttpPost]\n    public IActionResult SetLanguage(string culture, string returnUrl)\n    {\n        Response.Cookies.Append(\n            CookieRequestCultureProvider.DefaultCookieName,\n            CookieRequestCultureProvider.MakeCookieValue(new RequestCulture(culture)),\n            new CookieOptions { Expires = DateTimeOffset.UtcNow.AddYears(1) }\n        );\n\n        return LocalRedirect(returnUrl);\n    }\n</code></pre>\n\n<p>_SelectLanguagePartial.cshtml</p>\n\n<pre><code>@inject IViewLocalizer Localizer\n@inject IOptions&lt;RequestLocalizationOptions&gt; LocOptions\n\n@{\n    var requestCulture = Context.Features.Get&lt;IRequestCultureFeature&gt;();\n    var cultureItems = LocOptions.Value.SupportedUICultures\n        .Select(c =&gt; new SelectListItem { Value = c.Name, Text = c.DisplayName })\n        .ToList();\n}\n\n&lt;div title=\"@Localizer[\"Request culture provider:\"] @requestCulture?.Provider?.GetType().Name\"&gt;\n    &lt;form id=\"selectLanguage\" asp-controller=\"Home\"\n          asp-action=\"SetLanguage\" asp-route-returnUrl=\"@Context.Request.Path\"\n          method=\"post\" class=\"form-horizontal\" role=\"form\"&gt;\n        @Localizer[\"Language:\"] &lt;select name=\"culture\"\n                                        asp-for=\"@requestCulture.RequestCulture.UICulture.Name\" asp-items=\"cultureItems\"&gt;&lt;/select&gt;\n        &lt;button type=\"submit\" class=\"btn btn-default btn-xs\"&gt;Save&lt;/button&gt;\n\n    &lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>about.cshtml</p>\n\n<pre><code>@using Microsoft.AspNetCore.Mvc.Localization\n@inject IViewLocalizer Localizer\n\n&lt;section class=\"about-wrapper\"&gt;\n    &lt;div class=\"main-nav\"&gt;\n        &lt;h1&gt;@Localizer[\"\u0417\u0430 \u041d\u0430\u0441\"]&lt;/h1&gt;\n\n        &lt;ul&gt;\n            &lt;li&gt;&lt;a asp-controller=\"Home\" asp-action=\"index\"&gt;@Localizer[\"\u041d\u0430\u0447\u0430\u043b\u043e\"]&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;p&gt;@Localizer[\"\u0417\u0430 \u041d\u0430\u0441\"]&lt;/p&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>web.config</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n  &lt;system.web&gt;\n    &lt;globalization culture=\"bg-BG\" uiCulture=\"bg-BG\" /&gt;\n  &lt;/system.web&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Resources\n<a href=\"https://i.stack.imgur.com/E3tBg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E3tBg.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Views.Home.about.en-US.resx\n<a href=\"https://i.stack.imgur.com/39Jm3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/39Jm3.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>If somebody give me advice how to fix with the problem, I will be really thankful.</p>\n"}, {"tags": ["c#", ".net", "razor"], "owner": {"reputation": 421, "user_id": 7105504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/77ebc22d3f48bd1d3905b16c4dfaa1d1?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/7105504/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574279278, "creation_date": 1574279278, "question_id": 58962251, "link": "https://stackoverflow.com/questions/58962251/displayformat-not-getting-applied-to-one-of-two-inputs-with-the-same-settings", "title": "DisplayFormat not getting applied to one of two inputs with the same settings", "body": "<p>I have two text inputs that appear to be set up exactly the same, however while one gets the decimal places automatically added to it when you click out of the text box, the other one does not. I'm at a loss as to why this could be happening, any help would be much appreciated. </p>\n\n<p>Works:</p>\n\n<pre><code>[Display(Name = @\"Extra Withholding\")]\n[UIHint(\"GridFormFieldDecimal\")]\n[DisplayFormat(DataFormatString = \"{0:0.00}\", ApplyFormatInEditMode = true)]\npublic decimal? Federal2020ExtraWithholding { get; set; }\n\n@Html.EditorFor(m =&gt; m.Federal2020ExtraWithholding, \nnew { SecondaryLabel = \"W-4 Step 4 (c)\", \n   OuterCss = \"grid_8 alpha\", \n   LabelCss = \"grid_4\", \n   InputCss = \"grid_4\", \n   HelpCss = \"grid_4 display-none\", \n   TextCss = \"dollars -disable-on-exempt\", \n   Prefix = \"$\" \n})\n</code></pre>\n\n<p>Doesn't work:</p>\n\n<pre><code>[Display(Name = @\"Other Income\")]\n[UIHint(\"GridFormFieldDecimal\")]\n[DisplayFormat(DataFormatString = \"{0:0.00}\", ApplyFormatInEditMode = true)]\npublic decimal? OtherIncomeAmount { get; set; }\n\n@Html.EditorFor(m =&gt; m.OtherIncomeAmount, \nnew { SecondaryLabel = \"W-4 Step 4 (a)\", \n  OuterCss = \"grid_8 alpha\", \n  LabelCss = \"grid_4\", \n  InputCss = \"grid_4\", \n  HelpCss = \"grid_4 display-none\", \n  TextCss = \"dollars -disable-on-exempt\", \n  Prefix = \"$\" \n})\n</code></pre>\n"}, {"tags": ["c#", "mysql", "database", "visual-studio", "visual-studio-2015"], "comments": [{"owner": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "edited": false, "score": 1, "creation_date": 1574278929, "post_id": 58962143, "comment_id": 104179479, "body": "There are too many ways to approach this problem. The answers would just turn into a straw-poll for which one people liked. The best thing is to do some research on the topic yourself, find two or three, <i>analyze</i> them, determine if they work for you or not, and <i>try them out</i>. Come to us when you have a specific question about something you have attempted to do."}, {"owner": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "edited": false, "score": 0, "creation_date": 1574278977, "post_id": 58962143, "comment_id": 104179506, "body": "Also, you know that Visual Studio 2019 is available, and free, right? You should consider using the newest tools whenever possible."}, {"owner": {"reputation": 33, "user_id": 12406099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d8294eb3bde20ae1c418bb2087f471?s=128&d=identicon&r=PG&f=1", "display_name": "Sahasrar", "link": "https://stackoverflow.com/users/12406099/sahasrar"}, "reply_to_user": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "edited": false, "score": 0, "creation_date": 1574279712, "post_id": 58962143, "comment_id": 104179887, "body": "what advantages of using VS2019 instead VS2015 brings to me? I think i am not able to use all features of whole IDE. And newer versions have more requirements on PC."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1574281487, "post_id": 58962143, "comment_id": 104180715, "body": "\ud83d\udc34 This is an \u201cI want a pony\u201d type of question and these are difficult to answer concisely and that makes them off-topic on Stack Overflow. If you can, make an attempt and then show us your code we can understand what you\u2019re trying to do on a technical level. Even a small amount of code, however incomplete or broken, can give us context and illustrate your intentions."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1574281544, "post_id": 58962143, "comment_id": 104180735, "body": "Visual Studio Express isn&#39;t that resource intensive. Any machine made in the last ten years should be able to handle it, unless you&#39;re on some really tight build with less than 4GB of memory. 8GB is ideal. 16GB is optimal. If you&#39;re really strapped for performance and want a cheap boost, replacing an HDD with an SSD can give a literal 10x improvement, and SSD prices have never been lower."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 12406099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d8294eb3bde20ae1c418bb2087f471?s=128&d=identicon&r=PG&f=1", "display_name": "Sahasrar", "link": "https://stackoverflow.com/users/12406099/sahasrar"}, "edited": false, "score": 0, "creation_date": 1574324529, "post_id": 58962990, "comment_id": 104194307, "body": "I took your advice and read more about VS 2019. It is true that many features like intelisense and code suggestions and cleanup is on higer level. So iconsider to install and try VS2019."}, {"owner": {"reputation": 33, "user_id": 12406099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d8294eb3bde20ae1c418bb2087f471?s=128&d=identicon&r=PG&f=1", "display_name": "Sahasrar", "link": "https://stackoverflow.com/users/12406099/sahasrar"}, "edited": false, "score": 0, "creation_date": 1574324676, "post_id": 58962990, "comment_id": 104194399, "body": "I considering the possibility to use SQLite. But, how about sync local SQLite database with DB server on internet and again back to SQLite?"}, {"owner": {"reputation": 26, "user_id": 6640157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6d9eb988830a1218234fdc83a3c460?s=128&d=identicon&r=PG&f=1", "display_name": "Riley Metzger", "link": "https://stackoverflow.com/users/6640157/riley-metzger"}, "reply_to_user": {"reputation": 33, "user_id": 12406099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d8294eb3bde20ae1c418bb2087f471?s=128&d=identicon&r=PG&f=1", "display_name": "Sahasrar", "link": "https://stackoverflow.com/users/12406099/sahasrar"}, "edited": false, "score": 0, "creation_date": 1574621724, "post_id": 58962990, "comment_id": 104287855, "body": "SQLite doesn&#39;t do concurrency to well, it also falls short on stored procedures.  Both would be nice if you want to scale up.  So if you need to serve multiple clients concurrently SQLite might not be the path you want.  Also, I\u2019m not a big fan of exposing any database directly to the internet.  I would use a restful webservice to expose those resources.   The link below details how to set one up with DotNet Core.  You can consume that webservices using the HttpClient class."}, {"owner": {"reputation": 26, "user_id": 6640157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6d9eb988830a1218234fdc83a3c460?s=128&d=identicon&r=PG&f=1", "display_name": "Riley Metzger", "link": "https://stackoverflow.com/users/6640157/riley-metzger"}, "reply_to_user": {"reputation": 33, "user_id": 12406099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d8294eb3bde20ae1c418bb2087f471?s=128&d=identicon&r=PG&f=1", "display_name": "Sahasrar", "link": "https://stackoverflow.com/users/12406099/sahasrar"}, "edited": false, "score": 0, "creation_date": 1574621761, "post_id": 58962990, "comment_id": 104287870, "body": "It\u2019s hard to know what you don\u2019t know, so for reference: <a href=\"https://www.codingame.com/playgrounds/35462/creating-web-api-in-asp-net-core-2-0/part-1---web-api\" rel=\"nofollow noreferrer\">codingame.com/playgrounds/35462/&hellip;</a> <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.http.httpclient?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 26, "user_id": 6640157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6d9eb988830a1218234fdc83a3c460?s=128&d=identicon&r=PG&f=1", "display_name": "Riley Metzger", "link": "https://stackoverflow.com/users/6640157/riley-metzger"}, "reply_to_user": {"reputation": 33, "user_id": 12406099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d8294eb3bde20ae1c418bb2087f471?s=128&d=identicon&r=PG&f=1", "display_name": "Sahasrar", "link": "https://stackoverflow.com/users/12406099/sahasrar"}, "edited": false, "score": 0, "creation_date": 1574621931, "post_id": 58962990, "comment_id": 104287917, "body": "I also realize that sometimes you simply need to access the data server remotely, or you are going to need to handle concurrency issues.  In those cases you have one more reason NOT to use SQLite as your server.   SQL Server Express by Microsoft will work nicely up to about 10GB of data, then you need to pay.   When you need to scale up, investigate some of the Azure data packages.  They charge by units of data used (which they have never been quite clear on).  If you are a cheapskate like me, and fancy yourself competent with Linux, you can always give Postgresql a shot."}, {"owner": {"reputation": 26, "user_id": 6640157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6d9eb988830a1218234fdc83a3c460?s=128&d=identicon&r=PG&f=1", "display_name": "Riley Metzger", "link": "https://stackoverflow.com/users/6640157/riley-metzger"}, "reply_to_user": {"reputation": 33, "user_id": 12406099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d8294eb3bde20ae1c418bb2087f471?s=128&d=identicon&r=PG&f=1", "display_name": "Sahasrar", "link": "https://stackoverflow.com/users/12406099/sahasrar"}, "edited": false, "score": 0, "creation_date": 1574622179, "post_id": 58962990, "comment_id": 104287993, "body": "For further reference, when you need to secure your web service, look into JWT or bearer tokens."}], "tags": [], "owner": {"reputation": 26, "user_id": 6640157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6d9eb988830a1218234fdc83a3c460?s=128&d=identicon&r=PG&f=1", "display_name": "Riley Metzger", "link": "https://stackoverflow.com/users/6640157/riley-metzger"}, "is_accepted": true, "score": 1, "last_activity_date": 1574282281, "creation_date": 1574282281, "answer_id": 58962990, "question_id": 58962143, "link": "https://stackoverflow.com/questions/58962143/best-way-to-store-pc-application-data-localy-and-sync-with-server-database/58962990#58962990", "title": "Best way to store PC application data localy and sync with server database", "body": "<p>One way that\u2019s very popular right now is to use SQLite, which leverages the power of sql while being easily contained within your local file system.  It\u2019s a popular option used in both desktop and mobile applications currently. </p>\n\n<p><a href=\"https://www.sqlite.org/index.html\" rel=\"nofollow noreferrer\">https://www.sqlite.org/index.html</a>  - Project site\n<a href=\"https://system.data.sqlite.org/index.html/doc/trunk/www/downloads.wiki\" rel=\"nofollow noreferrer\">https://system.data.sqlite.org/index.html/doc/trunk/www/downloads.wiki</a>  - ADO.net providers.</p>\n\n<p>Another option is to simply serialize collections of objects and write them to a file.    You can then use LINQ (Language Integrated Query), to manage and select the data within your application as desired.   However, SQLite would be my first choice.</p>\n\n<p>I would also suggest upgrading to visual studio 2019 unless there are limitations within your system that prevent it.  VS2019 is more widely supported by the latest library\u2019s and 3rd party solutions.  Many of the newer versions of DotNet, like DotNet Core, will not be supported in VS2015 (Though .net core 2.0 is supported in the 2017 version).</p>\n"}], "owner": {"reputation": 33, "user_id": 12406099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75d8294eb3bde20ae1c418bb2087f471?s=128&d=identicon&r=PG&f=1", "display_name": "Sahasrar", "link": "https://stackoverflow.com/users/12406099/sahasrar"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "closed_date": 1574286514, "accepted_answer_id": 58962990, "answer_count": 1, "score": -1, "last_activity_date": 1574282281, "creation_date": 1574278848, "question_id": 58962143, "link": "https://stackoverflow.com/questions/58962143/best-way-to-store-pc-application-data-localy-and-sync-with-server-database", "closed_reason": "Needs more focus", "title": "Best way to store PC application data localy and sync with server database", "body": "<p>Please, i have a question. </p>\n\n<p>What is optimal way to store some settings and application data like tables or products info of my application localy. That means, data of my program is store on computer where application running.\nBut, If I want to use or work on this app on other computer it is problem because there aren\u00b4t same settings and data. So, I want to work on this app locally on my computer without internet. But, i want to synchoronizing tables and data with other computer if i want to.</p>\n\n<p>I want to develop my personal application on desktop computer. It is like economical applicaton where are lots of products and peoples tables. I choose VS2015 C#. </p>\n\n<p>Thank you very much for any reply.</p>\n"}, {"tags": ["c#", "performance", "linq", "parallel.foreach", "concurrentdictionary"], "comments": [{"owner": {"reputation": 640, "user_id": 3935050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Zq5E.jpg?s=128&g=1", "display_name": "DetectivePikachu", "link": "https://stackoverflow.com/users/3935050/detectivepikachu"}, "edited": false, "score": 0, "creation_date": 1574279515, "post_id": 58962141, "comment_id": 104179778, "body": "In my experience Parallel.ForEach is significantly slower than a regular for each unless you&#39;re working on hundreds of thousands of items. Even then it tends to be not much better."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1574279931, "post_id": 58962141, "comment_id": 104179990, "body": "Marking this question, <i>&quot;Can anyone explain why this [Parallel.ForEach] is still taking longer [than foreach]?&quot;</i> as duplicate."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1574288411, "post_id": 58962141, "comment_id": 104183600, "body": "@TheodorZoulias Re-opened. Answer away!"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1574367524, "post_id": 58962141, "comment_id": 104218725, "body": "When I test, I get that <code>Parallel.ForEach</code> is twice as fast (.Net Core 3) as <code>foreach</code> for about 20,000 ticks for <code>foreach</code> (200 Setting Ids, 1846 customers (4 - 10 each)). I think the impact of parallel really depends on your CPU - I have 4 cores hyperthreaded for 8 logical CPUs."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 2, "creation_date": 1574367967, "post_id": 58962141, "comment_id": 104218917, "body": "13,275 ticks is around 1.3 milliseconds - how many times per day are you running this? Even if you dropped it to zero, this is only 1/6500 of a day - you&#39;d have to run this every two seconds to save one minute in the day. Are you sure this isn&#39;t <i>very</i> premature optimization?"}, {"owner": {"reputation": 708, "user_id": 102363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/lJEsL.jpg?s=128&g=1", "display_name": "Obelix", "link": "https://stackoverflow.com/users/102363/obelix"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1574429071, "post_id": 58962141, "comment_id": 104240738, "body": "@NetMage; got me! I&#39;m going to isolate this in a very small example console app and run it on a different machine. I&#39;m running on development server in a private cloud (virtualized). So my CPU is a Xeon 4 core. But these are virtual cores. I&#39;m not sure how these react versus a real quadcore (like the skylake i&#39;ve got at home). I&#39;m getting back on that."}], "answers": [{"comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1574368218, "post_id": 58964477, "comment_id": 104219028, "body": "Note that at 13,275 ticks for the <code>foreach</code> loop, the overhead of <code>ToLookup</code> make this much slower unless the <code>custList</code> doesn&#39;t change between <code>catItem</code> updates."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1574372347, "post_id": 58964477, "comment_id": 104220857, "body": "Also, using <code>GroupBy</code>+<code>ToDictionary</code> to setup a <code>Dictionary&lt;TSettingsId, List&lt;Customer&gt;&gt;</code> (e.g. <code>custList.GroupBy(item =&gt; item.SettingsId).ToDictionary(g =&gt; g.Key, g =&gt; g.ToList());</code>) is faster than doing <code>ToList</code> in the <code>foreach</code> loop, assuming you need a <code>List&lt;Customer&gt;</code>."}], "tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": false, "score": 1, "last_activity_date": 1574289435, "creation_date": 1574289435, "answer_id": 58964477, "question_id": 58962141, "link": "https://stackoverflow.com/questions/58962141/howto-add-a-subset-of-a-list-to-a-property-of-an-object-in-another-list-best-f/58964477#58964477", "title": "Howto add a subset of a List to a property of an object in another List - best/fastest practice", "body": "<p>You could try using the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.tolookup\" rel=\"nofollow noreferrer\"><code>ToLookup</code></a> LINQ method:</p>\n\n<pre><code>var customersLookup = custList.ToLookup(item =&gt; item.SettingsId);\n\nforeach (var catItem in catList)\n{\n    catItem.Customers = customersLookup[catItem.SettingsId].ToList();\n}\n</code></pre>\n\n<p>I assumed that the <code>CategorySetting</code> class has a writable property <code>Customers</code> of type <code>IList&lt;Customer&gt;</code>. In case the property is of type <code>IEnumerable&lt;Customer&gt;</code>, you could omit the <code>ToList</code> call.</p>\n"}, {"comments": [{"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 1, "creation_date": 1575430791, "post_id": 59164691, "comment_id": 104560506, "body": "This has O(n&#178;) computational complexity, so it should be very fast or very slow, depending on the size of the <code>custList</code>. Small list =&gt; fast. Big list =&gt; slow."}, {"owner": {"reputation": 708, "user_id": 102363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/lJEsL.jpg?s=128&g=1", "display_name": "Obelix", "link": "https://stackoverflow.com/users/102363/obelix"}, "reply_to_user": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1575469949, "post_id": 59164691, "comment_id": 104577947, "body": "The custList is always 355 items (or less). never more.Thank you for your explanation. Reminds me how less I know :)"}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1575471431, "post_id": 59164691, "comment_id": 104578839, "body": "100-200 items are usually the tipping point where hashing approaches (<code>ToLookup</code>) start to outperform brute-force loops (<code>Where</code>). So I guess that for the given max size of the list you are OK with your chosen solution."}], "tags": [], "owner": {"reputation": 708, "user_id": 102363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/lJEsL.jpg?s=128&g=1", "display_name": "Obelix", "link": "https://stackoverflow.com/users/102363/obelix"}, "is_accepted": false, "score": 0, "last_activity_date": 1575404211, "creation_date": 1575404211, "answer_id": 59164691, "question_id": 58962141, "link": "https://stackoverflow.com/questions/58962141/howto-add-a-subset-of-a-list-to-a-property-of-an-object-in-another-list-best-f/59164691#59164691", "title": "Howto add a subset of a List to a property of an object in another List - best/fastest practice", "body": "<p>I ended up using what I had;</p>\n\n<p>foreach (var catItem in catList)\n{\n   catItem.Customers = custList.Where(c => c.SettingsId == catItem.SettingsId).ToList();\n}</p>\n\n<p>@NetMage pointed out very well that this is probably useless optimalisation. I figured that the paralell foreach would be of major use here, but no matter what, the first loop was still the fastest. Both on my quadcore and on my xeon.</p>\n"}], "owner": {"reputation": 708, "user_id": 102363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/lJEsL.jpg?s=128&g=1", "display_name": "Obelix", "link": "https://stackoverflow.com/users/102363/obelix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575404211, "creation_date": 1574278836, "question_id": 58962141, "link": "https://stackoverflow.com/questions/58962141/howto-add-a-subset-of-a-list-to-a-property-of-an-object-in-another-list-best-f", "title": "Howto add a subset of a List to a property of an object in another List - best/fastest practice", "body": "<p>I'm trying to find the fastest and most performant way to select a subset of items from a list based on a key property and assign this subset (list) to the property of an item in another list. The performance side of this is important since this part of code is going to be invoked very often each workday. I measured the performance in ticks to clearly see the relative difference. </p>\n\n<p>I've got two lists (example setup);</p>\n\n<pre><code>List&lt;CategorySetting&gt; catList;\nList&lt;Customer&gt; custList;\n</code></pre>\n\n<p>The <code>CategorySetting</code> entity has a property called <code>SettingsId</code>. The <code>Customer</code> entity has a <code>SettingsId</code> property as well, which is in fact a foreign key from <code>Customers</code> to <code>CategorySetting</code>.</p>\n\n<p>The first piece of code i wrote was the most straight forward;</p>\n\n<pre><code>// normal for each: 13275 ticks\nforeach (var catItem in catList)\n{\n   catItem.Customers = custList.Where(c =&gt; c.SettingsId == catItem.SettingsId).ToList();\n}\n</code></pre>\n\n<p>This would take about 13275 ticks.</p>\n\n<p>I then thought maybe using parallelism this could be a lot faster? So I wrote this piece of code;</p>\n\n<pre><code>// parallel for each: 82541 ticks\nParallel.ForEach(catList, catItem =&gt;\n{\n   catItem.Customers = custList.Where(c =&gt; c.SettingsId == catItem.SettingsId).ToList();\n});\n</code></pre>\n\n<p>This took way longer; 82541 ticks. That made no sense to me because of the parallel nature of this approach. It should use multiple threads to do this so in theory should be much faster. Then I started wondering what would happen if the multiple threads would try to access the customerlist at the same time. That might result in locks and queues hence taking more time because of the overhead? The same as for the writing to the main list.</p>\n\n<p>I tried another approach. I made a <code>ConcurrentBag</code> for the catList (main list). </p>\n\n<pre><code>ConcurrentBag&lt;CategorySettings&gt; csBag = new ConcurrentBag&lt;CategorySettings&gt;(catList);\n</code></pre>\n\n<p>The custList I punt into a <code>ConcurrentDictionary</code> already grouped by the <code>SettingsId</code>.</p>\n\n<pre><code>var dict = custList.GroupBy(c =&gt; c.SettingsId).ToDictionary(x =&gt; x.Key, y =&gt; y.ToList());\nConcurrentDictionary&lt;int?, List&lt;Customer&gt;&gt; concDict = new ConcurrentDictionary&lt;int?, List&lt;Customer&gt;&gt;(dict);\n</code></pre>\n\n<p>The final try was then like this:</p>\n\n<pre><code>// paralell, bag, concurrent dictionary: 40255\nParallel.ForEach(caBag, ca =&gt;\n{   \n   concDict.TryGetValue(ca.SettingsId, out var selCust);\n   ca.Customers = selCust;\n});\n</code></pre>\n\n<p>This would take 40255 ticks. Can anyone explain why this is still taking longer? And more important is there no other way then 'just' a foreach loop? Feels like i'm missing something here. </p>\n\n<p>Any ideas are greatly appreciated!</p>\n"}, {"tags": ["c#", "xaml", "xamarin.forms"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574279168, "post_id": 58962086, "comment_id": 104179599, "body": "Nothing in there makes sense. Why do you declare the variables with scope limited to the consturctor, if you want them to be avilible elsewhere? Also in your 2nd code you do not use the class <code>MitadMundo</code> at all. You use <code>Calculos</code>, wich you have not shown us"}, {"owner": {"reputation": 5, "user_id": 11961923, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157373701058904/picture?type=large", "display_name": "Oscar Perez Lugo", "link": "https://stackoverflow.com/users/11961923/oscar-perez-lugo"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574279338, "post_id": 58962086, "comment_id": 104179689, "body": "how could i declare the ariables available for all the page? inside the constructos the public modifier is not allowed"}], "answers": [{"tags": [], "owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "is_accepted": true, "score": 1, "last_activity_date": 1574279230, "creation_date": 1574279230, "answer_id": 58962243, "question_id": 58962086, "link": "https://stackoverflow.com/questions/58962086/move-data-from-constructor-to-void-xamarin-forms/58962243#58962243", "title": "Move data from constructor to void Xamarin.Forms", "body": "<p>This has nothing to do with Xamarin.  This is basic C# scoping</p>\n\n<p>variables declared within a method or block are scoped locally to that method/block and are not visible outside of it</p>\n\n<pre><code>public MitadMundo(Calculos calc)\n{\n    InitializeComponent();\n\n    string personas = calc.personas;\n    string carros = calc.carros;\n    string buses = calc.buses;\n}\n</code></pre>\n\n<p>if you want to access them from outside, declare them as class level variables</p>\n\n<pre><code>string personas;\n\npublic MitadMundo(Calculos calc)\n{\n    InitializeComponent();\n\n    personas = calc.personas;\n    string carros = calc.carros;\n    string buses = calc.buses;\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 11961923, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157373701058904/picture?type=large", "display_name": "Oscar Perez Lugo", "link": "https://stackoverflow.com/users/11961923/oscar-perez-lugo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 58962243, "answer_count": 1, "score": 0, "last_activity_date": 1574279230, "creation_date": 1574278622, "question_id": 58962086, "link": "https://stackoverflow.com/questions/58962086/move-data-from-constructor-to-void-xamarin-forms", "title": "Move data from constructor to void Xamarin.Forms", "body": "<p>I have some data values in the constructor and i want to make it usable in my voids</p>\n\n<p>this is the constructor:</p>\n\n<pre><code> public MitadMundo(Calculos calc)\n\n        {\n\n            InitializeComponent();\n\n            string personas = calc.personas;\n            string carros = calc.carros;\n            string buses = calc.buses;\n\n        }\n</code></pre>\n\n<p>and this what i want to do with the data in order to take it from the previus page to the next one</p>\n\n<pre><code>public async void Carrito_Clicked(object sender, EventArgs e)\n        {\n            Calculos calculos = new Calculos();\n            calculos.personas = personas;\n\n            CarritoPage myHomePage = new CarritoPage(calculos);\n            NavigationPage.SetHasNavigationBar(myHomePage, true);\n            await Navigation.PushModalAsync(myHomePage);\n        }\n</code></pre>\n\n<p>but the string is not usable in void</p>\n\n<p>could you help me please i'm newly in xamarin forms.</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 12196730, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--ntZQ-MLXZA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc5Q19kuReUrVt2fW8shrhdwc1Gmg/photo.jpg?sz=128", "display_name": "Scott Purtan", "link": "https://stackoverflow.com/users/12196730/scott-purtan"}, "edited": false, "score": 0, "creation_date": 1574280043, "post_id": 58962209, "comment_id": 104180043, "body": "Thanks for your input. I will try this in a bit and mark it as correct when it runs properly. If not ill add comment. You are missing a parentheses at the end. there should be 3."}], "tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 0, "last_activity_date": 1574280183, "last_edit_date": 1574280183, "creation_date": 1574279112, "answer_id": 58962209, "question_id": 58962083, "link": "https://stackoverflow.com/questions/58962083/using-foreach-statement-in-controller-to-get-records-to-use-for-sitemap/58962209#58962209", "title": "Using FOREACH statement in controller to get records to use for sitemap", "body": "<p>You can't place a <code>foreach</code> inside an object initializer like that, but you can use <code>Linq</code> to return an <code>IEnumerable</code> of sitemaps like:</p>\n\n<pre><code>// This assumes your code to initialize a sitemap is otherwise correct\nvar sitemapItems = db.Sitemaps\n    .Select(sitemap =&gt; new SitemapItem(Url.Action(sitemap.Location),\n        changeFrequency: SitemapChangeFrequency.Daily,\n        priority: sitemap.Priority, lastModified: sitemap.LastModified))\n    .ToList();\n</code></pre>\n\n<p>After your edit, you <em>almost</em> had it right. Inside your <code>foreach</code> loop, you need to <code>Add</code> the sitemap to your list, so this is another way to do it:</p>\n\n<pre><code>var sitemapItems = new List&lt;SitemapItem&gt;(); \n\nforeach (var items in db.Sitemaps)\n{\n    sitemapItems.Add(new SitemapItem(Url.Action(items.Location), \n        changeFrequency: SitemapChangeFrequency.Daily, priority: (items.Priority), \n        lastModified: (items.LastModified)));\n}\n</code></pre>\n"}], "owner": {"reputation": 219, "user_id": 12196730, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--ntZQ-MLXZA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc5Q19kuReUrVt2fW8shrhdwc1Gmg/photo.jpg?sz=128", "display_name": "Scott Purtan", "link": "https://stackoverflow.com/users/12196730/scott-purtan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 58962209, "answer_count": 1, "score": 1, "last_activity_date": 1574280183, "creation_date": 1574278609, "question_id": 58962083, "link": "https://stackoverflow.com/questions/58962083/using-foreach-statement-in-controller-to-get-records-to-use-for-sitemap", "title": "Using FOREACH statement in controller to get records to use for sitemap", "body": "<p>I am using a tutorial that creates a sitemap XML. However i am changing things so it uses a database instead of current code. I have placed a Foreach statement in the controller to retrieve the information as a list and that code seems to be okay. The rest of the code in the action doesn't seem to like it. I am sure it is something that is looking me right in the face but i am not seeing it. Could someone direct me as to what might be the issue or if i am missing something in my code. </p>\n\n<p>Here is the controller Action: (I have left the original code in it, but is commented out)</p>\n\n<pre><code>public ActionResult GenerateSiteMap()\n    {\n\n        var sitemapItems = new List&lt;SitemapItem&gt; {\n\n        foreach (var items in db.Sitemaps)\n        {\n            new SitemapItem(Url.Action(items.Location), changeFrequency: SitemapChangeFrequency.Daily, priority: (items.Priority), lastModified: (items.LastModified));\n        }\n        //new SitemapItem(Url.Action(\"index\", \"home\"), changeFrequency: SitemapChangeFrequency.Always, priority: 1.0),\n        //new SitemapItem(Url.Action(\"about\", \"home\"), lastModified: DateTime.Now),\n        //new SitemapItem(PathUtils.CombinePaths(Request.Url.GetLeftPart(UriPartial.Authority), \"/home/list\"))\n        }\n\n        SitemapGenerator sg = new SitemapGenerator();\n        var doc = sg.GenerateSiteMap(sitemapItems);\n\n        doc.Save(Server.MapPath(\"~/Sitemap.xml\"));\n\n        return RedirectToAction(\"Index\", \"Home\");\n    }\n</code></pre>\n\n<p>I am getting a not all code paths return a value.</p>\n\n<p>Thanks for your help!  </p>\n\n<p>Update:\nCould this be it? It seemed to clear the error..</p>\n\n<pre><code> public ActionResult GenerateSiteMap()\n    {\n\n        var sitemapItems = new List&lt;SitemapItem&gt;(); \n\n        foreach (var items in db.Sitemaps)\n        {\n            new SitemapItem(Url.Action(items.Location), changeFrequency: SitemapChangeFrequency.Daily, priority: (items.Priority), lastModified: (items.LastModified));\n        }\n        //new SitemapItem(Url.Action(\"index\", \"home\"), changeFrequency: SitemapChangeFrequency.Always, priority: 1.0),\n        //new SitemapItem(Url.Action(\"about\", \"home\"), lastModified: DateTime.Now),\n        //new SitemapItem(PathUtils.CombinePaths(Request.Url.GetLeftPart(UriPartial.Authority), \"/home/list\"))\n\n\n        SitemapGenerator sg = new SitemapGenerator();\n        var doc = sg.GenerateSiteMap(sitemapItems);\n\n        doc.Save(Server.MapPath(\"~/Sitemap.xml\"));\n\n        return RedirectToAction(\"Index\", \"Home\");\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "asp.net-mvc", "linq"], "comments": [{"owner": {"reputation": 12241, "user_id": 130611, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0548fbba2b82688a059127e65dd29c9?s=128&d=identicon&r=PG", "display_name": "the_lotus", "link": "https://stackoverflow.com/users/130611/the-lotus"}, "edited": false, "score": 3, "creation_date": 1574278093, "post_id": 58961888, "comment_id": 104179066, "body": "Both record have the same key (EmployeeName). The delete probably delete by looking at the key only."}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 4, "creation_date": 1574278180, "post_id": 58961888, "comment_id": 104179119, "body": "How did you manage to insert duplicate values which is marked as the key"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1574278340, "post_id": 58961888, "comment_id": 104179204, "body": "@ EldarI don&#39;t know why it allows me to insert duplicate values which is marked key but it shows up that way in ssms.  @Suphant Persons.StoreId is being passed as a parameter in my method which in this case the value will be 9, because I want to delete Joe with StoreId 9"}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574278649, "post_id": 58961888, "comment_id": 104179347, "body": "There is a bug or sth like that. Normally Sql Server doesn&#39;t allow duplicate primary key values. <code>public String EmployeeName { get; set; }</code> using <code>String</code> instead <code>string</code> may be causing wrong DDL generation. Check your table with a designer see if it is alright."}, {"owner": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 2, "creation_date": 1574278670, "post_id": 58961888, "comment_id": 104179355, "body": "I think you have a bigger issue of duplicate keys, which is causing this issue"}, {"owner": {"reputation": 16278, "user_id": 397817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nnDMu.jpg?s=128&g=1", "display_name": "Stephen Kennedy", "link": "https://stackoverflow.com/users/397817/stephen-kennedy"}, "edited": false, "score": 0, "creation_date": 1574278800, "post_id": 58961888, "comment_id": 104179416, "body": "It might help if you post the table definition as SQL (SSMS can generate this for you), or a screenshot from SSMS showing the primary key."}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574278914, "post_id": 58961888, "comment_id": 104179472, "body": "@Eldar I can change then to string instead.  What else should I do?  I also notice that when I do a query to check which store&#39;s he is in, it gives me 2 records with storeId 9.  So it recognizes there are two entries but shows the query result as two duplicates, when in SSMS I can see that there is one with storeId 8 and storeId 9"}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574279012, "post_id": 58961888, "comment_id": 104179517, "body": "I guess i figured it out. You have no <code>MaxLength</code> specified may be Sqlserver preventing defining primary keys on NVARCHAR(MAX) columns. Yes i found this <a href=\"https://stackoverflow.com/questions/10555642/varcharmax-column-not-allowed-to-be-a-primary-key-in-sql-server\" title=\"varcharmax column not allowed to be a primary key in sql server\">stackoverflow.com/questions/10555642/&hellip;</a>"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1574279841, "post_id": 58961888, "comment_id": 104179946, "body": "I have included the image of the table design from SSMS.    Should I add another column full of null values and make that the key?  I&#39;m not sure.  I also added  [MaxLength(255)]  as Eldar recommended, and it still deletes both records"}, {"owner": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 1, "creation_date": 1574279965, "post_id": 58961888, "comment_id": 104180009, "body": "Employee name seems like a bad idea for a Key... people can have the same names. Why don&#39;t you just have an Id identity int column?"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 0, "creation_date": 1574281208, "post_id": 58961888, "comment_id": 104180578, "body": "What should I do then @zgood?  Can I make my departments table which is all null values a key?"}, {"owner": {"reputation": 24448, "user_id": 150967, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/91e55968cae0db7346488a42abc42f85?s=128&d=identicon&r=PG", "display_name": "gsharp", "link": "https://stackoverflow.com/users/150967/gsharp"}, "edited": false, "score": 0, "creation_date": 1574283668, "post_id": 58961888, "comment_id": 104181673, "body": "@JSkyS What does your table actually holds? permissions per employee to the store?"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1574285583, "post_id": 58961888, "comment_id": 104182462, "body": "Yes it holds the the which employee has permissions to which store.  If they are in the database then they can get access to their information.  I am following zgoods recommendation now and creating a new column which auto increments.  I am backing up first though"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 0, "creation_date": 1574291827, "post_id": 58961888, "comment_id": 104184838, "body": "My initial assumptions were correct about making that email a key in the model.  It was made so because of an early work around but had finally caught up to us.  As @zgood suggested we added a column with Id Identity int column."}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1574291945, "post_id": 58961888, "comment_id": 104184875, "body": "The new model now includes public int ID { get; set; } as the new key.  From the beginning I knew this was an option but was afraid of altering the table on the server side since there was logic in multiple controllers in multiple apps that were utilizing it&#39;s data.  Whew!"}], "answers": [{"comments": [{"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1574279641, "post_id": 58962247, "comment_id": 104179851, "body": "I added an image of the details of the table.  I also added the MaxLength(255) part but its still deleting both"}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "reply_to_user": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1574282609, "post_id": 58962247, "comment_id": 104181198, "body": "You need to recreate the database."}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1574292451, "post_id": 58962247, "comment_id": 104185020, "body": "Well I couldn&#39;t recreate the database because that&#39;s two and a half years worth of creating and modifying tables, but I did recreate the table.  Thank you for your input all of you collectively led me to add a ID column that auto increments.  I was afraid to do so since it was already live, but now that I did so I had to alter my models and everything worked as expected.  Thanks!"}], "tags": [], "owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "is_accepted": true, "score": 1, "last_activity_date": 1574283192, "last_edit_date": 1574283192, "creation_date": 1574279255, "answer_id": 58962247, "question_id": 58961888, "link": "https://stackoverflow.com/questions/58961888/linq-query-deleting-multiple-rows-instead-of-one-very-simple-query/58962247#58962247", "title": "Linq query deleting multiple rows instead of one. Very Simple Query", "body": "<pre><code>[Table(\"Permissions\")]\npublic class Permissions\n{\n    [Key]\n\n    public String EmployeeName { get; set; }\n}\n</code></pre>\n\n<p>The problem is here you are defining a primary key which has no length constraint on it. (<code>MaxLength</code>). This leads to EF generate a column with NVARCHAR(MAX). As mentioned <a href=\"https://stackoverflow.com/questions/10555642/varcharmax-column-not-allowed-to-be-a-primary-key-in-sql-server\">here</a> VARCHAR(MAX) columns are not allowed to be primary key. So correct definition should be like below</p>\n\n<pre><code>[Table(\"Permissions\")]\npublic class Permissions\n{\n    [Key]\n    [DatabaseGenerated(DatabaseGeneratedOption.None)] &lt;--\n    [MaxLength(255)] // &lt;---\n    public String EmployeeName { get; set; }\n}\n</code></pre>\n\n<p>Edit: You need to recreate the database in order to associated tables initialized with correct settings.\nEdit 2 : Also you may need a DatabaseGenerated(DatabaseGeneratedOption.None) since its not identity column.</p>\n"}, {"comments": [{"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1574281084, "post_id": 58962612, "comment_id": 104180524, "body": "Still both gone timur"}, {"owner": {"reputation": 12628, "user_id": 12339804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/677529a68dbdac610158cfc55ec65aec?s=128&d=identicon&r=PG&f=1", "display_name": "timur", "link": "https://stackoverflow.com/users/12339804/timur"}, "reply_to_user": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1574281500, "post_id": 58962612, "comment_id": 104180722, "body": "I see you posted column properties outlining that EmployeeName is a Key - can we see corresponding table definition then? I am a bit curious how you can then have two different records with non-unique EmployeeName in your example data - is there a composite key somewhere?"}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 1, "creation_date": 1574282848, "post_id": 58962612, "comment_id": 104181315, "body": "Entity Can&#39;t decide what you gonna delete from the database. It decides what entry it will mark with deleted flag as you did above. All it comes to generate a SQL statement. And that SQL statement will delete both values because of wrong primary key setup."}], "tags": [], "owner": {"reputation": 12628, "user_id": 12339804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/677529a68dbdac610158cfc55ec65aec?s=128&d=identicon&r=PG&f=1", "display_name": "timur", "link": "https://stackoverflow.com/users/12339804/timur"}, "is_accepted": false, "score": 1, "last_activity_date": 1574282901, "last_edit_date": 1574282901, "creation_date": 1574280830, "answer_id": 58962612, "question_id": 58961888, "link": "https://stackoverflow.com/questions/58961888/linq-query-deleting-multiple-rows-instead-of-one-very-simple-query/58962612#58962612", "title": "Linq query deleting multiple rows instead of one. Very Simple Query", "body": "<p>you can set <code>Deleted</code> state on individual entity like so:</p>\n\n<pre><code>var temp2 = difference[i];\nvar PersonToRemove = db.Permissions.SingleOrDefault(s =&gt; s.EmployeeName == temp2 &amp;&amp; s.StoreId == Persons.StoreId);\nif (PersonToRemove.EmployeeName != null)\n{\n    db.Entry(PersonToRemove).State = EntityState.Deleted; // do this instead\n    db.SaveChanges();\n}\n</code></pre>\n\n<p>EF should then figure out which entity you wanted to delete</p>\n\n<p>UPD\nI am assuming you are using EF6 and DB-first approach. I am also assuming you've got your DB context class set up with default convention model builder. It seems EF's default object tracking based on Key will not work as your key is not unique (this is a bigger problem, but I understand you're already aware of that).</p>\n\n<p>You might try circumvent that convention by adding custom model builder configuration like so:</p>\n\n<pre><code>class MyDbContext : DbContext { \n    public virtual DbSet&lt;Permissions&gt; Permissions {get;set;}\n\n    protected override void OnModelCreating(DbModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;Permissions&gt;().HasKey(p =&gt; new { p.EmployeeName, p.StoreId});\n    }\n}\n</code></pre>\n\n<p>since you didn't share your DbContext definition this is just a snippet but hopefully gives you some ideas to explore. \nthis is the API reference: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.data.entity.modelconfiguration.entitytypeconfiguration-1?view=entity-framework-6.2.0\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.data.entity.modelconfiguration.entitytypeconfiguration-1?view=entity-framework-6.2.0</a></p>\n"}], "owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 58962247, "answer_count": 2, "score": 0, "last_activity_date": 1574333924, "creation_date": 1574277814, "last_edit_date": 1574280168, "question_id": 58961888, "link": "https://stackoverflow.com/questions/58961888/linq-query-deleting-multiple-rows-instead-of-one-very-simple-query", "title": "Linq query deleting multiple rows instead of one. Very Simple Query", "body": "<p><a href=\"https://i.stack.imgur.com/xHog8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xHog8.png\" alt=\"enter image description here\"></a><a href=\"https://i.stack.imgur.com/oktHI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oktHI.png\" alt=\"enter image description here\"></a>This should be really simple but I think I'm having possible issues with my model.  I have been working with linq over a year and I should have this simple remove easily done.  Please help!  <strong>It's removing both records from the database when I only want one deleted</strong></p>\n\n<p>I have a database table with these properties.</p>\n\n<pre><code>Email, EmployeeName, StoreId\njsch@m.com,Joe Schneider,9\njsch@m.com,Joe Schneider,8\n</code></pre>\n\n<p>I need to delete Joe Schneider with storeId 9</p>\n\n<p>So I run this simple query and remove process.</p>\n\n<pre><code>        var temp2 = difference[i];\n        var PersonToRemove = db.Permissions.SingleOrDefault(s =&gt; s.EmployeeName == temp2 &amp;&amp; s.StoreId == Persons.StoreId);\n        if (PersonToRemove.EmployeeName != null)\n        {\n            db.Permissions.Remove(PersonToRemove);\n            db.SaveChanges();\n        }\n</code></pre>\n\n<p>I am assuming one is going to say, hey your model is not right and don't put the name as a key, but I can't just be changing the model because other parts of the app are based on this model and would cause huge breaks.  Could you give me advise how to edit the linq query to not delete both records?</p>\n\n<p><strong>model</strong></p>\n\n<pre><code>  [Table(\"Permissions\")]\n    public class Permissions\n    {\n        [Key]\n        public String EmployeeName { get; set; }\n\n        public string Department { get; set; }\n        public int? StoreId { get; set; }\n\n        public String Email { get; set; }\n    }\n</code></pre>\n"}, {"tags": ["c#", "async-await"], "comments": [{"owner": {"reputation": 18074, "user_id": 4728685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NiNlU.png?s=128&g=1", "display_name": "Pavel Anikhouski", "link": "https://stackoverflow.com/users/4728685/pavel-anikhouski"}, "edited": false, "score": 0, "creation_date": 1574278438, "post_id": 58961839, "comment_id": 104179243, "body": "First of all, why do you need to mix the <code>Task</code> and async delegates using <code>BeginInvoke</code>? Second, as you can see in log, the thread id is different, <code>send</code> is executed on different thread from thread pool. If you have a lot of threads (for every client, I suppose). it will take a time to create a new thread"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1574278632, "post_id": 58961839, "comment_id": 104179335, "body": "You need to avoid using a delegate&#39;s BeginInvoke() method.  It doesn&#39;t port to .NETCore, you have very little control over how it executes and gums-up the threadpool.  The latter problem explains delays.  Use the WebSocket&#39;s SendAsync() method instead."}, {"owner": {"reputation": 236, "user_id": 4667241, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fad650e9d66ba3038fed41da66b22eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Sheinar", "link": "https://stackoverflow.com/users/4667241/sheinar"}, "edited": false, "score": 0, "creation_date": 1574281166, "post_id": 58961839, "comment_id": 104180555, "body": "There is much more code in onMessage and we need to execute it asynchronously, because of this we use Task.Factory.StartNew. I understand that there can be delay before a new thread will be created, but in this case it took 30 seconds.It\u2019s not clear why so long"}, {"owner": {"reputation": 236, "user_id": 4667241, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fad650e9d66ba3038fed41da66b22eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Sheinar", "link": "https://stackoverflow.com/users/4667241/sheinar"}, "edited": false, "score": 0, "creation_date": 1574281781, "post_id": 58961839, "comment_id": 104180838, "body": "Pavel, it is legacy code. BeginInvoke used in sendAsync because in some cases it called from a synchronous context. In this context, it looks really strange, but I don\u2019t think it could be the cause for such a delay"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1574292225, "post_id": 58961839, "comment_id": 104184954, "body": "&quot;legacy code&quot; in this scenario just means &quot;the previous programmer got it wrong&quot;.  Happens all the time, you&#39;re not stuck at doing it right."}], "answers": [{"comments": [{"owner": {"reputation": 236, "user_id": 4667241, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fad650e9d66ba3038fed41da66b22eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Sheinar", "link": "https://stackoverflow.com/users/4667241/sheinar"}, "edited": false, "score": 0, "creation_date": 1574320269, "post_id": 58963976, "comment_id": 104192345, "body": "How you can see the only thing we do between these two messages is what we use BeginInvoke. If there is any long running thread in the thread pool why the new thread wasn\u2019t created when we use BeginInvoke? I thought if there is some slow work item in the thread  pool it can add threads as frequently as twice a second"}], "tags": [], "owner": {"reputation": 2253, "user_id": 1223876, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4a9a3cb558d820dfabcd473ae559a09a?s=128&d=identicon&r=PG", "display_name": "daxu", "link": "https://stackoverflow.com/users/1223876/daxu"}, "is_accepted": false, "score": 0, "last_activity_date": 1574286834, "creation_date": 1574286834, "answer_id": 58963976, "question_id": 58961839, "link": "https://stackoverflow.com/questions/58961839/begininvoke-executed-with-a-significant-delay/58963976#58963976", "title": "Begininvoke executed with a significant delay", "body": "<p>Maybe it is not an answer you are expecting, but I got into some similar problems before. In almost all the cases, it is not the threadpool is too busy, instead it were always developer error.</p>\n\n<p>Judging by the log, as the time between the log is <strong>30</strong> seconds, I would say some developer possibly put a 30 second timer or a lock with timeout for 30 seconds. As 30 seconds is a magic number for developers (lots of command has a default timeout for 30 seconds as well).</p>\n\n<p>So I will bet it is a user error.</p>\n"}], "owner": {"reputation": 236, "user_id": 4667241, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/fad650e9d66ba3038fed41da66b22eb9?s=128&d=identicon&r=PG&f=1", "display_name": "Sheinar", "link": "https://stackoverflow.com/users/4667241/sheinar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574286834, "creation_date": 1574277563, "question_id": 58961839, "link": "https://stackoverflow.com/questions/58961839/begininvoke-executed-with-a-significant-delay", "title": "Begininvoke executed with a significant delay", "body": "<p>I have a console application that receives messages from clients and sends it to the server via websockets.</p>\n\n<pre><code>    // there we receive the request from the client app\n    private void onMessage(object sender, MessageEventArgs e)\n    {\n       Task.Factory.StartNew((Action) (() =&gt;\n      {\n        Thread.CurrentThread.Priority = ThreadPriority.Normal;\n\n        sendAsync(opcode, new MemoryStream(data), callback, msg);\n      }), CancellationToken.None, TaskCreationOptions.LongRunning | TaskCreationOptions.PreferFairness, TaskScheduler.Default).ConfigureAwait(false);\n    }\n\n    private void sendAsync(Opcode opcode, Stream stream, Action&lt;bool&gt; completed, string data)\n    {\n        _logger.Info(\"before invoke \" + DateTime.Now);\n\n        Func&lt;Opcode, Stream, string, bool&gt; sender = send;\n        sender.BeginInvoke(\n            opcode,\n            stream, data,\n            ar =&gt;\n            {\n                completed(sent);\n            },\n            null);\n    }\n\n    private bool send(Opcode opcode, Stream stream, string msg)\n    {\n        _logger.Info(\"before lock \" + DateTime.Now);\n        lock (_forSend)\n        {\n            // write to the stream\n        }\n    }\n</code></pre>\n\n<p>How you can see we use BeginInvoke in sendAsync. In most cases, everything works fine, but sometimes there is a significant delay before a delegate was executed and we receive such logs:</p>\n\n<pre><code> Win32 Thread Id 29796: before invoke 11/20/2019 21:40:52\n Win32 Thread Id 36976: before lock 11/20/2019 21:41:22\n</code></pre>\n\n<p>Why can this happen?</p>\n"}, {"tags": ["c#", "visual-studio-2010", "datagridview"], "answers": [{"tags": [], "owner": {"reputation": 1652, "user_id": 2505390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865a80f90d93cddccd1549d8c6cf2f4a?s=128&d=identicon&r=PG", "display_name": "Bioukh", "link": "https://stackoverflow.com/users/2505390/bioukh"}, "is_accepted": true, "score": 2, "last_activity_date": 1574277430, "creation_date": 1574277430, "answer_id": 58961805, "question_id": 58961763, "link": "https://stackoverflow.com/questions/58961763/c-windows-form-datagridview-horizontal-scroll-is-not-shown/58961805#58961805", "title": "C# Windows Form DataGridView: Horizontal Scroll is not shown", "body": "<p>You must change the <code>AutoSizeColumnsMode</code> of your <code>DataGridView</code>.\nCurrently, it is set to <code>Fill</code> so the colums are resized to fit the available place.</p>\n\n<p>Here is the documentation about the available modes : <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.datagridviewautosizecolumnsmode\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.datagridviewautosizecolumnsmode</a></p>\n"}], "owner": {"reputation": 580, "user_id": 2897029, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/0839c6fc468522c775e7346628749038?s=128&d=identicon&r=PG&f=1", "display_name": "Saania", "link": "https://stackoverflow.com/users/2897029/saania"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 58961805, "answer_count": 1, "score": 0, "last_activity_date": 1574277430, "creation_date": 1574277287, "question_id": 58961763, "link": "https://stackoverflow.com/questions/58961763/c-windows-form-datagridview-horizontal-scroll-is-not-shown", "title": "C# Windows Form DataGridView: Horizontal Scroll is not shown", "body": "<p>I have a weird yet simple problem: the horizontal scroll bars in DataGridView is not being shown (I use C#, Visual STudio 2010). </p>\n\n<p>I have tried several permutations and combinations of the dataGridView properties but all in vain. The Vertical scrollbar appears when the number of rows is more than 6, this is good.</p>\n\n<p>I have made <em>Layout > ScrollBars > Both</em>.</p>\n\n<p>Here are the properties: </p>\n\n<p><a href=\"https://i.stack.imgur.com/qUOTZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qUOTZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Apart from the ones mentioned above, in my code, the only property I change is: </p>\n\n<blockquote>\n  <p>dataGridView1.Columns[0].Width = 200;</p>\n</blockquote>\n\n<p>This is how the resulting Grid View looks like after running the code.  Where am I going wrong?  </p>\n\n<p><a href=\"https://i.stack.imgur.com/JS036.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JS036.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "nuget", "version"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574277563, "post_id": 58961757, "comment_id": 104178784, "body": "Then your requirements prevent you from changing Method Signatures. Method implementations can always change. But no signature can be removed, without breaking code. At best you can now mark functions as &quot;Deprecated&quot;. Basically the same situation the .NET Framework and every library before it have been in."}, {"owner": {"reputation": 11, "user_id": 12405967, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-q4U26gZjRfc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re2cgga9LL4EKINaHndh4bP6dq9GA/photo.jpg?sz=128", "display_name": "Utilitaire CCV", "link": "https://stackoverflow.com/users/12405967/utilitaire-ccv"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574277805, "post_id": 58961757, "comment_id": 104178899, "body": "The problem is : how to enforce it ? Is it possible to create a policy to prohibite changes that remove public methods ? Also, suppose someone adds something in the code that breaks the compilation (ex : a method extension that already exist in another assembly), how to prevent this, and/or how to make sure we catch the problem before the code is released ?"}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574277956, "post_id": 58961757, "comment_id": 104178978, "body": "From what i understand this leads to a whole concept of UnitTesting, Continuous Integration or even Gated Check In"}, {"owner": {"reputation": 11, "user_id": 12405967, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-q4U26gZjRfc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re2cgga9LL4EKINaHndh4bP6dq9GA/photo.jpg?sz=128", "display_name": "Utilitaire CCV", "link": "https://stackoverflow.com/users/12405967/utilitaire-ccv"}, "edited": false, "score": 1, "creation_date": 1574278441, "post_id": 58961757, "comment_id": 104179245, "body": "I&#39;m dealing with code legacy. I foresee that in 5 years I might be able to rely massively on unittesting to make the individual libraries relyable. In the meantime, I have to deal with all sort of problem like this one. I barely have tests, everything is public, a small change can introduce all kind of compilation errors. I need a solution for my long transition. I don&#39;t even wish to prevent errors. I just wish I could at least catch them fast, at low cost. I can&#39;t afford a full rebuild of all my nugets each time a single change is made."}, {"owner": {"reputation": 11, "user_id": 12405967, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-q4U26gZjRfc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re2cgga9LL4EKINaHndh4bP6dq9GA/photo.jpg?sz=128", "display_name": "Utilitaire CCV", "link": "https://stackoverflow.com/users/12405967/utilitaire-ccv"}, "edited": false, "score": 0, "creation_date": 1574285232, "post_id": 58961757, "comment_id": 104182337, "body": "I&#39;m almost certain it&#39;s technically possible to analyse the content of a dll in order to check if the references to all the external method/properties are still valid. I just don&#39;t know how to do it. If it&#39;s possible, I could run a routine that validates all my dlls, which would take a fraction of the time it would require to actually rebuild the projects."}, {"owner": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1574286807, "post_id": 58961757, "comment_id": 104182993, "body": "The only thing you can really do is don&#39;t use &quot;Minimum version, inclusive&quot;. You want to be able to control how/when changes are introduced. Otherwise, what&#39;s the point of switching to packages? This also assumes that the teams building LibA and LibB properly increment their package versions when they introduce breaking changes. The standard practice is to increase the major version when there&#39;s a breaking change, but increase the minor version when there are non-breaking changes."}, {"owner": {"reputation": 11, "user_id": 12405967, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-q4U26gZjRfc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re2cgga9LL4EKINaHndh4bP6dq9GA/photo.jpg?sz=128", "display_name": "Utilitaire CCV", "link": "https://stackoverflow.com/users/12405967/utilitaire-ccv"}, "edited": false, "score": 0, "creation_date": 1574351491, "post_id": 58961757, "comment_id": 104210685, "body": "The idea to use packages was in order to improved the performance of the team, because working with hundreds of projects in one solution file makes it impossible to work in visual studio. We tried to split the solution, but then many projects needed to be in all the solutions, and it became very difficult to handle. Also, it&#39;s faster to deploy with packages, we don&#39;t need to rebuild everything all the time."}], "owner": {"reputation": 11, "user_id": 12405967, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-q4U26gZjRfc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re2cgga9LL4EKINaHndh4bP6dq9GA/photo.jpg?sz=128", "display_name": "Utilitaire CCV", "link": "https://stackoverflow.com/users/12405967/utilitaire-ccv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1574277267, "creation_date": 1574277267, "question_id": 58961757, "link": "https://stackoverflow.com/questions/58961757/how-to-avoid-missingmethodexception-using-nugets", "title": "How to avoid MissingMethodException using nugets?", "body": "<p>I'm creating nugets with all my C# project, and therefore replacing all direct references to csproj files. All the nuget references are \"Minimum version, inclusive\", so when a library is updated, all other projects will automatically restore the latest version of that nuget. The problem I'm having is that I don't know how to ensure that a change in a nuget won't make the compilation fail in other projects. Up until now, I used to build all the projects in a single solution, so if something failed to compile, I'd know it right away. Now that I'm using nugets, I end up introducing new bugs because I can't make sure the code still compiles, or even worse, if the code will run at all, be cause it may crash.</p>\n\n<p>Here's an example:</p>\n\n<ul>\n<li>Application \"App\" refers to nuget library \"LibA\"</li>\n<li>Project \"LibA\" refers to nuget \"LibB\"</li>\n<li>A hotfix is published in project \"LibB\", so the new nuget is published. </li>\n<li>This hotfix makes it impossible to build \"LibA\", because by accident a method was removed. But no one tries to build \"LibA\", so nobody notices it.</li>\n<li>Someone builds \"App\", and the compilation works fine because \"App\" does not refer directly to the missing method in \"LibB\". Hence, the problem will only occur at runtime, when \"LibA\" tries to call the missing method.</li>\n</ul>\n\n<p>I understand that I could use a more strict versionning to accomplish this, so that when a nuget change, I would need to change all the references and so a new build would be required for all other projects to use this new version of the library. But that does not seem handy if it means I need to modify systematically hundreds of projects just to push a bug fix in a single library.</p>\n"}, {"tags": ["c#", "linq", "stack-overflow"], "comments": [{"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574277667, "post_id": 58961755, "comment_id": 104178829, "body": "<code>visits = from v in visits</code> may be this is causing you can add ToList not to enumerate multiple times <code>visits = from v in visits.ToList()...</code>"}, {"owner": {"reputation": 82, "user_id": 3611193, "user_type": "registered", "profile_image": "https://graph.facebook.com/500892556/picture?type=large", "display_name": "themiDdlest", "link": "https://stackoverflow.com/users/3611193/themiddlest"}, "edited": false, "score": 0, "creation_date": 1574278440, "post_id": 58961755, "comment_id": 104179244, "body": "<code>visits = from v in visits              join i in searchedvisitIDs on v.VisitID equals i              select v;</code>  This might need a WHERE clause?     <code>where v.VisitID == i</code>  I feel like without this you&#39;re just going to end up with a massive set because of the join.  You might also want to do a WHERE on this join as well: <code>var visitIDResults = (from vi in visits                            join p in searchedPatientIDs on vi.PatientID equals p                            select new { VisitID = vi.VisitID }).ToList();</code>"}, {"owner": {"reputation": 5, "user_id": 9763539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fba85f3123dc969027e2afde722e13?s=128&d=identicon&r=PG&f=1", "display_name": "Nielsen", "link": "https://stackoverflow.com/users/9763539/nielsen"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574279532, "post_id": 58961755, "comment_id": 104179786, "body": "@Eldar: Thank you very much. This did the trick (I still don&#39;t really understand why though). Also, the reason for me to do the search this way, was in order to avoid loading the entire visit list, since in my first attemp I had long loading times. So do I eventually risk to have long loading times with this approach when the number of visits increases? Right now with the 8000 visits I have now it is very fats. All the best"}, {"owner": {"reputation": 5, "user_id": 9763539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fba85f3123dc969027e2afde722e13?s=128&d=identicon&r=PG&f=1", "display_name": "Nielsen", "link": "https://stackoverflow.com/users/9763539/nielsen"}, "reply_to_user": {"reputation": 82, "user_id": 3611193, "user_type": "registered", "profile_image": "https://graph.facebook.com/500892556/picture?type=large", "display_name": "themiDdlest", "link": "https://stackoverflow.com/users/3611193/themiddlest"}, "edited": false, "score": 0, "creation_date": 1574279602, "post_id": 58961755, "comment_id": 104179831, "body": "@themiDdlest: Thank you for your help. I couldn&#39;t get the where clause to work. All the best"}, {"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574283678, "post_id": 58961755, "comment_id": 104181687, "body": "@TroelsNielsen this is related with the Lazy evaluation of linq queries. You can check <a href=\"https://stackoverflow.com/questions/49527642/understanding-lazy-evaluation-in-linq-in-c-sharp\">this</a>"}, {"owner": {"reputation": 3689, "user_id": 1188208, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e16acff64f6a2eea7299925a4875ec28?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Lavieri", "link": "https://stackoverflow.com/users/1188208/luis-lavieri"}, "edited": false, "score": 1, "creation_date": 1574284557, "post_id": 58961755, "comment_id": 104182070, "body": "I am not sure if I am following you. But, wouldn&#39;t it be easier to get those visitids by doing:   <code>var visitIds = visits.Where(i =&gt; i.Patient.FirstName == yourValue).Select(i =&gt; i.VisitID).ToList();</code> ? Are you using entity framework to access this data?"}], "answers": [{"tags": [], "owner": {"reputation": 3689, "user_id": 1188208, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e16acff64f6a2eea7299925a4875ec28?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Lavieri", "link": "https://stackoverflow.com/users/1188208/luis-lavieri"}, "is_accepted": true, "score": 0, "last_activity_date": 1574286226, "last_edit_date": 1574286226, "creation_date": 1574285663, "answer_id": 58963733, "question_id": 58961755, "link": "https://stackoverflow.com/questions/58961755/linq-join-between-list-of-integers-and-iqueryble-causes-stackoverflow-exception/58963733#58963733", "title": "LINQ join between List of integers and IQueryble causes StackOverflow Exception in c#", "body": "<p>As @Eldar suggested in the comments to avoid multiple enumerations, you need to call <code>ToList()</code> on the <code>IEnumerable</code>. Also, I think your queries can be simplified.</p>\n\n<p><code>Option A</code>: Assuming that your tree of <code>Patients</code> and <code>Visits</code> is properly built:</p>\n\n<pre><code>var visitIds = visits.Where(i =&gt; i.Patient.FirstName.Contains(yourValue))\n                     .Select(i =&gt; i.VisitID)\n                     .ToList();\n</code></pre>\n\n<p><code>Option B</code>: Lazy loading both lists separately and performing the join</p>\n\n<pre><code>var visitIds = patients.Where(i =&gt; i.FirstName.Contains(yourValue))\n                       .Join(visits, \n                           i =&gt; i.PatientID,\n                           j =&gt; j.PatientID,\n                           (i, j) =&gt; j.VisitID)\n                       .ToList();\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 9763539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23fba85f3123dc969027e2afde722e13?s=128&d=identicon&r=PG&f=1", "display_name": "Nielsen", "link": "https://stackoverflow.com/users/9763539/nielsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 58963733, "answer_count": 1, "score": 0, "last_activity_date": 1574286226, "creation_date": 1574277256, "question_id": 58961755, "link": "https://stackoverflow.com/questions/58961755/linq-join-between-list-of-integers-and-iqueryble-causes-stackoverflow-exception", "title": "LINQ join between List of integers and IQueryble causes StackOverflow Exception in c#", "body": "<p>I am relatively knew to c#, but I keep having the problem outlined below, and I can't seem to find an answer here at SO that solves my problem.</p>\n\n<p>I have a class called Visit containing the following properties (among others):</p>\n\n<pre><code>    public int VisitID { get; set; }\n    ...\n    public int? PatientID { get; set; }\n    [ForeignKey(\"PatientID\")]\n    public virtual Patient Patient { get; set; }        \n</code></pre>\n\n<p>And a related class called patient:</p>\n\n<pre><code>    public int PatientID { get; set; }\n    ...\n    public string FirstName { get; set; }\n    public virtual ICollection&lt;Visit&gt; Visits { get; set; }\n</code></pre>\n\n<p>I do a LINQ query to retrieve all visits and patients:</p>\n\n<pre><code>    var visits = db.Visits;\n    var patients = db.Patients;\n</code></pre>\n\n<p>In a search function I do a LINQ query to get all patients with a certain FirstName:</p>\n\n<pre><code>    var searchedPatients = patients.Where(a =&gt; a.FirstName.Contains(\"search string goes here\"));\n</code></pre>\n\n<p>And from this I retrive all the PatientIDs with matching first name:</p>\n\n<pre><code>    searchedPatients.Select(v =&gt; v.PatientID).ToList().ForEach(x =&gt; searchedPatientIDs.Add(x));\n</code></pre>\n\n<p>I then need to retrieve all the VisitIDs that have patients with that certain FirstName, like this:</p>\n\n<pre><code>     var visitIDResults = (from vi in visits\n                           join p in searchedPatientIDs on vi.PatientID equals p\n                           select new { VisitID = vi.VisitID }).ToList();\n     visitIDResults.Select(v =&gt; v.VisitID).ToList().ForEach(x =&gt; searchedVisitIDs.Add(x));\n</code></pre>\n\n<p>This gives me a list of integers with all the VisitIDs (currently a little more than 8000 distinct VisitIDs). Finally, I need to retrive all the visits with those VisitIDs and pass them into my view through a .ToPagedList-command. And this is where I get a StackOverflow exception, and I can't figure out why. It is the last line that causes the exception:</p>\n\n<pre><code>    visits = from v in visits\n             join i in searchedvisitIDs on v.VisitID equals i\n             select v;\n    return View(visits.ToPagedList(pageNumber, pageSize));\n</code></pre>\n\n<p>Can anyone point into the right direction as to why this fails?</p>\n\n<p>All the best\nTroels</p>\n"}, {"tags": ["c#", "python", "pandas", "soap"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 12458236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCriNXneUMbqai9RkqdcwgAz-tE0X1RUD1fPvgT=k-s128", "display_name": "Rand Bradley", "link": "https://stackoverflow.com/users/12458236/rand-bradley"}, "is_accepted": false, "score": 1, "last_activity_date": 1575059530, "creation_date": 1575059530, "answer_id": 59110685, "question_id": 58961654, "link": "https://stackoverflow.com/questions/58961654/extract-data-from-cvent-via-python/59110685#59110685", "title": "Extract data from cvent via Python", "body": "<p>I recently did this using the Python zeep package. Here's an example.</p>\n\n<pre><code>from datetime import datetime\nfrom zeep import Client\n\n#set account, user, password...\nwsdl = 'https://api.cvent.com/soap/V200611.ASMX?WSDL'\nclient = Client(wsdl)\nlogin_result = client.service.Login(account, user, password)\nclient.set_default_soapheaders({'CventSessionHeader': login_result.CventSessionHeader})\n\nobject_type = client.get_type(\"ns1:CvObjectType\")('Event')\nstartdate = datetime(2019, 11, 20)\nenddate = datetime(2019, 11, 21)\nids = client.service.GetUpdated(object_type, startdate, enddate).body.GetUpdatedResult.Id\nobjects = client.service.Retrieve(ObjectType=object_type, Ids=client.get_type(\"ns1:IdArray\")(ids))\n</code></pre>\n\n<p>Note, it is important to declare parameter names when using the \"Retrieve\" service. It took me a while to figure this out.</p>\n\n<p>Zeep will return data objects in json format, which is a much nicer way to work with the data. There are options in the zeep library to change the return format.</p>\n"}], "owner": {"reputation": 19, "user_id": 9325114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df1d1975c56d98eb6ae9ebdda38627d2?s=128&d=identicon&r=PG&f=1", "display_name": "Mitchell Stearns", "link": "https://stackoverflow.com/users/9325114/mitchell-stearns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1575059530, "creation_date": 1574276815, "question_id": 58961654, "link": "https://stackoverflow.com/questions/58961654/extract-data-from-cvent-via-python", "title": "Extract data from cvent via Python", "body": "<p>I really need to access data from cvent via python. Specifically, cvent utilizes SOAP. I have created a custom report in the cvent GUI for a specific event. Now, I would like to call the event data and render in a pandas dataframe. developers.cvent.com only provides C# code snips... which you guessed it, I know nothing about.</p>\n\n<p>Thank you so much for the guidance in advance!</p>\n"}, {"tags": ["c#", "asp.net", "vb.net", "encryption", "windows-server-2003-r2"], "comments": [{"owner": {"reputation": 1399, "user_id": 1496080, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bn5Ny.jpg?s=128&g=1", "display_name": "damian", "link": "https://stackoverflow.com/users/1496080/damian"}, "edited": false, "score": 1, "creation_date": 1574276820, "post_id": 58961634, "comment_id": 104178421, "body": "Can you validate through the existing app and redirect to new one?"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1574277070, "post_id": 58961634, "comment_id": 104178550, "body": "The reference source code for .NET Framework is available. Perhaps you should <a href=\"https://referencesource.microsoft.com/#System.Web/Security/Membership.cs\" rel=\"nofollow noreferrer\">look at it</a> to see what they&#39;re doing."}, {"owner": {"reputation": 11, "user_id": 3944566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13c0f6abef88a1f8626e56d29b137fe?s=128&d=identicon&r=PG", "display_name": "Craig Wilson", "link": "https://stackoverflow.com/users/3944566/craig-wilson"}, "edited": false, "score": 1, "creation_date": 1574284309, "post_id": 58961634, "comment_id": 104181961, "body": "I tried diving into the .NET framework. Once I got a few nested methods deep, into <code>System.Web.Configuration.MachineKeySection.EncryptOrDecryptD&zwnj;&#8203;ata()</code>, I got lost. What a nightmare."}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 1, "creation_date": 1574351025, "post_id": 58961634, "comment_id": 104210380, "body": "Most likely the OS doesn&#39;t matter, and the version of ASP.NET will matter only mildly. A possible alternative is therefore to separate the part of the site that does authentication, encapsulate it in its own service and call it to do the verification. This does mean maintaining a server (possibly virtual) with an ASP.NET installation for as long as the migration needs to happen, which is clumsy, but not as costly as maintaining a whole site on an ancient server, and not as vexing as reverse engineering everything."}, {"owner": {"reputation": 11, "user_id": 3944566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13c0f6abef88a1f8626e56d29b137fe?s=128&d=identicon&r=PG", "display_name": "Craig Wilson", "link": "https://stackoverflow.com/users/3944566/craig-wilson"}, "edited": false, "score": 0, "creation_date": 1574443357, "post_id": 58961634, "comment_id": 104248269, "body": "I don&#39;t need to maintain the old site, just use the old (encrypted) passwords to let them log into the new site once before they change it to a new one."}], "owner": {"reputation": 11, "user_id": 3944566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13c0f6abef88a1f8626e56d29b137fe?s=128&d=identicon&r=PG", "display_name": "Craig Wilson", "link": "https://stackoverflow.com/users/3944566/craig-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574345316, "creation_date": 1574276735, "last_edit_date": 1574345316, "question_id": 58961634, "link": "https://stackoverflow.com/questions/58961634/how-can-i-mimic-old-asp-net-password-encryption-in-another-language", "title": "How can I mimic old ASP.net password encryption in another language?", "body": "<p>I have been tasked with rebuilding an ancient website which is written in ASP.net and VB on Windows Server 2003 R2. I need to allow users to log into the new site once using their current (old) password before I have them create a new one.</p>\n\n<p>I have access to all the files and code, and the DB of hashes and salts etc., as well as the Web.config and its <code>&lt;machineKey/&gt;</code>.</p>\n\n<p>My question is, how do I hash (currently it's set to \"encrypt\" in ASP.net, actually) the user's input in another language so that I can compare the hashed values on their first login?</p>\n\n<p><code>&lt;machineKey/&gt;</code> says <code>validation=\"SHA1\"</code>. Web.config has no mention of algorithm elsewhere.\nThe specific .NET method being used to create users in the VB code is <code>System.Web.Security.Membership.CreateUser()</code>.How could I mimic that in Node.js, Java, or PHP (I can translate from those langs if I need to)?</p>\n\n<p><strong>EDIT:</strong> If any one can decipher <a href=\"https://referencesource.microsoft.com/#System.Web/Configuration/MachineKeySection.cs,474\" rel=\"nofollow noreferrer\">this method</a> and tell me what's actually going on, I'd appreciate it. </p>\n"}, {"tags": ["c#", "json", "json.net"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1574276813, "post_id": 58961610, "comment_id": 104178413, "body": "<i>Where</i> in this code does the error occur?"}, {"owner": {"reputation": 29, "user_id": 10360328, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cRmC0GM1j-E/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMRVh3RaQrPhShXMBkB4PoZRg1R7g/mo/photo.jpg?sz=128", "display_name": "Gerrit", "link": "https://stackoverflow.com/users/10360328/gerrit"}, "reply_to_user": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1574276887, "post_id": 58961610, "comment_id": 104178445, "body": "@ScottHunter oops my bad, here MessageBox.Show(rs?.resources[0]?.value[0]?.address?.formatt&zwnj;&#8203;edAddress);"}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1574276957, "post_id": 58961610, "comment_id": 104178482, "body": "Have you tried <code>rs[0]?.</code>...?"}, {"owner": {"reputation": 29, "user_id": 10360328, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cRmC0GM1j-E/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMRVh3RaQrPhShXMBkB4PoZRg1R7g/mo/photo.jpg?sz=128", "display_name": "Gerrit", "link": "https://stackoverflow.com/users/10360328/gerrit"}, "reply_to_user": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1574277082, "post_id": 58961610, "comment_id": 104178556, "body": "@ScottHunter That&#39;s not possible? rs(ResourceSet) is a class, I can&#39;t say like rs[0]? Or am I doing something wrong"}, {"owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "edited": false, "score": 1, "creation_date": 1574277242, "post_id": 58961610, "comment_id": 104178635, "body": "should be <code>JsonConvert.DeserializeObject&lt;RootObject&gt;(contentString)</code>"}, {"owner": {"reputation": 29, "user_id": 10360328, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cRmC0GM1j-E/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMRVh3RaQrPhShXMBkB4PoZRg1R7g/mo/photo.jpg?sz=128", "display_name": "Gerrit", "link": "https://stackoverflow.com/users/10360328/gerrit"}, "reply_to_user": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "edited": false, "score": 0, "creation_date": 1574277562, "post_id": 58961610, "comment_id": 104178783, "body": "@peinearydevelopment oh wow.. this fixed it, thank you! :)"}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 7810018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ee374953f6df88fbf67708f6d60085c?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Aguilar", "link": "https://stackoverflow.com/users/7810018/fernando-aguilar"}, "is_accepted": true, "score": 0, "last_activity_date": 1574277565, "creation_date": 1574277565, "answer_id": 58961840, "question_id": 58961610, "link": "https://stackoverflow.com/questions/58961610/c-parsing-json-object-from-api-request/58961840#58961840", "title": "C# Parsing JSON object from api request", "body": "<p>The problem is that you need to deserialize your json string to wrong object, you need to deserialize it first to your RootObject that contains your ResourceSet object that you want</p>\n"}, {"tags": [], "owner": {"reputation": 137, "user_id": 9517443, "user_type": "registered", "profile_image": "https://graph.facebook.com/2016200665315502/picture?type=large", "display_name": "Dorin Baba", "link": "https://stackoverflow.com/users/9517443/dorin-baba"}, "is_accepted": false, "score": 0, "last_activity_date": 1574282473, "last_edit_date": 1574282473, "creation_date": 1574278723, "answer_id": 58962101, "question_id": 58961610, "link": "https://stackoverflow.com/questions/58961610/c-parsing-json-object-from-api-request/58962101#58962101", "title": "C# Parsing JSON object from api request", "body": "<p>Have you tried this?</p>\n\n<pre><code>async static void Autosuggest(string address)\n{\n    var client = new HttpClient();\n    client.DefaultRequestHeaders.Add(\"Ocp-Apim-Subscription-Key\", \"heheprivate\");\n\n    string uri = \"http://dev.virtualearth.net/REST/v1/Autosuggest?query=\" + address + \"&amp;countryFilter=NL&amp;key=heheprivate\";\n\n    var response = await client.GetAsync(uri);\n\n    var results = await response.Content.ReadAsAsync&lt;IEnumerable&lt;Address&gt;&gt;();\n\n    //now the 'results' is supposed to have the list of addresses from which\n    //you can extract whatever you need\n    //I don't promise it will work but you can try it\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 10360328, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cRmC0GM1j-E/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMRVh3RaQrPhShXMBkB4PoZRg1R7g/mo/photo.jpg?sz=128", "display_name": "Gerrit", "link": "https://stackoverflow.com/users/10360328/gerrit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 58961840, "answer_count": 2, "score": 0, "last_activity_date": 1574282473, "creation_date": 1574276633, "last_edit_date": 1574281134, "question_id": 58961610, "link": "https://stackoverflow.com/questions/58961610/c-parsing-json-object-from-api-request", "title": "C# Parsing JSON object from api request", "body": "<p>Heys guys, so I am using Bing's maps api for my WPF application. On an API call of a specific city I get this response: </p>\n\n<pre><code>{\n\"authenticationResultCode\": \"ValidCredentials\",\n\"brandLogoUri\": \"http:\\/\\/dev.virtualearth.net\\/Branding\\/logo_powered_by.png\",\n\"copyright\": \"Copyright \u00a9 2019 Microsoft and its suppliers. All rights reserved. This API cannot be accessed and the content and any results may not be used, reproduced or transmitted in any manner without express written permission from Microsoft Corporation.\",\n\"resourceSets\": [{\n    \"estimatedTotal\": 1,\n    \"resources\": [{\n        \"__type\": \"Autosuggest:http:\\/\\/schemas.microsoft.com\\/search\\/local\\/ws\\/rest\\/v1\",\n        \"value\": [{\n            \"__type\": \"Place\",\n            \"address\": {\n                \"countryRegion\": \"Netherlands\",\n                \"adminDistrict\": \"Overijssel\",\n                \"adminDistrict2\": \"Zwolle\",\n                \"countryRegionIso2\": \"NL\",\n                \"formattedAddress\": \"Zwolle, Overijssel\"\n            }\n        }, {\n            \"__type\": \"Address\",\n            \"address\": {\n                \"countryRegion\": \"Netherlands\",\n                \"locality\": \"Oldenzaal\",\n                \"adminDistrict\": \"Overijssel\",\n                \"adminDistrict2\": \"Gemeente Oldenzaal\",\n                \"countryRegionIso2\": \"NL\",\n                \"houseNumber\": \"\",\n                \"postalCode\": \"7575\",\n                \"addressLine\": \"Zwollestraat\",\n                \"streetName\": \"Zwollestraat\",\n                \"formattedAddress\": \"Zwollestraat, 7575 Oldenzaal\"\n            }\n        }, {\n            \"__type\": \"Address\",\n            \"address\": {\n                \"countryRegion\": \"Netherlands\",\n                \"locality\": \"Heerlen\",\n                \"adminDistrict\": \"Limburg\",\n                \"adminDistrict2\": \"Gemeente Heerlen\",\n                \"countryRegionIso2\": \"NL\",\n                \"houseNumber\": \"\",\n                \"postalCode\": \"6415\",\n                \"addressLine\": \"Zwollestraat\",\n                \"streetName\": \"Zwollestraat\",\n                \"formattedAddress\": \"Zwollestraat, 6415 Heerlen\"\n            }\n        }, {\n            \"__type\": \"Address\",\n            \"address\": {\n                \"countryRegion\": \"Netherlands\",\n                \"locality\": \"Gouda\",\n                \"adminDistrict\": \"South Holland\",\n                \"adminDistrict2\": \"Gemeente Gouda\",\n                \"countryRegionIso2\": \"NL\",\n                \"houseNumber\": \"\",\n                \"postalCode\": \"2803\",\n                \"addressLine\": \"Zwolleweg\",\n                \"streetName\": \"Zwolleweg\",\n                \"formattedAddress\": \"Zwolleweg, 2803 Gouda\"\n            }\n        }, {\n            \"__type\": \"Address\",\n            \"address\": {\n                \"countryRegion\": \"Netherlands\",\n                \"locality\": \"Almere\",\n                \"adminDistrict\": \"Flevoland\",\n                \"countryRegionIso2\": \"NL\",\n                \"houseNumber\": \"\",\n                \"postalCode\": \"1324\",\n                \"addressLine\": \"Zwolleweg\",\n                \"streetName\": \"Zwolleweg\",\n                \"formattedAddress\": \"Zwolleweg, 1324 Almere\"\n            }\n        }, {\n            \"__type\": \"Address\",\n            \"address\": {\n                \"countryRegion\": \"Netherlands\",\n                \"locality\": \"Barneveld\",\n                \"adminDistrict\": \"Gelderland\",\n                \"adminDistrict2\": \"Gemeente Barneveld\",\n                \"countryRegionIso2\": \"NL\",\n                \"houseNumber\": \"\",\n                \"postalCode\": \"3771\",\n                \"addressLine\": \"Zwolleweg\",\n                \"streetName\": \"Zwolleweg\",\n                \"formattedAddress\": \"Zwolleweg, 3771 Barneveld\"\n            }\n        }, {\n            \"__type\": \"Address\",\n            \"address\": {\n                \"countryRegion\": \"Netherlands\",\n                \"locality\": \"\u2019s-Hertogenbosch\",\n                \"adminDistrict\": \"North Brabant\",\n                \"adminDistrict2\": \"'s-Hertogenbosch\",\n                \"countryRegionIso2\": \"NL\",\n                \"houseNumber\": \"\",\n                \"addressLine\": \"Zwollestraat\",\n                \"streetName\": \"Zwollestraat\",\n                \"formattedAddress\": \"Zwollestraat \u2019s-Hertogenbosch\"\n            }\n        }]\n    }]\n}],\n\"statusCode\": 200,\n\"statusDescription\": \"OK\",\n\"traceId\": \"609ec284801a4ecba585123a8d2be873|DU00000D72|0.0.0.1\"\n}\n</code></pre>\n\n<p>I want all the addresses in like a list or an array, but that's for later. I want the <code>formattedAddress</code> specifically. This is the code I currently have but I keep getting this error: </p>\n\n<blockquote>\n  <p>\" System.NullReferenceException: \"The object reference is not set to\n  an instance of an object.\"\".</p>\n</blockquote>\n\n<p>My Code:</p>\n\n<pre><code>        async static void Autosuggest(string address)\n    {\n        HttpClient client = new HttpClient();\n        client.DefaultRequestHeaders.Add(\"Ocp-Apim-Subscription-Key\", \"heheprivate\");\n\n        string uri = \"http://dev.virtualearth.net/REST/v1/Autosuggest?query=\" + address + \"&amp;countryFilter=NL&amp;key=heheprivate\";\n\n        HttpResponseMessage response = await client.GetAsync(uri);\n\n        var contentString = await response.Content.ReadAsStringAsync();\n        ResourceSet rs = JsonConvert.DeserializeObject&lt;ResourceSet&gt;(contentString);\n\n        //var deserializedObject = JsonConvert.DeserializeObject&lt;Address&gt;(response.Content.ReadAsStringAsync().Result);\n        MessageBox.Show(rs?.resources[0]?.value[0]?.address?.formattedAddress);\n    }\n</code></pre>\n\n<p>The classes:</p>\n\n<pre><code>public class Address\n{\n    public string countryRegion { get; set; }\n    public string locality { get; set; }\n    public string adminDistrict { get; set; }\n    public string adminDistrict2 { get; set; }\n    public string countryRegionIso2 { get; set; }\n    public string formattedAddress { get; set; }\n    public string houseNumber { get; set; }\n    public string postalCode { get; set; }\n    public string addressLine { get; set; }\n    public string streetName { get; set; }\n}\n\npublic class Value\n{\n    public string __type { get; set; }\n    public Address address { get; set; }\n}\n\npublic class Resource\n{\n    public string __type { get; set; }\n    public List&lt;Value&gt; value { get; set; }\n}\n\npublic class ResourceSet\n{\n    public int estimatedTotal { get; set; }\n    public List&lt;Resource&gt; resources { get; set; }\n}\n\npublic class RootObject\n{\n    public string authenticationResultCode { get; set; }\n    public string brandLogoUri { get; set; }\n    public string copyright { get; set; }\n    public List&lt;ResourceSet&gt; resourceSets { get; set; }\n    public int statusCode { get; set; }\n    public string statusDescription { get; set; }\n    public string traceId { get; set; }\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "unit-testing", "asp.net-core", "razor-pages"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 11843295, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lrHbpiro94o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8Tqm0aug9phZAi1wBig-4sR5OBg/photo.jpg?sz=128", "display_name": "Collin Brittain", "link": "https://stackoverflow.com/users/11843295/collin-brittain"}, "edited": false, "score": 0, "creation_date": 1574279944, "post_id": 58962234, "comment_id": 104179998, "body": "Thank you, your suggestion to use <code>It.IsAny&lt;&gt;()</code> was helpful for getting that mock working. I have used that page but it uses mostly trivial examples that I didn&#39;t find very helpful except for the Data Access Layer testing.  Could you be more specific about the &quot;additional layer of abstraction&quot; to the PageModel?"}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": false, "score": 1, "last_activity_date": 1574279806, "last_edit_date": 1592644375, "creation_date": 1574279198, "answer_id": 58962234, "question_id": 58961609, "link": "https://stackoverflow.com/questions/58961609/how-do-i-unit-test-asp-net-core-3-0-razor-page-handlers-that-require-usermanag/58962234#58962234", "title": "How do I unit test ASP .NET Core 3.0+ Razor Page handlers that require UserManager&lt;TUser&gt; and SignInManager&lt;TUser&gt;?", "body": "<p>The issue in this case, is that the <code>User</code> in the code under test</p>\n<pre><code>if (_signInManager.IsSignedIn(User))\n</code></pre>\n<p>does not match the principal configured in <code>Setup</code></p>\n<pre><code>var claimsPrincipal = new TestPrincipal(new Claim(&quot;name&quot;, &quot;John Doe&quot;));\n\n//...\n\nmockSignInManager.Setup(m =&gt; m.IsSignedIn(claimsPrincipal)).Returns(true);\n</code></pre>\n<p>Which results in the mock not behaving as expected when the test is exercised and the condition evaluated.</p>\n<p>I suggest loosening up the expectation using <code>It.IsAny&lt;&gt;()</code></p>\n<pre><code>mockSignInManager\n    .Setup(_ =&gt; _.IsSignedIn(It.IsAny&lt;ClaimsPrincipal&gt;()))\n    .Returns(true);\n</code></pre>\n<p>Ideally I would have added an additional layer of abstraction to the PageModel to simplify its dependency on all those implementation concerns.</p>\n<p>You should also refer to available documentation for tips on how to unit test razor pages</p>\n<h3>Reference <a href=\"https://docs.microsoft.com/en-us/aspnet/core/test/razor-pages-tests\" rel=\"nofollow noreferrer\">Razor Pages unit tests in ASP.NET Core</a></h3>\n"}], "owner": {"reputation": 117, "user_id": 11843295, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lrHbpiro94o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8Tqm0aug9phZAi1wBig-4sR5OBg/photo.jpg?sz=128", "display_name": "Collin Brittain", "link": "https://stackoverflow.com/users/11843295/collin-brittain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574279806, "creation_date": 1574276628, "last_edit_date": 1574279207, "question_id": 58961609, "link": "https://stackoverflow.com/questions/58961609/how-do-i-unit-test-asp-net-core-3-0-razor-page-handlers-that-require-usermanag", "title": "How do I unit test ASP .NET Core 3.0+ Razor Page handlers that require UserManager&lt;TUser&gt; and SignInManager&lt;TUser&gt;?", "body": "<p>I am trying to simply test my Register.cshtml.cs <code>OnGet()</code> method. The PageModel requires a <code>UserManager&lt;TUser&gt;</code> and a <code>SignInManager&lt;TUser&gt;</code>. I need to mock the <code>SignInManager&lt;TUser&gt;.IsSignedIn(ClaimsPrincipal user)</code> method which requires those classes. The problem is the constructors for those classes in ASP .NET Core are much more complicated than most solutions document for previous ASP .NET versions. The only constructor for <code>UserManager</code> has nine required parameters, and I believe <code>SignInManager</code> required seven.</p>\n\n<p>I was able to get far enough for my test to execute but the mocked method is not executing.</p>\n\n<p>My test:</p>\n\n<pre><code>[Fact]\npublic void OnGet_UserIsSignedIn_RedirectsToIndex()\n{\n    using (var testContext = new ApplicationDbContext(TestHelper.TestApplicationDbContextOptions()))\n    {\n        // Arrange\n        var mockUserStore = new Mock&lt;IUserStore&lt;AppUser&gt;&gt;();\n\n        var userManager = new UserManager&lt;AppUser&gt;(mockUserStore.Object,  null, null, null, null, null, null, null, null);\n\n        var mockSignInManager = new Mock&lt;SignInManager&lt;AppUser&gt;&gt;(\n            userManager,\n            new HttpContextAccessor(),\n            new Mock&lt;IUserClaimsPrincipalFactory&lt;AppUser&gt;&gt;().Object,\n            new Mock&lt;IOptions&lt;IdentityOptions&gt;&gt;().Object,\n            new Mock&lt;ILogger&lt;SignInManager&lt;AppUser&gt;&gt;&gt;().Object,\n            new Mock&lt;IAuthenticationSchemeProvider&gt;().Object,\n            new Mock&lt;IUserConfirmation&lt;AppUser&gt;&gt;().Object\n            );\n\n        var claimsPrincipal = new TestPrincipal(new Claim(\"name\", \"John Doe\"));\n        var _mockConfig = new Mock&lt;IConfiguration&gt;();\n        var _mockUserValidator = new UserValidator&lt;AppUser&gt;();\n        var _mockLogger = new Mock&lt;ILogger&lt;RegisterModel&gt;&gt;();\n        var _mockEmailSender = new Mock&lt;IEmailSender&gt;();\n\n        var registerModel = new RegisterModel(_mockConfig.Object, userManager, mockSignInManager.Object, _mockUserValidator, _mockLogger.Object, _mockEmailSender.Object);\n\n        mockSignInManager.Setup(m =&gt; m.IsSignedIn(claimsPrincipal)).Returns(true);\n        var expected = new RedirectToPageResult(\"/Index\");\n\n        // Act\n        var result = registerModel.OnGet();\n\n        //Assert\n        Assert.Equal(expected, result);\n    }\n\n}\n</code></pre>\n\n<p><code>OnGet</code> method:</p>\n\n<pre><code>public IActionResult OnGet(string returnUrl = null)\n{\n    // The test is supposed to result in the code inside of this IF executing\n    // but it continues on and fails at CreateGateway() because it is missing\n    // dependencies for that method.\n    if (_signInManager.IsSignedIn(User))\n        return new RedirectToPageResult(\"/Index\");\n\n    ReturnUrl = returnUrl;\n\n    // Create gateway\n    Gateway = CreateGateway();\n\n    // Load clientToken\n    ClientToken = Gateway.ClientToken.Generate();\n\n    return Page();\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Error Message:\n   System.NullReferenceException : Object reference not set to an instance of an object.\n  Stack Trace:\n     at Project.Areas.Identity.Pages.Account.RegisterModel.CreateGateway() in ... line 150\n</code></pre>\n\n<p>RegisterModel constructor:</p>\n\n<pre><code>public RegisterModel(\n    IConfiguration config,\n    UserManager&lt;AppUser&gt; userManager,\n    SignInManager&lt;AppUser&gt; signInManager,\n    UserValidator&lt;AppUser&gt; userValidator,\n    ILogger&lt;RegisterModel&gt; logger,\n    IEmailSender emailSender)\n{\n    _config = config;\n    _userManager = userManager;\n    _signInManager = signInManager;\n    _userValidator = userValidator;\n    _logger = logger;\n    _emailSender = emailSender;\n}\n</code></pre>\n\n<p>Not only does my test feel over-complicated but it is failing to trigger the IsSignedIn() mocked method and fails on a later line due to a lack of dependecies for the <code>CreateGateway()</code> method.</p>\n\n<p>Simply: <strong>How do I arrange a test for a PageModel handler requiring a <code>UserManager&lt;TUser&gt;</code> and <code>SignInManager&lt;TUser&gt;</code> for <em>ASP .NET Core 3.0 or later</em>?</strong></p>\n"}, {"tags": ["c#", "wpf", "listview", "contextmenu"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6283344"}, "edited": false, "score": 0, "creation_date": 1574372707, "post_id": 58962319, "comment_id": 104221021, "body": "This also works. It&#39;d be nice if I could accept both answers as solutions to my problem."}], "tags": [], "owner": {"reputation": 9235, "user_id": 2893012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J1Sfd.jpg?s=128&g=1", "display_name": "SamTh3D3v", "link": "https://stackoverflow.com/users/2893012/samth3d3v"}, "is_accepted": false, "score": 1, "last_activity_date": 1574279540, "creation_date": 1574279540, "answer_id": 58962319, "question_id": 58961396, "link": "https://stackoverflow.com/questions/58961396/is-it-possible-to-disable-contextmenu-when-theres-no-item-in-the-listview-or-no/58962319#58962319", "title": "Is it possible to disable ContextMenu when there&#39;s no item in the ListView or no item&#39;s selected?", "body": "<p>First of all, move your <code>ContextMenu</code> to the Resources, then apply it to the <code>ListView</code>'s <code>ContextMenu</code> in a <code>DataTrigger</code>, based on whether the <code>SelectedItem</code> is <code>null</code> or not:</p>\n\n<pre><code>&lt;Window.Resources&gt;\n    &lt;ContextMenu x:Key=\"MyContextMenu\"&gt;\n\n        &lt;MenuItem Header=\"Remove\"\n                  Command=\"{Binding RemoveItem}\"\n                  CommandParameter=\"{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}\" /&gt;\n    &lt;/ContextMenu&gt;\n&lt;/Window.Resources&gt;\n&lt;Grid&gt;\n    &lt;ListView x:Name=\"itemsListView\" ItemsSource=\"{Binding MyItems}\"&gt;\n        &lt;ListView.Style&gt;\n            &lt;Style TargetType=\"{x:Type ListView}\"&gt;\n                &lt;Setter Property=\"ContextMenu\"\n                        Value=\"{StaticResource MyContextMenu}\" /&gt;\n                &lt;Style.Triggers&gt;\n                    &lt;DataTrigger Binding=\"{Binding SelectedItem, ElementName=itemsListView}\"\n                                 Value=\"{x:Null}\"&gt;\n                        &lt;Setter Property=\"ContextMenu\"\n                                Value=\"{x:Null}\" /&gt;\n                    &lt;/DataTrigger&gt;\n                &lt;/Style.Triggers&gt;\n            &lt;/Style&gt;\n        &lt;/ListView.Style&gt;\n    &lt;/ListView&gt;\n&lt;/Grid&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2032, "user_id": 5858936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpy9b.png?s=128&g=1", "display_name": "Keithernet", "link": "https://stackoverflow.com/users/5858936/keithernet"}, "is_accepted": true, "score": 1, "last_activity_date": 1574280611, "creation_date": 1574280611, "answer_id": 58962560, "question_id": 58961396, "link": "https://stackoverflow.com/questions/58961396/is-it-possible-to-disable-contextmenu-when-theres-no-item-in-the-listview-or-no/58962560#58962560", "title": "Is it possible to disable ContextMenu when there&#39;s no item in the ListView or no item&#39;s selected?", "body": "<p>One way to do this is to set the <code>ContextMenu</code> on the <code>ListViewItem</code> instead of the <code>ListView</code>.</p>\n\n<p>This will ensure that the <code>ContextMenu</code> will only display when there is a ListViewItem available. And if the item isn't selected, it will be when the user right-clicks on it.</p>\n\n<p>The only trick here is to deal with a <code>DataContext</code> issue in the <code>ContextMenu</code>. That is done by setting the <code>Tag</code> property of the <code>ListViewItem</code> to the <code>DataContext</code> of the <code>ListView</code>. This will allow the <code>ContextMenu</code> to bind to the <code>RemoveItem</code> command.</p>\n\n<pre><code>&lt;ListView x:Name=\"ItemsListView\"\n    Width=\"200\"\n    Height=\"300\"\n    HorizontalAlignment=\"Center\"\n    VerticalAlignment=\"Center\"\n    ItemsSource=\"{Binding MyItems}\"&gt;\n    &lt;ListView.ItemContainerStyle&gt;\n        &lt;Style TargetType=\"{x:Type ListViewItem}\"&gt;\n            &lt;Setter Property=\"ContextMenu\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;ContextMenu&gt;\n                        &lt;MenuItem\n                            Command=\"{Binding RelativeSource={RelativeSource AncestorType={x:Type ContextMenu}}, Path=PlacementTarget.Tag.RemoveItem}\"\n                            CommandParameter=\"{Binding}\"\n                            Header=\"Remove\" /&gt;\n                    &lt;/ContextMenu&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n            &lt;Setter Property=\"Tag\" Value=\"{Binding RelativeSource={RelativeSource AncestorType={x:Type ListView}}, Path=DataContext}\" /&gt;\n        &lt;/Style&gt;\n    &lt;/ListView.ItemContainerStyle&gt;\n&lt;/ListView&gt;\n</code></pre>\n\n<p>I hope this helps!</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6283344"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 1, "accepted_answer_id": 58962560, "answer_count": 2, "score": 0, "last_activity_date": 1574280611, "creation_date": 1574275771, "last_edit_date": 1574276309, "question_id": 58961396, "link": "https://stackoverflow.com/questions/58961396/is-it-possible-to-disable-contextmenu-when-theres-no-item-in-the-listview-or-no", "title": "Is it possible to disable ContextMenu when there&#39;s no item in the ListView or no item&#39;s selected?", "body": "<p>I've used the following method:</p>\n\n<pre><code>&lt;ListView x:Name=\"itemsListView\" ItemsSource=\"{Binding MyItems}\"&gt;\n    &lt;ListView.ContextMenu&gt;\n        &lt;ContextMenu&gt;\n            &lt;MenuItem Header=\"Remove\"\n        Command=\"{Binding RemoveItem}\"\n        CommandParameter=\"{Binding RelativeSource={RelativeSource AncestorType=ContextMenu}, Path=PlacementTarget.SelectedItem}\" /&gt;\n        &lt;/ContextMenu&gt;\n    &lt;/ListView.ContextMenu&gt;\n&lt;/ListView&gt;\n</code></pre>\n\n<p>provided by blindmeis <a href=\"https://stackoverflow.com/questions/11082162/context-menu-for-removing-items-in-listview\">here</a>, for creating and binding <code>ContextMenu</code> and it works fine if I first select an item and then right click. If I, however, do not select any item and click anywhere in <code>ListView</code> it still appears and invoke the command with <code>null</code>.</p>\n"}, {"tags": ["c#", "datatable", "null"], "comments": [{"owner": {"reputation": 3800, "user_id": 1807452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PfAC9.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/1807452/rahul-sharma"}, "edited": false, "score": 0, "creation_date": 1574275901, "post_id": 58961296, "comment_id": 104178035, "body": "Check if the data row is not null with <code>DataRow.IsNull(string columnName)</code>: <code>if (!row.IsNull(&quot;ColumnName&quot;)){&#47;&#47;Check for empty string here}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 11762, "user_id": 802116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0962deadfcf889df21d85b102138487?s=128&d=identicon&r=PG", "display_name": "Asti", "link": "https://stackoverflow.com/users/802116/asti"}, "is_accepted": true, "score": 1, "last_activity_date": 1574276277, "creation_date": 1574276277, "answer_id": 58961522, "question_id": 58961296, "link": "https://stackoverflow.com/questions/58961296/validate-that-datatable-cell-is-not-null-or-empty/58961522#58961522", "title": "Validate that DataTable cell is not null or empty", "body": "<p>A null value would be returned as <code>DBNull</code>, and not a null literal.</p>\n\n<pre><code>var tab = new System.Data.DataTable();\ntab.Columns.Add(\"c1\");\ntab.Rows.Add();\n\ntab.Rows[0][\"c1\"] = null;\ntab.Rows[0][\"c1\"].GetType() //returns DBNull\n</code></pre>\n\n<p>And as the DBNull.ToString() is <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.dbnull.tostring?view=netframework-4.8\" rel=\"nofollow noreferrer\">guaranteed to return an empty string</a>, you can safely use <code>!String.IsNullOrEmpty(value.ToString()))</code>. </p>\n\n<p>You can always guard against not being sure if an object is null by simply using null coalescing.</p>\n\n<pre><code>!String.IsNullOrEmpty(value?.ToString()))\n</code></pre>\n"}], "owner": {"reputation": 9301, "user_id": 287793, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/17e98b6e9a5ea76b2b6f6a4d2cb02a44?s=128&d=identicon&r=PG&f=1", "display_name": "webworm", "link": "https://stackoverflow.com/users/287793/webworm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 1, "accepted_answer_id": 58961522, "answer_count": 1, "score": 0, "last_activity_date": 1574276277, "creation_date": 1574275332, "question_id": 58961296, "link": "https://stackoverflow.com/questions/58961296/validate-that-datatable-cell-is-not-null-or-empty", "title": "Validate that DataTable cell is not null or empty", "body": "<p>I would like to check if the value in a Data Table cell is either null or empty/blank space. The <code>String.IsNullOrEmpty()</code> method does not work as the <code>row[\"ColumnName\"]</code> is considered an <code>object</code>.</p>\n\n<p>Do I need to do a compound check like the following or is there something more elegant?</p>\n\n<pre><code>if (row[\"ColumnName\"] != DBNull.Value &amp;&amp; row[\"ColumnName\"].ToString().Length &gt; 0)\n{\n  // Do something that requires the value to be something other than blank or null\n}\n</code></pre>\n\n<p>I also thought of the following ...</p>\n\n<pre><code>if (!String.IsNullOrEmpty(dr[\"Amt Claimed\"].ToString()))\n{\n  // Do something that requires the value to be something other than blank or null\n}\n</code></pre>\n\n<p>but I figured if the value of the cell was <code>null</code> an exception would be thrown when trying to convert to a string using <code>ToString()</code></p>\n"}, {"tags": ["c#", "interop"], "comments": [{"owner": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574277022, "post_id": 58961192, "comment_id": 104178522, "body": "As they mentioned <a href=\"https://forums.ni.com/t5/LabWindows-CVI/taskHandle-TaskHandle/td-p/282319?profile.language=en\" rel=\"nofollow noreferrer\">here</a> it seems TaskHandle is just an integer"}, {"owner": {"reputation": 59, "user_id": 1168441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca83fcf04fc0ac7c9df44bc38d2bfdde?s=128&d=identicon&r=PG", "display_name": "Mike Petty", "link": "https://stackoverflow.com/users/1168441/mike-petty"}, "reply_to_user": {"reputation": 6381, "user_id": 12354911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Sz0V.jpg?s=128&g=1", "display_name": "Eldar", "link": "https://stackoverflow.com/users/12354911/eldar"}, "edited": false, "score": 0, "creation_date": 1574285446, "post_id": 58961192, "comment_id": 104182417, "body": "I&#39;m not having a problem with the TaskHandle here at all, and I can assure you that it is an IntPtr.  I have a couple hundred other functions that take taskHandle in and work beautifully.  It&#39;s the callback-specific part that appears to be having an issue."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1574352938, "post_id": 58961192, "comment_id": 104211591, "body": "We can&#39;t see the <code>func</code> variable declaration, it is crucial that it is <code>static</code> so the garbage collector won&#39;t collect the delegate object."}, {"owner": {"reputation": 59, "user_id": 1168441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca83fcf04fc0ac7c9df44bc38d2bfdde?s=128&d=identicon&r=PG", "display_name": "Mike Petty", "link": "https://stackoverflow.com/users/1168441/mike-petty"}, "edited": false, "score": 0, "creation_date": 1574362654, "post_id": 58961192, "comment_id": 104216514, "body": "That wouldn&#39;t be the cause for this issue -- as the class is fully loaded, and it being a global variable in the class will keep it from being GC&#39;d.  If it was working, and then randomly stopped then you&#39;d look at the GC being the culprit.  But it not working basically the next instruction after creation obviously can&#39;t be the GC.  As long as the class is kept alive, and the object a global variable in the class you&#39;re going to be ok.  If you make it static, and have multiple of these classes instantiated (which I do), then you&#39;re in for a world of hurt...See below solution."}], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 1168441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca83fcf04fc0ac7c9df44bc38d2bfdde?s=128&d=identicon&r=PG", "display_name": "Mike Petty", "link": "https://stackoverflow.com/users/1168441/mike-petty"}, "is_accepted": false, "score": 0, "last_activity_date": 1574350279, "creation_date": 1574350279, "answer_id": 58978433, "question_id": 58961192, "link": "https://stackoverflow.com/questions/58961192/c-interop-with-cdecl-callbacks-and-delegates/58978433#58978433", "title": "C# Interop with __cdecl callbacks and delegates", "body": "<p>Adding in the MarshalAs statement into the PInvoke prototype worked.  Somehow I guess I assumed that since the Delegate was tagged as that that it would Marshal that way also.  But there's probably a reason why you need to be more explicit.</p>\n\n<pre><code>   public static extern int DAQmxRegisterEveryNSamplesEvent(IntPtr task, Int32 everyNsamplesEventType, UInt32 nSamples, UInt32 options,[MarshalAs(UnmanagedType.FunctionPtr)]EveryNSamplesCallback callbackFunction, IntPtr callbackData);\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 1168441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca83fcf04fc0ac7c9df44bc38d2bfdde?s=128&d=identicon&r=PG", "display_name": "Mike Petty", "link": "https://stackoverflow.com/users/1168441/mike-petty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574350279, "creation_date": 1574274957, "question_id": 58961192, "link": "https://stackoverflow.com/questions/58961192/c-interop-with-cdecl-callbacks-and-delegates", "title": "C# Interop with __cdecl callbacks and delegates", "body": "<p>I've been successfully working with Interop to work with an external C-library for a while.  It's been great.  We needed to add the ability to work with a function that has a callback.  That's been a bit more challenging.  We've tried passing it as an IntPtr, and a couple of other options.  But it always seems to crash VisualStudio.  We also tried to enable native debugging, but there are no debug libs for the other library, and it just kind of ends there.</p>\n\n<p>Relevant C library code:</p>\n\n<pre><code>#define CVICDECL        __cdecl\n#define CVICALLBACK     CVICDECL\n\ntypedef int32 (CVICALLBACK *DAQmxEveryNSamplesEventCallbackPtr)(TaskHandle taskHandle, int32 everyNsamplesEventType, uInt32 nSamples, void *callbackData);\n\nint32 __CFUNC     DAQmxRegisterEveryNSamplesEvent(TaskHandle task, int32 everyNsamplesEventType, uInt32 nSamples, uInt32 options, DAQmxEveryNSamplesEventCallbackPtr callbackFunction, void *callbackData);\n</code></pre>\n\n<p>And the C# code:</p>\n\n<pre><code>[DllImport(\"nicaiu\", CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Ansi)]\n        public static extern int DAQmxRegisterEveryNSamplesEvent(IntPtr task, Int32 everyNsamplesEventType, UInt32 nSamples, UInt32 options, EveryNSamplesCallback callbackFunction, IntPtr callbackData);\n\n[UnmanagedFunctionPointer(CallingConvention.Cdecl)]\n        public delegate Int32 EveryNSamplesCallback(IntPtr taskHandle, Int32 everyNsamplesEventType, UInt32 nSamples, IntPtr callbackData);\n ...\n  func = new EveryNSamplesCallback(Test2Callback); //func is a class-level variable\ntmp += ChkForError(DAQmxRegisterEveryNSamplesEvent(taskHandle_DAT, DAQmx_Val_Transferred_From_Buffer, 104, 0 , func, new IntPtr()));\n...\n   public Int32 Test2Callback(IntPtr taskHandle, Int32 everyNsamplesEventType, UInt32 nSamples, IntPtr callbackData)\n        {\n            Console.WriteLine(\"CALLBACK!!\");\n            return 0;\n        }\n</code></pre>\n\n<p>We've tried a number of different things (using IntPtr in the signature) and elsewhere, and it always wants to puke on us.  Thoughts on how to implement and/or debug?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 1563, "user_id": 11947519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZYm5.jpg?s=128&g=1", "display_name": "Erik Overflow", "link": "https://stackoverflow.com/users/11947519/erik-overflow"}, "edited": false, "score": 0, "creation_date": 1574276284, "post_id": 58961140, "comment_id": 104178197, "body": "What is line 147 of your Tank.cs code? Is a hitEffect prefab in the inspector?"}, {"owner": {"reputation": 19, "user_id": 10571180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qa7fc.jpg?s=128&g=1", "display_name": "ConnnK", "link": "https://stackoverflow.com/users/10571180/connnk"}, "reply_to_user": {"reputation": 1563, "user_id": 11947519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZYm5.jpg?s=128&g=1", "display_name": "Erik Overflow", "link": "https://stackoverflow.com/users/11947519/erik-overflow"}, "edited": false, "score": 0, "creation_date": 1574280769, "post_id": 58961140, "comment_id": 104180382, "body": "@ErikOverflow Yes thats a hit effect prefab, that works fine"}, {"owner": {"reputation": 1563, "user_id": 11947519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZYm5.jpg?s=128&g=1", "display_name": "Erik Overflow", "link": "https://stackoverflow.com/users/11947519/erik-overflow"}, "edited": false, "score": 0, "creation_date": 1574281836, "post_id": 58961140, "comment_id": 104180864, "body": "No, I am asking you if you have assigned the prefab in the inspector for your Tank code @ConorKeaney"}, {"owner": {"reputation": 19, "user_id": 10571180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qa7fc.jpg?s=128&g=1", "display_name": "ConnnK", "link": "https://stackoverflow.com/users/10571180/connnk"}, "reply_to_user": {"reputation": 1563, "user_id": 11947519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZYm5.jpg?s=128&g=1", "display_name": "Erik Overflow", "link": "https://stackoverflow.com/users/11947519/erik-overflow"}, "edited": false, "score": 0, "creation_date": 1574282517, "post_id": 58961140, "comment_id": 104181152, "body": "@ErikOverflow Oh sorry! Misread that. Line 147 is. s.PlayerOneScored();"}, {"owner": {"reputation": 19, "user_id": 10571180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qa7fc.jpg?s=128&g=1", "display_name": "ConnnK", "link": "https://stackoverflow.com/users/10571180/connnk"}, "edited": false, "score": 0, "creation_date": 1574283431, "post_id": 58961140, "comment_id": 104181572, "body": "Updated my post with changes"}], "owner": {"reputation": 19, "user_id": 10571180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qa7fc.jpg?s=128&g=1", "display_name": "ConnnK", "link": "https://stackoverflow.com/users/10571180/connnk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "closed_date": 1574317349, "answer_count": 0, "score": 0, "last_activity_date": 1574283338, "creation_date": 1574274695, "last_edit_date": 1574283338, "question_id": 58961140, "link": "https://stackoverflow.com/questions/58961140/problem-calling-a-function-from-another-script-to-change-the-ui", "closed_reason": "Duplicate", "title": "Problem calling a function from another script to change the UI", "body": "<p>I'm attempting to change a UI element of the canvas using TextMeshPro and 2 scripts. I have a function that works at the end of a class that destroy the game object of one of the players (its local multiplayer), finds which player it is and attempts to lead to a Score script. Up till that point it works and the check for player works as it prints a debug showing who won that round, however I'm getting an error telling me</p>\n\n<blockquote>\n  <p>NullReferenceException: Object reference not set to an instance of an object Tank.Destroy () (at Assets/Scripts/Tank.cs:147)</p>\n</blockquote>\n\n<p>Here's the Destroy function, it works all the way through and fails at the attempt to link to PlayerOne/PlayerTwoScored</p>\n\n<pre><code> public void Destroy()\n     {\n\n         Debug.Log(this.gameObject + \" has died\" );\n         Destroy(this.gameObject);\n         GameObject effect = Instantiate(hitEffect, transform.position, Quaternion.identity);\n         Destroy(effect, 10f);\n         SceneManager.LoadScene(Application.loadedLevel);\n\n         Score s = gameObject.GetComponent&lt;Score&gt;();\n         if (this.gameObject.name.Contains(\"Tank Player 1\"))\n         {\n             Debug.Log(\"Player Two wins!\");\n             s.PlayerTwoScored();\n         }\n         else if (this.gameObject.name.Contains(\"Tank Player 2\"))\n         {\n             Debug.Log(\"Player One wins!\");\n             s.PlayerOneScored();\n         }\n         else { return; }\n\n     }\n</code></pre>\n\n<p>Here's the code for the score script</p>\n\n<pre><code>using System.Collections;\n using System.Collections.Generic;\n using UnityEngine;\n using UnityEngine.UI;\n using TMPro;\n\n public class Score : MonoBehaviour\n {\n     public int scoreValue1 = 0;\n     public int scoreValue2 = 0;\n     public TMP_Text score1;\n     public TMP_Text score2;\n\n     public void PlayerOneScored() {\n         Debug.Log(\"Player One Scored\");\n         score1 = GetComponent&lt;TMP_Text&gt;();\n         score1.text = \"P1 Score: \" + scoreValue1;\n\n     }\n\n     public void PlayerTwoScored()\n     {\n         Debug.Log(\"Player Two Scored\");\n         score2 = GetComponent&lt;TMP_Text&gt;();\n         score2.text = \"Score: \" + scoreValue2;\n     }\n }\n</code></pre>\n\n<p>Included I have a picture of the log, and the UI showing the script and the TMP text objects in the canvas.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TJVdM.png\" rel=\"nofollow noreferrer\">UI</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Kmwt8.png\" rel=\"nofollow noreferrer\">Log</a></p>\n\n<p><strong><em>Update</em></strong> : I checked up other question threads and assumed that my problem with this was the fact that i used </p>\n\n<pre><code>Score s = gameObject.GetComponent&lt;Score&gt;();\n</code></pre>\n\n<p>When i should have used </p>\n\n<pre><code>Score s = new Score();\n</code></pre>\n\n<p>As Score is not attached to the same gameObject but a UI element (The canvas and the 2 Text files as seen in image). I'm not sure how to associate it with this. \nI assumed my above code was correct at the time but i am now getting this error</p>\n\n<blockquote>\n  <p>NullReferenceException\n  UnityEngine.Component.GetComponent[T] () (at C:/buildslave/unity/build/Runtime/Export/Component.bindings.cs:42)\n  Score.PlayerOneScored () (at Assets/Scripts/Score.cs:16)\n  Tank.Destroy () (at Assets/Scripts/Tank.cs:147)</p>\n</blockquote>\n\n<p>Line 16 in Score is </p>\n\n<pre><code>score1 = GetComponent&lt;TMP_Text&gt;();\n</code></pre>\n\n<p>And line 147 in Tank is </p>\n\n<blockquote>\n  <p>s.PlayerOneScored();</p>\n</blockquote>\n"}, {"tags": ["c#", "asp.net", "entity-framework", "blazor"], "comments": [{"owner": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "edited": false, "score": 1, "creation_date": 1574274762, "post_id": 58961139, "comment_id": 104177485, "body": "Questions that ask &quot;where do I start?&quot; are typically too broad and are not a good fit for this site. People have their own method for approaching the problem and because of this there cannot be a <i>correct</i> answer. Give a good read over <a href=\"//softwareengineering.meta.stackexchange.com/a/6367\">Where to Start</a> and <a href=\"https://stackoverflow.com/posts/58961139/edit\">edit</a> your post."}, {"owner": {"reputation": 502, "user_id": 1464438, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/CPxh2.jpg?s=128&g=1", "display_name": "Taylor C. White", "link": "https://stackoverflow.com/users/1464438/taylor-c-white"}, "reply_to_user": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "edited": false, "score": 0, "creation_date": 1574275249, "post_id": 58961139, "comment_id": 104177722, "body": "Thanks--I updated this to have a clear primary question--1.) How to dynamically build the query string dynamically across different datamodels in response to what the user chooses, and a lesser question 2.) How to exclude specific properties from this front-end that ostensibly looks at the database to generate the columns to filter on."}, {"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "edited": false, "score": 0, "creation_date": 1574283435, "post_id": 58961139, "comment_id": 104181575, "body": "Maybe you can consider something like OData, I build some OData like requests using <a href=\"https://github.com/IharYakimush/comminity-data-odata-linq\" rel=\"nofollow noreferrer\">Community.OData.Linq.Json</a>, you have a sample <a href=\"https://github.com/aguacongas/TheIdServer/tree/master/src/IdentityServer/Aguacongas.IdentityServer.Admin\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 8878, "user_id": 41403, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/476b1c3cf22e774b835403adc9af6a59?s=128&d=identicon&r=PG", "display_name": "Quango", "link": "https://stackoverflow.com/users/41403/quango"}, "edited": false, "score": 1, "creation_date": 1574357162, "post_id": 58961139, "comment_id": 104213941, "body": "You might want to look at an example I wrote a while ago: <a href=\"https://github.com/conficient/BlazorDynamicList\" rel=\"nofollow noreferrer\">github.com/conficient/BlazorDynamicList</a> - this was where a list of products have different attributes, so I created a way to render a component which is specific to each product. In your example, each database might have a <code>&lt;SelectFilters&gt;</code> component which lists the specific filters for that data. You&#39;d just need some sort of commonality in the app for each database, e.g. implement an <code>IFilterableDatabase</code> interface"}], "owner": {"reputation": 502, "user_id": 1464438, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/CPxh2.jpg?s=128&g=1", "display_name": "Taylor C. White", "link": "https://stackoverflow.com/users/1464438/taylor-c-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574283436, "creation_date": 1574274691, "last_edit_date": 1574283436, "question_id": 58961139, "link": "https://stackoverflow.com/questions/58961139/abstracting-from-types-building-entity-framework-query-dynamically-in-asp-net", "title": "Abstracting from types, &amp; building Entity Framework query dynamically in ASP.NET / C#", "body": "<p>I'm building a self-service reporting tool in Blazor, that allows a user to select a particular dataset (all of which are stored using Entity Framework), then filter by various properties/columns in the database.</p>\n\n<p>Is there a way to abstract from coding in \"types\" on the web server (like using <code>IQueryable</code> or something of the sort) to build a LINQ command dynamically based on user selections?</p>\n\n<p>For example, say we have the following two classes:</p>\n\n<pre><code>public class Car\n{\n    public int Year { get; set; }\n    public string Color { get; set; }\n    public Company Make { get; set; }\n    public string Model { get; set; }\n    public int Weight { get; set; }\n    public int MilesPerGallon { get; set; }\n    ...\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>public class Company\n{\n    public string Name { get; set; }\n    public Country CountryOfOrigin { get; set; }\n    public DateTime Founded { get; set; }\n    ...\n}\n</code></pre>\n\n<p>A user in a user interface would be able to selct \"Car\" as the database, then select \"Where\" clauses by restricting properties to various values, and then choose to \"slice\" on a different property.</p>\n\n<p>An example might be:</p>\n\n<p>Population: Cars, Where:</p>\n\n<ul>\n<li>Year is between 1970 and 1979.</li>\n<li><p>The Car's Make (Company) CountryOfOrigin is 'United States'</p>\n\n<ul>\n<li>Slice By: Make</li>\n<li>Sort By: Count, Descending</li>\n<li>Color By: Miles Per Gallon</li>\n</ul></li>\n</ul>\n\n<p>How would I write this in such a way that I can abstract the code that builds the SQL query from individual tables / properties etc..</p>\n\n<p>Additionally what would be the \"best\" way to create metadata on the tables themselves to exclude a table or column (Id) etc. from the front end tool, create my own attributes and dynamically exclude those from the client?</p>\n\n<p><a href=\"https://i.stack.imgur.com/X9mDQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X9mDQ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "asp.net-mvc", "tuples"], "comments": [{"owner": {"reputation": 712, "user_id": 2439145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/734ab88209d2764281be04cfe46ecc20?s=128&d=identicon&r=PG", "display_name": "Sushant Yelpale", "link": "https://stackoverflow.com/users/2439145/sushant-yelpale"}, "edited": false, "score": 0, "creation_date": 1574275300, "post_id": 58961133, "comment_id": 104177748, "body": "Instead of Tuple why cant you use ViewModel for that"}], "answers": [{"tags": [], "owner": {"reputation": 712, "user_id": 2439145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/734ab88209d2764281be04cfe46ecc20?s=128&d=identicon&r=PG", "display_name": "Sushant Yelpale", "link": "https://stackoverflow.com/users/2439145/sushant-yelpale"}, "is_accepted": true, "score": 1, "last_activity_date": 1574275952, "creation_date": 1574275952, "answer_id": 58961448, "question_id": 58961133, "link": "https://stackoverflow.com/questions/58961133/returning-tuple-to-api-call-with-changed-parameter-names/58961448#58961448", "title": "Returning tuple to API call with changed parameter names", "body": "<p>If you are able to make change the definition, Create View Model like below,</p>\n\n<pre><code>public class MyViewModel\n{\n    public int Id { get; set; }\n    public string name { get; set; }\n}\n</code></pre>\n\n<p>So your code will be,</p>\n\n<pre><code>List&lt;MyViewModel&gt; tupleList= new List&lt;MyViewModel&gt;();\nforeach (Person person in people)\n    tupleList.Add(person.GetIdName());\n</code></pre>\n\n<p>Also Change your method <code>GetIdName</code> Accordingly to return <code>MyViewModel</code> object</p>\n"}], "owner": {"reputation": 643, "user_id": 893572, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/MxpdO.png?s=128&g=1", "display_name": "Oiproks", "link": "https://stackoverflow.com/users/893572/oiproks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 58961448, "answer_count": 1, "score": 0, "last_activity_date": 1574276036, "creation_date": 1574274671, "last_edit_date": 1574276036, "question_id": 58961133, "link": "https://stackoverflow.com/questions/58961133/returning-tuple-to-api-call-with-changed-parameter-names", "title": "Returning tuple to API call with changed parameter names", "body": "<p>I guess I could not explain it better in the title.\nSorry for that.</p>\n\n<p>I'm returning a tuple containing and <code>ID</code> and a <code>name</code>.</p>\n\n<pre><code>List&lt;Tuple&lt;int, string&gt;&gt; tupleList= new List&lt;Tuple&lt;int, string&gt;&gt;();\nforeach (Person person in people)\n    tupleList.Add(person.GetIdName());\n</code></pre>\n\n<p><code>GetIdName</code> is defined in the <code>People</code> class as follows:</p>\n\n<pre><code>public Tuple&lt;int, string&gt; GetIdName()\n{\n    return new Tuple&lt;int, string&gt;(ID, nome);\n}\n</code></pre>\n\n<p>Now, all this is called by client via API in this</p>\n\n<pre><code>[ResponseType(typeof(List&lt;Tuple&lt;int, string&gt;&gt;))]\npublic IHttpActionResult GetPeople(int id)\n{\n    return Ok(tupleList)\n}\n</code></pre>\n\n<p>What I get on client side is:</p>\n\n<pre><code>[{\"m_Item1\":1,\"m_Item2\":\"Name 1\"},{\"m_Item1\":2,\"m_Item2\":\"Name 2\"}]\n</code></pre>\n\n<p>Is there an way to set the <code>m_Item1</code> to something else?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1574274926, "post_id": 58961091, "comment_id": 104177572, "body": "Are you asking how to generate a random number?"}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 1, "creation_date": 1574275069, "post_id": 58961091, "comment_id": 104177631, "body": "It might be best to think of them as having a &quot;Selectable Attribute Bonus +2&quot;. Alternatively, think of them as several species - one for each Atribute Combination | Cases like these are exactly why making a Character creator is dang near impossible to do, even for a experienced programmer. So you might be best off just leaving fringe cases like these uncovered."}], "answers": [{"tags": [], "owner": {"reputation": 847, "user_id": 12338102, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aIqNOyYbZbc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXn70oEXytf9W75hoPaoTjNgmNPA/photo.jpg?sz=128", "display_name": "Ross Gurbutt", "link": "https://stackoverflow.com/users/12338102/ross-gurbutt"}, "is_accepted": false, "score": 0, "last_activity_date": 1574277342, "creation_date": 1574277342, "answer_id": 58961778, "question_id": 58961091, "link": "https://stackoverflow.com/questions/58961091/best-way-to-choose-two-random-ints-to-assign-values-to/58961778#58961778", "title": "Best way to choose two random ints to assign values to", "body": "<p>(Disclaimer: I don't love this option, but couldn't think of another way other than reflection which is even nastier)<br>\nYou could define a class that masks the fact that all of the mods are stored as an array and therefore can be indexed using a random number.<br>\nSomething like the following:</p>\n\n<pre><code>    public class StatMods\n    {\n        public int RaceStrMod { get { return this.mods[0]; } set { this.mods[0] = value; } }\n        public int RaceDexMod { get { return this.mods[1]; } set { this.mods[1] = value; } }\n        public int RaceConMod { get { return this.mods[2]; } set { this.mods[2] = value; } }\n        public int RaceIntMod { get { return this.mods[3]; } set { this.mods[3] = value; } }\n        public int RaceWisMod { get { return this.mods[4]; } set { this.mods[4] = value; } }\n        public int RaceChaMod { get { return this.mods[5]; } set { this.mods[5] = value; } }\n\n        private readonly int[] mods;\n        private static readonly Random rand = new Random();\n\n        public StatMods()\n        {\n            this.mods = new int[6];\n        }\n\n        public void ApplyRandomMod(int modification)\n        {\n            this.mods[rand.Next(0, 6)] += modification;\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "is_accepted": false, "score": 2, "last_activity_date": 1574278652, "creation_date": 1574278652, "answer_id": 58962090, "question_id": 58961091, "link": "https://stackoverflow.com/questions/58961091/best-way-to-choose-two-random-ints-to-assign-values-to/58962090#58962090", "title": "Best way to choose two random ints to assign values to", "body": "<p>Has your class introduced you to <code>enum</code> types yet?  If not, is there any restriction on your final project with respect to using language features that weren't taught in the class?</p>\n\n<p>Your question is arguably too broad, as there are many different ways to address this sort of thing even in real-world code, and the classroom context introduces potential roadblocks that while might constrain the question, being unknown they make it impossible to know what answer is actually going to work for you.</p>\n\n<p>That said&hellip;</p>\n\n<p>Ignoring the classroom aspect and focusing only on the problem itself, I would use <code>enum</code> types and dictionaries for this sort of thing. For example:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>enum Attribute\n{\n    Strength,\n    Dexterity,\n    Constitution,\n    Charisma,\n    Intelligence,\n    Wisdom,\n    Count, // must always be last\n}\n\nDictionary&lt;Attribute, int&gt; modifiers = new Dictionary&lt;Attribute, int&gt;();\n</code></pre>\n\n<p>Then you can pick a random attribute like (assuming you have a <code>random</code> variable referencing a <code>Random</code> object&hellip;don't make the classic newbie mistake of creating a new <code>Random</code> object every time you want to pick a new random number):</p>\n\n<pre><code>Attribute attributeToModify = (Attribute)random.Next((int)Attribute.Count);\n</code></pre>\n\n<p>And you can store that selection like:</p>\n\n<pre><code>modifiers[attributeToModify] = 1;\n</code></pre>\n\n<p>This can be used to store however many modifiers you like. You can encapsulate that in an object representing the character itself, or you could put it into a separate <code>AttributeModifiers</code> class. One advantage of doing the latter would be that if you have modifiers that come from different sources, you can track that in the character object as a list of <code>AttributeModifier</code> instances, each in turn keeping track of what the actual source of those modifiers are.</p>\n\n<p>This just barely scratches the surface. As I noted, the question itself is fairly broad. But I strongly recommend using the available language features to ensure that your variables represent things in a type-specific way, rather than just using <code>int</code> values for things that aren't really integers, and to use collection classes that more correctly represent the <em>semantics</em> of what your code is intended to do.</p>\n\n<p>Note that this also means you probably should have an <code>enum</code> type for the races. E.g.:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>enum Race\n{\n    Dwarf,\n    Elf,\n    HalfElf,\n    Halfling,\n    HalfOrc,\n    Human,\n    // etc.\n}\n</code></pre>\n\n<p>And your chain of <code>if</code> statements is probably better represented as a <code>switch</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Attribute racialMod;\n\nswitch (race)\n{\n    case Human:\n    case Halfling:\n    // etc.\n        racialMod = Attribute.Strength;\n        break;\n    case Elf:\n    case HalfElf:\n    // etc.\n        racialMod = Attribute.Dexterity;\n        break;\n}\n\nmodifiers[racialMod] = 2;\n</code></pre>\n\n<p>Something like that. The point is to make sure the code reads more like what the original specification would say (if you actually had written one). This will make the code easier to understand, and it will be less likely for you to put bugs in the code (e.g. you accidentally type the wrong magic, unnamed integer).</p>\n"}, {"comments": [{"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 1, "creation_date": 1574345023, "post_id": 58964573, "comment_id": 104206550, "body": "Variations on the &quot;select one fewer number, then avoid the already-selected number&quot; approach: Choose n between 0 and 3.  Set y to <code>n==x ? 4 : n</code> or to <code>n &lt; x ? n : n+1</code>.  The first variation is incredibly similar to the OP&#39;s original solution."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 1, "last_activity_date": 1574290571, "last_edit_date": 1574290571, "creation_date": 1574289931, "answer_id": 58964573, "question_id": 58961091, "link": "https://stackoverflow.com/questions/58961091/best-way-to-choose-two-random-ints-to-assign-values-to/58964573#58964573", "title": "Best way to choose two random ints to assign values to", "body": "<blockquote>\n  <p>I am creating a Dungeons and Dragons Character Creator.</p>\n</blockquote>\n\n<p>That's a fun beginner project; I did the same when I was learning to program.</p>\n\n<blockquote>\n  <p>I need to find a way to randomly select two of the remaining...</p>\n</blockquote>\n\n<p>You need to find two <em>distinct</em> values, call then x and y. The solution you've arrived at is:</p>\n\n<ul>\n<li>Generate x</li>\n<li>Try to generate y ten times</li>\n<li>If no attempt succeeded to find a distinct y, hard-code a choice.</li>\n</ul>\n\n<p>That works, and you almost never have to use the hard-coded choice. But I thought you might be interested to know that there is an easier way to generate two distinct numbers.  Let's suppose we want two distinct numbers from 0, 1, 2, 3 or 4. (Obviously if you want a different range, say, 1 through 5, you can solve that problem by generating two distinct numbers 0->4 and then adding one to each.)</p>\n\n<p>The improved algorithm is:</p>\n\n<ul>\n<li>Choose x between 0 and 4 as usual.</li>\n<li>Choose n between 1 and 4.</li>\n<li><code>y = (x + n) % 5;</code></li>\n</ul>\n\n<p>Think about it this way.  Suppose we make a list like this:</p>\n\n<pre><code>0, 1, 2, 3, 4, 0, 1, 2, 3\n</code></pre>\n\n<p>We randomly choose x from the first five entries on the list, and then we choose y by stepping <em>forwards</em> between 1 and 4 steps. Since the list does not <em>repeat</em> in one to four steps, we know that we'll get two unique elements. The math does the equivalent of that.</p>\n\n<p>You could similarly have used <code>%</code> in your program:</p>\n\n<pre><code>if (randomX == 5)\n  randomY = 1;\nelse\n  randomY = randomX + 1;\n</code></pre>\n\n<p>could be written</p>\n\n<pre><code>randomY = randomX % 5 + 1\n</code></pre>\n\n<p>If you're unfamiliar with <code>%</code>, it is the <em>remainder</em> operator. It is the complement of the <code>/</code> operator.  The rule is:</p>\n\n<pre><code>int x = whatever;\nint y = whatever;\nint r = x % y;\n</code></pre>\n\n<p>is the same as:</p>\n\n<pre><code>int r = x - (x / y) * y;\n</code></pre>\n\n<p>That is, it is the <em>remainder</em> when x is divided by y.  Keep in mind that the remainder can be negative!</p>\n"}], "owner": {"reputation": 19, "user_id": 12405687, "user_type": "registered", "profile_image": "https://graph.facebook.com/2884964548182248/picture?type=large", "display_name": "Toby Kennedy", "link": "https://stackoverflow.com/users/12405687/toby-kennedy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1574290571, "creation_date": 1574274459, "last_edit_date": 1574287703, "question_id": 58961091, "link": "https://stackoverflow.com/questions/58961091/best-way-to-choose-two-random-ints-to-assign-values-to", "title": "Best way to choose two random ints to assign values to", "body": "<p>I am creating a Dungeons and Dragons Character Creator. There is a randomize feature that is going to create a complete character sheet. There is a part that I have gotten to and I am not quite sure the best way to proceed.  </p>\n\n<p>The way I have the racial modifiers set up is with if statements. Here is an example.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>if (raceInt == 0 || raceInt == 2 || raceInt == 10)\n{\n    raceStrMod = 2;\n}\n\nif (raceInt == 3 || raceInt == 4 || raceInt == 5 || raceInt == 11 || raceInt == 12)\n{\n    raceDexMod = 2;\n}\n</code></pre>\n\n<p>However there are races that have modifiers that let you select two stats to add a modifier to, such as Strength or Dexterity. What would be the best way to select two random ints for just those races? </p>\n\n<p>For example, the half-elf race which would get +2 to Dex and then +1 to two other random stats. So I need to find a way to randomly select two of the remaining ints to make the value = 1.</p>\n\n<p>My race mod ints are initialized as</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>int raceStrMod = 0;\nint raceDexMod = 0;\nint raceConMod = 0;\nint raceIntMod = 0;\nint raceWisMod = 0;\nint raceChaMod = 0;\n</code></pre>\n\n<p>Then the if statements assign a value dependent on which race was randomly selected.</p>\n\n<p><strong>Thank you all for the input! This is how I ended up coding it</strong></p>\n\n<pre><code>        if (raceInt == 9)\n        {\n            int randomX = rnd.Next(1, 5);\n            int randomY = rnd.Next(1, 5);\n\n            int attempts = 0;\n            while (randomX == randomY &amp;&amp; attempts &lt; 10)\n            {\n                randomY = rnd.Next(1, 5);\n                attempts++;\n            }\n\n            //if they are still not unique after 10 attempts\n            if (randomX == randomY)\n            {\n                if (randomX == 5)\n                    randomY = 1;\n                else\n                    randomY = randomX + 1;\n            }\n\n            int[] randomNumbers = { randomX, randomY };\n\n            foreach (int i in randomNumbers)\n            {\n                switch (i)\n                {\n                    case 1:\n                        raceStrMod = 1;\n                        break;\n                    case 2:\n                        raceDexMod = 1;\n                        break;\n                    case 3:\n                        raceConMod = 1;\n                        break;\n                    case 4:\n                        raceIntMod = 1;\n                        break;\n                    case 5:\n                        raceWisMod = 1;\n                        break;\n                }\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "sockets", "asynchronous"], "comments": [{"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1574274751, "post_id": 58961077, "comment_id": 104177479, "body": "<code>AsyncState</code> is what you pass as the last parameter to the <code>Begin...</code> method -- and as you&#39;re passing <code>null</code>, that&#39;s exactly what you get. Pass the socket instead. (Better yet, start using <code>async</code> / <code>await</code> instead of old-style async programming for code that&#39;s much easier to understand.)"}], "answers": [{"tags": [], "owner": {"reputation": 528, "user_id": 7377486, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1924497324448845/picture?type=large", "display_name": "Danial Ahmed", "link": "https://stackoverflow.com/users/7377486/danial-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1574275488, "creation_date": 1574275488, "answer_id": 58961327, "question_id": 58961077, "link": "https://stackoverflow.com/questions/58961077/asyncstate-always-null-socket-programming-multi-client-server/58961327#58961327", "title": "AsyncState always null socket programming multi client server", "body": "<p>as @Jeoroem said in comment instead of passing null I had to pass socket to BeginReceive.</p>\n"}], "owner": {"reputation": 528, "user_id": 7377486, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1924497324448845/picture?type=large", "display_name": "Danial Ahmed", "link": "https://stackoverflow.com/users/7377486/danial-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "closed_date": 1574280063, "answer_count": 1, "score": 0, "last_activity_date": 1574275488, "creation_date": 1574274408, "question_id": 58961077, "link": "https://stackoverflow.com/questions/58961077/asyncstate-always-null-socket-programming-multi-client-server", "closed_reason": "Duplicate", "title": "AsyncState always null socket programming multi client server", "body": "<p>I am trying to create a server that can handle multiple clients, I am able to connect multiple clients but as soon as send something I get an error \"System.NullReferenceException: 'Object reference not set to an instance of an object.'\", now this is because my AR.AsyncState in ReceiveCallBack is always null.</p>\n\n<pre><code>private void AcceptCallBack(IAsyncResult AR)\n{\n    try\n    {\n\n\n    Socket c; c = _s.EndAccept(AR);\n        clients.Add(c);\n        if (richTextBox1.InvokeRequired)\n            richTextBox1.Invoke(new Action(() =&gt; richTextBox1.Text += \"Client Connected: \" + c.RemoteEndPoint + \"\\r\\n\"));\n        else\n            richTextBox1.Text += c.RemoteEndPoint + \"\\r\\n\";\n        _data = new byte[c.ReceiveBufferSize];\n        c.BeginReceive(_data, 0, _data.Length, SocketFlags.None, new AsyncCallback(ReceiveCallBack), null);\n        _s.BeginAccept(new AsyncCallback(AcceptCallBack), null);\n    }\n    catch (Exception e)\n    {\n        MessageBox.Show(\"An error AcceptCallBack.\");\n    }\n}\n\nprivate void ReceiveCallBack(IAsyncResult AR)\n{\n    try\n    {\n        //Socket s = c;\n        var s = (Socket) AR.AsyncState;\n        var rec = s.EndReceive(AR);\n        var thread = new Thread(new ThreadStart(() =&gt; ReceiveData(rec)));\n        thread.Start();\n        s.BeginReceive(_data, 0, _data.Length, SocketFlags.None, new AsyncCallback(ReceiveCallBack), null);\n    }\n    catch (SocketException e)\n    {\n        MessageBox.Show(e.ToString());\n    }\n}\n\nprivate void ReceiveData(int rec)\n{\n    var data = Encoding.ASCII.GetString(_data, 0, rec);\n    Append(data);\n}\n\nprivate void Append(string data)\n{\n    var invoker = new MethodInvoker(delegate\n    {\n        richTextBox1.Text += data + \"\\r\\n\";\n    });\n    Invoke(invoker);\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "session", "asp.net-mvc-5", "httpcontext"], "comments": [{"owner": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1574275975, "post_id": 58960869, "comment_id": 104178063, "body": "Stupid question: Do you have <code>&lt;sessionState&gt;</code> defined in the <code>&lt;system.web&gt;</code> section of your web.config file?"}, {"owner": {"reputation": 1803, "user_id": 3773983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bKc9i.jpg?s=128&g=1", "display_name": "Dave Barnett", "link": "https://stackoverflow.com/users/3773983/dave-barnett"}, "edited": false, "score": 0, "creation_date": 1575148275, "post_id": 58960869, "comment_id": 104470217, "body": "Why do you need to access the value in the constructor rather than say inside the action method?"}], "owner": {"reputation": 167, "user_id": 8112522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1874d4072a121fdc01c6669c69fa30?s=128&d=identicon&r=PG&f=1", "display_name": "Parvez", "link": "https://stackoverflow.com/users/8112522/parvez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574274677, "creation_date": 1574273574, "last_edit_date": 1574274677, "question_id": 58960869, "link": "https://stackoverflow.com/questions/58960869/null-reference-exception-on-access-httpcontext-session-value-in-mvc-5", "title": "Null reference exception on access HttpContext.Session value in MVC 5", "body": "<p>I got a <code>NullReferenceException</code> on access value of session from one controller which set on another controller though <code>HttpContext.Session</code>. This question might asked before and have an answer but non of answer is not fit with my problem. \nHere is my code for set session value:</p>\n\n<pre><code>public class OneController : Controller\n{\n    public async Task&lt;ActionResult&gt; Index(string returnURL = \"\")\n    {\n         HttpContext.Session[\"Message\"] = \"Hello World!\";\n    }\n            if (!string.IsNullOrEmpty(returnURL))\n            {\n                return Redirect(returnURL);\n            }\n            else\n            {\n                return RedirectToAction(\"Index\", \"Another\");\n            }\n}\n</code></pre>\n\n<p>And here how I tried to get its value from another controller:</p>\n\n<pre><code>public class AnotherController : Controller\n{\n    public AnotherController ()\n    {\n\n        var message = HttpContext.Session[\"Message\"] != null ? HttpContext.Session[\"Message\"].ToString() : \"N/A\"; //This line cause null reference exception\n    }\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "android", "xamarin"], "answers": [{"tags": [], "owner": {"reputation": 62, "user_id": 2248875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7a76529c16e9823447420aa08351d01?s=128&d=identicon&r=PG", "display_name": "Bryan Noronha", "link": "https://stackoverflow.com/users/2248875/bryan-noronha"}, "is_accepted": true, "score": 0, "last_activity_date": 1574275571, "creation_date": 1574275571, "answer_id": 58961349, "question_id": 58960793, "link": "https://stackoverflow.com/questions/58960793/xamarin-web-container-avoid-back-button-close-the-application/58961349#58961349", "title": "Xamarin Web container avoid back button close the application", "body": "<p>In your Content Page who will have to override the OnBackButtonPressed event and return true. You must return true because it signifies that the developer has handled the implementation of the back button click.</p>\n\n<pre><code>protected override bool OnBackButtonPressed()\n{\n    return true;\n}\n</code></pre>\n"}], "owner": {"reputation": 142, "user_id": 2014368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5a01079b11a6226cd3b74a9ce39666?s=128&d=identicon&r=PG", "display_name": "David Alejandro Garc&#237;a Garc&#237;a", "link": "https://stackoverflow.com/users/2014368/david-alejandro-garc%c3%ada-garc%c3%ada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 58961349, "answer_count": 1, "score": 0, "last_activity_date": 1574275571, "creation_date": 1574273237, "question_id": 58960793, "link": "https://stackoverflow.com/questions/58960793/xamarin-web-container-avoid-back-button-close-the-application", "title": "Xamarin Web container avoid back button close the application", "body": "<p>I'm new to Xamarin, I'm using this <a href=\"https://docs.microsoft.com/en-us/xamarin/xamarin-forms/user-interface/webview?tabs=windows\" rel=\"nofollow noreferrer\">example</a> as a base for my on application.\nI just noticed when I click back button the application get closed, I would like to avoid that.</p>\n\n<p>do you have some hints and recommendations, maybe examples?</p>\n"}, {"tags": ["c#", "unit-testing", "random", "nunit"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1574274635, "post_id": 58960725, "comment_id": 104177414, "body": "Note that code in the post is absolutely wrong example of using <code>Random</code> - <a href=\"https://stackoverflow.com/questions/767999/random-number-generator-only-generating-one-random-number\" title=\"random number generator only generating one random number\">stackoverflow.com/questions/767999/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1574274467, "post_id": 58960815, "comment_id": 104177341, "body": "You may want to check linked duplicate too - random is not just distinct - i.e. &quot;In addition to testing that the function returns a date in the desired range, you want to ensure that the result is well-distributed.&quot; I.e. the test you&#39;ve suggested happily accepts <code>public double ReturnDevID =&gt; lastValue ++;</code> as &quot;random&quot;."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1574274853, "post_id": 58960815, "comment_id": 104177540, "body": "Side note: the code sample shows wrong usage of <code>Random</code>..."}, {"owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1574290796, "post_id": 58960815, "comment_id": 104184431, "body": "@AlexeiLevenkov Yes, you are correct, the sample shows the wrong usage of Random, which I indicated in the answer. On the other hand, the question was not &quot;is my random implementation correct?&quot;, the question was &quot;how do I test it?&quot;.  I don&#39;t agree with the assesment that it&#39;s a duplicate. The linked post just shows correct usage of random, not how to test it"}, {"owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1574290837, "post_id": 58960815, "comment_id": 104184454, "body": "With regards to how to test it, this is an approximation. I personally don&#39;t see the value in testing it, but would you mind elaborating on a proper way to test it?"}], "tags": [], "owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "is_accepted": false, "score": 0, "last_activity_date": 1574273331, "creation_date": 1574273331, "answer_id": 58960815, "question_id": 58960725, "link": "https://stackoverflow.com/questions/58960725/nunit-unit-testing-random-number/58960815#58960815", "title": "Nunit unit testing random number", "body": "<p>It's a bit of weird test to write. I personally don't think you need it, but if you want to you could try something like this (I also changed your implementation because it returns an instance of Random, not a random float):</p>\n\n<pre><code>public double ReturnDevID()\n{\n     var rnd = new Random();\n     return rnd.NextDouble();\n}\n\npublic void TestRandom()\n{\n     // Call the method 100 times and save the result in a list\n     var randoms = Enumerable.Range(0, 100)\n                             .Select(i =&gt; ReturnDevID())\n                             .ToList();\n\n      // Make sure you have no duplicates\n      Assert.AreEqual(randoms.Count, randoms.Distinct().Count());\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10306084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KqblV.jpg?s=128&g=1", "display_name": "Stickwalker Development", "link": "https://stackoverflow.com/users/10306084/stickwalker-development"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "closed_date": 1574274347, "answer_count": 1, "score": -1, "last_activity_date": 1574274134, "creation_date": 1574273035, "last_edit_date": 1574274134, "question_id": 58960725, "link": "https://stackoverflow.com/questions/58960725/nunit-unit-testing-random-number", "closed_reason": "Duplicate", "title": "Nunit unit testing random number", "body": "<p>I'm looking to unit test a method that returns a random float as an ID. I am trying to use Red Green Refactor, but am stumped by the randomness of the code. Below find the method I am trying to test. I am aware that I am technically supposed to write the test first, but I don't know how to test for random.</p>\n\n<pre><code>public Random ReturnDevID()\n                {\n                    var rnd = new Random();\n                    rnd.NextDouble();\n                    return rnd;\n                }\n</code></pre>\n"}, {"tags": ["javascript", "c#", "asp.net", "webforms"], "comments": [{"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1574273066, "post_id": 58960712, "comment_id": 104176650, "body": "Is it web forms application or mvc application? Where the <code>fillList()</code> method is defined?"}, {"owner": {"reputation": 11, "user_id": 12399203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cijkb.jpg?s=128&g=1", "display_name": "Alex Palacios", "link": "https://stackoverflow.com/users/12399203/alex-palacios"}, "reply_to_user": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1574273094, "post_id": 58960712, "comment_id": 104176659, "body": "Web Forms Application."}, {"owner": {"reputation": 11, "user_id": 12399203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cijkb.jpg?s=128&g=1", "display_name": "Alex Palacios", "link": "https://stackoverflow.com/users/12399203/alex-palacios"}, "edited": false, "score": 0, "creation_date": 1574273812, "post_id": 58960712, "comment_id": 104177030, "body": "i think yes, but if i set my method as &quot;static&quot; i can&#39;t call my html elements. The elements: hiddenControl and lisybox."}, {"owner": {"reputation": 11, "user_id": 12399203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cijkb.jpg?s=128&g=1", "display_name": "Alex Palacios", "link": "https://stackoverflow.com/users/12399203/alex-palacios"}, "edited": false, "score": 0, "creation_date": 1574274877, "post_id": 58960712, "comment_id": 104177548, "body": "It works. Thank you."}], "owner": {"reputation": 11, "user_id": 12399203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cijkb.jpg?s=128&g=1", "display_name": "Alex Palacios", "link": "https://stackoverflow.com/users/12399203/alex-palacios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 1, "closed_date": 1574274879, "answer_count": 0, "score": 0, "last_activity_date": 1574273177, "creation_date": 1574272961, "last_edit_date": 1574273177, "question_id": 58960712, "link": "https://stackoverflow.com/questions/58960712/how-to-call-a-c-method-from-javascript-code-with-ajax-in-asp-net", "closed_reason": "Duplicate", "title": "How to call a C# method from JavaScript code with Ajax in ASP.net", "body": "<p>i'm making a web app on asp.net and i need to call this method:</p>\n\n<pre><code> protected void fillList() {\n        string strSql;\n        dato = Convert.ToInt32(hiddenControl.Value);\n        SqlConnection conn = new SqlConnection(ConfigurationManager.ConnectionStrings[\"default\"].ToString());\n        conn.Open();\n        strSql = \"SELECT DISTINCT something FROM table WHERE data = \" + dato;\n        SqlCommand camAND = new SqlCommand(strSql, conn);\n        System.Data.DataTable tablainc = new System.Data.DataTable();\n        camAND.CommandTimeout = 36000;\n        tablainc.Load(camAND.ExecuteReader());\n\n\n        foreach (DataRow dtr in tablainc.Rows)\n        {\n            list.Items.Add(dtrw[0].ToString());  \n        }\n\n    }\n</code></pre>\n\n<p>That method is for insert items on listbox , i need do that when the javascript event OnBlur happens, this is my JS function: </p>\n\n<pre><code> function frmt_Date() {\nvar text = document.getElementById(\"txperiodo\").value;\nvar newText = text.replace(\"/\", \"\");\ndocument.getElementById(\"hiddenControl\").value = newText;\nvar periodo = parseInt(newText);\ndocument.getElementById(\"hiddenControl\").value = periodo;\n</code></pre>\n\n<p>How can i call my method in Ajax? \nthis is my html input:</p>\n\n<pre><code> &lt;input runat=\"server\" id=\"txperiodo\" class=\"cc1\" type=\"text\" placeholder=\"AAAA/MM\" maxlength=\"7\" onblur=\"frmt_Date()\"/&gt; \n</code></pre>\n\n<p>Thank you and please tell me if im wrong. </p>\n"}, {"tags": ["c#", "xaml", "xamarin.forms"], "comments": [{"owner": {"reputation": 7909, "user_id": 202179, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/xibo7.jpg?s=128&g=1", "display_name": "Ivan I\u010din", "link": "https://stackoverflow.com/users/202179/ivan-i%c4%8din"}, "edited": false, "score": 0, "creation_date": 1574277685, "post_id": 58960604, "comment_id": 104178842, "body": "Show some more code. Your source needs to implement IGrouping so it is not clear how this works at all, what is your source what is your grouping key etc. Also most of people have no idea what is ObservableRangeCollection as it is not a standard control."}, {"owner": {"reputation": 628, "user_id": 2733492, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d2a9740a9c3e6e4ada526ddd33f80639?s=128&d=identicon&r=PG&f=1", "display_name": "Joe B", "link": "https://stackoverflow.com/users/2733492/joe-b"}, "reply_to_user": {"reputation": 7909, "user_id": 202179, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/xibo7.jpg?s=128&g=1", "display_name": "Ivan I\u010din", "link": "https://stackoverflow.com/users/202179/ivan-i%c4%8din"}, "edited": false, "score": 0, "creation_date": 1574288023, "post_id": 58960604, "comment_id": 104183468, "body": "@IvanI\u010din I updated my code"}], "answers": [{"comments": [{"owner": {"reputation": 628, "user_id": 2733492, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d2a9740a9c3e6e4ada526ddd33f80639?s=128&d=identicon&r=PG&f=1", "display_name": "Joe B", "link": "https://stackoverflow.com/users/2733492/joe-b"}, "edited": false, "score": 0, "creation_date": 1574715333, "post_id": 58968187, "comment_id": 104322506, "body": "i see my problem my <code>PropertyChangedEventHandler</code> stays null"}, {"owner": {"reputation": 7502, "user_id": 6717445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZcOO7.jpg?s=128&g=1", "display_name": "Cherry Bu - MSFT", "link": "https://stackoverflow.com/users/6717445/cherry-bu-msft"}, "reply_to_user": {"reputation": 628, "user_id": 2733492, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d2a9740a9c3e6e4ada526ddd33f80639?s=128&d=identicon&r=PG&f=1", "display_name": "Joe B", "link": "https://stackoverflow.com/users/2733492/joe-b"}, "edited": false, "score": 0, "creation_date": 1575445553, "post_id": 58968187, "comment_id": 104564701, "body": "@Joe B,According to your code and description, I can not reproduce your issue, so can you provide one simple sample that can reproduce your issue at github, I will try to download and reproduce your issue at my side."}], "tags": [], "owner": {"reputation": 7502, "user_id": 6717445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZcOO7.jpg?s=128&g=1", "display_name": "Cherry Bu - MSFT", "link": "https://stackoverflow.com/users/6717445/cherry-bu-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1574315860, "creation_date": 1574315860, "answer_id": 58968187, "question_id": 58960604, "link": "https://stackoverflow.com/questions/58960604/xamarin-forms-listview-group-header-not-being-updated-on-property-changed/58968187#58968187", "title": "Xamarin Forms Listview group header not being updated on property changed", "body": "<p>According to your description,  you bind Foo  in ListView Group header, you said that group header don't update when property changed, but I don't see where do you change this property, I do one sample, you can take a look, I change the first item group header when button click.</p>\n\n<pre><code> public class PersonList1 : ObservableCollection&lt;Person1&gt;, INotifyPropertyChanged\n{\n    private string _heading;\n    public string Heading\n    {\n        get { return _heading; }\n        set\n        {\n            _heading = value;\n            RaisePropertyChanged(\"Heading\");\n        }\n    }\n    public ObservableCollection&lt;Person1&gt; Persons =&gt; this;\n\n\n    public event PropertyChangedEventHandler PropertyChanged;       \n    public void RaisePropertyChanged(string propertyName)\n    {\n        PropertyChangedEventHandler handler = PropertyChanged;\n        if (handler != null)\n        {\n            handler(this, new PropertyChangedEventArgs(propertyName));\n        }\n    }\n}\npublic class Person1\n{\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n    public string DisplayName\n    {\n        get\n        {\n            return $\"{LastName}, {FirstName}\";\n        }\n    }\n}\n\n&lt;StackLayout&gt;\n        &lt;ListView IsGroupingEnabled=\"true\" ItemsSource=\"{Binding ListOfPeople}\"&gt;\n            &lt;ListView.GroupHeaderTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;ViewCell&gt;\n                        &lt;Label Text=\"{Binding Heading}\" /&gt;\n                    &lt;/ViewCell&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ListView.GroupHeaderTemplate&gt;\n\n            &lt;ListView.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;ViewCell&gt;\n                        &lt;Label Text=\"{Binding DisplayName}\" /&gt;\n                    &lt;/ViewCell&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ListView.ItemTemplate&gt;\n        &lt;/ListView&gt;\n\n        &lt;Button\n            x:Name=\"btn1\"\n            Clicked=\"Btn1_Clicked\"\n            Text=\"change header\" /&gt;\n    &lt;/StackLayout&gt;\n\npublic partial class Page15 : ContentPage\n{\n    public ObservableCollection&lt;PersonList1&gt; ListOfPeople { get; set; }\n\n\n    public Page15 ()\n    {\n        InitializeComponent ();\n\n        var sList = new PersonList1()\n{\n    new Person1() { FirstName = \"Sally\", LastName = \"Sampson\" },\n    new Person1() { FirstName = \"Taylor\", LastName = \"Swift\" },\n    new Person1() { FirstName = \"John\", LastName = \"Smith\" }\n};\n        sList.Heading = \"S\";\n\n        var dList = new PersonList1()\n{\n    new Person1() { FirstName = \"Jane\", LastName = \"Doe\" }\n};\n        dList.Heading = \"D\";\n\n        var jList = new PersonList1()\n{\n    new Person1() { FirstName = \"Billy\", LastName = \"Joel\" }\n};\n        jList.Heading = \"J\";\n\n        ListOfPeople = new ObservableCollection&lt;PersonList1&gt;()\n{\n    sList,\n    dList,\n    jList\n};\n\n        this.BindingContext = this;\n\n    }\n\n    private void Btn1_Clicked(object sender, EventArgs e)\n    {\n        ListOfPeople[0].Heading = \"this is test\";\n    }\n}\n</code></pre>\n\n<p>You can see the the first ListView group header property change as \"this is test\".</p>\n\n<p>If my reply help you, please remember to mark my reply as answer, thanks.</p>\n"}, {"tags": [], "owner": {"reputation": 826, "user_id": 3423267, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1008ca69258e4a3dfb983633397796a3?s=128&d=identicon&r=PG&f=1", "display_name": "bhavya joshi", "link": "https://stackoverflow.com/users/3423267/bhavya-joshi"}, "is_accepted": false, "score": -1, "last_activity_date": 1574323166, "creation_date": 1574323166, "answer_id": 58969930, "question_id": 58960604, "link": "https://stackoverflow.com/questions/58960604/xamarin-forms-listview-group-header-not-being-updated-on-property-changed/58969930#58969930", "title": "Xamarin Forms Listview group header not being updated on property changed", "body": "<p>Your question is not complete enough. Please add detail of how you are calling/setting values to property.</p>\n\n<p>BTW, instead of using this(a wild guess,as you have not provided enough info):</p>\n\n<pre><code>public List&lt;MyGroup&gt;  GroupList { get =&gt; groupList ;set =&gt; SetProperty(ref groupList, value); }\n</code></pre>\n\n<p>try this:</p>\n\n<pre><code>public List&lt;MyGroup&gt;  GroupList {\nget{\n     return groupList;\n}\nset{\n     groupList = value;\n     OnPropertyChanged(nameof(GroupList));\n}\n</code></pre>\n"}], "owner": {"reputation": 628, "user_id": 2733492, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d2a9740a9c3e6e4ada526ddd33f80639?s=128&d=identicon&r=PG&f=1", "display_name": "Joe B", "link": "https://stackoverflow.com/users/2733492/joe-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 428, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1574323166, "creation_date": 1574272580, "last_edit_date": 1574298083, "question_id": 58960604, "link": "https://stackoverflow.com/questions/58960604/xamarin-forms-listview-group-header-not-being-updated-on-property-changed", "title": "Xamarin Forms Listview group header not being updated on property changed", "body": "<p>I have a Grouped ListView bound to <code>MyGroup</code> (see below) that contains some property but when that property is being changed the view is not getting updated although I call <code>OnPropertyChanged</code></p>\n\n<p>My Class</p>\n\n<pre><code>     public class MyGroup : ObservableCollection&lt;Items&gt;, INotifyPropertyChanged\n     {\n         private string foo;\n         public string Foo \n         {\n             get =&gt; foo;\n             set \n               {\n                  foo = value;\n                  OnPropertyChanged(nameof(Foo));\n               }\n          }\n         ...\n     }\n</code></pre>\n\n<p>My View </p>\n\n<pre><code>  &lt;ListView ItemSource=\"{Binding GroupList}\"&gt;\n     &lt;ListView.GroupHeaderTemplate&gt;\n            &lt;DataTemplate&gt;\n                &lt;ViewCell&gt;\n                    &lt;Grid BackgroundColor=\"#2196F3\"\n                             Padding=\"5,5,5,5\"&gt;\n                        &lt;Grid.ColumnDefinitions&gt;\n                            &lt;ColumnDefinition Width=\"Auto\"/&gt;\n                            &lt;ColumnDefinition/&gt;\n                            &lt;ColumnDefinition Width=\"Auto\"/&gt;\n                        &lt;/Grid.ColumnDefinitions&gt;\n                        &lt;Label FontSize=\"Medium\" Text=\"{Binding Header}\" Grid.Column=\"1\" FontAttributes=\"Italic\" TextColor=\"White\"/&gt;\n                        &lt;Label Text=\"{Binding Foo}\" TextColor=\"White\" FontSize=\"Medium\" Grid.Column=\"1\" HorizontalOptions=\"End\"/&gt;\n                    &lt;/Grid&gt;\n                &lt;/ViewCell&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/ListView.GroupHeaderTemplate&gt;\n       &lt;/ListView&gt;\n</code></pre>\n\n<p>MyViewModel</p>\n\n<pre><code>   public List&lt;MyGroup&gt;  GroupList { get =&gt; groupList ;set =&gt; SetProperty(ref groupList, value); }\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "date", "filter", "asp.net-core-mvc"], "comments": [{"owner": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 3, "creation_date": 1574272817, "post_id": 58960590, "comment_id": 104176533, "body": "You would probably need a <code>.Where(d =&gt; d.date &gt;= startOfNextWeekDate)</code> to filter out older dates"}, {"owner": {"reputation": 363, "user_id": 9254064, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--YqICS4wLN4/AAAAAAAAAAI/AAAAAAAABGY/N7LpFw-EXeA/photo.jpg?sz=128", "display_name": "Craws", "link": "https://stackoverflow.com/users/9254064/craws"}, "reply_to_user": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 0, "creation_date": 1574274271, "post_id": 58960590, "comment_id": 104177264, "body": "Thanks, I will try that out!"}], "answers": [{"tags": [], "owner": {"reputation": 363, "user_id": 9254064, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--YqICS4wLN4/AAAAAAAAAAI/AAAAAAAABGY/N7LpFw-EXeA/photo.jpg?sz=128", "display_name": "Craws", "link": "https://stackoverflow.com/users/9254064/craws"}, "is_accepted": true, "score": 0, "last_activity_date": 1574283092, "creation_date": 1574283092, "answer_id": 58963177, "question_id": 58960590, "link": "https://stackoverflow.com/questions/58960590/filter-specifc-dates-in-asp-net-core-mvc/58963177#58963177", "title": "Filter specifc dates in ASP.net Core mvc", "body": "<p>Found a suitable solution:</p>\n\n<pre><code>    public ViewResult List()\n    {\n        DateTime startOfCurrentWeek = DateTime.Today.AddDays(-1 * (int)(DateTime.Today.DayOfWeek));\n        DateTime startOfNextWeek = startOfCurrentWeek.AddDays(8);\n        DateTime endOfNextWeek = startOfCurrentWeek.AddDays(14);\n\n        return View(repository.Days\n            .Where(d =&gt; d.date &gt;= startOfNextWeek &amp;&amp; d.date &lt;= endOfNextWeek));\n    }\n</code></pre>\n\n<p>What this code does is:</p>\n\n<ol>\n<li>Get this weeks start date (startOfCurrentWeek)</li>\n<li>Adds 8 days to make it start at a monday, next week(startOfNextWeek)</li>\n<li>Adds 14 days to the current week's start day, to get the last day of next week (endOfNextWeek)</li>\n<li>returns all days that are equal or after the start of next week's monday (d => d.date >= startOfNextWeek)</li>\n<li>return no values after sunday of next week, thus limits the output to the 7 days of next week (d.date &lt;= endOfNextWeek)</li>\n</ol>\n"}], "owner": {"reputation": 363, "user_id": 9254064, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--YqICS4wLN4/AAAAAAAAAAI/AAAAAAAABGY/N7LpFw-EXeA/photo.jpg?sz=128", "display_name": "Craws", "link": "https://stackoverflow.com/users/9254064/craws"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 503, "favorite_count": 0, "accepted_answer_id": 58963177, "answer_count": 1, "score": 0, "last_activity_date": 1574425050, "creation_date": 1574272536, "last_edit_date": 1574425050, "question_id": 58960590, "link": "https://stackoverflow.com/questions/58960590/filter-specifc-dates-in-asp-net-core-mvc", "title": "Filter specifc dates in ASP.net Core mvc", "body": "<p>I currently work on an agenda where I want to return the days from the upcomming week.</p>\n\n<p>The code code in my controller for this view is as follows:</p>\n\n<pre><code>public ViewResult List()\n{\n\n    return View(repository.Days\n        .OrderBy(d =&gt; d.date));\n}\n</code></pre>\n\n<p>However, this function only orders and returns all the dates and not just next week's days.\nI wonder if someone can help me with getting the dates/days of the upcomming week and thus the the sorting operator this requires.</p>\n"}, {"tags": ["c#", "unit-testing", "mstest"], "answers": [{"tags": [], "owner": {"reputation": 831, "user_id": 1042067, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cb28325895efa4c41abebfa4397a2dc5?s=128&d=identicon&r=PG", "display_name": "runfastman", "link": "https://stackoverflow.com/users/1042067/runfastman"}, "is_accepted": true, "score": 0, "last_activity_date": 1574376957, "creation_date": 1574376957, "answer_id": 58984987, "question_id": 58960539, "link": "https://stackoverflow.com/questions/58960539/mstest-cant-call-a-library-built-under-x86/58984987#58984987", "title": "MSTest cant call a library built under x86", "body": "<p>This is an issue with using \".Net Core\" MSTesting project on a \".Net Framework\". Changing to a \".Net Framwork\" Unit Testing project did not have the same issue.</p>\n"}], "owner": {"reputation": 831, "user_id": 1042067, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cb28325895efa4c41abebfa4397a2dc5?s=128&d=identicon&r=PG", "display_name": "runfastman", "link": "https://stackoverflow.com/users/1042067/runfastman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 58984987, "answer_count": 1, "score": 0, "last_activity_date": 1574376957, "creation_date": 1574272306, "last_edit_date": 1574272660, "question_id": 58960539, "link": "https://stackoverflow.com/questions/58960539/mstest-cant-call-a-library-built-under-x86", "title": "MSTest cant call a library built under x86", "body": "<p>I am trying to add a MSTest project to call a library that can only be compiled as x86. When putting together a test project I have discovered that even if I have the <code>\"Test-&gt;Test Setting-&gt;Default Processor Architecture\"</code> set to x86 I still I must have all referenced projects and the MSTest project platform target as <code>\"Any CPU\"</code>. </p>\n\n<p>Otherwise I get the exception when trying to debug or run the tests - </p>\n\n<pre><code>\"System.BadImageFormatException: Could not load file or assembly '[*ClassLibraryName*], Version=1.0.0.0, Culture=neutral, PublicKeyToken=null'. An attempt was made to load a program with an incorrect format.\"\n</code></pre>\n\n<p>How do I set it up so I can test and debug the tests for a x86 library?</p>\n\n<p>Other Info\nMSTest project - .Net Core 2.1\nClass Library - .Net Framework 4.6.1</p>\n"}, {"tags": ["c#", "f#"], "comments": [{"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 1, "creation_date": 1574273892, "post_id": 58960535, "comment_id": 104177079, "body": "What&#39;s the type of <code>GetItems</code> in the F# code? The function provided to <code>AsyncSeq.map</code> appears to have a type like <code>item -&gt; ((item -&gt; AsyncResult&lt;&#39;a&gt;) -&gt; AsyncResult&lt;&#39;a&gt;)</code> so <code>handleItem</code> is a function provided as an argument. It looks like your C# return type should be something like <code>Task&lt;IEnumerable&lt;Func&lt;Item, Task&lt;T&gt;&gt;&gt;&gt;</code>."}, {"owner": {"reputation": 1589, "user_id": 5652483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bJiX1.jpg?s=128&g=1", "display_name": "Scott Hutchinson", "link": "https://stackoverflow.com/users/5652483/scott-hutchinson"}, "edited": false, "score": 0, "creation_date": 1574295429, "post_id": 58960535, "comment_id": 104185707, "body": "Unless this is just a learning exercise, the easiest solution might be to reference the F# project from the C# project. Assuming the F# code works as expected, then your task would be reduced to making the F# project&#39;s public API friendly to C#. That might be much easier than converting it all to C#."}], "answers": [{"tags": [], "owner": {"reputation": 6170, "user_id": 1748071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9lBXi.jpg?s=128&g=1", "display_name": "Aaron M. Eshbach", "link": "https://stackoverflow.com/users/1748071/aaron-m-eshbach"}, "is_accepted": false, "score": 2, "last_activity_date": 1574275252, "creation_date": 1574275252, "answer_id": 58961276, "question_id": 58960535, "link": "https://stackoverflow.com/questions/58960535/how-to-convert-a-seemingly-self-calling-f-lambda-to-c/58961276#58961276", "title": "How to convert a seemingly self-calling F# lambda to C#?", "body": "<p>It's hard to tell exactly what the original code is doing without a complete sample, but if I had to guess, I'd say the F# code is likely using a fixed-point combinator to process the items in the list.  This can be accomplished in C# by using null-initialized <code>Func</code> definition to support a recursive-lambda in a LINQ statement.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Func&lt;Item, ValueTuple&lt;Item, bool&gt;&gt; handleItem = null;\nhandleItem = item =&gt; {\n    var itemCanBeRemoved = handleItem item; // Should do something so that it's not infinitely recursive here\n    return (item, itemCanBeRemoved);\n\n};\n\nreturn items.Select(handleItem);\n</code></pre>\n\n<p>You can reference a similar question here for a more detailed explanation:  <a href=\"https://stackoverflow.com/a/61206/1748071\">https://stackoverflow.com/a/61206/1748071</a></p>\n"}, {"comments": [{"owner": {"reputation": 6124, "user_id": 5627983, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/696f780ea286896dd41a92459152fbb3?s=128&d=identicon&r=PG&f=1", "display_name": "s952163", "link": "https://stackoverflow.com/users/5627983/s952163"}, "edited": false, "score": 0, "creation_date": 1574305556, "post_id": 58964696, "comment_id": 104188086, "body": "I thought there is Async IEnumerable now in C# 8. Or is ASyncSeq different? <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.iasyncenumerable-1?view=dotnet-plat-ext-3.0\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 224912, "user_id": 33518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d06834fe3fb105f62b2186aba4a430d5?s=128&d=identicon&r=PG", "display_name": "Tomas Petricek", "link": "https://stackoverflow.com/users/33518/tomas-petricek"}, "reply_to_user": {"reputation": 6124, "user_id": 5627983, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/696f780ea286896dd41a92459152fbb3?s=128&d=identicon&r=PG&f=1", "display_name": "s952163", "link": "https://stackoverflow.com/users/5627983/s952163"}, "edited": false, "score": 1, "creation_date": 1574336531, "post_id": 58964696, "comment_id": 104201565, "body": "Yeah, I think <code>IAsyncEnumerable</code> is roughly like <code>AsyncSeq</code> (depends a bit on details). For <code>AsyncResult</code>, you&#39;ll probably just want to use exceptions instead."}, {"owner": {"reputation": 371, "user_id": 3268005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a06a1007906472a33269009c23d63bca?s=128&d=identicon&r=PG&f=1", "display_name": "akara", "link": "https://stackoverflow.com/users/3268005/akara"}, "edited": false, "score": 0, "creation_date": 1574395858, "post_id": 58964696, "comment_id": 104226686, "body": "IAsyncEnumerable&lt;_&gt; and AsyncSeq&lt;_&gt; are mostly equivalent; they both provide asynchronous enumeration/pulling of data. Since in F# this didn&#39;t need language work to add this feature (F# has computation expressions to generically define these things yourself) it comes from a community maintained library instead. It&#39;s been around for a few years now so it predates IAsyncEnumerable&lt;_&gt;."}, {"owner": {"reputation": 224912, "user_id": 33518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d06834fe3fb105f62b2186aba4a430d5?s=128&d=identicon&r=PG", "display_name": "Tomas Petricek", "link": "https://stackoverflow.com/users/33518/tomas-petricek"}, "edited": false, "score": 0, "creation_date": 1574419639, "post_id": 58964696, "comment_id": 104235908, "body": "It&#39;s been around since 2011 :-) <a href=\"http://tomasp.net/blog/async-sequences.aspx/\" rel=\"nofollow noreferrer\">tomasp.net/blog/async-sequences.aspx</a>"}], "tags": [], "owner": {"reputation": 224912, "user_id": 33518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d06834fe3fb105f62b2186aba4a430d5?s=128&d=identicon&r=PG", "display_name": "Tomas Petricek", "link": "https://stackoverflow.com/users/33518/tomas-petricek"}, "is_accepted": false, "score": 1, "last_activity_date": 1574290625, "creation_date": 1574290625, "answer_id": 58964696, "question_id": 58960535, "link": "https://stackoverflow.com/questions/58960535/how-to-convert-a-seemingly-self-calling-f-lambda-to-c/58964696#58964696", "title": "How to convert a seemingly self-calling F# lambda to C#?", "body": "<p>The key part of your code sample does not actually define a self-calling (i.e. recursive) lambda. </p>\n\n<pre><code>items \n|&gt; AsyncSeq.map (fun item -&gt; \n    fun handleItem -&gt; asyncResult {\n        let! itemCanBeRemoved = handleItem item|&gt; AsyncResult.mapError HandleItemError\n        // some code removed for clarity\n    })\n</code></pre>\n\n<p>What this does is that it iterates over all <code>items</code> and generates a new <code>AsyncSeq&lt;T&gt;</code> where each item is generated from the original one by calling:</p>\n\n<pre><code>fun handleItem -&gt; asyncResult {\n    let! itemCanBeRemoved = handleItem item|&gt; AsyncResult.mapError HandleItemError\n    // some code removed for clarity\n}\n</code></pre>\n\n<p>This is not recursive - it defines a lambda that takes <code>handleItem</code> (presumably a function that can be used to handle the individual items) and returns <code>asyncResult</code>.</p>\n\n<p>If I understand the code correctly, it would then return something like:</p>\n\n<pre><code>AsyncSeq&lt;(Item -&gt; AsyncResult&lt;Result, Err&gt;) -&gt; AsyncResult&lt;Result, Err&gt;&gt;\n</code></pre>\n\n<p>This would be an asynchronously generated collection of functions that take function (to process each item) and return result of this processing.</p>\n\n<p>This looks like a very odd thing to do, so I guess this is either badly copied from your actual source code, or it is just very bad F# code.</p>\n\n<p>That said, neither <code>AsyncResult</code> nor <code>AsyncSeq</code> have a direct corresponding type in C#, so translating this might be quite hard.</p>\n"}], "owner": {"reputation": 1774, "user_id": 675738, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aa966f0cae3ae5b5b2b0faac81ec2414?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/675738/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574290625, "creation_date": 1574272285, "last_edit_date": 1574272683, "question_id": 58960535, "link": "https://stackoverflow.com/questions/58960535/how-to-convert-a-seemingly-self-calling-f-lambda-to-c", "title": "How to convert a seemingly self-calling F# lambda to C#?", "body": "<p>I'm trying to convert some F# code to C# but I don't understand this particular block:</p>\n\n<pre><code>let GetItems = asyncResult {\n    let! items = StaticClass.getItems\n    return \n        items\n        |&gt; AsyncSeq.map (fun item -&gt; \n            fun handleItem -&gt; asyncResult {\n                let! itemCanBeRemoved = handleItem item|&gt; AsyncResult.mapError HandleItemError\n                // some code removed for clarity\n            })\n }\n</code></pre>\n\n<p>My attempt to convert this is:</p>\n\n<pre><code>public static async Task&lt;IEnumerable&lt;T&gt;&gt; GetItems&lt;T&gt;() where T : Item\n{\n    var items = await StaticClass.GetItems();\n\n    var tasks = new List&lt;Task&gt;();\n    foreach (var item in items)\n    {\n        bool itemCanBeRemoved;\n        if (itemCanBeRemoved)\n        {\n            // do something\n        }\n        else\n        {\n            // do something else\n        }\n    }\n\n    await Task.WhenAll(tasks);\n\n    return items;\n}\n</code></pre>\n\n<p>Assuming my conversion is on the right track, I don't understand how the handleItem func is defined and then invoked within its own implementation block. Can someone please explian what handleItem is doing and how it invokes itself?</p>\n"}, {"tags": ["c#", "listview", "xamarin"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1574273967, "post_id": 58960386, "comment_id": 104177113, "body": "Yopu should <a href=\"https://stackoverflow.com/posts/58960386/edit\">edit</a> your question to add a tag indicating the platform you are using because there is a <code>ListView</code> on each one of them and we really dont like guessing."}, {"owner": {"reputation": 29, "user_id": 4759470, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155356106510034/picture?type=large", "display_name": "Ch An Chao Sae", "link": "https://stackoverflow.com/users/4759470/ch-an-chao-sae"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1574276926, "post_id": 58960386, "comment_id": 104178465, "body": "you mean like add visual studio?"}, {"owner": {"reputation": 124, "user_id": 7729208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5137cc699688eb40ac71e0953a727ff1?s=128&d=identicon&r=PG&f=1", "display_name": "lemessur", "link": "https://stackoverflow.com/users/7729208/lemessur"}, "edited": false, "score": 0, "creation_date": 1574277182, "post_id": 58960386, "comment_id": 104178607, "body": "No. Visual Studio is a development environment, not a platform. From the code you posted it looks like the platform you are using might be Xamarin.something."}, {"owner": {"reputation": 29, "user_id": 4759470, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155356106510034/picture?type=large", "display_name": "Ch An Chao Sae", "link": "https://stackoverflow.com/users/4759470/ch-an-chao-sae"}, "edited": false, "score": 0, "creation_date": 1574277374, "post_id": 58960386, "comment_id": 104178694, "body": "I think it is by default Xamarin because I just downloaded visual studio 2017 and that was it.   From google it says &quot;Visual Studio 2017 enables you to build native Android apps using Xamarin and C# or using Java/C++, and hybrid Android apps using Apache Cordova 6.3.1 and JavaScript and TypeScript&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4759470, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155356106510034/picture?type=large", "display_name": "Ch An Chao Sae", "link": "https://stackoverflow.com/users/4759470/ch-an-chao-sae"}, "edited": false, "score": 1, "creation_date": 1574278868, "post_id": 58962056, "comment_id": 104179450, "body": "This wasn&#39;t helpful but thanks for trying.  So below is an example of my rows/columns in my listview.  What I am trying to do is add the electoral votes up in my list view which starts on the 2nd row and 2nd column and goes up.  State Name ,  Electoral Votes Oregon                        7 Washington                 8 California                   55"}, {"owner": {"reputation": 41, "user_id": 8778236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pe3osJs1csQ/AAAAAAAAAAI/AAAAAAAAAB4/fRiUyvy0_D8/photo.jpg?sz=128", "display_name": "SkyPhase Empire", "link": "https://stackoverflow.com/users/8778236/skyphase-empire"}, "reply_to_user": {"reputation": 29, "user_id": 4759470, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155356106510034/picture?type=large", "display_name": "Ch An Chao Sae", "link": "https://stackoverflow.com/users/4759470/ch-an-chao-sae"}, "edited": false, "score": 0, "creation_date": 1574279165, "post_id": 58962056, "comment_id": 104179598, "body": "Would that not be fixed with data binding though? All you do then edit the variable a variable, and since the cell value is bound to it, it will change as the variable changes."}, {"owner": {"reputation": 29, "user_id": 4759470, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155356106510034/picture?type=large", "display_name": "Ch An Chao Sae", "link": "https://stackoverflow.com/users/4759470/ch-an-chao-sae"}, "edited": false, "score": 0, "creation_date": 1574280036, "post_id": 58962056, "comment_id": 104180037, "body": "Well the problem I am having is that I know how to retrieve the first row but I don&#39;t think my code is right to retrieve the second row.  When I look at your example you shown me I get confused because I can&#39;t visually see how the codes will create the listview.  In my listview there are 2 columns in every row and I need only the 2nd column of every row and add them.  In the examples I&#39;m not sure if it is all in one row with multiple columns or if they are all in multiple rows if that makes sense."}, {"owner": {"reputation": 41, "user_id": 8778236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pe3osJs1csQ/AAAAAAAAAAI/AAAAAAAAAB4/fRiUyvy0_D8/photo.jpg?sz=128", "display_name": "SkyPhase Empire", "link": "https://stackoverflow.com/users/8778236/skyphase-empire"}, "reply_to_user": {"reputation": 29, "user_id": 4759470, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155356106510034/picture?type=large", "display_name": "Ch An Chao Sae", "link": "https://stackoverflow.com/users/4759470/ch-an-chao-sae"}, "edited": false, "score": 0, "creation_date": 1574280296, "post_id": 58962056, "comment_id": 104180159, "body": "Have you tried to simply get the count of items, then loop through your listview, adding every value you get from the second column based on your loop index? It seems like that would be much simpler than doing it one by one"}, {"owner": {"reputation": 29, "user_id": 4759470, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155356106510034/picture?type=large", "display_name": "Ch An Chao Sae", "link": "https://stackoverflow.com/users/4759470/ch-an-chao-sae"}, "edited": false, "score": 0, "creation_date": 1574288909, "post_id": 58962056, "comment_id": 104183774, "body": "oh I don&#39;t know how to do that"}], "tags": [], "owner": {"reputation": 41, "user_id": 8778236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pe3osJs1csQ/AAAAAAAAAAI/AAAAAAAAAB4/fRiUyvy0_D8/photo.jpg?sz=128", "display_name": "SkyPhase Empire", "link": "https://stackoverflow.com/users/8778236/skyphase-empire"}, "is_accepted": false, "score": 1, "last_activity_date": 1574278521, "creation_date": 1574278521, "answer_id": 58962056, "question_id": 58960386, "link": "https://stackoverflow.com/questions/58960386/c-listview-add-2nd-column-row-data/58962056#58962056", "title": "c# listview add 2nd column row data", "body": "<p>I am not sure if this is what you are trying to do, but the first answer given to this post <a href=\"https://stackoverflow.com/questions/35849187/xamarin-forms-get-all-cells-items-of-a-listview\">Xamarin.Forms: Get all cells/items of a listview</a> sounds like what you should be doing.</p>\n\n<p>You should be using data binding and using that to fetch data. You should not be touching the cells/items directly. </p>\n\n<p>But then again, your question itself is a bit vague. I hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 7657, "user_id": 10627299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1009ed8c6d700200b7517ecad9657f95?s=128&d=identicon&r=PG&f=1", "display_name": "Leon Lu - MSFT", "link": "https://stackoverflow.com/users/10627299/leon-lu-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1574305785, "creation_date": 1574305785, "answer_id": 58966687, "question_id": 58960386, "link": "https://stackoverflow.com/questions/58960386/c-listview-add-2nd-column-row-data/58966687#58966687", "title": "c# listview add 2nd column row data", "body": "<p>Do you want to achieve the result like following screenshot?\n<a href=\"https://i.stack.imgur.com/9uTw7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9uTw7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is layout.</p>\n\n<pre><code>  &lt;ListView  x:Name=\"listView\" ItemsSource=\"{Binding MyModels} \"&gt;\n        &lt;ListView.ItemTemplate&gt;\n            &lt;DataTemplate&gt;\n                &lt;ViewCell&gt;\n                    &lt;Grid &gt;\n                        &lt;Grid.RowDefinitions&gt;\n                            &lt;RowDefinition Height=\"*\" /&gt;\n\n                        &lt;/Grid.RowDefinitions&gt;\n                        &lt;Grid.ColumnDefinitions&gt;\n                            &lt;ColumnDefinition Width=\"*\" /&gt;\n                            &lt;ColumnDefinition Width=\"*\" /&gt;\n                        &lt;/Grid.ColumnDefinitions&gt;\n\n                        &lt;Label Grid.Row=\"0\" Grid.Column=\"0\" Text=\"{Binding State}\"\n                            /&gt;\n                        &lt;Label Grid.Row=\"0\" Grid.Column=\"1\" Text=\"{Binding Votes}\"\n\n                           /&gt;\n                    &lt;/Grid&gt;\n\n\n                &lt;/ViewCell&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/ListView.ItemTemplate&gt;\n    &lt;/ListView&gt;\n</code></pre>\n\n<p>Here is background code.</p>\n\n<pre><code>  BindingContext = new MyViewModel();\n</code></pre>\n\n<p>Here is code for <code>MyViewModel</code></p>\n\n<pre><code> class MyViewModel\n{\n    public ObservableCollection&lt;MyModel&gt; MyModels { get; set; }\n    public MyViewModel()\n    {\n        MyModels = new ObservableCollection&lt;MyModel&gt;();\n        MyModels.Add(new MyModel() { State = \"State Name\", Votes = \"Electoral Votes\" \n        });\n        MyModels.Add(new MyModel() { State = \"Oregon \", Votes = \"7\" });\n        MyModels.Add(new MyModel() { State = \"Washington\", Votes = \"8\" });\n        MyModels.Add(new MyModel() { State = \"California\", Votes = \"55\" });\n        MyModels.Add(new MyModel() { State = \"lost1\", Votes = \"22\" });\n        MyModels.Add(new MyModel() { State = \"lost2\", Votes = \"24\" });\n        MyModels.Add(new MyModel() { State = \"lost3\", Votes = \"25\" });\n        MyModels.Add(new MyModel() { State = \"lost4\", Votes = \"26\" });\n        MyModels.Add(new MyModel() { State = \"lost5\", Votes = \"27\" });\n\n        int sumVotes = 0;\n        for (int i=1;i&lt;MyModels.Count;i++)\n        {\n            sumVotes+= Int32.Parse(MyModels[i].Votes);\n        }\n        MyModels.Add(new MyModel() { State = \" \", Votes = \n        \"sum\"+sumVotes.ToString()});\n\n\n\n    }\n}\n</code></pre>\n\n<p>Here id code for <code>MyModel</code></p>\n\n<pre><code>     public class MyModel\n{\n    public string State { get; set; }\n    public string Votes { get; set; }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 12407231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c998ad5c6f6bf4b9657542d6fb062c?s=128&d=identicon&r=PG&f=1", "display_name": "onyxbird", "link": "https://stackoverflow.com/users/12407231/onyxbird"}, "is_accepted": false, "score": 0, "last_activity_date": 1574308942, "creation_date": 1574308942, "answer_id": 58967128, "question_id": 58960386, "link": "https://stackoverflow.com/questions/58960386/c-listview-add-2nd-column-row-data/58967128#58967128", "title": "c# listview add 2nd column row data", "body": "<pre><code>\nint voteTotal = 0;\nint secondcolumn = 1;\n\n    enter code here\n\nif (votesListView.Items.Count &lt; 1)\n    MessageBox.Show(\"List View can not be  empty.\");\nelse\n    {\n    for(int spot = 0; spot &lt; votesListView.Items.Count; spot++)\n        {\n        voteTotal += int.Parse(votesListView.Items[spot].SubItems[secondcolumn].Text);\n        //This will pop up a MessageBox at each iteration of this for loop.\n        //feel free to comment out the MessageBox if it doesn't work.\n        //you can also print out the voteTotal after the for loop.\n        MessageBox.Show(spot.ToString());\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 4759470, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155356106510034/picture?type=large", "display_name": "Ch An Chao Sae", "link": "https://stackoverflow.com/users/4759470/ch-an-chao-sae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1574367648, "creation_date": 1574271761, "last_edit_date": 1574367648, "question_id": 58960386, "link": "https://stackoverflow.com/questions/58960386/c-listview-add-2nd-column-row-data", "title": "c# listview add 2nd column row data", "body": "<p>So I have a voteTotal variable that will count total of 7 states electoral votes.  However, the numbers are on different rows in the 2nd column but I'm not sure how I can add the electoral votes that are in the 2nd column.  First column is the state name and second column is the electoral votes total.  </p>\n\n<p>I don't really know how to call the rows so I am having trouble to add up the correct rows 2- 8 on the same column 2 of every row. </p>\n\n<pre><code>int voteTotal = 0;\nint stateNumOne = 0;\nint stateNumTwo = 0;\nint stateNumThree = 0;\nint stateNumFour = 0;\nint stateNumFive = 0;\nint stateNumSix = 0;\nint stateNumSeven = 0;\n\nif (votesListView.Items.Count &lt; 1)\n{\n    MessageBox.Show(\"List View can not be empty.\");\n}\nif (votesListView.Items[0].SubItems[1] != null)\n{\n    stateNumOne = int.Parse(votesListView.Items[0].SubItems[1].Text);\n    MessageBox.Show(\"1\");\n}\nif (votesListView.Items[1].SubItems[1] != null)\n{\n    stateNumTwo = int.Parse(votesListView.Items[1].SubItems[1].Text);\n    MessageBox.Show(\"2\");\n}\nelse if (votesListView.Items[2].SubItems[1] != null)\n{\n    stateNumThree = int.Parse(votesListView.Items[2].SubItems[1].Text);\n}\n\n/*\nstateNumSix = int.Parse(votesListView.Items[6].SubItems[\nstateNumFour = int.Parse(votesListView.Items[4].SubItems[1].Text);\nstateNumFive = int.Parse(votesListVie1].Text);\nstateNumSeven = int.Parse(votesListView.Items[7].SubItems[1].Text);\n*/\n\nvoteTotal = stateNumOne + stateNumTwo + stateNumThree + stateNumFour + stateNumFive + stateNumSix + stateNumSeven;\ntotalLabel.Text = voteTotal.ToString();\ntotalVotesLabel.Visible = true;\ntotalLabel.Visible = true;\n</code></pre>\n"}, {"tags": ["c#", ".net", ".net-core"], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 4874618, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/6g3L2.jpg?s=128&g=1", "display_name": "leo", "link": "https://stackoverflow.com/users/4874618/leo"}, "edited": false, "score": 0, "creation_date": 1574347512, "post_id": 58961161, "comment_id": 104208220, "body": "thanks, that was only kind of  pseudocode, I was not also expecting to compile but I understood me correctly. Thanks for your help."}], "tags": [], "owner": {"reputation": 785, "user_id": 793502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5352f20397d4c2f4838ee367eabcf687?s=128&d=identicon&r=PG", "display_name": "voracious", "link": "https://stackoverflow.com/users/793502/voracious"}, "is_accepted": true, "score": 1, "last_activity_date": 1574274769, "creation_date": 1574274769, "answer_id": 58961161, "question_id": 58960362, "link": "https://stackoverflow.com/questions/58960362/how-can-i-get-the-correct-service-based-on-an-enum-parameter/58961161#58961161", "title": "How can I get the correct service based on an enum parameter?", "body": "<p>Its very hard to give you an answer without any specifics. Also, the example code isn't compilable and/or correct.</p>\n\n<p>I also have a lot of questions regarding the architecture, without knowing that its really hard to provide a correct or satisfying answer.</p>\n\n<p>Let me at least give a try as to perhaps help you get rid of the switch statement. A possible way of doing this is simply storing the values as key-value pairs and retrieving those values in the <code>Get(RepoTypes repoType)</code>, for example you could re-purpose the <code>DataService</code> class as follows:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class DataService&lt;T&gt; : IDataService&lt;T&gt;\n{\n  private readonly IMapper _mapper;\n\n  private Dictionary&lt;RepoTypes, dynamic&gt; _dict;\n\n  public DataService(IRepository&lt;ClassX&gt; xRepository,\n                     IRepository&lt;ClassY&gt; yRepository,\n                     IRepository&lt;ClassZ&gt; zRepository,\n                     IMapper mapper)\n  {\n    _mapper = mapper;\n\n    _dict = new Dictionary&lt;RepoTypes, dynamic&gt;\n    {\n      { RepoTypes.X, xRepository },\n      { RepoTypes.Y, yRepository },\n      { RepoTypes.Z, zRepository }\n    };\n  }\n\n  public async Task&lt;T&gt; Get(RepoTypes repoType)\n  {\n    var repo = _dict[repoType];\n    var data = await repo.Get();\n    return _mapper.Map&lt;T&gt;(data);\n  }\n}\n</code></pre>\n\n<p>Because of the type differences between the different <code>IRepository</code> interfaces, there's no other way of specifying the dictionary besides: <code>Dictionary&lt;RepoTypes, dynamic&gt;</code>.</p>\n"}], "owner": {"reputation": 321, "user_id": 4874618, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/6g3L2.jpg?s=128&g=1", "display_name": "leo", "link": "https://stackoverflow.com/users/4874618/leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 1, "accepted_answer_id": 58961161, "answer_count": 1, "score": 0, "last_activity_date": 1574274769, "creation_date": 1574271690, "question_id": 58960362, "link": "https://stackoverflow.com/questions/58960362/how-can-i-get-the-correct-service-based-on-an-enum-parameter", "title": "How can I get the correct service based on an enum parameter?", "body": "<p>I have an implementation like below. The code is only for explaining the problem, it is not real implementation. I have more than one data repositories and I want to have only one Data Service and I want to inject and consume that data service in my controllers but I don't like to have like that switch case in my implementation. Is there any better way or design for that? Or any suggestion?\nAny better design is always welcome. Thanks in advance.</p>\n\n<pre><code>interface IDataService&lt;T&gt;\n{\n    Task&lt;T&gt; Get(RepoTypes repoType);\n}\n\nclass DataService&lt;T&gt;:IDataService&lt;T&gt;\n{\n    private readonly IRepository&lt;X&gt; _xRepository;\n     private readonly IRepository&lt;Y&gt; _yRepository;\n    private readonly  IRepository&lt;Z&gt; _zRepository;\n    private readonly  IMapper _mapper;\n\n    public ClassName(IRepository&lt;X&gt; xRepository,\n    IRepository&lt;Y&gt; yRepository,\n    IRepository&lt;Z&gt; zRepository,\n    IMapper mapper)\n    {\n        _xRepository = xRepository;\n        _yRepository = yRepository;\n        _zRepository = zRepository;\n        _mapper = mapper;\n    }\n    public async Task&lt;T&gt;  GetTask(RepoTypes repoType)\n    {\n        switch (repoTypes)\n        {\n            case X:\n                var data = await _xRepository.Get();\n                return _mapper.Map&lt;T&gt;(data);\n            case Y:\n                var data = await _yRepository.Get();\n                return _mapper.Map&lt;T&gt;(data);\n            case Y:\n                var data = await _zRepository.Get();\n                return _mapper.Map&lt;T&gt;(data);\n            default:\n        }\n    }\n}\n\ninterface IRepository&lt;T&gt;\n{\n    Task&lt;T&gt; Get();\n}\nclass IRepository&lt;T&gt;: IRepository&lt;T&gt;\n{\n    public async Task&lt;T&gt;  GetTask()\n    {\n        // some implementation\n    }\n}\n\npublic enum RepoTypes\n{\n    X,\n    Y,\n    Z\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "linq"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574271358, "post_id": 58960235, "comment_id": 104175753, "body": "Linq is all about creating a new list, not modifying the existing one. A simple while loop is the droid you should be looking for."}, {"owner": {"reputation": 642, "user_id": 1910380, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b9d2ccf4152227b0fcf97ecd442e98b?s=128&d=identicon&r=PG", "display_name": "Sai", "link": "https://stackoverflow.com/users/1910380/sai"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574271776, "post_id": 58960235, "comment_id": 104175980, "body": "@Christopher: Thanks for the quick turnaround, though the while loop seems the obvious way to do it, this was a Hackerrank question where the conventional while loop failed a bunch of hidden test cases on time constraint."}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1574273205, "post_id": 58960235, "comment_id": 104176719, "body": "If a while loop fails timing constraints, LINQ isn&#39;t going to do any better. LINQ to Objects contains no magic; it has to loop over enumerables just like anything else. There is nothing you can write using LINQ that can&#39;t be done faster by writing out whatever LINQ does under the covers. There may be well be a trick you&#39;re supposed to be looking for, but LINQ probably isn&#39;t it."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574273266, "post_id": 58960235, "comment_id": 104176759, "body": "There is only so much speedup you can do from a while. And those are always about the counting variable and checking being optimized. The jumps are a constant, regardless wich looping code we are talking about."}, {"owner": {"reputation": 847, "user_id": 12338102, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aIqNOyYbZbc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXn70oEXytf9W75hoPaoTjNgmNPA/photo.jpg?sz=128", "display_name": "Ross Gurbutt", "link": "https://stackoverflow.com/users/12338102/ross-gurbutt"}, "edited": false, "score": 0, "creation_date": 1574273878, "post_id": 58960235, "comment_id": 104177071, "body": "If you care about the performance, is writing to the console as you go a requirement? Console.WriteLine can/will happily ruin the performance of even the best though out / optimised code."}, {"owner": {"reputation": 642, "user_id": 1910380, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b9d2ccf4152227b0fcf97ecd442e98b?s=128&d=identicon&r=PG", "display_name": "Sai", "link": "https://stackoverflow.com/users/1910380/sai"}, "reply_to_user": {"reputation": 847, "user_id": 12338102, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aIqNOyYbZbc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXn70oEXytf9W75hoPaoTjNgmNPA/photo.jpg?sz=128", "display_name": "Ross Gurbutt", "link": "https://stackoverflow.com/users/12338102/ross-gurbutt"}, "edited": false, "score": 0, "creation_date": 1574274062, "post_id": 58960235, "comment_id": 104177164, "body": "@RossGurbutt, yes my stop watch showed a clear difference(in the order of several thousand ms)between writing to the console and not, but unfortunately, it is a requirement."}], "answers": [{"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1574274450, "creation_date": 1574274450, "answer_id": 58961085, "question_id": 58960235, "link": "https://stackoverflow.com/questions/58960235/increment-first-n-integers-of-a-linkedlistint-using-linq/58961085#58961085", "title": "Increment first &#39;n&#39; integers of a LinkedList&lt;int&gt; using Linq", "body": "<p>When you call <code>.ToList()</code> on the linked list items, you're creating a separate list and then incrementing those values, but not affecting the orginal values.</p>\n\n<p>To increment the values in your linked list, you can just get a reference to the head node by using <code>var node = superstack.First</code>, and then you can increment that value and move the reference to the next node by setting it to <code>node.Next</code> in a <code>for</code> loop:</p>\n\n<pre><code>case \"inc\":\n    var count = Math.Min(int.Parse(operationParts[1]), superStack.Count);\n    var amountToAdd = int.Parse(operationParts[2]);\n    var node = superStack.First;\n\n    for (int i = 0; i &lt; count; i++)\n    {\n        node.Value += amountToAdd;\n        node = node.Next;\n    }\n    break;\n</code></pre>\n"}], "owner": {"reputation": 642, "user_id": 1910380, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b9d2ccf4152227b0fcf97ecd442e98b?s=128&d=identicon&r=PG", "display_name": "Sai", "link": "https://stackoverflow.com/users/1910380/sai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574274450, "creation_date": 1574271201, "question_id": 58960235, "link": "https://stackoverflow.com/questions/58960235/increment-first-n-integers-of-a-linkedlistint-using-linq", "title": "Increment first &#39;n&#39; integers of a LinkedList&lt;int&gt; using Linq", "body": "<p>I have a linked list of N integers, which I insert to and delete from. The other operation I need to be able to do is increment a bunch of elements of the linked list by the same value. I have tried the following and it did not work possibly because the <code>.Take</code> on the <code>LinkedList&lt;int&gt;</code> produces a readonly <code>IEnumerable&lt;int&gt;</code> which when updated has no effect on the original list. Is there any other means to achieve this. The conventional way of traversing the list and updating each node fails a test case on time constraints.</p>\n\n<pre><code>static double superStackOptimized(string[] operations)\n    {\n        var watch = Stopwatch.StartNew();\n        Stopwatch.StartNew();\n        var superStack = new LinkedList&lt;int&gt;();\n        foreach (var operation in operations)\n        {\n            var operationParts = operation.Split(' ');\n            switch (operationParts[0].ToLower())\n            {\n                case \"push\":\n                    superStack.AddLast(int.Parse(operationParts[1]));\n                    break;\n                case \"pop\":\n                    superStack.RemoveLast();\n                    break;\n                case \"inc\":\n                    var numOfValuesToInc = int.Parse(operationParts[1]);\n                    var valueToIncBy = int.Parse(operationParts[2]);\n                    var count = Math.Min(numOfValuesToInc\n                        , superStack.Count);\n                    Parallel.ForEach(superStack.Take(count)\n                        , value =&gt; value += valueToIncBy); //did not work\n                    superStack.Take(count).ToList().ForEach(val =&gt;\n                    {\n                        val += valueToIncBy;\n                    }); //did not work\n                    break;\n            }\n            Console.WriteLine(superStack.Count &gt; 0 ? $\"{superStack.Last.Value}\" : \"EMPTY\");\n        }\n        watch.Stop();\n        return watch.Elapsed.TotalMilliseconds;\n    }\n</code></pre>\n"}, {"tags": ["c#", "sql", "sorting", "oop", "observablecollection"], "comments": [{"owner": {"reputation": 2987, "user_id": 972285, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/773a2da978fca7db2866e8209248ee16?s=128&d=identicon&r=PG", "display_name": "Nazar Merza", "link": "https://stackoverflow.com/users/972285/nazar-merza"}, "edited": false, "score": 0, "creation_date": 1574781628, "post_id": 58960106, "comment_id": 104347938, "body": "Could you define the sorting rules?"}, {"owner": {"reputation": 349, "user_id": 5982545, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f5d40709350cfb8caac81d4ed74e1185?s=128&d=identicon&r=PG", "display_name": "tCoe", "link": "https://stackoverflow.com/users/5982545/tcoe"}, "reply_to_user": {"reputation": 2987, "user_id": 972285, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/773a2da978fca7db2866e8209248ee16?s=128&d=identicon&r=PG", "display_name": "Nazar Merza", "link": "https://stackoverflow.com/users/972285/nazar-merza"}, "edited": false, "score": 0, "creation_date": 1574783305, "post_id": 58960106, "comment_id": 104348952, "body": "Sorting numerically then alphabetically, by type1, then type2, then type3, as shown above where i give an example of how i would want &#39;TestObjects&#39; returned."}, {"owner": {"reputation": 2987, "user_id": 972285, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/773a2da978fca7db2866e8209248ee16?s=128&d=identicon&r=PG", "display_name": "Nazar Merza", "link": "https://stackoverflow.com/users/972285/nazar-merza"}, "edited": false, "score": 0, "creation_date": 1574799993, "post_id": 58960106, "comment_id": 104357114, "body": "It is still not fully clear what your rules are. Also, is it a programming problem OR it is that your rules are logically inconsistent. Because if you sort alphabetically and then numerically, it will change the first sort, and it is not something that you can by programming."}, {"owner": {"reputation": 349, "user_id": 5982545, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f5d40709350cfb8caac81d4ed74e1185?s=128&d=identicon&r=PG", "display_name": "tCoe", "link": "https://stackoverflow.com/users/5982545/tcoe"}, "reply_to_user": {"reputation": 2987, "user_id": 972285, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/773a2da978fca7db2866e8209248ee16?s=128&d=identicon&r=PG", "display_name": "Nazar Merza", "link": "https://stackoverflow.com/users/972285/nazar-merza"}, "edited": false, "score": 0, "creation_date": 1574805208, "post_id": 58960106, "comment_id": 104359241, "body": "this is why I mentioned that it is sorted numerically first, then alphabetically. if you look below, at the accepted answer, I have solved my problem"}], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 5982545, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f5d40709350cfb8caac81d4ed74e1185?s=128&d=identicon&r=PG", "display_name": "tCoe", "link": "https://stackoverflow.com/users/5982545/tcoe"}, "edited": false, "score": 0, "creation_date": 1574280814, "post_id": 58961799, "comment_id": 104180403, "body": "Thank you for the answer, but this doesn&#39;t order the type1 or type2 properly. It looks to be only treating the values as a string, and returning the following from the dataset in my example:   {(69,2,45),(69,2,5),(7,41,&#39;&#39;),(7,41,1(B)),(7,41B,1(A)),(708,&zwnj;&#8203;4,(A)),(708,4,(B))}"}, {"owner": {"reputation": 39, "user_id": 8221407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c945fd9987caac7379581f9fa50d9227?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Murphy", "link": "https://stackoverflow.com/users/8221407/andrew-murphy"}, "reply_to_user": {"reputation": 349, "user_id": 5982545, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f5d40709350cfb8caac81d4ed74e1185?s=128&d=identicon&r=PG", "display_name": "tCoe", "link": "https://stackoverflow.com/users/5982545/tcoe"}, "edited": false, "score": 1, "creation_date": 1574287129, "post_id": 58961799, "comment_id": 104183115, "body": "My bad, you need a custom comparer, answer is updated with an example of this."}, {"owner": {"reputation": 349, "user_id": 5982545, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f5d40709350cfb8caac81d4ed74e1185?s=128&d=identicon&r=PG", "display_name": "tCoe", "link": "https://stackoverflow.com/users/5982545/tcoe"}, "edited": false, "score": 0, "creation_date": 1574454336, "post_id": 58961799, "comment_id": 104252949, "body": "it looks like the  &#39;StrCmpLogicalComparer&#39; that is mentioned could work if I can get it to accept a named field from an object instead of a List&lt;String&gt;"}], "tags": [], "owner": {"reputation": 39, "user_id": 8221407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c945fd9987caac7379581f9fa50d9227?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Murphy", "link": "https://stackoverflow.com/users/8221407/andrew-murphy"}, "is_accepted": false, "score": -1, "last_activity_date": 1574287026, "last_edit_date": 1574287026, "creation_date": 1574277417, "answer_id": 58961799, "question_id": 58960106, "link": "https://stackoverflow.com/questions/58960106/dynamically-sorting-an-observablecollectionobject-when-the-column-is-a-string/58961799#58961799", "title": "Dynamically sorting an ObservableCollection&lt;object&gt; when the column is a string", "body": "<p>You can use OrderBy() and ThenBy(). </p>\n\n<p>Example</p>\n\n<pre><code>public class SomeClass\n{\n    public string PropA { get; }\n    public string PropB { get; }\n}\n\nprotected ObservableCollection&lt;SomeClass&gt; SomeFunc(ObservableCollection&lt;SomeClass&gt; collection)\n{\n\n    var sorted=collection.OrderBy(s =&gt; s.PropA).ThenBy(s =&gt; s.PropB);\n    ObservableCollection&lt;SomeClass&gt; sortedObservable=new ObservableCollection&lt;SomeClass&gt;();\n    foreach(var item in sorted)\n    {\n        sortedObservable.Add(item);\n    }\n    return sortedObservable;\n}\n</code></pre>\n\n<p>To account for numeric values in your string you can use a custom comparer, <a href=\"https://stackoverflow.com/questions/6396378/how-do-i-sort-strings-alphabetically-while-accounting-for-value-when-a-string-is\">The answer to this is a good example</a></p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.thenby?view=netframework-4.8\" rel=\"nofollow noreferrer\">Link to microsoft notes</a></p>\n"}, {"tags": [], "owner": {"reputation": 349, "user_id": 5982545, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f5d40709350cfb8caac81d4ed74e1185?s=128&d=identicon&r=PG", "display_name": "tCoe", "link": "https://stackoverflow.com/users/5982545/tcoe"}, "is_accepted": true, "score": 1, "last_activity_date": 1574704929, "last_edit_date": 1574704929, "creation_date": 1574703410, "answer_id": 59037302, "question_id": 58960106, "link": "https://stackoverflow.com/questions/58960106/dynamically-sorting-an-observablecollectionobject-when-the-column-is-a-string/59037302#59037302", "title": "Dynamically sorting an ObservableCollection&lt;object&gt; when the column is a string", "body": "<p>So here is what I ended up doing to solve the problem. In the object, I concatenated the types </p>\n\n<pre><code>public class TestObject{\n public string type1{get; set;}\n public string type2{get; set;}\n public string type3{get; set;}\n public string types{get;set;}\n}\n</code></pre>\n\n<p>and in the method where the TestObjects are being populated, I added this in:</p>\n\n<pre><code>public ObservableCollection&lt;TestObject&gt; TestObjects = new ObservableCollection&lt;TestObject&gt;();\n TestObjects.Add(new TestObject('708','4','(A)','708.4.(A)'));\n TestObjects.Add(new TestObject('7','41B','1(A)','7.41B.1(A)'));\n TestObjects.Add(new TestObject('69','2','45', '69.2.45'));\n TestObjects.Add(new TestObject('708','4','(B)', '708.4.(B)'));\n TestObjects.Add(new TestObject('69','2','5', '69.2.5'));\n TestObjects.Add(new TestObject('7','41','1(B)', '7.41.1(B)'));\n TestObjects.Add(new TestObject('7','41','', '7.41.'));\n  TestObjects= SortObjects(TestObjects);\n</code></pre>\n\n<p>Next, I created a custom comparison method in the ViewModel, using the \"Shlwapi.dll':</p>\n\n<pre><code>   [DllImport(\"Shlwapi.dll\", Charset = Charset.Unicode)]\n   private static extern int StrCmpLogicalW(string x, string y); \n\n   public ObservableCollection&lt;TestObject&gt; SortObjects(ObservableCollection&lt;TestObject&gt; unsortedObjects){\n   var sortedCollection = new ObservableCollection&lt;TestObject&gt;();\n   var objectList = new List&lt;TestObject&gt;();\n   foreach(var obj in unsortedObjects){\n      objectList.Add(obj);\n     }\n   Comparison&lt;TestObject&gt; typesComp = (a,b) =&gt;{\n      var aKey = a.types;\n      var bKey = b.types;\n      return StrCmpLogicalW(aKey,bKey);\n   }\n   objectList.Sort(typesComp);\n   foreach(var obj in objectList){\n     sortedCollection.Add(obj);\n   }\n   return sortedCollection;\n   }\n</code></pre>\n\n<p>This method allows me to return the TestObjects collection in ascending order. Still working on descending order switch, and will update this when I get it.</p>\n\n<p><strong>UPDATE: Here is the SortObjects method with the reversal ability</strong></p>\n\n<pre><code>   public ObservableCollection&lt;TestObject&gt; SortObjects(ObservableCollection&lt;TestObject&gt; unsortedObjects, bool IsAscend){\n      var sortedCollection = new ObservableCollection&lt;TestObject&gt;();\n      var objectList = new List&lt;TestObject&gt;();\n      foreach(var obj in unsortedObjects){\n         objectList.Add(obj);\n      }\n      Comparison&lt;TestObject&gt; typesComp = (a,b) =&gt;{\n         var aKey = a.types;\n         var bKey = b.types;\n         return StrCmpLogicalW(aKey,bKey);\n      }\n      objectList.Sort(typesComp);\n      if(!isAscend){\n         objectsList.Reverse();\n      }\n      foreach(var obj in objectList){\n        sortedCollection.Add(obj);\n      }\n      return sortedCollection;\n    } \n</code></pre>\n\n<p>And then it is called passing in a true / false parameter like this for ascending:</p>\n\n<pre><code> TestObjects = SortObjects(TestObjects, true);\n</code></pre>\n\n<p>and like this for descending order:</p>\n\n<pre><code> TestObjects = SortObjects(TestObjects, false);\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 5982545, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f5d40709350cfb8caac81d4ed74e1185?s=128&d=identicon&r=PG", "display_name": "tCoe", "link": "https://stackoverflow.com/users/5982545/tcoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 1, "accepted_answer_id": 59037302, "answer_count": 2, "score": 3, "last_activity_date": 1574704929, "creation_date": 1574270730, "last_edit_date": 1574457826, "question_id": 58960106, "link": "https://stackoverflow.com/questions/58960106/dynamically-sorting-an-observablecollectionobject-when-the-column-is-a-string", "title": "Dynamically sorting an ObservableCollection&lt;object&gt; when the column is a string", "body": "<p>I have an Observable Collection of about 5,000 objects returning from a SQL query to my WCF service. I have been asked to sort the collection by 3 fields in the object. For brevity, lets say this is my c# model:</p>\n\n<pre><code>public class TestObject{\n     public string type1{get; set;}\n     public string type2{get; set;}\n     public string type3(get; set;}\n}\n</code></pre>\n\n<p>And here is some test data that I have to try to sort:</p>\n\n<pre><code>   public ObservableCollection&lt;TestObject&gt; TestObjects = new ObservableCollection&lt;TestObject&gt;();\n   TestObjects.Add(new TestObject('708','4','(A)'));\n   TestObjects.Add(new TestObject('7','41B','1(A)'));\n   TestObjects.Add(new TestObject('69','2','45'));\n   TestObjects.Add(new TestObject('708','4','(B)'));\n   TestObjects.Add(new TestObject('69','2','5'));\n   TestObjects.Add(new TestObject('7','41','1(B)'));\n   TestObjects.Add(new TestObject('7','41',''));\n</code></pre>\n\n<p>Is there a way to dynamically sort these so the Observable collection comes back sorted like this?</p>\n\n<pre><code>  {(7,41,''),(7,41,1(B)),(7,41B,1(A)),(69,2,5),(69,2,45),(708,4,(A)),(708,4,(B))}\n</code></pre>\n\n<p>So far I have been able to sort them by the type1, but then trying to sort by the type2 screws the order up from the type1 sort. Here is the method I used to try to sort, followed by how I call it:</p>\n\n<pre><code>   protected virtual ObservableCollection&lt;TestObject&gt; SortTestObjects(ObservableCollection&lt;TestObjects&gt; unsortedObjects, string level){\n        var SortedObjects = new ObservableCollection&lt;TestObject&gt;();\n        Comparison&lt;TestObject&gt; numericComp;\n        Comparison&lt;TestObject&gt; comparison;\n        Comparison&lt;TestObject&gt; AlphaNumericComp;\n        bool sortNumeric = false;\n        switch (level)\n        {\n            case \"type1\":\n                numericComp = (a, b) =&gt;\n                {\n                    var aKey = Convert.ToDouble(a.type1);\n                    var bKey = Convert.ToDouble(b.type1);\n                    return aKey.CompareTo(bKey);\n                };\n                AlphaNumericComp = (a, b) =&gt;\n                {\n                    return string.CompareOrdinal(a.type1, b.type1);\n                };\n                sortNumeric = unsortedObjects.ToList().TrueForAll(i =&gt; i.type1.IsNumeric());\n\n                break;\n            case \"type2\":\n                 numericComp = (a, b) =&gt;\n                {\n                    var aKey = Convert.ToDouble(a.type2);\n                    var bKey = Convert.ToDouble(b.type2);\n                    return aKey.CompareTo(bKey);\n                };\n                 AlphaNumericComp = (a, b) =&gt;\n                {\n                    return string.CompareOrdinal(a.type2, b.type2);\n                };\n                sortNumeric = unsortedObjects.ToList().TrueForAll(i =&gt; i.type2.IsNumeric());\n\n                break;\n            case \"type3\":\n                 numericComp = (a, b) =&gt;\n                {\n                    var aKey = Convert.ToDouble(a.type3);\n                    var bKey = Convert.ToDouble(b.type3);\n                    return aKey.CompareTo(bKey);\n                };\n                 AlphaNumericComp = (a, b) =&gt;\n                {\n                    return string.CompareOrdinal(a.type3, b.type3);\n                };\n                sortNumeric = unsortedObjects.ToList().TrueForAll(i =&gt; i.type3.IsNumeric());\n\n                break;\n            default:\n                numericComp = (a, b) =&gt;\n                {\n                    var aKey = Convert.ToDouble(a.type1);\n                    var bKey = Convert.ToDouble(b.type1);\n                    return aKey.CompareTo(bKey);\n                };\n                AlphaNumericComp = (a, b) =&gt;\n                {\n                    return string.CompareOrdinal(a.type1, b.type1);\n                };\n                sortNumeric = unsortedObjects.ToList().TrueForAll(i =&gt; i.type1.IsNumeric());\n\n                break;\n        }\n        comparison = sortNumeric ? numericComp : AlphaNumericComp;\n        unsortedObjects.ToList().Sort(comparison);\n        foreach(var obj in unsortedOjects){\n          SortedObjects.Add(obj)\n         }\n        return SortedObjects;\n     }\n\n    Public ObservableCollection&lt;TestObject&gt; SortAllTestObjects(){\n         var sort1 = SortTestObjects(TestObjects, \"type1\");\n         var sort2 = SortTestObjects(sort1, \"type2\");\n         var sort3 = SortTestObjects(sort2, \"type3\");\n         return sort3;\n    }\n</code></pre>\n\n<p>**Edit: Here is a SQL query that I would be using in this example. I am totally good with changing the query as long as I get the order correct in the client **</p>\n\n<pre><code>Select type1, type2, type3 from dbo.testObject tO where tO.del_date is null\n</code></pre>\n\n<p>Please let me know if you need any more info. Any help or constructive feedback would be awesome!</p>\n"}, {"tags": ["c#", "xml"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1574270976, "post_id": 58960064, "comment_id": 104175555, "body": "<i>&quot;The boxes are a bullet&quot;</i> - so is your original text <code>C:\\Path\\To\\File\\8\u202226\u202218.webloc</code>? Or something else?"}, {"owner": {"reputation": 11, "user_id": 12405433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45afd97910c2fe4766b02ac3f7ceba33?s=128&d=identicon&r=PG&f=1", "display_name": "reggit96", "link": "https://stackoverflow.com/users/12405433/reggit96"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1574271215, "post_id": 58960064, "comment_id": 104175680, "body": "Yes. I couldn&#39;t figure out how to get that into the question. I have edited the question."}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1574271659, "post_id": 58960064, "comment_id": 104175911, "body": "What is this code supposed to accomplish in the first place? Why go through <code>XElement</code> at all? And if you do need an <code>XElement</code>, why not just give it <code>file.FullName</code> instead of making it interpret a re-encoded string? Once in memory, .NET strings are all UTF-16 (but at the same time the encoding is transparent to you, so it doesn&#39;t matter). Likewise, NTFS uses UTF-16 to encode filenames, not UTF-8 (but, again, normally this is transparent to you). Encoding to UTF-8 would be something you&#39;d only need to do in the very last step, when outputting an XML document as bytes."}, {"owner": {"reputation": 11, "user_id": 12405433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45afd97910c2fe4766b02ac3f7ceba33?s=128&d=identicon&r=PG&f=1", "display_name": "reggit96", "link": "https://stackoverflow.com/users/12405433/reggit96"}, "edited": false, "score": 0, "creation_date": 1574271964, "post_id": 58960064, "comment_id": 104176074, "body": "That was all just test code.  I was showing my work if you will.  I started with just XElement.Load(file.FullName) and that is where I ran into the error.  I am going through XElement so that I can pull out the &quot;string&quot; element from the XML.  If you can suggest a better way I would gladly try it."}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1574272384, "post_id": 58960064, "comment_id": 104176287, "body": "Just tried <code>XElement.Load(@&quot;C:\\Temp\\8\u202226\u202218.webloc&quot;)</code> and it loads the file..?"}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1574272542, "post_id": 58960064, "comment_id": 104176382, "body": "If nothing else, if file name/URI parsing were an issue, you could use the overload of <code>XElement.Load</code> that accepts a <code>Stream</code> (<code>XElement.Load(file.OpenRead(...))</code>), or explicitly construct an <code>XmlReader</code>, or many other ways to get the file contents directly instead of passing the path."}, {"owner": {"reputation": 11, "user_id": 12405433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45afd97910c2fe4766b02ac3f7ceba33?s=128&d=identicon&r=PG&f=1", "display_name": "reggit96", "link": "https://stackoverflow.com/users/12405433/reggit96"}, "reply_to_user": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1574273581, "post_id": 58960064, "comment_id": 104176932, "body": "@JeroenMostert You have done it!  I don&#39;t know why passing the path to File.OpenRead works differently but it now works as intended."}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1574273684, "post_id": 58960064, "comment_id": 104176972, "body": "Technically, <code>XElement.Load</code> accepts a URI, not a file path. Although local file names are supposed to just &quot;sort of work&quot; when interpreted as URIs (even without being escaped as <code>file:&#47;&#47;&#47;</code> URIs first), I can see ways that this could go wrong."}, {"owner": {"reputation": 11, "user_id": 12405433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45afd97910c2fe4766b02ac3f7ceba33?s=128&d=identicon&r=PG&f=1", "display_name": "reggit96", "link": "https://stackoverflow.com/users/12405433/reggit96"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1574274421, "post_id": 58960064, "comment_id": 104177330, "body": "@stuartd you are correct that that filename works.  Unfortunately that filename must be encoded differently because it does not show up as the boxes when I cut and paste it. Thanks for your help! I have been a long time lurker and this was my first time reaching out to all you fine folks. I appreciate this community and hope to be a bigger part of it from now on."}], "answers": [{"comments": [{"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1574274429, "post_id": 58961010, "comment_id": 104177332, "body": "Note that <code>FileInfo</code> has an <code>OpenRead</code> method you can use directly. Furthermore, you should properly dispose of the stream so created (so <code>using (var fs = file.OpenRead()) { XElement.Load(fs); }</code>)."}], "tags": [], "owner": {"reputation": 11, "user_id": 12405433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45afd97910c2fe4766b02ac3f7ceba33?s=128&d=identicon&r=PG&f=1", "display_name": "reggit96", "link": "https://stackoverflow.com/users/12405433/reggit96"}, "is_accepted": true, "score": 0, "last_activity_date": 1574274138, "creation_date": 1574274138, "answer_id": 58961010, "question_id": 58960064, "link": "https://stackoverflow.com/questions/58960064/how-do-i-keep-xelement-from-encoding-a-path-string-in-c/58961010#58961010", "title": "How do I keep XElement from encoding a path string in C#?", "body": "<p>On the suggestion of @JeroenMostert this code snippet now performs as intended.  Hopefully someone can shed some light as to why the path is passed along differently through <code>File.OpenRead</code></p>\n\n<pre><code>foreach (FileInfo file in directory.EnumerateFiles(\"*.webloc\",SearchOption.AllDirectories))\n{\n    try\n    {\n        if (!file.Attributes.HasFlag(FileAttributes.Hidden) &amp;&amp; file.Length != 0)\n        {\n            XElement url = XElement.Load(File.OpenRead(file.FullName));\n\n        IEnumerable&lt;string&gt; partNos = from item in url.Descendants(\"string\")\n                                      select (string)item.Value;\n\n        string result = Path.GetFileNameWithoutExtension(file.FullName);\n        // Write filenames to string\n        foreach (var part in partNos)\n        {\n            Console.WriteLine(\"\\t&lt;DT&gt;&lt;A HREF={0}&gt;{1}&lt;/A&gt;\",part, result); \n        }\n    }\n}\ncatch (Exception ex)\n{\n    Console.WriteLine(ex);\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12405433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45afd97910c2fe4766b02ac3f7ceba33?s=128&d=identicon&r=PG&f=1", "display_name": "reggit96", "link": "https://stackoverflow.com/users/12405433/reggit96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 58961010, "answer_count": 1, "score": 1, "last_activity_date": 1574274138, "creation_date": 1574270600, "last_edit_date": 1574271558, "question_id": 58960064, "link": "https://stackoverflow.com/questions/58960064/how-do-i-keep-xelement-from-encoding-a-path-string-in-c", "title": "How do I keep XElement from encoding a path string in C#?", "body": "<p>How do I pass this UTF-8 encoded path to XElement?</p>\n\n<p>C:\\Path\\To\\File\\8\u202226\u202218.webloc</p>\n\n<p>I am working on this code snippet at the moment.  When I look at the file.FullName it appears correctly as a string but when C# passes it on to XElement it is reencoded to: </p>\n\n<p>C:\\Path\\To\\File\\8%EF%80%A226%EF%80%A218.webloc</p>\n\n<p>This then throws the error \"Could not find file\"</p>\n\n<pre><code>foreach (FileInfo file in directory.EnumerateFiles(\"*.webloc\",SearchOption.AllDirectories))\n{\n    try\n    {\n        if (!file.Attributes.HasFlag(FileAttributes.Hidden) &amp;&amp; file.Length != 0)\n        {\n            UTF8Encoding utf8 = new UTF8Encoding();\n\n            string unicodeUriString = file.FullName;\n\n            Byte[] encodedUriString = utf8.GetBytes(unicodeUriString);\n\n            //string uriString = utf8.GetString(encodedUriString);\n\n            XElement url = XElement.Load(utf8.GetString(encodedUriString));\n\n            IEnumerable&lt;string&gt; partNos = from item in url.Descendants(\"string\")\n                                          select (string)item.Value;\n\n            string result = Path.GetFileNameWithoutExtension(file.FullName);\n            // Write filenames to string\n            foreach (var part in partNos)\n            {\n                Console.WriteLine(\"\\t&lt;DT&gt;&lt;A HREF={0}&gt;{1}&lt;/A&gt;\",part, result); \n            }\n        }\n    }\n    catch (Exception ex)\n    {\n        Console.WriteLine(ex);\n    }\n}\n</code></pre>\n\n<p>As you can see I have been trying to encode the string but this has not worked.</p>\n\n<p>This code works on files without strange characters.</p>\n"}, {"tags": ["c#", "sql-server", "asp.net-mvc", "iis"], "answers": [{"tags": [], "owner": {"reputation": 215643, "user_id": 50552, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/200c020bef60e4d9c4c4ba1c85442026?s=128&d=identicon&r=PG", "display_name": "Andomar", "link": "https://stackoverflow.com/users/50552/andomar"}, "is_accepted": false, "score": 0, "last_activity_date": 1574270726, "creation_date": 1574270726, "answer_id": 58960104, "question_id": 58960058, "link": "https://stackoverflow.com/questions/58960058/cannot-open-database-databasename-requested-by-the-login/58960104#58960104", "title": "cannot open database &quot;dataBaseName&quot; requested by the login", "body": "<p>This part of the <a href=\"https://www.connectionstrings.com/sql-server/\" rel=\"nofollow noreferrer\">connection string</a> tells SQL Server to connect as the current user:</p>\n\n<pre><code>Trusted_Connection=True;\n</code></pre>\n\n<p>You can replace it with:</p>\n\n<pre><code>User Id=myUsername;Password=myPassword;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 11516142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e37966aa3d0e2a34679029cfa75ef3e?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Milanez", "link": "https://stackoverflow.com/users/11516142/fernando-milanez"}, "edited": false, "score": 0, "creation_date": 1574272134, "post_id": 58960241, "comment_id": 104176160, "body": "The second link has successfully solved my issue. thank you very much"}], "tags": [], "owner": {"reputation": 380, "user_id": 5923157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/beabc0e972ead05cbd8ba50216679ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Nouman Janjua", "link": "https://stackoverflow.com/users/5923157/nouman-janjua"}, "is_accepted": true, "score": 1, "last_activity_date": 1574271244, "creation_date": 1574271244, "answer_id": 58960241, "question_id": 58960058, "link": "https://stackoverflow.com/questions/58960058/cannot-open-database-databasename-requested-by-the-login/58960241#58960241", "title": "cannot open database &quot;dataBaseName&quot; requested by the login", "body": "<p>If you still want to login sql server without username and password, you should add IIS ApplicationPool's user in sql server logins. following links may help you:</p>\n\n<ul>\n<li><a href=\"https://serverfault.com/questions/477152/how-do-i-grant-iis-apppool-orchard-access-to-sql-server-2012-developer\">https://serverfault.com/questions/477152/how-do-i-grant-iis-apppool-orchard-access-to-sql-server-2012-developer</a></li>\n<li><a href=\"https://engram404.net/grant-sql-permissions-to-iis-apppool-user/\" rel=\"nofollow noreferrer\">https://engram404.net/grant-sql-permissions-to-iis-apppool-user/</a></li>\n<li><a href=\"https://blogs.msdn.microsoft.com/ericparvin/2015/04/14/how-to-add-the-applicationpoolidentity-to-a-sql-server-login/\" rel=\"nofollow noreferrer\">https://blogs.msdn.microsoft.com/ericparvin/2015/04/14/how-to-add-the-applicationpoolidentity-to-a-sql-server-login/</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44742555/not-able-to-connect-to-database-when-run-on-local-iis\">Not able to connect to database when run on Local IIS</a></li>\n</ul>\n"}], "owner": {"reputation": 27, "user_id": 11516142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e37966aa3d0e2a34679029cfa75ef3e?s=128&d=identicon&r=PG&f=1", "display_name": "Fernando Milanez", "link": "https://stackoverflow.com/users/11516142/fernando-milanez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 1, "accepted_answer_id": 58960241, "answer_count": 2, "score": 0, "last_activity_date": 1574273196, "creation_date": 1574270584, "last_edit_date": 1574273196, "question_id": 58960058, "link": "https://stackoverflow.com/questions/58960058/cannot-open-database-databasename-requested-by-the-login", "title": "cannot open database &quot;dataBaseName&quot; requested by the login", "body": "<p>I'm trying to run an ASP.NET Core 2.2 application published to be hosted on IIS 10.</p>\n\n<p>When I open the application through the browser, the following error shows up:</p>\n\n<blockquote>\n  <p>Cannot open database \"dataBaseName\" requested by the login 'WORKGROUP\\DESKTOP-GP7EJHU$'</p>\n</blockquote>\n\n<p>Connection string:</p>\n\n<pre><code>Server=.\\\\SQLEXPRESS01;Database=SOO;Trusted_Connection=True;MultipleActiveResultSets=true;\n</code></pre>\n\n<p>The <code>DESKTOP-GP7EJHU$</code> is my computer name and SQL Server doesn't have a user with this name.</p>\n\n<p>Where can I configure the login to connect in the database?</p>\n"}, {"tags": ["c#", "async-await"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1574270638, "post_id": 58960005, "comment_id": 104175377, "body": "My standing advise is to never try to learn anything about Multtiasking in Console. You have to make sure the console programm stays alive and responsive. That are two things the Event Loop does for you already on Forms and WPF. | I also never use such complicated class for Synchronisation. A plain old lock statement and mutext is all I ever needed."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 3, "creation_date": 1574271456, "post_id": 58960005, "comment_id": 104175808, "body": "WindowsFormsSynchronizationContext works off the assumption that a program is using Application.Run().  Which is a big deal to &quot;make stuff happen&quot;, async continuations as well.  Specifically that the continuation can happen on the same thread that called Run(), highly desirable since UI is not thread-safe.  And extra especially so in UWP, the WinRT api it uses is highly asynchronous and the reason async/await was added to the C# language in 2012.  Since there is no dispatcher loop the program is doomed to get stuck."}, {"owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "edited": false, "score": 0, "creation_date": 1574271752, "post_id": 58960005, "comment_id": 104175965, "body": "The article at <a href=\"https://devblogs.microsoft.com/pfxteam/await-synchronizationcontext-and-console-apps/\" rel=\"nofollow noreferrer\">devblogs.microsoft.com/pfxteam/&hellip;</a> gives code for a SynchronizationContext that works in console applications"}, {"owner": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "edited": false, "score": 0, "creation_date": 1574711593, "post_id": 58960005, "comment_id": 104321049, "body": "You might be interested to check <a href=\"https://stackoverflow.com/a/57626659/1768303\">my <code>WinformsApartment</code> code</a>."}], "answers": [{"comments": [{"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1574271106, "post_id": 58960143, "comment_id": 104175616, "body": "This needs to be expanded a bit, for people that don&#39;t understand about sync contexts, or that console apps don&#39;t have one. Without <code>SynchronizationContext.SetSynchronizationContext</code> the program would run just fine. It&#39;s because of that call that after <code>await</code> execution tries to get back to the original sync context, ie the original thread, which is blocked by <code>GetResult()</code>"}, {"owner": {"reputation": 4163, "user_id": 1057767, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9vJI5.png?s=128&g=1", "display_name": "mtkachenko", "link": "https://stackoverflow.com/users/1057767/mtkachenko"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1574271203, "post_id": 58960143, "comment_id": 104175666, "body": "@PanagiotisKanavos Ok, I&#39;ll expand it. I wrote this answer for the question author who already knows the original problem with tasks and sync.context."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1574271416, "post_id": 58960143, "comment_id": 104175788, "body": "I understand that but imagine someone else trying to understand why this answer is helpful."}, {"owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 0, "creation_date": 1574271534, "post_id": 58960143, "comment_id": 104175848, "body": "&quot;<i>Continuation of DoAsync is trying to execute on original thread because synchronization context isn&#39;t null.</i>&quot; -- is that right? Surely it&#39;ll try and continue on the captured <code>WindowsFormsSynchronizationContext</code>? That also doesn&#39;t explain why the main thread is stuck in <a href=\"https://referencesource.microsoft.com/#mscorlib/system/runtime/compilerservices/TaskAwaiter.cs,aa2362a27deccda6\" rel=\"nofollow noreferrer\"><code>TaskAwaiter.HandleNonSuccessAndDebuggerNotification</code></a>"}, {"owner": {"reputation": 4163, "user_id": 1057767, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9vJI5.png?s=128&g=1", "display_name": "mtkachenko", "link": "https://stackoverflow.com/users/1057767/mtkachenko"}, "edited": false, "score": 0, "creation_date": 1574272131, "post_id": 58960143, "comment_id": 104176159, "body": "@NineBerry you should write <code>ConfigureAwait(false)</code>. See this question <a href=\"https://stackoverflow.com/questions/57054770/is-configureawaitfalse-required-on-all-levels-of-the-async-chain-when-no-real\" title=\"is configureawaitfalse required on all levels of the async chain when no real\">stackoverflow.com/questions/57054770/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4163, "user_id": 1057767, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9vJI5.png?s=128&g=1", "display_name": "mtkachenko", "link": "https://stackoverflow.com/users/1057767/mtkachenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1574273003, "last_edit_date": 1574273003, "creation_date": 1574270847, "answer_id": 58960143, "question_id": 58960005, "link": "https://stackoverflow.com/questions/58960005/async-await-deadlock-when-using-windowsformssynchronizationcontext-in-a-console/58960143#58960143", "title": "async/await deadlock when using WindowsFormsSynchronizationContext in a console app", "body": "<p>I believe it's because <code>async Task Main</code> is nothing more than syntax sugar. In reality it looks like:</p>\n\n<pre><code>static void Main(string[] args) =&gt; MainAsync(args).GetAwaiter().GetResult();\n</code></pre>\n\n<p>I.e. it's still blocking. Continuation of <code>DoAsync</code> is trying to execute on original thread because synchronization context isn't null. But the thread is stuck because it's waiting when task is completed. You can fix it like this:</p>\n\n<pre><code>static class Program\n{\n    static async Task Main(string[] args)\n    {\n        SynchronizationContext.SetSynchronizationContext(new WindowsFormsSynchronizationContext());\n        Console.WriteLine(\"before\");\n        await DoAsync().ConfigureAwait(false); //skip sync.context\n        Console.WriteLine(\"after\");\n    }\n    static async Task DoAsync()\n    {\n        await Task.Delay(100).ConfigureAwait(false); //skip sync.context\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "is_accepted": false, "score": 3, "last_activity_date": 1574276709, "last_edit_date": 1574276709, "creation_date": 1574273058, "answer_id": 58960731, "question_id": 58960005, "link": "https://stackoverflow.com/questions/58960005/async-await-deadlock-when-using-windowsformssynchronizationcontext-in-a-console/58960731#58960731", "title": "async/await deadlock when using WindowsFormsSynchronizationContext in a console app", "body": "<p><code>WindowsFormsSynchronizationContext</code> will post any delegates its given to a WinForms message loop, which is serviced by a UI thread. However you never set one of those up and there is no UI thread, so anything you post will simply disappear. </p>\n\n<p>So your <code>await</code> is capturing a <code>SynchronizationContext</code> which will never run any completions.</p>\n\n<p>What's happening is:</p>\n\n<ol>\n<li>Your <code>Task</code> is being returned from <code>Task.Delay</code></li>\n<li>The main thread starts synchronously waiting for this <code>Task</code> to complete, using a spin lock (in <a href=\"https://referencesource.microsoft.com/#mscorlib/system/threading/Tasks/Task.cs,3307\" rel=\"nofollow noreferrer\"><code>Task.SpinThenBlockingWait</code></a>)</li>\n<li>The spin lock times out, and the main thread creates an event to wait on, which is set by a continuation on the Task</li>\n<li>The Task completes (you can see that it has, because its Status is RanToCompletion)</li>\n<li>The Task tries to complete the continuation which will release the event the main thread is waiting on (<a href=\"https://referencesource.microsoft.com/#mscorlib/system/threading/Tasks/Task.cs,3593\" rel=\"nofollow noreferrer\"><code>Task.FinishContinuations</code></a>). This ends up calling <a href=\"https://referencesource.microsoft.com/#mscorlib/system/threading/Tasks/TaskContinuation.cs,84ccb790603580ef\" rel=\"nofollow noreferrer\"><code>TaskContinuation.RunCallback</code></a> (though I haven't traced that call path yet), which calls your <code>WindowsFormSynchronizationContext.Post</code>.</li>\n<li>However, <code>Post</code> does nothing, and deadlock occurs.</li>\n</ol>\n\n<hr>\n\n<p>To get that information, I did the following things:</p>\n\n<ol>\n<li>Try to call <code>new WindowsFormsSynchronizationContext.Post(d =&gt; ..., null)</code>, see that the delegate isn't called.</li>\n<li>Construct my own <code>SynchronizationContext</code> and install it, see when <code>Post</code> gets called.</li>\n<li>Break the debugger during the deadlock, look at <code>Threads</code> and look at the <code>Call Stack</code> of the main thread.</li>\n<li>Capture the task being awaited in a variable, look at it in a watch window, right-click -> Make Object ID, then put that Object ID in the watch window. Let it deadlock, break, and inspect the task in the watch window from its Object ID.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 14691, "user_id": 1808494, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3d837ea752592568bd712261baa61a2d?s=128&d=identicon&r=PG&f=1", "display_name": "Aron", "link": "https://stackoverflow.com/users/1808494/aron"}, "edited": false, "score": 0, "creation_date": 1576489889, "post_id": 58960850, "comment_id": 104903148, "body": "I wouldn&#39;t call it a deadlock. If another thread is created to pump the MessageLoop, the application will continue. Deadlock means two threads waiting for each other to release a resource."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 14691, "user_id": 1808494, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3d837ea752592568bd712261baa61a2d?s=128&d=identicon&r=PG&f=1", "display_name": "Aron", "link": "https://stackoverflow.com/users/1808494/aron"}, "edited": false, "score": 0, "creation_date": 1576491361, "post_id": 58960850, "comment_id": 104903867, "body": "@Aron I guess your comment was intended for the main question, not for this answer. :-)"}], "tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": true, "score": 3, "last_activity_date": 1576489079, "last_edit_date": 1576489079, "creation_date": 1574273485, "answer_id": 58960850, "question_id": 58960005, "link": "https://stackoverflow.com/questions/58960005/async-await-deadlock-when-using-windowsformssynchronizationcontext-in-a-console/58960850#58960850", "title": "async/await deadlock when using WindowsFormsSynchronizationContext in a console app", "body": "<p>This happens because the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.windowsformssynchronizationcontext\" rel=\"nofollow noreferrer\"><code>WindowsFormsSynchronizationContext</code></a> depends on the existence of a standard Windows message loop. A console application does not start such a loop, so the messages posted to the <code>WindowsFormsSynchronizationContext</code> are not processed, the task continuations are not invoked, and so the program hangs on the first <code>await</code>. You can confirm the non-existence of a message loop by querying the boolean property <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.application.messageloop\" rel=\"nofollow noreferrer\"><code>Application.MessageLoop</code></a>.</p>\n\n<blockquote>\n  <p>Gets a value indicating whether a message loop exists on this thread.</p>\n</blockquote>\n\n<p>To make the <code>WindowsFormsSynchronizationContext</code> functional you must start a message loop. It can be done like this:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    EventHandler idleHandler = null;\n    idleHandler = async (sender, e) =&gt;\n    {\n        Application.Idle -= idleHandler;\n        await MyMain(args);\n        Application.ExitThread();\n    };\n    Application.Idle += idleHandler;\n    Application.Run();\n}\n</code></pre>\n\n<p>The <code>MyMain</code> method is your current <code>Main</code> method, renamed.</p>\n\n<hr>\n\n<p><strong>Update:</strong> Actually the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.application.run\" rel=\"nofollow noreferrer\"><code>Application.Run</code></a> method installs automatically a <code>WindowsFormsSynchronizationContext</code> in the current thread, so you don't have to do it explicitly. If you want you can prevent this automatic installation, be configuring the property <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.windowsformssynchronizationcontext.autoinstall\" rel=\"nofollow noreferrer\"><code>WindowsFormsSynchronizationContext.AutoInstall</code></a> before calling <code>Application.Run</code>.</p>\n\n<blockquote>\n  <p>The <code>AutoInstall</code> property determines whether the <code>WindowsFormsSynchronizationContext</code> is installed when a control is created, or when a message loop is started.</p>\n</blockquote>\n"}], "owner": {"reputation": 1939, "user_id": 162641, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/edee6bd31de7122d04f647e5b9476dfa?s=128&d=identicon&r=PG", "display_name": "Darragh", "link": "https://stackoverflow.com/users/162641/darragh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 58960850, "answer_count": 3, "score": 6, "last_activity_date": 1576489079, "creation_date": 1574270323, "question_id": 58960005, "link": "https://stackoverflow.com/questions/58960005/async-await-deadlock-when-using-windowsformssynchronizationcontext-in-a-console", "title": "async/await deadlock when using WindowsFormsSynchronizationContext in a console app", "body": "<p>As a learning exercise, I'm trying to reproduce an async/await deadlock that occurs in a normal windows form, but using a console app. I was hoping the code below would cause this to happen, and indeed it does. But the deadlock also happens unexpectedly when using await.</p>\n\n<pre><code>using System;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nstatic class Program\n{\n    static async Task Main(string[] args)\n    {\n        // no deadlocks when this line is commented out (as expected)\n        SynchronizationContext.SetSynchronizationContext(new WindowsFormsSynchronizationContext()); \n        Console.WriteLine(\"before\");\n        //DoAsync().Wait(); // deadlock expected...and occurs\n        await DoAsync(); // deadlock not expected...but also occurs???\n        Console.WriteLine(\"after\");\n    }\n    static async Task DoAsync()\n    {\n        await Task.Delay(100);\n    }\n}\n</code></pre>\n\n<p>I'm mostly curious if anyone knows why this is happening?</p>\n"}, {"tags": ["c#", "math", "rotation", "quantum-computing", "spherical-coordinate"], "comments": [{"owner": {"reputation": 4535, "user_id": 59081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c17b54bbea172f608e552f9bf67d4f9?s=128&d=identicon&r=PG", "display_name": "Tanveer Badar", "link": "https://stackoverflow.com/users/59081/tanveer-badar"}, "edited": false, "score": 0, "creation_date": 1574272084, "post_id": 58959969, "comment_id": 104176136, "body": "What results are you getting and how do they not make sense? Not everyone on SO is an expert on QM."}, {"owner": {"reputation": 1, "user_id": 6738192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae31bb8950f8408c71744cab78522598?s=128&d=identicon&r=PG&f=1", "display_name": "J. Mozalbat", "link": "https://stackoverflow.com/users/6738192/j-mozalbat"}, "reply_to_user": {"reputation": 4535, "user_id": 59081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c17b54bbea172f608e552f9bf67d4f9?s=128&d=identicon&r=PG", "display_name": "Tanveer Badar", "link": "https://stackoverflow.com/users/59081/tanveer-badar"}, "edited": false, "score": 0, "creation_date": 1574688020, "post_id": 58959969, "comment_id": 104309005, "body": "I added the results I&#39;m getting (since I&#39;m only rotating 30 degrees you can instantly see that the results are not correct)"}, {"owner": {"reputation": 46777, "user_id": 1100107, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8789d3da0b482bcd8e562bfdf3687c74?s=128&d=identicon&r=PG", "display_name": "St&#233;phane Laurent", "link": "https://stackoverflow.com/users/1100107/st%c3%a9phane-laurent"}, "edited": false, "score": 0, "creation_date": 1583149431, "post_id": 58959969, "comment_id": 107006902, "body": "In <code>MultiplyComplexMatrix</code> you do not use <code>C</code>. There should be an error. Also it is strange to multiply <code>A</code> with <code>B</code>."}], "owner": {"reputation": 1, "user_id": 6738192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae31bb8950f8408c71744cab78522598?s=128&d=identicon&r=PG&f=1", "display_name": "J. Mozalbat", "link": "https://stackoverflow.com/users/6738192/j-mozalbat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574687968, "creation_date": 1574270193, "last_edit_date": 1574687968, "question_id": 58959969, "link": "https://stackoverflow.com/questions/58959969/rotation-in-spherical-coordinates-using-a-qubit", "title": "Rotation in Spherical Coordinates using a qubit", "body": "<p>I have been trying to rotate spherical coordinates using quantum physics.\nI followed the following post on how to do this:\n<a href=\"https://stla.github.io/stlapblog/posts/RotationSphericalCoordinates.html\" rel=\"nofollow noreferrer\">https://stla.github.io/stlapblog/posts/RotationSphericalCoordinates.html</a></p>\n\n<p>I have some knowledge about quantum physics but very limited.\nHere is what I came up with in C# (sorry about indentation):</p>\n\n<pre><code>public Complex[,] rotationsMatrixX = new Complex[2, 2];\npublic Complex[,] rotationsMatrixY = new Complex[2, 2];\npublic Complex[,] rotationsMatrixZ = new Complex[2, 2];\n\npublic void rotatemethod(){\n//Initialize the rotation matrices\n\ndouble angle = 30;\n\n//init X\nrotationsMatrixX[0, 0] = new Complex(Math.Cos(angle / 2), 0);\nrotationsMatrixX[0, 1] = new Complex(0, -Math.Sin(angle / 2));\nrotationsMatrixX[1, 0] = new Complex(0, -Math.Sin(angle / 2));\nrotationsMatrixX[1, 1] = new Complex(Math.Cos(angle / 2), 0);\n\n//init Y\nrotationsMatrixY[0, 0] = new Complex(Math.Cos(angle / 2), 0);\nrotationsMatrixY[0, 1] = new Complex(-Math.Sin(angle / 2), 0);\nrotationsMatrixY[1, 0] = new Complex(Math.Sin(angle / 2), 0);\nrotationsMatrixY[1, 1] = new Complex(Math.Cos(angle / 2), 0);\n\n//init Z\nrotationsMatrixZ[0, 0] = new Complex(Math.Cos(angle / 2), -Math.Sin(angle / 2));\nrotationsMatrixZ[0, 1] = new Complex(0, 0);\nrotationsMatrixZ[1, 0] = new Complex(0, 0);\nrotationsMatrixZ[1, 1] = new Complex(Math.Cos(angle / 2), Math.Sin(angle / 2));\n\ndouble theta = 0.20943951023932; // 0 &lt;= phi &lt;= 2PI (for now just sample input)\ndouble phi = 4.93055513688398;   // 0 &lt;= theta &lt;= Pi (for now just sample input)\n\nConsole.WriteLine(\" theta \" + theta + \" phi: \" + phi);\n\n//validation checks\nif (theta &lt; 0 || theta &gt; Math.PI || phi &lt; 0 || phi &gt; 2 * Math.PI)\n{\n    throw new ArgumentOutOfRangeException(\"phi and/or theta out of bounds\");\n}\n\n//create the qubit\nComplex topQbit = new Complex(Math.Cos(theta/2),0);\nComplex bottomQbit = new Complex(Math.Cos(phi)*Math.Sin(theta/2), Math.Sin(phi)*Math.Sin(theta/2));\n\nComplex[] quBit = new Complex[2];\nquBit[0] = topQbit;\nquBit[1] = bottomQbit;\n\nComplex[] rotatedQbit = MultiplyComplexMatrix(quBit, rotationsMatrixY);\n\nComplex[] rotatedQbit = MultiplyComplexMatrix(quBit, rotationsMatrixY);\n\n//not sure if I need Atan2 here..\ndouble rotatedTheta = 2 * Math.Atan(Complex.Abs(rotatedQbit[1]) / Complex.Abs(rotatedQbit[0])); \ndouble rotatedPhi = rotatedQbit[1].Phase - rotatedQbit[0].Phase;\n}\n\n\n\n//Matrix Multiplication (with Complex numbers ONLY)\n        public Complex[] MultiplyComplexMatrix(Complex[] quBit, Complex[,] rotationMatrix)\n        {\n            //the rotated qbit\n            Complex[] rotatedQbit = new Complex[2];\n\n            //just some naming to make matrix multiplication more readable\n            Complex A = quBit[0];\n            Complex B = quBit[1];\n            Complex C = rotationMatrix[0, 0];\n            Complex D = rotationMatrix[0, 1];\n            Complex E = rotationMatrix[1, 0];\n            Complex F = rotationMatrix[1, 1];\n\n            rotatedQbit[0] = Complex.Multiply(A, B) + Complex.Multiply(B, E);\n            rotatedQbit[1] = Complex.Multiply(A, D) + Complex.Multiply(B, F);\n\n            return rotatedQbit;\n        }\n\n</code></pre>\n\n<p>The results (below) I am getting do not make any sense. I would apparitie any help! or an alternative to achieving this.</p>\n\n<p>RESULTS FROM SAMPLE INPUT (rotating over Y with angle=30):</p>\n\n<p>starting with C: 232.5 G: 124----------------<br>\n theta 2.16420827247297 phi: 4.05789051088682<br>\nthe rotatedTheta is: 1.00298077136411 and the rotatedPhi is: 3.60482234077516<br>\nin degrees:<br>\n theta 124 phi: 232.5<br>\nthe rotatedTheta is: 57.466565131939 and the rotatedPhi is: 206.541106020887<br>\nending with C: 232.5 G: 124----------------<br>\nstarting with C: 232.5 G: 126----------------<br>\n theta 2.19911485751286 phi: 4.05789051088682<br>\nthe rotatedTheta is: 1.01877652772437 and the rotatedPhi is: 3.58185846568257<br>\nin degrees:<br>\n theta 126 phi: 232.5<br>\nthe rotatedTheta is: 58.3715953055989 and the rotatedPhi is: 205.225372896816<br>\nending with C: 232.5 G: 126----------------<br>\nstarting with C: 232.5 G: 128----------------<br>\n theta 2.23402144255274 phi: 4.05789051088682<br>\nthe rotatedTheta is: 1.03535071902231 and the rotatedPhi is: 3.55952053311715<br>\nin degrees:<br>\n theta 128 phi: 232.5<br>\nthe rotatedTheta is: 59.3212265158133 and the rotatedPhi is: 203.94550363777<br>\nending with C: 232.5 G: 128----------------<br>\nstarting with C: 232.5 G: 130----------------<br>\n theta 2.26892802759263 phi: 4.05789051088682<br>\nthe rotatedTheta is: 1.05269513187015 and the rotatedPhi is: 3.53779163501912<br>\nin degrees:<br>\n theta 130 phi: 232.5<br>\nthe rotatedTheta is: 60.3149881701271 and the rotatedPhi is: 202.700529483282<br>\nending with C: 232.5 G: 130----------------  </p>\n"}, {"tags": ["c#", "facebook", "selenium-webdriver", "web-scraping", "html-agility-pack"], "comments": [{"owner": {"reputation": 5091, "user_id": 10955263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac8352744d1489964dc9ea418be332ed?s=128&d=identicon&r=PG&f=1", "display_name": "04FS", "link": "https://stackoverflow.com/users/10955263/04fs"}, "edited": false, "score": 1, "creation_date": 1574322332, "post_id": 58959915, "comment_id": 104193275, "body": "<i>\u201cI am unable to scrape messages of fb messenger.\u201d</i> - good. Because you are not supposed to do that in the first place."}, {"owner": {"reputation": 11, "user_id": 11071270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dc6a409e62ae7b1dedc8950e34c1d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Avais", "link": "https://stackoverflow.com/users/11071270/anas-avais"}, "reply_to_user": {"reputation": 5091, "user_id": 10955263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac8352744d1489964dc9ea418be332ed?s=128&d=identicon&r=PG&f=1", "display_name": "04FS", "link": "https://stackoverflow.com/users/10955263/04fs"}, "edited": false, "score": 0, "creation_date": 1574325775, "post_id": 58959915, "comment_id": 104194973, "body": "Ok, thank you.  I have already extracted messages ."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 11071270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dc6a409e62ae7b1dedc8950e34c1d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Avais", "link": "https://stackoverflow.com/users/11071270/anas-avais"}, "is_accepted": false, "score": 0, "last_activity_date": 1574325857, "creation_date": 1574325857, "answer_id": 58970613, "question_id": 58959915, "link": "https://stackoverflow.com/questions/58959915/trying-to-scrape-facebook-messenger-chat-esp-a-facebook-messenger-group-chat/58970613#58970613", "title": "trying to scrape facebook messenger chat esp. a facebook messenger group chat", "body": "<p>Changed the statement of selecting nodes and it worked.</p>\n\n<pre><code>        HtmlDocument doc = new HtmlDocument();\n        doc.LoadHtml(driver.PageSource);\n        var htmlBody = doc.DocumentNode.SelectNodes(\"//span[contains(@class,'_3oh- _58nk')]\").ToList();\n\n        foreach (var abc in htmlBody)\n        {\n            Console.WriteLine(abc.InnerText);\n        }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11071270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dc6a409e62ae7b1dedc8950e34c1d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Avais", "link": "https://stackoverflow.com/users/11071270/anas-avais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1574325857, "creation_date": 1574270043, "last_edit_date": 1574270365, "question_id": 58959915, "link": "https://stackoverflow.com/questions/58959915/trying-to-scrape-facebook-messenger-chat-esp-a-facebook-messenger-group-chat", "title": "trying to scrape facebook messenger chat esp. a facebook messenger group chat", "body": "<p>I am trying to scrape some fb messenger group chat using c# + selenium + htmlAgilitypack. Till now, i am being successful in signing in to facebook and navigating to messenger chat but I am unable to read messages in a chat and show it on my console.</p>\n\n<pre><code>  string webUrl = \"https://www.facebook.com/\";\n        bool Loop = true;\n        HtmlWeb Web = new HtmlWeb();\n   Console.WriteLine(\"Begins\");\n    var options = new ChromeOptions()\n        {\n            BinaryLocation = @\"C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe\",\n            AcceptInsecureCertificates = true\n\n        };\n\n        IWebDriver driver = new ChromeDriver(@\"C:\\Users\\anasa\\OneDrive\\Documents\\visual studio 2015\\Projects\\Web Scrapping\\Web Scrapping\\Classes\", options);\n\n    driver.Navigate().GoToUrl(webUrl);\n\n        var element = driver.FindElement(By.Id(\"email\"));\n        element.SendKeys(\"email\");\n        element = driver.FindElement(By.Id(\"pass\"));\n        element.SendKeys(\"password\");\n        element = driver.FindElement(By.XPath(\"//input[@value='Log In']\"));\n        element.Click();\n        string link = HttpUtility.HtmlDecode(webUrl + \"messages/t/Group.Name\");\n        driver.Navigate().GoToUrl(link);\n\n        HtmlDocument doc = new HtmlDocument();\n        doc.LoadHtml(driver.PageSource);\n        var htmlBody = doc.DocumentNode.SelectSingleNode(\"//body\");\n        Console.WriteLine(htmlBody.OuterHtml);\n</code></pre>\n\n<p>(\"//body\") brings the complete body to console but when I checked messages use a class i.e \"_3oh- _58nk\" and upon using  doc.DocumentNode.SelectNodes(\"//span[@class='_3oh- _58nk']\"), it shows null error.sO I  am unable to scrape messages of fb messenger.</p>\n"}, {"tags": ["c#", "generics", "inheritance", "interface"], "comments": [{"owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 1, "creation_date": 1574270088, "post_id": 58959887, "comment_id": 104175067, "body": "What would happen if you did <code>class FutureAllowedDaysSettings : IProjectSettings&lt;int&gt;, IProjectSettings&lt;double&gt;</code>? How would <code>GetSettings</code> know whether it was supposed to return an <code>int</code> or a <code>double</code>?"}, {"owner": {"reputation": 1, "user_id": 10748254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6uvoP.jpg?s=128&g=1", "display_name": "Dmitrii Vavel", "link": "https://stackoverflow.com/users/10748254/dmitrii-vavel"}, "reply_to_user": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 0, "creation_date": 1574270428, "post_id": 58959887, "comment_id": 104175281, "body": "You right. So it is impossible? Only pass IProjectSettings&lt;T&gt; as argument of function? Like <code>private T GetSettings&lt;T&gt;( IProjectSettings&lt;T&gt; settings )</code>?"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1574270462, "post_id": 58959887, "comment_id": 104175291, "body": "You either have to specify all the generic types or all the types have to be inferred."}, {"owner": {"reputation": 1, "user_id": 10748254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6uvoP.jpg?s=128&g=1", "display_name": "Dmitrii Vavel", "link": "https://stackoverflow.com/users/10748254/dmitrii-vavel"}, "edited": false, "score": 0, "creation_date": 1574271076, "post_id": 58959887, "comment_id": 104175602, "body": "thank you for your answer"}], "owner": {"reputation": 1, "user_id": 10748254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6uvoP.jpg?s=128&g=1", "display_name": "Dmitrii Vavel", "link": "https://stackoverflow.com/users/10748254/dmitrii-vavel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574272925, "creation_date": 1574269980, "last_edit_date": 1574272925, "question_id": 58959887, "link": "https://stackoverflow.com/questions/58959887/call-generic-method-with-generic-interface-with-only-one-type-parameter-c", "title": "Call generic method with generic interface with only one type parameter C#", "body": "<p>I have this generic method with generic interface:</p>\n\n<pre><code>private TP GetSettings&lt;T, TP&gt;( ) where T : IProjectSettings&lt;TP&gt;, new()\n    {\n        var userSetting = new T();\n\n        return userSetting.DefaultProjectSettings;\n    }\n</code></pre>\n\n<p>I have this class inherited from this generic interface:</p>\n\n<pre><code>internal class FutureAllowedDaysSettings : IProjectSettings&lt;int&gt;\n{\n    public string Name =&gt; \"FutureAllowedDays\";\n    public int DefaultProjectSettings =&gt; 1;\n}\n</code></pre>\n\n<p>Generic interface</p>\n\n<pre><code>public interface IProjectSettings&lt;T&gt;\n{\n    string Name { get; }\n    T DefaultProjectSettings { get; }\n}\n</code></pre>\n\n<p>and now I want to use this method like this:</p>\n\n<pre><code>int res = GetSettings&lt;FutureAllowedDaysSettings&gt;();\n</code></pre>\n\n<p>But I can't. I always need to pass the second type like this:</p>\n\n<pre><code>int res = GetSettings&lt;FutureAllowedDaysSettings,int&gt;();\n</code></pre>\n\n<p>But it is weird. FutureCheckSettings is IProjectSettings, so the compiler should know that the second type will be int. Because if I try to change bool to int like this:</p>\n\n<pre><code>bool int = GetSettings&lt;FutureAllowedDaysSettings,bool&gt;();\n</code></pre>\n\n<p>I'll get the error:\nIncorrect number of type parameters</p>\n\n<p>Why it happen and is it possible to call this method passing only one type (FutureAllowedDaysSettings)/ If not how can I change my code to make it possible?</p>\n"}, {"tags": ["c#", "xaml", "xamarin.forms"], "comments": [{"owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "edited": false, "score": 0, "creation_date": 1574269721, "post_id": 58959699, "comment_id": 104174871, "body": "You create a new instance of the Calculos class. Instead, you need to pass the object you use before to the later view, so that it is used there."}], "answers": [{"comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "reply_to_user": {"reputation": 5, "user_id": 11961923, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157373701058904/picture?type=large", "display_name": "Oscar Perez Lugo", "link": "https://stackoverflow.com/users/11961923/oscar-perez-lugo"}, "edited": false, "score": 0, "creation_date": 1574271702, "post_id": 58959879, "comment_id": 104175934, "body": "without seeing your actual code I can&#39;t tell you what&#39;s wrong.  Either update your question with the modified code, or break out the debugger and step through it to figure out whats wrong"}, {"owner": {"reputation": 5, "user_id": 11961923, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157373701058904/picture?type=large", "display_name": "Oscar Perez Lugo", "link": "https://stackoverflow.com/users/11961923/oscar-perez-lugo"}, "edited": false, "score": 0, "creation_date": 1574272018, "post_id": 58959879, "comment_id": 104176107, "body": "it&#39;s working right now, thanks, the only think im a little bit worried is because i&#39;ts not the inmediate next page, so i have to pass the data between all the pages, do you think it should be the best way to do it?"}], "tags": [], "owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "is_accepted": true, "score": 2, "last_activity_date": 1574269956, "creation_date": 1574269956, "answer_id": 58959879, "question_id": 58959699, "link": "https://stackoverflow.com/questions/58959699/i-cant-pass-data-between-pages/58959879#58959879", "title": "I can&#39;t pass data between pages", "body": "<p>you are not doing anything to actually pass data</p>\n\n<p>try this</p>\n\n<pre><code>// pass the instance of calculos to the new page\nMitadMundo myHomePage = new MitadMundo(calculos);\n</code></pre>\n\n<p>then, in that page's constructor</p>\n\n<pre><code>public MitadMundo(Calculos calc)\n{\n    InitializeComponent();\n\n    Personas.Text = calc.personas;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 10072287, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BUimbkDDDjQ/AAAAAAAAAAI/AAAAAAAABms/HxNGggeZEyo/photo.jpg?sz=128", "display_name": "The bug", "link": "https://stackoverflow.com/users/10072287/the-bug"}, "is_accepted": false, "score": 0, "last_activity_date": 1574272401, "creation_date": 1574272401, "answer_id": 58960561, "question_id": 58959699, "link": "https://stackoverflow.com/questions/58959699/i-cant-pass-data-between-pages/58960561#58960561", "title": "I can&#39;t pass data between pages", "body": "<p>when you are using 'new' which means you are creating new instance of that class. new instance wouldnt have any values previously you set anywhere else.</p>\n\n<p><code>Calculos calculos = new Calculos();</code></p>\n\n<p>what you have to do is pass the calculos object to wherver you going to read the values.\n<code>Calculos calculos = new Calculos();\ncalculos.personas = Personas.Text.ToString();\ncalculos.carros = Carros.Text.ToString();\ncalculos.buses = Buses.Text.ToString();</code></p>\n\n<p>pass this calculos object to any class or page where you want to read values from.</p>\n"}], "owner": {"reputation": 5, "user_id": 11961923, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157373701058904/picture?type=large", "display_name": "Oscar Perez Lugo", "link": "https://stackoverflow.com/users/11961923/oscar-perez-lugo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 58959879, "answer_count": 2, "score": 0, "last_activity_date": 1574272401, "creation_date": 1574269305, "last_edit_date": 1574271718, "question_id": 58959699, "link": "https://stackoverflow.com/questions/58959699/i-cant-pass-data-between-pages", "title": "I can&#39;t pass data between pages", "body": "<p>I'm creating an app and I need to use the data from an Entry Text in another page </p>\n\n<p>I Created a class</p>\n\n<pre><code>public class Calculos\n{\n    public string puntos { get; set; }\n    public decimal distancia { get; set; }\n    public string personas { get; set; } \n    public string carros { get; set; }\n    public string buses { get; set; }\n    public int gaseosas { get; set; }\n    public decimal monto { get; set; }\n}\n</code></pre>\n\n<p>then i created the user entry text</p>\n\n<pre><code>public async void Siguiente_Clicked(object sender, EventArgs e)\n{\n\n    Calculos calculos = new Calculos();\n\n    calculos.personas = Personas.Text.ToString();\n    calculos.carros = Carros.Text.ToString();\n    calculos.buses = Buses.Text.ToString();\n\n    MitadMundo myHomePage = new MitadMundo();\n    NavigationPage.SetHasNavigationBar(myHomePage, true);\n    await Navigation.PushModalAsync(myHomePage);\n}\n</code></pre>\n\n<p>And after all is the final view</p>\n\n<pre><code>public CarritoPage()\n{\n    InitializeComponent();\n\n    Calculos calculos = new Calculos();\n    string calc = calculos.personas;\n    Personas.Text = calc;\n\n}\n</code></pre>\n\n<p>and this how it looks in XAML</p>\n\n<pre><code>&lt;Label x:Name=\"Personas\"  FontSize=\"Medium\"  TextColor=\"Black\" BackgroundColor=\"Transparent\" Grid.Row=\"2\" Grid.Column=\"2\" VerticalOptions=\"Center\" HorizontalOptions=\"Center\"/&gt;\n&lt;Label x:Name=\"Carros\"  FontSize=\"Medium\"  TextColor=\"Black\" BackgroundColor=\"Transparent\" Grid.Row=\"3\" Grid.Column=\"2\" VerticalOptions=\"Center\" HorizontalOptions=\"Center\"/&gt;\n&lt;Label x:Name=\"Buses\"  FontSize=\"Medium\"  TextColor=\"Black\" BackgroundColor=\"Transparent\" Grid.Row=\"4\" Grid.Column=\"2\" VerticalOptions=\"Center\" HorizontalOptions=\"Center\"/&gt;\n</code></pre>\n\n<p>but the data is not showing anything when i test the app\ni don't know if it is something in the entry text\nor if it's something wrong with the final page\ni would really appreciate your help</p>\n"}, {"tags": ["c#", "uwp", "usb"], "comments": [{"owner": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "edited": false, "score": 0, "creation_date": 1574327130, "post_id": 58959635, "comment_id": 104195767, "body": "From this <a href=\"https://stackoverflow.com/questions/41096871/uwp-app-cannot-find-connect-to-usb-device\">similar thread</a>, when he used a custom .inf to refer to winusb as the driver, he could find the USB device. If you try to custom an .inf, can you find the device? About more details, you can refer to this <a href=\"https://docs.microsoft.com/en-US/windows-hardware/drivers/usbcon/winusb-installation\" rel=\"nofollow noreferrer\">document</a>."}, {"owner": {"reputation": 8278, "user_id": 2901207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tIung.png?s=128&g=1", "display_name": "CularBytes", "link": "https://stackoverflow.com/users/2901207/cularbytes"}, "reply_to_user": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "edited": false, "score": 0, "creation_date": 1574441115, "post_id": 58959635, "comment_id": 104247173, "body": "I do have the inf file for the device, as this is actually a pre-check to see if both the device is connected and the driver is installed. So using a inf file is at this stage not an option as it might be not installed yet."}, {"owner": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "edited": false, "score": 0, "creation_date": 1575340704, "post_id": 58959635, "comment_id": 104524351, "body": "You are using the AQS returned from UsbDevice.GetDeviceSelector(vid,pid). This means you are not looking for any USB device with that VID/PID, but a <a href=\"https://docs.microsoft.com/en-us/windows-hardware/drivers/usbcon/winusb\" rel=\"nofollow noreferrer\">WinUSB</a> USB device with that VID/PID. If you can\u2019t find their device, then either the VID/PID is wrong, or the device isn\u2019t a WinUSB device. You can can tell whether it\u2019s a WinUSB device by looking at the service property (==WINUSB) for the device in DeviceManager. If it doesn\u2019t, then it\u2019s unlikely to be a WinUSB device (i.e. some other driver is slurping it up)."}], "owner": {"reputation": 8278, "user_id": 2901207, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tIung.png?s=128&g=1", "display_name": "CularBytes", "link": "https://stackoverflow.com/users/2901207/cularbytes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574269119, "creation_date": 1574269119, "last_edit_date": 1592644375, "question_id": 58959635, "link": "https://stackoverflow.com/questions/58959635/find-usb-device-by-vid-and-pid-does-not-work", "title": "Find usb device by VID and PID does not work", "body": "<p>According to this <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.devices.usb.usbdevice\" rel=\"nofollow noreferrer\">documentation</a>, I should be able to retrieve the usb device based on Vendor ID and Product ID, it also gives some extra information:</p>\n<blockquote>\n<p>The vendor and product identifiers for the physical device. Those identifiers are part of the hardware ID string. You can obtain that string from the Models section in the INF file. Alternatively, if WinUSB was loaded based on the compatible ID specified in the device descriptor, you can derive the identifiers from the Hardware Ids property in Device Manager. For example, if Hardware Id is &quot;USB\\VID_045E&amp;PID_078E&quot;, vendor ID is &quot;0x045E&quot; and product Id is &quot;0x078E&quot;.</p>\n</blockquote>\n<p>So I look up the USB Hardware Ids:</p>\n<p><a href=\"https://i.stack.imgur.com/ukiDs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ukiDs.png\" alt=\"enter image description here\" /></a></p>\n<p>And then I use this code:</p>\n<pre><code>private async Task&lt;bool&gt; IsDeviceConnected()\n{\n    uint vid = 0x0529;\n    uint pid = 0x0620;\n    var deviceSelector = UsbDevice.GetDeviceSelector(vid,pid);\n    var allDevices = await DeviceInformation.FindAllAsync();\n    var listDevices = allDevices.ToList();\n    foreach (var item in listDevices)\n    {\n        Debug.WriteLine($&quot;{item.Name} - ID: {item.Id}&quot;);\n    }\n    var deviceCollection = (await DeviceInformation.FindAllAsync(deviceSelector)).ToList();\n    if (deviceCollection.Any())\n    {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>The iteration of all devices does provide information about the device I am looking for, slightly different name though:</p>\n<blockquote>\n<p>Token JC - ID: \\?\\USB#VID_0529&amp;PID_0620#6&amp;13f4c3e&amp;0&amp;2#{894a7461-a033-11d2-821e-444553540000}</p>\n<p>Token JC - ID: \\?\\USB#VID_0529&amp;PID_0620#6&amp;13f4c3e&amp;0&amp;2#{a6d4c357-c4b7-4dd9-85b7-2bf335618e8e}</p>\n<p>Token JC - ID: \\?\\USB#VID_0529&amp;PID_0620#6&amp;13f4c3e&amp;0&amp;2#{a5dcbf10-6530-11d2-901f-00c04fb951ed}</p>\n</blockquote>\n<p><code>deviceSelector</code> outputs:</p>\n<blockquote>\n<p>System.Devices.InterfaceClassGuid:=&quot;{DEE824EF-729B-4A0E-9C14-B7117D33A817}&quot; AND System.Devices.InterfaceEnabled:=System.StructuredQueryType.Boolean#True AND System.DeviceInterface.WinUsb.UsbVendorId:=1321 AND System.DeviceInterface.WinUsb.UsbProductId:=1568</p>\n</blockquote>\n<p>I have tried also one other device (a microphone) but can't find that either via Vendor ID and product ID. What am I doing wrong?</p>\n<p>I have noticed that the GUID that is in the <code>deviceSelector</code> query doesn't match with any of the above GUIDs, nor does it match with the &quot;Class Guid&quot; that is listed in the device properties, which is: {36fc9e60-c465-11cf-8056-444553540000}.</p>\n<p>Not sure if relevant, but this is within an UWP app environment.</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 0, "creation_date": 1574271470, "post_id": 58959609, "comment_id": 104175815, "body": "ACE is available in two different versions of &quot;bitness&quot; - 32bit and 64bit. If you ahve the 64 bit driver installed and you&#39;re writing a 32bit program, or vice versa, then your program won&#39;t be able to find the driver. Additionally, ACE 12 relates to Office 2007 or Access Data Engine 2010 redistributable. 2016 is a different version of ACE (possibly 16 - I&#39;ve never looked. It&#39;s supremely confusing and annoying that Jet/Ace engine numerical versions don&#39;t necessarily align with the year on the marketing packaging - <a href=\"https://www.fmsinc.com/MicrosoftAccess/history/versions.htm\" rel=\"nofollow noreferrer\">fmsinc.com/MicrosoftAccess/history/versions.htm</a>)"}], "answers": [{"tags": [], "owner": {"reputation": 528, "user_id": 4164561, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HNxmAu439N4/AAAAAAAAAAI/AAAAAAAAAAA/GZfP4CiMyqU/photo.jpg?sz=128", "display_name": "rjs123431", "link": "https://stackoverflow.com/users/4164561/rjs123431"}, "is_accepted": false, "score": 0, "last_activity_date": 1574342576, "creation_date": 1574342576, "answer_id": 58976097, "question_id": 58959609, "link": "https://stackoverflow.com/questions/58959609/microsoft-ace-oledb-12-is-not-registered-on-the-local-machine/58976097#58976097", "title": "microsoft ace oledb 12 is not registered on the local machine", "body": "<p>I would prefer to use <a href=\"https://github.com/ExcelDataReader/ExcelDataReader\" rel=\"nofollow noreferrer\">ExcelDataReader</a> to easily read excel files. There is also EPPlus which has the ability to create excel files for export functionality on your application.</p>\n"}], "owner": {"reputation": 1, "user_id": 12405394, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCI9_3UFd5LrB-Mt7NE54L8cTFZscslYYMnzVhVUg=k-s128", "display_name": "Abhijeet Hande", "link": "https://stackoverflow.com/users/12405394/abhijeet-hande"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574342576, "creation_date": 1574269034, "question_id": 58959609, "link": "https://stackoverflow.com/questions/58959609/microsoft-ace-oledb-12-is-not-registered-on-the-local-machine", "title": "microsoft ace oledb 12 is not registered on the local machine", "body": "<p>I installed Microsoft Access Database Engine 2016 Redistributable(X_64bit). How do you fix this on Windows 10 64 bit pc, 32 bit Office 2016, Windows 10?</p>\n\n<p>Not able to upload excel file.at connection open its throwing error  The 'Microsoft.ACE.OLEDB.12.0' provider is not registered on the local machine.</p>\n"}, {"tags": ["c#", "html", ".net", "winforms", "webbrowser-control"], "answers": [{"comments": [{"owner": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574328553, "post_id": 58968460, "comment_id": 104196646, "body": "Thanks a lot but It didn&#39;t work because I do a silent printing, You had helped me a lot to print the HTML silently without dialogs <a href=\"https://stackoverflow.com/a/57233157/418343\">stackoverflow.com/a/57233157/418343</a> , Could U help me please to keep background images based on these circumstances."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574328662, "post_id": 58968460, "comment_id": 104196712, "body": "No problem, The first option (setting the registry key) should work. You just need to make sure you are setting it correctly."}, {"owner": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574329519, "post_id": 58968460, "comment_id": 104197285, "body": "I need to do it Programmatically, so I copy and paste your block of code in my <code>PageSetup</code> method, but it didn&#39;t work, I edit my question Could U take a look please"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 1, "creation_date": 1574329859, "post_id": 58968460, "comment_id": 104197509, "body": "I&#39;ll reset the edit which you made on question because it makes the answer nonsense. I&#39;ll take a look at the code which is still accessible in edit history of your question."}, {"owner": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574334906, "post_id": 58968460, "comment_id": 104200673, "body": "Did U find the problem"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574356015, "post_id": 58968460, "comment_id": 104213350, "body": "@AnynameDonotcare I tried your code by minimizing the button click event handler to these lines <code>webBrowser1.Visible = false; SetupPage(); webBrowser1.Print();</code> and every thing worked as expected."}, {"owner": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574455393, "post_id": 58968460, "comment_id": 104253384, "body": "Did U try it without the dialog box (silent printing) using your answer <a href=\"https://stackoverflow.com/a/57380227/418343\">stackoverflow.com/a/57380227/418343</a>  because I have tried it but still the same problem"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574460705, "post_id": 58968460, "comment_id": 104255140, "body": "Yes I tried and it works well. Use <code>webBrowser1.Visible = false; SetupPage(); webBrowser1.Print();</code>."}, {"owner": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574606256, "post_id": 58968460, "comment_id": 104283543, "body": "I use <code>Windows 10</code> how to make sure that these registry values are set, because I take the HTML Doc run it in Microsoft Edge and <code>print</code> it after running the block of code which set these values, but the document is printed without the watermark!"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574606431, "post_id": 58968460, "comment_id": 104283598, "body": "The settings are IE settings not the edge. As a test html document just browse <a href=\"https://www.bing.com\" rel=\"nofollow noreferrer\">bing.com</a> and print using exactly with this commmands <code>webBrowser1.Visible = false; SetupPage(); webBrowser1.Print();</code> after made sure the document loaded completely."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574606544, "post_id": 58968460, "comment_id": 104283619, "body": "Try to test the answer in a clean environment and using a minimal complete verifiable code. I can confirms it&#39;s a working as expected."}, {"owner": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574607107, "post_id": 58968460, "comment_id": 104283769, "body": "I have created a fresh console application and set the configuration method in the Main() method, Run the application, then try to open the HTML in Internet Explorer and try to print it but no watermarks!"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574607556, "post_id": 58968460, "comment_id": 104283891, "body": "So check the registry to see if the setting has been applied and make sure you are using exactly the code which is shared in answer and you are browsing <a href=\"https://www.bing.com\" rel=\"nofollow noreferrer\">bing.com</a> for test. Also as a result the check box of print background in page setup dialog should be checked."}, {"owner": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574608519, "post_id": 58968460, "comment_id": 104284195, "body": "I have checked this answer <a href=\"https://stackoverflow.com/a/37565013/418343\">stackoverflow.com/a/37565013/418343</a>, and encoded my SVG and I edited my question,so now the watermar has appeared only in the browser (IE)view, but doesn&#39;t appear in the printing. (Print background colors and images) option is checked. So I think the registry has changed but this fails to reflect in the printing."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574611976, "post_id": 58968460, "comment_id": 104285127, "body": "I would say the post answrs printing background image but I haven&#39;t checked it with encoded svg data url."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574612268, "post_id": 58968460, "comment_id": 104285203, "body": "If printing doesn&#39;t work in IE it wont work in browser control. If printing works in IE it will work in browser control as well."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574966275, "post_id": 58968460, "comment_id": 104423157, "body": "@AnynameDonotcare I checked this answer again and I can confirm if you use a <code>png</code>, <code>jpg</code> or <code>bmp</code> background, everything works fine. But for <code>svg</code>, it doesn&#39;t work , because it doesn&#39;t work in IE. I suggest keep this question specific to background css and images and keep the new post for <code>svg</code>, because <code>svg</code> may need a totally different solution."}, {"owner": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574966518, "post_id": 58968460, "comment_id": 104423223, "body": "The problem here is I wanna to make a water mark without changing the layout by adding new divs or whatever so i depended on svg as a background image for the body."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574966678, "post_id": 58968460, "comment_id": 104423282, "body": "I guess you didn&#39;t get my point. Try this: <code>background-image: url(&quot;https:&#47;&#47;www.google.com&#47;images&#47;branding&#47;googlelogo&#47;1x&#47;go&zwnj;&#8203;oglelogo_color_272x9&zwnj;&#8203;2dp.png&quot;);</code> It doesn&#39;t have anything to do with layout. It will not change the layout."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574967204, "post_id": 58968460, "comment_id": 104423433, "body": "Why not, just create a png watermark and use it the same way that I showed in above comment."}, {"owner": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574967365, "post_id": 58968460, "comment_id": 104423474, "body": "Okay i will try a transparent image, but are You sure that u test it as a background-image in css not a src image"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574967576, "post_id": 58968460, "comment_id": 104423543, "body": "Yes, this is my test: <code>&lt;html&gt;     &lt;head&gt;         &lt;style&gt;              body {                 background-image: url(&quot;https:&#47;&#47;www.google.com&#47;images&#47;branding&#47;googlelogo&#47;1x&#47;go&zwnj;&#8203;oglelogo_color_272x9&zwnj;&#8203;2dp.png&quot;);             }          &lt;&#47;style&gt;     &lt;&#47;head&gt;     &lt;body&gt;     &lt;&#47;body&gt; &lt;&#47;html&gt;</code>"}, {"owner": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574967695, "post_id": 58968460, "comment_id": 104423589, "body": "Okay i will check it as an answer \ud83d\udc4d"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574967932, "post_id": 58968460, "comment_id": 104423647, "body": "It&#39;s the same thing that I told you one week ago! Anyway, I&#39;m happy that you finally get it worked ;)"}, {"owner": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574968039, "post_id": 58968460, "comment_id": 104423675, "body": "Sorry for confusion I thought it doesn\u2019t print because of the css rule doesn\u2019t work on IE"}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "reply_to_user": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574968119, "post_id": 58968460, "comment_id": 104423695, "body": "No worries, now you have it working. I may post an answer for the new post, just telling you use png instead of svg, because of limitation in IE."}, {"owner": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "edited": false, "score": 0, "creation_date": 1574968388, "post_id": 58968460, "comment_id": 104423784, "body": "\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb"}], "tags": [], "owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "is_accepted": true, "score": 2, "last_activity_date": 1577268335, "last_edit_date": 1577268335, "creation_date": 1574317293, "answer_id": 58968460, "question_id": 58959503, "link": "https://stackoverflow.com/questions/58959503/how-to-print-background-image-and-styles-in-webbrowser-control/58968460#58968460", "title": "How to print background image and styles in WebBrowser control", "body": "<p>There is a <em>Print Background Colors and Images</em> setting in <em>Page Setup</em> dialog which is shared between Web Browser Control and Internet Explorer. </p>\n\n<p>Page setup settings for Microsoft Internet Explorer are stored in the following registry key:</p>\n\n<pre><code>HKEY_CURRENT_USER\\Software\\Microsoft\\Internet Explorer\\PageSetup\n</code></pre>\n\n<p><em>Print Background Colors and Images</em> value is stored in <code>Print_Background</code> key which can be <code>yes</code> or <code>no</code>. You can change the setting using code, but just keep in mind, these values are system-wide settings and will affect all instances of the <code>WebBrowser</code> control and Internet Explorer for the current user:</p>\n\n<pre><code>using (var key = Microsoft.Win32.Registry.CurrentUser.OpenSubKey(\n    @\"Software\\Microsoft\\Internet Explorer\\PageSetup\", true))\n{\n    key.SetValue(\"Print_Background\", \"yes\", Microsoft.Win32.RegistryValueKind.String);\n}\n</code></pre>\n\n<p>Here is the test html that I used:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;style&gt;\n     body { background-image: url(\"https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png\"); } \n    &lt;/style&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 9931, "user_id": 418343, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/7pgAk.jpg?s=128&g=1", "display_name": "Anyname Donotcare", "link": "https://stackoverflow.com/users/418343/anyname-donotcare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 58968460, "answer_count": 1, "score": 1, "last_activity_date": 1577268335, "creation_date": 1574268629, "last_edit_date": 1577268291, "question_id": 58959503, "link": "https://stackoverflow.com/questions/58959503/how-to-print-background-image-and-styles-in-webbrowser-control", "title": "How to print background image and styles in WebBrowser control", "body": "<p>I want to print the background-images through my <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.webbrowser?view=netframework-4.8\" rel=\"nofollow noreferrer\">web browser control</a>:</p>\n\n<pre><code>body {\n    background-image: url(\"image url\");\n}\n</code></pre>\n\n<p>To do so, I'm generating the html content and finally try to print the document using:</p>\n\n<pre><code> webBrowserTest.Print();\n</code></pre>\n\n<p>While the background image is showing in the run-time in browser, but when printing it does't print. How can I Keep background images during printing?</p>\n"}, {"tags": ["c#", ".net", "performance", "linq"], "comments": [{"owner": {"reputation": 1174, "user_id": 1703915, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3AnAB.png?s=128&g=1", "display_name": "Mark Davies", "link": "https://stackoverflow.com/users/1703915/mark-davies"}, "edited": false, "score": 0, "creation_date": 1574268627, "post_id": 58959455, "comment_id": 104174267, "body": "Could you not run a performance viewer to see where the time is being taken up? From a quick glance it may be the difference between string and string builder and I think in the first example you have a few more loops but without doing in-depth analysis its hard to say"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1574268675, "post_id": 58959455, "comment_id": 104174298, "body": "That Linq query is going to iterate over the <code>data</code> over and over because of the embedded <code>Skip().Take()</code>.  Also I think you meant to use <code>hex</code> instead.  An alternative would be to use the <code>Select</code> that includes the index and group on the index divided by 32 to get each chunk of 32, and then iterate over those results and use a string builder."}, {"owner": {"reputation": 1614, "user_id": 680151, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ff4b1e4b379cf8b13887ec032ae8199d?s=128&d=identicon&r=PG", "display_name": "Karsten", "link": "https://stackoverflow.com/users/680151/karsten"}, "reply_to_user": {"reputation": 1174, "user_id": 1703915, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3AnAB.png?s=128&g=1", "display_name": "Mark Davies", "link": "https://stackoverflow.com/users/1703915/mark-davies"}, "edited": false, "score": 0, "creation_date": 1574269085, "post_id": 58959455, "comment_id": 104174541, "body": "@MarkDavies At the moment I am doubting my understanding of LINQ and am looking for some kind of general answer what is going on here.  Apart from that I did run some tests. I am pretty sure most of the time is spent in <code>String.Join()</code>, but I don&#39;t know why it is so slow in this case. This is important for me because I use <code>String.Join()</code> quite frequently and would like to know when to avoid it."}, {"owner": {"reputation": 2811, "user_id": 295820, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/610760f5d3bc8fa29884bff7f75b5337?s=128&d=identicon&r=PG&f=1", "display_name": "AlwaysAProgrammer", "link": "https://stackoverflow.com/users/295820/alwaysaprogrammer"}, "edited": false, "score": 1, "creation_date": 1574269481, "post_id": 58959455, "comment_id": 104174752, "body": "My guess is strings being immutable, string.join() creates new instances of string. Time gets wasted in creating new objects and may be even cleaning it. It would be interesting to see how many objects are created in both cases."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1574269524, "post_id": 58959455, "comment_id": 104174775, "body": "Ah, right; you&#39;re using a StringBuilder in your second example."}], "answers": [{"comments": [{"owner": {"reputation": 1614, "user_id": 680151, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ff4b1e4b379cf8b13887ec032ae8199d?s=128&d=identicon&r=PG", "display_name": "Karsten", "link": "https://stackoverflow.com/users/680151/karsten"}, "edited": false, "score": 0, "creation_date": 1574269775, "post_id": 58959773, "comment_id": 104174902, "body": "You are right! I always thought LINQ was a little bit cleverer and treats arrays differently. But apparently it does not and treats it like any other <code>Enumerable&lt;T&gt;</code>."}, {"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "reply_to_user": {"reputation": 1614, "user_id": 680151, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ff4b1e4b379cf8b13887ec032ae8199d?s=128&d=identicon&r=PG", "display_name": "Karsten", "link": "https://stackoverflow.com/users/680151/karsten"}, "edited": false, "score": 0, "creation_date": 1574269801, "post_id": 58959773, "comment_id": 104174917, "body": "In some cases, it can treat arrays differently. But not this one."}, {"owner": {"reputation": 1614, "user_id": 680151, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ff4b1e4b379cf8b13887ec032ae8199d?s=128&d=identicon&r=PG", "display_name": "Karsten", "link": "https://stackoverflow.com/users/680151/karsten"}, "edited": false, "score": 0, "creation_date": 1574269976, "post_id": 58959773, "comment_id": 104174997, "body": "Sadly it does not do that in any case. I just looked at the source and the <code>SkipIterator</code> is as dumb as it can be..."}, {"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "reply_to_user": {"reputation": 1614, "user_id": 680151, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ff4b1e4b379cf8b13887ec032ae8199d?s=128&d=identicon&r=PG", "display_name": "Karsten", "link": "https://stackoverflow.com/users/680151/karsten"}, "edited": false, "score": 0, "creation_date": 1574270068, "post_id": 58959773, "comment_id": 104175051, "body": "Skip() is dumb. Some others are smarter."}, {"owner": {"reputation": 1614, "user_id": 680151, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ff4b1e4b379cf8b13887ec032ae8199d?s=128&d=identicon&r=PG", "display_name": "Karsten", "link": "https://stackoverflow.com/users/680151/karsten"}, "edited": false, "score": 2, "creation_date": 1574270609, "post_id": 58959773, "comment_id": 104175363, "body": "I ended up using <code>ArraySegment&lt;T&gt;</code>. That way I can use the LINQ version with almost no changes and the performance is even a little bit better than my second version."}], "tags": [], "owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "is_accepted": true, "score": 5, "last_activity_date": 1574290230, "last_edit_date": 1574290230, "creation_date": 1574269583, "answer_id": 58959773, "question_id": 58959455, "link": "https://stackoverflow.com/questions/58959455/why-is-this-linq-query-incredibly-slow/58959773#58959773", "title": "Why is this LINQ query incredibly slow?", "body": "<blockquote>\n  <p>My problem is that I don't really understand why the original version is so slow.</p>\n</blockquote>\n\n<p>It's this part:</p>\n\n<pre><code>hex.Skip(r * 32)\n</code></pre>\n\n<p><code>.Skip()</code> has to <em>walk the sequence</em>. It doesn't get to jump straight to the correct index. In other words, for every 32 bytes in the array, you re-walk the entire array from the beginning until you get to the start of the current chunk. It's a <a href=\"https://www.joelonsoftware.com/2001/12/11/back-to-basics/\" rel=\"nofollow noreferrer\">Shlemiel the Painter</a> situation.</p>\n\n<p>You could potentially also make the original code faster by using an <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.arraysegment-1?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>ArraySegment</code></a> type, <code>Array.Copy()</code>, or <code>Span&lt;string&gt;</code>. You could also write  your own linq-like <a href=\"https://stackoverflow.com/a/52635979/3043\">\"Chunk()\"</a> operator to return 32-byte sequences from an original <code>IEnumerable</code>, or use this very simple <code>Segment()</code> method:</p>\n\n<pre><code>public static IEnumerable&lt;T&gt; Segment&lt;T&gt;(this T[] original, int start, int length)\n{\n    length = start + length;\n    while (start &lt; length) \n        yield return original[start++];\n}\n</code></pre>\n\n<p>which would change the original code to look like this:</p>\n\n<pre><code>byte[] data = new byte[4*1024*1024];\nstring[] hex = data.Select((b) =&gt; b.ToString(\"X2\")).ToArray();\nhex = Enumerable.Range(0, data.Length / 32).Select((r) =&gt; String.Join(\" \", hex.Segment(r * 32,32))).ToArray();\n</code></pre>\n\n<p>and, for fun, using the <code>Chunk()</code> implementation I linked earlier:</p>\n\n<pre><code>byte[] data = new byte[4*1024*1024];\nvar hex = data.Select(b =&gt; b.ToString(\"X2\"))\n              .Chunk(32)\n              .Select(c =&gt; string.Join(\" \", c))\n              .ToArray(); //only call ToArray() if you *really* need the array. Often the enumerable is enough.\n</code></pre>\n\n<p>Another fun option using <code>String.Create()</code></p>\n\n<pre><code>byte[] data = new byte[4*1024*1024];\nchar[] hexChars = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\n                    'A', 'B', 'C', 'D', 'E', 'F' };\nvar hex = data.Chunk(32)\n      .Select(c =&gt; string.Create(95, c, (r, d) =&gt; {\n          int i = 0;\n          foreach(byte b in d)\n          {\n             r[i*3] = hexChars[((b &amp; 0xf0) &gt;&gt; 4)];\n             r[(i*3) + 1] = hexChars[(b &amp; 0x0f)];\n             if (i*3 &lt; 92) r[(i*3) + 2] = ' ';\n             i++;\n         }\n      }))\n      .ToArray();\n</code></pre>\n\n<p>You should also look at this <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.bitconverter.tostring?view=netframework-4.8#System_BitConverter_ToString_System_Byte___System_Int32_System_Int32_\" rel=\"nofollow noreferrer\"><code>BitConverter.ToString()</code></a> overload.</p>\n\n<p>I'd love to see how each of these benchmark.</p>\n"}, {"comments": [{"owner": {"reputation": 1614, "user_id": 680151, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ff4b1e4b379cf8b13887ec032ae8199d?s=128&d=identicon&r=PG", "display_name": "Karsten", "link": "https://stackoverflow.com/users/680151/karsten"}, "edited": false, "score": 0, "creation_date": 1574285758, "post_id": 58961483, "comment_id": 104182549, "body": "In my case <code>Skip()</code> was the problem. In .NET Core <code>Skip()</code> has <a href=\"https://github.com/dotnet/corefx/blob/e99ec129cfd594d53f4390bf97d1d736cff6f860/src/System.Linq/src/System/Linq/Skip.SpeedOpt.cs#L32\" rel=\"nofollow noreferrer\">this optimization</a>, too. In .NET Framework it does not."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 1614, "user_id": 680151, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ff4b1e4b379cf8b13887ec032ae8199d?s=128&d=identicon&r=PG", "display_name": "Karsten", "link": "https://stackoverflow.com/users/680151/karsten"}, "edited": false, "score": 0, "creation_date": 1574286752, "post_id": 58961483, "comment_id": 104182961, "body": "@Karsten you are right. I frequently confuse <code>Skip</code> with <code>Take</code>. :-)"}], "tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": false, "score": 2, "last_activity_date": 1574276111, "creation_date": 1574276111, "answer_id": 58961483, "question_id": 58959455, "link": "https://stackoverflow.com/questions/58959455/why-is-this-linq-query-incredibly-slow/58961483#58961483", "title": "Why is this LINQ query incredibly slow?", "body": "<p>The <a href=\"https://referencesource.microsoft.com/system.core/system/linq/Enumerable.cs.html#aae92b018fa12b39\" rel=\"nofollow noreferrer\"><code>Take</code></a> implementation of <strong>.NET Framework</strong> does not include any optimization for sources of type <code>IList</code>, so it becomes very slow when called repeatedly for large lists or arrays. The corresponding implementation of <strong>.NET Core</strong> <a href=\"https://github.com/dotnet/corefx/blob/e99ec129cfd594d53f4390bf97d1d736cff6f860/src/System.Linq/src/System/Linq/Take.SpeedOpt.cs#L14\" rel=\"nofollow noreferrer\">includes these optimizations</a>, so it performs quite decently (on a par with a manually coded loop).</p>\n"}], "owner": {"reputation": 1614, "user_id": 680151, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ff4b1e4b379cf8b13887ec032ae8199d?s=128&d=identicon&r=PG", "display_name": "Karsten", "link": "https://stackoverflow.com/users/680151/karsten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 58959773, "answer_count": 2, "score": 4, "last_activity_date": 1574290230, "creation_date": 1574268448, "last_edit_date": 1574269131, "question_id": 58959455, "link": "https://stackoverflow.com/questions/58959455/why-is-this-linq-query-incredibly-slow", "title": "Why is this LINQ query incredibly slow?", "body": "<p>I wrote the following to convert a byte array <code>data</code> to a string array <code>hex</code> containing 32 bytes as hex string per entry to write them to a file.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>byte[] data = new byte[4*1024*1024];\nstring[] hex = data.Select((b) =&gt; b.ToString(\"X2\")).ToArray();\nhex = Enumerable.Range(0, data.Length / 32).Select((r) =&gt; String.Join(\" \", hex.Skip(r * 32).Take(32))).ToArray();  // &lt;= This line takes forever\n</code></pre>\n\n<p>The problem was that it took minutes(!) to finish although the resulting file was less than 20MB. So I tried to optimize it and came up with the following:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>byte[] data = new byte[4*1024*1024];\nstring[] hex = new string[4*1024*1024/32];\nfor (var i = 0; i &lt;= hex.Length - 1; i++)\n{\n    var sb = new System.Text.StringBuilder();\n    sb.Append(data[i * 32].ToString(\"X2\"));\n    for (var k = 1; k &lt;= 32 - 1; k++)\n    {\n        sb.Append(' ');\n        sb.Append(data[i * 32 + k].ToString(\"X2\"));\n    }\n    hex[i] = sb.ToString();\n}\n</code></pre>\n\n<p>This version does the same but is several orders of magnitude faster (133 ms vs 8 minutes).\nMy problem is that I don't really understand why the original version is so slow. I looked at the <a href=\"https://referencesource.microsoft.com/#mscorlib/system/string.cs,fa961ce440526a4d\" rel=\"nofollow noreferrer\">source</a> of <code>String.Join()</code> and it looks pretty similar to my improved version.\nI like to use LINQ for these kind of thinks, because you can solve all kinds of problems pretty easily and I thought it was efficient in most cases because of it's lazy evaluation. So I would like to know what I am missing here to improve my future usage of LINQ.</p>\n\n<p>As a side not I know that it could probably be written even faster but this is really not the point here, because the second version is fast enough for a function only used for debugging purposes.</p>\n"}, {"tags": ["c#", "sql", "database", "string"], "comments": [{"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1574268487, "post_id": 58959434, "comment_id": 104174179, "body": "You would just run a <code>.Contains()</code> on it- <code>if (filePath.Contains(&quot;foo&quot;) &amp;&amp; filePath.Contains(&quot;bar&quot;)) { ... }</code> . Additionally, have you tried any code yourself to get the results you&#39;re wanting? Or are you asking us to write that code for you?"}, {"owner": {"reputation": 33, "user_id": 10373009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd09a603f686d1b3295a246fdf8918e6?s=128&d=identicon&r=PG&f=1", "display_name": "kryz", "link": "https://stackoverflow.com/users/10373009/kryz"}, "reply_to_user": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1574268589, "post_id": 58959434, "comment_id": 104174235, "body": "@Symon I would do <code>.Contains()</code> but I need to search my string for hundreds of different smaller strings, not just one or two."}, {"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 1, "creation_date": 1574268803, "post_id": 58959434, "comment_id": 104174371, "body": "Then you can pass the string to your database with a stored procedure, and run a check to see if there&#39;s any records within the string? <a href=\"https://docs.microsoft.com/en-us/sql/t-sql/queries/contains-transact-sql?view=sql-server-ver15\" rel=\"nofollow noreferrer\">SQL Contains</a> . The procedure could then return either the strings found, or a <code>1&#47;0</code> to tell you &quot;yes, it contains <code>foobar</code> &quot; or &quot;no, it doesn&#39;t contain <code>foo bar</code>&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 10373009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd09a603f686d1b3295a246fdf8918e6?s=128&d=identicon&r=PG&f=1", "display_name": "kryz", "link": "https://stackoverflow.com/users/10373009/kryz"}, "edited": false, "score": 0, "creation_date": 1574292226, "post_id": 58960331, "comment_id": 104184955, "body": "Lucene sounds interesting! I will definitely check that out"}, {"owner": {"reputation": 16714, "user_id": 426894, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/LyG6D.jpg?s=128&g=1", "display_name": "asawyer", "link": "https://stackoverflow.com/users/426894/asawyer"}, "reply_to_user": {"reputation": 33, "user_id": 10373009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd09a603f686d1b3295a246fdf8918e6?s=128&d=identicon&r=PG&f=1", "display_name": "kryz", "link": "https://stackoverflow.com/users/10373009/kryz"}, "edited": false, "score": 0, "creation_date": 1574368254, "post_id": 58960331, "comment_id": 104219043, "body": "@kryz Be extremely careful here, it&#39;d be very easy to accidentally leave yourself open to sql injection with a naive implementation of this."}], "tags": [], "owner": {"reputation": 9776, "user_id": 1688439, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52818f5444acf8fbdab4697cd218825e?s=128&d=identicon&r=PG", "display_name": "Owen Pauling", "link": "https://stackoverflow.com/users/1688439/owen-pauling"}, "is_accepted": false, "score": 0, "last_activity_date": 1574271580, "creation_date": 1574271580, "answer_id": 58960331, "question_id": 58959434, "link": "https://stackoverflow.com/questions/58959434/how-to-check-if-a-string-contains-a-database-record/58960331#58960331", "title": "How to check if a string contains a database record?", "body": "<p>One approach would be to split the path string and then do a SELECT query with a WHERE IN, e.g. </p>\n\n<pre><code>SELECT SomeColumns\nFROM MyTable\nWHERE ColumnName IN ('string1', 'string2' ...);\n</code></pre>\n\n<p>But the approach I would take would be to index all of the paths in something like Apache Lucene, and then for each term in the database query the index to see what paths it hits against. That's a pretty trivial use of Lucene and you should be able to easily find tutorials online.</p>\n"}, {"tags": [], "owner": {"reputation": 3436, "user_id": 11507778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ZI8M.jpg?s=128&g=1", "display_name": "Jack J Jun - MSFT", "link": "https://stackoverflow.com/users/11507778/jack-j-jun-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1574315168, "creation_date": 1574315168, "answer_id": 58968044, "question_id": 58959434, "link": "https://stackoverflow.com/questions/58959434/how-to-check-if-a-string-contains-a-database-record/58968044#58968044", "title": "How to check if a string contains a database record?", "body": "<p>You also can use c# code to do it. </p>\n\n<p>The following is a code example.</p>\n\n<pre><code> static void Main(string[] args)\n        {\n            string connectionstring = @\"\";\n            SqlConnection connection = new SqlConnection(connectionstring);\n            string filePath = @\"C:\\Users\\me\\folder1\\foo\\bar\\documents\\photos\\img1.jpg\";\n            var list = ReturnList(connection,filePath);\n\n\n        }\n        static List&lt;string&gt; ReturnList(SqlConnection connection,string path)\n        {\n            List&lt;string&gt; list = new List&lt;string&gt;();\n            char[] t = { '\\\\'};\n            var array=path.Split(t).ToList();\n            connection.Open();\n            string sql = \"select * from Record\";\n            SqlCommand command = new SqlCommand(sql, connection);\n            SqlDataReader reader = command.ExecuteReader();\n            while(reader.Read())\n            {\n                string a = reader[\"Name\"].ToString();\n                if(array.Contains(a))\n                {\n                    list.Add(a);\n                }\n            }\n            connection.Close();\n            return list;\n        }\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Akdy8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Akdy8.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 33, "user_id": 10373009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd09a603f686d1b3295a246fdf8918e6?s=128&d=identicon&r=PG&f=1", "display_name": "kryz", "link": "https://stackoverflow.com/users/10373009/kryz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1574367625, "creation_date": 1574268377, "last_edit_date": 1574367625, "question_id": 58959434, "link": "https://stackoverflow.com/questions/58959434/how-to-check-if-a-string-contains-a-database-record", "title": "How to check if a string contains a database record?", "body": "<p>I have a string (a long file path) and need to check if the string contains a database record. How can I do this?</p>\n\n<p>Simplified Example: </p>\n\n<p><code>string filePath = @\"C:\\Users\\me\\folder1\\foo\\bar\\documents\\photos\\img1.jpg\";</code></p>\n\n<p>My database table is a single column of records:</p>\n\n<pre><code>foo\nbar\nasdf\nmovies\nvideos\n</code></pre>\n\n<p>I want to search <code>filePath</code> to see if it contains any records in the database (foo, bar, etc), and return those records. In my example, the <code>filePath</code> contains <code>foo</code> and <code>bar</code> so I would return <code>foo</code> and <code>bar</code>.</p>\n\n<p>I really have thousands of file paths to search and my database is only about 100 database records but will slowly get bigger.</p>\n\n<p>Really lost on where to start on this or if this is even the best way to go about this but I can't think of another way to achieve this. Thanks!</p>\n"}, {"tags": ["c#", "wpf", "filter", "datagrid", "predicate"], "comments": [{"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1574282436, "post_id": 58959385, "comment_id": 104181126, "body": "If i follow what you want to do, here&#39;s a working sample: <a href=\"https://social.technet.microsoft.com/wiki/contents/articles/26673.wpf-collectionview-tips.aspx#Complicated_Filtering\" rel=\"nofollow noreferrer\">social.technet.microsoft.com/wiki/contents/articles/&hellip;</a>"}, {"owner": {"reputation": 2255, "user_id": 4783205, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/HUnVS.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/4783205/michael"}, "edited": false, "score": 0, "creation_date": 1574284405, "post_id": 58959385, "comment_id": 104182000, "body": "If this is for work, you could just buy a component that does this. Like DevExpress"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 11208359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4be17e76d9582b45130918af98054c3?s=128&d=identicon&r=PG&f=1", "display_name": "Quik Bytes", "link": "https://stackoverflow.com/users/11208359/quik-bytes"}, "edited": false, "score": 0, "creation_date": 1574416697, "post_id": 58962836, "comment_id": 104234315, "body": "Hello i did some changes and it works, but works as not expected. Can you look at edited question? Thank you"}, {"owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "reply_to_user": {"reputation": 19, "user_id": 11208359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4be17e76d9582b45130918af98054c3?s=128&d=identicon&r=PG&f=1", "display_name": "Quik Bytes", "link": "https://stackoverflow.com/users/11208359/quik-bytes"}, "edited": false, "score": 0, "creation_date": 1574417688, "post_id": 58962836, "comment_id": 104234886, "body": "@QuikBytes, I would say that operations with <code>Filters</code> are not correct. Unless you do a reset, any check/uncheck only adds predicates. Multiple check/uncheck of the same item will produce duplicates, and looks like they will negate each other. You need to avoid that"}, {"owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "reply_to_user": {"reputation": 19, "user_id": 11208359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4be17e76d9582b45130918af98054c3?s=128&d=identicon&r=PG&f=1", "display_name": "Quik Bytes", "link": "https://stackoverflow.com/users/11208359/quik-bytes"}, "edited": false, "score": 0, "creation_date": 1574417830, "post_id": 58962836, "comment_id": 104234962, "body": "I would not work with predicates. I would keep search conditions (strings) in separate lists (name, department, ect), and in Filter compare User with each list. on check - add string to list, on uncheck - remove from list"}], "tags": [], "owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "is_accepted": false, "score": 0, "last_activity_date": 1574282127, "last_edit_date": 1574282127, "creation_date": 1574281667, "answer_id": 58962836, "question_id": 58959385, "link": "https://stackoverflow.com/questions/58959385/how-predicate-works-with-listcollectionview/58962836#58962836", "title": "How predicate works with ListCollectionView", "body": "<p><code>Filter</code> predicate should return <code>true</code> for items which needs to be displayed, and <code>false</code> for hidden items. </p>\n\n<p>CollectionView needs only one predicate. To filter by selected names, keep them in a list and compare CollectionView item for possible match with any <em>name</em>, not with <em>each</em> name.</p>\n\n<pre><code>private bool FilterEntries(object obj)\n{\n    User u = (User)obj;\n\n    // converting original condition to ANY instead of EACH\n    return Filters.Values.Aggregate(false, (prevValue, predicate) =&gt; prevValue || predicate(u));\n\n    // looks like Filters is a Dictionary, maybe simplify condition?\n    return Filters.ContainsKey(u.Name);\n\n    // or maybe search in a List without multiple predicates\n    return Filters.Keys.Any(name =&gt; name.Contains(u.Name));\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 11208359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4be17e76d9582b45130918af98054c3?s=128&d=identicon&r=PG&f=1", "display_name": "Quik Bytes", "link": "https://stackoverflow.com/users/11208359/quik-bytes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1574367317, "creation_date": 1574268190, "last_edit_date": 1574367317, "question_id": 58959385, "link": "https://stackoverflow.com/questions/58959385/how-predicate-works-with-listcollectionview", "title": "How predicate works with ListCollectionView", "body": "<p>How predicate filters works with ListCollectionView? \nIn my case i have <code>ListCollectionView&lt;Users&gt; FilteredUserList</code>.\nTo filter single value i am using </p>\n\n<pre><code>private void AddFilterAndRefresh(string name, Predicate&lt;User&gt; predicate)\n    {\n        //Adds filter to filter list\n        Filters.Add(name, predicate);\n\n        //Filters doesn't fire event automatically\n        OnPropertyChanged(\"Filters\");\n\n        //Refresh list to by correctly displayed\n        FilteredUserList.Refresh();\n    }\n</code></pre>\n\n<p>Usage example <code>AddFilterAndRefresh(key, user =&gt; user.Name.Contains(u.Name))</code></p>\n\n<p>Now things from here is not understandable for me. When i use function above, in datagridview is shown only one row. So it means that before filter all values are \"true\" to show, but when i pass filter all values becomes false and one value true?</p>\n\n<p>For stacking filters i use </p>\n\n<pre><code>private bool FilterEntries(object obj)\n    {\n        User c = (User)obj;\n        return Filters.Values.Aggregate(true, (prevValue, predicate) =&gt; prevValue &amp;&amp; predicate(c));\n    }\n</code></pre>\n\n<p>But I want to make excel like filter, when user checks values what to show. It means that i have to filter multiple values.  When i do <code>foreach(User u in SelectedOptions) {AddFilterAndRefresh()}</code> Datagrid is empty - but it is obvious because after one filter datagrid shows one row.  So how to filter multiple values? </p>\n\n<p>Well. I did some modifications. It works but not correctly. Imagine I have user list:</p>\n\n<ul>\n<li><strong>Tabelis   Name     Departament</strong></li>\n<li>5       Marius     Some</li>\n<li>20      Darius     unknown</li>\n<li>20      Koste      unknown</li>\n<li>20      Gediminas  unknown</li>\n<li>20      Nerijus    tech</li>\n</ul>\n\n<p>Now if i exclude by Departament \"unknown\" (uncheck chekbox) it filters ok :</p>\n\n<ul>\n<li><strong>Tabelis   Name     Departament</strong></li>\n<li>5       Marius     Some</li>\n<li>20      Nerijus    tech</li>\n</ul>\n\n<p>Now when i uncheck by Tabelis \"20\" it filter ok:</p>\n\n<ul>\n<li><strong>Tabelis   Name     Departament</strong></li>\n<li>5       Marius     Some</li>\n</ul>\n\n<p>But when i out check on Tabelis \"20\" again  it filters wrong:</p>\n\n<ul>\n<li><strong>Tabelis   Name     Departament</strong></li>\n<li>5       Marius     Some</li>\n<li>20      Darius     unknown</li>\n<li>20      Koste      unknown</li>\n<li>20      Gediminas  unknown</li>\n<li>20      Nerijus    tech</li>\n</ul>\n\n<p>Turns Departament values on. </p>\n\n<p>Where i am doing a mistake? \nview:</p>\n\n<pre><code>       &lt;DataGrid x:Name=\"myGrd\"   \n              DataContext=\"{Binding ElementName=userPage, Path=DataContext}\"\n              SelectionMode=\"Single\"    \n              SelectionUnit=\"Cell\"\n              CurrentItem=\"{Binding SelectedUser, Mode=TwoWay}\"\n              CurrentColumn=\"{Binding CurrentColumn, Mode=TwoWay}\"\n              IsReadOnly=\"True\"\n              CanUserResizeColumns=\"False\"\n              Grid.Row=\"1\" \n              ItemsSource=\"{Binding FilteredUserList}\" \n              AutoGenerateColumns=\"True\"             \n              CanUserAddRows=\"False\"&gt;\n        &lt;DataGrid.Resources&gt;\n\n            &lt;!--Popup--&gt;\n            &lt;ContextMenu x:Key=\"ContextMenu\"&gt;\n                &lt;ContextMenu.Items&gt;\n                    &lt;MenuItem Header=\"Filter by Selection\" Command=\"{Binding IncludeCommand, Source={x:Reference vm}}\"/&gt;\n                    &lt;MenuItem Header=\"Filter exclude Selection\" Command=\"{Binding ExcludeCommand, Source={x:Reference vm}}\"/&gt;\n                    &lt;MenuItem Header=\"Remove all Filters\" Command=\"{Binding RemoveAllFiltersCommand, Source={x:Reference vm}}\" Visibility=\"{Binding Filters.Count, Source={x:Reference vm}, Converter={Wpf:VisibilityConverter}}\"/&gt;\n                &lt;/ContextMenu.Items&gt;\n            &lt;/ContextMenu&gt;\n\n            &lt;!--Custom Datagrid header View--&gt;               \n            &lt;Style TargetType=\"DataGridColumnHeader\" x:Name=\"FilterHeader\"&gt;\n                &lt;Setter Property=\"ContentTemplate\"&gt;\n                    &lt;Setter.Value&gt;\n                        &lt;DataTemplate&gt;\n                            &lt;StackPanel&gt;\n                                &lt;TextBox Margin=\"0,0,0,10\" Width=\"{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type DataGridColumnHeader}}, Path=Width}\" /&gt;\n                                &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                                    &lt;TextBlock Text=\"{Binding}\" HorizontalAlignment=\"Center\"/&gt;\n                                    &lt;ToggleButton Name=\"FilterButton\" \n                                                  Content=\"[-F-]\" \n                                                  Command=\"{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=DataGrid}, Path=DataContext.GenerateExcelFilterViewItemsCommand}\" \n                                                  CommandParameter=\"{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=DataGridColumnHeader}, Path=Content}\"\n                                                  &gt;\n                                    &lt;/ToggleButton&gt;\n\n                                    &lt;Popup Name=\"MyPopup\"                              \n                                           StaysOpen=\"False\" \n                                           Placement=\"Right\"\n                                           IsOpen=\"{Binding ElementName=FilterButton, Path=IsChecked}\"\n                                           PlacementTarget=\"{Binding ElementName=FilterButton}\"\n                                           &gt;\n                                        &lt;Border CornerRadius=\"0\" BorderThickness=\"2\" BorderBrush=\"{StaticResource AQBlueBrush}\"&gt;\n                                        &lt;StackPanel Width=\"Auto\" Background=\"{StaticResource AQBackgroundLightBrush}\" MinWidth=\"100\"&gt;\n                                            &lt;TextBlock Margin=\"2\" Text=\"Filter\" Foreground=\"{StaticResource AQVeryDarkBlueBrush}\"/&gt;\n                                                &lt;Separator/&gt;\n                                                &lt;ListView Padding=\"5\" \n                                                          MaxHeight=\"150\" \n                                                          MinHeight=\"80\" \n                                                          Background=\"Transparent\" \n                                                          BorderThickness=\"0\" \n                                                          ScrollViewer.VerticalScrollBarVisibility=\"Auto\" \n                                                          ItemsSource=\"{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=DataGrid}, Path=DataContext.FilterList}\"&gt;\n                                                &lt;ListView.ItemTemplate&gt;\n                                                    &lt;DataTemplate&gt;\n                                                        &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                                                            &lt;CheckBox IsChecked=\"{Binding IsSelected, Mode=TwoWay}\"\n                                                                  Command=\"{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=DataGrid}, Path=DataContext.IsSelectedItemsCommand}\"\n                                                                  CommandParameter=\"{Binding}\"/&gt;\n                                                            &lt;ContentPresenter Content=\"{Binding Value}\" /&gt;\n                                                        &lt;/StackPanel&gt;\n                                                    &lt;/DataTemplate&gt;\n                                                &lt;/ListView.ItemTemplate&gt;\n                                            &lt;/ListView&gt;\n                                            &lt;Button Margin=\"2,0,2,2\" \n                                                    Content=\"Submit\" \n                                                    Foreground=\"{StaticResource AQVeryDarkBlueBrush}\" \n                                                    Background=\"AliceBlue\"\n                                                    Command=\"{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=DataGrid}, Path=DataContext.AddMultipleFiltersAndRefreshCommand}\"/&gt;\n                                        &lt;/StackPanel&gt;\n                                        &lt;/Border&gt;\n                                    &lt;/Popup&gt; \n                                &lt;/StackPanel&gt;\n                            &lt;/StackPanel&gt;\n                        &lt;/DataTemplate&gt;\n                    &lt;/Setter.Value&gt;\n                &lt;/Setter&gt;\n            &lt;/Style&gt;\n        &lt;/DataGrid.Resources&gt;\n\n        &lt;DataGrid.CellStyle&gt;\n            &lt;Style TargetType=\"DataGridCell\"&gt;\n                &lt;Setter Property=\"ContextMenu\" Value=\"{StaticResource ContextMenu}\"/&gt;\n            &lt;/Style&gt;\n        &lt;/DataGrid.CellStyle&gt;\n    &lt;/DataGrid&gt;\n</code></pre>\n\n<p>ViewModel: </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    public class UsersViewModel: BaseViewModel\n    {\n\n        #region Private Properties\n\n        /// &lt;summary&gt;\n        /// User's information holding list that could be used\n        /// &lt;/summary&gt;\n        private ObservableCollection&lt;User&gt; UserList = new ObservableCollection&lt;User&gt;();\n\n        /// &lt;summary&gt;\n        /// Selected Header in datagrid\n        /// &lt;/summary&gt;\n        private string SelectedColumnHeader { get; set; }\n\n\n        /// &lt;summary&gt;\n        /// List of isSelected Values\n        /// &lt;/summary&gt;\n        private ObservableCollection&lt;FilterPredicate&gt; SelectedFilters { get; set; } = new ObservableCollection&lt;FilterPredicate&gt;();\n        #endregion\n\n        #region public Properties\n\n\n        /// &lt;summary&gt;\n        /// Filter list used to excel like filter functionality\n        /// &lt;/summary&gt;\n        public ObservableCollection&lt;FilterPredicate&gt; FilterList { get; set; }\n\n\n        /// &lt;summary&gt;\n        /// Filters every filter used is saved in this dictionary\n        /// &lt;/summary&gt;\n        public List&lt;Predicate&lt;User&gt;&gt; Filters { get; set; } = new List&lt;Predicate&lt;User&gt;&gt;();\n\n        /// &lt;summary&gt;\n        /// Filtered user list\n        /// &lt;/summary&gt;\n        public ListCollectionView FilteredUserList { get; set; }\n        /// &lt;summary&gt;\n        /// Current Selected Object\n        /// &lt;/summary&gt;\n        public User SelectedUser { get; set; }\n\n        /// &lt;summary&gt;\n        /// Current Selected Column\n        /// &lt;/summary&gt;\n        public DataGridColumn CurrentColumn { get; set; }\n\n        public bool PopupVisible { get; set; } \n\n        public UIElement FilterButton { get; set; }\n        #endregion\n\n        #region Commands\n\n        public ICommand ExcludeCommand { get; set; }\n        public ICommand IncludeCommand { get; set; }\n        public ICommand RemoveAllFiltersCommand { get; set; }\n        public ICommand RemoveFilterCommand { get; set; }\n        public ICommand GenerateExcelFilterViewItemsCommand { get; set; }\n        public ICommand IsSelectedItemsCommand { get; set; }\n        public ICommand AddMultipleFiltersAndRefreshCommand { get; set; }\n\n\n        #endregion\n\n        #region Constructor\n        /// &lt;summary&gt;\n        /// Default constructor\n        /// &lt;/summary&gt;\n        public UsersViewModel()\n        {\n            //Populate UserList\n            GetUsers();\n\n            //Set filtered user list with values\n            FilterList = new ObservableCollection&lt;FilterPredicate&gt;();\n            FilteredUserList = new ListCollectionView(UserList);\n\n            ExcludeCommand = new RelayParamCommand((e) =&gt; ExcludeFilter(SelectedUser));\n            IncludeCommand = new RelayParamCommand((e) =&gt; IncludeFilter(SelectedUser));\n            RemoveAllFiltersCommand = new RelayCommand(() =&gt; RemoveAllFiltersAndRefresh());\n            GenerateExcelFilterViewItemsCommand = new RelayParamCommand((e) =&gt; GenerateExcelFilterItems(e));\n            IsSelectedItemsCommand = new RelayParamCommand((e) =&gt; IsSelectedItems(e));\n            //AddMultipleFiltersAndRefreshCommand = new RelayCommand(AddMultipleFilterss);\n\n            FilteredUserList.Filter = (e) =&gt; { return FilterEntries(e); };\n        }\n\n        #endregion\n\n        #region Filter Methods\n\n        /// &lt;summary&gt;\n        /// Filter Collection view values\n        /// &lt;/summary&gt;\n        private bool FilterEntries(object obj)\n        {\n            User c = (User)obj;\n            bool isIn = true;\n            if (Filters.Count == 0)\n            {\n                //return Filters.TrueForAll(x =&gt; x(c));\n                return isIn;\n            }\n            else\n            {\n                 return Filters.TrueForAll(x =&gt; x(c));\n               // return Filters.Aggregate(true, (prevValue, predicate) =&gt; prevValue &amp;&amp; predicate(c));\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Exclude selected value\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"obj\"&gt;&lt;/param&gt;\n        public void ExcludeFilter(object obj)\n        {\n            User u = (User)obj;\n\n            switch (CurrentColumn.DisplayIndex)\n            {\n                case 0:\n                    AddFilterAndRefresh(user =&gt; !user.Tabelis.ToString().Contains(u.Tabelis.ToString()));\n                    return;\n                case 1:\n                    AddFilterAndRefresh(user =&gt; !user.Name.Contains(u.Name));\n                    return;\n                case 2:\n                    AddFilterAndRefresh(user =&gt; !user.Departament.Contains(u.Departament));\n                    return;\n            }\n        }\n\n\n        /// &lt;summary&gt;\n        /// Include selected filter value\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"obj\"&gt;Object&lt;/param&gt;\n        private void IncludeFilter(object obj)\n        {\n            User u = (User)obj;\n\n            switch (CurrentColumn.DisplayIndex)\n            {\n                case 0:\n                    AddFilterAndRefresh(user =&gt; user.Tabelis.ToString().Contains(u.Tabelis.ToString()));\n                    return;\n                case 1:\n                    AddFilterAndRefresh(user =&gt; user.Name.Contains(u.Name));\n                    return;\n                case 2:\n                    AddFilterAndRefresh(user =&gt; user.Departament.Contains(u.Departament));\n                    return;\n\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Add filter to Filter list\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"name\"&gt;Key&lt;/param&gt;\n        /// &lt;param name=\"predicate\"&gt;Filter (predicate) object&lt;/param&gt;\n        private void AddFilterAndRefresh(Predicate&lt;User&gt; predicate)\n        {\n            //Adds filter to filter list\n            Filters.Add(predicate);\n\n            //Filters doesn't fire event automatically\n            OnPropertyChanged(\"Filters\");\n\n            //Refresh list to by correctly displayed\n            FilteredUserList.Refresh();\n        }\n\n\n        /// &lt;summary&gt;\n        /// Remove all filters from filter list\n        /// &lt;/summary&gt;\n        private void RemoveAllFiltersAndRefresh()\n        {\n            Filters.Clear();\n            FilterList.Clear();\n            SelectedFilters.Clear();\n            FilteredUserList.Refresh();\n            OnPropertyChanged(\"Filters\");\n        }\n\n\n        /// &lt;summary&gt;\n        /// Gets property to get filter items by this property value\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"obj\"&gt;Object property&lt;/param&gt;\n        private void GenerateExcelFilterItems(object obj)\n        {\n            //set header name as string\n            SelectedColumnHeader = (string)obj;\n\n            //Clear Filter list\n            FilterList.Clear();\n\n            foreach(FilterPredicate i in SelectedFilters)\n            {\n                //insert right not selected value\n                //because after filter excecution that value dissapears\n                if (!FilterList.Contains(i) &amp;&amp; i.ColumnName == SelectedColumnHeader) { FilterList.Add(i); }\n            }\n\n            //Fill filter list with new values depend on selectedColumnHeader property\n            FillFilterValues(SelectedColumnHeader);\n        }\n\n        /// &lt;summary&gt;\n        /// Remove or add \"IsSelected\" values to SelectedFilters List\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"obj\"&gt;&lt;/param&gt;\n        private void IsSelectedItems(object obj)\n        {\n            var SelectedItem = (FilterPredicate)obj;\n\n            if (SelectedItem.IsSelected)\n            {\n                Filters.Add(AddMultipleFilters);\n\n                //Refresh list to by correctly displayed\n                FilteredUserList.Refresh();\n\n            }\n            else\n            {\n                FilterList[FilterList.IndexOf(SelectedItem)].IsSelected = false;\n\n\n                Filters.Add(AddMultipleFilters);\n                //RemoveMultipleFilters(SelectedItem);\n\n                if(!SelectedFilters.Contains(SelectedItem))\n                     SelectedFilters.Add(SelectedItem);\n\n                //Refresh list to by correctly displayed\n                FilteredUserList.Refresh();\n\n            }\n\n        }\n\n\n        private bool AddMultipleFilters(object obj)\n        {\n            User u = (User)obj;                \n            return FilterList.Any(x =&gt; x.IsSelected &amp;&amp; x.Value.Contains(u.GetType().GetProperty(SelectedColumnHeader).GetValue(u).ToString()));      \n        }\n\n        #endregion\n\n        #region helpers\n\n        /// &lt;summary&gt;\n        /// Fill filter items list with values from FilteredUsersList\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"Property\"&gt;&lt;/param&gt;\n        private void FillFilterValues(string Property)\n        {\n            foreach (User u in FilteredUserList)\n            {\n                User i = u;\n                var item = new FilterPredicate(Property, u.GetType().GetProperty(Property).GetValue(i).ToString(), true);\n                if (!FilterList.Any(x =&gt; x.ColumnName == item.ColumnName &amp;&amp; x.Value == item.Value))\n                    FilterList.Add(item);\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Fill userList with data from database\n        /// &lt;/summary&gt;\n        private void GetUsers()\n        {\n\n            UserList.Add(new User\n            {\n                Name = \"Marius\",\n                Departament = \"some\",\n                Tabelis = 5\n            });\n\n            UserList.Add(\n            new User\n            {\n                Name = \"Darius\",\n                Departament = \"unknown\",\n                Tabelis = 20\n            });\n\n            UserList.Add(\n            new User\n            {\n                Name = \"Koste\",\n                Departament = \"unknown\",\n                Tabelis = 20\n            });\n\n            UserList.Add(\n            new User\n            {\n                Name = \"Gediminas\",\n                Departament = \"unknown\",\n                Tabelis = 20\n            });\n\n            UserList.Add(\n            new User\n            {\n                Name = \"Nerijus\",\n                Departament = \"Tech\",\n                Tabelis = 20\n            });\n        }\n        #endregion\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "web-config", "visual-studio-2019", "xdt-transform"], "answers": [{"comments": [{"owner": {"reputation": 983, "user_id": 5490188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bFO4F.png?s=128&g=1", "display_name": "Zizzipupp", "link": "https://stackoverflow.com/users/5490188/zizzipupp"}, "edited": false, "score": 0, "creation_date": 1574330077, "post_id": 58960161, "comment_id": 104197659, "body": "Not sure how this can help me to be honest. How does this affect my Web.Debug and Web.Release files I don&#39;t see it."}, {"owner": {"reputation": 313, "user_id": 4738837, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206372725987338/picture?type=large", "display_name": "Josue Barrios", "link": "https://stackoverflow.com/users/4738837/josue-barrios"}, "reply_to_user": {"reputation": 983, "user_id": 5490188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bFO4F.png?s=128&g=1", "display_name": "Zizzipupp", "link": "https://stackoverflow.com/users/5490188/zizzipupp"}, "edited": false, "score": 0, "creation_date": 1574344650, "post_id": 58960161, "comment_id": 104206330, "body": "this is something that I use, with this I don&#39;t have to use web.debug and web.release, I simply select the &quot;Release&quot; or &quot;Debug&quot; working environment"}, {"owner": {"reputation": 983, "user_id": 5490188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bFO4F.png?s=128&g=1", "display_name": "Zizzipupp", "link": "https://stackoverflow.com/users/5490188/zizzipupp"}, "edited": false, "score": 0, "creation_date": 1574344884, "post_id": 58960161, "comment_id": 104206465, "body": "Ok, but how do you make sure you don&#39;t commit those strings to source control?"}], "tags": [], "owner": {"reputation": 313, "user_id": 4738837, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206372725987338/picture?type=large", "display_name": "Josue Barrios", "link": "https://stackoverflow.com/users/4738837/josue-barrios"}, "is_accepted": true, "score": 2, "last_activity_date": 1574270922, "creation_date": 1574270922, "answer_id": 58960161, "question_id": 58959362, "link": "https://stackoverflow.com/questions/58959362/asp-net-and-visual-studio-2019-how-to-set-up-web-debug-and-web-release-if-you-h/58960161#58960161", "title": "ASP.NET and Visual Studio 2019: how to set up Web.Debug and Web.Release if you have configSource in Web.config?", "body": "<p>use the preprocessor to switch between connectionstring, for this you should have both connectionstrings.</p>\n\n<p>web.config</p>\n\n<pre><code>&lt;connectionStrings&gt;\n    &lt;add name=\"Project.Properties.Settings.ConnString_A\" connectionString=\"\" providerName=\"System.Data.SqlClient\" /&gt;\n    &lt;add name=\"Project.Properties.Settings.ConnString_B\" connectionString=\"\" providerName=\"System.Data.SqlClient\" /&gt;\n&lt;/connectionStrings&gt;\n</code></pre>\n\n<p>code behind</p>\n\n<pre><code>public SqlConnection conn { get; set; }\npublic DbContext()\n{\n#if DEBUG\n    conn = new SqlConnection(Properties.Settings.Default.ConnString_A);\n#else\n    conn = new SqlConnection(Properties.Settings.Default.ConnString_B);\n#endif\n}\n</code></pre>\n\n<p>reference: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/preprocessor-directives/preprocessor-if\" rel=\"nofollow noreferrer\">#if (C# Reference)</a></p>\n"}], "owner": {"reputation": 983, "user_id": 5490188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bFO4F.png?s=128&g=1", "display_name": "Zizzipupp", "link": "https://stackoverflow.com/users/5490188/zizzipupp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 861, "favorite_count": 0, "accepted_answer_id": 58960161, "answer_count": 1, "score": 2, "last_activity_date": 1574270922, "creation_date": 1574268134, "last_edit_date": 1574268616, "question_id": 58959362, "link": "https://stackoverflow.com/questions/58959362/asp-net-and-visual-studio-2019-how-to-set-up-web-debug-and-web-release-if-you-h", "title": "ASP.NET and Visual Studio 2019: how to set up Web.Debug and Web.Release if you have configSource in Web.config?", "body": "<p>In my ASP.NET web form, this is what my connection string looks like in my Web.config file:</p>\n\n<p><code>&lt;connectionStrings configSource=\"MySecrets.config\"/&gt;</code></p>\n\n<p>I know that I can use Web.Debug and Web.Release to change the connection strings so that they are not exposed when the web app is released.</p>\n\n<p>However, the examples provided by Visual Studio mention:</p>\n\n<pre><code>In the example below, the \"SetAttributes\" transform will change the value of \n\"connectionString\" to use \"ReleaseSQLServer\" only when the \"Match\" locator \nfinds an attribute \"name\" that has a value of \"MyDB\".\n\n&lt;connectionStrings&gt;\n  &lt;add name=\"MyDB\" \n    connectionString=\"Data Source=ReleaseSQLServer;Initial Catalog=MyReleaseDB;Integrated Security=True\" \n    xdt:Transform=\"SetAttributes\" xdt:Locator=\"Match(name)\"/&gt;\n&lt;/connectionStrings&gt;\n</code></pre>\n\n<p>However, this references a <code>&lt;connectionStrings&gt;</code> section in the Web.config file that I don't have in the first place, because in my project I have:</p>\n\n<p><code>&lt;connectionStrings configSource=\"MySecrets.config\"</code></p>\n\n<p>How can I set up the Web.Release to replace the <code>MySecrets.config</code> file so that it's not visible once published?</p>\n"}, {"tags": ["c#", ".net", "oracle", "oracle12c", "devart"], "comments": [{"owner": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "edited": false, "score": 1, "creation_date": 1574268136, "post_id": 58959318, "comment_id": 104173992, "body": "I&#39;m tempted to remove the c# tag from this post, seeing that the core of the question is about Oracle - it doesn&#39;t matter which language generates and sends the query. Thoughts?"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1574268323, "post_id": 58959318, "comment_id": 104174087, "body": "Yes there is. You avoid SQL injection attacks. It&#39;s not just about optimization. The optimization benefit has to do with how many times the query has to be compiled into an execution plan. It doesn&#39;t matter how many rows are affected or returned. If you perform the same update 1000 times, avoiding 1000 recompilations will improve performance a lot. If the update is as cheap as you assume, <i>compilation</i> becomes a significant part of the overall cost"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1574268408, "post_id": 58959318, "comment_id": 104174134, "body": "In short, the Oracle admin is right. You should listen to him and not just about <i>this</i> query."}], "answers": [{"comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 7643, "user_id": 347484, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/H60ZG.jpg?s=128&g=1", "display_name": "Boppity Bop", "link": "https://stackoverflow.com/users/347484/boppity-bop"}, "edited": false, "score": 0, "creation_date": 1574351683, "post_id": 58959598, "comment_id": 104210809, "body": "@BoppityBop Your edit did not provide anything new. Your example still is one of building queries via string Concatenation vs Parametized queries/Prepared Statements."}, {"owner": {"reputation": 7643, "user_id": 347484, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/H60ZG.jpg?s=128&g=1", "display_name": "Boppity Bop", "link": "https://stackoverflow.com/users/347484/boppity-bop"}, "edited": false, "score": 0, "creation_date": 1574424538, "post_id": 58959598, "comment_id": 104238287, "body": "sorry - I didn&#39;t press &quot;publish&quot; see now.. sql injection is not the concern here."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 7643, "user_id": 347484, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/H60ZG.jpg?s=128&g=1", "display_name": "Boppity Bop", "link": "https://stackoverflow.com/users/347484/boppity-bop"}, "edited": false, "score": 0, "creation_date": 1574735783, "post_id": 58959598, "comment_id": 104327884, "body": "@BoppityBop If the variables are numeric, even more reason to use Bound Variables/Parametized queries. If you try to concat them into strings, they are first turned into strings. And then parsed back by the SQL Server. You are adding load equivalent to a ToString()/Parse() while also increasing the total amount of data send to the server (strings quickly get bigger then integer values)."}], "tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": 2, "last_activity_date": 1574268984, "creation_date": 1574268984, "answer_id": 58959598, "question_id": 58959318, "link": "https://stackoverflow.com/questions/58959318/is-there-an-advantage-to-use-bound-variables-running-oracle-single-record-update/58959598#58959598", "title": "Is there an advantage to use bound variables running Oracle single record update/insert?", "body": "<p>If you build queries via string concatenation from user input, you are highly vulnerable to SQL Injection attacks. The DB admin wisely never wants to have to make <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">this call</a>. It does not even mater what kind of operation you do - SQL injections can basically run random SQL code.</p>\n\n<p>Now the exact alternate Method varries by your Programming langauge. In C#, you use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.data.sqlclient.sqlcommand.parameters\" rel=\"nofollow noreferrer\">Parametized Queries</a>. Not only are those SQL injection proof, it also offers some type-checking and should be faster. And personally I even find it more readable too. No need to make that maze of quotation marks.</p>\n\n<p>However as you mentioned Bound variables, you might be using <a href=\"https://www.w3schools.com/php/php_mysql_prepared_statements.asp\" rel=\"nofollow noreferrer\">Prepared Statements</a> instead. I will be honest: I rarely used them. They just seem way more complicated then it is worth. But if that is the only non-concatenation way your Libraries and Langauge support, that is the way you have to go.</p>\n\n<p>Note that there is still a slim case where you <em>can</em> use concatenation. And that is if the string is not read from disk, the network or user input. I recently had a case, where depending on user input a IN clause had to be appended. And it was a differnt one (values and lenght), depending on the input. And I was using prepared statements, wich does not deal with it that well. However as the string to append was picked/generated 100% from scratch in a switch/case statement (wich was given the user input), there was no danger. At best random user input could hit the default case.</p>\n"}, {"comments": [{"owner": {"reputation": 7643, "user_id": 347484, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/H60ZG.jpg?s=128&g=1", "display_name": "Boppity Bop", "link": "https://stackoverflow.com/users/347484/boppity-bop"}, "edited": false, "score": 0, "creation_date": 1574346956, "post_id": 58967251, "comment_id": 104207873, "body": "whats <code>shared pool</code>? is it Oracle feature?"}, {"owner": {"reputation": 31674, "user_id": 409172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a2zRR.png?s=128&g=1", "display_name": "Jon Heller", "link": "https://stackoverflow.com/users/409172/jon-heller"}, "reply_to_user": {"reputation": 7643, "user_id": 347484, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/H60ZG.jpg?s=128&g=1", "display_name": "Boppity Bop", "link": "https://stackoverflow.com/users/347484/boppity-bop"}, "edited": false, "score": 0, "creation_date": 1574351566, "post_id": 58967251, "comment_id": 104210735, "body": "@BoppityBop Yes, the shared pool is an Oracle specific feature.  But every database probably has a cache for recently used SQL statements."}], "tags": [], "owner": {"reputation": 31674, "user_id": 409172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a2zRR.png?s=128&g=1", "display_name": "Jon Heller", "link": "https://stackoverflow.com/users/409172/jon-heller"}, "is_accepted": false, "score": 0, "last_activity_date": 1574309980, "creation_date": 1574309980, "answer_id": 58967251, "question_id": 58959318, "link": "https://stackoverflow.com/questions/58959318/is-there-an-advantage-to-use-bound-variables-running-oracle-single-record-update/58967251#58967251", "title": "Is there an advantage to use bound variables running Oracle single record update/insert?", "body": "<p>There are <strong>huge</strong> performance advantages to using bind variables with simple <code>UPDATE</code> and <code>INSERT</code> statements.</p>\n\n<p>First, there's the direct performance improvement from not having to parse so many unique statements.  A small <code>UPDATE</code> may seem like a simple thing at first, but there's a lot happening behind the scene.  Each unique statement must be parsed - Oracle has to check the syntax and security of each statement.  With bind variables, that work only happens once.  The simple test below shows an <code>UPDATE</code> running over 10 times faster with bind variables.</p>\n\n<pre><code>-- Create simple table with one record.\ncreate table x(id number, a number);\ninsert into x values(100, 0);\ncommit;\n\n\n-- 10,000 concatenated UPDATES - 5 seconds.\nbegin\n    for i in 1 .. 10000 loop\n        execute immediate 'update x set a = '||i||' where id = 100';\n    end loop;\nend;\n/\n\n\n-- 10,000 bind variable UPDATES - 0.3 seconds.\n-- (Execute immediate is used here keep this test similar to above.)\nbegin\n    for i in 1 .. 10000 loop\n        execute immediate 'update x set a = :i where id = 100' using i;\n    end loop;\nend;\n/\n</code></pre>\n\n<p>In addition, using bind variables may allow you to use batching and improve the performance by another 10x.</p>\n\n<p>Using bind variables means there will be only one SQL_ID, which makes performance tuning and tracking for the DBA <em>much</em> easier.  With a single SQL_ID, there are many plan management options available, in case there is a bad execution plan.</p>\n\n<p>Finally, creating a huge number of unique statements will fill up the shared pool (a memory structure used to contain execution plan information).  A huge number of statements might push other statements out of the pool, indirectly causing other performance problems.</p>\n"}, {"comments": [{"owner": {"reputation": 31674, "user_id": 409172, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a2zRR.png?s=128&g=1", "display_name": "Jon Heller", "link": "https://stackoverflow.com/users/409172/jon-heller"}, "edited": false, "score": 0, "creation_date": 1574485535, "post_id": 58994724, "comment_id": 104259207, "body": "I don&#39;t think you&#39;re measuring the right thing here.  There is probably only one second of real database work being done here - why does your application take a minute?  (Is the application creating a new connection for each row, and sending data one-row-at-a-time?)"}, {"owner": {"reputation": 3517, "user_id": 7355859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b735c4402205b6cd7fbe9715f69fb772?s=128&d=identicon&r=PG", "display_name": "BobC", "link": "https://stackoverflow.com/users/7355859/bobc"}, "edited": false, "score": 0, "creation_date": 1574988566, "post_id": 58994724, "comment_id": 104428315, "body": "In addition, this looks like a serial test. I would imagine that your application would have users accessing the database concurrently. That is where there are big gains to be had. Here is a video that my group produce a while ago on this topic... <a href=\"https://www.youtube.com/watch?v=EBdZ-RE2HFs\" rel=\"nofollow noreferrer\">youtube.com/watch?v=EBdZ-RE2HFs</a>"}], "tags": [], "owner": {"reputation": 7643, "user_id": 347484, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/H60ZG.jpg?s=128&g=1", "display_name": "Boppity Bop", "link": "https://stackoverflow.com/users/347484/boppity-bop"}, "is_accepted": true, "score": -1, "last_activity_date": 1574427243, "creation_date": 1574427243, "answer_id": 58994724, "question_id": 58959318, "link": "https://stackoverflow.com/questions/58959318/is-there-an-advantage-to-use-bound-variables-running-oracle-single-record-update/58994724#58994724", "title": "Is there an advantage to use bound variables running Oracle single record update/insert?", "body": "<p>The categorical answers prompted me to do a benchmark. It mimics exact prod server conditions.</p>\n\n<p>Results on 30000 iterations (<strong>difference is 6.5%</strong>):</p>\n\n<pre><code>Inline vars: 00:01:09.7444764\nBound  vars: 00:01:05.4454827\n</code></pre>\n\n<pre><code>static void Main(string[] args)\n{\n    var LEN = 30000;\n    var cmd = new OracleCommand();\n    var sql = \"update some_table set progress={0} where id=100\";\n    var rnd = new Random((int)DateTime.Now.Ticks);\n\n    //\n\n    var sw = new Stopwatch();\n    sw.Start();\n\n    for (int i = 0; i &lt; LEN; i++)\n    {\n        using(var cnn = new OracleConnection(\"xxx\"))\n        {\n            sql = string.Format(sql, rnd.Next());\n            cmd.CommandText = sql;\n            cmd.Connection = cnn;\n\n            cnn.Open();\n            cmd.ExecuteNonQuery();\n        }\n    }\n\n    sw.Stop();\n\n    Console.WriteLine(\"Inline vars: {0}\", sw.Elapsed);\n\n    //\n\n    sw.Restart();\n\n    sql = \"update tm_fnet set progress=:p where id=:i\";\n\n    for (int i = 0; i &lt; LEN; i++)\n    {\n        using (var cnn = new OracleConnection(\"xxx\"))\n        {\n            cmd.CommandText = sql;\n            cmd.Connection = cnn;\n                        cmd.Parameters.Clear();\n            cmd.Parameters.AddWithValue(\"i\", 100);\n            cmd.Parameters.AddWithValue(\"p\", rnd.Next());\n\n            cnn.Open();\n            cmd.ExecuteNonQuery();\n        }\n    }\n\n    sw.Stop();\n\n    Console.WriteLine(\"Bound vars: {0}\", sw.Elapsed);\n\n    //\n\n    Console.ReadKey(false);\n}\n</code></pre>\n\n<p><strong>Conclusion</strong> - its not that important unless you have to care for SQL injections (<em>but that's irrelevant in my case</em>).</p>\n"}], "owner": {"reputation": 7643, "user_id": 347484, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/H60ZG.jpg?s=128&g=1", "display_name": "Boppity Bop", "link": "https://stackoverflow.com/users/347484/boppity-bop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 58994724, "answer_count": 3, "score": 1, "last_activity_date": 1574427243, "creation_date": 1574268012, "last_edit_date": 1574424503, "question_id": 58959318, "link": "https://stackoverflow.com/questions/58959318/is-there-an-advantage-to-use-bound-variables-running-oracle-single-record-update", "title": "Is there an advantage to use bound variables running Oracle single record update/insert?", "body": "<p>I am being pestered by Oracle admin telling that Oracle can optimize better requests if I use bound variables instead of inline. The code is C# and using Devart Oracle provider, Oracle12c+. I understand that it can have an impact if you run a select - statistics cached and next similar command would do better.. But single row insert/update? I am not convinced.</p>\n\n<p>Anyone can give an informed answer?</p>\n\n<p>Example:</p>\n\n<pre><code>update x set a = 0 where id = 100\n\nvs \n\nupdate x set a = :a where id = :id\n\n</code></pre>\n\n<p>EDIT: the not-bound values are numeric only so the SQL injection is out of the scope of the question</p>\n"}, {"tags": ["c#", ".net", "dependency-injection", ".net-core"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 2, "creation_date": 1574268083, "post_id": 58959288, "comment_id": 104173969, "body": "That&#39;s not how DI works. If you want DI to create your object, then you can&#39;t invoke the constructor directly yourself (in other words, avoid the <code>new</code> keyword). I highly suggest you watch <a href=\"https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/DEV-B412\" rel=\"nofollow noreferrer\">this video</a> if you&#39;re new to DI concepts."}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1574268162, "post_id": 58959288, "comment_id": 104174011, "body": "<code>new Whatever()</code> is not DI. That being said, you cannot use DI within <code>Main</code> as that is literally the first thing of your application that runs. It\u2019s only later that DI becomes available."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1574272564, "post_id": 58959288, "comment_id": 104176394, "body": "The question in its current state is incomplete and therefore unclear. Can you reformat the question so we get a clearer picture of the current problem and what you are <b>actually</b> trying to do? See the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> page for help clarifying this question."}], "answers": [{"tags": [], "owner": {"reputation": 1333, "user_id": 3312570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fwrU9.jpg?s=128&g=1", "display_name": "Ziaullah Khan", "link": "https://stackoverflow.com/users/3312570/ziaullah-khan"}, "is_accepted": false, "score": 1, "last_activity_date": 1591683346, "last_edit_date": 1591683346, "creation_date": 1574269923, "answer_id": 58959871, "question_id": 58959288, "link": "https://stackoverflow.com/questions/58959288/dependency-injection-in-net-core-main-not-working/58959871#58959871", "title": "Dependency Injection in .NET Core Main() Not Working", "body": "<p>The starting point of any Dependency Injection application is called the Composition Root. The composition root is where we define all the mappings of the application. Loosely put mappings between abstraction and concretion.</p>\n\n<p>Once this mapping is defined the object creation is handed over to the DI framework. DI framework then traverses through these mappings and creates objects for us. </p>\n\n<p>A very good analogy that @Mark Seemann gave in his seminal book on DI is that imagine your code as a little kid. That kid is not allowed to open the fridge. Now if the kid wants to eat something he asks his mom about it. DI framework is the mom who knows what's there in the fridge and how to serve it to the kid.</p>\n"}, {"tags": [], "owner": {"reputation": 785, "user_id": 793502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5352f20397d4c2f4838ee367eabcf687?s=128&d=identicon&r=PG", "display_name": "voracious", "link": "https://stackoverflow.com/users/793502/voracious"}, "is_accepted": false, "score": 0, "last_activity_date": 1574271967, "creation_date": 1574271967, "answer_id": 58960459, "question_id": 58959288, "link": "https://stackoverflow.com/questions/58959288/dependency-injection-in-net-core-main-not-working/58960459#58960459", "title": "Dependency Injection in .NET Core Main() Not Working", "body": "<p><strong>No</strong>, you cannot apply it within the <code>Main</code> method as that is the entrypoint to your application (and its a static method, not a constructor).</p>\n\n<p>You are also instantiating the class by creating a new object (<code>new ConfigBuilder</code>), that's not how you are supposed to use dependency injection.</p>\n\n<p>You are using ASP .NET core. The wiring for your dependencies is done within <code>ConfigureServices(IServiceCollection services)</code> <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/startup?view=aspnetcore-3.0\" rel=\"nofollow noreferrer\">after which</a> you can use the dependencies. For example, by specifying the needed dependencies (interfaces and/or classes) in your Controller constructor.</p>\n\n<p>You can find a more in-depth explanation here: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 10183, "user_id": 9604, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3740b508fb7c60ad79d9bc43eb05c48e?s=128&d=identicon&r=PG", "display_name": "mxmissile", "link": "https://stackoverflow.com/users/9604/mxmissile"}, "is_accepted": false, "score": 1, "last_activity_date": 1574273427, "creation_date": 1574273427, "answer_id": 58960837, "question_id": 58959288, "link": "https://stackoverflow.com/questions/58959288/dependency-injection-in-net-core-main-not-working/58960837#58960837", "title": "Dependency Injection in .NET Core Main() Not Working", "body": "<p>You can do this, assuming you injected your service properly, and not sure if this is a good idea or not but...</p>\n\n<pre><code>public static void Main(string[] args)\n{\n    var builder = CreateWebHostBuilder(args);\n    var host = builder.Build(); \n    using (var scope = host.Services.CreateScope())\n    {\n        var services = scope.ServiceProvider;\n\n        var aws = services.GetService&lt;AwsConfigurationBuilder&gt;();\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 9183079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea173c3b1647349e2487f123fa3adbd?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Lusk", "link": "https://stackoverflow.com/users/9183079/josh-lusk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1591683346, "creation_date": 1574267918, "question_id": 58959288, "link": "https://stackoverflow.com/questions/58959288/dependency-injection-in-net-core-main-not-working", "title": "Dependency Injection in .NET Core Main() Not Working", "body": "<p>I have a library with a class that I instantiate in the <code>Main()</code> method of my .NET Core Web API (<code>netcoreapp2.2</code>) for retrieving the Web API's configuration:</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>public static void Main(string[] args)\n{\n    var configBuilder = new ConfigBuilder(\"configuration-v1.json\").Build();\n\n    WebHost.CreateDefaultBuilder(args)\n        .UseConfiguration(configuration)\n        .UseStartup&lt;Startup&gt;()\n        .Build()\n        .Run();\n}\n</code></pre>\n\n<p>The constructor <code>ConfigBuilder</code> is:</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>public AwsConfigurationBuilder(string configKey, IAmazonS3ClientAdapter s3Client)\n</code></pre>\n\n<p>My <code>ConfigureServices</code> method in <code>Startup.cs</code> is:</p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>public void ConfigureServices(IServiceCollection services)\n{\n    services\n        .AddScoped&lt;IAmazonS3ClientAdapter, AmazonS3ClientAdapter&gt;()\n        .AddMvc()\n        .SetCompatibilityVersion(CompatibilityVersion.Version_2_2);\n}\n</code></pre>\n\n<p>And I am getting the following error concerning <code>ConfigBuilder</code> instantiation:</p>\n\n<pre><code>There is no argument given that corresponds to the required formal parameter 's3Client' of 'ConfigBuilder.ConfigBuilder(string, IAmazonS3ClientAdapter)' [Foo.BarService]csharp(CS7036) \n</code></pre>\n\n<p>Is it just not possible to do dependency injection in the service's <code>Main</code> method?</p>\n"}, {"tags": ["c#", "unicode", "encoding", "at-command"], "comments": [{"owner": {"reputation": 38072, "user_id": 46395, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5ce828f20abb195ef5d971205ee36c27?s=128&d=identicon&r=PG", "display_name": "daxim", "link": "https://stackoverflow.com/users/46395/daxim"}, "edited": false, "score": 1, "creation_date": 1574319190, "post_id": 58959248, "comment_id": 104191883, "body": "UCS-2 is unable to encode character outside the basic plane, such as emojis. Please edit your question to demonstrate/verify that encoding <code>&quot;\\N{NAUSEATED FACE}&quot;</code> (U+1F922) into UTF-16BE results in the octets 0xd8 0x3e 0xdd 0x22 and that there is no byte-order mark."}], "answers": [{"tags": [], "owner": {"reputation": 592, "user_id": 306914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ce30a8bfeaa2a957c4585339d3a79a6?s=128&d=identicon&r=PG", "display_name": "drott", "link": "https://stackoverflow.com/users/306914/drott"}, "is_accepted": true, "score": 1, "last_activity_date": 1603097837, "creation_date": 1603097837, "answer_id": 64424135, "question_id": 58959248, "link": "https://stackoverflow.com/questions/58959248/send-sms-containting-emojis-with-at-commands/64424135#64424135", "title": "Send SMS containting Emojis with AT Commands", "body": "<p>Make sure that your modem uses the correct data coding scheme for the SMS. See <a href=\"https://stackoverflow.com/a/15312611/306914\">this answer</a> and</p>\n<ol>\n<li>Set the modem to text mode using <code>AT+CMGF=1</code></li>\n<li>Set the coding scheme to <code>&quot;UCS2&quot;</code> using <code>AT+CSCS=&quot;UCS2&quot;</code></li>\n<li>Send <code>AT+CSMP=1,167,0,8</code> to the modem.</li>\n<li>Now in UCS2 mode, the modem needs the recipient number in UCS2 form as well, i.e. for <code>+123456890</code> send\n<code>AT+CGMS=&quot;002B003100320033003400350036003800390030&quot;,145</code> (145 is type-of-address for numbers with country code, use <code>129</code> otherwise.</li>\n<li>The modem should respond with a <code>&gt; </code> prompt. Then, send the message in the right encoding i.e. sending the message as what I would describe as an ASCII hex sequence of UCS2/UTF-16 bytes, i.e. encoding the string to UTF-16BE, then taking each byte and formatting it as ASCII HEX characters, i.e. \ud83d\udc08 which is <code>U+1F408</code> becomes <code>D83DDC08</code> that is sent to the modem, <code>012ABC</code> becomes <code>003000310032 004100420043</code>.</li>\n</ol>\n"}], "owner": {"reputation": 55, "user_id": 9401709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0dbafae2974c740c79e152992d43989?s=128&d=identicon&r=PG&f=1", "display_name": "Young Mister", "link": "https://stackoverflow.com/users/9401709/young-mister"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 64424135, "answer_count": 1, "score": 1, "last_activity_date": 1603097837, "creation_date": 1574267782, "last_edit_date": 1574376870, "question_id": 58959248, "link": "https://stackoverflow.com/questions/58959248/send-sms-containting-emojis-with-at-commands", "title": "Send SMS containting Emojis with AT Commands", "body": "<p>I would like to send an SMS containing Emojis from my GSM Modem with AT Commands.</p>\n\n<p>However, no matter which encoding I try, it never works (<code>Encoding.BigEndianUnicode</code>, <code>Encoding.Unicode</code> or <code>Default</code>) make the SMS unreadable.</p>\n\n<p>My code looks a bit like this:</p>\n\n<pre><code>// [..]\n// send message with UCS2\ncommand = \"AT+CSCS=\\\"UCS2\\\"\" + char.ConvertFromUtf32(13);\nsend(command);   \n\n// [..]\n// convert my message (string from a WPF TextBox) to a unicode hex-string\nbyte[] ba = Encoding.BigEndianUnicode.GetBytes(message);\nvar hexString = BitConverter.ToString(ba);\nhexString = hexString.Replace(\"-\", \"\");\n\n// send the converted string\ncommand = hexString  + char.ConvertFromUtf32(26);\nsend(command);\n// [..]\n</code></pre>\n\n<p>The SMS successfully reaches its destination but the message is just some <strong>unreadable stuff</strong>.</p>\n\n<p>Is this even possible to do? My GSM Modem would also support \"HEX\" as encoding.</p>\n\n<p><strong>Update:</strong>\nIt kinda works if i replace this line:</p>\n\n<pre><code>command = hexString  + char.ConvertFromUtf32(26);\n</code></pre>\n\n<p>With this:</p>\n\n<pre><code>command = \"80 \" + hexString + char.ConvertFromUtf32(26);\n</code></pre>\n\n<p>But then i get this \u38e9 letter at the start of the message...</p>\n"}, {"tags": ["c#", "azure", "microservices", "azure-service-fabric", "unc"], "comments": [{"owner": {"reputation": 168, "user_id": 6847394, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QJdWen6VA4Y/AAAAAAAAAAI/AAAAAAAAAvg/Iu302W0zqps/photo.jpg?sz=128", "display_name": "Narendran Pandian", "link": "https://stackoverflow.com/users/6847394/narendran-pandian"}, "edited": false, "score": 0, "creation_date": 1574268444, "post_id": 58959160, "comment_id": 104174155, "body": "To add context: We were using azure file share using the SDK until the software on the other end for some reason could not connect with it and they had to go with a more traditional network drive."}], "answers": [{"tags": [], "owner": {"reputation": 10811, "user_id": 5946937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a686518049226b2b0f0bbb1f334978e?s=128&d=identicon&r=PG&f=1", "display_name": "LoekD", "link": "https://stackoverflow.com/users/5946937/loekd"}, "is_accepted": true, "score": 2, "last_activity_date": 1574334217, "creation_date": 1574334217, "answer_id": 58973437, "question_id": 58959160, "link": "https://stackoverflow.com/questions/58959160/service-fabric-accessing-unc-drive-to-store-a-file-is-it-possible/58973437#58973437", "title": "Service fabric accessing unc drive to store a file. is it possible?", "body": "<p>It's probably easiest to mount the unc drive as a local drive.</p>\n\n<p>You can <a href=\"https://docs.microsoft.com/en-us/azure/storage/files/storage-how-to-use-files-windows#persisting-azure-file-share-credentials-in-windows\" rel=\"nofollow noreferrer\">script</a> a mount to the file share. Put the credentials into configuration.\nRun the script as a <a href=\"https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-run-script-at-service-startup\" rel=\"nofollow noreferrer\">setup entry point</a> of the service.\nMake sure the script runs <a href=\"https://en.wikipedia.org/wiki/Idempotence\" rel=\"nofollow noreferrer\">idempotent</a>.</p>\n\n<p>Sample script:</p>\n\n<pre><code>$resourceGroupName = \"&lt;your-resource-group-name&gt;\"\n$storageAccountName = \"&lt;your-storage-account-name&gt;\"\n$fileShareName = \"&lt;your-file-share-name&gt;\"\n\n# These commands require you to be logged into your Azure account, run Login-AzAccount if you haven't\n# already logged in.\n$storageAccount = Get-AzStorageAccount -ResourceGroupName $resourceGroupName -Name $storageAccountName\n$storageAccountKeys = Get-AzStorageAccountKey -ResourceGroupName $resourceGroupName -Name $storageAccountName\n$fileShare = Get-AzStorageShare -Context $storageAccount.Context | Where-Object { \n    $_.Name -eq $fileShareName -and $_.IsSnapshot -eq $false\n}\n\nif ($fileShare -eq $null) {\n    throw [System.Exception]::new(\"Azure file share not found\")\n}\n\n# The value given to the root parameter of the New-PSDrive cmdlet is the host address for the storage account, \n# &lt;storage-account&gt;.file.core.windows.net for Azure Public Regions. $fileShare.StorageUri.PrimaryUri.Host is \n# used because non-Public Azure regions, such as sovereign clouds or Azure Stack deployments, will have different \n# hosts for Azure file shares (and other storage resources).\n$password = ConvertTo-SecureString -String $storageAccountKeys[0].Value -AsPlainText -Force\n$credential = New-Object System.Management.Automation.PSCredential -ArgumentList \"AZURE\\$($storageAccount.StorageAccountName)\", $password\nNew-PSDrive -Name &lt;desired-drive-letter&gt; -PSProvider FileSystem -Root \"\\\\$($fileShare.StorageUri.PrimaryUri.Host)\\$($fileShare.Name)\" -Credential $credential -Persist\n</code></pre>\n\n<p>From that moment, you can use the drive any way you see fit. For example, by using <code>System.IO.File.ReadAllText</code> and {desired-drive-letter}.</p>\n"}], "owner": {"reputation": 168, "user_id": 6847394, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QJdWen6VA4Y/AAAAAAAAAAI/AAAAAAAAAvg/Iu302W0zqps/photo.jpg?sz=128", "display_name": "Narendran Pandian", "link": "https://stackoverflow.com/users/6847394/narendran-pandian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 58973437, "answer_count": 1, "score": 0, "last_activity_date": 1574334217, "creation_date": 1574267532, "question_id": 58959160, "link": "https://stackoverflow.com/questions/58959160/service-fabric-accessing-unc-drive-to-store-a-file-is-it-possible", "title": "Service fabric accessing unc drive to store a file. is it possible?", "body": "<p>I have an service (.net core) running in Service fabric (self-hosted). I tried searching on the internet to find some resources to help me construct a possible solution but failed to get good reliable sources so far. </p>\n\n<p>I have two possible ideas in my mind:\n1) Treat the unc drive like any other drive and use StreamReader and Streamwriter.</p>\n\n<p>2) Mount the files as local drives (somehow) and use StreamReader and Streamwrier based on <a href=\"https://stackoverflow.com/questions/42365071/how-to-mount-a-file-share-in-azure-service-fabric\">this</a></p>\n\n<p>I don't understand the second one completely so far.</p>\n\n<p>Will it be able to access an unc drive to store and retrieve files? \nHow would I go about doing that? </p>\n"}, {"tags": ["c#", "jquery", "asp.net-core", ".net-core", "blazor"], "comments": [{"owner": {"reputation": 4909, "user_id": 3726963, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/p2sBN.png?s=128&g=1", "display_name": "Postlagerkarte", "link": "https://stackoverflow.com/users/3726963/postlagerkarte"}, "edited": false, "score": 3, "creation_date": 1574269193, "post_id": 58959123, "comment_id": 104174601, "body": "XY problem? Can you explain why you need the html element in the first place?"}, {"owner": {"reputation": 2663, "user_id": 913766, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9333239fa52f134c79da397180bd4b7?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/913766/arthur"}, "reply_to_user": {"reputation": 4909, "user_id": 3726963, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/p2sBN.png?s=128&g=1", "display_name": "Postlagerkarte", "link": "https://stackoverflow.com/users/3726963/postlagerkarte"}, "edited": false, "score": 0, "creation_date": 1574321119, "post_id": 58959123, "comment_id": 104192747, "body": "Not XY problem, I need to find position of the first element within the set of matched elements in relation to its siblings - <a href=\"https://api.jquery.com/index/\" rel=\"nofollow noreferrer\">api.jquery.com/index</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2663, "user_id": 913766, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9333239fa52f134c79da397180bd4b7?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/913766/arthur"}, "edited": false, "score": 0, "creation_date": 1574320967, "post_id": 58959637, "comment_id": 104192665, "body": "Ie, it&#39;s not possible to get index in Jquery-like style, from DOM, without passing element index (int) in method parameters?"}, {"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "reply_to_user": {"reputation": 2663, "user_id": 913766, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9333239fa52f134c79da397180bd4b7?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/913766/arthur"}, "edited": false, "score": 0, "creation_date": 1574321262, "post_id": 58959637, "comment_id": 104192808, "body": "I wonder why you need to have the index actualy, maybe there&#39;s some other way to implement the behavior you need without to access the index."}, {"owner": {"reputation": 2663, "user_id": 913766, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9333239fa52f134c79da397180bd4b7?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/913766/arthur"}, "edited": false, "score": 0, "creation_date": 1574325335, "post_id": 58959637, "comment_id": 104194754, "body": "My task is convert Windows Form app to Web-version. The old Windows Form has DataGridView, each row of that has onClick event and Tag Object too. When some of row of the DataGridView clicked, onClick get&#39;s Tag Object of the row and used it to fill data to another DataGridView&#39;s on the form. So, I need to know, what row clicked to get data from some object (it can be DataTable, or, to be more simply, Array). Based on index of row and index in Array, I need to get data for filling another tables on Web Page."}, {"owner": {"reputation": 2663, "user_id": 913766, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9333239fa52f134c79da397180bd4b7?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/913766/arthur"}, "edited": false, "score": 0, "creation_date": 1574325449, "post_id": 58959637, "comment_id": 104194813, "body": "OK, I&#39;ll do it now."}, {"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "reply_to_user": {"reputation": 2663, "user_id": 913766, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9333239fa52f134c79da397180bd4b7?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/913766/arthur"}, "edited": false, "score": 0, "creation_date": 1574325549, "post_id": 58959637, "comment_id": 104194863, "body": "Basically, I think you can pass the reference of your object instead of using index. Because you&#39;re going to construct your table using foreach loop on your arrays, right ?"}, {"owner": {"reputation": 2663, "user_id": 913766, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9333239fa52f134c79da397180bd4b7?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/913766/arthur"}, "edited": false, "score": 0, "creation_date": 1574325751, "post_id": 58959637, "comment_id": 104194963, "body": "Question updated. How can I pass reference to object in Blazor? ) Yep, my code is <code>&lt;tbody&gt;          @foreach (var line in dataGridView1)         {             &lt;tr @onclick=&quot;OnYes&quot;&gt;                 @foreach (var col in line.cols)                 {                     &lt;td &gt;                         @col                      &lt;&#47;td&gt;                 }             &lt;&#47;tr&gt;         }     &lt;&#47;tbody&gt;</code>"}, {"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "reply_to_user": {"reputation": 2663, "user_id": 913766, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9333239fa52f134c79da397180bd4b7?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/913766/arthur"}, "edited": false, "score": 1, "creation_date": 1574326004, "post_id": 58959637, "comment_id": 104195104, "body": "using @, for exemple: <code>@foreach (var line in dataGridView1) { &lt;tr @onclick=&quot;() =&gt; OnYes(line)&gt; @foreach (var col in line.cols) { &lt;td @onclick=&quot;() =&gt; ColLineClicked(col, line)&quot; &gt; @col ...</code>"}, {"owner": {"reputation": 2663, "user_id": 913766, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9333239fa52f134c79da397180bd4b7?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/913766/arthur"}, "edited": false, "score": 0, "creation_date": 1574326467, "post_id": 58959637, "comment_id": 104195348, "body": "Interesting, very interesting. It works now: <code>&lt;tbody&gt;          @foreach (var line in dataGridView1)         {             &lt;tr @onclick=&quot;() =&gt; MainTableOnClick(line)&quot;&gt;                 @foreach (var col in line.cols)                 {                     &lt;td &gt;                         @col                      &lt;&#47;td&gt;                 }             &lt;&#47;tr&gt;         }     &lt;&#47;tbody&gt; </code> ... <code>public async Task MainTableOnClick(TableRow tr)     {          Console.WriteLine(&quot;!!! &quot;+tr.Tag);     }</code> But if I am looking in Developer tools of Chrome - Network - there is no requests on clicks!"}, {"owner": {"reputation": 2663, "user_id": 913766, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9333239fa52f134c79da397180bd4b7?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/913766/arthur"}, "edited": false, "score": 0, "creation_date": 1574326539, "post_id": 58959637, "comment_id": 104195407, "body": "But Windows Console prints data! How it passed data between Google Chrome and my app, if it didn&#39;t make any requests between browser and my app (server)?"}, {"owner": {"reputation": 2663, "user_id": 913766, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9333239fa52f134c79da397180bd4b7?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/913766/arthur"}, "edited": false, "score": 0, "creation_date": 1574326752, "post_id": 58959637, "comment_id": 104195546, "body": "Oh, I see, it uses WebSocket to communicate. Cool! Thank you again!"}], "tags": [], "owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "is_accepted": true, "score": 8, "last_activity_date": 1574269429, "last_edit_date": 1574269429, "creation_date": 1574269126, "answer_id": 58959637, "question_id": 58959123, "link": "https://stackoverflow.com/questions/58959123/c-blazor-onlick-how-to-get-html-element-clicked-on/58959637#58959637", "title": "C# - Blazor @onlick how to get HTML element clicked on", "body": "<p>In this case, you can use <a href=\"https://docs.microsoft.com/en-us/aspnet/core/blazor/javascript-interop?view=aspnetcore-3.0\" rel=\"noreferrer\">JSInterop</a></p>\n\n<p>Or</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>&lt;tr @onclick=\"() =&gt; TrClickedAtIndex(0)\"&gt;...&lt;/tr&gt;\n\n@code {\n    ElementReference inputTypeFileElement;\n\n    public void TrClickedAtIndex(int index)\n    {\n        Console.WriteLine($\"tr clicked at index {index}!\");\n    }\n}\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 324, "user_id": 5712399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497d8d7fbc9068ea202858d87db24809?s=128&d=identicon&r=PG&f=1", "display_name": "Giancarlo Sierra", "link": "https://stackoverflow.com/users/5712399/giancarlo-sierra"}, "edited": false, "score": 1, "creation_date": 1586544760, "post_id": 58980844, "comment_id": 108174734, "body": "Quite useful hint to use a quick assignment in such case, useful fiddle!"}, {"owner": {"reputation": 101, "user_id": 13482944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmcUo.png?s=128&g=1", "display_name": "Christoph B", "link": "https://stackoverflow.com/users/13482944/christoph-b"}, "edited": false, "score": 1, "creation_date": 1605686021, "post_id": 58980844, "comment_id": 114723953, "body": "I find this solution much better than using JSInterop for everything. The entire point of Blazor is not having to resort to JS for these kinds of simple issues. This should be the accepted answer"}], "tags": [], "owner": {"reputation": 8878, "user_id": 41403, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/476b1c3cf22e774b835403adc9af6a59?s=128&d=identicon&r=PG", "display_name": "Quango", "link": "https://stackoverflow.com/users/41403/quango"}, "is_accepted": false, "score": 3, "last_activity_date": 1574358290, "creation_date": 1574358290, "answer_id": 58980844, "question_id": 58959123, "link": "https://stackoverflow.com/questions/58959123/c-blazor-onlick-how-to-get-html-element-clicked-on/58980844#58980844", "title": "C# - Blazor @onlick how to get HTML element clicked on", "body": "<p>If you want to get the element you can use a <code>@ref</code> to return an element, but generally in Blazor you're not interest in the elements (as you might in JQuery) but what they relate to.</p>\n\n<p>I created this simple BlazorFiddle that lists three strings in a table. It's similar to the other answer but it demonstrates a little wrinkle - when passing a value from a loop or enumeration you need to assign it.</p>\n\n<p><a href=\"https://blazorfiddle.com/s/br8lwsl2\" rel=\"nofollow noreferrer\">https://blazorfiddle.com/s/br8lwsl2</a></p>\n\n<p>This shows a table for three strings. When you click a row, it passes the data item from the clicked row - not just an index.</p>\n\n<pre><code>    int index = i;\n    &lt;tr @onclick=\"()=&gt; ClickedRow(list[index])\" &gt;&lt;td&gt;\n</code></pre>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 2663, "user_id": 913766, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d9333239fa52f134c79da397180bd4b7?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur", "link": "https://stackoverflow.com/users/913766/arthur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6133, "favorite_count": 0, "accepted_answer_id": 58959637, "answer_count": 2, "score": 4, "last_activity_date": 1574358290, "creation_date": 1574267438, "last_edit_date": 1574325615, "question_id": 58959123, "link": "https://stackoverflow.com/questions/58959123/c-blazor-onlick-how-to-get-html-element-clicked-on", "title": "C# - Blazor @onlick how to get HTML element clicked on", "body": "<p>I am currently learning C# Blazor framework and I am faced with question, how to get HTML element I clicked on? </p>\n\n<p>I need it to get it's position in DOM and in parent HTML element.</p>\n\n<p>For example, classic way with JQuery:</p>\n\n<pre><code>$('selector').click(function (event) {\n    alert($(this).index());\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/bCTAh/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/bCTAh/</a></p>\n\n<p>I know, that there is @onclick attribute in Blazor, for example:</p>\n\n<pre><code>&lt;tr @onclick=\"OnYes\"&gt;...&lt;/tr&gt;\n\n@functions {\n    ElementReference inputTypeFileElement;\n\n    public async Task MainTableOnClick(MouseEventArgs e)\n    {\n        Console.WriteLine(\"clicked!\");\n    }\n}\n</code></pre>\n\n<p>How can I get index of TR HTML element that was clicked on?</p>\n\n<p>My task is convert Windows Form app to Web-version. The old Windows Form has DataGridView, each row of that has onClick event and Tag Object too. When some of row of the DataGridView clicked, onClick get's Tag Object of the row and used it to fill data to another DataGridView's on the form. So, I need to know, what row clicked to get data from some object (it can be DataTable, or, to be more simply, Array). Based on index of row and index in Array, I need to get data for filling another tables on Web Page. </p>\n\n<p>So, first table is Clients (name, surname, etc...).</p>\n\n<p>When some of row with Client has been clicked, I need to get row (Client) index in the table. By that index I'll get data from Array of Clients. By found Client object I plan to fill another tables on the page dynamically.</p>\n"}, {"tags": ["c#", "wcf", "soap", "mime", "mtom"], "owner": {"reputation": 10718, "user_id": 982639, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/gToj4.jpg?s=128&g=1", "display_name": "Alexandru", "link": "https://stackoverflow.com/users/982639/alexandru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574266976, "creation_date": 1574266976, "question_id": 58958981, "link": "https://stackoverflow.com/questions/58958981/format-of-the-multipart-boundary-in-soapmtom-wcf-payloads", "title": "Format of the multipart boundary in SOAP+MTOM WCF payloads", "body": "<p>If you use a client with a custom binding to communicate with a SOAP+MTOM based WCF service, .NET crafts a multipart boundary in the following format:</p>\n\n<pre><code>boundary=\"uuid:f45e6739-e796-41c7-bc96-6dd977a185f6+id=2\";\n</code></pre>\n\n<p>My question is, why is it formatted this way? According to the <a href=\"https://www.w3.org/Protocols/rfc1341/7_2_Multipart.html\" rel=\"nofollow noreferrer\">RFC1341</a>, the boundary does not <em>need</em> to have this format. So I am wondering, if anyone has any insights into this, why does .NET add the <code>uuid:</code> prefix and why does it add the <code>+id=#</code> suffix? Why doesn't .NET drop the prefix and the suffix in favor of just the GUID portion? What is a use case in which it is a benefit to have the prefix and the suffix added to the boundary?</p>\n"}, {"tags": ["c#", "attributes"], "comments": [{"owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 0, "creation_date": 1574266969, "post_id": 58958950, "comment_id": 104173279, "body": "Does your generated assembly have a reference to the assembly which contains <code>TableAttribute</code>?"}, {"owner": {"reputation": 973, "user_id": 10721563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tGUHp.png?s=128&g=1", "display_name": "Ozan Yurtsever", "link": "https://stackoverflow.com/users/10721563/ozan-yurtsever"}, "reply_to_user": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 0, "creation_date": 1574267048, "post_id": 58958950, "comment_id": 104173321, "body": "Yes, it is referencing it."}, {"owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 0, "creation_date": 1574267070, "post_id": 58958950, "comment_id": 104173340, "body": "Put that in your question, then. Your code should be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "owner": {"reputation": 973, "user_id": 10721563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tGUHp.png?s=128&g=1", "display_name": "Ozan Yurtsever", "link": "https://stackoverflow.com/users/10721563/ozan-yurtsever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574267794, "creation_date": 1574266850, "last_edit_date": 1574267794, "question_id": 58958950, "link": "https://stackoverflow.com/questions/58958950/setcustomattribute-method-does-not-add-the-specified-attribute-to-the-class", "title": "SetCustomAttribute method does not add the specified attribute to the class", "body": "<p>I am trying to add an attribute to a class. The class looks like this;</p>\n\n<pre><code>public class User\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public string Surname { get; set; }\n    public string Email { get; set; }\n    public int? TitleId { get; set; }\n}\n</code></pre>\n\n<p>I want to add the <code>TableAttribute</code> to the class itself. Here is my function to do this task;</p>\n\n<pre><code> public static void AddAttribute()\n {\n     var type = typeof(User);\n     var aName = new AssemblyName(\"PolatDashboard.Console\");\n     var ab = AppDomain.CurrentDomain.DefineDynamicAssembly(aName, AssemblyBuilderAccess.Run);\n     var mb = ab.DefineDynamicModule(aName.Name);\n     var tb = mb.DefineType(type.Name, TypeAttributes.Public, type);\n\n     var attrCtorParams = new Type[] { typeof(string) };\n     var attrCtorInfo = typeof(TableAttribute).GetConstructor(attrCtorParams);\n     var attrBuilder = new CustomAttributeBuilder(attrCtorInfo, new object[] { \"SomeValue\" });\n     tb.SetCustomAttribute(attrBuilder);\n }\n</code></pre>\n\n<p>I am not having any compile or run time error but at the end, the attribute is not being added to my <code>User</code> class. I know that the assembly <code>PolatDashboard.Console</code> references the required <code>.dll</code> for <code>TableAttribute</code>. What can be causing this problem? Thanks in advance.</p>\n\n<p><strong>Adition</strong>: How I know that this function does not work in the way I want is by debugging. I am debuggin the code and looking the <code>type</code> variable's <code>CustomAttributes</code>and at the end of the function, it is not incrementing and the specified attribute <code>TableAttribute</code>is not being added.</p>\n"}, {"tags": ["c#", "html", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 1, "creation_date": 1574273463, "post_id": 58958881, "comment_id": 104176869, "body": "This is where I find 3rd party tools like kendo ui invaluable. You can roll your own with some jquery like <a href=\"http://ivanz.com/2011/06/16/editing-variable-length-reorderable-collections-in-asp-net-mvc-part-1/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.codeproject.com/Articles/786085/ASP-NET-MVC-List-Editor-with-Bootstrap-Modals\" rel=\"nofollow noreferrer\">here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 257, "user_id": 6457418, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b7b20e3b59b6bef39ac9f942af43b2f9?s=128&d=identicon&r=PG&f=1", "display_name": "kkamil4sz", "link": "https://stackoverflow.com/users/6457418/kkamil4sz"}, "edited": false, "score": 0, "creation_date": 1574269220, "post_id": 58959262, "comment_id": 104174609, "body": "But i dont know how many <code>&lt;input&#47;&gt;</code> i need because it depends how many user wants to add."}], "tags": [], "owner": {"reputation": 1, "user_id": 3681642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MUrUR.jpg?s=128&g=1", "display_name": "azorlua", "link": "https://stackoverflow.com/users/3681642/azorlua"}, "is_accepted": false, "score": 0, "last_activity_date": 1574267838, "creation_date": 1574267838, "answer_id": 58959262, "question_id": 58958881, "link": "https://stackoverflow.com/questions/58958881/how-to-make-form-input-for-list-of-objects/58959262#58959262", "title": "How to make form input for List of objects?", "body": "<p>It will solve the problem if you use more than one related model in View pages and give a list parameter in actions..\nAn example;\nView;</p>\n\n<pre><code>&lt;input type=\"text\" name=\"name\" id=\"name1\" /&gt;\n&lt;input type=\"text\" name=\"name\" id=\"name2\" /&gt;\n</code></pre>\n\n<p>Action\npublic actionresult post(string [] name) </p>\n"}, {"comments": [{"owner": {"reputation": 257, "user_id": 6457418, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b7b20e3b59b6bef39ac9f942af43b2f9?s=128&d=identicon&r=PG&f=1", "display_name": "kkamil4sz", "link": "https://stackoverflow.com/users/6457418/kkamil4sz"}, "edited": false, "score": 0, "creation_date": 1574467464, "post_id": 58999667, "comment_id": 104256840, "body": "Well i had that idea of making user specify how many cargo is he going to add beforehand but i think this is kinda crude. I would like to have input fields for just one element at the time and then show another field if user pressed &quot;add another one&quot; or something like that."}, {"owner": {"reputation": 112, "user_id": 12169172, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jC71HQQFGMY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdlK9sTQYshUoh1l76zTnlyzA9snA/photo.jpg?sz=128", "display_name": "ChaosFish", "link": "https://stackoverflow.com/users/12169172/chaosfish"}, "reply_to_user": {"reputation": 257, "user_id": 6457418, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b7b20e3b59b6bef39ac9f942af43b2f9?s=128&d=identicon&r=PG&f=1", "display_name": "kkamil4sz", "link": "https://stackoverflow.com/users/6457418/kkamil4sz"}, "edited": false, "score": 0, "creation_date": 1574485228, "post_id": 58999667, "comment_id": 104259172, "body": "This must be implemented through JS. Give me some time. I can implement this operation.@kkamil4sz"}], "tags": [], "owner": {"reputation": 112, "user_id": 12169172, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jC71HQQFGMY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdlK9sTQYshUoh1l76zTnlyzA9snA/photo.jpg?sz=128", "display_name": "ChaosFish", "link": "https://stackoverflow.com/users/12169172/chaosfish"}, "is_accepted": false, "score": 2, "last_activity_date": 1574523052, "last_edit_date": 1574523052, "creation_date": 1574446383, "answer_id": 58999667, "question_id": 58958881, "link": "https://stackoverflow.com/questions/58958881/how-to-make-form-input-for-list-of-objects/58999667#58999667", "title": "How to make form input for List of objects?", "body": "<h3>My solution</h3>\n\n<ol>\n<li>I implemented this function manually without any JS code.</li>\n<li>The code is very simple. You can refer to my code <a href=\"https://github.com/jianba/ASP.NET-Core-MVC-with-EF-Core---tutorial-series/blob/master/ContosoUniversity/Controllers/OrderController.cs\" rel=\"nofollow noreferrer\">here</a> directly.</li>\n</ol>\n\n<h3>Solving process</h3>\n\n<ol>\n<li>We have to insert the order table before we can insert the cargo table. Otherwise, we can't connect the two tables.</li>\n<li>We need these three form models.We use the cargocount field to link the two order pages with the cargo page.</li>\n</ol>\n\n<pre><code>    public class CargoViewModel\n    {\n        public int OrderId { get; set; }\n        public int Amount { get; set; }\n        public string CargoType { get; set; }\n\n        //Other use\n        public int CargoCount { get; set; }\n        public List&lt;CargoViewModel&gt; Cargos { get; set; }\n    }\n</code></pre>\n\n<pre><code>    public class OrderViewModel\n    {\n        public int OrderId { get; set; }\n        public string PickUpAddress { get; set; }\n        public string DropOffAddress { get; set; }\n        public int CargoCount { get; set; }\n        public List&lt;CargoViewModel&gt; Cargos { get; set; }\n    }\n</code></pre>\n\n<pre><code>    public class OrdersViewModel\n    {\n        public List&lt;OrderViewModel&gt; Orders { get; set; } = new List&lt;OrderViewModel&gt;();\n    }\n</code></pre>\n\n<ol start=\"3\">\n<li>When we create an order page, we need to provide the data of cargocount. When we submit the order page, we will save the existing data to the order table, jump to the cargo page, and generate cargocount input tags.</li>\n<li>Next, submit the list form.\nSubmit page code</li>\n</ol>\n\n<pre><code>        &lt;form asp-controller=\"Order\" asp-action=\"CreateCargo\" method=\"post\"&gt;\n                @if (Model.CargoCount != 0)\n                {\n                    for (int itemCount = 0; itemCount &lt; Model.CargoCount; itemCount++)\n                    {\n                        &lt;div class=\"row\"&gt;\n                            &lt;div asp-validation-summary=\"ModelOnly\" class=\"text-danger\"&gt;&lt;/div&gt;\n                            &lt;div class=\"form-group\"&gt;\n                                &lt;div class=\"form-group\" style=\"width:300px; height:auto; float:left; display:inline\"&gt;\n                                    &lt;label asp-for=\"@Model.Cargos[itemCount].Amount\" class=\"control-label\"&gt;&lt;/label&gt;\n                                    &lt;input asp-for=\"@Model.Cargos[itemCount].Amount\" class=\"form-control\" /&gt;\n                                    &lt;span asp-validation-for=\"@Model.Cargos[itemCount].Amount\" class=\"text-danger\"&gt;&lt;/span&gt;\n                                &lt;/div&gt;\n                                &lt;div class=\"form-group\" style=\"width:300px; height:auto; float:left; display:inline\"&gt;\n                                    &lt;label asp-for=\"@Model.Cargos[itemCount].CargoType\" class=\"control-label\"&gt;&lt;/label&gt;\n                                    &lt;input asp-for=\"@Model.Cargos[itemCount].CargoType\" class=\"form-control\" /&gt;\n                                    &lt;span asp-validation-for=\"@Model.Cargos[itemCount].CargoType\" class=\"text-danger\"&gt;&lt;/span&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    }\n                }\n                &lt;div class=\"form-group\"&gt;\n                    &lt;input type=\"submit\" value=\"Create\" class=\"btn btn-primary\" /&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n</code></pre>\n\n<p>Background data processing code</p>\n\n<pre><code>        [HttpPost]  \n        public async Task&lt;IActionResult&gt; CreateCargo(CargoViewModel  model)\n        {\n            var orderId = await _context.Order.Select(o =&gt; o.OrderId).MaxAsync();\n            var cargos = model.Cargos;\n            foreach (var item in cargos)\n            {\n                var cargo = new Cargo\n                {\n                    OrderId = orderId,\n                    Amount = item.Amount,\n                    CargoType = item.CargoType\n                };\n                await _context.AddAsync(cargo);\n                await _context.SaveChangesAsync();\n            }\n            return RedirectToAction(nameof(Index));\n        }\n</code></pre>\n\n<h3>Using JS implementation</h3>\n\n<ol>\n<li>We need this form models.</li>\n</ol>\n\n<pre><code>    public class OrderAndCargoViewModel\n    {\n        public int OrderId { get; set; }\n        public string PickUpAddress { get; set; }\n        public string DropOffAddress { get; set; }\n        public List&lt;CargoViewModel&gt; Cargos { get; set; }\n    }\n</code></pre>\n\n<ol start=\"2\">\n<li>Next, submit the table form. Submit page code.</li>\n</ol>\n\n<pre><code>        &lt;div style=\"float:right;\"&gt;\n            &lt;table id=\"tb\"&gt;\n                &lt;tr&gt;\n                    &lt;th&gt; &lt;label  class=\"control-label\"&gt;ID&lt;/label&gt;&lt;/th&gt;\n                    &lt;th&gt;  &lt;label asp-for=\"@Model.Cargos.FirstOrDefault().Amount\" class=\"control-label\"&gt;&lt;/label&gt; &lt;/th&gt;\n                    &lt;th&gt;&lt;label asp-for=\"@Model.Cargos.FirstOrDefault().CargoType\" class=\"control-label\"&gt;&lt;/label&gt;&lt;/th&gt;\n                &lt;/tr&gt;\n                @{\n                    var countId = 0;\n                    for (var itemCount = 0; itemCount &lt; 3; itemCount++)\n                    {\n                        &lt;tr id=\"trs\"&gt;\n                            &lt;td&gt;@(++countId)&lt;/td&gt;\n                            &lt;td&gt;&lt;input asp-for='@Model.Cargos[itemCount].Amount' class= 'form-control' /&gt;&lt;/td&gt;\n                            &lt;td&gt;&lt;input asp-for='@Model.Cargos[itemCount].CargoType' class='form-control' /&gt;&lt;/td&gt;\n                        &lt;/tr&gt;\n                    }\n                }\n            &lt;/table&gt;\n        &lt;/div&gt;\n        &lt;input id=\"btnAdd\" value=\"Add\" type=\"button\" class=\"btn btn-primary\" onclick=\"btnAddClick()\"&gt;\n</code></pre>\n\n<p>JS Code.</p>\n\n<pre><code>@section scripts{\n    &lt;script src=\"~/js/jquery-3.4.1/jquery-3.4.1.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"~/js/jquery-3.4.1/jquery-ui-1.12.1.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"~/js/jquery-3.4.1/jquery.unobtrusive-ajax.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        var btnAddClick = function () {\n            var trLen = $(\"#tb tr[id='trs']\").length;\n            var $lastTr = $(\"#tb tr[id='trs']\").last();\n            var tr = \"&lt;tr id='trs'&gt;\";\n            tr += \"&lt;td&gt;\" + (trLen + 1) + \"&lt;/td&gt;\";\n            tr += \"&lt;td&gt;&lt;input class='form-control' type='number' data-val='true' data-val-required='The Amount field is required.' id='Cargos_\"+trLen+\"__Amount' name='Cargos[\"+trLen+\"].Amount' value=''&gt;&lt;/td&gt;\";\n            tr += \"&lt;td&gt;&lt;input class='form-control' type='text' id='Cargos_\"+trLen+\"__CargoType' name='Cargos[\"+trLen+\"].CargoType' value=''&gt;\";\n            tr += \"&lt;/tr&gt;\";\n            $(tr).insertAfter($lastTr);\n        }\n    &lt;/script&gt;\n}\n</code></pre>\n\n<p>Controller Code.</p>\n\n<pre><code>        [HttpPost]\n        public async Task&lt;IActionResult&gt; CreateOrderAndCargo(OrderAndCargoViewModel model)\n        {\n            var order = new Order()\n            {\n                PickUpAddress = model.PickUpAddress,\n                DropOffAddress = model.DropOffAddress\n            };\n            await _context.AddAsync(order);\n            await _context.SaveChangesAsync();\n\n            var orderId = await _context.Order.Select(o =&gt; o.OrderId).MaxAsync();\n            var cargos = model.Cargos;\n            foreach (var item in cargos)\n            {\n                var cargo = new Cargo\n                {\n                    OrderId = orderId,\n                    Amount = item.Amount,\n                    CargoType = item.CargoType\n                };\n                await _context.AddAsync(cargo);\n                await _context.SaveChangesAsync();\n            }\n\n            return RedirectToAction(nameof(Index));\n        }\n</code></pre>\n\n<ol start=\"3\">\n<li>Click <a href=\"https://github.com/jianba/ASP.NET-Core-MVC-with-EF-Core---tutorial-series/blob/master/ContosoUniversity/Controllers/OrderController.cs\" rel=\"nofollow noreferrer\">here</a> to view source codes.  </li>\n</ol>\n\n<h3>Reference page</h3>\n\n<ol>\n<li><a href=\"https://blog.csdn.net/xingxing1828/article/details/12445911\" rel=\"nofollow noreferrer\">About'@'</a>.</li>\n<li><a href=\"https://blog.csdn.net/WuLex/article/details/80077809\" rel=\"nofollow noreferrer\">JS operation</a>.</li>\n</ol>\n"}], "owner": {"reputation": 257, "user_id": 6457418, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b7b20e3b59b6bef39ac9f942af43b2f9?s=128&d=identicon&r=PG&f=1", "display_name": "kkamil4sz", "link": "https://stackoverflow.com/users/6457418/kkamil4sz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1798, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1574523052, "creation_date": 1574266611, "last_edit_date": 1574267131, "question_id": 58958881, "link": "https://stackoverflow.com/questions/58958881/how-to-make-form-input-for-list-of-objects", "title": "How to make form input for List of objects?", "body": "<p>I have a List of objects in my Model, how can I make a form for it?\nI want to have select box and number input box to add objects and be able to keep adding more before posting form.</p>\n\n<p>If it was just <code>public Cargo cargo</code> I would just make a select box to choose cargo type and input box for amount and that's it. But it's a list so I want to add as much cargo as I want and then post a form. I already have input fields for address (like city, street etc.) in my form but I'm stuck with this list.</p>\n\n<p><strong>Order model (Form model):</strong></p>\n\n<pre><code>public class Order\n{\n    public int Id { get; set; }\n    public Address PickUpAddress { get; set; }\n    public Address DropOffAddress { get; set; }\n    [...]\n    public List&lt;Cargo&gt; Cargo { get; set; }\n}\n</code></pre>\n\n<p><strong>Cargo model:</strong></p>\n\n<pre><code>public class Cargo\n{\n    public int Id { get; set; }\n    public int Amount { get; set; }\n    public CargoType CargoType { get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "blazor-server-side"], "comments": [{"owner": {"reputation": 3800, "user_id": 1807452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PfAC9.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/1807452/rahul-sharma"}, "edited": false, "score": 0, "creation_date": 1574269773, "post_id": 58958851, "comment_id": 104174901, "body": "How have you setup your HttpClient to call your API method? Can you show us that?"}, {"owner": {"reputation": 49, "user_id": 11767460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a1b29fdb44c2f9e8a08aa3a9eb4fc00?s=128&d=identicon&r=PG&f=1", "display_name": "masksoverflow", "link": "https://stackoverflow.com/users/11767460/masksoverflow"}, "reply_to_user": {"reputation": 3800, "user_id": 1807452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PfAC9.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/1807452/rahul-sharma"}, "edited": false, "score": 0, "creation_date": 1574270373, "post_id": 58958851, "comment_id": 104175238, "body": "@RahulSharma Since this is Blazor, I am just injecting it. &quot;@inject HttpClient Http&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 11767460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a1b29fdb44c2f9e8a08aa3a9eb4fc00?s=128&d=identicon&r=PG&f=1", "display_name": "masksoverflow", "link": "https://stackoverflow.com/users/11767460/masksoverflow"}, "edited": false, "score": 0, "creation_date": 1574270293, "post_id": 58959456, "comment_id": 104175186, "body": "Thanks! I am still getting null with the new http method you proposed"}, {"owner": {"reputation": 63, "user_id": 11898900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac475477cd320258b6de5ae8d77f1dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Lincoln Teixeira", "link": "https://stackoverflow.com/users/11898900/lincoln-teixeira"}, "reply_to_user": {"reputation": 49, "user_id": 11767460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a1b29fdb44c2f9e8a08aa3a9eb4fc00?s=128&d=identicon&r=PG&f=1", "display_name": "masksoverflow", "link": "https://stackoverflow.com/users/11767460/masksoverflow"}, "edited": false, "score": 0, "creation_date": 1574292033, "post_id": 58959456, "comment_id": 104184901, "body": "If you&#39;re a getting NullException might your call is not retuning what you members expected, or de api you calling is returning a error, you can check te api return ?"}, {"owner": {"reputation": 49, "user_id": 11767460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a1b29fdb44c2f9e8a08aa3a9eb4fc00?s=128&d=identicon&r=PG&f=1", "display_name": "masksoverflow", "link": "https://stackoverflow.com/users/11767460/masksoverflow"}, "edited": false, "score": 0, "creation_date": 1574292266, "post_id": 58959456, "comment_id": 104184968, "body": "I am sorry, I am not getting NullException, I am getting null as in no data in the context...The backend is returning the data fine, the front end is getting null"}], "tags": [], "owner": {"reputation": 63, "user_id": 11898900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac475477cd320258b6de5ae8d77f1dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Lincoln Teixeira", "link": "https://stackoverflow.com/users/11898900/lincoln-teixeira"}, "is_accepted": false, "score": 0, "last_activity_date": 1574268449, "creation_date": 1574268449, "answer_id": 58959456, "question_id": 58958851, "link": "https://stackoverflow.com/questions/58958851/getting-null-from-get-request-but-context-returns-value/58959456#58959456", "title": "Getting null from get request but context returns value", "body": "<p>Looks like your htttp resquests doesn't work. You should try to use HttpClient for the resquest and do something like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>HttpClient client = new HttpClient();\n\nHttpResponseMessage response = await client.GetAsync(\"yourtUrl\");\n\nMembers [] members = await response.Content.ReadAsAsync&lt;Members[]&gt;();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 11767460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a1b29fdb44c2f9e8a08aa3a9eb4fc00?s=128&d=identicon&r=PG&f=1", "display_name": "masksoverflow", "link": "https://stackoverflow.com/users/11767460/masksoverflow"}, "is_accepted": true, "score": 0, "last_activity_date": 1574440513, "creation_date": 1574440513, "answer_id": 58998315, "question_id": 58958851, "link": "https://stackoverflow.com/questions/58958851/getting-null-from-get-request-but-context-returns-value/58998315#58998315", "title": "Getting null from get request but context returns value", "body": "<p>So I was having problems with the Blazor http injection so I injected the service as a scoped service</p>\n\n<pre><code>services.AddScoped&lt;MembersService&gt;();\n</code></pre>\n\n<p>Then changed the backend service</p>\n\n<pre><code>//GET: api/MembersService\n[HttpGet]\npublic async Task&lt;List&lt;Members&gt;&gt; GetMembersAsync()\n{\n     return new List&lt;Members&gt;(_context.members);\n}\n</code></pre>\n\n<p>Note that I need an await in there.</p>\n\n<p>Then on the client,</p>\n\n<pre><code>private async Task GetMembers()\n{\n    _members = await memberService.GetMembersAsync();\n}\n</code></pre>\n\n<p>The _members is a list</p>\n\n<pre><code>private List&lt;Members&gt; _members;\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 11767460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a1b29fdb44c2f9e8a08aa3a9eb4fc00?s=128&d=identicon&r=PG&f=1", "display_name": "masksoverflow", "link": "https://stackoverflow.com/users/11767460/masksoverflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 58998315, "answer_count": 2, "score": 1, "last_activity_date": 1574440513, "creation_date": 1574266525, "question_id": 58958851, "link": "https://stackoverflow.com/questions/58958851/getting-null-from-get-request-but-context-returns-value", "title": "Getting null from get request but context returns value", "body": "<p>My back end that returns items from the database looks like this</p>\n\n<pre><code>    // GET: api/Members\n    [HttpGet]\n    public async Task&lt;ActionResult&lt;IEnumerable&lt;Members&gt;&gt;&gt; GetMembers()\n    {\n        return await _context.Members.ToArrayAsync();\n    }\n</code></pre>\n\n<p>And can confirm I am getting data</p>\n\n<p><a href=\"https://i.stack.imgur.com/so6k3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/so6k3.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>My get hits this end point</p>\n\n<pre><code>private async Task GetMembers()\n{\n    _members = await Http.GetJsonAsync&lt;Members[]&gt;(\"api/Members\");\n}\n</code></pre>\n\n<p>But I get null from \"members\"\n\"members\" is an array</p>\n\n<pre><code>private Members[] _members;\n</code></pre>\n\n<p>This is me getting null</p>\n\n<p><a href=\"https://i.stack.imgur.com/S9cWl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S9cWl.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>What am I doing wrong?</p>\n\n<p>Edit: members and _members are the same reference in picture and post</p>\n"}, {"tags": ["c#", "transactions"], "answers": [{"comments": [{"owner": {"reputation": 20573, "user_id": 1643676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG", "display_name": "Athanasios Kataras", "link": "https://stackoverflow.com/users/1643676/athanasios-kataras"}, "edited": false, "score": 0, "creation_date": 1574268549, "post_id": 58959124, "comment_id": 104174204, "body": "I thought so too. I&#39;m wondering what would happen if the two connections refer to the same connection string in your example."}, {"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "reply_to_user": {"reputation": 20573, "user_id": 1643676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG", "display_name": "Athanasios Kataras", "link": "https://stackoverflow.com/users/1643676/athanasios-kataras"}, "edited": false, "score": 1, "creation_date": 1574268620, "post_id": 58959124, "comment_id": 104174261, "body": "There&#39;s no difference if they use the same connection string or not, since there&#39;s no available pooled connection.  If they used different connection strings, then you would always get two different connections, even if the first was available."}], "tags": [], "owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "is_accepted": true, "score": 3, "last_activity_date": 1574267444, "creation_date": 1574267444, "answer_id": 58959124, "question_id": 58958624, "link": "https://stackoverflow.com/questions/58958624/what-exactly-is-connection-enlistment-in-c/58959124#58959124", "title": "What exactly is connection enlistment in C#", "body": "<blockquote>\n  <p>Is it safe to assume that an enlisted connection, will NEVER be used\n  in another transaction as long as the transaction exists, even though\n  it's closed?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>Is there any documentation explaining if our assumptions that this is so?</p>\n</blockquote>\n\n<p>You quoted it: \"Connections are drawn from the pool and assigned based on transaction context.\"</p>\n\n<blockquote>\n  <p>How can a connection NOT be available if it is only used in the enlisted transaction? What can be the case for this?</p>\n</blockquote>\n\n<p>It can be in-use.  eg in a TransactionScope:</p>\n\n<pre><code>using (var con = new SqlConnection(...))\n{\n   con.Open();\n   using (var con2 = new SqlConnection(...))  \n   {\n     con2.Open(); //con is not available, as it's open and in-use so a new connection will be opened and enlisted\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 20573, "user_id": 1643676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/418606a9471058ad35cb48144e582371?s=128&d=identicon&r=PG", "display_name": "Athanasios Kataras", "link": "https://stackoverflow.com/users/1643676/athanasios-kataras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 58959124, "answer_count": 1, "score": 1, "last_activity_date": 1574267444, "creation_date": 1574265798, "last_edit_date": 1592644375, "question_id": 58958624, "link": "https://stackoverflow.com/questions/58958624/what-exactly-is-connection-enlistment-in-c", "title": "What exactly is connection enlistment in C#", "body": "<p>As a follow up to <a href=\"https://stackoverflow.com/questions/58770329/multiple-connections-to-the-same-db-in-the-same-transactionscope\">Multiple connections to the same DB in the same TransactionScope</a>, I'm trying to find what is meant exactly by the following <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/sql-server-connection-pooling?redirectedfrom=MSDN\" rel=\"nofollow noreferrer\">in this guide here</a>:</p>\n<blockquote>\n<p>Connections are drawn from the pool and assigned based on transaction\ncontext. Unless Enlist=false is specified in the connection string,\nthe connection pool makes sure that the connection is enlisted in the\nCurrent context. When a connection is closed and returned to the pool\nwith an enlisted System.Transactions transaction, it is set aside in\nsuch a way that the next request for that connection pool with the\nsame System.Transactions transaction will return the same connection\nif it is available.</p>\n</blockquote>\n<p>In another section it's mentioned that</p>\n<blockquote>\n<p>Connections are drawn from the pool and assigned based on transaction context.</p>\n<p>When a connection is closed, it is released back into the pool and into the appropriate subdivision based on its transaction context.</p>\n</blockquote>\n<p>Based on the above, I've got two questions:</p>\n<ol>\n<li>Is it safe to assume that an enlisted connection, will NEVER be used in another transaction as long as the transaction exists, even though it's closed? Is there any documentation explaining if our assumptions that this is so?</li>\n<li>How can a connection NOT be available if it is only used in the enlisted transaction? What can be the case for this?</li>\n</ol>\n"}, {"tags": ["c#", ".net", "json"], "answers": [{"comments": [{"owner": {"reputation": 651, "user_id": 12145038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaa30000f973a7ccf23d205e82354275?s=128&d=identicon&r=PG", "display_name": "Jordan1993", "link": "https://stackoverflow.com/users/12145038/jordan1993"}, "edited": false, "score": 0, "creation_date": 1574267142, "post_id": 58958719, "comment_id": 104173384, "body": "Thanks so much @Luchspeter this is really useful. I&#39;d like to go down the first route and create a C# class and deserialize it into a corresponding object. However, the conversion converts into lots of classes and I&#39;m still not sure how to access the numbers from this? I have edited my original question showing this."}, {"owner": {"reputation": 556, "user_id": 7274172, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dPFDl.jpg?s=128&g=1", "display_name": "Luchspeter", "link": "https://stackoverflow.com/users/7274172/luchspeter"}, "reply_to_user": {"reputation": 651, "user_id": 12145038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaa30000f973a7ccf23d205e82354275?s=128&d=identicon&r=PG", "display_name": "Jordan1993", "link": "https://stackoverflow.com/users/12145038/jordan1993"}, "edited": false, "score": 0, "creation_date": 1574272320, "post_id": 58958719, "comment_id": 104176250, "body": "Ok I&#39;ll have a look at it. The reason is, that your json contains parameter names, that are not valid c# variable names. In c# a variable cannot start with a number. There are ways to work around this, and I&#39;ll go through them and edit the answer"}, {"owner": {"reputation": 651, "user_id": 12145038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaa30000f973a7ccf23d205e82354275?s=128&d=identicon&r=PG", "display_name": "Jordan1993", "link": "https://stackoverflow.com/users/12145038/jordan1993"}, "edited": false, "score": 0, "creation_date": 1574326325, "post_id": 58958719, "comment_id": 104195264, "body": "thank you so much for your time and explanation with this - this really helped me."}], "tags": [], "owner": {"reputation": 556, "user_id": 7274172, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dPFDl.jpg?s=128&g=1", "display_name": "Luchspeter", "link": "https://stackoverflow.com/users/7274172/luchspeter"}, "is_accepted": true, "score": 2, "last_activity_date": 1574273408, "last_edit_date": 1592644375, "creation_date": 1574266131, "answer_id": 58958719, "question_id": 58958519, "link": "https://stackoverflow.com/questions/58958519/retrieving-mixpanel-data-from-json-in-c/58958719#58958719", "title": "Retrieving Mixpanel data from JSON in C#", "body": "<p>There are two approaches you could take. First, I'd deserialize the json string using <a href=\"https://www.newtonsoft.com/json\" rel=\"nofollow noreferrer\">this library - Newtonsoft</a>.</p>\n<p>You can then go through the json using JObjects, or you can create a C#-Class that represents your json data and then deserialize it into a corresponding object.</p>\n<ol>\n<li>Via a class:</li>\n</ol>\n<p>To create the json class there is this website, which creates the classes (also nested) just as the json needs them to be: <a href=\"http://json2csharp.com/\" rel=\"nofollow noreferrer\">http://json2csharp.com/</a></p>\n<p>Then you use:</p>\n<pre><code>var myObject = JsonConvert.DeserializeObject&lt;MyClass&gt;(jsonString);\n</code></pre>\n<p>and then simply go through your object properties.</p>\n<ol start=\"2\">\n<li>Via JObject</li>\n</ol>\n<p>JObjects allow you to search through the json string easily as such:</p>\n<pre><code>JObject myObject = JObject.Parse(json);\n\nvar results = myObject[&quot;data&quot;][&quot;values&quot;][&quot;page views&quot;].First();\n</code></pre>\n<p><strong>Edit:</strong>\nSince your Json contains keys, which begin with a number (and are not valid c# variable names) its a bit more tricky but doable. The automatic converter failed on this.</p>\n<pre><code>  string json = &quot;{\\&quot;computed_at\\&quot;: \\&quot;2019 - 11 - 19T10: 36:33.908802 + 00:00\\&quot;, \\&quot;legend_size\\&quot;: 1, \\&quot;data\\&quot;: {\\&quot;series\\&quot;: [\\&quot;2019 - 11 - 11\\&quot;, \\&quot;2019 - 11 - 12\\&quot;, \\&quot;2019 - 11 - 13\\&quot;], \\&quot;values\\&quot;: {\\&quot;page views\\&quot;: {\\&quot;2019 - 11 - 12\\&quot;: 111, \\&quot;2019 - 11 - 11\\&quot;: 573, \\&quot;2019 - 11 - 13\\&quot;: 209}}}}&quot;;\n\n  var myObject = JsonConvert.DeserializeObject&lt;RootObject&gt;(json);\n\n  foreach (var view in myObject.data.series)\n  {\n     int number = myObject.data.values.page_views[view];\n     Console.WriteLine($&quot;{number} views on {view}&quot;);\n  }\n</code></pre>\n<p>With the <code>RootObject</code> class being:</p>\n<pre><code> public class Values\n{\n    [JsonProperty(&quot;page views&quot;)]\n    public Dictionary&lt;string, int&gt; page_views { get; set; }\n}\n\npublic class Data\n{\n    public List&lt;string&gt; series { get; set; }\n    public Values values { get; set; }\n}\n\npublic class RootObject\n{\n    public string computed_at { get; set; }\n    public int legend_size { get; set; }\n    public Data data { get; set; }\n}\n</code></pre>\n<p>The trick was to use a <code>Dictionary&lt;string, int&gt;</code> type for the date-values, and rename the property to a valid c# name. The JsonDeserializer still finds the data, because we told it to look for &quot;page views&quot; using the <code>JsonProperty</code> attribute. This way the class is also flexible for multiple entries in your &quot;page views&quot; field.</p>\n<p>Hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 333, "user_id": 3995619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8687b1c83440b3a605487b0689ec505?s=128&d=identicon&r=PG&f=1", "display_name": "koolahman", "link": "https://stackoverflow.com/users/3995619/koolahman"}, "is_accepted": false, "score": 0, "last_activity_date": 1574266883, "last_edit_date": 1574266883, "creation_date": 1574266264, "answer_id": 58958767, "question_id": 58958519, "link": "https://stackoverflow.com/questions/58958519/retrieving-mixpanel-data-from-json-in-c/58958767#58958767", "title": "Retrieving Mixpanel data from JSON in C#", "body": "<p>You were close. In the line</p>\n\n<p><code>var rawData = result[\"data\"][\"values\"][\"page views\"][0]</code></p>\n\n<p>you are attempting to access index 0 of an object. This doesn't really make sense because objects are basically dictionaries or hash tables, which means they are unordered and must be accessed by a key rather than an index (See <a href=\"https://stackoverflow.com/questions/4044845/retrieving-a-property-of-a-json-object-by-index\">Retrieving a property of a JSON object by index?</a>).</p>\n\n<p>What you want looks like</p>\n\n<p><code>var rawData = result[\"data\"][\"values\"][\"page views\"]['2019-11-12']</code> to access the number of page views (which is <code>111</code>) for the date <code>2019-11-12</code>.</p>\n\n<p>You can then loop through the object and get each number of page views as follows:</p>\n\n<pre><code>var pageViews = [];\nfor (var key of Object.keys(result.data.values['page views'])) {\n    pageViews.push(result.data.values['page views'][key]);\n}\n</code></pre>\n"}], "owner": {"reputation": 651, "user_id": 12145038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaa30000f973a7ccf23d205e82354275?s=128&d=identicon&r=PG", "display_name": "Jordan1993", "link": "https://stackoverflow.com/users/12145038/jordan1993"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 58958719, "answer_count": 2, "score": -1, "last_activity_date": 1574273408, "creation_date": 1574265444, "last_edit_date": 1574267195, "question_id": 58958519, "link": "https://stackoverflow.com/questions/58958519/retrieving-mixpanel-data-from-json-in-c", "title": "Retrieving Mixpanel data from JSON in C#", "body": "<p>I am trying to get data from a Mixpanel API. The JSON result looks like this:</p>\n\n<pre><code>{\"computed_at\": \"2019-11-19T10:36:33.908802+00:00\", \"legend_size\": 1, \"data\": {\"series\": [\"2019-11-11\", \"2019-11-12\", \"2019-11-13\"], \"values\": {\"page views\": {\"2019-11-12\": 111, \"2019-11-11\": 573, \"2019-11-13\": 209}}}}\n</code></pre>\n\n<p>I am struggling with nested JSON (despite looking at a fair few StackOverflow articles on this) and I want to try and get the values <code>111</code>,<code>573</code> and <code>209</code> for the page views. How do I access these values?</p>\n\n<p>I've tried the following:</p>\n\n<pre><code>var result = {\"computed_at\": \"2019-11-19T10:36:33.908802+00:00\", \"legend_size\": 1, \"data\": {\"series\": [\"2019-11-11\", \"2019-11-12\", \"2019-11-13\"], \"values\": {\"page views\": {\"2019-11-12\": 111, \"2019-11-11\": 573, \"2019-11-13\": 209}}}}\nvar rawData = result[\"data\"][\"values\"][\"page views\"][0] \n</code></pre>\n\n<p>but this doesn't work and I can't figure out how to access the individual values. Can anyone help please? </p>\n\n<p>EDIT:</p>\n\n<p>When using the json to C# converter (as suggested in the comments to this post) the outcome is as follows:</p>\n\n<pre><code>public class PageViews\n{\n    public int __invalid_name__2019-11-20 { get; set; }\n    public int __invalid_name__2019-11-19 { get; set; }\n}\n\npublic class Values\n{\n    public PageViews __invalid_name__page views { get; set; }\n}\n\npublic class Data\n{\n    public List&lt;string&gt; series { get; set; }\n    public Values values { get; set; }\n}\n\npublic class RootObject\n{\n    public DateTime computed_at { get; set; }\n    public int legend_size { get; set; }\n    public Data data { get; set; }\n}\n</code></pre>\n\n<p>and I am still unsure how to get the numbers from this? </p>\n"}, {"tags": ["c#", "linq", "linq-to-entities"], "comments": [{"owner": {"reputation": 3446, "user_id": 5520131, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b1a21a95beb29e669c9174d20f025e1?s=128&d=identicon&r=PG&f=1", "display_name": "Innat3", "link": "https://stackoverflow.com/users/5520131/innat3"}, "edited": false, "score": 3, "creation_date": 1574266357, "post_id": 58958489, "comment_id": 104172926, "body": "Better way? What part of the code seems unsatisfying or which possible improvement did you have in mind? All I see is you can skip the <code>.Select()</code> statement when you assign the value of <code>ReviewsByRatingCount</code> by doing <code>ReviewsByRatingCount = group.ToDictionary(s =&gt; s.Rating.ToString(),s =&gt; s.ReviewByRatingCount)</code>"}, {"owner": {"reputation": 597, "user_id": 764369, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/cKeaf.jpg?s=128&g=1", "display_name": "Arooran", "link": "https://stackoverflow.com/users/764369/arooran"}, "edited": false, "score": 0, "creation_date": 1574266658, "post_id": 58958489, "comment_id": 104173092, "body": "Currently I have lot of fileds in the source collection, but I removed that for brevity. Becuase I dont like to create anynmous type with around 12 fileds. the above code I have added only three fields."}, {"owner": {"reputation": 597, "user_id": 764369, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/cKeaf.jpg?s=128&g=1", "display_name": "Arooran", "link": "https://stackoverflow.com/users/764369/arooran"}, "edited": false, "score": 0, "creation_date": 1574267369, "post_id": 58958489, "comment_id": 104173515, "body": "When generating the dictionary, the order should be defined by the value field (decending). but it is ordering my key field."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1574268120, "post_id": 58958489, "comment_id": 104173986, "body": "@Arooran dictionaries do not have a guaranteed order.  If you need the data in a particular order then you need something other than a dictionary."}, {"owner": {"reputation": 5401, "user_id": 456669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865f6e52b2997cf077edb24d807fd0ca?s=128&d=identicon&r=PG", "display_name": "Nikki9696", "link": "https://stackoverflow.com/users/456669/nikki9696"}, "edited": false, "score": 0, "creation_date": 1574271933, "post_id": 58958489, "comment_id": 104176061, "body": "Use Ordered Dictionary? <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.specialized.ordereddictionary?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}], "owner": {"reputation": 597, "user_id": 764369, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/cKeaf.jpg?s=128&g=1", "display_name": "Arooran", "link": "https://stackoverflow.com/users/764369/arooran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574266685, "creation_date": 1574265325, "last_edit_date": 1574266685, "question_id": 58958489, "link": "https://stackoverflow.com/questions/58958489/linq-group-by-specific-fields-then-transform-to-dictionary", "title": "Linq group by specific fields then transform to dictionary", "body": "<p>I have a flat collection with some ratings details.</p>\n\n<pre><code>public class testClass\n{\n    public string Label { get; set; }\n    public byte Rating { get; set; }\n    public Int32 ReviewByRatingCount { get; set; }\n    public Int32 TotalReviewsByRating { get; set; }\n    public double AverageRating { get; set; }\n\n}\n\nvar list = new List&lt;testClass&gt;\n{\n    new testClass { Label = \"Model 3\", TotalReviewsByRating = 38, AverageRating= 4.58, Rating = 5, ReviewByRatingCount =30},\n    new testClass { Label = \"Model 3\", TotalReviewsByRating = 38, AverageRating= 4.58, Rating = 4, ReviewByRatingCount =5},\n    new testClass { Label = \"Model 3\", TotalReviewsByRating = 38, AverageRating= 4.58, Rating = 1, ReviewByRatingCount =2},\n    new testClass { Label = \"Model 3\", TotalReviewsByRating = 38, AverageRating= 4.58, Rating = 2, ReviewByRatingCount =1}\n};\n</code></pre>\n\n<p>Have to transform the data like this.</p>\n\n<pre><code>{\n    Label = \"Model 3\",\n    TotalReviewsByRating = 38,\n    AverageRating = 4.58,\n    ReviewsByRatingCount = [{ \"5\" : 30 }, { \"4\" : 5 }, { \"1\" : 2 }, { \"2\" : 1 }]\n}\n</code></pre>\n\n<p>I have achived that using multiple group by and use select statement to transform as a key value pairs. But I would like to konw,if there a better way to do that? </p>\n\n<pre><code>public class testClassDto\n{\n    public string Label { get; set; }\n    public Dictionary&lt;string,int&gt; ReviewsByRatingCount { get; set; }\n    public Int32 TotalReviewsByRating { get; set; }\n    public double AverageRating { get; set; }\n\n}\n\nvar data = list.GroupBy(p =&gt; new { p.Label , p.TotalReviewsByRating, p.AverageRating})\n    .Select(group =&gt; new testClassDto \n    { \n        Label = group.Key.Label,                                                     \n        TotalReviewsByRating = group.Key.TotalReviewsByRating,\n        AverageRating = group.Key.AverageRating,                                     \n        ReviewsByRatingCount = group.Select(s =&gt; new {s.Rating,s.ReviewByRatingCount})\n            .ToDictionary(s =&gt; s.Rating.ToString(),s =&gt; s.ReviewByRatingCount)\n    }); \n</code></pre>\n"}, {"tags": ["c#", "asp.net", "signalr"], "answers": [{"tags": [], "owner": {"reputation": 2456, "user_id": 2560938, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6be1b355bcaf8a8d533ea715161ca16a?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Rey", "link": "https://stackoverflow.com/users/2560938/arthur-rey"}, "is_accepted": true, "score": 4, "last_activity_date": 1574265490, "creation_date": 1574265490, "answer_id": 58958533, "question_id": 58958482, "link": "https://stackoverflow.com/questions/58958482/signalr-client-call/58958533#58958533", "title": "SignalR client call", "body": "<p>Something like that?</p>\n\n<pre><code>string qs;\nserverHub.On(\"flush\", message =&gt; {\n    qs = message;\n    System.Console.WriteLine(message);\n});\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 1856436, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mUcSv.jpg?s=128&g=1", "display_name": "Bob the Builder", "link": "https://stackoverflow.com/users/1856436/bob-the-builder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 58958533, "answer_count": 1, "score": 0, "last_activity_date": 1574265490, "creation_date": 1574265300, "question_id": 58958482, "link": "https://stackoverflow.com/questions/58958482/signalr-client-call", "title": "SignalR client call", "body": "<p>I have the following line of code in a signalR application client that receives a url message received from another client within the application.</p>\n\n<pre><code>serverHub.On(\"flush\", message =&gt; System.Console.WriteLine(message));\n</code></pre>\n\n<p>I now want to assign the message to a string but I cannot just do this</p>\n\n<pre><code> string qs = serverHub.On(\"flush\", message =&gt; System.Console.WriteLine(message)).ToString();\n</code></pre>\n\n<p>However I get this output SignalR.Client.Infrastructure.DisposableAction instead of a text message, could someone tell me why this is the case, many thanks in advance.</p>\n"}, {"tags": ["c#", "visual-studio", "crystal-reports"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 2303788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PjQWo.jpg?s=128&g=1", "display_name": "Mohammad Muhiuddin", "link": "https://stackoverflow.com/users/2303788/mohammad-muhiuddin"}, "edited": false, "score": 0, "creation_date": 1574318003, "post_id": 58958552, "comment_id": 104191438, "body": "We have a existing report, which contains some data, and now our customer wants us to display some data for example discounted price, in a bold, red color, with large font size.  so I am looking for a solution to add new text (I-e discounted price) in a way such that the existing report data (on which I have to add new text) should also be visible, hence I am trying to reduce the opacity of of new text field."}], "tags": [], "owner": {"reputation": 1888, "user_id": 1734722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qcSQ4.jpg?s=128&g=1", "display_name": "MilletSoftware", "link": "https://stackoverflow.com/users/1734722/milletsoftware"}, "is_accepted": false, "score": 0, "last_activity_date": 1574265561, "creation_date": 1574265561, "answer_id": 58958552, "question_id": 58958431, "link": "https://stackoverflow.com/questions/58958431/how-to-opacity-of-fields-font-color-in-crystal-report/58958552#58958552", "title": "How to Opacity of field&#39;s font color in Crystal report", "body": "<p>There is no font opacity property in Crystal Reports.</p>\n\n<p>Can you explain the actual use case?  Perhaps there's an alternative approach.</p>\n"}], "owner": {"reputation": 63, "user_id": 2303788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PjQWo.jpg?s=128&g=1", "display_name": "Mohammad Muhiuddin", "link": "https://stackoverflow.com/users/2303788/mohammad-muhiuddin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574265561, "creation_date": 1574265154, "question_id": 58958431, "link": "https://stackoverflow.com/questions/58958431/how-to-opacity-of-fields-font-color-in-crystal-report", "title": "How to Opacity of field&#39;s font color in Crystal report", "body": "<p>I am trying to reduce the opacity of font color of a field, but didn't find any option from crystal report design. </p>\n\n<p>Does any body know how to do that ?</p>\n\n<p>Thank You</p>\n"}]