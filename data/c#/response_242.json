[{"tags": ["c#", "linux", "sublimetext3"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 10682177, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tm8sh1pUcNM/AAAAAAAAAAI/AAAAAAAAFBg/5xl4lVKm7lU/photo.jpg?sz=128", "display_name": "Valence", "link": "https://stackoverflow.com/users/10682177/valence"}, "edited": false, "score": 0, "creation_date": 1567111633, "post_id": 57702078, "comment_id": 101876764, "body": "Thanks, it helps a lot to have the different bits of the code broken down like you&#39;ve done. I&#39;ve now installed Terminus and most of the way towards getting it working. However, I am not sure how to install dotnet core. I see that I can install it through my package manager, but I&#39;m not sure if that will allow Sublime to detect it, or if instead I need to find a way to install it in Sublime through the Package Control (though I can&#39;t find it there, only VBDotNet which I think is something different)"}, {"owner": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "reply_to_user": {"reputation": 9, "user_id": 10682177, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tm8sh1pUcNM/AAAAAAAAAAI/AAAAAAAAFBg/5xl4lVKm7lU/photo.jpg?sz=128", "display_name": "Valence", "link": "https://stackoverflow.com/users/10682177/valence"}, "edited": false, "score": 0, "creation_date": 1567113488, "post_id": 57702078, "comment_id": 101877373, "body": "There&#39;s not a package for it in PackageControl that I&#39;m aware of. If you install it via your distro&#39;s package manager, it should put the <code>dotnet</code> command in the <code>PATH</code>, so you can execute it from anywhere (you can try running it in a terminal to see if it works); if that&#39;s the case, Sublime will find it and run it without any extra modifications using the build above."}], "tags": [], "owner": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "is_accepted": false, "score": 0, "last_activity_date": 1567044672, "creation_date": 1567044672, "answer_id": 57702078, "question_id": 57701280, "link": "https://stackoverflow.com/questions/57701280/sublime-build-system-not-finding-code-in-working-directory/57702078#57702078", "title": "Sublime Build System not finding code in working directory", "body": "<p>There are several things that are incorrect with regards to your <code>sublime-build</code> file that are standing in your way here. </p>\n\n<p>The most important of them is that <code>gcc</code> is a C/C++ compiler and can't compile C#. So in order to do anything with C# you're going to need an appropriate tool to be able to compile code. From the looks of your output you're on a Linux box, in which case you could use <a href=\"https://www.mono-project.com/download/stable/\" rel=\"nofollow noreferrer\">Mono</a> or <a href=\"https://dotnet.microsoft.com/download\" rel=\"nofollow noreferrer\">dotnet core</a> for this purpose.</p>\n\n<p>The <code>selector</code> in the <code>sublime-build</code> file is also wrong (unless you've installed a third party C# syntax of some sort). The <code>scope</code> for the C# syntax that ships with Sublime is <code>source.cs</code> not <code>source.c#</code>, which you can see by using <code>Tools &gt; Developer &gt; Show Scope Name</code> while editing a C# file and checking the first line of the popup.</p>\n\n<p>Having the <code>selector</code> set incorrectly will stop the build from being automatically selected when editing a C# file, but will still work for you if you manually set the build system.</p>\n\n<p>Your build file also has multiple <code>cmd</code> entries in it, which is not correct. The content of the <code>sublime-build</code> file is <a href=\"http://json.org/\" rel=\"nofollow noreferrer\">JSON</a> (specifically a JSON Object), and doesn't support multiple keys with the same name. When the file is loaded, the second <code>cmd</code> will replace the first one.</p>\n\n<p>Presumably the intent is to first compile and then run the program, but as seen in the output of your build, only the <code>cmd</code> entry that specifies <code>$file_base_name</code> is seen and executed. Since there is no executable in the directory with that name, you get an error that a program named <code>Fork</code> is not found, which is because it was never compiled.</p>\n\n<p>In order to execute multiple commands, you would use <code>shell_cmd</code> instead of <code>cmd</code> and specify multiple commands separated with <code>&amp;&amp;</code> characters. An example that can be found in the <code>C Single File.sublime-build</code> file that ships with Sublime, which can compile and then run a C program:</p>\n\n<pre><code>\"shell_cmd\": \"gcc \\\"${file}\\\" -o \\\"${file_path}/${file_base_name}\\\" &amp;&amp; \\\"${file_path}/${file_base_name}\\\"\"\n</code></pre>\n\n<p>Here we can see it first compiling the program and then executing it if it compiled correctly by splitting the two commands with <code>&amp;&amp;</code>, which tells the shell to execute the second command if the first one succeeded.</p>\n\n<p>As outlined above, that won't work for you here because <code>gcc</code> can't compile C# code. For C# you need to have specific tools installed that know how to compile and run such an application and then tailor the build to run those commands.</p>\n\n<p>An example of that if you use <code>dotnet core</code> is the following build system, which executes variations of the <code>dotnet</code> command depending on what you want to do. It also includes a version of the build for executing a program that is interactive (i.e. requires you to enter text into it) which requires that you install the <a href=\"https://packagecontrol.io/packages/Terminus\" rel=\"nofollow noreferrer\">Terminus</a> package for Sublime. That build won't work without Terminus, and interactive programs can't be executed otherwise.</p>\n\n<pre><code>{\n    \"working_dir\": \"${folder:${project_path:${file_path}}}\",\n    \"selector\": \"source.cs\",\n\n    \"variants\":\n    [\n        {\n            \"name\": \"Build\",\n            \"shell_cmd\": \"dotnet build\",\n            \"word_wrap\": false,\n            \"quiet\": true,\n        },\n        {\n            \"name\": \"Clean\",\n            \"shell_cmd\": \"dotnet clean\"\n        },\n        {\n            \"name\": \"Run\",\n            \"shell_cmd\": \"dotnet run\"\n        },\n        {\n            \"name\": \"Run Interactive\",\n            \"cmd\": [\"dotnet\", \"run\"],\n            \"target\": \"terminus_open\",\n            \"auto_close\": false,\n        }\n    ],\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 10682177, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tm8sh1pUcNM/AAAAAAAAAAI/AAAAAAAAFBg/5xl4lVKm7lU/photo.jpg?sz=128", "display_name": "Valence", "link": "https://stackoverflow.com/users/10682177/valence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1567044672, "creation_date": 1567035899, "question_id": 57701280, "link": "https://stackoverflow.com/questions/57701280/sublime-build-system-not-finding-code-in-working-directory", "title": "Sublime Build System not finding code in working directory", "body": "<p>I am trying to make a console for Sublime using the Build System. I just copied a template someone used to a C console and changed the selector to source.C# . It seems to find the right directory, but tells me that the code isn't found.</p>\n\n<pre><code>{\n    \"cmd\" : [\"gcc\", \"$file\", \"-o\", \"$file_base_name\"],\n    \"cmd\" : [\"$file_base_name\"],\n    \"selector\" : \"source.c#\",\n    \"shell\" : true,\n    \"working_dir\" : \"$file_path\"\n}\n</code></pre>\n\n<p>The output is </p>\n\n<pre><code>/bin/sh: 1: Fork: not found\n[Finished in 0.0s with exit code 127]\n[cmd: ['Fork']]\n[dir: /home/valence/code/C#]\n[path: /home/valence/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin]\n</code></pre>\n\n<p>But I expect it to find the .cs file and output \"Hello World\"</p>\n"}, {"tags": ["c#", "acumatica"], "answers": [{"tags": [], "owner": {"reputation": 6832, "user_id": 6064728, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/yZxqO.jpg?s=128&g=1", "display_name": "Samvel Petrosov", "link": "https://stackoverflow.com/users/6064728/samvel-petrosov"}, "is_accepted": true, "score": 0, "last_activity_date": 1567055381, "creation_date": 1567055381, "answer_id": 57703337, "question_id": 57701190, "link": "https://stackoverflow.com/questions/57701190/acumatica-what-is-the-syntax-for-getting-attached-files-count/57703337#57703337", "title": "Acumatica - What is the syntax for getting attached Files count?", "body": "<p>You can check the Lenght property of the returned array:</p>\n\n<pre><code>var count = PXNoteAttribute.GetFileNotes(projectCache, projectCache.Current).Length;\n</code></pre>\n\n<p>I want to note that you must never use the constructor with graphs. The correct way is the following:</p>\n\n<pre><code>var fm = PXGraph.CreateInstance&lt;UploadFileMaintenance&gt;();\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 4534157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed5743ff81be08de57ce2036d732b594?s=128&d=identicon&r=PG&f=1", "display_name": "Rowan", "link": "https://stackoverflow.com/users/4534157/rowan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 57703337, "answer_count": 1, "score": 0, "last_activity_date": 1567055381, "creation_date": 1567035043, "question_id": 57701190, "link": "https://stackoverflow.com/questions/57701190/acumatica-what-is-the-syntax-for-getting-attached-files-count", "title": "Acumatica - What is the syntax for getting attached Files count?", "body": "<p>On the Bills and Adjustments page (others too), the Files indicator in the top right hand corner between Activities and Notifications displays the number of files attached.  How do i get that number.</p>\n\n<p>I've been playing with the following code, but it seems way overkill...i feel like there is probably a simple way to get it.</p>\n\n<pre><code>protected void getFiles()\n{\n    var projectCache = Base.Caches[typeof(PMProject)];\n    Guid[] files = PXNoteAttribute.GetFileNotes(projectCache, projectCache.Current);\n    foreach (Guid fileID in files)\n    {\n        var fm = new PX.SM.UploadFileMaintenance();\n        PX.SM.FileInfo fi = fm.GetFileWithNoData(fileID);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "winforms", "combobox"], "comments": [{"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1567040138, "post_id": 57701073, "comment_id": 101846974, "body": "When the form loads, you are displaying details of the first module in textboxes and other controls. Can you share that code?  Are you also setting the ComboBox value to the OwnerId of the Module?"}, {"owner": {"reputation": 68, "user_id": 9028491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j5ab3.jpg?s=128&g=1", "display_name": "Ross", "link": "https://stackoverflow.com/users/9028491/ross"}, "reply_to_user": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1567105433, "post_id": 57701073, "comment_id": 101874537, "body": "@ChetanRanpariya If there is code involved in those actions I did not write it nor do I know where it is. It is handled by the individual constructors and event handlers of each control via its binding link to the data. All the code that is created for each control by the VS Designer as it is drag-dropped from the DataSource, that I know of, is in the InitializeComponent() method which is where the first block of code in the question came from. I have added the full code above."}], "answers": [{"tags": [], "owner": {"reputation": 68, "user_id": 9028491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j5ab3.jpg?s=128&g=1", "display_name": "Ross", "link": "https://stackoverflow.com/users/9028491/ross"}, "is_accepted": true, "score": 0, "last_activity_date": 1567187571, "creation_date": 1567187571, "answer_id": 57731266, "question_id": 57701073, "link": "https://stackoverflow.com/questions/57701073/combobox-displays-wrong-value-on-form-load-then-sets-wrong-value-to-record/57731266#57731266", "title": "ComboBox displays wrong value on form load, then sets wrong value to record", "body": "<p>Well, it is not an explanation.  I still don't know why the combobox is not provided with current data when the form opens, but the solution (work-around?) is to reset the BindingSource bindings.</p>\n\n<p>The revised OnLoad method:</p>\n\n<pre><code>protected override void OnLoad(EventArgs e)\n{\n    base.OnLoad(e);\n\n    _DBC = new SMRC_DispatcherEntities();\n\n    _DBC.Modules.Load();\n    _DBC.Members.Load();\n\n    this.moduleBindingSource.DataSource = _DBC.Modules\n                                                .OrderBy(d =&gt; d.ModuleName)\n                                                .ToList();\n\n    this.memberBindingSource.DataSource = _DBC.Members\n                                              .OrderBy(m =&gt; m.FirstName)\n                                              .ThenBy(m =&gt; m.LastName)\n                                              .ToList();\n\n    InitializeForm();\n\n    moduleBindingSource.ResetBindings(false);   //  &lt;== This fixes the issue!\n\n}\n</code></pre>\n"}], "owner": {"reputation": 68, "user_id": 9028491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j5ab3.jpg?s=128&g=1", "display_name": "Ross", "link": "https://stackoverflow.com/users/9028491/ross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 1, "accepted_answer_id": 57731266, "answer_count": 1, "score": 0, "last_activity_date": 1567187571, "creation_date": 1567033963, "last_edit_date": 1567095720, "question_id": 57701073, "link": "https://stackoverflow.com/questions/57701073/combobox-displays-wrong-value-on-form-load-then-sets-wrong-value-to-record", "title": "ComboBox displays wrong value on form load, then sets wrong value to record", "body": "<p>I am working on a simple WinForms application in Visual Studio 2019. The application connects to a SQL Server 2017 Express database via Entity Framework.</p>\n\n<p>In the <code>ModuleMaintenance</code> form the available \"modules\" are displayed in a DataGridView, while the other form controls display the contents of the module selected in the grid. When the form initially loads, the combobox does not assume the correct value.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UwvsC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UwvsC.png\" alt=\"The Module Maintenance Form\"></a></p>\n\n<p>Notes:</p>\n\n<ol>\n<li><p>The Grid display is correct: Module \u201cNice Butte\u201d is owned by Ross Wise.</p></li>\n<li><p>The other field controls- including the \u201cOwner ID\u201d TextBox are displaying correct data; The MemberID Key for Ross Wise is in fact 1.</p></li>\n</ol>\n\n<p><strong>Problem</strong>:</p>\n\n<p>The \u201cModule Owner\u201d combobox is displaying incorrect data. It is displaying the member name that appears first in the <code>Member</code> table (sorted by <code>FirstName, LastName</code>). Ed, who is <code>MemberID = 2</code>, is not the owner of \u201cNice Butte.\u201d</p>\n\n<p>The code that initializes the combobox is auto-generated:</p>\n\n<pre><code>// cbx_ModuleOwnerID\n// \nthis.cbx_ModuleOwnerID.DataBindings.Add(new System.Windows.Forms.Binding(\"SelectedValue\", this.moduleBindingSource, \"ModuleOwnerID\", true));\nthis.cbx_ModuleOwnerID.DataSource = this.memberBindingSource;\nthis.cbx_ModuleOwnerID.DisplayMember = \"FullName\";\nthis.cbx_ModuleOwnerID.Font = new System.Drawing.Font(\"Baskerville Old Face\", 12F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point, ((byte)(0)));\nthis.cbx_ModuleOwnerID.Location = new System.Drawing.Point(519, 103);\nthis.cbx_ModuleOwnerID.Name = \"cbx_ModuleOwnerID\";\nthis.cbx_ModuleOwnerID.Size = new System.Drawing.Size(215, 26);\nthis.cbx_ModuleOwnerID.TabIndex = 18;\nthis.cbx_ModuleOwnerID.ValueMember = \"MemberID\";\n</code></pre>\n\n<p>The code that initializes the bindingSources is:</p>\n\n<pre><code>protected override void OnLoad(EventArgs e)\n{\n    base.OnLoad(e);\n\n    _DBC = new SMRC_DispatcherEntities();\n\n    _DBC.Modules.Load();\n    _DBC.Members.Load();\n\n    this.moduleBindingSource.DataSource = _DBC.Modules\n                                                .OrderBy(d =&gt; d.ModuleName)\n                                                .ToList();\n\n    this.memberBindingSource.DataSource = _DBC.Members\n                                              .OrderBy(m =&gt; m.FirstName)\n                                              .ThenBy(m =&gt; m.LastName)\n                                              .ToList();\n\n    InitializeForm();  // This currently has no contents \n\n}\n</code></pre>\n\n<p>Further symptoms:</p>\n\n<p>When I move to the next record in the Grid all controls <em>including</em> the combobox are updated with correct content:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jDxzd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jDxzd.png\" alt=\"Moved to second item in the grid\"></a></p>\n\n<p>When I move back to the first record the field controls now correctly display data that has been <strong>inappropriately</strong> changed by the combobox\u2019s bad data: </p>\n\n<p><a href=\"https://i.stack.imgur.com/zFKze.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zFKze.png\" alt=\"The WRONG Information gets saved!\"></a></p>\n\n<p>Note that the DataGridView has not been updated, most likely because the change has not been committed to the database yet.</p>\n\n<p>The combobox was configured entirely in Visual Studio\u2019s (2019) Form Designer:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tHvia.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tHvia.png\" alt=\"The Binding and List Linking settings for the ComboBox\"></a></p>\n\n<p>I can change the owner of a module and that change is retained:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AfLSj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AfLSj.png\" alt=\"The ComboBox works normally after the initial load\"></a></p>\n\n<p>I have used comboboxes many times and I have never had this sort of difficulty.</p>\n\n<p>Any ideas?</p>\n\n<p>In response to a request for additional code-\nThe form's class definition:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nusing System.Data.Entity;\n\nnamespace Dispatcher\n{\n    public partial class ModuleMaintenance : Form\n    {\n        private SMRC_DispatcherEntities _DBC;\n        public ModuleMaintenance()\n        {\n            InitializeComponent();\n        }\n\n        protected override void OnLoad(EventArgs e)\n        {\n            base.OnLoad(e);\n\n            _DBC = new SMRC_DispatcherEntities();\n\n            _DBC.Modules.Load();\n            _DBC.Members.Load();\n\n            this.moduleBindingSource.DataSource = _DBC.Modules\n                                                        .OrderBy(d =&gt; d.ModuleName)\n                                                        .ToList();\n\n            this.memberBindingSource.DataSource = _DBC.Members\n                                                      .OrderBy(m =&gt; m.FirstName)\n                                                      .ThenBy(m =&gt; m.LastName)\n                                                      .ToList();\n\n            InitializeForm();\n\n        }\n\n        private void InitializeForm()\n        {\n\n        }\n\n\n    }\n}\n</code></pre>\n\n<p>Database Context:</p>\n\n<pre><code>//------------------------------------------------------------------------------\n// &lt;auto-generated&gt;\n//     This code was generated from a template.\n//\n//     Manual changes to this file may cause unexpected behavior in your application.\n//     Manual changes to this file will be overwritten if the code is regenerated.\n// &lt;/auto-generated&gt;\n//------------------------------------------------------------------------------\n\nnamespace Dispatcher\n{\n    using System;\n    using System.Data.Entity;\n    using System.Data.Entity.Infrastructure;\n\n    public partial class SMRC_DispatcherEntities : DbContext\n    {\n        public SMRC_DispatcherEntities()\n            : base(\"name=SMRC_DispatcherEntities\")\n        {\n        }\n\n        protected override void OnModelCreating(DbModelBuilder modelBuilder)\n        {\n            throw new UnintentionalCodeFirstException();\n        }\n\n        public virtual DbSet&lt;Community&gt; Communities { get; set; }\n        public virtual DbSet&lt;Division&gt; Divisions { get; set; }\n        public virtual DbSet&lt;Industry&gt; Industries { get; set; }\n        public virtual DbSet&lt;IndustrySpot&gt; IndustrySpots { get; set; }\n        public virtual DbSet&lt;LayoutDivision&gt; LayoutDivisions { get; set; }\n        public virtual DbSet&lt;Layout&gt; Layouts { get; set; }\n        public virtual DbSet&lt;Member&gt; Members { get; set; }\n        public virtual DbSet&lt;Module&gt; Modules { get; set; }\n        public virtual DbSet&lt;RollingStockMasterType&gt; RollingStockMasterTypes { get; set; }\n        public virtual DbSet&lt;RollingStockType&gt; RollingStockTypes { get; set; }\n        public virtual DbSet&lt;SpotAcceptableCarType&gt; SpotAcceptableCarTypes { get; set; }\n    }\n}\n</code></pre>\n\n<p>Modules &amp; Members:</p>\n\n<pre><code>    //------------------------------------------------------------------------------\n// &lt;auto-generated&gt;\n//     This code was generated from a template.\n//\n//     Manual changes to this file may cause unexpected behavior in your application.\n//     Manual changes to this file will be overwritten if the code is regenerated.\n// &lt;/auto-generated&gt;\n//------------------------------------------------------------------------------\n\nnamespace Dispatcher\n{\n    using System;\n    using System.Collections.Generic;\n\n    public partial class Module\n    {\n        [System.Diagnostics.CodeAnalysis.SuppressMessage(\"Microsoft.Usage\", \"CA2214:DoNotCallOverridableMethodsInConstructors\")]\n        public Module()\n        {\n            this.Communities = new ObservableListSource&lt;Community&gt;();\n            this.LayoutDivisions = new ObservableListSource&lt;LayoutDivision&gt;();\n        }\n\n        public int ModuleID { get; set; }\n        public string ModuleName { get; set; }\n        public int ModuleOwnerID { get; set; }\n        public Nullable&lt;int&gt; ModuleCreator { get; set; }\n        public Nullable&lt;bool&gt; HasCrossover { get; set; }\n        public Nullable&lt;bool&gt; LocalLineThrough { get; set; }\n        public string ModuleNotes { get; set; }\n\n        [System.Diagnostics.CodeAnalysis.SuppressMessage(\"Microsoft.Usage\", \"CA2227:CollectionPropertiesShouldBeReadOnly\")]\n        public virtual ObservableListSource&lt;Community&gt; Communities { get; set; }\n        [System.Diagnostics.CodeAnalysis.SuppressMessage(\"Microsoft.Usage\", \"CA2227:CollectionPropertiesShouldBeReadOnly\")]\n        public virtual ObservableListSource&lt;LayoutDivision&gt; LayoutDivisions { get; set; }\n        public virtual Member Member { get; set; }\n    }\n}\n\n    // &lt;auto-generated&gt;\n//     This code was generated from a template.\n//\n//     Manual changes to this file may cause unexpected behavior in your application.\n//     Manual changes to this file will be overwritten if the code is regenerated.\n// &lt;/auto-generated&gt;\n//------------------------------------------------------------------------------\n\nnamespace Dispatcher\n{\n    using System;\n    using System.Collections.Generic;\n\n    public partial class Member\n    {\n        [System.Diagnostics.CodeAnalysis.SuppressMessage(\"Microsoft.Usage\", \"CA2214:DoNotCallOverridableMethodsInConstructors\")]\n        public Member()\n        {\n            this.Layouts = new ObservableListSource&lt;Layout&gt;();\n            this.Modules = new ObservableListSource&lt;Module&gt;();\n        }\n\n        public int MemberID { get; set; }\n        public string LastName { get; set; }\n        public string FirstName { get; set; }\n        public string SpouseName { get; set; }\n        public string AddressStreet { get; set; }\n        public string AddressCity { get; set; }\n        public string AddressState { get; set; }\n        public string AddressZip { get; set; }\n        public string TelephonePrimary { get; set; }\n        public string TelephoneSecondary { get; set; }\n        public string Email { get; set; }\n        public byte MemberSinceMonth { get; set; }\n        public short MemberSinceYear { get; set; }\n\n        [System.Diagnostics.CodeAnalysis.SuppressMessage(\"Microsoft.Usage\", \"CA2227:CollectionPropertiesShouldBeReadOnly\")]\n        public virtual ObservableListSource&lt;Layout&gt; Layouts { get; set; }\n        [System.Diagnostics.CodeAnalysis.SuppressMessage(\"Microsoft.Usage\", \"CA2227:CollectionPropertiesShouldBeReadOnly\")]\n        public virtual ObservableListSource&lt;Module&gt; Modules { get; set; }\n    }\n}\n\nnamespace Dispatcher\n{\n    using System;\n    using System.Collections.Generic;\n\n    public partial class Member\n    {\n        public String FullName\n        {\n            get\n            {\n                return FirstName + \" \" + LastName;\n            }\n        }\n\n        public String MemberSince\n        {\n            get\n            {\n                return MemberSinceMonth.ToString(\"00\") + \"//\" + MemberSinceYear.ToString(\"####\");\n            }\n        }\n    }\n\n    public partial class Layout\n    {\n        public String DesignerName\n        {\n            get\n            {\n                return Member.FullName;\n            }\n        }\n    }\n\n    public partial class Module\n    {\n        public String OwnerName\n        {\n            get\n            {\n                return Member.FullName;\n            }\n        }\n\n    }\n\n }\n</code></pre>\n\n<p>The Designer's auto-generated code is too long to include here, it is posted on my <a href=\"https://drive.google.com/open?id=1UF7icDDPY3lBZcGzPw020INn0aDn4WvI\" rel=\"nofollow noreferrer\">Google Drive</a>.</p>\n\n<p>That is everything I am aware of.</p>\n"}, {"tags": ["c#", "list", "foreach"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1567033764, "post_id": 57701008, "comment_id": 101845879, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> including the source code for <code>ValueModelClass</code>."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 3, "creation_date": 1567034516, "post_id": 57701008, "comment_id": 101846031, "body": "You don&#39;t need the <code>ToArray</code> since you&#39;re not actually mutating the list in the loop."}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 2, "creation_date": 1567034861, "post_id": 57701008, "comment_id": 101846093, "body": "I am having a lot of trouble understanding what you actually want"}, {"owner": {"reputation": 81, "user_id": 7829886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f9c34256e4151ca83a9b22897ed732?s=128&d=identicon&r=PG&f=1", "display_name": "Dhillli4u", "link": "https://stackoverflow.com/users/7829886/dhillli4u"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1567035731, "post_id": 57701008, "comment_id": 101846242, "body": "@mjwills: Please refer the sample at: <a href=\"https://dotnetfiddle.net/2UHqBH\" rel=\"nofollow noreferrer\">dotnetfiddle.net/2UHqBH</a>"}, {"owner": {"reputation": 81, "user_id": 7829886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f9c34256e4151ca83a9b22897ed732?s=128&d=identicon&r=PG&f=1", "display_name": "Dhillli4u", "link": "https://stackoverflow.com/users/7829886/dhillli4u"}, "reply_to_user": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 0, "creation_date": 1567035753, "post_id": 57701008, "comment_id": 101846247, "body": "@TheGeneral: Please refer the sample at <a href=\"https://dotnetfiddle.net/2UHqBH\" rel=\"nofollow noreferrer\">dotnetfiddle.net/2UHqBH</a>"}, {"owner": {"reputation": 81, "user_id": 7829886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f9c34256e4151ca83a9b22897ed732?s=128&d=identicon&r=PG&f=1", "display_name": "Dhillli4u", "link": "https://stackoverflow.com/users/7829886/dhillli4u"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1567036156, "post_id": 57701008, "comment_id": 101846316, "body": "@juharr I had to add it since I was not able to modify the list if some values match."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1567036307, "post_id": 57701008, "comment_id": 101846344, "body": "Just move your code around some so the logic matches what you want. In pseudo-code: <code>if (an existing item matches this item) { modify the existing item } else { create a new item, populate it&#39;s properties, and add it to the list }</code> This way you only add an item if you&#39;re creating a new one, and you only create a new one if you&#39;re not modifying an existing one."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1567083306, "post_id": 57701008, "comment_id": 101863432, "body": "@Dhillli4u Your current code does not modify the list in the <code>foreach</code> loop.  It modifies items in the list.  Modifying the list would be removing or adding items.  If that <code>Add</code> was in the loop then yes you would need the <code>ToArray</code>."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 7829886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f9c34256e4151ca83a9b22897ed732?s=128&d=identicon&r=PG&f=1", "display_name": "Dhillli4u", "link": "https://stackoverflow.com/users/7829886/dhillli4u"}, "edited": false, "score": 0, "creation_date": 1567038047, "post_id": 57701400, "comment_id": 101846637, "body": "Thanks a lot for your suggestion. I was using the LINQ within the foreach loop which was causing the issue. Trying with your suggestion worked for me."}], "tags": [], "owner": {"reputation": 8854, "user_id": 1300049, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d1b604c9a55ce2e9e6ae00bbedd2d650?s=128&d=identicon&r=PG", "display_name": "JleruOHeP", "link": "https://stackoverflow.com/users/1300049/jleruohep"}, "is_accepted": true, "score": 1, "last_activity_date": 1567037263, "creation_date": 1567037263, "answer_id": 57701400, "question_id": 57701008, "link": "https://stackoverflow.com/questions/57701008/add-or-modify-list-values/57701400#57701400", "title": "Add or modify list values", "body": "<p>As Rufus L suggested in a comment you need to revisit your logic a bit. At the moment you are going through the whole collection of <code>listValues</code> and verify if all the items match your duplicate criteria. If any of the values are different - you are adding a new entry.</p>\n\n<p>But you need to do the opposite - if any of the values match - do not add new one! Here is the potential fix:</p>\n\n<pre><code>    foreach (var line in dataline)\n    {\n       string[] data = line.Split(',');\n       ValueModelClass valueModelClass = new ValueModelClass()\n       {\n           destinationValue = new List&lt;string&gt; { data[0] },\n           sourceKey = new List&lt;string&gt; { data[1] },\n           rule = data[2],\n           description = data[3],\n           name = data[4]\n       };\n\n       if (listValues.Any(x =&gt; x.name == data[4] &amp;&amp; x.description == data[3] &amp;&amp; x.rule == data[2]))\n       {               \n           var i = listValues.FindIndex(x =&gt; x.name.Equals(valueModelClass.name));\n           listValues[i].destinationValue.Add(data[0]);\n           listValues[i].sourceKey.Add(data[1]);\n       }\n       else\n       {\n           listValues.Add(valueModelClass);\n       }\n    }\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 7829886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f9c34256e4151ca83a9b22897ed732?s=128&d=identicon&r=PG&f=1", "display_name": "Dhillli4u", "link": "https://stackoverflow.com/users/7829886/dhillli4u"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "closed_date": 1567070467, "accepted_answer_id": 57701400, "answer_count": 1, "score": -1, "last_activity_date": 1567037305, "creation_date": 1567033353, "last_edit_date": 1567036727, "question_id": 57701008, "link": "https://stackoverflow.com/questions/57701008/add-or-modify-list-values", "closed_reason": "Needs details or clarity", "title": "Add or modify list values", "body": "<p>I have a model class named <code>ValueModelClass</code> where I am storing all the values of it to a <code>List&lt;ValueModelClass&gt;</code>. Ideally if 3 values of incoming values match in one of <code>ValueModelClass</code> data in List, I am modifying the value of it within the list to avoid any duplicates. </p>\n\n<p>Using the below code to perform the action. But in this case when the <code>ValueModelClass</code> value is modified in the list, when it comes out of the <code>foreach</code> loop the data is again added to the <code>List</code>. I dint want to add to the list if the value has been modified under <code>foreach</code> loop. Please suggest how can I do this?</p>\n\n<pre><code>List&lt;ValueModelClass&gt; listValues = new List&lt;ValueModelClass&gt;();\nstring[] data = line.Split(',');\n\nforeach (var listValue in listValues.ToArray())\n{\n    if (listValue.name == data[4] &amp;&amp; listValue.description == data[3] &amp;&amp; listValue.rule == data[2])\n    {\n        var i = listValues.FindIndex(x =&gt; x.hostName.Equals(listValue.name));\n        listValues[i].destinationValue.Add(data[0]);\n        listValues[i].sourceKey.Add(data[1]);\n    }\n}\n\nlistValues.Add(ValueModelClass);\n</code></pre>\n\n<p>Adding my sample code for understanding: <a href=\"https://dotnetfiddle.net/2UHqBH\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/2UHqBH</a></p>\n\n<p>I would need the output something as below:</p>\n\n<pre><code>{\"destinationValue\":[\"https://test.com\",\"https://test2.com\",\"https://test3.com\",\"https://test3.com\"],\"sourceKey\":[\"/test\",\"/test2\",\"/test3\",\"/test3\"],\"rule\":\"rulename1\",\"name\":\"name1\",\"description\":\" description1\"}\n{\"destinationValue\":[\"https://test1.com\"],\"sourceKey\":[\"/test1\"],\"rule\":\"rulename2\",\"name\":\"name2\",\"description\":\" description2\"}\n</code></pre>\n\n<p>But the output I get is,</p>\n\n<pre><code>{\"destinationValue\":[\"https://test.com\",\"https://test2.com\",\"https://test3.com\",\"https://test3.com\"],\"sourceKey\":[\"/test\",\"/test2\",\"/test3\",\"/test3\"],\"rule\":\"rulename1\",\"name\":\"name1\",\"description\":\" description1\"}\n{\"destinationValue\":[\"https://test1.com\"],\"sourceKey\":[\"/test1\"],\"rule\":\"rulename2\",\"name\":\"name2\",\"description\":\" description2\"}\n{\"destinationValue\":[\"https://test2.com\"],\"sourceKey\":[\"/test2\"],\"rule\":\"rulename1\",\"name\":\"name1\",\"description\":\" description1\"}\n{\"destinationValue\":[\"https://test3.com\"],\"sourceKey\":[\"/test3\"],\"rule\":\"rulename1\",\"name\":\"name1\",\"description\":\" description1\"}\n</code></pre>\n"}, {"tags": ["c#", "excel", "epplus"], "answers": [{"comments": [{"owner": {"reputation": 456, "user_id": 3646777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l5MDh.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3646777/jack"}, "edited": false, "score": 0, "creation_date": 1567138725, "post_id": 57717401, "comment_id": 101881964, "body": "Wow, I was just reading your post about RemoveGridlines() from three years ago, and you&#39;re still responding three years afterwards! Awesome"}], "tags": [], "owner": {"reputation": 12593, "user_id": 1324284, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/6bsvn.jpg?s=128&g=1", "display_name": "Ernie S", "link": "https://stackoverflow.com/users/1324284/ernie-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1567110715, "creation_date": 1567110715, "answer_id": 57717401, "question_id": 57701000, "link": "https://stackoverflow.com/questions/57701000/remove-axis-markings-on-epplus-scatter-chart/57717401#57717401", "title": "Remove axis markings on EPPlus scatter chart", "body": "<p>The method <code>RemoveGridLines()</code> will not do it as it was designed to remove the horizontal and vertical lines of the chart (I know, I wrote it :) ).</p>\n\n<p>You are looking to remove the Tick Marks.  You only circled some of them on each axis but I assume you actually want to remove ALL of them.  To do that:</p>\n\n<pre><code>scatterChart.XAxis.MajorTickMark = eAxisTickMark.None;\nscatterChart.XAxis.MinorTickMark = eAxisTickMark.None;\nscatterChart.YAxis.MajorTickMark = eAxisTickMark.None;\nscatterChart.YAxis.MinorTickMark = eAxisTickMark.None;\n</code></pre>\n\n<p>If you are looking to remove ONLY those that are circled, AFAIK, excel (nothing to do with EPPlus) cannot do that.  It is all or nothing.</p>\n"}], "owner": {"reputation": 456, "user_id": 3646777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l5MDh.jpg?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3646777/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 57717401, "answer_count": 1, "score": 1, "last_activity_date": 1567110715, "creation_date": 1567033297, "question_id": 57701000, "link": "https://stackoverflow.com/questions/57701000/remove-axis-markings-on-epplus-scatter-chart", "title": "Remove axis markings on EPPlus scatter chart", "body": "<p>I'm generating a chart using EPPlus for Excel.\nWhat I want to be able to do is to remove the circled horizontal bars from the graph axes.\nDoes anyone know how to do this?\nMy current code is as below</p>\n\n<pre><code>        var p = new ExcelPackage(new FileInfo(fileName));\n        var openSheet = p.Workbook.Worksheets.First();\n\n        var scatterChart = openSheet.Drawings.AddChart(\"Worm Calc\", eChartType.XYScatter);\n        scatterChart.Series.Add(openSheet.Cells[\"E3:E103\"], openSheet.Cells[\"F3:F103\"]);\n\n        scatterChart.Legend.Remove();\n\n        scatterChart.XAxis.LogBase = 10;\n        scatterChart.YAxis.LogBase = 10;\n        scatterChart.XAxis.RemoveGridlines(true, true); //does not help\n        scatterChart.XAxis.RemoveGridlines(); //does not help\n        scatterChart.Title.Text = \"Worm Calc\";\n        scatterChart.SetPosition(2, 0, 7, 0);\n        scatterChart.SetSize(350, 350);\n        p.SaveAs(new FileInfo(fileName));\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/oWN9V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oWN9V.png\" alt=\"\"></a></p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1567051419, "post_id": 57700984, "comment_id": 101848979, "body": "Maybe related <a href=\"https://forum.unity.com/threads/android-problem-with-resources-load.325590\" rel=\"nofollow noreferrer\">forum.unity.com/threads/&hellip;</a> ... Your title is a bit misleading since you not using the <code>File</code> library .. you should probably rephrase that"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1567055751, "post_id": 57700984, "comment_id": 101849858, "body": "In general checkout <a href=\"https://docs.unity3d.com/Manual/BestPracticeUnderstandingPerformanceInUnity6.html\" rel=\"nofollow noreferrer\">The Resources folder</a> and also <a href=\"https://learn.unity.com/tutorial/assets-resources-and-assetbundles#5c7f8528edbc2a002053b5a7\" rel=\"nofollow noreferrer\">Assets, Resources and AssetBundles - Best Practises</a> where it explicitly states <b>Don&#39;t use it</b> ;)"}], "answers": [{"comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 2, "creation_date": 1567051477, "post_id": 57701225, "comment_id": 101848986, "body": "Since the question is tagged <code>unity3d</code> I&#39;m pretty sure OP builds it to an Android apk before executing it on an Android device ... ;)"}], "tags": [], "owner": {"reputation": 16, "user_id": 9533791, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MxG6TZNWBrQ/AAAAAAAAAAI/AAAAAAAAA-g/B78M6vAee2A/photo.jpg?sz=128", "display_name": "Ofir Siboni", "link": "https://stackoverflow.com/users/9533791/ofir-siboni"}, "is_accepted": false, "score": 0, "last_activity_date": 1567035377, "creation_date": 1567035377, "answer_id": 57701225, "question_id": 57700984, "link": "https://stackoverflow.com/questions/57700984/loading-txt-file-in-unity-it-works-on-the-pc-but-not-on-the-mobile-phone/57701225#57701225", "title": "Loading txt file in Unity. It works on the PC, but not on the mobile phone", "body": "<p>According to my knowledge, you can't just run c# programs on android.\nyour code looks good, try to find out if there is any problem with your android compiler / apk maker on the PC. \nAndroid apps may cause a lot of problems with permissions, Are you sure you`ve got the permission to access files? </p>\n"}, {"comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 1, "creation_date": 1567146455, "post_id": 57711927, "comment_id": 101883820, "body": "You should however rather use <a href=\"https://docs.unity3d.com/ScriptReference/Networking.UnityWebRequest.Get.html\" rel=\"nofollow noreferrer\"><code>UnityWebRequest</code></a> instead of the <b>obsolete</b> <a href=\"https://docs.unity3d.com/ScriptReference/WWW.html\" rel=\"nofollow noreferrer\"><code>WWW</code></a>"}, {"owner": {"reputation": 11, "user_id": 7861238, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CH28Ggbzbyg/AAAAAAAAAAI/AAAAAAAABQ4/6cXDOCmW2yY/photo.jpg?sz=128", "display_name": "zip_file", "link": "https://stackoverflow.com/users/7861238/zip-file"}, "edited": false, "score": 0, "creation_date": 1567158835, "post_id": 57711927, "comment_id": 101889356, "body": "I do not fully understand what to write in the parameters and where the file is saved in the last line, how to access this file"}, {"owner": {"reputation": 119, "user_id": 11987853, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ivkVAslIQh4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rexcx6VFb0qy8kGfs0iXu8_kGgY8w/photo.jpg?sz=128", "display_name": "Kjell Schwaricke", "link": "https://stackoverflow.com/users/11987853/kjell-schwaricke"}, "edited": false, "score": 0, "creation_date": 1567181784, "post_id": 57711927, "comment_id": 101900553, "body": "i edited it to use the targetDir input string, you should be able to use this function to export things from the Resources folder in the apk to the normal persistentData where you can access it as usual"}, {"owner": {"reputation": 11, "user_id": 7861238, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CH28Ggbzbyg/AAAAAAAAAAI/AAAAAAAABQ4/6cXDOCmW2yY/photo.jpg?sz=128", "display_name": "zip_file", "link": "https://stackoverflow.com/users/7861238/zip-file"}, "edited": false, "score": 0, "creation_date": 1567279161, "post_id": 57711927, "comment_id": 101920952, "body": "to access to file I must write &quot;jar:file://&quot; + Application.dataPath + &quot;!/assets/3.txt&quot; at parameters ? (if i write  File.WriteAllBytes(Path.Combine(Application.dataPath, &quot;3.txt&quot;), result); before)"}, {"owner": {"reputation": 119, "user_id": 11987853, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ivkVAslIQh4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rexcx6VFb0qy8kGfs0iXu8_kGgY8w/photo.jpg?sz=128", "display_name": "Kjell Schwaricke", "link": "https://stackoverflow.com/users/11987853/kjell-schwaricke"}, "edited": false, "score": 0, "creation_date": 1567301713, "post_id": 57711927, "comment_id": 101924073, "body": "I think the jar:file: might already be in the Application.dataPath, I recommend making a debug build where you just show the datapath on the UI so you can get an idea whats going on, thats how i did it, but that was more than 3 months ago so i cant tell you the exact process.  Btw, you might have to put assets that you want to load manually into the resources folder, in which case you can use Application.streamingAssetsPath.  You could probably also get more generalised code snippets from here: <a href=\"https://answers.unity.com/questions/1231211/how-to-get-resources-filepath-on-android-device.html\" rel=\"nofollow noreferrer\" title=\"how to get resources filepath on android device.html\">answers.unity.com/questions/1231211/&hellip;</a>"}], "tags": [], "owner": {"reputation": 119, "user_id": 11987853, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ivkVAslIQh4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rexcx6VFb0qy8kGfs0iXu8_kGgY8w/photo.jpg?sz=128", "display_name": "Kjell Schwaricke", "link": "https://stackoverflow.com/users/11987853/kjell-schwaricke"}, "is_accepted": false, "score": 1, "last_activity_date": 1567181616, "last_edit_date": 1567181616, "creation_date": 1567087423, "answer_id": 57711927, "question_id": 57700984, "link": "https://stackoverflow.com/questions/57700984/loading-txt-file-in-unity-it-works-on-the-pc-but-not-on-the-mobile-phone/57711927#57711927", "title": "Loading txt file in Unity. It works on the PC, but not on the mobile phone", "body": "<p>On android, your Unity files/resources are not just in the filesystem as on PC, they are packaged into the .apk and compressed. Iirc you can load them using the WWW class like this:</p>\n\n<pre><code> static IEnumerator extractFileFromAPK(string from, string targetDir)       //read a file from [from] and save it into targetDir (keeping its original name) \n    { \n\n        byte[] result = null;\n\n        if (from.Contains(\"://\"))       //this will be the fileformat if it is inside the apk so you must read it from a jar://file\n        {\n            WWW www = new WWW(from);\n            yield return www;\n            result = www.bytes;\n        }\n        else\n            result = System.IO.File.ReadAllBytes(from);//windows  \nFile.WriteAllBytes(System.IO.Path.Combine(targetDir,\"whatevername.txt\"), result);\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7861238, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CH28Ggbzbyg/AAAAAAAAAAI/AAAAAAAABQ4/6cXDOCmW2yY/photo.jpg?sz=128", "display_name": "zip_file", "link": "https://stackoverflow.com/users/7861238/zip-file"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1567181616, "creation_date": 1567033142, "last_edit_date": 1567070259, "question_id": 57700984, "link": "https://stackoverflow.com/questions/57700984/loading-txt-file-in-unity-it-works-on-the-pc-but-not-on-the-mobile-phone", "title": "Loading txt file in Unity. It works on the PC, but not on the mobile phone", "body": "<p>There is such a code that I get text from a file and look for a match with word in it. When checking on a PC, everything works, as well as during debugging, and when compiling, the apk apparently does not see the files   </p>\n\n<pre><code> void Start()\n        {\n            words = (TextAsset[])Resources.LoadAll&lt;TextAsset&gt;(\"Library\");\n          } \n\npublic bool checkWord(int count)\n    {\n        if (count &gt;= 3)\n        {\n\n\n            string all = Encoding.GetEncoding(1251).GetString(words[count - 3].bytes);\n            String[] library = all.Split(new char[] { ',' }, StringSplitOptions.RemoveEmptyEntries);\n\n            for (int i = 0; i &lt; library.Length; i++)\n            {\n                int result = String.Compare(library[i], word);\n                if (result == 0)\n                {\n\n                    return true;\n\n                }\n\n\n            }\n        }\n\n        return false;\n    }\n</code></pre>\n\n<p>Files at Resources/Library</p>\n"}, {"tags": ["c#", "multithreading", ".net-core", "timer"], "comments": [{"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 6, "creation_date": 1567032596, "post_id": 57700900, "comment_id": 101845655, "body": "The program exits before the timer gets to run. Try adding <code>Console.ReadLine()</code> to the end of <code>Main</code>."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567039749, "post_id": 57700900, "comment_id": 101846911, "body": "Your timer uses a background thread, and background threads don&#39;t keep a process from exiting. Only foreground threads do, and your only foreground thread exits as soon as it&#39;s done with the <code>WriteLine()</code> call. See marked duplicates for various techniques to keep a console program running long enough to see it do something."}], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 3841730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe83b06538b33d55e8eec0c2cc240f0?s=128&d=identicon&r=PG&f=1", "display_name": "user3841730", "link": "https://stackoverflow.com/users/3841730/user3841730"}, "is_accepted": true, "score": 0, "last_activity_date": 1567039318, "last_edit_date": 1567039318, "creation_date": 1567038939, "answer_id": 57701561, "question_id": 57700900, "link": "https://stackoverflow.com/questions/57700900/dotnet-threading-timer-not-running/57701561#57701561", "title": "Dotnet - Threading Timer Not Running", "body": "<p><strong>This will wait for the timer to finish ONCE, if you however wish to run the timer \"infinitely\" long (until enter key is pressed) I suggest using Console.ReadLine() as @Johnny Mopp wrote above</strong></p>\n\n<p>Assuming you still want to use Timeout.Infinite - Create a Boolean which we will update once timer finishes. </p>\n\n<pre><code>bool TaskFinished = false;\n</code></pre>\n\n<p>then run a while loop where you want to wait until timer is finished.</p>\n\n<pre><code>while(!TaskFinished);\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>using System;\nusing System.Threading;\n\nnamespace ConsoleApp1\n{\n    class Program\n    {\n        static Timer _timer = null;\n        static void Main(string[] args)\n        {\n            bool TaskFinished = false;\n            _timer = new Timer(x =&gt;\n            {\n                Console.WriteLine(\"Timer is running\");\n                TaskFinished = true;\n\n            }, null, 1000, Timeout.Infinite);\n\n            Console.WriteLine(\"Hello World!\");\n            while(!TaskFinished);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2677, "user_id": 5244950, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/8iSIn.png?s=128&g=1", "display_name": "AJ_", "link": "https://stackoverflow.com/users/5244950/aj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "closed_date": 1567039689, "accepted_answer_id": 57701561, "answer_count": 1, "score": 0, "last_activity_date": 1567039812, "creation_date": 1567032401, "question_id": 57700900, "link": "https://stackoverflow.com/questions/57700900/dotnet-threading-timer-not-running", "closed_reason": "Duplicate", "title": "Dotnet - Threading Timer Not Running", "body": "<p>I have been reading about the c# Threading Timer, and wanted to use it in my console application. I created a standalone project so i could test it out, and i have been unable to get a simple timer to run. When i run the code below, all i get from the console is the hello world message, but i dont see any timer output. I changed it to write the output to a file, to see if it was just running in the background. However, that also resulted in nothing. I'm using dotnet (2.1) as the run-time if that has anything to do with it. </p>\n\n<p>Does anyone see a reason why the code below does not start a timer ?</p>\n\n<pre><code>using System;\nusing System.Threading;\n\nnamespace ConsoleApp1\n{\n    class Program\n    {\n        static Timer _timer = null;\n        static void Main(string[] args)\n        {\n            _timer = new Timer(x =&gt;\n            {\n                Console.WriteLine(\"Timer is running\");\n\n            }, null, 1000, Timeout.Infinite);\n\n            Console.WriteLine(\"Hello World!\");\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "edited": false, "score": 0, "creation_date": 1567057686, "post_id": 57703506, "comment_id": 101850342, "body": "The line : var actualDuration = maxDuration * Mathf.Abs(fromColor.a, toColor.a); Mathf.Abs get only one float. It can&#39;t get also fromColor.a and toColor.a"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "reply_to_user": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "edited": false, "score": 1, "creation_date": 1567057852, "post_id": 57703506, "comment_id": 101850393, "body": "oh sorry little typo .. we want the difference there"}], "tags": [], "owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "is_accepted": true, "score": 2, "last_activity_date": 1567057811, "last_edit_date": 1567057811, "creation_date": 1567056396, "answer_id": 57703506, "question_id": 57700850, "link": "https://stackoverflow.com/questions/57700850/how-can-i-fade-the-textmesh-in-out-not-working/57703506#57703506", "title": "How can I fade the textmesh in/out ? Not working", "body": "<p>All these calls</p>\n\n<pre><code>StartCoroutine(FadeTextToZeroAlpha(1, t));\nt.text = \"Hello\";\nStartCoroutine(FadeTextToFullAlpha(0, t));\n</code></pre>\n\n<p>happen at the same time so you have concurrent routines.</p>\n\n<p>Additionally this might be called in multiple consequent frames -> you should also do it only once!</p>\n\n<p>You should pack this into one single routine like</p>\n\n<pre><code>private bool isUpdatingDisplay;\n\n// Get this reference only ONCE\n// better would even be if you can already reference it via the Inspector\n[SerializeField] privtae TextMesh textMesh;\n\nprivate void Awake()\n{\n    if(!textMesh) textMesh = transform.GetChild(0).GetComponent&lt;TextMesh&gt;();\n}\n\nvoid Update()\n{\n\n    ....\n\n    // only start fading if it isn't doing it already\n    if(!isUpdatingDisplay)\n    {\n        StartCoroutine(UpdateDisplayPhrase(\"Hello\"), t);\n    }\n\n    ....\n}\n\nprivate IEnumerator UpdateDisplayPhrase(string text, TextMesh t)\n{\n     // this should actually be impossible to happen\n     // but just in case ignore this call if a routine is already running\n     if(isUpdatingDisplay) yield brake;\n\n     // block multiple calls\n     isUpdatingDisplay = true;\n\n     // you can simply yield IEnumerators so they are executed and at the same time\n     // wait until finished\n     yield return FadeTextToZeroAlpha(1, t);\n\n     t.text = \"Hello\";\n\n     // NOTE: you pass in 0 \n     // -&gt; DIVIDING BY 0 ?!\n     yield return FadeTextToFullAlpha(0, t);\n\n     // when done reset the blocking flag\n     isUpdatingDisplay = false;\n}\n\npublic IEnumerator FadeTextToFullAlpha(float t, TextMesh i)\n{\n    i.color = new Color(i.color.r, i.color.g, i.color.b, 0);\n    while (i.color.a &lt; 1.0f)\n    {\n        // DIVIDING BY 0 ?!\n        i.color = new Color(i.color.r, i.color.g, i.color.b, i.color.a + (Time.deltaTime / t));\n        yield return null;\n    }\n}\n\npublic IEnumerator FadeTextToZeroAlpha(float t, TextMesh i)\n{\n    i.color = new Color(i.color.r, i.color.g, i.color.b, 1);\n    while (i.color.a &gt; 0.0f)\n    {\n        i.color = new Color(i.color.r, i.color.g, i.color.b, i.color.a - (Time.deltaTime / t));\n        yield return null;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>NOTE</strong></p>\n\n<p>you are calling</p>\n\n<pre><code>FadeTextToFullAlpha(0, t);\n</code></pre>\n\n<p>but in <code>FadeTextToFullAlpha(float t, TextMesh i)</code> using</p>\n\n<pre><code>Time.deltaTime / t\n</code></pre>\n\n<p><strong>you should strongly avoid dividing by <code>0</code> ;)</strong></p>\n\n<hr>\n\n<p>You could refactor this a bit using only one method and making it more efficient like (also get used to use proper variable names!). I would then use <a href=\"https://docs.unity3d.com/ScriptReference/Color.Lerp.html\" rel=\"nofollow noreferrer\"><code>Color.Lerp</code></a> which allows additional easing-in and -out</p>\n\n<pre><code>public IEnumerator FadeTextTo(float targetAlpha, float maxDuration, TextMesh textMesh)\n{\n    // more efficient to get both colors beforehand\n    var fromColor = textMesh.color;\n    var toColor = new Color(fromColor.r, fromColor.g, fromColor.b, targetAlpha);\n\n    // this is optional ofcourse but I like to do this in order to\n    // always have the same fading speed even if it is already slightly faded into one direction\n    var actualDuration = maxDuration * Mathf.Abs(fromColor.a - toColor.a);\n\n    var passedTime = 0f;\n    while (passedTime &lt; actualDuration)\n    {\n        var lerpFactor = passedTime / actualDuration;\n        // now the huge advantage is that you can add ease-in and -out if you like e.g.\n        //lerpFactor = Mathf.SmoothStep(0, 1, lerpFactor);\n\n        i.color = Color.Lerp(fromColor, toColor, lerpFactor);\n\n        // avoid overshooting\n        passedTime += Mathf.Min(Time.deltaTime, actualDuration - passedTime);\n        yield return null;\n    }\n\n    // just to be sure in the end always set it once\n    i.color = toColor;\n}\n</code></pre>\n\n<p>Now there is also no trouble with <code>0</code> division anymore</p>\n"}], "owner": {"reputation": 3111, "user_id": 847881, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/00937cabb32af54d9f127dbaa938e9c9?s=128&d=identicon&r=PG", "display_name": "Daniel Lip", "link": "https://stackoverflow.com/users/847881/daniel-lip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 57703506, "answer_count": 1, "score": 1, "last_activity_date": 1567059621, "creation_date": 1567031864, "last_edit_date": 1567059621, "question_id": 57700850, "link": "https://stackoverflow.com/questions/57700850/how-can-i-fade-the-textmesh-in-out-not-working", "title": "How can I fade the textmesh in/out ? Not working", "body": "<p>At top :</p>\n\n<pre><code>private Vector3 lastFwd;\nprivate float curAngleX = 0;\n</code></pre>\n\n<p>In Start :</p>\n\n<pre><code>private void Start()\n{\n    lastFwd = transform.forward;\n}\n</code></pre>\n\n<p>In Update :</p>\n\n<pre><code>void Update()\n{\n    var curFwd = transform.forward;\n    // measure the angle rotated since last frame:\n    var ang = Vector3.Angle(curFwd, lastFwd);\n\n    if (myApproximation(ang, 179f, 1f) == true)\n    {\n        var t = transform.GetChild(0).GetComponent&lt;TextMesh&gt;();\n        StartCoroutine(FadeTextToZeroAlpha(1, t));\n        t.text = \"Hello\";\n        StartCoroutine(FadeTextToFullAlpha(0, t));\n    }\n}\n</code></pre>\n\n<p>The Fade methods :</p>\n\n<pre><code>public IEnumerator FadeTextToFullAlpha(float t, TextMesh i)\n{\n    i.color = new Color(i.color.r, i.color.g, i.color.b, 0);\n    while (i.color.a &lt; 1.0f)\n    {\n        i.color = new Color(i.color.r, i.color.g, i.color.b, i.color.a + (Time.deltaTime / t));\n        yield return null;\n    }\n}\n\npublic IEnumerator FadeTextToZeroAlpha(float t, TextMesh i)\n{\n    i.color = new Color(i.color.r, i.color.g, i.color.b, 1);\n    while (i.color.a &gt; 0.0f)\n    {\n        i.color = new Color(i.color.r, i.color.g, i.color.b, i.color.a - (Time.deltaTime / t));\n        yield return null;\n    }\n}\n</code></pre>\n\n<p>What I want to do is to start fading from 1 to 0 while it's 0 to change the t variable text for example :</p>\n\n<pre><code>t.text = \"Hello\";\n</code></pre>\n\n<p>And then to fade back from 0 to 1.</p>\n\n<p>But it's not making the fade.\nIf I leave only the line from 1 to 0 it will fade the text.\nBut when the two lines are exist it's not fading at all. The text is the same.</p>\n\n<p>The complete script :</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.UI;\n\npublic class OnMouseOverEvent : MonoBehaviour\n{\n    public float speed = 5f;\n    public float distanceToMove = 1f;\n    public bool goForward;\n    public Vector3 startPos;\n    public Vector3 endPos;\n\n    private bool isRotating = false;\n    private Vector3 lastFwd;\n    private float curAngleX = 0;\n\n    private void Start()\n    {\n        lastFwd = transform.forward;\n\n        startPos = transform.position;\n        endPos = transform.position - Vector3.forward * distanceToMove;\n    }\n\n    void Update()\n    {\n        if (goForward &amp;&amp; isRotating == false)\n        {\n            transform.position = Vector3.MoveTowards(transform.position, endPos, speed * Time.deltaTime);\n        }\n        else if (isRotating == false)\n        {\n            transform.position = Vector3.MoveTowards(transform.position, startPos, speed * Time.deltaTime);\n        }\n\n        var curFwd = transform.forward;\n        // measure the angle rotated since last frame:\n        var ang = Vector3.Angle(curFwd, lastFwd);\n\n        if (myApproximation(ang, 179f, 1f) == true)\n        {\n            var t = transform.GetChild(0).GetComponent&lt;TextMesh&gt;();\n            StartCoroutine(FadeTextToZeroAlpha(1, t));\n            t.text = \"Hello\";\n            StartCoroutine(FadeTextToFullAlpha(0, t));\n        }\n    }\n\n    public IEnumerator FadeTextToFullAlpha(float t, TextMesh i)\n    {\n        i.color = new Color(i.color.r, i.color.g, i.color.b, 0);\n        while (i.color.a &lt; 1.0f)\n        {\n            i.color = new Color(i.color.r, i.color.g, i.color.b, i.color.a + (Time.deltaTime / t));\n            yield return null;\n        }\n    }\n\n    public IEnumerator FadeTextToZeroAlpha(float t, TextMesh i)\n    {\n        i.color = new Color(i.color.r, i.color.g, i.color.b, 1);\n        while (i.color.a &gt; 0.0f)\n        {\n            i.color = new Color(i.color.r, i.color.g, i.color.b, i.color.a - (Time.deltaTime / t));\n            yield return null;\n        }\n    }\n\n    private bool myApproximation(float a, float b, float tolerance)\n    {\n        return (Mathf.Abs(a - b) &lt; tolerance);\n    }\n\n    private void OnMouseOver()\n    {\n        goForward = true;\n    }\n\n    private void OnMouseExit()\n    {\n        goForward = false;\n    }\n\n    private void OnMouseDown()\n    {\n        if (isRotating == false &amp;&amp; transform.name == \"Options\")\n            StartCoroutine(Rotate(5));\n    }\n\n    IEnumerator Rotate(float duration)\n    {\n        Quaternion startRot = transform.rotation;\n        float t = 0.0f;\n        while (t &lt; duration)\n        {\n            isRotating = true;\n            t += Time.deltaTime;\n\n            transform.rotation = startRot * Quaternion.AngleAxis(t / duration * 360f, Vector3.up); \n\n            yield return null;\n        }\n        transform.rotation = startRot;\n\n        isRotating = false;\n    }\n}\n</code></pre>\n\n<p>The main goal is while the object is rotating to fade out/in the text and while fading to change the text.</p>\n"}, {"tags": ["c#", "sensenet"], "answers": [{"tags": [], "owner": {"reputation": 1816, "user_id": 6915310, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207903748699507/picture?type=large", "display_name": "Aniko Litvanyi", "link": "https://stackoverflow.com/users/6915310/aniko-litvanyi"}, "is_accepted": true, "score": 0, "last_activity_date": 1567066899, "creation_date": 1567066899, "answer_id": 57705993, "question_id": 57700812, "link": "https://stackoverflow.com/questions/57700812/sensenet-how-to-create-folder-with-name-and-display-name-are-different-from-do/57705993#57705993", "title": "(Sensenet) How to Create Folder with Name and Display Name are different from Dotnet Client(sn-client-dotnet)?", "body": "<pre><code>content[\"DisplayName\"] = \"MyFolder\";\ncontent[\"Name\"] = \"0E8646EF-C8AC-4DB5-973E-9AC1F8A0172B\";\nawait content.SaveAsync();\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4417936, "user_type": "registered", "profile_image": "https://graph.facebook.com/1801956165/picture?type=large", "display_name": "Rezkar Js", "link": "https://stackoverflow.com/users/4417936/rezkar-js"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 57705993, "answer_count": 1, "score": 0, "last_activity_date": 1567066899, "creation_date": 1567031574, "question_id": 57700812, "link": "https://stackoverflow.com/questions/57700812/sensenet-how-to-create-folder-with-name-and-display-name-are-different-from-do", "title": "(Sensenet) How to Create Folder with Name and Display Name are different from Dotnet Client(sn-client-dotnet)?", "body": "<p>I can create folder by using this code:</p>\n\n<pre><code>var myFolder = Content.CreateNew(\"/Root/Sites/Default_Site\", \"Folder\", \"MyFolder\");\nawait myFolder.SaveAsync();\n</code></pre>\n\n<p>How to make the Folder's name and it's display name are different using dotnet client?</p>\n\n<p>example:</p>\n\n<p>Display Name = \"MyFolder\"</p>\n\n<p>but</p>\n\n<p>Folder Name = \"0E8646EF-C8AC-4DB5-973E-9AC1F8A0172B\"</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1567031508, "post_id": 57700791, "comment_id": 101845438, "body": "<a href=\"https://ericlippert.com/2012/12/17/performance-rant/\" rel=\"nofollow noreferrer\">ericlippert.com/2012/12/17/performance-rant</a>"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 3, "creation_date": 1567031578, "post_id": 57700791, "comment_id": 101845447, "body": "Why do you need <code>ToArray</code> for the first and not the second? I think you need to show us how <code>LogPlayerData</code> is defined."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 1, "creation_date": 1567031744, "post_id": 57700791, "comment_id": 101845478, "body": "Note that <code>ToList()</code> is faster than <code>ToArray()</code> (except in cases where Linq knows the length of the collection) because <code>ToArray()</code> copies the list twice: first to build an internal <code>List&lt;T&gt;</code> and then a second time to trim it to an exactly-sized array (as <code>List&lt;T&gt;</code> can have spare capacity, an array cannot)."}], "answers": [{"tags": [], "owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "is_accepted": true, "score": 2, "last_activity_date": 1567040851, "last_edit_date": 1567040851, "creation_date": 1567032265, "answer_id": 57700887, "question_id": 57700791, "link": "https://stackoverflow.com/questions/57700791/ienumerablet-returning-function-implemented-using-yield-return-versus-creati/57700887#57700887", "title": "IEnumerable&lt;T&gt; returning function implemented using &#39;yield return&#39; versus creating a collection", "body": "<p>This depends on the size of the collection, and the nature of the object and whether the surrounding code is able to take advantage of the benefits provided by <code>yield return</code>, and <em>many</em> other things related to <em>your</em> specific environment that are impossible for us to know.</p>\n\n<p>Generally, if you have 10 million items, you're likely to be <strong>whole lot better off</strong> using <code>yield return</code>, because it helps write code that doesn't require every item be resident in memory at the same time.</p>\n\n<p>If you have 4 items, you might do better with a collection, because there is some overhead creating and maintaining the state machine used by .Net behind the scenes... but at this point, you're gonna have a hard time measuring the difference.</p>\n\n<p>Specifically, though, I want to mention the <code>.ToArray()</code> call in one of the samples. If you're calling <code>.ToArray()</code>, you <strong>will</strong> lose most of the benefits of <code>yield return</code>. Given the function is defined to accept an <code>IEnumerable&lt;IPlayerData&gt;</code>, you don't need the array conversion, and can shorten the code to just this:</p>\n\n<pre><code>LogPlayerData(CreatePlayerData());\n</code></pre>\n\n<p>Now we have less code, and we only need to keep <strong>one</strong> <code>PlayerData</code> object in memory at a time. Of course, we could still pass an array to this method if we really wanted (<code>IEnumerable&lt;T&gt;</code> is great like that); but don't call <code>ToArray()</code> or <code>ToList()</code> until you absolutely have to, which is often much later than you think.</p>\n"}], "owner": {"reputation": 1927, "user_id": 2017412, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/c55a6dedf87df0058a6f2031079102f5?s=128&d=identicon&r=PG", "display_name": "Monku", "link": "https://stackoverflow.com/users/2017412/monku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "closed_date": 1567038918, "accepted_answer_id": 57700887, "answer_count": 1, "score": -2, "last_activity_date": 1567040851, "creation_date": 1567031341, "question_id": 57700791, "link": "https://stackoverflow.com/questions/57700791/ienumerablet-returning-function-implemented-using-yield-return-versus-creati", "closed_reason": "Opinion-based", "title": "IEnumerable&lt;T&gt; returning function implemented using &#39;yield return&#39; versus creating a collection", "body": "<p>I am debating which of the following is an efficient way to implement the function <code>CreatePlayerData</code></p>\n\n<pre><code>Method1: yield return\nprivate static IEnumerable&lt;IPlayerData&gt; CreatePlayerData(int gameId, PlayerProfiles profiles)\n{\n    foreach (var data in profiles.data)\n    {\n        yield return new PlayerData\n        {\n            GameId = gameId,\n            GameName = data.GameName,\n            ProfileId = data.ProfileId\n        };\n    }\n}\n\nMethod2: Creating a collection\nprivate static IEnumerable&lt;IPlayerData&gt; CreatePlayerData(int gameId, PlayerProfiles profiles)\n{\n    var collection = new List&lt;IPlayerData&gt;();\n    foreach (var data in profiles.data)\n    {\n        collection.Add(new PlayerData\n        {\n            GameId = gameId,\n            GameName = data.GameName,\n            ProfileId = data.ProfileId\n        });\n    }\n    return collection;\n}\n</code></pre>\n\n<p>There is a log function that uses function <code>CreatePlayerData</code> as an argument:\nThe signature of the log function is:</p>\n\n<pre><code>void LogPlayerData(IEnumerable&lt;IPlayerData&gt; players);\n</code></pre>\n\n<p>If I use <code>Method1</code> to implement <code>CreatePlayerData</code> function, I call the log function as:</p>\n\n<pre><code>LogPlayerData(CreatePlayerData().ToArray());\n</code></pre>\n\n<p>Or if I use <code>Method2</code> to implement <code>CreatePlayerData</code> function, I call the log function as:</p>\n\n<pre><code>LogPlayerData(CreatePlayerData());\n</code></pre>\n\n<p>Not sure which among <code>Method1</code> or <code>Method2</code> is the best way to implement the function <code>CreatePlayerData</code>. Any suggestions?</p>\n"}, {"tags": ["c#", "node.js", "asp.net-web-api", "process", "mapshaper"], "answers": [{"tags": [], "owner": {"reputation": 1532, "user_id": 6113960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c1166defd66f28cce815ecb42cbf55?s=128&d=identicon&r=PG&f=1", "display_name": "Yasser Mas", "link": "https://stackoverflow.com/users/6113960/yasser-mas"}, "is_accepted": true, "score": 0, "last_activity_date": 1567035032, "last_edit_date": 1567035032, "creation_date": 1567033786, "answer_id": 57701053, "question_id": 57700774, "link": "https://stackoverflow.com/questions/57700774/running-a-global-node-application-from-web-api-application-using-process/57701053#57701053", "title": "running a global node application from Web API application using process", "body": "<p>Please make sure that you have run the command <code>npm install -g mapshaper</code> in the production server, <code>npm install</code> will not install the global packages which in development server.</p>\n\n<p>Also make sure that path linked with /npm packages dir, please run this script in your command line </p>\n\n<pre><code>path=%PATH%;%APPDATA%\\npm\n</code></pre>\n"}], "owner": {"reputation": 3420, "user_id": 2072676, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ebd06829dbe5de8a676efd44fdf8f271?s=128&d=identicon&r=PG", "display_name": "Giox", "link": "https://stackoverflow.com/users/2072676/giox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 57701053, "answer_count": 1, "score": 0, "last_activity_date": 1567035032, "creation_date": 1567031232, "question_id": 57700774, "link": "https://stackoverflow.com/questions/57700774/running-a-global-node-application-from-web-api-application-using-process", "title": "running a global node application from Web API application using process", "body": "<p>I have a WEB API application, done in ASP.NET framework 4.7, where I want to call an application in NodeJs using the command line, therefore, using the System.Diagnostic.Process.</p>\n\n<p>The NodeJs application has been installed using </p>\n\n<pre><code>npm install -g mapshaper\n</code></pre>\n\n<p>In the development enviroment everything works fine, and I can even capture the output, but when I run on production server I get in the standard output the following message:</p>\n\n<pre><code>'mapshaper' is not recognized as an internal or external command,\\r\\noperable program or batch file.\n</code></pre>\n\n<p>(mapshaper is the nodejs application I want to run)</p>\n\n<p>Please note that if I run the application, on the production server, from the command-line directly, it works perfectly.</p>\n\n<p>And if I run from the API, instead of 'mapshaper', the command 'DIR' I get the directory list, therefore it works. I've also tried to run 'node -v' and I correctly get the installed node version: </p>\n\n<pre><code>c:\\\\windows\\\\system32\\\\inetsrv&gt;node -v\\r\\nv10.16.3\n</code></pre>\n\n<p>Here is the code I use to call the cmd.exe, and insert the command to run:</p>\n\n<pre><code>string strOutput = \"\";\nstring path = HostingEnvironment.MapPath(\"~\");\nstring fileName = \"cmd.exe \";\nstring args = \"mapshaper -h\";\n//args = \"dir\";     //IT WORKS\n//args = \"node -v\"; //IT WORKS and I get the ver. installed as output\nSystem.Diagnostics.Process pProcess = new System.Diagnostics.Process();\npProcess.StartInfo.FileName = fileName;\npProcess.StartInfo.UseShellExecute = false;\npProcess.StartInfo.RedirectStandardOutput = true;\npProcess.StartInfo.RedirectStandardError = true;\npProcess.StartInfo.RedirectStandardInput = true;\n\nConcurrentQueue&lt;string&gt; messages = new ConcurrentQueue&lt;string&gt;();\n\npProcess.ErrorDataReceived += (object se, DataReceivedEventArgs ar) =&gt;\n{\n    string data = ar.Data;\n    if (!string.IsNullOrWhiteSpace(data))\n        messages.Enqueue(data);\n};\npProcess.OutputDataReceived += (object se, DataReceivedEventArgs ar) =&gt;\n{\n    string data = ar.Data;\n    if (!string.IsNullOrWhiteSpace(data))\n        messages.Enqueue(data);\n};\n\npProcess.Start();\n\npProcess.StandardInput.WriteLine(args);\npProcess.StandardInput.Flush();\npProcess.StandardInput.Close();\n\npProcess.BeginErrorReadLine();\npProcess.BeginOutputReadLine();\nwhile (!pProcess.HasExited)\n{\n    string data = null;\n    if (messages.TryDequeue(out data))\n        strOutput+=data+\"\\r\\n\";\n}\n\npProcess.WaitForExit(2000);\n\npProcess.Close();\n</code></pre>\n\n<p>So on production is only the command mapshaper that is not recognized when it's run from the above code (it works if it's run manually from command line).</p>\n\n<p>Which could be the cause? Some permission to execute NodeJs on the server?</p>\n"}, {"tags": ["c#", ".net-core", "system.text.json"], "comments": [{"owner": {"reputation": 1510, "user_id": 5728157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6ed0956efcbacb4f24eb25437fdb856b?s=128&d=identicon&r=PG&f=1", "display_name": "andresantacruz", "link": "https://stackoverflow.com/users/5728157/andresantacruz"}, "edited": false, "score": 0, "creation_date": 1567030800, "post_id": 57700678, "comment_id": 101845296, "body": "Can you use a 3rd party lib like Newtonsoft&#39;s Json?"}, {"owner": {"reputation": 3676, "user_id": 862495, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/26bbb772e30d41a4fdfa5657f43012ba?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/862495/nick"}, "reply_to_user": {"reputation": 1510, "user_id": 5728157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6ed0956efcbacb4f24eb25437fdb856b?s=128&d=identicon&r=PG&f=1", "display_name": "andresantacruz", "link": "https://stackoverflow.com/users/5728157/andresantacruz"}, "edited": false, "score": 2, "creation_date": 1567030883, "post_id": 57700678, "comment_id": 101845312, "body": "No, we&#39;ve abandoned newtsonsoft because of how slow it is."}, {"owner": {"reputation": 3676, "user_id": 862495, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/26bbb772e30d41a4fdfa5657f43012ba?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/862495/nick"}, "edited": false, "score": 0, "creation_date": 1567095321, "post_id": 57700678, "comment_id": 101870354, "body": "I don&#39;t consider what I added to be an answer."}], "answers": [{"comments": [{"owner": {"reputation": 958, "user_id": 725626, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/04aed060f3cf5e8ce7e144b75b9c372c?s=128&d=identicon&r=PG", "display_name": "benmccallum", "link": "https://stackoverflow.com/users/725626/benmccallum"}, "edited": false, "score": 2, "creation_date": 1579536348, "post_id": 57700761, "comment_id": 105790723, "body": "<code>Dictionary&lt;string, object&gt;</code> ain&#39;t a bad option too."}, {"owner": {"reputation": 4248, "user_id": 2333663, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1ea215872ccae10c90c25905859debe5?s=128&d=identicon&r=PG", "display_name": "Muflix", "link": "https://stackoverflow.com/users/2333663/muflix"}, "edited": false, "score": 0, "creation_date": 1594220703, "post_id": 57700761, "comment_id": 111051838, "body": "How do you read value from dynamic object ? because I am getting an error <code>RuntimeBinderException: &#39;System.Text.Json.JsonElement&#39; does not contain a definition for &#39;MyProperty&#39;</code>"}, {"owner": {"reputation": 1560, "user_id": 592949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WIT8l.jpg?s=128&g=1", "display_name": "Suneet Nangia", "link": "https://stackoverflow.com/users/592949/suneet-nangia"}, "edited": false, "score": 0, "creation_date": 1595889865, "post_id": 57700761, "comment_id": 111625531, "body": "Unfortunately, Dictionary&lt;string, string&gt; will fail if the response Json contains string and non string types i.e. numbers."}, {"owner": {"reputation": 199, "user_id": 4236616, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b9HWc2vLTtg/AAAAAAAAAAI/AAAAAAAADkQ/LA5ay8KsJlQ/photo.jpg?sz=128", "display_name": "Macindows", "link": "https://stackoverflow.com/users/4236616/macindows"}, "edited": false, "score": 2, "creation_date": 1599668653, "post_id": 57700761, "comment_id": 112846779, "body": "&quot;Or just deserialize to Object which will yield a JsonElement that you can call GetProperty on.&quot; Is there an example you can point me to?"}, {"owner": {"reputation": 2488, "user_id": 116208, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XWVJr.jpg?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/116208/jay"}, "edited": false, "score": 1, "creation_date": 1602190940, "post_id": 57700761, "comment_id": 113650697, "body": "using System.Text.Json; var json = JsonSerializer.Deserialize&lt;object&gt;(json) as JsonElement?; var tmp = json?.GetProperty(&quot;id&quot;)"}, {"owner": {"reputation": 354, "user_id": 7943129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42cc1397c01e3827b2c977409ca3342b?s=128&d=identicon&r=PG&f=1", "display_name": "KarloX", "link": "https://stackoverflow.com/users/7943129/karlox"}, "edited": false, "score": 1, "creation_date": 1606029727, "post_id": 57700761, "comment_id": 114831093, "body": "I think you can as well do this: var je_root = JsonSerializer.Deserialize&lt;JasonElement&gt;(jsonstr); and then access it e.g. like so: int myvalue = je_root.GetProperty(&quot;MyProperty&quot;).GetProperty(&quot;MySubProperty&zwnj;&#8203;&quot;).GetInt32();"}], "tags": [], "owner": {"reputation": 1458, "user_id": 11746212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69fe33bc21a8570b9e9c0fce89a681fa?s=128&d=identicon&r=PG&f=1", "display_name": "IronMan", "link": "https://stackoverflow.com/users/11746212/ironman"}, "is_accepted": true, "score": 23, "last_activity_date": 1567031089, "creation_date": 1567031089, "answer_id": 57700761, "question_id": 57700678, "link": "https://stackoverflow.com/questions/57700678/how-do-you-read-a-simple-value-out-of-some-json-using-system-text-json/57700761#57700761", "title": "How do you read a simple value out of some json using System.Text.Json?", "body": "<p>you can deserialize to a <code>Dictionary</code>:</p>\n\n<pre><code>var dict = System.Text.Json.JsonSerializer.Deserialize&lt;Dictionary&lt;string, string&gt;&gt;(json)\n</code></pre>\n\n<p>Or just deserialize to <code>Object</code> which will yield a <code>JsonElement</code> that you can call <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.text.json.jsonelement.getproperty?view=netcore-3.0#System_Text_Json_JsonElement_GetProperty_System_String_\" rel=\"noreferrer\"><code>GetProperty</code></a> on.</p>\n"}, {"comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 2, "creation_date": 1596643000, "post_id": 58679930, "comment_id": 111878955, "body": "<code>JsonDocument</code> needs to be disposed when it goes out of scope, according to the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.text.json.jsondocument?view=netcore-3.1#remarks\" rel=\"nofollow noreferrer\">docs</a>, to prevent a memory leak.  When you need to use the <code>RootElement</code> outside the lifetime of the document, you must <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.text.json.jsonelement.clone?view=netcore-3.1#System_Text_Json_JsonElement_Clone\" rel=\"nofollow noreferrer\">clone</a> it."}], "tags": [], "owner": {"reputation": 2178, "user_id": 1980925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UgYrw.jpg?s=128&g=1", "display_name": "Alex Mazzariol", "link": "https://stackoverflow.com/users/1980925/alex-mazzariol"}, "is_accepted": false, "score": 13, "last_activity_date": 1572787405, "last_edit_date": 1572787405, "creation_date": 1572782342, "answer_id": 58679930, "question_id": 57700678, "link": "https://stackoverflow.com/questions/57700678/how-do-you-read-a-simple-value-out-of-some-json-using-system-text-json/58679930#58679930", "title": "How do you read a simple value out of some json using System.Text.Json?", "body": "<p>I've recently migrated a project from ASP.NET Core 2.2 to 3, and I'm having this inconvenience. In our team we value lean dependencies, so we are trying to avoid including Newtonsoft.JSON back and try using <code>System.Text.Json</code>. We also decided not to use a ton of POCO objects just for JSON serialization, because our backend models are more complex than needed for Web APIs. Also, because of nontrivial behaviour encapsulation, the backend models cannot be easily used to serialize/deserialize JSON strings.</p>\n\n<p>I understand that <code>System.Text.Json</code> is supposed to be faster than Newtonsoft.JSON, but I believe this has a lot to do with ser/deser from/to specific POCO classes. Anyway, speed was not on our list of pros/cons for this decision, so YMMV.</p>\n\n<p>Long story short, for the time being I wrote a small dynamic object wrapper that unpacks the <code>JsonElement</code>s from System.Text.Json and tries to convert/cast as best as possible. The typical usage is to read the request body as a dynamic object. Again, I'm pretty sure this approach kills any speed gains, but that was not a concern for our use case.</p>\n\n<p>This is the class:</p>\n\n<pre><code>    public class ReflectionDynamicObject : DynamicObject {\n        public JsonElement RealObject { get; set; }\n\n        public override bool TryGetMember (GetMemberBinder binder, out object result) {\n            // Get the property value\n            var srcData = RealObject.GetProperty (binder.Name);\n\n            result = null;\n\n            switch (srcData.ValueKind) {\n                case JsonValueKind.Null:\n                    result = null;\n                    break;\n                case JsonValueKind.Number:\n                    result = srcData.GetDouble ();\n                    break;\n                case JsonValueKind.False:\n                    result = false;\n                    break;\n                case JsonValueKind.True:\n                    result = true;\n                    break;\n                case JsonValueKind.Undefined:\n                    result = null;\n                    break;\n                case JsonValueKind.String:\n                    result = srcData.GetString ();\n                    break;\n                case JsonValueKind.Object:\n                    result = new ReflectionDynamicObject {\n                        RealObject = srcData\n                    };\n                    break;\n                case JsonValueKind.Array:\n                    result = srcData.EnumerateArray ()\n                        .Select (o =&gt; new ReflectionDynamicObject { RealObject = o })\n                        .ToArray ();\n                    break;\n            }\n\n            // Always return true; other exceptions may have already been thrown if needed\n            return true;\n        }\n    }\n</code></pre>\n\n<p>and this is an example usage, to parse the request body - one part is in a base class for all my WebAPI controllers, that exposes the body as a dynamic object:</p>\n\n<pre><code>    [ApiController]\n    public class WebControllerBase : Controller {\n\n        // Other stuff - omitted\n\n        protected async Task&lt;dynamic&gt; JsonBody () {\n            var result = await JsonDocument.ParseAsync (Request.Body);\n            return new ReflectionDynamicObject {\n                RealObject = result.RootElement\n            };\n        }\n    }\n</code></pre>\n\n<p>and can be used in the actual controller like this:</p>\n\n<pre><code>//[...]\n    [HttpPost (\"\")]\n    public async Task&lt;ActionResult&gt; Post () {\n        var body = await JsonBody ();\n        var name = (string) body.Name;\n        //[...]\n    }\n//[...]\n</code></pre>\n\n<p>If needed, you can integrate parsing for GUIDs or other specific data types as needed - while we all wait for some official / framework-sanctioned solution.</p>\n"}, {"comments": [{"owner": {"reputation": 1711, "user_id": 151562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39ac81957d4a8dfb87391f97c41a2882?s=128&d=identicon&r=PG", "display_name": "Kuroro", "link": "https://stackoverflow.com/users/151562/kuroro"}, "edited": false, "score": 1, "creation_date": 1585721958, "post_id": 59224283, "comment_id": 107858027, "body": "<code>JsonSerializer.Deserialize&lt;ExpandoObject&gt;</code> doesn&#39;t help you to extract value from JsonValueKind and upgrading .Net Core 3.1 doesn&#39;t change the behaviour of System.Text.Json"}, {"owner": {"reputation": 384, "user_id": 2877167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76cfec751314dba0f9f423531d0a318?s=128&d=identicon&r=PG&f=1", "display_name": "Mightywill", "link": "https://stackoverflow.com/users/2877167/mightywill"}, "reply_to_user": {"reputation": 1711, "user_id": 151562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39ac81957d4a8dfb87391f97c41a2882?s=128&d=identicon&r=PG", "display_name": "Kuroro", "link": "https://stackoverflow.com/users/151562/kuroro"}, "edited": false, "score": 0, "creation_date": 1615972710, "post_id": 59224283, "comment_id": 117854678, "body": "@Kuroro You are not right, you can easily cast ExpandoObject to JsonElement and get everything"}, {"owner": {"reputation": 241, "user_id": 292380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/713ce00bddbc62af2873bfe53ee98b51?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Perez Burgues", "link": "https://stackoverflow.com/users/292380/rodrigo-perez-burgues"}, "edited": false, "score": 0, "creation_date": 1615998452, "post_id": 59224283, "comment_id": 117867409, "body": "It works for the first level properties but for sublevels doesn&#39;t work. It cast to {System.Text.Json.JsonElement}"}], "tags": [], "owner": {"reputation": 49, "user_id": 7204037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b65fa5708f76ba01e622959ef85f45a2?s=128&d=identicon&r=PG&f=1", "display_name": "ruson", "link": "https://stackoverflow.com/users/7204037/ruson"}, "is_accepted": false, "score": 0, "last_activity_date": 1575707511, "creation_date": 1575707511, "answer_id": 59224283, "question_id": 57700678, "link": "https://stackoverflow.com/questions/57700678/how-do-you-read-a-simple-value-out-of-some-json-using-system-text-json/59224283#59224283", "title": "How do you read a simple value out of some json using System.Text.Json?", "body": "<p>update to .NET Core 3.1 to support</p>\n\n<pre><code>public static dynamic FromJson(this string json, JsonSerializerOptions options = null)\n    {\n        if (string.IsNullOrEmpty(json))\n            return null;\n\n        try\n        {\n            return JsonSerializer.Deserialize&lt;ExpandoObject&gt;(json, options);\n        }\n        catch\n        {\n            return null;\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3211, "user_id": 2742398, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ad6a8512b7a76ef7db6d3274fce5cb7f?s=128&d=identicon&r=PG&f=1", "display_name": "bobah75", "link": "https://stackoverflow.com/users/2742398/bobah75"}, "is_accepted": false, "score": 1, "last_activity_date": 1606818638, "creation_date": 1606818638, "answer_id": 65088802, "question_id": 57700678, "link": "https://stackoverflow.com/questions/57700678/how-do-you-read-a-simple-value-out-of-some-json-using-system-text-json/65088802#65088802", "title": "How do you read a simple value out of some json using System.Text.Json?", "body": "<p>Actual way to parse string in System.Text.Json (.NET Core 3+)</p>\n<pre><code>        var jsonStr = &quot;{\\&quot;id\\&quot;:\\&quot;48e86841-f62c-42c9-ae20-b54ba8c35d6d\\&quot;}&quot;;\n        using var doc = JsonDocument.Parse(jsonStr);\n        var root = doc.RootElement;\n        var id = root.GetProperty(&quot;id&quot;).GetGuid();\n</code></pre>\n"}], "owner": {"reputation": 3676, "user_id": 862495, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/26bbb772e30d41a4fdfa5657f43012ba?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/862495/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19169, "favorite_count": 5, "accepted_answer_id": 57700761, "answer_count": 4, "score": 29, "last_activity_date": 1606818638, "creation_date": 1567030472, "last_edit_date": 1574832363, "question_id": 57700678, "link": "https://stackoverflow.com/questions/57700678/how-do-you-read-a-simple-value-out-of-some-json-using-system-text-json", "title": "How do you read a simple value out of some json using System.Text.Json?", "body": "<p>I have this json</p>\n\n<pre><code>{\"id\":\"48e86841-f62c-42c9-ae20-b54ba8c35d6d\"}\n</code></pre>\n\n<p>How do I get the <code>48e86841-f62c-42c9-ae20-b54ba8c35d6d</code> out of it? All examples I can find show to do something like</p>\n\n<pre><code>var o = System.Text.Json.JsonSerializer.Deserialize&lt;some-type&gt;(json);\no.id // &lt;- here's the ID!\n</code></pre>\n\n<p>But I don't have a type that fits this definition and I don't want to create one. I've tried deserializing to dynamic but I was unable to get that working.</p>\n\n<pre><code>var result = System.Text.Json.JsonSerializer.Deserialize&lt;dynamic&gt;(json);\nresult.id // &lt;-- An exception of type 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' occurred in System.Linq.Expressions.dll but was not handled in user code: ''System.Text.Json.JsonElement' does not contain a definition for 'id''\n</code></pre>\n\n<p>Can anyone give any suggestions?</p>\n\n<hr>\n\n<p>edit:</p>\n\n<p>I just figured out I can do this:</p>\n\n<pre><code>Guid id = System.Text.Json.JsonDocument.Parse(json).RootElement.GetProperty(\"id\").GetGuid();\n</code></pre>\n\n<p>This does work - but is there a better way?</p>\n"}, {"tags": ["c#", "winforms", "microsoft-metro"], "comments": [{"owner": {"reputation": 1510, "user_id": 5728157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6ed0956efcbacb4f24eb25437fdb856b?s=128&d=identicon&r=PG&f=1", "display_name": "andresantacruz", "link": "https://stackoverflow.com/users/5728157/andresantacruz"}, "edited": false, "score": 0, "creation_date": 1567030217, "post_id": 57700603, "comment_id": 101845168, "body": "Is it possible these buttons are being instantiated again when you change the tabs?"}, {"owner": {"reputation": 405, "user_id": 4830458, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dc026b82ce745c12e6dd32abf805f9d4?s=128&d=identicon&r=PG&f=1", "display_name": "dwb", "link": "https://stackoverflow.com/users/4830458/dwb"}, "reply_to_user": {"reputation": 1510, "user_id": 5728157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6ed0956efcbacb4f24eb25437fdb856b?s=128&d=identicon&r=PG&f=1", "display_name": "andresantacruz", "link": "https://stackoverflow.com/users/5728157/andresantacruz"}, "edited": false, "score": 0, "creation_date": 1567030777, "post_id": 57700603, "comment_id": 101845289, "body": "@dedecos thats what I am assuming is happening, but I have no idea why, or how"}, {"owner": {"reputation": 1510, "user_id": 5728157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6ed0956efcbacb4f24eb25437fdb856b?s=128&d=identicon&r=PG&f=1", "display_name": "andresantacruz", "link": "https://stackoverflow.com/users/5728157/andresantacruz"}, "edited": false, "score": 0, "creation_date": 1567030837, "post_id": 57700603, "comment_id": 101845304, "body": "Without further information it will be hard to help you."}, {"owner": {"reputation": 1510, "user_id": 5728157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6ed0956efcbacb4f24eb25437fdb856b?s=128&d=identicon&r=PG&f=1", "display_name": "andresantacruz", "link": "https://stackoverflow.com/users/5728157/andresantacruz"}, "edited": false, "score": 0, "creation_date": 1567030893, "post_id": 57700603, "comment_id": 101845314, "body": "You could try to set a data breakpoint on write of one of these buttons visible variable to get a possible code that is changing its value."}, {"owner": {"reputation": 405, "user_id": 4830458, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dc026b82ce745c12e6dd32abf805f9d4?s=128&d=identicon&r=PG&f=1", "display_name": "dwb", "link": "https://stackoverflow.com/users/4830458/dwb"}, "reply_to_user": {"reputation": 1510, "user_id": 5728157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6ed0956efcbacb4f24eb25437fdb856b?s=128&d=identicon&r=PG&f=1", "display_name": "andresantacruz", "link": "https://stackoverflow.com/users/5728157/andresantacruz"}, "edited": false, "score": 0, "creation_date": 1567031518, "post_id": 57700603, "comment_id": 101845439, "body": "@dedecos not sure what other information you require. I have no back-end code (other then the designer, that I have not touched by hand)"}, {"owner": {"reputation": 405, "user_id": 4830458, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dc026b82ce745c12e6dd32abf805f9d4?s=128&d=identicon&r=PG&f=1", "display_name": "dwb", "link": "https://stackoverflow.com/users/4830458/dwb"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1567032647, "post_id": 57700603, "comment_id": 101845675, "body": "@dbc I think I added what you are looking for. I have no other code then the designer at the moment, and that was all done using the toolbox (nothing touched within the designer code itself)"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1567036001, "post_id": 57700603, "comment_id": 101846284, "body": "I can&#39;t find many questions about your framework here.  There are some questions about <a href=\"https://thielj.github.io/MetroFramework\" rel=\"nofollow noreferrer\">thielj.github.io/MetroFramework</a>.  For more see <a href=\"https://stackoverflow.com/q/9939070\">Creating metro style winform in windows 7 using C#</a>."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1567036430, "post_id": 57700603, "comment_id": 101846371, "body": "Can you specify exactly what <a href=\"https://github.com/N-a-r-w-i-n/MetroSet-UI/tree/master/MetroSet%20UI/Controls\" rel=\"nofollow noreferrer\">controls</a> you are adding?  E.g. is <code>TabControl</code> actually <a href=\"https://github.com/N-a-r-w-i-n/MetroSet-UI/blob/master/MetroSet%20UI/Controls/MetroSetTabControl.cs\" rel=\"nofollow noreferrer\"><code>MetroSet_UI.Controls.MetroSetTabControl</code></a>?"}, {"owner": {"reputation": 405, "user_id": 4830458, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dc026b82ce745c12e6dd32abf805f9d4?s=128&d=identicon&r=PG&f=1", "display_name": "dwb", "link": "https://stackoverflow.com/users/4830458/dwb"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1567037372, "post_id": 57700603, "comment_id": 101846513, "body": "@dbc Ya that looks correct. The controls I am using are MetroSetButton, MetroSetTabControl and MetroSetForm (for the form style itself). As a current work-around, I just added a function to check everytime it changes tabs, what is should be set to. At this point, I just want to know why its acting silly."}], "owner": {"reputation": 405, "user_id": 4830458, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/dc026b82ce745c12e6dd32abf805f9d4?s=128&d=identicon&r=PG&f=1", "display_name": "dwb", "link": "https://stackoverflow.com/users/4830458/dwb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567102311, "creation_date": 1567029954, "last_edit_date": 1567099584, "question_id": 57700603, "link": "https://stackoverflow.com/questions/57700603/items-set-to-visible-false-are-being-shown-when-tabbing-inside-tabcontrol", "title": "Items set to Visible=false are being shown when tabbing inside TabControl", "body": "<p>So I am making a new project and I am using a theme for the first time (MetroSet). I currently have 30 buttons in a <code>MetroSetTabControl</code> tab all set to Visible=false. When I first launch the application, all is good. If I tab over to the 2nd tab, then go back to the first, all buttons are now shown. </p>\n\n<p>Any ideas why its doing this, or how to resolve?</p>\n\n<p>See GIF below</p>\n\n<p><a href=\"https://i.stack.imgur.com/SAxtN.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SAxtN.gif\" alt=\"GIF added to show what I am talking about\"></a></p>\n\n<p><strong>Theme Set Being used:</strong> <a href=\"https://github.com/N-a-r-w-i-n/MetroSet-UI\" rel=\"nofollow noreferrer\">https://github.com/N-a-r-w-i-n/MetroSet-UI</a></p>\n\n<p><strong>Steps to replicate:</strong> </p>\n\n<ol>\n<li><p>Create a new Windows Forms Application project in Visual Studio and install <a href=\"https://www.nuget.org/packages/MetroSet_UI/\" rel=\"nofollow noreferrer\">MetroSet_UI</a> via nuget:</p>\n\n<pre><code>Install-Package MetroSet_UI\n</code></pre></li>\n<li><p>Create a <a href=\"https://github.com/N-a-r-w-i-n/MetroSet-UI/blob/master/MetroSet%20UI/Forms/MetroSetForm.cs\" rel=\"nofollow noreferrer\"><code>MetroSetForm</code></a> and insert a <a href=\"https://github.com/N-a-r-w-i-n/MetroSet-UI/blob/master/MetroSet%20UI/Controls/MetroSetTabControl.cs\" rel=\"nofollow noreferrer\"><code>MetroSetTabControl</code></a> with 2 tabs</p></li>\n<li>Add 1 or more <a href=\"https://github.com/N-a-r-w-i-n/MetroSet-UI/blob/master/MetroSet%20UI/Controls/MetroSetButton.cs\" rel=\"nofollow noreferrer\"><code>MetroSetButton</code></a> to index 0 and set them all to <code>Visible=false</code>. </li>\n<li>Debug application starting on index 0</li>\n<li>Toggle to index 1 and back to 0</li>\n</ol>\n"}, {"tags": ["c#", "xaml", "binding", "caliburn.micro"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 10394087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/567544776ec24f358e98b71f26a67b73?s=128&d=identicon&r=PG", "display_name": "luigi", "link": "https://stackoverflow.com/users/10394087/luigi"}, "edited": false, "score": 0, "creation_date": 1567073230, "post_id": 57703580, "comment_id": 101857728, "body": "Hello Anu. Thank you for your help. Both of your examples worked. The reason I have itemTemplate is because I was following a tutorial and that&#39;s how they were doing it. I have a question for you though. Why does Text = &quot;{Binding}&quot; work. Aren&#39;t I supposed to tell it what property to bind to instead of leaving it blank?"}, {"owner": {"reputation": 15446, "user_id": 7299782, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nNfiq.png?s=128&g=1", "display_name": "Anu Viswan", "link": "https://stackoverflow.com/users/7299782/anu-viswan"}, "reply_to_user": {"reputation": 99, "user_id": 10394087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/567544776ec24f358e98b71f26a67b73?s=128&d=identicon&r=PG", "display_name": "luigi", "link": "https://stackoverflow.com/users/10394087/luigi"}, "edited": false, "score": 0, "creation_date": 1567083525, "post_id": 57703580, "comment_id": 101863594, "body": "@luigi In the case of &quot;{Binding}&quot;, the control(TextBlock) would inherit the DataContext from the parent element, which in this case is the ComboBox"}, {"owner": {"reputation": 99, "user_id": 10394087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/567544776ec24f358e98b71f26a67b73?s=128&d=identicon&r=PG", "display_name": "luigi", "link": "https://stackoverflow.com/users/10394087/luigi"}, "edited": false, "score": 0, "creation_date": 1567108598, "post_id": 57703580, "comment_id": 101875670, "body": "Got it. Thank you for your help it is greatly appreciated"}], "tags": [], "owner": {"reputation": 15446, "user_id": 7299782, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nNfiq.png?s=128&g=1", "display_name": "Anu Viswan", "link": "https://stackoverflow.com/users/7299782/anu-viswan"}, "is_accepted": true, "score": 1, "last_activity_date": 1567058060, "last_edit_date": 1567058060, "creation_date": 1567056875, "answer_id": 57703580, "question_id": 57700592, "link": "https://stackoverflow.com/questions/57700592/how-to-show-contents-of-liststring-in-combobox-using-caliburn-micro/57703580#57703580", "title": "How to show contents of List&lt;string&gt; in ComboBox using Caliburn.micro?", "body": "<p>The problem lies in the following line. </p>\n\n<pre><code>&lt;TextBlock Text=\"{Binding LanguageOptions}\" /&gt;\n</code></pre>\n\n<p>The property <code>Language</code> is  <code>BindableCollection</code> of <code>string</code>. It doesn't have a sub-property called <code>LanguageOptions</code>.</p>\n\n<p>You could instead use the following</p>\n\n<pre><code>&lt;ComboBox ItemsSource=\"{Binding Language}\"&gt;\n        &lt;ComboBox.ItemTemplate&gt;\n            &lt;DataTemplate&gt;\n                &lt;TextBlock Text=\"{Binding}\" /&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/ComboBox.ItemTemplate&gt;\n&lt;/ComboBox&gt;\n</code></pre>\n\n<p>Or to make it even more simpler, you could avoid the ItemTemplate. For example,</p>\n\n<pre><code>&lt;ComboBox ItemsSource=\"{Binding Language}\"/&gt;\n</code></pre>\n\n<p>That would help you fix the Combo Box.</p>\n"}], "owner": {"reputation": 99, "user_id": 10394087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/567544776ec24f358e98b71f26a67b73?s=128&d=identicon&r=PG", "display_name": "luigi", "link": "https://stackoverflow.com/users/10394087/luigi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 57703580, "answer_count": 1, "score": 0, "last_activity_date": 1567058060, "creation_date": 1567029906, "question_id": 57700592, "link": "https://stackoverflow.com/questions/57700592/how-to-show-contents-of-liststring-in-combobox-using-caliburn-micro", "title": "How to show contents of List&lt;string&gt; in ComboBox using Caliburn.micro?", "body": "<p>I'm having trouble simply showing the contents of my List in the ComboBox using Caliburn.micros BindableCollection. I get three blank options, but when I chose one of them I get the correct value back so I know it's working. Obviously I would also like to see what it is I'm choosing.</p>\n\n<p>I've tried creating a local string and having it = myList[i] in a for loop. I've even created a random string and tried binding it to my TextBlock using the same naming convention, but I just can't get it to work. I won't add that here since it doesn't work. Hopefully one of you can nudge me in the right direction. I'm new to Caliburn, MVVM, binding, etc....</p>\n\n<pre><code>    public List&lt;string&gt; languages = new List&lt;string&gt; {\"ENGLISH\", \"SPANISH\", \"CHINESE\"};\n\n    public BindableCollection&lt;string&gt; Language { get; set; }\n\n    public SettingsViewModel()\n    {\n        Language = new BindableCollection&lt;string&gt;();\n\n        for (int i = 0; i &lt; languages.Count; i++)\n        {\n            Language.Add(languages[i]);\n        }\n    }\n</code></pre>\n\n<p>//XAML Code\\</p>\n\n<pre><code>            &lt;ComboBox ItemsSource=\"{Binding Language}\"&gt;\n                &lt;ComboBox.ItemTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;TextBlock Text=\"{Binding LanguageOptions}\" /&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/ComboBox.ItemTemplate&gt;\n            &lt;/ComboBox&gt;\n</code></pre>\n"}, {"tags": ["c#", ".net", "wcf", "cookies"], "comments": [{"owner": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1567034319, "post_id": 57700485, "comment_id": 101845988, "body": "I think it would help if you could explain what your goal is here. I can&#39;t understand why you need this to work the way you have described."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1567048355, "post_id": 57700485, "comment_id": 101848392, "body": "@howcheng, the way I&#39;ve described is the way the microsoft documentations  describes it.  The underlying framework relies on the new cookie being in the request and not the expired one"}, {"owner": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "edited": false, "score": 0, "creation_date": 1567089754, "post_id": 57700485, "comment_id": 101867485, "body": "Are you sure that the HttpContext is the right place to set those cookies for WCF calls? I always tend to use the OperationContext for that, as shown here: <a href=\"https://stackoverflow.com/a/20968135/578411\">stackoverflow.com/a/20968135/578411</a> but depending on where you run your code that might not be possible."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "edited": false, "score": 0, "creation_date": 1567090070, "post_id": 57700485, "comment_id": 101867680, "body": "@rene We set the cookies on the http context and we have a custom behavior in web-api which consumes wcf services, in our web-api side we set a header in wcf request from the HttpContext."}, {"owner": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "edited": false, "score": 0, "creation_date": 1567090529, "post_id": 57700485, "comment_id": 101867931, "body": "Hmm, okay. I&#39;ve not digged deep enough but there is <i>some</i> logic that literally keeps the two collections in sync but it doesn&#39;t look like it does that in a thread safe manner. Can you check what happens if you re-add the property you watch that appears out of sync? The collections are synchronized when you get actual cookiecollection. I would expect them to be in sync after you re-added that property."}, {"owner": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1567118728, "post_id": 57700485, "comment_id": 101878670, "body": "My thought is that in the pipeline, the code is hitting a place where authentication is required. Since you&#39;ve deleted the cookie with the auth ticket, you get a new one created in its place."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "edited": false, "score": 0, "creation_date": 1567124470, "post_id": 57700485, "comment_id": 101879761, "body": "@rene, when the request comes in all the cookies are fine.  When I walk the code, The cookies change at some random statement.  Depending on what controller method I call, the statement changes.  This makes me believe that its a threading issue.  But this also doesn&#39;t make sense to me because I don&#39;t spawn any additional threads."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 1597, "user_id": 634914, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Zpnoa.png?s=128&g=1", "display_name": "howcheng", "link": "https://stackoverflow.com/users/634914/howcheng"}, "edited": false, "score": 0, "creation_date": 1567124655, "post_id": 57700485, "comment_id": 101879794, "body": "@howcheng, yeah I&#39;ve walked the full code, nothing seems to be adding it from my code, maybe its underlying in the .net-framework but its unclear how"}, {"owner": {"reputation": 37744, "user_id": 578411, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/qj33e.png?s=128&g=1", "display_name": "rene", "link": "https://stackoverflow.com/users/578411/rene"}, "edited": false, "score": 0, "creation_date": 1567143825, "post_id": 57700485, "comment_id": 101883042, "body": "You&#39;re guaranteed to stay on the same thread just before the Response is going to be rendered to the client. The framework might pick a new thread to process the Response, or use the same thread."}], "owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569523533, "creation_date": 1567029144, "last_edit_date": 1569523533, "question_id": 57700485, "link": "https://stackoverflow.com/questions/57700485/cookies-are-duplicated-from-values-which-dont-exist", "title": "Cookies are duplicated from values which don&#39;t exist", "body": "<p><strong>EDIT Since debugging updates</strong></p>\n\n<p>According to the .net <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.httpresponse.cookies?redirectedfrom=MSDN&amp;view=netframework-4.5.2#System_Web_HttpResponse_Cookies\" rel=\"nofollow noreferrer\">cookie documentation</a>:</p>\n\n<blockquote>\n  <p>After you add a cookie by using the HttpResponse.Cookies collection, the cookie is immediately available in the HttpRequest.Cookies collection, even if the response has not been sent to the client.</p>\n</blockquote>\n\n<p>My original observation were that my cookies appeared to be out of sync.  After Receiving IUserIdentity, I would set an authentication cookie like so:</p>\n\n<pre><code>HttpContext.Current.Response\n    .RemoveCookie(FormsAuthentication.FormsCookieName);  \n\nHttpContext.Current.Request\n    .RemoveCookie(FormsAuthentication.FormsCookieName);\n\nvar authCookie = FormsAuthenticationExtensions.GetPersistentAuthCookie(\n                FormsAuthentication.FormsCookieName, FormsAuthentication.Encrypt(ticket), ticket.Expiration)\nHttpContext.Current.Response.Cookies.Set(authCookie);\n</code></pre>\n\n<p>First I noticed that to values for the cookies we're not the same, after inspecting the same cookie in the watch window I noticed the value for the same cookie wasn't even the same:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xOsFa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xOsFa.png\" alt=\"enter image description here\"></a> </p>\n\n<p>I walked the code, and noticed that a duplicate cookie value was being set during a statement which didn't execute code.  (e.g when <strong>stepping into</strong> an unrelated function the cookie now the duplicate cookie appeared in the Request and Response Cookies)</p>\n\n<p>I proceeded to update all references to the cookie name in the code to help help verify what could be causing this (VM-AT-89001) => (VM-PAT-89001):</p>\n\n<pre><code>&lt;authentication mode=\"Forms\"&gt;\n  &lt;forms cookieless=\"UseUri\" name=\"VM-PAT-89001\" requireSSL=\"true\" slidingExpiration=\"true\" timeout=\"1\" /&gt;\n&lt;/authentication&gt;\n</code></pre>\n\n<p>I cleared all existing cookies,  deleted the Temporary ASP.NET Files</p>\n\n<blockquote>\n  <p>C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\Temporary ASP.NET Files\n  C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files</p>\n</blockquote>\n\n<p>Did an IISReset and Reset my computer.  When walking the code again, still the <strong>OLD</strong> cookie name was being added to the request and response.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yahf9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yahf9.png\" alt=\"enter image description here\"></a></p>\n\n<p>The configurations of the cookies are different but they have the same expiration date. e.g only 1 is HTTP Only.  </p>\n\n<p><strong>NOTE</strong> I've search the entire organization code base in github and there is no reference in the code to the Old Token.</p>\n\n<p>They fact that this behavior happens at different points in the code depending on which controller method I call, makes me think that this is happening on a seperate thread.</p>\n\n<p>Since there is no reference to the Cookie name it makes me think IIS is modifying the cookie, but this is even more perplexing because I didn't think IIS had access to the HttpContext.Current, because I can see the cookie while still debugging and not After.</p>\n\n<p>How can a cookie be added to a response, when there is no reference to the cookie name in the code, and it occurs during an No-Op statement in debugger?</p>\n\n<p><strong>EDIT</strong>\nI've removed all filters and modules from the application (Except for adding default json formatters), and I navigate to a page that doesn't exist, and still the old token is added to the request</p>\n\n<p>How can this occur?</p>\n"}, {"tags": ["c#", "ios", "asp.net"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1567028748, "post_id": 57700370, "comment_id": 101844812, "body": "iOS 12 doesn&#39;t &#39;do&#39; downloading to the file system like a PC does. What kind of file is it? What were you expecting to happen?"}, {"owner": {"reputation": 427, "user_id": 1405015, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/56ab531069882dc8a2af88ddeb422ec8?s=128&d=identicon&r=PG", "display_name": "jazz b", "link": "https://stackoverflow.com/users/1405015/jazz-b"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1567054385, "post_id": 57700370, "comment_id": 101849534, "body": "I want to display the file to the user on the click of the button be or allow them to save it if the want or just save the file directly so they can open it later. Is there any way to do this"}, {"owner": {"reputation": 427, "user_id": 1405015, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/56ab531069882dc8a2af88ddeb422ec8?s=128&d=identicon&r=PG", "display_name": "jazz b", "link": "https://stackoverflow.com/users/1405015/jazz-b"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1567054703, "post_id": 57700370, "comment_id": 101849608, "body": "files can be different types like images, pdf, word and excel files. when I click the button file opened like the image it is open but once it is open I am not able to find a way to close and move back to the button page"}, {"owner": {"reputation": 427, "user_id": 1405015, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/56ab531069882dc8a2af88ddeb422ec8?s=128&d=identicon&r=PG", "display_name": "jazz b", "link": "https://stackoverflow.com/users/1405015/jazz-b"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1567091736, "post_id": 57700370, "comment_id": 101868608, "body": "I make it work by opening image in a new tab it is not a proper solution but it is a workaround for now."}], "owner": {"reputation": 427, "user_id": 1405015, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/56ab531069882dc8a2af88ddeb422ec8?s=128&d=identicon&r=PG", "display_name": "jazz b", "link": "https://stackoverflow.com/users/1405015/jazz-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567029125, "creation_date": 1567028299, "last_edit_date": 1567029125, "question_id": 57700370, "link": "https://stackoverflow.com/questions/57700370/file-download-in-ipad-in-web-application-asp-net", "title": "file download in ipad in web application asp.net", "body": "<p>I am downloading a file on button click in a web application using the code below but when I open my web app in iPad and click the download button the file opens up in the browser and I have no option to close it or do anything unless I press the back button, which takes me one step back in application.</p>\n\n<p>Can you please help me out with this issue.</p>\n\n<pre><code>protected void btnDownload_Click(object sender, EventArgs e)\n    {\n        LinkButton btnDownload = (LinkButton)sender;\n        int file_id = Convert.ToInt32(btnDownload.Attributes[\"data-file-id\"].ToString());\n        AMformData = new Active_MonitorFormData();\n        DataTable file = AMformData.getEvidenceFileById(file_id);\n        if (file.Rows.Count &gt; 0)\n        {\n            string filename = file.Rows[0][\"file_name\"].ToString().Replace(' ', '_');\n            byte[] fileContent = file.Rows[0][\"file_content\"] as byte[];\n            //HttpContext.Current.Response.Clear();\n            HttpContext.Current.Response.ContentType = file.Rows[0][\"file_content_type\"].ToString();\n            HttpContext.Current.Response.AppendHeader(\"Content-disposition\", \"attachment;filename=\" + filename + \"\");\n            HttpContext.Current.Response.BufferOutput = true;\n            HttpContext.Current.Response.AddHeader(\"Content-Length\", fileContent.Length.ToString());\n            HttpContext.Current.Response.BinaryWrite(fileContent);\n\n            HttpContext.Current.Response.Flush();\n            HttpContext.Current.Response.Close();\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["c#", "unit-testing", "mstest", "xunit", "xunit.net"], "comments": [{"owner": {"reputation": 52804, "user_id": 419956, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ab00b6c461dcf852df10c077a0a2b4eb?s=128&d=identicon&r=PG", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/419956/jeroen"}, "edited": false, "score": 0, "creation_date": 1567540439, "post_id": 57700368, "comment_id": 101990875, "body": "You&#39;ve tagged <code>xunit.net</code> but isn&#39;t <code>[TestMethod]</code> from <i>Microsoft&#39;s</i> testing framework? I think xUnit has <code>[Fact]</code> attributes? - The specific testing framework is probably crucially important to what implementations are possible."}, {"owner": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "reply_to_user": {"reputation": 52804, "user_id": 419956, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ab00b6c461dcf852df10c077a0a2b4eb?s=128&d=identicon&r=PG", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/419956/jeroen"}, "edited": false, "score": 0, "creation_date": 1567544120, "post_id": 57700368, "comment_id": 101992152, "body": "@Jeroen Yes, that&#39;s right. I hoped to be able to use xUnit, but I am open for both."}, {"owner": {"reputation": 4235, "user_id": 283787, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f0506cfe093ecc1c02e798a8224d4477?s=128&d=identicon&r=PG", "display_name": "openshac", "link": "https://stackoverflow.com/users/283787/openshac"}, "edited": false, "score": 1, "creation_date": 1567767245, "post_id": 57700368, "comment_id": 102071429, "body": "&quot;A test is not a unit test if it touches the file system&quot; <a href=\"https://www.artima.com/weblogs/viewpost.jsp?thread=126923\" rel=\"nofollow noreferrer\">artima.com/weblogs/viewpost.jsp?thread=126923</a> You could however easily mock the file system with <a href=\"https://github.com/System-IO-Abstractions/System.IO.Abstractions\" rel=\"nofollow noreferrer\">github.com/System-IO-Abstractions/System.IO.Abstractions</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11523568"}, "edited": false, "score": 0, "creation_date": 1567931531, "post_id": 57700368, "comment_id": 102108629, "body": "Why don&#39;t you generate the unit test code with T4 templates? All the file probing and parsing magic would be in the generator, the unit tests end up clean and simple."}, {"owner": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567936462, "post_id": 57700368, "comment_id": 102109541, "body": "@dfhwze I hadn&#39;t heard about it. I will look into it."}], "answers": [{"comments": [{"owner": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567523814, "post_id": 57763105, "comment_id": 101984309, "body": "Thank you. There is an important requirement, though, which I did not specify: Each file should only be parsed once, not once per test. Sorry about this."}, {"owner": {"reputation": 3116, "user_id": 7313094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UyOau.jpg?s=128&g=1", "display_name": "Yegor Androsov", "link": "https://stackoverflow.com/users/7313094/yegor-androsov"}, "reply_to_user": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567547335, "post_id": 57763105, "comment_id": 101993113, "body": "@Aae unit tests should be executed over and over by definition as the code base changes, why can&#39;t you parse all of your files once. You don&#39;t need tests for that"}, {"owner": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "reply_to_user": {"reputation": 3116, "user_id": 7313094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UyOau.jpg?s=128&g=1", "display_name": "Yegor Androsov", "link": "https://stackoverflow.com/users/7313094/yegor-androsov"}, "edited": false, "score": 0, "creation_date": 1567588888, "post_id": 57763105, "comment_id": 102004139, "body": "@pwrigshihanomoronimo I am not sure what you mean. Could you please elaborate? The ParseFile method is subject to change."}, {"owner": {"reputation": 3116, "user_id": 7313094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UyOau.jpg?s=128&g=1", "display_name": "Yegor Androsov", "link": "https://stackoverflow.com/users/7313094/yegor-androsov"}, "edited": false, "score": 0, "creation_date": 1567591326, "post_id": 57763105, "comment_id": 102005577, "body": "sorry, it was late night when I was posting this  statement, did not understand your original question. I see now that what you want is class initialize parameters, but I dont think there is something like this. I guess your code is only common way to achieve this"}, {"owner": {"reputation": 3116, "user_id": 7313094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UyOau.jpg?s=128&g=1", "display_name": "Yegor Androsov", "link": "https://stackoverflow.com/users/7313094/yegor-androsov"}, "reply_to_user": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567591515, "post_id": 57763105, "comment_id": 102005671, "body": "@Aae however, you can still use inheritance in test classes, e.g. your base test will have Output1 and Output2 methods and constructor with file name string."}, {"owner": {"reputation": 1211, "user_id": 2010157, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/caaff35d053baa8d215e8d9903cb51a2?s=128&d=identicon&r=PG", "display_name": "sa.he", "link": "https://stackoverflow.com/users/2010157/sa-he"}, "reply_to_user": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567601856, "post_id": 57763105, "comment_id": 102011032, "body": "@Aae can you not combine this answer&#39;s essence (using DataRowAttribute) with the approach in your question and use [ClassInitialize]?"}, {"owner": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "reply_to_user": {"reputation": 1211, "user_id": 2010157, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/caaff35d053baa8d215e8d9903cb51a2?s=128&d=identicon&r=PG", "display_name": "sa.he", "link": "https://stackoverflow.com/users/2010157/sa-he"}, "edited": false, "score": 0, "creation_date": 1567715528, "post_id": 57763105, "comment_id": 102056572, "body": "@sa.he I guess I will have to repeat the DataRow lines for each output? So it doesn&#39;t really quite work."}, {"owner": {"reputation": 1211, "user_id": 2010157, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/caaff35d053baa8d215e8d9903cb51a2?s=128&d=identicon&r=PG", "display_name": "sa.he", "link": "https://stackoverflow.com/users/2010157/sa-he"}, "reply_to_user": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567746849, "post_id": 57763105, "comment_id": 102062935, "body": "@Aae, you are right. Every line of [DataRow] results in a separat unit test in your test window. xUnit has the same idea but calls it [Theory] and [InlineData]. AFAIK this is the closest you can get."}, {"owner": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "reply_to_user": {"reputation": 1211, "user_id": 2010157, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/caaff35d053baa8d215e8d9903cb51a2?s=128&d=identicon&r=PG", "display_name": "sa.he", "link": "https://stackoverflow.com/users/2010157/sa-he"}, "edited": false, "score": 0, "creation_date": 1567756007, "post_id": 57763105, "comment_id": 102066192, "body": "@sa.he Wouldn&#39;t an external file solve that? But to combine this approach with mine, do I have to store the results of all file parsings? I cannot parsed one file at a time? That will be a problem if I want to run just a few of the tests."}, {"owner": {"reputation": 1211, "user_id": 2010157, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/caaff35d053baa8d215e8d9903cb51a2?s=128&d=identicon&r=PG", "display_name": "sa.he", "link": "https://stackoverflow.com/users/2010157/sa-he"}, "reply_to_user": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567758094, "post_id": 57763105, "comment_id": 102067065, "body": "@Aae Using an external configuration file for your test is unusual but possible. But does not lead to individual tests in the test window (which I understood to be the main reason of your question)."}], "tags": [], "owner": {"reputation": 166, "user_id": 2667818, "user_type": "registered", "profile_image": "https://graph.facebook.com/25404732/picture?type=large", "display_name": "James Pusateri", "link": "https://stackoverflow.com/users/2667818/james-pusateri"}, "is_accepted": false, "score": 6, "last_activity_date": 1567462200, "creation_date": 1567462200, "answer_id": 57763105, "question_id": 57700368, "link": "https://stackoverflow.com/questions/57700368/individual-unit-tests-for-each-output-of-a-method/57763105#57763105", "title": "Individual unit tests for each output of a method", "body": "<p>You may actually be able to simplify this so that new tests on that library wouldn't necessarily require a code change to the test library itself.</p>\n\n<p>MS documentation for data driven unit tests can be found <a href=\"https://docs.microsoft.com/en-us/visualstudio/test/unit-test-basics?view=vs-2019\" rel=\"noreferrer\">here</a>.</p>\n\n<p>I have seen people use something like that with a csv file, then when a new test is needed, they simply add a row to the csv file.</p>\n\n<p>Alternatively, I'd personally like the DataRow feature available in MSTest.\nExample MS Doc can be found <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.visualstudio.testtools.unittesting.datarowattribute?view=mstest-net-1.3.2\" rel=\"noreferrer\">here</a>. I prefer this option, though a new test case does require a new line of code.</p>\n\n<p>It should reduce the amount of code overall. Something a bit like this.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[TestClass]\npublic class FileClass\n{\n    [TestMethod]\n    [DataRow(\"somefile\", 3, 345, 333)]\n    [DataRow(\"anotherfile\", 4, 291, 330)]\n    public void Output1IsValid(string fileName, int parameter, int resultX, int resultY) \n    { \n        var fileParseResult = FileParser.ParseFile(fileName);\n        Assert.AreEqual(fileParseResult.Item1, resultX);         \n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567715298, "post_id": 57786258, "comment_id": 102056491, "body": "Thanks. However, this still requires writing individual test classes for each file, so it doesn&#39;t really take me to the goal."}], "tags": [], "owner": {"reputation": 3116, "user_id": 7313094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UyOau.jpg?s=128&g=1", "display_name": "Yegor Androsov", "link": "https://stackoverflow.com/users/7313094/yegor-androsov"}, "is_accepted": false, "score": -1, "last_activity_date": 1567591961, "creation_date": 1567591961, "answer_id": 57786258, "question_id": 57700368, "link": "https://stackoverflow.com/questions/57700368/individual-unit-tests-for-each-output-of-a-method/57786258#57786258", "title": "Individual unit tests for each output of a method", "body": "<p>Since your Output1 and Output2 methods are quite similar, you can use inheritance approach. Then you can apply test parameter insertion, if required</p>\n\n<pre><code>public class BaseTest\n{\n    private readonly string fileName;\n\n    public BaseTest(string fileName)\n    {\n        this.fileName = fileName;\n    }\n\n    [ClassInitialize]\n    public void Initialize()\n    {\n        // do your work with fileName\n    }\n\n    [TestCase]\n    public void TestOutput1()\n    {\n        // test body\n    }\n\n    [TestCase]\n    public void TestOutput2()\n    {\n        // test body\n    }\n}\n\n[TestClass]\npublic class TestFile1 : BaseTest\n{\n    public TestFile1() : base(\"file1\")\n    {\n    }\n}\n\n[TestClass]\npublic class TestFile2 : BaseTest\n{\n    public TestFile2() : base(\"file2\")\n    {\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567714903, "post_id": 57796785, "comment_id": 102056344, "body": "If the tests can be written once and for all, I don&#39;t have a problem with having to check that they are working properly. The important part here is to be able to add new test data with as little work as possible."}], "tags": [], "owner": {"reputation": 746, "user_id": 4016498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QxB14.jpg?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/4016498/andreas"}, "is_accepted": false, "score": 0, "last_activity_date": 1567640579, "creation_date": 1567640579, "answer_id": 57796785, "question_id": 57700368, "link": "https://stackoverflow.com/questions/57700368/individual-unit-tests-for-each-output-of-a-method/57796785#57796785", "title": "Individual unit tests for each output of a method", "body": "<p>Well there is a way to make this possible with less code, following @pwrigshihanomoronimos approach. But then you will most likely need unit tests to make sure, the tests are working properly, so I would advice against it.</p>\n\n<p>I know, writing such tests can be very tedious, but with unit tests there is one rule above all. </p>\n\n<blockquote>\n  <p><strong>Keep them as simple as possibly possible.</strong> </p>\n</blockquote>\n\n<p>Just use the bare minimum of complexity, which is absolutely necessary to make the test possible at all.</p>\n\n<blockquote>\n  <p>The less complex, the less error prone.</p>\n</blockquote>\n\n<p>Better to have a separate file, with all the parameters and outputs to compare against and to read it up front.</p>\n"}, {"comments": [{"owner": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567716746, "post_id": 57805689, "comment_id": 102056994, "body": "This looks interesting. I need one test per output, if that&#39;s what you mean I don&#39;t get with this approach under MSTest or xUnit. I think, however, that the lack of Visual Studio integration prevents me from going with Nuclear.Test."}, {"owner": {"reputation": 617, "user_id": 9595496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zpsxC.gif?s=128&g=1", "display_name": "MikeLimaSierra", "link": "https://stackoverflow.com/users/9595496/mikelimasierra"}, "reply_to_user": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567718516, "post_id": 57805689, "comment_id": 102057548, "body": "if you don&#39;t care much about oapt (which i think in this case may be alright to ignore) then just go with this approach using xunit. It will give you the same flexibility of having one line of code per test case added while not being such a pain to implement. it&#39;ll be 3 asserts and you&#39;ll only have to parse each file once."}], "tags": [], "owner": {"reputation": 617, "user_id": 9595496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zpsxC.gif?s=128&g=1", "display_name": "MikeLimaSierra", "link": "https://stackoverflow.com/users/9595496/mikelimasierra"}, "is_accepted": false, "score": 2, "last_activity_date": 1610363141, "last_edit_date": 1610363141, "creation_date": 1567687093, "answer_id": 57805689, "question_id": 57700368, "link": "https://stackoverflow.com/questions/57700368/individual-unit-tests-for-each-output-of-a-method/57805689#57805689", "title": "Individual unit tests for each output of a method", "body": "<p>In case you're open to more than MSTest or xUnit, you can checkout <a href=\"https://mikelimasierra.net/index.php/software-projects/nuclear-test-platform/\" rel=\"nofollow noreferrer\">Nuclear.Test</a>.</p>\n<p>Create a data driven test method that takes care of parsing <em>and</em> checking both result items at once.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>[TestMethod]\n[TestParamters(&quot;someFile&quot;, 3, (345, 333))]\n[TestParamters(&quot;anotherfile&quot;, 4, (291, 330))]\n[TestParamters(&quot;thirdfile&quot;, 4, (348, 312))]\nvoid TestFile(String someFile, Int32 parameter, (Int32, Int32) expected) {\n\n    (Int32, Int32) result = null;\n    \n    Test.Note(&quot;Parsing '&quot; + someFile + &quot;'&quot;);\n    Test.IfNot.Action.ThrowsException(() =&gt; FileParser.Init(parameter), out Exception ex);\n    Test.IfNot.Action.ThrowsException(() =&gt; result = FileParser.ParseFile(someFile), out ex);\n    Test.IfNot.Object.IsNull(result);\n    \n    Test.Note(&quot;Checking results for '&quot; + someFile + &quot;'&quot;);\n    Test.If.Value.IsEqual(result.Item1, expected.Item1);\n    Test.If.Value.IsEqual(result.Item2, expected.Item2);\n    \n}\n</code></pre>\n<p>More information on writing data driven tests with Nuclear.Test can be found <a href=\"https://mikelimasierra.net/index.php/software-projects/nuclear-test-platform/guide-extending-the-framework/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Please note that this requires at least .NETStandard 2.0 at the moment.\nI do realize that you may not be open to a different unit testing platform, however since you did say you're open to either MSTest or xUnit i guess you haven't quite decided yet.</p>\n<p>This approach also works with MSTest and xUnit, however this would break <a href=\"http://randycoulman.com/blog/2014/06/17/one-assertion-per-test/\" rel=\"nofollow noreferrer\">OAPT</a> in these scenarios whereas Nuclear.Test is immune to those restrictions.</p>\n<p>Please note that i wasn't able to test this code since i'm writing from my phone. There may be typos or a bug in there.</p>\n<p><strong>UPDATE:</strong></p>\n<p>this will be a legit approach using MSTest:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>[TestMethod]\n[DataRow(&quot;someFile&quot;, 3, (345, 333))]\n[DataRow(&quot;anotherfile&quot;, 4, (291, 330))]\n[DataRow(&quot;thirdfile&quot;, 4, (348, 312))]\npublic void TestFileParser(String fileName, Int32 parameter, (Int32, Int32) expected) {\n\n    FileParser.Init(parameter);\n    var result = FileParser.ParseFile(fileName);\n    Assert.AreEqual(result, expected);\n\n}\n</code></pre>\n<p>Turns out ValueTuple implements IComparable&lt;(T1, T2)&gt; and can be compared in one assert.</p>\n"}, {"comments": [{"owner": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567784603, "post_id": 57822574, "comment_id": 102080214, "body": "Thank you. I will take a better look at this as soon as I have access to Visual Studio. I have two questions, though. Where is <code>anotherfile</code> parsed in this code? And when you say that reading a configuration file is not an option, do you mean that it is not advisable to <a href=\"https://github.com/ObjectivityLtd/Ocaramba/wiki/MsTest-DataDriven-tests-from-Xml-and-CSV-files\" rel=\"nofollow noreferrer\">read the test data from a CSV file</a>?"}, {"owner": {"reputation": 1211, "user_id": 2010157, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/caaff35d053baa8d215e8d9903cb51a2?s=128&d=identicon&r=PG", "display_name": "sa.he", "link": "https://stackoverflow.com/users/2010157/sa-he"}, "reply_to_user": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567794740, "post_id": 57822574, "comment_id": 102084243, "body": "A configuration file is possible but not advisable IMHO. &#39;anotherfile&#39; can be added by duplicating the Lazy&lt;T&gt; variable or using a List or Dictionary."}, {"owner": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567860698, "post_id": 57822574, "comment_id": 102096442, "body": "The goal here is to be able to add new tests by adding just one line with test data to the code or, maybe preferably, to an external file. Is that achievable with this approach?"}, {"owner": {"reputation": 1211, "user_id": 2010157, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/caaff35d053baa8d215e8d9903cb51a2?s=128&d=identicon&r=PG", "display_name": "sa.he", "link": "https://stackoverflow.com/users/2010157/sa-he"}, "reply_to_user": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "edited": false, "score": 0, "creation_date": 1567967746, "post_id": 57822574, "comment_id": 102116609, "body": "Sorry, I&#39;m repeating myself. A new code line of <code>[DataRow(&quot;some-third-file&quot;, 1, 2, 3)]</code> adds a new test. IMHO unit tests should be a matter of coding, not a matter of configuration. When coding you have compiler checks, IntelliSense refactoring tools etc. When writing a configuration file you have none of this."}], "tags": [], "owner": {"reputation": 1211, "user_id": 2010157, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/caaff35d053baa8d215e8d9903cb51a2?s=128&d=identicon&r=PG", "display_name": "sa.he", "link": "https://stackoverflow.com/users/2010157/sa-he"}, "is_accepted": false, "score": 0, "last_activity_date": 1567794531, "last_edit_date": 1567794531, "creation_date": 1567774930, "answer_id": 57822574, "question_id": 57700368, "link": "https://stackoverflow.com/questions/57700368/individual-unit-tests-for-each-output-of-a-method/57822574#57822574", "title": "Individual unit tests for each output of a method", "body": "<p>I agree with @Andreas to keep a unit test simple. Therefore reading a configuration file (a file that configures what the unit test does) would not be advisable. The following sample code extends @James Pusateri good answer by ensuring that evey file is read just once.</p>\n\n<pre><code>    [TestClass]\n    public class UnitTest1\n    {\n        // Use a static Lazy&lt;T&gt; instance to read your file just once. \n        // Replace &lt;object&gt; with your type. \n        // Use multiple of these Lazy variables by using a Dictionary&lt;string, Lazy&lt;YourResultType&gt;&gt;\n        private static Lazy&lt;object&gt; fileParseResult = new Lazy&lt;object&gt;(() =&gt; FileParser.ParseFile(\"somefile\"));\n\n        [ClassCleanup]\n        public static void ClassCleanup()\n        {\n            // in case you need to clean up something, do it here\n            // fileParseResult.Value.Dispose() if applicable\n            fileParseResult = null;\n        }\n\n        [TestMethod]\n        [DataRow(\"somefile\", 3, 345, 333)]\n        [DataRow(\"anotherfile\", 4, 291, 330)]\n        // add additional DataRow-lines here as required\n        public void OutputIsValid(string fileName, int parameter, int resultX, int resultY)\n        {\n            // make sure to only read 'fileParseResult.Value' and not change it.\n            Assert.AreEqual(fileParseResult.Value, fileName);\n        }\n\n        // dummy implementation for testing this code. Use your implemenation instead.\n        private class FileParser\n        {\n            internal static object ParseFile(string v) =&gt; v;\n        }\n    }\n</code></pre>\n\n<p><strong>MSTest</strong> This is a nice cheat-sheet <a href=\"https://www.automatetheplanet.com/mstest-cheat-sheet/\" rel=\"nofollow noreferrer\">https://www.automatetheplanet.com/mstest-cheat-sheet/</a></p>\n\n<p><strong>xUnit</strong> has a similar approach but uses different attributes <code>[Theory]</code> and <code>[InlineData]</code>. Also xUnit has more sophisticated (and complex) possibilities of context sharing <a href=\"https://xunit.net/docs/shared-context\" rel=\"nofollow noreferrer\">https://xunit.net/docs/shared-context</a>. Up to now, I've always managed to simplify the test scenarios in a way that these advanced context sharing features were not required. </p>\n\n<p><strong>Experience and personal opinion</strong> Actually, I do not use any context sharing for unit tests. The reason is refactoring. Consider the need to add another test method which requires a slightly different shared context. So you'd go ahead and change the shared context and unintendenly break a number of existing tests. Also I avoid reading any files inside unit tests, but rather use mocks that return a predefined and predictable result.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12041065, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-p3kBzLz15qQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3renjP0eqGRLCffrFEVGTvI9q8ocrA/photo.jpg?sz=128", "display_name": "RageMellon", "link": "https://stackoverflow.com/users/12041065/ragemellon"}, "is_accepted": false, "score": 0, "last_activity_date": 1568037466, "creation_date": 1568037466, "answer_id": 57855521, "question_id": 57700368, "link": "https://stackoverflow.com/questions/57700368/individual-unit-tests-for-each-output-of-a-method/57855521#57855521", "title": "Individual unit tests for each output of a method", "body": "<p>Using xUnit and System Linq</p>\n\n<p>Using InlineData (<em>or MemberData if you want it separate</em>) containing both of your test results covers your requirement for adding one line of data to run multiple checks, however I'm not sure that</p>\n\n<blockquote>\n  <p>Each file should only be parsed once, not once per test.</p>\n</blockquote>\n\n<p>is possible without some way of recording what files you've parsed in previous test runs, and plugging that in to the <strong>if()</strong> statement</p>\n\n<pre><code>public class ExampleTest\n{\n    [Theory]\n    [InlineData (\"somefile\", 3, 332, 354)]\n    [InlineData (\"anotherfile\", 3, 290, 337)]\n    [InlineData (\"thirdfile\", 4, 310, 304)]\n    public void FileParseOutputIsCorrect ( string fileName, int parameter, int resultA, int resultB )\n    {\n        //conditional check only necessary if you want to stop parsing in future test runs\n        if ( !fileName.Parsed )\n        {\n            var fileParseResult = FileParser.ParseFile ( fileName, parameter );\n            Assert.Equal ( fileParseResult[0], resultA );\n            Assert.Equal ( fileParseResult[1], resultB );\n        }\n        else\n        {\n            Console.WriteLine ( $\"Already parsed {fileName}\" );\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 355, "user_id": 1698193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9efe92befa5686a4521bd01f8747c9c?s=128&d=identicon&r=PG", "display_name": "Aae", "link": "https://stackoverflow.com/users/1698193/aae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1086, "favorite_count": 1, "answer_count": 6, "score": 3, "last_activity_date": 1610363141, "creation_date": 1567028299, "last_edit_date": 1567544262, "question_id": 57700368, "link": "https://stackoverflow.com/questions/57700368/individual-unit-tests-for-each-output-of-a-method", "title": "Individual unit tests for each output of a method", "body": "<p>I have a method that takes a file as input and then returns N outputs based on this file.</p>\n\n<p>I want to test this method in the following way: Say we have M files to test. For each file, I want to add one line to the test program (or to a separate file), consisting of the file path and the N expected outputs. This data should give rise to N*M individual tests, one for each pair of file and expected output.</p>\n\n<p>Is there a good way to achieve this? I want each file to be parsed no more than once for each test run.</p>\n\n<p>Below is an example that does what I want. As you can see, I have to add individual test classes for each file. I hope to find a solution where I can add just the line with the test data (e.g. <code>testData.Add((\"thirdfile\", 4), (348, 312));</code>) to test a new file.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using Microsoft.VisualStudio.TestTools.UnitTesting;\nusing System.Collections.Generic;\n\nnamespace ConsoleApp\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n        }\n    }\n\n    public static class FileParser\n    {\n        private static int n = 0;\n\n        public static void Init(int parameter)\n        {\n            n = parameter;\n        }\n\n        public static (int output1, int output2) ParseFile(string filename)\n        {\n            return (filename[0] * n, filename[1] * n);\n        }\n    }\n\n    public class Tests\n    {\n        private Dictionary&lt;(string, int), (int, int)&gt; testData;\n\n        public Tests()\n        {\n            testData = new Dictionary&lt;(string, int), (int, int)&gt;();\n            testData.Add((\"somefile\", 3), (345, 333));\n            testData.Add((\"anotherfile\", 4), (291, 330));\n            testData.Add((\"thirdfile\", 4), (348, 312));\n        }\n\n        public void TestOutput1((int, int) result, string filename, int parameter)\n        {\n            Assert.AreEqual(testData[(filename, parameter)].Item1, result.Item1);\n        }\n\n        public void TestOutput2((int, int) result, string filename, int parameter)\n        {\n            Assert.AreEqual(testData[(filename, parameter)].Item2, result.Item2);\n        }\n    }\n\n    [TestClass]\n    public class Somefile\n    {\n        protected static (int, int) fileParseResult;\n\n        [ClassInitialize]\n        public static void ClassInit(TestContext context)\n        {\n            FileParser.Init(3);\n            fileParseResult = FileParser.ParseFile(\"somefile\");\n        }\n\n        [TestMethod]\n        public void SomefileOutput1() { var tests = new Tests(); tests.TestOutput1(fileParseResult, \"somefile\", 3); }\n        [TestMethod]\n        public void SomefileOutput2() { var tests = new Tests(); tests.TestOutput2(fileParseResult, \"somefile\", 3); }\n    }\n\n    [TestClass]\n    public class Anotherfile\n    {\n        protected static (int, int) fileParseResult;\n\n        [ClassInitialize]\n        public static void ClassInit(TestContext context)\n        {\n            FileParser.Init(3);\n            fileParseResult = FileParser.ParseFile(\"anotherfile\");\n        }\n\n        [TestMethod]\n        public void AnotherfileOutput1() { var tests = new Tests(); tests.TestOutput1(fileParseResult, \"anotherfile\", 4); }\n        [TestMethod]\n        public void AnotherfileOutput2() { var tests = new Tests(); tests.TestOutput2(fileParseResult, \"anotherfile\", 4); }\n    }\n\n    [TestClass]\n    public class Thirdfile\n    {\n        protected static (int, int) fileParseResult;\n\n        [ClassInitialize]\n        public static void ClassInit(TestContext context)\n        {\n            FileParser.Init(3);\n            fileParseResult = FileParser.ParseFile(\"thirdfile\");\n        }\n\n        [TestMethod]\n        public void ThirdfileOutput1() { var tests = new Tests(); tests.TestOutput1(fileParseResult, \"thirdfile\", 4); }\n        [TestMethod]\n        public void ThirdfileOutput2() { var tests = new Tests(); tests.TestOutput2(fileParseResult, \"thirdfile\", 4); }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "visual-studio"], "comments": [{"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 2, "creation_date": 1567195700, "post_id": 57700360, "comment_id": 101905342, "body": "Have you gone on the Window menu and chosen Reset Window Layout? Sometimes my ctrl f appears docked in another window, not necessarily the one I was expected. Have you tried &quot;using it&quot; even though you can&#39;t see it? It would prove if it&#39;s open on screen somewhere.  Some generic advice whenever I can&#39;t see any window(not just find in files) but in particular the Find in Files: press ESC a few times, press ctrl shift f, press alt space, press m, press any cursor key, move the mouse, left click"}, {"owner": {"reputation": 9587, "user_id": 747965, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2fzty.jpg?s=128&g=1", "display_name": "Glenn Ferrie", "link": "https://stackoverflow.com/users/747965/glenn-ferrie"}, "edited": false, "score": 0, "creation_date": 1567196760, "post_id": 57700360, "comment_id": 101905659, "body": "Have you tried a newer version of VS?  VS 2019?"}, {"owner": {"reputation": 862, "user_id": 1126944, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/27be28fb1b065f493e7f748c9c58cb58?s=128&d=identicon&r=PG", "display_name": "IcyBrk", "link": "https://stackoverflow.com/users/1126944/icybrk"}, "edited": false, "score": 0, "creation_date": 1567539600, "post_id": 57700360, "comment_id": 101990583, "body": "this issue still exists, not solved."}], "owner": {"reputation": 862, "user_id": 1126944, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/27be28fb1b065f493e7f748c9c58cb58?s=128&d=identicon&r=PG", "display_name": "IcyBrk", "link": "https://stackoverflow.com/users/1126944/icybrk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567291879, "creation_date": 1567028217, "last_edit_date": 1567195154, "question_id": 57700360, "link": "https://stackoverflow.com/questions/57700360/why-i-cannot-seefind-and-replace-window", "title": "Why I Cannot See&quot;Find And Replace&quot; Window", "body": "<p>I am using VS 2015 Update 3 on Windows 10, previously all is fine, in about one week ago, I found Ctr+Shift+F not working and I tried to click the menu item \"Find In Files\" as well, still not working. I also tried use devenv /resetsettings, the issue did not gone. I also tried reinstall VS 2015. The issue still persists.</p>\n\n<p>Actually the issue is weird, whenever in a new launch of VS2015, that combination key works for the first time when you search. After that the \"Find And Replace\" window does not come again when you press the combination key.</p>\n\n<p>Have anybody met this issue? Looking for help.</p>\n"}, {"tags": ["c#", ".net", "xamarin.forms"], "comments": [{"owner": {"reputation": 1990, "user_id": 5775341, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/67f9c208584c05ef9918d544e0d4b95f?s=128&d=identicon&r=PG&f=1", "display_name": "quicklikerabbit", "link": "https://stackoverflow.com/users/5775341/quicklikerabbit"}, "edited": false, "score": 0, "creation_date": 1567029870, "post_id": 57700260, "comment_id": 101845100, "body": "Can you add some of your code to your question so we can see what you&#39;ve tried?"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 8088184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ac61f93347ad7b4b340e4d27d89d88?s=128&d=identicon&r=PG&f=1", "display_name": "iotarex", "link": "https://stackoverflow.com/users/8088184/iotarex"}, "edited": false, "score": 0, "creation_date": 1567089703, "post_id": 57703871, "comment_id": 101867461, "body": "Thank you so much!"}], "tags": [], "owner": {"reputation": 3314, "user_id": 11927415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n08YW.jpg?s=128&g=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/11927415/nikhil"}, "is_accepted": true, "score": 0, "last_activity_date": 1586697077, "last_edit_date": 1586697077, "creation_date": 1567058488, "answer_id": 57703871, "question_id": 57700260, "link": "https://stackoverflow.com/questions/57700260/how-to-implement-a-two-finger-pangesture-instance-in-xamarin-forms/57703871#57703871", "title": "How to implement a two-finger PanGesture instance in Xamarin.Forms", "body": "<p>You can set the TouchPoints property of PanGestureRecognizer. </p>\n\n<p>Check out the link:- <a href=\"https://docs.microsoft.com/en-us/dotnet/api/xamarin.forms.pangesturerecognizer.touchpoints?view=xamarin-forms#Xamarin_Forms_PanGestureRecognizer_TouchPoints\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/xamarin.forms.pangesturerecognizer.touchpoints?view=xamarin-forms#Xamarin_Forms_PanGestureRecognizer_TouchPoints</a></p>\n\n<p>Code :-</p>\n\n<pre><code>PanGestureRecognizer pgr = new PanGestureRecognizer();\npgr.TouchPoints = 2;\n</code></pre>\n\n<p>Same can be set in Xaml as well.</p>\n"}, {"tags": [], "owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "is_accepted": false, "score": 1, "last_activity_date": 1567060200, "creation_date": 1567060200, "answer_id": 57704241, "question_id": 57700260, "link": "https://stackoverflow.com/questions/57700260/how-to-implement-a-two-finger-pangesture-instance-in-xamarin-forms/57704241#57704241", "title": "How to implement a two-finger PanGesture instance in Xamarin.Forms", "body": "<p>To make a user interface element moveable with the pan gesture, create a <a href=\"https://docs.microsoft.com/en-us/xamarin/xamarin-forms/app-fundamentals/gestures/pan\" rel=\"nofollow noreferrer\">PanGestureRecognizer</a> instance, handle the PanUpdated event, and add the new gesture recognizer to the GestureRecognizers collection on the user interface element. The following code example shows a PanGestureRecognizer attached to an <strong>Image</strong> element:</p>\n\n<pre><code>var panGesture = new PanGestureRecognizer();\npanGesture.TouchPoints = 2; //Set finger to 2 \npanGesture.PanUpdated += (s, e) =&gt; {\n  // Handle the pan\n};\nimage.GestureRecognizers.Add(panGesture);\n</code></pre>\n\n<p>This can also be achieved in <strong>XAML</strong>, as shown in the following code example:</p>\n\n<pre><code>&lt;Image Source=\"MonoMonkey.jpg\"&gt;\n  &lt;Image.GestureRecognizers&gt;\n    &lt;PanGestureRecognizer PanUpdated=\"OnPanUpdated\" TouchPoints=\"2\"/&gt;\n  &lt;/Image.GestureRecognizers&gt;\n&lt;/Image&gt;\n</code></pre>\n\n<p>The code for the <code>OnPanUpdated</code> event handler is then added to the code-behind file:</p>\n\n<pre><code>void OnPanUpdated (object sender, PanUpdatedEventArgs e)\n{\n  // Handle the pan\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8088184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54ac61f93347ad7b4b340e4d27d89d88?s=128&d=identicon&r=PG&f=1", "display_name": "iotarex", "link": "https://stackoverflow.com/users/8088184/iotarex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 57703871, "answer_count": 2, "score": 0, "last_activity_date": 1586697077, "creation_date": 1567027609, "question_id": 57700260, "link": "https://stackoverflow.com/questions/57700260/how-to-implement-a-two-finger-pangesture-instance-in-xamarin-forms", "title": "How to implement a two-finger PanGesture instance in Xamarin.Forms", "body": "<p>I am trying to implement a multi-touch scenario for a PanGestureRecognizer instance in Xamarin.Forms, but don't know the best approach.</p>\n\n<p>I am very new to the Xamarin ecosystem and C# as a whole, so while I have successfully implemented a PanGestureRecognizer instance for one finger, as is the default setup, I am not sure where to go to get a view to only pan when two fingers are dragging at the same time. </p>\n\n<p>I am just trying to get a view I have created to only pan across the screen when dragged with two fingers. I cannot use any 3rd party licenses.</p>\n"}, {"tags": ["c#", "opencv", "gaussian", "smoothing", "lowpass-filter"], "comments": [{"owner": {"reputation": 602, "user_id": 7736648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6GuvO.png?s=128&g=1", "display_name": "Larry Tang", "link": "https://stackoverflow.com/users/7736648/larry-tang"}, "edited": false, "score": 0, "creation_date": 1567028042, "post_id": 57700258, "comment_id": 101844583, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5350235/how-to-generate-heat-maps-given-the-points\">how to generate heat maps given the points</a>"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567028189, "post_id": 57700258, "comment_id": 101844628, "body": "You can compile Matlab into a dll and then from c# use DllImport to run the Matlab code."}, {"owner": {"reputation": 602, "user_id": 7736648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6GuvO.png?s=128&g=1", "display_name": "Larry Tang", "link": "https://stackoverflow.com/users/7736648/larry-tang"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567028288, "post_id": 57700258, "comment_id": 101844668, "body": "@jdweng Would that not be a bit overkill if you could use a simple WinForms solution?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567028582, "post_id": 57700258, "comment_id": 101844761, "body": "Matlab plotting and outputs are 1000 times better than equivalent in c#.  Matlab is not as good as c# interacting with forms.  So use best of both worlds."}, {"owner": {"reputation": 3, "user_id": 7086767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b240fa3ab6247492b63d472201c029ae?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/7086767/john"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567028722, "post_id": 57700258, "comment_id": 101844804, "body": "Thank you @jdweng, i try your solution"}], "owner": {"reputation": 3, "user_id": 7086767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b240fa3ab6247492b63d472201c029ae?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/7086767/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567027603, "creation_date": 1567027603, "question_id": 57700258, "link": "https://stackoverflow.com/questions/57700258/convert-my-image-to-gaussian-low-pass-filter-in-c", "title": "Convert my image to Gaussian low pass Filter in C#", "body": "<p>I have a set of X,Y data points (about 5k) that are easy to plot as a scatter plot but that I would like to represent as a heatmap.</p>\n\n<p>There are some examples in Matlab that I would like to get in C#.</p>\n\n<p>Is there a method that converts a bunch of x,y, all different, to a heatmap (where zones with higher frequency of x,y would be \"warmer\")?</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "webforms"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 10199890, "user_type": "registered", "profile_image": "https://graph.facebook.com/2177525202481838/picture?type=large", "display_name": "Kevin Sun", "link": "https://stackoverflow.com/users/10199890/kevin-sun"}, "edited": false, "score": 0, "creation_date": 1567099967, "post_id": 57702597, "comment_id": 101872366, "body": "Hi DoubleJ, thanks for your reply. Unfortunately this didn&#39;t work for me -- is it because I have a placeholder inside an update panel that the control is added to? Currently, when I add the control, and it is out of view, it will just add it to the bottom of the scroll window, but still not pan to it. Any ideas?"}], "tags": [], "owner": {"reputation": 311, "user_id": 1867157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0469e387e57d644f6bb01fa3e4f5fe96?s=128&d=identicon&r=PG", "display_name": "DoubleJ", "link": "https://stackoverflow.com/users/1867157/doublej"}, "is_accepted": false, "score": 0, "last_activity_date": 1567049272, "creation_date": 1567049272, "answer_id": 57702597, "question_id": 57700246, "link": "https://stackoverflow.com/questions/57700246/auto-scroll-to-dynamically-generated-control-in-asp-net/57702597#57702597", "title": "auto scroll to dynamically generated control in ASP.NET", "body": "<p>You need to call it on the client side. Add this AddStreamButton_Click instead of the focus code:</p>\n\n<pre><code>ScriptManager.RegisterClientScriptBlock(this, GetType(), \"none\", \"&lt;script&gt;scrollToControl('\" + userControl.ID.ToString() + \"');&lt;/script&gt;\", false);\n</code></pre>\n\n<p>That will call your scrollToControl method you already have defined.</p>\n"}], "owner": {"reputation": 71, "user_id": 10199890, "user_type": "registered", "profile_image": "https://graph.facebook.com/2177525202481838/picture?type=large", "display_name": "Kevin Sun", "link": "https://stackoverflow.com/users/10199890/kevin-sun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567049272, "creation_date": 1567027525, "question_id": 57700246, "link": "https://stackoverflow.com/questions/57700246/auto-scroll-to-dynamically-generated-control-in-asp-net", "title": "auto scroll to dynamically generated control in ASP.NET", "body": "<p>So I have an button that generates a control when clicked. It's nested inside an update panel inside a div, that will create a scroll bar when it overflows in the y-direction. Currently, when I click the button and it's already overflowing, the control will be created, though it will not scroll to it. So it seems like nothing happened at all. I want the scroll bar to roll down to where the control is created so it is more user-friendly.</p>\n\n<p>I've tried Page.SetFocus(control) and control.Focus(), but both don't work. I've look up other posts but they don't quite solve the problem as my generated control is inside an updatePanel.</p>\n\n<pre><code>&lt;!-- add button and dynamic control area --&gt;\n            &lt;asp:Button ID=\"addStreamButton\" runat=\"server\" Text=\"+\" OnClick=\"AddStreamButton_Click\" Width=\"30px\" Height=\"30px\" Tooltip=\"add new stream\"/&gt;\n            &lt;div class=\"col-sm-6\"&gt;\n                &lt;asp:UpdatePanel runat=\"server\" ID=\"updatePanelPlaceholder\" ChildrenAsTriggers=\"false\" UpdateMode=\"Conditional\"\n                    style=\"width:650px; height:550px; overflow-y:auto; overflow-x:hidden\"&gt;\n                    &lt;ContentTemplate&gt;\n                        &lt;div class=\"row\"&gt;\n                            &lt;asp:PlaceHolder ID=\"ph1\" runat=\"server\"&gt;&lt;/asp:PlaceHolder&gt;\n                        &lt;/div&gt;\n                    &lt;/ContentTemplate&gt;\n                    &lt;Triggers&gt;\n                        &lt;asp:AsyncPostBackTrigger ControlID=\"addStreamButton\" EventName=\"Click\" /&gt;\n                    &lt;/Triggers&gt;\n                &lt;/asp:UpdatePanel&gt;\n\n                &lt;script type=\"text/html\"&gt;\n                    function scrollToControl(controlName) {\n                        document.getElementById(controlName).scrollIntoView();\n                    }\n                &lt;/script&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<pre><code>protected void AddStreamButton_Click(object sender, EventArgs e)\n        {\n            var userControl = (DataStreamSelector)Page.LoadControl(\"~/DataStreamSelector.ascx\");\n            userControl.ID = \"DynamicControl\" + ControlCount;\n            ControlCount++;\n            ph1.Controls.Add(userControl);\n\n            //Page.Focus(userControl);\n            Page.SetFocus(userControl);\n        }\n</code></pre>\n"}, {"tags": ["c#", "angular"], "comments": [{"owner": {"reputation": 102, "user_id": 6938368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60e586a5ea40963e848fab2dc8a1c48d?s=128&d=identicon&r=PG&f=1", "display_name": "M.Hazara", "link": "https://stackoverflow.com/users/6938368/m-hazara"}, "edited": false, "score": 0, "creation_date": 1567028016, "post_id": 57700153, "comment_id": 101844577, "body": "it depends on which format your api returns the collection in. Is it JSON format?"}, {"owner": {"reputation": 139, "user_id": 6635827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee1cafae0ed066c4c13efdce637fa752?s=128&d=identicon&r=PG&f=1", "display_name": "Fraser", "link": "https://stackoverflow.com/users/6635827/fraser"}, "edited": false, "score": 0, "creation_date": 1567028221, "post_id": 57700153, "comment_id": 101844642, "body": "Any errors in the console?"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1567030279, "post_id": 57700153, "comment_id": 101845181, "body": "I would expect <code>games</code> to be a Promise object, rather than the actual result itself. To collect the result, attach a <code>.done()</code> or <code>.then()</code> callback to the promise object. If you don&#39;t understand yet how Promises work, now would be a good time to find a tutorial. <a href=\"https://vitalflux.com/angular-http-promise-code-example-get-api/\" rel=\"nofollow noreferrer\">this one</a> helpfully shows examples in the context of Angular&#39;s http.get method, which you&#39;re using here."}], "answers": [{"tags": [], "owner": {"reputation": 395, "user_id": 7061557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/202d8e456de564b67f897050b294eebe?s=128&d=identicon&r=PG&f=1", "display_name": "iams0nus", "link": "https://stackoverflow.com/users/7061557/iams0nus"}, "is_accepted": false, "score": 1, "last_activity_date": 1567030430, "creation_date": 1567030430, "answer_id": 57700667, "question_id": 57700153, "link": "https://stackoverflow.com/questions/57700153/how-to-take-a-collection-of-data-from-a-c-api-and-turn-it-into-a-array-in-angul/57700667#57700667", "title": "How to take a collection of data from a c# api and turn it into a array in angular", "body": "<p>since the service returns a promise you can <code>await</code> the call and get the result.</p>\n\n<pre><code>async ngOnInit(){ this.games =  await this.gamesService.getGames(); }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11991357, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC6uDzuBK0dpkGzZC3hdKj_QwEC8C5ow_036T27Zg=k-s128", "display_name": "Mark", "link": "https://stackoverflow.com/users/11991357/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1567030430, "creation_date": 1567027036, "question_id": 57700153, "link": "https://stackoverflow.com/questions/57700153/how-to-take-a-collection-of-data-from-a-c-api-and-turn-it-into-a-array-in-angul", "title": "How to take a collection of data from a c# api and turn it into a array in angular", "body": "<p>I have a working .Net Core api. I am trying to use a http get request in angular to get a collection of data, and am trying to find out how to turn that collection into an array in angular.</p>\n\n<p>I've tried setting the value to an array that accepts any and I cant seem to find any answers for this out there.</p>\n\n<pre><code>export class GamesComponent implements OnInit {\n  games;\n\n  constructor(public gamesService: GamesService) { \n\n  }\n\n  ngOnInit(){\n    console.log(this.gamesService.getGames());\n    var arr: any[]\n    arr = this.gamesService.getGames();\n    this.games = arr;\n  }\n\n}\n\n\nexport class GamesService {\n  constructor(public http: HttpClient) {\n\n   }\n\n   getGames(){\n    const headers = new HttpHeaders().set('Content-Type', 'application/json; charset=utf-8');\n    var games = this.http.get(`https://LOCALHOST/api/games`, {headers:headers}).toPromise();\n    return games;\n   }\n}\n</code></pre>\n\n<p>I am expecting the result from my get request to go into an array in my component that I can use.<code>enter code here</code></p>\n"}, {"tags": ["c#", "ajax", "asp.net-core-mvc"], "comments": [{"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 1, "creation_date": 1567027142, "post_id": 57700119, "comment_id": 101844315, "body": "Why do you wrap your content in the <code>content</code> property? What happens if you just use <code>data: content</code>?"}, {"owner": {"reputation": 11, "user_id": 11599218, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t2mHVS23YQE/AAAAAAAAAAI/AAAAAAAAACw/xibsSyR70Ag/photo.jpg?sz=128", "display_name": "Dylan Spies", "link": "https://stackoverflow.com/users/11599218/dylan-spies"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1567027543, "post_id": 57700119, "comment_id": 101844428, "body": "I had it wrapped in content just from trying different things. Removing it leaves me with the same problem albeit it changes the post from  content: [{&quot;Cal&quot;:&quot;5.56&quot;,&quot;BarLength&quot;:&quot;16\\&quot;&quot;,&quot;Color&quot;:&quot;Black&quot;}] to [{&quot;Cal&quot;:&quot;5.56&quot;,&quot;BarLength&quot;:&quot;16\\&quot;&quot;,&quot;Color&quot;:&quot;Black&quot;}]"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11599218, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t2mHVS23YQE/AAAAAAAAAAI/AAAAAAAAACw/xibsSyR70Ag/photo.jpg?sz=128", "display_name": "Dylan Spies", "link": "https://stackoverflow.com/users/11599218/dylan-spies"}, "edited": false, "score": 0, "creation_date": 1567028531, "post_id": 57700301, "comment_id": 101844748, "body": "I made the changes yet, I am still stuck with the results being null. I appreciate the help though. Is there something I should be including in the model or controller that I am not ? <code>Currently my model has: using System; using System.Collections.Generic; using Microsoft.AspNetCore.Mvc;</code> ``` And my controller has  using System; using System.Collections.Generic; using System.Linq; using System.Threading.Tasks; using Microsoft.AspNetCore.Mvc; using modelnamespace```"}, {"owner": {"reputation": 88, "user_id": 7291581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7MeYy.png?s=128&g=1", "display_name": "ManselD", "link": "https://stackoverflow.com/users/7291581/manseld"}, "reply_to_user": {"reputation": 11, "user_id": 11599218, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t2mHVS23YQE/AAAAAAAAAAI/AAAAAAAAACw/xibsSyR70Ag/photo.jpg?sz=128", "display_name": "Dylan Spies", "link": "https://stackoverflow.com/users/11599218/dylan-spies"}, "edited": false, "score": 0, "creation_date": 1567028828, "post_id": 57700301, "comment_id": 101844830, "body": "I&#39;ve edited my solution - try sending the object in its entirety without serializing it. If that doesn&#39;t work I&#39;m happy to help over teamviewer or something if need be :)"}, {"owner": {"reputation": 11, "user_id": 11599218, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t2mHVS23YQE/AAAAAAAAAAI/AAAAAAAAACw/xibsSyR70Ag/photo.jpg?sz=128", "display_name": "Dylan Spies", "link": "https://stackoverflow.com/users/11599218/dylan-spies"}, "edited": false, "score": 0, "creation_date": 1567029143, "post_id": 57700301, "comment_id": 101844921, "body": "That fixed it! I have been on this issue for longer than I would like to admit. So when would be the proper time to serialize the data? Thanks for your help!"}, {"owner": {"reputation": 88, "user_id": 7291581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7MeYy.png?s=128&g=1", "display_name": "ManselD", "link": "https://stackoverflow.com/users/7291581/manseld"}, "reply_to_user": {"reputation": 11, "user_id": 11599218, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t2mHVS23YQE/AAAAAAAAAAI/AAAAAAAAACw/xibsSyR70Ag/photo.jpg?sz=128", "display_name": "Dylan Spies", "link": "https://stackoverflow.com/users/11599218/dylan-spies"}, "edited": false, "score": 0, "creation_date": 1567029334, "post_id": 57700301, "comment_id": 101844970, "body": "That happens to all of us, don&#39;t worry!  It seems that jQuery will serialize the data parameter itself using its default Key/Value pair serializer.  So you should be fine with sending objects all the time really."}], "tags": [], "owner": {"reputation": 88, "user_id": 7291581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7MeYy.png?s=128&g=1", "display_name": "ManselD", "link": "https://stackoverflow.com/users/7291581/manseld"}, "is_accepted": true, "score": 2, "last_activity_date": 1567028793, "last_edit_date": 1567028793, "creation_date": 1567027898, "answer_id": 57700301, "question_id": 57700119, "link": "https://stackoverflow.com/questions/57700119/why-does-my-ajax-post-have-content-when-going-to-backend-but-my-model-and-contro/57700301#57700301", "title": "Why does my Ajax post have content when going to backend but my model and controller receive null", "body": "<p>You're not sending an array of objects, only a single one. So there's no need to surround your object in an array initialiser.</p>\n\n<p>Below I've created a JavaScript object and then converted it into JSON.\nTry this and let me know how it goes.</p>\n\n<pre><code>var buildContent = {'Cal': 'Testing123...', 'BarLength': 'Noot Noot', 'Color': 'Red'};\nvar jsonData = JSON.stringify(buildContent);\n$.ajax({\n    type: \"POST\",\n    url: \"../Build/Build\",\n    data: jsonData,\n    dataType: 'json',\n    contentType: 'application/json;'\n});\n</code></pre>\n\n<p>EDIT:\nAlternatively try sending the object in its entirety, without serializing it to JSON.</p>\n\n<pre><code>var buildContent = {'Cal': 'Testing123...', 'BarLength': 'Noot Noot', 'Color': 'Red'};\n$.ajax({\n    type: \"POST\",\n    url: \"../Build/Build\",\n    data: buildContent\n});\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11599218, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-t2mHVS23YQE/AAAAAAAAAAI/AAAAAAAAACw/xibsSyR70Ag/photo.jpg?sz=128", "display_name": "Dylan Spies", "link": "https://stackoverflow.com/users/11599218/dylan-spies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 57700301, "answer_count": 1, "score": 0, "last_activity_date": 1567028793, "creation_date": 1567026872, "question_id": 57700119, "link": "https://stackoverflow.com/questions/57700119/why-does-my-ajax-post-have-content-when-going-to-backend-but-my-model-and-contro", "title": "Why does my Ajax post have content when going to backend but my model and controller receive null", "body": "<p>AJAX Post shows correct content in debugger but my controller and model receive null values.</p>\n\n<p>I have changed my ajax post many ways. I have also just sent one string and had one string as my controller parameter. This worked, but I am looking to send the whole object.</p>\n\n<pre><code>        var BuildContent = [{ 'Cal': Cal, 'BarLength': BarLength, 'Color': \n        Color }];\n        content = JSON.stringify(BuildContent);\n        $.ajax({\n            type: \"POST\",\n            url: \"../Build/Build\",\n            data: {'content':content},\n            ContentType: \"application/json\",\n            dataType: \"json\",\n        });\n</code></pre>\n\n<pre><code>    public class BuildController : Controller\n    {\n\n\n        [HttpPost]\n        public BuildContent Build (BuildContent content) \n        {\n            //BuildService.GetURG(data);\n            return content;\n        }\n    }\n</code></pre>\n\n<pre><code>    public class BuildContent\n    {\n\n        public string Cal { get; set; }\n        public string BarLength { get; set; }\n        public string Color { get; set; }\n    }\n</code></pre>\n\n<p>SO when the POST reaches the controller I am seeing [Cal = null , BarLength = null, Color = null]\nWhere as in the Chrome network debugger I see my content correctly. Such as \ncontent: [{\"Cal\":\"5.56\",\"BarLength\":\"16\\\"\",\"Color\":\"Black\"}]</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 602, "user_id": 7736648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6GuvO.png?s=128&g=1", "display_name": "Larry Tang", "link": "https://stackoverflow.com/users/7736648/larry-tang"}, "edited": false, "score": 1, "creation_date": 1567026823, "post_id": 57700065, "comment_id": 101844192, "body": "<code>WriteAllBytes</code> closes the file after writing, so your problem might lie somewhere else. Do you write to the file anywhere else in the code?"}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1567026906, "post_id": 57700065, "comment_id": 101844229, "body": "Your code works just fine for me."}, {"owner": {"reputation": 8184, "user_id": 645, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/26a88898ca6479a9874aed21ddeaf2e8?s=128&d=identicon&r=PG", "display_name": "Joel Lucsy", "link": "https://stackoverflow.com/users/645/joel-lucsy"}, "edited": false, "score": 2, "creation_date": 1567027110, "post_id": 57700065, "comment_id": 101844305, "body": "I would also think using Bitmap.FromStream with a MemoryStream would be better than hitting the filesystem."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1567031971, "post_id": 57700065, "comment_id": 101845513, "body": "What <b>exact</b> exception is thrown, and by which <b>exact</b> line of code?"}], "answers": [{"tags": [], "owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "is_accepted": false, "score": 1, "last_activity_date": 1567027028, "creation_date": 1567027028, "answer_id": 57700150, "question_id": 57700065, "link": "https://stackoverflow.com/questions/57700065/why-i-cannot-open-file-programmatically-after-saving-it-with-file-writeallbytes/57700150#57700150", "title": "Why i cannot open file programmatically after saving it with File.WriteAllBytes", "body": "<blockquote>\n  <p>Why i cannot open file programmatically after saving it with File.WriteAllBytes</p>\n</blockquote>\n\n<p>If you get \"The process cannot access the file because it is being used by another process\" and you know you don't have any open file handles, then the culprit is typically an Antivirus program.  Could also be something like a backup or file sync service, but less likely.</p>\n"}], "owner": {"reputation": 41, "user_id": 6793805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bacca68395ba633bf3092a2a1ee9e600?s=128&d=identicon&r=PG&f=1", "display_name": "Mhmd Korhani", "link": "https://stackoverflow.com/users/6793805/mhmd-korhani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "closed_date": 1567070032, "answer_count": 1, "score": -1, "last_activity_date": 1567027028, "creation_date": 1567026576, "last_edit_date": 1567026718, "question_id": 57700065, "link": "https://stackoverflow.com/questions/57700065/why-i-cannot-open-file-programmatically-after-saving-it-with-file-writeallbytes", "closed_reason": "Not suitable for this site", "title": "Why i cannot open file programmatically after saving it with File.WriteAllBytes", "body": "<p>I have a base64 string image, what i did is; i converted the string into an array of bytes, and saved the file. Then, i tries to access the file for bitmap purposes but the system throws an exception: The process cannot access the file because it is being used by another process. I am using File.WriteAllBytes which is mainly a synchronous function.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Byte[] bytes = Convert.FromBase64String(baseString);\nFile.WriteAllBytes(filePath, bytes);\nBitmap bmp = Bitmap.FromFile(filePath) as Bitmap;\n</code></pre>\n\n<p>I expect to open the file without facing any problem since WriteAllBytes method is synchronous</p>\n"}, {"tags": ["c#", "matrix"], "answers": [{"comments": [{"owner": {"reputation": 12253, "user_id": 11956, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/545b1236d68c50702e2559640d1c04ed?s=128&d=identicon&r=PG", "display_name": "Vegar", "link": "https://stackoverflow.com/users/11956/vegar"}, "edited": false, "score": 0, "creation_date": 1567026519, "post_id": 57699909, "comment_id": 101844072, "body": "Thanks! I like tulles, but it makes for some nasty method declarations....  I\u2019ll consider structs, but I\u2019m not sure how it will work out having methods work both on x,y,z and r,g,b tuples."}, {"owner": {"reputation": 12253, "user_id": 11956, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/545b1236d68c50702e2559640d1c04ed?s=128&d=identicon&r=PG", "display_name": "Vegar", "link": "https://stackoverflow.com/users/11956/vegar"}, "edited": false, "score": 1, "creation_date": 1567026778, "post_id": 57699909, "comment_id": 101844176, "body": "Precision was my first though, but 6-point-something is quite far from 0, so I discarded that idea. Just like I previously discarded all my knowledge about scientific notation of numbers.... \ud83e\udd2d I even wrote a method for comparing tuples with approximately- I just didn\u2019t bother using it on this case since I was so far off... time to go to bed , I guess (almost midnight here in Norway)"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 12253, "user_id": 11956, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/545b1236d68c50702e2559640d1c04ed?s=128&d=identicon&r=PG", "display_name": "Vegar", "link": "https://stackoverflow.com/users/11956/vegar"}, "edited": false, "score": 4, "creation_date": 1567027404, "post_id": 57699909, "comment_id": 101844391, "body": "@Vegar: To clarify your comment for those following along at home: you don&#39;t have six point something. You have 0.00000000000000006 something. <b>The E-17 means multiply by 10 to the negative 17</b>."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 6, "last_activity_date": 1567026303, "last_edit_date": 1567026303, "creation_date": 1567025597, "answer_id": 57699909, "question_id": 57699845, "link": "https://stackoverflow.com/questions/57699845/matrix-transformation-rotation-around-x-axis/57699909#57699909", "title": "Matrix transformation, rotation around x axis", "body": "<p>You are passing in some value for \u03c0, but <code>Math.PI</code> is not exactly equal to \u03c0. It's approximately equal to \u03c0 to within about 17 significant digits.</p>\n\n<p>The sine of exactly \u03c0 is exactly zero. <strong>The sine of something very close to \u03c0 is very close to zero</strong>.  Which is what you got: 6 x 10<sup>-17</sup> is pretty close to zero. </p>\n\n<p>Similarly, the cosine of \u03c0/2 is exactly zero, but the value of \u03c0/2 you are passing in is only accurate to 17 digits, so the result is only accurate to 17 digits.</p>\n\n<p>Similarly, <code>Sqrt(2.0)/2.0</code> is not exactly \u221a2/2. It's an approximation accurate to about 17 decimal places.</p>\n\n<p><strong>Every</strong> number in your system that is not an integer is correct to only within 17 decimal places, so there's no mystery here; your results are correct to within 17 decimal places because your inputs are correct to within 17 decimal places. You only get out as much precision as you put in.  Doubles are not infinite-precision!</p>\n\n<p>(Nice use of tuple types, by the way -- but consider making structs to represent some of these concepts; that way you can put the methods associated with those concepts in the struct.)</p>\n"}], "owner": {"reputation": 12253, "user_id": 11956, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/545b1236d68c50702e2559640d1c04ed?s=128&d=identicon&r=PG", "display_name": "Vegar", "link": "https://stackoverflow.com/users/11956/vegar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 57699909, "answer_count": 1, "score": 1, "last_activity_date": 1567026303, "creation_date": 1567025289, "question_id": 57699845, "link": "https://stackoverflow.com/questions/57699845/matrix-transformation-rotation-around-x-axis", "title": "Matrix transformation, rotation around x axis", "body": "<p>I'm struggling my way through The Ray Tracer Challenge and have come to a test case in chapter 4 that I'm not able to get past.</p>\n\n<pre><code>Scenario: Rotating a point around the x axis\n  Given p \u2190 point(0, 1, 0)\n    And half_quarter \u2190 rotation_x(\u03c0 / 4)\n    And full_quarter \u2190 rotation_x(\u03c0 / 2)\n  Then half_quarter * p = point(0, \u221a2/2, \u221a2/2)\n    And full_quarter * p = point(0, 0, 1)\n</code></pre>\n\n<p>The first assert (half_quarter) works as expected, but the second (full_quarter) fails. </p>\n\n<blockquote>\n  <p>Expected Matrix.Multiply(full_quarter, p) to be equal to (0, 0, 1, 1), but found (0, 6.12323399573677E-17, 1, 1).'</p>\n</blockquote>\n\n<p>My implementation of <code>rotation_x</code> is as follows:</p>\n\n<pre><code>        public static double[,] rotation_x(double radians)\n        {\n            var cos = Math.Cos(radians);\n            var sin = Math.Sin(radians);\n\n            return new[,]\n            {\n                { 1,   0,    0, 0 },\n                { 0, cos, -sin, 0 },\n                { 0, sin,  cos, 0 },\n                { 0,   0,    0, 1 }\n            });\n        }\n</code></pre>\n\n<p>Here's my multiplication method:</p>\n\n<pre><code>        public static double[] Multiply(double[,] a, (double x, double y, double z, double w) b)\n        {\n            var product = new double[4];\n\n            for (var r = 0; r &lt; 4; r++)\n            {\n                product[r] = a[r, 0] * b.x\n                           + a[r, 1] * b.y\n                           + a[r, 2] * b.z\n                           + a[r, 3] * b.w\n                           ;\n            }\n\n            return product;\n        }\n</code></pre>\n\n<p>I have a lot of tests cases for matrices and vector multiplication from earlier chapters, so I'm pretty sure that part works as it should. But what else could be wrong?</p>\n"}, {"tags": ["c#", "linq-to-xml"], "answers": [{"comments": [{"owner": {"reputation": 72, "user_id": 6926808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-Ac4kXGnUnxA/AAAAAAAAAAI/AAAAAAAAAA0/M0WR4Bup9b0/photo.jpg?sz=128", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6926808/thomas"}, "edited": false, "score": 0, "creation_date": 1567028125, "post_id": 57700233, "comment_id": 101844614, "body": "That causes a &#39;System.NullReferenceException&#39;. It &#39;i.Element(nameSpace + &quot;ExtendedAttributes&quot;).Element(nameSpace + &quot;File&quot;).Value;&#39; returns Null"}, {"owner": {"reputation": 72, "user_id": 6926808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-Ac4kXGnUnxA/AAAAAAAAAAI/AAAAAAAAAA0/M0WR4Bup9b0/photo.jpg?sz=128", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6926808/thomas"}, "edited": false, "score": 0, "creation_date": 1567084307, "post_id": 57700233, "comment_id": 101864086, "body": "The updated code snippet solved the issue. Thank You."}], "tags": [], "owner": {"reputation": 571, "user_id": 4078857, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wL1to.jpg?s=128&g=1", "display_name": "Rashid Ali", "link": "https://stackoverflow.com/users/4078857/rashid-ali"}, "is_accepted": true, "score": 1, "last_activity_date": 1567029631, "last_edit_date": 1567029631, "creation_date": 1567027473, "answer_id": 57700233, "question_id": 57699828, "link": "https://stackoverflow.com/questions/57699828/how-to-update-an-element-located-multiple-level-deep-inside-an-xml-file/57700233#57700233", "title": "How to update an element located multiple level deep inside an xml file", "body": "<p>All you need is to change the value of File Element instead of the ExtendedAttributes Element.</p>\n\n<p>Change the code inside foreach loop to the following, it will update value of all the File Elements in the ExtendedAttributes Element:</p>\n\n<blockquote>\n  <p>i.Element(nameSpace + \"ExtendedAttributes\").Descendants(nameSpace +\n  \"File\").ToList().ForEach(file => file.Value = \"value for File\");</p>\n</blockquote>\n"}], "owner": {"reputation": 72, "user_id": 6926808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-Ac4kXGnUnxA/AAAAAAAAAAI/AAAAAAAAAA0/M0WR4Bup9b0/photo.jpg?sz=128", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6926808/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 57700233, "answer_count": 1, "score": 1, "last_activity_date": 1567029631, "creation_date": 1567025215, "last_edit_date": 1567025705, "question_id": 57699828, "link": "https://stackoverflow.com/questions/57699828/how-to-update-an-element-located-multiple-level-deep-inside-an-xml-file", "title": "How to update an element located multiple level deep inside an xml file", "body": "<p>I have an xml file structured like below:</p>\n\n<pre><code>&lt;root&gt;\n      &lt;DataFields&gt;\n        &lt;DataField Id=\"FORM_HTML\" IsArray=\"FALSE\"&gt;\n          &lt;DataType&gt;\n            &lt;DeclaredType Id=\"File\"&gt;\n            &lt;/DeclaredType&gt;\n          &lt;/DataType&gt;\n          &lt;InitialValue&gt;N/A&lt;/InitialValue&gt;\n          &lt;Description&gt;Form&lt;/Description&gt;\n          &lt;ExtendedAttributes&gt;\n            &lt;ExtendedAttribute Name=\"FormatString\" Value=\"\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"FormatCulture\" Value=\"\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"FormatPrecision\" Value=\"0\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"FormatTimeZone\" Value=\"0\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"Visible\" Value=\"N\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"DispSearch\" Value=\"N\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"DispList\" Value=\"N\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"DispHome\" Value=\"N\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"ReadOnly\" Value=\"Y\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"File\"&gt;\n               &lt;File&gt;\"What I want\" &lt;/File&gt;\n            &lt;/ExtendedAttribute&gt;\n          &lt;/ExtendedAttributes&gt;\n        &lt;/DataField&gt;\n       ....\n       &lt;/DataFields&gt;\n\n&lt;/root&gt;\n</code></pre>\n\n<p>The above is just a sample, the DataField tag repeats multiple time with different ids, but with the same tags and names.</p>\n\n<p>I tried below. It gets the datafield with the ID I want, but instead of replaces the content of just the File tag, it replace everything between the 'ExtendedAttributes' tag. </p>\n\n<pre><code>var getHTMLFORM = from data in xmlFile.Descendants(nameSpace + \"DataField\")\n                       let customcheck = data.Attribute(\"Id\").Value\n                       where customcheck == \"FORM_HTML\" &amp;&amp; customcheck != null\n                        select data;\nforeach (var i in getHTMLFORM)\n {\n    i.Element(nameSpace + \"ExtendedAttributes\").Value = encodedstring;\n }\n</code></pre>\n\n<p>Its understandable that this does not do what I want because it gets the value of the 'ExtendedAttributes' tag and replaces it. Although <code>i.Element(nameSpace + \"ExtendedAttributes\").Value</code> does return only the the value in the <code>file</code> tag. I just can't figure out how to update the value in the 'File' tag and still be restricted to just the FORM_HTML datafield.</p>\n\n<p>The result of that code is:</p>\n\n<pre><code>&lt;root&gt;\n      &lt;DataFields&gt;\n        &lt;DataField Id=\"FORM_HTML\" IsArray=\"FALSE\"&gt;\n          &lt;DataType&gt;\n            &lt;DeclaredType Id=\"File\"&gt;\n            &lt;/DeclaredType&gt;\n          &lt;/DataType&gt;\n          &lt;InitialValue&gt;N/A&lt;/InitialValue&gt;\n          &lt;Description&gt;Form&lt;/Description&gt;\n          &lt;ExtendedAttributes&gt;\n                \"inserted\"\n          &lt;/ExtendedAttributes&gt;\n        &lt;/DataField&gt;\n       ....\n       &lt;/DataFields&gt;\n\n&lt;/root&gt;\n</code></pre>\n\n<p>What I want is:</p>\n\n<pre><code>&lt;root&gt;\n      &lt;DataFields&gt;\n        &lt;DataField Id=\"FORM_HTML\" IsArray=\"FALSE\"&gt;\n          &lt;DataType&gt;\n            &lt;DeclaredType Id=\"File\"&gt;\n            &lt;/DeclaredType&gt;\n          &lt;/DataType&gt;\n          &lt;InitialValue&gt;N/A&lt;/InitialValue&gt;\n          &lt;Description&gt;Form&lt;/Description&gt;\n          &lt;ExtendedAttributes&gt;\n            &lt;ExtendedAttribute Name=\"FormatString\" Value=\"\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"FormatCulture\" Value=\"\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"FormatPrecision\" Value=\"0\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"FormatTimeZone\" Value=\"0\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"Visible\" Value=\"N\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"DispSearch\" Value=\"N\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"DispList\" Value=\"N\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"DispHome\" Value=\"N\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"ReadOnly\" Value=\"Y\"&gt;\n            &lt;/ExtendedAttribute&gt;\n            &lt;ExtendedAttribute Name=\"File\"&gt;\n               &lt;File&gt;\"Inserted\" &lt;/File&gt;\n            &lt;/ExtendedAttribute&gt;\n          &lt;/ExtendedAttributes&gt;\n        &lt;/DataField&gt;\n       ....\n       &lt;/DataFields&gt;\n\n&lt;/root&gt;\n</code></pre>\n\n<p><strong>The Question:</strong> How would I go about replacing the element in the 'File' tag?</p>\n"}, {"tags": ["c#", "linq"], "answers": [{"tags": [], "owner": {"reputation": 468, "user_id": 11793845, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219999460406771/picture?type=large", "display_name": "Wamiq Rehman", "link": "https://stackoverflow.com/users/11793845/wamiq-rehman"}, "is_accepted": false, "score": 2, "last_activity_date": 1567025964, "last_edit_date": 1567025964, "creation_date": 1567025624, "answer_id": 57699915, "question_id": 57699801, "link": "https://stackoverflow.com/questions/57699801/how-to-query-a-list-and-return-values-where-id-any-value-in-an-array/57699915#57699915", "title": "How to query a list and return values where ID = any value in an array", "body": "<p>Try <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.any?view=netframework-4.8\" rel=\"nofollow noreferrer\">Any</a> .This will give you all the users that have any of the group mentioned in the groupIds array</p>\n\n<pre><code>UserRepo.Users.AsEnumerable().Where(user =&gt;\n            user.Groups.Any(wg =&gt; GroupIds.Contains(wg.Group_Id)));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "is_accepted": false, "score": 0, "last_activity_date": 1567166233, "creation_date": 1567166233, "answer_id": 57726304, "question_id": 57699801, "link": "https://stackoverflow.com/questions/57699801/how-to-query-a-list-and-return-values-where-id-any-value-in-an-array/57726304#57726304", "title": "How to query a list and return values where ID = any value in an array", "body": "<p>So you have a sequence of <code>Users</code>, where every <code>User</code> has a sequence of <code>Groups</code>, where every <code>Group</code> has a <code>GroupId</code>.</p>\n\n<p>You also have a sequence of <code>GroupIds</code>.</p>\n\n<pre><code>IEnumerable &lt;int&gt; groupIds = \nIQueryable&lt;User&gt; users = ...\n</code></pre>\n\n<p>You want all <code>Users</code>, that have at least one <code>Group</code> with a <code>GroupId</code> that is in you sequence of <code>GroupIds</code>.</p>\n\n<p>Whenever you see \"I want all items that have at least one ...\", consider using <code>Any</code>:</p>\n\n<pre><code>var result = users\n    .Where(user =&gt; user.groups\n                       .Select(group =&gt; group.groupId)\n                       .Any(groupId =&gt; groupIds.Contains(groupId));\n</code></pre>\n\n<p>In words: from every user, take its collection of Groups. From every Group take the groupIds, and check if any of these groupIds is in collection groupIds. If so, keep this user in your result.</p>\n\n<p>This can be a little bit shorter:</p>\n\n<pre><code>var result = users.Where(user =&gt; user.groups.Any(group =&gt; groupIds.Contains(group.groupId));\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 5627681, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f1482ee34c25f20f84de1b47b528c5e4?s=128&d=identicon&r=PG&f=1", "display_name": "jackfrost5234", "link": "https://stackoverflow.com/users/5627681/jackfrost5234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1567166233, "creation_date": 1567025059, "last_edit_date": 1567025440, "question_id": 57699801, "link": "https://stackoverflow.com/questions/57699801/how-to-query-a-list-and-return-values-where-id-any-value-in-an-array", "title": "How to query a list and return values where ID = any value in an array", "body": "<p>I have 2 collections. 1 is an array of groupIds, and the other is an IEnumerable. </p>\n\n<p>My user class contains another list of type IList, which denotes the groups the user belongs to:</p>\n\n<pre><code> public class User\n    {\n\n        public  IList&lt;Group&gt; Groups { get; protected set; }\n    }\n</code></pre>\n\n<p>And the Group class looks something like this:</p>\n\n<pre><code>public class Group{\n      public long Group_Id { get; protected set; }\n}\n</code></pre>\n\n<p>What I need to do is return a collection of all users who are in the groupIds array. I.e., I would want something like:</p>\n\n<pre><code>usersRepository.Where(user =&gt; user.Groups.Where(group =&gt; groupIds.Contains(group.id))\n</code></pre>\n\n<p>Such that if my groupIds array has group id of 5 and 6, all users in the useresRepository which belong to group 5 and 6 are returned. </p>\n\n<p>So far, the best I've been able to come up with is the following:</p>\n\n<pre><code>UserRepo.Users.AsEnumerable().Where(user =&gt;\n            user.GroupUsers.Where(wg =&gt; GroupIds.Contains(wg.Group_Id)));\n</code></pre>\n\n<p>But this is complaining since .Contains returns a boolean instead of my list, but I'm not sure how to fix that. </p>\n\n<p>My code doesn't work due to .Contains() causing the expression to return a boolean rather than a collection. However, I'm not sure how else to check of the list of GroupIds nested within my User object contains the specified group ids.</p>\n"}, {"tags": ["c#", ".net", "wpf", "xaml", "routed-events"], "answers": [{"tags": [], "owner": {"reputation": 1009, "user_id": 4016197, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6nmwr.jpg?s=128&g=1", "display_name": "Shane Duffy", "link": "https://stackoverflow.com/users/4016197/shane-duffy"}, "is_accepted": false, "score": 1, "last_activity_date": 1567027351, "last_edit_date": 1567027351, "creation_date": 1567026442, "answer_id": 57700042, "question_id": 57699750, "link": "https://stackoverflow.com/questions/57699750/how-can-i-prevent-touch-click-when-touch-scrolling/57700042#57700042", "title": "How can I prevent touch-click when touch-scrolling?", "body": "<p>There isn't any way to look into the future to see if a user is going to begin scrolling after touching the screen or simply lift their finger off immediately afterwards. A Future API would be nice, though.</p>\n\n<p>Anyhow, you could just check to see if the user has moved their finger at all after touching the ListView. If so, begin treating the \"touch\" like a \"scroll\" rather than a \"click\" by manually scrolling the ScrollViewer and deselecting the ListView items.</p>\n\n<p>Something like this:</p>\n\n<pre><code>private bool _touchDown = false;\nprivate double _initOffset = 0;\nprivate double _scrollDelta = 5;\n\nprivate void ListView_PreviewTouchDown(object sender, TouchEventArgs e) \n{\n    _touchDown = true;\n    _initOffset = e.GetTouchPoint(this).Y;\n}\n\nprivate void ListView_PreviewTouchMove(object sender, TouchEventArgs e) \n{\n    if (_touchDown &amp;&amp; Math.Abs(r.GetTouchpoint(this).Y - _initOffset) &gt; _scrollDelta) \n    {\n        My_ScrollViewer.ScrollToVerticalOffset(r.GetTouchpoint(this).Y - _initOffset);\n        My_ListView.UnselectAll();\n    }\n}\n\nprivate void ListView_PreviewTouchUp(object sender, TouchEventArgs e) \n{\n    _touchDown = false;\n    _initOffset = 0;\n}\n</code></pre>\n\n<p>Disclaimer: I just wrote this in notepad. It has problems, but it gets the concept across.</p>\n"}], "owner": {"reputation": 137, "user_id": 4987013, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153100716169160/picture?type=large", "display_name": "JP Garza", "link": "https://stackoverflow.com/users/4987013/jp-garza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1567027351, "creation_date": 1567024772, "question_id": 57699750, "link": "https://stackoverflow.com/questions/57699750/how-can-i-prevent-touch-click-when-touch-scrolling", "title": "How can I prevent touch-click when touch-scrolling?", "body": "<p>I have an ItemsControl that wraps its ItemPresenter with a ScrollViewer. That ItemPresenter displays a ListView. Therefore I have a collection within a collection. </p>\n\n<p>Now, I want only the ScrollViewer to have scrolling functionality so I have gone ahead and removed the scrolling functionality from the inner ListView.</p>\n\n<p>The problem is that my scrolling event is being messed up by the ListView. As soon as my finger touches the content area it selects the ListViewItems instead of scrolling.</p>\n\n<p>How can I tell through routed events if the user is trying to click or scroll? and if it is scroll, how do I prevent it from selecting the ListViewItems?</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ItemsControl ItemsSource=\"{Binding Countries}\" &gt;\n   &lt;ItemsControl.Template&gt;\n      &lt;ControlTemplate&gt;\n         &lt;ScrollViewer PanningMode=\"VerticalOnly\"&gt;\n            &lt;ItemsPresenter/&gt;\n         &lt;/ScrollViewer&gt;\n      &lt;/ControlTemplate&gt;\n   &lt;/ItemsControl.Template&gt;\n\n   &lt;ItemsControl.ItemTemplate&gt;\n      &lt;DataTemplate&gt;\n         &lt;ListView ItemsSource=\"{Binding Cities}\"&gt;\n            &lt;ListView.Template&gt;\n               &lt;ControlTemplate&gt;\n                  &lt;ItemsPresenter/&gt;\n               &lt;/ControlTemplate&gt;\n             &lt;/ListView.Template&gt;\n         &lt;/ListView&gt;\n      &lt;/DataTemplate&gt;\n   &lt;/ItemsControl.ItemTemplate&gt;\n&lt;/ItemsControl&gt;\n</code></pre>\n"}, {"tags": ["c#", "dynamic", "benchmarking", "allocation", "expandoobject"], "owner": {"reputation": 515, "user_id": 161353, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93a04b508e765a3059526ca368a191d5?s=128&d=identicon&r=PG", "display_name": "Hans", "link": "https://stackoverflow.com/users/161353/hans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567024459, "creation_date": 1567024459, "question_id": 57699695, "link": "https://stackoverflow.com/questions/57699695/dynamic-type-fields-and-allocations-in-c-net-core-2-0", "title": "Dynamic type fields and allocations in C# (.NET Core 2.0)", "body": "<p>I'm trying to understand why declaring a private field as dynamic and then using it as a parameter for a function would cause several memory allocations when calling that function later; while if I declare the field as an object it seems to cause no allocations at all. The function's parameter type is still dynamic for both cases.</p>\n\n<p>I made the tests using Visual Studio 2019 and its .NET Object Allocation Tracking profiler, on a .NET Core 2.2 console program.</p>\n\n<p><strong>First Test</strong>:\nThe field <em>_state</em> is declared as dynamic type.</p>\n\n<pre><code>    public class DynamicStateBenchmark\n    {\n        private dynamic _state;\n        private Func&lt;dynamic, bool&gt; _conditional;\n\n        public void Setup()\n        {\n            _state = new ExpandoObject();\n            _state.A = true;\n\n            _conditional = s =&gt; s.A;\n\n            _conditional(_state);\n        }\n\n        public void Execute()\n        {\n            _conditional(_state);\n        }\n    }\n\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            var benchmark = new DynamicStateBenchmark();\n            benchmark.Setup();\n            benchmark.Execute();\n        }\n    }\n</code></pre>\n\n<p><strong>Results:</strong>\nSeveral allocations made inside the <em>Execute()</em> method.</p>\n\n<p><a href=\"https://i.stack.imgur.com/p3dXG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p3dXG.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Second Test:</strong>\nThe field <em>_state</em> is declared as object type.</p>\n\n<pre><code>    public class DynamicStateBenchmark\n    {\n        private object _state;\n        private Func&lt;dynamic, bool&gt; _conditional;\n\n        public void Setup()\n        {\n            dynamic state = new ExpandoObject();\n            state.A = true;\n            _state = state;\n\n            _conditional = s =&gt; s.A;\n\n            _conditional(_state);\n        }\n\n        public void Execute()\n        {\n            _conditional(_state);\n        }\n    }\n\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            var benchmark = new DynamicStateBenchmark();\n            benchmark.Setup();\n            benchmark.Execute();\n        }\n    }\n</code></pre>\n\n<p><strong>Results:</strong>\nNo allocations inside the <em>Execute()</em> method.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Tc6i3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tc6i3.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "asp.net", "asp.net-core"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10142333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190824dcfc8ba488cced0fe251d52d6a?s=128&d=identicon&r=PG&f=1", "display_name": "nate", "link": "https://stackoverflow.com/users/10142333/nate"}, "edited": false, "score": 0, "creation_date": 1567024438, "post_id": 57699663, "comment_id": 101843272, "body": "&quot;Object reference not set to an instance of an object&quot;   I am using @Html.DisplayFor(modelItem =&gt; item.houseTitle) to access the object."}, {"owner": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "reply_to_user": {"reputation": 21, "user_id": 10142333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190824dcfc8ba488cced0fe251d52d6a?s=128&d=identicon&r=PG&f=1", "display_name": "nate", "link": "https://stackoverflow.com/users/10142333/nate"}, "edited": false, "score": 2, "creation_date": 1567024440, "post_id": 57699663, "comment_id": 101843273, "body": "@nate that is another problem.. <code>@Html.DisplayFor(model =&gt; model.houseTitle)</code> there you go"}, {"owner": {"reputation": 21, "user_id": 10142333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190824dcfc8ba488cced0fe251d52d6a?s=128&d=identicon&r=PG&f=1", "display_name": "nate", "link": "https://stackoverflow.com/users/10142333/nate"}, "edited": false, "score": 0, "creation_date": 1567024568, "post_id": 57699663, "comment_id": 101843321, "body": "&quot;IEnumerable cupModel does not contain a definition for houseTitle and no accessible extension method.......are you missing a directive or assembly reference?&quot;"}, {"owner": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "reply_to_user": {"reputation": 21, "user_id": 10142333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190824dcfc8ba488cced0fe251d52d6a?s=128&d=identicon&r=PG&f=1", "display_name": "nate", "link": "https://stackoverflow.com/users/10142333/nate"}, "edited": false, "score": 1, "creation_date": 1567024740, "post_id": 57699663, "comment_id": 101843386, "body": "@nate dude, your whole view seems to be messed up. You should try a tutorial or something like that in the framework."}, {"owner": {"reputation": 21, "user_id": 10142333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190824dcfc8ba488cced0fe251d52d6a?s=128&d=identicon&r=PG&f=1", "display_name": "nate", "link": "https://stackoverflow.com/users/10142333/nate"}, "edited": false, "score": 1, "creation_date": 1567024965, "post_id": 57699663, "comment_id": 101843463, "body": "that&#39;s fair. thanks"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567024973, "post_id": 57699663, "comment_id": 101843469, "body": "Using <code>IEnumerable&lt;anything&gt;</code> as your model type is generally a bad idea. Tutorials do it to avoid extra classes but they shouldn&#39;t. Declare a class with a name based on the action, e.g. <code>IndexViewModel</code> for the <code>Index</code> action method) and add properties to it, e.g. <code>public IEnumerable&lt;CupModel&gt; Cups {get;set;}</code>."}, {"owner": {"reputation": 21, "user_id": 10142333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190824dcfc8ba488cced0fe251d52d6a?s=128&d=identicon&r=PG&f=1", "display_name": "nate", "link": "https://stackoverflow.com/users/10142333/nate"}, "edited": false, "score": 0, "creation_date": 1567025119, "post_id": 57699663, "comment_id": 101843527, "body": "I was working inside of the Home folder on accident. Double-check your folders."}, {"owner": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567026286, "post_id": 57699663, "comment_id": 101843980, "body": "@madreflection true that! nice spot."}, {"owner": {"reputation": 21, "user_id": 10142333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190824dcfc8ba488cced0fe251d52d6a?s=128&d=identicon&r=PG&f=1", "display_name": "nate", "link": "https://stackoverflow.com/users/10142333/nate"}, "edited": false, "score": 0, "creation_date": 1567027994, "post_id": 57699663, "comment_id": 101844568, "body": "I have 3 items in my DB, and I&#39;m using @Html.DisplayNameFor(model =&gt; model.houseTitle to display the names for them. Instead of displaying the &quot;houseTitle&quot; I&#39;m just displaying @Html.DisplayNameFor(model =&gt; model.houseTitle) again. Any solution?"}, {"owner": {"reputation": 88, "user_id": 7291581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7MeYy.png?s=128&g=1", "display_name": "ManselD", "link": "https://stackoverflow.com/users/7291581/manseld"}, "edited": false, "score": 0, "creation_date": 1567028236, "post_id": 57699663, "comment_id": 101844650, "body": "Use @Html.DisplayFor(m =&gt; m.HouseTitle) for getting the contents of the property into the appropriate display field."}], "tags": [], "owner": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "is_accepted": false, "score": 2, "last_activity_date": 1567024283, "creation_date": 1567024283, "answer_id": 57699663, "question_id": 57699647, "link": "https://stackoverflow.com/questions/57699647/is-a-type-which-is-not-valid-in-the-given-context-net/57699663#57699663", "title": "&quot;&quot; is a type, which is not valid in the given context (.NET)", "body": "<p>It should be:</p>\n\n<pre><code>@foreach (var item in Model) {\n</code></pre>\n\n<p>Because <code>CupModel</code> is actually a type, and <code>Model</code> is your model's instance in that view context.</p>\n"}], "owner": {"reputation": 21, "user_id": 10142333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/190824dcfc8ba488cced0fe251d52d6a?s=128&d=identicon&r=PG&f=1", "display_name": "nate", "link": "https://stackoverflow.com/users/10142333/nate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "closed_date": 1567090307, "answer_count": 1, "score": 0, "last_activity_date": 1567024283, "creation_date": 1567024210, "last_edit_date": 1567024251, "question_id": 57699647, "link": "https://stackoverflow.com/questions/57699647/is-a-type-which-is-not-valid-in-the-given-context-net", "closed_reason": "Not suitable for this site", "title": "&quot;&quot; is a type, which is not valid in the given context (.NET)", "body": "<p>I just created a .NET Core project with the MVC view. I created a CupModel in the models folder, and I am trying to use a foreach statement inside of the index view to display my model objects. </p>\n\n<p>In my foreach statement, \"CupModel\" is underlined with the following message.</p>\n\n<p>\"CupModel\" is a type, which is not valid in the given context.</p>\n\n<p>I'm using this statement is at the top of my page.</p>\n\n<pre><code>@model IEnumerable&lt;UserValidation.Models.CupModel&gt;\n</code></pre>\n\n<p>My for each statement looks like this.</p>\n\n<pre><code>@foreach (var item in CupModel) {\n&lt;div&gt;.......&lt;/div&gt;\n}\n</code></pre>\n"}, {"tags": ["c#", "casting", "process"], "comments": [{"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567025072, "post_id": 57699625, "comment_id": 101843512, "body": "It would help if you showed the <code>Process</code> class, as well. It&#39;s unclear what you&#39;re trying to do or how you arrived at this expectation that <code>Exited</code> is somehow destroyed. Maybe you don&#39;t need to redeclare <code>Exited</code>; maybe you need to make it virtual in the base class and <code>override</code> it. No way to know yet."}, {"owner": {"reputation": 3, "user_id": 7023423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f87a05f62f9e3de4e17bcb9aa4ff729?s=128&d=identicon&r=PG&f=1", "display_name": "hypixus", "link": "https://stackoverflow.com/users/7023423/hypixus"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567025207, "post_id": 57699625, "comment_id": 101843562, "body": "@madreflection This is the standard System.Diagnostics.Process class (as defined <a href=\"https://docs.microsoft.com/pl-pl/dotnet/api/system.diagnostics.process?view=netframework-4.8\" rel=\"nofollow noreferrer\">here</a>)."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567025690, "post_id": 57699625, "comment_id": 101843767, "body": "Noted, and I&#39;m a bit surprised that class isn&#39;t <code>sealed</code>. Anyway, there&#39;s no way that <code>Process</code> is going to cast to <code>ProcessWithData</code> because <code>Process.Start</code> has no way of giving you an instance of it. What were you trying to achieve in the first place?"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567028224, "post_id": 57699625, "comment_id": 101844644, "body": "My spidey sense is telling me that you want <code>ProcessWithData</code> to be either a wrapper (or perhaps a decorator, if that&#39;s possible) for <code>Process</code>."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567030466, "post_id": 57699625, "comment_id": 101845237, "body": "<i>&quot;How could I set private modifier to it without redefining(and destroying) existing instance inside Process class?&quot;</i> -- you can&#39;t, see marked duplicate. Even if the language generally allowed that, you still couldn&#39;t because the base member is not virtual. Your only option is to hide it anyway (not &quot;destroy&quot;...it&#39;s still there, available by using a reference typed as the base class). As for alternatives, addressing that would be far too broad for Stack Overflow&#39;s format. If you need help with something <i>specific</i>, feel free to post a new question."}, {"owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 0, "creation_date": 1567031033, "post_id": 57699625, "comment_id": 101845336, "body": "The problem in question to me, <i>&quot;I&#39;m trying to extend the Process class a bit, to add access control of Process.Exited delegates and limit them to one.&quot;</i>."}, {"owner": {"reputation": 3, "user_id": 7023423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f87a05f62f9e3de4e17bcb9aa4ff729?s=128&d=identicon&r=PG&f=1", "display_name": "hypixus", "link": "https://stackoverflow.com/users/7023423/hypixus"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567068755, "post_id": 57699625, "comment_id": 101855397, "body": "@madreflection I was trying to achieve changing the base member modifier without defining it as a new one - due to (propably) overwriting its value when casting original Process class to ProcessWithData. I&#39;m not aware of what you consider a decorator/wrapper, but here its just a sort of addition to have better control over event handlers being inaccessible by classes from outside of Process class."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567068915, "post_id": 57699625, "comment_id": 101855477, "body": "No, that&#39;s an attempted solution to a problem; you stated the solution, not the problem. Why you were trying to do that? What problem does that solve? And since we&#39;ve determined that you can&#39;t cast from <code>Process</code> to <code>ProcessWithData</code>, at least not a <code>Process</code> instance created by <code>Process.Start</code>, the solution won&#39;t work and you <i>must</i> step back and think about why you were doing it."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567069211, "post_id": 57699625, "comment_id": 101855637, "body": "&quot;I&#39;m trying to use a garden trowel to dig a hole&quot; is an attempted solution. What&#39;s the problem? &quot;I need to dig a grave.&quot; Ah-hah! Now, that&#39;s a problem to solve, and the attempted solution was not going to work because a garden trowel can&#39;t apply enough leverage to break through harder layers of dirt. Do you see the difference?"}, {"owner": {"reputation": 3, "user_id": 7023423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f87a05f62f9e3de4e17bcb9aa4ff729?s=128&d=identicon&r=PG&f=1", "display_name": "hypixus", "link": "https://stackoverflow.com/users/7023423/hypixus"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567214177, "post_id": 57699625, "comment_id": 101908840, "body": "@madreflection im sorry then, thanks for your time though ^^"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7023423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f87a05f62f9e3de4e17bcb9aa4ff729?s=128&d=identicon&r=PG&f=1", "display_name": "hypixus", "link": "https://stackoverflow.com/users/7023423/hypixus"}, "edited": false, "score": 0, "creation_date": 1567061209, "post_id": 57700609, "comment_id": 101851645, "body": "Properly explained, I finally understand the issue. My aim was to just change access modifier to an element in base class, that&#39;s why using &quot;new&quot; made me think it&#39;s overwriting it - and effectively disappearing upon casting. Class was never ought to be used with a general way of starting a process this way - rather as addition to instance found with <code>Process.GetProcessesByName</code>, but example in question was in test build."}], "tags": [], "owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "is_accepted": true, "score": 0, "last_activity_date": 1567030565, "last_edit_date": 1567030565, "creation_date": 1567030019, "answer_id": 57700609, "question_id": 57699625, "link": "https://stackoverflow.com/questions/57699625/how-to-change-access-modifier-without-hiding-class-base-variable/57700609#57700609", "title": "How to change access modifier without hiding class base variable?", "body": "<p>I'm in agreement with @madreflection in thinking a wrapper or decorator is the way to go. That said, setting the properties in question using the <code>base</code> will work.</p>\n\n<pre><code>public class ProcessWithData : Process\n{\n    public ProcessWithData(string filename)\n    {\n        base.StartInfo.FileName = filename;\n    }\n\n    public EventHandler CurrentEventHandler { get; private set; }\n\n    public void SetHandler(EventHandler eventHandler)\n    {\n        // set Exited via base object\n        if (CurrentEventHandler != null) base.Exited -= CurrentEventHandler;\n        CurrentEventHandler = eventHandler;\n        base.Exited += CurrentEventHandler;\n    }\n}\n</code></pre>\n\n<p>... and use it like so, it's a little more verbose but it works...</p>\n\n<pre><code>var proc = new ProcessWithData(\"foo.exe\");\n        proc.SetHandler(ProcOnExited);\n        proc.EnableRaisingEvents = true;\n        proc.Start();\n\nprivate void ProcOnExited(object sender, EventArgs e)\n{\n    // do stuff\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7023423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f87a05f62f9e3de4e17bcb9aa4ff729?s=128&d=identicon&r=PG&f=1", "display_name": "hypixus", "link": "https://stackoverflow.com/users/7023423/hypixus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "closed_date": 1567030370, "accepted_answer_id": 57700609, "answer_count": 1, "score": -2, "last_activity_date": 1567030565, "creation_date": 1567024097, "question_id": 57699625, "link": "https://stackoverflow.com/questions/57699625/how-to-change-access-modifier-without-hiding-class-base-variable", "closed_reason": "Duplicate", "title": "How to change access modifier without hiding class base variable?", "body": "<p>I'm trying to extend the Process class a bit, to add access control of Process.Exited delegates and limit them to one. So far, I have this result:</p>\n\n<pre><code>public class ProcessWithData : Process\n{\n    public EventHandler CurrentEventHandler { get; private set; }\n    public new bool EnableRaisingEvents = true;\n    private new EventHandler Exited;\n    public void SetHandler(EventHandler eventHandler)\n    {\n        if (CurrentEventHandler != null) Exited -= CurrentEventHandler;\n        CurrentEventHandler = eventHandler;\n        Exited += CurrentEventHandler;\n    }\n}\n</code></pre>\n\n<p>However, the line</p>\n\n<pre><code>private new EventHandler Exited;\n</code></pre>\n\n<p>overwrites existing EventHandler of Process class being the base. Therefore</p>\n\n<pre><code>var proc = Process.Start(\"foo.exe\");\nProcessWithData procwithdata = (ProcessWithData)proc;\n</code></pre>\n\n<p>should destroy Exited event handler upon cast.</p>\n\n<p>How could I set <code>private</code> modifier to it without redefining(and destroying) existing instance inside Process class?</p>\n"}, {"tags": ["c#", "wpf", "entity-framework"], "comments": [{"owner": {"reputation": 163, "user_id": 6470682, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aYBVPRQ25x4/AAAAAAAAAAI/AAAAAAAAABM/x12NQGL0fec/photo.jpg?sz=128", "display_name": "Sam Xia", "link": "https://stackoverflow.com/users/6470682/sam-xia"}, "edited": false, "score": 0, "creation_date": 1567025733, "post_id": 57699565, "comment_id": 101843787, "body": "What is ParticipantsContext?"}, {"owner": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "reply_to_user": {"reputation": 163, "user_id": 6470682, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aYBVPRQ25x4/AAAAAAAAAAI/AAAAAAAAABM/x12NQGL0fec/photo.jpg?sz=128", "display_name": "Sam Xia", "link": "https://stackoverflow.com/users/6470682/sam-xia"}, "edited": false, "score": 0, "creation_date": 1567027080, "post_id": 57699565, "comment_id": 101844295, "body": "@SamXia added to the description"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11991268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddce5a7b25aab5a0e7f1f94b729f0bab?s=128&d=identicon&r=PG&f=1", "display_name": "jdem76", "link": "https://stackoverflow.com/users/11991268/jdem76"}, "is_accepted": false, "score": 0, "last_activity_date": 1567028251, "creation_date": 1567028251, "answer_id": 57700367, "question_id": 57699565, "link": "https://stackoverflow.com/questions/57699565/problems-get-my-datamodel-into-a-wpf-layout/57700367#57700367", "title": "Problems get my Datamodel into a WPF Layout", "body": "<p>Here's how I would set it up, it's not exactly how you would like but, may give you some ideas:\nModel Setup:</p>\n\n<pre><code> public sealed class Participant\n{\n    #region Attributes\n    public int _ParticipantId;\n    public string _Forename;\n    public string _Name;\n    public List&lt;Model.Discipline&gt; Disciplines;\n    #endregion\n\n    #region Properties\n    public int ParticipantId\n    {\n        get\n        {\n            return _ParticipantId;\n        }\n        set\n        {\n            _ParticipantId = value;\n        }\n    }\n\n    public string Forename\n    {\n        get\n        {\n            return _Forename;\n        }\n        set\n        {\n            _Forename = value;\n        }\n    }\n\n    public string Name\n    {\n        get\n        {\n            return _Name;\n        }\n        set\n        {\n            _Name = value;\n        }\n    }\n    #endregion\n\n    #region Constructors\n    public Participant(): base()\n    {\n        ParticipantId = 0;\n        Forename = string.Empty;\n        Name = string.Empty;\n        Disciplines = null;\n    }\n\n    public Participant(DataRow dr) : base()\n    {\n        InitFromDB(dr);\n    }\n    #endregion\n\n    public void InitFromDB(DataRow dr)\n    {\n        if (DBNull.Value != (dr[\"ParticipantId\"]))\n            ParticipantId = Convert.ToInt32(dr[\"ParticipantId\"]);\n        if (DBNull.Value != (dr[\"Forename\"]))\n            Forename = Convert.ToString(dr[\"Forename\"]);\n        if (DBNull.Value != (dr[\"Name\"]))\n            Name = Convert.ToString(dr[\"Name\"]);\n    }\n\n}\n</code></pre>\n\n<p>Then The Discipline Model:</p>\n\n<pre><code> public sealed class Discipline\n{\n    #region Attributes\n    public int _DisciplineId;\n    public string _Name;\n    public int _Result1;\n    public int _Result2;\n    public int _Result3;\n    #endregion\n\n    #region Properties\n    public int DisciplineId\n    {\n        get\n        {\n            return _DisciplineId;\n        }\n        set\n        {\n            _DisciplineId = value;\n        }\n    }\n    public string Name\n    {\n        get\n        {\n            return _Name;\n        }\n        set\n        {\n            _Name = value;\n        }\n    }\n\n    public int Result1\n    {\n        get\n        {\n            return _Result1;\n        }\n        set\n        {\n            _Result1 = value;\n        }\n    }\n    public int Result2\n    {\n        get\n        {\n            return _Result2;\n        }\n        set\n        { \n            _Result2 = value;\n        }\n    }\n    public int Result3\n    {\n        get\n        {\n            return _Result3;\n        }\n        set\n        {\n            _Result3 = value;\n        }\n    }\n    #endregion\n\n    #region Constructors\n    public Discipline() : base()\n    {\n        DisciplineId = 0;\n        Name = string.Empty;\n        Result1 = 0;\n        Result2 = 0;\n        Result3 = 0;\n    }\n\n    public Discipline(DataRow dr) : base()\n    {\n        InitFromDB(dr);\n    }\n    #endregion\n\n    public void InitFromDB(DataRow dr)\n    {\n        if (DBNull.Value != (dr[\"DisciplineId\"]))\n            DisciplineId = Convert.ToInt32(dr[\"DisciplineId\"]);\n        if (DBNull.Value != (dr[\"Name\"]))\n            Name = Convert.ToString(dr[\"Name\"]);\n        if (DBNull.Value != (dr[\"Result1\"]))\n            Result1 = Convert.ToInt32(dr[\"Result1\"]);\n        if (DBNull.Value != (dr[\"Result2\"]))\n            Result2 = Convert.ToInt32(dr[\"Result2\"]);\n        if (DBNull.Value != (dr[\"Result3\"]))\n            Result3 = Convert.ToInt32(dr[\"Result3\"]);\n    }\n}\n</code></pre>\n\n<p>Then here's how I would call them:</p>\n\n<pre><code> try\n        {\n            List&lt;Model.Participant&gt; participants = new List&lt;Model.Participant&gt;();\n            DataTable participantDT = new DataTable();\n            //participantDT = GetYourParticipantDT;\n\n            foreach (DataRow tmpdr in participantDT.Rows)\n            {\n                Model.Participant tmpmodel = new Model.Participant(tmpdr);\n                List&lt;Model.Discipline&gt; disciplines = new List&lt;Model.Discipline&gt;();\n\n                DataTable disciplineDT = new DataTable();\n                // disciplineDT = GetYourDisciplineDT;\n                foreach (DataRow dr in disciplineDT.Rows)\n                {\n                    disciplines.Add(new Model.Discipline(dr));\n                }\n\n                tmpmodel.Disciplines = disciplines;\n                participants.Add(tmpmodel);\n            }\n        }\n        catch (Exception ex)\n        {\n\n        }\n    }\n</code></pre>\n\n<p>Hope that can give you some ideas</p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "edited": false, "score": 0, "creation_date": 1567084268, "post_id": 57700587, "comment_id": 101864057, "body": "I get an error which I don&#39;t understand. <code>System.Windows.Data Error: 17 : Cannot get &#39;Disciplines&#39; value (type &#39;ICollection`1&#39;) from &#39;&#39; (type &#39;Participant_3157&#39;). BindingExpression:Path=Disciplines; DataItem=&#39;Participant_3157&#39; (HashCode=533144); target element is &#39;DataGrid&#39;; target property is &#39;ItemsSource&#39; (type &#39;IEnumerable&#39;) TargetInvocationException:&#39;System.Reflection.TargetInvocatio&zwnj;&#8203;nException: The ObjectContext instance has been disposed and can no longer be used for operations that require a connection. ---&gt; System.ObjectDisposedException: The ObjectContext instance has been </code>"}, {"owner": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "edited": false, "score": 0, "creation_date": 1567084281, "post_id": 57700587, "comment_id": 101864064, "body": "<code>disposed and can no longer be used for operations that require a connection.    bei System.Data.Entity.Core.Objects.ObjectContext.get_Connection&zwnj;&#8203;()    bei System.Data.Entity.Core.Objects.ObjectQuery`1.GetResults(Nul&zwnj;&#8203;lable`1 forMergeOption)</code>"}, {"owner": {"reputation": 163, "user_id": 6470682, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aYBVPRQ25x4/AAAAAAAAAAI/AAAAAAAAABM/x12NQGL0fec/photo.jpg?sz=128", "display_name": "Sam Xia", "link": "https://stackoverflow.com/users/6470682/sam-xia"}, "reply_to_user": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "edited": false, "score": 0, "creation_date": 1567087049, "post_id": 57700587, "comment_id": 101865824, "body": "That is caused by your using block. You binding data for DataGrid is defined in the using block, after that, it will be disposed. It failed because when framework want to find your ItemsSource, its associated context ends."}, {"owner": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "edited": false, "score": 0, "creation_date": 1567089080, "post_id": 57700587, "comment_id": 101867100, "body": "could it be that Disciplines is a ICollection and not a List? That I need to convert the ICollection to a List?"}, {"owner": {"reputation": 163, "user_id": 6470682, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aYBVPRQ25x4/AAAAAAAAAAI/AAAAAAAAABM/x12NQGL0fec/photo.jpg?sz=128", "display_name": "Sam Xia", "link": "https://stackoverflow.com/users/6470682/sam-xia"}, "reply_to_user": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "edited": false, "score": 0, "creation_date": 1567089377, "post_id": 57700587, "comment_id": 101867272, "body": "@svanschu That depends on your implementation. ICollection just a declaration of your interface. The instance of Disciplines needs some implementation like List."}, {"owner": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "edited": false, "score": 0, "creation_date": 1567090419, "post_id": 57700587, "comment_id": 101867869, "body": "the error disapeared as I added <code>for( int i = 0; i &lt; participants.Count; i++)                 {                     participants[i].Disciplines = participants[i].Disciplines.ToList();                 }</code> What you are meaning with Disciplines needs some implementation like List. You can see the implementation of Disciplines in the above code."}, {"owner": {"reputation": 163, "user_id": 6470682, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aYBVPRQ25x4/AAAAAAAAAAI/AAAAAAAAABM/x12NQGL0fec/photo.jpg?sz=128", "display_name": "Sam Xia", "link": "https://stackoverflow.com/users/6470682/sam-xia"}, "reply_to_user": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "edited": false, "score": 0, "creation_date": 1567092772, "post_id": 57700587, "comment_id": 101869143, "body": "I think thats why error said (type Participant_3157). The data type you get from DSet possibly does not match the Interface(type ICollection). So you need cast not implementation or instance."}, {"owner": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "edited": false, "score": 0, "creation_date": 1567093400, "post_id": 57700587, "comment_id": 101869424, "body": "Where should I cast? How would you do the combination between Entity Framework and WPF?"}, {"owner": {"reputation": 163, "user_id": 6470682, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aYBVPRQ25x4/AAAAAAAAAAI/AAAAAAAAABM/x12NQGL0fec/photo.jpg?sz=128", "display_name": "Sam Xia", "link": "https://stackoverflow.com/users/6470682/sam-xia"}, "reply_to_user": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "edited": false, "score": 0, "creation_date": 1567105687, "post_id": 57700587, "comment_id": 101874625, "body": "@svanschu like what you did.<code>participants[i].Disciplines = participants[i].Disciplines.ToList(); }</code> make your <b>DBSet</b> cast to <b>List</b>"}], "tags": [], "owner": {"reputation": 163, "user_id": 6470682, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aYBVPRQ25x4/AAAAAAAAAAI/AAAAAAAAABM/x12NQGL0fec/photo.jpg?sz=128", "display_name": "Sam Xia", "link": "https://stackoverflow.com/users/6470682/sam-xia"}, "is_accepted": true, "score": 0, "last_activity_date": 1567029880, "creation_date": 1567029880, "answer_id": 57700587, "question_id": 57699565, "link": "https://stackoverflow.com/questions/57699565/problems-get-my-datamodel-into-a-wpf-layout/57700587#57700587", "title": "Problems get my Datamodel into a WPF Layout", "body": "<p>You can try a no header DataGrid in DataGrid column data template:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;DataGrid x:Name=\"DecksummeAnzeige\" AutoGenerateColumns=\"False\" Margin=\"0\" FrozenColumnCount=\"4\" AlternatingRowBackground=\"Gainsboro\"  AlternationCount=\"2\"&gt;\n    &lt;DataGrid.Columns&gt;\n        &lt;DataGridTextColumn Binding=\"{Binding Path=ParticipantId}\" Header=\"ID\" IsReadOnly=\"True\" /&gt;\n        &lt;DataGridTextColumn Binding=\"{Binding Path=Forename}\" Header=\"Vorname\" IsReadOnly=\"True\" /&gt;\n        &lt;DataGridTextColumn Binding=\"{Binding Path=Name}\" Header=\"Name\" IsReadOnly=\"True\" /&gt;\n        &lt;DataGridTemplateColumn Header=\"Ergebnisse\" IsReadOnly=\"True\"&gt;\n           &lt;DataGridTemplateColumn.CellTemplate&gt;\n               &lt;DataTemplate&gt;\n                    &lt;!--here is the changes--&gt;\n                    &lt;DataGrid AutoGenerateColumns=\"False\" ItemsSource=\"{Binding Disciplines}\" HeadersVisibility=\"None\"&gt;\n                        &lt;DataGrid.Columns&gt;\n                            &lt;DataGridTextColumn Binding=\"{Binding Path=DisciplineId}\" IsReadOnly=\"True\" /&gt;\n                            &lt;DataGridTextColumn Binding=\"{Binding Path=Name }\" IsReadOnly=\"True\"/&gt;\n                        &lt;/DataGrid.Columns&gt;\n                    &lt;/DataGrid&gt;\n                    &lt;!--end here--&gt;\n                &lt;/DataTemplate&gt;\n             &lt;/DataGridTemplateColumn.CellTemplate&gt;\n          &lt;/DataGridTemplateColumn&gt;\n       &lt;/DataGrid.Columns&gt;\n   &lt;/DataGrid&gt;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 6729765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89105f8acbc67cb3c56a0b8f4a02f58b?s=128&d=identicon&r=PG&f=1", "display_name": "svanschu", "link": "https://stackoverflow.com/users/6729765/svanschu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 57700587, "answer_count": 2, "score": 0, "last_activity_date": 1567090586, "creation_date": 1567023767, "last_edit_date": 1567090586, "question_id": 57699565, "link": "https://stackoverflow.com/questions/57699565/problems-get-my-datamodel-into-a-wpf-layout", "title": "Problems get my Datamodel into a WPF Layout", "body": "<p>I want to create WPF application which should look like <a href=\"https://i.stack.imgur.com/8BfgU.png\" rel=\"nofollow noreferrer\">Decksumme Skizze</a>. You have X participant, who can attend in y discipline. In each discipline they can collect 1 - z scores.</p>\n\n<p>The data model looks like</p>\n\n<pre><code>public class ParticipantsContext : DbContext\n{\n    public DbSet&lt;Participant&gt; Participants { get; set; }\n    public DbSet&lt;Result&gt; Results { get; set; }\n    public DbSet&lt;Discipline&gt; Disciplines { get; set; }\n}\npublic class Participant\n{\n    public int ParticipantId { get; set; }\n    public string Forename { get; set; }\n    public string Name { get; set; }\n    public virtual ICollection&lt;Discipline&gt; Disciplines { get; set; }\n    public virtual ICollection&lt;Result&gt; Results { get; set; }\n}\npublic class Discipline\n{\n    public int DisciplineId { get; set; }\n    public string Name { get; set; }\n\n    public virtual ICollection&lt;Participant&gt; Participants { get; set; }\n}\n</code></pre>\n\n<p>The data binding to the view</p>\n\n<pre><code>using (var db = new ParticipantsContext())\n{\n     var participants = db.Participants.ToList();\n     for( int i = 0; i &lt; participants.Count; i++)\n     {\n       participants[i].Disciplines = participants[i].Disciplines.ToList();\n     }\n     DecksummeAnzeige.DataContext = participants;\n     DecksummeAnzeige.ItemsSource = participants;\n}\n</code></pre>\n\n<p>One participant of the participants list looks like <a href=\"https://i.stack.imgur.com/9E21T.png\" rel=\"nofollow noreferrer\">ParticipantObject</a></p>\n\n<p>I tried severell things but I didn't find a good way to display the disciplines and the related scores. My last thought was to use another DataGrid inside a TemplateColumn. But that shows me Error message in the console.</p>\n\n<pre><code>&lt;DataGrid x:Name=\"DecksummeAnzeige\" AutoGenerateColumns=\"False\" Margin=\"0\" FrozenColumnCount=\"4\" AlternatingRowBackground=\"Gainsboro\"  AlternationCount=\"2\"&gt;\n  &lt;DataGrid.Columns&gt;\n    &lt;DataGridTextColumn Binding=\"{Binding Path=ParticipantId}\" Header=\"ID\" IsReadOnly=\"True\" /&gt;\n    &lt;DataGridTextColumn Binding=\"{Binding Path=Forename}\" Header=\"Vorname\" IsReadOnly=\"True\" /&gt;\n    &lt;DataGridTextColumn Binding=\"{Binding Path=Name}\" Header=\"Name\" IsReadOnly=\"True\" /&gt;\n    &lt;DataGridTemplateColumn Header=\"Ergebnisse\" IsReadOnly=\"True\"&gt;\n      &lt;DataGridTemplateColumn.CellTemplate&gt;\n        &lt;DataTemplate&gt;\n          &lt;DataGrid AutoGenerateColumns=\"False\" ItemsSource=\"{Binding Disciplines}\" HeadersVisibility=\"None\"&gt;\n            &lt;DataGrid.Columns&gt;\n              &lt;DataGridTextColumn Binding=\"{Binding Path=DisciplineId}\" IsReadOnly=\"True\" /&gt;\n              &lt;DataGridTextColumn Binding=\"{Binding Path=Name }\" IsReadOnly=\"True\"/&gt;\n            &lt;/DataGrid.Columns&gt;\n          &lt;/DataGrid&gt;\n        &lt;/DataTemplate&gt;\n      &lt;/DataGridTemplateColumn.CellTemplate&gt;\n    &lt;/DataGridTemplateColumn&gt;\n  &lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n</code></pre>\n\n<p>Is there a best practice or example somewhere which does similar from which I could learn or does someone has an advice how to manage this?</p>\n"}, {"tags": ["c#", "uwp"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 11045534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WB_KgWspIVo/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOKtwlXXhfl00hDyl9r-WMFLDRhHQ/mo/photo.jpg?sz=128", "display_name": "Deeswoc", "link": "https://stackoverflow.com/users/11045534/deeswoc"}, "edited": false, "score": 0, "creation_date": 1567225169, "post_id": 57706487, "comment_id": 101909836, "body": "I can really see where the hotspot is being created. It doesn&#39;t seem immediately obvious where its creating said hotspot. If its done after provisioning then why do I need to register? I also can&#39;t see where its getting the ssid and key because the sample application only starts where it calls &quot;scenario 1&quot; i.e. where it initializes by provisioning and registering something."}], "tags": [], "owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1567068713, "creation_date": 1567068713, "answer_id": 57706487, "question_id": 57699559, "link": "https://stackoverflow.com/questions/57699559/how-are-the-hotspotauthentication-group-of-classes-to-be-used/57706487#57706487", "title": "How are the HotspotAuthentication group of classes to be used", "body": "<blockquote>\n  <p>How are the HotspotAuthentication group of classes to be used</p>\n</blockquote>\n\n<p>Currently, We have fewer documents on this. I have discuss with product team about this. I checked official code sample, it looks easy to understand. We use xml file to store hotspot configuration. And it contains <code>ssid</code> <code>encryption</code> protocol <code>HotspotProfile</code> etc.  </p>\n\n<pre><code>&lt;CarrierProvisioning xmlns=\"http://www.microsoft.com/networking/CarrierControl/v1\"&gt;\n  &lt;Global&gt;\n    &lt;!-- Adjust the Carrier ID to fit your own ID. Refer to the MSDN documentation about Carrier ID's. --&gt;\n    &lt;CarrierId&gt;{11111111-1111-1111-1111-111111111111}&lt;/CarrierId&gt;\n    &lt;!-- Adjust the Susbscriber ID. Refer to the MSDN documentation about Subscriber ID's. --&gt;\n    &lt;SubscriberId&gt;1234567890&lt;/SubscriberId&gt;\n  &lt;/Global&gt;\n  &lt;WLANProfiles&gt;\n    &lt;WLANProfile xmlns=\"http://www.microsoft.com/networking/CarrierControl/WLAN/v1\"&gt;\n      &lt;!-- Adjust the profile name to have a human readable network name. By default this equals the SSID. --&gt;\n      &lt;name&gt;Contoso Wi-Fi&lt;/name&gt;\n      &lt;SSIDConfig&gt;\n        &lt;SSID&gt;\n          &lt;!-- Adjust the SSID name to fit the SSID of the hotspot. --&gt;\n          &lt;name&gt;contosowifi&lt;/name&gt;\n        &lt;/SSID&gt;\n      &lt;/SSIDConfig&gt;\n      &lt;MSM&gt;\n        &lt;security&gt;\n          &lt;authEncryption&gt;\n            &lt;authentication&gt;open&lt;/authentication&gt;\n            &lt;encryption&gt;none&lt;/encryption&gt;\n            &lt;useOneX&gt;false&lt;/useOneX&gt;\n          &lt;/authEncryption&gt;\n          &lt;HotspotProfile xmlns=\"http://www.microsoft.com/networking/WLAN/HotspotProfile/v1\"&gt;\n            &lt;ExtAuth&gt;\n              &lt;!-- Adjust the extension ID to match the package family name of the application running the background task handler. --&gt;\n              &lt;ExtensionId&gt;Microsoft.SDKSamples.HotspotAuthentication.CS_8wekyb3d8bbwe&lt;/ExtensionId&gt;\n            &lt;/ExtAuth&gt;\n          &lt;/HotspotProfile&gt;\n        &lt;/security&gt;\n      &lt;/MSM&gt;\n    &lt;/WLANProfile&gt;\n  &lt;/WLANProfiles&gt;\n&lt;/CarrierProvisioning&gt;\n</code></pre>\n\n<p>And then, we call <code>ProvisionFromXmlDocumentAsync</code> to load xml info and create hotspot.</p>\n\n<pre><code>private async void ProvisionButton_Click(object sender, RoutedEventArgs e)\n{\n    ProvisionButton.IsEnabled = false;\n\n    // Open the installation folder\n    var installLocation = Windows.ApplicationModel.Package.Current.InstalledLocation;\n\n    // Access the provisioning file\n    var provisioningFile = await installLocation.GetFileAsync(\"ProvisioningData.xml\");\n\n    // Load with XML parser\n    var xmlDocument = await XmlDocument.LoadFromFileAsync(provisioningFile);\n\n    // Get raw XML\n    var provisioningXml = xmlDocument.GetXml();\n\n    // Create ProvisiongAgent Object\n    var provisioningAgent = new ProvisioningAgent();\n\n    try\n    {\n        // Create ProvisionFromXmlDocumentResults Object\n        var result = await provisioningAgent.ProvisionFromXmlDocumentAsync(provisioningXml);\n\n        if (result.AllElementsProvisioned)\n        {\n            rootPage.NotifyUser(\"Provisioning was successful\", NotifyType.StatusMessage);\n        }\n        else\n        {\n            rootPage.NotifyUser(\"Provisioning result: \" + result.ProvisionResultsXml, NotifyType.ErrorMessage);\n        }\n    }\n    catch (System.Exception ex)\n    {\n        // See https://docs.microsoft.com/en-us/uwp/api/windows.networking.networkoperators.provisioningagent.provisionfromxmldocumentasync\n        // for list of possible exceptions.\n        rootPage.NotifyUser($\"Unable to provision: {ex}\", NotifyType.ErrorMessage);\n    }\n\n    ProvisionButton.IsEnabled = true;\n}\n</code></pre>\n\n<p>Please note, if you want to use <code>HotspotAuthentication</code> in the uwp application, you need add  <code>networkConnectionManagerProvisioning</code> before. And the <code>ExtensionId</code> is the app's package family name.</p>\n\n<pre><code>xmlns:rescap=\"http://schemas.microsoft.com/appx/manifest/foundation/windows10/restrictedcapabilities\"\nIgnorableNamespaces=\"uap mp rescap\"\n\n .......\n\n&lt;rescap:Capability Name=\"networkConnectionManagerProvisioning\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 11045534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WB_KgWspIVo/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOKtwlXXhfl00hDyl9r-WMFLDRhHQ/mo/photo.jpg?sz=128", "display_name": "Deeswoc", "link": "https://stackoverflow.com/users/11045534/deeswoc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567068713, "creation_date": 1567023732, "question_id": 57699559, "link": "https://stackoverflow.com/questions/57699559/how-are-the-hotspotauthentication-group-of-classes-to-be-used", "title": "How are the HotspotAuthentication group of classes to be used", "body": "<p>I'm trying to create a hotspot. One option I found online was to use the HotspotAuthtication library for windows. I loaded to sample from <a href=\"https://github.com/Deeswoc/Windows-universal-samples/tree/master/Samples/HotspotAuthentication\" rel=\"nofollow noreferrer\">Microsoft's Universal Samples</a> and ran it but it doesn't lead to any noticeable results. </p>\n\n<p>I read the READ ME.md as well and that didn't provide a clear enough explanation of what it actually does.</p>\n"}, {"tags": ["c#", "xaml", "xamarin.forms", "uwp"], "comments": [{"owner": {"reputation": 1161, "user_id": 1693475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VoB22.jpg?s=128&g=1", "display_name": "phantomraa", "link": "https://stackoverflow.com/users/1693475/phantomraa"}, "edited": false, "score": 0, "creation_date": 1567037605, "post_id": 57699552, "comment_id": 101846555, "body": "Hi Leonardo. Welcome to Stack Overflow, and thank you for posting a question! Would you be able to add screenshots of the Android and UWP apps to further demonstrate the issue?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 8938395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rbJvq.png?s=128&g=1", "display_name": "Leonardo Antonio Borrelli", "link": "https://stackoverflow.com/users/8938395/leonardo-antonio-borrelli"}, "edited": false, "score": 0, "creation_date": 1567105045, "post_id": 57703078, "comment_id": 101874377, "body": "I tried to use a .png file instead of a .ico file but it is still displayed only on Android and not on UWP"}], "tags": [], "owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "is_accepted": false, "score": 1, "last_activity_date": 1567053697, "creation_date": 1567053697, "answer_id": 57703078, "question_id": 57699552, "link": "https://stackoverflow.com/questions/57699552/cant-show-the-icon-for-a-button-in-toolbar-items-with-uwp/57703078#57703078", "title": "Can&#39;t show the icon for a button in Toolbar Items with UWP", "body": "<p>I can confirm that while UWP can display an <code>.ico</code> file in a <code>Image</code> element, it does not work with the <code>BitmapIcon</code>, which Xamarin.Forms uses underneath for <code>ToolbarItem</code>. Therefore you will unfortunately not be able to use this very file on UWP. However, you can convert your icon to a <code>.png</code> image and that will display on all platforms without problems.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 8938395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rbJvq.png?s=128&g=1", "display_name": "Leonardo Antonio Borrelli", "link": "https://stackoverflow.com/users/8938395/leonardo-antonio-borrelli"}, "edited": false, "score": 0, "creation_date": 1567104763, "post_id": 57704926, "comment_id": 101874255, "body": "if I try with your method I don&#39;t get any button icon in the toolbar items. Neither in UWP, nor in Android. Even if I convert the .ico file to .png"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "edited": false, "score": 0, "creation_date": 1567143021, "post_id": 57704926, "comment_id": 101882834, "body": "Interesting, for some reason the icon I have tried did not show up on pure UWP app when I used <code>.ico</code> file. Surprised it does work in Xamarin.Forms :-O"}], "tags": [], "owner": {"reputation": 5694, "user_id": 11850033, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L8DeL.jpg?s=128&g=1", "display_name": "Wendy Zang - MSFT", "link": "https://stackoverflow.com/users/11850033/wendy-zang-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1567062900, "creation_date": 1567062900, "answer_id": 57704926, "question_id": 57699552, "link": "https://stackoverflow.com/questions/57699552/cant-show-the-icon-for-a-button-in-toolbar-items-with-uwp/57704926#57704926", "title": "Can&#39;t show the icon for a button in Toolbar Items with UWP", "body": "<p>Do the change of the code below and set the .ico file Properties> Build Action to Content.\n<a href=\"https://i.stack.imgur.com/K6m3U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K6m3U.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Change:</strong></p>\n\n<pre><code>btnAbout.IconImageSource = ImageSource.FromResource(\"Monk.about.ico\");\n</code></pre>\n\n<p><strong>To:</strong></p>\n\n<pre><code>btnAbout.IconImageSource = ImageSource.FromFile(\"Monk.about.ico\");\n</code></pre>\n\n<p><strong>Or you could set the IconImageSource in XAML.</strong></p>\n\n<pre><code>&lt;ContentPage.ToolbarItems&gt;\n    &lt;ToolbarItem Order=\"Primary\"\n                 Text=\"Icon Item\"\n                 Priority=\"0\"\n                 IconImageSource=\"Monk.about.ico\"\n                 Clicked=\"OnItemClicked\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>My .ico file:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/ln7ih.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ln7ih.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>My result:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/3zN5I.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3zN5I.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8938395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rbJvq.png?s=128&g=1", "display_name": "Leonardo Antonio Borrelli", "link": "https://stackoverflow.com/users/8938395/leonardo-antonio-borrelli"}, "is_accepted": true, "score": 1, "last_activity_date": 1567110586, "creation_date": 1567110586, "answer_id": 57717375, "question_id": 57699552, "link": "https://stackoverflow.com/questions/57699552/cant-show-the-icon-for-a-button-in-toolbar-items-with-uwp/57717375#57717375", "title": "Can&#39;t show the icon for a button in Toolbar Items with UWP", "body": "<p>I found the solution, I write it for those who need it:</p>\n\n<p>it was necessary to define the path of the icons according to the type of OS destination for compilation.</p>\n\n<p>For Android I had to copy the image to all the \"drawable ...\" folders and set its compilation property as \"AndroidResource\".</p>\n\n<p>For UWP I had to copy the png file to the Assets folder and then set its compilation property as \"Content\".</p>\n\n<p>Finally, you must indicate in the XAML file which paths to use depending on the type of compilation. The code is as follows:</p>\n\n<pre><code>&lt;ContentPage.ToolbarItems&gt;\n        &lt;ToolbarItem Text=\"ABOUT\" Clicked=\"OnNextPageButtonClicked\" Priority=\"0\"&gt;\n            &lt;ToolbarItem.IconImageSource&gt;\n                &lt;OnPlatform x:TypeArguments=\"FileImageSource\"&gt;\n                    &lt;On Platform=\"Android\"&gt;info&lt;/On&gt;\n                    &lt;On Platform=\"UWP\"&gt;Assets/info.png&lt;/On&gt;\n                &lt;/OnPlatform&gt;\n            &lt;/ToolbarItem.IconImageSource&gt;\n        &lt;/ToolbarItem&gt; \n&lt;/ContentPage.ToolbarItems&gt;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8938395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rbJvq.png?s=128&g=1", "display_name": "Leonardo Antonio Borrelli", "link": "https://stackoverflow.com/users/8938395/leonardo-antonio-borrelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 469, "favorite_count": 1, "accepted_answer_id": 57717375, "answer_count": 3, "score": 2, "last_activity_date": 1567110586, "creation_date": 1567023666, "last_edit_date": 1567053720, "question_id": 57699552, "link": "https://stackoverflow.com/questions/57699552/cant-show-the-icon-for-a-button-in-toolbar-items-with-uwp", "title": "Can&#39;t show the icon for a button in Toolbar Items with UWP", "body": "<p>I'm working on an app for the UWP and Android platforms. I want to set an icon for a button in the navigation toolbar. This is my code in XAML:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ContentPage.ToolbarItems&gt;\n    &lt;ToolbarItem x:Name=\"btnAbout\" Text=\"ABOUT\" Order=\"Primary\" Clicked=\"OnNextPageButtonClicked\"/&gt;\n&lt;/ContentPage.ToolbarItems&gt;\n</code></pre>\n\n<p>and this is the code in the associated .cs file:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>protected override void OnAppearing() \n{ \n    base.OnAppearing();\n    btnAbout.IconImageSource = ImageSource.FromResource(\"Monk.about.ico\"); \n}\n</code></pre>\n\n<p>Everything works just fine on Android, but in UWP, even though I can click the button, I can't see the icon.</p>\n\n<p>Where did I go wrong?</p>\n"}, {"tags": ["c#", "unity3d", "accelerometer"], "comments": [{"owner": {"reputation": 54, "user_id": 11302416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h7Qo0.jpg?s=128&g=1", "display_name": "toobladink", "link": "https://stackoverflow.com/users/11302416/toobladink"}, "edited": false, "score": 0, "creation_date": 1567023847, "post_id": 57699521, "comment_id": 101843039, "body": "I believe you may have answered your own question, are you just not sure how to implement it?"}, {"owner": {"reputation": 347, "user_id": 4544176, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153000022130272/picture?type=large", "display_name": "Danie", "link": "https://stackoverflow.com/users/4544176/danie"}, "reply_to_user": {"reputation": 54, "user_id": 11302416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h7Qo0.jpg?s=128&g=1", "display_name": "toobladink", "link": "https://stackoverflow.com/users/11302416/toobladink"}, "edited": false, "score": 0, "creation_date": 1567024066, "post_id": 57699521, "comment_id": 101843115, "body": "@toobladink In that case, nice! :) And yes, I would be very happy to get help implementing that."}, {"owner": {"reputation": 54, "user_id": 11302416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h7Qo0.jpg?s=128&g=1", "display_name": "toobladink", "link": "https://stackoverflow.com/users/11302416/toobladink"}, "edited": false, "score": 0, "creation_date": 1567366349, "post_id": 57699521, "comment_id": 101935221, "body": "Sorry for the late reply, but I don&#39;t know much on this topic and I&#39;m not sure I can provide a solution. But, are you not able to detect when the phone is upside down, and then apply different logic? I&#39;m not sure when the phone may be &quot;upside down&quot; or if there is even a sensor that could detect change in that direction."}], "owner": {"reputation": 347, "user_id": 4544176, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153000022130272/picture?type=large", "display_name": "Danie", "link": "https://stackoverflow.com/users/4544176/danie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567023512, "creation_date": 1567023512, "question_id": 57699521, "link": "https://stackoverflow.com/questions/57699521/unity-plaform-rotation-controlled-by-accelerometer-rotates-in-wrong-direction-wh", "title": "Unity plaform rotation controlled by accelerometer rotates in wrong direction when phone is upside down", "body": "<p>I am developing a Unity game where you control the rotation of a platform using the phone accelerometer. Everything works great when holding the phone in front of me, but if I lay down in my bed with the phone above me (upside down) and tilts the phone forward or backward the platform rotates in the opposite direction. How can I solve this? Maybe I need to invert the direction of the input if the phone is upside down in some way, I am not sure.</p>\n\n<p>Here is my script that is added to the platform object.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using UnityEngine;\n\npublic class PlatformAccelerometer : MonoBehaviour\n{\n    [SerializeField]\n    private float maxTiltAngle = 45;\n    [SerializeField]\n    private float viewAngle = 25;\n    [SerializeField]\n    private float tiltSpeed = 10;\n\n    private Quaternion _target;\n\n    private void Update()\n    {\n        var tiltAroundX = Input.acceleration.y * maxTiltAngle + viewAngle;\n        var tiltAroundZ = -Input.acceleration.x * maxTiltAngle;\n        _target = Quaternion.Euler(tiltAroundX, 0, tiltAroundZ);\n        transform.rotation = Quaternion.Slerp(transform.rotation, _target, Time.deltaTime * tiltSpeed);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "selenium"], "comments": [{"owner": {"reputation": 1, "user_id": 11991125, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LzXlJ0H13Dw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3recjq2RQBtWcH0ihzFt2-0hoa_heg/photo.jpg?sz=128", "display_name": "Jeff Huang", "link": "https://stackoverflow.com/users/11991125/jeff-huang"}, "edited": false, "score": 0, "creation_date": 1567023320, "post_id": 57699477, "comment_id": 101842854, "body": "html5 code:                                                                                                                &lt;input id=&quot;txtGeneratedPassword&quot; type=&quot;text&quot; class=&quot;form-control&quot; data-bind=&quot;textInput: overridePassword, enable: false&quot; title=&quot;&quot; disabled=&quot;&quot;&gt;"}, {"owner": {"reputation": 450, "user_id": 9150392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUfDH.jpg?s=128&g=1", "display_name": "IPolnik", "link": "https://stackoverflow.com/users/9150392/ipolnik"}, "edited": false, "score": 0, "creation_date": 1567026934, "post_id": 57699477, "comment_id": 101844237, "body": "did u try to get password just by using selenium method passwd_text.Text?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1567032555, "post_id": 57699477, "comment_id": 101845647, "body": "Rather than showing us the knockout view of the world, please view the DOM using Chrome Developer Tools and show us the runtime HTML when the Selenium code is running."}, {"owner": {"reputation": 5766, "user_id": 8752062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd7130a2d4925c477eea540adac4ab8?s=128&d=identicon&r=PG&f=1", "display_name": "frianH", "link": "https://stackoverflow.com/users/8752062/frianh"}, "edited": false, "score": 0, "creation_date": 1567052173, "post_id": 57699477, "comment_id": 101849100, "body": "@JeffHuang you want get value attribute <code>data-bind</code> ?"}, {"owner": {"reputation": 1, "user_id": 11991125, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LzXlJ0H13Dw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3recjq2RQBtWcH0ihzFt2-0hoa_heg/photo.jpg?sz=128", "display_name": "Jeff Huang", "link": "https://stackoverflow.com/users/11991125/jeff-huang"}, "edited": false, "score": 0, "creation_date": 1567099637, "post_id": 57699477, "comment_id": 101872230, "body": "Yes, I want get value attribute data-bind"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11991125, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LzXlJ0H13Dw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3recjq2RQBtWcH0ihzFt2-0hoa_heg/photo.jpg?sz=128", "display_name": "Jeff Huang", "link": "https://stackoverflow.com/users/11991125/jeff-huang"}, "edited": false, "score": 0, "creation_date": 1567046117, "post_id": 57701045, "comment_id": 101848012, "body": "Does not work. Please note that \u201cenable : false\u201d in html. It is hiding and will get nothing"}, {"owner": {"reputation": 2178, "user_id": 1387701, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f5209b17c9efa573f90ab04d476c0936?s=128&d=identicon&r=PG", "display_name": "DMart", "link": "https://stackoverflow.com/users/1387701/dmart"}, "reply_to_user": {"reputation": 1, "user_id": 11991125, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LzXlJ0H13Dw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3recjq2RQBtWcH0ihzFt2-0hoa_heg/photo.jpg?sz=128", "display_name": "Jeff Huang", "link": "https://stackoverflow.com/users/11991125/jeff-huang"}, "edited": false, "score": 0, "creation_date": 1567095083, "post_id": 57701045, "comment_id": 101870238, "body": "Show more of the HTML."}], "tags": [], "owner": {"reputation": 2178, "user_id": 1387701, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f5209b17c9efa573f90ab04d476c0936?s=128&d=identicon&r=PG", "display_name": "DMart", "link": "https://stackoverflow.com/users/1387701/dmart"}, "is_accepted": false, "score": 0, "last_activity_date": 1567033684, "creation_date": 1567033684, "answer_id": 57701045, "question_id": 57699477, "link": "https://stackoverflow.com/questions/57699477/how-does-selenium-get-the-hiding-text-from-knockouts-data-bind-like-data-bind/57701045#57701045", "title": "How does Selenium get the hiding text from knockout&#39;s data-bind like data-bind=&quot;textInput: overridePassword, enable: false&quot;", "body": "<p>you want to get the value, not the text:\n<a href=\"https://stackoverflow.com/questions/20121302/how-can-one-get-the-value-of-a-text-input-using-selenium-with-c\">How can one get the value of a text input using Selenium with C#?</a></p>\n\n<pre><code>passwd_text.GetAttribute(\"value\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11991125, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LzXlJ0H13Dw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3recjq2RQBtWcH0ihzFt2-0hoa_heg/photo.jpg?sz=128", "display_name": "Jeff Huang", "link": "https://stackoverflow.com/users/11991125/jeff-huang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "closed_date": 1567067024, "answer_count": 1, "score": -2, "last_activity_date": 1567099881, "creation_date": 1567023264, "last_edit_date": 1567099881, "question_id": 57699477, "link": "https://stackoverflow.com/questions/57699477/how-does-selenium-get-the-hiding-text-from-knockouts-data-bind-like-data-bind", "closed_reason": "Duplicate", "title": "How does Selenium get the hiding text from knockout&#39;s data-bind like data-bind=&quot;textInput: overridePassword, enable: false&quot;", "body": "<p>I am creating <code>selenium</code> automation for our UI testing, and I tried to generate a random password for a user. How does <code>selenium 3</code> <code>WebDriver</code> based on <code>C#</code> get the text of <code>html5</code> knockout data-bind? I am using <code>selenium 3</code> framework based on <code>C#</code> and <code>Visual Studio 2019</code></p>\n\n<pre><code>&lt;input id=\"txtGeneratedPassword\" type=\"text\" class=\"form-control\" data-bind=\"textInput: overridePassword, enable: false\" title=\"\" disabled=\"\"&gt;\n</code></pre>\n\n<p>The following is the part of my code:</p>\n\n<pre><code>IWebElement passwd_text = driver.FindElement(By.Id(\"txtGeneratedPassword\"));\nConsole.WriteLine(driver.ExecuteJavaScript&lt;String&gt;(\"return \narguments[0].textContent\", passwd_text)); \n</code></pre>\n\n<p>but nothing is displayed</p>\n"}, {"tags": ["c#", "async-await", "blazor-server-side"], "comments": [{"owner": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "edited": false, "score": 0, "creation_date": 1567063962, "post_id": 57699320, "comment_id": 101852924, "body": "You can take a full dump of the process (using task manager will do) and open the dump in Visual Studio and look at the threads to see where it&#39;s blocked."}], "owner": {"reputation": 21, "user_id": 5605641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8faa85df5ddfd346ecde8d7c3e977a?s=128&d=identicon&r=PG&f=1", "display_name": "dlanglois", "link": "https://stackoverflow.com/users/5605641/dlanglois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1567024355, "creation_date": 1567022431, "last_edit_date": 1567024355, "question_id": 57699320, "link": "https://stackoverflow.com/questions/57699320/blazor-hang-when-calling-a-injected-async-service-which-in-turns-call-an-async-s", "title": "Blazor hang when calling a injected async service which in turns call an async service", "body": "<p>I am having an issue with a <code>Blazor</code> component that calls an <code>Async</code> injected service where the injected service, in turn, calls another Async method.  If I comment out the <code>inner</code> async all works fine?</p>\n\n<p>I've tried to remove the inner async call and will work.  I've tried <code>Task.CompletedTask</code> and delay to monitor. I find that all the async methods work as designed and data returns to the component, however the Blazor app freezes when rendered.</p>\n\n<blockquote>\n  <p>Component code:</p>\n</blockquote>\n\n<pre class=\"lang-cs prettyprint-override\"><code> protected override async Task OnInitializedAsync()\n    {\n        try\n        {\n            cntrols = await parser.getFormElementsAsync();\n        }\n        catch(Exception e)\n        {\n            var x = e.Message;\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>From Service:</p>\n</blockquote>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public async Task&lt;List&lt;FHIRParser&gt;&gt; getFormElementsAsync()\n{\n    var tmp = await getItemsAsync();\n</code></pre>\n\n<ul>\n<li>getItemsAsync() calls another Async HTTP request.  Tracing code all works fine until returns back to Component</li>\n</ul>\n\n<p>I receive no exceptions just hangs</p>\n"}, {"tags": ["c#", "uwp"], "comments": [{"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1567022293, "post_id": 57699241, "comment_id": 101842429, "body": "The only place you could get that exception is on <code>return (decimal?)GetValue(ValueProperty);</code>, which is being called in the first <code>Value</code> reference in <code>Value.Value</code>."}, {"owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567022371, "post_id": 57699241, "comment_id": 101842473, "body": "@madreflection so yes. I wasn&#39;t sure because when visual studio paused it displayed the context window over the line I posted but highlighted the line you pointed out"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567022400, "post_id": 57699241, "comment_id": 101842488, "body": "Enable stepping into properties and you&#39;ll get more granular stepping."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 4, "creation_date": 1567022468, "post_id": 57699241, "comment_id": 101842516, "body": "I&#39;m not sure I understand why you need the value as an <code>int</code> just for display purposes (why not just use <code>ToString(&quot;N0&quot;)</code> or the equivalent formatting routine in UWP). But basically, if you&#39;re going to use a Nullable, use nullable throughout, don&#39;t use <code>.Value</code> in some places. In other words, plan for null."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1567022597, "post_id": 57699241, "comment_id": 101842580, "body": "Try <code>(decimal?)Convert.ToDecimal(GetValue(ValueProperty))</code>"}, {"owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1567022899, "post_id": 57699241, "comment_id": 101842703, "body": "@juharr same exception same location"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567046416, "post_id": 57699241, "comment_id": 101848050, "body": "You haven&#39;t posted any code that would lead to that exception. Both calls to <code>SetValue()</code> use a <code>decimal</code> value, not an <code>int</code> value, so they can&#39;t be the place the value is getting set to an <code>int</code>. Most likely you&#39;ve bound the <code>IntValue</code> property to some <code>int</code> source or target and that&#39;s updating it. But without a good <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reliably reproduces the problem, it&#39;s impossible to say. One option would be to use the <code>is</code> operator to check the type before casting, and cast to <code>int</code> before casting to <code>decimal</code> if you find that the object value is <code>int</code>."}, {"owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567067189, "post_id": 57699241, "comment_id": 101854638, "body": "@PeterDuniho have you pulled the code down in the github link that I posed at the end and run it? It literally is a working example, and certainly throws the exception <a href=\"https://i.imgur.com/dTEQmyJ.png\" rel=\"nofollow noreferrer\">i.imgur.com/dTEQmyJ.png</a>"}, {"owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567067412, "post_id": 57699241, "comment_id": 101854731, "body": "@PeterDuniho just so no one has to go to github I posted the full set of code above."}, {"owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1567073587, "post_id": 57699241, "comment_id": 101857926, "body": "Please try to use <code>x:Bind</code> to replace <code>Binding</code> and remove  <code>DataContext = this;</code>"}, {"owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "reply_to_user": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1567077786, "post_id": 57699241, "comment_id": 101860223, "body": "@NicoZhu-MSFT I just put the bound property in the behind code to simplify this example. In the actual application it&#39;s bound to a view model so using x:bind wouldn&#39;t be accurate"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567082847, "post_id": 57699241, "comment_id": 101863133, "body": "So, you&#39;re saying that the behavior you&#39;re asking about, <b>doesn&#39;t happen if you don&#39;t use a <code>UserControl</code></b>?"}, {"owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567082897, "post_id": 57699241, "comment_id": 101863174, "body": "@PeterDuniho no, I&#39;m saying the bug doesn&#39;t happen if I don&#39;t convert a property backed by a dependency property."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567082920, "post_id": 57699241, "comment_id": 101863188, "body": "Then why does your so-called <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> have a <code>UserControl</code> in it?"}, {"owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567083001, "post_id": 57699241, "comment_id": 101863239, "body": "@PeterDuniho because you wanted an example of what I was doing. So I created an example of what I&#39;m doing. I&#39;m not sure why there&#39;s so much confusion over this. The issue is clearly defined and I provided a working example of it as you requested."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567083064, "post_id": 57699241, "comment_id": 101863281, "body": "What <i>I</i> was asking for was a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. If there are things in the code you post that are not actually needed in order to reproduce the behavior, then the code is not <b>minimal</b>."}, {"owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567083367, "post_id": 57699241, "comment_id": 101863466, "body": "@PeterDuniho I&#39;m not sure if UserControl is related or not. This is the setup I have. This is the minimal code that I think is required. I&#39;m sorry if you don&#39;t think it&#39;s minimal enough but either way this is the best I can provide at this time."}], "answers": [{"comments": [{"owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "edited": false, "score": 0, "creation_date": 1567023305, "post_id": 57699442, "comment_id": 101842845, "body": "same exception same location"}, {"owner": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "reply_to_user": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "edited": false, "score": 0, "creation_date": 1567023854, "post_id": 57699442, "comment_id": 101843042, "body": "@AnthonyRussell Updated my answer, this code was tested and works as expected. Although, the previous version also worked."}, {"owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "edited": false, "score": 0, "creation_date": 1567023965, "post_id": 57699442, "comment_id": 101843082, "body": "Your code doesn&#39;t match. Try it with a nullable decimal dependency property. Thats where the issue is"}], "tags": [], "owner": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "is_accepted": false, "score": 0, "last_activity_date": 1567023825, "last_edit_date": 1567023825, "creation_date": 1567023060, "answer_id": 57699442, "question_id": 57699241, "link": "https://stackoverflow.com/questions/57699241/casting-a-nullable-decimal-dependency-property-to-an-int32-failing/57699442#57699442", "title": "Casting a Nullable Decimal Dependency Property to an Int32 Failing", "body": "<p>The problem is that your converting the decimal to an INT and trying to store it in a nullable INT.\nThis should do it, this is my test code from a console app that absolutely works for both a null decimal and one with a value.</p>\n\n<pre><code>        decimal? Value = System.Convert.ToDecimal(\"3.3234\");\n        //decimal? Value = null;\n\n        int? _intValue;\n        if (Value.HasValue)\n            _intValue = System.Convert.ToInt32(Value.Value);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "edited": false, "score": 0, "creation_date": 1567024734, "post_id": 57699688, "comment_id": 101843383, "body": "I appreciate the answer but I did try this and it doesn&#39;t work. Same exception, same location"}, {"owner": {"reputation": 106, "user_id": 8899670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c2d8ebedc6f3765314da57c7ca469d0?s=128&d=identicon&r=PG&f=1", "display_name": "HSBogdan", "link": "https://stackoverflow.com/users/8899670/hsbogdan"}, "reply_to_user": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "edited": false, "score": 0, "creation_date": 1567025322, "post_id": 57699688, "comment_id": 101843613, "body": "<code>set { SetValue(ValueProperty, (decimal)value); }</code> In this bit of code, shouldn&#39;t it be <b>(decimal?)</b> instead of <b>(decimal)</b>?"}, {"owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "edited": false, "score": 0, "creation_date": 1567025475, "post_id": 57699688, "comment_id": 101843688, "body": "Nullable decimals can be set to decimals and also null"}], "tags": [], "owner": {"reputation": 106, "user_id": 8899670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c2d8ebedc6f3765314da57c7ca469d0?s=128&d=identicon&r=PG&f=1", "display_name": "HSBogdan", "link": "https://stackoverflow.com/users/8899670/hsbogdan"}, "is_accepted": false, "score": 0, "last_activity_date": 1567024417, "creation_date": 1567024417, "answer_id": 57699688, "question_id": 57699241, "link": "https://stackoverflow.com/questions/57699241/casting-a-nullable-decimal-dependency-property-to-an-int32-failing/57699688#57699688", "title": "Casting a Nullable Decimal Dependency Property to an Int32 Failing", "body": "<p>The code below converts a <strong>decimal</strong> value to an <strong>int</strong> value, as its name suggests.</p>\n\n<pre><code>Decimal.ToInt32(Value.Value)\n</code></pre>\n\n<p>In order to further convert it to an <strong>int?</strong> I would do something like this:</p>\n\n<pre><code>int? _intValue= Value.HasValue ? (Decimal.ToInt32(Value.Value) as int?) : null;\n</code></pre>\n\n<ul>\n<li>The code checks if there is a value for <em>Value</em> and, if so, it tries to convert it to an <strong>int</strong> type and then cast it to an <strong>int?</strong>. Otherwise it returns <em>null</em>;</li>\n<li>The usage of <strong>as</strong> keyword for casting is justified by the fact that if the cast fails, it simply assigns <em>null</em> to the <em>_intValue</em> variable;</li>\n<li>This is the preferred method over the direct cast (using <code>(int?)Decimal.ToInt32(Value.Value)</code>) because in the case that the casting is not working, an <code>InvalidCastException</code> is thrown. </li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1767, "user_id": 1406210, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/c1GEd.jpg?s=128&g=1", "display_name": "Lance McCarthy", "link": "https://stackoverflow.com/users/1406210/lance-mccarthy"}, "edited": false, "score": 1, "creation_date": 1567112721, "post_id": 57711265, "comment_id": 101877154, "body": "I always use new PropertyMetadata(default(theTypeHere), OnPropertyChanged) ."}, {"owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "reply_to_user": {"reputation": 1767, "user_id": 1406210, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/c1GEd.jpg?s=128&g=1", "display_name": "Lance McCarthy", "link": "https://stackoverflow.com/users/1406210/lance-mccarthy"}, "edited": false, "score": 0, "creation_date": 1567122680, "post_id": 57711265, "comment_id": 101879452, "body": "@LanceMcCarthy we actually had a team discussion after I found this to make <code>default(type)</code> the new team standard"}, {"owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1567736538, "post_id": 57711265, "comment_id": 102061046, "body": "If you have resolved your issue please <a href=\"https://meta.stackexchange.com/a/5235\">mark</a> it as accepted to convenient people who visit this thread later."}], "tags": [], "owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "is_accepted": true, "score": 0, "last_activity_date": 1567085231, "creation_date": 1567085231, "answer_id": 57711265, "question_id": 57699241, "link": "https://stackoverflow.com/questions/57699241/casting-a-nullable-decimal-dependency-property-to-an-int32-failing/57711265#57711265", "title": "Casting a Nullable Decimal Dependency Property to an Int32 Failing", "body": "<p>So I finally figured out what the issue was. </p>\n\n<p>The problem was indeed the dependency property </p>\n\n<p><strong>What is posted above</strong></p>\n\n<pre><code>public static readonly DependencyProperty TestDecimalProperty =\n            DependencyProperty.Register(\"TestDecimal\", typeof(object), typeof(TestControl), new PropertyMetadata(0));\n</code></pre>\n\n<p>note the <code>PropertyMetaData</code> constructor, when you use a <code>0</code> in code without a type designation, C# will infer that the type you want is <code>Int32</code>. C# isn't smart enough to know to look at the dependency property to infer the actual type that you want. </p>\n\n<p>In the above case, replacing the <code>0</code> with <code>null</code> in the <code>PropertyMetadata</code> constructor fixes the issue. </p>\n\n<pre><code>public static readonly DependencyProperty TestDecimalProperty =\n            DependencyProperty.Register(\"TestDecimal\", typeof(object), typeof(TestControl), new PropertyMetadata(null));\n</code></pre>\n"}], "owner": {"reputation": 9023, "user_id": 2051392, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TYcnj.jpg?s=128&g=1", "display_name": "Anthony Russell", "link": "https://stackoverflow.com/users/2051392/anthony-russell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 1, "accepted_answer_id": 57711265, "answer_count": 3, "score": 0, "last_activity_date": 1567085231, "creation_date": 1567021999, "last_edit_date": 1567067514, "question_id": 57699241, "link": "https://stackoverflow.com/questions/57699241/casting-a-nullable-decimal-dependency-property-to-an-int32-failing", "title": "Casting a Nullable Decimal Dependency Property to an Int32 Failing", "body": "<p><strong>MainPage.xaml</strong></p>\n\n<pre><code>&lt;Page\n    x:Class=\"NullableDependencyPropertyCastBug.MainPage\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:local=\"using:NullableDependencyPropertyCastBug\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    mc:Ignorable=\"d\"\n    Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\"&gt;\n\n    &lt;Grid&gt;\n        &lt;local:TestControl TestDecimal=\"{Binding ViewModelTestDecimal}\" /&gt;\n    &lt;/Grid&gt;\n&lt;/Page&gt;\n</code></pre>\n\n<p><strong>MainPage.xaml.cs</strong></p>\n\n<pre><code>using Windows.UI.Xaml.Controls;\nnamespace NullableDependencyPropertyCastBug\n{\n    public sealed partial class MainPage : Page\n    {\n        public decimal? ViewModelTestDecimal { get; set; }\n\n        public MainPage()\n        {\n            this.InitializeComponent();\n            this.DataContext = this;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>TestControl.xaml</strong></p>\n\n<pre><code>&lt;UserControl\n    x:Class=\"NullableDependencyPropertyCastBug.TestControl\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:local=\"using:NullableDependencyPropertyCastBug\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    mc:Ignorable=\"d\"\n    d:DesignHeight=\"300\"\n    d:DesignWidth=\"400\"&gt;\n\n    &lt;Grid&gt;\n        &lt;TextBlock Text=\"{x:Bind TestIntConversion}\" /&gt;\n        &lt;TextBlock Text=\"{x:Bind TestDecimal}\" /&gt;\n    &lt;/Grid&gt;\n&lt;/UserControl&gt;\n</code></pre>\n\n<p><strong>TestControl.xaml.cs</strong></p>\n\n<pre><code>using System;\nusing Windows.UI.Xaml;\nusing Windows.UI.Xaml.Controls;\nnamespace NullableDependencyPropertyCastBug\n{\n    public sealed partial class TestControl : UserControl\n    {\n        public int? TestIntConversion\n        {\n            get { return TestDecimal.HasValue ? Decimal.ToInt32(TestDecimal.Value) : 0; }\n            set { TestDecimal = (decimal)value; }\n        }        \n\n        public decimal? TestDecimal\n        {\n            get { return (decimal?)GetValue(TestDecimalProperty); }\n            set { SetValue(TestDecimalProperty, value); }\n        }\n\n        public static readonly DependencyProperty TestDecimalProperty =\n            DependencyProperty.Register(\"TestDecimal\", typeof(object), typeof(TestControl), new PropertyMetadata(0));\n\n\n        public TestControl()\n        {\n            this.InitializeComponent();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Use Case:</strong></p>\n\n<p>I want to have a single dependency property to bind to for my consumer but in the view of this control, I have two different controls. One that shows the number as a decimal and one that shows it as an int. </p>\n\n<p><strong>The Problem:</strong></p>\n\n<p>I'm getting an exception on this line</p>\n\n<p><code>get { return TestDecimal.HasValue ? Decimal.ToInt32(TestDecimal.Value) : 0; }</code></p>\n\n<blockquote>\n  <p>Unable to cast object of type 'System.Int32' to type 'System.Nullable`1[System.Decimal]'.</p>\n</blockquote>\n\n<p>When I change <code>Decimal.ToInt32(TestDecimal.Value)</code> to a property not backed by a nullable decimal dependency property, it works fine. This seems to be related directly to the dependency property </p>\n\n<h2>UPDATE</h2>\n\n<p>If you'd like to see the bug for yourself, I've taken the time to abstract this out to a very basic working example</p>\n\n<p><a href=\"https://github.com/DotNetRussell/NullableDependencyPropertyCastBug\" rel=\"nofollow noreferrer\">https://github.com/DotNetRussell/NullableDependencyPropertyCastBug</a> </p>\n\n<p><a href=\"https://i.stack.imgur.com/3S0an.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3S0an.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "unity3d", "opengl"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1567061677, "post_id": 57699209, "comment_id": 101851846, "body": "what exactly is a <code>fireing zone</code>?"}, {"owner": {"reputation": 37, "user_id": 9043688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9107a4587d50dfb16c6ceb04a5b2b37?s=128&d=identicon&r=PG&f=1", "display_name": "HedgehogNSK", "link": "https://stackoverflow.com/users/9043688/hedgehognsk"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1567120679, "post_id": 57699209, "comment_id": 101879065, "body": "It is visualization of weapon shot dispersion."}], "owner": {"reputation": 37, "user_id": 9043688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9107a4587d50dfb16c6ceb04a5b2b37?s=128&d=identicon&r=PG&f=1", "display_name": "HedgehogNSK", "link": "https://stackoverflow.com/users/9043688/hedgehognsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567021869, "creation_date": 1567021869, "question_id": 57699209, "link": "https://stackoverflow.com/questions/57699209/semitransperent-fireing-zone-for-shooter-game", "title": "Semitransperent fireing zone for shooter game", "body": "<p>I'm coding shooter game. Now, I'm trying to draw fireing zone for player when he is targeting. For this task I decide to use GL. </p>\n\n<p>So I wrote code for drawing zone polygon but it don't want to be semi-transparent. </p>\n\n<pre><code>sealed public class Player : Dweller, IHitable, IAttacker\n    {\n...\nprivate void SetWeapon(Weapon prefab)\n        {\n            if (!weapon)\n            {\n                weapon = Instantiate(prefab, hand);\n                Camera.onPostRender += FiringZoneHilighter;\n            }\n        }\n\n bool highlight = false;\n        public void TakeAim(Joystick joystick, Vector2 forward, bool fire)\n        {\n            highlight = false;\n            if (fire)\n            {\n                CmdAttack();\n\n            }\n            else\n            {\n                SetRotation(forward);\n                highlight = true;\n            }\n        }\n\nprivate void FiringZoneHilighter(Camera cam)\n        {\n            if (!highlight) return;\n            if (!cam.GetComponent&lt;PlayerFollower&gt;()) return;\n\n            if (!aimVizualizationMaterial)\n            {\n                Debug.LogError(\"Material for aim vizualization isn't set\");\n                return;\n            }\n            //Debug.Log(\"Drawing\");\n            Vector3 weaponPos = weapon.transform.position;\n            float spread = weapon.AttackSpread;\n            float range = weapon.Range;\n            Vector3 direction = transform.forward;\n\n            aimVizualizationMaterial.SetPass(0);\n\n\n            GL.Begin(GL.TRIANGLES);\n            GL.Color(new Color(0.1f, 1f, 0.2f, 0.3f));\n\n\n            Vector3 nextPoint = weaponPos + direction.RotateAroundY(-spread / 2) * range;\n            Vector3 rightFarthestPoint;\n            int points = 1000;\n\n            float spreadPart = spread / points;\n            for (int i = 0; i != points; i++)\n            {\n                GL.Vertex3(weaponPos.x, weaponPos.y, weaponPos.z);\n\n                rightFarthestPoint = nextPoint;\n                nextPoint = weaponPos + direction.RotateAroundY(i * spreadPart - spread / 2) * range;\n                GL.Vertex3(rightFarthestPoint.x, rightFarthestPoint.y, rightFarthestPoint.z);\n                GL.Vertex3(nextPoint.x, nextPoint.y, nextPoint.z);\n            }\n\n            GL.End();\n\n\n        }\n...\n}\n</code></pre>\n\n<p>I even can't understand which type of shader I should use for material. Most of the time it staying invisible. If'm deleting *.SetPass(0) zone becomes grey. In this case when player shoots (shoot have animation particle), somewhere in animation life cicle GL draws zone. After paticle ends zone becomes grey again. </p>\n\n<p>Maybe there is another more easier way to draw this zone whitou GL? </p>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["c#", "asp.net-core", ".net-core", "asp.net-core-mvc", "entity-framework-core"], "comments": [{"owner": {"reputation": 126, "user_id": 10728126, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1103fc0a05c466c4f3cd8d55395a15a2?s=128&d=identicon&r=PG", "display_name": "user10728126", "link": "https://stackoverflow.com/users/10728126/user10728126"}, "edited": false, "score": 1, "creation_date": 1567022371, "post_id": 57699138, "comment_id": 101842472, "body": "I did something similar with Dapper and the IDbConnection class. Since you&#39;re using Core, you can take advantage of the IOptions interface wrapper class and set the connection string at startup near the composition root. It&#39;s been awhile since I&#39;ve used Entity Framework so my example may not help, but you can check it out on Github: <a href=\"https://github.com/B-Richie/Dapper_DAL\" rel=\"nofollow noreferrer\">github.com/B-Richie/Dapper_DAL</a>"}, {"owner": {"reputation": 126, "user_id": 10728126, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1103fc0a05c466c4f3cd8d55395a15a2?s=128&d=identicon&r=PG", "display_name": "user10728126", "link": "https://stackoverflow.com/users/10728126/user10728126"}, "edited": false, "score": 0, "creation_date": 1567171329, "post_id": 57699138, "comment_id": 101895244, "body": "You&#39;re making it a billion times hard than it actually is!"}, {"owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "reply_to_user": {"reputation": 126, "user_id": 10728126, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1103fc0a05c466c4f3cd8d55395a15a2?s=128&d=identicon&r=PG", "display_name": "user10728126", "link": "https://stackoverflow.com/users/10728126/user10728126"}, "edited": false, "score": 0, "creation_date": 1567171779, "post_id": 57699138, "comment_id": 101895513, "body": "@user10728126 could you say how can I do it simpler?"}, {"owner": {"reputation": 126, "user_id": 10728126, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1103fc0a05c466c4f3cd8d55395a15a2?s=128&d=identicon&r=PG", "display_name": "user10728126", "link": "https://stackoverflow.com/users/10728126/user10728126"}, "edited": false, "score": 0, "creation_date": 1567172273, "post_id": 57699138, "comment_id": 101895780, "body": "you have the example above or go to the other thread: <a href=\"https://stackoverflow.com/questions/51304432/how-to-read-connection-string-inside-net-standard-class-library-project-from-as/57727560#57727560\" title=\"how to read connection string inside net standard class library project from as\">stackoverflow.com/questions/51304432/&hellip;</a>"}, {"owner": {"reputation": 126, "user_id": 10728126, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1103fc0a05c466c4f3cd8d55395a15a2?s=128&d=identicon&r=PG", "display_name": "user10728126", "link": "https://stackoverflow.com/users/10728126/user10728126"}, "edited": false, "score": 0, "creation_date": 1567172342, "post_id": 57699138, "comment_id": 101895815, "body": "Just use Configuration to map your appsettings.json section containing your connectionstring and set the value at startup near the composition root using IOptions."}], "answers": [{"tags": [], "owner": {"reputation": 3205, "user_id": 1926806, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/niiRQ.jpg?s=128&g=1", "display_name": "SWilko", "link": "https://stackoverflow.com/users/1926806/swilko"}, "is_accepted": false, "score": 1, "last_activity_date": 1567027737, "creation_date": 1567027737, "answer_id": 57700276, "question_id": 57699138, "link": "https://stackoverflow.com/questions/57699138/reading-connection-string-placed-in-asp-net-core-from-class-library-database-fi/57700276#57700276", "title": "Reading connection string placed in ASP.NET Core from class library. Database First", "body": "<p>You could use an <code>Environment Variable</code> in your Cars MVC project located in <code>launchSettings.json</code>. Something like <code>\"MSSQL_CONN_STR\": \"Server=PC\\2014XP..\"</code></p>\n\n<p>Then in the <code>Cars.Persistence</code> class library you can access the Environment Variable like this</p>\n\n<pre><code> protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n {\n    if (!optionsBuilder.IsConfigured)\n    {         \n     optionsBuilder.UseSqlServer(Environment.GetEnvironmentVariable(\"MSSQL_CONN_STR\");\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "edited": false, "score": 0, "creation_date": 1567059566, "post_id": 57701018, "comment_id": 101850960, "body": "Thanks for your reply! Do I need three projects - Net Core MVC, MigrationAssembly(getting connString here from Net Core MVC and set connString to RepositoryAssembly?)  and RepositoryAssembly(Database First here)?"}, {"owner": {"reputation": 2854, "user_id": 1041953, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5ceabce974045a89c88d2809580d161?s=128&d=identicon&r=PG", "display_name": "Imran Arshad", "link": "https://stackoverflow.com/users/1041953/imran-arshad"}, "reply_to_user": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "edited": false, "score": 0, "creation_date": 1567067457, "post_id": 57701018, "comment_id": 101854748, "body": "you only need 2 projects.  .net core mvc and class library project.  this is i am calling as assembly that contains migrations and database context (db first). your startup class has migrarion assembly method pointing this class library"}, {"owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "edited": false, "score": 0, "creation_date": 1567067750, "post_id": 57701018, "comment_id": 101854926, "body": "Thank you! So should <code>.NET Core MVC</code> have a dependency to <code>class library</code>? Could you write your project dependencies?"}, {"owner": {"reputation": 2854, "user_id": 1041953, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5ceabce974045a89c88d2809580d161?s=128&d=identicon&r=PG", "display_name": "Imran Arshad", "link": "https://stackoverflow.com/users/1041953/imran-arshad"}, "reply_to_user": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "edited": false, "score": 0, "creation_date": 1567075991, "post_id": 57701018, "comment_id": 101859242, "body": "have a look at this example.  this is my code on github <a href=\"https://github.com/ImranMA/MicroCouriers/tree/master/src/Services/Payment\" rel=\"nofollow noreferrer\">github.com/ImranMA/MicroCouriers/tree/master/src/Services/&hellip;</a>"}, {"owner": {"reputation": 2854, "user_id": 1041953, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5ceabce974045a89c88d2809580d161?s=128&d=identicon&r=PG", "display_name": "Imran Arshad", "link": "https://stackoverflow.com/users/1041953/imran-arshad"}, "reply_to_user": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "edited": false, "score": 0, "creation_date": 1567076025, "post_id": 57701018, "comment_id": 101859269, "body": "look for payment api and persistence . ignore rest"}, {"owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "edited": false, "score": 0, "creation_date": 1567110341, "post_id": 57701018, "comment_id": 101876303, "body": "Many thanks for your reply! Please, tell me is it okay that I&#39;ve commented out the constructor and <code>OnConfiguring</code> code generated by Entity Framework? I mean I touched a code which is not written by me. I really appreciate yours opinion. I use Database First. I&#39;ve added the commented code to my question. Thanks in advance."}, {"owner": {"reputation": 2854, "user_id": 1041953, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5ceabce974045a89c88d2809580d161?s=128&d=identicon&r=PG", "display_name": "Imran Arshad", "link": "https://stackoverflow.com/users/1041953/imran-arshad"}, "reply_to_user": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "edited": false, "score": 0, "creation_date": 1567121011, "post_id": 57701018, "comment_id": 101879135, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/198687/discussion-between-imran-arshad-and-stepup\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 2854, "user_id": 1041953, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5ceabce974045a89c88d2809580d161?s=128&d=identicon&r=PG", "display_name": "Imran Arshad", "link": "https://stackoverflow.com/users/1041953/imran-arshad"}, "is_accepted": true, "score": 2, "last_activity_date": 1567067330, "last_edit_date": 1567067330, "creation_date": 1567033450, "answer_id": 57701018, "question_id": 57699138, "link": "https://stackoverflow.com/questions/57699138/reading-connection-string-placed-in-asp-net-core-from-class-library-database-fi/57701018#57701018", "title": "Reading connection string placed in ASP.NET Core from class library. Database First", "body": "<p>You can take the advantage of .Net Core Dependency Injection and out of box features. Your connection string will remain in web project but you can use DB context without declaring any connection string in Class Library Project. I am sharing code sample from my existing project.</p>\n\n<p><strong>Set Connection String</strong></p>\n\n<p>You have referenced connection string in your start up and added to services. You don't need to define the connection string again and use the db context using Built in DI. The code could look like this !</p>\n\n<p><strong>Start up class</strong></p>\n\n<p>Set up your SQL config. Look closely at MigrationsAssembly this is where you would reference your class library project.</p>\n\n<pre><code>public static IServiceCollection AddCustomDbContext(this IServiceCollection services, IConfiguration configuration)\n{\n\n    // Add DbContext using SQL Server Provider\n    services.AddDbContext&lt;PaymentDbContext&gt;(options =&gt;\n        options.UseSqlServer(configuration.GetConnectionString(\"myconnectionstring\"), x =&gt; x.MigrationsAssembly(\"Payment.Persistence\")));\n\n    return services;\n}\n</code></pre>\n\n<p><strong>Context Class</strong></p>\n\n<p>This class is in your class library project.</p>\n\n<pre><code>public class PaymentDbContext : DbContext\n    {\n        public PaymentDbContext(DbContextOptions&lt;PaymentDbContext&gt; options)\n            : base(options)\n        {\n\n        }\n\n        public DbSet&lt;Payments&gt; Payments { get; set; }    \n\n\n    }    \n</code></pre>\n\n<p><strong>Use DI to access Context</strong></p>\n\n<pre><code>    private readonly PaymentDbContext _context;\n\n\n     public PaymentsRepository(PaymentDbContext dbContext)\n     {\n     _context = dbContext;\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "edited": false, "score": 0, "creation_date": 1567062916, "post_id": 57704104, "comment_id": 101852427, "body": "But your Repository placed in the same assembly? I mean, does ASP.NET Core have all database entities?"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "edited": false, "score": 0, "creation_date": 1567076216, "post_id": 57704104, "comment_id": 101859396, "body": "What do you mean by does ASP.NET Core have all database entities?"}, {"owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "edited": false, "score": 0, "creation_date": 1567077901, "post_id": 57704104, "comment_id": 101860307, "body": "I mean where are database stored? In which project - ASP.NET Core or Class Library?"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "edited": false, "score": 0, "creation_date": 1567080414, "post_id": 57704104, "comment_id": 101861760, "body": "in asp. net core of course but if you try my approach you can access db within your class library project"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 1, "last_activity_date": 1567059619, "creation_date": 1567059619, "answer_id": 57704104, "question_id": 57699138, "link": "https://stackoverflow.com/questions/57699138/reading-connection-string-placed-in-asp-net-core-from-class-library-database-fi/57704104#57704104", "title": "Reading connection string placed in ASP.NET Core from class library. Database First", "body": "<p>Below is how I read connetion string from <code>netcoreapp2.2</code>. You can see how I config at <a href=\"https://github.com/SaiGonSoftware/Awesome-CMS-Core/tree/master/src/AwesomeCMSCore/Modules/AwesomeCMSCore.Modules.WebJobRunner\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>I create 1 file name appsetting.json have structure like this</p>\n\n<pre><code>\"WebJobSettings\": {\n        \"DBConnectionString\": \"Data Source=.;Initial Catalog=CMSCore;Integrated Security=True\"\n    },\n</code></pre>\n\n<p>Then in my Program.cs</p>\n\n<pre><code> public static class Program\n        {\n            public static IConfigurationRoot Configuration;\n\n            public static void Main()\n            {\n                var serviceCollection = new ServiceCollection();\n                ConfigureServices(serviceCollection);\n\n                // create service provider\n                var serviceProvider = serviceCollection.BuildServiceProvider();\n\n                // entry to run app\n                //serviceProvider.GetService&lt;WebJob&gt;().Run();\n                serviceProvider.GetService&lt;WebJob&gt;().RunImageProcessQueue();\n            }\n\n            private static void ConfigureServices(IServiceCollection serviceCollection)\n            {\n                var currentDir = Directory.GetCurrentDirectory();\n\n                // build configuration\n                var configuration = new ConfigurationBuilder()\n                    .SetBasePath(currentDir)\n                    .AddJsonFile(\"appsettings.json\", false)\n                    .Build();\n                serviceCollection.AddOptions();\n\n                serviceCollection.Configure&lt;WebJobSettings&gt;(configuration.GetSection(\"WebJobSettings\"));\n                serviceCollection.Configure&lt;QueueSettings&gt;(configuration.GetSection(\"QueueSettings\"));\n                serviceCollection.Configure&lt;AssetSettings&gt;(configuration.GetSection(\"AssetSettings\"));\n\n                // add app\n                serviceCollection.AddTransient&lt;WebJob&gt;();\n            }\n</code></pre>\n\n<p>Then simply Configuration pattern in my WebJob.cs file like this</p>\n\n<pre><code>public class WebJob\n{\n    private readonly IOptions&lt;WebJobSettings&gt; _webJobSettings;\n    private readonly IOptions&lt;QueueSettings&gt; _queueSettings;\n    private readonly IOptions&lt;AssetSettings&gt; _assetSettings;\n\n    public WebJob(\n        IOptions&lt;WebJobSettings&gt; webJobSettings,\n        IOptions&lt;QueueSettings&gt; queueSettings,\n        IOptions&lt;AssetSettings&gt; assetSettings)\n    {\n        _webJobSettings = webJobSettings;\n        _queueSettings = queueSettings;\n        _assetSettings = assetSettings;\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "is_accepted": false, "score": 1, "last_activity_date": 1567074335, "creation_date": 1567074335, "answer_id": 57708144, "question_id": 57699138, "link": "https://stackoverflow.com/questions/57699138/reading-connection-string-placed-in-asp-net-core-from-class-library-database-fi/57708144#57708144", "title": "Reading connection string placed in ASP.NET Core from class library. Database First", "body": "<p>From <a href=\"https://github.com/aspnet/EntityFrameworkCore/issues/10432\" rel=\"nofollow noreferrer\">this issue</a> , the connection string added in the DbContext when scaffolding DbContext is default settings .If you don't want to have such a long and ugly connection string to display, you could use Named connection strings instead . </p>\n\n<p>From <a href=\"https://github.com/aspnet/EntityFrameworkCore/issues/13726\" rel=\"nofollow noreferrer\">this discussion</a> , you could use <code>-Connection name</code> in the <code>Scaffold-DbContext</code> command to get the connection string which is set in <code>appsetting.json</code> of web application </p>\n\n<pre><code>Scaffold-DbContext -Connection name=DefaultConnection  Microsoft.EntityFrameworkCore.SqlServer -OutputDir DbModels\n\n\"ConnectionStrings\": {\n  \"DefaultConnection\": \"Data Source=(localdb)\\\\MSSQLLocalDB;Initial Catalog=MVC2_2Db;Integrated Security=True;Connect Timeout=30;Encrypt=False;TrustServerCertificate=False;ApplicationIntent=ReadWrite;MultiSubnetFailover=False\"\n},\n</code></pre>\n\n<p>The above code will generate the following code in  DbContext</p>\n\n<pre><code> protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n    {\n        if (!optionsBuilder.IsConfigured)\n        {\n            optionsBuilder.UseSqlServer(\"name=DefaultConnection\");\n        }\n    }\n</code></pre>\n\n<p>Or ,if you set the external connection string  , you could remove the hard coded connection strings due to it will only be called when you forget to set the connection to the database .You could refer to the code added in Startup.cs show as below:</p>\n\n<pre><code> var connection = @\"Server=(localdb)\\mssqllocaldb;Database=MVC2_2Db;Trusted_Connection=True;ConnectRetryCount=0\";\n\n services.AddDbContext&lt;Cars.Persistence.DbModels.MVC2_2DbContext&gt;(options =&gt; options.UseSqlServer(connection));\n</code></pre>\n"}], "owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2060, "favorite_count": 0, "accepted_answer_id": 57701018, "answer_count": 4, "score": 1, "last_activity_date": 1575299185, "creation_date": 1567021536, "last_edit_date": 1575299185, "question_id": 57699138, "link": "https://stackoverflow.com/questions/57699138/reading-connection-string-placed-in-asp-net-core-from-class-library-database-fi", "title": "Reading connection string placed in ASP.NET Core from class library. Database First", "body": "<p>The structure of projects looks like this:</p>\n\n<ul>\n<li><p>Cars (ASP.NET Core MVC. <strong>Here we have a connection string</strong>)</p></li>\n<li><p>Cars.Persistence (ASP.NET Core Class library. Here we have Repository, Database First)</p></li>\n</ul>\n\n<p>I've created a Model by the following command from <a href=\"https://docs.microsoft.com/en-us/ef/core/get-started/aspnetcore/existing-db\" rel=\"nofollow noreferrer\">this msdn docs</a>:</p>\n\n<pre><code>Scaffold-DbContext \"Server=PC\\SQL2014XP;Database=Cars;Trusted_Connection=True;\" \n    Microsoft.EntityFrameworkCore.SqlServer -OutputDir Models\n</code></pre>\n\n<p>So far so good. However, now <code>carsContext</code> has hard coded connection string in <code>Cars.Persistence</code> - ASP.NET Core Class library:</p>\n\n<pre><code>public partial class carsContext: DbContext\n{\n    public carsContext()\n    {\n    }\n\n    public carsContext(DbContextOptions&lt;carsContext&gt; options)\n        : base(options)\n    {\n    }\n\n    public virtual DbSet&lt;Cars&gt; Cars { get; set; }\n\n    protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n    {\n        if (!optionsBuilder.IsConfigured)\n        {\n            optionsBuilder.UseSqlServer(\"Server=PC\\SQL2014XP...\");// hard coded \n                                                                  // connection string\n        }\n    }\n}\n</code></pre>\n\n<p>At first, I thought to create own <code>appsettings.json</code> in my class library <code>Cars.Persistence</code>. <a href=\"https://stackoverflow.com/questions/5674971/app-config-for-a-class-library\">However, according to this post it is not advisable to have <code>appsettings.json</code> file in Class Library.</a>.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/51304432/how-to-read-connection-string-inside-net-standard-class-library-project-from-as\">I've read this approach</a>, however, the hard coded string will appear again, if I will run this command again:</p>\n\n<pre><code>Scaffold-DbContext \"Server=PC\\SQL2014XP;Database=Cars;Trusted_Connection=True;\" \n        Microsoft.EntityFrameworkCore.SqlServer -OutputDir Models\n</code></pre>\n\n<p>So my question is how can I use connection string(located in <code>Cars</code> project)  in my class library <code>Cars.Persistence</code>?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I've commented out the following code:</p>\n\n<pre><code>public partial class eshopContext : DbContext\n{\n\n     public eshopContext(DbContextOptions&lt;eshopContext&gt; options): base(options)\n     {} \n\n     // public eshopContext(){}        \n\n      /*protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n     {\n         if (!optionsBuilder.IsConfigured)\n         {\n             #warning To protect potentially sensitive information in your connection string, you should move it out of source code. See http://go.microsoft.com/fwlink/?LinkId=723263 for guidance on storing connection strings.\n             optionsBuilder.UseSqlServer(\"Server=...\");\n         }\n\n      }*/\n\n }\n</code></pre>\n"}, {"tags": ["c#", "multithreading", "unit-testing", "asynchronous", "async-await"], "answers": [{"tags": [], "owner": {"reputation": 1285, "user_id": 5974780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db181de522cb3dcfcddaeb95fa2925a3?s=128&d=identicon&r=PG&f=1", "display_name": "Nesan Mano", "link": "https://stackoverflow.com/users/5974780/nesan-mano"}, "is_accepted": false, "score": 0, "last_activity_date": 1567052567, "last_edit_date": 1567052567, "creation_date": 1567022519, "answer_id": 57699342, "question_id": 57698910, "link": "https://stackoverflow.com/questions/57698910/nunit-3-x-x-async-test/57699342#57699342", "title": "NUnit 3.X.X async test", "body": "<p>I have found the answer to my question. The answer is from the NUnit documentation which states the following:</p>\n\n<blockquote>\n  <p>Test methods targeting .Net 4.0 or higher may be marked as async and\n  NUnit will wait for the method to complete before recording the result\n  and moving on to the next test. Async test methods must return Task if\n  no value is returned, or Task if a value of type T is returned.</p>\n  \n  <p>If the test method returns a value, you must pass in the\n  ExpectedResult named parameter to the Test attribute. This expected\n  return value will be checked for equality with the return value of the\n  test method.</p>\n</blockquote>\n\n<p>This is an example:</p>\n\n<pre><code>// Async test with an expected result\n[Test(ExpectedResult = 4)]\npublic async Task&lt;int&gt; TestAdd()\n{\n    await ...\n    return 2 + 2;\n}\n\n\n// A simple async test\n[Test]\npublic async Task AddAsync()\n{ /* ... */ }\n</code></pre>\n"}], "owner": {"reputation": 1285, "user_id": 5974780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db181de522cb3dcfcddaeb95fa2925a3?s=128&d=identicon&r=PG&f=1", "display_name": "Nesan Mano", "link": "https://stackoverflow.com/users/5974780/nesan-mano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1146, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1567089689, "creation_date": 1567020460, "last_edit_date": 1567089689, "question_id": 57698910, "link": "https://stackoverflow.com/questions/57698910/nunit-3-x-x-async-test", "title": "NUnit 3.X.X async test", "body": "<p>I am trying to unit test an async task with NUnit 3.12.0.0. The problem is I keep getting the following: Message: <em>Async test method must have non-generic Task return type when no result is expected</em> and my test fails. The code below was actually working with Visual Studio 2017 and an older version of nUnit.</p>\n\n<p>As per my understanding, the new nUnit framework requires to return either <code>Task</code> or <code>Task&lt;T&gt;</code>. </p>\n\n<p>This is my test function</p>\n\n<pre><code>[Test]\npublic async Task&lt;string&gt; Login()\n{\n    var url = \"http://localhost:xxxx/login\";\n    object[] jsonBody = { \"{\\\"username\\\":\\\"devTeam@xxxxxxxxx.com\\\",\\\"password\\\":\\\"xxxx\\\"}\" };\n\n    RestRequestResponse&lt;RestResponse&gt; result = await HttpRestUtil.ExecuteCompleteRestRequest&lt;RestResponse&gt;(url, null, jsonBody, Method.POST);\n    Assert.IsNotNull(result);\n    Assert.IsNotNull(result.headers[0].Value.ToString());\n    return result.headers[0].Value.ToString();\n}\n</code></pre>\n"}, {"tags": ["c#", "elasticsearch", "nest", "aws-elasticsearch"], "comments": [{"owner": {"reputation": 163519, "user_id": 4604579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/reC2t.jpg?s=128&g=1", "display_name": "Val", "link": "https://stackoverflow.com/users/4604579/val"}, "edited": false, "score": 0, "creation_date": 1567061239, "post_id": 57698644, "comment_id": 101851657, "body": "It might be easier to show your actual template definitions."}, {"owner": {"reputation": 7318, "user_id": 122769, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/4vcka.jpg?s=128&g=1", "display_name": "George Taskos", "link": "https://stackoverflow.com/users/122769/george-taskos"}, "reply_to_user": {"reputation": 163519, "user_id": 4604579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/reC2t.jpg?s=128&g=1", "display_name": "Val", "link": "https://stackoverflow.com/users/4604579/val"}, "edited": false, "score": 0, "creation_date": 1567102566, "post_id": 57698644, "comment_id": 101873387, "body": "Not sure if it really helps, it&#39;s pretty simple for now. Updated question"}, {"owner": {"reputation": 4371, "user_id": 2196341, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9d6cd6590be0005145c6b758345b7129?s=128&d=identicon&r=PG&f=1", "display_name": "Polynomial Proton", "link": "https://stackoverflow.com/users/2196341/polynomial-proton"}, "edited": false, "score": 0, "creation_date": 1567704473, "post_id": 57698644, "comment_id": 102052208, "body": "I&#39;d avoid doing manual version control on ES and update the same index template with new mappings and have git or something do versioning. But if you have to then read this : <a href=\"https://www.elastic.co/blog/changing-mapping-with-zero-downtime\" rel=\"nofollow noreferrer\">elastic.co/blog/changing-mapping-with-zero-downtime</a>"}, {"owner": {"reputation": 7318, "user_id": 122769, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/4vcka.jpg?s=128&g=1", "display_name": "George Taskos", "link": "https://stackoverflow.com/users/122769/george-taskos"}, "edited": false, "score": 0, "creation_date": 1569355390, "post_id": 57698644, "comment_id": 102568350, "body": "I will check it out for sure, still trying to find the best strategy for this &quot;problem&quot;."}], "owner": {"reputation": 7318, "user_id": 122769, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/4vcka.jpg?s=128&g=1", "display_name": "George Taskos", "link": "https://stackoverflow.com/users/122769/george-taskos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567102547, "creation_date": 1567019057, "last_edit_date": 1567102547, "question_id": 57698644, "link": "https://stackoverflow.com/questions/57698644/update-field-mappings-template-in-created-index-under-an-alias", "title": "Update field mappings template in created index under an alias", "body": "<p>I have deployed a template in AWS ElasticSearch named <code>users-version-1-order-1</code>, and indexed data under <code>users-all</code> index which is searchable via <code>users</code> alias.</p>\n\n<p>So, all documents are always indexed and updated in <code>users-all</code>, how do I deal with schema change moving forward with applying a new template version? e.g. PUT <code>users-version-2-order-2</code> and apply it to <code>users-all</code> index.</p>\n\n<p>[UPDATE]</p>\n\n<pre><code>{\n  \"index_patterns\": \"users*\",\n  \"order\": 6,\n  \"version\": 6,\n  \"aliases\": {\n    \"users\": {}\n  },\n  \"settings\": {\n    \"number_of_shards\": 5\n  },\n  \"mappings\": {\n    \"_doc\": {\n      \"dynamic\": \"strict\",\n      \"properties\": {\n        \"id\": { \"type\": \"keyword\" },\n        \"emailAddress\": { \"type\": \"keyword\" }\n      }\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "math", "vector"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 1, "creation_date": 1567020852, "post_id": 57698546, "comment_id": 101841886, "body": "This sounds more suitable for <a href=\"https://math.stackexchange.com\">Maths</a> since the actual implementation seems to be very secondary"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1567024176, "post_id": 57698546, "comment_id": 101843158, "body": "@derHugo <a href=\"https://meta.stackoverflow.com/questions/300689/are-questions-asking-for-a-mathematical-formula-on-topic/300761#300761\">As far as I can tell</a>, questions asking about how to implement a solution (even if the solution is math-based) are on-topic."}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1567048071, "post_id": 57698546, "comment_id": 101848342, "body": "well the linked question was strongly downvoted and closed as too broad ;) Honestly if you wouldn&#39;t have already answered I would have suggested to move it since it is primarily about understanding the maths behind it .. also note the <a href=\"https://meta.stackoverflow.com/a/300763/7111561\">other answer</a> .. the implementation in Unity is then very trivial since the methods are called exactly like the mathematical construct behind the solution. This seems more to be in general a question about how the cross product works which I would say is a pure maths question."}], "answers": [{"tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": true, "score": 0, "last_activity_date": 1567029735, "last_edit_date": 1567029735, "creation_date": 1567018583, "answer_id": 57698547, "question_id": 57698546, "link": "https://stackoverflow.com/questions/57698546/how-can-i-find-the-closest-vector3-to-a-given-target-vector-among-all-vectors-or/57698547#57698547", "title": "How can I find the closest vector3 to a given target vector among all vectors orthogonal to a given input vector3?", "body": "<p>You can use vector cross products to solve for this. Note that the order of the parameters of <code>Vector3.Cross</code> matters--inconsistently ordering the parameters can produce unexpected results.</p>\n\n<ol>\n<li><p>Take the cross product of <code>t</code> and <code>o</code>.</p>\n\n<pre><code>Vector3 x = Vector3.Cross(t, o);\n</code></pre></li>\n<li><p>If <code>o</code> and <code>t</code> are colinear, <code>x</code> will be equal to <code>Vector3.zero</code>. </p>\n\n<pre><code>if (x == Vector3.zero) \n{\n    // Handle colinear situation\n}\n</code></pre></li>\n<li><p>Otherwise, <code>x</code> will be a vector that is orthogonal to both <code>o</code> and <code>t</code> and  therefore also orthogonal to <code>v</code>:</p>\n\n<pre><code>else\n{\n</code></pre></li>\n<li><p>Now that we have two vectors that are orthogonal to <code>v</code> (that is, <code>o</code> and <code>x</code>), we can do another cross product to find a vector that is colinear with <code>v</code>. And if we are careful about the ordering of this second cross product compared to the cross product we used to calculate <code>x</code>, the output of the second cross product will point in the same direction as <code>v</code> as well. All that is then left is to normalize it:</p>\n\n<pre><code>    Vector3 v = Vector3.Cross(o, x).normalized;\n\n    // Use v\n}\n</code></pre></li>\n</ol>\n\n<p>Altogether:</p>\n\n<pre><code>Vector3 x = Vector3.Cross(t, o);\n\nif (x == Vector3.zero) \n{\n    // Handle colinear situation\n}\nelse\n{\n    Vector3 v = Vector3.Cross(o, x).normalized;\n\n    // Use v\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "is_accepted": false, "score": 0, "last_activity_date": 1567029467, "creation_date": 1567029467, "answer_id": 57700533, "question_id": 57698546, "link": "https://stackoverflow.com/questions/57698546/how-can-i-find-the-closest-vector3-to-a-given-target-vector-among-all-vectors-or/57700533#57700533", "title": "How can I find the closest vector3 to a given target vector among all vectors orthogonal to a given input vector3?", "body": "<p>Let me put simple way how to solve it.</p>\n\n<p>Vectors orthogonal to <code>o</code> and sharing the same start point, and, for simplicity, having the same length as <code>t</code> fill the the orthogonal circle at the <code>o</code> start point. Suppose you find one, you could rotate it around <code>o</code> by some angle and it would still be orthogonal.</p>\n\n<p>So now you have vector <code>v</code> and quest is for rotation angle to find. After rotation angle is found you got yourself an answer</p>\n\n<p>Write equation for distance between <code>v</code> and <code>t</code> depending on rotation angle. Minimizing this distance - either numerically, or analytically doing derivatives and assigning them to 0 would provide you with rotation angle and final <code>v</code>.</p>\n\n<p>You should expect two angles as output - one for vector with minimum distance and one for vector with maximum distance. Simple check should find which one is minimum</p>\n"}, {"tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": false, "score": 0, "last_activity_date": 1567031039, "creation_date": 1567031039, "answer_id": 57700756, "question_id": 57698546, "link": "https://stackoverflow.com/questions/57698546/how-can-i-find-the-closest-vector3-to-a-given-target-vector-among-all-vectors-or/57700756#57700756", "title": "How can I find the closest vector3 to a given target vector among all vectors orthogonal to a given input vector3?", "body": "<p>One way to solve this that may favor ease of reading more than calculus or multiple cross products is by using <a href=\"https://docs.unity3d.com/ScriptReference/Vector3.OrthoNormalize.html\" rel=\"nofollow noreferrer\"><code>Vector3.OrthoNormalize</code></a>.</p>\n\n<blockquote>\n  <p>public static void <strong>OrthoNormalize</strong>(ref Vector3 <strong>normal</strong>, ref Vector3 <strong>tangent</strong>);\n  Description</p>\n  \n  <p>Makes vectors normalized and orthogonal to each other.</p>\n  \n  <p>Normalizes <code>normal</code>. Normalizes <code>tangent</code> and makes sure it is orthogonal to normal (that is, angle between them is 90 degrees).</p>\n</blockquote>\n\n<ol>\n<li><p>Check if <code>o</code> and <code>t</code> are colinear by seeing if their cross product is <code>Vector3.zero</code>:</p>\n\n<pre><code>if (Vector3.Cross(o,t) == Vector3.zero)\n{\n    // Handle colinear situation\n}\nelse \n{\n</code></pre></li>\n<li><p>Otherwise, copy <code>o</code> and <code>t</code> so as to only modify the copies:</p>\n\n<pre><code>    Vector3 oCopy = o;\n    Vector3 tCopy = t;\n</code></pre></li>\n<li><p>Use <code>Vector3.OrthoNormalize</code> using the copies, with <code>t</code>'s copy as <code>tangent</code>:</p>\n\n<pre><code>    Vector3.OrthoNormalize(ref oCopy, ref tCopy);\n\n    Vector3 v = tCopy; // unnecessary; just included to have a variable named v\n    // Use v\n}\n</code></pre></li>\n</ol>\n\n<p>Altogether:</p>\n\n<pre><code>if (Vector3.Cross(o,t) == Vector3.zero)\n{\n    // Handle colinear situation\n}\nelse \n{\n    Vector3 oCopy = o;\n    Vector3 tCopy = t;\n\n    Vector3.OrthoNormalize(ref oCopy, ref tCopy);\n\n    Vector3 v = tCopy; // unnecessary; just included to have a variable named v\n    // Use v\n}\n</code></pre>\n"}], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 1, "accepted_answer_id": 57698547, "answer_count": 3, "score": 0, "last_activity_date": 1567031039, "creation_date": 1567018583, "last_edit_date": 1567029787, "question_id": 57698546, "link": "https://stackoverflow.com/questions/57698546/how-can-i-find-the-closest-vector3-to-a-given-target-vector-among-all-vectors-or", "title": "How can I find the closest vector3 to a given target vector among all vectors orthogonal to a given input vector3?", "body": "<p>Suppose I have two input vectors with nonzero magnitudes: </p>\n\n<pre><code>Vector3 t;\nVector3 o;\n</code></pre>\n\n<p>I need to find the normalized vector <code>v</code> such that out of all normalized vectors that are orthogonal to <code>o</code>, <code>v</code> is the one that is closest to this <code>t</code> \"target\" vector. I also need to know if <code>t</code> and <code>o</code> are colinear in which case no one such single <code>v</code> exists.</p>\n\n<p>Illustration of this relationship:</p>\n\n<p><a href=\"https://i.stack.imgur.com/q4o2a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q4o2a.png\" alt=\"enter image description here\"></a></p>\n\n<p>For a concrete example, suppose I have a game where the player will occasionally see a certain compass-like object on a surface in the environment. The player will have to point the needle on this compass towards a pictured object that was placed randomly somewhere in the game world. When the player selects the needle's position, I need to know how far off the player's selection is from the \"true\" direction of the object.</p>\n\n<p>The compass needle is fixed to rotate around an axis with world direction <code>o</code> (perhaps this is the compass's <code>transform.forward</code>), and the direction of the pictured game object is <code>t</code>.  </p>\n\n<p>When <code>t</code> and <code>o</code> are not orthogonal, the compass needle will not be able to point directly in <code>t</code>, so I want to know: <strong>How can I get the closest possible direction the compass needle can point at, which is <code>v</code>?</strong> This way, I can measure the angle between this goal direction and the player's selected direction. And, when that angle is below some threshold, the player is successful.</p>\n"}, {"tags": ["c#", "asp.net-core", ".net-core", "asp.net-core-mvc"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1567018589, "post_id": 57698504, "comment_id": 101840992, "body": "I&#39;m not sure what the question is. Is something unclear? You&#39;re trying to use <code>connectionString</code> when initializing <code>sqlDependency</code> and it&#39;s not static."}, {"owner": {"reputation": 584, "user_id": 10336429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fffef303f0dd6cbeddf412b13ad7c9d?s=128&d=identicon&r=PG", "display_name": "KevinLamb", "link": "https://stackoverflow.com/users/10336429/kevinlamb"}, "edited": false, "score": 0, "creation_date": 1567018652, "post_id": 57698504, "comment_id": 101841014, "body": "Hi Sam, does <a href=\"https://stackoverflow.com/questions/11015591/error-a-field-initializer-cannot-reference-the-non-static-field-method-or-pro\">this question</a> help you out?"}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1567018830, "post_id": 57698504, "comment_id": 101841095, "body": "@itsme86 I&#39;m trying to use <code>SqlDependencyEx</code> it accepts the first argument as a connection string, if I use my DB connection string directly it works but I don&#39;t want to give it directly instead I want it to grab <code>DefaultConnection</code> using <code>Configuration</code>"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1567018979, "post_id": 57698504, "comment_id": 101841155, "body": "You can keep the <code>SqlDependencyEx sqlDependency</code> declaration where it is, but move the initialization to the constructor after you set <code>connectionString</code>: <code>sqlDependency = new SqlDependencyEx(connectionString);</code>"}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "reply_to_user": {"reputation": 584, "user_id": 10336429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fffef303f0dd6cbeddf412b13ad7c9d?s=128&d=identicon&r=PG", "display_name": "KevinLamb", "link": "https://stackoverflow.com/users/10336429/kevinlamb"}, "edited": false, "score": 0, "creation_date": 1567019051, "post_id": 57698504, "comment_id": 101841180, "body": "@KevinLamb not really it taking connection string directly I want it to grab from Configurations"}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1567019171, "post_id": 57698504, "comment_id": 101841231, "body": "@itsme86 can you show using my code ?"}], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "edited": false, "score": 0, "creation_date": 1567019616, "post_id": 57698711, "comment_id": 101841433, "body": "if I use it directly gives this error: <code>An object reference is required for the non-static field, method, or property &#39;SignalServer.Configuration&#39; (CS0120)</code>"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "reply_to_user": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "edited": false, "score": 0, "creation_date": 1567019968, "post_id": 57698711, "comment_id": 101841562, "body": "@Sam: Yes. You still need to do it within the constructor as shown in my answer."}, {"owner": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "reply_to_user": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "edited": false, "score": 0, "creation_date": 1567019976, "post_id": 57698711, "comment_id": 101841565, "body": "@Sam Which line of code is causing that error?"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "reply_to_user": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "edited": false, "score": 0, "creation_date": 1567020012, "post_id": 57698711, "comment_id": 101841581, "body": "@GaryStewart: I think his comment refers to the last paragraph of my answer."}, {"owner": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "edited": false, "score": 0, "creation_date": 1567020098, "post_id": 57698711, "comment_id": 101841613, "body": "@JuanR, I&#39;m just wondering if there is a namespacing issue since he&#39;s using the a variable called &quot;Configuration&quot;"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "reply_to_user": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "edited": false, "score": 0, "creation_date": 1567020193, "post_id": 57698711, "comment_id": 101841645, "body": "@GaryStewart: I thought so too but moving the initialization of <code>sqlDependency</code> to the constructor as shown in my answer should solve any non-static issues."}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "edited": false, "score": 0, "creation_date": 1567020440, "post_id": 57698711, "comment_id": 101841730, "body": "@JuanR I have updated my question even if I use your answer it still showing the same error."}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "reply_to_user": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "edited": false, "score": 0, "creation_date": 1567020743, "post_id": 57698711, "comment_id": 101841845, "body": "@Sam: Your update is even worse. Just do what I put in my answer and remove the  line that tries to create the dependency outside of the constructor. the line that assigns <code>sqlDependency</code> <b>should only exist in the constructor, nowhere else</b>."}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "reply_to_user": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "edited": false, "score": 0, "creation_date": 1567020798, "post_id": 57698711, "comment_id": 101841868, "body": "@GaryStewart the error is on <code>Configuration</code>"}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "edited": false, "score": 0, "creation_date": 1567021052, "post_id": 57698711, "comment_id": 101841964, "body": "@JuanR I have updated my question again but now If I try to use <code>sqlDependency</code> in <code>RegisterNotification()</code> it is giving error <code>The name &#39;sqlDependency&#39; does not exist in the current context (CS0103)</code>"}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "edited": false, "score": 0, "creation_date": 1567021628, "post_id": 57698711, "comment_id": 101842162, "body": "@JuanR I got it thnx"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "reply_to_user": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "edited": false, "score": 0, "creation_date": 1567023431, "post_id": 57698711, "comment_id": 101842899, "body": "@GaryStewart: Thank you for the correction on the variable. :-)"}], "tags": [], "owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "is_accepted": true, "score": 4, "last_activity_date": 1567022947, "last_edit_date": 1567022947, "creation_date": 1567019391, "answer_id": 57698711, "question_id": 57698504, "link": "https://stackoverflow.com/questions/57698504/a-field-initializer-cannot-reference-the-non-static-field-method-or-property/57698711#57698711", "title": "A field initializer cannot reference the non-static field, method, or property &#39;SignalServer.connectionString&#39; (CS0236)", "body": "<p>Your problem is this line:</p>\n\n<pre><code>SqlDependencyEx sqlDependency = new SqlDependencyEx(connectionString);\n</code></pre>\n\n<p>Move it inside the constructor instead:</p>\n\n<pre><code>SqlDependencyEx sqlDependency;\npublic SignalServer(TestController testController, IConfiguration configuration)\n{\n    Configuration = configuration;\n    _testController = testController;\n    connectionString = Configuration.GetConnectionString(\"DefaultConnection\");\n    //Put it here\n    sqlDependency = new SqlDependencyEx(connectionString);\n}\n</code></pre>\n\n<p>I don't know much about your design but you probably don't even need to save the connection string in the <code>connectionString</code> field. You might be able to just use it directly from the call to the <code>Configuration.GetConnectionString</code> method or the reference to the <code>Configuration</code> object you are storing.</p>\n"}], "owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 742, "favorite_count": 0, "closed_date": 1567024822, "accepted_answer_id": 57698711, "answer_count": 1, "score": 0, "last_activity_date": 1567022947, "creation_date": 1567018386, "last_edit_date": 1567020697, "question_id": 57698504, "link": "https://stackoverflow.com/questions/57698504/a-field-initializer-cannot-reference-the-non-static-field-method-or-property", "closed_reason": "Duplicate", "title": "A field initializer cannot reference the non-static field, method, or property &#39;SignalServer.connectionString&#39; (CS0236)", "body": "<p>I'm trying to use <code>SqlDependencyEx</code> it accepts the first argument as a connection string, if I use my DB connection string directly it works but I don't want to give it directly instead I want it to grab <code>DefaultConnection</code> using Configuration. but I'm getting this error</p>\n\n<blockquote>\n  <p>A field initializer cannot reference the non-static field, method, or\n  property 'SignalServer.connectionString' (CS0236)</p>\n</blockquote>\n\n<pre><code>public class SignalServer : Hub\n        {\n            public readonly TestController _testController;\n            public IConfiguration Configuration { get; }\n            string connectionString = \"\";\n\n            public SignalServer(TestController testController, IConfiguration configuration)\n            {\n                Configuration = configuration;\n                _testController = testController;\n                connectionString = Configuration.GetConnectionString(\"DefaultConnection\");\n            }\n\n            public async void NotifyConnection()\n            {\n                await Clients.All.SendAsync(\"TestBrodcasting\", _testController.GetAllApps());\n            }\n\n            SqlDependencyEx sqlDependency = new SqlDependencyEx(connectionString);\n\n        }\n</code></pre>\n\n<p>Update:</p>\n\n<pre><code>public class SignalServer : Hub\n{\n    public readonly TestController _testController;\n    public IConfiguration Configuration { get; }\n\n    public SignalServer(TestController testController, IConfiguration configuration)\n    {\n        Configuration = configuration;\n        _testController = testController;\n        SqlDependencyEx sqlDependency = new SqlDependencyEx(Configuration.GetConnectionString(\"DefaultConnection\"), \"dbName\", \"tablename\");\n    }\n\n    public async void NotifyConnection()\n    {\n        await Clients.All.SendAsync(\"TestBrodcasting\", _testController.GetAllApps());\n    }\n\n\n    private void RegisterNotification()\n    {\n        sqlDependency.TableChanged += OnDataChange;\n        sqlDependency.Start();\n    }\n\n    private void UnregisterNotification()\n    {\n        sqlDependency.Stop();\n        sqlDependency.TableChanged -= OnDataChange;\n    }\n\n    private void OnDataChange(object sender, SqlDependencyEx.TableChangedEventArgs e)\n    {\n\n    }\n\n    private void Dispose()\n    {\n        UnregisterNotification();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "entity-framework"], "comments": [{"owner": {"reputation": 5235, "user_id": 7910454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3Dlqb.jpg?s=128&g=1", "display_name": "leonheess", "link": "https://stackoverflow.com/users/7910454/leonheess"}, "edited": false, "score": 1, "creation_date": 1580415532, "post_id": 57698452, "comment_id": 106100378, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/20762923/how-to-avoid-system-data-entity-infrastructure-dbupdateexception\">How to avoid System.Data.Entity.Infrastructure.DbUpdateException</a>"}], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 6778467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KjsC5rCkc_A/AAAAAAAAAAI/AAAAAAAAAZI/VDeOm-0WRb4/photo.jpg?sz=128", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/6778467/chameleon"}, "is_accepted": true, "score": 0, "last_activity_date": 1580422353, "last_edit_date": 1580422353, "creation_date": 1567018514, "answer_id": 57698532, "question_id": 57698452, "link": "https://stackoverflow.com/questions/57698452/how-to-solve-system-data-entity-infrastructure-dbupdateexception/57698532#57698532", "title": "How to solve System.Data.Entity.Infrastructure.DbUpdateException", "body": "<p>Here I solved the problem by simply referencing the movie object towards it's join/relational table</p>\n\n<pre><code>var movie = new Movies();\nmovie.MovieName = viewModel.MovieName;\nmovie.MovieBio = viewModel.MovieBio;\nmovie.MoviePosterUrl = viewModel.MoviePosterUrl;\n</code></pre>\n\n<p>Towards the reference navigation key which is present in the join table/navigational table like this</p>\n\n<pre><code> cinemaShowtime.CinemaInstance = cinema;\n cinemaShowtime.MoviesInstance = movie; \n</code></pre>\n\n<p>Also the system was asking to make the composite key nullable which is present in Movie Table table like this</p>\n\n<pre><code> public int? IndustryId { get; set; }\n</code></pre>\n\n<p>It should be noted that I am making many-to-many relationship same thing would happen for cinema table</p>\n"}], "owner": {"reputation": 89, "user_id": 6778467, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KjsC5rCkc_A/AAAAAAAAAAI/AAAAAAAAAZI/VDeOm-0WRb4/photo.jpg?sz=128", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/6778467/chameleon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 57698532, "answer_count": 1, "score": 0, "last_activity_date": 1580422573, "creation_date": 1567018140, "last_edit_date": 1580422573, "question_id": 57698452, "link": "https://stackoverflow.com/questions/57698452/how-to-solve-system-data-entity-infrastructure-dbupdateexception", "title": "How to solve System.Data.Entity.Infrastructure.DbUpdateException", "body": "<p>The <code>INSERT</code> statement conflicted with the <em>FOREIGN KEY</em> constraint <code>FK_dbo.CinemaShowTime_dbo.Cinema_cinemaId</code>. The conflict occurred in database \"<code>CinemaModule</code>\", table \"<code>dbo.Cinema</code>\";</p>\n\n<p>I am successfully saving the result of Cinema in DB but when I try to save movie or <code>CreateCinemasShowTime</code> it give me error.</p>\n\n<p>I am trying to render multiple models into single view but <code>DBUPdateException</code> occurs.</p>\n\n<p>My Controller code      </p>\n\n<pre><code>        var cinema = new Cinema();\n        cinema.Halls = viewModel.Halls;\n        cinema.ContactNumber = viewModel.ContactNumber;\n        cinema.TicketFee = viewModel.TicketFee;\n\n\n        var movie = new Movies();\n        movie.MovieName = viewModel.MovieName;\n        movie.MovieBio = viewModel.MovieBio;\n        movie.MoviePosterUrl = viewModel.MoviePosterUrl;\n\n\n\n        var cinemaShowtime = new CinemaShowTime();\n        cinemaShowtime.ShowDay = viewModel.ShowDay;\n        cinemaShowtime.ShowTime = viewModel.ShowTime;\n\n        db.CinemaShowTimes.Add(cinemaShowtime);\n        db.SaveChanges();\n</code></pre>\n\n<p>My Model Code</p>\n\n<pre><code>    public int Id { get; set; }\n    public string MovieName { get; set; }//\n    public string MoviePosterUrl { get; set; }//\n    public string MovieBio { get; set; }\n\n    //collection of CinemaShowTimes for single movie\n    public virtual ICollection&lt;CinemaShowTime&gt; CinemaShowTimes { get; set; }\n\n    //single industry for each Movie\n    [ForeignKey(\"IndustriesInstance\")]\n    public int? IndustryId { get; set; }\n    //reference navigation property\n    public virtual Industries IndustriesInstance { get; set; }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "wpf-controls", "uipath"], "comments": [{"owner": {"reputation": 126, "user_id": 10728126, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1103fc0a05c466c4f3cd8d55395a15a2?s=128&d=identicon&r=PG", "display_name": "user10728126", "link": "https://stackoverflow.com/users/10728126/user10728126"}, "edited": false, "score": 0, "creation_date": 1567018035, "post_id": 57698311, "comment_id": 101840776, "body": "What do you mean when you say &quot;when I place the Scoped_Activity within the Custom_Activity_Scope?&quot; Inherit? Like: public class Custom_Activity_Scope : Scoped_Activity"}, {"owner": {"reputation": 590, "user_id": 3223075, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/m7QDD.jpg?s=128&g=1", "display_name": "Conor", "link": "https://stackoverflow.com/users/3223075/conor"}, "reply_to_user": {"reputation": 126, "user_id": 10728126, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1103fc0a05c466c4f3cd8d55395a15a2?s=128&d=identicon&r=PG", "display_name": "user10728126", "link": "https://stackoverflow.com/users/10728126/user10728126"}, "edited": false, "score": 0, "creation_date": 1567018203, "post_id": 57698311, "comment_id": 101840845, "body": "@user10728126, I&#39;ve added a screenshot to the question, hope that makes sense/helps"}, {"owner": {"reputation": 128, "user_id": 2774177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da7b8cfd20d0b9f820b3d353f9fd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "recineshto", "link": "https://stackoverflow.com/users/2774177/recineshto"}, "edited": false, "score": 1, "creation_date": 1567018519, "post_id": 57698311, "comment_id": 101840968, "body": "Both Execute methods in Activities do only some tracing, there is no code which search for nested activity and then calls Execute from it. There has to be code in Custom_Activity_Scope which searches for nested activities and explicitly executes them, like Sequence Activity does."}, {"owner": {"reputation": 590, "user_id": 3223075, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/m7QDD.jpg?s=128&g=1", "display_name": "Conor", "link": "https://stackoverflow.com/users/3223075/conor"}, "reply_to_user": {"reputation": 128, "user_id": 2774177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da7b8cfd20d0b9f820b3d353f9fd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "recineshto", "link": "https://stackoverflow.com/users/2774177/recineshto"}, "edited": false, "score": 0, "creation_date": 1567019113, "post_id": 57698311, "comment_id": 101841209, "body": "@recineshto that makes sense. Can the scope still inherit/implement from CodeActivity, looking around some sites mention using NativeActivity instead? Don&#39;t suppose you have any links to examples etc"}, {"owner": {"reputation": 128, "user_id": 2774177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da7b8cfd20d0b9f820b3d353f9fd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "recineshto", "link": "https://stackoverflow.com/users/2774177/recineshto"}, "edited": false, "score": 0, "creation_date": 1567020013, "post_id": 57698311, "comment_id": 101841583, "body": "@Conor, here on SO I have found following sample <a href=\"https://stackoverflow.com/questions/36068737/how-to-call-an-activity-inside-another-activity-in-microsoft-workflow\" title=\"how to call an activity inside another activity in microsoft workflow\">stackoverflow.com/questions/36068737/&hellip;</a>  As you may see in provided sample, plumbing will be most of yours code :)"}, {"owner": {"reputation": 590, "user_id": 3223075, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/m7QDD.jpg?s=128&g=1", "display_name": "Conor", "link": "https://stackoverflow.com/users/3223075/conor"}, "edited": false, "score": 0, "creation_date": 1567020385, "post_id": 57698311, "comment_id": 101841707, "body": "Thanks, however, that example would assume that the child activity is always of the type &#39;Approve&#39; I&#39;m looking for an example that will take any type of activity and execute it from within the scope"}, {"owner": {"reputation": 128, "user_id": 2774177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da7b8cfd20d0b9f820b3d353f9fd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "recineshto", "link": "https://stackoverflow.com/users/2774177/recineshto"}, "edited": false, "score": 1, "creation_date": 1567029202, "post_id": 57698311, "comment_id": 101844936, "body": "@Conor, another sample from SO <a href=\"https://stackoverflow.com/questions/7521696/windows-workflow-custom-sequence-activity\" title=\"windows workflow custom sequence activity\">stackoverflow.com/questions/7521696/&hellip;</a> This time, attempt is made to mimic Sequence :) and there is execution control"}], "answers": [{"tags": [], "owner": {"reputation": 128, "user_id": 2774177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da7b8cfd20d0b9f820b3d353f9fd8a0?s=128&d=identicon&r=PG&f=1", "display_name": "recineshto", "link": "https://stackoverflow.com/users/2774177/recineshto"}, "is_accepted": true, "score": 1, "last_activity_date": 1567030344, "creation_date": 1567030344, "answer_id": 57700661, "question_id": 57698311, "link": "https://stackoverflow.com/questions/57698311/create-nested-custom-wpf-activity-and-execute-nested-activity/57700661#57700661", "title": "Create nested custom WPF Activity and execute nested activity", "body": "<p>Here on SO (following one of comments) you can find nice solution:\n<a href=\"https://stackoverflow.com/questions/7521696/windows-workflow-custom-sequence-activity\">Windows Workflow Custom Sequence Activity</a></p>\n\n<p>I have not run-it yet, but did tried it in VS2017 and it behaves as expected.</p>\n\n<p>Only issue was to figure-out right assembly references.\nBeside <em>System.Activities</em> and <em>System.Activities.Presentation</em>, reference <strong><em>System.Activities.Core.Presentation</em></strong> is needed.</p>\n"}], "owner": {"reputation": 590, "user_id": 3223075, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/m7QDD.jpg?s=128&g=1", "display_name": "Conor", "link": "https://stackoverflow.com/users/3223075/conor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 57700661, "answer_count": 1, "score": 0, "last_activity_date": 1567030344, "creation_date": 1567017370, "last_edit_date": 1567018173, "question_id": 57698311, "link": "https://stackoverflow.com/questions/57698311/create-nested-custom-wpf-activity-and-execute-nested-activity", "title": "Create nested custom WPF Activity and execute nested activity", "body": "<p>I am trying to create a scope to contain a set of activities using C# &amp; WPF for use within UiPath.</p>\n\n<p>I am able to create a custom activity using the below class</p>\n\n<pre><code>using System.Activities;\n\nnamespace Custom_Activities\n{\n    public sealed class Scoped_Activity : Scoped_Activity_Template\n    {\n        protected override void Execute(CodeActivityContext context)\n        {\n            System.Console.WriteLine(\"Custom Activity Executing\");\n        }\n    }\n}\n</code></pre>\n\n<p>and I am able to create a scope to contain this activity using the below class</p>\n\n<pre><code>using System.Activities;\n\nnamespace Custom_Activities\n{\n    public class Custom_Activity_Scope : CodeActivity\n    {\n        protected override void Execute(CodeActivityContext context)\n        {\n            System.Console.WriteLine(\"Scope Executing\");\n        }\n    }\n}\n</code></pre>\n\n<p>and the below designer file</p>\n\n<pre><code>&lt;sap:ActivityDesigner \n    x:Class=\"Custom_Activities.Custom_Activity_Scope_Designer\"\n                    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n                    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n                    xmlns:sapc=\"clr-namespace:System.Activities.Presentation.Converters;assembly=System.Activities.Presentation\"\n                    xmlns:sapv=\"clr-namespace:System.Activities.Presentation.View;assembly=System.Activities.Presentation\"\n                    xmlns:sap=\"clr-namespace:System.Activities.Presentation;assembly=System.Activities.Presentation\"\n                    xmlns:s=\"clr-namespace:System;assembly=mscorlib\"&gt;\n    &lt;sap:ActivityDesigner.Resources&gt;\n        &lt;ResourceDictionary x:Uid=\"ResourceDictionary_1\"&gt;\n            &lt;sapc:ArgumentToExpressionConverter x:Key=\"ArgumentToExpressionConverter\" /&gt;\n            &lt;sapc:ModelToObjectValueConverter x:Key=\"ModelToObjectValueConverter\" /&gt;\n\n\n\n\n            &lt;DataTemplate x:Key=\"Collapsed\"&gt;\n\n            &lt;/DataTemplate&gt;\n\n            &lt;DataTemplate x:Key=\"Expanded\"&gt;\n                &lt;Grid&gt;\n                    &lt;Grid.ColumnDefinitions&gt;\n                        &lt;ColumnDefinition /&gt;\n                    &lt;/Grid.ColumnDefinitions&gt;\n\n                    &lt;Grid.RowDefinitions&gt;\n                        &lt;RowDefinition /&gt;\n                    &lt;/Grid.RowDefinitions&gt;\n\n\n                    &lt;sap:WorkflowItemPresenter Grid.Row=\"0\" Grid.Column=\"0\" Margin=\"5\" /&gt;\n                &lt;/Grid&gt;\n            &lt;/DataTemplate&gt;\n\n            &lt;Style x:Key=\"ExpandOrCollapsedStyle\" TargetType=\"{x:Type ContentPresenter}\"&gt;\n                &lt;Setter Property=\"ContentTemplate\" Value=\"{DynamicResource Expanded}\" /&gt;\n                &lt;Style.Triggers&gt;\n                    &lt;DataTrigger Binding=\"{Binding Path=ShowExpanded}\" Value=\"false\"&gt;\n                        &lt;Setter Property=\"ContentTemplate\" Value=\"{DynamicResource Collapsed}\" /&gt;\n                    &lt;/DataTrigger&gt;\n                &lt;/Style.Triggers&gt;\n            &lt;/Style&gt;\n\n        &lt;/ResourceDictionary&gt;\n    &lt;/sap:ActivityDesigner.Resources&gt;\n    &lt;Grid&gt;\n        &lt;ContentPresenter Style=\"{DynamicResource ExpandOrCollapsedStyle}\" Content=\"{Binding}\" /&gt;\n    &lt;/Grid&gt;\n&lt;/sap:ActivityDesigner&gt;\n</code></pre>\n\n<p>When I run <code>Scoped_Activity</code> I get the desired output (The log message saying 'Custom Activity Executing')</p>\n\n<p>When I run <code>Custom_Activity_Scope</code> I get the desired output (The log message saying 'Scope Executing')</p>\n\n<p>However when I place the <code>Scoped_Activity</code> within the <code>Custom_Activity_Scope</code> I only get the message 'Scope Executing' so the <code>Scoped_Activity</code> doesn't seem to be executing.</p>\n\n<p>I'm not quite sure what my next steps should be to execute the <code>Scoped_Activity</code> within <code>Custom_Activity_Scope</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/dpnY5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dpnY5.png\" alt=\"Screenshot of nested activity\"></a></p>\n"}, {"tags": ["c#", "sql", "oracle", "merge"], "comments": [{"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567017979, "post_id": 57698306, "comment_id": 101840758, "body": "The <a href=\"https://docs.oracle.com/cd/B28359_01/server.111/b28286/statements_9016.htm\" rel=\"nofollow noreferrer\">MERGE statement&#39;s syntax</a> is very strict. <code>WHEN MATCHED THEN</code> can only have an <code>UPDATE</code> clause and an optional <code>DELETE</code> clause. Within the UPDATE&#39;s <code>SET</code> clause, you can do your <code>CASE</code> expressions."}, {"owner": {"reputation": 346, "user_id": 9545837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8801258be6b3fc74270f114309845b9c?s=128&d=identicon&r=PG&f=1", "display_name": "SwagiWagi", "link": "https://stackoverflow.com/users/9545837/swagiwagi"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567018219, "post_id": 57698306, "comment_id": 101840855, "body": "@madreflection Can you give an example based on the code I wrote?"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567018519, "post_id": 57698306, "comment_id": 101840967, "body": "Nope. @Littlefoot has provided a much better answer than I could have. I was going to suggest <code>COALESCE</code>, as it were.  <code>NVL</code> is probably more idiomatic for Oracle, though."}], "answers": [{"tags": [], "owner": {"reputation": 75434, "user_id": 9097906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RmIqt.jpg?s=128&g=1", "display_name": "Littlefoot", "link": "https://stackoverflow.com/users/9097906/littlefoot"}, "is_accepted": true, "score": 3, "last_activity_date": 1567018469, "creation_date": 1567018469, "answer_id": 57698525, "question_id": 57698306, "link": "https://stackoverflow.com/questions/57698306/doing-a-merge-without-replacing-null-values-in-oracle/57698525#57698525", "title": "Doing a MERGE without replacing null values in Oracle", "body": "<p><code>NVL</code> might help.</p>\n\n<p>Test case:</p>\n\n<pre><code>SQL&gt; create table t1 (id number, first_name varchar2(10),\n  2    last_name varchar2(10), salary number);\n\nTable created.\n\nSQL&gt; create table t2 (id number, first_name varchar2(10),\n  2    last_name varchar2(10), salary number);\n\nTable created.\n\nSQL&gt; insert all\n  2    into t1 values (123, 'Bob', 'Foo', 100)\n  3    into t2 values (123, null, null, 200)\n  4    into t2 values (555, 'Little', 'Foot', 20)\n  5  select * From dual;\n\n3 rows created.\n</code></pre>\n\n<p>Merge:</p>\n\n<pre><code>SQL&gt; merge into t1 using t2 on (t1.id = t2.id)\n  2  when matched then update set\n  3    t1.first_name = nvl(t2.first_name, t1.first_name),\n  4    t1.last_name  = nvl(t2.last_name , t1.last_name),\n  5    t1.salary     = nvl(t2.salary    , t1.salary)\n  6  when not matched then insert\n  7    values (t2.id, t2.first_name, t2.last_name, t2.salary);\n\n2 rows merged.\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>SQL&gt; select * from t1 order by id;\n\n        ID FIRST_NAME LAST_NAME      SALARY\n---------- ---------- ---------- ----------\n       123 Bob        Foo               200\n       555 Little     Foot               20\n\nSQL&gt;\n</code></pre>\n"}], "owner": {"reputation": 346, "user_id": 9545837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8801258be6b3fc74270f114309845b9c?s=128&d=identicon&r=PG&f=1", "display_name": "SwagiWagi", "link": "https://stackoverflow.com/users/9545837/swagiwagi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 953, "favorite_count": 0, "accepted_answer_id": 57698525, "answer_count": 1, "score": 0, "last_activity_date": 1567018469, "creation_date": 1567017323, "question_id": 57698306, "link": "https://stackoverflow.com/questions/57698306/doing-a-merge-without-replacing-null-values-in-oracle", "title": "Doing a MERGE without replacing null values in Oracle", "body": "<p>I need to make an upsert to a table.</p>\n\n<p>Using Oracle.</p>\n\n<ol>\n<li>I created a temporary table that has the same columns as the original.</li>\n<li>I want to merge the temp one into the original but without replacing null values from the temp table, i.e:</li>\n</ol>\n\n<p>table1:</p>\n\n<pre><code>Id, First_Name, Last_Name, Salary\n123, Bob, Foo, 100\n</code></pre>\n\n<p>table2:</p>\n\n<pre><code>Id, First_Name, Last_Name, Salary\n123, NULL, NULL, 200\n</code></pre>\n\n<p>After merge:</p>\n\n<p>table1:</p>\n\n<pre><code>Id, First_Name, Last_Name, Salary\n123, Bob, Foo, 200\n</code></pre>\n\n<p>I tried constructing this:</p>\n\n<pre><code>MERGE INTO t1 wu USING t2 tmp ON (wu.Id = tmp.Id) WHEN MATCHED THEN\nCASE WHEN tmp.First_Name IS NOT NULL THEN\nUPDATE SET wu.First_Name = tmp.First_Name \nELSE\nUPDATE SET wu.First_Name = wu.First_Name\nEND\nCASE WHEN tmp.Last_Name IS NOT NULL THEN\nUPDATE SET wu.Last_Name = tmp.Last_Name \nELSE\nUPDATE SET wu.Last_Name = wu.Last_Name \nEND\nCASE WHEN tmp.Salary IS NOT NULL THEN\nUPDATE SET wu.Salary = tmp.Salary \nELSE\nUPDATE SET wu.Salary = wu.Salary \nEND\nWHEN NOT MATCHED THEN\nINSERT VALUES(tmp.Id, tmp.First_Name, LastName, tmp.Salary);\n</code></pre>\n\n<p>But I get:</p>\n\n<pre><code>ORA-00927: missing equal sign\n</code></pre>\n\n<p>I do not want to use PL/SQL - all from c# directly.</p>\n"}, {"tags": ["c#", "c#-8.0", "nullable-reference-types"], "comments": [{"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1567017447, "post_id": 57698273, "comment_id": 101840570, "body": "Shouln&#39;t a non-nullable reference type be initialized at declaration?"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 1, "creation_date": 1567018204, "post_id": 57698273, "comment_id": 101840847, "body": "It would be helpful if your title and your question sort of had the same answer. Right now I read the title &quot;Is an event field guaranteed to be non-null&quot;, and then the first answer starts with &quot;Yes&quot;. It&#39;s like &quot;Yes, we have no bananas&quot;. Can you make your question and its title have the same type of answer, either both yes or both no?"}, {"owner": {"reputation": 2335, "user_id": 3453041, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/024667382dfea30a6c96bed77f8b5c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Water", "link": "https://stackoverflow.com/users/3453041/water"}, "reply_to_user": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1567019293, "post_id": 57698273, "comment_id": 101841291, "body": "@LasseV&#229;gs&#230;therKarlsen If you think the answer to a question doesn&#39;t follow with the title, responding to the writer of the answer rather than the question writer is the better choice since I have no control over how people answer my questions (or even better yet, edit their answer). Regardless, I updated the title to satisfy your request which hopefully makes the title better overall."}], "answers": [{"comments": [{"owner": {"reputation": 27777, "user_id": 2420979, "user_type": "moderator", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/koRgt.png?s=128&g=1", "display_name": "Haney", "link": "https://stackoverflow.com/users/2420979/haney"}, "edited": false, "score": 1, "creation_date": 1567018798, "post_id": 57698305, "comment_id": 101841077, "body": "Also note that EventHandlers are immutable; every time the subscribers are updated an entirely new list is created."}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 4, "last_activity_date": 1567017312, "creation_date": 1567017312, "answer_id": 57698305, "question_id": 57698273, "link": "https://stackoverflow.com/questions/57698273/can-an-event-instance-field-member-be-null-assuming-it-is-not-forcefully-set-to/57698305#57698305", "title": "Can an event instance field member be null (assuming it is not forcefully set to null)?", "body": "<p>Yes, a field-like event can absolutely be null - and will be if there are no subscribers to the event. The compiler is correct. The generated event code is backed by a field of the delegate type, and the default value of the field is still null like other reference type fields.</p>\n\n<p>Note that with the null-conditional <code>?.</code> operator, it's easy to conditionally invoke the event handlers:</p>\n\n<pre><code>SomeEventThing?.Invoke(this, new EventArgs&lt;MyObject&gt;());\n</code></pre>\n"}], "owner": {"reputation": 2335, "user_id": 3453041, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/024667382dfea30a6c96bed77f8b5c7a?s=128&d=identicon&r=PG&f=1", "display_name": "Water", "link": "https://stackoverflow.com/users/3453041/water"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 57698305, "answer_count": 1, "score": 2, "last_activity_date": 1567019324, "creation_date": 1567017158, "last_edit_date": 1567019324, "question_id": 57698273, "link": "https://stackoverflow.com/questions/57698273/can-an-event-instance-field-member-be-null-assuming-it-is-not-forcefully-set-to", "title": "Can an event instance field member be null (assuming it is not forcefully set to null)?", "body": "<p>Suppose I have this as a member of a class:</p>\n\n<pre><code>public event EventHandler&lt;MyObject&gt; SomeEventThing;\n</code></pre>\n\n<p>to avoid a nullable reference warning, I have to write:</p>\n\n<pre><code>public event EventHandler&lt;MyObject&gt;? SomeEventThing;\n</code></pre>\n\n<p>Does this mean the event field could be null and I've been playing with fire the entire time? Or is this an analyzer bug?</p>\n"}, {"tags": ["c#", "string"], "comments": [{"owner": {"reputation": 2605, "user_id": 3043148, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b19f8540f22083d3cb0ca2afc2655cee?s=128&d=identicon&r=PG&f=1", "display_name": "nurdyguy", "link": "https://stackoverflow.com/users/3043148/nurdyguy"}, "edited": false, "score": 6, "creation_date": 1567017649, "post_id": 57698241, "comment_id": 101840647, "body": "That isn&#39;t string addition it is char addition.  Using indexing returns a char not a string."}], "answers": [{"comments": [{"owner": {"reputation": 3587, "user_id": 4915707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ubv91.jpg?s=128&g=1", "display_name": "Alexander Ushakov", "link": "https://stackoverflow.com/users/4915707/alexander-ushakov"}, "edited": false, "score": 0, "creation_date": 1567017850, "post_id": 57698320, "comment_id": 101840717, "body": "See here for more information: <a href=\"https://stackoverflow.com/questions/16851809/char-char-int-why\">stackoverflow.com/questions/16851809/char-char-int-why</a>"}, {"owner": {"reputation": 79, "user_id": 11502514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ptKe8.png?s=128&g=1", "display_name": "tanya", "link": "https://stackoverflow.com/users/11502514/tanya"}, "edited": false, "score": 0, "creation_date": 1567018120, "post_id": 57698320, "comment_id": 101840810, "body": "Thank you Dan for explanation and thanks to you Alexander for additional content on the topic."}], "tags": [], "owner": {"reputation": 1976, "user_id": 9772793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b5b22eb58da1abc14257e380c09c0f?s=128&d=identicon&r=PG&f=1", "display_name": "DanB", "link": "https://stackoverflow.com/users/9772793/danb"}, "is_accepted": false, "score": 8, "last_activity_date": 1567024880, "last_edit_date": 1567024880, "creation_date": 1567017441, "answer_id": 57698320, "question_id": 57698241, "link": "https://stackoverflow.com/questions/57698241/why-does-string-addition-result-is-so-weird/57698320#57698320", "title": "Why does string addition result is so weird?", "body": "<p>Because of [], this give the first char of the string.</p>\n\n<p><code>number[0] + number[0]</code> is doing 49 + 49 (the ascii code of char 1);</p>\n\n<p>I think you want to do this :</p>\n\n<pre><code>public static void Main(string[] args)\n{\n    int num = 1;\n    string number = num.ToString();\n    Console.WriteLine(number);\n    Console.WriteLine(number + number);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 9, "last_activity_date": 1567017654, "last_edit_date": 1567017654, "creation_date": 1567017455, "answer_id": 57698324, "question_id": 57698241, "link": "https://stackoverflow.com/questions/57698241/why-does-string-addition-result-is-so-weird/57698324#57698324", "title": "Why does string addition result is so weird?", "body": "<p>The type of <code>number[0]</code> is <code>char</code>, not <code>string</code> - you're not performing any string concatenation. Instead, you've got a <code>char</code> with value 49 (the UTF-16 value for '1'). There's no <code>+(char, char)</code> operator, so both operands are being promoted to <code>int</code> and you're performing integer addition.</p>\n\n<p>So this line:</p>\n\n<pre><code>Console.WriteLine(number[0] + number[0]);\n</code></pre>\n\n<p>is effectively this:</p>\n\n<pre><code>char op1 = number[0];\nint promoted1 = op1;\n\nchar op2 = number[0];\nint promoted2 = op2;\n\nint sum = promoted1 + promoted2;\nConsole.WriteLine(sum);\n</code></pre>\n\n<p>(It's possible that logically the promotion happens after both operands have been evaluated - I haven't checked the spec, and as it won't fail, it doesn't really matter.)</p>\n"}], "owner": {"reputation": 79, "user_id": 11502514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ptKe8.png?s=128&g=1", "display_name": "tanya", "link": "https://stackoverflow.com/users/11502514/tanya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 57698324, "answer_count": 2, "score": 5, "last_activity_date": 1567024880, "creation_date": 1567017043, "last_edit_date": 1567018027, "question_id": 57698241, "link": "https://stackoverflow.com/questions/57698241/why-does-string-addition-result-is-so-weird", "title": "Why does string addition result is so weird?", "body": "<pre class=\"lang-cs prettyprint-override\"><code>public static void Main(string[] args)\n{\n     int num = 1;\n     string number = num.ToString();\n     Console.WriteLine(number[0]);\n     Console.WriteLine(number[0] + number[0]);\n}\n</code></pre>\n\n<p>I expect the output of <code>1</code> and <code>11</code> but I'm getting <code>1</code> and <code>98</code>. What am I missing?</p>\n"}, {"tags": ["c#", "asp.net", "listview"], "comments": [{"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 1, "creation_date": 1567017335, "post_id": 57698226, "comment_id": 101840538, "body": "You can also bind an IEnumerable / List. <a href=\"https://www.claudiobernasconi.ch/2013/07/22/when-to-use-ienumerable-icollection-ilist-and-list/\" rel=\"nofollow noreferrer\">claudiobernasconi.ch/2013/07/22/&hellip;</a>. Like <code>lvInstructors.DataSrouce = UpcomingSessions;</code>"}, {"owner": {"reputation": 69, "user_id": 5660402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de18f66d6801543b952511ebbc456a9a?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/5660402/justin"}, "reply_to_user": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 0, "creation_date": 1567018071, "post_id": 57698226, "comment_id": 101840791, "body": "Thank You, VDWWD. Will look into it &amp; try it out. Didn&#39;t know I also had that kind of flexibility with the DataSource"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5660402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de18f66d6801543b952511ebbc456a9a?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/5660402/justin"}, "edited": false, "score": 0, "creation_date": 1567093572, "post_id": 57706351, "comment_id": 101869519, "body": "Thanks alot, A A. The solution that I got to work was very similar to this."}], "tags": [], "owner": {"reputation": 1190, "user_id": 4898964, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c20c2ceae3f1527145311afde01e3e0a?s=128&d=identicon&r=PG&f=1", "display_name": "Ajoe", "link": "https://stackoverflow.com/users/4898964/ajoe"}, "is_accepted": false, "score": 1, "last_activity_date": 1567068199, "creation_date": 1567068199, "answer_id": 57706351, "question_id": 57698226, "link": "https://stackoverflow.com/questions/57698226/populate-listview-without-datasource-table/57706351#57706351", "title": "Populate Listview without DataSource/Table?", "body": "<p>Try like this</p>\n\n<pre><code>public class Instructors{\n public string SessionName{get;set;}\n public DateTime SessionStartTime {get;set;}\n public string InstructorName {get;set;}\n public string SessionRoom {get;set;}\n}\n\nList&lt;Instructors&gt;  InstructorsLst=new List&lt;Instructors&gt;();   \n\nforeach (Session S in UpcomingSessions)\n{\n foreach(Enrollment I in S.Instructors())\n {\n   Instructors inst=new Instructors();\n    inst.SessionName = S.Name;\n    inst.SessionStartTime = S.FirstDateTime().ToShortTimeString();\n    inst.InstructorName = I.FirstName + \" \" + I.LastName;\n    inst.SessionRoom = S.Room.ToString();\n\n    InstructorsLst.Add(inst);\n }\n}\n\nlvInstructors.DataSrouce = InstructorsLst;\nlvInstructors.DataBind();\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 5660402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de18f66d6801543b952511ebbc456a9a?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/5660402/justin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567068199, "creation_date": 1567016979, "last_edit_date": 1567017079, "question_id": 57698226, "link": "https://stackoverflow.com/questions/57698226/populate-listview-without-datasource-table", "title": "Populate Listview without DataSource/Table?", "body": "<p>Just for background: So Im trying to create an interface for users to check-in. The concept is simple:A Listview where each item holds an image, name, some info, and a button to the right that says check-in (That they'd press). \nThis interface is on a webpage (.aspx) with an .aspx.cs codefile.</p>\n\n<p>I've created my ListView &amp; set templates</p>\n\n<pre><code>&lt;asp:ListView\n    ID=\"lvInstructors\"\n    runat=\"server\"\n    AutoGenerateColumns=\"False\"\n    ShowRegularGridWhenEmpty=\"False\"\n    EmptyDataText=\"No Sessions to Display.\"\n    OnRowDataBound=\"lvDataBound\"\n    OnRowCommand=\"lvCommand\"\n    Visible=\"true\"&gt;\n    &lt;LayoutTemplate&gt;\n        &lt;div class=\"container\" id=\"mainContent\"&gt;\n            &lt;asp:PlaceHolder ID=\"itemPlaceHolder\" runat=\"server\" /&gt;\n        &lt;/div&gt;\n    &lt;/LayoutTemplate&gt;\n\n    &lt;ItemTemplate&gt;\n        &lt;div class=\"row instructorItem\"&gt;\n            &lt;div class=\"col-2 sessionStartTimeDiv\"&gt;\n                &lt;p class=\"sessionStartTime\"&gt;&lt;/p&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"col-2 instructorHeadshotDiv\"&gt;\n                &lt;asp:Image class=\"instructorHeadshot\" runat=\"server\" src=\"\" /&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"col-5 sessionInfoDiv\"&gt;\n                &lt;h3 class=\"instructorName\"&gt;&lt;/h3&gt;\n                &lt;p class=\"sessionInfo\"&gt;&lt;/p&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"col-3 checkInBtnDiv\"&gt;\n                &lt;asp:Button class=\"checkInBtn\" OnClick=\"CheckInBtn_Click\" ID=\"checkInBtn\" runat=\"server\" Text=\"CHECK-IN\" /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/ItemTemplate&gt;\n\n    &lt;EmptyDataTemplate&gt;No Sessions to Display&lt;/EmptyDataTemplate&gt;\n&lt;/asp:ListView&gt;\n\n</code></pre>\n\n<p>My issue is, I don't want to link this ListView to a database, source, or table (Is that even possible)</p>\n\n<p>Below are the variables in .aspx.cs that I'd like to populate my ListView Items with, but Im not sure how to go about doing do, especially when it comes to creating a new ListView Item per each for loop. Any suggestions? Thanks Alot!</p>\n\n<pre><code>foreach (Session S in UpcomingSessions)\n{\n    foreach(Enrollment I in S.Instructors())\n    {\n        SessionName = S.Name;\n        SessionStartTime = S.FirstDateTime().ToShortTimeString();\n        InstructorName = I.FirstName + \" \" + I.LastName;\n        SessionRoom = S.Room.ToString();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "outlook"], "answers": [{"comments": [{"owner": {"reputation": 2086, "user_id": 695182, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/YBJa3.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/695182/alex"}, "edited": false, "score": 0, "creation_date": 1567027660, "post_id": 57699120, "comment_id": 101844462, "body": "Thanks. Do you mean it&#39;s possible to add Recipient normally and then simply adjust some properties with Ext. MAPI? That&#39;s something I can do. Would you mind to elaborate what exactly needs to be done?"}, {"owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "reply_to_user": {"reputation": 2086, "user_id": 695182, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/YBJa3.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/695182/alex"}, "edited": false, "score": 1, "creation_date": 1567033529, "post_id": 57699120, "comment_id": 101845844, "body": "Distribution list members are stored in two PT_MV_BINARY properties (take a look at an existing DL with OutlookSpy - click IMessage button). One list is one-off entry ids (this way you can always send even if the contact is gone) and another is the native address book entry id. That entry id needs to be built from an IPM.Contact message entry id - OAB provider entry id embeds the store entry id plus extra properties (e.g. email index)"}, {"owner": {"reputation": 2086, "user_id": 695182, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/YBJa3.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/695182/alex"}, "edited": false, "score": 1, "creation_date": 1567099687, "post_id": 57699120, "comment_id": 101872259, "body": "Yes, I was able to successfully update the entry from one-off to a contact: <code>id = &quot;http:&#47;&#47;schemas.microsoft.com&#47;mapi&#47;id&#47;{00062004-0000-0000-C0&zwnj;&#8203;00-000000000046}&#47;805&zwnj;&#8203;51102&quot;; var members = mapiDistList.PropertyAccessor.GetProperty(id); members[i] = ToBytes(WrappedIdPrefix + EntryIdOfContactInQuestion); mapiDistList.PropertyAccessor.SetProperty(id); mapiDistList.Save();</code> I even didn&#39;t need to use Ext. MAPI directly, <code>PropertyAccessor</code> is fine. I probably also need to update PidLidDistributionListChecksum as well but for now my Outlook seems to work fine even without it updated."}, {"owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "reply_to_user": {"reputation": 2086, "user_id": 695182, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/YBJa3.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/695182/alex"}, "edited": false, "score": 1, "creation_date": 1567117013, "post_id": 57699120, "comment_id": 101878261, "body": "You got lucky that Microsoft forgot to block that property - they do that for the properties they consider &quot;important&quot; :-)"}], "tags": [], "owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1567021448, "creation_date": 1567021448, "answer_id": 57699120, "question_id": 57698156, "link": "https://stackoverflow.com/questions/57698156/can-i-add-a-member-to-outlook-distlistitem-as-a-contact-rather-than-one-off-memb/57699120#57699120", "title": "Can I add a member to Outlook.DistListItem as a contact rather than one-off member using Outlook OOM?", "body": "<p>Yes, it is either straight Extended MAPI to modify a couple of <code>PT_MV_BINARY</code> properties or <a href=\"http://www.dimastr.com/redemption/RDODistListItem.htm\" rel=\"nofollow noreferrer\">RDODistListItem</a>.<code>AddContact</code> in Redemption.</p>\n"}], "owner": {"reputation": 2086, "user_id": 695182, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/YBJa3.jpg?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/695182/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 57699120, "answer_count": 1, "score": 0, "last_activity_date": 1592984954, "creation_date": 1567016698, "last_edit_date": 1592984954, "question_id": 57698156, "link": "https://stackoverflow.com/questions/57698156/can-i-add-a-member-to-outlook-distlistitem-as-a-contact-rather-than-one-off-memb", "title": "Can I add a member to Outlook.DistListItem as a contact rather than one-off member using Outlook OOM?", "body": "<p>I have a contact in Outlook Contacts folder. No matter what I do, I can only add it as one-off address to the distribution list.</p>\n\n<p><code>Recipient.Resolve</code> succeeds but this does not help (moreover, in my tests it always succeeds, even if pass just an arbitrary email address string to <code>CreateRecipient</code> method which certainly doesn't have anything in common in my address book) so looks like it doesn't actually serve its purpose of locating the contact in the address book. At least in my Outlook 2010.</p>\n\n<pre><code>// email denotes the email address of some contact in Contacts.\nOutlook.Recipient member = _namespaceInstance.CreateRecipient(email);\nif (member.Resolve())\n{\n    mapiDistList.AddMember(member);\n}\nmapiDistList.Save();\n</code></pre>\n\n<p>Is MAPI (or its COM wrappers like Redemption) the only way to create a \"real\" contact entry?</p>\n"}, {"tags": ["c#", ".net", "visual-studio", "random", "filereader"], "comments": [{"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 2, "creation_date": 1567016561, "post_id": 57698028, "comment_id": 101840240, "body": "You&#39;re not really randomly reading the text file. You&#39;re reading the whole text file each time this method is called and randomly selecting part of it. Try reading the file once and producing an index of paragraph start+length. Then randomly select from the index."}, {"owner": {"reputation": 5, "user_id": 11909489, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nAhmfbxdqpo/AAAAAAAAAAI/AAAAAAAAAuY/yRTNLK6h2lU/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/11909489/daniel"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567016995, "post_id": 57698028, "comment_id": 101840410, "body": "I want it to first select a random line. That random will be empty or contain characters. If it&#39;s empty, I want the output (reply) to be every character post the empty line all the way to the next empty line where it should cut out and return that result as a string. If it randomly selects a line in the middle of the paragraph, I want it to inch the position back until the beginning of the paragraph which will be recognized by a full empty line prior the paragraph. The last character of the string reply should be the last character of the paragraph prior the next whole empty line."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567017080, "post_id": 57698028, "comment_id": 101840444, "body": "The index can help here, too... choose a random point and then search the index for the last paragraph start prior to that point."}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 1, "creation_date": 1567018081, "post_id": 57698028, "comment_id": 101840796, "body": "Your long comment here outlines a solution very nicely, what sort of problems do you have implementing that solution?"}, {"owner": {"reputation": 5, "user_id": 11909489, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nAhmfbxdqpo/AAAAAAAAAAI/AAAAAAAAAuY/yRTNLK6h2lU/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/11909489/daniel"}, "reply_to_user": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1567018363, "post_id": 57698028, "comment_id": 101840914, "body": "@LasseV&#229;gs&#230;therKarlsen I&#39;m new to stack-overflow and I made lots of edits to the code a few times. I removed some of the mistakes that were in the code. However you&#39;re right. If you could hopefully provide a code snippet of what I defined implemented within the example code that&#39;d be great."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567025180, "post_id": 57698028, "comment_id": 101843545, "body": "Characterizing the problem size as &quot;huge&quot; with &quot;tons&quot; of paras is vague, which makes it hard to help you. You might consider a hundred thousand lines &quot;huge&quot; and I might consider a million &quot;pretty small&quot; depending on what we were used to. Can you put some <i>numbers</i> on the size of the problem?  The techniques you&#39;d use to solve this problem if there are millions of paras are different than those you&#39;d use if there are thousands."}, {"owner": {"reputation": 5, "user_id": 11909489, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nAhmfbxdqpo/AAAAAAAAAAI/AAAAAAAAAuY/yRTNLK6h2lU/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/11909489/daniel"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1567026294, "post_id": 57698028, "comment_id": 101843983, "body": "@EricLippert I definitely understand your concern. Stackoverflow rookie mistake. The .txt is 4332554 characters long. Thanks to the community I was able to resolve the issue."}], "answers": [{"comments": [{"owner": {"reputation": 2973, "user_id": 1196886, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5143984de4abf18cfe2aaef3f1fff7c2?s=128&d=identicon&r=PG", "display_name": "Ronan Thibaudau", "link": "https://stackoverflow.com/users/1196886/ronan-thibaudau"}, "edited": false, "score": 0, "creation_date": 1567019900, "post_id": 57698560, "comment_id": 101841532, "body": "This would fail in case some paragraphs are subsets of other paragraphs, for exemple if you have &quot;hello dear&quot; and &quot;hello dear how are you today&quot; and you want to find the first it may match the second if it comes first in the lines due to contains. Also no reason to split on \\r\\n instead of Environment.NewLine, would break if the file uses \\n"}, {"owner": {"reputation": 410, "user_id": 5268529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-xNjjn-7ViUo/AAAAAAAAAAI/AAAAAAAAABY/HzRNZJ721w0/photo.jpg?sz=128", "display_name": "LeRoi", "link": "https://stackoverflow.com/users/5268529/leroi"}, "reply_to_user": {"reputation": 2973, "user_id": 1196886, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5143984de4abf18cfe2aaef3f1fff7c2?s=128&d=identicon&r=PG", "display_name": "Ronan Thibaudau", "link": "https://stackoverflow.com/users/1196886/ronan-thibaudau"}, "edited": false, "score": 0, "creation_date": 1567020381, "post_id": 57698560, "comment_id": 101841705, "body": "@RonanThibaudau Thanks, I edited the answer to mitigate those issues"}], "tags": [], "owner": {"reputation": 410, "user_id": 5268529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-xNjjn-7ViUo/AAAAAAAAAAI/AAAAAAAAABY/HzRNZJ721w0/photo.jpg?sz=128", "display_name": "LeRoi", "link": "https://stackoverflow.com/users/5268529/leroi"}, "is_accepted": false, "score": 0, "last_activity_date": 1567061361, "last_edit_date": 1567061361, "creation_date": 1567018635, "answer_id": 57698560, "question_id": 57698028, "link": "https://stackoverflow.com/questions/57698028/problem-reading-txt-file-in-c-starting-from-after-immediate-empty-whole-line/57698560#57698560", "title": "problem reading .txt file in C# starting from (after immediate empty whole line) to (the next empty whole line)", "body": "<p>To get intact paragraphs</p>\n\n<pre><code>public static string GetRandomParagraph(string fileName)\n{\n    /* \n       Rather than reading all the lines, read all the text\n       this gives you the ability to split by paragraph\n    */\n    var allText = File.ReadAllText(fileName);\n    // Use as separator for paragraphs\n    var paragraphSeparator = $\"{Environment.NewLine}{Environment.NewLine}\";\n    // Treat large white spaces after a new line as separate paragraphs \n    allText = Regex.Replace(allText, @\"(\\n\\s{3,})\", paragraphSeparator);\n    // Split the text into paragraphs\n    var paragraphs = allText.Split(paragraphSeparator);\n    // Get a random index between 0 and the amount of paragraphs\n    var randomParagraph = new Random().Next(0, paragraphs.Length);\n\n    return paragraphs[randomParagraph];\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2973, "user_id": 1196886, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5143984de4abf18cfe2aaef3f1fff7c2?s=128&d=identicon&r=PG", "display_name": "Ronan Thibaudau", "link": "https://stackoverflow.com/users/1196886/ronan-thibaudau"}, "is_accepted": false, "score": 0, "last_activity_date": 1567019741, "creation_date": 1567019741, "answer_id": 57698780, "question_id": 57698028, "link": "https://stackoverflow.com/questions/57698028/problem-reading-txt-file-in-c-starting-from-after-immediate-empty-whole-line/57698780#57698780", "title": "problem reading .txt file in C# starting from (after immediate empty whole line) to (the next empty whole line)", "body": "<pre><code>// This builds a list of Paragraph first\npublic static List&lt;string&gt; GetParagraphs(string filename)\n{        \n    var paragraphs = new List&lt;string&gt;();\n    var lines = File.ReadAllLines(filename);\n    bool newParagraph = true;\n    string CurrentParagraph = string.Empty;\n    // Build the list of paragraphs by adding to the currentParagraph until empty lines and then starting a new one\n    foreach(var line in lines)\n    {\n        if(newParagraph)\n        {\n            CurrentParagraph = line;\n            newParagraph = false;\n        }\n        else\n        {\n            if(string.IsNullOrWhiteSpace(line))// we're starting a new paragraph, add it to the list of paragraphs and reset current paragraph for next one\n            {\n                paragraphs.Add(CurrentParagraph);\n                CurrentParagraph = string.Empty;\n                newParagraph = true;\n            }\n            else // we're still in the same paragraph, add the line to current paragraph\n            {\n                newParagraph += (Environment.NewLine + line);\n            }\n        }\n    }\n    // Careful, if your file doesn't end with a newline the last paragraph won't count as one, in that case add it manually here.\n}\n\npublic static Random rnd = new Random();\n\n// And this returns a random one\npublic static string GetRandomParagraph(string fileName)\n{\n     var allParagraphs = GetParagraphs(filename);\n     allParagraphs[rnd.Next(0,allParagraphs.length-1)]; // pick one of the paragraphs at random, stop at length-1 as collection indexers are 0 based    \n}\n</code></pre>\n\n<p>Note that if you're always reading from the same file this could be much faster by only calling GetParagraphs once and keeping the list of paragraphs in memory.</p>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 11305607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v91w9.png?s=128&g=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/11305607/stephen"}, "is_accepted": false, "score": 0, "last_activity_date": 1567020440, "creation_date": 1567020440, "answer_id": 57698906, "question_id": 57698028, "link": "https://stackoverflow.com/questions/57698028/problem-reading-txt-file-in-c-starting-from-after-immediate-empty-whole-line/57698906#57698906", "title": "problem reading .txt file in C# starting from (after immediate empty whole line) to (the next empty whole line)", "body": "<p>Try this:</p>\n\n<pre><code>public static string GetRandomLine(string filename)\n    {\n        var lines = File.ReadAllLines(filename);\n        var lineNumber = _rand.Next(0, lines.Length - 1);\n        var blankBefore = lineNumber;\n        var blankAfter = lineNumber + 1;\n        string reply = \"\";\n\n        while (lines[blankBefore].Length &gt; 0)\n        {\n            blankBefore--;\n        }\n\n        while (lines[blankAfter].Length != 0)\n        {\n            blankAfter++;\n        }\n\n        for ( int i = blankBefore + 1; blankBefore &lt; blankAfter; blankBefore++)\n        {\n            reply += lines[i];\n        }\n        return reply;\n    }\n</code></pre>\n\n<p>Based on your description, I'm assuming the file begins and ends with a blank line. By setting the exclusive upper bound of the random line to be one less than the length of lines, you avoid the chance of the random line being the last line of the file. If the random line is a blank line, blankBefore will be the index of that line, otherwise, it will be back tracked until it reaches the previous blank. blankAfter starts as the index of the next line after the random line and if that line is not blank, blankAfter is increased until it is the index of the next blank line.</p>\n\n<p>Once you have the index of the blank lines before and after the target paragraph, simply append the lines between them to reply.</p>\n\n<p>If the first and last lines of the file are not blank, you would need to verify that blankBefore and blankAfter remain within the bounds of the array.</p>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 11909489, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nAhmfbxdqpo/AAAAAAAAAAI/AAAAAAAAAuY/yRTNLK6h2lU/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/11909489/daniel"}, "edited": false, "score": 0, "creation_date": 1567025671, "post_id": 57699505, "comment_id": 101843759, "body": "Awesome! I made some changes to to your code for the purpose of my small project.Thank you!"}], "tags": [], "owner": {"reputation": 36, "user_id": 11452721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y1Skl.png?s=128&g=1", "display_name": "TheCoderCrab", "link": "https://stackoverflow.com/users/11452721/thecodercrab"}, "is_accepted": true, "score": 0, "last_activity_date": 1567023417, "creation_date": 1567023417, "answer_id": 57699505, "question_id": 57698028, "link": "https://stackoverflow.com/questions/57698028/problem-reading-txt-file-in-c-starting-from-after-immediate-empty-whole-line/57699505#57699505", "title": "problem reading .txt file in C# starting from (after immediate empty whole line) to (the next empty whole line)", "body": "<p>Try the following:</p>\n\n<pre><code>        public static string[] GetRandomParagraph(string filePath)\n        {\n            if (File.Exists(filePath))\n            {\n                string text = File.ReadAllText(filePath);\n                string[] paragraphs = text.Split(new string[] { \"\\n\\n\" }, StringSplitOptions.None);\n                return paragraphs[new Random().Next(0, paragraphs.Length)].Split('\\n');\n\n            }\n            else\n                throw new FileNotFoundException(\"The file was not found\", filePath);\n        }\n</code></pre>\n\n<p>I really hope that is that what you are looking for.</p>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 11909489, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nAhmfbxdqpo/AAAAAAAAAAI/AAAAAAAAAuY/yRTNLK6h2lU/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/11909489/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1567026647, "last_edit_date": 1567026647, "creation_date": 1567026039, "answer_id": 57699982, "question_id": 57698028, "link": "https://stackoverflow.com/questions/57698028/problem-reading-txt-file-in-c-starting-from-after-immediate-empty-whole-line/57699982#57699982", "title": "problem reading .txt file in C# starting from (after immediate empty whole line) to (the next empty whole line)", "body": "<p>I made some modifications to the code provided above by @TheCoderCrab. I turned the method to a string method so it would return a string. I simply added a for loop append all the characters of the paragraph array on to a new string which returns it to the main. Thank you.</p>\n\n<pre><code>public static string GetRandomParagraph(string filePath)\n    {\n        if (File.Exists(filePath))\n        {\n            string text = File.ReadAllText(filePath);\n            string[] paragraphs = text.Split(new string[] { \"\\n\\n\" }, StringSplitOptions.None);\n            string [] paragraph = paragraphs[new Random().Next(0, paragraphs.Length)].Split('\\n');\n\n            //Added a for loop to build the string out of all the characters in the 'paragraph' array index.\n            string pReturn = \"\";\n            for (int a = 0; a &lt; paragraph.Length; a++)\n            {\n                //Loop through and consecutively append each character of mapped array index to a return string 'pReturn'\n                pReturn = pReturn + paragraph[a].ToString();\n            }\n\n            return pReturn;\n\n        }\n        else\n            throw new FileNotFoundException(\"The file was not found\", filePath);\n    }\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 11909489, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nAhmfbxdqpo/AAAAAAAAAAI/AAAAAAAAAuY/yRTNLK6h2lU/photo.jpg?sz=128", "display_name": "Daniel", "link": "https://stackoverflow.com/users/11909489/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 57699505, "answer_count": 5, "score": -2, "last_activity_date": 1567061361, "creation_date": 1567016107, "last_edit_date": 1567017903, "question_id": 57698028, "link": "https://stackoverflow.com/questions/57698028/problem-reading-txt-file-in-c-starting-from-after-immediate-empty-whole-line", "title": "problem reading .txt file in C# starting from (after immediate empty whole line) to (the next empty whole line)", "body": "<p>I am trying to randomly read a huge .txt file. It has tons of paragraphs separated by a full line of empty space prior and post each paragraph. I would like each time I randomly read that it pulls up a full intact paragraph without any characters or words missing for the sake of context. I appreciated the help in advance.</p>\n\n<p>I added a for loop just to test it out and see if I can at some point include a way to recognize consecutively running empty space. That would only work post already selected the starting point obviously if applied.</p>\n\n<pre><code>public static string GetRandomLine(string filename)\n{        \n    var lines = File.ReadAllLines(filename);\n    var lineNumber = _rand.Next(0, lines.Length);\n    string reply = lines[lineNumber];\n\n\n    return reply ;\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "entity-framework", ".net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 2, "creation_date": 1567018243, "post_id": 57698007, "comment_id": 101840867, "body": "Can you share also OnModelCreating method, please? If you can add more relevant code."}, {"owner": {"reputation": 2564, "user_id": 2091805, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/2a1f47afb185307f8647a1e78e565d3f?s=128&d=identicon&r=PG", "display_name": "Roshan", "link": "https://stackoverflow.com/users/2091805/roshan"}, "reply_to_user": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567021245, "post_id": 57698007, "comment_id": 101842027, "body": "Please see my updated question"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1567023537, "post_id": 57698007, "comment_id": 101842943, "body": "And what&#39;s in <code>DatabaseSeeder.Seed(modelBuilder)</code>?"}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567036083, "post_id": 57698007, "comment_id": 101846300, "body": "And what is inside all IEntityConfiguration implementations as it is likely to be a problem in there."}, {"owner": {"reputation": 2564, "user_id": 2091805, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/2a1f47afb185307f8647a1e78e565d3f?s=128&d=identicon&r=PG", "display_name": "Roshan", "link": "https://stackoverflow.com/users/2091805/roshan"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1567069721, "post_id": 57698007, "comment_id": 101855892, "body": "@GertArnold see my updated question. im calling a method to seed application user inside seed() method."}, {"owner": {"reputation": 2564, "user_id": 2091805, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/2a1f47afb185307f8647a1e78e565d3f?s=128&d=identicon&r=PG", "display_name": "Roshan", "link": "https://stackoverflow.com/users/2091805/roshan"}, "reply_to_user": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567070108, "post_id": 57698007, "comment_id": 101856070, "body": "@dropoutcoder why ?"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1567070536, "post_id": 57698007, "comment_id": 101856294, "body": "I think you changed the seeded data for <code>user1</code> and <code>user2</code> since the last migration."}, {"owner": {"reputation": 2564, "user_id": 2091805, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/2a1f47afb185307f8647a1e78e565d3f?s=128&d=identicon&r=PG", "display_name": "Roshan", "link": "https://stackoverflow.com/users/2091805/roshan"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1567070910, "post_id": 57698007, "comment_id": 101856501, "body": "@GertArnold no!. if i execute Add-migration command without changing the data, mentioned data automatically added for  update."}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567076066, "post_id": 57698007, "comment_id": 101859293, "body": "@Roshan: Sorry, not needed."}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567076295, "post_id": 57698007, "comment_id": 101859433, "body": "Couldn&#39;t be this the problem? <a href=\"https://wildermuth.com/2018/08/12/Seeding-Related-Entities-in-EF-Core-2-1-s-HasData()\" rel=\"nofollow noreferrer\">wildermuth.com/2018/08/12/&hellip;</a>"}], "owner": {"reputation": 2564, "user_id": 2091805, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/2a1f47afb185307f8647a1e78e565d3f?s=128&d=identicon&r=PG", "display_name": "Roshan", "link": "https://stackoverflow.com/users/2091805/roshan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1567083403, "creation_date": 1567015992, "last_edit_date": 1567083403, "question_id": 57698007, "link": "https://stackoverflow.com/questions/57698007/why-ef-core-2-2-always-updates-concurrencystamp-passwordhash-in-aspnetuser", "title": "Why EF Core 2.2 always updates &quot;ConcurrencyStamp&quot;, &quot;PasswordHash&quot; in &quot;AspNetUsers&quot; table?", "body": "<p>I have .net core application which uses ef core 2.2 code first model ,\nWhen i run </p>\n\n<blockquote>\n  <p>Add-migration</p>\n</blockquote>\n\n<p>it always updates <code>\"ConcurrencyStamp\", \"PasswordHash\"</code> column values in <code>\"AspNetUsers\"</code> table.</p>\n\n<p>Auto generated <code>UP</code> method content is </p>\n\n<pre><code>        migrationBuilder.UpdateData(\n            table: \"AspNetUsers\",\n            keyColumn: \"Id\",\n            keyValue: new Guid(\"b0bea27d-5eae-4836-8f85-8bf8f1aed8d5\"),\n            columns: new[] { \"ConcurrencyStamp\", \"PasswordHash\" },\n            values: new object[] { \"c599b745-8e24-438b-bd62-8264102ac960\", \"AQAAAAEAACcQAAAAEHjqRSJuPQtzpQR7L7hUNo3vFM8P9dhHkiXQjYRpdgS1Z9I9TXQ2XwhM9CQiE0oVyg==\" });\n\n        migrationBuilder.UpdateData(\n            table: \"AspNetUsers\",\n            keyColumn: \"Id\",\n            keyValue: new Guid(\"b0bea27d-5eae-4836-8f85-8bf8f1aed8d6\"),\n            columns: new[] { \"ConcurrencyStamp\", \"PasswordHash\" },\n            values: new object[] { \"bdbc0bcf-6eaa-489b-b2a2-9c1742a38bf4\", \"AQAAAAEAACcQAAAAEBpVzPQl74gxL+V93biLDmn4oKNJSZZ5VDUpwSQ/S8h+itGvGbScqG78Wi35bmN4dQ==\" });\n</code></pre>\n\n<p>My <strong>OnModelCreating</strong> method is as follows </p>\n\n<pre><code>protected override void OnModelCreating(ModelBuilder modelBuilder)\n{\n    base.OnModelCreating(modelBuilder);\n\n    modelBuilder.ApplyConfigurations(\n        typeof(SampleDBContext).Assembly,\n        typeof(IEntityTypeConfiguration&lt;&gt;));\n\n    DatabaseSeeder.Seed(modelBuilder);\n}\n</code></pre>\n\n<p>Inside seed method i call to a method to seed application user.</p>\n\n<pre><code>    private static void SeedApplicationUser(ModelBuilder modelBuilder)\n    {\n        var hasher = new PasswordHasher&lt;ApplicationUser&gt;();\n\n        var admin = new ApplicationUser\n        {\n            Id = Guid.Parse(\"b0bea27d-5eae-4836-8f85-8bf8f1aed8d4\"),\n            RoleType = RoleTypes.Admin,\n            Email = \"admin@gmail.io\",\n            NormalizedEmail = \"ADMIN@GMAIL.IO\",\n            EmailConfirmed = true,\n            UserName = \"admin\",\n            NormalizedUserName = \"ADMIN\",\n        };\n\n        var user1 = new ApplicationUser\n        {\n            Id = Guid.Parse(\"b0bea27d-5eae-4836-8f85-8bf8f1aed8d5\"),\n            RoleType = RoleTypes.User,\n            Email = \"user1@gmail.io\",\n            NormalizedEmail = \"USER1@GMAIL.IO\",\n            EmailConfirmed = true,\n            UserName = \"user1\",\n            AccessFailedCount = 0,\n            NormalizedUserName = \"USER1\",\n        };\n\n        var user2 = new ApplicationUser\n        {\n            Id = Guid.Parse(\"b0bea27d-5eae-4836-8f85-8bf8f1aed8d6\"),\n            RoleType = RoleTypes.User,\n            Email = \"user2@gmail.io\",\n            NormalizedEmail = \"USER2@GMAIL.IO\",\n            EmailConfirmed = true,\n            UserName = \"user2\",\n            AccessFailedCount = 0,\n            NormalizedUserName = \"USER2\",\n        };\n\n        admin.PasswordHash = hasher.HashPassword(admin, \"admin@23\");\n        user1.PasswordHash = hasher.HashPassword(user1, \"user1@23\");\n        user2.PasswordHash = hasher.HashPassword(user2, \"user2@23\");\n\n        modelBuilder.Entity&lt;ApplicationUser&gt;()\n            .HasData(admin, user1, user2);\n    }\n</code></pre>\n\n<p>Is this normal behavior or im i missing something ?</p>\n\n<p>if anyone need more details , comment.\ni have no idea what to provide.</p>\n\n<p>thanks,</p>\n"}, {"tags": ["c#", "json.net"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1567016108, "post_id": 57697987, "comment_id": 101840055, "body": "<a href=\"https://stackoverflow.com/a/39351555/1070452\">An example using a custom converter to do something similar to what you describe</a>"}, {"owner": {"reputation": 126, "user_id": 10728126, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1103fc0a05c466c4f3cd8d55395a15a2?s=128&d=identicon&r=PG", "display_name": "user10728126", "link": "https://stackoverflow.com/users/10728126/user10728126"}, "edited": false, "score": 0, "creation_date": 1567019843, "post_id": 57697987, "comment_id": 101841509, "body": "Maybe conditional property serialization if the classes are related: <a href=\"https://www.newtonsoft.com/json/help/html/conditionalproperties.htm\" rel=\"nofollow noreferrer\">newtonsoft.com/json/help/html/conditionalproperties.htm</a>. If not, try using reflection and compare the properties with the PropertyInfo class."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1567037415, "post_id": 57697987, "comment_id": 101846521, "body": "I think this is the easiest way.  However, you might want to not ignore <code>JsonReaderException</code> exceptions because these indicate a malformed JSON file."}], "owner": {"reputation": 693, "user_id": 5381090, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/1637535983194467/picture?type=large", "display_name": "Jedi_Maseter_Sam", "link": "https://stackoverflow.com/users/5381090/jedi-maseter-sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567016210, "creation_date": 1567015914, "last_edit_date": 1567016210, "question_id": 57697987, "link": "https://stackoverflow.com/questions/57697987/json-net-deserialization-ignore-properties-when-types-do-not-match", "title": "JSON.NET Deserialization: Ignore Properties When Types Do Not Match", "body": "<p>Here is the issue that I am trying to resolve. I have two <em>different classes</em> which I have <em>no ownership of</em>, and for most properties, if the names match, then the types match as well.  The only properties that I care about are the ones where the name and type match, missing properties or properties with mismatched types can all be ignored.</p>\n\n<p>My work around was to do this:</p>\n\n<pre><code>var settings = new JsonSerializerSettings\n{\n     MissingMemberHandling = MissingMemberHandling.Ignore,\n     Error = (sender, eventArgs) =&gt; eventArgs.ErrorContext.Handled = true\n};\n</code></pre>\n\n<p>but I feel that this may be a bit too heavy handed, and could end up biting me later due to the fact it ignores all errors.</p>\n\n<p><strong>Is there a more elegant way that exclusively targets errors when the property types do not match?</strong></p>\n"}, {"tags": ["c#", ".net", "asp.net-core", "iis", "tcp"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567020881, "post_id": 57697920, "comment_id": 101841898, "body": "From cmd.exe &gt;Ping IP (or Name).  The ping has options for long messages and different number of messages.  If you have internet issues ping will show errors. That is what ping is meant to do."}, {"owner": {"reputation": 349, "user_id": 893100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76e8b0b340466e987725ba07387dd456?s=128&d=identicon&r=PG", "display_name": "PLK", "link": "https://stackoverflow.com/users/893100/plk"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567024948, "post_id": 57697920, "comment_id": 101843459, "body": "I can run successful ping continuously with no packet drop, even while the API app shows network errors."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567027915, "post_id": 57697920, "comment_id": 101844531, "body": "With ping use options -t -l 65000 to give large amount of data.  Did you try both name and address?  The return times should be very consistent. The error does not seem to be in the TCP layer of the Network.  Sniffer data may show more info to help resolve.  The ping response is at the Network card and has no affect by the Application Layer.  So I suspect some other application(s) is affecting the results.  If a virus checker or firewall was checking port number that may cause these failures.  IP routing used is used by ping and port numbers are not checked."}, {"owner": {"reputation": 349, "user_id": 893100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76e8b0b340466e987725ba07387dd456?s=128&d=identicon&r=PG", "display_name": "PLK", "link": "https://stackoverflow.com/users/893100/plk"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567078705, "post_id": 57697920, "comment_id": 101860759, "body": "I can try this but i can also run a script connecting to the same SQL db that fails to connect sometimes from the app every two seconds and this never fails."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567078953, "post_id": 57697920, "comment_id": 101860904, "body": "It sound like you may have a timing issue getting the server name from the DNS Server. Does it fail using IP address or Computer Name (or both)?"}, {"owner": {"reputation": 349, "user_id": 893100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76e8b0b340466e987725ba07387dd456?s=128&d=identicon&r=PG", "display_name": "PLK", "link": "https://stackoverflow.com/users/893100/plk"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567102756, "post_id": 57697920, "comment_id": 101873476, "body": "Thanks to @jdweng - Interesting comment about larger ping packets - starting about 1500 bytes it starts to fail intermittently."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567119319, "post_id": 57697920, "comment_id": 101878799, "body": "Now that is real interesting.  TCP maximum datagram size is also 1500 bytes.  So you are getting errors when packets size is &gt; 1.  There is a IP header and TCP header.  The TCP specification is vague adding depending on Options different vendors interpreted the specification differently and the number of bytes of headers and data can vary.  But vendors are suppose to be able to handle the differences.   This goes back 50 years.  I will have to do more research."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567119369, "post_id": 57697920, "comment_id": 101878810, "body": "Try other sizes around 1500 (larger and smaller)."}], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 893100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76e8b0b340466e987725ba07387dd456?s=128&d=identicon&r=PG", "display_name": "PLK", "link": "https://stackoverflow.com/users/893100/plk"}, "edited": false, "score": 0, "creation_date": 1567246730, "post_id": 57722267, "comment_id": 101913307, "body": "Well diagnosed, many thanks. We switched the VMESX host and the problem was solved and so it looks like it was indeed some low-level network error as you suspected. ping with larger packets is a useful tool."}], "tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": true, "score": 1, "last_activity_date": 1567149544, "creation_date": 1567149544, "answer_id": 57722267, "question_id": 57697920, "link": "https://stackoverflow.com/questions/57697920/asp-net-core-net-framework-web-api-frequent-network-errors/57722267#57722267", "title": "ASP.Net Core + .NET Framework Web API - frequent network errors", "body": "<p>You have a very unusual issue.  The reason to use large packets sizes is when you have a very small number of errors the more data you send the more errors you will get.  But the error rate should be constant.  You will always get errors.  But in this case the error are not constant.  The only start when data is split into more than one packet which occurs when you send data larger than 1500 bytes.</p>\n\n<p>You probably have a multi-hop connection where the client and server are not directly connected by one cable.  You are going through routers and server which each have their own unique IP address (and name).</p>\n\n<p>Normally errors are fixed by replacing cables or pieces of hardware.  You can either randomly start replacing hardware or you can use ping from/to different servers and routers to find which work and which gives error helping to isolate issue.</p>\n\n<p>In you case it looks like the issues is one of your devices was not designed correctly.  Errors starting at 1500 bytes are usually due to vendor not fully testing devices and not fixing errors found during alpha and beta testing.  Most vendors do a very good job of testing and certifying their devices.  So this could be a \"Made in China\" issue.  Or maybe even a virus.  Still to fix issue start replacing or use ping to isolate which routes work and which give errors.</p>\n"}], "owner": {"reputation": 349, "user_id": 893100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76e8b0b340466e987725ba07387dd456?s=128&d=identicon&r=PG", "display_name": "PLK", "link": "https://stackoverflow.com/users/893100/plk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 57722267, "answer_count": 1, "score": 0, "last_activity_date": 1567149544, "creation_date": 1567015632, "last_edit_date": 1567019404, "question_id": 57697920, "link": "https://stackoverflow.com/questions/57697920/asp-net-core-net-framework-web-api-frequent-network-errors", "title": "ASP.Net Core + .NET Framework Web API - frequent network errors", "body": "<p>I have an ASP.Net Core 2.2 Web API targeting .NET framework 4.7.2 running under IIS, Out of Process. I am seeing a lot of <em>outgoing</em> network issues. The app connects to various things (SQL databases, SSAS via XMLA etc.) and I am seeing across the board network failures to connect to various resources. At first I thought it was SQL connections only but it appears to be network in general. I get some sort of failure very regularly, around 1 in 10 requests. I have this in web.config:</p>\n\n<pre><code>    &lt;system.net&gt;\n      &lt;connectionManagement&gt;\n        &lt;add address=\"*\" maxconnection=\"65535\"/&gt;\n      &lt;/connectionManagement&gt;\n    &lt;/system.net&gt;\n</code></pre>\n\n<p>and this in Startup.cs:</p>\n\n<pre><code>ServicePointManager.DefaultConnectionLimit = int.MaxValue;\n</code></pre>\n\n<p>However, it's not just HTTP connections that are failing, it's mostly SQL, SSAS, general TCP.</p>\n\n<p>The failures are things like SQL error 26, unable to connect and similar for other non-SQL network resources. It is intermittent, there is hardly any load on the box at all. It seems to happen when API calls are made back to back perhaps.</p>\n\n<p>I don't think it's a general network (router/switch) issue as I can set up, for example, a scripted console SQL connect/select/teardown to one of the remote services showing connect failures from the app and this never fails, even in a repeating loop running at the same time as I see errors in the app connecting to the same DB.\nThere must be some TCP/network tuning I am missing and would be grateful for any suggestions.</p>\n"}, {"tags": ["c#", "asp.net-core", "entity-framework-core"], "answers": [{"tags": [], "owner": {"reputation": 140, "user_id": 4947979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkQjQ.jpg?s=128&g=1", "display_name": "Nic Estrada", "link": "https://stackoverflow.com/users/4947979/nic-estrada"}, "is_accepted": false, "score": 1, "last_activity_date": 1567114821, "last_edit_date": 1567114821, "creation_date": 1567027698, "answer_id": 57700268, "question_id": 57697901, "link": "https://stackoverflow.com/questions/57697901/imutableentitytype-getproperties-doesnt-include-a-property-that-i-want/57700268#57700268", "title": "IMutableEntityType.GetProperties() doesn&#39;t include a property that I want", "body": "<p>Now, I'm not saying this is a good idea, but I ended up finding a way to do this.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var entities = modelBuilder.Model.GetEntityTypes().ToList();\n\nfor(int i = 0; i &lt; entities.Count; i++)\n{\n    var entity = entities[i];\n    foreach(var property in entity.ClrType.GetProperties().Where(p =&gt; \n        p.PropertyType == typeof(Measurement) &amp;&amp; !Attribute.IsDefined(p, typeof(NotMappedAttribute))\n    ))\n    {\n        // This API supports the Entity Framework Core infrastructure and is not intended to be used directly from your code.\n        // This API may change or be removed in future releases.\n        // https://docs.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.metadata.internal.internalentitytypebuilder\n\n        var entityTypeBuilderType = typeof(EntityTypeBuilder&lt;&gt;).MakeGenericType(entity.ClrType);\n        Model model = modelBuilder.Model as Model;\n        var internalModelBuilder = new InternalModelBuilder(model);\n        var internalEntityTypeBuilder = new InternalEntityTypeBuilder(entity.AsEntityType(), internalModelBuilder);\n        var entityTypeBuilder = (EntityTypeBuilder)Activator.CreateInstance(entityTypeBuilderType, internalEntityTypeBuilder);\n        entityTypeBuilder.Property&lt;Measurement&gt;(property.Name).HasConversion(measurementConverter);\n    }\n}\n</code></pre>\n\n<p>The reason this is bad is because it used a bunch of Internal classes. As you can see in the comment:</p>\n\n<blockquote>\n  <p>This API supports the Entity Framework Core infrastructure and is not intended to be used directly from your code.\n  This API may change or be removed in future releases.</p>\n</blockquote>\n\n<p>The reason it has to be this way is because the <code>EntityTypeBuilder</code> <em>must use a generic of the entity type that you are trying to configure.</em> Otherwise, later configuration will not work and will report your entities as in a \"shadow state\".</p>\n\n<p>In order to use the generic, you have to use <code>MakeGenericType</code> and then <code>Activator.CreateInstance</code>, and then the <code>EntityTypeBuilder</code> needs an <code>InternalEntityTypeBuilder</code> as a parameter for its constructor, and so on... the chain of dependencies runs down to the <code>Model</code>, which you can get from the modelBuilder.</p>\n\n<p>Long story short... this works perfectly, but <em>use at your own risk.</em></p>\n"}, {"comments": [{"owner": {"reputation": 140, "user_id": 4947979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkQjQ.jpg?s=128&g=1", "display_name": "Nic Estrada", "link": "https://stackoverflow.com/users/4947979/nic-estrada"}, "edited": false, "score": 0, "creation_date": 1567114914, "post_id": 57709893, "comment_id": 101877708, "body": "Hah! So the thought is that they break the public API so often that there&#39;s not really any additive risk from using the internal API? I actually thought about opening an issue on the github repo with this code."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 140, "user_id": 4947979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkQjQ.jpg?s=128&g=1", "display_name": "Nic Estrada", "link": "https://stackoverflow.com/users/4947979/nic-estrada"}, "edited": false, "score": 0, "creation_date": 1567116085, "post_id": 57709893, "comment_id": 101878005, "body": "Well, you can open an issue of course. My point is that it&#39;s not so big deal/showstopper like the lack of public <i>and</i> internal way to do what you need. Something is better than nothing :) It&#39;s a big step compared to the over encapsulated  EF6 where one need to use reflection to access private/internal fields etc."}, {"owner": {"reputation": 140, "user_id": 4947979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkQjQ.jpg?s=128&g=1", "display_name": "Nic Estrada", "link": "https://stackoverflow.com/users/4947979/nic-estrada"}, "edited": false, "score": 0, "creation_date": 1567197001, "post_id": 57709893, "comment_id": 101905729, "body": "Gotcha! This is my first foray into Entity Framework at all, so I had no idea. I&#39;m accepting this answer because I just tried it, and it works just as well as mine, while being significantly less convoluted."}], "tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 2, "last_activity_date": 1567080474, "creation_date": 1567080474, "answer_id": 57709893, "question_id": 57697901, "link": "https://stackoverflow.com/questions/57697901/imutableentitytype-getproperties-doesnt-include-a-property-that-i-want/57709893#57709893", "title": "IMutableEntityType.GetProperties() doesn&#39;t include a property that I want", "body": "<p>It's annoying that EF Core currently does not provide a good way to map user defined types. There is a plugin mechanism which is used by NET Topology suite, bit it requires too much plumbing code.</p>\n\n<p>So, the <code>GetProperties</code> issue:</p>\n\n<blockquote>\n  <p>This API only returns scalar properties and does not return navigation properties</p>\n</blockquote>\n\n<p>Well, once you know that EF Core treats your type as entity, hence treats properties of that type as navigation properties, you can use <code>GetNavigations</code> instead of <code>GetProperties</code>:</p>\n\n<pre><code>foreach (var entityType in modelBuilder.Model.GetEntityTypes())\n{\n    foreach (var navigation in entityType.GetNavigations().ToList())\n    {\n        if (navigation.ClrType == typeof(Measurement))\n        {\n            var entityTypeBuilder = modelBuilder.Entity(entityType.ClrType);\n            entityTypeBuilder\n                .Property&lt;Measurement&gt;(navigation.Name)\n                .HasConversion(measurementConverter);\n        }\n    }\n}\n</code></pre>\n\n<p>The only problem is this</p>\n\n<pre><code>var entityTypeBuilder = modelBuilder.Entity(entityType.ClrType);\n</code></pre>\n\n<p>As we can see here <a href=\"https://stackoverflow.com/questions/57692369/ef-core-configuration-problem-with-owned-type-used-in-2-different-classes/57695222#57695222\">EF Core configuration problem with owned type used in 2 different classes</a>, this is problematic (does not work) for owned entity types. And making it work requires using the internal API:</p>\n\n<pre><code>var entityTypeBuilder = new EntityTypeBuilder(entityType.AsEntityType().Builder);\n</code></pre>\n\n<p>In your own answer you say that using the internal API is \"bad\". IMHO the only bad thing is that the library does not provide a \"good\" public API for that. From the other side, fortunately all \"internal\" EF Core APIs are publicly available and can be used for scenarios like this when the public API is not sufficient. The only difference is that you have to watch the API changes when upgrading the newer version and update accordingly. Considering how many times they break the public APIs, this should not be a big deal/concern.</p>\n"}], "owner": {"reputation": 140, "user_id": 4947979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkQjQ.jpg?s=128&g=1", "display_name": "Nic Estrada", "link": "https://stackoverflow.com/users/4947979/nic-estrada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "accepted_answer_id": 57709893, "answer_count": 2, "score": 2, "last_activity_date": 1567114821, "creation_date": 1567015530, "question_id": 57697901, "link": "https://stackoverflow.com/questions/57697901/imutableentitytype-getproperties-doesnt-include-a-property-that-i-want", "title": "IMutableEntityType.GetProperties() doesn&#39;t include a property that I want", "body": "<p>I have a bunch of models that all make use of a class that I have created. They have properties of type <code>Measurement</code>. This <code>Measurement</code> class is not in itself an entity or a model that I want mapped to a database table. It's simply a type for passing around values and units in a pair, along with a bunch of methods and operators for managing operations on those values and units.</p>\n\n<p>I have created a <code>ValueConverter</code> so that I can represent the properties of this type in my models as strings in the database.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>ValueConverter&lt;Measurement, string&gt; measurementConverter = new ValueConverter&lt;Measurement, string&gt;\n(\n    v =&gt; v.ToString(),\n    v =&gt; new Measurement(v)\n);\n</code></pre>\n\n<p>Then, my plan is, in the <code>OnModelCreating()</code> method in my <code>DbContext</code>, to loop over all my entities and their properties, and use <code>property.SetValueConverter(measurementConverter);</code> on them if they are of the <code>Measurement</code> type. This way, all the Measurements in my models will automatically be able to save to and load from the database, and I don't have to keep extra string representation fields in my models.</p>\n\n<p>Here's the loop I'm talking about:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>foreach (var entity in modelBuilder.Model.GetEntityTypes())\n{\n    foreach (var property in entity.GetProperties())\n    {\n        if(property.ClrType == typeof(Measurement)) { property.SetValueConverter(measurementConverter); }\n    }\n}\n</code></pre>\n\n<p>The problem lies with the <code>GetProperties()</code> method. The documentation summary for it says this:</p>\n\n<blockquote>\n  <p>This API only returns scalar properties and does not return navigation properties</p>\n</blockquote>\n\n<p>The result of that is that none of my <code>Measurement</code> properties are returned by it at all. I believe that Entity Framework thinks that the <code>Measurement</code> class is actually its own model, so it doesn't treat it like a normal property. Of course, this means that the <code>ValueConverter</code> is never set on it and the whole solution doesn't work the way I want it to.</p>\n\n<p>My first thought was to turn the <code>Measurement</code> class into a struct instead, as it is already immutable and there's no real reason why it couldn't have been a struct in the first place. Wouldn't that make it clear to Entity Framework that this is a scalar property and should be included in the <code>GetProperties()</code> return? I thought so, but apparently not. I still get the same behavior after changing it.</p>\n\n<p>I would like to avoid putting an attribute on every <code>Measurement</code> property in every model, so if there's any way to just tell Entity Framework that all of these properties are in fact bindable, that would be awesome. If not, then how do I mark them out?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 2973, "user_id": 1196886, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5143984de4abf18cfe2aaef3f1fff7c2?s=128&d=identicon&r=PG", "display_name": "Ronan Thibaudau", "link": "https://stackoverflow.com/users/1196886/ronan-thibaudau"}, "edited": false, "score": 0, "creation_date": 1567018693, "post_id": 57697802, "comment_id": 101841032, "body": "You should tag your question to get better attention, specify &quot;which&quot; linq you&#39;re using (is it linq to sql, entity framework, entity framework core?)"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1567018837, "post_id": 57697802, "comment_id": 101841097, "body": "What data type is <code>corrective</code>?"}, {"owner": {"reputation": 4497, "user_id": 2856868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YYZQQ.jpg?s=128&g=1", "display_name": "Matt Rowland", "link": "https://stackoverflow.com/users/2856868/matt-rowland"}, "edited": false, "score": 0, "creation_date": 1567019508, "post_id": 57697802, "comment_id": 101841385, "body": "Is the code that you have shown throwing the exception or only when you uncomment the commented line?"}], "answers": [{"comments": [{"owner": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "edited": false, "score": 0, "creation_date": 1567019962, "post_id": 57698769, "comment_id": 101841559, "body": "Shouldn&#39;t that be <code>issFn = iss?.emp_namefirst ?? string.Empty</code>"}, {"owner": {"reputation": 4497, "user_id": 2856868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YYZQQ.jpg?s=128&g=1", "display_name": "Matt Rowland", "link": "https://stackoverflow.com/users/2856868/matt-rowland"}, "reply_to_user": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "edited": false, "score": 0, "creation_date": 1567020129, "post_id": 57698769, "comment_id": 101841623, "body": "@PeterSmith You are correct. I was really focused on the commented out code. I have updated my answer. Thanks!"}, {"owner": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "edited": false, "score": 0, "creation_date": 1567020170, "post_id": 57698769, "comment_id": 101841636, "body": "My pleasure, no problem. I really like the null-conditional operator!"}], "tags": [], "owner": {"reputation": 4497, "user_id": 2856868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YYZQQ.jpg?s=128&g=1", "display_name": "Matt Rowland", "link": "https://stackoverflow.com/users/2856868/matt-rowland"}, "is_accepted": true, "score": 3, "last_activity_date": 1567025298, "last_edit_date": 1567025298, "creation_date": 1567019664, "answer_id": 57698769, "question_id": 57697802, "link": "https://stackoverflow.com/questions/57697802/linq-join-errror-when-column-is-null/57698769#57698769", "title": "Linq join errror when column is null", "body": "<p>You need to check the issue for <code>null</code> in your <code>select</code> as well.</p>\n\n<p>Change your <code>select</code> line to this:</p>\n\n<pre><code>issFn = iss?.emp_namefirst ?? String.Empty,\nissLn = iss?.emp_namelast ?? String.Empty,\n</code></pre>\n\n<p>Notice that the <code>iss</code> is followed by the <code>?</code>. This is the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/member-access-operators#null-conditional-operators--and-\" rel=\"nofollow noreferrer\">null-conditional operator</a>.</p>\n"}], "owner": {"reputation": 43, "user_id": 10044804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b78791677f9541b4952d4584d53c235?s=128&d=identicon&r=PG&f=1", "display_name": "anatp_123", "link": "https://stackoverflow.com/users/10044804/anatp-123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 57698769, "answer_count": 1, "score": 0, "last_activity_date": 1567025298, "creation_date": 1567015159, "last_edit_date": 1567018045, "question_id": 57697802, "link": "https://stackoverflow.com/questions/57697802/linq-join-errror-when-column-is-null", "title": "Linq join errror when column is null", "body": "<p>When column is null in <code>ccS.cc_emp_id_issue</code>, I get an error </p>\n\n<blockquote>\n  <p>Object reference not set to an instance of an object</p>\n</blockquote>\n\n<p>I tried different ways to accept nulls, how can I fix?</p>\n\n<pre><code>var empcorrective = (from ccS in corrective\n                     join emp in _db.employees on ccS.cc_emp_id equals emp.emp_id\n                     join dep in _db.depts on ccS.cc_dept_id equals dep.dept_id\n                     join sub in _db.employees on ccS.cc_submitter equals sub.emp_id into subO\n                     join wit in _db.employees on ccS.cc_witness equals wit.emp_id into witO\n                     join issman in _db.employees on ccS.cc_emp_id_issue equals issman.emp_id into issman0                        \n                     from smb in subO.DefaultIfEmpty()\n                     from wmb in witO.DefaultIfEmpty()\n                     from iss in issman0.DefaultIfEmpty()\n                     select new\n                            {\n                                ...more ...\n                                witLn = wmb.emp_namelast ?? String.Empty,\n                                 //   issFn = iss.emp_namefirst == null ?? null : iss.emp_namefirst,\n                                issFn = iss.emp_namefirst ?? String.Empty,\n                                issLn = iss.emp_namelast ?? String.Empty,\n                                ccS\n                            }).FirstOrDefault();\n</code></pre>\n"}, {"tags": ["c#", "http", "google-api"], "answers": [{"comments": [{"owner": {"reputation": 1606, "user_id": 2145, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1b0884daefe88e0518f36f37ecf614ac?s=128&d=identicon&r=PG", "display_name": "Riddari", "link": "https://stackoverflow.com/users/2145/riddari"}, "edited": false, "score": 0, "creation_date": 1567018280, "post_id": 57698266, "comment_id": 101840881, "body": "<i>head hits desk</i>"}], "tags": [], "owner": {"reputation": 57, "user_id": 3355994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ec03a88ae2dd2df69cf0cc9e78445df?s=128&d=identicon&r=PG&f=1", "display_name": "emt", "link": "https://stackoverflow.com/users/3355994/emt"}, "is_accepted": true, "score": 2, "last_activity_date": 1567017133, "creation_date": 1567017133, "answer_id": 57698266, "question_id": 57697715, "link": "https://stackoverflow.com/questions/57697715/google-drive-api-bad-request-from-c-but-fine-from-postman/57698266#57698266", "title": "Google Drive API bad request from C# but fine from Postman", "body": "<p>According to API <a href=\"https://developers.google.com/drive/api/v3/reference/files/list\" rel=\"nofollow noreferrer\">documentation</a> supported values for corpora are: </p>\n\n<ul>\n<li>user</li>\n<li>domain</li>\n<li>drive</li>\n<li>allDrives</li>\n</ul>\n\n<p>Your Postman example has corpora=drive but your C# example shows corpora=true. </p>\n"}], "owner": {"reputation": 1606, "user_id": 2145, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1b0884daefe88e0518f36f37ecf614ac?s=128&d=identicon&r=PG", "display_name": "Riddari", "link": "https://stackoverflow.com/users/2145/riddari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 57698266, "answer_count": 1, "score": 1, "last_activity_date": 1567017133, "creation_date": 1567014814, "question_id": 57697715, "link": "https://stackoverflow.com/questions/57697715/google-drive-api-bad-request-from-c-but-fine-from-postman", "title": "Google Drive API bad request from C# but fine from Postman", "body": "<p>I'm using this request code from C# and getting a Bad Request result:</p>\n\n<pre><code>    public class GoogleDriveManager\n    {\n        private static readonly HttpClient Client = new HttpClient();\n        private const string Access = \"ACCESS\";\n\n        public GoogleDriveManager()\n        {\n            Client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(\"Bearer\", Access);\n        }\n\n        public async Task&lt;HttpResponseMessage&gt; GetFilesAsync(string driveId)\n        {\n            var url =\n                $\"https://www.googleapis.com/drive/v3/files?driveId={driveId}&amp;includeItemsFromAllDrives=true&amp;corpora=true&amp;supportsAllDrives=true\";\n            var result = await Client.GetAsync(url);\n            return result;\n        }\n   }\n</code></pre>\n\n<p>But when I make the same sort of request from Postman, it works great:</p>\n\n<p>GET <a href=\"https://www.googleapis.com/drive/v3/files?driveId=DRIVEID&amp;includeItemsFromAllDrives=true&amp;corpora=drive&amp;supportsAllDrives=true\" rel=\"nofollow noreferrer\">https://www.googleapis.com/drive/v3/files?driveId=DRIVEID&amp;includeItemsFromAllDrives=true&amp;corpora=drive&amp;supportsAllDrives=true</a></p>\n\n<p>(Authorization Bearer Token, with token value the same as the one used above)</p>\n\n<p>What am I doing wrong on the C# side?</p>\n"}, {"tags": ["c#", "reference", "delegates", "action", "ref"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1567015133, "post_id": 57697671, "comment_id": 101839739, "body": "Caveman solution: Don&#39;t pass <code>action</code>, pass <code>() =&gt; action()</code>."}, {"owner": {"reputation": 137, "user_id": 525518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7edca56d587ed272acfeeb09604bf79a?s=128&d=identicon&r=PG", "display_name": "Igor Galochkin", "link": "https://stackoverflow.com/users/525518/igor-galochkin"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1567015510, "post_id": 57697671, "comment_id": 101839851, "body": "Great, it worked, thanks! If you like please write it as an answer so that I could accept it."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1567015997, "post_id": 57697671, "comment_id": 101840016, "body": "Happy to. I&#39;m delighted by this question: I never knew you could &quot;concatenate&quot; delegates like that."}], "answers": [{"tags": [], "owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "is_accepted": false, "score": 1, "last_activity_date": 1567030470, "last_edit_date": 1567030470, "creation_date": 1567015529, "answer_id": 57697900, "question_id": 57697671, "link": "https://stackoverflow.com/questions/57697671/how-to-pass-a-system-action-by-reference/57697900#57697900", "title": "How to pass a System.Action by reference?", "body": "<p>One option:</p>\n\n<pre><code>class Class2\n{\n    public List&lt;System.Action&gt; callbacks = new List&lt;System.Action&gt;();\n\n    void DoStuff()\n    {\n\n        callbacks.Add(() =&gt; print(\"a\"));\n        new Class1().StartAsyncOperation(() =&gt; {\n            forach(var a in callbacks()\n            {\n                a();\n            }\n        });\n    }\n\n    {\n        // ... much later in another place but still before StartAsyncOperation ends\n        callbacks.Add(() =&gt; print (\"b\"));\n    }\n}\n</code></pre>\n\n<p>You'll get a closure over the list, so any changes will still be available when the callbacks run.</p>\n"}, {"comments": [{"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 0, "creation_date": 1567022325, "post_id": 57697965, "comment_id": 101842446, "body": "This works because you are closing over the reference to <code>a</code> when you create <code>b</code>, or by relation, because you are closing over the reference to <code>action</code> when you call the operation with <code>() =&gt; action()</code>. As a result, modification to the reference is reflected later on."}, {"owner": {"reputation": 137, "user_id": 525518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7edca56d587ed272acfeeb09604bf79a?s=128&d=identicon&r=PG", "display_name": "Igor Galochkin", "link": "https://stackoverflow.com/users/525518/igor-galochkin"}, "edited": false, "score": 0, "creation_date": 1567030809, "post_id": 57697965, "comment_id": 101845301, "body": "Actually, after testing this in code, I found out that one may need to use not just <code>() =&gt; action()</code>, but instead <code>() =&gt; action?.Invoke()</code> - for the case if the invocation list for the action was empty."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1567030961, "post_id": 57697965, "comment_id": 101845325, "body": "<i>&quot; what a delegate is -- other than, as we see, a value type&quot;</i> -- delegates are <i>not</i> &quot;value types&quot;. They are reference types. They are immutable, and so share some features with <i>immutable</i> value types. But it is <i>very</i> wrong to describe them as a &quot;value type&quot;."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567031172, "post_id": 57697965, "comment_id": 101845366, "body": "@PeterDuniho So a+= () =&gt;{} replaces a? Thank you, I\u2019ll update the answer."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1567031286, "post_id": 57697965, "comment_id": 101845392, "body": "Yes. Delegate types work just like strings. And like with strings, the addition/concatenation operator (i.e. <code>+</code>) returns a whole new instance. And regardless of whether the type is mutable or not, reference or value type, the <code>+=</code> operator in an expression like <code>x += y</code> is really just shorthand for <code>x = x + y</code>...the value of <code>x</code> is <i>always</i> replaced with the result of the operator."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1567032837, "post_id": 57697965, "comment_id": 101845722, "body": "@PeterDuniho Low IQ day, sorry. Thanks for setting me straight."}], "tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": true, "score": 4, "last_activity_date": 1567090333, "last_edit_date": 1567090333, "creation_date": 1567015804, "answer_id": 57697965, "question_id": 57697671, "link": "https://stackoverflow.com/questions/57697671/how-to-pass-a-system-action-by-reference/57697965#57697965", "title": "How to pass a System.Action by reference?", "body": "<p>A delegate type is an immutable reference type, like a string:</p>\n\n<pre><code>s += \"\\n\";\n</code></pre>\n\n<p><code>s</code> is now a reference to a different object. If you pass it to a method, the method gets a reference to this object, not to whatever object <code>s</code> may refer to next. This lambda returns, and will continue to return, whatever object <code>s</code> refers to when the lambda is called:</p>\n\n<pre><code>() =&gt; s;\n</code></pre>\n\n<p>The same applies with <code>a += () =&gt; {};</code>: <code>a</code> is referencing a different object afterwards, but you can create a lambda which executes the current value of <code>a</code>, whatever that may be.</p>\n\n<p>Hence:</p>\n\n<pre><code>new Class1().StartAsyncOperation(() =&gt; action());\n</code></pre>\n\n<p>Whatever you to do <code>action</code> after that point, the lambda you passed in has a reference to the current value of <code>action</code>. </p>\n\n<p>Try it at home:</p>\n\n<pre><code>Action a = () =&gt; Console.Write(\"a\");\n\n//  This would print \"a\" when we call b() at the end\n//Action b = a;\n\n//  This prints \"a+\" when we call b() at the end.\nAction b = () =&gt; a();\n\na += () =&gt; Console.Write(\"+\");\n\nb();\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 525518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7edca56d587ed272acfeeb09604bf79a?s=128&d=identicon&r=PG", "display_name": "Igor Galochkin", "link": "https://stackoverflow.com/users/525518/igor-galochkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1133, "favorite_count": 1, "accepted_answer_id": 57697965, "answer_count": 2, "score": 7, "last_activity_date": 1567090333, "creation_date": 1567014554, "last_edit_date": 1567063685, "question_id": 57697671, "link": "https://stackoverflow.com/questions/57697671/how-to-pass-a-system-action-by-reference", "title": "How to pass a System.Action by reference?", "body": "<p>I'm passing a <code>System.Action</code> as a parameter to a method which does some lengthy operation and want to add more stuff to the invocation list <strong>after</strong> the <code>Action</code> has been passed:</p>\n\n<pre><code>class Class1\n{\n    private System.Action onDoneCallback;\n    void StartAsyncOperation(System.Action onDoneCallback)\n    {\n        this.onDoneCallback = onDoneCallback;\n        // do lengthy stuff\n\n    }\n\n    void MuchLater()\n    {\n         this.onDoneCallBack?.Invoke();\n    }\n}\n\nclass Class2\n{\n    public System.Action action;\n\n    void DoStuff()\n    {\n        action += () =&gt; print (\"a\");\n        new Class1().StartAsyncOperation(action);\n    }\n\n    {\n        // ... much later in another place but still before StartAsyncOperation ends\n        action += () =&gt; print (\"b\");\n    }\n}\n</code></pre>\n\n<p>However, only the the stuff that was added with <code>+=</code> before passing the Action as parameter is invoked. So, in this example, it will only print <code>\"a\"</code> but not <code>\"b\"</code>.</p>\n\n<p>This makes me think that <code>System.Action</code> is <strong>copied</strong> when it's passed as parameter (like a primitive type e.g. <code>int</code> would). So, when <code>+=</code> is done later, it has no effect on the local copy of <code>action</code> inside <code>SomeAsyncOperation</code>.</p>\n\n<p>I thought of passing <code>System.Action</code> with <code>ref</code>. However, I need to store it as member variable inside <code>Class1</code>, and I can't make a member variable a <code>ref</code>!</p>\n\n<p>So, basically, the question is: how do you add more stuff to the invocation list of a callback after that callback has been passed and the lengthy operation is long on its way but hasn't ended yet.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Ended up replacing</p>\n\n<pre><code>new Class1().StartAsyncOperation(action);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>new Class1().StartAsyncOperation(() =&gt; action?.Invoke());\n</code></pre>\n"}, {"tags": ["c#", ".net", "nuget", "nuget-package", "nuget-package-restore"], "answers": [{"tags": [], "owner": {"reputation": 181, "user_id": 5613377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f3629770f7361878f553f84236f7070?s=128&d=identicon&r=PG", "display_name": "Peyman M.", "link": "https://stackoverflow.com/users/5613377/peyman-m"}, "is_accepted": true, "score": 3, "last_activity_date": 1567038616, "creation_date": 1567038616, "answer_id": 57701531, "question_id": 57697586, "link": "https://stackoverflow.com/questions/57697586/dot-net-nuget-restore-restore-invalid-arguments-error/57701531#57701531", "title": "Dot net nuget restore - restore: invalid arguments error", "body": "<p>The <code>/t:Clean,Build</code> is a <code>msbuild.exe</code> switch and currently you can't pass switches to <code>msbuild</code> using <code>nuget.exe</code>. Alternatively because you're building your project you can tell <code>msbuild.exe</code> to restore those packages for you:</p>\n\n<pre><code>msbuild.exe solution.sln /t:rebuild,restore\n</code></pre>\n\n<p>Also in <a href=\"https://github.com/Microsoft/msbuild/pull/2414\" rel=\"nofollow noreferrer\">MSBuild 15.5</a> and later there is a <code>/restore</code> switch which is <a href=\"https://stackoverflow.com/questions/46773698/msbuild-15-nuget-restore-and-build\">recommended</a>:</p>\n\n<pre><code>msbuild.exe solution.sln /restore /t:rebuild\n</code></pre>\n\n<p>You can learn more about MSBuild CLI <a href=\"https://docs.microsoft.com/en-us/visualstudio/msbuild/msbuild-command-line-reference\" rel=\"nofollow noreferrer\">here</a> and NuGet CLI <a href=\"https://docs.microsoft.com/en-us/nuget/reference/nuget-exe-cli-reference\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 784, "user_id": 3826374, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh4.googleusercontent.com/-Z7_ZzbTLbJU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcM9Z0nqS7xD44iWJ8saRLQEtH92w/mo/photo.jpg?sz=128", "display_name": "Yagel", "link": "https://stackoverflow.com/users/3826374/yagel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 57701531, "answer_count": 1, "score": 0, "last_activity_date": 1567038616, "creation_date": 1567014204, "question_id": 57697586, "link": "https://stackoverflow.com/questions/57697586/dot-net-nuget-restore-restore-invalid-arguments-error", "title": "Dot net nuget restore - restore: invalid arguments error", "body": "<p>I'm trying to compile my C# project using the restore command:</p>\n\n<pre><code>bat \"nuget.exe restore \\\"C:(...)\\\\Bin\\\\msbuild.exe\\\" mycoolproj.sln \\t:Clean,Build\"\n</code></pre>\n\n<p>And I get <code>restore: invalid arguments</code> error.</p>\n\n<p>Then I changed to <code>/t:Clean,Build</code>, and I get <code>\"Unknown option 't:Clean,Build'\"</code>.</p>\n\n<p>Do you know what is the problem?</p>\n"}, {"tags": ["c#", ".net", "string", "dictionary", "split"], "comments": [{"owner": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "edited": false, "score": 0, "creation_date": 1567014391, "post_id": 57697564, "comment_id": 101839423, "body": "Please show an example string."}, {"owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "edited": false, "score": 0, "creation_date": 1567014458, "post_id": 57697564, "comment_id": 101839445, "body": "So what exactly is the problem? Replace <code>File.ReadAllLines(...)</code> with the string split by new line (e.g. <code>yourString.Split(&#39;\\n&#39;)</code> of course you&#39;d need to check if there are <code>\\r</code>, too)."}, {"owner": {"reputation": 105, "user_id": 8592812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hSQSm.png?s=128&g=1", "display_name": "justsomexanda", "link": "https://stackoverflow.com/users/8592812/justsomexanda"}, "reply_to_user": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "edited": false, "score": 0, "creation_date": 1567014934, "post_id": 57697564, "comment_id": 101839657, "body": "@Ren&#233;Vogt I am sorry, but I can&#39;t follow you. Could you please help me a bit more?"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 8592812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hSQSm.png?s=128&g=1", "display_name": "justsomexanda", "link": "https://stackoverflow.com/users/8592812/justsomexanda"}, "edited": false, "score": 0, "creation_date": 1567015067, "post_id": 57697744, "comment_id": 101839706, "body": "But the problem is, that I don&#39;t want to use a file for the solution. Thank you anyway."}, {"owner": {"reputation": 13168, "user_id": 3141792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90e1dac53dada5d6fb65981fb6a10c0?s=128&d=identicon&r=PG&f=1", "display_name": "BionicCode", "link": "https://stackoverflow.com/users/3141792/bioniccode"}, "reply_to_user": {"reputation": 105, "user_id": 8592812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hSQSm.png?s=128&g=1", "display_name": "justsomexanda", "link": "https://stackoverflow.com/users/8592812/justsomexanda"}, "edited": false, "score": 0, "creation_date": 1567015222, "post_id": 57697744, "comment_id": 101839769, "body": "Why? you have to read the content of a file right?"}, {"owner": {"reputation": 105, "user_id": 8592812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hSQSm.png?s=128&g=1", "display_name": "justsomexanda", "link": "https://stackoverflow.com/users/8592812/justsomexanda"}, "edited": false, "score": 0, "creation_date": 1567015398, "post_id": 57697744, "comment_id": 101839816, "body": "No I want it done from a string. One of my former projects used to do it from an extra created file. This is for safety-reasons."}, {"owner": {"reputation": 13168, "user_id": 3141792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90e1dac53dada5d6fb65981fb6a10c0?s=128&d=identicon&r=PG&f=1", "display_name": "BionicCode", "link": "https://stackoverflow.com/users/3141792/bioniccode"}, "reply_to_user": {"reputation": 105, "user_id": 8592812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hSQSm.png?s=128&g=1", "display_name": "justsomexanda", "link": "https://stackoverflow.com/users/8592812/justsomexanda"}, "edited": false, "score": 0, "creation_date": 1567015433, "post_id": 57697744, "comment_id": 101839832, "body": "I updated the answer to show how to split up a simple string"}, {"owner": {"reputation": 13168, "user_id": 3141792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90e1dac53dada5d6fb65981fb6a10c0?s=128&d=identicon&r=PG&f=1", "display_name": "BionicCode", "link": "https://stackoverflow.com/users/3141792/bioniccode"}, "reply_to_user": {"reputation": 105, "user_id": 8592812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hSQSm.png?s=128&g=1", "display_name": "justsomexanda", "link": "https://stackoverflow.com/users/8592812/justsomexanda"}, "edited": false, "score": 0, "creation_date": 1567015463, "post_id": 57697744, "comment_id": 101839839, "body": "Are there line breaks? I need to know the delimiter."}, {"owner": {"reputation": 105, "user_id": 8592812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hSQSm.png?s=128&g=1", "display_name": "justsomexanda", "link": "https://stackoverflow.com/users/8592812/justsomexanda"}, "edited": false, "score": 0, "creation_date": 1567015665, "post_id": 57697744, "comment_id": 101839904, "body": "Yes there are linebreaks, but it worked. Thank you."}], "tags": [], "owner": {"reputation": 13168, "user_id": 3141792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90e1dac53dada5d6fb65981fb6a10c0?s=128&d=identicon&r=PG&f=1", "display_name": "BionicCode", "link": "https://stackoverflow.com/users/3141792/bioniccode"}, "is_accepted": true, "score": 0, "last_activity_date": 1567015619, "last_edit_date": 1567015619, "creation_date": 1567014912, "answer_id": 57697744, "question_id": 57697564, "link": "https://stackoverflow.com/questions/57697564/c-split-string-for-dictionary-use/57697744#57697744", "title": "C# Split string for dictionary use", "body": "<p>This simple one-liner will do it:</p>\n\n<pre><code>File.ReadLines(Path.GetTempPath() + \"file.txt\")\n  .ToDictionary(\n    x =&gt; x.Split('=')[0].Trim(), \n    x =&gt; x.Split('=')[1].Trim());\n</code></pre>\n\n<p>Or if the source is a string:</p>\n\n<pre><code>var data = @\"username = xela\n      name = Alex\n      Doab = 178199\n      zip = 88911\"\n        .Split('\\n')\n        .ToDictionary(\n          x =&gt; x.Split('=')[0].Trim(), \n          x =&gt; x.Split('=')[1].Trim(' ', '\\r'))\n</code></pre>\n\n<p>;</p>\n"}], "owner": {"reputation": 105, "user_id": 8592812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hSQSm.png?s=128&g=1", "display_name": "justsomexanda", "link": "https://stackoverflow.com/users/8592812/justsomexanda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "closed_date": 1567034575, "accepted_answer_id": 57697744, "answer_count": 1, "score": -2, "last_activity_date": 1567015644, "creation_date": 1567014092, "last_edit_date": 1567015644, "question_id": 57697564, "link": "https://stackoverflow.com/questions/57697564/c-split-string-for-dictionary-use", "closed_reason": "Not suitable for this site", "title": "C# Split string for dictionary use", "body": "<p>My old project opened a file and read the parameters with the following code.</p>\n\n<p>But for my new project I need this done from a string (not from a file), but as it turns out that's a lot harder for me.</p>\n\n<p>I now need to find a solution, where I can read parameters from a string with data[\"parameter\"]. My goal is, that I dont need to use a file.</p>\n\n<p>Thank you for your help</p>\n\n<p>-</p>\n\n<p><strong><em>file.txt</em></strong></p>\n\n<pre><code>username = xela\nname = Alex\nDoab = 178199\nzip = 88911\n</code></pre>\n\n<p><strong><em>C# Code:</em></strong></p>\n\n<pre><code>var data = File\n    .ReadAllLines(Path.GetTempPath() + \"file.txt\")\n    .Select(x =&gt; x.Split('='))\n    .Where(x =&gt; x.Length &gt; 1)\n    .ToDictionary(x =&gt; x[0].Trim(), x =&gt; x[1]);\n\n//Get data\nTextbox.Text = data[\"name\"];\nTextbox1.Text = data[\"zip\"];\n</code></pre>\n\n<p><strong><em>Output</em></strong></p>\n\n<pre><code>Textbox Output would be \"Alex\"\nTextbox1 Output would be \"88911\"\n</code></pre>\n\n<p><strong><em>Solution</em></strong></p>\n\n<pre><code>var data = @\"username = xela\n      name = Alex\n      Doab = 178199\n      zip = 88911\"\n        .Split('\\n').ToArray()\n        .ToDictionary(\n          x =&gt; x.Split('=')[0].Trim(), \n          x =&gt; x.Split('=')[1].Trim(' ', '\\r'))\n</code></pre>\n\n<p>;</p>\n"}, {"tags": ["c#", "wpf", "xaml", "wpf-controls", "inkcanvas"], "comments": [{"owner": {"reputation": 1009, "user_id": 4016197, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6nmwr.jpg?s=128&g=1", "display_name": "Shane Duffy", "link": "https://stackoverflow.com/users/4016197/shane-duffy"}, "edited": false, "score": 2, "creation_date": 1567024824, "post_id": 57697547, "comment_id": 101843414, "body": "I assume you also tested using PreviewTouchDown?"}, {"owner": {"reputation": 107, "user_id": 11068677, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WuOgdfgdNjA/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPsMsqtQyd1Q1-irY7pjpfMW0DmeQ/mo/photo.jpg?sz=128", "display_name": "Abhi Tiwari", "link": "https://stackoverflow.com/users/11068677/abhi-tiwari"}, "reply_to_user": {"reputation": 1009, "user_id": 4016197, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6nmwr.jpg?s=128&g=1", "display_name": "Shane Duffy", "link": "https://stackoverflow.com/users/4016197/shane-duffy"}, "edited": false, "score": 0, "creation_date": 1567032547, "post_id": 57697547, "comment_id": 101845646, "body": "Nope, and that was the answer.. so simple! Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 1009, "user_id": 4016197, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6nmwr.jpg?s=128&g=1", "display_name": "Shane Duffy", "link": "https://stackoverflow.com/users/4016197/shane-duffy"}, "is_accepted": true, "score": 1, "last_activity_date": 1567126742, "creation_date": 1567126742, "answer_id": 57719260, "question_id": 57697547, "link": "https://stackoverflow.com/questions/57697547/stop-wpf-inkbrush-from-causing-a-scroll-event/57719260#57719260", "title": "Stop WPF InkBrush from causing a scroll event", "body": "<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.uielement.previewtouchdown?view=netframework-4.8\" rel=\"nofollow noreferrer\">PreviewTouchDown</a> allows you to handle the touch event <em>before</em> it bubbles to the corresponding UI Element. The same goes for <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.uielement.previewmousedown?view=netframework-4.8\" rel=\"nofollow noreferrer\">PreviewMouseDown</a>.</p>\n\n<p><em>(putting official answer so question can be marked solved)</em></p>\n"}], "owner": {"reputation": 107, "user_id": 11068677, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WuOgdfgdNjA/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPsMsqtQyd1Q1-irY7pjpfMW0DmeQ/mo/photo.jpg?sz=128", "display_name": "Abhi Tiwari", "link": "https://stackoverflow.com/users/11068677/abhi-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 2, "accepted_answer_id": 57719260, "answer_count": 1, "score": 4, "last_activity_date": 1567126742, "creation_date": 1567014007, "question_id": 57697547, "link": "https://stackoverflow.com/questions/57697547/stop-wpf-inkbrush-from-causing-a-scroll-event", "title": "Stop WPF InkBrush from causing a scroll event", "body": "<p><strong>The Application</strong></p>\n\n<p>I am working on an EHR application. The page I am working on allows for users to draw on a patient's notes using an <code>InkCanvas</code> and <code>InkBrush</code>. When the users use the mouse to draw, everything works perfectly. <em>However</em>, when they use a touch screen to draw the scrollbar is being manipulated as well. This causes the page to scroll as they are drawing.</p>\n\n<p><strong>What I've Tried</strong></p>\n\n<p>So far I've tried to handle touch events such as <code>TouchDown</code>, <code>TouchUp</code>, and <code>TouchMove</code> mainly using <code>e.handled = true</code>.</p>\n\n<p><strong>Application Code</strong> (Sorry, a lot of code!)</p>\n\n<p>ScribblePad.xaml (snippet of <code>Border</code> + <code>InkCanvas</code> code)</p>\n\n<pre><code>&lt;Border Grid.Column=\"1\"\n                Margin=\"1,1,8,8\"\n                Background=\"White\"\n                BorderBrush=\"Black\"\n                BorderThickness=\"1\"\n                Cinch:SingleEventCommand.RoutedEventName=\"MouseDown\"\n                Cinch:SingleEventCommand.TheCommandToRun=\"{Binding \nAddTextCommand}\"\n                RequestBringIntoView=\"Border_RequestBringIntoView\"&gt;\n          &lt;Border.Effect&gt;\n            &lt;DropShadowEffect /&gt;\n          &lt;/Border.Effect&gt;\n\n          &lt;InkCanvas x:Name=\"NewScribbles\"\n                     Width=\"{Binding Parent.PageWidth}\"\n                     Height=\"{Binding Parent.PageHeight}\"\n                     DefaultDrawingAttributes=\"{Binding Parent.SelectedInkBrush}\"\n                     EditingMode=\"{Binding Parent.InkEditMode}\"\n                     Strokes=\"{Binding NewStrokes}\"&gt;\n            &lt;Grid&gt;\n              &lt;Grid.Style&gt;\n                &lt;Style TargetType=\"{x:Type Grid}\"&gt;\n                  &lt;Style.Triggers&gt;\n                    &lt;DataTrigger Binding=\"{Binding Parent.IsTextMode}\"\n                                 Value=\"True\"&gt;\n                      &lt;Setter Property=\"Cursor\"\n                              Value=\"IBeam\" /&gt;\n                    &lt;/DataTrigger&gt;\n                  &lt;/Style.Triggers&gt;\n                &lt;/Style&gt;\n              &lt;/Grid.Style&gt;\n              &lt;ContentPresenter Width=\"{Binding Parent.PageWidth}\"\n                                Height=\"{Binding Parent.PageHeight}\"\n                                Content=\"{Binding WrappedVisual}\" /&gt;\n              &lt;ItemsControl x:Name=\"PastScribbles\"\n                            ItemsSource=\"{Binding ScribbleData}\"&gt;\n                &lt;ItemsControl.ItemsPanel&gt;\n                  &lt;ItemsPanelTemplate&gt;\n                    &lt;Grid /&gt;\n                  &lt;/ItemsPanelTemplate&gt;\n                &lt;/ItemsControl.ItemsPanel&gt;\n                &lt;ItemsControl.ItemTemplate&gt;\n                  &lt;DataTemplate&gt;\n                    &lt;Grid Width=\"{Binding DataContext.PageWidth, RelativeSource={RelativeSource AncestorType={x:Type UserControl}, Mode=FindAncestor}}\"\n                          Height=\"{Binding DataContext.PageHeight, RelativeSource={RelativeSource AncestorType={x:Type UserControl}, Mode=FindAncestor}}\"\n                          Visibility=\"{Binding IsVisible, Converter={StaticResource BoolToVisibilityConverter}}\"&gt;\n                      &lt;InkPresenter Strokes=\"{Binding Strokes}\"\n                                    Visibility=\"{Binding InkVisibility}\"&gt;\n                        &lt;InkPresenter.Effect&gt;\n                          &lt;DropShadowEffect Opacity=\"{Binding DropShadowOpacity}\"\n                                            ShadowDepth=\"2\" /&gt;\n                        &lt;/InkPresenter.Effect&gt;\n                      &lt;/InkPresenter&gt;\n\n                      &lt;ItemsControl Width=\"{Binding DataContext.PageWidth, RelativeSource={RelativeSource AncestorType={x:Type UserControl}, Mode=FindAncestor}}\"\n                                    Height=\"{Binding DataContext.PageHeight, RelativeSource={RelativeSource AncestorType={x:Type UserControl}, Mode=FindAncestor}}\"\n                                    ItemsSource=\"{Binding TextData}\"\n                                    Visibility=\"{Binding TextVisibility}\"&gt;\n                        &lt;ItemsControl.ItemsPanel&gt;\n                          &lt;ItemsPanelTemplate&gt;\n                            &lt;Canvas /&gt;\n                          &lt;/ItemsPanelTemplate&gt;\n                        &lt;/ItemsControl.ItemsPanel&gt;\n                        &lt;ItemsControl.ItemTemplate&gt;\n                          &lt;DataTemplate&gt;\n                            &lt;TextBlock Margin=\"4\"\n                                       FontSize=\"{Binding TextData.FontSize}\"\n                                       FontWeight=\"{Binding FontWeight}\"\n                                       Text=\"{Binding TextData.Text, FallbackValue=This is a placeholder}\"\n                                       TextWrapping=\"Wrap\"\n                                       MaxWidth=\"{Binding TextData.MaxWidth}\"&gt;\n                              &lt;TextBlock.Foreground&gt;\n                                &lt;SolidColorBrush Color=\"{Binding TextData.TextColor, FallbackValue=Black}\" /&gt;\n                              &lt;/TextBlock.Foreground&gt;\n                            &lt;/TextBlock&gt;\n                          &lt;/DataTemplate&gt;\n                        &lt;/ItemsControl.ItemTemplate&gt;\n                        &lt;ItemsControl.ItemContainerStyle&gt;\n                          &lt;Style&gt;\n                            &lt;Setter Property=\"Canvas.Left\"\n                                    Value=\"{Binding TextData.LeftPosition}\" /&gt;\n                            &lt;Setter Property=\"Canvas.Top\"\n                                    Value=\"{Binding TextData.TopPosition}\" /&gt;\n                          &lt;/Style&gt;\n                        &lt;/ItemsControl.ItemContainerStyle&gt;\n                        &lt;ItemsControl.Effect&gt;\n                          &lt;DropShadowEffect Opacity=\"{Binding DropShadowOpacity}\"\n                                            ShadowDepth=\"2\" /&gt;\n                        &lt;/ItemsControl.Effect&gt;\n                      &lt;/ItemsControl&gt;\n\n                    &lt;/Grid&gt;\n                  &lt;/DataTemplate&gt;\n                &lt;/ItemsControl.ItemTemplate&gt;\n              &lt;/ItemsControl&gt;\n            &lt;/Grid&gt;\n          &lt;/InkCanvas&gt;\n        &lt;/Border&gt;\n</code></pre>\n\n<p>ScribblePad.cs</p>\n\n<pre><code>  /// &lt;summary&gt;\n  /// Interaction logic for ScribblePadUC.xaml\n  /// &lt;/summary&gt;\n  public partial class ScribblePadUC : UserControl\n  {\n    /// &lt;summary&gt;\n    /// Initializes a new instance of the &lt;see cref=\"ScribblePadUC\"/&gt; class.\n    /// &lt;/summary&gt;\n    public ScribblePadUC()\n    {\n      this.InitializeComponent();\n    }\n\n    /// &lt;summary&gt;\n    /// Handles the RequestBringIntoView event of the Border control.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;The source of the event.&lt;/param&gt;\n    /// &lt;param name=\"e\"&gt;The &lt;see cref=\"System.Windows.RequestBringIntoViewEventArgs\"/&gt; instance containing the event data.&lt;/param&gt;\n    private void Border_RequestBringIntoView(object sender, RequestBringIntoViewEventArgs e)\n    {\n      // Don't want auto-scrolling when trying to scribble... causes annoying vertical line\n      e.Handled = true;\n    }\n\n    /// &lt;summary&gt;\n    /// Handles the Loaded event of the TextBox control.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;The source of the event.&lt;/param&gt;\n    /// &lt;param name=\"e\"&gt;The &lt;see cref=\"System.Windows.RoutedEventArgs\"/&gt; instance containing the event data.&lt;/param&gt;\n    private void TextBox_Loaded(object sender, RoutedEventArgs e)\n    {\n      ((TextBox)sender).Focus();\n    }\n\n    /// &lt;summary&gt;\n    /// Event handler for the PreviewKeyDown event\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;The sender of the event&lt;/param&gt;\n    /// &lt;param name=\"e\"&gt;The event arguments&lt;/param&gt;\n    private void UserControl_PreviewKeyDown(object sender, KeyEventArgs e)\n    {\n      bool openAddendem = false;\n\n      if (Keyboard.IsKeyDown(Key.A) &amp;&amp; (Keyboard.IsKeyDown(Key.LeftCtrl) || Keyboard.IsKeyDown(Key.RightCtrl)))\n      {\n        openAddendem = true;\n      }\n\n      if (openAddendem == true)\n      {\n        ScribblePadVM vm = this.DataContext as ScribblePadVM;\n\n        if (vm != null)\n        {\n          if (vm.AddendumWidth.Value == 0)\n          {\n            vm.AddendumOpenCloseCommand.Execute(null);\n          }\n\n          vm.AddAddendumCommand.Execute(true);\n\n          e.Handled = true;\n        }\n      }\n    }\n\n    /// &lt;summary&gt;\n    /// Event handler for the loaded event\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"sender\"&gt;The sender of the event&lt;/param&gt;\n    /// &lt;param name=\"e\"&gt;The event arguments&lt;/param&gt;\n    private void UserControl_Loaded(object sender, RoutedEventArgs e)\n    {\n      Window window = this.TryFindVisualParent&lt;Window&gt;();\n\n      if (window != null &amp;&amp; window is HealthRecord.HealthRecordWindow)\n      {\n        window.PreviewKeyDown += (s, args) =&gt;\n        {\n          this.UserControl_PreviewKeyDown(s, args);\n        };\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>I intentionally left the ViewModel.cs out as it most likely does not pertain to this problem.</p>\n\n<p><strong>What I want to happen</strong></p>\n\n<p>When I use a touch screen, the scrollbar does not get controlled if I am trying to draw on the canvas.</p>\n\n<p>Thanks for reading.</p>\n"}, {"tags": ["javascript", "c#", "node.js", "azure-functions"], "comments": [{"owner": {"reputation": 2860, "user_id": 8368871, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/SQn6A.jpg?s=128&g=1", "display_name": "HariHaran", "link": "https://stackoverflow.com/users/8368871/hariharan"}, "edited": false, "score": 0, "creation_date": 1567057010, "post_id": 57697355, "comment_id": 101850161, "body": "The goal is to move blobs right ? Anyway you get a payload from consumer ? Can i suggest a solution with httptrigger ?"}, {"owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "reply_to_user": {"reputation": 2860, "user_id": 8368871, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/SQn6A.jpg?s=128&g=1", "display_name": "HariHaran", "link": "https://stackoverflow.com/users/8368871/hariharan"}, "edited": false, "score": 0, "creation_date": 1567080894, "post_id": 57697355, "comment_id": 101862010, "body": "No. I need to move a blob between storage accounts. I suppose forcing this to be compatible with bindings is not priority"}], "answers": [{"comments": [{"owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "edited": false, "score": 1, "creation_date": 1567097087, "post_id": 57710488, "comment_id": 101871138, "body": "looking for a javascript answer as well"}], "tags": [], "owner": {"reputation": 2860, "user_id": 8368871, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/SQn6A.jpg?s=128&g=1", "display_name": "HariHaran", "link": "https://stackoverflow.com/users/8368871/hariharan"}, "is_accepted": false, "score": 2, "last_activity_date": 1567600257, "last_edit_date": 1567600257, "creation_date": 1567082562, "answer_id": 57710488, "question_id": 57697355, "link": "https://stackoverflow.com/questions/57697355/can-you-read-connection-strings-from-function-bindings/57710488#57710488", "title": "Can you read connection strings from function bindings?", "body": "<p>Let\u2019s assume you receive a payload input using a <code>HTTP Triggered</code> Azure function:</p>\n\n<pre><code>public class Payload\n{\n    public string SourceContainer { get; set; }\n    public string DestinationContainer { get; set; }\n    public string SourceConnection{ get; set; }\n    public string DestinationConnection{ get; set; }\n}\n</code></pre>\n\n<p>Now receive the information from the request:</p>\n\n<pre><code>var payload = req.Content.ReadAsAsync&lt;Payload&gt;();\nvar sourceConnection = payload.SourceConnection;\nvar destConnection = payload.DestinationConnection;\nvar sourceContainer = payload.SourceContainer;\nvar destContainer= payload.DestinationContainer;\n</code></pre>\n\n<p>Create the <code>sourceClient</code> and <code>destinationClient</code>:</p>\n\n<pre><code>#SOURCE\nCloudStorageAccount sourceAccount = CloudStorageAccount.Parse(sourceConnection);\nCloudBlobClient sourceClient = sourceAccount.CreateCloudBlobClient();\n\n#DEST\nCloudStorageAccount destAccount = CloudStorageAccount.Parse(destConnection);\nCloudBlobClient destClient = destAccount .CreateCloudBlobClient();\n</code></pre>\n\n<h3>Downloading from source</h3>\n\n<pre><code>CloudBlobContainer sourceBlobContainer = sourceClient.GetContainerReference(sourceContainer);\nICloudBlob sourceBlob = await sourceBlobContainer.GetBlobReferenceFromServerAsync(\"MyBlob.doc\");\nawait sourceBlob.DownloadToFileAsync(\"MyFile.doc\", FileMode.Create);\n</code></pre>\n\n<h3>Uploading to the destination</h3>\n\n<pre><code>CloudBlobContainer destBlobContainer = destClient.GetContainerReference(destContainer);\nCloudBlockBlob destBlob = destBlobContainer.GetBlockBlobReference(\"NewBlob.doc\");\nawait destBlob.UploadFromFileAsync(\"MyFile.doc\");\n</code></pre>\n"}], "owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567600373, "creation_date": 1567013123, "last_edit_date": 1567600373, "question_id": 57697355, "link": "https://stackoverflow.com/questions/57697355/can-you-read-connection-strings-from-function-bindings", "title": "Can you read connection strings from function bindings?", "body": "<p><strong>Can we bind to connection string value in order to simply output-bind to a specific storage account?</strong></p>\n\n<p>I would like to create a blob mover, where the consumer would pass an object like:</p>\n\n<pre><code>{\n    \"sourceConnection\":\"..blob connection string\",\n    \"destinationConnection\":\"...blob connection string\",\n    \"filename\":\"/someContainer/someDir/myfile.jpg\"\n}\n</code></pre>\n\n<p>The function would be trigger by a queue:</p>\n\n<pre><code>    {\n        \"name\": \"myQueueItem\",\n        \"queueName\": \"myqueue-items\",\n        \"connection\":\"\",\n        \"type\": \"queueTrigger\",\n        \"direction\": \"in\"\n    }\n</code></pre>\n\n<p>...where <code>myQueueItem</code> would have the payload as above.</p>\n\n<p><strong>How do we move a blob from <code>sourceConnection</code> to <code>destinationConnection</code>?</strong></p>\n\n<p>I'm specifying both the <code>javascript</code> as well as <code>c#</code> tags, because I need to make a solution in either one.</p>\n\n<p>If we assumed that the source as well as destination storage accounts were the same, we could simply write a function to move blobs between two containers like so:</p>\n\n<pre><code>public static class BlobMover\n{\n    [StorageAccount(\"Connection\")]\n    [FunctionName(\"BlobMover\")]\n    public static async Task Run(\n        [QueueTrigger(\"%BlobMover:TriggerQueue%\")] BlobMessage msg,\n        [Blob(\"{source}-error/{name}\", FileAccess.Write)] CloudBlockBlob error,\n        [Blob(\"{destination}/{name}\", FileAccess.Write)] CloudBlockBlob @out,\n        [Blob(\"{source}/{name}\", FileAccess.Read)] CloudBlockBlob @in,\n        ILogger log)\n    {\n        await @out.StartCopyAsync(@in);\n    }\n}\n</code></pre>\n\n<p>However, the storage accounts are going to be different, so the solution above would not work.</p>\n"}, {"tags": ["c#", "typescript", "swagger", "angular-cli", "angular8"], "comments": [{"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 2, "creation_date": 1567014113, "post_id": 57697310, "comment_id": 101839302, "body": "You are saying <code>this.file = event.target.files[0];</code> but then you are sending <code>this.uploadForm.get(&#39;profile&#39;).setValue(file);</code>.  Should you be saying <code>setValue(this.file)</code> instead?"}, {"owner": {"reputation": 247, "user_id": 3119737, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c7f7260b77694c10b5412221c63610c6?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Schneider", "link": "https://stackoverflow.com/users/3119737/adam-schneider"}, "reply_to_user": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "edited": false, "score": 0, "creation_date": 1567015041, "post_id": 57697310, "comment_id": 101839695, "body": "Pace, I can&#39;t seem to find the kiss button on Stackoverflow, I am gonna make a feature request."}], "owner": {"reputation": 247, "user_id": 3119737, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c7f7260b77694c10b5412221c63610c6?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Schneider", "link": "https://stackoverflow.com/users/3119737/adam-schneider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 381, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567015795, "creation_date": 1567012923, "last_edit_date": 1567015795, "question_id": 57697310, "link": "https://stackoverflow.com/questions/57697310/read-the-contents-of-a-posted-file-from-angular-to-c", "title": "Read the contents of a Posted File from Angular to C#", "body": "<p>I am trying to upload a PDF using Angular 8. I am successfully getting the file the user selects on the front end. I am passing something off to the back-end but when I am attempt to read the file from the memory stream, during my test in converting it to a string I get \"[object FileList]\" instead of the contents of the file. </p>\n\n<p>Is this something with swagger I am not familiar with?</p>\n\n<p>Below is my HTML for the selection of the file.</p>\n\n<pre><code>    &lt;div&gt;\n        &lt;form [formGroup] = \"uploadForm\" (ngSubmit)=\"onSubmit()\"&gt;      \n      &lt;div&gt;\n        &lt;!-- TODO: rename profile --&gt;\n        &lt;input type=\"file\" name=\"profile\" (change)=\"onFileSelect($event)\" \n    accept=\".pdf\"/&gt;\n      &lt;/div&gt;\n      &lt;div&gt;\n        &lt;button type=\"submit\"&gt;Upload&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>Below is my TypeScript: ALL HAIL PACE FOR NOTICING I FORGOT this.file</p>\n\n<pre><code>    import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { FormsModule, ReactiveFormsModule} from '@angular/forms';\n\n@Component({\n  selector: 'app-pdf',\n  templateUrl: './pdf.component.html',\n  styleUrls: ['./pdf.component.css']\n})\nexport class PDFComponent implements OnInit {\n\n  SERVER_URL = \"http://localhost:64528/api/uploadPDF\";\n  uploadForm: FormGroup; \n  file;\n\n  constructor(private formBuilder: FormBuilder, private httpClient: HttpClient) { }\n\n  ngOnInit() {\n    this.uploadForm = this.formBuilder.group({\n      profile:['']\n    });\n  }\n\n  onFileSelect(event){\n    var file = event.target.files;\n    if(file.length &gt; 0){\n       this.file = event.target.files[0];\n      // ERROR WAS HERE! thank you PACE, all hail PACE!\n      this.uploadForm.get('profile').setValue(this.file);\n\n      var confirm = this.uploadForm.get('profile').value;\n    }\n  }\n\n  onSubmit(){\n    const formData = new FormData();\n    formData.append('file', this.uploadForm.get('profile').value);\n\n    this.httpClient.post&lt;any&gt;(this.SERVER_URL, formData).subscribe(\n      (res) =&gt; console.log(res),\n      (err) =&gt; console.log(err)\n    );\n  }\n\n}\n</code></pre>\n\n<p>and Below is my C#</p>\n\n<pre><code>using HeadcountTrackingAPI.Repositories;\nusing HeadcountTrackingAPI.Utilities;\nusing Swashbuckle.Swagger.Annotations;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Net;\nusing System.Net.Http;\nusing System.Threading.Tasks;\nusing System.Web;\nusing System.Web.Http;\n\nnamespace HeadcountTrackingAPI.Controllers\n{\n    public class PDFController : ApiController\n    {\n        // GET api/&lt;controller&gt;\n        [SwaggerOperation(\"uploadPDF\")]\n        [HttpPost]\n        [Route(\"api/uploadPDF\")]\n        public async Task&lt;IHttpActionResult&gt; UploadFile()\n        {\n            try\n            {\n                if (!Request.Content.IsMimeMultipartContent(\"form-data\"))\n                    throw new HttpResponseException(HttpStatusCode.UnsupportedMediaType);\n\n                // Initialize the memorty stream provider\n                MultipartMemoryStreamProvider memoryStream = new MultipartMemoryStreamProvider();\n\n                // Assign it's contents\n                memoryStream = await Request.Content.ReadAsMultipartAsync();\n\n                // Read the contents asynchronosly \n                using (System.IO.Stream pdfStream = await memoryStream.Contents.First().ReadAsStreamAsync())\n                {\n\n                    byte[] bytes = new byte[pdfStream.Length];\n\n                    // streamBytes to the byte array starting a position 0 and ending at the end of the file\n                    pdfStream.Read(bytes, 0, (int)pdfStream.Length);\n\n                    var byteString = BitConverter.ToString(bytes);\n                    string utfString = System.Text.Encoding.UTF8.GetString(bytes, 0, bytes.Length);\n                }\n\n                    return Ok(new { Posted = true });\n            }\n            catch (Exception ex)\n            {\n                ex.LogException();\n                return InternalServerError(ex);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Below is the resources I have accessed:\n<a href=\"https://www.c-sharpcorner.com/article/how-to-convert-a-byte-array-to-a-string/\" rel=\"nofollow noreferrer\">https://www.c-sharpcorner.com/article/how-to-convert-a-byte-array-to-a-string/</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/8624071/save-and-load-memorystream-to-from-a-file\">Save and load MemoryStream to/from a file</a></p>\n\n<p>any and all help is appreciated, thank you.</p>\n"}, {"tags": ["c#", "winforms", "windows-8.1", ".net-assembly"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1567017217, "post_id": 57697292, "comment_id": 101840488, "body": "Well, you cannot reference <code>Windows.System.Userprofile</code> in a WinForms application in Windows 8.1. You&#39;ld need Windows 10 SDK and Windows 10 1903. You can look at the Registry, though. Locking the screen itself can be done, instead: <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-lockworkstation\" rel=\"nofollow noreferrer\">LockWorkStation</a>."}, {"owner": {"reputation": 21, "user_id": 10637573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tuv47.jpg?s=128&g=1", "display_name": "Difender Amini", "link": "https://stackoverflow.com/users/10637573/difender-amini"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1567064554, "post_id": 57697292, "comment_id": 101853195, "body": "So in what kind of app I can import that?  Maybe windows store"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1567076655, "post_id": 57697292, "comment_id": 101859599, "body": "That would be a Universal Windows 8 app (Windows Store or Windows RT Shared). See <a href=\"https://docs.microsoft.com/en-us/previous-versions/windows/apps/br211384(v=win.10)\" rel=\"nofollow noreferrer\">Build a Universal Windows 8 app</a>. What API are supported in Windows 8.1 is a little sketchy. You&#39;ll have to find out (I, personaly, completely abandoned this technology a while ago)."}, {"owner": {"reputation": 21, "user_id": 10637573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tuv47.jpg?s=128&g=1", "display_name": "Difender Amini", "link": "https://stackoverflow.com/users/10637573/difender-amini"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1567105835, "post_id": 57697292, "comment_id": 101874681, "body": "Thanks @Jimi I will answer my question when I changed the lockscreen background via an app."}, {"owner": {"reputation": 21, "user_id": 10637573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tuv47.jpg?s=128&g=1", "display_name": "Difender Amini", "link": "https://stackoverflow.com/users/10637573/difender-amini"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1567204030, "post_id": 57697292, "comment_id": 101907438, "body": "Hey guys I made a new app using UWP But there is another problem about locking the screen. as ` @Jimi ` said I tried LockWorkStation But in c# the solution <a href=\"https://stackoverflow.com/questions/1263047/lock-windows-workstation-programmatically-in-c-sharp\">here</a> But this method keeps throwing 1008 win32 error about a token (I don&#39;t know) can you help me in this or I should make a new thread for that."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10637573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tuv47.jpg?s=128&g=1", "display_name": "Difender Amini", "link": "https://stackoverflow.com/users/10637573/difender-amini"}, "is_accepted": true, "score": 0, "last_activity_date": 1567350930, "creation_date": 1567350930, "answer_id": 57747200, "question_id": 57697292, "link": "https://stackoverflow.com/questions/57697292/how-to-change-the-lockscreen-back-ground-find-windows-system-userprofile-dll/57747200#57747200", "title": "How to Change the LockScreen back ground (find windows.system.UserProfile.dll)?", "body": "<p>I have made a UWP application to use the <code>LockScreen</code> class provided by <code>windows.userProfile.dll</code> And the event's changed to:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>\n        private Dictionary&lt;string, string&gt; Images = new Dictionary&lt;string, string&gt;();\n        private async void btnLock_Click(object sender, RoutedEventArgs e)\n        {\n            string path;\n            if (Images.TryGetValue(selectedRadioButton.Name, out path))\n            {\n                StorageFile file = await StorageFile.GetFileFromPathAsync(path);\n                await LockScreen.SetImageFileAsync(file);\n                try\n                {\n                    HttpClient httpClient = new HttpClient();\n                    Uri uri = new Uri(\"http://localhost:8080/lock/\");\n\n                    HttpStringContent content = new HttpStringContent(\n                        \"{ \\\"pass\\\": \\\"theMorteza@1378App\\\" }\",\n                        UnicodeEncoding.Utf8,\n                        \"application/json\");\n\n                    HttpResponseMessage httpResponseMessage = await httpClient.PostAsync(\n                        uri,\n                        content);\n\n                    httpResponseMessage.EnsureSuccessStatusCode();\n                    var httpResponseBody = await httpResponseMessage.Content.ReadAsStringAsync();\n                }\n                catch (Exception ex)\n                {\n                    throw ex;\n                }\n            }\n        }\n\nprivate async void btnBrowse_Click(object sender, RoutedEventArgs e)\n        {\n            var picker = new Windows.Storage.Pickers.FileOpenPicker();\n            picker.ViewMode = Windows.Storage.Pickers.PickerViewMode.Thumbnail;\n            picker.SuggestedStartLocation = Windows.Storage.Pickers.PickerLocationId.Desktop;\n            picker.FileTypeFilter.Add(\".jpg\");\n            picker.FileTypeFilter.Add(\".jpeg\");\n            picker.FileTypeFilter.Add(\".png\");\n\n            StorageFile file = await picker.PickSingleFileAsync();\n            if (file != null)\n            {\n                using (var imageStream = await file.OpenReadAsync())\n                {\n                    var bitmapImage = new BitmapImage();\n                    await bitmapImage.SetSourceAsync(imageStream);\n                    image.Source = bitmapImage;\n                }\n                StorageFolder storageFolder = ApplicationData.Current.LocalFolder;\n                await file.CopyAsync(storageFolder, selectedRadioButton.Name+file.FileType,NameCollisionOption.ReplaceExisting);\n                addOrUpdate(selectedRadioButton.Name, Path.Combine(storageFolder.Path, selectedRadioButton.Name + file.FileType));\n                save();\n            }\n        }\n        private async void rb_Checked(object sender, RoutedEventArgs e)\n        {\n            RadioButton rb = sender as RadioButton;\n            selectedRadioButton = rb;\n            btnBrowse.IsEnabled = true;\n            string path;\n            if (Images.TryGetValue(rb.Name, out path))\n            {\n                StorageFile file = await StorageFile.GetFileFromPathAsync(path);\n                using (var imageStream = await file.OpenReadAsync())\n                {\n                    var bitmapImage = new BitmapImage();\n                    await bitmapImage.SetSourceAsync(imageStream);\n                    image.Source = bitmapImage;\n                }\n            }\n        }\n        private void addOrUpdate(string key, string image)\n        {\n            if (Images.Keys.Contains(key))\n            {\n                Images.Remove(key);\n                Images.Add(key, image);\n            }\n            else\n            {\n                Images.Add(key, image);\n            }\n        }\n\n        private async void save()\n        {\n            StorageFolder storageFolder = ApplicationData.Current.LocalFolder;\n            StorageFile file = await storageFolder.CreateFileAsync(\"sample.txt\", CreationCollisionOption.ReplaceExisting);\n            await FileIO.WriteTextAsync(file, JsonConvert.SerializeObject(Images));\n        }\n\n        private async void load()\n        {\n            StorageFolder storageFolder = ApplicationData.Current.LocalFolder;\n            StorageFile sampleFile = await storageFolder.GetFileAsync(\"sample.txt\");\n            string fileText = await FileIO.ReadTextAsync(sampleFile);\n            try\n            {\n                Images = JsonConvert.DeserializeObject&lt;Dictionary&lt;string, string&gt;&gt;(fileText);\n            }\n            catch (Exception)\n            {\n            }\n        }\n</code></pre>\n\n<p>and you can see in the lock button click event there is a request to a web server cause you <strong>cannot</strong> directly lock the screen in a UWP app and you can follow the rest of your question in my <a href=\"https://stackoverflow.com/questions/57737883/problem-using-user32-dll-in-c-sharp-error-1008-an-attempt-was-made-to-reference/57747109#57747109\">next answer</a> to the question \"why I can't directly lock screen in UWP app?and how to do so?\".</p>\n"}], "owner": {"reputation": 21, "user_id": 10637573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tuv47.jpg?s=128&g=1", "display_name": "Difender Amini", "link": "https://stackoverflow.com/users/10637573/difender-amini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 57747200, "answer_count": 1, "score": 0, "last_activity_date": 1567350930, "creation_date": 1567012848, "last_edit_date": 1567013181, "question_id": 57697292, "link": "https://stackoverflow.com/questions/57697292/how-to-change-the-lockscreen-back-ground-find-windows-system-userprofile-dll", "title": "How to Change the LockScreen back ground (find windows.system.UserProfile.dll)?", "body": "<p>I started a windows form application which imports images from files and store them and specify a radio button to each one.</p>\n\n<p>it have a button with the name 'Lock'\nso if user select one radio button and then press the button the app should change the lock screen image and then Lock the screen.</p>\n\n<p>But I don't know how to set the image and lock the screen.</p>\n\n<p>I googled later and the answer about the LockScreen.blabla didn't work for me because I can't do using windows.system.userprofile;</p>\n\n<p>If some one get me the assembly i will do the thing. </p>\n\n<p>there is the events:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private void rB_CheckedChanged(object sender, EventArgs e)\n        {\n            MyRadioButton radioButton = sender as MyRadioButton;\n            pictureBox1.Image = radioButton.Image;\n        }\n\n        private void btnBrowse_Click(object sender, EventArgs e)\n        {\n            if (openFileDialog1.ShowDialog() == DialogResult.OK)\n            {\n                pictureBox1.Image = Image.FromFile(openFileDialog1.FileName);\n                foreach (Control control in FindForm().Controls)\n                {\n                    if (control.GetType() == typeof(MyRadioButton))\n                    {\n                        MyRadioButton mrb = control as MyRadioButton;\n                        if (mrb.Checked == true)\n                        {\n                            mrb.Image = pictureBox1.Image;\n                        }\n                    }\n                }\n            }\n        }\n\n        private void btnLock_Click(object sender, EventArgs e)\n        {\n            //should set the lock screen background\n\n            LockScreen.LockScreen.SetImageFileAsync(imagefile);//shows error 'the name lock screen does not exist\n        }\n</code></pre>\n"}, {"tags": ["c#", ".net"], "answers": [{"tags": [], "owner": {"reputation": 1160, "user_id": 4938081, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2978e9be4d781ebad5ea05d9ba0a40ff?s=128&d=identicon&r=PG", "display_name": "Christian Klemm", "link": "https://stackoverflow.com/users/4938081/christian-klemm"}, "is_accepted": true, "score": 2, "last_activity_date": 1567257267, "last_edit_date": 1567257267, "creation_date": 1567105041, "answer_id": 57716340, "question_id": 57697223, "link": "https://stackoverflow.com/questions/57697223/readonlysequence-getposition-returns-wrong-position/57716340#57716340", "title": "ReadOnlySequence.GetPosition returns wrong position", "body": "<p>Turns out that <code>SequencePosition.GetInteger()</code> is considered for internal use. Using a <code>SequenceReader</code> (as proposed <a href=\"https://github.com/dotnet/corefx/issues/40679\" rel=\"nofollow noreferrer\">here</a>) did the trick for me. </p>\n\n<p>As <code>SequenceReader</code> is not available in Standard I filled this <a href=\"https://github.com/dotnet/standard/issues/1493\" rel=\"nofollow noreferrer\">issue</a>.</p>\n"}], "owner": {"reputation": 1160, "user_id": 4938081, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2978e9be4d781ebad5ea05d9ba0a40ff?s=128&d=identicon&r=PG", "display_name": "Christian Klemm", "link": "https://stackoverflow.com/users/4938081/christian-klemm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 1, "accepted_answer_id": 57716340, "answer_count": 1, "score": 3, "last_activity_date": 1567257267, "creation_date": 1567012510, "last_edit_date": 1567013940, "question_id": 57697223, "link": "https://stackoverflow.com/questions/57697223/readonlysequence-getposition-returns-wrong-position", "title": "ReadOnlySequence.GetPosition returns wrong position", "body": "<p>I'm using the .NET Standard 2.1 Preview 8. I build a small program that essentially writes/reads from a TcpSocket. The reading is done with <code>Pipe</code>. </p>\n\n<p>Given the following implementation</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var pipe = new Pipe();\n\nawait pipe.Writer.WriteAsync(new ReadOnlyMemory&lt;byte&gt;(new byte[100]));\nawait pipe.Writer.FlushAsync();\n\nwhile (true)\n{\n    var readResult = await pipe.Reader.ReadAsync();\n    if (readResult.Buffer.Length &lt;= 0)\n        break;\n\n    Console.WriteLine(\"Buffer length:\" + readResult.Buffer.Length);\n    Console.WriteLine(\"Buffer start:\" + readResult.Buffer.Start.GetInteger());\n\n    var position = readResult.Buffer.GetPosition(10);\n    Console.WriteLine(\"End position:\" + position.GetInteger());\n    Console.WriteLine();\n\n    pipe.Reader.AdvanceTo(position);\n}\n</code></pre>\n\n<p>This scenario writes 100 bytes to the <code>PipeWriter</code>. Then in the loop the buffer is read and the Reader advances by 10 bytes.</p>\n\n<p>This generates the following output:</p>\n\n<pre><code>Buffer length:100\nBuffer start:0\nEnd position:10\n\nBuffer length:90\nBuffer start:10\nEnd position:20\n\nBuffer length:80\nBuffer start:20\nEnd position:30\n\nBuffer length:70\nBuffer start:30\nEnd position:40\n\nBuffer length:60\nBuffer start:40\nEnd position:50\n\nBuffer length:50\nBuffer start:50\nEnd position:60\n\nBuffer length:40\nBuffer start:60\nEnd position:70\n\nBuffer length:30\nBuffer start:70\nEnd position:80\n\nBuffer length:20\nBuffer start:80\nEnd position:90\n\nBuffer length:10\nBuffer start:90\nEnd position:100\n</code></pre>\n\n<p>I don't understand why the buffer start and the position advances by 10 every iteration. I would expect after a read on a pipe that for every iteration the buffer start is 0 and when I get the position with a offset of 10 the position would be 10. Only the buffer size should decrease by 10 every iteration.</p>\n\n<p>Is there a bug or is position defined in an other way?</p>\n"}, {"tags": ["c#", "sql", "datetime", "odbc", "sqlbulkcopy"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1567012553, "post_id": 57697161, "comment_id": 101838648, "body": "Dates are store as a number in UTF.  The BulkCopy is not making any changes to the dates.  It is just displaying the dates using the CultureInfo on your computer.  So if you enter a time as UTF and then display the time without specifying the format you will get the local time."}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 1, "creation_date": 1567012558, "post_id": 57697161, "comment_id": 101838651, "body": "Are you saying that SQL Bulk Copy is reading a string (that contains a Date Time stringified to a UTC representation) and it&#39;s magically transforming that into a different string representation of that Date and Time? That&#39;s surprising."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1567012567, "post_id": 57697161, "comment_id": 101838653, "body": "The best advice I can give you is to use parameters."}, {"owner": {"reputation": 115, "user_id": 11550999, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vOG-N_GfMnA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reU7VfAK6cfTu5w2zIG6NJJ8lYd2Q/mo/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/11550999/james"}, "edited": false, "score": 1, "creation_date": 1567015359, "post_id": 57697161, "comment_id": 101839802, "body": "re : jdweng : Okay yes I think that is what is going on. Is there any way to disable this change of formating with CultureInfo, without going line by line? Because through bulkCopy there is no apparent solution."}, {"owner": {"reputation": 115, "user_id": 11550999, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vOG-N_GfMnA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reU7VfAK6cfTu5w2zIG6NJJ8lYd2Q/mo/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/11550999/james"}, "edited": false, "score": 1, "creation_date": 1567016119, "post_id": 57697161, "comment_id": 101840061, "body": "I changed the time on my computer and now it works, is there a better way to do this?"}, {"owner": {"reputation": 280, "user_id": 3011319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c4d93c76b29ca5ac85a4515ca9dd3a4?s=128&d=identicon&r=PG", "display_name": "Erik Humphrey", "link": "https://stackoverflow.com/users/3011319/erik-humphrey"}, "reply_to_user": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 1, "creation_date": 1567017160, "post_id": 57697161, "comment_id": 101840470, "body": "@Flydog57 It seems OP doesn&#39;t know how to specify the format; any chance you could elaborate?"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1567018062, "post_id": 57697161, "comment_id": 101840787, "body": "@James.  What are the types of everything (in the database, in the C# code).  What time zone is your machine set to (UTC +/- N)?"}, {"owner": {"reputation": 115, "user_id": 11550999, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vOG-N_GfMnA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reU7VfAK6cfTu5w2zIG6NJJ8lYd2Q/mo/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/11550999/james"}, "reply_to_user": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1567018604, "post_id": 57697161, "comment_id": 101840996, "body": "@Flydog57 the machine usually runs on EST (UTC -5) and the database gives dates in (UTC-1). So changing the computer clock to (UTC-1) the error does not occur; when parsing to DateTime the time does not change."}, {"owner": {"reputation": 374, "user_id": 6509779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Oejm.jpg?s=128&g=1", "display_name": "Wilco", "link": "https://stackoverflow.com/users/6509779/wilco"}, "edited": false, "score": 0, "creation_date": 1567030382, "post_id": 57697161, "comment_id": 101845216, "body": "using Unix timestamps can save you some datetime formatting headaches.   MySQL: UNIX_TIMESTAMP() PostgreSQL: CAST(EXTRACT(epoch FROM NOW()) AS INT) MS SQL: DATEDIFF(s, &#39;1970-01-01&#39;, GETUTCDATE()) Oracle: (CAST(SYS_EXTRACT_UTC(SYSTIMESTAMP) AS DATE) - DATE&#39;1970-01-01&#39;) * 86400"}], "owner": {"reputation": 115, "user_id": 11550999, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vOG-N_GfMnA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reU7VfAK6cfTu5w2zIG6NJJ8lYd2Q/mo/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/11550999/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1567012227, "creation_date": 1567012227, "question_id": 57697161, "link": "https://stackoverflow.com/questions/57697161/conversion-issues-between-datetime-time-zones", "title": "Conversion issues between DateTime time zones", "body": "<p>I am querying to a dataset with an ODBC connection using OdbcReader and OdbcCommands.</p>\n\n<pre><code>sourceData = new OdbcCommand(\"SELECT * FROM \" + tableName + \" WHERE created &gt; '\" + date + \"';\", connectionODBC);\n</code></pre>\n\n<p>The column <code>created</code> is read as a System.String object and in the format of <code>2019-08-03T02:47:19.794Z</code>. Ideally, all obtained rows have the column created as a date past variable <code>date</code> in the query. However, when using SqlBulkCopy the dates change. </p>\n\n<p>Such as <code>2019-08-03T02:29:46.056Z</code> -> <code>2019-08-02 22:29:46.0560000</code></p>\n\n<p>or <code>2019-08-03T02:29:53.850Z</code> -> <code>2019-08-02 22:29:53.8500000</code></p>\n\n<p>Seemingly rolling back 4 hours. I am attempting to only transfer the data since a certain date, and it is failing due to a duplicate key error. Where using <code>2019-08-03 12:00:00 AM</code> as the <code>date</code> variable, is it still obtaining rows which, once parsed to DateTime, are past <code>2019-08-02 10:29:46 PM</code> instead.</p>\n\n<p>The source is a third party distributor so I can't change the matter in which <code>created</code> is formatted. I do not understand the reason behind this behavior so any help is appreciated. </p>\n"}, {"tags": ["c#", "parquet", "apache-arrow"], "answers": [{"tags": [], "owner": {"reputation": 221, "user_id": 3755695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83cb8b1fa0ba3bf8933364f151e37a47?s=128&d=identicon&r=PG&f=1", "display_name": "Tanguy Fautr&#233;", "link": "https://stackoverflow.com/users/3755695/tanguy-fautr%c3%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1573588911, "creation_date": 1573588911, "answer_id": 58825880, "question_id": 57697154, "link": "https://stackoverflow.com/questions/57697154/row-based-access-using-parquetsharp-library-in-c-which-is-based-on-apache-parqu/58825880#58825880", "title": "Row based access using ParquetSharp library in C# which is based on apache-parquet-cpp (Arrow)", "body": "<p>The row-oriented API of ParquetSharp uses reflection to discover the public fields of the given row structure or class. <em>TTuple</em> is just a generic parameter, a placeholder for the row type.</p>\n\n<p>It works with custom structures or classes, System.Tuple and System.ValueTuple. You can see a few examples in <a href=\"https://github.com/G-Research/ParquetSharp/blob/master/csharp.test/TestRowOrientedParquetFile.cs\" rel=\"nofollow noreferrer\">https://github.com/G-Research/ParquetSharp/blob/master/csharp.test/TestRowOrientedParquetFile.cs</a></p>\n\n<p>To take your example, you would define your expected row type:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>internal struct MyStruct\n{\n    public readonly int FirstField;\n    public readonly string SecondField;\n}\n</code></pre>\n\n<p>And then somewhere in your method:</p>\n\n<pre><code>using (var reader = ParquetFile.CreateRowReader&lt;MyStruct&gt;(@\"C:\\Users\\X\\Documents\\X.parquet\"))\n{\n    /* read rows */\n}\n</code></pre>\n\n<p>Although I personally prefer using C# 7 tuples, saving you the trouble to have to give your own struct definition in the first place. The only downside is when writing a Parquet file, ParquetSharp cannot automatically infer the column names from the field names (internally both System.Tuple and System.ValueTuple have got boring field names such as Item1, Item2, etc).</p>\n\n<pre><code>using (var reader = ParquetFile.CreateRowReader&lt;(int firstField, string secondField)&gt;(@\"C:\\Users\\X\\Documents\\X.parquet\"))\n{\n    /* read rows */\n}\n</code></pre>\n"}], "owner": {"reputation": 2095, "user_id": 2776506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/81f4f4909e2f5fac59876db50d456923?s=128&d=identicon&r=PG&f=1", "display_name": "azuric", "link": "https://stackoverflow.com/users/2776506/azuric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573595815, "creation_date": 1567012202, "last_edit_date": 1573595815, "question_id": 57697154, "link": "https://stackoverflow.com/questions/57697154/row-based-access-using-parquetsharp-library-in-c-which-is-based-on-apache-parqu", "title": "Row based access using ParquetSharp library in C# which is based on apache-parquet-cpp (Arrow)", "body": "<p>Does anyone know how row based read access to a parquet file using <code>ParquetSharp</code> is performed? This is where I have got to but the <code>inputStream</code> throws an cannot convert to string error.</p>\n\n<pre><code>using (var buffer = new ResizableBuffer())\n{\n    using (var reader = new ParquetFileReader(@\"C:\\Users\\X\\Documents\\X.parquet\"))\n    {\n        using (var inputStream = new BufferReader(buffer))\n        {\n            using (var readerRow = ParquetFile.CreateRowReader&lt;Tuple&gt;(inputStream))\n            {\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Also <code>ParquetSharp</code> uses <code>TTuple</code> but I cannot find any definition for it anywhere.</p>\n\n<p>I know parquet is column based so this is not the most efficient method to read but it is convenient for my work.</p>\n\n<p>Regards</p>\n"}, {"tags": ["c#", "list"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567012231, "post_id": 57697052, "comment_id": 101838504, "body": "You need an IEnumerator Interface : <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerator?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567012526, "post_id": 57697052, "comment_id": 101838631, "body": "You need to include what you&#39;ve tried for this <code>Display</code> method of which you speak, even if it&#39;s not working. The code you&#39;ve shown is not relevent to the question."}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 10728126, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1103fc0a05c466c4f3cd8d55395a15a2?s=128&d=identicon&r=PG", "display_name": "user10728126", "link": "https://stackoverflow.com/users/10728126/user10728126"}, "is_accepted": true, "score": 1, "last_activity_date": 1567012850, "creation_date": 1567012850, "answer_id": 57697293, "question_id": 57697052, "link": "https://stackoverflow.com/questions/57697052/a-general-way-of-accessing-lists-by-a-method/57697293#57697293", "title": "A general way of accessing Lists by a method", "body": "<p>The above example isn't necessarily the way to approach it, simply because of the lack of flexibility with the design. For example, if you try using generics you'll get something like this:</p>\n\n<pre><code>         public void Check&lt;T&gt; (List&lt;T&gt; myList) where T : class\n         {\n             var listType = typeof(T);\n\n             switch (listType.Name)\n            {\n               case \"List1\":\n                 break;\n               case \"List2\":\n                 break;\n            }\n        }\n</code></pre>\n\n<p>The switch is code smell because if you have to add many lists, the switch becomes difficult to manage. Instead use the conditional to polymorphism approach and follow the strategy pattern or a simple factory pattern:</p>\n\n<p><a href=\"https://www.dofactory.com/net/strategy-design-pattern\" rel=\"nofollow noreferrer\">https://www.dofactory.com/net/strategy-design-pattern</a></p>\n\n<p><a href=\"https://www.dofactory.com/net/factory-method-design-pattern\" rel=\"nofollow noreferrer\">https://www.dofactory.com/net/factory-method-design-pattern</a></p>\n"}], "owner": {"reputation": 65, "user_id": 11932313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d790b0e20522fc7ae17c801acb65054?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik43566", "link": "https://stackoverflow.com/users/11932313/dominik43566"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 57697293, "answer_count": 1, "score": 0, "last_activity_date": 1567013277, "creation_date": 1567011662, "last_edit_date": 1567013277, "question_id": 57697052, "link": "https://stackoverflow.com/questions/57697052/a-general-way-of-accessing-lists-by-a-method", "title": "A general way of accessing Lists by a method", "body": "<p>I have a lot of lists and I need to display them and to check items of the lists too.\nI don't want to create a method for each list, instead I would like to access them like <code>void Display()</code> and call the lists in my main method <code>Display(name of the list)</code></p>\n\n<p>I have a list named <code>Family</code> and with the method I check if the input of the user is equal or not to it. As the result of checking, the user gets points for it.<br>\nMy question is, is there a way to make this method general that I can access them like the example above, so I don't need as many methods as list, instead just one? </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public void Check()\n{   \n    for (int i = 0; i &lt; 99; i++)\n    {              \n        if (ListOne.Family.Contains(UserInput()))\n        {\n            Console.WriteLine(\"Correct!\");\n            points++;\n            // Exit if max points reached\n            if (points == ListOne.Family.Count)\n                break;\n        }\n        else\n            Console.WriteLine(\"Wrong!\");\n    }            \n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio-code", "algolia"], "answers": [{"tags": [], "owner": {"reputation": 451, "user_id": 3375731, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Hk8Zn.png?s=128&g=1", "display_name": "H.C", "link": "https://stackoverflow.com/users/3375731/h-c"}, "is_accepted": true, "score": 0, "last_activity_date": 1567088233, "creation_date": 1567088233, "answer_id": 57712165, "question_id": 57696988, "link": "https://stackoverflow.com/questions/57696988/algolia-push-data/57712165#57712165", "title": "Algolia - Push Data", "body": "<p>Was able to figure it out, needed to take look at the package of the <code>Algolia.Search</code>, so to find the location search for Algolia.Search.dll as defined in the project.assets.json. </p>\n\n<p>The path is the follow <code>C:\\Users\\{user}\\.nuget\\packages\\algolia.search\\6.3.0\\lib\\netstandard2.0</code> that where the package/dll is located now to see the code installed JetBrains dotPeek and opened the dll and search for SearchClient Class that was in Clients namespace.</p>\n\n<p>So change <code>using Algolia.Search;</code> to <code>using Algolia.Search.Clients;</code> and already works and recognizes. </p>\n"}, {"tags": [], "owner": {"reputation": 903, "user_id": 2095415, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a52e4cd5b95b92225220b0256d3b904f?s=128&d=identicon&r=PG", "display_name": "aseure", "link": "https://stackoverflow.com/users/2095415/aseure"}, "is_accepted": false, "score": 0, "last_activity_date": 1567168872, "creation_date": 1567168872, "answer_id": 57726959, "question_id": 57696988, "link": "https://stackoverflow.com/questions/57696988/algolia-push-data/57726959#57726959", "title": "Algolia - Push Data", "body": "<p>As you discovered, there was an issue with the provided snippet. I've just updated it and my colleagues deployed it. You should now see the correct snippets appear on the <a href=\"https://www.algolia.com/doc/onboarding/\" rel=\"nofollow noreferrer\">https://www.algolia.com/doc/onboarding/</a> page.</p>\n\n<p>Thank you very much for letting us know.</p>\n"}], "owner": {"reputation": 451, "user_id": 3375731, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Hk8Zn.png?s=128&g=1", "display_name": "H.C", "link": "https://stackoverflow.com/users/3375731/h-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 57712165, "answer_count": 2, "score": 0, "last_activity_date": 1567168872, "creation_date": 1567011332, "last_edit_date": 1567014264, "question_id": 57696988, "link": "https://stackoverflow.com/questions/57696988/algolia-push-data", "title": "Algolia - Push Data", "body": "<p>Following the <a href=\"https://www.algolia.com/doc/onboarding/#/push-data\" rel=\"nofollow noreferrer\">example</a> of how to push data to algolia, tried to connect only to Algolia with SearchClient, have installed the Algolia with .NET CLI (dotnet add package Algolia.Search) in VS Code. </p>\n\n<p>The code is the follow:</p>\n\n<pre><code>using System;\nusing System.Threading.Tasks;\nusing Algolia.Search;\nusing System.Net.Http;\nusing Newtonsoft.Json.Linq;\n\nnamespace Example\n{\n    class Program\n    {\n        static async Task Main(string[] args)\n        {\n            SearchClient client = new SearchClient(\"SUMI5AMP4H\", \"Admin API Key\");\n            SearchIndex index = client.InitIndex(\"demo_ecommerce\");\n\n            Console.WriteLine(\"Hello World!\");\n        }\n    }\n}\n</code></pre>\n\n<p>with command <code>dotnet run</code></p>\n\n<p>that returns:</p>\n\n<blockquote>\n  <p>Program.cs(13,13): error CS0246: The type or namespace name\n  'SearchClient' could not be found (are you missing a using directive\n  or an assembly reference?)</p>\n  \n  <p>Program.cs(14,13): error CS0246: The type or namespace name\n  'SearchIndex' could not be found (are you missing a using directive or\n  an assembly reference?)</p>\n</blockquote>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/core/tutorials/with-visual-studio-code\" rel=\"nofollow noreferrer\">The project was created</a> with <code>dotnet new console</code></p>\n\n<p>So having the Algolia.Search package installed how does it not recognize SearchClient and SearchIndex?</p>\n"}, {"tags": ["c#", "asp.net", "json", "asp.net-web-api"], "answers": [{"comments": [{"owner": {"reputation": 956, "user_id": 641361, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/384618ad1eeae0f64841a90880c7fa07?s=128&d=identicon&r=PG", "display_name": "333Matt", "link": "https://stackoverflow.com/users/641361/333matt"}, "edited": false, "score": 0, "creation_date": 1567012418, "post_id": 57697085, "comment_id": 101838589, "body": "It is a good idea, but I&#39;m not sure how to implement it.  I&#39;m using Postman to send the request, and if I send it as text or text/plain instead of application/json, I get a 415 unsupported media type error.  Is there some way in which I need to modify the body so that the API can accept it as a string?"}, {"owner": {"reputation": 159275, "user_id": 572644, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/afd0124e3eaa2f2dbe0eb6741aafcd03?s=128&d=identicon&r=PG", "display_name": "Daniel Hilgarth", "link": "https://stackoverflow.com/users/572644/daniel-hilgarth"}, "reply_to_user": {"reputation": 956, "user_id": 641361, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/384618ad1eeae0f64841a90880c7fa07?s=128&d=identicon&r=PG", "display_name": "333Matt", "link": "https://stackoverflow.com/users/641361/333matt"}, "edited": false, "score": 0, "creation_date": 1567014804, "post_id": 57697085, "comment_id": 101839595, "body": "Just changing it to <code>public async Task&lt;IActionResult&gt; Test(string id, [FromBody] string input)</code> isn&#39;t enough?"}, {"owner": {"reputation": 956, "user_id": 641361, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/384618ad1eeae0f64841a90880c7fa07?s=128&d=identicon&r=PG", "display_name": "333Matt", "link": "https://stackoverflow.com/users/641361/333matt"}, "edited": false, "score": 0, "creation_date": 1567018317, "post_id": 57697085, "comment_id": 101840895, "body": "Seems like whatever is sent with that method signature is received as a null.  A co-worker has read the HttpContext.Request.Body successfully and written it to a file.  I&#39;ll update as we know more."}], "tags": [], "owner": {"reputation": 159275, "user_id": 572644, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/afd0124e3eaa2f2dbe0eb6741aafcd03?s=128&d=identicon&r=PG", "display_name": "Daniel Hilgarth", "link": "https://stackoverflow.com/users/572644/daniel-hilgarth"}, "is_accepted": false, "score": 3, "last_activity_date": 1567011792, "creation_date": 1567011792, "answer_id": 57697085, "question_id": 57696978, "link": "https://stackoverflow.com/questions/57696978/how-to-diagnose-malformed-jobject-in-asp-net-webapi/57697085#57697085", "title": "How to diagnose malformed JObject in ASP.NET WebAPI?", "body": "<p>One option would be to declare it as <code>string</code> instead of <code>JToken</code> and try to explicitly parse it in the action body.</p>\n\n<p>This will show you two things:  </p>\n\n<ol>\n<li>If <code>input</code> is still empty, it's not a problem with JSON parsing</li>\n<li>If parsing it explicitly fails, the JSON is indeed invalid.</li>\n</ol>\n\n<p>Only when <code>input</code> is not null and parsing it in the body works - only then you need to deep dive into what actually happens, when you declare an action parameter as JToken.</p>\n"}], "owner": {"reputation": 956, "user_id": 641361, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/384618ad1eeae0f64841a90880c7fa07?s=128&d=identicon&r=PG", "display_name": "333Matt", "link": "https://stackoverflow.com/users/641361/333matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567011792, "creation_date": 1567011285, "last_edit_date": 1567011407, "question_id": 57696978, "link": "https://stackoverflow.com/questions/57696978/how-to-diagnose-malformed-jobject-in-asp-net-webapi", "title": "How to diagnose malformed JObject in ASP.NET WebAPI?", "body": "<p>I wrote the following method to try to diagnose a problem I'm experiencing in my application:</p>\n\n<pre><code>    [Route(\"/api/flow/test\"), HttpPost]\n    [ProducesResponseType(typeof(string), (int)HttpStatusCode.OK)]\n    public async Task&lt;IActionResult&gt; Test(string id, [FromBody] JToken input)\n    {            \n        var result = input == null ? \"Not OK\" : \"OK\";\n        return Ok(result);\n    }\n</code></pre>\n\n<p>I post a large (6.5MB+) JSON body to it, and in one instance it works fine.  When I post a similar JSON with some added properties, it does not - the <code>input</code> parameter comes in as <code>null</code>.  However, both JSON validate successfully with every tool I've found that can handle their size.  Please provide some additional ideas about how to further investigate what is causing the body parameter input to be treated as null.</p>\n"}, {"tags": ["c#", "ubuntu", "monodevelop", "godot"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 11452721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y1Skl.png?s=128&g=1", "display_name": "TheCoderCrab", "link": "https://stackoverflow.com/users/11452721/thecodercrab"}, "is_accepted": true, "score": 0, "last_activity_date": 1567070361, "last_edit_date": 1567070361, "creation_date": 1567029908, "answer_id": 57700594, "question_id": 57696959, "link": "https://stackoverflow.com/questions/57696959/monodevelop-wont-run-any-project/57700594#57700594", "title": "Monodevelop won&#39;t Run any project", "body": "<p>After I did some more research and tests I found that the problem is from my drive file format, mono(for some reasons) is not compatible with exfat file format.</p>\n\n<p>So to fix the problem you will have to move your project to an ext drive.</p>\n"}], "owner": {"reputation": 36, "user_id": 11452721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y1Skl.png?s=128&g=1", "display_name": "TheCoderCrab", "link": "https://stackoverflow.com/users/11452721/thecodercrab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 1, "accepted_answer_id": 57700594, "answer_count": 1, "score": 1, "last_activity_date": 1567070361, "creation_date": 1567011219, "question_id": 57696959, "link": "https://stackoverflow.com/questions/57696959/monodevelop-wont-run-any-project", "title": "Monodevelop won&#39;t Run any project", "body": "<p><strong>Hey,</strong>\nI was using Monodevelop for some time(~4 months) and everything was perfect until this week.</p>\n\n<p>Now whenever I try to Run a console project I get this error: <code>/usr/lib/mono/msbuild/15.0/bin/Microsoft.Common.CurrentVersion.targets(5,5): Error MSB3021: Unable to copy file \"obj/x86/Release/AppName.exe\" to \"bin/Release/AppName.exe\". Access to the path is denied. (MSB3021) (AppName)</code>.\nThe strange thing is that when I go to the folder <code>bin/Release</code> I DO find the AppName.exe. so I used manually <code>mono AppName.exe</code> to run the app.</p>\n\n<p>An other problem is that in Godot mono I have the same error :<code>/usr/lib/mono/msbuild/Current/bin/Microsoft.Common.CurrentVersion.targets(4215,5): error MSB3021: Unable to copy file \".mono/temp/obj/Tools/GodotTestAA.dll\" to \".mono/temp/bin/Tools/GodotTestAA.dll\". Access to the path is denied.</code> when I try to run a scene, so I can't even try my game.</p>\n\n<p>I thought that the problem is from my installation of mono or monodevelop so I completely purged both of them and reinstalled them again, but nothing.</p>\n\n<p>I also tried to run Godot mono as root(as root not with administrative rights), it worked but I know that it isn't good to run apps as root so I decided to look for another solution in the monodevelop forums, godot forums and here, but the only thing that I found is: <a href=\"https://stackoverflow.com/questions/7130136/unable-to-copy-file-access-to-the-path-is-denied\">Unable to copy file, Access to the path is denied</a> but the post was 8 years old and any of the solution worked</p>\n\n<blockquote>\n  <p>Note: I am on Ubuntu(PopOS exactly).</p>\n</blockquote>\n\n<p><em>I will really appreciate your help ;)</em></p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1567011312, "post_id": 57696947, "comment_id": 101838139, "body": "if the variable is declared in <code>Start()</code>, then it is not in scope inside of <code>Update()</code>"}, {"owner": {"reputation": 19, "user_id": 1839314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tZ1H9.gif?s=128&g=1", "display_name": "Yojimbo", "link": "https://stackoverflow.com/users/1839314/yojimbo"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1567011361, "post_id": 57696947, "comment_id": 101838159, "body": "What should be the solution then? I load questions to a list on Start() and would like to access them in Update?"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 4, "creation_date": 1567011483, "post_id": 57696947, "comment_id": 101838205, "body": "Declare the variable as a field in your script class. Then, you can assign to it in <code>Start()</code> and read it in <code>Update()</code>"}, {"owner": {"reputation": 19, "user_id": 1839314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tZ1H9.gif?s=128&g=1", "display_name": "Yojimbo", "link": "https://stackoverflow.com/users/1839314/yojimbo"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1567011590, "post_id": 57696947, "comment_id": 101838248, "body": "Ah ok will try thank you!"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 4, "creation_date": 1567011983, "post_id": 57696947, "comment_id": 101838397, "body": "Without wanting to be mean but if you have to ask this maybe before touching any code in unity you should get some <a href=\"https://docs.microsoft.com/dotnet/csharp/tutorials/intro-to-csharp/\" rel=\"nofollow noreferrer\">c# basics</a> or in general about object oriented programming .. this is a very basic question."}, {"owner": {"reputation": 19, "user_id": 1839314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tZ1H9.gif?s=128&g=1", "display_name": "Yojimbo", "link": "https://stackoverflow.com/users/1839314/yojimbo"}, "edited": false, "score": 0, "creation_date": 1567020665, "post_id": 57696947, "comment_id": 101841809, "body": "I understood a field as a separate game object which will keep the value independently."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 1839314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tZ1H9.gif?s=128&g=1", "display_name": "Yojimbo", "link": "https://stackoverflow.com/users/1839314/yojimbo"}, "edited": false, "score": 0, "creation_date": 1567020607, "post_id": 57698217, "comment_id": 101841790, "body": "no does not work this is my problem. I am using a list instead of a variable"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "reply_to_user": {"reputation": 19, "user_id": 1839314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tZ1H9.gif?s=128&g=1", "display_name": "Yojimbo", "link": "https://stackoverflow.com/users/1839314/yojimbo"}, "edited": false, "score": 1, "creation_date": 1567060957, "post_id": 57698217, "comment_id": 101851539, "body": "@Yojimbo well we still can&#39;t see your code ..."}, {"owner": {"reputation": 4218, "user_id": 6730803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXDZZ.png?s=128&g=1", "display_name": "Fredrik Sch&#246;n", "link": "https://stackoverflow.com/users/6730803/fredrik-sch%c3%b6n"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1567075636, "post_id": 57698217, "comment_id": 101859046, "body": "A List can be stored in a variable; they are not the same thing. Please append your code, like @derHugo is suggesting, to your original post. We can&#39;t help you if you don&#39;t show us what you need help with."}, {"owner": {"reputation": 4218, "user_id": 6730803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXDZZ.png?s=128&g=1", "display_name": "Fredrik Sch&#246;n", "link": "https://stackoverflow.com/users/6730803/fredrik-sch%c3%b6n"}, "edited": false, "score": 0, "creation_date": 1567075790, "post_id": 57698217, "comment_id": 101859132, "body": "But a few things on top of mind: 1) You&#39;re not instanciating the list with <code>= new List&lt;Whatever&gt;();</code> 2) You&#39;re overriding the list&#39;s content with a <code>public</code> accessor, which serializes the field and override code values with inspector values or 3) You&#39;re setting it from somewhere else, or you&#39;re not looking at the correct component."}, {"owner": {"reputation": 894, "user_id": 3512053, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eNnJE.jpg?s=128&g=1", "display_name": "Asyranok", "link": "https://stackoverflow.com/users/3512053/asyranok"}, "reply_to_user": {"reputation": 19, "user_id": 1839314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tZ1H9.gif?s=128&g=1", "display_name": "Yojimbo", "link": "https://stackoverflow.com/users/1839314/yojimbo"}, "edited": false, "score": 0, "creation_date": 1567103126, "post_id": 57698217, "comment_id": 101873615, "body": "@Yojimbo This does solve your problem. This is how it is done. He is showing you how to access a variable in two separate methods. If this doesn&#39;t explain the answer to you, it is clear that you need to take the most basic course in programming for any object oriented high level language at all. This is as basic as it gets. I do not mean to insult you. I am just being honest as it will solve a lot of questions you will have."}, {"owner": {"reputation": 894, "user_id": 3512053, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eNnJE.jpg?s=128&g=1", "display_name": "Asyranok", "link": "https://stackoverflow.com/users/3512053/asyranok"}, "edited": false, "score": 0, "creation_date": 1567103157, "post_id": 57698217, "comment_id": 101873626, "body": "Also, &quot;I am using a list instead of a variable&quot;. A list is a variable..."}], "tags": [], "owner": {"reputation": 4218, "user_id": 6730803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXDZZ.png?s=128&g=1", "display_name": "Fredrik Sch&#246;n", "link": "https://stackoverflow.com/users/6730803/fredrik-sch%c3%b6n"}, "is_accepted": false, "score": 3, "last_activity_date": 1567016940, "creation_date": 1567016940, "answer_id": 57698217, "question_id": 57696947, "link": "https://stackoverflow.com/questions/57696947/how-to-pass-value-between-void-start-and-void-update-in-unity/57698217#57698217", "title": "How to pass value between void Start() and void Update() in Unity?", "body": "<p>Just to give a more visual answer to the ones already stated in comments.</p>\n\n<pre><code>class MyClass \n{\n    string hello;           // Declare variable\n\n    void Start() \n    {\n        hello = \"world\";    // Set variable\n    }\n\n    void Update()\n    {\n        Debug.Log(hello);   // Read variable\n    }\n}\n</code></pre>\n\n<p>Curly braces <code>{</code> &amp; <code>}</code> define a <em>scope</em>, a variable declared in a scope will only be accessible in itself and child scopes (functions, etc, contained in that scope). So in our case, if you declare a variable in Start(), it will not be accessible in Update() since Update() is not inside of Start()'s <em>scope</em>. </p>\n"}], "owner": {"reputation": 19, "user_id": 1839314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tZ1H9.gif?s=128&g=1", "display_name": "Yojimbo", "link": "https://stackoverflow.com/users/1839314/yojimbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "closed_date": 1567025712, "answer_count": 1, "score": -1, "last_activity_date": 1567016940, "creation_date": 1567011151, "last_edit_date": 1567011494, "question_id": 57696947, "link": "https://stackoverflow.com/questions/57696947/how-to-pass-value-between-void-start-and-void-update-in-unity", "closed_reason": "Not suitable for this site", "title": "How to pass value between void Start() and void Update() in Unity?", "body": "<p>I would like to find out:</p>\n\n<p><strong>how to pass the value assigned to a variable on Start() to Update() function?</strong> </p>\n\n<p>When I call the variable assigned on Start(), Debug.Log() on Update() shows null or nothing at all?</p>\n"}, {"tags": ["c#", "visual-studio", "debugging", "breakpoints"], "comments": [{"owner": {"reputation": 583, "user_id": 2720343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvJ2G.jpg?s=128&g=1", "display_name": "Dortimer", "link": "https://stackoverflow.com/users/2720343/dortimer"}, "edited": false, "score": 1, "creation_date": 1567010947, "post_id": 57696869, "comment_id": 101837997, "body": "Can you post the code you&#39;re working with? It&#39;s difficult to solve a problem with no frame of reference. Alternatively, set the breakpoints higher in the chain. Establish a baseline where you know for sure that the application will hit the breakpoint, and then <code>F10</code> your way down the line. My guess is there is either some code that closes execution before your breakpoint, or possibly an unhandled exception that isn&#39;t caught before your breakpoint so it skips it."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567012316, "post_id": 57696869, "comment_id": 101838548, "body": "Are you connecting to the Debug executable or the Release Executable?  Should be using the Debug Executable."}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1567018737, "post_id": 57696869, "comment_id": 101841051, "body": "Possible issue in debug mode may be enabled optimization."}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1567020721, "post_id": 57696869, "comment_id": 101841835, "body": "How do you start or attach the debugger?"}, {"owner": {"reputation": 67, "user_id": 2816714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f259129f7f83b3aa0d6e7731a643e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "user2816714", "link": "https://stackoverflow.com/users/2816714/user2816714"}, "edited": false, "score": 0, "creation_date": 1567020911, "post_id": 57696869, "comment_id": 101841912, "body": "I attach to the debugger either using F5 or Debug&gt;Start Debugging"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 2816714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f259129f7f83b3aa0d6e7731a643e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "user2816714", "link": "https://stackoverflow.com/users/2816714/user2816714"}, "edited": false, "score": 0, "creation_date": 1567085628, "post_id": 57704939, "comment_id": 101864896, "body": "Thanks . I did download the &#39;Attach to all the things&#39; but I need clarification on what to do in the Tools menu to attach to IIS \u2026 I don&#39;t see a menu option."}, {"owner": {"reputation": 2476, "user_id": 9668530, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zL8vN.jpg?s=128&g=1", "display_name": "Alex Leo", "link": "https://stackoverflow.com/users/9668530/alex-leo"}, "reply_to_user": {"reputation": 67, "user_id": 2816714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f259129f7f83b3aa0d6e7731a643e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "user2816714", "link": "https://stackoverflow.com/users/2816714/user2816714"}, "edited": false, "score": 0, "creation_date": 1567086441, "post_id": 57704939, "comment_id": 101865449, "body": "ops just added a picture for the next generation :-)"}, {"owner": {"reputation": 67, "user_id": 2816714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f259129f7f83b3aa0d6e7731a643e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "user2816714", "link": "https://stackoverflow.com/users/2816714/user2816714"}, "edited": false, "score": 0, "creation_date": 1567088889, "post_id": 57704939, "comment_id": 101866982, "body": "No, it&#39;s still not working right.  I was able to hit a breakpoint on my default page but no other breakpoints are working on other pages.  Also, I&#39;m not seeing all those menu options on my Tools menu.  From your list, Connect to Database is the first option I see.  I&#39;m using VS 2019"}, {"owner": {"reputation": 2476, "user_id": 9668530, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zL8vN.jpg?s=128&g=1", "display_name": "Alex Leo", "link": "https://stackoverflow.com/users/9668530/alex-leo"}, "reply_to_user": {"reputation": 67, "user_id": 2816714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f259129f7f83b3aa0d6e7731a643e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "user2816714", "link": "https://stackoverflow.com/users/2816714/user2816714"}, "edited": false, "score": 0, "creation_date": 1567090434, "post_id": 57704939, "comment_id": 101867877, "body": "I am also using VS2019, the process I usually follow is rebuild, lunch localhost, attach to IIS, refresh, breakpoint hit."}], "tags": [], "owner": {"reputation": 2476, "user_id": 9668530, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zL8vN.jpg?s=128&g=1", "display_name": "Alex Leo", "link": "https://stackoverflow.com/users/9668530/alex-leo"}, "is_accepted": true, "score": -1, "last_activity_date": 1567086412, "last_edit_date": 1567086412, "creation_date": 1567062953, "answer_id": 57704939, "question_id": 57696869, "link": "https://stackoverflow.com/questions/57696869/visual-studio-code-debug-doesnt-stop-at-breakpoints/57704939#57704939", "title": "Visual Studio Code debug doesn&#39;t stop at breakpoints", "body": "<p>I have experienced this unusual behaviour in Visual Studio in Debug mode. What I have noticed is that Visual studio gets hanged whilst loading symbols.</p>\n\n<p>You can see if that is the case for you - by checking the status bar at the very bottom of Visual Studio UI.</p>\n\n<p>I have seen this behaviour when debugging using F5 and Chrome as browser. Switching to a different browser such as FireFox - if the above applies - does fix the issue.</p>\n\n<p>You can also try attaching to IIS - I do use this tool <a href=\"https://marketplace.visualstudio.com/items?itemName=thebread.AttachToAllTheThings\" rel=\"nofollow noreferrer\">Attach To All The Things</a> \nSimpy run your local host and from the Tools menu' in Visual studio, use <code>Attach to IIS</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ducBF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ducBF.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 67, "user_id": 2816714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f259129f7f83b3aa0d6e7731a643e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "user2816714", "link": "https://stackoverflow.com/users/2816714/user2816714"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3917, "favorite_count": 0, "accepted_answer_id": 57704939, "answer_count": 1, "score": 2, "last_activity_date": 1567086412, "creation_date": 1567010850, "last_edit_date": 1567020793, "question_id": 57696869, "link": "https://stackoverflow.com/questions/57696869/visual-studio-code-debug-doesnt-stop-at-breakpoints", "title": "Visual Studio Code debug doesn&#39;t stop at breakpoints", "body": "<p>When I attempt to debug my project, the debugger is not stopping at the breakpoints.  I have a solution with 3 projects. I have done the following:</p>\n\n<p>I have gone over links to many solutions for this issue, including those on stackoverflow, but none of them have resolved the problem.  </p>\n\n<pre><code>+Confirmed that the breakpoints are active\n+Clean solution\n+Rebuild solution\n+confirm configuration on project is set to Debug\n+Deleted the bin folder for the project, then IISreset and then build\n</code></pre>\n\n<p>No error messages.</p>\n\n<p>Here is sample code - the breakpoint was set but not hit on the line: Session[\"default\"] = \"default\";.   This is in the page load event.  No matter where I set a breakpoint, the breakpoints are ignored.  I am in DEBUG and not RELEASE.</p>\n\n<p>This project has been working fine for years until yesterday.</p>\n\n<pre><code>namespace Pollinators\n{\n    public partial class _default : System.Web.UI.Page\n    {\n        protected override void OnInit(EventArgs e)\n        {\n            base.OnInit(e);\n\n            if (User.Identity.IsAuthenticated)\n            ViewStateUserKey = User.Identity.Name;\n        }\n\n        protected void Page_Load(object sender, EventArgs e)\n        {\n            Session[\"default\"] = \"default\";\n        }\n\n        protected void btnSubmit_Click(object sender, EventArgs e)\n        {\n            Response.RedirectPermanent(\"http://wisconsinpollinators.com/SubmitFrom_Nwsltr.aspx\");\n        }\n\n        protected void btnMasonBees_Click(object sender, EventArgs e)\n        {\n            Response.RedirectPermanent(\"http://wisconsinpollinators.com/Bees/MasonBee.aspx\");\n        }\n\n        protected void btnVolunteerNaturalist_Click(object sender, EventArgs e)\n        {\n            Response.RedirectPermanent(\"http://xerces.org/xerces-bee-monitoring-tools/\");\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567011199, "post_id": 57696832, "comment_id": 101838101, "body": "The .NET regex engine captures <i>all</i> repeated groups, so that note is not relevent here. <code>-prefix(\\s&lt;@(?&lt;digits&gt;[0-9]{18})&gt;)+</code> ... <code>match.Groups[&quot;digits&quot;].Captures</code>. That should work for the first format you mentioned. (<code>\\d</code> can match other digits, not just 0-9, by the way.)"}, {"owner": {"reputation": 3307, "user_id": 10070647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR676.png?s=128&g=1", "display_name": "Twenty", "link": "https://stackoverflow.com/users/10070647/twenty"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567011426, "post_id": 57696832, "comment_id": 101838184, "body": "That seems pretty good already, is there any way I can make the <code>&lt;@</code> at the beginning and the <code>&gt;</code> at the end optional?"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567011588, "post_id": 57696832, "comment_id": 101838246, "body": "Use could use three patterns with alternation: <code>(...|...|...)</code> with the three variations where the ellipses are. It&#39;s kludgy but it has worked for me with things about as simple as this."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567011739, "post_id": 57696832, "comment_id": 101838297, "body": "This is another option: <a href=\"http://www.rexegg.com/regex-conditionals.html#delimiters\" rel=\"nofollow noreferrer\">rexegg.com/regex-conditionals.html#delimiters</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1567013029, "post_id": 57697316, "comment_id": 101838867, "body": "Keep in mind that this will give a false positive on an input like <code>-prefix @141222969505480701&gt;</code> (note the missing <code>&lt;</code>)."}, {"owner": {"reputation": 3307, "user_id": 10070647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR676.png?s=128&g=1", "display_name": "Twenty", "link": "https://stackoverflow.com/users/10070647/twenty"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567013248, "post_id": 57697316, "comment_id": 101838960, "body": "Well the missing space is actually okay, but for the other stuff you are right, will update the answer in a moment."}, {"owner": {"reputation": 3307, "user_id": 10070647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR676.png?s=128&g=1", "display_name": "Twenty", "link": "https://stackoverflow.com/users/10070647/twenty"}, "reply_to_user": {"reputation": 622, "user_id": 726751, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b6c926c2e63e4325d9e0a40ba472deb?s=128&d=identicon&r=PG", "display_name": "Jorge Wander Santana Ure&#241;a", "link": "https://stackoverflow.com/users/726751/jorge-wander-santana-ure%c3%b1a"}, "edited": false, "score": 0, "creation_date": 1567014055, "post_id": 57697316, "comment_id": 101839279, "body": "@JorgeWanderSantanaUre&#241;a because I need to ensure that the other content does exist as well."}], "tags": [], "owner": {"reputation": 3307, "user_id": 10070647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR676.png?s=128&g=1", "display_name": "Twenty", "link": "https://stackoverflow.com/users/10070647/twenty"}, "is_accepted": true, "score": 1, "last_activity_date": 1567013339, "last_edit_date": 1567013339, "creation_date": 1567012949, "answer_id": 57697316, "question_id": 57696832, "link": "https://stackoverflow.com/questions/57696832/matching-a-sequence-of-characters-splitted-by-spaces-after-a-prefix/57697316#57697316", "title": "Matching a sequence of characters splitted by spaces after a prefix", "body": "<p>With the help to of @madreflection in the comments I was able to come up with this solution:</p>\n\n<p><code>-prefix([\\s]*(&lt;@|)(?&lt;digits&gt;[0-9]{18})&gt;?)+</code></p>\n\n<p>Which is exactly what I needed, which even ignores spaces in between. Also with the use of <code>match.Groups[\"digits\"].Captures</code> it made the whole story a lot easier.</p>\n"}, {"tags": [], "owner": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "is_accepted": false, "score": 0, "last_activity_date": 1567095330, "creation_date": 1567095330, "answer_id": 57714164, "question_id": 57696832, "link": "https://stackoverflow.com/questions/57696832/matching-a-sequence-of-characters-splitted-by-spaces-after-a-prefix/57714164#57714164", "title": "Matching a sequence of characters splitted by spaces after a prefix", "body": "<p>You could use an <a href=\"https://www.regular-expressions.info/alternation.html\" rel=\"nofollow noreferrer\">alternation</a> to list the 3 different allowed formats. In .NET it is supported to reuse the group name.</p>\n\n<pre><code>-prefix\\s*(?:(?&lt;digits&gt;[0-9]{18})\\s*&lt;@(?&lt;digits&gt;[0-9]{18})&gt;|(?&lt;digits&gt;[0-9]{18})|&lt;@(?&lt;digits&gt;[0-9]{18}))\n</code></pre>\n\n<p><strong>Pattern parts</strong></p>\n\n<ul>\n<li><code>-prefix\\s*</code> Match literally followed by 0+ whitespace characters</li>\n<li><code>(?:</code> Non capturing group\n\n<ul>\n<li><code>(?&lt;digits&gt;[0-9]{18})\\s*&lt;@(?&lt;digits&gt;[0-9]{18})&gt;</code> 2 named capturing groups which will match the digits</li>\n<li><code>|</code> Or</li>\n<li><code>(?&lt;digits&gt;[0-9]{18})</code> Named capturing group, match digits only</li>\n<li><code>|</code> Or</li>\n<li><code>&lt;@(?&lt;digits&gt;[0-9]{18})</code> Named capturing group, match digits between brackets only</li>\n</ul></li>\n<li><code>)</code></li>\n</ul>\n\n<p><a href=\"http://regexstorm.net/tester?p=-prefix%5cs*%28%3f%3a%28%3f%3cdigits%3e%5b0-9%5d%7b18%7d%29%5cs*%3c%40%28%3f%3cdigits%3e%5b0-9%5d%7b18%7d%29%3e%7c%28%3f%3cdigits%3e%5b0-9%5d%7b18%7d%29%7c%3c%40%28%3f%3cdigits%3e%5b0-9%5d%7b18%7d%29%29&amp;i=-prefix+%3c%40141222969505480701%3e%0d%0a-prefix+141222969505480701%0d%0a-prefix+141222969505480701+%3c%40141222969505480702%3e\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/CZ1vI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CZ1vI.png\" alt=\"enter image description here\"></a></p>\n\n<p>You could also use 2 named capturing groups, 1 for each format. For example:</p>\n\n<pre><code>-prefix\\s*(?:(?&lt;digits&gt;[0-9]{18})\\s*&lt;@(?&lt;digitsBrackets&gt;[0-9]{18})&gt;|(?&lt;digits&gt;[0-9]{18})|&lt;@(?&lt;digitsBrackets&gt;[0-9]{18}))\n</code></pre>\n\n<p><a href=\"http://regexstorm.net/tester?p=-prefix%5cs*%28%3f%3a%28%3f%3cdigits%3e%5b0-9%5d%7b18%7d%29%5cs*%3c%40%28%3f%3cdigitsBrackets%3e%5b0-9%5d%7b18%7d%29%3e%7c%28%3f%3cdigits%3e%5b0-9%5d%7b18%7d%29%7c%3c%40%28%3f%3cdigitsBrackets%3e%5b0-9%5d%7b18%7d%29%29&amp;i=-prefix+%3c%40141222969505480701%3e%0d%0a-prefix+141222969505480701%0d%0a-prefix+141222969505480701+%3c%40141222969505480702%3e\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"}], "owner": {"reputation": 3307, "user_id": 10070647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR676.png?s=128&g=1", "display_name": "Twenty", "link": "https://stackoverflow.com/users/10070647/twenty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 57697316, "answer_count": 2, "score": 3, "last_activity_date": 1567095330, "creation_date": 1567010690, "question_id": 57696832, "link": "https://stackoverflow.com/questions/57696832/matching-a-sequence-of-characters-splitted-by-spaces-after-a-prefix", "title": "Matching a sequence of characters splitted by spaces after a prefix", "body": "<h2>I have the following strings:</h2>\n\n<ol>\n<li><code>-prefix &lt;@141222969505480701&gt;</code> where the second part e.g. <code>&lt;@141222969505480701&gt;</code> can be repeated unlimited times (only the numbers change).</li>\n<li><code>-prefix 141222969505480701</code> which should behave the same as above.</li>\n<li><code>-prefix 141222969505480701 &lt;@141222969505480702&gt;</code> which would still be able to repeat itself forever.</li>\n</ol>\n\n<p>The last one should have groups containing <code>141222969505480701</code> and <code>141222969505480702</code>.</p>\n\n<h2>So a few bits of information:</h2>\n\n<ul>\n<li>The digit chains are always 18 in total so I use \\d{18} in my regex</li>\n<li>I would like to have the numbers in groups for me to use them afterwards.</li>\n</ul>\n\n<h2>What I tried</h2>\n\n<p>First of I tried to match the first of my example strings.\n<code>-prefix(\\s&lt;@\\d{18}&gt;)\\1*</code> which would match the entire string, but I would like to have the digits itself in its own group. Also this method only matches the same parts e.g. <code>&lt;@141222969505480701&gt; &lt;@141222969505480701&gt; &lt;@141222969505480701&gt;</code> would match, but any other number in between wouldn't match.</p>\n\n<h2>What would sound logical in my head</h2>\n\n<p><code>-prefix (\\d{18})+</code> but it would only match the first one of the 'digit parts'.</p>\n\n<p>While I was testing it on regex101 it told me the following: </p>\n\n<blockquote>\n  <p>A repeated capturing group will only capture the last iteration. Put a capturing group around the repeated group to capture all iterations or use a non-capturing group instead if you're not interested in the data.</p>\n</blockquote>\n\n<p>I tried to adjust the regex to the following <code>-prefix ((\\d{18})+)</code>, but with the same result.</p>\n"}, {"tags": ["c#", "asp.net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1567011510, "post_id": 57696728, "comment_id": 101838217, "body": "It depends. If the <code>User</code> class contains the <code>CloudSaveProfile.Id</code> value needed to load the <code>CloudSaveProfile</code>, then yes, you can use explicit loading. Otherwise there is no other way than requerying the <code>User</code> plus related data."}], "answers": [{"tags": [], "owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "is_accepted": true, "score": 3, "last_activity_date": 1567011186, "creation_date": 1567011186, "answer_id": 57696952, "question_id": 57696728, "link": "https://stackoverflow.com/questions/57696728/how-to-load-more-data-for-a-given-model-after-it-is-already-returned-by-ef/57696952#57696952", "title": "How to load more data for a given model after it is already returned by EF", "body": "<p>You can explicitly load the related entity like this:</p>\n\n<pre><code>context.Entry(user).Reference(u =&gt; u.SaveProfile).Load();\n//OR\ncontext.Entry(user).Reference(\"SaveProfile\").Load();\n</code></pre>\n\n<p>It will then be available on the existing user as:</p>\n\n<pre><code>var profile = user.SaveProfile;\n</code></pre>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 150, "user_id": 6120823, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PNAXvaOsh5s/AAAAAAAAAAI/AAAAAAAAATc/5b_5TeM3bBY/photo.jpg?sz=128", "display_name": "caneva20", "link": "https://stackoverflow.com/users/6120823/caneva20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 57696952, "answer_count": 1, "score": 1, "last_activity_date": 1567011186, "creation_date": 1567010239, "question_id": 57696728, "link": "https://stackoverflow.com/questions/57696728/how-to-load-more-data-for-a-given-model-after-it-is-already-returned-by-ef", "title": "How to load more data for a given model after it is already returned by EF", "body": "<p>I'm implementing a new feature for our server and as I've faced this 'issue' before I thought that EF Core may have something to help me with that.</p>\n\n<p>Basically, I have three models:</p>\n\n<pre><code>public class User {\n    public long Id { get; set; }\n\n    [Required] public CloudSaveProfile SaveProfile { get; set; }\n}\n</code></pre>\n\n<pre><code>public class CloudSaveProfile {\n    public long Id { get; set; }\n    public ICollection&lt;CloudSaveData&gt; Data { get; set; }\n}\n</code></pre>\n\n<pre><code>public class CloudSaveData {\n    public long Id { get; set; }\n    [Required] public CloudSaveProfile Profile { get; set; }\n    [Required] public string KeyName { get; set; }\n    [Required] public byte[] Data { get; set; }\n}\n</code></pre>\n\n<p>A Service class</p>\n\n<pre><code>public class CloudSaveService {\n    public CloudSaveProfile GetProfile(User user) {\n        if (user.SaveProfile != null) {\n            return user.SaveProfile;\n        }\n\n        //Query EF for the save profile\n\n        return user.SaveProfile;\n    }\n}\n</code></pre>\n\n<p>And lastly, a Controller that has API endpoints to call this service.\nIn the <code>User</code> model class there's a reference to <code>CloudSaveProfile</code>, when the controller calls the service it must pass the user and the data to be saved. In my vision, the controller doesn't have to know anything about how this service stores and retrieves the data, so the controller doesn't need to include <code>CloudSaveProfile</code> when loading the user, all the controller knows is that the service is asking for the user, and that's all. When this user reaches the service, the controller might have not included the profile and the service would need to load it by sending another query to EF.</p>\n\n<p>So, the question here is, is there a way to include the <code>SaveProfile</code> entity to the user without having to re-query for the whole user like so</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var newUser = _context.Users.Include(x =&gt; x.SaveProfile).SingleOrDefault(x =&gt; x == user);\n//OR \nvar newUser = _context.Users.Include(x =&gt; x.SaveProfile).SingleOrDefault(x =&gt; x.Id == user.Id);\n</code></pre>\n\n<p>And just a note: I'm NOT looking for a way to do Lazy loading on this property</p>\n"}, {"tags": ["c#", "iis", "routes", "asp.net-core-mvc"], "answers": [{"comments": [{"owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "reply_to_user": {"reputation": 1528, "user_id": 6052905, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/2fb610f290f4e89f428f2424be4767a6?s=128&d=identicon&r=PG&f=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/6052905/sunny"}, "edited": false, "score": 0, "creation_date": 1567129436, "post_id": 57701972, "comment_id": 101880539, "body": "Could you please post your asp.net core mvc&#39;s route config and the folder schema?"}, {"owner": {"reputation": 1528, "user_id": 6052905, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/2fb610f290f4e89f428f2424be4767a6?s=128&d=identicon&r=PG&f=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/6052905/sunny"}, "edited": false, "score": 0, "creation_date": 1567147369, "post_id": 57701972, "comment_id": 101884166, "body": "I don&#39;t have any definition rout in my startup.cs also ubload my startup.cs"}, {"owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "reply_to_user": {"reputation": 1528, "user_id": 6052905, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/2fb610f290f4e89f428f2424be4767a6?s=128&d=identicon&r=PG&f=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/6052905/sunny"}, "edited": false, "score": 0, "creation_date": 1567147680, "post_id": 57701972, "comment_id": 101884282, "body": "I found you don&#39;t add the http:// in the rewrite url, it will not rewrite to the new url. I suggest you could modify it and try again. Details see my update answer."}, {"owner": {"reputation": 1528, "user_id": 6052905, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/2fb610f290f4e89f428f2424be4767a6?s=128&d=identicon&r=PG&f=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/6052905/sunny"}, "edited": false, "score": 0, "creation_date": 1567165952, "post_id": 57701972, "comment_id": 101892550, "body": "I do it, but its not work, after that I create subdomain in IIs and create DNS for that and set name server but not working"}, {"owner": {"reputation": 1528, "user_id": 6052905, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/2fb610f290f4e89f428f2424be4767a6?s=128&d=identicon&r=PG&f=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/6052905/sunny"}, "edited": false, "score": 0, "creation_date": 1567543556, "post_id": 57701972, "comment_id": 101991973, "body": "Is that any way, I&#39;m waiting."}, {"owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "reply_to_user": {"reputation": 1528, "user_id": 6052905, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/2fb610f290f4e89f428f2424be4767a6?s=128&d=identicon&r=PG&f=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/6052905/sunny"}, "edited": false, "score": 0, "creation_date": 1567561251, "post_id": 57701972, "comment_id": 101995498, "body": "I suggest you could try to enable the fail request tracing to trouble why the url rewrite rule doesn&#39;t work. More details, you could refer to this <a href=\"https://docs.microsoft.com/en-us/iis/extensions/url-rewrite-module/using-failed-request-tracing-to-trace-rewrite-rules\" rel=\"nofollow noreferrer\">article</a>."}, {"owner": {"reputation": 1528, "user_id": 6052905, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/2fb610f290f4e89f428f2424be4767a6?s=128&d=identicon&r=PG&f=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/6052905/sunny"}, "edited": false, "score": 0, "creation_date": 1567621382, "post_id": 57701972, "comment_id": 102020976, "body": "I enable tracing, but get failed request on another request it&#39;s mean when I set request like admin.mywebsite.com i dont have any log in logFolder"}], "tags": [], "owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1567147605, "last_edit_date": 1567147605, "creation_date": 1567043504, "answer_id": 57701972, "question_id": 57696673, "link": "https://stackoverflow.com/questions/57696673/redirect-subdomain-to-area-in-mvc-core/57701972#57701972", "title": "Redirect subdomain to area in mvc core", "body": "<p>As far as I know, if you want to redirect all the request from admin.mysite.com to mysite.com/admin by using url rewrite.</p>\n\n<p>I suggest you could try below url rewrite rule:</p>\n\n<p>Notice: The match url part will not match the host url like <code>admin.mysite.com</code>. It will just match the pattern part of the url like <code>/admin/test</code>.</p>\n\n<pre><code>       &lt;rule name=\"Rewrite sub-domain to dir\"&gt;\n           &lt;match url=\".*\" /&gt;\n           &lt;conditions&gt;\n               &lt;add input=\"{HTTP_HOST}\" pattern=\"^admin\\.mysite\\.com$\" /&gt;\n           &lt;/conditions&gt;\n           &lt;action type=\"Rewrite\" url=\"http://example.com/admin/{R:0}\" /&gt;\n       &lt;/rule&gt;\n</code></pre>\n"}], "owner": {"reputation": 1528, "user_id": 6052905, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/2fb610f290f4e89f428f2424be4767a6?s=128&d=identicon&r=PG&f=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/6052905/sunny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 545, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1567621830, "creation_date": 1567009899, "last_edit_date": 1567621830, "question_id": 57696673, "link": "https://stackoverflow.com/questions/57696673/redirect-subdomain-to-area-in-mvc-core", "title": "Redirect subdomain to area in mvc core", "body": "<p>It's takes many time from my day,</p>\n\n<p>I have windows server 2016 as my server other side I develop my site in MVC core 2.2</p>\n\n<p>OK</p>\n\n<p>Try redirect form <strong>admin.mysite.com</strong> to <strong>mysite.com/admin</strong>\nwhen user write <strong>admin.mysite.com</strong> as url Redirect to <strong>mysite.com/admin</strong></p>\n\n<p>Test many ways: </p>\n\n<ol>\n<li><p>use re-write in IIS whis this pattern:\n<a href=\"https://stackoverflow.com/questions/40512403/area-and-subdomain-routing\">Area and subdomain routing</a></p>\n\n<pre><code>       &lt;rules&gt;\n           &lt;rule name=\"Rewrite sub-domain to dir\"&gt;\n               &lt;match url=\"^admin.*$\" /&gt;\n               &lt;conditions&gt;\n                   &lt;add input=\"{HTTP_HOST}\" pattern=\"^admin\\.mysite\\.com$\" /&gt;\n               &lt;/conditions&gt;\n               &lt;action type=\"Rewrite\" url=\"mysite.com/admin/{R:0}\" /&gt;\n           &lt;/rule&gt;\n       &lt;/rules&gt;\n   &lt;/rewrite&gt;\n</code></pre></li>\n<li><p>use this way\n<a href=\"https://www.azurecurve.co.uk/2011/12/how-to-rewrite-a-sub-domain-to-a-directory-in-iis/\" rel=\"nofollow noreferrer\">https://www.azurecurve.co.uk/2011/12/how-to-rewrite-a-sub-domain-to-a-directory-in-iis/</a><a href=\"https://www.azurecurve.co.uk/2011/12/how-to-rewrite-a-sub-domain-to-a-directory-in-iis/\" rel=\"nofollow noreferrer\">enter link description here</a></p></li>\n</ol>\n\n<pre><code>public class AreaRouter : MvcRouteHandler, IRouter\n     {\n   public new async Task RouteAsync(RouteContext context)\n   {\n       string url = context.HttpContext.Request.Headers[\"HOST\"]; \n       var splittedUrl = url.Split('.');\n\n       if (splittedUrl.Length &gt; 0 &amp;&amp; splittedUrl[0] == \"admin\")\n       {\n           context.RouteData.Values.Add(\"area\", \"Admin\");\n       }\n\n       await base.RouteAsync(context);\n    }\n   }\n</code></pre>\n\n<p>but OP ways not work</p>\n\n<p>UPDATE:</p>\n\n<pre><code>        // This method gets called by the runtime. Use this method to add services to the container.\n    public void ConfigureServices(IServiceCollection services)\n    {\n        //services.Configure&lt;SmtpConfig&gt;(options =&gt; Configuration.GetSection(\"SmtpConfig\").Bind(options));\n        //services.Configure&lt;AntiDosConfig&gt;(options =&gt; Configuration.GetSection(\"AntiDosConfig\").Bind(options));\n        services.Configure&lt;AntiXssConfig&gt;(options =&gt; Configuration.GetSection(\"AntiXssConfig\").Bind(options));\n        //services.AddDNTCommonWeb();\n        services.Configure&lt;CookiePolicyOptions&gt;(options =&gt;\n        {\n            // This lambda determines whether user consent for non-essential cookies is needed for a given request.\n            options.CheckConsentNeeded = context =&gt; true;\n            options.MinimumSameSitePolicy = SameSiteMode.None;\n        });\n\n\n\n         var connection = @\"Server=*.*.*.*;Database=...;Integrated Security=false;Initial Catalog=...;User ID=...;Password=...;\";\n        services.AddDbContext&lt;myContext&gt;(options =&gt;\n          options.UseSqlServer(connection));\n        services.AddSession();\n        services.AddDistributedMemoryCache();\n\n        services.AddIdentity&lt;ApplicationUser, IdentityRole&gt;()\n            .AddRoles&lt;IdentityRole&gt;()\n            .AddRoleManager&lt;RoleManager&lt;IdentityRole&gt;&gt;()\n            .AddDefaultTokenProviders()\n            .AddDefaultUI(UIFramework.Bootstrap4)\n         .AddEntityFrameworkStores&lt;myContext&gt;();\n\n\n\n\n        services.Configure&lt;IdentityOptions&gt;(options =&gt;\n        {\n            // Password settings.\n            options.Password.RequireDigit = true;\n            options.Password.RequireLowercase = true;\n            options.Password.RequireNonAlphanumeric = true;\n            options.Password.RequireUppercase = true;\n            options.Password.RequiredLength = 6;\n            options.Password.RequiredUniqueChars = 1;\n\n            // Lockout settings.\n            options.Lockout.DefaultLockoutTimeSpan = TimeSpan.FromMinutes(5);\n            options.Lockout.MaxFailedAccessAttempts = 5;\n            options.Lockout.AllowedForNewUsers = true;\n\n            // User settings.\n            options.User.AllowedUserNameCharacters =\n            \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._@+\";\n            options.User.RequireUniqueEmail = false;\n        });\n\n        services.ConfigureApplicationCookie(options =&gt;\n        {\n            // Cookie settings\n            options.Cookie.HttpOnly = true;\n            options.ExpireTimeSpan = TimeSpan.FromMinutes(20);\n\n            options.LoginPath = \"/Identity/Account/Login\";\n            options.AccessDeniedPath = \"/Identity/Account/AccessDenied\";\n            options.SlidingExpiration = true;\n        });\n\n        services.AddElmah(options =&gt; options.Path = \"elm\");\n\n\n\n\n\n        services.AddScoped&lt;IPostService, PostService&gt;();\n        services.AddScoped&lt;IContactRepository, ContactReposiory&gt;();\n        services.AddScoped&lt;ICounterRepository, CounterRepository&gt;();\n        services.AddScoped&lt;ICommentRepository, CommentRepository&gt;();\n        services.AddScoped&lt;IAntiXssService, AntiXssService&gt;();\n        services.AddScoped&lt;IHtmlReaderService, HtmlReaderService&gt;();\n        services.AddScoped&lt;Model.Counter&gt;();\n        services.AddMvc()\n            .AddRazorPagesOptions(options =&gt;\n            {\n              //  options.Conventions.AuthorizePage(\"/Contact\");\n                options.Conventions.AuthorizeAreaFolder(\"admin\",\"/post\");\n                options.Conventions.AuthorizeAreaFolder(\"admin\",\"/\");\n                options.Conventions.AuthorizeAreaPage(\"Identity\", \"/Account/register\");\n                //options.Conventions.AllowAnonymousToPage(\"/Private/PublicPage\");\n                //options.Conventions.AllowAnonymousToFolder(\"/Private/PublicPages\");\n            })\n            .SetCompatibilityVersion(CompatibilityVersion.Version_2_2);\n    }\n\n    // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n    public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n    {\n        if (env.IsDevelopment())\n        {\n            app.UseDeveloperExceptionPage();\n        }\n        else\n        {\n            app.UseExceptionHandler(\"/Error\");\n            // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts.\n            app.UseHsts();\n        }\n        //app.UseAntiDos(); \n\n        app.UseSession();\n        app.UseHttpsRedirection();\n        app.UseStaticFiles();\n        app.UseCookiePolicy();\n        app.UseAuthentication();\n        app.UseMiddleware(typeof(VisitorCounterMiddleware));\n        app.UseMvc();\n    }\n</code></pre>\n\n<p>for tracing request to IIS I enabled it but dont get any error on request for like admin.mysite.com, , i got error but not related to request like this</p>\n\n<pre><code>&lt;!-- saved from url=(0014)about:internet --&gt;\n&lt;failedRequest url=\"http://mysitte.com:80/PostDetails/Post/102/index.html\"\n           siteId=\"12\"\n           appPoolId=\"mysitte.com\"\n           processId=\"3424\"\n           verb=\"GET\"\n           remoteUserName=\"\"\n           userName=\"\"\n           tokenUserName=\"NT AUTHORITY\\IUSR\"\n           authenticationType=\"anonymous\"\n           activityId=\"{80000027-0000-FF00-B63F-84710C7967BB}\"\n           failureReason=\"TIME_TAKEN\"\n           statusCode=\"200\"\n           triggerStatusCode=\"0\"\n           timeTaken=\"1062\"\n           xmlns:freb=\"http://schemas.microsoft.com/win/2006/06/iis/freb\"\n           &gt;\n</code></pre>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 3, "user_id": 11391354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8rOF1Gk6FgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf15kceNaku2Blas1adaqg14Qlm0Q/mo/photo.jpg?sz=128", "display_name": "DoggoDev", "link": "https://stackoverflow.com/users/11391354/doggodev"}, "reply_to_user": {"reputation": 408521, "user_id": 284240, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/01d6005ebf89c14de87a62add488aaad?s=128&d=identicon&r=PG", "display_name": "Tim Schmelter", "link": "https://stackoverflow.com/users/284240/tim-schmelter"}, "edited": false, "score": 0, "creation_date": 1567010839, "post_id": 57696620, "comment_id": 101837953, "body": "@TimSchmelter I haven&#39;t really written anything but I&#39;ve been looking online for a solution. I haven&#39;t been programming for too long so I&#39;m not too familiar with StreamReader or File.ReadAllLines so that&#39;s why I&#39;m asking."}, {"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "edited": false, "score": 0, "creation_date": 1567015138, "post_id": 57696620, "comment_id": 101839741, "body": "It would seem that you have added a <i>delimiter</i> in the form of a line that contains only <code>&#47;&#47;Story X</code>. You haven&#39;t explicitly said so, but it that your strategy for determining what the boundary between stories is?"}, {"owner": {"reputation": 3, "user_id": 11391354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8rOF1Gk6FgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf15kceNaku2Blas1adaqg14Qlm0Q/mo/photo.jpg?sz=128", "display_name": "DoggoDev", "link": "https://stackoverflow.com/users/11391354/doggodev"}, "reply_to_user": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "edited": false, "score": 0, "creation_date": 1567015346, "post_id": 57696620, "comment_id": 101839798, "body": "@Wyck Yes, those help me find the stories if I&#39;m editing them but could also be used to solve my problem"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11391354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8rOF1Gk6FgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf15kceNaku2Blas1adaqg14Qlm0Q/mo/photo.jpg?sz=128", "display_name": "DoggoDev", "link": "https://stackoverflow.com/users/11391354/doggodev"}, "edited": false, "score": 0, "creation_date": 1567010969, "post_id": 57696738, "comment_id": 101838006, "body": "Thanks, this seems like it solves my problem. But would this still be fast if there are 3000+ lines?"}, {"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "reply_to_user": {"reputation": 3, "user_id": 11391354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8rOF1Gk6FgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf15kceNaku2Blas1adaqg14Qlm0Q/mo/photo.jpg?sz=128", "display_name": "DoggoDev", "link": "https://stackoverflow.com/users/11391354/doggodev"}, "edited": false, "score": 0, "creation_date": 1567011323, "post_id": 57696738, "comment_id": 101838142, "body": "It is as fast as it can. Reading files is always bit slow compared to in-memory operations. If you want to speed this up, you would have to store each story in its own record in a database table and put an index on the story title. But you won&#39;t get a better performance with &lt; 1000 stories, as index seeks start to have an advantage over table scans only if the number of records is big enough."}], "tags": [], "owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "is_accepted": true, "score": 0, "last_activity_date": 1567011705, "last_edit_date": 1567011705, "creation_date": 1567010278, "answer_id": 57696738, "question_id": 57696620, "link": "https://stackoverflow.com/questions/57696620/how-to-read-from-line-x-to-line-y-using-streamreader/57696738#57696738", "title": "How to read from line x to line y using StreamReader", "body": "<p>The static <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file?view=netframework-4.8\" rel=\"nofollow noreferrer\">File Class</a> in the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io?view=netframework-4.8\" rel=\"nofollow noreferrer\">System.IO Namespace</a> has a lot of handy methods to process files. The <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file.readlines?view=netframework-4.8\" rel=\"nofollow noreferrer\">File.ReadLines Method</a> will save memory:</p>\n\n<pre><code>public static System.Collections.Generic.IEnumerable&lt;string&gt; ReadLines (string path);\n</code></pre>\n\n<p>The point is that it reads the file line by line, keeping only the current line in memory (plus the current file buffer, but not the whole file).</p>\n\n<p>Using some LINQ, you can get the right story with</p>\n\n<pre><code>string storyTitle = \"//Story A\";\nvar story = String.Join(Environment.NewLine,\n    File.ReadLines(theFile)\n    .SkipWhile(s =&gt; s != storyTitle)\n    .Skip(1) // Skip the current title\n    .TakeWhile(s =&gt; !s.StartsWith(\"//\")) // Next story title\n);\n</code></pre>\n\n<p>We must skip the current story title with <code>.Skip(1)</code>, otherwise <code>.TakeWhile</code> immediately stops reading lines.</p>\n"}], "owner": {"reputation": 3, "user_id": 11391354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8rOF1Gk6FgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf15kceNaku2Blas1adaqg14Qlm0Q/mo/photo.jpg?sz=128", "display_name": "DoggoDev", "link": "https://stackoverflow.com/users/11391354/doggodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 57696738, "answer_count": 1, "score": 0, "last_activity_date": 1567018669, "creation_date": 1567009627, "last_edit_date": 1567018669, "question_id": 57696620, "link": "https://stackoverflow.com/questions/57696620/how-to-read-from-line-x-to-line-y-using-streamreader", "title": "How to read from line x to line y using StreamReader", "body": "<p>I have a text file containing a lot of short stories spread over multiple lines. I want to get one story at a time and convert it to a string.</p>\n\n<p><strong>Example:</strong> </p>\n\n<pre><code>//Story A\nAaaa AAA aaaaa AAA\nAaa A A aaaa AA aaa\nA Aaaa AAA aaaaa A A\n\n//Story B\nBBB b BBb BB bbb BB\nBBB bb bb bb BB BB\nBB bbb BBBB bbbb\n</code></pre>\n\n<p><strong>How can I get all lines of Story A and convert it to a string without having to load Story B?</strong> (There are going to be many other stories so loading them all isn't an option as it will occupy a lot of RAM)</p>\n"}, {"tags": ["c#", "caliburn.micro"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 2162802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80478ea4a077d57df5bc26f88e0a4184?s=128&d=identicon&r=PG", "display_name": "ztorstri", "link": "https://stackoverflow.com/users/2162802/ztorstri"}, "edited": false, "score": 0, "creation_date": 1567177492, "post_id": 57719051, "comment_id": 101898704, "body": "This would work, but isn&#39;t quite what I&#39;m looking for. The thing is, the actions are unique to the view models. Putting them in a base class just moves them from Session to a different class (albeit to a class that actually has knowledge of the guards via the virtuals); it doesn&#39;t solve having to know about all the places it is used, which is exactly the opposite of how a class should work (the class defines how it can be used, but doesn&#39;t care where it is used)"}], "tags": [], "owner": {"reputation": 15446, "user_id": 7299782, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nNfiq.png?s=128&g=1", "display_name": "Anu Viswan", "link": "https://stackoverflow.com/users/7299782/anu-viswan"}, "is_accepted": false, "score": 0, "last_activity_date": 1567124243, "creation_date": 1567124243, "answer_id": 57719051, "question_id": 57696583, "link": "https://stackoverflow.com/questions/57696583/how-to-notify-all-guard-methods-when-global-changes/57719051#57719051", "title": "How to notify all guard methods when global changes", "body": "<p>One possible solution would be to introduce a base ViewModel, which has the guard methods (virtual). For Example,</p>\n\n<pre><code>public class ViewModelBase:Screen\n{\n    private SessionInfo _sessionInfo;\n    public ViewModelBase(SessionInfo sessionInfo)\n    {\n        _sessionInfo = sessionInfo;\n    }\n\n    public void NotifyGuardMethods()\n    {\n        NotifyOfPropertyChange(nameof(CanTakeAction));\n    }\n    public virtual bool CanTakeAction { get; set; } = false;\n}\n</code></pre>\n\n<p>For all the ViewModels that needs to be notified by the change in Session, you could now derieve from the ViewModelBase.</p>\n\n<pre><code>public class ShellViewModel:ViewModelBase\n{\n        public override bool CanTakeAction { get=&gt;//its own logic; set=&gt;//its own logic; };\n}\n</code></pre>\n\n<p>You could now introduce Events to the ViewModelBase, which could use the NotifyGuardMethods defined in the base class to notify all other view models. This ensures the messsy Events part would be restricted to one class alone (base view model).</p>\n"}], "owner": {"reputation": 139, "user_id": 2162802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80478ea4a077d57df5bc26f88e0a4184?s=128&d=identicon&r=PG", "display_name": "ztorstri", "link": "https://stackoverflow.com/users/2162802/ztorstri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567124243, "creation_date": 1567009427, "question_id": 57696583, "link": "https://stackoverflow.com/questions/57696583/how-to-notify-all-guard-methods-when-global-changes", "title": "How to notify all guard methods when global changes", "body": "<p>Often in my applications built with Caliburn Micro I have a need to store some global data; this could be app specific config, authentication properties, etc. I generally put them in a class called \"Session\" and inject that via constructor injection so that every view model has a reference to a single instance of Session.</p>\n\n<p>I found a case where I wanted a guard method on two different view models to be linked to a Session variable; the issue is guard methods are generally notified of changes in the setter of the changed variable. Since it's a global, it doesn't know what depends on it. (It occurs to me that this pattern of variables being aware of what guard is hooked into them is bad, but when it's all in the same ViewModel it doesn't matter much.)</p>\n\n<p>I could throw an event, but that's messy and a lot of work for something that should be simple.</p>\n\n<p>I could try to identify every spot where it may have been updated and manually notify, but that's error prone.</p>\n\n<pre><code>public class MyViewModel: Screen{\n\n  public MyViewModel(SessionInfo session){\n    Session = session;\n  }\n\n  public CanTakeAction { get { return !string.isNullOrWhitespace(Session.SomeProperty); } }\n\n}\n\npublic class SessionInfo {\n\n  public SessionInfo(){}\n\n  public string SomeProperty { get; set; }\n\n  // this is where I would normally notify a guard method, but this is not going to work\n  NotifyOfPropertyChange(() =&gt; CanTakeAction); // except it doesn't know about CanTakeAction\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "entity-framework-core", "asp.net-core-webapi"], "comments": [{"owner": {"reputation": 899, "user_id": 6396354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MPqOG.jpg?s=128&g=1", "display_name": "Morasiu", "link": "https://stackoverflow.com/users/6396354/morasiu"}, "edited": false, "score": 0, "creation_date": 1567010433, "post_id": 57696575, "comment_id": 101837797, "body": "Is it going to be a browser game or you are just making WEB API server for your game?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3456014"}, "reply_to_user": {"reputation": 899, "user_id": 6396354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MPqOG.jpg?s=128&g=1", "display_name": "Morasiu", "link": "https://stackoverflow.com/users/6396354/morasiu"}, "edited": false, "score": 2, "creation_date": 1567011036, "post_id": 57696575, "comment_id": 101838027, "body": "If the answer to @Morasiu&#39;s question is a Web API then a different approach is to use tools to scaffold the repetitive bits. The dotnet <code>aspnet-codegenerator </code> tool can create models and controllers with the tedious GET/PUT/POST in place as a starting point. See <a href=\"https://mattmillican.com/blog/aspnetcore-controller-scaffolding\" rel=\"nofollow noreferrer\">mattmillican.com/blog/aspnetcore-controller-scaffolding</a>"}, {"owner": {"reputation": 3626, "user_id": 5519026, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--zl-i4iGzJc/AAAAAAAAAAI/AAAAAAAAAV8/_uUTZXA533A/photo.jpg?sz=128", "display_name": "LazZiya", "link": "https://stackoverflow.com/users/5519026/lazziya"}, "edited": false, "score": 0, "creation_date": 1567053380, "post_id": 57696575, "comment_id": 101849313, "body": "nothing wrong in the approach in the similar question that you already mentioned, I use same approach in my web api projects and it is a real time saver"}, {"owner": {"reputation": 5207, "user_id": 880874, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DsNOB.jpg?s=128&g=1", "display_name": "SkyeBoniwell", "link": "https://stackoverflow.com/users/880874/skyeboniwell"}, "reply_to_user": {"reputation": 3626, "user_id": 5519026, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--zl-i4iGzJc/AAAAAAAAAAI/AAAAAAAAAV8/_uUTZXA533A/photo.jpg?sz=128", "display_name": "LazZiya", "link": "https://stackoverflow.com/users/5519026/lazziya"}, "edited": false, "score": 0, "creation_date": 1567087215, "post_id": 57696575, "comment_id": 101865936, "body": "@LazZiya may I ask how you did it?  I&#39;m still trying to figure it out even after reading the question link I included.  Thanks!"}, {"owner": {"reputation": 3626, "user_id": 5519026, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--zl-i4iGzJc/AAAAAAAAAAI/AAAAAAAAAV8/_uUTZXA533A/photo.jpg?sz=128", "display_name": "LazZiya", "link": "https://stackoverflow.com/users/5519026/lazziya"}, "edited": false, "score": 0, "creation_date": 1567150677, "post_id": 57696575, "comment_id": 101885595, "body": "@SkyeBoniwell I will post a sample during the weekend :)"}], "answers": [{"comments": [{"owner": {"reputation": 5207, "user_id": 880874, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DsNOB.jpg?s=128&g=1", "display_name": "SkyeBoniwell", "link": "https://stackoverflow.com/users/880874/skyeboniwell"}, "edited": false, "score": 0, "creation_date": 1567087261, "post_id": 57696812, "comment_id": 101865962, "body": "Just curious, but what does Convert.ChangeType do?  Thanks!"}, {"owner": {"reputation": 9550, "user_id": 625594, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/IXgxU.jpg?s=128&g=1", "display_name": "Sergey Kudriavtsev", "link": "https://stackoverflow.com/users/625594/sergey-kudriavtsev"}, "reply_to_user": {"reputation": 5207, "user_id": 880874, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DsNOB.jpg?s=128&g=1", "display_name": "SkyeBoniwell", "link": "https://stackoverflow.com/users/880874/skyeboniwell"}, "edited": false, "score": 1, "creation_date": 1567089957, "post_id": 57696812, "comment_id": 101867600, "body": "@SkyeBoniwell Well, it does what the name says - it creates a new object of a given type and tries to assign it the value of the first parameter. The documentation is available here: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.convert.changetype?view=netcore-2.2\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}], "tags": [], "owner": {"reputation": 9550, "user_id": 625594, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/IXgxU.jpg?s=128&g=1", "display_name": "Sergey Kudriavtsev", "link": "https://stackoverflow.com/users/625594/sergey-kudriavtsev"}, "is_accepted": false, "score": 1, "last_activity_date": 1567010580, "creation_date": 1567010580, "answer_id": 57696812, "question_id": 57696575, "link": "https://stackoverflow.com/questions/57696575/generic-methods-for-api-controller/57696812#57696812", "title": "generic methods for API controller", "body": "<p>I guess you can pass over the name of the type of the parameter and do something like this (not tested):</p>\n\n<pre><code>// PUT: api/AnyLists/5\n[HttpPut(\"{id}\")]\npublic async Task&lt;IActionResult&gt; PutAnyList(string id, object anyList, string anyListType)\n{\n    var anyListObject = Convert.ChangeType(anyList, Type.GetType(anyListType)));\n    if (id != anyListObject.AnyId)\n    {\n        return BadRequest();\n    }\n\n    _context.Entry(anyListObject).State = EntityState.Modified;\n\n    try\n    {\n        await _context.SaveChangesAsync();\n    }\n    catch (DbUpdateConcurrencyException)\n    {\n        // Whatever error handling you need\n    }\n    return NoContent();\n}\n</code></pre>\n\n<p>However, I wouldn't recommend to use this in production code. What will likely happen is that you will need to create quite a lot of exceptions for different types in the end - and you'll end up with the code that is much more convoluted and hard to support than if you just had separate methods per type.</p>\n\n<p>Also, I'm not sure it will be easy to test this.</p>\n"}, {"tags": [], "owner": {"reputation": 3626, "user_id": 5519026, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--zl-i4iGzJc/AAAAAAAAAAI/AAAAAAAAAV8/_uUTZXA533A/photo.jpg?sz=128", "display_name": "LazZiya", "link": "https://stackoverflow.com/users/5519026/lazziya"}, "is_accepted": false, "score": 2, "last_activity_date": 1567356223, "last_edit_date": 1567356223, "creation_date": 1567346098, "answer_id": 57746572, "question_id": 57696575, "link": "https://stackoverflow.com/questions/57696575/generic-methods-for-api-controller/57746572#57746572", "title": "generic methods for API controller", "body": "<p>Before we create the generic controller, it is worth to mention that the structure model of your entities is so important to easily or hardly build the generic controller.</p>\n\n<p>For example you could have some models with int id and others with string id, so we need to have a common base for both types.</p>\n\n<p>Start by creating the common interface for Id property to handle int or string Ids in the generic interface:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public interface IHasId&lt;TKey&gt; \n    where TKey : IEquatable&lt;TKey&gt;\n{\n    TKey Id { get; set; }\n}\n</code></pre>\n\n<p>Another thing to consider is ordering the entities, when querying for a list of entities we need to sort them to get the right paged entities. So, we can create another interface to specify the sorting property e.g. Name.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public interface IOrdered\n{\n    string Name { get; set; }\n}\n</code></pre>\n\n<p>Our objects must implement the common interfaces like below:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class Player : IHasId&lt;string&gt;, IOrdered\n{\n    public string Id { get; set; }\n    public string Name { get; set; }\n    ...\n}\n\npublic class Treasure : IHasId&lt;int&gt;, IOrdered\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    ...\n}\n</code></pre>\n\n<p>Now create a generic base api controller, make sure to mark the methods as virtual so we can override them in the inherited api controllers if necessary.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[Route(\"api/[controller]\")]\n[ApiController]\npublic class GenericBaseController&lt;T, TKey&gt; : ControllerBase\n    where T : class, IHasId&lt;TKey&gt;, IOrdered\n    where TKey : IEquatable&lt;TKey&gt;\n{\n    private readonly ApplicationDbContext _context;\n\n    public GenericBaseController(ApplicationDbContext context)\n    {\n        _context = context;\n    }\n\n    // make methods as virtual, \n    // so they can be overridden in inherited api controllers\n    [HttpGet(\"{id}\")]\n    public virtual T Get(TKey id)\n    {\n        return _context.Set&lt;T&gt;().Find(id);\n    }\n\n    [HttpPost]\n    public virtual bool Post([FromBody] T value)\n    {\n        _context.Set&lt;T&gt;().Add(value);\n        return _context.SaveChanges() &gt; 0;\n    }\n\n    [HttpPut(\"{id}\")]\n    public virtual bool Put(TKey id)\n    {\n        var entity = _context.Set&lt;T&gt;().AsNoTracking().SingleOrDefault(x =&gt; x.Id.Equals(id));\n        if (entity != null)\n        {\n            _context.Entry&lt;T&gt;(value).State = EntityState.Modified;\n            return _context.SaveChanges() &gt; 0;\n        }\n\n        return false;\n    }\n\n    [HttpDelete(\"{id}\")]\n    public virtual bool Delete(TKey id)\n    {\n        var entity = _context.Set&lt;T&gt;().Find(id);\n        if (entity != null)\n        {\n            _context.Entry&lt;T&gt;(entity).State = EntityState.Deleted;\n            return _context.SaveChanges() &gt; 0;\n        }\n\n        return false;\n    }\n\n    [HttpGet(\"list/{pageNo}-{pageSize}\")]\n    public virtual (IEnumerable&lt;T&gt;, int) Get(int pageNo, int pageSize)\n    {\n        var query = _context.Set&lt;T&gt;();\n\n        var totalRecords = query.Count();\n        var items = query.OrderBy(x =&gt; x.Name)\n            .Skip((pageNo - 1) * pageSize)\n            .Take(pageSize)\n            .AsEnumerable();\n\n        return (items, totalRecords);\n    }\n}\n</code></pre>\n\n<p>The rest is easy, just create api controllers that inherits from the base generic controller:</p>\n\n<p>PlayersController :</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[Route(\"api/[controller]\")]\n[ApiController]\npublic class PlayersController : GenericBaseController&lt;Player, string&gt;\n{\n    public PlayersController(ApplicationDbContext context) : base(context)\n    {\n\n    }\n}\n</code></pre>\n\n<p>TreasuresController :</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[Route(\"api/[controller]\")]\n[ApiController]\npublic class TreasuresController : GenericBaseController&lt;Treasure, int&gt;\n{\n    public TreasuresController(ApplicationDbContext context) : base(context)\n    {\n\n    }\n}\n</code></pre>\n\n<p>you don't have to create any methods, but you are still able to override the base methods since we marked them as virtual e.g.:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[Route(\"api/[controller]\")]\n[ApiController]\npublic class TreasuresController : GenericBaseController&lt;Treasure, int&gt;\n{\n    public TreasuresController(ApplicationDbContext context) : base(context)\n    {\n        public ovedrride Treasure Get(int id)\n        {\n            // custom logic \u2026.\n\n            return base.Get(id);\n        }\n    }\n}\n</code></pre>\n\n<p>You can download a sample project from GitHub: <a href=\"https://github.com/LazZiya/GenericApiSample\" rel=\"nofollow noreferrer\">https://github.com/LazZiya/GenericApiSample</a></p>\n"}], "owner": {"reputation": 5207, "user_id": 880874, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DsNOB.jpg?s=128&g=1", "display_name": "SkyeBoniwell", "link": "https://stackoverflow.com/users/880874/skyeboniwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1567356223, "creation_date": 1567009376, "last_edit_date": 1567009968, "question_id": 57696575, "link": "https://stackoverflow.com/questions/57696575/generic-methods-for-api-controller", "title": "generic methods for API controller", "body": "<p>I'm writing an API for my game and I'm starting to realize that the amount of GET, POST, and PUT API methods can really add up.</p>\n\n<p>So right now, I'm trying to make it more generic so that I don't have to write a separate method like GetMonsterList, GetTreasureList, GetPlayerInfo, etc.</p>\n\n<p>But I'm not quite sure how to go about doing that.</p>\n\n<p>Here is a non-generic PUT method that I currently have.</p>\n\n<pre><code>    // PUT: api/MonsterLists/5\n    [HttpPut(\"{id}\")]\n    public async Task&lt;IActionResult&gt; PutMonsterList(string id, MonsterList monsterList)\n    {\n        if (id != monsterList.MonsterId)\n        {\n            return BadRequest();\n        }\n\n        _context.Entry(monsterList).State = EntityState.Modified;\n\n        try\n        {\n            await _context.SaveChangesAsync();\n        }\n        catch (DbUpdateConcurrencyException)\n        {\n            if (!MonsterListExists(id))\n            {\n                return NotFound();\n            }\n            else\n            {\n                throw;\n            }\n        }\n\n        return NoContent();\n    }\n</code></pre>\n\n<p>And here is my attempt at outlining a generic method:</p>\n\n<pre><code>    // PUT: api/AnyLists/5\n    [HttpPut(\"{id}\")]\n    public async Task&lt;IActionResult&gt; PutAnyList(string id, AnyList anyList)\n    {\n        if (id != anyList.AnyId)\n        {\n            return BadRequest();\n        }\n\n        _context.Entry(anyList).State = EntityState.Modified;\n\n        return NoContent();\n    }\n</code></pre>\n\n<p>My problem that I don't understand is, how do I pass in a model to a generic control like this?  Like if I have a model for MonsterList, TreasureList, PlayerInfo, WeaponList, etc.  </p>\n\n<p>How could I use one generic method for all of them?</p>\n\n<p>I did find one similiar question here, <a href=\"https://stackoverflow.com/questions/12077361/generic-web-api-controller-to-support-any-model\">Generic Web Api controller to support any model</a> , but the answer seemed to imply that this isn't a good idea.</p>\n\n<p>Is that possible?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "wcf", "serialization", "deserialization"], "comments": [{"owner": {"reputation": 79, "user_id": 11549281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e99b933d1926922e80f03eb24def397?s=128&d=identicon&r=PG&f=1", "display_name": "TheSacredKiller", "link": "https://stackoverflow.com/users/11549281/thesacredkiller"}, "edited": false, "score": 0, "creation_date": 1567009353, "post_id": 57696551, "comment_id": 101837375, "body": "could this part be the reason of the error as &lt;ns1:Delay_End_time/&gt; misses out the start tag?   &lt;ns1:Delay&gt;                      &lt;ns1:Delay_Start_Time&gt;2019-08-27T21:15:38&lt;/ns1:Delay_Start_T&zwnj;&#8203;ime&gt;                      &lt;ns1:Delay_End_time/&gt;                      &lt;ns1:Delay_Code&gt;TERMINAL_READINESS&lt;/ns1:Delay_Code&gt;                      &lt;ns1:Delay_Type&gt;INWARD_DELAY&lt;/ns1:Delay_Type&gt;                      &lt;ns1:CreatedBy&gt;Sammy&lt;/ns1:CreatedBy&gt;                      &lt;ns1:Originator&gt;Vessel&lt;/ns1:Originator&gt;                   &lt;/ns1:Delay&gt;"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567009501, "post_id": 57696551, "comment_id": 101837430, "body": "That comment should be part of the question body."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1567009838, "post_id": 57696551, "comment_id": 101837564, "body": "That&#39;s not missing an end tag. That&#39;s XML shorthand for an empty element, called a self-closing tag, equivalent to <code>&lt;ns1:Delay_End_time&gt;&lt;&#47;ns1:Delay_End_time&gt;</code>. It may actually be part of the problem, though... It means an empty string, not <code>null</code>, so it may very well be failing to parse that. <code>null</code> is usually specified by <code>xsi:nil=&quot;true&quot;</code> on the (empty) tag or by omitting the tag."}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1567010328, "post_id": 57696551, "comment_id": 101837765, "body": "It would help to see the object to which you are deserializing."}], "owner": {"reputation": 79, "user_id": 11549281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e99b933d1926922e80f03eb24def397?s=128&d=identicon&r=PG&f=1", "display_name": "TheSacredKiller", "link": "https://stackoverflow.com/users/11549281/thesacredkiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567009278, "creation_date": 1567009278, "question_id": 57696551, "link": "https://stackoverflow.com/questions/57696551/server-raised-fault-error-in-deserializing-body-of-request-message-for-operati", "title": "Server raised fault: &#39;Error in deserializing body of request message for operation &#39;Publish&#39;", "body": "<p>I am getting the below error while deserializing a XML and the error says-\n2019-08-27 18:49:01 ERROR [+0000013560 SchedulerWorker-32]: Publish to xxx failed for Vessel loading for vessel: 1234, \nerror is: Server raised fault: 'Error in deserializing body of request message for operation 'Publish'.'</p>\n\n<p>I tried to use WCFTESTCLIENT to send some data and it worked fine and then again i checked the xml which was giving the error.</p>\n\n<p>There is a date field which do not have a open tag and can it be the cause of the issue?</p>\n\n<p>Attached the xml along with the error.</p>\n\n<pre><code>2019-08-27 18:49:01 ERROR [+0000013560 SchedulerWorker-32]: \n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;SOAP-ENV:Envelope xmlns:ns0=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ns1=\"http://www.thy.com/enterprise/integration/framework/services\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n   &lt;SOAP-ENV:Header/&gt;\n   &lt;ns0:Body&gt;\n      &lt;ns1:Publish&gt;\n         &lt;ns1:message&gt;\n            &lt;ns1:CargoRelated&gt;\n               &lt;ns1:Date&gt;2019-08-27T21:17:39.240000-06:00&lt;/ns1:Date&gt;\n               &lt;ns1:Cargo_Number&gt;abc-19-0021-TOT&lt;/ns1:Cargo_Number&gt;\n               &lt;ns1:CreatedBy&gt;Sammy&lt;/ns1:CreatedBy&gt;\n            &lt;/ns1:CargoRelated&gt;\n            &lt;ns1:CargoTimeSheet&gt;\n               &lt;ns1:Activities&gt;\n                  &lt;ns1:Activity&gt;\n                     &lt;ns1:Activity_Code&gt;01_LNG_PI_CLUB&lt;/ns1:Activity_Code&gt;\n                     &lt;ns1:Activity_Timestamp&gt;2019-08-27T20:55:20&lt;/ns1:Activity_Timestamp&gt;\n                     &lt;ns1:CreatedBy&gt;Sammy&lt;/ns1:CreatedBy&gt;\n                  &lt;/ns1:Activity&gt;\n                  &lt;ns1:Activity&gt;\n                     &lt;ns1:Activity_Code&gt;02_LNG_AEOSP&lt;/ns1:Activity_Code&gt;\n                     &lt;ns1:Activity_Timestamp&gt;2019-08-27T20:55:11&lt;/ns1:Activity_Timestamp&gt;\n                     &lt;ns1:CreatedBy&gt;Sammy&lt;/ns1:CreatedBy&gt;\n                  &lt;/ns1:Activity&gt;\n               &lt;/ns1:Activities&gt;\n            &lt;/ns1:CargoTimeSheet&gt;\n            &lt;ns1:CargoDelayRelated&gt;\n               &lt;ns1:Delays&gt;\n                  &lt;ns1:Delay&gt;\n                     &lt;ns1:Delay_Start_Time&gt;2019-08-27T21:15:38&lt;/ns1:Delay_Start_Time&gt;\n                     &lt;ns1:Delay_End_time/&gt;\n                     &lt;ns1:Delay_Code&gt;TERMINAL_READINESS&lt;/ns1:Delay_Code&gt;\n                     &lt;ns1:Delay_Type&gt;INWARD_DELAY&lt;/ns1:Delay_Type&gt;\n                     &lt;ns1:CreatedBy&gt;Sammy&lt;/ns1:CreatedBy&gt;\n                     &lt;ns1:Originator&gt;Vessel&lt;/ns1:Originator&gt;\n                  &lt;/ns1:Delay&gt;\n                  &lt;ns1:Delay&gt;\n                     &lt;ns1:Delay_Start_Time&gt;2019-08-27T21:15:54&lt;/ns1:Delay_Start_Time&gt;\n                     &lt;ns1:Delay_End_time&gt;2019-08-27T21:15:56&lt;/ns1:Delay_End_time&gt;\n                     &lt;ns1:Delay_Code&gt;OTHER&lt;/ns1:Delay_Code&gt;\n                     &lt;ns1:Delay_Type&gt;OUTWARD_DELAY&lt;/ns1:Delay_Type&gt;\n                     &lt;ns1:CreatedBy&gt;Sammy&lt;/ns1:CreatedBy&gt;\n                     &lt;ns1:Originator&gt;Vessel&lt;/ns1:Originator&gt;\n                  &lt;/ns1:Delay&gt;\n               &lt;/ns1:Delays&gt;\n            &lt;/ns1:CargoDelayRelated&gt;\n         &lt;/ns1:message&gt;\n      &lt;/ns1:Publish&gt;\n   &lt;/ns0:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n2019-08-27 18:49:01 ERROR [+0000013560 SchedulerWorker-32]: Publish to xxx failed for Vessel loading for vessel: 1234, \nerror is: Server raised fault: 'Error in deserializing body of request message for operation 'Publish'.'\n2019-08-27 18:49:01 INFO [+0000013560 SchedulerWorker-32]: Traceback (most recent call last):\n  File \"j5_CLNG_Project\\ProductMovements\\VesselLoadingService.py\", line 233, in publish\n  File \"j5_CLNG_Project\\ProductMovements\\WebserviceTools.py\", line 209, in publish\n  File \"C:\\Program Files (x86)\\j5\\framework\\python\\lib\\site-packages\\suds\\client.py\", line 542, in __call__\n  File \"C:\\Program Files (x86)\\j5\\framework\\python\\lib\\site-packages\\suds\\client.py\", line 602, in invoke\n  File \"C:\\Program Files (x86)\\j5\\framework\\python\\lib\\site-packages\\suds\\client.py\", line 649, in send\n  File \"C:\\Program Files (x86)\\j5\\framework\\python\\lib\\site-packages\\suds\\client.py\", line 702, in failed\n  File \"C:\\Program Files (x86)\\j5\\framework\\python\\lib\\site-packages\\suds\\bindings\\binding.py\", line 265, in get_fault\nWebFault: Server raised fault: 'Error in deserializing body of request message for operation 'Publish'.'\n</code></pre>\n"}, {"tags": ["c#", "xml", "linq"], "comments": [{"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 3, "creation_date": 1567009762, "post_id": 57696523, "comment_id": 101837533, "body": "Just a note.  As far as I know, there&#39;s nothing in the XML specs that dictates attribute order (there&#39;s a canonical/normative order (alphabetical by name)), but that&#39;s rarely used (and isn&#39;t used in your document)).  Picking out attributes by order will eventually bite you.  Have you considered using the elements <code>Attributes</code> collection?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567019839, "post_id": 57696523, "comment_id": 101841508, "body": "you need Decendants instead of Elements.  You need an attribute &quot;value&quot;  :  var status = birthdates.Descendants().Where(e =&gt; e.Name.LocalName == &quot;BRTHDATE&quot;).Select(x =&gt; (string)x.Attribute(&quot;value&quot;)).FirstOrDefault();"}], "answers": [{"comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567019616, "post_id": 57696722, "comment_id": 101841434, "body": "The OP want Linq and this is not linq."}], "tags": [], "owner": {"reputation": 16, "user_id": 8083135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z816k.jpg?s=128&g=1", "display_name": "Md. Touhidul Alam", "link": "https://stackoverflow.com/users/8083135/md-touhidul-alam"}, "is_accepted": false, "score": 0, "last_activity_date": 1567010201, "creation_date": 1567010201, "answer_id": 57696722, "question_id": 57696523, "link": "https://stackoverflow.com/questions/57696523/how-to-get-separate-values-from-xlement/57696722#57696722", "title": "How to get separate values from Xlement", "body": "<h2>Here is the solution</h2>\n\n<p>You can select specific Element from a Xml. Just try below sample code</p>\n\n<pre><code>XmlNodeList generalTabNodeList = xmlDocument.SelectNodes(\"/INDV/PERSON/BRTHDATES\");\n\nforeach (XmlNode node in generalTabNodeList)\n            {\n                if (node.ChildNodes.Count &gt; 0)\n                {\n                    string birthdate = !string.IsNullOrEmpty(node.ChildNodes[0].ToString()) ? node.ChildNodes[2].InnerText.ToString() : string.Empty;\n                }\n            }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567019634, "post_id": 57698102, "comment_id": 101841440, "body": "Op want linq and this is not linq."}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567023789, "post_id": 57698102, "comment_id": 101843020, "body": "@jdweng: I&#39;m curious how you figured out that the OP &quot;wants linq&quot;.  His question is &quot;How to get separate values from Xlement&quot;.  Then he talks about &quot;portion of XML I&#39;m trying to parse&quot;.  Then he talks about &quot;try to get &#39;Value&#39; from the Element&quot;.  If I search this page for &quot;linq&quot;, the first match is your comment.  My code uses XDocument (explicitly) and XElement/XAttribute (implicitly).  I also use LINQ&#39;s <code>Where</code> method.  I don&#39;t use the C# query syntax (as he does).  However, his &quot;bbs&quot; variable (which he gets from LINQ) isn&#39;t used afterwards, so I&#39;m not sure why it&#39;s there."}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567023898, "post_id": 57698102, "comment_id": 101843058, "body": "Oh, and my code compiles and runs.  It&#39;s pretty much a minimal repro"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567026984, "post_id": 57698102, "comment_id": 101844253, "body": "The posting is tagged with Linq."}], "tags": [], "owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "is_accepted": false, "score": 0, "last_activity_date": 1567016467, "creation_date": 1567016467, "answer_id": 57698102, "question_id": 57696523, "link": "https://stackoverflow.com/questions/57696523/how-to-get-separate-values-from-xlement/57698102#57698102", "title": "How to get separate values from Xlement", "body": "<p>I can't quite follow what you are trying to do, but, this should get you going:</p>\n\n<p>For an XML file that looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;INDV&gt;\n  &lt;PERSON&gt;\n    &lt;BRTHDATES&gt;\n      &lt;BRTHDATE value=\"5/1/1963\" code=\"B\"/&gt;\n    &lt;/BRTHDATES&gt;\n  &lt;/PERSON&gt;\n&lt;/INDV&gt;\n</code></pre>\n\n<p><em>(Note, this is an entire XML document - one that matches your code, not just the snippet you provided (that doesn't match your code))</em></p>\n\n<p>This code will pick out the <code>value</code> and <code>code</code> attributes:</p>\n\n<pre><code> using (var xmlStream = new FileStream(\"Test.xml\", FileMode.Open))\n {\n     XDocument xmlDocument = XDocument.Load(xmlStream);\n     var birthDateElements = xmlDocument.XPathSelectElements(\"/INDV/PERSON/BRTHDATES/BRTHDATE\");\n     var birthDateElement = birthDateElements.FirstOrDefault();\n     if (birthDateElement != null)\n     {\n         var attributes = birthDateElement.Attributes();\n         var valueAttribute = attributes.Where(a =&gt; a.Name == \"value\");\n         var codeAttribute = attributes.Where(a =&gt; a.Name == \"code\");\n     }\n }\n</code></pre>\n\n<p>You can play around with this code to figure out what you want to do.  Whatever you do, don't pick out attributes by position, pick them out by name.</p>\n"}, {"comments": [{"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1567104189, "post_id": 57706691, "comment_id": 101874033, "body": "That will work until the order of the attributes gets shuffled.  Remember, XML does not necessarily respect attribute order."}], "tags": [], "owner": {"reputation": 16, "user_id": 8083135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z816k.jpg?s=128&g=1", "display_name": "Md. Touhidul Alam", "link": "https://stackoverflow.com/users/8083135/md-touhidul-alam"}, "is_accepted": true, "score": 0, "last_activity_date": 1567069409, "creation_date": 1567069409, "answer_id": 57706691, "question_id": 57696523, "link": "https://stackoverflow.com/questions/57696523/how-to-get-separate-values-from-xlement/57706691#57706691", "title": "How to get separate values from Xlement", "body": "<p>You can try below code. I've already tested through a test project and got the require value.</p>\n\n<pre><code>           string personBirthday = string.Empty;\n\n            string soapResult = @\"&lt;?xml version=\"\"1.0\"\" encoding=\"\"utf - 8\"\" ?&gt;&lt;INDV&gt; &lt;PERSON&gt; &lt;BRTHDATES&gt;&lt;BRTHDATE value = \"\"5/1/1963\"\" code = \"\"B\"\" /&gt; &lt;/BRTHDATES&gt;&lt;/PERSON&gt;&lt;/INDV&gt; \";\n\n            XmlDocument doc = new XmlDocument();\n            doc.Load(new StringReader(soapResult));\n\n            XmlNodeList person = doc.GetElementsByTagName(\"BRTHDATES\");\n\n            if (person[0].ChildNodes.Count &gt; 0)\n            {\n                foreach (XmlNode item in person[0].ChildNodes)\n                {\n                    if (item.Name.Trim().Equals(\"BRTHDATE\"))\n                    {\n                        personBirthday = !string.IsNullOrEmpty(item.Attributes[0].Value) ? item.Attributes[0].Value.Trim() : string.Empty;\n                    }\n                }\n            }\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 538409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cdcb252cc1c452596593d48e7b7077?s=128&d=identicon&r=PG", "display_name": "Clos", "link": "https://stackoverflow.com/users/538409/clos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 57706691, "answer_count": 3, "score": 1, "last_activity_date": 1567069409, "creation_date": 1567009155, "last_edit_date": 1567009285, "question_id": 57696523, "link": "https://stackoverflow.com/questions/57696523/how-to-get-separate-values-from-xlement", "title": "How to get separate values from Xlement", "body": "<p>This is a portion of XML I'm trying to parse</p>\n\n<pre><code>&lt;BRTHDATES&gt;\n  &lt;BRTHDATE value=\"5/1/1963\" code=\"B\"/&gt;\n&lt;/BRTHDATES&gt;\n\nvar birthdates = xmlDoc.XPathSelectElements(\"/INDV/PERSON/BRTHDATES\").Elements().Where(e =&gt; e.Name == \"BRTHDATE\");\n\nxe = birthdates.Elements().Where(e =&gt; e.Name == \"BRTHDATE\");\nbbs = from b in birthdates\n                      select new\n                      {\n                          Birthdays = b.FirstAttribute.Value,\n                          Code = b?.Value\n                      };\n\n var status = birthdates.Elements().Where(e =&gt; e.Name.LocalName == \"BRTHDATE\").Single().Value;\n</code></pre>\n\n<p>When I try to get \"Value\" from the Element I get an empty string.  I can't get anything for the \"code\" attribute.</p>\n\n<p>It sure seems like this should be a lot easier...</p>\n"}, {"tags": ["c#", "sql", "deflatestream"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1567010767, "post_id": 57696519, "comment_id": 101837924, "body": "Easiest way to do a full backup is to deattach the database and make copy of mdf and ldf files.  Then reattach the database.   Anybody can do rather than just an admin.  You can then attach copies when needed."}, {"owner": {"reputation": 374, "user_id": 7148081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ee4ca3fa132d9763204cbfeec5d538?s=128&d=identicon&r=PG", "display_name": "Daniel Schmid", "link": "https://stackoverflow.com/users/7148081/daniel-schmid"}, "edited": false, "score": 0, "creation_date": 1567011612, "post_id": 57696519, "comment_id": 101838256, "body": "I recommend using SMO for this. You should keep in mind that the default Backup Path is accessible by the SQL Server Process and normally not for other users."}], "owner": {"reputation": 107, "user_id": 7347756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba88c6582a2e530aadd43c8d11b40438?s=128&d=identicon&r=PG&f=1", "display_name": "Red Rabbit", "link": "https://stackoverflow.com/users/7347756/red-rabbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567018950, "creation_date": 1567009147, "last_edit_date": 1567018950, "question_id": 57696519, "link": "https://stackoverflow.com/questions/57696519/how-to-upload-a-db-backup-to-a-ftp-server", "title": "How to upload a DB backup to a FTP server", "body": "<p>On the tail end of database backup project and I've run into a issue where the Deflate compression I put in can't seem to find the path I saved the backup to. Being that the default backup location (used here) is on a network drive is there something else I need to do to make sure the path is found by Deflate? As of now I get System.IO.DirectoryNotFoundException: 'Could not find a part of the path. The purpose of the tool is to be able to put in any server you want to access, get a list of available DB's and then choose the one you want to backup.</p>\n\n<p>I had this issue before locally, but all i had to do was give SQLserver the proper permissions to the folder.</p>\n\n<pre><code>using (SqlConnection newConn = new SqlConnection(connString))\n        using (SqlCommand sqlCmd = new SqlCommand(query, newConn))\n        {\n            newConn.Open();\n            value = sqlCmd.ExecuteScalar();\n            canCompress = !(value == null || Convert.ToInt32(value) == 0);\n\n            //----------------------------------\n            //SQL Commands to run backup process\n            //----------------------------------\n            Interface.WriteLine(\"Creating backup\");               \n            if (canCompress)\n            {\n                sqlCmd.CommandText = \"BACKUP DATABASE [\" + connBuilder.InitialCatalog + \"] \"\n                                    + \"TO DISK = '\" + backupFile + \"' \"\n                                    + \"WITH COPY_ONLY, COMPRESSION, NOFORMAT, NOINIT, \"\n                                    + \"NAME = '\" + backupName + \"', \"\n                                    + \"SKIP, REWIND, NOUNLOAD, STATS = 10\";\n                sqlCmd.ExecuteNonQuery();\n            }\n            else\n            {\n                sqlCmd.CommandText = \"BACKUP DATABASE [\" + connBuilder.InitialCatalog + \"] \"\n                                    + \"TO DISK = '\" + backupFile + \"' \"\n                                    + \"WITH COPY_ONLY, NOFORMAT, NOINIT, \"\n                                    + \"NAME = '\" + backupName + \"', \"\n                                    + \"SKIP, REWIND, NOUNLOAD, STATS = 10\";\n                sqlCmd.ExecuteNonQuery();\n            }\n\n            //----------------------------------\n            //Grab Backup File\n            //----------------------------------\n            query = \"SELECT physical_device_name \"\n                    + \"FROM msdb.dbo.backupset b \"\n                    + \"JOIN msdb.dbo.backupmediafamily m ON b.media_set_id = m.media_set_id \"\n                    + \"WHERE database_name = '\" + connBuilder.InitialCatalog + \"' \"\n                    + \"ORDER BY backup_finish_date DESC \";\n\n            using (SqlConnection connection = new SqlConnection(connString))\n            using (SqlCommand cmd = new SqlCommand(query, connection))\n            {\n                connection.Open();\n                value = cmd.ExecuteScalar();\n                if (value != null)\n                    backupFile = (string)value;\n                else\n                    throw new Exception(\"Unable to find backup file.\");\n            }\n\n            //Set which files should be uploaded.\n            if (canCompress)\n            {\n                fileToUpload = backupFile;\n            }\n            else\n            {\n                fileToUpload = Deflate.CompressFile(backupFile); //Point of error message\n                File.Delete(backupFile);\n            }\n\n            return fileToUpload;\n        }\n\n\nstatic class Deflate\n{\n        public static string CompressFile(string sourcePath, string destPath = null)\n        {\n            if (destPath == null)\n                destPath = Path.Combine(Path.GetDirectoryName(sourcePath), Path.GetFileNameWithoutExtension(sourcePath) + \".cmp\");\n\n            using (FileStream originalFileStream = File.OpenRead(sourcePath))\n            using (FileStream compressedFileStream = File.Create(destPath))\n            using (DeflateStream compressionStream = new \n    DeflateStream(compressedFileStream, CompressionMode.Compress))\n     {\n          originalFileStream.CopyTo(compressionStream);\n          compressedFileStream.Flush();\n      }\n\n            FileInfo sourceInfo = new FileInfo(sourcePath); //Remove the .bak extension on compression?\n            FileInfo destInfo = new FileInfo(destPath); //Remove the .bak extension on compression?\n            Console.WriteLine(\"Compressed {0} from {1} to {2} bytes.\", Path.GetFileName(sourcePath), sourcePath.Length, destInfo.Length);\n            return destPath;\n        }\n }\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 807, "user_id": 6462432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a5HBc.png?s=128&g=1", "display_name": "B.M.", "link": "https://stackoverflow.com/users/6462432/b-m"}, "edited": false, "score": 4, "creation_date": 1567009327, "post_id": 57696516, "comment_id": 101837364, "body": "Yes, a single monobehavior somewhere which tracks the thousands of <code>Transform</code>s and moves them at once. Or look into ECS."}, {"owner": {"reputation": 3985, "user_id": 1134902, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pSWiM.jpg?s=128&g=1", "display_name": "Iggy", "link": "https://stackoverflow.com/users/1134902/iggy"}, "edited": false, "score": 2, "creation_date": 1567009342, "post_id": 57696516, "comment_id": 101837368, "body": "<a href=\"https://www.youtube.com/watch?v=C56bbgtPr_w\" rel=\"nofollow noreferrer\">Unity DOTS</a> is worth looking into."}, {"owner": {"reputation": 1518, "user_id": 2434628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f694c7757c0085ac1f0ed88d960ff657?s=128&d=identicon&r=PG", "display_name": "AresCaelum", "link": "https://stackoverflow.com/users/2434628/arescaelum"}, "edited": false, "score": 0, "creation_date": 1567010714, "post_id": 57696516, "comment_id": 101837909, "body": "As stated previously look into DOTS, this isn&#39;t me, but there is a youtuber named CodeMonkey he has a series where he does ECS, and then he adds the Job System, and burst compiler to it.  I would high recommend checking out his videos."}, {"owner": {"reputation": 5719, "user_id": 5348875, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e050e66d97a3f54b0453533428088e6c?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5348875/daniel"}, "edited": false, "score": 0, "creation_date": 1567011495, "post_id": 57696516, "comment_id": 101838213, "body": "As said, ECS works precisely well with this situation. Each NPC would be an entity and all would have the same follow behaviour (system). That architecture, coupled with the burst compiler, should highly increase the performance of your NPCs, I&#39;d say that if their code is based just on following, you could have about 1000 of them with 100+ FPS."}, {"owner": {"reputation": 7600, "user_id": 34170, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/IIF3m.jpg?s=128&g=1", "display_name": "Philipp Lenssen", "link": "https://stackoverflow.com/users/34170/philipp-lenssen"}, "edited": false, "score": 0, "creation_date": 1567017185, "post_id": 57696516, "comment_id": 101840478, "body": "Note the <a href=\"https://github.com/Unity-Technologies/EntityComponentSystemSamples/tree/master/ECSSamples/Assets/Advanced/Boids\" rel=\"nofollow noreferrer\">Boids/ fish swarm samples</a> of Unity DOTS contains specifically an approach to following targets. A word of warning, Unity DOTS is kind of a work in progress; I suspect it will become more streamlined in the future."}], "owner": {"reputation": 2367, "user_id": 1769269, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/37e40b0dff9332245ddba54e902d5072?s=128&d=identicon&r=PG", "display_name": "rootpanthera", "link": "https://stackoverflow.com/users/1769269/rootpanthera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "closed_date": 1567047983, "answer_count": 0, "score": 2, "last_activity_date": 1567009125, "creation_date": 1567009125, "question_id": 57696516, "link": "https://stackoverflow.com/questions/57696516/control-hundreds-of-game-objects-by-non-monobehavior-script", "closed_reason": "Not suitable for this site", "title": "Control hundreds of game objects by non Monobehavior script", "body": "<p>I'll give real-world example: Let's say there is an NPC game object, which is walking around the world/scene.</p>\n\n<p>This NPC is getting followed by hundreds or even thousands of other objects, meaning that when NPC changes direction, all other objects will also change their direction.</p>\n\n<p>I do this by creating hundreds of objects in Unity inspector and also each object gets a mono behavior script. This works but of course, it has a big performance impact.</p>\n\n<p>Is there any other more efficient way for multiple objects to follow another object, without running them on Monobehavior?</p>\n"}, {"tags": ["c#", "asp.net", "visual-studio"], "comments": [{"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 0, "creation_date": 1567019936, "post_id": 57696397, "comment_id": 101841549, "body": "You have no control over that. It is the settings of the browser of the user that determines if the file gets downloaded or displayed in a window."}, {"owner": {"reputation": 41, "user_id": 9011289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94469b968e56e69eb90144aae6ab4eed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Farnworth", "link": "https://stackoverflow.com/users/9011289/jim-farnworth"}, "reply_to_user": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 0, "creation_date": 1567044240, "post_id": 57696397, "comment_id": 101847660, "body": "Thanks but why then does it work for PDF Files?"}, {"owner": {"reputation": 41, "user_id": 9011289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94469b968e56e69eb90144aae6ab4eed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Farnworth", "link": "https://stackoverflow.com/users/9011289/jim-farnworth"}, "reply_to_user": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 0, "creation_date": 1567044621, "post_id": 57696397, "comment_id": 101847727, "body": "This works but I cannot ask all the users to go into their browsers and alter settings."}], "owner": {"reputation": 41, "user_id": 9011289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94469b968e56e69eb90144aae6ab4eed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Farnworth", "link": "https://stackoverflow.com/users/9011289/jim-farnworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1567008614, "creation_date": 1567008614, "question_id": 57696397, "link": "https://stackoverflow.com/questions/57696397/open-jpeg-image-file-from-gridview-in-new-tab-in-browser-asp-net-c", "title": "Open JPEG/Image file from GridView in new Tab in browser ASP.NET C#", "body": "<p>I have a GridView which Lists Filename, type of Document and Unique Asset Number. You Select Asset and then Document Type which Filters the GridView List to just include those records relating to that particular Asset and e.g. Photographs. On Selecting Open File this will open PDF Files in a Browser window (Code courtesy of StackOverflow). This works fine with PDF's but when I try to open say a JPEG File with modified Code it just Downloads the File.</p>\n\n<p>I have tried every solution that I can search for but the only alternative that works so far utilises a Panel in asp.net, which is not what the users want.</p>\n\n<pre><code>    protected void grdAttachment_RowCommand(object sender, \n   GridViewCommandEventArgs e)\n    {\n        if (e.CommandName == \"ViewFile\")\n        {\n            string fileName = Server.MapPath(\"~/Attachment/\" + \n   e.CommandArgument.ToString());\n            string extension = fileName.Substring(fileName.Length - 3);\n            if (extension != \"pdf\")\n            {\n                WebClient client = new WebClient();\n                byte[] byteArray = File.ReadAllBytes(fileName);\n                string base64 = Convert.ToBase64String(byteArray);\n                string.Format(\"data:image/jpg;base64,{0}\", base64);\n                HttpContext.Current.Response.Clear();\n                HttpContext.Current.Response.AddHeader(\"Content-Type\", \n  \"application/Photos\");\n                HttpContext.Current.Response.AddHeader(\"Content- \n  Disposition\", \"inline; filename=\" + fileName);\n                HttpContext.Current.Response.BinaryWrite(byteArray);\n                HttpContext.Current.Response.End();\n            }\n\n            else // WORKS!!\n            {\n                //string path = \n   Path.Combine(Server.MapPath(\"~/Attachment/\"), fileName);\n                WebClient client = new WebClient();\n                Byte[] buffer = client.DownloadData(fileName);\n                HttpContext.Current.Response.Clear();\n                HttpContext.Current.Response.AddHeader(\"Content-Type\", \n   \"application/pdf\");\n                HttpContext.Current.Response.AddHeader(\"Content- \n   Disposition\", \"inline; filename=\" + fileName);\n                HttpContext.Current.Response.BinaryWrite(buffer);\n                HttpContext.Current.Response.End();\n            }\n        }\n    }\n</code></pre>\n\n<p>Image Files are just Downloaded</p>\n"}, {"tags": ["c#", "splicer"], "comments": [{"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1567013259, "post_id": 57696353, "comment_id": 101838966, "body": "You call <code>BeginRender()</code>, and then the timeline gets disposed. What happens if you call <code>Render()</code> instead?"}, {"owner": {"reputation": 203, "user_id": 5868577, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3344dcfde6449e3188c41fc1ba15ce1c?s=128&d=identicon&r=PG&f=1", "display_name": "Tayab", "link": "https://stackoverflow.com/users/5868577/tayab"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1567014632, "post_id": 57696353, "comment_id": 101839528, "body": "@CodeCaster see post edit :/"}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1567014736, "post_id": 57696353, "comment_id": 101839566, "body": "So is the reported length for your audio file correct?"}, {"owner": {"reputation": 203, "user_id": 5868577, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3344dcfde6449e3188c41fc1ba15ce1c?s=128&d=identicon&r=PG&f=1", "display_name": "Tayab", "link": "https://stackoverflow.com/users/5868577/tayab"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1567015079, "post_id": 57696353, "comment_id": 101839713, "body": "@CodeCaster I logged the &#39;audioLen&#39; variable and it was &#39;11.102&#39;. I right-clicked on the audio file, in the details tab it shows 11 seconds. However, when I play the audio file in WMP, it shows a length of 14 seconds. 14 seconds in VLC as well when opened."}, {"owner": {"reputation": 203, "user_id": 5868577, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3344dcfde6449e3188c41fc1ba15ce1c?s=128&d=identicon&r=PG&f=1", "display_name": "Tayab", "link": "https://stackoverflow.com/users/5868577/tayab"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1567015190, "post_id": 57696353, "comment_id": 101839757, "body": "Did it yet again with different audio. 1 second difference."}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1567015397, "post_id": 57696353, "comment_id": 101839814, "body": "So <code>TimelineBuilder.ToSeconds(MediaInspector.GetLength(audioFile&zwnj;&#8203;Name))</code> returns the wrong value. Is this a known bug of the library? It doesn&#39;t appear to be maintained anyway. Can you work around it by, should that be the cause, not using VBR encoding, for example?"}, {"owner": {"reputation": 203, "user_id": 5868577, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3344dcfde6449e3188c41fc1ba15ce1c?s=128&d=identicon&r=PG&f=1", "display_name": "Tayab", "link": "https://stackoverflow.com/users/5868577/tayab"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1567015691, "post_id": 57696353, "comment_id": 101839918, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/198602/discussion-between-tayab-and-codecaster\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 203, "user_id": 5868577, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3344dcfde6449e3188c41fc1ba15ce1c?s=128&d=identicon&r=PG&f=1", "display_name": "Tayab", "link": "https://stackoverflow.com/users/5868577/tayab"}, "is_accepted": false, "score": 1, "last_activity_date": 1567019760, "creation_date": 1567019760, "answer_id": 57698785, "question_id": 57696353, "link": "https://stackoverflow.com/questions/57696353/splicer-audio-is-cut-off-single-image-and-audio-in-timeline/57698785#57698785", "title": "Splicer, audio is cut off. Single image and audio in timeline :(", "body": "<p>Thanks to @CodeCaster 's help I finally ended up with a solution.</p>\n\n<p>I was so desperate to try and make everything work with just the Splicer library, and keeping the dependencies in my program to a minimum.</p>\n\n<p>However, I ended up using the NAudio library which gives the correct length of my audio clips. I  had to change my audio export from MPEG to MP3, of course.</p>\n\n<p>Here's the article where I found the solution: <a href=\"https://stackoverflow.com/questions/34517673/how-to-get-a-duration-of-mp3-file-via-net-c\">[Click]</a></p>\n\n<p>Here's some modified code:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>                    var mp3FileReader = new Mp3FileReader(audioFileName);\n                    //var audioLen = TimelineBuilder.ToSeconds(MediaInspector.GetLength(audioFileName));\n                    var audioLen = mp3FileReader.TotalTime.TotalSeconds;\n</code></pre>\n\n<p><strong>Lesson that I learned:</strong></p>\n\n<p>If you trust external code too much, you might overlook any problems that it might cause. And instead doubt yourself.</p>\n"}], "owner": {"reputation": 203, "user_id": 5868577, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3344dcfde6449e3188c41fc1ba15ce1c?s=128&d=identicon&r=PG&f=1", "display_name": "Tayab", "link": "https://stackoverflow.com/users/5868577/tayab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1567019760, "creation_date": 1567008374, "last_edit_date": 1567014601, "question_id": 57696353, "link": "https://stackoverflow.com/questions/57696353/splicer-audio-is-cut-off-single-image-and-audio-in-timeline", "title": "Splicer, audio is cut off. Single image and audio in timeline :(", "body": "<p><strong>[Summary]</strong></p>\n\n<ul>\n<li>Using splicer for C#. </li>\n<li>Trying to add voice-over to an image. </li>\n<li>Added single image and audio track to a timeline. </li>\n<li>However, the audio is cut off in the rendered video, and the video is shorter than it should be. </li>\n<li>I've checked the audio clip and it's full length and has no issues. No problem with the image either.</li>\n<li>Note: I've recompiled the source-code of Splicer using a 1080p prx file for the WindowsMediaProfiles.HighQualityVideo profile. It works well. Though, could it be the cause of the problem?</li>\n</ul>\n\n<p><strong>[Background, what I've already done]</strong></p>\n\n<p>1</p>\n\n<ul>\n<li>I can't use the AVIFileRenderer as the output file size is too large.</li>\n<li>I can't use the default prx file for the WindowsMediaProfiles.HighQuality profile as the output result is too bad.\n-I downloaded the prx file from 'questions4steveb.co.uk'.</li>\n</ul>\n\n<p>2</p>\n\n<ul>\n<li>When adding the audio to the audio track (audioFileName), I'm specifying the 'clipEnd' parameter to the value I'm getting from MediaInspector.GetLength(audioFileName) / (double)TimelineBuilder.Units. (audioLen).</li>\n<li>I've also tried not specifying that paramater at all but, the results are the same.</li>\n</ul>\n\n<p>3</p>\n\n<ul>\n<li>When adding the image to the video track (imgFileName), I'm specifying the 'clipEnd' parameter to the same value, 'audioLen'.</li>\n<li>I've also tried using audioClip.Duration as the 'clipEnd' parameter for the image. </li>\n</ul>\n\n<p>4</p>\n\n<ul>\n<li>The audio file has no issues. It's an MPEG file, and plays its full duration when played separately in Windows.\n-The image file has no issues either, it's a JPEG file.</li>\n</ul>\n\n<p>5</p>\n\n<ul>\n<li>I've tried using different inputs from the image and voice overs. But same results unfortunately :/</li>\n</ul>\n\n<p><strong>[Code]</strong></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using (var timeLine = new DefaultTimeline(24)) {\n                        var vidGroup1 = timeLine.AddVideoGroup(\"videoGroup1\", 24, 24, txtImg.Properties.Size.Width, txtImg.Properties.Size.Height);\n                        var vidTrack1 = vidGroup1.AddTrack();\n\n                        var audioGroup = timeLine.AddAudioGroup(\"audioGroup1\", 24);\n                        var audioTrack1 = audioGroup.AddTrack();\n\n                        var audioFileName = await txtSpeech.SynthesizeSpeechAsync(text);\n                        var audioLen = MediaInspector.GetLength(audioFileName) / (double)TimelineBuilder.Units;\n\n                        var audioClip = audioTrack1.AddAudio(audioFileName, InsertPosition.Absolute, 0, 0, audioLen);\n                        MessageBox.Show(\"Added audio. Len = \" +audioLen);\n\n                        var imgFileName = await txtImg.RenderImageAsync(text);\n                        vidTrack1.AddImage(imgFileName, InsertPosition.Absolute, 0, 0, audioLen);\n                        MessageBox.Show(\"Added image\");\n\n                        MessageBox.Show(\"Render started\");\n                        _renderer = new WindowsMediaRenderer(timeLine, \"output.wmv\", WindowsMediaProfiles.HighQualityVideo);\n                        _renderer.BeginRender(hello, null);\n                    } \n\n        // callback function\n\n        private void hello(IAsyncResult ar) {\n            _renderer.EndRender(ar);\n            _renderer.Dispose();\n            Process.Start(\"output.wmv\");\n            MessageBox.Show(\"Render complete\");\n        }\n\n</code></pre>\n\n<p><strong>[Results]</strong></p>\n\n<ul>\n<li><strong>Expected results are:</strong> The video plays for the duration of the audio track.</li>\n<li><strong>Actual results:</strong> The audio doesn't play fully and is cut off towards the end of the video. The video also ends when the audio does, so its shorter than it needs to be.</li>\n</ul>\n\n<p><strong>Example:</strong>\nIf the voice-over audio reads: \"I had a great day at a waterpark / outdoor pool and towards the afternoon.\"\nThe playback of the audio stops at 'towards'.</p>\n\n<p><strong>Temporary (and highly imperfect) solution that I have right now:</strong>\nI just multiply the 'audioLen' variable by 1.5 or 2. That plays out the entire audio track. However, it adds padding to the audio towards the end. So the video is longer than it needs to be. </p>\n\n<p>This might indicate that the audio length I'm attaining is incorrect. Or I'm attaining it incorrectly. </p>\n\n<p><strong>[Modified code as per suggestion (not working)]</strong></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>                    var text = \"My bother spent some time in Japan and one of the things he missed a lot while he was there was Salt &amp; Vinegar chips. So we sent him some. He tried to share them with folks there in Japan and they thought they were the most disgusting thing ever. He ate the entire bag in one sitting.\";\n\n                    using (var timeLine = new DefaultTimeline(24)) {\n                        var vidGroup1 = timeLine.AddVideoGroup(\"videoGroup1\", 24, 24, txtImg.Properties.Size.Width, txtImg.Properties.Size.Height);\n                        var vidTrack1 = vidGroup1.AddTrack();\n\n                        var audioGroup = timeLine.AddAudioGroup(\"audioGroup1\", 24);\n                        var audioTrack1 = audioGroup.AddTrack();\n\n                        var audioFileName = await txtSpeech.SynthesizeSpeechAsync(text);\n                        var audioLen = TimelineBuilder.ToSeconds(MediaInspector.GetLength(audioFileName));\n\n                        var audioClip = audioTrack1.AddAudio(audioFileName, 0, audioLen);\n\n                        var imgFileName = await txtImg.RenderImageAsync(text);\n                        vidTrack1.AddImage(imgFileName, InsertPosition.Absolute, 0, 0, audioLen);\n\n                        _renderer = new WindowsMediaRenderer(timeLine, \"output.wmv\", WindowsMediaProfiles.HighQualityVideo);\n\n                        _renderer.RenderCompleted += _renderer_RenderCompleted;\n\n                        _renderer.Render();\n                    }\n\n        private void _renderer_RenderCompleted(object sender, EventArgs e) {\n            Process.Start(\"output.wmv\");\n        }\n\n</code></pre>\n\n<p>The said problem exists still but, now the end time of the video is missing.</p>\n"}, {"tags": ["c#", ".net", "itext"], "comments": [{"owner": {"reputation": 395, "user_id": 1471293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6077c2c1810af7a19935b3c1579771?s=128&d=identicon&r=PG", "display_name": "jhuamanchumo", "link": "https://stackoverflow.com/users/1471293/jhuamanchumo"}, "edited": false, "score": 0, "creation_date": 1567009684, "post_id": 57696328, "comment_id": 101837501, "body": "use detechad instead defered,  MakeSignature.SignDetached(appearance, pks, chain, crlList, ocsp, null, 0, CryptoStandard.CMS);  ref: <a href=\"https://stackoverflow.com/questions/52331403/i-want-to-sign-a-pdf-document-with-itextsharp-and-return-ltv-pdf-enabled-file\" title=\"i want to sign a pdf document with itextsharp and return ltv pdf enabled file\">stackoverflow.com/questions/52331403/&hellip;</a>"}, {"owner": {"reputation": 31, "user_id": 11990123, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-y-BGWuIllVs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rel1Wx1qBHG2cvJP6r1upQ6sE3vgg/photo.jpg?sz=128", "display_name": "llinan", "link": "https://stackoverflow.com/users/11990123/llinan"}, "reply_to_user": {"reputation": 395, "user_id": 1471293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6077c2c1810af7a19935b3c1579771?s=128&d=identicon&r=PG", "display_name": "jhuamanchumo", "link": "https://stackoverflow.com/users/1471293/jhuamanchumo"}, "edited": false, "score": 0, "creation_date": 1567009844, "post_id": 57696328, "comment_id": 101837566, "body": "Why i should to use signDetached?"}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "reply_to_user": {"reputation": 395, "user_id": 1471293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6077c2c1810af7a19935b3c1579771?s=128&d=identicon&r=PG", "display_name": "jhuamanchumo", "link": "https://stackoverflow.com/users/1471293/jhuamanchumo"}, "edited": false, "score": 0, "creation_date": 1567012081, "post_id": 57696328, "comment_id": 101838441, "body": "First of all, you can use the <code>AdobeLtvEnabling</code> class from my answer to the question @jhuamanchumo linked to no matter whether you signed detached or deferred; the input if that class is the signed pdf. So please try it and report whether it worked or not. That being said, there is no obvious need for deferred signing in your code, and in that case one should prefer detached signing. But we don&#39;t know your <code>SignFastCoreSignatureContainer</code>, probably there is something special about it requiring deferred signing."}, {"owner": {"reputation": 31, "user_id": 11990123, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-y-BGWuIllVs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rel1Wx1qBHG2cvJP6r1upQ6sE3vgg/photo.jpg?sz=128", "display_name": "llinan", "link": "https://stackoverflow.com/users/11990123/llinan"}, "edited": false, "score": 0, "creation_date": 1567013617, "post_id": 57696328, "comment_id": 101839118, "body": "Hi mkl, i edit the question and add the SignFastCoreSignatureContainer class. I use this class to validate if  the document will have embedded timestamp. But, i&#39;ll try with AdobeLtvEnabling."}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1567052442, "post_id": 57696328, "comment_id": 101849153, "body": "Ok, there still is nothing requiring a deferred signature, so you could switch to detached signing which would make the code more compact. Nonetheless, your code is fairly clear, so there is no real necessity to switch."}], "owner": {"reputation": 31, "user_id": 11990123, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-y-BGWuIllVs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rel1Wx1qBHG2cvJP6r1upQ6sE3vgg/photo.jpg?sz=128", "display_name": "llinan", "link": "https://stackoverflow.com/users/11990123/llinan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "closed_date": 1567070417, "answer_count": 0, "score": 3, "last_activity_date": 1567013247, "creation_date": 1567008274, "last_edit_date": 1567013247, "question_id": 57696328, "link": "https://stackoverflow.com/questions/57696328/i-want-to-enabled-ltv-in-signed-pdf", "closed_reason": "Not suitable for this site", "title": "I want to enabled LTV in signed pdf", "body": "<p>I can't enabled LTV in my signed pdf. I have already reviewed some solutions, but none of them can help me. To sign i'm using SignDeferred. Please helpme. If need more information, i can tell you. You can see the code and give me some solutions or change in the code.</p>\n\n<p>Note: i saw in other solutions that use SignDetached. Some can explain the differences.</p>\n\n<pre><code>private void signDocument()\n{\n\n    try\n    {\n        Cancelar = 0;\n        /** cargando certificado */\n        ICollection&lt;Org.BouncyCastle.X509.X509Certificate&gt; chain = new List&lt;Org.BouncyCastle.X509.X509Certificate&gt;();\n        chain.Add(Org.BouncyCastle.Security.DotNetUtilities.FromX509Certificate(certificadoLocalSeleccionado.x509Certificate));\n\n        int filasArchivos = dgvListaDocumentos.RowCount;\n        for (int posicionFiles = 0; posicionFiles &lt; filasArchivos; posicionFiles++)\n        {\n            if (filasArchivos &gt; 80)\n            {\n                frmEsperando.actualizarEtiqueta(\"Firmando \" + (posicionFiles + 1) + \" de \" + (filasArchivos));\n                System.Threading.Thread.Sleep(500);\n            }\n            else\n            {\n                frmEsperando.actualizarEtiqueta(\"Firmando \" + (posicionFiles + 1) + \" de \" + (filasArchivos));\n                System.Threading.Thread.Sleep(1000);\n\n            }\n\n            String rutaArchivo = lstRutaArchivos[posicionFiles];\n            String nombreDocumentos = lstNombres[posicionFiles];\n\n            String nombreFirma = \"Sig\" + DateTime.Now.ToString(\"ddMMyyyyHHmmss\");\n\n            /** Configurando Pdf - inicio */\n            PdfReader reader = new PdfReader(rutaArchivo);\n            MemoryStream os = new MemoryStream();\n            PdfStamper stamper = PdfStamper.CreateSignature(reader, os, '\\0', null, true);\n\n            PdfSignatureAppearance appearance = stamper.SignatureAppearance;\n\n\n            appearance.Reason = \"Firma Digital - \" + (string)Settings.Default[\"empresa\"];\n            appearance.Location = \"Lima\";\n\n            iTextSharp.text.Rectangle rectanguloFirma = new iTextSharp.text.Rectangle(0, 0, 0, 0);\n            appearance.SetVisibleSignature(rectanguloFirma, 1, nombreFirma);\n\n\n            /** Configurando Pdf - fin */\n\n            /** Firmando externamente pdf - inicio */\n            IExternalSignatureContainer external = new ExternalBlankSignatureContainer(PdfName.ADOBE_PPKLITE, PdfName.ADBE_PKCS7_DETACHED);\n            MakeSignature.SignExternalContainer(appearance, external, 8192);\n            /** Firmando externamente pdf - fin */\n\n            /** obteniendo bytes de la firma externa pdf - inicio */\n            byte[] bytesPdfFirmadoTemporal = os.ToArray();\n            /** obteniendo bytes de la firma externa pdf - fin */\n\n            /** obteniendo hash de documento */\n            PdfReader readerTmp = new PdfReader(new RandomAccessFileOrArray(bytesPdfFirmadoTemporal), null); ;\n            AcroFields acroFields = readerTmp.AcroFields;\n            PdfDictionary pdfDictionary = acroFields.GetSignatureDictionary(nombreFirma);\n\n            if (pdfDictionary == null)\n            {\n                throw new iTextSharp.text.DocumentException(\"No existe ningun campo con el nombre: \" + nombreFirma);\n            }\n\n            if (!acroFields.SignatureCoversWholeDocument(nombreFirma))\n            {\n                throw new iTextSharp.text.DocumentException(\"Not the last signature\");\n            }\n\n            PdfArray pdfArray = pdfDictionary.GetAsArray(PdfName.BYTERANGE);\n            long[] gaps = pdfArray.AsLongArray();\n            if (pdfArray.Size != 4 || gaps[0] != 0)\n            {\n                throw new iTextSharp.text.DocumentException(\"Single exclusion space supported\");\n            }\n\n            IRandomAccessSource readerSource = readerTmp.SafeFile.CreateSourceView();\n            //RASInputStream rASInputStream = new iTextSharp.text.io.RASInputStream(readerSource);\n            RASInputStream rASInputStream = new RASInputStream(new RandomAccessSourceFactory().CreateRanged(readerSource, gaps));\n\n            PdfPKCS7 pdfPkcs7 = new PdfPKCS7(null, chain, \"SHA256\", false);\n            //OID DEL ALGORTIMO SHA256 -&gt; \"2.16.840.1.101.3.4.2.1\"\n            byte[] digest = DigestAlgorithms.Digest(rASInputStream, \"2.16.840.1.101.3.4.2.1\");\n            byte[] hash = pdfPkcs7.getAuthenticatedAttributeBytes(digest, null, null, CryptoStandard.CMS);\n\n            readerTmp.Close();\n            os.Close();\n\n            /** firmando hash */\n            byte[] signature = null;\n            RSACryptoServiceProvider rsaAesCSP = null;\n            RSACryptoServiceProvider privateKey = null;\n            privateKey = certificadoLocalSeleccionado.x509Certificate.PrivateKey as RSACryptoServiceProvider;\n            if (privateKey != null)\n            {\n                if (!privateKey.CspKeyContainerInfo.HardwareDevice)\n                {\n                    CspParameters cspParameters = new CspParameters();\n                    cspParameters.KeyContainerName = privateKey.CspKeyContainerInfo.KeyContainerName;\n                    cspParameters.KeyNumber = privateKey.CspKeyContainerInfo.KeyNumber == KeyNumber.Exchange ? 1 : 2;\n\n                    rsaAesCSP = new RSACryptoServiceProvider(cspParameters);\n                    rsaAesCSP.PersistKeyInCsp = true;\n                }\n                else\n                {\n                    rsaAesCSP = privateKey;\n                }\n\n                signature = rsaAesCSP.SignData(hash, new SHA256Managed());\n\n            }\n            /** incrustar firma digital - inicio */\n            PdfReader readerFinal = new PdfReader(bytesPdfFirmadoTemporal);\n            IExternalSignatureContainer externalFinal = new SignFastCoreSignatureContainer(chain, digest, signature);\n\n            FileStream osFinal = new FileStream(txtDestino.Text + \"\\\\\" + nombreDocumentos, FileMode.Create);\n            MakeSignature.SignDeferred(readerFinal, nombreFirma, osFinal, externalFinal);\n            /** incrustar firma digital - fin */\n            documentosfirmados++;\n            osFinal.Close();\n            readerFinal.Close();\n\n        }\n        lstRutaArchivos.Clear();\n        lstNombres.Clear();\n\n    }\n    catch (System.Exception excepcion)\n    {\n        Cancelar = 1;\n        MessageBox.Show(excepcion.Message, \"SignFastDesktop\", MessageBoxButtons.OK, MessageBoxIcon.Exclamation);\n\n    }\n}\n</code></pre>\n\n<p>Here, the code about SignFastCoreSignatureContainer.</p>\n\n<pre><code>using AppSignFastDesktop.Properties;\nusing iTextSharp.text.pdf;\nusing iTextSharp.text.pdf.security;\nusing System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace AppSignFastDesktop\n{\n    public class SignFastCoreSignatureContainer : IExternalSignatureContainer\n    {\n        ICollection&lt;Org.BouncyCastle.X509.X509Certificate&gt; chain;\n        byte[] digest;\n        byte[] sign;\n\n\n        public SignFastCoreSignatureContainer(ICollection&lt;Org.BouncyCastle.X509.X509Certificate&gt; _chain, byte[] _digest, byte[] _sign)\n        {\n            chain = _chain;\n            digest = _digest;\n            sign = _sign;\n        }\n\n        public byte[] Sign(Stream data)\n        {\n            try\n            {\n                PdfPKCS7 pdfPkcs7 = new PdfPKCS7(null, chain, \"SHA256\", false);\n\n                ITSAClient timeStamp = null;\n\n                if((int)Settings.Default[\"PermisoSelloTiempo\"] == 1)\n                {\n                    timeStamp = getTimeStampResponse();\n                }\n\n                pdfPkcs7.SetExternalDigest(sign, null, \"RSA\");\n\n                return pdfPkcs7.GetEncodedPKCS7(digest, timeStamp, null, null, CryptoStandard.CMS);\n\n            }\n            catch (Exception excepcion)\n            {\n                throw excepcion;\n            }\n        }\n\n        public void ModifySigningDictionary(PdfDictionary signDic)\n        {\n            throw new NotImplementedException();\n        }\n\n        public ITSAClient getTimeStampResponse()\n        {\n            ITSAClient signTSAClient = null;\n\n            try\n            {\n                ITSAClient tscFinal = new TSAClientBouncyCastle((string)Settings.Default[\"Url\"], (string)Settings.Default[\"Usuario\"], (string)Settings.Default[\"Contrasenia\"]);\n                signTSAClient = tscFinal;\n            }\n            catch(Exception e)\n            {\n                throw e;\n            }\n            return signTSAClient;\n        }\n\n    }\n}\n\n</code></pre>\n"}, {"tags": ["c#", "botframework"], "comments": [{"owner": {"reputation": 9331, "user_id": 2122672, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KWgWC.jpg?s=128&g=1", "display_name": "Kyle Delaney", "link": "https://stackoverflow.com/users/2122672/kyle-delaney"}, "edited": false, "score": 0, "creation_date": 1567619535, "post_id": 57696267, "comment_id": 102020212, "body": "What channel are you targeting? And can you explain why you need a bot ID beyond the ID that&#39;s already in the <code>from</code> field of the activity?"}], "answers": [{"comments": [{"owner": {"reputation": 581, "user_id": 7366631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mv1Nq.jpg?s=128&g=1", "display_name": "sidecus", "link": "https://stackoverflow.com/users/7366631/sidecus"}, "edited": false, "score": 1, "creation_date": 1567047871, "post_id": 57702425, "comment_id": 101848305, "body": "If you don&#39;t have a lot of &quot;bot ids&quot; to manage and they behave differently, I would highly suggest you to create different Bot classes and attach them onto different controllers."}, {"owner": {"reputation": 581, "user_id": 7366631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mv1Nq.jpg?s=128&g=1", "display_name": "sidecus", "link": "https://stackoverflow.com/users/7366631/sidecus"}, "reply_to_user": {"reputation": 83, "user_id": 7128958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10202283467844968/picture?type=large", "display_name": "Yuri Alves", "link": "https://stackoverflow.com/users/7128958/yuri-alves"}, "edited": false, "score": 0, "creation_date": 1567099966, "post_id": 57702425, "comment_id": 101872364, "body": "Just a design consideration. If your bots are behaving the same, this approach is OK. However if bot1 is pure QnA, bot2 takes actions based on intents and uses multi turn dialogs, then it&#39;s not a good idea to put these into the same bot and do if/else. In this case you can create multiple bots each having different behavior, and their own interfaces (inherited from IBot). Register them in DI - AddTransient(IBotQnA, BotQnA), AddTransient(IBotLuis, BotLuis). Now you can inject them to their own controllers and their logic are fully separated."}], "tags": [], "owner": {"reputation": 581, "user_id": 7366631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mv1Nq.jpg?s=128&g=1", "display_name": "sidecus", "link": "https://stackoverflow.com/users/7366631/sidecus"}, "is_accepted": false, "score": 2, "last_activity_date": 1567047737, "creation_date": 1567047737, "answer_id": 57702425, "question_id": 57696267, "link": "https://stackoverflow.com/questions/57696267/how-to-pass-variable-from-the-controller-to-bots-file/57702425#57702425", "title": "How to pass variable from the controller to bots file", "body": "<p>I assume you are registering your bot as transient, and injecting it to the webapi controller via DI.</p>\n\n<p>If that's the case, you can implement a public method in your Bot class to take the bot id (e.g. <code>SetBotId</code>).</p>\n\n<p>Then in <code>PostAsync</code> function, you can call <code>Bot.SetBotId(chatBotId)</code> right before you call <code>Adapter.ProcessAsync</code>.</p>\n"}], "owner": {"reputation": 83, "user_id": 7128958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10202283467844968/picture?type=large", "display_name": "Yuri Alves", "link": "https://stackoverflow.com/users/7128958/yuri-alves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1567047737, "creation_date": 1567008027, "question_id": 57696267, "link": "https://stackoverflow.com/questions/57696267/how-to-pass-variable-from-the-controller-to-bots-file", "title": "How to pass variable from the controller to bots file", "body": "<p>I am trying to pass an id value from my controller to my bot file.\nE.g.  </p>\n\n<pre><code>[Route(\"api/chatbot/{chatBotID}\")]\n        [HttpPost]\n        public async Task PostAsync(int chatBotID)\n        {\n\n            // Delegate the processing of the HTTP POST to the adapter.\n            // The adapter will invoke the bot.\n            await Adapter.ProcessAsync(Request, Response, Bot);\n\n        }\n</code></pre>\n\n<pre><code>      protected override async Task OnMessageActivityAsync(ITurnContext&lt;IMessageActivity&gt; turnContext, CancellationToken cancellationToken)\n        {\n\n\n            await turnContext.SendActivityAsync(ActivityTypes.Typing);\n            Thread.Sleep(2500);\n\n            if (turnContext.Activity.Text == \"Red\")\n            {\n                await turnContext.SendActivityAsync(\"Hey\");\n            } \n\n            var reply = MessageFactory.Text(\"Is there anything else I can help you?\");\n\n            reply.SuggestedActions = new SuggestedActions()\n            {\n                Actions = new List&lt;CardAction&gt;()\n            {\n                new CardAction() { Title = \"Red\", Type = ActionTypes.ImBack, Value = \"Red\" },\n                new CardAction() { Title = \"Yellow\", Type = ActionTypes.ImBack, Value = \"Yellow\" },\n                new CardAction() { Title = \"Blue\", Type = ActionTypes.ImBack, Value = \"Blue\" },\n            },\n            };\n            await turnContext.SendActivityAsync(reply, cancellationToken);\n\n\n\n        }\n</code></pre>\n\n<p>I need to pass the chatBotID to the bot file to print out the user-id.\nI have tried a few different solutions for asp.net core, but nothing seems to work. Any ideas </p>\n"}, {"tags": ["c#", "linq", "linq-to-xml"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1567008044, "post_id": 57696193, "comment_id": 101836754, "body": "Update them how? For each user? All of them to the same value? Depending on another value?"}], "answers": [{"tags": [], "owner": {"reputation": 4767, "user_id": 3911233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dcd131c52bf8f025d147620b6d59f9?s=128&d=identicon&r=PG&f=1", "display_name": "steve16351", "link": "https://stackoverflow.com/users/3911233/steve16351"}, "is_accepted": true, "score": 3, "last_activity_date": 1567008417, "creation_date": 1567008417, "answer_id": 57696360, "question_id": 57696193, "link": "https://stackoverflow.com/questions/57696193/how-to-update-all-instances-of-an-element-in-xdocument/57696360#57696360", "title": "How to update all instances of an element in XDocument?", "body": "<p>Linq is a query language, so you can't directly use it to modify the value, but you can easily select all the <code>Resource</code> elements in the document with it and iterate/change them.</p>\n\n<p>For example:</p>\n\n<pre><code>// or load from xml, however you have it\nvar xDoc = XDocument.Load(@\"c:\\temp\\myxml.xml\"); \n// iterate every Resource element\nforeach (XElement element in xDoc.Descendants(\"Resource\"))            \n    element.Value = \"Hello, world\";        \n</code></pre>\n\n<p>That will pick out every <code>Resource</code> element in the XML regardless of where it is in the hierarchy, which in your case, is what you need. If you needed to target it more specifically, you could either use an XPath expression or further Linq calls such as <code>Element()</code> which work on a single level of the hierarchy.</p>\n"}], "owner": {"reputation": 2032, "user_id": 638443, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c78e475cc7da168f8344fb733916647?s=128&d=identicon&r=PG", "display_name": "Jyina", "link": "https://stackoverflow.com/users/638443/jyina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 57696360, "answer_count": 1, "score": 1, "last_activity_date": 1567008417, "creation_date": 1567007743, "last_edit_date": 1567008222, "question_id": 57696193, "link": "https://stackoverflow.com/questions/57696193/how-to-update-all-instances-of-an-element-in-xdocument", "title": "How to update all instances of an element in XDocument?", "body": "<p>I have xml structure as below. How can I replace the element value of  that is present everywhere in this structure? Is there a way to do this using Linq? Also, sometimes the structure could be different but there will always be Resource element so I need to look at all instances of Resource and not care about where it is present.</p>\n\n<p>Thanks for any suggestions.</p>\n\n<pre><code>&lt;Users&gt;\n    &lt;User&gt;\n        &lt;Number&gt;123456&lt;/Number&gt;\n        &lt;ID&gt;1&lt;/ID&gt;\n        &lt;Events&gt;\n          &lt;Event&gt;\n            &lt;ID&gt;12&lt;/ID&gt;\n          &lt;/Event&gt;\n        &lt;/Events&gt;\n        &lt;Items&gt;\n          &lt;Item&gt;\n            &lt;ID&gt;12&lt;/ID&gt;\n            &lt;Resource&gt;Replace this value&lt;/Resource&gt;\n          &lt;/Item&gt;\n          &lt;Item&gt;\n            &lt;ID&gt;13&lt;/ID&gt;\n            &lt;Resource&gt;Replace this value&lt;/Resource&gt;\n          &lt;/Item&gt;\n          &lt;Item&gt;\n            &lt;ID&gt;14&lt;/ID&gt;\n            &lt;Resource&gt;Replace this value&lt;/Resource&gt;\n          &lt;/Item&gt;\n        &lt;/Items&gt;\n    &lt;/User&gt;\n\n    //More User elements where Resource needs to be updated\n    &lt;User&gt;\n    &lt;/User&gt;\n\n    &lt;User&gt;\n    &lt;/User&gt;\n&lt;/Users&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "xml"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1567007902, "post_id": 57696121, "comment_id": 101836671, "body": "Xml is Text!!!!"}, {"owner": {"reputation": 18231, "user_id": 1603275, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/800784b7ca68de8162923fff61bc687a?s=128&d=identicon&r=PG", "display_name": "Kami", "link": "https://stackoverflow.com/users/1603275/kami"}, "edited": false, "score": 3, "creation_date": 1567007904, "post_id": 57696121, "comment_id": 101836673, "body": "This may depend on how the browser handles XML documents.  Eg, on my development machine, firefox is set to download XML files, and Chrome is set to display them in the browser."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11838573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/749a1a533f3bdd19e08839caaac447b5?s=128&d=identicon&r=PG&f=1", "display_name": "Obi Wan ", "link": "https://stackoverflow.com/users/11838573/obi-wan"}, "edited": false, "score": 0, "creation_date": 1567013055, "post_id": 57696568, "comment_id": 101838880, "body": "Thanks. however, it displays it as an html document now instead of XML"}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "reply_to_user": {"reputation": 21, "user_id": 11838573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/749a1a533f3bdd19e08839caaac447b5?s=128&d=identicon&r=PG&f=1", "display_name": "Obi Wan ", "link": "https://stackoverflow.com/users/11838573/obi-wan"}, "edited": false, "score": 0, "creation_date": 1567013333, "post_id": 57696568, "comment_id": 101838996, "body": "That probably depends on your browser configuration."}], "tags": [], "owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "is_accepted": false, "score": 1, "last_activity_date": 1567009359, "creation_date": 1567009359, "answer_id": 57696568, "question_id": 57696121, "link": "https://stackoverflow.com/questions/57696121/unable-to-export-data-to-xml-in-asp-net-data-exported-to-html-instead-of-xml/57696568#57696568", "title": "Unable to export data to XML in ASP.NET - Data exported to HTML instead of XML", "body": "<p>You're writing the wrong headers. Use:</p>\n\n<pre><code>Content-Disposition: attachment;filename=...\nContent-Type: application/xml\n</code></pre>\n\n<p>As a minimum. See:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2965587/valid-content-type-for-xml-html-and-xhtml-documents\">Valid content-type for XML, HTML and XHTML documents</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13697633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a9384efd4d1632f72fc6b16ddb3f425?s=128&d=identicon&r=PG&f=1", "display_name": "phong", "link": "https://stackoverflow.com/users/13697633/phong"}, "is_accepted": false, "score": 0, "last_activity_date": 1597658306, "last_edit_date": 1597658306, "creation_date": 1597658114, "answer_id": 63448516, "question_id": 57696121, "link": "https://stackoverflow.com/questions/57696121/unable-to-export-data-to-xml-in-asp-net-data-exported-to-html-instead-of-xml/63448516#63448516", "title": "Unable to export data to XML in ASP.NET - Data exported to HTML instead of XML", "body": "<p>I think that deleting this is the answer:</p>\n<pre><code>Response.AppendHeader(&quot;Content-Length&quot;, byteArray.Length.ToString());\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11838573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/749a1a533f3bdd19e08839caaac447b5?s=128&d=identicon&r=PG&f=1", "display_name": "Obi Wan ", "link": "https://stackoverflow.com/users/11838573/obi-wan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1597658306, "creation_date": 1567007493, "last_edit_date": 1567013316, "question_id": 57696121, "link": "https://stackoverflow.com/questions/57696121/unable-to-export-data-to-xml-in-asp-net-data-exported-to-html-instead-of-xml", "title": "Unable to export data to XML in ASP.NET - Data exported to HTML instead of XML", "body": "<p>I want to export some data from my ASP.NET web form application to a downloadable XML file but I can't get it to display the downlaoded information as an XML file. It outputs the information as an html document instead of XML.</p>\n\n<pre><code>protected void ExportXMLButton_Click(object sender, EventArgs e)\n{\n\n    using (MemoryStream stream = new MemoryStream())\n    {\n        // Create an XML document. Write our specific values into the document.\n        XmlTextWriter xmlWriter = new XmlTextWriter(stream, System.Text.Encoding.ASCII);\n        // Write the XML document header.\n        xmlWriter.WriteStartDocument();\n        // Write our first XML header.\n        xmlWriter.WriteStartElement(\"WebApplications\");\n        // Write an element representing a single web application object.\n        xmlWriter.WriteStartElement(\"WebApplication\");\n        // Write child element data for our web application object.\n        xmlWriter.WriteElementString(\"Date\", DateTime.Now.ToString());\n        xmlWriter.WriteElementString(\"Programmer\", \"Label1.Text\");\n        xmlWriter.WriteElementString(\"Name\", \"Sample name \");\n        xmlWriter.WriteElementString(\"Language\", \"C# \");\n        xmlWriter.WriteElementString(\"Status\", \"Done\");\n        // End the element WebApplication\n        xmlWriter.WriteEndElement();\n        // End the document WebApplications\n        xmlWriter.WriteEndElement();\n        // Finilize the XML document by writing any required closing tag.\n        xmlWriter.WriteEndDocument();\n        // To be safe, flush the document to the memory stream.\n        xmlWriter.Flush();\n        // Convert the memory stream to an array of bytes.\n        byte[] byteArray = stream.ToArray();\n        // Send the XML file to the web browser for download.\n        Response.Clear();\n        Response.AppendHeader(\"Content-Disposition\", \"filename=MyExportedFile.xml\");\n        Response.AppendHeader(\"Content-Length\", byteArray.Length.ToString());\n        Response.ContentType = \"application/octet-stream\";\n        Response.BinaryWrite(byteArray);\n        xmlWriter.Close();\n\n    }\n}\n</code></pre>\n\n<p>I expect the output to be an XML file, but the actual output is my data being shown on the screen as a text.</p>\n"}, {"tags": ["c#", ".net", "windows"], "comments": [{"owner": {"reputation": 1759, "user_id": 1890717, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/L5pc1.png?s=128&g=1", "display_name": "Menachem Hornbacher", "link": "https://stackoverflow.com/users/1890717/menachem-hornbacher"}, "edited": false, "score": 5, "creation_date": 1567008061, "post_id": 57696093, "comment_id": 101836768, "body": "From the users perspective their documents folder (the link in explorer, all other applications that save to the documents folder) becomes the one in the one-drive folder. Are you sure you want your application to specifically not follow this pattern?"}, {"owner": {"reputation": 1759, "user_id": 1890717, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/L5pc1.png?s=128&g=1", "display_name": "Menachem Hornbacher", "link": "https://stackoverflow.com/users/1890717/menachem-hornbacher"}, "edited": false, "score": 2, "creation_date": 1567008152, "post_id": 57696093, "comment_id": 101836816, "body": "Also it is not always <code>C:\\Users\\&lt;username&gt;\\Documents</code> (although it generally is). for example, corporate users may have this changed by their IT departments for various reasons (e.g. a shared documents folder for a sales teams desktop systems...)  Are you sure your app always wants to use that folder (which may not even exist)?"}, {"owner": {"reputation": 1591, "user_id": 2242315, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/0hQMc.jpg?s=128&g=1", "display_name": "Ryanas", "link": "https://stackoverflow.com/users/2242315/ryanas"}, "reply_to_user": {"reputation": 1759, "user_id": 1890717, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/L5pc1.png?s=128&g=1", "display_name": "Menachem Hornbacher", "link": "https://stackoverflow.com/users/1890717/menachem-hornbacher"}, "edited": false, "score": 1, "creation_date": 1567008408, "post_id": 57696093, "comment_id": 101836941, "body": "I agree with @MHornbacher, it seems like <code>SpecialFolder.MyDocuments</code> is working as intended as MyDocuments is personal to each user on the OS. If you want, maybe you could see if <code>Environment.SpecialFolder.Personal</code> acts differently but I suspect it will return the same directory as they&#39;re equivalent to each other."}, {"owner": {"reputation": 5549, "user_id": 296526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1ZW62.png?s=128&g=1", "display_name": "Myrtle", "link": "https://stackoverflow.com/users/296526/myrtle"}, "edited": false, "score": 0, "creation_date": 1567009055, "post_id": 57696093, "comment_id": 101837235, "body": "In the case you just need to store data, use the AppData folders instead of Documents."}, {"owner": {"reputation": 556, "user_id": 7274172, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dPFDl.jpg?s=128&g=1", "display_name": "Luchspeter", "link": "https://stackoverflow.com/users/7274172/luchspeter"}, "reply_to_user": {"reputation": 1759, "user_id": 1890717, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/L5pc1.png?s=128&g=1", "display_name": "Menachem Hornbacher", "link": "https://stackoverflow.com/users/1890717/menachem-hornbacher"}, "edited": false, "score": 0, "creation_date": 1567069460, "post_id": 57696093, "comment_id": 101855761, "body": "@MHornbacher Thank you for that information. I did not know, that it is common to change that.   Our application stores Excel-Documents there and uses it as templates. The thing is, that excel behaves weird if the files are saved in the AppData folder because it uses this directory for their temporary unsaved files. It seems that I&#39;m not able to find the original link for that anymore..."}, {"owner": {"reputation": 556, "user_id": 7274172, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dPFDl.jpg?s=128&g=1", "display_name": "Luchspeter", "link": "https://stackoverflow.com/users/7274172/luchspeter"}, "edited": false, "score": 0, "creation_date": 1567069545, "post_id": 57696093, "comment_id": 101855797, "body": "Also - yes I want to not save it there, since OneDrive accesses the file to synch it and my application cannot access it. &quot;File is in use by another Process&quot;."}], "owner": {"reputation": 556, "user_id": 7274172, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dPFDl.jpg?s=128&g=1", "display_name": "Luchspeter", "link": "https://stackoverflow.com/users/7274172/luchspeter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1567007354, "creation_date": 1567007354, "question_id": 57696093, "link": "https://stackoverflow.com/questions/57696093/get-windows-non-drive-mydocuments-folder", "title": "Get Windows- Non-Drive MyDocuments Folder", "body": "<p>Accessing the \"MyDocuments\" folder in C# is easy with <code>Environment.SpecialFolder.MyDocuments</code> which returns the path:\n<code>C:\\Users\\userName\\Documents\\</code></p>\n\n<p>But if the user has OneDrive active, the method above brings me to the path:\n<code>C:\\Users\\userName\\OneDrive\\Documents</code></p>\n\n<p><strong>How can I access the normal myDocuments folder if the user has OneDrive active?</strong></p>\n\n<p>I could simply remove that part from the directory path manually, but I would prefer are more \"clean\" solution.</p>\n"}, {"tags": ["c#", "entity-framework-core"], "answers": [{"tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 1, "last_activity_date": 1567014251, "creation_date": 1567014251, "answer_id": 57697599, "question_id": 57696074, "link": "https://stackoverflow.com/questions/57696074/entity-framework-core-how-can-i-extract-details-about-the-underlying-sql-synta/57697599#57697599", "title": "Entity Framework Core - How can I extract details about the underlying SQL syntax?", "body": "<p>All which comes to my mind in EF Core 2.x is the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.storage.isqlgenerationhelper?view=efcore-2.1\" rel=\"nofollow noreferrer\">ISqlGenerationHelper</a> interface (service). It's quite limited, but provides  <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.storage.isqlgenerationhelper.delimitidentifier?view=efcore-2.1#Microsoft_EntityFrameworkCore_Storage_ISqlGenerationHelper_DelimitIdentifier_System_String_\" rel=\"nofollow noreferrer\">DelimitIdentifier</a> method which does what you are asking for. And is used by the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.query.sql.defaultquerysqlgenerator?view=efcore-2.1\" rel=\"nofollow noreferrer\">DefaultQuerySqlGenerator</a> shared by all provider SQL generators, so I guess it should be enough.</p>\n\n<p>Since this is internal service, you'd need</p>\n\n<pre><code>using Microsoft.EntityFrameworkCore.Infrastructure;\n</code></pre>\n\n<p>in order to get access to <code>GetService</code> extension method, and</p>\n\n<pre><code>using Microsoft.EntityFrameworkCore.Storage;\n</code></pre>\n\n<p>for <code>ISqlGenerationHelper</code> interface.</p>\n\n<p>The usage is like this:</p>\n\n<pre><code>var sqlGeneratorHelper = dbContext.GetService&lt;ISqlGenerationHelper&gt;();\nvar tableName = sqlGeneratorHelper.DelimitIdentifier(\"MyTable\");\n// SqlServer: [MyTable]\n</code></pre>\n"}], "owner": {"reputation": 8227, "user_id": 472966, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/678037dc2eaafe79c801cc62483077f6?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/472966/brad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 57697599, "answer_count": 1, "score": 4, "last_activity_date": 1567014251, "creation_date": 1567007296, "question_id": 57696074, "link": "https://stackoverflow.com/questions/57696074/entity-framework-core-how-can-i-extract-details-about-the-underlying-sql-synta", "title": "Entity Framework Core - How can I extract details about the underlying SQL syntax?", "body": "<p>I'm writing a library that requires the use of a recursive (CTE) query to efficiently fetch some data. Obviously this is not possible to do using Entity Framework and LINQ. As a result, I have used the <code>FromSql</code> command to run the raw query against the database. However, my query was designed and works against MySQL/MariaDB. When I run it against postgres, there are some minor syntax differences that cause it to break.</p>\n\n<p>Ideally, I would like to avoid hardcoding (copy and pasting) the same query 3 times to work with postgres, mysql and potentially MS SQL. Given a <code>DbContext</code> is there any way I can drill down and get specific SQL syntax information from the underlying provider? For example MySQL uses a backtick as a quoted identifier, and Postgres uses double quotes, MS SQL is wrapped in <code>[</code> and <code>]</code>. Is there any way I can fetch this type of information from the underlying provider to hopefully make my <code>FromSQL</code> raw query as robust as possible?</p>\n"}, {"tags": ["c#", "linq"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 10167885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069f8e28887f009c4f827f8e7b4e4d4e?s=128&d=identicon&r=PG&f=1", "display_name": "YogiWatcher", "link": "https://stackoverflow.com/users/10167885/yogiwatcher"}, "edited": false, "score": 0, "creation_date": 1567012360, "post_id": 57696091, "comment_id": 101838570, "body": "Thanks, I have got a lot to learn about LINQ. Can you explain difference between <code>Select</code> and <code>SelectMany</code>?"}], "tags": [], "owner": {"reputation": 408521, "user_id": 284240, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/01d6005ebf89c14de87a62add488aaad?s=128&d=identicon&r=PG", "display_name": "Tim Schmelter", "link": "https://stackoverflow.com/users/284240/tim-schmelter"}, "is_accepted": true, "score": 3, "last_activity_date": 1567008331, "last_edit_date": 1567008331, "creation_date": 1567007352, "answer_id": 57696091, "question_id": 57695942, "link": "https://stackoverflow.com/questions/57695942/building-linq-query-to-get-list-of-dictionaries-from-dictionary-of-string-hashse/57696091#57696091", "title": "Building LINQ query to get List of Dictionaries from Dictionary of string/HashSet of Dictionary of String/String?", "body": "<p>You can use <code>SelectMany</code> to get the dictionaries in each Value:</p>\n\n<pre><code> matched = myData\n    .SelectMany(kv =&gt; kv.Value)\n    .Where(dict =&gt; dict.TryGetValue(givenKey, out string value) &amp;&amp; value == givenValue)\n    .ToList();\n</code></pre>\n\n<p>Whenever you see a nested <code>foreach</code> the LINQ way is to use <code>SelectMany</code>.</p>\n\n<p>Your query doesn't work because you are selecting the KeyValuePairs instead of each <code>Value</code>s dictionary and also because you pass an enumerable to <code>Where</code> instead of something that returns a <code>bool</code>(a so called predicate).</p>\n"}], "owner": {"reputation": 89, "user_id": 10167885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069f8e28887f009c4f827f8e7b4e4d4e?s=128&d=identicon&r=PG&f=1", "display_name": "YogiWatcher", "link": "https://stackoverflow.com/users/10167885/yogiwatcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 57696091, "answer_count": 1, "score": 1, "last_activity_date": 1567008331, "creation_date": 1567006797, "question_id": 57695942, "link": "https://stackoverflow.com/questions/57695942/building-linq-query-to-get-list-of-dictionaries-from-dictionary-of-string-hashse", "title": "Building LINQ query to get List of Dictionaries from Dictionary of string/HashSet of Dictionary of String/String?", "body": "<p>I need to convert one traditional logic into LINQ query (Method Syntax).</p>\n\n<p>I looked at few questions already asked on this forum. One that came very close to my scenario is this: <a href=\"https://stackoverflow.com/questions/33055423/dictionarystring-listdictionarystring-string-query-using-linq\">Dictionary&lt;string, List&lt;Dictionary&lt;string,string&gt;&gt;&gt; query using linq</a>. But I am still having difficulty converting my following logic into equivalent LINQ (Method Syntax) query. I need help. I am still learning LINQ, so please bear with me.</p>\n\n<pre><code>Dictionary&lt;String, HashSet&lt;Dictionary&lt;String, String&gt;&gt;&gt; myData = BuildMyData();\nString givenKey = GetGivenKey();\nString givenValue = GetGivenValue();\n\n// I need LINQ (Method syntax) equivalant to following logic:\nList&lt;Dictionary&lt;String, String&gt;&gt; matched = new List&lt;Dictionary&lt;String, String&gt;&gt;();\nforeach(KeyValuePair&lt;String, HashSet&lt;Dictionary&lt;String, String&gt;&gt;&gt; kvp in myData)\n    foreach (Dictionary&lt;String, String&gt; dict in kvp.Value)\n        if (dict.ContainsKey(givenKey) &amp;&amp; dict[givenKey] == givenValue)\n        {\n            matched.Add(dict);\n            break;\n        }\n</code></pre>\n\n<p>How can I build <code>matched</code> using LINQ methods syntax?</p>\n\n<p>I tried following, but this gives me two errors - </p>\n\n<pre><code>matched = myData.Where(kvp =&gt; kvp.Value.Where(dict =&gt;\n                dict.ContainsKey(givenKey) &amp;&amp; dict[givenKey] == givenValue)).ToList();\n</code></pre>\n\n<p>But that gives me two errors:</p>\n\n<ul>\n<li>CS0029 Cannot implicitly convert type 'System.Collections.Generic.IEnumerable>' to 'bool'</li>\n<li>CS1662 Cannot convert lambda expression to intended delegate type because some of the return types in the block are not implicitly convertible to the delegate return type</li>\n</ul>\n\n<p>What am I doing wrong? and How do I fix it?</p>\n"}, {"tags": ["c#", ".net", "pdf", "itext", "pdf-reader"], "comments": [{"owner": {"reputation": 1, "user_id": 11989825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j7k66.jpg?s=128&g=1", "display_name": "Mihai Angel", "link": "https://stackoverflow.com/users/11989825/mihai-angel"}, "edited": false, "score": 0, "creation_date": 1567007103, "post_id": 57695922, "comment_id": 101836250, "body": "That&#39;s a sample from the CODE-SUN.pdf document that I use as text input: &quot;Sun Pharma is committed to complying with all applicable environmental legislation and other environmental requirements to which we subscribe, and to the continual improvement of the environmental management system to enhance environmental performance.&quot;"}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1567052921, "post_id": 57695922, "comment_id": 101849242, "body": "Apparently your pdf text uses ligatures but doesn&#39;t add the required information for text extraction. Please share the pdf in question for analysis."}, {"owner": {"reputation": 1, "user_id": 11989825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j7k66.jpg?s=128&g=1", "display_name": "Mihai Angel", "link": "https://stackoverflow.com/users/11989825/mihai-angel"}, "reply_to_user": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1567068426, "post_id": 57695922, "comment_id": 101855252, "body": "Thank you mkl, I shared the CODE-SUN.pdf document."}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1567075217, "post_id": 57695922, "comment_id": 101858817, "body": "As assumed the PDF uses ligature glyphs (glyphs representing multiple characters at once, e.g. the &#39;tt&#39; in &#39;committed&#39;) but in the respective <b>ToUnicode</b> mapping (which tells text extractors which unicode character(s) a glyph corresponds to) that glyph is neither mapped to the Unicode values a pair of &#39;t&#39;s nor to that of a &#39;tt&#39; ligature; instead it is mapped to U+0000. Unfortunately other ligature glyphs also are mapped to U+0000, e.g. the &#39;ti&#39; in &#39;legislation&#39; later in your example text, so you cannot simply replace all &#39;\\u0000&#39; by &#39;tt&#39;."}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1567075711, "post_id": 57695922, "comment_id": 101859083, "body": "Thus, pure simple text extraction won&#39;t return you the desired text. In case of <i>this</i> document, though, there is a way out: the text drawing instructions with ligature glyphs are preceded by marked content points containing the actual Unicode for glyph string to come. You cannot expect this from arbitrary PDFs, though. Concerning <i>&quot;The desired result is to extract the correct text from any .pdf document&quot;</i>, therefore: there is no common routine for that."}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1567080718, "post_id": 57695922, "comment_id": 101861920, "body": "As an aside, what do you attempt in the <code>currentText = Encoding.UTF8.GetString(Encoding.Convert(Encoding.ASCII, Encoding.UTF8, Encoding.Default.GetBytes(currentText)))</code> line?"}, {"owner": {"reputation": 1, "user_id": 11989825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j7k66.jpg?s=128&g=1", "display_name": "Mihai Angel", "link": "https://stackoverflow.com/users/11989825/mihai-angel"}, "reply_to_user": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1567155733, "post_id": 57695922, "comment_id": 101887913, "body": "Thank you mkl! That line of code is the assurance of getting the correct characters (encoding ASCII to UTF-8), from any selected text, for any document.pdf, written in any world&#39;s language."}, {"owner": {"reputation": 1, "user_id": 11989825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j7k66.jpg?s=128&g=1", "display_name": "Mihai Angel", "link": "https://stackoverflow.com/users/11989825/mihai-angel"}, "reply_to_user": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1567156128, "post_id": 57695922, "comment_id": 101888107, "body": "I also tried to select random text, from CODE-SUN.pdf document, (for copy-paste reason), using Adobe Acrobat Reader standard document management system.  But when I pasted the text inside a file.txt, some characters of the original text were wrong represented.  (e.g. &quot;commi\udbc0\udc82ed&quot; instead of &quot;committed&quot;)"}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1567174318, "post_id": 57695922, "comment_id": 101896919, "body": "<i>&quot;That line of code is the assurance of getting the correct characters&quot;</i> - hhmmm, to me that looks more like code attempting to damage everything except probably ASCII and probably other single-byte UTF-8 characters. Do you by chance have an example PDF in which that line improves the output?"}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1567174584, "post_id": 57695922, "comment_id": 101897076, "body": "<i>&quot;I also tried to select random text, from CODE-SUN.pdf document using Adobe Acrobat Reader&quot;</i> - Adobe Reader copy&amp;paste essentially does the same text extraction as iText does; thus, it also has issues at the broken glyphs in your pdf."}, {"owner": {"reputation": 1, "user_id": 11989825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j7k66.jpg?s=128&g=1", "display_name": "Mihai Angel", "link": "https://stackoverflow.com/users/11989825/mihai-angel"}, "reply_to_user": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1567335569, "post_id": 57695922, "comment_id": 101928789, "body": "Thank you mkl! &quot;Do you by chance have an example PDF in which that line improves the output?&quot; - Unfortunately, I don&#39;t have any example. Therefore, you&#39;re right."}], "owner": {"reputation": 1, "user_id": 11989825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j7k66.jpg?s=128&g=1", "display_name": "Mihai Angel", "link": "https://stackoverflow.com/users/11989825/mihai-angel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567068271, "creation_date": 1567006729, "last_edit_date": 1567068271, "question_id": 57695922, "link": "https://stackoverflow.com/questions/57695922/how-to-convert-special-characters-from-pdf-to-txt-in-c-using-itextsharp", "title": "How to convert special characters from .PDF to .TXT in C# using iTextSharp?", "body": "<p>I got the CODE-SUN.pdf document.\nI extracted the text from this document using the below source code.\nThe extracted text is different from the CODE-SUN.pdf document.\nFor example, it was extracted \"commi\\0ed\" instead of \"committed\".</p>\n\n<p>Please see the attached CODE-SUN.pdf document: <a href=\"https://www.dropbox.com/s/p88695vel6zaa86/CODE-SUN.pdf?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/p88695vel6zaa86/CODE-SUN.pdf?dl=0</a></p>\n\n<p>I've tried the below source code:</p>\n\n<pre><code>public static string ConvertToTxtWithITextSharp(byte[] content)\n{    \n    var pdfReader = new PdfReader(content);\n\n    var s = new StringBuilder();\n    foreach (var pageNo in Enumerable.Range(1, pdfReader.NumberOfPages))\n    {\n        s.AppendLine($\"** Page {pageNo} **\");\n        ITextExtractionStrategy strategy = new SimpleTextExtractionStrategy();              \n        var currentText = \"\";\n\n        currentText = PdfTextExtractor.GetTextFromPage(pdfReader, pageNo, strategy);\n\n        currentText = Encoding.UTF8.GetString(Encoding.Convert(Encoding.ASCII, Encoding.UTF8, Encoding.Default.GetBytes(currentText)));\n        s.AppendLine(ConcatLines(currentText));\n    }            \n\n    return s.ToString();\n}\n</code></pre>\n\n<p>The desired result is to extract the correct text from any .pdf document.</p>\n"}, {"tags": ["c#", "arrays"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1567006877, "post_id": 57695909, "comment_id": 101836127, "body": "Show us how your c# code and what it looks like. How are you grabbing this data? Are you using Linq or are you brute forcing this?"}, {"owner": {"reputation": 841, "user_id": 2524543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebd4b7235800bfe247f9f3b8c0893a0?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2524543/michael"}, "edited": false, "score": 0, "creation_date": 1567007216, "post_id": 57695909, "comment_id": 101836311, "body": "if you are using linq: try to group your data by id, then output <code>grp.Key</code> into first column and <code>string.Join</code> all group values into the second column"}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1567007507, "post_id": 57695909, "comment_id": 101836465, "body": "You have to show us your c# code, or if you want to do this in SQL show us what you have tried."}, {"owner": {"reputation": 35, "user_id": 548757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fff426093d9142244d17c84753fcb60?s=128&d=identicon&r=PG", "display_name": "syahman", "link": "https://stackoverflow.com/users/548757/syahman"}, "edited": false, "score": 0, "creation_date": 1567007834, "post_id": 57695909, "comment_id": 101836633, "body": "im using legacy massive ORM. i know LINQ can do this. just update my question to include sql from code."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 548757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fff426093d9142244d17c84753fcb60?s=128&d=identicon&r=PG", "display_name": "syahman", "link": "https://stackoverflow.com/users/548757/syahman"}, "edited": false, "score": 0, "creation_date": 1567008142, "post_id": 57696179, "comment_id": 101836811, "body": "ok, will try this. need to pass query result to datatable 1st."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 35, "user_id": 548757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fff426093d9142244d17c84753fcb60?s=128&d=identicon&r=PG", "display_name": "syahman", "link": "https://stackoverflow.com/users/548757/syahman"}, "edited": false, "score": 0, "creation_date": 1567008431, "post_id": 57696179, "comment_id": 101836953, "body": "Your query should return already a list of rows which is equivalent of dt.AsEnumerable()"}, {"owner": {"reputation": 35, "user_id": 548757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fff426093d9142244d17c84753fcb60?s=128&d=identicon&r=PG", "display_name": "syahman", "link": "https://stackoverflow.com/users/548757/syahman"}, "edited": false, "score": 0, "creation_date": 1567012822, "post_id": 57696179, "comment_id": 101838782, "body": "var group = data.GroupBy.Field&lt;Int32&gt;(&quot;Application_ID&quot;).ToList();  Exception Details: Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: &#39;object&#39; does not contain a definition for &#39;GroupBy&#39;"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 35, "user_id": 548757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fff426093d9142244d17c84753fcb60?s=128&d=identicon&r=PG", "display_name": "syahman", "link": "https://stackoverflow.com/users/548757/syahman"}, "edited": false, "score": 0, "creation_date": 1567019226, "post_id": 57696179, "comment_id": 101841263, "body": "DataTable dt = query.CopyToDataTable();"}], "tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": true, "score": 1, "last_activity_date": 1567007701, "creation_date": 1567007701, "answer_id": 57696179, "question_id": 57695909, "link": "https://stackoverflow.com/questions/57695909/rearrange-db-query-result-in-array-for-duplicate-rows/57696179#57696179", "title": "Rearrange DB query result in array for duplicate rows", "body": "<p>Try following :</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nusing System.Data;\n\nnamespace ConsoleApplication1\n{\n    class Program\n    {\n\n        static void Main(string[] args)\n        {\n            DataTable dt = new DataTable();\n            dt.Columns.Add(\"ID\", typeof(string));\n            dt.Columns.Add(\"GROUP\", typeof(int));\n            dt.Columns.Add(\"DATE\", typeof(DateTime));\n\n            dt.Rows.Add(new object[] {\"A1212\", 1, DateTime.Parse(\"1/1/2019\")});\n            dt.Rows.Add(new object[] {\"A1212\", 2, DateTime.Parse(\"1/1/2019\")});\n            dt.Rows.Add(new object[] {\"A1213\", 1, DateTime.Parse(\"3/1/2019\")});\n\n\n            DataTable dt2 = new DataTable();\n            dt2.Columns.Add(\"ID\", typeof(string));\n            dt2.Columns.Add(\"GROUP\", typeof(string));\n\n            var groups = dt.AsEnumerable().GroupBy(x =&gt; x.Field&lt;string&gt;(\"ID\")).ToList();\n\n            foreach (var group in groups)\n            {\n                dt2.Rows.Add(new object[] {\n                    group.Key,\n                    string.Join(\",\", group.Select(x =&gt; x.Field&lt;int&gt;(\"GROUP\").ToString()).Distinct())\n                });\n            }\n\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 548757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fff426093d9142244d17c84753fcb60?s=128&d=identicon&r=PG", "display_name": "syahman", "link": "https://stackoverflow.com/users/548757/syahman"}, "is_accepted": false, "score": 0, "last_activity_date": 1567088180, "creation_date": 1567088180, "answer_id": 57712146, "question_id": 57695909, "link": "https://stackoverflow.com/questions/57695909/rearrange-db-query-result-in-array-for-duplicate-rows/57712146#57712146", "title": "Rearrange DB query result in array for duplicate rows", "body": "<pre><code>DataTable dx = new DataTable();\n    dx.Columns.Add(\"Application_ID\", typeof(int));\n    dx.Columns.Add(\"KPA_Group\", typeof(int));\n\n    foreach(var z in data) { \n    dx.Rows.Add(new object[] { z.Application_ID,z.KPA_Group });\n    }\n\n    DataTable dt1 = new DataTable();\n    dt1.Columns.Add(\"Application_ID\", typeof(string));\n    dt1.Columns.Add(\"KPA_Group\", typeof(string));\n\n    var groups = dx.AsEnumerable().GroupBy(x =&gt; x.Field&lt;Int32&gt;(\"Application_ID\")).ToList();\n\n\n    foreach (var group in groups)\n    {\n        dt1.Rows.Add(new object[] {\n                    group.Key,\n                    string.Join(\",\", group.Select(x =&gt; x.Field&lt;int&gt;(\"KPA_Group\").ToString()).Distinct())\n                });\n    }\n\n\n    foreach (DataRow row in dt1.Rows)\n    {\n\n        @:@row[\"Application_ID\"].ToString() | \n        @:@row[\"KPA_Group\"] &lt;br /&gt;\n    }\n\n</code></pre>\n\n<p>result : </p>\n\n<pre><code>2019080001 | 2,3 \n2019070002 | 2 \n2019070001 | 2 \n2019060001 | 1,2 \n2019040002 | 2 \n2019030002 | 2 \n2019030001 | 2 \n2019020002 | 2 \n2019020001 | 2 \n</code></pre>\n\n<p>i dont understand why i can't use CopyToDataTable method. solved this by using foreach. </p>\n"}, {"tags": [], "owner": {"reputation": 140, "user_id": 11958063, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-agRcYB0ZwSI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reswVAbRFmfJRDJO6WOFF0tvRwv2A/photo.jpg?sz=128", "display_name": "Tohm", "link": "https://stackoverflow.com/users/11958063/tohm"}, "is_accepted": false, "score": 1, "last_activity_date": 1567089291, "creation_date": 1567089291, "answer_id": 57712491, "question_id": 57695909, "link": "https://stackoverflow.com/questions/57695909/rearrange-db-query-result-in-array-for-duplicate-rows/57712491#57712491", "title": "Rearrange DB query result in array for duplicate rows", "body": "<p>If you want to do this action even in T-SQL you must aggregate the result\nBy exemple</p>\n\n<pre><code>DECLARE @fakeTable TABLE (ID varchar(50), [GROUP] int)\n\nINSERT INTO @fakeTable \nVALUES\n('A1212',   1 ),\n('A1212',   2 ),\n('A1213',   1 )\n\nSELECT\n    ID,\n    [GROUP] = stuff((\n        SELECT ','+convert(varchar(100),[GROUP])\n        FROM @fakeTable innerTable\n        WHERE innerTable.ID = orgTable.ID\n        ORDER BY [GROUP]\n        for xml path (''), type).value('.','nvarchar(max)')\n\n      ,1,1,'')\nFROM (\nSELECT DISTINCT ID FROM @fakeTable\n) orgTable\n\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/43572696/convert-int-list-to-string-with-comma-sql-server\">More info about aggregation</a></p>\n"}], "owner": {"reputation": 35, "user_id": 548757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fff426093d9142244d17c84753fcb60?s=128&d=identicon&r=PG", "display_name": "syahman", "link": "https://stackoverflow.com/users/548757/syahman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 57696179, "answer_count": 3, "score": 2, "last_activity_date": 1567089291, "creation_date": 1567006677, "last_edit_date": 1567086710, "question_id": 57695909, "link": "https://stackoverflow.com/questions/57695909/rearrange-db-query-result-in-array-for-duplicate-rows", "title": "Rearrange DB query result in array for duplicate rows", "body": "<p>I want to rearrange query result from db with duplicate data into distinct row (for data display )but having 1 column collect related values in comma separated if more than 1 item found. </p>\n\n<p>For example consider list below (from db query): </p>\n\n<pre><code>ID  GROUP   DATE\nA1212   1   1/1/2019\nA1212   2   1/1/2019\nA1313   1   3/1/2019\n</code></pre>\n\n<p>into:</p>\n\n<pre><code>ID  GROUP\nA1212   1,2\nA1313   1\n</code></pre>\n\n<p>sql string: </p>\n\n<pre><code>select DISTINCT Declaration_Form_Master.*,Declaration_Form_Detail.KPA_Group, Temp_Storage_Reg_V.*,Temp_Storage_Reg_V.ID as TSEID,Users.Company As Uc, 'NULL' as 'CTU_id' from Declaration_Form_Master left outer join Temp_Storage_Reg_V on (Declaration_Form_Master.Master_ID=Temp_Storage_Reg_V.TSEMaster_ID) right join Users on (Declaration_Form_Master.Agent_ID = Users.UserId) right join Declaration_Form_Detail on (Declaration_Form_Master.Master_ID = Declaration_Form_Detail.Master_ID) where Declaration_Form_Master.Confirmation ='1' and Submit_Date &gt;= '2019-01-28' and Submit_Date &lt; '2019-08-30' order by Application_ID DESC\n</code></pre>\n\n<p>need to join all table because search criteria based on column on multiple table. i cant figure out on sql, but want to rearrange back the result using array or list.</p>\n\n<p>Maybe some algorithm can help.</p>\n"}, {"tags": ["c#", "entity-framework", ".net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1567007341, "post_id": 57695887, "comment_id": 101836375, "body": "What is the EF Core version?"}, {"owner": {"reputation": 1939, "user_id": 8676371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fnATA.jpg?s=128&g=1", "display_name": "Anduin", "link": "https://stackoverflow.com/users/8676371/anduin"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1567007607, "post_id": 57695887, "comment_id": 101836506, "body": "@IvanStoev Hi, thanks for your suggestion. I have added the context info in the question part."}], "answers": [{"tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 2, "last_activity_date": 1567008994, "creation_date": 1567008994, "answer_id": 57696469, "question_id": 57695887, "link": "https://stackoverflow.com/questions/57695887/entity-framework-conditionally-query-related-entities-with-type-converting/57696469#57696469", "title": "Entity framework - Conditionally query related entities with type converting", "body": "<p>I can't find any documentation regarding this. </p>\n\n<p>According to <a href=\"https://docs.microsoft.com/en-us/ef/core/querying/related-data#include-on-derived-types\" rel=\"nofollow noreferrer\">Include on derived types</a> one can use either <code>as</code> operator or explict cast. And indeed both work for <code>Include</code>. But in standard LINQ operators the <code>as</code> operator is causing client evaluation and the exception in question - client evaluation occurs at a time the navigation properties are not loaded yet (despite the <code>Include</code>). One more reason for removing client evaluation in 3.0.</p>\n\n<p>Back to your issue. The solution is to use explicit cast:</p>\n\n<pre><code>.Where(t =&gt; ((PrivateConversation)t).Users.Any())\n</code></pre>\n\n<p>which correctly translates to SQL, hence has no NRE issues at all.</p>\n"}], "owner": {"reputation": 1939, "user_id": 8676371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fnATA.jpg?s=128&g=1", "display_name": "Anduin", "link": "https://stackoverflow.com/users/8676371/anduin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 57696469, "answer_count": 1, "score": 1, "last_activity_date": 1567008994, "creation_date": 1567006567, "last_edit_date": 1567007639, "question_id": 57695887, "link": "https://stackoverflow.com/questions/57695887/entity-framework-conditionally-query-related-entities-with-type-converting", "title": "Entity framework - Conditionally query related entities with type converting", "body": "<p>I have two class:</p>\n\n<pre><code>public abstract class Conversation\n{\n    public int Id { get; set; }\n}\n\npublic class PrivateConversation : Conversation\n{\n    public ICollection&lt;User&gt; Users { get; set; }\n}\n</code></pre>\n\n<p>In DbContext, there are DbSets:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public DbSet&lt;Conversation&gt; Conversations { get; set; }\npublic DbSet&lt;PrivateConversation&gt; PrivateConversations { get; set; }\npublic DbSet&lt;User&gt; Users { get; set; }\n</code></pre>\n\n<p>Which generates two tables: <code>Conversations</code> and <code>Users</code>.</p>\n\n<blockquote>\n  <p>PrivateConversations are saved in table <code>Conversations</code></p>\n</blockquote>\n\n<p>Now an error occurred with query:</p>\n\n<pre><code>\n// For some reason, I can only query `db.Conversations`, can not access `db.PrivateConversations`\nvar conversations = db.Conversations\n  .Include(t =&gt; (t as PrivateConversation).Users)\n  .Where(t =&gt; t is PrivateConversation)\n  .Where(t =&gt; (t as PrivateConversation).Users.Any())\n  .ToList();\n</code></pre>\n\n<p>Told me that in <code>Users.Any()</code>, <code>Users</code> is null.</p>\n\n<p>I am very confused. How can I query all private conversations with user in it?</p>\n\n<h3>Additional info:</h3>\n\n<p>packages I usesd:</p>\n\n<pre><code>&lt;PackageReference Include=\"Microsoft.EntityFrameworkCore.Design\" Version=\"2.2.6\" /&gt;\n&lt;PackageReference Include=\"Microsoft.EntityFrameworkCore.SQLServer\" Version=\"2.2.6\" /&gt;\n</code></pre>\n\n<p>runtime: .NET Core 2.2</p>\n\n<pre><code>&lt;OutputType&gt;Exe&lt;/OutputType&gt;\n&lt;TargetFramework&gt;netcoreapp2.2&lt;/TargetFramework&gt;\n</code></pre>\n"}, {"tags": ["c#", "oracle", "visual-studio"], "comments": [{"owner": {"reputation": 34324, "user_id": 11565629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1f09bc7d02ddc653ac7fdcb947d2c9?s=128&d=identicon&r=PG&f=1", "display_name": "Popeye", "link": "https://stackoverflow.com/users/11565629/popeye"}, "edited": false, "score": 2, "creation_date": 1567006877, "post_id": 57695878, "comment_id": 101836126, "body": "I am not sure what your code is doing but just want to know if commit is executed after update?"}, {"owner": {"reputation": 1, "user_id": 11405652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f27aa235239f34cadacc9175a1ddd1?s=128&d=identicon&r=PG&f=1", "display_name": "Petar Tornjanski", "link": "https://stackoverflow.com/users/11405652/petar-tornjanski"}, "reply_to_user": {"reputation": 34324, "user_id": 11565629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c1f09bc7d02ddc653ac7fdcb947d2c9?s=128&d=identicon&r=PG&f=1", "display_name": "Popeye", "link": "https://stackoverflow.com/users/11565629/popeye"}, "edited": false, "score": 0, "creation_date": 1567011246, "post_id": 57695878, "comment_id": 101838120, "body": "my code should be updating oracle database table from textboxes where I put values... When I click on button I get message: ,,user is updated&quot; but it isnt when I check it"}, {"owner": {"reputation": 126, "user_id": 10728126, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1103fc0a05c466c4f3cd8d55395a15a2?s=128&d=identicon&r=PG", "display_name": "user10728126", "link": "https://stackoverflow.com/users/10728126/user10728126"}, "edited": false, "score": 0, "creation_date": 1567021193, "post_id": 57695878, "comment_id": 101842015, "body": "I think you have to bind by name. Try: oracleCommand.BindByName = true;"}, {"owner": {"reputation": 1, "user_id": 11405652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f27aa235239f34cadacc9175a1ddd1?s=128&d=identicon&r=PG&f=1", "display_name": "Petar Tornjanski", "link": "https://stackoverflow.com/users/11405652/petar-tornjanski"}, "edited": false, "score": 0, "creation_date": 1567023293, "post_id": 57695878, "comment_id": 101842844, "body": "Sir, where should I put that command?"}], "owner": {"reputation": 1, "user_id": 11405652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f27aa235239f34cadacc9175a1ddd1?s=128&d=identicon&r=PG&f=1", "display_name": "Petar Tornjanski", "link": "https://stackoverflow.com/users/11405652/petar-tornjanski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1567007171, "creation_date": 1567006542, "last_edit_date": 1567007171, "question_id": 57695878, "link": "https://stackoverflow.com/questions/57695878/how-to-update-oracle-database-table-in-c-with-variable-from-text-box", "title": "How to update oracle database table in c# with variable from text.box", "body": "<p>When I click on update button I dont get any errors but my table isnt updated. </p>\n\n<pre><code>private void Button3_Click(object sender, EventArgs e)\n    {\n        try\n        {\n\n            OracleConnection cnn = new OracleConnection(oradb);\n            cnn.Open();\n\n            oracleCommand = new OracleCommand(\"UPDATE KUPAC SET NAZIVKUPCA = :NAZIVKUPCA, PIB = :PIB, MATICNIBROJ = :MATICNIBROJ, ZIRORACUN = :ZIRORACUN, EMAIL = :EMAIL WHERE KUPACID = :KUPACID\", cnn);\n\n\n            oracleCommand.Parameters.Add(\"@KUPACID\", Convert.ToInt32(txtKupacId.Text));\n            oracleCommand.Parameters.Add(\"@NAZIVKUPCA\", txtNazivKupca.Text);\n            oracleCommand.Parameters.Add(\"@PIB\", txtPIB.Text);\n            oracleCommand.Parameters.Add(\"@MATICNIBROJ\", txtJMBG.Text);\n            oracleCommand.Parameters.Add(\"@ZIRORACUN\", txtZiroRacun.Text);\n            oracleCommand.Parameters.Add(\"@EMAIL\", txtEmail.Text);\n            int result = oracleCommand.ExecuteNonQuery();\n            MessageBox.Show(\"Kupac uspesno izmenjen\");\n        }\n        catch (Exception exc)\n        {\n            MessageBox.Show(\"Greska prilikom izmena u bazi.\" + exc.Message);\n        }\n        finally\n        {\n\n        }\n\n        OsveziKupce();\n        ObrisiPolja();\n    }\n</code></pre>\n\n<p>I get message \"Kupac uspesno izmenjen\", which means that table should be updated, but nothing happens</p>\n"}, {"tags": ["c#", ".net", "winforms"], "answers": [{"tags": [], "owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "is_accepted": true, "score": 1, "last_activity_date": 1567006768, "creation_date": 1567006768, "answer_id": 57695932, "question_id": 57695868, "link": "https://stackoverflow.com/questions/57695868/capture-debug-output-generated-by-3rd-party-library-in-c/57695932#57695932", "title": "Capture debug output generated by 3rd-Party Library in C#", "body": "<p>Try adding a First-Chance Exception Handler:</p>\n\n<pre><code>using System;\nusing System.Runtime.ExceptionServices;\n\n    class Example\n    {\n        static void Main()\n        {\n            AppDomain.CurrentDomain.FirstChanceException += \n                (object source, FirstChanceExceptionEventArgs e) =&gt;\n                {\n                    Console.WriteLine(\"FirstChanceException event raised in {0}: {1}\",\n                        AppDomain.CurrentDomain.FriendlyName, e.Exception.Message);\n                };\n</code></pre>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/app-domains/how-to-receive-first-chance-exception-notifications\" rel=\"nofollow noreferrer\">How to: Receive First-Chance Exception Notifications</a></p>\n"}], "owner": {"reputation": 394, "user_id": 1178890, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mS9Qs.jpg?s=128&g=1", "display_name": "Ge Rong", "link": "https://stackoverflow.com/users/1178890/ge-rong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 57695932, "answer_count": 1, "score": 0, "last_activity_date": 1567006768, "creation_date": 1567006495, "question_id": 57695868, "link": "https://stackoverflow.com/questions/57695868/capture-debug-output-generated-by-3rd-party-library-in-c", "title": "Capture debug output generated by 3rd-Party Library in C#", "body": "<p>My winform application incorporates a 3rd-party dll (under the .NET 4.5) made by a device manufacturer in which I can use the exposed functions of its class to communicate with the device. But due to their crappy design once any function might fail no error detail can be retrieved from the class itself, but the class somehow put some information into the console window (appeared in the Output tab under Debug filter) in case of anything wrong.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PHcYz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PHcYz.png\" alt=\"Screenshot of VS2013\"></a></p>\n\n<p>Now the problem is, the application can only be executed on the computer that is authorized to communicate otherwise the class won't initiate. So when I test my application on the trusted computer, I can only know that some functions return false but no debug info available. I've tried to add <code>TraceListener</code> to <code>Trace.Listeners</code> but nothing shows from <a href=\"https://stackoverflow.com/questions/20194167/c-sharp-writing-debug-output-to-txt-file\">this answer</a>, I also tried  <code>Debug.Listeners</code> with no result even I manually flushes after each while.</p>\n\n<pre><code>System.Diagnostics.Trace.Listeners.Add(new System.Diagnostics.TextWriterTraceListener(\"debug.txt\"));\nSystem.Diagnostics.Trace.AutoFlush = true;\n</code></pre>\n\n<p>The <a href=\"https://technet.microsoft.com/en-us/sysinternals/debugview.aspx\" rel=\"nofollow noreferrer\">DebugView</a> won't generate anything either, I don't know it's because I don't know how to properly use this tool or not. I just opened it, and nothing shows whatever I do to my application.</p>\n\n<p>I'm highly suspicious that this DLL might just use some <code>try...catch</code> snippet to capture its own exceptions and output those info not by using <code>Debug.Write()</code>. What else I can do? I simply can't just install another Visual Studio on that trusted machine and debug my application there.</p>\n"}, {"tags": ["c#", "event-handling", "concurrentdictionary"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1567006583, "post_id": 57695853, "comment_id": 101835964, "body": "item.Value.IsRunning is not a property of the collection. You need to handle PropertyChanged on the items."}], "answers": [{"comments": [{"owner": {"reputation": 2760, "user_id": 2639188, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c1a58be9b3e79cc22a37cad79a992438?s=128&d=identicon&r=PG", "display_name": "DoIt", "link": "https://stackoverflow.com/users/2639188/doit"}, "edited": false, "score": 0, "creation_date": 1567023885, "post_id": 57696544, "comment_id": 101843054, "body": "Thanks! How do I iterate through each value in the <code>TopicTaskConcurrentDictionary.Instance</code>, <code>item.Value</code> doesnt work any more and also Instance.Any doesnt. Is there way I can use these as I would on a collection?"}, {"owner": {"reputation": 13168, "user_id": 3141792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90e1dac53dada5d6fb65981fb6a10c0?s=128&d=identicon&r=PG&f=1", "display_name": "BionicCode", "link": "https://stackoverflow.com/users/3141792/bioniccode"}, "reply_to_user": {"reputation": 2760, "user_id": 2639188, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c1a58be9b3e79cc22a37cad79a992438?s=128&d=identicon&r=PG", "display_name": "DoIt", "link": "https://stackoverflow.com/users/2639188/doit"}, "edited": false, "score": 0, "creation_date": 1567023987, "post_id": 57696544, "comment_id": 101843093, "body": "What do you mean? It&#39;s in the example. You can use <code>foreach</code>."}, {"owner": {"reputation": 2760, "user_id": 2639188, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c1a58be9b3e79cc22a37cad79a992438?s=128&d=identicon&r=PG", "display_name": "DoIt", "link": "https://stackoverflow.com/users/2639188/doit"}, "edited": false, "score": 0, "creation_date": 1567025697, "post_id": 57696544, "comment_id": 101843771, "body": "<code>item</code> just has <code>Equals, GetHashCode, GetType and ToString</code> in it."}, {"owner": {"reputation": 13168, "user_id": 3141792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90e1dac53dada5d6fb65981fb6a10c0?s=128&d=identicon&r=PG&f=1", "display_name": "BionicCode", "link": "https://stackoverflow.com/users/3141792/bioniccode"}, "reply_to_user": {"reputation": 2760, "user_id": 2639188, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c1a58be9b3e79cc22a37cad79a992438?s=128&d=identicon&r=PG", "display_name": "DoIt", "link": "https://stackoverflow.com/users/2639188/doit"}, "edited": false, "score": 1, "creation_date": 1567026392, "post_id": 57696544, "comment_id": 101844018, "body": "This is because the collection only implemented <code>IEnumerable</code>. So the items returned by the <code>foreach</code> are of type object and require a cast before you can use them. I updated the answer. <code>TopicTaskConcurrentDictionary</code> now implements <code>IEnumerable&lt;T&gt;</code>. Now you can use it like you expect it, without casting."}], "tags": [], "owner": {"reputation": 13168, "user_id": 3141792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d90e1dac53dada5d6fb65981fb6a10c0?s=128&d=identicon&r=PG&f=1", "display_name": "BionicCode", "link": "https://stackoverflow.com/users/3141792/bioniccode"}, "is_accepted": true, "score": 2, "last_activity_date": 1567026867, "last_edit_date": 1567026867, "creation_date": 1567009247, "answer_id": 57696544, "question_id": 57695853, "link": "https://stackoverflow.com/questions/57695853/unable-to-invoke-propertychanged-event-on-a-c-concurrentdictionary/57696544#57696544", "title": "Unable to invoke PropertyChanged event on a C# ConcurrentDictionary", "body": "<p>You are suffering from an encapsulation problem. Seems like you have implemented the Singleton Pattern wrong. You are exposing the underlying collection to the client code. That bypasses the <code>TopicTaskConcurrentDictionary</code> logic. That's why your event never gets raised. You are actually invoking <code>ConcurrentDictionary.TryAdd</code> instead of <code>TopicTaskConcurrentDictionary.TryAdd</code>.</p>\n\n<p>You are adding the new items to the underlying collection directly. \nTo fix your code either remove the <code>Instance</code> property or implement the Singleton properly. But both versions should implement at least the <code>IEnumerable&lt;T&gt;</code> interface. </p>\n\n<p>I replaced <code>PropertyChanged</code> with <code>CollectionChanged</code> (which enables <code>ObservableCollection</code> behavior in binding scenarios) and added an implementation of <code>IEnumerable&lt;T&gt;.GetEnumerator()</code> to enable the collection to be used in <code>foreach</code> iterations. Then I implemented the Singleton Pattern properly. By using <code>Lazy&lt;T&gt;</code> you can reduce the code to create a single shared thread-safe instance significantly:</p>\n\n<pre><code>public sealed class TopicTaskConcurrentDictionary : IEnumerable, IEnumerable&lt;KeyValuePair&lt;KeyValuePair&lt;string, string&gt;, IDataPipesService&gt;&gt;\n{\n  public static TopicTaskConcurrentDictionary Instance =&gt; \n    TopicTaskConcurrentDictionary._instance.Value;\n\n  public event NotifyCollectionChangedEventHandler CollectionChanged;    \n\n  private ConcurrentDictionary&lt;KeyValuePair&lt;string, string&gt;, IDataPipesService&gt; underlyingCollection;\n  private static readonly object Sync = new object();    \n  private static readonly Lazy&lt;TopicTaskConcurrentDictionary&gt; _instance = \n    new Lazy&lt;TopicTaskConcurrentDictionary&gt;(() =&gt; new TopicTaskConcurrentDictionary());\n\n  private TopicTaskConcurrentDictionary()\n  {\n    this.underlyingCollection = new ConcurrentDictionary&lt;KeyValuePair&lt;string, string&gt;, IDataPipesService&gt;();\n  }\n\n  public void TryAdd(KeyValuePair&lt;string, string&gt; key, IDataPipesService value)\n  {\n    this.underlyingCollection.TryAdd(key, value);\n    OnCollectionChanged(new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Add, new KeyValuePair&lt;KeyValuePair&lt;string, string&gt;, IDataPipesService&gt;(key, value)));\n  }\n\n  public IEnumerator&lt;KeyValuePair&lt;KeyValuePair&lt;string, string&gt;, IDataPipesService&gt;&gt; GetEnumerator()\n  {\n    foreach (KeyValuePair&lt;KeyValuePair&lt;string, string&gt;, IDataPipesService&gt; entry in this.underlyingCollection)\n    {\n      yield return entry;\n    }\n  }\n\n  IEnumerator IEnumerable.GetEnumerator()\n  {\n    return GetEnumerator();\n  }\n\n  private void OnCollectionChanged(NotifyCollectionChangedEventArgs e)\n  {\n    this.CollectionChanged?.Invoke(this, e);\n  }\n}\n</code></pre>\n\n<p>Basically <code>_instance</code> must reference an instance of <code>TopicTaskConcurrentDictionary</code> and not of the underlying collection (like in the original implementation).</p>\n\n<p>Example:</p>\n\n<pre><code>TopicTaskConcurrentDictionary.Instance.CollectionChanged += delegate (object o, NotifyCollectionChangedEventArgs e)\n{\n  foreach (KeyValuePair&lt;KeyValuePair&lt;string, string&gt;, IDataPipesService&gt; item in TopicTaskConcurrentDictionary.Instance)\n  {\n    ;\n  }\n};\n\nvar dataService = _kernel.Get&lt;IDataService&gt;();\nTopicTaskConcurrentDictionary.Instance.TryAdd(new KeyValuePair&lt;string, string&gt;(param.TagPrefix, param.TopicName), dataService);\n</code></pre>\n"}], "owner": {"reputation": 2760, "user_id": 2639188, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c1a58be9b3e79cc22a37cad79a992438?s=128&d=identicon&r=PG", "display_name": "DoIt", "link": "https://stackoverflow.com/users/2639188/doit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 57696544, "answer_count": 1, "score": 0, "last_activity_date": 1567026867, "creation_date": 1567006444, "question_id": 57695853, "link": "https://stackoverflow.com/questions/57695853/unable-to-invoke-propertychanged-event-on-a-c-concurrentdictionary", "title": "Unable to invoke PropertyChanged event on a C# ConcurrentDictionary", "body": "<p>I am trying to use a <code>ConcurrentDictionary</code> in <code>C#</code> and handle events whenever new items added to the dictionary but I am not able to do so and the code is below</p>\n\n<pre><code>public class TopicTaskConcurrentDictionary\n    {\n        #region Singleton\n        private static volatile ConcurrentDictionary&lt;KeyValuePair&lt;string, string&gt;, IDataPipesService&gt; _instance;\n        private static readonly object Sync = new object();\n        private static readonly object Lock = new object();\n\n        public static event EventHandler  PropertyChanged;\n\n        public static ConcurrentDictionary&lt;KeyValuePair&lt;string, string&gt;, IDataService&gt; Instance\n        {\n            get\n            {\n                if (_instance != null) return _instance;\n                lock (Sync)\n                {\n                    if (_instance == null)\n                    {\n                        _instance = new ConcurrentDictionary&lt;KeyValuePair&lt;string, string&gt;, IDataService&gt;();\n                    }\n                }\n                return _instance;\n            }\n        }\n        #endregion Singleton\n\n        public  void TryAdd(KeyValuePair&lt;string, string&gt; keyValuePair, IDataPipesService service) {\n            Instance.TryAdd(keyValuePair, service);\n            PropertyChanged(null, EventArgs.Empty);\n        }\n    }\n</code></pre>\n\n<p>Here is how I am adding to the dictionary</p>\n\n<pre><code>  var dataService = _kernel.Get&lt;IDataService&gt;();\nTopicTaskConcurrentDictionary.Instance.TryAdd(new KeyValuePair&lt;string, string&gt;(param.TagPrefix, param.TopicName), dataService);\n</code></pre>\n\n<p>When add an item to the dictionary, I expecting to invoke the <code>ProperyChanged</code> event as below</p>\n\n<pre><code>TopicTaskConcurrentDictionary.PropertyChanged += delegate (object o, EventArgs e)\n            {\n                foreach (var item in TopicTaskConcurrentDictionary.Instance) {\n                    if (!item.Value.Running)\n                        //do something\n                }\n            };\n</code></pre>\n\n<p>When I do the above, <code>PropertyChanged</code> event is never invoked, may I know where I went wrong?</p>\n"}, {"tags": ["c#", "linq", "boolean", "iteration", "ternary"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1567007165, "post_id": 57695722, "comment_id": 101836288, "body": "<code>myListOfBooleans.Cast&lt;bool?&gt;().Aggregate((c, a) =&gt; c == a ? a : null)</code>  Note it throws if the list is empty."}], "answers": [{"comments": [{"owner": {"reputation": 907, "user_id": 637968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OyVwN.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/637968/mike"}, "edited": false, "score": 0, "creation_date": 1567064714, "post_id": 57695773, "comment_id": 101853280, "body": "Thank you. I like this extension approach - it comes handy if there are more of those ternary (three state) checkboxes where the state is determined by the combination of the &quot;slave&quot; checkboxes. At the moment I have only one of those, so the simpler solution the better."}], "tags": [], "owner": {"reputation": 39990, "user_id": 5528593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7JPcT.png?s=128&g=1", "display_name": "Ren&#233; Vogt", "link": "https://stackoverflow.com/users/5528593/ren%c3%a9-vogt"}, "is_accepted": false, "score": 2, "last_activity_date": 1567007756, "last_edit_date": 1567007756, "creation_date": 1567006109, "answer_id": 57695773, "question_id": 57695722, "link": "https://stackoverflow.com/questions/57695722/linq-ternary-result-of-binary-list/57695773#57695773", "title": "LINQ ternary result of binary list", "body": "<p>You can simply <strong>count</strong> the <code>true</code> values:</p>\n\n<pre><code>int c = myListOfBooleans.Count(l =&gt; l);\nbool? result = c == myListOfBooleans.Count \n               ? (bool?)true \n               : (c == 0 ? (bool?)false : null);\n</code></pre>\n\n<p>Note that this is <code>true</code> for an empty list, you may want to tweak that according to your required logic.</p>\n\n<hr>\n\n<p>For a better performance (though I don't think it matters in a UI context) you could write an extension that could even return early if the result is clear (instead of iterating through the whole list):</p>\n\n<pre><code>public static bool? AllOrNothing(this IEnumerable&lt;bool&gt; list)\n{\n    if (list == null) throw new ArgumentNullException(nameof(list));\n\n    using(var enumerator = list.GetEnumerator())\n    {\n        if (!enumerator.MoveNext()) \n            return null; // or true or false, what you need for an empty list\n\n        bool? current = enumerator.Current;\n        while(enumerator.MoveNext())\n            if (current != enumerator.Current) return null;\n        return current;\n    }\n}\n</code></pre>\n\n<p>And use it:</p>\n\n<pre><code>bool? result = myListOfBooleans.AllOrNothing();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 907, "user_id": 637968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OyVwN.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/637968/mike"}, "edited": false, "score": 0, "creation_date": 1567064986, "post_id": 57696231, "comment_id": 101853421, "body": "Thank you, I really like this oneliner using aggregate. For the second solution - it is faster as this needs to iterate the whole list only if all elements are the same."}], "tags": [], "owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "is_accepted": true, "score": 2, "last_activity_date": 1567007877, "creation_date": 1567007877, "answer_id": 57696231, "question_id": 57695722, "link": "https://stackoverflow.com/questions/57695722/linq-ternary-result-of-binary-list/57696231#57696231", "title": "LINQ ternary result of binary list", "body": "<p>You could do that by using <code>Aggegrate</code></p>\n\n<pre><code>public bool? AllSameValue(List&lt;bool&gt; myListOfBooleans)\n{\n    if(myListOfBooleans.Count == 0) return null; // or whatever value makes sense\n\n    return myListOfBooleans.Cast&lt;bool?&gt;().Aggregate((c, a) =&gt; c == a ? a : null);\n}\n</code></pre>\n\n<p>That casts your values to <code>bool?</code> so that you can then compare them and return the value if that they all match or null if there is a difference.</p>\n\n<p>Of course you could exit early by taking the first one and using <code>All</code> to see if the rest match or not.</p>\n\n<pre><code>public bool? AllSameValue(List&lt;bool&gt; myListOfBooleans)\n{\n    if(myListOfBooleans.Count == 0) return null; // or whatever value makes sense\n\n    bool first = myListOfBooleans[0];\n    return myListOfBooleans.All(x =&gt; x == first ) ? first : null;\n}\n</code></pre>\n"}], "owner": {"reputation": 907, "user_id": 637968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OyVwN.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/637968/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 57696231, "answer_count": 2, "score": 1, "last_activity_date": 1567007877, "creation_date": 1567005931, "last_edit_date": 1567006252, "question_id": 57695722, "link": "https://stackoverflow.com/questions/57695722/linq-ternary-result-of-binary-list", "title": "LINQ ternary result of binary list", "body": "<p>Assume I have a list of binary parameters (in reality it is a list of checkboxes' <code>IsChecked.Value</code> property). I'm trying to get the <code>bool?</code> (ternary) result that:</p>\n\n<ul>\n<li>is <code>true</code> if <strong>all</strong> the elements in the list are <code>true</code></li>\n<li>is <code>false</code> if <strong>all</strong> the elements in the list are <code>false</code></li>\n<li>is <code>null</code> in all other cases, thus there are both <code>true</code> and <code>false</code> elements in the list or the list is empty</li>\n</ul>\n\n<p>Until now I came up with the solution that requires iterating over the list twice (checking whether all elements are either <code>true</code> or <code>false</code>) and then comparing the results to deciding whether to return <code>true</code>, <code>false</code> or <code>null</code>.</p>\n\n<p>This is my code:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>bool checkTrue = myListOfBooleans.All(l =&gt; l);\nbool checkFalse = myListOfBooleans.All(l =&gt; !l);\nbool? result = (!checkTrue &amp;&amp; !checkFalse) ? null : (bool?)checkTrue;\n</code></pre>\n\n<p>How can I achieve it in only one iteration over the list?</p>\n"}]