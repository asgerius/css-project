[{"tags": ["c#", "arrays", "performance", "opencv"], "comments": [{"owner": {"reputation": 26818, "user_id": 209199, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b64963e747bf4c8fc20fb379105f204?s=128&d=identicon&r=PG", "display_name": "Cory Nelson", "link": "https://stackoverflow.com/users/209199/cory-nelson"}, "edited": false, "score": 0, "creation_date": 1556755765, "post_id": 55944063, "comment_id": 98541245, "body": "Are you asking to concatenate two byte arrays, or add each element of a byte array?"}, {"owner": {"reputation": 87, "user_id": 4791668, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204441394731680/picture?type=large", "display_name": "Pavel", "link": "https://stackoverflow.com/users/4791668/pavel"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1556756929, "post_id": 55944063, "comment_id": 98541418, "body": "@juharr Added code."}, {"owner": {"reputation": 87, "user_id": 4791668, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204441394731680/picture?type=large", "display_name": "Pavel", "link": "https://stackoverflow.com/users/4791668/pavel"}, "reply_to_user": {"reputation": 26818, "user_id": 209199, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b64963e747bf4c8fc20fb379105f204?s=128&d=identicon&r=PG", "display_name": "Cory Nelson", "link": "https://stackoverflow.com/users/209199/cory-nelson"}, "edited": false, "score": 0, "creation_date": 1556756947, "post_id": 55944063, "comment_id": 98541423, "body": "@CoryNelson Add each element."}], "answers": [{"comments": [{"owner": {"reputation": 4118, "user_id": 10316640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/989bf10b54e525330bc9631e0be9e620?s=128&d=identicon&r=PG&f=1", "display_name": "Strom", "link": "https://stackoverflow.com/users/10316640/strom"}, "edited": false, "score": 0, "creation_date": 1556759680, "post_id": 55944471, "comment_id": 98541880, "body": "Wanted to point out this requires .NET Core &gt;= 2.1 or .NET Standard &gt;= 2.1.  MemoryMarshal is not available on .NET Framework."}, {"owner": {"reputation": 87, "user_id": 4791668, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204441394731680/picture?type=large", "display_name": "Pavel", "link": "https://stackoverflow.com/users/4791668/pavel"}, "edited": false, "score": 0, "creation_date": 1556763521, "post_id": 55944471, "comment_id": 98542508, "body": "It gives 5X boost !"}], "tags": [], "owner": {"reputation": 26818, "user_id": 209199, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b64963e747bf4c8fc20fb379105f204?s=128&d=identicon&r=PG", "display_name": "Cory Nelson", "link": "https://stackoverflow.com/users/209199/cory-nelson"}, "is_accepted": true, "score": 2, "last_activity_date": 1556759276, "creation_date": 1556759276, "answer_id": 55944471, "question_id": 55944063, "link": "https://stackoverflow.com/questions/55944063/optimize-summing-2-arrays-of-bytes/55944471#55944471", "title": "Optimize summing 2 arrays of bytes", "body": "<p>You could use <code>Vector</code>:</p>\n\n<pre><code>static void Add(Span&lt;byte&gt; dst, ReadOnlySpan&lt;byte&gt; src)\n{\n    Span&lt;Vector&lt;byte&gt;&gt; dstVec = MemoryMarshal.Cast&lt;byte, Vector&lt;byte&gt;&gt;(dst);\n    ReadOnlySpan&lt;Vector&lt;byte&gt;&gt; srcVec = MemoryMarshal.Cast&lt;byte, Vector&lt;byte&gt;&gt;(src);\n\n    for (int i = 0; i &lt; dstVec.Length; ++i)\n    {\n        dstVec[i] += srcVec[i];\n    }\n\n    for (int i = dstVec.Length * Vector&lt;byte&gt;.Count; i &lt; dst.Length; ++i)\n    {\n        dst[i] += src[i];\n    }\n}\n</code></pre>\n\n<p>Will go even faster if you use a pointer here to align one of your arrays.</p>\n"}, {"comments": [{"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 87, "user_id": 4791668, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204441394731680/picture?type=large", "display_name": "Pavel", "link": "https://stackoverflow.com/users/4791668/pavel"}, "edited": false, "score": 1, "creation_date": 1569413322, "post_id": 55944626, "comment_id": 102587880, "body": "I updated my answer with info about using the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.numerics.vector-1\" rel=\"nofollow noreferrer\"><code>Vector&lt;T&gt;</code></a> class in .NET Framework."}], "tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": false, "score": 2, "last_activity_date": 1569426606, "last_edit_date": 1569426606, "creation_date": 1556760851, "answer_id": 55944626, "question_id": 55944063, "link": "https://stackoverflow.com/questions/55944063/optimize-summing-2-arrays-of-bytes/55944626#55944626", "title": "Optimize summing 2 arrays of bytes", "body": "<p>You can utilize all your processors/cores, assuming that your machine has more than one.</p>\n\n<pre><code>Parallel.ForEach(Partitioner.Create(0, bytes.Length), range =&gt;\n{\n    for (int i = range.Item1; i &lt; range.Item2; i++)\n    {\n        bytes[i] += bytes2[i];\n    }\n});\n</code></pre>\n\n<hr>\n\n<p><strong>Update:</strong> The <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.numerics.vector-1\" rel=\"nofollow noreferrer\"><code>Vector&lt;T&gt;</code></a> class can also be used in .NET Framework. It requires the package <a href=\"https://www.nuget.org/packages/System.Numerics.Vectors\" rel=\"nofollow noreferrer\">System.Numerics.Vectors</a>. It offers the advantage of parallelization in a single core, by issuing a Single Instruction to Multiple Data (<a href=\"https://devblogs.microsoft.com/dotnet/the-jit-finally-proposed-jit-and-simd-are-getting-married/\" rel=\"nofollow noreferrer\">SIMD</a>). Most current processors are SIMD-enabled. It is only enabled for 64-bit processes, so the flag [Prefer 32-bit] must be unchecked. On 32-bit processes the property <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.numerics.vector.ishardwareaccelerated\" rel=\"nofollow noreferrer\"><code>Vector.IsHardwareAccelerated</code></a> returns <code>false</code>, and the performance is bad.</p>\n\n<pre><code>using System.Numerics;\n\n/// &lt;summary&gt;Adds each pair of elements in two arrays, and replaces the\n/// left array element with the result.&lt;/summary&gt;\npublic static void Add_UsingVector(byte[] left, byte[] right, int start, int length)\n{\n    int i = start;\n    int step = Vector&lt;byte&gt;.Count; // the step is 16\n    int end = start + length - step + 1;\n    for (; i &lt; end; i += step)\n    {\n        // Vectorize 16 bytes from each array\n        var vector1 = new Vector&lt;byte&gt;(left, i);\n        var vector2 = new Vector&lt;byte&gt;(right, i);\n        vector1 += vector2; // Vector arithmetic is unchecked only\n        vector1.CopyTo(left, i);\n    }\n    for (; i &lt; start + length; i++) // Process the last few elements\n    {\n        unchecked { left[i] += right[i]; }\n    }\n}\n</code></pre>\n\n<p>This runs 4-5 times faster than a simple loop, without utilizing more than one thread (25% CPU consumption in a 4-core PC).</p>\n"}, {"comments": [{"owner": {"reputation": 18739, "user_id": 4003407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bb6a20caae0ab19fe7eab3ac3f74fb?s=128&d=identicon&r=PG&f=1", "display_name": "user4003407", "link": "https://stackoverflow.com/users/4003407/user4003407"}, "edited": false, "score": 0, "creation_date": 1556782388, "post_id": 55945544, "comment_id": 98547876, "body": "Does altering content of <code>bytes2</code> really necessary for your algorithm?"}, {"owner": {"reputation": 4118, "user_id": 10316640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/989bf10b54e525330bc9631e0be9e620?s=128&d=identicon&r=PG&f=1", "display_name": "Strom", "link": "https://stackoverflow.com/users/10316640/strom"}, "reply_to_user": {"reputation": 18739, "user_id": 4003407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bb6a20caae0ab19fe7eab3ac3f74fb?s=128&d=identicon&r=PG&f=1", "display_name": "user4003407", "link": "https://stackoverflow.com/users/4003407/user4003407"}, "edited": false, "score": 0, "creation_date": 1556837350, "post_id": 55945544, "comment_id": 98573842, "body": "@PetSerAl, if the 8th bit of byte2 were not set to 0 there would be the possibility of overflow into the low bit of the next byte due to the carry. Thank you, the logic is necessary, the assignments were not. 25 ms -&gt; 12 ms.  The new code is a little hard to read."}, {"owner": {"reputation": 87, "user_id": 4791668, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204441394731680/picture?type=large", "display_name": "Pavel", "link": "https://stackoverflow.com/users/4791668/pavel"}, "edited": false, "score": 0, "creation_date": 1556930090, "post_id": 55945544, "comment_id": 98607234, "body": "@Strom Is there any way to keep overflown value, so I can calculate the average if needed."}, {"owner": {"reputation": 87, "user_id": 4791668, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204441394731680/picture?type=large", "display_name": "Pavel", "link": "https://stackoverflow.com/users/4791668/pavel"}, "edited": false, "score": 0, "creation_date": 1556933723, "post_id": 55945544, "comment_id": 98607664, "body": "@Strom what if we convert byte[] to short[] and after sum convert it back to byte[]. How would the MASK/MASKINV change ?"}, {"owner": {"reputation": 4118, "user_id": 10316640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/989bf10b54e525330bc9631e0be9e620?s=128&d=identicon&r=PG&f=1", "display_name": "Strom", "link": "https://stackoverflow.com/users/10316640/strom"}, "reply_to_user": {"reputation": 87, "user_id": 4791668, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204441394731680/picture?type=large", "display_name": "Pavel", "link": "https://stackoverflow.com/users/4791668/pavel"}, "edited": false, "score": 0, "creation_date": 1557531114, "post_id": 55945544, "comment_id": 98809910, "body": "@Pavel, The masks for ushort values are 0x8000800080008000, and the inverse 0x7fff7fff7fff7fff, 1. this would lose half of the efficiency. 2. the mask would be unneeded(if the highest 1 is less than the 15th bit for each operand)."}], "tags": [], "owner": {"reputation": 4118, "user_id": 10316640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/989bf10b54e525330bc9631e0be9e620?s=128&d=identicon&r=PG&f=1", "display_name": "Strom", "link": "https://stackoverflow.com/users/10316640/strom"}, "is_accepted": false, "score": 2, "last_activity_date": 1556837717, "last_edit_date": 1556837717, "creation_date": 1556770012, "answer_id": 55945544, "question_id": 55944063, "link": "https://stackoverflow.com/questions/55944063/optimize-summing-2-arrays-of-bytes/55945544#55945544", "title": "Optimize summing 2 arrays of bytes", "body": "<p>Pad the array length to the next highest multiple of 8.(It already is in your example.)</p>\n\n<p>Use an unsafe context to create two <code>ulong</code> arrays pointing to the start of the existing byte arrays.  Use a <code>for</code> loop to iterate <code>bytes.Length / 8</code> times adding 8 bytes at a time.</p>\n\n<p>On my system this runs for less than 13 milliseconds. Compared to 105 milliseconds for the original code.</p>\n\n<p>You must add the <code>/unsafe</code> option to use this code. Open the project properties and select \"allow unsafe code\".</p>\n\n<pre><code>var random = new Random();\nbyte[] bytes = new byte[20_000_000]; \nbyte[] bytes2 = new byte[20_000_000];\n\n\n\n\nint Len = bytes.Length &gt;&gt; 3; // &gt;&gt;3 is the same as / 8\n\nulong MASK =    0x8080808080808080;\nulong MASKINV = 0x7f7f7f7f7f7f7f7f;\n\n//Sanity check\nif((bytes.Length &amp; 7) != 0) throw new Exception(\"bytes.Length is not a multiple of 8\");\nif((bytes2.Length &amp; 7) != 0) throw new Exception(\"bytes2.Length is not a multiple of 8\");\n\nunsafe\n{\n    //Add 8 bytes at a time, taking into account overflow between bytes\n   fixed (byte* pbBytes = &amp;bytes[0])\n   fixed (byte* pbBytes2 = &amp;bytes2[0])\n   {\n      ulong* pBytes = (ulong*)pbBytes;\n      ulong* pBytes2 = (ulong*)pbBytes2;\n      for (int i = 0; i &lt; Len; i++)\n      {\n        pBytes[i] = ((pBytes2[i] &amp; MASKINV) + (pBytes[i] &amp; MASKINV)) ^ ((pBytes[i] ^ pBytes2[i]) &amp; MASK);\n      } \n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 4791668, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204441394731680/picture?type=large", "display_name": "Pavel", "link": "https://stackoverflow.com/users/4791668/pavel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 1, "accepted_answer_id": 55944471, "answer_count": 3, "score": 1, "last_activity_date": 1569426606, "creation_date": 1556754824, "last_edit_date": 1556758272, "question_id": 55944063, "link": "https://stackoverflow.com/questions/55944063/optimize-summing-2-arrays-of-bytes", "title": "Optimize summing 2 arrays of bytes", "body": "<p>I am iterating through an array of bytes and add values of another array of bytes in a for loop.</p>\n\n<pre><code>        var random = new Random();\n        byte[] bytes = new byte[20_000_000]; \n        byte[] bytes2 = new byte[20_000_000];\n\n        for (int i = 0; i &lt; bytes.Length; i++)\n        {\n            bytes[i] = (byte)random.Next(255);\n        }\n\n        for (int i = 0; i &lt; bytes.Length; i++)\n        {\n            bytes2[i] = (byte)random.Next(255);\n        }\n\n        //how to optimize the part below\n        for (int i = 0; i &lt; bytes.Length; i++)\n        {\n            bytes[i] += bytes2[i];\n        }\n</code></pre>\n\n<p>Is there any way to speed up the process, so it can be faster than linear.</p>\n"}, {"tags": ["c#", ".net", "multithreading", "tcp"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11439226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a57f298ec3dd20b9e3d96a6ffd91b6?s=128&d=identicon&r=PG&f=1", "display_name": "Angel", "link": "https://stackoverflow.com/users/11439226/angel"}, "edited": false, "score": 0, "creation_date": 1556768668, "post_id": 55944366, "comment_id": 98543447, "body": "Thanks for your recommendation. Is AcceptTcpClientAsync thread safe? What happens if two clients connect at the same time? I search and see that some use &quot;if (task.IsFaulted) /  task.Wait();&quot; after AcceptTcpClientAsync. Thank you again."}, {"owner": {"reputation": 666, "user_id": 8607723, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hVQByfNa7fo/AAAAAAAAAAI/AAAAAAAAAAs/N0ylGlC7Mc4/photo.jpg?sz=128", "display_name": "Leisen Chang", "link": "https://stackoverflow.com/users/8607723/leisen-chang"}, "reply_to_user": {"reputation": 3, "user_id": 11439226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a57f298ec3dd20b9e3d96a6ffd91b6?s=128&d=identicon&r=PG&f=1", "display_name": "Angel", "link": "https://stackoverflow.com/users/11439226/angel"}, "edited": false, "score": 0, "creation_date": 1556769169, "post_id": 55944366, "comment_id": 98543547, "body": "I use this method in my project to manage multiple clients in multi-thread environment in one of my project and it works fine. Prevent using task.Wait or other synchronous method of task in asynchronous environment, if you want to catch exception, you can simply use try-catch around <code>await AcceptTcpClientAsync </code>."}, {"owner": {"reputation": 666, "user_id": 8607723, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hVQByfNa7fo/AAAAAAAAAAI/AAAAAAAAAAs/N0ylGlC7Mc4/photo.jpg?sz=128", "display_name": "Leisen Chang", "link": "https://stackoverflow.com/users/8607723/leisen-chang"}, "reply_to_user": {"reputation": 3, "user_id": 11439226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a57f298ec3dd20b9e3d96a6ffd91b6?s=128&d=identicon&r=PG&f=1", "display_name": "Angel", "link": "https://stackoverflow.com/users/11439226/angel"}, "edited": false, "score": 0, "creation_date": 1556769403, "post_id": 55944366, "comment_id": 98543599, "body": "How to use Task class and async-await is a big topic. If you&#39;re interesting in how these things work or how to use them correctly, google async-await or task parallel library"}, {"owner": {"reputation": 3, "user_id": 11439226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a57f298ec3dd20b9e3d96a6ffd91b6?s=128&d=identicon&r=PG&f=1", "display_name": "Angel", "link": "https://stackoverflow.com/users/11439226/angel"}, "edited": false, "score": 0, "creation_date": 1556853323, "post_id": 55944366, "comment_id": 98576779, "body": "Should <code>await</code> be before <code>Task.Run</code> ? I google it and found the two ways. Shows me this correction in the code: [link] (<a href=\"https://docs.microsoft.com/en-us/dotnet/visual-basic/language-reference/error-messages/because-this-call-is-not-awaited-the-current-method-continues-to-run\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/visual-basic/language-refer&zwnj;&#8203;ence/&hellip;</a>)"}, {"owner": {"reputation": 666, "user_id": 8607723, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hVQByfNa7fo/AAAAAAAAAAI/AAAAAAAAAAs/N0ylGlC7Mc4/photo.jpg?sz=128", "display_name": "Leisen Chang", "link": "https://stackoverflow.com/users/8607723/leisen-chang"}, "reply_to_user": {"reputation": 3, "user_id": 11439226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a57f298ec3dd20b9e3d96a6ffd91b6?s=128&d=identicon&r=PG&f=1", "display_name": "Angel", "link": "https://stackoverflow.com/users/11439226/angel"}, "edited": false, "score": 0, "creation_date": 1556854035, "post_id": 55944366, "comment_id": 98576930, "body": "Use await if you want to wait until the task is finished. I guess <code>CreateConnection</code> should be fire&amp;forget so I didn&#39;t use await"}], "tags": [], "owner": {"reputation": 666, "user_id": 8607723, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hVQByfNa7fo/AAAAAAAAAAI/AAAAAAAAAAs/N0ylGlC7Mc4/photo.jpg?sz=128", "display_name": "Leisen Chang", "link": "https://stackoverflow.com/users/8607723/leisen-chang"}, "is_accepted": true, "score": 0, "last_activity_date": 1556758005, "creation_date": 1556758005, "answer_id": 55944366, "question_id": 55943993, "link": "https://stackoverflow.com/questions/55943993/is-beginaccepttcpclient-thread-safe-c/55944366#55944366", "title": "Is BeginAcceptTcpClient thread safe? C#", "body": "<p>I prefer <code>AcceptTcpClientAsync</code>. It's simpler than <code>BeginAcceptTcpClient</code> and still asynchronous.</p>\n\n<pre><code>public async Task InitNetwork()\n{\n    while( true )\n    {\n        TcpClient newclient = await socket.AcceptTcpClientAsync();\n        Task.Run( () =&gt; HandleClient.CreateConnection( newclient ) );\n    }\n}\n</code></pre>\n\n<p>Internally, <code>AcceptTcpClientAsync</code> use <code>Task.Factory.FromAsync</code> to wrap <code>BeginAcceptTcpClient</code> and <code>EndAcceptTcpClient</code> into a Task object.</p>\n\n<pre><code>public Task&lt;TcpClient&gt; AcceptTcpClientAsync()\n{\n    return Task&lt;TcpClient&gt;.Factory.FromAsync(BeginAcceptTcpClient, EndAcceptTcpClient, null);\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11439226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a57f298ec3dd20b9e3d96a6ffd91b6?s=128&d=identicon&r=PG&f=1", "display_name": "Angel", "link": "https://stackoverflow.com/users/11439226/angel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 55944366, "answer_count": 1, "score": 0, "last_activity_date": 1556768846, "creation_date": 1556754169, "last_edit_date": 1556768846, "question_id": 55943993, "link": "https://stackoverflow.com/questions/55943993/is-beginaccepttcpclient-thread-safe-c", "title": "Is BeginAcceptTcpClient thread safe? C#", "body": "<p>I\u00b4m starting in the world of <code>TCP Asynchronous</code> servers, searching a way to handle several connections at the same time I found out that <code>BeginAcceptTcpClient</code> could be a solution.</p>\n\n<p>I\u00b4ve found two possible ways to use <code>BeginAcceptTcpClient</code> at the start of the server to receive connections. My question would be: what\u00b4s the difference between those two and which one would be thread safe (or if both are).</p>\n\n<p><strong>FIRST WAY</strong></p>\n\n<p>Calling <code>BeginAcceptTcpClient</code> inside the callback.</p>\n\n<pre><code>static TcpListener socket = new TcpListener(IPAddress.Any, 4444);\n\npublic static void InitNetwork()\n        {\n            socket.Start();\n            socket.BeginAcceptTcpClient(new AsyncCallback(OnClientConnect), null);\n        }\n\nprivate static void OnClientConnect(IAsyncResult ar)\n        {\n            TcpClient newclient = socket.EndAcceptTcpClient(ar);\n            socket.BeginAcceptTcpClient(new AsyncCallback (OnClientConnect), null); // Call the Callback again to continue listening\n\n            HandleClient.CreateConnection(newclient); //Do stuff with the client recieved\n        }\n</code></pre>\n\n<p><strong>SECOND WAY</strong></p>\n\n<p>Using <code>AutoResetEvent</code>.</p>\n\n<pre><code>static TcpListener socket = new TcpListener(IPAddress.Any, 4444);\nprivate AutoResetEvent connectionWaitHandle = new AutoResetEvent(false);\n\npublic static void InitNetwork()\n        {\n            socket.Start();\n\n            while(true)\n            {\n              socket.BeginAcceptTcpClient(new AsyncCallback(OnClientConnect), null);\n              connectionWaitHandle.WaitOne(); // Wait until a client has begun handling an event\n              connectionWaitHandle.Reset(); // Reset wait handle or the loop goes as fast as it can (after first request)\n            }\n\n        }\n\nprivate static void OnClientConnect(IAsyncResult ar)\n        {\n            TcpClient newclient = socket.EndAcceptTcpClient(ar);\n            connectionWaitHandle.Set(); //Inform the main thread this connection is now handled\n\n            HandleClient.CreateConnection(newclient);  //Do stuff with the client recieved\n        }\n</code></pre>\n\n<p>I\u00b4m searching the correct way to handle multiple connections (been thread safe). I appreciate any answer.</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1556761047, "post_id": 55943990, "comment_id": 98542087, "body": "What do you mean by &quot;is ignored&quot;? Does that line of code get hit? Have you run your code with the debugger attached? If you&#39;re new to ASP.NET, why are you starting with Web Forms?"}, {"owner": {"reputation": 21, "user_id": 3010216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b9ed4d1312d34ebf9ba09eb51efbeb?s=128&d=identicon&r=PG&f=1", "display_name": "user3010216", "link": "https://stackoverflow.com/users/3010216/user3010216"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1556796197, "post_id": 55943990, "comment_id": 98554732, "body": "Yes, I have stopped there in the debugger and the text change code is executed. However the text within the panel on the form does not change. Do you have a better suggestion for what I am trying to do? I am using Web forms because I found some examples which looked appropriate."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1556799558, "post_id": 55943990, "comment_id": 98556452, "body": "Perhaps you have some other code changing the text back. If you create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> it should help narrow that down. And yes, I reccomend you learn ASP.NET MVC or a SPA framework (React/Redux, Angular, or Vue) along with ASP.NET Web API. Web Forms is a dying technology, for a good reason."}], "owner": {"reputation": 21, "user_id": 3010216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b9ed4d1312d34ebf9ba09eb51efbeb?s=128&d=identicon&r=PG&f=1", "display_name": "user3010216", "link": "https://stackoverflow.com/users/3010216/user3010216"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556754150, "creation_date": 1556754150, "question_id": 55943990, "link": "https://stackoverflow.com/questions/55943990/using-asp-panels-to-hide-display-blocks-of-html-on-the-client-works-but-i-cant", "title": "Using asp panels to hide/display blocks of html on the client works but I can&#39;t update textboxes in the block", "body": "<p>I want to use a single asp page to display a logon screen (2 boxes for user id and password). I placed these in a asp:panel on the client page. When the user logs on, the code behind sets the login panel's visible attribute to off and a separate data panel to visible. This works fine. When the user pushes a Logoff button on the second page, I reverse the process to display the log on page again. I also TRY to set the user name and password boxes to empty but the TextBox.Text = \"\" is ignored (performed in the code behind).</p>\n\n<p>Is this a perverted use of panels or am I missing a setting?</p>\n\n<p>The code looks like this:</p>\n\n<p>In default.asp:</p>\n\n<pre><code> &lt;!\u2013\u2013\n // display the login panel\n --&gt;\n &lt;asp:Panel ID=\"Panel_login\" runat=\"server\" visible=\"true\" &gt;\n &lt;asp:TextBox ID=\"TextBox_userID\" runat=\"server\" Font-Size=\"Small\"                        Width=\"200px\"&gt;\n&lt;/asp:TextBox&gt;  \n&lt;asp:TextBox ID=\"TextBox_password\" TextMode=\"Password\" runat=\"server\" Font-Size=\"Small\" Width=\"200px\"&gt;&lt;/asp:TextBox&gt;  \n&lt;asp:Button ID=\"Button_login\" runat=\"server\" BorderStyle=\"Ridge\" Font-Size=\"Small\" OnClick=\"Button_login_Click\" Text=\"Log In\" /&gt; \n&lt;/asp:Panel&gt;\n</code></pre>\n\n<p>In the Code behind:</p>\n\n<pre><code>Panel_selectSession.Visible = false;\n  Panel_login.Visible = true;\n  TextBox_userID.Text = \"\";      \n  TextBox_password.Text = \"\";\n  Label4_msg.Text = \"\";\n</code></pre>\n\n<p>The 2 Textbox sets are ignored but the label set works because it is outside the panel.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "error-handling"], "comments": [{"owner": {"reputation": 1910, "user_id": 4913418, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh5.googleusercontent.com/-ePO8VIxqnxA/AAAAAAAAAAI/AAAAAAAAAiU/DZL0AHTKQOA/photo.jpg?sz=128", "display_name": "Muhammad Hannan", "link": "https://stackoverflow.com/users/4913418/muhammad-hannan"}, "edited": false, "score": 0, "creation_date": 1556753404, "post_id": 55943874, "comment_id": 98540822, "body": "On which line did you get the error?"}, {"owner": {"reputation": 9, "user_id": 11439246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/430ce311035d9c9fc7caef29e02d38fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ed to the Klein", "link": "https://stackoverflow.com/users/11439246/ed-to-the-klein"}, "reply_to_user": {"reputation": 1910, "user_id": 4913418, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh5.googleusercontent.com/-ePO8VIxqnxA/AAAAAAAAAAI/AAAAAAAAAiU/DZL0AHTKQOA/photo.jpg?sz=128", "display_name": "Muhammad Hannan", "link": "https://stackoverflow.com/users/4913418/muhammad-hannan"}, "edited": false, "score": 0, "creation_date": 1556753474, "post_id": 55943874, "comment_id": 98540836, "body": "I received the error on line 7."}, {"owner": {"reputation": 9, "user_id": 11439246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/430ce311035d9c9fc7caef29e02d38fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ed to the Klein", "link": "https://stackoverflow.com/users/11439246/ed-to-the-klein"}, "reply_to_user": {"reputation": 1910, "user_id": 4913418, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh5.googleusercontent.com/-ePO8VIxqnxA/AAAAAAAAAAI/AAAAAAAAAiU/DZL0AHTKQOA/photo.jpg?sz=128", "display_name": "Muhammad Hannan", "link": "https://stackoverflow.com/users/4913418/muhammad-hannan"}, "edited": false, "score": 0, "creation_date": 1556753484, "post_id": 55943874, "comment_id": 98540839, "body": "ingred1 = double.Parse(input2);"}, {"owner": {"reputation": 1910, "user_id": 4913418, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh5.googleusercontent.com/-ePO8VIxqnxA/AAAAAAAAAAI/AAAAAAAAAiU/DZL0AHTKQOA/photo.jpg?sz=128", "display_name": "Muhammad Hannan", "link": "https://stackoverflow.com/users/4913418/muhammad-hannan"}, "edited": false, "score": 1, "creation_date": 1556753532, "post_id": 55943874, "comment_id": 98540852, "body": "And what is it you are passing in <code>input2</code>?"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556753552, "post_id": 55943874, "comment_id": 98540859, "body": "What are you passing to the class constructor? What is <code>WriteLine()</code>?"}, {"owner": {"reputation": 3040, "user_id": 681351, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0o83I.jpg?s=128&g=1", "display_name": "Cubicle.Jockey", "link": "https://stackoverflow.com/users/681351/cubicle-jockey"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556754187, "post_id": 55943874, "comment_id": 98540983, "body": "@Jimi I believe that is Console.WriteLine but if you do a static using to Console you can just do WriteLine."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "reply_to_user": {"reputation": 3040, "user_id": 681351, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0o83I.jpg?s=128&g=1", "display_name": "Cubicle.Jockey", "link": "https://stackoverflow.com/users/681351/cubicle-jockey"}, "edited": false, "score": 0, "creation_date": 1556754403, "post_id": 55943874, "comment_id": 98541021, "body": "@Cubicle.Jockey Possibly. It shouldn&#39;t be a guessing game, though. As is guessing  what the OP is instantiating this class with. Or that this is a Console app."}], "answers": [{"tags": [], "owner": {"reputation": 3040, "user_id": 681351, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0o83I.jpg?s=128&g=1", "display_name": "Cubicle.Jockey", "link": "https://stackoverflow.com/users/681351/cubicle-jockey"}, "is_accepted": true, "score": -1, "last_activity_date": 1556824646, "last_edit_date": 1556824646, "creation_date": 1556754325, "answer_id": 55944011, "question_id": 55943874, "link": "https://stackoverflow.com/questions/55943874/error-system-format-exception-has-been-thrown-input-was-not-in-correct-forma/55944011#55944011", "title": "(Error: System.Format Exception has been thrown. &quot;Input was not in correct format&quot;)", "body": "<p>That is the exception that is thrown if you pass a string that is not a <code>double</code> to <code>double.Parse(...)</code>.</p>\n\n<p>This code will throw that exception.</p>\n\n<pre><code> var result = double.Parse(\"Not a double or even a number.\");\n</code></pre>\n\n<p>So, you are passing a none valid string into your constructor.</p>\n"}], "owner": {"reputation": 9, "user_id": 11439246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/430ce311035d9c9fc7caef29e02d38fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ed to the Klein", "link": "https://stackoverflow.com/users/11439246/ed-to-the-klein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "closed_date": 1556754764, "accepted_answer_id": 55944011, "answer_count": 1, "score": -1, "last_activity_date": 1556824646, "creation_date": 1556752892, "last_edit_date": 1556754476, "question_id": 55943874, "link": "https://stackoverflow.com/questions/55943874/error-system-format-exception-has-been-thrown-input-was-not-in-correct-forma", "closed_reason": "Duplicate", "title": "(Error: System.Format Exception has been thrown. &quot;Input was not in correct format&quot;)", "body": "<p>Application is running, I have two classes within the program but my second class keeps getting this error. </p>\n\n<pre><code>class SandwichBuild \n{\n    private string sandwichname;\n    private double ingred1, ingred2, ingred3, ingred4;\n\n    public SandwichBuild(string input1, string input2, string input3, string input4, string input5)   //sets variables\n    {\n        sandwichname = input1;\n        ingred1 = double.Parse(input2);\n        ingred2 = double.Parse(input3);\n        ingred3 = double.Parse(input4);\n        ingred4 = double.Parse(input5);\n    }\n\n    public void PrintOutput()\n    {\n        WriteLine(sandwichname + \" \" + ingred1 + \" \" + ingred2 + \" \" + ingred3 + \" \" + ingred4);  //Output for users responses\n    }\n}\n</code></pre>\n\n<p>I need my application to display final responses</p>\n"}, {"tags": ["c#", "sql", "sql-server", "tsql", "datetime"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1556752515, "post_id": 55943820, "comment_id": 98540681, "body": "Why are you taking a <code>DateTime</code>, converting it to a <code>string</code>, and then trying to convert it back to a <code>DateTime</code> again?"}, {"owner": {"reputation": 422, "user_id": 11292880, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aDB5ynVQtto/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reHkXCoAK_9agqNmyTn-3eA5bm2lg/mo/photo.jpg?sz=128", "display_name": "DBro", "link": "https://stackoverflow.com/users/11292880/dbro"}, "edited": false, "score": 0, "creation_date": 1556752647, "post_id": 55943820, "comment_id": 98540696, "body": "Looks like Jed might be trying to strip off the time portion of the DateTime.  If so, just use <code>DateTime.Today</code> instead."}], "answers": [{"comments": [{"owner": {"reputation": 422, "user_id": 11292880, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aDB5ynVQtto/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reHkXCoAK_9agqNmyTn-3eA5bm2lg/mo/photo.jpg?sz=128", "display_name": "DBro", "link": "https://stackoverflow.com/users/11292880/dbro"}, "edited": false, "score": 1, "creation_date": 1556752685, "post_id": 55943831, "comment_id": 98540702, "body": "Easier yet:  <code>DateTime.Today</code>"}, {"owner": {"reputation": 30925, "user_id": 7031230, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sPvnP.jpg?s=128&g=1", "display_name": "Hadi", "link": "https://stackoverflow.com/users/7031230/hadi"}, "reply_to_user": {"reputation": 422, "user_id": 11292880, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aDB5ynVQtto/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reHkXCoAK_9agqNmyTn-3eA5bm2lg/mo/photo.jpg?sz=128", "display_name": "DBro", "link": "https://stackoverflow.com/users/11292880/dbro"}, "edited": false, "score": 0, "creation_date": 1556752697, "post_id": 55943831, "comment_id": 98540704, "body": "I agree with that"}, {"owner": {"reputation": 30925, "user_id": 7031230, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sPvnP.jpg?s=128&g=1", "display_name": "Hadi", "link": "https://stackoverflow.com/users/7031230/hadi"}, "reply_to_user": {"reputation": 422, "user_id": 11292880, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aDB5ynVQtto/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reHkXCoAK_9agqNmyTn-3eA5bm2lg/mo/photo.jpg?sz=128", "display_name": "DBro", "link": "https://stackoverflow.com/users/11292880/dbro"}, "edited": false, "score": 0, "creation_date": 1556752752, "post_id": 55943831, "comment_id": 98540714, "body": "@DBro i mentioned your comments in the answer. Thanks for the remark"}, {"owner": {"reputation": 30925, "user_id": 7031230, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sPvnP.jpg?s=128&g=1", "display_name": "Hadi", "link": "https://stackoverflow.com/users/7031230/hadi"}, "reply_to_user": {"reputation": 65, "user_id": 5169853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d0d7b5f48fe402965eb9839ec32832?s=128&d=identicon&r=PG&f=1", "display_name": "Jed", "link": "https://stackoverflow.com/users/5169853/jed"}, "edited": false, "score": 0, "creation_date": 1556753349, "post_id": 55943831, "comment_id": 98540816, "body": "@Jed check the answer update. Also what was the error you received"}, {"owner": {"reputation": 65, "user_id": 5169853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d0d7b5f48fe402965eb9839ec32832?s=128&d=identicon&r=PG&f=1", "display_name": "Jed", "link": "https://stackoverflow.com/users/5169853/jed"}, "edited": false, "score": 0, "creation_date": 1556753990, "post_id": 55943831, "comment_id": 98540944, "body": "@Hadi your answer didn&#39;t work. this is the error  &quot;Conversion failed when converting date and/or time from character string.&quot;"}, {"owner": {"reputation": 30925, "user_id": 7031230, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sPvnP.jpg?s=128&g=1", "display_name": "Hadi", "link": "https://stackoverflow.com/users/7031230/hadi"}, "reply_to_user": {"reputation": 65, "user_id": 5169853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d0d7b5f48fe402965eb9839ec32832?s=128&d=identicon&r=PG&f=1", "display_name": "Jed", "link": "https://stackoverflow.com/users/5169853/jed"}, "edited": false, "score": 1, "creation_date": 1556754190, "post_id": 55943831, "comment_id": 98540984, "body": "@Jed check the parameters order"}, {"owner": {"reputation": 30925, "user_id": 7031230, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sPvnP.jpg?s=128&g=1", "display_name": "Hadi", "link": "https://stackoverflow.com/users/7031230/hadi"}, "reply_to_user": {"reputation": 65, "user_id": 5169853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d0d7b5f48fe402965eb9839ec32832?s=128&d=identicon&r=PG&f=1", "display_name": "Jed", "link": "https://stackoverflow.com/users/5169853/jed"}, "edited": false, "score": 0, "creation_date": 1556754275, "post_id": 55943831, "comment_id": 98541001, "body": "@Jed You must reorder the parameters in the SQL command since you are inserting thr <code>@type</code> parameter in the <code>PaymentDate</code> column"}], "tags": [], "owner": {"reputation": 30925, "user_id": 7031230, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sPvnP.jpg?s=128&g=1", "display_name": "Hadi", "link": "https://stackoverflow.com/users/7031230/hadi"}, "is_accepted": true, "score": 3, "last_activity_date": 1556754301, "last_edit_date": 1556754301, "creation_date": 1556752460, "answer_id": 55943831, "question_id": 55943820, "link": "https://stackoverflow.com/questions/55943820/how-to-solve-that-error-conversion-failed-when-converting-date-and-or-time-from/55943831#55943831", "title": "how to solve that error &quot;Conversion failed when converting date and/or time from character string&quot;", "body": "<p>Just use </p>\n\n<pre><code>param[4].Value = DateTime.Now;\n</code></pre>\n\n<p>Instead of </p>\n\n<pre><code>param[4].Value = Convert.ToDateTime( DateTime.Now.ToString(\"yyyy- \n    MM-dd 00:00:00\"));\n</code></pre>\n\n<p>If you need to remove the time part then use:</p>\n\n<pre><code>param[4].Value = DateTime.Now.Date;\n</code></pre>\n\n<p>Or as <strong>@DBro</strong> mentioned in the comments</p>\n\n<pre><code>param[4].Value = DateTime.Today;\n</code></pre>\n\n<hr>\n\n<p><strong>Update 1</strong></p>\n\n<p>If you are having problem passing the date parameter try using the following sql command without passing the PaymentDate parameter:</p>\n\n<pre><code>string Insertcmd = \"INSERT INTO PatientPay (PatientID, Cash, AmountPaid, \nPaymentDate, Reseaon, StaffID) Values (@StaffID, @Cash, @AmountPaid, \n        @type, DATEADD(dd, DATEDIFF(dd, 0, getdate()), 0), @StaffID)\";\n</code></pre>\n\n<p>The whole code will be:</p>\n\n<pre><code>string Insertcmd = \"INSERT INTO PatientPay (PatientID, Cash, AmountPaid, \nPaymentDate, Reseaon, StaffID) Values (@StaffID, @Cash, @AmountPaid, \n        @type, DATEADD(dd, DATEDIFF(dd, 0, getdate()), 0), @StaffID)\";\n    cmd = new SqlCommand(Insertcmd, con);\n\n    SqlParameter[] param = new SqlParameter[5];\n    param[0] = new SqlParameter(\"@PatientID\", SqlDbType.Int);\n    param[0].Value = PatientID;\n\n    param[1] = new SqlParameter(\"@Cash\", SqlDbType.Float);\n    param[1].Value = Cash;\n\n    param[2] = new SqlParameter(\"@AmountPaid\", SqlDbType.Float);\n    param[2].Value = AmountPaid;\n\n    param[3] = new SqlParameter(\"@type\", SqlDbType.NVarChar, 255);\n    param[3].Value = type;\n\n    param[4] = new SqlParameter(\"@StaffID\", SqlDbType.Int, 255);\n    param[4].Value = StaffID;\n    //Open the connection to database\n    con.Open();\n\n    try\n    {\n        if (con.State == System.Data.ConnectionState.Open)\n        {\n            //Execute the Adding process\n            cmd.Parameters.AddRange(param);\n            cmd.ExecuteNonQuery();\n         }\n     }catch{}\n</code></pre>\n\n<p><strong>Reference</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1177449/best-approach-to-remove-time-part-of-datetime-in-sql-server\">Best approach to remove time part of datetime in SQL Server</a></li>\n</ul>\n\n<hr>\n\n<p><strong>Update 2</strong></p>\n\n<p>You must reorder the parameters in the SQL command since you are inserting thr @type parameter in the PaymentDate column.</p>\n"}], "owner": {"reputation": 65, "user_id": 5169853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27d0d7b5f48fe402965eb9839ec32832?s=128&d=identicon&r=PG&f=1", "display_name": "Jed", "link": "https://stackoverflow.com/users/5169853/jed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1046, "favorite_count": 0, "accepted_answer_id": 55943831, "answer_count": 1, "score": 1, "last_activity_date": 1583876995, "creation_date": 1556752336, "last_edit_date": 1583876995, "question_id": 55943820, "link": "https://stackoverflow.com/questions/55943820/how-to-solve-that-error-conversion-failed-when-converting-date-and-or-time-from", "title": "how to solve that error &quot;Conversion failed when converting date and/or time from character string&quot;", "body": "<p>I am creating a new application and I am trying to insert a DateTime data type into SQLServer. the error says </p>\n\n<blockquote>\n  <p>Conversion failed when converting date and/or time from character string.</p>\n</blockquote>\n\n<p><em>Code:</em></p>\n\n<pre><code>string Insertcmd = \"INSERT INTO PatientPay (PatientID, Cash, AmountPaid, \nPaymentDate, Reseaon, StaffID) Values (@StaffID, @Cash, @AmountPaid, \n        @type, @PaymentDate, @StaffID)\";\n        cmd = new SqlCommand(Insertcmd, con);\n\n        SqlParameter[] param = new SqlParameter[6];\n        param[0] = new SqlParameter(\"@PatientID\", SqlDbType.Int);\n        param[0].Value = PatientID;\n\n        param[1] = new SqlParameter(\"@Cash\", SqlDbType.Float);\n        param[1].Value = Cash;\n\n        param[2] = new SqlParameter(\"@AmountPaid\", SqlDbType.Float);\n        param[2].Value = AmountPaid;\n\n        param[3] = new SqlParameter(\"@type\", SqlDbType.NVarChar, 255);\n        param[3].Value = type;\n\n        param[4] = new SqlParameter(\"@PaymentDate\", SqlDbType.DateTime);\n        param[4].Value = Convert.ToDateTime( DateTime.Now.ToString(\"yyyy- \n        MM-dd 00:00:00\"));  // Error\n\n        param[5] = new SqlParameter(\"@StaffID\", SqlDbType.Int, 255);\n        param[5].Value = StaffID;\n        //Open the connection to database\n        con.Open();\n\n        try\n        {\n            if (con.State == System.Data.ConnectionState.Open)\n            {\n                //Execute the Adding process\n                cmd.Parameters.AddRange(param);\n                cmd.ExecuteNonQuery();\n             }\n         }catch{}\n</code></pre>\n"}, {"tags": ["c#", "regex", "validation"], "comments": [{"owner": {"reputation": 2449, "user_id": 500276, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/200bf76976f24add540182f5c3a42788?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Benningfield", "link": "https://stackoverflow.com/users/500276/mark-benningfield"}, "edited": false, "score": 0, "creation_date": 1556760382, "post_id": 55943743, "comment_id": 98541985, "body": "See <a href=\"https://stackoverflow.com/questions/21249670/implementing-luhn-algorithm-using-c-sharp\">this question</a>"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 6723081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMinA.jpg?s=128&g=1", "display_name": "Bob Bass", "link": "https://stackoverflow.com/users/6723081/bob-bass"}, "edited": false, "score": 0, "creation_date": 1556752835, "post_id": 55943817, "comment_id": 98540728, "body": "I absolutely understand what you are saying. The issue is that there are several algorithms available to make sure that it is the proper format. The issue that I&#39;m having is that it seems that any 16 digit number starting with a 4 or 5 or any 15 digit number starting with a 3 will validate. Is that to say that the regex expression isn&#39;t actually a &#39;Luhn Validation&#39; as the person who posted it claims it is?"}, {"owner": {"reputation": 1460, "user_id": 2804722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjBig.jpg?s=128&g=1", "display_name": "Marc Sances", "link": "https://stackoverflow.com/users/2804722/marc-sances"}, "reply_to_user": {"reputation": 75, "user_id": 6723081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMinA.jpg?s=128&g=1", "display_name": "Bob Bass", "link": "https://stackoverflow.com/users/6723081/bob-bass"}, "edited": false, "score": 2, "creation_date": 1556753000, "post_id": 55943817, "comment_id": 98540758, "body": "It isn&#39;t. It would be fun to see modular arithmetics performed in a regular expression... sadly it isn&#39;t possible at all. That method only checks for the pattern, not the algorithm."}, {"owner": {"reputation": 75, "user_id": 6723081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMinA.jpg?s=128&g=1", "display_name": "Bob Bass", "link": "https://stackoverflow.com/users/6723081/bob-bass"}, "edited": false, "score": 0, "creation_date": 1556756236, "post_id": 55943817, "comment_id": 98542014, "body": "Thank you for explaining that. Now that I look at it with a fresh set of eyes, I see exactly what it&#39;s doing. I read too much into what the person who posted it said that it did and I was just looking for a quick copy-paste solution to hold me over. I genuinely do appreciate your input."}], "tags": [], "owner": {"reputation": 1460, "user_id": 2804722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjBig.jpg?s=128&g=1", "display_name": "Marc Sances", "link": "https://stackoverflow.com/users/2804722/marc-sances"}, "is_accepted": false, "score": -1, "last_activity_date": 1556752291, "creation_date": 1556752291, "answer_id": 55943817, "question_id": 55943743, "link": "https://stackoverflow.com/questions/55943743/why-would-a-c-regex-credit-card-validation-function-validate-with-invalid-value/55943817#55943817", "title": "Why would a C# regex credit card validation function validate with invalid values?", "body": "<p>Your STRONG feeling isn't too far from reality... it's actually doing what you say. The fact is that you really can't really validate a credit card number using regex... you'll check if the number follows the format, but not if it belongs to an actual card, for that you would need to use a real API of some financial service that can query the bank for the credit card information...</p>\n\n<p>If you can't do that, that regex is your best bet... but anyone will be able to provide an invented number (or someone else's number).</p>\n"}], "owner": {"reputation": 75, "user_id": 6723081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMinA.jpg?s=128&g=1", "display_name": "Bob Bass", "link": "https://stackoverflow.com/users/6723081/bob-bass"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "closed_date": 1582274833, "answer_count": 1, "score": -4, "last_activity_date": 1556756236, "creation_date": 1556751564, "question_id": 55943743, "link": "https://stackoverflow.com/questions/55943743/why-would-a-c-regex-credit-card-validation-function-validate-with-invalid-value", "closed_reason": "Duplicate", "title": "Why would a C# regex credit card validation function validate with invalid values?", "body": "<p>I am creating a payment processor WinForms app which of course pushes the results to the gateway API. I am simply trying to validate the credit card number before sending it out. I just need a working 'prototype' so I can finish designing the UI before I dive into learning the Luhn and Base 10 Algorithms so I found the ValidateCreditCard() method in a forum and I just need to get it to be functional.</p>\n\n<pre><code>using System;\nusing System.Text;\nusing System.Windows.Forms;\n\nnamespace PaymentPlanCalculator\n{\n    public partial class paymentPlanCalculator : Form\n    {\n        public paymentPlanCalculator()\n        {\n            InitializeComponent();\n        }\n\n        public void Form1_Load(object sender, EventArgs e)\n        {\n            /****************************************** //\n            /*             DEFINE VARIABLES             //\n            /****************************************** */\n            //I have a bunch of variables defined here, nothing relevant to the question\n        }\n\n        public void Button1_Click(object sender, EventArgs e)\n        {\n            string creditCardNumber = txtCreditCardNumber.Text;\n            if (ValidateCreditCard(creditCardNumber))\n            {\n                lblCardValid.Text = \"VALID!\";\n            }\n            else\n            {\n                lblCardValid.Text = \"INVALID!\";\n            }\n\n        }\n\n        public bool ValidateCreditCard(string creditCardNumber)\n        {\n            //Strip any non-numeric values\n            creditCardNumber = Regex.Replace(creditCardNumber, @\"[^\\d]\", \"\");\n\n            //Build your Regular Expression\n            Regex expression = new Regex(@\"^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\\d{3})\\d{11})$\");\n\n            //Return if it was a match or not\n            return expression.IsMatch(creditCardNumber);\n        }\n    }\n}\n\n</code></pre>\n\n<p>It appears to work but I have a STRONG feeling that it is validating invalid card numbers as long as they're 16 digits and begin with a 4 or 5.</p>\n\n<p>I have never used regex before and I'm a relatively green C# programmer so I'm assuming that there is something wrong with my implementation as opposed to the function I found online.</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 1518, "user_id": 2434628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f694c7757c0085ac1f0ed88d960ff657?s=128&d=identicon&r=PG", "display_name": "AresCaelum", "link": "https://stackoverflow.com/users/2434628/arescaelum"}, "edited": false, "score": 0, "creation_date": 1556756984, "post_id": 55943692, "comment_id": 98541430, "body": "Are your GameObjects with that tag active? Also do they exist when start is called?"}], "answers": [{"tags": [], "owner": {"reputation": 325, "user_id": 9110041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SdYP1.jpg?s=128&g=1", "display_name": "Nikola G.", "link": "https://stackoverflow.com/users/9110041/nikola-g"}, "is_accepted": false, "score": 2, "last_activity_date": 1556760306, "creation_date": 1556760306, "answer_id": 55944569, "question_id": 55943692, "link": "https://stackoverflow.com/questions/55943692/gameobject-findgameobjectswithtag-not-working/55944569#55944569", "title": "GameObject.FindGameObjectsWithTag() not working", "body": "<p>How do you know it's empty?</p>\n\n<p>If your opinion is based on print output, then you are wrong. Print will always throw just a type of guards variable and a name of gameObject to which this script is attached to. If you want to check the number of gameObjects found, you should use guards.Length or make a variable public so that you have a peek at it from the Inspector on runtime.</p>\n\n<pre><code>public GameObject[] guards;\n\nvoid Start ()\n{\n    guards = GameObject.FindGameObjectsWithTag(\"Guard\");\n    print(guards.Length);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 408908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e634b89921b43a7a0448e200b7628ae5?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/408908/will"}, "is_accepted": false, "score": -1, "last_activity_date": 1571037462, "last_edit_date": 1571037462, "creation_date": 1571037127, "answer_id": 58371698, "question_id": 55943692, "link": "https://stackoverflow.com/questions/55943692/gameobject-findgameobjectswithtag-not-working/58371698#58371698", "title": "GameObject.FindGameObjectsWithTag() not working", "body": "<p>I ran into a similar problem where I'm trying to get tags from a prefab, but didn't instantiate them yet.</p>\n\n<p>Are there objects in your scene that contain \"Guard\" tags?</p>\n"}], "owner": {"reputation": 52, "user_id": 10941332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fcaf931c7b92fd6eeedf9b8b1cadde?s=128&d=identicon&r=PG&f=1", "display_name": "NullAndVoid", "link": "https://stackoverflow.com/users/10941332/nullandvoid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1034, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1571037462, "creation_date": 1556751248, "question_id": 55943692, "link": "https://stackoverflow.com/questions/55943692/gameobject-findgameobjectswithtag-not-working", "title": "GameObject.FindGameObjectsWithTag() not working", "body": "<p>I am trying to find all game objects with the tag \"Guard\". For some reason, this is not working. I have tried it with other tags, and I know there are objects with the tag \"Guard\".</p>\n\n<p>My Code</p>\n\n<pre><code>GameObject[] guards;\n\nvoid Start()\n{\n    guards = GameObject.FindGameObjectsWithTag(\"Guard\");\n    print(guards + name);\n}\n</code></pre>\n\n<p>I know this is probably really simple, but printing it always results in a empty array. I am a Unity beginner, and would really appreciate the help. Thank you! :)</p>\n"}, {"tags": ["c#", "reflection", "annotations", "attributes", ".net-attributes"], "answers": [{"tags": [], "owner": {"reputation": 751, "user_id": 807246, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e525326210841c551f38a79b95d41d40?s=128&d=identicon&r=PG", "display_name": "heyNow", "link": "https://stackoverflow.com/users/807246/heynow"}, "is_accepted": true, "score": 0, "last_activity_date": 1556894871, "creation_date": 1556894871, "answer_id": 55972228, "question_id": 55943647, "link": "https://stackoverflow.com/questions/55943647/how-to-use-a-custom-annotations-validator-poco-without-any-framework-no-asp-net/55972228#55972228", "title": "How to use a custom annotations validator POCO without any framework (no asp.net, no mvc, no ORM)", "body": "<p>I managed to get it working using</p>\n\n<pre><code>using System.ComponentModel.DataAnnotations;\n\nclass RequiredAttribute : ValidationAttribute\n{ //... above code }\n</code></pre>\n\n<p>In the main Driver class...</p>\n\n<pre><code>using System.ComponentModel.DataAnnotations;\n\nclass Driver\n{\n\npublic static void Main(string[] args)\n{\n            var results = new List&lt;ValidationResult&gt;();\n            var vc = new ValidationContext(AreaDataRow, null, null);\n            var errorMessages = new List&lt;string&gt;();\n\n            if (!Validator.TryValidateObject(AreaDataRow, vc, results, true))\n            {\n                foreach (ValidationResult result in results)\n                {\n                    if (!string.IsNullOrEmpty(result.ErrorMessage))\n                    {\n                        errorMessages.Add(result.ErrorMessage);\n                    }\n                }\n\n                isError = true;\n            }\n}\n}\n</code></pre>\n\n<p>No frameworks or ORMS required, just the <code>DataAnnotations</code> library.<br>\nIt can work with multiple [Attributes]</p>\n"}], "owner": {"reputation": 751, "user_id": 807246, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e525326210841c551f38a79b95d41d40?s=128&d=identicon&r=PG", "display_name": "heyNow", "link": "https://stackoverflow.com/users/807246/heynow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 55972228, "answer_count": 1, "score": 0, "last_activity_date": 1556894871, "creation_date": 1556750881, "question_id": 55943647, "link": "https://stackoverflow.com/questions/55943647/how-to-use-a-custom-annotations-validator-poco-without-any-framework-no-asp-net", "title": "How to use a custom annotations validator POCO without any framework (no asp.net, no mvc, no ORM)", "body": "<p>I have a custom validation class</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Reflection;\n\n internal class RequiredAttribute1 : Attribute\n{\n    public RequiredAttribute1()\n    {\n    }\n\n    public void Validate(object o, MemberInfo info, List&lt;string&gt; errors)\n    {\n        object value;\n\n        switch (info.MemberType)\n        {\n            case MemberTypes.Field:\n                value = ((FieldInfo)info).GetValue(o);\n                break;\n\n            case MemberTypes.Property:\n                value = ((PropertyInfo)info).GetValue(o, null);\n                break;\n\n            default:\n                throw new NotImplementedException();\n        }\n\n        if (value is string &amp;&amp; string.IsNullOrEmpty(value as string))\n        {\n            string error = string.Format(\"{0} is required\", info.Name);\n\n            errors.Add(error);\n        }\n    }\n}\n</code></pre>\n\n<p>I am using it on the following object:-</p>\n\n<pre><code>class Fruit\n{\n [RequiredAttribute1]\n public string Name {get; set;}\n\n [RequiredAttribute1]\n public string Description {get; set;}\n}\n</code></pre>\n\n<p>Now, I want to run the validation rules on a list of fruits, to print to a string<br>\nAll I can think of is :-</p>\n\n<ol>\n<li>Iterate through fruits</li>\n<li>For each fruit, iterate through its properties</li>\n<li>For each property, iterate through custom validators (only 1 here...)</li>\n<li>Call the Validate function</li>\n<li>Collect and print validator errors</li>\n</ol>\n\n<p>Is there something easier than this and more built-in, for reading these annotations, without having to add framework dlls like (ASP.net / MVC /etc...) ?<br>\nThis is just for a simple Console application.</p>\n"}, {"tags": ["c#", "mysql", "sql", "sql-server"], "comments": [{"owner": {"reputation": 661, "user_id": 8896332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25a7cb454d24afa6b5cd0345a694ceaa?s=128&d=identicon&r=PG&f=1", "display_name": "Ashok", "link": "https://stackoverflow.com/users/8896332/ashok"}, "edited": false, "score": 0, "creation_date": 1556752042, "post_id": 55943637, "comment_id": 98540594, "body": "what is the issue in saving ID and yesterday&#39;s date?"}, {"owner": {"reputation": 5, "user_id": 8310563, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WxCF0joKwyQ/AAAAAAAAAAI/AAAAAAAAAC4/UYOcEqfDodg/photo.jpg?sz=128", "display_name": "Easwaran", "link": "https://stackoverflow.com/users/8310563/easwaran"}, "reply_to_user": {"reputation": 661, "user_id": 8896332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25a7cb454d24afa6b5cd0345a694ceaa?s=128&d=identicon&r=PG&f=1", "display_name": "Ashok", "link": "https://stackoverflow.com/users/8896332/ashok"}, "edited": false, "score": 0, "creation_date": 1556754117, "post_id": 55943637, "comment_id": 98540968, "body": "I need a save query result with id and date"}], "owner": {"reputation": 5, "user_id": 8310563, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WxCF0joKwyQ/AAAAAAAAAAI/AAAAAAAAAC4/UYOcEqfDodg/photo.jpg?sz=128", "display_name": "Easwaran", "link": "https://stackoverflow.com/users/8310563/easwaran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557875359, "creation_date": 1556750793, "last_edit_date": 1557875359, "question_id": 55943637, "link": "https://stackoverflow.com/questions/55943637/how-to-get-sumnet-weight-in-to-query-result-from-mysql-and-save-in-to-mssql-wi", "title": "How to get sum(Net_weight) in to query result from MySQL and save in to MSSQL with ID", "body": "<p>I have Query Like <code>SELECT SUM(Length) FROM tbl_test WHERE ID = @ID and date= @date</code> I am assigning Date into the string</p>\n\n<pre><code>MysqlConnection con = new mysqlConnection(ConfigurationManager.ConnectionStrings[\"dbConnectionString\"].ToString());\nmySqlCommand read_command = new mySqlCommand(\"SELECT SUM(Length) FROM tbl_test ID =@ID and date=@date\", con);\n        read_command.Parameters.Add(\"@Date\", SqlDbType.Date).Value = yesterday ;\n        mySqlDataReader read_rd;\n        string SUM ;\n        try\n        {\n            con.Open();\n            read_rd = read_command.ExecuteReader();\n            if (read_pass_rd.HasRows)\n            {\n                while (read_rd.Read())\n                {\n                    SUM = read_rd.GetString(0);\n                }\n            }\n            read_rd.Close();\n            con.Close();\n        }\n        catch (Exception)\n        {\n            if (con.State == ConnectionState.Open)\n</code></pre>\n\n<p>When running this query I am getting query result using My SQL.\nNow the problem is I need to save query result Sum(length) to save MSSQL table with id and Yesterday date. How to save into MS SQL Table because this windows service application how to save ID and Yesterday Date.</p>\n"}, {"tags": ["c#", "windows", "winforms", "winapi"], "comments": [{"owner": {"reputation": 42375, "user_id": 21567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23a053b78fc2567576235b77fa2e4c16?s=128&d=identicon&r=PG", "display_name": "Christian.K", "link": "https://stackoverflow.com/users/21567/christian-k"}, "edited": false, "score": 0, "creation_date": 1556801359, "post_id": 55943599, "comment_id": 98557579, "body": "&quot;One or more errors occured&quot; - This is typically an <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.aggregateexception?view=netframework-4.8\" rel=\"nofollow noreferrer\">AggregateException</a>, which by itself is not very helpful. Make sure you inspect (and update your question accordingly) the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.aggregateexception.innerexceptions?view=netframework-4.8\" rel=\"nofollow noreferrer\">InnerExceptions</a> property to understand what really the issue is."}, {"owner": {"reputation": 42375, "user_id": 21567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23a053b78fc2567576235b77fa2e4c16?s=128&d=identicon&r=PG", "display_name": "Christian.K", "link": "https://stackoverflow.com/users/21567/christian-k"}, "edited": false, "score": 0, "creation_date": 1556801496, "post_id": 55943599, "comment_id": 98557664, "body": "One more thing: &quot;when the CPU is already using a lot of its power&quot; ... &quot;It certainly is a slower process, even to get the values&quot; don&#39;t you think that these are (naturally) related?"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1556870376, "post_id": 55943599, "comment_id": 98581886, "body": "The optimal solution is probably, to not do any of this at all, and instead have the system enforce a hard limit by calling <a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/memoryapi/nf-memoryapi-setprocessworkingsetsizeex\" rel=\"nofollow noreferrer\">SetProcessWorkingSetSizeEx</a>. Depending on the system you use, there might be pre-built solutions (like <a href=\"https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732553(v=ws.11)\" rel=\"nofollow noreferrer\">Windows System Resource Manager</a>)."}], "answers": [{"comments": [{"owner": {"reputation": 859, "user_id": 3609107, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100000140665524/picture?type=large", "display_name": "Laureant", "link": "https://stackoverflow.com/users/3609107/laureant"}, "edited": false, "score": 0, "creation_date": 1556813184, "post_id": 55949491, "comment_id": 98564430, "body": "Hello Rita Han! This is a really interesting approach, but is PowerShell really more optimal/faster than C#?"}], "tags": [], "owner": {"reputation": 8787, "user_id": 6601582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd0a2f69702729da5aaa628bc58811a7?s=128&d=identicon&r=PG&f=1", "display_name": "Rita Han", "link": "https://stackoverflow.com/users/6601582/rita-han"}, "is_accepted": false, "score": 0, "last_activity_date": 1556789997, "last_edit_date": 1556789997, "creation_date": 1556789550, "answer_id": 55949491, "question_id": 55943599, "link": "https://stackoverflow.com/questions/55943599/optimal-way-to-get-private-working-set-memory-in-c-for-a-specific-instance-of-a/55949491#55949491", "title": "Optimal way to get Private Working Set Memory in C# for a specific instance of a process", "body": "<p>Instead of using API, a workaround is call the following PowerShell command in C#.</p>\n\n<pre><code>(Get-Counter \"\\Process(notepad)\\Working Set - Private\").CounterSamples |\n    Sort-Object InstanceName |\n        Format-Table InstanceName, @{Label=\"PrivateWorkingSet\"; Expression={$_.CookedValue / 1MB}} -AutoSize\n</code></pre>\n\n<p>Here I select notepad as an example. You can call this command for each process to check the private working set.</p>\n\n<p>Kill the process:</p>\n\n<pre><code>Stop-Process -Name \"notepad\"\n</code></pre>\n\n<p>Refer to \"<a href=\"https://blogs.msdn.microsoft.com/kebab/2014/04/28/executing-powershell-scripts-from-c/\" rel=\"nofollow noreferrer\">Executing PowerShell scripts from C#</a>\" \"<a href=\"https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.diagnostics/get-counter?view=powershell-5.1\" rel=\"nofollow noreferrer\">Get-Counter - Example 14:Find processes on a computer with the largest working sets</a>\"</p>\n"}], "owner": {"reputation": 859, "user_id": 3609107, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/100000140665524/picture?type=large", "display_name": "Laureant", "link": "https://stackoverflow.com/users/3609107/laureant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556789997, "creation_date": 1556750529, "question_id": 55943599, "link": "https://stackoverflow.com/questions/55943599/optimal-way-to-get-private-working-set-memory-in-c-for-a-specific-instance-of-a", "title": "Optimal way to get Private Working Set Memory in C# for a specific instance of a process", "body": "<p>I'm building a small console app that forcibly closes processes that use a certain amount of memory, and I'm struggling to get it properly working when the CPU is already using a lot of its power.</p>\n\n<p>Whenever I use the PerformanceCounter to get the <strong>Private Working Set</strong> memory, I easily get into the following exception:</p>\n\n<blockquote>\n  <p>One or more errors occured</p>\n</blockquote>\n\n<p>It looks to me, that if I \"attach\" the PerformanceCounter to a process, I can no longer simply <strong>.Kill()</strong> it. It certainly is a slower process, even to get the values.</p>\n\n<p>When I use <strong>Task Manager</strong> I can clearly see the memory usage of a process. If I go into the Details tab, I can see that the memory column is actually the \"Private Working Set\" value.</p>\n\n<p><strong>Is there a way to get this value in a more optimal, faster way?</strong></p>\n\n<p>Here's the code I use to get the Private Working Set via a PerformanceCounter:</p>\n\n<pre><code>public static long GetPrivateWorkingSetMemoryOfProcess(Process process)\n{\n    long process_size = 0;\n    String InstanceName = PerformanceCounterInstanceName(process);\n    var counter = new PerformanceCounter(\"Process\", \"Working Set - Private\", InstanceName, true);\n    process_size = Convert.ToInt32(counter.NextValue()) / 1024;\n    return process_size;\n}\n</code></pre>\n\n<p>Since the PerformanceCounter uses the process name as a parameter, and not the ID, I use this function to get the correct process name of a Process:</p>\n\n<pre><code>public static string PerformanceCounterInstanceName(this Process process)\n{\n    var matchesProcessId = new Func&lt;string, bool&gt;(instanceName =&gt;\n    {\n        using (var pc = new PerformanceCounter(\"Process\", \"ID Process\", instanceName, true))\n        {\n            if ((int)pc.RawValue == process.Id)\n            {\n                return true;\n            }\n        }\n        return false;\n    });\n\n    string processName = Path.GetFileNameWithoutExtension(process.ProcessName);\n    return new PerformanceCounterCategory(\"Process\")\n           .GetInstanceNames()\n           .AsParallel()\n           .FirstOrDefault(instanceName =&gt; instanceName.StartsWith(processName)\n                                           &amp;&amp; matchesProcessId(instanceName));\n}\n</code></pre>\n\n<p>And here's where I would use it to kill a process that has a certain amount of memory usage:</p>\n\n<pre><code>//get Process By ID\nProcess processToClose = Process.GetProcessById(Convert.ToInt32(processid));\n\nlong processesPrivateWorkingSetMemoryUsage = GetPrivateWorkingSetMemoryOfProcess(processToClose);\nConsole.WriteLine(\"Process '\" + processid + \"' uses \" + processesPrivateWorkingSetMemoryUsage.ToString() + \" memory.\");\nif (processesPrivateWorkingSetMemoryUsage &lt;= 8000)\n{\n    processToClose.Kill()\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "unity3d"], "comments": [{"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1556780032, "post_id": 55943579, "comment_id": 98546779, "body": "Welcome to SO.  Its not clear from your post what your question is."}], "answers": [{"tags": [], "owner": {"reputation": 594, "user_id": 11394202, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghVnP.jpg?s=128&g=1", "display_name": "Muhammad Farhan Aqeel", "link": "https://stackoverflow.com/users/11394202/muhammad-farhan-aqeel"}, "is_accepted": false, "score": 0, "last_activity_date": 1556788227, "creation_date": 1556788227, "answer_id": 55949111, "question_id": 55943579, "link": "https://stackoverflow.com/questions/55943579/how-to-add-an-image-to-text-that-will-show-up-randomly/55949111#55949111", "title": "How to add an image to text that will show up randomly", "body": "<p>Based on the small information I think you are trying to set a random question but with the correct image. </p>\n\n<p>If this is the case:\nThe problem I see is you are using a list to access Question and Images. You can use Dictionaries to solve the issue.</p>\n\n<pre><code>public Question[] questions;\npublic Image[] images;\n</code></pre>\n\n<p>New: </p>\n\n<pre><code>Dictionary&lt; int, Question&gt; Questions;\nDictionary&lt; int, Image&gt; Images;\n</code></pre>\n\n<p>Integer here will be a random index that will be same for both dictionaries. </p>\n\n<p>You can manually set the questions and images on runtime. then, whenever you want to assign an image to that random text, just get a random number using Random.Range function. it will return an integer that can be used as the index. Let me know if it helps. </p>\n\n<p>PS: You can remove the space before int datatype. </p>\n"}], "owner": {"reputation": 1, "user_id": 11439129, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LymfTmuRASM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcMptgA3mXG3-s-SAFr2H7A2ZDTxg/mo/photo.jpg?sz=128", "display_name": "Zack", "link": "https://stackoverflow.com/users/11439129/zack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1556788227, "creation_date": 1556750383, "question_id": 55943579, "link": "https://stackoverflow.com/questions/55943579/how-to-add-an-image-to-text-that-will-show-up-randomly", "title": "How to add an image to text that will show up randomly", "body": "<p><a href=\"https://i.stack.imgur.com/1TpXJ.png\" rel=\"nofollow noreferrer\">What it looks like in unity. I have also drawn a red arrow to show what I am trying to move</a></p>\n\n<p>I am trying to make a quiz game that would show a random word with a corresponding image. I am able to show a random question and a random image at the same time. My problem is that the image that will show up will not always be the correct image for the word. Is it possible to move the random image up and place it with the random text?</p>\n\n<p>I have tried attaching the image directly with the text and the problem is that the text will disappear and only the image will stay. What I did to get the image into the game object was by repeating everything for the text. </p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing System.Linq;\nusing UnityEngine.UI;\nusing UnityEngine.SceneManagement;\n\npublic class GameManager : MonoBehaviour\n{\n    public Question[] questions;\n    public Image[] images;\n\n    private static List&lt;Question&gt; unansweredQuestions;\n    private static List&lt;Image&gt; unansweredImages;\n\n    private Question currentQuestion;\n    private Image currentImage;\n\n    [SerializeField]\n    private Text factText;\n    [SerializeField]\n    private Image factImage;\n\n    [SerializeField]\n    private Text trueAnswerText;\n    [SerializeField]\n    private Image trueAnswerImage;\n\n    [SerializeField]\n    private Text falseAnswerText;\n    [SerializeField]\n    private Image falseAnswerImage;\n\n    [SerializeField]\n    private Animator animator;\n\n    [SerializeField]\n    private float timeBetweenQuestions = 1f;\n    [SerializeField]\n    private float timeBetweenImages = 1f;\n\n    void Start()\n    {\n        if (unansweredQuestions == null || unansweredQuestions.Count == 0)\n        {\n            unansweredQuestions = questions.ToList&lt;Question&gt;();\n        }\n\n        if (unansweredImages == null || unansweredImages.Count == 0)\n        {\n            unansweredImages = images.ToList&lt;Image&gt;();\n        }\n\n        SetCurrentQuestion();\n    }\n\n    void SetCurrentQuestion()\n    {\n        int randomQuestionIndex = Random.Range(0, unansweredQuestions.Count);\n        currentQuestion = unansweredQuestions[randomQuestionIndex];\n\n        int randomImageIndex = Random.Range(0, unansweredQuestions.Count);\n        currentImage = unansweredImages[randomImageIndex];\n\n        factText.text = currentQuestion.fact;\n\n        if (currentQuestion.isTrue)\n        {\n            trueAnswerText.text = \"CORRECT\";\n            falseAnswerText.text = \"WRONG\";\n        }\n        else\n        {\n            trueAnswerText.text = \"WRONG\";\n            falseAnswerText.text = \"CORRECT\";\n        }\n\n    }\n\n    IEnumerator TransitionToNextQuestion()\n    {\n        unansweredQuestions.Remove(currentQuestion);\n\n        yield return new WaitForSeconds(timeBetweenQuestions);\n\n        SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex);\n\n        unansweredImages.Remove(currentImage);\n\n        yield return new WaitForSeconds(timeBetweenQuestions);\n\n        SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex);\n    }\n</code></pre>\n\n<p>I expect the image and correct text to show up together randomly.</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11324113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9244c910c5e1bca7d8194bc9959f6ccc?s=128&d=identicon&r=PG&f=1", "display_name": "isaa", "link": "https://stackoverflow.com/users/11324113/isaa"}, "edited": false, "score": 0, "creation_date": 1556786809, "post_id": 55943803, "comment_id": 98550035, "body": "If I tag the layer ground , foo will be write like : ground, 0 ? or &quot;ground&quot; , 0"}], "tags": [], "owner": {"reputation": 409, "user_id": 10023317, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-x8s-6L2oXzo/AAAAAAAAAAI/AAAAAAAADtA/_Oln0NvBiDI/photo.jpg?sz=128", "display_name": "Eric Bishop", "link": "https://stackoverflow.com/users/10023317/eric-bishop"}, "is_accepted": false, "score": 0, "last_activity_date": 1556752143, "creation_date": 1556752143, "answer_id": 55943803, "question_id": 55943509, "link": "https://stackoverflow.com/questions/55943509/my-player-dies-touching-any-object-with-box-collider/55943803#55943803", "title": "My player dies touching any object with box collider", "body": "<p>So in the method <code>OnCollisionEnter2D()</code>, whatever code is inside there will be triggered <em>every</em> time, regardless of what hit it. However, you can retrieve data about the collision to determine if it hit your ground. The best way to do this is using Unity's <a href=\"https://docs.unity3d.com/Manual/class-TagManager.html\" rel=\"nofollow noreferrer\">layer system</a>.</p>\n\n<p>First, you will want to create a layer (going to Project Settings > Tags and Layers. Be sure to remember which number was to the left of your layer's name) for all of your ground pieces and then should assign them to that layer. The when you collide with something, you can check if it is on that layer by using an <code>if</code> statement, like this.</p>\n\n<pre><code>private void OnCollisionEnter2D(Collision2D collision)\n{\n    // Foo represents the number of the layer that the ground is assigned to.\n    if (collision.collider.gameObject.layer == foo)\n    {\n        isDead = true;\n        rb2d.velocity = Vector2.zero;\n        GameController.Instance.Die();\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 594, "user_id": 11394202, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ghVnP.jpg?s=128&g=1", "display_name": "Muhammad Farhan Aqeel", "link": "https://stackoverflow.com/users/11394202/muhammad-farhan-aqeel"}, "is_accepted": true, "score": 0, "last_activity_date": 1556788652, "creation_date": 1556788652, "answer_id": 55949231, "question_id": 55943509, "link": "https://stackoverflow.com/questions/55943509/my-player-dies-touching-any-object-with-box-collider/55949231#55949231", "title": "My player dies touching any object with box collider", "body": "<p>You can set a tag to your ground gameobject. \nYour new OnCollisionEnter2D would look like this.</p>\n\n<pre><code>private void OnCollisionEnter2D(Collision2D collision){\n\nif (collision.gameObject.CompareTag(\"ground\")) // this will return true if the collision gameobject has ground tag on it.\n{\n    isDead = true;\n    rb2d.velocity = Vector2.zero;\n    GameController.Instance.Die();\n}}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11324113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9244c910c5e1bca7d8194bc9959f6ccc?s=128&d=identicon&r=PG&f=1", "display_name": "isaa", "link": "https://stackoverflow.com/users/11324113/isaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 55949231, "answer_count": 2, "score": 0, "last_activity_date": 1593703534, "creation_date": 1556749798, "last_edit_date": 1593703534, "question_id": 55943509, "link": "https://stackoverflow.com/questions/55943509/my-player-dies-touching-any-object-with-box-collider", "title": "My player dies touching any object with box collider", "body": "<p>I want to do a game and I want my player to jump from an object to another and when it touches the ground to die. My player dies when he touch anything , how can I make him die just when it touches the ground? This is my code bellow</p>\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class Move2d : MonoBehaviour\n{\n    public float playerSpeed;  //allows us to be able to change speed in Unity\n    public Vector2 jumpHeight;\n    public bool isDead = false;\n    private Rigidbody2D rb2d;\n\n    // Use this for initialization\n    void Start()\n    {\n        rb2d = GetComponent&lt;Rigidbody2D&gt;();\n\n    }\n    // Update is called once per frame\n    void Update()\n    {\n        if (isDead) { return; }\n        transform.Translate(playerSpeed * Time.deltaTime, 0f, 0f);  //makes player run\n\n        if (Input.GetMouseButtonDown(0) || Input.GetKeyDown(KeyCode.Space))  //makes player jump\n        {\n            GetComponent&lt;Rigidbody2D&gt;().AddForce(jumpHeight, ForceMode2D.Impulse);\n        }\n    }\n    private void OnCollisionEnter2D(Collision2D collision)\n    {\n        isDead = true;\n        rb2d.velocity = Vector2.zero;\n        GameController.Instance.Die();\n        \n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "list", "dictionary"], "comments": [{"owner": {"reputation": 2397, "user_id": 5209435, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d14a78299ebf996ea9b9054cc3bd26ba?s=128&d=identicon&r=PG", "display_name": "Matt Stannett", "link": "https://stackoverflow.com/users/5209435/matt-stannett"}, "edited": false, "score": 1, "creation_date": 1556749896, "post_id": 55943408, "comment_id": 98540129, "body": "What about something as suggested in <a href=\"https://stackoverflow.com/a/17887699/5209435\">this answer</a>. You could just use the logic in a helper method if you didn&#39;t want to create a new class."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1556749918, "post_id": 55943408, "comment_id": 98540138, "body": "You&#39;ve listed things that you want, but you haven&#39;t asked a question. What&#39;s your question?"}, {"owner": {"reputation": 122, "user_id": 6855161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239c47829e41f37c8c604743854bf570?s=128&d=identicon&r=PG&f=1", "display_name": "N. J. Funk", "link": "https://stackoverflow.com/users/6855161/n-j-funk"}, "edited": false, "score": 0, "creation_date": 1556750111, "post_id": 55943408, "comment_id": 98540191, "body": "I would really want to help you but there is no real question here."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556754615, "post_id": 55943408, "comment_id": 98541053, "body": "There&#39;s also no dictionary."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1556755551, "post_id": 55943408, "comment_id": 98541209, "body": "I can&#39;t wrap my head either, because you have named an argument <code>Inventory</code>, representing a list of <code>Inventory</code> objects. It is very confusing. A better name for the argument would be <code>inventoryList</code>. Give meaningful names to your variables, and much of the confusion will go away."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 10925061, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cmjFUM8KVM0/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ90TkZXI68mrUTDNRT5oRFNJOVgQ/mo/photo.jpg?sz=128", "display_name": "Utututu", "link": "https://stackoverflow.com/users/10925061/utututu"}, "is_accepted": false, "score": 0, "last_activity_date": 1556751062, "creation_date": 1556751062, "answer_id": 55943672, "question_id": 55943408, "link": "https://stackoverflow.com/questions/55943408/cannot-wrap-my-head-around-using-a-dictionary-with-imbedded-list-such-as-diction/55943672#55943672", "title": "Cannot wrap my head around using a Dictionary with imbedded list such as dictionary&lt;string, list&lt;string&gt;&gt;", "body": "<pre><code>    string newKey = \"NEW KEY\";\n    string firstListElement = \"FIRST\";\n    Dictionary&lt;string, List&lt;string&gt;&gt; dict = new Dictionary&lt;string, List&lt;string&gt;&gt;();\n    if (dict.ContainsKey(newKey)) { \n        // you need to throw an exception or return some signal to exit function\n    }\n    dict.Add(newKey, new List&lt;string&gt;());\n    dict[newKey].Add(firstListElement);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 122, "user_id": 6855161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239c47829e41f37c8c604743854bf570?s=128&d=identicon&r=PG&f=1", "display_name": "N. J. Funk", "link": "https://stackoverflow.com/users/6855161/n-j-funk"}, "is_accepted": true, "score": 0, "last_activity_date": 1556751328, "creation_date": 1556751328, "answer_id": 55943708, "question_id": 55943408, "link": "https://stackoverflow.com/questions/55943408/cannot-wrap-my-head-around-using-a-dictionary-with-imbedded-list-such-as-diction/55943708#55943708", "title": "Cannot wrap my head around using a Dictionary with imbedded list such as dictionary&lt;string, list&lt;string&gt;&gt;", "body": "<p>I'm not sure if I've understood your question but here is some explanation on how to work with dictionaries that contain lists in  general.</p>\n\n<p>You have dictionary that consists of a key and a List.</p>\n\n<pre><code>Dictionary&lt;string, List&lt;int&gt;&gt; dictionaryWithList = new Dictionary&lt;string, List&lt;int&gt;&gt;();\n</code></pre>\n\n<p>If you want to save something into this List you have to create a key-value pair first. This means adding an element to the dictionary containing the key and the list. If you want to have your list filled while adding the key value pair you could do something like this:</p>\n\n<pre><code>List&lt;int&gt; myList = new List&lt;int&gt;();\nmyList.Add(5);\nmyList.Add(6);\nmyList.Add(7);\ndictionaryWithList.Add(\"test\", myList);\n</code></pre>\n\n<p>Now you have a list containing 5, 6 and 7 that you can access with the key \"test\" inside of the dictionary.</p>\n\n<p>If you want to access the list you just use:</p>\n\n<pre><code>dictionaryWithList[\"test\"]\n</code></pre>\n\n<p>So if you want to add a new number to the list that has the key \"test\" then you can use:</p>\n\n<pre><code>dictionaryWithList[\"test\"].Add(42)\n</code></pre>\n\n<p>If you want to avoid running into Exceptions caused by keys not existing, test if a key exists first:</p>\n\n<pre><code>if(dictionaryWithList.ContainsKey(\"test\"))\n</code></pre>\n\n<p>Notify me if this hasn't helped you with some further information about your problem :)</p>\n"}], "owner": {"reputation": 13, "user_id": 11439105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7XNmWF2ySLk/AAAAAAAAAAI/AAAAAAAAAOw/rDLYlsFVPkw/photo.jpg?sz=128", "display_name": "Roy Welborn", "link": "https://stackoverflow.com/users/11439105/roy-welborn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 55943708, "answer_count": 2, "score": -2, "last_activity_date": 1556751328, "creation_date": 1556749076, "question_id": 55943408, "link": "https://stackoverflow.com/questions/55943408/cannot-wrap-my-head-around-using-a-dictionary-with-imbedded-list-such-as-diction", "title": "Cannot wrap my head around using a Dictionary with imbedded list such as dictionary&lt;string, list&lt;string&gt;&gt;", "body": "<p>trying to add a list object to the dictionary however, I cannot grasp the concept being that you have they key, so you cannot do .add without there being a key violation</p>\n\n<p>working on a shopping list program, I need to add inventory to the customer's cart, remove it from the inventory, then add that to the dictionary. </p>\n\n<pre><code>    public static Inventory AddToCart(List&lt;Inventory&gt; Inventory)\n    {\n        // this method moves a dvd from inventory to the shopping cart.\n        int i = 0;\n        int iInput = 0;\n        Inventory newCart = null;\n        if (Inventory.Count &gt; 0)\n        {\n\n            foreach (Inventory obj in Inventory)\n            {\n                ++i;\n                Console.WriteLine(\"[\" + i + \"] \" + obj.ToString());\n            }\n            iInput = Validation.GetInt(\"Please Choose an item to add to cart: \");\n            Console.Write($\"Move item at record: #{iInput - 1} to shopping cart: (y or n)\");\n            string sInput = Console.ReadLine();\n            if (string.IsNullOrEmpty(sInput))\n            {\n                Console.WriteLine(\"\\r\\nNo Valid number was chosen: \");\n            }\n            else\n                switch (sInput.ToLower())\n                {\n                    case \"y\":\n                        {\n                            newCart = Inventory[iInput - 1];\n                            Inventory.RemoveAt(iInput - 1);\n                        }\n                        break;\n                    case \"n\":\n                    case null:\n                    case \"\":\n                        {\n                            Console.WriteLine(\"\\r\\nNo Valid number was chosen: \");\n                        }\n                        break;\n                    default:\n                        {\n                            Console.WriteLine(\"Keeping item in Inventory\");\n                        }\n                        break;\n                }\n        }\n        else\n        {\n            Console.WriteLine(\"\\nNo records were found in the Shopping Cart\");\n        }\n        return newCart;\n    }\n</code></pre>\n\n<p>This is using only a list, however I need to be able to convert this over to a dictionary with this list imbedded</p>\n"}, {"tags": ["c#", "unity3d", "jnbridge"], "answers": [{"comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1556831224, "post_id": 55960154, "comment_id": 98572094, "body": "Are you releasing a &quot;.NET Standard&quot; library or are you only releasing assemblies for core and the full framework?"}, {"owner": {"reputation": 135, "user_id": 257990, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/602e8f190e90510aea5d7583796f2b53?s=128&d=identicon&r=PG", "display_name": "Wayne Citrin", "link": "https://stackoverflow.com/users/257990/wayne-citrin"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1556925124, "post_id": 55960154, "comment_id": 98606515, "body": "We are considering it, but don&#39;t have a timeline currently."}, {"owner": {"reputation": 35, "user_id": 10900754, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-llHxaDnIo8o/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZIBwK7m0zmrmq-euJMW1qE15692g/mo/photo.jpg?sz=128", "display_name": "ruben vilhelmsen", "link": "https://stackoverflow.com/users/10900754/ruben-vilhelmsen"}, "edited": false, "score": 0, "creation_date": 1556970173, "post_id": 55960154, "comment_id": 98613699, "body": "I managed to get it sort of working. The main problem was that JNBShare.dll uses AppDomain which Unity does not support. I extracted the JNBShare.dll source code with ILSpy and built a version that didn&#39;t use AppDomain. This works but the proxy dll complains since the version I built is not signed with your private key. However building the project in Unity with the original JNBShare.dll and then replacing it with the version I built (and also putting the jnbauth_x64.dll in the same folder as the exe) works."}, {"owner": {"reputation": 135, "user_id": 257990, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/602e8f190e90510aea5d7583796f2b53?s=128&d=identicon&r=PG", "display_name": "Wayne Citrin", "link": "https://stackoverflow.com/users/257990/wayne-citrin"}, "edited": false, "score": 1, "creation_date": 1557069755, "post_id": 55960154, "comment_id": 98634634, "body": "This is interesting to know, but I have to point out that you really shouldn&#39;t do this, as it violates our license."}, {"owner": {"reputation": 35, "user_id": 10900754, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-llHxaDnIo8o/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZIBwK7m0zmrmq-euJMW1qE15692g/mo/photo.jpg?sz=128", "display_name": "ruben vilhelmsen", "link": "https://stackoverflow.com/users/10900754/ruben-vilhelmsen"}, "edited": false, "score": 0, "creation_date": 1559479632, "post_id": 55960154, "comment_id": 99426396, "body": "Yes of course, I am aware of this and did it merely as a proof of concept."}, {"owner": {"reputation": 35, "user_id": 10900754, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-llHxaDnIo8o/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZIBwK7m0zmrmq-euJMW1qE15692g/mo/photo.jpg?sz=128", "display_name": "ruben vilhelmsen", "link": "https://stackoverflow.com/users/10900754/ruben-vilhelmsen"}, "edited": false, "score": 0, "creation_date": 1559484002, "post_id": 55960154, "comment_id": 99427389, "body": "Excuse the late reply, I apparently didn&#39;t have notifications on."}], "tags": [], "owner": {"reputation": 135, "user_id": 257990, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/602e8f190e90510aea5d7583796f2b53?s=128&d=identicon&r=PG", "display_name": "Wayne Citrin", "link": "https://stackoverflow.com/users/257990/wayne-citrin"}, "is_accepted": true, "score": 1, "last_activity_date": 1556830712, "creation_date": 1556830712, "answer_id": 55960154, "question_id": 55943363, "link": "https://stackoverflow.com/questions/55943363/how-would-i-implement-this-service-dll-in-a-unity-project/55960154#55960154", "title": "How would I implement this service/dll in a Unity project?", "body": "<p>JNBridgePro does not support Unity, so it is unlikely that this would work, although I have to say that we have never tried it. Starting with the new version 10, JNBridgePro does support .NET Framework and also .NET Core 3.0 (on Windows and Linux). Perhaps one of those scenarios would work for you. If you have additional questions, please contact JNBridge support.</p>\n"}], "owner": {"reputation": 35, "user_id": 10900754, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-llHxaDnIo8o/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZIBwK7m0zmrmq-euJMW1qE15692g/mo/photo.jpg?sz=128", "display_name": "ruben vilhelmsen", "link": "https://stackoverflow.com/users/10900754/ruben-vilhelmsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 55960154, "answer_count": 1, "score": 0, "last_activity_date": 1556830712, "creation_date": 1556748799, "question_id": 55943363, "link": "https://stackoverflow.com/questions/55943363/how-would-i-implement-this-service-dll-in-a-unity-project", "title": "How would I implement this service/dll in a Unity project?", "body": "<p>I'm using a service called JNBridge which is used to create proxies for Java files to be used in C#. The service works fine and I can easily create a C# solution in Visual Studio 2017 and call Java files from created proxies. I would like to use this in a Unity project however but I'm not sure how I would accomplish this.</p>\n\n<p>In order to get this to work in Visual Studio 2017 I first create the proxies I want to use and build it into a dll. After that I create a console application and add the .dll as a reference (+ another .dll needed by the service). The service also needs to use an Application Configuration File and a non .NET .dll. These two files have to get copied to the build folder in order to run the application. </p>\n\n<p>When I try recreating this in Unity I add the two .NET .dll files to the Assets folder and it seems to work since scripts autocomplete code from the .dlls. However in the Unity console I get a <code>FileNotFoundException</code>. I also have no idea how I would go about including the non .NET dll and the config file.</p>\n\n<pre><code>System.IO.FileNotFoundException: Could not load file or assembly 'DotNetToJavaProxies, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null' or one of its dependencies.\nFile name: 'DotNetToJavaProxies, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null'\nUnityEditor.EditorAssemblies:ProcessInitializeOnLoadAttributes()\n</code></pre>\n\n<p>I'm not that familiar with Unity so I'm asking, can I accomplish this? Using the config file and the .dll, and fixing the error.</p>\n"}, {"tags": ["c#", "json", "linq"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556749380, "post_id": 55943346, "comment_id": 98540014, "body": "Why don&#39;t you build two classes that can be the direct target of the deserialization? The Root has just two properties, a string type and List of a second class, which has three properties, all string types. Even though you could deserialize (directly) to <code>int</code> or <code>long</code> the <code>KeyID</code> one."}], "answers": [{"tags": [], "owner": {"reputation": 1749, "user_id": 6306772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nbcR5.jpg?s=128&g=1", "display_name": "Jeric Cruz", "link": "https://stackoverflow.com/users/6306772/jeric-cruz"}, "is_accepted": false, "score": 0, "last_activity_date": 1556927607, "last_edit_date": 1556927607, "creation_date": 1556754160, "answer_id": 55943992, "question_id": 55943346, "link": "https://stackoverflow.com/questions/55943346/how-to-iterate-through-jobject-properties-via-foreach-linq/55943992#55943992", "title": "How to iterate through JObject Properties via Foreach/LINQ", "body": "<p>You can use <code>Newtonsoft.Json</code> library to parse and loop to the items of <code>value</code></p>\n\n<p>here is a sample code:</p>\n\n<pre><code>dynamic json = JsonConvert.DeserializeObject(getVPData);\nforeach (dynamic item in json[\"value\"])\n{\n   //you can access the fields inside value.\n    var KeyID = item[\"KeyID\"];\n    var MailCity = item[\"MailCity\"];\n    var MailState = item[\"MailState\"];\n\n    //just for showing...\n    Console.WriteLine(\"KeyID:{0}, MailCity:{1}, MailState:{2}\", KeyID, MailCity, MailState);\n}\n</code></pre>\n\n<p>Let me know if the snippet works.</p>\n"}, {"tags": [], "owner": {"reputation": 8507, "user_id": 303298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ss7YE.jpg?s=128&g=1", "display_name": "vladimir", "link": "https://stackoverflow.com/users/303298/vladimir"}, "is_accepted": false, "score": 0, "last_activity_date": 1556754400, "creation_date": 1556754400, "answer_id": 55944018, "question_id": 55943346, "link": "https://stackoverflow.com/questions/55943346/how-to-iterate-through-jobject-properties-via-foreach-linq/55944018#55944018", "title": "How to iterate through JObject Properties via Foreach/LINQ", "body": "<p>Straightforward ways are:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Linq;\nusing Newtonsoft.Json;\nusing Newtonsoft.Json.Linq;\n\nnamespace ConsoleApp7\n{\n    internal class Program\n    {\n        private static void Main(string[] args)\n        {\n            var json = @\"\n    {\n    \"\"odata.metadata\"\": \"\"https://cdxapiclient.palmercg.com/odata/$metadata#JCJMCDXes\"\",\n            \"\"value\"\": [\n            {\n                \"\"KeyID\"\": \"\"10379\"\",\n                \"\"MailCity\"\": \"\"Chicago\"\",\n                \"\"MailState\"\": \"\"IL\"\"\n            },\n            {\n                \"\"KeyID\"\": \"\"9846\"\",\n                \"\"MailCity\"\": \"\"Chicago\"\",\n                \"\"MailState\"\": \"\"IL\"\"\n            },\n            {\n                \"\"KeyID\"\": \"\"2234\"\",\n                \"\"MailCity\"\": \"\"Madison\"\",\n                \"\"MailState\"\": \"\"WI\"\"\n            }]\n        }\";\n\n            var mailStates = new[] {\"IL\", \"WI\"};\n\n            var jObject = (JObject) JsonConvert.DeserializeObject(json);\n            var values = (JArray) jObject[\"value\"];\n\n            // 1st way\n\n            foreach (var mailState in mailStates)\n            {\n                var key = values\n                    .Where(v =&gt; mailState == v.SelectToken(\"MailState\").Value&lt;string&gt;())\n                    .Select(v =&gt; v.Value&lt;string&gt;(\"KeyID\"))\n                    .FirstOrDefault();\n\n                Console.WriteLine($\"1st case: {mailState} - {key}\");\n            }\n\n            /* 2nd way based on JSONPath\n             * api: https://www.newtonsoft.com/json/help/html/QueryJsonSelectTokenJsonPath.htm\n             * dox: https://support.smartbear.com/alertsite/docs/monitors/api/endpoint/jsonpath.html\n             * tester: https://jsonpath.curiousconcept.com/\n             */\n\n            foreach (var mailState in mailStates)\n            {\n                var key = values.SelectTokens($\"$[?(@.MailState == '{mailState}')].KeyID\")\n                    .Select(v =&gt; v.ToString())\n                    .FirstOrDefault();\n\n                Console.WriteLine($\"2nd case: {mailState} - {key}\");\n            }\n\n            Console.ReadKey();\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 6072240, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/bb5546187fe09e71e58687950da165ef?s=128&d=identicon&r=PG&f=1", "display_name": "Jazzkatt", "link": "https://stackoverflow.com/users/6072240/jazzkatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1372, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1556927607, "creation_date": 1556748729, "last_edit_date": 1556806714, "question_id": 55943346, "link": "https://stackoverflow.com/questions/55943346/how-to-iterate-through-jobject-properties-via-foreach-linq", "title": "How to iterate through JObject Properties via Foreach/LINQ", "body": "<p>I have an established JObject object. Trying to loop through it to acquire a Key/value based on anothers Key/value (example of json below with code currently stuck on)</p>\n\n<p>For a tad more detail - looking to loop through \"value\", get the \"KeyID\" based on \"MailState\"</p>\n\n<p>definitely feel like I am missing the step of filtering by MailState/ColName apparently - I have searched through threads a bunch but if someone knows of one that answered this that i was unable to find i will happily pull this down/reference it</p>\n\n<pre><code>// JSON DATA\n{\n    \"odata.metadata\": \"https://..com/odata/$metadata#JCJMCDXes\",\n    \"value\": [\n        {\n            \"KeyID\": \"10379\",\n            \"MailCity\": \"Chicago\",\n            \"MailState\": \"IL\"\n        },\n        {\n            \"KeyID\": \"9846\",\n            \"MailCity\": \"Chicago\",\n            \"MailState\": \"IL\"\n        },\n        {\n            \"KeyID\": \"2234\",\n            \"MailCity\": \"Madison\",\n            \"MailState\": \"WI\"\n        }]\n}\n\n// Current code example\n\n// class in play\npublic class datastorage\n{\n  public string ID { get; set; }\n  public string Col { get; set; }\n}\n\npublic class listData\n{\n  public string ColName {get;set;}\n}\n\n// getVPData is a string response from a call to an API\ngetVPData.Replace(System.Environment.NewLine, \"\");\n\nJObject jobj = (JObject)Newtonsoft.Json.JsonConvert.DeserializeObject(getVPData);\n\nList&lt;datastorage&gt; data = new List&lt;datastorage&gt;();\n\n// Loop\nforeach(var r in listData) // has distinct State abeviations so only 1 occurence\n{\nforeach (var j in jobj) // This the right path?\n{\n  //add KeyID into ID\n  data.add(new datastorage\n    {\n     ID = ,//add KeyID into ID\n     Col = r.ColName\n    });\n}\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 5957, "user_id": 2503659, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/24450e1cdf551a05fac63d5322db99a7?s=128&d=identicon&r=PG", "display_name": "John Tseng", "link": "https://stackoverflow.com/users/2503659/john-tseng"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1556748310, "post_id": 55943183, "comment_id": 98539720, "body": "@RufusL Because I passed in an object of type <code>B&lt;A&gt;</code> into DoSomething."}], "answers": [{"tags": [], "owner": {"reputation": 3040, "user_id": 681351, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/0o83I.jpg?s=128&g=1", "display_name": "Cubicle.Jockey", "link": "https://stackoverflow.com/users/681351/cubicle-jockey"}, "is_accepted": false, "score": 0, "last_activity_date": 1556748439, "creation_date": 1556748439, "answer_id": 55943290, "question_id": 55943183, "link": "https://stackoverflow.com/questions/55943183/type-arguments-cannot-be-inferred-from-usage-but-it-seems-obvious/55943290#55943290", "title": "Type arguments cannot be inferred from usage, but it seems obvious", "body": "<p>If you are trying to write extensions for <code>B&lt;T&gt;</code> then it would simply be:</p>\n\n<pre><code>public class A { }\npublic class B&lt;T&gt;{}\npublic static class Extensions\n{\n    public static void DoSomething&lt;T&gt;(this B&lt;T&gt; thing) {}\n}\n\npublic static void Test()\n{\n    var test = new B&lt;A&gt;();\n\n    test.DoSomething();\n}\n</code></pre>\n"}], "owner": {"reputation": 5957, "user_id": 2503659, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/24450e1cdf551a05fac63d5322db99a7?s=128&d=identicon&r=PG", "display_name": "John Tseng", "link": "https://stackoverflow.com/users/2503659/john-tseng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1556748595, "answer_count": 1, "score": -1, "last_activity_date": 1556748439, "creation_date": 1556747778, "last_edit_date": 1556748343, "question_id": 55943183, "link": "https://stackoverflow.com/questions/55943183/type-arguments-cannot-be-inferred-from-usage-but-it-seems-obvious", "closed_reason": "Duplicate", "title": "Type arguments cannot be inferred from usage, but it seems obvious", "body": "<p>Why does type inference not work in the following case when I call <code>DoSomething</code>?</p>\n\n<pre><code>    public class A { }\n    public class B&lt;T&gt; { }\n    public static class Extensions\n    {\n        public static void DoSomething&lt;TWrapper, TInner&gt;(this TWrapper thing)\n        where TWrapper : B&lt;TInner&gt;\n        {\n\n        }\n\n        public static void Test()\n        {\n            new B&lt;A&gt;().DoSomething();\n        }\n    }\n</code></pre>\n\n<p>It seems to me that in the <code>Test</code> method <code>TWrapper</code> has to be <code>B&lt;A&gt;</code>, so <code>TInner</code> has to be <code>A</code>. Why can't the compiler figure this out?</p>\n"}, {"tags": ["c#", "selenium-webdriver", "xpath"], "comments": [{"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "edited": false, "score": 0, "creation_date": 1556748008, "post_id": 55943107, "comment_id": 98539615, "body": "Can you please share the text form html of the element."}, {"owner": {"reputation": 3, "user_id": 2502923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eb61f58b13bc33c08ade66570a06b5f?s=128&d=identicon&r=PG", "display_name": "Rabbit", "link": "https://stackoverflow.com/users/2502923/rabbit"}, "reply_to_user": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "edited": false, "score": 0, "creation_date": 1556753497, "post_id": 55943107, "comment_id": 98540841, "body": "It is the main facebook page without login. <a href=\"https://www.facebook.com/\" rel=\"nofollow noreferrer\">facebook.com</a>"}, {"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "edited": false, "score": 0, "creation_date": 1556767608, "post_id": 55943107, "comment_id": 98543258, "body": "Are you getting <code>no such element</code> exception when tried with that xpath?"}, {"owner": {"reputation": 6839, "user_id": 677518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK8mM.png?s=128&g=1", "display_name": "Ardesco", "link": "https://stackoverflow.com/users/677518/ardesco"}, "edited": false, "score": 0, "creation_date": 1556784618, "post_id": 55943107, "comment_id": 98548933, "body": "It&#39;s most likely a wait problem that requires an explicit wait."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 2502923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eb61f58b13bc33c08ade66570a06b5f?s=128&d=identicon&r=PG", "display_name": "Rabbit", "link": "https://stackoverflow.com/users/2502923/rabbit"}, "edited": false, "score": 0, "creation_date": 1556803934, "post_id": 55947527, "comment_id": 98559129, "body": "GetElementById works, I already know that, just curous on how xpath work. I get it to work, thanks"}], "tags": [], "owner": {"reputation": 31, "user_id": 10991361, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vHEoaLujT8o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOcnu7vx4yk6wzP9Hsu73HcEoRpdQ/mo/photo.jpg?sz=128", "display_name": "Blay Wille", "link": "https://stackoverflow.com/users/10991361/blay-wille"}, "is_accepted": false, "score": 0, "last_activity_date": 1556781923, "creation_date": 1556781923, "answer_id": 55947527, "question_id": 55943107, "link": "https://stackoverflow.com/questions/55943107/xpath-works-in-chorome-but-not-in-selenium-web-driver/55947527#55947527", "title": "Xpath works in Chorome but not in Selenium web-driver", "body": "<p>I can give a complete solution on Python taking into account the features of React Native (used on Facebook)</p>\n\n<p>But, you have C#. Therefore, it is possible to use a similar function <strong>driver.execute_script</strong> (execution of Javascript on Selenium)</p>\n\n<p><code></p>\n\n<pre><code>driver.get(\"https://www.facebook.com/\")\ndriver.execute_script('\n      document.getElementById(\"email\").value = \"lg@hosct.com\";\n      document.getElementById(\"u_0_2\").click();\n')\n</code></pre>\n\n<p></code>    </p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 2502923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eb61f58b13bc33c08ade66570a06b5f?s=128&d=identicon&r=PG", "display_name": "Rabbit", "link": "https://stackoverflow.com/users/2502923/rabbit"}, "is_accepted": false, "score": 0, "last_activity_date": 1556804177, "creation_date": 1556804177, "answer_id": 55953706, "question_id": 55943107, "link": "https://stackoverflow.com/questions/55943107/xpath-works-in-chorome-but-not-in-selenium-web-driver/55953706#55953706", "title": "Xpath works in Chorome but not in Selenium web-driver", "body": "<p>I did another try with a more clear code:</p>\n\n<p>driver.Url = \"\";\ndriver.findElement(By.xpath(\"//*[@id='email']\"));</p>\n\n<p>It works now, the only difference between this and my code before is: I was visiting some other pages before the facebook page. This seems to make difference. Anyway, above code works. If I encounter the issue again, I will post more detail code.</p>\n"}], "owner": {"reputation": 3, "user_id": 2502923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eb61f58b13bc33c08ade66570a06b5f?s=128&d=identicon&r=PG", "display_name": "Rabbit", "link": "https://stackoverflow.com/users/2502923/rabbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1556804177, "creation_date": 1556747265, "last_edit_date": 1556754217, "question_id": 55943107, "link": "https://stackoverflow.com/questions/55943107/xpath-works-in-chorome-but-not-in-selenium-web-driver", "title": "Xpath works in Chorome but not in Selenium web-driver", "body": "<p>I am working on a website where all other locator doesn't work expect using FindElements and take the 3rd a element. So I was curious to try xpath the first time.</p>\n\n<p>I could get the xpath in chrome, but when I use in xpath, it says element not found. </p>\n\n<p>I did a lot of search, still couldn't' find out what was wrong. So I tried in facebook page and use the login field as a try, the xpath is //*[@id=\"email\"], it works perfectly in chrome, but same result in webdrive. </p>\n\n<p>C# code: driver.findElement(By.xpath(\"//*[@id='email']\"));</p>\n\n<p><a href=\"https://i.stack.imgur.com/t22SR.png\" rel=\"nofollow noreferrer\">Please click for facebook picture and its location</a>\nAny advise?</p>\n"}, {"tags": ["c#", "xaml", "listview", "xamarin.forms", "prism"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1556750768, "post_id": 55943052, "comment_id": 98540330, "body": "what is the type of <code>myData</code>?"}, {"owner": {"reputation": 192, "user_id": 7730522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zQp21.jpg?s=128&g=1", "display_name": "SilenceAmongCrows", "link": "https://stackoverflow.com/users/7730522/silenceamongcrows"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1556754211, "post_id": 55943052, "comment_id": 98540991, "body": "@Jason ObservableCollection&lt;Animal&gt; MyData = new ObservableCollection&lt;Animal&gt;(Breed.GetAllBreeds() as List&lt;Animal&gt;);"}], "answers": [{"tags": [], "owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "is_accepted": false, "score": 2, "last_activity_date": 1556754681, "creation_date": 1556754681, "answer_id": 55944052, "question_id": 55943052, "link": "https://stackoverflow.com/questions/55943052/how-to-fix-an-empty-listview-in-xamarin-forms-mobile-app-page/55944052#55944052", "title": "How to fix an empty listview in xamarin.forms mobile app page", "body": "<p>First, to bind your <code>ListView</code> to <code>myData</code>, <code>myData</code> must be a public property.</p>\n\n<pre><code>public ObservableCollection&lt;Animal&gt; myData { get; set; }\n</code></pre>\n\n<p>If each item in your list is an <code>Animal</code>, then your binding path would be <code>Text=\"{Binding Name}\"</code> because <code>Name</code> is a property of <code>Animal</code>.  There is no <code>Breed</code> property.</p>\n"}, {"tags": [], "owner": {"reputation": 3558, "user_id": 3150426, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/NiXVs.jpg?s=128&g=1", "display_name": "loan.burger", "link": "https://stackoverflow.com/users/3150426/loan-burger"}, "is_accepted": true, "score": 1, "last_activity_date": 1557101985, "last_edit_date": 1557101985, "creation_date": 1556756100, "answer_id": 55944177, "question_id": 55943052, "link": "https://stackoverflow.com/questions/55943052/how-to-fix-an-empty-listview-in-xamarin-forms-mobile-app-page/55944177#55944177", "title": "How to fix an empty listview in xamarin.forms mobile app page", "body": "<p>As Jason mentioned above</p>\n\n<p>You property:</p>\n\n<pre><code>private List&lt;Breed&gt; MyList { get; set; }\n</code></pre>\n\n<p>Should be public.  I would also recommend if your using prism to use a Property Change Event: Change your property to:</p>\n\n<pre><code>private List&lt;Breed&gt; _myList;\n    public List&lt;Breed&gt; MyList\n    {\n        get { return _myList; }\n        set { _myList = value; RaiseOnPropertyChanged(); }\n    }\n</code></pre>\n\n<p>Then Change your list XAML to:</p>\n\n<pre><code>&lt;ListView HorizontalOptions=\"FillAndExpand\" \n              VerticalOptions=\"FillAndExpand\" \n              ItemsSource=\"{Binding MyList}\"&gt;\n        &lt;ListView.ItemTemplate&gt;\n            &lt;DataTemplate&gt;\n              &lt;ViewCell&gt;\n                 &lt;StackLayout HorizontalOptions=\"CenterAndExpand\"&gt;\n                     &lt;Label Text=\"{Binding Name}\" TextColor=\"Black\"&gt; \n                     &lt;/Label&gt;                  \n                &lt;/StackLayout&gt;\n              &lt;/ViewCell&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/ListView.ItemTemplate&gt;\n    &lt;/ListView&gt;\n</code></pre>\n"}], "owner": {"reputation": 192, "user_id": 7730522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zQp21.jpg?s=128&g=1", "display_name": "SilenceAmongCrows", "link": "https://stackoverflow.com/users/7730522/silenceamongcrows"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 55944177, "answer_count": 2, "score": 1, "last_activity_date": 1557101985, "creation_date": 1556746875, "last_edit_date": 1556754296, "question_id": 55943052, "link": "https://stackoverflow.com/questions/55943052/how-to-fix-an-empty-listview-in-xamarin-forms-mobile-app-page", "title": "How to fix an empty listview in xamarin.forms mobile app page", "body": "<p>I am learning to use Xamarin.Forms with prism, I want to populate a list view with a specific item from each object in my list. My list view shows up empty, but I don't see any errors.</p>\n\n<p>I have tried using binding to bind to the Name variables in my objects, in my list. That showed up empty so I tried using Observable Collection to get my list and add each Name.</p>\n\n<p>This is the Animal object model</p>\n\n<pre><code>using System;\nnamespace LearningPrism.Models\n{\n    class Animal\n    {\n        public string Name { get; set; }\n        public int Age { get; set; }\n        public decimal Happiness { get; set; }\n\n        public void PrintBase()\n        {\n            Console.WriteLine($\"Name: {Name}\");\n            Console.WriteLine($\"Age: {Age}\");\n            Console.WriteLine($\"Happy: {Happiness}\");\n            Console.WriteLine();\n        }\n    }\n}\n</code></pre>\n\n<p>I create my list using the Breed class as the object and have 3 functions bellow which get the filtered list for the type (unfiltered for get all breeds).</p>\n\n<pre><code>namespace LearningPrism.Models\n{\n    class Breed\n    {\n\n        public static List&lt;Animal&gt; _breedList = new List&lt;Animal&gt;\n            {\n                new Animal\n                {\n                    Id = Guid.NewGuid().ToString(),\n                    Name = \"Greyhound\",\n                    Type = BreedType.Dog\n                },\n\n//There are 3 more Dog Animal breeds but I have removed them so it is easier to read\n\n                new Animal\n                {\n                    Id = Guid.NewGuid().ToString(),\n                    Name = \"Bengal\",\n                    Type = BreedType.Cat\n                }, \n\n//There are 3 more Cat Animal breeds but I have removed them so it is easier to read\n\n                }\n            };\n\n        public static List&lt;Animal&gt; GetAllBreeds()\n        {\n            return _breedList;\n        }\n\n        public static List&lt;Animal&gt; GetBreedsByType(BreedType type)\n        {\n\n            switch (type)\n            {\n                case BreedType.Dog:\n                    return (from Animal in _breedList where Animal.Type == BreedType.Dog select Animal).ToList();\n\n                case BreedType.Cat:\n                    return (from Animal in _breedList where Animal.Type == BreedType.Cat select Animal).ToList();\n\n                default:\n                    return _breedList;\n\n            }\n        }\n    }\n}\n\n</code></pre>\n\n<p>Here is my view model:</p>\n\n<pre><code>namespace LearningPrism.ViewModels\n{\n    public class PageAViewModel : ViewModelBase\n    {\n        private List&lt;Breed&gt; MyList { get; set; }\n\n        public PageAViewModel(INavigationService navigationService) : base(navigationService)\n        {\n            Title = \"Hello Human\";\n        }\n\n        private void LoadData()\n        {\n\n            ObservableCollection&lt;Animal&gt; myData = new ObservableCollection&lt;Animal&gt;(Breed.GetAllBreeds() as List&lt;Animal&gt;);\n\n        }\n\n        public override void OnNavigatingTo(INavigationParameters parameters)\n        {\n            base.OnNavigatingTo(parameters);\n\n            LoadData();\n        }\n    }\n}\n\n</code></pre>\n\n<p>Here is the XAML code for the page</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;ContentPage xmlns=\"http://xamarin.com/schemas/2014/forms\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n             xmlns:prism=\"clr-namespace:Prism.Mvvm;assembly=Prism.Forms\"\n             prism:ViewModelLocator.AutowireViewModel=\"True\"\n             x:Class=\"LearningPrism.Views.PageA\" Title=\"{Binding Title}\"&gt;\n\n    &lt;Label Text=\"{Binding Title}\" HorizontalOptions=\"CenterAndExpand\" VerticalOptions=\"CenterAndExpand\" /&gt;\n\n    &lt;StackLayout&gt;\n\n        &lt;ListView HorizontalOptions=\"FillAndExpand\" \n                  VerticalOptions=\"FillAndExpand\" \n                  ItemsSource=\"{Binding myData}\"&gt;\n\n            &lt;ListView.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;StackLayout HorizontalOptions=\"CenterAndExpand\"&gt;\n                        &lt;Label Text=\"{Binding Breed.Name}\" TextColor=\"Black\"&gt;&lt;/Label&gt;\n                    &lt;/StackLayout&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ListView.ItemTemplate&gt;\n\n        &lt;/ListView&gt;\n\n    &lt;/StackLayout&gt;\n\n&lt;/ContentPage&gt;\n</code></pre>\n"}, {"tags": ["c#", "sql", "asp.net", "sql-server", "entity-framework"], "comments": [{"owner": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "edited": false, "score": 1, "creation_date": 1556746772, "post_id": 55942984, "comment_id": 98539295, "body": "How frequent are your inserts? You&#39;d want to make sure you got ACID stuff right, but one thing you could consider is just having a table that contains rows for each bill type and the latest sequence number -- when you do an insert, just use that sequence number and increment it for the specific bill type."}, {"owner": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1556746776, "post_id": 55942984, "comment_id": 98539298, "body": "Create a table to hold the bills and sequence, so for each request get the last sequence of that bill increment and store back"}, {"owner": {"reputation": 917, "user_id": 10290408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e1feed163c02636f1eea4c5d67bbc7?s=128&d=identicon&r=PG&f=1", "display_name": "Selthien", "link": "https://stackoverflow.com/users/10290408/selthien"}, "reply_to_user": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "edited": false, "score": 0, "creation_date": 1556746924, "post_id": 55942984, "comment_id": 98539331, "body": "Thank you for the suggestion. I have thought about this and I would prefer to avoid incrementing the value myself. If two requests are made at the same time, it throws in the possibility of duplicates. Id prefer the database increment the sequence itself. @Slothario"}, {"owner": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "edited": false, "score": 1, "creation_date": 1556747776, "post_id": 55942984, "comment_id": 98539551, "body": "What if you wrote a stored procedure that would do the inserts for you? You could create a sequence for every possible order type, and you wouldn&#39;t have to maintain any kind of counts yourself."}, {"owner": {"reputation": 917, "user_id": 10290408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e1feed163c02636f1eea4c5d67bbc7?s=128&d=identicon&r=PG&f=1", "display_name": "Selthien", "link": "https://stackoverflow.com/users/10290408/selthien"}, "reply_to_user": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "edited": false, "score": 0, "creation_date": 1556748174, "post_id": 55942984, "comment_id": 98539684, "body": "@Slothario Wouldn&#39;t that mean the server still needs to maintain the count? Even with a store procedure, can&#39;t you run into the same problem? If two requests are made at the same time, the stored procedure grabs current count and increments it? Excuse me if that sounds like a stupid question, I have 0 familiarity with how stored procedures work."}, {"owner": {"reputation": 2685, "user_id": 5732537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a429e4952893bd0879ed0217e1f39ad?s=128&d=identicon&r=PG&f=1", "display_name": "EdStevens", "link": "https://stackoverflow.com/users/5732537/edstevens"}, "edited": false, "score": 1, "creation_date": 1556748912, "post_id": 55942984, "comment_id": 98539879, "body": "If you are trying to achieve &#39;gapless&#39; numbers for each BOM code, (or gapless numbers for any use at all) you are on a fool&#39;s errand.  An autoincrement column is just a method that automatically ties a column to a sequence. And oracle has <i>never</i> guaranteed gapless sequences.  If you try to write your own method of creating a sequence, you will run into the same inherent multi-user issues that prevent oracle from guaranteeing gapless sequences."}], "answers": [{"comments": [{"owner": {"reputation": 917, "user_id": 10290408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e1feed163c02636f1eea4c5d67bbc7?s=128&d=identicon&r=PG&f=1", "display_name": "Selthien", "link": "https://stackoverflow.com/users/10290408/selthien"}, "edited": false, "score": 0, "creation_date": 1556752057, "post_id": 55943723, "comment_id": 98540597, "body": "I apologize I made a mistake. We are using Microsoft SQL server databases."}, {"owner": {"reputation": 917, "user_id": 10290408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e1feed163c02636f1eea4c5d67bbc7?s=128&d=identicon&r=PG&f=1", "display_name": "Selthien", "link": "https://stackoverflow.com/users/10290408/selthien"}, "edited": false, "score": 0, "creation_date": 1556752510, "post_id": 55943723, "comment_id": 98540680, "body": "Nevermind, I just found out SQL Server started support on sequences in 2012."}], "tags": [], "owner": {"reputation": 6009, "user_id": 4687355, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ObdEUI7mMYo/AAAAAAAAAAI/AAAAAAAAAgc/fwxal6_6cBA/photo.jpg?sz=128", "display_name": "Sentinel", "link": "https://stackoverflow.com/users/4687355/sentinel"}, "is_accepted": true, "score": 1, "last_activity_date": 1556751424, "creation_date": 1556751424, "answer_id": 55943723, "question_id": 55942984, "link": "https://stackoverflow.com/questions/55942984/make-sequence-column-increment-based-on-conditions/55943723#55943723", "title": "Make Sequence Column Increment Based On Conditions?", "body": "<p>You've indicated that you are using Oracle.  Oracle has a database level objects known as sequences made for this sort of thing.  They are very performant.  You would want to make one sequence for each of your identifiers. You only need to do this once for each identifier.</p>\n\n<pre><code>CREATE SEQUENCE UNPN;  -- Starts a 1 by default\nCREATE SEQUENCE UDEN START WITH 50;\nCREATE SEQUENCE UXXN MAXVALUE 9999 CYCLE; -- This one will recycle back to 0001 after it hits 9999\n</code></pre>\n\n<p>Next when ever you need a new value for a given sequence you can just select it:</p>\n\n<pre><code>SELECT 'UNPN'||TO_CHAR(UNPN.NEXTVAL,'FM0000') FROM DUAL;\n</code></pre>\n\n<p>To make it easier/more dynamic you can define a function to get the new value by name:</p>\n\n<pre><code>create or replace function get_named_seq(p_sequence varchar2) return varchar2\nis\n  l_sql VARCHAR2(4000);\n  l_Result varchar2(30);\nbegin\n  select 'select '''||sequence_name||'''||to_char('||sequence_name||'.nextval,''FM0000'') from dual'\n    into l_sql\n    from user_sequences\n   where sequence_name = upper(p_sequence);\n\n  execute immediate l_sql\n     into l_Result;\n   return l_result;\nend;\n/\n</code></pre>\n\n<p>The above function will throw a NO_DATA_FOUND exception if the requested sequence doesn't exist, and even though it's using dynamic SQL it should be safe from SQL Injection since the actual dynamic SQL statement never directly touches the input parameter.  you would use it like this or any where you can use a function:</p>\n\n<pre><code>INSERT into MyTable (ID, Data) values (get_named_seq('UXXN'), 'some data');\n</code></pre>\n"}], "owner": {"reputation": 917, "user_id": 10290408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e1feed163c02636f1eea4c5d67bbc7?s=128&d=identicon&r=PG&f=1", "display_name": "Selthien", "link": "https://stackoverflow.com/users/10290408/selthien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 55943723, "answer_count": 1, "score": 0, "last_activity_date": 1556752317, "creation_date": 1556746418, "last_edit_date": 1556752317, "question_id": 55942984, "link": "https://stackoverflow.com/questions/55942984/make-sequence-column-increment-based-on-conditions", "title": "Make Sequence Column Increment Based On Conditions?", "body": "<p><strong>Background Information</strong></p>\n\n<p>So here is the background to this question. Currently we have multiple bill of material number identifiers( UNPN,UDEN,UXXN,etc.) Each with its own sequence number (UNPN0001,UNPN0002,UNPN0003,etc.)</p>\n\n<p>When a user requests a new bill of material number, lets say a new UNPN number. If the last number was UNPN0003 then the user should be able to reserve UNPN0004.</p>\n\n<p><strong>My Initial Thought:</strong></p>\n\n<p>So initially I figured, I could simply create a sequence column in a table. So if we had a UNPN table, we could easily add a new record and sequence it automatically and return the combination of UNPN + Generated Sequence number.</p>\n\n<p><strong>The Problem:</strong></p>\n\n<p>So the problem I identified is that for this method, we currently have 50+ different bill of material identifiers. So this would mean I would have to create 1 table for each identifier with its own auto sequence column.</p>\n\n<p><strong>What I am looking for:</strong></p>\n\n<p>I would prefer to avoid creating 50+ different tables. I am not sure if there is a different schema I could use for my database or if I should abandon this method all together for something else. I don't believe you can have multiple sequence columns in a table that only sequence based on what is input, of course I don't have a full understanding of what all is possible</p>\n\n<p>Any suggestions would be appreciated.</p>\n\n<p>Thank you,</p>\n"}, {"tags": ["c#", "stream"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556746428, "post_id": 55942941, "comment_id": 98539201, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file.appendtext\" rel=\"nofollow noreferrer\">File.AppendText()</a>. It returns a <code>StreamWriter</code>. You can then use the <code>WriteLine</code> method to add new lines to the existing ones."}, {"owner": {"reputation": 577, "user_id": 7072936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ybgoi.jpg?s=128&g=1", "display_name": "Troy Mac1ure", "link": "https://stackoverflow.com/users/7072936/troy-mac1ure"}, "edited": false, "score": 0, "creation_date": 1556747996, "post_id": 55942941, "comment_id": 98539611, "body": "Are you just saving Brands or Models as well? If both, you may want to look at saving it as an XML file (look at XmlDocument)."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 11028168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357a852c51a687f237b752d53bf44d2b?s=128&d=identicon&r=PG&f=1", "display_name": "F.David", "link": "https://stackoverflow.com/users/11028168/f-david"}, "edited": false, "score": 0, "creation_date": 1556750757, "post_id": 55943187, "comment_id": 98540327, "body": "I tried your answer and it didn&#39;t work, it displays only Toyota and Nissan in the list box, not other strings that already existed on the file."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 17, "user_id": 11028168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357a852c51a687f237b752d53bf44d2b?s=128&d=identicon&r=PG&f=1", "display_name": "F.David", "link": "https://stackoverflow.com/users/11028168/f-david"}, "edited": false, "score": 0, "creation_date": 1556752022, "post_id": 55943187, "comment_id": 98540588, "body": "Well, you&#39;re not adding any other strings to the listbox, you&#39;re only adding the items that we&#39;re writing to the file. Do you want to display the file in the listbox, then?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 17, "user_id": 11028168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357a852c51a687f237b752d53bf44d2b?s=128&d=identicon&r=PG&f=1", "display_name": "F.David", "link": "https://stackoverflow.com/users/11028168/f-david"}, "edited": false, "score": 0, "creation_date": 1556752258, "post_id": 55943187, "comment_id": 98540627, "body": "If you want to write the contents of the file to a listbox, follow the last sample in the answer above (and remove the line that adds an item when writing to the file)."}, {"owner": {"reputation": 17, "user_id": 11028168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357a852c51a687f237b752d53bf44d2b?s=128&d=identicon&r=PG&f=1", "display_name": "F.David", "link": "https://stackoverflow.com/users/11028168/f-david"}, "edited": false, "score": 0, "creation_date": 1556752278, "post_id": 55943187, "comment_id": 98540629, "body": "yes, I want to display the whole thing in the list box"}, {"owner": {"reputation": 17, "user_id": 11028168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357a852c51a687f237b752d53bf44d2b?s=128&d=identicon&r=PG&f=1", "display_name": "F.David", "link": "https://stackoverflow.com/users/11028168/f-david"}, "edited": false, "score": 0, "creation_date": 1556753404, "post_id": 55943187, "comment_id": 98540823, "body": "I actually figure it out and the list box displays everything I used StreamReader. Thank you so much"}], "tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 1, "last_activity_date": 1556752371, "last_edit_date": 1556752371, "creation_date": 1556747796, "answer_id": 55943187, "question_id": 55942941, "link": "https://stackoverflow.com/questions/55942941/how-to-to-write-to-a-text-file-using-list-box/55943187#55943187", "title": "How to to write to a text file using list box", "body": "<p>There are several ways to do this, the easiest of which might be to just pass <code>true</code> as a second parameter to your <code>StreamWriter</code> constructor, which instructs it to append text:</p>\n\n<pre><code>string[] models = { \"Toyota\", \"Nissan\" };\n\nusing (StreamWriter writer = new StreamWriter(\"CarsList.txt\", true))\n{\n    foreach (string s in models)\n    {\n        writer.WriteLine(s);\n    }\n}\n</code></pre>\n\n<p>You can then easily get the entire file contents into a string using <code>File.ReadAllText</code>:</p>\n\n<pre><code>string fileContents = File.ReadAllText(\"CarsList.txt\");\n</code></pre>\n\n<p>Or if you want to read in each line as a separate item, you can use <code>File.ReadAllLines</code> (note that this is <strong>not</strong> inside the <code>using</code> block above - this should be after that part has completed and the new items are added to the file):</p>\n\n<pre><code>foreach (var item in File.ReadAllLines(fileName))\n{\n    listBox1.Items.Add(item);\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 11028168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357a852c51a687f237b752d53bf44d2b?s=128&d=identicon&r=PG&f=1", "display_name": "F.David", "link": "https://stackoverflow.com/users/11028168/f-david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 55943187, "answer_count": 1, "score": 0, "last_activity_date": 1556752371, "creation_date": 1556746143, "last_edit_date": 1556747589, "question_id": 55942941, "link": "https://stackoverflow.com/questions/55942941/how-to-to-write-to-a-text-file-using-list-box", "title": "How to to write to a text file using list box", "body": "<p>I have a text file \"cars.txt\" that is saved in a bin\\debug and I would like to add more care models to it using C# and display the whole content of the file with new added lines. How do I do that?</p>\n\n<pre><code>string[] models = new string[] { \"Toyota\", \"Nissan\" };\n\nusing (StreamWriter writer = new StreamWriter(\"CarsList.txt\"))\n{\n    foreach (string s in models)\n    {\n        writer.WriteLine(s);\n        listBoxCars.Items.Add(s);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "rest", "api"], "comments": [{"owner": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "edited": false, "score": 0, "creation_date": 1556746023, "post_id": 55942872, "comment_id": 98539056, "body": "A web service is just a platform that will run the lines of code you&#39;ve already written on a regular basis. You could do it by deploying it to regularly-running Azure Functions, or a webjob, or there are other methods that people employ. If you work somewhere, ask a more senior dev how you&#39;d deploy the code you&#39;ve written."}, {"owner": {"reputation": 4769, "user_id": 688357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3626fc691f53efdb3245996a0509c8?s=128&d=identicon&r=PG&f=1", "display_name": "William Xifaras", "link": "https://stackoverflow.com/users/688357/william-xifaras"}, "edited": false, "score": 0, "creation_date": 1556746031, "post_id": 55942872, "comment_id": 98539058, "body": "Are you planning to deploy this to Azure?"}, {"owner": {"reputation": 177, "user_id": 5763765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3tzXL.jpg?s=128&g=1", "display_name": "M. Ruiz", "link": "https://stackoverflow.com/users/5763765/m-ruiz"}, "edited": false, "score": 1, "creation_date": 1556753576, "post_id": 55942872, "comment_id": 98540868, "body": "The OP never mentions Azure. You can definitely use a dotnet core console application to consume both REST APIs and save the file where you need it. That console app can then be executed every night via Task Scheduler. Pretty simple actually, you&#39;re on the right track."}], "owner": {"reputation": 351, "user_id": 4056398, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/1006402712/picture?type=large", "display_name": "Hazim", "link": "https://stackoverflow.com/users/4056398/hazim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556745771, "creation_date": 1556745771, "question_id": 55942872, "link": "https://stackoverflow.com/questions/55942872/structure-of-web-service-to-integrate-two-rest-apis", "title": "Structure of web service to integrate two REST APIs", "body": "<p>I am writing a program that will be used to pull data from two separate SaaS softwares via their REST APIs - concatenate them, and save the output as raw JSON. When this is complete - the program will be scheduled to run every night.</p>\n\n<p>The overall concept isn't really complicated, it follows a very simple process:</p>\n\n<ol>\n<li>Pull data from <strong>Software A</strong> via REST</li>\n<li>Pull data from <strong>Software B</strong> via REST</li>\n<li>Concatenate them</li>\n<li>Save output as raw JSON</li>\n</ol>\n\n<p>I started off by trying to develop this as a .NET Core Console Application. Mostly straightforward - just using appropriate libraries to send/receive HTTP requests to both software APIs, pulling data, and using IO library to save to JSON file.</p>\n\n<p>However - I've been told that this actually needs to be a web service, not a console application. I have basic experience and knowledge regarding web services, but I need some help understanding how to lay out the entire solution from a high-level.</p>\n\n<p>I think I'm getting confused at understanding how exactly web services work and how my original solution would fit into a web service? And how would my final solution be \"deployed\" and scheduled to run? </p>\n\n<p>How would I structure the 4 step process above if I were to convert my console application to a web service?</p>\n"}, {"tags": ["c#", "asp.net", "json", "deserialization"], "comments": [{"owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 0, "creation_date": 1556745333, "post_id": 55942769, "comment_id": 98538796, "body": "well what does the rawJSON look like? edit: nevermind, looks like you can view the json at the link you provided"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1556745416, "post_id": 55942769, "comment_id": 98538826, "body": "Please add the JSON to the question."}, {"owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 0, "creation_date": 1556745463, "post_id": 55942769, "comment_id": 98538843, "body": "your JSON structure does not match the properties of the class you are trying to deserialize it into"}, {"owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 0, "creation_date": 1556745598, "post_id": 55942769, "comment_id": 98538893, "body": "For example, your JSON has a list of objects. Each object in that list has a property called &quot;broj_tecajnice&quot;, however this property is not in the Currency class, therefore it cannot be deserialized."}, {"owner": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1556745601, "post_id": 55942769, "comment_id": 98538897, "body": "Use      JsonConvert.DeserializeObject&lt;List&lt;Currency&gt;&gt;(rawJSON);"}, {"owner": {"reputation": 121, "user_id": 6110686, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/541dcb643b9fd42f69fff2108a456d15?s=128&d=identicon&r=PG&f=1", "display_name": "Nadan Marenkovi\u0107", "link": "https://stackoverflow.com/users/6110686/nadan-marenkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1556745621, "post_id": 55942769, "comment_id": 98538911, "body": "should i change properties to strings just to see does it work?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1556745629, "post_id": 55942769, "comment_id": 98538914, "body": "Don&#39;t <i>link</i> us the JSON.  <b>Paste the JSON into the question</b>.  Your question should contain everything needed to answer it.  Going off-site should not be necessary."}, {"owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 0, "creation_date": 1556745760, "post_id": 55942769, "comment_id": 98538961, "body": "As the others have noted, if you want to use the container object, you will need an extra pair of {} around the JSON with the list as a property contained in that object, or you need to deserialize it as a list."}], "answers": [{"tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": true, "score": 2, "last_activity_date": 1556745639, "creation_date": 1556745639, "answer_id": 55942847, "question_id": 55942769, "link": "https://stackoverflow.com/questions/55942769/deserialization-of-web-api/55942847#55942847", "title": "Deserialization of web api", "body": "<p>The web-service response body starts with this text:</p>\n\n<pre><code>[{\"broj_tecajnice\":\"85\",\"datum_primjene\":\"2019-05-...\n</code></pre>\n\n<p>Note how it starts with <code>[</code> which means it's returning a JSON array directly as its root object and that it is not returning an object with a member named <code>Results</code> (i.e. it is not returning <code>{ Results: [ {\"broj_tecajnice\"... }, { ... } ] }</code>.</p>\n\n<p>Change your code to this:</p>\n\n<pre><code>List&lt;Currency&gt; list = JsonConvert.DeserializeObject&lt;List&lt;Currency&gt;&gt;( rawJSON );\nCurrencyTable currencyTable = new CurrencyTable()\n{\n    Results = list\n};\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 6110686, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/541dcb643b9fd42f69fff2108a456d15?s=128&d=identicon&r=PG&f=1", "display_name": "Nadan Marenkovi\u0107", "link": "https://stackoverflow.com/users/6110686/nadan-marenkovi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 55942847, "answer_count": 1, "score": -1, "last_activity_date": 1556745639, "creation_date": 1556745165, "question_id": 55942769, "link": "https://stackoverflow.com/questions/55942769/deserialization-of-web-api", "title": "Deserialization of web api", "body": "<p>Im trying to parse JSON into ListView, but its giving me deserialization error.\nThis is my model - it's same as api's keys:</p>\n\n<pre><code>public class Currency\n{\n    public string Drzava { get; set; }\n    public int Sifra_valute { get; set; }\n    public string Drzava_iso { get; set; }\n    public int Jedinica { get; set; }\n    public double Kupovni_tecaj { get; set; }\n    public double Srednji_tecaj { get; set; }\n    public double Prodajni_tecaj { get; set; }\n}\n</code></pre>\n\n<p>This is my list of Currencies:</p>\n\n<pre><code>public class CurrencyTable\n{\n    public List&lt;Currency&gt; Results { get; set; }\n}\n</code></pre>\n\n<p>Class for binding with Listview: </p>\n\n<pre><code>public class ShowCurrency\n{\n    static ShowCurrency() {\n        using (var webClient = new WebClient())\n        {\n\n            String rawJSON = \n     webClient.DownloadString(\"http://api.hnb.hr/tecajn/v2/\");\n            CurrencyTable currencyTable = \n     JsonConvert.DeserializeObject&lt;CurrencyTable&gt;(rawJSON);\n\n        }\n    }\n    private static List&lt;Currency&gt; currencies;\n    public static List&lt;Currency&gt; Currencies { get; set; }\n    public static List&lt;Currency&gt; GetCurrencies() {\n        return Currencies;\n    }\n   }\n</code></pre>\n\n<p>And i get error at: CurrencyTable currencyTable = \n         JsonConvert.DeserializeObject(rawJSON);</p>\n\n<p>this is how api looks like:\n<a href=\"http://api.hnb.hr/tecajn/v2\" rel=\"nofollow noreferrer\">http://api.hnb.hr/tecajn/v2</a></p>\n"}, {"tags": ["c#", "mongodb", "winforms", "listbox", "datasource"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1556745151, "post_id": 55942728, "comment_id": 98538729, "body": "If you set the DataSource then do not try to add items one by one."}, {"owner": {"reputation": 1, "user_id": 11438831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cda6ef25ae59e354ee5f635a5b6f0cdf?s=128&d=identicon&r=PG&f=1", "display_name": "leslores", "link": "https://stackoverflow.com/users/11438831/leslores"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1556746210, "post_id": 55942728, "comment_id": 98539122, "body": "I tried using only DataSource without foreach and using foreach without DataSource and nothing changed."}], "owner": {"reputation": 1, "user_id": 11438831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cda6ef25ae59e354ee5f635a5b6f0cdf?s=128&d=identicon&r=PG&f=1", "display_name": "leslores", "link": "https://stackoverflow.com/users/11438831/leslores"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556744908, "creation_date": 1556744908, "question_id": 55942728, "link": "https://stackoverflow.com/questions/55942728/drag-data-from-data-base-to-a-listbox", "title": "Drag data from data base to a listbox", "body": "<p>I want some data to be displayed in a listbox when the form is loaded. But after it is loaded nothing changes. </p>\n\n<p>I added DataSource and used foreach to get the items.</p>\n\n<pre><code> public partial class MainForm : Form\n{\n    public CDiary diary;\n    public MainForm()\n    {\n        InitializeComponent();\n        diary = new CDiary(\"mongodb://localhost:27017\");\n    }\n\n    private void MainForm_Load(object sender, EventArgs e)\n    {\n        listOfEvents.DataSource = diary.Events;\n        foreach(CEvent ev in diary.Events){\n            listOfEvents.Items.Add(ev.Date);\n        }\n   }\n}\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "reporting-services", "rendering", "landscape", "export-to-pdf"], "comments": [{"owner": {"reputation": 4320, "user_id": 5436880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DoxpB.png?s=128&g=1", "display_name": "AnkUser", "link": "https://stackoverflow.com/users/5436880/ankuser"}, "edited": false, "score": 0, "creation_date": 1556782923, "post_id": 55942682, "comment_id": 98548122, "body": "Could you try making setting changes on Report in visual studio (I mean on report directly, rather than setting through c#). Try to export report as PDF on SSRS and  with C# as well. If this works then you can replicate those properties in your c# code."}, {"owner": {"reputation": 2298, "user_id": 6709604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0e089029eb5143d6a404f975e275d6?s=128&d=identicon&r=PG&f=1", "display_name": "SS_DBA", "link": "https://stackoverflow.com/users/6709604/ss-dba"}, "edited": false, "score": 0, "creation_date": 1556804688, "post_id": 55942682, "comment_id": 98559598, "body": "Ok. Stupid question time... Does the SSRS report itself have the page setting to landscape?"}], "owner": {"reputation": 71, "user_id": 4114715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132d83bbe6ed9b4835d25d76fd035bb6?s=128&d=identicon&r=PG&f=1", "display_name": "SherryA", "link": "https://stackoverflow.com/users/4114715/sherrya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556751521, "creation_date": 1556744577, "last_edit_date": 1556751521, "question_id": 55942682, "link": "https://stackoverflow.com/questions/55942682/rendering-ssrs-report-to-landscape-format-pdf-in-c", "title": "Rendering SSRS Report to landscape-format PDF in C#", "body": "<p>I'm rendering an SSRS report to PDF in my C# code successfully.  However, I need it the PDF to be in landscape format and I've been unable to get that to work.</p>\n\n<p>I've tried setting the pagewidth and PageHeight accordingly in the DeviceInfo, but that doesn't seem to make a difference.  I've also mucked with pageSettings to no avail.</p>\n\n<pre><code>\n    Uri oUri = new Uri(GlobalClass.gReportServerURL);\n\n    //Run report\n    rpt.ServerReport.ReportPath = \"/\" + sReportName;\n\n    rpt.ServerReport.ReportServerUrl = oUri;\n    paramList.Add(new Microsoft.Reporting.WinForms.ReportParameter (\"ClientID\", sClientID));\n\n    rpt.ServerReport.SetParameters(paramList);\n\n    deviceInfo = $@\"&lt;DeviceInfo&gt;\n                                &lt;OutputFormat&gt;PDF&lt;/OutputFormat&gt;\n                                &lt;PageWidth&gt;11in&lt;/PageWidth&gt;\n                                &lt;PageHeight&gt;8.5in&lt;/PageHeight&gt;\n                                &lt;MarginTop&gt;.25in&lt;/MarginTop&gt;\n                                &lt;MarginLeft&gt;.25in&lt;/MarginLeft&gt;\n                                &lt;MarginRight&gt;.25in&lt;/MarginRight&gt;\n                                &lt;MarginBottom&gt;.25in&lt;/MarginBottom&gt;\n                            &lt;/DeviceInfo&gt;\";\n\n    ms = (MemoryStream)rpt.ServerReport.Render(\"PDF\", deviceInfo, null, out  mimeType, out fileNameExtension);\n\n    //Write it to disk\n    bytes = ms.ToArray();\n    fs = new System.IO.FileStream(sFile, System.IO.FileMode.Create);\n    fs.Write(bytes, 0, bytes.Length);\n    fs.Close();\n    addPDFToList(sFile);\n    lstKillFiles.Add(sFile);\n    return sFile;\n</code></pre>\n\n<p>I expect the PDF file to be in landscape orientation, but it is not.</p>\n"}, {"tags": ["c#", "unit-testing", "interface"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 3, "creation_date": 1556744310, "post_id": 55942632, "comment_id": 98538441, "body": "<b>Thought experiment:</b>  Classes are free to implement <i>more than one interface, or no interfaces at all.</i>  If my class implements no interfaces, does that make the class unusable?"}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1556744364, "post_id": 55942632, "comment_id": 98538462, "body": "<code>Could you make it public (so it can be called from the test project) but not add it to the interface (because no clients need to call it)?</code> -- <b>Yes.</b>"}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556744610, "post_id": 55942632, "comment_id": 98538542, "body": "Tons of classes implement <code>IDisposable</code>. If the only public method they had was <code>Dispose</code> they wouldn&#39;t be very useful."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 3, "creation_date": 1556745064, "post_id": 55942632, "comment_id": 98538700, "body": "I usually make private methods I want to test internal, not public"}, {"owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 0, "creation_date": 1556745104, "post_id": 55942632, "comment_id": 98538712, "body": "Hand in hand with what Robert is saying is the I in SOLID for interface segregation: <a href=\"https://codeburst.io/understanding-solid-principles-interface-segregation-principle-b2d57026cf6c\" rel=\"nofollow noreferrer\">codeburst.io/&hellip;</a>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1556750527, "post_id": 55942632, "comment_id": 98540277, "body": "Testing methods that a normal program can never call is a pretty slippery slope.  That doesn&#39;t have much to do with testing, everything to do with &quot;where is the bug&quot; diagnostics.  You use a debugger for that, it doesn&#39;t mind you setting a breakpoint on a private or internal method.  The unit test is an excellent way to trigger that breakpoint, be sure you&#39;re comfortable about using a debugger in a unit test."}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1556809961, "post_id": 55942632, "comment_id": 98562663, "body": "Unit tests should not target private methods as private methods are implementation details and therefor should be free to be refactored even without any public change to your class. You should test private members only via the public members that use them."}], "answers": [{"tags": [], "owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "is_accepted": false, "score": 2, "last_activity_date": 1556745061, "creation_date": 1556745061, "answer_id": 55942753, "question_id": 55942632, "link": "https://stackoverflow.com/questions/55942632/should-all-public-methods-be-declared-in-the-interface/55942753#55942753", "title": "Should all public methods be declared in the interface?", "body": "<p>Generally when a class implements an interface all members of an interface must be implemented, it does not go the other way around.</p>\n\n<p>Also when implementing an interface member, the corresponding member of the implementing class must be public, non-static, and have the same name and parameter signature as the interface member. You can have methods, even public, in the class that are not defined in the interface.</p>\n\n<p>On top of that, the interface itself provides no functionality that a class or struct can inherit in the way that it can inherit base class functionality. However, if a base class implements an interface, any class that's derived from the base class inherits that implementation.</p>\n"}, {"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": true, "score": 2, "last_activity_date": 1556746236, "last_edit_date": 1556746236, "creation_date": 1556745906, "answer_id": 55942892, "question_id": 55942632, "link": "https://stackoverflow.com/questions/55942632/should-all-public-methods-be-declared-in-the-interface/55942892#55942892", "title": "Should all public methods be declared in the interface?", "body": "<p>If what a class does is simple enough that we can test its public methods and private methods at the same time, then we can just test the public methods.</p>\n\n<p>If the private method grows so complex that between the public and private method we need too many combinations of tests then it's time to separate the private method into its own class. Making the private method public would break the encapsulation of the class. Even if we don't add the method to an <code>interface</code>, making the class method public still adds the method to the public interface <em>of the class itself</em>.</p>\n\n<p>So if we have this:</p>\n\n<pre><code>public class ClassWithComplexPrivateMethod\n{\n\n    public void DoSomething(int value)\n    {\n        PrivateMethodThatNeedsItsOwnTests(value);\n    }\n\n    private string PrivateMethodThatNeedsItsOwnTests(int value)\n    {\n        // This method has gotten really complicated!\n        return value.ToString();\n    }\n}\n</code></pre>\n\n<p>We might refactor to something like this:</p>\n\n<pre><code>public interface IRepresentsWhatThePrivateMethodDid\n{\n    string MethodThatNeedsItsOwnTests(int value);\n} \n\npublic class RefactoredClass\n{\n    private readonly IRepresentsWhatThePrivateMethodDid _dependency;\n\n    public RefactoredClass(IRepresentsWhatThePrivateMethodDid dependency)\n    {\n        _dependency = dependency;\n    }\n\n    public string DoSomething(int value)\n    {\n        return _dependency.MethodThatNeedsItsOwnTests(value);\n    }\n}\n</code></pre>\n\n<p>And now a new class implements <code>IRepresentsWhatThePrivateMethodDid</code>.</p>\n\n<p>Now when we test the refactored class we mock <code>IRepresentsWhatThePrivateMethodDid</code>, and we write separate unit tests for any classes that implement <code>IRepresentsWhatThePrivateMethodDid</code>.</p>\n\n<p>It may seem like a contradiction to say that exposing the private method as public breaks encapsulation, but exposing it as its own separate class doesn't. There are two differences:</p>\n\n<ul>\n<li>The refactored class doesn't depend on the new class containing what used to be the private method. It depends on the new interface.</li>\n<li>The interaction between the refactored class and the interface is still hidden within its methods. Other classes that call its public methods don't \"know\" about how it uses its dependency. (In fact, other classes will likely depend on abstractions instead of directly on the refactored class.)</li>\n</ul>\n\n<hr>\n\n<p>It's also easy to get carried away with this and introduce the separate dependency too soon, when we could have tested the class - including its private methods - through the public methods. I've done this lots of times, and it can result in lots and lots of unnecessary interfaces and extra classes. There's no perfection, just our best efforts to balance it.</p>\n\n<hr>\n\n<p>One more thought: We tend to use interfaces to represent dependencies, but we don't have to. If what we're extracting was just a single private method, then perhaps we can represent it with a delegate or a <code>Func</code> instead, like this:</p>\n\n<pre><code>public class RefactoredClass\n{\n    private readonly Func&lt;int, string&gt; _dependency;\n\n    public RefactoredClass(Func&lt;int, string&gt; dependency)\n    {\n        _dependency = dependency;\n    }\n\n    public string DoSomething(int value)\n    {\n        return _dependency(value);\n    }\n}\n</code></pre>\n\n<p>Or we can use a delegate, which I like better than <code>Func</code> because it indicates what the function does.</p>\n"}, {"tags": [], "owner": {"reputation": 8507, "user_id": 303298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ss7YE.jpg?s=128&g=1", "display_name": "vladimir", "link": "https://stackoverflow.com/users/303298/vladimir"}, "is_accepted": false, "score": 0, "last_activity_date": 1556749351, "last_edit_date": 1556749351, "creation_date": 1556746479, "answer_id": 55942991, "question_id": 55942632, "link": "https://stackoverflow.com/questions/55942632/should-all-public-methods-be-declared-in-the-interface/55942991#55942991", "title": "Should all public methods be declared in the interface?", "body": "<p>Interface should represent just the required API without regard to unit-testing and smth else.</p>\n\n<hr>\n\n<p>To test <em>public</em>-methods of class you should do <em>nothing</em> because Test-project has access to them. You just need to instantiate a class and inject all required dependency using Mock.</p>\n\n<p><a href=\"https://github.com/dotnet/samples/blob/master/core/getting-started/unit-testing-using-nunit/PrimeService.Tests/PrimeService_IsPrimeShould.cs\" rel=\"nofollow noreferrer\">Example: testing class without any dependencies</a></p>\n\n<p><a href=\"https://code.msdn.microsoft.com/windowsdesktop/How-to-Use-Mock-Library-f7af332b\" rel=\"nofollow noreferrer\">Example: testing class with dependency</a></p>\n\n<hr>\n\n<p>To test private methods of a class need to make them visible to test-project:  </p>\n\n<ul>\n<li>mark <em>private</em> methods as <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/internal\" rel=\"nofollow noreferrer\">internal</a>  </li>\n<li>make internal-method visible to test-project: add to <em>AssemblyInfo.cs</em> the directive <em>[assembly: InternalsVisibleTo(\"Project.Tests\")]</em> (see <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.runtime.compilerservices.internalsvisibletoattribute?view=netframework-4.8\" rel=\"nofollow noreferrer\">InternalsVisibleToAttribute</a>)</li>\n</ul>\n"}], "owner": {"reputation": 660, "user_id": 3056525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca5b6203fc7b814d6c2559be8354a0d?s=128&d=identicon&r=PG", "display_name": "TomDane", "link": "https://stackoverflow.com/users/3056525/tomdane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "accepted_answer_id": 55942892, "answer_count": 3, "score": 1, "last_activity_date": 1556749351, "creation_date": 1556744239, "question_id": 55942632, "link": "https://stackoverflow.com/questions/55942632/should-all-public-methods-be-declared-in-the-interface", "title": "Should all public methods be declared in the interface?", "body": "<p>Given an interface like: </p>\n\n<pre><code>public interface IFoo\n{\n    string Bar();\n}\n</code></pre>\n\n<p>And a class that implements it like: </p>\n\n<pre><code>public class Foo : IFoo\n{\n    public string Bar()\n    {\n        returns \"Bar\";\n    }\n\n    public string SomeOtherMethod()\n    {\n        returns \"Something else\";\n    }\n}\n</code></pre>\n\n<p>Is there a problem with this code? Should we add all members to the interface? </p>\n\n<p>One example: imagine a private method that grows complex enough to warrant unit tests. Could you make it public (so it can be called from the test project) but not add it to the interface (because no clients need to call it)? </p>\n"}, {"tags": ["c#", "json", "asp.net-core"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1556744374, "post_id": 55942630, "comment_id": 98538468, "body": "I think this will help?  <a href=\"https://stackoverflow.com/questions/9727836/json-net-getter-property-not-serialized\" title=\"json net getter property not serialized\">stackoverflow.com/questions/9727836/&hellip;</a>"}, {"owner": {"reputation": 5824, "user_id": 182048, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6bfdee9dac8d1567968695aed733c055?s=128&d=identicon&r=PG", "display_name": "conciliator", "link": "https://stackoverflow.com/users/182048/conciliator"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1556746594, "post_id": 55942630, "comment_id": 98539254, "body": "Thank you for your comment @Amy, although I&#39;m not exactly sure I understand what you mean. Decorating the properties with <code>[JsonPropertyAttribute(DefaultValueHandling = DefaultValueHandling.Include)]</code> does not seem to do the trick, at least."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1556748020, "post_id": 55942630, "comment_id": 98539621, "body": "Okay, that&#39;s what I had in mind, but I wasn&#39;t sure if that was the issue."}, {"owner": {"reputation": 8496, "user_id": 1009661, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/776dff440138550ac0e34a1712a60e2a?s=128&d=identicon&r=PG", "display_name": "tukaef", "link": "https://stackoverflow.com/users/1009661/tukaef"}, "edited": false, "score": 0, "creation_date": 1556750828, "post_id": 55942630, "comment_id": 98540344, "body": "I think <code>PaginatedList</code> is just handled by serializer as an ordinary <code>List</code>, resulting in a json-array. Note that, in the docs, it wasn&#39;t supposed to be serialized into json. As a solution, I&#39;d prefer just decorating a list rather than deriving from it. So it would be json object with a couple of fields for paging and the array itself."}], "answers": [{"comments": [{"owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "edited": false, "score": 0, "creation_date": 1556768638, "post_id": 55945307, "comment_id": 98543441, "body": "Could simplify the last portion to <code>Items = items.ToList()</code>, assuming you needed a copy."}, {"owner": {"reputation": 5824, "user_id": 182048, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6bfdee9dac8d1567968695aed733c055?s=128&d=identicon&r=PG", "display_name": "conciliator", "link": "https://stackoverflow.com/users/182048/conciliator"}, "edited": false, "score": 0, "creation_date": 1556774987, "post_id": 55945307, "comment_id": 98544901, "body": "Awesome, that does it! A little digging reveals that this behaviour in fact is by design: <a href=\"https://stackoverflow.com/a/11368028/182048\">stackoverflow.com/a/11368028/182048</a>."}], "tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": true, "score": 2, "last_activity_date": 1556767875, "creation_date": 1556767875, "answer_id": 55945307, "question_id": 55942630, "link": "https://stackoverflow.com/questions/55942630/how-to-serialize-enclosing-object-properties-in-asp-net-core/55945307#55945307", "title": "How to serialize enclosing object properties in ASP.NET Core?", "body": "<p>The reason is that it inherits the <code>List&lt;T&gt;</code> which constrains the result to a list.Modify your code to below</p>\n\n<pre><code>public class PaginatedList&lt;T&gt; //: List&lt;T&gt;\n{\n    public int PageIndex { get; private set; }\n    public int TotalPages { get; private set; }\n\n    public List&lt;T&gt; Items { get; set; }\n\n    public PaginatedList(List&lt;T&gt; items, int count, int pageIndex, int pageSize)\n    {\n        PageIndex = pageIndex;\n        TotalPages = (int)Math.Ceiling(count / (double)pageSize);\n\n        this.Items = new List&lt;T&gt;();\n        this.Items.AddRange(items);\n    }\n    //...\n }\n</code></pre>\n"}], "owner": {"reputation": 5824, "user_id": 182048, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6bfdee9dac8d1567968695aed733c055?s=128&d=identicon&r=PG", "display_name": "conciliator", "link": "https://stackoverflow.com/users/182048/conciliator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 55945307, "answer_count": 1, "score": 0, "last_activity_date": 1556767875, "creation_date": 1556744213, "question_id": 55942630, "link": "https://stackoverflow.com/questions/55942630/how-to-serialize-enclosing-object-properties-in-asp-net-core", "title": "How to serialize enclosing object properties in ASP.NET Core?", "body": "<p>I am following the official <a href=\"https://docs.microsoft.com/en-us/aspnet/core/data/ef-mvc/sort-filter-page?view=aspnetcore-2.2#add-paging-to-students-index\" rel=\"nofollow noreferrer\">ASP.NET Core 2.2 paging example</a> over at Microsoft.</p>\n\n<p>Here, I'm adding a <code>PaginatedList.cs</code></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing Microsoft.EntityFrameworkCore;\n\nnamespace BlatantlyCopiedCode\n{\n    public class PaginatedList&lt;T&gt; : List&lt;T&gt;\n    {\n        public int PageIndex { get; private set; }\n        public int TotalPages { get; private set; }\n\n        public PaginatedList(List&lt;T&gt; items, int count, int pageIndex, int pageSize)\n        {\n            PageIndex = pageIndex;\n            TotalPages = (int)Math.Ceiling(count / (double)pageSize);\n\n            this.AddRange(items);\n        }\n\n        public bool HasPreviousPage\n        {\n            get\n            {\n                return (PageIndex &gt; 1);\n            }\n        }\n\n        public bool HasNextPage\n        {\n            get\n            {\n                return (PageIndex &lt; TotalPages);\n            }\n        }\n\n        public static async Task&lt;PaginatedList&lt;T&gt;&gt; CreateAsync(IQueryable&lt;T&gt; source, int pageIndex, int pageSize)\n        {\n            var count = await source.CountAsync();\n            var items = await source.Skip((pageIndex - 1) * pageSize).Take(pageSize).ToListAsync();\n            return new PaginatedList&lt;T&gt;(items, count, pageIndex, pageSize);\n        }\n    }\n}\n</code></pre>\n\n<p>and adding this to my EF object <code>Merge</code></p>\n\n<pre><code>[HttpGet(\"[action]\")]\npublic async Task&lt;PaginatedList&lt;Merge&gt;&gt; Index(int? pageNumber)\n{\n    var merges = context.Merges;\n\n    int pageSize = 20;\n    return await PaginatedList&lt;Merge&gt;.CreateAsync(merges.AsNoTracking(), pageNumber ?? 1, pageSize);\n}\n</code></pre>\n\n<p>When the result is serialized to JSON in the controller, the properties from <code>PaginatedList&lt;T&gt;</code> aren't serialized, only the <code>List&lt;Merge&gt;</code>. How can I force the properties from <code>PaginatedList&lt;T&gt;</code> to appear in the resulting JSON?</p>\n"}, {"tags": ["c#", "json.net"], "comments": [{"owner": {"reputation": 844, "user_id": 3394380, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0b5c00710c3e7e88a2065166d372fec1?s=128&d=identicon&r=PG&f=1", "display_name": "yW0K5o", "link": "https://stackoverflow.com/users/3394380/yw0k5o"}, "edited": false, "score": 1, "creation_date": 1556744590, "post_id": 55942564, "comment_id": 98538534, "body": "Why do you have so many slashes in your string? I ran your code with this string <code>var result = &quot;{\\&quot;error\\&quot;:{\\&quot;detail\\&quot;:\\&quot;java.lang.NullPointerException\\&quot;,\\&zwnj;&#8203;&quot;message\\&quot;:\\&quot;Error occured while setting field &#39;caller_id&#39; with value null\\&quot;},\\&quot;status\\&quot;:\\&quot;failure\\&quot;}&quot;;</code> successfully."}, {"owner": {"reputation": 671, "user_id": 1687555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41JQu.jpg?s=128&g=1", "display_name": "hector-j-rivas", "link": "https://stackoverflow.com/users/1687555/hector-j-rivas"}, "reply_to_user": {"reputation": 844, "user_id": 3394380, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0b5c00710c3e7e88a2065166d372fec1?s=128&d=identicon&r=PG&f=1", "display_name": "yW0K5o", "link": "https://stackoverflow.com/users/3394380/yw0k5o"}, "edited": false, "score": 0, "creation_date": 1556828359, "post_id": 55942564, "comment_id": 98570966, "body": "That&#39;s what comes back from the request, I&#39;m guessing C# escapes a bit more."}], "answers": [{"tags": [], "owner": {"reputation": 720, "user_id": 4315620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0570136208c59ebad86b99dc4e19c02f?s=128&d=identicon&r=PG&f=1", "display_name": "Serhat Oz", "link": "https://stackoverflow.com/users/4315620/serhat-oz"}, "is_accepted": false, "score": 1, "last_activity_date": 1556745237, "creation_date": 1556745237, "answer_id": 55942781, "question_id": 55942564, "link": "https://stackoverflow.com/questions/55942564/unable-to-parse-well-formed-json/55942781#55942781", "title": "Unable to parse well formed JSON", "body": "<p>When I console write your json string which is:</p>\n\n<pre><code>var result = \"\\\"{\\\\\\\"error\\\\\\\":{\\\\\\\"detail\\\\\\\":\\\\\\\"java.lang.NullPointerException\\\\\\\",\\\\\\\"message\\\\\\\":\\\\\\\"Error occured while setting field 'caller_id' with value null\\\\\\\"},\\\\\\\"status\\\\\\\":\\\\\\\"failure\\\\\\\"}\\\"\";\n</code></pre>\n\n<p>it returns:</p>\n\n<pre><code>\"{\\\"error\\\":{\\\"detail\\\":\\\"java.lang.NullPointerException\\\",\\\"message\\\":\\\"Error occured while setting field 'caller_id' with value null\\\"},\\\"status\\\":\\\"failure\\\"}\"\n</code></pre>\n\n<p>Which is not a correct json string. Your json string has to be like below:</p>\n\n<pre><code>var result = \"{\\\"error\\\":{\\\"detail\\\":\\\"java.lang.NullPointerException\\\",\\\"message\\\":\\\"Error occured while setting field 'caller_id' with value null\\\"},\\\"status\\\":\\\"failure\\\"}\"\n</code></pre>\n\n<p>So that when you console write this statement you will see that it generates below string which is a correct formed json:</p>\n\n<pre><code>{\"error\":{\"detail\":\"java.lang.NullPointerException\",\"message\":\"Error occured while setting field 'caller_id' with value null\"},\"status\":\"failure\"}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 671, "user_id": 1687555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41JQu.jpg?s=128&g=1", "display_name": "hector-j-rivas", "link": "https://stackoverflow.com/users/1687555/hector-j-rivas"}, "edited": false, "score": 0, "creation_date": 1556828520, "post_id": 55942824, "comment_id": 98571030, "body": "I wouldn&#39;t have guessed it in a million years, thanks!"}], "tags": [], "owner": {"reputation": 55869, "user_id": 48503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/672f798341250dd228b286738e8d6309?s=128&d=identicon&r=PG", "display_name": "Luke Woodward", "link": "https://stackoverflow.com/users/48503/luke-woodward"}, "is_accepted": true, "score": 1, "last_activity_date": 1556745522, "creation_date": 1556745522, "answer_id": 55942824, "question_id": 55942564, "link": "https://stackoverflow.com/questions/55942564/unable-to-parse-well-formed-json/55942824#55942824", "title": "Unable to parse well formed JSON", "body": "<p>The string you provide is well-formed JSON.  It's what you get if you serialize some data to a JSON string <em>and then serialize that string to a JSON string</em>.  To get the data out of the original JSON string, you therefore have to parse it twice.</p>\n\n<p>The following works for me:</p>\n\n<pre><code>        var jToken = JToken.Parse(result);\n        var jObject = JObject.Parse((string)((JValue)jToken).Value);\n\n        Console.WriteLine(jObject[\"error\"][\"message\"]);\n</code></pre>\n"}], "owner": {"reputation": 671, "user_id": 1687555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/41JQu.jpg?s=128&g=1", "display_name": "hector-j-rivas", "link": "https://stackoverflow.com/users/1687555/hector-j-rivas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 830, "favorite_count": 0, "accepted_answer_id": 55942824, "answer_count": 2, "score": 0, "last_activity_date": 1556745522, "creation_date": 1556743851, "question_id": 55942564, "link": "https://stackoverflow.com/questions/55942564/unable-to-parse-well-formed-json", "title": "Unable to parse well formed JSON", "body": "<p>I issue a request to an API, and I'm able to parse the <strong>success</strong> response result <code>(response.Content.ReadAsStringAsync().Result)</code>, but when I get a <strong>failure</strong> response (\"bad request\"), the seemingly well-formed JSON result cannot be parsed by <code>JObject.Parse()</code> or <code>JToken.Parse()</code>, they throw.</p>\n\n<pre><code>using System;\nusing Newtonsoft.Json.Linq;\n\npublic class Program\n{\n    public static void Main()\n    {\n        var result = \"\\\"{\\\\\\\"error\\\\\\\":{\\\\\\\"detail\\\\\\\":\\\\\\\"java.lang.NullPointerException\\\\\\\",\\\\\\\"message\\\\\\\":\\\\\\\"Error occured while setting field 'caller_id' with value null\\\\\\\"},\\\\\\\"status\\\\\\\":\\\\\\\"failure\\\\\\\"}\\\"\";\n\n        var jObject = JObject.Parse(result);\n\n        Console.WriteLine(jObject[\"error\"][\"message\"]);\n    }\n}\n</code></pre>\n\n<p>The exception:</p>\n\n<blockquote>\n  <p>Run-time exception (line 10): Error reading JObject from JsonReader.\n  Current JsonReader item is not an object: String. Path '', line 1,\n  position 162.</p>\n</blockquote>\n\n<p>Stack Trace:</p>\n\n<blockquote>\n  <p>[Newtonsoft.Json.JsonReaderException: Error reading JObject from\n  JsonReader. Current JsonReader item is not an object: String. Path '',\n  line 1, position 162.]    at\n  Newtonsoft.Json.Linq.JObject.Load(JsonReader reader, JsonLoadSettings\n  settings)    at Newtonsoft.Json.Linq.JObject.Parse(String json,\n  JsonLoadSettings settings)    at\n  Newtonsoft.Json.Linq.JObject.Parse(String json)    at Program.Main()\n  :line 10</p>\n</blockquote>\n\n<p>The exception points to the very end of the string, but I can't figure out what's missing. <a href=\"https://jsonblob.com\" rel=\"nofollow noreferrer\">https://jsonblob.com</a> can parse it after I remove the backslashes, I got rid of the apostrophe's, I \"cleaned it up\" with string and regex replace, I turned into a char array and build it again, all to no avail.</p>\n\n<p>Help appreciated!</p>\n"}, {"tags": ["c#", "class", "generics", "generic-list"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1556746717, "post_id": 55942562, "comment_id": 98539280, "body": "You should not be inheriting from <code>List</code> at all.  As it is anyone using your collection can just add/edit/update any items and now it&#39;s out of sync with your dictionary.  Favor composition over inheritance, and simply have a private list. (or, since you want a queue, a <code>Queue</code>).  It&#39;s very rarely appropriate to inherit from any collection type."}, {"owner": {"reputation": 53, "user_id": 8182678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc8511ac95990b36d44b896e884c5cad?s=128&d=identicon&r=PG&f=1", "display_name": "Martynas Antipenkovas", "link": "https://stackoverflow.com/users/8182678/martynas-antipenkovas"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1556776418, "post_id": 55942562, "comment_id": 98545377, "body": "@Servy the default methods, such as add/edit/update are disabled by throwing exceptions when they are called. I can upload entire class definition"}, {"owner": {"reputation": 41619, "user_id": 468973, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2cc51aa712c1621083ded100a2c1ef4b?s=128&d=identicon&r=PG", "display_name": "Magnus", "link": "https://stackoverflow.com/users/468973/magnus"}, "edited": false, "score": 0, "creation_date": 1556777104, "post_id": 55942562, "comment_id": 98545621, "body": "But why expose those methods at all if you can avoid it?"}, {"owner": {"reputation": 53, "user_id": 8182678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc8511ac95990b36d44b896e884c5cad?s=128&d=identicon&r=PG&f=1", "display_name": "Martynas Antipenkovas", "link": "https://stackoverflow.com/users/8182678/martynas-antipenkovas"}, "reply_to_user": {"reputation": 41619, "user_id": 468973, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2cc51aa712c1621083ded100a2c1ef4b?s=128&d=identicon&r=PG", "display_name": "Magnus", "link": "https://stackoverflow.com/users/468973/magnus"}, "edited": false, "score": 0, "creation_date": 1556778067, "post_id": 55942562, "comment_id": 98545978, "body": "@Magnus , fair point, however this seems like a more interesting approach + it is a bit more efficient way to do it"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1556780834, "post_id": 55942562, "comment_id": 98547098, "body": "Your defence against Add() is paper thin:  <code>IList&lt;X&gt; param = someListQueueSet;</code>"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1556803435, "post_id": 55942562, "comment_id": 98558817, "body": "@MartynasAntipenkovas The existing methods such as Add, the indexer, remove, etc. <i>are not virtual</i>, and as such you cannot change their behavior at all."}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 8182678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc8511ac95990b36d44b896e884c5cad?s=128&d=identicon&r=PG&f=1", "display_name": "Martynas Antipenkovas", "link": "https://stackoverflow.com/users/8182678/martynas-antipenkovas"}, "is_accepted": true, "score": 0, "last_activity_date": 1556777003, "creation_date": 1556777003, "answer_id": 55946461, "question_id": 55942562, "link": "https://stackoverflow.com/questions/55942562/defining-custom-collection-class-based-on-list-how-to-access-elements-that-are/55946461#55946461", "title": "Defining custom collection class based on list. How to access elements that are stored in the instance?", "body": "<pre><code>int index = base.IndexOf(entries[uniqueID]);\nthis[index] = item;\nentries[uniqueID] = item;\n</code></pre>\n\n<p>apparently, <code>this[index]</code> allows you to access inside of the list you declare</p>\n"}, {"tags": [], "owner": {"reputation": 41619, "user_id": 468973, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2cc51aa712c1621083ded100a2c1ef4b?s=128&d=identicon&r=PG", "display_name": "Magnus", "link": "https://stackoverflow.com/users/468973/magnus"}, "is_accepted": false, "score": 0, "last_activity_date": 1556790811, "last_edit_date": 1556790811, "creation_date": 1556779097, "answer_id": 55946891, "question_id": 55942562, "link": "https://stackoverflow.com/questions/55942562/defining-custom-collection-class-based-on-list-how-to-access-elements-that-are/55946891#55946891", "title": "Defining custom collection class based on list. How to access elements that are stored in the instance?", "body": "<p>As mentioned in the comments you should not inherit from List and expose all those functions that you dont need. For anyone using your data structure that will just be confusing. Also using an <code>OrderedDictionary</code> would make your code more simple as it can be accessed both by key and index.</p>\n\n<pre><code>public class MyQueue&lt;T&gt;\n{ \n    private OrderedDictionary items = new OrderedDictionary();\n\n    public void Enqueue(T item, string uniqueID)\n    {\n        if(items.Contains(uniqueID))\n            items[uniqueID] = item;\n        else\n            items.Add(uniqueID, item);\n    }\n\n    public T Dequeue()\n    {\n        var item = items[0];\n        items.RemoveAt(0);\n        return (T)item;\n    }\n\n    public T Peek()\n    {\n        return (T)items[0];\n    }\n}\n</code></pre>\n\n<p>Also your effort to prevent usage of the List functions can easily be circumvented by casting to a base type.</p>\n\n<pre><code>var queue = new ListQueueSet&lt;int&gt;();\n((List&lt;int&gt;)queue).Add(1); //This will add 1 to the collection\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8182678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc8511ac95990b36d44b896e884c5cad?s=128&d=identicon&r=PG&f=1", "display_name": "Martynas Antipenkovas", "link": "https://stackoverflow.com/users/8182678/martynas-antipenkovas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 55946461, "answer_count": 2, "score": 0, "last_activity_date": 1556790811, "creation_date": 1556743847, "last_edit_date": 1556776493, "question_id": 55942562, "link": "https://stackoverflow.com/questions/55942562/defining-custom-collection-class-based-on-list-how-to-access-elements-that-are", "title": "Defining custom collection class based on list. How to access elements that are stored in the instance?", "body": "<p>Creating custom data collection class that inherits methods from List. This new type holds items in a queue, has private dictionary that holds all the items and corresponding IDs that when new item is add checks if there already is item with same ID in the queue and replaces it. Wondering is there way to access that element (which has same ID) and overwrite it.</p>\n\n<p>I already implemented a way that when there are two items with same ID, code finds index of the item in queue, deletes it, inserts new item and updates the dictionary. It works perfectly, but I am wondering if there is a way make this action more efficient and thought that overwriting is easier than deleting and inserting.</p>\n\n<pre><code>public void Enqueue(T item, string uniqueID)\n    {\n        if (entries.ContainsKey(uniqueID))\n        {\n            int index = base.IndexOf(entries[uniqueID]);\n            base.Remove(entries[uniqueID]);\n            base.Insert(index, item);\n            entries[uniqueID] = item;\n        }\n        else\n        {\n            base.Add(item);\n            entries.Add(uniqueID, item);\n        }\n    }\n</code></pre>\n\n<p><code>entries</code> is the dictionary that holds string and T</p>\n\n<p>This entire class definition</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing System;\nusing System.Linq;\n/// &lt;summary&gt;\n/// Queue based on class that has only one entry with unique ID\n/// &lt;/summary&gt;\n/// /// /// &lt;remarks&gt;\n/// When adding value with same ID old value is overwriten but place in the queue is maintained\n/// &lt;/remarks&gt;\n/// &lt;typeparam name=\"T\"&gt;&lt;/typeparam&gt;\n\npublic class ListQueueSet&lt;T&gt;:List&lt;T&gt;\n{\n    new public void Add(T item) { throw new NotSupportedException(); }\n    new public void AddRange(IEnumerable&lt;T&gt; collection) { throw new NotSupportedException(); }\n    new public void Insert(int index, T item) { throw new NotSupportedException(); }\n    new public void InsertRange(int index, IEnumerable&lt;T&gt; collection) { throw new NotSupportedException(); }\n    new public void Reverse() { throw new NotSupportedException(); }\n    new public void Reverse(int index, int count) { throw new NotSupportedException(); }\n    new public void Sort() { throw new NotSupportedException(); }\n    new public void Sort(Comparison&lt;T&gt; comparison) { throw new NotSupportedException(); }\n    new public void Sort(IComparer&lt;T&gt; comparer) { throw new NotSupportedException(); }\n    new public void Sort(int index, int count, IComparer&lt;T&gt; comparer) { throw new NotSupportedException(); }\n    new public void Remove(T item) { throw new NotSupportedException(); }\n\n    private Dictionary&lt;string, T&gt; entries;\n\n    public ListQueueSet()\n    {\n        entries = new Dictionary&lt;string, T&gt;();\n    }\n\n    public void Enqueue(T item, string uniqueID)\n    {\n        if (entries.ContainsKey(uniqueID))\n        {\n            int index = base.IndexOf(entries[uniqueID]);\n            base.Remove(entries[uniqueID]);\n            base.Insert(index, item);\n            entries[uniqueID] = item;\n        }\n        else\n        {\n            base.Add(item);\n            entries.Add(uniqueID, item);\n        }\n    }\n\n    public T Dequeue()\n    {\n        var t = base[0];\n        base.RemoveAt(0);\n\n        entries.Remove(entries.FirstOrDefault(x =&gt; x.Value.Equals(t)).Key);\n        return t;\n    }\n\n    public T Peek()\n    {\n        return base[0];\n    }\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 5397, "user_id": 2193020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aa10d01a3d48851073bd61877a56b5a7?s=128&d=identicon&r=PG", "display_name": "hnefatl", "link": "https://stackoverflow.com/users/2193020/hnefatl"}, "edited": false, "score": 0, "creation_date": 1556743839, "post_id": 55942543, "comment_id": 98538293, "body": "You should read up on <b>arrays</b>, and after that, the <code>List</code> class."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1556743949, "post_id": 55942543, "comment_id": 98538327, "body": "Why <code>if (i + 1 == 3)</code> and not just <code>if (i == 2)</code>? Did you mean <code>if (i &lt; 3)</code> instead?"}, {"owner": {"reputation": 325, "user_id": 9110041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SdYP1.jpg?s=128&g=1", "display_name": "Nikola G.", "link": "https://stackoverflow.com/users/9110041/nikola-g"}, "edited": false, "score": 0, "creation_date": 1556744037, "post_id": 55942543, "comment_id": 98538359, "body": "You should use i+1 = 3. You cant use == for int, because it is not a bool."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1556744105, "post_id": 55942543, "comment_id": 98538379, "body": "It appears there&#39;s no need for your <code>for</code> loop to go from <code>0</code> to <code>9</code> when you only care about values <code>0</code> to <code>2</code>."}, {"owner": {"reputation": 68, "user_id": 7522831, "user_type": "registered", "profile_image": "https://graph.facebook.com/1839803706276848/picture?type=large", "display_name": "Andrej Ch", "link": "https://stackoverflow.com/users/7522831/andrej-ch"}, "edited": false, "score": 0, "creation_date": 1556745271, "post_id": 55942543, "comment_id": 98538775, "body": "The &quot;i+1==3&quot; was for the sake of simplicity, I&#39;m using entirely different statements in my real code. Thank you for the answers though."}], "answers": [{"tags": [], "owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "is_accepted": true, "score": 1, "last_activity_date": 1556744036, "creation_date": 1556744036, "answer_id": 55942599, "question_id": 55942543, "link": "https://stackoverflow.com/questions/55942543/using-i-from-for-loop-as-part-of-variable/55942599#55942599", "title": "Using i from &quot;for loop&quot; as part of variable", "body": "<p>You found the right syntax to use the data structure with this line:</p>\n\n<pre><code>int yPos = place[i];\n</code></pre>\n\n<p>It's just not the right data structure yet.  What you're looking for is an array.  Something like this:</p>\n\n<pre><code>int[] place = new int[] { 3, 0, -3 };\n</code></pre>\n\n<p>Another step forward would likely be to use a <code>List&lt;&gt;</code>, which can be a bit more forgiving and more flexible than a standard array:</p>\n\n<pre><code>List&lt;int&gt; place = new List&lt;int&gt; { 3, 0, -3 };\n</code></pre>\n\n<p>In either case I'd also recommend renaming <code>place</code> to <code>places</code>, just for the semantics of plurality.</p>\n\n<p>Overall, whether we're talking about a <code>List&lt;&gt;</code>, a <code>Dictionary&lt;&gt;</code>, or any other kind of collection, in general any time you find yourself wanting to number a series of variables what you're <em>probably</em> looking for is a collection.</p>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1556744043, "creation_date": 1556744043, "answer_id": 55942601, "question_id": 55942543, "link": "https://stackoverflow.com/questions/55942543/using-i-from-for-loop-as-part-of-variable/55942601#55942601", "title": "Using i from &quot;for loop&quot; as part of variable", "body": "<p>It may be easier to store your values in an array or a list, which can then be accessed by index:</p>\n\n<pre><code>int[] places = {3, 0, -3};\n\nfor (int i = 0; i &lt; places.Length; i++)\n{\n    int yPos = places[i];\n    gameObject.transform.position = new Vector3(xPos, yPos, 1);\n}\n</code></pre>\n"}], "owner": {"reputation": 68, "user_id": 7522831, "user_type": "registered", "profile_image": "https://graph.facebook.com/1839803706276848/picture?type=large", "display_name": "Andrej Ch", "link": "https://stackoverflow.com/users/7522831/andrej-ch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 55942599, "answer_count": 2, "score": -1, "last_activity_date": 1556744043, "creation_date": 1556743731, "question_id": 55942543, "link": "https://stackoverflow.com/questions/55942543/using-i-from-for-loop-as-part-of-variable", "title": "Using i from &quot;for loop&quot; as part of variable", "body": "<p>I'm trying to use the \"i\" value as part of already declared variable, and then use the int value of that variable. </p>\n\n<p>I found how to format output to a string, but that doesn't help me, since I need the int value of variable \"place(i)\".</p>\n\n<p>I made simplified version of my code:</p>\n\n<pre><code>    int place0 = 3;\n    int place1 = 0;\n    int place2 = -3;\n\n    for (int i = 0; i &lt; 10; i++)\n    {\n        if (i+1 == 3)\n            {\n            int yPos = place[i];        //?\n            int yPos = place + i;       //?\n            int yPos = string.Format(\"place{0}\", i);    //?\n\n            gameObject.transform.position = new Vector3(xPos, yPos, 1);\n            }\n    }\n</code></pre>\n\n<p>In this case variable \"yPos\" should be set to value of \"place2\", which is -3. But I'm struggling to pass the variable value instead of variable name. </p>\n\n<p>I know there must be a simple solution to this, but it's over my head. I'm also having trouble defining this problem, and therefore finding and answer.</p>\n"}, {"tags": ["c#", "winforms"], "answers": [{"tags": [], "owner": {"reputation": 394, "user_id": 5046887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXgxf.jpg?s=128&g=1", "display_name": "Changemyminds", "link": "https://stackoverflow.com/users/5046887/changemyminds"}, "is_accepted": true, "score": 1, "last_activity_date": 1556789108, "last_edit_date": 1556789108, "creation_date": 1556788687, "answer_id": 55949243, "question_id": 55942439, "link": "https://stackoverflow.com/questions/55942439/generic-method-for-updating-the-cross-wire-call-error/55949243#55949243", "title": "Generic method for updating the cross-wire call error", "body": "<p>Because your code have bugs. Hint at below.</p>\n\n<pre><code>public class ListOfUpdateMethods\n{\n    public delegate void Metodo();\n    private List&lt;Metodo&gt; MetodosPreAtualizacao;\n    private List&lt;Metodo&gt; MetodosAtualizacao;\n\n    public ListOfUpdateMethods()\n    {\n        this.MetodosPreAtualizacao = new List&lt;Metodo&gt;();\n        this.MetodosAtualizacao = new List&lt;Metodo&gt;();\n    }\n\n    public void AddMetodosPreAtualizacao(Metodo m)\n    {\n        this.MetodosPreAtualizacao.Add(m);\n    }\n\n    public void AddMetodosAtualizacao(Metodo m)\n    {\n       // change this code.\n       // this.MetodosPreAtualizacao.Add(m);\n       this.MetodosAtualizacao.Add(m);\n    }\n\n    public void ExecutaMetodosPreAtualizacao()\n    {\n        foreach (var m in this.MetodosPreAtualizacao)\n            m();\n    }\n\n    public void ExecutaMetodosAtualizacao()\n    {\n        foreach (var m in this.MetodosAtualizacao)\n            m();\n    }\n}\n</code></pre>\n\n<p>I suggest you can change your UpdadeControl method to below.</p>\n\n<pre><code>private void UpdadeControl(ListOfUpdateMethods list, Control control)\n{\n    // this method can't added the UI operate. \n    // If you added the UI operate delegate. It will throw the exception.\n    list.ExecutaMetodosPreAtualizacao();\n\n    if (control.InvokeRequired)\n    {\n        // you can use Action delegate. Action delegate is so good.\n        var action = new Action&lt;ListOfUpdateMethods, Control&gt;(UpdadeControl);\n        control.Invoke(action, new object[] { list, control });\n    }\n    else\n    {\n        //Execute methods needed to update control\n        list.ExecutaMetodosAtualizacao();\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 251, "user_id": 8445277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84af190a2a962b42f39f46329be962f7?s=128&d=identicon&r=PG&f=1", "display_name": "Thiago Soares Mota", "link": "https://stackoverflow.com/users/8445277/thiago-soares-mota"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 55949243, "answer_count": 1, "score": -1, "last_activity_date": 1556789108, "creation_date": 1556743078, "last_edit_date": 1556743720, "question_id": 55942439, "link": "https://stackoverflow.com/questions/55942439/generic-method-for-updating-the-cross-wire-call-error", "title": "Generic method for updating the cross-wire call error", "body": "<p>I have a form where you need to make multiple updates using the method of <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/winforms/controls/how-to-make-thread-safe-calls-to-windows-forms-controls\" rel=\"nofollow noreferrer\">thread-safe calls to Windows Forms controls</a></p>\n\n<p>Excerpts of code that do this are repeated several times. Trying to refactor I created a sort of general method for updating.</p>\n\n<p>I have a class to register the methods that will be used within the general metdo:</p>\n\n<pre><code>public class ListOfUpdateMethods\n{\n    public delegate void Metodo();\n    private List&lt;Metodo&gt; MetodosPreAtualizacao;\n    private List&lt;Metodo&gt; MetodosAtualizacao;\n\n    public ListOfUpdateMethods()\n    {\n        this.MetodosPreAtualizacao = new List&lt;Metodo&gt;();\n        this.MetodosAtualizacao = new List&lt;Metodo&gt;();\n    }\n\n    public void AddMetodosPreAtualizacao(Metodo m)\n    {\n        this.MetodosPreAtualizacao.Add(m);\n    }\n\n    public void AddMetodosAtualizacao(Metodo m)\n    {\n        this.MetodosPreAtualizacao.Add(m);\n    }\n\n    public void ExecutaMetodosPreAtualizacao()\n    {\n        foreach (var m in this.MetodosPreAtualizacao)\n            m();\n    }\n\n    public void ExecutaMetodosAtualizacao()\n    {\n        foreach (var m in this.MetodosAtualizacao)\n            m();\n    }\n}\n</code></pre>\n\n<p>The method:</p>\n\n<pre><code>//General method for updating all Controls as needed \n\n    private void UpdadeControl(ListOfUpdateMethods list, Control control)\n    {\n        //Execute required methods before updating the control\n        list.ExecutaMetodosPreAtualizacao();\n\n        if (control.InvokeRequired)\n        {\n            var up = new Updates(UpdadeControl);\n            Invoke(up, new object[] { list, control });\n        }\n        else\n        {\n            //Execute methods needed to update control\n            list.ExecutaMetodosAtualizacao();\n\n        }\n    }\n</code></pre>\n\n<p>When I want to update some control, what I do is:</p>\n\n<pre><code>ListOfUpdateMethods VariavelDeInstancia = new ListOfUpdateMethods();\nUpdateStopXRayTimer.AddMetodosAtualizacao(MetodoComInstrucoesQUeAtualizaOControle);\nUpdadeControl(VariavelDeInstancia, ControleASerAtualizado);\n</code></pre>\n\n<p>However, when the MetodoComInstrucoesQUeAtualizaOControle is called, an access exception occurs for theadins crossed. That is, the method does not run on the main treading.</p>\n\n<p>An example of what you would have within this method would be:</p>\n\n<pre><code>void MetodoComInstrucoesQUeAtualizaOControle()\n{\n   ControleASerAtualizado = \"Text\";\n}\n</code></pre>\n\n<p>Does anyone have any tips on how to solve the described problem?</p>\n"}, {"tags": ["c#", "json", "recursion", "json.net"], "comments": [{"owner": {"reputation": 47115, "user_id": 235354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/097d761861529df52a6800744f1074d2?s=128&d=identicon&r=PG", "display_name": "jspcal", "link": "https://stackoverflow.com/users/235354/jspcal"}, "edited": false, "score": 0, "creation_date": 1556743532, "post_id": 55942438, "comment_id": 98538202, "body": "Hi, perhaps continue recursing until you&#39;ve extracted all the nested type values?"}, {"owner": {"reputation": 604, "user_id": 3554735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z1oYS.jpg?s=128&g=1", "display_name": "Faraz", "link": "https://stackoverflow.com/users/3554735/faraz"}, "edited": false, "score": 0, "creation_date": 1556743654, "post_id": 55942438, "comment_id": 98538230, "body": "it should be helping you <a href=\"https://stackoverflow.com/questions/43941032/generic-method-to-convert-a-flat-json-array-to-nested-json\">Generic method to convert a flat JSON array to nested JSON</a>"}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "reply_to_user": {"reputation": 604, "user_id": 3554735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z1oYS.jpg?s=128&g=1", "display_name": "Faraz", "link": "https://stackoverflow.com/users/3554735/faraz"}, "edited": false, "score": 1, "creation_date": 1556743677, "post_id": 55942438, "comment_id": 98538235, "body": "@Faraz: That question is the opposite of this one."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1556743817, "post_id": 55942438, "comment_id": 98538281, "body": "@Pichi: What you posted isn&#39;t valid JSON."}], "answers": [{"comments": [{"owner": {"reputation": 636, "user_id": 4831846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1a73347bbae8d28e075e354fae243f?s=128&d=identicon&r=PG&f=1", "display_name": "Pichi Wuana", "link": "https://stackoverflow.com/users/4831846/pichi-wuana"}, "edited": false, "score": 0, "creation_date": 1556744804, "post_id": 55942612, "comment_id": 98538607, "body": "It feels like too much <code>class</code>es... I feel it needs to be more an utils function maybe and not creating classes to change a JSON..."}, {"owner": {"reputation": 1, "user_id": 2212907, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gzYRt.jpg?s=128&g=1", "display_name": "Liquid Core", "link": "https://stackoverflow.com/users/2212907/liquid-core"}, "reply_to_user": {"reputation": 636, "user_id": 4831846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1a73347bbae8d28e075e354fae243f?s=128&d=identicon&r=PG&f=1", "display_name": "Pichi Wuana", "link": "https://stackoverflow.com/users/4831846/pichi-wuana"}, "edited": false, "score": 0, "creation_date": 1556744837, "post_id": 55942612, "comment_id": 98538622, "body": "@PichiWuana No solution for lazyness"}, {"owner": {"reputation": 636, "user_id": 4831846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1a73347bbae8d28e075e354fae243f?s=128&d=identicon&r=PG&f=1", "display_name": "Pichi Wuana", "link": "https://stackoverflow.com/users/4831846/pichi-wuana"}, "edited": false, "score": 0, "creation_date": 1556745028, "post_id": 55942612, "comment_id": 98538688, "body": "I don\u2019t think it\u2019s about lazyness, it\u2019s more about being open to changes... (for example, it\u2019s not types, it\u2019s something else)"}], "tags": [], "owner": {"reputation": 1, "user_id": 2212907, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gzYRt.jpg?s=128&g=1", "display_name": "Liquid Core", "link": "https://stackoverflow.com/users/2212907/liquid-core"}, "is_accepted": false, "score": 0, "last_activity_date": 1556744188, "last_edit_date": 1556744188, "creation_date": 1556744104, "answer_id": 55942612, "question_id": 55942438, "link": "https://stackoverflow.com/questions/55942438/recursively-convert-nested-json-to-a-flat-array-in-c/55942612#55942612", "title": "Recursively convert nested JSON to a flat array in C#", "body": "<p>First, your json is invalid.</p>\n\n<p>This is valid:</p>\n\n<pre><code>[\n   {\n      \"type\":\"car\",\n      \"types\":[\n         {\n            \"type\":\"volvo\",\n            \"types\":[\n               {\n                  \"type\":\"big\",\n                  \"count\":2\n               }\n            ]\n         }\n      ]\n   },\n   {\n      \"type\":\"bike\",\n      \"types\":[\n         {\n            \"type\":\"Ducati\",\n            \"types\":[\n               {\n                  \"type\":\"small\",\n                  \"count\":1\n               }\n            ]\n         }\n      ]\n   }\n]\n</code></pre>\n\n<p>Use Json.NET to deserialize the object to this class:</p>\n\n<pre><code>public class MasterClass\n{\n    public TypesClass[] Property1 { get; set; }\n}\n\npublic class TypesClass\n{\n    public string type { get; set; }\n    public Type[] types { get; set; }\n}\n\npublic class Type\n{\n    public string type { get; set; }\n    public Types[] types { get; set; }\n}\n\npublic class Types\n{\n    public string type { get; set; }\n    public int count { get; set; }\n}\n</code></pre>\n\n<p>Deserialize with:</p>\n\n<pre><code>DataSet dsSalesOrders = JsonConvert.DeserializeObject&lt;DataSet&gt;(response.Content);\n</code></pre>\n\n<p>Then with LINQ, you can use <a href=\"https://docs.microsoft.com/it-it/dotnet/api/system.linq.enumerable.selectmany?view=netframework-4.8\" rel=\"nofollow noreferrer\">SelectMany</a> on each subset to add them to your result.</p>\n"}, {"comments": [{"owner": {"reputation": 636, "user_id": 4831846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1a73347bbae8d28e075e354fae243f?s=128&d=identicon&r=PG&f=1", "display_name": "Pichi Wuana", "link": "https://stackoverflow.com/users/4831846/pichi-wuana"}, "edited": false, "score": 0, "creation_date": 1556797958, "post_id": 55945539, "comment_id": 98555588, "body": "Wow... great... that helps! The problem is that inside <code>volvo</code> there could be <code>[{\u201ctype\u201d: \u201cbig\u201d, \u201ccount\u201d:2\u201d},{\u201ctype\u201d:\u201dsmall\u201d, \u201ccount\u201d:3}]</code> and from that create two arrays. All this is so group values are not repeated..."}, {"owner": {"reputation": 636, "user_id": 4831846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1a73347bbae8d28e075e354fae243f?s=128&d=identicon&r=PG&f=1", "display_name": "Pichi Wuana", "link": "https://stackoverflow.com/users/4831846/pichi-wuana"}, "edited": false, "score": 0, "creation_date": 1556798071, "post_id": 55945539, "comment_id": 98555657, "body": "Meaning we would get another element in the array which is <code>{\u201ctypes\u201d: [\u201ccar\u201d, \u201cvolvo\u201d, \u201csmall\u201d], \u201ccount\u201d: 3}</code>"}, {"owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "reply_to_user": {"reputation": 636, "user_id": 4831846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1a73347bbae8d28e075e354fae243f?s=128&d=identicon&r=PG&f=1", "display_name": "Pichi Wuana", "link": "https://stackoverflow.com/users/4831846/pichi-wuana"}, "edited": false, "score": 0, "creation_date": 1556814640, "post_id": 55945539, "comment_id": 98565134, "body": "Please update your question to <i>accurately</i> describe what the possible JSON could be and what output you are trying to achieve depending on the input.  You didn&#39;t mention anything about multiple counts before, and you gave only one example.  It&#39;s still not clear to me what should happen in this case.  Do you want an array of counts, with one for each <code>type</code> value?  Or sum them?"}, {"owner": {"reputation": 636, "user_id": 4831846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1a73347bbae8d28e075e354fae243f?s=128&d=identicon&r=PG&f=1", "display_name": "Pichi Wuana", "link": "https://stackoverflow.com/users/4831846/pichi-wuana"}, "edited": false, "score": 0, "creation_date": 1556975674, "post_id": 55945539, "comment_id": 98615018, "body": "Edited the example"}, {"owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "reply_to_user": {"reputation": 636, "user_id": 4831846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1a73347bbae8d28e075e354fae243f?s=128&d=identicon&r=PG&f=1", "display_name": "Pichi Wuana", "link": "https://stackoverflow.com/users/4831846/pichi-wuana"}, "edited": false, "score": 1, "creation_date": 1556990795, "post_id": 55945539, "comment_id": 98619350, "body": "OK, the picture is more clear now.  I&#39;ve updated my answer. Hopefully that is what you are looking for."}], "tags": [], "owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "is_accepted": true, "score": 4, "last_activity_date": 1557013470, "last_edit_date": 1557013470, "creation_date": 1556769960, "answer_id": 55945539, "question_id": 55942438, "link": "https://stackoverflow.com/questions/55942438/recursively-convert-nested-json-to-a-flat-array-in-c/55945539#55945539", "title": "Recursively convert nested JSON to a flat array in C#", "body": "<p>Here's how I would approach this:</p>\n\n<ol>\n<li><p>Parse the JSON to a <code>JArray</code>, then use <code>SelectTokens</code> with the recursive descent operator <code>..</code> to find all the <code>count</code> tokens.  You will have one result object for each of these.</p></li>\n<li><p>Create a new <code>JArray</code> to hold the result objects.</p></li>\n<li><p>For each of the <code>count</code> tokens:</p>\n\n<p>a) Walk up the chain of ancestors and collect the <code>type</code> values from the <code>JObject</code> at each level into a new <code>JArray</code>.  (You will need to reverse the order of these so they appear in the array from the top down instead of bottom up.)</p>\n\n<p>b) Assemble the count and the array of types into a new <code>JObject</code> and add that to the result array.</p></li>\n<li><p>Finally, convert the result <code>JArray</code> back to a JSON string.</p></li>\n</ol>\n\n<p>Here is what it would look like in code:</p>\n\n<pre><code>var counts = JArray.Parse(json).SelectTokens(\"..count\");\nvar array = new JArray();\n\nforeach (var count in counts)\n{\n    var types = count.Ancestors()\n                     .OfType&lt;JObject&gt;()\n                     .Select(o =&gt; (string)o[\"type\"])\n                     .Reverse();\n\n    var result = new JObject(\n        new JProperty(\"types\", new JArray(types)),\n        new JProperty(\"count\", count)\n    );\n\n    array.Add(result);\n}\n\njson = array.ToString();\n</code></pre>\n\n<p>Working demo here: <a href=\"https://dotnetfiddle.net/uI2Bzt\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/uI2Bzt</a></p>\n\n<p>If you like terse code, you can do it all in \"one line\":</p>\n\n<pre><code>json = new JArray(\n    JArray.Parse(json)\n          .SelectTokens(\"..count\")\n          .Select(c =&gt;\n              new JObject(\n                  new JProperty(\"types\",\n                      new JArray(\n                          c.Ancestors()\n                           .OfType&lt;JObject&gt;()\n                           .Select(o =&gt; (string)o[\"type\"])\n                           .Reverse()\n                      )\n                  ),\n                  new JProperty(\"count\", c)\n              )\n          )\n).ToString();\n</code></pre>\n\n<p>Fiddle: <a href=\"https://dotnetfiddle.net/jltZU5\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/jltZU5</a></p>\n"}], "owner": {"reputation": 636, "user_id": 4831846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b1a73347bbae8d28e075e354fae243f?s=128&d=identicon&r=PG&f=1", "display_name": "Pichi Wuana", "link": "https://stackoverflow.com/users/4831846/pichi-wuana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 880, "favorite_count": 0, "accepted_answer_id": 55945539, "answer_count": 2, "score": 0, "last_activity_date": 1557013470, "creation_date": 1556743076, "last_edit_date": 1556975595, "question_id": 55942438, "link": "https://stackoverflow.com/questions/55942438/recursively-convert-nested-json-to-a-flat-array-in-c", "title": "Recursively convert nested JSON to a flat array in C#", "body": "<p>I have a JSON that looks like this:</p>\n\n<pre><code>[  \n   {  \n      \"type\":\"car\",\n      \"types\":[  \n         {  \n            \"type\":\"ferrari\",\n            \"types\":[  \n               {  \n                  \"type\":\"big\",\n                  \"count\":5\n               },\n               {  \n                  \"type\":\"small\",\n                  \"count\":1\n               }\n            ]\n         },\n         {  \n            \"type\":\"volvo\",\n            \"types\":[  \n               {  \n                  \"type\":\"big\",\n                  \"count\":2\n               }\n            ]\n         }\n      ]\n   },\n   {  \n      \"type\":\"bike\",\n      \"types\":[  \n         {  \n            \"type\":\"Ducati\",\n            \"types\":[  \n               {  \n                  \"type\":\"small\",\n                  \"count\":1\n               }\n            ]\n         }\n      ]\n   }\n]\n</code></pre>\n\n<p>It's like a \"group by\" but nested. I want to convert it so that it is not nested.\nSomething like this:</p>\n\n<pre><code>[  \n   {  \n      \"types\":[ \"car\", \"ferrari\", \"big\" ],\n      \"count\":5\n   },\n   {  \n      \"types\":[ \"car\", \"ferrari\", \"small\" ],\n      \"count\":1\n   },\n   {  \n      \"types\":[ \"car\", \"volvo\", \"big\" ],\n      \"count\":2\n   },\n   {  \n      \"types\":[ \"bike\", \"ducati\", \"small\" ],\n      \"count\":1\n   }\n]\n</code></pre>\n\n<p>I got stuck because it's a recursive function, but complicated because I need to create a <code>JObject</code> for each combination. Actually more complicated because <strong>I don't know how nested the answer is</strong>.  I know to stop when there is no <code>types</code> property. \n I'm trying to do this with <code>JObjects</code>.</p>\n"}, {"tags": ["c#", "selenium"], "comments": [{"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1556745429, "post_id": 55942413, "comment_id": 98538833, "body": "<code>it keeps failing</code> what does this mean? It doesn&#39;t work as you expect or is throwing an exception or ??? If there&#39;s an error message, you should post that. Make sure that you edit your question and put all that in there and not in comments."}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1556745543, "post_id": 55942413, "comment_id": 98538876, "body": "On a side note, you should always strive to have well named variables that can be easily understood. Unless <code>aa</code> means something specific to you, it&#39;s probably not a good variable name."}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 8604137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01d6774b417583172c2344d08798f34a?s=128&d=identicon&r=PG&f=1", "display_name": "Analyst", "link": "https://stackoverflow.com/users/8604137/analyst"}, "is_accepted": false, "score": 0, "last_activity_date": 1556744851, "last_edit_date": 1556744851, "creation_date": 1556743872, "answer_id": 55942569, "question_id": 55942413, "link": "https://stackoverflow.com/questions/55942413/unable-to-grab-specific-digits-from-the-string/55942569#55942569", "title": "Unable to grab specific digits from the string", "body": "<p>I figured out the solution. </p>\n\n<pre><code>string aa = driver.FindElement(By.XPath(\"//*[@id='FRMcommissionupdate']/div[7]/div\")).Text;\nvar result = new string(aa.SkipWhile(x =&gt; \n                       !char.IsDigit(x)).TakeWhile(char.IsDigit).ToArray());\nreturn result;\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 8604137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01d6774b417583172c2344d08798f34a?s=128&d=identicon&r=PG&f=1", "display_name": "Analyst", "link": "https://stackoverflow.com/users/8604137/analyst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1556771270, "creation_date": 1556742941, "last_edit_date": 1556771270, "question_id": 55942413, "link": "https://stackoverflow.com/questions/55942413/unable-to-grab-specific-digits-from-the-string", "title": "Unable to grab specific digits from the string", "body": "<p>I have a long string which I am reading from the web element. Trying to Grab an ID from the string. Following is the string\n\"Comm id: 681\nFlat \u20ba 25.00 per/player\nOnly Positive Commissions Calculated\"</p>\n\n<p>I read the element and get the text of the string and store in a string. Then try to use Regex to split and then parsing the string.</p>\n\n<pre><code>string aa = driver.FindElement(By.XPath(\"//*@id='FRMcommissionupdate']/div[7]/div\")).Text;\n                string[] numbers = Regex.Split(aa, @\"\\D+\");\n                int value = int.Parse(aa);\n                return value;\n</code></pre>\n\n<p>I am expecting the output as 681 only. But it keeps failing</p>\n"}, {"tags": ["c#", "sql", "entity-framework", "extension-methods"], "comments": [{"owner": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "edited": false, "score": 0, "creation_date": 1556743504, "post_id": 55942401, "comment_id": 98538192, "body": "<i>...when I spin up a new database for unit testing...</i> then you <b>are not unit testing</b>. Unit tests <i>have no dependencies</i>. You are describing <b>integration</b> testing."}], "answers": [{"tags": [], "owner": {"reputation": 7, "user_id": 7623106, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mzf8kN4egMc/AAAAAAAAAAI/AAAAAAAAADY/aKnO0rfpQH4/photo.jpg?sz=128", "display_name": "Angel Murchison", "link": "https://stackoverflow.com/users/7623106/angel-murchison"}, "is_accepted": false, "score": 0, "last_activity_date": 1556743568, "last_edit_date": 1556743568, "creation_date": 1556743064, "answer_id": 55942435, "question_id": 55942401, "link": "https://stackoverflow.com/questions/55942401/ienumerable-extension-methods-called-on-iqueryable-causing-performance-issues/55942435#55942435", "title": "IEnumerable extension methods called on IQueryable causing performance issues", "body": "<p>Why would you create an extension method that accepts an IEnumerable?</p>\n\n<p>Obviously, when you call the IEnumerable extension method on an IQueryable, the IQueryable is going to be hydrated, and you're going to bring in every row in the Bill table when you only need one!</p>\n\n<p>Now, if we can assume that GetBillPayments is similarly calling the database, that explains the discrepancy here: </p>\n\n<pre><code>GetDeposit: 33434ms\nGetBillPayments: 54ms\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "is_accepted": false, "score": 0, "last_activity_date": 1556743570, "creation_date": 1556743570, "answer_id": 55942517, "question_id": 55942401, "link": "https://stackoverflow.com/questions/55942401/ienumerable-extension-methods-called-on-iqueryable-causing-performance-issues/55942517#55942517", "title": "IEnumerable extension methods called on IQueryable causing performance issues", "body": "<p>Check for the following two things:</p>\n\n<p>1) You're using change tracking, which can be responsible for abominable slowness. See:  <a href=\"https://weblog.west-wind.com/posts/2014/dec/21/gotcha-entity-framework-gets-slow-in-long-iteration-loops#Turn-off-Change-Tracking\" rel=\"nofollow noreferrer\">https://weblog.west-wind.com/posts/2014/dec/21/gotcha-entity-framework-gets-slow-in-long-iteration-loops#Turn-off-Change-Tracking</a>.</p>\n\n<p>2) You're pulling a bunch of records from the database, and then querying on that set in memory instead of querying what you want at the database level. Check what queries EF is sending, and check to make sure you don't materialize the list at the repository level. </p>\n"}], "owner": {"reputation": 7, "user_id": 7623106, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mzf8kN4egMc/AAAAAAAAAAI/AAAAAAAAADY/aKnO0rfpQH4/photo.jpg?sz=128", "display_name": "Angel Murchison", "link": "https://stackoverflow.com/users/7623106/angel-murchison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "closed_date": 1556746315, "answer_count": 2, "score": -1, "last_activity_date": 1556743570, "creation_date": 1556742849, "question_id": 55942401, "link": "https://stackoverflow.com/questions/55942401/ienumerable-extension-methods-called-on-iqueryable-causing-performance-issues", "closed_reason": "Duplicate", "title": "IEnumerable extension methods called on IQueryable causing performance issues", "body": "<p>Whenever I call an extension method that accepts an IEnumerable on an IQueryable, the remainder of the process where that list/entity is being used in is incredibly slow.</p>\n\n<p>POR QUEEEEE?!</p>\n\n<p>The problem doesn't seem to be related to the actual structure of the code, as it's otherwise optimal, and when I spin up a new database for unit testing it, the problem doesn't seem to appear.</p>\n\n<p>This is the extension method:</p>\n\n<pre><code>        public static Bill FirstById(this IEnumerable&lt;Bill&gt; query, int billId)\n        {\n            return query.FirstOrDefault(r =&gt; r.Id == billId);\n        }\n</code></pre>\n\n<p>This is how it's being used:</p>\n\n<pre><code>        public Bill GetDeposit(int depositId)\n        {\n            var deposit = _depositRepository\n                .AndSalesOrder()\n                .AndSalesOrderCustomerContact()\n                .AndDepositApplications()\n                .FirstById(depositId);\n\n            return deposit;\n        }\n</code></pre>\n\n<p>And this is how the actual entity is being used:</p>\n\n<pre><code>        public bool ConvertDeposit(List&lt;ConvertDepositSubmitModel&gt; conversions)\n        {\n            if (conversions.Any())\n            {\n                var depositId = conversions.Select(c =&gt; c.DepositId)\n                .Distinct()\n                .Single();\n\n                var billPaymentIds = conversions.Select(c =&gt; c.BillPaymentId);\n\n                var deposit = _dataProvider.GetDeposit(depositId);\n\n                var billPayments = _dataProvider.GetBillPayments(billPaymentIds);\n\n                var totalConversionAmount = conversions.Sum(c =&gt; c.Amount);\n\n                var unappliedDepositAmount = (deposit.BillStatusId == BillStatus.Credited ? 0 : deposit.TotalSell - deposit.Balance) - deposit.DepositApplications.Select(a =&gt; a.Amount).DefaultIfEmpty(0).Sum();\n\n                if (unappliedDepositAmount != totalConversionAmount)\n                {\n                    throw new Exception(\"The provided conversion amount would not fully convert the Deposit.\");\n                }\n\n                _unitOfWork.TryTransactionAndCommit(() =&gt;\n                {\n\n                    foreach (var conversion in conversions)\n                    {\n                        var billPayment = billPayments.FirstByBillPaymentId(conversion.BillPaymentId);\n\n\n                        this.CreateBillPaymentBill(deposit, conversion);\n\n                        this.CreateMoneyOnAccountTransaction(deposit, conversion);\n\n                        this.UpdateBillPayment(conversion, billPayment);\n                    }\n\n                    this.UpdateNetProceeds(billPayments);\n\n                    this.ApplyCreditCardFees(billPaymentIds);\n\n                    var customerCredit = this.CreateCustomerCredit(deposit, totalConversionAmount);\n\n                    this.CreateCustomerCreditBill(deposit, customerCredit);\n\n                    this.UpdateDeposit(deposit, totalConversionAmount);\n                });\n            }\n            else\n            {\n                throw new Exception(\"The provided set of bill payments was empty.\");\n            }\n\n            return true;\n        }\n</code></pre>\n\n<p>We're seeing that each method, which has been tested rigorously, is producing the following diagnostic results: </p>\n\n<pre><code>PV2ANZAC                \nGetDeposit: 33434ms\nGetBillPayments: 54ms\nCreateBillPaymentBill1: 17775ms\nCreateMoneyOnAccountTransaction1: 10774ms\nUpdateBillPayment1: 10810ms\nUpdateNetProceeds: 18130ms\nApplyCreditCardFees: 17206ms\nInsert CustomerCredit: 10795ms\nCustomerCredit SaveChanges: 16276ms\nCreateCustomerCredit: 27075ms\nCreateCustomerCreditBill: 10688ms\n</code></pre>\n\n<p>And we are definitely expecting everything to be at least an order of magnitude less than what it is.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 13228, "user_id": 8398549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8tzrl.jpg?s=128&g=1", "display_name": "Cid", "link": "https://stackoverflow.com/users/8398549/cid"}, "edited": false, "score": 3, "creation_date": 1556742405, "post_id": 55942284, "comment_id": 98537806, "body": "<code>n</code> is a <code>Name</code>, so your if you want your method to return a <code>Name</code> type, you have to define it like this : <code>public Name getName()</code>"}, {"owner": {"reputation": 1460, "user_id": 2804722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZjBig.jpg?s=128&g=1", "display_name": "Marc Sances", "link": "https://stackoverflow.com/users/2804722/marc-sances"}, "edited": false, "score": 2, "creation_date": 1556742443, "post_id": 55942284, "comment_id": 98537821, "body": "Can we see your <code>Name</code> class? Either you have to return a <code>Name</code> instead of a <code>string</code>, or call the appropiate getter from <code>Name</code> class to get the string representation of the name."}], "answers": [{"comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1556743051, "post_id": 55942420, "comment_id": 98538024, "body": "Or change <code>getName</code> to return <code>Name</code>, or change it to an autoproperty <code>public Name name { get; set; }</code>"}, {"owner": {"reputation": 5, "user_id": 7845167, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155257111297372/picture?type=large", "display_name": "Sean Bruce", "link": "https://stackoverflow.com/users/7845167/sean-bruce"}, "edited": false, "score": 0, "creation_date": 1556743306, "post_id": 55942420, "comment_id": 98538132, "body": "Thank you Cid, your recommendation of chaning it to public Name getName() solved the issue. I appreciate the help!."}, {"owner": {"reputation": 1, "user_id": 2212907, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gzYRt.jpg?s=128&g=1", "display_name": "Liquid Core", "link": "https://stackoverflow.com/users/2212907/liquid-core"}, "reply_to_user": {"reputation": 5, "user_id": 7845167, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155257111297372/picture?type=large", "display_name": "Sean Bruce", "link": "https://stackoverflow.com/users/7845167/sean-bruce"}, "edited": false, "score": 0, "creation_date": 1556743359, "post_id": 55942420, "comment_id": 98538145, "body": "@SeanBruce if so please don&#39;t forget to mark it as answer. Thanks ;) Also, public or internal work aswell, depending on your needs"}], "tags": [], "owner": {"reputation": 1, "user_id": 2212907, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gzYRt.jpg?s=128&g=1", "display_name": "Liquid Core", "link": "https://stackoverflow.com/users/2212907/liquid-core"}, "is_accepted": true, "score": 0, "last_activity_date": 1556742980, "creation_date": 1556742980, "answer_id": 55942420, "question_id": 55942284, "link": "https://stackoverflow.com/questions/55942284/getter-not-working-on-returning-object-to-string/55942420#55942420", "title": "Getter not working on returning Object to String", "body": "<p>Name is a class, not a string.</p>\n\n<p>Either you do</p>\n\n<pre><code>public string getName()\n{\n    //Assuming name is a string property in your Name class\n    return n.Name;\n}\n</code></pre>\n\n<p>As sais above this assumes your Name class is made up like</p>\n\n<pre><code>class Name\n{\n    public string Name {get; set;}\n}\n</code></pre>\n\n<p>or you override the .ToString() method in the Name class to return the name property.</p>\n\n<p>Overriding .ToString() is explained <a href=\"https://docs.microsoft.com/it-it/dotnet/csharp/programming-guide/classes-and-structs/how-to-override-the-tostring-method\" rel=\"nofollow noreferrer\">in MSDN</a></p>\n"}], "owner": {"reputation": 5, "user_id": 7845167, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155257111297372/picture?type=large", "display_name": "Sean Bruce", "link": "https://stackoverflow.com/users/7845167/sean-bruce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 55942420, "answer_count": 1, "score": 0, "last_activity_date": 1556743921, "creation_date": 1556742252, "question_id": 55942284, "link": "https://stackoverflow.com/questions/55942284/getter-not-working-on-returning-object-to-string", "title": "Getter not working on returning Object to String", "body": "<p>Trying to call the getName() method within my program to write back to a file from a Windows Form. Name is another object called public class Name() with its own sets/gets that i can implement fine but i cannot figure out how to set my getName() to be able to call back the gets from the Student Object.</p>\n\n<pre><code>public class Student\n{\n    private Name n;\n    private Address a;\n    private PhoneNumber[] phones = new PhoneNumber[3];\n    private Course[] c = new Course[200];\n\n    public void setName(Name N)\n    {\n        n = N;\n    }\n    public string getName()\n    {\n        return n;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "oop", "abstract-class"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1556742343, "post_id": 55942265, "comment_id": 98537785, "body": "Why not make <code>SomeMethod</code> a member of the <code>IFoo</code> interface?"}, {"owner": {"reputation": 292, "user_id": 6884587, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9b01e900223b334ed43739d33951ae6?s=128&d=identicon&r=PG&f=1", "display_name": "Creepin", "link": "https://stackoverflow.com/users/6884587/creepin"}, "edited": false, "score": 0, "creation_date": 1556742416, "post_id": 55942265, "comment_id": 98537814, "body": "Is <code>SomeMethod</code> defined in <code>IFoo</code>?"}, {"owner": {"reputation": 35, "user_id": 3707424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4b0617cf2242090aa0de94c457c888f2?s=128&d=identicon&r=PG&f=1", "display_name": "enO87", "link": "https://stackoverflow.com/users/3707424/eno87"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1556743621, "post_id": 55942265, "comment_id": 98538223, "body": "@JonathonChase SomeMethod only applies to ChildFoo."}], "answers": [{"tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": false, "score": 2, "last_activity_date": 1556742553, "creation_date": 1556742553, "answer_id": 55942334, "question_id": 55942265, "link": "https://stackoverflow.com/questions/55942265/what-is-the-proper-way-to-down-cast-a-parent-class-property-to-call-a-child-spec/55942334#55942334", "title": "What is the proper way to down-cast a parent class property to call a child-specific method?", "body": "<p>You're doing something wrong at a fundamental level.  You set <code>Foo</code> to be a <code>ChildFoo</code> in the constructor, but you expose a property getter in which you let <em>anyone</em> set it to be <em>any</em> <code>IFoo</code> instance.</p>\n\n<p>Either you need to ensure that no one can ever set that property to anything other than what your constructor has set it to (by making it read only), at which point you can safely ensure that it'll always be a <code>ChildFoo</code> (and in such a case you should simply store it in a field of that type, and have the read only property return it, rather than casting it whenever you use it).  Or, if it needs to be settable externally, then <code>IFoo</code> apparently needs that method, because you need any <code>IFoo</code> instance to be able to perform that operation.</p>\n"}, {"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": false, "score": 1, "last_activity_date": 1556744353, "creation_date": 1556744353, "answer_id": 55942652, "question_id": 55942265, "link": "https://stackoverflow.com/questions/55942265/what-is-the-proper-way-to-down-cast-a-parent-class-property-to-call-a-child-spec/55942652#55942652", "title": "What is the proper way to down-cast a parent class property to call a child-specific method?", "body": "<p>One fundamental problem is if you have an <code>IFoo</code> and you cast it as a specific class that implements <code>IFoo</code>, like <code>ChildFoo</code>. </p>\n\n<p>The point of an interface such as <code>IFoo</code> is so that other code deals with the interface, not any concrete types that implement it. If code elsewhere \"knows\" that an <code>IFoo</code> is really a <code>ChildFoo</code>, then <code>IFoo</code> has lost its reason to exist. </p>\n\n<ul>\n<li>If <code>ChildFoo</code> is the only class that implements <code>IFoo</code>, then you don't need <code>IFoo</code>. (Except perhaps for unit testing, but that still won't work if you're casting the interface to a concrete type.)</li>\n<li>If other classes implement <code>IFoo</code>, then how do you know that a given <code>IFoo</code> is a <code>ChildFoo</code> and not some other class that implements <code>IFoo</code>?</li>\n<li>Even if <code>ChildFoo</code> is the only class that implements <code>IFoo</code> now, what if other classes implement <code>IFoo</code> later?</li>\n</ul>\n\n<p>When we cast an interface to something that implements it, we're taking it upon ourselves to keep track of all of those details, which is risky and can result in runtime errors.</p>\n\n<p>But we're also losing one of the intended benefits of interfaces, which is that our code depends only on the interface, not any particular implementation.</p>\n"}], "owner": {"reputation": 35, "user_id": 3707424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4b0617cf2242090aa0de94c457c888f2?s=128&d=identicon&r=PG&f=1", "display_name": "enO87", "link": "https://stackoverflow.com/users/3707424/eno87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1556748146, "creation_date": 1556742147, "last_edit_date": 1556748146, "question_id": 55942265, "link": "https://stackoverflow.com/questions/55942265/what-is-the-proper-way-to-down-cast-a-parent-class-property-to-call-a-child-spec", "title": "What is the proper way to down-cast a parent class property to call a child-specific method?", "body": "<p>I've run into this problem a few times and the fact that I can't find an answer makes me think I'm doing something weird at a fundamental level, but here goes:</p>\n\n<p>I have an abstract class that contains an interface (or abstract class) property that defines all of the common methods that any child would need: </p>\n\n<pre><code>interface IFoo\n{\n    ...\n}\n\nabstract class Parent\n{\n    IFoo Foo { get; set; }\n}\n</code></pre>\n\n<p>I then have a child class that implements that abstract class, and in its constructor, it sets that interface property to its own implementation:</p>\n\n<pre><code>class Child : Parent\n{\n    Child()\n    {\n       Foo = new ChildFoo();\n    }\n}\n\nclass ChildFoo : IFoo\n{\n    SomeMethod()\n    {\n    }\n}\n</code></pre>\n\n<p>The problem is that whenever I need to call SomeMethod() in Child, I need to downcast Foo to ChildFoo first. Should I just add a getter property in Child that just returns Foo as ChildFoo? Or am I doing something wrong at a fundamental level?</p>\n\n<p>Edit:</p>\n\n<p>I apologize for the edit and for unaccepting the answer (which may actually still stand), but I feel like I should have been more explicit because I'm still a bit lost.</p>\n\n<p>Parent and Child are actually OData controllers and IFoo is a service layer interface that defines basic CRUD methods.</p>\n\n<p>There are many child OData controllers, all of which contain endpoints for the CRUD methods defined by IFoo. However, some children also have custom function endpoints that call entity-specific methods that are not defined in IFoo.</p>\n\n<p>I was hoping to avoid a lot of redundant Controller code by having all of the common child endpoints call generic methods in the Parent controller using the IFoo property. The problem is that I can't call the entity-specific methods in the Child controller without casting IFoo to ChildFoo().</p>\n\n<p>I'm starting to think I should just remove the Parent controller altogether and add a helper class that contains methods with IFoo parameters.</p>\n\n<p>Apologies if I'm just repeating myself..</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "asp.net-core"], "comments": [{"owner": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1556744811, "post_id": 55942249, "comment_id": 98538609, "body": "Remove the file from the POST request and access your file in the controller as (foreach var file in Request.Files)"}, {"owner": {"reputation": 9, "user_id": 9925480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9788976d4a959f6de3cb9269a80b953?s=128&d=identicon&r=PG", "display_name": "user115812", "link": "https://stackoverflow.com/users/9925480/user115812"}, "reply_to_user": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1556745020, "post_id": 55942249, "comment_id": 98538683, "body": "Remove from the POST? but i need send in POST the javascript object... you mean in the controller parameter?"}, {"owner": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1556745258, "post_id": 55942249, "comment_id": 98538769, "body": "remove the file property and use JavaScript FormData, the access file in controller as at my first comment"}, {"owner": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1556745365, "post_id": 55942249, "comment_id": 98538803, "body": "Look at this <a href=\"https://cmatskas.com/upload-files-to-the-server-using-javascript-and-mvc-webapi/\" rel=\"nofollow noreferrer\">cmatskas.com/&hellip;</a>"}, {"owner": {"reputation": 9, "user_id": 9925480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9788976d4a959f6de3cb9269a80b953?s=128&d=identicon&r=PG", "display_name": "user115812", "link": "https://stackoverflow.com/users/9925480/user115812"}, "reply_to_user": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1556745695, "post_id": 55942249, "comment_id": 98538932, "body": "I&#39;ve use formData before but i need the file and other data in one model.. and are multiple files, thats why the list"}], "answers": [{"tags": [], "owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "is_accepted": false, "score": 1, "last_activity_date": 1559096154, "last_edit_date": 1559096154, "creation_date": 1556780404, "answer_id": 55947176, "question_id": 55942249, "link": "https://stackoverflow.com/questions/55942249/send-javascript-object-with-data-and-file-to-asp-net-core/55947176#55947176", "title": "Send javascript object with data and file to asp.net core", "body": "<p>Avoid embedding an <code>IFormFile</code> within the <code>Upload</code> class. When uploading something like <strong><code>IList&lt;Upload&gt;</code></strong> where its list item <strong>has a property of <code>IFormFile</code></strong>, you might encounter <strong>an bug</strong> that results in a crazy memory leak (It ate me about 6.7G memory until I address it). For more information, see </p>\n\n<ul>\n<li><a href=\"https://github.com/aspnet/AspNetCore/issues/4802\" rel=\"nofollow noreferrer\">ASP.NET Core #4802</a></li>\n<li><a href=\"https://github.com/aspnet/Mvc/issues/8782\" rel=\"nofollow noreferrer\">ASP.NET MVC #8782</a></li>\n</ul>\n\n<p>The easiest way to walk around it, as <a href=\"https://github.com/aspnet/AspNetCore/issues/4802#issuecomment-456117442\" rel=\"nofollow noreferrer\">WahidBitar comments on GitHub</a>, is to create a wrapper to receive the payload. </p>\n\n<hr>\n\n<p>As for your question itself, you should avoid embedding an <code>IFormFile</code> within the <code>Upload</code> class. </p>\n\n<p>Here's a working sample :</p>\n\n<pre>\npublic class UploadPayload{\n    public IList&lt;Upload&gt; Uploads{get;set;}\n\n    public class IFormFileWrapper {\n        public IFormFile File { get; set; }\n    }\n    public class Upload\n    {\n        // See https://github.com/aspnet/Mvc/issues/8782\n        <strike>public IFormFile File { get; set; }</strike>\n        public IFormFileWrapper CodigoFile { get; set; }\n        public string CodigoVendaArquivo { get; set; }\n        public string CodigoClienteArquivo { get; set; }\n        public string Checkbox { get; set; }\n    }\n}\n</pre>\n\n<p>And also change your action method as below:</p>\n\n<pre>\n<strike>public JsonResult Upload([FromBody] List listUpload)</strike>\npublic IActionResult Upload(UploadPayload listUpload)\n{ \n    ... \n}\n</pre>\n\n<p><strong>Client Side :</strong></p>\n\n<p>To construct a <code>formData</code>, create a <code>getFormData()</code> function :</p>\n\n<pre><code>    function getFormData(listUpload){\n        var formData = new FormData();\n        function getFieldName(index,name){\n            return \"Uploads[\" + index + \"].\" + name ;\n        };\n        function getFileName(index,name){\n            return \"Uploads[\" + index + \"].CodigoFile.\" + name ;\n        };\n\n        for(var i =0 ;i &lt;listUpload.length; i++){\n            var upload = listUpload[i];\n            formData.append(getFieldName(i, 'CodigoVendaArquivo'), upload.CodigoVendaArquivo);\n            formData.append(getFieldName(i, 'CodigoClienteArquivo'), upload.CodigoClienteArquivo);\n            formData.append(getFieldName(i, 'Checkbox'),upload.Checkbox)\n            formData.append(getFileName(i, 'File'), upload.File);\n        }\n        return formData;\n    }\n</code></pre>\n\n<p>Now we could send the formData in the following way:</p>\n\n<pre>\n    jQuery('#tblDocuments > tbody > tr').each(function () {\n        ...\n        listUpload.push(Upload);\n    }\n\n    var formData = getFormData(listUpload);\n    fetch('../../upload', {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            <strike>'Content-Type': 'application/json'</strike>\n        },\n        <strike>body: JSON.stringify(listUpload),</strike>\n        body:formData,\n    })\n    .then(res => res.json())\n    .then(res => {\n        if (res == 1) {\n            // success\n        }\n    });\n</pre>\n"}], "owner": {"reputation": 9, "user_id": 9925480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9788976d4a959f6de3cb9269a80b953?s=128&d=identicon&r=PG", "display_name": "user115812", "link": "https://stackoverflow.com/users/9925480/user115812"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1521, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559096154, "creation_date": 1556742072, "last_edit_date": 1557971609, "question_id": 55942249, "link": "https://stackoverflow.com/questions/55942249/send-javascript-object-with-data-and-file-to-asp-net-core", "title": "Send javascript object with data and file to asp.net core", "body": "<p>I need send data with file in a <code>javascript</code> object to <code>asp.net core</code> but \nwhen it arrives at the asp.net core method, arrives with null values (<code>List&lt;Upload&gt; listUpload</code>)</p>\n\n<p>I did a test removing the File property from the javascript object and it does not appear anymore null, the problem is with the File property that it can not map with the model property called File of type IFormFile.</p>\n\n<p><code>javascript</code> code:</p>\n\n<pre><code>jQuery('#tblDocuments &gt; tbody &gt; tr').each(function () {\n   checkBox = jQuery(this).find('td').eq(0).children();\n\n   inputFile = jQuery(this).find('td').eq(2).children()[0].files[0]; \n\n    let Upload = {\n        File: inputFile,\n        CodigoVendaArquivo: res,\n        CodigoClienteArquivo: cliente,\n        Checkbox: checkBox[0].id\n    };\n    listUpload.push(Upload);\n});\n</code></pre>\n\n<p>I'm trying to send with <code>fetch</code>:</p>\n\n<pre><code>fetch('../../upload', {\n    method: 'POST',\n    headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(listUpload)\n}).then(res =&gt; res.json())\n.then(res =&gt; {\n\n    if (res == 1) {\n     // success\n    }\n\n});\n</code></pre>\n\n<p>Here's my <code>asp.net core</code> method:</p>\n\n<pre><code>[Route(\"upload\")]\n[HttpPost]\npublic JsonResult Upload([FromBody] List&lt;Upload&gt; listUpload)\n{\n    // something\n}\n</code></pre>\n\n<p>Here's my Model:</p>\n\n<pre><code>public class Upload\n{\n    public IFormFile File { get; set; }\n    public string CodigoVendaArquivo { get; set; }\n    public string CodigoClienteArquivo { get; set; }\n    public string Checkbox { get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "android", "google-maps"], "comments": [{"owner": {"reputation": 1434, "user_id": 5799673, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f1eb668cc8e910aba87ad3d0502d7da0?s=128&d=identicon&r=PG&f=1", "display_name": "ebbishop", "link": "https://stackoverflow.com/users/5799673/ebbishop"}, "edited": false, "score": 0, "creation_date": 1556742393, "post_id": 55942231, "comment_id": 98537801, "body": "Can you share some of the relevant code that you&#39;ve already tried? What are the desired results and how does that differ from what&#39;s actually happening?"}], "answers": [{"tags": [], "owner": {"reputation": 1548, "user_id": 997341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f0f8bade2ecc5240ed1779fa08dbb6a?s=128&d=identicon&r=PG", "display_name": "Michael Dougan", "link": "https://stackoverflow.com/users/997341/michael-dougan"}, "is_accepted": false, "score": 0, "last_activity_date": 1556744862, "creation_date": 1556744862, "answer_id": 55942720, "question_id": 55942231, "link": "https://stackoverflow.com/questions/55942231/want-to-add-regional-info-on-top-of-an-existing-google-map-interacting-with-the/55942720#55942720", "title": "Want to add regional info on top of an existing Google Map interacting with the user&#39;s touch", "body": "<p>Here are some code snippits that might help you.  I haven't done the part where I record the position of a point on the map that a user clicks on, but that should be relatively easy.  This mainly explains saving and drawing the polyline information.</p>\n\n<pre><code>    // Some imports\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.Polyline;\nimport com.google.android.gms.maps.model.PolylineOptions;\n...\n// Declare the pathDynamic\nprivate PolylineOptions pathDynamic;\n...\npathDynamic = new PolylineOptions().width(15).color(Color.RED);\n...\n// Whenever the user clicks the map to add a point\nLatLng theLatLng = new LatLng(location.getLatitude(), location.getLongitude());         \npathDynamic.add(theLatLng);\n...\n// Add the polyline to the map\nif (mMap != null) {\n    mMap.addPolyline(pathDynamic);\n}\n...\n//If you want to save the points to an encoded string to store in a database\nString encoded_path = encode(pathDynamic.getPoints());\n...\n//If you want to put an encoded_path into a pathDynamic\npathDynamic = new PolylineOptions().width(15).color(Color.RED);\npathDynamic.addAll(decode(encoded_path));\n...\n    /**\n * Decodes an encoded path string into a sequence of LatLngs.\n */\npublic static List&lt;LatLng&gt; decode(final String encodedPath) {\n    int len = encodedPath.length();\n\n    // For speed we preallocate to an upper bound on the final length, then\n    // truncate the array before returning.\n    final List&lt;LatLng&gt; path = new ArrayList&lt;LatLng&gt;();\n    int index = 0;\n    int lat = 0;\n    int lng = 0;\n\n    while (index &lt; len) {\n        int result = 1;\n        int shift = 0;\n        int b;\n        do {\n            b = encodedPath.charAt(index++) - 63 - 1;\n            result += b &lt;&lt; shift;\n            shift += 5;\n        } while (b &gt;= 0x1f);\n        lat += (result &amp; 1) != 0 ? ~(result &gt;&gt; 1) : (result &gt;&gt; 1);\n\n        result = 1;\n        shift = 0;\n        do {\n            b = encodedPath.charAt(index++) - 63 - 1;\n            result += b &lt;&lt; shift;\n            shift += 5;\n        } while (b &gt;= 0x1f);\n        lng += (result &amp; 1) != 0 ? ~(result &gt;&gt; 1) : (result &gt;&gt; 1);\n\n        path.add(new LatLng(lat * 1e-5, lng * 1e-5));\n    }\n\n    return path;\n}\n\n/**\n * Encodes a sequence of LatLngs into an encoded path string.\n */\npublic static String encode(final List&lt;LatLng&gt; path) {\n    long lastLat = 0;\n    long lastLng = 0;\n\n    final StringBuffer result = new StringBuffer();\n\n    for (final LatLng point : path) {\n        long lat = Math.round(point.latitude * 1e5);\n        long lng = Math.round(point.longitude * 1e5);\n\n        long dLat = lat - lastLat;\n        long dLng = lng - lastLng;\n\n        encode(dLat, result);\n        encode(dLng, result);\n\n        lastLat = lat;\n        lastLng = lng;\n    }\n    return result.toString();\n}\n\nprivate static void encode(long v, StringBuffer result) {\n    v = v &lt; 0 ? ~(v &lt;&lt; 1) : v &lt;&lt; 1;\n    while (v &gt;= 0x20) {\n        result.append(Character.toChars((int) ((0x20 | (v &amp; 0x1f)) + 63)));\n        v &gt;&gt;= 5;\n    }\n    result.append(Character.toChars((int) (v + 63)));\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6646520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/553569ef948e3461556943ca6eddeeed?s=128&d=identicon&r=PG&f=1", "display_name": "D.Foley", "link": "https://stackoverflow.com/users/6646520/d-foley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556803406, "creation_date": 1556741962, "last_edit_date": 1556803406, "question_id": 55942231, "link": "https://stackoverflow.com/questions/55942231/want-to-add-regional-info-on-top-of-an-existing-google-map-interacting-with-the", "title": "Want to add regional info on top of an existing Google Map interacting with the user&#39;s touch", "body": "<p>I have a mobile app that uses the Android GoogleMap Api to display a route on the GoogleMap and then I add markers along the route. I have the user define the route using start/end/viapoints. I would really like to have my app let the user define a route using the GoogleMaps app user interface instead and then let my app get the resulting polyline so I can display the route and add unique markers along the route. Essentially I am trying not to recreate the awesome way the GoogleMap app user interface has the user define the route with all of the possible route options. Is there an api to display the GoogleMap user interface to define a route and allow my app get the resulting polyline data?</p>\n\n<p>I am new to Android development. I have not described my request clearly. The app I have created currently works. It prompts the user for the route start/end/viapoints. It then converts the route start/end/viapoints (street, city, state, zip code) to GPS positions using a geocoder. It then makes a HTTP request (\"<a href=\"https://maps.googleapis.com/maps/api/\" rel=\"nofollow noreferrer\">https://maps.googleapis.com/maps/api/</a>...\") and it then deserializes the JSON response to get the route OverviewPolyline.Points and saves them. It will use this information to display the route using a Google Map Control. I add Markers to display additional info along the route displayed by the map control. I only use the route information so I can add my extended information using Markers along the route.\nIf there was a way I could use the built in maps app (i.e. \"<a href=\"http://maps.google.com/?daddr=San+Francisco,+CA&amp;saddr=Mountain+View\" rel=\"nofollow noreferrer\">http://maps.google.com/?daddr=San+Francisco,+CA&amp;saddr=Mountain+View</a>\") to let the user define the route and then I get the route polyline info from that.</p>\n\n<p>Even better would be to design the app to add the ability to add these markers on to the existing google map. I only want to provide distinctly different information on top of what Google Maps provides. I want to let the user indicate by touch of the map where to display this timely regional info. I want to allow the user to also turn the display of this info (Markers/BillBoards) on or off, to show todays info, tomorrow's info, the next days, etc. This information is most useful over a longer route where the time to travel is more than an hour, perhaps days. So what APIs are available to add functionality on top of the Google Map without having to provide a duplicate of what Google Maps already does?</p>\n"}, {"tags": ["c#", "linq", "asp.net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 1171, "user_id": 5022812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6be5e79bf480b95edc5ce5cbb7c7db?s=128&d=identicon&r=PG&f=1", "display_name": "hassan.ef", "link": "https://stackoverflow.com/users/5022812/hassan-ef"}, "edited": false, "score": 0, "creation_date": 1556742831, "post_id": 55942221, "comment_id": 98537940, "body": "If you try this one ` var items = await db.FrontPageItems.Include(a =&gt; a.Article).ToListAsync();` again you have null value?"}, {"owner": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "reply_to_user": {"reputation": 1171, "user_id": 5022812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6be5e79bf480b95edc5ce5cbb7c7db?s=128&d=identicon&r=PG&f=1", "display_name": "hassan.ef", "link": "https://stackoverflow.com/users/5022812/hassan-ef"}, "edited": false, "score": 0, "creation_date": 1556743070, "post_id": 55942221, "comment_id": 98538033, "body": "@hassan.ef Yes. Still <code>null</code>."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 1, "creation_date": 1556747501, "post_id": 55942221, "comment_id": 98539478, "body": "Something is wrong with your entity model, especially if you are using the accepted <i>wrong</i> answer to your <a href=\"https://stackoverflow.com/questions/55889449/how-to-configure-this-one-to-zero-or-one-relationship\">previous question</a>. Relationships include only 1 FK, so either <code>ArticleId</code> in <code>FrontPageItem</code> or <code>FrontPageItemId</code> in <code>Article</code> is redundant. Most likely the second. So keep the first, remove the second and use <code>.HasForeignKey&lt;FrontPageItem&gt;(b =&gt; b.ArticleId)</code>. Similar for the other relationship from the linked question."}, {"owner": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1556782966, "post_id": 55942221, "comment_id": 98548150, "body": "@IvanStoev Yes! You can write that up as an answer, and I will accept it."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4851087"}, "is_accepted": false, "score": 0, "last_activity_date": 1556779053, "creation_date": 1556779053, "answer_id": 55946879, "question_id": 55942221, "link": "https://stackoverflow.com/questions/55942221/why-arent-related-entities-loaded-on-include/55946879#55946879", "title": "Why aren&#39;t related entities loaded on .Include()?", "body": "<p>First you need to understand about Eager Loading, Lazy Loading, Explicit loading</p>\n\n<blockquote>\n  <p>Eager Loading</p>\n  \n  <p>Eager Loading helps you to load all your needed entities at once;\n  i.e., all your child entities will be loaded at single database call.\n  This can be achieved, using the Include method, which returs the\n  related entities as a part of the query and a large amount of data is\n  loaded at once.</p>\n  \n  <p>Lazy Loading</p>\n  \n  <p>It is the default behavior of an Entity Framework, where a child\n  entity is loaded only when it is accessed for the first time. It\n  simply delays the loading of the related data, until you ask for it.</p>\n  \n  <p>Explicit Loading</p>\n  \n  <p>There are options to disable Lazy Loading in an Entity Framework.\n  After turning Lazy Loading off, you can still load the entities by\n  explicitly calling the Load method for the related entities. There are\n  two ways to use Load method Reference (to load single navigation\n  property) and Collection (to load collections)</p>\n</blockquote>\n\n<p>So to load relational entity you can use Microsoft.EntityFrameworkCore.Proxies package to enable lazy loading. So when you query database EF will return relational data base on their relationship</p>\n\n<p>My sample code is look like this</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>services.AddDbContextPool&lt;ApplicationDbContext&gt;(options =&gt;\n  options.UseLazyLoadingProxies().UseSqlServer(configuration.GetConnectionString(\"DefaultConnection\"),\n        b =&gt; b.MigrationsAssembly(\"AwesomeCMSCore\")).UseOpenIddict());\n</code></pre>\n\n<p>Please let me know if you have any problem</p>\n"}], "owner": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 328, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556779053, "creation_date": 1556741927, "last_edit_date": 1556742914, "question_id": 55942221, "link": "https://stackoverflow.com/questions/55942221/why-arent-related-entities-loaded-on-include", "title": "Why aren&#39;t related entities loaded on .Include()?", "body": "<p>Can anybody tell me why the related <code>Article</code> entities are not being loaded on <code>.Include(a =&gt; a.Article)</code>? They are always <code>NULL</code> even though <code>ArticleId</code> does indeed have a value. The relationship between <code>FrontPageItem</code> and <code>Article</code> is 1-0..1. An <code>Article</code> can exist without any connection to a <code>FrontPageItem</code>, but a <code>FrontPageItem</code> must have one <code>Article</code>.</p>\n\n<p>In a rather ugly workaround, I have resorted to <code>foreach</code>-ing through all the returned items in the list and adding <code>Article</code> manually, as you can see in my index-method below.</p>\n\n<pre><code>public async Task&lt;IActionResult&gt; Index()\n{\n    List&lt;FrontPageItem&gt; items = await db.FrontPageItems\n        .Include(a =&gt; a.Article)\n            .ThenInclude(c =&gt; c.CreatedBy)\n                .ThenInclude(m =&gt; m.Member)\n        .Include(a =&gt; a.Article)\n            .ThenInclude(e =&gt; e.EditedBy)\n                .ThenInclude(m =&gt; m.Member)\n        .Include(a =&gt; a.Article)\n            .ThenInclude(e =&gt; e.PublishReadyBy)\n                .ThenInclude(m =&gt; m.Member)\n        .Include(p =&gt; p.WebPage)\n        .OrderByDescending(o =&gt; o.DatePublished)\n        .ToListAsync();\n    // I don't want to foreach, but without it, Article is always NULL for all items.\n    foreach (FrontPageItem item in items)\n    {\n        item.Article = await db.Articles\n            .Where(a =&gt; a.Id == item.ArticleId).FirstOrDefaultAsync();\n    }\n    List&lt;FrontPageItemViewModel&gt; vm = \n        auto.Map&lt;List&lt;FrontPageItemViewModel&gt;&gt;(items);\n    return View(vm);\n}\n</code></pre>\n\n<p>These are the models:</p>\n\n<pre><code>public class FrontPageItem\n{\n    public int Id { get; set; }\n    // ... some more properties\n    public int? ArticleId { get; set; }\n    public Article Article { get; set; }\n\n    public AdminUser CreatedBy { get; set; }\n    public AdminUser EditedBy { get; set; }\n    public AdminUser PublishedBy { get; set; }\n\n}\n\npublic class Article\n{\n    public int Id { get; set; }\n    // ... some more properties\n    public int? FrontPageItemId { get; set; }\n    public FrontPageItem FrontPageItem { get; set; }\n\n    public AdminUser CreatedBy { get; set; }\n    public AdminUser EditedBy { get; set; }\n    public AdminUser PublishReadyBy { get; set; }\n}\n\npublic class AdminUser\n{\n    public int Id { get; set; }\n    // ... some more properties\n    public int MemberId { get; set; }\n    public Member Member { get; set; }\n}\n\npublic class Member\n{\n    public int Id { get; set; }\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n    // ... some more properties\n    public AdminUser AdminUser { get; set; }\n}\n</code></pre>\n\n<p>This is the model-builder:</p>\n\n<pre><code>protected override void OnModelCreating(ModelBuilder modelBuilder)\n{\n    modelBuilder.Entity&lt;Article&gt;()\n        .HasOne(p =&gt; p.FrontPageItem)\n        .WithOne(i =&gt; i.Article)\n        .HasForeignKey&lt;Article&gt;(b =&gt; b.FrontPageItemId);\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "inversion-of-control", "castle-windsor", "castle"], "comments": [{"owner": {"reputation": 292, "user_id": 6884587, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9b01e900223b334ed43739d33951ae6?s=128&d=identicon&r=PG&f=1", "display_name": "Creepin", "link": "https://stackoverflow.com/users/6884587/creepin"}, "edited": false, "score": 1, "creation_date": 1556742632, "post_id": 55942172, "comment_id": 98537878, "body": "According to Mark Seeman&#39;s book &quot;Dependency Injection&quot; libraries should not have a composition root. So they are not concerned with composing the application. You not only have problems with the lifestyle, also with exchanging implementations. Just leave the complete registration to your app"}, {"owner": {"reputation": 188, "user_id": 6388303, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71f4af3f7f3c48720b72302592ecd571?s=128&d=identicon&r=PG&f=1", "display_name": "5NRF", "link": "https://stackoverflow.com/users/6388303/5nrf"}, "reply_to_user": {"reputation": 292, "user_id": 6884587, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9b01e900223b334ed43739d33951ae6?s=128&d=identicon&r=PG&f=1", "display_name": "Creepin", "link": "https://stackoverflow.com/users/6884587/creepin"}, "edited": false, "score": 1, "creation_date": 1556744386, "post_id": 55942172, "comment_id": 98538473, "body": "Don&#39;t see how that would work. As per the question the library has public interfaces which have internal implementations so the app cannot access the class to do the registration, Edited the question to clarify this."}, {"owner": {"reputation": 7000, "user_id": 246811, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6c015b66a2df6d37c45841579491f889?s=128&d=identicon&r=PG", "display_name": "Phil Degenhardt", "link": "https://stackoverflow.com/users/246811/phil-degenhardt"}, "edited": false, "score": 0, "creation_date": 1556846526, "post_id": 55942172, "comment_id": 98575570, "body": "Don&#39;t quite agree with Mark Seeman&#39;s approach, for exactly the reason mentioned by @5NRF. As a general principle, I would build a library installer in such a way that the behaviour of components supports any deployment scenarios. The &#39;Per Request&#39; lifestyle should be limited to as few points of composition as possible - ideally outside the library itself. You can then rely on the fact that a &#39;Transient&#39; component, that is a dependency of a &#39;Per Web Request&#39; component, in effect, automatically becomes a &#39;Per Web Request&#39; component."}], "answers": [{"comments": [{"owner": {"reputation": 188, "user_id": 6388303, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71f4af3f7f3c48720b72302592ecd571?s=128&d=identicon&r=PG&f=1", "display_name": "5NRF", "link": "https://stackoverflow.com/users/6388303/5nrf"}, "edited": false, "score": 0, "creation_date": 1556823802, "post_id": 55947216, "comment_id": 98569089, "body": "I think thats half way there... The enum does not have The LifeStylePerWebRequest :)"}, {"owner": {"reputation": 188, "user_id": 6388303, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71f4af3f7f3c48720b72302592ecd571?s=128&d=identicon&r=PG&f=1", "display_name": "5NRF", "link": "https://stackoverflow.com/users/6388303/5nrf"}, "edited": false, "score": 0, "creation_date": 1556824238, "post_id": 55947216, "comment_id": 98569276, "body": "We did a bit of digging into the differences between Transient and PerWebRequest today and I dont think that there is a significant advantage to PerWebRequest for our usage now so we will probably just end up using transient - would still be nice to know how/if its possible though!"}], "tags": [], "owner": {"reputation": 138, "user_id": 7812403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0p5lP.png?s=128&g=1", "display_name": "kurtmkurtm", "link": "https://stackoverflow.com/users/7812403/kurtmkurtm"}, "is_accepted": false, "score": 1, "last_activity_date": 1556780567, "creation_date": 1556780567, "answer_id": 55947216, "question_id": 55942172, "link": "https://stackoverflow.com/questions/55942172/looking-for-way-to-pass-windsor-lifestyle-into-a-library/55947216#55947216", "title": "Looking for way to pass Windsor lifestyle into a library", "body": "<p>You can set the lifestyle on the component registration using <strong><code>LifeStyle.Is(LifestyleType)</code></strong></p>\n\n<p>Something like this will allow you to pass the lifecycle in.</p>\n\n<pre><code>public void RegisterDependencies(IWindsorContainer container, Castle.Core.LifestyleType lifestyleType)\n{\n    container.Register(Component.For&lt;IBar&gt;().ImplementedBy&lt;Bar&gt;().LifeStyle.Is(lifestyleType));\n}\n</code></pre>\n\n<p>Alternatively, take a look at registering by convention with the assembly, this would allow control of the lifestyle from within the API project without needing a public implementation\n <a href=\"https://github.com/castleproject/Windsor/blob/master/docs/registering-components-by-conventions.md\" rel=\"nofollow noreferrer\">https://github.com/castleproject/Windsor/blob/master/docs/registering-components-by-conventions.md</a></p>\n"}, {"comments": [{"owner": {"reputation": 188, "user_id": 6388303, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71f4af3f7f3c48720b72302592ecd571?s=128&d=identicon&r=PG&f=1", "display_name": "5NRF", "link": "https://stackoverflow.com/users/6388303/5nrf"}, "edited": false, "score": 0, "creation_date": 1580482509, "post_id": 56091150, "comment_id": 106122943, "body": "Great answer - we ended up canning the project that this was related to so didn&#39;t need to do anything so I have only just seen your answer.  You&#39;re quite right with what you have said and I think reading your answer has cleared up some bits that I had&#39;t thought about before :)"}, {"owner": {"reputation": 188, "user_id": 6388303, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71f4af3f7f3c48720b72302592ecd571?s=128&d=identicon&r=PG&f=1", "display_name": "5NRF", "link": "https://stackoverflow.com/users/6388303/5nrf"}, "edited": false, "score": 0, "creation_date": 1580482557, "post_id": 56091150, "comment_id": 106122973, "body": "&quot;It&#39;d be even easier to use the library if you make most library classes public&quot;   I think that this is great advice, our thoughts were that we didn&#39;t want people to create instances of the internal classes - we didn&#39;t want them to be able to interact directly with the DbContext for example (or even be aware of it) but the way that we were trying to hide it away was flawed - I see that now :)  Thanks for the advice."}], "tags": [], "owner": {"reputation": 208473, "user_id": 126014, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/33526616d4a11f1630d4939b769cfbf9?s=128&d=identicon&r=PG", "display_name": "Mark Seemann", "link": "https://stackoverflow.com/users/126014/mark-seemann"}, "is_accepted": true, "score": 1, "last_activity_date": 1557584157, "creation_date": 1557584157, "answer_id": 56091150, "question_id": 55942172, "link": "https://stackoverflow.com/questions/55942172/looking-for-way-to-pass-windsor-lifestyle-into-a-library/56091150#56091150", "title": "Looking for way to pass Windsor lifestyle into a library", "body": "<blockquote>\n  <p>the shared library defines the interface IBar as public but the class Bar as internal so the API cannot do the registration</p>\n</blockquote>\n\n<p>Let's examine that design decision for a moment. While no external callers can create a <code>Bar</code> object, they <em>can</em> create an <code>IBar</code> object:</p>\n\n<pre><code>IWindsorContainer container = new WindsorContainer();\nSharedLibrary.RegisterDependancies(container);\nIBar bar = container.Resolve&lt;IBar&gt;();\n</code></pre>\n\n<p>There can be various reasons to keep the <code>Bar</code> class <code>internal</code>, but since you can already run code like the above, why not simply let the shared library expose a factory?</p>\n\n<pre><code>IBar bar = SharedLibrary.CreateBar();\n</code></pre>\n\n<p>That'd be much simpler and decouple the shared library from the container. In general, that's the best advice I can give regarding Dependency Injection and reusable libraries: Use Dependency Injection patterns, not containers. See my article <a href=\"https://blog.ploeh.dk/2014/05/19/di-friendly-library\" rel=\"nofollow noreferrer\">DI-Friendly Library</a> for more details.</p>\n\n<p>If you still want to use a DI Container in your host project (e.g. Wep API project), you can register <code>IBar</code> against that static factory method.</p>\n\n<h1>Internal classes</h1>\n\n<p>There are legitimate reasons why one would want to keep some classes <code>internal</code>, but I often see code bases where classes are <code>internal</code> for no apparent reason. My experience with decades of C# code is that the cases where classes are <code>internal</code> for no good reason far outweighs the cases where there's a good reason.</p>\n\n<p>Does <code>Bar</code> really have to be internal? Why?</p>\n\n<p>From the OP it's clear that <code>IBar</code> is implemented by <code>Bar</code>. This <em>could</em> be an artefact of reducing the question to essentials (good job doing that, BTW), but I get the impression that <code>Bar</code> is the <em>only</em> class that implements <code>IBar</code>. Is that the case?</p>\n\n<p>If so, the <code>Bar</code> class must expose the methods defined by <code>IBar</code>. Thus, the API of the class is already public, so why hide the class? The only thing hidden, then, is the constructor...</p>\n\n<h1>The perfect storm</h1>\n\n<p>Sometimes when I give advice like the above, I'm met with a response that that's not what the question was about. The question is about how to change Castle Windsor lifestyles (which, BTW, <a href=\"https://blog.ploeh.dk/2010/04/26/ChangingWindsorlifestylesafterthefact\" rel=\"nofollow noreferrer\">you can</a>).</p>\n\n<p>This question, on the other hand, is almost the perfect (little) storm that illustrates why reusable libraries shouldn't depend on DI Containers:</p>\n\n<ul>\n<li>The library should be usable in more than one context (web, console, desktop, etc.)</li>\n<li>The library depends on Castle Windsor</li>\n<li>Interfaces are public, but implementation classes aren't</li>\n</ul>\n\n<p>This complicates things - hence the question here on Stack Overflow.</p>\n\n<p>My best advice is to keep things simple. Removing the dependency on Castle Windsor will make library development and reuse easier, not harder.</p>\n\n<p>It'd be even easier to use the library if you make most library classes public.</p>\n"}], "owner": {"reputation": 188, "user_id": 6388303, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71f4af3f7f3c48720b72302592ecd571?s=128&d=identicon&r=PG&f=1", "display_name": "5NRF", "link": "https://stackoverflow.com/users/6388303/5nrf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 56091150, "answer_count": 2, "score": 2, "last_activity_date": 1557584157, "creation_date": 1556741670, "last_edit_date": 1556744665, "question_id": 55942172, "link": "https://stackoverflow.com/questions/55942172/looking-for-way-to-pass-windsor-lifestyle-into-a-library", "title": "Looking for way to pass Windsor lifestyle into a library", "body": "<p>We have a web api project which references a library that in turn is shared between many different systems.</p>\n\n<p>The library exposes a \"RegisterDependancies(IWindsorContainer container)\" function that when called will register all of the dependencies for that particular library.</p>\n\n<p>So when the web api application starts it does its own registrations and then calls the shared library, something like the following pseudo code :</p>\n\n<pre><code>public void SetupWindsor(){\n\n    IWindsorContainer container = new WindsorContainer();\n\n    container.Register(Component.For&lt;iFoo&gt;().ImplementedBy&lt;Foo&gt;());\n\n     SharedLibrary.RegisterDependancies(container);\n}\n</code></pre>\n\n<p>The shared library function looks a bit like this:</p>\n\n<pre><code>public void RegisterDependancies(IWindsorContainer container)\n{\n    container.Register(Component.For&lt;iBar&gt;().ImplementedBy&lt;Bar&gt;());\n    //In this instance Bar is internal so could not be registered by the api project.\n}\n</code></pre>\n\n<p>We now want the web api project to use the PerWebRequest lifestyle but other systems may want to use a different lifestyle (This decision will be down to whoever writes the client app - the shared library will be used in console and windows apps - so perwebrequest isn't suitable for them to use)</p>\n\n<p>We want to change the RegisterDependancies method so that we can pass in the lifestyle.</p>\n\n<p>Is it possible to do this with the PerWebRequest lifestyle? A few of us had a look and couldnt see how to do it - despite having done similar without issues with unity in the past.</p>\n\n<p>We are either looking for a way to resolve the problem in the way described, or if there is a better way to approach this that would also be helpful.</p>\n\n<p>Edit to clarify, the shared library defines the interface IBar as public but the class Bar as internal so the API cannot do the registration - unless there is some magic in windsor that I am unaware of.</p>\n"}, {"tags": ["c#", "csc", "folderbrowserdialog"], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 9342799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/850fz.png?s=128&g=1", "display_name": "Cazo", "link": "https://stackoverflow.com/users/9342799/cazo"}, "edited": false, "score": 0, "creation_date": 1556742583, "post_id": 55942300, "comment_id": 98537863, "body": "Thanks a lot, it worked! Do you know how I can hide the console, so that when the program runs it only shows the browserdialog but not the cmd prompt?"}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "reply_to_user": {"reputation": 119, "user_id": 9342799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/850fz.png?s=128&g=1", "display_name": "Cazo", "link": "https://stackoverflow.com/users/9342799/cazo"}, "edited": false, "score": 0, "creation_date": 1556742773, "post_id": 55942300, "comment_id": 98537922, "body": "Did you make it as a console app ?"}, {"owner": {"reputation": 119, "user_id": 9342799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/850fz.png?s=128&g=1", "display_name": "Cazo", "link": "https://stackoverflow.com/users/9342799/cazo"}, "edited": false, "score": 0, "creation_date": 1556742796, "post_id": 55942300, "comment_id": 98537929, "body": "I merely created a .cs file with vim and then ran it."}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "reply_to_user": {"reputation": 119, "user_id": 9342799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/850fz.png?s=128&g=1", "display_name": "Cazo", "link": "https://stackoverflow.com/users/9342799/cazo"}, "edited": false, "score": 0, "creation_date": 1556742914, "post_id": 55942300, "comment_id": 98537971, "body": "So you wrote a .cs file, compiled it with csc.exe? Did you specify /target:winexe when compiling? <a href=\"https://www.oreilly.com/library/view/net-framework-essentials/0596001657/apds06.html\" rel=\"nofollow noreferrer\">oreilly.com/library/view/net-framework-essentials/0596001657&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 119, "user_id": 9342799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/850fz.png?s=128&g=1", "display_name": "Cazo", "link": "https://stackoverflow.com/users/9342799/cazo"}, "edited": false, "score": 0, "creation_date": 1556742974, "post_id": 55942300, "comment_id": 98537994, "body": "No. I only wrote csc myFile.cs"}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "reply_to_user": {"reputation": 119, "user_id": 9342799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/850fz.png?s=128&g=1", "display_name": "Cazo", "link": "https://stackoverflow.com/users/9342799/cazo"}, "edited": false, "score": 0, "creation_date": 1556743041, "post_id": 55942300, "comment_id": 98538020, "body": "Odd mix of utilities; vim is a bit archaic - why not try Visual Studio Code, or the free version of Visual Studio? Anyhows, give that argument a try so it makes a windows forms app not a console one (console apps show a dos window when run)"}, {"owner": {"reputation": 119, "user_id": 9342799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/850fz.png?s=128&g=1", "display_name": "Cazo", "link": "https://stackoverflow.com/users/9342799/cazo"}, "edited": false, "score": 0, "creation_date": 1556743176, "post_id": 55942300, "comment_id": 98538078, "body": "It worked. The reason is that I do not want to create a form, I have tried that, but I think it&#39;s more messy. I just wanted to make a single file, easy to make and compile, that would give the exact same output. Again, thanks for you help."}], "tags": [], "owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "is_accepted": true, "score": 0, "last_activity_date": 1556742346, "creation_date": 1556742346, "answer_id": 55942300, "question_id": 55942164, "link": "https://stackoverflow.com/questions/55942164/folderbrowserdialog-wont-show-in-a-single-cs-file-without-form/55942300#55942300", "title": "FolderBrowserDialog won&#39;t show in a single .cs file without Form", "body": "<p>If you bypass the argument check and try to show the FBD in a debugger, with this exact code, you will see <em>System.Threading.ThreadStateException: 'Current thread must be set to single thread apartment (STA) mode before OLE calls can be made. Ensure that your Main function has STAThreadAttribute marked on it. This exception is only raised if a debugger is attached to the process.'</em></p>\n\n<p>As per the error message, this exception won't be raised if no debugger is attached. Put an <code>[STAThread]</code> attribute on your <code>Main</code> method, like you normally see in any windows forms app:</p>\n\n<pre><code>[STAThread]\npublic static void Main(string[] args)\n{ \n  ...\n</code></pre>\n\n<p>I also recommend you add an <code>else</code> for your outer if, to show an error if no arguments are passed (otherwise your app will exit silently</p>\n"}], "owner": {"reputation": 119, "user_id": 9342799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/850fz.png?s=128&g=1", "display_name": "Cazo", "link": "https://stackoverflow.com/users/9342799/cazo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 55942300, "answer_count": 1, "score": 0, "last_activity_date": 1556742346, "creation_date": 1556741636, "question_id": 55942164, "link": "https://stackoverflow.com/questions/55942164/folderbrowserdialog-wont-show-in-a-single-cs-file-without-form", "title": "FolderBrowserDialog won&#39;t show in a single .cs file without Form", "body": "<p>I am trying to code a program which is executed when a file is right clicked in windows, and then a context menu feature named 'Move to' executes a file in the windows registry HKEY ClASSES. It ought to parse in \"%1\" as argument when it executes, so that my program knows where the file is located. However, when I compile my single .cs file, the FolderBrowserDialog won't show. I am suspecting that it is because I haven't initialized some kind of form before I call it. Is it possible in some way to choose a folder from a single c# file without including Forms?</p>\n\n<pre><code>using System;\nusing System.IO;\nusing System.Reflection;\nusing System.Windows.Forms;\n\n\npublic class MoveTo : Form \n{\n\n    public static string current_file_path;\n    public static string new_file_path;\n    public static string file_name;\n\n    public static void Main(string[] args){\n        if (args.Length &gt; 0)\n        {\n            current_file_path = (string) args[0];\n            file_name = (string) current_file_path.Replace(Path.GetDirectoryName(Environment.GetCommandLineArgs()[1]), \"\");\n            var browser = new FolderBrowserDialog();\n\n            if (browser.ShowDialog()==DialogResult.OK)\n            {\n                new_file_path = browser.SelectedPath + file_name;\n            }else\n            {\n                Environment.Exit(1);\n            }\n            try\n            {\n                File.Move(current_file_path, new_file_path);    \n            }catch(Exception ex)\n            {\n                MessageBox.Show(ex.ToString());\n            }\n        }   \n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 169, "user_id": 9882967, "user_type": "registered", "profile_image": "https://graph.facebook.com/1260157827452211/picture?type=large", "display_name": "Rubzero", "link": "https://stackoverflow.com/users/9882967/rubzero"}, "is_accepted": true, "score": 0, "last_activity_date": 1557237450, "creation_date": 1557237450, "answer_id": 56024292, "question_id": 55942156, "link": "https://stackoverflow.com/questions/55942156/reduce-input-sensitivity-in-unity/56024292#56024292", "title": "Reduce input sensitivity in unity", "body": "<p>I finally found a solution. \nI'll post it just in case any one else needs it in the future.</p>\n\n<p>I calculate the current rotation based on the movement.</p>\n\n<pre><code>private void SetRotation() {\n    currentRotation = Quaternion.LookRotation(movement);\n}\n</code></pre>\n\n<p>Then, I created a second Quaternion to store the last rotation if is not the same than the current. I also use a counter to store the time a rotation has been faced before stopping the movement or changing the direction.</p>\n\n<pre><code>private void CheckSameRotation() {\n    if (lastRotation != currentRotation || movement == Vector3.zero) {\n            sameRotationTime = 0;\n            lastRotation = currentRotation;\n    }\n    else {\n        sameRotationTime += Time.deltaTime;\n    }\n}\n</code></pre>\n\n<p>Then, I used a bool to check if the time is high enough to make the rotation happen.</p>\n\n<pre><code>private void TimeAtSameRotation() {\n    canRotate = (sameRotationTime &lt; 0.015f) ? false : true;\n}\n</code></pre>\n\n<p>And then, I finally rotate the object if the movement is not zero and the condition \"canRotate\" is true.</p>\n\n<pre><code>private void Rotate() {\n    if (movement != Vector3.zero &amp;&amp; canRotate) {\n        transform.rotation = currentRotation;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 9882967, "user_type": "registered", "profile_image": "https://graph.facebook.com/1260157827452211/picture?type=large", "display_name": "Rubzero", "link": "https://stackoverflow.com/users/9882967/rubzero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 0, "accepted_answer_id": 56024292, "answer_count": 1, "score": 0, "last_activity_date": 1557237450, "creation_date": 1556741594, "last_edit_date": 1556742027, "question_id": 55942156, "link": "https://stackoverflow.com/questions/55942156/reduce-input-sensitivity-in-unity", "title": "Reduce input sensitivity in unity", "body": "<p>I've made an Isometric character controller so it can move and head on an isometric based perspective. The problem is that when I try to move using 2 keys (W + D, A + S...) and release those keys, the player tends to face the very last key that was released, so it is difficult to head a diagonal direction. This makes the character flip its rotation in the very last moment the keys are released. </p>\n\n<p>I've been thinking of using a kind of sleep or coroutine checking if two keys were pressed and released in a short period of time just not rotate it.</p>\n\n<p>There exist any not too rustic solution for this?</p>\n\n<p>Here is my code (I just copied it from here: <a href=\"https://www.studica.com/blog/isometric-camera-unity\" rel=\"nofollow noreferrer\">https://www.studica.com/blog/isometric-camera-unity</a>) </p>\n\n<pre><code>    private void SetIsometricDirections() {\n        vertical = Camera.main.transform.forward;\n        vertical.y = 0;\n        vertical = Vector3.Normalize(vertical);\n        horizontal = Quaternion.Euler(new Vector3(0, 90, 0)) * vertical;\n    }\n\n    private void Move() {\n        Vector3 horizontalMovement = horizontal * moveSpeed * Time.deltaTime * Input.GetAxis(\"HorizontalKey\");\n        Vector3 verticalMovement = vertical * moveSpeed * Time.deltaTime * Input.GetAxis(\"VerticalKey\");\n        Vector3 heading = Vector3.Normalize(horizontalMovement + verticalMovement);\n        Heading(heading);\n        transform.position += (horizontalMovement + verticalMovement);\n    }\n\n    private void Heading(Vector3 heading) {\n        transform.forward = heading;\n    }\n</code></pre>\n\n<p>The heading trick it's in the \"Heading\" method, obviously.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 1, "creation_date": 1556741658, "post_id": 55942135, "comment_id": 98537521, "body": "you&#39;ll have to see about safely using @Html.Raw"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1556745851, "post_id": 55942135, "comment_id": 98538990, "body": "See Wiki : <a href=\"https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>  You need to use System.Net.WebUtility.HtmlEncode(string) and System.Net.WebUtility.HtmlDecode(string) encode and decode special characters."}, {"owner": {"reputation": 34313, "user_id": 121309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a620f1f95441b8bde0e6c2c5140581d?s=128&d=identicon&r=PG", "display_name": "Hans Ke\ufb06ing", "link": "https://stackoverflow.com/users/121309/hans-ke%ef%ac%86ing"}, "edited": false, "score": 0, "creation_date": 1556812895, "post_id": 55942135, "comment_id": 98564294, "body": "Is that Language.Translate maybe converting that &#233; into an entity representation, which then gets encoded?"}], "owner": {"reputation": 11, "user_id": 10757274, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Tpe-LRy0cMI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gIdPz0hudT4bS6tewVqg2fCTpFAA/mo/photo.jpg?sz=128", "display_name": "steve", "link": "https://stackoverflow.com/users/10757274/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556741490, "creation_date": 1556741490, "question_id": 55942135, "link": "https://stackoverflow.com/questions/55942135/localization-in-french-text-not-displaying-properly-%c3%a9-to-233-instead-of-%c3%a9", "title": "Localization in french text not displaying properly: &#233; to &amp;#233; instead of &#233;", "body": "<p>I'm working with the localization file. I get the following text string in english \"name=\"Approved\" not being translated correctly in french, the issue is with the \"\u00e9\".  </p>\n\n<p>\"A Approuv\u00e9.\" in my resx file get displayed in my view as \"A Approuv &amp; # 233\";</p>\n\n<p>And I have the following value for my french translation: lan.fr-CA.resx:</p>\n\n<pre><code>&lt;data name=\"Approved\" xml:space=\"preserve\"&gt;\n&lt;value&gt;A approuv\u00e9&lt;/value&gt;\n</code></pre>\n\n<p>My chtml file is :</p>\n\n<pre><code>{ dataField: \"FormattedApprovedDate\", calculateSortValue: \n\"ApprovedDate\", dataType: \"date\", caption: \n'@(Language.Translate(Language.Keys.Approved, ViewBag))'},\n</code></pre>\n\n<p>A screen shot is included. Any idea...<a href=\"https://i.stack.imgur.com/HvTrA.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["c#", "cordova", "uwp", "windows-10-universal", "cordova-windows"], "answers": [{"tags": [], "owner": {"reputation": 9436, "user_id": 252627, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b8128cc645c1a135f1fc28ba1294b53c?s=128&d=identicon&r=PG", "display_name": "janpio", "link": "https://stackoverflow.com/users/252627/janpio"}, "is_accepted": true, "score": 1, "last_activity_date": 1557223761, "last_edit_date": 1557223761, "creation_date": 1556878284, "answer_id": 55967684, "question_id": 55942079, "link": "https://stackoverflow.com/questions/55942079/native-c-c-ui-plugins-for-cordova-windows/55967684#55967684", "title": "Native (C#, C++) UI plugins for Cordova Windows?", "body": "<p>Got a <a href=\"https://lists.apache.org/thread.html/e9d550ad2929cf695c601c1fc1be2b7fac38e29e55e871e0146b6d1f@%3Cdev.cordova.apache.org%3E\" rel=\"nofollow noreferrer\">response in a Apache Cordova mailing list</a> that I am reproducing here:</p>\n\n<blockquote>\n  <p>Unfortunately, No.  C#/C++ Portable Class Library ( PCL ) code cannot\n  render on top of the web component.\n  The libraries that you can use are limited in PCLs and for projects\n  targeting Windows Store it is not possible to render UI.<br>\n  If the entire cordova-windows platform were re-architected to be a C# or\n  C++ based application, with a native webview container in which to render,\n  then everything is possible.  This is a long risky road though ...\n  everything from the cordova.js and the bridge would have to change, and\n  every plugin would need to be rewritten.</p>\n</blockquote>\n"}], "owner": {"reputation": 9436, "user_id": 252627, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b8128cc645c1a135f1fc28ba1294b53c?s=128&d=identicon&r=PG", "display_name": "janpio", "link": "https://stackoverflow.com/users/252627/janpio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 55967684, "answer_count": 1, "score": 1, "last_activity_date": 1557223761, "creation_date": 1556741238, "last_edit_date": 1556878248, "question_id": 55942079, "link": "https://stackoverflow.com/questions/55942079/native-c-c-ui-plugins-for-cordova-windows", "title": "Native (C#, C++) UI plugins for Cordova Windows?", "body": "<p>For Cordova iOS and Cordova Android it is possible to create plugins that create native UI on top of your app - you just include the libraries in your plugin and execute their API. <a href=\"https://github.com/apache/cordova-plugin-inappbrowser/blob/a162bd90764e7b3c6a5f8b2f394e7ff71ba166d5/src/android/InAppBrowser.java#L920-L922\" rel=\"nofollow noreferrer\">Example for Android InAppBrowser</a>.</p>\n\n<p>For Cordova Windows, the native code <em>is</em> HTML and Javascript, hence the InAppBrowser plugin also <a href=\"https://github.com/apache/cordova-plugin-inappbrowser/blob/master/src/windows/InAppBrowserProxy.js#L177-L182\" rel=\"nofollow noreferrer\">adds a standard HTML tag for a Webview (or even plain Iframe) to get the same effect</a>.</p>\n\n<p>But you can also create plugins for Cordova Windows that use C# or C++ native code via a Windows Runtime Component. A public example is the <a href=\"https://github.com/apache/cordova-plugin-globalization/tree/master/src/windows/\" rel=\"nofollow noreferrer\">globalization plugin that uses a <code>.winmd</code> file</a> to offer APIs to the Javascript code  (<a href=\"https://github.com/apache/cordova-plugin-globalization/blob/master/src/windows/GlobalizationProxy/GlobalizationProxy/Globalization/GlobalizationImpl.cs\" rel=\"nofollow noreferrer\">source code for this</a>). This works great and is pretty awesome.</p>\n\n<p>Unfortunately all the plugins that I could find use this C#/C++ native plugin mechanism only to receive some method call, do something with the parameters and return some data. None of those open any windows or create any other GUI (that might for example be offered by an external C# SDK).</p>\n\n<p>How can one create a plugin for Cordova Windows that creates User Interface with native (C#, C++) code? Is this possible at all?</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.ios"], "comments": [{"owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 0, "creation_date": 1556740930, "post_id": 55941977, "comment_id": 98537276, "body": "could you use an object with a unique ID to set the selected index?"}], "answers": [{"tags": [], "owner": {"reputation": 7805, "user_id": 1107580, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dXu86.jpg?s=128&g=1", "display_name": "Iain Smith", "link": "https://stackoverflow.com/users/1107580/iain-smith"}, "is_accepted": true, "score": 2, "last_activity_date": 1556873442, "last_edit_date": 1556873442, "creation_date": 1556832967, "answer_id": 55960571, "question_id": 55941977, "link": "https://stackoverflow.com/questions/55941977/how-to-choose-tabbarcontroller-selected-index-when-theres-more-than-5-tab-bar-i/55960571#55960571", "title": "How to choose TabBarController Selected Index when there&#39;s more than 5 tab bar items &amp; user can reorder them?", "body": "<p>You could:</p>\n\n<ul>\n<li><p>Set the <code>Tag</code> property on the view, e.g., services view tag set to 5</p></li>\n<li><p>Use LINQ to select the view controller</p></li>\n<li>Then set the <code>SelectedViewController</code> on the <code>TabBarController</code></li>\n</ul>\n\n<p>Like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>servicesButton.TouchUpInside += (sender, e) =&gt;\n{\n    var servicesViewController = TabBarController.ViewControllers.FirstOrDefault(x =&gt; x.View.Tag == 5);\n    if(servicesViewController != null)\n    {\n        TabBarController.SelectedViewController = servicesViewController;\n    }\n};\n</code></pre>\n\n<p>You can set the tag either in the storyboard/xib or programmatically.</p>\n"}], "owner": {"reputation": 114, "user_id": 8066411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89757308cf4f81abdf9fc8bd46b3eb7e?s=128&d=identicon&r=PG", "display_name": "Todd Matthews", "link": "https://stackoverflow.com/users/8066411/todd-matthews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 55960571, "answer_count": 1, "score": 1, "last_activity_date": 1556873442, "creation_date": 1556740703, "last_edit_date": 1556753784, "question_id": 55941977, "link": "https://stackoverflow.com/questions/55941977/how-to-choose-tabbarcontroller-selected-index-when-theres-more-than-5-tab-bar-i", "title": "How to choose TabBarController Selected Index when there&#39;s more than 5 tab bar items &amp; user can reorder them?", "body": "<p>I have an Xamarin.iOS app with more than 5 tab bar items. In the home screen of this app the tab bar is hidden. \nYou can still navigate the app via UIButtons in the view instead of the Tab Bar. </p>\n\n<p>When there was less than 5 tabBar items I could easily navigate by selecting the index on the touch of the button:</p>\n\n<pre><code>servicesButton.TouchUpInside += (sender, e) =&gt;\n    {              \n        TabBarController.SelectedIndex = 1;\n    };\n</code></pre>\n\n<p>Now since I have more than 5 tab bar items and they can be reordered by the user, I can't use hard coded indices.</p>\n\n<p>My current working solution is this:</p>\n\n<pre><code>servicesButton.TouchUpInside += (sender, e) =&gt;\n    {\n        for (int i = 0; i &lt; TabBarController.ViewControllers.Length; i++)\n        {\n            if (TabBarController.ViewControllers[i].Title.Equals(\"Services\"))\n            {\n                TabBarController.SelectedIndex = i;\n            }\n        }\n    };\n</code></pre>\n\n<p>This seems to work but does anybody know of a better way to go about accomplishing this task? </p>\n"}, {"tags": ["c#", "visual-studio-2017"], "comments": [{"owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 1, "creation_date": 1556740635, "post_id": 55941939, "comment_id": 98537150, "body": "if the folder structure changes, it can cause the projects to not be found, in which case you usually need to unload the projects and then load existing projects. My guess is the folder structure changed"}, {"owner": {"reputation": 21215, "user_id": 79677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fc1ca130deb434dfe5bcc19fbbebe48a?s=128&d=identicon&r=PG&f=1", "display_name": "CBarr", "link": "https://stackoverflow.com/users/79677/cbarr"}, "edited": false, "score": 1, "creation_date": 1556740669, "post_id": 55941939, "comment_id": 98537174, "body": "When you select &quot;install missing features&quot; what does it do?  I&#39;ve seen this happen before when a solution has a project written in a language that VS doesn&#39;t support out-of-the-box and it needs a plugin/extension installed to work.  After that though, it &quot;just worked&quot; for me."}, {"owner": {"reputation": 53946, "user_id": 113794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7fbfca0882062e4be43e0ee3514c6338?s=128&d=identicon&r=PG", "display_name": "Rubens Farias", "link": "https://stackoverflow.com/users/113794/rubens-farias"}, "edited": false, "score": 3, "creation_date": 1556740670, "post_id": 55941939, "comment_id": 98537175, "body": "if you do not have the required features to build on such projects, what would be expected to happen?"}, {"owner": {"reputation": 2223, "user_id": 5362552, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/64254c97ca3295bc25f024cc2c1a5d41?s=128&d=identicon&r=PG&f=1", "display_name": "Saif", "link": "https://stackoverflow.com/users/5362552/saif"}, "edited": false, "score": 0, "creation_date": 1556740875, "post_id": 55941939, "comment_id": 98537257, "body": "unload the projects (unloaded project) then load again"}], "answers": [{"tags": [], "owner": {"reputation": 1257, "user_id": 867891, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea790dc98b4a896b7401b6dfd65b99c9?s=128&d=identicon&r=PG", "display_name": "Victor P", "link": "https://stackoverflow.com/users/867891/victor-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1556740728, "creation_date": 1556740728, "answer_id": 55941987, "question_id": 55941939, "link": "https://stackoverflow.com/questions/55941939/visual-studio-2017-not-all-projects-loaded/55941987#55941987", "title": "Visual Studio 2017: not all projects loaded", "body": "<p>Install missing features will install any .NET SDKs that you may be missing. For example, if one of your projects targets .NET Core 2.2 but you don't have that installed, \"Install Missing Features\" will install it for you. Or it could also be project types.</p>\n"}], "owner": {"reputation": 903, "user_id": 659922, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fe9aab6a750fe881cc58511079ff9928?s=128&d=identicon&r=PG", "display_name": "J.E.Y", "link": "https://stackoverflow.com/users/659922/j-e-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "closed_date": 1556755003, "answer_count": 1, "score": 0, "last_activity_date": 1556740728, "creation_date": 1556740520, "question_id": 55941939, "link": "https://stackoverflow.com/questions/55941939/visual-studio-2017-not-all-projects-loaded", "closed_reason": "Needs more focus", "title": "Visual Studio 2017: not all projects loaded", "body": "<p>I have a C# Visual Studio solution that contains 195 projects. I noticed some projects failed to be loaded (it shows \"unavailable\" besides the project name), howeever from the context menu we can choose to select \"install missing feature(s)\" to load the projects manually and compile them one by one. </p>\n\n<p>The question is, why Visual Studio (I use 2017 professional) couldn't load ALL projects once and for all in the first place? Is it a bug with the IDE?</p>\n"}, {"tags": ["c#", "asp.net", "model-view-controller", "inputstream"], "comments": [{"owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 0, "creation_date": 1556740503, "post_id": 55941890, "comment_id": 98537096, "body": "Have you tried using the &quot;using&quot; block for application.Request.InputStream? The error basically means the input stream from the first call is still open when you make the second call. If you use the using block, then the clean up for the first request should happen."}, {"owner": {"reputation": 1, "user_id": 4187110, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zZG8RY4tNm0/AAAAAAAAAAI/AAAAAAAAB0I/xQxjfD2iXX8/photo.jpg?sz=128", "display_name": "Douglas Doughty", "link": "https://stackoverflow.com/users/4187110/douglas-doughty"}, "reply_to_user": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 0, "creation_date": 1556740806, "post_id": 55941890, "comment_id": 98537225, "body": "I only added the inputStream logging after I started receiving the error.  Is there any way to ensure the inputStream is read/closed properly?"}, {"owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 0, "creation_date": 1556741219, "post_id": 55941890, "comment_id": 98537372, "body": "<a href=\"https://stackoverflow.com/questions/8110016/what-is-request-inputstream-and-when-to-use-it\" title=\"what is request inputstream and when to use it\">stackoverflow.com/questions/8110016/&hellip;</a> describes broader scope of when this should be used so you can determine if you actually need to be using the request stream. <a href=\"https://gist.github.com/leggetter/769688\" rel=\"nofollow noreferrer\">gist.github.com/leggetter/769688</a> describes what I was talking about the &quot;using&quot; block that will handle the clean up and rid you of that I/O error."}, {"owner": {"reputation": 1, "user_id": 4187110, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zZG8RY4tNm0/AAAAAAAAAAI/AAAAAAAAB0I/xQxjfD2iXX8/photo.jpg?sz=128", "display_name": "Douglas Doughty", "link": "https://stackoverflow.com/users/4187110/douglas-doughty"}, "reply_to_user": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 1, "creation_date": 1556805173, "post_id": 55941890, "comment_id": 98559872, "body": "I appreciate the answer.  I don&#39;t want to use the inputStream.  I find that if I do NOT read the inputStream before passing control, the application fails because the body of the request does not make it to the controller&#39;s method."}, {"owner": {"reputation": 83, "user_id": 4905495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c13b52bae8bf6fcfffbc140a240673b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Meservy", "link": "https://stackoverflow.com/users/4905495/andrew-meservy"}, "edited": false, "score": 0, "creation_date": 1556819647, "post_id": 55941890, "comment_id": 98567218, "body": "ah I see, I think I misunderstood your question. Thanks for clarifying. This Application_BeginRequest method would run before every api request, removing the &quot;Server&quot; response header, correct? So why does not removing that particular header in the response cause it not to hit your endpoint? It would make much more sense if you were altering the request. Have you tried using Postman or Fiddler to try to directly hit the api endpoint?"}], "owner": {"reputation": 1, "user_id": 4187110, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zZG8RY4tNm0/AAAAAAAAAAI/AAAAAAAAB0I/xQxjfD2iXX8/photo.jpg?sz=128", "display_name": "Douglas Doughty", "link": "https://stackoverflow.com/users/4187110/douglas-doughty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556740649, "creation_date": 1556740281, "last_edit_date": 1556740649, "question_id": 55941890, "link": "https://stackoverflow.com/questions/55941890/why-do-i-have-to-read-the-inputstream-in-the-global-asax-application-beginreques", "title": "Why do I have to read the inputStream in the Global.asax Application_BeginRequest method passing to the controler?", "body": "<p>I have a large body of JSON being sent to an endpoint of a .NET MVC app.  The endpoint will always successfully execute the first time.  The next time I use the endpoint, I get:</p>\n\n<blockquote>\n  <p>System.Web.HttpException (0x80004005): An error occurred while communicating with the remote host. The error code is 0x800703E5. ---> System.Runtime.InteropServices.COMException (0x800703E5): Overlapped I/O operation is in progress. (Exception from HRESULT: 0x800703E5)</p>\n</blockquote>\n\n<p>If I reset IIS, the problem goes away for only 1 request.  If I READ the inputStream in the Global.Asax.cs file, the problem goes away.</p>\n\n<p>Here's the method signature in the controller:</p>\n\n<pre><code>public async Task&lt;HttpResponseMessage&gt; Post(int personId, int visitId, int documentId, [FromBody]StoredDocumentDetails value, string locale = null)\n</code></pre>\n\n<p>Here's the Global.asax.cs method:</p>\n\n<pre><code>    protected void Application_BeginRequest(object sender, EventArgs e)\n    {\n        var application = sender as HttpApplication;\n        if (application != null &amp;&amp; application.Context != null)\n        {\n            application.Context.Response.Headers.Remove(\"Server\");\n        }\n        if (Log.IsDebugEnabled() &amp;&amp; application != null)\n        {\n\n            var requestBytes = new byte[application.Request.InputStream.Length];\n            var currentPosition = application.Request.InputStream.Position;\n            application.Request.InputStream.Read(requestBytes, 0, requestBytes.Length);\n            application.Request.InputStream.Position = currentPosition;\n            var requestBody = Encoding.UTF8.GetString(requestBytes);\n            Log.DebugFormat(\"Incoming Request Body: {0}\", requestBody);\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "singleton", "hololens", "partial-classes"], "comments": [{"owner": {"reputation": 170, "user_id": 3093154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9hrDE.jpg?s=128&g=1", "display_name": "scorkla", "link": "https://stackoverflow.com/users/3093154/scorkla"}, "edited": false, "score": 0, "creation_date": 1556741519, "post_id": 55941830, "comment_id": 98537480, "body": "In your other script, smm is a SpatialMapping object, not a SpatialMappingManager object."}, {"owner": {"reputation": 395, "user_id": 9881889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45325ec593d49c6418f0f5a8ecff1321?s=128&d=identicon&r=PG&f=1", "display_name": "A.Crane", "link": "https://stackoverflow.com/users/9881889/a-crane"}, "reply_to_user": {"reputation": 170, "user_id": 3093154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9hrDE.jpg?s=128&g=1", "display_name": "scorkla", "link": "https://stackoverflow.com/users/3093154/scorkla"}, "edited": false, "score": 0, "creation_date": 1556741627, "post_id": 55941830, "comment_id": 98537509, "body": "Correct, however I am unable to create a SpatialMappingManager object. It does not recognize &quot;SpatialMappingManager&quot; as a possible class type. I was hoping there was some way to access the partial class through the SpatialMapping class instance."}, {"owner": {"reputation": 170, "user_id": 3093154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9hrDE.jpg?s=128&g=1", "display_name": "scorkla", "link": "https://stackoverflow.com/users/3093154/scorkla"}, "edited": false, "score": 0, "creation_date": 1556742476, "post_id": 55941830, "comment_id": 98537830, "body": "Are you referencing the SpatialMappingManager through by using or specifying its namespace, HoloToolkit.Unity.SpatialMapping? I can&#39;t think of a reason it would be due to it being a singleton or partial class."}, {"owner": {"reputation": 170, "user_id": 3093154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9hrDE.jpg?s=128&g=1", "display_name": "scorkla", "link": "https://stackoverflow.com/users/3093154/scorkla"}, "edited": false, "score": 0, "creation_date": 1556742994, "post_id": 55941830, "comment_id": 98538001, "body": "Also, since it&#39;s a singleton, you would probably use SpatialMappingManager.Instance instead of GetComponent."}, {"owner": {"reputation": 395, "user_id": 9881889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45325ec593d49c6418f0f5a8ecff1321?s=128&d=identicon&r=PG&f=1", "display_name": "A.Crane", "link": "https://stackoverflow.com/users/9881889/a-crane"}, "reply_to_user": {"reputation": 170, "user_id": 3093154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9hrDE.jpg?s=128&g=1", "display_name": "scorkla", "link": "https://stackoverflow.com/users/3093154/scorkla"}, "edited": false, "score": 0, "creation_date": 1556749260, "post_id": 55941830, "comment_id": 98539983, "body": "I was able to get it to work, thank you for your comments. The confusion came from the fact that the HoloToolkit comes with a &quot;SpatialMapping&quot; prefab (with all SpatialMapping scripts on it), as well as a &quot;SpatialMapping&quot; class, as well as a &quot;SpatialMapping&quot; namespace. I was incorrectly creating a SpatialMapping class instance to try to access classes in the namespace, which are separate from the class. I instead included the SpatialMapping namespace and set the SpatialMappingManager (smm) to SpatialMappingManager.Instance like you said. From there I was able to access its members."}], "owner": {"reputation": 395, "user_id": 9881889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45325ec593d49c6418f0f5a8ecff1321?s=128&d=identicon&r=PG&f=1", "display_name": "A.Crane", "link": "https://stackoverflow.com/users/9881889/a-crane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556739994, "creation_date": 1556739994, "question_id": 55941830, "link": "https://stackoverflow.com/questions/55941830/changing-the-material-of-the-hololens-spatialmapping-prefab-from-holotoolkit-thr", "title": "Changing the material of the Hololens SpatialMapping prefab from Holotoolkit through script?", "body": "<p>I am creating a project for the Microsoft Hololens through Unity3D, version 2017.4.16f1. I have the HoloToolkit added to my project, and am using its default SpatialMapping prefab. I am also using the HololensShaderPack found on the asset store and am using one of its provided shaders on the SpatialMapping prefab.</p>\n\n<p>My application involves tapping on an object/surface to take a color from it and change the color of the spatial mesh's material's color to be the color you \"stole\" from that surface. The tapping works fine, as well as the color-grabbing. All I have to do is access the material found in the SpatialMappingManager script.</p>\n\n<p>My problem is I am not sure how to access a member of a partial class, especially if that partial class is a singleton. I am not too familiar with this aspect of C# and have tried to find a solution online.</p>\n\n<p>The SpatialMappingManager script is defined as follows, with irrelevant parts omitted:</p>\n\n<pre><code>namespace HoloToolkit.Unity.SpatialMapping\n{\n    [RequireComponent(typeof(SpatialMappingObserver))]\n    public partial class SpatialMappingManager : Singleton&lt;SpatialMappingManager&gt;\n    {\n\n        [Tooltip(\"The material to use for rendering spatial mapping data.\")]\n        [SerializeField]\n        private Material surfaceMaterial;\n\n        public Material SurfaceMaterial\n        {\n            get\n            {\n                return surfaceMaterial;\n            }\n            set\n            {\n                if (value != surfaceMaterial)\n                {\n                    surfaceMaterial = value;\n                    SetSurfaceMaterial(surfaceMaterial);\n                }\n            }\n        }\n\n        public void SetSurfaceMaterial(Material setSurfaceMaterial)\n        {\n            SurfaceMaterial = setSurfaceMaterial;\n            if (DrawVisualMeshes)\n            {\n                foreach (MeshRenderer sourceRenderer in Source.GetMeshRenderers())\n                {\n                    if (sourceRenderer != null)\n                    {\n                        sourceRenderer.sharedMaterial = setSurfaceMaterial;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>In my other script, I am trying this:</p>\n\n<pre><code>public GameObject sm; //assigned in-editor\npublic SpatialMapping smm;\n\nvoid Start()\n{\n    smm = sm.GetComponent&lt;SpatialMapping&gt;();\n}\n\nvoid ChangeColor(Color newColor) //this is called in an omitted part of the script that assigns newColor\n{\n    //what I WANT to do:\n    Material newMat = smm.getSurfaceMaterial();\n    newMat.color = newColor;\n    smm.SetSurfaceMaterial(newMat);\n\n}\n</code></pre>\n\n<p>However, it won't let me access these member variables/functions of the partial class. I also don't think Is it because it's a singleton, or am I unable to access members of a partial class like this? How else could I go about doing this?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 1, "creation_date": 1556740854, "post_id": 55941706, "comment_id": 98537244, "body": "There are some missing details. <code>parentForm.UpdateStudent(index, Form1);</code> - we can&#39;t see where <code>index</code> comes from and we can&#39;t see the <code>UpdateStudent</code> method which is where the problem is happening. Somewhere in that method you&#39;re trying to get an item from a collection using an index, but that index represents a position that doesn&#39;t exist in the collection. Set a breakpoint at that spot in the code. Look at the index value you&#39;re using and then see how many items are in the collection. That should point you in the right direction."}, {"owner": {"reputation": 11, "user_id": 10555002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/784c3bddade92e9f56bfd79d049b55a9?s=128&d=identicon&r=PG&f=1", "display_name": "Triptonix", "link": "https://stackoverflow.com/users/10555002/triptonix"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556741146, "post_id": 55941706, "comment_id": 98537354, "body": "I&#39;ll add the update method, but I also included the source code to save some space."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 1, "creation_date": 1556741258, "post_id": 55941706, "comment_id": 98537389, "body": "It&#39;s important to just include the relevant code. That way someone can see the part where the problem is without having to download anything else. It also helps to keep the question self-contained... but we&#39;re still missing <code>parentForm.UpdateStudent</code>. It&#39;s calling that method and that&#39;s where the exception is, but I don&#39;t see that method."}, {"owner": {"reputation": 11, "user_id": 10555002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/784c3bddade92e9f56bfd79d049b55a9?s=128&d=identicon&r=PG&f=1", "display_name": "Triptonix", "link": "https://stackoverflow.com/users/10555002/triptonix"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556741796, "post_id": 55941706, "comment_id": 98537586, "body": "Its at the top of frmUpdateStudent. I added it."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556741912, "post_id": 55941706, "comment_id": 98537636, "body": "I&#39;m literally searching the text of this page for <code>UpdateStudent</code>. There&#39;s no method here called <code>UpdateStudent</code>."}, {"owner": {"reputation": 11, "user_id": 10555002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/784c3bddade92e9f56bfd79d049b55a9?s=128&d=identicon&r=PG&f=1", "display_name": "Triptonix", "link": "https://stackoverflow.com/users/10555002/triptonix"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556742091, "post_id": 55941706, "comment_id": 98537706, "body": "Sorry, I added it in Form1 now."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556743340, "post_id": 55941706, "comment_id": 98538139, "body": "<code>UpdateStudent</code> calls <code>GetStudent</code>. <code>GetStudent</code> does <code>return studentList[id];</code>. Set a breakpoint right there. What is the value of <code>id</code>, and how many items are in <code>studentList</code>. 100% certain you will find something unexpected there."}, {"owner": {"reputation": 11, "user_id": 10555002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/784c3bddade92e9f56bfd79d049b55a9?s=128&d=identicon&r=PG&f=1", "display_name": "Triptonix", "link": "https://stackoverflow.com/users/10555002/triptonix"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556746082, "post_id": 55941706, "comment_id": 98539074, "body": "students.SelectedIndex is -1. It&#39;s the index of the listbox."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556746337, "post_id": 55941706, "comment_id": 98539163, "body": "When you get to the `GetStudent1 method, is id -1? If so, that &#39;s the problem. If there&#39;s one item in the collection then the only index is 0. If there are two, the indexes are 0 and 1. If the collection is empty then any value will throw that exception. But there will never be an item with index -1."}, {"owner": {"reputation": 11, "user_id": 10555002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/784c3bddade92e9f56bfd79d049b55a9?s=128&d=identicon&r=PG&f=1", "display_name": "Triptonix", "link": "https://stackoverflow.com/users/10555002/triptonix"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556746563, "post_id": 55941706, "comment_id": 98539242, "body": "Yes, the value is empty until the user adds a student. They press add from the main form then it loads a new window and lets them add to the listbox in the main form. So once the update form loads its not selecting the index anymore? Even though you have to select it in order to press update? Once you select a user from the list and press update it shows in the Name textfield and presents the right scores. I figured that means it was selected."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556746758, "post_id": 55941706, "comment_id": 98539290, "body": "Unfortunately I&#39;ve gotten as far as I can go. At this point we&#39;re into debugging the app, and there&#39;s a lot to that."}, {"owner": {"reputation": 11, "user_id": 10555002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/784c3bddade92e9f56bfd79d049b55a9?s=128&d=identicon&r=PG&f=1", "display_name": "Triptonix", "link": "https://stackoverflow.com/users/10555002/triptonix"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556746884, "post_id": 55941706, "comment_id": 98539318, "body": "Okay, thanks for the help. If you have the time download my solution I&#39;ve included and see if you notice anything else.  I&#39;ve been stuck on this for a couple days and I&#39;m going to continue to work on it. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10555002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/784c3bddade92e9f56bfd79d049b55a9?s=128&d=identicon&r=PG&f=1", "display_name": "Triptonix", "link": "https://stackoverflow.com/users/10555002/triptonix"}, "is_accepted": false, "score": 0, "last_activity_date": 1556752481, "creation_date": 1556752481, "answer_id": 55943836, "question_id": 55941706, "link": "https://stackoverflow.com/questions/55941706/update-data-in-a-listbox-from-another-form/55943836#55943836", "title": "Update data in a listbox from another form", "body": "<p>So turns out the index of my list was -1 when I was trying to call it. I set the SelectedIndex as a local variable then called it. I guess the selected index had to be checked before I could execute it. This the code I fixed.</p>\n\n<pre><code>private void students_SelectedIndexChanged_1(object sender, EventArgs e) {\n\n_selectedIndex = students.SelectedIndex;\n\nif (_selectedIndex &gt; -1)\n{\n\nStudent student = GetStudent(_selectedIndex); //select index from list\n\nStudent students = GetStudent(_selectedIndex); //select index from list\nScoreTotalTextBox.Text = student.GetScoreTotal().ToString(); //show Score Total to box\nScoreCountTextBox.Text = student.GetScoreCount().ToString(); //show Score Count to box\nScoreAverageTextBox.Text = student.GetScoreAverage().ToString(); //show Score Average to box \n}\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10555002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/784c3bddade92e9f56bfd79d049b55a9?s=128&d=identicon&r=PG&f=1", "display_name": "Triptonix", "link": "https://stackoverflow.com/users/10555002/triptonix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556774672, "creation_date": 1556739378, "last_edit_date": 1556774672, "question_id": 55941706, "link": "https://stackoverflow.com/questions/55941706/update-data-in-a-listbox-from-another-form", "title": "Update data in a listbox from another form", "body": "<p>I'm creating a program that maintains student scores. I've created a class called students that stores the data and displays it in a list box. Once the user clicks Add a new form (<code>frmAddStudent</code>) loads that allow them to add the user by name and their scores and display it in the list box in the main form. It also allows the update/delete functions. I can successfully add students to the list and edit them, but when I press the ok button in the update students form I get the error</p>\n\n<blockquote>\n  <p>System.ArgumentOutOfRangeException: 'Index was out of range. Must be non-negative and less than the size of the collection. Parameter name: index'</p>\n</blockquote>\n\n<p>I looked up that this means its thrown when the value of an argument is outside the allowable range of values as defined by the invoked method, but not sure how it applies here. My value I enter when updating is within range.</p>\n\n<p>Source code below</p>\n\n<p><a href=\"https://github.com/Triptonix/Student.git\" rel=\"nofollow noreferrer\">https://github.com/Triptonix/Student.git</a></p>\n\n<p>frmUpdateStudent.cs</p>\n\n<pre><code>private void UpdateButton_Click_1(object sender, EventArgs e)  //open update form for current student\n{\n    Student Form1 = new Student();\n    Form1.Name = StudentName.Text;\n    parentForm.UpdateStudent(index, Form1);\n    Close();\n}\n</code></pre>\n\n<p>Form1.cs</p>\n\n<pre><code>public List&lt;Student&gt; studentList = new List&lt;Student&gt;();\n\npublic Student GetStudent(int id)  //Get student index\n{\n    return studentList[id];\n}\n\npublic void UpdateStudentList()\n{\n    students.DataSource = null;\n    students.DataSource = studentList;\n    students.DisplayMember = \"Name\";\n}\n\npublic bool UpdateStudent(int originalIndex, Student studentToEdit)\n{\n    try\n    {\n        Student student = GetStudent(originalIndex);  //select index of student\n        student.Name = studentToEdit.Name;  //name of student\n        studentList.RemoveAt(originalIndex); //remove the student at the index selected\n        studentList.Insert(originalIndex, student); //insert new student at index.\n        UpdateStudentList(); //update student list\n    }\n    catch { return false; }\n    return true;\n}\n</code></pre>\n\n<p>Student.cs</p>\n\n<pre><code>public class Student\n{\n    public List&lt;int&gt; Scores = new List&lt;int&gt;();\n    public string Name { get; set; }\n    public bool AddScore(int score)\n    {\n        try\n        {\n            Scores.Add(score);\n        }\n        catch { return false; }\n        return true;\n    }\n    public List&lt;int&gt; GetScores()\n    {\n        return Scores;\n    }\n    public int GetScoreAt(int index)\n    {\n        return (int)Scores[index];\n    }\n    public int GetScoreTotal()\n    {\n        int sum = 0;\n        foreach (int score in Scores)\n        {\n            sum += score;\n        }\n        return sum;\n    }\n    public int GetScoreCount()\n    {\n        return Scores.Count;\n    }\n    public int GetScoreAverage()\n    {\n        return GetScoreTotal() / GetScoreCount();\n    }\n    public void DestroyScores()\n    {\n        Scores = new List&lt;int&gt;();\n    }\n}\n</code></pre>\n\n<p><strong>frmUpdateStudent</strong></p>\n\n<pre><code>public partial class frmUpdateStudent : Form\n{\n    private Form1 parentForm;  //main form\n    private Student studentToEdit; //student list\n    private int index; //index\n\n    public frmUpdateStudent(Form1 parentForm, int index)  //update parent form (Form1) with the new student and scores\n    {\n        this.parentForm = parentForm;\n        this.index = index;\n        studentToEdit = this.parentForm.GetStudent(index);\n\n        InitializeComponent();\n\n        StudentName.Text = studentToEdit.Name;\n        UpdateScoreDisplay();\n    }\n\n    public void AddScoreToStudent(int value) //add score to current student and display in the list\n    {\n        studentToEdit.AddScore(value);\n        UpdateScoreDisplay();\n    }\n\n    public void UpdateScoreAtIndex(int id, int value)  //update a score selected from the list\n    {\n        studentToEdit.GetScores()[id] = value;\n        UpdateScoreDisplay();\n    }\n\n    public int GetScoreAtIndex(int id)  //get the score index\n    {\n        return studentToEdit.GetScoreAt(id);\n    }\n\n    private void UpdateScoreDisplay()  //update the score display list\n    {\n        CurrentScores.DataSource = null;\n        CurrentScores.DataSource = studentToEdit.GetScores();\n    }\n\n    private void AddScoreButton_Click(object sender, EventArgs e)  //open the add score form\n    {\n        frmAddScore addScoreForm = new frmAddScore(this);\n        addScoreForm.Show();\n    }\n\n    private void RemoveScoreButton_Click_1(object sender, EventArgs e) //remove a score from current index and update display list\n    {\n        studentToEdit.GetScores().RemoveAt(CurrentScores.SelectedIndex);\n        UpdateScoreDisplay();\n    }\n\n    private void ClearScoresButton_Click_1(object sender, EventArgs e) //clear all scores\n    {\n        studentToEdit.DestroyScores();\n        UpdateScoreDisplay();\n    }\n\n    private void CloseButton_Click_1(object sender, EventArgs e)\n    {\n        Close();  //close form\n    }\n\n    private void UpdateButton_Click_1(object sender, EventArgs e)  //open update form for current student\n    {\n        Student Form1 = new Student();\n        Form1.Name = StudentName.Text;\n        parentForm.UpdateStudent(index, Form1);\n        Close();\n    }\n\n    private void UpdateScoresButton_Click(object sender, EventArgs e)\n    {\n        frmUpdateScore updateScoreForm = new frmUpdateScore(this, CurrentScores.SelectedIndex);\n        updateScoreForm.Show();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "regex", "visual-studio", "notepad++", "xsd.exe"], "answers": [{"comments": [{"owner": {"reputation": 4446, "user_id": 7500028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbf0e88580cccb9004735bcb92be952e?s=128&d=identicon&r=PG&f=1", "display_name": "Julio", "link": "https://stackoverflow.com/users/7500028/julio"}, "edited": false, "score": 1, "creation_date": 1556785405, "post_id": 55948285, "comment_id": 98549338, "body": "If you want to skip the <code>repeat XXX times</code>, It is still doable with a single <code>play</code> action but you need to record some extra steps. If you prefer that just let me know and I&#39;ll rewrite my answer @nindalf"}, {"owner": {"reputation": 39, "user_id": 7042318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uB8hy.png?s=128&g=1", "display_name": "Nindalf", "link": "https://stackoverflow.com/users/7042318/nindalf"}, "edited": false, "score": 0, "creation_date": 1556805596, "post_id": 55948285, "comment_id": 98560144, "body": "Hi @Julio, Thank you a lot for this guide. This is working very well for me. To complete this thread it would be interesting to see your one step solution as well. Notepad++ Macros are great and I had them not on my radar so far."}, {"owner": {"reputation": 4446, "user_id": 7500028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbf0e88580cccb9004735bcb92be952e?s=128&d=identicon&r=PG&f=1", "display_name": "Julio", "link": "https://stackoverflow.com/users/7500028/julio"}, "reply_to_user": {"reputation": 39, "user_id": 7042318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uB8hy.png?s=128&g=1", "display_name": "Nindalf", "link": "https://stackoverflow.com/users/7042318/nindalf"}, "edited": false, "score": 0, "creation_date": 1556889171, "post_id": 55948285, "comment_id": 98591779, "body": "@Nindalf, edited to do not depend on the <code>999</code> times. Hope it works for you (changes: add an extra step after step &quot;3&quot; and change second to last step"}], "tags": [], "owner": {"reputation": 4446, "user_id": 7500028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbf0e88580cccb9004735bcb92be952e?s=128&d=identicon&r=PG&f=1", "display_name": "Julio", "link": "https://stackoverflow.com/users/7500028/julio"}, "is_accepted": true, "score": 1, "last_activity_date": 1556889133, "last_edit_date": 1556889133, "creation_date": 1556785135, "answer_id": 55948285, "question_id": 55941691, "link": "https://stackoverflow.com/questions/55941691/replace-datatype-with-listdatatype/55948285#55948285", "title": "Replace dataType[] with List&lt;dataType&gt;", "body": "<p>You may solve this with nodepad++ macros.</p>\n\n<ol>\n<li><p>Click on <code>Start recording macro</code> button</p></li>\n<li><p>Press <kbd>Control</kbd> + <kbd>H</kbd> to launch Search &amp; Replace</p></li>\n<li><p>Find what: <code>(?&lt;=\\s)([&lt;&gt;A-Za-z_0-9]+)\\[\\]</code></p>\n\n<p>Replace by: <code>List&lt;$1&gt;</code></p>\n\n<p><kbd>Replace all</kbd></p></li>\n<li><p>Without closing the search dialog click on <kbd>Find Next</kbd></p></li>\n<li><p>Click on <code>Stop recording macro</code> button.</p></li>\n<li><p>Now go to some file you want to process</p></li>\n<li><p>Click on <code>Run a macro multiple times</code> button</p></li>\n<li><p>Select <code>Run until the end of file</code></p></li>\n<li><p><kbd>Run</kbd></p></li>\n</ol>\n\n<p><strong>NOTE:</strong> Once you have recorded a macro, you can 'save' it for later reuse. Once saved It will be available across notepad++ restarts.</p>\n"}], "owner": {"reputation": 39, "user_id": 7042318, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uB8hy.png?s=128&g=1", "display_name": "Nindalf", "link": "https://stackoverflow.com/users/7042318/nindalf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 55948285, "answer_count": 1, "score": 0, "last_activity_date": 1556889133, "creation_date": 1556739314, "question_id": 55941691, "link": "https://stackoverflow.com/questions/55941691/replace-datatype-with-listdatatype", "title": "Replace dataType[] with List&lt;dataType&gt;", "body": "<p>I generated with <code>xsd.exe</code> a dataModel of an xsd. I would like to exchange the <code>dataType[]</code> with generic list => <code>List&lt;dataType&gt;</code>. I need to change the syntax automated because the dataModel classes are huge.</p>\n\n<p>My first intention was to generate the correct code directly with <code>xsd.exe</code>. After some investigation I found out that this is not an option.</p>\n\n<p>Then I tried to solve my problem with Regex but I was not lucky to find the right expression. Probably someone could help me out. The modification can be done directly in Visual Studio or if this is not working in Notepad++.</p>\n\n<p><b>What I'm trying to do:</b></p>\n\n<pre><code>public dataType1[] dataType1 =&gt; public List&lt;dataType1&gt; dataType1\npublic dataType2[][]         =&gt; public List&lt;List&lt;dataType2&gt;&gt;\npublic dataType3[][][]       =&gt; public List&lt;List&lt;List&lt;dataType3&gt;&gt;&gt;\n</code></pre>\n\n<p><b>My approach with Regex in VS:</b></p>\n\n<pre><code>// Find with:\n(?&lt;=\\s)[A-Za-z_0-9]+(?=(\\[\\]){1})\n\n// Replace with:\nList&lt;$&amp;&gt;\n</code></pre>\n\n<p>My approach is unfortunately not working in one step. Additionally I would have to treat 1 to n [] separated. Finally I have to delete all [] with find/replace what could lead to errors.</p>\n\n<p>Could someone help me out with a one step solution? Either with Regex or probably with something different. Important for me would be a solution which I can deploy fast and easy after the creation of the dataModel.</p>\n"}, {"tags": ["c#", "asp.net", "html.dropdownlistfor", "selecteditem"], "comments": [{"owner": {"reputation": 1171, "user_id": 5022812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6be5e79bf480b95edc5ce5cbb7c7db?s=128&d=identicon&r=PG&f=1", "display_name": "hassan.ef", "link": "https://stackoverflow.com/users/5022812/hassan-ef"}, "edited": false, "score": 1, "creation_date": 1556738061, "post_id": 55941386, "comment_id": 98536109, "body": "At first I think you should use  <code>onselectedindexchanged=&quot;uxStatesDropdownList_SelectedIndexCh&zwnj;&#8203;anged&quot;</code> in drop down tag"}, {"owner": {"reputation": 941, "user_id": 8006943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZrKjk.jpg?s=128&g=1", "display_name": "evilGenius", "link": "https://stackoverflow.com/users/8006943/evilgenius"}, "edited": false, "score": 0, "creation_date": 1556739076, "post_id": 55941386, "comment_id": 98536489, "body": "stateName == 9?"}], "answers": [{"comments": [{"owner": {"reputation": 1048, "user_id": 5527646, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/28d6209af26307872aa4efc6fcd79452?s=128&d=identicon&r=PG", "display_name": "gwydion93", "link": "https://stackoverflow.com/users/5527646/gwydion93"}, "edited": false, "score": 0, "creation_date": 1556805606, "post_id": 55941514, "comment_id": 98560153, "body": "I ended up changing it to <code>.SelectedValue</code> (which I had previously tried without success), but added @hassan.ef &#39;s suggestion as well. Thanks."}], "tags": [], "owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "is_accepted": true, "score": 1, "last_activity_date": 1556738421, "creation_date": 1556738421, "answer_id": 55941514, "question_id": 55941386, "link": "https://stackoverflow.com/questions/55941386/why-does-dropdownlist-selecteditem-value-not-display-the-assigned-value/55941514#55941514", "title": "Why does DropDownList.SelectedItem.Value not display the assigned value", "body": "<p>You probably want to use <code>uxRegionDropDownList.SelectedValue = region;</code> instead. </p>\n\n<p>The current code would change the value of the currently selected item, whereas you seem to want to change the currently selected item based on a value. The <code>SelectedValue</code> property will either get the currently selected item's value, or select an item with the value provided.</p>\n"}], "owner": {"reputation": 1048, "user_id": 5527646, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/28d6209af26307872aa4efc6fcd79452?s=128&d=identicon&r=PG", "display_name": "gwydion93", "link": "https://stackoverflow.com/users/5527646/gwydion93"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 55941514, "answer_count": 1, "score": 2, "last_activity_date": 1556738421, "creation_date": 1556737817, "question_id": 55941386, "link": "https://stackoverflow.com/questions/55941386/why-does-dropdownlist-selecteditem-value-not-display-the-assigned-value", "title": "Why does DropDownList.SelectedItem.Value not display the assigned value", "body": "<p>I have an <code>Asp: Dropdownlist</code>. I want to display a selected list item based on an assigned value.  </p>\n\n<pre><code> &lt;asp:DropDownList ID=\"uxRegionDropDownList\" runat=\"server\" style=\"height:25px; width: 34%; text-align: center;\" required=\"False\"&gt;\n     &lt;asp:ListItem Value=\"-1\"&gt;FEMA Region&lt;/asp:ListItem&gt;\n     &lt;asp:ListItem Value=\"1\"&gt;I&lt;/asp:ListItem&gt;\n     &lt;asp:ListItem Value=\"2\"&gt;II&lt;/asp:ListItem&gt;\n     &lt;asp:ListItem Value=\"3\"&gt;III&lt;/asp:ListItem&gt;\n     &lt;asp:ListItem Value=\"4\"&gt;IV&lt;/asp:ListItem&gt;\n     &lt;asp:ListItem Value=\"5\"&gt;V&lt;/asp:ListItem&gt;\n     &lt;asp:ListItem Value=\"6\"&gt;VI&lt;/asp:ListItem&gt;\n     &lt;asp:ListItem Value=\"7\"&gt;VII&lt;/asp:ListItem&gt;\n     &lt;asp:ListItem Value=\"8\"&gt;VIII&lt;/asp:ListItem&gt;\n     &lt;asp:ListItem Value=\"9\"&gt;IX&lt;/asp:ListItem&gt;\n     &lt;asp:ListItem Value=\"10\"&gt;X&lt;/asp:ListItem&gt;\n     &lt;asp:ListItem Value=\"HQ\"&gt;HQ&lt;/asp:ListItem&gt;\n     &lt;asp:ListItem Value=\"Unknown\"&gt;Unknown&lt;/asp:ListItem&gt;\n &lt;/asp:DropDownList&gt;\n</code></pre>\n\n<p>For example, if I have a variable <code>string region = \"9\"</code>, and assigned <code>uxRegionDropDownList = region</code>, I would expect that it would populate <code>IX</code> as the selected value. However, it does not. It just displays \"FEMA Region\". How can I resolve this and make the correct <code>ListItem</code> display in the box?</p>\n\n<p><strong>C#</strong></p>\n\n<pre><code>protected void uxStatesDropdownList_SelectedIndexChanged(object sender, EventArgs e)\n    {\n        UpdateCountiesList(uxStatesDropdownList.SelectedValue);\n        UpdateRegion(uxStatesDropdownList.SelectedValue);\n\n    }\nprivate void UpdateRegion(string stateName)\n    {\n        string region = _dtMgr.GetFEMARegionByState(stateName);\n        //uxRegionDropDownList.Items.Clear();\n        uxRegionDropDownList.SelectedItem.Value = region;\n\n    }\n</code></pre>\n\n<p>Note: In the above scenario, I change the state to 'AR' which returns a region = \"9\" as a string. </p>\n"}, {"tags": ["c#", "winapi", "device"], "comments": [{"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 1, "creation_date": 1556737453, "post_id": 55941190, "comment_id": 98535877, "body": "some setup functions can work only in native subsystem, not in wow64. say for example <a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/newdev/nf-newdev-updatedriverforplugandplaydevicesw\" rel=\"nofollow noreferrer\"><code>UpdateDriverForPlugAndPlayDevices</code></a> about <code>SetupDiCallClassInstaller</code> look for <a href=\"https://stackoverflow.com/questions/8684061/setupdicallclassinstaller-throws-error-in-wow64-when-compiled-for-32-bit-on-a-64\" title=\"setupdicallclassinstaller throws error in wow64 when compiled for 32 bit on a 64\">stackoverflow.com/questions/8684061/&hellip;</a> - so only solution built 64bit code here"}, {"owner": {"reputation": 103, "user_id": 5298112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91611e9c664321d594d81608dd761857?s=128&d=identicon&r=PG&f=1", "display_name": "10aples", "link": "https://stackoverflow.com/users/5298112/10aples"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1556739178, "post_id": 55941190, "comment_id": 98536524, "body": "I am runnng a 64 bit system, does this mean using Win32 is no good to me?"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 1, "creation_date": 1556741346, "post_id": 55941190, "comment_id": 98537420, "body": "yes, you need use 64binary only for call some api, such <code>SetupDiCallClassInstaller</code> or say <code>UpdateDriverForPlugAndPlayDevices</code>"}, {"owner": {"reputation": 103, "user_id": 5298112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91611e9c664321d594d81608dd761857?s=128&d=identicon&r=PG&f=1", "display_name": "10aples", "link": "https://stackoverflow.com/users/5298112/10aples"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1556742581, "post_id": 55941190, "comment_id": 98537861, "body": "Thanks for your help, I will look at using it!"}], "owner": {"reputation": 103, "user_id": 5298112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91611e9c664321d594d81608dd761857?s=128&d=identicon&r=PG&f=1", "display_name": "10aples", "link": "https://stackoverflow.com/users/5298112/10aples"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "closed_date": 1556742640, "answer_count": 0, "score": 0, "last_activity_date": 1556773871, "creation_date": 1556736870, "last_edit_date": 1556773871, "question_id": 55941190, "link": "https://stackoverflow.com/questions/55941190/how-to-fix-setupapi-error-inwow64-in-c-win32-api", "closed_reason": "Duplicate", "title": "How to fix &#39;SetupAPI error: InWow64&#39; in C# Win32 API", "body": "<p>I am trying to programatically disable the built-in webcam on my laptop.</p>\n\n<p>To do this, I have been refering to <a href=\"https://stackoverflow.com/questions/1438371/\">Win32 API function to programmatically enable/disable device</a> (solution by justin grant) and <a href=\"https://jo0ls-dotnet-stuff.blogspot.com/2009/01/enabledisable-device-programmatically.html\" rel=\"nofollow noreferrer\">Enable/Disable a device programmatically with VB.Net using the setup api</a>.</p>\n\n<p>I have made some changes to target the camera instead of the touchpad (changing the GUID and the device instance ID), however I am still getting an error.</p>\n\n<p>I am new to using Win32 and am confused as to what the error might be.</p>\n\n<p>The following code is the segment that throws the error. Apart from changing what was mentioned above, the code is identical to that provided in the first link, so I have only posted the following code:</p>\n\n<pre><code>    private static void EnableDevice(SafeDeviceInfoSetHandle handle, DeviceInfoData diData, bool enable)\n    {\n        PropertyChangeParameters @params = new PropertyChangeParameters();\n        // The size is just the size of the header, but we've flattened the structure.\n        // The header comprises the first two fields, both integer.\n        @params.Size = 8;\n        @params.DiFunction = DiFunction.PropertyChange;\n        @params.Scope = Scopes.Global;\n        if (enable)\n        {\n            @params.StateChange = StateChangeAction.Enable;\n        }\n        else\n        {\n            @params.StateChange = StateChangeAction.Disable;\n        }\n\n        bool result = NativeMethods.SetupDiSetClassInstallParams(handle, ref diData, ref @params, Marshal.SizeOf(@params));\n        if (result == false) throw new Win32Exception();\n        result = NativeMethods.SetupDiCallClassInstaller(DiFunction.PropertyChange, handle, ref diData);\n        if (result == false)\n        {\n            int err = Marshal.GetLastWin32Error();\n            if (err == (int)SetupApiError.NotDisableable)\n                throw new ArgumentException(\"Device can't be disabled (programmatically or in Device Manager).\");\n            else if (err &gt;= (int)SetupApiError.NoAssociatedClass &amp;&amp; err &lt;= (int)SetupApiError.OnlyValidateViaAuthenticode)\n                throw new Win32Exception(\"SetupAPI error: \" + ((SetupApiError)err).ToString());\n            else\n                throw new Win32Exception();\n        }\n    }\n</code></pre>\n\n<p>The error appears in the <code>if</code> statement at the bottom on the line:</p>\n\n<pre><code> throw new Win32Exception(\"SetupAPI error: \" + ((SetupApiError)err).ToString());\n</code></pre>\n\n<blockquote>\n  <p>System.ComponentModel.Win32Exception: 'SetupAPI error: InWow64'</p>\n</blockquote>\n"}, {"tags": ["c#", ".net", "microsoft-ui-automation"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 1, "creation_date": 1556738927, "post_id": 55941167, "comment_id": 98536425, "body": "Try adding this <code>&lt;ResolveComReferenceSilent&gt;True&lt;&#47;ResolveComReferenceSilent&gt;</code> in your project file. Right after <code>&lt;PropertyGroup&gt;</code>. Or rebuild the <code>.tlb</code>, producing a <code>.dll</code> locally with the <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/tools/tlbimp-exe-type-library-importer\" rel=\"nofollow noreferrer\">Type Library Importer</a> utility."}, {"owner": {"reputation": 461, "user_id": 5649764, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/065b994256373df57f1fa41424d211fb?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Martins Tim&#243;teo da Costa", "link": "https://stackoverflow.com/users/5649764/pedro-martins-tim%c3%b3teo-da-costa"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556968530, "post_id": 55941167, "comment_id": 98613256, "body": "Your solution worked Jimi. If you post it as an answer I will accept it"}], "owner": {"reputation": 461, "user_id": 5649764, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/065b994256373df57f1fa41424d211fb?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Martins Tim&#243;teo da Costa", "link": "https://stackoverflow.com/users/5649764/pedro-martins-tim%c3%b3teo-da-costa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556736729, "creation_date": 1556736729, "question_id": 55941167, "link": "https://stackoverflow.com/questions/55941167/can-should-i-suppress-these-warnings-on-release-build-when-using-the-uiautomat", "title": "Can / should I suppress these warnings on release build when using the UIAutomationClient with C#?", "body": "<p>I am building an application using the UIAutomationClient with C#. I am not using the managed version of the library, but the COM version:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fmLOX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fmLOX.png\" alt=\"enter image description here\"></a></p>\n\n<p>The application is working perfectly as expected in both Debug and Release mode, but I am seeing a lot of warnings when compiling it in Release mode. I am getting two different types of warnings, changing the types and method names of course:</p>\n\n<ul>\n<li>Processing COM reference \"UIAutomationClient\" from path \"C:\\Windows\\SysWOW64\\UIAutomationCore.dll\". At least one of the arguments for 'IUIAutomation2.SafeArrayToRectNativeArray' cannot be marshaled by the runtime marshaler.  Such arguments will therefore be passed as a pointer and may require unsafe code to manipulate.     </li>\n<li>Processing COM reference \"UIA\" from path \"C:\\Windows\\SysWOW64\\UIAutomationCore.dll\". The type library importer could not convert the signature for the member 'UIAutomationMethodInfo.pParameterNames'.</li>\n</ul>\n\n<p>Is there any way to fix the project so these warnings are not displayed? If not, is it safe to simply suppress these warnings?</p>\n"}, {"tags": ["c#", "uwp"], "answers": [{"tags": [], "owner": {"reputation": 7891, "user_id": 6782612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KuUfK.jpg?s=128&g=1", "display_name": "Xie Steven", "link": "https://stackoverflow.com/users/6782612/xie-steven"}, "is_accepted": true, "score": 0, "last_activity_date": 1556766482, "creation_date": 1556766482, "answer_id": 55945169, "question_id": 55941069, "link": "https://stackoverflow.com/questions/55941069/cant-select-items-in-listbox-when-candrag-true/55945169#55945169", "title": "Can&#39;t select items in ListBox when CanDrag=True", "body": "<p>I can reproduce this issue. I've reported it to the relevant team. They're investigating this issue.</p>\n\n<p>As a workaround, you could use ListView control, but you do not need to drag the TextBlock in its ItemTemplate. You could choose to drag the whole ListViewItem by setting <code>CanDragItems=\"True\"</code> and handling the <code>DragItemsStarting</code> event.</p>\n\n<pre><code>&lt;ListView x:Name=\"addProcessorListBox\" ItemsSource=\"{Binding ProcessorTypes}\"\n                 SelectionMode=\"Single\" DoubleTapped=\"AddProcessorListBox_DoubleTapped\" CanDragItems=\"True\" DragItemsStarting=\"AddProcessorListBox_DragItemsStarting\"&gt;\n            &lt;ListView.ItemContainerStyle&gt;\n                &lt;Style TargetType=\"ListViewItem\"&gt;\n                    &lt;Setter Property=\"HorizontalContentAlignment\" Value=\"Stretch\" /&gt;\n                    &lt;Setter Property=\"Padding\" Value=\"0\" /&gt;\n                &lt;/Style&gt;\n            &lt;/ListView.ItemContainerStyle&gt;\n            &lt;ListView.GroupStyle&gt;\n                &lt;GroupStyle&gt;\n                    &lt;GroupStyle.HeaderTemplate&gt;\n                        &lt;DataTemplate&gt;\n                            &lt;TextBlock Margin=\"8,2,10,2\" Text=\"{Binding Key}\" FontSize=\"15\" FontWeight=\"Bold\" /&gt;\n                        &lt;/DataTemplate&gt;\n                    &lt;/GroupStyle.HeaderTemplate&gt;\n                &lt;/GroupStyle&gt;\n            &lt;/ListView.GroupStyle&gt;\n            &lt;ListView.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;StackPanel&gt;\n                        &lt;TextBlock Grid.Column=\"0\" Margin=\"18,8,10,8\" Text=\"{Binding DisplayName}\" FontSize=\"15\" /&gt;\n                    &lt;/StackPanel&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ListView.ItemTemplate&gt;\n&lt;/ListView&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1346, "user_id": 6670299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaf2bef1786e12d7095918a00e1c5faf?s=128&d=identicon&r=PG&f=1", "display_name": "Barry Wang", "link": "https://stackoverflow.com/users/6670299/barry-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1557913807, "creation_date": 1557913807, "answer_id": 56146398, "question_id": 55941069, "link": "https://stackoverflow.com/questions/55941069/cant-select-items-in-listbox-when-candrag-true/56146398#56146398", "title": "Can&#39;t select items in ListBox when CanDrag=True", "body": "<p>We have confirmed that the best approach is ListView as we have it implemented in our github sample <a href=\"https://github.com/microsoft/Windows-universal-samples/tree/master/Samples/XamlDragAndDrop\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Actually the problem isn't quite related to ListBox/ListView but with </p>\n\n<pre><code>&lt;Setter Property=\"HorizontalContentAlignment\" Value=\"Stretch\" /&gt;\n</code></pre>\n\n<p>The following <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.control.horizontalcontentalignment?view=netframework-4.8#remarks\" rel=\"nofollow noreferrer\">doc</a> mentions that Stretch will stretches the child element to fill the allocated space of the parent element. But in this case, what is the size of parent space? Selection won't fail if specified Left/Right/Center but only with Stretch.</p>\n\n<p>So actually this is a coding issue and you will need the property to set the size of parament element.</p>\n"}], "owner": {"reputation": 23, "user_id": 11155914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7a4eeed03d5982f9f1a8ee40fd85029?s=128&d=identicon&r=PG&f=1", "display_name": "Kand", "link": "https://stackoverflow.com/users/11155914/kand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 55945169, "answer_count": 2, "score": 0, "last_activity_date": 1557913807, "creation_date": 1556736156, "last_edit_date": 1556740253, "question_id": 55941069, "link": "https://stackoverflow.com/questions/55941069/cant-select-items-in-listbox-when-candrag-true", "title": "Can&#39;t select items in ListBox when CanDrag=True", "body": "<p>I'm having trouble enabling drag (as in drag&amp;drop) in an UWP ListBox. The selection stops working when I do that.</p>\n\n<p>I have an UWP ListBox that contains an ItemTemplate with a single TextBlock in it. Everything was fine with the selection of items until I enabled CanDrag (i.e. drag&amp;drop) on the TextBlock in the ListItem. After this I can't select items in the ListBox any longer by clicking on the items in the list. I can change selection by moving the focus with the arrow keys but selection with mouse interaction is no longer possible. If I set CanDrag back to False, selection starts working again.</p>\n\n<p>Am I doing something wrong?</p>\n\n<pre><code>        &lt;ScrollViewer Grid.Column=\"0\" HorizontalScrollMode=\"Disabled\" VerticalScrollMode=\"Auto\"&gt;\n            &lt;ListBox x:Name=\"addProcessorListBox\" ItemsSource=\"{Binding ProcessorTypes}\"\n                     SelectionMode=\"Single\" DoubleTapped=\"OnDoubleTapped\"&gt;\n                &lt;ListBox.ItemContainerStyle&gt;\n                    &lt;Style TargetType=\"ListBoxItem\"&gt;\n                        &lt;Setter Property=\"HorizontalContentAlignment\" Value=\"Stretch\" /&gt;\n                        &lt;Setter Property=\"Padding\" Value=\"0\" /&gt;\n                    &lt;/Style&gt;\n                &lt;/ListBox.ItemContainerStyle&gt;\n                &lt;ListBox.GroupStyle&gt;\n                    &lt;GroupStyle&gt;\n                        &lt;GroupStyle.HeaderTemplate&gt;\n                            &lt;DataTemplate&gt;\n                                &lt;TextBlock Margin=\"8,2,10,2\" Text=\"{Binding Key}\" FontSize=\"15\" FontWeight=\"Bold\"/&gt;\n                            &lt;/DataTemplate&gt;\n                        &lt;/GroupStyle.HeaderTemplate&gt;\n                    &lt;/GroupStyle&gt;\n                &lt;/ListBox.GroupStyle&gt;\n                &lt;ListBox.ItemTemplate&gt;\n                    &lt;DataTemplate x:DataType=\"models:ProcessorType\"&gt;\n                        &lt;TextBlock Grid.Column=\"0\" Margin=\"18,8,10,8\" Text=\"{Binding DisplayName}\" FontSize=\"15\" CanDrag=\"True\" DragStarting=\"Processor_DragStarting\"/&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/ListBox.ItemTemplate&gt;\n            &lt;/ListBox&gt;\n        &lt;/ScrollViewer&gt;\n</code></pre>\n\n<p>I tried changing the ListBox to a ListView, but the same behavior persists, i.e. selection does not work when clicking on the text.</p>\n"}, {"tags": ["c#", "firefox", "rect", "user32"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556736203, "post_id": 55940987, "comment_id": 98535374, "body": "Why <code>var proc = Process.GetProcessesByName(procName)[0];</code>? Nobody said that the first process you get is the Windowed one. Try with <code>var proc = Process.GetProcessesByName(procName).Where(p =&gt; p.MainWindowHandle != IntPtr.Zero).FirstOrDefault();</code>. Also, note that <code>GetWindowRect()</code> is not DPIAware."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556736753, "post_id": 55940987, "comment_id": 98535598, "body": "The <code>graphics</code> object must be disposed of. I don&#39;t get why you&#39;re using  <code>Task.Run().ContinueWith()</code> here."}], "owner": {"reputation": 73, "user_id": 11361247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87854b5b433afd8d54573e642caeaef0?s=128&d=identicon&r=PG&f=1", "display_name": "actopozipc", "link": "https://stackoverflow.com/users/11361247/actopozipc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556735774, "creation_date": 1556735774, "question_id": 55940987, "link": "https://stackoverflow.com/questions/55940987/getwindowrect-returns-a-rect-with-0-on-every-property-when-called-with-mainwindo", "title": "GetWindowRect returns a Rect with 0 on every property when called with MainWindowHandle from a process that is firefox", "body": "<p>I need to do a screenshot from firefox with a Winforms Application and doing so using the GetWindowRect and creating a Bitmap based on the Rect from there does not work. The Rect has 0 Bottom, 0 Top, 0 Left and 0 Right. For other Tasks like the explorer works fine. </p>\n\n<p>I first thought that firefox has some processes that are not the main window so I started some new and tried grabbing some other processes that contain the name firefox from my array with process, but the error is everytime the same.</p>\n\n<pre><code> Bitmap screenshot = CaptureApplication(\"firefox\");\n\n public Bitmap CaptureApplication(string procName)\n    {\n\n        var t = Task.Run(() =&gt;\n        {\n  //getting the first process with the name firefox\n        var proc = Process.GetProcessesByName(procName)[0]; \n//Get a rect in the size of the firefox process\n        var rect = new User32.Rect();\n        User32.GetWindowRect(proc.MainWindowHandle, ref rect);\n            return rect;\n        });\n//Make screenshot based on the size of the rect (ante)\n       var t2= t.ContinueWith((ante) =&gt;\n        {\n            var rect = ante.Result;\n\n        int width = rect.right - rect.left; //right and left are 0\n        int height = rect.bottom - rect.top; //bottom and top are 0\n        //here is the error\n        var bmp = new Bitmap(width, height,   PixelFormat.Format32bppArgb); //cant create a Bitmap with 0,0 as parameter\n        Graphics graphics = Graphics.FromImage(bmp);\n        graphics.CopyFromScreen(rect.left, rect.top, 0, 0, new Size(width, height), CopyPixelOperation.SourceCopy);\n            return bmp;\n        });\n        return t2.Result;\n    }\n public class User32\n{\n    [StructLayout(LayoutKind.Sequential)]\n    public struct Rect\n    {\n        public int left;\n        public int top;\n        public int right;\n        public int bottom;\n    }\n\n    [DllImport(\"user32.dll\")]\n    public static extern IntPtr GetWindowRect(IntPtr hWnd, ref Rect rect);\n}\n</code></pre>\n\n<p>I just want a screenshot of firefox but the program wont run as long as it returns 0 for every property of the rect.</p>\n"}, {"tags": ["c#", ".net-core"], "comments": [{"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 1, "creation_date": 1556735783, "post_id": 55940948, "comment_id": 98535208, "body": "<i>&quot;debugging jumps directly off the first Using statement&quot;</i> - It&#39;s not clear what you mean by that.  Is an exception thrown?  Something else?"}, {"owner": {"reputation": 128, "user_id": 4907101, "user_type": "registered", "profile_image": "https://graph.facebook.com/996731417005082/picture?type=large", "display_name": "Florian Falk", "link": "https://stackoverflow.com/users/4907101/florian-falk"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1556736190, "post_id": 55940948, "comment_id": 98535368, "body": "@David no. Nothing happens. No exception, nothing. It just runs to the end until exit code 0."}, {"owner": {"reputation": 128, "user_id": 4907101, "user_type": "registered", "profile_image": "https://graph.facebook.com/996731417005082/picture?type=large", "display_name": "Florian Falk", "link": "https://stackoverflow.com/users/4907101/florian-falk"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1556736271, "post_id": 55940948, "comment_id": 98535400, "body": "@EdPlunkett what do you mean? ARM. Or not?"}, {"owner": {"reputation": 128, "user_id": 4907101, "user_type": "registered", "profile_image": "https://graph.facebook.com/996731417005082/picture?type=large", "display_name": "Florian Falk", "link": "https://stackoverflow.com/users/4907101/florian-falk"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1556736484, "post_id": 55940948, "comment_id": 98535485, "body": "@EdPlunkett yes. maybe your question was a little imprecise ;) . As I said. ARM (Automatic Resource Management)"}, {"owner": {"reputation": 5830, "user_id": 3750, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220a59faac02c31325eaa013ef07c6a1?s=128&d=identicon&r=PG", "display_name": "Tadmas", "link": "https://stackoverflow.com/users/3750/tadmas"}, "edited": false, "score": 5, "creation_date": 1556736669, "post_id": 55940948, "comment_id": 98535560, "body": "Is your Main method also async?  Seems to me like what you are seeing is the normal early return from async/await (the whole point of async is so the thread can do something else while waiting, and from the viewpoint of synchronous code that looks like an early return) and then your app is not waiting for the asynchronous operation to complete before exiting."}, {"owner": {"reputation": 2058, "user_id": 985798, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/va6bC.jpg?s=128&g=1", "display_name": "Jannik", "link": "https://stackoverflow.com/users/985798/jannik"}, "edited": false, "score": 0, "creation_date": 1556736843, "post_id": 55940948, "comment_id": 98535636, "body": "I&#39;d put a breakpoint between the first and the second using and if its not hit, try surrounding everything with a try catch :)"}, {"owner": {"reputation": 34013, "user_id": 674326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb1ffcb8355a833bc34334d75cefeb3d?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/674326/brandon"}, "edited": false, "score": 0, "creation_date": 1556736892, "post_id": 55940948, "comment_id": 98535669, "body": "use the &quot;sync&quot; answer in the linked question if you don&#39;t have something to make your app wait for the async code to finish: <a href=\"https://stackoverflow.com/a/43368205/674326\">stackoverflow.com/a/43368205/674326</a>"}, {"owner": {"reputation": 128, "user_id": 4907101, "user_type": "registered", "profile_image": "https://graph.facebook.com/996731417005082/picture?type=large", "display_name": "Florian Falk", "link": "https://stackoverflow.com/users/4907101/florian-falk"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1556736957, "post_id": 55940948, "comment_id": 98535704, "body": "@EdPlunkett I have learned that &quot;using&quot; in C# is the same as ARM in Java. So the object that is created in the round brackets of using is closed automatically after the usingblock is closed. Like e.g. a scanner."}, {"owner": {"reputation": 128, "user_id": 4907101, "user_type": "registered", "profile_image": "https://graph.facebook.com/996731417005082/picture?type=large", "display_name": "Florian Falk", "link": "https://stackoverflow.com/users/4907101/florian-falk"}, "reply_to_user": {"reputation": 5830, "user_id": 3750, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220a59faac02c31325eaa013ef07c6a1?s=128&d=identicon&r=PG", "display_name": "Tadmas", "link": "https://stackoverflow.com/users/3750/tadmas"}, "edited": false, "score": 0, "creation_date": 1556737546, "post_id": 55940948, "comment_id": 98535919, "body": "@Tadmas yeah. That&#39;s was a good tip! Asynchronous programming is still completely new for me. I haven&#39;t found the right &quot;must know&quot; on google yet."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1556737730, "post_id": 55940948, "comment_id": 98535991, "body": "@FlorianFalk Ahhh, Java. Anyhow, I had forgotten that Task implements IDisposable, so never mind all that."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1556739295, "post_id": 55940948, "comment_id": 98536585, "body": "@FlorianFalk It sound like you could be debugging with compiler optimizations on"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 3, "creation_date": 1556739783, "post_id": 55940948, "comment_id": 98536787, "body": "@EdPlunkett: That&#39;s relevant though, but in an odd way. Normally the practice is to always wrap a disposable with a using, but in the case of Task, the opposite is true. Read Stephen Toub&#39;s great article on this: <a href=\"https://devblogs.microsoft.com/pfxteam/do-i-need-to-dispose-of-tasks/\" rel=\"nofollow noreferrer\">devblogs.microsoft.com/pfxteam/do-i-need-to-dispose-of-tasks</a>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1556739931, "post_id": 55940948, "comment_id": 98536861, "body": "@FlorianFalk: As noted in the previous comment, remove the <code>using</code> from the task creation. That&#39;s unlikely to be the source of your problem though. Can you say what the <i>caller</i> of the method containing the code fragment you&#39;ve created does with the task that the method returns, if any?  What&#39;s the signature of the method?"}], "answers": [{"comments": [{"owner": {"reputation": 128, "user_id": 4907101, "user_type": "registered", "profile_image": "https://graph.facebook.com/996731417005082/picture?type=large", "display_name": "Florian Falk", "link": "https://stackoverflow.com/users/4907101/florian-falk"}, "edited": false, "score": 0, "creation_date": 1556778951, "post_id": 55944611, "comment_id": 98546322, "body": "Thank you for the explanation! During my research yesterday I read that you should use async with void only if you need events. As @Tadmas said in the upper comment, and you also said, the main method must be async too. However, I have found code examples where this is not the case and async is used. As far as I understand, this works as long as the asynchronous task is finished before the main is finished. But depending on the todos of this task, I can only estimate it badly. Can you then say as a rule of thumb that as soon as you work with asynchronc, the main should also be asychronous?"}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "reply_to_user": {"reputation": 128, "user_id": 4907101, "user_type": "registered", "profile_image": "https://graph.facebook.com/996731417005082/picture?type=large", "display_name": "Florian Falk", "link": "https://stackoverflow.com/users/4907101/florian-falk"}, "edited": false, "score": 1, "creation_date": 1556789735, "post_id": 55944611, "comment_id": 98551505, "body": "&quot;Can you then say as a rule of thumb that as soon as you work with asynchronc, the main should also be asychronous?&quot; Yes."}], "tags": [], "owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "is_accepted": true, "score": 6, "last_activity_date": 1556760683, "creation_date": 1556760683, "answer_id": 55944611, "question_id": 55940948, "link": "https://stackoverflow.com/questions/55940948/c-await-in-using/55944611#55944611", "title": "C# await in using", "body": "<blockquote>\n  <p>Program ends with exit code 0</p>\n</blockquote>\n\n<p>Two rules when first learning <code>async</code>:</p>\n\n<ol>\n<li><a href=\"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx\" rel=\"noreferrer\">Avoid <code>async void</code>; use <code>async Task</code> instead</a>.</li>\n<li><code>await</code> all your tasks. So if you call a method that returns a <code>Task</code>, be sure to <code>await</code> it.</li>\n</ol>\n\n<p>As you grow in <code>async</code>, both of these rules can be bent somewhat. But it's a lot easier to <em>learn</em> <code>async</code> by following the rules above.</p>\n\n<p>So, the code you posted should be in an <code>async Task</code> method. The calling method should <code>await</code> that task, and in turn is an <code>async Task</code> method, etc. All the way back to <code>Main</code>, which should be an <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-7-1#async-main\" rel=\"noreferrer\"><code>async Task Main</code> method</a>. Note that this is a C# 7.1 language feature, so if you created this project using VS2017 instead of VS2019, you will need to <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/configure-language-version\" rel=\"noreferrer\">set the language version</a>, e.g., to <code>latest</code>.</p>\n"}], "owner": {"reputation": 128, "user_id": 4907101, "user_type": "registered", "profile_image": "https://graph.facebook.com/996731417005082/picture?type=large", "display_name": "Florian Falk", "link": "https://stackoverflow.com/users/4907101/florian-falk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 2, "accepted_answer_id": 55944611, "answer_count": 1, "score": 1, "last_activity_date": 1556760683, "creation_date": 1556735614, "last_edit_date": 1556740145, "question_id": 55940948, "link": "https://stackoverflow.com/questions/55940948/c-await-in-using", "title": "C# await in using", "body": "<p>I have tried to load a web page into my program using <a href=\"https://stackoverflow.com/questions/43364856/get-web-page-using-htmlagilitypack-netcore\">Get web page using HtmlAgilityPack.NETCore</a> . The problem is that debugging jumps directly off the first Using statement, so the code and the second using are not called at all. No Exception or something else is thrown. Program ends with exit code 0\nWhat am I doing wrong?\nI am working with .net Core 2.2</p>\n\n<pre><code>HttpClient client = new HttpClient();\nList&lt;string&gt; htmlContent = new List&lt;string&gt;();\nusing (var response = await client.GetAsync(URL))\n{\n    using (var content = response.Content)\n    {\n        var result = await content.ReadAsStringAsync();\n        var document = new HtmlDocument();\n        document.LoadHtml(result);\n        foreach (HtmlNode node in document.DocumentNode.SelectNodes(\"//text()\"))\n        {\n            htmlContent.Add(node.InnerText);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "microsoft-graph-api", "onedrive", "microsoft-graph-sdks"], "answers": [{"comments": [{"owner": {"reputation": 3004, "user_id": 1155847, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/51b9b3bc03084d52bf3a046abe517f77?s=128&d=identicon&r=PG", "display_name": "Yves Schelpe", "link": "https://stackoverflow.com/users/1155847/yves-schelpe"}, "edited": false, "score": 0, "creation_date": 1556743773, "post_id": 55942382, "comment_id": 98538257, "body": "Thanks a lot, this clarifies a lot! Got it working, excellent!"}, {"owner": {"reputation": 2033, "user_id": 3813189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BTzFf.jpg?s=128&g=1", "display_name": "Dan Roberts", "link": "https://stackoverflow.com/users/3813189/dan-roberts"}, "edited": false, "score": 1, "creation_date": 1602505508, "post_id": 55942382, "comment_id": 113733030, "body": "The OneDriveTests.cs file seems to have moved to here now: <a href=\"https://github.com/microsoftgraph/msgraph-sdk-dotnet/blob/dev/tests/Microsoft.Graph.DotnetCore.Test/Requests/Functional/OneDriveTests.cs\" rel=\"nofollow noreferrer\">github.com/microsoftgraph/msgraph-sdk-dotnet/blob/dev/tests/&zwnj;&#8203;&hellip;</a> (the link at the bottom of the answer 404s). However, your answer has enabled me to finally retrieve a drive item - so thank you very much!"}], "tags": [], "owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "is_accepted": true, "score": 6, "last_activity_date": 1602532351, "last_edit_date": 1602532351, "creation_date": 1556742803, "answer_id": 55942382, "question_id": 55940857, "link": "https://stackoverflow.com/questions/55940857/getting-the-drives-items-from-microsoft-graph-api-the-request-is-malformed-or/55942382#55942382", "title": "Getting the drive&#39;s items from Microsoft Graph API: The request is malformed or incorrect", "body": "<p>You only use <code>Items</code> when you're fetching a single <code>DriveItem</code>:</p>\n<pre><code>await graphClient\n  .Me\n  .Drive\n  .Items[item.Id] \n  .Request()\n  .GetAsync();\n\nawait graphClient\n  .Drives[drive.Id]\n  .Items[item.Id]\n  .Request()\n  .GetAsync();\n</code></pre>\n<p>When you want to retrieve a <code>DriveItem</code> collection, you need to specify the root folder:</p>\n<pre><code>await graphClient\n  .Me\n  .Drive\n  .Root // &lt;-- this is the root of the drive itself\n  .Children // &lt;-- this is the DriveItem collection\n  .Request()\n  .GetAsync();\n\nawait graphClient\n  .Drives[drive.Id]\n  .Root \n  .Children\n  .Request()\n  .GetAsync();\n</code></pre>\n<p>The SDK unit tests are a good source for quick examples. For example, <a href=\"https://github.com/microsoftgraph/msgraph-sdk-dotnet/blob/dev/tests/Microsoft.Graph.DotnetCore.Test/Requests/Functional/OneDriveTests.cs\" rel=\"nofollow noreferrer\"><code>OneDriveTests.cs</code></a> contains several examples for addressing Drives and DriveItems.</p>\n"}], "owner": {"reputation": 3004, "user_id": 1155847, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/51b9b3bc03084d52bf3a046abe517f77?s=128&d=identicon&r=PG", "display_name": "Yves Schelpe", "link": "https://stackoverflow.com/users/1155847/yves-schelpe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1670, "favorite_count": 0, "accepted_answer_id": 55942382, "answer_count": 1, "score": 2, "last_activity_date": 1602532351, "creation_date": 1556735198, "last_edit_date": 1556828187, "question_id": 55940857, "link": "https://stackoverflow.com/questions/55940857/getting-the-drives-items-from-microsoft-graph-api-the-request-is-malformed-or", "title": "Getting the drive&#39;s items from Microsoft Graph API: The request is malformed or incorrect", "body": "<p>I am trying to get a drive's items via the Microsoft Graph Api (SDK) and tried the following options:</p>\n\n<ol>\n<li><p><code>_graphServiceClient.Drives[driveInfo.Id].Items.Request().GetAsync()</code>:, this unfortunately results in an error with message error with message <strong>\"The request is malformed or incorrect\"</strong> and code <strong>\"invalidRequest\"</strong>. If I execute <code>_graphServiceClient.Drives[driveInfo.Id].Request().GetAsync()</code> however, I get back all drives but the <code>Items</code> property is <code>null</code>.</p></li>\n<li><p><code>_graphServiceClient.Drives[driveInfo.Id].Request().Expand(d =&gt; d.Items).GetAsync()</code>, this also results in an error with message <strong>\"The request is malformed or incorrect\"</strong> and code <strong>\"invalidRequest\"</strong>.</p></li>\n</ol>\n\n<p>I don't know how to go on from here, still researching, but the documentation is leaving me clueless at the moment. Anyone success with either <code>.Expand()</code> or getting the actual files from a Drive?</p>\n\n<p>Thanks,\nY</p>\n"}, {"tags": ["c#", "redis", "stackexchange.redis", "amazon-elasticache"], "comments": [{"owner": {"reputation": 5943, "user_id": 2674553, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r41zt.jpg?s=128&g=1", "display_name": "ste-fu", "link": "https://stackoverflow.com/users/2674553/ste-fu"}, "edited": false, "score": 0, "creation_date": 1558346186, "post_id": 55940785, "comment_id": 99057464, "body": "I don&#39;t think there is a better way at the moment. There are a few non-official pull requests / variants that support Sentinel : <a href=\"http://taswar.zeytinsoft.com/redis-sentinel/\" rel=\"nofollow noreferrer\">taswar.zeytinsoft.com/redis-sentinel</a>"}], "owner": {"reputation": 448, "user_id": 4825770, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2d114cc0f1b63926c3228e4120c3ec19?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/4825770/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1580336944, "creation_date": 1556734839, "last_edit_date": 1580336944, "question_id": 55940785, "link": "https://stackoverflow.com/questions/55940785/adding-redis-node-without-service-restart", "title": "Adding Redis Node without service restart", "body": "<p>I'm attempting to extend the elasticity feature of adding/removing a node to an existing for a Redis cluster (Non clustered mode) that AWS's Amazon ElastiCache offers to my application.  Ideally, I would like to prevent any service interruptions or have to restart the application for the updated endpoint list. I'm using the StackExchange.Redis package and I don't see a way to add or remove an endpoint from an existing connection multiplexer.</p>\n\n<p>What I'm trying to accomplish is putting the endpoint values in AWS' Parameter Store so the application can reload the values when a message is sent to a subscription that the application is listening for.  Once that message has been received by the application I'm building out a new connection object, setting up all of the event handlers to the new connection and replacing the static property the application is using by wrapping the static object in a lock block while I change the connection.</p>\n\n<p><strong>PSEUDO Code</strong></p>\n\n<ol>\n<li><p>Pull array of objects from Parameter Store</p></li>\n<li><p>Loop through each object in the array and add to the endpoint collection for a new StackExchange.Redis.ConfigurationOptions object</p></li>\n<li><p>Set a local variable to the existing static connection object</p></li>\n<li><p>Set the static connection object to a new StackExchange.Redis.ConnectionMultiplexer object passing in the new StackExchange.Redis.ConfigurationOptions object</p></li>\n<li><p>Reassign all of the subscriptions to the new connection</p></li>\n<li><p>Reassign all of the events to the new connection </p></li>\n<li><p>Lock and reassign the static database object StackExchange.Redis.IDatabase that is used by the save and get methods to the new connection's handle to the database that is being used.</p></li>\n</ol>\n\n<p>Is there a better way to accomplish this with the StackExchange.Redis package?</p>\n"}, {"tags": ["c#", "asp.net-core", ".net-core", "azure-active-directory", "asp.net-core-webapi"], "comments": [{"owner": {"reputation": 736, "user_id": 9035335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52fa06f42b68d1326933b31157f94e17?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Hu MSFT", "link": "https://stackoverflow.com/users/9035335/frank-hu-msft"}, "edited": false, "score": 0, "creation_date": 1558400199, "post_id": 55940714, "comment_id": 99079472, "body": "Hey Saeid, is there anyway you can host this locally and get a fiddler/network trace to see what the Swagger is really doing? And if so, can you provide what the URL is that the swagger is going to? It looks like the configureservices method is setup properly so it should be going to the v2.0 endpoint,"}, {"owner": {"reputation": 1373, "user_id": 2045559, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/yGSP4.jpg?s=128&g=1", "display_name": "Saeid", "link": "https://stackoverflow.com/users/2045559/saeid"}, "reply_to_user": {"reputation": 736, "user_id": 9035335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52fa06f42b68d1326933b31157f94e17?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Hu MSFT", "link": "https://stackoverflow.com/users/9035335/frank-hu-msft"}, "edited": false, "score": 0, "creation_date": 1558417692, "post_id": 55940714, "comment_id": 99082905, "body": "Hey @FrankHu. I updated the question with the Fiddler request. The weird thing is that the API works fine with a client SPA app that authenticates using the MSAL library. It just doesn&#39;t work with Swagger or Postman. Thanks for checking this up though."}, {"owner": {"reputation": 736, "user_id": 9035335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52fa06f42b68d1326933b31157f94e17?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Hu MSFT", "link": "https://stackoverflow.com/users/9035335/frank-hu-msft"}, "edited": false, "score": 1, "creation_date": 1558455560, "post_id": 55940714, "comment_id": 99103803, "body": "If you like, I can get you in touch with Technical Support to take a closer look. It might be useful to see the full fiddler trace. I&#39;m not sure if that request is the Swagger request  You can email me at AzCommunity@microsoft.com and include in the email a link to this thread, that way I can enable a free support request for you."}, {"owner": {"reputation": 10053, "user_id": 322518, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bfc432d64d41eef026c93901ff14d99e?s=128&d=identicon&r=PG&f=1", "display_name": "O.O", "link": "https://stackoverflow.com/users/322518/o-o"}, "edited": false, "score": 0, "creation_date": 1577483591, "post_id": 55940714, "comment_id": 105185324, "body": "@Saeid how&#39;d you fix it?"}], "answers": [{"tags": [], "owner": {"reputation": 736, "user_id": 9035335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52fa06f42b68d1326933b31157f94e17?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Hu MSFT", "link": "https://stackoverflow.com/users/9035335/frank-hu-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1560797096, "last_edit_date": 1560797096, "creation_date": 1560796521, "answer_id": 56637026, "question_id": 55940714, "link": "https://stackoverflow.com/questions/55940714/how-to-configure-swagger-in-net-core-2-2-webapi-and-azure-ad-2-0/56637026#56637026", "title": "How to Configure Swagger in .NET Core 2.2 WebApi and Azure AD 2.0?", "body": "<p>The reason you're getting a v1.0 token is because you are trying to get access to a v1.0 resource. Please see the article here : <a href=\"https://docs.microsoft.com/en-us/azure/active-directory/develop/access-tokens\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/active-directory/develop/access-tokens</a></p>\n\n<blockquote>\n  <p>Access tokens are created based on the audience of the token, meaning the application that owns the scopes in the token. This is how a resource setting accessTokenAcceptedVersion in the app manifest to 2 allows a client calling the v1.0 endpoint to receive a v2.0 access token. Similarly, this is why changing the access token optional claims for your client do not change the access token received when a token is requested for user.read, which is owned by the MS Graph resource.\n  For the same reason, while testing your client application with a personal account (such as hotmail.com or outlook.com), you may find that the access token received by your client is an opaque string. This is because the resource being accessed has requested legacy MSA (Microsoft account) tickets that are encrypted and can't be understood by the client.</p>\n</blockquote>\n\n<p>Your v1.0 token has the audience for the Microsoft Graph, which is issued by the v1.0 endpoint. If you follow the article here : <a href=\"https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow</a> \nYou will see that even when hitting the v2.0 endpoint, and requesting an access token with Postman for the resource graph.microsoft.com you will get an access token where the iss doesn't have v2.0.</p>\n\n<p>This is also a very useful resource as it's a nice reference to some popular GUIDs in Azure. : <a href=\"https://www.shawntabrizi.com/aad/common-microsoft-resources-azure-active-directory/\" rel=\"nofollow noreferrer\">https://www.shawntabrizi.com/aad/common-microsoft-resources-azure-active-directory/</a></p>\n"}], "owner": {"reputation": 1373, "user_id": 2045559, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/yGSP4.jpg?s=128&g=1", "display_name": "Saeid", "link": "https://stackoverflow.com/users/2045559/saeid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1629, "favorite_count": 0, "accepted_answer_id": 56637026, "answer_count": 1, "score": 4, "last_activity_date": 1560797096, "creation_date": 1556734547, "last_edit_date": 1558418359, "question_id": 55940714, "link": "https://stackoverflow.com/questions/55940714/how-to-configure-swagger-in-net-core-2-2-webapi-and-azure-ad-2-0", "title": "How to Configure Swagger in .NET Core 2.2 WebApi and Azure AD 2.0?", "body": "<p>I have a problem with the \"authorize\" functionality of the Swagger to authenticate a WebApi application using Azure AD 2.0 endpoint. I used the following settings in my startup class, but the acquired token fails to validate the bearer token inside the Swagger. The API works fine with the token sent by the react client.</p>\n\n<pre><code>private const string AzureAdConfigKey = \"AzureAd\";\nprivate const string OAuth2Definition = \"openid\";\n\nprivate IConfiguration Configuration { get; }\nprivate IHostingEnvironment Environment { get; }\n\npublic Startup(IConfiguration configuration, IHostingEnvironment environment)\n{\n    Environment = environment;\n    Configuration = configuration;\n}\n\npublic void ConfigureServices(IServiceCollection services)\n{\n    services.AddAuthentication(AzureADDefaults.JwtBearerAuthenticationScheme)\n        .AddAzureADBearer(options =&gt; Configuration.Bind(AzureAdConfigKey, options));\n\n    services.Configure&lt;JwtBearerOptions&gt;(AzureADDefaults.JwtBearerAuthenticationScheme,\n        options =&gt; options.Authority += \"/v2.0\");\n\n    var authorizationPolicy = new AuthorizationPolicyBuilder()\n        .RequireAuthenticatedUser()\n        .Build();\n\n    services.AddMvc(options =&gt; options.Filters.Add(new AuthorizeFilter(authorizationPolicy)))\n        .SetCompatibilityVersion(CompatibilityVersion.Version_2_2);\n\n    var azureAdAuthority = $\"https://login.microsoftonline.com/{Configuration[\"AzureAd:TenantId\"]}/oauth2/v2.0\";\n    services.AddSwaggerGen(options =&gt;\n    {\n        options.SwaggerDoc(\"v1\", new Info\n        {\n            Title = \"My Api Name\",\n            Version = \"v1\"\n        });\n\n        options.AddSecurityDefinition(OAuth2Definition, new OAuth2Scheme\n        {\n            Description = \"OAuth2 Implicit Grant\",\n            Flow = \"implicit\",\n            AuthorizationUrl = $\"{azureAdAuthority}/authorize\",\n            TokenUrl = $\"{azureAdAuthority}/connect/token\",\n            Scopes = new Dictionary&lt;string, string&gt;\n            {\n                {OAuth2Definition, \"User.Read\"}\n            }\n        });\n\n        options.AddSecurityRequirement(new Dictionary&lt;string, IEnumerable&lt;string&gt;&gt; {{OAuth2Definition, null}});\n    });\n\n    services.AddCors(options =&gt; options.AddPolicy(\"AllowSpecificOrigin\", builder =&gt; builder\n        .WithOrigins(Configuration[\"MyAppClientUrl\"])\n        .AllowCredentials()\n        .AllowAnyHeader()\n        .AllowAnyMethod()\n    ));\n\n    // Other Service Registrations.\n}\n\npublic void Configure(IApplicationBuilder app, IHostingEnvironment env)\n{\n    app.UseMiddleware&lt;ErrorHandlingMiddleware&gt;();\n\n    app.UseCors(\"AllowSpecificOrigin\");\n\n    app.UseHsts();\n    app.UseHttpsRedirection();\n\n    app.UseSwagger();\n    app.UseSwaggerUI(config =&gt;\n    {\n        const string swaggerName = \"MyApp Coding Api\";\n        const string swaggerUrl = \"/swagger/v1/swagger.json\";\n\n        config.SwaggerEndpoint(swaggerUrl, swaggerName);\n        config.RoutePrefix = string.Empty;\n\n        config.OAuthAppName(swaggerName);\n        config.OAuthClientId(Configuration[\"AzureAd:ClientId\"]);\n        config.OAuthClientSecret(Configuration[\"AzureAd:ClientSecret\"]);\n        // This is my Api local path.\n        config.OAuthRealm(\"https://localhost:44398/swagger/ui/o2c-html\");\n        config.OAuthScopeSeparator(\" \");\n    });\n\n    app.UseAuthentication();\n    app.UseMvc();\n}\n</code></pre>\n\n<p>The following is the token generated by the client, which works fine and implements .v2.0:</p>\n\n<pre><code>{\n  \"aud\": \"{Excldued}\",\n  \"iss\": \"https://login.microsoftonline.com/{Excldued}/v2.0\",\n  \"iat\": 1556730915,\n  \"nbf\": 1556730915,\n  \"exp\": 1556734815,\n  \"aio\": \"AVQAq/8LAAAA9lULrpdFyoAfnaWTCkdo8PMz2vL4C0MbDNAxmRBa3rMETsjpnXYFb5izdF/VRWMLzOvwgmw9Zt3zzisWRbLCFMd5KAaJ59wUDqNdSoawS6U=\",\n  \"name\": \"{Excldued}\",\n  \"nonce\": \"{Excldued}\",\n  \"oid\": \"{Excldued}\",\n  \"preferred_username\": \"{Excldued}\",\n  \"roles\": [\n    \"Coder\",\n    \"Supervisor\"\n  ],\n  \"sub\": \"Jn0w0rhsGpwTKPdSjQBLHeHDv2_TD4kaOjo0x06JWKQ\",\n  \"tid\": \"{Excldued}\",\n  \"uti\": \"pOW4Q_EBdkSv_q0-OHRSAA\",\n  \"ver\": \"2.0\"\n}\n</code></pre>\n\n<p>But the swagger generates the following token, which is .v1.0:</p>\n\n<pre><code>{\n  \"aud\": \"00000003-0000-0000-c000-000000000000\",\n  \"iss\": \"https://sts.windows.net/{Excluded}/\",\n  \"iat\": 1556733552,\n  \"nbf\": 1556733552,\n  \"exp\": 1556737452,\n  \"acct\": 0,\n  \"acr\": \"1\",\n  \"aio\": \"AUQAu/8LAAAA9YXDyeK8KuCHbNgw7RGU8GgJk3qpWB1H+Q3i/dC/VRoAtYvp3NHFIYcTFxn3jfTPvvXRWx5MN35kvO0iCK7ftg==\",\n  \"amr\": [\n    \"pwd\",\n    \"mfa\"\n  ],\n  \"app_displayname\": \"{Excluded}\",\n  \"appid\": \"{Excluded}\",\n  \"appidacr\": \"0\",\n  \"family_name\": \"{Excluded}\",\n  \"given_name\": \"{Excluded}\",\n  \"ipaddr\": \"{Excluded}\",\n  \"name\": \"{Excluded}\",\n  \"oid\": \"{Excluded}\",\n  \"onprem_sid\": \"{Excluded}\",\n  \"platf\": \"3\",\n  \"puid\": \"{Excluded}\",\n  \"scp\": \"openid profile User.Read email\",\n  \"signin_state\": [\n    \"kmsi\"\n  ],\n  \"sub\": \"{Excluded}\",\n  \"tid\": \"{Excluded}\",\n  \"unique_name\": \"{Excluded}\",\n  \"upn\": \"{Excluded}\",\n  \"uti\": \"{Excluded}\",\n  \"ver\": \"1.0\",\n  \"xms_st\": {\n    \"sub\": \"{Excluded}\"\n  },\n  \"xms_tcdt\": 1361394419\n}\n</code></pre>\n\n<p>What am I doing wrong in my Swagger configuration that requests 1.0 endpoint and gets the wrong token type?</p>\n\n<h2>UPDATE:</h2>\n\n<p>This is the fiddler request to the Azure AD authorize endpoint:</p>\n\n<pre><code>GET https://login.microsoftonline.com/{TenantId}/oauth2/v2.0/authorize?response_type=token&amp;client_id={ClientId}&amp;redirect_uri=https%3A%2F%2Flocalhost%3A44350%2Foauth2-redirect.html&amp;scope=openid&amp;state={StateValue}&amp;nonce=123456 HTTP/1.1\nHost: login.microsoftonline.com\nConnection: keep-alive\nUpgrade-Insecure-Requests: 1\nDNT: 1\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.157 Safari/537.36\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3\nReferer: https://localhost:44350/index.html\nAccept-Encoding: gzip, deflate, br\nAccept-Language: en-US,en;q=0.9\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 2, "creation_date": 1556734494, "post_id": 55940693, "comment_id": 98534710, "body": "What code are you using to produce this?"}, {"owner": {"reputation": 3233, "user_id": 2630427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb9b9af50987875657ed5b86bcef0aa?s=128&d=identicon&r=PG", "display_name": "ilkerkaran", "link": "https://stackoverflow.com/users/2630427/ilkerkaran"}, "edited": false, "score": 2, "creation_date": 1556734499, "post_id": 55940693, "comment_id": 98534711, "body": "use <code>Console.Write()</code>"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1556734520, "post_id": 55940693, "comment_id": 98534721, "body": "Don&#39;t ever write a newline until after the loop. <a href=\"https://stackoverflow.com/a/5195807/424129\">stackoverflow.com/a/5195807/424129</a>"}], "answers": [{"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 5, "last_activity_date": 1556734700, "creation_date": 1556734700, "answer_id": 55940748, "question_id": 55940693, "link": "https://stackoverflow.com/questions/55940693/how-to-not-print-to-new-line-c-console/55940748#55940748", "title": "How to NOT print to new line c# console", "body": "<p>You aren't showing the code where you're writing the output to the console, but if you don't want to write a new line, you can use a combination of <code>Console.Write(message);</code> and <code>Console.SetCursorPosition</code> (to reset the cursor to the start of the line again).</p>\n\n<p>For example:</p>\n\n<pre><code>for (int i = 0; i &lt; 100000; i ++)\n{\n    // Set the cursor to the beginning (0) of the current line (Console.CursorTop)\n    Console.SetCursorPosition(0, Console.CursorTop);\n    Console.Write(\"count: \" + i);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2782, "user_id": 4458445, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bIIZcxNxAuA/AAAAAAAAAAI/AAAAAAAAOGs/6SNi2yJnzKA/photo.jpg?sz=128", "display_name": "RToyo", "link": "https://stackoverflow.com/users/4458445/rtoyo"}, "edited": false, "score": 0, "creation_date": 1556734873, "post_id": 55940759, "comment_id": 98534869, "body": "Neat, I wasn&#39;t aware that the C# console responded to <code>\\r</code>. Is this essentially the same as using <code>SetCursorPosition</code> to 0 (as in Rufus&#39; answer)? <b>Edit:</b> Your edit answers my question."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 2782, "user_id": 4458445, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bIIZcxNxAuA/AAAAAAAAAAI/AAAAAAAAOGs/6SNi2yJnzKA/photo.jpg?sz=128", "display_name": "RToyo", "link": "https://stackoverflow.com/users/4458445/rtoyo"}, "edited": false, "score": 1, "creation_date": 1556735125, "post_id": 55940759, "comment_id": 98534958, "body": "@RToyo Essentially it works the same, but <code>SetCursorPosition</code> is more expensive (see source code <a href=\"https://referencesource.microsoft.com/mscorlib/R/114298628fe9afcf.html\" rel=\"nofollow noreferrer\">here</a>)."}], "tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": true, "score": 6, "last_activity_date": 1556735669, "last_edit_date": 1556735669, "creation_date": 1556734743, "answer_id": 55940759, "question_id": 55940693, "link": "https://stackoverflow.com/questions/55940693/how-to-not-print-to-new-line-c-console/55940759#55940759", "title": "How to NOT print to new line c# console", "body": "<p>Use the <code>\\r</code> character alone to return the caret (\"print head\") to the first column. This is instead of writing <code>\\r\\n</code> (a Windows/DOS new-line sequence) or <code>\\n</code> (Unix/Linux) which give you a new-line.</p>\n\n<p>Internally, <code>Console.WriteLine( String x )</code> is the same thing as <code>Console.Write( String x ); Console.Write( Environment.NewLine );</code> (and <code>Environment.NewLine</code> is <code>\"\\r\\n\"</code> on Windows).</p>\n\n<p>Try this:</p>\n\n<pre><code>while( true )\n{\n    Single cpuUsage = GetCpuUsage();\n    Console.Write( \"Current CPU usage: {0,5:P2}\", cpuUsage );\n    Console.Write( \"\\r\" );\n\n    await Task.Delay( 500 );\n}\n</code></pre>\n\n<p>Note that you might need to print out a line of whitespace to overwrite any previous text if the next line will be shorter than the previous line, because the previous text will be there. (But by using <code>{0,5:P2}</code> it guarantees that that text will always take up 5 characters (regardless of if it's <code>1%</code> or <code>100%</code> - or use <code>{0,-5:P2}</code> for a left-aligned number instead).</p>\n\n<p>This technique also works in other platforms that use the same stdin/stdout semantics as C#/.NET, including C, C++, Java, and so on - whereas the <code>Console.SetCursorPosition</code> API is not as universal.</p>\n"}], "owner": {"reputation": 93, "user_id": 11261434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6138238799060680ba4ae513b5bf09d?s=128&d=identicon&r=PG&f=1", "display_name": "Omer Enes", "link": "https://stackoverflow.com/users/11261434/omer-enes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2477, "favorite_count": 1, "closed_date": 1556735198, "accepted_answer_id": 55940759, "answer_count": 2, "score": 1, "last_activity_date": 1556735669, "creation_date": 1556734428, "question_id": 55940693, "link": "https://stackoverflow.com/questions/55940693/how-to-not-print-to-new-line-c-console", "closed_reason": "Duplicate", "title": "How to NOT print to new line c# console", "body": "<p>i am writing a simple program, and for that i want to output the current cpu usage, however with a stander \"for\" or \"while\" loop, it prints it every time on a new line, let me show what i mean:</p>\n\n<p>output should be:</p>\n\n<pre><code>Current cpu usage: (usage)\n</code></pre>\n\n<p>where the usage refreshes every second</p>\n\n<p>now, i want to refresh it every second, but as i mentioned, with a for or while loop that wil just print it out to a new line every time, like this:</p>\n\n<pre><code>Current cpu usage: (usage)\n(usage)\n(usage)\n(usage)\n(usage)\n</code></pre>\n\n<p>so, how do i just refresh the \"usage\"? </p>\n\n<p>btw, i'm pretty familiar with c#, so you don't have to go in depth :)</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 2, "creation_date": 1556734564, "post_id": 55940664, "comment_id": 98534737, "body": "Why use a dictionary if you are frequently retrieving them by criteria other  than that key?"}, {"owner": {"reputation": 319, "user_id": 10543278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zp0tyM_82M/AAAAAAAAAAI/AAAAAAAAAGg/jM5bBkk1v3U/photo.jpg?sz=128", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/10543278/vreesie"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1556734946, "post_id": 55940664, "comment_id": 98534892, "body": "What else should I use then? A list?"}, {"owner": {"reputation": 177, "user_id": 5763765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3tzXL.jpg?s=128&g=1", "display_name": "M. Ruiz", "link": "https://stackoverflow.com/users/5763765/m-ruiz"}, "edited": false, "score": 0, "creation_date": 1556741297, "post_id": 55940664, "comment_id": 98537401, "body": "A List&lt;T&gt; should do the trick. Something like theList.Where(tro =&gt; tro.Selected).ToList();"}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 1, "creation_date": 1556766649, "post_id": 55940664, "comment_id": 98543080, "body": "HI,first want to know, where is the original data of <code>TriangleRegistryObject</code> from? And secocd want to know, why not when setting data to <code>TriangleRegistryObject</code> first time add the Selected&#39;s value? Last want to know, how is the detail logic of <code>TriangleRegistry</code>?"}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1556784871, "post_id": 55940664, "comment_id": 98549071, "body": "How many <code>Selected</code> triangles are usually in the dictionary? One or more?"}], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 10543278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zp0tyM_82M/AAAAAAAAAAI/AAAAAAAAAGg/jM5bBkk1v3U/photo.jpg?sz=128", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/10543278/vreesie"}, "edited": false, "score": 0, "creation_date": 1556735138, "post_id": 55940738, "comment_id": 98534964, "body": "&#39;KeyValuePair&lt;string, TriangleRegistryObject&gt;&#39; does not contain a definition for &#39;x1&#39; and no accessible extension method &#39;x1&#39; accepting a first argument of type &#39;KeyValuePair&lt;string, TriangleRegistryObject&gt;&#39; could be found (are you missing a using directive or an assembly reference?)"}, {"owner": {"reputation": 319, "user_id": 10543278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zp0tyM_82M/AAAAAAAAAAI/AAAAAAAAAGg/jM5bBkk1v3U/photo.jpg?sz=128", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/10543278/vreesie"}, "edited": false, "score": 0, "creation_date": 1556736575, "post_id": 55940738, "comment_id": 98535519, "body": "How can I fix this?"}], "tags": [], "owner": {"reputation": 55371, "user_id": 536, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/2142b1a501386ed0af9232862af48df9?s=128&d=identicon&r=PG", "display_name": "Judah Gabriel Himango", "link": "https://stackoverflow.com/users/536/judah-gabriel-himango"}, "is_accepted": false, "score": -1, "last_activity_date": 1556917520, "last_edit_date": 1556917520, "creation_date": 1556734645, "answer_id": 55940738, "question_id": 55940664, "link": "https://stackoverflow.com/questions/55940664/how-to-get-a-value-from-a-dictionary-using-other-values/55940738#55940738", "title": "How to get a value from a dictionary using other values", "body": "<p>You can use LINQ to query your dictionary and find a match:</p>\n\n<pre><code>using System.Linq;\n\n...\n\nvar matches = TriangleRegistry.Where(t =&gt; t.Value.X1 == ... &amp;&amp; t.Value.Y1 == ...); // fill in the blanks here with whatever you're looking for\nforeach (var match in matches)\n{\n   Console.WriteLine(\"Here's a match: {0}\", match.Selected);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": true, "score": 0, "last_activity_date": 1556740983, "last_edit_date": 1556740983, "creation_date": 1556739208, "answer_id": 55941672, "question_id": 55940664, "link": "https://stackoverflow.com/questions/55940664/how-to-get-a-value-from-a-dictionary-using-other-values/55941672#55941672", "title": "How to get a value from a dictionary using other values", "body": "<p>If you want to store and retrieve something from a dictionary and the key is made up of all three coordinates of the triangle - six values - then the combined coordinates of the triangle <em>are</em> the key to the dictionary.</p>\n\n<p>That's what you're describing here:</p>\n\n<blockquote>\n  <p>I know x1, y1, x2, y2, x3, y3 and I want get the value of Selected of the right triangle using x1, y1, x2, y2, x3, y3.</p>\n</blockquote>\n\n<p><strong>(I'm sidestepping the question over whether a <code>Dictionary&lt;TriangleRegistryObject, bool&gt;</code> makes sense and focusing on how the points of a triangle could be used as a key.)</strong></p>\n\n<p>Suppose you actually created a <code>Dictionary&lt;TriangleRegistryObject, bool&gt;</code> where the key was a triangle and the value was a boolean indicating whether it was selected or not. The challenge would still be that in order to determine whether a key is a duplicate or not, the dictionary would use reference equality. Two different instances of <code>TriangleRegistryObject</code> with identical coordinates could be two keys, which probably isn't what you want.</p>\n\n<p>What we need is to tell the dictionary how to compare two triangles. We could do this by overriding <code>Equals</code> and <code>GetHashCode</code> on <code>TriangleRegistryObject</code>. But instead of changing the class to meet the needs of this comparison we can just tell this particular dictionary how to compare triangles (although that might also be a perfectly good solution.)</p>\n\n<p>First we would create a custom implementation of <code>IEqualityComparer&lt;TriangleRegistryObject&gt;</code>:</p>\n\n<pre><code>public class TriangleComparer : IEqualityComparer&lt;TriangleRegistryObject&gt;\n{\n    public bool Equals(TriangleRegistryObject x, TriangleRegistryObject y)\n    {\n        return x.x1.Equals(y.x1) \n               &amp;&amp; x.y1.Equals(y.y1) \n               &amp;&amp; x.x2.Equals(y.x2) \n               &amp;&amp; x.y2.Equals(y.y2) \n               &amp;&amp; x.x3.Equals(y.x3) \n               &amp;&amp; x.y3.Equals(y.y3);\n    }\n\n    public int GetHashCode(TriangleRegistryObject obj)\n    {\n        unchecked\n        {\n            var hashCode = obj.GetHashCode();\n            hashCode = (hashCode * 397) ^ obj.GetHashCode();\n            hashCode = (hashCode * 397) ^ obj.GetHashCode();\n            hashCode = (hashCode * 397) ^ obj.GetHashCode();\n            hashCode = (hashCode * 397) ^ obj.GetHashCode();\n            hashCode = (hashCode * 397) ^ obj.GetHashCode();\n            return hashCode;\n        }\n    }\n}\n</code></pre>\n\n<p>(Okay, that doesn't look so simple. I actually cheated and let Resharper help me to generate all that.)</p>\n\n<p>Now, if we want to use the triangle as the key in the dictionary, we would just specify that comparer when creating the dictionary:</p>\n\n<pre><code>var dictionary = new Dictionary&lt;TriangleRegistryObject, bool&gt;(new TriangleComparer());\n</code></pre>\n\n<p>Now the dictionary will compare keys the way we've told it to instead of using reference equality.</p>\n\n<p>Or, if you just wanted to add the equality comparison directly into the triangle itself instead of using a custom comparer, you could do this (which leaves out the <code>Selected</code> property):</p>\n\n<pre><code>public class TriangleRegistryObject\n{\n    public double x1 { get; set; }\n    public double y1 { get; set; }\n    public double x2 { get; set; }\n    public double y2 { get; set; }\n    public double x3 { get; set; }\n    public double y3 { get; set; }\n\n    public override bool Equals(object obj)\n    {\n        return base.Equals(obj);\n    }\n\n    protected bool Equals(TriangleRegistryObject other)\n    {\n        return x1.Equals(other.x1) \n            &amp;&amp; y1.Equals(other.y1) \n            &amp;&amp; x2.Equals(other.x2) \n            &amp;&amp; y2.Equals(other.y2) \n            &amp;&amp; x3.Equals(other.x3) \n            &amp;&amp; y3.Equals(other.y3);\n    }\n\n    public override int GetHashCode()\n    {\n        unchecked\n        {\n            var hashCode = x1.GetHashCode();\n            hashCode = (hashCode * 397) ^ y1.GetHashCode();\n            hashCode = (hashCode * 397) ^ x2.GetHashCode();\n            hashCode = (hashCode * 397) ^ y2.GetHashCode();\n            hashCode = (hashCode * 397) ^ x3.GetHashCode();\n            hashCode = (hashCode * 397) ^ y3.GetHashCode();\n            return hashCode;\n        }\n    }\n}\n</code></pre>\n\n<p>There's still one catch: Presumably the points of triangle don't change. If they could change then bad things could happen. Let's say you have two different points used as keys, and then the points of one are changed to be the same as the points of another. Then you would have duplicate keys, which would be bad.</p>\n\n<p>To protect against that you would make your triangle class immutable so that the values are passed to the constructor and can never be changed. </p>\n\n<hr>\n\n<p>Just to cover the bases, since I don't know any specifics of your application: If your triangle is a struct instead of a class and all of its members are value types then the comparisons will be made using values. If the only values are the points (you remove <code>Selected</code>) then two instances with identical points would be considered equal and you wouldn't need all the extra comparison code. You would still want to make the struct immutable.</p>\n"}, {"tags": [], "owner": {"reputation": 591, "user_id": 8998175, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-y_JyZz2tJ64/AAAAAAAAAAI/AAAAAAAAA9Y/VSVrc7mwzMk/photo.jpg?sz=128", "display_name": "misticos", "link": "https://stackoverflow.com/users/8998175/misticos"}, "is_accepted": false, "score": 0, "last_activity_date": 1556782738, "creation_date": 1556782738, "answer_id": 55947705, "question_id": 55940664, "link": "https://stackoverflow.com/questions/55940664/how-to-get-a-value-from-a-dictionary-using-other-values/55947705#55947705", "title": "How to get a value from a dictionary using other values", "body": "<p>You can do that by using LINQ (as posted above/below) or for each loop and check wash variable. In most cases LINQ is slower alot so if your application requires a better performance - consider using for each / etc. </p>\n"}], "owner": {"reputation": 319, "user_id": 10543278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5Zp0tyM_82M/AAAAAAAAAAI/AAAAAAAAAGg/jM5bBkk1v3U/photo.jpg?sz=128", "display_name": "Vreesie", "link": "https://stackoverflow.com/users/10543278/vreesie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 55941672, "answer_count": 3, "score": 0, "last_activity_date": 1556917520, "creation_date": 1556734274, "last_edit_date": 1556739778, "question_id": 55940664, "link": "https://stackoverflow.com/questions/55940664/how-to-get-a-value-from-a-dictionary-using-other-values", "title": "How to get a value from a dictionary using other values", "body": "<p>I have a problem. I created a dictionary like this:</p>\n\n<pre><code>var TriangleRegistry = new Dictionary&lt;string, TriangleRegistryObject&gt;();\n</code></pre>\n\n<p>With a class like this:</p>\n\n<pre><code>class TriangleRegistryObject\n{\n    public double x1 { get; set; }\n    public double y1 { get; set; }\n    public double x2 { get; set; }\n    public double y2 { get; set; }\n    public double x3 { get; set; }\n    public double y3 { get; set; }\n    public bool Selected { get; set; }\n}\n</code></pre>\n\n<p>The dictionary is filled with coordinates of triangles. Now, I know x1, y1, x2, y2, x3, y3 and I want get the value of <code>Selected</code> of the right triangle using x1, y1, x2, y2, x3, y3.\n<br>\nIts important that I use all 6 values to find the 7th, because I got a lot of triangles!<br>\nCan someone help me?</p>\n"}, {"tags": ["c#", "asp.net-core", "jquery-file-upload"], "comments": [{"owner": {"reputation": 143, "user_id": 3927233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/573e0168bd61f3d1ec597ca797361af8?s=128&d=identicon&r=PG&f=1", "display_name": "Boolean", "link": "https://stackoverflow.com/users/3927233/boolean"}, "edited": false, "score": 0, "creation_date": 1556740067, "post_id": 55940646, "comment_id": 98536926, "body": "Is the form data a model (in your models folder)? Can I suggest adding a <code>[FromBody] myclass formdata</code> as input to your <code>ActionResult</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 8890131, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cfeBz1ikSmA/AAAAAAAAAAI/AAAAAAAAT60/6MbGCrF3__s/photo.jpg?sz=128", "display_name": "mojobec", "link": "https://stackoverflow.com/users/8890131/mojobec"}, "is_accepted": false, "score": 2, "last_activity_date": 1556740296, "last_edit_date": 1556740296, "creation_date": 1556739860, "answer_id": 55941801, "question_id": 55940646, "link": "https://stackoverflow.com/questions/55940646/how-to-access-additional-form-data-sent-from-jquery-file-upload-in-asp-net-core/55941801#55941801", "title": "How to access additional form data sent from jquery file upload in asp.net core?", "body": "<p>just add it to the function signature </p>\n\n<p>this should work</p>\n\n<pre><code>[HttpPost]\n[Route(\"Upload\")]\npublic ActionResult Upload(IEnumerable&lt;IFormFile&gt; files, string example)\n{   \n   //do something with data\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "is_accepted": true, "score": 1, "last_activity_date": 1556782251, "last_edit_date": 1556782251, "creation_date": 1556781681, "answer_id": 55947462, "question_id": 55940646, "link": "https://stackoverflow.com/questions/55940646/how-to-access-additional-form-data-sent-from-jquery-file-upload-in-asp-net-core/55947462#55947462", "title": "How to access additional form data sent from jquery file upload in asp.net core?", "body": "<p><strong>How can I access the formData from HttpContext.Request in asp.net core ?</strong></p>\n\n<p>From the article you provide , \"formData object, formData: {example: 'test'} will arrive on server-side as POST parameter\"</p>\n\n<p>You could also try the following method to get it :</p>\n\n<pre><code> [HttpPost]\n [Route(\"Upload\")]\n public void Upload()\n {\n        var dict = Request.Form.ToDictionary(x =&gt; x.Key, x =&gt; x.Value.ToString());\n       //In that case, you could iterate over your dictionary or you can access values directly:\n        var CurrentContext = dict[\"example\"];\n  }\n</code></pre>\n"}], "owner": {"reputation": 2032, "user_id": 638443, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c78e475cc7da168f8344fb733916647?s=128&d=identicon&r=PG", "display_name": "Jyina", "link": "https://stackoverflow.com/users/638443/jyina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 55947462, "answer_count": 2, "score": 0, "last_activity_date": 1556782251, "creation_date": 1556734160, "question_id": 55940646, "link": "https://stackoverflow.com/questions/55940646/how-to-access-additional-form-data-sent-from-jquery-file-upload-in-asp-net-core", "title": "How to access additional form data sent from jquery file upload in asp.net core?", "body": "<p>I am using jquery file upload to upload large files in chunks to server. I need to send additional data to server along with the file.</p>\n\n<p>I found <a href=\"https://github.com/blueimp/jQuery-File-Upload/wiki/How-to-submit-additional-form-data\" rel=\"nofollow noreferrer\">this</a> article that suggests adding formData as below.</p>\n\n<pre><code>$form = $('#fileupload').fileupload({\n            maxChunkSize: 3000000,\n            url: '/FileAPI/Upload',\n            formData: { example: 'test' }\n         });\n</code></pre>\n\n<p>How can I access the formData from HttpContext.Request in asp.net core ? Where is it available? \nThanks for any suggestions.</p>\n\n<pre><code>[HttpPost]\n[Route(\"Upload\")]\n\npublic ActionResult Upload()\n{\n    var CurrentContext = HttpContext.Request;\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "windows"], "comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1556735245, "post_id": 55940626, "comment_id": 98535004, "body": "You can use WMI with <a href=\"https://docs.microsoft.com/en-us/windows/desktop/CIMWin32Prov/win32-operatingsystem\" rel=\"nofollow noreferrer\">Win32_OperatingSystem</a> (seeOSProductSuite, SuiteMask and/or ProductSKU) or call <a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getversionexw\" rel=\"nofollow noreferrer\"><code>GetVersionEx</code></a> as long as you don&#39;t need to worry about Windows 8.1 or above."}, {"owner": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 0, "creation_date": 1556735360, "post_id": 55940626, "comment_id": 98535050, "body": "Also see <a href=\"https://stackoverflow.com/q/2819934/1364007\">Detect Windows version in .net</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5605364, "user_type": "registered", "profile_image": "https://graph.facebook.com/1251750451518411/picture?type=large", "display_name": "Tylor Emmett", "link": "https://stackoverflow.com/users/5605364/tylor-emmett"}, "edited": false, "score": 0, "creation_date": 1556824685, "post_id": 55950570, "comment_id": 98569483, "body": "Unfortunately that doesn&#39;t work for what I need. Both Windows 7 Pro and Windows 7 Embedded return the same value: Win32NT, NT 6.1.7601 SP 1."}, {"owner": {"reputation": 101, "user_id": 9038224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Zqeh.jpg?s=128&g=1", "display_name": "Abhay Agarwal", "link": "https://stackoverflow.com/users/9038224/abhay-agarwal"}, "reply_to_user": {"reputation": 1, "user_id": 5605364, "user_type": "registered", "profile_image": "https://graph.facebook.com/1251750451518411/picture?type=large", "display_name": "Tylor Emmett", "link": "https://stackoverflow.com/users/5605364/tylor-emmett"}, "edited": false, "score": 0, "creation_date": 1556860349, "post_id": 55950570, "comment_id": 98578149, "body": "Try this By changing the language of your machine. <a href=\"https://www.askvg.com/fix-something-happened-error-message-in-windows-10-upgrade/\" rel=\"nofollow noreferrer\">askvg.com/&hellip;</a>"}], "tags": [], "owner": {"reputation": 101, "user_id": 9038224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Zqeh.jpg?s=128&g=1", "display_name": "Abhay Agarwal", "link": "https://stackoverflow.com/users/9038224/abhay-agarwal"}, "is_accepted": false, "score": -1, "last_activity_date": 1556793338, "creation_date": 1556793338, "answer_id": 55950570, "question_id": 55940626, "link": "https://stackoverflow.com/questions/55940626/how-do-i-determine-sub-versions-of-windows-7-programatically-in-c/55950570#55950570", "title": "How do I determine sub versions of Windows 7 programatically in C#?", "body": "<p>Run the above code to get the OS details:     </p>\n\n<pre><code>  using System;\n\n    public class Example\n    {\n        public static void Main()\n        {\n            var os = Environment.OSVersion;\n            Console.WriteLine(\"Current OS Information:\\n\");\n            Console.WriteLine(\"Platform: {0:G}\", os.Platform);\n            Console.WriteLine(\"Version String: {0}\", os.VersionString);\n            Console.WriteLine(\"Version Information:\");\n            Console.WriteLine(\"   Major: {0}\", os.Version.Major);\n            Console.WriteLine(\"   Minor: {0}\", os.Version.Minor);\n            Console.WriteLine(\"Service Pack: '{0}'\", os.ServicePack);\n            Console.ReadKey();\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5605364, "user_type": "registered", "profile_image": "https://graph.facebook.com/1251750451518411/picture?type=large", "display_name": "Tylor Emmett", "link": "https://stackoverflow.com/users/5605364/tylor-emmett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556793338, "creation_date": 1556734071, "question_id": 55940626, "link": "https://stackoverflow.com/questions/55940626/how-do-i-determine-sub-versions-of-windows-7-programatically-in-c", "title": "How do I determine sub versions of Windows 7 programatically in C#?", "body": "<p>I need to determine whether a machine is running Windows 7 Pro, or Windows 7 Embedded. Environment.OSVersion returns the same version number on both systems, as does the Windows Management Interface. I'm looking at the Registry for some form of identifier, but I'm wondering if there is a solution I haven't considered yet.</p>\n"}, {"tags": ["c#", ".net", "installation"], "owner": {"reputation": 93, "user_id": 10238631, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_IlScikSZeY/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPMtwkkGOGmSrdTXAuxU4OV7tBpQg/mo/photo.jpg?sz=128", "display_name": "Ceri Westcott", "link": "https://stackoverflow.com/users/10238631/ceri-westcott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1556733492, "creation_date": 1556733492, "question_id": 55940524, "link": "https://stackoverflow.com/questions/55940524/cannot-install-visual-studio-correctly-due-to-vc-runtimeminimum-x86-msi-missing", "title": "Cannot install Visual Studio Correctly due to vc_runtimeminimum_x86.msi missing", "body": "<p>Essentially I was upgrading VS studio last night and had a power cut, any time I open VS studio I get \"Assembly CSharp(failed to load)\", I've tried everything in this thread </p>\n\n<p><a href=\"https://stackoverflow.com/questions/43512889/missing-vc-runtimeminimum-x86-msi-and-installation-wont-work\">Missing vc_runtimeminimum_x86.msi and installation won&#39;t work</a></p>\n\n<p>I'm just a bit lost with what my solutions are as I need to use vs quite soon.\nSee image below for error i get whilst installing\n<a href=\"https://imgur.com/a/BgRU949\" rel=\"nofollow noreferrer\">https://imgur.com/a/BgRU949</a></p>\n"}, {"tags": ["c#", ".net", "wpf", "animation", "wpf-controls"], "answers": [{"comments": [{"owner": {"reputation": 1810, "user_id": 8216826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e14f4255b463c9364500697cef3bc4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Eiconic", "link": "https://stackoverflow.com/users/8216826/eiconic"}, "edited": false, "score": 0, "creation_date": 1557233340, "post_id": 55941165, "comment_id": 98689673, "body": "I appreciate that, but here are some problems : 1. I want my UserControl to fill the background and hence I used DockPanel since there was nothing that could work for me! I tried using Grid but to my surprise, no matter what I do it doesn&#39;t fill up the whole space. Plus there will be no resizing of window, so changing the height won`t be any of a problem."}, {"owner": {"reputation": 1810, "user_id": 8216826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e14f4255b463c9364500697cef3bc4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Eiconic", "link": "https://stackoverflow.com/users/8216826/eiconic"}, "edited": false, "score": 0, "creation_date": 1557233736, "post_id": 55941165, "comment_id": 98689884, "body": "I can say we both have the similar approach here, but you used a rectangle which is way too simpler than a user control with images and lot of text."}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "reply_to_user": {"reputation": 1810, "user_id": 8216826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e14f4255b463c9364500697cef3bc4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Eiconic", "link": "https://stackoverflow.com/users/8216826/eiconic"}, "edited": false, "score": 0, "creation_date": 1557233953, "post_id": 55941165, "comment_id": 98690016, "body": "The big difference is I use a scaletransform. That will transform anything in whatever control you like. So it doesn&#39;t matter how complicated your usercontrol is. The layout will not change dynamically like with animating the height and it will not be anywhere near as choppy. Unless you still set framerate to 10."}, {"owner": {"reputation": 1810, "user_id": 8216826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e14f4255b463c9364500697cef3bc4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Eiconic", "link": "https://stackoverflow.com/users/8216826/eiconic"}, "edited": false, "score": 0, "creation_date": 1557418754, "post_id": 55941165, "comment_id": 98767427, "body": "Sorry but I tried using ScaleX and ScaleY both none seem to work either."}], "tags": [], "owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "is_accepted": false, "score": 0, "last_activity_date": 1556736707, "creation_date": 1556736707, "answer_id": 55941165, "question_id": 55940507, "link": "https://stackoverflow.com/questions/55940507/wpf-animation-is-choppy/55941165#55941165", "title": "WPF Animation is Choppy", "body": "<p>Framerate is like the frame rate of a film.</p>\n\n<p>A low frame rate will give you a choppy film or a choppy animation.</p>\n\n<p>Using a dockpanel is probably a bad idea for some content you are going to animate, because it will try and adjust things every time your height changes.</p>\n\n<p>I suggest you go with a grid instead.</p>\n\n<p>You should use a scaletransform.  Partly because as you animate height you will find all the content of your usercontrol have their measures invalidated and they will want to start off the whole measure arrange cycle many times.</p>\n\n<p>If you're thinking measure arrange? Then read up on how the wpf layout system works.</p>\n\n<p>I would also advise you to use xaml rather than code.</p>\n\n<p>Here's some code to think about:</p>\n\n<pre><code>    private void StartAnimate_Click(object sender, RoutedEventArgs e)\n    {\n        var tran = testRectangle.RenderTransform = new ScaleTransform(1d, 1d)\n        {\n            CenterX = 0.5d,\n            CenterY = 0.5d\n        };\n        var anim = new DoubleAnimation\n        {\n            To = 1.0,\n            From=0,\n            Duration = TimeSpan.FromSeconds(0.5d),\n            DecelerationRatio = 0.5d,\n            FillBehavior = FillBehavior.Stop\n        };\n        tran.BeginAnimation(\n             ScaleTransform.ScaleYProperty,\n             anim,\n             HandoffBehavior.Compose);\n    }\n</code></pre>\n\n<p>I put a rectangle and my button in a dockpanel to prove this works.</p>\n\n<pre><code>&lt;DockPanel&gt;\n    &lt;Rectangle Fill=\"Blue\" Name=\"testRectangle\"\n               Width=\"500\"\n    /&gt;\n    &lt;Button Content=\"Animate\"\n            HorizontalAlignment=\"Center\"\n            VerticalAlignment=\"Center\"\n            Name=\"StartAnimate\"\n            Click=\"StartAnimate_Click\"  /&gt;\n&lt;/DockPanel&gt;\n</code></pre>\n\n<p>A rectangle is pretty simple but it animates smoothly.</p>\n"}], "owner": {"reputation": 1810, "user_id": 8216826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e14f4255b463c9364500697cef3bc4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Eiconic", "link": "https://stackoverflow.com/users/8216826/eiconic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556736707, "creation_date": 1556733390, "question_id": 55940507, "link": "https://stackoverflow.com/questions/55940507/wpf-animation-is-choppy", "title": "WPF Animation is Choppy", "body": "<p>I am trying to use some animations to make my application feel good. But I could not help the choppy animation that no matter what I do, it is always end up stuttering. </p>\n\n<p>Take a look:</p>\n\n<pre><code>DoubleAnimation anim = new DoubleAnimation()\n                 {\n//ht is height of DockPanel, I wanted to start from 200 less than Actual DockPanel Height\n                         From = ht - 200,\n                         To = ht,\n                         Duration = TimeSpan.FromSeconds(1),\n                         AccelerationRatio = 0.5,\n                         DecelerationRatio = 0.5\n                     };\n    x.BeginAnimation(HeightProperty, anim);\n    //x is the UserControl\n</code></pre>\n\n<p>Also, what I need to animate is a custom <strong>UserControl</strong>, which contains some text like 100 words and bunch of <strong>Images</strong>. I just want to make it grow in to the height of the current <strong>DockPanel</strong> as soon it is loaded.</p>\n\n<p>What I saw by searching for the solution is this,</p>\n\n<pre><code>Timeline.SetDesiredFrameRate(anim, 10);\n</code></pre>\n\n<p>Even trying any value in there nothing really happens.</p>\n"}, {"tags": ["c#", "class", "xsd"], "comments": [{"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556734786, "post_id": 55940430, "comment_id": 98534827, "body": "Can you include more of the schema? This is missing parts (<code>CONSTANTType</code>) so I can&#39;t test it. I thought it might be that the values were numeric and you can&#39;t have an enum with numeric values as names. But when I tested a schema with values like that it created an enum like this: <code>[System.Xml.Serialization.XmlEnumAttribute(&quot;200&quot;)] Item200,</code>"}, {"owner": {"reputation": 262, "user_id": 8016574, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-8FshGVgfBTs/AAAAAAAAAAI/AAAAAAAAIkA/n_v3THMKD2c/photo.jpg?sz=128", "display_name": "Ethan Shoe", "link": "https://stackoverflow.com/users/8016574/ethan-shoe"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556735545, "post_id": 55940430, "comment_id": 98535118, "body": "@ScottHannen I added the full file"}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556735637, "post_id": 55940430, "comment_id": 98535151, "body": "Unfortunately it still has an include that references even more files."}, {"owner": {"reputation": 262, "user_id": 8016574, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-8FshGVgfBTs/AAAAAAAAAAI/AAAAAAAAIkA/n_v3THMKD2c/photo.jpg?sz=128", "display_name": "Ethan Shoe", "link": "https://stackoverflow.com/users/8016574/ethan-shoe"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556736370, "post_id": 55940430, "comment_id": 98535433, "body": "@ScottHannen Darn. Well, do you know the way to get the enumerated values present in it from the generated class file? How did you get what you mentioned above?"}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556736486, "post_id": 55940430, "comment_id": 98535488, "body": "I hadn&#39;t worked with schemas in a while so I searched for another question about something similar using terms like &quot;xsd.exe enumeration restriction.&quot; I found a question that included a complete schema. Then I had to Google how to use xsd.exe because I forgot that too. Then I tested what it did if I replaced the enumeration values with numbers."}, {"owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "edited": false, "score": 0, "creation_date": 1556739107, "post_id": 55940430, "comment_id": 98536499, "body": "My guess is, that your <code>CONSTANTType</code> is actually defined as being an int instead of a string. That might throw off the code generator into making it an int instead of an enum."}, {"owner": {"reputation": 262, "user_id": 8016574, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-8FshGVgfBTs/AAAAAAAAAAI/AAAAAAAAIkA/n_v3THMKD2c/photo.jpg?sz=128", "display_name": "Ethan Shoe", "link": "https://stackoverflow.com/users/8016574/ethan-shoe"}, "reply_to_user": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "edited": false, "score": 0, "creation_date": 1556739939, "post_id": 55940430, "comment_id": 98536865, "body": "@ChristophHerold sorry if this is a dumb question but, where is that usually defined?"}, {"owner": {"reputation": 262, "user_id": 8016574, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-8FshGVgfBTs/AAAAAAAAAAI/AAAAAAAAIkA/n_v3THMKD2c/photo.jpg?sz=128", "display_name": "Ethan Shoe", "link": "https://stackoverflow.com/users/8016574/ethan-shoe"}, "reply_to_user": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "edited": false, "score": 0, "creation_date": 1556740145, "post_id": 55940430, "comment_id": 98536963, "body": "@ChristophHerold Actually how about this: Even if the value is an int, how do I get those from the generated class? That&#39;s what I am trying to find out."}, {"owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "edited": false, "score": 0, "creation_date": 1556746178, "post_id": 55940430, "comment_id": 98539108, "body": "I haven&#39;t tried it yet, but my assumption is, that the xsd tool simply only creates enums for <code>string</code> based types with an enumeration restriction. I would need to verify this, though, so don&#39;t pin me down to this :-)"}], "answers": [{"comments": [{"owner": {"reputation": 262, "user_id": 8016574, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-8FshGVgfBTs/AAAAAAAAAAI/AAAAAAAAIkA/n_v3THMKD2c/photo.jpg?sz=128", "display_name": "Ethan Shoe", "link": "https://stackoverflow.com/users/8016574/ethan-shoe"}, "edited": false, "score": 0, "creation_date": 1556748596, "post_id": 55943293, "comment_id": 98539801, "body": "I tried switching them to strings on my xsd and it worked. Thank you much!"}], "tags": [], "owner": {"reputation": 1710, "user_id": 2451871, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/848504484fe5f34bbe40d6c2251128e3?s=128&d=identicon&r=PG", "display_name": "Christoph Herold", "link": "https://stackoverflow.com/users/2451871/christoph-herold"}, "is_accepted": true, "score": 2, "last_activity_date": 1556748444, "creation_date": 1556748444, "answer_id": 55943293, "question_id": 55940430, "link": "https://stackoverflow.com/questions/55940430/class-generated-from-schema-using-xsd-exe-doesnt-contain-enumeration-values/55943293#55943293", "title": "Class generated from schema using xsd.exe doesn&#39;t contain enumeration values", "body": "<p>I guess, my assumption about the xsd tool only generating enums for enumeration values defined on <code>xs:string</code> types is true. I tried the following simple xml schema:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;xs:schema targetNamespace=\"http://tempuri.org/XMLSchema.xsd\"\n    elementFormDefault=\"qualified\"\n    xmlns=\"http://tempuri.org/XMLSchema.xsd\"\n    xmlns:mstns=\"http://tempuri.org/XMLSchema.xsd\"\n    xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\n&gt;\n  &lt;xs:element name=\"MyClass\"&gt;\n    &lt;xs:complexType&gt;\n      &lt;xs:sequence&gt;\n        &lt;xs:element name=\"MyStringEnum\"&gt;\n          &lt;xs:simpleType&gt;\n            &lt;xs:restriction base=\"xs:string\"&gt;\n              &lt;xs:enumeration value=\"Val1\" /&gt;\n              &lt;xs:enumeration value=\"Val2\" /&gt;\n              &lt;xs:enumeration value=\"Val3\" /&gt;\n            &lt;/xs:restriction&gt;\n          &lt;/xs:simpleType&gt;\n        &lt;/xs:element&gt;\n        &lt;xs:element name=\"MyIntEnum\"&gt;\n          &lt;xs:simpleType&gt;\n            &lt;xs:restriction base=\"xs:int\"&gt;\n              &lt;xs:enumeration value=\"2\" /&gt;\n              &lt;xs:enumeration value=\"4\" /&gt;\n              &lt;xs:enumeration value=\"6\" /&gt;\n            &lt;/xs:restriction&gt;\n          &lt;/xs:simpleType&gt;\n        &lt;/xs:element&gt;\n      &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n  &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p>Running the xsd tool on this, produces the following classes:</p>\n\n<pre><code>using System.Xml.Serialization;\n\n/// &lt;remarks/&gt;\n[System.CodeDom.Compiler.GeneratedCodeAttribute(\"xsd\", \"4.6.1055.0\")]\n[System.SerializableAttribute()]\n[System.Diagnostics.DebuggerStepThroughAttribute()]\n[System.ComponentModel.DesignerCategoryAttribute(\"code\")]\n[System.Xml.Serialization.XmlTypeAttribute(AnonymousType=true, Namespace=\"http://tempuri.org/XMLSchema.xsd\")]\n[System.Xml.Serialization.XmlRootAttribute(Namespace=\"http://tempuri.org/XMLSchema.xsd\", IsNullable=false)]\npublic partial class MyClass {\n\n    private MyClassMyStringEnum myStringEnumField;\n\n    private int myIntEnumField;\n\n    /// &lt;remarks/&gt;\n    public MyClassMyStringEnum MyStringEnum {\n        get {\n            return this.myStringEnumField;\n        }\n        set {\n            this.myStringEnumField = value;\n        }\n    }\n\n    /// &lt;remarks/&gt;\n    public int MyIntEnum {\n        get {\n            return this.myIntEnumField;\n        }\n        set {\n            this.myIntEnumField = value;\n        }\n    }\n}\n\n/// &lt;remarks/&gt;\n[System.CodeDom.Compiler.GeneratedCodeAttribute(\"xsd\", \"4.6.1055.0\")]\n[System.SerializableAttribute()]\n[System.Xml.Serialization.XmlTypeAttribute(AnonymousType=true, Namespace=\"http://tempuri.org/XMLSchema.xsd\")]\npublic enum MyClassMyStringEnum {\n\n    /// &lt;remarks/&gt;\n    Val1,\n\n    /// &lt;remarks/&gt;\n    Val2,\n\n    /// &lt;remarks/&gt;\n    Val3,\n}\n</code></pre>\n\n<p>As you can easily see, the <code>enum</code> for the <code>xs:string</code> based member was generated, whereas the <code>xs:int</code> based member is created simply as an int type. I'm still looking for the documentation to confirm this, but the test results speak for themselves.</p>\n"}], "owner": {"reputation": 262, "user_id": 8016574, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-8FshGVgfBTs/AAAAAAAAAAI/AAAAAAAAIkA/n_v3THMKD2c/photo.jpg?sz=128", "display_name": "Ethan Shoe", "link": "https://stackoverflow.com/users/8016574/ethan-shoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 55943293, "answer_count": 1, "score": 1, "last_activity_date": 1556748444, "creation_date": 1556732977, "last_edit_date": 1556735523, "question_id": 55940430, "link": "https://stackoverflow.com/questions/55940430/class-generated-from-schema-using-xsd-exe-doesnt-contain-enumeration-values", "title": "Class generated from schema using xsd.exe doesn&#39;t contain enumeration values", "body": "<p>I have an XSD file that holds values for certain elements in an XML file. I want to write a program that pulls these values from this XSD file so I can make a drop-down menu out of all the values for said elements.</p>\n\n<p>Here is my XSD file in which I want to use each of the values it provides in my application:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xs:schema elementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"&gt;\n    &lt;xs:include schemaLocation=\"POSSimpleTypes.xsd\"/&gt;\n    &lt;xs:complexType name=\"PRODUCT_STOPType\"&gt;\n        &lt;xs:annotation&gt;\n            &lt;xs:documentation&gt;Version 1.11&lt;/xs:documentation&gt;\n        &lt;/xs:annotation&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element name=\"CRUD\"&gt;\n                &lt;xs:simpleType&gt;\n                    &lt;xs:restriction base=\"CRUDType\"&gt;\n                        &lt;xs:enumeration value=\"P\"/&gt;\n                        &lt;xs:enumeration value=\"C\"/&gt;\n                        &lt;xs:enumeration value=\"U\"/&gt;\n                        &lt;xs:enumeration value=\"D\"/&gt;\n                    &lt;/xs:restriction&gt;\n                &lt;/xs:simpleType&gt;\n            &lt;/xs:element&gt;\n            &lt;xs:element name=\"SKU_CODE\"&gt;\n                &lt;xs:complexType&gt;\n                    &lt;xs:simpleContent&gt;\n                        &lt;xs:extension base=\"SKUType\"&gt;\n                            &lt;xs:attribute name=\"owner\" type=\"CODEType\" use=\"optional\"/&gt;\n                            &lt;xs:attribute name=\"owner_type\" use=\"optional\"&gt;\n                                &lt;xs:simpleType&gt;\n                                    &lt;xs:restriction base=\"CONSTANTType\"&gt;\n                                        &lt;xs:enumeration value=\"1\"/&gt;\n                                        &lt;xs:enumeration value=\"8\"/&gt;\n                                    &lt;/xs:restriction&gt;\n                                &lt;/xs:simpleType&gt;\n                            &lt;/xs:attribute&gt;\n                        &lt;/xs:extension&gt;\n                    &lt;/xs:simpleContent&gt;\n                &lt;/xs:complexType&gt;\n            &lt;/xs:element&gt;\n            &lt;xs:element name=\"STOP_REASON\"&gt;\n                &lt;xs:simpleType&gt;\n                    &lt;xs:restriction base=\"CONSTANTType\"&gt;\n                        &lt;xs:enumeration value=\"21001\"/&gt;\n                        &lt;xs:enumeration value=\"21002\"/&gt;\n                        &lt;xs:enumeration value=\"21003\"/&gt;\n                        &lt;xs:enumeration value=\"21004\"/&gt;\n                        &lt;xs:enumeration value=\"21005\"/&gt;\n                        &lt;xs:enumeration value=\"21006\"/&gt;\n                        &lt;xs:enumeration value=\"21007\"/&gt;\n                        &lt;xs:enumeration value=\"21008\"/&gt;\n                        &lt;xs:enumeration value=\"21009\"/&gt;\n                    &lt;/xs:restriction&gt;\n                &lt;/xs:simpleType&gt;\n            &lt;/xs:element&gt;\n            &lt;xs:element name=\"LOGIN_NAME\" type=\"NAMEType\"/&gt;\n            &lt;xs:element name=\"PROD_STOP_COMMENCE\" type=\"DATEType\" minOccurs=\"0\"/&gt;\n            &lt;xs:element name=\"PROD_STOP_END\" type=\"DATEType\" minOccurs=\"0\"/&gt;\n            &lt;xs:element name=\"CODE\" type=\"LONG_CODEType\" minOccurs=\"0\"/&gt;\n            &lt;xs:element name=\"ORG_UNITS\"&gt;\n                &lt;xs:complexType&gt;\n                    &lt;xs:sequence maxOccurs=\"unbounded\"&gt;\n                        &lt;xs:element name=\"ORGU_CODE\"&gt;\n                            &lt;xs:complexType&gt;\n                                &lt;xs:simpleContent&gt;\n                                    &lt;xs:extension base=\"CODEType\"&gt;\n                                        &lt;xs:attribute name=\"type\" type=\"NAMEType\" use=\"required\"/&gt;\n                                        &lt;xs:attribute name=\"parent\" type=\"CODEType\" use=\"optional\"/&gt;\n                                    &lt;/xs:extension&gt;\n                                &lt;/xs:simpleContent&gt;\n                            &lt;/xs:complexType&gt;\n                        &lt;/xs:element&gt;\n                    &lt;/xs:sequence&gt;\n                &lt;/xs:complexType&gt;\n            &lt;/xs:element&gt;\n        &lt;/xs:sequence&gt;\n        &lt;xs:attribute name=\"docNo\" type=\"INTEGERType\" use=\"required\"/&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:element name=\"PRODUCT_STOPType\" type=\"PRODUCT_STOPType\" /&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n\n<p>When I run the developer command prompt in Visual Studio and convert the file to a class, the generated file looks like this:</p>\n\n<pre><code>    public int STOP_REASON {\n        get {\n            return this.sTOP_REASONField;\n        }\n        set {\n            this.sTOP_REASONField = value;\n        }\n    }\n</code></pre>\n\n<p>Where are the values listed in the XSD file and how to I retrieve them?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "sum"], "comments": [{"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1556733089, "post_id": 55940337, "comment_id": 98534095, "body": "That looks to be working? Are you sure the problem here isn&#39;t your expectation?  Should you be using <code>@Model.Sum(s =&gt; s.contracts.AmountOfRent - s.Debit)</code> to match the value you&#39;re displaying in the cells? By which I mean: you&#39;re <i>summing</i> <code>s.RemaininAmount</code>, but that isn&#39;t the value that you&#39;re <i>displaying</i> anywhere"}], "answers": [{"tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": true, "score": 0, "last_activity_date": 1556749716, "creation_date": 1556749716, "answer_id": 55943499, "question_id": 55940337, "link": "https://stackoverflow.com/questions/55940337/how-to-sum-2-columns-in-asp-net-mvc/55943499#55943499", "title": "How to sum 2 columns in ASP.NET MVC?", "body": "<p>It looks like you're simply displaying different values in the data cells vs the total. You're displaying <code>item.contracts.AmountOfRent - item.Debit</code> but you are summing <code>s.RemaininAmount</code>. Maybe try:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>@Model.Sum(s =&gt; s.contracts.AmountOfRent - s.Debit)\n</code></pre>\n\n<p>so that you sum the value you are displaying.</p>\n"}], "owner": {"reputation": 43, "user_id": 11073938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e791440722b0dfab36bfc46811469650?s=128&d=identicon&r=PG&f=1", "display_name": "programmer", "link": "https://stackoverflow.com/users/11073938/programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 55943499, "answer_count": 1, "score": 1, "last_activity_date": 1556749716, "creation_date": 1556732537, "last_edit_date": 1556740355, "question_id": 55940337, "link": "https://stackoverflow.com/questions/55940337/how-to-sum-2-columns-in-asp-net-mvc", "title": "How to sum 2 columns in ASP.NET MVC?", "body": "<p>I am trying to sum 2 columns in my grade-view, which contains <code>Debit</code> and  <code>RemaininAmount</code>, but it only gives me one result for one column. How can I sum for the second column?</p>\n\n<p>This is my view :</p>\n\n<pre><code>    &lt;td&gt;\n            @Html.DisplayFor(modelItem =&gt; item.Debit)\n        &lt;/td&gt;\n\n        &lt;td&gt;\n            @{\nvar RemaininAmount = item.contracts.AmountOfRent - item.Debit;\n            }\n\n            @RemaininAmount\n        &lt;/td&gt;\n\n\n&lt;/tbody&gt; }\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;td&gt;Total&lt;/td&gt;\n&lt;td&gt;@Model.Sum(x =&gt; x.Debit)&lt;/td&gt;\n&lt;td&gt;@Model.Sum(s =&gt; s.RemaininAmount)&lt;/td&gt;\n</code></pre>\n\n<p></p>\n\n<p>This is my output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0EjCI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["javascript", "c#", "asp.net-mvc", "asp.net-web-api", "signalr"], "owner": {"reputation": 29332, "user_id": 177416, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/F6rDx.png?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/177416/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1556740308, "creation_date": 1556732009, "last_edit_date": 1556740308, "question_id": 55940220, "link": "https://stackoverflow.com/questions/55940220/communicate-between-web-api-method-and-mvc-view-using-signalr", "title": "Communicate between Web API method and MVC view using SignalR", "body": "<p>We have an ASP.NET MVC 5 app that loads an MVC view: <code>Purchase.cshtml</code>. This view loads an iframe in a DIV for a 3rd-party credit card processor: The user enters their credit card details in the iframe and clicks \"PAY\". When done, </p>\n\n<ul>\n<li>The credit card processor calls a Web API method, <code>api/callback</code>, to let us know the payment was successful within a few seconds of the user clicking \"PAY\". Here we record the payment in our system and use a <code>Progress</code> object to notify the user of the progress of this process.</li>\n<li>Also, the credit card processor's iframe redirects to one of our MVC pages -- <code>Receipt.cshtml</code>. We use a bit of JavaScript to break out of the iframe on page load. Here, we are still in the same MVC session because we never left our site.</li>\n</ul>\n\n<p>The web API controller is called by the 3rd-party company but it will have the username of the person who initiated the call (which we store in private field <code>_userEmail</code>). In the <code>api/callback</code> method here, we use this to track the progress:</p>\n\n<pre><code>var progress = new Progress&lt;IPaymentProgress&gt;();\nprogress.ProgressChanged += OnPaymentProgressChanged;\n</code></pre>\n\n<p>And these handlers:</p>\n\n<pre><code>private async void OnPaymentProgressChanged(object obj, IPaymentProgress e)\n{\n    await NotifyClientPaymentProgressChanged(e);\n}\n\nprivate async Task NotifyClientPaymentProgressChanged(IPaymentProgress progress)\n{\n    var context = Microsoft.AspNet.SignalR\n        .GlobalHost.ConnectionManager.GetHubContext&lt;PurchaseHub&gt;(); \n    await context.Clients.User(_userEmail).handlePaymentProgressUpdate(progress);\n}\n</code></pre>\n\n<p>In <code>Receipt.cshtml</code>, we have this JavaScript:</p>\n\n<pre><code>$(function () {\n    // If page is in iframe, exit it and display fullscreen.\n    if (self !== top) {\n        top.location.replace(self.location.href);\n    }\n    $(\"#progressModal\").modal(\"show\");\n    var purchaseHubProxy = $.connection.purchaseHub;\n\n    purchaseHubProxy.client.handlePaymentProgressUpdate = function (progress) {\n        console.log(progress);\n        $('.progress-bar').css(\"width\", progress.Percentage + \"%\");\n        $(\"#progressMessage\").text(progress.Message);\n    };\n\n    // Start the connection to get events\n    $.connection.hub.start().done(function () {\n        console.log(\"SignalR connected\");\n    });\n});\n</code></pre>\n\n<p>The above <code>console.log</code> produces the statement <code>SignalR connected</code> after a few seconds. However, we get nothing else. </p>\n\n<p>Is it possible for the Web API method, triggered by a 3rd party app, to communicate with our MVC page via SignalR? Are we dealing with two disconnected sessions between these -- the Web API and MVC -- and we can't send SignalR between them? If not, what is the best way to push the progress to the view after the Web API method gets triggered by the external credit card processing company?</p>\n\n<p>Note: We've used this same code to communicate via SignalR on MVC pages successfully. However, we've never tried doing so from Web API to an MVC view. </p>\n\n<p><strong>Update</strong>: Found a solution that avoids this headache altogether: the 3rd party cc processor 1st calls our web API method <em>then</em> redirects the iframe to our MVC method to load the view (it's not async but sync). So in web API we'll write a record to our db indicating successful payment. Then in MVC method, we'll check for that; if it's there, we'll do the progress bar updates via SignalR -- which should be a piece of cake.</p>\n"}, {"tags": ["c#", "sqlite", "mono", "dispose"], "comments": [{"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 1, "creation_date": 1556732682, "post_id": 55940207, "comment_id": 98533880, "body": "You&#39;re already disposing it; however, many ADO.NET providers implement <i>connection pooling</i> to improve performance; check whether your ADO.NET provider (i.e. the specific <code>DbConnection</code> type) has controls for this - it usually means tweaking the connection string to explicitly <i>disable</i> connection pooling - for example, with <code>SqlClient</code> (SQL Server) it would be achieved by setting the <code>Pooling</code> property to <code>false</code> in the connection string"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 1, "creation_date": 1556732832, "post_id": 55940207, "comment_id": 98533973, "body": "Are you disposing the Command that you created? (Each SQLite level prepare needs to have a finalize)"}, {"owner": {"reputation": 29377, "user_id": 637142, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e048b74ce81d0005ce82b0ef5b85b48a?s=128&d=identicon&r=PG", "display_name": "Tono Nam", "link": "https://stackoverflow.com/users/637142/tono-nam"}, "reply_to_user": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1556733310, "post_id": 55940207, "comment_id": 98534198, "body": "Yes my rule is to place everything that is disposable inside a using statement @SushiHangover. So yes everything is being disposed."}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 1, "creation_date": 1556733590, "post_id": 55940207, "comment_id": 98534339, "body": "@TonoNam I see this <code>var command = sqlite3.CreateCommand();</code> in your code sample, but do not see a dispose on it... (using blocks do not auto-dispose instances created within the block....)"}, {"owner": {"reputation": 29377, "user_id": 637142, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e048b74ce81d0005ce82b0ef5b85b48a?s=128&d=identicon&r=PG", "display_name": "Tono Nam", "link": "https://stackoverflow.com/users/637142/tono-nam"}, "reply_to_user": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1556733702, "post_id": 55940207, "comment_id": 98534395, "body": "My real code is just harder to read. It contains the real query and it might take more time to read. Let me update the question to have the dispose like you said. My real code has the using statement. . @SushiHangover"}], "answers": [{"tags": [], "owner": {"reputation": 29377, "user_id": 637142, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e048b74ce81d0005ce82b0ef5b85b48a?s=128&d=identicon&r=PG", "display_name": "Tono Nam", "link": "https://stackoverflow.com/users/637142/tono-nam"}, "is_accepted": true, "score": 0, "last_activity_date": 1556736024, "creation_date": 1556736024, "answer_id": 55941039, "question_id": 55940207, "link": "https://stackoverflow.com/questions/55940207/sqlite-leaves-connection-open-mono-data-sqlite-dll/55941039#55941039", "title": "Sqlite leaves connection open (Mono.Data.Sqlite.dll)", "body": "<p>I changed connection string to : (<strong>Poling=False</strong>)</p>\n\n<pre><code>var conString = $\"Data Source={dbLocation}; Read Only=True; Pooling=False;\";\n</code></pre>\n\n<p>and I also closed my reader as:</p>\n\n<pre><code>    // using very important!\n    using(var command = sqlite3.CreateCommand())\n    {\n                 command.CommandText = \"select * from foo\";\n                 var reader = command.ExecuteReader();\n                 // etc...\n\n                 reader.Close(); // close reader! &lt;----- this is very important for some reason\n    }\n</code></pre>\n\n<p>This has been running for one hour and the count has not increased. I hope this is the solution. </p>\n"}], "owner": {"reputation": 29377, "user_id": 637142, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e048b74ce81d0005ce82b0ef5b85b48a?s=128&d=identicon&r=PG", "display_name": "Tono Nam", "link": "https://stackoverflow.com/users/637142/tono-nam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 55941039, "answer_count": 1, "score": 0, "last_activity_date": 1556736024, "creation_date": 1556731964, "last_edit_date": 1556733756, "question_id": 55940207, "link": "https://stackoverflow.com/questions/55940207/sqlite-leaves-connection-open-mono-data-sqlite-dll", "title": "Sqlite leaves connection open (Mono.Data.Sqlite.dll)", "body": "<p>I am using this library to query a sqlite database using mono:</p>\n\n<p><a href=\"https://www.mono-project.com/docs/database-access/providers/sqlite/\" rel=\"nofollow noreferrer\">https://www.mono-project.com/docs/database-access/providers/sqlite/</a></p>\n\n<p>And this is how I use the library:</p>\n\n<pre><code>var dbLocation = \"/var/log/asterisk/master.db\";\nvar conString = $\"Data Source={dbLocation}; Read Only=True; Pooling=True;\";\nusing (var sqlite3 = new Mono.Data.Sqlite.SqliteConnection(conString)\n{\n\n       try\n       {\n                 sqlite3.Open();\n\n                 // query database\n                 using(var command = sqlite3.CreateCommand()){\n                     command.CommandText = \"select * from foo\";\n                     var reader = command.ExecuteReader();\n                     // etc...\n\n                     reader.Close(); // close reader\n                 }\n        }\n        catch\n        {\n                     // log error\n        }\n\n\n}\n</code></pre>\n\n<p><strong>Note this code executes every second. Another processes (Asterisk) is writing to the database and my processes is reading from the database. I cannot leave the connection open because if I do so Asterisk is not able to write to that database; therefore, I must open and close the connection every time I plan to query the database.</strong></p>\n\n<p>This code works great! I am able to query the database in read only mode. I created the connection string based on this link:</p>\n\n<p><a href=\"http://docs.go-mono.com/?link=T%3aMono.Data.Sqlite.SqliteConnection\" rel=\"nofollow noreferrer\">http://docs.go-mono.com/?link=T%3aMono.Data.Sqlite.SqliteConnection</a></p>\n\n<p>This code works great but after 2 days my program crashes because sqlite.dll does not properly dispose the connection. sqlite.dll is leaving the connections open and here is the proof:</p>\n\n<p>the process id of my application is 29140:</p>\n\n<p>I then ran the command <code>lsof -a -p 29140</code> and that returns me something like this:</p>\n\n<pre><code>COMMAND   PID USER   FD   TYPE  DEVICE SIZE/OFF     NODE NAME\nMain    29140 root  cwd    DIR     8,1     4096 46137345 /root\nMain    29140 root  rtd    DIR     8,1     4096        2 /\nMain    29140 root  txt    REG     8,1  3845024 12586404 /usr/bin/mono-sgen\nMain  ........\n... etc\n.... etc\nMain    29140 root   74r   REG     8,1 39170048 49023734 /var/log/asterisk/master.db\nMain    29140 root   75r   REG     8,1 39170048 49023734 /var/log/asterisk/master.db\nMain    29140 root   76r   REG     8,1 39170048 49023734 /var/log/asterisk/master.db\nMain    29140 root   77r   REG     8,1 39170048 49023734 /var/log/asterisk/master.db\nMain    29140 root   78r   REG     8,1 39170048 49023734 /var/log/asterisk/master.db\nMain    29140 root   79r   REG     8,1 39170048 49023734 /var/log/asterisk/master.db\nMain    29140 root   80r   REG     8,1 39170048 49023734 /var/log/asterisk/master.db\nMain    29140 root   81r   REG     8,1 39170048 49023734 /var/log/asterisk/master.db\nMain    29140 root   82r   REG     8,1 39170048 49023734 /var/log/asterisk/master.db\nMain    29140 root   83r   REG     8,1 39170048 49023734 /var/log/asterisk/master.db\nMain    29140 root   84r   REG     8,1 39170048 49023734 /var/log/asterisk/master.db\nMain    29140 root   85r   REG     8,1 39170048 49023734 /var/log/asterisk/master.db\n</code></pre>\n\n<p>Because I query the database every second I would expect to create a \"file lock\" to <code>/var/log/asterisk/master.db</code> every second. This happens randomly! If the database is being used a lot I see an increase in the number of <code>/var/log/asterisk/master.db</code>. How can I properly dispose this sqlite connection?</p>\n\n<h2>Things I have tried:</h2>\n\n<p>Calling <code>GC.Collect()</code> and <code>GC.WaitForPendingFinalizers()</code> as this answers suggests: <a href=\"https://stackoverflow.com/a/8513453/637142\">https://stackoverflow.com/a/8513453/637142</a></p>\n"}, {"tags": ["c#", "windows", "registry", "uninstallation", "registrykey"], "comments": [{"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1556732158, "post_id": 55940185, "comment_id": 98533615, "body": "<code>Everything about this works great...</code> Well, obviously not. What is the specific issue you are facing? Are there any errors? Or is the key simply not being removed? Are you sure the process has permission to remove keys?"}, {"owner": {"reputation": 53, "user_id": 11420832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86629459c80c784b582a70fae8d19cba?s=128&d=identicon&r=PG&f=1", "display_name": "P tray", "link": "https://stackoverflow.com/users/11420832/p-tray"}, "reply_to_user": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1556732282, "post_id": 55940185, "comment_id": 98533693, "body": "@DanWilson The program cannot find the registry key &quot;Key Stats&quot;. Also, yes, this is running with elevated permissions."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1556733055, "post_id": 55940185, "comment_id": 98534083, "body": "It looks like you used a guid for the key name (&quot;Key Stats&quot; is just the display name). have you tried replacing <code>&quot;App name&quot;</code> with <code>&quot;50038998-0755-41a2-8ae9-f9719f04c703&quot;</code>?"}], "owner": {"reputation": 53, "user_id": 11420832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86629459c80c784b582a70fae8d19cba?s=128&d=identicon&r=PG&f=1", "display_name": "P tray", "link": "https://stackoverflow.com/users/11420832/p-tray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556731907, "creation_date": 1556731907, "question_id": 55940185, "link": "https://stackoverflow.com/questions/55940185/remove-registry-key-from-apps-and-programs", "title": "Remove Registry Key From Apps And Programs", "body": "<p>I have been searching on this topic for about 2 hours now, and all of the resources I find tell me the same thing. To delete a registry from the Windows 10 Apps and Programs list, use the following code:</p>\n\n<pre><code>string InstallerRegLoc = @\"SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\";\nRegistryKey homeKey = (Registry.LocalMachine).OpenSubKey(InstallerRegLoc, true);\nRegistryKey appSubKey = homeKey.OpenSubKey(\"App name\");\nif (null != appSubKey) {\n    homeKey.DeleteSubKey(\"App name\");\n}\n</code></pre>\n\n<p>I have tried this, and it just isn't working for me. As we can see here, I have the program \"Key Stats\" in the registry:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nTt0y.png\" rel=\"nofollow noreferrer\">Registry app</a></p>\n\n<p>Everything about this works great, but I can't remove this item from the registry. Here's the code I used to create the registry:</p>\n\n<pre><code>try {\n    string guidText = \"50038998-0755-41a2-8ae9-f9719f04c703\";\n    key = parent.OpenSubKey(guidText, true) ?? parent.CreateSubKey(guidText);\n\n    if (key == null) {\n        throw new Exception(String.Format(\"Unable to create uninstaller '{0}\\\\{1}'\", @\"SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Uninstall\", guidText));\n    }\n\n    Assembly asm = GetType().Assembly;\n    Version v = asm.GetName().Version;\n    string exe = \"\\\"\" + asm.CodeBase.Substring(8).Replace(\"/\", \"\\\\\\\\\") + \"\\\"\";\n\n    key.SetValue(\"DisplayName\", \"Key Stats\");\n    key.SetValue(\"ApplicationVersion\", v.ToString());\n    key.SetValue(\"Publisher\", \"My Company\");\n    key.SetValue(\"DisplayIcon\", exe);\n    key.SetValue(\"DisplayVersion\", v.ToString(2));\n    key.SetValue(\"URLInfoAbout\", \"\");\n    key.SetValue(\"Contact\", \"\");\n    key.SetValue(\"InstallDate\", DateTime.Now.ToString(\"yyyyMMdd\"));\n    key.SetValue(\"UninstallString\", exe + \" /uninstallprompt\");\n}\nfinally {\n    if (key != null) {\n        key.Close();\n    }\n}\n</code></pre>\n\n<p>I cannot remove the item from the registry though. Can someone please help me figure out why this isn't working?</p>\n"}, {"tags": ["c#", "tpl-dataflow"], "comments": [{"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1556732677, "post_id": 55940141, "comment_id": 98533876, "body": "please stop changing the type of exceptions I&#39;m trying to write an answer."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 2417949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0fae49e59ce646981453158b18f0c5a?s=128&d=identicon&r=PG", "display_name": "James Brown", "link": "https://stackoverflow.com/users/2417949/james-brown"}, "edited": false, "score": 0, "creation_date": 1556735461, "post_id": 55940350, "comment_id": 98535089, "body": "changing the AggregateException to a generic Exception produces the same result."}], "tags": [], "owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "is_accepted": false, "score": 0, "last_activity_date": 1556732586, "creation_date": 1556732586, "answer_id": 55940350, "question_id": 55940141, "link": "https://stackoverflow.com/questions/55940141/continue-processing-loop-using-data-flow-pipeline/55940350#55940350", "title": "Continue processing Loop using Data Flow pipeline", "body": "<p>You are throwing an <code>Exception</code> but only catching <code>AggregateException</code></p>\n\n<p>Add a catch for generic (<code>Exception ex</code>) or for the type you want to catch</p>\n"}, {"tags": [], "owner": {"reputation": 635, "user_id": 7446303, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/3CK5r.png?s=128&g=1", "display_name": "Thierry Prost", "link": "https://stackoverflow.com/users/7446303/thierry-prost"}, "is_accepted": true, "score": 1, "last_activity_date": 1556739681, "last_edit_date": 1556739681, "creation_date": 1556739242, "answer_id": 55941681, "question_id": 55940141, "link": "https://stackoverflow.com/questions/55940141/continue-processing-loop-using-data-flow-pipeline/55941681#55941681", "title": "Continue processing Loop using Data Flow pipeline", "body": "<p>Here's how I implemented it. I can share a lot more on Github if this approach interests you. I use dataflow quite a lot so I have implemented a whole lot of other IDataFlow classes based on this approach. </p>\n\n<h1>The building block</h1>\n\n<p>Essentially, by wrapping every message in a class called a <code>Flow&lt;T&gt;</code>, we can implement a <a href=\"https://fsharpforfunandprofit.com/rop/\" rel=\"nofollow noreferrer\">Railway Oriented</a> approach. A flow has two states: Failure or Success. Successful flows are <code>Flow&lt;T&gt;</code>'s are passed to the next custom dataflow or connected to a <code>FailureBlock : ITargetBlock&lt;IFlow&gt;</code> on failure. (essentially an <code>ActionBlock&lt;IFlow&gt;</code> which deals with exceptions, logs etc. </p>\n\n<p>My basic Flow class looks as follows:</p>\n\n<pre><code>public class Flow&lt;T&gt; : IFlow\n{\n  public T Value { get; private set; }\n  public Exception Exception { get; private set; }\n  public bool Success =&gt; Exception is null;\n  public bool Failure =&gt; !Success;\n  public void Fail(Exception exception) =&gt; Exception = exception;\n  public Flow(T value) =&gt; Data = value;\n  public Flow(Exception exception) =&gt; Fail(exception);\n  public static Flow&lt;T&gt; FromValue&lt;T&gt;(T data) =&gt; new Flow&lt;T&gt;(data);\n}\n</code></pre>\n\n<pre><code>public interface IFlow\n{\n  bool Success { get; }\n  bool Failure { get; }\n  Exception Exception { get; }\n  void Fail(Exception exception);\n}\n</code></pre>\n\n<h1>The resulting custom IDataflow</h1>\n\n<p>The following part looks scary, but don't be. It's essentially a TransformBlock wrapper with two extra features: </p>\n\n<p>enter code here1. each custom <code>FlowBlock&lt;T1,T2&gt;</code> wraps methods into a <code>try { } catch { }</code> </p>\n\n<ol start=\"2\">\n<li>the <code>LinkTo</code> method links successful flows to the next block and failures to the <code>FailureBlock</code> </li>\n</ol>\n\n<pre><code>public class FlowBlock&lt;TInput, TOutput&gt;: IPropagatorBlock&lt;Flow&lt;TInput&gt;, Flow&lt;TOutput&gt;&gt;\n{\n    protected override ITargetBlock&lt;Flow&lt;TInput&gt;&gt; Target =&gt; TransformBlock;\n    protected override ISourceBlock&lt;Flow&lt;TOutput&gt;&gt; Source =&gt; TransformBlock;\n    private TransformBlock&lt;Flow&lt;TInput&gt;, Flow&lt;TOutput&gt;&gt; TransformBlock { get; }\n    private FailureBlock FailureBlock { get; }\n    public FlowBlock(\n        Func&lt;TInput, Task&lt;TOutput&gt;&gt; transform,\n        ExecutionDataflowBlockOptions dataflowBlockOptions,\n        FailureBlock failureBlock)\n    {\n        TransformBlock = new TransformBlock&lt;Flow&lt;TInput&gt;, Flow&lt;TOutput&gt;&gt;(\n            async inFlow =&gt;\n            {\n                try\n                {\n                    return new Flow&lt;TOutput&gt;(await transform(inFlow.Data));\n                }\n                catch (Exception exception)\n                {\n                    return new Flow&lt;TOutput&gt;(exception);\n                }\n            },\n            dataflowBlockOptions);\n    }\n    public override IDisposable LinkTo(\n        ITargetBlock&lt;Flow&lt;TOutput&gt;&gt; target,\n        DataflowLinkOptions linkOptions)\n        =&gt; new Disposable(\n            Source.LinkTo(target, linkOptions, flow =&gt; flow.Success),\n            Source.LinkTo(OutputBlock, linkOptions, flow =&gt; flow.Failure));\n}\n</code></pre>\n\n<p>Let me know in the comments if you are interested and I'll gladly open a github repo with a whole lot more details.</p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 2417949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0fae49e59ce646981453158b18f0c5a?s=128&d=identicon&r=PG", "display_name": "James Brown", "link": "https://stackoverflow.com/users/2417949/james-brown"}, "edited": false, "score": 0, "creation_date": 1556800047, "post_id": 55942792, "comment_id": 98556776, "body": "Thank you.  My understanding was that exceptions would bubble up, which if I am understanding you correctly, they will just not he way I have implemented it."}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "reply_to_user": {"reputation": 47, "user_id": 2417949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0fae49e59ce646981453158b18f0c5a?s=128&d=identicon&r=PG", "display_name": "James Brown", "link": "https://stackoverflow.com/users/2417949/james-brown"}, "edited": false, "score": 0, "creation_date": 1556813248, "post_id": 55942792, "comment_id": 98564459, "body": "Corrrect, exceptions thrown from a block will be attached to the blocks completion task. If you&#39;ve linked the blocks and propagate completion the exception will flow through your pipeline, moving each block to the faulted state and be attached to the final block&#39;s completion task where it can be re-thrown by awaiting it."}], "tags": [], "owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "is_accepted": false, "score": 1, "last_activity_date": 1556745336, "creation_date": 1556745336, "answer_id": 55942792, "question_id": 55940141, "link": "https://stackoverflow.com/questions/55940141/continue-processing-loop-using-data-flow-pipeline/55942792#55942792", "title": "Continue processing Loop using Data Flow pipeline", "body": "<p>You're throwing an exception within your block. This will cause the block to move to a faulted state and attaches the exception to it's <code>Completion</code> task. </p>\n\n<p>Your code only has <code>try/catch</code> around the <code>actionBlock.Post</code>, that's not where the exception is thrown. </p>\n\n<p>Since the exception is attached to the completion task the only way to to catch the exception outside the block is to <code>await actionBlock.Completion</code>, that will re-throw the exception outside the block and allow you catch <code>(Exception ex)</code>.</p>\n\n<p>To prevent the block from faulting; catch the exception within the block. If an exception leaves a block, the block will be faulted and no longer accept new inputs.</p>\n\n<pre><code>var actionBlock = new ActionBlock&lt;int&gt;(item =&gt;\n{\n    try\n    {\n        if (item == 5)\n            throw new Exception(\"Blech.\");\n        Debug.WriteLine(item.ToString());\n    }\n    catch (Exception ex)\n    {\n        Debug.WriteLine(ex);\n    }\n\n});\n</code></pre>\n\n<p>In addition you can also handle the result of <code>Post</code> or better yet <code>SendAsync</code> and react to the block fault:</p>\n\n<pre><code>foreach (var number in TestList)\n{\n    if(!actionBlock.Post(number))\n        actionBlock.Complete();\n    try\n    {\n        await actionBlock.Completion;\n    }\n    catch (Exception ex)\n    {\n        Debug.WriteLine(ex.Message);\n        //actionBlock is now dead\n        break;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 2417949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0fae49e59ce646981453158b18f0c5a?s=128&d=identicon&r=PG", "display_name": "James Brown", "link": "https://stackoverflow.com/users/2417949/james-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 55941681, "answer_count": 3, "score": 0, "last_activity_date": 1556745336, "creation_date": 1556731684, "last_edit_date": 1556732335, "question_id": 55940141, "link": "https://stackoverflow.com/questions/55940141/continue-processing-loop-using-data-flow-pipeline", "title": "Continue processing Loop using Data Flow pipeline", "body": "<p>I am playing around with Data Flows and trying to learn how to use them.  I have found plenty of examples showing how to use the different blocks but none of them really explain how to handle exceptions.</p>\n\n<p>My main question is how to continue a foreach loop if an exception occurs or the output of a previous transform block is not what you are expecting.  Below is a simple Windows forms application I am using to test with.  Its just a single button that loops through a list of numbers and displays them.</p>\n\n<p>I've added an if statement to the action block that says if the number=5, throw an exception.  The loop looks like it keeps processing after it hit the exception but it stops writing the output after it hits the exception.  The exception also never goes to the catch clause in the foreach loop.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Threading.Tasks.Dataflow;\nusing System.Windows.Forms;\n\nnamespace DataFlowsTest\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            List&lt;int&gt; TestList = new List&lt;int&gt;() { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\n\n            var actionBlock = new ActionBlock&lt;int&gt;(item =&gt;\n            {\n                if (item == 5)\n                    throw new Exception(\"Blech.\");\n                Debug.WriteLine(item.ToString());\n            });\n\n\n            foreach(var number in TestList)\n            {\n                try\n                {\n                    actionBlock.Post(number);\n                }\n                catch(AggregateException ex)\n                {\n                    Debug.WriteLine(ex.Message);\n                    continue;\n                }\n            }\n            actionBlock.Complete();\n        }\n    }\n}\n</code></pre>\n\n<p>This code returns\n1\n2\n3\n4\nException thrown: 'System.Exception' in DataFlowsTest.exe\nAn exception of type 'System.Exception' occurred in DataFlowsTest.exe but was not handled in user code\nBlech.</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 4218, "user_id": 6730803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXDZZ.png?s=128&g=1", "display_name": "Fredrik Sch&#246;n", "link": "https://stackoverflow.com/users/6730803/fredrik-sch%c3%b6n"}, "edited": false, "score": 0, "creation_date": 1556733066, "post_id": 55940136, "comment_id": 98534085, "body": "Just to be clear, you have 2 objects. One you hover on the first object, which has ModalWindowScript attached, object 2 should be activated, correct?"}, {"owner": {"reputation": 23, "user_id": 7079766, "user_type": "registered", "profile_image": "https://graph.facebook.com/1308351705866018/picture?type=large", "display_name": "Branislav", "link": "https://stackoverflow.com/users/7079766/branislav"}, "reply_to_user": {"reputation": 4218, "user_id": 6730803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXDZZ.png?s=128&g=1", "display_name": "Fredrik Sch&#246;n", "link": "https://stackoverflow.com/users/6730803/fredrik-sch%c3%b6n"}, "edited": false, "score": 0, "creation_date": 1556736562, "post_id": 55940136, "comment_id": 98535513, "body": "Hello @FredrikSch&#246;n, this code that you can see is First script called HoverOverObject which is attached to one object and when mouse exits object area then is attached script component to uiModalWindow game object."}, {"owner": {"reputation": 4218, "user_id": 6730803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXDZZ.png?s=128&g=1", "display_name": "Fredrik Sch&#246;n", "link": "https://stackoverflow.com/users/6730803/fredrik-sch%c3%b6n"}, "edited": false, "score": 0, "creation_date": 1556743699, "post_id": 55940136, "comment_id": 98538238, "body": "I don&#39;t think OnMouseEnter works on just any UI element, <a href=\"https://docs.unity3d.com/ScriptReference/MonoBehaviour.OnMouseEnter.html\" rel=\"nofollow noreferrer\">read docs here</a>. You&#39;ll have to implement the events yourself or find another solution. Maybe add a button?"}, {"owner": {"reputation": 4218, "user_id": 6730803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXDZZ.png?s=128&g=1", "display_name": "Fredrik Sch&#246;n", "link": "https://stackoverflow.com/users/6730803/fredrik-sch%c3%b6n"}, "edited": false, "score": 0, "creation_date": 1556743905, "post_id": 55940136, "comment_id": 98538316, "body": "Nevermind, I got it working - hold on."}, {"owner": {"reputation": 23, "user_id": 7079766, "user_type": "registered", "profile_image": "https://graph.facebook.com/1308351705866018/picture?type=large", "display_name": "Branislav", "link": "https://stackoverflow.com/users/7079766/branislav"}, "reply_to_user": {"reputation": 4218, "user_id": 6730803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXDZZ.png?s=128&g=1", "display_name": "Fredrik Sch&#246;n", "link": "https://stackoverflow.com/users/6730803/fredrik-sch%c3%b6n"}, "edited": false, "score": 0, "creation_date": 1556747575, "post_id": 55940136, "comment_id": 98539501, "body": "@FredrikSch&#246;n I know it not works for UI elements, this class is just for evoking this UI element when mouse is over some basic game object, It will call ModalWindowScript. And thanks I will try your solution bellow"}, {"owner": {"reputation": 4218, "user_id": 6730803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXDZZ.png?s=128&g=1", "display_name": "Fredrik Sch&#246;n", "link": "https://stackoverflow.com/users/6730803/fredrik-sch%c3%b6n"}, "edited": false, "score": 0, "creation_date": 1556804934, "post_id": 55940136, "comment_id": 98559740, "body": "<a href=\"https://stackoverflow.com/help/someone-answers\">Remember to accept the answer</a> if it solved your issue, or feedback if / why it didn&#39;t work! :)"}, {"owner": {"reputation": 23, "user_id": 7079766, "user_type": "registered", "profile_image": "https://graph.facebook.com/1308351705866018/picture?type=large", "display_name": "Branislav", "link": "https://stackoverflow.com/users/7079766/branislav"}, "reply_to_user": {"reputation": 4218, "user_id": 6730803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXDZZ.png?s=128&g=1", "display_name": "Fredrik Sch&#246;n", "link": "https://stackoverflow.com/users/6730803/fredrik-sch%c3%b6n"}, "edited": false, "score": 0, "creation_date": 1556815388, "post_id": 55940136, "comment_id": 98565457, "body": "Don&#39;t worry, I know how it works, I just didn&#39;t have time to try your solution :)"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7079766, "user_type": "registered", "profile_image": "https://graph.facebook.com/1308351705866018/picture?type=large", "display_name": "Branislav", "link": "https://stackoverflow.com/users/7079766/branislav"}, "edited": false, "score": 0, "creation_date": 1556814834, "post_id": 55942615, "comment_id": 98565217, "body": "no its not working at all, nothing happens when I exit modal ui area. And I also edit the issue. I added pictures of classes. Because I need this code for ModalWindowScript, HoverOverObject is enabled when is mouse over basic non UI ```   object and when mouse exits mouse area private void OnMouseExit()     {         uIModalWindow.AddComponent&lt;ModalWindowScript&gt;();     }``` then I want to add this script to take care of UI behavior and close it when mouse is out of modal window"}, {"owner": {"reputation": 4218, "user_id": 6730803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXDZZ.png?s=128&g=1", "display_name": "Fredrik Sch&#246;n", "link": "https://stackoverflow.com/users/6730803/fredrik-sch%c3%b6n"}, "reply_to_user": {"reputation": 23, "user_id": 7079766, "user_type": "registered", "profile_image": "https://graph.facebook.com/1308351705866018/picture?type=large", "display_name": "Branislav", "link": "https://stackoverflow.com/users/7079766/branislav"}, "edited": false, "score": 0, "creation_date": 1556822541, "post_id": 55942615, "comment_id": 98568505, "body": "Basically, just add the interfaces on the classes where you want to trigger OnPointerEnter/Exit, regardless of on which components should call which etc."}, {"owner": {"reputation": 4218, "user_id": 6730803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXDZZ.png?s=128&g=1", "display_name": "Fredrik Sch&#246;n", "link": "https://stackoverflow.com/users/6730803/fredrik-sch%c3%b6n"}, "reply_to_user": {"reputation": 23, "user_id": 7079766, "user_type": "registered", "profile_image": "https://graph.facebook.com/1308351705866018/picture?type=large", "display_name": "Branislav", "link": "https://stackoverflow.com/users/7079766/branislav"}, "edited": false, "score": 0, "creation_date": 1556822635, "post_id": 55942615, "comment_id": 98568549, "body": "Or do you mean that you get no effect when using the interfaces? Make sure that &quot;raycast target&quot; isn&#39;t disabled."}, {"owner": {"reputation": 23, "user_id": 7079766, "user_type": "registered", "profile_image": "https://graph.facebook.com/1308351705866018/picture?type=large", "display_name": "Branislav", "link": "https://stackoverflow.com/users/7079766/branislav"}, "edited": false, "score": 0, "creation_date": 1556879284, "post_id": 55942615, "comment_id": 98586644, "body": "Yeah, that is what I meant. Where I can find &quot;raycast target&quot;? In the canvas inspector?"}, {"owner": {"reputation": 4218, "user_id": 6730803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXDZZ.png?s=128&g=1", "display_name": "Fredrik Sch&#246;n", "link": "https://stackoverflow.com/users/6730803/fredrik-sch%c3%b6n"}, "reply_to_user": {"reputation": 23, "user_id": 7079766, "user_type": "registered", "profile_image": "https://graph.facebook.com/1308351705866018/picture?type=large", "display_name": "Branislav", "link": "https://stackoverflow.com/users/7079766/branislav"}, "edited": false, "score": 0, "creation_date": 1556888605, "post_id": 55942615, "comment_id": 98591418, "body": "They&#39;re component specific, so for instance on a Text component you find it in the bottom here: <a href=\"https://docs.unity3d.com/uploads/Main/UI_TextInspector.png\" rel=\"nofollow noreferrer\">link to image</a>"}, {"owner": {"reputation": 23, "user_id": 7079766, "user_type": "registered", "profile_image": "https://graph.facebook.com/1308351705866018/picture?type=large", "display_name": "Branislav", "link": "https://stackoverflow.com/users/7079766/branislav"}, "edited": false, "score": 0, "creation_date": 1556893738, "post_id": 55942615, "comment_id": 98594446, "body": "I would like to do it for the whole modal window if it is possible. I&#39;ll check if I have something like this in the parent for modal window"}], "tags": [], "owner": {"reputation": 4218, "user_id": 6730803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXDZZ.png?s=128&g=1", "display_name": "Fredrik Sch&#246;n", "link": "https://stackoverflow.com/users/6730803/fredrik-sch%c3%b6n"}, "is_accepted": false, "score": 0, "last_activity_date": 1556744114, "creation_date": 1556744114, "answer_id": 55942615, "question_id": 55940136, "link": "https://stackoverflow.com/questions/55940136/interact-with-custom-ui-element-in-unity/55942615#55942615", "title": "Interact with custom UI element in Unity", "body": "<p>You need to implement the IPointerEnterHandler &amp; IPointerExitHandler interface to get this kind of solution to get the proper events:</p>\n\n<pre><code>public class HoverOverObject : MonoBehaviour, IPointerEnterHandler, IPointerExitHandler\n\n    [SerializeField] GameObject uIModalWindow;\n    private void Start()\n    { \n        uIModalWindow.SetActive(false);\n    }\n\n    public void OnPointerEnter(PointerEventData e)\n    {\n        var mousePos = Input.mousePosition;\n        Debug.Log(gameObject.name);\n        uIModalWindow.transform.position = mousePos;\n        uIModalWindow.SetActive(true);\n    }\n\n    public void OnPointerExit(PointerEventData e)\n    {\n        uIModalWindow.AddComponent&lt;ModalWindowScript&gt;();\n    }\n}\n</code></pre>\n\n<p>Note changed code: Added Interfaces, Changed name of methods, Changed accessibility from private to public on methods.</p>\n"}], "owner": {"reputation": 23, "user_id": 7079766, "user_type": "registered", "profile_image": "https://graph.facebook.com/1308351705866018/picture?type=large", "display_name": "Branislav", "link": "https://stackoverflow.com/users/7079766/branislav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 336, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556814145, "creation_date": 1556731673, "last_edit_date": 1556814145, "question_id": 55940136, "link": "https://stackoverflow.com/questions/55940136/interact-with-custom-ui-element-in-unity", "title": "Interact with custom UI element in Unity", "body": "<p>I have problem interact with custom UI element. I have a custom modal window which is displayed when I hover mouse over the object and then I want to disappear it when mouse leaves modal window area but I can't find solution how to do it.\n<a href=\"https://i.stack.imgur.com/jy9ts.png\" rel=\"nofollow noreferrer\">Game Objects in the hierarchy and canvas inspector</a></p>\n\n<p>I searched on the internet, I tried it with raycasters but its not working or maybe I doing something wrong.</p>\n\n<p>This is how I call Script ModalWindowScript when is mouse over object so I can somehow interact with UI elements.</p>\n\n<pre><code>    [SerializeField] GameObject uIModalWindow;\n    private void Start()\n    { \n        uIModalWindow.SetActive(false);\n    }\n\n    private void OnMouseEnter()\n    {\n        var mousePos = Input.mousePosition;\n        Debug.Log(gameObject.name);\n        uIModalWindow.transform.position = mousePos;\n        uIModalWindow.SetActive(true);\n    }\n\n    private void OnMouseExit()\n    {\n        uIModalWindow.AddComponent&lt;ModalWindowScript&gt;();\n    }\n</code></pre>\n\n<p>Expected result is that modal window will disappear when mouse will leave the modal window area. But actual status is that I can't find out how to communicate with UI.</p>\n\n<p><a href=\"https://i.stack.imgur.com/U5ZWh.png\" rel=\"nofollow noreferrer\">HoverOverObject</a>\n<a href=\"https://i.stack.imgur.com/hclZk.png\" rel=\"nofollow noreferrer\">ModalWindowScript</a></p>\n"}, {"tags": ["c#", "excel", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556732535, "post_id": 55940112, "comment_id": 98533810, "body": "One suggestion it to make sure that this is hidden behind an abstraction. For example, an interface like <code>IProductRepository</code> that contains just the methods you need to interact with. That way your choice won&#39;t &quot;leak&quot; itself into other parts of your code. You&#39;ll be able to change your mind without modifying everything. Second, when you try to create a different implementation, the interface will clearly indicate what it needs to do. That interface should not in any way hint at what the underlying implementation is."}, {"owner": {"reputation": 917, "user_id": 10290408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e1feed163c02636f1eea4c5d67bbc7?s=128&d=identicon&r=PG&f=1", "display_name": "Selthien", "link": "https://stackoverflow.com/users/10290408/selthien"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556733210, "post_id": 55940112, "comment_id": 98534162, "body": "@ScottHannen Thank you for the reply. Yes my plan was to hide it behind an abstraction, but as for the acutal implementation of my IProductRepository, what are the method available? Is there a &quot;preffered&quot; method for gathering data from Excel? Or should I just run with it? My biggest concerns are that someone will have the xlsx file open when trying to copy the csv data."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556733367, "post_id": 55940112, "comment_id": 98534229, "body": "I added an answer to provide some more detail. While some methods might be preferred over others (I have reasons why I wouldn&#39;t read from Excel), the biggest win is writing as much of the application as possible in such a way that details like this become less critical."}, {"owner": {"reputation": 917, "user_id": 10290408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e1feed163c02636f1eea4c5d67bbc7?s=128&d=identicon&r=PG&f=1", "display_name": "Selthien", "link": "https://stackoverflow.com/users/10290408/selthien"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556733828, "post_id": 55940112, "comment_id": 98534447, "body": "@ScottHannen Yes I absolutely agree with your reasons as well. I believe I will go the route where I ensure the structure of the data from excel does not change, have a periodic task copy the data into new csv files(to keep the data live) and then access those files directly through my abstraction implementation. Thank you again for the suggestion."}], "answers": [{"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": true, "score": 1, "last_activity_date": 1556733634, "last_edit_date": 1556733634, "creation_date": 1556733129, "answer_id": 55940466, "question_id": 55940112, "link": "https://stackoverflow.com/questions/55940112/how-to-use-data-from-excel-file-as-data-source-asp-net-mvc-app/55940466#55940466", "title": "How to use data from Excel file as data source ASP.Net MVC App", "body": "<p>A few suggestions:</p>\n\n<p>Make sure that your data source is hidden behind an abstraction. For example, an interface like <code>IProductRepository</code> that contains just the methods you need to interact with. That interface should not in any way hint at what the underlying implementation is.</p>\n\n<p>That way your choice won't \"leak\" itself into other parts of your code. You'll be able to change your mind without modifying everything. Second, when you try to create a different implementation, you'll see up front what methods it needs to support.</p>\n\n<p>Here are a few reasons <em>not</em> to directly use Excel as your data source, but to define your own database instead:</p>\n\n<ul>\n<li>If the Excel files weren't meant for that purpose then they might change unpredictably and then your application won't work. (Or worse, it \"works\" but it's using the wrong columns or sheets and the data looks similar and no one notices for a while.) If you're importing the Excel files into a database and the file layout changes it will still create work, but that work will be at the point where you import the data, not in the rest of your application. You're keeping \"volatile\" things that could change away from other parts of your code.</li>\n<li>A plausible, common scenario is that later you also need to include data from another source. If your application is reading Excel, then now you have to figure out how to get data from somewhere else into the Excel workbook. That's doable but not fun at all. It's much easier if you're reading from a database, and Excel is just one way that data gets into it. Then it's much easier to include data from other sources.</li>\n</ul>\n\n<p>Those both reflect the idea that our application should have more control over the things it depends on. When you define a repository interface, your application says that whatever the implementation is, it must conform to this. Creating your own database is an extension of that principle. You control the data store, and whatever puts data in it must conform to it. You can't control what you can't control, but you push it farther away from the parts you <em>do</em> control to limit the work required if it changes.</p>\n"}], "owner": {"reputation": 917, "user_id": 10290408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e1feed163c02636f1eea4c5d67bbc7?s=128&d=identicon&r=PG&f=1", "display_name": "Selthien", "link": "https://stackoverflow.com/users/10290408/selthien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 55940466, "answer_count": 1, "score": 0, "last_activity_date": 1556733634, "creation_date": 1556731598, "last_edit_date": 1556732097, "question_id": 55940112, "link": "https://stackoverflow.com/questions/55940112/how-to-use-data-from-excel-file-as-data-source-asp-net-mvc-app", "title": "How to use data from Excel file as data source ASP.Net MVC App", "body": "<p>So I know this question seems a bit broad so let me give some context. Where I work our Engineers use these huge Excel files full of data (bill of material numbers, costs, etc.) I am looking for a good way to use these files as a data source. I know it takes longer to import .xlsx vs a .csv file. Would it be beneficial to have some sort of running program that periodically transformers the data into a csv file and then use that file as the data source? Or is there a way to keep excel data in sync with a database?</p>\n\n<p>I am not sure what my \"options\" are. Or if there is a better common practice for this. I have only been using databases when creating my programs but having to make the engineers upkeep the excel files AND a database in not an option.</p>\n\n<p><strong>What I have looked at already</strong></p>\n\n<p><a href=\"https://www.c-sharpcorner.com/article/import-excel-data-to-database-using-Asp-Net-mvc-entity-frame/\" rel=\"nofollow noreferrer\">Using LinqToSQL</a></p>\n\n<p><a href=\"https://www.mikesdotnetting.com/article/297/the-best-way-to-import-data-from-excel-to-sql-server-via-asp-net\" rel=\"nofollow noreferrer\">Importing Excel Into Server</a></p>\n\n<p>Any pointers would be appreciated.</p>\n"}, {"tags": ["c#", "unity3d", "byte", "firebase-storage", "audioclip"], "owner": {"reputation": 21, "user_id": 11082129, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8bbWtU5WA3Y/AAAAAAAAAAI/AAAAAAAABok/m8BLKH7hPRk/photo.jpg?sz=128", "display_name": "John Perales", "link": "https://stackoverflow.com/users/11082129/john-perales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 643, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1560987601, "creation_date": 1556731108, "question_id": 55940014, "link": "https://stackoverflow.com/questions/55940014/how-to-convert-unity-audioclip-into-byte-array-suitable-for-firebase-storage-upl", "title": "How to convert Unity AudioClip into byte array suitable for Firebase Storage upload", "body": "<p>I am using Firebase Storage on Unity3D to store microphone recordings from the user. How do I convert an AudioClip into a byte stream that can be uploaded to Firebase Storage?</p>\n\n<p>While the project is uploading sound files at the appropriate time, the files found in Firebase are not readable by any player.</p>\n\n<p>I have made sure that:</p>\n\n<ul>\n<li>I am actually getting the proper uncorrupted recordings that I wish to upload.</li>\n<li>My upload audio clip method works for uploading files from my computer hard drive to Firebase (including the recording that I intend to upload) using PutFileAsync() rather than PutBytesAsync()</li>\n<li>My project also uploads images to the same Firebase, these images are uploaded without issue</li>\n</ul>\n\n<p>This leads me to conclude that my formatting of the byte stream is incorrect.</p>\n\n<p>My current method to convert the current recording into a byte array for upload. This code was essentially copied from (<a href=\"https://github.com/steelejay/LowkeySpeech/blob/master/Code/SavWav.cs\" rel=\"nofollow noreferrer\">https://github.com/steelejay/LowkeySpeech/blob/master/Code/SavWav.cs</a>), but instead of having it write the bytesData to a file, it instead sends returns the bytesData to be uploaded to Firebase.</p>\n\n<pre><code>public byte[] returnByteArrayForCurrentRecording()\n    {\n        var samples = new float[audioClip.samples];\n\n        audioClip.GetData(samples, 0);\n\n        Int16[] intData = new Int16[samples.Length];\n\n        Byte[] bytesData = new Byte[samples.Length * 2];\n\n        int rescaleFactor = 32767;\n\n        for (int i = 0; i &lt; samples.Length; i++)\n        {\n            intData[i] = (short)(samples[i] * rescaleFactor);\n            Byte[] byteArr = new Byte[2];\n            byteArr = BitConverter.GetBytes(intData[i]);\n            byteArr.CopyTo(bytesData, i * 2);\n        }\n\n        return bytesData;\n\n    }\n</code></pre>\n\n<p>My method that takes the byte array from the previous method and, uploads it to Firebase.</p>\n\n<pre><code>string saveAudio(DatabaseReference objectReference)\n    {\n        microphoneRecorder.endAudioRecording();\n        byte[] audioStream = microphoneRecorder.returnByteArrayForCurrentRecording();\n        StorageReference objectAudioRef= audioRef.Child(objectReference.Key.ToString()+\".mp3\");\n        objectAudioRef.PutBytesAsync(audioStream);\n        return objectAudioRef.ToString();\n    }\n</code></pre>\n\n<p>I expect this to upload a playable mp3 to FirebaseStorage. However, none of the sound files uploaded using this method are readable by any media player.</p>\n\n<p>As always, thank you for taking the time.</p>\n"}, {"tags": ["c#", "byte"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1556731414, "post_id": 55939981, "comment_id": 98533274, "body": "<code>&amp;</code> is bitwise &quot;and&quot;. 0x01 is binary 00000001. <code>((states &amp; 0x01)</code> masks out all but the first bit of <code>states</code>; thus if states is <code>0x02</code> (binary <code>00000010</code>), <code>((states &amp; 0x01) == 0</code>. If states is 0x03 (binary <code>00000011</code>), <code>((states &amp; 0x01) == 1</code>. If states is 0x07 (<code>00000111</code>), <code>((states &amp; 0x01) == 1</code> again ."}, {"owner": {"reputation": 103, "user_id": 5981540, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f9776ea2667161aad52aebcc44ade539?s=128&d=identicon&r=PG&f=1", "display_name": "MJ2507", "link": "https://stackoverflow.com/users/5981540/mj2507"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1556731427, "post_id": 55939981, "comment_id": 98533279, "body": "@&#199;&#246;\u0111\u011bx\u011b\u0155 i understand <code>0x01</code> = 1. But if <code>states = 0</code> and <code>0x01 =1</code>, how does that evaluate to zero in the code?"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1556731488, "post_id": 55939981, "comment_id": 98533307, "body": "states &amp; 0x01 returns 1 if the lowest-order bit of states is 1, and zero if the lowest-order bit of states is 0. If states is 0, all the bits are zero, including that one. This is not a shifting operation; it is a logical operation. We call it &quot;masking&quot;, for obvious reasons. <code>(states &amp; 0x04)</code> would look at the third bit, because 0x04 == binary 00000100. 0x06 is 00000110, so that would look at the second and third bits. 0001100 &amp; 0000110 == 0000100 -- only the bits that are 1 in both pass through the expression."}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1556731544, "post_id": 55939981, "comment_id": 98533335, "body": "@EdPlunkett thanks for the explanation, got to it first."}, {"owner": {"reputation": 103, "user_id": 5981540, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f9776ea2667161aad52aebcc44ade539?s=128&d=identicon&r=PG&f=1", "display_name": "MJ2507", "link": "https://stackoverflow.com/users/5981540/mj2507"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1556731620, "post_id": 55939981, "comment_id": 98533366, "body": "@EdPlunkett - AHA! that makes perfect sense! thank you!"}, {"owner": {"reputation": 103, "user_id": 5981540, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f9776ea2667161aad52aebcc44ade539?s=128&d=identicon&r=PG&f=1", "display_name": "MJ2507", "link": "https://stackoverflow.com/users/5981540/mj2507"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1556731733, "post_id": 55939981, "comment_id": 98533419, "body": "@EdPlunkett for my understanding <code>(states &amp; 0x01 &lt;&lt;1)</code> is then masking all but the second bit, correct? so if <code>states = 1</code> (binary <code>00000001</code>) then it evaluates to zero, correct?"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1556731812, "post_id": 55939981, "comment_id": 98533461, "body": "Yes, <code>(00000001 &lt;&lt; 1) == 00000010</code>, and <code>00000010 &amp; 00000001 == 0</code>. Sticky bit&#39;s answer nails it better than my babbling."}], "answers": [{"tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": true, "score": 2, "last_activity_date": 1556731789, "creation_date": 1556731789, "answer_id": 55940165, "question_id": 55939981, "link": "https://stackoverflow.com/questions/55939981/understanding-if-statement-byte-operators/55940165#55940165", "title": "Understanding If statement byte operators", "body": "<p>The <code>&amp;</code> operator is the bit-and operator. It compares both operands bit for bit. Only if both bits at a position are set the corresponding bit in the result is set.</p>\n\n<p>So lets say you have <code>a</code> and <code>b</code> where <code>a</code> presented as a bit string is <code>00001101</code> and <code>b</code> as <code>00001011</code>. Then <code>a &amp; b</code> written as bit string is <code>00001001</code> because</p>\n\n<pre><code>           +----- no bit is set\n           |+---- both bits are set\n           ||+--- only one bit is set  \n           |||+-- only one bit is set  \n           ||||+- both bits are set\n           vvvvv\na     = 00001101\nb     = 00001011\n----------------\na &amp; b = 00001001\n</code></pre>\n\n<p>So in other words <code>(states &amp; 0x01) == 0</code> is true if and only if <code>states</code> is even, i.e. written as a bit string it ends in <code>0</code>. Keep in mind that <code>0x01</code> is <code>00000001</code> written as a bit string.</p>\n"}], "owner": {"reputation": 103, "user_id": 5981540, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f9776ea2667161aad52aebcc44ade539?s=128&d=identicon&r=PG&f=1", "display_name": "MJ2507", "link": "https://stackoverflow.com/users/5981540/mj2507"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 55940165, "answer_count": 1, "score": 0, "last_activity_date": 1556731789, "creation_date": 1556730971, "question_id": 55939981, "link": "https://stackoverflow.com/questions/55939981/understanding-if-statement-byte-operators", "title": "Understanding If statement byte operators", "body": "<p>I've downloaded some <a href=\"https://robot-electronics.co.uk/files/usb-rly02-cs.zip\" rel=\"nofollow noreferrer\">source code</a> for a USB controlled relay switch. I need to manipulate this code for an application but am having trouble understanding the byte operators. </p>\n\n<p>I've had a look at bit-shifting operators and I understand they are shifting bits to the next power of 2. Below is the function I am struggling with:</p>\n\n<pre><code>byte[] SerBuf = new byte[64];\nbyte states = 0;\nprivate void button_pressed(object sender, MouseEventArgs e)\n       {\n           // Check type of sender to make sure it is a button\n           if (sender is Button)\n           {\n               if (usb_found == 1)\n               {\n                   Button button = (Button)sender;\n                   // Check the title of the button for which realy we wish to change\n                   // And then check the state of that relay and send the appropriate command to turn it on or off\n                   switch (button.Text.ToString())\n                   {\n                       case \"Relay 1\":\n                           if ((states &amp; 0x01) == 0) SerBuf[0] = 0x65; //&lt;this is the bit I don't understand\n                           else SerBuf[0] = 0x6F;\n                           //Thread.Sleep(2000);\n                           break;\n                       case \"Relay 2\":\n                           if ((states &amp; (0x01 &lt;&lt; 1)) == 0) SerBuf[0] = 0x66; //&lt;this is the bit I don't understand\n                           else SerBuf[0] = 0x70;\n                           break;\n                       case \"Both\":\n                           SerBuf[0] = 0x64;\n                           break;\n                       case \"None\":\n                           SerBuf[0] = 0x6E;\n                           break;\n                   }\n                   transmit(1); // this sends the new buffer to the relay board\n\n               }\n           }\n</code></pre>\n\n<p>What I don't understand is what is being evaluated with <code>if ((states &amp; 0x01) == 0)</code></p>\n\n<p>The <code>States</code> byte is between 0 and 3 depending on which of the two relay switches are active.</p>\n\n<p>What is the <code>0x01</code> doing?</p>\n"}, {"tags": ["c#", "datetimeoffset"], "answers": [{"comments": [{"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1557776267, "post_id": 55940926, "comment_id": 98870875, "body": "This is correct.  But also note that if the input time is <i>intended</i> to be in UTC then you can avoid this by either including a trailing <code>Z</code> in the input string, or by passing <code>DateTimeStyle.AssumeUniversal</code> to the <code>TryParse</code> method."}], "tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": false, "score": 3, "last_activity_date": 1556736162, "last_edit_date": 1556736162, "creation_date": 1556735521, "answer_id": 55940926, "question_id": 55939920, "link": "https://stackoverflow.com/questions/55939920/why-cant-i-parse-this-string-to-datetimeoffset-with-my-system-clock-set-to-hong/55940926#55940926", "title": "Why can&#39;t I parse this string to DateTimeOffset with my system clock set to Hong Kong time?", "body": "<p>If your're on EST time then that value represents a UTC time greater than 1/1/0001 12:00:00 AM +00:00, which is the minimum value for <code>DateTimeOffset</code>. So you're okay. </p>\n\n<p>If you're on Hong Kong time, the value would be less than <code>DateTimeOffset.MinValue</code>. The value can't be represented as a <code>DateTimeOffset</code>, so the <code>TryParse</code> fails.</p>\n"}], "owner": {"reputation": 397, "user_id": 10483893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcace3ed84811aebb27a26e29cd43c87?s=128&d=identicon&r=PG&f=1", "display_name": "user3761555", "link": "https://stackoverflow.com/users/10483893/user3761555"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556736162, "creation_date": 1556730613, "last_edit_date": 1556736120, "question_id": 55939920, "link": "https://stackoverflow.com/questions/55939920/why-cant-i-parse-this-string-to-datetimeoffset-with-my-system-clock-set-to-hong", "title": "Why can&#39;t I parse this string to DateTimeOffset with my system clock set to Hong Kong time?", "body": "<p>If you change your system clock </p>\n\n<p><strong>FROM:</strong> for example Hong Kong time or China Standard Time (UTC +8)</p>\n\n<p><strong>TO:</strong> EST Eastern Standard time (UTC -5)</p>\n\n<p>Then below code will work.</p>\n\n<p>DateTimeOffset don\u2019t like \"0001-01-01T00:00:00\" if clock isn't set to EST?</p>\n\n<pre><code>string token = \"0001-01-01T00:00:00\";\nif (!DateTimeOffset.TryParse(token, out var offsetDate))\n{\n   Console.WriteLine(\u201cWhy?\u201d);\n}\n</code></pre>\n\n<p>Why...?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 514, "user_id": 10248207, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7LFjX0WmRb4/AAAAAAAAAAI/AAAAAAAAG6s/Dgp1NzD8icI/photo.jpg?sz=128", "display_name": "Prakash Mhasavekar", "link": "https://stackoverflow.com/users/10248207/prakash-mhasavekar"}, "edited": false, "score": 0, "creation_date": 1556730885, "post_id": 55939905, "comment_id": 98533044, "body": "Try using Server.MapPath(&quot;your file path here&quot;);"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 1, "creation_date": 1556731356, "post_id": 55939905, "comment_id": 98533245, "body": "In Solution Explorer, click on the file and select the <code>Copy to Output Directory</code> property. Set it to <code>Copy always</code> or <code>Copy if newer</code>, as you prefer/need to. Then you&#39;ll find the file in your <code>Application.StartupPath</code> (or any other way you can get to that path. <code>Path.GetDirectoryName(Assembly.GetExecutingAssembly().Locati&zwnj;&#8203;on)</code>, for example)."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556731758, "post_id": 55939905, "comment_id": 98533429, "body": "Note that the path defined in Solution Explorer will be preserved: your file will be copied to <code>{Application.StartupPath}\\Solution items\\fetching.csv</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11437064"}, "edited": false, "score": 0, "creation_date": 1556732754, "post_id": 55939905, "comment_id": 98533928, "body": "can you write and give me the code"}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556737146, "post_id": 55939905, "comment_id": 98535774, "body": "I don&#39;t think any of this will work if the file is in a solution folder and not within a project. The project doesn&#39;t know where the solution is. A project could be part of multiple solutions."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556746926, "post_id": 55939905, "comment_id": 98539332, "body": "There&#39;s no code to give away. All is needed is already here. You need to move the <code>Solution Items</code> folder inside your Project, choose a copy method and that&#39;s all. You can find your file using one of the suggested way to get the executable path. i.e., <code>string filePath = Path.Combine(Application.StartupPath, &quot;Solution Items\\fetching.csv&quot;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 376, "user_id": 5626838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3aTy.jpg?s=128&g=1", "display_name": "Qusai Azzam", "link": "https://stackoverflow.com/users/5626838/qusai-azzam"}, "is_accepted": false, "score": 1, "last_activity_date": 1556775718, "last_edit_date": 1556775718, "creation_date": 1556730918, "answer_id": 55939971, "question_id": 55939905, "link": "https://stackoverflow.com/questions/55939905/how-to-get-the-path-of-a-csv-file-inside-solution-exporer/55939971#55939971", "title": "How to get the path of a CSV file inside Solution Exporer?", "body": "<p>let us suppose you have a file called test.txt in a directory TestFolder <br></p>\n\n<p>you can access it like this :</p>\n\n<pre><code>string filePath = AppDomain.CurrentDomain.BaseDirectory + @\"\\TestFolder\\test.txt\";\nstring[] lines = System.IO.File.ReadAllLines(filepath);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11437064"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556775718, "creation_date": 1556730552, "last_edit_date": 1556731917, "question_id": 55939905, "link": "https://stackoverflow.com/questions/55939905/how-to-get-the-path-of-a-csv-file-inside-solution-exporer", "title": "How to get the path of a CSV file inside Solution Exporer?", "body": "<p>I have a CSV file inside my solution explorer:  </p>\n\n<p><a href=\"https://i.stack.imgur.com/OplxI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OplxI.png\" alt=\"Solution Explorer\"></a></p>\n\n<p>How do I pass the path of file inside the Solution Explorer?</p>\n\n<p>Code:</p>\n\n<pre><code>String filepath=\"C:\\\\Users\\\\vikas\\\\Desktop\\\\fetching.csv\";\nDataTable dt = new DataTable();\nstring[] lines = System.IO.File.ReadAllLines(filepath);\n</code></pre>\n\n<p>in place of filepath passing file inside the Solution Explorer path.</p>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1556730767, "post_id": 55939796, "comment_id": 98532998, "body": "What kind of object does <code>MConverter</code> return? Since all the Bindings in all your MultiBindings just have constants, you don&#39;t really need bindings for that: The purpose of a <code>Binding</code> is to monitor the source and target properties for changes, and update one from the other as needed."}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 1, "creation_date": 1556731948, "post_id": 55939796, "comment_id": 98533524, "body": "The usual way to do a bunch of very similar things is an itemscontrol. Bind itemssource to a collection of viewmodels which expose a command each. They each encapsulate any logic necessary. Your commandparameter bindings look kind of weird."}, {"owner": {"reputation": 15, "user_id": 11422659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fikZn.jpg?s=128&g=1", "display_name": "Intekin", "link": "https://stackoverflow.com/users/11422659/intekin"}, "edited": false, "score": 0, "creation_date": 1556736620, "post_id": 55939796, "comment_id": 98535539, "body": "Yeah, I know that the bindings are weird. It is probably my lack of understanding the full scope of how to use them. It started as a one command per unique button. Then, with the CommandParameter, I cut down the commands to one per building object and had the CommandParameter take the number of buildings I wanted to purchase. And in this iteration I only have one command for all of purchase buttons related to the buildings, that relays to a method that takes a string array with the values passed from the CommandParameter. The converter only makes a string array of the MultiBinding."}], "owner": {"reputation": 15, "user_id": 11422659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fikZn.jpg?s=128&g=1", "display_name": "Intekin", "link": "https://stackoverflow.com/users/11422659/intekin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556972969, "creation_date": 1556729999, "last_edit_date": 1556972969, "question_id": 55939796, "link": "https://stackoverflow.com/questions/55939796/how-do-i-create-a-custom-four-button-control-with-useful-bindings", "title": "How do I create a custom four button control with useful bindings?", "body": "<p>I am trying to make a clicker game in WPF based on <a href=\"http://civclicker.sourceforge.net/civclicker/civclicker.html\" rel=\"nofollow noreferrer\">CivClicker</a>  Mostly just a clone right now but... I hope to expand on the concept in the future.</p>\n\n<p>It is mostly to practice and explore more complex MVVM and xaml problem solving. As you can see in the link, there are a lot of repeating buttons and I want to streamline that somehow. </p>\n\n<p>My current solution is garbage but it is somewhat working. It started as a one command per unique button, not very clean. Then, with the CommandParameter, I cut down the commands to one per building object and had the CommandParameter take the number of buildings I wanted to purchase, a bit more clean. In my current iteration, I only have one command for all of purchase buttons related to the buildings. I am using Multibinding to bind static buildingtype and the amount of buildings to purchase. </p>\n\n<p>My current 4 button purchase mechanic looks like this. </p>\n\n<pre><code>        &lt;StackPanel Orientation=\"Horizontal\"&gt;\n            &lt;Button Command=\"{Binding BuyTentCommand}\" Content=\"Build Tent\" Width=\"120\" ToolTip=\"2 skins, 2 wood: +1 max pop.\"&gt;\n                &lt;Button.CommandParameter&gt;\n                    &lt;MultiBinding Converter=\"{StaticResource MConverter}\"&gt;\n                        &lt;Binding Source=\"1\"/&gt; //Amount of buildings\n                        &lt;Binding Source=\"0\"/&gt; //Building ID\n                    &lt;/MultiBinding&gt;\n                &lt;/Button.CommandParameter&gt;\n            &lt;/Button&gt;\n            &lt;Button Command=\"{Binding BuyTentCommand}\" Content=\" x10 \" Margin=\"2,0\"&gt;\n                &lt;Button.CommandParameter&gt;\n                    &lt;MultiBinding Converter=\"{StaticResource MConverter}\"&gt;\n                        &lt;Binding Source=\"10\"/&gt;\n                        &lt;Binding Source=\"0\"/&gt;\n                    &lt;/MultiBinding&gt;\n                &lt;/Button.CommandParameter&gt;\n            &lt;/Button&gt;\n            &lt;Button Command=\"{Binding BuyTentCommand}\" Content=\" x100 \" Margin=\"2,0\"&gt;\n                &lt;Button.CommandParameter&gt;\n                    &lt;MultiBinding Converter=\"{StaticResource MConverter}\"&gt;\n                        &lt;Binding Source=\"100\"/&gt;\n                        &lt;Binding Source=\"0\"/&gt;\n                    &lt;/MultiBinding&gt;\n                &lt;/Button.CommandParameter&gt;\n            &lt;/Button&gt;\n            &lt;Button Command=\"{Binding BuyTentCommand}\" Content=\" x1000 \" Margin=\"2,0\"&gt;\n                &lt;Button.CommandParameter&gt;\n                    &lt;MultiBinding Converter=\"{StaticResource MConverter}\"&gt;\n                        &lt;Binding Source=\"1000\"/&gt;\n                        &lt;Binding Source=\"0\"/&gt;\n                    &lt;/MultiBinding&gt;\n                &lt;/Button.CommandParameter&gt;\n            &lt;/Button&gt;\n        &lt;/StackPanel&gt;\n</code></pre>\n\n<p>Repeating that piece of code 16 times(or more), is not really ideal in any scenario. If anyone can show me an working example on how to make something like this in to a single reusable UserContol or something, I will be very grateful.</p>\n\n<p><em>I edited my question to be a bit more generic/conceptual.</em> </p>\n\n<p><em>BTW, first code-post ever on here and please be lenient and I would appreciate any and all suggestions for improvements on the post format.</em></p>\n"}, {"tags": ["c#", "android", "unity3d", "coroutine"], "comments": [{"owner": {"reputation": 1776, "user_id": 10657522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dF5S.jpg?s=128&g=1", "display_name": "Darren Ruane", "link": "https://stackoverflow.com/users/10657522/darren-ruane"}, "edited": false, "score": 1, "creation_date": 1556730778, "post_id": 55939783, "comment_id": 98533001, "body": "Could you please provide us with some more context? Where and how are you calling this method? What is the value of <code>target</code>? What happens if <code>target</code> is &lt;= 0? What is the value of <code>scoreText</code>? What is the <code>default</code> parameter that you are passing to the <code>Play()</code> method? Are you certain that you are not starting this coroutine more than once?"}, {"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "reply_to_user": {"reputation": 1776, "user_id": 10657522, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2dF5S.jpg?s=128&g=1", "display_name": "Darren Ruane", "link": "https://stackoverflow.com/users/10657522/darren-ruane"}, "edited": false, "score": 1, "creation_date": 1556731021, "post_id": 55939783, "comment_id": 98533096, "body": "If everything directly controlled by this coroutine works properly I&#39;d look outside it, like what&#39;s in scoreText? Does that change over time? Starting the coroutine more than once is another good thing to check as suggested by @DarrenRuane If I had a dollar for every bug I&#39;ve fixed due to that... :)"}, {"owner": {"reputation": 663, "user_id": 6057289, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gi21T.jpg?s=128&g=1", "display_name": "stroibot", "link": "https://stackoverflow.com/users/6057289/stroibot"}, "edited": false, "score": 0, "creation_date": 1556731535, "post_id": 55939783, "comment_id": 98533330, "body": "<code>target</code> can only be [0, 3]. This coroutine starts when the level is completed. <code>ScoreText</code> is a TextMeshProUGUI, which displays score in the UI. <code>Play(AudioClip clip, float pitch, float volume)</code>. Yes, I am ABSOLUTELY sure that coroutine starts only once. Ok, I&#39;ll try to see what&#39;s going on."}], "answers": [{"tags": [], "owner": {"reputation": 663, "user_id": 6057289, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gi21T.jpg?s=128&g=1", "display_name": "stroibot", "link": "https://stackoverflow.com/users/6057289/stroibot"}, "is_accepted": true, "score": 0, "last_activity_date": 1556732145, "creation_date": 1556732145, "answer_id": 55940247, "question_id": 55939783, "link": "https://stackoverflow.com/questions/55939783/unity-coroutine-acts-different-on-android/55940247#55940247", "title": "Unity, Coroutine acts different on Android", "body": "<p>OK, guys, sorry, I figured it out, the answer is actually really stupid... So it turns out that this was happening because of the Post Processing Stack's Depth of Field, it was activated during Level Complete phase and when the <code>CountTo</code> was called, so it seems that these two somehow interfered each other, so I've got what I've got.</p>\n\n<p>Sorry again! Thanks!</p>\n"}], "owner": {"reputation": 663, "user_id": 6057289, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gi21T.jpg?s=128&g=1", "display_name": "stroibot", "link": "https://stackoverflow.com/users/6057289/stroibot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 55940247, "answer_count": 1, "score": 0, "last_activity_date": 1556732145, "creation_date": 1556729943, "question_id": 55939783, "link": "https://stackoverflow.com/questions/55939783/unity-coroutine-acts-different-on-android", "title": "Unity, Coroutine acts different on Android", "body": "<p>Next code below acts different on Android, while in Editor it acts as supposed:</p>\n\n<pre><code> private IEnumerator CountTo(int target)\n {\n     yield return new WaitForSeconds(0.5f);\n\n     int start = 0;\n\n     do\n     {\n         ScoreText.text = string.Format(scoreText, start);\n\n         if (start != 0)\n         {\n             SoundManager.instance.Play(ScoreSound, default, 0.4f);\n         }\n\n         start++;\n\n         yield return new WaitForSeconds(0.33f);\n     }\n     while (start &lt;= target);\n }\n</code></pre>\n\n<p>In editor, when it called, it waits for 0.5 seconds before launch (to wait Complete level sound to play), counts to <code>target</code> one by one with playing <code>ScoreSound</code> each time (except the first one) when score changes.</p>\n\n<p>On Android it firsts plays all of the the needed <code>ScoreSound</code> sounds and only then, SLOWLY (almost like with lags) changes the UI score. In debugger, step by step, everything works fine. Using the Profiler, FPS is stable when this happens.</p>\n\n<p>Any idea what can be causing this?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "firebird"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11434984, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_ROBXChvlYs/AAAAAAAAAAI/AAAAAAAAACE/y0MpxW9x7Tk/photo.jpg?sz=128", "display_name": "Tommaso Bari", "link": "https://stackoverflow.com/users/11434984/tommaso-bari"}, "edited": false, "score": 0, "creation_date": 1556818147, "post_id": 55941582, "comment_id": 98566574, "body": "Thanks (again), it works, but now when I try to connect with a non-registered user (user wasn&#39;t created in users database table) i think I won&#39;t be able to connect right? But with a random user and password (no registered in database) I can connect anyway. Why? When I run the command show users in isql it display sysdba and for example user2 with a -, like this: <code>-user2</code>"}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "reply_to_user": {"reputation": 5, "user_id": 11434984, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_ROBXChvlYs/AAAAAAAAAAI/AAAAAAAAACE/y0MpxW9x7Tk/photo.jpg?sz=128", "display_name": "Tommaso Bari", "link": "https://stackoverflow.com/users/11434984/tommaso-bari"}, "edited": false, "score": 1, "creation_date": 1556819086, "post_id": 55941582, "comment_id": 98566971, "body": "@TommasoBari Contrary to Firebird server, Firebird embedded will authenticate with any user you specify, and it doesn&#39;t check any password. The rule is basically: if you can read and write to the database file, you are allowed to connect using Firebird Embedded. However, you will need to have <a href=\"https://firebirdsql.org/file/documentation/reference_manuals/fblangref25-en/html/fblangref25-security-privs.html\" rel=\"nofollow noreferrer\">granted</a> appropriate rights to the username to be able to do things in the database."}], "tags": [], "owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "is_accepted": true, "score": 2, "last_activity_date": 1556796244, "last_edit_date": 1556796244, "creation_date": 1556738759, "answer_id": 55941582, "question_id": 55939702, "link": "https://stackoverflow.com/questions/55939702/firebird-embedded-multiple-user-support/55941582#55941582", "title": "Firebird embedded multiple user support", "body": "<p>If you want two or more apps to connect to the same database, it is time to consider installing Firebird server instead.</p>\n\n<p>That said, if you are using Firebird 3 embedded, it is possible. By default, Firebird 3 embedded will require exclusive access to the database. This can be changed by making sure there is a <code>firebird.conf</code> in the same location as your <code>fbclient.dll</code> used by your application, and setting the <code>ServerMode</code> setting to <code>SuperClassic</code> (or <code>ThreadedShared</code>).</p>\n\n<p>Doing this carries a small risk. If the database is shared, then all processes must use the same lock files. By default that is the case, but if applications have different <code>FIREBIRD_LOCK</code> environment variable settings, this can corrupt a database as each process will think it doesn't have contenders for its locks.</p>\n"}], "owner": {"reputation": 5, "user_id": 11434984, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_ROBXChvlYs/AAAAAAAAAAI/AAAAAAAAACE/y0MpxW9x7Tk/photo.jpg?sz=128", "display_name": "Tommaso Bari", "link": "https://stackoverflow.com/users/11434984/tommaso-bari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 55941582, "answer_count": 1, "score": 0, "last_activity_date": 1556796244, "creation_date": 1556729559, "question_id": 55939702, "link": "https://stackoverflow.com/questions/55939702/firebird-embedded-multiple-user-support", "title": "Firebird embedded multiple user support", "body": "<p>I'm trying to create an app that communicate with a Firebird 3.0 embedded database.\nI need that two or more of my app instances can connect and edit the same database at the same time.\nI had create the connection part and it works.\nWhen I start the first instance it connects correctly, but when I try to access to the database with another app it raise this error: <code>Error while trying to open file -Impossible to open the file.</code>\nI also had try to connect with different account for example user2 and user1 (manually created with isql) but without results.\nI search on google all day but I found nothing.\nAny suggestion? Thanks in advance</p>\n\n<p>This is the acutal code:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nusing Firebird;\n\nnamespace Firebird_multiuser\n{\n    public partial class Form1 : Form\n    {\n        //private TextBox console = new TextBox();\n\n        Firebird.Firebird conn = new Firebird.Firebird();\n        public Form1()\n        {\n            InitializeComponent();\n            input_box.Text = @\"G:\\Coding\\oribruniv8\\Firebird\\Firebird_multiuser\\test.fdb\";\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            if (conn.connect(input_box.Text))\n                console.AppendText(\"Successfully connect to database\\n\");\n            else\n            {\n                console.AppendText(\"Error during connection ...\\n\");\n                return;\n            }\n\n        }\n    }\n}\n</code></pre>\n\n<p>Firebird class</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>\nusing FirebirdSql.Data.FirebirdClient;\nusing FirebirdSql.Data.Isql;\n\nnamespace Firebird\n{\n    public class Firebird\n    {\n        FbConnectionStringBuilder csb = new FbConnectionStringBuilder();\n        int pageSize = 8192;\n        bool forcedWrites = true;\n        bool overwrite = true;\n        FbConnection conn;\n\n        public Firebird()\n        {\n\n            csb.ClientLibrary = **correct path to fbclient.dll**;\n            csb.UserID = \"sysdba\";\n            csb.Password = \"masterkey\";\n            csb.ServerType = FbServerType.Embedded;\n        }\n\n        public bool create(string path)\n        {\n            csb.Database = path;\n            FbConnection.CreateDatabase(csb.ToString(), pageSize, forcedWrites, overwrite);\n            this.conn = new FbConnection(csb.ToString());\n            this.conn.Open();\n\n            return this.connection_check();\n\n\n        }\n\n        public bool connect(string path)\n        {\n            csb.Database = path;\n            this.conn = new FbConnection(csb.ToString());\n            this.conn.Open();\n            return this.connection_check();\n\n        }\n\n        public void query(string SQLquery)\n        {\n            this.conn.Open();\n            using (var transaction = this.conn.BeginTransaction())\n            using (var command = new FbCommand())\n            {\n                command.Connection = this.conn;\n                command.Transaction = transaction;\n\n                command.CommandText = SQLquery;\n\n                command.ExecuteNonQuery();\n\n                transaction.Commit();\n            }\n        }\n\n        private bool connection_check()\n        {\n            if (this.conn.State == ConnectionState.Open)\n            {\n                conn.Close();\n                return true;\n            }\n            else\n            {\n                return false;\n            }\n        }\n    }\n} \n</code></pre>\n"}, {"tags": ["c#", "foreach", "sonarqube"], "comments": [{"owner": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "edited": false, "score": 1, "creation_date": 1556729391, "post_id": 55939622, "comment_id": 98532453, "body": "You&#39;re starting to iterate over a collection, and breaking out after the first loop. That&#39;s odd, and it&#39;s pointing out that it&#39;s odd."}, {"owner": {"reputation": 1115, "user_id": 1073157, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/PYThK.gif?s=128&g=1", "display_name": "Dan Rayson", "link": "https://stackoverflow.com/users/1073157/dan-rayson"}, "edited": false, "score": 1, "creation_date": 1556729418, "post_id": 55939622, "comment_id": 98532464, "body": "It only allows you to run the first iteration, you could use <code>var OlifeExt = acordPolicy.OLifEExtension.First()</code> from System.Linq namespace, for example."}], "answers": [{"tags": [], "owner": {"reputation": 11075, "user_id": 1495595, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u9Lea.jpg?s=128&g=1", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1495595/rafal"}, "is_accepted": true, "score": 1, "last_activity_date": 1556729486, "creation_date": 1556729486, "answer_id": 55939688, "question_id": 55939622, "link": "https://stackoverflow.com/questions/55939622/break-statement-issue-sonarqube/55939688#55939688", "title": "break statement issue - sonarqube", "body": "<p>Your code is valid c# code, but sonar is not about that the compiler is. Sonar validates if you code does not have confusing constructions and this one is confusing. You do not want to iterate the collection you want the first item only. So your code should express your intention of it. So you should do </p>\n\n<pre><code>var OlifeExt = acordPolicy.OLifEExtension.FirstOrDefault();\nif(OlifeExt  != null)\n// ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 795, "user_id": 5953575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YxUW7.jpg?s=128&g=1", "display_name": "Milenko Jevremovic", "link": "https://stackoverflow.com/users/5953575/milenko-jevremovic"}, "is_accepted": false, "score": 0, "last_activity_date": 1556729493, "creation_date": 1556729493, "answer_id": 55939690, "question_id": 55939622, "link": "https://stackoverflow.com/questions/55939622/break-statement-issue-sonarqube/55939690#55939690", "title": "break statement issue - sonarqube", "body": "<p>There is no point to have <code>break;</code> in any loop if it is not based on some condition, like:</p>\n\n<pre><code>foreach (var OlifeExt in acordPolicy.OLifEExtension)\n{\n  if(OlifeExt == something)\n  { \n    break;\n  }\n\n  // else continue looping and do your thing\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1190, "user_id": 11291455, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DeXw9UBXxKQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reVpCjCZyaprKSzlRLY9Dy1QdNo1w/mo/photo.jpg?sz=128", "display_name": "Steve Todd", "link": "https://stackoverflow.com/users/11291455/steve-todd"}, "is_accepted": false, "score": 0, "last_activity_date": 1556729981, "creation_date": 1556729981, "answer_id": 55939793, "question_id": 55939622, "link": "https://stackoverflow.com/questions/55939622/break-statement-issue-sonarqube/55939793#55939793", "title": "break statement issue - sonarqube", "body": "<p>\"break\" means break out of the current loop (the outer foreach). If the value you are looking for isn't the first in the collection then you will always return null.</p>\n\n<p>Assuming this isn't what you had in mind, something like this should work better:</p>\n\n<pre><code>public static AllocationRuleList AsAllocationRuleList(this SIGACORD.Policy acordPolicy)\n    {\n        foreach (var OlifeExt in acordPolicy.OLifEExtension)\n        {\n            var restrictions = OlifeExt.FirstOrDefault(f =&gt; f.Name == \"AllocationRestrictions\");\n            if (restrictions == null) continue;\n\n            return restrictions.AsAllocationRuleList();\n        }\n        return null;\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": false, "score": 1, "last_activity_date": 1556744761, "last_edit_date": 1556744761, "creation_date": 1556730155, "answer_id": 55939834, "question_id": 55939622, "link": "https://stackoverflow.com/questions/55939622/break-statement-issue-sonarqube/55939834#55939834", "title": "break statement issue - sonarqube", "body": "<p>Your <code>break</code> will cause the loop to exit after the first item. That defeats the purpose of the loop. </p>\n\n<p>It's the same as this:</p>\n\n<pre><code>    // a for loop does nothing if there are no items in the collection\n    if(acordPolicy.OLifEExtension).Any()\n    {\n\n        // no loop - we just take the first item.\n        var OlifeExt = acordPolicy.First(); \n        var elements = new List&lt;XmlElement&gt;();\n\n        foreach (var ele in OlifeExt.Any)\n        {\n            if (ele.Name == \"AllocationRestrictions\")\n            {\n                var allocationRestrictionElement = acordPolicy.OLifEExtension[0][\"AllocationRestrictions\"];\n                return allocationRestrictionElement.AsAllocationRuleList();\n            }\n        }\n    }\n    return null;\n</code></pre>\n\n<p>If you really just want to look at the first item in the collection then the code you wrote - a <code>for</code> loop with a <code>break</code> after the first iteration - will work. But it's confusing. Someone will have to read the whole thing to realize that the <code>for</code> loop exits after the first item. Then they will wonder if you meant to do that. Then they'll read some more trying to figure out what's going on.</p>\n\n<p>If you just want to look at the first item in the collection then it's better to do that explicitly.</p>\n"}], "owner": {"reputation": 315, "user_id": 11200893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e33efd75a1b282a11a7732aaddc7e31c?s=128&d=identicon&r=PG&f=1", "display_name": "testing", "link": "https://stackoverflow.com/users/11200893/testing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "accepted_answer_id": 55939688, "answer_count": 4, "score": 1, "last_activity_date": 1556744761, "creation_date": 1556729165, "question_id": 55939622, "link": "https://stackoverflow.com/questions/55939622/break-statement-issue-sonarqube", "title": "break statement issue - sonarqube", "body": "<p>i am analyzing my code using sonarqube and am running into a bug for the following method</p>\n\n<pre><code>public static AllocationRuleList AsAllocationRuleList(this SIGACORD.Policy acordPolicy)\n    {\n        foreach (var OlifeExt in acordPolicy.OLifEExtension)\n        {\n            var elements = new List&lt;XmlElement&gt;();\n\n            foreach (var ele in OlifeExt.Any)\n            {\n                if (ele.Name == \"AllocationRestrictions\")\n                {\n                    var allocationRestrictionElement = acordPolicy.OLifEExtension[0][\"AllocationRestrictions\"];\n                    return allocationRestrictionElement.AsAllocationRuleList();\n                }\n            }\n            break;\n        }\n        return null;\n    }\n</code></pre>\n\n<p>sonarqube is saying my <code>break</code> should be removed or made conditional. but, isn't it logically correct? </p>\n"}, {"tags": ["c#", "asp.net", "model-view-controller", "bootstrap-4"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 11103429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00379868fa0e8ea5cc2d6bb2324d2cfe?s=128&d=identicon&r=PG&f=1", "display_name": "user11103429", "link": "https://stackoverflow.com/users/11103429/user11103429"}, "edited": false, "score": 0, "creation_date": 1556731508, "post_id": 55939824, "comment_id": 98533315, "body": "Can&#39;t believe this would do a trick after spending hours on a small thing! Thank you! This resolves my problem 1 from this post: <a href=\"https://stackoverflow.com/questions/55923022/display-a-modal-popup-div-from-controller\" title=\"display a modal popup div from controller\">stackoverflow.com/questions/55923022/&hellip;</a> Is it possible for you that you can take a look at my 2nd issue in that post? Thank you for all your help!"}], "tags": [], "owner": {"reputation": 7480, "user_id": 76439, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba7df4c4825821d1074c43775e4a6e19?s=128&d=identicon&r=PG&f=1", "display_name": "Burt", "link": "https://stackoverflow.com/users/76439/burt"}, "is_accepted": true, "score": 1, "last_activity_date": 1556730114, "creation_date": 1556730114, "answer_id": 55939824, "question_id": 55939580, "link": "https://stackoverflow.com/questions/55939580/form-submit-gets-null-model/55939824#55939824", "title": "Form submit gets null model", "body": "<p>I'm pretty sure that the issue is with the way you are referencing the collection items:</p>\n\n<pre><code>.ElementAt(i)\n</code></pre>\n\n<p>Instead try</p>\n\n<pre><code>@Html.HiddenFor(model =&gt; model.SharedProducts[i].ProductId)\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 11103429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00379868fa0e8ea5cc2d6bb2324d2cfe?s=128&d=identicon&r=PG&f=1", "display_name": "user11103429", "link": "https://stackoverflow.com/users/11103429/user11103429"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 55939824, "answer_count": 1, "score": 0, "last_activity_date": 1556730114, "creation_date": 1556728976, "last_edit_date": 1556729301, "question_id": 55939580, "link": "https://stackoverflow.com/questions/55939580/form-submit-gets-null-model", "title": "Form submit gets null model", "body": "<p>When I submit a form, controller method gets null modal. I have a Details view that calls CreateNewProduct method from a different controller for a button click. CreateNewProduct calls either SharedProduct view or redirect to action method for Details view. I have a submit button in SharedProduct view, which gets model null when form gets submitted. Can I please get some assistant here? Thanks!</p>\n\n<p>Detail View</p>\n\n<pre><code>    @model DetailsModel\n\n    @foreach (var productTemplate in Model.Products)\n     {\n\n       @Html.ActionLink(\"Add New Product\", \"CreateNewProduct\", \"NewProductTemplate\", new { productTemplate.productId, productTemplate.customerId}, new { @class = \"btn btn-sm btn-primary\" })\n\n        @Html.ActionLink(\"Remove Product\", \"Delete\", \"ProductTemplate\", new { productTemplate.productId}, new { @class = \"btn btn-sm btn-primary\" })\n\n     }\n</code></pre>\n\n<p>ProdcutTemplate Controller</p>\n\n<pre><code>public ActionResult Details()\n        {\n            var productTemplate = _productTemplateService.GetAllProducts(User);\n            return View(new DetailsModel\n            {\n            ProductTemplate = productTemplate,\n            });\n        }\npublic ActionResult Delete(Guid productId)\n        {\n            var productTemplate = _productTemplateService.Delete(productId , User);\n            return View(\"Details\",new DetailsModel\n            {\n            ProductTemplate = productTemplate,\n            });\n        }\n</code></pre>\n\n<p>Model SharedModel and DetailsModel</p>\n\n<pre><code>    public class SharedModel\n        {\n            public IEnumerable&lt;SharedProductTemplateListItemDto&gt; SharedProducts    {get; set; }\n\n        }\npublic class DetailsModel\n        {\n            public IEnumerable&lt;ProductTemplateListItemDto&gt; Products{get; set; }\n\n        }\n</code></pre>\n\n<p>NewProductTemplate Controller Code</p>\n\n<pre><code>public ActionResult CreateNewProduct(Guid productId, Guid customerId)\n    {\n        var sharedProduct =     _newProductTemplateService.GetSharedProductCustomer(productId);\n        var _finalSharedProducts = (sharedProduct.Any(t =&gt; t.productId != productId));\n\n        if (_finalSharedProducts)\n        {\n            var sharedProdctTemplate =     _newProductTemplateService.GetSharedProduct(productId);\n            return View(\"SharedProduct\", new SharedModel\n            {\n                SharedProducts = sharedProdctTemplate\n            });\n            }\n           else\n           {\n                _productTemplateService.CreateNewProductOne(productId);\n                return RedirectToAction(\"Details\", \"ProductTemplate\");\n        }\n    }\n\npublic ActionResult ShareProduct (SharedModel shareModel)\n    {\n       //Access ShareProducts from shareModel \n        return RedirectToAction(\"Details\", \"ProductTemplate\");\n    }\n</code></pre>\n\n<p>View - SharedProduct.view</p>\n\n<pre><code>    @model SharedModel\n    @using (Html.BeginForm(\"ShareProduct\", \"NewProductTemplate\",        FormMethod.Post))\n{\n            @Html.AntiForgeryToken()\n   &lt;div class=\"flex-row\"&gt;\n    &lt;div class=\"col-6\"&gt;\n        &lt;div class=\"d-flex flex-row\"&gt;\n            &lt;div class=\"p-2\"&gt;Product ID&lt;/div&gt;\n            &lt;div class=\"p-2\"&gt;Product Types&lt;/div&gt;\n            &lt;div class=\"p-2\"&gt;Status&lt;/div&gt;\n        &lt;/div&gt;\n\n            @for (var i = 0; i &lt; Model.SharedProducts.Count(); i++)\n            {\n                @Html.HiddenFor(model =&gt; model.SharedProducts.ElementAt(i).ProductId)\n                @Html.HiddenFor(model =&gt; model.SharedProducts.ElementAt(i).CustomerId)\n                @Html.HiddenFor(model =&gt; model.SharedProducts.ElementAt(i).ProductType)\n                @Html.HiddenFor(model =&gt; model.SharedProducts.ElementAt(i).StatusCode)\n                @Html.HiddenFor(model =&gt; model.SharedProducts.ElementAt(i).IsShared)\n            &lt;div class=\"d-flex flex-row\"&gt;\n                &lt;div class=\"p-2\"&gt;@Html.DisplayFor(model =&gt;   model.SharedProducts.ElementAt(i).ProductId)&lt;/div&gt;\n                   &lt;div class=\"p-2\"&gt;@Html.DisplayFor(model =&gt; model.SharedProducts.ElementAt(i).ProductType)&lt;/div&gt;\n                    &lt;div class=\"p-2\"&gt;@Html.DisplayFor(model =&gt; model.SharedProducts.ElementAt(i).StatusCode)&lt;/div&gt;\n                  @if (Model.SharedProducts.ElementAt(i).StatusCode == VersionStatus.PUBLISHED)\n                {\n                    &lt;div class=\"p-2\"&gt;@Html.EditorFor(m =&gt; m.SharedProducts.ElementAt(i).IsShared)&lt;/div&gt;\n                }\n            &lt;/div&gt;\n        }\n    &lt;/div&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;div class=\"col-md-offset-2 col-md-10\"&gt;\n            &lt;input type=\"submit\" value=\"Save\" class=\"btn btn-sm btn-primary\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["c#", "wpf", "rest", "api", "async-await"], "comments": [{"owner": {"reputation": 795, "user_id": 5953575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YxUW7.jpg?s=128&g=1", "display_name": "Milenko Jevremovic", "link": "https://stackoverflow.com/users/5953575/milenko-jevremovic"}, "edited": false, "score": 0, "creation_date": 1556729084, "post_id": 55939562, "comment_id": 98532331, "body": "Start from here <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1556730397, "post_id": 55939562, "comment_id": 98532859, "body": "When you write &quot;I need to check the status&quot; I think you mean &quot;I have a separate program which must retrieve the status from the API process.&quot; Is that right? If so, what is the nature of the program?"}, {"owner": {"reputation": 19, "user_id": 10819382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38521e82b2a377c02e32d719ccf83894?s=128&d=identicon&r=PG&f=1", "display_name": "kattui", "link": "https://stackoverflow.com/users/10819382/kattui"}, "edited": false, "score": 0, "creation_date": 1556730723, "post_id": 55939562, "comment_id": 98532980, "body": "A separate program or same program, this program will be async"}], "owner": {"reputation": 19, "user_id": 10819382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38521e82b2a377c02e32d719ccf83894?s=128&d=identicon&r=PG&f=1", "display_name": "kattui", "link": "https://stackoverflow.com/users/10819382/kattui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556728890, "creation_date": 1556728890, "question_id": 55939562, "link": "https://stackoverflow.com/questions/55939562/how-to-check-current-status-of-api-process", "title": "How to check current status of API process", "body": "<p>I have a web api which has responsibility to write something on a files by taking data from somewhere on conditions and than return the file names. What i need is to check the status of this task.\nIt can happen that api will start write after 2 mins so that the status of this api should be not started till that time. How to achieve this functionality?</p>\n"}, {"tags": ["c#", "asp.net-web-api", "asp.net-web-api2"], "comments": [{"owner": {"reputation": 1895, "user_id": 3245937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/55470a42794106855603278eeeef09ad?s=128&d=identicon&r=PG", "display_name": "user875234", "link": "https://stackoverflow.com/users/3245937/user875234"}, "reply_to_user": {"reputation": 1986, "user_id": 10975585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lTDxr.png?s=128&g=1", "display_name": "prd", "link": "https://stackoverflow.com/users/10975585/prd"}, "edited": false, "score": 0, "creation_date": 1556731714, "post_id": 55939561, "comment_id": 98533409, "body": "My guess is that there must be some reason for <code>ReadAsStringAsync</code> to only be async. The only reason for that which I can imagine is that we haven&#39;t received the entire request yet."}], "owner": {"reputation": 1895, "user_id": 3245937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/55470a42794106855603278eeeef09ad?s=128&d=identicon&r=PG", "display_name": "user875234", "link": "https://stackoverflow.com/users/3245937/user875234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1556728881, "creation_date": 1556728881, "question_id": 55939561, "link": "https://stackoverflow.com/questions/55939561/does-calling-actioncontext-request-content-readasstringasync-result-block-anyt", "title": "Does calling actionContext.Request.Content.ReadAsStringAsync().Result block anything in a custom model binder?", "body": "<p>I'm using WebAPI 2. I have a custom model binder that creates the model from the json in the request's body.</p>\n\n<p>But I can see (or google) no way to access the request body synchronously. So what I've seen people doing is usually something like:</p>\n\n<pre><code>actionContext.Request.Content.ReadAsStringAsync().Result\n</code></pre>\n\n<p>with Result forcing the call to be synchronous from the perspective of the caller. It does look like <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/advanced/custom-model-binding?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">aspnetcore does support async model binding</a> but I'm using regular WebAPI 2 on the .NET Framework and my only option is:</p>\n\n<pre><code>public bool BindModel(HttpActionContext actionContext, ModelBindingContext bindingContext)\n</code></pre>\n\n<p>Why is it async in the first place? I'm no expert on the OSI model but shouldn't I have the entire request by the time it gets to the model binder? </p>\n"}, {"tags": ["c#", "webbrowser-control"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556729561, "post_id": 55939504, "comment_id": 98532522, "body": "See the notes here: <a href=\"https://stackoverflow.com/a/53218064/7444103\">How to get an HtmlElement value inside Frames/IFrames?</a>."}, {"owner": {"reputation": 11, "user_id": 11341320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a49c938d33f11cf269281f9afd401ac?s=128&d=identicon&r=PG&f=1", "display_name": "MGMelli", "link": "https://stackoverflow.com/users/11341320/mgmelli"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556729880, "post_id": 55939504, "comment_id": 98532667, "body": "@Jimi why this should help me?"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556730080, "post_id": 55939504, "comment_id": 98532741, "body": "You didn&#39;t read those notes. Specifically, coupling the <code>DocumentCompleted</code> event and <code>WebBrowser.ReadyState</code>. Anything else related to the internal documents of a HTML page, which can contain more than one Document. For each document in a HTML page, a <code>DocumentCompleted</code> event is raised. The different documents are loaded asynchronously."}, {"owner": {"reputation": 11, "user_id": 11341320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a49c938d33f11cf269281f9afd401ac?s=128&d=identicon&r=PG&f=1", "display_name": "MGMelli", "link": "https://stackoverflow.com/users/11341320/mgmelli"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556730431, "post_id": 55939504, "comment_id": 98532875, "body": "But I only want to achieve that I can wait for example 5 seconds, the page is loading because the controls need the time, and after the 5 seconds I try to click, like while (DateTime.Now &lt; dueTime)                 {                     Application.DoEvents();                 } -&gt; but the webbrowser stop loading"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556730587, "post_id": 55939504, "comment_id": 98532932, "body": "You need to wait until the HtmlElement you&#39;re looking for is loaded and rendered. There&#39;s not specific <i>timeout</i> to wait for. When it&#39;s ready, it&#39;s ready and you&#39;ll get it. Read carefully what I linked and see the related code. Which, btw, is doing exactly what you need to do."}, {"owner": {"reputation": 11, "user_id": 11341320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a49c938d33f11cf269281f9afd401ac?s=128&d=identicon&r=PG&f=1", "display_name": "MGMelli", "link": "https://stackoverflow.com/users/11341320/mgmelli"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556732939, "post_id": 55939504, "comment_id": 98534029, "body": "@Jimi This doesn&#39;t helps me, because I only have 4 Frames and that&#39;s not what I want.."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556739750, "post_id": 55939504, "comment_id": 98536772, "body": "This would help you exactly because you have more that 1 frame (so, more than one document). You didn&#39;t read what&#39;s written in the notes I linked."}, {"owner": {"reputation": 11, "user_id": 11341320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a49c938d33f11cf269281f9afd401ac?s=128&d=identicon&r=PG&f=1", "display_name": "MGMelli", "link": "https://stackoverflow.com/users/11341320/mgmelli"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556814893, "post_id": 55939504, "comment_id": 98565253, "body": "@Jimi No it doesn&#39;t work. All frames that exists only contains the Google Translator toolbar, that means, that I only find options like &quot;Select this language:&quot; and then 300 counts only with different languages. I used: var test = Frame.Document.All;"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11341320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a49c938d33f11cf269281f9afd401ac?s=128&d=identicon&r=PG&f=1", "display_name": "MGMelli", "link": "https://stackoverflow.com/users/11341320/mgmelli"}, "edited": false, "score": 0, "creation_date": 1556813935, "post_id": 55946451, "comment_id": 98564808, "body": "There is a little problem. The website isn&#39;t loading during this action. It is freezed, and that&#39;s the reason why I can&#39;t find this element."}, {"owner": {"reputation": 3429, "user_id": 2501044, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/P0t4P.png?s=128&g=1", "display_name": "Golda", "link": "https://stackoverflow.com/users/2501044/golda"}, "reply_to_user": {"reputation": 11, "user_id": 11341320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a49c938d33f11cf269281f9afd401ac?s=128&d=identicon&r=PG&f=1", "display_name": "MGMelli", "link": "https://stackoverflow.com/users/11341320/mgmelli"}, "edited": false, "score": 0, "creation_date": 1556862985, "post_id": 55946451, "comment_id": 98578838, "body": "Then you can increase the waiting time using WaitForSecond function. So that it will wait till your website page load. Is it possible to give the web page link?"}, {"owner": {"reputation": 11, "user_id": 11341320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a49c938d33f11cf269281f9afd401ac?s=128&d=identicon&r=PG&f=1", "display_name": "MGMelli", "link": "https://stackoverflow.com/users/11341320/mgmelli"}, "edited": false, "score": 0, "creation_date": 1556866351, "post_id": 55946451, "comment_id": 98580084, "body": "yes it is possible, and I found a solution (see my answer below)"}], "tags": [], "owner": {"reputation": 3429, "user_id": 2501044, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/P0t4P.png?s=128&g=1", "display_name": "Golda", "link": "https://stackoverflow.com/users/2501044/golda"}, "is_accepted": false, "score": 0, "last_activity_date": 1556776937, "creation_date": 1556776937, "answer_id": 55946451, "question_id": 55939504, "link": "https://stackoverflow.com/questions/55939504/webbrowser-completed-doesnt-show-all-elements/55946451#55946451", "title": "Webbrowser completed doesn&#39;t show all elements", "body": "<p>You can handle this by using a Timer. The following function is done to wait for some seconds.</p>\n\n<pre><code>    public void WaitForSecond(int min)\n    {\n        System.Windows.Forms.Timer timer1 = new System.Windows.Forms.Timer();\n        if (min == 0 || min &lt; 0) return;\n        timer1.Interval = min * 1000;\n        timer1.Enabled = true;\n        timer1.Start();\n        timer1.Tick += (s, e) =&gt;\n        {\n            timer1.Enabled = false;\n            timer1.Stop();\n\n        };\n        while (timer1.Enabled)\n        {\n            Application.DoEvents();\n        }\n    }\n</code></pre>\n\n<p>Also, you can reduce your code by LINQ</p>\n\n<pre><code>HtmlElement e2= (from HtmlElement element in \n                  webBrowser1.Document.GetElementsByTagName(\"div\") \n                  select element)\n                  .Where(x =&gt; x.GetAttribute(\"classname\") != null \n                           &amp;&amp; x.GetAttribute(\"classname\") ==\"btn3\"\n                           &amp;&amp; x.InnerText != null \n                           &amp;&amp; x.InnerText == \"follow\").FirstOrDefault();\n</code></pre>\n\n<p>First, check your HTML element is loaded or not otherwise wait. If the HTML element is loaded then process the further steps</p>\n\n<pre><code>HtmlElement e2= null;\nint cnt = 0;\n            do\n            {\n                WaitForSecond(1);\n                cnt++;\n\n                if (cnt &gt; 60)\n                {\n                   MessageBox.Show(\"Web page not loaded\");\n                    break;\n                }\n                e2= (from HtmlElement element in webBrowser1.Document.GetElementsByTagName(\"div\") select element)\n                .Where(x =&gt; x.GetAttribute(\"classname\") != null \n                       &amp;&amp; x.GetAttribute(\"classname\") ==\"btn3\"\n                       &amp;&amp; x.InnerText != null \n                       &amp;&amp; x.InnerText == \"follow\").FirstOrDefault();    \n            } while e2 == null);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11341320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a49c938d33f11cf269281f9afd401ac?s=128&d=identicon&r=PG&f=1", "display_name": "MGMelli", "link": "https://stackoverflow.com/users/11341320/mgmelli"}, "is_accepted": true, "score": 0, "last_activity_date": 1556817266, "creation_date": 1556817266, "answer_id": 55957292, "question_id": 55939504, "link": "https://stackoverflow.com/questions/55939504/webbrowser-completed-doesnt-show-all-elements/55957292#55957292", "title": "Webbrowser completed doesn&#39;t show all elements", "body": "<p>Thank you to all of you, but I google'd again and found a very good (for me working) workaround.\nFor all: I want that after navigating to a page, a timer (or something else) wait for x-seconds and during the timer is waiting, the page is loading, and after that, I want to click on the button.</p>\n\n<p>First of all: the code isn't done by me. It's from <a href=\"https://dotnet-snippets.de/snippet/webbrowser-navigate-and-wait-seconds/15171\" rel=\"nofollow noreferrer\">https://dotnet-snippets.de/snippet/webbrowser-navigate-and-wait-seconds/15171</a></p>\n\n<p>First declare this at the beginning:</p>\n\n<pre><code>  public delegate void NavigateDoneEvent();\n        public static event NavigateDoneEvent Done;\n\n        private static System.Windows.Forms.Timer wait;\n</code></pre>\n\n<p>You don't need to use this as static.</p>\n\n<p>After that you need to create this function</p>\n\n<pre><code> public static void Wait(WebBrowser Browser, string Url, double Seconds)\n        {\n            Browser.Navigate(Url);\n\n            wait = new System.Windows.Forms.Timer();\n            wait.Interval = Convert.ToInt32(Seconds * 1000);\n\n            wait.Tick += (s, args) =&gt;\n            {\n                if (Done != null) Done();\n                wait.Enabled = false;\n            };\n\n            wait.Enabled = true;\n        }\n</code></pre>\n\n<p>And you can call this function like:</p>\n\n<pre><code>Wait(webBrowser1, \"somesite.com\", 20);\n            Done += afterWaitDoSomething;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11341320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a49c938d33f11cf269281f9afd401ac?s=128&d=identicon&r=PG&f=1", "display_name": "MGMelli", "link": "https://stackoverflow.com/users/11341320/mgmelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 55957292, "answer_count": 2, "score": 1, "last_activity_date": 1556817266, "creation_date": 1556728621, "question_id": 55939504, "link": "https://stackoverflow.com/questions/55939504/webbrowser-completed-doesnt-show-all-elements", "title": "Webbrowser completed doesn&#39;t show all elements", "body": "<p>I have a webbrowser which is loading a website. If the website firing the \"completed\" event, my HTMLElementCollection shows me a count of \"179\". If I click on the button and call the same method to get all HTMLElements, it tells me a count of \"194\". The problem is: if the \"completed\"-Event is firing, some HTMLElements are not loaded, and needs a longer time, and my HTMLElement which I need to click on it, is missing too.</p>\n\n<p>To explain with code:</p>\n\n<pre><code>private void Webbrowser_DocumentComplete(object pDisp, ref object URL)\n        {\n                if (URL.ToString() == \"testsite\")\n                {\n                    HtmlElementCollection c1 = webBrowser1.Document.GetElementsByTagName(\"div\");\n                    foreach (HtmlElement e2 in c1)\n                    {\n                        if (e2.GetAttribute(\"classname\") == \"btn3\")\n                        {\n                            if (e2.InnerText == \"follow\")\n                            {\n                                e2.InvokeMember(\"click\");\n                            }\n                        }\n                    }\n                }\n        }\n</code></pre>\n\n<p>The count of \"c1\" is 179.</p>\n\n<p>If I wait 1-2 seconds and click then on a button with the same code like:</p>\n\n<pre><code>private void Button1_Click(object sender, EventArgs e)\n        {\nHtmlElementCollection c1 = webBrowser1.Document.GetElementsByTagName(\"div\");\n                    foreach (HtmlElement e2 in c1)\n                    {\n                        if (e2.GetAttribute(\"classname\") == \"btn3\")\n                        {\n                            if (e2.InnerText == \"follow\")\n                            {\n                                e2.InvokeMember(\"click\");\n                            }\n                        }\n                    }\n        }\n</code></pre>\n\n<p>The count of \"c1\" is 194.</p>\n\n<p>The question is: how can I wait some seconds if the page is build completed?\nI need the count of 194 because there is ONE HTMLElement which I want to click on it!</p>\n"}, {"tags": ["c#", ".net", "asynchronous", "async-await"], "comments": [{"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 1, "creation_date": 1556739850, "post_id": 55939503, "comment_id": 98536812, "body": "Any reason why you can&#39;t use the first method for both, just omit the variable?"}, {"owner": {"reputation": 3262, "user_id": 584714, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4ab2509d2e3e3d0c9eed5dc4f57d8b30?s=128&d=identicon&r=PG", "display_name": "DrGriff", "link": "https://stackoverflow.com/users/584714/drgriff"}, "reply_to_user": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1556742882, "post_id": 55939503, "comment_id": 98537958, "body": "@Lasse V&#229;gs&#230;ther Karlsen well, exactly.  Why would Microsoft provide multiple ways to do the same thing - it just adds to confusion.  Unless of course, there are subtle differences."}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 1, "creation_date": 1556759153, "post_id": 55939503, "comment_id": 98541789, "body": "There are big differences. Don&#39;t use the <code>Task</code> constructor; that approach was never good. There&#39;s a variety of options <a href=\"https://msdn.microsoft.com/en-us/magazine/mt238404.aspx\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 3262, "user_id": 584714, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4ab2509d2e3e3d0c9eed5dc4f57d8b30?s=128&d=identicon&r=PG", "display_name": "DrGriff", "link": "https://stackoverflow.com/users/584714/drgriff"}, "edited": false, "score": 0, "creation_date": 1556785780, "post_id": 55939503, "comment_id": 98549507, "body": "I wish Microsoft would deprecate their poor implementations and only leave the &quot;really good ones&quot;."}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1556786641, "post_id": 55939503, "comment_id": 98549962, "body": "There are an infinite number of ways you can combine the various building blocks and accomplish the same thing, the problem is that they are building blocks intended for different things. Deprecating/removing them to keep &quot;the one true way&quot; disregards all these different things and you would have a much worse situation."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1556806704, "post_id": 55939503, "comment_id": 98560793, "body": "Best practices, don&#39;t do it, have a sync method"}], "owner": {"reputation": 3262, "user_id": 584714, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/4ab2509d2e3e3d0c9eed5dc4f57d8b30?s=128&d=identicon&r=PG", "display_name": "DrGriff", "link": "https://stackoverflow.com/users/584714/drgriff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "closed_date": 1556740112, "answer_count": 0, "score": 0, "last_activity_date": 1556739709, "creation_date": 1556728608, "last_edit_date": 1556739709, "question_id": 55939503, "link": "https://stackoverflow.com/questions/55939503/how-to-run-async-tasks-synchronously-best-practices", "closed_reason": "Duplicate", "title": "How to run async tasks synchronously (best practices)?", "body": "<p>I've read so many posts on this, some of which are conflicting (possibly due to the age of the posts), so I just want to confirm  my understanding of \"best practices\" as of .NET 4.8.</p>\n\n<p>For an async method that returns <strong>Task&lt;ResponseObject&gt;</strong> then we should use:</p>\n\n<pre><code>ResponseObject response = myAsyncTask.GetAwaiter().GetResult();\n</code></pre>\n\n<p>And for an async method that returns <strong>Task</strong>, then we should use:</p>\n\n<pre><code>var t = new Task(async () =&gt; await myAsyncTask().ConfigureAwait(false));\nt.RunSynchronously();\n</code></pre>\n"}, {"tags": ["c#", "soap", "tibco"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1556730442, "post_id": 55939390, "comment_id": 98532881, "body": "Hi, welcome to stack overflow. You need to provide all the details and  mention the issue clearly what exactly you want. Please refer the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> link for more detail and update your question accordingly."}], "answers": [{"tags": [], "owner": {"reputation": 793, "user_id": 1172301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u2eUU.jpg?s=128&g=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/1172301/thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1556899828, "creation_date": 1556899828, "answer_id": 55973597, "question_id": 55939390, "link": "https://stackoverflow.com/questions/55939390/connecting-to-tibco-using-generated-soap-wsdl/55973597#55973597", "title": "Connecting to Tibco using Generated Soap WSDL", "body": "<p>what is the error you're getting ?</p>\n\n<p>Your code seems to manipulate pure HTTP API, while you should use a library that invoke SOAP over HTTP.</p>\n\n<p>I'm no C# programmer, but I googled the subject and found this example (see step 7) : \n<a href=\"https://www.c-sharpcorner.com/UploadFile/88b6e5/how-to-call-web-service-in-android-using-soap/\" rel=\"nofollow noreferrer\">https://www.c-sharpcorner.com/UploadFile/88b6e5/how-to-call-web-service-in-android-using-soap/</a></p>\n\n<p>SOAP can be fairly complex (and especially if you use TIBCO Business Works to produce it with an entreprise project behind), calling it with HTTP API will be complicated.</p>\n"}], "owner": {"reputation": 1, "user_id": 5795831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77e7bbec306deb5262591464f57db67f?s=128&d=identicon&r=PG&f=1", "display_name": "Mahmoud Abbas", "link": "https://stackoverflow.com/users/5795831/mahmoud-abbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556899828, "creation_date": 1556728022, "last_edit_date": 1556786045, "question_id": 55939390, "link": "https://stackoverflow.com/questions/55939390/connecting-to-tibco-using-generated-soap-wsdl", "title": "Connecting to Tibco using Generated Soap WSDL", "body": "<p>I have a WSDL generated from Tibco, the WSDL can be imported and run under SoapUI and I can connect without any issue with HTTPS even without Certificate however tried connecting to the same Endpoint using c# I can not connect with the following Code:</p>\n\n<pre><code>ServicePointManager.Expect100Continue = true;\nServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;\n\nHttpWebRequest req = (HttpWebRequest)WebRequest.Create(url);\nreq.KeepAlive = true;\nreq.Accept = \"gzip,deflate\";\nreq.Headers.Add(\"SOAPAction\", soapActionHeader);\nreq.ContentType = \"text/xml;charset=UTF-8\";\nreq.Method = \"POST\";\nreq.Timeout = requestTimeOut;\n#endregion\n\n#region Adding XML body to request\nStream strm = null;\nusing (var streamWriter = new StreamWriter(req.GetRequestStream()))\n{\n    streamWriter.Write(xmlSOAPTemplate);\n    streamWriter.Flush();\n    streamWriter.Close();\n}\n#endregion\n\n#region HTTP RESPONSE\nstring resultValue = string.Empty;\nWebResponse resp = req.GetResponse();\nstrm = resp.GetResponseStream();\nStreamReader streamReader = new StreamReader(strm);\nstring res = streamReader.ReadToEnd();\nExceptionHandler.WriteLog($\"{url}:Response:{res}\", MethodBase.GetCurrentMethod().Name);\nXmlSerializer serializer = new XmlSerializer(typeof(T));\nresult = (T)serializer.Deserialize(strm);\n</code></pre>\n\n<p>So, How can we solve this issue?</p>\n"}, {"tags": ["c#", "session", "asp.net-core-2.0", "session-cookies"], "comments": [{"owner": {"reputation": 8507, "user_id": 303298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ss7YE.jpg?s=128&g=1", "display_name": "vladimir", "link": "https://stackoverflow.com/users/303298/vladimir"}, "edited": false, "score": 0, "creation_date": 1556847684, "post_id": 55939326, "comment_id": 98575793, "body": "As I understood just client-request shifts the live time of the session, server-side access to Session shouldn&#39;t impact it (you can check it)."}, {"owner": {"reputation": 8507, "user_id": 303298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ss7YE.jpg?s=128&g=1", "display_name": "vladimir", "link": "https://stackoverflow.com/users/303298/vladimir"}, "edited": false, "score": 0, "creation_date": 1556848815, "post_id": 55939326, "comment_id": 98576010, "body": "I don&#39;t catch how changing some permissions or roles related to the session? Are you storing role/permission info in session? If yes it looks suspicious because an anonymous user has immutable/fixed permissions,  when for a registered user they should be stored in persistent storage and be updated there."}, {"owner": {"reputation": 8507, "user_id": 303298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ss7YE.jpg?s=128&g=1", "display_name": "vladimir", "link": "https://stackoverflow.com/users/303298/vladimir"}, "edited": false, "score": 0, "creation_date": 1556848819, "post_id": 55939326, "comment_id": 98576011, "body": "Each request from any user should be passed through <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/authentication/identity?view=aspnetcore-2.2&amp;tabs=visual-studio\" rel=\"nofollow noreferrer\">authentication</a> and <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/authorization/roles?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">authorization</a> checks that not related to the session."}, {"owner": {"reputation": 390, "user_id": 7096114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dee6568b2369a4ef4b3da2559409497e?s=128&d=identicon&r=PG&f=1", "display_name": "Dinerdo", "link": "https://stackoverflow.com/users/7096114/dinerdo"}, "reply_to_user": {"reputation": 8507, "user_id": 303298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ss7YE.jpg?s=128&g=1", "display_name": "vladimir", "link": "https://stackoverflow.com/users/303298/vladimir"}, "edited": false, "score": 0, "creation_date": 1556850899, "post_id": 55939326, "comment_id": 98576360, "body": "The user role information is stored in a database. This information rarely ever changes, and I was trying to avoid going to the database for each and every call. All that&#39;s stored in the user session is his/her role information. Before any updates or secret information would be displayed to the user, actual tests are performed to verify the user&#39;s real role. The cached user settings I&#39;m trying to store are more for visibility options on the home page."}, {"owner": {"reputation": 8507, "user_id": 303298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ss7YE.jpg?s=128&g=1", "display_name": "vladimir", "link": "https://stackoverflow.com/users/303298/vladimir"}, "edited": false, "score": 0, "creation_date": 1556858002, "post_id": 55939326, "comment_id": 98577618, "body": "I think you don&#39;t need to worry about load data from db (it should be cached I hope), and moreover, authorization metadata is loaded automatically - look at <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.security.claims.claimsprincipal?view=netcore-2.2\" rel=\"nofollow noreferrer\">HttpContext.Current.User</a>. Probably you overoptimized your code."}, {"owner": {"reputation": 390, "user_id": 7096114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dee6568b2369a4ef4b3da2559409497e?s=128&d=identicon&r=PG&f=1", "display_name": "Dinerdo", "link": "https://stackoverflow.com/users/7096114/dinerdo"}, "reply_to_user": {"reputation": 8507, "user_id": 303298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ss7YE.jpg?s=128&g=1", "display_name": "vladimir", "link": "https://stackoverflow.com/users/303298/vladimir"}, "edited": false, "score": 0, "creation_date": 1556923843, "post_id": 55939326, "comment_id": 98606281, "body": "Yes, it&#39;s cached but certain data shouldn&#39;t be cached for a very long period of time at least within the context of this application."}, {"owner": {"reputation": 8507, "user_id": 303298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ss7YE.jpg?s=128&g=1", "display_name": "vladimir", "link": "https://stackoverflow.com/users/303298/vladimir"}, "edited": false, "score": 0, "creation_date": 1556924540, "post_id": 55939326, "comment_id": 98606425, "body": "HttpContext is the context of HTTP request, not the application. It is created for each <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.http.httpcontext?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">request individually</a>. Its lifetime is very short."}, {"owner": {"reputation": 390, "user_id": 7096114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dee6568b2369a4ef4b3da2559409497e?s=128&d=identicon&r=PG&f=1", "display_name": "Dinerdo", "link": "https://stackoverflow.com/users/7096114/dinerdo"}, "reply_to_user": {"reputation": 8507, "user_id": 303298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ss7YE.jpg?s=128&g=1", "display_name": "vladimir", "link": "https://stackoverflow.com/users/303298/vladimir"}, "edited": false, "score": 0, "creation_date": 1556925334, "post_id": 55939326, "comment_id": 98606558, "body": "Yes, but my question is specifically about user data stored in the session which I am seeing last for many requests, as it should. I simply want to know how I can force the session data to end after a certain time. The workaround I&#39;m currently using is to store the cached date in the session store and use that date to see if a some amount of time has passed before I manually call session.Clear()"}, {"owner": {"reputation": 8507, "user_id": 303298, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ss7YE.jpg?s=128&g=1", "display_name": "vladimir", "link": "https://stackoverflow.com/users/303298/vladimir"}, "edited": false, "score": 0, "creation_date": 1556927388, "post_id": 55939326, "comment_id": 98606864, "body": "Yes, I understood your question. I seemed that you try to store in session a data, which accessible in HttpContext and it was confused me. The session doesn&#39;t have an absolute expiration time but just sliding expiration policy that as you has mentioned defined in <i>IdleTimeout</i>-property. Why not just define    <i>options.IdleTimeout = TimeSpan.FromMinutes(1)</i>?"}, {"owner": {"reputation": 10503, "user_id": 9200675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PxESv.jpg?s=128&g=1", "display_name": "pfx", "link": "https://stackoverflow.com/users/9200675/pfx"}, "edited": false, "score": 2, "creation_date": 1557002846, "post_id": 55939326, "comment_id": 98622293, "body": "@Dinerdo For explicit control of any cached data expiration, use the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/performance/caching/memory?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">caching API</a> directly instead of relying on <code>Session</code> expiration (as <code>IdleTimeout</code> is independant of cookie expiration (<a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/app-state?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">more info</a>). You can eg. <code>Set</code> a value with a <code>TimeSpan</code> expiration, being absolute or sliding."}, {"owner": {"reputation": 390, "user_id": 7096114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dee6568b2369a4ef4b3da2559409497e?s=128&d=identicon&r=PG&f=1", "display_name": "Dinerdo", "link": "https://stackoverflow.com/users/7096114/dinerdo"}, "reply_to_user": {"reputation": 10503, "user_id": 9200675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PxESv.jpg?s=128&g=1", "display_name": "pfx", "link": "https://stackoverflow.com/users/9200675/pfx"}, "edited": false, "score": 0, "creation_date": 1557052317, "post_id": 55939326, "comment_id": 98629942, "body": "@pfx That makes sense. My issue was that I&#39;m migrating and adding features to an older app someone else originally created, and the original app used session storage all over the place so I kept trying to use it as well. I&#39;ve used the caching API before, but it didn&#39;t come to mind for this situation for some reason.. Thank you for the simple suggestion."}, {"owner": {"reputation": 473, "user_id": 7346275, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/09870adc4901d6adc35bdd796e184b6e?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyBaran", "link": "https://stackoverflow.com/users/7346275/crazybaran"}, "edited": false, "score": 0, "creation_date": 1557233299, "post_id": 55939326, "comment_id": 98689657, "body": "@Dinerdo If you change data from app you should trigger your cache to get new data. I assumed that you change data directly from db, so if it is possible why you try cache it? It is architecture problem. Data should be updated by logic which can trigger cache. maybe look how they do this in asp boilerplate."}, {"owner": {"reputation": 390, "user_id": 7096114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dee6568b2369a4ef4b3da2559409497e?s=128&d=identicon&r=PG&f=1", "display_name": "Dinerdo", "link": "https://stackoverflow.com/users/7096114/dinerdo"}, "reply_to_user": {"reputation": 473, "user_id": 7346275, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/09870adc4901d6adc35bdd796e184b6e?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyBaran", "link": "https://stackoverflow.com/users/7346275/crazybaran"}, "edited": false, "score": 0, "creation_date": 1557245148, "post_id": 55939326, "comment_id": 98696825, "body": "@CrazyBaran Yes I can do that with a shared cache as pfx mentioned. I couldn&#39;t figure out how to do that using the session cache though but I don&#39;t think I&#39;ll use that after this conversation."}], "answers": [{"tags": [], "owner": {"reputation": 4204, "user_id": 392957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6282692873bfc333c11978e79cef723a?s=128&d=identicon&r=PG", "display_name": "Tony Abrams", "link": "https://stackoverflow.com/users/392957/tony-abrams"}, "is_accepted": false, "score": 2, "last_activity_date": 1557315106, "creation_date": 1557315106, "answer_id": 56039809, "question_id": 55939326, "link": "https://stackoverflow.com/questions/55939326/what-is-the-default-session-expiry-in-net-core-2-x/56039809#56039809", "title": "What is the default session expiry in .NET Core 2.x?", "body": "<p>Session does not have an 'expiration' like cookies do, but the default <strong>Idle Timeout</strong> is 20 minutes, and can be adjusted using the IdleTimeout option.</p>\n\n<p>Session only expires after the idle timeout period has elapsed.  Additionally, the idle timeout starts after the last request is received.</p>\n\n<p>For your case, the session will <strong>not</strong> expire because you poll every 5 - 10 seconds (checking the session data).  This polling is seen as a 'request' to the .net core, and resets the timeout.</p>\n\n<p>You can verify this by disabling the polling, and creating a page with a button that checks the session data.  Wait for a period of time (ex: 20 seconds), and click the button.</p>\n\n<p>Make sure that you set the Idle Timeout to a low value:</p>\n\n<pre><code>options.IdleTimeout = TimeSpan.FromSeconds(10);\n</code></pre>\n\n<p>Here is a link to the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/app-state?view=aspnetcore-2.2#session-state\" rel=\"nofollow noreferrer\">Documentation on Session</a>.</p>\n"}], "owner": {"reputation": 390, "user_id": 7096114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dee6568b2369a4ef4b3da2559409497e?s=128&d=identicon&r=PG&f=1", "display_name": "Dinerdo", "link": "https://stackoverflow.com/users/7096114/dinerdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2264, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1557315106, "creation_date": 1556727690, "last_edit_date": 1556846193, "question_id": 55939326, "link": "https://stackoverflow.com/questions/55939326/what-is-the-default-session-expiry-in-net-core-2-x", "title": "What is the default session expiry in .NET Core 2.x?", "body": "<p>In my startup class, I am enabling session storage with this line:</p>\n\n<pre><code>        services.AddDistributedMemoryCache()\n        .AddSession(options =&gt;\n            {\n                options.IdleTimeout = TimeSpan.FromMinutes(20);\n                options.Cookie.HttpOnly = true;\n            })\n</code></pre>\n\n<p>However, if I understand this correctly, setting the <code>IdleTimeout</code> property simply states that the session will begin anew if the user does not complete any actions for > 20 minutes. My app has polling which uses user information in the session storage every 5-10 seconds, so I don't think this would ever be of use here. User permissions and roles can change from actions made outside of the current user's browser, so I would like to limit the session storage to 1 minute. I can't seem to find any exact verbiage on what the default expiration is or how to properly set that. </p>\n\n<p>The CookieBuilder class has Expiration and MaxAge options, but I don't know which one is necessary. I've also read that <a href=\"https://github.com/aspnet/AspNetCore/issues/4671\" rel=\"noreferrer\">Expiration is ignored</a>, so that adds even more to my confusion in this subject.</p>\n\n<p>Update: I receive this message when I try to set the expiration: \"Expiration cannot be set for the cookie defined by SessionOption\", so I've set MaxAge to 1 minute, yet I can see that the session still has old user data in it after more than 1 minute has passed.</p>\n"}, {"tags": ["c#", "websocket", "tcpclient"], "comments": [{"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1556727061, "post_id": 55939159, "comment_id": 98531472, "body": "&quot;However, it is impossible to perform a write operation while there is a read operation active&quot; - says who? that&#39;s pretty normal - you can&#39;t perform <i>multiple</i> reads or <i>multiple</i> writes, but: network-socket, network-stream, tcp-client etc: all support independent read/write. Are you seeing an exception when trying? or...?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1556727250, "post_id": 55939159, "comment_id": 98531553, "body": "Put a lock in the code so only one client can talk to proxy server.  Other client will wait until first client is done with proxy server.  You have a three port application and it not the job of your code to manage the communication between clients.  You only have to make sure there isn&#39;t a conflict in your code where both clients are trying to access the same resource."}, {"owner": {"reputation": 2855, "user_id": 828023, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/453384ca5281c4ab9cc62b88489cd8ba?s=128&d=identicon&r=PG", "display_name": "Dejan Janju\u0161evi\u0107", "link": "https://stackoverflow.com/users/828023/dejan-janju%c5%a1evi%c4%87"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1556728223, "post_id": 55939159, "comment_id": 98531958, "body": "@MarcGravell I haven&#39;t actually tried yet. So if I can write to the stream while the read operation is active, then there are no problems whatsoever. Huh, you learn something new every day. Thanks. I will try and post the solution back either way."}, {"owner": {"reputation": 2855, "user_id": 828023, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/453384ca5281c4ab9cc62b88489cd8ba?s=128&d=identicon&r=PG", "display_name": "Dejan Janju\u0161evi\u0107", "link": "https://stackoverflow.com/users/828023/dejan-janju%c5%a1evi%c4%87"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1556728739, "post_id": 55939159, "comment_id": 98532171, "body": "@jdweng I will probably use queues of messages to be sent, the only dilemma was whether or not it&#39;s possible to read and write to the same network stream at the same time."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 1, "creation_date": 1556731385, "post_id": 55939159, "comment_id": 98533265, "body": "@DejanJanju\u0161evi\u0107 your confusion is valid - it wouldn&#39;t be possible with FileStream, for example. However, NetworkStream acts as two <i>independent</i> pipes - one read, one write - it is fully duplex. I blame the ambiguous Stream API for this confusion."}], "answers": [{"tags": [], "owner": {"reputation": 2855, "user_id": 828023, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/453384ca5281c4ab9cc62b88489cd8ba?s=128&d=identicon&r=PG", "display_name": "Dejan Janju\u0161evi\u0107", "link": "https://stackoverflow.com/users/828023/dejan-janju%c5%a1evi%c4%87"}, "is_accepted": true, "score": 0, "last_activity_date": 1556873102, "creation_date": 1556873102, "answer_id": 55966243, "question_id": 55939159, "link": "https://stackoverflow.com/questions/55939159/proxying-websocket-messages-between-two-streams/55966243#55966243", "title": "Proxying WebSocket messages between two streams", "body": "<p>Thanks to comments from @MarcGravell we've learned that independent read/write operations are supported with network streams, i.e. <code>NetworkStream</code> acts as two <em>independent</em> pipes - one read, one write - it is fully duplex.</p>\n\n<p>Therefore, proxying WebSocket messages can be as easy as just starting two independent tasks, one to read from client stream and write to server stream, and another to read from server stream and write to client stream.</p>\n\n<p>If it can be of any help to anyone searching for it, here is how I implemented that:</p>\n\n<pre><code>public class WebSocketRequestHandler\n{\n    private const int MaxMessageLength = 0x7FFFFFFF;\n\n    private const byte LengthBitMask = 0x7F;\n\n    private const byte MaskBitMask = 0x80;\n\n    private delegate Task WriteStreamAsyncDelegate(byte[] buffer, int offset, int count, CancellationToken cancellationToken);\n\n    private delegate Task&lt;byte[]&gt; BufferStreamAsyncDelegate(int count, CancellationToken cancellationToken);\n\n    public async Task HandleWebSocketMessagesAsync(CancellationToken cancellationToken = default(CancellationToken))\n    {\n        var clientListener = ListenForClientMessages(cancellationToken);\n        var serverListener = ListenForServerMessages(cancellationToken);\n        await Task.WhenAll(clientListener, serverListener);\n    }\n\n    private async Task ListenForClientMessages(CancellationToken cancellationToken)\n    {\n        while (!cancellationToken.IsCancellationRequested)\n        {\n            cancellationToken.ThrowIfCancellationRequested();\n            await ListenForMessages(YOUR_CLIENT_STREAM_BUFFER_METHOD_DELEGATE, YOUR_SERVER_STREAM_WRITE_METHOD_DELEGATE, cancellationToken);\n        }\n    }\n\n    private async Task ListenForServerMessages(CancellationToken cancellationToken)\n    {\n        while (!cancellationToken.IsCancellationRequested)\n        {\n            cancellationToken.ThrowIfCancellationRequested();\n            await ListenForMessages(YOUR_SERVER_STREAM_BUFFER_METHOD_DELEGATE, YOUR_CLIENT_STREAM_WRITE_METHOD_DELEGATE, cancellationToken);\n        }\n    }\n\n    private static async Task ListenForMessages(BufferStreamAsyncDelegate sourceStreamReader,\n        WriteStreamAsyncDelegate destinationStreamWriter,\n        CancellationToken cancellationToken)\n    {\n        var messageBuilder = new List&lt;byte&gt;();\n        var firstByte = await sourceStreamReader(1, cancellationToken);\n        messageBuilder.AddRange(firstByte);\n        var lengthBytes = await GetLengthBytes(sourceStreamReader, cancellationToken);\n        messageBuilder.AddRange(lengthBytes);\n        var isMaskBitSet = (lengthBytes[0] &amp; MaskBitMask) != 0;\n        var length = GetMessageLength(lengthBytes);\n        if (isMaskBitSet)\n        {\n            var maskBytes = await sourceStreamReader(4, cancellationToken);\n            messageBuilder.AddRange(maskBytes);\n        }\n\n        var messagePayloadBytes = await sourceStreamReader(length, cancellationToken);\n        messageBuilder.AddRange(messagePayloadBytes);\n        await destinationStreamWriter(messageBuilder.ToArray(), 0, messageBuilder.Count, cancellationToken);\n    }\n\n    private static async Task&lt;byte[]&gt; GetLengthBytes(BufferStreamAsyncDelegate sourceStreamReader, CancellationToken cancellationToken)\n    {\n        var lengthBytes = new List&lt;byte&gt;();\n        var firstLengthByte = await sourceStreamReader(1, cancellationToken);\n        lengthBytes.AddRange(firstLengthByte);\n        var lengthByteValue = firstLengthByte[0] &amp; LengthBitMask;\n        if (lengthByteValue &lt;= 125)\n        {\n            return lengthBytes.ToArray();\n        }\n\n        switch (lengthByteValue)\n        {\n            case 126:\n            {\n                var secondLengthBytes = await sourceStreamReader(2, cancellationToken);\n                lengthBytes.AddRange(secondLengthBytes);\n                return lengthBytes.ToArray();\n            }\n            case 127:\n            {\n                var secondLengthBytes = await sourceStreamReader(8, cancellationToken);\n                lengthBytes.AddRange(secondLengthBytes);\n                return lengthBytes.ToArray();\n            }\n            default:\n                throw new Exception($\"Unexpected first length byte value: {lengthByteValue}\");\n        }\n    }\n\n    private static int GetMessageLength(byte[] lengthBytes)\n    {\n        byte[] subArray;\n        switch (lengthBytes.Length)\n        {\n            case 1:\n                return lengthBytes[0] &amp; LengthBitMask;\n\n            case 3:\n                if (!BitConverter.IsLittleEndian)\n                {\n                    return BitConverter.ToUInt16(lengthBytes, 1);\n                }\n\n                subArray = lengthBytes.SubArray(1, 2);\n                Array.Reverse(subArray);\n                return BitConverter.ToUInt16(subArray, 0);\n\n            case 9:\n                subArray = lengthBytes.SubArray(1, 8);\n                Array.Reverse(subArray);\n                var retVal = BitConverter.ToUInt64(subArray, 0);\n                if (retVal &gt; MaxMessageLength)\n                {\n                    throw new Exception($\"Unexpected payload length: {retVal}\");\n                }\n\n                return (int) retVal;\n\n            default:\n                throw new Exception($\"Impossibru!!1 The length of lengthBytes array was: '{lengthBytes.Length}'\");\n        }\n    }\n}\n</code></pre>\n\n<p>It can be used by just calling <code>await handler.HandleWebSocketMessagesAsync(cancellationToken)</code> after the initial handshake has been performed.</p>\n\n<p>The <code>SubArray</code> method is taken from here: <a href=\"https://stackoverflow.com/a/943650/828023\">https://stackoverflow.com/a/943650/828023</a> (also from @Marc haha)</p>\n"}], "owner": {"reputation": 2855, "user_id": 828023, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/453384ca5281c4ab9cc62b88489cd8ba?s=128&d=identicon&r=PG", "display_name": "Dejan Janju\u0161evi\u0107", "link": "https://stackoverflow.com/users/828023/dejan-janju%c5%a1evi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 55966243, "answer_count": 1, "score": 1, "last_activity_date": 1556873102, "creation_date": 1556726730, "question_id": 55939159, "link": "https://stackoverflow.com/questions/55939159/proxying-websocket-messages-between-two-streams", "title": "Proxying WebSocket messages between two streams", "body": "<p>I have a HTTP proxy server which acts as a middle-man. It basically does the following:</p>\n\n<ul>\n<li>Listen for client-browser request  </li>\n<li>Forward the request to the server</li>\n<li>Parse the server response</li>\n<li>Forward the response back to client-browser</li>\n</ul>\n\n<p>So basically there is one <code>NetworkStream</code>, or even more often a <code>SslStream</code> between a client-browser and the proxy, and another one between the proxy and a server.</p>\n\n<p>A requirement has arisen to also forward WebSocket traffic between a client and a server.</p>\n\n<p>So now when a client-browser requests a connection upgrade to websocket, and the remote server responds with HTTP code 101, the proxy server maintains these connections in order to forward further messages from client to server and vice versa.</p>\n\n<p>So after the proxy has received a message from the remote server saying it's ready to switch protocols, it needs to enter a loop where both client and server streams are polled for data, and where any received data is forwarded to the other party.</p>\n\n<p><strong>The problem</strong></p>\n\n<p>WebSocket allows both sides to send messages at any time. This is especially a problem with control messages such as ping/pong, where any side could send a <em>ping</em> at any time and the other side is expected to reply with a <em>pong</em> in a timely manner. Now consider having two instances of <code>SslStream</code> which don't have <code>DataAvailable</code> property, where the only way to read data is to call <code>Read</code>/<code>ReadAsync</code> which might not return until some data is available. Consider the following pseudo-code:</p>\n\n<pre><code>public async Task GetMessage()\n{\n    // All these methods that we await read from the source stream\n    byte[] firstByte = await GetFirstByte(); // 1-byte buffer\n    byte[] messageLengthBytes = await GetMessageLengthBytes();\n    uint messageLength = GetMessageLength(messageLengthBytes);\n    bool isMessageMasked = DetermineIfMessageMasked(messageLengthBytes);\n    byte[] maskBytes;\n    if (isMessageMasked)\n    {\n        maskBytes = await GetMaskBytes();\n    }\n\n    byte[] messagePayload = await GetMessagePayload(messageLength);\n\n    // This method writes to the destination stream\n    await ComposeAndForwardMessageToOtherParty(firstByte, messageLengthBytes, maskBytes, messagePayload);\n}\n</code></pre>\n\n<p>The above pseudo code reads from one stream and writes to the other. The problem is that the above procedure needs to be run for both streams simultaneously, because we don't know which side would send a message to the other at any given point in time. However, it is impossible to perform a write operation while there is a read operation active. And because we don't have the means necessary to poll for incoming data, read operations have to be blocking. That means if we start read operations for both streams at the same time, we can forget about writing to them. One stream will eventually return some data, but we won't be able to send that data to the other stream as it will still be busy trying to read. And that might take a while, at least until the side that owns that stream sends a <em>ping</em> request.</p>\n"}, {"tags": ["c#", ".net", "visual-studio", "autofac"], "comments": [{"owner": {"reputation": 20225, "user_id": 8116, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b473ad19f5781cd5f17a65a670f3b37?s=128&d=identicon&r=PG", "display_name": "Travis Illig", "link": "https://stackoverflow.com/users/8116/travis-illig"}, "edited": false, "score": 0, "creation_date": 1556800153, "post_id": 55939137, "comment_id": 98556843, "body": "There&#39;s not enough info to really help you - you should include a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Example</a> to help people understand. For example, there&#39;s not enough information here to determine what is trying to load the model type in question or why, so you&#39;ll likely not get a sufficient answer. Seeing registration code and the full stack trace may help."}, {"owner": {"reputation": 1734, "user_id": 2239729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d521c6ea817e19d38136fb89b5bba229?s=128&d=identicon&r=PG", "display_name": "andyb952", "link": "https://stackoverflow.com/users/2239729/andyb952"}, "reply_to_user": {"reputation": 20225, "user_id": 8116, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b473ad19f5781cd5f17a65a670f3b37?s=128&d=identicon&r=PG", "display_name": "Travis Illig", "link": "https://stackoverflow.com/users/8116/travis-illig"}, "edited": false, "score": 0, "creation_date": 1556801994, "post_id": 55939137, "comment_id": 98557973, "body": "@TravisIllig I have added the registration code where it causes the error."}, {"owner": {"reputation": 20225, "user_id": 8116, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b473ad19f5781cd5f17a65a670f3b37?s=128&d=identicon&r=PG", "display_name": "Travis Illig", "link": "https://stackoverflow.com/users/8116/travis-illig"}, "edited": false, "score": 0, "creation_date": 1556802755, "post_id": 55939137, "comment_id": 98558417, "body": "As you update your question, try to step outside yourself and think about it like you don&#39;t know literally anything about your app.  What kind of app is it? What calls this registration code that causes the error? Did the exception include info on what was trying to load the missing type? Are all of the app assemblies being scanned part of the same solution? Anything cached out built on the fly? Try reading your question back and imagining you&#39;ve never heard of your app. Is there enough to let someone try to recreate the issue or see the problem in action?"}], "owner": {"reputation": 1734, "user_id": 2239729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d521c6ea817e19d38136fb89b5bba229?s=128&d=identicon&r=PG", "display_name": "andyb952", "link": "https://stackoverflow.com/users/2239729/andyb952"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1556801944, "creation_date": 1556726642, "last_edit_date": 1556801944, "question_id": 55939137, "link": "https://stackoverflow.com/questions/55939137/unable-to-load-one-or-more-of-the-requested-types-but-not-the-normal-error", "title": "Unable to load one or more of the requested types - but not the normal error", "body": "<p>Okay, so this is a really bizarre one that has been bugging me. It will be hard to explain so please bear with me!</p>\n\n<p>I am using autofac to register some components by scanning references. </p>\n\n<pre><code>public static void RegisterHandlersKeyedByEnum(this ContainerBuilder builder, Assembly[] assembliesToScan, Type typeToRegister)\n{\n    var handlers = assembliesToScan.SelectMany(a =&gt; a.GetTypes()).Where(t =&gt; t.GetInterfaces().Contains(typeToRegister));\n\n    foreach (var handler in handlers)\n    {\n        var handlesAttributes = handler.GetCustomAttributes(typeof(HandlesEnumOf), true).Cast&lt;HandlesEnumOf&gt;();\n        foreach (var handlesAttribute in handlesAttributes)\n        {\n            if (handlesAttribute != null)\n            {\n                builder.RegisterType(handler).AsImplementedInterfaces().Keyed(handlesAttribute.Value, typeToRegister);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>With assemblesToScanBeing:</p>\n\n<pre><code>var assembliesToScan = AppDomain.CurrentDomain.GetAssemblies();\n</code></pre>\n\n<p>When I run the web app, I get the following error:</p>\n\n<blockquote>\n  <p>Unable to load one or more of the requested types. Retrieve the LoaderExceptions property for more information.</p>\n</blockquote>\n\n<p>I know what the error is, and have fixed it many times. However if I just refresh the page after ~10-15 seconds, the error no longer appears and the web app is okay to use from then on.</p>\n\n<p>When I looked into this further and inspected LoaderExceptions, the following type was failing to load \"Viper.ViewModels.Users.ADUserViewModel\". This is where it get's weird. That file does NOT exist, anywhere. Not by searching for files, not even by searching for text. I found out it was a class that was created on a completely separate branch that was never actually merged into master (using GIT).</p>\n\n<p>Now to make it even more weird, if I add in the class ADUserViewModel to Viper.ViewModels/Users folder and even leave the class completely empty. The project runs without any issues/errors whatsoever.</p>\n\n<p>I mean, I could leave the empty class there, it's not doing any harm. But it will really bug me that A) It's unnecessary and B) I don't actually know why this is happening.</p>\n\n<p>Any ideas would be greatly appreciated and put my mind at rest! I'm not sure what code can be posted to help explain this better, but more than happy to provide some if needed.</p>\n"}, {"tags": ["c#", "asp.net", "calendar"], "comments": [{"owner": {"reputation": 3777, "user_id": 3072350, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UzWpH.jpg?s=128&g=1", "display_name": "Chris Catignani", "link": "https://stackoverflow.com/users/3072350/chris-catignani"}, "edited": false, "score": 0, "creation_date": 1556727747, "post_id": 55939103, "comment_id": 98531744, "body": "Are you checking the SelectedDates property? Or are you wanting to know how to select multiple dates?"}, {"owner": {"reputation": 1, "user_id": 10960959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa245e90cfa52ec90bc9357c4be891ef?s=128&d=identicon&r=PG&f=1", "display_name": "Manojkumar", "link": "https://stackoverflow.com/users/10960959/manojkumar"}, "reply_to_user": {"reputation": 3777, "user_id": 3072350, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UzWpH.jpg?s=128&g=1", "display_name": "Chris Catignani", "link": "https://stackoverflow.com/users/3072350/chris-catignani"}, "edited": false, "score": 0, "creation_date": 1556738163, "post_id": 55939103, "comment_id": 98536142, "body": "i will give date nov1 and nov7, then in calendar it should select nov1 to nov7"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10960959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa245e90cfa52ec90bc9357c4be891ef?s=128&d=identicon&r=PG&f=1", "display_name": "Manojkumar", "link": "https://stackoverflow.com/users/10960959/manojkumar"}, "edited": false, "score": 0, "creation_date": 1556739734, "post_id": 55941738, "comment_id": 98536759, "body": "I have a small doubt sir, i am providing this for all the months in the same calendar control. if it is possible can you please help me out i am struggling from last night  @chriscatignani"}, {"owner": {"reputation": 3777, "user_id": 3072350, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UzWpH.jpg?s=128&g=1", "display_name": "Chris Catignani", "link": "https://stackoverflow.com/users/3072350/chris-catignani"}, "reply_to_user": {"reputation": 1, "user_id": 10960959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa245e90cfa52ec90bc9357c4be891ef?s=128&d=identicon&r=PG&f=1", "display_name": "Manojkumar", "link": "https://stackoverflow.com/users/10960959/manojkumar"}, "edited": false, "score": 0, "creation_date": 1556739953, "post_id": 55941738, "comment_id": 98536871, "body": "When you add dates to the SelectedDates (Collection) you are adding them to a single calendar control....(waives white flag.)"}], "tags": [], "owner": {"reputation": 3777, "user_id": 3072350, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UzWpH.jpg?s=128&g=1", "display_name": "Chris Catignani", "link": "https://stackoverflow.com/users/3072350/chris-catignani"}, "is_accepted": false, "score": 0, "last_activity_date": 1556739523, "creation_date": 1556739523, "answer_id": 55941738, "question_id": 55939103, "link": "https://stackoverflow.com/questions/55939103/how-to-select-date-range-from-a-asp-net-calendar-control-in-a-single-calendar-co/55941738#55941738", "title": "How to select date range from a asp.net calendar control in a single calendar control", "body": "<p>You need to use the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.webcontrols.selecteddatescollection?view=netframework-4.8\" rel=\"nofollow noreferrer\">SelectedDatesCollection</a></p>\n\n<p>This is an example from the link...</p>\n\n<pre><code>// Iterate through the current month and add all Wednesdays to the \n// SelectedDates collection of the Calendar control.\nfor (int i = 1; i &lt;= System.DateTime.DaysInMonth(current_year, current_month); i++)\n{\n   DateTime currentDate = new DateTime(current_year, current_month, i);\n   if (currentDate.DayOfWeek == DayOfWeek.Wednesday)\n   {\n     DisplayCalendar.SelectedDates.Add(currentDate);\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10960959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa245e90cfa52ec90bc9357c4be891ef?s=128&d=identicon&r=PG&f=1", "display_name": "Manojkumar", "link": "https://stackoverflow.com/users/10960959/manojkumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 620, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556739523, "creation_date": 1556726461, "last_edit_date": 1556738666, "question_id": 55939103, "link": "https://stackoverflow.com/questions/55939103/how-to-select-date-range-from-a-asp-net-calendar-control-in-a-single-calendar-co", "title": "How to select date range from a asp.net calendar control in a single calendar control", "body": "<p>i am having a doubt that how can i select date range in asp.net calendar control\nfor example i will give start date and end date so that all the dates in between those dates should get selected.</p>\n\n<p>Can any one help me in this please</p>\n"}, {"tags": ["c#", "task"], "comments": [{"owner": {"reputation": 709, "user_id": 5236014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wgx52.jpg?s=128&g=1", "display_name": "mukesh kudi", "link": "https://stackoverflow.com/users/5236014/mukesh-kudi"}, "edited": false, "score": 0, "creation_date": 1556726321, "post_id": 55939039, "comment_id": 98531147, "body": "Please share DeleteFile code....i don&#39;t think that task is an issue."}, {"owner": {"reputation": 3454, "user_id": 6485082, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3c127a713f55a0f952b1b7941f25ace8?s=128&d=identicon&r=PG&f=1", "display_name": "FCin", "link": "https://stackoverflow.com/users/6485082/fcin"}, "edited": false, "score": 1, "creation_date": 1556726322, "post_id": 55939039, "comment_id": 98531148, "body": "Await it instead of using <code>t.Wait()</code>."}, {"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 0, "creation_date": 1556726328, "post_id": 55939039, "comment_id": 98531152, "body": "The <code>Wait()</code> waits forever because you are <a href=\"https://blog.stephencleary.com/2012/07/dont-block-on-async-code.html\" rel=\"nofollow noreferrer\">blocking on async code</a>. Your original fire-and-forget version most likely stopped working because it now produces an exception <a href=\"https://stackoverflow.com/q/32067034/11683\">which you cannot see</a>."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1556726372, "post_id": 55939039, "comment_id": 98531176, "body": "Are you <i>absolutely sure</i> that <code>DeleteFile</code> isn&#39;t being called, vs something <i>inside</i> it failing? The next thing to look at would be &quot;sync-context&quot; - does your server have a sync-context? Did someone perhaps add one? What does <code>SynchronizationContext.Current</code> report?"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 1, "creation_date": 1556726416, "post_id": 55939039, "comment_id": 98531194, "body": "@GSerg calling <code>Wait()</code> is a terrible idea, but it shouldn&#39;t actually make it <i>fail</i> unless there is a sync-context deadlock (or similar); this is not an endorsement of <code>.Wait()</code>, note!"}, {"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1556726488, "post_id": 55939039, "comment_id": 98531225, "body": "@MarcGravell The OP says it &quot;waits forever&quot;. That is what I meant. Poor choice of words."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1556726604, "post_id": 55939039, "comment_id": 98531272, "body": "Note, a <i>perceived</i> indefinite delay here can be caused by thread-pool starvation; this is a: unlikely in most cases, and b: would usually cause a <i>delay</i> rather than a hard <i>block</i> (although there <i>are</i> cases where you can cause a spiral of death where your work item will never get processed)"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556727967, "post_id": 55939039, "comment_id": 98531855, "body": "Do you need <code>Task.Run()</code> to delete a file? Or there&#39;s more to it? Do you have some error handling in that method? Have you debugged it or logged the results?"}, {"owner": {"reputation": 89, "user_id": 7947341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6faab90dbf2ad312e7f59b690d5f183a?s=128&d=identicon&r=PG&f=1", "display_name": "Yevgeny Granat", "link": "https://stackoverflow.com/users/7947341/yevgeny-granat"}, "edited": false, "score": 0, "creation_date": 1556778375, "post_id": 55939039, "comment_id": 98546088, "body": "&quot;Are you absolutely sure that DeleteFile isn&#39;t being called, vs something inside it failing?&quot; Yes. Even if I call an empty method it&#39;s not being called. Even if I call standard File.Delete() instead of my method it&#39;s not being called.  &quot;calling Wait() is a terrible idea&quot; - I don&#39;t call Wait(). I&#39;ve just added it for test to see what happens.  &quot;Do you need Task.Run() to delete a file?&quot; No. When I call DeleteFile or just File.Delete() it works fine. This is not my code. I can remove this Task.Run(), but I&#39;m really concerned that something that worked suddenly stopped working."}, {"owner": {"reputation": 89, "user_id": 7947341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6faab90dbf2ad312e7f59b690d5f183a?s=128&d=identicon&r=PG&f=1", "display_name": "Yevgeny Granat", "link": "https://stackoverflow.com/users/7947341/yevgeny-granat"}, "edited": false, "score": 0, "creation_date": 1556778868, "post_id": 55939039, "comment_id": 98546293, "body": "&quot;What does SynchronizationContext.Current report?&quot; null"}, {"owner": {"reputation": 89, "user_id": 7947341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6faab90dbf2ad312e7f59b690d5f183a?s=128&d=identicon&r=PG&f=1", "display_name": "Yevgeny Granat", "link": "https://stackoverflow.com/users/7947341/yevgeny-granat"}, "edited": false, "score": 0, "creation_date": 1557134313, "post_id": 55939039, "comment_id": 98650534, "body": "Investigating further I saw that this Task.Run() is inside (in methods&#39; chain) another Task.Factory.StartNew(). Maybe this &quot;contributes&quot; to the problem as well. But it worked for years, so I still want to know the reason why it stopped working. For now I removed Task.Run() and all works fine."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11410117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a1d467e5108320802f05181d1b36de1?s=128&d=identicon&r=PG&f=1", "display_name": "redPanda", "link": "https://stackoverflow.com/users/11410117/redpanda"}, "is_accepted": false, "score": -3, "last_activity_date": 1556728080, "creation_date": 1556728080, "answer_id": 55939402, "question_id": 55939039, "link": "https://stackoverflow.com/questions/55939039/c-task-run-stopped-working-and-waits-forever/55939402#55939402", "title": "C# Task.Run() stopped working and waits forever", "body": "<p>Probably you have a Dead-Lock. See this link <a href=\"https://michaelscodingspot.com/c-deadlocks-in-depth-part-1/\" rel=\"nofollow noreferrer\">https://michaelscodingspot.com/c-deadlocks-in-depth-part-1/</a> . You need to really know when to call <code>.Wait() .Result() .Run()</code>, this three can crash your entire aplication. </p>\n"}], "owner": {"reputation": 89, "user_id": 7947341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6faab90dbf2ad312e7f59b690d5f183a?s=128&d=identicon&r=PG&f=1", "display_name": "Yevgeny Granat", "link": "https://stackoverflow.com/users/7947341/yevgeny-granat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556728080, "creation_date": 1556726137, "last_edit_date": 1556726327, "question_id": 55939039, "link": "https://stackoverflow.com/questions/55939039/c-task-run-stopped-working-and-waits-forever", "title": "C# Task.Run() stopped working and waits forever", "body": "<p>I work with a server-side application written in C# and I perform a simple <code>Task.Run</code> like this:</p>\n\n<pre><code>{\n...\nTask.Run(() =&gt; DeleteFile(path));\n...\n}\n</code></pre>\n\n<p>It worked for years, but since yesterday it stopped working and the DeleteFile method is not called at all. The execution just continues to the next line of code. I tried <code>Task.Run(() =&gt; File.Delete(path))</code>, which doesn't work as well. Then I added <code>Task.Wait</code> as follows (with an empty action - just for test):</p>\n\n<pre><code>Task t = Task.Run(() =&gt; {});\nt.Wait();\n</code></pre>\n\n<p>When the execution reaches <code>t.Wait()</code> it waits forever and doesn't go to the next line of code.</p>\n\n<p>Other places in the application where I use Task.Run work properly.</p>\n\n<p>What might be the reason?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 1, "creation_date": 1556728713, "post_id": 55939013, "comment_id": 98532159, "body": "Sounds like you have the &#39;M&#39; part (the model). Now go out and create your &#39;V&#39;s and &#39;C&#39;s and tie them together with Angular or your technology of choice."}, {"owner": {"reputation": 136, "user_id": 8112613, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X_bK5RzCOJ4/AAAAAAAAAAI/AAAAAAAAOZ0/UlGcj-IXzjw/photo.jpg?sz=128", "display_name": "MrLu", "link": "https://stackoverflow.com/users/8112613/mrlu"}, "edited": false, "score": 0, "creation_date": 1556730092, "post_id": 55939013, "comment_id": 98532749, "body": "This will help. <a href=\"https://docs.microsoft.com/en-us/aspnet/mvc/overview/getting-started/getting-started-with-ef-using-mvc/\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/mvc/overview/getting-started&zwnj;&#8203;/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 422, "user_id": 11292880, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aDB5ynVQtto/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reHkXCoAK_9agqNmyTn-3eA5bm2lg/mo/photo.jpg?sz=128", "display_name": "DBro", "link": "https://stackoverflow.com/users/11292880/dbro"}, "is_accepted": true, "score": 1, "last_activity_date": 1556755017, "creation_date": 1556755017, "answer_id": 55944091, "question_id": 55939013, "link": "https://stackoverflow.com/questions/55939013/single-page-using-a-database-mvc/55944091#55944091", "title": "Single page using a database MVC", "body": "<p>My standard approach is to 'silo' logic and views by object/type.  In this way, your controllers and views are simplified and specialized (they only need to know how to interact with one type of object).  This approach also lends itself really well to code and view reuse within your web app.</p>\n\n<p>So in your example design, I might be looking at...</p>\n\n<p>Controllers:</p>\n\n<ul>\n<li>HomeController\n\n<ul>\n<li>Method to serve up the main view that will contain your 4 distinct sections</li>\n</ul></li>\n<li>StatisticController (what type of statistics?  People?)\n\n<ul>\n<li>Method to serve up partial view containing statistics</li>\n</ul></li>\n<li>PersonController \n\n<ul>\n<li>Method to serve up partial view containing full list of Person objects</li>\n<li>Method to serve up partial view containing single-Person upload form</li>\n<li>Method to serve up partial view containing csv Person file upload</li>\n<li>Method to accept POST'ed single-Person upload</li>\n<li>Method to accept POST'ed CSV Person file upload</li>\n</ul></li>\n</ul>\n\n<p>Views:</p>\n\n<ul>\n<li>(Home)\n\n<ul>\n<li>Main view that contains empty layout for the 4 distinct sections, each of which will ultimately be populated from a partial view with, perhaps, <code>Html.RenderAction()</code>)</li>\n</ul></li>\n<li>(Statistic)\n\n<ul>\n<li>StatisticPartial view that contains the stats</li>\n</ul></li>\n<li>(Person)\n\n<ul>\n<li>PersonIndexPartial view that contains the full list of Person objects</li>\n<li>PersonEditPartial view that contains the single-Person upload form</li>\n<li>PersonEditBatchPartial view that contains the csv Person file upload form</li>\n</ul></li>\n</ul>\n\n<p>That's a bit to take in.  I suggest starting with the main form, and getting the general layout set up the way you want it.  Then start plugging partial views into each of the 4 distinct sections, one at a time.  The more you progress, the more things will start to click.</p>\n"}], "owner": {"reputation": 85, "user_id": 9509784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756ac11a476e3a17ec2ca8a8cb0716f0?s=128&d=identicon&r=PG&f=1", "display_name": "Danki", "link": "https://stackoverflow.com/users/9509784/danki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 55944091, "answer_count": 1, "score": 0, "last_activity_date": 1556755017, "creation_date": 1556726002, "last_edit_date": 1556726854, "question_id": 55939013, "link": "https://stackoverflow.com/questions/55939013/single-page-using-a-database-mvc", "title": "Single page using a database MVC", "body": "<p>I need to create a single page site in ASP.NET MVC (or CORE) for a project to school which will consist of 3 parts 1. A summary of statistics based on data from the database 2. A detailed table containing the entire extract of users from the database 3. Ability to add usera for the database from a manual form and adding a user from the csv file.</p>\n\n<p>I would like to ask if creating 3 components for each of the necessary parts and displaying them in the common view is a good idea? Or Is it better to create one viewmodel that will contain a list of all the data that I will need to use? Or do you have any tips and suggestions for the implementation of this project?</p>\n\n<p>As for the database, it will be the usual SQL database created in the code-first approach. To connect to the database and operations performed on it, I would like to use the interface that will serve as the data access layer.</p>\n\n<p>For all the suggestions, thank you very much. I present the example concept of the page below</p>\n\n<p><a href=\"https://i.stack.imgur.com/nZHqF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nZHqF.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "sql", "sql-server", "sqlconnection"], "comments": [{"owner": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 3, "creation_date": 1556726167, "post_id": 55939012, "comment_id": 98531070, "body": "Parametrise your SQL, then this won&#39;t be a problem."}, {"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 0, "creation_date": 1556726181, "post_id": 55939012, "comment_id": 98531076, "body": "Please see <a href=\"https://stackoverflow.com/q/332365/11683\">stackoverflow.com/q/332365/11683</a> before you continue."}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 1, "creation_date": 1556726232, "post_id": 55939012, "comment_id": 98531099, "body": "Never ever concat strings like that to create SQL queries - always us SQL Parameters.  Also, a DataTable and DataAdapter is overkill to select what appears to be a single id."}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 1, "creation_date": 1556726236, "post_id": 55939012, "comment_id": 98531106, "body": "Before you write another line of code you need to read about, understand and start using parameters. Your code is wide open to sql injection. <a href=\"http://bobby-tables.com/\" rel=\"nofollow noreferrer\">bobby-tables.com</a> Using parameters here would have eliminated this bug and protected your database. Also, storing password as clear text is borderline criminal behavior. They should be salted and hashed."}, {"owner": {"reputation": 116, "user_id": 2077697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03d452eaad08856ab653b65b0eaf09db?s=128&d=identicon&r=PG", "display_name": "Fabo.sk", "link": "https://stackoverflow.com/users/2077697/fabo-sk"}, "edited": false, "score": 0, "creation_date": 1556726915, "post_id": 55939012, "comment_id": 98531391, "body": "Specifically your issue seems to be that you didn&#39;t put in single quotes around the password (I doubt it&#39;s any non-text datatype), but the correct fix is indeed to parametrize."}, {"owner": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 1, "creation_date": 1556727200, "post_id": 55939012, "comment_id": 98531536, "body": "Also, I just realised, you have <code>password = &quot;+f3.Password3.Text+&quot;</code> this means you are storing plain text passwords in your database. This is another huge security flaw. You should be salting and hashing your passwords here. Along with the injection problem, this just means that anyone could find out the password for <b>every single user</b>. If this is real data, and you&#39;re within the EU, that is something you never want to happen"}, {"owner": {"reputation": 1208, "user_id": 6020288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ec0447a851c1655fac718ecfbbf7b3?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/6020288/brian"}, "reply_to_user": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 0, "creation_date": 1556740124, "post_id": 55939012, "comment_id": 98536957, "body": "@Larnu, if this is real data, that is something you never want to happen, full stop."}], "answers": [{"tags": [], "owner": {"reputation": 442, "user_id": 3580273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b590099a1ac830b4ad86822fdb6d8260?s=128&d=identicon&r=PG", "display_name": "Khatibzadeh", "link": "https://stackoverflow.com/users/3580273/khatibzadeh"}, "is_accepted": false, "score": 0, "last_activity_date": 1556727096, "creation_date": 1556727096, "answer_id": 55939216, "question_id": 55939012, "link": "https://stackoverflow.com/questions/55939012/how-can-i-fix-this-error-in-my-c-and-t-sql-code/55939216#55939216", "title": "How can I fix this error in my C# and T-SQL code", "body": "<p>The password value needs to be in a single quotation as well like the username part</p>\n\n<pre><code>SqlConnection sqlConnection = new SqlConnection(\"Data Source=OWNER;Initial Catalog=train-database;Integrated Security=True;Pooling=False\");\n    SqlDataAdapter sda = new SqlDataAdapter(\"select c_id From [user] Where E_mail = '\"+ f3.E_Mail3.Text +\"' and password = '\"+f3.Password3.Text+\"' \", sqlConnection); \n    DataTable dt = new DataTable(); \n    sda.Fill(dt);\n</code></pre>\n\n<p>But this code is vulnerable to SQL injection attack and it is really a bad practice to create SQL queries using string concatenation.</p>\n\n<p>It is highly recommended to use SQL parameters.</p>\n\n<p>The following code is not full working code because I am not near my ide but I am sure you can fix it.</p>\n\n<pre><code>SqlConnection sqlConnection = new SqlConnection(\"Data Source=OWNER;Initial Catalog=train-database;Integrated Security=True;Pooling=False\");\n\nSqlCommand command= new SqlCommand(\"select c_id from [users] where e_mail =@emailparam and password =@passwordparam\",sqlConnection);\ncommand.Parameters.Add(new SqlParameter(\"emailparam\",f3.Email.text));\ncommand.Parameters.Add(new SqlParameter(\"passwordparam\", f3.password.text));\n\nSqlDataAdapter sda = new SqlDataAdapter(command); \nDataTable dt = new DataTable(); sda.Fill(dt);\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 9541741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZCSb.jpg?s=128&g=1", "display_name": "Ibrahim Ramadan", "link": "https://stackoverflow.com/users/9541741/ibrahim-ramadan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "closed_date": 1556726215, "answer_count": 1, "score": -2, "last_activity_date": 1556727096, "creation_date": 1556725997, "last_edit_date": 1556726215, "question_id": 55939012, "link": "https://stackoverflow.com/questions/55939012/how-can-i-fix-this-error-in-my-c-and-t-sql-code", "closed_reason": "Duplicate", "title": "How can I fix this error in my C# and T-SQL code", "body": "<p>I fill a data table with a SQL query and I get this error:</p>\n\n<blockquote>\n  <p>System.Data.SqlClient.SqlException: 'Incorrect syntax near '='.</p>\n</blockquote>\n\n<p>Here is my code:</p>\n\n<pre><code>SqlConnection sqlConnection = new SqlConnection(\"Data Source=OWNER;Initial Catalog=train-database;Integrated Security=True;Pooling=False\");\nSqlDataAdapter sda = new SqlDataAdapter(\"SELECT c_id FROM [user] WHERE E_mail = '\"+ f3.E_Mail3.Text +\"' and password = \"+f3.Password3.Text+\" \", sqlConnection);\n\nDataTable dt = new DataTable();\nsda.Fill(dt);\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "api", "timeout"], "comments": [{"owner": {"reputation": 296, "user_id": 5894304, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/awoiq.jpg?s=128&g=1", "display_name": "Hammad Sajid", "link": "https://stackoverflow.com/users/5894304/hammad-sajid"}, "edited": false, "score": 0, "creation_date": 1556726178, "post_id": 55938992, "comment_id": 98531075, "body": "I think you must check server Configuration on which your api&#39;s are deployed, why it goes down after some limit"}, {"owner": {"reputation": 11075, "user_id": 1495595, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u9Lea.jpg?s=128&g=1", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1495595/rafal"}, "edited": false, "score": 0, "creation_date": 1556727094, "post_id": 55938992, "comment_id": 98531486, "body": "Your code has few code smells that can cause issues, 1 you should use using statement on client variable; 2 your <code>Task.Run.Wait()</code> construct is pointless and a bit harmful either make your method async or if you need synchronous call use webclient or Webrequest  and serialize your content manually; To track down the cause of your error its nice to have exceptions logged somewhere. If you knew what exception is thrown your question would not be so hard to answer."}, {"owner": {"reputation": 31, "user_id": 9739483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dba7082f8960ed39a7ee57f497d8cdf?s=128&d=identicon&r=PG&f=1", "display_name": "AnusreeS", "link": "https://stackoverflow.com/users/9739483/anusrees"}, "reply_to_user": {"reputation": 11075, "user_id": 1495595, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u9Lea.jpg?s=128&g=1", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1495595/rafal"}, "edited": false, "score": 0, "creation_date": 1556727573, "post_id": 55938992, "comment_id": 98531675, "body": "@Rafal I have managed exceptions and the exception logged reads &quot;One or more errors occurred. at System.Threading.Tasks.Task<code>1.GetResultCore(Boolean waitCompletionNotification) at System.Threading.Tasks.Task</code>1.get_Result()&quot;"}, {"owner": {"reputation": 11075, "user_id": 1495595, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u9Lea.jpg?s=128&g=1", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1495595/rafal"}, "edited": false, "score": 1, "creation_date": 1556728030, "post_id": 55938992, "comment_id": 98531884, "body": "@AnusreeS read more, its generic AggregateExcetion find inner most <code>InnerException</code> and post it. -&gt; exception.InnerException.InnerException.InnerException until its null and move back one level. or post full text of your log. Hope you are logging exception not exceotion.Message."}, {"owner": {"reputation": 31, "user_id": 9739483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dba7082f8960ed39a7ee57f497d8cdf?s=128&d=identicon&r=PG&f=1", "display_name": "AnusreeS", "link": "https://stackoverflow.com/users/9739483/anusrees"}, "reply_to_user": {"reputation": 11075, "user_id": 1495595, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u9Lea.jpg?s=128&g=1", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1495595/rafal"}, "edited": false, "score": 0, "creation_date": 1556865225, "post_id": 55938992, "comment_id": 98579630, "body": "@Rafal The full exception is as follows: Exception : System.AggregateException: One or more errors occurred. System.Threading.Tasks.TaskCanceledException: A task was canceled. --- End of inner exception stack trace --- at System.Threading.Tasks.Task1.GetResultCore(Boolean waitCompletionNotification) at System.Threading.Tasks.Task1.get_Result("}, {"owner": {"reputation": 11075, "user_id": 1495595, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u9Lea.jpg?s=128&g=1", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1495595/rafal"}, "edited": false, "score": 0, "creation_date": 1556869237, "post_id": 55938992, "comment_id": 98581362, "body": "So your task got cancelled this can happen with Wait (int) when your task is processing longer than given int so 5s given this I would load test your ManualSaveAppointments it looks like it takes longer and longer to end or its waiting for something like previous request to end eventually waiting longer than 5s"}], "answers": [{"comments": [{"owner": {"reputation": 11075, "user_id": 1495595, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u9Lea.jpg?s=128&g=1", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1495595/rafal"}, "edited": false, "score": 0, "creation_date": 1556728288, "post_id": 55939392, "comment_id": 98531974, "body": "Task.Run.Wait will not produce deadlock as its spawning thread and waiting for it. Its just useless code."}], "tags": [], "owner": {"reputation": 51, "user_id": 2884738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDB45.jpg?s=128&g=1", "display_name": "mfierro", "link": "https://stackoverflow.com/users/2884738/mfierro"}, "is_accepted": false, "score": 0, "last_activity_date": 1556728900, "last_edit_date": 1556728900, "creation_date": 1556728034, "answer_id": 55939392, "question_id": 55938992, "link": "https://stackoverflow.com/questions/55938992/calls-to-an-api-fails-after-some-time-when-multiple-users-are-logged-in-and-usin/55939392#55939392", "title": "Calls to an API fails after some time when multiple users are logged in and using the application. Is there a way to solve this?", "body": "<p>If you are making a new HttpClient object each time you want to make a call, you are not using it appropriately.  HttpClient may continue to use sockets even if it is no longer being used and this will likely cause socket exhaustion under load.  <a href=\"https://docs.microsoft.com/en-us/azure/architecture/antipatterns/improper-instantiation/\" rel=\"nofollow noreferrer\">You can see more on this topic here</a></p>\n\n<p>You should create a single instance and reuse it.  If you are using .Net core it would be a better idea to use the HttpClientFactory.</p>\n\n<p>In addition, using Task.Run to call an async method is not wise.  <strike>You are setting yourself up for a deadlock.</strike>  It would be much better to mark your method as async and await, if possible.  Since you are effectively doing fire and forget, the way you have done this if your App Domain shuts down this work will be lost.</p>\n\n<p>If you need to do this, you should at least consider registering your task as such:</p>\n\n<p>HostingEnvironment.QueueBackgroundWorkItem(ct => SendMailAsync(user.Email));</p>\n\n<p>The short answer is that it is difficult to say what your issue is, it could be one of several problems.</p>\n"}], "owner": {"reputation": 31, "user_id": 9739483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dba7082f8960ed39a7ee57f497d8cdf?s=128&d=identicon&r=PG&f=1", "display_name": "AnusreeS", "link": "https://stackoverflow.com/users/9739483/anusrees"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 389, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556859887, "creation_date": 1556725908, "last_edit_date": 1556859887, "question_id": 55938992, "link": "https://stackoverflow.com/questions/55938992/calls-to-an-api-fails-after-some-time-when-multiple-users-are-logged-in-and-usin", "title": "Calls to an API fails after some time when multiple users are logged in and using the application. Is there a way to solve this?", "body": "<p>I am making some calls to an api that syncs and saves appointments to/from my application and mail agenda which is most commonly Outlook mails. The calls to the api are made from a web application and it is working fine for some time but then immediately after a few hours, the calls are failed. This continues for some time and starts to work again after some time.</p>\n\n<p>The DefaultConnectionLimit was set to 100 in the beginning and during this scenario, the process stopped working after some time (Say 30 mins to 1 hour). Then DefaultConnectionLimit was set to 20 and in this case, it worked fine for 3-4 hours and stopped working after that. I don't know  if this is the actual cause but just mentioning.</p>\n\n<p>The code where the call to the api is made from the web application is mentioned below : </p>\n\n<pre><code>public bool SyncNewAppToExch(string encryptedAppSyncDetails)\n  {\n      try\n      {\n          string result = string.Empty;\n          JArray paramList = new JArray();\n          paramList.Add(encryptedAppSyncDetails);\n          var emailApiUrl = ConfigurationManager.AppSettings[\"emailApiUrl\"].ToString();\n          Uri baseAddress = new Uri(emailApiUrl);\n          var url = \"/api/EmailProcess/ManualSaveAppointments\";\n          HttpClient client = new HttpClient();\n          client.BaseAddress = baseAddress;\n          client.DefaultRequestHeaders.Accept.Clear();\n          client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n          Task.Run(() =&gt; client.PostAsJsonAsync(url, paramList)).Wait(5000);\n          var responseMessage = true;\n          if (responseMessage)\n              return true;\n          else\n              return false;\n      }\n      catch (Exception ex)\n      {\n          return false;\n      }\n  }\n</code></pre>\n\n<p>The exception that follows the api call failure reads :</p>\n\n<p>Exception : System.AggregateException: One or more errors occurred. System.Threading.Tasks.TaskCanceledException: A task was canceled. --- End of inner exception stack trace --- at System.Threading.Tasks.Task1.GetResultCore(Boolean waitCompletionNotification) at System.Threading.Tasks.Task1.get_Result()</p>\n"}, {"tags": ["c#", "sql", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1556726311, "post_id": 55938952, "comment_id": 98531142, "body": "Not sure <code>union</code> is the way to go for just 1 column. Consider something like <code>Owner = hasOwner ? items.tOfficeUser.Login : &quot;no owner&quot;, ...</code>"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1556727401, "post_id": 55938952, "comment_id": 98531622, "body": "Jusdt use a Join instead of a union : <a href=\"https://code.msdn.microsoft.com/101-LINQ-Samples-3fb9811b\" rel=\"nofollow noreferrer\">code.msdn.microsoft.com/101-LINQ-Samples-3fb9811b</a>"}, {"owner": {"reputation": 187, "user_id": 10602563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6421d445aa54801444c06546d253eea9?s=128&d=identicon&r=PG&f=1", "display_name": "elquesogrand", "link": "https://stackoverflow.com/users/10602563/elquesogrand"}, "edited": false, "score": 0, "creation_date": 1556732495, "post_id": 55938952, "comment_id": 98533796, "body": "well, I need the results from those two different queries because it gets me task that have owners and task that don&#39;t have owners at all will be blank. But I can&#39;t seem to combine the two things together because it gives me errors"}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1556732852, "post_id": 55938952, "comment_id": 98533986, "body": "@jdweng -- what to you mean Join -- join is not a set operator it does something totally different."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1556734423, "post_id": 55938952, "comment_id": 98534688, "body": "<code>Union</code> returns a result - you are not doing anything with the result of calling <code>Union</code> in your sample code. It is like you have <code>a+b;</code> as a statement - <code>a</code> and <code>b</code> are unaffected. Also neither union makes sense - in both you are combining  a partial subquery with a finished subquery. Perhaps my <a href=\"https://stackoverflow.com/questions/49245160/sql-to-linq-with-multiple-join-count-and-left-join/49245786#49245786\">SQL to Linq Recipe</a> could help you."}, {"owner": {"reputation": 187, "user_id": 10602563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6421d445aa54801444c06546d253eea9?s=128&d=identicon&r=PG&f=1", "display_name": "elquesogrand", "link": "https://stackoverflow.com/users/10602563/elquesogrand"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1556736930, "post_id": 55938952, "comment_id": 98535692, "body": "@NetMage I am having a hard time understanding how linq works. I am not trying to do anything with the results, I just want to return the results after combining the two queries together to populate my grid. I don&#39;t understand why it&#39;s a partial subquery? Can you explain that please?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1556747274, "post_id": 55938952, "comment_id": 98539410, "body": "So the first time you union <code>query2</code> with <code>querytask</code>. <code>query2</code> is the partial sub-query that gets <code>tTask_User</code> with RecipType == 5 but doesn&#39;t project to a <code>MainGridDto</code>. The second time you union <code>query</code> with <code>taskquery</code>. <code>taskquery</code> is the partial sub-query that gets <code>tTasks</code> with <code>hasOwner == 0</code> but doesn&#39;t project to <code>MainGridDto</code>. Why didn&#39;t you do <code>var ans = query.Union(querytask);</code> ?"}, {"owner": {"reputation": 187, "user_id": 10602563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6421d445aa54801444c06546d253eea9?s=128&d=identicon&r=PG&f=1", "display_name": "elquesogrand", "link": "https://stackoverflow.com/users/10602563/elquesogrand"}, "edited": false, "score": 0, "creation_date": 1556811699, "post_id": 55938952, "comment_id": 98563627, "body": "oh wow... You are right. I didn&#39;t even see that @why don&#39;t do var ans= query.union(querytask) I was using the wrong query that&#39;s why it wasn&#39;t working.... Anyways, that makes sense and I understand why you mean about partial sub-query and projecting."}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 10602563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6421d445aa54801444c06546d253eea9?s=128&d=identicon&r=PG&f=1", "display_name": "elquesogrand", "link": "https://stackoverflow.com/users/10602563/elquesogrand"}, "edited": false, "score": 0, "creation_date": 1556736325, "post_id": 55940659, "comment_id": 98535414, "body": "Yes, that gets me closer to what I need. The only thing left to do to get me the same results as the sql query I wrote above is, if the task does not have an owner only show one task. Some task have other types like bcc, to, error, ect... and for each type the task has it will give me all those objects on my grid. Like if one task has 5 types and that task doesn&#39;t have an owner, it will give me 5 task showing &quot;no owner.&quot; How can I get it to only show me just one task if it doesn&#39;t have an owner at all instead of telling me 5 times that it doesn&#39;t have an owner. I think that the union"}, {"owner": {"reputation": 187, "user_id": 10602563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6421d445aa54801444c06546d253eea9?s=128&d=identicon&r=PG&f=1", "display_name": "elquesogrand", "link": "https://stackoverflow.com/users/10602563/elquesogrand"}, "edited": false, "score": 0, "creation_date": 1556736350, "post_id": 55940659, "comment_id": 98535425, "body": "was getting rid of those duplicates and only giving me task telling me there is no owner. IF that makes sence... I know it&#39;s hard to know when you can&#39;t see the structure or the data."}, {"owner": {"reputation": 187, "user_id": 10602563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6421d445aa54801444c06546d253eea9?s=128&d=identicon&r=PG&f=1", "display_name": "elquesogrand", "link": "https://stackoverflow.com/users/10602563/elquesogrand"}, "edited": false, "score": 0, "creation_date": 1556736414, "post_id": 55940659, "comment_id": 98535452, "body": "I really appericate it though. This got me a lot futher then I was before. I was showing 2000+ records and now it&#39;s down to 635. That should improve things"}], "tags": [], "owner": {"reputation": 177, "user_id": 5763765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3tzXL.jpg?s=128&g=1", "display_name": "M. Ruiz", "link": "https://stackoverflow.com/users/5763765/m-ruiz"}, "is_accepted": false, "score": 1, "last_activity_date": 1556734235, "creation_date": 1556734235, "answer_id": 55940659, "question_id": 55938952, "link": "https://stackoverflow.com/questions/55938952/how-to-properly-create-a-union-from-two-tables-selecting-only-specifc-columns-wh/55940659#55940659", "title": "How to properly create a union from two tables selecting only specifc columns where one column is going to empty with some text", "body": "<p>Just one query is enough. Notice the change in Where and in the Owner property.</p>\n\n<pre><code>var query2 = db.tTask_User.Where(task =&gt; task.hasOwner == 0 || (task.Enabled &amp;&amp; task.tTaskRecipientType.pk_taskrecipienttype == 5)); \n\nvar query = from items in query2                            \n            select new MainGridDto()\n            {\n                 PK_Task = items.FK_Task,\n                 TaskName = items.tTask.TaskName,\n                 TaskRecipientType = items.tTaskRecipientType,\n                 Owner = items.hasOwner == 0 ? \"no owner\" : items.tOfficeUser.Login,\n                 TaskDescription = items.tTask.TaskDescription,\n                 Enabled = items.tTask.Enabled,\n                 tTaskTeam = items.tTask.tTaskTeam,\n                 EmailBody = items.tTask.EmailBody,\n                 EmailSubject = items.tTask.EmailSubject\n            };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 187, "user_id": 10602563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6421d445aa54801444c06546d253eea9?s=128&d=identicon&r=PG&f=1", "display_name": "elquesogrand", "link": "https://stackoverflow.com/users/10602563/elquesogrand"}, "edited": false, "score": 0, "creation_date": 1556735917, "post_id": 55940802, "comment_id": 98535264, "body": "That&#39;s why I tried to select new MainGridDto on both of them so they would have the same model data types. I just still don&#39;t understand how to be able to join both of them together. In my sql code I put I am getting the exact results I need, but translating that to linq I am find a bit tricky."}, {"owner": {"reputation": 5325, "user_id": 701869, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/23528beff77eca0f655bcf7c58db096e?s=128&d=identicon&r=PG", "display_name": "Pavel Kovalev", "link": "https://stackoverflow.com/users/701869/pavel-kovalev"}, "reply_to_user": {"reputation": 187, "user_id": 10602563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6421d445aa54801444c06546d253eea9?s=128&d=identicon&r=PG&f=1", "display_name": "elquesogrand", "link": "https://stackoverflow.com/users/10602563/elquesogrand"}, "edited": false, "score": 0, "creation_date": 1556736845, "post_id": 55940802, "comment_id": 98535638, "body": "@elquesogrand maybe you can try to select MainGridDto from query2 ... make them the same type, or same anonymous type, it should work too"}], "tags": [], "owner": {"reputation": 5325, "user_id": 701869, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/23528beff77eca0f655bcf7c58db096e?s=128&d=identicon&r=PG", "display_name": "Pavel Kovalev", "link": "https://stackoverflow.com/users/701869/pavel-kovalev"}, "is_accepted": false, "score": 0, "last_activity_date": 1556734938, "creation_date": 1556734938, "answer_id": 55940802, "question_id": 55938952, "link": "https://stackoverflow.com/questions/55938952/how-to-properly-create-a-union-from-two-tables-selecting-only-specifc-columns-wh/55940802#55940802", "title": "How to properly create a union from two tables selecting only specifc columns where one column is going to empty with some text", "body": "<p>I could be wrong, but it looks like an issue with types. The general rule is:</p>\n\n<ol>\n<li>both types should have <strong>exactly</strong> the same property <strong>names</strong></li>\n<li>both types should have <strong>exactly</strong> the same property <strong>types</strong> (<code>int</code> vs a\n<code>smallint</code> or <code>double</code> vs a <code>decimal</code> will cause a build error)</li>\n</ol>\n\n<p>Looks like <code>query2</code>  is type of <code>IQueryable&lt;tTask_User&gt;</code> and <code>querytask</code> is type of <code>IQueryable&lt;MainGridDto&gt;</code> that's why you can't do a union here:</p>\n\n<pre><code>query2.Union(querytask);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 187, "user_id": 10602563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6421d445aa54801444c06546d253eea9?s=128&d=identicon&r=PG&f=1", "display_name": "elquesogrand", "link": "https://stackoverflow.com/users/10602563/elquesogrand"}, "edited": false, "score": 0, "creation_date": 1556811732, "post_id": 55943135, "comment_id": 98563641, "body": "I got this error &quot;&lt;ExceptionMessage&gt; The text data type cannot be selected as DISTINCT because it is not comparable. &lt;/ExceptionMessage&gt;&quot;"}, {"owner": {"reputation": 187, "user_id": 10602563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6421d445aa54801444c06546d253eea9?s=128&d=identicon&r=PG&f=1", "display_name": "elquesogrand", "link": "https://stackoverflow.com/users/10602563/elquesogrand"}, "edited": false, "score": 0, "creation_date": 1556811845, "post_id": 55943135, "comment_id": 98563715, "body": "Do you happen to know what this causing that? I tried checking to see if the owner = &quot;no owner &quot; was causing that and I took it out on both queries and I still go an error."}, {"owner": {"reputation": 187, "user_id": 10602563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6421d445aa54801444c06546d253eea9?s=128&d=identicon&r=PG&f=1", "display_name": "elquesogrand", "link": "https://stackoverflow.com/users/10602563/elquesogrand"}, "edited": false, "score": 0, "creation_date": 1556819580, "post_id": 55943135, "comment_id": 98567188, "body": "I figured that one out... Seems like the database was having issues with the data type text and I changed it to varchar instead. It is working!! Thank you"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 187, "user_id": 10602563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6421d445aa54801444c06546d253eea9?s=128&d=identicon&r=PG&f=1", "display_name": "elquesogrand", "link": "https://stackoverflow.com/users/10602563/elquesogrand"}, "edited": false, "score": 0, "creation_date": 1556826081, "post_id": 55943135, "comment_id": 98570121, "body": "NOTE: In LINQ, <code>Union</code> guarantees distinct answers - if you don&#39;t need that guarantee, you can use <code>Concat</code> instead which is the proper translation of a SQL <code>UNION</code>."}], "tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1556747422, "creation_date": 1556747422, "answer_id": 55943135, "question_id": 55938952, "link": "https://stackoverflow.com/questions/55938952/how-to-properly-create-a-union-from-two-tables-selecting-only-specifc-columns-wh/55943135#55943135", "title": "How to properly create a union from two tables selecting only specifc columns where one column is going to empty with some text", "body": "<p>Following my <a href=\"https://stackoverflow.com/questions/49245160/sql-to-linq-with-multiple-join-count-and-left-join/49245786#49245786\">SQL to LINQ Recipe</a>, first you do the two sub-queries from SQL:</p>\n\n<pre><code>var query1 = from items in db.tTasks\n             where items.hasOwner == 0\n             select new MainGridDto() {\n                 PK_Task = items.PK_Task,\n                 TaskName = items.TaskName,\n                 TaskRecipientType = null,\n                 Owner = \"no owner\",\n                 TaskDescription = items.TaskDescription,\n                 Enabled = items.Enabled,\n                 tTaskTeam = items.tTaskTeam,\n                 EmailBody = items.EmailBody,\n                 EmailSubject = items.EmailSubject\n             };\nvar query2 = from items in db.tTask_User\n             where items.tTaskRecipientType.pk_taskrecipienttype == 5 &amp;&amp; items.tTask.Enabled\n             select new MainGridDto() {\n                 PK_Task = items.FK_Task,\n                 TaskName = items.tTask.TaskName,\n                 TaskRecipientType = items.tTaskRecipientType,\n                 Owner = items.tOfficeUser.Login,\n                 TaskDescription = items.tTask.TaskDescription,\n                 Enabled = items.tTask.Enabled,\n                 tTaskTeam = items.tTask.tTaskTeam,\n                 EmailBody = items.tTask.EmailBody,\n                 EmailSubject = items.tTask.EmailSubject\n             };\n</code></pre>\n\n<p>Then you combine the sub-queries for the final answer:</p>\n\n<pre><code>var ans = query1.Union(query2);\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 10602563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6421d445aa54801444c06546d253eea9?s=128&d=identicon&r=PG&f=1", "display_name": "elquesogrand", "link": "https://stackoverflow.com/users/10602563/elquesogrand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1556747422, "creation_date": 1556725717, "last_edit_date": 1556732578, "question_id": 55938952, "link": "https://stackoverflow.com/questions/55938952/how-to-properly-create-a-union-from-two-tables-selecting-only-specifc-columns-wh", "title": "How to properly create a union from two tables selecting only specifc columns where one column is going to empty with some text", "body": "<p>I am trying to translate SQL code that I wrote with a union into linq code in C#, but I don't understand what I am doing wrong.</p>\n\n<p>I have two tables one is <code>tTask</code> and another one is <code>tTask_Users</code>.</p>\n\n<p>I tried joinning them together by using a model, because I thought it was giving me errors because the data didn't have same number amount of columns.</p>\n\n<p>Here is my SQL code:</p>\n\n<pre><code>SELECT PK_Task, TaskName, Enabled, FK_TaskTeam, 'No Owner' AS Owners\nFROM tTask\nWHERE hasOwner = 0 \n  UNION\nSELECT PK_Task, TaskName, Enabled, FK_TaskTeam, Login\nFROM tTask\nINNER JOIN tTask_User ON tTask.PK_Task = tTask_User.FK_Task\nINNER JOIN tOfficeUsers on tTask_User.FK_OfficeUser = tOfficeUsers.PK_OfficeUser\nWHERE FK_Taskrecipienttype = 5 AND Enabled = 1\n</code></pre>\n\n<p>Here is what I tried</p>\n\n<pre><code>private OfficeEntities db = new OfficeEntities();\n\n//GET: api/MainGrid\npublic IQueryable&lt;MainGridDto&gt; GetGridModelDtos()\n{\n    var query2 = db.tTask_User.Where(task =&gt;\n        task.tTaskRecipientType.pk_taskrecipienttype == 5\n    ); \n    var query = from items in query2                            \n                select new MainGridDto()\n                {\n                    PK_Task = items.FK_Task,\n                    TaskName = items.tTask.TaskName,\n                    TaskRecipientType = items.tTaskRecipientType,\n                    Owner = items.tOfficeUser.Login,\n                    TaskDescription = items.tTask.TaskDescription,\n                    Enabled = items.tTask.Enabled,\n                    tTaskTeam = items.tTask.tTaskTeam,\n                    EmailBody = items.tTask.EmailBody,\n                    EmailSubject = items.tTask.EmailSubject\n                };\n\n    var taskquery = db.tTasks.Where(items =&gt;\n        items.hasOwner == 0\n    );\n    var querytask = from items in taskquery\n                    select new MainGridDto()\n                    {\n                        PK_Task = items.PK_Task,\n                        TaskName = items.TaskName,\n                        TaskRecipientType = null,\n                        Owner = \"no owner\",\n                        TaskDescription = items.TaskDescription,\n                        Enabled = items.Enabled,\n                        tTaskTeam = items.tTaskTeam,\n                        EmailBody = items.EmailBody,\n                        EmailSubject = items.EmailSubject\n                    };\n\n    query2.Union(querytask);\n    query.Union(taskquery);\n}\n</code></pre>\n\n<p>Here are the errors I am getting:</p>\n\n<pre><code>Severity    Code    Description Project File    Line    Suppression State\nError   CS1929  'IQueryable&lt;tTask_User&gt;' does not contain a definition for 'Union' and the best extension method overload 'ParallelEnumerable.Union&lt;MainGridDto&gt;(ParallelQuery&lt;MainGridDto&gt;, IEnumerable&lt;MainGridDto&gt;)' requires a receiver of type 'ParallelQuery&lt;MainGridDto&gt;'    ReportingWebAPI \\source\\repos\\ReportingWebAPI\\ReportingWebAPI\\Controllers\\MainGridController.cs 56  Active\n\nSeverity    Code    Description Project File    Line    Suppression State\nError   CS1929  'IQueryable&lt;MainGridDto&gt;' does not contain a definition for 'Union' and the best extension method overload 'ParallelEnumerable.Union&lt;tTask&gt;(ParallelQuery&lt;tTask&gt;, IEnumerable&lt;tTask&gt;)' requires a receiver of type 'ParallelQuery&lt;tTask&gt;'   ReportingWebAPI \\repos\\ReportingWebAPI\\ReportingWebAPI\\Controllers\\MainGridController.cs    57  Active\n</code></pre>\n"}, {"tags": ["c#", "entity"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1556725818, "post_id": 55938869, "comment_id": 98530916, "body": "Each table in the database is a list object at the root of Entity.  So you have dbContext that has List&lt;BonusCard&gt;.  So you can create new table in database that is PromoCard with three columns Id, Crystal, and Price.  So you can simply manually add the new table into the database and then Refresh the mapping from database to c# which will create the new class PromoCard."}], "answers": [{"tags": [], "owner": {"reputation": 839, "user_id": 2512526, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7fGFO.png?s=128&g=1", "display_name": "alynurly", "link": "https://stackoverflow.com/users/2512526/alynurly"}, "is_accepted": true, "score": 0, "last_activity_date": 1556808132, "creation_date": 1556808132, "answer_id": 55954888, "question_id": 55938869, "link": "https://stackoverflow.com/questions/55938869/c-entity-foreign-key-to-list-array/55954888#55954888", "title": "C# Entity Foreign Key to List Array", "body": "<p>All I had to was change the getter of <code>PromoCard</code> property and put NotMapped Annotation on it</p>\n\n<pre><code>public class BonusCard\n{\n\n    [Key]\n    public int Id { get; set; }\n    public string User_id { get; set; }\n    [ForeignKey(\"User_id\")]\n    public virtual ApplicationUser User { get; set; }\n    public string Code { get; set; }\n    public DateTime CreationDate { get; set; } = (DateTime)SqlDateTime.MinValue;\n    public DateTime UsageDate { get; set; } = (DateTime)SqlDateTime.MinValue;\n    public int? Player_id { get; set; } = null;\n    [ForeignKey(\"Player_id\")]\n    public virtual Player Player { get; set; }\n    public int PromoCard_id { get; set; }\n    [NotMapped]\n    public  PromoCard PromoCard { get { return PromoCards[PromoCard_id]; } set { } }\n}\n</code></pre>\n"}], "owner": {"reputation": 839, "user_id": 2512526, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7fGFO.png?s=128&g=1", "display_name": "alynurly", "link": "https://stackoverflow.com/users/2512526/alynurly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 55954888, "answer_count": 1, "score": 1, "last_activity_date": 1556808132, "creation_date": 1556725404, "last_edit_date": 1556725685, "question_id": 55938869, "link": "https://stackoverflow.com/questions/55938869/c-entity-foreign-key-to-list-array", "title": "C# Entity Foreign Key to List Array", "body": "<p>I have a class <code>PromoCard</code> and <code>List&lt;PromoCard&gt; PromoCards</code>. Is it possible to map element of List array in Entity Model? </p>\n\n<p>This is my List: </p>\n\n<pre><code>public static List&lt;PromoCard&gt; PromoCards = new List&lt;PromoCard&gt;\n{\n    new PromoCard()\n    {\n        Id = 1,\n        Crystal = 4500,\n        Price = 100\n    },\n    new PromoCard()\n    {\n        Id = 2,\n        Crystal = 24000,\n        Price = 500\n    },\n    new PromoCard()\n    {\n        Id = 3,\n        Crystal = 50000,\n        Price = 1000\n    },\n};\n\npublic class PromoCard\n{\n    [Key]\n    public int Id { get; set; }\n    public int Crystal { get; set; }\n    public int Price { get; set; }\n}\n</code></pre>\n\n<p>And this is my model:</p>\n\n<pre><code>public class BonusCard\n{\n    [Key]\n    public int Id { get; set; }\n    public string User_id { get; set; }\n    [ForeignKey(\"User_id\")]\n    public virtual ApplicationUser User { get; set; }\n    public int PromoCard_id { get; set; }\n    // is there way to link \n    [ForeignKey(\"PromoCard_id\")]\n    public virtual PromoCard PromoCard { get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "dependency-injection", ".net-core", "autofac"], "answers": [{"tags": [], "owner": {"reputation": 1451, "user_id": 1635450, "user_type": "registered", "accept_rate": 5, "profile_image": "https://i.stack.imgur.com/b1Haj.jpg?s=128&g=1", "display_name": "Kok How Teh", "link": "https://stackoverflow.com/users/1635450/kok-how-teh"}, "is_accepted": true, "score": 0, "last_activity_date": 1556782631, "creation_date": 1556782631, "answer_id": 55947685, "question_id": 55938823, "link": "https://stackoverflow.com/questions/55938823/asp-net-core-controller-constructor-not-called-at-all-after-replacing-autofac-wi/55947685#55947685", "title": "asp.net core controller constructor not called at all after replacing autofac with dependencyinjection", "body": "<p>Found the root cause. Some of the interfaces and implementations are in a different projects of the solution and it uses \"internal\" access modifier. Change it to \"public\" and it works now!</p>\n"}], "owner": {"reputation": 1451, "user_id": 1635450, "user_type": "registered", "accept_rate": 5, "profile_image": "https://i.stack.imgur.com/b1Haj.jpg?s=128&g=1", "display_name": "Kok How Teh", "link": "https://stackoverflow.com/users/1635450/kok-how-teh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 55947685, "answer_count": 1, "score": 0, "last_activity_date": 1556782631, "creation_date": 1556725146, "question_id": 55938823, "link": "https://stackoverflow.com/questions/55938823/asp-net-core-controller-constructor-not-called-at-all-after-replacing-autofac-wi", "title": "asp.net core controller constructor not called at all after replacing autofac with dependencyinjection", "body": "<p>I have an ASP.Net Core 2.2 application which I originally used Autofac DI which works well. I wanted to try Microsoft.Extensions.DependencyInjection as I read that this is faster than Autofac. Therefore I replace the Autofac Module and type registration with IServiceCollection related functions. However, the result is that the API Controller constructor is never reached at all. No exception is thrown from the xUnit test either. Any advice and insight how to debug this is appreciated.</p>\n"}, {"tags": ["c#", "mailkit", "mimekit"], "comments": [{"owner": {"reputation": 28276, "user_id": 87117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f9e45dad82da556b0acabdbf3be8452?s=128&d=identicon&r=PG", "display_name": "jstedfast", "link": "https://stackoverflow.com/users/87117/jstedfast"}, "edited": false, "score": 0, "creation_date": 1556809848, "post_id": 55938750, "comment_id": 98562607, "body": "Looks like this could be a duplicate of <a href=\"https://stackoverflow.com/questions/47782412/referenced-system-net-http-assembly-is-not-copied-to-the-output-bin-release-cata\" title=\"referenced system net http assembly is not copied to the output bin release cata\">stackoverflow.com/questions/47782412/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 1369288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5c755c42c4e92de16b6ec8a34d63895?s=128&d=identicon&r=PG", "display_name": "Amit Panwar", "link": "https://stackoverflow.com/users/1369288/amit-panwar"}, "reply_to_user": {"reputation": 28276, "user_id": 87117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f9e45dad82da556b0acabdbf3be8452?s=128&d=identicon&r=PG", "display_name": "jstedfast", "link": "https://stackoverflow.com/users/87117/jstedfast"}, "edited": false, "score": 0, "creation_date": 1556811011, "post_id": 55938750, "comment_id": 98563253, "body": "it looks similar issue but originating source is different, I am using same build method in both cases with Mime or without Mime, but without mime system.net.http is coming along while in other one it&#39;s not."}], "answers": [{"tags": [], "owner": {"reputation": 28276, "user_id": 87117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f9e45dad82da556b0acabdbf3be8452?s=128&d=identicon&r=PG", "display_name": "jstedfast", "link": "https://stackoverflow.com/users/87117/jstedfast"}, "is_accepted": false, "score": 0, "last_activity_date": 1557852316, "creation_date": 1557852316, "answer_id": 56135060, "question_id": 55938750, "link": "https://stackoverflow.com/questions/55938750/using-mimekit-nuget-package-via-paket-in-common-project-removes-existing-syste/56135060#56135060", "title": "Using mimekit nuget package (via paket) in common project removes existing System.net.http.dll from other projects referencing common project", "body": "<p>Upgrade to MailKit 2.1.5.1 to fix this issue.</p>\n"}], "owner": {"reputation": 21, "user_id": 1369288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5c755c42c4e92de16b6ec8a34d63895?s=128&d=identicon&r=PG", "display_name": "Amit Panwar", "link": "https://stackoverflow.com/users/1369288/amit-panwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1557852316, "creation_date": 1556724780, "question_id": 55938750, "link": "https://stackoverflow.com/questions/55938750/using-mimekit-nuget-package-via-paket-in-common-project-removes-existing-syste", "title": "Using mimekit nuget package (via paket) in common project removes existing System.net.http.dll from other projects referencing common project", "body": "<p>I had added a new reference of mimekit library (added mimekit and mailkit via paket) in common project used by several other projects.</p>\n\n<p>To use mimekit I used below code:</p>\n\n<p>using MimeKit; namespace Project.Common.Email.Interfaces { public interface IMailKitBody { BodyBuilder BodyBuilder { get; set; } } }</p>\n\n<p>But while building the complete solution after adding above file, System.net.http.dll is getting removed from one of the dependent projects having reference of common project and another project which actually have a reference of System.net.http.dll.</p>\n\n<p>And as soon as I remove this file from Common then System.net.http.dll starts appearing in the dependent project.</p>\n\n<p>Could anyone help me out how this problem be resolved?</p>\n\n<p>I know Mimekit is dependent upon System.net.http.dll and it could conflict with existing one in dependent projects. I have already tried following things: -removing System.net.http.dll reference from common -Setting Copy Local property of DLL to True -Adding reference System.net.http.dll from package folder</p>\n\n<p>System.net.http.dll should be present in dependent project.</p>\n"}, {"tags": ["c#", ".net", "nunit", "moq"], "comments": [{"owner": {"reputation": 640, "user_id": 3935050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Zq5E.jpg?s=128&g=1", "display_name": "DetectivePikachu", "link": "https://stackoverflow.com/users/3935050/detectivepikachu"}, "edited": false, "score": 0, "creation_date": 1556726389, "post_id": 55938644, "comment_id": 98531184, "body": "Its a dupe but they said the answers to that one don&#39;t work for their requirements"}, {"owner": {"reputation": 657, "user_id": 2382921, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2f29836756e6e80c1db0b7b10a0664d4?s=128&d=identicon&r=PG", "display_name": "greenfeet", "link": "https://stackoverflow.com/users/2382921/greenfeet"}, "edited": false, "score": 0, "creation_date": 1556889350, "post_id": 55938644, "comment_id": 98591886, "body": "how come the SO UI doesn&#39;t show the link to the dupe? I&#39;m having the same issue with this kata"}, {"owner": {"reputation": 11590, "user_id": 54467, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/RnwJd.jpg?s=128&g=1", "display_name": "Kaveh Shahbazian", "link": "https://stackoverflow.com/users/54467/kaveh-shahbazian"}, "edited": false, "score": 0, "creation_date": 1557090278, "post_id": 55938644, "comment_id": 98639871, "body": "Just for the record, depending on time is called Temporal Coupling. It is possible - for example - to inject a function Now() DateTime. Now we can provide a specific time when testing. Reference: Keep it DRY, Shy, And tell the other guy <a href=\"http://media.pragprog.com/articles/may_04_oo1.pdf\" rel=\"nofollow noreferrer\">media.pragprog.com/articles/may_04_oo1.pdf</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "edited": false, "score": 0, "creation_date": 1556725789, "post_id": 55938887, "comment_id": 98530898, "body": "I also agree with this method. Refactoring to remove dependencies is a great way to make code more testable. Upvoted."}, {"owner": {"reputation": 640, "user_id": 3935050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Zq5E.jpg?s=128&g=1", "display_name": "DetectivePikachu", "link": "https://stackoverflow.com/users/3935050/detectivepikachu"}, "edited": false, "score": 1, "creation_date": 1556726236, "post_id": 55938887, "comment_id": 98531105, "body": "Unfortunately the requirements state that the function signature cannot be changed"}], "tags": [], "owner": {"reputation": 11, "user_id": 5569172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5d80729f705c0a9f801b759eae29d64?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Rader", "link": "https://stackoverflow.com/users/5569172/rob-rader"}, "is_accepted": false, "score": 1, "last_activity_date": 1556725484, "creation_date": 1556725484, "answer_id": 55938887, "question_id": 55938644, "link": "https://stackoverflow.com/questions/55938644/unit-testing-around-datetime-windows-in-nunit-moq/55938887#55938887", "title": "Unit testing around DateTime windows in NUnit &amp; Moq", "body": "<p>Just pass in a DateTime object when you call your greet method. \nExample</p>\n\n<pre><code>greeter.greet(DateTime.Now, \"steve\");\n</code></pre>\n\n<p>It will remove your dependency on DateTime.Now in your time method. Then you can easily unit test it.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11437792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uuhXC.png?s=128&g=1", "display_name": "leflon", "link": "https://stackoverflow.com/users/11437792/leflon"}, "is_accepted": false, "score": 0, "last_activity_date": 1556726850, "creation_date": 1556726850, "answer_id": 55939179, "question_id": 55938644, "link": "https://stackoverflow.com/questions/55938644/unit-testing-around-datetime-windows-in-nunit-moq/55939179#55939179", "title": "Unit testing around DateTime windows in NUnit &amp; Moq", "body": "<p>You should get the call to the DateTime class out of your code. Use an interface here and provide the implementation from the outside.</p>\n\n<pre><code>public interface IDateTime\n{\n    DateTime Now();\n}\n\npublic class Foo\n{\n    IDateTime dt;\n\n    public DateTime GetActualTime\n    {\n        get\n        {\n            return dt.Now();\n        }\n    }\n\n    public Foo(IDateTime dt)\n    {\n        this.dt = dt;\n    }\n\n    public string Bar()\n    {\n        return this.GetActualTime().ToString();\n   }\n}\n</code></pre>\n\n<p>For testing, so not using Moq, we implement a specific implementation.</p>\n\n<pre><code>public class DateTimeTest : IDateTime\n{\n    DateTime dt;\n    public DateTimeTest(DateTime testTime)\n    {\n        this.dt = testTime;\n    }\n\n    public DateTime Now()\n    {\n        return dt;\n    }\n}\n</code></pre>\n\n<p>and use it in the test</p>\n\n<pre><code>// Set your test time\nDateTimeTest testTime = new DateTime(2019, 5, 1, 18, 04, 30);\n\n// Create your sut\nfoo sut = new Foo(testTime);\n\n// Call the function using the defined time\nvar result = sut.Bar();\n</code></pre>\n\n<p>In the production code, you then need an implementation which uses the .NET DateTime object.</p>\n\n<p>See also:\n<a href=\"https://stackoverflow.com/questions/33416220/datetime-interface-to-be-used-for-unit-testing\">DateTime Interface to be used for unit testing</a></p>\n"}], "owner": {"reputation": 688, "user_id": 10802369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCJuI.jpg?s=128&g=1", "display_name": "TheBatman", "link": "https://stackoverflow.com/users/10802369/thebatman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "closed_date": 1556726777, "answer_count": 2, "score": 1, "last_activity_date": 1556726850, "creation_date": 1556724330, "question_id": 55938644, "link": "https://stackoverflow.com/questions/55938644/unit-testing-around-datetime-windows-in-nunit-moq", "closed_reason": "Duplicate", "title": "Unit testing around DateTime windows in NUnit &amp; Moq", "body": "<p>I am following along with the TDD <a href=\"https://github.com/wix/tdd-katas\" rel=\"nofollow noreferrer\">Kata 'Greeter'</a>, wherein I have to create a class with a method which returns a different output depending on the time of day it was called. So I have this class Greeter</p>\n\n<pre><code>public class Greeter : Greeter\n{\n    public DateTime time\n    {\n        get\n        {\n            return DateTime.Now;\n        }\n    }\n\n    public Greeter() { }\n\n    public string greet(string name)\n    {\n        string greeting = \"Hello \";\n\n        name = name.Substring(0, 1).ToUpper() + name.Substring(1);\n\n        if(name.Length &gt; 36)\n        {\n            name = name.Substring(0, 35);\n        }\n\n        if(time.Hour &gt;= 6 &amp;&amp; time.Hour &lt;= 12)\n        {\n            greeting = \"Good morning\";\n        } else if (time.Hour &gt;= 18 &amp;&amp; time.Hour &lt;= 22)\n        {\n            greeting = \"Good evening\";\n        } else if (time.Hour &gt;=22 || time.Hour &lt; 6)\n        {\n            greeting = \"Good night\";\n        }\n\n        return $\"{greeting} {name}\";\n   }\n\n}\n</code></pre>\n\n<p><code>Greeter</code> implements <code>IGreeter</code></p>\n\n<pre><code>    public interface IGreeter\n    {\n        DateTime time\n        {\n            get;\n        }\n        string greet(string name);\n    }\n</code></pre>\n\n<p>Now on the unit testing side of things, I have to test given different times of day to see the response: <code>Good morning ~</code> in the AM, <code>Good evening ~</code> in the evening, <code>Good night ~</code> at night, and <code>Hello ~</code> in the default case. </p>\n\n<p>So my question is, how do I design these unit tests with these time constraints in mind without too much modifying of the class? From what I've been told, changing the class just to enable unit tests is considered code smell. Is there a way I can achieve this using NUnit and Moq? The best solution I've seen so far is to DI a time provider in the constructor, but I'd rather not have to supply the generic time provider in every instantiation just to enable the tests. </p>\n\n<p>Any guidance would be greatly appreciated.   </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1556724719, "post_id": 55938626, "comment_id": 98530385, "body": "Columns A, and B are the same."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556725652, "post_id": 55938626, "comment_id": 98530819, "body": "Does your CSV have an Header (the first row defines the Fields/Columns names)? If not, then add them. Or create first the DataTable&#39;s Columns in code. You could just add a progressive <code>Column1</code>, <code>Column2</code> etc.."}, {"owner": {"reputation": 177, "user_id": 5763765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3tzXL.jpg?s=128&g=1", "display_name": "M. Ruiz", "link": "https://stackoverflow.com/users/5763765/m-ruiz"}, "edited": false, "score": 0, "creation_date": 1556742035, "post_id": 55938626, "comment_id": 98537679, "body": "Looks like your CSV doesn&#39;t have a headers row. Can you edit your post to include what your CSV file looks like in Notepad?"}], "answers": [{"tags": [], "owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "is_accepted": false, "score": 3, "last_activity_date": 1556724779, "creation_date": 1556724779, "answer_id": 55938749, "question_id": 55938626, "link": "https://stackoverflow.com/questions/55938626/column-name-already-exist-csv-c-application/55938749#55938749", "title": "Column name already exist csv C# application", "body": "<p>Columns in a <code>DataTable</code> cannot have the same name.<br>\nYou're getting the names of your columns from the first line in your file.<br>\nTherefore, you're trying to create 4 columns named \"vr\", \"vr\", \"localhost\", \"1521\", and \"orcl.168.0.7\".  </p>\n\n<p>You can't have both column 1 and column 2 (A and B from your screenshot) be named \"vr\".<br>\nYou need to add an actual header row with unique values in your CSV file, change one of those values (although they seem like data..), or give them explicit names that aren't sourced from the file itself.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11437064"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1556724813, "creation_date": 1556724263, "last_edit_date": 1556724813, "question_id": 55938626, "link": "https://stackoverflow.com/questions/55938626/column-name-already-exist-csv-c-application", "title": "Column name already exist csv C# application", "body": "<p>I have <code>Datagrid</code> view where i need to fetch data from csv file</p>\n\n<p>CSV file image : \n<a href=\"https://i.stack.imgur.com/Ns7WJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ns7WJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Showing error</p>\n\n<blockquote>\n  <p>Column name already exist </p>\n</blockquote>\n\n<p>Please can any one write the working code for me </p>\n\n<p>Complete Code :</p>\n\n<pre><code>Form form1 = new Form();\nDataGridView dataGridView1 = new DataGridView();\ndataGridView1.Dock = DockStyle.Fill;\n\n//Read the data from text file\nstring[] textData = System.IO.File.ReadAllLines(\"C:\\\\Users\\\\vikas\\\\Desktop\\\\fetch.csv\");\nstring[] headers = textData[0].Split(',');\n\n//Create and populate DataTable\nDataTable dataTable1 = new DataTable();\nforeach (string header in headers)\ndataTable1.Columns.Add(header, typeof(string), null);\nfor (int i = 1; i &lt; textData.Length; i++)\ndataTable1.Rows.Add(textData[i].Split(','));\n\n//Set the DataSource of DataGridView to the DataTable\ndataGridView1.DataSource = dataTable1;\nform1.Controls.Add(dataGridView1);\nform1.ShowDialog();\n</code></pre>\n"}]