[{"tags": ["c#", ".net", "dotnet-httpclient", "sha256", "webdav"], "comments": [{"owner": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "edited": false, "score": 1, "creation_date": 1572479695, "post_id": 58635099, "comment_id": 103577132, "body": "What if you check basic stuff like byte size? e.g. uploaded/downloaded? it may mean your WebDAV server manipulates the file somehow."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 2, "creation_date": 1572479816, "post_id": 58635099, "comment_id": 103577152, "body": "It is <i>very unlikely</i> that problem has anything to do with SHA256. Could you please clarify if you claim that identical files/byte arrays produce different SHA256 hashes on different machines OR code corrupts file while upload/download?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1572479886, "post_id": 58635099, "comment_id": 103577170, "body": "First try without the upload/download just to see if it matches.  Are you getting any exceptions.  If the hash isn&#39;t valid you should be getting an exception.  So my guess is you are generating a new hash instead of using old hash.  A bad hash would give an exception."}], "answers": [{"comments": [{"owner": {"reputation": 752, "user_id": 2713582, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001045249641/picture?type=large", "display_name": "Eric Wu", "link": "https://stackoverflow.com/users/2713582/eric-wu"}, "edited": false, "score": 0, "creation_date": 1572542725, "post_id": 58648194, "comment_id": 103601771, "body": "Nice to hear that you found the answer yourself. Stack Overflow won&#39;t punish you for that, so you should consider editing  your answer so it can help others who eventually run into the same problem."}], "tags": [], "owner": {"reputation": 21, "user_id": 12166409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52c699c68759a23bfb546764ba42489?s=128&d=identicon&r=PG&f=1", "display_name": "redcabbage", "link": "https://stackoverflow.com/users/12166409/redcabbage"}, "is_accepted": false, "score": 0, "last_activity_date": 1572541544, "creation_date": 1572541544, "answer_id": 58648194, "question_id": 58635099, "link": "https://stackoverflow.com/questions/58635099/why-does-sha256-hash-not-match-after-uploading-and-downloading-file/58648194#58648194", "title": "Why does SHA256 hash not match after uploading and downloading file?", "body": "<p>Sorry y'all, you can delete this question because I found the problem/answer but am still confused why this is occurring.</p>\n\n<p>Turns out webdav was adding extra headers to my file for some reason, see: <a href=\"https://stackoverflow.com/questions/47541676/header-info-being-written-into-file-when-put-ing-to-a-webdav-server\">Header info being written into file when PUT-ing to a Webdav server</a></p>\n\n<p>Strangest thing. So I encountered this post. <a href=\"https://blogs.msdn.microsoft.com/robert_mcmurray/2011/10/18/sending-webdav-requests-in-net-revisited/\" rel=\"nofollow noreferrer\">https://blogs.msdn.microsoft.com/robert_mcmurray/2011/10/18/sending-webdav-requests-in-net-revisited/</a></p>\n\n<p>Rewrote my code to be</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static async Task&lt;HttpResponseMessage&gt; Upload(string path, string name, FileStream file) {\n    var method = new HttpMethod(@\"PUT\");\n    var message = new HttpRequestMessage(method, path/name) {\n        Content = new StreamContent(file)\n    };\n\n    return await HttpClient.SendAsync(message);\n}\n</code></pre>\n\n<p>And it works... But I'm wonder how the two methods of uploading differ.</p>\n"}], "owner": {"reputation": 21, "user_id": 12166409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52c699c68759a23bfb546764ba42489?s=128&d=identicon&r=PG&f=1", "display_name": "redcabbage", "link": "https://stackoverflow.com/users/12166409/redcabbage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1572, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1572541544, "creation_date": 1572479094, "last_edit_date": 1572481038, "question_id": 58635099, "link": "https://stackoverflow.com/questions/58635099/why-does-sha256-hash-not-match-after-uploading-and-downloading-file", "title": "Why does SHA256 hash not match after uploading and downloading file?", "body": "<p>I'm creating a feature for an app to store a file on a webserver while maintaining data about the file on SQL Server. I generate a SHA256 hash and store it as BINARY(32) and then upload the file to a WebDav server using HTTPClient. Later when I want to view the file in the app, I do a GET request, download the file, and check the SHA256 hash with the stored hash. It doesn't match :( Why?</p>\n\n<p>I've tried checking the hash on the server and the local machine and it doesn't match either. I've done a ton of research and made sure I wasn't hashing the filename (you can see the code below).</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static byte[] GetSHA256(string path) {\n    using (var stream = File.OpenRead(path)) {\n        using (var sha256 = SHA256.Create()) {\n            return sha256.ComputeHash(stream);\n        }\n   }\n}\n</code></pre>\n\n<p>To Upload a file:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public async Task&lt;bool&gt; Upload(string path, string name) {\n    var storedHash = GetSHA256(path/name);\n    //Store this hash in a database, omitted for brevity\n    using (var file = File.OpenRead(path)) {\n        var content = new MultipartFormDataContent();\n        content.Headers.ContentType.Media = \"multipart/form-data\";\n        content.Add(new StreamContent(file));\n        var result = await HttpClient.PutAsync(uri, content);\n  }\n}\n</code></pre>\n\n<p>To download:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var result = await HttpClient.GetAsync(uri);\nusing (var stream = await result.Content.ReadAsStreamAsync()) {\n    var fileInfo = new FileInfo(\"TestFile\");\n    using(var fileStream = fileInfo.Open(FileMode.CreateNew, FileAccess.ReadWrite, FileShare.Delete)) {\n        await stream.CopyToAsync(fileStream);\n    }\n}\nvar downloadedFileHash = GetSHA256(\"TestFile\");\n\n//check if downloadedFileHash matches the storedHash by comparing byte[] length and content with for loop.\n</code></pre>\n\n<p>I expect that the hash would match. I know I'm missing a few <code>using</code> statements and other code but I omitted a bunch for brevity.</p>\n\n<p>EDIT: The hashes for the downloaded files stay the same so the problem isn't downloading but uploading. I uploaded the same files multiple times but get back different hashes for each one. But the different hashes stay constant.</p>\n"}, {"tags": ["c#", "visual-studio", "asp.net-core", "odata", "simple.odata.client"], "comments": [{"owner": {"reputation": 1, "user_id": 12300264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6c9edd1ee905269781df691c2d667c?s=128&d=identicon&r=PG&f=1", "display_name": "Banrow2819", "link": "https://stackoverflow.com/users/12300264/banrow2819"}, "edited": false, "score": 0, "creation_date": 1572625081, "post_id": 58635052, "comment_id": 103628107, "body": "I thought I&#39;d seen every issue in StackOverflow on oData. I found this issue that may be related and I am reviewing it...  [link]<a href=\"https://stackoverflow.com/questions/53335235/consume-odata-service-from-visual-studio-2017?rq=1\" title=\"consume odata service from visual studio 2017\">stackoverflow.com/questions/53335235/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12300264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6c9edd1ee905269781df691c2d667c?s=128&d=identicon&r=PG&f=1", "display_name": "Banrow2819", "link": "https://stackoverflow.com/users/12300264/banrow2819"}, "is_accepted": true, "score": 0, "last_activity_date": 1575676233, "creation_date": 1575676233, "answer_id": 59221741, "question_id": 58635052, "link": "https://stackoverflow.com/questions/58635052/simple-odata-client-stops-at-looking-for-metadata/59221741#59221741", "title": "Simple.odata.client stops at looking for #metadata", "body": "<p>I found the solution.\nAnd it's not from the oData request itself. It's because this code requires the call TO this code to also be an await.\nI had been using the following</p>\n\n<pre><code>await restIngest();\n</code></pre>\n\n<p>And fixed the issue by changing it to</p>\n\n<pre><code>restIngest.Wait();\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12300264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b6c9edd1ee905269781df691c2d667c?s=128&d=identicon&r=PG&f=1", "display_name": "Banrow2819", "link": "https://stackoverflow.com/users/12300264/banrow2819"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 59221741, "answer_count": 1, "score": 0, "last_activity_date": 1575676233, "creation_date": 1572478712, "last_edit_date": 1572623618, "question_id": 58635052, "link": "https://stackoverflow.com/questions/58635052/simple-odata-client-stops-at-looking-for-metadata", "title": "Simple.odata.client stops at looking for #metadata", "body": "<p>I'm building a client to return data from a V4 oData service. The following code works great in LinqPad v5 and v6. But implementing it in Visual Studio ONLY seems to create the GET request for the #metadata, and then ends.</p>\n\n<p>I'm primarily creating this on Windows 10, but I've also tried it in VS for Mac. It runs but also only creates the GET for the #metadata.</p>\n\n<p>I've created new, clean projects. I've gone back to using the simplest request examples from the frameworks GIT site. I've tried using new projects using .Net Core (2.2 and 3.0), .Net Standard and .Net Framework.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var credentials = new NetworkCredential(\"username\", \"password\");\nvar URL = new Uri(\"http://servername:60080/#########.odata/\");\nvar settings = new ODataClientSettings(URL, credentials)\n{\n   IgnoreResourceNotFoundException = true,\n   OnTrace = (x, y) =&gt; Console.WriteLine(string.Format(x, y)),\n   PayloadFormat = ODataPayloadFormat.Json,\n   IgnoreUnmappedProperties = true,\n   RenewHttpConnection = true,\n   TraceFilter = ODataTrace.All,\n   PreferredUpdateMethod = ODataUpdateMethod.Patch\n};\n\nvar client = new ODataClient(settings);\nvar annotations = new ODataFeedAnnotations();\n\nIEnumerable&lt;APPLICATIONS_RAW&gt; packages = await client\n       .For&lt;APPLICATIONS_RAW&gt;()\n       .Filter(f =&gt; f.TIMEFRAME &gt;= convertedStartOffset)\n       .Filter(f =&gt; f.TIMEFRAME &lt; convertedEndOffset)\n       .FindEntriesAsync(annotations);\n\nwhile (annotations.NextPageLink != null)\n{\n    countPages++;\n    IEnumerable&lt;APPLICATIONS_RAW&gt; packages2 = await client\n       .For&lt;APPLICATIONS_RAW&gt;()\n       .FindEntriesAsync(annotations.NextPageLink, annotations);\n\n     packages = packages.Concat(packages2);\n}\n</code></pre>\n\n<p>The code typically returns with the following (followed by the data).</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>GET request: http://servername:60080/#####.odata/$metadata\u2028Request\ncompleted: OK\u2028\nGET request: http://servername:60080/#####.odata/APPLICATIONS_RAW?$filter=...\n</code></pre>\n\n<p>In Visual Studio all I get is...</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>GET request: http://servername:60080/#####.odata/$metadata\u2028\n</code></pre>\n\n<p>Then it exits naturally. No errors.\nI feel I'm missing something pretty basic but I just can't find it. If someone has some pointers on this it would be awesome.</p>\n"}, {"tags": ["c#", "asp.net-core-mvc", "static-files"], "comments": [{"owner": {"reputation": 171, "user_id": 11736524, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-naZt7sKmwZc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfVSUPWaPfMFTkqNV2g6_rNb4by6A/photo.jpg?sz=128", "display_name": "vvilin", "link": "https://stackoverflow.com/users/11736524/vvilin"}, "edited": false, "score": 0, "creation_date": 1572478772, "post_id": 58635029, "comment_id": 103576941, "body": "By any chance, have you tried to clear your cache?"}, {"owner": {"reputation": 3, "user_id": 12300281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c0d5886b6a2758919077f5877ac870a?s=128&d=identicon&r=PG&f=1", "display_name": "Agata", "link": "https://stackoverflow.com/users/12300281/agata"}, "reply_to_user": {"reputation": 171, "user_id": 11736524, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-naZt7sKmwZc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfVSUPWaPfMFTkqNV2g6_rNb4by6A/photo.jpg?sz=128", "display_name": "vvilin", "link": "https://stackoverflow.com/users/11736524/vvilin"}, "edited": false, "score": 0, "creation_date": 1572479363, "post_id": 58635029, "comment_id": 103577075, "body": "@vvilin I haven&#39;t done this before. I&#39;ve just removed ComponentModelCache and this didn&#39;t work. Should I clear something more?"}, {"owner": {"reputation": 171, "user_id": 11736524, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-naZt7sKmwZc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfVSUPWaPfMFTkqNV2g6_rNb4by6A/photo.jpg?sz=128", "display_name": "vvilin", "link": "https://stackoverflow.com/users/11736524/vvilin"}, "edited": false, "score": 0, "creation_date": 1572479423, "post_id": 58635029, "comment_id": 103577093, "body": "Usually in your browser you can refresh the page without cache using <code>CTRL-F5</code>"}, {"owner": {"reputation": 3, "user_id": 12300281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c0d5886b6a2758919077f5877ac870a?s=128&d=identicon&r=PG&f=1", "display_name": "Agata", "link": "https://stackoverflow.com/users/12300281/agata"}, "reply_to_user": {"reputation": 171, "user_id": 11736524, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-naZt7sKmwZc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfVSUPWaPfMFTkqNV2g6_rNb4by6A/photo.jpg?sz=128", "display_name": "vvilin", "link": "https://stackoverflow.com/users/11736524/vvilin"}, "edited": false, "score": 0, "creation_date": 1572479589, "post_id": 58635029, "comment_id": 103577118, "body": "Oh yes, I did this before. Didn&#39;t worked."}], "owner": {"reputation": 3, "user_id": 12300281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c0d5886b6a2758919077f5877ac870a?s=128&d=identicon&r=PG&f=1", "display_name": "Agata", "link": "https://stackoverflow.com/users/12300281/agata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572478804, "creation_date": 1572478511, "last_edit_date": 1572478804, "question_id": 58635029, "link": "https://stackoverflow.com/questions/58635029/how-to-remove-old-static-files-in-asp-net-core", "title": "How to remove old static files in ASP.net Core", "body": "<p>I added some audio files into wwwroot/audio, used them dynamically in different views, then I wanted to make some changes. After removing the first file (UserAudio001.wav) and renaming another file to UserAudio001.wav, after debugging in application there is still the older version of the audio. I removed all of the files and debugged the app, the UserAudio001.wav was still playing. \nIt says that the source of the file is audio/UserAudio001.wav, it is possible to play sound from the url localhost:44329/audio/UserAudio001.wav, but from the Solution Explorer the audio folder is empty. The localhost:44329/audio url also says that there is nothing in audio folder. Cleaning the solution didn't work. Where can I find these older static files? I can't replace them with the new ones.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 1, "creation_date": 1572478642, "post_id": 58635023, "comment_id": 103576908, "body": "Is this not just projection of <code>Diff = Price - TradePrice</code>? Where&#39;s the grouping here?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1572478743, "post_id": 58635023, "comment_id": 103576934, "body": "Use a JOIN on card1.name equals card2.name"}, {"owner": {"reputation": 430, "user_id": 8260167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c96d4326074daace4cf1303c49e121?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron. S", "link": "https://stackoverflow.com/users/8260167/aaron-s"}, "edited": false, "score": 0, "creation_date": 1572478816, "post_id": 58635023, "comment_id": 103576953, "body": "yes that is exactly it BUT i over simplified the original list containing data.  essentially the list will have a Site pair, now i need to find the diff between that matching pair"}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 0, "creation_date": 1572478930, "post_id": 58635023, "comment_id": 103576973, "body": "@Aaron.S Can you provide improved example input and output data?"}, {"owner": {"reputation": 430, "user_id": 8260167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c96d4326074daace4cf1303c49e121?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron. S", "link": "https://stackoverflow.com/users/8260167/aaron-s"}, "reply_to_user": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 0, "creation_date": 1572479422, "post_id": 58635023, "comment_id": 103577091, "body": "@cdhowie i added more example date to the list of cards"}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1572480139, "post_id": 58635023, "comment_id": 103577229, "body": "Are you sure that you want two <code>card1</code> entries in the results? Why not having a single <code>card1</code> result entry, combining info from both sites?"}, {"owner": {"reputation": 430, "user_id": 8260167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c96d4326074daace4cf1303c49e121?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron. S", "link": "https://stackoverflow.com/users/8260167/aaron-s"}, "reply_to_user": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1572480276, "post_id": 58635023, "comment_id": 103577265, "body": "@Theodor Zoulias yes that is exactly what i want ONE card1 result.  Sorry i got type happy and made a typeo with my example"}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1572480411, "post_id": 58635023, "comment_id": 103577296, "body": "What should happen if the source has more than two <code>card1</code> entries? Is this a possibility?"}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1572480534, "post_id": 58635023, "comment_id": 103577323, "body": "How do you choose which TradePrice from card1 or card2?"}, {"owner": {"reputation": 430, "user_id": 8260167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c96d4326074daace4cf1303c49e121?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron. S", "link": "https://stackoverflow.com/users/8260167/aaron-s"}, "reply_to_user": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1572480832, "post_id": 58635023, "comment_id": 103577396, "body": "@TheodorZoulias YES it is possible that more than one card will exist BUT there are other conditions i have removed from this over simplified example, it will contain one card from each site and they will match"}, {"owner": {"reputation": 430, "user_id": 8260167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c96d4326074daace4cf1303c49e121?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron. S", "link": "https://stackoverflow.com/users/8260167/aaron-s"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1572480879, "post_id": 58635023, "comment_id": 103577402, "body": "@RobertHarvey a master SITE will be chosen for comparison and only TWO sites can be compared at once"}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1572485213, "post_id": 58635023, "comment_id": 103578271, "body": "Could you update your question correcting the expected result in case of two cards with same name, and also provide an example of the expected result in case of three cards with same name?"}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1572499802, "post_id": 58635023, "comment_id": 103581062, "body": "Another case that may warrant an example of expected result, is the case of a card name with a single representation in the source list!"}], "answers": [{"tags": [], "owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "is_accepted": false, "score": 2, "last_activity_date": 1572568270, "last_edit_date": 1572568270, "creation_date": 1572482136, "answer_id": 58635446, "question_id": 58635023, "link": "https://stackoverflow.com/questions/58635023/c-linq-potentially-grouping-and-differences/58635446#58635446", "title": "c# linq &#39;potentially&#39; grouping and differences", "body": "<p>I'll take my lumps with this one...</p>\n\n<p>You can group by the card name which will give you a collection of groups of two cards. From there you can select down into a <code>DiffCard</code>, for example. Like so:</p>\n\n<pre><code>// Usage\nvar answer = cards\n    .GroupBy(c =&gt; c.Name)\n    .SelectMany(ToDiffs)\n    .ToList(); // A list of DiffCards\n\n// or maybe?\nvar answer =\n    from card in cards\n    group card by card.Name into siteGroup\n    let o = siteGroup.ElementAt(0)\n    let t = siteGroup.ElementAt(1)\n    select new List&lt;DiffCard&gt; { new DiffCard(o, t), new DiffCard(t, o) } into diffs\n    from diff in diffs\n    select diff;\n\npublic class DiffCard\n{\n    public string Name { get; set; }\n    public decimal TradePrice { get; set; }\n    public decimal Price { get; set; }\n    public decimal Diff =&gt; Math.Abs(TradePrice - Price);\n\n    public DiffCard(Card one, Card two)\n    {\n        Name = one.Name;\n        TradePrice = one.TradePrice;\n        Price = two.Price;\n    }\n}\n\n\nIEnumerable&lt;DiffCard&gt; ToDiffs(IGrouping&lt;string, Card&gt; group)\n{\n    var one = group.ElementAt(0);\n    var two = group.ElementAt(1);\n    var diffs = new List&lt;DiffCard&gt;\n    {\n        new DiffCard(one, two),\n        new DiffCard(two, one)\n    };\n    foreach (var diff in diffs)\n    {\n        yield return diff;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 430, "user_id": 8260167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c96d4326074daace4cf1303c49e121?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron. S", "link": "https://stackoverflow.com/users/8260167/aaron-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572568270, "creation_date": 1572478464, "last_edit_date": 1572493885, "question_id": 58635023, "link": "https://stackoverflow.com/questions/58635023/c-linq-potentially-grouping-and-differences", "title": "c# linq &#39;potentially&#39; grouping and differences", "body": "<p>i am not sure how to tackle this problem.  i have a class, below, to represent the data being pulled from two websites.  I want to compare the difference between 'Site1 TradePrice to Site2 Price' AND 'Site2 TradePrice to Site1 Price'</p>\n\n<pre><code>public class Card\n{\n  public string Name {get;set;}\n  public string Site {get;set;}\n  public decimal TradePrice {get;set;}\n  public decimal Price {get;set;}\n}\n</code></pre>\n\n<p>Here is an example list which contains the same 'card' from two different 'sites'.</p>\n\n<pre><code>List&lt;Card&gt; cards = new List&lt;Card)\n{\n  new Card() { Name=\"card1\", Site=\"site1\", TradePrice=8, Price=12 },\n  new Card() { Name=\"card1\", Site=\"site2\", TradePrice=5, Price=10 },\n  new Card() { Name=\"card2\", Site=\"site1\", TradePrice=13, Price=16 },\n  new Card() { Name=\"card2\", Site=\"site2\", TradePrice=4, Price=5 },\n  new Card() { Name=\"card3\", Site=\"site1\", TradePrice=2, Price=4 },\n  new Card() { Name=\"card3\", Site=\"site2\", TradePrice=3, Price=6 }\n}\n</code></pre>\n\n<p>The new list returned would show something like this</p>\n\n<pre><code>{ Name='card1', TradePrice=8, Price=10, Diff=2 } //site1 to site2\n</code></pre>\n\n<p>Is this possible with linq?  i am leaning towards Grouping BUT not sure how to accurately make this happen.  Suggestions?</p>\n"}, {"tags": ["c#", "wpf", "windows", "winapi", "titlebar"], "comments": [{"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1572479114, "post_id": 58634948, "comment_id": 103577017, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1283006/changing-wpf-title-bar-background-color\">Changing WPF title bar background color</a>.  Also you can use tools like <i>MahApps Metro</i>"}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1572479444, "post_id": 58634948, "comment_id": 103577095, "body": "It&#39;s all undocumented so far."}, {"owner": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "edited": false, "score": 0, "creation_date": 1572480919, "post_id": 58634948, "comment_id": 103577412, "body": "I have the answer.... too bad it&#39;s been closed as dupe.  I suspect the duped questions don&#39;t answer what the OP is looking for."}, {"owner": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 1, "creation_date": 1572481269, "post_id": 58634948, "comment_id": 103577475, "body": "@JonathanPotter - there&#39;s sample code on Microsoft&#39;s GitHub account for this.  See this link: <a href=\"https://github.com/microsoft/terminal/blob/master/src/interactivity/win32/windowtheme.cpp\" rel=\"nofollow noreferrer\">github.com/microsoft/terminal/blob/master/src/interactivity/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "edited": false, "score": 1, "creation_date": 1572481305, "post_id": 58634948, "comment_id": 103577485, "body": "It&#39;s DwmSetWindowAttribute with a value of &quot;19&quot; and a BOOL value parameter."}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "reply_to_user": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "edited": false, "score": 1, "creation_date": 1572481547, "post_id": 58634948, "comment_id": 103577528, "body": "@selbie I would post your answer on that other question if you think it adds to the information already available there. This question is not significantly different."}, {"owner": {"reputation": 183, "user_id": 4579935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2973e432ced6e9a4650becee48e58ebf?s=128&d=identicon&r=PG&f=1", "display_name": "Igor", "link": "https://stackoverflow.com/users/4579935/igor"}, "edited": false, "score": 0, "creation_date": 1591007853, "post_id": 58634948, "comment_id": 109884495, "body": "Important update. Since Windows 10 May 2020 you need to pass a magic constant &quot;20&quot; instead of &quot;19&quot; to DwmSetWindowAttribute() as 2nd parameter to set a Dark mode for window title in your app."}], "owner": {"reputation": 67, "user_id": 4203189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FLOfF.jpg?s=128&g=1", "display_name": "DVSProductions", "link": "https://stackoverflow.com/users/4203189/dvsproductions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1555, "favorite_count": 0, "closed_date": 1572479450, "answer_count": 0, "score": 4, "last_activity_date": 1572483831, "creation_date": 1572477910, "last_edit_date": 1572483831, "question_id": 58634948, "link": "https://stackoverflow.com/questions/58634948/is-there-a-way-of-changing-the-titlebar-color-just-like-the-new-dark-explorer", "closed_reason": "Duplicate", "title": "Is there a way of changing the TitleBar Color just like the new dark explorer?", "body": "<p>Since the 2018 October updates windows 10 developers are blessed with a dark explorer Theme. This seems like it is not a borderless window with some colored elements slapped on top, but that this is actually a dark DWM powered title bar. So, does anyone know of a API that allows your own applications to apply this to you own windows?</p>\n\n<p>These are a real eye sore when developing dark themed applications:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yqpfv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yqpfv.png\" alt=\"enter image description here\"></a></p>\n\n<p>Just to be clear. I don't want to reimplement the buttons myself. There is no implementation that perfectly mimics the native behavior of a title bar. Not even applications like Word, that are from Microsoft themselves, get the implementation correct. As an example, when a native window hides it's Minimize etc. buttons when you hover over the preview in the task bar.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-ajax"], "comments": [{"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 0, "creation_date": 1572477887, "post_id": 58634829, "comment_id": 103576736, "body": "It seems you may be over complicating this. Why use the same endpoint to <code>get</code> the question as the one you <code>post</code> the answer to?"}, {"owner": {"reputation": 192, "user_id": 461169, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/21d3ef038576157b0bbfb8a831d3c91c?s=128&d=identicon&r=PG", "display_name": "Zein Sleiman", "link": "https://stackoverflow.com/users/461169/zein-sleiman"}, "reply_to_user": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 0, "creation_date": 1572478213, "post_id": 58634829, "comment_id": 103576815, "body": "As @ChiefTwoPencils said, you are calling the same code twice. If you still want to use GET for the answer just make sure you change the route. For submitting answers it should be a post.  /getQuestion and /answerQuestion."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 3588808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bce5a10e57057c97b9d02bee15e80a49?s=128&d=identicon&r=PG&f=1", "display_name": "agent_smith1984", "link": "https://stackoverflow.com/users/3588808/agent-smith1984"}, "edited": false, "score": 0, "creation_date": 1572641245, "post_id": 58635136, "comment_id": 103634488, "body": "Thank you for this. I have had it as two separate methods to handle the get question and get answer. I will experiment with each of your suggestions because I&#39;m still in the process of learning C# and AJAX, so sometimes how I think it should work, doesn&#39;t work, or I get errors and don&#39;t understand why just yet. Thank you for your time, I&#39;ll post up the code when I get it all working so others may benefit."}], "tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": false, "score": 0, "last_activity_date": 1572479382, "creation_date": 1572479382, "answer_id": 58635136, "question_id": 58634829, "link": "https://stackoverflow.com/questions/58634829/c-asp-net-ajax-random-number-changes-but-only-want-it-to-change-when-new-qu/58635136#58635136", "title": "C# ASP.NET AJAX - random number changes, but only want it to change when &quot;new question&quot; button clicked", "body": "<p>There are a couple ways you can go about it.</p>\n\n<ol>\n<li>Split this into two calls:\n\n<ul>\n<li><code>GetQuestion</code>, which returns the line number of the question with the question and</li>\n<li><code>AnswerQuestion</code>, which accepts the line number, and that's the line where you look for the answer.</li>\n</ul></li>\n<li>Keep it with one call where you return the line number of the question with the question. Then you pass the line number back with the answer, and pull the answer from that line number and compare with their answer. Then you create a random number to find a new question.</li>\n<li>Keep it with one call, but return the answer with the question. You just keep that in your JavaScript until the user answers. Then you don't even need to make a new AJAX request to know if they were right.</li>\n</ol>\n\n<p>I would keep it in one call only because using two would require, well, two requests, and loading the file twice.</p>\n\n<p>But to keep it as one call, you would need to create a class and return that instead of just a string that gets displayed.</p>\n\n<pre><code>public class Question {\n    public string Question { get; set; }\n\n    // if you want to send the answer\n    public string Answer { get; set; }\n\n    // if you don't want to send the answer\n    public int LineNumber { get; set; }\n\n    // text you show in response to their answer. e.g. \"Well done! ...\"\n    public string ResponseText { get; set; }\n}\n</code></pre>\n\n<p>Then you return that class, with the properties set however you need depending on what happened. For example, if they answered correctly, it would look something like:</p>\n\n<pre><code>return new JsonResult(new Question {\n    Question = $\"Artist: {artist} First letter of song name: {songletter}\",\n    Answer = answer, //if you want\n    LineNumber = randomNumber,\n    ResponseText = $\"Well done! You guessed correctly that the song name is: {songname}\"\n});\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 3588808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bce5a10e57057c97b9d02bee15e80a49?s=128&d=identicon&r=PG&f=1", "display_name": "agent_smith1984", "link": "https://stackoverflow.com/users/3588808/agent-smith1984"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1572479382, "creation_date": 1572476911, "question_id": 58634829, "link": "https://stackoverflow.com/questions/58634829/c-asp-net-ajax-random-number-changes-but-only-want-it-to-change-when-new-qu", "title": "C# ASP.NET AJAX - random number changes, but only want it to change when &quot;new question&quot; button clicked", "body": "<p>I didn't want to over-complicate the question, but here goes...\nI have a file of questions and answers. I want to use C# ASP.NET Core MVC to get question from file, format as JSON, return question value to webpage using AJAX. The question is displayed by clicking a button which runs the C# method by connecting to it with a Route[] statement. Then, also in AJAX on the same webpage, the user can submit their answer. If they are correct, it will tell them. This works if no RANDOM number is involved. The random number simply selects the line of the text-file containing the questions - that's all it does! However, the catch-22 is that when the user clicks on the \"ANSWER\" button to submit their answer, it re-runs the C# method, which generates a new random number, so has a good chance of selecting a different line from the file, hence containing a different answer and then it tells the user they got it wrong, even though they were correct...\nThe code on the webpage:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width\" /&gt;\n    &lt;title&gt;Index&lt;/title&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n\n        $(document).ready(function () {  //When document loads, function is ready (this includes ALL of the functions below!)\n\n            $('#showQ').click(function () {\n                //Block of code that uses AJAX to DISPLAY questions from Controllers/DemoController.cs/answerQuestion()\n                $.ajax(\n                    {   //Start of the actual AJAX request code...\n                        type: 'GET',    //Use GET method to send values\n                        url: '/demo/answerQuestion/',//The location of the method (Controllers/DemoController.cs/answerQuestion)\n                        success: function (result) {    //If function is successful, it will display the result\n                            $('#displayQ').html(result);  //If the code above is successful, it will display the question inside id=\"displayQ\"\n                        }\n                    }\n                )\n            });\n            //Block of code that uses AJAX to ANSWER questions from Controllers/DemoController.cs/answerQuestion()\n            $('#answerQ').click(function () {   //When answerQ button is clicked, run this function...\n                var answer = $('#answer').val();  //var answer = id=\"answer\" field value when answerQ submit button is pressed\n                $.ajax(\n                    {   //Start of the actual AJAX request code...\n                        type: 'GET',    //Use GET method to send values\n                        url: '/demo/answerQuestion/' + answer, //Submit answer value to answerQuestion\n                        success: function (result) {\n                            $('#displayAns').html(result);  //If the code above is successful, it will send the answer and display result in id=\"displayAns\"\n                        }\n                    }\n                )\n            });\n        }); //End of $(document).ready(function...\n\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;fieldset&gt;\n        &lt;legend&gt;Question...&lt;/legend&gt;\n        &lt;br /&gt;\n        &lt;input type=\"button\" value=\"Click for question\" id=\"showQ\" /&gt;\n        &lt;br /&gt;\n        &lt;span id=\"displayQ\"&gt;&lt;/span&gt;\n        &lt;br /&gt;\n        Answer: &lt;input type=\"text\" id=\"answer\" /&gt;\n        &lt;br /&gt;\n        &lt;input type=\"button\" value=\"Click to submit answer\" id=\"answerQ\" /&gt;\n        &lt;br /&gt;\n        &lt;span id=\"displayAns\"&gt;&lt;/span&gt;\n        &lt;br /&gt;\n    &lt;/fieldset&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The C# methods that pick up the values from AJAX...</p>\n\n<pre><code>[Route(\"answerQuestion\")]\n        [Route(\"answerQuestion/{answer}\")]\n        public IActionResult AnswerQuestion(string answer)\n        {\n            //Need to think of a way to get this to only run when \"Next question\" button is clicked and not when answer provided!\n            //Problem is, if I make it so it only runs if \"answer\" is not set, then it complains that variable is undefined!\n            //It's a bit of a catch-22!!!\n            Random rnd = new Random();\n            int randomNumber = rnd.Next(0, 10);\n\n            string path = @\"C:\\Users\\aposi\\Desktop\\csharpweb\\HOWMVCWORKS\\quizquestions.txt\";\n            if (System.IO.File.Exists(path))\n            {\n                string[] allLines = System.IO.File.ReadAllLines(path);\n                string randomLine = allLines[randomNumber];\n                string removedSlashN = randomLine.Replace(\"\\n\", \"\");\n                string removedWhitespace = removedSlashN.Replace(\" \", \"\");\n                string[] separatedout = removedWhitespace.Split(\"|\"); //Has to be string array data-type to work with Split() function\n                string songname = separatedout[0];\n                char songletter = songname[0];\n                string artist = separatedout[1];\n\n                if (string.IsNullOrEmpty(answer))\n                {\n                    return new JsonResult(\"Artist: \" + artist + \"First letter of songname: \" + songletter);\n                }\n                else if (answer == songname)\n                {\n                        return new JsonResult(\"Well done! You guessed correctly that the song name is: \" + songname);\n                }\n                else if (answer != songname)\n                {\n                        return new JsonResult(\"Sorry! You got it wrong! The song name was... \" + songname);\n                }\n                else\n                {\n                    return new JsonResult(\"Something went wrong!!!\");\n                }\n            }\n            else\n            {\n                return new JsonResult(\"No question file found!\");\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "authentication"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 9554837, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DSBOLU_mCbs/AAAAAAAAAAI/AAAAAAAAAJU/UeZyAcGZC4s/photo.jpg?sz=128", "display_name": "The man holds me down at 1 Rep", "link": "https://stackoverflow.com/users/9554837/the-man-holds-me-down-at-1-rep"}, "edited": false, "score": 0, "creation_date": 1572490136, "post_id": 58635451, "comment_id": 103579198, "body": "You&#39;re right about it not being a blazor issue. I shouldn&#39;t have tagged it that way. I have an issue though, if I mimic this constructor i get a 500 internal server error."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12207343"}, "reply_to_user": {"reputation": 107, "user_id": 9554837, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DSBOLU_mCbs/AAAAAAAAAAI/AAAAAAAAAJU/UeZyAcGZC4s/photo.jpg?sz=128", "display_name": "The man holds me down at 1 Rep", "link": "https://stackoverflow.com/users/9554837/the-man-holds-me-down-at-1-rep"}, "edited": false, "score": 0, "creation_date": 1572522057, "post_id": 58635451, "comment_id": 103590467, "body": "Sorry, I&#39;m not sure I understand what constructor you&#39;re talking about, and without seeing the code you use, I can&#39;t hardly say something useful. However, if you follow the article and app from the link I&#39;ve provided above, you can not only learn how you can attach registered users to roles and save them in the a data store, but you can also learn how to implement authentication and authorization in  both Blazor Server and Blazor WebAssembly."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12207343"}, "is_accepted": true, "score": 1, "last_activity_date": 1572482178, "creation_date": 1572482178, "answer_id": 58635451, "question_id": 58634809, "link": "https://stackoverflow.com/questions/58634809/blazor-role-based-authentication/58635451#58635451", "title": "Blazor role based authentication", "body": "<blockquote>\n  <p>What's frustrating me is that none of them cover how to add users to\n  specific role groups.</p>\n</blockquote>\n\n<p>This question has nothing to do with Blazor.</p>\n\n<p>Here is how you can add a registering user to a role:</p>\n\n<pre><code>[Route(\"api/[controller]\")]\n    [ApiController]\n    public class AccountsController : ControllerBase\n    {\n        private static UserModel LoggedOutUser = new UserModel { IsAuthenticated = false };\n\n        private readonly UserManager&lt;IdentityUser&gt; _userManager;\n\n        public AccountsController(UserManager&lt;IdentityUser&gt; userManager)\n        {\n            _userManager = userManager;\n        }\n\n        [HttpPost]\n        public async Task&lt;IActionResult&gt; Post([FromBody]RegisterModel model)\n        {\n            var newUser = new IdentityUser { UserName = model.Email, Email = model.Email };\n\n            var result = await _userManager.CreateAsync(newUser, model.Password);\n\n            if (!result.Succeeded)\n            {\n                var errors = result.Errors.Select(x =&gt; x.Description);\n\n                return BadRequest(new RegisterResult { Successful = false, Errors = errors });\n            }\n\n            // Add all new users to the User role\n            await _userManager.AddToRoleAsync(newUser, \"User\");\n\n            // Add new users whose email starts with 'admin' to the Admin role\n            if (newUser.Email.StartsWith(\"admin\"))\n            {\n                await _userManager.AddToRoleAsync(newUser, \"Admin\");\n            }\n\n            return Ok(new RegisterResult { Successful = true });\n        }\n    }\n}\n</code></pre>\n\n<p>See source and more <a href=\"https://github.com/chrissainty/RoleBasedAuthWithBlazor\" rel=\"nofollow noreferrer\">here</a></p>\n\n<blockquote>\n  <p>If I wanted to say, authenticate everyone under a specific domain ..\n  say all google logins with the address @example.ca</p>\n</blockquote>\n\n<p>Again, this question has nothing to do with Blazor. This is a candidate for using a policy-based authentication with the requirement  you've mentioned above. See the docs how to implement this, and don't hesitate to ask for help if needed.</p>\n\n<p>Hope this helps...</p>\n"}], "owner": {"reputation": 107, "user_id": 9554837, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DSBOLU_mCbs/AAAAAAAAAAI/AAAAAAAAAJU/UeZyAcGZC4s/photo.jpg?sz=128", "display_name": "The man holds me down at 1 Rep", "link": "https://stackoverflow.com/users/9554837/the-man-holds-me-down-at-1-rep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 0, "accepted_answer_id": 58635451, "answer_count": 1, "score": 0, "last_activity_date": 1572494255, "creation_date": 1572476774, "last_edit_date": 1572494255, "question_id": 58634809, "link": "https://stackoverflow.com/questions/58634809/blazor-role-based-authentication", "title": "Blazor role based authentication", "body": "<p>There are a lot of resources online for using roles to authenticate users in a blazor application. (example : <a href=\"https://visualstudiomagazine.com/articles/2019/10/25/authorizing-users-in-blazor.aspx\" rel=\"nofollow noreferrer\">https://visualstudiomagazine.com/articles/2019/10/25/authorizing-users-in-blazor.aspx</a>)</p>\n\n<p>What's frustrating me is that none of them cover how to add users to specific role groups. If I wanted to say, authenticate everyone under a specific domain .. say all google logins with the address @example.ca </p>\n\n<p>Does anyone know how to do this? Or even where to explicitly type out admin emails to add them to a specific Role group?</p>\n"}, {"tags": ["c#", "arrays", "winforms"], "comments": [{"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 5, "creation_date": 1572480356, "post_id": 58634770, "comment_id": 103577287, "body": "MessageBox is not an appropriate UI element for tabular data. It&#39;s not designed for that. It&#39;s designed for conveying status messages, such as errors and task completion. You need to create your own form that can display the data in a DataGridView or similar control and show it as a modal dialog."}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1572485020, "post_id": 58634770, "comment_id": 103578223, "body": "And you can style your custom form with datagridview to look as MessageBox with rows and columns ;)"}], "answers": [{"tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": false, "score": 0, "last_activity_date": 1572497848, "last_edit_date": 1572497848, "creation_date": 1572496270, "answer_id": 58636950, "question_id": 58634770, "link": "https://stackoverflow.com/questions/58634770/need-to-display-an-array-to-a-messagebox-with-rows-of-assignment-names-and-colum/58636950#58636950", "title": "Need to display an array to a MessageBox with rows of Assignment Names and columns of Student Names", "body": "<p>You can try this:</p>\n\n<pre><code>private void BtnTranspose_Click(object sender, EventArgs e)\n{\n  var matrix = TransposeMatrix(decGrades);\n\n  // Create a form\n  var form = new Form();\n  form.Text = \"Transposed Array\";\n  form.Size = new Size(500, 400);\n  form.StartPosition = FormStartPosition.CenterParent;\n\n  // Create a list view\n  var listview = new ListView();\n  listview.Dock = DockStyle.Fill;\n  listview.View = View.Details;\n  listview.FullRowSelect = true;\n\n  // Initialize columns titles with first empty\n  listview.Columns.Add(\"\");\n  for ( int indexD2 = 0; indexD2 &lt; matrix.GetLength(1); indexD2++ )\n    listview.Columns.Add(strStudentNames[indexD2]);\n\n  // Add rows with first column as title\n  for ( int indexD1 = 0; indexD1 &lt; matrix.GetLength(0); indexD1++ )\n  {\n    var item = new ListViewItem();\n    item.Text = strAssignmentNames[indexD1];\n    for ( int indexD2 = 0; indexD2 &lt; matrix.GetLength(1); indexD2++ )\n      item.SubItems.Add(matrix[indexD1, indexD2].ToString());\n    listview.Items.Add(item);\n  }\n\n  // Add the list view to the form and show it\n  form.Controls.Add(listview);\n  form.ShowDialog();\n}\n</code></pre>\n\n<p>Instead of creating an on-the-fly form, you can create a custom form by design with a close button at bottom to have a true message box. You will add a method that takes the matrix as parameter and put the code in this method:</p>\n\n<pre><code>public partial MyMessageBox : Form\n{\n  static public Run(decimal[,] matrix, string[] titleColumns, string[] titleRows)\n  {\n    if ( titleColumns.Length != matrix.GetLength(1) \n      || titleRows.Length != matrix.GetLength(0) )\n      throw new ArgumentException(\"Bounds mismatch\");\n    var form = new MyMessageBox();\n    form.ListView.Columns.Add(\"\");\n    for ( int indexD2 = 0; indexD2 &lt; matrix.GetLength(1); indexD2++ )\n      form.ListView.Columns.Add(titleColumns[indexD2]);\n    for ( int indexD1 = 0; indexD1 &lt; matrix.GetLength(0); indexD1++ )\n    {\n      var item = new ListViewItem();\n      item.Text = titleRows[indexD1];\n      for ( int indexD2 = 0; indexD2 &lt; matrix.GetLength(1); indexD2++ )\n        item.SubItems.Add(matrix[indexD1, indexD2].ToString());\n      form.ListView.Items.Add(item);\n    }\n    form.ShowDialog();  \n  }\n}\n</code></pre>\n\n<p>So you will use it like that:</p>\n\n<pre><code>private void BtnTranspose_Click(object sender, EventArgs e)\n{\n  MyMessageBox.Run(TransposeMatrix(decGrades), strStudentNames, strAssignmentNames);\n}  \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12300205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VRHxVjpcZmE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd7gA2qOedrWT6LW57QXrf_519fHA/photo.jpg?sz=128", "display_name": "Michael Rathon", "link": "https://stackoverflow.com/users/12300205/michael-rathon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572497848, "creation_date": 1572476538, "last_edit_date": 1572480799, "question_id": 58634770, "link": "https://stackoverflow.com/questions/58634770/need-to-display-an-array-to-a-messagebox-with-rows-of-assignment-names-and-colum", "title": "Need to display an array to a MessageBox with rows of Assignment Names and columns of Student Names", "body": "<p>I need to display a transposed array of student grades on assignments to a MessageBox. I have the transposed array part down, but I need the messagebox to have row and column labels.</p>\n\n<p>Right now the output MessageBox only shows a 3 rows by 5 columns matrix of grades: </p>\n\n<pre><code>    decimal[,] decGrades = { { 87m, 88m, 89m },\n                             { 90m, 95m, 100m },\n                             { 70m, 80m, 90m },\n                             { 50m, 50m, 50m },\n                             { 80m, 92m, 94m } };\n\n        string[] strStudentNames = { \"Adams\", \"Benson\", \"Carson\", \n  \"Daley\", \"Edwards\" };\n        string[] strAssignmentNames = { \"HW1\", \"HW2\", \"Exam1\" };\n\n\n\n\n    private decimal[,] TransposeMatrix(decimal[,] newArray)\n    {\n        decimal[,] TransposedArray = new decimal[newArray.GetLength(1), \n    newArray.GetLength(0)];\n        for (int column = 0; column &lt; newArray.GetLength(1); column++)\n        {\n            for (int row = 0; row &lt; newArray.GetLength(0); row++)\n            {\n                TransposedArray[column, row] = newArray[row, column];\n\n            }\n        }\n        return TransposedArray;\n    }\n\n\n\n\n    private void BtnTranspose_Click(object sender, EventArgs e)\n    {\n        decGrades = TransposeMatrix(decGrades);\n\n        ////CODE TO SEND GRADES ARRAY TO MESSAGE BOX\n        string gradesString = \"\";\n\n\n\n        for (int i = 0; i &lt; decGrades.GetLength(0); i++)\n        {\n            for (int j = 0; j &lt; decGrades.GetLength(1); j++)\n            {\n                gradesString += decGrades[i, j] + \" \";\n            }\n\n            gradesString += \"\\n\";\n        }\n\n        MessageBox.Show(gradesString, \"Transposed Array\");\n</code></pre>\n\n<p>I can't seem to figure out how to display the string array values in strStudentNames as column labels and strAssignmentNames as the row labels.</p>\n\n<p>I really appreciate any help I could get on this. Thanks!</p>\n"}, {"tags": ["c#", "csharpscript"], "answers": [{"tags": [], "owner": {"reputation": 5109, "user_id": 508797, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fYTiS.png?s=128&g=1", "display_name": "Philipp Munin", "link": "https://stackoverflow.com/users/508797/philipp-munin"}, "is_accepted": false, "score": 1, "last_activity_date": 1572477218, "creation_date": 1572477218, "answer_id": 58634856, "question_id": 58634755, "link": "https://stackoverflow.com/questions/58634755/method-commoncreatearraytypesymbol-does-not-have-an-implementation/58634856#58634856", "title": "Method &#39;CommonCreateArrayTypeSymbol&#39; does not have an implementation", "body": "<p>I figure out that I had mismatched versions of nuget dependencies:</p>\n\n<pre><code>&lt;PackageReference Include=\"Microsoft.CodeAnalysis.Common\" Version=\"3.3.1\" /&gt;\n&lt;PackageReference Include=\"Microsoft.CodeAnalysis.Compilers\" Version=\"3.1.0\" /&gt;\n&lt;PackageReference Include=\"Microsoft.CodeAnalysis.CSharp.Scripting\" Version=\"3.1.0\" /&gt;\n&lt;PackageReference Include=\"Microsoft.CodeAnalysis.Scripting\" Version=\"3.1.0\" /&gt;\n&lt;PackageReference Include=\"Microsoft.CSharp\" Version=\"4.6.0\" /&gt;\n</code></pre>\n\n<p>Once I updated \"Microsoft.CodeAnalysis.Common\" from \"3.3.1\" to \"3.1.0\" - everything went back to normal.</p>\n"}], "owner": {"reputation": 5109, "user_id": 508797, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fYTiS.png?s=128&g=1", "display_name": "Philipp Munin", "link": "https://stackoverflow.com/users/508797/philipp-munin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1572477218, "creation_date": 1572476398, "question_id": 58634755, "link": "https://stackoverflow.com/questions/58634755/method-commoncreatearraytypesymbol-does-not-have-an-implementation", "title": "Method &#39;CommonCreateArrayTypeSymbol&#39; does not have an implementation", "body": "<p>I have very simple code, which uses nuget <a href=\"https://www.nuget.org/packages/Microsoft.CodeAnalysis.CSharp.Scripting/\" rel=\"nofollow noreferrer\">Microsoft.CodeAnalysis.CSharp.Scripting</a>:</p>\n\n<pre><code>var script = CSharpScript.Create($@\"\nIntProp1 = 123;\nIntProp2 = 456;\nreturn IntProp1 + IntProp2;\n\");\nvar errors = script.Compile();\n</code></pre>\n\n<p>It was working perfectly fine month ago, now all of a sudden I started receiving exception here:</p>\n\n<pre><code>System.TypeLoadException: 'Method 'CommonCreateArrayTypeSymbol' in type 'Microsoft.CodeAnalysis.CSharp.CSharpCompilation' from assembly 'Microsoft.CodeAnalysis.CSharp, Version=3.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' does not have an implementation.'\n</code></pre>\n"}, {"tags": ["javascript", "c#", "asp.net", "asp.net-core", "razor-pages"], "answers": [{"tags": [], "owner": {"reputation": 13628, "user_id": 11398810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCTFx.jpg?s=128&g=1", "display_name": "Rena", "link": "https://stackoverflow.com/users/11398810/rena"}, "is_accepted": true, "score": 1, "last_activity_date": 1572492525, "creation_date": 1572492525, "answer_id": 58636554, "question_id": 58634543, "link": "https://stackoverflow.com/questions/58634543/how-to-pass-a-parameter-to-a-javascript-function-that-populates-a-div-from-a-pag/58636554#58636554", "title": "How to pass a parameter to a javascript function that populates a div from a page model to its Razor Page?", "body": "<p>For we do not have <code>merchant ID</code>,<code>Public key</code> and<code>Private key</code>,be sure that you have generated the correct token,then you could try this:</p>\n\n<p>1.IndexModel():</p>\n\n<pre><code>private readonly IJSRuntime _jsRuntime;\n\npublic IndexModel(IJSRuntime jsRuntime)\n{\n    _jsRuntime = jsRuntime;\n}\n\n[BindProperty]\npublic string clientToken { get; set; }\n\npublic void OnGet()\n{\n    // Create gateway\n    var gateway = new BraintreeGateway\n    {\n        Environment = Braintree.Environment.SANDBOX,\n        MerchantId = \"xxxxxxx\",\n        PublicKey = \"xxxxxxx\",\n        PrivateKey = \"xxxxxxx\"\n    };\n\n    clientToken = gateway.ClientToken.Generate();\n\n    JSRuntimeExtensions.InvokeVoidAsync(_jsRuntime, \"configureBraintreeClient\", clientToken);\n}\n</code></pre>\n\n<p>2.Razor Page(no need to use function):</p>\n\n<pre><code>&lt;div id=\"dropin-container\"&gt;&lt;/div&gt;\n&lt;button id=\"submit-button\"&gt;Request payment method&lt;/button&gt;\n\n&lt;script src=\"https://js.braintreegateway.com/web/dropin/1.20.4/js/dropin.min.js\"&gt;\n&lt;/script&gt;\n    &lt;script&gt;\n            var button = document.querySelector('#submit-button');\n            braintree.dropin.create({\n                authorization: '@Model.clientToken',\n                container: '#dropin-container'\n            }, function (createErr, instance) {\n                button.addEventListener('click', function () {\n                    instance.requestPaymentMethod(function (requestPaymentMethodErr, payload) {\n                        // Submit payload.nonce to your server\n                    });\n            });\n        });\n    &lt;/script&gt;\n</code></pre>\n\n<p>3.Test(You could see that the token has filled into the js):\n<a href=\"https://i.stack.imgur.com/mPnok.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mPnok.gif\" alt=\"enter image description here\"></a>\nReference:</p>\n\n<p><a href=\"https://developers.braintreepayments.com/start/hello-client/javascript/v3\" rel=\"nofollow noreferrer\">https://developers.braintreepayments.com/start/hello-client/javascript/v3</a></p>\n\n<blockquote>\n  <p>I can insert a client token directly into the markup and it runs perfectly, so it has something to do with passing the client token to the page from the page model. Should I not be using the JSRuntime extension?</p>\n</blockquote>\n\n<p>For this,if you want to use client token,I suggest that you could refer to:\n<a href=\"https://developers.braintreepayments.com/start/tutorial-drop-in-node\" rel=\"nofollow noreferrer\">https://developers.braintreepayments.com/start/tutorial-drop-in-node</a></p>\n\n<p>For authorization,you could also use <a href=\"https://developers.braintreepayments.com/guides/authorization/tokenization-key/javascript/v3\" rel=\"nofollow noreferrer\">tokenization key</a>.</p>\n"}], "owner": {"reputation": 117, "user_id": 11843295, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lrHbpiro94o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8Tqm0aug9phZAi1wBig-4sR5OBg/photo.jpg?sz=128", "display_name": "Collin Brittain", "link": "https://stackoverflow.com/users/11843295/collin-brittain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 58636554, "answer_count": 1, "score": 0, "last_activity_date": 1572492525, "creation_date": 1572475041, "question_id": 58634543, "link": "https://stackoverflow.com/questions/58634543/how-to-pass-a-parameter-to-a-javascript-function-that-populates-a-div-from-a-pag", "title": "How to pass a parameter to a javascript function that populates a div from a page model to its Razor Page?", "body": "<p>I am trying to use Braintree's payment DropinUI, and configuring it requires sending a generated token\nto a javascript function in my page. I have the following markup in my Razor Page:</p>\n\n<pre><code>&lt;div id=\"dropin-container\"&gt;&lt;/div&gt;\n&lt;button id=\"submit-button\"&gt;Request payment method&lt;/button&gt;\n&lt;script&gt;\n    function configureBraintreeClient(clientToken) {\n        var button = document.querySelector('#submit-button');\n\n        braintree.dropin.create({\n            authorization: clientToken,\n            container: '#dropin-container'\n        }, function (createErr, instance) {\n            button.addEventListener('click', function () {\n                instance.requestPaymentMethod(function (requestPaymentMethodErr, payload) {\n                    // Submit payload.nonce to your server\n                });\n        });\n    });\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>The div #dropin-container is populated by the result of the function configureBraintreeClient. So, I need to pass in a clientToken when the page loads.</p>\n\n<p>My page model to generate a client token:</p>\n\n<pre><code>public class IndexModel : PageModel\n    {\n        private readonly IJSRuntime _jsRuntime;\n\n        public IndexModel(IJSRuntime jsRuntime)\n        {\n            _jsRuntime = jsRuntime;\n        }\n\n        public IActionResult OnGet()\n        {\n            // Create gateway\n            var gateway = new BraintreeGateway\n            {\n                Environment = Environment.SANDBOX,\n                MerchantId = \"xxxxxxx\",\n                PublicKey = \"xxxxxxx\",\n                PrivateKey = \"xxxxxxx\"\n            };\n\n            var clientToken = gateway.ClientToken.Generate();\n\n            JSRuntimeExtensions.InvokeVoidAsync(_jsRuntime, \"configureBraintreeClient\", clientToken);\n\n            // Not sure if this is needed, doesn't work with return type of \n            // void and this line removed either.\n            Page();\n        }\n    }\n</code></pre>\n\n<p>This does not work. The div is never populated.</p>\n\n<p><strong>I can insert a client token directly into the markup and it runs perfectly</strong>, so it has something to do with passing the client token\nto the page from the page model. Should I not be using the JSRuntime extension? </p>\n\n<p>I've tried setting the client token as a model property and inserting it in the function with razor syntax like <code>authorization: @Model.ClientToken</code>\nbut it doesn't work.</p>\n\n<p>I've tried to dig around to understand the page life cycle better but nothing I have found has helped me figure out this issue.</p>\n\n<p>I see no errors in the developer console of my browser or in Visual Studio, but I don't know a lot about debugging javascript in ASP .NET Core.</p>\n\n<p>What's the proper way to pass a parameter into a javascript function that updates a div like this?</p>\n"}, {"tags": ["c#", "ios", "xamarin", "xamarin.forms", "xamarin.ios"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 12300112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b0fff249cfe544b0f9f8533aa66a3c?s=128&d=identicon&r=PG&f=1", "display_name": "Newbee", "link": "https://stackoverflow.com/users/12300112/newbee"}, "edited": false, "score": 0, "creation_date": 1572506633, "post_id": 58637894, "comment_id": 103583026, "body": "This issue i&#39;m having is with the street address, not the phone numbers. The above code I wrote works for all of the other elements of the contact. I removed the code for the image and birthday to simplify the code for this forum."}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "reply_to_user": {"reputation": 123, "user_id": 12300112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b0fff249cfe544b0f9f8533aa66a3c?s=128&d=identicon&r=PG&f=1", "display_name": "Newbee", "link": "https://stackoverflow.com/users/12300112/newbee"}, "edited": false, "score": 0, "creation_date": 1572515382, "post_id": 58637894, "comment_id": 103586798, "body": "@Newbee Sorry for not pointing the reason . I will update the answer .And Timo Salom&#228;ki&#39;s answer is correct ."}], "tags": [], "owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "is_accepted": false, "score": 0, "last_activity_date": 1572515729, "last_edit_date": 1572515729, "creation_date": 1572503252, "answer_id": 58637894, "question_id": 58634530, "link": "https://stackoverflow.com/questions/58634530/ios-contact-postal-address-in-xamarin-forms/58637894#58637894", "title": "IOS contact postal address in Xamarin.Forms", "body": "<p><strong><a href=\"https://docs.microsoft.com/en-us/xamarin/ios/platform/contacts#fetching-existing-contacts\" rel=\"nofollow noreferrer\">Fetching Existing Contacts</a></strong> in iOS :</p>\n\n<p><strong><em>First</em></strong> , you need to add follow permission in <code>Info.plist</code> :</p>\n\n<pre><code>&lt;key&gt;NSContactsUsageDescription&lt;/key&gt;  \n&lt;string&gt;This app requires contacts access to function properly.&lt;/string&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/TF8Hn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TF8Hn.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong><em>Second</em></strong> , you can create a model contains of needs contact info as follow :</p>\n\n<pre><code>public class ContactModel\n{\n    public IList PhoneNumbers { get; set; }\n    public string GivenName { get; set; }\n    public string FamilyName { get; set; }\n}\n</code></pre>\n\n<p><strong><em>Third</em></strong> , create a func to fetch info :</p>\n\n<pre><code>public List&lt;ContactModel&gt; ReadContacts()\n{\n    var response = new List&lt;ContactModel&gt;();\n    try\n    {\n        //We can specify the properties that we need to fetch from contacts  \n        var keysToFetch = new[] {\n    CNContactKey.PhoneNumbers, CNContactKey.GivenName, CNContactKey.FamilyName,CNContactKey.PostalAddresses,CNContactKey.PhoneNumbers\n};\n        //Get the collections of containers  \n        var containerId = new CNContactStore().DefaultContainerIdentifier;\n        //Fetch the contacts from containers  \n        using (var predicate = CNContact.GetPredicateForContactsInContainer(containerId))\n        {\n            CNContact[] contactList;\n            using (var store = new CNContactStore())\n            {\n                contactList = store.GetUnifiedContacts(predicate, keysToFetch, out\n                    var error);\n            }\n            //Assign the contact details to our view model objects  \n            response.AddRange(from item in contactList\n                                where item?.EmailAddresses != null\n                                select new ContactModel\n                                {\n                                    PhoneNumbers = item.PhoneNumbers,\n                                    PostalAddresses = CNPostalAddressFormatter.GetStringFrom(item.PostalAddresses[0].Value, CNPostalAddressFormatterStyle.MailingAddress),\n                                    GivenName = item.GivenName,\n                                    FamilyName = item.FamilyName\n                                });\n        }\n    }\n    catch (Exception e)\n    {\n        Console.WriteLine(e);\n        throw;\n    }\n    return response;\n}\n</code></pre>\n\n<p><strong>Fourth</strong> , invoke func :</p>\n\n<pre><code>List&lt;ContactModel&gt; contacts = ReadContacts();\nContactModel contactVm;\nfor (int i = 0; i &lt; contacts.Count; i++)\n{\n    contactVm = contacts[i];\n    Console.WriteLine(\"Contact is : \" + contactVm.FamilyName);\n    Console.WriteLine(\"Contact is : \" + contactVm.GivenName);\n    Console.WriteLine(\"Contact is : \" + contactVm.PostalAddresses);\n}\n\n...\nContact is : Taylor\nContact is : David\nContact is : 1747 Steuart Street\nTiburon CA 94920\nUSA\n</code></pre>\n\n<p><strong>Fifth</strong> , the screenshot as follow :</p>\n\n<p><a href=\"https://i.stack.imgur.com/EaaUk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EaaUk.png\" alt=\"enter image description here\"></a></p>\n\n<p>===================================Udate=====================================</p>\n\n<p>Your code should be modified as follow :</p>\n\n<pre><code>public List&lt;Contact&gt; GetContacts()\n{\n    contactList = new List&lt;Contact&gt;();\n\n    var store = new Contacts.CNContactStore();\n\n    var ContainerId = new CNContactStore().DefaultContainerIdentifier;\n    var predicate = CNContact.GetPredicateForContactsInContainer(ContainerId);\n\n    var fetchKeys = new NSString[] { CNContactKey.Identifier, CNContactKey.GivenName, CNContactKey.FamilyName, CNContactKey.Birthday, CNContactKey.PostalAddresses, CNContactKey.ImageData };\n\n    NSError error;\n\n    var IPhoneContacts = store.GetUnifiedContacts(predicate, fetchKeys, out error);\n\n    foreach(var c in IPhoneContacts)\n    {\n        var contact = new Contact();\n\n        contact.FirstName = c.GivenName;\n        contact.FamilyName = c.FamilyName;\n\n        if(c.PostalAddresses.Length !=0)\n        {\n            contact.StreetAddress = CNPostalAddressFormatter.GetStringFrom(c.PostalAddresses[0].Value, CNPostalAddressFormatterStyle.MailingAddress);\n        };\n\n        contactList.Add(contact);\n    }\n\n    return contactList;\n}\n</code></pre>\n\n<p>The property <code>postalAddress</code> of Method <a href=\"https://docs.microsoft.com/en-us/dotnet/api/contacts.cnpostaladdressformatter.getstringfrom?view=xamarin-ios-sdk-12\" rel=\"nofollow noreferrer\">CNPostalAddressFormatter.GetStringFrom</a> \n is a type of object(<code>Contacts.CNPostalAddress</code>) , however <code>c.PostalAddresses</code> is a type of Array.</p>\n\n<pre><code>public static string GetStringFrom (Contacts.CNPostalAddress postalAddress, Contacts.CNPostalAddressFormatterStyle style);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/e1lwC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e1lwC.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 12300112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b0fff249cfe544b0f9f8533aa66a3c?s=128&d=identicon&r=PG&f=1", "display_name": "Newbee", "link": "https://stackoverflow.com/users/12300112/newbee"}, "edited": false, "score": 0, "creation_date": 1572539209, "post_id": 58639797, "comment_id": 103600099, "body": "Thank you. You&#39;re the best!"}, {"owner": {"reputation": 6795, "user_id": 6625726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TM1TR.jpg?s=128&g=1", "display_name": "Timo Salom&#228;ki", "link": "https://stackoverflow.com/users/6625726/timo-salom%c3%a4ki"}, "reply_to_user": {"reputation": 123, "user_id": 12300112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b0fff249cfe544b0f9f8533aa66a3c?s=128&d=identicon&r=PG&f=1", "display_name": "Newbee", "link": "https://stackoverflow.com/users/12300112/newbee"}, "edited": false, "score": 0, "creation_date": 1572546099, "post_id": 58639797, "comment_id": 103603148, "body": "You&#39;re welcome, remember to mark the correct answer as answered :)"}], "tags": [], "owner": {"reputation": 6795, "user_id": 6625726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TM1TR.jpg?s=128&g=1", "display_name": "Timo Salom&#228;ki", "link": "https://stackoverflow.com/users/6625726/timo-salom%c3%a4ki"}, "is_accepted": true, "score": 0, "last_activity_date": 1572512390, "creation_date": 1572512390, "answer_id": 58639797, "question_id": 58634530, "link": "https://stackoverflow.com/questions/58634530/ios-contact-postal-address-in-xamarin-forms/58639797#58639797", "title": "IOS contact postal address in Xamarin.Forms", "body": "<p>The problem is that <code>CNPostalAddressFormatter.GetStringFrom()</code> method expects a single <a href=\"https://docs.microsoft.com/en-us/dotnet/api/contacts.cnpostaladdress?view=xamarin-ios-sdk-12\" rel=\"nofollow noreferrer\">CNPostalAddress</a> object as a parameter but you're passing all addresses of a single contact since the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/contacts.cncontact.postaladdresses\" rel=\"nofollow noreferrer\">PostalAddresses</a> property is an array of <code>CNLabeledValue&lt;ValueType&gt;</code> objects.</p>\n\n<p>What you should do is iterate over all addresses, or perhaps just take the first one by default. Really depends on what you want to achieve.</p>\n\n<p>For example, this would get the first <code>CNPostalAddress</code>:</p>\n\n<pre><code>contact.StreetAddress = CNPostalAddressFormatter.GetStringFrom(c.PostalAddresses[0].Value, CNPostalAddressFormatterStyle.MailingAddress);\n</code></pre>\n\n<p>Also, if you want to know the label of the address (Home, Work etc), you can get it like this:</p>\n\n<pre><code>c.PostalAddresses[0].Label\n</code></pre>\n\n<p>Then the actual <code>CNPostalAddress</code> object is again this:</p>\n\n<pre><code>c.PostalAddresses[0].Value\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 12300112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6b0fff249cfe544b0f9f8533aa66a3c?s=128&d=identicon&r=PG&f=1", "display_name": "Newbee", "link": "https://stackoverflow.com/users/12300112/newbee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "protected_date": 1580525860, "accepted_answer_id": 58639797, "answer_count": 2, "score": 0, "last_activity_date": 1580525339, "creation_date": 1572474949, "last_edit_date": 1572511514, "question_id": 58634530, "link": "https://stackoverflow.com/questions/58634530/ios-contact-postal-address-in-xamarin-forms", "title": "IOS contact postal address in Xamarin.Forms", "body": "<p>I am writing a C# app in a Xamarin.Forms project that displays a contact name, and street address. I am having trouble pulling the address from the CNContact and assigning the contacts address to a string.</p>\n\n<p>Its going to be something obvious, but i'm stuck!</p>\n\n<pre><code>    public List&lt;Contact&gt; GetContacts()\n    {\n        contactList = new List&lt;Contact&gt;();\n\n        var store = new Contacts.CNContactStore();\n\n        var ContainerId = new CNContactStore().DefaultContainerIdentifier;\n        var predicate = CNContact.GetPredicateForContactsInContainer(ContainerId);\n\n        var fetchKeys = new NSString[] { CNContactKey.Identifier, CNContactKey.GivenName, CNContactKey.FamilyName, CNContactKey.Birthday, CNContactKey.PostalAddresses, CNContactKey.ImageData };\n\n        NSError error;\n\n        var IPhoneContacts = store.GetUnifiedContacts(predicate, fetchKeys, out error);\n\n        foreach(var c in IPhoneContacts)\n        {\n            var contact = new Contact();\n\n            contact.FirstName = c.GivenName;\n            contact.FamilyName = c.FamilyName;\n\n            if(c.PostalAddresses.Length !=0)\n            {\n                contact.StreetAddress = CNPostalAddressFormatter.GetStringFrom(c.PostalAddresses, CNPostalAddressFormatterStyle.MailingAddress);\n            };\n\n            contactList.Add(contact);\n        }\n\n        return contactList;\n    }\n</code></pre>\n"}, {"tags": ["c#", "json", "http", "asp.net-core", "dotnet-httpclient"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 2, "creation_date": 1572473895, "post_id": 58634374, "comment_id": 103575692, "body": "if you&#39;re trying to send form data, then why are you serialising the data to JSON within it? That bit doesn&#39;t appear to make a lot of sense. It would help though if you showed us the data you&#39;re trying to reproduce, and also the &quot;payload&quot; from which you&#39;re trying to create it."}, {"owner": {"reputation": 6227, "user_id": 136790, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb66f6f4bd00eae46810041bba290d12?s=128&d=identicon&r=PG", "display_name": "iandisme", "link": "https://stackoverflow.com/users/136790/iandisme"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1572474680, "post_id": 58634374, "comment_id": 103575903, "body": "@ADyson I&#39;ve added examples."}], "answers": [{"comments": [{"owner": {"reputation": 6227, "user_id": 136790, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb66f6f4bd00eae46810041bba290d12?s=128&d=identicon&r=PG", "display_name": "iandisme", "link": "https://stackoverflow.com/users/136790/iandisme"}, "edited": false, "score": 1, "creation_date": 1572475472, "post_id": 58634565, "comment_id": 103576118, "body": "Yes, the StringContent did the trick. The reason that hadn&#39;t worked for me before is rather embarrassing; you might notice the difference between &quot;username&quot; and &quot;user-name&quot; in my examples. Thank you!"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "reply_to_user": {"reputation": 6227, "user_id": 136790, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb66f6f4bd00eae46810041bba290d12?s=128&d=identicon&r=PG", "display_name": "iandisme", "link": "https://stackoverflow.com/users/136790/iandisme"}, "edited": false, "score": 0, "creation_date": 1572481420, "post_id": 58634565, "comment_id": 103577507, "body": "Happens to us all lol. Spending a day debugging a frustrating problem only to discover a ridiculous typo is almost a programming rite of passage! Glad this helped you anyway"}], "tags": [], "owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "is_accepted": true, "score": 2, "last_activity_date": 1572475187, "creation_date": 1572475187, "answer_id": 58634565, "question_id": 58634374, "link": "https://stackoverflow.com/questions/58634374/how-to-send-unencoded-form-data-with-c-httpclient/58634565#58634565", "title": "How to send unencoded form data with C# HttpClient", "body": "<p>Since you're actually trying to send JSON, I think you need to wrap the JSON in a <code>StringContent</code> object rather than a FormUrlEncoded object. Form-encoded data and JSON data are two different ways of formatting a payload (another commonly used format would be XML, for example). Using them both together doesn't make any sense.</p>\n\n<p>I think something like this should work:</p>\n\n<pre><code>var content = new StringContent(JsonConvert.SerializeObject(myPayload), Encoding.UTF8, \"application/json\");\nvar response = Client.PostAsync(myURL, content).Result;\nvar json = response.Content.ReadAsStringAsync().Result;\n</code></pre>\n\n<p>(P.S. the <code>Content-Type: application/x-www-form-urlencoded</code> header sent by the application appears to be misleading, since the request body clearly contains JSON. Presumably the receiving server is tolerant of this nonsense, or just ignores it because it's always expecting JSON.)</p>\n"}], "owner": {"reputation": 6227, "user_id": 136790, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb66f6f4bd00eae46810041bba290d12?s=128&d=identicon&r=PG", "display_name": "iandisme", "link": "https://stackoverflow.com/users/136790/iandisme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 0, "accepted_answer_id": 58634565, "answer_count": 1, "score": 1, "last_activity_date": 1572475291, "creation_date": 1572473791, "last_edit_date": 1572475291, "question_id": 58634374, "link": "https://stackoverflow.com/questions/58634374/how-to-send-unencoded-form-data-with-c-httpclient", "title": "How to send unencoded form data with C# HttpClient", "body": "<p>I'm trying to \"repurpose\" a third-party API used by a desktop application. I've found that the below code gets me very close to matching the packets sent by the app:</p>\n\n<pre><code>var formData = new FormUrlEncodedContent(new[]\n{\n    new KeyValuePair&lt;string, string&gt;(JsonConvert.SerializeObject(myPayload), \"\")\n});\n\nvar response = Client.PostAsync(myURL, formData).Result;\nvar json = response.Content.ReadAsStringAsync().Result;\n</code></pre>\n\n<p>This gets me almost exactly the same payload sent by the application, except it encodes the data (I know, \"encoded\" is right there in the name). I need to get the exact same request but without the data being encoded, but I can't quite find the right object(s) to pull it off. How do I keep this payload from being URL encoded?</p>\n\n<p>Edit:</p>\n\n<p>This is a login request I pulled from Wireshark emanating from the application:</p>\n\n<pre><code>POST /Login HTTP/1.1\nContent-Type: application/x-www-form-urlencoded\nHost: 1.1.1.1\nContent-Length: 161\nExpect: 100-continue\nConnection: Close\n\n{\"username\":\"myuser\",\"auth-id\":\"0a0a140f81a2ce0c303386e93cec41bf04660c22a881be9a\"}\n</code></pre>\n\n<p>This is what the above will generate:</p>\n\n<pre><code>POST /Login HTTP/1.1\nExpect: 100-continue\nConnection: Close\nContent-Type: application/x-www-form-urlencoded\nContent-Length: 221\nHost: 1.1.1.1\n\n%7B%22user-name%22%3A%22myuser%22%2C%22auth-id%22%3A%220a0a140f81a2ce0c303386e93cec41bf04660c22a881be9a%22%7D=\n</code></pre>\n\n<p>I've edited them for brevity so the Content-Length is wrong. I realize it might not be the best way to send this data, but I have no control over how it's consumed.</p>\n"}, {"tags": ["c#", "garbage-collection", "enumeration", "visual-studio-2019"], "comments": [{"owner": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "edited": false, "score": 0, "creation_date": 1572511552, "post_id": 58634299, "comment_id": 103584916, "body": "What happens if you call <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.gc.waitforpendingfinalizers\" rel=\"nofollow noreferrer\">GC.WaitForPendingFinalizers</a> after the call to <code>GC.Collect</code>?"}, {"owner": {"reputation": 24693, "user_id": 115305, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/svGiU.jpg?s=128&g=1", "display_name": "Wim ten Brink", "link": "https://stackoverflow.com/users/115305/wim-ten-brink"}, "reply_to_user": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "edited": false, "score": 0, "creation_date": 1572555013, "post_id": 58634299, "comment_id": 103606799, "body": "@PauloMorgado, it doesn&#39;t make a difference. For some reason, Dummy 5 isn&#39;t finalized. It only gets finalized if I put GC.Collect() after the DummyTest() method call in main(). While it is disposed, it&#39;s not finalized inside the method."}, {"owner": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "edited": false, "score": 1, "creation_date": 1572816192, "post_id": 58634299, "comment_id": 103668722, "body": "I tried it ou on <a href=\"https://linqpad.net/\" rel=\"nofollow noreferrer\">LINQPad</a> and it prints <code>Dummy 5 destroyed.</code>. Without the call to <code>GC.WaitForPendingFinalizers</code>."}, {"owner": {"reputation": 24693, "user_id": 115305, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/svGiU.jpg?s=128&g=1", "display_name": "Wim ten Brink", "link": "https://stackoverflow.com/users/115305/wim-ten-brink"}, "reply_to_user": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "edited": false, "score": 0, "creation_date": 1572829686, "post_id": 58634299, "comment_id": 103671005, "body": "Interesting, but LINQPad isn&#39;t the same as a console application. Does it print it for or after the other four dummies? Because I suspect that LINQPad is calling the garbage collector again after the DummyTest() method is executed. If I put the GC.Collect() in main after this function call then dummy 5 will be destroyed after the other four. But I want it gone within the DummyTest method."}, {"owner": {"reputation": 24693, "user_id": 115305, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/svGiU.jpg?s=128&g=1", "display_name": "Wim ten Brink", "link": "https://stackoverflow.com/users/115305/wim-ten-brink"}, "reply_to_user": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "edited": false, "score": 1, "creation_date": 1572895431, "post_id": 58634299, "comment_id": 103695731, "body": "Interestingly, this only happens in debug mode, not release mode. Interesting... :-O"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 2, "creation_date": 1572896783, "post_id": 58634299, "comment_id": 103696230, "body": "Sounds like the debugger or the IDE hanging on to the enumerator; <code>.Current</code> is undefined at the end of a sequence, and &quot;still refs the last value&quot; is perfectly valid. Debug builds aren&#39;t useful for checking things like this, frankly."}, {"owner": {"reputation": 24693, "user_id": 115305, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/svGiU.jpg?s=128&g=1", "display_name": "Wim ten Brink", "link": "https://stackoverflow.com/users/115305/wim-ten-brink"}, "edited": false, "score": 0, "creation_date": 1572904848, "post_id": 58634299, "comment_id": 103699224, "body": "It&#39;s not the debugger or IDE as I execute it without debugging. These kind of chained methods are a bit challenging to debug. But CTRL+F5 and either dummy is freed when it&#39;s a release build or not freed if it&#39;s a debug build."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 1, "creation_date": 1572910250, "post_id": 58634299, "comment_id": 103700799, "body": "@Marc&#39;s comment still applies. The bigger difference is debug vs release build. When running the former, the GC isn&#39;t as aggressive, and will consider an object reachable as long as there&#39;s any stack (local) variable referencing it. In a release build, the GC will consider the same exact object unreachable if there is no code left in the method that could execute which references that variable. That easily could explain your observed difference."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1572910341, "post_id": 58634299, "comment_id": 103700816, "body": "Note that this question is not <i>about</i> C# 6, nor enumeration per se. You could reproduce the same basic behavior with much simpler code, and no enumerables involved."}, {"owner": {"reputation": 24693, "user_id": 115305, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/svGiU.jpg?s=128&g=1", "display_name": "Wim ten Brink", "link": "https://stackoverflow.com/users/115305/wim-ten-brink"}, "edited": false, "score": 0, "creation_date": 1572922759, "post_id": 58634299, "comment_id": 103703125, "body": "Maybe it could be done with simpler code, but I encounter it when I create an infinite enumeration. It is to make sure that even in this specific situation, everything gets cleaned up. It&#39;s the DummyList() method that makes me suspicious."}], "answers": [{"tags": [], "owner": {"reputation": 24693, "user_id": 115305, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/svGiU.jpg?s=128&g=1", "display_name": "Wim ten Brink", "link": "https://stackoverflow.com/users/115305/wim-ten-brink"}, "is_accepted": true, "score": 0, "last_activity_date": 1573003696, "creation_date": 1573003696, "answer_id": 58721809, "question_id": 58634299, "link": "https://stackoverflow.com/questions/58634299/why-isnt-the-last-object-destroyed-by-the-garbage-collector/58721809#58721809", "title": "Why isn&#39;t the last object destroyed by the garbage collector?", "body": "<p>It seems the reason is related to the garbage collector, which behaves different in debug mode than in release mode. As some have commented, the garbage compiler might still hold a reference to Dummy 5 when the DummyTest() method closes, as it would keep the value for debugging purposes. In release mode, the garbage collector behaves more aggressively.<br>\nThis question has similarities with <a href=\"https://stackoverflow.com/questions/37462378/why-c-sharp-garbage-collection-behavior-differs-for-release-and-debug-executable\">Why C# Garbage Collection behavior differs for Release and Debug executables?</a> and answered in <a href=\"https://stackoverflow.com/questions/7165353/does-garbage-collection-run-during-debug\">Does garbage collection run during debug?</a> but this question is still interesting as it applies to a situation where a resource is part of a more complex infinite enumeration.<br>\nThis is not a memory leak, though! It's just that when the project is compiled in debug mode, the garbage collector tends to hang on a bit longer to some resources until after the method is closed, as any running debugger might still be evaluating the value. (It doesn't know that there's no debugger running.)</p>\n"}], "owner": {"reputation": 24693, "user_id": 115305, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/svGiU.jpg?s=128&g=1", "display_name": "Wim ten Brink", "link": "https://stackoverflow.com/users/115305/wim-ten-brink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 2, "accepted_answer_id": 58721809, "answer_count": 1, "score": 0, "last_activity_date": 1573003696, "creation_date": 1572473383, "last_edit_date": 1572922789, "question_id": 58634299, "link": "https://stackoverflow.com/questions/58634299/why-isnt-the-last-object-destroyed-by-the-garbage-collector", "title": "Why isn&#39;t the last object destroyed by the garbage collector?", "body": "<p>Bear with me as I'm doing \"interesting stuff\" here with enumerators and LINQ. And while checking if things get properly cleaned up, I noticed something within a simple console application that I created to test a few things. But first, some pieces of code, starting with the generic DoAll() method:</p>\n\n<pre><code>public static IEnumerable&lt;T&gt; DoAll&lt;T&gt;(this IEnumerable&lt;T&gt; data, Action&lt;T&gt; action)\n{\n    foreach (var item in data)\n    {\n        action(item);\n        yield return item;\n    }\n}\n</code></pre>\n\n<p>This just does a specific action with an item before yielding it to the next method in the pipeline. Next, a base IDisposable object that just serves as example:</p>\n\n<pre><code>public class Dummy : IDisposable\n{\n    private static int _count = 0;\n    public int Count = ++_count;\n    public Dummy() =&gt; Console.WriteLine($\"Dummy {Count} created.\");\n    ~Dummy() =&gt; Console.WriteLine($\"Dummy {Count} destroyed.\");\n    public void Dispose() =&gt; Console.WriteLine($\"Dummy {Count} disposed.\");\n    private int _value = 0;\n    public int Value =&gt; ++_value;\n}\n</code></pre>\n\n<p>The Dummy is simply an object that counts how often one has been created and a value that keeps track of how often it was called. As I said, simple example. Now I need an enumerator! This one:</p>\n\n<pre><code>public static class DummyList\n{\n    public static IEnumerable&lt;int&gt; GetDummy()\n    {\n        using (var dummy = new Dummy())\n        {\n            while (true) { yield return dummy.Value; }\n        }\n    }\n}\n</code></pre>\n\n<p>No rocket science here. Just a static class with a static extension method that will call the Dummy Value method forever in a loop, yielding each value to the next method in the pipeline.<br>\nJust to be clear, while this seems an infinite loop, the loop will get broken in the next method. And the next method is a test method:</p>\n\n<pre><code>public static void DummyTest()\n    {\n        for (var x = 0; x &lt; 5; x++)\n        {\n            Console.WriteLine(\n                string.Join(\", \", \n                    DummyList.GetDummy()\n                             .DoAll(i =&gt; Console.Write($\"Got {i}! \"))\n                             .Take(10)\n                             .Select(i =&gt; i.ToString())));\n        }\n        GC.Collect();\n    }\n</code></pre>\n\n<p>Well, the above code will use my enumerator 5 times, each time taking just 10 values before writing it as a list to the console. And at the end of it all, I call the garbage collector to clean it up. And I just call <code>DummyTest();</code> from my main method in my console application to get this result:</p>\n\n<pre><code>Dummy 1 created.\nGot 1! Got 2! Got 3! Got 4! Got 5! Got 6! Got 7! Got 8! Got 9! Got 10! Dummy 1 disposed.\n1, 2, 3, 4, 5, 6, 7, 8, 9, 10\nDummy 2 created.\nGot 1! Got 2! Got 3! Got 4! Got 5! Got 6! Got 7! Got 8! Got 9! Got 10! Dummy 2 disposed.\n1, 2, 3, 4, 5, 6, 7, 8, 9, 10\nDummy 3 created.\nGot 1! Got 2! Got 3! Got 4! Got 5! Got 6! Got 7! Got 8! Got 9! Got 10! Dummy 3 disposed.\n1, 2, 3, 4, 5, 6, 7, 8, 9, 10\nDummy 4 created.\nGot 1! Got 2! Got 3! Got 4! Got 5! Got 6! Got 7! Got 8! Got 9! Got 10! Dummy 4 disposed.\n1, 2, 3, 4, 5, 6, 7, 8, 9, 10\nDummy 5 created.\nGot 1! Got 2! Got 3! Got 4! Got 5! Got 6! Got 7! Got 8! Got 9! Got 10! Dummy 5 disposed.\n1, 2, 3, 4, 5, 6, 7, 8, 9, 10\nDummy 4 destroyed.\nDummy 3 destroyed.\nDummy 2 destroyed.\nDummy 1 destroyed.\n</code></pre>\n\n<p>Well, it almost looks okay. Every time the object gets created and disposed so I know my enumeration will get cleaned up, even though I break it off during the loop. I wanted to make sure this would happen and I first wanted to ask here if it would. But this test shows it does.<br>\nHowever, the garbage collector only destroys 4 of the 5 objects! And that troubles me a bit. All this code to show my enumerator will clean up nicely, only to discover that it won't clear up everything. And while it's not that important, I do want to know why it won't delete the last object and how I can force the garbage collector to destroy them all in this complex example.  </p>\n\n<p><strong>So why isn't the last object destroyed and how can I force it's destruction <em>within the DummyTest method</em>?</strong></p>\n\n<hr>\n\n<p>Things are getting a bit more complicated. This error only happens in \"Debug\" mode, not \"Release\" mode. I'm not debugging it when it skips Dummy 5, but I have compiled it with and without debug information. Without debug information Dummy 5 gets freed. Something seems to hold onto that Dummy when the project is compiled with debug information.<br>\nI want to know why, and how to prevent this.</p>\n"}, {"tags": ["c#", "string", "performance"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1572479571, "post_id": 58634183, "comment_id": 103577115, "body": "Question as of now is not answerable for what you probably looking for as no code shown that actually have performance problem (as you&#39;ve already established that nothing related to shared memory is an issue)\u2026 So the only answerable part is &quot;How can I make these string concatenations more efficient?&quot; which you probably already <a href=\"https://www.bing.com/search?q=c%23+concatenate+string+fast\" rel=\"nofollow noreferrer\">bing.com/search?q=c%23+concatenate+string+fast</a>... but for future readers closing as the same as <a href=\"https://stackoverflow.com/questions/21078/most-efficient-way-to-concatenate-strings\" title=\"most efficient way to concatenate strings\">stackoverflow.com/questions/21078/&hellip;</a>."}], "answers": [{"comments": [{"owner": {"reputation": 380, "user_id": 5627004, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d69032ea3d27e87d4303b8ae5e3ee07?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfgang Roth", "link": "https://stackoverflow.com/users/5627004/wolfgang-roth"}, "edited": false, "score": 0, "creation_date": 1572507321, "post_id": 58634224, "comment_id": 103583292, "body": "thank you for this hint. In my test application, using the stringbuilder only added about 20ms to the duration..."}], "tags": [], "owner": {"reputation": 8235, "user_id": 1284760, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2f0d151197270b75a2c5e5bf6a2a6583?s=128&d=identicon&r=PG", "display_name": "see sharper", "link": "https://stackoverflow.com/users/1284760/see-sharper"}, "is_accepted": true, "score": 4, "last_activity_date": 1572475093, "last_edit_date": 1572475093, "creation_date": 1572472812, "answer_id": 58634224, "question_id": 58634183, "link": "https://stackoverflow.com/questions/58634183/improve-performance-when-dealing-with-shared-memory-and-strings/58634224#58634224", "title": "Improve performance when dealing with shared memory and strings", "body": "<p>Use StringBuilder for appending strings. String append operations with simple strings are known to be inefficient because strings are immutable.</p>\n\n<pre><code>StringBuilder zeile = new StringBuilder();\nwhile (!eof())\n{\n   string newpart = GetTextFromSharedMemory(); // this works fine\n   zeile.Append(newpart); \n}\n</code></pre>\n\n<p>Then use <code>zeile.ToString()</code> to get the string value at the end.</p>\n"}], "owner": {"reputation": 380, "user_id": 5627004, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d69032ea3d27e87d4303b8ae5e3ee07?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfgang Roth", "link": "https://stackoverflow.com/users/5627004/wolfgang-roth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "closed_date": 1572479346, "accepted_answer_id": 58634224, "answer_count": 1, "score": 1, "last_activity_date": 1572475331, "creation_date": 1572472579, "last_edit_date": 1572475331, "question_id": 58634183, "link": "https://stackoverflow.com/questions/58634183/improve-performance-when-dealing-with-shared-memory-and-strings", "closed_reason": "Duplicate", "title": "Improve performance when dealing with shared memory and strings", "body": "<p>I am accessing a shared memory (that is created in C-code) with a program in C#.</p>\n\n<p>The content of the memory mapped file consists of bytes that represent text that has to be processed with C#.</p>\n\n<p><strong>Encoding issues are not the problem here...</strong></p>\n\n<p>Basically the C-Code writes text into the shared memory and increments a write index (at the beginning of the shared memory) to the next write position. At the end of the memory the index wraps around and begins from 0. </p>\n\n<p>To read in C# I maintain a read index (also at the beginning of the shared memory) and as long as both indices are not equal, I am processing the data in C#. Managing these two indices works, and should not be a matter of this question. </p>\n\n<p>C-Code can only write new data as long as the write index does not equal to the read index - because then data would be lost.   </p>\n\n<p>In C# I am using a <code>MemoryMappedFile</code> object, and access the bytes with a <code>MemoryMappedViewAccessor</code> object. From this view accessor I get an <code>IntPtr</code>:</p>\n\n<p>This code is an excerpt from my project, it works as expected...</p>\n\n<pre><code>public MemoryMappedFile mmf;\npublic MemoryMappedViewAccessor mma;\npublic byte* pointer;\npublic void Init()\n{\n    mmf = MemoryMappedFile.OpenExisting(\"MyFileMappingObject\", MemoryMappedFileRights.ReadWrite);\n    mma = mmf.CreateViewAccessor(0, 0, MemoryMappedFileAccess.ReadWrite);\n    mma.SafeMemoryMappedViewHandle.AcquirePointer(ref pointer);\n\n}\n</code></pre>\n\n<p>I tried to use stream access to the shared memory but this was slower than using unsafe <code>IntPtr</code> variables.</p>\n\n<p>The bytes have to be read out and converted to a C# string. Because I have to do some interpreting and reformatting, i can not simply take all bytes and convert them in a single step to a C# String.</p>\n\n<p>So I end up with many calls of adding a C# string to an existing one:</p>\n\n<pre><code>string zeile = string.Empty;\nwhile (!eof())\n{\n    string newpart = GetTextFromSharedMemory(); // this works fine\n    zeile = zeile + newpart;  // Makes problems\n}\n</code></pre>\n\n<p>If I meassure the time for a certain amount of text to be processed (a single walk through the whole shared memory) , GetTextFromSharedMemory() alone may take around 50 milliseconds. So this is not a bottle neck. </p>\n\n<p>As soon as i add the <code>newpart</code> string to the <code>zeile</code> string my processing time raises up to 5 to 6 seconds ( while I processed about 4 198 528 bytes of data in the shared memory, this roughly 2048 lines of 2048 bytes) </p>\n\n<p>This means 100 times longer than only reading from shared memory. </p>\n\n<p><em>How can I make these string concatenations more efficient?</em><br>\nI tried to read out the text parts as byte and concatenate lists of bytes together before converting them to strings. This helps a lot, but I would have to work on single bytes for interpreting and reformating...</p>\n\n<p>Allocating and disposing many strings during execution time may trigger the Garbage Collector and this could als have a negative impact on performance. </p>\n\n<p>Because processing time in C# is that \"bad\", the shared memory eventually gets filled up, and then the C-Code would have to wait for it to get emptied befor adding more data. But this would affect performance of other processes...</p>\n"}, {"tags": ["c#", "async-await"], "owner": {"reputation": 2298, "user_id": 323456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/DugGf.png?s=128&g=1", "display_name": "enorl76", "link": "https://stackoverflow.com/users/323456/enorl76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "closed_date": 1572472827, "answer_count": 0, "score": -1, "locked_date": 1573092782, "last_activity_date": 1572514523, "creation_date": 1572472455, "question_id": 58634159, "link": "https://stackoverflow.com/questions/58634159/when-async-taskt-required-by-interface-how-to-get-return-variable-without-com", "closed_reason": "Duplicate", "title": "When async Task&lt;T&gt; required by interface, how to get return variable without compiler warning", "body": "<p>Given the following interface:</p>\n\n<pre><code>    public interface IIdentityService\n    {\n        Task&lt;string&gt; GetToken();\n    }\n</code></pre>\n\n<p>And now given the following class:        </p>\n\n<pre><code>    public class MockIdentityService : IIdentityService\n    {\n        public async Task&lt;string&gt; GetToken()\n        {\n            string mockToken = Guid.NewGuid().ToString();\n            return mockToken;\n        }\n    }\n</code></pre>\n\n<p>The interface requires the <code>Task&lt;string&gt;</code> return type.  And Since the Mock just returns a simple primitive string, seems silly to have to call <code>Task.Run(() =&gt; Guid.NewGuid().ToString())</code>.   </p>\n\n<p>However attempt to use <code>return Task.FromResult(mockToken);</code> gives: <code>error CS4016: Since this is an async method, the return expression must be of type 'string' rather than 'Task&lt;string&gt;'</code></p>\n\n<p>Using <code>return mockToken;</code> generates: <code>warning CS1998: This async method lacks 'await' operators and will run synchronously. Consider using the 'await' operator to await non-blocking API calls, or 'await Task.Run(...)' to do CPU-bound work on a background thread.</code></p>\n\n<p>So I'm stuck with the compiler warning, unless you go full steam <code>Task.Run</code> which seems inefficient, and costly over lots of operations</p>\n"}, {"tags": ["c#", ".net", "magick.net", "heic"], "comments": [{"owner": {"reputation": 888, "user_id": 3093561, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/x7ts5.jpg?s=128&g=1", "display_name": "Antonio Correia", "link": "https://stackoverflow.com/users/3093561/antonio-correia"}, "edited": false, "score": 0, "creation_date": 1600915353, "post_id": 58634076, "comment_id": 113241757, "body": "were you able to solve that?"}], "answers": [{"tags": [], "owner": {"reputation": 888, "user_id": 3093561, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/x7ts5.jpg?s=128&g=1", "display_name": "Antonio Correia", "link": "https://stackoverflow.com/users/3093561/antonio-correia"}, "is_accepted": false, "score": 0, "last_activity_date": 1601499370, "creation_date": 1601499370, "answer_id": 64145636, "question_id": 58634076, "link": "https://stackoverflow.com/questions/58634076/how-to-use-magick-net-to-convert-httppostedfile-heic-to-jpg/64145636#64145636", "title": "How to use Magick.net to convert HttpPostedFile .heic to .jpg", "body": "<p>You don't need to instantiate a bitmap for that, and that error is probably because of your stream position (you need to set it to 0).</p>\n<p>Here's what I did to make this work</p>\n<pre><code>postedFile.InputStream.Position = 0; //just to avoid the Parameter is not valid error in case you did any previous manipulation with this\n\n\nusing (MagickImage i = new MagickImage(postedFile.InputStream))\n{\n    i.Format = MagickFormat.Jpg;\n\n    using (MemoryStream memStream = new MemoryStream(i.ToByteArray()))\n    {\n        image = Image.FromStream(memStream);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 3321095, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/366bb0b26880cfe98672e80865f553bc?s=128&d=identicon&r=PG&f=1", "display_name": "user3321095", "link": "https://stackoverflow.com/users/3321095/user3321095"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 501, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1601499370, "creation_date": 1572471908, "last_edit_date": 1572477884, "question_id": 58634076, "link": "https://stackoverflow.com/questions/58634076/how-to-use-magick-net-to-convert-httppostedfile-heic-to-jpg", "title": "How to use Magick.net to convert HttpPostedFile .heic to .jpg", "body": "<p>I have a .NET c# web application that allows users to upload images. I installed the Magick.NET NuGet package. I'm attempting to convert uploaded .heic files to .jpg but I'm not sure where to start.</p>\n\n<p>Here's the upload without Magick.net.</p>\n\n<pre><code>string fullPath = path + @\"\\Images\\\" + fileName;\nImage image = Image.FromStream(postedFile.InputStream);\n\nimage.Save(path);\n</code></pre>\n\n<p>Here's what I'm trying but I get the following error: <em>Parameter is not valid</em></p>\n\n<pre><code>string fullPath = path + @\"\\Images\\\" + fileName;\nBitmap bitmap = new Bitmap(postedFile.InputStream); &lt;-- ERROR\n\nusing (MagickImage i = new MagickImage(bitmap))\n{\n    i.Format = MagickFormat.Jpg;\n\n    using (MemoryStream memStream = new MemoryStream(i.ToByteArray()))\n    {\n        image = Image.FromStream(memStream);\n    }\n}\n\nimage.Save(path);\n</code></pre>\n\n<p>Here's another approach that's similar to the Magick.net documentation but I get the following error: <em>Attempt by security transparent method to access security critical method failed. Assembly marked with the AllowPartiallyTrustedCallersAttribute and uses the level 2 security transparency model. Level 2 transparency causes all methods in AllowPartiallyTrustedCallers assemblies to become security transparent by default, which may be the cause of this exception.</em></p>\n\n<pre><code>string fullPath = path + @\"\\Images\\\" + fileName;\nStream fs = postedFile.InputStream;\nBinaryReader br = new System.IO.BinaryReader(fs);\nbyte[] bytes = br.ReadBytes((Int32)fs.Length);\n\nusing (MemoryStream memStream = new MemoryStream())\n{\n    using (MagickImage i = new MagickImage(bytes)) &lt;-- ERROR\n    {\n        i.Format = MagickFormat.Jpg;\n\n        image = Image.FromStream(memStream);\n    }\n}\n\nimage.Save(path);\n</code></pre>\n\n<p>Anyone have any suggestions?</p>\n"}, {"tags": ["c#", "dll", "appdomain", "fody-costura"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1572474052, "post_id": 58633907, "comment_id": 103575739, "body": "Does the dll you are loading use other dlls?  Are those dlls in Base Directory?  A Net executable looks for other dll in the same folder as the executable (not base folder).  To make sure you are loading the latest version of you executables always add other dll by use menu : Add Existing Item and then browse to where executable is compiled.  Then use Solution Explorer open the Reference folder and right click on the existing item and check box to copy to executable folder."}, {"owner": {"reputation": 11, "user_id": 7180631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/151f733bac14c9866b8c77001053248e?s=128&d=identicon&r=PG&f=1", "display_name": "jknight001", "link": "https://stackoverflow.com/users/7180631/jknight001"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1572540928, "post_id": 58633907, "comment_id": 103600956, "body": "Yes, the class that contains the method I am trying to invoke requires 3 .dll files.  These 3 assemblies have been loaded into the current AppDomain but are not available in my new AppDomain. So when I use CreateInstanceAndUnwrap() with my new AppDomain it throws the exception of FileNotFound.  I guess since it didn&#39;t find the assembly in my new AppDomain, it looks for it in the base folder. CreateInstanceAndUnwrap() ."}, {"owner": {"reputation": 11, "user_id": 7180631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/151f733bac14c9866b8c77001053248e?s=128&d=identicon&r=PG&f=1", "display_name": "jknight001", "link": "https://stackoverflow.com/users/7180631/jknight001"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1572540972, "post_id": 58633907, "comment_id": 103600972, "body": "If I put those .dlls into the base folder, the code works because it is looking for the .dlls there but it defeats the purpose of embedded .dlls because I will deliver a larger executable that includes these .dlls (in the current AppDomain) but will also have to install the three .dlls separately into the base directory so that the .exe can find them at runtime.  I would rather find a way to add the assemblies to my new AppDomain from the original AppDomain at runtime without having to load them from the disk so I can deliver just one .exe file.  Is there a way to do that with Fody/Costura?."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1572541700, "post_id": 58633907, "comment_id": 103601319, "body": "Not sure.  Do you want to download every time you start the application?  What you are asking seems to be a conflict &quot;add the assemblies to my new AppDomain from the original AppDomain at runtime&quot; and &quot;I can deliver just one .exe file&quot;."}, {"owner": {"reputation": 11, "user_id": 7180631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/151f733bac14c9866b8c77001053248e?s=128&d=identicon&r=PG&f=1", "display_name": "jknight001", "link": "https://stackoverflow.com/users/7180631/jknight001"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1572549711, "post_id": 58633907, "comment_id": 103604766, "body": "With in the .exe there is the current AppDomain.  I created a second AppDomain in the same .exe.  Because it is a new AppDomain, it does not have any of the assemblies in it that the original AppDomains have.  In order to use Reflection to Invoke my method, I need some of the dependent assemblies in the new AppDomain.  Trying to figure out how to load them without having to load the .dll from the hard drive.  All of this is happening in the same.exe."}], "answers": [{"comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1572592916, "post_id": 58649947, "comment_id": 103614695, "body": "When adding another project to current project there are to ways of doing it. 1) Copy all the executable from 2nd project or reference the path of the 2nd project in the first project.  Often you use relative paths like ../../secondProj/bin/debug/abc.exe."}, {"owner": {"reputation": 2573, "user_id": 1207289, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/000ce6bf0fc5388af955b7c43ff366fc?s=128&d=identicon&r=PG", "display_name": "user1207289", "link": "https://stackoverflow.com/users/1207289/user1207289"}, "edited": false, "score": 0, "creation_date": 1581050466, "post_id": 58649947, "comment_id": 106307799, "body": "Can you please explain your answer like where did you put this code . Is it in <code>static void main()</code> . Did you add dlls under <code>Resources</code> in VS.  Basically , I need to know how do I utilize your answer with the code that you posted in the question. I have the same issue where I used Costura to build exe , but when I run it , gives me error <code>Cannot resolve dependency to assembly &#39;Ranor exWrapper, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null&#39; because it has  not been preloaded.</code> I have looked around but couldnt find any solution that pertains to Fody/Costura . Appreciate any help."}], "tags": [], "owner": {"reputation": 11, "user_id": 7180631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/151f733bac14c9866b8c77001053248e?s=128&d=identicon&r=PG&f=1", "display_name": "jknight001", "link": "https://stackoverflow.com/users/7180631/jknight001"}, "is_accepted": false, "score": 1, "last_activity_date": 1572549868, "last_edit_date": 1592644375, "creation_date": 1572549490, "answer_id": 58649947, "question_id": 58633907, "link": "https://stackoverflow.com/questions/58633907/how-to-access-fody-costura-embedded-libraries-at-runtime-from-a-different-appdom/58649947#58649947", "title": "How to access Fody/Costura embedded libraries at runtime from a different AppDomain", "body": "<p>I added my .dlls to my Visual Studio Project and set Build-Action to be Embedded Resource</p>\n<p>I am running this bit of code to get the assembly into my new AppDomain:</p>\n<pre><code>string resName = null;\nforeach (string resourceName in Assembly.GetExecutingAssembly().GetManifestResourceNames())\n{\n   Console.WriteLine(&quot;Assembly.GetExecutingAssembly().GetManifestResourceNames() [&quot; + resourceName + &quot;] &quot;);\n   if (resourceName.Contains(&quot;my.Assembly&quot;))\n   {\n      resName = resourceName;\n      Console.WriteLine(&quot;CurrentDomain Assembly my.Assembly [&quot; +  &quot;] Resource name [&quot; + resName + &quot;]&quot;);\n    }\n\n}\nStream s = Assembly.GetExecutingAssembly().GetManifestResourceStream(resName);\nif (s != null)\n{\n    byte[] data = new BinaryReader(s).ReadBytes((int)s.Length);\n    Assembly a = Assembly.Load(data);\n    newAppDomain.Load(data);\n\n     foreach (Assembly cdAssem in newAppDomain.GetAssemblies())\n     {\n        Console.WriteLine(&quot;newAppDomain Assembly 2 [&quot; + cdAssem.GetName().FullName + &quot;]&quot;);\n      }\n}\n\n</code></pre>\n<p>I can see that the assembly is part of my new AppDomain:</p>\n<blockquote>\n<p>newAppDomain Assembly 2 [mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089]</p>\n<p>newAppDomain Assembly 2 my.Assembly Version=19.1.7243.19014, Culture=neutral, PublicKeyToken=null]</p>\n</blockquote>\n<p>But using CreateInstanceAndUnwrap()  still fails saying it can't find my.Assembly.dll.  I am wondering if the only way one can load an assembly into the AppDomain is by loading it from the Base Directory?</p>\n"}], "owner": {"reputation": 11, "user_id": 7180631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/151f733bac14c9866b8c77001053248e?s=128&d=identicon&r=PG&f=1", "display_name": "jknight001", "link": "https://stackoverflow.com/users/7180631/jknight001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 561, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1572549868, "creation_date": 1572471053, "question_id": 58633907, "link": "https://stackoverflow.com/questions/58633907/how-to-access-fody-costura-embedded-libraries-at-runtime-from-a-different-appdom", "title": "How to access Fody/Costura embedded libraries at runtime from a different AppDomain", "body": "<p>I need to create a new AppDomain for my solution so that I can invoke the method from it's own AppDomain.  All of the dependent .dll files for my solution have been embedded into my.exe using Fody/Costura.  I have created a <code>Loader : MarshalByRefObject</code> class to invoke my method but when I execute the loader at runtime I get an exception of:</p>\n\n<p>Could not load file or assembly 'my.Assembly, Version=19.1.7242.23931, Culture=neutral, PublicKeyToken=null' or one of its dependencies. The system cannot find the file specified. </p>\n\n<p>The code is looking for the .dll files in my AppDomain.CurrentDomain.BaseDirectory to execute my method via the loader but they are not there but are embedded in the executable.  Is there a way for my new AppDomain to know about the assemblies that have been embedded into my executable without having to load them from the BaseDirectory?</p>\n\n<p>I have looked for ways to load the other assemblies into my new AppDomain but haven't found a way to do it.  I also suspect there might be Fody/Costura API to do it but haven't found anything that worked for this scenario.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>        internal class Loader : MarshalByRefObject\n        {\n            object CallInternal(string dll, string typename, string method, object[] parameters)\n            {\n\n                Assembly a = Assembly.LoadFile(dll);\n                Type t = a.GetType(typename);\n                MethodInfo m = t.GetMethod(method);\n                Console.WriteLine(\"Invoking \" + m.Name);\n                return m.Invoke(null, parameters);\n            }\n\n            public static object Call(string dll, string typename, string method, params object[] parameters)\n            {\n                object result = null;\n                try\n                {\n                    AppDomain newAppDomain = AppDomain.CreateDomain(\"myNewDomain\", AppDomain.CurrentDomain.Evidence, AppDomain.CurrentDomain.SetupInformation);\n                    Loader ld = (Loader)newAppDomain.CreateInstanceAndUnwrap(Assembly.GetExecutingAssembly().FullName, typeof(Loader).FullName);  //DLL file not found exception thrown from here\n                    result = (Loader)ld.CallInternal(dll, typename, method, parameters);\n                    AppDomain.Unload(newAppDomain);\n                }\n                catch (Exception ee)\n                {\n                    Console.WriteLine(\"Exception Message [\" + ee.Message + \"]\");\n                    PDFUtil.Report.ErrSilent(ee);\n                }\n                return result;\n            }\n        }\n</code></pre>\n\n<p>I am looking to have my Loader class be instantiated without a need to load the .dlls from disk during runtime. Is this possible with Fody/Costura embedded .dlls?</p>\n"}, {"tags": ["c#", "hash", ".net-core", "asp.net-identity"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 2, "creation_date": 1572472403, "post_id": 58633858, "comment_id": 103575227, "body": "The password isn&#39;t just a password.  It&#39;s has the password algorithm version, a salt, a hash etc.  Your question could probably be answered by <a href=\"https://stackoverflow.com/questions/20621950/asp-net-identitys-default-password-hasher-how-does-it-work-and-is-it-secure\">ASP.NET Identity&#39;s default Password Hasher - How does it work and is it secure?</a>."}, {"owner": {"reputation": 71, "user_id": 9954325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1e2cab2157159643271deb1682a677f?s=128&d=identicon&r=PG", "display_name": "Chase", "link": "https://stackoverflow.com/users/9954325/chase"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1572473062, "post_id": 58633858, "comment_id": 103575430, "body": "Interesting. So in absence of a PasswordSalt field, identity core stores information about how the password was hashed in the first 17 characters of the password hash? It seems to me that those characters shouldn&#39;t always be the same since the salt is randomly generated."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 2, "creation_date": 1572473463, "post_id": 58633858, "comment_id": 103575559, "body": "When you look at the v3 version, the first 13 bytes store some settings that are more or less constant. That means the first 16 base64 chars will be stable. The Salt starts at 13."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 2, "creation_date": 1572475236, "post_id": 58633858, "comment_id": 103576048, "body": "@Chase the goal was to keep passwords compatible across many systems of storage (sql server, my sql, no sql etc) without the need for other custom columns (salt, timestamp etc).  This also means there is forward compatibility with Identity Version X."}], "owner": {"reputation": 71, "user_id": 9954325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1e2cab2157159643271deb1682a677f?s=128&d=identicon&r=PG", "display_name": "Chase", "link": "https://stackoverflow.com/users/9954325/chase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 239, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1572471806, "creation_date": 1572470774, "last_edit_date": 1572471806, "question_id": 58633858, "link": "https://stackoverflow.com/questions/58633858/why-do-identity-framework-core-hashed-passwords-all-start-the-same", "title": "Why do identity framework core hashed passwords all start the same?", "body": "<p>I'm building an application that uses a dotnet core API and identity core for user management. I was investigating my database and panicked when I saw that all strings in the <code>PasswordHash</code> field started with the same characters: <code>AQAAAAEAACcQAAAAE</code>, as I thought salting wasn't working properly. I realize now that salting is indeed working properly, as the rest of the password hash changes with every password, but now I'm curious about this mysterious prefix.</p>\n\n<p>What does this password hash prefix used for in identity core?</p>\n"}, {"tags": ["c#", ".net-core", "asp.net-core-mvc"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 7092795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f2e4715934e6ac9d1c1674c4c54ffb8?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby R.", "link": "https://stackoverflow.com/users/7092795/bobby-r"}, "edited": false, "score": 0, "creation_date": 1573902555, "post_id": 58635475, "comment_id": 104045963, "body": "This answers the question mostly. but i realize the answer to this question is more about IRouter which is hard to find adequate documentation for. Good luck!"}], "tags": [], "owner": {"reputation": 73, "user_id": 7092795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f2e4715934e6ac9d1c1674c4c54ffb8?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby R.", "link": "https://stackoverflow.com/users/7092795/bobby-r"}, "is_accepted": true, "score": 0, "last_activity_date": 1572495795, "last_edit_date": 1572495795, "creation_date": 1572482329, "answer_id": 58635475, "question_id": 58633810, "link": "https://stackoverflow.com/questions/58633810/how-to-dynamically-route-request-to-a-specific-controller-and-action-with-the-or/58635475#58635475", "title": "How to dynamically route request to a specific controller and action with the original request paths as parameters", "body": "<p>I don't think a document exists for the pattern syntax or format but I was able to get something working.</p>\n\n<p>With the below code I was able to send a request like:</p>\n\n<p><strong><code>example.com/anything1/anything2</code></strong></p>\n\n<p>and it was forwarded to the controller \"Home\", action \"Display\" with anything1 and anything2 sent as arguments. And the user still sees the original request.</p>\n\n<pre><code>app.UseEndpoints(endpoints =&gt;\n{\n     endpoints.MapControllerRoute(\n           name: \"default\",\n           pattern: \"{path}/{page}\",\n           defaults: new {controller=\"Home\", action=\"Display\", path=\"\", page=\"\" }); \n});\n</code></pre>\n\n<p>Additionally, adding text in the quotes of path and page will allow for default values to be sent if nothing is requested. I originally wrote middleware to handle writing the entire response but had to generate razor pages which ran much slower. This allows me to use the shared layouts which is what I wanted to start.</p>\n\n<p><strong>Note:</strong> The .net-core documentation on routing namespaces is limited to common use cases and method signatures which is rather useless because the default site templates start with that code. An old article for mvc routing is what made me think to try the code above but still have no idea what's going on in the background.</p>\n"}], "owner": {"reputation": 73, "user_id": 7092795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f2e4715934e6ac9d1c1674c4c54ffb8?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby R.", "link": "https://stackoverflow.com/users/7092795/bobby-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 859, "favorite_count": 1, "accepted_answer_id": 58635475, "answer_count": 1, "score": 0, "last_activity_date": 1573902320, "creation_date": 1572470446, "last_edit_date": 1573902320, "question_id": 58633810, "link": "https://stackoverflow.com/questions/58633810/how-to-dynamically-route-request-to-a-specific-controller-and-action-with-the-or", "title": "How to dynamically route request to a specific controller and action with the original request paths as parameters", "body": "<p>I am unable to find any documentation/details on the format of the middleware endpoints pattern field. Or endpoints at all really. Only examples of common use case scenarios for routing. </p>\n\n<p>What I'd like to do is accept a request like:</p>\n\n<p><strong><code>example.com/anything1/anything2</code></strong></p>\n\n<p>and send it forward to:</p>\n\n<p><strong><code>example.com/Home/Display?var1=anything1&amp;var2=anything2</code></strong></p>\n\n<p><strong>The browser should display the original request and not change.</strong></p>\n\n<p>My end goal is to return the <code>home</code> controller's layout with the <code>view</code> getting data from a database.</p>\n\n<p>I've been throwing random data at it to see what breaks it but not successful at understanding what works.</p>\n\n<pre><code>pattern: \"{custompath}/{custompage}\");\n\napp.UseEndpoints(endpoints =&gt;\n{\n    endpoints.MapControllerRoute(\n        name: \"default\",\n        pattern: \"{controller=Home}/{action=Index}/{id?}\");\n    endpoints.MapControllerRoute(\n        name: \"notDefault\",\n        pattern: \"{area:exists}/{controller=Content}/{action=Index}/{id?}\");\n});\n</code></pre>\n\n<p>This is the current default setup that works with my areas and controllers but I don't fully understand why either.</p>\n\n<p><strong>Update</strong>\nThe migration article from asp.net core 2.2 to 3 says that \"Endpoint Routing supports the same route pattern syntax and route pattern authoring features as IRouter\". \n<a href=\"https://docs.microsoft.com/en-us/aspnet/core/migration/22-to-30?view=aspnetcore-3.0&amp;tabs=visual-studio#mvc-service-registration\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/migration/22-to-30?view=aspnetcore-3.0&amp;tabs=visual-studio#mvc-service-registration</a></p>\n\n<p>There are no links to the expected syntax but I've found some old articles that have information. While being helpful they are still incomplete and/or inaccurate. When applying the logic I have found bugs. This was the most informative.\n<a href=\"https://aspnetcore.readthedocs.io/en/stable/fundamentals/routing.html\" rel=\"nofollow noreferrer\">https://aspnetcore.readthedocs.io/en/stable/fundamentals/routing.html</a></p>\n\n<p>Some routes work but break when I add others. For instance, this route based on the article above should only be accepted when someone types \"Account\" as the first parameter but instead when requesting with no paths or arguments it manipulates the request to include Account the next route's controller default. But then returns the last route as expected.</p>\n\n<p>When requesting <a href=\"https://localhost:port\" rel=\"nofollow noreferrer\">https://localhost:port</a></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>endpoints.MapControllerRoute(\n    name: \"account\",\n    pattern: \"Account/{controller=Dashboard}/{action=Overview}\",\n    defaults: new { area = \"Account\" });\nendpoints.MapControllerRoute(\n    name: \"manage\",\n    pattern: \"Manage/{controller=Content}/{action=Index}\",\n    defaults: new { area = \"Manage\" });\nendpoints.MapControllerRoute(\n    name: \"default\",\n    pattern: \"\",\n    defaults: new { controller = \"Content\", action = \"Display\", path = \"Public\", page = \"Index\" });\n</code></pre>\n\n<p>it manipulates the request to <a href=\"https://localhost:port/Account/Content/\" rel=\"nofollow noreferrer\">https://localhost:port/Account/Content/</a> \nand with contents from <a href=\"https://localhost:port/Content/Display/\" rel=\"nofollow noreferrer\">https://localhost:port/Content/Display/</a> </p>\n\n<p>I was expecting that when I didn't type in Account or Manage it would fall through to the blank route and stop there. But it seems that after it gets there it does some other stuff. Half of what I want is accomplished lol.</p>\n\n<p><strong>Latest Update</strong>\nCurrently, I have this working with minimal bugs. Conceptually when making these I imagined that the pattern was the structure that exists in my app (controller > action > param, which is backward from what I originally imagined. (that the pattern was what the user request is*)</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    endpoints.MapControllerRoute(\n                    name: \"Public\",\n                    pattern: \"{page}\",\n                    defaults: new { controller = \"Content\", action = \"Display\", path = \"Public\" });\n                endpoints.MapControllerRoute(\n                    name: \"Default\",\n                    pattern: \"{path=Public}/{page=Index}\",\n                    defaults: new { controller = \"Content\", action = \"Display\" });                \n                endpoints.MapControllerRoute(\n                    name: \"Controllers\",\n                    pattern: \"{controller}/{action}/{id?}\");\n</code></pre>\n\n<p>notes:</p>\n\n<p>\"areaName:\" adds the name in quotes to the request.\n\"defaults:\" manipulates the request. I was able to inject a controller and action.</p>\n\n<p>The other thing to note is that these endpoints affect the generated routes for links that use asp-*</p>\n"}, {"tags": ["c#", "sql", "linq"], "comments": [{"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "reply_to_user": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 0, "creation_date": 1572470815, "post_id": 58633791, "comment_id": 103574708, "body": "@jeffmercado I know that question &quot;answers&quot; this one -- but honestly the hightest voted one in there is terrible -- I would use .where and Any"}, {"owner": {"reputation": 13, "user_id": 4386058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9a85e37b77d8cb31025a9c3bff488?s=128&d=identicon&r=PG&f=1", "display_name": "jpolo", "link": "https://stackoverflow.com/users/4386058/jpolo"}, "reply_to_user": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1572471135, "post_id": 58633791, "comment_id": 103574812, "body": "It&#39;s not a duplicate of the question above...because it&#39;s not a CSV list of items in the &quot;IN&quot; clause like this SELECT * FROM Users WHERE User_Rights IN (&quot;Admin&quot;, &quot;User&quot;, &quot;Limited&quot;)...it&#39;s a list of items in another query."}, {"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 0, "creation_date": 1572471557, "post_id": 58633791, "comment_id": 103574951, "body": "@jpolo: <code>Contains()</code> directly translates to an <code>IN</code> clause, whether it was a static list of values or from a subquery. That&#39;s precisely what you asked for."}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "reply_to_user": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 0, "creation_date": 1572471605, "post_id": 58633791, "comment_id": 103574968, "body": "@JeffMercado -- contains only works on objects -- we need a custom selector for a property so we need to use any."}, {"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "reply_to_user": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1572471772, "post_id": 58633791, "comment_id": 103575030, "body": "@Hogan: it works on scalar values so yes you naturally need to select, which is exactly what the subquery does as well. There&#39;s a difference between translating a query and coming up with an equivalent one. <code>Any()</code> produces an <code>EXISTS</code> clause which isn&#39;t exactly what was asked, but still yields a perfectly valid result. Better to share that in the duplicated question."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4386058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9a85e37b77d8cb31025a9c3bff488?s=128&d=identicon&r=PG&f=1", "display_name": "jpolo", "link": "https://stackoverflow.com/users/4386058/jpolo"}, "edited": false, "score": 0, "creation_date": 1572472029, "post_id": 58633992, "comment_id": 103575105, "body": "I&#39;m getting results from &quot;groups&quot; and from &quot;detail&quot; But when I follow the example,  it&#39;s ok, up until I get to the &quot;detail.Any&quot;...&quot;Any&quot; is not available for the &quot;detail&quot; resultset."}, {"owner": {"reputation": 13, "user_id": 4386058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9a85e37b77d8cb31025a9c3bff488?s=128&d=identicon&r=PG&f=1", "display_name": "jpolo", "link": "https://stackoverflow.com/users/4386058/jpolo"}, "edited": false, "score": 0, "creation_date": 1572472129, "post_id": 58633992, "comment_id": 103575137, "body": "Never mind...I figured out what I was doing wrong.  Testing now."}], "tags": [], "owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "is_accepted": true, "score": 1, "last_activity_date": 1572472189, "last_edit_date": 1572472189, "creation_date": 1572471425, "answer_id": 58633992, "question_id": 58633791, "link": "https://stackoverflow.com/questions/58633791/how-do-i-create-a-linq-query-with-an-in-statement-like-sql/58633992#58633992", "title": "How do I create a LinQ query with an &quot;IN&quot; statement like SQL?", "body": "<p>If Groups collection was in groups and detail was in detail then </p>\n\n<pre><code> groups.Where(z =&gt; detail.Any(x =&gt; x.groupid == z.id));\n</code></pre>\n\n<p>This checks each element of groups to see if the id property is the same as any groupid property of the detail collection.</p>\n\n<hr>\n\n<p>It is important to note this might not be the best solution for your use case -- if your groups are very large then I would consider making it into a list and using contains -- that will give you hash performance.  For smaller size groups the cost of making the list will be bigger than the performance gain.</p>\n\n<pre><code> var idlist = details.Select(x =&gt; x.groupid).ToList();\n\n groups.Where(z =&gt; idlist.Contains(z.id)); \n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4386058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0d9a85e37b77d8cb31025a9c3bff488?s=128&d=identicon&r=PG&f=1", "display_name": "jpolo", "link": "https://stackoverflow.com/users/4386058/jpolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 58633992, "answer_count": 1, "score": -1, "last_activity_date": 1572472189, "creation_date": 1572470313, "last_edit_date": 1572471236, "question_id": 58633791, "link": "https://stackoverflow.com/questions/58633791/how-do-i-create-a-linq-query-with-an-in-statement-like-sql", "title": "How do I create a LinQ query with an &quot;IN&quot; statement like SQL?", "body": "<p>I need a LinQ query that does the same thing as below...but I can't seem to figure it out. (I'm using C#)</p>\n\n<pre><code>SELECT * FROM Groups WHERE Id IN(\nSELECT DISTINCT [GroupId] FROM [MyTable].[dbo].[Detail])\n</code></pre>\n\n<p>NOT This (as marked a duplicate question)</p>\n\n<p>SELECT * FROM Users WHERE User_Rights IN (\"Admin\", \"User\", \"Limited\")</p>\n\n<p>If they are the same then so be it...I'll of course take that as the answer.</p>\n"}, {"tags": ["c#", "asp.net-core", "logging", "serilog"], "answers": [{"tags": [], "owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "is_accepted": false, "score": 1, "last_activity_date": 1572470743, "last_edit_date": 1592644375, "creation_date": 1572470743, "answer_id": 58633854, "question_id": 58633749, "link": "https://stackoverflow.com/questions/58633749/why-asp-net-core-logging-everything/58633854#58633854", "title": "Why asp.net core logging everything?", "body": "<p>The default template for .NET Core 3 projects also has a <code>appsettings.Development.json</code> file which overrides settings in the base <code>appsettings.json</code> file. It will look something like this:</p>\n<pre><code>{\n  &quot;Logging&quot;: {\n    &quot;LogLevel&quot;: {\n      &quot;Default&quot;: &quot;Debug&quot;,\n      &quot;System&quot;: &quot;Information&quot;,\n      &quot;Microsoft&quot;: &quot;Information&quot;\n    }\n  }\n}\n</code></pre>\n<p>Note that the log level is set to <code>Debug</code> which is why your logs contain so many entries.</p>\n<p>From the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/configuration/?view=aspnetcore-3.0#json-configuration-provider\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p><code>AddJsonFile</code> is automatically called twice when you initialize a new host builder with <code>CreateDefaultBuilder</code>. The method is called to load configuration from:</p>\n<ul>\n<li><em>appsettings.json</em> \u2013 This file is read first. The environment version of the file can override the values provided by the appsettings.json file.</li>\n<li><em>appsettings.{Environment}.json</em> \u2013 The environment version of the file is loaded based on the IHostingEnvironment.EnvironmentName.</li>\n</ul>\n</blockquote>\n"}], "owner": {"reputation": 5270, "user_id": 694716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d0770bb5d21a52549cae04645449cae2?s=128&d=identicon&r=PG", "display_name": "barteloma", "link": "https://stackoverflow.com/users/694716/barteloma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 785, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1572471082, "creation_date": 1572470107, "last_edit_date": 1572471082, "question_id": 58633749, "link": "https://stackoverflow.com/questions/58633749/why-asp-net-core-logging-everything", "title": "Why asp.net core logging everything?", "body": "<p>I have creted my first asp.net core 3.0 application. And setup.cs file with serilog file extension  like following:</p>\n\n<pre><code>   public class Startup\n    {\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }\n        public IConfiguration Configuration { get; }\n\n        public void ConfigureServices(IServiceCollection services)\n        {\n            services.AddControllers();\n        }\n        public void Configure(IApplicationBuilder app, IWebHostEnvironment env, ILoggerFactory loggerFactory)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n            }\n\n            loggerFactory.AddFile(\"logs/ts-{Date}.txt\");\n            ....\n</code></pre>\n\n<p>And appsettings.json is:</p>\n\n<pre><code>{\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Information\",\n      \"Microsoft\": \"Warning\",\n      \"Microsoft.Hosting.Lifetime\": \"Information\"\n    }\n  },\n  \"AllowedHosts\": \"*\"\n}\n</code></pre>\n\n<p>But this logs so many information while application running. But I want to save only my log calls in controller actions or anywhere else:</p>\n\n<pre><code> public class WeatherForecastController : ControllerBase\n {\n    private readonly ILogger&lt;WeatherForecastController&gt; _logger;\n\n    public WeatherForecastController(ILogger&lt;WeatherForecastController&gt; logger)\n    {\n        _logger = logger;\n    }\n\n    [HttpGet]\n    public IEnumerable&lt;WeatherForecast&gt; Get()\n    {\n       _logger.LogInformation(\"oops\");\n       ....\n    }\n }\n</code></pre>\n"}, {"tags": ["c#", "ios", "rest", "uwp", "icloud-drive"], "answers": [{"tags": [], "owner": {"reputation": 1291, "user_id": 279180, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/69a8c2b4f165b1848ddc569bc1ebc577?s=128&d=identicon&r=PG", "display_name": "Ernie Thomason", "link": "https://stackoverflow.com/users/279180/ernie-thomason"}, "is_accepted": false, "score": 0, "last_activity_date": 1572504806, "creation_date": 1572504806, "answer_id": 58638176, "question_id": 58633716, "link": "https://stackoverflow.com/questions/58633716/how-to-connect-to-icloud-drive-via-rest-api/58638176#58638176", "title": "How to connect to iCloud Drive via rest API?", "body": "<p>It appears a REST interface is still not available for iCloud Drive. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/48278093/icloud-drive-rest-api\">iCloud Drive REST API?</a></p>\n"}], "owner": {"reputation": 39, "user_id": 12128644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c70d3c4e52e43038cda0358f072895c?s=128&d=identicon&r=PG&f=1", "display_name": "Enzo Failla", "link": "https://stackoverflow.com/users/12128644/enzo-failla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1194, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1572504806, "creation_date": 1572469917, "last_edit_date": 1572502359, "question_id": 58633716, "link": "https://stackoverflow.com/questions/58633716/how-to-connect-to-icloud-drive-via-rest-api", "title": "How to connect to iCloud Drive via rest API?", "body": "<p>I'm developing an application written in C# (UWP) and it seems no ready-to-use sdk is available for managing the interaction with iCloud drive (get items, create items, upload items...).\nHence, I want to implement a custom iCloud drive client via rest API (in C#).\nI already tested the \"Sign in with Apple REST API\" approach and it's almost working.</p>\n\n<p>Now I need to find a \"clear\" Apple API documentation to perform all of the operations on iCloud drive.\nIs there any official link?\nCan you provide some simple examples on how to query iCloud drive in pure rest, for example to get all of the items in a folder?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "checkbox", "datagridview"], "comments": [{"owner": {"reputation": 7168, "user_id": 6842716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cxds5.png?s=128&g=1", "display_name": "JohnG", "link": "https://stackoverflow.com/users/6842716/johng"}, "edited": false, "score": 1, "creation_date": 1572484369, "post_id": 58633684, "comment_id": 103578095, "body": "The <code>DataGridViewColumn</code> has a <code>Visible</code> property. <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/winforms/controls/how-to-hide-columns-in-the-windows-forms-datagridview-control\" rel=\"nofollow noreferrer\">How to: Hide Columns in the Windows Forms DataGridView Control</a> \u2026 try <code>dataGridView1.Columns[&quot;columnToHide&quot;].Visible = false;</code> when the check box is checked and <code>true</code> if its not checked."}, {"owner": {"reputation": 166, "user_id": 634805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiUeA.jpg?s=128&g=1", "display_name": "Smolakian", "link": "https://stackoverflow.com/users/634805/smolakian"}, "edited": false, "score": 1, "creation_date": 1572539691, "post_id": 58633684, "comment_id": 103600328, "body": "It would be helpful if you specified in your question whether you are using WinForms or WPF."}], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 634805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiUeA.jpg?s=128&g=1", "display_name": "Smolakian", "link": "https://stackoverflow.com/users/634805/smolakian"}, "is_accepted": false, "score": 2, "last_activity_date": 1572539727, "last_edit_date": 1592644375, "creation_date": 1572470919, "answer_id": 58633890, "question_id": 58633684, "link": "https://stackoverflow.com/questions/58633684/how-to-visible-datagridview-columns-using-checkboxs-c/58633890#58633890", "title": "How To Visible DataGridView Columns Using Checkbox&#39;s C#", "body": "<p>For each of the Datagrid columns bind the Visibility property of the column to the IsChecked property of the appropriate checkbox.</p>\n<p>Set the converter in the binding to use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.booleantovisibilityconverter?view=netframework-4.8\" rel=\"nofollow noreferrer\">BooleanToVisibilityConverter</a>.</p>\n<p>(This solution assumes that you are using WPF...)</p>\n"}, {"tags": [], "owner": {"reputation": 414, "user_id": 10758800, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ToJkve-oHpY/AAAAAAAAAAI/AAAAAAAANiE/L51i8LGN3nM/photo.jpg?sz=128", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/10758800/jimmy"}, "is_accepted": false, "score": 2, "last_activity_date": 1572575470, "last_edit_date": 1572575470, "creation_date": 1572492853, "answer_id": 58636588, "question_id": 58633684, "link": "https://stackoverflow.com/questions/58633684/how-to-visible-datagridview-columns-using-checkboxs-c/58636588#58636588", "title": "How To Visible DataGridView Columns Using Checkbox&#39;s C#", "body": "<p>In case of Windows Forms:</p>\n\n<p>You can specifiy the visibility for each <code>DataGridViewColumn</code> by means of the <code>DataGridViewColumn.Visible</code> property, for example:</p>\n\n<pre><code>dataGridView1.Columns[\"nameOfColumnThatShouldBeInvisible\"].Visible = checkBox1.Checked;\n</code></pre>\n\n<p>Also, you might want to evoke a rebind when the checkboxes that determine whether certain columns are displayed or not, get checked/unchecked:</p>\n\n<pre><code>checkBox1.CheckedChanged += new EventHandler(checkBox1_CheckedChanged);\n\npublic void checkBox1_CheckedChanged(Object sender, EventArgs e) \n{\n    dataGridView1.Columns[\"nameOfColumnThatShouldBeInvisible\"].Visible = checkBox1.Checked;\n    //rebind dataGridView1 so as to show/hide column for clicked checkbox\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7097201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xm0aK.jpg?s=128&g=1", "display_name": "sarmand mahmood", "link": "https://stackoverflow.com/users/7097201/sarmand-mahmood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1572707439, "creation_date": 1572469744, "last_edit_date": 1572707439, "question_id": 58633684, "link": "https://stackoverflow.com/questions/58633684/how-to-visible-datagridview-columns-using-checkboxs-c", "title": "How To Visible DataGridView Columns Using Checkbox&#39;s C#", "body": "<p>How Can I Visible and Invisible Columns in DataGridView By Checked and Unchecked Check box's using WinForm, C#.</p>\n\n<p><a href=\"https://i.stack.imgur.com/YgX0d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YgX0d.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "nunit"], "comments": [{"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 1, "creation_date": 1572470272, "post_id": 58633657, "comment_id": 103574508, "body": "Can you use <code>TestCaseSource</code> to have a separate method define your values and users, and provide <a href=\"https://github.com/nunit/docs/wiki/TestCaseData\" rel=\"nofollow noreferrer\">TestCaseData</a> for each combination?"}, {"owner": {"reputation": 31322, "user_id": 598511, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/4529263ec7aae0cdd9a37062544ffaf0?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/598511/johan"}, "reply_to_user": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 0, "creation_date": 1572470358, "post_id": 58633657, "comment_id": 103574543, "body": "@StriplingWarrior It has crossed my mind and I guess it&#39;s viable. Was curious about alternatives"}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 0, "creation_date": 1572473868, "post_id": 58633657, "comment_id": 103575686, "body": "That&#39;s kind of the standard way. Any alternatives I can think of don&#39;t have any benefits over that approach."}, {"owner": {"reputation": 31322, "user_id": 598511, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/4529263ec7aae0cdd9a37062544ffaf0?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/598511/johan"}, "reply_to_user": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 0, "creation_date": 1572475895, "post_id": 58633657, "comment_id": 103576220, "body": "@StriplingWarrior Any thoughts regarding how to handle the login procedure without moving it to each test?"}, {"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 0, "creation_date": 1572476019, "post_id": 58633657, "comment_id": 103576255, "body": "Same as with any code you don&#39;t want to duplicate: Create a helper class that deals with login stuff, and have your tests call out to methods in that class."}, {"owner": {"reputation": 405, "user_id": 6785505, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e56feaadd03c8ae43ca0142329a6b525?s=128&d=identicon&r=PG&f=1", "display_name": "H.D.", "link": "https://stackoverflow.com/users/6785505/h-d"}, "edited": false, "score": 0, "creation_date": 1575668032, "post_id": 58633657, "comment_id": 104656474, "body": "If you are running tests via nunit-console runner and you want the same behaviour on all the tests in an assembly then you can pass the credentials as parameter to nunit-console runner and use that within the base class setup. You can repeat this for each new credential you want to use."}], "owner": {"reputation": 31322, "user_id": 598511, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/4529263ec7aae0cdd9a37062544ffaf0?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/598511/johan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572469599, "creation_date": 1572469599, "question_id": 58633657, "link": "https://stackoverflow.com/questions/58633657/run-a-subset-of-nunit-testcases-more-than-once", "title": "Run a subset of Nunit TestCases more than once", "body": "<p>Currently, I have a base test class that performs a login operation for all my end to end tests:</p>\n\n<pre><code>public abstract class BaseClass\n{\n    [SetUp]\n    public void BaseSetUp()\n    {\n        LoginUser(\"name\", \"password\");\n    }\n}\n</code></pre>\n\n<p>In my derived test classes, I use \u00b4TestCase\u00b4s:</p>\n\n<pre><code>[TestCase(\"foo\")]\n[TestCase(\"bar\")]\npublic void Test(string value)\n{\n    Assert.IsTrue(true);\n}\n</code></pre>\n\n<p>I would like to define an arbitrary amount of users/credentials for each test, i.e. run all TestCases for each user.</p>\n\n<p>Is there any way to accomplish this without polluting all TestCases with credentials and moving the LoginUser method to each test?</p>\n"}, {"tags": ["c#", "selenium", "google-chrome", "webdriver", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 0, "creation_date": 1572470046, "post_id": 58633630, "comment_id": 103574437, "body": "Unfortunately your webdriver has to match the major version number, so use chromedriver v78: <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=78.0.3904.70/\" rel=\"nofollow noreferrer\">chromedriver.storage.googleapis.com/&hellip;</a>"}, {"owner": {"reputation": 23, "user_id": 12299686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365b3c7e9942233fb8142226f7f114f9?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/12299686/andy"}, "reply_to_user": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 0, "creation_date": 1572470569, "post_id": 58633630, "comment_id": 103574623, "body": "I downloaded <code>ChromeDriver v.78</code> and have referenced it with <code>new ChromeDriver(v78 path)</code>, and it has the same error."}, {"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 1, "creation_date": 1572471527, "post_id": 58633630, "comment_id": 103574942, "body": "Sorry I didn&#39;t read your post carefully enough.  Remove the browser extension.  This is not needed."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12299686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365b3c7e9942233fb8142226f7f114f9?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/12299686/andy"}, "edited": false, "score": 2, "creation_date": 1572529275, "post_id": 58644064, "comment_id": 103594448, "body": "<code>option.AddArgument(&quot;--no-sandbox&quot;);</code> was all I needed.  Thanks for your help!"}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": true, "score": 2, "last_activity_date": 1572527858, "last_edit_date": 1572527858, "creation_date": 1572527285, "answer_id": 58644064, "question_id": 58633630, "link": "https://stackoverflow.com/questions/58633630/chrome-automation-extension-has-crashed/58644064#58644064", "title": "Chrome Automation Extension has crashed", "body": "<p>This error message...</p>\n\n<p><img src=\"https://i.stack.imgur.com/kCnz8.png\" alt=\"Chrome Automation Extension has crashed\"></p>\n\n<p>along with this error message...</p>\n\n<p><img src=\"https://i.stack.imgur.com/k9x8l.png\" alt=\"Aw, Snap!\"></p>\n\n<p>...is observed when ChromeDriver / Chrome is unable to load the default extensions.</p>\n\n<hr>\n\n<p>Historically, the <em>Automation Extension</em> issue with <em>Chrome Browser</em> surfaced a couple of builds earlier then <em>ChromeDriver v2.32</em> and you can find a detailed discussion in <a href=\"https://stackoverflow.com/questions/48709331/what-has-changed-on-chromedriver-2-32-regarding-loading-of-the-automation-extens/48713002#48713002\">What has changed on Chromedriver 2.32 regarding loading of the automation extension?</a></p>\n\n<p>Precisely, to address this error you may have to:</p>\n\n<ul>\n<li>Pass either/both of the flags:\n\n<ul>\n<li><strong><code>disable-extensions</code></strong> flag</li>\n<li><strong><code>--no-sandbox</code></strong> flag  </li>\n</ul></li>\n</ul>\n\n<p>as argument/s when creating your <a href=\"https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491\">WebDriver</a> session. Special test environments sometimes cause <em>Chrome</em> to crash when the <strong>sandbox</strong> is enabled. For detaile watch <a href=\"http://chromedriver.chromium.org/help/chrome-doesn-t-start\" rel=\"nofollow noreferrer\">this space</a> as follows:</p>\n\n<pre><code>var option = new ChromeOptions();\noption.AddArgument(\"disable-extensions\");\noption.AddArgument(\"--no-sandbox\");\ndriver = new ChromeDriver(option);\n</code></pre>\n\n<p>Additionally, you need to ensure that (whichever is applicable):</p>\n\n<ul>\n<li><em>JDK</em> is upgraded to  current levels <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">JDK 8u222</a>.</li>\n<li><em>Selenium</em> is upgraded to  current levels <a href=\"https://docs.seleniumhq.org/download/\" rel=\"nofollow noreferrer\">Version 3.141.59</a>.</li>\n<li><em>ChromeDriver</em> is updated to  current <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=78.0.3904.70/\" rel=\"nofollow noreferrer\">ChromeDriver v78.0</a> level.</li>\n<li><em>Chrome</em> is updated to  current <em>Chrome Version 78.0</em> level. (as per <a href=\"https://chromedriver.storage.googleapis.com/78.0.3904.70/notes.txt\" rel=\"nofollow noreferrer\">ChromeDriver v78.0 release notes</a>)</li>\n<li><em>Clean</em> your <em>Project Workspace</em> through your <em>IDE</em> and <em>Rebuild</em> your project with required dependencies only.</li>\n<li>If your base <em>Web Client</em> version is too old, then uninstall it and install a recent GA and released version of <em>Web Client</em>.</li>\n<li>Take a <em>System Reboot</em>.</li>\n<li>Execute your <code>@Test</code> as <strong>non-root</strong> / <strong>non-administrator</strong> user.</li>\n<li>Always invoke <code>driver.quit()</code> within <code>tearDown(){}</code> method to close &amp; destroy the <em>WebDriver</em> and <em>Web Client</em> instances gracefully.</li>\n</ul>\n"}], "owner": {"reputation": 23, "user_id": 12299686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365b3c7e9942233fb8142226f7f114f9?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/12299686/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1518, "favorite_count": 0, "accepted_answer_id": 58644064, "answer_count": 1, "score": 2, "last_activity_date": 1572527858, "creation_date": 1572469470, "last_edit_date": 1572527189, "question_id": 58633630, "link": "https://stackoverflow.com/questions/58633630/chrome-automation-extension-has-crashed", "title": "Chrome Automation Extension has crashed", "body": "<p>I am using Selenium in C# to automate against Google Chrome.  I am using the latest version of <code>Chrome (78.0.3904.70)</code>, <code>Selenium.Webdriver (3.141.0)</code>, and <code>Selenium.Chrome.Webdriver (77.0.0)</code>.</p>\n\n<p>I use: <code>ChromeDriver chrome = new ChromeDriver();</code>.  Chrome opens, but does not load correctly, like in the image below, and I am unable to use any Selenium features.  What do I need to change to use Chromedriver?</p>\n\n<p>I downloaded <code>ChromeDriver v.78</code> and have referenced it with <code>new ChromeDriver(v78 path)</code>, and it has the same error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/eS57Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eS57Z.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/k9x8l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k9x8l.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "asp.net-core", "hangfire"], "comments": [{"owner": {"reputation": 7387, "user_id": 129782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c626aec1e864f9a5e786027c6d842e45?s=128&d=identicon&r=PG", "display_name": "s.m.", "link": "https://stackoverflow.com/users/129782/s-m"}, "edited": false, "score": 0, "creation_date": 1588661444, "post_id": 58633556, "comment_id": 108976302, "body": "Hello, necromancing this question: did you ever find the solution? I have an Hangfire server running on a different app on the same machine, and want to enqueue jobs there but the Hangfire client complains that JobStorage is not initialized, even though both are pointing to the same database :/"}, {"owner": {"reputation": 806, "user_id": 10208483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NNP6P.jpg?s=128&g=1", "display_name": "A. Hasemeyer", "link": "https://stackoverflow.com/users/10208483/a-hasemeyer"}, "reply_to_user": {"reputation": 7387, "user_id": 129782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c626aec1e864f9a5e786027c6d842e45?s=128&d=identicon&r=PG", "display_name": "s.m.", "link": "https://stackoverflow.com/users/129782/s-m"}, "edited": false, "score": 0, "creation_date": 1588772291, "post_id": 58633556, "comment_id": 109027221, "body": "@s.m. I posted an answer to this question for how I solved the issue."}, {"owner": {"reputation": 806, "user_id": 10208483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NNP6P.jpg?s=128&g=1", "display_name": "A. Hasemeyer", "link": "https://stackoverflow.com/users/10208483/a-hasemeyer"}, "reply_to_user": {"reputation": 7387, "user_id": 129782, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c626aec1e864f9a5e786027c6d842e45?s=128&d=identicon&r=PG", "display_name": "s.m.", "link": "https://stackoverflow.com/users/129782/s-m"}, "edited": false, "score": 0, "creation_date": 1588772706, "post_id": 58633556, "comment_id": 109027508, "body": "I am not sure if this will resolve your issue, since it is still using the JobStorage api to get the status of the hangfire server."}, {"owner": {"reputation": 36332, "user_id": 8479, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0ea03ff5d1f2b1bbe8b55039784bb6f8?s=128&d=identicon&r=PG", "display_name": "Rory", "link": "https://stackoverflow.com/users/8479/rory"}, "edited": false, "score": 0, "creation_date": 1615465417, "post_id": 58633556, "comment_id": 117701880, "body": "Do you know why it was only the server where the job was created that was processing the job? Normally, as I understand it, if you create a job in the default queue and all hangfire servers are processing the default queue then any hangfiire server should pick up any job."}, {"owner": {"reputation": 806, "user_id": 10208483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NNP6P.jpg?s=128&g=1", "display_name": "A. Hasemeyer", "link": "https://stackoverflow.com/users/10208483/a-hasemeyer"}, "edited": false, "score": 0, "creation_date": 1615560188, "post_id": 58633556, "comment_id": 117736163, "body": "I cannot say why the jobs pick up on one server at a time exactly. I actually messaged one of the lead developers at Hangfire and he said if there are multiple servers looking at the same queue they will work as overflow servers. Meaning they will only start picking up jobs if the other server is already using all its workers. This isn&#39;t how I wanted them to work, but it was designed to work this way."}], "answers": [{"tags": [], "owner": {"reputation": 806, "user_id": 10208483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NNP6P.jpg?s=128&g=1", "display_name": "A. Hasemeyer", "link": "https://stackoverflow.com/users/10208483/a-hasemeyer"}, "is_accepted": false, "score": 1, "last_activity_date": 1588772273, "creation_date": 1588772273, "answer_id": 61636624, "question_id": 58633556, "link": "https://stackoverflow.com/questions/58633556/hangfire-schedule-background-tasks-for-different-server/61636624#61636624", "title": "Hangfire Schedule Background tasks for different server", "body": "<p>There is no built in functionality in Hangfire to use a round robin type load balancer between multiple hangfire servers.</p>\n\n<p>My solution was to use the Queuing system. When each Hangfire server starts they are given a task identifier, which is a GUID, I also add a unique queue to that server which uses the same GUID as its name. </p>\n\n<p>So each server will look at 2 queues, Default and GUID. </p>\n\n<p>Then I use the following code to find which server has the least jobs currently processing.</p>\n\n<pre><code>private string GetNextAvailableServer()\n{\n    var serverJobCounts = new Dictionary&lt;string, int&gt;();\n\n    //get active servers\n    var serverList = JobStorage.Current.GetMonitoringApi().Servers();\n    foreach (var server in serverList)\n    {\n        if (server.Heartbeat.Value &gt; DateTime.Now.AddMinutes(-1))\n        {\n            serverJobCounts.Add(server.Name, 0);\n            foreach (var queue in server.Queues)\n            {\n                var currentQueues = JobStorage.Current.GetMonitoringApi().Queues();\n                serverJobCounts[server.Name] += (int?)currentQueues.FirstOrDefault(e =&gt; e.Name == queue)?.Length ?? 0;\n            }\n        }\n    }\n\n    var jobs = JobStorage.Current.GetMonitoringApi().ProcessingJobs(0, int.MaxValue);\n    foreach (var job in jobs)\n    {\n        if (serverJobCounts.ContainsKey(job.Value.ServerId))\n        {\n            serverJobCounts[job.Value.ServerId] += 1;\n        }\n    }\n\n    var nextServer = serverJobCounts.OrderBy(e =&gt; e.Value).FirstOrDefault().Key;\n    return nextServer.Split(':')[0].Replace(\"-\", string.Empty, StringComparison.InvariantCulture);\n}\n</code></pre>\n\n<p>This returns the GUID of the server that has the least jobs, which is also the name of the Queue. Therefore you can schedule the next job to the specific queue with the least jobs currently processing. </p>\n\n<pre><code>var nextServer = GetNextAvailableServer();\n\nvar client = new BackgroundJobClient();\nvar state = new EnqueuedState(nextServer);\nvar enqueueJob = client.Create&lt;IJobHandler&gt;(job =&gt; job.ProcessFile(file, files, null), state);\n</code></pre>\n\n<p>Additionally when I wrote this Hangfire didn't allow for hyphens in a queue name, hence my string manipulation to make the GUIDs work. I think the newest version of hangfire lets you use hyphens in the name.</p>\n\n<p>One thing to look out for, this solution breaks when one of you server dies. Since a job is given a unique Queue if the server watching that queue dies before processing the job it will never be picked up. </p>\n"}], "owner": {"reputation": 806, "user_id": 10208483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NNP6P.jpg?s=128&g=1", "display_name": "A. Hasemeyer", "link": "https://stackoverflow.com/users/10208483/a-hasemeyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 842, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1588772273, "creation_date": 1572469118, "question_id": 58633556, "link": "https://stackoverflow.com/questions/58633556/hangfire-schedule-background-tasks-for-different-server", "title": "Hangfire Schedule Background tasks for different server", "body": "<p>I have a .Net application that utilizes multiple Hangfire servers.</p>\n\n<p>I want to be able to have one Hangfire RecurringJob trigger multiple BackgroundJobs that can be picked up by any available server. Currently whenever I schedule Background Jobs from a Hangfire Job only the server that scheduled them will process them.</p>\n\n<p>For example, I have 5 Hangfire Servers and 10 tasks.\nI would want there to be 2 tasks on each Hangfire server, instead I am seeing 1 server with 10 tasks and 4 with 0.</p>\n\n<p>So again I have 5 Hangfire servers, all using the same database, and 1 RecurringJob, this RecurringJob just reads some files and enqueues several background jobs.</p>\n\n<pre><code> foreach (var file in reportSourceSetFileList)\n {\n      _logger.LogInformation($\"Queuing Background job for: {file}\");\n\n      var backgroundJobId = BackgroundJob.Enqueue&lt;IJobHandler&gt;(job =&gt; job.ProcessFile(file, files, null));\n }\n</code></pre>\n\n<p>However, only the Hangfire Server that ran the RecurringJob will process the Enqueued job.</p>\n\n<p>How can I have those Enqueued jobs be processed by any of my 5 Hangfire Servers and not just the one that queued them?</p>\n"}, {"tags": ["c#", "windows", "winapi", "pinvoke", "wininet"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1572469438, "post_id": 58633551, "comment_id": 103574222, "body": "I would guess that means that _handle is not set. But it would help a ton if you showed the inner exception and stacktrace - basically the result of Exception.ToString(). There are two articles on Exception handling that I do link often, it might be worth a read for you: <a href=\"https://blogs.msdn.microsoft.com/ericlippert/2008/09/10/vexing-exceptions/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/ericlippert/2008/09/10/&hellip;</a> | <a href=\"https://www.codeproject.com/Articles/9538/Exception-Handling-Best-Practices-in-NET\" rel=\"nofollow noreferrer\">codeproject.com/Articles/9538/&hellip;</a>"}, {"owner": {"reputation": 427, "user_id": 12129543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b7006237c8840f581184cf133d69d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Bree", "link": "https://stackoverflow.com/users/12129543/vincent-bree"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1572469584, "post_id": 58633551, "comment_id": 103574280, "body": "@Christopher <code>_handle</code> is <code>IntPtr</code>, even if it were zero, 1) A custom exception would be thrown due to CheckHandle, 2) A null ref exception wouldn&#39;t be possible sins <code>IntPtr</code> isn&#39;t nullable, and even if the issue were with <code>_handle</code> which it isn&#39;t, sins it points to a valid http request data file, <code>InternetQueryDataAvailable</code> returns a boolean which indicates if it successfully completed or not and shouldn&#39;t throw exceptions, especially not managed c# ones."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1572469732, "post_id": 58633551, "comment_id": 103574330, "body": "But what if the value of InPtr is null? I am a bit rusty, but IIRC a pointer set to all &quot;0&quot; is the non-reference way of anotating null values. Would a try to resolve the instance behind _handle then not throw a null reference Exception?"}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1572471196, "post_id": 58633551, "comment_id": 103574833, "body": "The NullReferenceException could be coming from InternetQueryDataAvailable itself, perhaps because the handle is non-null but invalid."}, {"owner": {"reputation": 427, "user_id": 12129543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b7006237c8840f581184cf133d69d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Bree", "link": "https://stackoverflow.com/users/12129543/vincent-bree"}, "reply_to_user": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1572471583, "post_id": 58633551, "comment_id": 103574962, "body": "@RaymondChen as I wrote: <code>Note that the exception which is thrown after calling InternetQueryDataAvailable only occurs after the first call</code>, the first call succeeds, and no I don&#39;t call <code>InternetCloseHandle</code> right after, after it I call <code>InternetReadFile</code> which then loops back to <code>InternetQueryDataAvailable</code> this goes on until either the return from the query is false or the number of bytes is zero, only after that is the handle closed, so no, the handle is valid throughout the entire procedure."}, {"owner": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 0, "creation_date": 1572473331, "post_id": 58633551, "comment_id": 103575508, "body": "Remove Optional attributes and pass something real"}, {"owner": {"reputation": 427, "user_id": 12129543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b7006237c8840f581184cf133d69d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Bree", "link": "https://stackoverflow.com/users/12129543/vincent-bree"}, "reply_to_user": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 0, "creation_date": 1572473577, "post_id": 58633551, "comment_id": 103575597, "body": "@SimonMourier tried it, removed Optional and did <code>InternetQueryDataAvailable(_handle, out numberOfBytes, 0, IntPtr.Zero);</code>, but it didn&#39;t change anything, null ref exception still occurs."}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1572478672, "post_id": 58633551, "comment_id": 103576916, "body": "Okay, but my point is that the NullReferenceException may be coming from InternetQueryDataAvailable itself. Don&#39;t rule that out. Running with a debugger on first-chance exceptions should identify the source."}, {"owner": {"reputation": 427, "user_id": 12129543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b7006237c8840f581184cf133d69d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Bree", "link": "https://stackoverflow.com/users/12129543/vincent-bree"}, "reply_to_user": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1572479674, "post_id": 58633551, "comment_id": 103577130, "body": "@RaymondChen seams like it, well, the conclusion I came to is that I was spending to much time downloading the data because it expired and that&#39;s why the exception was thrown, not to sure but it seamed to have solved the issue for me for the time being."}], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 12129543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b7006237c8840f581184cf133d69d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Bree", "link": "https://stackoverflow.com/users/12129543/vincent-bree"}, "edited": false, "score": 1, "creation_date": 1572470008, "post_id": 58633692, "comment_id": 103574422, "body": "True but, as written in the doc for <code>InternetQueryDataAvailable</code>: <code>If there is currently no data available and the end of the file has not been reached, the request waits until data becomes available.</code>. Also, unmanaged code can not throw managed exceptions, the only thing that can is COM imported stuff and still, only of type <code>ComException</code>."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 427, "user_id": 12129543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b7006237c8840f581184cf133d69d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Bree", "link": "https://stackoverflow.com/users/12129543/vincent-bree"}, "edited": false, "score": 0, "creation_date": 1572545561, "post_id": 58633692, "comment_id": 103602907, "body": "@VincentBree: Even when it waits, it should only wait until timeout happens or it is confirmed the connection is broken. Still waiting then rather then ending with exception in those cases would be a bad idea. Poor handling of explosives bad, in fact :)"}], "tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": 0, "last_activity_date": 1572469772, "creation_date": 1572469772, "answer_id": 58633692, "question_id": 58633551, "link": "https://stackoverflow.com/questions/58633551/when-calling-wininet-functions-random-nullreferenceexception-occur/58633692#58633692", "title": "When calling wininet functions random NullReferenceException occur", "body": "<blockquote>\n  <p>Note that the exception which is thrown after calling InternetQueryDataAvailable only occurs after the first call, so the first is fine but all the ones after have a chance of triggering the exception.</p>\n</blockquote>\n\n<p>This is to be expected. It is a data retreival. Those can <em>always</em> run into Exogenous Exceptions. It does not mater if that function wraps around a file access or a network operation going over half the planet - both of those scenarios got exogenous exception potential in spades.</p>\n\n<p>Of course the specific exception is still odd.</p>\n"}, {"comments": [{"owner": {"reputation": 427, "user_id": 12129543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b7006237c8840f581184cf133d69d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Bree", "link": "https://stackoverflow.com/users/12129543/vincent-bree"}, "edited": false, "score": 0, "creation_date": 1572512720, "post_id": 58634927, "comment_id": 103585415, "body": "If you feel like down voting this answer then please, either provide a better answer or comment why you have decided to down vote. Note that commenting something like: <code>This is not a good answer, but I don&#39;t have a answer of my own</code> isn&#39;t a good excuse."}], "tags": [], "owner": {"reputation": 427, "user_id": 12129543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b7006237c8840f581184cf133d69d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Bree", "link": "https://stackoverflow.com/users/12129543/vincent-bree"}, "is_accepted": true, "score": 1, "last_activity_date": 1572545426, "last_edit_date": 1572545426, "creation_date": 1572477729, "answer_id": 58634927, "question_id": 58633551, "link": "https://stackoverflow.com/questions/58633551/when-calling-wininet-functions-random-nullreferenceexception-occur/58634927#58634927", "title": "When calling wininet functions random NullReferenceException occur", "body": "<p>A thing I didn't point out, which was the cause of this null ref exception, was that when <code>InternetOpen</code> is performed, I instantly assign the handle to a status callback via <code>InternetSetStatusCallback</code> by just doing <code>InternetSetStatusCallback(handle, CallbackMethod);</code>, apparently what was happening was that the GC collected the delegate because it supposedly wasn't being used, note that when <code>InternetQueryDataAvailable</code> is called the statuses <code>INTERNET_STATUS_RECEIVING_RESPONSE</code> and <code>INTERNET_STATUS_RESPONSE_RECEIVED</code> do get passed to the callback, so am not sure why the GC collected the delegate but, that was the cause of the null ref. It wasn't that the <code>InternetQueryDataAvailable</code> was throwing the exception, as some suspected.\nThe solution for this was to create a field to which the delegate is assigned, like that the GC wont collect it due to the fact that the class housing it is always alive and is never out of scope.</p>\n"}], "owner": {"reputation": 427, "user_id": 12129543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b7006237c8840f581184cf133d69d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Bree", "link": "https://stackoverflow.com/users/12129543/vincent-bree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 58634927, "answer_count": 2, "score": 1, "last_activity_date": 1572545426, "creation_date": 1572469095, "question_id": 58633551, "link": "https://stackoverflow.com/questions/58633551/when-calling-wininet-functions-random-nullreferenceexception-occur", "title": "When calling wininet functions random NullReferenceException occur", "body": "<p>Not sure why but at random when calling the function <code>InternetQueryDataAvailable</code> a null ref exception occurs for no apparent reason sins non of the arguments which it accepts can be null:</p>\n\n<pre><code>[DllImport(Dlls.Wininet, SetLastError = true)]\npublic static extern bool InternetQueryDataAvailable([In] IntPtr hFile, [Out] out int numberOfBytesAvailable, [Optional, In] int reserved0, [Optional, In] IntPtr reserved1);\n</code></pre>\n\n<p>Here is the exception:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mzv86.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mzv86.png\" alt=\"enter image description here\"></a></p>\n\n<p>And no, <code>CheckHandle()</code> isn't the culprit as all it does is check if <code>_handle</code> is zero or not, aka invalid.</p>\n\n<p>Also, if not this then after downloading all the data and attempting to close the application, sins I set it up so all the handles close before the app closes, the call to <code>InternetCloseHandle</code> throws the null ref exception even tho, just like with <code>InternetQueryDataAvailable</code>, non of the arguments are nullable sins all it accepts is a single <code>IntPtr</code>:</p>\n\n<pre><code>[DllImport(Dlls.Wininet, SetLastError = true)]\npublic static extern bool InternetCloseHandle([In] IntPtr hInternet);\n</code></pre>\n\n<p>Am not sure what's going on because, on rare occasions everything works fine and I am able to download all the data and close the handle without a random exception being thrown.</p>\n\n<p>For those wondering what the function with InternetCloseHandle looks like, it's just:</p>\n\n<pre><code>public void Dispose()\n{\n    if (_handle != IntPtr.Zero)\n    {\n        if (!WinINet.InternetCloseHandle(_handle))\n        {\n            throw new Win32Exception();\n        }\n        _handle = IntPtr.Zero;\n    }\n\n}\n</code></pre>\n\n<p>Note that the exception which is thrown after calling <code>InternetQueryDataAvailable</code> only occurs after the first call, so the first is fine but all the ones after have a chance of triggering the exception.</p>\n"}, {"tags": ["c#", "nhibernate", "fluent-nhibernate"], "answers": [{"tags": [], "owner": {"reputation": 636, "user_id": 6007429, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e75c8ca744f86d904f65f70ab2a74dca?s=128&d=identicon&r=PG&f=1", "display_name": "ket", "link": "https://stackoverflow.com/users/6007429/ket"}, "is_accepted": true, "score": 0, "last_activity_date": 1572894295, "creation_date": 1572894295, "answer_id": 58699593, "question_id": 58633375, "link": "https://stackoverflow.com/questions/58633375/nhibernate-same-type-different-classmaps/58699593#58699593", "title": "NHibernate: Same type, different ClassMaps?", "body": "<p>In the hopes of garnering more arbitrary and unexplained downvotes, I'll answer this question: I wasn't able to find a specific method to explicitly declare the ClassMap to use, but I was able to find a solution without adding unncessary subtypes or similar ClassMaps by adding a discriminator value to the child class that is set by the parent, and then using the .Where() method to filter on the discriminator value ... something like this:</p>\n\n<pre><code>class Bar\n{\n  public string BarType {get; protected set};\n\n  public Bar(string barType)\n  {\n    BarType = barType;\n  }\n}\n\npublic class FooMap : ClassMap&lt;Foo&gt;\n{\n  Table(\"Foo\");\n  Id(x =&gt; x.Id);\n  HasMany(x =&gt; x.TheoreticalBar).Where(\"BarType = theoretical\");\n  HasMany(x =&gt; x.ActualBar).Where(\"BarType = actual\"); \n}\n</code></pre>\n\n<p>The .Where() method allows use of string interpolation and substitutions in case you want to avoid magic strings in my simplistic example here.  </p>\n"}], "owner": {"reputation": 636, "user_id": 6007429, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e75c8ca744f86d904f65f70ab2a74dca?s=128&d=identicon&r=PG&f=1", "display_name": "ket", "link": "https://stackoverflow.com/users/6007429/ket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 58699593, "answer_count": 1, "score": -1, "last_activity_date": 1572894295, "creation_date": 1572468246, "question_id": 58633375, "link": "https://stackoverflow.com/questions/58633375/nhibernate-same-type-different-classmaps", "title": "NHibernate: Same type, different ClassMaps?", "body": "<p>I have a use case where the same type is used in different one-to-many relationships, and the data on the many side of the relationship has to be stored to different tables depending on the usage.  Is there a way I can tell (fluent) NHibernate which ClassMap to use (e.g. like my fake <code>UseClassMap</code> method below)?</p>\n\n<p>Rough example code:</p>\n\n<pre><code>public class Foo\n{\n  public long Id {get; set;}\n  public IEnumerable&lt;Bar&gt; TheoreticalBar {get; set;}\n  public IEnumerable&lt;Bar&gt; ActualBar {get; set; }\n}\n\npublic class FooMap : ClassMap&lt;Foo&gt;\n{\n  Table(\"Foo\");\n  Id(x =&gt; x.Id);\n  HasMany(x =&gt; x.TheoreticalBar).UseClassMap(TheoryBarMap);\n  HasMany(x =&gt; x.ActualBar).UseClassMap(ActualBarMap); \n}\n\npublic class TheoreticalBarMap : ClassMap&lt;Bar&gt;\n{\n  TableNames(\"TheoreticalBar\");\n  ...\n}\n\npublic class ActualBarMap : ClassMap&lt;Bar&gt;\n{\n  TableNames(\"ActualBar\");\n  ...\n}\n\n</code></pre>\n"}, {"tags": ["c#", ".net-core-3.0"], "comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 3, "creation_date": 1572468545, "post_id": 58633347, "comment_id": 103573830, "body": "&quot;How to make  a HttpWebRequest function async&quot; : by using HttpClient instead."}, {"owner": {"reputation": 319, "user_id": 7850770, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2MDwnR-suag/AAAAAAAAAAI/AAAAAAAABmM/Q_JfuN9t_As/photo.jpg?sz=128", "display_name": "Mukul Keshari", "link": "https://stackoverflow.com/users/7850770/mukul-keshari"}, "edited": false, "score": 3, "creation_date": 1572468597, "post_id": 58633347, "comment_id": 103573858, "body": "Use HttpClient  instead. <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.http.httpclient?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 3, "creation_date": 1572468611, "post_id": 58633347, "comment_id": 103573866, "body": "There is no reason to still use WebRequest et al in new code in Core 3."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1572519161, "post_id": 58633347, "comment_id": 103588915, "body": "<code>var httpResponse = await httpWebRequest.GetResponseAsync();</code> but don&#39;t use it. Use HttpClient instead. A request is neither sync or async, it&#39;s just a request object. <i>Getting a response</i> needs to be sync or async"}], "answers": [{"comments": [{"owner": {"reputation": 4769, "user_id": 688357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3626fc691f53efdb3245996a0509c8?s=128&d=identicon&r=PG&f=1", "display_name": "William Xifaras", "link": "https://stackoverflow.com/users/688357/william-xifaras"}, "edited": false, "score": 0, "creation_date": 1572468871, "post_id": 58633451, "comment_id": 103573981, "body": "HttpClient should be static. Per the docs. &quot;It is intended to be instantiated once and re-used throughout the life of an application. Instantiating an HttpClient class for every request will exhaust the number of sockets available under heavy loads. This will result in SocketException errors.&quot; <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.http.httpclient?view=netcore-3.0\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "reply_to_user": {"reputation": 4769, "user_id": 688357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3626fc691f53efdb3245996a0509c8?s=128&d=identicon&r=PG&f=1", "display_name": "William Xifaras", "link": "https://stackoverflow.com/users/688357/william-xifaras"}, "edited": false, "score": 3, "creation_date": 1572469037, "post_id": 58633451, "comment_id": 103574052, "body": "@WilliamXifaras - re-used: yes. static: not the only option, and usually not the best."}, {"owner": {"reputation": 190, "user_id": 9531483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ef23158736b58da2b37372b08c9f2e5?s=128&d=identicon&r=PG&f=1", "display_name": "Going-gone", "link": "https://stackoverflow.com/users/9531483/going-gone"}, "reply_to_user": {"reputation": 4769, "user_id": 688357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3626fc691f53efdb3245996a0509c8?s=128&d=identicon&r=PG&f=1", "display_name": "William Xifaras", "link": "https://stackoverflow.com/users/688357/william-xifaras"}, "edited": false, "score": 0, "creation_date": 1572469169, "post_id": 58633451, "comment_id": 103574106, "body": "It does not need to be &quot;static&quot;, but the instance needs to be reused either via singleton, or HttpClientFactory(pooling).  Since hes new, i&#39;m just showing him how to simply make an async request.  I feel it&#39;s unnecessary to edit this, since the clients lifetime has nothing to do with making an async request. @WilliamXifaras"}, {"owner": {"reputation": 4769, "user_id": 688357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3626fc691f53efdb3245996a0509c8?s=128&d=identicon&r=PG&f=1", "display_name": "William Xifaras", "link": "https://stackoverflow.com/users/688357/william-xifaras"}, "edited": false, "score": 0, "creation_date": 1572469263, "post_id": 58633451, "comment_id": 103574148, "body": "@Going-gone Yeah I like HttpClientFactory over HttpClient."}, {"owner": {"reputation": 4769, "user_id": 688357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3626fc691f53efdb3245996a0509c8?s=128&d=identicon&r=PG&f=1", "display_name": "William Xifaras", "link": "https://stackoverflow.com/users/688357/william-xifaras"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1572469343, "post_id": 58633451, "comment_id": 103574179, "body": "@HenkHolterman True and this is debatable, but I won&#39;t do it here. Thinking about it, since its .NET Core, I&#39;d opt for using HttpClientFactory."}], "tags": [], "owner": {"reputation": 190, "user_id": 9531483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ef23158736b58da2b37372b08c9f2e5?s=128&d=identicon&r=PG&f=1", "display_name": "Going-gone", "link": "https://stackoverflow.com/users/9531483/going-gone"}, "is_accepted": true, "score": 2, "last_activity_date": 1572469409, "last_edit_date": 1572469409, "creation_date": 1572468597, "answer_id": 58633451, "question_id": 58633347, "link": "https://stackoverflow.com/questions/58633347/how-to-make-a-httpwebrequest-function-async/58633451#58633451", "title": "How to make a HttpWebRequest function Async?", "body": "<pre><code> HttpClient client = new HttpClient();  \n\npublic async Task PostAsync(string actionName, object json)\n{\n        var content = new StringContent(json.ToString(), Encoding.UTF8,\"application/json\");\n        var resultRoles = await client.PostAsync(new Uri(actionName),content);\n}\n</code></pre>\n\n<p>You're new so I wont go into detail about HttpClient, but the instance should be reused. Try to do some self research on how this should be accomplished.</p>\n"}, {"comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 1, "creation_date": 1572469129, "post_id": 58633523, "comment_id": 103574090, "body": "And with <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.taskfactory.fromasync?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>TaskFactory.FromAsync()</code></a> you could turn this into a handsome awaitable method. But still not as good as using HttpClient."}], "tags": [], "owner": {"reputation": 143, "user_id": 8356484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8032aa296125cb4b9842029f70f4bc9?s=128&d=identicon&r=PG&f=1", "display_name": "R J", "link": "https://stackoverflow.com/users/8356484/r-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1572468968, "creation_date": 1572468968, "answer_id": 58633523, "question_id": 58633347, "link": "https://stackoverflow.com/questions/58633347/how-to-make-a-httpwebrequest-function-async/58633523#58633523", "title": "How to make a HttpWebRequest function Async?", "body": "<p>If you <em>really</em> want to use HttpWebRequest, the closest to async workflow would look something like this:</p>\n\n<pre><code>HttpWebRequest webRequest;\n\nvoid BeginWebRequest()\n{\n    webRequest.BeginGetResponse(new AsyncCallback(EndWebRequest),null);\n}\n\nvoid EndWebRequest(IAsyncResult result)\n{\n    webRequest.EndGetResponse(result);\n}\n\n</code></pre>\n\n<p>The code above uses the old \"callback\" style approach for async communication. The result of your request will be received through EndWebRequest method.</p>\n\n<p>That said, you should consider switching to HttpClient since it supports the far easier \"async -> await\" syntax.</p>\n"}], "owner": {"reputation": 83, "user_id": 11110341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d410c1f6363a6277f754ee4b23032df?s=128&d=identicon&r=PG&f=1", "display_name": "MJ9094", "link": "https://stackoverflow.com/users/11110341/mj9094"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 58633451, "answer_count": 2, "score": 1, "last_activity_date": 1572470985, "creation_date": 1572468125, "last_edit_date": 1572470985, "question_id": 58633347, "link": "https://stackoverflow.com/questions/58633347/how-to-make-a-httpwebrequest-function-async", "title": "How to make a HttpWebRequest function Async?", "body": "<p>I am trying to make my function async. How would I go about this? Its a HttpWebRequest</p>\n\n<pre><code>private void PostToGoogleChat(string json)\n{\n    HttpWebRequest httpWebRequest = (HttpWebRequest)WebRequest.Create(_chatUrl);\n    httpWebRequest.ContentType = \"application/json\";\n    httpWebRequest.Method = \"POST\";\n\n\n    using (var streamWriter = new StreamWriter(httpWebRequest.GetRequestStream()))\n    {\n        streamWriter.Write(json);\n    }\n\n    var httpResponse = (HttpWebResponse)httpWebRequest.GetResponse();\n    using (var streamReader = new StreamReader(httpResponse.GetResponseStream()))\n    {\n        var result = streamReader.ReadToEnd();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "syncfusion", "pmml"], "answers": [{"tags": [], "owner": {"reputation": 149, "user_id": 10053521, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mUAQoJZdthw/AAAAAAAAAAI/AAAAAAAAAjs/NRh1E6cNcAE/photo.jpg?sz=128", "display_name": "Kavin Raj", "link": "https://stackoverflow.com/users/10053521/kavin-raj"}, "is_accepted": true, "score": 1, "last_activity_date": 1572527725, "creation_date": 1572527725, "answer_id": 58644190, "question_id": 58633330, "link": "https://stackoverflow.com/questions/58633330/missing-null-datafield-values-in-pmml/58644190#58644190", "title": "Missing / Null DataField values in PMML", "body": "<p>Greetings from Syncfusion.</p>\n\n<p>We have confirmed that the reported issue is defect and logged defect report for this issue. </p>\n\n<p>Syncfusion PMML execution engine does not allow null, na and \u201c\u201d(empty string) for computation. Expected result would be throwing a error message for providing proper value if your data has null or empty value. The fix for the same will be included in our upcoming weekly NuGet release and it is expected to be available on 12 Nov, 2019.</p>\n\n<p>For any further queries, please create a new incident (under your account) from our support website to provide solution quickly. Please find the support website link from below.\n<a href=\"https://www.syncfusion.com/support/directtrac/incidents/newincident\" rel=\"nofollow noreferrer\">https://www.syncfusion.com/support/directtrac/incidents/newincident</a></p>\n\n<p>Note: I work for Syncfusion</p>\n"}], "owner": {"reputation": 5392, "user_id": 1396994, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7742f086edc869b1ddb3fa6179651689?s=128&d=identicon&r=PG", "display_name": "Cam Bruce", "link": "https://stackoverflow.com/users/1396994/cam-bruce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 58644190, "answer_count": 1, "score": 0, "last_activity_date": 1572527725, "creation_date": 1572468086, "last_edit_date": 1572468275, "question_id": 58633330, "link": "https://stackoverflow.com/questions/58633330/missing-null-datafield-values-in-pmml", "title": "Missing / Null DataField values in PMML", "body": "<p>I'm building a POC in C# using the Syncfusion PMML Execution Engine 17.3.0.21 in .Net core, trying to get predicted results from exported PMML based on models generated in both R and Python. </p>\n\n<p><strong>Question</strong>: Does the PMML and/or the Syncfusion Engine standard allow for <code>null</code> values to be supplied for a given PMML DataField? I have a datafield like this:</p>\n\n<p><code>&lt;DataField name=\"myAttribute\" optype=\"continous\" dataType=\"double\"/&gt;</code></p>\n\n<p>In my code I have a <code>IDictionary&lt;string, object&gt;</code> that contains an element with <code>\"myAttribute\"</code> and a value of <code>null</code> but always get a <code>NullReferenceException</code> when calling the engine. </p>\n\n<pre><code>at Syncfusion.PMML.Helper.GetActualInputsList(Dictionary`2 fieldValuePair, MiningSchema miningSchema, LocalTransformations localTransformation, TransformationDictionary transformationDictionary, PMMLModel pmmlModel)\n  at Syncfusion.PMML.MiningModelEvaluator.GetResult(Object obj, IModelOptions modelOptions)\n  at ml.pmml.PmmlEngine.Execute(IDictionary`2 parameters) in C:\\source\\ml.pmml\\PmmlEngine.cs:line 27\n  at ml.console.Program.Main(String[] args) in C:\\source\\ml.console\\Program.cs:line 86\n</code></pre>\n\n<p>The engine works fine when all values are provided. </p>\n"}, {"tags": ["c#", "asp.net", ".net", "c#-4.0"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1572468233, "post_id": 58633324, "comment_id": 103573701, "body": "Consider <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.timespan?view=netstandard-2.1\" rel=\"nofollow noreferrer\"><code>TimeSpan</code></a>."}], "answers": [{"tags": [], "owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "is_accepted": false, "score": 0, "last_activity_date": 1572468611, "creation_date": 1572468611, "answer_id": 58633454, "question_id": 58633324, "link": "https://stackoverflow.com/questions/58633324/how-do-i-store-only-time-in-datetime-object/58633454#58633454", "title": "How do I store only Time in datetime object?", "body": "<p>Time without a date is usually meaningless.   </p>\n\n<p>However, if you must store only the time, then <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.timespan?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>TimeSpan</code></a> would be appropriate.  It offers some advantage over <code>UInt64</code> by way of convenient methods of transforming milliseconds into other time units.</p>\n\n<p>This will end up holding the milliseconds since \"the beginning\", where \"the beginning\" will have to be defined by you.</p>\n"}], "owner": {"reputation": 55, "user_id": 12193619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169e6edc22dbca2d231320b71575fba6?s=128&d=identicon&r=PG&f=1", "display_name": "Stackyboy", "link": "https://stackoverflow.com/users/12193619/stackyboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "closed_date": 1572468957, "answer_count": 1, "score": 0, "last_activity_date": 1572468611, "creation_date": 1572468019, "question_id": 58633324, "link": "https://stackoverflow.com/questions/58633324/how-do-i-store-only-time-in-datetime-object", "closed_reason": "Duplicate", "title": "How do I store only Time in datetime object?", "body": "<p>How do I only store the time part in date time object? I am doing this:</p>\n\n<pre><code>            DateTime.TryParseExact(DateTime.Now.ToString(\"HH:mm:ss\"), \"HH:mm:ss\",\n                              new CultureInfo(\"en-US\"),\n                              DateTimeStyles.None, out outTime);\n            Datetime LogTime = outTime;\n</code></pre>\n\n<p>But it still add date to it. I only want like <code>\"13:01:03\"</code> instead of <code>\"2019-10-31 13:01:03.000\"</code>.</p>\n"}, {"tags": ["c#", "nreco"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7814195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e3395b1185c4bc9af5b123a922c6cd?s=128&d=identicon&r=PG&f=1", "display_name": "zsender", "link": "https://stackoverflow.com/users/7814195/zsender"}, "is_accepted": false, "score": 0, "last_activity_date": 1572502509, "last_edit_date": 1572502509, "creation_date": 1572470024, "answer_id": 58633734, "question_id": 58633176, "link": "https://stackoverflow.com/questions/58633176/custom-names-for-aggregates/58633734#58633734", "title": "Custom names for aggregates", "body": "<p>Create a <strong>ResultAmount</strong> class. That will return a description of the result, not the string. Something like this:</p>\n\n<pre><code>        class ResultAmount\n        {\n            public string Label { get; set; }\n            public decimal SumAmount { get; set; }\n\n            public override string ToString()\n            {\n                return $\"{Label}: {SumAmount}\";\n            }\n        }\n</code></pre>\n\n<p>For different factories, the <strong>Label</strong> value may be different.\nThen you have a factory:</p>\n\n<pre><code>        class TotalCalculations\n        {\n            public ResultAmount SumAggregatoryFactory()\n            {\n                return new ResultAmount\n                {\n                    Label = \"Total\",\n                    SumAmount = 100\n                };\n            }\n        }\n</code></pre>\n\n<p>And the point of calling factory:</p>\n\n<pre><code>    class BillingService\n    {\n        public void Print(TotalCalculations calc)\n        {\n            //when calling the method, you can use the standard Label                \n            string original = calc.SumAggregatoryFactory().ToString();\n\n             //or take only the sum and configure the result string yourself\n            string custom = $\"My message: {calc.SumAggregatoryFactory().SumAmount}\";\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6615, "user_id": 2756471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oAcuW.jpg?s=128&g=1", "display_name": "Vitaliy Fedorchenko", "link": "https://stackoverflow.com/users/2756471/vitaliy-fedorchenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1572520211, "creation_date": 1572520211, "answer_id": 58642090, "question_id": 58633176, "link": "https://stackoverflow.com/questions/58633176/custom-names-for-aggregates/58642090#58642090", "title": "Custom names for aggregates", "body": "<p>If you use PivotData Toolkit writers (like <code>PivotTableHtmlWriter</code>) you can customize measure labels as you with FormatMeasureHeader property:</p>\n\n<pre><code>pvtHtmlWr.FormatMeasureHeader = (aggrFactory, measureIndex) =&gt; {\n  // customize header by factory type or measure index\n  return aggrFactory.ToString();\n};\n</code></pre>\n\n<p>(see also: <a href=\"https://www.nrecosite.com/pivotdata/format-pivot-table.aspx\" rel=\"nofollow noreferrer\">https://www.nrecosite.com/pivotdata/format-pivot-table.aspx</a>).</p>\n\n<p>In case of custom rendering you can define your own formatting of measure names that takes into account aggregator type.</p>\n"}], "owner": {"reputation": 13, "user_id": 11964906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8428f1beff33c4108e279da9a179efd0?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/11964906/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 58642090, "answer_count": 2, "score": 1, "last_activity_date": 1572520211, "creation_date": 1572467282, "question_id": 58633176, "link": "https://stackoverflow.com/questions/58633176/custom-names-for-aggregates", "title": "Custom names for aggregates", "body": "<p>In using the different aggregator factories is there a method or override that will allow for defining a custom name for the return label. For example, calling the SumAggregatoryFactory to sum the \"Amount\" field will return a row label of \"Sum of Amount\". What if instead we wanted it to be \"Total Amount\", \"Total\" or some other custom value? </p>\n"}, {"tags": ["c#", "unity3d", "htc-vive"], "answers": [{"tags": [], "owner": {"reputation": 4154, "user_id": 224734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pu8AA.jpg?s=128&g=1", "display_name": "frankhermes", "link": "https://stackoverflow.com/users/224734/frankhermes"}, "is_accepted": false, "score": 0, "last_activity_date": 1572507505, "last_edit_date": 1572507505, "creation_date": 1572469195, "answer_id": 58633568, "question_id": 58633143, "link": "https://stackoverflow.com/questions/58633143/trying-to-raycast-from-htc-vive-controller-in-unity/58633568#58633568", "title": "Trying to Raycast From HTC Vive Controller in Unity", "body": "<p>Have you looked at the SteamVR Laserpointer example? It's in <code>Assets/SteamVR/Extras</code> if you've installed the SteamVR package in your project. I haven't tried it myself, but it sounds like what you're looking for.</p>\n"}], "owner": {"reputation": 13, "user_id": 12217609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/338cad451e6a5ba5373b46a50f3c1df9?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/12217609/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572507505, "creation_date": 1572467154, "last_edit_date": 1572467335, "question_id": 58633143, "link": "https://stackoverflow.com/questions/58633143/trying-to-raycast-from-htc-vive-controller-in-unity", "title": "Trying to Raycast From HTC Vive Controller in Unity", "body": "<p>I want to be able to point at an object and for it to know what the object is and then destroy it on click (I have research participants that need to point at fish swimming and then when they click it goes away and they get a point. I just don't know where to start in getting raycasting to work and for the controller to know what it's pointing at. I am also using Steam VR. Thank you!</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 4, "creation_date": 1572467670, "post_id": 58633116, "comment_id": 103573451, "body": "Well, if you have the database, you can do <a href=\"https://docs.microsoft.com/en-us/ef/ef6/modeling/code-first/workflows/existing-database\" rel=\"nofollow noreferrer\">code first from an existing database</a>."}, {"owner": {"reputation": 506, "user_id": 1371211, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/vih2Q.png?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/1371211/ryan"}, "reply_to_user": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1572467963, "post_id": 58633116, "comment_id": 103573570, "body": "Hmm, great point, I did not consider that. I do have the database, but I am not 100% sure this code is up to date with that schema."}, {"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 2, "creation_date": 1572468720, "post_id": 58633116, "comment_id": 103573916, "body": "If the code is not up to date with the schema then it shouldn&#39;t be functional currently.  It would require updating either way."}], "owner": {"reputation": 506, "user_id": 1371211, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/vih2Q.png?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/1371211/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572468551, "creation_date": 1572466997, "last_edit_date": 1572468551, "question_id": 58633116, "link": "https://stackoverflow.com/questions/58633116/recovery-of-an-asp-net-mvc-application-and-entity-framework-upgrade", "title": "Recovery of an ASP.NET MVC application and Entity Framework upgrade", "body": "<p>A client had a developer leave abruptly, and did they did not leave any source code for a project. So, I have been tasked with de-compiling the dll, and rebuilding the project.</p>\n\n<p>I have a fairly clean de-compile and I have been copying classes and stuff into a new ASP.NET MVC project shell. I believe the previous project was using Entity Framework since there are connection strings in the <code>web.config</code> that use EF attributes.</p>\n\n<p>One of the items I do not have for this project is the EDMX file and all associated generated classes and templates. The compile code has all the data classes. So I am wondering a couple things.</p>\n\n<p>Can I strip out any possible reference to the database first EDMX patterns and instead convert the de-compiled data classes to code first with migrations? (I would prefer)</p>\n\n<p>Ryan</p>\n"}, {"tags": ["c#", "collections", "list-template"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1572467812, "post_id": 58633092, "comment_id": 103573518, "body": "I&#39;m not sure I understand fully, but it sounds like introducing an <code>interface</code> is the way to go. The interface could have only the properties that you want to expose in it."}, {"owner": {"reputation": 17, "user_id": 2767017, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002159870426/picture?type=large", "display_name": "Tim Hays", "link": "https://stackoverflow.com/users/2767017/tim-hays"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1572467841, "post_id": 58633092, "comment_id": 103573527, "body": "Sorry if this seems kind of jumbled.  I tried to follow the question template provided."}, {"owner": {"reputation": 17, "user_id": 2767017, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002159870426/picture?type=large", "display_name": "Tim Hays", "link": "https://stackoverflow.com/users/2767017/tim-hays"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1572467973, "post_id": 58633092, "comment_id": 103573575, "body": "I want to expose one list in two different locations so that in the 2nd location not all entries can be seen.  Any changes to either list (Add, Remove, property changes, etc) should be visible by at both locations."}, {"owner": {"reputation": 764, "user_id": 2899478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juuUm.jpg?s=128&g=1", "display_name": "o_weisman", "link": "https://stackoverflow.com/users/2899478/o-weisman"}, "edited": false, "score": 0, "creation_date": 1572468545, "post_id": 58633092, "comment_id": 103573829, "body": "Must items be removed directly from the filtered list? Can&#39;t you just add a remove(item) function to the Table class and pass the filteted list as IEnumerable&lt;Constraint&gt;?"}, {"owner": {"reputation": 17, "user_id": 2767017, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002159870426/picture?type=large", "display_name": "Tim Hays", "link": "https://stackoverflow.com/users/2767017/tim-hays"}, "edited": false, "score": 0, "creation_date": 1572479200, "post_id": 58633092, "comment_id": 103577042, "body": "I could do that but I am not seeing how this could help."}], "answers": [{"tags": [], "owner": {"reputation": 17, "user_id": 2767017, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002159870426/picture?type=large", "display_name": "Tim Hays", "link": "https://stackoverflow.com/users/2767017/tim-hays"}, "is_accepted": false, "score": 0, "last_activity_date": 1572501999, "creation_date": 1572501999, "answer_id": 58637683, "question_id": 58633092, "link": "https://stackoverflow.com/questions/58633092/expose-a-collection-but-exclude-parts/58637683#58637683", "title": "Expose a Collection But Exclude Parts", "body": "<p>I decided to write a custom List type class to accomplish this.  I will post the code below.  I haven't tested yet but I figured this would be a good start for anyone else who wants to do the same thing.</p>\n\n<p>hmmmm, seems the class is too large to fit in here.  I will just post the key parts and skip the public methods, which just implement the various interfaces.</p>\n\n<pre><code>using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Collections.ObjectModel;\nusing System.Linq;\n\nnamespace CodeWriter.Collections.Generic\n{\n    /// &lt;summary&gt;\n    /// This represents a strongly typed list of objects that can be accessed by index. Provides methods to search, sort and manipulate the list.\n    /// This class serves as a wrapper for a &lt;see cref=\"List{T}\"/&gt;.  The internal class can be reached by the &lt;see cref=\"SourceList\"/&gt; property.\n    /// The elements that this class exposes from the &lt;see cref=\"SourceList\"/&gt; can be controlled by changing the &lt;see cref=\"Filter\"/&gt; property.\n    /// &lt;/summary&gt;\n    /// &lt;typeparam name=\"T\"&gt;The type of elements in the list.&lt;/typeparam&gt;\n    /// &lt;remarks&gt;\n    /// This class was created to support situations where the functionality of two or more &lt;see cref=\"List{T}\"/&gt; collections are needed where one is the Master Collection\n    /// and the others are Partial Collections.  The Master Collection is a &lt;see cref=\"List{T}\"/&gt; and exposes all elements in the collection.  The Partial Collections \n    /// are &lt;see cref=\"FilteredList{T}\"/&gt; classes (this class) and only expose the elements chosen by the &lt;see cref=\"FilteredList{T}\"/&gt; property of this class.  When elements are modified,\n    /// in either type of collection, the changes show up in the other collections because in the backend they are the same list.  When elements are added or deleted from the Partial Collections,\n    /// they will disappear from the Master Collection.  When elements are deleted from the Master Collection, they will not be available in the Partial Collection but it \n    /// may not be apparent because the &lt;see cref=\"Filter\"/&gt; property may not be exposing them.\n    /// &lt;/remarks&gt;\n    public class FilteredList&lt;T&gt; : IList&lt;T&gt;, ICollection&lt;T&gt;, IEnumerable&lt;T&gt;, IEnumerable, IList, ICollection, IReadOnlyList&lt;T&gt;, IReadOnlyCollection&lt;T&gt;\n    {\n        #region Public Constructor\n        public FilteredList(List&lt;T&gt; SourceList)\n        {\n            if (SourceList == null)\n            {\n                throw new ArgumentNullException(\"SourceList\");\n            }\n\n            _SourceList = SourceList;\n        }\n\n        public FilteredList()\n        {\n            _SourceList = new List&lt;T&gt;();\n        }\n\n        public FilteredList(IEnumerable&lt;T&gt; Collection)\n        {\n            if (Collection == null)\n            {\n                throw new ArgumentNullException(\"Collection\");\n            }\n\n            _SourceList = new List&lt;T&gt;(Collection);\n        }\n        #endregion\n\n        #region Protected Members\n        protected List&lt;T&gt; _SourceList;\n        protected Func&lt;T, bool&gt; _Filter;\n        #endregion\n\n        #region Public Properties\n        #region Source List Properties\n        /// &lt;summary&gt;\n        /// Gets or sets the base class that this class is a wrapper around.\n        /// &lt;/summary&gt;\n        public List&lt;T&gt; SourceList\n        {\n            get\n            {\n                return _SourceList;\n            }\n            set\n            {\n                _SourceList = value;\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Gets or sets the value used to filter the &lt;see cref=\"SourceList\"/&gt;.\n        /// &lt;/summary&gt;\n        public Func&lt;T, bool&gt; Filter\n        {\n            get\n            {\n                return _Filter;\n            }\n            set\n            {\n                _Filter = value;\n            }\n        }\n        #endregion\n        #region Normal List&lt;T&gt; Implementation\n        /// &lt;summary&gt;\n        /// Provides access to the collection the in the same manner as an &lt;see cref=\"Array\"/&gt;.\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"Index\"&gt;The Index of the element you want to retrieve.  Valid values are from zero to the value in the &lt;see cref=\"Count\"/&gt; property.&lt;/param&gt;\n        /// &lt;returns&gt;The element at the position provided with the indexer.&lt;/returns&gt;\n        public T this[int Index]\n        {\n            get\n            {\n                List&lt;T&gt; Selected = _SourceList.Where(_Filter).ToList();\n                return Selected[Index];\n            }\n            set\n            {\n                List&lt;T&gt; Selected = _SourceList.Where(_Filter).ToList();\n                Selected[Index] = value;\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Provides access to the collection the in the same manner as an &lt;see cref=\"Array\"/&gt;.\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"Index\"&gt;The Index of the element you want to retrieve.  Valid values are from zero to the value in the &lt;see cref=\"Count\"/&gt; property.&lt;/param&gt;\n        /// &lt;returns&gt;The element at the position provided with the indexer.&lt;/returns&gt;\n        /// &lt;remarks&gt;This is required for IList implementation.&lt;/remarks&gt;\n        object IList.this[int Index]\n        {\n            get\n            {\n                return this[Index];\n            }\n            set\n            {\n                if ((value is T) == false)\n                {\n                    throw new ArgumentException(\"Value passed is not a valid type.\");\n                }\n\n                this[Index] = (T)value;\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Gets or sets the total number of elements the internal data structure can hold without resizing.\n        /// &lt;/summary&gt;\n        public int Capacity\n        {\n            get\n            {\n                return _SourceList.Capacity;\n            }\n            set\n            {\n                // We cannot let them shrink capacity because this class is a wrapper for the List&lt;T&gt; in the _SourceList property.\n                //  They don't get to see all the entries in that list because it is filtered.  Therefore it is not safe for them to shrink capacity.\n\n                // We check if they are shrinking the capacity.\n                if (value &gt;= _SourceList.Capacity)\n                {\n                    _SourceList.Capacity = value;\n                }\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Gets the number of elements contained in the &lt;see cref=\"FilteredList{T}\"/&gt;.\n        /// &lt;/summary&gt;\n        public int Count\n        {\n            get\n            {\n                List&lt;T&gt; Selected = _SourceList.Where(_Filter).ToList();\n\n                return Selected.Count();\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Gets a value indicating whether the &lt;see cref=\"FilteredList{T}\"/&gt; has a fixed size.\n        /// &lt;/summary&gt;\n        public bool IsFixedSize\n        {\n            get\n            {\n                return false;\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Gets a value indicating whether the &lt;see cref=\"FilteredList{T}\"/&gt; is read-only.\n        /// &lt;/summary&gt;\n        public bool IsReadOnly\n        {\n            get\n            {\n                return false;\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Gets a value indicating whether access to the &lt;see cref=\"FilteredList{T}\"/&gt; is synchronized (thread safe).\n        /// &lt;/summary&gt;\n        public bool IsSynchronized\n        {\n            get\n            {\n                return false;\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Gets an object that can be used to synchronize access to the &lt;see cref=\"FilteredList{T}\"/&gt;.\n        /// &lt;/summary&gt;\n        public object SyncRoot\n        {\n            get\n            {\n                return _SourceList;\n            }\n        }\n        #endregion\n        #endregion\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 2767017, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002159870426/picture?type=large", "display_name": "Tim Hays", "link": "https://stackoverflow.com/users/2767017/tim-hays"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572501999, "creation_date": 1572466864, "question_id": 58633092, "link": "https://stackoverflow.com/questions/58633092/expose-a-collection-but-exclude-parts", "title": "Expose a Collection But Exclude Parts", "body": "<p>In a parent class, I have a collection.  In a child class, I want to expose a part of the parent class collection.  I want changes from either location to be affect the other.  </p>\n\n<p>My real life situation is I am creating a part of an application that will record a database design.  I have a ConstraintList collection inside of a Database class.  The ConstraintList contains a Constraint class for each constraint in the database.  I also have a TablesList collection  in the Database class, that contains Table classes.  In the Table class I have a ForeignKeyConstraintList where I want to expose the constraints from the parent (Database class) ConstraintList that are foreign key constraints for this Table class.</p>\n\n<pre><code>+-Database Class\n|                            \n+--ConstraintList  &lt;-----------\n|                             |\n+--TableList              Same List\n   |                          |\n   +-Table Class              |\n     |                        |\n     +-ForeignKeyConstraintList\n</code></pre>\n\n<p>I have tried using an existing List class from the primary collection and using Linq to filter it to another List collection.  However this doesn't work because this makes two List classes.  If an entry is removed from the one List it still exists in the other List.</p>\n\n<p>I thought about having the ForeignKeyConstraintList property of the Table class pull directly from the ConstraintList property of the Database class each time it is called but the act of filtering it causes it to create a new List class and thus any entries removed from ForeignKeyConstraintList would not be removed from the ConstraintList.</p>\n\n<p>Another option I came up with so far is creating a new class that implements the same interfaces as List but doesn't subclass from it.  Then using a private field to store a reference to the primary List class.  Then writing custom Add and Remove methods that sync any changes back to the ConstraintList.  I would also need to create a custom implementation of the IEnemerable and IEnumerable to skip items that don't meet the filter criteria.</p>\n\n<p>In a parent class, I have a collection.  In a child class, I want to expose a part of the parent class collection.  I want changes from either location to be affect the other.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 3, "creation_date": 1572466786, "post_id": 58633052, "comment_id": 103573126, "body": "<code>arr.add()</code> is not a real thing. How are you really setting up the array? Unless you have an extension method you haven&#39;t told us about."}, {"owner": {"reputation": 133051, "user_id": 501250, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c39ae7fe43cf30bc0f4d4051defcbd87?s=128&d=identicon&r=PG", "display_name": "cdhowie", "link": "https://stackoverflow.com/users/501250/cdhowie"}, "edited": false, "score": 4, "creation_date": 1572466855, "post_id": 58633052, "comment_id": 103573152, "body": "Sounds like you want <code>List&lt;T&gt;</code> instead of an array."}, {"owner": {"reputation": 35, "user_id": 10945857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af10e0c4ac1e8fbe7327529cc8968308?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/10945857/samuel"}, "edited": false, "score": 0, "creation_date": 1572466912, "post_id": 58633052, "comment_id": 103573168, "body": "Thanks, however the school gave skeleton code which gave me the <code>T[]</code>. So I would assume I need to use that, if I could use list it would be much easier as I could do <code>arr.Count()</code>.  Is it possible to check for uninitialise values?"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1572466913, "post_id": 58633052, "comment_id": 103573170, "body": "That <i>is</i> an array with 100 elements. Depending on how you&#39;re actually populating it in the real code that compiles (if there is any), either 97 or all 100 of them are uninitialized. But the array doesn&#39;t keep track of that. It doesn&#39;t care. It&#39;s not even necessarily a meaningful distinction: In an array of 100 integers, they&#39;re all zero by default. If you set <code>a[14]</code> to zero, what would you want Count() to return?"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1572467028, "post_id": 58633052, "comment_id": 103573210, "body": "<code>int count = arr.Count(n =&gt; n != default(T));</code>? Watch what happens if you try adding a <code>0</code> value to the array though. EDIT: @EdPlunkett beat me to it."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 3, "creation_date": 1572467162, "post_id": 58633052, "comment_id": 103573257, "body": "@Samuel this seems to be homework, and to your credit you aren&#39;t just asking us to do the assignment for you -- but maybe if you explain more what your actual goal is, we could steer you in the right direction"}, {"owner": {"reputation": 35, "user_id": 10945857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af10e0c4ac1e8fbe7327529cc8968308?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/10945857/samuel"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1572467645, "post_id": 58633052, "comment_id": 103573435, "body": "@EdPlunkett for school I need to create multiple basic data structures one of them is a priorityqueue. To do this school gave me skeleton code (interface) and test so the only thing I needed to do was to implement it, constructor and functions from interface. One of functions is to calculate the size of the priorityqueue another one is the <code>.add</code> function and other ones."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1572467761, "post_id": 58633052, "comment_id": 103573496, "body": "@Samuel You can add your own private field to keep track of the last index where you \u201cadded\u201d to the array."}, {"owner": {"reputation": 35, "user_id": 10945857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af10e0c4ac1e8fbe7327529cc8968308?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/10945857/samuel"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1572467960, "post_id": 58633052, "comment_id": 103573567, "body": "@itsme86 edited my question to add more explanation about the add function"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1572468097, "post_id": 58633052, "comment_id": 103573633, "body": "Re your edit: that <code>size</code> field that you already have is the only way to know what you&#39;re asking because that&#39;s what&#39;s tracking the number of items you&#39;ve added. That&#39;s exactly what <code>List&lt;T&gt;</code> does. Using <code>default(T)</code> as a marker can give incorrect results because it can be a valid value for certain types."}, {"owner": {"reputation": 35, "user_id": 10945857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af10e0c4ac1e8fbe7327529cc8968308?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/10945857/samuel"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1572468335, "post_id": 58633052, "comment_id": 103573740, "body": "@EdPlunkett thanks your answer to just create a second one was very helpful, and in a later stage I could just create a function that would sort it by priority and put it in the array. Thanks!"}, {"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "edited": false, "score": 0, "creation_date": 1572468615, "post_id": 58633052, "comment_id": 103573871, "body": "@Samuel Perhaps it may help you to do your work since what you expose looks like that: <a href=\"https://referencesource.microsoft.com/#mscorlib/system/collections/generic/list.cs\" rel=\"nofollow noreferrer\">List.cs</a>"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 10945857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af10e0c4ac1e8fbe7327529cc8968308?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/10945857/samuel"}, "edited": false, "score": 0, "creation_date": 1572468225, "post_id": 58633294, "comment_id": 103573697, "body": "To use your second option I could have a separate array that is a List and in another function would sort it and put it in the array, thanks!"}], "tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": true, "score": 1, "last_activity_date": 1572468365, "last_edit_date": 1572468365, "creation_date": 1572467833, "answer_id": 58633294, "question_id": 58633052, "link": "https://stackoverflow.com/questions/58633052/getting-the-number-of-elements-in-a-generic-array/58633294#58633294", "title": "Getting the number of elements in a generic array", "body": "<p>Here the array has not a capacity of 100: it has 100 items.</p>\n\n<p>An array has no capacity, it has <code>Length</code> items...</p>\n\n<p>For example, an array of 100 integers has 100 boxes initialized to 0.</p>\n\n<p>And an array has no <code>add</code> method...</p>\n\n<p>You may use a <code>List&lt;T&gt;</code> instead and you'll have <code>Count</code> property and <code>Add</code> method.</p>\n\n<p><code>List&lt;&gt;</code> is more smooth and usefull than arrays, but a little less optimized.</p>\n\n<p>If the work is to use a such initialized array, you may use @itsme86 advice in question comment.</p>\n\n<p>But here what is <code>add</code> method in your code? </p>\n\n<p>You can use your intended array like that:</p>\n\n<pre><code>public class GenericArray&lt;T&gt;\n{\n  public readonly T[] arr = new T[100];\n}\n\nvar myArray = new GenericArray&lt;int&gt;();\n\nmyArray.arr[0] = 3;\nmyArray.arr[1] = 2;\nmyArray.arr[10] = 1;\n</code></pre>\n\n<p>And you still have 100 items: <code>myArray.arr.Length</code> is <code>100</code>.</p>\n\n<p>You can use a generic list like that:</p>\n\n<pre><code>public class GenericList&lt;T&gt;\n{\n  public readonly List&lt;T&gt; list = new List&lt;T&gt;(100);\n}\n\nvar myList = new GenericList&lt;int&gt;();\n\nmyList.list.Add(3);\nmyList.list.Add(2);\nmyList.list.Add(1);\n</code></pre>\n\n<p>And here you have 3 items: <code>myList.list.Count</code> is <code>3</code>.</p>\n\n<p>The list has here a capacity of 100: it means you can add items without resizing the internal array.</p>\n"}], "owner": {"reputation": 35, "user_id": 10945857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af10e0c4ac1e8fbe7327529cc8968308?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/10945857/samuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 58633294, "answer_count": 1, "score": -2, "last_activity_date": 1572471522, "creation_date": 1572466699, "last_edit_date": 1572471522, "question_id": 58633052, "link": "https://stackoverflow.com/questions/58633052/getting-the-number-of-elements-in-a-generic-array", "title": "Getting the number of elements in a generic array", "body": "<p>For a school project, I need to return the number of elements in a generic array (a <code>T[]</code> array).</p>\n\n<p>In the constructor I set the array like this: </p>\n\n<pre><code>T[] arr = new T[100];\narr.add(3);\narr.add(2);\narr.add(1);\n</code></pre>\n\n<p>To find the size of the array I tried <code>array.length</code>, however this return the capacity which would be 100 but it should be 3.</p>\n\n<p>How could I find the correct answer 3?</p>\n\n<p>EDIT:</p>\n\n<p>The <code>add</code> function is a simple function that checks if the size is smaller than <code>default_capacity</code> add data to array. Size variable is crucial and the function expects the total number of elements in the array.</p>\n\n<pre><code>public void Add(T x)\n{\n    if(size &lt; DEFAULT_CAPACITY)\n    {    \n       array[size] = x;\n    } \n}\n</code></pre>\n"}, {"tags": ["c#", "asynchronous", "async-await", "task-parallel-library"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 3, "creation_date": 1572468179, "post_id": 58633044, "comment_id": 103573668, "body": "Calling <code>Wait()</code> is almost always wrong, and especially when it&#39;s easy to use <code>await</code> instead. So your second example is clearly incorrect. But you also call <code>Wait()</code> on the outer task in both examples. So the first example is also incorrect. Unfortunately, there&#39;s not really enough context to provide good advice. Most likely you should make <code>MyMethod()</code> async, and then in it <code>await Task.Run(Foo.Fim);</code> followed by <code>await Task.Delay(5000);</code>. Push the await all the way back up the call stack. But who can really tell, with such a vague question?"}, {"owner": {"reputation": 4769, "user_id": 688357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3626fc691f53efdb3245996a0509c8?s=128&d=identicon&r=PG&f=1", "display_name": "William Xifaras", "link": "https://stackoverflow.com/users/688357/william-xifaras"}, "edited": false, "score": 2, "creation_date": 1572471367, "post_id": 58633044, "comment_id": 103574879, "body": "Task.Wait will synchronously block on a Task. Why would you want to do that?"}, {"owner": {"reputation": 71, "user_id": 8143566, "user_type": "registered", "profile_image": "https://graph.facebook.com/951121855030085/picture?type=large", "display_name": "Rajeev Verma", "link": "https://stackoverflow.com/users/8143566/rajeev-verma"}, "edited": false, "score": 0, "creation_date": 1572495402, "post_id": 58633044, "comment_id": 103580206, "body": "Actually asynchronous operation is not really needed in my case. All what we need is to run some code in a different thread and introduce a delay of 5 seconds in the operation that is being run in the different thread. so foo.Fim() should run on  a different thread and when Fim execution is done I need to introduce a delay of 5 seconds in this thread where the Fim() is running . The intent of running in a different thread is not to block the main thread."}, {"owner": {"reputation": 71, "user_id": 8143566, "user_type": "registered", "profile_image": "https://graph.facebook.com/951121855030085/picture?type=large", "display_name": "Rajeev Verma", "link": "https://stackoverflow.com/users/8143566/rajeev-verma"}, "edited": false, "score": 0, "creation_date": 1572495703, "post_id": 58633044, "comment_id": 103580268, "body": "Because MyMethod() is being used at so many places , I cannot even make the MyMethod() async . so cannot await for Task.Run(Foo.Fim) and as i mentioned in my previous comment asynchronous operation is not intended as well. I am relatively new to threading in C#"}], "answers": [{"tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": true, "score": 2, "last_activity_date": 1572945958, "creation_date": 1572945958, "answer_id": 58708197, "question_id": 58633044, "link": "https://stackoverflow.com/questions/58633044/why-to-use-async-inside-task-run/58708197#58708197", "title": "Why to use Async inside Task.Run?", "body": "<p>What you need is a throttler, and a handy class for implementing one is the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.semaphoreslim\" rel=\"nofollow noreferrer\"><code>SemaphoreSlim</code></a>:</p>\n\n<blockquote>\n  <p>Limits the number of threads that can access a resource or pool of resources concurrently.  </p>\n</blockquote>\n\n<pre><code>private SemaphoreSlim _myMethodSemaphore = new SemaphoreSlim(1);\n\nprivate void MyMethod()\n{\n    _ = Task.Run(async () =&gt;\n    {\n        await _myMethodSemaphore.WaitAsync();\n        try\n        {\n            Foo.Fim();\n        }\n        finally\n        {\n            await Task.Delay(5000); // Impose the delay even in case of an exception\n            _myMethodSemaphore.Release();\n        }\n    });\n}\n</code></pre>\n\n<p>Note that there is no <code>Wait()</code> in this example. The only blocking call is the <code>Foo.Fim()</code> method call. By making this method asynchronous you could have a perfect solution regarding scalability: <code>await Foo.FimAsync()</code></p>\n"}], "owner": {"reputation": 71, "user_id": 8143566, "user_type": "registered", "profile_image": "https://graph.facebook.com/951121855030085/picture?type=large", "display_name": "Rajeev Verma", "link": "https://stackoverflow.com/users/8143566/rajeev-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58708197, "answer_count": 1, "score": -1, "last_activity_date": 1572946009, "creation_date": 1572466677, "last_edit_date": 1572946009, "question_id": 58633044, "link": "https://stackoverflow.com/questions/58633044/why-to-use-async-inside-task-run", "title": "Why to use Async inside Task.Run?", "body": "<p>While working on some code, I came across the following,</p>\n\n<h2>Approach 1:</h2>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private void MyMethod()\n{\n    var t = Task.Run(\n        async () =&gt;\n        {\n            Foo.Fim();\n            await Task.Delay(5000); \n        });\n    t.Wait();\n}\n</code></pre>\n\n<p>We deliberately introduce a delay of 5 seconds to allow <code>Fim()</code> to complete its work. It is required to introduce the delay - imagine this to be calling a third party API which mandates a cooling period of 5 seconds.</p>\n\n<p>I wanted to understand if this the right approach to wait for an operation to complete. How is Approach 1 different from the following Approach 2? Or is there a better way to do this? All we need is to have the cooling period delay and avoid blocking the UI.</p>\n\n<h2>Approach 2:</h2>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private void MyMethod()\n{\n    var t = Task.Run(\n        () =&gt;         \n        {\n            Foo.Fim();\n            Task.Delay(5000).Wait(); // some operation which takes 5  seconds.\n        });\n    t.Wait();\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "sqlite", "linq"], "comments": [{"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "edited": false, "score": 0, "creation_date": 1572467015, "post_id": 58632945, "comment_id": 103573206, "body": "Perhaps a conflict with x32 and x64 version. Visual Studio 2017 or previous is x32 (don&#39;t know for 2019). What is your target: WinForms, WPF, ASP.NET, Core...? Do you have exception in VS while designing or while running? Do you build AnyCPU, x32 or x64? Have you installed SQLite provider in GAC as x32 or x64 or both, or did you used add by browsing? What provider do you use, which company? I see you have Microsoft.Data.SQLite AND System.Data.SQLite... is it normal? Have you edited the app.config manually or is the designer created it?"}, {"owner": {"reputation": 33, "user_id": 4410556, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H408G.jpg?s=128&g=1", "display_name": "Efe", "link": "https://stackoverflow.com/users/4410556/efe"}, "reply_to_user": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "edited": false, "score": 0, "creation_date": 1572468275, "post_id": 58632945, "comment_id": 103573716, "body": "VS 2017 and WinForms. I have tried both x32 and x64 GAC.   I manually edited the app.config file when searching for a solution. I added provider this one; invariantName=&quot;System.Data.SQLite&quot;  and I don&#39;t know if it would be a problem to add both them Microsoft.Data.SQLite ass well as System.Data.SQLite."}], "owner": {"reputation": 33, "user_id": 4410556, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H408G.jpg?s=128&g=1", "display_name": "Efe", "link": "https://stackoverflow.com/users/4410556/efe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1572466248, "creation_date": 1572466248, "question_id": 58632945, "link": "https://stackoverflow.com/questions/58632945/how-to-solve-c-sqlite-provider-problem", "title": "How to solve C# - SQlite provider problem", "body": "<p>I have tried all the solutions but I get this error; </p>\n\n<p><strong>System.NotSupportedException: 'Unable to determine the provider name for provider factory of type 'System.Data.SQLite.SQLiteFactory'. Make sure that the ADO.NET provider is installed or registered in the application config.'</strong></p>\n\n<p>I have installed all packages and dll's.<a href=\"https://i.stack.imgur.com/Jm0WK.png\" rel=\"nofollow noreferrer\">picture of references</a></p>\n\n<p>and my App.config;</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;section name=\"entityFramework\" type=\"System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\" requirePermission=\"false\" /&gt;\n  &lt;/configSections&gt;\n\n    &lt;entityFramework&gt;\n     &lt;providers&gt;\n      &lt;provider invariantName=\"System.Data.SqlClient\" type=\"System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer\" /&gt;\n      &lt;provider invariantName=\"System.Data.SQLite.EF6\" type=\"System.Data.SQLite.EF6.SQLiteProviderServices, System.Data.SQLite.EF6\" /&gt;\n      &lt;provider invariantName=\"System.Data.SQLite\" type=\"System.Data.SQLite.EF6.SQLiteProviderServices, System.Data.SQLite.EF6\" /&gt;\n    &lt;/providers&gt;\n  &lt;/entityFramework&gt;\n\n    &lt;system.data&gt;\n    &lt;DbProviderFactories&gt;\n      &lt;remove invariant=\"System.Data.SQLite\" /&gt;\n      &lt;add name=\"SQLite Data Provider\" invariant=\"System.Data.SQLite\" description=\".NET Framework Data Provider for SQLite\" type=\"System.Data.SQLite.SQLiteFactory, System.Data.SQLite\" /&gt;\n      &lt;remove invariant=\"System.Data.SQLite.EF6\" /&gt;\n      &lt;add name=\"SQLite Data Provider (Entity Framework 6)\" invariant=\"System.Data.SQLite.EF6\" description=\".NET Framework Data Provider for SQLite (Entity Framework 6)\" type=\"System.Data.SQLite.EF6.SQLiteProviderFactory, System.Data.SQLite.EF6\" /&gt;\n    &lt;/DbProviderFactories&gt;\n  &lt;/system.data&gt;\n\n&lt;connectionStrings&gt;&lt;add name=\"mainEntities\" connectionString=\"metadata=res://*/Model1.csdl|res://*/Model1.ssdl|res://*/Model1.msl;provider=System.Data.SQLite.EF6;provider connection string=&amp;quot;data source=C:\\Users\\MONS\\Desktop\\XmltoCsvBeta\\XmltoCsvBeta\\bin\\Debug\\Data\\DB.db&amp;quot;\" providerName=\"System.Data.EntityClient\" /&gt;&lt;/connectionStrings&gt;&lt;/configuration&gt; ```\n\n</code></pre>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1572465715, "post_id": 58632791, "comment_id": 103572713, "body": "Did you try <code>CopyFromList(outerClassOne.listA, outerClassTwo.listA);</code>? You can go from generics to reflection, though it&#39;s a bad idea. Going the other way,  to turn a <code>System.Type</code> into a generic type parameter, you&#39;ll need even more, and more fiddly, reflection code. You&#39;d be better off rewriting CopyFromList() using reflection instead of generics, if it came to that."}, {"owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 0, "creation_date": 1572465741, "post_id": 58632791, "comment_id": 103572724, "body": "Is OuterClass a class you have control over?"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1572466439, "post_id": 58632791, "comment_id": 103572986, "body": "1) Rewrite classes A, B, and C to share a common base class called <code>RowBase</code>, where the <code>RowState</code> property is Defined. 2) Rewrite CopyFromList as <code>CopyFromList(IList&lt;RowBase&gt; from, IList&lt;RowBase&gt; to)</code>, and do this in the loop: <code>to[i].RowState = from[i].RowState;</code>. 3) Call that method three times in <code>CopyRowState()</code> for the three different lists. No reflection, no generics, only OOP."}, {"owner": {"reputation": 13, "user_id": 9440470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1895c331fac01435de9366259c198c5?s=128&d=identicon&r=PG&f=1", "display_name": "Rajin. k.p", "link": "https://stackoverflow.com/users/9440470/rajin-k-p"}, "edited": false, "score": 0, "creation_date": 1572486218, "post_id": 58632791, "comment_id": 103578473, "body": "I have tried &quot;CopyFromList(outerClassOne.listA, outerClassTwo.listA)&quot; and mentioned in the question. Adding a base class is a hectic job here.There are around 42 classes inside and getting permission for such rework is impossible"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1572526028, "post_id": 58632791, "comment_id": 103592631, "body": "That&#39;s a shame about the base class. What is the <i>problem</i> with <code>CopyFromList(outerClassOne.listA, outerClassTwo.listA)</code>, same with listB, etc.? There are 42 list properties on each OuterClass? Sounds like there&#39;s a corporate-level commitment to writing bad code. I&#39;d just go with the flow."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1572526237, "post_id": 58632791, "comment_id": 103592757, "body": "Do you have an explanation for why <code>Copy&lt;T&gt;()</code> has a type parameter that isn&#39;t used?"}], "owner": {"reputation": 13, "user_id": 9440470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1895c331fac01435de9366259c198c5?s=128&d=identicon&r=PG&f=1", "display_name": "Rajin. k.p", "link": "https://stackoverflow.com/users/9440470/rajin-k-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572667713, "creation_date": 1572465498, "last_edit_date": 1572667713, "question_id": 58632791, "link": "https://stackoverflow.com/questions/58632791/change-some-property-of-objects-inside-a-list", "title": "change some property of objects inside a list", "body": "<p>i have a class contains List of several other classes. </p>\n\n<pre><code>class OuterClass \n{\nIList&lt;A&gt; listA=new List&lt;A&gt;();\nIList&lt;B&gt; listB= new List&lt;B&gt;();\nIList&lt;c&gt; listC=new List&lt;B&gt;();\n......... and so on ............\n} \n</code></pre>\n\n<p>All these classes(A,B,C..) has same property called 'RowState'. \nNow I created two objects of 'OuterClass' </p>\n\n<pre><code>OuterClass outerClassOne = new Outerclass();\nOuterClass outerClasstwo= new OuterClass();\n</code></pre>\n\n<p>After performing few operations on 'outerClasstwo' ,I want to copy the value of  the 'RowState' for all objects in object 'outerClasstwo' to 'outerClassOne' </p>\n\n<p>I tried to create generic functions to copy property from one object to other and it is success full. but I have to call this function for each list and pass its type statically. Then  I try reflection to get list name and its type . But I am unable to pass type of list to my function</p>\n\n<pre><code>        public void CopyRowState(OuterClass fromOrderData, OuterClass toOrderData)\n        {\n            //this work for me ,but i have to call this function for every list in my class \n            CopyFromList&lt; A&gt;(fromOrderData.listA.ToList(), toOrderData.listA.ToList());\n//working code end\n            PropertyInfo[] classProperties = typeof(OMSOrderData).GetProperties();\n            foreach (PropertyInfo propertyInfo in classProperties)\n            {\n                Type type = propertyInfo.PropertyType;\n                foreach (Type interfaceType in type.GetInterfaces())\n                {\n                    if (interfaceType.IsGenericType &amp;&amp;\n                        interfaceType.GetGenericTypeDefinition()\n                        == typeof(IList&lt;&gt;) || interfaceType.IsGenericType &amp;&amp; interfaceType.GetGenericTypeDefinition() == typeof(ICollection&lt;&gt;))\n\n                    {\n                        Type itemType = type.GetGenericArguments()[0];\n                        //want to pass list from here\n                        //CopyFromList&lt;itemType.GetType()&gt;(propertyInfo.GetValue(fromOrderData),propertyInfo.GetValue(toOrderData));\n\n                                                break;\n                    }\n                }\n\n            }\n        }\n\n        private void CopyFromList&lt;T&gt;(List&lt;T&gt; from ,List&lt;T&gt; to)\n        {\n            if (from.Count == to.Count)\n            {\n                for(int i = 0; i &lt; from.Count; i++)\n                {\n                    Copy(from[i], to[i]);\n                }\n            }\n        }\n        private void Copy(object from, object to)\n        {\n            if (from != null &amp;&amp; to != null)\n            {\n                string property = \"RowState\";\n                PropertyInfo propfrom = from.GetType().GetProperty(property);\n                var value = propfrom.GetValue(from);\n                PropertyInfo propertyInfoTo = to.GetType().GetProperty(property);\n                propertyInfoTo.SetValue(to, value);\n            }\n\n        }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api", "serialization", "file-upload", "asp.net-web-api2"], "answers": [{"tags": [], "owner": {"reputation": 48, "user_id": 8899496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a34be519ad6b53ef7ca34d7837a56a3?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra", "link": "https://stackoverflow.com/users/8899496/narendra"}, "is_accepted": true, "score": 1, "last_activity_date": 1572616874, "creation_date": 1572616874, "answer_id": 58660509, "question_id": 58632785, "link": "https://stackoverflow.com/questions/58632785/how-to-create-webapi-service-that-accepts-an-object-with-a-document-attachment-p/58660509#58660509", "title": "How to create WebAPI service that accepts an object with a document attachment property?", "body": "<p>This is backend code(WebApi controller).        </p>\n\n<pre><code>    [HttpPost]\n    public IHttpActionResult AcceptUserInfoAndFiles()\n    {\n        User userInfo = new User();\n        var httpContext = HttpContext.Current;\n        NameValueCollection nvc = HttpContext.Current.Request.Form;\n\n        // Fill User data ....\n        userInfo.UserId=Convert.ToInt32(nvc[\"UserId\"]);\n        userInfo.FirstName = nvc[\"FirstName\"];\n\n        List&lt;Document&gt; documents = new List&lt;Document&gt;();\n        // Check for any uploaded file  \n        if (httpContext.Request.Files.Count &gt; 0)\n        {\n            //Loop through uploaded files                  \n            for (int i = 0; i &lt; httpContext.Request.Files.Count; i++)\n            {\n                HttpPostedFile httpPostedFile = httpContext.Request.Files[i];\n                if (httpPostedFile != null)\n                {\n                    // Get data in byte array\n                    byte[] fileData = null;\n                    using (var binaryReader = new BinaryReader(httpPostedFile.InputStream))\n                    {\n                        fileData = binaryReader.ReadBytes(httpPostedFile.ContentLength);\n                    }\n                    documents.Add(new Document\n                    {\n                        DocumentId = 1, //Generate your document id\n                        Name = httpPostedFile.FileName, // Remove extension if you want to store only name\n                        Extension = System.IO.Path.GetExtension(httpPostedFile.FileName), // Get file extension\n                        Data = fileData\n                    });\n\n                }\n            }\n        }\n        userInfo.Documents = documents;\n\n        return Ok();\n    }\n</code></pre>\n\n<p>Here is front end sample code in jquery and html      </p>\n\n<pre><code>    &lt;div&gt;\n    &lt;form method=\"post\" action=\"http://localhost:59462/Api/Values\" enctype=\"multipart/form-data\" id=\"formUpload\"&gt;\n        &lt;div&gt;\n            &lt;label for=\"files\"&gt;Files&lt;/label&gt;\n            &lt;input type=\"file\" id=\"files\" name=\"files\" multiple=\"multiple\" /&gt;\n        &lt;/div&gt;\n        &lt;button type=\"button\" id=\"buttonUpload\"&gt;Upload files&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;script&gt;\n$(document).ready(function () {\n\n    $('#buttonUpload').on('click', function () {\n        var model = new FormData();\n        // Get User properties.\n        model.append('UserId', 1); // Get from UI\n        model.append('FirstName', \"Sam\"); // Get from UI\n        var files = $(\"#files\").get(0).files;\n\n        // Add the uploaded file to the form data collection\n        if (files.length &gt; 0) {\n            for (f = 0; f &lt; files.length; f++) {\n                model.append(\"UploadedImage\", files[f]);\n            }\n        }\n\n        // Ajax upload\n        $.ajax({\n            type: \"POST\",\n            url: $(\"#formUpload\").attr(\"action\"),\n            contentType: false,\n            processData: false,\n            data: model\n        });\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>Here are reference links: <a href=\"https://dejanstojanovic.net/aspnet/2018/february/multiple-file-upload-with-aspnet-webapi/\" rel=\"nofollow noreferrer\">https://dejanstojanovic.net/aspnet/2018/february/multiple-file-upload-with-aspnet-webapi/</a>\n<a href=\"https://stackoverflow.com/questions/30490313/post-json-with-data-and-file-to-web-api-jquery-mvc\">Post JSON with data AND file to Web Api - jQuery / MVC</a></p>\n"}], "owner": {"reputation": 4718, "user_id": 493290, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ba2e737d7c2c94041beeaf34ce62e9e3?s=128&d=identicon&r=PG&f=1", "display_name": "Donny", "link": "https://stackoverflow.com/users/493290/donny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 58660509, "answer_count": 1, "score": 1, "last_activity_date": 1572616874, "creation_date": 1572465484, "question_id": 58632785, "link": "https://stackoverflow.com/questions/58632785/how-to-create-webapi-service-that-accepts-an-object-with-a-document-attachment-p", "title": "How to create WebAPI service that accepts an object with a document attachment property?", "body": "<p>I would like to create a WebAPI endpoint which accepts an object that contains a property for documents that can be attached. This endpoint should cater for JSON and XML requests, and not sure how to get this working. I have looked around but cannot find a good example to the spec I am looking for. Please see below the type of solution I need assist with please:</p>\n\n<p>Model Objects:</p>\n\n<pre><code>public class User\n{\n    public User(){\n        Documents = new List&lt;Document&gt;();\n    }\n    public int UserId {get;set;}\n    public string FirstName {get;set;}\n    public string LastName {get;set;}\n    public string Employee {get;set;}\n    public List&lt;Document&gt; Documents {get;set;} //e.g. Identity Document, Certifications etc\n}\npublic class Document{\n    public int DocumentId {get;set;}\n    public string Name {get;set;}\n    public string Extension {get;set;}\n    public byte[] Data {get;set;}\n}\n</code></pre>\n\n<p>WebAPI Controller EndPoint:</p>\n\n<pre><code>[HttpPost]\npublic IHttpActionResult(User user){\n   ... WHAT TYPE OF CODE DO I NEED HERE ...\n}\n</code></pre>\n\n<p>The main question is how does a client also post to this endpoint, if please you can provide me with an example? Is my model object correct? How can data be posted from the client side using an xml request since the byte array data is not compatible xml?</p>\n"}, {"tags": ["c#", "php"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 8890810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3244c5b880698fdff30c0b73b23da93?s=128&d=identicon&r=PG&f=1", "display_name": "tytopoo", "link": "https://stackoverflow.com/users/8890810/tytopoo"}, "edited": false, "score": 0, "creation_date": 1572476067, "post_id": 58633369, "comment_id": 103576270, "body": "I think you got me wrong. The loop I was talking about is a loop to gather the info from third party data sources. For example a table in sql, called &quot;Commands&quot; and contains queue of commands that the c# program should execute. The loop has to be in the C# program, in which the commands data of &quot;Commands&quot; table is being read every a few seconds. The PHP script will insert the data to the table. Anyway this is a way I don&#39;t want and I want to do it otherway."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 39, "user_id": 8890810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3244c5b880698fdff30c0b73b23da93?s=128&d=identicon&r=PG&f=1", "display_name": "tytopoo", "link": "https://stackoverflow.com/users/8890810/tytopoo"}, "edited": false, "score": 0, "creation_date": 1572545453, "post_id": 58633369, "comment_id": 103602872, "body": "@tytopoo As you have poorly explained your way or why you want your way, I am left with a lot of red flags about it being a XY problem - nothing else."}], "tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": 0, "last_activity_date": 1572468584, "last_edit_date": 1572468584, "creation_date": 1572468222, "answer_id": 58633369, "question_id": 58632768, "link": "https://stackoverflow.com/questions/58632768/it-is-possible-to-run-a-command-in-a-running-c-program-from-php/58633369#58633369", "title": "It is possible to run a command in a running C# program from PHP?", "body": "<p>There is a number of approache for <a href=\"https://docs.microsoft.com/en-us/windows/win32/ipc/interprocess-communications\" rel=\"nofollow noreferrer\">IPC</a>.</p>\n\n<p>As I understand it, you want to do that without a loop. The thing is: You have to have a loop anyway to keep the console application alive. The programm is staretd. Executes all code. And then ends. You could block it via stuff like ReadKey(), but then it would not be able to process anything.</p>\n\n<p>Unfortunately all approaches to IPC I know either require a loop. Or a GUI that already <em>has</em> a loop - the EventQueue. You will not get around some multitasking, and for that alone I always advise a GUI application.</p>\n\n<p>It is also pretty unclear what data you actually want to send and what that application doe with that data. Depending on those requirements, it might be possible to just do this via commandline parameters.</p>\n\n<p>However the biggest issue might be rights. Web Servers are notoriously vulnerable to hacking, being online 24/7/365. As a result, they are usually run under the most restrictive user rights imaginable. Read access to it's content and programm folder is the only thing you can asume. Reading anywhere else, writing or even Execution is not usually on the list of things it can do. And will raise some eyebrows from the admin too.</p>\n"}], "owner": {"reputation": 39, "user_id": 8890810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3244c5b880698fdff30c0b73b23da93?s=128&d=identicon&r=PG&f=1", "display_name": "tytopoo", "link": "https://stackoverflow.com/users/8890810/tytopoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1572468584, "creation_date": 1572465423, "question_id": 58632768, "link": "https://stackoverflow.com/questions/58632768/it-is-possible-to-run-a-command-in-a-running-c-program-from-php", "title": "It is possible to run a command in a running C# program from PHP?", "body": "<p>I have a C# console application program running on windows server anytime.<br>\nOn the same machine I have zend server and apache running.</p>\n\n<p>It is possible to send a command to the <strong>running</strong> C# program directly from the PHP without having an endless loop on the C# program that taking the info from outsourced files?</p>\n\n<p>For example, the command \"/init\" would initialize all the variables on the C# program.<br>\nCan I write a init.php file to send the \"/init\" command to the running C# windows application?<br>\nThis will be in order to initialize all the variables on the <strong>running</strong> \"Program.exe\" by opening the URL \"<a href=\"http://example.com/init.php\" rel=\"nofollow noreferrer\">http://example.com/init.php</a>\".</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "dependencies", "core", "code-injection", "blazor"], "comments": [{"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "edited": false, "score": 0, "creation_date": 1572476003, "post_id": 58632644, "comment_id": 103576250, "body": "Are you using a Client-Side project ?"}, {"owner": {"reputation": 1, "user_id": 12299245, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101201543214716/picture?type=large", "display_name": "Don Greene", "link": "https://stackoverflow.com/users/12299245/don-greene"}, "reply_to_user": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "edited": false, "score": 0, "creation_date": 1572478979, "post_id": 58632644, "comment_id": 103576984, "body": "Its server side. @aguafrommars"}, {"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "edited": false, "score": 0, "creation_date": 1572506871, "post_id": 58632644, "comment_id": 103583124, "body": "Did you try to place AddDbContext at the bigining of ConfigureServices ?"}], "owner": {"reputation": 1, "user_id": 12299245, "user_type": "registered", "profile_image": "https://graph.facebook.com/10101201543214716/picture?type=large", "display_name": "Don Greene", "link": "https://stackoverflow.com/users/12299245/don-greene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 385, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572467870, "creation_date": 1572464776, "last_edit_date": 1572466948, "question_id": 58632644, "link": "https://stackoverflow.com/questions/58632644/unable-to-resolve-service-for-type-while-attempting-to-activate-using-dependency", "title": "Unable to resolve service for type while attempting to activate using Dependency Injection in Blazor", "body": "<p>I have a service project that handles the retrieval and merging of PDFs and a repository project that has the context and Models.</p>\n\n<p>Initially we created it with an API that was functional and decided it was too much overhead for a simple application and gutted the logic into a simple service and referenced it. </p>\n\n<p>I'm attempting to call the methods within the service from the Blazor page , I have registered the Service in the startup file and injected the Services on the page for DI but I am now receiving the error below. Specifically it is in regards to the Context located in the repository that is being referenced by the Service.</p>\n\n<p>I've played around with the injecting, the addition of the Services in the Startup file and various formatting changes to no avail.</p>\n\n<p>Configure Services in the Startup file :</p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n    {\n\n        services.AddTransient&lt;IBOLService, BOLService&gt;();\n        services.AddTransient&lt;IPDFService, PDFService&gt;();\n        services.AddRazorPages();\n        services.AddServerSideBlazor();\n        services.AddHttpClient();\n        services.AddDbContext&lt;CoviaDevIntegrationControlContext&gt;(options =&gt;\n              options.UseSqlServer(Configuration.GetConnectionString(\"IntegrationControl\")));\n       }\n</code></pre>\n\n<p>The main razor pages' inject and using excerpt :</p>\n\n<pre><code>@page \"/download\"\n@using LAS.BOLDownloader.Models\n@using System.IO;\n@using System.Net.Http;\n@using System.Net.Http.Headers\n@using Microsoft.AspNetCore.Components.Web\n@using LAS.BOLDownloader.Data;\n@using BOL.Data;\n@using BOL.Services;\n\n\n@inject IJSRuntime js\n\n@inject Microsoft.JSInterop.IJSRuntime JS\n@inject CoviaDevIntegrationControlContext IntegrationControlContext\n\n@inject IHttpClientFactory clientFactory\n\n@inject IBOLService _bolService \n@inject IPDFService _pdfService\n\n</code></pre>\n\n<p>The Service Class :</p>\n\n<pre><code>public class BOLService : IBOLService\n    {\n        private CoviaDevIntegrationControlContext _context;\n\n        public BOLService(CoviaDevIntegrationControlContext context)\n        {\n            _context = context;\n        }\n\n        public async Task&lt;byte[][]&gt; GetDocuments(string searchString, string IdType, int SiteId)\n        {\n\n            var bolNumbers = searchString.Split(',');\n\n            if (IdType == \"BolNumber\")\n            {\n                return await _context.Las2cpBolstaging.Where(o =&gt; bolNumbers.Contains(o.BolNumber.ToString()) &amp;&amp; o.PlantId == SiteId).Select(o =&gt; o.BolDoc).ToArrayAsync();\n\n\n            }\n            else if (IdType == \"ShipmentId\")\n            {\n                return await _context.Las2cpBolstaging.Where(o =&gt; bolNumbers.Contains(o.BolNumber.ToString()) &amp;&amp; o.PlantId == SiteId).Select(o =&gt; o.BolDoc).ToArrayAsync();\n            }\n            else\n            {\n                return null;\n            }\n\n        }\n</code></pre>\n\n<p>The context in the repository :</p>\n\n<pre><code>public partial class CoviaDevIntegrationControlContext : DbContext\n    {\n        public CoviaDevIntegrationControlContext()\n        {\n        }\n\n        public CoviaDevIntegrationControlContext(DbContextOptions&lt;CoviaDevIntegrationControlContext&gt; options)\n            : base(options)\n        {\n        }\n\n        public virtual DbSet&lt;Las2cpBoldocStaging&gt; Las2cpBoldocStaging { get; set; }\n        public virtual DbSet&lt;Las2cpBolstaging&gt; Las2cpBolstaging { get; set; }\n        public virtual DbSet&lt;LasBols&gt; LasBols { get; set; }\n\n        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n        {\n            if (!optionsBuilder.IsConfigured)\n            {\n                optionsBuilder.UseSqlServer(\"Server=dev-sql1;Database=Covia.Dev.IntegrationControl;Trusted_Connection=True;MultipleActiveResultSets=True;\");\n            }\n        }\n\n</code></pre>\n\n<p>The function using the injection :</p>\n\n<pre><code> protected async Task GetBOL(int SiteId, string IdType)\n    {\n        var client = clientFactory.CreateClient();\n\n        si.SiteId = SiteId;\n        si.IdType = IdType;\n\n\n        try\n        {\n\n            Process bp = new BOLProcess( _bolService, _pdfService);\n\n            var bolPdf = bp.GetBOLs(si.searchString, si.IdType, si.SiteId).Result;\n\n            bolResultsList = bp.GetResults(si.searchString, si.IdType, si.SiteId).Result;\n\n            if (bolPdf != null &amp;&amp; bolPdf.Length &gt; 0)\n\n            {\n\n                await FileUtil.SaveAs(js, \"BOLDocument.pdf\", bolPdf);\n            }\n\n        }\n        catch (Exception ex)\n        {\n            var error = ex.Message;\n        }\n\n    }\n</code></pre>\n\n<blockquote>\n  <p>InvalidOperationException: Error while validating the service\n  descriptor 'ServiceType: BOL.Services.IBOLService Lifetime: Transient\n  ImplementationType: BOL.Services.BOLService': Unable to resolve\n  service for type\n  'BOL.Repository.Models.CoviaDevIntegrationControlContext' while\n  attempting to activate 'BOL.Services.BOLService'.</p>\n  \n  <p>Inner Exception InvalidOperationException: Unable to resolve service\n  for type 'BOL.Repository.Models.CoviaDevIntegrationControlContext'\n  while attempting to activate 'BOL.Services.BOLService'.</p>\n</blockquote>\n"}, {"tags": ["c#", "visual-studio"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1572464831, "post_id": 58632586, "comment_id": 103572339, "body": "Why do you think there is a Form.cs file?"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1572465864, "post_id": 58632586, "comment_id": 103572765, "body": "I would look in the <code>Main</code> method in <code>Program.cs</code> and see what is used there to start the app"}, {"owner": {"reputation": 600, "user_id": 4408877, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ze9JszoZToM/AAAAAAAAAAI/AAAAAAAAAo0/vmU-RnMz7_4/photo.jpg?sz=128", "display_name": "Jeff", "link": "https://stackoverflow.com/users/4408877/jeff"}, "edited": false, "score": 0, "creation_date": 1572465918, "post_id": 58632586, "comment_id": 103572776, "body": "I don&#39;t see a form file.  However, for windows forms, you need to right-click on the form file and select &quot;edit code&quot;.  Is this what you mean?"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 2, "creation_date": 1572467113, "post_id": 58632586, "comment_id": 103573237, "body": "Maybe the previous programmer didn&#39;t use a designer.  You can just make a <code>Form f = new Form();</code> and add controls yourself to it at runtime.  Seeing the Program.cs file would reveal a lot of information."}], "owner": {"reputation": 139, "user_id": 11564374, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J5ZHZ46AxTY/AAAAAAAAAAI/AAAAAAAAADs/ltGuiPDbSm8/photo.jpg?sz=128", "display_name": "Elliott Urrutia", "link": "https://stackoverflow.com/users/11564374/elliott-urrutia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572469909, "creation_date": 1572464514, "last_edit_date": 1572469909, "question_id": 58632586, "link": "https://stackoverflow.com/questions/58632586/can%c2%b4t-find-form-cs-file", "title": "Can&#180;t find Form.cs file", "body": "<p>I have to study a project which was left by another person. It's a Winforms App which displays a form after starting. </p>\n\n<p>I want to access this form in the designer, but can't find the Form.cs file.</p>\n\n<p>I searched all across the project and there are no signs of the \".designer \" file of this form.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nAaqW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nAaqW.png\" alt=\"Solution Explorer\"></a></p>\n\n<p>Above is an image of my solution explorer.</p>\n"}, {"tags": ["javascript", "c#", ".net", "json", "angular"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1572464518, "post_id": 58632576, "comment_id": 103572211, "body": "why you think that you can send JSON and it will be read as form data (FromForm)?"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1572464600, "post_id": 58632576, "comment_id": 103572239, "body": "Because I had FormBody before and I would get a 415 error.  Once I switched to FormForm I then hit the method with no error"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1572464675, "post_id": 58632576, "comment_id": 103572268, "body": "415 is self-explanatory ..."}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1572464696, "post_id": 58632576, "comment_id": 103572273, "body": "So I should remove formform?"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1572464731, "post_id": 58632576, "comment_id": 103572297, "body": "yes and point right media type by right header on client side"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1572464770, "post_id": 58632576, "comment_id": 103572315, "body": "Let me show you what I have on client side header in my next edit"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1572464870, "post_id": 58632576, "comment_id": 103572360, "body": "You can see I have the correct headers"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1572465010, "post_id": 58632576, "comment_id": 103572420, "body": "yes , but you are prolly(i&#39;m not into javascript/angular) sending a string instead json"}, {"owner": {"reputation": 5144, "user_id": 1068167, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2890f223f8ac1176c6b36cba9a0c156c?s=128&d=identicon&r=PG&f=1", "display_name": "span", "link": "https://stackoverflow.com/users/1068167/span"}, "edited": false, "score": 1, "creation_date": 1572465015, "post_id": 58632576, "comment_id": 103572423, "body": "Try removing the fromForm"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1572465093, "post_id": 58632576, "comment_id": 103572451, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/58630799/values-null-when-i-make-a-simple-post-request-to-my-net-controller-from-angular\">Values null when I make a simple post request to my .net controller from angular</a>"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572465114, "post_id": 58632576, "comment_id": 103572463, "body": "If I remove fromForm I&#39;m back to a 415 error.  If I add fromForm then it takes me into the method.  If I have fromBody then it gives me 415 error too"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572465227, "post_id": 58632576, "comment_id": 103572510, "body": "No it doesn&#39;t answer my question.  That question used to be a 415 error.  Then there is no error by adding fromForm.  Editing the header or any of those suggestions didn&#39;t take the 415 error away.  I just guessed and put to fromForm, and then there was no 415 error"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572465389, "post_id": 58632576, "comment_id": 103572577, "body": "Any suggestions?  But back formBody then get a 415 error.  Add headers still 415 errors.  I&#39;m lost please help"}], "answers": [{"comments": [{"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572477526, "post_id": 58634463, "comment_id": 103576645, "body": "Your right.  I took off stringify then I created a new object like this     var newMessage = {       &quot;Departments&quot;: message[&quot;departments&quot;],       &quot;Note&quot;: message[&quot;noteBody&quot;],       &quot;WeekEnding&quot;: message[&quot;weeks&quot;].weekEnding     }"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572477552, "post_id": 58634463, "comment_id": 103576652, "body": "I then passed newMessage return this.http.post(this.baseUrl + &#39;api/SlgCorpNotes/Edit&#39;,newMessage, options);"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572477597, "post_id": 58634463, "comment_id": 103576660, "body": "then the controller took in the object as such.         public void Edit([FromBody] CorpNotes newMessage)"}], "tags": [], "owner": {"reputation": 509, "user_id": 9185707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f40bc2bc1da2f0e1cef5fd1fbd544f86?s=128&d=identicon&r=PG&f=1", "display_name": "Antediluvian", "link": "https://stackoverflow.com/users/9185707/antediluvian"}, "is_accepted": true, "score": 1, "last_activity_date": 1572474437, "creation_date": 1572474437, "answer_id": 58634463, "question_id": 58632576, "link": "https://stackoverflow.com/questions/58632576/sending-json-object-how-do-i-set-up-the-simple-net-controller-method-to-receiv/58634463#58634463", "title": "Sending JSON object. How do I set up the simple .net controller method to receive this type?", "body": "<ol>\n<li><p>remove the <code>JSON.stringify</code> from your Angular <code>http.post</code> call. It should just be able to recognise an object.</p></li>\n<li><p>Your last field in the JSON is a date but your C# model expects a string, change that to a date too.</p></li>\n</ol>\n"}], "owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 58634463, "answer_count": 1, "score": 0, "last_activity_date": 1572474437, "creation_date": 1572464460, "last_edit_date": 1572464839, "question_id": 58632576, "link": "https://stackoverflow.com/questions/58632576/sending-json-object-how-do-i-set-up-the-simple-net-controller-method-to-receiv", "title": "Sending JSON object. How do I set up the simple .net controller method to receive this type?", "body": "<p>Currently I am sending over object from angular that looks exactly like this.</p>\n\n<p>{\"department\":2,\"note\":\"asdf\",\"weekEnding\":\"2019-11-02T00:00:00\"}</p>\n\n<p>I am then hitting this method in my my .net controller which looks like this.</p>\n\n<pre><code>    [HttpPost]\n    [Route(\"Edit\")]\n    public void Edit([FromForm] CorpNotes newMessage)\n    {\n\n        //_SLGContext.Entry(newMessage).State = EntityState.Modified;\n        //_SLGContext.SaveChanges();\n    }\n</code></pre>\n\n<p>Here is my model for CorpNotes below</p>\n\n<pre><code>public class CorpNotes\n{\n    public string Department { get; set; }\n\n    public string Note { get; set; }\n\n    public string WeekEnding { get; set; }\n}\n</code></pre>\n\n<p>I am receiving all null values in the variable CorpNotes newMessage in my Post method Edit()</p>\n\n<p>Why are all my values null?\n<strong>slg-corp-notes.service.ts</strong></p>\n\n<pre><code>  updateMessage(message: any) {\n    console.log(\"at service\")\n    console.log(message)\n    var newMessage = new CorpNotes(message['departments'], message['noteBody'], message['weeks'].weekEnding)\n    var Params = '?Department=' + message['departments'] + '&amp;Note=' + message['noteBody'] + '&amp;WeekEnding=' + message['weeks'].weekEnding\n    console.log(newMessage)\n    console.log(JSON.stringify(newMessage))\n    console.log(Params)\n\n    const headers = new HttpHeaders()\n      .set('Content-Type', 'application/json;charset=UTF-8')\n\n    let options = { headers: headers };\n\n    return this.http.post(this.baseUrl + 'api/SlgCorpNotes/Edit', JSON.stringify(newMessage), options);\n    //return this.http.post(this.baseUrl + 'api/SlgCorpNotes/Edit', JSON.stringify(newMessage))\n\n\n  }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2956272"}, "edited": false, "score": 0, "creation_date": 1572463392, "post_id": 58632344, "comment_id": 103571735, "body": "Sorry, I couldn&#39;t understand the question at all: not what you are doing, not what you want. Can you please edit your question? Adding a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> may also help."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1572463443, "post_id": 58632344, "comment_id": 103571758, "body": "A &quot;specific spot&quot; where? On the screen? Or do you just mean you&#39;re calling Insert, creating a new string, throwing the new string away without assigning it to a variable, and then writing <code>sLine</code>, which is unchanged? The <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.string.insert?view=netframework-4.8\" rel=\"nofollow noreferrer\">documentation for String.Insert()</a> explains what it does. When you pass the <i>return value</i> from Insert() to Console.WriteLine(), it gets written to the console. When you do nothing with the return value from Insert(), it doesn&#39;t."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1572463514, "post_id": 58632344, "comment_id": 103571782, "body": "I also can&#39;t understand any aspect of what is being asked here."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1572463535, "post_id": 58632344, "comment_id": 103571792, "body": "@Amy He assumes strings are mutable. I assume. But it sure looks like it."}], "answers": [{"tags": [], "owner": {"reputation": 1185, "user_id": 5554464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glUaO.png?s=128&g=1", "display_name": "Grabofus", "link": "https://stackoverflow.com/users/5554464/grabofus"}, "is_accepted": false, "score": 3, "last_activity_date": 1572463525, "creation_date": 1572463525, "answer_id": 58632399, "question_id": 58632344, "link": "https://stackoverflow.com/questions/58632344/is-it-possible-to-insert-a-string-without-using-console-writeline-directly/58632399#58632399", "title": "Is it possible to insert a string without using Console.WriteLine directly?", "body": "<p>Insert is not mutating sLine, it returns a new string, you should instead:</p>\n\n<pre><code>while (!incomingFiles.EndOfStream)\n   {\n        sLine = incomingFiles.ReadLine();\n        sLine = sLine.Insert(iCharacterIndicator , \"something\");\n        Console.WriteLine(sLine);\n   }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12299365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/227a7926703cbf5e99b954f5385869f7?s=128&d=identicon&r=PG&f=1", "display_name": "RandomPal", "link": "https://stackoverflow.com/users/12299365/randompal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "closed_date": 1572463940, "answer_count": 1, "score": -6, "last_activity_date": 1572463525, "creation_date": 1572463214, "question_id": 58632344, "link": "https://stackoverflow.com/questions/58632344/is-it-possible-to-insert-a-string-without-using-console-writeline-directly", "closed_reason": "Needs details or clarity", "title": "Is it possible to insert a string without using Console.WriteLine directly?", "body": "<p>for exemple: </p>\n\n<pre><code>    while (!incomingFiles.EndOfStream)\n   {\n        sLine = incomingFiles.ReadLine();\n        sLine.Insert(iCharacterIndicator , \"something\");\n        Console.WriteLine(sLine);\n   }\n</code></pre>\n\n<p>I want to put a desired string at a specific spot using an indexOf pointing where I need to put my \ndesired string, so i'm using the iCharacterIndicator to point out each new lines where I need to put my string, but the Insert wont show on my console except when I insert directly in a Console.WriteLine, thus, ruining my algorithm.</p>\n"}, {"tags": ["c#", "linq", "c#-4.0", "entity-framework-6"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 3, "creation_date": 1572462991, "post_id": 58632226, "comment_id": 103571567, "body": "How are the numbers structured in the name field?  We can&#39;t see your data."}, {"owner": {"reputation": 29, "user_id": 8027970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYCnn.jpg?s=128&g=1", "display_name": "lbueno", "link": "https://stackoverflow.com/users/8027970/lbueno"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1572463299, "post_id": 58632226, "comment_id": 103571697, "body": "@Amy edited the question with the table"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1572463413, "post_id": 58632226, "comment_id": 103571748, "body": "you want to group by name and get corresponding numbers as list?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1572463416, "post_id": 58632226, "comment_id": 103571750, "body": "I see. The way your question is phrased made it sound like the name field <i>contains</i> numbers."}, {"owner": {"reputation": 29, "user_id": 8027970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYCnn.jpg?s=128&g=1", "display_name": "lbueno", "link": "https://stackoverflow.com/users/8027970/lbueno"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1572463661, "post_id": 58632226, "comment_id": 103571843, "body": "@Selvin Yes, thats a better way of explaning it."}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1572463677, "post_id": 58632226, "comment_id": 103571849, "body": "Then you should use something like <code>...GroupBy(x=&gt;x.Key).Select(x=&gt;new { x.Key, list = x.Select(y=&gt;y.num).ToList()})</code>"}], "answers": [{"comments": [{"owner": {"reputation": 602, "user_id": 1401699, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/80ad2877bab9185edcf03688987af2c3?s=128&d=identicon&r=PG", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/1401699/rakesh"}, "edited": false, "score": 1, "creation_date": 1572465294, "post_id": 58632497, "comment_id": 103572545, "body": "Shoudn&#39;t the <code>ToList</code> be with <code>number = g.Select(n =&gt; n.Number).ToList()</code>"}, {"owner": {"reputation": 29, "user_id": 8027970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYCnn.jpg?s=128&g=1", "display_name": "lbueno", "link": "https://stackoverflow.com/users/8027970/lbueno"}, "reply_to_user": {"reputation": 602, "user_id": 1401699, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/80ad2877bab9185edcf03688987af2c3?s=128&d=identicon&r=PG", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/1401699/rakesh"}, "edited": false, "score": 0, "creation_date": 1572465415, "post_id": 58632497, "comment_id": 103572588, "body": "As @Rakesh said, <code>ToList()</code> needs to be after <code>number = g.Select(n =&gt; n.Number).ToList()</code>."}, {"owner": {"reputation": 29, "user_id": 8027970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYCnn.jpg?s=128&g=1", "display_name": "lbueno", "link": "https://stackoverflow.com/users/8027970/lbueno"}, "edited": false, "score": 0, "creation_date": 1572465487, "post_id": 58632497, "comment_id": 103572625, "body": "Thanks both of you, it worked as expected. I only added a <code>Distinct()</code> after <code>number = g.Select(n =&gt; n.Number).Distinct().ToList()</code> to filter even more the results."}, {"owner": {"reputation": 29, "user_id": 8027970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYCnn.jpg?s=128&g=1", "display_name": "lbueno", "link": "https://stackoverflow.com/users/8027970/lbueno"}, "reply_to_user": {"reputation": 602, "user_id": 1401699, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/80ad2877bab9185edcf03688987af2c3?s=128&d=identicon&r=PG", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/1401699/rakesh"}, "edited": false, "score": 0, "creation_date": 1572466087, "post_id": 58632497, "comment_id": 103572850, "body": "@Rakesh the data sample is correct. Using <code>Distinct()</code> solved the issue."}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "reply_to_user": {"reputation": 602, "user_id": 1401699, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/80ad2877bab9185edcf03688987af2c3?s=128&d=identicon&r=PG", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/1401699/rakesh"}, "edited": false, "score": 0, "creation_date": 1572467921, "post_id": 58632497, "comment_id": 103573552, "body": "@Rakesh: You are correct. It should use <code>ToList</code>. I usually code against <code>IEnumerable</code> interfaces, hence the issue. I&#39;ll update the code but I would recommend the OP uses <code>IEnumerable&lt;T&gt;</code> instead."}], "tags": [], "owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "is_accepted": true, "score": 4, "last_activity_date": 1572467941, "last_edit_date": 1592644375, "creation_date": 1572464010, "answer_id": 58632497, "question_id": 58632226, "link": "https://stackoverflow.com/questions/58632226/how-to-use-linq-to-populate-a-object-with-a-listint-and-a-string/58632497#58632497", "title": "How to use LINQ to populate a object with a List&lt;int&gt; and a String?", "body": "<p>Try this:</p>\n<pre><code>myObject = contex.TableName.GroupBy(t =&gt; t.Name)\n.Where(g =&gt; listOfNames.Contains(g.Key))\n.Select(g =&gt; new MyObject()\n{\n    name = g.Key,\n    number = g.Select(n =&gt; n.Number).ToList()\n}).ToList();\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>Name / Numbers</p>\n<p>abc / 15371,15079,15371,30392</p>\n<p>xyz / 30373,13141</p>\n</blockquote>\n<p>I noticed your data sample has repeat name/number combinations. Not sure if it's just a typo or if you need to account for that.</p>\n"}], "owner": {"reputation": 29, "user_id": 8027970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYCnn.jpg?s=128&g=1", "display_name": "lbueno", "link": "https://stackoverflow.com/users/8027970/lbueno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 58632497, "answer_count": 1, "score": 0, "last_activity_date": 1572467941, "creation_date": 1572462645, "last_edit_date": 1572463560, "question_id": 58632226, "link": "https://stackoverflow.com/questions/58632226/how-to-use-linq-to-populate-a-object-with-a-listint-and-a-string", "title": "How to use LINQ to populate a object with a List&lt;int&gt; and a String?", "body": "<p>I'm using Entity Framework 6.3 and LINQ to query from a table and populate the DTO object below:</p>\n\n<pre><code>public class MyObject\n{\n   public string Name { get; set; }\n   public List&lt;int&gt; Number { get; set; }\n\n   public MyClass()\n   {\n       Number = new List&lt;int&gt;();\n   }\n}\n</code></pre>\n\n<p>In this particular table (legacy project), the <em>Name</em> can have multiple <em>Numbers</em>, hence my need to use it as a list.</p>\n\n<p>The table looks like this: </p>\n\n<pre><code>Name      Number\nabc       15371\nabc       15079\nabc       15371\nabc       30392\nxyz       30373\nxyz       13141\n\n</code></pre>\n\n<p>My code, for now, is as follow:</p>\n\n<pre><code>List&lt;MyObjetct&gt; myObject = new List&lt;MyObjetct&gt;();\n\nmyObject = contex.TableName.Where(x =&gt; listOfNames.Contains(x.Name))\n                           .Select( y =&gt; new MyObject() \n                           {\n                              name = y.name\n                              number = *populate the list of numbers*\n                           });\n</code></pre>\n\n<p>I was hoping to populate a list of MyObjects with names and a list o numbers.</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 783, "user_id": 1633949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y2kdP.jpg?s=128&g=1", "display_name": "Richard II", "link": "https://stackoverflow.com/users/1633949/richard-ii"}, "edited": false, "score": 1, "creation_date": 1572463006, "post_id": 58632176, "comment_id": 103571574, "body": "I&#39;m grasping at straws here, but without a better understanding of your environment........is it possible he defined multiple settings, one per build configuration (debug v. release)  using a technique like those mentioned in the answers to this question:?  <a href=\"https://stackoverflow.com/questions/3090311/different-application-settings-depending-on-configuration-mode\" title=\"different application settings depending on configuration mode\">stackoverflow.com/questions/3090311/&hellip;</a>"}, {"owner": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1572463764, "post_id": 58632176, "comment_id": 103571899, "body": "I&#39;d recommend that you set up a remote debugger so you can see what&#39;s going on, step by step."}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1572463864, "post_id": 58632176, "comment_id": 103571947, "body": "Is there some &quot;hidden&quot; exception handler, which would swallow possible exception thrown by this code?"}, {"owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "edited": false, "score": 0, "creation_date": 1572470881, "post_id": 58632176, "comment_id": 103574727, "body": "I don&#39;t know if it&#39;s a typo but should <code>var program = new xPromise_AllPrograms ...</code>? Still something like that would break in dev. I&#39;d also be leaning towards an exception being eaten. It&#39;s highly unusual that the same EF code running locally vs. a web server would yield different behavior. One thing to check would be database permissions if the connection string is using windows auth for instance. Running locally would be connecting via your credentials while on the server, whatever the AppPool account is set as. The table in question could possibly need an explicit grant applied??"}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1572499282, "post_id": 58632176, "comment_id": 103580952, "body": "Missing migrations could be another guess"}, {"owner": {"reputation": 95, "user_id": 4091749, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/fde19af2c740fa3368c50970f46f547d?s=128&d=identicon&r=PG&f=1", "display_name": "TDU", "link": "https://stackoverflow.com/users/4091749/tdu"}, "edited": false, "score": 0, "creation_date": 1572531823, "post_id": 58632176, "comment_id": 103595877, "body": "Thanks all for your replies.  Wending through various solutions."}], "owner": {"reputation": 95, "user_id": 4091749, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/fde19af2c740fa3368c50970f46f547d?s=128&d=identicon&r=PG&f=1", "display_name": "TDU", "link": "https://stackoverflow.com/users/4091749/tdu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572463486, "creation_date": 1572462449, "last_edit_date": 1572463486, "question_id": 58632176, "link": "https://stackoverflow.com/questions/58632176/context-is-not-saving-data-or-will-delete-data", "title": "context is not saving data, or will delete data", "body": "<p>A developer has left our company, and has left us saddled with a bunch of C# code, using Entity Framework. I'm not a C# expert, and have never used Entity Framework.  So - drinking from the end of a firehose.</p>\n\n<p>I have a problem with one piece of code that isn't saving changes. At least not in a production or test environment from a web server. Running the code in debug will save the data each and every time. To the same test database that doesn't work when run from the web site (other data entry forms ARE saving to the database, just this one seems to be a problem).</p>\n\n<p>I've researched, and a lot of suggestions seem to stem from Entity Framework not realizing the data is \"actually\" changed. So, I added  a line of code to try to set the <code>EntityState</code> to <code>Added</code> in order to force it - still not joy.</p>\n\n<pre><code>public partial class xDBContext : DbContext\n{\n     public xDBContext() : base(\"PromiseConnectionString\")\n     {\n     }\n\n}    \n...    \n\npublic partial class xPromise_AllPrograms\n{\n    [Key]\n    public int PrimID { get; set; }\n\n    public int FormId { get; set; }\n\n    [StringLength(100)]\n    public string Degree_Text { get; set; }\n}\n\n...\n\npublic ActionResult AddDegree(int formId, string degree)\n{\n   using (xDBContext context = new xDBContext())\n   {\n      var program = new x_AllPrograms()\n      {\n          FormId = formId,\n          Degree_Text = degree\n      };\n\n      context.Promise_AllPrograms.Add(program);\n      context.Entry(program).State = System.Data.Entity.EntityState.Added;\n      context.SaveChanges();\n   }\n\n   return PartialView(\"_ViewPrograms\", GetPrograms(formId));\n}\n</code></pre>\n\n<p>Obviously, any <code>Degree_Text</code> added should save into the resulting table, and will be re-displayed via <code>GetPrograms</code>.</p>\n\n<p>The data simply isn't saved - UNLESS I run it via debug on my local desktop.</p>\n\n<p>Ideas?</p>\n"}, {"tags": ["c#", "ssis"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12299282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0af20c16c2a26555ff4a048a259e2a7?s=128&d=identicon&r=PG", "display_name": "kaji", "link": "https://stackoverflow.com/users/12299282/kaji"}, "edited": false, "score": 0, "creation_date": 1572532527, "post_id": 58633078, "comment_id": 103596318, "body": "Thanks BillinKC, there was already Dts.TaskResult = (int)ScriptResults.Failure in my script task, but not the error mssage, hence looking to add the Dts.Events.FireError(0, &quot;&quot;, &quot;Custom Message &quot;, &quot;&quot;, 0);  But if we add the events handler, i am thinking to remove the Failure. Hence should i keep both or get rid of the Dts.TaskResult = (int)ScriptResults.Failure; is my confusion."}, {"owner": {"reputation": 54384, "user_id": 181965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87b30982fd95ba3e646522b1ced1f8cb?s=128&d=identicon&r=PG", "display_name": "billinkc", "link": "https://stackoverflow.com/users/181965/billinkc"}, "reply_to_user": {"reputation": 1, "user_id": 12299282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0af20c16c2a26555ff4a048a259e2a7?s=128&d=identicon&r=PG", "display_name": "kaji", "link": "https://stackoverflow.com/users/12299282/kaji"}, "edited": false, "score": 0, "creation_date": 1572533149, "post_id": 58633078, "comment_id": 103596707, "body": "I&#39;m a fan of being explicit with my intentions so I would keep the assignment of the TaskResult = failure in there even though the firing of the error will result in the same"}], "tags": [], "owner": {"reputation": 54384, "user_id": 181965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87b30982fd95ba3e646522b1ced1f8cb?s=128&d=identicon&r=PG", "display_name": "billinkc", "link": "https://stackoverflow.com/users/181965/billinkc"}, "is_accepted": false, "score": 1, "last_activity_date": 1572466815, "creation_date": 1572466815, "answer_id": 58633078, "question_id": 58632131, "link": "https://stackoverflow.com/questions/58632131/dts-taskresult-intscriptresults-failure-on-top-of-dts-events-fireerror-is/58633078#58633078", "title": "Dts.TaskResult = (int)ScriptResults. Failure on top of Dts.Events.FireError() is good?", "body": "<h2>Should we use both</h2>\n\n<p>\"It depends.\" How do you want to handle error handling? </p>\n\n<p>My experience has been that it is cleaner to set the TaskResult to Failure and then use precedence constraints out of the task to drive control flow behavior. That is, \"yes, this task failed but this package still has work to do.\" e.g. The file we expected isn't there - that's the error, but I'm going to take an error path to drive the next action (send email alert about missing file)</p>\n\n<p>Otherwise, you get to use the Event Handlers which is totally a valid approach but for all the shops I've consulted in, maybe <em>two</em> have used them well. Many people get tripped up over the possibility that an event is raised several times due to container nesting and reraising of events.</p>\n\n<p>If I know I am killing out execution from a Task, then FireError event can be helpful as it helps me log exactly why I'm aborting processing (File not found exception).</p>\n"}], "owner": {"reputation": 1, "user_id": 12299282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0af20c16c2a26555ff4a048a259e2a7?s=128&d=identicon&r=PG", "display_name": "kaji", "link": "https://stackoverflow.com/users/12299282/kaji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572466815, "creation_date": 1572462221, "last_edit_date": 1572463140, "question_id": 58632131, "link": "https://stackoverflow.com/questions/58632131/dts-taskresult-intscriptresults-failure-on-top-of-dts-events-fireerror-is", "title": "Dts.TaskResult = (int)ScriptResults. Failure on top of Dts.Events.FireError() is good?", "body": "<p>In the script task:</p>\n\n<pre><code>else if (val == 0)\n{    \n    Dts.Events.FireError(0, \"\", \"Custom Message \", \"\", 0);\n    Dts.TaskResult = (int)ScriptResults.Failure;\n}\n</code></pre>\n\n<p>When we have <code>Dts.Events.FireError()</code> in the script task, and when it gets invoked  it fails the task as well as displaying the custom error message. So is is good to write the </p>\n\n<pre><code>Dts.TaskResult = (int)ScriptResults.Failure;\n</code></pre>\n\n<p>to fail the task as in the above code.\nIs it not like calling the fail twice?\nAny use case we should have this both.</p>\n"}, {"tags": ["c#", "macos", "mono", "fiddler"], "comments": [{"owner": {"reputation": 117, "user_id": 12282936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nC3rV.png?s=128&g=1", "display_name": "user12282936", "link": "https://stackoverflow.com/users/12282936/user12282936"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1572490033, "post_id": 58632114, "comment_id": 103579181, "body": "@LexLi which one do you mean? <a href=\"https://www.telerik.com/download/fiddler/fiddler-osx-beta\" rel=\"nofollow noreferrer\">telerik.com/download/fiddler/fiddler-osx-beta</a>"}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 1, "creation_date": 1572490263, "post_id": 58632114, "comment_id": 103579221, "body": "Sounds like Telerik decided to hide it in a different page, <a href=\"https://www.telerik.com/fiddler-everywhere\" rel=\"nofollow noreferrer\">telerik.com/fiddler-everywhere</a>"}, {"owner": {"reputation": 3279, "user_id": 259206, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/36eb402c7146af7b967a49e135d2f2c1?s=128&d=identicon&r=PG", "display_name": "Borislav Ivanov", "link": "https://stackoverflow.com/users/259206/borislav-ivanov"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1572714801, "post_id": 58632114, "comment_id": 103648577, "body": "Fiddler for OSX is rather unstable as it&#39;s based on a problematic WinForms port for Mono. As @LexLi suggested, try to use <a href=\"https://www.telerik.com/fiddler-everywhere\" rel=\"nofollow noreferrer\">Fiddler Everywhere</a> if possible. It&#39;s a cross-platform Electron app."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12311241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b213364c01c5c6f68740666907be8b?s=128&d=identicon&r=PG&f=1", "display_name": "Montelex", "link": "https://stackoverflow.com/users/12311241/montelex"}, "is_accepted": false, "score": 0, "last_activity_date": 1577503416, "creation_date": 1577503416, "answer_id": 59507854, "question_id": 58632114, "link": "https://stackoverflow.com/questions/58632114/installing-mono-fiddler-on-mac/59507854#59507854", "title": "Installing mono/fiddler on mac", "body": "<p>Maybe you can try this :  mono --arch=32 Fiddler.exe</p>\n"}], "owner": {"reputation": 117, "user_id": 12282936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nC3rV.png?s=128&g=1", "display_name": "user12282936", "link": "https://stackoverflow.com/users/12282936/user12282936"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577503416, "creation_date": 1572462153, "question_id": 58632114, "link": "https://stackoverflow.com/questions/58632114/installing-mono-fiddler-on-mac", "title": "Installing mono/fiddler on mac", "body": "<p>I have been trying to install Fiddler on mac on several different Mac machines and on each machine I get a different error message, but none of them work. After install Mono via the Mac installer, and running <code>$ mono Fiddler.exe</code>, I get something like the following:</p>\n\n<pre><code>$ mono Fiddler.exe\nWARNING: The Carbon driver has not been ported to 64bits, and very few parts of Windows.Forms will work properly, or at all\n\n=================================================================\n    Native Crash Reporting\n=================================================================\nGot a SIGSEGV while executing native code. This usually indicates\na fatal error in the mono runtime or one of the native libraries \nused by your application.\n=================================================================\n</code></pre>\n\n<p>Is this a known issue with Mac/Fiddler, and if so, are there any possible ways to install Fiddler on Mac? The OS I am on is Mojave (10.14.6). Charles works fine, so I think it's related to <code>mono</code> more than <code>fiddler</code>.</p>\n"}, {"tags": ["c#", "design-patterns", "dependency-injection", ".net-core", "configuration"], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 7925061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hziAn.png?s=128&g=1", "display_name": "Dmo", "link": "https://stackoverflow.com/users/7925061/dmo"}, "is_accepted": false, "score": 1, "last_activity_date": 1572468478, "last_edit_date": 1572468478, "creation_date": 1572467583, "answer_id": 58633243, "question_id": 58631988, "link": "https://stackoverflow.com/questions/58631988/read-configuration-in-to-a-collection-of-base-class-objects-as-child-class-objec/58633243#58633243", "title": "Read configuration in to a collection of base class objects as child class objects", "body": "<p>You can use an intermediate list with binding, but you have to do some work to instanciate the right type. You can do something like that :</p>\n\n<pre><code> namespace CoreApp1\n {\n    public class ConfigSectionItem: BaseSection\n    {\n        public string Type { get; set; }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var configBuilder = new ConfigurationBuilder()\n            .SetBasePath(Directory.GetCurrentDirectory())\n            .AddJsonFile(\"appsettings.json\");\n\n            var configuration = configBuilder.Build();\n            var confList = new List&lt;ConfigSectionItem&gt;();\n\n            configuration.GetSection(\"Sections\").Bind(confList);\n\n            foreach (var confItem in confList)\n            {\n                var typeToBuild = Type.GetType($\"CoreApp1.{confItem.Type}\"); // Remember to do some checks with typeToBuild (not null, ...)\n                var newInstance = (BaseSection)Activator.CreateInstance(typeToBuild);\n\n                newInstance.Name = confItem.Name; // Use automapper or reflexion\n\n                // do what you want here with your newInstance\n                Console.WriteLine(newInstance.GetType().FullName + \" \" + newInstance.Name);\n            }\n        }\n    }\n\n    public abstract class BaseSection\n    {\n        public string Name;\n    }\n\n    public class Type1 : BaseSection\n    {\n    }\n\n    public class Type2 : BaseSection\n    {\n    }\n }\n</code></pre>\n\n<p>Be sure to use Microsoft.Extensions.Configuration.Binder\nAnd please be carefull to case sensitive in .json or do some work to capitalize:</p>\n\n<pre><code>  \"Type\": \"Type1\"\n  \"Type\": \"Type2\"\n</code></pre>\n"}], "owner": {"reputation": 980, "user_id": 5420059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb9778bac831fc58b15ce9dbf9cdaed?s=128&d=identicon&r=PG&f=1", "display_name": "Ajith", "link": "https://stackoverflow.com/users/5420059/ajith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572468478, "creation_date": 1572461484, "question_id": 58631988, "link": "https://stackoverflow.com/questions/58631988/read-configuration-in-to-a-collection-of-base-class-objects-as-child-class-objec", "title": "Read configuration in to a collection of base class objects as child class objects", "body": "<p>I have .Net core application, which is using the appsettigs.json file for holding configuration. I need to load a configuration section into a collection, without iterating through them. I know I can use Bind() method to bind the collection into a collection of same type. But here I am trying to get objects of the child class type in the collection, instead of base class type.</p>\n\n<pre><code>\"Sections\": [\n{\n  \"Name\": \"Section 1\",\n  \"Type\":\"type1\"\n\n},\n{\n  \"Name\": \"Section 2\",\n  \"Type\":\"type2\"\n\n},\n{\n  \"Name\": \"Section 3\",\n  \"Type\":\"type1\"\n\n},\n{\n  \"Name\": \"Section 4\",\n  \"Type\":\"type1\"\n\n},\n{\n  \"Name\": \"Section 5\",\n  \"Type\":\"type2\"\n\n}]\n</code></pre>\n\n<p>I am using the below code to read the config file.</p>\n\n<pre><code>var configBuilder = new ConfigurationBuilder()\n            .SetBasePath(Directory.GetCurrentDirectory())\n            .AddJsonFile(\"appsettings.json\");\n\n        var Configuration = configBuilder.Build();\n</code></pre>\n\n<p>I know I can use Configuration.Bind()</p>\n\n<p>The classes are</p>\n\n<pre><code>    Public abstract class BaseSection:ISection\n    {\n    public string Name;\n    ..\n    }\n\n\nPublic class Type1:BaseSection\n{\npublic string Name;\n..\n}\n\nPublic class Type2:BaseSection\n{\npublic string Name;\n..\n}\n</code></pre>\n\n<p>I need to read the configuration from the appsettings.json file to List such that the the for entry in config file with \"type=type1\" will have type in the collection Type1 obejct and \"type=type2\" will have type in the collection Type2 obejct.</p>\n\n<p>So my collection from the above config entries should have </p>\n\n<pre><code>[\n    Object Of Type1\n    Object Of Type2\n    Object Of Type1\n    Object Of Type1\n    Object Of Type2\n]\n</code></pre>\n\n<p>I don't want to read the data once and then type cast it.</p>\n\n<p>Please share views and inputs. Thanks in advance.</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 583, "user_id": 2720343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvJ2G.jpg?s=128&g=1", "display_name": "Dortimer", "link": "https://stackoverflow.com/users/2720343/dortimer"}, "edited": false, "score": 2, "creation_date": 1572461429, "post_id": 58631941, "comment_id": 103570953, "body": "If you&#39;re using a class you have to &#39;new&#39; up an instance of the object. It&#39;s not required for structs. <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/using-structs\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a> (search for this text on that page specifically: Unlike classes, structs can be instantiated without using the new operato)"}, {"owner": {"reputation": 409, "user_id": 11482040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e97145ede0f79467013cf464db3308?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Sanson", "link": "https://stackoverflow.com/users/11482040/andr%c3%a9-sanson"}, "edited": false, "score": 1, "creation_date": 1572461503, "post_id": 58631941, "comment_id": 103570983, "body": "As soon as your Dog struct gets a variable it will not compile :)"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1572461580, "post_id": 58631941, "comment_id": 103571016, "body": "In this example, with <code>struct Dog{}</code>,  all is well."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1572461611, "post_id": 58631941, "comment_id": 103571029, "body": "<i>&quot;in the example I saw in code it has members&quot;</i> post that or it just didn&#39;t happen."}, {"owner": {"reputation": 583, "user_id": 2720343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvJ2G.jpg?s=128&g=1", "display_name": "Dortimer", "link": "https://stackoverflow.com/users/2720343/dortimer"}, "edited": false, "score": 0, "creation_date": 1572461637, "post_id": 58631941, "comment_id": 103571034, "body": "Also, when you&#39;re using an <code>out</code> parameter with a class based object, <code>new</code> up the object before you pass it to the function: <a href=\"https://www.pluralsight.com/guides/csharp-in-out-ref-parameters\" rel=\"nofollow noreferrer\">pluralsight.com/guides/csharp-in-out-ref-parameters</a>"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 409, "user_id": 11482040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e97145ede0f79467013cf464db3308?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Sanson", "link": "https://stackoverflow.com/users/11482040/andr%c3%a9-sanson"}, "edited": false, "score": 0, "creation_date": 1572461947, "post_id": 58631941, "comment_id": 103571155, "body": "@Andr&#233;Sanson That&#39;s not true I just cannot depict an example here with a member but I have an example in my code"}, {"owner": {"reputation": 409, "user_id": 11482040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e97145ede0f79467013cf464db3308?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Sanson", "link": "https://stackoverflow.com/users/11482040/andr%c3%a9-sanson"}, "edited": false, "score": 2, "creation_date": 1572462330, "post_id": 58631941, "comment_id": 103571301, "body": "@johnny5 Then show the example."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 409, "user_id": 11482040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e97145ede0f79467013cf464db3308?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Sanson", "link": "https://stackoverflow.com/users/11482040/andr%c3%a9-sanson"}, "edited": false, "score": 0, "creation_date": 1572462673, "post_id": 58631941, "comment_id": 103571432, "body": "@Andr&#233;Sanson I cant the behavior is inconsistent between projects.  I can provide a video"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 409, "user_id": 11482040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e97145ede0f79467013cf464db3308?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Sanson", "link": "https://stackoverflow.com/users/11482040/andr%c3%a9-sanson"}, "edited": false, "score": 0, "creation_date": 1572463255, "post_id": 58631941, "comment_id": 103571675, "body": "@Andr&#233;Sanson I think it&#39;s because the struct is in a seperate assembly but i&#39;m still trying to determine the exact reason"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 409, "user_id": 11482040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e97145ede0f79467013cf464db3308?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Sanson", "link": "https://stackoverflow.com/users/11482040/andr%c3%a9-sanson"}, "edited": false, "score": 0, "creation_date": 1572463433, "post_id": 58631941, "comment_id": 103571755, "body": "@Andr&#233;Sanson the new example depicts correctly, you must create the struct in a seperate referenced assembly"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 1, "creation_date": 1572464274, "post_id": 58631941, "comment_id": 103572118, "body": "OK, this is interesting. Reproduced with a Core 3 Console app and a .Standard class lib."}, {"owner": {"reputation": 409, "user_id": 11482040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e97145ede0f79467013cf464db3308?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Sanson", "link": "https://stackoverflow.com/users/11482040/andr%c3%a9-sanson"}, "edited": false, "score": 0, "creation_date": 1572464338, "post_id": 58631941, "comment_id": 103572145, "body": "@johnny5 Yes I see now The error only raises when your struct gets another struct as a property. For example <code>public DateTime Date { get; set; }</code> or <code>public int Id { get; set; }</code>. Why this happens is beyond my understanding."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 409, "user_id": 11482040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e97145ede0f79467013cf464db3308?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Sanson", "link": "https://stackoverflow.com/users/11482040/andr%c3%a9-sanson"}, "edited": false, "score": 0, "creation_date": 1572464610, "post_id": 58631941, "comment_id": 103572243, "body": "@Andr&#233;Sanson thanks, it took me a while to figure out how to reproduce it.  I personally have no idea what the rules are for the compiler with this.  I was under the impression that all outs require initialization"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1572465239, "post_id": 58631941, "comment_id": 103572517, "body": "@HenkHolterman is this a bug?"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1572467206, "post_id": 58631941, "comment_id": 103573267, "body": "I&#39;m not sure, it might be documented somewhere. It&#39;s not really a functional bug, just a missing compiler error. The members of EmailAddress will be set to <code>null</code> and stay that way. Just like after <code>new EmailAddress()</code>."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1572467562, "post_id": 58631941, "comment_id": 103573397, "body": "@HenkHolterman, Interesting, I&#39;ll run some tests later tonight. I&#39;m wondering if there could be a chance of adverse side effect."}], "answers": [{"comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1572469838, "post_id": 58633459, "comment_id": 103574362, "body": "@johnny5: You ought not to get errors. See <a href=\"https://dotnetfiddle.net/ZEKiUk\" rel=\"nofollow noreferrer\">dotnetfiddle.net/ZEKiUk</a>. Can you post a simple repro?"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 1, "creation_date": 1572470148, "post_id": 58633459, "comment_id": 103574472, "body": "Thanks for the fiddle it was because I defined x and y as properties instead of members"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 1, "creation_date": 1572470382, "post_id": 58633459, "comment_id": 103574548, "body": "@johnny5: If you just defined a normal C# 1.0 style property then from the definite assignment checker&#39;s perspective, that&#39;s a method, not a field. If you defined a C# 3.0+ style automatic property, the compiler knows that there is a private field backing it; the rules for definite assignment of that thing have been tweaked over the years and I do not now recall the exact rules."}, {"owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 0, "creation_date": 1584475816, "post_id": 58633459, "comment_id": 107447176, "body": "If you use a <code>System.TimeSpan</code> instead, the errors do come: <code>error CS0269: Use of unassigned out parameter &#39;email&#39;</code> and <code>error CS0177: The out parameter &#39;email&#39; must be assigned to before control leaves the current method</code>. There is only one non-static field of <code>TimeSpan</code>, namely <code>_ticks</code>. It is <code>internal</code> to its assembly mscorlib. Is this assembly special? Same with <code>System.DateTime</code>, and its field is <code>private</code>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 0, "creation_date": 1584480709, "post_id": 58633459, "comment_id": 107448975, "body": "@JeppeStigNielsen: I don&#39;t know what&#39;s up with that! If you figure it out, please let me know."}, {"owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 0, "creation_date": 1584525688, "post_id": 58633459, "comment_id": 107460472, "body": "The answer to that was already in your blog! The difference is that the field type is a value type. If I use another <code>struct</code> from mscorlib, like <code>System.Collections.DictionaryEntry</code>, the anomaly is there. If I declare (within a method) a local variable <code>System.Collections.DictionaryEntry de;</code> I can &quot;use&quot; it right away. It has two private fields <code>_key</code> and <code>_value</code> of reference type that are &quot;unassigned&quot; (I supposed they are guaranteed to be <code>null</code> references). It is irrelevant that public properties <code>Key</code> and <code>Value</code> exist with which I <i>could</i> have changed the field values."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 0, "creation_date": 1584551175, "post_id": 58633459, "comment_id": 107473567, "body": "@JeppeStigNielsen: That is hilarious. Apparently I need to reread old posts more carefully. I write this stuff down so that I don&#39;t have to keep all the trivia in my head!"}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 14, "last_activity_date": 1572469965, "last_edit_date": 1572469965, "creation_date": 1572468627, "answer_id": 58633459, "question_id": 58631941, "link": "https://stackoverflow.com/questions/58631941/out-parameters-of-struct-type-not-required-to-be-assigned/58633459#58633459", "title": "out parameters of struct type not required to be assigned", "body": "<p>TLDR: This is a known bug of long standing. I first wrote about it in 2010:</p>\n\n<p><a href=\"https://blogs.msdn.microsoft.com/ericlippert/2010/01/18/a-definite-assignment-anomaly/\" rel=\"noreferrer\">https://blogs.msdn.microsoft.com/ericlippert/2010/01/18/a-definite-assignment-anomaly/</a></p>\n\n<p>It is harmless and you can safely ignore it, and congratulate yourself on finding a somewhat obscure bug.</p>\n\n<blockquote>\n  <p>Why doesn't the compiler enforce that <code>Email</code> must be definitely assigned? </p>\n</blockquote>\n\n<p>Oh, it does, in a fashion. It just has a wrong idea of what condition implies that the variable is definitely assigned, as we shall see.</p>\n\n<blockquote>\n  <p>Why does this code compile if the struct is created in a separate assembly, but it doesn't compile if the struct is defined in the existing assembly?</p>\n</blockquote>\n\n<p>That's the crux of the bug. The bug is a consequence of the intersection of how the C# compiler does definite assignment checking on structs and how the compiler loads metadata from libraries. </p>\n\n<p>Consider this:</p>\n\n<pre><code>struct Foo \n{ \n  public int x; \n  public int y; \n}\n// Yes, public fields are bad, but this is just \n// to illustrate the situation.\nvoid M(out Foo f)\n{\n</code></pre>\n\n<p>OK, at this point what do we know?  <code>f</code> is an alias for a variable of type <code>Foo</code>, so the storage has already been allocated and is definitely at least in the state that it came out of the storage allocator. If there was a value placed in the variable by the caller, that value is there.</p>\n\n<p>What do we require?  We require that <code>f</code> be definitely assigned at any point where control leaves <code>M</code> normally.  So you would expect something like:</p>\n\n<pre><code>void M(out Foo f)\n{\n  f = new Foo();\n}\n</code></pre>\n\n<p>which sets <code>f.x</code> and <code>f.y</code> to their default values.  But what about this?</p>\n\n<pre><code>void M(out Foo f)\n{\n  f = new Foo();\n  f.x = 123;\n  f.y = 456;\n}\n</code></pre>\n\n<p>That should also be fine.  But, and here is the kicker, <strong>why do we need to assign the default values only to blow them away a moment later?</strong>  C#'s definite assignment checker checks to see if <em>every field</em> is assigned!  This is legal:</p>\n\n<pre><code>void M(out Foo f)\n{\n  f.x = 123;\n  f.y = 456;\n}\n</code></pre>\n\n<p>And why should that not be legal? It's a value type.  <code>f</code> is a variable, and it <em>already</em> contains a valid value of type <code>Foo</code>, so let's just set the fields, and we're done, right?</p>\n\n<p>Right.  So what's the bug?</p>\n\n<p>The bug that you have discovered is:  <strong>as a cost savings, the C# compiler does not load the metadata for private fields of structs that are in referenced libraries</strong>.  That metadata can be <em>huge</em>, and it would slow down the compiler for very little win to load it all into memory every time.</p>\n\n<p>And now you should be able to deduce the cause of the bug you've found.  When the compiler checks to see if the out parameter is definitely assigned, <strong>it compares the number of known fields to the number of fields that were definite initialized</strong> and in your case it only knows about the <em>zero</em> public fields because the private field metadata was not loaded. The compiler concludes \"zero fields required, zero fields initialized, we're good.\"</p>\n\n<p>Like I said, this bug has been around for more than a decade and people like you occasionally rediscover it and report it.  It's harmless, and it is unlikely to be fixed because fixing it is of almost zero benefit but a large performance cost.</p>\n\n<p>And of course the bug does not repro for private fields of structs that are in source code in your project, because obviously the compiler already has  information about the private fields at hand.</p>\n"}], "owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 2, "accepted_answer_id": 58633459, "answer_count": 1, "score": 11, "last_activity_date": 1584470917, "creation_date": 1572461249, "last_edit_date": 1572541578, "question_id": 58631941, "link": "https://stackoverflow.com/questions/58631941/out-parameters-of-struct-type-not-required-to-be-assigned", "title": "out parameters of struct type not required to be assigned", "body": "<p>I've noticed some bizarre behavior in my code when accidentally commenting out a line in a function during code review.  It was very hard to reproduce but I'll depict a similar example here.</p>\n\n<p>I've got this test class:</p>\n\n<pre><code>public class Test\n{\n    public void GetOut(out EmailAddress email)\n    {\n        try\n        {\n            Foo(email);\n        }\n        catch\n        {\n        }\n    }\n\n    public void Foo(EmailAddress email)\n    {\n    }\n}\n</code></pre>\n\n<p>there is No assignment to Email in the <code>GetOut</code> which normally would throw an error: </p>\n\n<blockquote>\n  <p>The out parameter 'email' must be assigned to before control leaves the current method</p>\n</blockquote>\n\n<p>However if EmailAddress is in a struct in a seperate assembly there is no error created and everything compiles fine.</p>\n\n<pre><code>public struct EmailAddress\n{\n    #region Constructors\n\n    public EmailAddress(string email)\n        : this(email, string.Empty)\n    {\n    }\n\n    public EmailAddress(string email, string name)\n    {\n        this.Email = email;\n        this.Name = name;\n    }\n\n    #endregion\n\n    #region Properties\n\n    public string Email { get; private set; }\n    public string Name { get; private set; }\n\n    #endregion\n}\n</code></pre>\n\n<p>Why doesn't the compiler enforce that Email must be assign to?\nWhy does this code compile if the struct is created in a separate assembly, but it doesn't compile if the struct is defined in the existing assembly?</p>\n"}, {"tags": ["c#", "model-view-controller"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1572461584, "post_id": 58631909, "comment_id": 103571020, "body": "What is not working? What is the problem?  <code>it is not working</code> is a rather broad statement. It does not tell us what is actually happening as apposed what was expected."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11788370, "user_type": "registered", "profile_image": "https://graph.facebook.com/623227606/picture?type=large", "display_name": "wrathillumines", "link": "https://stackoverflow.com/users/11788370/wrathillumines"}, "edited": false, "score": 0, "creation_date": 1572478740, "post_id": 58632052, "comment_id": 103576933, "body": "thanks, I had a little trouble with that but changing the semi to a comma did the trick."}], "tags": [], "owner": {"reputation": 344, "user_id": 9338546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33edb607cdc43c9361327b127baca007?s=128&d=identicon&r=PG", "display_name": "Collen", "link": "https://stackoverflow.com/users/9338546/collen"}, "is_accepted": true, "score": 0, "last_activity_date": 1572461804, "creation_date": 1572461804, "answer_id": 58632052, "question_id": 58631909, "link": "https://stackoverflow.com/questions/58631909/trying-to-send-email-to-list-of-users/58632052#58632052", "title": "Trying to send email to list of users", "body": "<p><code>emailTo</code> is currently calling the <code>ToString</code> method of your collection, which is probably not what you want. If you want a delimited list of email addresses, you might do something like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var emailTo = string.Join(\";\", subbed.Select(s =&gt; s.Email))\n// example output: \"bob@example.com;jane@example.com\"\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 11788370, "user_type": "registered", "profile_image": "https://graph.facebook.com/623227606/picture?type=large", "display_name": "wrathillumines", "link": "https://stackoverflow.com/users/11788370/wrathillumines"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 58632052, "answer_count": 1, "score": 0, "last_activity_date": 1572461804, "creation_date": 1572461130, "question_id": 58631909, "link": "https://stackoverflow.com/questions/58631909/trying-to-send-email-to-list-of-users", "title": "Trying to send email to list of users", "body": "<p>I'm trying to set up a thing to send an email to users who have their Subscribed set to true. I think I'm getting the users, but the email address is something I'm working on.</p>\n\n<p>I tried this to get the addresses, but it's not working:</p>\n\n<pre><code>var subbed = db.Users.Where(u =&gt; u.Subscribed == true);\n\nvar emailFrom = WebConfigurationManager.AppSettings[\"emailfrom\"];\n\nvar emailTo = subbed.Select(s =&gt; s.Email).ToString();\n\nMailMessage mailMessage = new MailMessage(emailFrom, emailTo)\n{\n    Subject = \"This Is The Subject\",\n    IsBodyHtml = true,\n    Body = \"This is the body\"\n};\n</code></pre>\n\n<p>The emailTo variable seems to be the problem from what I can tell in the debugger.</p>\n"}, {"tags": ["c#", "dataset", "sample", "moving-average"], "comments": [{"owner": {"reputation": 6072, "user_id": 2142950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZGrD.png?s=128&g=1", "display_name": "Klaus G&#252;tter", "link": "https://stackoverflow.com/users/2142950/klaus-g%c3%bctter"}, "edited": false, "score": 1, "creation_date": 1572461223, "post_id": 58631904, "comment_id": 103570884, "body": "Welcome to stack overflow! Did you already try something? Where did you get stuck? Please <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> a specific question not just a general &quot;how do I&quot;."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1572461261, "post_id": 58631904, "comment_id": 103570898, "body": "queue up the values, then as you add a new one in (and add it to the sum) you&#39;d pop one off and subtract it from the sum and recalculate the average from the sum."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1572461729, "post_id": 58631904, "comment_id": 103571065, "body": "@juharr - that only becomes an optimization for sample sizes &gt; 2."}], "answers": [{"tags": [], "owner": {"reputation": 431, "user_id": 12297767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4aa8d390a92a5ed08c885372227d59a1?s=128&d=identicon&r=PG&f=1", "display_name": "Groger", "link": "https://stackoverflow.com/users/12297767/groger"}, "is_accepted": false, "score": 0, "last_activity_date": 1572461846, "creation_date": 1572461846, "answer_id": 58632055, "question_id": 58631904, "link": "https://stackoverflow.com/questions/58631904/how-do-you-compute-for-the-moving-average-of-a-given-dataset-in-c/58632055#58632055", "title": "How do you compute for the moving average of a given dataset in C#?", "body": "<p>This can be done with a simple loop.</p>\n\n<pre><code>for (int i = 0; i &lt;= array.Length - samplesize; i++)\n    Console.WriteLine(array.Skip(i).Take(samplesize).Average());\n</code></pre>\n\n<p>The <code>Skip(i).Take(samplesize)</code> portion selects only the elements you are interested in at the moment.</p>\n"}, {"tags": [], "owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "is_accepted": false, "score": 1, "last_activity_date": 1572461923, "creation_date": 1572461923, "answer_id": 58632065, "question_id": 58631904, "link": "https://stackoverflow.com/questions/58631904/how-do-you-compute-for-the-moving-average-of-a-given-dataset-in-c/58632065#58632065", "title": "How do you compute for the moving average of a given dataset in C#?", "body": "<p>You can keep track of the sum and queue up all the values so you know what to subtract from the sum once you get to the sample size.</p>\n\n<pre><code>public static IEnumerable&lt;decimal&gt; MovingAverages(IEnumerable&lt;decimal&gt; values, int sample)\n{\n    var queue = new Queue&lt;decimal&gt;(sample);\n    decimal sum = 0;\n    foreach(var x in values)\n    {\n        sum += x;\n        queue.Enqueue(x);\n        if(queue.Count == sample)\n        {\n            yield return sum / sample;\n            sum -= queue.Dequeue();\n        }\n    }\n}\n</code></pre>\n\n<p>Basically this will queue up the first n values (equal to sample) and the sum.  Once it gets the desired number of values to average it yields the sum divided by the sample size and then removes the oldest value from the queue and subtracts it from the sum.  Note that if the sample size is larger than the number of values this will return an empty enumerable.</p>\n"}], "owner": {"reputation": 1, "user_id": 12299232, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAK3ulLLy-71rvTmfJ1p8LoMKJFJev2KEfaHJwJzQ=k-s128", "display_name": "Hope D", "link": "https://stackoverflow.com/users/12299232/hope-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1572461923, "creation_date": 1572461119, "question_id": 58631904, "link": "https://stackoverflow.com/questions/58631904/how-do-you-compute-for-the-moving-average-of-a-given-dataset-in-c", "title": "How do you compute for the moving average of a given dataset in C#?", "body": "<p>So I use a randomly generated dataset and I need to find the moving average of the sample size the user inputted. For example, the dataset is a list with {1, 2, 3, 4, 5, 6, 7, 8, 9, 10} and the sample size the user inputted is 2. The program must calculate first the mean of:\n1 and 2 = 1.5, 2 and 3 = 2.5, 3 and 4 = 3.5,\nand so on. How do I do this? Thanks! \ud83d\ude0a</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 2, "creation_date": 1572461090, "post_id": 58631826, "comment_id": 103570822, "body": "I don&#39;t see any problems: <a href=\"https://dotnetfiddle.net/WEU9Ma\" rel=\"nofollow noreferrer\">dotnetfiddle.net/WEU9Ma</a>"}, {"owner": {"reputation": 185, "user_id": 10788327, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-W3IVKOR1B1Q/AAAAAAAAAAI/AAAAAAAAABI/iiyc6eWbnrw/photo.jpg?sz=128", "display_name": "mdelapena", "link": "https://stackoverflow.com/users/10788327/mdelapena"}, "edited": false, "score": 0, "creation_date": 1572461163, "post_id": 58631826, "comment_id": 103570852, "body": "do you need this just for printing?"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1572461198, "post_id": 58631826, "comment_id": 103570871, "body": "<code>number.ToString(&quot;C&quot;, CultureInfo.GetCultureInfo(&quot;en-US&quot;));</code> doesn&#39;t work for you? What&#39;s the output of <code>Console.WriteLine(CultureInfo.CurrentCulture.ToString())</code> on your machine?"}, {"owner": {"reputation": 4569, "user_id": 1344058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3415294e59071c4e6d06c7cb9d21e3d?s=128&d=identicon&r=PG", "display_name": "germi", "link": "https://stackoverflow.com/users/1344058/germi"}, "edited": false, "score": 0, "creation_date": 1572461233, "post_id": 58631826, "comment_id": 103570888, "body": "Can you do a <code>Console.WriteLine(Thread.CurrentThread.CurrentCulture.Displa&zwnj;&#8203;yName)</code> and tell us what you see?"}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1572461455, "post_id": 58631826, "comment_id": 103570965, "body": "Show us how you \u201ctried to put en-US behind it\u201d and explain what \u201cbut it doesn&#39;t work\u201d means; did it throw an error? Show us what it wrote."}], "answers": [{"tags": [], "owner": {"reputation": 344, "user_id": 9338546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33edb607cdc43c9361327b127baca007?s=128&d=identicon&r=PG", "display_name": "Collen", "link": "https://stackoverflow.com/users/9338546/collen"}, "is_accepted": false, "score": 3, "last_activity_date": 1572461234, "creation_date": 1572461234, "answer_id": 58631937, "question_id": 58631826, "link": "https://stackoverflow.com/questions/58631826/output-numeric-formatting-is-wrong/58631937#58631937", "title": "Output numeric formatting is wrong", "body": "<p>This should work regardless of your machine's culture info:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Console.WriteLine(\"Money: {0}\",\n  number.ToString(\"C\", System.Globalization.CultureInfo.CreateSpecificCulture(\"en-US\")));\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 12299213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b97186009679d67ff1e91d201ea7e9?s=128&d=identicon&r=PG&f=1", "display_name": "noobdevelopper", "link": "https://stackoverflow.com/users/12299213/noobdevelopper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1572464961, "creation_date": 1572460732, "last_edit_date": 1572464961, "question_id": 58631826, "link": "https://stackoverflow.com/questions/58631826/output-numeric-formatting-is-wrong", "title": "Output numeric formatting is wrong", "body": "<p>I'm writing a program in C# that turns the number (given by an user) to a decimal number with the <code>$</code> mark. For example, if i give in 15 then the results should be <code>$15.00</code> but the results now is <code>15.00 ?</code>.</p>\n\n<p>I have tried to put en-US behind it but it doesn't work</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Console.Write(\"Give a number that you want to convert to $: \");\nint number = int.Parse(Console.ReadLine());\nConsole.WriteLine(\"Money: {0}\", number.ToString(\"C\"));\n</code></pre>\n\n<p><strong>Edit:</strong>\nMy teacher doesn't allow it to just put \"$\" in front of it.</p>\n"}, {"tags": ["c#", "regex"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 2024004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMspG.jpg?s=128&g=1", "display_name": "evilpixi", "link": "https://stackoverflow.com/users/2024004/evilpixi"}, "edited": false, "score": 0, "creation_date": 1572461655, "post_id": 58631923, "comment_id": 103571040, "body": "almost correct, but I also need the quotes not matched"}, {"owner": {"reputation": 28228, "user_id": 7132550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1063981417044495/picture?type=large", "display_name": "Micha\u0142 Turczyn", "link": "https://stackoverflow.com/users/7132550/micha%c5%82-turczyn"}, "edited": false, "score": 0, "creation_date": 1572461799, "post_id": 58631923, "comment_id": 103571100, "body": "It doesn&#39;t work on <a href=\"http://regexstorm.net/tester?p=%28%3F&lt;!&quot;%5CS%2B%29%5Cs%2B%28%3F!%5CS%2B&quot;%29&amp;i=Jo%20Ka%20&quot;Vid%20Whi&quot;%0D%0AJo%20%20Whi%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20&quot;Ka%20&quot;\" rel=\"nofollow noreferrer\">this data</a>"}, {"owner": {"reputation": 3058, "user_id": 1345768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V5Vru.png?s=128&g=1", "display_name": "Tim.Tang", "link": "https://stackoverflow.com/users/1345768/tim-tang"}, "reply_to_user": {"reputation": 73, "user_id": 2024004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMspG.jpg?s=128&g=1", "display_name": "evilpixi", "link": "https://stackoverflow.com/users/2024004/evilpixi"}, "edited": false, "score": 0, "creation_date": 1572467587, "post_id": 58631923, "comment_id": 103573409, "body": "@evilpixi: see my update, just use <code>Trim()</code> to remove the <code>&quot;</code>"}], "tags": [], "owner": {"reputation": 3058, "user_id": 1345768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V5Vru.png?s=128&g=1", "display_name": "Tim.Tang", "link": "https://stackoverflow.com/users/1345768/tim-tang"}, "is_accepted": false, "score": 1, "last_activity_date": 1572467892, "last_edit_date": 1572467892, "creation_date": 1572461178, "answer_id": 58631923, "question_id": 58631795, "link": "https://stackoverflow.com/questions/58631795/regex-for-whitespace-or-quoted-separed-words-to-list/58631923#58631923", "title": "Regex for whitespace or quoted separed words to List", "body": "<p>Try:</p>\n\n<p><code>Regex.Split(str,\"(?&lt;!\\\"[^\\\"\\s]+)\\s+(?![^\\\"\\s]+\\\")\").Split(s =&gt; s.Trim('\"');</code></p>\n\n<p>Example:</p>\n\n<p>check the <code>Split List</code> Tab of this <a href=\"http://regexstorm.net/tester?p=%28%3F%3C!%22%5CS%2B%29%5Cs%2B%28%3F!%5CS%2B%22%29&amp;i=Jo%20Ka%20%22Vid%20Whi%22%0D%0AJo%20%20Whi%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Ka%20%22\" rel=\"nofollow noreferrer\">link</a></p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 2024004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMspG.jpg?s=128&g=1", "display_name": "evilpixi", "link": "https://stackoverflow.com/users/2024004/evilpixi"}, "edited": false, "score": 0, "creation_date": 1572462602, "post_id": 58632153, "comment_id": 103571401, "body": "I was thinking about this but I&#39;m not sure if this is a good programming practice"}, {"owner": {"reputation": 28228, "user_id": 7132550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1063981417044495/picture?type=large", "display_name": "Micha\u0142 Turczyn", "link": "https://stackoverflow.com/users/7132550/micha%c5%82-turczyn"}, "reply_to_user": {"reputation": 73, "user_id": 2024004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMspG.jpg?s=128&g=1", "display_name": "evilpixi", "link": "https://stackoverflow.com/users/2024004/evilpixi"}, "edited": false, "score": 0, "creation_date": 1572462759, "post_id": 58632153, "comment_id": 103571466, "body": "@evilpixi I don&#39;t see any reason why it wouldn&#39;t be :) Bad programming practice is aiming for short and highly complicated solutions rather than simple ones , but less concise :)"}], "tags": [], "owner": {"reputation": 28228, "user_id": 7132550, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1063981417044495/picture?type=large", "display_name": "Micha\u0142 Turczyn", "link": "https://stackoverflow.com/users/7132550/micha%c5%82-turczyn"}, "is_accepted": true, "score": 2, "last_activity_date": 1572462329, "creation_date": 1572462329, "answer_id": 58632153, "question_id": 58631795, "link": "https://stackoverflow.com/questions/58631795/regex-for-whitespace-or-quoted-separed-words-to-list/58632153#58632153", "title": "Regex for whitespace or quoted separed words to List", "body": "<p>Try below:</p>\n\n<pre><code>public static void Main(string[] args)\n{\n  List&lt;string&gt; result = new List&lt;string&gt;();\n  var testString = \"Jo Ka \\\"Vid Whi\\\"\";\n\n  var regex = new Regex(\"\\\"[^\\\"]+\\\"\");\n  var matches = regex.Matches(testString);\n  // Remove matched string inside quotes and trim possible spaces\n  testString = regex.Replace(testString, \"\").Trim();\n  // Add all strings sorrounded by quotes and trim quotes\n  foreach (Match match in matches) result.Add(match.Value.Trim('\"'));\n  // Add rest of strings, which were separated by space\n  result.AddRange(testString.Split(' ').Select(s =&gt; s.Trim()));\n}\n</code></pre>\n\n<p>It's more robust than huge regex and in first uses small, simple regex :)</p>\n"}], "owner": {"reputation": 73, "user_id": 2024004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMspG.jpg?s=128&g=1", "display_name": "evilpixi", "link": "https://stackoverflow.com/users/2024004/evilpixi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 58632153, "answer_count": 2, "score": 0, "last_activity_date": 1572475231, "creation_date": 1572460631, "last_edit_date": 1572475231, "question_id": 58631795, "link": "https://stackoverflow.com/questions/58631795/regex-for-whitespace-or-quoted-separed-words-to-list", "title": "Regex for whitespace or quoted separed words to List", "body": "<p>In C# I Need a RegEx for a search bar control.\nThe rule is:</p>\n\n<ul>\n<li>Case insensitive.</li>\n<li>Trim unuseful whitespaces.</li>\n<li>Words are separed with whitespaces.</li>\n<li>Whitespaces between two double quotes (\") acts like a valid character to search and not like a separator.</li>\n</ul>\n\n<p>I tried this:</p>\n\n<pre><code>\"[\\w]+|\\\"([\\w\\s])+\\\"\"\n</code></pre>\n\n<hr>\n\n<p>So if I enter this string:</p>\n\n<pre><code>\"Jo Ka \\\"Vid Whi\\\"\"\n</code></pre>\n\n<p>I should get this list:</p>\n\n<pre><code>{\n \"jo\", \n \"ka\",\n \"vid whi\"\n}\n</code></pre>\n\n<p>That after searching it should match:\n<em><strong>JO</strong>hn Smith, Ma<strong>KA</strong> Alband, <strong>KA</strong>ren Snow</em> and <em>Da<strong>VID</strong> <strong>WHI</strong>te</em>. And not <em>WHItney Stars</em>.</p>\n\n<p>But after using ReGex.Match() I get</p>\n\n<pre><code>{\n \"jo\", \n \"ka\",\n \"\\\"vid\", \n \"whi\",\n \"\\\"\"\n}\n</code></pre>\n\n<hr>\n\n<p>If I enter:</p>\n\n<pre><code>\"Jo  Whi               \\\"Ka \\\"\"\n</code></pre>\n\n<p>I should get</p>\n\n<pre><code>{\n \"jo\", \n \"whi\",\n \"ka \"\n}\n</code></pre>\n\n<p>That should match:\n_<strong>JO</strong>hn Smith, <em>David <strong>WHI</strong>te</em>, <em><strong>WHI</strong>tney Stars</em> and _Ma<strong>KA</strong> Alband. But not <em>KAren Snow</em>.</p>\n"}, {"tags": ["c#", "uwp"], "comments": [{"owner": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572460221, "post_id": 58631533, "comment_id": 103570408, "body": "You could just rebind your GridView after every hit...either with an empty collection (basically like clearing it) or with a Collection&lt;Cards&gt;  (sorry, had VB on my mind in my original comment)"}, {"owner": {"reputation": 11, "user_id": 11339850, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZI8JffbeiZM/AAAAAAAAAAI/AAAAAAAAAkY/LMOkeY7M59o/photo.jpg?sz=128", "display_name": "Tycho Welten", "link": "https://stackoverflow.com/users/11339850/tycho-welten"}, "reply_to_user": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572460456, "post_id": 58631533, "comment_id": 103570524, "body": "I have a collection of cars that has been made the moment the game starts for the first 2 cards, that has been added to the gvPlayer gridview. What i want is that the collection will be cleared off the gridview, but the collection will re-show after that added with the third card."}, {"owner": {"reputation": 11, "user_id": 11339850, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZI8JffbeiZM/AAAAAAAAAAI/AAAAAAAAAkY/LMOkeY7M59o/photo.jpg?sz=128", "display_name": "Tycho Welten", "link": "https://stackoverflow.com/users/11339850/tycho-welten"}, "reply_to_user": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572460522, "post_id": 58631533, "comment_id": 103570562, "body": "Don&#39;t know if it makes sense"}, {"owner": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572460569, "post_id": 58631533, "comment_id": 103570583, "body": "Let me get this straight, when the user &quot;hits&quot; for another card, you want the GridView to be completely empty for a period of time? Or do you want the GridView to be automatically updated showing 3 cards now?"}, {"owner": {"reputation": 11, "user_id": 11339850, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZI8JffbeiZM/AAAAAAAAAAI/AAAAAAAAAkY/LMOkeY7M59o/photo.jpg?sz=128", "display_name": "Tycho Welten", "link": "https://stackoverflow.com/users/11339850/tycho-welten"}, "reply_to_user": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572460632, "post_id": 58631533, "comment_id": 103570606, "body": "I want the gridview to be updated."}, {"owner": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572460661, "post_id": 58631533, "comment_id": 103570623, "body": "Then you need  to update the DataSource and then DataBind again."}, {"owner": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572460728, "post_id": 58631533, "comment_id": 103570653, "body": "It looks like _hand is your In-Memory object of cards.....so something like <code>gvPlayer.DataSource = _hand</code> and then <code>gvPlayer.DataBind()</code>"}, {"owner": {"reputation": 11, "user_id": 11339850, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZI8JffbeiZM/AAAAAAAAAAI/AAAAAAAAAkY/LMOkeY7M59o/photo.jpg?sz=128", "display_name": "Tycho Welten", "link": "https://stackoverflow.com/users/11339850/tycho-welten"}, "reply_to_user": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572460754, "post_id": 58631533, "comment_id": 103570670, "body": "And how do i do that then, new to coding."}, {"owner": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572460805, "post_id": 58631533, "comment_id": 103570691, "body": "Obviously, at some point in your code you are binding to that gvPlayer GridView right? Probably on Page_Load after you&#39;ve added the first two cards. Or else it would never display 2 cards already."}, {"owner": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572460850, "post_id": 58631533, "comment_id": 103570711, "body": "And why do you have a For Loop that only iterates 1 time? Seems odd and pointless."}, {"owner": {"reputation": 11, "user_id": 11339850, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZI8JffbeiZM/AAAAAAAAAAI/AAAAAAAAAkY/LMOkeY7M59o/photo.jpg?sz=128", "display_name": "Tycho Welten", "link": "https://stackoverflow.com/users/11339850/tycho-welten"}, "reply_to_user": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572460987, "post_id": 58631533, "comment_id": 103570773, "body": "yes in my ShowPlayer(); i&#39;ll add it"}, {"owner": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572461041, "post_id": 58631533, "comment_id": 103570798, "body": "Do not post code that is meant to help identify the problem in a comment. Please update your original message with the code, or else people may not even see it as the comments exceed a few.  EDIT: Thanks for the update."}, {"owner": {"reputation": 11, "user_id": 11339850, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZI8JffbeiZM/AAAAAAAAAAI/AAAAAAAAAkY/LMOkeY7M59o/photo.jpg?sz=128", "display_name": "Tycho Welten", "link": "https://stackoverflow.com/users/11339850/tycho-welten"}, "reply_to_user": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572461222, "post_id": 58631533, "comment_id": 103570883, "body": "<a href=\"https://imgur.com/a/1JZ2Oq7\" rel=\"nofollow noreferrer\">imgur.com/a/1JZ2Oq7</a>"}, {"owner": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572461479, "post_id": 58631533, "comment_id": 103570976, "body": "Information for GridView class (<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.webcontrols.gridview?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>)  -- To me, it seems your structure is off. Your front-end HTML seems like it should have a TemplateField for the image you are wanting to display. The button to hit should be outside the GridView.  If the player &quot;hits&quot;, you then update your _hand object with a new card, rebind the grid, and databind it.  You&#39;ll then have an RowDataBound event for the GridView...inside there you find the TemplateField for the image and update it."}, {"owner": {"reputation": 11, "user_id": 11339850, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZI8JffbeiZM/AAAAAAAAAAI/AAAAAAAAAkY/LMOkeY7M59o/photo.jpg?sz=128", "display_name": "Tycho Welten", "link": "https://stackoverflow.com/users/11339850/tycho-welten"}, "reply_to_user": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572462319, "post_id": 58631533, "comment_id": 103571293, "body": "i can send u my project you can see it yourself then"}, {"owner": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572462858, "post_id": 58631533, "comment_id": 103571514, "body": "I think you need to struggle through this rather than someone doing it for you.  Do some research on the GridView and learn by trial and error.  The good thing about test code is that it can always be rolled back and restarted. Play around."}, {"owner": {"reputation": 11, "user_id": 11339850, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZI8JffbeiZM/AAAAAAAAAAI/AAAAAAAAAkY/LMOkeY7M59o/photo.jpg?sz=128", "display_name": "Tycho Welten", "link": "https://stackoverflow.com/users/11339850/tycho-welten"}, "reply_to_user": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572463090, "post_id": 58631533, "comment_id": 103571615, "body": "Well, it&#39;s not that i want someone to make it for me. i just want to understand why this won&#39;t work"}, {"owner": {"reputation": 11, "user_id": 11339850, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZI8JffbeiZM/AAAAAAAAAAI/AAAAAAAAAkY/LMOkeY7M59o/photo.jpg?sz=128", "display_name": "Tycho Welten", "link": "https://stackoverflow.com/users/11339850/tycho-welten"}, "reply_to_user": {"reputation": 497, "user_id": 9704142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/075454f98c5ca262ed613c19d72572f9?s=128&d=identicon&r=PG&f=1", "display_name": "JohnPete22", "link": "https://stackoverflow.com/users/9704142/johnpete22"}, "edited": false, "score": 0, "creation_date": 1572463094, "post_id": 58631533, "comment_id": 103571616, "body": "<a href=\"https://imgur.com/a/WkOOVYD\" rel=\"nofollow noreferrer\">imgur.com/a/WkOOVYD</a>"}, {"owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1572502958, "post_id": 58631533, "comment_id": 103581878, "body": "I don&#39;t know which row that you want to clear, if you want to clear all the items you could call <code>gvPLayer.Items.Clear()</code> method. and if you want to clear specified row, you need get the item index where in the row, then remove them."}], "owner": {"reputation": 11, "user_id": 11339850, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZI8JffbeiZM/AAAAAAAAAAI/AAAAAAAAAkY/LMOkeY7M59o/photo.jpg?sz=128", "display_name": "Tycho Welten", "link": "https://stackoverflow.com/users/11339850/tycho-welten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572461067, "creation_date": 1572459613, "last_edit_date": 1572461067, "question_id": 58631533, "link": "https://stackoverflow.com/questions/58631533/how-can-i-clear-a-gridview-row-on-button-click-c-uwp", "title": "How can i clear a gridview row on button click C# UWP", "body": "<p>I'm making a Blackjack game for school. For every one who doesn't know how first you get 2 cards after those 2 you need to hit for a 3 card. But if i add the third card and use the function to show the cards in your hand the first to need to be cleared from the screen so they won't be displayed twice.The name of my gridview is gvPlayer.</p>\n\n<p>i'v tried this:</p>\n\n<pre><code>        private void Button_Click(object sender, RoutedEventArgs e)\n        {\n            gvPLayer.Rows.ClearValue();\n            for (int i = 0; i &lt; 1; i++)\n            {\n                _hand.AddCard(_deck.DrawCard());\n            }\n            ShowPlayer();\n        }\n</code></pre>\n\n<p>But the <code>gvPLayer.Rows.ClearValue();</code> doesn't work strangely, does anyone know how i get the code working. Thanks already</p>\n"}, {"tags": ["c#", "asp.net-mvc", "session"], "comments": [{"owner": {"reputation": 12241, "user_id": 130611, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0548fbba2b82688a059127e65dd29c9?s=128&d=identicon&r=PG", "display_name": "the_lotus", "link": "https://stackoverflow.com/users/130611/the-lotus"}, "edited": false, "score": 2, "creation_date": 1572460142, "post_id": 58631507, "comment_id": 103570375, "body": "If Session[&quot;message&quot;] = &quot; &quot;; causes a null exception, this might mean you are executing this piece of code not on the webserver with a client request. How do you call this method?"}, {"owner": {"reputation": 1, "user_id": 12018069, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDmTcH8abVb2pr293edNfA0sa8tmVYZpVzVaRAW9Q=k-s128", "display_name": "Bilal Mustafa", "link": "https://stackoverflow.com/users/12018069/bilal-mustafa"}, "reply_to_user": {"reputation": 12241, "user_id": 130611, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0548fbba2b82688a059127e65dd29c9?s=128&d=identicon&r=PG", "display_name": "the_lotus", "link": "https://stackoverflow.com/users/130611/the-lotus"}, "edited": false, "score": 0, "creation_date": 1572460275, "post_id": 58631507, "comment_id": 103570440, "body": "yes i call Set_Null_Session myself not by a webserver client request."}, {"owner": {"reputation": 1, "user_id": 12018069, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDmTcH8abVb2pr293edNfA0sa8tmVYZpVzVaRAW9Q=k-s128", "display_name": "Bilal Mustafa", "link": "https://stackoverflow.com/users/12018069/bilal-mustafa"}, "reply_to_user": {"reputation": 12241, "user_id": 130611, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0548fbba2b82688a059127e65dd29c9?s=128&d=identicon&r=PG", "display_name": "the_lotus", "link": "https://stackoverflow.com/users/130611/the-lotus"}, "edited": false, "score": 0, "creation_date": 1572460302, "post_id": 58631507, "comment_id": 103570455, "body": "How can i set these sessions to null?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12018069, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDmTcH8abVb2pr293edNfA0sa8tmVYZpVzVaRAW9Q=k-s128", "display_name": "Bilal Mustafa", "link": "https://stackoverflow.com/users/12018069/bilal-mustafa"}, "edited": false, "score": 0, "creation_date": 1572461475, "post_id": 58631901, "comment_id": 103570972, "body": "i am setting vales to sesion and removing them in same controller. As i know sessions are available in whole code"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1572463012, "post_id": 58631901, "comment_id": 103571579, "body": "If <code>Set_Null_Session</code> throws an exception, it compiles, and if it compiles, it certainly has access to something called Session, which appears to be of the correct type."}], "tags": [], "owner": {"reputation": 11, "user_id": 2528635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a154163a8f801e7a2279d0432c710df2?s=128&d=identicon&r=PG", "display_name": "Dragon", "link": "https://stackoverflow.com/users/2528635/dragon"}, "is_accepted": false, "score": -1, "last_activity_date": 1572461112, "creation_date": 1572461112, "answer_id": 58631901, "question_id": 58631507, "link": "https://stackoverflow.com/questions/58631507/session-getting-null-reference/58631901#58631901", "title": "Session getting null reference", "body": "<p>It sounds like Set_Null_Session does not have access to the Session object. Where is that method defined? And where is it called from? You might need to pass the Session or Request object into the method.</p>\n"}], "owner": {"reputation": 1, "user_id": 12018069, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDmTcH8abVb2pr293edNfA0sa8tmVYZpVzVaRAW9Q=k-s128", "display_name": "Bilal Mustafa", "link": "https://stackoverflow.com/users/12018069/bilal-mustafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1572461112, "creation_date": 1572459486, "question_id": 58631507, "link": "https://stackoverflow.com/questions/58631507/session-getting-null-reference", "title": "Session getting null reference", "body": "<p>i'm working on a project where i am using sessions for storing message alerts. when new item is added in a database i store success message in Session[\"message\"] and which is used to show a simple message to user. all this is working file every time new message is stored in this session. but when i moved to another page i want to destroy session and after that i want to show new page.\nFunction for creating sessions:-</p>\n\n<pre><code>public void Send_Response(string message, string status)\n    {\n        Session[\"message\"] = message;\n        Session[\"status\"] = status;\n    }  \n</code></pre>\n\n<p>i can access this session in whole code but when i going to destroy this session it throws null reference exception.\nhere is the code to setting sessions to null:-</p>\n\n<pre><code> public void Set_Null_Session()\n    {\n        try\n        {\n            Response.Cookies[\"message\"].Value = string.Empty;    //not working\n            //Session.Abandon();    //not working\n            //Session.Remove(\"message\");    //not working\n            //Session.Remove(\"status\");    //not working\n            Session[\"message\"] = \" \";    //not working\n            Session[\"status\"] = \" \";    //not working\n            Session[\"message\"] = null;    //not working\n            Session[\"status\"] = null;    //not working\n        }\n        catch (Exception ex)\n        {\n            var error = ex.ToString();\n        }\n\n    } \n</code></pre>\n\n<p>i used Session.Remove(\"message\") , session.Abandon() but nothing is working.</p>\n\n<p>i called  Set_Null_Session method in my controller before moving to another page as i want to destroy previous session.</p>\n"}, {"tags": ["c#", "asp.net-core", "cors"], "answers": [{"comments": [{"owner": {"reputation": 1663, "user_id": 1522011, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/76ba1daef5170dcaf85e60fff77b6610?s=128&d=identicon&r=PG", "display_name": "martonx", "link": "https://stackoverflow.com/users/1522011/martonx"}, "edited": false, "score": 0, "creation_date": 1572465827, "post_id": 58631741, "comment_id": 103572754, "body": "I tested it also with fetch api, with the same result (no cors headers). My original issue extended with fetch api screenshot."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1572469977, "post_id": 58631741, "comment_id": 103574407, "body": "Simple requests may not trigger a CORS preflight."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1572470217, "post_id": 58631741, "comment_id": 103574488, "body": "Your CORS configuration cannot give your site access to Google.  You have it backwards.  <i>Google</i> needs to add <i>your site</i> to their CORS configuration to give you access."}, {"owner": {"reputation": 40761, "user_id": 1658906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e4748ed2fb97e8a8d4dd6d439625135?s=128&d=identicon&r=PG", "display_name": "juunas", "link": "https://stackoverflow.com/users/1658906/juunas"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1572470297, "post_id": 58631741, "comment_id": 103574521, "body": "@Amy it is a fetch from origin www.google.com to localhost. Of course it is OP&#39;s CORS that matters. If the call was going to a Google API, then it would be theirs."}, {"owner": {"reputation": 1663, "user_id": 1522011, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/76ba1daef5170dcaf85e60fff77b6610?s=128&d=identicon&r=PG", "display_name": "martonx", "link": "https://stackoverflow.com/users/1522011/martonx"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1572472234, "post_id": 58631741, "comment_id": 103575170, "body": "@Amy no it is not google&#39;s side setting, it is my side&#39;s setting, and it seems Asp.Net Core 3.0 CORS settings not working :("}], "tags": [], "owner": {"reputation": 40761, "user_id": 1658906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e4748ed2fb97e8a8d4dd6d439625135?s=128&d=identicon&r=PG", "display_name": "juunas", "link": "https://stackoverflow.com/users/1658906/juunas"}, "is_accepted": false, "score": 0, "last_activity_date": 1572460398, "creation_date": 1572460398, "answer_id": 58631741, "question_id": 58631341, "link": "https://stackoverflow.com/questions/58631341/asp-net-core-3-0-cors-not-working-based-on-official-documentation/58631741#58631741", "title": "Asp.net Core 3.0 CORS not working based on official documentation", "body": "<p>If you put the API URL directly in the browser, CORS is not involved.\nIt isn't a cross-origin request.</p>\n\n<p>That only happens when you have a page hosted at one origin, e.g. localhost:5000, which has JavaScript code that calls an API at origin localhost:5001.\n(or otherwise fetches resources from another origin)</p>\n\n<p>But in your case the only origin is the API origin and thus CORS is not needed.</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 8529128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74600aef932b6d2f88ca925718b79518?s=128&d=identicon&r=PG&f=1", "display_name": "Tigran Petrosyan", "link": "https://stackoverflow.com/users/8529128/tigran-petrosyan"}, "edited": false, "score": 0, "creation_date": 1614092918, "post_id": 58634193, "comment_id": 117275687, "body": "Thank you, bro, had the same problem !"}], "tags": [], "owner": {"reputation": 1663, "user_id": 1522011, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/76ba1daef5170dcaf85e60fff77b6610?s=128&d=identicon&r=PG", "display_name": "martonx", "link": "https://stackoverflow.com/users/1522011/martonx"}, "is_accepted": true, "score": 3, "last_activity_date": 1572472659, "creation_date": 1572472659, "answer_id": 58634193, "question_id": 58631341, "link": "https://stackoverflow.com/questions/58631341/asp-net-core-3-0-cors-not-working-based-on-official-documentation/58634193#58634193", "title": "Asp.net Core 3.0 CORS not working based on official documentation", "body": "<p>Oops, I successed to solve this.</p>\n\n<p>This combination was the only one to me, what is working:</p>\n\n<pre><code>public class Startup\n{\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }\n\n        public IConfiguration Configuration { get; }\n\n        // This method gets called by the runtime. Use this method to add services to the container.\n        public void ConfigureServices(IServiceCollection services)\n        {\n            services.AddControllers();\n            services.AddCors(); //This needs to let it default\n        }\n\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n            }\n\n            app.UseHttpsRedirection();\n\n            app.UseRouting();\n\n            app.UseCors(\n                options =&gt; options.SetIsOriginAllowed(x =&gt; _ = true).AllowAnyMethod().AllowAnyHeader().AllowCredentials()\n            ); //This needs to set everything allowed\n\n            app.UseAuthorization();\n\n            app.UseEndpoints(endpoints =&gt;\n            {\n                endpoints.MapControllers();\n            });\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 1663, "user_id": 1522011, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/76ba1daef5170dcaf85e60fff77b6610?s=128&d=identicon&r=PG", "display_name": "martonx", "link": "https://stackoverflow.com/users/1522011/martonx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3297, "favorite_count": 0, "accepted_answer_id": 58634193, "answer_count": 2, "score": 1, "last_activity_date": 1600750599, "creation_date": 1572458702, "last_edit_date": 1600750599, "question_id": 58631341, "link": "https://stackoverflow.com/questions/58631341/asp-net-core-3-0-cors-not-working-based-on-official-documentation", "title": "Asp.net Core 3.0 CORS not working based on official documentation", "body": "<p>I want to enable CORS with Asp.Net Core 3.0 API project. This is the basic generated Asp.Net Core Api template. Everything is default from the template, except I added CORS settings from the documentation: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/cors?view=aspnetcore-3.0\" rel=\"nofollow noreferrer\">Enable Cross-Origin Requests (CORS) in ASP.NET Core</a></p>\n\n<p>Here it is my Startup.cs</p>\n\n<pre><code>public class Startup\n{\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }\n\n        public IConfiguration Configuration { get; }\n\n        // This method gets called by the runtime. Use this method to add services to the container.\n        public void ConfigureServices(IServiceCollection services)\n        {\n            services.AddControllers();\n            services.AddCors(options =&gt;\n            {\n                options.AddPolicy(\"CorsPolicy\",\n                    builder =&gt; builder.WithOrigins(\"localhost\", \"www.google.com\")\n                    .AllowAnyMethod()\n                    .AllowAnyHeader()\n                    .AllowCredentials());\n            });\n        }\n\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IWebHostEnvironment env)\n        {\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n            }\n\n            app.UseHttpsRedirection();\n\n            app.UseRouting();\n\n            app.UseCors(\"CorsPolicy\");\n            app.UseAuthorization();\n\n            app.UseEndpoints(endpoints =&gt;\n            {\n                endpoints.MapControllers();\n            });\n        }\n  }\n</code></pre>\n\n<p>And these are my response headers:\n<a href=\"https://i.stack.imgur.com/x6KvG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x6KvG.png\" alt=\"enter image description here\"></a></p>\n\n<p>What should I set up for getting corret CORS headers in Response?</p>\n\n<p>Here it is my fetch api test:\n<a href=\"https://i.stack.imgur.com/Kn74I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kn74I.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "asp.net", ".net", "wcf", "exception"], "comments": [{"owner": {"reputation": 409, "user_id": 11482040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e97145ede0f79467013cf464db3308?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Sanson", "link": "https://stackoverflow.com/users/11482040/andr%c3%a9-sanson"}, "edited": false, "score": 0, "creation_date": 1572459969, "post_id": 58631238, "comment_id": 103570306, "body": "Wcf is mainly used for SOAP communications, tho you can create REST methods, I recommend doing restful in web api."}, {"owner": {"reputation": 81, "user_id": 9489852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17718e2cf4e8134262063528ec70f50c?s=128&d=identicon&r=PG&f=1", "display_name": "Sanam", "link": "https://stackoverflow.com/users/9489852/sanam"}, "reply_to_user": {"reputation": 409, "user_id": 11482040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e97145ede0f79467013cf464db3308?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Sanson", "link": "https://stackoverflow.com/users/11482040/andr%c3%a9-sanson"}, "edited": false, "score": 1, "creation_date": 1572503478, "post_id": 58631238, "comment_id": 103582031, "body": "lets just say its not an option..im stuck with WCF for some reason"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1572524081, "post_id": 58631238, "comment_id": 103591499, "body": "Post your <i>code</i> and the exception text, not screenshots of them. The error complains that the <code>address</code> field is defined as an <i>int</i> and the value passed was an empty string. Where&#39;s the class and where&#39;s the <code>address</code> field?"}, {"owner": {"reputation": 81, "user_id": 9489852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17718e2cf4e8134262063528ec70f50c?s=128&d=identicon&r=PG&f=1", "display_name": "Sanam", "link": "https://stackoverflow.com/users/9489852/sanam"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1572532748, "post_id": 58631238, "comment_id": 103596461, "body": "@PanagiotisKanavos  pls see the edits, thanks"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1572532783, "post_id": 58631238, "comment_id": 103596490, "body": "Post the code and exception <i>text</i>, not screenshots of the code and text. Screenshots can&#39;t be copied and compiled. Screenshots of error messages can&#39;t be googled"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1572532879, "post_id": 58631238, "comment_id": 103596553, "body": "Besides, those screenshots don&#39;t contain any <code>address</code> fields. This isn&#39;t a WCF issue, most likely it&#39;s a bug in the application itself that uses the wrong type the DTO fields. Where are the DTO classes? You can&#39;t fix code bugs by modifying the error handling logic, you need to fix the buggy code"}, {"owner": {"reputation": 81, "user_id": 9489852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17718e2cf4e8134262063528ec70f50c?s=128&d=identicon&r=PG&f=1", "display_name": "Sanam", "link": "https://stackoverflow.com/users/9489852/sanam"}, "edited": false, "score": 0, "creation_date": 1572534112, "post_id": 58631238, "comment_id": 103597326, "body": "Forget about the address..i was testing with different api earlier, but to smooth things up I have created this get product api..  Anyways, could you pls see the edits...I have updated the exception. Thankss"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 9489852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17718e2cf4e8134262063528ec70f50c?s=128&d=identicon&r=PG&f=1", "display_name": "Sanam", "link": "https://stackoverflow.com/users/9489852/sanam"}, "edited": false, "score": 0, "creation_date": 1572521351, "post_id": 58639751, "comment_id": 103590063, "body": "How can I authenticate it?  I did use data annotations like that:          [DataMember]         [Required(ErrorMessage = &quot;Address type is required&quot;)]         public int ProductID { get; set; }  but its not doing any favors when the property of int is being called. While on the other hand, strings valkiadtions are working perfectyly fine."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1572524135, "post_id": 58639751, "comment_id": 103591532, "body": "@Saman the error says nothing about authentication. It complains that <code>Address</code> is an int but the posted value was an empty string."}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "edited": false, "score": 0, "creation_date": 1572575992, "post_id": 58639751, "comment_id": 103611480, "body": "it seems I have a mistake, the request could reach the IErrorhandler interface. but I can handle all mistakes by the above code. wish it is useful to you."}, {"owner": {"reputation": 81, "user_id": 9489852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17718e2cf4e8134262063528ec70f50c?s=128&d=identicon&r=PG&f=1", "display_name": "Sanam", "link": "https://stackoverflow.com/users/9489852/sanam"}, "edited": false, "score": 0, "creation_date": 1572589960, "post_id": 58639751, "comment_id": 103613919, "body": "@AbrahamQian still happening :("}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 81, "user_id": 9489852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17718e2cf4e8134262063528ec70f50c?s=128&d=identicon&r=PG&f=1", "display_name": "Sanam", "link": "https://stackoverflow.com/users/9489852/sanam"}, "edited": false, "score": 0, "creation_date": 1572855873, "post_id": 58639751, "comment_id": 103676958, "body": "@Sanam  On my side, the error could be handled properly with the code segments in the ProvideFault function. <a href=\"https://i.stack.imgur.com/GOonD.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/GOonD.png</a>"}], "tags": [], "owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "is_accepted": false, "score": 0, "last_activity_date": 1572575840, "last_edit_date": 1572575840, "creation_date": 1572512201, "answer_id": 58639751, "question_id": 58631238, "link": "https://stackoverflow.com/questions/58631238/how-to-catch-handle-exceptions-in-wcf-that-occur-due-to-type-casting-or-passing/58639751#58639751", "title": "How to catch/handle exceptions in WCF that occur due to type casting or passing invalid values to the variables while calling through postman", "body": "<p>The request body is not authenticated in the local JSON format. It does not satisfy the JSON schema, which means that the request has not yet arrived at the server, so the server does not process it according to the IErrorHandler interface.<br>\nIt should like the below form so that the request can reach the server.</p>\n\n<pre><code>{\"Id\":null,\"Name\":\"Apple\"}\n</code></pre>\n\n<p>Feel free to let me know if there is anything I can help with.<br>\n<strong>Updated.</strong><br>\nDo not interfere with the serialization process in the IErrorhandler interface, please consider using the following code to handle errors.</p>\n\n<pre><code>public void ProvideFault(Exception error, MessageVersion version, ref Message fault)\n        {\n            MyError myerror = new MyError()\n            {\n                Details = error.Message,\n                Error = \"Hello\"\n            };\n            fault = Message.CreateMessage(version, \"messsagefault\", myerror);\n        }\n</code></pre>\n\n<p>Or, we can directly send error details.</p>\n\n<pre><code>FaultException faultException = new FaultException(error.Message);\n            MessageFault messageFault = faultException.CreateMessageFault();            \n            fault = Message.CreateMessage(version, messageFault, error.Message);\n</code></pre>\n\n<p>In addition, we can handle the serialization of messages in IClientMessageFormatter/IDispatcherMessageFormatter.<br>\n<a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wcf/extending/custom-message-formatters\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/framework/wcf/extending/custom-message-formatters</a>  </p>\n"}], "owner": {"reputation": 81, "user_id": 9489852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17718e2cf4e8134262063528ec70f50c?s=128&d=identicon&r=PG&f=1", "display_name": "Sanam", "link": "https://stackoverflow.com/users/9489852/sanam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 593, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572575840, "creation_date": 1572458247, "last_edit_date": 1572572315, "question_id": 58631238, "link": "https://stackoverflow.com/questions/58631238/how-to-catch-handle-exceptions-in-wcf-that-occur-due-to-type-casting-or-passing", "title": "How to catch/handle exceptions in WCF that occur due to type casting or passing invalid values to the variables while calling through postman", "body": "<p>I'm beginner to WCF. While building RestFul Apis, im facing the some crash issue.</p>\n\n<p>On my hunt to Handling exception through WCF, i have gotten help from various sources like the following:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2379917/wcf-exception-handling-strategies\">WCF Exception Handling Strategies</a>\n<a href=\"https://blogs.msdn.microsoft.com/pedram/2008/01/25/wcf-error-handling-and-some-best-practices/\" rel=\"nofollow noreferrer\">https://blogs.msdn.microsoft.com/pedram/2008/01/25/wcf-error-handling-and-some-best-practices/</a>\n<a href=\"https://riptutorial.com/csharp/example/5460/implementing-ierrorhandler-for-wcf-services\" rel=\"nofollow noreferrer\">https://riptutorial.com/csharp/example/5460/implementing-ierrorhandler-for-wcf-services</a></p>\n\n<p>By implementing Global Error handler,internal exceptions of the application are being handled smoothly (by handle them in try catch clock). But Im not sure how to handle casting exceptions. I.e the exceptions that are causing crash to the application if variable gets invalid value.</p>\n\n<p><strong>EDIT:</strong> </p>\n\n<p>I have a following DataContract class</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nusing System.Linq;\nusing System.Runtime.Serialization;\nusing System.Web;\n\nnamespace StilaarAPI.DataContracts\n{\n    [DataContract]\n    public class Products\n    {\n\n        [DataMember]\n        [Required(ErrorMessage = \"product Name is required\")]\n        [StringLength(50, MinimumLength = 5, ErrorMessage = \"Address Feild length should be between 5 and 50\")]\n        public string ProductName { get; set; }\n\n        [Required(ErrorMessage = \"ProductID is requied\")]\n        [DataMember]\n        public int ProductID { get; set; }\n\n\n\n    }\n    }\n</code></pre>\n\n<p><hr>\nAnd following (Ajax- enabled WCF service is using the above DataContract class as input argument)</p>\n\n<pre><code>[OperationContract]\n    [WebInvoke(Method = \"POST\", RequestFormat = WebMessageFormat.Json, ResponseFormat = WebMessageFormat.Json, BodyStyle = WebMessageBodyStyle.Wrapped)]\n    public string GetProduct(Products pro)\n    {\n        try\n        {\n\n            string test = \"Every thing works fine :D\";\n            return test;\n\n            //ResultDo&lt;List&lt;ProblemTypesDo&gt;&gt; result = new ResultDo&lt;List&lt;ProblemTypesDo&gt;&gt;();\n            //var problemTypes = _riderOrderDeliveryBL.GetProblemType();\n\n\n        }\n        catch (NotFoundException ex)\n        {\n            NotFoundFault fault = new NotFoundFault();\n            fault.Error = \"Product Not Found\";\n            fault.StatusCode = HttpStatusCode.NotFound;\n\n            throw new WebFaultException&lt;NotFoundFault&gt;(\n                                       fault, HttpStatusCode.NotFound);\n        }\n\n\n\n    }\n</code></pre>\n\n<p>Calling the above service from postman just give smooth simple result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qotbK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qotbK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Which is good, Now if i run different input scenarios on input variable:\nStarting with setting null value to the product name, it gives me following result\n<a href=\"https://i.stack.imgur.com/64Kyh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/64Kyh.png\" alt=\"enter image description here\"></a></p>\n\n<p>Not bad, since my validation worked and exception being handled so I got the above result.\nNow coming towards next scenario, if i set ID to null, following output is being occured:\n<a href=\"https://i.stack.imgur.com/pmQcA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pmQcA.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now, my question is what can I do to prevent application from crashing like that:</p>\n\n<p>Following are my IError Handler classess:</p>\n\n<pre><code>public class GlobalErrorBehaviorAttribute : Attribute, IServiceBehavior\n{\n    private readonly Type errorHandlerType;\n\n    /// &lt;summary&gt;\n    /// Dependency injection to dynamically inject error handler if we have multiple global error handlers\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"errorHandlerType\"&gt;&lt;/param&gt;\n    public GlobalErrorBehaviorAttribute(Type errorHandlerType)\n    {\n        this.errorHandlerType = errorHandlerType;\n    }\n\n\n\n    #region IServiceBehavior Members\n\n    void IServiceBehavior.Validate(ServiceDescription description,\n        ServiceHostBase serviceHostBase)\n    {\n    }\n\n    void IServiceBehavior.AddBindingParameters(ServiceDescription description,\n        ServiceHostBase serviceHostBase,\n        Collection&lt;ServiceEndpoint&gt; endpoints, BindingParameterCollection parameters)\n    {\n    }\n\n    /// &lt;summary&gt;\n    /// Registering the instance of global error handler in dispatch behavior of the service\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"description\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"serviceHostBase\"&gt;&lt;/param&gt;\n    void IServiceBehavior.ApplyDispatchBehavior(ServiceDescription description,\n        ServiceHostBase serviceHostBase)\n    {\n        IErrorHandler errorHandler;\n\n        try\n        {\n            errorHandler = (IErrorHandler)Activator.CreateInstance(errorHandlerType);\n        }\n        catch (MissingMethodException e)\n        {\n            throw new ArgumentException(\"The errorHandlerType specified in the ErrorBehaviorAttribute constructor must have a public empty constructor.\", e);\n        }\n        catch (InvalidCastException e)\n        {\n            throw new ArgumentException(\"The errorHandlerType specified in the ErrorBehaviorAttribute constructor must implement System.ServiceModel.Dispatcher.IErrorHandler.\", e);\n        }\n\n        foreach (ChannelDispatcherBase channelDispatcherBase in serviceHostBase.ChannelDispatchers)\n        {\n            ChannelDispatcher channelDispatcher = channelDispatcherBase as ChannelDispatcher;\n            channelDispatcher.ErrorHandlers.Add(errorHandler);\n        }\n    }\n\n    #endregion IServiceBehavior Members\n\n\n\n}\n\n\n\n\n public class GlobalErrorHandler : IErrorHandler\n{\n    public bool HandleError(Exception error)\n    {\n\n        return true;\n    }\n\n    public void ProvideFault(Exception error,System.ServiceModel.Channels.MessageVersion version,ref System.ServiceModel.Channels.Message fault)\n    {\n\n            //if (error is FaultException)\n            //    return;\n\n            var jsonError = new CustomFault\n            {\n\n                Error = \"Something went wrong\",\n                Details = error.GetType().FullName\n\n            };\n            fault = Message.CreateMessage(version, \"\", jsonError,\n                                          new DataContractJsonSerializer(typeof(CustomFault)));\n\n            // Tell WCF to use JSON encoding rather than default XML\n            var wbf = new WebBodyFormatMessageProperty(WebContentFormat.Json);\n            fault.Properties.Add(WebBodyFormatMessageProperty.Name, wbf);\n\n            // Modify response\n            var rmp = new HttpResponseMessageProperty\n            {\n                StatusCode = HttpStatusCode.BadRequest,\n                StatusDescription = \"Bad Request\",\n            };\n            rmp.Headers[HttpResponseHeader.ContentType] = \"application/json\";\n            fault.Properties.Add(HttpResponseMessageProperty.Name, rmp);\n\n\n    }\n}\n\n\n\npublic class ExtendedWebHttpBehavior : WebHttpBehavior\n{\n    protected override void AddServerErrorHandlers(ServiceEndpoint endpoint, EndpointDispatcher endpointDispatcher)\n    {\n        // clear default erro handlers.\n        endpointDispatcher.ChannelDispatcher.ErrorHandlers.Clear();\n\n        // add our own error handler.\n        endpointDispatcher.ChannelDispatcher.ErrorHandlers.Add(new GlobalErrorHandler());\n        //BehaviorExtensionElement\n    }\n}\n</code></pre>\n\n<p>When I put the break point to provide fault, it shows the following exception as if it is because of parsing:\n<a href=\"https://i.stack.imgur.com/laaPJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/laaPJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do I handle it so I can send clean error  msg to the client</p>\n\n<p>Edit: \nPostman general exception:</p>\n\n<pre><code> ?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;!DOCTYPE html\n        PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n    &lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n\n    &lt;head&gt;\n        &lt;title&gt;Request Error&lt;/title&gt;\n        &lt;style&gt;\n            BODY {\n                color: #000000;\n                background-color: white;\n                font-family: Verdana;\n                margin-left: 0px;\n                margin-top: 0px;\n            }\n\n            #content {\n                margin-left: 30px;\n                font-size: .70em;\n                padding-bottom: 2em;\n            }\n\n            A:link {\n                color: #336699;\n                font-weight: bold;\n                text-decoration: underline;\n            }\n\n            A:visited {\n                color: #6699cc;\n                font-weight: bold;\n                text-decoration: underline;\n            }\n\n            A:active {\n                color: #336699;\n                font-weight: bold;\n                text-decoration: underline;\n            }\n\n            .heading1 {\n                background-color: #003366;\n                border-bottom: #336699 6px solid;\n                color: #ffffff;\n                font-family: Tahoma;\n                font-size: 26px;\n                font-weight: normal;\n                margin: 0em 0em 10px -20px;\n                padding-bottom: 8px;\n                padding-left: 30px;\n                padding-top: 16px;\n            }\n\n            pre {\n                font-size: small;\n                background-color: #e5e5cc;\n                padding: 5px;\n                font-family: Courier New;\n                margin-top: 0px;\n                border: 1px #f0f0e0 solid;\n                white-space: pre-wrap;\n                white-space: -pre-wrap;\n                word-wrap: break-word;\n            }\n\n            table {\n                border-collapse: collapse;\n                border-spacing: 0px;\n                font-family: Verdana;\n            }\n\n            table th {\n                border-right: 2px white solid;\n                border-bottom: 2px white solid;\n                font-weight: bold;\n                background-color: #cecf9c;\n            }\n\n            table td {\n                border-right: 2px white solid;\n                border-bottom: 2px white solid;\n                background-color: #e5e5cc;\n            }\n        &lt;/style&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;div id=\"content\"&gt;\n            &lt;p class=\"heading1\"&gt;Request Error&lt;/p&gt;\n            &lt;p xmlns=\"\"&gt;The server encountered an error processing the request. Please see the &lt;a rel=\"help-page\"\n                    href=\"https://localhost:44326/ServiceContracts/CustomerAccount.svc/help\"&gt;service help page&lt;/a&gt; for\n                constructing valid requests to the service.&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n\n    &lt;/html&gt;\n</code></pre>\n\n<p><strong>Debugger Exceptions:</strong></p>\n\n<blockquote>\n  <p>The value '' cannot be parsed as the type 'Int32'. {\"The formatter\n  threw an exception while trying to deserialize the message: There was\n  an error while trying to deserialize parameter :pro. The\n  InnerException message was 'There was an error deserializing the\n  object of type StilaarAPI.DataContracts.Products. The value '' cannot\n  be parsed as the type 'Int32'.'.  Please see InnerException for more\n  details.\"}</p>\n</blockquote>\n"}, {"tags": ["c#", "c++", ".net", "unmanaged"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 7, "creation_date": 1572458514, "post_id": 58631216, "comment_id": 103569632, "body": "Recommendation: Don&#39;t translate code literally. <a href=\"https://en.wikipedia.org/wiki/All_your_base_are_belong_to_us\" rel=\"nofollow noreferrer\">You wind up with garbage all too often</a>, and the programs that do work are almost always poor. What you need to do to get a good result is fully understand the behaviour of the source program and re-implement that behaviour in the new language, using the structure, libraries, and idioms of that new language to the fullest."}, {"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 2, "creation_date": 1572458515, "post_id": 58631216, "comment_id": 103569633, "body": "If you&#39;re moving away from C++ it would probably be best to rewrite the code using the C#/.NET ways of doing things instead of trying to do a one-to-one mapping using pointers and such, otherwise you might as well just leave your code in C++."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1572458648, "post_id": 58631216, "comment_id": 103569692, "body": "For example, I would be quite surprised if the .Net libraries do not already have a bitmap file reader/writer that you can use instead."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1572459700, "post_id": 58631216, "comment_id": 103570174, "body": "<i>This code is taking the pointer and adding the size of BITMAPHeader and adding another pointer data to it</i> --  You need to understand the code at a higher-level.  Your C++ code shows low-level BMP handling in C or C++.  There is no need to go low-level for .NET languages, since handling images and bitmaps should be available in one or more of the .NET classes."}, {"owner": {"reputation": 10586, "user_id": 170383, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4d9f7a30948dca1bbd05eaf27f277ae6?s=128&d=identicon&r=PG", "display_name": "David R Tribble", "link": "https://stackoverflow.com/users/170383/david-r-tribble"}, "edited": false, "score": 0, "creation_date": 1572460164, "post_id": 58631216, "comment_id": 103570386, "body": "Looks like you are copying raw image data from a bitmap struct. This data would be stored as a byte array in C#, so use <code>Array.Copy()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1572468507, "post_id": 58631451, "comment_id": 103573808, "body": "I&#39;d say you have to worry about pointers less. You can still blow a program up with them, it&#39;s just harder and less frequent."}], "tags": [], "owner": {"reputation": 166, "user_id": 634805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiUeA.jpg?s=128&g=1", "display_name": "Smolakian", "link": "https://stackoverflow.com/users/634805/smolakian"}, "is_accepted": false, "score": 3, "last_activity_date": 1572459236, "creation_date": 1572459236, "answer_id": 58631451, "question_id": 58631216, "link": "https://stackoverflow.com/questions/58631216/how-to-copy-data-from-pointer-to-pointer-in-c/58631451#58631451", "title": "How to copy data from Pointer to Pointer in C#?", "body": "<p>You don't need to worry about pointers in C# everything is managed!</p>\n\n<p>If you're trying to work with bitmap data use the managed <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.drawing.bitmap?view=netframework-4.8\" rel=\"nofollow noreferrer\">Bitmap</a> class and create the bitmap using a stream set to the raw byte data. Alternatively, you can use the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.media.imaging.bitmapsource?view=netframework-4.8\" rel=\"nofollow noreferrer\">BitmapSource</a> class.</p>\n\n<p>If you <em>are</em> actually still interacting with unmanaged code and trying to get data in and out of that, you can use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.gchandle?view=netframework-4.8\" rel=\"nofollow noreferrer\">GCHandle</a> and pinned buffers. But if you are converting something into pure C#, you should be able to ditch the pointers entirely. Just think of them as object instances and architect from that...</p>\n"}], "owner": {"reputation": 195, "user_id": 2093914, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f3323737736f684566dbc1e56f3ff80a?s=128&d=identicon&r=PG&f=1", "display_name": "Suresh Kumar", "link": "https://stackoverflow.com/users/2093914/suresh-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572459236, "creation_date": 1572458173, "last_edit_date": 1572458345, "question_id": 58631216, "link": "https://stackoverflow.com/questions/58631216/how-to-copy-data-from-pointer-to-pointer-in-c", "title": "How to copy data from Pointer to Pointer in C#?", "body": "<p>I am converting a legacy C++ code and need help with memcpy_s equivalent in C#. I need to copy data that is in one pointer to a another pointer as shown in this C++ code. </p>\n\n<p>I tried C++ CopyMemory, Array.Copy and other methods as per google, however none of them seem to be helping. I would like to convert the equivalent in C# of the following code shown below. any help would be highly appreciated. </p>\n\n<pre><code>memcpy_s((char*)pDIB + sizeof(BITMAPINFOHEADER), bmpHeader.biSizeImage,\n            pRawData, bmpHeader.biSizeImage);\n</code></pre>\n\n<p>This code is taking the pointer and adding the size of BITMAPHeader and adding another pointer data to it. I dont see any Marshal.PointerToPointer in C# and not sure how to write this.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "kendo-ui"], "comments": [{"owner": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 0, "creation_date": 1572457733, "post_id": 58631040, "comment_id": 103569279, "body": "Is m.Label or type MyProject.Models.LabelModel?"}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1572466518, "post_id": 58631040, "comment_id": 103573015, "body": "Take out <code>.Name(&quot;EditLabelList&quot;)</code> - when you use xxxxxxxFor() versions the name and Id are automatically assigned."}, {"owner": {"reputation": 177, "user_id": 10140270, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-to9m9tcBJtQ/AAAAAAAAAAI/AAAAAAAAASs/-9CfAUlu_ag/photo.jpg?sz=128", "display_name": "draconastar", "link": "https://stackoverflow.com/users/10140270/draconastar"}, "reply_to_user": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 0, "creation_date": 1572486912, "post_id": 58631040, "comment_id": 103578624, "body": "@RossBush It is, but I made a typo in the ViewModel property.  It&#39;s a LabelModel Type."}, {"owner": {"reputation": 177, "user_id": 10140270, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-to9m9tcBJtQ/AAAAAAAAAAI/AAAAAAAAASs/-9CfAUlu_ag/photo.jpg?sz=128", "display_name": "draconastar", "link": "https://stackoverflow.com/users/10140270/draconastar"}, "reply_to_user": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1572486990, "post_id": 58631040, "comment_id": 103578634, "body": "@SteveGreene Ok, that makes sense.  What will the name of the HTML element be in that case?"}, {"owner": {"reputation": 177, "user_id": 10140270, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-to9m9tcBJtQ/AAAAAAAAAAI/AAAAAAAAASs/-9CfAUlu_ag/photo.jpg?sz=128", "display_name": "draconastar", "link": "https://stackoverflow.com/users/10140270/draconastar"}, "reply_to_user": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1572521664, "post_id": 58631040, "comment_id": 103590231, "body": "@SteveGreene I&#39;ve tried two versions of your suggestion - first I removed the <code>.Name</code> property from <code>ComboBoxFor()</code> and named the HTML element by passing it as the third parameter in <code>EditorFor</code>m with the same results.  Then, I tried removing all of the naming attempts, and only referring to the element in my function by the name of the property I&#39;m binding to.  The JS function still works to pre-populate a list, so I&#39;m guessing I named it correctly, but in that configuration the Label property comes back as being completely null, whereas before the object was at least instantiated.  Closer?"}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1572614116, "post_id": 58631040, "comment_id": 103622791, "body": "We generally don&#39;t bind to objects. We would have a field in our viewmodel like <code>ColorId</code> and bind to that. Might need to add <code>.ValuePrimitive(true)</code> for that."}, {"owner": {"reputation": 177, "user_id": 10140270, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-to9m9tcBJtQ/AAAAAAAAAAI/AAAAAAAAASs/-9CfAUlu_ag/photo.jpg?sz=128", "display_name": "draconastar", "link": "https://stackoverflow.com/users/10140270/draconastar"}, "reply_to_user": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1572626178, "post_id": 58631040, "comment_id": 103628607, "body": "@SteveGreene Thank you for the followup.  Unfortunately, that still didn&#39;t work - the object is initialized (because I construct it before passing the ViewModel to the View), but all of the properties are default.  Messing with <code>.ValuePrimitive()</code> didn&#39;t seem to change the behavior in any of the configurations."}, {"owner": {"reputation": 309, "user_id": 4954137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6054fa53ba3f226fa8349aa4676779?s=128&d=identicon&r=PG&f=1", "display_name": "kd345205", "link": "https://stackoverflow.com/users/4954137/kd345205"}, "edited": false, "score": 0, "creation_date": 1573238615, "post_id": 58631040, "comment_id": 103830265, "body": "When you create a template with a built in control for a template editor you can use a blank name and it will auto name it. I&#39;ve found with kendo this doesnt work but you could try this....  Html.Kendo().ComboBoxFor(m =&gt; m)     .Name(Html.NameFor(m =&gt; m))...."}, {"owner": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 0, "creation_date": 1573241045, "post_id": 58631040, "comment_id": 103831222, "body": "If I recall, the name of the editor component has to be identical to the name of the property for binding. Perhaps your Template should have .Name(&quot;LabelModel&quot;) instrad of .Name(&quot;EditLabelList&quot;)"}], "owner": {"reputation": 177, "user_id": 10140270, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-to9m9tcBJtQ/AAAAAAAAAAI/AAAAAAAAASs/-9CfAUlu_ag/photo.jpg?sz=128", "display_name": "draconastar", "link": "https://stackoverflow.com/users/10140270/draconastar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1573237756, "creation_date": 1572457470, "last_edit_date": 1573237756, "question_id": 58631040, "link": "https://stackoverflow.com/questions/58631040/kendo-combobox-selection-not-applying-to-underlying-viewmodel", "title": "Kendo ComboBox Selection Not Applying to Underlying ViewModel", "body": "<p>I am using Kendo UI in ASP.NET MVC, and I have yet to be able to bind a Kendo ComboBox to an underlying ViewModel property using my current editor template setup.  The ComboBox has been configured to have a pre-populated drop-down and to show suggestions based on what the user has typed in the box.  The suggestions and auto-population work perfectly and I'm able to select from my pre-built list, but each time my ViewModel is returned to the controller, the property is null as though nothing was selected.  I'm using an editor template that accepts the Type of the property, using <code>@Html.EditorFor(m =&gt; m.Label, \"LabelTemplate\")</code> to bind to the ViewModel property on the page, then <code>@Html.ComboBoxFor(m =&gt; m)</code> to bind the editor to individual object properties. Here is the code that I am using (abridged to contain relevant sections):</p>\n\n<h3>My ViewModel:</h3>\n\n<pre><code>public class MyViewModel\n{  \n    [Column(\"Label\")]\n    public LabelModel Label { get; set; }\n}\n</code></pre>\n\n<h3>LabelModel:</h3>\n\n<pre><code>public class LabelModel\n{\n    public int Id { get; set; }\n    public char Character { get; set; }\n    public string Code { get; set; }\n    public string Name { get; set; }\n    public string Description { get; set; }\n\n    public override string ToString() =&gt; Name;\n}\n</code></pre>\n\n<h3>LabelModel Editor Template</h3>\n\n<pre><code>@model MyProject.Models.LabelModel\n\n&lt;script&gt;\n    function editLabelCode() {\n        return {\n            text: $(\"#EditLabelList\").data(\"kendoComboBox\")._prev\n        };\n    }\n&lt;/script&gt;\n\n@(Html.Kendo().ComboBoxFor(m =&gt; m)\n    .Name(\"EditLabelList\")\n    .Placeholder(\"Enter Label Name\")\n    .DataValueField(\"Code\")\n    .DataTextField(\"Name\")\n    .Filter(FilterType.Contains)\n    .AutoBind(true)\n    .MinLength(1)\n    .DataSource(source =&gt;\n    {\n        source.Read(read =&gt;\n        {\n            read.Action(\"Labels_Read\", \"Data\")\n                .Data(\"editLabelCode\");\n        })\n        .ServerFiltering(true);\n    })\n)\n</code></pre>\n\n<h3>MainView.cshtml:</h3>\n\n<pre><code>@model SafetyPortalWeb.Models.MyViewModel\n\n@Html.EditorFor(m =&gt; m.Label, \"LabelTemplate\")\n@Html.ValidationMessageFor(m =&gt; m.Label)\n</code></pre>\n\n<p>As mentioned above, the ComboBox populates the list selection perfectly.  I have no issues pulling my pre-generated list or using the ComboBox search and suggestion functionality.  When I save, though, this LabelModel property comes back <code>null</code> for all of its values.  There are other properties on the ViewModel that get populated correctly (I didn't include them here to cut down on the code I'm pasting), so it's not an overall issue with Model binding or saving. </p>\n\n<p>I am relatively new to ASP.NET MVC, so I fully expect that there is something obvious I may be missing.  I have poured over similar SO questions for days, and have yet to find an answer that has worked for this setup.  Is there something obvious that I'm doing wrong?</p>\n\n<h3>** Update **:</h3>\n\n<p>I have gotten a bit closer by following @SteveGreene 's advice and taking it a bit further.  </p>\n\n<p>If I remove the <code>.Name()</code> property from the ComboBox and instead bind it to a <em>property</em> on LabelModel instead of the model itself, I am able to get values returned on the property I bind to.  However, I'm hoping to be able to bind to the entire LabelModel <em>object</em>, and be able to set that object to the corresponding property on the ViewModel.  I.e....</p>\n\n<pre><code>@(Html.Kendo().ComboBoxFor(m =&gt; m.Code)\n    .Placeholder(\"Enter Label Name\")\n    .DataValueField(\"Code\")\n    .DataTextField(\"Name\")\n    .Filter(FilterType.Contains)\n    .AutoBind(true)\n    .MinLength(1)\n    .DataSource(source =&gt;\n    {\n        source.Read(read =&gt;\n        {\n            read.Action(\"Labels_Read\", \"Data\")\n                .Data(\"editLabelCode\");\n        })\n        .ServerFiltering(true);\n    })\n)\n</code></pre>\n\n<p>Configured this way, I'm able to set the <code>Code</code> property on the LabelModel by selecting an item, but none of the other properties carry over from the ComboBox selection.  I know they are present in the element because <code>Name</code> is used as the display text for each item, and they display correctly.  Is there a way to ensure that I set the entire object when it's selected?  Trying to bind to the model using <code>ComboBoxFor(m =&gt; m)</code> instead causes no properties to be set when selected.</p>\n"}, {"tags": ["c#", ".net-core", "console-application"], "comments": [{"owner": {"reputation": 99, "user_id": 4241642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c757964788cdade4dadcb63c7283aea?s=128&d=identicon&r=PG&f=1", "display_name": "stak", "link": "https://stackoverflow.com/users/4241642/stak"}, "edited": false, "score": 0, "creation_date": 1572457235, "post_id": 58630962, "comment_id": 103569045, "body": "The configuration entries are all simple key,value pairs with no complex structure."}, {"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 1, "creation_date": 1572459471, "post_id": 58630962, "comment_id": 103570064, "body": "Have a look at this <a href=\"https://stackoverflow.com/a/55019290\">answer</a>"}, {"owner": {"reputation": 99, "user_id": 4241642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c757964788cdade4dadcb63c7283aea?s=128&d=identicon&r=PG&f=1", "display_name": "stak", "link": "https://stackoverflow.com/users/4241642/stak"}, "reply_to_user": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1572462658, "post_id": 58630962, "comment_id": 103571423, "body": "Thanks Matt G.  I&#39;ve added a working solution based on the StackOverflow question you linked to."}, {"owner": {"reputation": 99, "user_id": 4241642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c757964788cdade4dadcb63c7283aea?s=128&d=identicon&r=PG&f=1", "display_name": "stak", "link": "https://stackoverflow.com/users/4241642/stak"}, "reply_to_user": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1572462835, "post_id": 58630962, "comment_id": 103571502, "body": "Production code would do more validation and exception handling.  I&#39;d also add a MyConfig C# wrapper class with methods for individual entries which would validate the entries so that a config entry which has a &quot;true&quot; or &quot;false&quot; value would accept &quot;true&quot;, &quot;false&quot;, &quot;True&quot;, &quot;False&quot;, &quot;TRUE&quot;, ..."}, {"owner": {"reputation": 99, "user_id": 4241642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c757964788cdade4dadcb63c7283aea?s=128&d=identicon&r=PG&f=1", "display_name": "stak", "link": "https://stackoverflow.com/users/4241642/stak"}, "reply_to_user": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1572462992, "post_id": 58630962, "comment_id": 103571568, "body": "That would avoid the fail of user edited config files for desktop applications."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 4241642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c757964788cdade4dadcb63c7283aea?s=128&d=identicon&r=PG&f=1", "display_name": "stak", "link": "https://stackoverflow.com/users/4241642/stak"}, "edited": false, "score": 0, "creation_date": 1572459010, "post_id": 58631195, "comment_id": 103569864, "body": "BierDav, it&#39;s not only an ASP.NET Core application.   The DLL is called from application types other than ASP.NET.   The DLL would be copied into the calling application&#39;s exe directory which would also contain the appsettings json file."}, {"owner": {"reputation": 621, "user_id": 10901921, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AueorcYqrU8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwca31JIsDf4HjyUhoS4TyYRd47Ieyg/mo/photo.jpg?sz=128", "display_name": "BierDav", "link": "https://stackoverflow.com/users/10901921/bierdav"}, "edited": false, "score": 0, "creation_date": 1582199420, "post_id": 58631195, "comment_id": 106699333, "body": "I&#39;ve written <code>On other C# Appliaction you can use this Nuget So read the JSON File with the StreamReader.</code>. What&#39;s the matter. In the other Application-Types you read the File with the StreamReader (look at code part 2) and Parse it into a JObject (look at code part 3). You can use this also in ever Net. Core Application. Note to installl the Nuget and import this <code>using Newtonsoft.Json;</code>."}], "tags": [], "owner": {"reputation": 621, "user_id": 10901921, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AueorcYqrU8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwca31JIsDf4HjyUhoS4TyYRd47Ieyg/mo/photo.jpg?sz=128", "display_name": "BierDav", "link": "https://stackoverflow.com/users/10901921/bierdav"}, "is_accepted": false, "score": 0, "last_activity_date": 1572464975, "last_edit_date": 1572464975, "creation_date": 1572458098, "answer_id": 58631195, "question_id": 58630962, "link": "https://stackoverflow.com/questions/58630962/in-a-stand-alone-net-core-dll-how-do-i-get-a-value-from-the-appsettings-json-c/58631195#58631195", "title": "In a stand-alone .NET Core DLL, how do I get a value from the appsettings.json config file?", "body": "<p>I don't know why you copy the JSON in the folder with the Dlls and use this JSON. On Visual Studio you can select the JSON and set the property \"copy into output path\". If you do it like this you can use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.iconfiguration?view=dotnet-plat-ext-3.0\" rel=\"nofollow noreferrer\">IConfiguration</a>.</p>\n\n<p>The class you get from the Initialization-Method in your Controller Class.\nEg.:</p>\n\n<pre><code>public ApiController(IConfiguration configuration)\n{\n   Configuration = configuration;\n}\nprivate IConfiguration Configuration;\n</code></pre>\n\n<p>On other C# Appliactionyou can use this <a href=\"https://www.nuget.org/packages/Newtonsoft.Json/12.0.2?_src=template\" rel=\"nofollow noreferrer\">Nuget</a>\nSo read the JSON File with the StreamReader.</p>\n\n<pre><code>StreamReader sw = new StreamReader(\"myjason.json\");\nstring json = sw.ReadToEnd();\n</code></pre>\n\n<p>Then use the JObject</p>\n\n<pre><code>JObject obj = JObject.Parse(json); \nstring mainpath = (string)obj[\"paths\"][\"mainpath\"];\n</code></pre>\n\n<p>Hope it helps.</p>\n\n<p>BierDav</p>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 4241642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c757964788cdade4dadcb63c7283aea?s=128&d=identicon&r=PG&f=1", "display_name": "stak", "link": "https://stackoverflow.com/users/4241642/stak"}, "edited": false, "score": 0, "creation_date": 1572459398, "post_id": 58631455, "comment_id": 103570036, "body": "Oibuoye, Same as BierDav, It is not always called from an ASP.NET application."}], "tags": [], "owner": {"reputation": 114, "user_id": 10160655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14a34429b6df34bfab70d43d54acce3a?s=128&d=identicon&r=PG&f=1", "display_name": "OIbuoye", "link": "https://stackoverflow.com/users/10160655/oibuoye"}, "is_accepted": false, "score": 0, "last_activity_date": 1572459268, "creation_date": 1572459268, "answer_id": 58631455, "question_id": 58630962, "link": "https://stackoverflow.com/questions/58630962/in-a-stand-alone-net-core-dll-how-do-i-get-a-value-from-the-appsettings-json-c/58631455#58631455", "title": "In a stand-alone .NET Core DLL, how do I get a value from the appsettings.json config file?", "body": "<pre><code>    private readonly IConfiguration _config;\n\n    public YourController(IConfiguration config)\n    {\n        _config = config;\n    }\n\n    public IActionResult Testing()\n    {\n      string getKey = _config[\"Token:Key\"]\n    }\n\n   If you have this sample json\n   \"Token\": {\n   \"Key\": \"ktF2YqrBlhfdg444\"\n   }\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 4241642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c757964788cdade4dadcb63c7283aea?s=128&d=identicon&r=PG&f=1", "display_name": "stak", "link": "https://stackoverflow.com/users/4241642/stak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1775, "favorite_count": 2, "answer_count": 2, "score": 1, "last_activity_date": 1582066358, "creation_date": 1572457164, "last_edit_date": 1572462620, "question_id": 58630962, "link": "https://stackoverflow.com/questions/58630962/in-a-stand-alone-net-core-dll-how-do-i-get-a-value-from-the-appsettings-json-c", "title": "In a stand-alone .NET Core DLL, how do I get a value from the appsettings.json config file?", "body": "<p>EDIT: <b>Passing down the configuration from an ASP.NET controller is not going to work if it is running in a console application.</b></p>\n\n<p>Background: <br/>\n- <b>The DLL will be shipped with different applications, some console, some ASP.NET MVC and some WebAPI</b><br/>\n- I'm building a .NET Core C# processing DLL which needs several configuration entries from appsettings.json.<br/>\n- I'd like to make the DLL C# methods all static if possible for simplicity.<br/>\n- An example configuration entry would be \"SxProcFull\" with values of true or false.  There are about 10 configuration entries needed for the DLL<br/>\n- The DLL is part of a much larger code base and is called multiple levels down from a web controller method or console app's main method<br>\n<br/>\nHow can I get the configuration entry from inside the DLL?\n<br/><br/>\nMost of the examples on the web are for ASP.NET and oversimplify by putting the config entry code in the controller method with the configuration service passed into the controller method. \n<br/><br/> The .NET Core docs are long on what type of providers exist yet short on real-world examples.</p>\n\n<p>Related links:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/55983541/understanding-net-core-dependency-injection-in-a-console-app\">Understanding .net Core Dependency Injection in a console app</a> <br/>\n<a href=\"https://espressocoder.com/2018/12/03/build-a-console-app-in-net-core-like-a-pro/\" rel=\"nofollow noreferrer\">https://espressocoder.com/2018/12/03/build-a-console-app-in-net-core-like-a-pro/</a> <br/>\n<a href=\"https://blog.bitscry.com/2017/05/30/appsettings-json-in-net-core-console-app/\" rel=\"nofollow noreferrer\">https://blog.bitscry.com/2017/05/30/appsettings-json-in-net-core-console-app/</a> <br/>\n<a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/?view=aspnetcore-3.0&amp;tabs=windows\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/fundamentals/?view=aspnetcore-3.0&amp;tabs=windows</a> <br/>\nAnd many more... <br/></p>\n\n<p>Edit: Moving the multi-app type item to top of background list.</p>\n\n<p>ANSWER:</p>\n\n<pre><code>using System;\nusing System.IO;\nusing System.Reflection;\nusing Microsoft.Extensions.Configuration;\n\nnamespace AspNetCoreTestProject2\n{\npublic static class MyConfiguration\n{\n    private static IConfigurationRoot GetConfigRoot()\n    {\n        var assemblyLoc = Assembly.GetExecutingAssembly().Location;\n        var directoryPath = Path.GetDirectoryName(assemblyLoc);\n\n        var configFilePath = Path.Combine(directoryPath, \"appsettings.json\");\n\n        if (File.Exists(configFilePath) == false)\n        {\n            throw new InvalidOperationException(\"Config file not found\");\n        }\n\n        IConfigurationBuilder builder = new ConfigurationBuilder();\n        builder.AddJsonFile(configFilePath);\n\n        var configRoot = builder.Build();\n\n        return configRoot;\n    }\n\n    public static string ConfigGetConnectionStringByName(string connnectionStringName)\n    {\n        if (string.IsNullOrWhiteSpace(connnectionStringName))\n        {\n            throw new ArgumentException(nameof(connnectionStringName));\n        }\n\n        var root = GetConfigRoot();\n        var ret = root.GetConnectionString(connnectionStringName);\n\n        if (string.IsNullOrWhiteSpace(ret))\n        {\n            throw new InvalidOperationException(\"Config value cannot be empty\");\n        }\n\n        return ret;\n    }\n\n    public static string ConfigEntryGet(string configEntryName)\n    {\n        if (string.IsNullOrWhiteSpace(configEntryName))\n        {\n            throw new ArgumentException(nameof(configEntryName));\n        }\n\n        var root = GetConfigRoot();\n        var ret = root[configEntryName];\n\n        if (string.IsNullOrWhiteSpace(ret))\n        {\n            throw new InvalidOperationException(\"Config value cannot be empty\");\n        }\n\n        return ret;\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "sql", "windows-forms-designer"], "comments": [{"owner": {"reputation": 355, "user_id": 11642450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bf067ef18326d99c5f86b386e57a839?s=128&d=identicon&r=PG&f=1", "display_name": "B. Seberle", "link": "https://stackoverflow.com/users/11642450/b-seberle"}, "edited": false, "score": 0, "creation_date": 1572457258, "post_id": 58630913, "comment_id": 103569056, "body": "This answer may be of help: <a href=\"https://stackoverflow.com/questions/6583009/convert-binary-to-byte-array\" title=\"convert binary to byte array\">stackoverflow.com/questions/6583009/&hellip;</a>"}, {"owner": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "edited": false, "score": 0, "creation_date": 1572457515, "post_id": 58630913, "comment_id": 103569168, "body": "I think the problem is that in <code>Image</code> query you don&#39;t dereference the row like you did in <code>Producto</code> query."}, {"owner": {"reputation": 149, "user_id": 7976880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02127f7c860f962a0925b264030cd149?s=128&d=identicon&r=PG&f=1", "display_name": "Jaime Santos", "link": "https://stackoverflow.com/users/7976880/jaime-santos"}, "reply_to_user": {"reputation": 1802, "user_id": 7034621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZCc06.jpg?s=128&g=1", "display_name": "orhtej2", "link": "https://stackoverflow.com/users/7034621/orhtej2"}, "edited": false, "score": 0, "creation_date": 1572458465, "post_id": 58630913, "comment_id": 103569607, "body": "@orhtej2 I do use the dereference operator (*) if that is what you mean, if you mean that I don&#39;t have to use it, then it gives me an error if I don&#39;t specify what it has to select"}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 1, "creation_date": 1572459378, "post_id": 58630913, "comment_id": 103570029, "body": "Try <code>byte[] array = dataset_Image.Tables[0].Rows[0].Field&lt;byte[]&gt;(0);</code> <code>0</code> at the end meaning the column you are going after."}], "answers": [{"tags": [], "owner": {"reputation": 149, "user_id": 7976880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02127f7c860f962a0925b264030cd149?s=128&d=identicon&r=PG&f=1", "display_name": "Jaime Santos", "link": "https://stackoverflow.com/users/7976880/jaime-santos"}, "is_accepted": true, "score": 0, "last_activity_date": 1572605605, "creation_date": 1572605605, "answer_id": 58657987, "question_id": 58630913, "link": "https://stackoverflow.com/questions/58630913/how-can-i-solve-cannot-convert-system-data-datacolumn-to-byte/58657987#58657987", "title": "How can I solve &quot;Cannot convert &#39;system.data.datacolumn&#39; to &#39;byte[]&#39;&quot;?", "body": "<p>byte[] array = dataset_Image.Tables[0].Rows[0].Field(0); 0 at the end meaning the column you are going after (solution offered by @\u00c7\u00f6\u0111\u011bx\u011b\u0155).</p>\n"}], "owner": {"reputation": 149, "user_id": 7976880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02127f7c860f962a0925b264030cd149?s=128&d=identicon&r=PG&f=1", "display_name": "Jaime Santos", "link": "https://stackoverflow.com/users/7976880/jaime-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 58657987, "answer_count": 1, "score": 0, "last_activity_date": 1572605605, "creation_date": 1572456980, "last_edit_date": 1572458090, "question_id": 58630913, "link": "https://stackoverflow.com/questions/58630913/how-can-i-solve-cannot-convert-system-data-datacolumn-to-byte", "title": "How can I solve &quot;Cannot convert &#39;system.data.datacolumn&#39; to &#39;byte[]&#39;&quot;?", "body": "<p>So I am trying to show an image from my SQL server in a PictureBox, but when I try to convert the system.data.datacolumn to a byte[] I get the following error: \"Cannot convert 'system.data.datacolumn' to 'byte[]'\". I have searched for 2 hours how to solve it, but I have not found anything, hope you can help me :).</p>\n\n<p>My code has a lot of different classes, so I am gonna try to explain it as good as possible. </p>\n\n<pre><code>// you have the \"herramientas\" method bellow, is where I make the connection.\nDataSet dataSet = Biblioteca.Herramientas(string.Format(\"SELECT * FROM Producto\"));\n\n\n//The next two lines select one row from the table \"Image\" where the image is stored\nint id_image = Convert.ToInt16(dataSet.Tables[0].Rows[contador][\"id_Image\"]);\nDataSet dataset_Image = Biblioteca.Herramientas(string.Format(\"SELECT * FROM Image WHERE id_Image = \"+ id_image));\n\n//**here I have the problem**\nbyte[] array = (byte[])dataset_Image.Tables[0].Columns[\"image\"];\n\n// It let me convert it to string\ndataset_Image.Tables[0].columns[\"image\"].tostring();\n</code></pre>\n\n<p>This is the method where I make the connection, is not really relevant, but maybe it is helpful for you</p>\n\n<pre><code>public static DataSet Herramientas (string cdm)\n{\n    SqlConnection connection = new SqlConnection(\"Data Source=.;Initial Catalog=PracticaSQL;Integrated Security=True\");\n    DataSet dataSet = new DataSet();\n    SqlDataAdapter adapter = new SqlDataAdapter(cdm, connection);\n    adapter.Fill(dataSet);\n    connection.Close();\n    return dataSet;\n}\n</code></pre>\n\n<p>And lastly this is how I add pictures in my table in sql </p>\n\n<pre><code>--the \"image\" column in the table \"Image\" is not an image datatype, but varbinary(MAX)\ninsert into Image select * from openrowset (bulk 'here goes the image directory', single_blob) as image\n</code></pre>\n\n<p>And that is all the code, I hope the solution is not too difficult, and if you need anything more just ask it.\nThank you all for your time, I hope you have a good day :D.</p>\n"}, {"tags": ["c#", "entity-framework", "ef-code-first"], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 5761648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2c49b119a0dc2138ad4015e18fa418?s=128&d=identicon&r=PG&f=1", "display_name": "Bojan Tomi\u0107", "link": "https://stackoverflow.com/users/5761648/bojan-tomi%c4%87"}, "is_accepted": true, "score": 0, "last_activity_date": 1572460986, "creation_date": 1572460986, "answer_id": 58631874, "question_id": 58630901, "link": "https://stackoverflow.com/questions/58630901/how-to-select-specific-columns-and-join-tables-with-entity-framework/58631874#58631874", "title": "How to select specific columns and join tables with Entity Framework?", "body": "<p>As far as I can see Management table has one to many with User and Book tables.</p>\n\n<p>If that is the case you can add, properties to the Management model in code and include these tables when you pull data from SQL Management table.</p>\n\n<pre><code>public class Management{\n    public int ManagmentId { get; set; }\n    public int UserId { get; set;}\n    public List&lt;User&gt; Users { get; set;}\n    public int BookId { get; set;}\n    public List&lt;Book&gt; Books { get; set;}\n} \n</code></pre>\n\n<p>This should be your Management class.\nFor the query in Entity Framework try something like this:</p>\n\n<pre><code>public Managment GetData(int managmentId){\n    var data = context.Management\n       .Include(u =&gt; u.Users)\n       .Include(b =&gt; b.Books)\n       .FirstOrDefault(m =&gt; m.Id == managmentId); \n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 140, "user_id": 7888474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96482ee2944220ac4ed1a1c56f4fa519?s=128&d=identicon&r=PG&f=1", "display_name": "TJacken", "link": "https://stackoverflow.com/users/7888474/tjacken"}, "is_accepted": false, "score": 0, "last_activity_date": 1572463630, "last_edit_date": 1572463630, "creation_date": 1572461981, "answer_id": 58632078, "question_id": 58630901, "link": "https://stackoverflow.com/questions/58630901/how-to-select-specific-columns-and-join-tables-with-entity-framework/58632078#58632078", "title": "How to select specific columns and join tables with Entity Framework?", "body": "<p>Use linq</p>\n\n<pre><code> var s = from management in dbContext.Managements\n         join user in dbContext.Users on users.UserId equals management.Username_UserID\n         join book in dbContext.Books on book.BookId equals management.Book_bookID\n         select management.OrderID, management.BookReturnDate, management.Money,\n            book.bookName\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 11865887, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hIY4axy_9x0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rebnfeLJbLxj_mG3LlIB9WLY07QaA/photo.jpg?sz=128", "display_name": "Turgay Umudzada", "link": "https://stackoverflow.com/users/11865887/turgay-umudzada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1191, "favorite_count": 0, "accepted_answer_id": 58631874, "answer_count": 2, "score": 0, "last_activity_date": 1572463630, "creation_date": 1572456917, "last_edit_date": 1572458542, "question_id": 58630901, "link": "https://stackoverflow.com/questions/58630901/how-to-select-specific-columns-and-join-tables-with-entity-framework", "title": "How to select specific columns and join tables with Entity Framework?", "body": "<p>I need to get data from SQL Server to my data grid view in Winforms </p>\n\n<pre><code>SELECT \n    Managements.OrderID, Managements.BookReturnDate, Managements.Money,\n    Books.bookName\nFROM\n    Managements\nINNER JOIN \n    Users ON Users.UserID = Managements.Username_UserID\nINNER JOIN  \n    Books ON Books.bookID = Managements.Book_bookID\n</code></pre>\n\n<p>How can I convert the query above to a code for Entity Framework?</p>\n"}, {"tags": ["c#", "uwp"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 12298912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1480765b93bea5d8628782f7f7f87b4?s=128&d=identicon&r=PG&f=1", "display_name": "Novin S", "link": "https://stackoverflow.com/users/12298912/novin-s"}, "edited": false, "score": 0, "creation_date": 1572749446, "post_id": 58636495, "comment_id": 103654926, "body": "Yes I am using DataGrid from community toolkit. I tried this but would like to set the Background as the style or the brush. How do I do this?"}, {"owner": {"reputation": 9, "user_id": 12298912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1480765b93bea5d8628782f7f7f87b4?s=128&d=identicon&r=PG&f=1", "display_name": "Novin S", "link": "https://stackoverflow.com/users/12298912/novin-s"}, "edited": false, "score": 0, "creation_date": 1572812230, "post_id": 58636495, "comment_id": 103667740, "body": "Also for some reason, it keeps saying local:ProviderProductions is not a part of using:OpenReports"}, {"owner": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "reply_to_user": {"reputation": 9, "user_id": 12298912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1480765b93bea5d8628782f7f7f87b4?s=128&d=identicon&r=PG&f=1", "display_name": "Novin S", "link": "https://stackoverflow.com/users/12298912/novin-s"}, "edited": false, "score": 0, "creation_date": 1572860405, "post_id": 58636495, "comment_id": 103678936, "body": "The type of the CellForColorInDataTable property from the example is the SolidColorBrush type."}], "tags": [], "owner": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1572492106, "creation_date": 1572492106, "answer_id": 58636495, "question_id": 58630829, "link": "https://stackoverflow.com/questions/58630829/i-would-like-to-dynamically-set-datagridcell-background-color-or-style-based-on/58636495#58636495", "title": "I would like to dynamically set DataGridCell background color or style based on colors in a database for that specific cell only. How do I do this?", "body": "<p>Are you using DataGrid from the community toolkit? If so, it seems no direct way for the DataGrid to do this. But you could use DataGridTemplateColumn type, it enables you to create your own column types by specifying the cell templates used to display values. Set the CellTemplate property to specify the contents of cells and you can bind background with the following Border.</p>\n\n<pre><code>&lt;controls:DataGrid.Columns&gt;\n    //just one column\n    &lt;controls:DataGridTemplateColumn Header=\"Name\"&gt;\n        &lt;controls:DataGridTemplateColumn.CellTemplate&gt;\n            &lt;DataTemplate x:DataType=\"local:Person\"&gt;\n                &lt;Border Background=\"{x:Bind CellForColorInDataTable}\"&gt;\n                    &lt;TextBlock Text=\"{x:Bind Name}\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\"/&gt;\n                &lt;/Border&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/controls:DataGridTemplateColumn.CellTemplate&gt;\n    &lt;/controls:DataGridTemplateColumn&gt;\n    // another colunm\n    &lt;controls:DataGridTextColumn Header=\"ProvNum\" ....../&gt;\n    ......            \n&lt;/controls:DataGrid.Columns&gt;\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 12298912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1480765b93bea5d8628782f7f7f87b4?s=128&d=identicon&r=PG&f=1", "display_name": "Novin S", "link": "https://stackoverflow.com/users/12298912/novin-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 1, "accepted_answer_id": 58636495, "answer_count": 1, "score": 0, "last_activity_date": 1572492106, "creation_date": 1572456611, "question_id": 58630829, "link": "https://stackoverflow.com/questions/58630829/i-would-like-to-dynamically-set-datagridcell-background-color-or-style-based-on", "title": "I would like to dynamically set DataGridCell background color or style based on colors in a database for that specific cell only. How do I do this?", "body": "<p>I have a DataTable that has a person's name and color in ARGB.</p>\n\n<p>I have been able to create brushes and/or styles from the color individually but have trouble binding the cellStyle of DataGridTextColumn of WindowsToolkit DataGrid in a UWP project. </p>\n\n<p><a href=\"https://i.stack.imgur.com/d7C4P.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>The Database is bound as ItemsSource to the DataGrid and shows correctly but unable to pass on the color/brush/style to cellStyle.</p>\n\n<p>How do I achieve this?</p>\n\n<pre><code>    &lt;Custom:DataGrid x:Name=\"DataGrid\" Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\" HorizontalAlignment=\"Left\" FrozenColumnCount=\"1\" Margin=\"0,0,0,0\" Width=\"1480\" CanUserSortColumns=\"True\" Grid.Row=\"1\"&gt;\n        &lt;Custom:DataGrid.Columns&gt;\n            &lt;Custom:DataGridTextColumn Header=\"ProvNum\" Binding=\"{Binding [0]}\" Tag=\"ProvNum\" Visibility=\"Collapsed\" /&gt;\n            &lt;Custom:DataGridTextColumn Header=\"ProvStyle\" Binding=\"{Binding [1]}\" Tag=\"ProvStyle\" /&gt;\n            &lt;Custom:DataGridTextColumn Header=\"Provider\" Binding=\"{Binding [2]}\" Tag=\"Provider\" /&gt;\n            &lt;Custom:DataGridTextColumn Header=\"Production\" Binding=\"{Binding [3], Converter={StaticResource StringFormatConverter}, ConverterParameter='{}{0:C1}'}\" Tag=\"Production\" /&gt;\n            &lt;Custom:DataGridTextColumn Header=\"Adjustments\" Binding=\"{Binding [4], Converter={StaticResource StringFormatConverter}, ConverterParameter='{}{0:C1}'}\" Tag=\"Adjustments\" /&gt;\n            &lt;Custom:DataGridTextColumn Header=\"Writeoffs\" Binding=\"{Binding [5], Converter={StaticResource StringFormatConverter}, ConverterParameter='{}{0:C1}'}\" Tag=\"Writeoffs\" /&gt;\n            &lt;Custom:DataGridTextColumn Header=\"Income\" Binding=\"{Binding [6], Converter={StaticResource StringFormatConverter}, ConverterParameter='{}{0:C1}'}\" Tag=\"Income\" /&gt;\n            &lt;Custom:DataGridTextColumn Header=\"Net Production\" Binding=\"{Binding [7], Converter={StaticResource StringFormatConverter}, ConverterParameter='{}{0:C1}'}\" CellStyle=\"{StaticResource ProductionColumn}\" Tag=\"NetProduction\" /&gt;\n        &lt;/Custom:DataGrid.Columns&gt;\n    &lt;/Custom:DataGrid&gt;\n</code></pre>\n"}, {"tags": ["c#", "entity-framework-core", "asp.net-core-2.2"], "comments": [{"owner": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "edited": false, "score": 0, "creation_date": 1572456944, "post_id": 58630807, "comment_id": 103568922, "body": "it looks for me as if <code>GeneratePDF</code> does too much. The part with the writing the stuff back to the server should not be in there. You need to separate it. 1) get all orders, 2) then do a <code>Parallel.Foreach</code> to generate all documents in parallel. and assign each document to the proper order and in the end 4) do a single ` _context.SaveChangesAsync();` to make a bulk update on the data on the server"}, {"owner": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "edited": false, "score": 0, "creation_date": 1572457096, "post_id": 58630807, "comment_id": 103568981, "body": "this line: <code>var orderIds = await _context.Orders.Select(order=&gt; order.Id).ToListAsync();</code> is actually superfluous. If you are querying the server, then you could already get all orders, since you need them anyway: <code>var allOrders = await _context.Orders.Select(order=&gt; order).ToListAsync();</code>"}, {"owner": {"reputation": 1046, "user_id": 1381490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24b364d9482cf1733dfc2cc1c992471b?s=128&d=identicon&r=PG&f=1", "display_name": "intrixius", "link": "https://stackoverflow.com/users/1381490/intrixius"}, "reply_to_user": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "edited": false, "score": 1, "creation_date": 1572457289, "post_id": 58630807, "comment_id": 103569077, "body": "@MongZhu that makes sense. let me try to refactor it."}, {"owner": {"reputation": 1046, "user_id": 1381490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24b364d9482cf1733dfc2cc1c992471b?s=128&d=identicon&r=PG&f=1", "display_name": "intrixius", "link": "https://stackoverflow.com/users/1381490/intrixius"}, "reply_to_user": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "edited": false, "score": 0, "creation_date": 1572457603, "post_id": 58630807, "comment_id": 103569219, "body": "@MongZhu Although your comment makes sense, it does not change the execution time."}, {"owner": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "edited": false, "score": 0, "creation_date": 1572457697, "post_id": 58630807, "comment_id": 103569261, "body": "did you measure the execution time of each step? which one takes the longest? did you change your code like I suggested in my answer? could you post it?"}, {"owner": {"reputation": 1046, "user_id": 1381490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24b364d9482cf1733dfc2cc1c992471b?s=128&d=identicon&r=PG&f=1", "display_name": "intrixius", "link": "https://stackoverflow.com/users/1381490/intrixius"}, "reply_to_user": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "edited": false, "score": 0, "creation_date": 1572457767, "post_id": 58630807, "comment_id": 103569296, "body": "I am still refactoring it :)"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1572461256, "post_id": 58630807, "comment_id": 103570897, "body": "What is the asp.net angle here? Because this is not what you should be doing inside a Web (API) request. Your first version runs afoul  of the scoped lifetime of the DbContext. Do not ignore the compiler warning."}], "answers": [{"comments": [{"owner": {"reputation": 1046, "user_id": 1381490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24b364d9482cf1733dfc2cc1c992471b?s=128&d=identicon&r=PG&f=1", "display_name": "intrixius", "link": "https://stackoverflow.com/users/1381490/intrixius"}, "edited": false, "score": 0, "creation_date": 1572457684, "post_id": 58631034, "comment_id": 103569259, "body": "that seems interesting, but those MS docs are not very clear on how to implement it in (my) real life scenarios"}], "tags": [], "owner": {"reputation": 25, "user_id": 4013758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a51fc5b1df4a321629b44ce573cf3fbd?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4013758/jonathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1572457444, "creation_date": 1572457444, "answer_id": 58631034, "question_id": 58630807, "link": "https://stackoverflow.com/questions/58630807/running-same-task-multiple-times-in-parallel-with-ef-core/58631034#58631034", "title": "Running same task multiple times in parallel with EF Core", "body": "<p>You need to implement parallel programing.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/task-based-asynchronous-programming\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/task-based-asynchronous-programming</a></p>\n\n<pre><code>public class Example\n{\n   public static void Main()\n   {\n      Task[] taskArray = new Task[10];\n      for (int i = 0; i &lt; taskArray.Length; i++) {\n         taskArray[i] = Task.Factory.StartNew( (Object obj ) =&gt; {\n                                                  CustomData data = obj as CustomData;\n                                                  if (data == null) \n                                                     return;\n\n                                                  data.ThreadNum = Thread.CurrentThread.ManagedThreadId;\n                                               },\n                                               new CustomData() {Name = i, CreationTime = DateTime.Now.Ticks} );\n      }\n      Task.WaitAll(taskArray);     \n      foreach (var task in taskArray) {\n         var data = task.AsyncState as CustomData;\n         if (data != null)\n            Console.WriteLine(\"Task #{0} created at {1}, ran on thread #{2}.\",\n                              data.Name, data.CreationTime, data.ThreadNum);\n      }                     \n   }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1185, "user_id": 5554464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glUaO.png?s=128&g=1", "display_name": "Grabofus", "link": "https://stackoverflow.com/users/5554464/grabofus"}, "edited": false, "score": 1, "creation_date": 1572458321, "post_id": 58631084, "comment_id": 103569552, "body": "What&#39;s this part for? <code>.Select(order =&gt; order)</code>"}, {"owner": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "reply_to_user": {"reputation": 1185, "user_id": 5554464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glUaO.png?s=128&g=1", "display_name": "Grabofus", "link": "https://stackoverflow.com/users/5554464/grabofus"}, "edited": false, "score": 0, "creation_date": 1572458655, "post_id": 58631084, "comment_id": 103569693, "body": "@Grabofus you are right, I did not think that it access already the <code>Orders</code>. Thank you"}, {"owner": {"reputation": 1185, "user_id": 5554464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glUaO.png?s=128&g=1", "display_name": "Grabofus", "link": "https://stackoverflow.com/users/5554464/grabofus"}, "edited": false, "score": 1, "creation_date": 1572458712, "post_id": 58631084, "comment_id": 103569720, "body": "Also (I know it&#39;s just copy paste of the original), but you should await the <code>SaveChangesAsync()</code> :)"}, {"owner": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "reply_to_user": {"reputation": 1185, "user_id": 5554464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glUaO.png?s=128&g=1", "display_name": "Grabofus", "link": "https://stackoverflow.com/users/5554464/grabofus"}, "edited": false, "score": 0, "creation_date": 1572458771, "post_id": 58631084, "comment_id": 103569752, "body": "@Grabofus thanx again :D"}], "tags": [], "owner": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "is_accepted": false, "score": 1, "last_activity_date": 1572458758, "last_edit_date": 1572458758, "creation_date": 1572457611, "answer_id": 58631084, "question_id": 58630807, "link": "https://stackoverflow.com/questions/58630807/running-same-task-multiple-times-in-parallel-with-ef-core/58631084#58631084", "title": "Running same task multiple times in parallel with EF Core", "body": "<p>Here is my suggestion from the comment as an answer. I would split it in 3 parts:</p>\n\n<p>1) get all orders, </p>\n\n<p>2) then do a Parallel.Foreach to generate all documents in parallel. and assign each document to the proper order and in the end </p>\n\n<p>3) do a single <code>_context.SaveChangesAsync();</code> to make a bulk update on the data on the server </p>\n\n<pre><code>public async Task GenerateAllPDFs()\n{\n    var allOrders = await _context.Orders.ToListAsync();\n    System.Threading.Tasks.Parallel.ForEach(allOrders, order =&gt; \n    {\n        var document = ...  //PDF generated here, takes about 10 seconds\n        order.PDF = document ;\n    });\n    await _context.SaveChangesAsync();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1046, "user_id": 1381490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24b364d9482cf1733dfc2cc1c992471b?s=128&d=identicon&r=PG&f=1", "display_name": "intrixius", "link": "https://stackoverflow.com/users/1381490/intrixius"}, "edited": false, "score": 0, "creation_date": 1572458913, "post_id": 58631224, "comment_id": 103569818, "body": "this method works only partially, I get this error intermittently: <code>System.InvalidOperationException: A second operation started on this context before a previous operation completed. This is usually caused by different threads using the same instance of DbContext, however instance members are not guaranteed to be thread safe. This could also be caused by a nested query being evaluated on the client, if this is the case rewrite the query avoiding nested invocations.</code>"}, {"owner": {"reputation": 1185, "user_id": 5554464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glUaO.png?s=128&g=1", "display_name": "Grabofus", "link": "https://stackoverflow.com/users/5554464/grabofus"}, "reply_to_user": {"reputation": 1046, "user_id": 1381490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24b364d9482cf1733dfc2cc1c992471b?s=128&d=identicon&r=PG&f=1", "display_name": "intrixius", "link": "https://stackoverflow.com/users/1381490/intrixius"}, "edited": false, "score": 0, "creation_date": 1572459052, "post_id": 58631224, "comment_id": 103569885, "body": "You have to move out your <code>context.SaveChangesAsync()</code> to the calling method. Let me update the code."}, {"owner": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "edited": false, "score": 1, "creation_date": 1572459145, "post_id": 58631224, "comment_id": 103569918, "body": "i have the feeling that this line: <code>var order = await _context.Orders.FirstOrDefaultAsync(order ==&gt; order.Id == Id);</code> is actually causing the exception"}, {"owner": {"reputation": 1185, "user_id": 5554464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glUaO.png?s=128&g=1", "display_name": "Grabofus", "link": "https://stackoverflow.com/users/5554464/grabofus"}, "edited": false, "score": 0, "creation_date": 1572459172, "post_id": 58631224, "comment_id": 103569926, "body": "If you don&#39;t need <code>GeneratePDF</code> to be reusable I&#39;d follow what Mong Zhu mentioned in his answer. You&#39;d reduce the roundtrips towards your DB, by pulling all required data at once."}, {"owner": {"reputation": 1185, "user_id": 5554464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glUaO.png?s=128&g=1", "display_name": "Grabofus", "link": "https://stackoverflow.com/users/5554464/grabofus"}, "edited": false, "score": 1, "creation_date": 1572459298, "post_id": 58631224, "comment_id": 103569985, "body": "Good one, big warning message about this on EF Cores docs.. :) <a href=\"https://docs.microsoft.com/en-us/ef/core/querying/async\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/ef/core/querying/async</a>"}, {"owner": {"reputation": 1185, "user_id": 5554464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glUaO.png?s=128&g=1", "display_name": "Grabofus", "link": "https://stackoverflow.com/users/5554464/grabofus"}, "reply_to_user": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "edited": false, "score": 1, "creation_date": 1572459629, "post_id": 58631224, "comment_id": 103570140, "body": "@MongZhu Updated, though it&#39;s getting really similar to your answer.. :) If the generation of the PDF is async or need the generation to be reusable, you can use this answer, otherwise you&#39;re better off sticking with Parallel.ForEach."}, {"owner": {"reputation": 1046, "user_id": 1381490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24b364d9482cf1733dfc2cc1c992471b?s=128&d=identicon&r=PG&f=1", "display_name": "intrixius", "link": "https://stackoverflow.com/users/1381490/intrixius"}, "edited": false, "score": 0, "creation_date": 1572459674, "post_id": 58631224, "comment_id": 103570167, "body": "@Grabofus, that is exactly what I struggle with now while trying to refactoring it based on Mong Zhu comment: this GeneratePDF has to be reusable, and has quite some complex logic in it (to retrieve references and collections of the Order)..."}, {"owner": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "reply_to_user": {"reputation": 1046, "user_id": 1381490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24b364d9482cf1733dfc2cc1c992471b?s=128&d=identicon&r=PG&f=1", "display_name": "intrixius", "link": "https://stackoverflow.com/users/1381490/intrixius"}, "edited": false, "score": 0, "creation_date": 1572460343, "post_id": 58631224, "comment_id": 103570475, "body": "@intrixius than I suggest that you post more of this code"}, {"owner": {"reputation": 1046, "user_id": 1381490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24b364d9482cf1733dfc2cc1c992471b?s=128&d=identicon&r=PG&f=1", "display_name": "intrixius", "link": "https://stackoverflow.com/users/1381490/intrixius"}, "reply_to_user": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "edited": false, "score": 0, "creation_date": 1572460660, "post_id": 58631224, "comment_id": 103570622, "body": "@MongZhu I just added some additional code to show why I am hesitating to fetch all the related properties in <code>GenerateAllPDFs</code>. If I would fetch all those related properties for all (thousands) of orders at once, wouldn&#39;t that get me in trouble memory wise?"}, {"owner": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "reply_to_user": {"reputation": 1046, "user_id": 1381490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24b364d9482cf1733dfc2cc1c992471b?s=128&d=identicon&r=PG&f=1", "display_name": "intrixius", "link": "https://stackoverflow.com/users/1381490/intrixius"}, "edited": false, "score": 1, "creation_date": 1572460907, "post_id": 58631224, "comment_id": 103570738, "body": "@intrixius the generation of the document itself is still independent of all your db access code. Simply move this part into an extra method. and you can reuse it however you like"}, {"owner": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "reply_to_user": {"reputation": 1046, "user_id": 1381490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24b364d9482cf1733dfc2cc1c992471b?s=128&d=identicon&r=PG&f=1", "display_name": "intrixius", "link": "https://stackoverflow.com/users/1381490/intrixius"}, "edited": false, "score": 0, "creation_date": 1572461012, "post_id": 58631224, "comment_id": 103570788, "body": "@intrixius &quot;wouldn&#39;t that get me in trouble memory wise? &quot; it might. But then you could just do it in batches of lets say 2000 or something. this will still give you an improvement on your velocity. The part that really troubles you is the document creation, which you try to parallelize. And we are actually focusing on that. both our answers takle this part."}, {"owner": {"reputation": 1185, "user_id": 5554464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glUaO.png?s=128&g=1", "display_name": "Grabofus", "link": "https://stackoverflow.com/users/5554464/grabofus"}, "reply_to_user": {"reputation": 20705, "user_id": 5174469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/cXyx5.jpg?s=128&g=1", "display_name": "Mong Zhu", "link": "https://stackoverflow.com/users/5174469/mong-zhu"}, "edited": false, "score": 0, "creation_date": 1572461241, "post_id": 58631224, "comment_id": 103570891, "body": "You also won&#39;t be able to multi-thread on the same context as @MongZhu has mentioned previously. Ideally you read batches from your db and distribute the generation of PDFs across multiple threads."}, {"owner": {"reputation": 1046, "user_id": 1381490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24b364d9482cf1733dfc2cc1c992471b?s=128&d=identicon&r=PG&f=1", "display_name": "intrixius", "link": "https://stackoverflow.com/users/1381490/intrixius"}, "edited": false, "score": 0, "creation_date": 1572509744, "post_id": 58631224, "comment_id": 103584193, "body": "Ok, I think I now understand what I should do. Is there any common practice to do the <code>GenerateAllPDFs</code> in batches?"}, {"owner": {"reputation": 1185, "user_id": 5554464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glUaO.png?s=128&g=1", "display_name": "Grabofus", "link": "https://stackoverflow.com/users/5554464/grabofus"}, "edited": false, "score": 0, "creation_date": 1572514961, "post_id": 58631224, "comment_id": 103586540, "body": "I think you should do some more benchmarking so you know what parts of the code you have to worry about. (Like how much memory 2000 orders take in memory). You could make this more complicated and flexible by setting up a produces-consumer flow, so the code would be split to parts of batch-reading the data and filling it into a buffer for PDF generation. You could have X number of threads taking orders out of this buffer and processing the PDFs, then adding their results to a queue to batch insert it back into the database."}, {"owner": {"reputation": 1185, "user_id": 5554464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glUaO.png?s=128&g=1", "display_name": "Grabofus", "link": "https://stackoverflow.com/users/5554464/grabofus"}, "edited": false, "score": 0, "creation_date": 1572515067, "post_id": 58631224, "comment_id": 103586610, "body": "But I don&#39;t think you&#39;ll find something that you can just copy-paste into your code if you want it optimised for your exact requirements. :) Read this article, maybe you find something you can merge into your code: <a href=\"https://michaelscodingspot.com/performance-of-producer-consumer/\" rel=\"nofollow noreferrer\">michaelscodingspot.com/performance-of-producer-consumer</a>"}], "tags": [], "owner": {"reputation": 1185, "user_id": 5554464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glUaO.png?s=128&g=1", "display_name": "Grabofus", "link": "https://stackoverflow.com/users/5554464/grabofus"}, "is_accepted": false, "score": 2, "last_activity_date": 1572459631, "last_edit_date": 1572459631, "creation_date": 1572458208, "answer_id": 58631224, "question_id": 58630807, "link": "https://stackoverflow.com/questions/58630807/running-same-task-multiple-times-in-parallel-with-ef-core/58631224#58631224", "title": "Running same task multiple times in parallel with EF Core", "body": "<p>You can map your order IDs to tasks and await them all like:</p>\n\n<pre><code>public async Task GeneratePDF(Order order) {\n   var document = ...  //PDF generated here, takes about 10 seconds\n   order.PDF = document ;\n}\n\npublic async Task GenerateAllPDFs() {\n   var orderIds = await _context.Orders.ToListAsync();\n   var tasks = orderIds.Select((order) =&gt; GeneratePDF(order).ContinueWith(t =&gt; Console.WriteLine(t.Exception), TaskContinuationOptions.OnlyOnFaulted));\n   await Task.WhenAll(tasks);\n   await _context.SaveChangesAsync();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1046, "user_id": 1381490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24b364d9482cf1733dfc2cc1c992471b?s=128&d=identicon&r=PG&f=1", "display_name": "intrixius", "link": "https://stackoverflow.com/users/1381490/intrixius"}, "is_accepted": false, "score": 0, "last_activity_date": 1572460208, "creation_date": 1572460208, "answer_id": 58631711, "question_id": 58630807, "link": "https://stackoverflow.com/questions/58630807/running-same-task-multiple-times-in-parallel-with-ef-core/58631711#58631711", "title": "Running same task multiple times in parallel with EF Core", "body": "<p>I think I will have to \"duplicate\" the <code>GeneratePDF</code> method to facilitate the batch processing by implementing the other answers , since I need this method also in non-batch mode...</p>\n"}], "owner": {"reputation": 1046, "user_id": 1381490, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/24b364d9482cf1733dfc2cc1c992471b?s=128&d=identicon&r=PG&f=1", "display_name": "intrixius", "link": "https://stackoverflow.com/users/1381490/intrixius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1572460581, "creation_date": 1572456517, "last_edit_date": 1572460581, "question_id": 58630807, "link": "https://stackoverflow.com/questions/58630807/running-same-task-multiple-times-in-parallel-with-ef-core", "title": "Running same task multiple times in parallel with EF Core", "body": "<p>I have a Task that generates a PDF file for an order (it takes about 10 seconds to create one PDF):</p>\n\n<pre><code>public async Task GeneratePDF(Guid Id) {\n   var order = await \n      _context\n      .Orders\n      .Include(order =&gt; order.Customer)\n      ... //a lot more Include and ThenInclude statements\n      .FirstOrDefaultAsync(order ==&gt; order.Id == Id);\n   var document = ...  //PDF generated here, takes about 10 seconds\n   order.PDF = document ;\n   _context.SaveChangesAsync();\n}\n</code></pre>\n\n<p>I tried the following:</p>\n\n<pre><code>public async Task GenerateAllPDFs() {\n   var orderIds = await _context.Orders.Select(order=&gt; order.Id).ToListAsync();\n   foreach (var id in orderIds)\n   {\n      _ = GeneratePDF(id).ContinueWith(t =&gt; Console.WriteLine(t.Exception), TaskContinuationOptions.OnlyOnFaulted);\n   }\n}\n</code></pre>\n\n<p>this gives me the error:</p>\n\n<blockquote>\n  <p>System.ObjectDisposedException: Cannot access a disposed object. A common cause of this error is disposing a context that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling Dispose() on the context, or wrapping the context in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.</p>\n</blockquote>\n\n<p>If I change the task as follows...</p>\n\n<pre><code>public async Task GenerateAllPDFs() {\n   var orderIds = await _context.Orders.Select(order=&gt; order.Id).ToListAsync();\n   foreach (var id in orderIds)\n   {\n      _ = await GeneratePDF(id);\n   }\n}\n</code></pre>\n\n<p>...it runs the task for each order in series, taking ages to complete (I have a few thousands orders, taking about 10 seconds per order)...</p>\n\n<p>How can I run this task in parallel for all orders in the context, so that the time it takes to complete is much less than sequential processing?</p>\n"}, {"tags": ["javascript", "c#", ".net", "json", "angular"], "comments": [{"owner": {"reputation": 758, "user_id": 6507886, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/519806071562450/picture?type=large", "display_name": "Elon Musk", "link": "https://stackoverflow.com/users/6507886/elon-musk"}, "edited": false, "score": 0, "creation_date": 1572456919, "post_id": 58630799, "comment_id": 103568913, "body": "Try removing routing from Route attribute as it is already defined in controller lebel. e.g &#39;[Route(&quot;api/SlgCorpNotes/Edit&quot;)]&#39; to &#39;[Route(&quot;Edit&quot;)]"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 758, "user_id": 6507886, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/519806071562450/picture?type=large", "display_name": "Elon Musk", "link": "https://stackoverflow.com/users/6507886/elon-musk"}, "edited": false, "score": 0, "creation_date": 1572457367, "post_id": 58630799, "comment_id": 103569109, "body": "Okay! Now were getting somewhere.  I now have a 415 error; zone.js:3243 POST <a href=\"https://localhost:44320/api/SlgCorpNotes/Edit\" rel=\"nofollow noreferrer\">localhost:44320/api/SlgCorpNotes/Edit</a> 415 (Unsupported Media Type)  Does this mean I have to stringify something?"}, {"owner": {"reputation": 758, "user_id": 6507886, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/519806071562450/picture?type=large", "display_name": "Elon Musk", "link": "https://stackoverflow.com/users/6507886/elon-musk"}, "edited": false, "score": 0, "creation_date": 1572459105, "post_id": 58630799, "comment_id": 103569910, "body": "look into my answer"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 758, "user_id": 6507886, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/519806071562450/picture?type=large", "display_name": "Elon Musk", "link": "https://stackoverflow.com/users/6507886/elon-musk"}, "edited": false, "score": 0, "creation_date": 1572459580, "post_id": 58630799, "comment_id": 103570113, "body": "Elon, I did so but I am receiving the ouput above.  After switching to [Route(&quot;Edit&quot;)] it is now receiving a 415 error.  The data is not being accepted by the controller method Edit"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 758, "user_id": 6507886, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/519806071562450/picture?type=large", "display_name": "Elon Musk", "link": "https://stackoverflow.com/users/6507886/elon-musk"}, "edited": false, "score": 0, "creation_date": 1572462132, "post_id": 58630799, "comment_id": 103571225, "body": "Hey! So, I am getting through into the method without a 415 error by changing FormBody to FormForm, but I am receiving null values for all my values.  Would you know why this is the case?"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 758, "user_id": 6507886, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/519806071562450/picture?type=large", "display_name": "Elon Musk", "link": "https://stackoverflow.com/users/6507886/elon-musk"}, "edited": false, "score": 0, "creation_date": 1572477801, "post_id": 58630799, "comment_id": 103576712, "body": "I used both your answers so thank you for your help.  I don&#39;t know why my question got down voted cause I don&#39;t think its that bad.  I found many questions similar but I got so many errors like 405 400 and 415.  I just think .net was a little picky by making me add a header &#39;application/json;charset=UTF-8&#39; nonsense. Just take my object Bill!  ok thank you again"}], "answers": [{"comments": [{"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572457879, "post_id": 58631056, "comment_id": 103569355, "body": "Hey EyIM I think were getting close.  I tried what you posted but I am still getting the 415 error.  This is my newMessage object.  Do you see anything that might need to be done to it other than Json.stringify?  console.log(newMessage) result below: CorpNotes {department: 2, note: &quot;asdf&quot;, weekEnding: &quot;2019-11-02T00:00:00&quot;} department: 2 note: &quot;asdf&quot; weekEnding: &quot;2019-11-02T00:00:00&quot; <b>proto</b>: Object"}, {"owner": {"reputation": 5170, "user_id": 1410246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfce8c2aa420b800bb7595ac5fbc986d?s=128&d=identicon&r=PG", "display_name": "EylM", "link": "https://stackoverflow.com/users/1410246/eylm"}, "reply_to_user": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572458029, "post_id": 58631056, "comment_id": 103569415, "body": "Please update the code in the question with current code and the error."}, {"owner": {"reputation": 5170, "user_id": 1410246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfce8c2aa420b800bb7595ac5fbc986d?s=128&d=identicon&r=PG", "display_name": "EylM", "link": "https://stackoverflow.com/users/1410246/eylm"}, "reply_to_user": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572458960, "post_id": 58631056, "comment_id": 103569843, "body": "You are doing the post 2 times in the code. one of them with old parameters in the logging function. also, add charset=utf-8 as."}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572459004, "post_id": 58631056, "comment_id": 103569862, "body": "I have updated the question and have put the output now.  It seems to not like the json object that is comming through.  It now is recognizing the endpoint and finding the Edit method in the controller but exiting with 415 error"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572459478, "post_id": 58631056, "comment_id": 103570067, "body": "Ok, I added charset=utf-8, and removed the post from the logging function"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572460311, "post_id": 58631056, "comment_id": 103570460, "body": "I&#39;m still getting the output above with 415 (Unsupported Media Type)"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572462126, "post_id": 58631056, "comment_id": 103571223, "body": "Hey! So, I am getting through into the method without a 415 error by changing FormBody to FormForm, but I am receiving null values for all my values.  Would you know why this is the case?"}], "tags": [], "owner": {"reputation": 5170, "user_id": 1410246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfce8c2aa420b800bb7595ac5fbc986d?s=128&d=identicon&r=PG", "display_name": "EylM", "link": "https://stackoverflow.com/users/1410246/eylm"}, "is_accepted": false, "score": 1, "last_activity_date": 1572457530, "creation_date": 1572457530, "answer_id": 58631056, "question_id": 58630799, "link": "https://stackoverflow.com/questions/58630799/values-null-when-i-make-a-simple-post-request-to-my-net-controller-from-angular/58631056#58631056", "title": "Values null when I make a simple post request to my .net controller from angular", "body": "<p>1) You need to set the <code>Content-Type</code> header to <code>application/json</code>.</p>\n\n<p>2) <code>stringify</code> the message.</p>\n\n<pre><code>const headers = new HttpHeaders()\n     .set('Content-Type', 'application/json;charset=UTF-8')     \n\nlet options = { headers : headers };\n\nthis.http.post(this.baseUrl + 'api/SlgCorpNotes/Edit', JSON.stringify(newMessage), options);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572460245, "post_id": 58631204, "comment_id": 103570421, "body": "Hey Elon, I tried this but it didn&#39;t work and still getting a 415 error.  I dont think i need a suscribe on this, or else it gives an error on the suscribe on my conponent.ts file where there is already a suscribe before it makes a request to the service"}, {"owner": {"reputation": 758, "user_id": 6507886, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/519806071562450/picture?type=large", "display_name": "Elon Musk", "link": "https://stackoverflow.com/users/6507886/elon-musk"}, "reply_to_user": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572460675, "post_id": 58631204, "comment_id": 103570626, "body": "@JSkyS Have you tried enabling CORS Just add this attribute <code>[EnableCors]</code> above your method in .net side just before <code>[HttpPost]</code>"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572463124, "post_id": 58631204, "comment_id": 103571629, "body": "Hey Elon, I didnt need cors now that im hitting the backend method, but now the data is coming through null so I think there is still something wrong with the object I am sending back."}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572480106, "post_id": 58631204, "comment_id": 103577217, "body": "Thank you for your help.  I used your idea on creating the object then passing it.  One thing extra I had to do was input the Content Type in the header.      const headers = new HttpHeaders()       .set(&#39;Content-Type&#39;, &#39;application/json;charset=UTF-8&#39;)      let options = { headers: headers };"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572480233, "post_id": 58631204, "comment_id": 103577251, "body": "Thanks!  Maybe you could up vote my question for up voting and selecting your answer as the answer.  I think its awesome what your doing with Space X and I really like the new model 3.  Maybe I might consider buying one if you came out with a model 2 that was a little smaller.  Kind of like a hatchback model.  Anyways, I hope to be able to have a Tesla in my garage if they are a little more affordable.  Thanks!"}], "tags": [], "owner": {"reputation": 758, "user_id": 6507886, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/519806071562450/picture?type=large", "display_name": "Elon Musk", "link": "https://stackoverflow.com/users/6507886/elon-musk"}, "is_accepted": true, "score": 1, "last_activity_date": 1572458135, "creation_date": 1572458135, "answer_id": 58631204, "question_id": 58630799, "link": "https://stackoverflow.com/questions/58630799/values-null-when-i-make-a-simple-post-request-to-my-net-controller-from-angular/58631204#58631204", "title": "Values null when I make a simple post request to my .net controller from angular", "body": "<p>At your angular side update your method like this</p>\n\n<pre><code>    updateMessage(message: any) {\n    console.log(\"at service\")\n    console.log(message)\n    var newMessage = new CorpNotes(message['departments'], message['noteBody'], message['weeks'].weekEnding)\n    var Params = '?Department=' + message['departments'] + '&amp;Note=' + message['noteBody'] + '&amp;WeekEnding=' + message['weeks'].weekEnding\n    console.log(newMessage)\n    console.log(JSON.stringify(newMessage))\n    console.log(Params)\n\n\n   var item = {\n    \"Departments\": message[\"Departments\"],\n    \"Note\": message[\"noteBody\"],\n    \"WeekEnding\": message[\"weeks\"]\n   }\n\n    return this.http.post(this.baseUrl + 'api/SlgCorpNotes/Edit', item).subscribe(res \n      =&gt; {\n       console.log(res);\n    }, error =&gt; {\n         console.log(error);\n    });\n  }\n</code></pre>\n"}], "owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 985, "favorite_count": 0, "accepted_answer_id": 58631204, "answer_count": 2, "score": 0, "last_activity_date": 1572462864, "creation_date": 1572456495, "last_edit_date": 1572462864, "question_id": 58630799, "link": "https://stackoverflow.com/questions/58630799/values-null-when-i-make-a-simple-post-request-to-my-net-controller-from-angular", "title": "Values null when I make a simple post request to my .net controller from angular", "body": "<p>This used to be a 415 error question.  </p>\n\n<p>Now it is a a receiving null values on the server side question.</p>\n\n<p>I am having difficulty trying to get my values in the object myMessage over to the server side.  </p>\n\n<p>I have so far tried to add JSON.stringify to newMessage which is being console.logged in the service file.</p>\n\n<p>I tried many ways to alter or make the object the way it would be recognized such as JSON.stringify() and creating a url ending with the correct parameters.</p>\n\n<p>Sorry if it seems like I am dumping code below, but I have been working on this for a second day and don't understand why I can't do a simple post request with three parameters.  One string, one int, and one datetime.  </p>\n\n<p>If anyone can see where I have gone wrong I would so appreciate it.  I will be desperately waiting.\nBelow I am trying to hit <strong>api/SlgCorpNotes/Edit</strong> in backend from  <strong>updateMessage(message: any)</strong> in the service in service.ts</p>\n\n<p><strong>slg-corp-notes.service.ts</strong></p>\n\n<pre><code>import { Component, Injectable, Inject } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpResponse } from '@angular/common/http';\nimport { Observable, Subject, BehaviorSubject } from 'rxjs';\nimport { SLGReportParams, CorpNotes } from './models/slg.model';\nimport { SlgOverviewComponent } from './slg-overview/slg-overview.component';\nimport { SlgNote } from './models/slg-notes';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SlgCorpNotesService {\n\n  constructor(private http: HttpClient, @Inject('BASE_URL') private baseUrl: string) { }\n\n  getWeekTempValue(endDate, department) {\n    var Params = '?endDate=' + endDate + '&amp;department=' + department;\n    return this.http.get&lt;any&gt;(this.baseUrl + 'api/SlgCorpNotes/getWeekTempValue' + Params);\n  }\n\n  updateMessage(message: any) {\n    console.log(\"at service\")\n    console.log(message)\n    var newMessage = new CorpNotes(message['departments'], message['noteBody'], message['weeks'].weekEnding)\n    var Params = '?Department=' + message['departments'] + '&amp;Note=' + message['noteBody'] + '&amp;WeekEnding=' + message['weeks'].weekEnding\n    console.log(newMessage)\n    console.log(JSON.stringify(newMessage))\n    console.log(Params)\nconst headers = new HttpHeaders()\n  .set('Content-Type', 'application/json;charset=UTF-8')\n\nlet options = { headers: headers };\n\nreturn this.http.post(this.baseUrl + 'api/SlgCorpNotes/Edit', JSON.stringify(newMessage), options).subscribe(res =&gt; {\n  console.log(res);\n}, error =&gt; {\n  console.log(error);\n});;\n  }\n\n}\n</code></pre>\n\n<p><strong>model.ts</strong></p>\n\n<pre><code>export class CorpNotes {\n  constructor(\n    public department: number,\n    public note: string,\n    public weekEnding: Date\n  ) { }\n}\n</code></pre>\n\n<p><strong>SLGCorpNotesController.cs</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing Microsoft.AspNetCore.Http;\nusing Microsoft.AspNetCore.Mvc;\nusing mocHub2.Models;\nusing mocHub2.Models.Enterprise;\nusing Microsoft.EntityFrameworkCore;\nusing System.Data.SqlClient;\n\nnamespace mocHub2.Controllers\n{\n    [Route(\"api/[controller]\")]\n    [ApiController]\n    public class SlgCorpNotesController : Controller\n    {\n        SLGContext _SLGContext;\n        BRDataContext _BRDataContext;\n\n        //injects new context\n        public SlgCorpNotesController(SLGContext context, BRDataContext context2)\n        {\n            _SLGContext = context;\n            _BRDataContext = context2;\n        }\n\n        // GET: api/SlgCorpNotes\n        [HttpGet]\n        public IEnumerable&lt;string&gt; Get()\n        {\n            return new string[] { \"value1\", \"value2\" };\n        }\n\n        // GET: api/SlgCorpNotes/5\n        [HttpGet(\"{id}\", Name = \"Get\")]\n        public string Get(int id)\n        {\n            return \"value\";\n        }\n\n        // POST: api/SlgCorpNotes\n        [HttpPost]\n        public void Post([FromBody] string value)\n        {\n        }\n\n        // Get Corporate Notes\n        [HttpGet(\"[action]\")]\n        public JsonResult getWeekTempValue(DateTime endDate, int department)\n        {\n\n            //  Find the WeekID from the weekending from SLGHeaderTemplate table\n            var WeekID = (from x in _SLGContext.SlgheaderTemplate\n                          where x.WeekEnding == endDate\n                          select x.Id).ToList();\n            //  Find Department name by ID\n            var DepartmentString = (from x in _BRDataContext.Departments\n                                    where x.Department == department\n                                    select x.Description).ToList();\n            //  Get the Note.\n            var DeptNote = from x in _SLGContext.SLGCorpNotes\n                           where x.Department == DepartmentString[0]\n                           &amp;&amp; x.WeekID == WeekID[0]\n                           select x.Notes;\n\n            //  Create return object\n            var notes = new Notes();\n\n            //  If Note exists then return Json containing note and department for display, else return empty string.\n            if (DeptNote.Any() &amp;&amp; WeekID.Count() &gt; 0 &amp;&amp; DepartmentString.Count() &gt; 0)\n            {\n                var ReturnDeptNote = DeptNote.First();\n                notes = new Notes() { WeekID = WeekID[0], Department = DepartmentString[0], Note = ReturnDeptNote };\n            }\n            else\n            {\n                var ReturnDeptNote = \"\";\n                notes = new Notes() { WeekID = WeekID[0], Department = DepartmentString[0], Note = ReturnDeptNote };\n            }\n\n            return Json(notes);\n        }\n\n        [HttpPost]\n        [Route(\"Edit\")]\n        public void Edit([FromForm] CorpNotes item)\n        {\n\n            _SLGContext.Entry(item).State = EntityState.Modified;\n            _SLGContext.SaveChanges();\n        }\n    }\n\n    public class CorpNotes\n    {\n        public int department { get; set; }\n\n        public string note { get; set; }\n\n        public DateTime weekEnding { get; set; }\n    }\n\n    public class Notes\n    {\n        public int ID { get; set; }\n\n        public int WeekID { get; set; }\n\n        public string Department { get; set; }\n\n        public string Note { get; set; }\n\n    }\n}\n</code></pre>\n\n<p>Results of console.logs in the service file.</p>\n\n<pre><code>at service\nslg-corp-notes.service.ts:22 {departments: 2, weeks: SLGTime, noteBody: \"asdf\"}\nslg-corp-notes.service.ts:25 CorpNotes\u00a0{department: 2, note: \"asdf\", weekEnding: \"2019-11-02T00:00:00\"}\nslg-corp-notes.service.ts:26 {\"department\":2,\"note\":\"asdf\",\"weekEnding\":\"2019-11-02T00:00:00\"}\nslg-corp-notes.service.ts:27 ?Department=2&amp;Note=asdf&amp;WeekEnding=2019-11-02T00:00:00\nslg-corp-notes.service.ts:28 Observable\u00a0{_isScalar: false, source: Observable, operator: MapOperator}\n</code></pre>\n\n<p><strong>app.module.ts</strong>\nThis is in my app.module.ts where I specify routes</p>\n\n<pre><code>  { path: 'slg-corp-notes', component: SlgCorpNotesComponent },\n  { path: 'slg-corp-notes/edit/', component: SlgCorpNotesComponent }\n</code></pre>\n\n<p><strong>slg-corp-notes.component.ts</strong></p>\n\n<pre><code>  save() {\n    console.log(\"at save\")\n    if (!this.optionsForm.valid) {\n      return;\n    }\n    //this.Notes.note = this.optionsForm.get['noteBody'].value;\n    console.log(this.Notes);\n    this._slgCorpNotesService.updateMessage(this.optionsForm.value)\n      .subscribe((data) =&gt; {\n        this._router.navigate(['/slg-corp-notes']);   //This will navigate back to the mochhub2 index where the message will be displayed\n      }, error =&gt; this.errorMessage = error)\n  }\n</code></pre>\n\n<p>Please let me know if additional info is needed.  </p>\n"}, {"tags": ["c#", "entity-framework-core", "expression"], "answers": [{"tags": [], "owner": {"reputation": 2290, "user_id": 8979763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J2iBy.jpg?s=128&g=1", "display_name": "Gibbon", "link": "https://stackoverflow.com/users/8979763/gibbon"}, "is_accepted": false, "score": 0, "last_activity_date": 1572457170, "last_edit_date": 1572457170, "creation_date": 1572456759, "answer_id": 58630860, "question_id": 58630723, "link": "https://stackoverflow.com/questions/58630723/add-two-expressions-to-create-a-predicate-in-entity-framework-core-3-does-not-wo/58630860#58630860", "title": "Add two expressions to create a predicate in Entity Framework Core 3 does not work", "body": "<p>The issue here is that your query didn't work, or at least not how you intended in EF Core 2 either - In EF3 it will throw an exception for things like this due to a behavioural change, within EF Core 2 this would have silently pulled into memory and done the operation there, so in essence your query would have always been pulling the data into memory and performing the operation there. However now its telling you that it would do that and wanting you to explicitly set it to, or modify your expression to something that it can translate into a sql statement correctly.</p>\n\n<p>This is actually a pretty good example case of why the team did this, seemingly you were unaware that this was previously pulling all of the data into memory and performing the operation there - now that you are aware you can work on a fix to get it performing the operation on the sql server</p>\n\n<p>For more info feel free to read up <a href=\"https://docs.microsoft.com/en-us/ef/core/what-is-new/ef-core-3.0/breaking-changes#linq-queries-are-no-longer-evaluated-on-the-client\" rel=\"nofollow noreferrer\">Here</a></p>\n\n<p>A modification to your code to be somewhere along the lines of</p>\n\n<pre><code>public static Expression&lt;Func&lt;T, bool&gt;&gt; AndExpression\n                    (this Expression&lt;Func&lt;T, bool&gt;&gt; left, Expression&lt;Func&lt;T, bool&gt;&gt; right)\n{\n      var invoked = var invokedExpr = Expression.Invoke (right, left.Parameters.Cast&lt;Expression&gt; ());\n      return Expression.Lambda&lt;Func&lt;T, bool&gt;&gt;\n      (Expression.AndAlso (left.Body, invoked), left.Parameters);\n}\n</code></pre>\n\n<p>working from memory so code above may not be perfect - at work so I cant fully test</p>\n"}, {"comments": [{"owner": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "edited": false, "score": 0, "creation_date": 1572457718, "post_id": 58630886, "comment_id": 103569271, "body": "Nice! So, the problem was with the invoke method as it is not being correctly translated. It worked! Thanks a lot"}], "tags": [], "owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "is_accepted": true, "score": 7, "last_activity_date": 1574082012, "last_edit_date": 1574082012, "creation_date": 1572456868, "answer_id": 58630886, "question_id": 58630723, "link": "https://stackoverflow.com/questions/58630723/add-two-expressions-to-create-a-predicate-in-entity-framework-core-3-does-not-wo/58630886#58630886", "title": "Add two expressions to create a predicate in Entity Framework Core 3 does not work", "body": "<p>You need to unwrap the bodies of your lambdas, rather than using <code>Expression.Invoke</code>. You'll also have to rewrite at least one of the lambdas, so they both use the same parameters.</p>\n\n<p>We'll use an <code>ExpressionVisitor</code> to replace right's parameter with the corresponding parameter from left. Then we'll construct the <code>AndExpression</code> using left's body and the rewritten body from right, and finally create a new lambda.</p>\n\n<pre><code>public class ParameterReplaceVisitor : ExpressionVisitor\n{\n    public ParameterExpression Target { get; set; }\n    public ParameterExpression Replacement { get; set; }\n\n    protected override Expression VisitParameter(ParameterExpression node)\n    {\n        return node == Target ? Replacement : base.VisitParameter(node);\n    }\n}\n\npublic static Expression&lt;Func&lt;T, bool&gt;&gt; AndExpression&lt;T&gt;(\n    Expression&lt;Func&lt;T, bool&gt;&gt; left, Expression&lt;Func&lt;T, bool&gt;&gt; right)\n{\n    var visitor = new ParameterReplaceVisitor()\n    {\n        Target = right.Parameters[0],\n        Replacement = left.Parameters[0],\n    };\n\n    var rewrittenRight = visitor.Visit(right.Body);\n    var andExpression = Expression.AndAlso(left.Body, rewrittenRight);\n    return Expression.Lambda&lt;Func&lt;T, bool&gt;&gt;(andExpression, left.Parameters);\n}\n</code></pre>\n\n<p>This results in a lambda with the following DebugView:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>.Lambda #Lambda1&lt;System.Func`2[System.String,System.Boolean]&gt;(Entity $t) {\n    $t.Id == \"id1\" &amp;&amp; $t.Id == \"id2\"\n}\n</code></pre>\n\n<p>Whereas your code results in a lambda with the following DebugView:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>.Lambda #Lambda1&lt;System.Func`2[System.String,System.Boolean]&gt;(System.String $t) {\n    $t == \"id1\" &amp;&amp; .Invoke (.Lambda #Lambda2&lt;System.Func`2[System.String,System.Boolean]&gt;)($t)\n}\n\n.Lambda #Lambda2&lt;System.Func`2[System.String,System.Boolean]&gt;(System.String $t) {\n    $t == \"id2\"\n}\n</code></pre>\n\n<p>See how yours is calling a lambda from within a lambda (something that EF can't handle), whereas mine just has a single lambda.</p>\n"}], "owner": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2927, "favorite_count": 1, "accepted_answer_id": 58630886, "answer_count": 2, "score": 4, "last_activity_date": 1574082012, "creation_date": 1572456170, "last_edit_date": 1572456880, "question_id": 58630723, "link": "https://stackoverflow.com/questions/58630723/add-two-expressions-to-create-a-predicate-in-entity-framework-core-3-does-not-wo", "title": "Add two expressions to create a predicate in Entity Framework Core 3 does not work", "body": "<p>I am trying to build an \"And\" predicate method using C# with Entity Framework Core 3 in a .NET Core application.</p>\n\n<p>The function adds two expressions to each other and passes it to an IQueryable code:</p>\n\n<pre><code>public Expression&lt;Func&lt;T, bool&gt;&gt; AndExpression&lt;T&gt;\n                    (Expression&lt;Func&lt;T, bool&gt;&gt; left, Expression&lt;Func&lt;T, bool&gt;&gt; right)\n{\n      var andExpression = Expression.AndAlso(\n           left.Body, Expression.Invoke(right,\n           left.Parameters.Single()));\n\n      return Expression.Lambda&lt;Func&lt;T, bool&gt;&gt;(andExpression, left.Parameters);\n}\n</code></pre>\n\n<p>The call for of the function</p>\n\n<pre><code>Expression&lt;Func&lt;Entity, bool&gt;&gt; left = t =&gt; t.Id == \"id1\";\nExpression&lt;Func&lt;Entity, bool&gt;&gt; right = t =&gt; t.Id == \"id2\";\nvar exp = AndExpression(left, right);\nthis.dbContext.Set&lt;Entity&gt;().source.Where(exp).ToList();\n</code></pre>\n\n<p>My code works fine in version EF Core 2, but after I updated the version to version 3 it throws the following exception</p>\n\n<blockquote>\n  <p>The LINQ expression 'Where(\n          source: DbSet, \n          predicate: (s) => (t => t.Id == \"id1\") &amp;&amp; Invoke(t => t.Id == \"id2\")\n      )' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by\n  inserting a call to either AsEnumerable(), AsAsyncEnumerable(),\n  ToList(), or ToListAsync().</p>\n</blockquote>\n\n<p>I cannot translate the query to Enumerable due to memory issues.\nI understand the problem but I don't know if there is a way to avoid it.</p>\n\n<p>If anyone has a tip for me, I would appreciate that. Thanks a lot!</p>\n"}, {"tags": ["c#", "asp.net", "excel", "gridview"], "comments": [{"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 1, "creation_date": 1572461830, "post_id": 58630703, "comment_id": 103571112, "body": "Start using a specialized library for creating Excel files, like <a href=\"https://github.com/JanKallman/EPPlus\" rel=\"nofollow noreferrer\">EPPlus</a>. <a href=\"https://stackoverflow.com/a/47293207/5836671\">Example here</a> and <a href=\"https://stackoverflow.com/a/39513057/5836671\">here</a>. All you are doing now is creating a HTML page with an .xls extension. And javascript data is not available in code behind so you cannot export it. Better get the data in code behind also and bind it to the GridView, then you can also export it."}, {"owner": {"reputation": 45, "user_id": 11767309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a027e1375ceee367bbfcaa69e8f2a4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/11767309/juan"}, "reply_to_user": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 0, "creation_date": 1572465177, "post_id": 58630703, "comment_id": 103572489, "body": "Turns out I had these values created in the code behind as well, my solution was reload the values to the gridview."}], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 11767309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a027e1375ceee367bbfcaa69e8f2a4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/11767309/juan"}, "is_accepted": false, "score": 0, "last_activity_date": 1572465243, "creation_date": 1572465243, "answer_id": 58632734, "question_id": 58630703, "link": "https://stackoverflow.com/questions/58630703/how-to-export-labels-from-a-gridview-dynamically-created-with-javascript/58632734#58632734", "title": "How to export labels from a gridview dynamically created with javascript?", "body": "<p>Need to reload the values to the GridView in the code behind. JavaScript does not store the values to the grid directly.</p>\n"}], "owner": {"reputation": 45, "user_id": 11767309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a027e1375ceee367bbfcaa69e8f2a4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/11767309/juan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572465243, "creation_date": 1572456083, "question_id": 58630703, "link": "https://stackoverflow.com/questions/58630703/how-to-export-labels-from-a-gridview-dynamically-created-with-javascript", "title": "How to export labels from a gridview dynamically created with javascript?", "body": "<p>I have multiple gridviews on one page some with textboxes, others with labels/text. The labels are calculated from other textbox values using javaScript and are placed in the gridview that way. The problem is, the labels are not exporting to excel. I'm wondering if it's because they are created dynamically with javaScript. However, I need these values to export as well. Any help is appreciated!</p>\n\n<p>I've tried data binding again on the export click but no go.</p>\n\n<pre><code>protected void export_Click(object sender, EventArgs e)\n    {\n        Response.ClearContent();\n        Response.AppendHeader(\"content-disposition\", \"attachment; filename=AvailableFundsCosts.xls\");\n        Response.ContentType = \"application/excel\";\n\n        System.IO.StringWriter sw = new System.IO.StringWriter();\n        HtmlTextWriter htw = new HtmlTextWriter(sw);\n\n        gridSFS.RenderControl(htw);\n        gridTLS.RenderControl(htw);\n        gridPCOTotals.RenderControl(htw);\n        gridPTA.RenderControl(htw);\n        gridPC.RenderControl(htw);\n        gridTL.RenderControl(htw);\n        gridFinal.RenderControl(htw);\n\n\n        Response.Write(sw.ToString());\n        Response.End();\n    }\n</code></pre>\n\n<p>Here is example of javascript using the grid to place an label value in another part of the gridview:</p>\n\n<pre><code>function calculateGTASemestersOtherActivity()\n        {\n            var GTASemestersOtherActivity = parseFloat(document.getElementById(\"cphMain_gridPTA_iTxtAmount_4\").value);\n            var GTASemesterStipend = parseFloat(document.getElementById(\"cphMain_gridTLS_iTxtAmount_5\").value);\n\n            if(isNaN(GTASemestersOtherActivity))\n            {GTASemestersOtherActivity = 0.00;}\n            if(isNaN(GTASemesterStipend))\n            {GTASemesterStipend = 0.00;}\n\n            var OtherActivityCost = parseFloat(GTASemestersOtherActivity * GTASemesterStipend);\n\n            var cell = document.getElementById(\"cphMain_gridPC\").rows[8].cells;\n\n            cell[1].innerHTML = OtherActivityCost.toLocaleString('en-US', { style: 'currency', currency: 'USD' });\n        }\n</code></pre>\n\n<p>I need the label values to export excel as well as the textboxes.</p>\n"}, {"tags": ["c#", "android", "tensorflow", "xamarin", "tensorflow-lite"], "comments": [{"owner": {"reputation": 2340, "user_id": 1934851, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/maqOy.png?s=128&g=1", "display_name": "Nathan McCoy", "link": "https://stackoverflow.com/users/1934851/nathan-mccoy"}, "edited": false, "score": 0, "creation_date": 1572457973, "post_id": 58630660, "comment_id": 103569396, "body": "You need to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to get any reasonable help. Please try to show what You have done."}, {"owner": {"reputation": 11, "user_id": 11307005, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O95t50S2Czo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3regv4wTDkY4-KKsUIeGPoNUczGzyg/mo/photo.jpg?sz=128", "display_name": "Tyrone Linton", "link": "https://stackoverflow.com/users/11307005/tyrone-linton"}, "reply_to_user": {"reputation": 2340, "user_id": 1934851, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/maqOy.png?s=128&g=1", "display_name": "Nathan McCoy", "link": "https://stackoverflow.com/users/1934851/nathan-mccoy"}, "edited": false, "score": 0, "creation_date": 1572471686, "post_id": 58630660, "comment_id": 103574994, "body": "Thanks i&#39;ve updated it now hope its more useful"}], "owner": {"reputation": 11, "user_id": 11307005, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-O95t50S2Czo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3regv4wTDkY4-KKsUIeGPoNUczGzyg/mo/photo.jpg?sz=128", "display_name": "Tyrone Linton", "link": "https://stackoverflow.com/users/11307005/tyrone-linton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572475406, "creation_date": 1572455902, "last_edit_date": 1572475406, "question_id": 58630660, "link": "https://stackoverflow.com/questions/58630660/how-to-get-tensorflow-posenet-working-with-xamarin-forms-xam-android", "title": "How to get Tensorflow PoseNet working with Xamarin forms/Xam.Android", "body": "<p>I've tried with java/Kotlin android and then using it as a .jar but cant get it to work. I have this code in Java, and i need to try to replicate it using C# for Xamarin/Xamarin.Android</p>\n\n<p>JAVA METHOD</p>\n\n<pre><code>fun estimateSinglePose(bitmap: Bitmap): Person {\nvar t1: Long = SystemClock.elapsedRealtimeNanos()\nval inputArray = arrayOf(initInputArray(bitmap))\nvar t2: Long = SystemClock.elapsedRealtimeNanos()\nLog.i(\"posenet\", String.format(\"Scaling to [-1,1] took %.2f ms\", 1.0f * \n(t2 - t1) / 1_000_000))\n\nval outputMap = initOutputMap(interpreter!!)\n\nt1 = SystemClock.elapsedRealtimeNanos()\ninterpreter!!.runForMultipleInputsOutputs(inputArray, outputMap)\nt2 = SystemClock.elapsedRealtimeNanos()\nLog.i(\"posenet\", String.format(\"Interpreter took %.2f ms\", 1.0f * (t2 - t1) / 1_000_000))\n\nval heatmaps = outputMap[0] as Array&lt;Array&lt;Array&lt;FloatArray&gt;&gt;&gt;\nval offsets = outputMap[1] as Array&lt;Array&lt;Array&lt;FloatArray&gt;&gt;&gt;\n\nval height = heatmaps[0].size\nval width = heatmaps[0][0].size\nval numKeypoints = heatmaps[0][0][0].size\n\n// Finds the (row, col) locations of where the keypoints are most likely to be.\nval keypointPositions = Array(numKeypoints) { Pair(0, 0) }\nfor (keypoint in 0 until numKeypoints) {\n  var maxVal = heatmaps[0][0][0][keypoint]\n  var maxRow = 0\n  var maxCol = 0\n  for (row in 0 until height) {\n    for (col in 0 until width) {\n      heatmaps[0][row][col][keypoint] = sigmoid(heatmaps[0][row][col][keypoint])\n      if (heatmaps[0][row][col][keypoint] &gt; maxVal) {\n        maxVal = heatmaps[0][row][col][keypoint]\n        maxRow = row\n        maxCol = col\n      }\n    }\n  }\n  keypointPositions[keypoint] = Pair(maxRow, maxCol)\n}\n\n// Calculating the x and y coordinates of the keypoints with offset adjustment.\nval xCoords = IntArray(numKeypoints)\nval yCoords = IntArray(numKeypoints)\nval confidenceScores = FloatArray(numKeypoints)\nkeypointPositions.forEachIndexed { idx, position -&gt;\n  val positionY = keypointPositions[idx].first\n  val positionX = keypointPositions[idx].second\n  yCoords[idx] = (\n    position.first / (height - 1).toFloat() * bitmap.height +\n      offsets[0][positionY][positionX][idx]\n    ).toInt()\n  xCoords[idx] = (\n    position.second / (width - 1).toFloat() * bitmap.width +\n      offsets[0][positionY]\n      [positionX][idx + numKeypoints]\n    ).toInt()\n  confidenceScores[idx] = heatmaps[0][positionY][positionX][idx]\n}\n\nval person = Person()\nval keypointList = Array(numKeypoints) { KeyPoint() }\nvar totalScore = 0.0f\nenumValues&lt;BodyPart&gt;().forEachIndexed { idx, it -&gt;\n  keypointList[idx].bodyPart = it\n  keypointList[idx].position.x = xCoords[idx]\n  keypointList[idx].position.y = yCoords[idx]\n  keypointList[idx].score = confidenceScores[idx]\n  totalScore += confidenceScores[idx]\n}\n\nperson.keyPoints = keypointList.toList()\nperson.score = totalScore / numKeypoints\n\nreturn person\n</code></pre>\n\n<p>}</p>\n\n<p>I have got the PoseNet model running in a C# method but this method is written for object detection and not returning Keypoints, i don't know how to adapt it to get the keypoints </p>\n\n<p>C# Method</p>\n\n<pre><code>    public void Recognize(int[] colors)\n    {\n        if (!initialized)\n        {\n            throw new Exception(\"Initialize TensorflowLiteService first\");\n        }\n\n        MessagingCenter.Instance.Send(this, nameof(AR.InputTensorMessage), new InputTensorMessage()\n        {\n            Colors = colors,\n        });\n\n        using (var op = new BuildinOpResolver())\n        {\n            using (var interpreter = new Interpreter(model, op))\n            {\n                InvokeInterpreter(colors, interpreter);\n            }\n        }\n    }\n\n    private void InvokeInterpreter(int[] colors, Interpreter interpreter)\n    {\n        if (useNumThreads)\n        {\n            interpreter.SetNumThreads(Environment.ProcessorCount);\n        }\n\n        var allocateTensorStatus = interpreter.AllocateTensors();\n        if (allocateTensorStatus == Status.Error)\n        {\n            throw new Exception(\"Failed to allocate tensor\");\n        }\n\n\n\n        var input = interpreter.GetInput();\n        using (var inputTensor = interpreter.GetTensor(input[0]))\n        {\n            CopyColorsToTensor(inputTensor.DataPointer, colors);\n\n            var watchInvoke = Stopwatch.StartNew();\n            interpreter.Invoke();\n            watchInvoke.Stop();\n\n            Console.WriteLine($\"InterpreterInvoke: {watchInvoke.ElapsedMilliseconds}ms\");\n        }\n\n        var output = interpreter.GetOutput();\n        var outputIndex = output[0];\n\n        var outputTensors = new Tensor[output.Length];\n\n        for (var i = 0; i &lt; output.Length; i++)\n        {\n            outputTensors[i] = interpreter.GetTensor(outputIndex + i);\n        }\n\n        var detection_boxes_out = outputTensors[0].GetData() as float[];\n        var detection_classes_out = outputTensors[1].GetData() as float[];\n        var detection_scores_out = outputTensors[2].GetData() as float[];\n        var num_detections_out = outputTensors[3].GetData() as float[];\n\n        var numDetections = num_detections_out[0];\n\n        LogDetectionResults(detection_classes_out, detection_scores_out, detection_boxes_out, (int)numDetections);\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "xml", "xsd-validation"], "comments": [{"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1572456443, "post_id": 58630648, "comment_id": 103568699, "body": "Can you handle the <code>settings.ValidationEventHandler</code>? So read the schema in first, setup the XmlReaderSettings next and then use XmlReader to load the document."}, {"owner": {"reputation": 12747, "user_id": 90236, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/005eace133a995053e4cfdce0433c928?s=128&d=identicon&r=PG", "display_name": "Michael Levy", "link": "https://stackoverflow.com/users/90236/michael-levy"}, "reply_to_user": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1572456895, "post_id": 58630648, "comment_id": 103568901, "body": "Right, but loading the XSD as: XmlTextReader xsdReader = new XmlTextReader(&quot;MySchema.xsd&quot;)); XmlSchema schema = XmlSchema.Read(xsdReader, ValidationCallback);  duplicates the original problem, readming XML without validation."}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1572457609, "post_id": 58630648, "comment_id": 103569221, "body": "Can you use <code>XmlSchema schema; using (StringReader xsdReader = new StringReader(xsdPath)) {     schema = XmlSchema.Read(xsdReader, null); }</code> passing <code>null</code> into the read. Then your settings.ValidationEventHandler as I suggested would validate this; something like: <code>settings.ValidationEventHandler += (sender, args) =&gt; {         if (args.Severity == XmlSeverityType.Error)         throw new InvalidOperationException(args.Message); }</code>"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1572459915, "post_id": 58630648, "comment_id": 103570278, "body": "Hard for us to know exactly what your security vulnerability scan tool will object to.  Have you tested whether either of the code fragments from <a href=\"https://stackoverflow.com/a/14542621/3744182\">this answer</a> to <a href=\"https://stackoverflow.com/q/14185087/3744182\">Adding (Embedded Resource) Schema To XmlReaderSettings Instead Of Filename?</a> actually cause this scan tool to complain?"}, {"owner": {"reputation": 12747, "user_id": 90236, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/005eace133a995053e4cfdce0433c928?s=128&d=identicon&r=PG", "display_name": "Michael Levy", "link": "https://stackoverflow.com/users/90236/michael-levy"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1572460082, "post_id": 58630648, "comment_id": 103570348, "body": "@dbc, yes, that is basically the solution we&#39;ve implemented. I was mostly wondering if there are other recommended approaches. (we have not rescanned yet, but I suspect the embedded resource will pass)."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1572460237, "post_id": 58630648, "comment_id": 103570416, "body": "Oh, but don&#39;t use <code>XmlTextReader</code>, it&#39;s deprecated according to the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.xml.xmltextreader?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs</a>.  Use <code>XmlReader.Create()</code> instead.  I vaguely recall <code>XmlTextReader</code> has more permissive default settings for resolving external URLs and so might get flagged as being insecure."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1572474422, "post_id": 58630648, "comment_id": 103575841, "body": "Your security scan tool explains how to enable validation, but does it give any concrete examples of security problems that can be caused by lack of validation?"}], "answers": [{"comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1572473951, "post_id": 58634213, "comment_id": 103575705, "body": "One thought: <code>XmlTextReader</code> (used internally by <code>XmlSerializer</code>) was vulnerable to XML bomb attacks prior to .Net 4.0; see <a href=\"https://stackoverflow.com/q/23096087/3744182\">XML bomb (Entity Injection) is by default taken care in .Net 4.0 but not in .Net 3.5. How? What changed?</a> and <a href=\"https://security.stackexchange.com/q/188567/124029\">Is .NET XmlSerializer.Deserialize(TextReader) safe?</a>.  Validation against a schema that included string length restrictions might have protected against this sort of attack in earlier versions."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1572474278, "post_id": 58634213, "comment_id": 103575800, "body": "But in general I agree with <i>It&#39;s very hard to see what security vulnerabilities will be fixed by enabling validation.</i>   Validation might prevent other problems however, such as deserialized objects being in some invalid state (e.g. missing required properties) and causing problems and bugs down the road."}, {"owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1572510353, "post_id": 58634213, "comment_id": 103584458, "body": "I think it&#39;s highly unlikely that a length restriction in a schema will prevent entity-expansion attacks. The XML parser will almost certainly try to construct the string in its entirety before testing its length against rules in the schema, rather than testing the length continually as the string is built."}, {"owner": {"reputation": 12747, "user_id": 90236, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/005eace133a995053e4cfdce0433c928?s=128&d=identicon&r=PG", "display_name": "Michael Levy", "link": "https://stackoverflow.com/users/90236/michael-levy"}, "edited": false, "score": 0, "creation_date": 1572537491, "post_id": 58634213, "comment_id": 103599209, "body": "Excellent points. Also, I&#39;m not reading the xml from some public input. It is from the file system on a secured server. But, I need to get the gold star that says the code &quot;passed security scan&quot;, even if the changes to make no practical sense."}, {"owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "edited": false, "score": 0, "creation_date": 1572541582, "post_id": 58634213, "comment_id": 103601272, "body": "You have my sympathy. We had a customer reject an invoice containing a bank account number for payment the other day because some security bod decided sending bank account details by email was insecure. So we sent it again with punctuation between the digits."}], "tags": [], "owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "is_accepted": false, "score": 1, "last_activity_date": 1572472739, "creation_date": 1572472739, "answer_id": 58634213, "question_id": 58630648, "link": "https://stackoverflow.com/questions/58630648/c-validating-xml-with-xsd-without-loading-unvalidated-xsd/58634213#58634213", "title": "C# validating XML with XSD without loading unvalidated XSD?", "body": "<p>Anyone who can write the phrase \"If enabling validation causes problems because the rules for defining a well-formed document are Byzantine\" is revealing that they know very little about XML; it seems they don't understand the difference between being valid and being well-formed, which is pretty fundamental. So you're having to find ways of getting around rules that aren't very smart. At this point you have to decide whether your objective is to make the system more secure, or to pass the security tests.</p>\n\n<p>It's very hard to see what security vulnerabilities will be fixed by enabling validation.</p>\n\n<p>Especially as you can write a schema that accepts any document as valid, and I bet your security tool will be happily content that you are obeying the rules even though you haven't increased security one iota.</p>\n\n<p>When a schema processor loads a schema then it automatically validates that it is a valid schema. So there really isn't any risk. But whether your security scanner accepts that there isn't any risk is another matter entirely.</p>\n"}], "owner": {"reputation": 12747, "user_id": 90236, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/005eace133a995053e4cfdce0433c928?s=128&d=identicon&r=PG", "display_name": "Michael Levy", "link": "https://stackoverflow.com/users/90236/michael-levy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1572472739, "creation_date": 1572455860, "last_edit_date": 1572460259, "question_id": 58630648, "link": "https://stackoverflow.com/questions/58630648/c-validating-xml-with-xsd-without-loading-unvalidated-xsd", "title": "C# validating XML with XSD without loading unvalidated XSD?", "body": "<p>A security scan of our C# source reported \"Missing XML Validation\" as a possible injection flaw. It cited <a href=\"https://cwe.mitre.org/data/definitions/112.html\" rel=\"nofollow noreferrer\">https://cwe.mitre.org/data/definitions/112.html</a> and other sources.</p>\n\n<p>Its recommendation was:</p>\n\n<blockquote>\n  <p>Always enable validation when you parse XML. If enabling validation\n  causes problems because the rules for defining a well-formed document\n  are Byzantine or altogether unknown, chances are good that there are\n  security errors nearby. </p>\n  \n  <p>Example: The following code demonstrates how to enable validation when using XmlReader.XmlReader</p>\n\n<pre><code>Settings settings = new XmlReaderSettings()\u037e\nsettings.Schemas.Add(schema)\u037e\nsettings.ValidationType = ValidationType.Schema\u037e\nStringReader sr = new StringReader(xmlDoc)\u037e\nXmlReader reader = XmlReader.Create(sr, settings)\u037e\n</code></pre>\n</blockquote>\n\n<p>I have an XSD schema available for validation. My question is, how do I load the XSD as an XmlSchema without duplicating the error of loading an XML file without validation?</p>\n\n<p>If I read the XSD from the file system, I think I am just duplicating the same error (reading XML without validation). Is there a recommended way to do this? </p>\n\n<p>Our first approach was to read the XSD from the file system, like:</p>\n\n<pre><code>XmlTextReader xsdReader = new XmlTextReader(\"MySchema.xsd\"));\nXmlSchema schema = XmlSchema.Read(xsdReader, ValidationCallback);  \n</code></pre>\n\n<p>But, I believe this causes the same error, reading the XML (in this case the XSD) without validation.</p>\n\n<p>The approach that we are using now (that I think will pass the security scan) is to load the XSD from an embedded resource.</p>\n\n<pre><code>Stream xsdStream = Assembly.GetAssembly(typeof(MyType))\n      .GetManifestResourceStream(\"MyNamespace.MySchema.xsd\");  \nif (xsdStream == null) throw ...\nXmlSchema schema = XmlSchema.Read(xsdStream, ValidationCallback);   \n</code></pre>\n\n<p>We have not rescanned yet, but I suspect the embedded resource approach will pass. But, is there recommended or best practice approach to this?</p>\n"}, {"tags": ["c#", "sql", "sql-server"], "comments": [{"owner": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 0, "creation_date": 1572455734, "post_id": 58630596, "comment_id": 103568366, "body": "This purely looks like a formatting issue; the data isn&#39;t different it just based on the user language."}, {"owner": {"reputation": 2235, "user_id": 1270958, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/1e83aaee43db215dedd6a766220aa579?s=128&d=identicon&r=PG", "display_name": "abc cba", "link": "https://stackoverflow.com/users/1270958/abc-cba"}, "reply_to_user": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 0, "creation_date": 1572455849, "post_id": 58630596, "comment_id": 103568421, "body": "@Larnu both language pc and server language is same"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 2, "creation_date": 1572455872, "post_id": 58630596, "comment_id": 103568434, "body": "Dates and numbers are binary values, they have no format. Formats apply only when they are converted to strings for display. How did you display that data?"}, {"owner": {"reputation": 2214, "user_id": 3739842, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d9a7ea5bdc5e8b8ae08d62cbef30c7b4?s=128&d=identicon&r=PG&f=1", "display_name": "Sean T", "link": "https://stackoverflow.com/users/3739842/sean-t"}, "edited": false, "score": 0, "creation_date": 1572455887, "post_id": 58630596, "comment_id": 103568442, "body": "Well if you look at the column&#39;s data type when debugging your code it will tell you the data type, it should still be int, DateTime and decimal if what you say is true"}, {"owner": {"reputation": 2235, "user_id": 1270958, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/1e83aaee43db215dedd6a766220aa579?s=128&d=identicon&r=PG", "display_name": "abc cba", "link": "https://stackoverflow.com/users/1270958/abc-cba"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1572455979, "post_id": 58630596, "comment_id": 103568480, "body": "@PanagiotisKanavos have not apply any format yet , during the datatable fill the formatting is already different , i inspected sd.fill(dt) to check on the data"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 2, "creation_date": 1572455996, "post_id": 58630596, "comment_id": 103568489, "body": "If you see <code>,</code> as the decimal separator, it means that the PC does <i>not</i> use US regional settings. Or the <i>end user</i> doesn&#39;t use US settings. You didn&#39;t explain what kind of application you build. In a web application, the end user&#39;s preferred language is used to determine the correct regional settings"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 3, "creation_date": 1572456050, "post_id": 58630596, "comment_id": 103568516, "body": "@abccba again, there are no formats. Formats apply when you create the strings. What you posted here is a <i>string</i>, not the binary or hex digits of a DateTime or Decimal value. When you displayed those values, they were formatted using the user&#39;s locale"}, {"owner": {"reputation": 2340, "user_id": 2549001, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fglVM.jpg?s=128&g=1", "display_name": "Nirmal Subedi", "link": "https://stackoverflow.com/users/2549001/nirmal-subedi"}, "edited": false, "score": 1, "creation_date": 1572456120, "post_id": 58630596, "comment_id": 103568550, "body": "Try to use CultureInfo and see what&#39;s going on: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.globalization.cultureinfo?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "edited": false, "score": 0, "creation_date": 1572456242, "post_id": 58630596, "comment_id": 103568591, "body": "What are you using to display the results? What are you using to inspect them?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1572456246, "post_id": 58630596, "comment_id": 103568594, "body": "<i>i inspected sd.fill(dt)</i> even the debugger when you ask it to show that data needs to format it"}, {"owner": {"reputation": 2235, "user_id": 1270958, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/1e83aaee43db215dedd6a766220aa579?s=128&d=identicon&r=PG", "display_name": "abc cba", "link": "https://stackoverflow.com/users/1270958/abc-cba"}, "reply_to_user": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "edited": false, "score": 0, "creation_date": 1572456310, "post_id": 58630596, "comment_id": 103568623, "body": "@PeterSmith Datetime and decimal"}, {"owner": {"reputation": 7735, "user_id": 1672994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56278338c1a328fee5a80471a18bfc82?s=128&d=identicon&r=PG", "display_name": "user1672994", "link": "https://stackoverflow.com/users/1672994/user1672994"}, "edited": false, "score": 0, "creation_date": 1572456350, "post_id": 58630596, "comment_id": 103568644, "body": "Is this code for a WebApp or DesktopApp?"}, {"owner": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "edited": false, "score": 0, "creation_date": 1572456362, "post_id": 58630596, "comment_id": 103568656, "body": "That&#39;s the datatype, not the inspection tool. Are the above values in the UI or the debugger?"}, {"owner": {"reputation": 2235, "user_id": 1270958, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/1e83aaee43db215dedd6a766220aa579?s=128&d=identicon&r=PG", "display_name": "abc cba", "link": "https://stackoverflow.com/users/1270958/abc-cba"}, "reply_to_user": {"reputation": 5291, "user_id": 1471604, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/dad335a0b8a96783cf047f17ea2488dd?s=128&d=identicon&r=PG", "display_name": "Peter Smith", "link": "https://stackoverflow.com/users/1471604/peter-smith"}, "edited": false, "score": 0, "creation_date": 1572456437, "post_id": 58630596, "comment_id": 103568692, "body": "@PeterSmith the value is from the debugger"}, {"owner": {"reputation": 2235, "user_id": 1270958, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/1e83aaee43db215dedd6a766220aa579?s=128&d=identicon&r=PG", "display_name": "abc cba", "link": "https://stackoverflow.com/users/1270958/abc-cba"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1572456463, "post_id": 58630596, "comment_id": 103568707, "body": "@PanagiotisKanavos both PC is using same regional setting."}, {"owner": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 1, "creation_date": 1572456755, "post_id": 58630596, "comment_id": 103568845, "body": "Regardless of server regional settings, the culture info of the thread serving the application can be overridden. This override can cause various display differences of number, dates and other facets based on the settings of the thread&#39;s culture.."}, {"owner": {"reputation": 2235, "user_id": 1270958, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/1e83aaee43db215dedd6a766220aa579?s=128&d=identicon&r=PG", "display_name": "abc cba", "link": "https://stackoverflow.com/users/1270958/abc-cba"}, "reply_to_user": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 1, "creation_date": 1572457295, "post_id": 58630596, "comment_id": 103569082, "body": "@RossBush Thank you , it appear that the thread is not sending the culture of en . Thank you"}], "answers": [{"comments": [{"owner": {"reputation": 649, "user_id": 5137920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc8de39d538d6fff5fdc4a4a92014f0a?s=128&d=identicon&r=PG&f=1", "display_name": "Farhad Rahmanifard", "link": "https://stackoverflow.com/users/5137920/farhad-rahmanifard"}, "reply_to_user": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1572461328, "post_id": 58631492, "comment_id": 103570916, "body": "I did not mean format data from the presentation layer. I suggest doing that for data transfer purposes only. I will rephrase my answer soon."}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1572461885, "post_id": 58631492, "comment_id": 103571131, "body": "The OP is talking about what the data looks like in their application. You are suggesting that you should send the data as character data. This is never going to be a good idea."}, {"owner": {"reputation": 649, "user_id": 5137920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc8de39d538d6fff5fdc4a4a92014f0a?s=128&d=identicon&r=PG&f=1", "display_name": "Farhad Rahmanifard", "link": "https://stackoverflow.com/users/5137920/farhad-rahmanifard"}, "reply_to_user": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1572462644, "post_id": 58631492, "comment_id": 103571417, "body": "You are right. Here, the source of the problem was specified, and I have voted the related comments. But, if the solution did not find, this temporary/secondary solution would help. At least until finding a better solution."}], "tags": [], "owner": {"reputation": 649, "user_id": 5137920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc8de39d538d6fff5fdc4a4a92014f0a?s=128&d=identicon&r=PG&f=1", "display_name": "Farhad Rahmanifard", "link": "https://stackoverflow.com/users/5137920/farhad-rahmanifard"}, "is_accepted": false, "score": -2, "last_activity_date": 1572462660, "last_edit_date": 1572462660, "creation_date": 1572459419, "answer_id": 58631492, "question_id": 58630596, "link": "https://stackoverflow.com/questions/58630596/c-return-data-differ-formatting-from-t-sql-exec-for-decimal-and-datetime/58631492#58631492", "title": "C# return data differ formatting from T-SQL exec for decimal and DateTime", "body": "<p>I am not sure what causes this problem. But to get rid of this problem, you can (as a secondary/temporary solution) converting it to the \"nvarchar\" data type in your stored procedure. The string data type is one of the most compatible data types for data exchange between different environments and also has no intercepting issue at all.</p>\n"}], "owner": {"reputation": 2235, "user_id": 1270958, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/1e83aaee43db215dedd6a766220aa579?s=128&d=identicon&r=PG", "display_name": "abc cba", "link": "https://stackoverflow.com/users/1270958/abc-cba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1572843704, "creation_date": 1572455671, "last_edit_date": 1572843704, "question_id": 58630596, "link": "https://stackoverflow.com/questions/58630596/c-return-data-differ-formatting-from-t-sql-exec-for-decimal-and-datetime", "title": "C# return data differ formatting from T-SQL exec for decimal and DateTime", "body": "<p>I am using the following code to call a stored procedure to insert data into a DataTable:</p>\n\n<pre><code> DataTable dt = new DataTable();\n\n SqlConnection scConn = new SqlConnection(\"ConnectionString\");\n\n SqlDataAdapter sd = new SqlDataAdapter(\"Store_Procedure_Name\", scConn);\n sd.SelectCommand.CommandType = CommandType.StoredProcedure;\n sd.Fill(dt); \n</code></pre>\n\n<p>Result set execute in through T-SQL is as below :</p>\n\n<pre><code>UserId is int , PurchaseDate is DateTime and Amount is Decimal(20,2)\n\n| UserId | PurchaseDate             | Amount\n| 1      | 2019-10-31 00:00:57.617  | 35.00\n</code></pre>\n\n<p>In some how after C# calling through the code above, I inspect the DataTable of C#, the data is different. </p>\n\n<pre><code>| UserId | PurchaseDate            | Amount\n| 1      | 2019-10-31 00:00:57 SA  | 35,00\n</code></pre>\n\n<p>I have checked both my SQL Server and my local PC region is the same which is United States .</p>\n\n<p>The code is applied in a web application, I have no idea how the SA was appended to the DataTable PurchaseDate as well as why the Amount value from (dot). Become a (comma), I believe it might be the culture problem but I have go through both machine region and culture setting is the same.</p>\n\n<p>Wondering if anyone has been facing the same issue before?</p>\n"}, {"tags": ["c#", ".net", "oledb", "visual-foxpro", "oledbconnection"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 1613037, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57d99abaf2a2675abd2b4c2b60faeb18?s=128&d=identicon&r=PG", "display_name": "Zalerinian", "link": "https://stackoverflow.com/users/1613037/zalerinian"}, "edited": false, "score": 0, "creation_date": 1572470722, "post_id": 58633778, "comment_id": 103574676, "body": "The connection is used to perform updates on the data source as well. Using a data adapter to fill a table here is just an example that would lock the table. It&#39;s not closed in the example because it would be needed again later.  Some queries will be run in exclusive mode, and some in shared. The problem is that opening a table in exclusive mode locks the table until the connection itself is closed, and I was looking for something better than having a dedicated connection for each table I use."}, {"owner": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "reply_to_user": {"reputation": 91, "user_id": 1613037, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57d99abaf2a2675abd2b4c2b60faeb18?s=128&d=identicon&r=PG", "display_name": "Zalerinian", "link": "https://stackoverflow.com/users/1613037/zalerinian"}, "edited": false, "score": 0, "creation_date": 1572476366, "post_id": 58633778, "comment_id": 103576356, "body": "You can update in shared mode. It is perfectly normal that it is locked until the connection is closed."}, {"owner": {"reputation": 91, "user_id": 1613037, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57d99abaf2a2675abd2b4c2b60faeb18?s=128&d=identicon&r=PG", "display_name": "Zalerinian", "link": "https://stackoverflow.com/users/1613037/zalerinian"}, "edited": false, "score": 0, "creation_date": 1572547880, "post_id": 58633778, "comment_id": 103603961, "body": "Shared vs exclusive mode is not my issue. Opening the tables in shared or exclusive mode is based on user input, as is when to close tables so that other processes can use them, so I can&#39;t always be using shared mode. I need something that can close a table regardless of which mode it was opened in. I can&#39;t seem to find one though, so I guess I&#39;m stuck using a lot more connections than I wanted."}, {"owner": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "reply_to_user": {"reputation": 91, "user_id": 1613037, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57d99abaf2a2675abd2b4c2b60faeb18?s=128&d=identicon&r=PG", "display_name": "Zalerinian", "link": "https://stackoverflow.com/users/1613037/zalerinian"}, "edited": false, "score": 1, "creation_date": 1572552367, "post_id": 58633778, "comment_id": 103605874, "body": "I don&#39;t understand your concern of a lot of connections. It is a single connection, open, do your work, close."}], "tags": [], "owner": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "is_accepted": false, "score": 0, "last_activity_date": 1572470270, "creation_date": 1572470270, "answer_id": 58633778, "question_id": 58630572, "link": "https://stackoverflow.com/questions/58630572/how-to-close-a-table-with-the-vfp-ole-db-provider/58633778#58633778", "title": "How to close a table with the VFP OLE DB Provider", "body": "<p>I don't see a point opening a connection exclusively and then using an adapter to fill a table, after which you want to release lock. You don't need a connection in the first place, adapter opens and closes the connection as needed:</p>\n\n<pre><code>DataTable table = new DataTable();\nnew OleDbDataAdapter(\"SELECT * FROM tran\", \n      @\"Provider=vfpoledb;Data Source=J:\\epdata;Deleted=off\")\n  .Fill(table);\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 1613037, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57d99abaf2a2675abd2b4c2b60faeb18?s=128&d=identicon&r=PG", "display_name": "Zalerinian", "link": "https://stackoverflow.com/users/1613037/zalerinian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572470270, "creation_date": 1572455572, "question_id": 58630572, "link": "https://stackoverflow.com/questions/58630572/how-to-close-a-table-with-the-vfp-ole-db-provider", "title": "How to close a table with the VFP OLE DB Provider", "body": "<p>I'm writing some software in C# that will perform queries on Visual FoxPro datafiles over time. I need to be able to close tables, especially those that are opened exclusively (\"Mode=Share Exclusive\" in the Connection String), but the only way I can seem to do that is by closing the entire OleDbConnection.</p>\n\n<p>The VFP OLE DB Provider supports some syntax from VFP itself, but commands that would close a table in standard VFP, such as USE, either do not work, or throw an exception (I can't recall which command threw an exception at the moment).</p>\n\n<p>Currently, each instance of a class has its own OleDbConnection property, so that if I need to, I'm able to close it and release the table it works on. While this works, it's not optimal, and I'd prefer to have 1 connection instance.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// Elsewhere, ideally one connection for the entire process,\n// if I'm able to release locks\npublic OleDbConnection Connection { get; } = new OleDbConnect();\n\n\n\n// ...\n\n\nif(Connection.State == ConnectionState.Closed) {\n    Connection.ConnectionString = \"Provider=vfpoledb.dll;Data Source=J:\\\\epdata\\\\;Mode=Share Exclusive\"\n    Connection.Open();\n}\nOleDbCommand cmd = new OleDbCommand(\"SET DELETED OFF\", Connection);\ncmd.ExecuteNonQuery();\n\ncmd.CommandText = \"SELECT * FROM tran\";\nOleDbDataAdapter adap = new OleDbDataAdapter(cmd);\nDataTable table = new DataTable();\nadap.Fill(table);\n\n\n// Something here to release the lock on the tran table\n\n</code></pre>\n\n<p>This works to the point where it will select the data and lock the table for exclusive use by the current OleDbConnection, but I cannot find any way to release that exclusive lock without closing the entire connection, which I'm trying to avoid having to do.</p>\n"}, {"tags": ["c#", "operator-overloading"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1572456561, "post_id": 58630571, "comment_id": 103568756, "body": "Hi @Wurfv_, can you please edit your question and add an example of the intended usage of this operator? Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": true, "score": 1, "last_activity_date": 1582556466, "last_edit_date": 1582556466, "creation_date": 1572456307, "answer_id": 58630755, "question_id": 58630571, "link": "https://stackoverflow.com/questions/58630571/adding-a-number-to-a-variable-with-overloaded-operator/58630755#58630755", "title": "Adding a number to a variable with overloaded operator", "body": "<p>Don't forget that this does not alter the first <code>Kandyat</code>:</p>\n\n<pre><code>var k = new Kandyat(...);\nk.liczbaGlosow = 1\nvar l = k + 2;\n\n//  k.liczbaGlosow is still 1\n//  l is a new, different instance of Kandyat, and l.liczbaGlosow == 3\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 11590629, "user_type": "registered", "profile_image": "https://graph.facebook.com/2549750505058133/picture?type=large", "display_name": "Wurfv_", "link": "https://stackoverflow.com/users/11590629/wurfv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 58630755, "answer_count": 1, "score": 0, "last_activity_date": 1582556466, "creation_date": 1572455568, "question_id": 58630571, "link": "https://stackoverflow.com/questions/58630571/adding-a-number-to-a-variable-with-overloaded-operator", "title": "Adding a number to a variable with overloaded operator", "body": "<p>In main, I need to add the int dodatkowaWartosc to the variable liczbaGlosow after showing all the parameters of Kandydat, so first it shows some amount of liczbaGlosow and then it shows the new value with added dodatkowaWartosc, but I can't figure out how to do that with overloading operators, and I have to do that with them.</p>\n\n<pre><code>class Kandydat\n    {\n        private string imie, nazwisko, miejscowosc, wyksztalcenie;\n        public int liczbaGlosow { get; set; }\n\n        public Kandydat(string imie, string nazwisko, string miejscowosc, string wyksztalcenie, int liczbaGlosow)\n        {\n            this.imie = imie;\n            this.nazwisko = nazwisko;\n            this.miejscowosc = miejscowosc;\n            this.wyksztalcenie = wyksztalcenie;\n            this.liczbaGlosow = liczbaGlosow;         \n        }\n\n        public void PokazKandydata()\n        {\n            Console.WriteLine(\"{0} {1} z {2}, wykszta\u0142cenie {3}. Liczba g\u0142os\u00f3w: {4}.\", imie, nazwisko, miejscowosc, wyksztalcenie, liczbaGlosow); \n        }\n\n\n        public static Kandydat operator +(Kandydat liczbaGlosow, int dodatkowaWartosc)\n        {\n            return new Kandydat.liczbaGlosow + dodatkowaWartosc;\n        }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1572455015, "post_id": 58630311, "comment_id": 103568020, "body": "The question&#39;s code doesn&#39;t contain any interpolated strings or String.Format calls. Did you forget to add the <code>$</code> prefix perhaps ?"}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1572455522, "post_id": 58630311, "comment_id": 103568262, "body": "You&#39;re missing a <code>$</code> before the string and <code>&#39;</code> in <code>&quot;xyz.com&#47;zexample&#47;set(person=&#39;{inputs[\\&quot;name\\&quot;]})&quot;</code> at the end of the person assignment, same with other string as well. It should be <code>&quot;xyz.com&#47;zexample&#47;set(person=&#39;{inputs[\\&quot;name\\&quot;]}&#39;)&quot;</code>"}, {"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "reply_to_user": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1572456008, "post_id": 58630311, "comment_id": 103568495, "body": "@&#199;&#246;\u0111\u011bx\u011b\u0155, <code>inputs[\\&quot;name\\&quot;]</code> won&#39;t even compile"}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "reply_to_user": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1572456063, "post_id": 58630311, "comment_id": 103568522, "body": "@Matt.G good catch, I didn&#39;t see that TBH and it&#39;s such an obvious issue as well."}, {"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 1, "creation_date": 1572456302, "post_id": 58630311, "comment_id": 103568618, "body": "@Vignesh, it is mentioned <code>i am getting that string in run time</code> in the post. is the string value stored in a variable? assuming the string we get in runtime is stored in variable named <code>key</code>, you could try <code>var url = $&quot;xyz.com&#47;zexample&#47;set(person=&#39;{inputs[key]})&quot;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": true, "score": 0, "last_activity_date": 1582556451, "last_edit_date": 1582556451, "creation_date": 1572458585, "answer_id": 58631316, "question_id": 58630311, "link": "https://stackoverflow.com/questions/58630311/string-interpolation-into-a-variable-from-json-in-c/58631316#58631316", "title": "String interpolation into a variable from JSON in C#", "body": "<p>It looks like you're getting your URL strings at runtime, so string interpolation won't work. They're coming with the interpolations indicated by <code>{inputs[\"name\"]}</code> rather than <code>{0}</code>, <code>{1}</code>, etc., so never mind String.Format. </p>\n"}], "owner": {"reputation": 41, "user_id": 11594416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33895c331ae0d7f698ed2d5fbd5e8157?s=128&d=identicon&r=PG&f=1", "display_name": "Vignesh", "link": "https://stackoverflow.com/users/11594416/vignesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 58631316, "answer_count": 1, "score": -1, "last_activity_date": 1582556451, "creation_date": 1572454533, "question_id": 58630311, "link": "https://stackoverflow.com/questions/58630311/string-interpolation-into-a-variable-from-json-in-c", "title": "String interpolation into a variable from JSON in C#", "body": "<p>I am working on a C# application where dynamically i get strings in run time with variable names inside it. The variable names are dictionary with key parameter. The dictionary is also getting filled dynamically. </p>\n\n<p>I tried using string interpolation ($) and string.Format but no luck since i am getting that string in run time and also i don't have the number of variables and the names it will have to use format.\nPFB the sample scenario.</p>\n\n<pre><code>Dictionary&lt;string, string&gt; inputs = new Dictionary&lt;string, string&gt;();\ninputs[\"name\"] = \"John\";\ninputs[\"address\"] = \"NA\"; //the key names are determined in runtime\nstring url = \"xyz.com/zexample/set(person='{inputs[\\\"name\\\"]})\"; //or\nurl = \"xy.co/set(person='{inputs[\\\"name\\\"]},foo='{inputs[\\\"address\\\"]}')\" \n</code></pre>\n\n<p>Please help me with some solution for this scenario, i need to dynamically replace the {} values with the exact values from dictionary. Also i mentioned the keys in dictionary and the string with {} variables are generated in run time and will be different.</p>\n"}, {"tags": ["c#", "mocking", "ilogger"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7768453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32268845de92c32114e8e27239cde99f?s=128&d=identicon&r=PG&f=1", "display_name": "steeee", "link": "https://stackoverflow.com/users/7768453/steeee"}, "edited": false, "score": 0, "creation_date": 1572507171, "post_id": 58630804, "comment_id": 103583231, "body": "Thank you very much for your advise.  However I tried this and now I&#39;m getting the following error within the MockLoggerFactory method:   System.NotSupportedException: &#39;Invalid setup on an extension method: log =&gt; log.LogError(It.IsAny&lt;String&gt;(), new[] {  })&#39;  It crashes on this line:   _logger.Setup(log =&gt; log.LogError(It.IsAny&lt;string&gt;())).Verifiable();"}, {"owner": {"reputation": 4569, "user_id": 1344058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3415294e59071c4e6d06c7cb9d21e3d?s=128&d=identicon&r=PG", "display_name": "germi", "link": "https://stackoverflow.com/users/1344058/germi"}, "reply_to_user": {"reputation": 11, "user_id": 7768453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32268845de92c32114e8e27239cde99f?s=128&d=identicon&r=PG&f=1", "display_name": "steeee", "link": "https://stackoverflow.com/users/7768453/steeee"}, "edited": false, "score": 0, "creation_date": 1572508779, "post_id": 58630804, "comment_id": 103583851, "body": "Ah right, the <code>ILogger</code> stuff is almost exlusively done with extension methods. I&#39;ll update my answer."}, {"owner": {"reputation": 11, "user_id": 7768453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32268845de92c32114e8e27239cde99f?s=128&d=identicon&r=PG&f=1", "display_name": "steeee", "link": "https://stackoverflow.com/users/7768453/steeee"}, "edited": false, "score": 0, "creation_date": 1572516843, "post_id": 58630804, "comment_id": 103587592, "body": "I went with your FakeLogger solution because I cant use IsAnyType on our version of Moq (4.8.1).  And there are no plans to upgrade to 13.1 at the moment. The FakeLogger solution works a treat!!  Thank you so much you&#39;re a star!"}, {"owner": {"reputation": 4569, "user_id": 1344058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3415294e59071c4e6d06c7cb9d21e3d?s=128&d=identicon&r=PG", "display_name": "germi", "link": "https://stackoverflow.com/users/1344058/germi"}, "reply_to_user": {"reputation": 11, "user_id": 7768453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32268845de92c32114e8e27239cde99f?s=128&d=identicon&r=PG&f=1", "display_name": "steeee", "link": "https://stackoverflow.com/users/7768453/steeee"}, "edited": false, "score": 0, "creation_date": 1572539998, "post_id": 58630804, "comment_id": 103600488, "body": "If this answered your question, consider upvoting / accepting it to mark your question solved."}], "tags": [], "owner": {"reputation": 4569, "user_id": 1344058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3415294e59071c4e6d06c7cb9d21e3d?s=128&d=identicon&r=PG", "display_name": "germi", "link": "https://stackoverflow.com/users/1344058/germi"}, "is_accepted": false, "score": 1, "last_activity_date": 1572509784, "last_edit_date": 1572509784, "creation_date": 1572456505, "answer_id": 58630804, "question_id": 58630307, "link": "https://stackoverflow.com/questions/58630307/mocking-and-testing-the-logerror-message-using-moq-and-xunit/58630804#58630804", "title": "Mocking and testing the LogError message using Moq and xUnit", "body": "<p>You could do something like this </p>\n\n<p>(<em>note: this does not work in this specific case because <code>LogError</code> is an extension method, see below for an update</em>):</p>\n\n<pre><code>Mock&lt;ILogger&gt; _logger; // declare it somewhere where your test can access it\n\n[Fact]\npublic void TestLogErrorMessage()\n{\n    MyClass myClass = new MyClass(MockLoggerFactory().Object);\n\n    var result = myClass.Mymethod(\"a\")\n\n    _logger.Verify();\n}\n\n\nprivate Mock&lt;ILoggerFactory&gt; MockLoggerFactory()\n{\n    _logger = new Mock&lt;ILogger&gt;();\n    _logger.Setup(log =&gt; log.LogError(It.IsAny&lt;string&gt;())).Verifiable();\n    Mock&lt;ILoggerFactory&gt; mockLoggerFactory = new Mock&lt;ILoggerFactory&gt;(MockBehavior.Default);\n    mockLoggerFactory.Setup(x =&gt; x.CreateLogger(It.IsAny&lt;string&gt;()))\n                           .Returns(_logger.Object);\n\n    return mockLoggerFactory;\n} \n</code></pre>\n\n<p>The key thing to note is the call to <code>Verifiable()</code> after setting up the <code>ILogger</code> mock. You can read a bit more about <code>Verifiable()</code> in <a href=\"https://stackoverflow.com/q/980554/1344058\">this SO question</a>. After your test ran, you can check whether the method was called by calling <code>.Verify()</code> on the mock.</p>\n\n<p>Depending on your needs, you could set this up in the constructor of your test class (if you need it for all/most tests) or directly inside your test method. You could also return it alongside the <code>ILoggerFactory</code>. The point is to hold onto the logger so you can verify against it that the method was called.</p>\n\n<p>For your specific case (trying to verify calls to <code>ILogger.LogError</code>) you must not mock <code>LogError</code>, but the underlying method <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.logging.ilogger.log?view=dotnet-plat-ext-3.0#Microsoft_Extensions_Logging_ILogger_Log__1_Microsoft_Extensions_Logging_LogLevel_Microsoft_Extensions_Logging_EventId___0_System_Exception_System_Func___0_System_Exception_System_String__\" rel=\"nofollow noreferrer\"><code>ILogger.Log</code></a>. That could look like this:</p>\n\n<pre><code>var formatter = new Func&lt;It.IsAnyType, Exception, string&gt;((a, b) =&gt; \"\");\nm.Setup(x =&gt; x.Log&lt;It.IsAnyType&gt;(LogLevel.Error, \n                                 It.IsAny&lt;EventId&gt;(),\n                                 It.IsAny&lt;It.IsAnyType&gt;(),\n                                 It.IsAny&lt;Exception&gt;(), \n                                 formatter))\n  .Verifiable();\n</code></pre>\n\n<p>Another alternative would be to make a fake implementation of <code>ILogger</code> and return that from the <code>Mock&lt;ILoggerFactory&gt;</code>:</p>\n\n<pre><code>mockLoggerFactory.Setup(_ =&gt; _.CreateLogger(It.IsAny&lt;string&gt;())\n                 .Returns(new FakeLogger());\n\npublic class FakeLogger : ILogger\n{\n    public static bool LogErrorCalled { get; set; }\n\n    public IDisposable BeginScope&lt;TState&gt;(TState state)\n    {\n        throw new NotImplementedException();\n    }\n\n    public bool IsEnabled(LogLevel logLevel) =&gt; true;\n\n    public void Log&lt;TState&gt;(LogLevel logLevel, EventId eventId, TState state, Exception exception, Func&lt;TState, Exception, string&gt; formatter)\n    {\n        if(logLevel == LogLevel.Error)\n        {\n            LogErrorCalled = true;\n        }\n    }\n}\n</code></pre>\n\n<p>And then after your test you can check whether <code>FakeLogger.LogErrorCalled</code> is <code>true</code>. This is simplified for your specific test - you can get more elaborate than this of course.</p>\n"}], "owner": {"reputation": 11, "user_id": 7768453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32268845de92c32114e8e27239cde99f?s=128&d=identicon&r=PG&f=1", "display_name": "steeee", "link": "https://stackoverflow.com/users/7768453/steeee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 950, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572509784, "creation_date": 1572454509, "last_edit_date": 1572455057, "question_id": 58630307, "link": "https://stackoverflow.com/questions/58630307/mocking-and-testing-the-logerror-message-using-moq-and-xunit", "title": "Mocking and testing the LogError message using Moq and xUnit", "body": "<p>I have a class level ILogger which is set up with the ILoggerFactory in the constructor.  The logger is then used within a method within that class and this works perfectly. </p>\n\n<p>I am struggling on how to Mock the ILogger and ILoggerFactory so I can unit test the LogError message.  Can anyone show me an example of this?</p>\n\n<p>I am using xUnit and Microsoft.Extentions.Logging for the loggin</p>\n\n<pre><code>//This is my unit test project\n[Fact]\npublic void TestLogErrorMessage()\n{\nMyClass myClass = new MyClass  (MockLoggerFactory().Object);\n\n    var result = myClass.Mymethod(\"a\")\n\n    //How do I test the LogError message???\n}\n\n\n//Not sure if this is correct\nprivate Mock&lt;ILoggerFactory&gt; MockLoggerFactory()\n{\n           Mock&lt;ILoggerFactory&gt; mockLoggerFactory = new \nMock&lt;ILoggerFactory&gt;(MockBehavior.Default);\n    mockLoggerFactory.Setup(x =&gt; x.CreateLogger(It.IsAny&lt;string&gt;()))\n                           .Returns(MockLogger().Object);\n\n        return mockLoggerFactory;\n}\n\nprivate Mock&lt;ILogger&gt; MockLogger()\n{        \n       var logger = new Mock&lt;ILogger&gt;();\n       return logger;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>//This is the class/method i need to test\nprivate readonly ILogger logger;\n\npublic MyClass(ILoggerFactory loggerFactory)\n{\n       if (loggerFactory != null)\n       {\n           this.logger = loggerFactory.CreateLogger&lt;MyClass&gt;();\n       }\n}\n\n\npublic string Mymethod(string msg)\n{\n       if(msg = \"a\")\n       {\n           this.logger.LogError($\"error\");\n       }\n\n       return \"a string\";\n }\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1572455806, "post_id": 58630286, "comment_id": 103568400, "body": "Might be better off with a <code>Canvas</code> and absolute positioning.  What you didn&#39;t explain is how and why you put things where you do."}, {"owner": {"reputation": 23, "user_id": 12298615, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCc7H0a6m_Y35gXePlR4xW9Pn0omsPmgKQddb9D=k-s128", "display_name": "Asdolg", "link": "https://stackoverflow.com/users/12298615/asdolg"}, "reply_to_user": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1572456530, "post_id": 58630286, "comment_id": 103568740, "body": "@DonBoitnott Ok, will try the Canvas. Not sure what do you mean by how and why things are placed like that though. I&#39;m trying to place organs images so they match a healthy humanoid, but can&#39;t understand how to make images sizes relative to... anything, as they are set as pure numbers in XAML."}, {"owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1572459896, "post_id": 58630286, "comment_id": 103570272, "body": "What I meant by that is whether you are allowing things to come and go based on user selection.  Also, since scaling seems to be an issue, how will you decide where a heart goes, for instance?  Not relatively, I mean specifically.  As the base image scales, the coordinates of every part change, along with their scale.  Unless I&#39;m reading more into this than you mean to say, there&#39;s a lot of complex positioning to work out."}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1572511622, "post_id": 58630286, "comment_id": 103584949, "body": "Wouldn&#39;t it be a lot simpler if these were all pictures of the same size, and transparent where there&#39;s no organ? You could just overlay them then. It seems strange that body and limbs are separate pictures."}, {"owner": {"reputation": 23, "user_id": 12298615, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCc7H0a6m_Y35gXePlR4xW9Pn0omsPmgKQddb9D=k-s128", "display_name": "Asdolg", "link": "https://stackoverflow.com/users/12298615/asdolg"}, "reply_to_user": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1572528340, "post_id": 58630286, "comment_id": 103593962, "body": "@Andy The program is medical simulator. The user will be able to eject organs and replace them with some augments. E.g. it will be a normal practice to cut off someone&#39;s leg and install prosthesis instead, or make an iron heart <i>because why not</i>. So it&#39;s obligatory that everything is a separate picture."}], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 634805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiUeA.jpg?s=128&g=1", "display_name": "Smolakian", "link": "https://stackoverflow.com/users/634805/smolakian"}, "is_accepted": false, "score": 1, "last_activity_date": 1572457427, "last_edit_date": 1572457427, "creation_date": 1572456803, "answer_id": 58630868, "question_id": 58630286, "link": "https://stackoverflow.com/questions/58630286/how-to-set-proper-layout-for-a-set-of-images-in-c-wpf/58630868#58630868", "title": "How to set proper layout for a set of Images in C# WPF?", "body": "<p>I would <em>definitely</em> use a ListView. Each of the images would be in a ListView item. The Listview ItemsPanel (the container the ListView uses to store its elements) would be a canvas. Then each of the listview items would contain an attached property for the canvas describing its placement.</p>\n\n<p>Each image would be an instance of a class (ViewModel) implementing properties that you can bind to. Those properties would be how you describe the image location relative to each other or the canvas.</p>\n\n<p>As far as your other problems relating to relative sizing and resolutions go. The solutions are really simple!</p>\n\n<p>-Once you have your ListView done, or have this wrapped up in a UserControl, or whatever, Just wrap it in a ViewBox. XAML will take care of resizing all children elements for you.</p>\n\n<p>-In terms or relative sizing and placement, make sure that your XAML Image element has Stretch set to \"Uniform\" (so that the aspect ratio for each image is always preserved). Then in code, for each body part you only need to set one of the dimensions (width or height) to a relative size compared to your canvas, assuming the body picture is the largest image and is the one dictating the canvas size.</p>\n\n<p>Here's an example of how you could create your ListView:</p>\n\n<pre><code>&lt;ListView \nName=\"BodyListView\"\nItemsSource=\"{Binding BodyParts}\"\nSelectionMode=\"Single\"\nItemContainerStyle=\"{DynamicResource SelectBodyPartListViewItem}\"\nScrollViewer.HorizontalScrollBarVisibility=\"Disabled\"\nScrollViewer.VerticalScrollBarVisibility=\"Disabled\"&gt;\n\n     &lt;ListView.ItemsPanel&gt;\n          &lt;ItemsPanelTemplate&gt;\n               &lt;Canvas/&gt;\n          &lt;/ItemsPanelTemplate&gt;\n     &lt;/ListView.ItemsPanel&gt;\n\n     &lt;ListView.ItemTemplate&gt;\n          &lt;DataTemplate&gt;\n               &lt;Grid &gt;\n               &lt;Image Source=\"{Binding Image}\" Canvas.Top=\"{Binding CanvasTop}\" \n                    Canvas.Right=\"{Binding CanvasRight}\" Height=\"{Binding ImgHeight}\" Stretch=\"Uniform\"/&gt;\n\n                &lt;/Grid&gt;\n          &lt;/DataTemplate&gt;\n      &lt;/ListView.ItemTemplate&gt;\n&lt;/ListView&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 12298615, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCc7H0a6m_Y35gXePlR4xW9Pn0omsPmgKQddb9D=k-s128", "display_name": "Asdolg", "link": "https://stackoverflow.com/users/12298615/asdolg"}, "edited": false, "score": 0, "creation_date": 1572534677, "post_id": 58631164, "comment_id": 103597679, "body": "Amazing, that worked the best, thanks! The only thing to mention - I had to set both Height and Width for Canvas, otherwise it just collapses to 0 and no pictures are visible."}, {"owner": {"reputation": 166, "user_id": 634805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiUeA.jpg?s=128&g=1", "display_name": "Smolakian", "link": "https://stackoverflow.com/users/634805/smolakian"}, "reply_to_user": {"reputation": 23, "user_id": 12298615, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCc7H0a6m_Y35gXePlR4xW9Pn0omsPmgKQddb9D=k-s128", "display_name": "Asdolg", "link": "https://stackoverflow.com/users/12298615/asdolg"}, "edited": false, "score": 1, "creation_date": 1572540568, "post_id": 58631164, "comment_id": 103600792, "body": "Great! Yeah, you&#39;re right. I updated my code so that doesn&#39;t throw anyone else off."}], "tags": [], "owner": {"reputation": 166, "user_id": 634805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiUeA.jpg?s=128&g=1", "display_name": "Smolakian", "link": "https://stackoverflow.com/users/634805/smolakian"}, "is_accepted": true, "score": 1, "last_activity_date": 1572540521, "last_edit_date": 1572540521, "creation_date": 1572457960, "answer_id": 58631164, "question_id": 58630286, "link": "https://stackoverflow.com/questions/58630286/how-to-set-proper-layout-for-a-set-of-images-in-c-wpf/58631164#58631164", "title": "How to set proper layout for a set of Images in C# WPF?", "body": "<p>Alternatively, If you didn't want to take the ViewModel + ListView approach I mentioned in another answer. You could just do this:</p>\n\n<pre><code>&lt;TabItem x:Name=\"tabPatientView\" Header=\"Patient View\"&gt;\n    &lt;ViewBox&gt;\n        &lt;Canvas Height=\"100\" Width=\"100\"&gt;\n            &lt;Image x:Name=\"imgPatientViewHead\" Canvas.Top=\"Y\" Canvas.Right=\"X\" Height=\"26\" Stretch=\"Uniform\" Source=\"Resources/Bodies/Human/Male/Head.png\"/&gt;\n            ...\n            &lt;Image x:Name=\"imgPatientViewSpleen\" Canvas.Top=\"Y\" Canvas.Right=\"X\"  Height=\"26\" Stretch=\"Uniform\" Source=\"Resources/Bodies/Human/Male/Spleen.png\"/&gt;\n        &lt;/Canvas&gt;\n    &lt;/ViewBox&gt;\n&lt;/TabItem&gt;\n</code></pre>\n\n<p>Note: If you explicitly set the height of the canvas then you will make each image height relative to that set height. And obviously the values for Canvas.Top and Canvas.Right need to be numbers not X and Y...</p>\n"}, {"tags": [], "owner": {"reputation": 3042, "user_id": 1657490, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8b9a3716dfda7d4c7830757963f42adb?s=128&d=identicon&r=PG", "display_name": "bzuillsmith", "link": "https://stackoverflow.com/users/1657490/bzuillsmith"}, "is_accepted": false, "score": 1, "last_activity_date": 1572458209, "creation_date": 1572458209, "answer_id": 58631225, "question_id": 58630286, "link": "https://stackoverflow.com/questions/58630286/how-to-set-proper-layout-for-a-set-of-images-in-c-wpf/58631225#58631225", "title": "How to set proper layout for a set of Images in C# WPF?", "body": "<p>You should use the Canvas control. It allows you to enter specific coordinates for each image.</p>\n\n<p>If you need to resize images, you can set an explicit width or height and it will resize for you (see <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wpf/controls/how-to-use-the-image-element\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/framework/wpf/controls/how-to-use-the-image-element</a>). </p>\n\n<p>You also have the option of using render transforms <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wpf/graphics-multimedia/transforms-overview\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/framework/wpf/graphics-multimedia/transforms-overview</a></p>\n\n<p>Then if you need the entire Canvas to scale (for a resized window or parent control for example) then you can put the whole thing in a ViewBox control.</p>\n\n<p>One problem with images is they will get blurry as they scale up in a ViewBox (or in anything really). If you have the original images in a Vector format, you could convert them to Xaml using Inkscape or a similar program. That will prevent the pixelation and may even bring the images sizes down. It may not matter in your case though.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4475880, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-umSLxO6HOjs/AAAAAAAAAAI/AAAAAAAAAUs/5Dh-GjPbcKI/photo.jpg?sz=128", "display_name": "Efrain Hernandez", "link": "https://stackoverflow.com/users/4475880/efrain-hernandez"}, "is_accepted": false, "score": 1, "last_activity_date": 1572458858, "creation_date": 1572458858, "answer_id": 58631376, "question_id": 58630286, "link": "https://stackoverflow.com/questions/58630286/how-to-set-proper-layout-for-a-set-of-images-in-c-wpf/58631376#58631376", "title": "How to set proper layout for a set of Images in C# WPF?", "body": "<p>Wraping all the Image elements within a Canvas element and then within a ViewBox element might help you. </p>\n\n<p>The viewbox contained in a Grid element will resize when the parent window resizes and the inner image will resize to the viewbox scale.</p>\n\n<p>For example:</p>\n\n<pre><code> &lt;Viewbox x:Name=\"mViewBox\"  Stretch=\"Uniform\" &gt;\n    &lt;Canvas Width=\"500\" Height=\"500\"&gt;\n                &lt;Image x:Name=\"imgPatientViewHead\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Margin=\"682,45,0,0\" VerticalAlignment=\"Top\" Width=\"100\" Source=\"Resources/Bodies/Human/Male/Head.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewBody\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"234\" Margin=\"639,132,0,0\" VerticalAlignment=\"Top\" Width=\"158\" Source=\"Resources/Bodies/Human/Male/Body.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewArmRight\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"86\" Margin=\"402,105,0,0\" VerticalAlignment=\"Top\" Width=\"252\" Source=\"Resources/Bodies/Human/Male/RightArm.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewArmLeft\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"86\" Margin=\"812,105,0,0\" VerticalAlignment=\"Top\" Width=\"252\" Source=\"Resources/Bodies/Human/Male/LeftArm.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewLegRight\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"216\" Margin=\"645,339,0,0\" VerticalAlignment=\"Top\" Width=\"85\" Source=\"Resources/Bodies/Human/Male/RightLeg.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewLegLeft\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"216\" Margin=\"730,339,0,0\" VerticalAlignment=\"Top\" Width=\"92\" Source=\"Resources/Bodies/Human/Male/LeftLeg.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewBrain\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"40\" Margin=\"694,45,0,0\" VerticalAlignment=\"Top\" Width=\"78\" Source=\"Resources/Bodies/Human/Male/Brain.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewHeart\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"59\" Margin=\"740,132,0,0\" VerticalAlignment=\"Top\" Width=\"67\" Source=\"Resources/Bodies/Human/Male/Heart.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewBreath\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"99\" Margin=\"671,120,0,0\" VerticalAlignment=\"Top\" Width=\"126\" Source=\"Resources/Bodies/Human/Male/Breath.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewLiver\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"39\" Margin=\"659,224,0,0\" VerticalAlignment=\"Top\" Width=\"71\" Source=\"Resources/Bodies/Human/Male/Liver.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewKidneys\" HorizontalAlignment=\"Left\" Height=\"55\" VerticalAlignment=\"Top\" Width=\"148\" Margin=\"659,279,0,0\" Grid.Column=\"1\" Source=\"Resources/Bodies/Human/Male/Kidneys.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewStomach\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"41\" Margin=\"701,233,0,0\" VerticalAlignment=\"Top\" Width=\"71\" Source=\"Resources/Bodies/Human/Male/Stomach.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewIntestines\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"57\" Margin=\"682,263,0,0\" VerticalAlignment=\"Top\" Width=\"68\" Source=\"Resources/Bodies/Human/Male/Intestines.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewBladder\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"33\" Margin=\"716,292,0,0\" VerticalAlignment=\"Top\" Width=\"37\" Source=\"Resources/Bodies/Human/Male/Bladder.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewReproduction\" HorizontalAlignment=\"Left\" Height=\"33\" VerticalAlignment=\"Top\" Width=\"37\" Margin=\"716,325,0,0\" Grid.Column=\"1\" Source=\"Resources/Bodies/Human/Male/Reproduction.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewSpleen\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"26\" Margin=\"781,205,0,0\" VerticalAlignment=\"Top\" Width=\"25\" Source=\"Resources/Bodies/Human/Male/Spleen.png\"/&gt;\n    &lt;/Canvas&gt;\n&lt;/Viewbox&gt;\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12298615, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCc7H0a6m_Y35gXePlR4xW9Pn0omsPmgKQddb9D=k-s128", "display_name": "Asdolg", "link": "https://stackoverflow.com/users/12298615/asdolg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 58631164, "answer_count": 4, "score": 2, "last_activity_date": 1572540521, "creation_date": 1572454419, "question_id": 58630286, "link": "https://stackoverflow.com/questions/58630286/how-to-set-proper-layout-for-a-set-of-images-in-c-wpf", "title": "How to set proper layout for a set of Images in C# WPF?", "body": "<h1>Which problems I had encountered</h1>\n\n<p>I'm trying to make a proper layout for a set of Image objects in WPF constructor.<br></p>\n\n<p>What are my problems now:<br>\n1) I can't properly align Image elements. As you can see from the image, stuff is misplaced all over. I think I can place everything where I need to after some time, but here comes problem number 2.<br>\n2) If I will try to resize the window (the application will work fullscreen, but I need it to work on any resolution) the elements won't resize. I failed to find if they can be resized without making code specially for it, since Height and Width are defined in XAML.</p>\n\n<h1>What I am trying to do</h1>\n\n<p>Let me explain what I'm trying to achieve in case I'm using entirely wrong approach.</p>\n\n<p>In the program I should display a person and his organs. The images may vary, but images of the same type have same width and height. For displaying I'm using a set of Image objects. ImageSource property is set programmatically depending on what I need to display. Here is the image to understand clearer. <br>\n<a href=\"https://i.stack.imgur.com/l2VX9.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/l2VX9.png</a></p>\n\n<h1>How XAML looks like</h1>\n\n<p>Here is what I'm using in a picture above.</p>\n\n<pre><code>&lt;!-- View Patient --&gt;\n        &lt;TabItem x:Name=\"tabPatientView\" Header=\"Patient View\" &gt;\n            &lt;Grid Background=\"#FFE5E5E5\"&gt;\n                &lt;Grid.ColumnDefinitions&gt;\n                    &lt;ColumnDefinition Width=\"auto\"/&gt;\n                    &lt;ColumnDefinition/&gt;\n                &lt;/Grid.ColumnDefinitions&gt;\n                &lt;Button x:Name=\"btnViewPatientBack\" Content=\"\u041d\u0430\u0437\u0430\u0434\" Grid.Column=\"0\" Click=\"BtnNavMenuPatients_Click\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewHead\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Margin=\"682,45,0,0\" VerticalAlignment=\"Top\" Width=\"100\" Source=\"Resources/Bodies/Human/Male/Head.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewBody\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"234\" Margin=\"639,132,0,0\" VerticalAlignment=\"Top\" Width=\"158\" Source=\"Resources/Bodies/Human/Male/Body.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewArmRight\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"86\" Margin=\"402,105,0,0\" VerticalAlignment=\"Top\" Width=\"252\" Source=\"Resources/Bodies/Human/Male/RightArm.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewArmLeft\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"86\" Margin=\"812,105,0,0\" VerticalAlignment=\"Top\" Width=\"252\" Source=\"Resources/Bodies/Human/Male/LeftArm.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewLegRight\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"216\" Margin=\"645,339,0,0\" VerticalAlignment=\"Top\" Width=\"85\" Source=\"Resources/Bodies/Human/Male/RightLeg.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewLegLeft\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"216\" Margin=\"730,339,0,0\" VerticalAlignment=\"Top\" Width=\"92\" Source=\"Resources/Bodies/Human/Male/LeftLeg.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewBrain\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"40\" Margin=\"694,45,0,0\" VerticalAlignment=\"Top\" Width=\"78\" Source=\"Resources/Bodies/Human/Male/Brain.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewHeart\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"59\" Margin=\"740,132,0,0\" VerticalAlignment=\"Top\" Width=\"67\" Source=\"Resources/Bodies/Human/Male/Heart.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewBreath\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"99\" Margin=\"671,120,0,0\" VerticalAlignment=\"Top\" Width=\"126\" Source=\"Resources/Bodies/Human/Male/Breath.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewLiver\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"39\" Margin=\"659,224,0,0\" VerticalAlignment=\"Top\" Width=\"71\" Source=\"Resources/Bodies/Human/Male/Liver.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewKidneys\" HorizontalAlignment=\"Left\" Height=\"55\" VerticalAlignment=\"Top\" Width=\"148\" Margin=\"659,279,0,0\" Grid.Column=\"1\" Source=\"Resources/Bodies/Human/Male/Kidneys.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewStomach\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"41\" Margin=\"701,233,0,0\" VerticalAlignment=\"Top\" Width=\"71\" Source=\"Resources/Bodies/Human/Male/Stomach.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewIntestines\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"57\" Margin=\"682,263,0,0\" VerticalAlignment=\"Top\" Width=\"68\" Source=\"Resources/Bodies/Human/Male/Intestines.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewBladder\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"33\" Margin=\"716,292,0,0\" VerticalAlignment=\"Top\" Width=\"37\" Source=\"Resources/Bodies/Human/Male/Bladder.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewReproduction\" HorizontalAlignment=\"Left\" Height=\"33\" VerticalAlignment=\"Top\" Width=\"37\" Margin=\"716,325,0,0\" Grid.Column=\"1\" Source=\"Resources/Bodies/Human/Male/Reproduction.png\"/&gt;\n                &lt;Image x:Name=\"imgPatientViewSpleen\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"26\" Margin=\"781,205,0,0\" VerticalAlignment=\"Top\" Width=\"25\" Source=\"Resources/Bodies/Human/Male/Spleen.png\"/&gt;\n            &lt;/Grid&gt;\n        &lt;/TabItem&gt;\n</code></pre>\n\n<p>Is there any way to make that thing easier? I really think that I'm doing many unnecessary work there. Maybe there is some control element for such case. Can't say that I'm familar with WPF yet.</p>\n"}, {"tags": ["c#", "unity3d", "delegates", "closures"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1572454578, "post_id": 58630269, "comment_id": 103567777, "body": "You&#39;re adding <code>numberOfStages</code> listeners to a single <code>stage</code> <code>Button</code>?"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 1, "creation_date": 1572454792, "post_id": 58630269, "comment_id": 103567893, "body": "Sounds like a closure problem, but the code you&#39;ve provided doesn&#39;t like like it should happen. (You shouldn&#39;t need <code>m</code> or <code>n</code>, either: <code>j</code> is already in local scope)."}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1572454840, "post_id": 58630269, "comment_id": 103567922, "body": "@Ruzihm I suspect that <code>stage</code> is an instantiated object, but yes, we can&#39;t see where it was declared."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1572456126, "post_id": 58630269, "comment_id": 103568552, "body": "Please include enough code to produce a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Voting to close until then."}, {"owner": {"reputation": 149, "user_id": 10233016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8457aae9a879a015d1bc667b705615f?s=128&d=identicon&r=PG&f=1", "display_name": "Terry D", "link": "https://stackoverflow.com/users/10233016/terry-d"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1572538137, "post_id": 58630269, "comment_id": 103599539, "body": "@Ruzihm , N stages , N-stage-buttons , going to each stages!"}, {"owner": {"reputation": 149, "user_id": 10233016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8457aae9a879a015d1bc667b705615f?s=128&d=identicon&r=PG&f=1", "display_name": "Terry D", "link": "https://stackoverflow.com/users/10233016/terry-d"}, "reply_to_user": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1572538279, "post_id": 58630269, "comment_id": 103599615, "body": "@Draco18s , sorry , i missed it ! &quot;stage&quot; is cloned gameObject in each loop"}], "owner": {"reputation": 149, "user_id": 10233016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8457aae9a879a015d1bc667b705615f?s=128&d=identicon&r=PG&f=1", "display_name": "Terry D", "link": "https://stackoverflow.com/users/10233016/terry-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1592379885, "creation_date": 1572454359, "last_edit_date": 1592379885, "question_id": 58630269, "link": "https://stackoverflow.com/questions/58630269/unity-c-delegate-getting-local-parameter-wrong", "title": "unity c# delegate getting local parameter wrong", "body": "<p><strong>Update :</strong></p>\n\n<p><strong>The problem was not relevant to this question, but the transparent triggering area of UI Buttons overlapped. The question itself should be closed.</strong></p>\n\n<p>A <code>for</code> loop add N -on click listener to some buttons.</p>\n\n<p>When clicked , the param expected to be 'n' for example, but sometimes become 'n+1'.</p>\n\n<p>In other words, it is expected when button number 'n' is clicked, 'n' is passed as param to the delegate. But actually it become 'n+1' passed as param sometimes.</p>\n\n<p>I heard that the anonymous function should copy the param to a local variable.\nI have done it all the way to the delegate. But it didn't help.</p>\n\n<pre><code>public class StageMenuController : MonoBehaviour\n{\n...\npublic Button stageTemplate;\nvoid Start()\n{\n// get stage count\nnumberOfStages = SceneManager.sceneCountInBuildSettings;\n\nTransform container = stageTemplate.transform.parent;\n\nfor (int i = 0; i &lt; numberOfStages; i++){\n\n    Button stage = Object.Instantiate(stageTemplate, container);\n    ...\n    // stage number on the icon\n    int j = i+1;\n\n    stage.transform.Find(\"stageNumber\")\n    .gameObject.GetComponent&lt;TextMeshProUGUI&gt;().text \n    = (j).ToString(\"D2\");\n\n    ...\n    int m = j;\n\n    bool addTheListener(int k){\n            int m = k;\n            Debug.Log(\"AddListener scene \" +m);\n            stage.onClick.AddListener(delegate(){\n                int n = m;\n                Debug.Log(\"go to scene \" +n);\n                UnityEngine.SceneManagement.SceneManager.LoadScene(n);\n            });\n            return true;\n    }\n    var x = addTheListener(j);\n}\n...\n}\n</code></pre>\n"}, {"tags": ["c#", "uwp"], "comments": [{"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 0, "creation_date": 1572454364, "post_id": 58630235, "comment_id": 103567670, "body": "Images of code are not acceptable.  Please post your code as text in your question."}], "answers": [{"tags": [], "owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1572487337, "creation_date": 1572487337, "answer_id": 58635993, "question_id": 58630235, "link": "https://stackoverflow.com/questions/58630235/c-how-to-combine-progress-bar-with-audio-playing/58635993#58635993", "title": "C# How to combine progress bar with audio playing?", "body": "<blockquote>\n  <p>C# How to combine progress bar with audio playing?</p>\n</blockquote>\n\n<p>You could use <a href=\"https://docs.microsoft.com/en-us/windows/uwp/design/controls-and-patterns/custom-transport-controls\" rel=\"nofollow noreferrer\">SMTC</a> directly that contains progress.</p>\n\n<pre><code>&lt;MediaPlayerElement\n    x:Name=\"mediaPlayerElement\"\n    Margin=\"0,0,10,0\"\n    VerticalAlignment=\"Top\"\n    AreTransportControlsEnabled=\"True\"\n    /&gt;\n</code></pre>\n\n<p>For costuming progress, we need get the media file's duration and the current music position. </p>\n\n<p>We could get the music duration with <code>MediaOpened</code> event.</p>\n\n<pre><code>private async void Player_MediaOpened(MediaPlayer sender, object args)\n{\n    await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =&gt;\n    {\n        MusicTime = (int)sender.PlaybackSession.NaturalDuration.TotalSeconds();\n\n    });\n}\n</code></pre>\n\n<p>And then we need calculate the value of progress bar(the max value is 100) in media <code>PositionChanged</code> event. </p>\n\n<pre><code>private async void PlaybackSession_PositionChanged(MediaPlaybackSession sender, object args)\n{\n    await Dispatcher.RunAsync(Windows.UI.Core.CoreDispatcherPriority.Normal, () =&gt;\n    {\n        CurentPosition = (int)sender.Position.TotalSeconds;\n        progressbar.Value = (CurentPosition / MusicTime) *100;\n\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11065453, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6-_OXmisP-k/AAAAAAAAAAI/AAAAAAAAB2g/0dknTaTgo30/photo.jpg?sz=128", "display_name": "Kirikaz", "link": "https://stackoverflow.com/users/11065453/kirikaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 686, "favorite_count": 0, "accepted_answer_id": 58635993, "answer_count": 1, "score": -3, "last_activity_date": 1572487337, "creation_date": 1572454242, "last_edit_date": 1572485681, "question_id": 58630235, "link": "https://stackoverflow.com/questions/58630235/c-how-to-combine-progress-bar-with-audio-playing", "title": "C# How to combine progress bar with audio playing?", "body": "<p>I want to use a progress bar that could reflect the audio currently playing, i.e the duration of the audio. </p>\n\n<p>Below is a snippet of my program, it's setup to play an audio file on button click.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WIuhU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WIuhU.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1572511829, "post_id": 58630120, "comment_id": 103585041, "body": "If I follow your question. The listview is intended as a lightweight display control. The datagrid is more suitable for editing and has a built in concept of a row you&#39;re editing. You can tab from one cell to the next left to right. It also responds to up and down arrows. Is this not suitable for whatever your requirement is?"}, {"owner": {"reputation": 166, "user_id": 634805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiUeA.jpg?s=128&g=1", "display_name": "Smolakian", "link": "https://stackoverflow.com/users/634805/smolakian"}, "reply_to_user": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1572540115, "post_id": 58630120, "comment_id": 103600541, "body": "Yes, I have used datagrid extensively. It seemed overkill for the task I&#39;m trying to achieve...besides, I&#39;m not sure that it would be any easier to achieve what I&#39;m looking for with an off-the-shelf datagrid anyway.  It&#39;s basically a list of textboxes that must be filled out by the user. However, from a UX standpoint it makes much more sense to enter the same field for each item consecutively. Think barcode scanning; Enter all the IDs, then go back in and type in hand-entered data. In that case, you want it to advance through each column separately."}, {"owner": {"reputation": 166, "user_id": 634805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiUeA.jpg?s=128&g=1", "display_name": "Smolakian", "link": "https://stackoverflow.com/users/634805/smolakian"}, "reply_to_user": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1572540281, "post_id": 58630120, "comment_id": 103600630, "body": "And I am using gridview to keep the column widths between items synced up and auto-sized."}, {"owner": {"reputation": 166, "user_id": 634805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiUeA.jpg?s=128&g=1", "display_name": "Smolakian", "link": "https://stackoverflow.com/users/634805/smolakian"}, "reply_to_user": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1572540384, "post_id": 58630120, "comment_id": 103600688, "body": "However, I am thinking that the easiest solution to this problem might just be to use multiple listviews, one for each field, and put them in a grid. XAML won&#39;t be as concise but won&#39;t need any custom code..."}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1572546787, "post_id": 58630120, "comment_id": 103603454, "body": "Not sure i follow your description. Would an itemscontrol with a wrappanel as itemspanel do what you want?"}], "owner": {"reputation": 166, "user_id": 634805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KiUeA.jpg?s=128&g=1", "display_name": "Smolakian", "link": "https://stackoverflow.com/users/634805/smolakian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572453837, "creation_date": 1572453837, "question_id": 58630120, "link": "https://stackoverflow.com/questions/58630120/wpf-gridview-is-there-a-way-to-set-tab-order-by-column", "title": "WPF Gridview - Is there a way to set tab order by column", "body": "<p>I have a ListView containing a GridView in XAML. I am trying to allow tab advancement through each item by column. That way the user can tab through each ListView item with a single column getting keyboard focus each time. I have messed around with setting different combinations of <code>KeyboardNavigation.TabNavigation=\"Cycle\"</code> for the listview and binding/setting the TabIndex properties of the DataTemplates withing the items/columns but nothing has worked.</p>\n\n<p>Is there a way to do this in XAML or with attached properties? If not, are there any suggestions on how I might be able to architect an implementation of GridView to achieve something like this? </p>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-identity"], "comments": [{"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1572458922, "post_id": 58630074, "comment_id": 103569825, "body": "Why do you create a new <code>IdentityBuilder</code> like that?"}, {"owner": {"reputation": 795, "user_id": 1043964, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db17edc6727e8c1523aa3643bba31e40?s=128&d=identicon&r=PG", "display_name": "Yousi", "link": "https://stackoverflow.com/users/1043964/yousi"}, "reply_to_user": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1572490398, "post_id": 58630074, "comment_id": 103579240, "body": "well, i am following an online tutorial. so this is how they did it. I want to be able to inject SignInManager as a service so that i can use it within the project. Would appreciate if you have another way of doing it"}], "answers": [{"comments": [{"owner": {"reputation": 795, "user_id": 1043964, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db17edc6727e8c1523aa3643bba31e40?s=128&d=identicon&r=PG", "display_name": "Yousi", "link": "https://stackoverflow.com/users/1043964/yousi"}, "edited": false, "score": 0, "creation_date": 1572788715, "post_id": 58637962, "comment_id": 103661250, "body": "I am getting an error saying &#39;IServiceCollection&#39; does not contain a definition for &#39;AddDefaultIdentity&#39;. It seems that this code is useful when I am using Razor. I am actually writing an API"}, {"owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "reply_to_user": {"reputation": 795, "user_id": 1043964, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db17edc6727e8c1523aa3643bba31e40?s=128&d=identicon&r=PG", "display_name": "Yousi", "link": "https://stackoverflow.com/users/1043964/yousi"}, "edited": false, "score": 1, "creation_date": 1572830660, "post_id": 58637962, "comment_id": 103671160, "body": "@Yousi , no , make sure you have install the nuget package, it works in api also."}, {"owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "reply_to_user": {"reputation": 795, "user_id": 1043964, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db17edc6727e8c1523aa3643bba31e40?s=128&d=identicon&r=PG", "display_name": "Yousi", "link": "https://stackoverflow.com/users/1043964/yousi"}, "edited": false, "score": 2, "creation_date": 1572835817, "post_id": 58637962, "comment_id": 103672038, "body": "Try include <code>Microsoft.AspNetCore.Identity.UI</code> ."}], "tags": [], "owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "is_accepted": true, "score": 4, "last_activity_date": 1572503584, "creation_date": 1572503584, "answer_id": 58637962, "question_id": 58630074, "link": "https://stackoverflow.com/questions/58630074/asp-net-core-mvc-exception-when-using-addsigninmanager/58637962#58637962", "title": "ASP.NET Core MVC exception when using AddSignInManager", "body": "<p>It's better to use <code>AddDefaultIdentity</code> which help you register the services like <code>SignInManager</code> . You can refer to below steps :</p>\n\n<ol>\n<li><p>Edit project file to install packages :</p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk.Web\"&gt;\n\n    &lt;PropertyGroup&gt;\n    &lt;TargetFramework&gt;netcoreapp3.0&lt;/TargetFramework&gt;\n    &lt;/PropertyGroup&gt;\n\n    &lt;ItemGroup&gt;\n    &lt;PackageReference Include=\"Microsoft.AspNetCore.Identity.EntityFrameworkCore\" Version=\"3.0.0\" /&gt;\n    &lt;PackageReference Include=\"Microsoft.AspNetCore.Identity.UI\" Version=\"3.0.0\" /&gt;\n    &lt;PackageReference Include=\"Microsoft.EntityFrameworkCore.SqlServer\" Version=\"3.0.0\" /&gt;\n    &lt;PackageReference Include=\"Microsoft.EntityFrameworkCore.Tools\" Version=\"3.0.0\"&gt;\n        &lt;PrivateAssets&gt;all&lt;/PrivateAssets&gt;\n        &lt;IncludeAssets&gt;runtime; build; native; contentfiles; analyzers; buildtransitive&lt;/IncludeAssets&gt;\n    &lt;/PackageReference&gt;\n    &lt;/ItemGroup&gt;\n\n&lt;/Project&gt;\n</code></pre></li>\n<li><p>Create <code>DataContext</code> :</p>\n\n<pre><code>public class DataContext : IdentityDbContext&lt;AppUser&gt;\n{\n    public DataContext(DbContextOptions&lt;DataContext&gt; options)\n        : base(options)\n    {\n    }\n\n    protected override void OnModelCreating(ModelBuilder builder)\n    {\n        base.OnModelCreating(builder);\n        // Customize the ASP.NET Identity model and override the defaults if needed.\n        // For example, you can rename the ASP.NET Identity table names and more.\n        // Add your customizations after calling base.OnModelCreating(builder);\n    }\n}\n</code></pre></li>\n<li><p>Startup.cs :</p>\n\n<pre><code>services.AddDbContext&lt;DataContext&gt;(options =&gt;\n    options.UseSqlServer(\n        Configuration.GetConnectionString(\"DefaultConnection\")));\n\nservices.AddDefaultIdentity&lt;AppUser&gt;()\n.AddEntityFrameworkStores&lt;DataContext&gt;();\n</code></pre></li>\n<li><p>Inject <code>SignInManager</code> :</p>\n\n<pre><code>private readonly UserManager&lt;AppUser&gt; _userManager;\nprivate readonly SignInManager&lt;AppUser&gt; _signInManager;\nprivate readonly DataContext _context; \n\npublic WeatherForecastController(UserManager&lt;AppUser&gt; userManager,SignInManager&lt;AppUser&gt; signInManager, DataContext dbContext)\n{\n    _userManager = userManager;\n    _signInManager = signInManager;\n    _context = dbContext;\n\n}\n</code></pre></li>\n</ol>\n\n<p>And use like :</p>\n\n<p><code>await _signInManager.SignInAsync(user, isPersistent: false);</code></p>\n"}, {"comments": [{"owner": {"reputation": 730, "user_id": 4519548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57d3c19322022a372840777aa0f3a104?s=128&d=identicon&r=PG&f=1", "display_name": "Rick Wolff", "link": "https://stackoverflow.com/users/4519548/rick-wolff"}, "edited": false, "score": 0, "creation_date": 1615159708, "post_id": 65512973, "comment_id": 117598644, "body": "What if I don&#39;t want to use a database to store that? If I only use AD for signing in? In <code>.AddEntityFrameworkStores&lt;...&gt;()</code> I don&#39;t know what to put in the context."}], "tags": [], "owner": {"reputation": 57, "user_id": 8743232, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4DQLEX6XEMo/AAAAAAAAAAI/AAAAAAAAAAs/Zi0sOVjkvhU/photo.jpg?sz=128", "display_name": "Jared Ross", "link": "https://stackoverflow.com/users/8743232/jared-ross"}, "is_accepted": false, "score": 1, "last_activity_date": 1609439281, "last_edit_date": 1609439281, "creation_date": 1609358886, "answer_id": 65512973, "question_id": 58630074, "link": "https://stackoverflow.com/questions/58630074/asp-net-core-mvc-exception-when-using-addsigninmanager/65512973#65512973", "title": "ASP.NET Core MVC exception when using AddSignInManager", "body": "<p>To fix this, inside the <code>ConfigurationServices</code> method in <code>Startup.cs</code>, add <code>services.AddAuthentication();</code> after the following code block:</p>\n<pre><code>var builder = services.AddIdentityCore&lt;AppUser&gt;();\nvar identityBuilder = new IdentityBuilder(builder.UserType, builder.Services);\nidentityBuilder.AddEntityFrameworkStores&lt;DataContext&gt;();\nidentityBuilder.AddSignInManager&lt;SignInManager&lt;AppUser&gt;&gt;();\n</code></pre>\n<p>For anyone who is following along with Neil Cummings course <em>Complete guide to building an app with .Net Core and React</em>, this is the solution that he provides later on.</p>\n"}], "owner": {"reputation": 795, "user_id": 1043964, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db17edc6727e8c1523aa3643bba31e40?s=128&d=identicon&r=PG", "display_name": "Yousi", "link": "https://stackoverflow.com/users/1043964/yousi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2146, "favorite_count": 0, "accepted_answer_id": 58637962, "answer_count": 2, "score": 3, "last_activity_date": 1609439281, "creation_date": 1572453655, "last_edit_date": 1572458902, "question_id": 58630074, "link": "https://stackoverflow.com/questions/58630074/asp-net-core-mvc-exception-when-using-addsigninmanager", "title": "ASP.NET Core MVC exception when using AddSignInManager", "body": "<p>I am using ASP.NET Core MVC 3.0 API project. I am using <code>Microsoft.AspNetCore.Identity</code> v3.0</p>\n\n<p>In the <code>Startup.cs</code>, inside the <code>ConfigureServices</code> method, when I type the below and run the application, I get an exception:</p>\n\n<pre><code>var builder = services.AddIdentityCore&lt;AppUser&gt;();\nvar identityBuilder = new IdentityBuilder(builder.UserType, builder.Services);\nidentityBuilder.AddEntityFrameworkStores&lt;DataContext&gt;();\nidentityBuilder.AddSignInManager&lt;SignInManager&lt;AppUser&gt;&gt;();\n</code></pre>\n\n<p>The <code>AppUser</code> class is something like this:</p>\n\n<pre><code>using Microsoft.AspNetCore.Identity;\n\nnamespace Domain\n{\n    public class AppUser : IdentityUser\n    {\n        public string DisplayName { get; set; }\n    }\n}\n</code></pre>\n\n<p>The exception I am getting is this:</p>\n\n<blockquote>\n  <p>Unhandled exception. System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType:   Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Domain.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Authentication.ISystemClock' while attempting to activate 'Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Domain.AppUser]'.) (Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Domain.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Authentication.ISystemClock' while attempting to activate 'Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Domain.AppUser]'.)</p>\n  \n  <p>System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ISecurityStampValidator Lifetime: Scoped ImplementationType: Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Domain.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Authentication.ISystemClock' while attempting to activate 'Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Domain.AppUser]'.</p>\n  \n  <p>System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Authentication.ISystemClock' while attempting to activate 'Microsoft.AspNetCore.Identity.SecurityStampValidator`1[Domain.AppUser]'.</p>\n  \n  <p>at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)<br>\n  at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)<br>\n  at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)<br>\n  at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)<br>\n  at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)<br>\n  --- End of inner exception stack trace ---<br>\n  at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)<br>\n  at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)<br>\n  --- End of inner exception stack trace ---<br>\n  at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)\n         at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)\n         at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)\n         at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)\n         at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()\n         at Microsoft.Extensions.Hosting.HostBuilder.Build()\n         at Api.Program.Main(String[] args) in C:\\Projects\\XXXXXXXX\\api\\Program.cs:line 19\n       ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.AspNetCore.Identity.ITwoFactorSecurityStampValidator Lifetime: Scoped \n      ImplementationType: Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Domain.AppUser]': Unable to resolve service for type 'Microsoft.AspNetCore.Authentication.ISystemClock' while attempting to activate 'Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Domain.AppUser]'.\n       ---> System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Authentication.ISystemClock' while attempting to activate 'Microsoft.AspNetCore.Identity.TwoFactorSecurityStampValidator`1[Domain.AppUser]'.\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type serviceType, Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, \n      Boolean throwIfCallSiteNotFound)\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)<br>\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)\n         --- End of inner exception stack trace ---\n         at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.ValidateService(ServiceDescriptor descriptor)\n         at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(IEnumerable`1 serviceDescriptors, ServiceProviderOptions options)&lt;---</p>\n</blockquote>\n\n<p>Any idea what I am doing wrong?</p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-web-api"], "comments": [{"owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1572454695, "post_id": 58630008, "comment_id": 103567830, "body": "Try adding attribute <code>[XmlArray(ElementName = &quot;RequestedItems&quot;)]</code> to the <code>RequestedItems</code> property in <code>PostModel</code> class"}, {"owner": {"reputation": 1, "user_id": 8881888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174d02ccd9fbf65804a8e72f7102c174?s=128&d=identicon&r=PG&f=1", "display_name": "SteveAtHPUK", "link": "https://stackoverflow.com/users/8881888/steveathpuk"}, "reply_to_user": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "edited": false, "score": 0, "creation_date": 1572528126, "post_id": 58630008, "comment_id": 103593831, "body": "@Matt G Thank you; didn&#39;t solve my problem but did give me a hint as to where I should look.  Updated my question above."}], "owner": {"reputation": 1, "user_id": 8881888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174d02ccd9fbf65804a8e72f7102c174?s=128&d=identicon&r=PG&f=1", "display_name": "SteveAtHPUK", "link": "https://stackoverflow.com/users/8881888/steveathpuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572529060, "creation_date": 1572453381, "last_edit_date": 1572529060, "question_id": 58630008, "link": "https://stackoverflow.com/questions/58630008/posting-xml-to-webapi-is-only-binding-non-collection-properties-on-the-frombody", "title": "Posting XML to webapi is only binding non-collection properties on the [FromBody]request model", "body": "<p>(<em>Initial question solved but in the update section below, I have questions about why what I've done works</em>)</p>\n\n<p>We have a asp.net webApi project with a single POST operation that previously only needed to take a request formatted as JSON and would respond with whatever the accept header said (be it application/xml or application/json).</p>\n\n<p>Now the POST needs to be able to accept XML as the request.  This should just be a matter of setting content-type to application/xml and all should be good.</p>\n\n<p>However, the model binding isn't quite working, it's working partly but not all</p>\n\n<p>Here's a simplified version of the model:</p>\n\n<pre><code>    [DataContract(Namespace = \"\")]\n    public class PostModel\n    {\n        [DataMember(Name = \"Identifier\", Order = 0)]\n        [Required]\n        public string Identifier { get; set; }\n\n        [DataMember(Name = \"ReturnNullItems\", Order = 1)]\n        public bool? ReturnNullItems { get; set; }\n\n        [DataMember(Name = \"RequestedItems\", Order = 2)]\n        [Required]\n        public List&lt;string&gt; RequestedItems { get; set; }\n\n        [DataMember(Name = \"Mileage\", Order = 3)]\n        public int Mileage { get; set; }\n    }\n</code></pre>\n\n<p>Here's a simplified version of the controller method:</p>\n\n<pre><code>    [HttpPost]\n    [Route(\"\")]\n    public async Task&lt;ResponseMessageResult&gt; Post([FromBody]PostModel postModel)\n    {\n\n        var formatter = GetMediaTypeFormatter();\n\n        if (postModel == null)\n        {\n            var message = new ErrorMessage { Message = \"Malformed Request\"};\n            return GetResponseMessageResult(message, HttpStatusCode.BadRequest, formatter);\n        }\n\n        if (!ModelState.IsValid)\n        {\n            var message = new ErrorMessage { Message = string.Join(\"; \", ModelState.Values.SelectMany(x =&gt; x.Errors).Select(x =&gt; x.ErrorMessage)) };\n            return GetResponseMessageResult(message, HttpStatusCode.BadRequest, formatter);\n        }\n    }\n</code></pre>\n\n<p>Here's a sample bit of body xml from the request:</p>\n\n<pre><code>&lt;PostModel&gt;\n   &lt;Identifier&gt;ya05fom&lt;/Identifier&gt;\n   &lt;ReturnNullItems&gt;false&lt;/ReturnNullItems&gt;\n   &lt;RequestedItems&gt;\n      &lt;string&gt;EngineCapacity&lt;/string&gt;\n      &lt;string&gt;FuelType&lt;/string&gt;\n      &lt;string&gt;ForwardGears&lt;/string&gt;\n      &lt;string&gt;Transmission&lt;/string&gt;   \n   &lt;/RequestedItems&gt;\n   &lt;Mileage&gt;20000&lt;/Mileage&gt;\n&lt;/PostModel&gt;    \n</code></pre>\n\n<p>What we're seeing is that in postModel, the Identifer, ReturnNullItems and Mileage properties, which are all simple properties, are bound but the RequestedItems property which is collection property is not.</p>\n\n<p>So in the postModel we'd see:</p>\n\n<ul>\n<li>postModel.Identifer       -> \"ya05fom\"</li>\n<li>postModel.ReturnNullItems -> false</li>\n<li>postModel.Mileage         -> 20000</li>\n<li><strong>postModel.RequestItems    -> null</strong></li>\n</ul>\n\n<p>The RequestItems property is null.  I've tried having that property be a List  of string and an string Array and neither works.</p>\n\n<p>So this looks like there's an issue binding the nested child elements in the xml to a collection property in the PostModel class but I simply am at a loss as to what I'm missing.</p>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>Thanks to Matt G in the comments, his comment gave me a nudge as to what to look at in the .net documentation and that gave me a nudge as to what to try.</p>\n\n<p>Previously I had to add an XmlMediaTypeFormatter to the formatters on GlabalConfiguration:</p>\n\n<pre><code>GlobalConfiguration.Configuration.Formatters.Add(new System.Net.Http.Formatting.XmlMediaTypeFormatter());\n</code></pre>\n\n<p>There was also this below commented out:</p>\n\n<pre><code>//var xml = GlobalConfiguration.Configuration.Formatters.XmlFormatter;\n//xml.UseXmlSerializer = true;\n</code></pre>\n\n<p>I commented the above two lines back in and voila it works.</p>\n\n<p>I'm guessing that I'm telling the deserialiser to use the <code>System.Net.Http.Formatting.XmlMediaTypeFormatter</code> to deserialise the request body.  I also guess that the default DataContractSerialiser doesn't do the job of deserialising xml with hierarchical xml very well without some extra information (which I don't know how to give).</p>\n\n<p>So now it works but I only have guesses as to how and/or why.  Can any body point me in the right direction or let me know why what I've done has fixed it?</p>\n"}, {"tags": ["c#", "entity-framework", "change-tracking"], "comments": [{"owner": {"reputation": 918, "user_id": 4693920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca23551614429af3215fb44773040ea7?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/4693920/steve"}, "edited": false, "score": 0, "creation_date": 1572454744, "post_id": 58629962, "comment_id": 103567862, "body": "Is &quot;PRICE&quot; part of your key because the SQL statement looks fine. It&#39;s not updating the PRODUCT_ID which is the column that would normally be unique."}, {"owner": {"reputation": 1, "user_id": 12298593, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oFy72KgK2tg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdoYoX1xRsFst1nHdw3G1z21fHuPQ/photo.jpg?sz=128", "display_name": "kishkinda", "link": "https://stackoverflow.com/users/12298593/kishkinda"}, "reply_to_user": {"reputation": 918, "user_id": 4693920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca23551614429af3215fb44773040ea7?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/4693920/steve"}, "edited": false, "score": 0, "creation_date": 1572457884, "post_id": 58629962, "comment_id": 103569360, "body": "Actually Price is unique, updated word Price to <code>Position</code> to avoid confusion."}], "owner": {"reputation": 1, "user_id": 12298593, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oFy72KgK2tg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdoYoX1xRsFst1nHdw3G1z21fHuPQ/photo.jpg?sz=128", "display_name": "kishkinda", "link": "https://stackoverflow.com/users/12298593/kishkinda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572458000, "creation_date": 1572453200, "last_edit_date": 1572458000, "question_id": 58629962, "link": "https://stackoverflow.com/questions/58629962/entitystate-modified-to-update-multiple-records-in-single-statement", "title": "EntityState.Modified to update multiple records in single statement", "body": "<p>To update single column of multiple records which has Unique key constrain, I tried with below code</p>\n\n<pre><code>foreach (var product in Products)\n{\n    product.Position= Position;\n\n    db.Entry(product).State = EntityState.Modified;\n }\n db.SaveChanges();\n</code></pre>\n\n<p>Below is the SQL being generated</p>\n\n<pre><code>update \"XXMES\".\"TB_PRODUCT\"\nset \"POSITION\" = :p0\nwhere (\"PRODUCT_ID\" = :p1)\n\n-- :p0: '6' (Type = Decimal)\n\n-- :p1: '6586632' (Type = Int64)\n\n</code></pre>\n\n<p>Even though I am updating all rows in single transaction, EF is generating SQL which updates one record at a time, which is causing below exception due to unique key constrain on the column, which is expected for generated sql as <code>Position</code> is unique. I am trying to figure out a way, SQL generates query to update all records at a time, so the constrain will not be violated. Please let me know if there is a workaround </p>\n\n<pre><code>ORA-00001: unique constraint (RWMES.TB_TRIM_PATTERN_SET_POS_UK) violated\n</code></pre>\n"}, {"tags": ["c#", "xml", "object", "serialization", "type-conversion"], "comments": [{"owner": {"reputation": 4101, "user_id": 3382549, "user_type": "registered", "profile_image": "https://graph.facebook.com/531045015/picture?type=large", "display_name": "Tim Rutter", "link": "https://stackoverflow.com/users/3382549/tim-rutter"}, "edited": false, "score": 1, "creation_date": 1572453590, "post_id": 58629909, "comment_id": 103567299, "body": "The &quot;XML after serialisation&quot; is in fact JSON.  Does the JSON represent what you have managed to deserialize from the xml?"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1572453629, "post_id": 58629909, "comment_id": 103567331, "body": "Can you show the part of your code which produces the &quot;XML after serialization&quot;?"}, {"owner": {"reputation": 389, "user_id": 7767267, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154285828166366/picture?type=large", "display_name": "ashley g", "link": "https://stackoverflow.com/users/7767267/ashley-g"}, "edited": false, "score": 0, "creation_date": 1572453756, "post_id": 58629909, "comment_id": 103567391, "body": "I am only after the properties within the &quot;EADAvailability&quot; node. Which i have listed in my model. The problem is that only some of the properties are being returned with values in them and some are being returned as null, when they shouldn&#39;t be. The other issue is only one &quot;EADAvailabilityResult&quot; node is being serialised when in fact there is two."}, {"owner": {"reputation": 389, "user_id": 7767267, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154285828166366/picture?type=large", "display_name": "ashley g", "link": "https://stackoverflow.com/users/7767267/ashley-g"}, "edited": false, "score": 0, "creation_date": 1572453969, "post_id": 58629909, "comment_id": 103567500, "body": "Hey ed that part of the code is in the &quot;C# CODE:&quot; section just before the return statement."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1572454388, "post_id": 58629909, "comment_id": 103567680, "body": "@ashleyg Please indicate what part of that code generates the JSON string you pasted in as &quot;XML after serialization&quot;. You never serialize anything in that code. Is the JSON in the variable named <code>path</code>? Is the JSON in the variable named <code>xml</code>?  Is it in <code>soapResult</code>, <code>Outerxml</code>? Where did you get the JSON from? Please show me the exact line of code where you got the JSON from."}, {"owner": {"reputation": 389, "user_id": 7767267, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154285828166366/picture?type=large", "display_name": "ashley g", "link": "https://stackoverflow.com/users/7767267/ashley-g"}, "edited": false, "score": 0, "creation_date": 1572455006, "post_id": 58629909, "comment_id": 103568013, "body": "The response XML is in the soapResult variable. The OuterXml then only takes part of the response XML what i am interested in starting with the root node being &quot;AvailabilityDetails&quot;. Then the Namespaces are stripped before the deserialisation takes place using the final Xml variable. The &quot;XML after serialization&quot; code, is produced by sending a POST request to my API through Postman."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1572455286, "post_id": 58629909, "comment_id": 103568154, "body": "@ashleyg You have a block of JSON text in your question labeled &quot;XML after serialisation&quot;. Do you have any memory, any recollection at all, of where you found that text? Do you have any memory of why you added it to your question? Did one of your friends send it to you in an email or a text message? Did you find it written on a napkin an a bar?"}, {"owner": {"reputation": 389, "user_id": 7767267, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154285828166366/picture?type=large", "display_name": "ashley g", "link": "https://stackoverflow.com/users/7767267/ashley-g"}, "edited": false, "score": 0, "creation_date": 1572455612, "post_id": 58629909, "comment_id": 103568301, "body": ":O that is what is being produced after sending a request to this method using an api tester.  EADAvailabilityDetails result;         // Deserialises xlm into an object           XmlSerializer serializer = new XmlSerializer(typeof(EADAvailabilityDetails));         using (TextReader reader = new StringReader(finalXml))         {             result = (EADAvailabilityDetails)serializer.Deserialize(reader);         }"}], "answers": [{"tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": true, "score": 1, "last_activity_date": 1572513891, "creation_date": 1572513891, "answer_id": 58640182, "question_id": 58629909, "link": "https://stackoverflow.com/questions/58629909/xml-not-being-serialised-correctly-into-object/58640182#58640182", "title": "XML not being serialised correctly into object", "body": "<p>The code below works :</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Xml;\nusing System.Xml.Serialization;\n\nnamespace ConsoleApplication139\n{\n    class Program\n    {\n        const string FILENAME = @\"c:\\temp\\test.xml\";\n        static void Main(string[] args)\n        {\n            XmlReader reader = XmlReader.Create(FILENAME);\n            XmlSerializer serializer = new XmlSerializer(typeof(Envelope));\n\n            Envelope envelope = (Envelope)serializer.Deserialize(reader);\n\n        }\n    }\n    [XmlRoot(Namespace = \"http://schemas.xmlsoap.org/soap/envelope/\")]\n    public class Envelope\n    {\n        [XmlElement (Namespace = \"http://schemas.xmlsoap.org/soap/envelope/\")]\n        public Body Body { get; set; }\n    }\n    public class Body\n    {\n        [XmlElement(Namespace = \"http://webservices.talktalkplc.com/NetworkProductAvailabilityCheckerService\")]\n        public GetAvailabilityResponse GetAvailabilityResponse { get; set; }\n    }\n    public class GetAvailabilityResponse\n    {\n        [XmlElement(Namespace = \"http://webservices.talktalkplc.com/NetworkProductAvailabilityCheckerService\")]\n        public GetAvailabilityResult GetAvailabilityResult { get; set; }\n    }\n    public class GetAvailabilityResult\n    {\n        [XmlArray(\"EADAvailability\", Namespace = \"http://webservices.talktalkplc.com/NetworkProductAvailabilityCheckerService\")]\n        [XmlArrayItem(\"AvailabilityDetails\", Namespace = \"http://webservices.talktalkplc.com/NetworkProductAvailabilityCheckerService\")]\n        public AvailabilityDetails[] AvailabilityDetails { get; set; }\n    }\n    [XmlInclude(typeof(EADAvailabilityDetails))]\n    [Serializable, XmlRoot(\"AvailabilityDetails\", Namespace = \"http://webservices.talktalkplc.com/NetworkProductAvailabilityCheckerService\")]\n    public class AvailabilityDetails\n    {\n    }\n    [Serializable, XmlRoot(\"EADAvailabilityDetails\", Namespace = \"http://webservices.talktalkplc.com/NetworkProductAvailabilityCheckerService\")]\n    public class EADAvailabilityDetails : AvailabilityDetails\n    {\n        [XmlArray(\"EADAvailability\", Namespace = \"http://webservices.talktalkplc.com/NetworkProductAvailabilityCheckerService\")]\n        [XmlArrayItem(\"EADAvailabilityResult\", Namespace = \"http://webservices.talktalkplc.com/NetworkProductAvailabilityCheckerService\")]\n        public EADAvailabilityResult[] EADAvailabilityResult { get; set; }\n    }\n    public class EADAvailabilityResult\n    {\n        public string CollectorNodeExchangeCode { get; set; }\n        public string CollectorNodeExchangeName { get; set; }\n        public int Distance { get; set; }\n        public EADBandwidth EADBandwidth { get; set; }\n        public string EADSubType { get; set; }\n        public string FibreExchangeCode { get; set; }\n        public string FibreExchangename { get; set; }\n        public string IndicativeECC { get; set; }\n        public string IndicativeOrderCategory { get; set; }\n        public string LocalExchangeCode { get; set; }\n        public string LocalExchangeName { get; set; }\n        public int ORLeadTime { get; set; }\n        public string OrderCategoryExplanation { get; set; }\n        public int TTLeadTime { get; set; }\n        public string Zone { get; set; }\n    }\n    public class EADBandwidth\n    {\n        [XmlElement(ElementName = \"string\", Type = typeof(string), Namespace = \"http://schemas.microsoft.com/2003/10/Serialization/Arrays\")]\n        public string String { get; set; }\n    }\n\n\n\n\n\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 389, "user_id": 7767267, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154285828166366/picture?type=large", "display_name": "ashley g", "link": "https://stackoverflow.com/users/7767267/ashley-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 58640182, "answer_count": 1, "score": -1, "last_activity_date": 1572513891, "creation_date": 1572452988, "question_id": 58629909, "link": "https://stackoverflow.com/questions/58629909/xml-not-being-serialised-correctly-into-object", "title": "XML not being serialised correctly into object", "body": "<p>I am trying to serialise a piece of XML that is being returned from a third party API. However when doing so i am only retrieving part of the object upon serialisation. And only some of the values seem to exist. I thought this could be a input type problem, however all the types seem to be correct. I think it may have something to do with how my model is constructed.After debugging the code i have narrowed it down to be a problem with the conversion of the xml into the object.</p>\n\n<p>C# CODE:</p>\n\n<pre><code>//[Route(\"api/AvailabiliyCheck/GetAvailability/{CSSDistrictCode}/{GoldAddressKey}\")]\n    public EADAvailabilityDetails GetAvailabilityEAD([FromUri] string CSSDistrictCode, [FromUri] string GoldAddressKey)\n    {\n        //Load the request xml template\n        XmlDocument doc = new XmlDocument();\n        string path = HttpContext.Current.Server.MapPath(\"~/XML/Availability/GetAvailabilityEAD.xml\");\n        doc.Load(path);\n\n        //Assign incoming paramaters to xml template\n        XmlNamespaceManager manager = new XmlNamespaceManager(doc.NameTable);\n        manager.AddNamespace(\"soap\", \"http://schemas.xmlsoap.org/soap/envelope/\");\n        manager.AddNamespace(\"stupid_xmlns\", \"http://webservices.talktalkplc.com/NetworkProductAvailabilityCheckerService\");\n\n        XmlNode CSSDistrictCodeNode = doc.SelectSingleNode(\"soap:Envelope/soap:Body/stupid_xmlns:GetAvailability/stupid_xmlns:request/stupid_xmlns:RequestDetails/stupid_xmlns:CSSDistrictCode\", manager);\n        CSSDistrictCodeNode.InnerXml = CSSDistrictCode;\n\n        XmlNode GoldAddressKeyNode = doc.SelectSingleNode(\"soap:Envelope/soap:Body/stupid_xmlns:GetAvailability/stupid_xmlns:request/stupid_xmlns:RequestDetails/stupid_xmlns:GoldAddressKey\", manager);\n        GoldAddressKeyNode.InnerXml = GoldAddressKey;\n\n        //Send Request To API    \n        string _url = \"https://b2b.api.talktalkgroup.com/api/v2/partners/AvailabilityCheckers/NPAC/v45\";\n        string _action = \"http://webservices.talktalkplc.com/NetworkProductAvailabilityCheckerService/NetworkProductAvailabilityCheckerService/GetAvailability\";\n        string xml = doc.InnerXml;\n\n        var soapResult = WebService.ApiRequest(_url, _action, xml);\n\n        XmlDocument xmlToFormat = new XmlDocument();\n        xmlToFormat.LoadXml(soapResult);\n\n        string Outerxml = xmlToFormat.FirstChild.FirstChild.FirstChild.FirstChild.ChildNodes[2].InnerXml;\n        //Remove all namespaces\n        var xmlToBeStripped = XElement.Parse(Outerxml);\n        string finalXml = XmlFormatter.stripNS(xmlToBeStripped).ToString();\n\n        EADAvailabilityDetails result;\n\n        // Deserialises xlm into an object \n\n        XmlSerializer serializer = new XmlSerializer(typeof(EADAvailabilityDetails));\n        using (TextReader reader = new StringReader(finalXml))\n        {\n            result = (EADAvailabilityDetails)serializer.Deserialize(reader);\n        }\n\n        return result;\n    }\n</code></pre>\n\n<p>XML being returned:</p>\n\n<pre><code> &lt;s:Envelope xmlns:s=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n   &lt;s:Body&gt;\n      &lt;GetAvailabilityResponse xmlns=\"http://webservices.talktalkplc.com/NetworkProductAvailabilityCheckerService\"&gt;\n         &lt;GetAvailabilityResult xmlns:i=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n            &lt;Status xmlns=\"http://schemas.datacontract.org/2004/07/InHouse.SharedLibraries.ServiceBase.BaseTypes\"&gt;\n               &lt;Errors/&gt;\n               &lt;HasErrors&gt;false&lt;/HasErrors&gt;\n            &lt;/Status&gt;\n            &lt;CSSDistrictCode&gt;lv&lt;/CSSDistrictCode&gt;\n            &lt;EADAvailability&gt;\n               &lt;AvailabilityDetails i:type=\"EADAvailabilityDetails\"&gt;\n                  &lt;Status xmlns=\"http://schemas.datacontract.org/2004/07/InHouse.SharedLibraries.ServiceBase.BaseTypes\"&gt;\n                     &lt;Errors/&gt;\n                     &lt;HasErrors&gt;false&lt;/HasErrors&gt;\n                  &lt;/Status&gt;\n                  &lt;EADAvailability&gt;\n                     &lt;EADAvailabilityResult&gt;\n                        &lt;CollectorNodeExchangeCode&gt;NDMAI&lt;/CollectorNodeExchangeCode&gt;\n                        &lt;CollectorNodeExchangeName&gt;Maidstone&lt;/CollectorNodeExchangeName&gt;\n                        &lt;Distance&gt;0&lt;/Distance&gt;\n                        &lt;EADBandwidth xmlns:a=\"http://schemas.microsoft.com/2003/10/Serialization/Arrays\"&gt;\n                           &lt;a:string&gt;100M&lt;/a:string&gt;\n                        &lt;/EADBandwidth&gt;\n                        &lt;EADSubType&gt;EAD-LA&lt;/EADSubType&gt;\n                        &lt;FibreExchangeCode&gt;NDACO&lt;/FibreExchangeCode&gt;\n                        &lt;FibreExchangename&gt;Archers Court&lt;/FibreExchangename&gt;\n                        &lt;IndicativeECC&gt;Within tariff&lt;/IndicativeECC&gt;\n                        &lt;IndicativeOrderCategory&gt;Category 2.1&lt;/IndicativeOrderCategory&gt;\n                        &lt;LocalExchangeCode&gt;NDACO&lt;/LocalExchangeCode&gt;\n                        &lt;LocalExchangeName&gt;Archers Court&lt;/LocalExchangeName&gt;\n                        &lt;ORLeadTime&gt;40&lt;/ORLeadTime&gt;\n                        &lt;OrderCategoryExplanation&gt;There is a T node within 1km (or 650m in London) with spare capacity and ducting is in place, however some additional cabling is required between  the premises and the T node.&lt;/OrderCategoryExplanation&gt;\n                        &lt;TTLeadTime&gt;56&lt;/TTLeadTime&gt;\n                        &lt;Zone&gt;0&lt;/Zone&gt;\n                     &lt;/EADAvailabilityResult&gt;\n                     &lt;EADAvailabilityResult&gt;\n                        &lt;CollectorNodeExchangeCode&gt;NDMAI&lt;/CollectorNodeExchangeCode&gt;\n                        &lt;CollectorNodeExchangeName&gt;Maidstone&lt;/CollectorNodeExchangeName&gt;\n                        &lt;Distance&gt;0&lt;/Distance&gt;\n                        &lt;EADBandwidth xmlns:a=\"http://schemas.microsoft.com/2003/10/Serialization/Arrays\"&gt;\n                           &lt;a:string&gt;LOW 1GB&lt;/a:string&gt;\n                        &lt;/EADBandwidth&gt;\n                        &lt;EADSubType&gt;EAD-LA&lt;/EADSubType&gt;\n                        &lt;FibreExchangeCode&gt;NDACO&lt;/FibreExchangeCode&gt;\n                        &lt;FibreExchangename&gt;Archers Court&lt;/FibreExchangename&gt;\n                        &lt;IndicativeECC&gt;Within tariff&lt;/IndicativeECC&gt;\n                        &lt;IndicativeOrderCategory&gt;Category 2.1&lt;/IndicativeOrderCategory&gt;\n                        &lt;LocalExchangeCode&gt;NDACO&lt;/LocalExchangeCode&gt;\n                        &lt;LocalExchangeName&gt;Archers Court&lt;/LocalExchangeName&gt;\n                        &lt;ORLeadTime&gt;40&lt;/ORLeadTime&gt;\n                        &lt;OrderCategoryExplanation&gt;There is a T node within 1km (or 650m in London) with spare capacity and ducting is in place, however some additional cabling is required between  the premises and the T node.&lt;/OrderCategoryExplanation&gt;\n                        &lt;TTLeadTime&gt;56&lt;/TTLeadTime&gt;\n                        &lt;Zone&gt;0&lt;/Zone&gt;\n                     &lt;/EADAvailabilityResult&gt;\n                     &lt;EADAvailabilityResult&gt;\n                        &lt;CollectorNodeExchangeCode&gt;NDCAN&lt;/CollectorNodeExchangeCode&gt;\n                        &lt;CollectorNodeExchangeName&gt;Canterbury&lt;/CollectorNodeExchangeName&gt;\n                        &lt;Distance&gt;20656&lt;/Distance&gt;\n                        &lt;EADBandwidth xmlns:a=\"http://schemas.microsoft.com/2003/10/Serialization/Arrays\"&gt;\n                           &lt;a:string&gt;HIGH 1GB&lt;/a:string&gt;\n                        &lt;/EADBandwidth&gt;\n                        &lt;EADSubType&gt;EAD-NonLA&lt;/EADSubType&gt;\n                        &lt;FibreExchangeCode&gt;NDCAN&lt;/FibreExchangeCode&gt;\n                        &lt;FibreExchangename&gt;Canterbury&lt;/FibreExchangename&gt;\n                        &lt;IndicativeECC&gt;Within tariff&lt;/IndicativeECC&gt;\n                        &lt;IndicativeOrderCategory&gt;Category 2.1&lt;/IndicativeOrderCategory&gt;\n                        &lt;LocalExchangeCode&gt;NDACO&lt;/LocalExchangeCode&gt;\n                        &lt;LocalExchangeName&gt;Archers Court&lt;/LocalExchangeName&gt;\n                        &lt;ORLeadTime&gt;40&lt;/ORLeadTime&gt;\n                        &lt;OrderCategoryExplanation&gt;There is a T node within 1km (or 650m in London) with spare capacity and ducting is in place, however some additional cabling is required between  the premises and the T node.&lt;/OrderCategoryExplanation&gt;\n                        &lt;TTLeadTime&gt;56&lt;/TTLeadTime&gt;\n                        &lt;Zone&gt;B&lt;/Zone&gt;\n                     &lt;/EADAvailabilityResult&gt;\n                  &lt;/EADAvailability&gt;\n                  &lt;LeadTime&gt;10&lt;/LeadTime&gt;\n               &lt;/AvailabilityDetails&gt;\n            &lt;/EADAvailability&gt;\n            &lt;GoldAddressKey&gt;A00009292752&lt;/GoldAddressKey&gt;\n            &lt;Postcode/&gt;\n         &lt;/GetAvailabilityResult&gt;\n      &lt;/GetAvailabilityResponse&gt;\n   &lt;/s:Body&gt;\n&lt;/s:Envelope&gt;\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code> [Serializable, XmlRoot(\"AvailabilityDetails\")]\npublic class EADAvailabilityDetails\n{\n    [XmlElement(\"EADAvailability\")]\n    public EADAvailability EADAvailability { get; set; }\n}\n\npublic class EADAvailability\n{\n    [XmlElement(\"EADAvailabilityResult\")]\n    public List&lt;EADAvailabilityResult&gt; EADAvailabilityResult { get; set; }\n}\n\npublic class EADAvailabilityResult\n{\n    [XmlElement(\"CollectorNodeExchangeCode\")]\n    public string CollectorNodeExchangeCode { get; set; }\n\n    [XmlElement(\"CollectorNodeExchangeName\")]\n    public string CollectorNodeExchangeName { get; set; }\n\n    [XmlElement(\"Distance\")]\n    public int Distance { get; set; }\n\n    [XmlElement(\"EADBandwidth\")]\n    public string EADBandwidth { get; set; }\n\n    [XmlElement(\"EADSubType\")]\n    public string EADSubType { get; set; }\n\n    [XmlElement(\"FibreExchangeCode\")]\n    public string FibreExchangeCode { get; set; }\n\n    [XmlElement(\"FibreExchangename\")]\n    public string FibreExchangename { get; set; }\n\n    [XmlElement(\"IndicativeECC\")]\n    public string IndicativeECC { get; set; }\n\n    [XmlElement(\"IndicativeOrderCategory\")]\n    public string IndicativeOrderCategory { get; set; }\n\n    [XmlElement(\"LocalExchangeCode\")]\n    public string LocalExchangeCode { get; set; }\n\n    [XmlElement(\"LocalExchangeName\")]\n    public string LocalExchangeName { get; set; }\n\n    [XmlElement(\"ORLeadTime\")]\n    public int ORLeadTime { get; set; }\n\n    [XmlElement(\"OrderCategoryExplanation\")]\n    public string OrderCategoryExplanation { get; set; }\n\n    [XmlElement(\"TTLeadTime\")]\n    public int TTLeadTime { get; set; }\n\n    [XmlElement(\"Zone\")]\n    public int Zone { get; set; }\n}\n</code></pre>\n\n<p>XML after serialisation:</p>\n\n<pre><code>{\n\"&lt;EADAvailability&gt;k__BackingField\": {\n    \"EADAvailabilityResult\": [\n        {\n            \"CollectorNodeExchangeCode\": \"NDMAI\",\n            \"CollectorNodeExchangeName\": \"Maidstone\",\n            \"Distance\": 0,\n            \"EADBandwidth\": \"100M\",\n            \"EADSubType\": null,\n            \"FibreExchangeCode\": null,\n            \"FibreExchangename\": null,\n            \"IndicativeECC\": null,\n            \"IndicativeOrderCategory\": null,\n            \"LocalExchangeCode\": null,\n            \"LocalExchangeName\": null,\n            \"ORLeadTime\": 0,\n            \"OrderCategoryExplanation\": null,\n            \"TTLeadTime\": 0,\n            \"Zone\": 0\n        }\n    ]\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["javascript", "c#", "api"], "comments": [{"owner": {"reputation": 113, "user_id": 2696422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb160ce874e10bbdfe63ecb72a5d84e0?s=128&d=identicon&r=PG&f=1", "display_name": "fumiya.f", "link": "https://stackoverflow.com/users/2696422/fumiya-f"}, "edited": false, "score": 0, "creation_date": 1572453521, "post_id": 58629900, "comment_id": 103567268, "body": "This answer will help you to add <code>Content-Type</code> header. <a href=\"https://stackoverflow.com/a/37454528/2696422\">stackoverflow.com/a/37454528/2696422</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5170, "user_id": 1410246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfce8c2aa420b800bb7595ac5fbc986d?s=128&d=identicon&r=PG", "display_name": "EylM", "link": "https://stackoverflow.com/users/1410246/eylm"}, "is_accepted": true, "score": 1, "last_activity_date": 1572453469, "creation_date": 1572453469, "answer_id": 58630029, "question_id": 58629900, "link": "https://stackoverflow.com/questions/58629900/how-to-change-media-from-text-plain-to-application-json/58630029#58630029", "title": "How to change media from text/plain to application/json?", "body": "<p>You need to set the <code>Content-Type</code> header in your <code>XMLHttpRequest</code>:</p>\n\n<pre><code>Http.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 10321083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-p5cXLJDncHk/AAAAAAAAAAI/AAAAAAAAEz0/8pwWgcyZUU0/photo.jpg?sz=128", "display_name": "shilpa syal", "link": "https://stackoverflow.com/users/10321083/shilpa-syal"}, "is_accepted": false, "score": 1, "last_activity_date": 1572453831, "creation_date": 1572453831, "answer_id": 58630117, "question_id": 58629900, "link": "https://stackoverflow.com/questions/58629900/how-to-change-media-from-text-plain-to-application-json/58630117#58630117", "title": "How to change media from text/plain to application/json?", "body": "<p>Set the HTTP request header to <code>**Content-Type: application/json**</code>.\nYou have to add this line\n<code>HTTP.setRequestHeader(\"Content-Type\", \"application/json\");</code>\nto your code.</p>\n"}], "owner": {"reputation": 7, "user_id": 12188261, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kQQFAOPkBuE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfa52DAw9KupiGhmeeEsKngRD7nww/photo.jpg?sz=128", "display_name": "mr pixel", "link": "https://stackoverflow.com/users/12188261/mr-pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1093, "favorite_count": 0, "accepted_answer_id": 58630029, "answer_count": 2, "score": 0, "last_activity_date": 1572453831, "creation_date": 1572452937, "question_id": 58629900, "link": "https://stackoverflow.com/questions/58629900/how-to-change-media-from-text-plain-to-application-json", "title": "How to change media from text/plain to application/json?", "body": "<p>When I send data from JavaScript to the API (asp.net WebApi) I get the following error back: The request entity's media type 'text/plain' is not supported for this resource. I want to send the data in the JSON format.</p>\n\n<pre><code>The JavaScript code:\nlet newReservation = {\n    \"name\" : name,\n    \"emai\" : email,\n    \"phone\" : phone,\n    \"people\" : people,\n    \"date\" : date,\n    \"time\" : time\n}\n\ndata = JSON.stringify(newReservation)\nreservation = JSON.parse(data)\n\nlet Http = new XMLHttpRequest\nlet url = 'https://localhost:44320/api/reservations'\n\nHttp.open('POST', url)\nHttp.send(reservation)\nconsole.log()\nHttp.onreadystatechange=(e)=&gt;{\n    console.log(Http.responseText)\n}\n\nThe C# code:\nController:\npublic IHttpActionResult Post([FromBody]Reservation reservation)\n    {\n        if (!ModelState.IsValid)\n        {\n            return BadRequest(ModelState);\n        }\n\n        expressoDbContext.Reservations.Add(reservation);\n        expressoDbContext.SaveChanges();\n        return StatusCode(HttpStatusCode.Created);\n    }\n Config:\n config.Formatters.Remove(config.Formatters.XmlFormatter);\n config.Formatters.JsonFormatter.SerializerSettings.Formatting = \n Newtonsoft.Json.Formatting.Indented;\n</code></pre>\n"}, {"tags": ["c#", "mysql", "entity-framework", "collation"], "comments": [{"owner": {"reputation": 1277, "user_id": 2059056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x4Gve.jpg?s=128&g=1", "display_name": "olegsv", "link": "https://stackoverflow.com/users/2059056/olegsv"}, "edited": false, "score": 0, "creation_date": 1572460110, "post_id": 58629847, "comment_id": 103570358, "body": "Can you post result of SHOW CREATE DATABASE your_db_name?"}, {"owner": {"reputation": 105038, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "edited": false, "score": 0, "creation_date": 1572624124, "post_id": 58629847, "comment_id": 103627629, "body": "Those settings won&#39;t change existing databases, nor client connections.  There are many symptoms of &quot;not correctly&quot;, each with a different cause and solution.  See <a href=\"https://stackoverflow.com/questions/38363566/trouble-with-utf-8-characters-what-i-see-is-not-what-i-stored\" title=\"trouble with utf 8 characters what i see is not what i stored\">stackoverflow.com/questions/38363566/&hellip;</a>"}], "owner": {"reputation": 304, "user_id": 693235, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5416a708c6d5f7669656ada203cf2880?s=128&d=identicon&r=PG", "display_name": "Marek", "link": "https://stackoverflow.com/users/693235/marek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1572624135, "answer_count": 0, "score": 0, "last_activity_date": 1572452925, "creation_date": 1572452711, "question_id": 58629847, "link": "https://stackoverflow.com/questions/58629847/how-to-identify-problems-with-mysql-collation", "closed_reason": "Duplicate", "title": "How to identify problems with MySQL collation", "body": "<p>I am using Entity framework 6 to connect to a MySQL database(production environment). My database has the collation:</p>\n\n<pre><code>SELECT @@character_set_database, @@collation_database;\n        utf8                       utf8_general_ci\n</code></pre>\n\n<p>I have changed the collation from latin to utf. The same apllies to my tables.</p>\n\n<p>But I cant still correctly store some czech characters with accent(like \u010c or \u010d).\nI have another, the same DB(on my local computer) with same collation and if I am using this local DB, everything works.</p>\n\n<p>What should I check to identify the issue. Thanks a lot.</p>\n"}, {"tags": ["c#", "wpf", "wav", "naudio"], "comments": [{"owner": {"reputation": 45124, "user_id": 7532, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/db4b131b1b1519a5a22f84b1e8737f9b?s=128&d=identicon&r=PG", "display_name": "Mark Heath", "link": "https://stackoverflow.com/users/7532/mark-heath"}, "edited": false, "score": 0, "creation_date": 1572510586, "post_id": 58629752, "comment_id": 103584545, "body": "why are you using BufferedWaveProvider? Why not just play the WAV file directly?"}, {"owner": {"reputation": 19, "user_id": 8206424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831f7570f9e107758d7bf5ba45eca43c?s=128&d=identicon&r=PG&f=1", "display_name": "dataContexual", "link": "https://stackoverflow.com/users/8206424/datacontexual"}, "reply_to_user": {"reputation": 45124, "user_id": 7532, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/db4b131b1b1519a5a22f84b1e8737f9b?s=128&d=identicon&r=PG", "display_name": "Mark Heath", "link": "https://stackoverflow.com/users/7532/mark-heath"}, "edited": false, "score": 0, "creation_date": 1572530649, "post_id": 58629752, "comment_id": 103595225, "body": "Because its going to need to be streamed to several clients. It groups headsets across a network in any configuration and broadcasts audio either from a headset or a wave file to any headset in the group. So if an operator wants head set A to hear something he can create a channel, include both headsets and stream anything he wants. Its a drag and drop so if someone drops a head set to a group in the middle of a transmission it will pick up in the middle of the data stream."}], "answers": [{"tags": [], "owner": {"reputation": 11762, "user_id": 802116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0962deadfcf889df21d85b102138487?s=128&d=identicon&r=PG", "display_name": "Asti", "link": "https://stackoverflow.com/users/802116/asti"}, "is_accepted": false, "score": 1, "last_activity_date": 1573964969, "creation_date": 1573964969, "answer_id": 58897503, "question_id": 58629752, "link": "https://stackoverflow.com/questions/58629752/naudio-wav-format-issues/58897503#58897503", "title": "Naudio wav format issues", "body": "<p>You could resample it down to your desired frequency. The prolific Mark Heath has <a href=\"https://markheath.net/post/fully-managed-input-driven-resampling-wdl\" rel=\"nofollow noreferrer\">implemented a fully managed resampler</a>.</p>\n\n<pre><code>var reader = new AudioFileReader(\"input.wav\"); //stereo\nvar downmix = reader.ToMono(); //downmix to single channel\nvar resampler = new WdlResamplingSampleProvider(downmix, 8000); //resample to 8000 Hz\nvar fmt = resampler.WaveFormat;\n\nConsole.WriteLine($\"{fmt.SampleRate} Hz, {fmt.Channels} channel, {fmt.Encoding}\");\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>8000 Hz, 1 channel, IeeeFloat\n</code></pre>\n\n<p>You can read from the resampler, as it is an <code>ISampleProvider</code>, and add to your buffer or output as neccessary.</p>\n"}], "owner": {"reputation": 19, "user_id": 8206424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831f7570f9e107758d7bf5ba45eca43c?s=128&d=identicon&r=PG&f=1", "display_name": "dataContexual", "link": "https://stackoverflow.com/users/8206424/datacontexual"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 506, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1573964969, "creation_date": 1572452400, "question_id": 58629752, "link": "https://stackoverflow.com/questions/58629752/naudio-wav-format-issues", "title": "Naudio wav format issues", "body": "<p>I want to play wav files on NAudio BufferedWaveProviders that have a this format: WaveFormat.CreateIeeeFloatWaveFormat(8000, 1);</p>\n\n<p>The format of my wave files is 16 bit PCM: 44kHz 2 Channels.\nI am reading bytes out of the file and adding them as samples to the bufferedWaveProvider. With the format I want to use (which is existing to the application) there is no audio at all. With a standard format (new WaveFormat()), the audio works just fine. Is it Possible to manipulate the wave file data to play on the requested format? </p>\n\n<pre><code>bufferedWaveProvider = new BufferedWaveProvider(WaveFormat.CreateIeeeFloatWaveFormat(8000, 1);\nplayer = new WaveOut();\nplayer.DeviceNumber = -1;\nplayer.Init(bufferedWaveProvider);\nplayer.Play();\nusing (WaveFileReader reader = new WaveFileReader (\"filePath\")\n    {\n        int end = (int)reader.Length;\n        byte[] buffer = new byte[336];\n        while (reader.Position &lt; end)\n        {\n             int bytesRequired = (int)(end - reader.Position);\n             if (bytesRequired &gt; 0)\n             {\n                 int bytesToRead = Math.Min(bytesRequired,buffered.Length);\n                 int bytesRead = reader.Read(buffer, 0 , bytesToRead);\n                 if (bytesRead &gt; 0)\n                 {\n                 bufferedWaveProvider.AddSamples(buffer, 0, bytesRead);\n                 }\n             }\n        }\n    }\n</code></pre>\n\n<p>I also have a side question. while I was figuring out how to stream the wave file data I had to experiment with the bytes buffer size to send because if its too small the audio is choppy and if its too large the buffer overflows. \nThough trial and error I found 336 to be the best buffer size for a wave format of 16 bits, 44100 sample rate, 2 channels. How are you supposed to calculate the sample size so I can automatically know what size works for any given format?</p>\n"}, {"tags": ["c#", "wpf", "data-binding", "avalondock"], "answers": [{"tags": [], "owner": {"reputation": 2734, "user_id": 2470362, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/xlHsB.jpg?s=128&g=1", "display_name": "Abin", "link": "https://stackoverflow.com/users/2470362/abin"}, "is_accepted": false, "score": 1, "last_activity_date": 1572454233, "creation_date": 1572454233, "answer_id": 58630232, "question_id": 58629688, "link": "https://stackoverflow.com/questions/58629688/c-wpf-avalondock-loses-data-binding-after-reloading-layout/58630232#58630232", "title": "C# WPF AvalonDock loses data binding after reloading layout", "body": "<p>Use <code>LayoutItemContainerStyleSlector</code> in 'XAML' to maintain the binding.</p>\n\n<p>for example:</p>\n\n<pre><code>    &lt;xcad:DockingManager.LayoutItemContainerStyleSelector&gt;\n        &lt;pane:PanesStyleSelector&gt;\n            &lt;pane:PanesStyleSelector.ToolStyle&gt;\n                &lt;Style TargetType=\"{x:Type xcad:LayoutAnchorableItem}\"&gt;                        \n                    &lt;Setter Property=\"Visibility\" Value=\"{Binding Model.IsVisible, Mode=TwoWay, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter={x:Static Visibility.Hidden}}\" /&gt;\n                    &lt;Setter Property=\"ContentId\" Value=\"{Binding Model.ContentId}\" /&gt;\n                    &lt;Setter Property=\"FlowDirection\" Value=\"RightToLeft\" /&gt;\n                    &lt;Setter Property=\"UseLayoutRounding\" Value=\"False\" /&gt;\n                    &lt;Setter Property=\"IconSource\" Value=\"{Binding Model.IconSource}\" /&gt;\n                    &lt;Setter Property=\"IsHitTestVisible\" Value=\"True\" /&gt;\n                    &lt;Setter Property=\"Title\" Value=\"{Binding Model.Title}\" /&gt;\n                &lt;/Style&gt;\n            &lt;/pane:PanesStyleSelector.ToolStyle&gt;\n            &lt;pane:PanesStyleSelector.FileStyle&gt;\n                &lt;Style TargetType=\"{x:Type xcad:LayoutItem}\"&gt;\n                    &lt;Setter Property=\"Title\" Value=\"{Binding Model.Title}\" /&gt;\n                    &lt;Setter Property=\"ContentId\" Value=\"{Binding Model.ContentId}\" /&gt;\n                    &lt;Setter Property=\"CanClose\" Value=\"{Binding Model.CanClose}\" /&gt;\n                    &lt;Setter Property=\"IconSource\" Value=\"{Binding Model.IconSource}\" /&gt;\n                    &lt;Setter Property=\"CanFloat\" Value=\"{Binding Model.CanFloat}\" /&gt;\n                    &lt;Setter Property=\"Margin\" Value=\"5\" /&gt;\n                &lt;/Style&gt;\n            &lt;/pane:PanesStyleSelector.FileStyle&gt;\n        &lt;/pane:PanesStyleSelector&gt;\n    &lt;/xcad:DockingManager.LayoutItemContainerStyleSelector&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12298375, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBWWv3bV5wNyRjRKuP7MBfaUz3cuLoVzDqi2mM5CQ=k-s128", "display_name": "yanke928", "link": "https://stackoverflow.com/users/12298375/yanke928"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572454233, "creation_date": 1572452141, "question_id": 58629688, "link": "https://stackoverflow.com/questions/58629688/c-wpf-avalondock-loses-data-binding-after-reloading-layout", "title": "C# WPF AvalonDock loses data binding after reloading layout", "body": "<p>I'm working with avalon-dock plugin and found a super annoying problem. My application uses data-binding in xamls. I tried to save the layout of avalon-dock when the application exits, and load the layout when the app start again(Using XmlLayoutSerializer.Deserialize() &amp; Serialize()). The layout is saved and retrived perfectly.</p>\n\n<p>But all the data-bindings are destroyed, that is, the content of the binded property stays the same as when the application last exits, but data-binding NO LONGER WORKS. Seems avalon-dock deserialize process destroyed the data-binding and the contents are sticked to a permanant value. </p>\n\n<p>I tried to look for ways of setting what kind of layout data for avalon-dock to save &amp; retrive but nothing found. Could any body solve the problem or provide some hints of workarounds?</p>\n\n<p>Thanks.</p>\n\n<p>Here's what the binding likes(Here the title is binded):</p>\n\n<pre><code>&lt;avalon:LayoutAnchorable ContentId=\"Basic_Docu\" \nCanHide=\"False\" \nCanClose=\"False\"\nTitle =\"{Binding MainPageText.Basic_Tab_Title, Source={StaticResource R}}\"&gt;\n  &lt;Frame Name=\"Basic_Docu_Frame\"&gt;\n  &lt;/Frame&gt;\n&lt;/avalon:LayoutAnchorable&gt;\n</code></pre>\n\n<p>Here's the codes saving and retriving the layouts:</p>\n\n<pre><code>void Save_LayoutInfo()\n{\n    try\n    {\n        string Working_Dir = Environment.CurrentDirectory + \"\\\\layout\";\n        System.IO.Directory.CreateDirectory(Working_Dir);\n        XmlLayoutSerializer layoutSerializer = new XmlLayoutSerializer(dockingManager);\n        using (var writer = new StreamWriter(Working_Dir + \"\\\\\" + \"MainPage\"))\n        {\n            layoutSerializer.Serialize(writer);\n        }\n    }\n    catch (Exception)\n    {\n        ;\n    }\n}\n\nvoid Retrive_LayoutInfo()\n{\n    try\n    {\n        string Working_Dir = Environment.CurrentDirectory + \"\\\\layout\";\n        XmlLayoutSerializer layoutSerializer = new XmlLayoutSerializer(dockingManager);\n        using (var reader = new StreamReader(Working_Dir + \"\\\\\" + \"MainPage\"))\n        {\n            layoutSerializer.Deserialize(reader);\n        }\n    }\n    catch (Exception)\n    {\n        ;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "angular", "api", "iis"], "comments": [{"owner": {"reputation": 681, "user_id": 8265882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyHul.png?s=128&g=1", "display_name": "Ivan-San", "link": "https://stackoverflow.com/users/8265882/ivan-san"}, "edited": false, "score": 0, "creation_date": 1572452494, "post_id": 58629675, "comment_id": 103566693, "body": "You are using angular?"}, {"owner": {"reputation": 49, "user_id": 11155817, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GoVp-nD7zRY/AAAAAAAAAAI/AAAAAAAAABI/HhMXVIAhkPE/photo.jpg?sz=128", "display_name": "Danna Luciana Carrillo Perez", "link": "https://stackoverflow.com/users/11155817/danna-luciana-carrillo-perez"}, "reply_to_user": {"reputation": 681, "user_id": 8265882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyHul.png?s=128&g=1", "display_name": "Ivan-San", "link": "https://stackoverflow.com/users/8265882/ivan-san"}, "edited": false, "score": 0, "creation_date": 1572452680, "post_id": 58629675, "comment_id": 103566814, "body": "@Ivan-San yes ,"}, {"owner": {"reputation": 681, "user_id": 8265882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyHul.png?s=128&g=1", "display_name": "Ivan-San", "link": "https://stackoverflow.com/users/8265882/ivan-san"}, "edited": false, "score": 0, "creation_date": 1572453182, "post_id": 58629675, "comment_id": 103567100, "body": "You don&#39;t need to use the {{ }} for the path, remove it and leave it just like in my answer"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 11155817, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GoVp-nD7zRY/AAAAAAAAAAI/AAAAAAAAABI/HhMXVIAhkPE/photo.jpg?sz=128", "display_name": "Danna Luciana Carrillo Perez", "link": "https://stackoverflow.com/users/11155817/danna-luciana-carrillo-perez"}, "edited": false, "score": 0, "creation_date": 1572452380, "post_id": 58629716, "comment_id": 103566625, "body": "I want to access from the client, is this valid?"}, {"owner": {"reputation": 681, "user_id": 8265882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyHul.png?s=128&g=1", "display_name": "Ivan-San", "link": "https://stackoverflow.com/users/8265882/ivan-san"}, "reply_to_user": {"reputation": 49, "user_id": 11155817, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GoVp-nD7zRY/AAAAAAAAAAI/AAAAAAAAABI/HhMXVIAhkPE/photo.jpg?sz=128", "display_name": "Danna Luciana Carrillo Perez", "link": "https://stackoverflow.com/users/11155817/danna-luciana-carrillo-perez"}, "edited": false, "score": 0, "creation_date": 1572452603, "post_id": 58629716, "comment_id": 103566766, "body": "Yes is valid but it works if you are under the .net background, if you&#39;re handling the URL in the frontend maybe it does not going to work"}], "tags": [], "owner": {"reputation": 681, "user_id": 8265882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyHul.png?s=128&g=1", "display_name": "Ivan-San", "link": "https://stackoverflow.com/users/8265882/ivan-san"}, "is_accepted": false, "score": 0, "last_activity_date": 1572452244, "creation_date": 1572452244, "answer_id": 58629716, "question_id": 58629675, "link": "https://stackoverflow.com/questions/58629675/access-image-on-iis-server-from-client-via-url-asp-net/58629716#58629716", "title": "Access image on IIS server from client via Url | ASP .Net", "body": "<p>Use tilde <code>~</code> for <a href=\"https://stackoverflow.com/a/9718858/8265882\">relative URL in paths</a>: </p>\n\n<pre><code>&lt;img  src=\"{{ '~/uploads/Koala.jpg'}} \" &gt; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2795, "user_id": 11944612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/278c2eeb5b26a5c4831612e5a288c936?s=128&d=identicon&r=PG&f=1", "display_name": "Jokies Ding", "link": "https://stackoverflow.com/users/11944612/jokies-ding"}, "is_accepted": false, "score": 0, "last_activity_date": 1572500234, "creation_date": 1572500234, "answer_id": 58637405, "question_id": 58629675, "link": "https://stackoverflow.com/questions/58629675/access-image-on-iis-server-from-client-via-url-asp-net/58637405#58637405", "title": "Access image on IIS server from client via Url | ASP .Net", "body": "<p>Based on my understanding, you shouldn't specify the full URL in <code>&lt;img src=\"{{ }}\"&gt;.</code></p>\n\n<p>If you want to specify full URL in Src attribute, you don't need angular. You should just remove <code>{{''}}</code> and modify the URL to</p>\n\n<pre><code>&lt;img  src=\"http://192.168.1.20/Api/api/uploads/Koala.jpg\" &gt; \n</code></pre>\n\n<p>If you want to use angular2 in this case, you should just modify the URL like</p>\n\n<pre><code> &lt;img src=\"{{imageUrl}}\"&gt;\n</code></pre>\n\n<p>Then declare the variable <strong>imageUrl</strong> in Component.</p>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 11155817, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GoVp-nD7zRY/AAAAAAAAAAI/AAAAAAAAABI/HhMXVIAhkPE/photo.jpg?sz=128", "display_name": "Danna Luciana Carrillo Perez", "link": "https://stackoverflow.com/users/11155817/danna-luciana-carrillo-perez"}, "edited": false, "score": 0, "creation_date": 1572540223, "post_id": 58638609, "comment_id": 103600599, "body": "In the first test it does not work, for that reason mention what type of project is"}, {"owner": {"reputation": 99, "user_id": 9532685, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-10Eol2-PWgs/AAAAAAAAAAI/AAAAAAAAAEA/GamX9ZRmXts/photo.jpg?sz=128", "display_name": "Shan Nautiyal", "link": "https://stackoverflow.com/users/9532685/shan-nautiyal"}, "reply_to_user": {"reputation": 49, "user_id": 11155817, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GoVp-nD7zRY/AAAAAAAAAAI/AAAAAAAAABI/HhMXVIAhkPE/photo.jpg?sz=128", "display_name": "Danna Luciana Carrillo Perez", "link": "https://stackoverflow.com/users/11155817/danna-luciana-carrillo-perez"}, "edited": false, "score": 0, "creation_date": 1572594340, "post_id": 58638609, "comment_id": 103615125, "body": "If you are not able to access it locally after publishing ( I am assuming rest of the app is working) then the problem is with hosting. is there any authentication on your app?"}, {"owner": {"reputation": 49, "user_id": 11155817, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GoVp-nD7zRY/AAAAAAAAAAI/AAAAAAAAABI/HhMXVIAhkPE/photo.jpg?sz=128", "display_name": "Danna Luciana Carrillo Perez", "link": "https://stackoverflow.com/users/11155817/danna-luciana-carrillo-perez"}, "edited": false, "score": 0, "creation_date": 1572705438, "post_id": 58638609, "comment_id": 103645896, "body": "if there is authentication, but in the controllers, I have no idea if this also affects the static files"}], "tags": [], "owner": {"reputation": 99, "user_id": 9532685, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-10Eol2-PWgs/AAAAAAAAAAI/AAAAAAAAAEA/GamX9ZRmXts/photo.jpg?sz=128", "display_name": "Shan Nautiyal", "link": "https://stackoverflow.com/users/9532685/shan-nautiyal"}, "is_accepted": false, "score": 1, "last_activity_date": 1572506920, "creation_date": 1572506920, "answer_id": 58638609, "question_id": 58629675, "link": "https://stackoverflow.com/questions/58629675/access-image-on-iis-server-from-client-via-url-asp-net/58638609#58638609", "title": "Access image on IIS server from client via Url | ASP .Net", "body": "<p>First try to access the image url on the browser i.e., </p>\n\n<p><a href=\"http://localhost/Api/api/uploads/Koala.jpg\" rel=\"nofollow noreferrer\">http://localhost/Api/api/uploads/Koala.jpg</a></p>\n\n<p>If it displays the image then there is not problem with you IIS hosting.</p>\n\n<p>Now try the same url from a different machine in the network i.e.,</p>\n\n<p><a href=\"http://192.168.1.20/Api/api/uploads/Koala.jpg\" rel=\"nofollow noreferrer\">http://192.168.1.20/Api/api/uploads/Koala.jpg</a> (from a different machine)</p>\n\n<p>If it does not work then make sure that you machine accepts http inbound traffic over the network.</p>\n"}], "owner": {"reputation": 49, "user_id": 11155817, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GoVp-nD7zRY/AAAAAAAAAAI/AAAAAAAAABI/HhMXVIAhkPE/photo.jpg?sz=128", "display_name": "Danna Luciana Carrillo Perez", "link": "https://stackoverflow.com/users/11155817/danna-luciana-carrillo-perez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1334, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1572506920, "creation_date": 1572452096, "last_edit_date": 1572452630, "question_id": 58629675, "link": "https://stackoverflow.com/questions/58629675/access-image-on-iis-server-from-client-via-url-asp-net", "title": "Access image on IIS server from client via Url | ASP .Net", "body": "<p>My application is an Api ASP.Net, and I save the images in the <code>\"wwwroot\"</code> folder</p>\n\n<p><strong>Content</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/JP2Lx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JP2Lx.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I publish my application that structure is created as well and I want to access the images through a URL</p>\n\n<p><strong>From Client Angular 2</strong></p>\n\n<pre><code>&lt;img  src=\"{{ 'http://192.168.1.20/Api/api/uploads/Koala.jpg'}} \" &gt; \n(Not Found)\n</code></pre>\n\n<p><em>I must mention, that my application is published locally, and users connected to the network must access the images</em></p>\n\n<p><strong>Question</strong></p>\n\n<p>How to access the image found on the IIS server with the Url?\nI am right?\nCorrect me if I'm wrong\nThank you all</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1572451943, "post_id": 58629555, "comment_id": 103566364, "body": "Post example data and expected output. The methods work well. If you get unexpected results it&#39;s probably because eg <code>cleanedphone</code> isn&#39;t what you expected, or the static <code>Mylist</code> contains unexpected data from a previous execution. <i>Don&#39;t</i> use static fields to pass data around, use method parameters or, in the worst case, instance fields"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1572451967, "post_id": 58629555, "comment_id": 103566384, "body": "BTW a simple regex would be faster <i>and</i> produce no temporary strings"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1572452110, "post_id": 58629555, "comment_id": 103566468, "body": "Try trim : cleanedphone.Trim().EndsWith(a)"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1572452188, "post_id": 58629555, "comment_id": 103566523, "body": "No repro by the way. If I use <code>&quot;+123-1235&quot;</code> as <code>phone</code> and <code>var Mylist=new List&lt;string&gt; { &quot;1235&quot;};</code> as a list, I get <code>Yes</code>"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1572452330, "post_id": 58629555, "comment_id": 103566591, "body": "<code>Regex.Replace(&quot;+123-1235&quot;,&quot;\\\\D&quot;,&quot;&quot;)</code> will remove any non-digit information from the string by the way, eg <code>var cleanedPhone=Regex.Replace(&quot;+123-1235&quot;,&quot;\\\\D&quot;,&quot;&quot;)</code>. A Regex is thread-safe and reusable, which means <i>it</i> can be created once and stored in a static field and reused, eg <code>Regex cleanUp=new Regex(&quot;\\\\D&quot;); ..... var cleanedPhone=cleanup.Replace(phone,&quot;&quot;);</code>"}, {"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1572452378, "post_id": 58629555, "comment_id": 103566623, "body": "@PanagiotisKanavos thanks for the reply , i provided a sample of the list..."}, {"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1572452415, "post_id": 58629555, "comment_id": 103566644, "body": "@jdweng i already trimmed the <code>cleanedphone</code> when i build the string..."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1572452525, "post_id": 58629555, "comment_id": 103566711, "body": "@testtest is this an empty line or empty string?"}, {"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1572452578, "post_id": 58629555, "comment_id": 103566754, "body": "@PanagiotisKanavos i am building the list from a text file,, so this is an empty line inside the text file, which will be represented as an entry with empty value inside the list.."}], "answers": [{"tags": [], "owner": {"reputation": 15446, "user_id": 7299782, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/nNfiq.png?s=128&g=1", "display_name": "Anu Viswan", "link": "https://stackoverflow.com/users/7299782/anu-viswan"}, "is_accepted": false, "score": 4, "last_activity_date": 1572453041, "last_edit_date": 1572453041, "creation_date": 1572452707, "answer_id": 58629843, "question_id": 58629555, "link": "https://stackoverflow.com/questions/58629555/using-endswith-inside-list-any-is-not-working-as-expected/58629843#58629843", "title": "using EndsWith() inside List.Any() is not working as expected", "body": "<p>The issue with your code is that your List contains an Empty String. An easier way forward would be to remove the empty string.</p>\n\n<pre><code>var status = Mylist.Where(a=&gt;a.Length&gt;0).Any(a =&gt; cleanedphone.EndsWith(a)) ? \"Yes\" : \"No\";\n</code></pre>\n\n<p>Or combining the conditions</p>\n\n<pre><code>var status = Mylist.Any(a =&gt; a.Length&gt;0 &amp;&amp; cleanedphone.EndsWith(a)) ? \"Yes\" : \"No\";\n</code></pre>\n\n<p>As a footnote, it would be better if you could use Regex for cleaning up the phone number for non-numeric characters. For example,</p>\n\n<pre><code>var cleanedphone = Regex.Replace(phone, @\"\\D\", string.Empty);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "is_accepted": true, "score": 1, "last_activity_date": 1572453102, "last_edit_date": 1572453102, "creation_date": 1572452756, "answer_id": 58629860, "question_id": 58629555, "link": "https://stackoverflow.com/questions/58629555/using-endswith-inside-list-any-is-not-working-as-expected/58629860#58629860", "title": "using EndsWith() inside List.Any() is not working as expected", "body": "<p>The problem is cause by the empty string in the list. String.EndsWith returns <code>true</code> for every string if the input is an empty string, eg :</p>\n\n<pre><code>\"abc\".EndsWith(\"\");\n</code></pre>\n\n<p>Returns true.</p>\n\n<p>You'll have to clean up the list of suffixes, eg with :</p>\n\n<pre><code>myList=myList.Where(x=&gt;!String.IsNullOrWhitespace(x)).ToList();\n</code></pre>\n\n<p>You can speed up and simplify your code if you use a regular expression stored in a static field to remove non-numeric characters, eg :</p>\n\n<pre><code>static Regex _cleanup;\nstatic List&lt;string&gt; _suffixes;\n\nstatic void Initialize(string sourcePath)\n{\n    _cleanup  = new Regex(\"\\\\D\");\n    _suffixes = File.ReadLines(sourcePath)\n                    .Where(x=&gt;!String.IsNullOrWhitespace(x))\n                    .ToList();\n}\n\npublic string CheckPhone(string phone)\n{\n    var cleanedphone = _cleanup.Replace(phone,\"\");\n    var result = _suffixes.Any(a =&gt; cleanedphone.EndsWith(a)) ? \"Yes\" : \"No\";\n    return result;\n}\n\n\n`File.ReadLines` returns an `IEnumerable&lt;string&gt;` instead of `string[]` which means you don't have to load the entire file before cleaning up the entries\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "edited": false, "score": 0, "creation_date": 1572453991, "post_id": 58629892, "comment_id": 103567515, "body": "thanks for the reply this worked for me.... But can i ask you to remove the numbers from your reply as they represents some live date for us.. thanks"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "reply_to_user": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "edited": false, "score": 2, "creation_date": 1572454370, "post_id": 58629892, "comment_id": 103567673, "body": "@testtest you shouldn&#39;t have posted them in the question then. Post an example that actually reproduces the problem with <i>dummy</i> data. WIthout that list the question doesn&#39;t make sense"}, {"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "edited": false, "score": 0, "creation_date": 1572454795, "post_id": 58629892, "comment_id": 103567897, "body": "@Marco Salerno yes i agree with you, i thought i would remove them later on, and since the problem was with the white space.. anyway i would appreciate it if you edit your answer and remove the list of numbers.. thanks"}], "tags": [], "owner": {"reputation": 4879, "user_id": 7641442, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/10210531394834120/picture?type=large", "display_name": "Marco Salerno", "link": "https://stackoverflow.com/users/7641442/marco-salerno"}, "is_accepted": false, "score": 1, "last_activity_date": 1572452920, "creation_date": 1572452920, "answer_id": 58629892, "question_id": 58629555, "link": "https://stackoverflow.com/questions/58629555/using-endswith-inside-list-any-is-not-working-as-expected/58629892#58629892", "title": "using EndsWith() inside List.Any() is not working as expected", "body": "<p>This works for me:</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n            string input = @\"58181\n09905352823\n09912713815\n09913842311\n09915345235\n09921174632\n0992578810 \n0992711803 \n0995640639 \n09965262212\n09971159292\n0997626372 \n09988772816\n09999100244\n\n01132171481\n01132672788\n01133804928\n01142692085\n01142880116\n01142962865\n0114457953\n01787227855\n01788438359\n01788536032\n01788561185\n01788574002\n01788878949\n01789721106\n07594135168\n07594189551\n07594538828\n07594791499\n01912372953\n01912375775\n01912376383\n01912415145\n01912434658\n01912502728\n07989244376\n07989384524\n07989491312\n07989549434\";\n\n        List&lt;string&gt; numbers = input.Split(new string[] { Environment.NewLine }, StringSplitOptions.RemoveEmptyEntries).ToList();\n\n        string cleanedPhone = \"992043411000\";\n\n        string status = numbers.Any(x =&gt; cleanedPhone.EndsWith(x)) ? \"Yes\" : \"No\";\n\n        Console.WriteLine(status);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 58629860, "answer_count": 3, "score": 1, "last_activity_date": 1572454979, "creation_date": 1572451738, "last_edit_date": 1572454979, "question_id": 58629555, "link": "https://stackoverflow.com/questions/58629555/using-endswith-inside-list-any-is-not-working-as-expected", "title": "using EndsWith() inside List.Any() is not working as expected", "body": "<p>I have the following code inside my c# console application, where i want to check if a string <code>cleanedphone</code> end with any entry inside a list of strings:-</p>\n\n<pre><code>static List&lt;string&gt; Mylist;\nvar cleanedphone = new string(phone.Trim().Replace(\" \", \"\").Where(c =&gt; char.IsDigit(c)).ToArray());//remove non numeric chars + white spaces\nsi.status = Mylist.Any(a =&gt; cleanedphone.EndsWith(a)) ? \"Yes\" : \"No\";\n</code></pre>\n\n<p>but in my case the .Any() will return <code>Yes</code> even if the <code>cleanedphone</code> does not end with any entry inside the <code>Mylist</code>... so can anyone advice ?\nThanks</p>\n"}, {"tags": ["c#", "powershell", "powershell-3.0"], "comments": [{"owner": {"reputation": 103396, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 2, "creation_date": 1572451975, "post_id": 58629496, "comment_id": 103566390, "body": "Just add another: <code>var anotherCommand = powershell.Commands.AddCommand();</code>"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1572452654, "post_id": 58629496, "comment_id": 103566796, "body": "I feel compelled to point out that you have command injection vulnerability. You need to escape apostrophes by doubling them (similar to SQL) so that an apostrophe in the input doesn&#39;t close the string and allow a user-entered command to follow. An input like this could be very dangerous: <code>&#39;; Remove-Item \\ -Recurse -Force #</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3830, "user_id": 3156906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db841c057fb6288bd0d97017a52b9568?s=128&d=identicon&r=PG&f=1", "display_name": "mclayton", "link": "https://stackoverflow.com/users/3156906/mclayton"}, "is_accepted": false, "score": 1, "last_activity_date": 1572512610, "last_edit_date": 1572512610, "creation_date": 1572511437, "answer_id": 58639561, "question_id": 58629496, "link": "https://stackoverflow.com/questions/58629496/how-to-run-multiple-commands-in-single-script-block-in-powershell-using-c/58639561#58639561", "title": "How to run multiple commands in single script block in PowerShell using C#?", "body": "<p>I think you can simplify your code quite a bit - you don't need the <code>Invoke-Command</code> and <code>ScriptBlock</code> elements just to call a single command each - you can call the cmdlets directly instead.</p>\n\n<p>You can also address the script injection concern raised by @madreflection at the same time if you build up your commands with parameters.</p>\n\n<p>Here's a version in PowerShell (it was easier for me to test than spinning up a sample C# project :-)) that you could convert to C#:</p>\n\n<pre class=\"lang-bsh prettyprint-override\"><code>$p = [System.Management.Automation.PowerShell]::Create()\n\n$c = new-object System.Management.Automation.Runspaces.Command(\"New-MailContact\");\n$c.Parameters.Add(\"Name\", $name)\n$c.Parameters.Add(\"ExternalEmailAddress\", $address)\n$null = $p.Commands.AddCommand($c)\n\n$c = new-object System.Management.Automation.Runspaces.Command(\"Set-MailContact\");\n$c.Parameters.Add(\"Identity\", $identity)\n$c.Parameters.Add(\"HiddenFromAddressListsEnabled\", $hidden)\n$null = $p.Commands.AddCommand($c)\n\n$p.Invoke()\n</code></pre>\n\n<p><strong>Update</strong> - ah, just noticed you're using the <code>Session</code> parameter on <code>Invoke-Command</code> - if you're executing it with remoting then you probably <em>do</em> need <code>Invoke-Command</code> after all. Maybe this answer will help...</p>\n\n<p><a href=\"https://stackoverflow.com/questions/40013482/set-paramerters-in-scriptblock-when-executing-powershell-commands-with-c-sharp/40048161#40048161\">Set Paramerters in ScriptBlock when Executing Powershell Commands with C#</a></p>\n"}], "owner": {"reputation": 9864, "user_id": 158008, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/834ab5fa1dd4a0ce31b808afdf0ff03c?s=128&d=identicon&r=PG", "display_name": "James123", "link": "https://stackoverflow.com/users/158008/james123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572512610, "creation_date": 1572451528, "last_edit_date": 1572451894, "question_id": 58629496, "link": "https://stackoverflow.com/questions/58629496/how-to-run-multiple-commands-in-single-script-block-in-powershell-using-c", "title": "How to run multiple commands in single script block in PowerShell using C#?", "body": "<p>I am trying to execute multiple PS commands in single script but it is throwing an exception. I tried different options but did not work.</p>\n\n<pre><code> using (powershell = PowerShell.Create())\n {\n    command = new PSCommand();\n    command.AddCommand(\"Invoke-Command\");\n    command.AddParameter(\"ScriptBlock\",\n          System.Management.Automation.ScriptBlock.Create(\n           \"New-MailContact -Name '\" + txtEmail.Text + \"' -ExternalEmailAddress '\" + txtEmail.Text + \"';\" ));\n     command.AddParameter(\"ScriptBlock\",\n           System.Management.Automation.ScriptBlock.Create(\n           \"Set-MailContact -Identity '\" + txtEmail.Text + \"'-HiddenFromAddressListsEnabled $true\"));\n\n\n    command.AddParameter(\"Session\", session);\n    powershell.Commands = command;\n    powershell.Runspace = runspace;\n    result = powershell.Invoke();\n    if (powershell.Streams.Error.Count &gt; 0 || result.Count != 1)\n    {\n         if (powershell.Streams.Error[0].ToString().ToLowerInvariant().Contains(\"already exists\"))\n         {\n               return;\n          }\n          else\n          {\n               throw new Exception(\"Fail to establish the connection\");\n           }\n       }\n      }\n</code></pre>\n\n<blockquote>\n  <p>Cannot bind parameter because parameter 'ScriptBlock' is specified more than once. To provide multiple values to parameters that can accept multiple values, use the array syntax. For example, \"-parameter value1,value2,value3\".</p>\n</blockquote>\n\n<p>I also tried </p>\n\n<pre><code>command.AddParameter(\"ScriptBlock\",\n   System.Management.Automation.ScriptBlock.Create(\n   \"New-MailContact -Name '\" + txtEmail.Text + \"' -ExternalEmailAddress '\" + txtEmail.Text + \"';\" +  \" Set-MailContact -Identity '\" + txtEmail.Text + \"'-HiddenFromAddressListsEnabled $true\"));\n</code></pre>\n\n<p>and </p>\n\n<pre><code>command.AddParameter(\"ScriptBlock\",\n   System.Management.Automation.ScriptBlock.Create(\n   \"(New-MailContact -Name '\" + txtEmail.Text + \"' -ExternalEmailAddress '\" + txtEmail.Text + \"')\" +  \" Set-MailContact -Identity '\" + txtEmail.Text + \"'-HiddenFromAddressListsEnabled $true\"));\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "geometry", "mesh"], "comments": [{"owner": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "edited": false, "score": 0, "creation_date": 1572452042, "post_id": 58629490, "comment_id": 103566424, "body": "The JSON does not agree with the numbering in your image. E.g. vertex 0 has x-coordinate -1, but the picture clearly shows a positive x-coordinate. Are you transforming the mesh (e.g. mirroring)?"}, {"owner": {"reputation": 755, "user_id": 10503235, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e4gQeztl8vM/AAAAAAAAAAI/AAAAAAAAADc/nyidRjuNiKc/photo.jpg?sz=128", "display_name": "Jichael", "link": "https://stackoverflow.com/users/10503235/jichael"}, "reply_to_user": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "edited": false, "score": 0, "creation_date": 1572510711, "post_id": 58629490, "comment_id": 103584597, "body": "Mmmh, in unity, X goes positive on the right so it should be fine ?"}], "answers": [{"comments": [{"owner": {"reputation": 755, "user_id": 10503235, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e4gQeztl8vM/AAAAAAAAAAI/AAAAAAAAADc/nyidRjuNiKc/photo.jpg?sz=128", "display_name": "Jichael", "link": "https://stackoverflow.com/users/10503235/jichael"}, "edited": false, "score": 0, "creation_date": 1572510737, "post_id": 58629920, "comment_id": 103584611, "body": "0, 1, 2 for front face is clock wise, not counter clock wise ?"}, {"owner": {"reputation": 634, "user_id": 3811917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/779258f86c91e7fb4df3ff13d547f4f3?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Choi", "link": "https://stackoverflow.com/users/3811917/brian-choi"}, "reply_to_user": {"reputation": 755, "user_id": 10503235, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e4gQeztl8vM/AAAAAAAAAAI/AAAAAAAAADc/nyidRjuNiKc/photo.jpg?sz=128", "display_name": "Jichael", "link": "https://stackoverflow.com/users/10503235/jichael"}, "edited": false, "score": 0, "creation_date": 1572511042, "post_id": 58629920, "comment_id": 103584728, "body": "Unity z-axis increasing is back and decreasing is front so as I mentioned answer,"}, {"owner": {"reputation": 634, "user_id": 3811917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/779258f86c91e7fb4df3ff13d547f4f3?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Choi", "link": "https://stackoverflow.com/users/3811917/brian-choi"}, "reply_to_user": {"reputation": 755, "user_id": 10503235, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e4gQeztl8vM/AAAAAAAAAAI/AAAAAAAAADc/nyidRjuNiKc/photo.jpg?sz=128", "display_name": "Jichael", "link": "https://stackoverflow.com/users/10503235/jichael"}, "edited": false, "score": 0, "creation_date": 1572511263, "post_id": 58629920, "comment_id": 103584818, "body": "Mostly, problem is wrong winding drawing, so try it opposite will see."}, {"owner": {"reputation": 634, "user_id": 3811917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/779258f86c91e7fb4df3ff13d547f4f3?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Choi", "link": "https://stackoverflow.com/users/3811917/brian-choi"}, "reply_to_user": {"reputation": 755, "user_id": 10503235, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e4gQeztl8vM/AAAAAAAAAAI/AAAAAAAAADc/nyidRjuNiKc/photo.jpg?sz=128", "display_name": "Jichael", "link": "https://stackoverflow.com/users/10503235/jichael"}, "edited": false, "score": 0, "creation_date": 1572511343, "post_id": 58629920, "comment_id": 103584844, "body": "In this example that you given here, you can see that cube on &#39;Scene&#39; tab but you will not see cube in &#39;Game&#39;  tab because It will be removed by backface remover."}, {"owner": {"reputation": 755, "user_id": 10503235, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e4gQeztl8vM/AAAAAAAAAAI/AAAAAAAAADc/nyidRjuNiKc/photo.jpg?sz=128", "display_name": "Jichael", "link": "https://stackoverflow.com/users/10503235/jichael"}, "edited": false, "score": 0, "creation_date": 1572511343, "post_id": 58629920, "comment_id": 103584845, "body": "I just inverted the Z on the json, everything is fine now"}], "tags": [], "owner": {"reputation": 634, "user_id": 3811917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/779258f86c91e7fb4df3ff13d547f4f3?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Choi", "link": "https://stackoverflow.com/users/3811917/brian-choi"}, "is_accepted": false, "score": 2, "last_activity_date": 1572486486, "last_edit_date": 1572486486, "creation_date": 1572453029, "answer_id": 58629920, "question_id": 58629490, "link": "https://stackoverflow.com/questions/58629490/procedurally-generated-mesh-has-all-normals-inverted/58629920#58629920", "title": "Procedurally generated mesh has all normals inverted", "body": "<ul>\n<li>Because you tried counter-clockwise winding you should change vertex list or index list as clockwise winding. for your case, -1 for z-axis is front face and 1 is back face so you should set index list as opposite. I just converted first 2 triangles.</li>\n</ul>\n\n<pre><code>int[] triangles = {\n        // Back face\n        0, 3, 2,\n        0, 2, 1,\n\n        ...\n        ...\n    };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 755, "user_id": 10503235, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e4gQeztl8vM/AAAAAAAAAAI/AAAAAAAAADc/nyidRjuNiKc/photo.jpg?sz=128", "display_name": "Jichael", "link": "https://stackoverflow.com/users/10503235/jichael"}, "is_accepted": false, "score": 0, "last_activity_date": 1572511074, "creation_date": 1572511074, "answer_id": 58639479, "question_id": 58629490, "link": "https://stackoverflow.com/questions/58629490/procedurally-generated-mesh-has-all-normals-inverted/58639479#58639479", "title": "Procedurally generated mesh has all normals inverted", "body": "<p>Ok, I was just silly. My \"reference\" cube had a Y rotation of 180, I thought it would not do any difference but it does.</p>\n\n<p>The problem was that in the json, the Z positions were inverted (1 -> -1 and vice versa)</p>\n\n<p>Everything works fine now, thanks !</p>\n"}], "owner": {"reputation": 755, "user_id": 10503235, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-e4gQeztl8vM/AAAAAAAAAAI/AAAAAAAAADc/nyidRjuNiKc/photo.jpg?sz=128", "display_name": "Jichael", "link": "https://stackoverflow.com/users/10503235/jichael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1572511074, "creation_date": 1572451506, "question_id": 58629490, "link": "https://stackoverflow.com/questions/58629490/procedurally-generated-mesh-has-all-normals-inverted", "title": "Procedurally generated mesh has all normals inverted", "body": "<p>Hellos guys,</p>\n\n<p>I'm currently working on a project where I need to read a json file to create a scene at runtime. Serialization/deserialization works fine. </p>\n\n<p>The main problem is, I want to be able to create meshes from 8 points/vertices, I sort of achieve this, but every single normal is inverted, and I don't understand why.</p>\n\n<p>This is my json input for one : </p>\n\n<pre><code>\"name\": \"whatever\",\n        \"points\": [\n            {\n                \"x\": -1,\n                \"y\": -0.05,\n                \"z\": 1\n            },\n            {\n                \"x\": -1,\n                \"y\": 0.05,\n                \"z\": 1\n            },\n            {\n                \"x\": 1,\n                \"y\": 0.05,\n                \"z\": 1\n            },\n            {\n                \"x\": 1,\n                \"y\": -0.05,\n                \"z\": 1\n            },\n            {\n                \"x\": -1,\n                \"y\": -0.05,\n                \"z\": -1\n            },\n            {\n                \"x\": -1,\n                \"y\": 0.05,\n                \"z\": -1\n            },\n            {\n                \"x\": 1,\n                \"y\": 0.05,\n                \"z\": -1\n            },\n            {\n                \"x\": 1,\n                \"y\": -0.05,\n                \"z\": -1\n            }\n        ]\n</code></pre>\n\n<p>and this is my mesh generation code in c# :</p>\n\n<pre><code>public void GenerateMesh(SerializedMesh data)\n{\n    Vector3[] vertices = new Vector3[data.points.Count];\n\n    for (int i = 0; i &lt; data.points.Count; i++)\n    {\n        vertices[i] = new Vector3(data.points[i].x, data.points[i].y, data.points[i].z);\n    }\n\n    int[] triangles = {\n        // Front face\n        0, 1, 2,\n        2, 3, 0,\n\n        // Back face\n        7, 6, 5,\n        5, 4, 7,\n\n        // Left face\n        4, 5, 1,\n        1, 0, 4,\n\n        // Right face\n        3, 2, 6,\n        6, 7, 3,\n\n        // Top face\n        1, 5, 6,\n        6, 2, 1,\n\n        // Bottom face\n        4, 0, 3,\n        3, 7, 4\n    };\n\n    // TODO : check what all this does\n    Mesh.Clear();\n    Mesh.vertices = vertices;\n    Mesh.triangles = triangles;\n    //Mesh.RecalculateBounds();\n    Mesh.RecalculateNormals();\n    //Mesh.RecalculateTangents();\n    //Mesh.Optimize();\n}\n</code></pre>\n\n<p>I represented my vertices in this order :</p>\n\n<p><a href=\"https://i.stack.imgur.com/67Nog.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/67Nog.png\" alt=\"cube\"></a></p>\n\n<p>How come everything is inverted ?</p>\n"}, {"tags": ["c#", "mongodb"], "comments": [{"owner": {"reputation": 7279, "user_id": 415559, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TDc9T.jpg?s=128&g=1", "display_name": "barrypicker", "link": "https://stackoverflow.com/users/415559/barrypicker"}, "edited": false, "score": 0, "creation_date": 1572453144, "post_id": 58629422, "comment_id": 103567075, "body": "The MongoDB C# driver returns data as BsonDocument() type.  You have custom models.  You have not specified what framework you use to serialize/deserialize between the MongoDB Driver and your custom models.  What do you use for your DAL?"}, {"owner": {"reputation": 7279, "user_id": 415559, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TDc9T.jpg?s=128&g=1", "display_name": "barrypicker", "link": "https://stackoverflow.com/users/415559/barrypicker"}, "edited": false, "score": 0, "creation_date": 1572453254, "post_id": 58629422, "comment_id": 103567139, "body": "By the way, wholesale updating the document (that is to say replace the entire document to update a single field) is expensive and performs poorly."}, {"owner": {"reputation": 3, "user_id": 3802070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88ba19de8a73fa293d7fabc7956710e5?s=128&d=identicon&r=PG&f=1", "display_name": "user3802070", "link": "https://stackoverflow.com/users/3802070/user3802070"}, "reply_to_user": {"reputation": 7279, "user_id": 415559, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TDc9T.jpg?s=128&g=1", "display_name": "barrypicker", "link": "https://stackoverflow.com/users/415559/barrypicker"}, "edited": false, "score": 0, "creation_date": 1572506202, "post_id": 58629422, "comment_id": 103582879, "body": "I use the official C# Mongodb driver available from Nuget packages. Link: <a href=\"https://github.com/mongodb/mongo-csharp-driver\" rel=\"nofollow noreferrer\">github.com/mongodb/mongo-csharp-driver</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7279, "user_id": 415559, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TDc9T.jpg?s=128&g=1", "display_name": "barrypicker", "link": "https://stackoverflow.com/users/415559/barrypicker"}, "is_accepted": false, "score": 0, "last_activity_date": 1572546011, "creation_date": 1572546011, "answer_id": 58649240, "question_id": 58629422, "link": "https://stackoverflow.com/questions/58629422/how-to-update-an-array-element-in-a-deeply-nested-mongodb-structure-using-c-tr/58649240#58649240", "title": "How to update an array element in a deeply nested mongodb structure using C# (Trying to use positional operator to update the document))", "body": "<p>This isn't really an answer to your real problem, which is how to use the C# mongo driver, but this might help.  I am placing it here instead of comments above because I want to illustrate some code concepts and need the formatting options...</p>\n\n<p>Please allow me to elaborate on some points...</p>\n\n<p>Your code has the following lambda query criteria...</p>\n\n<pre><code>(a =&gt; a.EnduranceInfo.Any(b=&gt;b.Title== \"Taktverteiler_1\"))\n</code></pre>\n\n<p>... but your example documents do not have this field.  This will cause no documents to be found to update.  Similarly, since <code>EnduranceInfo</code> does not exist the following lambda query expression ....</p>\n\n<pre><code>(a =&gt; a.EnduranceInfo.Any(b =&gt; b.Channels.Any(c=&gt;c.Uuts.Any(d=&gt;d.UutId == \"TS220\"))))\n</code></pre>\n\n<p>... will also fail to find matching documents.  </p>\n\n<p>I often compare MongoDB to RDBMS systems.  When constructing a standard 'find()' operation in Mongo the first criteria a query.  This is horrible name because it isn't a query, instead it is the 'find a matching document' clause.  If you create a MongoDB find() command and providing only the first parameter (assuming a match is found) you will receive the entire document.  This means the first parameter is equivalent to the 'WHERE' clause in a traditional RDBMS system.  No 'SELECT' clause has yet been established.  </p>\n\n<p>So, your question is more targeted.  Not only do you want to find a specific document to update, you also want to update a specific part of the found document.  The find portion of the query finds the document.  Other portions of the query then must be defined to identify what part of the document to update.  Your code attempts to target a specific portion of the document via the two lines of code...</p>\n\n<pre><code>var enduranceUpdate = update.Set(\"Countries.$.Cities.$.EnduranceTest.$.ClockDistributor.$.Channels.$.UUTs.$\", uutObj);\ncollectionEndurance.UpdateOne(enduranceTestFound, enduranceUpdate);\n</code></pre>\n\n<p>I think you have the right idea, but syntactically the find argument <code>enduranceTestFound</code> will not have any found documents per earlier discussion.  The option <code>enduranceUpdate</code> is malformed.  The use of '$' indicates you want to update the first occurrance of an array element.   See MongoDB documentation on '$' at <a href=\"https://docs.mongodb.com/manual/reference/operator/update/positional/\" rel=\"nofollow noreferrer\">https://docs.mongodb.com/manual/reference/operator/update/positional/</a>.  You will see they specifically state...</p>\n\n<blockquote>\n  <p>the positional $ operator acts as a placeholder for the first element\n  that matches the query document, and the array field must appear as\n  part of the query document.</p>\n</blockquote>\n\n<p>In order to understand what my code needs to do I generally resolve to identifying the query first using the most rudimentary tools available.  For RDBMS systems that is usually a SQL window.  For MongoDB that is mongo shell.  My theory is that if I can create a query that executes properly in mongo shell, then I simply need to transpose it to the framework of my code, in your case C# driver specific syntax.  By using the arrayFilters option of an update command I can create a very targeted query.  This query finds the proper document via the 'find' portion, then identifies the $set command to target specific fields to update, then using the arrayFilters option I can use a placeholder variable to define what specific part of the document I wish to update.  Here is my example:</p>\n\n<pre><code>db.enduranceTest.update(\n    { \"Countries.Cities.EnduranceTests.EnduranceTestName\": \"endurance1\" }, \n    { $set: {\n        \"Countries.$[].Cities.$[].EnduranceTests.$[].ClockDistributor.$[].Channels.$[].UUTs.$[myplaceholder].ClockingCycles\" : 2000,\n        \"Countries.$[].Cities.$[].EnduranceTests.$[].ClockDistributor.$[].Channels.$[].UUTs.$[myplaceholder].Status\" : \"Running\",\n        \"Countries.$[].Cities.$[].EnduranceTests.$[].ClockDistributor.$[].Channels.$[].UUTs.$[myplaceholder].StartCycles\" : 0,\n        \"Countries.$[].Cities.$[].EnduranceTests.$[].ClockDistributor.$[].Channels.$[].UUTs.$[myplaceholder].Offset\" : 2000,\n        \"Countries.$[].Cities.$[].EnduranceTests.$[].ClockDistributor.$[].Channels.$[].UUTs.$[myplaceholder].Timestamp\" : new Date(),\n        \"Countries.$[].Cities.$[].EnduranceTests.$[].ClockDistributor.$[].Channels.$[].UUTs.$[myplaceholder].UUTHistory\" : null,\n      } \n    },\n    {\n      arrayFilters: [\n        { \"myplaceholder.UUTId\" : \"TS220\" }\n      ]\n    }\n)\n</code></pre>\n\n<p>Lots of good stuff here.  Notice the <code>myplaceholder</code> variable name and how it is referenced in both the arrayFilter area as well as the $set operator?  Notice the <code>$[]</code> to indicate any array.  You have so many nested arrays I needed to add 5 <code>$[]</code> operators in the $set for each field.  Notice I am setting field by field.  I could have replaced the entire <code>$[myplaceholder]</code> - I believe this was your original approach.  Notice my 'find' command is limited to \"Countries.Cities.EnduranceTests.EnduranceTestName\", the EnduranceInfo doesn't exist so I don't include it.</p>\n\n<p>Anyways, I look forward to your response.  This was a fun exercise to work through, and as a result I have a much stronger understanding of arrayFilters.  I suspect the C# driver has a construct for arrayFilters and understanding how to apply them remains a task.  Hopefully looking at the raw MQL you can find options to transpose into C# specific code.</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 3802070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88ba19de8a73fa293d7fabc7956710e5?s=128&d=identicon&r=PG&f=1", "display_name": "user3802070", "link": "https://stackoverflow.com/users/3802070/user3802070"}, "is_accepted": false, "score": 0, "last_activity_date": 1572854285, "creation_date": 1572854285, "answer_id": 58689230, "question_id": 58629422, "link": "https://stackoverflow.com/questions/58629422/how-to-update-an-array-element-in-a-deeply-nested-mongodb-structure-using-c-tr/58689230#58689230", "title": "How to update an array element in a deeply nested mongodb structure using C# (Trying to use positional operator to update the document))", "body": "<ul>\n<li>If you look closely in the JSON structure <code>(a =&gt; a.EnduranceInfo.Any(b=&gt;b.Title== \"Taktverteiler_1\"))</code> \"title\":\"Taktverteiler_1\" does exist down in the structure. </li>\n<li><p>Regarding your solution i find it good. but my mongodb server installed does not support Array filters. Hence i can't tell that the solution will work. When i use your solution without array filters than i get </p>\n\n<p><code>var enduranceUpdate = update.Set(               \"Countries.$[].Cities.$[].EnduranceTest.$[].ClockDistributor.$[].Channels.$[].UUTs.$[0].ClockingCycles\", uutObj.ClockingCycles);</code></p>\n\n<p>Mongodb exception cannot use the part (Countries of Countries.$[].Cities.$[].EnduranceTest.$[].ClockDistributor.$[].Channels.$[].UUTs.$[0].ClockingCycles) to traverse the element.</p></li>\n<li><p>I could get one of my solution to work but it is not the best solution since i need to know the index of each array before updating it dynamically.</p>\n\n<pre><code>` UUT uutObj = new UUT\n                {\n                  Status = \"la\u00fcft\",\n                  UutId = \"TS220\",\n                  ClockingCycles = 2000,\n                  Offset = 100,\n                  StartCycles = 0,\n                  Timestamp = DateTime.Now,\n                  UUTHistory = null\n                };\n\n    var enduranceUpdate = update.Set(\"Countries.0.Cities.0.EnduranceTest.0.ClockDistributor.0.Channels.0.UUTs.$\", uutObj);`\n</code></pre>\n\n<p><code>var enduranceTestFound = filterVM.And(\n                Builders&lt;ServerTreeVm&gt;.Filter.Where(x =&gt; x.Countries.Any(y =&gt;\n                    y.Cities.Any(z =&gt; z.EnduranceTests.Any(a =&gt; a.EnduranceInfo.Any(b =&gt; b.Channels.Any(c=&gt;c.Uuts.Any(d=&gt;d.UutId == \"TS220\"))))))));\n    UpdateResult res = collectionEndurance.UpdateOne(enduranceTestFound, enduranceUpdate);</code></p></li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 3802070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88ba19de8a73fa293d7fabc7956710e5?s=128&d=identicon&r=PG&f=1", "display_name": "user3802070", "link": "https://stackoverflow.com/users/3802070/user3802070"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1572854285, "creation_date": 1572451291, "last_edit_date": 1572510833, "question_id": 58629422, "link": "https://stackoverflow.com/questions/58629422/how-to-update-an-array-element-in-a-deeply-nested-mongodb-structure-using-c-tr", "title": "How to update an array element in a deeply nested mongodb structure using C# (Trying to use positional operator to update the document))", "body": "<p>I am trying to access a deeply nested mongodb structure and want to update and read from the structure using c#. I want to update UUT Object inside UUT arrays and also UUT History array.</p>\n\n<p>I am trying to update the value for UUTId: TS220, clockingcycles : 2000.</p>\n\n<p>I know of one option to overwrite complete document but i don't know how can i access UUTId object and insert a value for clockingcycles.</p>\n\n<p>Please answer using c# MongoDB.Driver\nThanks in advance.</p>\n\n<pre><code>MongoClient mongoClient = new MongoClient(\"mongodb://server.net:27017\");\nIMongoDatabase db = mongoClient.GetDatabase(\"enduranceTest\");\nIMongoCollection&lt;ServerTreeVm&gt; collectionEndurance = db.GetCollection&lt;ServerTreeVm&gt;(\"EnduranceTests\");\n\n\nvar filterVM = Builders&lt;ServerTreeVm&gt;.Filter;\n            var enduranceTestFound = filterVM.And(\n                Builders&lt;ServerTreeVm&gt;.Filter.Where(x =&gt; x.Countries.Any(y =&gt;\n                    y.Cities.Any(z =&gt; z.EnduranceTests.Any(a =&gt; a.EnduranceTestName == \"Endurance 1\")))),\n                Builders&lt;ServerTreeVm&gt;.Filter.Where(x =&gt; x.Countries.Any(y =&gt;\n                    y.Cities.Any(z =&gt; z.EnduranceTests.Any(a =&gt; a.EnduranceInfo.Any(b=&gt;b.Title== \"Taktverteiler_1\"))))),\n                Builders&lt;ServerTreeVm&gt;.Filter.Where(x =&gt; x.Countries.Any(y =&gt;\n                    y.Cities.Any(z =&gt; z.EnduranceTests.Any(a =&gt; a.EnduranceInfo.Any(b =&gt; b.Channels.Any(c=&gt;c.Uuts.Any(d=&gt;d.UutId == \"TS220\"))))))));\n\n            var enduranceTest = collectionEndurance.Find(enduranceTestFound).SingleOrDefault();\n\n            //update with positional operator\n            var update = Builders&lt;ServerTreeVm&gt;.Update;\n\n            UUT uutObj = new UUT\n            {\n              Status = \"Running\",\n              UutId = \"TS220\",\n              ClockingCycles = 2000,\n              Offset = 100,\n              StartCycles = 0,\n              Timestamp = DateTime.Now,\n              UUTHistory = null\n            };\n\n            var enduranceUpdate = update.Set(\"Countries.$.Cities.$.EnduranceTest.$.ClockDistributor.$.Channels.$.UUTs.$\", uutObj);\n            collectionEndurance.UpdateOne(enduranceTestFound, enduranceUpdate);\n\n</code></pre>\n\n<p>so i get the entire document from mongodb in C# ServerTreeVM Model and then i am trying to update the document with positional operator. But it is not updating the document. I don't know what am i doing here wrong. Any tips or a different way of doing this?</p>\n\n<pre><code>{\n  \"_id\": {\n    \"$oid\": \"5d5ff0be962f936368c28b1f\"\n  },\n  \"Countries\": [\n    {\n      \"CountryName\": \"Country1\",\n      \"Cities\": [\n        {\n          \"CityName\": \"City1\",\n          \"EnduranceTests\": [\n            {\n              \"EnduranceTestName\": \"endurance1\",\n              \"ClockDistributor\": [\n                {\n                  \"IP\": \"192.168.2.6\",\n                  \"Channels\": [\n                    {\n                      \"UUTs\": [\n                        {\n                          \"UUTId\": \"TS220\",\n                          \"ClockingCycles\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Status\": \"Steht\",\n                          \"StartCycles\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Offset\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Timestamp\": {\n                            \"$date\": {\n                              \"$numberLong\": \"946681200000\"\n                            }\n                          },\n                          \"UUTHistory\": [\n                            {\n                              \"ClockingCycles\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Offset\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Status\": \"\",\n                              \"StartCycles\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Timestamp\": {\n                                \"$date\": {\n                                  \"$numberLong\": \"946681200000\"\n                                }\n                              }\n                            }\n                          ]\n                        },\n                        {\n                          \"UUTId\": \"TS221\",\n                          \"ClockingCycles\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Status\": \"Steht\",\n                          \"StartCycles\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Offset\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Timestamp\": {\n                            \"$date\": {\n                              \"$numberLong\": \"946681200000\"\n                            }\n                          },\n                          \"UUTHistory\": [\n                            {\n                              \"ClockingCycles\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Offset\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Status\": \"\",\n                              \"StartCycles\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Timestamp\": {\n                                \"$date\": {\n                                  \"$numberLong\": \"946681200000\"\n                                }\n                              }\n                            }\n                          ]\n                        }\n                      ],\n                      \"ChannelCycles\": {\n                        \"$numberInt\": \"0\"\n                      },\n                      \"NodeName\": \"\"\n                    },\n                    {\n                      \"ChannelCycles\": {\n                        \"$numberInt\": \"0\"\n                      },\n                      \"UUTs\": [\n                        {\n                          \"UUTId\": \"TS230\",\n                          \"ClockingCycles\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Status\": \"Steht\",\n                          \"StartCycles\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Offset\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Timestamp\": {\n                            \"$date\": {\n                              \"$numberLong\": \"946681200000\"\n                            }\n                          },\n                          \"UUTHistory\": [\n                            {\n                              \"ClockingCycles\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Offset\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Status\": \"\",\n                              \"StartCycles\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Timestamp\": {\n                                \"$date\": {\n                                  \"$numberLong\": \"946681200000\"\n                                }\n                              }\n                            }\n                          ]\n                        }\n                      ],\n                      \"NodeName\": \"\"\n                    },\n                    {\n                      \"UUTs\": [\n                        {\n                          \"UUTId\": \"TS240\",\n                          \"ClockingCycles\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Status\": \"Steht\",\n                          \"StartCycles\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Offset\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Timestamp\": {\n                            \"$date\": {\n                              \"$numberLong\": \"946681200000\"\n                            }\n                          },\n                          \"UUTHistory\": [\n                            {\n                              \"ClockingCycles\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Offset\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Status\": \"\",\n                              \"StartCycles\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Timestamp\": {\n                                \"$date\": {\n                                  \"$numberLong\": \"946681200000\"\n                                }\n                              }\n                            }\n                          ]\n                        }\n                      ],\n                      \"ChannelCycles\": {\n                        \"$numberInt\": \"0\"\n                      },\n                      \"NodeName\": \"\"\n                    },\n                    {\n                      \"ChannelCycles\": {\n                        \"$numberInt\": \"0\"\n                      },\n                      \"UUTs\": [\n                        {\n                          \"UUTId\": \"TS250\",\n                          \"ClockingCycles\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Status\": \"Steht\",\n                          \"StartCycles\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Offset\": {\n                            \"$numberInt\": \"0\"\n                          },\n                          \"Timestamp\": {\n                            \"$date\": {\n                              \"$numberLong\": \"946681200000\"\n                            }\n                          },\n                          \"UUTHistory\": [\n                            {\n                              \"ClockingCycles\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Offset\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Status\": \"\",\n                              \"StartCycles\": {\n                                \"$numberInt\": \"0\"\n                              },\n                              \"Timestamp\": {\n                                \"$date\": {\n                                  \"$numberLong\": \"946681200000\"\n                                }\n                              }\n                            }\n                          ]\n                        }\n                      ],\n                      \"NodeName\": \"\"\n                    }\n                  ],\n                  \"ConnectionType\": \"Opcua\",\n                  \"Title\": \"Taktverteiler_1\",\n                  \"Link\": \"http://192.168.0.6:8080/tv_webvisu.htm\",\n                  \"PropertyNames\": [\n                    \"P-Line\",\n                    \"Modus\",\n                    \"Status\",\n                    \"Freq [Hz]\",\n                    \"Verwendung\"\n                  ],\n                  \"Nodes\": [\n                    \"|var|CPX-CEC-S1-V3.Application.PersistentVars.ar_str_p1_p2\",\n                    \"|var|CPX-CEC-S1-V3.Application.OPC_UA_Variablen_Dashboard.ar_str_Normal_VE_OPC_UA\",\n                    \"|var|CPX-CEC-S1-V3.Application.OPC_UA_Variablen_Dashboard.ar_str_Status_OPC_UA\",\n                    \"|var|CPX-CEC-S1-V3.Application.PersistentVars.ar_r_Frequenz_Kanal_X\",\n                    \"|var|CPX-CEC-S1-V3.Application.OPC_UA_Variablen_Dashboard.ar_str_Verwendung\"\n                  ],\n                  \"StartStopNodes\": [\n                    \"|var|CPX-CEC-C1-V3.Application.GVL.b_Button_Stimulation_Starten_aktive_Kanaele\",\n                    \"|var|CPX-CEC-C1-V3.Application.GVL.b_alle_Stopp\"\n                  ]\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n\n<pre><code>[BsonIgnoreExtraElements]\n    public class ServerTreeVm\n    {\n        [BsonElement(\"Countries\")]\n        public List&lt;Country&gt; Countries { get; set; }\n\n        public string ActiveEnduranceTest { get; set; }\n\n        public string ActiveDistributor { get; set; }\n\n    }\n\n    [BsonIgnoreExtraElements]\n    public class Country\n    {\n        [BsonElement(\"Cities\")]\n        public List&lt;City&gt; Cities { get; set; }\n        [BsonElement(\"CountryName\")]\n        public string CountryName { get; set; }\n    }\n\n    [BsonIgnoreExtraElements]\n    public class City\n    {\n        [BsonElement(\"EnduranceTests\")]\n        public List&lt;Endurance&gt; EnduranceTests { get; set; }\n        [BsonElement(\"CityName\")]\n        public string CityName { get; set; }\n    }\n\n    [BsonIgnoreExtraElements]\n    public class Endurance\n    {\n        [BsonElement(\"ClockDistributor\")]\n        public List&lt;EnduranceInformation&gt; EnduranceInfo { get; set; }\n        [BsonElement(\"EnduranceTestName\")]\n        public string EnduranceTestName { get; set; }\n    }\n\n\n    [BsonIgnoreExtraElements]\n    public class UUT\n    {\n        [BsonElement(\"UUTId\")]\n        public string UutId { get; set; }\n        [BsonElement(\"ClockingCycles\")]\n        public double ClockingCycles { get; set; }\n        [BsonElement(\"Status\")]\n        public string Status { get; set; }\n        [BsonElement(\"StartCycles\")]\n        public double StartCycles { get; set; }\n        [BsonElement(\"Offset\")]\n        public double Offset { get; set; }\n        [BsonElement(\"Timestamp\")]\n        public DateTime Timestamp { get; set; }\n        [BsonElement(\"UUTHistory\")]\n        public List&lt;UUTHistory&gt; UUTHistory { get; set; }\n    }\n\n\n    [BsonIgnoreExtraElements]\n    public class UUTHistory\n    {\n        [BsonElement(\"ClockingCycles\")]\n        public double ClockingCycles { get; set; }\n        [BsonElement(\"Status\")]\n        public string Status { get; set; }\n        [BsonElement(\"StartCycles\")]\n        public double StartCycles { get; set; }\n        [BsonElement(\"Offset\")]\n        public double Offset { get; set; }\n        [BsonElement(\"Timestamp\")]\n        public DateTime Timestamp { get; set; }\n    }\n\n\n    [BsonIgnoreExtraElements]\n    public class ChannelObjects\n    {\n        [BsonElement(\"UUTs\")]\n        public List&lt;UUT&gt; Uuts { get; set; }\n        [BsonElement(\"ChannelCycles\")]\n        public double ChannelCycles { get; set; }\n        [BsonElement(\"NodeName\")]\n        public string NodeName { get; set; }\n\n    }\n\n\n    [BsonIgnoreExtraElements]\n    public class EnduranceInformation\n    {\n        [BsonElement(\"IP\")]\n        public string Ip { get; set; }\n\n        [BsonElement(\"Title\")]\n        public string Title { get; set; }\n\n        [BsonElement(\"Link\")]\n        public string Link { get; set; }\n\n        [BsonElement(\"PropertyNames\")]\n        public List&lt;string&gt; PropertyNames { get; set; }\n\n        [BsonElement(\"Nodes\")]\n        public List&lt;string&gt; Nodes { get; set; }\n\n        [BsonElement(\"Channels\")]\n        public List&lt;ChannelObjects&gt; Channels { get; set; }\n\n        [BsonElement(\"ConnectionType\")]\n        public String ConnectionType { get; set; }\n\n        [BsonElement(\"StartStopNodes\")]\n        public List&lt;string&gt; StartStopNodeNames { get; set; }\n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "data-binding"], "comments": [{"owner": {"reputation": 109, "user_id": 1026464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87f16c9ec4d165bac7c361c31b190f55?s=128&d=identicon&r=PG", "display_name": "epifun", "link": "https://stackoverflow.com/users/1026464/epifun"}, "edited": false, "score": 0, "creation_date": 1572451904, "post_id": 58629378, "comment_id": 103566343, "body": "First of all you can cast <code>sender</code> argument to TextBox, and get access for current changed textbox, and make calculation relative current textbox. Also take a look to Model\u2013view\u2013viewmodel (MVVM) architectural pattern."}, {"owner": {"reputation": 11, "user_id": 12197282, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-O294A1IQ6Aw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcSoDY5A7fTE3PPmRUzkOIOM9Rs8w/photo.jpg?sz=128", "display_name": "Alice Guo", "link": "https://stackoverflow.com/users/12197282/alice-guo"}, "reply_to_user": {"reputation": 109, "user_id": 1026464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/87f16c9ec4d165bac7c361c31b190f55?s=128&d=identicon&r=PG", "display_name": "epifun", "link": "https://stackoverflow.com/users/1026464/epifun"}, "edited": false, "score": 0, "creation_date": 1572452187, "post_id": 58629378, "comment_id": 103566522, "body": "The calculation method is not the same, can I still do that? I&#39;ll check MVVM. Thank you"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 12197282, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-O294A1IQ6Aw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcSoDY5A7fTE3PPmRUzkOIOM9Rs8w/photo.jpg?sz=128", "display_name": "Alice Guo", "link": "https://stackoverflow.com/users/12197282/alice-guo"}, "is_accepted": true, "score": 0, "last_activity_date": 1573078145, "creation_date": 1573078145, "answer_id": 58739216, "question_id": 58629378, "link": "https://stackoverflow.com/questions/58629378/how-to-manage-textbox-changes-when-building-complicated-financial-calculation-in/58739216#58739216", "title": "How to manage textbox changes when building complicated financial calculation in WPF", "body": "<p>Finally I found a way to realize those functions. Using Converter.</p>\n\n<pre><code>   public class AddListRecordsConverter : IMultiValueConverter\n    {\n        public object Convert(object[] values, Type targetType, object parameter, CultureInfo culture)\n        {\n            decimal val = 0;\n            decimal result = 0;\n\n            foreach (var txt in values)\n            {\n                if (string.IsNullOrEmpty(txt.ToString())) continue;\n                if (decimal.TryParse(txt.ToString(), out val))\n                    result += val;\n                else\n                    return \"$0.00\";\n            }\n\n            return result.ToString();\n        }\n\n        public object[] ConvertBack(object value, Type[] targetTypes, object parameter, CultureInfo culture)\n        {\n            return null;\n        }\n    }\n\npublic class InterestCalculationRecordsConverter : IMultiValueConverter\n    {\n        public object Convert(object[] values, Type targetType, object parameter, CultureInfo culture)\n        {\n            decimal val = 0;\n            decimal result = 0;\n            List&lt;decimal&gt; convertedLists = new List&lt;decimal&gt;();\n            foreach (var txt in values)\n            {\n                if (string.IsNullOrEmpty(txt.ToString())) return null;\n                if (decimal.TryParse(txt.ToString(), out val))\n                    //result += val;\n                    convertedLists.Add(val);\n                else\n                    return \"$0.00\";\n            }\n\n            if (convertedLists[0] == 0) return 0;\n            result = 1 / convertedLists[0] * convertedLists[1] * convertedLists[2] * convertedLists[3];\n\n            return result.ToString();\n        }\n\n        public object[] ConvertBack(object value, Type[] targetTypes, object parameter, CultureInfo culture)\n        {\n            return null;\n        }\n    }\n</code></pre>\n\n<p>Xaml is like below.</p>\n\n<pre><code> &lt;Page.Resources&gt;\n        &lt;local:AddListRecordsConverter x:Key=\"AddListRecordsConverter\"&gt;&lt;/local:AddListRecordsConverter&gt;\n        &lt;local:InterestCalculationRecordsConverter x:Key=\"InterestCalculationRecordsConverter\"&gt;&lt;/local:InterestCalculationRecordsConverter&gt;\n &lt;/Page.Resources&gt;\n</code></pre>\n\n<p>Textbox Xaml is like below (just post the int calculate):</p>\n\n<pre><code>&lt;TextBox Grid.Row=\"7\" Grid.Column=\"2\" Name=\"TxtPostJudgmentInterest\" IsEnabled=\"False\"&gt;\n    &lt;TextBox.Text&gt;\n        &lt;MultiBinding Converter=\"{StaticResource InterestCalculationRecordsConverter}\"&gt;\n            &lt;Binding ElementName=\"TxtYearDays\" Path=\"Text\" Mode=\"OneWay\"&gt;&lt;/Binding&gt;\n            &lt;Binding ElementName=\"TxtDays\" Path=\"Text\" Mode=\"OneWay\"&gt;&lt;/Binding&gt;\n            &lt;Binding ElementName=\"TxtPrincipal\" Path=\"Text\" Mode=\"OneWay\"&gt;&lt;/Binding&gt;\n            &lt;Binding ElementName=\"TxtInt\" Path=\"Text\" Mode=\"OneWay\"&gt;&lt;/Binding&gt;\n        &lt;/MultiBinding&gt;\n    &lt;/TextBox.Text&gt;\n&lt;/TextBox&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12197282, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-O294A1IQ6Aw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcSoDY5A7fTE3PPmRUzkOIOM9Rs8w/photo.jpg?sz=128", "display_name": "Alice Guo", "link": "https://stackoverflow.com/users/12197282/alice-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58739216, "answer_count": 1, "score": -1, "last_activity_date": 1573078145, "creation_date": 1572451179, "last_edit_date": 1572452309, "question_id": 58629378, "link": "https://stackoverflow.com/questions/58629378/how-to-manage-textbox-changes-when-building-complicated-financial-calculation-in", "title": "How to manage textbox changes when building complicated financial calculation in WPF", "body": "<p>I am building a wpf application for some complicated financial calculation using textbox. <a href=\"https://i.stack.imgur.com/wJ6Q5.png\" rel=\"nofollow noreferrer\">The spreadsheet example</a></p>\n\n<p>All grey cells are based on the formula. </p>\n\n<p>I know I can use textbox_textChanges to track single textbox change, I tried to create some general textchange Method like the below: </p>\n\n<pre><code>    private void Txt_onTextChanged(object sender, TextChangedEventArgs e)\n    {\n        textbox.Text = int.Parse(!string.IsNullOrEmpty(textbox1.Text) ? textbox1.Text : \"0\") +\n                       int.Parse(!string.IsNullOrEmpty(textbox1.Text) ? textbox1.Text : \"0\")\n    }\n</code></pre>\n\n<p>It doesn't work well since I have so many different textboxes and calculations. (When the interest Basis changed, 3 more cells are changed) Is there an efficient way to track those changes and automatically reflect on the other textbox? I don't want to create text_TextChanges for eahch single Textbox, and the calculation method is not the same.</p>\n"}, {"tags": ["c#", "sql-server", ".net-core", "entity-framework-core", "domain-driven-design"], "comments": [{"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1572939866, "post_id": 58629377, "comment_id": 103707566, "body": "Why do you think you need that <code>FileUploadId</code> class anyway? If all it&#39;s doing is exposing a readonly int property, why not just use a readonly int property on the <code>FileUpload</code> class? What benefits does the <code>FileUploadId</code> provide?"}, {"owner": {"reputation": 719, "user_id": 7404140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-JU71hs0V-f4/AAAAAAAAAAI/AAAAAAAAAUg/Sf33hx8ptx8/photo.jpg?sz=128", "display_name": "senz", "link": "https://stackoverflow.com/users/7404140/senz"}, "reply_to_user": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1572940076, "post_id": 58629377, "comment_id": 103707668, "body": "It&#39;s about &quot;Primitive Obsession&quot;. You can read about it here: <a href=\"https://andrewlock.net/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-1/\" rel=\"nofollow noreferrer\">andrewlock.net/&hellip;</a>"}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 1, "creation_date": 1572942228, "post_id": 58629377, "comment_id": 103708599, "body": "Thanks, I&#39;ve learned something new today because of you! I do think, however, that while the points made in the blog post where valid, and the solution proposed is also valid, that this approach might be a massive overkill in many cases."}, {"owner": {"reputation": 719, "user_id": 7404140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-JU71hs0V-f4/AAAAAAAAAAI/AAAAAAAAAUg/Sf33hx8ptx8/photo.jpg?sz=128", "display_name": "senz", "link": "https://stackoverflow.com/users/7404140/senz"}, "reply_to_user": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1572942845, "post_id": 58629377, "comment_id": 103708872, "body": "Yes, I totally agree. In most cases this approach is a overkill. But when you start a new project from scratch which contains a large business domain it could be very helpful for a clean codebase."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1573075360, "post_id": 58629377, "comment_id": 103767316, "body": "So the idea is to have some primitive values like Primary &amp; Foreign Keys wrapped in a custom class, so the class matching can ask you &quot;why are you trying to assign a CustomerID to a OrderID field/property?&quot; Interesting idea. Could propably make a generic for it."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1573075402, "post_id": 58629377, "comment_id": 103767328, "body": "As I understand it the issue is assigning that value during Deserialisation and apparently Resultset/EF mapping. Automagics wich first create a empty instance to then asign the values conventionally. Did I get this right?"}], "answers": [{"comments": [{"owner": {"reputation": 719, "user_id": 7404140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-JU71hs0V-f4/AAAAAAAAAAI/AAAAAAAAAUg/Sf33hx8ptx8/photo.jpg?sz=128", "display_name": "senz", "link": "https://stackoverflow.com/users/7404140/senz"}, "edited": false, "score": 1, "creation_date": 1572457746, "post_id": 58629984, "comment_id": 103569283, "body": "This actually did not solve my question. My question is not about casting strongly-typed values to natives. I already know Andrews blog series. But he is using always a <code>Guid</code> which is generated manually. I just want to use a <code>int</code> which is <b>auto incremented</b> (not created manually before insert)."}], "tags": [], "owner": {"reputation": 3496, "user_id": 2961734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79f0229603e30b04fddc833d85afc9e0?s=128&d=identicon&r=PG&f=1", "display_name": "Laughing Vergil", "link": "https://stackoverflow.com/users/2961734/laughing-vergil"}, "is_accepted": false, "score": 0, "last_activity_date": 1572453274, "creation_date": 1572453274, "answer_id": 58629984, "question_id": 58629377, "link": "https://stackoverflow.com/questions/58629377/primitive-obsession-strongly-typed-int-id-with-auto-increment/58629984#58629984", "title": "Primitive Obsession - Strongly typed int ID with auto increment", "body": "<p>Honestly, using strongly-typed variables with SQL in EF is a true pain. The best explanation I have seen can be found in <a href=\"https://andrewlock.net/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-3/\" rel=\"nofollow noreferrer\">this blog post by Andrew Lock</a>.</p>\n\n<p>The core of the problem? Using strongly-typed values can result in conducting the filtering of a query (the WHERE ID = value clause) on the client, requiring the process to retrieve all of the records from the DB to perform the selection locally.</p>\n\n<p>The core to the solution? Using a ValueConverter to cast the strongly-typed value to the correct SQL Server value.</p>\n\n<p>Details are extensive. See the referenced article for detail on how to do it.</p>\n"}, {"tags": [], "owner": {"reputation": 7677, "user_id": 649922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6018c4ebb37ea82122c941aeaaab3b4b?s=128&d=identicon&r=PG", "display_name": "Ortiga", "link": "https://stackoverflow.com/users/649922/ortiga"}, "is_accepted": false, "score": 0, "last_activity_date": 1573425517, "creation_date": 1573425517, "answer_id": 58793569, "question_id": 58629377, "link": "https://stackoverflow.com/questions/58629377/primitive-obsession-strongly-typed-int-id-with-auto-increment/58793569#58793569", "title": "Primitive Obsession - Strongly typed int ID with auto increment", "body": "<p>I'd advise against letting EF deal with the strongly typed Id. It does not handle it well and there will be cases where it will try to filter things in memory.</p>\n\n<p>But you can have both properties, one for EF queries, and one for everything else.</p>\n\n<pre><code>class FileUpload\n{\n    public int InternalId { get; private set; }\n    public FileUploadId Id \n    {\n        get { return new FileUploadId(InternalId); }\n        set { InternalId = value.Value; }\n    }\n}\n</code></pre>\n\n<p>It's leaky, but it works.</p>\n"}], "owner": {"reputation": 719, "user_id": 7404140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-JU71hs0V-f4/AAAAAAAAAAI/AAAAAAAAAUg/Sf33hx8ptx8/photo.jpg?sz=128", "display_name": "senz", "link": "https://stackoverflow.com/users/7404140/senz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 325, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1573425517, "creation_date": 1572451176, "last_edit_date": 1573024793, "question_id": 58629377, "link": "https://stackoverflow.com/questions/58629377/primitive-obsession-strongly-typed-int-id-with-auto-increment", "title": "Primitive Obsession - Strongly typed int ID with auto increment", "body": "<p>How to get a strongly typed Id...</p>\n\n<pre><code>public sealed class FileUploadId\n{\n    public int Value { get; }\n\n    public FileUploadId(int value)\n    {\n        Value = value;\n    }\n}\n</code></pre>\n\n<p>...which is used within my <code>FileUpload</code> class...</p>\n\n<pre><code>public class FileUpload : EntityBase, IAggregateRoot\n{\n    private FileUpload() { /* Required by EF */ }\n\n    public FileUpload(string name, string relativePath, FileUploadType type, string contentType, long? size = null)\n    {\n        /* Guard clauses... */\n\n        Id = new FileUploadId(0);\n\n        /* Other properties... */\n    }\n\n    public FileUploadId Id { get; }\n\n    /* Other properties... */\n}\n</code></pre>\n\n<p>...working with identity (<code>int</code> auto increment)?</p>\n\n<p>I tried <code>ValueGeneratedOnAdd()</code>in my <code>TypeConifiguration</code>, but without success...</p>\n\n<pre><code>public class FileUploadTypeConfig : IEntityTypeConfiguration&lt;FileUpload&gt;\n{\n    public void Configure(EntityTypeBuilder&lt;FileUpload&gt; builder)\n    {\n        builder.HasKey(x =&gt; x.Id);\n        builder.Property(x =&gt; x.Id).HasConversion(x =&gt; x.Value, x =&gt; new FileUploadId(x)).ValueGeneratedOnAdd();\n\n        /* Other configurations... */\n    }\n}\n</code></pre>\n\n<p>I know there's another option with the <strong>HiLo algorithm</strong>. But I want to get it work with default <code>int</code> id increment. Is this possible in any way?</p>\n"}, {"tags": ["c#", "wpf", ".net-core", "datagrid"], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 12290763, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB7equ8geOkf5nZ91pHTBxMgw0u25cAOR7A1ptfdw=k-s128", "display_name": "Jake Hayton", "link": "https://stackoverflow.com/users/12290763/jake-hayton"}, "is_accepted": true, "score": 0, "last_activity_date": 1572521969, "creation_date": 1572521969, "answer_id": 58642572, "question_id": 58629341, "link": "https://stackoverflow.com/questions/58629341/sorting-datagridtextcolumn-by-int-or-float-value-instead-of-raw-string-sort/58642572#58642572", "title": "Sorting DataGridTextColumn by Int or Float value instead of raw string sort", "body": "<p>Found a solution that works.</p>\n\n<p>Changing the ItemsSource type to <code>ObservableCollection&lt;ExpandoObject&gt;</code> allowed me to dynamically create classes according to the XML file loaded (thanks C# 6).</p>\n\n<p>I could then directly use <code>ListCollectionView lcv = new ListCollectionView(xmlData.ItemsSource as IList);</code></p>\n"}, {"tags": [], "owner": {"reputation": 108, "user_id": 3631673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82b3e249fc26d2e5ace1177969b797b0?s=128&d=identicon&r=PG&f=1", "display_name": "Bjarne", "link": "https://stackoverflow.com/users/3631673/bjarne"}, "is_accepted": false, "score": 0, "last_activity_date": 1594716319, "creation_date": 1594716319, "answer_id": 62891309, "question_id": 58629341, "link": "https://stackoverflow.com/questions/58629341/sorting-datagridtextcolumn-by-int-or-float-value-instead-of-raw-string-sort/62891309#62891309", "title": "Sorting DataGridTextColumn by Int or Float value instead of raw string sort", "body": "<h2>Answer</h2>\n<p>During creation of the columns you should be able to specify the <code>SortMemberPath</code> because your custom column is deriving from <code>DataGridTextColumn</code>. However this does mean you have to have access to the integer representation of the value you want to sort by.</p>\n<p>In my test I came up with this programmatic initialization of the columns:</p>\n<pre><code>this.deviceLogDataGrid.Columns.Add(new DataGridTextColumn()\n{\n    Header = &quot;Error Number&quot;,\n    Binding = new Binding(nameof(DeviceLogRowVM.ErrorNumberString)),\n    MaxWidth = 150,\n    // DefaultValue = column.ColumnDefault,\n    SortMemberPath = nameof(DeviceLogRowVM.ErrorNumber)\n});\n</code></pre>\n<p>The property ErrorNumber is the actual integer value and the ErrorNumberString is the string representation of the value. I use the <code>nameof</code> expression in order to make refactoring names of properties more safe.</p>\n<h2>Alternatively</h2>\n<p>If you just want to use the string representation to format the text correctly you could try to use the <code>StringFormat</code> property on the <code>Binding</code> object instead. Your binding initialization could look like this:</p>\n<pre><code>Binding = new Binding(nameof(DeviceLogRowVM.ErrorNumber)) { StringFormat = &quot;ER-{0}&quot; },\n</code></pre>\n<p>This will also by default (without the use of the <code>SortMemberPath</code> property) sort the column correctly as the bound value is actually an integer which just get formatted before displaying it. Useful if you only want to show 2 decimal digits of a float but needs to sort by the full precision.</p>\n"}], "owner": {"reputation": 35, "user_id": 12290763, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB7equ8geOkf5nZ91pHTBxMgw0u25cAOR7A1ptfdw=k-s128", "display_name": "Jake Hayton", "link": "https://stackoverflow.com/users/12290763/jake-hayton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 58642572, "answer_count": 2, "score": 1, "last_activity_date": 1594716319, "creation_date": 1572451070, "last_edit_date": 1572513228, "question_id": 58629341, "link": "https://stackoverflow.com/questions/58629341/sorting-datagridtextcolumn-by-int-or-float-value-instead-of-raw-string-sort", "title": "Sorting DataGridTextColumn by Int or Float value instead of raw string sort", "body": "<p>I'm using a DataGrid and programmatically generating the columns with code-behind.\nThe columns are derived from DataGridTextColumn with some additions for locking key input to a specific type.</p>\n\n<p>I need the columns to sort numerically:</p>\n\n<pre><code>1\n2\n10\n11\n</code></pre>\n\n<p>instead of the default string based sort:</p>\n\n<pre><code>1\n10\n11\n2\n</code></pre>\n\n<p>I've tried a DataGridSortingEvent, but it fails to cast from BindingListCollectionView to IList</p>\n\n<pre><code>ListCollectionView lcv = new ListCollectionView((IList)CollectionViewSource.GetDefaultView(dataGrid.ItemsSource));\n</code></pre>\n\n<p>Here's how I'm creating the DataGrid</p>\n\n<pre><code>DataSet set = new DataSet();\nset.ReadXml(xmlDocument.CreateReader());\n\nDataView data = set.Tables[\"row\"];\n\ndataGrid.ItemsSource = data;\n\n</code></pre>\n\n<p>Here's the block where I'm creating the columns</p>\n\n<pre><code>dataGrid.Columns.Add(new DataChimpIntegerColumn()\n                            {\n                                Header = column.ColumnTitle,\n                                Binding = new Binding(column.ColumnTitle),\n                                MaxWidth = 150,\n                                DefaultValue = column.ColumnDefault,\n                            });\n</code></pre>\n\n<p>And the event block</p>\n\n<pre><code>private void dataGrid_Sorting(object sender, DataGridSortingEventArgs e)\n{\n    DataGridColumn column = e.Column;\n    IComparer comparer = null;\n\n    if (e.Column.SortMemberPath != \"id\") return;\n\n    e.Handled = true;\n\n    ListSortDirection direction = (column.SortDirection != ListSortDirection.Ascending) \n        ? ListSortDirection.Ascending : ListSortDirection.Descending;\n\n    column.SortDirection = direction;\n\n    //    Error --&gt; \n    ListCollectionView lcv = new ListCollectionView((IList)CollectionViewSource\n        .GetDefaultView(dataGrid.ItemsSource));\n\n    comparer = new SortNumerical(direction);\n\n    lcv.CustomSort = comparer;\n}\n</code></pre>\n\n<p>The exact error message is:</p>\n\n<pre><code>System.InvalidCastException: 'Unable to cast object of type 'System.Windows.Data.BindingListCollectionView' to type 'System.Collections.IList'.'\n</code></pre>\n"}, {"tags": ["c#", "android", "visual-studio", "xamarin", "xamarin.android"], "comments": [{"owner": {"reputation": 1263, "user_id": 1230756, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e25a7bdc44808d5b22cd6bc8a34ab0c6?s=128&d=identicon&r=PG", "display_name": "level_zebra", "link": "https://stackoverflow.com/users/1230756/level-zebra"}, "edited": false, "score": 0, "creation_date": 1572454715, "post_id": 58629278, "comment_id": 103567844, "body": "Have you checked you are using the latest version of windows 10 ?"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 1, "creation_date": 1572455955, "post_id": 58629278, "comment_id": 103568472, "body": "If you are now seeing Xamarin.Android 9+ you are using an outdated version of Xamarin.Android."}, {"owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "edited": false, "score": 1, "creation_date": 1572491696, "post_id": 58629278, "comment_id": 103579455, "body": "what&#39;s your Visual Studio ?if your Visual Studio is low version,you won&#39;t be able to target Android to high api  even if they are installed through the SDK manager"}, {"owner": {"reputation": 106, "user_id": 9416943, "user_type": "registered", "profile_image": "https://graph.facebook.com/1404723246323452/picture?type=large", "display_name": "KennyAli", "link": "https://stackoverflow.com/users/9416943/kennyali"}, "reply_to_user": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "edited": false, "score": 0, "creation_date": 1572713462, "post_id": 58629278, "comment_id": 103648208, "body": "Yes, you&#39;re right @LeoZhu-MSFT. That was the problem. Thank you very much.  You too SushiHangover."}], "owner": {"reputation": 106, "user_id": 9416943, "user_type": "registered", "profile_image": "https://graph.facebook.com/1404723246323452/picture?type=large", "display_name": "KennyAli", "link": "https://stackoverflow.com/users/9416943/kennyali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572450882, "creation_date": 1572450882, "question_id": 58629278, "link": "https://stackoverflow.com/questions/58629278/visual-studio-does-not-show-me-all-downloaded-android-versions-sdk-manager", "title": "Visual Studio does not show me all downloaded Android versions - SDK Manager", "body": "<p>I am working with Visual Studio developing an app with <strong>Xamarin.Android</strong> but I found a problem that is giving me a lot of headache because it prevents me from downloading the <strong>NuGets</strong> that I need (<code>Xamarin.Firebase.Messaging</code>).</p>\n\n<p>The main problem is that I download all the versions of Android from the SDK Manager, but when I want to select <code>Android 9</code> (API 28) or <code>Android 10</code> as \"<code>Target Android Version</code>\", it shows me all up to Android 8, I mean, no It shows me neither Android 9 nor anything else above.</p>\n\n<p>I have already tried to update, uninstall the packages and reinstall them, and nothing works.</p>\n\n<p><a href=\"https://i.stack.imgur.com/36V0v.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/36V0v.jpg\" alt=\"1\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/0WzqL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0WzqL.jpg\" alt=\"2\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Oh1uG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oh1uG.jpg\" alt=\"3\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/oHL4O.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oHL4O.jpg\" alt=\"4\"></a></p>\n\n<p>Any advice? \nAt least to be able install the NuGet that I need to implement Push notifications in my app?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 4, "creation_date": 1572451010, "post_id": 58629236, "comment_id": 103565831, "body": "Patterns are solutions to specific problems. If you don&#39;t have those specific problems, you don&#39;t need those specific solutions. In this case, the problem is data access and <i>none</i> of those patterns apply. You can use a microORM like Dapper to execute parameterized SQL queries, or a full ORM like Entity Framework to get a Repository and UoW in the form of a DbContext. If you <i>really</i> need to map DTOs and view models, you can use AutoMapper"}, {"owner": {"reputation": 667, "user_id": 1094751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c077908e2160a8cfef078ac11d180437?s=128&d=identicon&r=PG", "display_name": "Kristianne Nerona", "link": "https://stackoverflow.com/users/1094751/kristianne-nerona"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1572451343, "post_id": 58629236, "comment_id": 103566028, "body": "My problem is repeating operations, but are you saying that because I have a differing INSERT statements, my code cannot be trimmed down more? My worry is that if I get a new type of request, I have to change a lot of things on different places. Also, I am limited to using ADO.Net at the moment."}, {"owner": {"reputation": 613, "user_id": 3460741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5cpb6.jpg?s=128&g=1", "display_name": "MorenajeRD", "link": "https://stackoverflow.com/users/3460741/morenajerd"}, "edited": false, "score": 0, "creation_date": 1572451487, "post_id": 58629236, "comment_id": 103566097, "body": "you could try using something like MagnaDB"}, {"owner": {"reputation": 99, "user_id": 4241642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c757964788cdade4dadcb63c7283aea?s=128&d=identicon&r=PG&f=1", "display_name": "stak", "link": "https://stackoverflow.com/users/4241642/stak"}, "edited": false, "score": 1, "creation_date": 1572458845, "post_id": 58629236, "comment_id": 103569785, "body": "Repository can be simplified to one method which handles both standard and special requests since they both go into the same table.   Just put a null in the Desc parameter if it is a standard request."}, {"owner": {"reputation": 667, "user_id": 1094751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c077908e2160a8cfef078ac11d180437?s=128&d=identicon&r=PG", "display_name": "Kristianne Nerona", "link": "https://stackoverflow.com/users/1094751/kristianne-nerona"}, "reply_to_user": {"reputation": 99, "user_id": 4241642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c757964788cdade4dadcb63c7283aea?s=128&d=identicon&r=PG&f=1", "display_name": "stak", "link": "https://stackoverflow.com/users/4241642/stak"}, "edited": false, "score": 0, "creation_date": 1572460383, "post_id": 58629236, "comment_id": 103570492, "body": "good point @stak. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 667, "user_id": 1094751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c077908e2160a8cfef078ac11d180437?s=128&d=identicon&r=PG", "display_name": "Kristianne Nerona", "link": "https://stackoverflow.com/users/1094751/kristianne-nerona"}, "edited": false, "score": 1, "creation_date": 1572460693, "post_id": 58631277, "comment_id": 103570634, "body": "This is awesome. I don&#39;t mind more code, because I am expecting more request types and it will bloat my original code. I&#39;ll study and implement, and see if it can be improved more. Thanks for taking your time on this one!"}], "tags": [], "owner": {"reputation": 602, "user_id": 1401699, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/80ad2877bab9185edcf03688987af2c3?s=128&d=identicon&r=PG", "display_name": "Rakesh", "link": "https://stackoverflow.com/users/1401699/rakesh"}, "is_accepted": true, "score": 1, "last_activity_date": 1572458416, "creation_date": 1572458416, "answer_id": 58631277, "question_id": 58629236, "link": "https://stackoverflow.com/questions/58629236/apply-patterns-on-repeating-operations/58631277#58631277", "title": "Apply patterns on repeating operations", "body": "<p>I took most of what I could from your post and this is what I could come up with.\nYour DTO objects don't seem very clear to me, so I've left it out, but they have a role to play when it comes to saving the objects in the repository and I've left that part out.</p>\n\n<p>Interface</p>\n\n<pre><code>    public interface IRequest\n    {\n        int RequestType { get; set; }\n        string Name { get; set; }\n        void ValidateFields();\n    }\n</code></pre>\n\n<p>Two types of Request</p>\n\n<pre><code>    public class StandardRequest : IRequest\n    {\n        public int RequestType { get ; set ; }\n        public string Name { get ; set; }\n\n        public void ValidateFields()\n        {\n            //validation logic\n        }\n    }\n\n    public class SpecialRequest:  IRequest\n    {\n        public string Desc { get; set; }\n        public int RequestType { get; set; }\n        public string Name { get; set; }\n\n        public void ValidateFields()\n        {\n            //validation logic\n        }\n    }\n</code></pre>\n\n<p>Factory to create the Request objects</p>\n\n<pre><code>    public class RequestFactory\n    {\n        public static IRequest CreateRequest(string requestTypeStr)\n        {\n            switch (requestTypeStr)\n            {\n                case \"0\": return new SpecialRequest();\n                default: return new StandardRequest();\n            }\n        }\n    }\n</code></pre>\n\n<p>Class to handle the interactions of the <code>IRequest</code> object, aptly named <code>RequestInteractions</code>, I know a poor name choice! </p>\n\n<p>This class is what validates and saves the requests.</p>\n\n<pre><code>    public class RequestInteractions\n    {\n        private IRequest _requestObj;\n        private Repository _repository;\n\n        public RequestInteractions(IRequest requestObj, Repository repository)\n        {\n            _requestObj = requestObj;\n            _repository = repository;\n        }\n\n        public bool ValidateAndSave()\n        {\n            try\n            {\n                _requestObj.ValidateFields();\n                _repository.SaveRequest(_requestObj);\n                return true;\n            }\n            catch (Exception e)\n            {\n                throw;\n            }\n        }\n    }\n</code></pre>\n\n<p>Repository - like I said, this needs to be fleshed out. The IRequest (through the DTO) should be able to tell you how it needs to be persisted. You'll have to fill this in.</p>\n\n<pre><code>    public class Repository\n    {\n        public void SaveRequest(IRequest requestObject)\n        {\n            //The respective DTO should help you figure out what to save based on the type of IRequest\n        }\n    }\n</code></pre>\n\n<p>Tying it all together</p>\n\n<pre><code>            var repository = new Repository();\n            var requestObject = RequestFactory.CreateRequest(\"\");\n            var requestInteractions = new RequestInteractions(requestObject,repository);\n            requestInteractions.ValidateAndSave();\n</code></pre>\n\n<blockquote>\n  <p>Benefit of this approach - You need to create a new Request class (and\n  a DTO) when you get a new Request to add to the system, the rest of\n  the plumbing need not be touched. </p>\n  \n  <p>Downside - Well, a lot of code compared to what you have.</p>\n</blockquote>\n"}], "owner": {"reputation": 667, "user_id": 1094751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c077908e2160a8cfef078ac11d180437?s=128&d=identicon&r=PG", "display_name": "Kristianne Nerona", "link": "https://stackoverflow.com/users/1094751/kristianne-nerona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 58631277, "answer_count": 1, "score": 0, "last_activity_date": 1572458416, "creation_date": 1572450726, "question_id": 58629236, "link": "https://stackoverflow.com/questions/58629236/apply-patterns-on-repeating-operations", "title": "Apply patterns on repeating operations", "body": "<p>What pattern/s can I apply on my code? I have been reading on the patterns <em>Bridge</em>, <em>Command</em>, and <em>Builder</em>, and it looks like I can apply them on the code block below, but I struggle at how I can apply them to my code. I've also tried adding a generic method, but I struggle with consuming it with my repository.</p>\n\n<p>This is a webform backend code. I am using .Net 3.5 (can't upgrade), and C#7. Here is the code:</p>\n\n<p><strong><em>Entities</em></strong>\nNote: I'm using data transfer objects because these classes have a lot of properties. Also, <em>SpecialRequestDTO</em> inherits <em>StandardRequestDTO</em>.</p>\n\n<pre><code>public class StandardRequest\n{\n   public int RequestType { get; protected set; }\n   public string Name { get; protected set; }\n   private StandardRequest(StandardRequestDTO dto) { Name = dto.Name; }\n   public static StandardRequest Create(StandardRequestDTO dto) =&gt; new StandardRequest(dto);\n}\n\npublic class SpecialRequest : StandardRequest\n{\n   public string Desc { get; protected set; }\n   private SpecialRequest(SpecialRequestDTO dto) : base((StandardRequestDTO) dto) { Desc = dto.Desc; }\n   public static SpecialRequest Create(SpecialRequestDTO dto) =&gt; new SpecialRequestDTO(dto);\n}\n</code></pre>\n\n<p><strong><em>Repository</em></strong></p>\n\n<pre><code>public class Repository\n{\n    public void SaveStandardRequest(StandardRequest request)\n    {\n        var query = $\"INSERT INTO Requests (Name, RequestType) Values(@{nameof(request.Name)}, @{nameof(request.RequestType)})\";\n        // sqlcommand code etc\n    }\n\n    public void SaveSpecialRequest(SpecialRequest request)\n    {\n       var query = $\"INSERT INTO Requests (Name, RequestType, Desc) VALUES(@{nameof(request.Name)}, @{nameof(request.Name)}, @{nameof(request.Desc)})\";\n        // sqlcommand code etc\n    }\n}\n</code></pre>\n\n<p><strong><em>Index.aspx.cs</em></strong></p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n   if (IsPostBack)\n   {\n       string requestTypeStr = Request.Form[nameof(requestTypeStr)];\n       if (string.IsNullOrEmpty(requestTypeStr))\n          return;\n   }\n\n   if (requestTypeStr == 0)\n   {\n       ValidateStandardRequestFields();\n       var dto = CreateStandardRequestDTO();\n       _repository.SaveStandardRequest(dto);\n   }\n\n   if (requestTypeStr == 1)\n   {\n       ValidateSpecialRequestFields();\n       var dto = CreateSpecialRequestDTO();\n       _repository.SaveSpecialRequest(dto);\n   }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "entity-framework", "sqlite"], "comments": [{"owner": {"reputation": 1378, "user_id": 1396984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FiCew.jpg?s=128&g=1", "display_name": "John Lieb-Bauman", "link": "https://stackoverflow.com/users/1396984/john-lieb-bauman"}, "edited": false, "score": 1, "creation_date": 1572452663, "post_id": 58629228, "comment_id": 103566801, "body": "Is there a reason you&#39;re using a <code>DbSet&lt;Foo&gt;</code> instead of a <code>List&lt;Foo&gt;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 11380034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FZ1Lf_KExlk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcwug11a1kK206QOWFsOYcL5yjJoA/mo/photo.jpg?sz=128", "display_name": "BonEd", "link": "https://stackoverflow.com/users/11380034/boned"}, "edited": false, "score": 0, "creation_date": 1572451373, "post_id": 58629285, "comment_id": 103566047, "body": "There is only 1 table in the database. The table has a primary key, of course, but there are no foreign keys. Still can be the problem be caused by navigation properties? What should I do with them?"}, {"owner": {"reputation": 1378, "user_id": 1396984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FiCew.jpg?s=128&g=1", "display_name": "John Lieb-Bauman", "link": "https://stackoverflow.com/users/1396984/john-lieb-bauman"}, "reply_to_user": {"reputation": 37, "user_id": 11380034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FZ1Lf_KExlk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcwug11a1kK206QOWFsOYcL5yjJoA/mo/photo.jpg?sz=128", "display_name": "BonEd", "link": "https://stackoverflow.com/users/11380034/boned"}, "edited": false, "score": 1, "creation_date": 1572452530, "post_id": 58629285, "comment_id": 103566720, "body": "Ah, it&#39;s very possible that the context has not resolved the data.  At that point it is still an IQueryable object which is essentially just unresolved sql (more or less).  Try adding a <code>.ToList()</code> to the <code>allResults</code> object inside the using statement."}, {"owner": {"reputation": 37, "user_id": 11380034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FZ1Lf_KExlk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcwug11a1kK206QOWFsOYcL5yjJoA/mo/photo.jpg?sz=128", "display_name": "BonEd", "link": "https://stackoverflow.com/users/11380034/boned"}, "edited": false, "score": 0, "creation_date": 1572456291, "post_id": 58629285, "comment_id": 103568615, "body": "Thank you; now I understand the problem. Now I&#39;m am trying to use ASP.NET built-in DI container instead of a lot of using directives, but I have other problems with that. :D"}], "tags": [], "owner": {"reputation": 1378, "user_id": 1396984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/FiCew.jpg?s=128&g=1", "display_name": "John Lieb-Bauman", "link": "https://stackoverflow.com/users/1396984/john-lieb-bauman"}, "is_accepted": false, "score": 0, "last_activity_date": 1572450912, "creation_date": 1572450912, "answer_id": 58629285, "question_id": 58629228, "link": "https://stackoverflow.com/questions/58629228/what-is-the-problem-with-using-directive-and-sqlite-in-the-following-situation/58629285#58629285", "title": "What is the problem with using directive and SQLite in the following situation? I got ObjectDisposedException, but just here?", "body": "<p>Your context is disposed when it exits the <code>using</code> statement.  There would normally be no problem with your <code>allResults</code>, but I would guess that you are trying to use a navigation property or related item on the results.  Your code will attempt to retrieve the data, but then it gets blocked because the <code>context</code> that was used to retrieve the data has been disposed.</p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 11380034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FZ1Lf_KExlk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcwug11a1kK206QOWFsOYcL5yjJoA/mo/photo.jpg?sz=128", "display_name": "BonEd", "link": "https://stackoverflow.com/users/11380034/boned"}, "edited": false, "score": 0, "creation_date": 1572452583, "post_id": 58629633, "comment_id": 103566759, "body": "How could I do that? Where could I learn about that?  I searched a lot in the internet and I mainly used Microsoft&#39;s documentation and tutorials, and the only (understandable) thing I found is  services.AddControllers(); in Startup.Configureservice(). I seems it is not enough.  After registering my DbContext type, I do not have to use &#39;using directive&#39;, and the DbContext class will be disposed automatically?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 37, "user_id": 11380034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FZ1Lf_KExlk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcwug11a1kK206QOWFsOYcL5yjJoA/mo/photo.jpg?sz=128", "display_name": "BonEd", "link": "https://stackoverflow.com/users/11380034/boned"}, "edited": false, "score": 0, "creation_date": 1572452746, "post_id": 58629633, "comment_id": 103566846, "body": "@BonEd - correct, you have the instance injected into in the constructor of your controller. Also based on this comment it seems you are using .net core. In asp.net core there is built in dependency injection framework that you could easily take advantage of."}, {"owner": {"reputation": 37, "user_id": 11380034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FZ1Lf_KExlk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcwug11a1kK206QOWFsOYcL5yjJoA/mo/photo.jpg?sz=128", "display_name": "BonEd", "link": "https://stackoverflow.com/users/11380034/boned"}, "edited": false, "score": 0, "creation_date": 1572457287, "post_id": 58629633, "comment_id": 103569076, "body": "Thank you, your comments helped me a lot!"}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 2, "last_activity_date": 1572451967, "creation_date": 1572451967, "answer_id": 58629633, "question_id": 58629228, "link": "https://stackoverflow.com/questions/58629228/what-is-the-problem-with-using-directive-and-sqlite-in-the-following-situation/58629633#58629633", "title": "What is the problem with using directive and SQLite in the following situation? I got ObjectDisposedException, but just here?", "body": "<p>A <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.data.entity.dbset-1?view=entity-framework-6.2.0\" rel=\"nofollow noreferrer\"><code>DbSet&lt;T&gt;</code></a>, which is what <code>FooTable</code> is an instance of, is a table accessor. You return this instance is (which then used by something we assume) but the associated <code>DbContext</code> instance on which this instance relies on was disposed by your <code>using</code> block. </p>\n\n<p>If you are using asp.net you should look into using a Dependency Injection framework (like AutoFac). You can then register your <code>DbContext</code> type, have it injected in your Controller, and AutoFac will dispose the <code>DbContext</code> instance at the end of the request.</p>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 11380034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FZ1Lf_KExlk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcwug11a1kK206QOWFsOYcL5yjJoA/mo/photo.jpg?sz=128", "display_name": "BonEd", "link": "https://stackoverflow.com/users/11380034/boned"}, "is_accepted": false, "score": 0, "last_activity_date": 1572457241, "creation_date": 1572457241, "answer_id": 58630983, "question_id": 58629228, "link": "https://stackoverflow.com/questions/58629228/what-is-the-problem-with-using-directive-and-sqlite-in-the-following-situation/58630983#58630983", "title": "What is the problem with using directive and SQLite in the following situation? I got ObjectDisposedException, but just here?", "body": "<p>So far it seems that this solves my current problem:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/54781993/ef-core-how-to-get-a-dbcontext-in-a-class-instance\">EF Core how to get a DBContext in a class instance?</a></p>\n\n<p>Thank you, Igor for mentioning DI!</p>\n\n<p>Finally I found this:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-3.0\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-3.0</a></p>\n"}], "owner": {"reputation": 37, "user_id": 11380034, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FZ1Lf_KExlk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcwug11a1kK206QOWFsOYcL5yjJoA/mo/photo.jpg?sz=128", "display_name": "BonEd", "link": "https://stackoverflow.com/users/11380034/boned"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 58629633, "answer_count": 3, "score": 1, "last_activity_date": 1572457241, "creation_date": 1572450712, "last_edit_date": 1572456170, "question_id": 58629228, "link": "https://stackoverflow.com/questions/58629228/what-is-the-problem-with-using-directive-and-sqlite-in-the-following-situation", "title": "What is the problem with using directive and SQLite in the following situation? I got ObjectDisposedException, but just here?", "body": "<p>I do not have any problems for example here:</p>\n\n<pre><code>using FooContext context = new FooContext();\ncontext.RemoveRange(context.FooTable);\ncontext.SaveChanges();\n</code></pre>\n\n<p>But I DO get ObjectDisposedException here when I use 'using directive' either with block (with {}, as before C# 8.0) either by writing the new form, without {}.</p>\n\n<pre><code>DbSet&lt;FooThing&gt; allResults;\nusing (FooContext context = new FooContext()) \n{\n   allResults = context.FooTable;               \n}\nreturn allResults;\n</code></pre>\n\n<p>And again, no problems with the following:</p>\n\n<pre><code>FooContext context = new FooContext();\nreturn context.FooTable;\n</code></pre>\n\n<p>What is the problem with my code and how could I use using directive without exceptions?</p>\n\n<p><strong><em>EDIT:</em></strong></p>\n\n<p>Now I'm trying to use DI.\nI created a scaffolded item by choosing \"...using Entity Framwork\" in the menu in VS.</p>\n\n<p>In the class that was created by VS, I have an instance of the DbContext class at the top:</p>\n\n<pre><code>        private readonly FooContext _context;\n\n        public FooController(FooContext context)\n        {\n            _context = context;\n        }\n</code></pre>\n\n<p>I can use this object, it seems there is no problem with it.</p>\n\n<p>But now I get: </p>\n\n<p><code>\nSystem.InvalidOperationException: Unable to resolve service for type '&lt;Namespaces of my app here&gt;.FooContext' while attempting to activate '&lt;Namespaces of my app here&gt;.FooController'.\n</code></p>\n\n<p>I think that is because I did not injected the type to the appropriate container.\nWhere should I do this?</p>\n\n<p>Should I do something here?</p>\n\n<pre><code>      public void ConfigureServices(IServiceCollection services)\n        {\n            services.AddControllers();\n        }\n</code></pre>\n"}, {"tags": ["c#", ".net", "ef-core-2.0"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1572450752, "post_id": 58629224, "comment_id": 103565688, "body": "Please clarify a) which character is being added, and b) where you&#39;re seeing this. In the debugger watch window, backslashes will be escaped because it&#39;s showing you a C# string literal. And why is the user entering a string with escaped backslashes?"}, {"owner": {"reputation": 787, "user_id": 10365411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pBLzd.jpg?s=128&g=1", "display_name": "Hawkzey", "link": "https://stackoverflow.com/users/10365411/hawkzey"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1572450862, "post_id": 58629224, "comment_id": 103565755, "body": "extra \\\\ have been added as it says in my question, and the debugger shows the c# string literal, but the variable itself also contains the string literal when it is being used. @EdPlunkett"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1572450965, "post_id": 58629224, "comment_id": 103565799, "body": "Please provide a complete code example and the inputs it&#39;s being given. We ordinarily don&#39;t like screenshots but I would like to see a screenshot of the place where you observe that &quot;the variable itself also contains the string literal when it is being used&quot;. The good news is that there isn&#39;t a bug in the compiler or the framework that randomly adds backslashes at runtime."}, {"owner": {"reputation": 5939, "user_id": 375727, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f8529be2284d352211775dc80c360e80?s=128&d=identicon&r=PG", "display_name": "Rhyous", "link": "https://stackoverflow.com/users/375727/rhyous"}, "edited": false, "score": 1, "creation_date": 1572451055, "post_id": 58629224, "comment_id": 103565858, "body": "Either 1. it is stored in the database with two slashes, so when it is read, C# needs to escape both of them, or 2. some custom code you have is escaping it twice. My bet is on the first one."}, {"owner": {"reputation": 787, "user_id": 10365411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pBLzd.jpg?s=128&g=1", "display_name": "Hawkzey", "link": "https://stackoverflow.com/users/10365411/hawkzey"}, "reply_to_user": {"reputation": 5939, "user_id": 375727, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f8529be2284d352211775dc80c360e80?s=128&d=identicon&r=PG", "display_name": "Rhyous", "link": "https://stackoverflow.com/users/375727/rhyous"}, "edited": false, "score": 0, "creation_date": 1572451170, "post_id": 58629224, "comment_id": 103565939, "body": "it is indeed stored with just 2 slashes in the db @Rhyous, do i need to store it diffrently? i thought ef core takes care of this for you."}], "answers": [{"tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 2, "last_activity_date": 1572451121, "creation_date": 1572451121, "answer_id": 58629358, "question_id": 58629224, "link": "https://stackoverflow.com/questions/58629224/grabbing-string-from-database-and-putting-it-into-variable-the-variable-contain/58629358#58629358", "title": "Grabbing string from database and putting it into variable, the variable contains 2 extra \\\\", "body": "<p>You only need one slash when connecting to LocalDB (<code>(LocalDb)\\\\MSSQLLocalDB</code>). I think you (or the user) is thinking that you need to escape the slash like you do in code (e.g. <code>string conString = \"(LocalDb)\\\\MSSQLLocalDB\"</code>). </p>\n\n<p>But if the connection string is stored somewhere, then you should just use one slash.  You will still <em>see</em> two slashes in the debugger, but if you print it out you'll see that there is indeed only one slash.</p>\n"}, {"tags": [], "owner": {"reputation": 5939, "user_id": 375727, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f8529be2284d352211775dc80c360e80?s=128&d=identicon&r=PG", "display_name": "Rhyous", "link": "https://stackoverflow.com/users/375727/rhyous"}, "is_accepted": false, "score": 0, "last_activity_date": 1572451269, "creation_date": 1572451269, "answer_id": 58629411, "question_id": 58629224, "link": "https://stackoverflow.com/questions/58629224/grabbing-string-from-database-and-putting-it-into-variable-the-variable-contain/58629411#58629411", "title": "Grabbing string from database and putting it into variable, the variable contains 2 extra \\\\", "body": "<p>C# will escape each slash with two slashes. </p>\n\n<p>It doesn't need to be escaped in the database, so store it with 1 slash in the database.</p>\n"}], "owner": {"reputation": 787, "user_id": 10365411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pBLzd.jpg?s=128&g=1", "display_name": "Hawkzey", "link": "https://stackoverflow.com/users/10365411/hawkzey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 58629358, "answer_count": 2, "score": -2, "last_activity_date": 1572451269, "creation_date": 1572450695, "last_edit_date": 1572450891, "question_id": 58629224, "link": "https://stackoverflow.com/questions/58629224/grabbing-string-from-database-and-putting-it-into-variable-the-variable-contain", "title": "Grabbing string from database and putting it into variable, the variable contains 2 extra \\\\", "body": "<p>A user can enter a conn string such as:\n<code>(LocalDb)\\\\MSSQLLocalDB</code>, ef core takes care of putting this into my table and stores it correctly. however when i read it back out and try to use it, it contains an extra 2 \\ e.g.<code>(LocalDb)\\\\\\\\MSSQLLocalDB</code>,</p>\n\n<p>I am grabbing it directly from my database using ef core, and storing it in  variable like so:</p>\n\n<pre><code>     var serverConn = dbSetting.CustomerConnectionSettings.ServerConnection;\n</code></pre>\n\n<p>serverConn has the string with the extra \\\\ causing my connection to fail,\nDo i need to perform some sort of encoding/decoding?</p>\n"}]