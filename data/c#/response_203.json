[{"tags": ["c#", "dynamic", "valuetuple"], "comments": [{"owner": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "edited": false, "score": 0, "creation_date": 1544309071, "post_id": 53529856, "comment_id": 94231900, "body": "Works on my machine. And on <a href=\"https://sharplab.io/#v2:EYLgZgpghgLgrgJwgZwLQBEJinANjASQDsYIFsBjCAgWwAdcIaITYBLAeyIBoYQ3cAHwACABgAEwgIwBuALAAoYQCZRi4QGZJUgGyTl2gOyKA3ovEXJW6XuEAWcQFkobIgAoAlOctmFl8QCQACpwDBBBKDBuHHAw4gBuUAjiMB7yfpYBbgAmAJ5EUDRsFOJsUtzieQVFJWzKHuIAvCnpAf5VhcXiUE2lUgB0BKQ0st4WAL6KY9q2DiFhEchRMXEAalC4cOGhjAA8HTUVB8UAfOJIyHip077+/hdXvdlYOPjp0/coV4PDUr1uRAgAHdxAAFBBseKeCqAkHgyGeNIfSwPfA/JgGZoA4FgiFQjwwnHw/FIjITRSTBTqAzE8QmcSUoA=\" rel=\"nofollow noreferrer\">sharplab.io</a>"}, {"owner": {"reputation": 1979, "user_id": 231238, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/79eacf8ee1b8da82f5baffd6ba94054e?s=128&d=identicon&r=PG", "display_name": "LOST", "link": "https://stackoverflow.com/users/231238/lost"}, "reply_to_user": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "edited": false, "score": 0, "creation_date": 1544310797, "post_id": 53529856, "comment_id": 94232341, "body": "@PauloMorgado <code>Priv</code> must be declared in a different assembly to reproduce."}], "answers": [{"tags": [], "owner": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "is_accepted": true, "score": 2, "last_activity_date": 1544478639, "creation_date": 1544478639, "answer_id": 53714189, "question_id": 53529856, "link": "https://stackoverflow.com/questions/53529856/runtimebinderexception-when-accessing-valuetuple-item-via-dynamic/53714189#53714189", "title": "RuntimeBinderException when accessing ValueTuple item via dynamic", "body": "<p>This happens because <code>Priv</code> is not accessible to the code trying to access it.</p>\n\n<p>The accessibility of the types in <code>dynamic</code> must abide to the compiler rules.</p>\n\n<p>The error message is not very helpful, though.</p>\n"}], "owner": {"reputation": 1979, "user_id": 231238, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/79eacf8ee1b8da82f5baffd6ba94054e?s=128&d=identicon&r=PG", "display_name": "LOST", "link": "https://stackoverflow.com/users/231238/lost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 53714189, "answer_count": 1, "score": 3, "last_activity_date": 1544478639, "creation_date": 1543449082, "question_id": 53529856, "link": "https://stackoverflow.com/questions/53529856/runtimebinderexception-when-accessing-valuetuple-item-via-dynamic", "title": "RuntimeBinderException when accessing ValueTuple item via dynamic", "body": "<p>I am facing a really weird behavior of <code>ValueTuple&lt;T1,T2&gt;</code> passed from another assembly, accessed using <code>dynamic</code>. This code under specific circumstances throws <code>RuntimeBinderException</code> at the last line:</p>\n\n<pre><code>TupleTest(out var t);\n(dynamic i1, dynamic i2) = t;\ndynamic a = i1.Item1;\n</code></pre>\n\n<p>The message is:</p>\n\n<pre><code>'System.ValueType' does not contain a definition for 'Item1'\n</code></pre>\n\n<p><code>TupleTest</code> function is defined in another assembly like this:</p>\n\n<pre><code>static void TupleTest(out ValueTuple&lt;dynamic, dynamic&gt; result) {\n    result = default;\n\n    result.Item1 = (new Priv(), new Priv());\n    result.Item2 = (new Priv(), new Priv());\n}\n</code></pre>\n\n<p>Where empty <code>class Priv { }</code> has no visibility modifiers.</p>\n\n<p>However, if I add <code>public class Priv</code>, the issue goes away.</p>\n\n<p>I understand, that binder could have had problems accessing instance members of <code>Priv</code>, but in this case I am not getting to that yet! All I am trying to do is to access field <code>Item1</code> of <code>ValueTuple</code>.</p>\n\n<p>Interestingly, if <code>Priv</code> implements some public interface <code>IFoo</code>, then replacing <code>result.Item1 = (new Priv(), new Priv());</code> with <code>result.Item1 = ((IFoo)new Priv(), (IFoo)new Priv())</code> allows <code>dynamic a = i1.Item1</code> to succeed.</p>\n\n<p>Does that mean, that I can't use <code>dynamic</code> at all to access any public fields, whose value type is private (can only be possible with generics), defined elsewhere?</p>\n"}, {"tags": ["c#", "csv", "export-to-csv"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 10671968, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EVVMF5LQ8Gk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gsvLtUlUR9BuMpETmOwqz9nSnBLw/mo/photo.jpg?sz=128", "display_name": "Joshua McBride", "link": "https://stackoverflow.com/users/10671968/joshua-mcbride"}, "edited": false, "score": 0, "creation_date": 1543449634, "post_id": 53529863, "comment_id": 93928372, "body": "I just made this amend and achieved the desired outcome, just out of curiousity, how would I proceed if I wished to remove column 10 also?"}, {"owner": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "reply_to_user": {"reputation": 33, "user_id": 10671968, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EVVMF5LQ8Gk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gsvLtUlUR9BuMpETmOwqz9nSnBLw/mo/photo.jpg?sz=128", "display_name": "Joshua McBride", "link": "https://stackoverflow.com/users/10671968/joshua-mcbride"}, "edited": false, "score": 0, "creation_date": 1543450299, "post_id": 53529863, "comment_id": 93928517, "body": "You will have to add if cause inside inner loop to skip that column."}, {"owner": {"reputation": 33, "user_id": 10671968, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EVVMF5LQ8Gk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gsvLtUlUR9BuMpETmOwqz9nSnBLw/mo/photo.jpg?sz=128", "display_name": "Joshua McBride", "link": "https://stackoverflow.com/users/10671968/joshua-mcbride"}, "edited": false, "score": 0, "creation_date": 1543474168, "post_id": 53529863, "comment_id": 93934317, "body": "Would this be inside the <code>if (col &lt; _cols - 1) { stream.Write(delim); }</code> clause?"}], "tags": [], "owner": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "is_accepted": true, "score": 2, "last_activity_date": 1543495381, "last_edit_date": 1543495381, "creation_date": 1543449133, "answer_id": 53529863, "question_id": 53529820, "link": "https://stackoverflow.com/questions/53529820/delete-columns-from-csv-then-save-in-different-folder-path/53529863#53529863", "title": "Delete columns from CSV then save in different folder path", "body": "<p>You can use code you posted, just change <code>Save</code> method, initialize col variable with 4 and you should be done.</p>\n\n<pre><code>public void Save(StreamWriter stream, char delim = ',')\n{\n    if(_cols &gt; 4) \n    {\n    for (int row = 0; row &lt; _rows; row++)\n    {\n        for (int col = 4; col &lt; _cols; col++)\n        {\n            stream.Write(this[col, row]);\n            if (col &lt; _cols - 1)\n            {\n                stream.Write(delim);\n            }\n        }\n        stream.WriteLine();\n    }\n    }\n    stream.Flush();\n    stream.Close();\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>To exclude 10th column, skip writing data in the 10th position.</p>\n\n<pre><code>public void Save(StreamWriter stream, char delim = ',')\n{\n    if(_cols &gt; 4) \n    {\n    for (int row = 0; row &lt; _rows; row++)\n    {\n        for (int col = 4; col &lt; _cols; col++)\n        {\n            if(col != 10)\n            {\n                stream.Write(this[col, row]);\n                if (col &lt; _cols - 1)\n                {\n                    stream.Write(delim);\n                }\n            }\n        }\n        stream.WriteLine();\n    }\n    }\n    stream.Flush();\n    stream.Close();\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10671968, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EVVMF5LQ8Gk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gsvLtUlUR9BuMpETmOwqz9nSnBLw/mo/photo.jpg?sz=128", "display_name": "Joshua McBride", "link": "https://stackoverflow.com/users/10671968/joshua-mcbride"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 53529863, "answer_count": 1, "score": 1, "last_activity_date": 1543495525, "creation_date": 1543448797, "last_edit_date": 1543495525, "question_id": 53529820, "link": "https://stackoverflow.com/questions/53529820/delete-columns-from-csv-then-save-in-different-folder-path", "title": "Delete columns from CSV then save in different folder path", "body": "<p>I need a script that opens a CSV from a specific file path, deletes specific columns and then exports the CSV to a specified folder. </p>\n\n<p>Due to other scripts that will be integrated with this at a later stage, I have decided to do this using C#. </p>\n\n<p>I have previously used Perl and achieved the desired result, but it isn't suitable for my application. </p>\n\n<p>I found this <a href=\"https://www.rosettacode.org/wiki/CSV_data_manipulation#C.2B.2B\" rel=\"nofollow noreferrer\">link</a> where I found this code;</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.IO;\n\nnamespace CSV\n{\nclass CSV\n{\n    private Dictionary&lt;Tuple&lt;int, int&gt;, string&gt; _data;\n    private int _rows;\n    private int _cols;\n\n    public int Rows { get { return _rows; } }\n    public int Cols { get { return _cols; } }\n\n    public CSV()\n    {\n        Clear();\n    }\n\n    public void Clear()\n    {\n        _rows = 0;\n        _cols = 0;\n        _data = new Dictionary&lt;Tuple&lt;int, int&gt;, string&gt;();\n    }\n\n    public void Open(StreamReader stream, char delim = ',')\n    {\n        string line;\n        int col = 0;\n        int row = 0;\n\n        Clear();\n\n        while ((line = stream.ReadLine()) != null)\n        {\n            if (line.Length &gt; 0)\n            {\n                string[] values = line.Split(delim);\n                col = 0;\n                foreach (var value in values)\n                {\n                    this[col, row] = value;\n                    col++;\n                }\n                row++;\n            }\n        }\n        stream.Close();\n    }\n\n    public void Save(StreamWriter stream, char delim = ',')\n    {\n        for (int row = 0; row &lt; _rows; row++)\n        {\n            for (int col = 0; col &lt; _cols; col++)\n            {\n                stream.Write(this[col, row]);\n                if (col &lt; _cols - 1)\n                {\n                    stream.Write(delim);\n                }\n            }\n            stream.WriteLine();\n        }\n        stream.Flush();\n        stream.Close();\n    }\n\n    public string this[int col, int row]\n    {\n        get\n        {\n            try\n            {\n                return _data[new Tuple&lt;int, int&gt;(col, row)];\n            }\n            catch\n            {\n                return \"\";\n            }\n        }\n\n        set\n        {\n            _data[new Tuple&lt;int, int&gt;(col, row)] = value.ToString().Trim();\n            _rows = Math.Max(_rows, row + 1);\n            _cols = Math.Max(_cols, col + 1);\n        }\n    }\n\n    static void Main(string[] args)\n    {\n        CSV csv = new CSV();\n\n        csv.Open(new StreamReader(@\"C:\\mid\\Dev\\CSV_Splitter\\VR_Path\\New\\Import_User_Sample_en.csv\"));\n\n\n        csv[0, 0] = \"Column0\";\n        csv[1, 1] = \"100\";\n        csv[2, 2] = \"200\";\n        csv[3, 3] = \"300\";\n        csv[4, 4] = \"400\";\n\n\n\n\ncsv.Save(new StreamWriter(@\"C:\\mid\\Dev\\CSV_Splitter\\VR_Path\\Proccessed\\test_out.csv\"));\n    }\n}\n}\n</code></pre>\n\n<p>This uses C# to open a CSV file, manipulate it and save it in a new path. </p>\n\n<p>I want to delete columns 0, 1, 2 and 3 from the csv file instead of manipulating the data.</p>\n\n<p>Can anyone help?</p>\n"}, {"tags": ["c#", "console-application"], "answers": [{"comments": [{"owner": {"reputation": 458, "user_id": 9598345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wx9nB.jpg?s=128&g=1", "display_name": "AlpakaJoe", "link": "https://stackoverflow.com/users/9598345/alpakajoe"}, "edited": false, "score": 0, "creation_date": 1543449673, "post_id": 53529901, "comment_id": 93928380, "body": "that worked for me, thanks!"}, {"owner": {"reputation": 19212, "user_id": 4275342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/KnE9R.png?s=128&g=1", "display_name": "Roman Marusyk", "link": "https://stackoverflow.com/users/4275342/roman-marusyk"}, "reply_to_user": {"reputation": 458, "user_id": 9598345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wx9nB.jpg?s=128&g=1", "display_name": "AlpakaJoe", "link": "https://stackoverflow.com/users/9598345/alpakajoe"}, "edited": false, "score": 1, "creation_date": 1543449713, "post_id": 53529901, "comment_id": 93928387, "body": "Glad to have been of help"}], "tags": [], "owner": {"reputation": 19212, "user_id": 4275342, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/KnE9R.png?s=128&g=1", "display_name": "Roman Marusyk", "link": "https://stackoverflow.com/users/4275342/roman-marusyk"}, "is_accepted": true, "score": 1, "last_activity_date": 1543449372, "creation_date": 1543449372, "answer_id": 53529901, "question_id": 53529813, "link": "https://stackoverflow.com/questions/53529813/create-something-like-a-timer-using-a-while-loop/53529901#53529901", "title": "Create something like a timer using a while loop", "body": "<p>Use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.thread.sleep?redirectedfrom=MSDN&amp;view=netframework-4.7.2\" rel=\"nofollow noreferrer\">Thread.Sleep</a> </p>\n\n<pre><code>count = 0;\nwhile (count &lt; 60)\n{\n   Thread.Sleep(1000);  // waiting for 1 second\n   count++; \n}\n</code></pre>\n"}], "owner": {"reputation": 458, "user_id": 9598345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wx9nB.jpg?s=128&g=1", "display_name": "AlpakaJoe", "link": "https://stackoverflow.com/users/9598345/alpakajoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "closed_date": 1543449405, "accepted_answer_id": 53529901, "answer_count": 1, "score": 1, "last_activity_date": 1543449372, "creation_date": 1543448763, "question_id": 53529813, "link": "https://stackoverflow.com/questions/53529813/create-something-like-a-timer-using-a-while-loop", "closed_reason": "Duplicate", "title": "Create something like a timer using a while loop", "body": "<p>I have a while loop like this in my Console Application:</p>\n\n<pre><code>count = 0;\nwhile (count &lt; 60)\n{\n   count++; \n}\n</code></pre>\n\n<p>Okay so this loop runs very fast.</p>\n\n<p>What i want is that it only adds <code>count++</code> maybe once every second. </p>\n\n<p>Is this somehow possible to do?</p>\n"}, {"tags": ["c#", "visual-studio", "vsix", "undo"], "answers": [{"comments": [{"owner": {"reputation": 2483, "user_id": 1729005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a471f843e0b60ef6683f2671d3fb9fe?s=128&d=identicon&r=PG", "display_name": "axblount", "link": "https://stackoverflow.com/users/1729005/axblount"}, "edited": false, "score": 0, "creation_date": 1543514139, "post_id": 53542862, "comment_id": 93956453, "body": "Can you explain how this answers the question?"}], "tags": [], "owner": {"reputation": 665, "user_id": 6792694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/505d51038643157ad531f4967507e8f3?s=128&d=identicon&r=PG&f=1", "display_name": "MiB_Coder", "link": "https://stackoverflow.com/users/6792694/mib-coder"}, "is_accepted": true, "score": 2, "last_activity_date": 1543562184, "last_edit_date": 1543562184, "creation_date": 1543506803, "answer_id": 53542862, "question_id": 53529688, "link": "https://stackoverflow.com/questions/53529688/vsix-extension-how-to-make-atomic-undo-upon-text-replacement/53542862#53542862", "title": "VSIX Extension: how to make atomic undo upon text replacement", "body": "<p>The solution is to create an undo context, in which all changes can be collected, which should appear as a single transaction: </p>\n\n<pre><code>try\n{\n   ProjectHelpers.DTE.UndoContext.Open(\"Description of operation\");\n   selection.Text = newText;\n}\nfinally\n{\n   ProjectHelpers.DTE.UndoContext.Close();\n}\n</code></pre>\n"}], "owner": {"reputation": 665, "user_id": 6792694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/505d51038643157ad531f4967507e8f3?s=128&d=identicon&r=PG&f=1", "display_name": "MiB_Coder", "link": "https://stackoverflow.com/users/6792694/mib-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 53542862, "answer_count": 1, "score": 1, "last_activity_date": 1543562184, "creation_date": 1543447883, "question_id": 53529688, "link": "https://stackoverflow.com/questions/53529688/vsix-extension-how-to-make-atomic-undo-upon-text-replacement", "title": "VSIX Extension: how to make atomic undo upon text replacement", "body": "<p>I am writing an Visual Studio Extension module (VSIX ), which allows the user to select text and upon a menu command, the selected text is replaced with a new text:</p>\n\n<pre><code>var document = ProjectHelpers.DTE.ActiveDocument;\nvar selection = (TextSelection)document.Selection;\nvar text = selection.Text;\nstring newText = doSomethingWith(text);\nselection.Text = newText; \n</code></pre>\n\n<p>Now the problem is, when I wish to undo the operation (e.g. via Ctrl-Z), only one line at a time of the new text is removed and finally the original text is restored (need to use Ctrl-Z many times).</p>\n\n<p>How can I implement an atomic undo, where only one Ctrl-Z command un-does the whole process?</p>\n\n<p>In case it matters, I am writing for VS2017.</p>\n"}, {"tags": ["c#", "string", "delphi", "pchar", "delphi.net"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 1635508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b819bb61d0566460b776560075c5ff?s=128&d=identicon&r=PG", "display_name": "user1635508", "link": "https://stackoverflow.com/users/1635508/user1635508"}, "edited": false, "score": 0, "creation_date": 1543504351, "post_id": 53530320, "comment_id": 93951029, "body": "Thanks @Remy. It helped a lot and added to my learning. Thank you!"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 9, "last_activity_date": 1543453993, "last_edit_date": 1543453993, "creation_date": 1543452966, "answer_id": 53530320, "question_id": 53529623, "link": "https://stackoverflow.com/questions/53529623/passing-string-from-delphi-to-c-returns-null-however-it-works-fine-when-i-call/53530320#53530320", "title": "Passing string from Delphi to C# returns null. However it works fine when I call the Delphi lib from Delphi. How to receive string from Delphi", "body": "<p>The DLL code you have shown is NOT compatible with your C# code.</p>\n\n<p>Your C# code is relying on <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/interop/default-marshaling-for-strings\" rel=\"noreferrer\">default <code>string</code> marshaling behavior</a> that your DLL is not conforming to.</p>\n\n<p>A <code>string</code> is passed to a DLL as a <code>PWideChar</code> pointer by default (if you are using Delphi 2009+, <code>PChar</code> maps to <code>PWideChar</code>, otherwise it maps to <code>PAnsiChar</code> instead).</p>\n\n<p>Also, your DLL function is returning a <code>PAnsiChar</code>, but the marshaller is expecting a <code>PWideChar</code> by default, since you did not apply a <code>[return: MarshalAs(UnmanagedType.LPStr)]</code> attribute on the DLL function declaration on the C# side.</p>\n\n<p>But more importantly, when a DLL returns a pointer to memory that the marshaller then takes ownership of, the memory MUST be allocated with <code>CoTaskMemAlloc()</code> or equivalent, as the marshaller frees the memory with <code>CoTaskMemFree()</code> by default (see <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/interop/default-marshaling-behavior#memory-management-with-the-interop-marshaler\" rel=\"noreferrer\">Memory management with the interop marshaler</a>).</p>\n\n<p>You are returning a pointer to dynamically allocated memory, however that memory is not allocated with <code>CoTaskMemAlloc()</code>. In fact, the memory is actually managed by the Delphi compiler and gets freed automatically when the function exits.  So, you are actually returning an invalid pointer to C#.</p>\n\n<p>In fact, you are not even returning the pointer to C#!  On the C# side, you have declared the DLL as having an <code>out</code> parameter, but there is no such parameter on the DLL side!</p>\n\n<p>With all of that said, try something more like this instead:</p>\n\n<p>DLL:</p>\n\n<pre class=\"lang-pascal prettyprint-override\"><code>// uncomment this if you are NOT using D2009+ ...\n{\ntype\n  UnicodeString = WideString;\n}\n\nfunction UnicodeStringToCoTaskMemStr(const s: UnicodeString): PWideChar;\nvar\n  Size: Integer;\nbegin\n  Size := (Length(s) + 1) * SizeOf(WideChar);\n  Result := PWideChar(CoTaskMemAlloc(Size));\n  if Result &lt;&gt; nil then\n    Move(PWideChar(s)^, Result^, Size);\nend;\n\nfunction DBConnet(inputStr: PWideChar; connStr: PWideChar): PWideChar; stdcall; export;\nvar\n  sInput: UnicodeString;\n  sConn: UnicodeString;\nbegin  \n  try\n    sInput := inputStr;\n    sConn := connStr;\n    Result := UnicodeStringToCoTaskMemStr('Hello from Delphi! How are you ' + sInput + sConn);\n  except\n    Result := UnicodeStringToCoTaskMemStr('exception');\n  end;\nend;\n</code></pre>\n\n<p>Delphi app:</p>\n\n<pre class=\"lang-pascal prettyprint-override\"><code>function DBConnet(inputStr: PWideChar; connStr: PWideChar): PWideChar; stdcall; external 'NewLib.dll';\n\n// uncomment this if you are NOT using D2009+ ...\n{\ntype\n  UnicodeString = WideString;\n}\n\nprocedure TUseDLLForm.functionxClick(Sender: TObject);\nvar\n  a: UnicodeString;\n  conStr: UnicodeString;\n  ret: PWideChar;\nbegin\n  a := 'firstname';\n  conStr := 'lastname';\n  ret := DBConnet(PWideChar(a), PWideChar(conStr));\n  if ret &lt;&gt; nil then\n  begin\n    try\n      ShowMessage(ret);\n    finally\n      CoTaskMemFree(ret);\n    end;\n  end else\n    ShowMessage('nil');\nend;\n</code></pre>\n\n<p>C#:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[DllImport(\"NewLib.dll\",\n    CallingConvention = CallingConvention.StdCall,\n    CharSet = CharSet.Unicode)]\n[return: MarshalAs(UnmanagedType.LPWStr)]\npublic static extern string DBConnet(string inputString, string connectionString);\n</code></pre>\n\n<p>Or, using an <code>out</code> parameter instead:</p>\n\n<p>DLL:</p>\n\n<pre class=\"lang-pascal prettyprint-override\"><code>// uncomment this if you are NOT using D2009+ ...\n{\ntype\n  UnicodeString = WideString;\n}\n\nfunction UnicodeStringToCoTaskMemStr(const s: UnicodeString): PWideChar;\nvar\n  Size: Integer;\nbegin\n  Size := (Length(s) + 1) * SizeOf(WideChar);\n  Result := PWideChar(CoTaskMemAlloc(Size));\n  if Result &lt;&gt; nil then\n    Move(PWideChar(s)^, Result^, Size);\nend;\n\nfunction DBConnet(inputStr: PWideChar; connStr: PWideChar; out outputStr: PWideChar): boolean; stdcall; export;\nvar\n  sInput: UnicodeString;\n  sConn: UnicodeString;\nbegin  \n  Result := False;\n  try\n    sInput := inputStr;\n    sConn := connStr;\n    outputStr := UnicodeStringToCoTaskMemStr('Hello from Delphi! How are you ' + sInput + sConn);\n    Result := outputStr &lt;&gt; nil;\n  except\n  end;\nend;\n</code></pre>\n\n<p>Delphi app:</p>\n\n<pre class=\"lang-pascal prettyprint-override\"><code>function DBConnet(inputStr: PWideChar; connStr: PWideChar, out outputStr: PWideChar): boolean; stdcall; external 'NewLib.dll';\n\n// uncomment this if you are NOT using D2009+ ...\n{\ntype\n  UnicodeString = WideString;\n}\n\nprocedure TUseDLLForm.functionxClick(Sender: TObject);\nvar\n  a: UnicodeString;\n  conStr: UnicodeString;\n  ret: PWideChar;\nbegin\n  a := 'firstname';\n  conStr := 'lastname';\n  if DBConnet(PWideChar(a), PWideChar(conStr), ret) then\n  begin\n    try\n      ShowMessage(ret);\n    finally\n      CoTaskMemFree(ret);\n    end;\n  end else\n    ShowMessage('fail');\nend;\n</code></pre>\n\n<p>C#:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[DllImport(\"NewLib.dll\",\n    CallingConvention = CallingConvention.StdCall,\n    CharSet = CharSet.Unicode)]\n[return: MarshalAs(UnmanagedType.I1)]\npublic static extern bool DBConnet(string inputString, string connectionString,\n  [MarshalAs(UnmanagedType.LPWStr)] out outputString string);\n</code></pre>\n\n<p>Alternatively, you can allocate the returned memory as a <code>BSTR</code> string instead of using <code>CoTaskMemAlloc()</code>, just be sure to marshal it as a <code>BSTR</code> on the C# side:</p>\n\n<p>DLL:</p>\n\n<pre class=\"lang-pascal prettyprint-override\"><code>// uncomment this if you are NOT using D2009+ ...\n{\ntype\n  UnicodeString = WideString;\n}\n\nfunction DBConnet(inputStr: PWideChar; connStr: PWideChar): PWideChar; stdcall; export;\nvar\n  sInput: UnicodeString;\n  sConn: UnicodeString;\nbegin  \n  try\n    sInput := inputStr;\n    sConn := connStr;\n    // the RTL's StringToOleStr() function returns a BSTR...\n    Result := StringToOleStr('Hello from Delphi! How are you ' + sInput + sConn);\n  except\n    Result := StringToOleStr('exception');\n  end;\nend;\n</code></pre>\n\n<p>Delphi app:</p>\n\n<pre class=\"lang-pascal prettyprint-override\"><code>function DBConnet(inputStr: PWideChar; connStr: PWideChar): PWideChar; stdcall; external 'NewLib.dll';\n\n// uncomment this if you are NOT using D2009+ ...\n{\ntype\n  UnicodeString = WideString;\n}\n\nprocedure TUseDLLForm.functionxClick(Sender: TObject);\nvar\n  a: UnicodeString;\n  conStr: UnicodeString;\n  ret: WideString; // NOT UnicodeString!\nbegin\n  a := 'firstname';\n  conStr := 'lastname';\n  Pointer(ret) := DBConnet(PWideChar(a), PWideChar(conStr));\n  if ret &lt;&gt; '' then\n    ShowMessage(ret)\n  else\n    ShowMessage('nil');\nend;\n</code></pre>\n\n<p>C#:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[DllImport(\"NewLib.dll\",\n    CallingConvention = CallingConvention.StdCall,\n    CharSet = CharSet.Unicode)]\n[return: MarshalAs(UnmanagedType.BStr)]\npublic static extern string DBConnet(string inputString, string connectionString);\n</code></pre>\n\n<p>Or, using an <code>out</code> parameter:</p>\n\n<p>DLL:</p>\n\n<pre class=\"lang-pascal prettyprint-override\"><code>// uncomment this if you are NOT using D2009+ ...\n{\ntype\n  UnicodeString = WideString;\n}\n\nfunction DBConnet(inputStr: PWideChar; connStr: PWideChar; out outputStr: WideString): boolean; stdcall; export;\nvar\n  sInput: UnicodeString;\n  sConn: UnicodeString;\nbegin  \n  Result := False;\n  try\n    sInput := inputStr;\n    sConn := connStr;\n    outputStr := 'Hello from Delphi! How are you ' + sInput + sConn;\n    Result := True;\n  except\n  end;\nend;\n</code></pre>\n\n<p>Delphi app:</p>\n\n<pre class=\"lang-pascal prettyprint-override\"><code>function DBConnet(inputStr: PWideChar; connStr: PWideChar; out outputStr: WideString): boolean; stdcall; external 'NewLib.dll';\n\n// uncomment this if you are NOT using D2009+ ...\n{\ntype\n  UnicodeString = WideString;\n}\n\nprocedure TUseDLLForm.functionxClick(Sender: TObject);\nvar\n  a: UnicodeString;\n  conStr: UnicodeString;\n  ret: WideString;\nbegin\n  a := 'firstname';\n  conStr := 'lastname';\n  if DBConnet(PWideChar(a), PWideChar(conStr), ret) then\n    ShowMessage(ret)\n  else\n    ShowMessage('fail');\nend;\n</code></pre>\n\n<p>C#:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[DllImport(\"NewLib.dll\",\n    CallingConvention = CallingConvention.StdCall,\n    CharSet = CharSet.Unicode)]\n[return: MarshalAs(UnmanagedType.I1)]\npublic static extern bool DBConnet(string inputString, string connectionString,\n  [MarshalAs(UnmanagedType.BStr)] out string outputStr);\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 1635508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b819bb61d0566460b776560075c5ff?s=128&d=identicon&r=PG", "display_name": "user1635508", "link": "https://stackoverflow.com/users/1635508/user1635508"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 1, "accepted_answer_id": 53530320, "answer_count": 1, "score": 2, "last_activity_date": 1543453993, "creation_date": 1543447505, "last_edit_date": 1543449782, "question_id": 53529623, "link": "https://stackoverflow.com/questions/53529623/passing-string-from-delphi-to-c-returns-null-however-it-works-fine-when-i-call", "title": "Passing string from Delphi to C# returns null. However it works fine when I call the Delphi lib from Delphi. How to receive string from Delphi", "body": "<p>I am completely new to Delphi and have been trying to make a few DLLs for .NET.</p>\n\n<p>What I want to achieve is to send and receive txt output from my DLLs.</p>\n\n<p>Here's what I've done so far:</p>\n\n<p>Delphi Library function:</p>\n\n<pre class=\"lang-pascal prettyprint-override\"><code>function DBConnet(inputStr: PChar; connStr: PChar): PAnsiChar; stdcall; export;\nvar\n  conStr: string;\n  s: string;\nbegin  \n  inputStr := PChar('Hello from Delphi! How are you ' + inputStr + connStr);\n  try\n    Result := PAnsiChar(inputStr);    \n  except\n    on e: Exception do\n    begin\n      Result := 'exception';\n    end;\n  end;\nend;\n\nExports\n  DBConnet;\n\nend.\n</code></pre>\n\n<p>Here's my caller function in Delphi:</p>\n\n<pre><code>function DBConnet(inputStr: PChar; connStr: PChar): PChar; stdcall; external 'NewLib.dll';\n\nprocedure TUseDLLForm.functionxClick(Sender: TObject);\nvar\n  a: string;\n  conStr: string;\n  i: integer;\nbegin\n  a := 'firstname';\n  conStr := 'lastname';\n  ShowMessage(DBConnet(pchar(a), pchar(conStr)));\nend;\n</code></pre>\n\n<p>This works fine with Delphi to Delphi. But when I try to call it from C#, the output received is null.</p>\n\n<p>Here's my C# code block:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[DllImport(\"NewLib.dll\",\n        CallingConvention = CallingConvention.StdCall,\n        CharSet = CharSet.Unicode)]\npublic static extern void DBConnet(string inputString,  string \nconnectionString, [MarshalAs(UnmanagedType.BStr)] out string dbStrObj);\n</code></pre>\n\n<p>And then in Main I call it this way:</p>\n\n<pre><code>DBConnet(inputString, connectionString, out dbStrObj);\n</code></pre>\n"}, {"tags": ["c#", "wpf", "window"], "comments": [{"owner": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "edited": false, "score": 0, "creation_date": 1543448345, "post_id": 53529467, "comment_id": 93928053, "body": "Can you show the code of Battle?"}, {"owner": {"reputation": 23, "user_id": 10688384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f8b515acffa90bbceea31a81d615855?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelReese&#39;s", "link": "https://stackoverflow.com/users/10688384/michaelreeses"}, "reply_to_user": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "edited": false, "score": 0, "creation_date": 1543448703, "post_id": 53529467, "comment_id": 93928140, "body": "Sure! @Nikolaus The following code is the beginning of Battle, everything but the rest of the methods. <a href=\"https://justpaste.it/37nlv\" rel=\"nofollow noreferrer\">justpaste.it/37nlv</a>"}, {"owner": {"reputation": 23, "user_id": 10688384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f8b515acffa90bbceea31a81d615855?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelReese&#39;s", "link": "https://stackoverflow.com/users/10688384/michaelreeses"}, "reply_to_user": {"reputation": 1704, "user_id": 8445537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b869206b49bd1e6d7c7009bc163b4?s=128&d=identicon&r=PG&f=1", "display_name": "Nikolaus", "link": "https://stackoverflow.com/users/8445537/nikolaus"}, "edited": false, "score": 0, "creation_date": 1543449018, "post_id": 53529467, "comment_id": 93928222, "body": "@Nikolaus I also posted it in the question (couldn&#39;t fit in the comment)"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10688384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f8b515acffa90bbceea31a81d615855?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelReese&#39;s", "link": "https://stackoverflow.com/users/10688384/michaelreeses"}, "edited": false, "score": 1, "creation_date": 1543450062, "post_id": 53529920, "comment_id": 93928471, "body": "I\u2019ll try this as soon as possible! Thank you"}, {"owner": {"reputation": 23, "user_id": 10688384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f8b515acffa90bbceea31a81d615855?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelReese&#39;s", "link": "https://stackoverflow.com/users/10688384/michaelreeses"}, "edited": false, "score": 0, "creation_date": 1543454943, "post_id": 53529920, "comment_id": 93929535, "body": "I have a problem with this solution: my main window is giving me the following error: The member &quot;PokemonSelected&quot; is not recognized or is not accessible. I&#39;ve been reading around and people are saying stuff about changing AnyCPU to x86... What should I do?"}, {"owner": {"reputation": 12628, "user_id": 145757, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/T6ghe.png?s=128&g=1", "display_name": "Pragmateek", "link": "https://stackoverflow.com/users/145757/pragmateek"}, "reply_to_user": {"reputation": 23, "user_id": 10688384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f8b515acffa90bbceea31a81d615855?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelReese&#39;s", "link": "https://stackoverflow.com/users/10688384/michaelreeses"}, "edited": false, "score": 0, "creation_date": 1543455388, "post_id": 53529920, "comment_id": 93929638, "body": "Is it a design time error only, or do you have the issue at runtime?"}, {"owner": {"reputation": 23, "user_id": 10688384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f8b515acffa90bbceea31a81d615855?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelReese&#39;s", "link": "https://stackoverflow.com/users/10688384/michaelreeses"}, "edited": false, "score": 0, "creation_date": 1543458430, "post_id": 53529920, "comment_id": 93930219, "body": "This worked! The error was only design time, and it disappeared once I tried running it. Everything works now, I think. I will resume working on my code and let you know if everything works out! Thank you so much"}, {"owner": {"reputation": 23, "user_id": 10688384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f8b515acffa90bbceea31a81d615855?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelReese&#39;s", "link": "https://stackoverflow.com/users/10688384/michaelreeses"}, "edited": false, "score": 0, "creation_date": 1543458564, "post_id": 53529920, "comment_id": 93930248, "body": "I did not do exactly this because my classes work a little differently, but the idea of everything worked out. Thanks!"}, {"owner": {"reputation": 12628, "user_id": 145757, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/T6ghe.png?s=128&g=1", "display_name": "Pragmateek", "link": "https://stackoverflow.com/users/145757/pragmateek"}, "reply_to_user": {"reputation": 23, "user_id": 10688384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f8b515acffa90bbceea31a81d615855?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelReese&#39;s", "link": "https://stackoverflow.com/users/10688384/michaelreeses"}, "edited": false, "score": 0, "creation_date": 1543488923, "post_id": 53529920, "comment_id": 93942217, "body": "Nice, keep it up! :)"}], "tags": [], "owner": {"reputation": 12628, "user_id": 145757, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/T6ghe.png?s=128&g=1", "display_name": "Pragmateek", "link": "https://stackoverflow.com/users/145757/pragmateek"}, "is_accepted": true, "score": 0, "last_activity_date": 1543449491, "creation_date": 1543449491, "answer_id": 53529920, "question_id": 53529467, "link": "https://stackoverflow.com/questions/53529467/cannot-go-from-one-page-to-a-new-page-while-sending-values-in-wpf-c/53529920#53529920", "title": "Cannot go from one Page to a new Page while sending values in WPF C#", "body": "<p>You can't have a <code>Page</code> inside a <code>Page</code>.</p>\n\n<p>Instead you should let their common parent component handles the transition using <strong>events</strong>:</p>\n\n<p><strong><code>Pokemon</code></strong>:</p>\n\n<pre><code>public class Pokemon\n{\n    public string Name { get; set; }\n}\n</code></pre>\n\n<p><strong><code>PkmnSelect</code></strong></p>\n\n<pre><code>&lt;Page x:Class=\"WpfApp1.PkmnSelect\"\n      xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n      xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n      xmlns:system=\"clr-namespace:System;assembly=mscorlib\"\n      Title=\"PkmnSelect\"&gt;\n    &lt;Grid&gt;\n        &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition Height=\"*\"&gt;&lt;/RowDefinition&gt;\n            &lt;RowDefinition Height=\"Auto\"&gt;&lt;/RowDefinition&gt;\n        &lt;/Grid.RowDefinitions&gt;\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=\"*\"&gt;&lt;/ColumnDefinition&gt;\n            &lt;ColumnDefinition Width=\"Auto\"&gt;&lt;/ColumnDefinition&gt;\n            &lt;ColumnDefinition Width=\"*\"&gt;&lt;/ColumnDefinition&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n        &lt;ListBox Name=\"FirstPokemonList\"&gt;\n            &lt;system:String&gt;Pikachu&lt;/system:String&gt;\n            &lt;system:String&gt;Raichu&lt;/system:String&gt;\n            &lt;system:String&gt;Rattata&lt;/system:String&gt;\n        &lt;/ListBox&gt;\n        &lt;Label Grid.Column=\"1\" VerticalContentAlignment=\"Center\" FontSize=\"20\" FontWeight=\"ExtraBold\"&gt;VS&lt;/Label&gt;\n        &lt;ListBox Name=\"SecondPokemonList\" Grid.Column=\"2\" Margin=\"0,1,0,19\" Grid.RowSpan=\"2\"&gt;\n            &lt;system:String&gt;Pikachu&lt;/system:String&gt;\n            &lt;system:String&gt;Raichu&lt;/system:String&gt;\n            &lt;system:String&gt;Rattata&lt;/system:String&gt;\n        &lt;/ListBox&gt;\n        &lt;Button Click=\"Button_Click\" Grid.Row=\"1\" Grid.ColumnSpan=\"3\"&gt;FIGHT!&lt;/Button&gt;\n    &lt;/Grid&gt;\n&lt;/Page&gt;\n\npublic class PokemonsSelectedEventArgs : EventArgs\n{\n    public Pokemon FirstPokemon { get; set; }\n    public Pokemon SecondPokemon { get; set; }\n}\n\npublic partial class PkmnSelect : Page\n{\n    public event EventHandler&lt;PokemonsSelectedEventArgs&gt; PokemonsSelected = delegate { };\n\n    public PkmnSelect()\n    {\n        InitializeComponent();\n    }\n\n    private void Button_Click(object sender, RoutedEventArgs e)\n    {\n        PokemonsSelected(this, new PokemonsSelectedEventArgs\n        {\n            FirstPokemon = new Pokemon { Name = (string)FirstPokemonList.SelectedValue },\n            SecondPokemon = new Pokemon { Name = (string)SecondPokemonList.SelectedValue }\n        });\n    }\n}\n</code></pre>\n\n<p><strong><code>Battle</code></strong>:</p>\n\n<pre><code>&lt;Page x:Class=\"WpfApp1.Battle\"\n      xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n      xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n      Title=\"Battle\"&gt;\n    &lt;Grid&gt;\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=\"*\"&gt;&lt;/ColumnDefinition&gt;\n            &lt;ColumnDefinition Width=\"Auto\"&gt;&lt;/ColumnDefinition&gt;\n            &lt;ColumnDefinition Width=\"*\"&gt;&lt;/ColumnDefinition&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n        &lt;Label HorizontalContentAlignment=\"Center\" VerticalContentAlignment=\"Center\" Content=\"{Binding UserPokemon.Name}\" FontSize=\"40\" FontWeight=\"ExtraBold\"&gt;&lt;/Label&gt;\n        &lt;Label VerticalContentAlignment=\"Center\" FontSize=\"20\" FontWeight=\"ExtraBold\" Grid.Column=\"1\"&gt;VS&lt;/Label&gt;\n        &lt;Label HorizontalContentAlignment=\"Center\" VerticalContentAlignment=\"Center\" Content=\"{Binding OpponentPokemon.Name}\" FontSize=\"40\" FontWeight=\"ExtraBold\" Grid.Column=\"2\"&gt;&lt;/Label&gt;\n    &lt;/Grid&gt;\n&lt;/Page&gt;\n\npublic partial class Battle : Page\n{\n    public Pokemon UserPokemon { get; set; }\n    public Pokemon OpponentPokemon { get; set; }\n\n    public Battle()\n    {\n        InitializeComponent();\n\n        DataContext = this;\n    }\n\n    public Battle(Pokemon userPkmn, Pokemon opponentPkmn) : this()\n    {\n        UserPokemon = userPkmn;\n        OpponentPokemon = opponentPkmn;\n    }\n}\n</code></pre>\n\n<p><strong><code>MainWindow</code></strong>:</p>\n\n<pre><code>&lt;Window x:Class=\"WpfApp1.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:local=\"clr-namespace:WpfApp1\"\n        Title=\"MainWindow\" Height=\"450\" Width=\"800\"&gt;\n    &lt;local:PkmnSelect PokemonsSelected=\"PkmnSelect_PokemonsSelected\"&gt;&lt;/local:PkmnSelect&gt;\n&lt;/Window&gt;\n\npublic partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n\n    private void PkmnSelect_PokemonsSelected(object sender, PokemonsSelectedEventArgs e)\n    {\n        Content = new Battle(e.FirstPokemon, e.SecondPokemon);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10688384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f8b515acffa90bbceea31a81d615855?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelReese&#39;s", "link": "https://stackoverflow.com/users/10688384/michaelreeses"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 53529920, "answer_count": 1, "score": 2, "last_activity_date": 1543449491, "creation_date": 1543446430, "last_edit_date": 1543448995, "question_id": 53529467, "link": "https://stackoverflow.com/questions/53529467/cannot-go-from-one-page-to-a-new-page-while-sending-values-in-wpf-c", "title": "Cannot go from one Page to a new Page while sending values in WPF C#", "body": "<p>In my MainWindow.xaml.cs, I open a new Page (PkmnSelect) using this:</p>\n\n<pre><code>PkmnSelect pkmnSelect = new PkmnSelect(); \nContent = pkmnSelect;\n</code></pre>\n\n<p>Then, once the user has chosen their team of Pok\u00e9mon in this page (PkmnSelect), they can click Start. The Start button has this as code:</p>\n\n<pre><code>Battle battle = new Battle(userPokemon, opponentPokemon);\nContent = battle;\n</code></pre>\n\n<p>Battle is a page that I want to take as input two Pok\u00e9mon[], so I've created an additional constructor in Battle that looks like this:</p>\n\n<pre><code>public Battle(Pokemon[] userPkmn, Pokemon[] opponentPkmn) : this()\n{\n    userPokemon = userPkmn;\n    opponentPokemon = opponentPkmn;\n}\n</code></pre>\n\n<p>This gives me the error \"Page can only have Window or Frame as parent.\"</p>\n\n<p>My question is, what is the right way to send values from one page to another?\nI have looked everywhere and nothing I've tried has worked.</p>\n\n<p>EDIT: The beginning of Battle.xaml.cs:</p>\n\n<pre><code>public partial class Battle : Page\n{\n    Pokemon[] userPokemon;\n    Pokemon[] opponentPokemon;\n\n    public Battle()\n    {\n        InitializeComponent();\n        //Some code to hide some xaml stuff and start some music\n    }\n\n    public Battle(Pokemon[] userPkmn, Pokemon[] opponentPkmn) : this()\n    {\n        userPokemon = userPkmn;\n        opponentPokemon = opponentPkmn;\n    }\n</code></pre>\n"}, {"tags": ["c#", "winforms", "infragistics", "ultratree"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1543446734, "post_id": 53529447, "comment_id": 93927644, "body": "It&#39;s <a href=\"http://help.infragistics.com/Help/Doc/WinForms/2012.1/CLR2.0/html/Infragistics2.Win.UltraWinTree.v12.1~Infragistics.Win.UltraWinTree.UltraTreeNode.html\" rel=\"nofollow noreferrer\">not sealed</a>, so you can subclass it. Or you could just use the <code>Tag</code> property?"}, {"owner": {"reputation": 428, "user_id": 3347048, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mBD7V.png?s=128&g=1", "display_name": "Haseeb", "link": "https://stackoverflow.com/users/3347048/haseeb"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1543447094, "post_id": 53529447, "comment_id": 93927715, "body": "Right but I need to add many properties. multi vales. If i use tag property it will be hard to handle. However you are right Tag property is ultimately last solution"}], "answers": [{"tags": [], "owner": {"reputation": 1400, "user_id": 4398005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b12990fcd36a06a2b18f4fa891ced75?s=128&d=identicon&r=PG&f=1", "display_name": "wnvko", "link": "https://stackoverflow.com/users/4398005/wnvko"}, "is_accepted": false, "score": 0, "last_activity_date": 1543557453, "creation_date": 1543557453, "answer_id": 53552022, "question_id": 53529447, "link": "https://stackoverflow.com/questions/53529447/how-to-add-a-custom-property-in-ultratreenode-collection-infragistics-ultratree/53552022#53552022", "title": "How to add a custom property in UltraTreeNode Collection (Infragistics UltraTree Control)", "body": "<p>As stuard wrote you can inherit <code>UltraTreeNode</code> like this:</p>\n\n<pre><code>public class CustomUltraTreeNode: UltraTreeNode\n{\n    public string MyCustomPorperty { get; set; }\n\n    public string SomeOtherCustomProperty { get; set; }\n}\n</code></pre>\n\n<p>Then you can use <code>CustomUltraTreeNode</code> instead of <code>UltraTreeNode</code> like this:</p>\n\n<pre><code>UltraTree MyUltraTree = new UltraTree();\nCustomUltraTreeNode MyNode = new CustomUltraTreeNode();\nMyNode.Text = \"Caption of My Node\";\nMyNode.MyCustomPorperty = \"This is custom property want to Add in Node Collection\";\nMyNode.SomeOtherCustomProperty = \"This is some other custom property\";\nMyUltraTree.Nodes.Add(MyNode);\n</code></pre>\n"}], "owner": {"reputation": 428, "user_id": 3347048, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mBD7V.png?s=128&g=1", "display_name": "Haseeb", "link": "https://stackoverflow.com/users/3347048/haseeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1543557453, "creation_date": 1543446318, "question_id": 53529447, "link": "https://stackoverflow.com/questions/53529447/how-to-add-a-custom-property-in-ultratreenode-collection-infragistics-ultratree", "title": "How to add a custom property in UltraTreeNode Collection (Infragistics UltraTree Control)", "body": "<p>How can I add a custom property in UltraTreeNode collection? using UltraTree Infragistics control 12.x version.</p>\n\n<p>For example:</p>\n\n<pre><code>UltraTree MyUltraTree = new UltraTree();\nUltraTreeNode MyNode =  new UltraTreeNode();\nMyNode.Text = \"Caption of My Node\";\nMyNode.MyCustomProperty = \"This is custom property want to Add in Node Collection\";\nMyUltraTree.Nodes.Add(MyNode);\n</code></pre>\n"}, {"tags": ["c#", "dataset"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10719702, "user_type": "registered", "profile_image": "https://graph.facebook.com/303245370476197/picture?type=large", "display_name": "Alan Assis", "link": "https://stackoverflow.com/users/10719702/alan-assis"}, "edited": false, "score": 0, "creation_date": 1543448098, "post_id": 53529595, "comment_id": 93927978, "body": "Nothing appears on the console, it does not pass if"}], "tags": [], "owner": {"reputation": 5535, "user_id": 6785695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9745fd8cd877a80a5992710610eb471?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/6785695/tim"}, "is_accepted": false, "score": 0, "last_activity_date": 1543447297, "creation_date": 1543447297, "answer_id": 53529595, "question_id": 53529446, "link": "https://stackoverflow.com/questions/53529446/get-list-of-row-from-a-dataset/53529595#53529595", "title": "Get list of row from a DataSet", "body": "<p>You will need to find the <code>DataRow</code> that corresponds to your <code>TITLE</code> and <code>SUMMARY</code> rows, and then access the values of the appropriate columns.</p>\n\n<p>Try this:</p>\n\n<pre><code>foreach (DataRow row in ds.Tables[\"col\"].Rows) {\n   if (row[\"name\"] == \"TITLE\") {\n      Console.WriteLine(row[\"col_Text\"]);\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10719702, "user_type": "registered", "profile_image": "https://graph.facebook.com/303245370476197/picture?type=large", "display_name": "Alan Assis", "link": "https://stackoverflow.com/users/10719702/alan-assis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543447601, "creation_date": 1543446313, "last_edit_date": 1543447601, "question_id": 53529446, "link": "https://stackoverflow.com/questions/53529446/get-list-of-row-from-a-dataset", "title": "Get list of row from a DataSet", "body": "<p>I have this dataset like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HpWDZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HpWDZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I get the string \"TITLE\" and \"SUMMARY\"?</p>\n\n<p>I have this code:</p>\n\n<pre><code>string path = @\"C:\\Users\\Pichau\\Downloads\\teste\\data.xml\";\nXmlDocument x = new XmlDocument();\nx.Load(path);\nStringReader stream = new StringReader(x.InnerXml);\nDataSet ds = new DataSet();\nds.ReadXml(stream);\n\nforeach (var i in ds.Tables[\"col\"].Columns)\n{\n    Console.WriteLine(i.ToString());\n}\n\nConsole.ReadLine();\n</code></pre>\n\n<p>But with this code I get the following output:</p>\n\n<pre><code>name\ntype\ncol_Text\nrow_Id\n</code></pre>\n\n<p>I want to access the value of \"TITLE\" in the \"name\" column</p>\n"}, {"tags": ["c#", "json", "json.net"], "comments": [{"owner": {"reputation": 657, "user_id": 3219115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Minijack", "link": "https://stackoverflow.com/users/3219115/minijack"}, "edited": false, "score": 0, "creation_date": 1543446283, "post_id": 53529427, "comment_id": 93927531, "body": "Could you please share your <code>TestConverter</code>?"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 657, "user_id": 3219115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Minijack", "link": "https://stackoverflow.com/users/3219115/minijack"}, "edited": false, "score": 0, "creation_date": 1543446381, "post_id": 53529427, "comment_id": 93927559, "body": "@Minijack Added, but its just stubbed out right now. None of those are getting hit."}, {"owner": {"reputation": 657, "user_id": 3219115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Minijack", "link": "https://stackoverflow.com/users/3219115/minijack"}, "edited": false, "score": 0, "creation_date": 1543446494, "post_id": 53529427, "comment_id": 93927586, "body": "if <code>CanConvert</code> does not return true then it will not try and convert the value"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 657, "user_id": 3219115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Minijack", "link": "https://stackoverflow.com/users/3219115/minijack"}, "edited": false, "score": 0, "creation_date": 1543446536, "post_id": 53529427, "comment_id": 93927593, "body": "@Minijack it doesn&#39;t even get into any of those methods..."}, {"owner": {"reputation": 657, "user_id": 3219115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Minijack", "link": "https://stackoverflow.com/users/3219115/minijack"}, "edited": false, "score": 0, "creation_date": 1543446585, "post_id": 53529427, "comment_id": 93927604, "body": "try <code>JsonConvert.DeserializeObject&lt;Test&gt;(&quot;{ \\&quot;expires_in\\&quot;: 300 }&quot;, new TestConvert());</code>"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 657, "user_id": 3219115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Minijack", "link": "https://stackoverflow.com/users/3219115/minijack"}, "edited": false, "score": 0, "creation_date": 1543446939, "post_id": 53529427, "comment_id": 93927685, "body": "@Minijack when I do that, it gets into it for the Test object. Isn&#39;t it supposed to do it for each property that has the converter on it?"}, {"owner": {"reputation": 657, "user_id": 3219115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Minijack", "link": "https://stackoverflow.com/users/3219115/minijack"}, "edited": false, "score": 0, "creation_date": 1543447497, "post_id": 53529427, "comment_id": 93927801, "body": "use <code>Converter</code> rather then <code>ItemConverter</code> as <code>ItemConverter</code> is for collections, see <a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_Serialization_JsonProperty.htm\" rel=\"nofollow noreferrer\">docs</a>"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 657, "user_id": 3219115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Minijack", "link": "https://stackoverflow.com/users/3219115/minijack"}, "edited": false, "score": 0, "creation_date": 1543447781, "post_id": 53529427, "comment_id": 93927870, "body": "@Minijack Yeah, I had to change to \t\t[JsonProperty(&quot;expires_in&quot;)] \t\t[JsonConverter(typeof(TestConverter))] \t\tpublic DateTime ExpirationDate { get; set; } to get it to work. Can&#39;t do it with a single attribute I guess. Thanks!"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1543448512, "post_id": 53529427, "comment_id": 93928093, "body": "Seems like a duplicate of <a href=\"https://stackoverflow.com/a/38319910/3744182\">Why serializing Version with JsonPropertyAttribute doesn&#39;t work?</a> and/or <a href=\"https://stackoverflow.com/a/24640305/3744182\">Proper way of using Newtonsoft Json ItemConverterType</a>."}], "owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "closed_date": 1543451005, "answer_count": 0, "score": 0, "last_activity_date": 1543446363, "creation_date": 1543446215, "last_edit_date": 1543446363, "question_id": 53529427, "link": "https://stackoverflow.com/questions/53529427/json-net-converter-not-getting-called", "closed_reason": "Duplicate", "title": "Json.net Converter not getting called", "body": "<p>I have a json string that comes back as:</p>\n\n<p>{ \"expires_in\": 300 }</p>\n\n<p>I defined a class:</p>\n\n<pre><code>class Test\n{\n   public DateTime ExpirationDate {get;set;}\n}\n</code></pre>\n\n<p>Now I want to deserialize into that object, but want to convert the 300 to mean DateTime.Now.AddSeconds(300) so I did:</p>\n\n<pre><code>JsonConvert.DeserializeObject&lt;Test&gt;(\"{ \\\"expires_in\\\": 300 }\");\n</code></pre>\n\n<p>So I tried:</p>\n\n<pre><code>class Test\n{\n   [JsonProperty(\"expires_in\", ItemConverterType=typeof(TestConverter))]\n   public DateTime ExpirationDate {get;set;}\n}\n</code></pre>\n\n<p>But it never seems to get into the converter. Am I missing something?</p>\n\n<p>Converter is just stubbed out:</p>\n\n<pre><code>class TestConvert : JsonConverter\n{\n    public override bool CanConvert(Type objectType)\n    {\n        throw new NotImplementedException();\n    }\n\n    public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n    {\n        throw new NotImplementedException();\n    }\n\n    public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n    {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "expression-trees"], "answers": [{"tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 5, "last_activity_date": 1543491868, "last_edit_date": 1543491868, "creation_date": 1543485756, "answer_id": 53536362, "question_id": 53529348, "link": "https://stackoverflow.com/questions/53529348/error-generating-dynamic-query-using-expressiontree/53536362#53536362", "title": "Error generating Dynamic Query using ExpressionTree", "body": "<p>There are many inefficiencies in this code. And no real benefit of using expressions when working with <code>IEnumerable</code>s - <code>Func&lt;..&gt;</code> parameters similar to standard LINQ <code>Enumerable</code> methods would be enough.</p>\n\n<p>But to answer your concrete question. The exception is because you are calling <code>CreateQuery</code> with expression returning <code>IEnumerable&lt;TSource&gt;</code> (due to <code>Enumerable.Where</code> method call) while it expects (requires) <code>IQueryable</code> (or <code>IQueryable&lt;TSource&gt;</code>) type expression.</p>\n\n<p>The fix is simple - change <code>typeof(Enumerable)</code> to <code>typeof(Queryable)</code> in your <code>Expression.Call</code> (the other parameters are unchanged) and the problem will be gone.</p>\n\n<p>Also note that when you have compile time type <code>TSource</code> and <code>IQueryable&lt;TSource&gt;</code> and <code>Expression&lt;Func&lt;TSource, bool&gt;&gt;</code> variables, there is no need to compose <code>Where</code> call and <code>CreateQuery</code> - you could simple use <code>Queryable.Where</code> extension method directly, e.g. given</p>\n\n<pre><code>var predicate = Expression.Lambda&lt;Func&lt;TSource, bool&gt;&gt;(predicateBody, sourceObjectParam);\n</code></pre>\n\n<p>the</p>\n\n<pre><code>MethodCallExpression whereCallExpression = Expression.Call(\n    typeof(Queryable),\n    \"Where\",\n    new Type[] { queryableData.ElementType },\n    queryableData.Expression,\n    predicate);\n\nIQueryable&lt;TSource&gt; resultsQuery =  \n    queryableData.Provider.CreateQuery&lt;TSource&gt;(whereCallExpression);\n</code></pre>\n\n<p>can be replaced with</p>\n\n<pre><code>IQueryable&lt;TSource&gt; resultsQuery = queryableData.Where(predicate);\n</code></pre>\n\n<p>thus avoiding errors like this.</p>\n"}], "owner": {"reputation": 963, "user_id": 479928, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c7bff8fb2df91380505fc1fea29a0d1b?s=128&d=identicon&r=PG", "display_name": "Purusartha", "link": "https://stackoverflow.com/users/479928/purusartha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 53536362, "answer_count": 1, "score": 4, "last_activity_date": 1543491868, "creation_date": 1543445764, "question_id": 53529348, "link": "https://stackoverflow.com/questions/53529348/error-generating-dynamic-query-using-expressiontree", "title": "Error generating Dynamic Query using ExpressionTree", "body": "<p>My code is a slight revision from the sample here:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/expression-trees/how-to-use-expression-trees-to-build-dynamic-queries\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/expression-trees/how-to-use-expression-trees-to-build-dynamic-queries</a></p>\n\n<p>I am writing an extension method that allows for performing <code>unionon</code> any property in the source/destination list and has the following signature</p>\n\n<pre><code>public static IEnumerable&lt;TSource&gt; UnionOn&lt;TSource, TProperty&gt;(\n   this IEnumerable&lt;TSource&gt; first, \n   Expression&lt;Func&lt;TSource, TProperty&gt;&gt; expression, \n   IEnumerable&lt;TSource&gt; second)\n{\n\n    var finalList = new List&lt;TSource&gt;();\n    finalList.AddRange(first);\n\n    var queryableData = finalList.AsQueryable();\n    foreach (var item in second.ToList())\n    {\n        var propertyValue = expression.Compile().Invoke(item);\n\n        // x=&gt;x.ExtendedPropertyId == 'guid_value'\n        var sourceObjectParam = Expression.Parameter(typeof(TSource), \"x\");\n        var propertyName = ((MemberExpression)expression.Body).Member.Name;\n\n        var left = Expression.Property(sourceObjectParam, propertyName);\n        var right = Expression.Constant(propertyValue);\n\n        var predicateBody = Expression.Equal(left, right);\n\n        MethodCallExpression whereCallExpression = Expression.Call(\n            typeof(Enumerable),\n            \"Where\",\n            new Type[] { queryableData.ElementType },\n            queryableData.Expression,\n            Expression.Lambda&lt;Func&lt;TSource, Boolean&gt;&gt;(predicateBody, new ParameterExpression[] { sourceObjectParam }));\n\n        // **** this line causes runtime error *****\n        IQueryable&lt;TSource&gt; resultsQuery = queryableData.Provider.CreateQuery&lt;TSource&gt;(whereCallExpression);\n\n        if (resultsQuery.ToList().Any())\n            finalList.Add(item);\n    }\n\n    return finalList;\n}\n</code></pre>\n\n<p>The exception reads on generating the <code>resultsQuery</code> method:</p>\n\n<pre><code>System.ArgumentException: 'Argument expression is not valid\n</code></pre>\n\n<p>However, when I look at the debugview of the generated expression in whereCallExpression it looks fine to me:</p>\n\n<pre><code>.Call System.Linq.Enumerable.Where(\n.Constant&lt;System.Linq.EnumerableQuery`1[A]&gt;(System.Collections.Generic.List`1[A]),\n.Lambda #Lambda1&lt;System.Func`2[A,System.Boolean]&gt;)\n\n.Lambda #Lambda1&lt;System.Func`2[A,System.Boolean]&gt;(A $x) {\n$x.ExtendedPropertyId == .Constant&lt;System.Guid&gt;(fadd6b4e-8d97-404c-bcf1- \n c5ebd02230a6)\n</code></pre>\n\n<p>}</p>\n\n<p>Any help will be much appreciated.</p>\n"}, {"tags": ["c#", ".net-core", "async-await", "actor", "orleans"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1543446008, "post_id": 53529339, "comment_id": 93927465, "body": "&quot;So, the ExecutionContext will be captured when await is encountered&quot; No, it&#39;s the SynchronizationContext that&#39;s captured and used for the purpose described."}], "answers": [{"comments": [{"owner": {"reputation": 892, "user_id": 2755656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed6383b33048b5f5893bda7d654dc0b?s=128&d=identicon&r=PG", "display_name": "lmagyar", "link": "https://stackoverflow.com/users/2755656/lmagyar"}, "edited": false, "score": 0, "creation_date": 1544014749, "post_id": 53622587, "comment_id": 94125157, "body": "Could you please check my answer? I&#39;m afraid my answer is wrong. 1. Is it true, that .Ignore() escapes the Orleans&#39; scheduler? 2. I&#39;m sure misunderstood what &quot;turn&quot; means, I&#39;ve read the docs and the WP as turn is all the code from the beginning a call until it returns (with several awaits and tasks inside), but you are talking it about as turn\u2248Task, reading the docs again carefully, I think I should edit my answer. But why the docs use the phrase turn if it means Task?"}, {"owner": {"reputation": 1546, "user_id": 635314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23a36fa0bc0cf5a7acd594c6bd1e2716?s=128&d=identicon&r=PG", "display_name": "Reuben Bond", "link": "https://stackoverflow.com/users/635314/reuben-bond"}, "reply_to_user": {"reputation": 892, "user_id": 2755656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed6383b33048b5f5893bda7d654dc0b?s=128&d=identicon&r=PG", "display_name": "lmagyar", "link": "https://stackoverflow.com/users/2755656/lmagyar"}, "edited": false, "score": 0, "creation_date": 1544022366, "post_id": 53622587, "comment_id": 94130046, "body": "Sure thing, I added a comment to your answer :) I consider a turn to be a unit of synchronous work. It just so happens that for a TaskScheduler, that unit is represented by a (runnable) Task, and under the hood it&#39;s really a delegate. It would be worth writing detailed documentation on the design of the task scheduler, since it has changed over time: as recently as 2.1 when we merged a new implementation for the underlying worker pool."}], "tags": [], "owner": {"reputation": 1546, "user_id": 635314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23a36fa0bc0cf5a7acd594c6bd1e2716?s=128&d=identicon&r=PG", "display_name": "Reuben Bond", "link": "https://stackoverflow.com/users/635314/reuben-bond"}, "is_accepted": true, "score": 4, "last_activity_date": 1543963601, "creation_date": 1543963601, "answer_id": 53622587, "question_id": 53529339, "link": "https://stackoverflow.com/questions/53529339/understanding-single-threaded-nature-of-orleans-grains/53622587#53622587", "title": "Understanding single-threaded nature of Orleans grains", "body": "<h1>Question 1: Is the described execution flow an accurate representation of what's happening?</h1>\n\n<p>Your description looks roughly correct to me, but here's a few finer points:</p>\n\n<ul>\n<li>Whether or not there's a thread pool is an implementation detail.</li>\n<li>'Turns' are each synchronous portion of work scheduled on the activation's <code>TaskScheduler</code>.</li>\n<li>Therefore, a turn ends whenever a execution has to be yielded back to the <code>TaskScheduler</code>.</li>\n<li>That could be because an <code>await</code> was hit which wasn't synchronously completed, or maybe the user isn't using <code>await</code> at all and is programming using <code>ContinueWith</code> or custom awaitables.</li>\n<li>A turn could be ended from a non-top-level method, eg if the code was changed to <code>await SubmitTemp(x)</code> instead of <code>.Ignoring()</code> it, then the turn would end when the <code>Task.Delay(...)</code> was hit inside <code>SubmitTemp(x)</code>.</li>\n</ul>\n\n<h1>Question 2: Does the example program demonstrate a violation of the single-threadedness guarantee?</h1>\n\n<p>No, there is only ever a single thread executing the grain's code at a given time. <em>However</em>, that 'thread' has to split its time between the various tasks which are scheduled on the activation's <code>TaskScheduler</code>. i.e, there will <em>never</em> be a time where you suspend the process and discover that two threads are executing your grain's code at the same time.</p>\n\n<p>As far as the runtime is concerned, the processing of your message ends when the <code>Task</code> (or other awaitable type) returned from the top level method completes. Until that occurs, no new messages will be scheduled for execution on your activation. Background tasks spawned from your methods are always allowed to interleave with other tasks.</p>\n\n<p>.NET allows child tasks to be attached to their parent task. In that case, the parent task only completes when all child tasks complete. This is not the default behavior, however, and it's generally suggested that you avoid opting-in to this behavior (eg, by passing <code>TaskCreationOptions.AttachedToParent</code> to <code>Task.Factory.StartNew</code>).</p>\n\n<p>If you did make use of that behavior (please don't), then you would see your activation loop on the first call to <code>SubmitTemp()</code> indefinitely, and no more messages will be processed.</p>\n\n<h1>Question 3: Does Orleans use <code>SynchronizationContext</code>?</h1>\n\n<p>Orleans does <em>not</em> use <code>SynchronizationContext</code>. Instead, it uses custom <code>TaskScheduler</code> implementations. See <a href=\"https://github.com/dotnet/orleans/blob/1ff7e3a6c81bbe35ed4087856a3f455e46c4b7c0/src/Orleans.Runtime/Scheduler/ActivationTaskScheduler.cs\" rel=\"nofollow noreferrer\"><code>ActivationTaskScheduler.cs</code></a>. Each activation has its own <code>ActivationTaskScheduler</code> and all messages are scheduler using that scheduler.</p>\n\n<p>Regarding the follow-on question, the <code>Task</code> instances (each one representing a synchronous piece of work) which are scheduled against the activation are inserted into the same queue and so they are allowed to interleave, but the <code>ActivationTaskScheduler</code> is only executed by one thread at a time.</p>\n"}, {"comments": [{"owner": {"reputation": 3092, "user_id": 648290, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1cc4b5eb8c177fcf427917fc99d5c128?s=128&d=identicon&r=PG", "display_name": "Avinash Kumar", "link": "https://stackoverflow.com/users/648290/avinash-kumar"}, "edited": false, "score": 1, "creation_date": 1544219660, "post_id": 53639126, "comment_id": 94212527, "body": "I understand your concern. I will change the question to highlight this point right at the beginning."}], "tags": [], "owner": {"reputation": 96, "user_id": 5660804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c2fac244b7a37fbfb8f8e01f75eb43?s=128&d=identicon&r=PG&f=1", "display_name": "sbykov", "link": "https://stackoverflow.com/users/5660804/sbykov"}, "is_accepted": false, "score": 2, "last_activity_date": 1544036745, "creation_date": 1544036745, "answer_id": 53639126, "question_id": 53529339, "link": "https://stackoverflow.com/questions/53529339/understanding-single-threaded-nature-of-orleans-grains/53639126#53639126", "title": "Understanding single-threaded nature of Orleans grains", "body": "<p>I understand that this is a contrived code snippet that was written to explore the execution guarantees of the Orleans runtime. I'm a little concerned that somebody might read this and misconstrued that this is a recommended pattern of how grain methods should be implemented.</p>\n\n<p>That's why I'd like to stress that the recommended way of writing grain code is to await every <code>Task</code> in the call stack. In the above code it would mean awaiting <code>x</code> in the grain method and <code>t</code> in the client code. By default grains are non-reentrant, and that would prevent a second call from the client to start executing before execution of the first one is completed. Or one might choose to mark the grain class as <code>[Reentrant]</code> and allow interleaving of a second call. That would be much more clear and explicit than the background loop, and would make error handling possible.</p>\n"}], "owner": {"reputation": 3092, "user_id": 648290, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1cc4b5eb8c177fcf427917fc99d5c128?s=128&d=identicon&r=PG", "display_name": "Avinash Kumar", "link": "https://stackoverflow.com/users/648290/avinash-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 694, "favorite_count": 0, "accepted_answer_id": 53622587, "answer_count": 2, "score": 0, "last_activity_date": 1544219788, "creation_date": 1543445737, "last_edit_date": 1544219788, "question_id": 53529339, "link": "https://stackoverflow.com/questions/53529339/understanding-single-threaded-nature-of-orleans-grains", "title": "Understanding single-threaded nature of Orleans grains", "body": "<p>I have the following code snippet of a client and a grain in Orleans. <strong>(Although the recommended way to develop in Orleans is to await Tasks, the following code doesn't await at some points purely for experimentation purposes)</strong> </p>\n\n<pre><code>// client code\nwhile(true)\n{\n    Console.WriteLine(\"Client giving another request\");   \n    double temperature = random.NextDouble() * 40;   \n    var grain = client.GetGrain&lt;ITemperatureSensorGrain&gt;(500);\n    Task t = sensor.SubmitTemperatureAsync((float)temperature);\n    Console.WriteLine(\"Client Task Status - \"+t.Status);\n    await Task.Delay(5000);\n}\n\n// ITemperatureSensorGrain code\npublic async Task SubmitTemperatureAsync(float temperature)\n{\n   long grainId = this.GetPrimaryKeyLong();\n   Console.WriteLine($\"{grainId} outer received temperature: {temperature}\");\n\n   Task x = SubmitTemp(temperature); // SubmitTemp() is another function in the same grain\n   x.Ignore();\n   Console.WriteLine($\"{grainId} outer received temperature: {temperature} exiting\");\n}\n\npublic async Task SubmitTemp(float temp)\n{\n    for(int i=0; i&lt;1000; i++)\n    {\n       Console.WriteLine($\"Internal function getting awaiting task {i}\");\n       await Task.Delay(1000);\n    }\n}\n</code></pre>\n\n<p>The output when I run the above code is the following:</p>\n\n<pre><code>Client giving another request\nClient Task Status - WaitingForActivation\n500 outer received temperature: 23.79668\nInternal function getting awaiting task 0\n500 outer received temperature: 23.79668 exiting\nInternal function getting awaiting task 1\nInternal function getting awaiting task 2\nInternal function getting awaiting task 3\nInternal function getting awaiting task 4\nClient giving another request\nClient Task Status - WaitingForActivation\n500 outer received temperature: 39.0514\nInternal function getting awaiting task 0  &lt;------- from second call to SubmitTemp\n500 outer received temperature: 39.0514 exiting\nInternal function getting awaiting task 5  &lt;------- from first call to SubmitTemp\nInternal function getting awaiting task 1\nInternal function getting awaiting task 6\nInternal function getting awaiting task 2\nInternal function getting awaiting task 7\nInternal function getting awaiting task 3\nInternal function getting awaiting task 8\nInternal function getting awaiting task 4\nInternal function getting awaiting task 9\n</code></pre>\n\n<p>The output makes sense from the perspective of a normal .Net application. If I can take help from <a href=\"https://stackoverflow.com/questions/51567128/result-of-task-invocation-on-a-grain-in-orleans\">this stackoverflow post</a>, what is happening here is that:</p>\n\n<ol>\n<li>Client makes a call to <code>ITemperatureSendorGrain</code> and proceeds ahead. When the <code>await</code> is hit, the client thread is returned to the threadpool. </li>\n<li><code>SubmitTemperatureAsync</code> receives the request and calls a local async function <code>SubmitTemp</code>.</li>\n<li><code>SubmitTemp</code> prints statement corresponding to i=0 after which point it hits await. Await causes the rest of the <code>for loop</code> to be scheduled as a continuation of the awaitable (Task.Delay) and the control returns to the calling function <code>SubmitTemperatureAsync</code>. Note here that the thread isn't returned to the threadpool when it encounters await in <code>SubmitTemp</code> function. The thread control is actually returned to the calling function <code>SubmitTemperatureAsync</code>. So, a <code>turn</code>, as defined in Orleans docs, ends when the top level method encounters an await. When a turn ends, the thread is returned to the threadpool. </li>\n<li>The calling function doesn't wait for the task to finish and exits.</li>\n<li>When the awaitable in <code>SubmitTemp</code> returns after 1s, it gets a thread from the threadpool and schedules the rest of the <code>for loop</code> on it.</li>\n<li>When the awaitable in client code returns, it makes another call to the same grain and another round of <code>for loop</code> is scheduled corresponding to the second call to <code>SubmitTemp</code>.</li>\n</ol>\n\n<p><strong>My first question</strong> is have I correctly described what's happening in the code, especially about the thread not being returned to the thread pool when await is hit in the function <code>SubmitTemp</code>.</p>\n\n<hr>\n\n<p>According to single-threaded nature of grains, at any time only one thread will be executing a grain's code. Also, once a request to a grain begins execution, it will be completed fully before the next request is taken up (called <code>chunk based execution</code> in the Orleans docs). On a high-level, this is true for the above code because the next call to <code>SubmitTemperatureAsync</code> will happen only when the current call to the method exits. </p>\n\n<p>However, <code>SubmitTemp</code> was actually a sub-function of <code>SubmitTemperatureAsync</code>. Although <code>SubmitTemperatureAsync</code> exited, <code>SubmitTemp</code> is still executing and while it does that, Orleans allowed another call to <code>SubmitTemperatureAsync</code> to execute. Doesn't this violate the single-threaded nature of Orleans grain <strong>is my second question</strong>?</p>\n\n<hr>\n\n<p>Consider that <code>SubmitTemp</code> in its <code>for loop</code> needs to access some data members of the grain class. So, the <code>ExecutionContext</code> will be captured when await is encountered and when <code>Task.Delay(1000)</code> returns, the captured <code>ExecutionContext</code> will be passed to the scheduling of the remainder <code>for loop</code> on a thread. Because <code>ExecutionContext</code> is passed, the remainder <code>for loop</code> will be able to access the data members in spite of running on a different thread. This is something which happens in any normal .Net asynchronous application.</p>\n\n<p><strong>My third question</strong> is about <code>SynchronizationContext</code>. I did a cursory search in the Orleans repository but couldn't find any implementation of <code>SynchronizationContext.Post()</code>, which leads me to believe that no <code>SynchronizationContext</code> is required to run Orleans methods. Can anyone confirm this? If this isn't true, and a <code>SynchronizationContext</code> is required, wouldn't the parallel execution of the various invocations of <code>SubmitTemp</code> (as shown in the above code), run the risk of ending in a deadlock (if someone holds on to the <code>SynchronizationContext</code> and doesn't release it)?</p>\n"}, {"tags": ["c#", "design-patterns", "inversion-of-control", "factory", "solid-principles"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 9250061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd2bfa6b58b091b547705ec13f48f8c?s=128&d=identicon&r=PG", "display_name": "Manmax75", "link": "https://stackoverflow.com/users/9250061/manmax75"}, "edited": false, "score": 0, "creation_date": 1543460482, "post_id": 53530319, "comment_id": 93930632, "body": "Two questions:  <b>1) &quot;Do you need an abstraction for ConcreteFooModel&quot;</b> Probably not, but it&#39;s hard to predict future code changes. I am concerned removing the abstraction might back me into a wall later on if I am trying to follow Open/Close principle and make changes.  <b>2) Factory per concrete implementation</b> Isn&#39;t a 1:1 ratio a bad design decision (bloatness)? I guess that&#39;s more relevant to the factory pattern however, while in this case I&#39;m implementing more of a builder pattern. Although I am unfamiliar with if a 1:1 relationship for the builder pattern is bad or not."}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "reply_to_user": {"reputation": 47, "user_id": 9250061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd2bfa6b58b091b547705ec13f48f8c?s=128&d=identicon&r=PG", "display_name": "Manmax75", "link": "https://stackoverflow.com/users/9250061/manmax75"}, "edited": false, "score": 0, "creation_date": 1543499778, "post_id": 53530319, "comment_id": 93948256, "body": "From the perspective of the consumer, the factory could be a builder. But given the interface in this case, the consumer doesn&#39;t know that it&#39;s a builder. It just knows that it&#39;s asking the factory to return something."}], "tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": true, "score": 1, "last_activity_date": 1543452962, "creation_date": 1543452962, "answer_id": 53530319, "question_id": 53529306, "link": "https://stackoverflow.com/questions/53529306/building-complex-data-class/53530319#53530319", "title": "Building complex data class", "body": "<p>What's important is to look at this from the perspective of the class that depends on <code>IFooModel</code> That's probably the first place where you want to prevent coupling.</p>\n\n<p>You can accomplish that by injecting the factory into the class that needs it, like this:</p>\n\n<pre><code>public class NeedsFooFactory\n{\n    private readonly IFooBarFactory _factory;\n\n    public NeedsFooFactory(IFooBarFactory fooBarFactory)\n    {\n        _factory = factory;\n    }\n\n    public void WhatEverThisClassDoes(IFoo foo)\n    {\n        var fooBar = _factory.Create(foo);\n        // Do something\n    }\n}\n</code></pre>\n\n<p>Now the class that depends on the factory is decoupled from any implementation. You can substitute or mock another implementation of the factory that returns a different implementation of <code>IFooModel</code>.</p>\n\n<p>Something to stop and think about at this point: Do you need an abstraction for <code>ConcreteFooModel</code> at all? If it's just a class that holds data then maybe you don't. </p>\n\n<p>Getting back to the factory: Now that you can replace the factory with any implementation, this becomes less of a concern:</p>\n\n<pre><code>public class FooBarFactory : IFooBarFactory\n{\n    public IFooModel Create(IFoo someClass)\n    {\n    // some complex model building code here\n        IBarData barData = new ConcreteBarData();\n        IFooModel model = new ConcreteFooModel(someClass.data1, someClass.data1, barData);\n    }\n}\n</code></pre>\n\n<p>This implementation of the factory returns a specific concrete implementation of <code>IFooModel</code>. Is that bad? At some level classes are going to deal with concrete classes. In this case I think it's okay because this factory is doing what it's supposed to do. You don't have to worry that it's coupled to <code>ConcreteFooModel</code>. If you want a class that returns a different implementation you could create a different implementation of <code>IFooBarFactory</code> that returns a different implementation of <code>IFooModel</code>.</p>\n\n<p>Again, this becomes even less of a concern if you question whether you need an abstraction for your foo model. Quite possibly the concrete class is all you need, and what matters is that you can have different implementations of the factory that populates it.</p>\n"}], "owner": {"reputation": 47, "user_id": 9250061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd2bfa6b58b091b547705ec13f48f8c?s=128&d=identicon&r=PG", "display_name": "Manmax75", "link": "https://stackoverflow.com/users/9250061/manmax75"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 53530319, "answer_count": 1, "score": 0, "last_activity_date": 1543452962, "creation_date": 1543445585, "question_id": 53529306, "link": "https://stackoverflow.com/questions/53529306/building-complex-data-class", "title": "Building complex data class", "body": "<p>I have the following builder/factory which abstracts a serializeable model from a class.</p>\n\n<pre><code>public class FooBarFactory : IFooBarFactory\n{\n    public IFooModel Create(IFoo someClass)\n    {\n        // some complex model building code here\n    }\n}\n</code></pre>\n\n<p>And I have a concrete implementation of IFooModel like so:</p>\n\n<pre><code>public interface IFooModel\n{\n    string AbstractedData1 { get; }\n    string AbstractedData2 { get; }\n    int AbstractedData3 { get; }\n}\n\npublic class ConcreteFooModel : IFooModel\n{\n    public string AbstractedData1 { get; set; }\n    public string AbstractedData2 { get; set; }\n    public int AbstractedData3 { get; set; }\n    public bool ExtraData1 { get; set; }\n}\n</code></pre>\n\n<p>Now arises the issue, I am struggling to find a way to not reference any concrete implementations in my builder/factory method, e.g.</p>\n\n<pre><code>public class FooBarFactory : IFooBarFactory\n{\n    public IFooModel Create(IFoo someClass)\n    {\n        // some complex model building code here\n        var model = new ConcreteFooModel(someClass.data1, someClass.data1); // Aaargh\n    }\n}\n</code></pre>\n\n<p>Something about this code is smelly to me, perhaps this is the only way, but I don't like the idea of being forced into referencing the concrete implementation to instantiate the data class, IFooModel.</p>\n\n<p>This gets more complex if I now introduce another data holder interface into the IFooModel</p>\n\n<pre><code>public interface IFooModel\n{\n    string AbstractedData1 { get; }\n    string AbstractedData2 { get; }\n    int AbstractedData3 { get; }\n    IBarData BarData { get; }\n}\n\npublic interface IBarData\n{\n    // some data in here\n}\n</code></pre>\n\n<p>Forcing me then to create another concrete reference for the nested interface</p>\n\n<pre><code>public class FooBarFactory : IFooBarFactory\n{\n    public IFooModel Create(IFoo someClass)\n    {\n        // some complex model building code here\n        IBarData barData = new ConcreteBarData();\n        IFooModel model = new ConcreteFooModel(someClass.data1, someClass.data1, barData);\n    }\n}\n</code></pre>\n\n<p>Is there a better way to do this while still sticking to the SOLID principle and IoC?</p>\n"}, {"tags": ["c#", "datetime"], "comments": [{"owner": {"reputation": 688, "user_id": 4648586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/XlHgj.png?s=128&g=1", "display_name": "Bagus Tesa", "link": "https://stackoverflow.com/users/4648586/bagus-tesa"}, "edited": false, "score": 0, "creation_date": 1543445765, "post_id": 53529302, "comment_id": 93927404, "body": "<i>when I passed it to front</i> could you give some example how did you render it in front?"}, {"owner": {"reputation": 3717, "user_id": 10014678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24619867edb093aac15263183fcf78f8?s=128&d=identicon&r=PG", "display_name": "Andy Song", "link": "https://stackoverflow.com/users/10014678/andy-song"}, "reply_to_user": {"reputation": 688, "user_id": 4648586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/XlHgj.png?s=128&g=1", "display_name": "Bagus Tesa", "link": "https://stackoverflow.com/users/4648586/bagus-tesa"}, "edited": false, "score": 0, "creation_date": 1543445875, "post_id": 53529302, "comment_id": 93927430, "body": "@BagusTesajust standard mvc."}, {"owner": {"reputation": 688, "user_id": 4648586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/XlHgj.png?s=128&g=1", "display_name": "Bagus Tesa", "link": "https://stackoverflow.com/users/4648586/bagus-tesa"}, "edited": false, "score": 0, "creation_date": 1543453785, "post_id": 53529302, "comment_id": 93929265, "body": "<code>&quot;dateString&quot;: &quot;28&#47;11&#47;2018 23:12:33&quot;,</code> looks nothing changed from the database entry. do double check for your frontend code that converts the date.. its hard to help if you dont help us providing <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a> example of your problem.. or at least, give us insight what this frontend based on... :("}], "answers": [{"comments": [{"owner": {"reputation": 3717, "user_id": 10014678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24619867edb093aac15263183fcf78f8?s=128&d=identicon&r=PG", "display_name": "Andy Song", "link": "https://stackoverflow.com/users/10014678/andy-song"}, "edited": false, "score": 0, "creation_date": 1543445997, "post_id": 53529371, "comment_id": 93927462, "body": "however,my database record is &quot;28/11/2018 22:07:09&quot;, does that mean my database record is not correct?"}, {"owner": {"reputation": 3717, "user_id": 10014678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24619867edb093aac15263183fcf78f8?s=128&d=identicon&r=PG", "display_name": "Andy Song", "link": "https://stackoverflow.com/users/10014678/andy-song"}, "edited": false, "score": 0, "creation_date": 1543446308, "post_id": 53529371, "comment_id": 93927537, "body": "my confusion is that after I convert Unix time ticks to utc time and compare to the record in database, they are different. in C# I used <code>DateTime.UtcNow;</code> to generate the datetime."}, {"owner": {"reputation": 11500, "user_id": 177018, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/353d5ea02ff68805601aed1e1e84a60f?s=128&d=identicon&r=PG", "display_name": "Ergwun", "link": "https://stackoverflow.com/users/177018/ergwun"}, "reply_to_user": {"reputation": 3717, "user_id": 10014678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24619867edb093aac15263183fcf78f8?s=128&d=identicon&r=PG", "display_name": "Andy Song", "link": "https://stackoverflow.com/users/10014678/andy-song"}, "edited": false, "score": 0, "creation_date": 1543446314, "post_id": 53529371, "comment_id": 93927543, "body": "Yes, it looks like your database record probably isn&#39;t UTC. Either that, or it is being manipulated before being converted into a unix timestamp. You can use another tool to double check your conversions, e.g.: <a href=\"https://currentmillis.com/\" rel=\"nofollow noreferrer\">currentmillis.com</a>"}, {"owner": {"reputation": 3717, "user_id": 10014678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24619867edb093aac15263183fcf78f8?s=128&d=identicon&r=PG", "display_name": "Andy Song", "link": "https://stackoverflow.com/users/10014678/andy-song"}, "edited": false, "score": 0, "creation_date": 1543448248, "post_id": 53529371, "comment_id": 93928018, "body": "hi, I just edited my post can you please have a look, what I did wrong?"}, {"owner": {"reputation": 11500, "user_id": 177018, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/353d5ea02ff68805601aed1e1e84a60f?s=128&d=identicon&r=PG", "display_name": "Ergwun", "link": "https://stackoverflow.com/users/177018/ergwun"}, "reply_to_user": {"reputation": 3717, "user_id": 10014678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24619867edb093aac15263183fcf78f8?s=128&d=identicon&r=PG", "display_name": "Andy Song", "link": "https://stackoverflow.com/users/10014678/andy-song"}, "edited": false, "score": 0, "creation_date": 1543464154, "post_id": 53529371, "comment_id": 93931362, "body": "@AndySong I&#39;ve updated the answer with some suggestions about why you may be getting the wrong value."}], "tags": [], "owner": {"reputation": 11500, "user_id": 177018, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/353d5ea02ff68805601aed1e1e84a60f?s=128&d=identicon&r=PG", "display_name": "Ergwun", "link": "https://stackoverflow.com/users/177018/ergwun"}, "is_accepted": true, "score": 2, "last_activity_date": 1543464105, "last_edit_date": 1543464105, "creation_date": 1543445892, "answer_id": 53529371, "question_id": 53529302, "link": "https://stackoverflow.com/questions/53529302/how-can-i-parse-a-datetime-that-looks-like-date1543396029630/53529371#53529371", "title": "How can I parse a DateTime that looks like: &#39;Date(1543396029630)&#39;", "body": "<p><code>1543396029630</code> is the Unix time milliseconds format representation of:</p>\n\n<p>Wednesday, 28-Nov-18 09:07:09 UTC</p>\n\n<p>You can convert it into a <code>Date</code> in javascript like this:</p>\n\n<pre><code>var date = new Date(unix_timestamp_in_milliseconds);\n</code></pre>\n\n<p>Since you are getting a different time than you expect, there are a bunch of things that could be going on, related to:</p>\n\n<ol>\n<li>the <code>DateTime.Kind</code> propery on your <code>date</code> instance, and</li>\n<li>the settings your Json serializer is using (e.g. if you are using Json.NET, then the <a href=\"https://www.newtonsoft.com/json/help/html/SerializeDateFormatHandling.htm\" rel=\"nofollow noreferrer\"><code>JsonSerializerSettings.DateTimeZoneHandling</code></a> and <a href=\"https://www.newtonsoft.com/json/help/html/SerializeDateFormatHandling.htm\" rel=\"nofollow noreferrer\"><code>JsonSerializerSettings.DateFormatHandling</code></a> properties will be relevant.</li>\n</ol>\n\n<p>See the  <a href=\"https://www.newtonsoft.com/json/help/html/SerializeDateFormatHandling.htm\" rel=\"nofollow noreferrer\">Json.Net documentation</a> for a guide to how these interact.</p>\n\n<p>I would personally recommend formatting your datetime using ISO-8601 format, and parsing that to the <code>Date()</code> in your front end code. You can achieve this by either explicitly formatting the string in your own code, or configuring your Json serializer to do it automatically.</p>\n\n<p>If you are using the default Json.Net serializer (in ASP.NET core), then you would configure the serializer using using something like this in your <code>Startup</code> class (untested - just to give you the idea):</p>\n\n<pre><code>services.AddMvc()\n    .AddJsonOptions(opt =&gt;\n        {\n            opt.SerializerSettings.DateFormatHandling =\n                DateFormatHandling.IsoDateFormat;\n            opt.SerializerSettings.DateTimeZoneHandling =\n                DateTimeZoneHandling.Unspecified\n           // Or maybe DateTimeZoneHandling.Utc - you should test!\n        });\n</code></pre>\n"}], "owner": {"reputation": 3717, "user_id": 10014678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24619867edb093aac15263183fcf78f8?s=128&d=identicon&r=PG", "display_name": "Andy Song", "link": "https://stackoverflow.com/users/10014678/andy-song"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "closed_date": 1544757498, "accepted_answer_id": 53529371, "answer_count": 1, "score": -2, "last_activity_date": 1544848804, "creation_date": 1543445557, "last_edit_date": 1544848804, "question_id": 53529302, "link": "https://stackoverflow.com/questions/53529302/how-can-i-parse-a-datetime-that-looks-like-date1543396029630", "closed_reason": "Duplicate", "title": "How can I parse a DateTime that looks like: &#39;Date(1543396029630)&#39;", "body": "<p>I save UTC time on the server, and when I pass it to the front end it gives me something like this: <code>\"/Date(1543396029630)/\"</code> </p>\n\n<p>My question is: is this the <code>int</code> the utc timestamp?</p>\n\n<p>I tried to convert the int using an online converter, but the result is different from my record in the database.</p>\n\n<p>My database record is <code>\"28/11/2018 23:12:33\"</code></p>\n\n<pre><code>public ActionResult test()\n{\n    var date = _context.Batches.FirstOrDefault(c =&gt; c.Batches_BatchID == 1)\n        .Batches_ClosedDate;\n\n    var dateString = _context.Batches.FirstOrDefault(c =&gt; c.Batches_BatchID == 1)\n        .Batches_ClosedDate.ToString();\n\n    return Json(new\n        {\n            dateString,\n            date,\n        }, JsonRequestBehavior.AllowGet);\n}\n</code></pre>\n\n<p>and the result is:</p>\n\n<pre><code>{\n\"dateString\": \"28/11/2018 23:12:33\",\n\"date\": \"/Date(1543399953230)/\"\n}\n</code></pre>\n\n<p>and I went to an online converter, it gives me the date is different from <code>dateString</code> any idea?</p>\n\n<p>My account got blocked by some down votes questions, the funny thing is I have to re-edit them, even though I already have the accepted answer.I do not understand what's the point to do this.I am so frustrated by this stackoverflow system.</p>\n\n<p>Now, I basically can do nothing but keep editing my questions, and they have all been answered. This is ridiculous !!!</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "edited": false, "score": 0, "creation_date": 1543453951, "post_id": 53529298, "comment_id": 93929291, "body": "Since the URL passed with GET request, you cannot hide it because it&#39;s necessary to provide unique parameters in action name. Use URL rewriting, parameter encryption/hashing or SEO-friendly URL instead, depending on your choice."}, {"owner": {"reputation": 165, "user_id": 10401107, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SZGvg4fVo3E/AAAAAAAAAAI/AAAAAAAAABk/6bqKmrvXZRw/photo.jpg?sz=128", "display_name": "Dummies EBooks", "link": "https://stackoverflow.com/users/10401107/dummies-ebooks"}, "reply_to_user": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "edited": false, "score": 0, "creation_date": 1543454328, "post_id": 53529298, "comment_id": 93929385, "body": "Well the page is noindex , so there is no effect .. if there is a way to do that even using ajax please let me know ... thanks"}, {"owner": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "edited": false, "score": 0, "creation_date": 1543462546, "post_id": 53529298, "comment_id": 93931013, "body": "How can that <code>id</code> parameter passed to the URL? Are you using <code>ActionLink</code> or something else inside the view to provide <code>id</code> parameter? If the URL coming from browser&#39;s address bar, certainly you need to use <code>id</code> parameter."}], "answers": [{"comments": [{"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1543470956, "post_id": 53532427, "comment_id": 93933155, "body": "Your profile indicates you may be associated with the links you&#39;ve included here. Linking to something you&#39;re affiliated with (e.g. a product or website) without disclosing that affiliation <i>in your post</i> is considered spam on Stack Exchange/Stack Overflow. See: <a href=\"//meta.stackexchange.com/q/182212\"><b>What signifies &quot;Good&quot; self promotion?</b></a>, <a href=\"/help/promotion\">some tips and advice about self-promotion</a>, <a href=\"//meta.stackoverflow.com/q/260638\">What is the exact definition of &quot;spam&quot; for Stack Overflow?</a>, and <a href=\"//meta.stackexchange.com/a/58035\">What makes something spam</a>."}, {"owner": {"reputation": 27492, "user_id": 3773011, "user_type": "moderator", "profile_image": "https://i.stack.imgur.com/Hmfxy.jpg?s=128&g=1", "display_name": "Makyen", "link": "https://stackoverflow.com/users/3773011/makyen"}, "edited": false, "score": 0, "creation_date": 1543471123, "post_id": 53532427, "comment_id": 93933211, "body": "Further, just including a link to your site in your posts, without the site you are linking to being specifically relevant to <i>that post</i>, is considered spam on Stack Exchange. If you&#39;re including it as some type of signature, we don&#39;t do signatures in posts. Your user-card is displayed below the post. That&#39;s your signature."}], "tags": [], "owner": {"reputation": 1, "user_id": 10720620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/El1m2.jpg?s=128&g=1", "display_name": "Ali Dalir", "link": "https://stackoverflow.com/users/10720620/ali-dalir"}, "is_accepted": false, "score": -1, "last_activity_date": 1543521555, "last_edit_date": 1543521555, "creation_date": 1543469387, "answer_id": 53532427, "question_id": 53529298, "link": "https://stackoverflow.com/questions/53529298/hide-url-data-values-in-route/53532427#53532427", "title": "Hide Url Data / Values in Route", "body": "<p>As you, Since you want to pass data with GET request, you have to send id or everything else that you can search and find that data. I suggest you hash URL. To hashing URL:\n<a href=\"https://stackoverflow.com/questions/317760/how-to-get-url-hash-from-server-side\">url hash</a></p>\n"}], "owner": {"reputation": 165, "user_id": 10401107, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SZGvg4fVo3E/AAAAAAAAAAI/AAAAAAAAABk/6bqKmrvXZRw/photo.jpg?sz=128", "display_name": "Dummies EBooks", "link": "https://stackoverflow.com/users/10401107/dummies-ebooks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543521555, "creation_date": 1543445533, "last_edit_date": 1543473062, "question_id": 53529298, "link": "https://stackoverflow.com/questions/53529298/hide-url-data-values-in-route", "title": "Hide Url Data / Values in Route", "body": "<p>I'm trying to hide the data from begin watched in the url, For example here is my <code>route</code> :</p>\n\n<pre><code> routes.MapRoute(\n         \"Viewer\",\n         \"viewer/{id}\",\n         new { controller = \"Viewer\", action = \"Index\" }\n        );\n</code></pre>\n\n<p>and here is the controller method:</p>\n\n<pre><code>public ActionResult Index(int id)\n        {}\n</code></pre>\n\n<p>as you see when i call the method it's gonna route and show the url like this :</p>\n\n<pre><code> www.domain.com/viewer/1234\n</code></pre>\n\n<p>I want to remove the Id from begin watched and i want keep the method running as expected like this </p>\n\n<pre><code>www.domain.com/viewer\n</code></pre>\n\n<p>So how i can do that ?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-5", "razor-2", "dropdownlistfor"], "answers": [{"comments": [{"owner": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "edited": false, "score": 0, "creation_date": 1543500650, "post_id": 53530758, "comment_id": 93948753, "body": "Thanks.. I have only changed property type to List&lt;string&gt; and used ListBoxFor instead and it worked. It automatically selected the elements."}], "tags": [], "owner": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "is_accepted": true, "score": 0, "last_activity_date": 1543456586, "creation_date": 1543456586, "answer_id": 53530758, "question_id": 53529281, "link": "https://stackoverflow.com/questions/53529281/how-to-select-values-in-a-multiple-dropdownlist-using-dropdownlistfor-in-mvc-5/53530758#53530758", "title": "How to select values in a multiple DropDownList using DropdownListFor in MVC 5", "body": "<p>In order to use <code>&lt;select&gt;</code> element with <code>multiple=\"multiple\"</code> attribute, you need to declare <code>List&lt;string&gt;</code> property:</p>\n\n<pre><code>public List&lt;string&gt; CamposId { get; set; }\n</code></pre>\n\n<p>And then use <code>ListBoxFor</code> helper instead of <code>DropDownListFor</code>:</p>\n\n<pre><code>@Html.ListBoxFor(m =&gt; m.CamposId, Model.TodosCampos, new { @class = \"form-control\", multiple = \"multiple\", width = \"100%\" })\n</code></pre>\n\n<p>If you want to set some option values are selected by default, then set <code>Selected</code> property into <code>SelectListItem</code>:</p>\n\n<pre><code>public IEnumerable&lt;SelectListItem&gt; TodosCampos\n{\n    get\n    {\n        foreach (var campo in _todosCampos)\n        {\n            // assumed you have 'campo.IsDefault' which is boolean property \n            yield return new SelectListItem \n            { \n                Text = campo.Nombre, \n                Value = campo.Id.ToString(), \n                Selected = campo.IsDefault // set default selected values\n            };\n        }\n    }\n}  \n</code></pre>\n\n<p><strong>Note:</strong> Usually ID property contain integer values, you can try for <code>List&lt;int&gt; CamposId</code> depending on actual ID data type in database.</p>\n"}], "owner": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2204, "favorite_count": 0, "accepted_answer_id": 53530758, "answer_count": 1, "score": 1, "last_activity_date": 1543484228, "creation_date": 1543445370, "last_edit_date": 1543484228, "question_id": 53529281, "link": "https://stackoverflow.com/questions/53529281/how-to-select-values-in-a-multiple-dropdownlist-using-dropdownlistfor-in-mvc-5", "title": "How to select values in a multiple DropDownList using DropdownListFor in MVC 5", "body": "<p>I have this model:</p>\n\n<pre><code>public class CampoTipoDocumentoViewModel\n{\n    public int TipoDocumentoId { get; set; }\n\n    public string[] CamposId { get; set; }\n\n    private List&lt;MiddleTier.Models.ICampo&gt; _todosCampos;\n    public IEnumerable&lt;SelectListItem&gt; TodosCampos\n    {\n        get\n        {\n            foreach (var campo in _todosCampos)\n                yield return new SelectListItem { Text = campo.Nombre, Value = campo.Id.ToString() };\n        }\n    }  \n\n    public void SetFields(List&lt;MiddleTier.Models.ICampo&gt; campos)\n    {\n        _todosCampos = campos;\n    }\n}\n</code></pre>\n\n<p>In controller, CamposId property is assigned with elements which has to be selected in the view.</p>\n\n<p>Controller also calls SetFields method populating _todosCampos to the whole list of records in the system.</p>\n\n<p>The idea is to create a View with a SELECT that has initially some records selected.</p>\n\n<p>This is my view:</p>\n\n<pre><code>@Html.DropDownListFor(m =&gt; m.CamposId, Model.TodosCampos, new { @class = \"form-control\", multiple = \"multiple\", width = \"100%\" })\n</code></pre>\n\n<p>The fact is that the HTML SELECT element is created with the list, but no option is selected.</p>\n\n<p>For example, if _todosCampos contains:</p>\n\n<pre><code>Text = \"One\", Value = \"1\"\nText = \"Two\", Value = \"2\"\nText = \"Three\", Value = \"3\"\nText = \"Four\", Value = \"4\"\n</code></pre>\n\n<p>and CamposId contains:</p>\n\n<pre><code>Array of \"2\", \"4\"\n</code></pre>\n\n<p>I need the view to create a SELECT with those 4 options, and option 2 and 4 to be initially selected.</p>\n\n<p>How can I achieve this?</p>\n\n<p>Thanks\nJaime</p>\n"}, {"tags": ["c#", "json", "json.net"], "answers": [{"tags": [], "owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "is_accepted": true, "score": 1, "last_activity_date": 1543458422, "creation_date": 1543458422, "answer_id": 53530954, "question_id": 53529211, "link": "https://stackoverflow.com/questions/53529211/query-nested-json-structure-to-find-the-object-having-the-minimum-value-in-a-chi/53530954#53530954", "title": "Query nested JSON structure to find the object having the minimum value in a child array", "body": "<p>Since you already have classes defined to receive the data, I would suggest deserializing to those and skipping the <code>JObject</code>.  You only need one more class to represent the root level:</p>\n\n<pre><code>public class RootObject\n{\n    [JsonProperty(\"travelClasses\")]\n    public List&lt;TravelClass&gt; TravelClasses { get; set; }\n}\n</code></pre>\n\n<p>You can deserialize like this:</p>\n\n<pre><code>var root = JsonConvert.DeserializeObject&lt;RootObject&gt;(json);\n</code></pre>\n\n<p>From there you can use a LINQ query to find the <code>TravelClass</code> with the lowest <code>TotalFare</code>:</p>\n\n<pre><code>var bestTravelClass = root.TravelClasses\n    .SelectMany(tc =&gt; tc.Fares, (tc, f) =&gt; new { TravelClass = tc, f.Fare.TotalFare })\n    .OrderBy(a =&gt; a.TotalFare)\n    .Select(a =&gt; a.TravelClass)\n    .FirstOrDefault();\n</code></pre>\n\n<p>Fiddle: <a href=\"https://dotnetfiddle.net/8WoW5J\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/8WoW5J</a></p>\n"}], "owner": {"reputation": 1611, "user_id": 2541423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f1bb81384bfff0399d5ba436721455e?s=128&d=identicon&r=PG", "display_name": "arslanaybars", "link": "https://stackoverflow.com/users/2541423/arslanaybars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 53530954, "answer_count": 1, "score": 1, "last_activity_date": 1543459349, "creation_date": 1543444972, "last_edit_date": 1543459349, "question_id": 53529211, "link": "https://stackoverflow.com/questions/53529211/query-nested-json-structure-to-find-the-object-having-the-minimum-value-in-a-chi", "title": "Query nested JSON structure to find the object having the minimum value in a child array", "body": "<p>I have the following JSON:</p>\n\n<pre><code>{\n  \"travelClasses\": [\n    {\n      \"fares\": [\n        {\n          \"referenceId\": \"a\",\n          \"fare\": {\n            \"tax\": 48.99,\n            \"totalFare\": 519.99,\n            \"currency\": {\n              \"code\": \"USD\",\n              \"exchangeRate\": 1\n            }\n          }\n        }\n      ],\n      \"availableSeats\": 9,\n      \"type\": \"Pro\",\n      \"code\": \"B\",\n      \"name\": \"UX\"\n    },\n    {\n      \"fares\": [\n        {\n          \"referenceId\": \"b\",\n          \"fare\": {\n            \"tax\": 98.99,\n            \"totalFare\": 119.99,\n            \"currency\": {\n              \"code\": \"USD\",\n              \"exchangeRate\": 1\n            }\n          }\n        }\n      ],\n      \"availableSeats\": 9,\n      \"type\": \"Pro\",\n      \"code\": \"C\",\n      \"name\": \"UC\"\n    },\n    {\n      \"fares\": [\n        {\n          \"referenceId\": \"c\",\n          \"fare\": {\n            \"tax\": 48.99,\n            \"totalFare\": 819.99,\n            \"currency\": {\n              \"code\": \"USD\",\n              \"exchangeRate\": 1\n            }\n          }\n        }\n      ],\n      \"availableSeats\": 9,\n      \"type\": \"Eco\",\n      \"code\": \"X\",\n      \"name\": \"US\"\n    }\n  ]\n}\n</code></pre>\n\n<p>I need to query this JSON then I would like to retrieve the object which has the minimum <code>totalFare</code>. In my sample, the second node has the minimum <code>totalFare</code>, so I need to retrieve following JSON's object with something like <code>.ToObject&lt;TravelClass&gt;()</code>.</p>\n\n<pre><code>{\n  \"fares\": [\n    {\n      \"referenceId\": \"b\",\n      \"fare\": {\n        \"tax\": 98.99,\n        \"totalFare\": 119.99,\n        \"currency\": {\n          \"code\": \"USD\",\n          \"exchangeRate\": 1\n        }\n      }\n    }\n  ],\n  \"availableSeats\": 9,\n  \"type\": \"Pro\",\n  \"code\": \"C\",\n  \"name\": \"UC\"\n}\n</code></pre>\n\n<p>I checked the <a href=\"https://www.newtonsoft.com/json/help/html/SelectToken.htm\" rel=\"nofollow noreferrer\">Newtonsoft documentation</a> about querying a <code>JObject</code> but I couldn't solve that.</p>\n\n<p>Finally here is the C# code that I tried:</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        try\n        {\n            JObject o = JObject.Parse(@\"{\n              'travelClasses': [\n                {\n                  'fares': [\n                    {\n                      'referenceId': 'a',\n                      'fare': {\n                        'tax': 48.99,\n                        'totalFare': 519.99,\n                        'currency': {\n                          'code': 'USD',\n                          'exchangeRate': 1\n                        }\n                      }\n                    }\n                  ],\n                  'availableSeats': 9,\n                  'type': 'Pro',\n                  'code': 'B',\n                  'name': 'UX'\n                },\n                {\n                  'fares': [\n                    {\n                      'referenceId': 'b',\n                      'fare': {\n                        'tax': 98.99,\n                        'totalFare': 119.99,\n                        'currency': {\n                          'code': 'USD',\n                          'exchangeRate': 1\n                        }\n                      }\n                    }\n                  ],\n                  'availableSeats': 9,\n                  'type': 'Pro',\n                  'code': 'C',\n                  'name': 'UC'\n                },\n                {\n                  'fares': [\n                    {\n                      'referenceId': 'c',\n                      'fare': {\n                        'tax': 48.99,\n                        'totalFare': 819.99,\n                        'currency': {\n                          'code': 'USD',\n                          'exchangeRate': 1\n                        }\n                      }\n                    }\n                  ],\n                  'availableSeats': 9,\n                  'type': 'Eco',\n                  'code': 'X',\n                  'name': 'US'\n                }\n              ]\n            }\");\n\n            var minFareTravelClassObject = o[\"travelClasses\"]\n                .Select(m =&gt; m.SelectToken(\"fares\")\n                .OrderByDescending(x =&gt; x[\"totalFare\"]))\n                .FirstOrDefault();     \n        }\n        catch (Exception ex)\n        {\n            throw;\n        }\n    }\n}\n\npublic partial class TravelClass\n{\n    [JsonProperty(\"fares\")]\n    public List&lt;FareElement&gt; Fares { get; set; }\n\n    [JsonProperty(\"availableSeats\")]\n    public int AvailableSeats { get; set; }\n\n    [JsonProperty(\"type\")]\n    public string Type { get; set; }\n\n    [JsonProperty(\"code\")]\n    public string Code { get; set; }\n\n    [JsonProperty(\"name\")]\n    public string Name { get; set; }\n}\n\npublic partial class FareElement\n{\n    [JsonProperty(\"referenceId\")]\n    public string ReferenceId { get; set; }\n\n    [JsonProperty(\"fare\")]\n    public FareFare Fare { get; set; }\n}\n\npublic partial class FareFare\n{\n    [JsonProperty(\"tax\")]\n    public decimal Tax { get; set; }\n\n    [JsonProperty(\"totalFare\")]\n    public decimal TotalFare { get; set; }\n\n    [JsonProperty(\"currency\")]\n    public Currency Currency { get; set; }\n}\n\npublic partial class Currency\n{\n    [JsonProperty(\"code\")]\n    public string Code { get; set; }\n\n    [JsonProperty(\"exchangeRate\")]\n    public decimal ExchangeRate { get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "mysql-connector"], "comments": [{"owner": {"reputation": 1222, "user_id": 4378740, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/v0PC9.jpg?s=128&g=1", "display_name": "chakeda", "link": "https://stackoverflow.com/users/4378740/chakeda"}, "edited": false, "score": 1, "creation_date": 1543447191, "post_id": 53529210, "comment_id": 93927738, "body": "Can you post the code that causes this exception?"}, {"owner": {"reputation": 1, "user_id": 7089309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10c162da9d60b2310ad090d3596e36a7?s=128&d=identicon&r=PG&f=1", "display_name": "Rsiena", "link": "https://stackoverflow.com/users/7089309/rsiena"}, "reply_to_user": {"reputation": 1222, "user_id": 4378740, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/v0PC9.jpg?s=128&g=1", "display_name": "chakeda", "link": "https://stackoverflow.com/users/4378740/chakeda"}, "edited": false, "score": 0, "creation_date": 1543522011, "post_id": 53529210, "comment_id": 93960110, "body": "So it seems that the issue is:"}, {"owner": {"reputation": 1222, "user_id": 4378740, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/v0PC9.jpg?s=128&g=1", "display_name": "chakeda", "link": "https://stackoverflow.com/users/4378740/chakeda"}, "edited": false, "score": 0, "creation_date": 1543523380, "post_id": 53529210, "comment_id": 93960758, "body": "It seems you are using Web.configs in sub directories to do role-based authentication. Now that you&#39;ve upgraded to MVC, delete those files and try using DataAnnotations instead. Let me know if that helps you: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/authorization/roles?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/security/authorization/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1543527506, "post_id": 53529210, "comment_id": 93962494, "body": "Asp.net, MVC etc have really nothing to do with this problem.  If you have a flat tire, the fact that the car is a V8 or Electric has no bearing."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1543527574, "post_id": 53529210, "comment_id": 93962524, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/18060667/why-am-i-getting-cannot-connect-to-server-a-network-related-or-instance-speci\">Why am I getting &quot;Cannot Connect to Server - A network-related or instance-specific error&quot;?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7089309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10c162da9d60b2310ad090d3596e36a7?s=128&d=identicon&r=PG&f=1", "display_name": "Rsiena", "link": "https://stackoverflow.com/users/7089309/rsiena"}, "edited": false, "score": 0, "creation_date": 1543589373, "post_id": 53532463, "comment_id": 93984955, "body": "Thanks I have had my code working with mySQL and it started giving the problem above after integrating the code with MVC"}], "tags": [], "owner": {"reputation": 1, "user_id": 10720620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/El1m2.jpg?s=128&g=1", "display_name": "Ali Dalir", "link": "https://stackoverflow.com/users/10720620/ali-dalir"}, "is_accepted": false, "score": 0, "last_activity_date": 1543469596, "creation_date": 1543469596, "answer_id": 53532463, "question_id": 53529210, "link": "https://stackoverflow.com/questions/53529210/exception-looking-for-sql-server-database-connection/53532463#53532463", "title": "Exception looking for Sql server database connection", "body": "<p>At first you need to download theMySQLConnector. Then you can use the Entity Framework or the SqlCommand to connect to your database.</p>\n\n<p>More Information\n<a href=\"https://dev.mysql.com/downloads/connector/net/\" rel=\"nofollow noreferrer\">MySQL Connector for .NET</a>\n<a href=\"https://www.devart.com/dotconnect/mysql/articles/tutorial_ef.html\" rel=\"nofollow noreferrer\">MySQL Entity Framework Tutorial</a></p>\n"}, {"comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1543527714, "post_id": 53535988, "comment_id": 93962577, "body": "<a href=\"https://meta.stackexchange.com/a/8259/171858\">When someone goes on Stack Exchange, the question &quot;answer&quot; should actually contain an answer. Not just a bunch of directions towards the answer.</a>."}, {"owner": {"reputation": 1, "user_id": 2114722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uhcFe.jpg?s=128&g=1", "display_name": "Chintan Bataviya", "link": "https://stackoverflow.com/users/2114722/chintan-bataviya"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1543558198, "post_id": 53535988, "comment_id": 93969954, "body": "I am new to stack overflow and trying to be helpful. I apologise for the same and will take care for the same in future."}, {"owner": {"reputation": 1, "user_id": 7089309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10c162da9d60b2310ad090d3596e36a7?s=128&d=identicon&r=PG&f=1", "display_name": "Rsiena", "link": "https://stackoverflow.com/users/7089309/rsiena"}, "edited": false, "score": 0, "creation_date": 1543589556, "post_id": 53535988, "comment_id": 93985083, "body": "Thanks,  First time I an seeking outside help.  I usually do extensive searches on the problem first. but this one seemed to allude me."}], "tags": [], "owner": {"reputation": 1, "user_id": 2114722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uhcFe.jpg?s=128&g=1", "display_name": "Chintan Bataviya", "link": "https://stackoverflow.com/users/2114722/chintan-bataviya"}, "is_accepted": false, "score": -1, "last_activity_date": 1543484621, "creation_date": 1543484621, "answer_id": 53535988, "question_id": 53529210, "link": "https://stackoverflow.com/questions/53529210/exception-looking-for-sql-server-database-connection/53535988#53535988", "title": "Exception looking for Sql server database connection", "body": "<p>This will be helpful <a href=\"https://www.aspsnippets.com/Articles/Using-MySQL-database-in-ASPNet-Tutorial-with-example.aspx\" rel=\"nofollow noreferrer\">C# application with MYSQL database example</a></p>\n"}], "owner": {"reputation": 1, "user_id": 7089309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10c162da9d60b2310ad090d3596e36a7?s=128&d=identicon&r=PG&f=1", "display_name": "Rsiena", "link": "https://stackoverflow.com/users/7089309/rsiena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1543589949, "creation_date": 1543444966, "last_edit_date": 1543589949, "question_id": 53529210, "link": "https://stackoverflow.com/questions/53529210/exception-looking-for-sql-server-database-connection", "title": "Exception looking for Sql server database connection", "body": "<p>I have an ASP.NET web site that uses MVC. This works great connecting to a SqlServer DB.  I recently modified the code to connect to a MYSql DB and that works.  But when accessing some pages I get the following error, which says it is looking for  a SQL Server connection.</p>\n\n<p>This is the error:</p>\n\n<blockquote>\n  <p>A network-related or instance-specific error occurred while\n  establishing a connection to SQL Server. The server was not found or\n  was not accessible. Verify that the instance name is correct and that\n  SQL Server is configured to allow remote connections. (provider: SQL\n  Network Interfaces, error: 26 - Error Locating Server/Instance\n  Specified)</p>\n</blockquote>\n\n<p>Has anyone seen this before?  I have been dealing with this for a couple of days and have not found any relevant information on this topic. The rest of the error seems to indicate that it is looking for a SqlServer or a Sql Server Express connection.  What is confusing is that everything has been changed to use MySql.  It seems like it is one of the libraries that is still trying to access a Sql Server DB with the MySql connection string.</p>\n\n<p>Thanks for any help you can provide.</p>\n\n<p>-- update.\nthe problem is that when iis goes into a sub directory in the web site with a web config that includes directory permissions as listed above in the code snipit.  It wants to open up a connection to SQL Server or SQL Server Express to do the permission checks. Since I am using MySql for the connection string it gets confused and cannot handle it. It appears the solution would be to alter the machine config.  but that would cause problems since I am connecting to  SQL Server DB's on other instances in iis. the solution I applied is to remove the sub folder web.config files and make sure that page commissioning is applied on each page directly, which is what I do anyway.  The Directory Permission check is just another level of security. But in typical MS fashion they come up short if not using their products.</p>\n\n<p>so the ultimate solution is to not use MS identity mgt unless you write your own.  This would also alleviate the obvious upgrade to identity mgt that MS seems to want to do with each new release. </p>\n\n<p>cheers and thanks for all the help.  I hope I helped someone else with this issue.</p>\n"}, {"tags": ["c#", "asp.net", "httpwebrequest", "httpwebresponse", "system.net.httpwebrequest"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1543445747, "post_id": 53529124, "comment_id": 93927402, "body": "<i>This code has been working great for months. However, just recently, the line that calls GetResponse is now returning the error &quot;The underlying connection was closed&quot;.</i> - maybe they&#39;ve started rejecting calls for some reason. Have you tried setting <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.httpwebrequest.useragent?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">the user agent string on the request</a> to one of the popular browsers? Does using a proxy like Fiddler get you any more information?"}], "answers": [{"comments": [{"owner": {"reputation": 11765, "user_id": 54064, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e221d31f736ae52335a00f3516f8dba1?s=128&d=identicon&r=PG", "display_name": "user31673", "link": "https://stackoverflow.com/users/54064/user31673"}, "edited": false, "score": 0, "creation_date": 1543447978, "post_id": 53529493, "comment_id": 93927935, "body": "I tried without using the SecurityProtocol as well as changing the URL but the same error is happening."}, {"owner": {"reputation": 23, "user_id": 10712689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eba6fbf1b1554db10907ab4542a6635?s=128&d=identicon&r=PG&f=1", "display_name": "bubble", "link": "https://stackoverflow.com/users/10712689/bubble"}, "reply_to_user": {"reputation": 11765, "user_id": 54064, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e221d31f736ae52335a00f3516f8dba1?s=128&d=identicon&r=PG", "display_name": "user31673", "link": "https://stackoverflow.com/users/54064/user31673"}, "edited": false, "score": 0, "creation_date": 1543503323, "post_id": 53529493, "comment_id": 93950345, "body": "It looks like the site only supports TLS 1.2, so I believe you are correct that the security protocol version is likely not the issue."}, {"owner": {"reputation": 23, "user_id": 10712689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eba6fbf1b1554db10907ab4542a6635?s=128&d=identicon&r=PG&f=1", "display_name": "bubble", "link": "https://stackoverflow.com/users/10712689/bubble"}, "reply_to_user": {"reputation": 11765, "user_id": 54064, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e221d31f736ae52335a00f3516f8dba1?s=128&d=identicon&r=PG", "display_name": "user31673", "link": "https://stackoverflow.com/users/54064/user31673"}, "edited": false, "score": 0, "creation_date": 1543504409, "post_id": 53529493, "comment_id": 93951066, "body": "Do you need to send credentials to the site?  If not, you may try leaving the property as null.  For example, <code>request.Credentials = null;</code>"}], "tags": [], "owner": {"reputation": 23, "user_id": 10712689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eba6fbf1b1554db10907ab4542a6635?s=128&d=identicon&r=PG&f=1", "display_name": "bubble", "link": "https://stackoverflow.com/users/10712689/bubble"}, "is_accepted": false, "score": 1, "last_activity_date": 1543446552, "creation_date": 1543446552, "answer_id": 53529493, "question_id": 53529124, "link": "https://stackoverflow.com/questions/53529124/httpwebrequest-returning-error-the-underlying-connection-was-closed/53529493#53529493", "title": "HttpWebRequest returning error &quot;The underlying connection was closed&quot;", "body": "<p>The site is redirecting to HTTPS, and you explicitly set <code>ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12</code>.  Perhaps the site does not support that protocol version and is closing the connection.</p>\n"}, {"tags": [], "owner": {"reputation": 267, "user_id": 10706711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c451cb3a6c067fea72b703d5a35a61cf?s=128&d=identicon&r=PG&f=1", "display_name": "Aparna Gadgil", "link": "https://stackoverflow.com/users/10706711/aparna-gadgil"}, "is_accepted": false, "score": 0, "last_activity_date": 1543488574, "creation_date": 1543488574, "answer_id": 53537283, "question_id": 53529124, "link": "https://stackoverflow.com/questions/53529124/httpwebrequest-returning-error-the-underlying-connection-was-closed/53537283#53537283", "title": "HttpWebRequest returning error &quot;The underlying connection was closed&quot;", "body": "<p>Following might the solutions - </p>\n\n<ol>\n<li>You can try to use different or multiple SecurityProtocols : </li>\n</ol>\n\n<blockquote>\n  <p>SecurityProtocolTypes: SecurityProtocolType.Ssl3,\n  SecurityProtocolType.Tls, SecurityProtocolType.Tls11</p>\n</blockquote>\n\n<ol start=\"2\">\n<li><p>As this code was working before, it might be the issue on server side as well where they have disabled support for TLS1.0</p></li>\n<li><p>Set <code>HttpWebRequest.KeepAlive</code> to <code>False</code></p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 353, "user_id": 204536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed8ba9daa5821b8b7dba55b73b95261?s=128&d=identicon&r=PG", "display_name": "Meindert", "link": "https://stackoverflow.com/users/204536/meindert"}, "is_accepted": false, "score": 0, "last_activity_date": 1566981178, "creation_date": 1566981178, "answer_id": 57688130, "question_id": 53529124, "link": "https://stackoverflow.com/questions/53529124/httpwebrequest-returning-error-the-underlying-connection-was-closed/57688130#57688130", "title": "HttpWebRequest returning error &quot;The underlying connection was closed&quot;", "body": "<p>Adding the following to your registry will enforce TLS1.2</p>\n\n<blockquote>\n  <p>[HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Microsoft.NETFramework\\v4.0.30319]\n  \"SchUseStrongCrypto\"=dword:00000001</p>\n  \n  <p>[HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft.NETFramework\\v4.0.30319]\n  \"SchUseStrongCrypto\"=dword:00000001</p>\n</blockquote>\n\n<p>The HKEY_LOCAL_MACHINE\\SOFTWARE[Wow6432Node]Microsoft.NETFramework\\: SchUseStrongCrypto registry key has a value of type DWORD. A value of 1 causes your app to use strong cryptography. The strong cryptography uses more secure network protocols (TLS 1.2, TLS 1.1, and TLS 1.0) and blocks protocols that are not secure. A value of 0 disables strong cryptography.</p>\n\n<p>Source: <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/network-programming/tls#schusestrongcrypto\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/framework/network-programming/tls#schusestrongcrypto</a></p>\n"}], "owner": {"reputation": 11765, "user_id": 54064, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e221d31f736ae52335a00f3516f8dba1?s=128&d=identicon&r=PG", "display_name": "user31673", "link": "https://stackoverflow.com/users/54064/user31673"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2864, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1566981178, "creation_date": 1543444484, "question_id": 53529124, "link": "https://stackoverflow.com/questions/53529124/httpwebrequest-returning-error-the-underlying-connection-was-closed", "title": "HttpWebRequest returning error &quot;The underlying connection was closed&quot;", "body": "<p>I simply need to call a web page and get the response page back.  I use the following code to call the webpage.  This code has been working great for months.  However, just recently, the line that calls GetResponse is now returning the error \"The underlying connection was closed\".  I have attached the Verbose logs of the System.Net but I cannot figure out what is wrong.  If I change the URL to <a href=\"http://microsoft.com\" rel=\"nofollow noreferrer\">http://microsoft.com</a> then the response works just fine.  It seems to be related to the specific site I am calling.  I have tried many different url calls to gocomics.com  (like https, no www, etc.) but nothing has been successful.  When I look at the logs, I cannot determine why the GetResponse is failing.</p>\n\n<pre><code>HttpWebRequest request = (HttpWebRequest)WebRequest.Create(new Uri(\"http://www.gocomics.com\"));\n\n// Set some reasonable limits on resources used by this request\nrequest.MaximumAutomaticRedirections = 4;\nrequest.MaximumResponseHeadersLength = 4;\n\n// Set credentials to use for this request.\nrequest.Credentials = CredentialCache.DefaultCredentials;\n\nServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;\nHttpWebResponse response = (HttpWebResponse)request.GetResponse();\n</code></pre>\n\n<p>I have also tried just using this simple code but still not success</p>\n\n<pre><code>HttpWebRequest request = (HttpWebRequest)WebRequest.Create(new Uri(\"http://www.gocomics.com\"));\nHttpWebResponse response = (HttpWebResponse)request.GetResponse();\n</code></pre>\n\n<p>Here is the System.Net logging set at Verbose</p>\n\n<pre><code>System.Net Verbose: 0 : [51100] Entering \n\nWebRequest::Create(http://www.gocomics.com/)\nSystem.Net Verbose: 0 : [51100] Entering HttpWebRequest#54986669::HttpWebRequest(http://www.gocomics.com/#1880366986)\nSystem.Net Information: 0 : [51100] Current OS installation type is 'Client'.\nSystem.Net Information: 0 : [51100] RAS supported: True\nSystem.Net Verbose: 0 : [51100] Exiting HttpWebRequest#54986669::HttpWebRequest()\nSystem.Net Verbose: 0 : [51100] Exiting WebRequest::Create()    -&gt; HttpWebRequest#54986669\nSystem.Net Verbose: 0 : [51100] Entering HttpWebRequest#54986669::GetResponse()\nSystem.Net Error: 0 : [51100] Can't retrieve proxy settings for Uri 'http://www.gocomics.com/'. Error code: 12180.\nSystem.Net Verbose: 0 : [51100] Entering ServicePoint#23686174::ServicePoint(www.gocomics.com:80)\nSystem.Net Information: 0 : [51100] Associating HttpWebRequest#54986669 with ServicePoint#23686174\nSystem.Net Information: 0 : [51100] Associating Connection#31609076 with HttpWebRequest#54986669\nSystem.Net Information: 0 : [51100] Connection#31609076 - Created connection from 10.0.0.208:13441 to 66.6.101.183:80.\nSystem.Net Information: 0 : [51100] Associating HttpWebRequest#54986669 with ConnectStream#20903718\nSystem.Net Information: 0 : [51100] HttpWebRequest#54986669 - Request: GET / HTTP/1.1\n\nSystem.Net Information: 0 : [51100] ConnectStream#20903718 - Sending headers\n{\nHost: www.gocomics.com\nConnection: Keep-Alive\n}.\nSystem.Net Information: 0 : [51100] Connection#31609076 - Received status line: Version=1.1, StatusCode=301, StatusDescription=Moved Permanently.\nSystem.Net Information: 0 : [51100] Connection#31609076 - Received headers\n{\nConnection: Close\nContent-Length: 0\nContent-Type: text/html\nLocation: https://www.gocomics.com/\n}.\nSystem.Net Information: 0 : [51100] ConnectStream#51746094::ConnectStream(Buffered 0 bytes.)\nSystem.Net Information: 0 : [51100] Associating HttpWebRequest#54986669 with ConnectStream#51746094\nSystem.Net Information: 0 : [51100] Associating HttpWebRequest#54986669 with HttpWebResponse#41215084\nSystem.Net Warning: 0 : [51100] HttpWebRequest#54986669::() - Error code 301 was received from server response.\nSystem.Net Warning: 0 : [51100] HttpWebRequest#54986669::() - Resubmitting request.\nSystem.Net Verbose: 0 : [51100] Entering ServicePoint#12096874::ServicePoint(www.gocomics.com:443)\nSystem.Net Information: 0 : [51100] Associating HttpWebRequest#54986669 with ServicePoint#12096874\nSystem.Net Information: 0 : [51100] Associating Connection#26209817 with HttpWebRequest#54986669\nSystem.Net Information: 0 : [51100] Connection#26209817 - Created connection from 10.0.0.208:13443 to 66.6.101.183:443.\nSystem.Net Information: 0 : [51100] TlsStream#860689::.ctor(host=www.gocomics.com, #certs=0, checkCertificateRevocationList=False, sslProtocols=Default)\nSystem.Net Information: 0 : [51100] Associating HttpWebRequest#54986669 with ConnectStream#35288276\nSystem.Net Information: 0 : [51100] HttpWebRequest#54986669 - Request: GET / HTTP/1.1\n\nSystem.Net Information: 0 : [51100] ConnectStream#35288276 - Sending headers\n{\nHost: www.gocomics.com\nConnection: Keep-Alive\n}.\nSystem.Net Information: 0 : [51100] SecureChannel#37533195::.ctor(hostname=www.gocomics.com, #clientCertificates=0, encryptionPolicy=RequireEncryption)\nSystem.Net Information: 0 : [51100] Enumerating security packages:\nSystem.Net Information: 0 : [51100]     Negotiate\nSystem.Net Information: 0 : [51100]     NegoExtender\nSystem.Net Information: 0 : [51100]     Kerberos\nSystem.Net Information: 0 : [51100]     NTLM\nSystem.Net Information: 0 : [51100]     TSSSP\nSystem.Net Information: 0 : [51100]     pku2u\nSystem.Net Information: 0 : [51100]     WDigest\nSystem.Net Information: 0 : [51100]     Schannel\nSystem.Net Information: 0 : [51100]     Microsoft Unified Security Protocol Provider\nSystem.Net Information: 0 : [51100]     Default TLS SSP\nSystem.Net Information: 0 : [51100]     CREDSSP\nSystem.Net Information: 0 : [51100] SecureChannel#37533195 - Left with 0 client certificates to choose from.\nSystem.Net Information: 0 : [51100] SecureChannel#37533195::.AcquireClientCredentials, new SecureCredential() (flags=(ValidateManual, NoDefaultCred, SendAuxRecord), m_ProtocolFlags=(Ssl3Client, Tls10Client), m_EncryptionPolicy=RequireEncryption)\nSystem.Net Information: 0 : [51100] AcquireCredentialsHandle(package = Microsoft Unified Security Protocol Provider, intent  = Outbound, scc     = System.Net.SecureCredential)\nSystem.Net Information: 0 : [51100] InitializeSecurityContext(credential = System.Net.SafeFreeCredential_SECURITY, context = (null), targetName = www.gocomics.com, inFlags = ReplayDetect, SequenceDetect, Confidentiality, AllocateMemory, InitManualCredValidation)\nSystem.Net Information: 0 : [51100] InitializeSecurityContext(In-Buffer length=0, Out-Buffer length=120, returned code=ContinueNeeded).\nSystem.Net Error: 0 : [51100] Exception in HttpWebRequest#54986669:: - The underlying connection was closed: An unexpected error occurred on a send..\nSystem.Net Information: 0 : [51100] Associating HttpWebRequest#54986669 with ServicePoint#12096874\nSystem.Net Information: 0 : [51100] Associating Connection#62465990 with HttpWebRequest#54986669\nSystem.Net Information: 0 : [51100] Connection#62465990 - Created connection from 10.0.0.208:13444 to 66.6.101.183:443.\nSystem.Net Information: 0 : [51100] TlsStream#10968766::.ctor(host=www.gocomics.com, #certs=0, checkCertificateRevocationList=False, sslProtocols=Default)\nSystem.Net Information: 0 : [51100] Associating HttpWebRequest#54986669 with ConnectStream#47066262\nSystem.Net Information: 0 : [51100] HttpWebRequest#54986669 - Request: GET / HTTP/1.1\n\nSystem.Net Information: 0 : [51100] ConnectStream#47066262 - Sending headers\n{\nHost: www.gocomics.com\nConnection: Keep-Alive\n}.\nSystem.Net Information: 0 : [51100] SecureChannel#50668565::.ctor(hostname=www.gocomics.com, #clientCertificates=0, encryptionPolicy=RequireEncryption)\nSystem.Net Information: 0 : [51100] SecureChannel#50668565 - Left with 0 client certificates to choose from.\nSystem.Net Information: 0 : [51100] Using the cached credential handle.\nSystem.Net Information: 0 : [51100] InitializeSecurityContext(credential = System.Net.SafeFreeCredential_SECURITY, context = (null), targetName = www.gocomics.com, inFlags = ReplayDetect, SequenceDetect, Confidentiality, AllocateMemory, InitManualCredValidation)\nSystem.Net Information: 0 : [51100] InitializeSecurityContext(In-Buffer length=0, Out-Buffer length=120, returned code=ContinueNeeded).\nSystem.Net Error: 0 : [51100] Exception in HttpWebRequest#54986669:: - The underlying connection was closed: An unexpected error occurred on a send..\nSystem.Net Error: 0 : [51100] Exception in HttpWebRequest#54986669::GetResponse - The underlying connection was closed: An unexpected error occurred on a send..\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "asp.net-core"], "comments": [{"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1543444803, "post_id": 53529066, "comment_id": 93927108, "body": "When the controller is being disposed, call dispose on your repository and that should dispose the context. If you are using a service layer and not talking to the repository directly from the controller, then call dispose on the service which will call dispose on repo which will dispose the context."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1543444929, "post_id": 53529066, "comment_id": 93927152, "body": "If you are using EF, you do not need unit of work because EF already works that way. Search for this online."}], "answers": [{"comments": [{"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 4, "creation_date": 1543448298, "post_id": 53529235, "comment_id": 93928036, "body": "Can you please provide a link to the documentation that can back up this: <i>The Dependency Injection library will then handle disposal - you do not call Dispose directly.</i>"}], "tags": [], "owner": {"reputation": 3066, "user_id": 3878764, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/cYlMQ.png?s=128&g=1", "display_name": "John-Luke Laue", "link": "https://stackoverflow.com/users/3878764/john-luke-laue"}, "is_accepted": true, "score": 21, "last_activity_date": 1543451179, "last_edit_date": 1543451179, "creation_date": 1543445096, "answer_id": 53529235, "question_id": 53529066, "link": "https://stackoverflow.com/questions/53529066/when-dispose-a-dbcontext-in-net-core/53529235#53529235", "title": "When dispose a dbcontext in .net core?", "body": "<p>Read documentation on configuring DbContext: <a href=\"https://docs.microsoft.com/en-us/ef/core/miscellaneous/configuring-dbcontext\" rel=\"noreferrer\">https://docs.microsoft.com/en-us/ef/core/miscellaneous/configuring-dbcontext</a></p>\n\n<p>Basically, you add it to your services:</p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n    services.AddDbContext&lt;BloggingContext&gt;(options =&gt; options.UseSqlite(\"Data Source=blog.db\"));\n}\n</code></pre>\n\n<p>Then you inject it into whatever class you want. An easy example would be inejecting it into a Controller (but you could inject into any class that is added to your services):</p>\n\n<pre><code>public class MyController\n{\n    private readonly BloggingContext _context;\n\n    public MyController(BloggingContext context)\n    {\n        _context = context;\n    }\n\n    ...\n}\n</code></pre>\n\n<p>The Dependency Injection library will then handle disposal - you do not call Dispose directly. This is described in documentation <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-2.1#overview-of-dependency-injection.\" rel=\"noreferrer\">here</a>.</p>\n\n<blockquote>\n  <p>The framework takes on the responsibility of creating an instance of\n  the dependency and disposing of it when it's no longer needed.</p>\n</blockquote>\n"}], "owner": {"reputation": 81, "user_id": 9119732, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p12mBuu1FbQ/AAAAAAAAAAI/AAAAAAAAAB4/Jv6FCBkIv0o/photo.jpg?sz=128", "display_name": "Geremias Reyero", "link": "https://stackoverflow.com/users/9119732/geremias-reyero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12866, "favorite_count": 0, "accepted_answer_id": 53529235, "answer_count": 1, "score": 6, "last_activity_date": 1543451179, "creation_date": 1543444199, "question_id": 53529066, "link": "https://stackoverflow.com/questions/53529066/when-dispose-a-dbcontext-in-net-core", "title": "When dispose a dbcontext in .net core?", "body": "<p>im making a project with a persistence layer, domain layer, and business layer, i implementing the generic repository pattern and unit of work with entity framework core.</p>\n\n<p>I want to use this project in a web api rest and in a UWP project.</p>\n\n<p>The correct ways its override the method?, add the context in the startup configureservices? When dispose a dbcontext?</p>\n"}, {"tags": ["c#", "asynchronous", "async-await"], "comments": [{"owner": {"reputation": 76, "user_id": 6888824, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zagwzqAgoAA/AAAAAAAAAAI/AAAAAAAADTc/RqLEgvkOxP4/photo.jpg?sz=128", "display_name": "Paul Ballew", "link": "https://stackoverflow.com/users/6888824/paul-ballew"}, "edited": false, "score": 1, "creation_date": 1543444642, "post_id": 53529061, "comment_id": 93927048, "body": "Possible duplicate of: <a href=\"https://stackoverflow.com/questions/22628087/calling-async-method-synchronously\" title=\"calling async method synchronously\">stackoverflow.com/questions/22628087/&hellip;</a>"}, {"owner": {"reputation": 2334, "user_id": 2904107, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/334157fcd3cfc7456d74aea2531be93b?s=128&d=identicon&r=PG&f=1", "display_name": "kamalpreet", "link": "https://stackoverflow.com/users/2904107/kamalpreet"}, "edited": false, "score": 0, "creation_date": 1543444892, "post_id": 53529061, "comment_id": 93927142, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/22628087/calling-async-method-synchronously\">Calling async method synchronously</a>"}], "answers": [{"comments": [{"owner": {"reputation": 487, "user_id": 4463886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WdmcR.jpg?s=128&g=1", "display_name": "spoonraker", "link": "https://stackoverflow.com/users/4463886/spoonraker"}, "edited": false, "score": 3, "creation_date": 1543507385, "post_id": 53529122, "comment_id": 93952897, "body": "Thank you for finally providing a definitive answer to this in the form of the MSDN post.   I actually Googled this before posting and found many similar questions on StackOverflow, but none of them provided a source from MS that explicitly stated that running the task on a thread, waiting, and fetching the result after waiting is safe.  Many other SO threads on this question actually have the wrong answer as the accepted answer, but it looks very similar to the right answer. That is, they skip the call to .Wait()"}, {"owner": {"reputation": 33990, "user_id": 14768, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/b6aMa.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/14768/joshua"}, "edited": false, "score": 0, "creation_date": 1613506062, "post_id": 53529122, "comment_id": 117094243, "body": "This doesn&#39;t work. Deadlock on <code>task.Wait();</code>"}, {"owner": {"reputation": 487, "user_id": 4463886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WdmcR.jpg?s=128&g=1", "display_name": "spoonraker", "link": "https://stackoverflow.com/users/4463886/spoonraker"}, "edited": false, "score": 0, "creation_date": 1615990509, "post_id": 53529122, "comment_id": 117863125, "body": "2021 update: See the other answer from @alexs which I have now marked as the accepted answer. There&#39;s a new synchronous method added to the HttpClient API."}], "tags": [], "owner": {"reputation": 2334, "user_id": 2904107, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/334157fcd3cfc7456d74aea2531be93b?s=128&d=identicon&r=PG&f=1", "display_name": "kamalpreet", "link": "https://stackoverflow.com/users/2904107/kamalpreet"}, "is_accepted": false, "score": 47, "last_activity_date": 1543444480, "creation_date": 1543444480, "answer_id": 53529122, "question_id": 53529061, "link": "https://stackoverflow.com/questions/53529061/whats-the-right-way-to-use-httpclient-synchronously/53529122#53529122", "title": "What&#39;s the &quot;right way&quot; to use HttpClient synchronously?", "body": "<p>Try following-</p>\n\n<pre><code>var task = Task.Run(() =&gt; myHttpClient.GetAsync(someUrl)); \ntask.Wait();\nvar response = task.Result;\n</code></pre>\n\n<p>Use it only when you cannot use async method.</p>\n\n<p>This method is completely deadlock free as mentioned on msdn blog-\n<a href=\"https://blogs.msdn.microsoft.com/jpsanders/2017/08/28/asp-net-do-not-use-task-result-in-main-context/\" rel=\"noreferrer\">https://blogs.msdn.microsoft.com/jpsanders/2017/08/28/asp-net-do-not-use-task-result-in-main-context/</a></p>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 6888824, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zagwzqAgoAA/AAAAAAAAAAI/AAAAAAAADTc/RqLEgvkOxP4/photo.jpg?sz=128", "display_name": "Paul Ballew", "link": "https://stackoverflow.com/users/6888824/paul-ballew"}, "is_accepted": false, "score": 2, "last_activity_date": 1543446521, "creation_date": 1543446521, "answer_id": 53529482, "question_id": 53529061, "link": "https://stackoverflow.com/questions/53529061/whats-the-right-way-to-use-httpclient-synchronously/53529482#53529482", "title": "What&#39;s the &quot;right way&quot; to use HttpClient synchronously?", "body": "<p>You could also look at using Nito.AsyncEx, which is a nuget package. I've heard of issues with using Task.Run() and this this addresses that.  Here's a link to the api docs:\n<a href=\"http://dotnetapis.com/pkg/Nito.AsyncEx/4.0.1/net45/doc/Nito.AsyncEx.AsyncContext\" rel=\"nofollow noreferrer\">http://dotnetapis.com/pkg/Nito.AsyncEx/4.0.1/net45/doc/Nito.AsyncEx.AsyncContext</a></p>\n\n<p>And here's an example for using an async method in a console app:\n<a href=\"https://blog.stephencleary.com/2012/02/async-console-programs.html\" rel=\"nofollow noreferrer\">https://blog.stephencleary.com/2012/02/async-console-programs.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 5855, "user_id": 26877, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/99e6c0ee35ada42e0ff6ca9877df6504?s=128&d=identicon&r=PG", "display_name": "JJS", "link": "https://stackoverflow.com/users/26877/jjs"}, "edited": false, "score": 0, "creation_date": 1619024814, "post_id": 66655958, "comment_id": 118782155, "body": "I cry b/c our enterprise software still uses netfx 4.7"}], "tags": [], "owner": {"reputation": 359, "user_id": 1760167, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce8beabbeb785ad952de11cb7d74c55a?s=128&d=identicon&r=PG&f=1", "display_name": "alexs", "link": "https://stackoverflow.com/users/1760167/alexs"}, "is_accepted": true, "score": 9, "last_activity_date": 1615900429, "creation_date": 1615900429, "answer_id": 66655958, "question_id": 53529061, "link": "https://stackoverflow.com/questions/53529061/whats-the-right-way-to-use-httpclient-synchronously/66655958#66655958", "title": "What&#39;s the &quot;right way&quot; to use HttpClient synchronously?", "body": "<p>For anyone coming across this now, .NET 5.0 has added a synchronous <code>Send</code> method to <code>HttpClient</code>.  <a href=\"https://github.com/dotnet/runtime/pull/34948\" rel=\"noreferrer\">https://github.com/dotnet/runtime/pull/34948</a></p>\n<p>You can therefore use this instead of <code>SendAsync</code>. For example</p>\n<pre><code>public string GetValue()\n{\n    var client = new HttpClient();\n            \n    var webRequest = new HttpRequestMessage(HttpMethod.Post, &quot;http://your-api.com&quot;)\n    {\n        Content = new StringContent(&quot;{ 'some': 'value' }&quot;, Encoding.UTF8, &quot;application/json&quot;)\n    };\n\n    var response = client.Send(webRequest);\n\n    using var reader = new StreamReader(response.Content.ReadAsStream());\n            \n    return reader.ReadToEnd();\n}\n</code></pre>\n<p>This code is just a simplified example, it's not production ready.</p>\n"}], "owner": {"reputation": 487, "user_id": 4463886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WdmcR.jpg?s=128&g=1", "display_name": "spoonraker", "link": "https://stackoverflow.com/users/4463886/spoonraker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13475, "favorite_count": 12, "accepted_answer_id": 66655958, "answer_count": 3, "score": 32, "last_activity_date": 1615900429, "creation_date": 1543444181, "question_id": 53529061, "link": "https://stackoverflow.com/questions/53529061/whats-the-right-way-to-use-httpclient-synchronously", "title": "What&#39;s the &quot;right way&quot; to use HttpClient synchronously?", "body": "<p>I used quote marks around \"right way\" because I'm already well aware that the right way to use an asynchronous API is to simply let the asynchronous behavior propagate throughout the entire call chain. That's not an option here.</p>\n\n<p>I'm dealing with a very large and complicated system designed specifically to do batch processing synchronously in a loop.</p>\n\n<p>The reason why suddenly I'm using HttpClient is because prior to now all data for the batch processing was gathered from a SQL database, and now we're adding a Web API call to the mix.</p>\n\n<p>Yes, we're calling a Web API in a synchronously executing loop. I know. Rewriting the whole thing to be async just isn't an option. This is actually what we want to do. (We're minimizing the number of API calls as much as possible)</p>\n\n<p>I actually <em>did</em> try to propagate the async behavior up the call chain, but then I found myself 50 files deep in changes, still with hundreds of compiler errors to resolve, and lost all hope. I am defeated.</p>\n\n<p>So then, back to the question, given Microsoft's recommendation to never use WebRequest for new development and to instead use HttpClient, which offers only an asynchronous API, what am I to do?</p>\n\n<p>Here is some pseudo-code of what I'm doing...</p>\n\n<pre><code>foreach (var thingToProcess in thingsToProcess)\n{\n    thingToProcess.ProcessStuff(); // This makes an API call\n}\n</code></pre>\n\n<p>How do I implement ProcessStuff()?</p>\n\n<p>My first implementation looked like this</p>\n\n<pre><code>public void ProcessStuff()\n{\n    var apiResponse = myHttpClient // this is an instance of HttpClient\n        .GetAsync(someUrl)\n        .Result;\n\n    // do some stuff with the apiResponse\n}\n</code></pre>\n\n<p>I was told however, that calling .Result in this manner can result in deadlocks when it's called from something like ASP.NET due to the synchronization context.</p>\n\n<p>Guess what, this batch process will be kicked off from an ASP.NET controller. Yes, again, I know, this is silly. When it runs from ASP.NET it's only \"batch processing\" one item instead of the whole batch, but I digress, it still gets called from ASP.NET and thus I'm concerned about deadlocks.</p>\n\n<p>So what's the \"right way\" to handle this?</p>\n"}, {"tags": ["c#", "android", "xamarin", "android-intent", "broadcastreceiver"], "comments": [{"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1543444323, "post_id": 53528984, "comment_id": 93926940, "body": "Top of my head without see the <code>logcat</code> output : <code>[BroadcastReceiver(Enabled = true)]</code> Review the testing (via <code>adb</code>) section of this answer: <a href=\"https://stackoverflow.com/a/47601952/4984832\">stackoverflow.com/a/47601952/4984832</a>"}, {"owner": {"reputation": 1, "user_id": 6299771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hl3B4.png?s=128&g=1", "display_name": "A.Davis", "link": "https://stackoverflow.com/users/6299771/a-davis"}, "reply_to_user": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1543516905, "post_id": 53528984, "comment_id": 93957787, "body": "@SushiHangover I&#39;ve done the adb testing, and think this is the issue:  <code>java.lang.RuntimeException: Unable to start receiver md527b6cae80f13bfed8573ffa181fefc60.BootReceiver: java.lang.IllegalStateException: Not allowed to start service Intent { flg=0x10000000 cmp=MyApp.MyApp&#47;md527b6cae80f13bfed8573ffa181fefc60.AlertSyn&zwnj;&#8203;cService }: app is in background uid UidRecord{6ef4e91 u0a6 ...</code>  However, I don&#39;t know how to resolve this! Any ideas? I have tried running it with       <code>ContextCompat.StartForegroundService(...)</code>  But this has the same issue."}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1543523004, "post_id": 53528984, "comment_id": 93960577, "body": "<a href=\"https://stackoverflow.com/questions/46445265/android-8-0-java-lang-illegalstateexception-not-allowed-to-start-service-inten\" title=\"android 8 0 java lang illegalstateexception not allowed to start service inten\">stackoverflow.com/questions/46445265/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7532, "user_id": 1753073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c84fc25306e27dd3393559721ba869cd?s=128&d=identicon&r=PG", "display_name": "navylover", "link": "https://stackoverflow.com/users/1753073/navylover"}, "is_accepted": false, "score": 0, "last_activity_date": 1543444752, "creation_date": 1543444752, "answer_id": 53529179, "question_id": 53528984, "link": "https://stackoverflow.com/questions/53528984/xamarin-android-start-service-on-boot-completed/53529179#53529179", "title": "Xamarin.Android - Start service on Boot Completed", "body": "<p>You could try this:</p>\n\n<pre><code>[BroadcastReceiver(Enabled = true, Exported = true, DirectBootAware = true)]\n[IntentFilter(new string[] {\n    Intent.ActionBootCompleted, Intent.ActionLockedBootCompleted, \"android.intent.action.QUICKBOOT_POWERON\"\n})]\npublic class BootReceiver: BroadcastReceiver {\n    public override void OnReceive(Context context, Intent intent) {\n        //Do something\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6299771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hl3B4.png?s=128&g=1", "display_name": "A.Davis", "link": "https://stackoverflow.com/users/6299771/a-davis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2203, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543444752, "creation_date": 1543443701, "question_id": 53528984, "link": "https://stackoverflow.com/questions/53528984/xamarin-android-start-service-on-boot-completed", "title": "Xamarin.Android - Start service on Boot Completed", "body": "<p>I am trying to start a service when my device boots up, but the service never starts. </p>\n\n<p>I have added:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /&gt;\n</code></pre>\n\n<p>to AndroidManifest.xml. My BroadcastReceiver looks like this:</p>\n\n<pre><code>[BroadcastReceiver]\n[IntentFilter(new[] { Intent.ActionBootCompleted })]\npublic class BootReceiver : BroadcastReceiver\n{\n    public override void OnReceive(Context context, Intent intent)\n    {\n        var start = new Intent(context, typeof(AlertSyncService));\n        start.AddFlags(ActivityFlags.NewTask);\n        context.StartService(start);\n    }\n}\n</code></pre>\n\n<p>I have confirmed my service is not the issue (tested by starting the same service on button click - it works fine). The issue is definitely that the BroadcastReceiver is never receiving the event. I've also ensured that I open the app once before rebooting - I saw in a similar question that this is necessary, as apps are installed in a \"stopped state\". </p>\n\n<p>Does anybody have any ideas what could be causing this not to work? I'm relatively new to this, so highly likely I've missed something obvious!</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "asp.net-web-api"], "comments": [{"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 4, "creation_date": 1543444442, "post_id": 53528958, "comment_id": 93926973, "body": "I&#39;m not sure that&#39;s how that works. HTTPS certs are associated with a webserver. And signing is typically done with a private key."}, {"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 2, "creation_date": 1543445315, "post_id": 53528958, "comment_id": 93927273, "body": "Right...this sounds like an XY problem. What exactly is it you are wanting to do?"}, {"owner": {"reputation": 688, "user_id": 4648586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/XlHgj.png?s=128&g=1", "display_name": "Bagus Tesa", "link": "https://stackoverflow.com/users/4648586/bagus-tesa"}, "edited": false, "score": 1, "creation_date": 1543454481, "post_id": 53528958, "comment_id": 93929422, "body": "no, you <a href=\"https://stackoverflow.com/a/2604413/4648586\">dont get them automagically</a> you will need to provide the keys to both manually. though we are not really sure what you want to achieve."}, {"owner": {"reputation": 3770, "user_id": 2291628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PNRl4.jpg?s=128&g=1", "display_name": "Colin", "link": "https://stackoverflow.com/users/2291628/colin"}, "edited": false, "score": 1, "creation_date": 1543507743, "post_id": 53528958, "comment_id": 93953098, "body": "You guys were right; I misunderstood how SSL worked. I was thinking that the server used its certificate to secure transmission to the browser, and the browser used a local certificate to secure transmission to the server (where both shared their public keys and used asymmetric encryption at either end of the communication), but I looked into it and discovered that only the server uses its certificate to accept an encrypted symmetric key generated on the client."}], "answers": [{"tags": [], "owner": {"reputation": 1197, "user_id": 10720296, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ry6QvpRrsKM/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i3r2hv55piQWJgADuGIpmVdeYhNg/mo/photo.jpg?sz=128", "display_name": "Raghvender Kataria", "link": "https://stackoverflow.com/users/10720296/raghvender-kataria"}, "is_accepted": false, "score": 2, "last_activity_date": 1543472822, "creation_date": 1543472822, "answer_id": 53533030, "question_id": 53528958, "link": "https://stackoverflow.com/questions/53528958/how-do-i-get-a-web-browsers-public-key-used-in-https/53533030#53533030", "title": "How Do I Get a Web Browser&#39;s Public Key (Used In HTTPS)", "body": "<p>Normally we sign our request with public key which is present in .crt file. Corresponding to that domain we have .pfx file which contains the private key and is present with server.</p>\n\n<p>Through below code you can get complete certificate chain. Normally we have a function ServerCertificateValidationCallback which is used to validate certificate chain but here we are using it to access the certificates which we are validating. So, we need to register the callback \"ServerCertificateValidationCallback\" for our request.</p>\n\n<p>Below is the console code which returns us the certificate:</p>\n\n<pre><code>public static void Main(string[] args)\n{\n    GetCertificate(\"https://www.facebook.com\", \"\");\n}\n/// &lt;summary&gt;\n/// Get and write certificate from URL into file in path\n/// &lt;/summary&gt;\n/// &lt;param name=\"_URL\"&gt;URL of website with certficate&lt;/param&gt;\n/// &lt;param name=\"_path\"&gt;Path where you want to store certificate&lt;/param&gt;\nprivate static void GetCertificate(string url, string path)\n{\n\n        var request = (HttpWebRequest)WebRequest.Create(url);\n        request.AllowAutoRedirect = false;\n        request.ServerCertificateValidationCallback = ServerCertificateValidationCallback;\n\n        HttpWebResponse response = (HttpWebResponse)request.GetResponse();\n        response.Close();\n        Console.ReadLine();\n\n}\n\nprivate static bool ServerCertificateValidationCallback(object sender, X509Certificate certificate, X509Chain chain, SslPolicyErrors sslPolicyErrors)\n{\n    foreach (var cert in chain.ChainElements)\n    {\n        Console.WriteLine(cert.Certificate.FriendlyName);\n        Console.WriteLine(ExportToPem(cert.Certificate));\n    }\n\n    return true;\n}\n\n/// &lt;summary&gt;\n/// Export a certificate to a PEM format string\n/// &lt;/summary&gt;\n/// &lt;param name=\"_cert\"&gt;The certificate to export&lt;/param&gt;\n/// &lt;returns&gt;A PEM encoded string&lt;/returns&gt;\npublic static string ExportToPem(X509Certificate2 cert)\n{\n    StringBuilder strBuilder = new StringBuilder();\n\n    try\n    {\n        strBuilder.AppendLine(\"-----BEGIN CERTIFICATE-----\");\n        strBuilder.AppendLine(Convert.ToBase64String(cert.Export(X509ContentType.Cert), Base64FormattingOptions.InsertLineBreaks));\n        strBuilder.AppendLine(\"-----END CERTIFICATE-----\");\n\n    }\n    catch (Exception)\n    {\n    }\n\n    return strBuilder.ToString();\n}\n</code></pre>\n"}], "owner": {"reputation": 3770, "user_id": 2291628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PNRl4.jpg?s=128&g=1", "display_name": "Colin", "link": "https://stackoverflow.com/users/2291628/colin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543472822, "creation_date": 1543443515, "question_id": 53528958, "link": "https://stackoverflow.com/questions/53528958/how-do-i-get-a-web-browsers-public-key-used-in-https", "title": "How Do I Get a Web Browser&#39;s Public Key (Used In HTTPS)", "body": "<p>I have a program I'm developing centered around the browser digitally signing a value.</p>\n\n<p>The plan was to use the HTTPS cert built in to the browser to sign, but the whole approach is contingent on getting access to the browser's HTTPS cert's public key.</p>\n\n<p>How do I access it either in Javascript or ASP.NET service code?</p>\n\n<p>I'm coming up blank on Google (the best I can find is something that allows for communication through custom certs, but not the one the browser uses for HTTPS).</p>\n"}, {"tags": ["c#", "sql", "sql-server"], "comments": [{"owner": {"reputation": 30756, "user_id": 5389997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d227900a17ca5c34bad6d2b27122c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Shadow", "link": "https://stackoverflow.com/users/5389997/shadow"}, "edited": false, "score": 0, "creation_date": 1543443823, "post_id": 53528954, "comment_id": 93926769, "body": "Pls also see the following guidance to improve your question: <a href=\"https://meta.stackoverflow.com/questions/333952/why-should-i-provide-an-mcve-for-what-seems-to-me-to-be-a-very-simple-sql-query\" title=\"why should i provide an mcve for what seems to me to be a very simple sql query\">meta.stackoverflow.com/questions/333952/&hellip;</a>"}, {"owner": {"reputation": 1978, "user_id": 10376537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/267f188f4d391515ee8cee217067a2fa?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Mylott", "link": "https://stackoverflow.com/users/10376537/tim-mylott"}, "edited": false, "score": 0, "creation_date": 1543444276, "post_id": 53528954, "comment_id": 93926921, "body": "Sample data would be helpful and desired output along with anything you have tried.  This seems fairly straight forward if we had a little more detail."}], "answers": [{"comments": [{"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1543444406, "post_id": 53529023, "comment_id": 93926962, "body": "Sorry - your answer satisfies my request (I have a query at the end, in place of &#39;bleh&#39; - that is what I meant by based off of a separate query, that&#39;s my fault).. The only issue now is that the query you so generously provided, gives me duplicates :( Any idea how to fix that?"}, {"owner": {"reputation": 1613, "user_id": 3440248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c98aadab1b181a8e78b59577050bf947?s=128&d=identicon&r=PG", "display_name": "Drunken Code Monkey", "link": "https://stackoverflow.com/users/3440248/drunken-code-monkey"}, "reply_to_user": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1543444571, "post_id": 53529023, "comment_id": 93927016, "body": "Replace <code>SELECT</code> by <code>SELECT DISTINCT</code>? I&#39;m not sure where the duplicates could come from, unless you mean your query returns multiple TitleIds... This is why it really helps to give the full story when writing your question, instead of letting the reader decide what it is you want..."}, {"owner": {"reputation": 1613, "user_id": 3440248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c98aadab1b181a8e78b59577050bf947?s=128&d=identicon&r=PG", "display_name": "Drunken Code Monkey", "link": "https://stackoverflow.com/users/3440248/drunken-code-monkey"}, "reply_to_user": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1543444766, "post_id": 53529023, "comment_id": 93927099, "body": "After seeing the screenshot of the &quot;duplicates&quot;, they clearly are not duplicates..."}, {"owner": {"reputation": 5181, "user_id": 1357627, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/6f1dbbe270a0d6bfec3374a460819f1b?s=128&d=identicon&r=PG", "display_name": "urlreader", "link": "https://stackoverflow.com/users/1357627/urlreader"}, "edited": false, "score": 0, "creation_date": 1543444838, "post_id": 53529023, "comment_id": 93927121, "body": "I think it should use LEFT JOIN instead of INNER JOIN, in case a title may have hardware title, but not software title, etc."}, {"owner": {"reputation": 1613, "user_id": 3440248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c98aadab1b181a8e78b59577050bf947?s=128&d=identicon&r=PG", "display_name": "Drunken Code Monkey", "link": "https://stackoverflow.com/users/3440248/drunken-code-monkey"}, "edited": false, "score": 0, "creation_date": 1543444903, "post_id": 53529023, "comment_id": 93927147, "body": "That kind of depends on what the OP wants though, and it&#39;s not stated one way or the other..."}, {"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1543445011, "post_id": 53529023, "comment_id": 93927186, "body": "My fault - basically, all I need is the Title (just one &#39;Senior Director&#39;), the list of HardwareNames (Dell Latitude 7490, Dock, Dual Display, Keyboard &amp; Mouse), and the list of SoftwareNames (Office 365, Adobe, Kaluza, FlowJo).. is this even possible with SQL?"}, {"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1543445121, "post_id": 53529023, "comment_id": 93927221, "body": "@DrunkenCodeMonkey - I tried <code>SELECT DISTINCT</code> before posting the screenshot - no dice."}, {"owner": {"reputation": 1613, "user_id": 3440248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c98aadab1b181a8e78b59577050bf947?s=128&d=identicon&r=PG", "display_name": "Drunken Code Monkey", "link": "https://stackoverflow.com/users/3440248/drunken-code-monkey"}, "edited": false, "score": 0, "creation_date": 1543445389, "post_id": 53529023, "comment_id": 93927300, "body": "You would need three queries to do what you want... Think about it, one row is one &quot;unit&quot;. Multiple fields in a row have a relation to each other."}], "tags": [], "owner": {"reputation": 1613, "user_id": 3440248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c98aadab1b181a8e78b59577050bf947?s=128&d=identicon&r=PG", "display_name": "Drunken Code Monkey", "link": "https://stackoverflow.com/users/3440248/drunken-code-monkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1543445577, "last_edit_date": 1543445577, "creation_date": 1543443992, "answer_id": 53529023, "question_id": 53528954, "link": "https://stackoverflow.com/questions/53528954/sql-query-to-join-multiple-tables-based-upon-separate-query-result/53529023#53529023", "title": "SQL query to join multiple tables based upon separate query result", "body": "<p>This query should do what you want, but it's not clear what you mean by \"join multiple tables together based upon a separate query..\". Here I just treated everything as tables.</p>\n\n<pre><code>SELECT t.TitleName, t.TitleId, h.HardwareName, s.SoftwareName\nFROM Titles t\nINNER JOIN Title_Hardware th ON th.TitleId = t.TitleId\nINNER JOIN Hardware h ON h.HardwareId = th.HardwareId\nINNER JOIN Title_Software ts ON ts.TitleId = t.TitleId\nINNER JOIN Software s ON s.SoftwareId = ts.SoftwareId\nWHERE t.TitleId = 'bleh'\n</code></pre>\n\n<h2>EDIT</h2>\n\n<p>From the comments, you need three queries to get what you want:</p>\n\n<pre><code>SELECT t.TitleName\nFROM Titles t\nWHERE t.TitleId = 'bleh'\n\nSELECT h.HardwareName\nFROM Titles t\nINNER JOIN Title_Hardware th ON th.TitleId = t.TitleId\nINNER JOIN Hardware h ON h.HardwareId = th.HardwareId\nWHERE t.TitleId = 'bleh'\n\nSELECT s.SoftwareName\nFROM Titles t\nINNER JOIN Title_Software ts ON ts.TitleId = t.TitleId\nINNER JOIN Software s ON s.SoftwareId = ts.SoftwareId\nWHERE t.TitleId = 'bleh'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1543444601, "post_id": 53529027, "comment_id": 93927031, "body": "Steve - this works beautifully!   <a href=\"https://imgur.com/ZR34t2v\" rel=\"nofollow noreferrer\">The only &#39;issue&#39; now is that I receive duplicates</a> - any idea how to remove those?"}, {"owner": {"reputation": 1613, "user_id": 3440248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c98aadab1b181a8e78b59577050bf947?s=128&d=identicon&r=PG", "display_name": "Drunken Code Monkey", "link": "https://stackoverflow.com/users/3440248/drunken-code-monkey"}, "edited": false, "score": 0, "creation_date": 1543444715, "post_id": 53529027, "comment_id": 93927072, "body": "What duplicates? Each row in the screenshot is unique, there are no duplicates... Also please include this image in your question, so that when imgur deletes it everything still makes sense here..."}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "reply_to_user": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1543444726, "post_id": 53529027, "comment_id": 93927077, "body": "@MattOestreich to me thats not duplicate. There are multiple different hardware/software combinations that are having the same title"}, {"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1543444992, "post_id": 53529027, "comment_id": 93927179, "body": "@Steve - my fault - Basically, all I need is the Title (just one &#39;Senior Director&#39;), the list of HardwareNames (Dell Latitude 7490, Dock, Dual Display, Keyboard &amp; Mouse), and the list of SoftwareNames (Office 365, Adobe, Kaluza, FlowJo).. is this even possible with SQL?"}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "reply_to_user": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1543445350, "post_id": 53529027, "comment_id": 93927282, "body": "@MattOestreich well you always get a table back whenever you query data. So if you want one string + 2 list you would have to perform 3 queries or you would have to filter out data by yourself"}, {"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1543445534, "post_id": 53529027, "comment_id": 93927341, "body": "@Steve - I cannot thank you enough!  Your query speeds things up a ton - I can remove the &quot;duplicates&quot; via C# after the query is returned."}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "reply_to_user": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 1, "creation_date": 1543445744, "post_id": 53529027, "comment_id": 93927400, "body": "@MattOestreich no problem and welcome to the sql world"}], "tags": [], "owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "is_accepted": true, "score": 1, "last_activity_date": 1543444001, "creation_date": 1543444001, "answer_id": 53529027, "question_id": 53528954, "link": "https://stackoverflow.com/questions/53528954/sql-query-to-join-multiple-tables-based-upon-separate-query-result/53529027#53529027", "title": "SQL query to join multiple tables based upon separate query result", "body": "<p>It should just be a simple multi-level join </p>\n\n<pre><code>SELECT TitleName, HardwareName, SoftwareName\nFROM Titles\nINNER JOIN Titles_Hardware\nON Titles.TitleId = Titles_Hardware.TitleId\nINNER JOIN Titles_Software\nON Titles.TitleId = Titles_Software.TitleId\nINNER JOIN Hardware\nON Hardware.HardwareId = Titles_Hardware.HardwareId\nINNER JOIN Software\nON Software.SoftwareId = Titles_Software.SoftwareId\nWHERE Titles.TitleId = {something}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 188041, "user_id": 10676716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/arsQA.jpg?s=128&g=1", "display_name": "GMB", "link": "https://stackoverflow.com/users/10676716/gmb"}, "is_accepted": false, "score": 1, "last_activity_date": 1543444322, "creation_date": 1543444322, "answer_id": 53529086, "question_id": 53528954, "link": "https://stackoverflow.com/questions/53528954/sql-query-to-join-multiple-tables-based-upon-separate-query-result/53529086#53529086", "title": "SQL query to join multiple tables based upon separate query result", "body": "<p>You should be able to use a series of INNER JOINs to achieve your goal, like :</p>\n\n<pre><code>select \n    t.titleName,\n    h.hardwareName,\n    s.softwareName\nfrom titles t\ninner join titles_hardware th on th.titleId = t.titleId\ninner join hardware h on h.hardwareId = th.hardwareId\ninner join titles_sotfware ts on ts.titleId = t.titleId\ninner join software s on s.softwareId = ts.softwareId\nwhere t.titleId = 'foo'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1543496574, "post_id": 53529132, "comment_id": 93946407, "body": "This is amazing. Thank you so much. I believe this is what I need - I love how you define the &#39;TitleType&#39; - that is perfect!"}, {"owner": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "reply_to_user": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1543500326, "post_id": 53529132, "comment_id": 93948574, "body": "Well, it can just be a number or a letter.  But you get the point. Btw, if you&#39;re doing it via a variable (see update) then it&#39;s best if its the same datatype &amp; size as for the TitleName column."}], "tags": [], "owner": {"reputation": 19060, "user_id": 4003419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lIeUm.png?s=128&g=1", "display_name": "LukStorms", "link": "https://stackoverflow.com/users/4003419/lukstorms"}, "is_accepted": false, "score": 1, "last_activity_date": 1543500089, "last_edit_date": 1543500089, "creation_date": 1543444536, "answer_id": 53529132, "question_id": 53528954, "link": "https://stackoverflow.com/questions/53528954/sql-query-to-join-multiple-tables-based-upon-separate-query-result/53529132#53529132", "title": "SQL query to join multiple tables based upon separate query result", "body": "<p>Maybe a UNION could work for you</p>\n\n<pre><code>DECLARE @TitleName VARCHAR(100) = 'The Boss Lady';\n\nSELECT hard.HardwareName AS Name, 'hard' as TitleType, tit.TitleName\nFROM Titles tit\nJOIN Titles_Hardware tithard ON tithard.TitleId = tit.TitleId\nJOIN Hardware hard ON hard.HardwareId = tithard.HardwareId\nWHERE tit.TitleName = @TitleName\n\nUNION ALL\n\nSELECT soft.SoftwareName, 'soft', tit.TitleName\nFROM Titles tit\nJOIN Titles_Software titsoft ON titsoft.TitleId = tit.TitleId\nJOIN Software soft ON soft.SoftwareId = titsoft.SoftwareId\nWHERE tit.TitleName = @TitleName\n</code></pre>\n"}], "owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 53529027, "answer_count": 4, "score": -1, "last_activity_date": 1543500089, "creation_date": 1543443499, "last_edit_date": 1543443889, "question_id": 53528954, "link": "https://stackoverflow.com/questions/53528954/sql-query-to-join-multiple-tables-based-upon-separate-query-result", "title": "SQL query to join multiple tables based upon separate query result", "body": "<p>I am trying to find the right SQL query to join multiple tables together based upon a separate query..</p>\n\n<p>I query the 'Titles' table to get the 'TitleId' - I then need to query 'Titles_Hardware' and 'Titles_Software' to match the 'Title Id' to the 'Hardware ID'/'Software Id'. </p>\n\n<p>I then need to take those 'Hardware Ids' and 'Software Ids' to query the 'Hardware' and 'Software' tables to grab the friendly names of the Hardware and Software that particular user needs.</p>\n\n<p>I have tried subqueries/cross join and many other queries I found on this site - none seem to give me what I need.. any suggestions would be absolutely amazing!</p>\n\n<p>Outline of the database (tables are shown in italics)..</p>\n\n<p><a href=\"https://i.stack.imgur.com/dE6X1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dE6X1.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "visual-studio"], "comments": [{"owner": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "edited": false, "score": 1, "creation_date": 1543444292, "post_id": 53528946, "comment_id": 93926930, "body": "This works fine for me. Have you tried closing and restarting VS? It tends to be a bit buggy at times :)."}, {"owner": {"reputation": 165, "user_id": 7411214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/716a8ca537b53ac6f81ab1b70e52cf18?s=128&d=identicon&r=PG&f=1", "display_name": "Talbert1209", "link": "https://stackoverflow.com/users/7411214/talbert1209"}, "reply_to_user": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "edited": false, "score": 0, "creation_date": 1543444833, "post_id": 53528946, "comment_id": 93927116, "body": "Yeah I have. I still get the same results. I have visual studio on another computer at home. So I&#39;ll check when I get back there."}, {"owner": {"reputation": 165, "user_id": 7411214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/716a8ca537b53ac6f81ab1b70e52cf18?s=128&d=identicon&r=PG&f=1", "display_name": "Talbert1209", "link": "https://stackoverflow.com/users/7411214/talbert1209"}, "reply_to_user": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "edited": false, "score": 0, "creation_date": 1543444845, "post_id": 53528946, "comment_id": 93927126, "body": "Also I am using VS2017."}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 1, "creation_date": 1543445282, "post_id": 53528946, "comment_id": 93927265, "body": "Go to <code>Tools-&gt;Code Snippets-&gt;Manager-&gt; Language: CSharp</code> and check if there is any snippet that is mapped to <code>if</code>"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 1, "creation_date": 1543445820, "post_id": 53528946, "comment_id": 93927419, "body": "Are you using ReSharper?"}, {"owner": {"reputation": 165, "user_id": 7411214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/716a8ca537b53ac6f81ab1b70e52cf18?s=128&d=identicon&r=PG&f=1", "display_name": "Talbert1209", "link": "https://stackoverflow.com/users/7411214/talbert1209"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1543498896, "post_id": 53528946, "comment_id": 93947703, "body": "@JonathonChase Yes. I am using ReSharper."}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 2, "creation_date": 1543508348, "post_id": 53528946, "comment_id": 93953418, "body": "This is the ReSharper <code>if</code> live template being used over the default snippet that comes with VS. I&#39;m not sure why it&#39;s intellisense is failing so hard. You can follow instructions <a href=\"https://stackoverflow.com/questions/21170329/disable-just-the-switch-snippet-in-resharper-8-c\">in this answer</a> substituting <code>if</code> for <code>switch</code>. Older version, but should hold up."}], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 7411214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/716a8ca537b53ac6f81ab1b70e52cf18?s=128&d=identicon&r=PG&f=1", "display_name": "Talbert1209", "link": "https://stackoverflow.com/users/7411214/talbert1209"}, "is_accepted": true, "score": 0, "last_activity_date": 1544207091, "creation_date": 1544207091, "answer_id": 53675006, "question_id": 53528946, "link": "https://stackoverflow.com/questions/53528946/visual-studio-if-snippet-initially-wont-recognize-variables/53675006#53675006", "title": "Visual Studio &quot;if&quot; snippet initially won&#39;t recognize variables", "body": "<p>Thanks Jonathon Chase for pointing me in the right direction. This seems to be an issue with the ReSharper <code>if</code> live template. I would assume some folks like it better that way. Looking through the JetBrains documentation I was able to make the template work the way I wanted.</p>\n\n<p>Here's what I did to fix this issue:</p>\n\n<ol>\n<li>Navigate to ReSharper > Tools > Templates Explorer</li>\n<li>Select C# and then find the if template (not the #if template)</li>\n<li>Change <code>$expr$</code> to <code>$expression$</code></li>\n</ol>\n\n<p>Now save and it should work as expected.</p>\n"}], "owner": {"reputation": 165, "user_id": 7411214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/716a8ca537b53ac6f81ab1b70e52cf18?s=128&d=identicon&r=PG&f=1", "display_name": "Talbert1209", "link": "https://stackoverflow.com/users/7411214/talbert1209"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 53675006, "answer_count": 1, "score": 1, "last_activity_date": 1544207091, "creation_date": 1543443456, "question_id": 53528946, "link": "https://stackoverflow.com/questions/53528946/visual-studio-if-snippet-initially-wont-recognize-variables", "title": "Visual Studio &quot;if&quot; snippet initially won&#39;t recognize variables", "body": "<p>I have a noob question.\nWhen I use the built in visual studio \"if\" snippet the expression in the parentheses won't initially recognize any of the variables in my class. I have tried google without much luck. </p>\n\n<p>Here are my steps to reproduce:</p>\n\n<ol>\n<li>I type \"if\" - the if statement snippet appears in my intellisense.</li>\n<li>I hit enter or tab - the if statement is added. There is now a red box inside the parentheses that says \"expr\".</li>\n<li>I now attempt to start typing my variable - nothing is found in the intellisense window.\n<a href=\"https://i.stack.imgur.com/NZGN7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NZGN7.png\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p>I have found that if I delete the red box and then move the cursor outside of the parentheses then go back inside the parentheses, the intellisense will then pick up the variable.</p>\n\n<p>My question is: Is there a better way to use the if snippet with variables? Is this my my computer?</p>\n"}, {"tags": ["c#", "sql-server", "asp.net-mvc"], "comments": [{"owner": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "edited": false, "score": 0, "creation_date": 1543464827, "post_id": 53528907, "comment_id": 93931483, "body": "Are you want to return selected value from <code>RadioButtonFor</code>? What thing doesn&#39;t work? You can try check this issue for example: <a href=\"https://stackoverflow.com/questions/7828005/asp-net-mvc-3-how-to-populate-list-of-radio-buttons-from-database\" title=\"asp net mvc 3 how to populate list of radio buttons from database\">stackoverflow.com/questions/7828005/&hellip;</a>."}], "owner": {"reputation": 953, "user_id": 2726975, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/7d21396a601972d002c33897bf3cd66d?s=128&d=identicon&r=PG&f=1", "display_name": "user2726975", "link": "https://stackoverflow.com/users/2726975/user2726975"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1543443203, "creation_date": 1543443203, "question_id": 53528907, "link": "https://stackoverflow.com/questions/53528907/edit-operation-bring-up-values-from-database-on-radio-button", "title": "Edit operation bring up values from Database on Radio button", "body": "<p>I have a ASP.NET MVC application to show Weekly task for each Student in a Student club. It has 2 different .cshtml one for Display values from database (Index.cshtml) and another to Edit values and save to SQL server Database (Edit.cshtml)</p>\n\n<pre><code>CREATE TABLE [dbo].[DaysOftheWeek](\n    [DayName] [varchar](10) NULL,\n    [ShortWeekName] [varchar](10) NULL\n,\n CONSTRAINT [PK_DayName] PRIMARY KEY NONCLUSTERED \n(\n    [ShortWeekName] ASC\n)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]\n) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]\n\nINSERT INTO [dbo].[DaysOftheWeek](DayName,ShortWeekName) Values('S','Sunday')\nINSERT INTO [dbo].[DaysOftheWeek](DayName,ShortWeekName) Values('M','Monday')\nINSERT INTO [dbo].[DaysOftheWeek](DayName,ShortWeekName) Values('T','Tuesday')\n\nCreate Table dbo.StudentTasks(StudentID INT NOT NULL,DayAssigned Char(2) null, StudentMajor VARCHAR(200) NOT NULL);\n\nALTER TABLE dbo.StudentTasks  WITH CHECK ADD  CONSTRAINT [FK_day] FOREIGN KEY([DayAssigned])\nREFERENCES [dbo].[DaysOftheWeek] ([ShortWeekName])\nGO\n\nALTER TABLE dbo.StudentTasks CHECK CONSTRAINT [FK_day]\nGO\nINSERT INTO dbo.StudentTasks(StudentID,DayAssigned,StudentMajor) Values (1,'M','Accounts')\nINSERT INTO dbo.StudentTasks(StudentID,DayAssigned,StudentMajor) Values(2,'T','Math')\n</code></pre>\n\n<p>I am able to bring up the values in Index.cshtml using Entity Data Model/Controller and View.\nI am having issues with Edit.</p>\n\n<p>This is part of my Edit.cshtml</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n                @Html.LabelFor(model =&gt; model.DayAssigned, htmlAttributes: new { @class = \".col-form-label col-md-2\" })\n                &lt;div class=\"col-md-10\"&gt;\n\n                    @Html.RadioButtonFor(model =&gt; model.DayAssigned, \"S\") Sunday\n                    @Html.RadioButtonFor(model =&gt; model.DayAssigned, \"M\") Monday\n                    @Html.RadioButtonFor(model =&gt; model.DayAssigned, \"T\") Tuesday\n                &lt;/div&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<p>I do not know how to populate Radiobutton using values from Database.\nThanks for help\nMR</p>\n"}, {"tags": ["c#", "xaml", "uwp"], "answers": [{"comments": [{"owner": {"reputation": 469, "user_id": 6697909, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bTsdnRIJmcs/AAAAAAAAAAI/AAAAAAAAAoM/L5MXTaZ02S0/photo.jpg?sz=128", "display_name": "Jeong Yo Han", "link": "https://stackoverflow.com/users/6697909/jeong-yo-han"}, "edited": false, "score": 0, "creation_date": 1543474057, "post_id": 53530389, "comment_id": 93934271, "body": "Thank you @Dishant, but Im sorry that I still have question mark on that. without writing conditional xaml that you advised, Just setting target version 1809 and min version lower than 1809, then will I have problem on version issue? After wrote this question post, I found the \u2018BrushTransition\u2019 in splitview template style and It also needs setting target 1809."}, {"owner": {"reputation": 469, "user_id": 6697909, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bTsdnRIJmcs/AAAAAAAAAAI/AAAAAAAAAoM/L5MXTaZ02S0/photo.jpg?sz=128", "display_name": "Jeong Yo Han", "link": "https://stackoverflow.com/users/6697909/jeong-yo-han"}, "edited": false, "score": 2, "creation_date": 1543493442, "post_id": 53530389, "comment_id": 93944633, "body": "ah, never mind. without conditional xaml, I should set both target version and min version to 1809 to compile. So, I always need to use conditional xaml with 1809 to cover lower version..... now I understand. Thank you."}], "tags": [], "owner": {"reputation": 1395, "user_id": 3244198, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/K1J2F.jpg?s=128&g=1", "display_name": "Dishant", "link": "https://stackoverflow.com/users/3244198/dishant"}, "is_accepted": true, "score": 2, "last_activity_date": 1543453531, "creation_date": 1543453531, "answer_id": 53530389, "question_id": 53528852, "link": "https://stackoverflow.com/questions/53528852/button-control-style-template-and-backgroundsizing-property/53530389#53530389", "title": "Button control style template and BackgroundSizing Property", "body": "<p><code>BackgroundSizing</code> was actually introduced in Windows 10, version 1809 (introduced v10.0.17763.0), so that's why it's working on 1809 build and not on the build version lower than it. You can refer to this <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.control.backgroundsizing\" rel=\"nofollow noreferrer\">MSDN</a> documentation.</p>\n\n<p>In order to resolve this issue, you have to use conditional Xaml.</p>\n\n<p>You can create a style like this:</p>\n\n<p><strong>BaseButtonStyle</strong></p>\n\n<pre><code> &lt;Style x:Key=\"BaseButtonStyle\" TargetType=\"Button\"&gt;\n        &lt;Setter Property=\"Background\" Value=\"{ThemeResource ButtonBackground}\"/&gt;\n        &lt;Setter Property=\"Foreground\" Value=\"{ThemeResource ButtonForeground}\"/&gt;\n        &lt;Setter Property=\"BorderBrush\" Value=\"{ThemeResource ButtonBorderBrush}\"/&gt;\n        &lt;Setter Property=\"BorderThickness\" Value=\"{ThemeResource ButtonBorderThemeThickness}\"/&gt;\n        &lt;Setter Property=\"Padding\" Value=\"{StaticResource ButtonPadding}\"/&gt;\n        &lt;Setter Property=\"HorizontalAlignment\" Value=\"Left\"/&gt;\n        &lt;Setter Property=\"VerticalAlignment\" Value=\"Center\"/&gt;\n        &lt;Setter Property=\"FontFamily\" Value=\"{ThemeResource ContentControlThemeFontFamily}\"/&gt;\n        &lt;Setter Property=\"FontWeight\" Value=\"Normal\"/&gt;\n        &lt;Setter Property=\"FontSize\" Value=\"{ThemeResource ControlContentThemeFontSize}\"/&gt;\n        &lt;Setter Property=\"UseSystemFocusVisuals\" Value=\"{StaticResource UseSystemFocusVisuals}\"/&gt;\n        &lt;Setter Property=\"FocusVisualMargin\" Value=\"-3\"/&gt;\n        &lt;Setter Property=\"Template\"&gt;\n            &lt;Setter.Value&gt;\n                &lt;ControlTemplate TargetType=\"Button\"&gt;\n                    &lt;ContentPresenter x:Name=\"ContentPresenter\" AutomationProperties.AccessibilityView=\"Raw\" BackgroundSizing=\"{TemplateBinding BackgroundSizing}\" Background=\"{TemplateBinding Background}\" BorderThickness=\"{TemplateBinding BorderThickness}\" BorderBrush=\"{TemplateBinding BorderBrush}\" ContentTemplate=\"{TemplateBinding ContentTemplate}\" Content=\"{TemplateBinding Content}\" CornerRadius=\"{TemplateBinding CornerRadius}\" ContentTransitions=\"{TemplateBinding ContentTransitions}\" HorizontalContentAlignment=\"{TemplateBinding HorizontalContentAlignment}\" Padding=\"{TemplateBinding Padding}\" VerticalContentAlignment=\"{TemplateBinding VerticalContentAlignment}\"&gt;\n                        &lt;VisualStateManager.VisualStateGroups&gt; \n&lt;---omitted----&gt;\n</code></pre>\n\n<p><strong>ButtonStyle1</strong></p>\n\n<pre><code> &lt;Style x:Key=\"ButtonStyle1\" TargetType=\"Button\" BasedOn={StaticResource BaseButtonStyle}&gt;\n    &lt;Setter Property=\"BackgroundSizing\" Value=\"OuterBorderEdge\"/&gt;\n &lt;/Style&gt;\n</code></pre>\n\n<p>And now you can consume this style as below:</p>\n\n<pre><code>&lt;Page\n    x:Class=\"ConditionalTest.MainPage\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n   xmlns:contract7NotPresent=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation?IsApiContractNotPresent(Windows.Foundation.UniversalApiContract,7)\"\nxmlns:contract7Present=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation?IsApiContractPresent(Windows.Foundation.UniversalApiContract,7)\"&gt;\n\n    &lt;Grid Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\"&gt;\n        &lt;Button contract7Present:Style=\"{StaticResource ButtonStyle1}\"\n                contract7NotPresent:Style=\"{StaticResource BaseButtonStyle}\"/&gt;\n    &lt;/Grid&gt;\n&lt;/Page&gt;\n</code></pre>\n"}], "owner": {"reputation": 469, "user_id": 6697909, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bTsdnRIJmcs/AAAAAAAAAAI/AAAAAAAAAoM/L5MXTaZ02S0/photo.jpg?sz=128", "display_name": "Jeong Yo Han", "link": "https://stackoverflow.com/users/6697909/jeong-yo-han"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 53530389, "answer_count": 1, "score": 1, "last_activity_date": 1543453531, "creation_date": 1543442907, "last_edit_date": 1543444488, "question_id": 53528852, "link": "https://stackoverflow.com/questions/53528852/button-control-style-template-and-backgroundsizing-property", "title": "Button control style template and BackgroundSizing Property", "body": "<p>I have some problem with Button Style template.<br>\nI tried to change button background when mouse hover on button.<br>\nWhen I created style sheet for it by right-clicking mouse on xaml design viewer - click on copy template.    </p>\n\n<p>successfully, I got a Control Template \"Resource Dictionary\" of Button Control.<br>\nBut I got a error message when I compiled it. I could compile it without definition of style sheet. I could find a error message with a BackgroundSizing Property.  </p>\n\n<pre><code>&lt;Style x:Key=\"ButtonStyle1\" TargetType=\"Button\"&gt;\n    &lt;Setter Property=\"Background\" Value=\"{ThemeResource ButtonBackground}\"/&gt;\n    &lt;Setter Property=\"BackgroundSizing\" Value=\"OuterBorderEdge\"/&gt;\n    &lt;Setter Property=\"Foreground\" Value=\"{ThemeResource ButtonForeground}\"/&gt;\n    &lt;Setter Property=\"BorderBrush\" Value=\"{ThemeResource ButtonBorderBrush}\"/&gt;\n    &lt;Setter Property=\"BorderThickness\" Value=\"{ThemeResource ButtonBorderThemeThickness}\"/&gt;\n    &lt;Setter Property=\"Padding\" Value=\"{StaticResource ButtonPadding}\"/&gt;\n    &lt;Setter Property=\"HorizontalAlignment\" Value=\"Left\"/&gt;\n    &lt;Setter Property=\"VerticalAlignment\" Value=\"Center\"/&gt;\n    &lt;Setter Property=\"FontFamily\" Value=\"{ThemeResource ContentControlThemeFontFamily}\"/&gt;\n    &lt;Setter Property=\"FontWeight\" Value=\"Normal\"/&gt;\n    &lt;Setter Property=\"FontSize\" Value=\"{ThemeResource ControlContentThemeFontSize}\"/&gt;\n    &lt;Setter Property=\"UseSystemFocusVisuals\" Value=\"{StaticResource UseSystemFocusVisuals}\"/&gt;\n    &lt;Setter Property=\"FocusVisualMargin\" Value=\"-3\"/&gt;\n    &lt;Setter Property=\"Template\"&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate TargetType=\"Button\"&gt;\n                &lt;ContentPresenter x:Name=\"ContentPresenter\" AutomationProperties.AccessibilityView=\"Raw\" BackgroundSizing=\"{TemplateBinding BackgroundSizing}\" Background=\"{TemplateBinding Background}\" BorderThickness=\"{TemplateBinding BorderThickness}\" BorderBrush=\"{TemplateBinding BorderBrush}\" ContentTemplate=\"{TemplateBinding ContentTemplate}\" Content=\"{TemplateBinding Content}\" CornerRadius=\"{TemplateBinding CornerRadius}\" ContentTransitions=\"{TemplateBinding ContentTransitions}\" HorizontalContentAlignment=\"{TemplateBinding HorizontalContentAlignment}\" Padding=\"{TemplateBinding Padding}\" VerticalContentAlignment=\"{TemplateBinding VerticalContentAlignment}\"&gt;\n                    &lt;VisualStateManager.VisualStateGroups&gt; \n&lt;---omitted----&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DD8XU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DD8XU.png\" alt=\"enter image description here\"></a></p>\n\n<p>First one is another problem, and 2nd, 3rd, 4th, 5th are the problem relative with button control template.  </p>\n\n<p>I deleted a BackgroundSizing property. then I don't get any error message, but app stop. so when I run app with debug mode, I cound find this error. </p>\n\n<p><a href=\"https://i.stack.imgur.com/7i42l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7i42l.png\" alt=\"enter image description here\"></a></p>\n\n<p>when I set Target version 1809, then all problem solved....</p>\n\n<p>But I heard that some device needs to target lower version(?) maybe..</p>\n\n<p>How can I solve BackgroundSizing Property error?</p>\n"}, {"tags": ["c#", "cefsharp"], "comments": [{"owner": {"reputation": 657, "user_id": 3219115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Minijack", "link": "https://stackoverflow.com/users/3219115/minijack"}, "edited": false, "score": 0, "creation_date": 1543443115, "post_id": 53528846, "comment_id": 93926486, "body": "You are setting <code>Visible = false</code> then adding actions to events (not executing the actions) then setting <code>Visible = true</code> when the events might not have fired yet. Try putting <code>browser.Visible = true</code> within one of the events or create a new event to trigger it to show or use <code>.ContinueWith( () =&gt; { browser.Visible = true; } );</code>"}, {"owner": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1543450485, "post_id": 53528846, "comment_id": 93928552, "body": "You can connect <code>Puppeteer Sharp</code> to a running instance for automation purposes. Your code doesn&#39;t handle the <code>FrameLoadEnd</code> event properly, subscribing twice doesn&#39;t mean first run will be first handler, second will be second handler. Both handlers will fire. You have to subscribe, unsubscribe, subscribe a different handler. Or just check the frame url in the one handler."}, {"owner": {"reputation": 59, "user_id": 2015766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa96ce91f1560cb7bb932904c49b09f4?s=128&d=identicon&r=PG", "display_name": "Martijn Deleij", "link": "https://stackoverflow.com/users/2015766/martijn-deleij"}, "edited": false, "score": 0, "creation_date": 1543470925, "post_id": 53528846, "comment_id": 93933141, "body": "How can i check the frameurl in a handler? .Adress doesnt exist according to VS"}, {"owner": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1543485851, "post_id": 53528846, "comment_id": 93940279, "body": "<a href=\"http://cefsharp.github.io/api/67.0.0/html/P_CefSharp_IFrame_Url.htm\" rel=\"nofollow noreferrer\">cefsharp.github.io/api/67.0.0/html/P_CefSharp_IFrame_Url.htm</a>"}], "owner": {"reputation": 59, "user_id": 2015766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa96ce91f1560cb7bb932904c49b09f4?s=128&d=identicon&r=PG", "display_name": "Martijn Deleij", "link": "https://stackoverflow.com/users/2015766/martijn-deleij"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 952, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543442837, "creation_date": 1543442837, "question_id": 53528846, "link": "https://stackoverflow.com/questions/53528846/cefsharp-winforms-execute-javascript-before-showing-browser", "title": "CefSharp Winforms - Execute javascript before showing browser", "body": "<p>I am trying to load a page and execute some javascript before showing the browser to the user. This because i want to take them through some screens before they get it shown (selenium like), and i only want to show it when i require their input (Wich is after the 2nd pageload).</p>\n\n<p>Unfortunatly i cant go to that page directly, i have to click a link first. But whatever i try, it will still show the browser, then execute the javascript. My current test is below, was playing around with browser.visible, but that doesnt work either, i still see the js being executed.</p>\n\n<p>(Site and javascript are dummy values)</p>\n\n<pre><code> public ChromiumWebBrowser browser;\n        public void InitBrowser()\n        {\n            Cef.Initialize(new CefSettings());\n            browser = new ChromiumWebBrowser(\"https://www.bing.com/\");\n            this.Controls.Add(browser);\n            browser.Visible = false;\n            browser.FrameLoadEnd += (sender, args) =&gt;\n            {\n                //Wait for the MainFrame to finish loading\n                if (args.Frame.IsMain)\n                {\n                    //do this first\n                    browser.ExecuteScriptAsyncWhenPageLoaded(\"document.getElementById('sb_form_q').value = 'test';\",true);\n                    browser.ExecuteScriptAsyncWhenPageLoaded(\"document.getElementById('sb_form_go').click();\",true);\n\n                }\n            };\n            browser.FrameLoadEnd += (sender, args) =&gt;\n            {\n                //Wait for the MainFrame to finish loading\n                if (args.Frame.IsMain)\n                {\n                    //when page is loaded again, do this:\n                    browser.ExecuteScriptAsync(\"document.getElementById('hplogo').src='https://logos-download.com/wp-content/uploads/2016/02/bing-tm-logo.png'\");\n\n                }\n            };\n            //then show browser again\n            browser.Visible = true;\n        }\n</code></pre>\n"}, {"tags": ["c#", "asp.net", ".net", "api", "asp.net-core"], "comments": [{"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 2, "creation_date": 1543443215, "post_id": 53528845, "comment_id": 93926527, "body": "See <a href=\"https://docs.microsoft.com/en-us/ef/core/querying/related-data\" rel=\"nofollow noreferrer\">Loading Related Data</a>. Your <code>TodoList.Todos</code> property is the <i>navigation property</i> here."}, {"owner": {"reputation": 7691, "user_id": 852081, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fca74388d18ba4b0fb9e4fbd62cf3696?s=128&d=identicon&r=PG", "display_name": "bobek", "link": "https://stackoverflow.com/users/852081/bobek"}, "edited": false, "score": 1, "creation_date": 1543443549, "post_id": 53528845, "comment_id": 93926665, "body": "<code>_context.TodoList.Include(x =&gt; Todos).Find(id);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 1, "creation_date": 1543480902, "post_id": 53529386, "comment_id": 93937325, "body": "That&#39;s not quite right - that second line is loading <i>all</i> the <code>TodoList</code> entities into memory. You should remove that second line and just make the first one <code>var item = _context.TodoList.Include(x =&gt; x.Todos).Find(id);</code> in order to load only the one entity and fill in its <code>Todos</code> navigation property."}], "tags": [], "owner": {"reputation": 39, "user_id": 4674369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23bc4f500afd0e94b1735eb5cee84c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Shameless88", "link": "https://stackoverflow.com/users/4674369/shameless88"}, "is_accepted": false, "score": 0, "last_activity_date": 1543445995, "creation_date": 1543445995, "answer_id": 53529386, "question_id": 53528845, "link": "https://stackoverflow.com/questions/53528845/why-my-todolists-todos-field-is-not-fill-when-i-add-a-todo/53529386#53529386", "title": "Why my TodoList&#39;s Todos field is not fill when I add a Todo?", "body": "<p>Thank to @Kirk Larkin and @Hubert Jarema :</p>\n\n<p>Correct code for my ListTodo Controller GET/id endpoint :</p>\n\n<pre><code>[HttpGet(\"{id}\", Name = \"GetTodoList\")]\npublic ActionResult&lt;TodoList&gt; GetById(int id)\n{\n    var item = _context.TodoList.Find(id);\n    _context.TodoList.Include(x =&gt; x.Todos).ToList();\n    if (item == null)\n    {\n        return NotFound();\n    }\n    return item;\n} \n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4674369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23bc4f500afd0e94b1735eb5cee84c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Shameless88", "link": "https://stackoverflow.com/users/4674369/shameless88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1543445995, "creation_date": 1543442835, "question_id": 53528845, "link": "https://stackoverflow.com/questions/53528845/why-my-todolists-todos-field-is-not-fill-when-i-add-a-todo", "title": "Why my TodoList&#39;s Todos field is not fill when I add a Todo?", "body": "<p>For a student project I have to build a .NET-Core 2.1 Todo API.</p>\n\n<p>My Todo entity :</p>\n\n<pre><code>using System.ComponentModel.DataAnnotations;\nusing System.ComponentModel.DataAnnotations.Schema;\n\nnamespace TodoApi.Entities\n{\n    public class Todo\n    {\n        public int TodoId { get; set; }\n        public string Name { get; set; }\n        public bool IsComplete { get; set; }        \n        public int TodoListId { get; set; }\n    }\n}\n</code></pre>\n\n<p>My ListTodo entity :</p>\n\n<pre><code>using System.Collections.Generic;\n\nnamespace TodoApi.Entities\n{\n    public class TodoList\n    {\n        public int TodoListId { get; set; }\n        public string Name { get; set; }\n        public List&lt;Todo&gt; Todos { get; set; }\n    }\n}\n</code></pre>\n\n<p>My TodoController :</p>\n\n<pre><code>using Microsoft.AspNetCore.Mvc;\nusing System.Collections.Generic;\nusing System.Linq;\nusing TodoApi.Context;\nusing TodoApi.Entities;\nnamespace TodoApi.Controllers\n{\n    [Route(\"api/[controller]\")]\n    [ApiController]\n    public class TodoController : ControllerBase\n    {\n        private readonly TodoContext _context;\n\n        public TodoController(TodoContext context)\n        {\n            _context = context;\n        }\n\n        [HttpPost]\n        public IActionResult Create(Todo item)\n        {\n            var todoList = _context.TodoList.Find(item.TodoListId);\n            _context.Todo.Add(item);\n            _context.SaveChanges();\n            todoList.Todos.Add(item);\n            _context.TodoList.Update(todoList);\n            _context.SaveChanges();\n            return CreatedAtRoute(\"GetTodo\", new { id = item.TodoId }, item);\n        }\n}\n</code></pre>\n\n<p>My ListTodoController :</p>\n\n<pre><code>using Microsoft.AspNetCore.Mvc;\nusing System.Collections.Generic;\nusing System.Linq;\nusing Microsoft.AspNetCore.Authorization;\nusing TodoApi.Context;\nusing TodoApi.Entities;\n\nnamespace TodoApi.Controllers\n{\n    [Route(\"api/[controller]\")]\n    [ApiController]\n    public class TodoListController : ControllerBase\n    {\n        private readonly TodoContext _context;\n\n        public TodoListController(TodoContext context)\n        {\n            _context = context;\n        }\n\n        [HttpGet]\n        public ActionResult&lt;List&lt;TodoList&gt;&gt; GetAll()\n        {\n            return _context.TodoList.ToList();\n        }\n\n        [HttpGet(\"{id}\", Name = \"GetTodoList\")]\n        public ActionResult&lt;TodoList&gt; GetById(int id)\n        {\n            var item = _context.TodoList.Find(id);\n            if (item == null)\n            {\n                return NotFound();\n            }\n            return item;\n        }\n\n        [HttpPost]\n        public IActionResult Create(TodoList item)\n        {\n            var todos = new List&lt;Todo&gt;();\n\n            item.Todos = todos;\n\n            _context.TodoList.Add(item);\n            _context.SaveChanges();\n\n            return CreatedAtRoute(\"GetTodo\", new { id = item.TodoListId }, item);\n        }\n    }\n} \n</code></pre>\n\n<p>And finally my TodoContext :</p>\n\n<pre><code>using Microsoft.EntityFrameworkCore;\nusing TodoApi.Entities;\n\nnamespace TodoApi.Context\n{\n    public class TodoContext : DbContext\n    {\n        public TodoContext(DbContextOptions&lt;TodoContext&gt; options)\n            : base(options)\n        {\n        }\n\n        public DbSet&lt;Todo&gt; Todo { get; set; }\n        public DbSet&lt;User&gt; User { get; set; }\n        public DbSet&lt;TodoList&gt; TodoList { get; set; }\n    }\n}\n</code></pre>\n\n<p>Ok now I will explain the issue :</p>\n\n<ol>\n<li><p>I build the app -> all is ok no error, my api is reachable trough postman</p></li>\n<li><p>I post a new clean TodoList on POST TodoList endpoint </p></li>\n</ol>\n\n<p>Request body json Payload :</p>\n\n<pre><code>{\n    \"name\": \"TodoList Name\",\n    \"isComplete\": false,\n} \n</code></pre>\n\n<p>Body Api response :</p>\n\n<pre><code>{\n    \"todoListId\": 1,\n    \"name\": \"TodoList Name\",\n    \"todos\": []\n} \n</code></pre>\n\n<ol start=\"3\">\n<li>I post a new Todo with the previous todoListId : 1 on Todo endpoint</li>\n</ol>\n\n<p>Request body json Payload :</p>\n\n<pre><code>{\n    \"name\": \"Todo Name\",\n    \"isComplete\": false,\n    \"todoListId\": 1\n} \n</code></pre>\n\n<p>Body Api response :</p>\n\n<pre><code>{\n    \"todoId\": 1,\n    \"name\": \"Todo Name\",\n    \"isComplete\": false,\n    \"todoListId\": 1\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>Finally my problem ... Now i try to get my TodoList on GET/id TodoList endpoint</li>\n</ol>\n\n<p>Body Api response :</p>\n\n<pre><code>{\n    \"todoListId\": 1,\n    \"name\": \"TodoList Name\",\n    \"todos\": null\n} \n</code></pre>\n\n<p><strong>I don't understand what I m doing wrong, why the \"todos\" field value is now null ?</strong> </p>\n"}, {"tags": ["c#", "wpf", "wpf-controls", "mshtml"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 9670374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7189891b5bf7d632895377d1b2854eac?s=128&d=identicon&r=PG&f=1", "display_name": "uRThow", "link": "https://stackoverflow.com/users/9670374/urthow"}, "edited": false, "score": 0, "creation_date": 1543470894, "post_id": 53530038, "comment_id": 93933128, "body": "Works like a charm. I totally forgot about the stack and heap... Thankyou for the quick answer!"}], "tags": [], "owner": {"reputation": 12628, "user_id": 145757, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/T6ghe.png?s=128&g=1", "display_name": "Pragmateek", "link": "https://stackoverflow.com/users/145757/pragmateek"}, "is_accepted": true, "score": 0, "last_activity_date": 1543450441, "creation_date": 1543450441, "answer_id": 53530038, "question_id": 53528840, "link": "https://stackoverflow.com/questions/53528840/wpf-c-htmldocument-variables-automatically-updates/53530038#53530038", "title": "WPF C# HTMLDocument variables automatically updates", "body": "<p><code>Form.RosterBrowser.Document</code> returns a <strong>reference</strong> to the browser <code>Document</code>, so <code>lastDoc</code> and <code>thisDoc</code> are two references pointing to the same <code>HTMLDocument</code> object which sits somewhere on the memory heap.</p>\n\n<p>Instead you should store the value you are monitoring.<br>\nYou'd better monitor the text itself and not only its length as the text can be changed but keeping the same length.</p>\n\n<pre><code>string lastText;\n\nprivate string GroupListText =&gt; ((HTMLDocument)Form.RosterBrowser.Document).getElementById(\"groupList\").innerText;\n\npublic void startTimer()\n{\n    lastText = GroupListText;\n\n    DispatcherTimer dispatcherTimer = new DispatcherTimer();\n    dispatcherTimer.Tick += dispatcherTimer_Tick;\n    dispatcherTimer.Interval = new TimeSpan(0, 0, 2);\n    dispatcherTimer.Start();\n}\n\nprivate void dispatcherTimer_Tick(object sender, EventArgs e)\n{\n    var thisText = GroupListText;\n    LogTextBlockControl.Text += \"DOCUMENT THIS: \" + thisText.Length.ToString();\n    LogTextBlockControl.Text += \"DOCUMENT LAST: \" + lastText.Length.ToString();\n}\n</code></pre>\n\n<p>I've used a property <code>GroupListText</code> to avoid duplicating the text lookup expression.</p>\n"}], "owner": {"reputation": 27, "user_id": 9670374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7189891b5bf7d632895377d1b2854eac?s=128&d=identicon&r=PG&f=1", "display_name": "uRThow", "link": "https://stackoverflow.com/users/9670374/urthow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 53530038, "answer_count": 1, "score": 1, "last_activity_date": 1543479752, "creation_date": 1543442815, "last_edit_date": 1543479752, "question_id": 53528840, "link": "https://stackoverflow.com/questions/53528840/wpf-c-htmldocument-variables-automatically-updates", "title": "WPF C# HTMLDocument variables automatically updates", "body": "<p>So I am trying to compare two HTMLDocuments to see if there are any changes in the website using a DispatchTimer().</p>\n\n<p>Here is my code:</p>\n\n<pre><code>    HTMLDocument lastDoc;\n\n    public void startTimer()\n    {\n        lastDoc = (HTMLDocument)Form.RosterBrowser.Document;\n\n        DispatcherTimer dispatcherTimer = new DispatcherTimer();\n        dispatcherTimer.Tick += dispatcherTimer_Tick;\n        dispatcherTimer.Interval = new TimeSpan(0, 0, 2);\n        dispatcherTimer.Start();\n    }\n    private void dispatcherTimer_Tick(object sender, EventArgs e)\n    {\n        var thisDoc = (HTMLDocument)Form.RosterBrowser.Document;\n        LogTextBlockControl.Text += \"DOCUMENT THIS: \" + thisDoc.getElementById(\"groupList\").innerText.Length.ToString();\n        LogTextBlockControl.Text += \"DOCUMENT LAST: \" + lastDoc.getElementById(\"groupList\").innerText.Length.ToString();\n    }\n</code></pre>\n\n<p>As you can see: When the times starts for the first time I get the HTMLDocument and store it in lastDoc. Then, every 2 seconds, I get another HTMLDocument variable and I store it in thisDoc. Now, I print the length of a certain element every 2 seconds to see if anything has changed inside this element.</p>\n\n<p>When the program first starts, they both print the same number which is normal since they both got the same HTMLDocument. But lets say I change something in the groupList element. You'd think the length of the thisDoc variable would change. Well it does, but so does the length of lastDoc. This is where the problem occurs.</p>\n\n<p>Whenever an element changes, thisDoc gets updated and prints the length of the changed element but lastDoc gets updated as well and starts printing the same length. This is not what I want since now I can't compare the two to fire a function. I only call startTimer() once in the entire program and I never change lastDoc, it seems to change on itself. I have been sitting on this problem for a day now, I hope someone can help me out.</p>\n"}, {"tags": ["c#", "xml"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6490459"}, "edited": false, "score": 0, "creation_date": 1543442950, "post_id": 53528813, "comment_id": 93926428, "body": "Do you have the xsd schemas to validate the xml you&#39;re generating?"}, {"owner": {"reputation": 1396, "user_id": 3037732, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/041ad1d83789f334a781df81cbc05826?s=128&d=identicon&r=PG&f=1", "display_name": "jhilgeman", "link": "https://stackoverflow.com/users/3037732/jhilgeman"}, "edited": false, "score": 0, "creation_date": 1543443349, "post_id": 53528813, "comment_id": 93926584, "body": "No, this was just raw XML captured from a working response."}, {"owner": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 0, "creation_date": 1543597420, "post_id": 53528813, "comment_id": 93989377, "body": "Why not just setup your own server that responds with the desired XML instead of calling the real one?"}, {"owner": {"reputation": 1396, "user_id": 3037732, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/041ad1d83789f334a781df81cbc05826?s=128&d=identicon&r=PG&f=1", "display_name": "jhilgeman", "link": "https://stackoverflow.com/users/3037732/jhilgeman"}, "edited": false, "score": 0, "creation_date": 1543600861, "post_id": 53528813, "comment_id": 93990914, "body": "Because it is one call among many and the other calls have to come from the real server. This is simply a one-off scenario to reproduce a production bug that cannot be reproduced in development due to the lack of similar data in the Dev environment, and the 3rd party is reluctant to put &quot;bad&quot; data into that environment. It&#39;s a really long story."}], "answers": [{"tags": [], "owner": {"reputation": 1396, "user_id": 3037732, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/041ad1d83789f334a781df81cbc05826?s=128&d=identicon&r=PG&f=1", "display_name": "jhilgeman", "link": "https://stackoverflow.com/users/3037732/jhilgeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1543597106, "creation_date": 1543597106, "answer_id": 53561840, "question_id": 53528813, "link": "https://stackoverflow.com/questions/53528813/c-wcf-intercepting-and-changing-response/53561840#53561840", "title": "C# - WCF - Intercepting and changing response", "body": "<ol>\n<li><p>The \"...stream...\" body is a red herring. The body was actually still there, but the reply.ToString() was simply returning something that was essentially a placeholder. The full message could still be accessed via a buffered copy, as described in this post: \n<a href=\"https://stackoverflow.com/questions/4106196/wcf-message-body-showing-sbody-stream-sbody-after-modification\">WCF message body showing &lt;s:Body&gt;... stream ...&lt;/s:Body&gt; after modification</a></p></li>\n<li><p>The XmlDictionaryReader.CreateTextReader() approach seemed to be able to read the XML but it wasn't able to find the body correctly (tested using the reply.GetBody() method), so after the message got back to WCF, it couldn't deserialize the object, because the XmlDictionaryReader thought the Envelope element was the body.</p></li>\n<li><p>Using just a XmlReader worked correctly and was simpler, too:</p>\n\n<pre><code>public void AfterReceiveReply(ref Message reply, object correlationState)\n{\n    // Override payload\n    string overrideXML = Properties.Resources.WCFOverride.Replace(\"---ACCOUNT_NUMBER---\", \"12345\");\n\n    // Create the reader\n    XmlReader envelopeReader = XmlReader.Create(new StringReader(overrideXML));\n\n    // Create the message using the reader\n    System.ServiceModel.Channels.Message replacedMessage = System.ServiceModel.Channels.Message.CreateMessage(envelopeReader, int.MaxValue, reply.Version);\n    replacedMessage.Headers.CopyHeadersFrom(reply.Headers);\n    replacedMessage.Properties.CopyProperties(reply.Properties);\n    reply = replacedMessage;\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1396, "user_id": 3037732, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/041ad1d83789f334a781df81cbc05826?s=128&d=identicon&r=PG&f=1", "display_name": "jhilgeman", "link": "https://stackoverflow.com/users/3037732/jhilgeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 787, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1543597106, "creation_date": 1543442699, "last_edit_date": 1543454800, "question_id": 53528813, "link": "https://stackoverflow.com/questions/53528813/c-wcf-intercepting-and-changing-response", "title": "C# - WCF - Intercepting and changing response", "body": "<p>I have an application that interacts with a 3rd party SOAP web service, so I set up a service reference and everything works great.</p>\n\n<p>However, I need to do some bug testing where I need the web service to respond with a very specific XML payload (and since it's a 3rd party service, I can't make it do whatever I want).</p>\n\n<p>I was trying to use a message inspector's \"AfterReceiveReply\" method to override the response with the desired XML (which was captured from a different legitimate response, so I know it's valid XML). My code looks like this (based off of <a href=\"https://blogs.msdn.microsoft.com/kaevans/2008/01/08/modify-message-content-with-wcf/\" rel=\"nofollow noreferrer\">https://blogs.msdn.microsoft.com/kaevans/2008/01/08/modify-message-content-with-wcf/</a>) :</p>\n\n<pre><code>    public void AfterReceiveReply(ref Message reply, object correlationState)\n    {\n        // Override payload\n        string overrideXML = Properties.Resources.WCFOverride.Replace(\"---ACCOUNT_NUMBER---\", \"12345\");\n        MemoryStream ms = new MemoryStream(UTF8Encoding.UTF8.GetBytes(overrideXML));\n        ms.Position = 0;\n\n        XmlDictionaryReaderQuotas quotas = new XmlDictionaryReaderQuotas();\n        XmlDictionaryReader xdr = XmlDictionaryReader.CreateBinaryReader(ms, quotas);\n        Message replacedMessage = Message.CreateMessage(reply.Version, null, xdr);\n        replacedMessage.Headers.CopyHeadersFrom(reply.Headers);\n        replacedMessage.Properties.CopyProperties(reply.Properties);\n        reply = replacedMessage;\n    }\n</code></pre>\n\n<p>When the code runs, I get an error on the Message.CreateMessage(...) line:</p>\n\n<pre><code>System.Xml.XmlException: The input source is not correctly formatted.\n</code></pre>\n\n<p>In the debugger at that point, I can see the correct XML in the MemoryStream, but the XmlDictionaryReader (xdr) seems to be empty. If I try to run xdr.Read() manually, I also get the same exception. I even tried a simple XML structure like:</p>\n\n<pre><code>overrideXML = \"&lt;Document&gt;&lt;/Document&gt;\";\n</code></pre>\n\n<p>...and it didn't work, so I think I'm setting up the XML reader incorrectly...</p>\n\n<p>Anyone know what I'm doing wrong?</p>\n\n<p>EDIT:\nI updated the code to use a TextReader instead of BinaryReader:</p>\n\n<pre><code>XmlDictionaryReader xdr = XmlDictionaryReader.CreateTextReader(ms.ToArray(), XmlDictionaryReaderQuotas.Max);\n</code></pre>\n\n<p>and now I no longer get the exception, but the updated reply object doesn't look right.</p>\n\n<pre><code>&lt;s:Envelope xmlns:s=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n  &lt;s:Header&gt;\n    &lt;ns:ResponseHeader xmlns:ns=\"[redacted]\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:ns0=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n      [redacted]\n    &lt;/ns:ResponseHeader&gt;\n  &lt;/s:Header&gt;\n  &lt;s:Body&gt;... stream ...&lt;/s:Body&gt;\n&lt;/s:Envelope&gt;\n</code></pre>\n\n<p>It literally has the string value \"... stream ...\" inside the body instead of the actual body contents. The end result is that I get a null object in response to the WCF call, instead of the expected object.</p>\n"}, {"tags": ["c#", "image", "properties", "wia", "image-scanner"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4040549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0036783da728f50810c70824687db7e?s=128&d=identicon&r=PG&f=1", "display_name": "Engineer", "link": "https://stackoverflow.com/users/4040549/engineer"}, "is_accepted": false, "score": -1, "last_activity_date": 1544446915, "creation_date": 1544446915, "answer_id": 53706252, "question_id": 53528796, "link": "https://stackoverflow.com/questions/53528796/wia-2-0-where-can-i-found-valid-values-for-the-properties-c/53706252#53706252", "title": "WIA 2.0, where can i found valid values for the properties? C#", "body": "<p>Try using the below code, this will get all the properties of the device and item and check if there a range and possible values where you can set. Even though i am struggling on how to set the device property to work with feeder only and scan duplex.</p>\n\n<pre><code> foreach (WIA.Property prop in WiaDev.Properties)\n                {\n                    Console.WriteLine(prop.Name + \" - \" + prop.PropertyID + \" :  \" + prop.get_Value() + \"  No range\");\n                    if (prop.SubType == WiaSubType.ListSubType || prop.SubType == WiaSubType.FlagSubType)\n                    {\n                        Vector v = prop.SubTypeValues;\n                        var enumerator = v.GetEnumerator();\n                        while (enumerator.MoveNext())\n                            Console.WriteLine(\"Possible Values: \" + enumerator.Current);\n\n                    }\n                }\n                Console.WriteLine(\"---------------------------------\");\n                foreach (WIA.Property prop in Item.Properties)\n                {\n                    if (prop.SubType == WiaSubType.RangeSubType)\n                    {\n                        Console.WriteLine(prop.Name + \" - \" + prop.PropertyID + \" :  \" + prop.get_Value() + \"  Min: \" + prop.SubTypeMin + \" Max: \" + prop.SubTypeMax);\n                    }\n                    else\n                    {\n                        Console.WriteLine(prop.Name + \" - \" + prop.PropertyID + \" :  \" + prop.get_Value() + \"  No range\");\n                    }\n\n                    if (prop.SubType == WiaSubType.ListSubType || prop.SubType == WiaSubType.FlagSubType)\n                    {\n                        Vector v = prop.SubTypeValues;\n                        var enumerator = v.GetEnumerator();\n                        while (enumerator.MoveNext())\n                            Console.WriteLine(\"Possible Values: \" + enumerator.Current);\n\n                    }\n                }\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 10267017, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L2IPdPgW_Zc/AAAAAAAAAAI/AAAAAAAAABE/tR5IbQq_IBk/photo.jpg?sz=128", "display_name": "luis alberto juarez", "link": "https://stackoverflow.com/users/10267017/luis-alberto-juarez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 688, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1544446915, "creation_date": 1543442569, "question_id": 53528796, "link": "https://stackoverflow.com/questions/53528796/wia-2-0-where-can-i-found-valid-values-for-the-properties-c", "title": "WIA 2.0, where can i found valid values for the properties? C#", "body": "<p>i was serching for valid values for the properties <strong>\"Document handling select\"</strong> and <strong>\"Pages\"</strong> for a scanner, im using WIA reference of Microsoft.\nSome values that i found (0,1,4 for Document handlig property) (0 for pages property) does not work.\nCan you tell me where can i found full documentation of WIA?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 3, "creation_date": 1543442428, "post_id": 53528730, "comment_id": 93926248, "body": "&quot;<i>I have made some code and I am having trouble fixing the logic error which I am creating</i>&quot; If you could help us helping you by explaining the error your observe... that would be helpful..."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1543442436, "post_id": 53528730, "comment_id": 93926250, "body": "Please show an example of your input and what is expected as result from that input"}, {"owner": {"reputation": 1601, "user_id": 2116512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqDa0.jpg?s=128&g=1", "display_name": "wannadream", "link": "https://stackoverflow.com/users/2116512/wannadream"}, "edited": false, "score": 0, "creation_date": 1543442580, "post_id": 53528730, "comment_id": 93926304, "body": "What does <b>&#39;Enter a text file into the console&#39;</b> mean? It&#39;s ambiguous."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 1, "creation_date": 1543442589, "post_id": 53528730, "comment_id": 93926305, "body": "Also, what do you think <code>foreach (char item in UserInput)</code> is doing? Probably what you think it does is not what it really is doing..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1543442908, "post_id": 53528730, "comment_id": 93926408, "body": "If you struggle with understanding what your code is doing, there is a rather excellent tool at your fingertips which allows you to inspect and watch the state and values of your variables while your program is running. This tool is called Debugger. It is not that difficult to learn how to use it: <a href=\"https://docs.microsoft.com/en-us/visualstudio/debugger/getting-started-with-the-debugger\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/visualstudio/debugger/&hellip;</a>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1543443393, "post_id": 53528730, "comment_id": 93926602, "body": "You state you want to <i>&quot;displays the number of characters that begin with a specific letter&quot;</i>. Do you mean <i>words</i> instead of <i>characters</i>?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 10719497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBSyy.jpg?s=128&g=1", "display_name": "Grizzle Shizzle Pumkin Patch", "link": "https://stackoverflow.com/users/10719497/grizzle-shizzle-pumkin-patch"}, "edited": false, "score": 0, "creation_date": 1543443782, "post_id": 53528942, "comment_id": 93926753, "body": "Jon. Thank you. Thank you helping me understand it more and see where I needed to fix my syntax and formulas. If i could give you 100 stars, i will."}, {"owner": {"reputation": 31, "user_id": 10719497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBSyy.jpg?s=128&g=1", "display_name": "Grizzle Shizzle Pumkin Patch", "link": "https://stackoverflow.com/users/10719497/grizzle-shizzle-pumkin-patch"}, "edited": false, "score": 0, "creation_date": 1543444726, "post_id": 53528942, "comment_id": 93927076, "body": "The code isn&#39;t working actually. Whenever I make the output statement, it only says 1 character is found even when multiple characters are found.  The phrase: &quot;I love that pork&quot;. This has the total value of characters ending in (t or e) to be 2. However, my code is displaying it as 1 count. This is a logic error which is happening."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "reply_to_user": {"reputation": 31, "user_id": 10719497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBSyy.jpg?s=128&g=1", "display_name": "Grizzle Shizzle Pumkin Patch", "link": "https://stackoverflow.com/users/10719497/grizzle-shizzle-pumkin-patch"}, "edited": false, "score": 0, "creation_date": 1543444829, "post_id": 53528942, "comment_id": 93927115, "body": "@GrizzleShizzlePumkinPatch, well, look carefully at the code. Do you think <code>word.StartsWith</code> rhymes with &quot;ends with&quot;? ;-)"}, {"owner": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "edited": false, "score": 1, "creation_date": 1543444938, "post_id": 53528942, "comment_id": 93927157, "body": "Please read <i>your</i> initial comment. &quot;...then displays the number of characters that <i>begin</i> with a specific letter.&quot; No - I think <i>YOU</i> are not being clear about what you are asking."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1543445138, "post_id": 53528942, "comment_id": 93927225, "body": "@JonVote, true, but the code also states (and which you took over into your answer): <code>Console.WriteLine(&quot;There are  {0}&quot;, +count + &quot;  words that end in t or e.&quot;);</code> So, should we rolling the dice?"}, {"owner": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "edited": false, "score": 0, "creation_date": 1543445345, "post_id": 53528942, "comment_id": 93927280, "body": "The dude asked how to count letters <i>beginning</i> from a word. I copy/pasted his code and fixed it so it counts the number of letters <i>beginning</i> from a word."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1543445425, "post_id": 53528942, "comment_id": 93927309, "body": "Well, technically he never said anything about &quot;words&quot; until the string that includes &quot;ends with&quot;. :)"}, {"owner": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "edited": false, "score": 0, "creation_date": 1543445518, "post_id": 53528942, "comment_id": 93927331, "body": "OMG really? I&#39;m assuming the person is not a native English speaker and: &quot;I currently am working on a code which accepts a text file and then displays the number of characters that begin with a specific letter.&quot; means he wants to count the beginning character of each word."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 1, "creation_date": 1543445538, "post_id": 53528942, "comment_id": 93927342, "body": "Your first comment under your own answer is asking for an up-vote. Then, the 2nd of your comments is already full aggro-mode. Chill man, open the window, breathe, take a break."}, {"owner": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "edited": false, "score": 0, "creation_date": 1543445665, "post_id": 53528942, "comment_id": 93927376, "body": "Yeah - in response to &quot;If I could give you 100 stars...&quot; I&#39;m not in aggro-mode. No windows here :( or I would take your advice."}], "tags": [], "owner": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "is_accepted": false, "score": 0, "last_activity_date": 1543445394, "last_edit_date": 1543445394, "creation_date": 1543443430, "answer_id": 53528942, "question_id": 53528730, "link": "https://stackoverflow.com/questions/53528730/simple-c-output-command-prompt-application/53528942#53528942", "title": "Simple C# output command prompt application", "body": "<p>This will work. Please see numbered comments to see where you had errors. </p>\n\n<pre><code>static void Main(string[] args)\n{\n\n    while (true)\n    {\n\n        // This is loop constantly occurs.\n\n        //variables;\n        string UserInput;\n\n        int count = 0;\n\n        //Where I ask for user inout then convert to text file.\n        Console.WriteLine(\"Enter a text file into the console.\");\n\n        UserInput = Console.ReadLine();\n        char LastCharacter = UserInput[UserInput.Length - 1];\n\n\n        // 1) You need to extract the words in the user input - this assumes they are delimited by a space\n        foreach (var word in UserInput.Split(' '))\n        {\n            // 2) You want to check the first character of each word \n            // 3) The StringComparison.CurrentCultureIgnoreCase assumes you want to ignore case - if you DO want to consider case, remove the parm\n            // 4) You can do the compare using the 'or' operator - no need for else if\n            if (word.StartsWith(\"t\", StringComparison.CurrentCultureIgnoreCase) || word.StartsWith(\"e\", StringComparison.CurrentCultureIgnoreCase))\n            {\n                count++;\n            }\n\n        }\n\n        Console.WriteLine(\"There are  {0}\", +count + \"  words that begin with t or e.\");\n        Console.WriteLine(\"Press any key to continue...\");\n        Console.ReadKey();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10719497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBSyy.jpg?s=128&g=1", "display_name": "Grizzle Shizzle Pumkin Patch", "link": "https://stackoverflow.com/users/10719497/grizzle-shizzle-pumkin-patch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1543447868, "creation_date": 1543442210, "last_edit_date": 1543447868, "question_id": 53528730, "link": "https://stackoverflow.com/questions/53528730/simple-c-output-command-prompt-application", "title": "Simple C# output command prompt application", "body": "<p>I currently am working on a code which accepts a text file and then  displays the number of characters that begin with a specific letter. Right here, I have made some code and I am having trouble fixing the logic error which I am creating. If anyone can help, please help me understand what I am doing wrong here so I can immediate start improving! I am coding in c# and using visual studio as well. Here below is my code:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    // This is loop constantly occurs\n    while (true)\n    {\n        string UserInput;\n        int count = 0;\n\n        // here I ask for user input then convert to text file.\n        Console.WriteLine(\"Enter a text file into the console.\");\n\n        UserInput = Console.ReadLine();\n        char LastCharacter = UserInput[UserInput.Length - 1];\n\n        // Two letters I am looking for at end of text file words.\n        foreach (char item in UserInput)\n        {\n            if (item == 't')\n            {\n                count++;       \n            }\n            else if (item == 'e')\n            {\n                count++;\n            }\n        }\n\n        Console.WriteLine(\"There are {0}\", + count + \" words that end in t or e.\");\n        Console.WriteLine(\"Press any key to continue...\");\n        Console.ReadKey();\n    }\n}\n</code></pre>\n\n<p>Here is my output which I am getting in the command prompt.</p>\n\n<pre><code>Enter a text file into the console.\n//Entered user text\nthat is the way\n\nResult:\nThere are  2  words that end in t or e.\nPress any key to continue...\n</code></pre>\n\n<p>notice, it is only counting the t's at the beginning of the word. I'm having difficulty changing that setting so it counts the \"e\" and \"t\" at the end of the word. </p>\n\n<p>(Loop repeats)\nEnter a text file into the console.</p>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1543442624, "post_id": 53528540, "comment_id": 93926322, "body": "IMO there is no application &quot;to small&quot; for MVVM. Sure, the benefits aren&#39;t realized as much but getting good practice is always good."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 1, "creation_date": 1543442712, "post_id": 53528540, "comment_id": 93926355, "body": "Apart from that, I don&#39;t see enough here to definitively say what your issue is, you may need to show the VM at least. For what its worth, that&#39;s a pretty weird way to get to your VM. Also check your output window for binding errors"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6490459"}, "edited": false, "score": 1, "creation_date": 1543443343, "post_id": 53528540, "comment_id": 93926580, "body": "What&#39;s the problem with your code?"}, {"owner": {"reputation": 372, "user_id": 8582270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa7901a9f019ea383acc0cd7a3dd62a3?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/8582270/marty"}, "edited": false, "score": 0, "creation_date": 1543443649, "post_id": 53528540, "comment_id": 93926703, "body": "As others mentioned, more info is needed. But if I would have to guess: make sure that the object you are sending for conversion has the type you are expecting (or testing against)."}, {"owner": {"reputation": 11, "user_id": 6216329, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9NlzrUJW-7k/AAAAAAAAAAI/AAAAAAAAAa4/JbX3VZFVU68/photo.jpg?sz=128", "display_name": "\u041c\u0430\u043a\u0441\u0438\u043c \u0411\u0435\u043b\u043e\u0432", "link": "https://stackoverflow.com/users/6216329/%d0%9c%d0%b0%d0%ba%d1%81%d0%b8%d0%bc-%d0%91%d0%b5%d0%bb%d0%be%d0%b2"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1543468069, "post_id": 53528540, "comment_id": 93932261, "body": "@BradleyDotNET, i dont use VM at all. Just backend file of window and pages like hellopage.xaml.cs. Ok, how can i check output window for binding errors?"}, {"owner": {"reputation": 11, "user_id": 6216329, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9NlzrUJW-7k/AAAAAAAAAAI/AAAAAAAAAa4/JbX3VZFVU68/photo.jpg?sz=128", "display_name": "\u041c\u0430\u043a\u0441\u0438\u043c \u0411\u0435\u043b\u043e\u0432", "link": "https://stackoverflow.com/users/6216329/%d0%9c%d0%b0%d0%ba%d1%81%d0%b8%d0%bc-%d0%91%d0%b5%d0%bb%d0%be%d0%b2"}, "reply_to_user": {"reputation": 372, "user_id": 8582270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa7901a9f019ea383acc0cd7a3dd62a3?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/8582270/marty"}, "edited": false, "score": 0, "creation_date": 1543468130, "post_id": 53528540, "comment_id": 93932281, "body": "@Marty, i use breakpoint at switch statement in valueconverter, but he doesnt stop. But then i use viewmodel that method works. How can i debug converter? What he recieve and when he convert value?"}], "answers": [{"comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1543504087, "post_id": 53536532, "comment_id": 93950843, "body": "Just to be clear, the view as the VM is <i>terrible</i> practice as far as MVVM goes."}], "tags": [], "owner": {"reputation": 11, "user_id": 6216329, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9NlzrUJW-7k/AAAAAAAAAAI/AAAAAAAAAa4/JbX3VZFVU68/photo.jpg?sz=128", "display_name": "\u041c\u0430\u043a\u0441\u0438\u043c \u0411\u0435\u043b\u043e\u0432", "link": "https://stackoverflow.com/users/6216329/%d0%9c%d0%b0%d0%ba%d1%81%d0%b8%d0%bc-%d0%91%d0%b5%d0%bb%d0%be%d0%b2"}, "is_accepted": true, "score": 0, "last_activity_date": 1543486304, "creation_date": 1543486304, "answer_id": 53536532, "question_id": 53528540, "link": "https://stackoverflow.com/questions/53528540/c-wpf-non-mvvm-page-converter/53536532#53536532", "title": "C# WPF non-mvvm page converter", "body": "<p>Ok, i found answer.</p>\n\n<p>I forgot specify DataContext of backend file.</p>\n\n<pre><code>public MainWindow()\n{\n    InitializeComponent();\n    Thread.CurrentThread.CurrentCulture = new CultureInfo(\"ru-RU\");\n    Thread.CurrentThread.CurrentUICulture = new CultureInfo(\"ru-RU\");\n\n    DataContext = this;\n}\n</code></pre>\n\n<p>So, that's it! =) </p>\n"}], "owner": {"reputation": 11, "user_id": 6216329, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9NlzrUJW-7k/AAAAAAAAAAI/AAAAAAAAAa4/JbX3VZFVU68/photo.jpg?sz=128", "display_name": "\u041c\u0430\u043a\u0441\u0438\u043c \u0411\u0435\u043b\u043e\u0432", "link": "https://stackoverflow.com/users/6216329/%d0%9c%d0%b0%d0%ba%d1%81%d0%b8%d0%bc-%d0%91%d0%b5%d0%bb%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 53536532, "answer_count": 1, "score": -1, "last_activity_date": 1543486304, "creation_date": 1543441199, "question_id": 53528540, "link": "https://stackoverflow.com/questions/53528540/c-wpf-non-mvvm-page-converter", "title": "C# WPF non-mvvm page converter", "body": "<p>I'm code some app with different pages in one window. First of all i use MVVM pattern, but later i understand what using this pattern for so small application is not necessary. </p>\n\n<p>But im MVVM version i use page converter for xaml binding. \nLet me show what i mean:</p>\n\n<p>MainWindow.xaml </p>\n\n<pre><code>&lt;Frame\n    Name=\"MainFrame\"\n    Content=\"{Binding ApplicationViewModel.CurrentPage, Source={x:Static local:ViewModelLocator.Instance}, Converter={conv:ApplicationPageValueConverter}}\"\n    NavigationUIVisibility=\"Hidden\" /&gt;\n</code></pre>\n\n<p>In ValueConverter i use switch with enum parameter, and return new Page(),\nlike:</p>\n\n<pre><code>case ApplicationPage.HelloPage:\n                    return new HelloPage();\n</code></pre>\n\n<p>So i regreet MVVM pattern.</p>\n\n<p>But now then i use this container, it doesnt work at all. \nI use backend file for pages and window. In window backend file i use property with OnPropertyChanged. But when page changes, converter dont work. </p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-identity"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4147768, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/635495625/picture?type=large", "display_name": "JGDEV", "link": "https://stackoverflow.com/users/4147768/jgdev"}, "edited": false, "score": 0, "creation_date": 1543447425, "post_id": 53529231, "comment_id": 93927786, "body": "Thanks Tim. The issue here is that .net enforces unique email address/user name. If user A registers on website A, they will not be able to register on website B as the email already exists in the system."}], "tags": [], "owner": {"reputation": 1179, "user_id": 9484842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4b323ae6f3dcdbba8e57ce81a29035a?s=128&d=identicon&r=PG", "display_name": "Tim Cadenbach", "link": "https://stackoverflow.com/users/9484842/tim-cadenbach"}, "is_accepted": false, "score": 0, "last_activity_date": 1543445084, "creation_date": 1543445084, "answer_id": 53529231, "question_id": 53528502, "link": "https://stackoverflow.com/questions/53528502/multi-site-single-code-base-user-registration-using-aspnet-identity/53529231#53529231", "title": "Multi-site, single code-base user registration using ASPNet.Identity", "body": "<p>If you have a flag somewhere which website the current context is for, i'd say easiest to achieve that is to do two things:</p>\n\n<ul>\n<li>extend the IdentityUser with a Website property, something simple either just an int WebsiteId or a String. </li>\n<li>extend the AccountController to use that property wherever needed, I think you'd need  to modify \"Register\" and all \"Login\" functions to verify the website the account is for.  </li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 4147768, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/635495625/picture?type=large", "display_name": "JGDEV", "link": "https://stackoverflow.com/users/4147768/jgdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1543470939, "creation_date": 1543470939, "answer_id": 53532702, "question_id": 53528502, "link": "https://stackoverflow.com/questions/53528502/multi-site-single-code-base-user-registration-using-aspnet-identity/53532702#53532702", "title": "Multi-site, single code-base user registration using ASPNet.Identity", "body": "<p>I managed to find a solution. It's not the most elegant but it solves the issue until I can figure out how to dynamically change the DB Context used during login/register</p>\n\n<p>In IdentityConfig.cs I switched 'RequireUniqueEmail' to false:</p>\n\n<pre><code>manager.UserValidator = new UserValidator&lt;ApplicationUser&gt;(manager)\n{\n    AllowOnlyAlphanumericUserNames = false,\n    RequireUniqueEmail = false\n};\n</code></pre>\n\n<p>Then when a user registers, I take the email address, make it unique to the website they registered on, and store it in the UserName field (I don't use the UserName for anything). When they log in, I make the same alteration to the entered email address before attempting login. </p>\n\n<p>If this user registers on a different website, the username will be different even though the email is identical. Not perfect, but it works.</p>\n\n<p>E.g.</p>\n\n<pre><code>string uniqueCode = \"Website_Specific_String\";\nvar user = new ApplicationUser { uniqueCode + model.Email, Email = model.Email};\nvar result = await UserManager.CreateAsync(user, model.Password);\n</code></pre>\n\n<p>and the login</p>\n\n<pre><code>var user = await UserManager.FindByNameAsync(uniqueCode  + model.Email);\n</code></pre>\n\n<p>Still open to better ideas. Thanks</p>\n"}], "owner": {"reputation": 35, "user_id": 4147768, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/635495625/picture?type=large", "display_name": "JGDEV", "link": "https://stackoverflow.com/users/4147768/jgdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1543470939, "creation_date": 1543441059, "question_id": 53528502, "link": "https://stackoverflow.com/questions/53528502/multi-site-single-code-base-user-registration-using-aspnet-identity", "title": "Multi-site, single code-base user registration using ASPNet.Identity", "body": "<p>So I have multiple websites running off one code base (asp.net standard MVC). I'm using the built in ASPNet.Identity methods for users to register/log in (using ApplicationSignInManager, ApplicationUserManager).</p>\n\n<p>Currently, all websites are using a single database to store user information. This is causing a couple of issues:</p>\n\n<ol>\n<li><p>When user A registers on website A, they are now able to log into website B with the same details. As far as they are aware, they did not register on website B. Not good!</p></li>\n<li><p>If I constrain user A to only access website A, if that user then tried to register on website B, they get the 'email address already in use' error. Also not good!</p></li>\n</ol>\n\n<p>I've tried separating the databases, one per site, to get around this issue but I don't know how to dynamically change the DBContext assigned to the ApplicationSignInManager and ApplicationUserManager in my controller. </p>\n\n<p>For example, when a user comes to website A, I grab the connection string for website A and perform login/register actions. I need the domain name to work out which connection string to load, which I can't access until after startup.cs code has run, configuring my manager instances.</p>\n\n<p>I figure other people must have done this. Ideally I need to dynamically change the DBContext AFTER Startup.cs has run. Failing that, I need a nice approach to storing multiple identical email addresses in the same DB</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "amazon-web-services", "apple-push-notifications", "amazon-sns"], "comments": [{"owner": {"reputation": 583, "user_id": 1874655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4d13e7a57947425d36846c87285df2?s=128&d=identicon&r=PG", "display_name": "Shuchi Sethi", "link": "https://stackoverflow.com/users/1874655/shuchi-sethi"}, "edited": false, "score": 0, "creation_date": 1543446835, "post_id": 53528318, "comment_id": 93927666, "body": "Did you try sending the notification to the device using the AWS console? You can use &quot;Publish to Endpoint&quot; by selecting the token in the application interface."}, {"owner": {"reputation": 583, "user_id": 1874655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4d13e7a57947425d36846c87285df2?s=128&d=identicon&r=PG", "display_name": "Shuchi Sethi", "link": "https://stackoverflow.com/users/1874655/shuchi-sethi"}, "edited": false, "score": 0, "creation_date": 1543447632, "post_id": 53528318, "comment_id": 93927832, "body": "Is the app configured and registered with the Apple Push Notification Service (APNS) to receive push notifications?"}, {"owner": {"reputation": 393, "user_id": 2243646, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0b8e748f4a1469b836dbc0faf4781b99?s=128&d=identicon&r=PG", "display_name": "Basilf", "link": "https://stackoverflow.com/users/2243646/basilf"}, "reply_to_user": {"reputation": 583, "user_id": 1874655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4d13e7a57947425d36846c87285df2?s=128&d=identicon&r=PG", "display_name": "Shuchi Sethi", "link": "https://stackoverflow.com/users/1874655/shuchi-sethi"}, "edited": false, "score": 0, "creation_date": 1543498635, "post_id": 53528318, "comment_id": 93947561, "body": "@ShuchiSethi publishing to specific endpoints wasn&#39;t successful as well directly from their console. It gave the same error: Platform application is disabled (Service: AmazonSNS; Status Code: 400; Error Code: PlatformApplicationDisabled; Request ID: ******)"}, {"owner": {"reputation": 393, "user_id": 2243646, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0b8e748f4a1469b836dbc0faf4781b99?s=128&d=identicon&r=PG", "display_name": "Basilf", "link": "https://stackoverflow.com/users/2243646/basilf"}, "reply_to_user": {"reputation": 583, "user_id": 1874655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a4d13e7a57947425d36846c87285df2?s=128&d=identicon&r=PG", "display_name": "Shuchi Sethi", "link": "https://stackoverflow.com/users/1874655/shuchi-sethi"}, "edited": false, "score": 0, "creation_date": 1543498816, "post_id": 53528318, "comment_id": 93947653, "body": "@ShuchiSethi Is the registration something I can see from the developer account?"}], "owner": {"reputation": 393, "user_id": 2243646, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0b8e748f4a1469b836dbc0faf4781b99?s=128&d=identicon&r=PG", "display_name": "Basilf", "link": "https://stackoverflow.com/users/2243646/basilf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 526, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1543498752, "creation_date": 1543440135, "last_edit_date": 1543498752, "question_id": 53528318, "link": "https://stackoverflow.com/questions/53528318/platform-application-is-disabled-aws-sns-service", "title": "\u201cPlatform application is disabled\u201d AWS SNS Service", "body": "<p>I'm receiving \u201cPlatform application is disabled\u201d from amazon SNS service when trying to publish to ios device.</p>\n\n<p>iOS push certificate is valid for the next year. \nwhen I get the platformApplicationAttributes object, I see the valid certificate date and \"Enabled\" = false.</p>\n\n<p>So I then use the setPlatformApplicationAttribute, and set Enabled =true, then send the push. Which succeeds through the API with a valid requestId - but in fact, the device is not receiving the push although push notifications are enabled for this app. </p>\n\n<p>Also, publishing through the sns console directly gave the same error:\n<strong>Platform application is disabled (Service: AmazonSNS; Status Code: 400; Error Code: PlatformApplicationDisabled; Request ID: ****)</strong>\nAny idea how this could be solved?</p>\n"}, {"tags": ["c#", "csv", "newline", "readline", "streamreader"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 5, "creation_date": 1543439357, "post_id": 53528102, "comment_id": 93925018, "body": "Use a CSV parser, unless you want to re-invent the wheel..."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1543439451, "post_id": 53528102, "comment_id": 93925057, "body": "<code>is breaking the lines at the line breaks within the cells</code> Which makes sense, given the method is called <code>ReadLine</code>. Also, <a href=\"https://github.com/JoshClose/CsvHelper/issues/13\" rel=\"nofollow noreferrer\">github.com/JoshClose/CsvHelper/issues/13</a> may be of interest."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1543439508, "post_id": 53528102, "comment_id": 93925079, "body": "<code>So I need to read through the file line by line.</code> You, by definition, can&#39;t process data by just looking at a single line at a time if the data has line breaks in it. As elgonzo says, CSV parsing is hard - it will take weeks to handle all of the edge cases if you try and write his by hand."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1543439540, "post_id": 53528102, "comment_id": 93925094, "body": "use <a href=\"https://joshclose.github.io/CsvHelper/\" rel=\"nofollow noreferrer\">joshclose.github.io/CsvHelper</a>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1543440231, "post_id": 53528102, "comment_id": 93925396, "body": "<code>var values = File.ReadAllText(filePath).Split(&#39;,&#39;);</code> maybe? A CSV parser would be much better."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1543441840, "post_id": 53528102, "comment_id": 93926024, "body": "That&#39;s not how to <a href=\"https://stackoverflow.com/questions/2081418/\">Parse CSV files</a>."}], "answers": [{"tags": [], "owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "is_accepted": false, "score": 1, "last_activity_date": 1544292643, "last_edit_date": 1544292643, "creation_date": 1543449718, "answer_id": 53529960, "question_id": 53528102, "link": "https://stackoverflow.com/questions/53528102/c-streamreader-readline-breaking-lines-at-internal-linebreaks-within-cells/53529960#53529960", "title": "C# StreamReader ReadLine breaking lines at internal linebreaks within cells", "body": "<p>You are confusing <em>lines</em> with <em>records</em>.  You say you want to read your file line-by-line, but what you really want to do is read it record-by-record.  Since your data can have line breaks in the middle of a record, then using <code>ReadLine</code> isn't going to give you what you want, because that method doesn't know where the end of the record is. It only knows how to find the next line break.</p>\n\n<p>You are going to need to use a proper CSV reader to solve this.  But, don't worry, there are CSV readers out there which do not require you to map the data to a fixed class.  One I have used many times is <a href=\"https://www.nuget.org/packages/LumenWorksCsvReader/\" rel=\"nofollow noreferrer\">Lumenworks CSV Reader</a>.  It is free (open source, MIT license), supports multi-line fields within a record and is easy to use.  </p>\n\n<p>Here is an example of how you would use it to process a file record-by-record:</p>\n\n<pre><code>using (StreamReader sr = new StreamReader(file.InputStream))\nusing (CsvReader csv = new CsvReader(sr, hasHeaders: true))\n{\n    csv.SupportsMultiline = true;\n\n    // read the first record of the file as column headers and put them into an array\n    string[] headers = csv.GetFieldHeaders();\n\n    // read each data record one by one - this returns false when there is no more data\n    while (csv.ReadNextRecord())\n    {\n        // 0-based index of the current CSV record (excluding the headers) if you need it\n        var recordNumber = csv.CurrentRecordIndex;\n\n        // loop over the columns in the row and process them\n        for (int i = 0; i &lt; csv.FieldCount; i++)\n        {\n            string fieldName = headers[i];\n            string fieldValue = csv[i];      // may contain line breaks\n\n            // ...do stuff...\n        }\n    }\n}\n</code></pre>\n\n<p>Working demo: <a href=\"https://dotnetfiddle.net/ZYSA7r\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/ZYSA7r</a></p>\n"}], "owner": {"reputation": 3905, "user_id": 3784238, "user_type": "registered", "accept_rate": 26, "profile_image": "https://lh3.googleusercontent.com/-5TiQ_Wr94Kg/AAAAAAAAAAI/AAAAAAAAAUg/N0Pp2l_1mdM/photo.jpg?sz=128", "display_name": "Erica Stockwell-Alpert", "link": "https://stackoverflow.com/users/3784238/erica-stockwell-alpert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1544292643, "creation_date": 1543439278, "question_id": 53528102, "link": "https://stackoverflow.com/questions/53528102/c-streamreader-readline-breaking-lines-at-internal-linebreaks-within-cells", "title": "C# StreamReader ReadLine breaking lines at internal linebreaks within cells", "body": "<p>I have a row of data in a csv where some of the cells may contain line breaks</p>\n\n<p><a href=\"https://i.stack.imgur.com/lH8ef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lH8ef.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm uploading this file using an Asp:FileUpload and trying to read through each line with a StreamReader:</p>\n\n<pre><code>var file = btnFileUpload.PostedFile;\nusing (StreamReader sr = new StreamReader(file.InputStream))\n{\n    string currentLine;\n    var line = 1;\n    // currentLine will be null when the StreamReader reaches the end of file\n    while ((currentLine = sr.ReadLine()) != null)\n    {\n          ....do stuff...\n    }\n}\n</code></pre>\n\n<p>However, in debugging I found that <code>sr.ReadLine()</code> is breaking the lines at the line breaks within the cells, such as in the Category cell. For example, when I read line 2 (the first line of data after the header), the value is:</p>\n\n<p><code>\"/Home/Blog/2018/november/power,English : English,Erica Stockwell-Alpert,/Home/Blog/Categories/Accounts Payable Automation;\"</code></p>\n\n<p>and then the next sr.ReadLine():</p>\n\n<p><code>\"/Home/Blog/Categories/Financial Services;\"</code></p>\n\n<p>and then </p>\n\n<p><code>\"/Home/Blog/Categories/Robotic Process Automoation,&lt;p&gt;[the rest of the line]\"</code></p>\n\n<p>How can I prevent sr.ReadLine() from breaking on the new line characters within cells? Or if I can't, how else can I read the file line by line?</p>\n\n<p>Note: I cannot use a csv reader ClassMap anad csvReader.GetRecords because the tool I am working on needs to be able to handle any different fields in the header, it is not associated with one specific class. So I need to read through the file line by line.</p>\n"}, {"tags": ["c#", "visual-studio"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1543439575, "post_id": 53528078, "comment_id": 93925111, "body": "Well, there is no <code>LoginDB_Load</code> method shown in your code, but this is a partial class, so there could be another file with <code>partial class LoginDB</code> in it."}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 1, "creation_date": 1543439609, "post_id": 53528078, "comment_id": 93925132, "body": "The error is telling you that you&#39;re referencing a method which doesn&#39;t exist.  Do you think it should exist?  Where did you define it?  If you don&#39;t think it should exist, why are you referencing it?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1543440932, "post_id": 53528078, "comment_id": 93925665, "body": "That looks like your LoginDB.Designer.cs file. The <code>LoginDB_Load</code> event would normally be in the <code>LoginDB.cs</code> file, and isn&#39;t automatically generated. You can double-click on the form in designer view to create it. Otherwise, you need to create it manually before you can reference it."}, {"owner": {"reputation": 107, "user_id": 9335119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e9e404d1288a53001c47103de1acc75?s=128&d=identicon&r=PG&f=1", "display_name": "RippStudwell", "link": "https://stackoverflow.com/users/9335119/rippstudwell"}, "edited": false, "score": 0, "creation_date": 1543443180, "post_id": 53528078, "comment_id": 93926514, "body": "I&#39;m guessing you double-clicked the designer form by accident and created a Load event for it and then removed the newly created event method thinking it would get rid of the event. To fix, add the method back into your code so your designer will load again. Right-Click your form -&gt; Properties -&gt; Events toolbar icon -&gt; find the Load event and clear/delete it."}], "answers": [{"tags": [], "owner": {"reputation": 327, "user_id": 10355957, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iMJqZdwlkAg/AAAAAAAAAAI/AAAAAAAAABE/UAMRptPFmj0/photo.jpg?sz=128", "display_name": "HEWhoDoesn&#39;tKnow", "link": "https://stackoverflow.com/users/10355957/hewhodoesntknow"}, "is_accepted": false, "score": 1, "last_activity_date": 1543451090, "creation_date": 1543451090, "answer_id": 53530102, "question_id": 53528078, "link": "https://stackoverflow.com/questions/53528078/visual-c-can-not-load-form-due-to-error-in-my-code-logindb-designer-cs/53530102#53530102", "title": "visual c# can not load form due to error in my code! LoginDB.Designer.cs", "body": "<p>Delete this line:</p>\n\n<pre><code>this.Load += new System.EventHandler(this.LoginDB_Load);\n</code></pre>\n\n<p>Then Double Click the control \"LoginDB\" to create another one.</p>\n"}], "owner": {"reputation": 1, "user_id": 10719351, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zFYU3qjyEew/AAAAAAAAAAI/AAAAAAAAAhY/kofyrswXy4w/photo.jpg?sz=128", "display_name": "Adam.Avacado", "link": "https://stackoverflow.com/users/10719351/adam-avacado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543451090, "creation_date": 1543439174, "last_edit_date": 1543439473, "question_id": 53528078, "link": "https://stackoverflow.com/questions/53528078/visual-c-can-not-load-form-due-to-error-in-my-code-logindb-designer-cs", "title": "visual c# can not load form due to error in my code! LoginDB.Designer.cs", "body": "<p>There is an error where is says <code>this.Load += new System.EventHandler(this.LoginDB_Load);</code> </p>\n\n<p>The error is </p>\n\n<blockquote>\n  <p>Error CS1061 'LoginDB' does not contain a definition for 'LoginDB_Load' and no accessible extension method 'LoginDB_Load' accepting a first argument of type 'LoginDB' could be found (are you missing a using directive or an assembly reference?)</p>\n</blockquote>\n\n<pre><code>namespace wavemaker\n{\n    partial class LoginDB\n    {\n        /// &lt;summary&gt;\n        /// Required designer variable.\n        /// &lt;/summary&gt;\n        private System.ComponentModel.IContainer components = null;\n\n        /// &lt;summary&gt;\n        /// Clean up any resources being used.\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"disposing\"&gt;true if managed resources should be disposed; otherwise, false.&lt;/param&gt;\n        protected override void Dispose(bool disposing)\n        {\n            if (disposing &amp;&amp; (components != null))\n            {\n                components.Dispose();\n            }\n            base.Dispose(disposing);\n        }\n\n        #region Windows Form Designer generated code\n\n        /// &lt;summary&gt;\n        /// Required method for Designer support - do not modify\n        /// the contents of this method with the code editor.\n        /// &lt;/summary&gt;\n        private void InitializeComponent()\n        {\n            this.btn_Submit = new System.Windows.Forms.Button();\n            this.txt_UserName = new System.Windows.Forms.TextBox();\n            this.txt_Password = new System.Windows.Forms.TextBox();\n            this.label1 = new System.Windows.Forms.Label();\n            this.label2 = new System.Windows.Forms.Label();\n            this.SuspendLayout();\n            // \n            // btn_Submit\n            // \n            this.btn_Submit.Location = new System.Drawing.Point(197, 60);\n            this.btn_Submit.Name = \"btn_Submit\";\n            this.btn_Submit.Size = new System.Drawing.Size(64, 25);\n            this.btn_Submit.TabIndex = 0;\n            this.btn_Submit.Text = \"Login\";\n            this.btn_Submit.UseVisualStyleBackColor = true;\n            // \n            // txt_UserName\n            // \n            this.txt_UserName.Location = new System.Drawing.Point(67, 8);\n            this.txt_UserName.Name = \"txt_UserName\";\n            this.txt_UserName.Size = new System.Drawing.Size(194, 20);\n            this.txt_UserName.TabIndex = 1;\n            // \n            // txt_Password\n            // \n            this.txt_Password.Location = new System.Drawing.Point(67, 34);\n            this.txt_Password.Name = \"txt_Password\";\n            this.txt_Password.Size = new System.Drawing.Size(194, 20);\n            this.txt_Password.TabIndex = 2;\n            // \n            // label1\n            // \n            this.label1.AutoSize = true;\n            this.label1.Location = new System.Drawing.Point(6, 11);\n            this.label1.Name = \"label1\";\n            this.label1.Size = new System.Drawing.Size(55, 13);\n            this.label1.TabIndex = 3;\n            this.label1.Text = \"Username\";\n            // \n            // label2\n            // \n            this.label2.AutoSize = true;\n            this.label2.Location = new System.Drawing.Point(6, 37);\n            this.label2.Name = \"label2\";\n            this.label2.Size = new System.Drawing.Size(53, 13);\n            this.label2.TabIndex = 4;\n            this.label2.Text = \"Password\";\n            // \n            // LoginDB\n            // \n            this.AutoScaleDimensions = new System.Drawing.SizeF(6F, 13F);\n            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;\n            this.ClientSize = new System.Drawing.Size(273, 97);\n            this.Controls.Add(this.label2);\n            this.Controls.Add(this.label1);\n            this.Controls.Add(this.txt_Password);\n            this.Controls.Add(this.txt_UserName);\n            this.Controls.Add(this.btn_Submit);\n            this.Name = \"LoginDB\";\n            this.Text = \"LoginDB\";\n            this.Load += new System.EventHandler(this.LoginDB_Load);\n            this.ResumeLayout(false);\n            this.PerformLayout();\n\n        }\n\n        #endregion\n\n        private System.Windows.Forms.Button btn_Submit;\n        private System.Windows.Forms.TextBox txt_UserName;\n        private System.Windows.Forms.TextBox txt_Password;\n        private System.Windows.Forms.Label label1;\n        private System.Windows.Forms.Label label2;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "ios", "xamarin", "xamarin.ios", "volume"], "comments": [{"owner": {"reputation": 5513, "user_id": 2913599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/098f6fabc851434459585bb8170f950f?s=128&d=identicon&r=PG", "display_name": "jgoldberger - MSFT", "link": "https://stackoverflow.com/users/2913599/jgoldberger-msft"}, "edited": false, "score": 0, "creation_date": 1543441572, "post_id": 53528016, "comment_id": 93925924, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/28193626/cleanest-way-of-capturing-volume-up-down-button-press-on-ios-8\">Cleanest way of capturing volume up/down button press on iOS 8</a>"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 10232302, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kh9vCtdHIt4/AAAAAAAAAAI/AAAAAAAACeU/EYFuLwJA4H8/photo.jpg?sz=128", "display_name": "Alex Sapozhnikov", "link": "https://stackoverflow.com/users/10232302/alex-sapozhnikov"}, "edited": false, "score": 0, "creation_date": 1543502244, "post_id": 53528592, "comment_id": 93949672, "body": "I totally understand your point. But this is not going to be in the appstore. Only people I know will use it."}], "tags": [], "owner": {"reputation": 5513, "user_id": 2913599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/098f6fabc851434459585bb8170f950f?s=128&d=identicon&r=PG", "display_name": "jgoldberger - MSFT", "link": "https://stackoverflow.com/users/2913599/jgoldberger-msft"}, "is_accepted": false, "score": 1, "last_activity_date": 1543441515, "creation_date": 1543441515, "answer_id": 53528592, "question_id": 53528016, "link": "https://stackoverflow.com/questions/53528016/xamarin-ios-hide-volume-hud-and-on-volume-button-pressed-listener/53528592#53528592", "title": "Xamarin.IOS hide volume hud and on volume button pressed listener", "body": "<p>I don't think Apple allows you to do that. The user expects certain things to happen when the volume button is pressed and a developer should not be able to change that. For me, I would think something was wrong if I pressed the volume button and did not see the HUD letting me know that my volume is changing. The fact that your app is running would not occur to me as a reason for this and I  might reboot my device thinking something has gone wrong at the OS level. </p>\n\n<p>And there is a duplicate question here: <a href=\"https://stackoverflow.com/questions/28193626/cleanest-way-of-capturing-volume-up-down-button-press-on-ios-8\">Cleanest way of capturing volume up/down button press on iOS 8</a></p>\n"}], "owner": {"reputation": 29, "user_id": 10232302, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kh9vCtdHIt4/AAAAAAAAAAI/AAAAAAAACeU/EYFuLwJA4H8/photo.jpg?sz=128", "display_name": "Alex Sapozhnikov", "link": "https://stackoverflow.com/users/10232302/alex-sapozhnikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1543441515, "creation_date": 1543438829, "question_id": 53528016, "link": "https://stackoverflow.com/questions/53528016/xamarin-ios-hide-volume-hud-and-on-volume-button-pressed-listener", "title": "Xamarin.IOS hide volume hud and on volume button pressed listener", "body": "<p>I am trying to hide or disable the hud from showing up whenever you press the volume button. I am also trying to disable volume change whenever you press the volume button. This is in Xamarin.IOS please help me.</p>\n\n<p>I was able to get a listener when you press the volume button but it only works if the volume changed, if the volume is at 0 it will not be triggered.</p>\n\n<pre><code>public override void ViewDidLoad()\n    {\n        base.ViewDidLoad();\n\n        var session = AVAudioSession.SharedInstance();\n        session.SetActive(true);\n        session.AddObserver(this, \"outputVolume\", NSKeyValueObservingOptions.New, IntPtr.Zero);\n\n    }\n\n    public override void ObserveValue(NSString keyPath, NSObject ofObject, NSDictionary change, IntPtr context)\n    {\n        MyCameraClass.StartScanning();\n    }\n</code></pre>\n"}, {"tags": ["c#", "sharepoint-list"], "answers": [{"tags": [], "owner": {"reputation": 1063, "user_id": 5676221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OUMMP.jpg?s=128&g=1", "display_name": "Mike Smith - MCT - MVP", "link": "https://stackoverflow.com/users/5676221/mike-smith-mct-mvp"}, "is_accepted": false, "score": 0, "last_activity_date": 1543457945, "creation_date": 1543457945, "answer_id": 53530911, "question_id": 53528013, "link": "https://stackoverflow.com/questions/53528013/reading-a-sharepoint-list-in-c/53530911#53530911", "title": "Reading a sharepoint list in C#", "body": "<p>SPSite represents a Site Collection and most likely PWA is a subsite.</p>\n\n<pre><code>string strUrl = \"http://site-2016-02:1000\";\n        using (SPSite oSite = new SPSite(strUrl))\n        {\n            using (SPWeb oWeb = oSite.RootWeb.OpenWeb(\"PWA\"))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>string strUrl = \"http://site-2016-02:1000\";\n        using (SPSite oSite = new SPSite(strUrl))\n        {\n            using (SPWeb oWeb = oSite.RootWeb.Webs[\"PWA\"])\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 9240095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5356929b70d370c1502e632219a347e?s=128&d=identicon&r=PG&f=1", "display_name": "Toxicboumboum", "link": "https://stackoverflow.com/users/9240095/toxicboumboum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543457945, "creation_date": 1543438809, "question_id": 53528013, "link": "https://stackoverflow.com/questions/53528013/reading-a-sharepoint-list-in-c", "title": "Reading a sharepoint list in C#", "body": "<p>I'd like to read a list on a project server site\nSo I create a list that which called GetUrl\nAnd I just like to read the title of this list\nSo I write this piece of code:</p>\n\n<pre><code>`string strUrl = \"http://site-2016-02:1000/PWA/\";\n            using (SPSite oSite = new SPSite(strUrl))\n            {\n                using (SPWeb oWeb = oSite.OpenWeb())\n                {\n                    SPList list = oWeb.Lists[\"GetUrl\"];\n\n                    foreach (SPField field in list.Fields)\n                    {\n                        Console.WriteLine(field.Title);\n                    }\n                }\n            }\n</code></pre>\n\n<p>`but I get the following error:\nAdditional information: The Web application at <a href=\"http://sfd-2013-02:1000/PWA/\" rel=\"nofollow noreferrer\">http://sfd-2013-02:1000/PWA/</a> could not be found. Verify that you have typed the URL correctly. If the URL should be serving existing content, the system administrator may need to add a new request URL mapping to the intended application.</p>\n\n<p>I don't understand why when I click on the url the project site is showed\nSo any idea of what I'm doing wrong?\nIs there another solution to be able to read a sharepoint list?</p>\n\n<p>Thank you for your feedback</p>\n"}, {"tags": ["c#", "uwp", "background", "desktop-bridge"], "comments": [{"owner": {"reputation": 105, "user_id": 10719212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da3eab5978089f2cdfb54f75e1f7e278?s=128&d=identicon&r=PG&f=1", "display_name": "Dodeius", "link": "https://stackoverflow.com/users/10719212/dodeius"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1543443206, "post_id": 53527733, "comment_id": 93926523, "body": "@mjwills Are those necessary? I want to launch the task myself only, and if I launch it it should work under any condition.  Edit: See post edit"}], "answers": [{"tags": [], "owner": {"reputation": 317, "user_id": 5541998, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/68E09.jpg?s=128&g=1", "display_name": "MKH", "link": "https://stackoverflow.com/users/5541998/mkh"}, "is_accepted": true, "score": 3, "last_activity_date": 1543481494, "last_edit_date": 1543481494, "creation_date": 1543467034, "answer_id": 53532040, "question_id": 53527733, "link": "https://stackoverflow.com/questions/53527733/cant-register-background-task/53532040#53532040", "title": "Cant register background task", "body": "<p>Try the following code , we should check for background task access permissions then Register the background task :</p>\n\n<pre><code>var hasAccess = await BackgroundExecutionManager.RequestAccessAsync();\nif (hasAccess == BackgroundAccessStatus.DeniedBySystemPolicy \n    || hasAccess == BackgroundAccessStatus.DeniedByUser\n    || hasAccess == BackgroundAccessStatus.Unspecified)\n{\n    await new MessageDialog(\"ACCESS DENIED\").ShowAsync();\n    return;\n}\n\n/////////////////////begin registering bg task\nvar task = new BackgroundTaskBuilder\n{\n    Name = \"Background\",\n    TaskEntryPoint = typeof(Background.BackgroundTask).ToString()\n};\n\n//Trigger is necessary for registering bg tasks but Conditions are  optional\n//set a trigger for your bg task to run \n//for ex. below Trigger will run when toast Notifications (cleared, user pressed an action button and so on)\nToastNotificationActionTrigger actiontrigger = new ToastNotificationActionTrigger();\n\ntask.SetTrigger(actiontrigger);\n\n//Optional Conditions like Internet Connection\n//var condition = new SystemCondition(SystemConditionType.InternetAvailable);\n\n//task.AddCondition(condition);//set condition\n\nBackgroundTaskRegistration registration = task.Register();//Register the task\n</code></pre>\n\n<p>Also we should check if background task is already running before Register it.\nSomething like below code snippet:</p>\n\n<pre><code>var isAlreadyRegistered = BackgroundTaskRegistration.AllTasks.Any(t =&gt; t.Value?.Name == \"BackroundTask\");\nif (isAlreadyRegistered)\n{\n    foreach (var tsk in BackgroundTaskRegistration.AllTasks)\n    {\n        if (tsk.Value.Name == \"BackroundTask\")\n        {\n            tsk.Value.Unregister(true);\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>More information <a href=\"https://docs.microsoft.com/en-us/windows/uwp/launch-resume/create-and-register-a-background-task\" rel=\"nofollow noreferrer\">Create and register an out-of-process background task</a></p>\n"}], "owner": {"reputation": 105, "user_id": 10719212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da3eab5978089f2cdfb54f75e1f7e278?s=128&d=identicon&r=PG&f=1", "display_name": "Dodeius", "link": "https://stackoverflow.com/users/10719212/dodeius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "accepted_answer_id": 53532040, "answer_count": 1, "score": 1, "last_activity_date": 1565773372, "creation_date": 1543437576, "last_edit_date": 1543443310, "question_id": 53527733, "link": "https://stackoverflow.com/questions/53527733/cant-register-background-task", "title": "Cant register background task", "body": "<p>I have the following background task:</p>\n\n<pre><code>namespace Background\n{\n    public sealed class BackgroundTask : IBackgroundTask\n    {\n        private BackgroundTaskDeferral _deferral;\n\n        public void Run(IBackgroundTaskInstance taskInstance)\n        {\n            //_deferral = taskInstance.GetDeferral();\n\n        }\n</code></pre>\n\n<p>in a file called Task.cs (not that the filename matters).</p>\n\n<p>The Background namespace is in my Solution, which contains a Packaging project, which contains an UWP solution which should launch the Backgroundtask:</p>\n\n<pre><code>private async void LaunchBackground()\n{\n    await BackgroundExecutionManager.RequestAccessAsync();\n\n    var exampleTaskName = \"Background\";\n\n    foreach (var taskA in BackgroundTaskRegistration.AllTasks)\n    {\n        if (taskA.Value.Name == exampleTaskName)\n        {\n            await new ApplicationTrigger().RequestAsync();\n            break;\n        }\n    }\n\n    var builder = new BackgroundTaskBuilder();\n\n    builder.Name = exampleTaskName;\n    builder.TaskEntryPoint = \"Background.BackgroundTask\";\n\n    BackgroundTaskRegistration task = builder.Register();\n\n    await new ApplicationTrigger().RequestAsync();\n}\n</code></pre>\n\n<p>In the UWP and the Packaging project have the following declared in the manifest:</p>\n\n<pre><code>  &lt;Extensions&gt;\n    &lt;Extension Category=\"windows.backgroundTasks\" EntryPoint=\"Background.BackgroundTask\"&gt;\n      &lt;BackgroundTasks&gt;\n        &lt;Task Type=\"systemEvent\" /&gt;\n      &lt;/BackgroundTasks&gt;\n    &lt;/Extension&gt;\n  &lt;/Extensions&gt;\n</code></pre>\n\n<p>I could not add a reference to the background project in my packagin project, but did so in my UWP project.</p>\n\n<p>Still, when I try to launch it, I get the following:</p>\n\n<p>At: <code>BackgroundTaskRegistration task = builder.Register();</code> <code>System.ArgumentException: 'Value does not fall within the expected range.'</code></p>\n\n<p>builder according to debug is <code>-        builder {Windows.ApplicationModel.Background.BackgroundTaskBuilder} Windows.ApplicationModel.Background.BackgroundTaskBuilder\n</code></p>\n\n<p>Have I left something out, or why isn't it working?</p>\n\n<p>Edit: After adding a trigger:</p>\n\n<pre><code>builder.SetTrigger(new SystemTrigger(SystemTriggerType.BackgroundWorkCostChange, false));\n</code></pre>\n\n<p>WhichI actually do not want, I get a new error:</p>\n\n<p>At: <code>await new ApplicationTrigger().RequestAsync();</code> <code>System.Runtime.InteropServices.COMException: 'Error HRESULT E_FAIL has been returned from a call to a COM component.'</code></p>\n"}, {"tags": ["c#", "winforms", "listbox", "picturebox"], "comments": [{"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1543436596, "post_id": 53527440, "comment_id": 93923829, "body": "I imagine you could capture the change event for the first control and use it to populate the second control.  Have you tried anything?  Where did you get stuck?"}, {"owner": {"reputation": 19, "user_id": 9631330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc950e10f47e635592b2501ef12e6f2?s=128&d=identicon&r=PG&f=1", "display_name": "Ghart14", "link": "https://stackoverflow.com/users/9631330/ghart14"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1543437513, "post_id": 53527440, "comment_id": 93924200, "body": "No, I haven&#39;t really spent much time on it. I got to that point and then took a break (just a small side project I&#39;m doing for myself - and others if they wish to use it). My thought process was to have 2 string arrays and based on the index on the item selected, I can then go to that position in the second array. But that&#39;ll only return one item as well. Whereas that i&#39;th item may have 30 sub-items (in the 2nd list box)."}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1543437904, "post_id": 53527440, "comment_id": 93924392, "body": "Well, I guess first you need to define what your data is and how you organize it.  You&#39;ll need to logically be able to filter your second set of data based on the value selected from the first set.  First define your data, then build the interface to view that data."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 9631330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc950e10f47e635592b2501ef12e6f2?s=128&d=identicon&r=PG&f=1", "display_name": "Ghart14", "link": "https://stackoverflow.com/users/9631330/ghart14"}, "edited": false, "score": 0, "creation_date": 1543438108, "post_id": 53527680, "comment_id": 93924505, "body": "I have no code currently that goes toward the solution I want. I was more so looking for a pointer towards getting 2 list boxes to work correctly together and how I should keep my store the data, whether in string arrays or multi-dimensional array, etc. I responded to David above about what I have going."}], "tags": [], "owner": {"reputation": 1, "user_id": 10718859, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OQDwqd2e7cY/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iVP3Yxs_Bz5NlOyTw3MjkR1TgZrg/mo/photo.jpg?sz=128", "display_name": "Blake", "link": "https://stackoverflow.com/users/10718859/blake"}, "is_accepted": false, "score": 0, "last_activity_date": 1543437354, "creation_date": 1543437354, "answer_id": 53527680, "question_id": 53527440, "link": "https://stackoverflow.com/questions/53527440/how-to-have-one-list-box-present-data-based-on-selection-of-first-one/53527680#53527680", "title": "How to have one list box present data based on selection of first one?", "body": "<p>Could you please provide the code of what you have so far? Without knowing that, I would say you can have a function invoked by the change in the first list box</p>\n\n<pre><code>`private void listBox1_SelectedIndexChanged(object sender, EventArgs e)\n {\n     if(listBox1.Text == \"mazda 3\")\n         //do something here with listbox2\n }` \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 9631330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc950e10f47e635592b2501ef12e6f2?s=128&d=identicon&r=PG&f=1", "display_name": "Ghart14", "link": "https://stackoverflow.com/users/9631330/ghart14"}, "edited": false, "score": 0, "creation_date": 1543500411, "post_id": 53535521, "comment_id": 93948626, "body": "Yes this will be something similar to what I have in mind. However, the vehicle names won&#39;t be known so it can&#39;t be hardcoded. It&#39;s whatever the user would want to put in. So some people name their car, lets say &quot;Sally&quot;, then they are able to just put in &quot;Sally&quot; and have a list of all the service records in the next list box."}, {"owner": {"reputation": 33, "user_id": 6664876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MzeJp.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6664876/anthony"}, "reply_to_user": {"reputation": 19, "user_id": 9631330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc950e10f47e635592b2501ef12e6f2?s=128&d=identicon&r=PG&f=1", "display_name": "Ghart14", "link": "https://stackoverflow.com/users/9631330/ghart14"}, "edited": false, "score": 0, "creation_date": 1543505817, "post_id": 53535521, "comment_id": 93951940, "body": "@Ghart14 In that case you need an input box, and just add the inputs to the list like this: <code>cars.Add(stringItem);</code>"}], "tags": [], "owner": {"reputation": 33, "user_id": 6664876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MzeJp.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6664876/anthony"}, "is_accepted": true, "score": -1, "last_activity_date": 1543483202, "creation_date": 1543483202, "answer_id": 53535521, "question_id": 53527440, "link": "https://stackoverflow.com/questions/53527440/how-to-have-one-list-box-present-data-based-on-selection-of-first-one/53535521#53535521", "title": "How to have one list box present data based on selection of first one?", "body": "<p>I'm not really clear on what it actually is you're trying to do, but from my understanding you have a list of cars, and for every car on that list, there is a list of service records? </p>\n\n<p>If this is the case you could do something like this: </p>\n\n<pre><code>public partial class Form1 : Form\n{\n\n    List&lt;string&gt; cars = new List&lt;string&gt;()\n    {\n        \"Mazda 3\",\n        \"Mazda 6\",\n        \"VW Polo\",\n        \"VW Golf\"\n    };\n\n    List&lt;string&gt; Mazda3 = new List&lt;string&gt;()\n    {\n        \"12-04-2008\",\n        \"14-03-2010\",\n        \"20-05-2012\",\n\n    };\n\n    List&lt;string&gt; Mazda6 = new List&lt;string&gt;()\n    {\n        \"12-08-2012\",\n        \"14-07-2014\",\n        \"03-09-2016\",\n    };\n\n    List&lt;string&gt; VWPolo = new List&lt;string&gt;()\n    {\n        \"Some Date\",\n        \"Some Date\",\n        \"Some Date\",\n    };\n\n    List&lt;string&gt; VWGolf = new List&lt;string&gt;()\n    {\n        \"Some Date\",\n        \"Some Date\",\n        \"Some Date\",\n    };\n\n    List&lt;List&lt;string&gt;&gt; ServiceLists = new List&lt;List&lt;string&gt;&gt;();\n\n\n    public Form1()\n    {\n        InitializeComponent();\n\n        ServiceLists.Add(Mazda3);\n        ServiceLists.Add(Mazda6);\n        ServiceLists.Add(VWPolo);\n        ServiceLists.Add(VWGolf);\n\n        Cars_listBox.DataSource = cars;\n    }\n\n    private void Cars_listBox_SelectedIndexChanged(object sender, EventArgs e)\n    {\n        ServiceRecords_listBox.DataSource = ServiceLists[Cars_listBox.SelectedIndex];\n    }\n}\n</code></pre>\n\n<p>In this example the listBoxes are created in the designer</p>\n"}], "owner": {"reputation": 19, "user_id": 9631330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc950e10f47e635592b2501ef12e6f2?s=128&d=identicon&r=PG&f=1", "display_name": "Ghart14", "link": "https://stackoverflow.com/users/9631330/ghart14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 53535521, "answer_count": 2, "score": -4, "last_activity_date": 1543483202, "creation_date": 1543436225, "question_id": 53527440, "link": "https://stackoverflow.com/questions/53527440/how-to-have-one-list-box-present-data-based-on-selection-of-first-one", "title": "How to have one list box present data based on selection of first one?", "body": "<p>I'm making a windows form with 2 list boxes. My plan is for the user to have the option to add/edit/remove from both list boxes. When a user selects an option from the first list (a selection of car names i.e. Mazda 3), the second list box will show all the data that would be entered based off that of the first selection (my idea is to keep service records for each vehicle; this box also will have the option to add/edit/remove). How should I go about having the second list box show items based on the selection of the first list box? </p>\n\n<p>Is a multidimensional array the best way to do this? I also plan on having a picture box that will show a picture that the user can upload and will be view-able based on the selection of the SECOND list box.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 270, "user_id": 5999272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68c93781dcddc5b5012120d7d0b49522?s=128&d=identicon&r=PG&f=1", "display_name": "Thorin Jacobs", "link": "https://stackoverflow.com/users/5999272/thorin-jacobs"}, "edited": false, "score": 0, "creation_date": 1543436490, "post_id": 53527436, "comment_id": 93923785, "body": "What have you tried so far? Can you provide some code illustrating where you&#39;re stuck?"}, {"owner": {"reputation": 388, "user_id": 4659509, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bbc1eff6f66115cc25a310e70b6c6c3e?s=128&d=identicon&r=PG&f=1", "display_name": "Scriven", "link": "https://stackoverflow.com/users/4659509/scriven"}, "edited": false, "score": 0, "creation_date": 1543436583, "post_id": 53527436, "comment_id": 93923823, "body": "I mean... you could use some like string.ToLower().Contains(&quot;scotland&quot;). You you could use string.Split(&#39;,&#39;) and look at the array. If it&#39;s user input there is no way to guarantee that they will divide countries with commas"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1543438125, "post_id": 53527436, "comment_id": 93924515, "body": "<code>bool scotlandExists = countries.Split(&#39;,&#39;).Contains(&quot;scotland&quot;);</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1543438281, "post_id": 53527436, "comment_id": 93924571, "body": "<code>bool scotlandExists = countries).Contains(&quot;scotland&quot;);</code> This may be less accurate, though, since it&#39;s not splitting on any defined separator character, so a country that has a name that&#39;s a subset of another country may return a false positive."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1543438551, "post_id": 53527436, "comment_id": 93924684, "body": "<code>This variable can hold many values at once e.g. &quot;england, scotland, wales&quot;.</code> I&#39;d suggest changing that variable to not be a <code>string</code> but be a <code>List&lt;string&gt;</code>. Using the wrong datatype, as you are here, is going to make these kinds of problems harder and harder. Use the right datatype, and the problem just disappears."}], "answers": [{"comments": [{"owner": {"reputation": 388, "user_id": 4659509, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bbc1eff6f66115cc25a310e70b6c6c3e?s=128&d=identicon&r=PG&f=1", "display_name": "Scriven", "link": "https://stackoverflow.com/users/4659509/scriven"}, "edited": false, "score": 0, "creation_date": 1543436727, "post_id": 53527495, "comment_id": 93923879, "body": "only problem is this is unfiltered user input. No way to ensure they will type in lowercase letters, or split countries with commas."}, {"owner": {"reputation": 6072, "user_id": 2142950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZGrD.png?s=128&g=1", "display_name": "Klaus G&#252;tter", "link": "https://stackoverflow.com/users/2142950/klaus-g%c3%bctter"}, "reply_to_user": {"reputation": 388, "user_id": 4659509, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bbc1eff6f66115cc25a310e70b6c6c3e?s=128&d=identicon&r=PG&f=1", "display_name": "Scriven", "link": "https://stackoverflow.com/users/4659509/scriven"}, "edited": false, "score": 0, "creation_date": 1543436847, "post_id": 53527495, "comment_id": 93923944, "body": "Indeed, other possible separators can be added to the Split call, e.g. <code>.Split(&#39;,&#39;, &#39;;&#39;, &#39; &#39;)</code>. Ignoring case is realized by the StringComparer in my solution."}, {"owner": {"reputation": 3891, "user_id": 9456781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zdM55.jpg?s=128&g=1", "display_name": "Tobias Tengler", "link": "https://stackoverflow.com/users/9456781/tobias-tengler"}, "edited": false, "score": 0, "creation_date": 1543438094, "post_id": 53527495, "comment_id": 93924488, "body": "The answer is correct, but i don&#39;t like the use of <code>_</code> in the lambda. Comes down to personal preference ultimately, but i wouldn&#39;t use a character here that&#39;s reserved for the discard of outs."}, {"owner": {"reputation": 6072, "user_id": 2142950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZGrD.png?s=128&g=1", "display_name": "Klaus G&#252;tter", "link": "https://stackoverflow.com/users/2142950/klaus-g%c3%bctter"}, "reply_to_user": {"reputation": 3891, "user_id": 9456781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zdM55.jpg?s=128&g=1", "display_name": "Tobias Tengler", "link": "https://stackoverflow.com/users/9456781/tobias-tengler"}, "edited": false, "score": 0, "creation_date": 1543465452, "post_id": 53527495, "comment_id": 93931603, "body": "@BoredomOverload bad habit from pre-C#7 times... I have always problems finding good names for lambda parameters. Many people use one-character names like <code>x</code> which I don&#39;t like, too. Descriptive names are often already used in the enclosing scope. To me it seems there is a language feature missing, something like an expression-local name scope."}], "tags": [], "owner": {"reputation": 6072, "user_id": 2142950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZGrD.png?s=128&g=1", "display_name": "Klaus G&#252;tter", "link": "https://stackoverflow.com/users/2142950/klaus-g%c3%bctter"}, "is_accepted": true, "score": 1, "last_activity_date": 1543436510, "creation_date": 1543436510, "answer_id": 53527495, "question_id": 53527436, "link": "https://stackoverflow.com/questions/53527436/how-to-determine-if-a-specific-value-exists-in-a-string-of-comma-separated-value/53527495#53527495", "title": "how to determine if a specific value exists in a string of comma-separated values?", "body": "<p>Using string.Split you can split into the individual countries:</p>\n\n<pre><code>var countries = stringVariable.Split(',').Select(_ =&gt; _.Trim()).ToArray();\n</code></pre>\n\n<p>then search for the country</p>\n\n<pre><code>if (countries.Contains(\"scotland\", StringComparer.CurrentCultureIgnoreCase))\n{\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10425264"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 53527495, "answer_count": 1, "score": -2, "last_activity_date": 1543437983, "creation_date": 1543436211, "last_edit_date": 1543437983, "question_id": 53527436, "link": "https://stackoverflow.com/questions/53527436/how-to-determine-if-a-specific-value-exists-in-a-string-of-comma-separated-value", "title": "how to determine if a specific value exists in a string of comma-separated values?", "body": "<p>I'm working on a project that stores information about customers. I have a variable that stores countries in which the customer has lived. This variable can hold many values at once e.g. \"england, scotland, wales\". It may be worth mentioning that these values are gained through input.</p>\n\n<p>I then later on in the code want to check what values the customer has entered. In this example the customer has entered the three values above. I want to determine if the customer has entered scotland. </p>\n\n<p>How do I search the original variable that holds the three values for the one value \"scotland\"?</p>\n"}, {"tags": ["c#", "ssl", "asp.net-core", "https"], "comments": [{"owner": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 0, "creation_date": 1543438089, "post_id": 53527426, "comment_id": 93924485, "body": "Have you tried <code>this.Request.ClientCertificate.Certificate</code> in your controller? Currently have never ending VS installer updates going so i haven&#39;t been able to test this"}, {"owner": {"reputation": 41, "user_id": 9824653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52bb0b94455900cc741bb73b4da9680?s=128&d=identicon&r=PG&f=1", "display_name": "HoloKnight", "link": "https://stackoverflow.com/users/9824653/holoknight"}, "reply_to_user": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 0, "creation_date": 1543440340, "post_id": 53527426, "comment_id": 93925442, "body": "I&#39;m using .Net Core 2.0... I tried <code>this.Request.ClientCertificate</code>, but there was no property for ClientCertificate :("}, {"owner": {"reputation": 41, "user_id": 9824653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52bb0b94455900cc741bb73b4da9680?s=128&d=identicon&r=PG&f=1", "display_name": "HoloKnight", "link": "https://stackoverflow.com/users/9824653/holoknight"}, "reply_to_user": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 0, "creation_date": 1543443151, "post_id": 53527426, "comment_id": 93926503, "body": "So, I got my code working; I just had to flip a switch in the Azure portal in the SSL settings. However, now I&#39;m getting &quot;403 Forbidden: Client Certificate Required&quot; message in Firefox. Maybe I&#39;m using the wrong kind of client cert?"}], "owner": {"reputation": 41, "user_id": 9824653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e52bb0b94455900cc741bb73b4da9680?s=128&d=identicon&r=PG&f=1", "display_name": "HoloKnight", "link": "https://stackoverflow.com/users/9824653/holoknight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 865, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1547588465, "creation_date": 1543436151, "last_edit_date": 1547588465, "question_id": 53527426, "link": "https://stackoverflow.com/questions/53527426/asp-net-core-web-app-how-to-get-a-clients-certificate", "title": "ASP.NET Core Web App: How to get a client&#39;s certificate", "body": "<p>My goal is to obtain the public key associated with a particular browser's/client's certificate info at runtime, and eventually store these public keys. </p>\n\n<hr>\n\n<p>Here's a high-level example.</p>\n\n<p><strong>Server</strong>: ASP.NET Core Web App, hosted in Azure</p>\n\n<p><strong>Device1</strong>: a Chrome browser, running on a Windows 10 laptop</p>\n\n<p><strong>Device2</strong>: a Firefox browser, running on a Google Pixel 2</p>\n\n<hr>\n\n<ul>\n<li><strong>Device1</strong> makes a GET request to <strong>Server</strong>; some code running on <strong>Server</strong> gets the public key of the cert used by Chrome; the public key is \"1122\"</li>\n<li><strong>Device2</strong> makes a GET request to <strong>Server</strong>; some code running on <strong>Server</strong> gets the public key of the cert used by Firefox; the public key is \"3344\"</li>\n</ul>\n\n<hr>\n\n<h1>What code do I need to write to get \"1122\" and \"3344\"?</h1>\n\n<p>I've looked at the <strong>X509Certificate2</strong> class, but all the examples I've seen are kind of confusing, and don't accomplish what I want (also, I've <em>never</em> messed with SSL certs in code before). I've also seen the <strong>HttpClientCertificate</strong> class, however I can't figure out how to use that class. I feel like there's a library out there that I'm just not seeing.</p>\n"}, {"tags": ["c#", "unity3d", "raycasting"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1543442487, "post_id": 53527411, "comment_id": 93926266, "body": "Can you confirm that the <code>transform.position</code> is the same between your two examples?"}, {"owner": {"reputation": 43, "user_id": 10719101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a5e323755b8acc088d211e9622d97a6?s=128&d=identicon&r=PG", "display_name": "Gleuq", "link": "https://stackoverflow.com/users/10719101/gleuq"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1543443294, "post_id": 53527411, "comment_id": 93926561, "body": "Yes, its the same. On 2nd example i just moved player first left and then right to go back (i always change rotation when the player is changing movement direction. For better example check movement in the game \u201eCrossy road\u201d)."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1543443505, "post_id": 53527411, "comment_id": 93926648, "body": "In the 2nd part, can you confirm if the ray <i>does</i> hit something with a tag that <i>isn&#39;t</i> <code>TerrainObject</code>?"}, {"owner": {"reputation": 43, "user_id": 10719101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a5e323755b8acc088d211e9622d97a6?s=128&d=identicon&r=PG", "display_name": "Gleuq", "link": "https://stackoverflow.com/users/10719101/gleuq"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1543444201, "post_id": 53527411, "comment_id": 93926898, "body": "At the moment ray only hit TerrainObject. I noticed that when player is the same rotation like on 2nd example and im changing rotation by 180 degree - for a moment ray hits TerrainObject. I dont understand Why Vektor3.right detects obstacle only when the player is in front of it. It should hit independently of rotation?"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1543444869, "post_id": 53527411, "comment_id": 93927133, "body": "I&#39;m wondering if it&#39;s a really strange rounding error and it&#39;s too low to collide with the <code>TerrainObject</code>. Try <code>Ray myRay = new Ray(transform.position+new Vector3(0f,0.02f,0f), Vector3.right);</code> to raycast from above the ground a little bit."}, {"owner": {"reputation": 43, "user_id": 10719101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a5e323755b8acc088d211e9622d97a6?s=128&d=identicon&r=PG", "display_name": "Gleuq", "link": "https://stackoverflow.com/users/10719101/gleuq"}, "reply_to_user": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1543449884, "post_id": 53527411, "comment_id": 93928425, "body": "Wow thanks, thats solved my problem! i forgot that my TerrainObjects are +0.15f on y-axis! Thank You very much! :)"}], "answers": [{"tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": true, "score": 2, "last_activity_date": 1543476766, "last_edit_date": 1543476766, "creation_date": 1543454470, "answer_id": 53530516, "question_id": 53527411, "link": "https://stackoverflow.com/questions/53527411/detect-obstacle-and-block-players-movement-with-raycast/53530516#53530516", "title": "Detect obstacle and block players movement with raycast", "body": "<p>As discussed in the comments, you need to increase the starting height of the raycast.</p>\n\n<p>Use <code>Ray myRay = new Ray(transform.position+new Vector3(0f,0.15f,0f), Vector3.right);</code> to raycast from above the ground a little bit.</p>\n"}], "owner": {"reputation": 43, "user_id": 10719101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a5e323755b8acc088d211e9622d97a6?s=128&d=identicon&r=PG", "display_name": "Gleuq", "link": "https://stackoverflow.com/users/10719101/gleuq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 1, "accepted_answer_id": 53530516, "answer_count": 1, "score": 4, "last_activity_date": 1543476766, "creation_date": 1543436076, "last_edit_date": 1543436917, "question_id": 53527411, "link": "https://stackoverflow.com/questions/53527411/detect-obstacle-and-block-players-movement-with-raycast", "title": "Detect obstacle and block players movement with raycast", "body": "<p>I'm new in Unity3D and I have a problem with collision detection. I want to return true if i hit the obstacle by raycast and block movement in this direction. It works good when im in front of the obstacle face to face. When i'm changing direction and i'm in front of the obstacle (but with another face direction) then it returns false and i can still move in all directions (it should block \"up\" movement like you see on first image).\nAny tips would be greatly appreciated!</p>\n\n<p>Returns true when obstacle is in front of us and we can't move \"up\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/KiKCK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KiKCK.png\" alt=\"\"></a></p>\n\n<p>Returns false when obstacle is in on our left or right</p>\n\n<p><a href=\"https://i.stack.imgur.com/hub0U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hub0U.png\" alt=\"\"></a></p>\n\n<p>Player is blocked after wrong move</p>\n\n<p><a href=\"https://i.stack.imgur.com/gjk19.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gjk19.png\" alt=\"\"></a></p>\n\n<p>Here is sample of my code:</p>\n\n<pre><code>void Update()\n{\n\n    Ray myRay = new Ray(transform.position, Vector3.right);\n    Debug.DrawRay(transform.position, Vector3.right, Color.red);\n\n    if (Physics.Raycast(myRay, out hit, 1.5f))\n    {\n        if (hit.collider.gameObject.tag == \"TerrainObject\")\n        {\n            Debug.DrawRay(transform.position, Vector3.right, Color.blue);\n            upHit = true;\n        }\n    }\n    else\n        upHit = false;\n    ...\n}\n</code></pre>\n"}, {"tags": ["c#", "selenium", "selenium-webdriver", "xpath", "selenium-chromedriver"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 8521804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1628bb44543e08267c05e147a2a204fd?s=128&d=identicon&r=PG&f=1", "display_name": "William Howell", "link": "https://stackoverflow.com/users/8521804/william-howell"}, "edited": false, "score": 0, "creation_date": 1543504198, "post_id": 53530049, "comment_id": 93950915, "body": "Thanks mate, it is all in the details."}], "tags": [], "owner": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "is_accepted": false, "score": 0, "last_activity_date": 1543450568, "creation_date": 1543450568, "answer_id": 53530049, "question_id": 53527381, "link": "https://stackoverflow.com/questions/53527381/selenium-chrome-selecting-a-checkbox-input-without-an-id/53530049#53530049", "title": "Selenium/Chrome - Selecting a Checkbox Input without an ID", "body": "<p>Here you're targeting the li:</p>\n\n<pre><code>new SelectElement(BaseTest.Driver.FindElement(By.CssSelector(\n  \"#CertificateToAdd&gt;li:nth-child(2)\"))).SelectByValue(\"172\");\n</code></pre>\n\n<p>Here your xpath means that input is a child of the label rather than a sibling:</p>\n\n<pre><code>new SelectElement(BaseTest.Driver.FindElement(By.XPath(\n  \"//*[@id=\"CertificatesToAdd\"]/li[2]/label/input\"))).SelectByValue(\"172\");\n</code></pre>\n\n<p>I think you can probably figure it out from there.</p>\n"}, {"comments": [{"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1543506261, "post_id": 53533476, "comment_id": 93952200, "body": "@WilliamHowell Upvote the answer if this/any answer is/was helpful to you for the benefit of the future readers."}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": true, "score": 1, "last_activity_date": 1543474829, "creation_date": 1543474829, "answer_id": 53533476, "question_id": 53527381, "link": "https://stackoverflow.com/questions/53527381/selenium-chrome-selecting-a-checkbox-input-without-an-id/53533476#53533476", "title": "Selenium/Chrome - Selecting a Checkbox Input without an ID", "body": "<p>To click on the <em>checkbox</em> associated with the <code>&lt;label&gt;</code> tags you can use the following solutions:</p>\n\n<ul>\n<li><p><em>Certificate of Registration</em>:</p>\n\n<pre><code>BaseTest.Driver.FindElement(By.XPath(\"//label[@class='checkbox'][normalize-space()='Certificate of Registration']/input[@class='add-certificate-checkbox']\")).Click();\n</code></pre></li>\n<li><p><em>Collection Agency License</em>:</p>\n\n<pre><code>BaseTest.Driver.FindElement(By.XPath(\"//label[@class='checkbox'][normalize-space()='Collection Agency License']/input[@class='add-certificate-checkbox']\")).Click();\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 69, "user_id": 8521804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1628bb44543e08267c05e147a2a204fd?s=128&d=identicon&r=PG&f=1", "display_name": "William Howell", "link": "https://stackoverflow.com/users/8521804/william-howell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 53533476, "answer_count": 2, "score": 2, "last_activity_date": 1543474829, "creation_date": 1543435966, "last_edit_date": 1543474777, "question_id": 53527381, "link": "https://stackoverflow.com/questions/53527381/selenium-chrome-selecting-a-checkbox-input-without-an-id", "title": "Selenium/Chrome - Selecting a Checkbox Input without an ID", "body": "<p>Thanks for the assistance in advance.\nNew to Selenium/Chrome and have had a good run of it until I hit  a specific scenario.</p>\n\n<p>I have a modal the contains 5 fields (3 drop-downs and a UL with 2 LI)  </p>\n\n<p>Each LI contains a label and input-checkbox.  </p>\n\n<p>All of the drop-downs have an Id so they were easy to manipulate with <code>FindElement(By.Id(\"ID\")).SelectText(\"TEXT\");</code></p>\n\n<p>However the Li's within the Ul do not have them and I have gotten NoSuchElementExceptions with every attempt to locate them.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul id=\"CertificatesToAdd\" name=\"CertificatesToAdd\" class=\"nav nav-list \r\n    checkbox-list add-certificate-required\" data-trigger=\"manual\" data- placement=\"top\"&gt;\r\n  &lt;li&gt;\r\n    &lt;label class=\"checkbox\" style=\"font-weight:normal !important;\"&gt;\r\n    &lt;input type=\"checkbox\" class=\"add-certificate-checkbox\" \r\n    value=\"171\"&gt;\r\n    Certificate of Registration\r\n    &lt;/label&gt;\r\n  &lt;/li&gt;\r\n  &lt;li&gt;\r\n    &lt;label class=\"checkbox\" style=\"font-weight:normal !important;\"&gt;\r\n    &lt;input type=\"checkbox\" class=\"add-certificate-checkbox\" \r\n    value=\"172\"&gt;\r\n    Collection Agency License\r\n    &lt;/label&gt;\r\n  &lt;/li&gt;\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I have tried both of the FindElement lines below the todo and both return\n<code>OpenQA.Selenium.NoSuchElementException: Unable to locate element</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>new SelectElement(BaseTest.Driver.FindElement(By.Id(\"AddCertificateCountry\")))\n  .SelectByText(\"Canada\");\nnew SelectElement(BaseTest.Driver.FindElement(By.Id(\"AddCertificateState\")))\n  .SelectByText(\"Alberta\");\n\n//TODO: correct input value for checkbox\nnew SelectElement(BaseTest.Driver.FindElement(By.CssSelector(\n  \"#CertificateToAdd&gt;li:nth-child(2)\"))).SelectByValue(\"172\");\n\nnew SelectElement(BaseTest.Driver.FindElement(By.XPath(\n  \"//*[@id=\"CertificatesToAdd\"]/li[2]/label/input\"))).SelectByValue(\"172\");\n</code></pre>\n\n\n\n<p>Any ideas would be helpful and appreciated.</p>\n"}, {"tags": ["c#", "wmi", "wmi-query"], "answers": [{"comments": [{"owner": {"reputation": 3874, "user_id": 1060314, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/smjhs.jpg?s=128&g=1", "display_name": "AJ Venturella", "link": "https://stackoverflow.com/users/1060314/aj-venturella"}, "edited": false, "score": 0, "creation_date": 1543505543, "post_id": 53530270, "comment_id": 93951759, "body": "Ah, ok so that answers it for me. I just need to do a kind of health check on a plugged in device. &quot;is it there, and if so is it ok&quot; and provide a browser to grab the DeviceID to check.  What Win32_PNPEntity provides will work. I just wanted to be sure I was not missing something."}], "tags": [], "owner": {"reputation": 994, "user_id": 7487150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sKhDN.png?s=128&g=1", "display_name": "Paul G", "link": "https://stackoverflow.com/users/7487150/paul-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1543452517, "creation_date": 1543452517, "answer_id": 53530270, "question_id": 53527353, "link": "https://stackoverflow.com/questions/53527353/how-to-get-all-available-pnpclass-names-from-wmi/53530270#53530270", "title": "How to get all available PNPClass names from WMI", "body": "<p>Unfortunately, Win32_PNPEntity doesn't map exactly to the data you would get from devcon.  Devcon gives you all the available classes on the system including System, filter, PNP, etc.  Win32_PNPEntity is just the plug and play devices.  Win32_PNPEntity data also depends on what hardware is currently connected.</p>\n\n<p>devcon is outputting all the data from the subkeys in  \"HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Class\" where there is no name/value called NoUseClass=1.  It's displaying the Class and ClassDesc values.  The ClassDesc value could be either a literal string, a reference to a value in a .inf or a reference from a dll so outputting that info would take some work.</p>\n\n<p>What are you trying to do with that data?  Maybe there is another way you can get the info you need?  If you are just trying to get the class info for connected PNP devices then your existing code should get the info you need.</p>\n"}], "owner": {"reputation": 3874, "user_id": 1060314, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/smjhs.jpg?s=128&g=1", "display_name": "AJ Venturella", "link": "https://stackoverflow.com/users/1060314/aj-venturella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "accepted_answer_id": 53530270, "answer_count": 1, "score": 1, "last_activity_date": 1543452517, "creation_date": 1543435797, "question_id": 53527353, "link": "https://stackoverflow.com/questions/53527353/how-to-get-all-available-pnpclass-names-from-wmi", "title": "How to get all available PNPClass names from WMI", "body": "<p>I can use <code>devcon.exe</code> and list all available classes:</p>\n\n<pre><code>C:\\devcon classes\nListing 111 setup classes.\nXboxComposite       : Xbox Peripherals\nRemotePosDevice     : POS Remote Device\nDigitalMediaDevices : Digital Media Devices\nPrintQueue          : Print queues\n\u2026\n</code></pre>\n\n<p>So from that I can see there are 111 setup classes. However, when I query for <code>Win32_PnPEntity</code>:</p>\n\n<pre><code>var query = new ManagementObjectSearcher(\"SELECT * FROM Win32_PnPEntity\");\nvar results = query.Get();\nvar set = new HashSet&lt;string&gt;();\n\nforeach(var device in results)\n{\n    var className = (string)device.GetPropertyValue(\"PNPClass\");\n    set.Add(className)\n}\n\nvar count = set.Count; // 25 &lt;---- not 111\n</code></pre>\n\n<p>I get 25, not 111. So My query is clearly a subset of what's actually available to the machine which makes sense. The classes that output from <code>devcon classes</code> line up with the <code>PNPClass</code> property value, so I assume they are the same.</p>\n\n<p>So there must be a way to fetch all the available <code>PNPClass</code>'s unless <code>devcon.exe</code> just hardcodes that list it outputs with <code>devcon classes</code></p>\n\n<p>I would like to generate this list myself programmatically, not invoking <code>devcon classes</code> as a subprocess and parsing it's output.</p>\n"}, {"tags": ["c#", "sql-server", "full-text-search"], "comments": [{"owner": {"reputation": 270, "user_id": 5999272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68c93781dcddc5b5012120d7d0b49522?s=128&d=identicon&r=PG&f=1", "display_name": "Thorin Jacobs", "link": "https://stackoverflow.com/users/5999272/thorin-jacobs"}, "edited": false, "score": 4, "creation_date": 1543435900, "post_id": 53527281, "comment_id": 93923526, "body": "Getting more information about the exception would help us tremendously, but I haven&#39;t seen contains() used with &quot;and&quot; before. Try replacing <code>contains(city, @words0 and @words1)</code> with <code>contains(city, @words0, @words1)</code>"}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 2, "creation_date": 1543436205, "post_id": 53527281, "comment_id": 93923655, "body": "I would rethink your approach, I would create a valid method for each filter instance and then create a <code>Dictionary&lt;string, Func&lt;SqlParameter[], Model&gt;&gt;</code> to call a dictionary with a method to be executed explicitly.  Then simply call the key you want, then use <code>.Invoke</code> to execute the proper implementation rather than a switch with case.  It will be more expressive in my opinion.  You receive the valid model of the data from the filter, then bind to your control."}], "answers": [{"comments": [{"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 4, "creation_date": 1543436133, "post_id": 53527345, "comment_id": 93923632, "body": "You don&#39;t put a <code>break</code> after each statement. You only put it <b>once</b> after the whole <code>case</code> block is done to prevent fall through."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 1, "creation_date": 1543436413, "post_id": 53527345, "comment_id": 93923742, "body": "I don&#39;t understand how this is relevant to the question.  The link provided (which links shouldn&#39;t be used as answers) is referring to declaring variables within the switch case using the same names as others declared within the following switch case(s).  The OP has used unique variable names in each switch case here already."}], "tags": [], "owner": {"reputation": 106, "user_id": 7323168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26d3f955754871f29120b3529f5c4648?s=128&d=identicon&r=PG&f=1", "display_name": "Netanel R", "link": "https://stackoverflow.com/users/7323168/netanel-r"}, "is_accepted": false, "score": -6, "last_activity_date": 1543435770, "creation_date": 1543435770, "answer_id": 53527345, "question_id": 53527281, "link": "https://stackoverflow.com/questions/53527281/sql-server-contains-predicate-not-working-with-multiple-search-terms/53527345#53527345", "title": "SQL Server contains predicate not working with multiple search terms", "body": "<p>I think it is a scope problem' knowen with switch case, for historical reasons.That why we have to put break after each statment. Try to have a look here.\n<a href=\"https://stackoverflow.com/questions/222601/variable-declaration-in-a-c-sharp-switch-statement\">Variable declaration in a C# switch statement</a></p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 10620379, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216900036229036/picture?type=large", "display_name": "Andriks Salvatierra", "link": "https://stackoverflow.com/users/10620379/andriks-salvatierra"}, "edited": false, "score": 0, "creation_date": 1543501028, "post_id": 53527820, "comment_id": 93948953, "body": "Thank you! I made the changes per your suggestion and this fixed my issue."}], "tags": [], "owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "is_accepted": true, "score": 0, "last_activity_date": 1543438865, "last_edit_date": 1543438865, "creation_date": 1543437930, "answer_id": 53527820, "question_id": 53527281, "link": "https://stackoverflow.com/questions/53527281/sql-server-contains-predicate-not-working-with-multiple-search-terms/53527820#53527820", "title": "SQL Server contains predicate not working with multiple search terms", "body": "<p>The reason your existing code doesn't work is that <code>contains</code> doesn't support three parameters in the way you are currently trying to call it.</p>\n\n<p>As per the <a href=\"https://docs.microsoft.com/en-us/sql/t-sql/queries/contains-transact-sql?view=sql-server-2017#querying-multiple-columns-full-text-search\" rel=\"nofollow noreferrer\">documentation</a>, I would suggest changing:</p>\n\n<pre><code>FROM Sites WHERE contains(site, @words0) OR contains (StreetAddress, @words0) OR contains(city, @words0)\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>FROM Sites WHERE contains((site, StreetAddress, city), @words0)\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>FROM Sites WHERE contains(site, @words0, @words1) OR contains (StreetAddress, @words0, @words1) OR contains(city, @words0, @words1)\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>FROM Sites WHERE contains((site, StreetAddress, city), @words0) OR contains((site, StreetAddress, city), @words1)\n</code></pre>\n\n<p>If you really want to use your current more verbose style, then <a href=\"https://docs.microsoft.com/en-us/sql/t-sql/queries/contains-transact-sql?view=sql-server-2017#i-using-contains-with-a-logical-operator-and\" rel=\"nofollow noreferrer\">Example I</a> suggests that:</p>\n\n<pre><code>FROM Sites WHERE contains(site, @wordsConcat) OR contains (StreetAddress, @wordsConcat) OR contains(city, @wordsConcat)\n</code></pre>\n\n<p><em>may</em> work, where <code>@wordsConcat</code> has been set (by C#) to:</p>\n\n<pre><code>words[0] + \" OR \" + words[1]\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10620379, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216900036229036/picture?type=large", "display_name": "Andriks Salvatierra", "link": "https://stackoverflow.com/users/10620379/andriks-salvatierra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 53527820, "answer_count": 2, "score": -1, "last_activity_date": 1543438865, "creation_date": 1543435435, "last_edit_date": 1543438651, "question_id": 53527281, "link": "https://stackoverflow.com/questions/53527281/sql-server-contains-predicate-not-working-with-multiple-search-terms", "title": "SQL Server contains predicate not working with multiple search terms", "body": "<p>I have a c# program that searches a table by the user's input. </p>\n\n<p>The keywords are split by a space and saved into an array.</p>\n\n<p>Then the switch statement will select the correct case based on having only entered one word, or two words.</p>\n\n<p>My switch statement only fills my datagrid for first case, but when attempting to use 2nd case, my program goes to the catch exception.</p>\n\n<p>I tried debugging, but the only thing I see is that when I enter case 2, it does not step beyond <code>sda1.Fill(dt1);</code></p>\n\n<p>Updated code:</p>\n\n<pre><code>static string myconnstr = ConfigurationManager.ConnectionStrings[\"connstrng\"].ConnectionString;       \n\nprivate void btnSearch_Click(object sender, EventArgs e)\n{\n    //Get the value from textbox\n    string keyword = txtboxKeyword.Text;\n    string[] words = keyword.Split(' ');\n\n    //SQL Connection\n    var conn = new SqlConnection(myconnstr);\n\n    try\n    {\n        switch (words.Length)\n        {\n            case 1:\n                    //Declare Command object with parameter\n                    SqlCommand cmd = new SqlCommand(\"SELECT Site, StreetAddress, City, State, Zip, PharmacyPhone, MDVersion, InstallDate, SiteCodes, SiteNotActive, CloseDate, SiteNotes \" +\n                                    \"FROM Sites WHERE contains(site, @words0) OR contains (StreetAddress, @words0) OR contains(city, @words0)\", conn);\n\n                    cmd.Parameters.AddWithValue(\"@words0\", words[0]);\n\n                    SqlDataAdapter sda = new SqlDataAdapter(cmd);\n                    DataTable dt = new DataTable();\n                    sda.Fill(dt);\n                    dataGridSites.ReadOnly = true;\n                    dataGridSites.DataSource = dt;\n                    dataGridSites.CurrentCell = null;\n                    break;\n                case 2:\n                    //Declare Command object with parameter\n                    SqlCommand cmd1 = new SqlCommand(\"SELECT Site, StreetAddress, City, State, Zip, PharmacyPhone, MDVersion, InstallDate, SiteCodes, SiteNotActive, CloseDate, SiteNotes \" +\n                                    \"FROM Sites WHERE contains(site, @words0, @words1) OR contains (StreetAddress, @words0, @words1) OR contains(city, @words0, @words1)\", conn);\n\n                    cmd1.Parameters.AddWithValue(\"@words0\", words[0]);\n                    cmd1.Parameters.AddWithValue(\"@words1\", words[1]);\n\n                    SqlDataAdapter sda1 = new SqlDataAdapter(cmd1);\n                    DataTable dt1 = new DataTable();\n                    sda1.Fill(dt1);\n                    dataGridSites.ReadOnly = true;\n                    dataGridSites.DataSource = dt1;\n                    dataGridSites.CurrentCell = null;\n                    break;                   \n        }\n    }\n    catch (Exception)\n    {\n        MessageBox.Show(\"Search cannot be blank.\");\n    }            \n}\n</code></pre>\n\n<p>Here is updated exception error I am getting:</p>\n\n<blockquote>\n  <p>System.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near\n  '@words1'. Error Number:102,State:1,Class:15</p>\n</blockquote>\n"}, {"tags": ["c#", "asp.net-core", "environment-variables"], "comments": [{"owner": {"reputation": 2490, "user_id": 7512742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/muuJz.png?s=128&g=1", "display_name": "Adam Vincent", "link": "https://stackoverflow.com/users/7512742/adam-vincent"}, "edited": false, "score": 0, "creation_date": 1543441088, "post_id": 53527234, "comment_id": 93925740, "body": "<code>Configuration</code> here should be the instance of <code>IConfiguration</code> in the Startup file"}, {"owner": {"reputation": 1494, "user_id": 1343595, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2032e4db8ab9dfa60955b2b14714a5ba?s=128&d=identicon&r=PG", "display_name": "Dani&#235;l Tulp", "link": "https://stackoverflow.com/users/1343595/dani%c3%abl-tulp"}, "reply_to_user": {"reputation": 2490, "user_id": 7512742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/muuJz.png?s=128&g=1", "display_name": "Adam Vincent", "link": "https://stackoverflow.com/users/7512742/adam-vincent"}, "edited": false, "score": 0, "creation_date": 1543833172, "post_id": 53527234, "comment_id": 94046521, "body": "when you down vote a post, please elaborate why"}, {"owner": {"reputation": 1494, "user_id": 1343595, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2032e4db8ab9dfa60955b2b14714a5ba?s=128&d=identicon&r=PG", "display_name": "Dani&#235;l Tulp", "link": "https://stackoverflow.com/users/1343595/dani%c3%abl-tulp"}, "reply_to_user": {"reputation": 2490, "user_id": 7512742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/muuJz.png?s=128&g=1", "display_name": "Adam Vincent", "link": "https://stackoverflow.com/users/7512742/adam-vincent"}, "edited": false, "score": 0, "creation_date": 1543833196, "post_id": 53527234, "comment_id": 94046530, "body": "@AdamVincent, yes it is an implementation of IConfiguration"}], "answers": [{"comments": [{"owner": {"reputation": 1494, "user_id": 1343595, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2032e4db8ab9dfa60955b2b14714a5ba?s=128&d=identicon&r=PG", "display_name": "Dani&#235;l Tulp", "link": "https://stackoverflow.com/users/1343595/dani%c3%abl-tulp"}, "edited": false, "score": 0, "creation_date": 1543440540, "post_id": 53528262, "comment_id": 93925528, "body": "this does indeed work, but does not quite answer all my questions also, be aware that this requires a restart of Visual Studio! (I did not vote you down by the way)"}, {"owner": {"reputation": 2490, "user_id": 7512742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/muuJz.png?s=128&g=1", "display_name": "Adam Vincent", "link": "https://stackoverflow.com/users/7512742/adam-vincent"}, "reply_to_user": {"reputation": 1494, "user_id": 1343595, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2032e4db8ab9dfa60955b2b14714a5ba?s=128&d=identicon&r=PG", "display_name": "Dani&#235;l Tulp", "link": "https://stackoverflow.com/users/1343595/dani%c3%abl-tulp"}, "edited": false, "score": 1, "creation_date": 1543440767, "post_id": 53528262, "comment_id": 93925606, "body": "this only requires a restart of visual studio because visual studio, as all applications, only retrieves the env variables on start. If you were to say launch your application with &#39;dotnet run&#39; you wouldn&#39;t run into the issue."}, {"owner": {"reputation": 1494, "user_id": 1343595, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2032e4db8ab9dfa60955b2b14714a5ba?s=128&d=identicon&r=PG", "display_name": "Dani&#235;l Tulp", "link": "https://stackoverflow.com/users/1343595/dani%c3%abl-tulp"}, "edited": false, "score": 0, "creation_date": 1543479875, "post_id": 53528262, "comment_id": 93936790, "body": "ok, so we have a VPS with IIS running and I want to securely store my connectionstrings somewhere on that machine, I can not find any good suggestion for that (everybody says to use Azure and we don&#39;t do that). Do you have any suggestions?"}, {"owner": {"reputation": 2490, "user_id": 7512742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/muuJz.png?s=128&g=1", "display_name": "Adam Vincent", "link": "https://stackoverflow.com/users/7512742/adam-vincent"}, "reply_to_user": {"reputation": 1494, "user_id": 1343595, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2032e4db8ab9dfa60955b2b14714a5ba?s=128&d=identicon&r=PG", "display_name": "Dani&#235;l Tulp", "link": "https://stackoverflow.com/users/1343595/dani%c3%abl-tulp"}, "edited": false, "score": 0, "creation_date": 1543495986, "post_id": 53528262, "comment_id": 93946088, "body": "No Azure keyvault? The best recommendation I can think of is encrypting the settings file on the on premise box.  There is an example of how to create a custom configuration provider on <a href=\"https://stackoverflow.com/questions/36062670/encrypted-configuration-in-asp-net-core\">this post</a>"}, {"owner": {"reputation": 1494, "user_id": 1343595, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2032e4db8ab9dfa60955b2b14714a5ba?s=128&d=identicon&r=PG", "display_name": "Dani&#235;l Tulp", "link": "https://stackoverflow.com/users/1343595/dani%c3%abl-tulp"}, "edited": false, "score": 0, "creation_date": 1546867594, "post_id": 53528262, "comment_id": 94983459, "body": "In the end I added the environment variable to the IIS website through the IIS manager: Select the website, open the Configuration editor, open settings for system.webServer/aspNetCore and there you can set the environment variables (restart of the website is required)"}], "tags": [], "owner": {"reputation": 2490, "user_id": 7512742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/muuJz.png?s=128&g=1", "display_name": "Adam Vincent", "link": "https://stackoverflow.com/users/7512742/adam-vincent"}, "is_accepted": true, "score": 4, "last_activity_date": 1543443648, "last_edit_date": 1543443648, "creation_date": 1543439942, "answer_id": 53528262, "question_id": 53527234, "link": "https://stackoverflow.com/questions/53527234/how-can-i-use-a-windows-environment-variable-in-my-net-core-api/53528262#53528262", "title": "How can I use a Windows environment variable in my .NET Core API?", "body": "<p><code>Configuration.*</code> reads from Application Configuration files. You're looking for </p>\n\n<p><code>Environment.GetEnvironmentVariable(\"CUSTOMCONNSTR_MyContextDb\")</code></p>\n\n<p>For the question of \"Where should connection strings be stored\", is not so easy to answer. It is a bit of an opinion question, and as usual <em>it depends</em>.</p>\n\n<p>If the only bit of configuration data that was expected to change, I would consider sticking to using just the appsettings.json for convenience.  If more configuration options were of concern, like running locally and on Azure, I may consider an overriding approach like <a href=\"https://tehremo.wordpress.com/2016/10/07/override-connection-strings-app-settings-in-asp-net-core-and-azure-app-service/\" rel=\"nofollow noreferrer\">this.</a> Another consideration would be the number of team members working on the same project. Each might have their own local database instance with different settings. In that case <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/app-secrets?view=aspnetcore-2.1&amp;tabs=windows\" rel=\"nofollow noreferrer\">SecretManager</a> might be a good option.</p>\n\n<p>There's lots of tools and methods to the madness, as you've probably seen so far. Unfortunately there isn't a catch-all solution I can recommend above others. I would stick with what you're trying now until it doesn't work.</p>\n\n<p>I don't believe you've misunderstood the concept overall, except \"windows defined environment variables\" and the other phrase \"real environment variables on my IIS server\".  Windows and IIS are still just software that someone else wrote. They don't have any more or less value than your environment variables.</p>\n\n<p>I've never set the environment variables in the tab you mentioned, so I had no idea that's stored in the launchSettings.json. I'll have to dig more on that later.</p>\n"}, {"comments": [{"owner": {"reputation": 1494, "user_id": 1343595, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2032e4db8ab9dfa60955b2b14714a5ba?s=128&d=identicon&r=PG", "display_name": "Dani&#235;l Tulp", "link": "https://stackoverflow.com/users/1343595/dani%c3%abl-tulp"}, "edited": false, "score": 0, "creation_date": 1543479756, "post_id": 53529509, "comment_id": 93936730, "body": "GetConnectionString can also read from launchsettings.json if you have set AddEnvironmentVariables in the WebHost builder"}], "tags": [], "owner": {"reputation": 1179, "user_id": 9484842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4b323ae6f3dcdbba8e57ce81a29035a?s=128&d=identicon&r=PG", "display_name": "Tim Cadenbach", "link": "https://stackoverflow.com/users/9484842/tim-cadenbach"}, "is_accepted": false, "score": 1, "last_activity_date": 1582859685, "last_edit_date": 1582859685, "creation_date": 1543446662, "answer_id": 53529509, "question_id": 53527234, "link": "https://stackoverflow.com/questions/53527234/how-can-i-use-a-windows-environment-variable-in-my-net-core-api/53529509#53529509", "title": "How can I use a Windows environment variable in my .NET Core API?", "body": "<p>I think there's a clear misunderstanding of environment variables here.</p>\n\n<p>When talking about the configuration of a single ASP application, especially since Docker is a thing, etc., an environment variable means a configuration variable for that specific application stored in appsettings.json or launchsettings.json.</p>\n\n<p>The Windows environment variables are not meant here and usually are not taken into account for ASP.NET Core applications for quite a few reasons.</p>\n\n<p>Your snippet there:</p>\n\n<pre><code>var connectionString = Configuration.GetConnectionString(\"MyContextDb\");\n</code></pre>\n\n<p>is explicitly reading data from the \"ConnectionString\" section in appsettings.json. You can't overwrite that.</p>\n\n<p>The best approach to have \"per user\" settings is in my eyes to use one global appsettings.json with values valid for all developers/users and every user has its own appsettings_develop.json containing his/her personal connection string and so on. The personal one is added to gitignore and not committed and only living on the user's machine.</p>\n\n<p>I'd advise not to use any environment variables from the host system (your Windows <em>User</em> environment variables there, for example) as you'd need to make sure they exist everywhere you want to use your application, if you put it in Docker the Docker container needs to have them, etc., can't commit environment variables using GitHub or <a href=\"https://en.wikipedia.org/wiki/Team_Foundation_Server\" rel=\"nofollow noreferrer\">TFS</a>. JSON configurations are your best option I'd say.</p>\n"}, {"tags": [], "owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1543480542, "creation_date": 1543480542, "answer_id": 53534785, "question_id": 53527234, "link": "https://stackoverflow.com/questions/53527234/how-can-i-use-a-windows-environment-variable-in-my-net-core-api/53534785#53534785", "title": "How can I use a Windows environment variable in my .NET Core API?", "body": "<p>The code for the <code>GetConnectionString</code> method looks like <a href=\"https://github.com/aspnet/Extensions/blob/release/2.1/src/Configuration/Config.Abstractions/src/ConfigurationExtensions.cs#L34\" rel=\"nofollow noreferrer\">this</a>:</p>\n\n<pre><code>public static string GetConnectionString(this IConfiguration configuration, string name)\n{\n    return configuration?.GetSection(\"ConnectionStrings\")?[name];\n}\n</code></pre>\n\n<p>This shows that the connection-string itself must live inside a <code>ConnectionStrings</code> section. As your <code>IConfiguration</code> instance represents what is essentially a dictionary of <code>string</code> to <code>string</code>, this ends up looking for a key named <code>ConnectionStrings:[name]</code>.</p>\n\n<p>To resolve the problem with your environment variable not being found, you should name it <code>ConnectionStrings:MyContextDb</code> (you can also use <code>__</code> instead of <code>:</code>, but <code>:</code> is much more common).</p>\n\n<p>When I first read your question, I was surprised that adding it to the <code>launchSettings.json</code> file made it work, but I've since discovered that this value of <code>CUSTOMCONNSTR_MyContextDb</code> is being converted into <code>ConnectionStrings:MyContextDb</code> for you. You can confirm this by using something like this:</p>\n\n<pre><code>new ConfigurationBuilder()\n    .AddEnvironmentVariables()\n    .Build()\n    .AsEnumerable()\n    .ToList()\n    .ForEach(x =&gt; Console.WriteLine(\"{0} =&gt; {1}\", x.Key, x.Value));\n</code></pre>\n\n<p>That's just a very cheap and cheerful way of viewing all of the key/value pairs that have been added to an <code>IConfiguration</code> instance.</p>\n"}], "owner": {"reputation": 1494, "user_id": 1343595, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2032e4db8ab9dfa60955b2b14714a5ba?s=128&d=identicon&r=PG", "display_name": "Dani&#235;l Tulp", "link": "https://stackoverflow.com/users/1343595/dani%c3%abl-tulp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5217, "favorite_count": 0, "accepted_answer_id": 53528262, "answer_count": 3, "score": 4, "last_activity_date": 1582859685, "creation_date": 1543435267, "last_edit_date": 1582859121, "question_id": 53527234, "link": "https://stackoverflow.com/questions/53527234/how-can-i-use-a-windows-environment-variable-in-my-net-core-api", "title": "How can I use a Windows environment variable in my .NET Core API?", "body": "<p>We are creating an .NET Core 2.1 application with a Web API project that connects to a SQL Server database.</p>\n\n<p>I am trying to get my head around the proper use of environment variables when it comes storing my connection strings in the most secure location possible.</p>\n\n<p>When I heard that I could use environment variables to store things like a connection string that sounded really good. It is secure and we can have the variables differ from developer to developer and on staging and production environment. Which is useful as they do not all have the same name for their SQL Server instance.</p>\n\n<p>But when I now add a connection string to my Windows environment variables like so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PhhGs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PhhGs.png\" alt=\"Enter image description here\"></a></p>\n\n<p>or through the PowerShell like so:</p>\n\n<pre><code>setx CUSTOMCONNSTR_MyContextDb \"Server=.\\\\MYSQLSERVER;Database=MyDb_local;Trusted_Connection=True;ConnectRetryCount=0\"\n</code></pre>\n\n<p>And I try to get it like so:</p>\n\n<pre><code>var connectionString = Configuration.GetConnectionString(\"MyContextDb\");\n</code></pre>\n\n<p>But this does not work. The string is null.</p>\n\n<p>I can only get this line of code to work if I add the CUSTOMCONNSTR_MyContextDb variable and the value to the environment variables when I go to the properties of the project and than enter the environment variable there on the Debug tab. Which basically just sets them in the launchSettings.json file. This hardly seems a better location than appsettings.json (or is it?).</p>\n\n<p>Have I misunderstood the use of environment variables in .NET Core? Can I not use the windows-defined environment variables? Or can I only use real Windows environment variables on my IIS server?</p>\n\n<p>It looks like I can, because I see a list of over 80 environment variables when I debug and look at the Configuration object.</p>\n\n<p>For reference, <a href=\"https://codeopinion.com/environment-variables-asp-net-core/\" rel=\"nofollow noreferrer\">this post</a> with a short YouTube clip helped me to better understand the concepts around this, but I do not fully grasp everything, and I hope you can help.</p>\n"}, {"tags": ["c#", "session", "asp.net-web-api"], "comments": [{"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 0, "creation_date": 1543435645, "post_id": 53527224, "comment_id": 93923402, "body": "<code>I expect it is always null</code> why? this thread previously processed another request and might set value"}, {"owner": {"reputation": 7084, "user_id": 492258, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/mVt7n.jpg?s=128&g=1", "display_name": "asdf_enel_hak", "link": "https://stackoverflow.com/users/492258/asdf-enel-hak"}, "reply_to_user": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 0, "creation_date": 1543435750, "post_id": 53527224, "comment_id": 93923457, "body": "Ilya, it is null &quot;most of time&quot;, even calling from the same client."}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 1, "creation_date": 1543435768, "post_id": 53527224, "comment_id": 93923467, "body": "and what? you don&#39;t know which thread on server will pick request"}, {"owner": {"reputation": 7199, "user_id": 2385218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1da27354c3389d229f58bffc5b28a11?s=128&d=identicon&r=PG", "display_name": "sellotape", "link": "https://stackoverflow.com/users/2385218/sellotape"}, "edited": false, "score": 1, "creation_date": 1543441372, "post_id": 53527224, "comment_id": 93925861, "body": "As Ilya implies, <code>SetData()</code> is a poor choice here. That data persists when the thread is returned to the thread pool, where it will be reused for another request, or an async continuation. It also won&#39;t flow across async junctions. If the code uses async and relies on that data I&#39;d expect it is pretty flaky. The usual way identity is done in .NET is to set <code>Thread.CurrentPrincipal</code>. If that&#39;s too much change you could switch to using <code>CallContext.LogicalSetData()</code> (if you&#39;re using .NET4.5 or later), which in theory does not suffer from the above 2 problems."}], "owner": {"reputation": 7084, "user_id": 492258, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/mVt7n.jpg?s=128&g=1", "display_name": "asdf_enel_hak", "link": "https://stackoverflow.com/users/492258/asdf-enel-hak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543435237, "creation_date": 1543435237, "question_id": 53527224, "link": "https://stackoverflow.com/questions/53527224/web-api-behaves-stateful-in-some-successive-calls-from-different-client-issue", "title": "Web api behaves &quot;stateful&quot; in some successive calls from different client issue", "body": "<p>I have a web api consumed by mobile apps. I can reproduce case with postman also with appropriate params.</p>\n\n<p>Here are my postman call captured by fiddler:</p>\n\n<pre><code>GET http://localhost/WebApi/api/User/GetAnnouncement?id=22 HTTP/1.1\nContent-Type: application/json\nApiKey: someKey\nAuthenticationToken: someGuid1\nUserId: 6524\nDeviceId: someGuid2\nLocalDate: 538294155.662561\nOsTypeId: 1\nLoginToken: someGuid3\nCompanyId: 2\ncache-control: no-cache\nPostman-Token: b863afdd-b04c-4a4d-b473-69d5ecef622e\nUser-Agent: PostmanRuntime/7.4.0\nAccept: */*\nHost: localhost\ncookie: ASP.NET_SessionId=nk4g3zzfyi0n3xomfw5dxxxx\naccept-encoding: gzip, deflate\nConnection: keep-alive\n</code></pre>\n\n<p>and my issue occurs in authorize action filter:</p>\n\n<pre><code>    public class BasicAuthorizeAttribute : FilterAttribute\n    {\n\n    }\n\n    public class BasicAuthorizeFilter : AuthorizationFilterAttribute\n    {\n        public override void OnAuthorization(HttpActionContext actionContext)\n        {\n         //!!!HERE when I debug, in watch I can see already authHeader has value \"in some calls\"\n\nSystem.Threading.Thread.SetData( System.Threading.Thread.GetNamedDataSlot(\"authHeader\"), \"someValueComingFromRequestHeader\" );\n        }\n    }\n</code></pre>\n\n<p>At the very beginning of the OnAuthorization (see !!!HERE line in the code), I can see in watch this expression:</p>\n\n<pre><code>System.Threading.Thread.GetData(System.Threading.Thread.GetNamedDataSlot(\"authHeader\"))\n</code></pre>\n\n<p>has the value even though I expect it is always null. It has even the value from previous client.</p>\n\n<p>Actually issue come to as a bug \"session\" mingled (I mean mixed).</p>\n\n<p>This pieces code is on the my company's framework so something is weirdly wrong.\nI can give as much as I can so far. Please ask any info necessary.</p>\n\n<p>What could be the cause?</p>\n\n<p>I am daring to ask this because it is possible the issue obvious may be.</p>\n\n<p>Note: I have the same case while none debugging with two phones connected to my pc via proxy settings.</p>\n"}, {"tags": ["c#", "console-application"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1543447365, "post_id": 53527213, "comment_id": 93927776, "body": "Use Console.CursorLeft/Top before SetCursorPosition, store them in two variables.  Then you can use SetCursorPosition again to put it back where it came from."}], "answers": [{"tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": false, "score": 0, "last_activity_date": 1543435445, "creation_date": 1543435445, "answer_id": 53527285, "question_id": 53527213, "link": "https://stackoverflow.com/questions/53527213/how-to-set-the-cursor-in-a-console-application-to-the-end/53527285#53527285", "title": "How to set the cursor in a console application to the end?", "body": "<p>Rather than trying to detect, based on the text of the console, where your cursor was before you started changing it, it's easier to just store the position of the cursor (by reading the property values and storing them in variables) before changing it, so that you know where to go back to.</p>\n"}], "owner": {"reputation": 458, "user_id": 9598345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wx9nB.jpg?s=128&g=1", "display_name": "AlpakaJoe", "link": "https://stackoverflow.com/users/9598345/alpakajoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543435445, "creation_date": 1543435206, "question_id": 53527213, "link": "https://stackoverflow.com/questions/53527213/how-to-set-the-cursor-in-a-console-application-to-the-end", "title": "How to set the cursor in a console application to the end?", "body": "<p>Lets say i have a console application with these commands:</p>\n\n<pre><code>Console.WriteLine(\"Line1\");\nConsole.WriteLine(\"Line2\");\nConsole.WriteLine(\"Line3\");\nConsole.SetCursorPosition(1,0);\nConsole.Write(\"\\b\");\n</code></pre>\n\n<p>So that the result will look like this:</p>\n\n<pre><code>ine1\nLine2\nLine3\n</code></pre>\n\n<p>How can i set the cursor Position to the end of everything, so that the cursor Position is after <code>Line3</code>?</p>\n\n<p>I can't set it to something like <code>Cursor.SetCursorPosition(0,3)</code> because the length of all lines is not always the same. </p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 2687, "user_id": 3474290, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/599235837/picture?type=large", "display_name": "spectacularbob", "link": "https://stackoverflow.com/users/3474290/spectacularbob"}, "is_accepted": true, "score": 1, "last_activity_date": 1543447618, "last_edit_date": 1543447618, "creation_date": 1543438785, "answer_id": 53528009, "question_id": 53527094, "link": "https://stackoverflow.com/questions/53527094/keeping-same-camera-view-across-multiple-mobile-resolutions/53528009#53528009", "title": "Keeping same camera view across multiple mobile resolutions", "body": "<p>Supporting multiple aspect ratios for games is definitely one of the most frustrating things about making a game look professional.</p>\n\n<p>Probably the most common technique is the same technique used by Film, called letterboxing.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ytspw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ytspw.jpg\" alt=\"Letterboxing Example\"></a></p>\n\n<p>TVs had to solve a problem when widescreen first came out: How do you show a 16:9 film on a TV with an aspect of 4:3? There are two options: either add black bars to the top and bottom of the screen to make the aspect 4:3, or you can make sure that everything important is happening in the middle area that will be shown by both aspect ratios and then just cut off part of the view if it doesn't fit within the aspect ratio.</p>\n\n<p>My suggestion is to surround the playable area with something that looks good, but wont affect the game if it gets cut off. Then write a routine that will run when your level loads for your camera to zoom out until all of the play area is visible. Since you zoomed out, this means that devices which do not have the same aspect ratio as your play area will be able to see the area around the play area. As long as you have non-play area that is big enough, there won't be an issue.</p>\n\n<p>Here are some good examples:<a href=\"https://i.stack.imgur.com/N93MF.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N93MF.jpg\" alt=\"Black Bars\"></a><a href=\"https://i.stack.imgur.com/8Pkmr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Pkmr.jpg\" alt=\"Extra Play Example\"></a></p>\n\n<p>Note: Sorry the examples are orthographic, but the same should work for perspective, you just may have to be a little creative with doing a projection from the camera frustrum to determine if your play area is all visible</p>\n"}], "owner": {"reputation": 77, "user_id": 6432692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef5577facc7927545e6f6d95cf07d594?s=128&d=identicon&r=PG&f=1", "display_name": "cjpartin", "link": "https://stackoverflow.com/users/6432692/cjpartin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 53528009, "answer_count": 1, "score": 1, "last_activity_date": 1543447618, "creation_date": 1543434750, "question_id": 53527094, "link": "https://stackoverflow.com/questions/53527094/keeping-same-camera-view-across-multiple-mobile-resolutions", "title": "Keeping same camera view across multiple mobile resolutions", "body": "<p>I'm creating a 3D mobile game where my base reference screen size is the Galaxy S9, with an aspect ratio of 18:37 (portrait). The player controls a box where you can move +/- 5 units along X axis and objects fall down that you have to either avoid or catch.</p>\n\n<p>That part is easy, the hard part is that when I change the aspect ratio or resolution, the game scale changes as well, and now +/- 5 units on the X axis means my box can be cut off, or completely off screen. </p>\n\n<p>My goal is to limit the camera view so that it always shows the same coordinates no matter the aspect ratio or resolution, within reason (being portrait mode on a phone, obviously don't want to care about it working in landscape or on a PC/Mac). </p>\n\n<p>How can I accomplish this with the minimum amount of stretching or distortion to the game objects? I saw some people show a way to accomplish this for orthographic views, but my camera must be in perspective for this. The default FoV I'm using is 60, and I'm thinking I can try scaling the FoV based on aspect ratio, but I'm at a loss for how to start. Any help is appreciated!</p>\n"}, {"tags": ["c#", ".net", "deserialization", "xml-deserialization", "ixmlserializable"], "comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1543625291, "post_id": 53527040, "comment_id": 93999253, "body": "Possibly related: <a href=\"https://stackoverflow.com/q/50304153/3744182\">Xmlserializer to C# object, store original XML element</a>.  Does that answer your question?  It shows an example of loading the entire element corresponding to the <code>IXmlSerializable</code> node into an <code>XElement</code>."}, {"owner": {"reputation": 450, "user_id": 726031, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5405eca0150ca9c6d325e84e49511df8?s=128&d=identicon&r=PG", "display_name": "elusive", "link": "https://stackoverflow.com/users/726031/elusive"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1543958317, "post_id": 53527040, "comment_id": 94103552, "body": "Not exactly, since that example the element name being deserialized is known before runtime. I do get all of the data I need at the <code>ItemProperty</code> level, but I believe the reader isn&#39;t advancing since <code>ItemData.Items</code> only ever contains one item. See the edit at the bottom. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "is_accepted": false, "score": 2, "last_activity_date": 1543969831, "creation_date": 1543969831, "answer_id": 53623443, "question_id": 53527040, "link": "https://stackoverflow.com/questions/53527040/ixmlserializable-readxml-implementation/53623443#53623443", "title": "IXmlSerializable ReadXml implementation", "body": "<p>From the documentation for <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.xml.serialization.ixmlserializable.readxml?view=netframework-4.7.2#System_Xml_Serialization_IXmlSerializable_ReadXml_System_Xml_XmlReader_\" rel=\"nofollow noreferrer\"><code>IXmlSerializable.ReadXml(XmlReader)</code></a>:</p>\n\n<blockquote>\n  <p>When this method is called, the reader is positioned on the start tag that wraps the information for your type. ... When this method returns, it must have read the entire element from beginning to end, including all of its contents. Unlike the <code>WriteXml</code> method, the framework does not handle the wrapper element automatically. Your implementation must do so. Failing to observe these positioning rules may cause code to generate unexpected runtime exceptions or corrupt data. </p>\n</blockquote>\n\n<p>Your <code>ReadXml()</code> can be modified to meet these requirements as follows:</p>\n\n<pre><code>public void ReadXml(XmlReader reader)\n{\n    reader.MoveToContent();\n\n    this.Name = reader.LocalName; // Do not include the prefix (if present) in the Name.\n\n    if (reader.HasAttributes)\n    {\n        var id = reader.GetAttribute(\"id\");\n        if (id != null)\n            // Since id is missing from some elements you might want to make it nullable\n            this.Id = XmlConvert.ToInt32(id);\n\n        var order = reader.GetAttribute(\"itemOrder\");\n        if (order != null)\n            // Since itemOrder is missing from some elements you might want to make it nullable\n            this.Order = XmlConvert.ToInt32(order);\n\n        string sequence = reader.GetAttribute(\"seq\");\n        //There is no Sequence property?\n        //this.Sequence = Convert.ToInt32(sequence);\n    }\n\n    // Read element value.\n    // This method reads the start tag, the contents of the element, and moves the reader past the end element tag.\n    // thus there is no need for an additional Read()\n    this.Value = reader.ReadElementContentAsString();\n}\n</code></pre>\n\n<p>Notes:</p>\n\n<ol>\n<li><p>You are calling <code>ReadElementString()</code> whose documentation <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.xml.xmlreader.readelementstring?view=netframework-4.7.2#System_Xml_XmlReader_ReadElementString\" rel=\"nofollow noreferrer\">states</a>:</p>\n\n<blockquote>\n  <p>We recommend that you use the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.xml.xmlreader.readelementcontentasstring?view=netframework-4.7.2#System_Xml_XmlReader_ReadElementContentAsString\" rel=\"nofollow noreferrer\"><code>ReadElementContentAsString()</code></a> method to read a text element.</p>\n</blockquote>\n\n<p>As suggested, I modified your <code>ReadXml()</code> to use this method.  In turn, its documentation <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.xml.xmlreader.readelementcontentasstring?view=netframework-4.7.2#System_Xml_XmlReader_ReadElementContentAsString\" rel=\"nofollow noreferrer\">states</a>:</p>\n\n<blockquote>\n  <p>This method reads the start tag, the contents of the element, and moves the reader past the end element tag.</p>\n</blockquote>\n\n<p>Thus this method should leave the <code>XmlReader</code> positioned exactly as required by <code>ReadXml()</code>, ensuring the reader is advanced properly.</p></li>\n<li><p>The XML attributes of each <code>ItemProperty</code> element must be processed before that element's content is read, since reading the content advances the reader past the element start -- and its attributes.</p></li>\n<li><p>Utilities from the <a href=\"https://docs.microsoft.com/de-de/dotnet/api/system.xml.xmlconvert?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>XmlConvert</code></a> class should be used to parse and format XML primitives so that numerical and date/time values are not erroneously localized.</p></li>\n<li><p>You probably don't want to include the namespace prefix (if any) in the <code>Name</code> property.</p></li>\n</ol>\n\n<p>Demo fiddle <a href=\"https://dotnetfiddle.net/2HzbsN\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 450, "user_id": 726031, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5405eca0150ca9c6d325e84e49511df8?s=128&d=identicon&r=PG", "display_name": "elusive", "link": "https://stackoverflow.com/users/726031/elusive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 889, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1543970094, "creation_date": 1543434514, "last_edit_date": 1543970094, "question_id": 53527040, "link": "https://stackoverflow.com/questions/53527040/ixmlserializable-readxml-implementation", "title": "IXmlSerializable ReadXml implementation", "body": "<p>I am trying to get the name of an XML tag into a class property when performing XML deserialization. I need the name as a property since multiple XML tags share the same class. The XML and associated classes are defined below.</p>\n\n<p>I have an XML response which I receive in the format:</p>\n\n<pre><code>&lt;Data totalExecutionTime=\"00:00:00.0467241\"&gt;\n    &lt;ItemNumber id=\"1234\" order=\"0\" createdDate=\"2017-03-24T12:07:09.07\" modifiedDate=\"2018-08-29T16:59:19.127\"&gt;\n        &lt;Value modifiedDate=\"2017-03-24T12:07:12.77\"&gt;ABC1234&lt;/Value&gt;\n        &lt;Category id=\"5432\" parentID=\"9876\" itemOrder=\"0\" modifiedDate=\"2017-03-24T12:16:23.687\"&gt;The best category&lt;/Category&gt;\n        ... &lt;!-- like 100 other elements --&gt;\n    &lt;/ItemNumber&gt;\n&lt;/Data&gt;\n</code></pre>\n\n<p>Deserialize done as follows:</p>\n\n<pre><code>XmlSerializer serializer = new XmlSerializer(typeof(ItemData));\nusing (TextReader reader = new StringReader(response))\n{\n    ItemData itemData = (ItemData)serializer.Deserialize(reader);\n}\n</code></pre>\n\n<p>And a class for the top level, <code>ItemData</code>:</p>\n\n<pre><code>[Serializable]\n[XmlRoot(\"Data\")]\npublic class ItemData\n{\n    [XmlAttribute(\"totalExecutionTime\")]\n    public string ExecutionTime { get; set; }\n\n    [XmlElement(\"ItemNumber\", Type = typeof(ItemBase))]\n    public List&lt;ItemBase&gt; Items { get; set; }\n}\n</code></pre>\n\n<p><code>ItemBase</code> is defined as:</p>\n\n<pre><code>[Serializable]\npublic class ItemBase\n{\n    [XmlElement(\"Value\")]\n    public virtual ItemProperty ItemNumber { get; set; } = ItemProperty.Empty;\n\n    [XmlElement(\"ItemName\")]\n    public virtual ItemProperty Category { get; set; } = ItemProperty.Empty;\n\n    ... // like 100 other properties\n}\n</code></pre>\n\n<p>And finally <code>ItemProperty</code>:</p>\n\n<pre><code>public class ItemProperty : IXmlSerializable\n{\n    public static ItemProperty Empty { get; } = new ItemProperty();\n\n    public ItemProperty()\n    {\n        this.Name = string.Empty;\n        this.Value = string.Empty;\n        this.Id = 0;\n        this.Order = 0;\n    }\n\n    public string Name { get; set; }\n\n    [XmlText] // no effect while using IXmlSerializable\n    public string Value { get; set; }\n\n    [XmlAttribute(\"id\")] // no effect while using IXmlSerializable\n    public int Id { get; set; }\n\n    [XmlAttribute(\"itemOrder\")] // no effect while using IXmlSerializable\n    public int Order { get; set; }\n\n    public XmlSchema GetSchema()\n    {\n        return null;\n    }\n\n    public void ReadXml(XmlReader reader)\n    {\n        reader.MoveToContent();\n\n        string name = reader.Name;\n        this.Name = name;\n\n        string val = reader.ReadElementString();\n        this.Value = val;\n\n        if (reader.HasAttributes)\n        {\n            string id = reader.GetAttribute(\"id\");\n            this.Id = Convert.ToInt32(id);\n\n            string itemOrder = reader.GetAttribute(\"itemOrder\");\n            this.Order = Convert.ToInt32(itemOrder);\n\n            string sequence = reader.GetAttribute(\"seq\");\n            this.Sequence = Convert.ToInt32(sequence);\n        }\n\n        // it seems the reader doesn't advance to the next element after reading\n        if (reader.NodeType == XmlNodeType.EndElement &amp;&amp; !reader.IsEmptyElement)\n        {\n            reader.Read();\n        }\n    }\n\n    public void WriteXml(XmlWriter writer)\n    {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n\n<p>The point of implementing the <code>IXmlSerializable</code> interface is because ultimately I need the name of the XML tag that is stored as an <code>ItemProperty</code> and that information is not captured when using the XML class/property attributes. I believe this is the case since the attributes determine which class to use for the deserialization and normally each XML tag would have an associated class. I don't want to go that direction since there are such a large number of different tags that may be in the response and they all share similar attributes. Hence the <code>ItemProperty</code> class.</p>\n\n<p>I've tried also passing the name of the tag via a parameterized constructor in the <code>ItemProperty</code> and setting the name property there, but when deserialization is performed, it uses the default constructor and then sets the property values, so that is not an option.</p>\n\n<p>Reflection doesn't work either since the class is always <code>ItemProperty</code> and therefore doesn't have a unique name.</p>\n\n<p>Maybe how I'm structuring the XML attributes could be done differently to achieve what I'm trying to do, but I don't see it.</p>\n\n<p>I'm open to any way to solve this problem, but I'm pretty sure it entails implementing <code>IXmlSerializable.ReadXml()</code>. I know it is the job of the <code>XmlReader</code> to read the entirety of the XML and advance the reader to the end of the text, but I'm a little unclear on how to do that. </p>\n\n<p>TLDR: <strong>How do I properly implement <code>IXmlSerializable.ReadXml()</code> while capturing the XML tag name, tag value, and all attributes into the class properties?</strong></p>\n\n<p>Edit: with the updated <code>ReadXml</code> method, I get all the data needed at the <code>ItemProperty</code> level, but class <code>ItemData</code>, the <code>Items</code> list only ever has one item. I assume because I am not advancing the reader properly.</p>\n"}, {"tags": ["c#", "multithreading", "parallel.foreach"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 4, "creation_date": 1543434544, "post_id": 53526969, "comment_id": 93922908, "body": "You could fix the output of the numbers by adding <code>var x = i;</code> and changing the function call to use <code>&quot;Word: &quot; + x</code> as the parameter instead, so that&#39;s a closure issue."}, {"owner": {"reputation": 191, "user_id": 825618, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9b8c7cee7ae8e6ac36cc8b090854007f?s=128&d=identicon&r=PG", "display_name": "N0ug4t", "link": "https://stackoverflow.com/users/825618/n0ug4t"}, "edited": false, "score": 1, "creation_date": 1543434675, "post_id": 53526969, "comment_id": 93922971, "body": "I think you&#39;re running into an issue similar to the one here: <a href=\"https://stackoverflow.com/questions/271440/captured-variable-in-a-loop-in-c-sharp\" title=\"captured variable in a loop in c sharp\">stackoverflow.com/questions/271440/&hellip;</a> The key takeaway is: Your lamba has a reference to a variable which is scoped outside the function itself. Your lamba is not interpreted until you invoke it and once it is it will get the value the variable has at execution time."}, {"owner": {"reputation": 388, "user_id": 4659509, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bbc1eff6f66115cc25a310e70b6c6c3e?s=128&d=identicon&r=PG&f=1", "display_name": "Scriven", "link": "https://stackoverflow.com/users/4659509/scriven"}, "edited": false, "score": 0, "creation_date": 1543434684, "post_id": 53526969, "comment_id": 93922979, "body": "How did &quot;i&quot; ever become 6, surely with that loop it should only ever be 0,1,2,3,4,5?: N0ug4t Link explains that issue pretty well"}, {"owner": {"reputation": 6072, "user_id": 2142950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZGrD.png?s=128&g=1", "display_name": "Klaus G&#252;tter", "link": "https://stackoverflow.com/users/2142950/klaus-g%c3%bctter"}, "reply_to_user": {"reputation": 388, "user_id": 4659509, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bbc1eff6f66115cc25a310e70b6c6c3e?s=128&d=identicon&r=PG&f=1", "display_name": "Scriven", "link": "https://stackoverflow.com/users/4659509/scriven"}, "edited": false, "score": 2, "creation_date": 1543434800, "post_id": 53526969, "comment_id": 93923022, "body": "@Scriven &quot;i&quot; will finally always be 6 and then the loop is exited."}, {"owner": {"reputation": 388, "user_id": 4659509, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bbc1eff6f66115cc25a310e70b6c6c3e?s=128&d=identicon&r=PG&f=1", "display_name": "Scriven", "link": "https://stackoverflow.com/users/4659509/scriven"}, "reply_to_user": {"reputation": 6072, "user_id": 2142950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZGrD.png?s=128&g=1", "display_name": "Klaus G&#252;tter", "link": "https://stackoverflow.com/users/2142950/klaus-g%c3%bctter"}, "edited": false, "score": 0, "creation_date": 1543435005, "post_id": 53526969, "comment_id": 93923116, "body": "@KlausG&#252;tter Ah, I think I get it. All the actions are performed at &quot;action =&gt; action());&quot;. At this point &quot;i&quot; has changed to 6"}, {"owner": {"reputation": 6072, "user_id": 2142950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZGrD.png?s=128&g=1", "display_name": "Klaus G&#252;tter", "link": "https://stackoverflow.com/users/2142950/klaus-g%c3%bctter"}, "reply_to_user": {"reputation": 388, "user_id": 4659509, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bbc1eff6f66115cc25a310e70b6c6c3e?s=128&d=identicon&r=PG&f=1", "display_name": "Scriven", "link": "https://stackoverflow.com/users/4659509/scriven"}, "edited": false, "score": 0, "creation_date": 1543435091, "post_id": 53526969, "comment_id": 93923155, "body": "@Scriven yes, exactly"}, {"owner": {"reputation": 55, "user_id": 9361646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff62ef2b919785006672f0c6849e635?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Gildehaus", "link": "https://stackoverflow.com/users/9361646/paul-gildehaus"}, "edited": false, "score": 0, "creation_date": 1543436331, "post_id": 53526969, "comment_id": 93923708, "body": "Thank you all for explaining that it has to do with closure and explaining what that is. Makes total sense now!"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9361646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff62ef2b919785006672f0c6849e635?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Gildehaus", "link": "https://stackoverflow.com/users/9361646/paul-gildehaus"}, "edited": false, "score": 0, "creation_date": 1543436379, "post_id": 53527118, "comment_id": 93923732, "body": "Thank you for explaining the &quot;Closure&quot; aspect of this question, and for sourcing your explanation!"}], "tags": [], "owner": {"reputation": 50118, "user_id": 913124, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/20dGq.jpg?s=128&g=1", "display_name": "Christos", "link": "https://stackoverflow.com/users/913124/christos"}, "is_accepted": false, "score": 2, "last_activity_date": 1543435401, "last_edit_date": 1543435401, "creation_date": 1543434831, "answer_id": 53527118, "question_id": 53526969, "link": "https://stackoverflow.com/questions/53526969/can-someone-explain-the-parallel-foreach-loop-logic-happening-here/53527118#53527118", "title": "Can someone explain the Parallel.ForEach loop logic happening here?", "body": "<p>Regarding the first question:</p>\n\n<blockquote>\n  <p>what does the \"action => action()\" chunk of the loop do?</p>\n</blockquote>\n\n<p>This is what is going to be called for each item in the <code>actions</code> list. </p>\n\n<p>More formally it is called body of the <code>Paraller.ForEach</code> and it is the delegate that is invoked once per iteration. For more info, please have a look <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.parallel.foreach?view=netframework-4.7.2#System_Threading_Tasks_Parallel_ForEach__1_System_Collections_Generic_IEnumerable___0__System_Threading_Tasks_ParallelOptions_System_Action___0__\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Regarding the second question:</p>\n\n<p>You should first capture the variable <code>i</code>, by using another variable inside the block of the <code>for</code> statement, before you use it in the lambda you create, like below:</p>\n\n<pre><code>for (int i = 0; i &lt; 6; i++)     \n{\n    var j = i; \n    actions.Add(() =&gt; Function1(\"Word: \" + j));\n}\n</code></pre>\n\n<p>You can find a detailed explanation why you should do so <a href=\"https://medium.com/@Coder_HarryLee/how-to-capture-a-variable-in-c-and-not-to-shoot-yourself-in-the-foot-d169aa161aa6\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 3891, "user_id": 9456781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zdM55.jpg?s=128&g=1", "display_name": "Tobias Tengler", "link": "https://stackoverflow.com/users/9456781/tobias-tengler"}, "is_accepted": true, "score": 2, "last_activity_date": 1543437620, "last_edit_date": 1543437620, "creation_date": 1543435477, "answer_id": 53527292, "question_id": 53526969, "link": "https://stackoverflow.com/questions/53526969/can-someone-explain-the-parallel-foreach-loop-logic-happening-here/53527292#53527292", "title": "Can someone explain the Parallel.ForEach loop logic happening here?", "body": "<pre><code>public void StartTest()\n{\n    var actions = new List&lt;Action&gt;();\n    for (int i = 0; i &lt; 6; i++)\n    {\n        // you can't pass 'i' directly to the Action here,\n        // because 'i' is in the scope of where the Action is executed\n        // and since the parameter of the Action is first evaluated at the \n        // execution of the Action if you were to put 'i' it checks what value\n        // 'i' has at the current point in time and since the for-loop finished\n        // already it is always going to be 6\n        var word = $\"Word: {i}\";\n        actions.Add(() =&gt; Function1(word));\n    }\n\n    // you could interpret the lambda 'action =&gt; action()' as\n    // foreach(var action in actions)\n    //     action();\n    // so it essentially tells you what it's going to do for each\n    // Action Item in the Action-Collection you passed as Parallel.ForEach's first parameter,\n    // while 'action' represents the \"current\" item\n    Parallel.ForEach(actions, new ParallelOptions{MaxDegreeOfParallelism = 2}, action =&gt; action());\n\n    Console.WriteLine(\"Finished. \\nTime Taken: \" + total.ToString(@\"dd\\.hh\\:mm\\:ss\"));\n    Console.Read();\n}\n\n\nprivate void Function1(string word)\n{\n    for (int i = 0; i &lt; 5; i++)\n        Console.WriteLine(word + \" |  Task Id: \" + Task.CurrentId + \" |   \" + i);\n\n    Console.WriteLine(word + \" ----- Completed.\");\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 9361646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff62ef2b919785006672f0c6849e635?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Gildehaus", "link": "https://stackoverflow.com/users/9361646/paul-gildehaus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 53527292, "answer_count": 2, "score": 1, "last_activity_date": 1543437620, "creation_date": 1543434215, "question_id": 53526969, "link": "https://stackoverflow.com/questions/53526969/can-someone-explain-the-parallel-foreach-loop-logic-happening-here", "title": "Can someone explain the Parallel.ForEach loop logic happening here?", "body": "<p>I am just trying to learn the different ways of doing threading/tasks and I wanted a way to dynamically change the tasks that were being done and I was pointed to the Parallel.ForEach loop. I made a little example program and I have a few questions. </p>\n\n<pre><code>public void StartTest()\n{\n    List&lt;Action&gt; actions = new List&lt;Action&gt;();\n    for (int i = 0; i &lt; 6; i++)     \n    {\n        actions.Add(() =&gt; Function1(\"Word: \" + i));\n    }\n    Parallel.ForEach(actions, new ParallelOptions\n    {\n        MaxDegreeOfParallelism = 2\n    }, action =&gt; action());\n\n    Console.WriteLine(\"Finished. \\nTime Taken: \" + total.ToString(@\"dd\\.hh\\:mm\\:ss\"));\n    Console.Read();\n}\n\n\nprivate void Function1(string word)\n{\n    for (int i = 0; i &lt; 5; i++)\n    {\n        Console.WriteLine(word + \" |  Task Id: \" + Task.CurrentId + \" |   \" + i);\n    }\n    Console.WriteLine(word + \" ----- Completed.\");\n}\n</code></pre>\n\n<p>So my first question is what does the \"action => action()\" chunk of the loop do? I understand what lambdas are but I really am just not following this. </p>\n\n<p>My second question is why is this the output?</p>\n\n<p>Word: 6 |  Task Id: 3 |   0</p>\n\n<p>Word: 6 |  Task Id: 3 |   1</p>\n\n<p>Word: 6 |  Task Id: 3 |   2</p>\n\n<p>Word: 6 |  Task Id: 3 |   3</p>\n\n<p>Word: 6 |  Task Id: 3 |   4</p>\n\n<p>Word: 6 ----- Completed.</p>\n\n<p>Word: 6 |  Task Id: 3 |   0</p>\n\n<p>Word: 6 |  Task Id: 3 |   1</p>\n\n<p>Word: 6 |  Task Id: 3 |   2</p>\n\n<p>Word: 6 |  Task Id: 3 |   3</p>\n\n<p>Word: 6 |  Task Id: 3 |   4</p>\n\n<p>Word: 6 ----- Completed.</p>\n\n<p>Word: 6 |  Task Id: 3 |   0</p>\n\n<p>Word: 6 |  Task Id: 3 |   1</p>\n\n<p>Word: 6 |  Task Id: 3 |   2</p>\n\n<p>Word: 6 |  Task Id: 3 |   3</p>\n\n<p>Word: 6 |  Task Id: 3 |   4</p>\n\n<p>Word: 6 ----- Completed.</p>\n\n<p>Word: 6 |  Task Id: 3 |   0</p>\n\n<p>Word: 6 |  Task Id: 3 |   1</p>\n\n<p>Word: 6 |  Task Id: 3 |   2</p>\n\n<p>Word: 6 |  Task Id: 3 |   3</p>\n\n<p>Word: 6 |  Task Id: 3 |   4</p>\n\n<p>Word: 6 ----- Completed.</p>\n\n<p>Word: 6 |  Task Id: 3 |   0</p>\n\n<p>Word: 6 |  Task Id: 3 |   1</p>\n\n<p>Word: 6 |  Task Id: 3 |   2</p>\n\n<p>Word: 6 |  Task Id: 2 |   0</p>\n\n<p>Word: 6 |  Task Id: 2 |   1</p>\n\n<p>Word: 6 |  Task Id: 2 |   2</p>\n\n<p>Word: 6 |  Task Id: 2 |   3</p>\n\n<p>Word: 6 |  Task Id: 2 |   4</p>\n\n<p>Word: 6 ----- Completed.</p>\n\n<p>Word: 6 |  Task Id: 3 |   3</p>\n\n<p>Word: 6 |  Task Id: 3 |   4</p>\n\n<p>Word: 6 ----- Completed.</p>\n\n<p>Finished.</p>\n\n<p>Time Taken: 00.00:00:00</p>\n\n<p>Why is every single number 6? I understand how the threading is working, but not the passing / referencing of the parameters. </p>\n\n<p>So those are my two questions. Any help would be fantastic. I searched google for a while and could not find any documentation that made sense to me. </p>\n"}, {"tags": ["c#", "asp.net-web-api", ".net-core", "asp.net-core-webapi"], "comments": [{"owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1543435218, "post_id": 53526915, "comment_id": 93923206, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/50210876/can-you-set-request-timeout-in-asp-net-core-2-0-hosted-in-iis-from-c-sharp-code\">Can you set request timeout in asp.net core 2.0 hosted in IIS from C# code?</a>"}, {"owner": {"reputation": 1439, "user_id": 1301310, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47625c8d474a71cdc237a5ef2c150dcf?s=128&d=identicon&r=PG", "display_name": "Gina Marano", "link": "https://stackoverflow.com/users/1301310/gina-marano"}, "edited": false, "score": 0, "creation_date": 1543435328, "post_id": 53526915, "comment_id": 93923268, "body": "<a href=\"https://stackoverflow.com/questions/2414441/how-to-increase-request-timeout-in-iis\" title=\"how to increase request timeout in iis\">stackoverflow.com/questions/2414441/&hellip;</a>"}, {"owner": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 0, "creation_date": 1543436157, "post_id": 53526915, "comment_id": 93923639, "body": "does this iis site sit behind a load balancer? you can set timeout thresholds at the load balancer as well which could be your problem. suggesting this because this same thing had me banging my head against a wall not long ago. places to check: application code timeout, iis timeout, load balancer timeout"}, {"owner": {"reputation": 1768, "user_id": 7369926, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/127985c6b4901ccbaeb6b9d47b465dc9?s=128&d=identicon&r=PG&f=1", "display_name": "ProgSky", "link": "https://stackoverflow.com/users/7369926/progsky"}, "reply_to_user": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 0, "creation_date": 1543439753, "post_id": 53526915, "comment_id": 93925191, "body": "@GregH thanks for the suggestion. I will check the load balancer part."}, {"owner": {"reputation": 1768, "user_id": 7369926, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/127985c6b4901ccbaeb6b9d47b465dc9?s=128&d=identicon&r=PG&f=1", "display_name": "ProgSky", "link": "https://stackoverflow.com/users/7369926/progsky"}, "reply_to_user": {"reputation": 1439, "user_id": 1301310, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47625c8d474a71cdc237a5ef2c150dcf?s=128&d=identicon&r=PG", "display_name": "Gina Marano", "link": "https://stackoverflow.com/users/1301310/gina-marano"}, "edited": false, "score": 0, "creation_date": 1543439798, "post_id": 53526915, "comment_id": 93925211, "body": "@ginalster Yeah, I changed that to 10 mins, it has no impact."}, {"owner": {"reputation": 3455, "user_id": 1867682, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/852577b64b854aeaf589b54617e4a1a2?s=128&d=identicon&r=PG", "display_name": "PmanAce", "link": "https://stackoverflow.com/users/1867682/pmanace"}, "edited": false, "score": 0, "creation_date": 1543440279, "post_id": 53526915, "comment_id": 93925418, "body": "Do you really have a request timeout and not a database timeout?"}, {"owner": {"reputation": 1768, "user_id": 7369926, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/127985c6b4901ccbaeb6b9d47b465dc9?s=128&d=identicon&r=PG&f=1", "display_name": "ProgSky", "link": "https://stackoverflow.com/users/7369926/progsky"}, "reply_to_user": {"reputation": 3455, "user_id": 1867682, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/852577b64b854aeaf589b54617e4a1a2?s=128&d=identicon&r=PG", "display_name": "PmanAce", "link": "https://stackoverflow.com/users/1867682/pmanace"}, "edited": false, "score": 0, "creation_date": 1543441866, "post_id": 53526915, "comment_id": 93926031, "body": "@PmanAce I wish it was database timeout. It is definitely request timeout. and Its  2mins, I checked it multiple times. anything under 2 mins go through fine. This is what I am trying to overwrite"}], "answers": [{"comments": [{"owner": {"reputation": 1768, "user_id": 7369926, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/127985c6b4901ccbaeb6b9d47b465dc9?s=128&d=identicon&r=PG&f=1", "display_name": "ProgSky", "link": "https://stackoverflow.com/users/7369926/progsky"}, "edited": false, "score": 0, "creation_date": 1543435131, "post_id": 53527158, "comment_id": 93923167, "body": "Thanks. But not really. My Request timeout is set to 0 for Infinity.  Also, My Angular UI also times out when I call the api end point. Somewhere this 2 min is set that I am unable to override. sigh."}], "tags": [], "owner": {"reputation": 1439, "user_id": 1301310, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47625c8d474a71cdc237a5ef2c150dcf?s=128&d=identicon&r=PG", "display_name": "Gina Marano", "link": "https://stackoverflow.com/users/1301310/gina-marano"}, "is_accepted": false, "score": 0, "last_activity_date": 1543434986, "creation_date": 1543434986, "answer_id": 53527158, "question_id": 53526915, "link": "https://stackoverflow.com/questions/53526915/asp-net-core-2-web-api-timeout-issue/53527158#53527158", "title": "asp.net core 2 Web API timeout issue", "body": "<p>It may be Postman that is timing out. If that is the case you can adjust the Postman settings.</p>\n\n<p><a href=\"https://www.getpostman.com/docs/v6/postman/launching_postman/settings\" rel=\"nofollow noreferrer\">https://www.getpostman.com/docs/v6/postman/launching_postman/settings</a></p>\n\n<p>File -> Settings -> General : Request Timeout</p>\n\n<p>It may default to infinity already, don't know if I changed it manually.</p>\n\n<p>Just a thought.</p>\n\n<p>Gina</p>\n"}, {"comments": [{"owner": {"reputation": 1768, "user_id": 7369926, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/127985c6b4901ccbaeb6b9d47b465dc9?s=128&d=identicon&r=PG&f=1", "display_name": "ProgSky", "link": "https://stackoverflow.com/users/7369926/progsky"}, "edited": false, "score": 0, "creation_date": 1543445220, "post_id": 53529221, "comment_id": 93927251, "body": "Yes. Thats exactly I was thinking to do. Btw, I was able to increase timeout by adding web.config and then added requestTimeout=&quot;00:20:00&quot;"}], "tags": [], "owner": {"reputation": 4522, "user_id": 7840778, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158454600115285/picture?type=large", "display_name": "Steve Land", "link": "https://stackoverflow.com/users/7840778/steve-land"}, "is_accepted": false, "score": 4, "last_activity_date": 1543445033, "creation_date": 1543445033, "answer_id": 53529221, "question_id": 53526915, "link": "https://stackoverflow.com/questions/53526915/asp-net-core-2-web-api-timeout-issue/53529221#53529221", "title": "asp.net core 2 Web API timeout issue", "body": "<p>I realise that this isnt specifically answering your question, but I'd suggest that the problem here is more the slow request - not any related IIS/Postman/.Net pipeline timeout(s).</p>\n\n<p>Have you considered changing your workflow to make a single request to kick off the process and then polling for the result?</p>\n\n<p>E.g. </p>\n\n<ol>\n<li><p>Make a POST request to start the process on a background thread / task management processor, and immediately receive some kind of process Id identifying your new process.</p></li>\n<li><p>Periodically poll another GET endpoint using the processId as a parameter, continuing until you eventually receive the result once the process is complete.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1768, "user_id": 7369926, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/127985c6b4901ccbaeb6b9d47b465dc9?s=128&d=identicon&r=PG&f=1", "display_name": "ProgSky", "link": "https://stackoverflow.com/users/7369926/progsky"}, "is_accepted": true, "score": 11, "last_activity_date": 1543498388, "creation_date": 1543498388, "answer_id": 53540243, "question_id": 53526915, "link": "https://stackoverflow.com/questions/53526915/asp-net-core-2-web-api-timeout-issue/53540243#53540243", "title": "asp.net core 2 Web API timeout issue", "body": "<p>adding requestTimeout to web.confg solved my timeout. </p>\n\n<pre><code>&lt;aspNetCore requestTimeout=\"00:20:00\" processPath=\"dotnet\" arguments=\".\\project.dll\" stdoutLogEnabled=\"false\" stdoutLogFile=\".\\logs\\stdout\" /&gt;\n</code></pre>\n\n<p>Better approach is to Kick off request and then poll the result as suggested by @steve-land</p>\n"}], "owner": {"reputation": 1768, "user_id": 7369926, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/127985c6b4901ccbaeb6b9d47b465dc9?s=128&d=identicon&r=PG&f=1", "display_name": "ProgSky", "link": "https://stackoverflow.com/users/7369926/progsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13532, "favorite_count": 0, "accepted_answer_id": 53540243, "answer_count": 3, "score": 8, "last_activity_date": 1592292406, "creation_date": 1543434010, "last_edit_date": 1543445303, "question_id": 53526915, "link": "https://stackoverflow.com/questions/53526915/asp-net-core-2-web-api-timeout-issue", "title": "asp.net core 2 Web API timeout issue", "body": "<p>I have a .net core web api and one of the end point runs a stored procedure that takes 3-4 minutes to complete. API is deployed to IIS. </p>\n\n<p>When I make a httpGet , I get 502 Bad Gateway error. Looking at the IIS Log, the error is actually timeout. This from IIS Log: </p>\n\n<p><strong><code>2018-11-28 17:24:48 10.71.12.59 GET /api/meetingreport fromDate=11/01/2018&amp;toDate=11/30/2018&amp;tradingGroup=All&amp;symbol=&amp;reviewed= 16000 - 10.6.50.61 Mozilla/5.0+(Windows+NT+6.1;+Win64;+x64)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Chrome/64.0.3282.140+Safari/537.36 - 502 3 12002 120029</code></strong></p>\n\n<p>Error code 12202 is for <a href=\"https://docs.microsoft.com/en-us/windows/desktop/WinHttp/error-messages\" rel=\"noreferrer\">ERR_WINHTTP_TIMEOUT</a>. \nTimeout happens after 2 mins. Request taking under than 2 mins works fine. I checked it by adding a thread.sleep of over and under 2 mins. </p>\n\n<pre><code>[HttpGet(\"\")]\n        public async Task&lt;IActionResult&gt; Get([FromQuery(Name = \"fromDate\")] DateTime fromDate, \n                    [FromQuery(Name = \"toDate\")] DateTime toDate, [FromQuery(Name =\"tradingGroup\")]string tradingGroup, [FromQuery(Name = \"symbol\")]string symbol, [FromQuery(Name = \"reviewed\")]string reviewed)\n        {\n            try\n            {\n                if (fromDate == DateTime.MinValue || toDate == DateTime.MinValue) return BadRequest(\"fromDate and toDate is a required Field\");\n                tradingGroup = tradingGroup == \"All\" ? tradingGroup.Replace(\"All\", \"\") : tradingGroup;\n                tradingGroup = tradingGroup ?? string.Empty;\n                symbol = symbol ?? string.Empty;\n                var result = await _meetingReportRepository.GetMeetingReport(fromDate, toDate, tradingGroup, symbol, reviewed);\n                Thread.Sleep(132000); // 2.2 minutes\n                    return Ok(result);\n            }\n            catch (Exception ex)\n            {\n            }\n            return BadRequest($\"Couldn't Genererate Report\");\n\n        }\n</code></pre>\n\n<p>This is the error from POSTMAN. </p>\n\n<p><a href=\"https://i.stack.imgur.com/dNkJ6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dNkJ6.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I increase the timeout to 10 minutes ? Any pointers?  There is no Web.config file. </p>\n\n<p>Following <a href=\"https://stackoverflow.com/questions/37474309/timeouts-with-long-running-asp-net-mvc-core-controller-httppost-method/38507709#38507709\">this</a> post I updated my program.cs to add KeepAliveTimeout of 10 minutes. But this didn't help . My request is still timing out after 2 mins. </p>\n\n<pre><code>public static IWebHost BuildWebHost(string[] args) =&gt;\n        WebHost.CreateDefaultBuilder(args)\n            .UseStartup&lt;Startup&gt;()\n            .UseKestrel( o=&gt; { o.Limits.KeepAliveTimeout = TimeSpan.FromMinutes(10); })\n            .Build();\n</code></pre>\n\n<p><strong>EDIT 1:</strong> \nWhen deployed to IIS, a web.config file is created and it has content as below: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n  &lt;location path=\".\" inheritInChildApplications=\"false\"&gt;\n    &lt;system.webServer&gt;\n      &lt;handlers&gt;\n        &lt;add name=\"aspNetCore\" path=\"*\" verb=\"*\" modules=\"AspNetCoreModule\" resourceType=\"Unspecified\" /&gt;\n      &lt;/handlers&gt;\n      &lt;aspNetCore processPath=\"dotnet\" arguments=\".\\project.dll\" stdoutLogEnabled=\"false\" stdoutLogFile=\".\\logs\\stdout\" /&gt;\n    &lt;/system.webServer&gt;\n  &lt;/location&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>I am going to add timeout here to see if it works. </p>\n\n<p><strong>EDIT 2:</strong>\nadding requestTimeout did the trick. IIS is very loyal to web.config :). My issue is resolved.</p>\n\n<pre><code>&lt;aspNetCore requestTimeout=\"00:20:00\" processPath=\"dotnet\" arguments=\".\\project.dll\" stdoutLogEnabled=\"false\" stdoutLogFile=\".\\logs\\stdout\" /&gt;\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "button", "tablelayoutpanel", "imagelist"], "answers": [{"comments": [{"owner": {"reputation": 689, "user_id": 7611750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d2ce87cfd8001e5b670c581c6cf9b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Peppler", "link": "https://stackoverflow.com/users/7611750/charlie-peppler"}, "edited": false, "score": 0, "creation_date": 1543436578, "post_id": 53527122, "comment_id": 93923821, "body": "Thank you for the response about lack of detail.  I added an image showing the properties of the button in VS designer.  It&#39;s a windows forms application.  If I can&#39;t get this to work, I will switch to a picturebox with an event handler instead."}], "tags": [], "owner": {"reputation": 1209, "user_id": 3456812, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/04a8a4cc5cd269a7a100c8b64608449b?s=128&d=identicon&r=PG&f=1", "display_name": "markaaronky", "link": "https://stackoverflow.com/users/3456812/markaaronky"}, "is_accepted": false, "score": 0, "last_activity_date": 1543434853, "creation_date": 1543434853, "answer_id": 53527122, "question_id": 53526914, "link": "https://stackoverflow.com/questions/53526914/visual-studio-2017-community-button-size-greater-than-images-in-image-list/53527122#53527122", "title": "Visual Studio 2017 Community button size greater than images in image list", "body": "<p>You've only talked about your button styling.  Look at padding and margins for your table elements, such as TD, TR, etc.  A quick way to see this visually is to add colors for these elements in css.  If you make a TD red and see a 3 pixel red space, you've got your culprit.  Try this with ANY elements that are in your markup.  ANYTHING could be a culprit.</p>\n\n<p>BTW, I've noticed a downvote on your post.  I think folks here appreciate if you post your code so they can see what you've tried so far.  Just a friendly reminder.</p>\n"}, {"tags": [], "owner": {"reputation": 689, "user_id": 7611750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d2ce87cfd8001e5b670c581c6cf9b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Peppler", "link": "https://stackoverflow.com/users/7611750/charlie-peppler"}, "is_accepted": false, "score": 0, "last_activity_date": 1543444778, "creation_date": 1543444778, "answer_id": 53529182, "question_id": 53526914, "link": "https://stackoverflow.com/questions/53526914/visual-studio-2017-community-button-size-greater-than-images-in-image-list/53529182#53529182", "title": "Visual Studio 2017 Community button size greater than images in image list", "body": "<p>I continued researching the best way to handle the look I was going for, and others that have tried to use buttons, and had similar problems.  I have abandoned the button, and will use a picturebox instead in each of the cells of the table view control.</p>\n\n<p>My apologies for the imprecise question.</p>\n"}], "owner": {"reputation": 689, "user_id": 7611750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d2ce87cfd8001e5b670c581c6cf9b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie Peppler", "link": "https://stackoverflow.com/users/7611750/charlie-peppler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1543444778, "creation_date": 1543434009, "last_edit_date": 1543435812, "question_id": 53526914, "link": "https://stackoverflow.com/questions/53526914/visual-studio-2017-community-button-size-greater-than-images-in-image-list", "title": "Visual Studio 2017 Community button size greater than images in image list", "body": "<p>I'm trying to precisely align an array of buttons within the rows and columns of a table layout panel.  Each button is assigned to the same image list.  The image list contains three images, all the same pixel dimensions (200px wide X 18px high).  I want the buttons to exactly stack one on top of one another vertically, with no vertical gaps.</p>\n\n<p>The problem is, when I look at the button properties, the size of the image is described as 206x24.  It looks like somewhere VS is adding a 3 pixel boundary around the images, and I can't figure out how to get rid of that.</p>\n\n<p>Margins for the button are all set to zero.  Padding for the button is all set to zero.  FlatStyle is set to \"Flat\".</p>\n\n<p>What button properties do I set to get the images to stack exactly?\nIs there a parameter in the table layout panel that might be causing this?</p>\n\n<p>Here is an image of the button property box:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gUd2C.png\" rel=\"nofollow noreferrer\">Image of property box</a></p>\n\n<p>Any help would be much appreciated.\nWould using a picturebox with a clickable change of image work better than a button?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "visual-studio", "font-awesome"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 10285432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b13520b6e2d4a2241b808d34c325b9b?s=128&d=identicon&r=PG&f=1", "display_name": "Jhensen", "link": "https://stackoverflow.com/users/10285432/jhensen"}, "edited": false, "score": 0, "creation_date": 1543509689, "post_id": 53526854, "comment_id": 93954195, "body": "Thx for the help!"}], "tags": [], "owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "is_accepted": true, "score": 1, "last_activity_date": 1543433805, "creation_date": 1543433805, "answer_id": 53526854, "question_id": 53526834, "link": "https://stackoverflow.com/questions/53526834/how-to-use-font-awesome-with-submit-type-on-the-logout-button/53526854#53526854", "title": "How to use Font Awesome with Submit Type on the logout button", "body": "<p>Using a button element should work in this case and let you put whatever HTML you desire inside.</p>\n\n<pre><code>&lt;button type=\"submit\" class=\"btn btn-primary\"&gt;\n  &lt;i class=\"fa fa-power-off\"&gt;&lt;/i&gt;\n&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 10285432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b13520b6e2d4a2241b808d34c325b9b?s=128&d=identicon&r=PG&f=1", "display_name": "Jhensen", "link": "https://stackoverflow.com/users/10285432/jhensen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 53526854, "answer_count": 1, "score": 0, "last_activity_date": 1543433805, "creation_date": 1543433696, "question_id": 53526834, "link": "https://stackoverflow.com/questions/53526834/how-to-use-font-awesome-with-submit-type-on-the-logout-button", "title": "How to use Font Awesome with Submit Type on the logout button", "body": "<p>I need to make a post to log off, so I need an \"input type\".</p>\n\n<p>How could I change this input so that I could use the FontAwasone class</p>\n\n<p>I already tried to use the button tag, but it does not work inside the \"a\" tag.</p>\n\n<pre><code>           &lt;div class=\"sidebar-footer\"&gt;             \n\n           &lt;a href=\"#\"&gt;\n                &lt;i class=\"fa fa-envelope\"&gt;&lt;/i&gt;\n                &lt;span class=\"badge badge-pill badge-success notification\"&gt;7&lt;/span&gt;\n            &lt;/a&gt;\n\n                &lt;a&gt;\n                    @using (Html.BeginForm(\"LogOff\", \"Account\", FormMethod.Post, new { role = \"form\" }))\n                    {\n                         @Html.AntiForgeryToken()\n                        &lt;input type=\"submit\" value=\"Logout\" class=\"btn btn-primary\" /&gt;\n                    }    \n                &lt;/a&gt;\n                //Need to use that Awesome  Class                   \n                &lt;a href=\"#\"&gt;\n                    &lt;i class=\"fa fa-power-off\"&gt;&lt;/i&gt;\n                &lt;/a&gt;\n        &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["c#", ".net-core"], "comments": [{"owner": {"reputation": 1435, "user_id": 8250558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vEbKG.jpg?s=128&g=1", "display_name": "Moffen", "link": "https://stackoverflow.com/users/8250558/moffen"}, "edited": false, "score": 0, "creation_date": 1543433968, "post_id": 53526755, "comment_id": 93922622, "body": "Are you using any NuGet packages?"}, {"owner": {"reputation": 308, "user_id": 1985404, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7d99a8c3e94f4cf67ae0618fff562e90?s=128&d=identicon&r=PG", "display_name": "mojoker", "link": "https://stackoverflow.com/users/1985404/mojoker"}, "reply_to_user": {"reputation": 1435, "user_id": 8250558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vEbKG.jpg?s=128&g=1", "display_name": "Moffen", "link": "https://stackoverflow.com/users/8250558/moffen"}, "edited": false, "score": 0, "creation_date": 1543440190, "post_id": 53526755, "comment_id": 93925371, "body": "Adding some more info... I am using this for cross-process synchronization."}, {"owner": {"reputation": 308, "user_id": 1985404, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7d99a8c3e94f4cf67ae0618fff562e90?s=128&d=identicon&r=PG", "display_name": "mojoker", "link": "https://stackoverflow.com/users/1985404/mojoker"}, "reply_to_user": {"reputation": 1435, "user_id": 8250558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vEbKG.jpg?s=128&g=1", "display_name": "Moffen", "link": "https://stackoverflow.com/users/8250558/moffen"}, "edited": false, "score": 0, "creation_date": 1543440254, "post_id": 53526755, "comment_id": 93925408, "body": "@Moffen, I&#39;m not currently using any NuGet packages."}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1543505953, "post_id": 53526755, "comment_id": 93952018, "body": "The obvious approach would probably be to cook up a pull request so <a href=\"https://stackoverflow.com/a/33099359/4137916\">events are implemented in a POSIX or at least Linux way</a>, then .NET Core 2.2 will have support... obviously, not completely trivial. Depending on your scenario (i.e. not too many events, not too many calls), you could implement some poor man&#39;s synchronization mechanism by polling files."}, {"owner": {"reputation": 109, "user_id": 526549, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8de93ee45b728dd5f21a706f1ba20df5?s=128&d=identicon&r=PG", "display_name": "petedotg", "link": "https://stackoverflow.com/users/526549/petedotg"}, "edited": false, "score": 0, "creation_date": 1590991181, "post_id": 53526755, "comment_id": 109878082, "body": "Hey @mojoker did you ever find a solution for this? It looks as though it still hasn&#39;t been fixed."}], "answers": [{"tags": [], "owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "is_accepted": true, "score": 3, "last_activity_date": 1543434317, "creation_date": 1543434317, "answer_id": 53526997, "question_id": 53526755, "link": "https://stackoverflow.com/questions/53526755/net-core-2-1-eventwaithandle-not-supported/53526997#53526997", "title": ".NET Core 2.1 EventWaitHandle Not Supported?", "body": "<p>.Net Core has some platform specific apis. This is one of them. It is the named handles it can't handle, see the <a href=\"https://github.com/dotnet/coreclr/blob/release/1.0.0/src/mscorlib/src/System/Threading/EventWaitHandle.cs/#L54-L56\" rel=\"nofollow noreferrer\">source</a></p>\n\n<pre><code>    public EventWaitHandle(bool initialState, EventResetMode mode, string name)\n    {\n        if(name != null)\n        {\n#if PLATFORM_UNIX\n            throw new PlatformNotSupportedException(Environment.GetResourceString(\"PlatformNotSupported_NamedSynchronizationPrimitives\"));\n#else\n            if (System.IO.Path.MaxPath &lt; name.Length)\n            {\n                throw new ArgumentException(Environment.GetResourceString(\"Argument_WaitHandleNameTooLong\", name));\n            }\n#endif\n        }\n\n        ...\n</code></pre>\n\n<p>Some more interesting reads <a href=\"https://forums.aws.amazon.com/thread.jspa?threadID=246298\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>I'm uncertain what .NET technology you should be using instead. If you don't require cross-process synchronization, you don't need to specify a name for EventWaitHandle, or you can use a different subclass of EventWaitHandle, such as ManualResetEvent or AutoResetEvent.</p>\n</blockquote>\n"}], "owner": {"reputation": 308, "user_id": 1985404, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7d99a8c3e94f4cf67ae0618fff562e90?s=128&d=identicon&r=PG", "display_name": "mojoker", "link": "https://stackoverflow.com/users/1985404/mojoker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1016, "favorite_count": 1, "accepted_answer_id": 53526997, "answer_count": 1, "score": 1, "last_activity_date": 1543505215, "creation_date": 1543433358, "last_edit_date": 1543505215, "question_id": 53526755, "link": "https://stackoverflow.com/questions/53526755/net-core-2-1-eventwaithandle-not-supported", "title": ".NET Core 2.1 EventWaitHandle Not Supported?", "body": "<p>I'm converting a C# .NET Framework project over to .NET Core. It compiles without errors or warnings and runs fine on Windows, but when I try it on CentOS 7, I get a <em>System.PlatformNotSupportedException</em> when I try to create an instance of EventWaitHandle. Here is the code:</p>\n\n<pre><code>this.eventHandle = new EventWaitHandle(initialState, resetMode, name);\n</code></pre>\n\n<p>There is clearly .NET Core 2.1 support for this class as there is MS documentation for it here:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.eventwaithandle.-ctor?view=netcore-2.1\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.threading.eventwaithandle.-ctor?view=netcore-2.1</a></p>\n\n<p>Is this as simple as the error describes and this class is not supported across multiple platforms? If so, why is it included in .NET Core? Could there be anything else at play here?</p>\n\n<p>If it is simply not supported, is there an alternative class that someone can suggest that is supported completely in .NET Core 2.1?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", ".net", "entity-framework"], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 5675919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a9f46c972bc034d1f0db71f45501dfa?s=128&d=identicon&r=PG&f=1", "display_name": "SauerTrout", "link": "https://stackoverflow.com/users/5675919/sauertrout"}, "edited": false, "score": 0, "creation_date": 1543435004, "post_id": 53526823, "comment_id": 93923115, "body": "Deleting the redundant schema changes and keeping the empty migration does allow the migrations to all succeed."}], "tags": [], "owner": {"reputation": 1649, "user_id": 4313979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12bf8dc916583f23dfa7abd053860d78?s=128&d=identicon&r=PG&f=1", "display_name": "MikeS", "link": "https://stackoverflow.com/users/4313979/mikes"}, "is_accepted": true, "score": 1, "last_activity_date": 1543433620, "creation_date": 1543433620, "answer_id": 53526823, "question_id": 53526670, "link": "https://stackoverflow.com/questions/53526670/ef-add-migration-command-snapshot-provides-redendant-schema-change/53526823#53526823", "title": "EF Add-Migration Command Snapshot Provides Redendant Schema Change", "body": "<p>This can happen if two people create migrations at the same time and check them in independently of each other. </p>\n\n<p>So say you have 3 migrations A,B,C checked into source control. Two people get them and create migrations D and E. Both D and E have a snapshot of the schema that includes changes up to C. The person who created D checks in and then the person who created E gets a latest. EF will think the model is out of sync because the snapshot in E does not include D. When you add the migration, it calculates all the changes from A-E including D and sees there is nothing new to do so there is nothing in the migration.</p>\n\n<p>The snapshot is stored in a resx file under the migration. If you open it in the xml editor you will see the snapshot in there.</p>\n\n<p>The way to fix this would be to keep the empty migration since it doesn't do any harm, or the person who did E could delete and recreate their migration so that it's snapshot includes the changes from D.</p>\n\n<p>Hope that helps!</p>\n"}, {"tags": [], "owner": {"reputation": 300, "user_id": 5675919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a9f46c972bc034d1f0db71f45501dfa?s=128&d=identicon&r=PG&f=1", "display_name": "SauerTrout", "link": "https://stackoverflow.com/users/5675919/sauertrout"}, "is_accepted": false, "score": 0, "last_activity_date": 1543496239, "creation_date": 1543496239, "answer_id": 53539580, "question_id": 53526670, "link": "https://stackoverflow.com/questions/53526670/ef-add-migration-command-snapshot-provides-redendant-schema-change/53539580#53539580", "title": "EF Add-Migration Command Snapshot Provides Redendant Schema Change", "body": "<p>I wanted to add what I and my team ultimately ended up choosing.</p>\n\n<p>Although I selected MikeS's answer as the chosen answer, another solution we found was to roll back to the last stable migration before the branches began interfering with one another, delete the newer migrations, and then consolidating the problematic migrations. </p>\n\n<p>The Add-Migration command automatically picked up on the needed schema changes, then we added our logic for transferring records.</p>\n"}], "owner": {"reputation": 300, "user_id": 5675919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a9f46c972bc034d1f0db71f45501dfa?s=128&d=identicon&r=PG&f=1", "display_name": "SauerTrout", "link": "https://stackoverflow.com/users/5675919/sauertrout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 53526823, "answer_count": 2, "score": 0, "last_activity_date": 1543496239, "creation_date": 1543433007, "question_id": 53526670, "link": "https://stackoverflow.com/questions/53526670/ef-add-migration-command-snapshot-provides-redendant-schema-change", "title": "EF Add-Migration Command Snapshot Provides Redendant Schema Change", "body": "<p>I am running a theoretically simple migration. For my up() method:</p>\n\n<pre><code>    DropIndex(\"dbo.tableA\", \"IX_index_1\");\n    AddColumn(\"dbo.tableB\", \"column1\", c =&gt; c.Int(nullable: false));\n    DropColumn(\"dbo.tableA\", \"column2\");\n</code></pre>\n\n<p>However, upon running the migration, I receive this error in my console:</p>\n\n<pre><code>Unable to update database to match the current model because there are pending changes and automatic migration is disabled\n</code></pre>\n\n<p>When I run the </p>\n\n<pre><code>    Add-Migration\n</code></pre>\n\n<p>The 'snapshot' provides the same schema changes. \nWhat is the reason for this?? \nThank You. </p>\n"}, {"tags": ["c#", "class"], "comments": [{"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 4, "creation_date": 1543432979, "post_id": 53526642, "comment_id": 93922149, "body": "<code>IronMan</code> and <code>CaptainAmerica</code> should not be classes, but instances of the same class."}, {"owner": {"reputation": 11603, "user_id": 1007019, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/HjT3D.png?s=128&g=1", "display_name": "UnhandledExcepSean", "link": "https://stackoverflow.com/users/1007019/unhandledexcepsean"}, "edited": false, "score": 0, "creation_date": 1543433161, "post_id": 53526642, "comment_id": 93922239, "body": "You need to have public getters and setters, such as &quot;public string fName { get; set; }&quot;. Functionally, it would behave the same right now, but it would give you more options (like only allowing last names to be changed for example). Also, it&#39;s not about efficiency, but control."}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1543433558, "post_id": 53526642, "comment_id": 93922425, "body": "Yeah, create a class called SuperHero, with public (string) properties called &quot;FirstName&quot;, &quot;LastName&quot; and a public integer property called Age.  Then you can create Captain American this way <code>var captainAmerica = new SuperHero { FirstName = &quot;Tony&quot;, LastName = &quot;Stark&quot;, Age = 50 };</code>"}, {"owner": {"reputation": 388, "user_id": 4659509, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bbc1eff6f66115cc25a310e70b6c6c3e?s=128&d=identicon&r=PG&f=1", "display_name": "Scriven", "link": "https://stackoverflow.com/users/4659509/scriven"}, "edited": false, "score": 0, "creation_date": 1543434232, "post_id": 53526642, "comment_id": 93922723, "body": "I don&#39;t believe there is a reason to have nested classes here, I wouldn&#39;t define a class inside a class unless you have a reason too."}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "reply_to_user": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1543435423, "post_id": 53526642, "comment_id": 93923298, "body": "@bolov yea, but that if you only want to have some properties. How are you going to implement hero-specific action in this case, if your class had actually to do something as per hero specification?"}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "reply_to_user": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1543435465, "post_id": 53526642, "comment_id": 93923323, "body": "@Flydog57 you are also subject to a comment above ^^^"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1543436053, "post_id": 53526642, "comment_id": 93923601, "body": "If you wanted to have super-hero specificity, for example, flying, X-Ray vision, super strength, etc., then create an base class called SuperHero much like everyone has described.  Then create a bunch of interfaces (like <code>ICanFly</code>).  Finally create subclasses of SuperHero that implement the interfaces associated the various powers.  Finally you could create instances of those sub-classes (for example, normalSuperman and bizarroSuperMan, each an instance of the Superman class that implements ICanFly, IAmRealStrong, ICanStopBullets, etc.)"}], "answers": [{"tags": [], "owner": {"reputation": 1001, "user_id": 5213794, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10206334176779180/picture?type=large", "display_name": "Juan Salvador Portugal", "link": "https://stackoverflow.com/users/5213794/juan-salvador-portugal"}, "is_accepted": false, "score": 8, "last_activity_date": 1543434449, "last_edit_date": 1543434449, "creation_date": 1543433458, "answer_id": 53526785, "question_id": 53526642, "link": "https://stackoverflow.com/questions/53526642/i-need-a-solution-to-eliminate-public-strings-in-classes/53526785#53526785", "title": "I need a solution to eliminate public strings in classes", "body": "<p><code>IronMan</code> and <code>CaptainAmerica</code> should be objects instead of classes, the <code>class</code> should be generic</p>\n\n<p>In your example, your class should be <code>SuperHero</code> for example</p>\n\n<pre><code>public class SuperHero\n{\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n    public int Age { get; set; }\n\n    public SuperHero(string FirstName, string LastName, int Age)\n    {\n        this.FirstName = FirstName;\n        this.LastName = LastName;\n        this.Age = Age;        \n    }\n}\n</code></pre>\n\n<p>then, in your <code>Main()</code> you should create instances of <code>SuperHero</code></p>\n\n<pre><code>public class MainClass\n{\n    public static void Main()\n    {\n        //This is a instance of SuperHero, specific, Tony Stark\n        SuperHero ironman = new SuperHero(\"Tony\",\"Stark\",50);\n        Console.WriteLine(ironman.FirstName);\n        //This is a instance of SuperHero, specific, Steve Rogers\n        SuperHero captain = new SuperHero(\"Steve\",\"Rogers\",126);\n        Console.WriteLine(captain.FirstName);\n    }\n}\n</code></pre>\n\n<p>I recommend you to read about OO before start programming (asuming you will use Object Oriented paradigm)</p>\n"}, {"tags": [], "owner": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "is_accepted": false, "score": 0, "last_activity_date": 1543433535, "creation_date": 1543433535, "answer_id": 53526803, "question_id": 53526642, "link": "https://stackoverflow.com/questions/53526642/i-need-a-solution-to-eliminate-public-strings-in-classes/53526803#53526803", "title": "I need a solution to eliminate public strings in classes", "body": "<p>I think you're better off with the following approach:</p>\n\n<pre><code>public class MainClass\n{\n\n    class Hero\n    {\n        public string FirstName {get; set;}\n        public string LastName {get; set;}\n        public int Age {get; set;}\n    }\n\n    public static void Main()\n    {\n        Hero avenger = new Hero\n        {\n            FirstName = \"Steve\",\n            LastName = \"Rogers\",\n            Age = 126\n        };\n\n        Console.WriteLine(avenger.FirstName);\n    }  \n}\n</code></pre>\n\n<p>As far as what properties to make public in a class, a general rule of thumb is to only make the properties public if they have to be and you should generally use the most restrictive access modifiers you can which still allow your application to function. Unnecessarily exposing properties of a class can cause other classes to misuse that class in ways that weren't originally intended and often create complications in large applications. There are a lot of topics this touches on that you can read more about but one of the more directly related topics is the concept of information hiding.</p>\n"}, {"tags": [], "owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1543457262, "last_edit_date": 1543457262, "creation_date": 1543433867, "answer_id": 53526875, "question_id": 53526642, "link": "https://stackoverflow.com/questions/53526642/i-need-a-solution-to-eliminate-public-strings-in-classes/53526875#53526875", "title": "I need a solution to eliminate public strings in classes", "body": "<p>There is not much you can do with POCOs as other examples show. If you want your class to actually do something you need to do this</p>\n\n<pre><code>public abstract class SuperHero\n{\n    public string FirstName { get; protected set; }\n    public string LastName { get; protected set; }\n    public int Age { get; protected set; }\n\n    public abstract void KillEnemy(IEnemy e);\n\n}\n\n\npublic class IronMan : SuperHero\n{\n    public IronMan() : base()\n    {\n        FirstName = \"Tony\";\n        LastName = \"Stark\";\n        Age = 50;\n    }\n\n\n    public overrides void KillEnemy(IEnemy e)\n    {\n        // Do what IronMan does to enemy  \n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1001, "user_id": 5213794, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10206334176779180/picture?type=large", "display_name": "Juan Salvador Portugal", "link": "https://stackoverflow.com/users/5213794/juan-salvador-portugal"}, "edited": false, "score": 1, "creation_date": 1543434221, "post_id": 53526890, "comment_id": 93922716, "body": "the question is about C#, can you modify your answer to fit please?"}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "reply_to_user": {"reputation": 1001, "user_id": 5213794, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10206334176779180/picture?type=large", "display_name": "Juan Salvador Portugal", "link": "https://stackoverflow.com/users/5213794/juan-salvador-portugal"}, "edited": false, "score": 1, "creation_date": 1543434631, "post_id": 53526890, "comment_id": 93922944, "body": "@JuanSalvadorPortugal Pseudo-code is acceptable form"}], "tags": [], "owner": {"reputation": 149, "user_id": 5456858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/33zhi.jpg?s=128&g=1", "display_name": "tomas", "link": "https://stackoverflow.com/users/5456858/tomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1543438096, "last_edit_date": 1543438096, "creation_date": 1543433909, "answer_id": 53526890, "question_id": 53526642, "link": "https://stackoverflow.com/questions/53526642/i-need-a-solution-to-eliminate-public-strings-in-classes/53526890#53526890", "title": "I need a solution to eliminate public strings in classes", "body": "<p>In your case you wanted to creat an Avenger. Any Avenger has common propperties (fname, lname, age) so when you create an Avenger with the <code>constructor</code> you have to give the values for thos propperties.</p>\n\n<pre><code>   public class MainClass\n    {\n        public static void Main()\n        {\n            Avenger CaptainAmerica = new Avenger(\"Steve\", \"Rogers\", 126);\n            Avenger IronMan = new Avenger (\"Tony\", \"Stark\", 50);\n            Console.WriteLine(CaptainAmerica.fName); // Steve\n            Console.WriteLine(IronMan.fName); // Tony\n\n        }  \n    }\n\n\n\npublic class Avenger\n{\n    public string fName {get; set;};\n    public string lName {get; set;};\n    public int Age {get; set;};\n\n    Public Avenger (string fname, string lname, int age){\n          this.fName = fname;\n          this.lName = lname;\n          this.Age = age;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "edited": false, "score": 0, "creation_date": 1543503260, "post_id": 53527758, "comment_id": 93950309, "body": "This is duplicate of answer I have here. Try to be genuine"}, {"owner": {"reputation": 33, "user_id": 10622587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/392b7c3ceacbb3df8194dec43b8195cc?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewF", "link": "https://stackoverflow.com/users/10622587/andrewf"}, "reply_to_user": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "edited": false, "score": 0, "creation_date": 1543643314, "post_id": 53527758, "comment_id": 94001669, "body": "@T.S. Looks like question&#39;s author new to objects/patterns. Here classes plus example of using via base class/interface - just definition can be not directly understand. // obviously DRY, need to define props in one place - a) class without hero type marker (if not needed) or b) class with some hero type marker or c) class/interface inheritance - according to patterns idea d) maybe struct or something else. You and my approach just more right/usual for now days - like 4 wheels for car. Just added example of using."}], "tags": [], "owner": {"reputation": 33, "user_id": 10622587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/392b7c3ceacbb3df8194dec43b8195cc?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewF", "link": "https://stackoverflow.com/users/10622587/andrewf"}, "is_accepted": false, "score": 0, "last_activity_date": 1543437717, "creation_date": 1543437717, "answer_id": 53527758, "question_id": 53526642, "link": "https://stackoverflow.com/questions/53526642/i-need-a-solution-to-eliminate-public-strings-in-classes/53527758#53527758", "title": "I need a solution to eliminate public strings in classes", "body": "<p>If you need in future doing some different for IronMan or CaptainAmerica - then better make base class or interface and inherit from it like:</p>\n\n<pre><code>public class Hero\n{\n  public string fName;\n  public string lName;\n  public int Age;\n  public override string ToString()  // for easy \"access them from the console\"\n  {\n    return $\"{fName}:{lName}:{Age}\";\n  }\n}\nclass IronMan:Hero\n{\n}\nclass CaptainAmerica:Hero\n{\n}\n</code></pre>\n\n<p>and use it:</p>\n\n<pre><code>Hero iron = new IronMan() { fName = \"i\", lName = \"in\", Age = 10 };\nHero cap = new CaptainAmerica() { fName = \"c\", lName = \"cn\", Age = 10 };\n\nConsole.WriteLine(iron.ToString());\nConsole.WriteLine(cap.ToString());\n</code></pre>\n\n<p>or do something based on type:</p>\n\n<pre><code>Hero noname = iron;\n//.....\nnoname = new CaptainAmerica() { fName = \"c\", lName = \"cnn\", Age = 15 };\n//.....\nif (noname.GetType()==typeof(IronMan))\n{\n  //do for iron\n}\n</code></pre>\n\n<p>(but better way for last - use inheritance and patterns approach)</p>\n"}], "owner": {"reputation": 135, "user_id": 7718608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad51c505fc5788a3515093625628ecb?s=128&d=identicon&r=PG", "display_name": "jkuehlin", "link": "https://stackoverflow.com/users/7718608/jkuehlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1543457262, "creation_date": 1543432857, "question_id": 53526642, "link": "https://stackoverflow.com/questions/53526642/i-need-a-solution-to-eliminate-public-strings-in-classes", "title": "I need a solution to eliminate public strings in classes", "body": "<p>I'm brand new to coding and simply learning how to call members of a class. If I want to create and store multiple fields and access them from the console, please recommend the proper way of doing this. I've been told multiple public variables in classes are not efficient. Please advise. Thank you!</p>\n\n<pre><code>public class MainClass\n{\n\n    class IronMan\n    {\n        public string fName = \"Tony\";\n        public string lName = \"Stark\";\n        public int Age = 50;\n\n    }\n\n    class CaptainAmerica\n    {\n        public string fName = \"Steve\";\n        public string lName = \"Rogers\";\n        public int Age = 126;\n    }\n\n    public static void Main()\n    {\n        CaptainAmerica avenger = new CaptainAmerica();\n        Console.WriteLine(avenger.fName);\n    }  \n}\n</code></pre>\n"}, {"tags": ["c#", "http", "restsharp"], "comments": [{"owner": {"reputation": 1175, "user_id": 783773, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/V078G.jpg?s=128&g=1", "display_name": "Michele", "link": "https://stackoverflow.com/users/783773/michele"}, "edited": false, "score": 0, "creation_date": 1552820687, "post_id": 53526637, "comment_id": 97148818, "body": "Did you found a solution?"}, {"owner": {"reputation": 51, "user_id": 5517742, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-b2tqMU5puTM/AAAAAAAAAAI/AAAAAAAAE6c/dhxqcOfdMxo/photo.jpg?sz=128", "display_name": "Igor Stephano", "link": "https://stackoverflow.com/users/5517742/igor-stephano"}, "reply_to_user": {"reputation": 1175, "user_id": 783773, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/V078G.jpg?s=128&g=1", "display_name": "Michele", "link": "https://stackoverflow.com/users/783773/michele"}, "edited": false, "score": 0, "creation_date": 1554737665, "post_id": 53526637, "comment_id": 97852706, "body": "Unfortunatelly haven&#39;t found one. I&#39;ve read that maybe I should do a native http call or maybe look for another library."}], "answers": [{"comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 2, "creation_date": 1554819031, "post_id": 55594708, "comment_id": 97886299, "body": "This is dangerous: <code>var responseHttp = httpClient.SendAsync(requestHttp).Result;</code> You shouldn&#39;t use .Result to access the result. That can result in a deadlock. You should <code>await</code> the results. I suggest you read through the <a href=\"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx\" rel=\"nofollow noreferrer\">Async Await Best Practices</a>."}], "tags": [], "owner": {"reputation": 1175, "user_id": 783773, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/V078G.jpg?s=128&g=1", "display_name": "Michele", "link": "https://stackoverflow.com/users/783773/michele"}, "is_accepted": false, "score": 1, "last_activity_date": 1575299734, "last_edit_date": 1575299734, "creation_date": 1554818517, "answer_id": 55594708, "question_id": 53526637, "link": "https://stackoverflow.com/questions/53526637/restsharp-with-http-2-0/55594708#55594708", "title": "RestSharp with HTTP 2.0", "body": "<p>I know that the question is old, but someone could be found my solution useful.</p>\n\n<p>Actually (apr-2019) RestSharp doesn't support HTTP/2.0 request.</p>\n\n<p>The only way I've found is use the standard <code>System.Net.Http.HttpRequestMessage</code> to send the REST request, in this way:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var http2Handler = new Http2Handler();\nusing (var httpClient = new HttpClient(http2Handler))\n{\n    var requestHttp = new HttpRequestMessage {\n        RequestUri = new Uri(yourUrl),\n        // ...\n    };\n\n    var responseHttp = httpClient.SendAsync(requestHttp).Result;\n    // ... response elaboration\n}\n</code></pre>\n\n<p>Where <code>Http2Handler</code> simply is:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class Http2Handler : System.Net.Http.WinHttpHandler\n{\n    protected override Task&lt;HttpResponseMessage&gt; SendAsync(HttpRequestMessage request, System.Threading.CancellationToken cancellationToken)\n    {\n        request.Version = new Version(\"2.0\");\n        return base.SendAsync(request, cancellationToken);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5517742, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-b2tqMU5puTM/AAAAAAAAAAI/AAAAAAAAE6c/dhxqcOfdMxo/photo.jpg?sz=128", "display_name": "Igor Stephano", "link": "https://stackoverflow.com/users/5517742/igor-stephano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1138, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1575299734, "creation_date": 1543432849, "last_edit_date": 1543433285, "question_id": 53526637, "link": "https://stackoverflow.com/questions/53526637/restsharp-with-http-2-0", "title": "RestSharp with HTTP 2.0", "body": "<p>I'm trying to make requests (GET/POST) using RestSharp with HTTP 2.0</p>\n\n<p>With the following code generates HTTP 1.1 requests. The server is configured to support HTTP 2.0.</p>\n\n<pre><code>        var restClient = new RestClient(URL);\n        IRestRequest restRequest = new RestRequest(CONTEXT, Method.GET);\n        restRequest.AddHeader(\"Accept\", \"application/json\");\n        restRequest.AddHeader(\"Content-Type\", \"application/json\");\n        IRestResponse restResponse = restClient.Execute(restRequest);\n</code></pre>\n\n<p>Any thoughts on how to set explicitly the HTTP version to 2.0?</p>\n"}, {"tags": ["c#", "excel", "openxml"], "comments": [{"owner": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "edited": false, "score": 0, "creation_date": 1543433607, "post_id": 53526614, "comment_id": 93922455, "body": "It&#39;s been years since I did this - but you can do anything you want using the Excel Object Model: <a href=\"https://docs.microsoft.com/en-us/visualstudio/vsto/excel-object-model-overview?view=vs-2017\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/visualstudio/vsto/&hellip;</a>"}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1543441578, "post_id": 53526614, "comment_id": 93925927, "body": "There&#39;s just one catch: every hour you spend automating Excel with .NET interop code subtracts one month from your life. Same goes for anyone who has to maintain it."}], "answers": [{"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": true, "score": 0, "last_activity_date": 1543437842, "last_edit_date": 1543437842, "creation_date": 1543436065, "answer_id": 53527408, "question_id": 53526614, "link": "https://stackoverflow.com/questions/53526614/update-excel-file-openxml-format-with-c/53527408#53527408", "title": "Update Excel file (OpenXml format) with C#", "body": "<p>Here's a real simple class using the <a href=\"https://www.nuget.org/packages/EPPlus/\" rel=\"nofollow noreferrer\">EPPlus</a> library. It updates an Excel file by reversing the text in the first column of every row. You can test it using any Excel spreadsheet with text in the first column.</p>\n\n<p>Replace <code>ReverseText</code> with whatever it is that decrypts the value.</p>\n\n<pre><code>public class ExcelUpdater\n{\n    public void UpdateExcel(string pathToFile)\n    {\n        using (var package = new ExcelPackage(new FileInfo(pathToFile)))\n        {\n            var worksheet = package.Workbook.Worksheets.First();\n            var lastRow = worksheet.Dimension.End.Row;\n            for (var row = 1; row &lt;= lastRow; row++)\n            {\n                worksheet.Cells[row, 1].Value = ReverseText(worksheet.Cells[row, 1].Text);\n            }\n            package.Save();\n        }\n    }\n\n    private string ReverseText(string value)\n    {\n        return new string(value.Reverse().ToArray());\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1285, "user_id": 4451095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-v_H2Lz65FyE/AAAAAAAAAAI/AAAAAAAAAJA/aIqzYDYErCw/photo.jpg?sz=128", "display_name": "Blair Holmes", "link": "https://stackoverflow.com/users/4451095/blair-holmes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 53527408, "answer_count": 1, "score": 0, "last_activity_date": 1543437842, "creation_date": 1543432729, "question_id": 53526614, "link": "https://stackoverflow.com/questions/53526614/update-excel-file-openxml-format-with-c", "title": "Update Excel file (OpenXml format) with C#", "body": "<p>I have a requirement to update a few columns on every row in an Excel sheet that will be uploaded from a web browser (I need to decrypt the values that are in the sheet from those columns and replace them with the true values).  After the replacement happens, I will just push the updated file back down to the client.</p>\n\n<p>I've worked with NPOI in the past but I'm wondering if there's a better solution out there now to accomplish this.  I did a little digging before making this post and found <a href=\"https://github.com/ExcelDataReader/ExcelDataReader\" rel=\"nofollow noreferrer\">ExcelDataReader</a> but I couldn't find an easy way to do anything other than read Excel files using that library and my requirements are to do an update to the file.</p>\n\n<p>Any suggestions would be greatly appreciated.</p>\n"}, {"tags": ["c#", "unity3d", "gameobject"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1543433121, "post_id": 53526483, "comment_id": 93922220, "body": "Please <a href=\"https://stackoverflow.com/posts/53526483/edit\">edit</a> your question and include the text of the error it gives you."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10072400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f1d7ce9bba6ff3325c6d3157603bade?s=128&d=identicon&r=PG&f=1", "display_name": "Mattonio", "link": "https://stackoverflow.com/users/10072400/mattonio"}, "edited": false, "score": 0, "creation_date": 1543434235, "post_id": 53526910, "comment_id": 93922724, "body": "Assets/collider.cs(23,10): error CS1061: Type <code>UnityEngine.GameObject&#39; does not contain a definition for </code>GameObject&#39; and no extension method <code>GameObject&#39; of type </code>UnityEngine.GameObject&#39; could be found. Are you missing an assembly reference?"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "reply_to_user": {"reputation": 23, "user_id": 10072400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f1d7ce9bba6ff3325c6d3157603bade?s=128&d=identicon&r=PG&f=1", "display_name": "Mattonio", "link": "https://stackoverflow.com/users/10072400/mattonio"}, "edited": false, "score": 0, "creation_date": 1543434647, "post_id": 53526910, "comment_id": 93922952, "body": "@Mattonio Okay, what&#39;s on line 23? Your question has <code>Spawn.SetActive(true);</code> on line 23, but that doesn&#39;t match what the error is talking about. You&#39;re probably using <code>Spawn.GameObject.xyz</code> at some point, when you should be using <code>Spawn.xyz</code>."}], "tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": false, "score": 0, "last_activity_date": 1543433987, "creation_date": 1543433987, "answer_id": 53526910, "question_id": 53526483, "link": "https://stackoverflow.com/questions/53526483/c-in-unity-setactive-several-gameobjects-from-player-entering-trigger-area/53526910#53526910", "title": "C# in Unity, SetActive several gameObjects from player entering trigger area", "body": "<p><code>gameObject</code> isn't a type, but <code>GameObject</code> is.</p>\n\n<p>Get rid of <code>public gameObject Spawn;</code> and use <code>public GameObject Spawn;</code> to declare a <code>GameObject</code> property called <code>Spawn</code></p>\n"}], "owner": {"reputation": 23, "user_id": 10072400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f1d7ce9bba6ff3325c6d3157603bade?s=128&d=identicon&r=PG&f=1", "display_name": "Mattonio", "link": "https://stackoverflow.com/users/10072400/mattonio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 335, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1543438123, "creation_date": 1543432176, "last_edit_date": 1543438123, "question_id": 53526483, "link": "https://stackoverflow.com/questions/53526483/c-in-unity-setactive-several-gameobjects-from-player-entering-trigger-area", "title": "C# in Unity, SetActive several gameObjects from player entering trigger area", "body": "<p>Brand new to C# and Unity.Please be nice I've been at this all night. Every tutorial I poor through says changing an object from invisible to visible is as simple as setting the game object to on. However Unity gives me an error when I declare a game object in this script. The objective is, when the trigger is entered, several game objects called 'spawn' will become visible. </p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class collider : MonoBehaviour \n{\n\n    public gameObject Spawn; // I get error On this line that type is expected, \n                             //not property. It wants a Transform&gt;\n    private Rigidbody rb;\n    void Start () \n    {\n        rb = GetComponent&lt;Rigidbody&gt;();\n\n    }\n\n\n\n    void OnTriggerEnter(BoxCollider other)\n    {\n\n\n        if (other.gameObject.CompareTag(\"Player\"))\n        {\n            Spawn.SetActive(true);\n\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "code-generation"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1543432145, "post_id": 53526430, "comment_id": 93921774, "body": "I don&#39;t see why you would want to do that. Just name your variables accordingly, or use a class (make your own or use <code>Timespan</code>, for example) that has properties like <code>Seconds</code>, <code>Minutes</code>, etc..."}, {"owner": {"reputation": 8941, "user_id": 445112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c726499af0166ce20188ef12a7080cd4?s=128&d=identicon&r=PG&f=1", "display_name": "Roy T.", "link": "https://stackoverflow.com/users/445112/roy-t"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1543432206, "post_id": 53526430, "comment_id": 93921809, "body": "@RufusL I think proper naming doesn&#39;t prevent mistakes that could&#39;ve easily been prevented by proper typing. And unfortunately I can&#39;t use classes as this code is used in a high performance parts of a render engine. Making it a class means that the instanced need to be collected by the GC and that the class becomes a lot heavier than the 32bits it should represent in memory. It also adds an extra step of indirection which messes with data locality."}, {"owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "edited": false, "score": 0, "creation_date": 1543432413, "post_id": 53526430, "comment_id": 93921905, "body": "You can do type aliases I.E. <code>using Seconds = System.Single</code>, etc. but that doesn&#39;t provide any actual type safety. Just either cleaner or more confusing syntax depending on how you look at it. Otherwise I&#39;ve never found a way that doesn&#39;t involve a lot of boilerplate code w/ operators and conversions."}, {"owner": {"reputation": 7497, "user_id": 90475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777854bfd2424a0bf0905adaf7455301?s=128&d=identicon&r=PG", "display_name": "GregC", "link": "https://stackoverflow.com/users/90475/gregc"}, "edited": false, "score": 1, "creation_date": 1543432849, "post_id": 53526430, "comment_id": 93922091, "body": "Have you considered using F# units of measure for business logic, then calling it from C#? <a href=\"https://fsharpforfunandprofit.com/posts/units-of-measure/\" rel=\"nofollow noreferrer\">fsharpforfunandprofit.com/posts/units-of-measure</a>"}, {"owner": {"reputation": 8941, "user_id": 445112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c726499af0166ce20188ef12a7080cd4?s=128&d=identicon&r=PG&f=1", "display_name": "Roy T.", "link": "https://stackoverflow.com/users/445112/roy-t"}, "reply_to_user": {"reputation": 7497, "user_id": 90475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777854bfd2424a0bf0905adaf7455301?s=128&d=identicon&r=PG", "display_name": "GregC", "link": "https://stackoverflow.com/users/90475/gregc"}, "edited": false, "score": 0, "creation_date": 1543432921, "post_id": 53526430, "comment_id": 93922122, "body": "@GregC, that&#39;s an interesting idea actually. I&#39;ll experiment with that!"}, {"owner": {"reputation": 8734, "user_id": 133183, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2c77da3d1d53514294331467d2589139?s=128&d=identicon&r=PG", "display_name": "Cygon", "link": "https://stackoverflow.com/users/133183/cygon"}, "edited": false, "score": 1, "creation_date": 1543433282, "post_id": 53526430, "comment_id": 93922289, "body": "If only C# had some kind of assembly-wide typedefs / type aliases, then a concept similar to C++&#39;s std::chrono (they have two types, duration and time_point which have typedefs for milliseconds, seconds, minutes, hours, etc.) might be possible."}], "answers": [{"comments": [{"owner": {"reputation": 8941, "user_id": 445112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c726499af0166ce20188ef12a7080cd4?s=128&d=identicon&r=PG&f=1", "display_name": "Roy T.", "link": "https://stackoverflow.com/users/445112/roy-t"}, "edited": false, "score": 0, "creation_date": 1543434980, "post_id": 53526756, "comment_id": 93923101, "body": "I&#39;m not very familiar with F#, but as far as I can tell my code now generates a nice get hash code and equals. The other operators are still troublesome. But maybe it can be solved by someone who understands F# better. What I have now is:   <code>type Meters&lt;[&lt;Measure&gt;]&#39;u&gt; =         struct             val value:float32&lt;&#39;u&gt;         end         new (v) = {value = v}</code>"}, {"owner": {"reputation": 8941, "user_id": 445112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c726499af0166ce20188ef12a7080cd4?s=128&d=identicon&r=PG&f=1", "display_name": "Roy T.", "link": "https://stackoverflow.com/users/445112/roy-t"}, "edited": false, "score": 0, "creation_date": 1543437747, "post_id": 53526756, "comment_id": 93924320, "body": "Ah I now found that its actually impossible to work well with Units of Measure from C# <code>It also means that there is no way to expose units of measure as part of a public API to another .NET language (except other F# assemblies).</code> (At the bottom of this page) <a href=\"https://fsharpforfunandprofit.com/posts/units-of-measure/\" rel=\"nofollow noreferrer\">fsharpforfunandprofit.com/posts/units-of-measure</a>"}, {"owner": {"reputation": 7497, "user_id": 90475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777854bfd2424a0bf0905adaf7455301?s=128&d=identicon&r=PG", "display_name": "GregC", "link": "https://stackoverflow.com/users/90475/gregc"}, "reply_to_user": {"reputation": 8941, "user_id": 445112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c726499af0166ce20188ef12a7080cd4?s=128&d=identicon&r=PG&f=1", "display_name": "Roy T.", "link": "https://stackoverflow.com/users/445112/roy-t"}, "edited": false, "score": 0, "creation_date": 1543438233, "post_id": 53526756, "comment_id": 93924556, "body": "Essentially, you&#39;d use C# for display purposes, but all your scientific computations would live in F# land.  Besides, common SI units of measure are already defined, no need to reinvent a meter or a second"}, {"owner": {"reputation": 7497, "user_id": 90475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777854bfd2424a0bf0905adaf7455301?s=128&d=identicon&r=PG", "display_name": "GregC", "link": "https://stackoverflow.com/users/90475/gregc"}, "reply_to_user": {"reputation": 8941, "user_id": 445112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c726499af0166ce20188ef12a7080cd4?s=128&d=identicon&r=PG&f=1", "display_name": "Roy T.", "link": "https://stackoverflow.com/users/445112/roy-t"}, "edited": false, "score": 0, "creation_date": 1543438311, "post_id": 53526756, "comment_id": 93924587, "body": "open FSharp.Data.UnitSystems.SI"}, {"owner": {"reputation": 8941, "user_id": 445112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c726499af0166ce20188ef12a7080cd4?s=128&d=identicon&r=PG&f=1", "display_name": "Roy T.", "link": "https://stackoverflow.com/users/445112/roy-t"}, "edited": false, "score": 0, "creation_date": 1543607882, "post_id": 53526756, "comment_id": 93993945, "body": "Ah that&#39;s unfortunately not possible without a major rewrite. Which is unfortunate, it would&#39;ve been cool. Right now I&#39;m thinking of just generating the classes myself pre-build with a template and a powershell script. I&#39;m also looking at T4 templates. this seems useful: <a href=\"http://www.progware.org/Blog/post/Code-Generation-with-T4-Templates-e28093-A-must-have-for-developers.aspx\" rel=\"nofollow noreferrer\">progware.org/Blog/post/&hellip;</a>"}, {"owner": {"reputation": 7497, "user_id": 90475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777854bfd2424a0bf0905adaf7455301?s=128&d=identicon&r=PG", "display_name": "GregC", "link": "https://stackoverflow.com/users/90475/gregc"}, "reply_to_user": {"reputation": 8941, "user_id": 445112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c726499af0166ce20188ef12a7080cd4?s=128&d=identicon&r=PG&f=1", "display_name": "Roy T.", "link": "https://stackoverflow.com/users/445112/roy-t"}, "edited": false, "score": 0, "creation_date": 1543712102, "post_id": 53526756, "comment_id": 94017065, "body": "If I had to choose between decent compiler support and hand-crafted codegen, I&#39;d rely on compiler every time.  Alas, tis not my decision to make"}], "tags": [], "owner": {"reputation": 7497, "user_id": 90475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777854bfd2424a0bf0905adaf7455301?s=128&d=identicon&r=PG", "display_name": "GregC", "link": "https://stackoverflow.com/users/90475/gregc"}, "is_accepted": false, "score": 1, "last_activity_date": 1543433358, "creation_date": 1543433358, "answer_id": 53526756, "question_id": 53526430, "link": "https://stackoverflow.com/questions/53526430/generate-a-lot-of-struct-types-that-have-the-same-functionality-as-float-system/53526756#53526756", "title": "Generate a lot of struct types that have the same functionality as float (System.Single)", "body": "<p>Try <a href=\"https://fsharpforfunandprofit.com/posts/units-of-measure\" rel=\"nofollow noreferrer\">Units of Measure</a> feature in F#.  It enforces units of measure at compile-time, doesn't affect performance.  Assembly made in F# can be easily used from C# if public surface is kept simple.  Units of measure slapped onto a float are compiled to System.Double in IL.</p>\n\n<p>As far as the bonus is concerned, the units of measure are maintained and verified by compiler.  If meters are divided by seconds, the result will be in meters per second.</p>\n"}, {"comments": [{"owner": {"reputation": 8941, "user_id": 445112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c726499af0166ce20188ef12a7080cd4?s=128&d=identicon&r=PG&f=1", "display_name": "Roy T.", "link": "https://stackoverflow.com/users/445112/roy-t"}, "edited": false, "score": 0, "creation_date": 1543607948, "post_id": 53553674, "comment_id": 93993982, "body": "That&#39;s a great answer. Also the idea of using partial files is smart. I currently don&#39;t have a dependency on npm. But I&#39;ll definitely take a look at this."}, {"owner": {"reputation": 21, "user_id": 9370196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ceb80c3844bfd8653ed4ae67e85b0f3?s=128&d=identicon&r=PG&f=1", "display_name": "maurice", "link": "https://stackoverflow.com/users/9370196/maurice"}, "reply_to_user": {"reputation": 8941, "user_id": 445112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c726499af0166ce20188ef12a7080cd4?s=128&d=identicon&r=PG&f=1", "display_name": "Roy T.", "link": "https://stackoverflow.com/users/445112/roy-t"}, "edited": false, "score": 0, "creation_date": 1549373159, "post_id": 53553674, "comment_id": 95872444, "body": "@Roy T. Did you get a chance to take a look? I&#39;ve updated the answer for version 1.3 of the <a href=\"https://www.npmjs.com/package/@yellicode/csharp\" rel=\"nofollow noreferrer\">C# extension</a>, which can take more structured input."}, {"owner": {"reputation": 8941, "user_id": 445112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c726499af0166ce20188ef12a7080cd4?s=128&d=identicon&r=PG&f=1", "display_name": "Roy T.", "link": "https://stackoverflow.com/users/445112/roy-t"}, "edited": false, "score": 0, "creation_date": 1549714373, "post_id": 53553674, "comment_id": 96007387, "body": "in the end I wrote a little bit of C# code to generate the simple structures I needed. A bit of a hack but the easiest solution, with the least dependencies :)."}], "tags": [], "owner": {"reputation": 21, "user_id": 9370196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ceb80c3844bfd8653ed4ae67e85b0f3?s=128&d=identicon&r=PG&f=1", "display_name": "maurice", "link": "https://stackoverflow.com/users/9370196/maurice"}, "is_accepted": false, "score": 1, "last_activity_date": 1549373004, "last_edit_date": 1549373004, "creation_date": 1543565699, "answer_id": 53553674, "question_id": 53526430, "link": "https://stackoverflow.com/questions/53526430/generate-a-lot-of-struct-types-that-have-the-same-functionality-as-float-system/53553674#53553674", "title": "Generate a lot of struct types that have the same functionality as float (System.Single)", "body": "<p>If you want to stay with C#, you could use a simple <a href=\"https://www.yellicode.com\" rel=\"nofollow noreferrer\">Yellicode</a> template to generate the boilerplate code (using a bit of TypeScript). Here's a template that generates partial structs (<code>struct-types.template.ts</code>). </p>\n\n<pre><code>import { Generator, TextWriter } from '@yellicode/templating';\nimport { CSharpWriter } from '@yellicode/csharp';\n\nvar structNames = ['Seconds', 'Meters']; // add more names here \n\nGenerator.generate({ outputFile: './structs.cs' }, (output: TextWriter) =&gt; {\n    var csharp = new CSharpWriter(output);\n    structNames.forEach(structName =&gt; {     \n        const struct: StructDefinition = { name: structName, accessModifier: 'public', isPartial: true, implements: [`IEquatable&lt;${structName}&gt;`] } as StructDefinition;\n        csharp.writeStructBlock(struct, () =&gt; {\n            // Ctor            \n            csharp.writeMethodBlock({ isConstructor: true, name: structName, accessModifier: 'public', parameters: [{ typeName: 'float', name: 'value' }] }, () =&gt; {\n                csharp.writeLine('this.Value = value;');\n            });\n            csharp.writeLine();\n            // Value            \n            csharp.writeAutoProperty({ typeName: 'float', name: 'value', accessModifier: 'public', hasGetter: true });\n            csharp.writeLine();\n            // Operators \n            csharp.writeLine(`public static implicit operator ${structName}(float value) =&gt; new ${structName}(value);`);\n            csharp.writeLine();\n            // ... other operators omitted for brevity, type-specific conversion operators would be in a partial file\n            // Methods\n            csharp.writeLine('public override int GetHashCode() =&gt; this.Value.GetHashCode();');\n            csharp.writeLine();\n            // ... other methods omitted for brevity\n        })\n        csharp.writeLine();\n    })\n}); \n</code></pre>\n\n<p>The configuration file (<code>codegenconfig.json</code>) should look as follows:</p>\n\n<pre><code>{\n    \"compileTypeScript\": true,\n    \"templates\": [\n        {\n           \"templateFile\": \"struct-types.template.ts\"\n        }\n    ]\n}\n</code></pre>\n\n<p>Quick start (make sure you have NPM installed, then open a command prompt):</p>\n\n<ol>\n<li><code>npm install @yellicode/cli -g</code></li>\n<li>Create a directory with the above files and run <code>npm init -y</code></li>\n<li><code>npm install --save-dev @yellicode/templating  @yellicode/csharp</code></li>\n<li>Run <code>yellicode --watch</code> to generate your code.</li>\n</ol>\n\n<p>If you want a separate output file for each struct, start with the <code>structNames.forEach(..</code> loop and call <code>Generator.generate(...</code> for each struct.</p>\n"}], "owner": {"reputation": 8941, "user_id": 445112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c726499af0166ce20188ef12a7080cd4?s=128&d=identicon&r=PG&f=1", "display_name": "Roy T.", "link": "https://stackoverflow.com/users/445112/roy-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1549373004, "creation_date": 1543431955, "question_id": 53526430, "link": "https://stackoverflow.com/questions/53526430/generate-a-lot-of-struct-types-that-have-the-same-functionality-as-float-system", "title": "Generate a lot of struct types that have the same functionality as float (System.Single)", "body": "<p>I've created a code base where I heavily rely on the <code>float</code> struct. But a float can mean anything. Seconds, Meters, Radians, Kilos, Meters per second, Radian per second, etc.... Proper naming helps, but its still easy to mix things up. So I started write structs that wrap a float, for each unit. But its becoming increasingly cumbersome to write structs that:</p>\n\n<ul>\n<li>store their underlying float value</li>\n<li>all their operator (&lt;, &lt;=, >, >=, ==, !=, -, +, *, /)</li>\n<li>a proper Equals, GetHashCode, and ToString method</li>\n<li>The implementation of the IEquatable interface</li>\n</ul>\n\n<p>What is the easiest way to generate such structs so that I do not have to maintain so much code? </p>\n\n<p>Bonus questions: In such a way that I'm, still able to add some special operators. For example, I would like to add an operator that turns <code>Meters</code> / <code>Seconds</code> in <code>MetersPerSecond</code>.</p>\n\n<p><em>Edit: I'm on .Net Framework 4.7 and C# language level 7.3</em></p>\n\n<p>Here's my example <code>Seconds</code> struct. As you can imagine the Meters struct looks exactly the same.</p>\n\n<pre><code>public struct Seconds : IEquatable&lt;Seconds&gt;\n{\n    public Seconds(float value)\n    {\n        this.Value = value;\n    }\n\n    public float Value { get; }\n\n    public static implicit operator Seconds(float value) =&gt; new Seconds(value);\n\n    public static implicit operator Seconds(TimeSpan value) =&gt; new Seconds((float)value.TotalSeconds);\n\n    public static Seconds operator +(Seconds a, Seconds b) =&gt; new Seconds(a.Value + b.Value);\n\n    public static Seconds operator -(Seconds a, Seconds b) =&gt; new Seconds(a.Value - b.Value);\n\n    public static bool operator &gt;(Seconds a, Seconds b) =&gt; a.Value &gt; b.Value;\n\n    public static bool operator &lt;(Seconds a, Seconds b) =&gt; a.Value &lt; b.Value;\n\n    public static bool operator &gt;=(Seconds a, Seconds b) =&gt; a.Value &gt;= b.Value;\n\n    public static bool operator &lt;=(Seconds a, Seconds b) =&gt; a.Value &lt;= b.Value;\n\n    public static bool operator ==(Seconds a, Seconds b) =&gt; a.Equals(b);\n\n    public static bool operator !=(Seconds a, Seconds b) =&gt; !a.Equals(b);\n\n    public override int GetHashCode() =&gt; this.Value.GetHashCode();\n\n    public override bool Equals(object obj)\n    {\n        if (obj is Seconds)\n        {\n            return this.Equals((Seconds)obj);\n        }\n\n        return false;\n    }\n\n    public bool Equals(Seconds other) =&gt; other.Value == this.Value;\n\n    public override string ToString() =&gt; $\"{this.Value.ToString(\"F2\", CultureInfo.InvariantCulture)}s\";\n}   \n</code></pre>\n"}, {"tags": ["c#", "performance", "api-design", "appdomain"], "comments": [{"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1543490994, "post_id": 53526356, "comment_id": 93943297, "body": "&quot;Deserialization fails because of security restrictions.&quot; How so? Deserializing flat data shouldn&#39;t be subject to any restrictions -- it is in principle always possible to do. This should be an artifact of how the deserialization works (does it try to instantiate classes from the other domain)? I can&#39;t imagine what kind of security restrictions would prevent this, at least not the kind that are actually necessary. Note that the problem is not really different (and could in fact be implemented as) passing data between completely separate processes, rather than just separated domains."}, {"owner": {"reputation": 9985, "user_id": 58107, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3d2fcdd5a6abf7204973117f37a18671?s=128&d=identicon&r=PG", "display_name": "Bouke", "link": "https://stackoverflow.com/users/58107/bouke"}, "reply_to_user": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1543491117, "post_id": 53526356, "comment_id": 93943371, "body": "@JeroenMostert the exception I&#39;m getting is &quot;Request for the permission of type &#39;System.Security.Permissions.SecurityPermission, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&#39; failed.&quot;. The stack trace points to somewhere inside either MessagePack / Protobuf-net."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1543491536, "post_id": 53526356, "comment_id": 93943596, "body": "Hi; serialization library author here: indeed, by default, most serialization libraries do a <i>lot</i> of poking around with reflection - enough to trigger this kind of warning. There are ways of avoiding that, but ... it is a lot of work (and frankly I&#39;m still working on ways of making it easier / friendlier; I don&#39;t have that ready to roll today). If I had this scenario, I&#39;d be investigating how to grant security permissions <i>to the specific assembly</i> (or to the strong-name key of the library), such that you trust the <i>library</i> without trusting the user code"}, {"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1543491544, "post_id": 53526356, "comment_id": 93943603, "body": "It&#39;s probably stumbling up against <code>ReflectionPermission</code>(<a href=\"https://docs.microsoft.com/dotnet/framework/reflection-and-codedom/security-considerations-for-reflection\" rel=\"nofollow noreferrer\">see also</a>), but generating code at runtime is available even to non-privileged code (since .NET 2 SP1), so I&#39;m not clear what approach they&#39;re using."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1543491621, "post_id": 53526356, "comment_id": 93943640, "body": "@JeroenMostert probably things like <code>BindingFlags.NonPublic</code>, which... yeah, I do that <i>a lot</i>"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1543491774, "post_id": 53526356, "comment_id": 93943718, "body": "@bouke as a side note: I don&#39;t think it is going to be something I can adequately address in a Stack Overflow post, but if the scenario is something that can be demonstrated in a &quot;minimal repro&quot; style, it <i>is</i> something that I&#39;d be more than willing to look at as a github investigation (in my case, against protobuf-net), to see if we can find ways of making it work (perhaps by identifying the bits that are throwing, and avoiding the problematic scenarios - presumably, as said, <code>BindingFlags.NonPublic</code> etc)"}, {"owner": {"reputation": 9985, "user_id": 58107, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3d2fcdd5a6abf7204973117f37a18671?s=128&d=identicon&r=PG", "display_name": "Bouke", "link": "https://stackoverflow.com/users/58107/bouke"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1543491898, "post_id": 53526356, "comment_id": 93943793, "body": "@MarcGravell thank you so much for the information; I&#39;ll try a few different techniques from the comments you and Jeroen posted, and otherwise try and come up with a minimal repro."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1543497543, "post_id": 53526356, "comment_id": 93946908, "body": "The odds that you use the AppDomain correctly are rather low.  It is not the de/serialization of an object that is risky, it is what happens next.  Calling methods.  <i>That</i> code needs to live in the AD as well.  At which point the AD transition can&#39;t slow down anything anymore since everything happens in the AD.  Do be very careful with security theater, it is much more dangerous than regular code."}], "owner": {"reputation": 9985, "user_id": 58107, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3d2fcdd5a6abf7204973117f37a18671?s=128&d=identicon&r=PG", "display_name": "Bouke", "link": "https://stackoverflow.com/users/58107/bouke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1543496864, "creation_date": 1543431642, "last_edit_date": 1543491134, "question_id": 53526356, "link": "https://stackoverflow.com/questions/53526356/cross-appdomain-call-performance-with-complex-objects", "title": "Cross-AppDomain call performance with complex objects", "body": "<p>The app I'm working on allows users to provide their own code, which they build against an API that we have provided. We've recently moved the execution of user code to a separate AppDomain for security reasons. The API we provide passes the consumer an object graph (POCO) containing 100k+ objects. When this object passes the AppDomain boundary, all this data is serialized / deserialized using BinaryFormatter.</p>\n\n<ul>\n<li><p>BinaryFormatter is <a href=\"https://aloiskraus.wordpress.com/2017/04/23/the-definitive-serialization-performance-guide/\" rel=\"nofollow noreferrer\">slow</a> - O(n\u00b2) - it's not unusual for the serializer to take 1+ minute for serialization / deserialization.</p></li>\n<li><p>We can't change the API without causing a lot of breakage, so we're most likely stuck with it.</p></li>\n</ul>\n\n<p>So far I've tried the following:</p>\n\n<ul>\n<li><p>Mark the model that's passed as <code>MarshalByRefObject</code>. This causes even more degradation, as for every property access on the model, all that property's data is serialized; causing additional serialization/deserialization overhead.</p></li>\n<li><p>Box/Unbox the model that's passed with a container that uses MessagePack / Protobuf-net for serialization. In my unit tests, the serialization performs much better (e.g. 60 -> 5 seconds). However when actually using it in the restricted AppDomain, deserialization fails because of security restrictions.</p></li>\n</ul>\n\n<p>Some thoughts:</p>\n\n<ul>\n<li><p>The user's code is only called once with the big model, so it is serialized / deserialized only once.</p></li>\n<li><p>The data in the model originates from a Mongo database. The data is fetched from the database in a few seconds or less.</p></li>\n<li><p>I've been thinking about fetching the data from Mongo within the restricted AppDomain, however that probably requires lifting some restrictions and might cause security problems.</p></li>\n<li><p>I own the object in the client AppDomain that's proxied into the server AppDomain. This object then calls the user's code (through a RazorEngine template).</p></li>\n</ul>\n\n<p>So my question is, what can I do to improve the performance of calling the user's code, while maintaining the current API and keep the separation provided by the secondary AppDomain?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1543430790, "post_id": 53526100, "comment_id": 93921073, "body": "It would be helpful if you showed the code you have and describe specifically how it&#39;s not working."}, {"owner": {"reputation": 31, "user_id": 8934273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/743e9ca0c4adf4b3bf021f9e76250d82?s=128&d=identicon&r=PG&f=1", "display_name": "Aiixu", "link": "https://stackoverflow.com/users/8934273/aiixu"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1543431139, "post_id": 53526100, "comment_id": 93921261, "body": "edited :) But I can&#39;t show the current code because it does not do this at all. That&#39;s why I need help"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1543431209, "post_id": 53526100, "comment_id": 93921295, "body": "You need to show the code that&#39;s not working in order for anyone to properly answer (SO is not a code-writing service). Presumably it&#39;s similar to the answer of the question you linked?"}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1543431308, "post_id": 53526100, "comment_id": 93921343, "body": "To give directions we need to know where you&#39;re starting from."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1543431523, "post_id": 53526100, "comment_id": 93921443, "body": "Also, have you looked at this link from the comments of the question you linked? <a href=\"https://www.codeproject.com/Articles/3111/C-NET-Command-Line-Arguments-Parser\" rel=\"nofollow noreferrer\">C#/.NET Command Line Arguments Parser</a>"}, {"owner": {"reputation": 31, "user_id": 8934273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/743e9ca0c4adf4b3bf021f9e76250d82?s=128&d=identicon&r=PG&f=1", "display_name": "Aiixu", "link": "https://stackoverflow.com/users/8934273/aiixu"}, "edited": false, "score": 0, "creation_date": 1543432878, "post_id": 53526100, "comment_id": 93922103, "body": "I&#39;m starting from a answer from the link, the method with the dll import."}], "answers": [{"tags": [], "owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "is_accepted": true, "score": 0, "last_activity_date": 1543433080, "creation_date": 1543433080, "answer_id": 53526691, "question_id": 53526100, "link": "https://stackoverflow.com/questions/53526100/how-can-i-parse-line-arguments/53526691#53526691", "title": "How can I parse line arguments?", "body": "<p>In .net you have <code>static void Main(string[] args)</code>. So, if you pass something like <code>-push $a 75 $c 5</code>, your <code>args</code> will have 5 items. Lets say you have multiple</p>\n\n<blockquote>\n  <p>-push $a 75 $c 5 -push $b 100 $d 10</p>\n</blockquote>\n\n<p>You would need to do re-split by <code>-push</code> - <code>cmd = string.Join(\" \", args)</code> - you are back to original command line. Now, lets split again</p>\n\n<p>You need some model of course</p>\n\n<pre><code>public class ArgsPoco\n{\n    public int A {get;set;}\n    public int B {get;set;}\n    public int C {get;set;}\n}\n</code></pre>\n\n<p>Then you take your command and fill POCO</p>\n\n<pre><code>string[] pushSections = cmd.Split(new[]{\"-push\"});\nforeach (string sect in pushSections )\n{\n   string[] args = sect.Split('$', StringSplitOptions.RemoveEmptyEntries);\n   foreach (string arg in args)\n   {\n       var poco = new ArgsPoco();\n       SetProperty(arg, poco);\n   }\n   _somePocoList.Add(poco);\n}\n\nprivate void SetProperty(string arg, ArgsPoco poco)\n{\n    string item = arg.Trim();\n    int val = Convert.ToInt32(item.Substring(1).Trim());\n    if (item.StartsWith(\"a\"))\n        poco.A = val;\n    else if (item.StartsWith(\"b\"))\n        poco.B = val;\n    else if (item.StartsWith(\"c\"))\n        poco.C = val;\n}\n</code></pre>\n\n<p>Then, you just decorate your POCO with some JSon serialization attributes from <code>Newtonsoft.Json</code> like </p>\n\n<pre><code>[Json . . . . \npublic class ArgsPoco\n{\n    [Json . . . . \n    public int A {get;set;}\n . . . . \n</code></pre>\n\n<p>I m not clear here what specific output you need. But bottom line, you serialize your model the way you want, using existent tools or build custom/</p>\n"}], "owner": {"reputation": 31, "user_id": 8934273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/743e9ca0c4adf4b3bf021f9e76250d82?s=128&d=identicon&r=PG&f=1", "display_name": "Aiixu", "link": "https://stackoverflow.com/users/8934273/aiixu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 53526691, "answer_count": 1, "score": -3, "last_activity_date": 1543433314, "creation_date": 1543430683, "last_edit_date": 1543433314, "question_id": 53526100, "link": "https://stackoverflow.com/questions/53526100/how-can-i-parse-line-arguments", "title": "How can I parse line arguments?", "body": "<p>I'm currently working on a console app and I would like to parse a line that a user could give to the program.<br>\nI tried some code from <a href=\"https://stackoverflow.com/questions/298830/split-string-containing-command-line-parameters-into-string-in-c-sharp\">Split string containing command-line parameters into string[] in C#</a> but it isn't this that I want to do.<br>\nThese scripts works if I enter something like that <code>-push \"test\"</code>, but the user can enter something like that <code>-push $a 75 $c 5</code>.<br>\nI would like a script who, if the user enter this command line:</p>\n\n<blockquote>\n  <p>-p $a 75 $c 5 -p $t \"test test\" &amp;c 1 -p $c 5 $a 75 $a 76</p>\n</blockquote>\n\n<p>the parse function would return :  </p>\n\n<blockquote>\n  <p>{ { \"PUSH\", { { \"A\", 75 }, { \"C\", 5 } } }, { \"PUSH\", { { \"T\", \"test test\" }, { \"C\", 1 } } }, { \"PUSH\", { { \"C\", 5 }, { \"A\", 75 }, { \"A\", 76 } } } }</p>\n</blockquote>\n\n<p>Then, I would like a modulable script where I could add a command like <code>WAIT</code> and arguments like <code>$ms [int]</code>. (If possible)</p>\n\n<p><strong>Edit</strong> :<br>\nHow to read : identifier[type]<br>\nParser output format :</p>\n\n<blockquote>\n  <p>{ Arg0[Command], Arg0[Command], Arg0[Command]... }</p>\n</blockquote>\n\n<p>Command format :</p>\n\n<blockquote>\n  <p>{ Name[string], Args[Arg[]] }</p>\n</blockquote>\n\n<p>Arg format :</p>\n\n<blockquote>\n  <p>{ Name[string], Value[object] }</p>\n</blockquote>\n\n<p>Exemple output :</p>\n\n<blockquote>\n  <p>{ { \"CommandName\", { { \"Arg0\", \"arg0\" }, { \"Arg1\", 1 } } } }</p>\n</blockquote>\n"}, {"tags": ["c#", "list", "linq", "any", "removeall"], "answers": [{"tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": true, "score": 8, "last_activity_date": 1543430222, "creation_date": 1543430222, "answer_id": 53525995, "question_id": 53525934, "link": "https://stackoverflow.com/questions/53525934/how-do-i-use-any-instead-of-removeall-to-exclude-list-items/53525995#53525995", "title": "How do I use Any() instead of RemoveAll() to exclude list items?", "body": "<p><code>Any</code> doesn't make sense here, just use <code>Except</code>:</p>\n\n<pre><code>var filtered = ListWithAllItems.Except(listForExcluding);\n</code></pre>\n\n<p><code>ToList</code> if you actually need a list at the end, otherwise don't realize IEnumerables for no reason (causes an extra enumeration).</p>\n\n<p>If you really want the <code>RemoveAll</code> version for some reason, use <code>Contains</code> (this is also how to do it using <code>Where</code>):</p>\n\n<pre><code>x.RemoveAll(p =&gt; listForExcluding.Contains(p));\n</code></pre>\n\n<p>There's a number of other valid lines... but seriously just go with <code>Except</code></p>\n"}], "owner": {"reputation": 920, "user_id": 8340311, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9fQy4.jpg?s=128&g=1", "display_name": "mr_blond", "link": "https://stackoverflow.com/users/8340311/mr-blond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 53525995, "answer_count": 1, "score": 1, "last_activity_date": 1543431155, "creation_date": 1543429975, "last_edit_date": 1543431155, "question_id": 53525934, "link": "https://stackoverflow.com/questions/53525934/how-do-i-use-any-instead-of-removeall-to-exclude-list-items", "title": "How do I use Any() instead of RemoveAll() to exclude list items?", "body": "<p><code>ListWithAllItems</code> contains two type of items: ones I want select, and ones that I don't.</p>\n\n<p><code>listForExcluding</code> contains item that I should to exclude:</p>\n\n<pre><code>List&lt;string&gt; listForExcluding = ...;\n</code></pre>\n\n<p>So I do it in two strings:</p>\n\n<pre><code>List&lt;string&gt; x = ListWithAllItems.ToList();\n\nx.RemoveAll(p =&gt; listForExcluding.Any(itemForExclude =&gt; itemForExclude == p));\n</code></pre>\n\n<p>How do I use <code>Any()</code> instead of <code>RemoveAll()</code> to get this query with one line?</p>\n"}, {"tags": ["javascript", "c#", "json", "asp.net-mvc"], "comments": [{"owner": {"reputation": 39336, "user_id": 1377002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oDeF7.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/1377002/andy"}, "edited": false, "score": 1, "creation_date": 1543430005, "post_id": 53525920, "comment_id": 93920698, "body": "Sorry, Leooso. Questions to this site need to be posted in English."}, {"owner": {"reputation": 194, "user_id": 10647645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUwPH.png?s=128&g=1", "display_name": "LeoHenrique", "link": "https://stackoverflow.com/users/10647645/leohenrique"}, "reply_to_user": {"reputation": 39336, "user_id": 1377002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oDeF7.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/1377002/andy"}, "edited": false, "score": 0, "creation_date": 1543430101, "post_id": 53525920, "comment_id": 93920735, "body": "ooooh, sorry, i&#39;ll translate"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1543430378, "post_id": 53525920, "comment_id": 93920873, "body": "why not use a view model with that structure instead of using string and then later parsing ?"}, {"owner": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 0, "creation_date": 1543430403, "post_id": 53525920, "comment_id": 93920889, "body": "you can&#39;t have the same variable holding 3 different values... the better approach you can get is to have a <code>songs</code> array with objects inside, something like: <code>songs = [{&quot;id&quot;:0...}, {&quot;id&quot;:1...}, ...]</code>"}, {"owner": {"reputation": 194, "user_id": 10647645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUwPH.png?s=128&g=1", "display_name": "LeoHenrique", "link": "https://stackoverflow.com/users/10647645/leohenrique"}, "reply_to_user": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 0, "creation_date": 1543430500, "post_id": 53525920, "comment_id": 93920942, "body": "@CalvinNunes, yes, that is what i like: songs = [{&quot;id&quot;:0...}, {&quot;id&quot;:1...},...], sorry. But i cant do it.. i&#39;ll edit"}, {"owner": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 0, "creation_date": 1543430700, "post_id": 53525920, "comment_id": 93921040, "body": "you know that in <code>GenerateJSON()</code> is missing a <code>}</code> right after <code>song: $(&quot;.song&quot; + i).val()</code>  right?  Or is it to be an ajax Call to every <code>for</code> loop?"}, {"owner": {"reputation": 194, "user_id": 10647645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUwPH.png?s=128&g=1", "display_name": "LeoHenrique", "link": "https://stackoverflow.com/users/10647645/leohenrique"}, "edited": false, "score": 0, "creation_date": 1543430775, "post_id": 53525920, "comment_id": 93921068, "body": "oh, yes, its happend only to paste here"}, {"owner": {"reputation": 194, "user_id": 10647645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUwPH.png?s=128&g=1", "display_name": "LeoHenrique", "link": "https://stackoverflow.com/users/10647645/leohenrique"}, "edited": false, "score": 0, "creation_date": 1543430869, "post_id": 53525920, "comment_id": 93921120, "body": "sorry, careless mistake"}], "answers": [{"comments": [{"owner": {"reputation": 194, "user_id": 10647645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUwPH.png?s=128&g=1", "display_name": "LeoHenrique", "link": "https://stackoverflow.com/users/10647645/leohenrique"}, "edited": false, "score": 0, "creation_date": 1543431273, "post_id": 53526158, "comment_id": 93921322, "body": "i&#39;ll try, im new with ajax and how to pass data between view and controller"}, {"owner": {"reputation": 194, "user_id": 10647645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUwPH.png?s=128&g=1", "display_name": "LeoHenrique", "link": "https://stackoverflow.com/users/10647645/leohenrique"}, "edited": false, "score": 0, "creation_date": 1543432271, "post_id": 53526158, "comment_id": 93921843, "body": "i get an error, a: [object Object] - b: error - c: Not Found"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "reply_to_user": {"reputation": 194, "user_id": 10647645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUwPH.png?s=128&g=1", "display_name": "LeoHenrique", "link": "https://stackoverflow.com/users/10647645/leohenrique"}, "edited": false, "score": 0, "creation_date": 1543433025, "post_id": 53526158, "comment_id": 93922174, "body": "Looks like your code is getting into the <code>error</code> handler. Do you have it written as <code>error: function (a, b, c)</code> ?"}, {"owner": {"reputation": 194, "user_id": 10647645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUwPH.png?s=128&g=1", "display_name": "LeoHenrique", "link": "https://stackoverflow.com/users/10647645/leohenrique"}, "edited": false, "score": 0, "creation_date": 1543433289, "post_id": 53526158, "comment_id": 93922292, "body": "i got it. Thank you so much, another careless mistake, i put /../Generate (english) but i needed /../Gerar (my language)"}, {"owner": {"reputation": 137, "user_id": 5714030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-38XczFu1PK0/AAAAAAAAAAI/AAAAAAAAABQ/4qIO0h_fdYI/photo.jpg?sz=128", "display_name": "Mark Parker", "link": "https://stackoverflow.com/users/5714030/mark-parker"}, "edited": false, "score": 0, "creation_date": 1543434454, "post_id": 53526158, "comment_id": 93922856, "body": "Good answer with nice examples of the Model, the Controller and the View!"}], "tags": [], "owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "is_accepted": true, "score": 0, "last_activity_date": 1543431343, "last_edit_date": 1543431343, "creation_date": 1543430922, "answer_id": 53526158, "question_id": 53525920, "link": "https://stackoverflow.com/questions/53525920/json-object-javascript-c-mvc/53526158#53526158", "title": "JSON Object - JavaScript, C#, MVC", "body": "<p>Using a string array as the parameter does not make sense to me. Now you have to make client side code to build some sophisticated string  and in server side you have to parse it to get each item's property values.</p>\n\n<p>IMHO, The clean approach is to use a view model and take advantage of MVC model binding. Start by creating a view model to represent your data.</p>\n\n<pre><code>public class SongVm\n{\n    public int Id { set; get; }\n    public string Genre { set; get; }\n    public string Song { set; get; }\n}\n</code></pre>\n\n<p>Now use this as the parameter of your action method. Since you want to send a collection of your objects, use <code>List&lt;SongVm&gt;</code> as your parameter.</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Gerar(List&lt;SongVm&gt; songs)\n{\n    // Simply returning the data with a message property as well\n    return Json(new { messge =\"success\", data = songs });\n}\n</code></pre>\n\n<p>Now from the client side code, send the JSON string version of your array, while specifying <code>application/json</code> as the value of <code>contentType</code> property of the option we are passing to the <code>$.ajax</code> method.</p>\n\n<pre><code>var songs = [];\n\nfor (var i = 0; i &lt;= cont; i++) {\n    songs[i] = {\n        id: i,\n        genre : \"test genre\" + i,\n        song : \"test song\" + i\n    };\n}\n\n$.ajax({\n        url: \"/Home/Gerar\",\n        type: 'POST',\n        contentType: \"application/json\",\n        data: JSON.stringify(songs),\n        success: function (data) {\n            console.log(data);\n        },\n        error: function (a, b, c) {\n            console.log(c);\n        }\n })\n</code></pre>\n\n<p>Now <code>$.ajax</code> will add the request header <code>Content-Type</code> to the call with the value <code>application/json</code>. As part of model binding, the default model binder will read this request header value and then decide to read the data from the request body(Request payload)</p>\n\n<p>I would also recommend leveraging the Url helper methods like <code>Url.Action</code> to generate the correct relative path to the action method.</p>\n"}], "owner": {"reputation": 194, "user_id": 10647645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUwPH.png?s=128&g=1", "display_name": "LeoHenrique", "link": "https://stackoverflow.com/users/10647645/leohenrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 53526158, "answer_count": 1, "score": -2, "last_activity_date": 1543434532, "creation_date": 1543429920, "last_edit_date": 1543434532, "question_id": 53525920, "link": "https://stackoverflow.com/questions/53525920/json-object-javascript-c-mvc", "title": "JSON Object - JavaScript, C#, MVC", "body": "<p>I have this <code>for</code> that fills an array, where the <code>cont</code> came from View</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function GenerateJSON(cont) {\r\n        var songs= [];\r\n\r\n        for (var i = 0; i &lt;= cont; i++) {\r\n            songs[i] = {\r\n                id: i,\r\n                genre: $(\".genre\" + i).val(),\r\n                song: $(\".song\" + i).val()\r\n           }\r\n        }\r\n        $.ajax({\r\n            url: \"Generate\",\r\n            type: 'POST',\r\n            dataType: \"json\",\r\n            data: { songs: JSON.stringify(songs) },\r\n            success: function (data) {\r\n            }\r\n        })\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>On Controller, i got only one block music</p>\n\n<p>example:</p>\n\n<pre><code>songs= [{\"id\":0,\"genre\":\"\",\"song\":\"\",\"id\":1,\"genre\":\"\",\"song\":\"\",\"id\":2,\"genre\":\"\",\"song\":\"\"}]\n</code></pre>\n\n<p>I want this:</p>\n\n<pre><code>songs=[{\"id\":0,\"genre\":\"\",\"song\":\"\"},{\"id\":1,\"genre\":\"\",\"song\":\"\"},{id\":2,\"genre\":\"\",\"song\":\"\"}]\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>public JsonResult Generate(string[] songs)\n    {}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 30288, "user_id": 1506454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FWxUV.png?s=128&g=1", "display_name": "ASh", "link": "https://stackoverflow.com/users/1506454/ash"}, "edited": false, "score": 7, "creation_date": 1543430045, "post_id": 53525884, "comment_id": 93920717, "body": "why do you need <code>a</code> and <code>b</code> at all? why not use <code>out x</code>, <code>out y</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "is_accepted": false, "score": 2, "last_activity_date": 1543431009, "creation_date": 1543431009, "answer_id": 53526179, "question_id": 53525884, "link": "https://stackoverflow.com/questions/53525884/else-if-cant-use-variable-from-tryparse/53526179#53526179", "title": "&#39;else if&#39; cant use variable from TryParse", "body": "<pre><code>if (!double.TryParse(strx, out double a) || !double.TryParse(stry, out double b))\n{\n    MessageBox.Show(\"Incorrect input\");\n    return;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14460, "user_id": 1404311, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/j4CQ5.jpg?s=128&g=1", "display_name": "Scott Mermelstein", "link": "https://stackoverflow.com/users/1404311/scott-mermelstein"}, "is_accepted": true, "score": 2, "last_activity_date": 1543431273, "creation_date": 1543431273, "answer_id": 53526246, "question_id": 53525884, "link": "https://stackoverflow.com/questions/53525884/else-if-cant-use-variable-from-tryparse/53526246#53526246", "title": "&#39;else if&#39; cant use variable from TryParse", "body": "<p>You should question how your logic is set.</p>\n\n<p>Right now, if either or both textboxes are wrong, the user sees the ambiguous \"Incorrect input\".  I would find this frustrating.  Where's the incorrect input?  Is it the first text box?  The second?  Both?</p>\n\n<p>As you develop better UIs, the answer will be to validate each text box and have each one that is wrong turn a color or provide some other feedback on the form itself.  Otherwise, imagine how ugly the logic will get when you're presenting a form to the user with 20 different fields.</p>\n\n<p>However, if you're only going to use two fields, and you want to have some logic, try something like this (note that in doing this, I got rid of the <code>else</code>, as well, so b will always be set):</p>\n\n<pre><code>double x;\ndouble y;\nstring strx = TextBoxX.Text;\nstring stry = TextBoxY.Text;\nList&lt;string&gt;() invalids = new List&lt;string&gt;();\n\nif (!double.tryParse(strx, out double a))\n    {invalids.Add(\"boxX\");}\n\nif (!double.tryParse(stry, out double b))\n    {invalids.Add(\"boxY\")}\n\nif invalids.Length != 0\n    {MessageBox.Show(\"Incorrect inputs in \" + String.Join(\", \", invalids.ToArray());}\n\nx = a;\ny = b; \n</code></pre>\n\n<p>The user will enjoy a single box that tells them of all the errors more than multiple pop-up boxes, or having to hit OK each time and see that there are more errors.</p>\n"}], "owner": {"reputation": 11, "user_id": 8484304, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qmf23.png?s=128&g=1", "display_name": "VirusWar", "link": "https://stackoverflow.com/users/8484304/viruswar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 53526246, "answer_count": 2, "score": 0, "last_activity_date": 1543431273, "creation_date": 1543429779, "last_edit_date": 1543430383, "question_id": 53525884, "link": "https://stackoverflow.com/questions/53525884/else-if-cant-use-variable-from-tryparse", "title": "&#39;else if&#39; cant use variable from TryParse", "body": "<pre><code>double x;\ndouble y;\nstring strx = TextBoxX.Text;\nstring stry = TextBoxY.Text;\n\nif (!double.tryParse(strx, out double a))\n    {MessageBox.Show(\"Incorrect input\");}\n\nelse if (!double.tryParse(stry, out double b))\n    {MessageBox.Show(\"Incorrect input\");}\n\nx = a;\ny = b; &lt;---\n</code></pre>\n\n<p>The problem is that x and receive value of a, but y cant do the same for b.\nI understand its because its within 'else' and might not get executed, but if I remove the else, then if both textboxes are empty or not numbers I'll get two error popups...</p>\n\n<p>Any help resolving the issue?</p>\n"}, {"tags": ["c#", "asp.net-core"], "comments": [{"owner": {"reputation": 2490, "user_id": 7512742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/muuJz.png?s=128&g=1", "display_name": "Adam Vincent", "link": "https://stackoverflow.com/users/7512742/adam-vincent"}, "edited": false, "score": 0, "creation_date": 1543430653, "post_id": 53525867, "comment_id": 93921018, "body": "theoretically, you should be able to deploy as a self-contained application, regardless of the framework available on AWS at the moment. Another option would be a container."}], "answers": [{"tags": [], "owner": {"reputation": 436, "user_id": 3058487, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000913586290/picture?type=large", "display_name": "Paulo", "link": "https://stackoverflow.com/users/3058487/paulo"}, "is_accepted": true, "score": 0, "last_activity_date": 1543430277, "creation_date": 1543430277, "answer_id": 53526006, "question_id": 53525867, "link": "https://stackoverflow.com/questions/53525867/using-net-core-2-2-classes-in-2-1/53526006#53526006", "title": "Using .Net Core 2.2 classes in 2.1", "body": "<p>it is not possible because a .net DLL has written into it the version of .NET. So as the version is later than your project, the compiler will ignore it.</p>\n\n<p>Even if it were possible, there would be no guarantee that it would not refer to other .net core 2.2 methods, which would make you look for more DLLs in that version.</p>\n\n<p>maybe you should be change the project version to 2.2 </p>\n"}], "owner": {"reputation": 254, "user_id": 1663523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b9d2e8ef06cac0f9e4b10613672d4e?s=128&d=identicon&r=PG", "display_name": "Vadim", "link": "https://stackoverflow.com/users/1663523/vadim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 53526006, "answer_count": 1, "score": 0, "last_activity_date": 1543433928, "creation_date": 1543429697, "last_edit_date": 1543433928, "question_id": 53525867, "link": "https://stackoverflow.com/questions/53525867/using-net-core-2-2-classes-in-2-1", "title": "Using .Net Core 2.2 classes in 2.1", "body": "<p>I need a specific functionality that was recently added into .Net Core 2.2 (new enhancements to GzipStream class in System.IO.Compression), however I'm using AWS Lambda and the latest version supported there is 2.1</p>\n\n<p>Is there a way to extract the required DLL from 2.2 package and use it with 2.1 solution? I found the DLL and referenced it in my project, but it didn't seem to work (seems like it's simply ignored). Am i missing a step?</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "entity-framework-core", "ef-core-2.1"], "comments": [{"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 1, "creation_date": 1543429658, "post_id": 53525833, "comment_id": 93920545, "body": "IIRC the prefered way to do that is to sort it, then get only the 1 top/bottom record."}, {"owner": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1543429951, "post_id": 53525833, "comment_id": 93920677, "body": "you want to group -- it is a function in linq"}, {"owner": {"reputation": 2333, "user_id": 1426542, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/HT6sS.png?s=128&g=1", "display_name": "smr5", "link": "https://stackoverflow.com/users/1426542/smr5"}, "reply_to_user": {"reputation": 63634, "user_id": 215752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face3276756bf64319a7d1df0d194d5c?s=128&d=identicon&r=PG", "display_name": "Hogan", "link": "https://stackoverflow.com/users/215752/hogan"}, "edited": false, "score": 0, "creation_date": 1543432123, "post_id": 53525833, "comment_id": 93921760, "body": "@Hogan, I tried something like this, but it&#39;s complaining about the syntax.  <code>D = t2Table.GroupBy(i =&gt; i.MyID).Select(g =&gt; new { MyID = g.Select(x=&gt; x.MyID)})</code>. Is this what you were thinking?"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1543433183, "post_id": 53525833, "comment_id": 93922248, "body": "What EF is this (6 or Core)? If Core, what exact version?"}, {"owner": {"reputation": 2333, "user_id": 1426542, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/HT6sS.png?s=128&g=1", "display_name": "smr5", "link": "https://stackoverflow.com/users/1426542/smr5"}, "reply_to_user": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1543434519, "post_id": 53525833, "comment_id": 93922887, "body": "@IvanStoev, <code>Pomelo.EntityFrameworkCore.MySql 2.1.2</code>."}, {"owner": {"reputation": 372, "user_id": 8582270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa7901a9f019ea383acc0cd7a3dd62a3?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/8582270/marty"}, "edited": false, "score": 0, "creation_date": 1543437686, "post_id": 53525833, "comment_id": 93924292, "body": "could you specify, what do you mean with &quot;table2 still returning more than one row&quot;? <code>First()</code> can&#39;t return more than one row... Is there any exception you&#39;re getting? Or do you mean: the <code>query</code> object should have just one row?"}, {"owner": {"reputation": 2333, "user_id": 1426542, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/HT6sS.png?s=128&g=1", "display_name": "smr5", "link": "https://stackoverflow.com/users/1426542/smr5"}, "reply_to_user": {"reputation": 372, "user_id": 8582270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa7901a9f019ea383acc0cd7a3dd62a3?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/8582270/marty"}, "edited": false, "score": 0, "creation_date": 1543437872, "post_id": 53525833, "comment_id": 93924379, "body": "@Marty, correct! I&#39;m expecting to have one row (latest entry) to be returned by <code>table2</code>. However, <code>table2</code> has two records for that ID and only one record in <code>table1</code>. I&#39;m getting both records (sorted by desc) in my query."}, {"owner": {"reputation": 372, "user_id": 8582270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa7901a9f019ea383acc0cd7a3dd62a3?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/8582270/marty"}, "edited": false, "score": 0, "creation_date": 1543438782, "post_id": 53525833, "comment_id": 93924783, "body": "@smr5 so just to be extra clear (then I should be able to write you an answer): your <code>query</code> object returns multiple items, each of which has different properties D,E and F. And you want just one item from the WHOLE query, which has D,E and F from the last item from table2. Correct?"}, {"owner": {"reputation": 2333, "user_id": 1426542, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/HT6sS.png?s=128&g=1", "display_name": "smr5", "link": "https://stackoverflow.com/users/1426542/smr5"}, "reply_to_user": {"reputation": 372, "user_id": 8582270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa7901a9f019ea383acc0cd7a3dd62a3?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/8582270/marty"}, "edited": false, "score": 0, "creation_date": 1543439593, "post_id": 53525833, "comment_id": 93925122, "body": "@Marty, correct. <code>table2</code> has two rows for that <code>MyID</code>. I&#39;m interested in three columns, <code>D, E and F</code> from the record that has the most recent time stamp. Current query, will return both frows from <code>table2</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2333, "user_id": 1426542, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/HT6sS.png?s=128&g=1", "display_name": "smr5", "link": "https://stackoverflow.com/users/1426542/smr5"}, "edited": false, "score": 0, "creation_date": 1543443013, "post_id": 53528547, "comment_id": 93926440, "body": "thank you for the response. I will try this. However, unfortunately, I cannot disregard the performance, as I\u2019m doing this to improve the performance on this piece. I have a working query that gives me the result I want, but the performance lacks. That\u2019s why I\u2019m writing using join. Even though my query returns an extra row, the performance is actually better than the working query."}, {"owner": {"reputation": 372, "user_id": 8582270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa7901a9f019ea383acc0cd7a3dd62a3?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/8582270/marty"}, "reply_to_user": {"reputation": 2333, "user_id": 1426542, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/HT6sS.png?s=128&g=1", "display_name": "smr5", "link": "https://stackoverflow.com/users/1426542/smr5"}, "edited": false, "score": 0, "creation_date": 1543443473, "post_id": 53528547, "comment_id": 93926629, "body": "@smr5: sure, try using this approach, and if you&#39;re not happy with the performance, I will try providing you something better. Currently due to lack of time was this the best short term solution to your issue."}], "tags": [], "owner": {"reputation": 372, "user_id": 8582270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa7901a9f019ea383acc0cd7a3dd62a3?s=128&d=identicon&r=PG&f=1", "display_name": "Marty", "link": "https://stackoverflow.com/users/8582270/marty"}, "is_accepted": true, "score": 1, "last_activity_date": 1543441228, "creation_date": 1543441228, "answer_id": 53528547, "question_id": 53525833, "link": "https://stackoverflow.com/questions/53525833/join-multiple-tables-and-return-last-record-from-table-2/53528547#53528547", "title": "Join multiple tables and return last record from table 2", "body": "<p>Don't use explicit joins. Rewrite your query the following way:</p>\n\n<pre><code>var query = table1\n        .Where(t1 =&gt; t1.MyID == 1)\n        .Select(t1 =&gt; new MyViewModel()\n        {\n            A = t1.A,\n            B = t1.B,\n            C = t1.C,\n            D = table2.Where(t2 =&gt; t2.MyID == t1.MyID).OrderByDescending(x =&gt; x.MyDate).Select(x =&gt; x.D).FirstOrDefault(),\n            E = table2.Where(t2 =&gt; t2.MyID == t1.MyID).OrderByDescending(x =&gt; x.MyDate).Select(x =&gt; x.E).FirstOrDefault(),\n            F = table2.Where(t2 =&gt; t2.MyID == t1.MyID).OrderByDescending(x =&gt; x.MyDate).Select(x =&gt; x.F).FirstOrDefault(),\n            G = table3.Where(t3 =&gt; t3.MyID == t1.MyID).Select(c =&gt; new TModel()\n            {\n                Col1 = c.Col1,\n                Col2 = c.Col2,\n            }).ToList(),\n            H = table4.Where(t4 =&gt; t4.MyID == t1.MyID).Select(l =&gt; new PModel()\n            {\n                Col1 = l.Col1,\n                Col2 = l.Languages.Col2,\n            }).ToList(),\n        });\n</code></pre>\n\n<p>For the moment we'll disregard the possible performance optimizations. This should have your desired result. Also note, that I fixed the assignment for the G property (you had there the <code>Col1</code> assigned twice. I also switched from using <code>First()</code> to <code>FirstOrDefault()</code> as this should be more safe and robust (although I'm not sure how the MySql will be different).</p>\n"}], "owner": {"reputation": 2333, "user_id": 1426542, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/HT6sS.png?s=128&g=1", "display_name": "smr5", "link": "https://stackoverflow.com/users/1426542/smr5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 53528547, "answer_count": 1, "score": 0, "last_activity_date": 1543511745, "creation_date": 1543429578, "last_edit_date": 1543511745, "question_id": 53525833, "link": "https://stackoverflow.com/questions/53525833/join-multiple-tables-and-return-last-record-from-table-2", "title": "Join multiple tables and return last record from table 2", "body": "<p>I have few tables <code>table1</code>, <code>table2</code>, <code>table3</code> and <code>table4</code>. All these tables have a relationship <code>MyID</code>.  <code>Table2</code> may have one or more records, but I'm only interested in the last inserted record.</p>\n\n<p>I wrote the following query to get the desired output, however, <code>table2</code> is still returning more than one record.</p>\n\n<pre><code>var query = (from t1 in table1\n            join t2 in table2\n                on t1.MyID equals t2.MyID\n                into t2Table\n            join t3 in table3\n                on t1.MyID equals t3.MyID \n                into t3Table\n            join t4 in table4\n                on t1.MyID equals t4.MyID \n                into t4Table\n            where t1.MyID == 1\n            select new MyViewModel()\n            {\n                A = t1.A,\n                B = t1.B,\n                C = t1.C,\n                D = t2Table\n                    .OrderByDescending(x =&gt; x.MyDate)\n                    .Select(x =&gt; x.D).First(),\n                E = t2Table\n                    .OrderByDescending(x =&gt; x.MyDate)\n                    .Select(x =&gt; x.E).First(),\n                F = t2Table\n                    .OrderByDescending(x =&gt; x.MyDate)\n                    .Select(x =&gt; x.F).First(),\n                G = t3Table.Select(c =&gt; new TModel()\n                {\n                    Col1 = c.Col1,\n                    Col1 = c.Col2,\n                }).ToList(),\n                H = t4Table.Select(l =&gt; new PModel()\n                {\n                    Col1 = l.Col1,\n                    Col2 = l.Languages.Col2,\n                }).ToList(),\n            });\n</code></pre>\n\n<p>For <code>D, E, F</code>, I have also tried selecting <code>.Max()</code>, but still same result. How can I get the latest record from <code>table2</code> using <code>join</code>?</p>\n"}, {"tags": ["c#", "asp.net", "events", "button", "onclick"], "comments": [{"owner": {"reputation": 436, "user_id": 3058487, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000913586290/picture?type=large", "display_name": "Paulo", "link": "https://stackoverflow.com/users/3058487/paulo"}, "edited": false, "score": 0, "creation_date": 1543429656, "post_id": 53525756, "comment_id": 93920540, "body": "you tried to use &lt;asp:LinkButton instead &quot;&lt;a&gt;&quot; ?"}, {"owner": {"reputation": 3, "user_id": 5404676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yljTr.jpg?s=128&g=1", "display_name": "AlfaroKev", "link": "https://stackoverflow.com/users/5404676/alfarokev"}, "reply_to_user": {"reputation": 436, "user_id": 3058487, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000913586290/picture?type=large", "display_name": "Paulo", "link": "https://stackoverflow.com/users/3058487/paulo"}, "edited": false, "score": 0, "creation_date": 1543430741, "post_id": 53525756, "comment_id": 93921060, "body": "@Paulo yeah, doesn&#39;t change the situation. I have markers to debug and it doesn&#39;t enter the method which is calling"}, {"owner": {"reputation": 436, "user_id": 3058487, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000913586290/picture?type=large", "display_name": "Paulo", "link": "https://stackoverflow.com/users/3058487/paulo"}, "edited": false, "score": 0, "creation_date": 1543431925, "post_id": 53525756, "comment_id": 93921659, "body": "In this case you need post the complete code because so many things can be the problem."}, {"owner": {"reputation": 3, "user_id": 5404676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yljTr.jpg?s=128&g=1", "display_name": "AlfaroKev", "link": "https://stackoverflow.com/users/5404676/alfarokev"}, "reply_to_user": {"reputation": 436, "user_id": 3058487, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000913586290/picture?type=large", "display_name": "Paulo", "link": "https://stackoverflow.com/users/3058487/paulo"}, "edited": false, "score": 0, "creation_date": 1543432408, "post_id": 53525756, "comment_id": 93921903, "body": "@Paulo just edited to insert whole code"}, {"owner": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 0, "creation_date": 1543432613, "post_id": 53525756, "comment_id": 93921989, "body": "Why are you making a string of your <code>LinkButton</code>? You probably should be creating a <code>new LinkButton()</code>, attach the event then add it to the Controls of that TableCell.... like <code>a7.Controls.Add(new LinkButton...)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5404676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yljTr.jpg?s=128&g=1", "display_name": "AlfaroKev", "link": "https://stackoverflow.com/users/5404676/alfarokev"}, "edited": false, "score": 0, "creation_date": 1543434320, "post_id": 53526778, "comment_id": 93922773, "body": "Yeah, that worked! Thanks a lot.. Another thing, how would I send my orderID to those methods?"}, {"owner": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "reply_to_user": {"reputation": 3, "user_id": 5404676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yljTr.jpg?s=128&g=1", "display_name": "AlfaroKev", "link": "https://stackoverflow.com/users/5404676/alfarokev"}, "edited": false, "score": 0, "creation_date": 1543434578, "post_id": 53526778, "comment_id": 93922923, "body": "For this usually I use the <code>CommandArgument</code> field of the <code>LinkButton</code>. So when you create your LinkButton do something like this: <code>lb.CommandArgument = &quot;123&quot;;</code>, then in your click event cast the <code>sender</code> as a <code>LinkButton</code> and get the order ID from the <code>CommandArgument</code> - maybe like this: <code>var lb = (LinkButton)sender; var orderId = Convert.ToInt32(lb.CommandArgument);</code>"}], "tags": [], "owner": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "is_accepted": true, "score": 1, "last_activity_date": 1543433426, "creation_date": 1543433426, "answer_id": 53526778, "question_id": 53525756, "link": "https://stackoverflow.com/questions/53525756/button-in-table-cell-not-triggering-event-asp-net-c/53526778#53526778", "title": "Button in Table Cell not Triggering Event asp.net c#", "body": "<p>Instead of creating strings of your <code>LinkButton</code>'s you should probably be creating actual <code>LinkButton</code> (or <code>HtmlAnchor</code>) objects then add them to the Controls collection of your table cell.</p>\n\n<p>Like this:</p>\n\n<pre><code>var lb = new LinkButton();\nlb.Text = \"Aceptar Pago\";\nlb.CssClass = \"myButtonGreen\";\nlb.Click += AcceptPayment;\n\na7.Controls.Add(lb);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5404676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yljTr.jpg?s=128&g=1", "display_name": "AlfaroKev", "link": "https://stackoverflow.com/users/5404676/alfarokev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "accepted_answer_id": 53526778, "answer_count": 1, "score": 0, "last_activity_date": 1543433426, "creation_date": 1543429271, "last_edit_date": 1543432377, "question_id": 53525756, "link": "https://stackoverflow.com/questions/53525756/button-in-table-cell-not-triggering-event-asp-net-c", "title": "Button in Table Cell not Triggering Event asp.net c#", "body": "<p>Didn't find a concrete answer about this so here it goes... I'm creating an HTML table in a <code>foreach</code> loop where each time it creates the row for its corresponding order. I have two buttons as shown in the code below: </p>\n\n<pre><code> private void CreateOrderTable(List&lt;Order&gt; orders)\n    {\n        OrderModel model = new OrderModel();\n\n        foreach (Order order in orders)\n        {\n            Order orderN = new Order();\n\n\n\n            //Create HTML Table\n            Table table = new Table { CssClass = \"cartTable\" };\n            TableRow a = new TableRow();\n            TableRow b = new TableRow();\n\n            //Crear cells for row a\n            TableCell a1 = new TableCell { RowSpan = 2, Width = 50 };\n            TableCell a2 = new TableCell\n            {\n                Text = string.Format(order.OrderID.ToString()),\n                HorizontalAlign = HorizontalAlign.Left,\n                Width = 350\n            };\n            TableCell a3 = new TableCell { Text = \"Monto:&lt;hr/&gt;\" };\n            TableCell a4 = new TableCell { Text = \"Restaurante:&lt;hr/&gt;\" };\n            TableCell a5 = new TableCell { Text = \"Estado&lt;hr/&gt;\" };\n            TableCell a6 = new TableCell { Text = \"Tarjeta&lt;hr/&gt;\" };\n            TableCell a7 = new TableCell { Text = \"&lt;asp:LinkButton  OnClick=\\\"AcceptPayment\\\" runat=\\\"server\\\" class=\\\"myButtonGreen\\\"&gt;Aceptar Pago&lt;/asp:LinkButton&gt;\" };\n            TableCell a8 = new TableCell { Text = \"&lt;asp:LinkButton  OnClick=\\\"RejectOrder\\\" runat=\\\"server\\\" class=\\\"myButtonRed\\\"&gt;Anular Orden&lt;/asp:LinkButton&gt;\" };\n\n            //Create cells for row b\n            TableCell b1 = new TableCell { };\n            TableCell b2 = new TableCell { Text = order.Amount.ToString() };\n            TableCell b3 = new TableCell { Text = order.Restaurante.ToString() };\n            TableCell b4 = new TableCell { Text = order.OrderState.ToString() };\n            TableCell b5 = new TableCell { Text = order.CardNumber + \" \" + order.CardDate };\n            TableCell b6 = new TableCell { };\n\n\n            //Add cells to columns\n            a.Cells.Add(a1);\n            a.Cells.Add(a2);\n            a.Cells.Add(a3);\n            a.Cells.Add(a4);\n            a.Cells.Add(a5);\n            a.Cells.Add(a6);\n            a.Cells.Add(a7);\n            a.Cells.Add(a8);\n\n\n\n\n            b.Cells.Add(b1);\n            b.Cells.Add(b2);\n            b.Cells.Add(b3);\n            b.Cells.Add(b4);\n            b.Cells.Add(b5);\n            b.Cells.Add(b6);\n\n            //Add rows to table\n            table.Rows.Add(a);\n            table.Rows.Add(b);\n\n            //Add table to panel\n            pnlShoppingCart.Controls.Add(table);\n\n        }\n    }\n\n    protected void AcceptPayment(object sender, EventArgs e)\n    {\n    }\n\n    protected void RejectOrder(object sender, EventArgs e)\n    {\n\n    }\n</code></pre>\n\n<p>and the <code>OnClick</code> Event that I call is not being accessed, as I put debug markers on VS. </p>\n\n<p>Why would this be?</p>\n\n<p>Also, how would I pass an int to the event? </p>\n"}, {"tags": ["c#", "angularjs", "asp.net-mvc"], "comments": [{"owner": {"reputation": 137, "user_id": 2807640, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77a213dc50a48308737a6336cc32aadd?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2807640/tim"}, "reply_to_user": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1543431649, "post_id": 53525680, "comment_id": 93921508, "body": "I&#39;m using ASP.NET MVC."}, {"owner": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1543431722, "post_id": 53525680, "comment_id": 93921552, "body": "The code seems good. If you console.log <code>$scope.valuationcheck</code> right before the post, it&#39;s updated?"}, {"owner": {"reputation": 137, "user_id": 2807640, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77a213dc50a48308737a6336cc32aadd?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2807640/tim"}, "reply_to_user": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1543438052, "post_id": 53525680, "comment_id": 93924475, "body": "I tried consoling out $scope.valuationcheck.Questions[0].answer. See the code fragment below. (The model argument was a mistake -- it&#39;s not needed -- but it didn&#39;t affect anything.)     $scope.updateOverallRisk = function () {         console.log($scope.valuationcheck.Questions[0].answer);         $http.post(&#39;/Products/UpdateOverallRisk&#39;, $scope.valuationcheck)             .then(function (result) {                 if (result.data.Status !== &quot;OK&quot;) {                     showErrorAlert(&quot;Error handling question&quot;);                 }             });     }"}, {"owner": {"reputation": 137, "user_id": 2807640, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77a213dc50a48308737a6336cc32aadd?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2807640/tim"}, "reply_to_user": {"reputation": 8973, "user_id": 6382928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tzxR.jpg?s=128&g=1", "display_name": "Frank Modica", "link": "https://stackoverflow.com/users/6382928/frank-modica"}, "edited": false, "score": 0, "creation_date": 1543438511, "post_id": 53525680, "comment_id": 93924668, "body": "Sorry for the messy comment -- I was trying to edit it and ran out of time. The correct value is printed to the console. When I check the value of the model argument in UpdateOverallRisk(ValuationCheckModel model), it does NOT contain the new value for answer. It does, however, contain other changed values. For some reason, the model that is passed to UpdateOverallRisk in the MVC controller contains the updated data for the simple values, but not for the array."}, {"owner": {"reputation": 1222, "user_id": 4378740, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/v0PC9.jpg?s=128&g=1", "display_name": "chakeda", "link": "https://stackoverflow.com/users/4378740/chakeda"}, "edited": false, "score": 0, "creation_date": 1543446851, "post_id": 53525680, "comment_id": 93927671, "body": "Can you post your <code>ValuationCheckModel </code>?"}, {"owner": {"reputation": 137, "user_id": 2807640, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77a213dc50a48308737a6336cc32aadd?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2807640/tim"}, "edited": false, "score": 0, "creation_date": 1543449397, "post_id": 53525680, "comment_id": 93928316, "body": "Sure. I added it to the code section above. I cut out stuff that I was sure was unrelated to the problem."}], "answers": [{"tags": [], "owner": {"reputation": 137, "user_id": 2807640, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77a213dc50a48308737a6336cc32aadd?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2807640/tim"}, "is_accepted": false, "score": 0, "last_activity_date": 1543679801, "creation_date": 1543679801, "answer_id": 53572534, "question_id": 53525680, "link": "https://stackoverflow.com/questions/53525680/binding-angularjs-to-mvc-c-model-array/53572534#53572534", "title": "Binding angularjs to MVC C# model array", "body": "<p>I finally figured it out. It was a trivial mistake. When I created the Question class, I neglected to define the fields with getters and setters. Once I made that correction, angular had no problem passing the array to MVC. Here's the original class and the corrected version:</p>\n\n<pre><code>[Serializable]\npublic class Question\n{\n    public int id;\n    public string question;\n    public string answer;\n    public string riskLevelIfNo;\n    public int actualRiskLevel;\n}\n\n[Serializable]\npublic class Question\n{\n    public int id { get; set; }\n    public string question { get; set; }\n    public string answer { get; set; }\n    public string riskLevelIfNo { get; set; }\n    public int actualRiskLevel { get; set; }\n}\n</code></pre>\n\n<p>Thanks everybody for your efforts.</p>\n"}], "owner": {"reputation": 137, "user_id": 2807640, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/77a213dc50a48308737a6336cc32aadd?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2807640/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 378, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543679801, "creation_date": 1543428921, "last_edit_date": 1543449264, "question_id": 53525680, "link": "https://stackoverflow.com/questions/53525680/binding-angularjs-to-mvc-c-model-array", "title": "Binding angularjs to MVC C# model array", "body": "<p>The MVC model contains an array of VCQuestion objects named Questions. (See the definition at the bottom of the code block.) I'm trying to get the following radio button to update the answer field in Question[1]. When the user clicks one of the radio buttons, line 19 in the code block displays the value of the button clicked, but in UpdateOverallRisk(ValuationCheckModel model) in the MVC controller, model does not contain the updated value. Does anyone know what I'm doing wrong?</p>\n\n<pre><code>&lt;td&gt;{{ valuationcheck.Questions[1].question }}&lt;/td&gt;\n&lt;td align=\"center\"&gt;\n    &lt;input type=\"radio\"\n           ng-model=\"valuationcheck.Questions[1].answer\"\n           ng-change=\"updateOverallRisk()\"\n           value=\"Yes\" /&gt;\n&lt;/td&gt;\n&lt;td align=\"center\"&gt;\n    &lt;input type=\"radio\"\n           ng-model=\"valuationcheck.Questions[1].answer\"\n           ng-change=\"updateOverallRisk()\"\n           value=\"No\" /&gt;\n&lt;/td&gt;\n&lt;td align=\"center\"&gt;\n    &lt;input type=\"radio\"\n           ng-model=\"valuationcheck.Questions[1].answer\"\n           ng-change=\"updateOverallRisk()\"\n           value=\"N/A\" /&gt;\n    &lt;span&gt;{{ valuationcheck.Questions[1].answer }}&lt;/span&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>In angularjs controller:</p>\n\n<pre><code>$scope.updateOverallRisk = function (model) {\n    $http.post('/Products/UpdateOverallRisk', $scope.valuationcheck)\n        .then(function (result) {\n            if (result.data.Status !== \"OK\") {\n                showErrorAlert(\"Error handling question\");\n            }\n        });\n}\n</code></pre>\n\n<p>In MVC controller:</p>\n\n<pre><code>[HttpPost]\npublic JsonResult UpdateOverallRisk(ValuationCheckModel model)\n{\n    model.CalculateOverallRisk();\n    return Json(new { Status = \"OK\" });\n}\n\n\n// In MVC model:\npublic class VCQuestion\n{\n    public int id;\n    public string question;\n    public string answer;\n    public string riskLevelIfNo;\n    public int actualRiskLevel;\n}\npublic VCQuestion[] Questions = new VCQuestion[NUMBER_OF_QUESTIONS];\n</code></pre>\n\n<p>Paired down version of the MVC model:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.ComponentModel.DataAnnotations;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace Comp.Data.Entities.Orders.Products\n{\n    [Serializable]\n    public class ValuationCheckModel\n    {\n        private const int NUMBER_OF_QUESTIONS = 57;\n\n        public string OverallRisk = \"Low\";\n\n        public class VCQuestion\n        {\n            public int id;\n            public string question;\n            public string answer;\n            public string riskLevelIfNo;\n            public int actualRiskLevel;\n        }\n\n        public int OrderId { get; set; }\n\n        public string ClientName { get; set; }\n\n        public VCQuestion[] Questions = new VCQuestion[NUMBER_OF_QUESTIONS];\n\n        public ValuationCheckModel()\n        {\n            //Questions = new VCQuestion[NUMBER_OF_QUESTIONS];\n            Questions[0] = new VCQuestion()\n            {\n                id = 1,\n                question = \"This is question one.\",\n                answer = \"\",\n                riskLevelIfNo = \"Moderate\",\n                actualRiskLevel = 0\n            };\n            Questions[1] = new VCQuestion()\n            {\n                id = 2,\n                question = \"This is question two.\",\n                answer = \"\",\n                riskLevelIfNo = \"Low\",\n                actualRiskLevel = 0\n            };\n\n            OverallRisk = \"Low\";\n        }\n\n        public void CalculateOverallRisk()\n        {\n            var total = 0;\n\n            foreach (var question in Questions)\n            {\n                if (question.answer != \"No\") continue;\n                if (question.riskLevelIfNo == \"Moderate\")\n                    total += 1;\n                else if (question.riskLevelIfNo == \"High\")\n                    total += 2;\n            }\n\n            if (total &gt; 5)\n                OverallRisk = \"High\";\n            else if (total &gt; 2)\n                OverallRisk = \"Moderate\";\n            else\n                OverallRisk = \"Low\";\n        }\n\n        public static ValuationCheckModel Get(Guid orderGuid)\n        {\n            ValuationCheckModel model = null;\n\n            model = new ValuationCheckModel();\n            model.PopulateWithOrderData(orderId);\n\n            return model;\n        }\n\n        private void PopulateWithOrderData(Int32 orderId)\n        {\n            OrderDetail ordDetail = OrderDetail.Get(orderId).FirstOrDefault();\n            if (ordDetail == null) return;\n            this.OrderId = orderId;\n            this.ClientName = ordDetail.Order.Client.Name;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "automapper"], "comments": [{"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 0, "creation_date": 1543429489, "post_id": 53525659, "comment_id": 93920465, "body": "Yes, have your configured mapper registered for your <code>IRepository&lt;T&gt;</code> in <code>ConfigureServices()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2108, "user_id": 2226152, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/88kP8.png?s=128&g=1", "display_name": "TheColonel26", "link": "https://stackoverflow.com/users/2226152/thecolonel26"}, "edited": false, "score": 0, "creation_date": 1543434248, "post_id": 53526218, "comment_id": 93922730, "body": "I tried, this without using the interfaces and used &#39;            services.AddTransient&lt;EmployeesRepo&gt;();&#39; instead. I am getting &#39;A suitable constructor for type &#39;Chopper.Server.Employees.Controllers.EmpoyeesController&#39; could not be located. Ensure the type is concrete and services are registered for all parameters of a public constructor.&#39; error on runtime. Is it required to use an interface?"}, {"owner": {"reputation": 2108, "user_id": 2226152, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/88kP8.png?s=128&g=1", "display_name": "TheColonel26", "link": "https://stackoverflow.com/users/2226152/thecolonel26"}, "edited": false, "score": 0, "creation_date": 1543435756, "post_id": 53526218, "comment_id": 93923460, "body": "Nevermind, I forgot to add the public access modifier before my constructor."}, {"owner": {"reputation": 7199, "user_id": 2385218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1da27354c3389d229f58bffc5b28a11?s=128&d=identicon&r=PG", "display_name": "sellotape", "link": "https://stackoverflow.com/users/2385218/sellotape"}, "reply_to_user": {"reputation": 2108, "user_id": 2226152, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/88kP8.png?s=128&g=1", "display_name": "TheColonel26", "link": "https://stackoverflow.com/users/2226152/thecolonel26"}, "edited": false, "score": 0, "creation_date": 1543435982, "post_id": 53526218, "comment_id": 93923564, "body": "You <i>can</i> register a concrete type like that and it will work just fine. I would really encourage you to rather use interfaces; aside from many good reasons that I can&#39;t do justice in a comment, they are the natural partner of DI."}, {"owner": {"reputation": 2108, "user_id": 2226152, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/88kP8.png?s=128&g=1", "display_name": "TheColonel26", "link": "https://stackoverflow.com/users/2226152/thecolonel26"}, "edited": false, "score": 0, "creation_date": 1543436622, "post_id": 53526218, "comment_id": 93923834, "body": "Yes I know I am just starting on this project, and changing them to interfaces is easy enough later when I get it more fleshed out. I just wanted to be on the right track now."}], "tags": [], "owner": {"reputation": 7199, "user_id": 2385218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1da27354c3389d229f58bffc5b28a11?s=128&d=identicon&r=PG", "display_name": "sellotape", "link": "https://stackoverflow.com/users/2385218/sellotape"}, "is_accepted": true, "score": 2, "last_activity_date": 1543431538, "last_edit_date": 1543431538, "creation_date": 1543431167, "answer_id": 53526218, "question_id": 53525659, "link": "https://stackoverflow.com/questions/53525659/how-can-i-inject-auto-mapper-directly-in-to-repository-layer-below-the-controll/53526218#53526218", "title": "How can I Inject Auto Mapper directly in to Repository Layer, below the Controller", "body": "<p>Let the DI framework do the magic for you.</p>\n\n<p>Start by registering everything that needs to be injected:</p>\n\n<pre><code>// You can lazily create the IMapper, or if you prefer, use\n// a concrete value.\nservices.AddSingleton&lt;IMapper&gt;(sp =&gt; mappingConfig.CreateMapper());\n\n// Make your EmployeesRepo implement IEmployeesRepo\nservices.AddTransient&lt;IEmployeesRepo, EmployeesRepo&gt;();\n\n// I'm guessing but you'll have the connection string somewhere like this.\n// Also using a DbContextPool instead has benefits (though not required)\nservices.AddDbContextPool&lt;EFContext&gt;(options =&gt; options.UseSqlServer(Configuration.GetConnectionString(\"Data\")));\n</code></pre>\n\n<p>... then simply:</p>\n\n<pre><code>IEmployeesRepo _repo;\n\npublic EmployeesController(IEmployeesRepo repo)\n{\n    _repo = repo;\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>private readonly EFContext _db;\nprivate readonly IMapper _mapper;\n\n// Assign the object in the constructor for dependency injection\npublic EmployeesRepo(EFContext db, IMapper mapper)\n{\n    _db = db;\n    _mapper = mapper;\n}\n</code></pre>\n"}], "owner": {"reputation": 2108, "user_id": 2226152, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/88kP8.png?s=128&g=1", "display_name": "TheColonel26", "link": "https://stackoverflow.com/users/2226152/thecolonel26"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 717, "favorite_count": 0, "accepted_answer_id": 53526218, "answer_count": 1, "score": 0, "last_activity_date": 1543431538, "creation_date": 1543428846, "question_id": 53525659, "link": "https://stackoverflow.com/questions/53525659/how-can-i-inject-auto-mapper-directly-in-to-repository-layer-below-the-controll", "title": "How can I Inject Auto Mapper directly in to Repository Layer, below the Controller", "body": "<p>This is an ASP.net Core 2.1 project.</p>\n\n<p>How can I Inject Auto Mapper directly into Repository Layer? Currently, I have the Auto Mapper being injected into the Controller and then from the controller, I pass it in the constructor to the Repo layer. </p>\n\n<p>It is possible to have it injected directly into Repo or is this the best that I can do?</p>\n\n<p>Here is my startup.ConfigureServices()</p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n    //** other stuff is here\n\n\n\n    // Auto Mapper Configurations\n    var mappingConfig = new MapperConfiguration(mc =&gt;\n    {\n        mc.AddProfile(new MappingProfile());\n    });\n\n    IMapper mapper = mappingConfig.CreateMapper();\n    services.AddSingleton(mapper);\n\n}     \n</code></pre>\n\n<p>Here is a Controller</p>\n\n<pre><code>[Route(\"api/[controller]\")]\npublic class EmployeesController : Controller\n{ \n    EmployeesRepo _repo;\n\n    public EmployeesController(IMapper mapper)\n    {\n        _repo = new EmployeesRepo(mapper);\n    }\n\n    // GET: Jobs\n    [HttpGet(\"[action]\")]\n    public IEnumerable&lt;EmployeeDTO&gt; GetAll()\n    {\n        //** TODO Fix Later hack for debug\n        var employees = _repo.GetLast(100);\n        return employees;\n    }\n}\n</code></pre>\n\n<p>here is a Repo Class</p>\n\n<pre><code>public class EmployeesRepo\n{\n    EFContext db = new EFContext();\n\n    protected readonly IMapper _mapper;\n\n    // Assign the object in the constructor for dependency injection\n    public EmployeesRepo(IMapper mapper)\n    {\n        _mapper = mapper;\n    }\n\n    public IEnumerable&lt;EmployeeDTO&gt; GetAllEmployees()\n    {\n        return db.Employees.ProjectTo&lt;EmployeeDTO&gt;(_mapper.ConfigurationProvider).ToList();\n    }\n\n    internal IEnumerable&lt;EmployeeDTO&gt; GetLast(int v)\n    {\n       return db.Employees.ProjectTo&lt;EmployeeDTO&gt;(_mapper.ConfigurationProvider).ToList();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-core-mvc", "asp.net-core-2.1", "custom-action-filter"], "comments": [{"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 1, "creation_date": 1543440053, "post_id": 53525645, "comment_id": 93925319, "body": "The <code>Apply</code> method is just called once for each action at startup, whereas the filter is created for each request. Do you need the <code>ISomeService</code> in order to determine the routes that need to be applied or can that just live in its own separate filter attribute?"}, {"owner": {"reputation": 412, "user_id": 6237687, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LzJvR.jpg?s=128&g=1", "display_name": "O. Shai", "link": "https://stackoverflow.com/users/6237687/o-shai"}, "reply_to_user": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 1, "creation_date": 1543444468, "post_id": 53525645, "comment_id": 93926984, "body": "@KirkLarkin - Yes, I do need the <code>ISomeService</code> in order to determine the routes that need to be applied."}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 1, "creation_date": 1543481254, "post_id": 53525645, "comment_id": 93937509, "body": "Does this attribute do anything other than set the routes? It seems like you&#39;re trying to set it up as a filter as well but I don&#39;t see any filter logic."}, {"owner": {"reputation": 412, "user_id": 6237687, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LzJvR.jpg?s=128&g=1", "display_name": "O. Shai", "link": "https://stackoverflow.com/users/6237687/o-shai"}, "reply_to_user": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 1, "creation_date": 1543510961, "post_id": 53525645, "comment_id": 93954868, "body": "@KirkLarkin - No, it only sets the routes, but I need the <code>ISomeService</code> in order to determine the routes to apply."}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 1, "creation_date": 1543525863, "post_id": 53525645, "comment_id": 93961807, "body": "Ok. Can you just show how you set up <code>ISomeService</code> in <code>ConfigureServices</code>? I should have enough information to post an answer then."}, {"owner": {"reputation": 412, "user_id": 6237687, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LzJvR.jpg?s=128&g=1", "display_name": "O. Shai", "link": "https://stackoverflow.com/users/6237687/o-shai"}, "reply_to_user": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 1, "creation_date": 1543526899, "post_id": 53525645, "comment_id": 93962247, "body": "@KirkLarkin - <code>services.AddScoped&lt;ISomeService, SomeService&gt;();</code> Simple as that."}], "answers": [{"tags": [], "owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "is_accepted": true, "score": 3, "last_activity_date": 1584395694, "last_edit_date": 1584395694, "creation_date": 1543565073, "answer_id": 53553533, "question_id": 53525645, "link": "https://stackoverflow.com/questions/53525645/asp-net-core-custom-filter-implementing-iactionmodelconvention-and-ifilterfactor/53553533#53553533", "title": "Asp.net Core custom filter implementing IActionModelConvention and IFilterFactory", "body": "<p>Your <code>IActionModelConvention</code> implementation will run only once, at startup. <code>Apply</code> will be called once for each action. To use <code>ISomeService</code> inside of the <code>Apply</code> function, pass it through as a constructor argument. Your <code>Contains2RoutesAttribute</code> class need not be an attribute or an implementation of <code>IFilterFactory</code>, as you've confirmed in the comments that it does not participate in the <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/controllers/filters?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">filter pipeline</a>. Here's a code example, where I've also renamed the class to better represent what it's doing (it's no longer an attribute):</p>\n\n<pre><code>public class Contains2RoutesConvention : IActionModelConvention\n{\n    private readonly ISomeService someService;\n\n    public Contains2RoutesConvention(ISomeService someService)\n    {\n        this.someService = someService;\n    }\n\n    public void Apply(ActionModel actionModel)\n    {\n        someService.DoSomething();\n\n        ...\n    }\n}\n</code></pre>\n\n<p>Register this convention in <code>Startup.ConfigureServices</code>:</p>\n\n<pre><code>services.AddMvc(options =&gt;\n{\n    options.Conventions.Add(new Contains2RoutesConvention(new SomeService()));\n});\n</code></pre>\n\n<p>This is where it gets a bit more interesting. You can't use dependency injection with a <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/controllers/application-model?view=aspnetcore-2.1#conventions\" rel=\"nofollow noreferrer\">convention</a>, so in this example, I've created an instance of <code>SomeService</code> inline when constructing <code>Contains2RoutesConvention</code>. If you want this instance to be a singleton that can be used elsewhere in your application, you can do something like this in <code>ConfigureServices</code>:</p>\n\n<pre><code>var someService = new SomeService();\n\nservices.AddMvc(options =&gt;\n{\n    options.Conventions.Add(new Contains2RoutesConvention(someService));\n});\n\nservices.AddSingleton&lt;ISomeService&gt;(someService);\n</code></pre>\n\n<p>Of course, this depends on whether or not <code>SomeService</code> has dependencies of its own, but if it does, they would not be resolvable from the DI container as it's too early in the pipeline.</p>\n"}], "owner": {"reputation": 412, "user_id": 6237687, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LzJvR.jpg?s=128&g=1", "display_name": "O. Shai", "link": "https://stackoverflow.com/users/6237687/o-shai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1174, "favorite_count": 0, "accepted_answer_id": 53553533, "answer_count": 1, "score": 3, "last_activity_date": 1584395694, "creation_date": 1543428789, "last_edit_date": 1543565100, "question_id": 53525645, "link": "https://stackoverflow.com/questions/53525645/asp-net-core-custom-filter-implementing-iactionmodelconvention-and-ifilterfactor", "title": "Asp.net Core custom filter implementing IActionModelConvention and IFilterFactory", "body": "<p>I need to create a custom action filter that implements both <code>IActionModelConvention</code> and <code>IFilterFactory</code>.</p>\n\n<p>I use <code>IActionModelConvention</code> for setting several routes at the same time, and I use <code>IFilterFactory</code> to inject some services I need to use.</p>\n\n<p><strong>The problem</strong> is that the <code>Apply()</code> method from the <code>IActionModelConvention</code> is being called before the <code>CreateInstance()</code> method from the <code>IFilterFactory</code>, and I need the injected services to be available in the <code>Apply()</code>.</p>\n\n<p><strong>My question</strong> is how do I inject the services before the <code>Apply()</code> method is being called? and I also prefer to use <code>IFilterFactory</code> to inject services because it doesn't force me to wrap the actual attribute with the <code>[ServiceFilter]</code> or <code>[TypeFilter]</code> attributes.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public class Contains2RoutesAttribute : Attribute, IActionModelConvention, IFilterFactory\n{\n    public ISomeService SomeService{ get; set; }\n\n    public IFilterMetadata CreateInstance(IServiceProvider serviceProvider)\n    {\n        ISomeService someService = serviceProvider.GetService&lt;ISomeService&gt;();\n        return new Contains2RoutesAttribute() { SomeService = someService };\n    }\n\n    public void Apply(ActionModel action)\n    {\n        // Here I need to use the service injected:\n        this.SomeService.DoSomething(); // ERROR: The service here is null.\n\n        action.Selectors.Clear();\n\n        // Adding route 1:\n        action.Selectors.Add(new SelectorModel\n        {\n            AttributeRouteModel = new AttributeRouteModel { Template = \"~/index1\" }\n        });\n\n        // Adding route 2:\n        action.Selectors.Add(new SelectorModel\n        {\n            AttributeRouteModel = new AttributeRouteModel { Template = \"~/index2\" }\n        });\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "c#", ".net", "node.js"], "answers": [{"tags": [], "owner": {"reputation": 3891, "user_id": 9456781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zdM55.jpg?s=128&g=1", "display_name": "Tobias Tengler", "link": "https://stackoverflow.com/users/9456781/tobias-tengler"}, "is_accepted": true, "score": 1, "last_activity_date": 1543433423, "creation_date": 1543433423, "answer_id": 53526777, "question_id": 53525634, "link": "https://stackoverflow.com/questions/53525634/how-to-convert-createhmac-from-node-to-c/53526777#53526777", "title": "How to convert createHmac from node to C#?", "body": "<p>This is how you would generate a SHA1 Hmac in C#:</p>\n\n<pre><code>string GenerateHmac(string input, string key)\n{\n    var inputBytes = Encoding.UTF8.GetBytes(input);\n    var keyBytes = Encoding.UTF8.GetBytes(key);\n\n    using (var memoryStream = new MemoryStream(inputBytes))\n    {\n        using (var hmacSha1 = new HMACSHA1(keyBytes))\n        {\n            return hmacSha1.ComputeHash(memoryStream).Aggregate(\"\", \n                (aggregator, singleByte) =&gt; aggregator + singleByte.ToString(\"X2\"), aggregator =&gt; aggregator);\n        }\n    }\n}\n\n// somewhere in your code\nvar value = \"value\";\nvar secretValue = \"secretValue\";\n\nvar hmac = GenerateHmac(value, value + secretValue);\n// hmac is \"0B3A72A9AF80D0E5F2CEDDCA12EE21E90DD590DE\"\n</code></pre>\n\n<p>Let me know if this isn't what you were looking for and i'll try my best to help you further!</p>\n"}], "owner": {"reputation": 436, "user_id": 3058487, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000913586290/picture?type=large", "display_name": "Paulo", "link": "https://stackoverflow.com/users/3058487/paulo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 53526777, "answer_count": 1, "score": 0, "last_activity_date": 1543433423, "creation_date": 1543428752, "question_id": 53525634, "link": "https://stackoverflow.com/questions/53525634/how-to-convert-createhmac-from-node-to-c", "title": "How to convert createHmac from node to C#?", "body": "<p>I have this code in node:</p>\n\n<pre><code>const crypto = require('crypto')\n const token = crypto.createHmac('sha1', 'value'+'secretValue').update('value').digest('hex');\n</code></pre>\n\n<p>I need to convert to C#, but the code default to convert for sha1 in .net doesnt work (actually, the result is different from the node).</p>\n\n<p>How can I convert to C#? </p>\n"}, {"tags": ["javascript", "c#", "ajax"], "comments": [{"owner": {"reputation": 2700, "user_id": 1819684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rh5yA.png?s=128&g=1", "display_name": "gforce301", "link": "https://stackoverflow.com/users/1819684/gforce301"}, "edited": false, "score": 0, "creation_date": 1543430345, "post_id": 53525604, "comment_id": 93920861, "body": "That jQuery ajax call will throw a syntax error. Just paste it in any js console. You have improper quoting in the <code>url</code> parameter."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4489268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e63b6ebe165306508f24ae5d2fc9f5?s=128&d=identicon&r=PG&f=1", "display_name": "Klattypoo", "link": "https://stackoverflow.com/users/4489268/klattypoo"}, "edited": false, "score": 0, "creation_date": 1543435418, "post_id": 53526980, "comment_id": 93923293, "body": "Thank you for the response. I have been going back and forth between placing the JS in an external file, and manually entering the path, as well as putting the JS into the cshtml file that has razor in the scope and using @Url.Action. Still not getting it to hit however with a 404 error. Really appreciate your help so far."}, {"owner": {"reputation": 1, "user_id": 4489268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e63b6ebe165306508f24ae5d2fc9f5?s=128&d=identicon&r=PG&f=1", "display_name": "Klattypoo", "link": "https://stackoverflow.com/users/4489268/klattypoo"}, "edited": false, "score": 0, "creation_date": 1543435534, "post_id": 53526980, "comment_id": 93923352, "body": "Honestly, I would prefer to keep the JS in an external JS file and enter the path manually."}, {"owner": {"reputation": 49639, "user_id": 231716, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f983f7a23d33aa383453583cbf20bf2a?s=128&d=identicon&r=PG", "display_name": "Brian Mains", "link": "https://stackoverflow.com/users/231716/brian-mains"}, "reply_to_user": {"reputation": 1, "user_id": 4489268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e63b6ebe165306508f24ae5d2fc9f5?s=128&d=identicon&r=PG&f=1", "display_name": "Klattypoo", "link": "https://stackoverflow.com/users/4489268/klattypoo"}, "edited": false, "score": 0, "creation_date": 1543460558, "post_id": 53526980, "comment_id": 93930649, "body": "This is a web api you are trying to call via AJAX?"}, {"owner": {"reputation": 1, "user_id": 4489268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e63b6ebe165306508f24ae5d2fc9f5?s=128&d=identicon&r=PG&f=1", "display_name": "Klattypoo", "link": "https://stackoverflow.com/users/4489268/klattypoo"}, "edited": false, "score": 0, "creation_date": 1543504177, "post_id": 53526980, "comment_id": 93950901, "body": "Yes, I set up as a web api controller. I actually got it to work last night, by changing it to a MVC controller. Copy and pasted my code, and added the needed namespaces and it worked!"}], "tags": [], "owner": {"reputation": 49639, "user_id": 231716, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f983f7a23d33aa383453583cbf20bf2a?s=128&d=identicon&r=PG", "display_name": "Brian Mains", "link": "https://stackoverflow.com/users/231716/brian-mains"}, "is_accepted": false, "score": 0, "last_activity_date": 1543434249, "creation_date": 1543434249, "answer_id": 53526980, "question_id": 53525604, "link": "https://stackoverflow.com/questions/53525604/get-ajax-call-not-hitting-controller-action/53526980#53526980", "title": "Get Ajax call not hitting controller action", "body": "<p>You can't use <code>@Url.Action()</code> inside a .js file.  You could manually setup the URL like:</p>\n\n<pre><code>$.ajax({\n    url: '../MarketingMaterial/GetMarketingMaterial'\n</code></pre>\n\n<p>for outside the current controller request (Note that the <code>../</code> is to make the URL relative from the current MVC view) or just simply </p>\n\n<pre><code>$.ajax({\n    url: 'GetMarketingMaterial'\n</code></pre>\n\n<p>for a request to an action method inside the same controller that is serving the current view.</p>\n\n<p>Also just to note that Url.Action, if used in a view and NOT in a JS file, you don't need to specify the word \"controller\".</p>\n\n<pre><code>url: '@Url.Action(\"GetMarketingMaterial\", \"MarketingMaterial\")',\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4489268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e63b6ebe165306508f24ae5d2fc9f5?s=128&d=identicon&r=PG&f=1", "display_name": "Klattypoo", "link": "https://stackoverflow.com/users/4489268/klattypoo"}, "edited": false, "score": 0, "creation_date": 1543504835, "post_id": 53536080, "comment_id": 93951308, "body": "Thanks for the information. I ended up moving the js into a seperate file, and hardcoded the url for the ajax which made it a little easier on the syntax. Take a look at my answer though, and if you have any insight would love to hear."}], "tags": [], "owner": {"reputation": 1, "user_id": 5967990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7778d128b89c76479afdd871b7d2469?s=128&d=identicon&r=PG&f=1", "display_name": "Malcom Dsilva", "link": "https://stackoverflow.com/users/5967990/malcom-dsilva"}, "is_accepted": false, "score": 0, "last_activity_date": 1543484869, "creation_date": 1543484869, "answer_id": 53536080, "question_id": 53525604, "link": "https://stackoverflow.com/questions/53525604/get-ajax-call-not-hitting-controller-action/53536080#53536080", "title": "Get Ajax call not hitting controller action", "body": "<p>Please check url in console. You may have problem with url\nuse </p>\n\n<pre><code>'@Url.Action(\"GetMarketingMaterial\", \"MarketingMaterialController\")'\n</code></pre>\n\n<p>i think your \"\" creating issue. Hope this will help</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4489268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e63b6ebe165306508f24ae5d2fc9f5?s=128&d=identicon&r=PG&f=1", "display_name": "Klattypoo", "link": "https://stackoverflow.com/users/4489268/klattypoo"}, "is_accepted": true, "score": 0, "last_activity_date": 1543504558, "creation_date": 1543504558, "answer_id": 53542140, "question_id": 53525604, "link": "https://stackoverflow.com/questions/53525604/get-ajax-call-not-hitting-controller-action/53542140#53542140", "title": "Get Ajax call not hitting controller action", "body": "<p>I figured this out last night. Sadly for future reference, I am not 100% on the cause, maybe someone can add to this answer. But I originally set it up as a Web API Controller, and by trial and error came down to recreating the controller and instead, created a regular MVC controller. I copy and pasted my code into the controller and was able to hit the URL. I add a few minor changes to the code, and namespaces. </p>\n\n<p>Here is the new working Controller:</p>\n\n<pre><code>namespace WebApplication2.Controllers\n{\n    [RoutePrefix(\"api/MarketingMaterial\")]\n    public class TestController : Controller\n    {\n        private ImprevDBEntities db = new ImprevDBEntities();\n\n        // GET: Test\n        [HttpGet]\n        [Route(\"GetMarketingMaterials/{option}\")]\n        public ActionResult Index(string option)\n        {\n            var test1 = from M in db.DimMarketingMaterials\n                        join I in db.DimListingIdentifiers on M.ListingId equals \n                        I.ListingId\n                        where \n                        M.Url.StartsWith(\"https://client.marketing.imprev.net/\")\n                        &amp;&amp; I.ListingNumber == option\n                        select new MarketingMaterial\n                        {\n                            UrlMaterial = M.Url,\n                            Description = M.Description\n                        };\n\n\n            var response = new MarketingMaterialsViewModel();\n            response.MarketingMaterials = new List&lt;MarketingMaterial&gt;();\n            response.MarketingMaterials = test1.ToList();\n\n            return Json(response, JsonRequestBehavior.AllowGet);\n        }\n    }\n}\n</code></pre>\n\n<p>and the Ajax call:</p>\n\n<pre><code>    function ShowMarketingMaterial() {\n\n    $.ajax({\n        url: '/api/MarketingMaterial/GetMarketingMaterials/' + option,\n        type: 'GET',\n        dataType: 'json',\n        success: OnSuccess,\n        failure: function (response) {\n            alert(response.d);\n        }\n    });\n\n}\n</code></pre>\n\n<p>Mind you, this code is not exactly identical to the original post, as many changes were made for trying to get this to work. However, this code wouldn't work for me in the Web Api controller, if anyone would like to add to why this might be, I would love to hear your feedback, but I will also do some research of my own.</p>\n"}], "owner": {"reputation": 1, "user_id": 4489268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e63b6ebe165306508f24ae5d2fc9f5?s=128&d=identicon&r=PG&f=1", "display_name": "Klattypoo", "link": "https://stackoverflow.com/users/4489268/klattypoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 53542140, "answer_count": 3, "score": 0, "last_activity_date": 1543504558, "creation_date": 1543428616, "question_id": 53525604, "link": "https://stackoverflow.com/questions/53525604/get-ajax-call-not-hitting-controller-action", "title": "Get Ajax call not hitting controller action", "body": "<p>I have been struggling to get this Get request to hit the url. I tried entering the url parameter manually in a separate js file, before moving all my js to cshtml to give razor a go. Still getting a 404 error on the request. Any and all help is much appreciated as I am newer at this.</p>\n\n<pre><code>function ShowMarketingMaterial() {\n\n$.ajax({\n    url: \"@Url.Action(\"GetMarketingMaterial\", \"MarketingMaterialController\")\",\n    type: \"GET\",\n    data: option,\n    dataType: 'json',\n    success: OnSuccess,\n    failure: function (response) {\n        alert(response.d);\n    }\n});\n</code></pre>\n\n<p>Here is my controller:</p>\n\n<pre><code>using System.Net;\nusing System.Net.Http;\nusing System.Web.Http;\nusing System.Web.Mvc;\nusing WebApplication2.Data;\nusing WebApplication2.Models;\n\nnamespace WebApplication2.Controllers\n{\n    public class MarketingMaterialController : ApiController\n    {\n        private ImprevDBEntities db = new ImprevDBEntities();\n        //[System.Web.Services.WebMethod]\n\n        [System.Web.Http.HttpGet]\n        //[System.Web.Http.Route(\"{GetMarketingMaterial}\")]\n\n        public IHttpActionResult GetMarketingMaterial(string test)\n        {\n            var test1 = from M in db.DimMarketingMaterials\n                        join I in db.DimListingIdentifiers on M.ListingId equals I.ListingId\n                        where M.Url.StartsWith(\"https://client.marketing.imprev.net/\")\n                        &amp;&amp; I.ListingNumber == test\n                        select new MarketingMaterial\n                        {\n                            UrlMaterial = M.Url,\n                            Description = M.Description\n                        };\n\n\n            var response = new MarketingMaterialsViewModel();\n            response.MarketingMaterials = new List&lt;MarketingMaterial&gt;();\n            response.MarketingMaterials = test1.ToList();\n\n            return Ok(response);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "cookies", "httpcontext"], "comments": [{"owner": {"reputation": 191, "user_id": 825618, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9b8c7cee7ae8e6ac36cc8b090854007f?s=128&d=identicon&r=PG", "display_name": "N0ug4t", "link": "https://stackoverflow.com/users/825618/n0ug4t"}, "edited": false, "score": 0, "creation_date": 1543436330, "post_id": 53525553, "comment_id": 93923707, "body": "System.Web.HttpContext.Current.Response.Cookies.Add(new HttpCookie(&quot;cookieName&quot;)) ?"}, {"owner": {"reputation": 11, "user_id": 10713662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97a13ed76dbf4feb737c04a3188c4140?s=128&d=identicon&r=PG&f=1", "display_name": "OneZeroByte", "link": "https://stackoverflow.com/users/10713662/onezerobyte"}, "reply_to_user": {"reputation": 191, "user_id": 825618, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9b8c7cee7ae8e6ac36cc8b090854007f?s=128&d=identicon&r=PG", "display_name": "N0ug4t", "link": "https://stackoverflow.com/users/825618/n0ug4t"}, "edited": false, "score": 0, "creation_date": 1543440286, "post_id": 53525553, "comment_id": 93925421, "body": "I&#39;ve tried that too, but there&#39;s no Class called HttpCookie (or similar). And I cannot use the method Add in System.Web.HttpContext.Current.Response.Cookies for any reason."}], "owner": {"reputation": 11, "user_id": 10713662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97a13ed76dbf4feb737c04a3188c4140?s=128&d=identicon&r=PG&f=1", "display_name": "OneZeroByte", "link": "https://stackoverflow.com/users/10713662/onezerobyte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1590785191, "creation_date": 1543428433, "last_edit_date": 1590785191, "question_id": 53525553, "link": "https://stackoverflow.com/questions/53525553/how-to-add-my-own-authentication-with-cookies-in-asp-net-core-razor", "title": "How to add my own Authentication with cookies in ASP.Net Core Razor?", "body": "<p>I have been despairing for almost a week now. I am currently writing a website in C # and decided against an MVC Page (because I do not quite understand that ...).\nTherefore, I have chosen a simple web application (Visual Studio 2017) and I am fine with that until now. I have classes like in normal WPF applications and I manage quite well so far.\nMy problem: I just cannot save cookie or session variables. I can already read cookies, as well as almost everything else - only writing is not possible.\n(If not everything is clear to you: I am still a relative newbee who used to build websites in PHP.)\nBtw: Sorry for my possible bad English.</p>\n\n<p>Startup.cs:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing Microsoft.AspNetCore.Builder;\nusing Microsoft.AspNetCore.Hosting;\nusing Microsoft.AspNetCore.Http;\nusing Microsoft.AspNetCore.HttpsPolicy;\nusing Microsoft.AspNetCore.Mvc;\nusing Microsoft.Extensions.Configuration;\nusing Microsoft.Extensions.DependencyInjection;\n\nnamespace Webpage {\n    public class Startup {\n        public Startup(IConfiguration configuration) {\n            Configuration = configuration;\n        }\n\n        public IConfiguration Configuration { get; }\n\n        // This method gets called by the runtime. Use this method to add services to the container.\n        public void ConfigureServices(IServiceCollection services) {\n            services.Configure&lt;CookiePolicyOptions&gt;(options =&gt; {\n                // This lambda determines whether user consent for non-essential cookies is needed for a given request.\n                options.CheckConsentNeeded = context =&gt; true;\n                options.MinimumSameSitePolicy = SameSiteMode.None;\n            });\n\n            services.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_1);\n\n            services.AddHttpContextAccessor();\n        }\n\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IHostingEnvironment env) {\n            if (env.IsDevelopment()) {\n                app.UseDeveloperExceptionPage();\n            }\n            else {\n                app.UseExceptionHandler(\"/Error/500\");\n                app.UseHsts();\n            }\n\n            app.UseStaticHttpContext();\n\n            app.UseHttpsRedirection();\n            app.UseStaticFiles();\n            app.UseCookiePolicy();\n\n            app.UseMvc();\n        }\n    }\n    public static class StaticHttpContextExtensions {\n        public static void AddHttpContextAccessor(this IServiceCollection services) {\n            services.AddSingleton&lt;IHttpContextAccessor, HttpContextAccessor&gt;();\n        }\n\n        public static IApplicationBuilder UseStaticHttpContext(this IApplicationBuilder app) {\n            var httpContextAccessor = app.ApplicationServices.GetRequiredService&lt;IHttpContextAccessor&gt;();\n            System.Web.HttpContext.Configure(httpContextAccessor);\n            return app;\n        }\n    }\n}\n\nnamespace System.Web {\n    public static class HttpContext {\n        private static IHttpContextAccessor _contextAccessor;\n\n        public static Microsoft.AspNetCore.Http.HttpContext Current =&gt; _contextAccessor.HttpContext;\n\n        internal static void Configure(IHttpContextAccessor contextAccessor) {\n            _contextAccessor = contextAccessor;\n        }\n    }\n}\n</code></pre>\n\n<p>HttpConnection.cs:</p>\n\n<pre><code>using Microsoft.AspNetCore.Http;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Net;\nusing System.Threading.Tasks;\n\nnamespace Webpage.Classes {\n    public class HttpConnection {\n        public static IPAddress GetUserIPAddress() {\n            return System.Web.HttpContext.Current.Connection.RemoteIpAddress;\n        }\n\n        public static string addReplaceCookie(string cookieName, string cookieValue) {\n            System.Web.HttpContext.Current.Response.Cookies.Append(cookieName, cookieValue, new CookieOptions {\n                Expires = DateTime.Now.AddDays(1),\n                Domain = null\n            });\n            return System.Web.HttpContext.Current.Request.Cookies[cookieName];\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "angular", "http", "asp.net-web-api2"], "comments": [{"owner": {"reputation": 79, "user_id": 10099932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060a856175bf4411037afeddb014f413?s=128&d=identicon&r=PG&f=1", "display_name": "Giollia", "link": "https://stackoverflow.com/users/10099932/giollia"}, "edited": false, "score": 0, "creation_date": 1543428660, "post_id": 53525545, "comment_id": 93920084, "body": "<a href=\"https://stackoverflow.com/questions/51569826/response-to-preflight-request-doesnt-pass-access-control-check-the-value-of-th/51569929\" title=\"response to preflight request doesnt pass access control check the value of th\">stackoverflow.com/questions/51569826/&hellip;</a>"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1543428728, "post_id": 53525545, "comment_id": 93920111, "body": "I&#39;m pretty sure you want to pass the <code>EnableCorsAttribute</code> variable <code>cors</code> into the <code>EnableCors</code> method."}, {"owner": {"reputation": 109, "user_id": 3223332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d52b39eedf45b04a7ef1e6d098f24a?s=128&d=identicon&r=PG&f=1", "display_name": "user3223332", "link": "https://stackoverflow.com/users/3223332/user3223332"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1543428900, "post_id": 53525545, "comment_id": 93920185, "body": "@JonathonChase I dont understand how to do it?"}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1543429025, "post_id": 53525545, "comment_id": 93920255, "body": "@user3223332 In your WebApiConfig.cs, try moving the declaration of <code>cors</code> to the top, then change <code>config.EnableCors();</code> to <code>config.EnableCors(cors);</code>"}, {"owner": {"reputation": 109, "user_id": 3223332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d52b39eedf45b04a7ef1e6d098f24a?s=128&d=identicon&r=PG&f=1", "display_name": "user3223332", "link": "https://stackoverflow.com/users/3223332/user3223332"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1543429112, "post_id": 53525545, "comment_id": 93920290, "body": "@JonathonChase Yes Thank you but it did not solved the probloem :/"}, {"owner": {"reputation": 109, "user_id": 3223332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d52b39eedf45b04a7ef1e6d098f24a?s=128&d=identicon&r=PG&f=1", "display_name": "user3223332", "link": "https://stackoverflow.com/users/3223332/user3223332"}, "reply_to_user": {"reputation": 79, "user_id": 10099932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060a856175bf4411037afeddb014f413?s=128&d=identicon&r=PG&f=1", "display_name": "Giollia", "link": "https://stackoverflow.com/users/10099932/giollia"}, "edited": false, "score": 0, "creation_date": 1543429906, "post_id": 53525545, "comment_id": 93920657, "body": "@Giollia I dont have <b>startup.cs</b> file"}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 3223332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d52b39eedf45b04a7ef1e6d098f24a?s=128&d=identicon&r=PG&f=1", "display_name": "user3223332", "link": "https://stackoverflow.com/users/3223332/user3223332"}, "edited": false, "score": 0, "creation_date": 1543669814, "post_id": 53556891, "comment_id": 94006696, "body": "It didn&#39;t worked. I got error: Access to XMLHttpRequest at &#39;<a href=\"http://localhost:51492/api/GetGameResult\" rel=\"nofollow noreferrer\">localhost:51492/api/GetGameResult</a>&#39; from origin &#39;<a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">localhost:4200</a>&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource."}], "tags": [], "owner": {"reputation": 1197, "user_id": 10720296, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ry6QvpRrsKM/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i3r2hv55piQWJgADuGIpmVdeYhNg/mo/photo.jpg?sz=128", "display_name": "Raghvender Kataria", "link": "https://stackoverflow.com/users/10720296/raghvender-kataria"}, "is_accepted": false, "score": 0, "last_activity_date": 1543578208, "creation_date": 1543578208, "answer_id": 53556891, "question_id": 53525545, "link": "https://stackoverflow.com/questions/53525545/how-to-handel-error-response-to-preflight-request-doesnt-pass-access-control-c/53556891#53556891", "title": "How to handel error &quot;Response to preflight request doesn&#39;t pass access control check: The value of the &#39;Access-Control-Allow-Credentials&#39;&quot;", "body": "<p>Below are the steps from Microsoft guidelines to \"Enable CORS\".</p>\n\n<p>First, add the CORS NuGet package.</p>\n\n<pre><code>Install-Package Microsoft.AspNet.WebApi.Cors\n</code></pre>\n\n<p>Open the file App_Start/WebApiConfig.cs. Add the following code to the WebApiConfig.Register method:</p>\n\n<pre><code>public static void Register(HttpConfiguration config)\n        {\n            // New code\n            config.EnableCors();\n\n            config.Routes.MapHttpRoute(\n                name: \"DefaultApi\",\n                routeTemplate: \"api/{controller}/{id}\",\n                defaults: new { id = RouteParameter.Optional }\n            );\n        }\n</code></pre>\n\n<p>Next, add the [EnableCors] attribute to the Controller class:</p>\n\n<pre><code>using System.Net.Http;\nusing System.Web.Http;\nusing System.Web.Http.Cors;\n\nnamespace WebService.Controllers\n{\n    [EnableCors(origins: \"http://localhost:4200\", headers: \"*\", methods: \"*\")]\n    public class MainController : ApiController\n    {\n        // Controller methods not shown...\n    }\n}\n</code></pre>\n\n<p>This allows cross-origin requests from WebClient, while still disallowing all other cross-domain requests.</p>\n\n<p><strong>Do not include a forward slash at the end of the origins URL.</strong></p>\n"}], "owner": {"reputation": 109, "user_id": 3223332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d52b39eedf45b04a7ef1e6d098f24a?s=128&d=identicon&r=PG&f=1", "display_name": "user3223332", "link": "https://stackoverflow.com/users/3223332/user3223332"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543578208, "creation_date": 1543428393, "last_edit_date": 1543429183, "question_id": 53525545, "link": "https://stackoverflow.com/questions/53525545/how-to-handel-error-response-to-preflight-request-doesnt-pass-access-control-c", "title": "How to handel error &quot;Response to preflight request doesn&#39;t pass access control check: The value of the &#39;Access-Control-Allow-Credentials&#39;&quot;", "body": "<p>I am trying to send Http POST request to web-api2 sever in my localhost.\nmy client run on <a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">http://localhost:4200</a> and my server run on <a href=\"http://localhost/MemoryGameServer/api/Test\" rel=\"nofollow noreferrer\">http://localhost/MemoryGameServer/api/Test</a>.\n(Different Origin)</p>\n\n<p>I have angular7 client code:</p>\n\n<pre><code>signUp(user: User){\n        const body : any = {\n            \"FullName\": \"FullName\",\n            \"UserName\": \"UserName\",\n            \"Password\": \"Password\",\n            \"Email\": \"Email\",\n            \"UserId\": 2\n        }\n\n        var headerOptions = new HttpHeaders({ 'Content-Type':'application/json' });\n\n        return this.http.post(this.rootUrl + 'Test1', JSON.stringify(body), {\n            headers: headerOptions,\n            withCredentials: true\n         });\n    }   \n</code></pre>\n\n<p>and I have web api 2 server code:</p>\n\n<pre><code>public class clsTest\n    {\n        public string FullName { get; set; }\n        public string UserName { get; set; }\n        public string Password { get; set; }\n        public string Email { get; set; }\n        public int UserId { get; set; }\n    }\n\n    [RoutePrefix(\"api\")]\n    [EnableCors(origins: \"http://localhost:4200\", headers: \"*\", methods: \"*\")]\n    public class MainController : ApiController\n    {    \n        [Route(\"Test1\"), HttpPost]\n        public IHttpActionResult Test1(clsTest data)\n        {\n            return Ok(\"OK!!\");\n        }\n    }\n</code></pre>\n\n<p>my <strong>WebApiConfig.cs</strong> File: (<strong>Updated</strong>)</p>\n\n<pre><code>public static void Register(HttpConfiguration config)\n    {\n        EnableCorsAttribute cors = new EnableCorsAttribute(\"http://localhost:4200\", \"*\", \"*\")\n        {\n            SupportsCredentials = true                \n        };\n\n        config.EnableCors(cors);\n\n        config.Routes.MapHttpRoute(\n            name: \"DefaultApi\",\n            routeTemplate: \"api/{controller}/{id}\",\n            defaults: new { id = RouteParameter.Optional }\n        );\n    }\n</code></pre>\n\n<p>But I am getting error: </p>\n\n<p><a href=\"https://i.stack.imgur.com/AZHB7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AZHB7.png\" alt=\"error\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/0d0mf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0d0mf.png\" alt=\"network tab\"></a></p>\n\n<p>How can I fix it?\nI need to make http post request with Json object to the server.</p>\n\n<p>Thank you!</p>\n\n<p><strong>UPDATE:</strong>\nI added this code to my web.config file:</p>\n\n<pre><code>&lt;httpProtocol&gt;\n  &lt;customHeaders&gt;\n    &lt;add name=\"Access-Control-Allow-Origin\" value=\"http://localhost:4200\" /&gt;\n    &lt;add name=\"Access-Control-Allow-Headers\" value=\"Origin, X-Requested-With, Content-Type, Accept, Access-Control-Allow-Origin\" /&gt;\n    &lt;add name=\"Access-Control-Allow-Methods\" value=\"POST,GET,OPTIONS,PUT,DELETE\" /&gt;\n    &lt;add name=\"Access-Control-Allow-Credentials\" value=\"true\" /&gt;\n  &lt;/customHeaders&gt;\n&lt;/httpProtocol&gt;\n</code></pre>\n\n<p>And now I am getting this error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/scNFt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/scNFt.png\" alt=\"error\"></a></p>\n"}, {"tags": ["c#", "mysql", "asp.net"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1543428682, "post_id": 53525513, "comment_id": 93920093, "body": "Did you try doing what the error message says? What happened?"}, {"owner": {"reputation": 79, "user_id": 10099932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/060a856175bf4411037afeddb014f413?s=128&d=identicon&r=PG&f=1", "display_name": "Giollia", "link": "https://stackoverflow.com/users/10099932/giollia"}, "edited": false, "score": 0, "creation_date": 1543428923, "post_id": 53525513, "comment_id": 93920205, "body": "To quote Flippi on a similar post: &quot;Solved this issue! Turns out the newest MySql.Data.dll is built off of .Net Framework 4.5.2, while my project was using .Net Framework 3.5 Client Profile.&quot; Change the framework and that should fix the problem"}], "answers": [{"tags": [], "owner": {"reputation": 137, "user_id": 5714030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-38XczFu1PK0/AAAAAAAAAAI/AAAAAAAAABQ/4qIO0h_fdYI/photo.jpg?sz=128", "display_name": "Mark Parker", "link": "https://stackoverflow.com/users/5714030/mark-parker"}, "is_accepted": false, "score": 1, "last_activity_date": 1543436071, "creation_date": 1543436071, "answer_id": 53527409, "question_id": 53525513, "link": "https://stackoverflow.com/questions/53525513/cs0246-the-type-or-namespace-name-mysql-could-not-be-found/53527409#53527409", "title": "CS0246: The type or namespace name &#39;MySql&#39; could not be found", "body": "<p>Apologies if this is not the case but working on the assumption that you're developing in a version of Visual Studio,  check the project references. </p>\n\n<p>If MySql.Data exists in the references but has the warning (yellow triangle) indicator next to it then you may need to re-reference the .dll from its location in your filesystem. </p>\n\n<p>Alternatively, you can grab this from the Nuget package manager if it is not available locally.</p>\n\n<p>Despite the full namespace qualification, the library must be correctly referenced for the object namespace to be recognised in the IDE.</p>\n\n<p>Let us know what IDE you're using if not VS.</p>\n"}], "owner": {"reputation": 1, "user_id": 6281553, "user_type": "registered", "profile_image": "https://graph.facebook.com/1270553796291404/picture?type=large", "display_name": "\u0641\u0627\u062f\u064a \u0639\u0628\u062f\u0627\u0644\u0644\u0647", "link": "https://stackoverflow.com/users/6281553/%d9%81%d8%a7%d8%af%d9%8a-%d8%b9%d8%a8%d8%af%d8%a7%d9%84%d9%84%d9%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1543436071, "creation_date": 1543428238, "question_id": 53525513, "link": "https://stackoverflow.com/questions/53525513/cs0246-the-type-or-namespace-name-mysql-could-not-be-found", "title": "CS0246: The type or namespace name &#39;MySql&#39; could not be found", "body": "<p>how i can fix this problem??\nhelp me</p>\n\n<p>Compiler Error Message: CS0246: The type or namespace name 'MySql' could not be found (are you missing a using directive or an assembly reference?)</p>\n\n<pre><code>Line 1:  using MySql.Data.MySqlClient;\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-identity-2"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1543427855, "post_id": 53525400, "comment_id": 93919707, "body": "Identity 1 or Identity 2?"}, {"owner": {"reputation": 53, "user_id": 1794494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6c237d8f548f1f54afaabb61769ea67?s=128&d=identicon&r=PG", "display_name": "mrdiablo", "link": "https://stackoverflow.com/users/1794494/mrdiablo"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1543428628, "post_id": 53525400, "comment_id": 93920058, "body": "Sorry, using Identity 2."}, {"owner": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 1, "creation_date": 1543434259, "post_id": 53525400, "comment_id": 93922741, "body": "<code>Should I access them in the controller and create a Model for the view containing all information?</code> this is generally the route i always go as I prefer to keep as much c# out of my views as possible and have views essentially only be markup and accessing model properties. this isnt a big deal in your scenario and is entirely preference but it would also allow you to not have to worry about writing claims extensions as youre finding out now"}, {"owner": {"reputation": 53, "user_id": 1794494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6c237d8f548f1f54afaabb61769ea67?s=128&d=identicon&r=PG", "display_name": "mrdiablo", "link": "https://stackoverflow.com/users/1794494/mrdiablo"}, "edited": false, "score": 0, "creation_date": 1543434652, "post_id": 53525400, "comment_id": 93922955, "body": "What about a _Layout page or a _navigation partial view then? They also might need the information of the user."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 1794494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6c237d8f548f1f54afaabb61769ea67?s=128&d=identicon&r=PG", "display_name": "mrdiablo", "link": "https://stackoverflow.com/users/1794494/mrdiablo"}, "edited": false, "score": 1, "creation_date": 1543560638, "post_id": 53527100, "comment_id": 93970801, "body": "Thank you very much. Didn&#39;t know that it&#39;s possible to use a Controller for the partial views. With this in mind I added a PartialController with the attribute ChildActionOnly and use them in my layout view by using <code>@{                 Html.RenderAction(&quot;SideNavigation&quot;, &quot;Partial&quot;);             }</code> instead of RenderPartial. And So I moved everything into the controllers instead of having the logic in the views. I am accessing the user object in the controller instead of accessing the database directly."}, {"owner": {"reputation": 221, "user_id": 4604881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZzV6L.jpg?s=128&g=1", "display_name": "vahid", "link": "https://stackoverflow.com/users/4604881/vahid"}, "reply_to_user": {"reputation": 53, "user_id": 1794494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6c237d8f548f1f54afaabb61769ea67?s=128&d=identicon&r=PG", "display_name": "mrdiablo", "link": "https://stackoverflow.com/users/1794494/mrdiablo"}, "edited": false, "score": 0, "creation_date": 1543570062, "post_id": 53527100, "comment_id": 93974700, "body": "Thank you for your feedback."}], "tags": [], "owner": {"reputation": 221, "user_id": 4604881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZzV6L.jpg?s=128&g=1", "display_name": "vahid", "link": "https://stackoverflow.com/users/4604881/vahid"}, "is_accepted": true, "score": 0, "last_activity_date": 1543434780, "creation_date": 1543434780, "answer_id": 53527100, "question_id": 53525400, "link": "https://stackoverflow.com/questions/53525400/how-to-extend-the-applicationuser-in-asp-net-mvc-correctly/53527100#53527100", "title": "How to extend the ApplicationUser in ASP.NET MVC correctly?", "body": "<p>You can access AspNetUsers table with the name \"Users\" from your DbContext. First query AspNetUsers with current user's username or userId, then fill your ViewModel and send it to the view. The following code shows what I described:</p>\n\n<pre><code>[Authorize]\npublic ActionResult UserTopNavBar()\n{\n     var userTopNavBarViewModel = new UserTopNavBarViewModel();\n     using(ApplicationDbContext _db = new ApplicationDbContext())\n     {\n         var user = _db.Users.FirstOrDefault(a =&gt; a.UserName == User.Identity.Name);\n         if (user != null)\n         {\n             userTopNavBarViewModel.Name = user.FirstName + \" \" + user.LastName;\n             userTopNavBarViewModel.Picture = user.Picture;\n             userTopNavBarViewModel.Id = user.Id;\n         }\n     }\n     return PartialView(userTopNavBarViewModel);\n}\n</code></pre>\n\n<p>And this is my ViewModel</p>\n\n<pre><code>public class UserTopNavBarViewModel\n{\n     public string Name { get; set; }\n     public byte[] Picture { get; set; }\n     public string Id { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 1794494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6c237d8f548f1f54afaabb61769ea67?s=128&d=identicon&r=PG", "display_name": "mrdiablo", "link": "https://stackoverflow.com/users/1794494/mrdiablo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 693, "favorite_count": 0, "accepted_answer_id": 53527100, "answer_count": 1, "score": 1, "last_activity_date": 1543435481, "creation_date": 1543427741, "last_edit_date": 1543435481, "question_id": 53525400, "link": "https://stackoverflow.com/questions/53525400/how-to-extend-the-applicationuser-in-asp-net-mvc-correctly", "title": "How to extend the ApplicationUser in ASP.NET MVC correctly?", "body": "<p>This is my first attempt to use the ASP.NET identity with the builtin authentication. All previous attempts resulted in having a manual check for user credentials and then setting <code>FormsAuthentication</code> <code>AuthCookie</code>. But I had some problems with a signalR connection not having authentication information this way. So I started from scratch with the builtin authentication.</p>\n\n<p>So I extended my <code>ApplicationUser</code> object with some fields:</p>\n\n<pre><code>public class ApplicationUser : IdentityUser\n{\n    public long SteamId { get; set; }\n    public string Avatar { get; internal set; }\n    public string Name { get; internal set; }\n    public int Credits { get; internal set; }\n    public long? DiscordId { get; internal set; }\n    public DateTime? LastLogin { get; internal set; }\n    public DateTime RegisterDate { get; internal set; }\n}\n</code></pre>\n\n<p>These fields will create new columns in my <code>AspNetUsers</code> table. The problem is, I can't access these values in my views. For that I need to use claims if I understand correctly. These claims are stored in another table called <code>AspNetUserClaims</code>. So I have to add those claims to the user</p>\n\n<pre><code>await UserManager.AddClaimAsync(user.Id, new Claim(\"Avatar\", user.Avatar));\n</code></pre>\n\n<p>and creating a extension method to get the avatar from the principal</p>\n\n<pre><code>public static class ClaimsPrincipalExtension\n{\n    public static string GetAvatar(this ClaimsPrincipal principal)\n    {\n        var avatar = principal.Claims.FirstOrDefault(c =&gt; c.Type == \"Avatar\");\n        return avatar?.Value;\n    }\n}\n</code></pre>\n\n<p>Now I can access the avatar in my view</p>\n\n<pre><code>@(((ClaimsPrincipal)User).GetAvatar())\n</code></pre>\n\n<p>I don't think that's a really good and clean way to do this, but this is the first time I am using it, so I don't know what's the best practices to do. There are three main reasons why I don't like it:</p>\n\n<ol>\n<li>The avatar is stored twice, once in the <code>AspNetUsers</code> table as column and once as a new entry in <code>AspNetUserClaims</code></li>\n<li>Fields like <code>SteamId</code>, <code>Credits</code> or <code>RegisterDate</code> are saved as string in the <code>AspNetUserClaims</code> table, and I have to convert them to <code>int</code>, <code>long</code> or <code>DateTime</code> in the extension method</li>\n<li>I have to write an extension method for every property I'll add to the <code>ApplicationUser</code></li>\n</ol>\n\n<p>What is the best way to handle additional fields?</p>\n\n<ul>\n<li>Might it be an option to create a new object called <code>AdditionalUserInformation</code> and store the json serialized string as claim and just have one extension method to return the object? Then the properties would have the correct type.</li>\n<li>Or is there a way to access the properties of the <code>ApplicationUser</code> in the view?</li>\n<li>Or is the problem the use of those in the view? Should I access them in the controller and create a Model for the view containing all information? What about a _Layout page or a _navigation partial view then? They also might need the information of the user. I think I can't feed them with the controllers.</li>\n</ul>\n\n<p>I also checked some examples. Mostly they add those extension methods and mostly just string properties.</p>\n\n<p>Examples</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/28335353/how-to-extend-available-properties-of-user-identity\">How to extend available properties of User.Identity</a></li>\n<li><a href=\"https://stackoverflow.com/questions/35781423/how-should-i-access-my-applicationuser-properties-from-within-my-mvc-6-views\">How should I access my ApplicationUser properties from within my MVC 6 Views?</a></li>\n</ul>\n\n<p>I am currently kinda stuck here on finding the best and maybe clean solution.</p>\n"}, {"tags": ["c#", "wcf", "windows-services", "windows-server"], "answers": [{"comments": [{"owner": {"reputation": 2090, "user_id": 301198, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/DTqoo.jpg?s=128&g=1", "display_name": "Cristian T", "link": "https://stackoverflow.com/users/301198/cristian-t"}, "edited": false, "score": 1, "creation_date": 1587999654, "post_id": 55870402, "comment_id": 108723562, "body": "Thank you that was a non trivial answer!"}], "tags": [], "owner": {"reputation": 428, "user_id": 1364612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b39c05ec440599cda2aa819673a481cf?s=128&d=identicon&r=PG", "display_name": "jairhumberto", "link": "https://stackoverflow.com/users/1364612/jairhumberto"}, "is_accepted": true, "score": 2, "last_activity_date": 1556291332, "creation_date": 1556291332, "answer_id": 55870402, "question_id": 53525371, "link": "https://stackoverflow.com/questions/53525371/wcf-on-windows-service-platformnotsupportedexception-on-windows-server-2012-r2/55870402#55870402", "title": "WCF on Windows Service PlatformNotSupportedException On Windows Server 2012 R2", "body": "<p>I found the answer in this link</p>\n\n<p><a href=\"http://www.toughdev.com/content/2017/12/fixing-platformnotsupportedexception-when-running-a-window-communication-foundation-application/\" rel=\"nofollow noreferrer\">http://www.toughdev.com/content/2017/12/fixing-platformnotsupportedexception-when-running-a-window-communication-foundation-application/</a></p>\n\n<p>The http driver was disabled, and in the windows 2012 you can only change that in the registry.</p>\n\n<p>HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\HTTP</p>\n\n<p>The key <strong>Start</strong> has to be 3 (4 is disabled)</p>\n"}], "owner": {"reputation": 428, "user_id": 1364612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b39c05ec440599cda2aa819673a481cf?s=128&d=identicon&r=PG", "display_name": "jairhumberto", "link": "https://stackoverflow.com/users/1364612/jairhumberto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 55870402, "answer_count": 1, "score": 0, "last_activity_date": 1556291332, "creation_date": 1543427629, "question_id": 53525371, "link": "https://stackoverflow.com/questions/53525371/wcf-on-windows-service-platformnotsupportedexception-on-windows-server-2012-r2", "title": "WCF on Windows Service PlatformNotSupportedException On Windows Server 2012 R2", "body": "<p>I'm hosting a WCF service in an Windows Service. It works in several versions of Windows, Windows 7, Windows 8, Windows 10, Windows Server 2016...</p>\n\n<p>However, in <strong>Windows Server 2012 R2</strong> it doesn't work.</p>\n\n<p>When I try to start the service I get this error:</p>\n\n<pre><code>Service can not be started. System.PlatformNotSupportedException: This platform does not support operation.\n   at System.Net.HttpListener..ctor()\n   at System.ServiceModel.Channels.SharedHttpTransportManager.OnOpen()\n   at System.ServiceModel.Channels.TransportManager.Open(TransportChannelListener channelListener)\n   at System.ServiceModel.Channels.TransportManagerContainer.Open(SelectTransportManagersCallback selectTransportManagerCallback)\n   at System.ServiceModel.Channels.TransportChannelListener.OnOpen(TimeSpan timeout)\n   at System.ServiceModel.Channels.HttpChannelListener`1.OnOpen(TimeSpan timeout)\n   at System.ServiceModel.Channels.CommunicationObject.Open(TimeSpan timeout)\n   at System.ServiceModel.Dispatcher.ChannelDispatcher.OnOpen(TimeSpan timeout)\n   at System.ServiceModel.Channels.CommunicationObject.Open(TimeSpan timeout)\n   at System.ServiceModel.ServiceHostBase.OnOpen(TimeSpan timeout)\n   at System.ServiceModel.Channels.CommunicationObject.Open(TimeSpan timeout)\n   at System.ServiceModel.Channe...\n</code></pre>\n\n<p>Here is the service code:</p>\n\n<pre><code>using System;\nusing System.Configuration;\nusing System.ServiceModel;\nusing System.ServiceModel.Description;\nusing System.ServiceProcess;\n\nnamespace WindowsService\n{\n    public partial class GerenciadorMorphoService : ServiceBase\n    {\n        private ServiceHost mHost = null;\n\n        public GerenciadorMorphoService()\n        {\n            InitializeComponent();\n        }\n\n        protected override void OnStart(string[] args)\n        {\n            if (mHost != null)\n            {\n                mHost.Close();\n            }\n\n            Uri EndPoint = new Uri(ConfigurationManager.AppSettings[\"EndPointHttp\"]);\n            mHost = new ServiceHost(typeof(Terminais.Terminal), EndPoint);\n\n            ServiceMetadataBehavior behave = new ServiceMetadataBehavior\n            {\n                HttpGetEnabled = true\n            };\n\n            mHost.Description.Behaviors.Add(behave);\n\n            mHost.Open();\n        }\n\n        protected override void OnStop()\n        {\n            if (mHost != null)\n            {\n                mHost.Close();\n                mHost = null;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The address in <strong>ConfigurationManager.AppSettings[\"EndPointHttp\"]</strong> is\n<strong><a href=\"http://localhost:46125/bioacesso/terminais.svc\" rel=\"nofollow noreferrer\">http://localhost:46125/bioacesso/terminais.svc</a></strong></p>\n\n<p>The firewall is disabled,\nThere is no application using the port 46125 (I verified with the netstat command)\nI am using the Administrator account.</p>\n\n<p>I saw some posts here like this: <a href=\"https://stackoverflow.com/questions/7967674/wcf-platformnotsupportedexception-when-running-server-projects\">WCF : PlatformNotSupportedException when running Server Projects</a>,</p>\n\n<p>however, any solution suggested worked for my case,</p>\n\n<p>Anybody knows what can be happening?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 1082, "user_id": 9091276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/05cFn.png?s=128&g=1", "display_name": "Frontear", "link": "https://stackoverflow.com/users/9091276/frontear"}, "edited": false, "score": 8, "creation_date": 1543427805, "post_id": 53525351, "comment_id": 93919684, "body": "Pass the <code>score</code> value to the Enemy, then just do calculations inside one of your speed methods."}, {"owner": {"reputation": 21, "user_id": 10711077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NjAuYL6zI8E/AAAAAAAAAAI/AAAAAAAAQVI/-CSEEQ5jZXQ/photo.jpg?sz=128", "display_name": "Gaurav Pela", "link": "https://stackoverflow.com/users/10711077/gaurav-pela"}, "reply_to_user": {"reputation": 1082, "user_id": 9091276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/05cFn.png?s=128&g=1", "display_name": "Frontear", "link": "https://stackoverflow.com/users/9091276/frontear"}, "edited": false, "score": 0, "creation_date": 1543459607, "post_id": 53525351, "comment_id": 93930442, "body": "I did that but my multiplier gets added infinitely which causes my enemy to move way faster than i can see."}, {"owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 1, "creation_date": 1543469210, "post_id": 53525351, "comment_id": 93932570, "body": "Unrelated tip: note the description of the <a href=\"https://stackoverflow.com/questions/tagged/visual-studio\">visual-studio</a> tag: <i>Use this tag if you have a specific question about Visual Studio features and functionality. DO NOT use this tag on questions regarding code which merely happened to be written in Visual Studio.</i> So it doesn&#39;t apply to this question."}], "answers": [{"comments": [{"owner": {"reputation": 448, "user_id": 2483257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bb8b6a404c543b62f6f14ba615bac0?s=128&d=identicon&r=PG", "display_name": "Steven Coull", "link": "https://stackoverflow.com/users/2483257/steven-coull"}, "edited": false, "score": 0, "creation_date": 1543487258, "post_id": 53532182, "comment_id": 93941166, "body": "Just a general Unity tip, don&#39;t use the FindObjectOfType inside code that&#39;ll be executed every frame, all of the Find methods have poor performance. Set the ScoreManager as a SerializeField in your class. I&#39;d also question whether you need to check the difference between two numbers in Update - can&#39;t you just create an event to do this check after the score has been increased?"}, {"owner": {"reputation": 21, "user_id": 10711077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NjAuYL6zI8E/AAAAAAAAAAI/AAAAAAAAQVI/-CSEEQ5jZXQ/photo.jpg?sz=128", "display_name": "Gaurav Pela", "link": "https://stackoverflow.com/users/10711077/gaurav-pela"}, "reply_to_user": {"reputation": 448, "user_id": 2483257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bb8b6a404c543b62f6f14ba615bac0?s=128&d=identicon&r=PG", "display_name": "Steven Coull", "link": "https://stackoverflow.com/users/2483257/steven-coull"}, "edited": false, "score": 0, "creation_date": 1543504859, "post_id": 53532182, "comment_id": 93951323, "body": "Thank You, @Steven Coull for that tip, really appreciated that. I am really new to this unity and programming, what event do i create to check for the difference in two numbers?"}, {"owner": {"reputation": 1023, "user_id": 1299146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a6e2608fad9360a4ddfdb5800fe66db?s=128&d=identicon&r=PG", "display_name": "Eliasar", "link": "https://stackoverflow.com/users/1299146/eliasar"}, "edited": false, "score": 0, "creation_date": 1543515334, "post_id": 53532182, "comment_id": 93957041, "body": "Any generic method for your class. <code>public void ChangeSpeed(float newSpeed) { currentSpeed = newSpeed;}</code>"}], "tags": [], "owner": {"reputation": 21, "user_id": 10711077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NjAuYL6zI8E/AAAAAAAAAAI/AAAAAAAAQVI/-CSEEQ5jZXQ/photo.jpg?sz=128", "display_name": "Gaurav Pela", "link": "https://stackoverflow.com/users/10711077/gaurav-pela"}, "is_accepted": false, "score": 0, "last_activity_date": 1543467875, "creation_date": 1543467875, "answer_id": 53532182, "question_id": 53525351, "link": "https://stackoverflow.com/questions/53525351/how-to-increase-the-movement-speed-of-enemy-based-on-score/53532182#53532182", "title": "How to increase the movement speed of enemy based on score?", "body": "<p>Thank you guys, i figured it out. I did it like this.</p>\n\n<pre><code>void Update ()\n{\n    if (FindObjectOfType&lt;ScoreManager&gt;().score &gt; scoreToNextLevel) // checks if score \nis greater than score to next level, if yes then following codes are applied.\n    {            \n        multiplier += 1f; // increases the value of multiplier by 1.\n        baseSpeed += multiplier;// adds the multiplier value to basespeed.\n        EnemyMovement();//calls the enemymovement method\n        scoreToNextLevel *= 2;// multiplies the score to next level by 2.\n    }\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10711077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NjAuYL6zI8E/AAAAAAAAAAI/AAAAAAAAQVI/-CSEEQ5jZXQ/photo.jpg?sz=128", "display_name": "Gaurav Pela", "link": "https://stackoverflow.com/users/10711077/gaurav-pela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1543479018, "creation_date": 1543427550, "last_edit_date": 1543479018, "question_id": 53525351, "link": "https://stackoverflow.com/questions/53525351/how-to-increase-the-movement-speed-of-enemy-based-on-score", "title": "How to increase the movement speed of enemy based on score?", "body": "<p>I am trying to get the enemy movement speed go faster than it was before the certain scored points. I am  a novice programmer so if the code seems ugly please bear with it. If anyone could help me get through with this it would be really awesome. Thank You.</p>\n\n<p>Here is my Score Managing code:</p>\n\n<pre><code>public class ScoreManager : MonoBehaviour \n{\n     public float score;\n     public float pointsPerSecond;\n     public float highScore;\n\n     public bool scoreIncreasing;\n\n     public Text scoreText;\n\n     void Start()\n     {\n         score = 0;\n\n         if (PlayerPrefs.HasKey(\"HighScore\")) // checks if player has HighScore or not\n         {\n             highScore = PlayerPrefs.GetFloat(\"HighScore\"); //gets the value of stored highscore.\n         }\n     }\n\n     void Update()\n     {        \n         if (scoreIncreasing) //checks if score is increasing or not\n         {\n             score += pointsPerSecond * Time.deltaTime; //increases score as per time\n         }\n\n         if (score &gt; highScore) // checks if score is greater than highscore or not\n         {\n             highScore = score; //sets value of score to highscore\n             PlayerPrefs.SetFloat(\"HighScore\", highScore); // stores the value of highscore\n         }\n         scoreText.text = ((int)score).ToString() + \" Clicks\"; \n         //provieds the value of score to score text object.\n     }    \n}\n</code></pre>\n\n<p>and here is my enemy mover code:</p>\n\n<pre><code>public class EnemyMover : MonoBehaviour\n{    \n     [SerializeField]\n     private float tumble;\n\n     public float baseSpeed = 2f;\n     public float newSpeed;\n     public float multiplier;\n\n     public float scoreToNextLevel = 10f;\n\n     void Start ()\n     {\n         GetComponent&lt;Rigidbody&gt;().angularVelocity = Random.insideUnitSphere * tumble; //makes the object rotate\n         FindObjectOfType&lt;ScoreManager&gt;(); //caches the scoremanaging script\n         baseSpeed *= multiplier; //gives basespeed a value eg baseSpeed(2) * multiplier(2) = 4.\n     }\n\n     void Update ()\n     {\n         GoUp(); //calls method goup\n         EnemyMovement(); //calls method enemy movement\n     }\n\n     public void EnemyMovement()\n     {\n         if(FindObjectOfType&lt;ScoreManager&gt;().score &gt; scoreToNextLevel)    \n         //checks whether the condition is true\n         {\n             NewSpeed();  //calls method newspeed\n             SpeedUp();    // calls method speedup\n         }\n         multiplier += 1;  // increases the value of multiplier by 1\n     }\n\n     public void GoUp()\n     {\n         transform.position += Vector3.up * baseSpeed * Time.deltaTime;  //moves the enemy object upwards in y axis.\n     }\n\n     public void NewSpeed()\n     {\n         newSpeed = baseSpeed * multiplier * Time.deltaTime; // proves new speed with a value.     \n     }\n\n     public void SpeedUp()\n     {\n         transform.position += Vector3.up * newSpeed; // moves enemy object upwards into y axis using new speed.   \n     }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "signalr", "asp.net-core-signalr"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1543427301, "post_id": 53525196, "comment_id": 93919455, "body": "Why are you trying to use the non-Core client with a Core server? They&#39;re different. Use the Core client, which is compatible with .NET Standard 2.0. <a href=\"https://www.nuget.org/packages/Microsoft.AspNetCore.SignalR.Client\" rel=\"nofollow noreferrer\">nuget.org/packages/Microsoft.AspNetCore.SignalR.Client</a>"}, {"owner": {"reputation": 15550, "user_id": 3670737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8090784811d2a2bd2f9c13a9d7b7816?s=128&d=identicon&r=PG", "display_name": "Federico Dipuma", "link": "https://stackoverflow.com/users/3670737/federico-dipuma"}, "edited": false, "score": 1, "creation_date": 1543447607, "post_id": 53525196, "comment_id": 93927824, "body": "You can&#39;t, ASP.NET SignalR and ASP.NET Core SignalR are not compatible <a href=\"https://docs.microsoft.com/en-us/aspnet/core/signalr/version-differences\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/signalr/&hellip;</a>"}], "owner": {"reputation": 59, "user_id": 5371984, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/255691609b177f77f6fe4ec9c39d0075?s=128&d=identicon&r=PG&f=1", "display_name": "crocodayl", "link": "https://stackoverflow.com/users/5371984/crocodayl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543426899, "creation_date": 1543426899, "question_id": 53525196, "link": "https://stackoverflow.com/questions/53525196/signalr-communication-between-different-version", "title": "SignalR communication between different version", "body": "<p>Is it possible to manage the client app (.net 4.0 and aspnet.signalr) to communicate properly with the server (wep api, .net core 2.1 with aspnetcore.signalr)?</p>\n\n<p>Every attempt to start connection from the client side ends up with <em>Bad Request</em> exception.\nWhen I use the client written in .net core 2.1 everything is ok.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc-4", "datagrid"], "answers": [{"tags": [], "owner": {"reputation": 77, "user_id": 4432235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fd7f552510c036b389b4bf59b673db8?s=128&d=identicon&r=PG&f=1", "display_name": "usha", "link": "https://stackoverflow.com/users/4432235/usha"}, "is_accepted": false, "score": 0, "last_activity_date": 1543492317, "last_edit_date": 1543492317, "creation_date": 1543483587, "answer_id": 53535663, "question_id": 53525166, "link": "https://stackoverflow.com/questions/53525166/i-want-to-make-datagrid-readonly-in-behnd-code-but-do-not-see-the-option/53535663#53535663", "title": "I want to make datagrid readonly in behnd code, but do not see the option", "body": "<p>Put your disabling button coding in gridview rowdatabound event.</p>\n"}], "owner": {"reputation": 39, "user_id": 5803105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c581df87d019ac91c226cbe1d7d1644f?s=128&d=identicon&r=PG&f=1", "display_name": "codeZach", "link": "https://stackoverflow.com/users/5803105/codezach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543492317, "creation_date": 1543426770, "question_id": 53525166, "link": "https://stackoverflow.com/questions/53525166/i-want-to-make-datagrid-readonly-in-behnd-code-but-do-not-see-the-option", "title": "I want to make datagrid readonly in behnd code, but do not see the option", "body": "<p>I have a datagrid \"AWGrid\" which has EditCommandColumn and delete Templatecolumn.</p>\n\n<p>When page loads I am checking for user privileges, if user does not have proper roles, it should just be able to view the content and edit and delete buttons should be disabled. Currently I am disabling those buttons on every event when they are clicked.</p>\n\n<pre><code>if (!wrp.PageAuthenticationForUser(currPage))\n {\n    e.Item.Cells[0].Enabled = false;\n     return;\n }\n</code></pre>\n\n<p>I want to disable those button on page load itself. Something like this</p>\n\n<pre><code>if (!wrp.PageAuthenticationForUser(currPage))\n            {\n                txtLbl.Text = \"You are Not Authorized to do perform operation setup.\";\n                //AWGrid.ReadOny = true;\n            }\n</code></pre>\n\n<p>But this does not seem to work. Is there a simple way to achieve this.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "ajax", "razor"], "comments": [{"owner": {"reputation": 531, "user_id": 10698428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vwXx.jpg?s=128&g=1", "display_name": "Sonal Borkar", "link": "https://stackoverflow.com/users/10698428/sonal-borkar"}, "edited": false, "score": 0, "creation_date": 1543427136, "post_id": 53525153, "comment_id": 93919398, "body": "try without stringify data: JSON.stringify(GsmViewModel), and provide a contentType: application/json"}, {"owner": {"reputation": 1, "user_id": 5764362, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OcsQmtUyaKE/AAAAAAAAAAI/AAAAAAAABSI/vzm-RGcn5Yc/photo.jpg?sz=128", "display_name": "Mike C. Fabian", "link": "https://stackoverflow.com/users/5764362/mike-c-fabian"}, "reply_to_user": {"reputation": 531, "user_id": 10698428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vwXx.jpg?s=128&g=1", "display_name": "Sonal Borkar", "link": "https://stackoverflow.com/users/10698428/sonal-borkar"}, "edited": false, "score": 0, "creation_date": 1543429363, "post_id": 53525153, "comment_id": 93920410, "body": "I remove the JSON.stringify as you suggest and i&#39;m already providing the contentType, no luck though...."}, {"owner": {"reputation": 531, "user_id": 10698428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vwXx.jpg?s=128&g=1", "display_name": "Sonal Borkar", "link": "https://stackoverflow.com/users/10698428/sonal-borkar"}, "edited": false, "score": 0, "creation_date": 1543429602, "post_id": 53525153, "comment_id": 93920517, "body": "can you check the request headers in Network to check data is posted properly? and/or add [FromBody] in your action method"}], "owner": {"reputation": 1, "user_id": 5764362, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OcsQmtUyaKE/AAAAAAAAAAI/AAAAAAAABSI/vzm-RGcn5Yc/photo.jpg?sz=128", "display_name": "Mike C. Fabian", "link": "https://stackoverflow.com/users/5764362/mike-c-fabian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543426693, "creation_date": 1543426693, "question_id": 53525153, "link": "https://stackoverflow.com/questions/53525153/asp-net-master-detail-object-in-view-not-maching-entirely-with-the-view-model-in", "title": "Asp.net Master-Detail object in view not maching entirely with the view model in actionresult", "body": "<p>i'm trying to pass an object from an mvc view to an action result with Ajax. But the object that recives the action result doesn't contain the detail object in the main object. Here's the javascript code in the view that post to the action result:</p>\n\n<p><strong>Javascript on view</strong></p>\n\n<pre><code>        $('#save').click(function () {\n\n            var Details = {\n                \"Id\": \"\",\n                \"IdGsm\": \"\",\n                \"IdCarrier\": \"\",\n                \"PortName\": \"\",\n                \"Status\": \"\",\n                \"CarrierName\": \"\"\n            }\n            var Carrier = {\n                \"Id\": \"\",\n                \"CarrierName\": \"\",\n                \"MobileNetworkCode\": \"\",\n                \"MobileCountryCode\": \"\",\n                \"CountryCode\": \"\",\n                \"InNetworkCost\": \"\",\n                \"OutNetworkCost\":\"\"\n            }\n            var Encoding = {\n                \"Id\": \"\",\n                \"Description\":\"\"\n            }\n\n            var GsmViewModel = {\n                \"Id\": \"0\",\n                \"Nombre\": \"0\",\n                \"Ip\": \"0\",\n                \"Puerto\": \"\",\n                \"Usuario\": \"\",\n                \"Password\": \"\",\n                \"IdEncoding\": \"\",\n                \"Estado\": \"\",\n                \"Modelo\": \"\",\n                \"Details\": [],\n                \"Carrier\": [],\n                \"Encoding\": []\n            }\n\n            GsmViewModel.Encoding.push(Encoding);\n            GsmViewModel.Carrier.push(Carrier);\n\n            GsmViewModel.Id = 0;\n            GsmViewModel.Nombre = $('#nombre').val();\n            GsmViewModel.Ip = $('#ip').val();\n            GsmViewModel.Puerto = $('#puerto').val();\n            GsmViewModel.Usuario = $('#usuario').val();\n            GsmViewModel.Password = $('#password').val();\n            GsmViewModel.IdEncoding = $('#encoding option:selected').val();\n            GsmViewModel.Estado = 1;\n            GsmViewModel.Modelo = $('#modelo').val();\n\n            var oTable = $('#dt').dataTable().fnGetData();\n            for (var i = 0; i &lt; oTable.length; i++) {\n\n\n                if ($('h2').text() == \"Nuevo GSM Gateway\") {\n                    Details.Id = $('#Id').val();\n                }\n                else {\n                    Details.Id = 0;\n                }\n                Details.Id = oTable[i][0];\n                Details.IdGsm = oTable[i][1];\n                Details.IdCarrier = oTable[i][2];\n                Details.CarrierName = oTable[i][3];\n                Details.PortName = oTable[i][4];\n                Details.Status = oTable[i][5];\n\n                GsmViewModel.Details.push(Details);\n\n\n\n            }\n\n            });\n            tbl.rows().every(function () {\n                var data = this.data();\n\n                Details.Id = 0;\n                Details.IdGsm = 0;\n                Details.IdCarrier = data[2];\n                Details.CarrierName = data[3];\n                Details.PortName = data[4];\n                Details.Status = data[5];\n\n                GsmViewModel.Details.push(Details);\n            });\n\n           //Ajax call to the controller, here the GsmViewModel is correctly fulfilled.\n\n            $.ajax({\n                url: '/Gsm/SaveGsm',\n                data: JSON.stringify(GsmViewModel),\n                type: 'POST',\n                contentType: 'application/json;',\n                dataType: 'json',\n                success: function (result) {\n\n                    if (result.Success == \"1\") {\n                        //do some things\n                    }\n                    else {\n                        alert(result.ex);\n                    }\n                }\n            });\n\n        });\n</code></pre>\n\n<p>Here's the code in the action result and the model, while debugging the action result, i can see that the properties in the main object are correctly assigned, but the detail list is empty, even though in the view i can see that the object is correctly fulfilled. Some how in the middle the details are getting lost. My best guessing is that the object doesn't match but i been checking the structure of the model and the object and they match. </p>\n\n<p><strong>Action result</strong></p>\n\n<pre><code>  [HttpPost]\n    public ActionResult  SaveGsm(GsmViewModel  gsmConfig)\n    {\n\n        //do some stuff with the model, the problem here is that the model doesn't contain the details\n        return RedirectToAction(\"ListaGsm\", \"Gsm\");\n    }\n</code></pre>\n\n<p><strong>View Model</strong></p>\n\n<pre><code>public class GsmViewModel\n{\n\n    public int Id { get; set; }\n\n    public string Nombre { get; set; }\n\n    [Required]\n    [Display(Name = \"Direcci\u00f3n IP\")]\n    public string Ip { get; set; }\n\n    [Required]\n    [Display(Name = \"Puerto\")]\n    public string Puerto { get; set; }\n\n    [Required]\n    [Display(Name = \"Usuario\")]\n    public string Usuario { get; set; }\n\n    [Required]\n    [Display(Name = \"Contrase\u00f1a\")]\n    public string Password { get; set; }\n\n    [Required]\n    [Display(Name = \"Encoding\")]\n    public Nullable&lt;int&gt; IdEncoding { get; set; }\n\n\n\n    public Nullable&lt;bool&gt; Estado { get; set; }\n\n    public string Modelo { get; set; }\n\n    public List&lt;GsmDetail&gt; Details { get; set; }\n    public List&lt;Carrier&gt; Carrier { get; set; }\n    public IEnumerable&lt;Encoding&gt; Encoding { get; set; }\n}\n</code></pre>\n\n<p>Thank you in advance, and sorry for my english and my code, i'm a newbie on javascript....</p>\n"}, {"tags": ["c#", "selenium", "xpath", "iframe", "css-selectors"], "answers": [{"comments": [{"owner": {"reputation": 578, "user_id": 3022977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/92ec594237a4369838eed929d79df8d6?s=128&d=identicon&r=PG&f=1", "display_name": "Sohel", "link": "https://stackoverflow.com/users/3022977/sohel"}, "edited": false, "score": 1, "creation_date": 1543509273, "post_id": 53534316, "comment_id": 93953960, "body": "Thank you DebanjanB for pointing me to the right direction. I had to make one change, instead of using ExpectedConditions.VisibilityOfAllElementsLocatedBy used  ExpectedConditions.PresenceOfAllElementsLocatedBy and the code picked up all links inside the iFrame. Thank you again for your help."}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 578, "user_id": 3022977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/92ec594237a4369838eed929d79df8d6?s=128&d=identicon&r=PG&f=1", "display_name": "Sohel", "link": "https://stackoverflow.com/users/3022977/sohel"}, "edited": false, "score": 0, "creation_date": 1543517778, "post_id": 53534316, "comment_id": 93958173, "body": "@Sohel Glad to be able to help you. However I would suggest you to look at the <a href=\"https://seleniumhq.github.io/selenium/docs/api/dotnet/html/T_OpenQA_Selenium_Support_UI_ExpectedConditions.htm\" rel=\"nofollow noreferrer\">ExpectedConditions Class</a> in details. <a href=\"https://seleniumhq.github.io/selenium/docs/api/dotnet/html/M_OpenQA_Selenium_Support_UI_ExpectedConditions_PresenceOfAllElementsLocatedBy.htm\" rel=\"nofollow noreferrer\">PresenceOfAllElementsLocatedBy</a> will only ensure the <i>expectation for checking that all elements present on the web page that match the locator</i> but not necessarily those elements will be <b>visible</b> / <b>interactable</b>"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 578, "user_id": 3022977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/92ec594237a4369838eed929d79df8d6?s=128&d=identicon&r=PG&f=1", "display_name": "Sohel", "link": "https://stackoverflow.com/users/3022977/sohel"}, "edited": false, "score": 0, "creation_date": 1543517981, "post_id": 53534316, "comment_id": 93958262, "body": "@Sohel As you are looking for all the links either you should be using <a href=\"https://seleniumhq.github.io/selenium/docs/api/dotnet/html/M_OpenQA_Selenium_Support_UI_ExpectedConditions_VisibilityOfAllElementsLocatedBy.htm\" rel=\"nofollow noreferrer\">VisibilityOfAllElementsLocatedBy</a> or <a href=\"https://seleniumhq.github.io/selenium/docs/api/dotnet/html/M_OpenQA_Selenium_Support_UI_ExpectedConditions_VisibilityOfAllElementsLocatedBy_1.htm\" rel=\"nofollow noreferrer\">VisibilityOfAllElementsLocatedBy Method (ReadOnlyCollection&lt;IWebElement&gt;)</a>"}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": true, "score": 2, "last_activity_date": 1543478545, "creation_date": 1543478545, "answer_id": 53534316, "question_id": 53525152, "link": "https://stackoverflow.com/questions/53525152/selenium-c-find-all-links-inside-an-iframe-in-a-complex-web-page/53534316#53534316", "title": "Selenium C# - Find All Links Inside an IFrame in a complex web page", "body": "<p>As per the <em>HTML</em> you have shared to locate the desired <em>WebElements</em> you have to:</p>\n\n<ul>\n<li>Induce <em>WebDriverWait</em> for the desired frame to be available and switch to it.</li>\n<li><p>Induce <em>WebDriverWait</em> for the desired <em>elements to be visible</em> and you can use either of the following solutions:</p>\n\n<ul>\n<li><p>Using <code>FrameToBeAvailableAndSwitchToIt(By.CssSelector())</code>:</p>\n\n<pre><code>new WebDriverWait(driver, TimeSpan.FromSeconds(20)).Until(ExpectedConditions.FrameToBeAvailableAndSwitchToIt(By.CssSelector(\"iframe#twitter-widget-0\")));\nvar linksTweetContents = new WebDriverWait(driver, TimeSpan.FromSeconds(20)).Until(ExpectedConditions.VisibilityOfAllElementsLocatedBy(By.CssSelector(\"ol.timeline-TweetList a\")));\n</code></pre></li>\n<li><p>Using <code>FrameToBeAvailableAndSwitchToIt(By.XPath())</code>:</p>\n\n<pre><code>new WebDriverWait(driver, TimeSpan.FromSeconds(20)).Until(ExpectedConditions.FrameToBeAvailableAndSwitchToIt(By.XPath(\"//iframe[@id='twitter-widget-0']\")));\nvar linksTweetContents = new WebDriverWait(driver, TimeSpan.FromSeconds(20)).Until(ExpectedConditions.VisibilityOfAllElementsLocatedBy(By.XPath(\"//ol[@class='timeline-TweetList']//a\")));\n</code></pre></li>\n</ul></li>\n</ul>\n\n<p>Here you can find a relevant discussion on <a href=\"https://stackoverflow.com/questions/53203417/ways-to-deal-with-document-under-iframe\">Ways to deal with #document under iframe</a></p>\n"}], "owner": {"reputation": 578, "user_id": 3022977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/92ec594237a4369838eed929d79df8d6?s=128&d=identicon&r=PG&f=1", "display_name": "Sohel", "link": "https://stackoverflow.com/users/3022977/sohel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 53534316, "answer_count": 1, "score": 1, "last_activity_date": 1543478545, "creation_date": 1543426677, "last_edit_date": 1543478498, "question_id": 53525152, "link": "https://stackoverflow.com/questions/53525152/selenium-c-find-all-links-inside-an-iframe-in-a-complex-web-page", "title": "Selenium C# - Find All Links Inside an IFrame in a complex web page", "body": "<p>How do I find all links from inside an iframe?  The following code I've tried in Selenium and C# along with a few other variations but error message says no such element is found: </p>\n\n<pre><code>var detailFrame = Driver.driver.FindElement(By.Id(\"twitter - widget - 0\"));\nDriver.driver.SwitchTo().Frame(detailFrame);\nvar linksTweetContents = Driver.driver.FindElements(By.XPath(\"/ol[@class='timeline-TweetList']//a\"));\nDriver.driver.SwitchTo().DefaultContent();\n</code></pre>\n\n<p>Here is the SO link I have used: <a href=\"https://stackoverflow.com/questions/9607964/selenium-unable-to-access-iframe-and-data-inside-it\">Selenium: Unable to access iframe and data inside it</a> </p>\n\n<p>I have given as much detail of the html structure to show the complexity involved. Hoping for your feedback.</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;script type = \"test/javascript\"&gt; src = \"somejavascriptlink\"&lt;/script&gt;\n    &lt;div type = \"test/javascript\" id=\"divid1\"&gt; script links &lt;/div&gt;\n    &lt;span&gt;&lt;/span&gt;\n    &lt;form method=\"post\" action=\"events\" onsubmit=\"javascript:return WebForm_OnSubmit(); id=\"aspnetForm\" novalidate=\"novalidate\"&gt;\n      &lt;div class=\"aspNetHidden\"&gt;.....&lt;/div&gt;\n      &lt;script&gt;....&lt;/script&gt;\n      &lt;script&gt;...&lt;/script&gt;\n      &lt;script&gt;...&lt;/script&gt;\n      &lt;script&gt;...&lt;/script&gt;\n      &lt;script&gt;...&lt;/script&gt;\n      &lt;div class=\"aspNetHidden\"&gt;.....&lt;/div&gt;\n      &lt;script&gt;...&lt;/script&gt;\n      &lt;script&gt;...&lt;/script&gt;\n      &lt;div class=\"s4-notdlg noindex\"&gt;....&lt;/div&gt;\n      &lt;div id=\"s4-workspace\" class=\"ms-core-overlay\"&gt;\n        &lt;div id=\"s4-bodyContainer\"&gt;\n          &lt;a id=\"top\"&gt;&lt;/a&gt;\n          &lt;header&gt;....&lt;/header&gt;\n          &lt;div id=\"contentRow\"&gt;\n            &lt;div id=\"contentbox\"&gt;\n             &lt;div class=\"hcf-TopZone\"&gt;...&lt;/div&gt;\n             &lt;div id=\"DeltaPlaceHolderMain\"&gt;\n               &lt;div class=\"hcf-maincontent hcf-960w-wrapper\"&gt;\n                 &lt;div id=\"sideNavBox\"&gt;....&lt;/div&gt;\n                 &lt;div class=\"hcf-page-container\"&gt;\n                   &lt;div class=\"col-md-4 hcf-page-content2\"&gt;\n                     &lt;div class=\"row\"&gt;\n                       &lt;div class=\"col-md-12\"&gt;\n                         &lt;div class=\"row hcf-page-additionalZone\"&gt;....&lt;/div&gt;\n                         &lt;div class=\"row hcf-page-secWrapper\"&gt;....&lt;/div&gt;\n                         &lt;div class=\"row hcf-page-additionalZone\"&gt;\n                           &lt;div class=\"col-md-12\"&gt;\n                             &lt;div class=\"ms-webpart-zone ms-fullWidth\"&gt;\n                               &lt;div id=\"MSOZoneCell_WebPartctl00_ctl62\"&gt;\n                                 &lt;div class=\"ms-webpart-chrome ms-webpart\"&gt;\n                                   &lt;div webpartid=\"5a1803e3-4e87\"&gt;\n                                     &lt;div id=\"ctl00_ctl62_g\"&gt;\n                                       &lt;div class=\"ms-rte-embedcode ms-rte-embedwp\"&gt;\n                                         &lt;iframe id=\"twitter-widget-0\"&gt;\n                                           #document\n                                             &lt;html class=\"SandboxRoot env-bp-min\"&gt;\n                                               &lt;head&gt;....&lt;/head&gt;\n                                               &lt;body&gt;\n                                                 &lt;div class=\"timeline-Widget\"&gt;\n                                                   &lt;div class=\"timeline-Header timeline-InformationCircle-widgetParent\"&gt;\n                                                     &lt;div&gt;\n                                                       &lt;div class=\"timeline-InformationCircle\"&gt;\n                                                         &lt;a href=\"linkurl\"&gt;link description\"&lt;/a&gt;\n\n                                                       &lt;/div&gt;\n                                                     &lt;/div&gt;\n                                                     &lt;div class=\"timeline-Body customisable-border\"&gt;\n                                                       &lt;div class=\"timeline-Body-notification timeline-NewTweetsNotification new-tweets-bar\"&gt;\n                                                          &lt;button class=\"timeline-ShowMoreButton\" data-scribe=\"element:show_new_tweets\"&gt;Load new Tweets&lt;/button&gt;\n                                                       &lt;/div&gt;\n                                                       &lt;div class=\"timeline-Viewport\"&gt;\n                                                       &lt;ol class=\"timeline-TweetList\"&gt;\n                                                        &lt;li&gt;\n                                                         &lt;p&gt;&lt;a&gt;url link&lt;/a&gt;\n                                                         &lt;ul class=\"timeline-Tweet-actions\"&gt;\n                                                           &lt;li&gt;&lt;a&gt;url link&lt;/a&gt;&lt;/li&gt;\n                                                           &lt;li&gt;&lt;a&gt;url link&lt;/a&gt;&lt;/li&gt;\n\n                                                         &lt;/ul&gt;\n                                                        &lt;/li&gt;\n                                                        &lt;li&gt;&lt;a&gt;url link&lt;/a&gt;&lt;/li&gt;\n                                                        &lt;li&gt;&lt;a&gt;url link&lt;/a&gt;&lt;/li&gt;\n                                                        &lt;li&gt;&lt;a&gt;url link&lt;/a&gt;&lt;/li&gt;\n                                                       &lt;/ol&gt;\n                                                       &lt;/div&gt;\n                                                     &lt;/div&gt;\n                                                   &lt;/div&gt;\n                                                 &lt;/div&gt;\n                                               &lt;/body&gt;\n                                             &lt;/html&gt;\n\n                                         &lt;/iframe&gt;\n                                       &lt;/div&gt;\n\n                                     &lt;/div&gt;\n                                   &lt;/div&gt;\n                                 &lt;/div&gt;\n                               &lt;/div&gt;\n                             &lt;/div&gt;\n                           &lt;/div&gt;\n                         &lt;/div&gt;\n                       &lt;/div&gt;\n                     &lt;/div&gt;                                              \n                   &lt;/div&gt;\n                 &lt;/div&gt;\n               &lt;/div&gt;\n             &lt;/div&gt;\n\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n    &lt;/form&gt;\n  &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["c#", "svg", "xml-parsing"], "comments": [{"owner": {"reputation": 795, "user_id": 4404399, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-oQ1pUmRbWy8/AAAAAAAAAAI/AAAAAAAAAAA/AiLol5KoHqU/photo.jpg?sz=128", "display_name": "Edward Bagby", "link": "https://stackoverflow.com/users/4404399/edward-bagby"}, "edited": false, "score": 0, "creation_date": 1543425895, "post_id": 53524838, "comment_id": 93918802, "body": "I wonder if I need to use the namespace_xlink instead of the namespace"}, {"owner": {"reputation": 795, "user_id": 4404399, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-oQ1pUmRbWy8/AAAAAAAAAAI/AAAAAAAAAAA/AiLol5KoHqU/photo.jpg?sz=128", "display_name": "Edward Bagby", "link": "https://stackoverflow.com/users/4404399/edward-bagby"}, "edited": false, "score": 0, "creation_date": 1543426124, "post_id": 53524838, "comment_id": 93918916, "body": "Nope, that did not help either."}], "answers": [{"tags": [], "owner": {"reputation": 795, "user_id": 4404399, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-oQ1pUmRbWy8/AAAAAAAAAAI/AAAAAAAAAAA/AiLol5KoHqU/photo.jpg?sz=128", "display_name": "Edward Bagby", "link": "https://stackoverflow.com/users/4404399/edward-bagby"}, "is_accepted": false, "score": 0, "last_activity_date": 1550602952, "last_edit_date": 1550602952, "creation_date": 1543430303, "answer_id": 53526015, "question_id": 53524838, "link": "https://stackoverflow.com/questions/53524838/get-attribute-value-from-the-svg-xml-root-element/53526015#53526015", "title": "Get attribute value from the SVG (XML) root element", "body": "<p>After not having any luck or getting any responses here, I successfully got the values I needed from the first path Element by using:</p>\n\n<pre><code>    public string GetAttributeValueAtSubElement()\n    {\n\n        string rv = string.Empty;\n\n        IEnumerable&lt;XAttribute&gt; attribs =\n        from el in _XML_Elem.Descendants(_NameSpace + \"path\")  also?\n            select el.Attribute(\"d\");\n\n        if (attribs.Count() &gt; 0 &amp;&amp; attribs.First&lt;XAttribute&gt;().Value.Contains(\"M0,\")\n            &amp;&amp; attribs.First&lt;XAttribute&gt;().Value.Contains(\"z\"))\n            rv = attribs.First&lt;XAttribute&gt;().Value; \n\n        return rv;\n    }\n</code></pre>\n\n<p>Which returns \"M0,2491 2491,2491 2491,0 0,0 z\"</p>\n\n<p>The first path has the same coordinates as the viewbox, so this should work for me.</p>\n\n<p>EDIT: This worked, but after receiving the answer that I ultimately selected, I adjusted my code to go with the approach in that answer.</p>\n"}, {"comments": [{"owner": {"reputation": 795, "user_id": 4404399, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-oQ1pUmRbWy8/AAAAAAAAAAI/AAAAAAAAAAA/AiLol5KoHqU/photo.jpg?sz=128", "display_name": "Edward Bagby", "link": "https://stackoverflow.com/users/4404399/edward-bagby"}, "edited": false, "score": 0, "creation_date": 1543525848, "post_id": 53526076, "comment_id": 93961801, "body": "I&#39;ll give this a try."}], "tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": true, "score": 1, "last_activity_date": 1543430572, "creation_date": 1543430572, "answer_id": 53526076, "question_id": 53524838, "link": "https://stackoverflow.com/questions/53524838/get-attribute-value-from-the-svg-xml-root-element/53526076#53526076", "title": "Get attribute value from the SVG (XML) root element", "body": "<p>Simple.  Viewbox is not a descendant  but the root. :</p>\n\n<pre><code>            XDocument doc = XDocument.Load(FILENAME);\n            XElement svg = doc.Root;\n\n            string viewBox = (string)svg.Attribute(\"viewBox\");\n</code></pre>\n"}], "owner": {"reputation": 795, "user_id": 4404399, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh6.googleusercontent.com/-oQ1pUmRbWy8/AAAAAAAAAAI/AAAAAAAAAAA/AiLol5KoHqU/photo.jpg?sz=128", "display_name": "Edward Bagby", "link": "https://stackoverflow.com/users/4404399/edward-bagby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "accepted_answer_id": 53526076, "answer_count": 2, "score": 0, "last_activity_date": 1550602952, "creation_date": 1543425404, "last_edit_date": 1550602773, "question_id": 53524838, "link": "https://stackoverflow.com/questions/53524838/get-attribute-value-from-the-svg-xml-root-element", "title": "Get attribute value from the SVG (XML) root element", "body": "<p>I've successfully gotten attribute values from sub-elements in my SVG using an XML parser, but I'm having trouble getting the viewbox value from the same SVG.</p>\n\n<p>Here's the top of the SVG. I'm trying to parse out \"0 0 2491 2491\" from the viewBox attribute of the svg element:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"no\"?&gt;\n&lt;svg viewBox=\"0 0 2491 2491\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" stroke-linecap=\"round\" stroke-linejoin=\"round\" fill-rule=\"evenodd\" xml:space=\"preserve\"&gt;\n&lt;defs&gt;\n&lt;clipPath id=\"clipId0\"&gt;\n&lt;path d=\"M0,2491 2491,2491 2491,0 0,0 z\" /&gt;\n&lt;/clipPath&gt;\n&lt;/defs&gt;\n&lt;g clip-path=\"url(#clipId0)\" fill=\"none\" stroke=\"rgb(100,100,100)\" stroke-width=\"0.5\" /&gt;\n</code></pre>\n\n<p>Some example code that yielded no results:</p>\n\n<pre><code>//from calling method\nxmlParser.GetAttributeValueAtSubElement(\"svg\", \"viewBox\")\n\n//class variables\nprivate readonly XNamespace _NameSpace = \"http://www.w3.org/2000/svg\"; \nprivate readonly XNamespace _NameSpace_xlink = \"http://www.w3.org/1999/xlink\";  \n\n//class constructor\n        public XMLParser(string filePath)\n        {\n            _FilePath = filePath;\n            _XML_Doc = XDocument.Load(_FilePath);\n            _XML_Elem = XElement.Load(_FilePath);\n        }\n\n//attempt 1 failed\n    public string GetAttributeValueAtSubElement(string subElementName, string attributeName)\n    {\n\n        string rv = string.Empty;\n        IEnumerable&lt;XAttribute&gt; attribs =\n            from el in _XML_Elem.Descendants(_NameSpace + subElementName) \n            select el.Attribute(attributeName);\n\n\n        foreach (XAttribute attrib in attribs)\n        { rv = attrib.Value; }\n\n        return rv;\n    }\n\n//attempt 2 failed\n        public string GetAttributeValueAtSubElement(string subElementName, string attributeName)\n        {\n\n        string rv = string.Empty;\n\n        IEnumerable&lt;XAttribute&gt; attribs =\n           from el in _XML_Elem.Elements(_NameSpace + subElementName) \n            select el.Attribute(attributeName);\n\n        foreach (XAttribute attrib in attribs)\n        { rv = attrib.Value; }\n\n        return rv;\n    }\n</code></pre>\n"}, {"tags": ["c#", "temporary-files"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9401448"}, "edited": false, "score": 0, "creation_date": 1543425232, "post_id": 53524748, "comment_id": 93918393, "body": "<code>File.Exists(path)</code> to check if a file exists if it exists it will return <code>true</code> else it will return <code>false</code>. Does the directory path ever change? Or do you want to do a system wide search?"}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 1, "creation_date": 1543425383, "post_id": 53524748, "comment_id": 93918484, "body": "@Matt what if right after that call returns false someone opens the file?"}, {"owner": {"reputation": 5847, "user_id": 3187033, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/DfSEN.png?s=128&g=1", "display_name": "JohnyL", "link": "https://stackoverflow.com/users/3187033/johnyl"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1543425446, "post_id": 53524748, "comment_id": 93918527, "body": "@Steve Then he will fail :)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9401448"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1543425464, "post_id": 53524748, "comment_id": 93918539, "body": "@Steve Race conditions, who wins wins, not sure if you can lock the file, or so a Process.Start() to open the file directly after checking if it can be opened"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 2, "creation_date": 1543425673, "post_id": 53524748, "comment_id": 93918673, "body": "Just to be clear, that&#39;s an unavoidable race condition.  You need to code for the chance that might happen."}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "reply_to_user": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1543425720, "post_id": 53524748, "comment_id": 93918703, "body": "@Flydog57 no its not. Its totally avoidable if you acquire an exclusive lock on the file."}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 2, "creation_date": 1543425992, "post_id": 53524748, "comment_id": 93918852, "body": "I would suggest OP handing this task to a real dev. Since this involves concurrency and its a complex topic to cover. Implementation depends on your specific need and use case."}, {"owner": {"reputation": 9049, "user_id": 181315, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c7a87152d5f5bdb6a451f3e3cc03faee?s=128&d=identicon&r=PG", "display_name": "Polyfun", "link": "https://stackoverflow.com/users/181315/polyfun"}, "edited": false, "score": 0, "creation_date": 1543426650, "post_id": 53524748, "comment_id": 93919167, "body": "Possible duplicate: <a href=\"https://stackoverflow.com/questions/876473/is-there-a-way-to-check-if-a-file-is-in-use\" title=\"is there a way to check if a file is in use\">stackoverflow.com/questions/876473/&hellip;</a>, which has a mix of good and bad advice. For example, the accepted answer is wrong, as it does not take into account race conditions. Spence gives a better answer, but does not give much explanation."}, {"owner": {"reputation": 1, "user_id": 9659368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/232c00c9e18014e4b9f922185c942e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/9659368/giovanni"}, "edited": false, "score": 0, "creation_date": 1543480501, "post_id": 53524748, "comment_id": 93937126, "body": "Thank you guys for the answers. The real problem I think is that I would understand when a type of file (.st) is opening, because I don&#39;t know when lunch my &quot;checking application&quot; if I don&#39;t handle the opening of the file. I thought it was possible to use something like an &quot;event handler&quot; monitoring the system process but I found it isn&#39;t."}, {"owner": {"reputation": 1, "user_id": 9659368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/232c00c9e18014e4b9f922185c942e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/9659368/giovanni"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1543480512, "post_id": 53524748, "comment_id": 93937130, "body": "@Steve yes, probably I&#39;m not in a capacity to solve this problem."}, {"owner": {"reputation": 1, "user_id": 9659368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/232c00c9e18014e4b9f922185c942e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/9659368/giovanni"}, "reply_to_user": {"reputation": 9049, "user_id": 181315, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c7a87152d5f5bdb6a451f3e3cc03faee?s=128&d=identicon&r=PG", "display_name": "Polyfun", "link": "https://stackoverflow.com/users/181315/polyfun"}, "edited": false, "score": 0, "creation_date": 1543480526, "post_id": 53524748, "comment_id": 93937139, "body": "@Polyfun I can&#39;t use a &#39;try..catch&#39; statement, because the file will still open."}], "owner": {"reputation": 1, "user_id": 9659368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/232c00c9e18014e4b9f922185c942e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Giovanni", "link": "https://stackoverflow.com/users/9659368/giovanni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 403, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543478309, "creation_date": 1543425090, "last_edit_date": 1543478309, "question_id": 53524748, "link": "https://stackoverflow.com/questions/53524748/check-if-temporary-file-exist-when-i-open-a-file", "title": "Check if temporary file exist when I open a file", "body": "<p>I've some troubles with a program (straus7) that don't check if a file is already open. This is a problem because often the files are stored in the server and they can be opened by multiple users.</p>\n\n<p>I was wondering if it is possible to catch when a specific extension of a file (in my case .st7) is opening, then check if it is stored in the server and finally check if a temporary file with the same name with the temp extension already exists. If already exists, I just want to show a message box \"The file is already open\".</p>\n\n<p>I'm not at all a developer, I've written some codes in C#, maybe is that not the right way to solve the problem? I've maybe to do an application that handle the opening of the files and then do this procedure easyer?</p>\n\n<p>Thanks for any help</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1543425481, "post_id": 53524695, "comment_id": 93918546, "body": "If i follow your description. Define a style in a resource dictionary.  Use that in the resources for each of your windows. Or one window and switch out the contents by using a usercontrol instead if different windows."}, {"owner": {"reputation": 1396, "user_id": 3037732, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/041ad1d83789f334a781df81cbc05826?s=128&d=identicon&r=PG&f=1", "display_name": "jhilgeman", "link": "https://stackoverflow.com/users/3037732/jhilgeman"}, "reply_to_user": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1543426730, "post_id": 53524695, "comment_id": 93919211, "body": "Is there no way to just override the parent application&#39;s styling in a cascading manner so that my initial popup window can control all of its child elements (including child popups) from the initial popup window?"}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1543426940, "post_id": 53524695, "comment_id": 93919310, "body": "A window isn&#39;t in the visual tree of some other window so no."}, {"owner": {"reputation": 1396, "user_id": 3037732, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/041ad1d83789f334a781df81cbc05826?s=128&d=identicon&r=PG&f=1", "display_name": "jhilgeman", "link": "https://stackoverflow.com/users/3037732/jhilgeman"}, "reply_to_user": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1543427073, "post_id": 53524695, "comment_id": 93919363, "body": "How is the parent application impacting its style, in that case?"}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1543427127, "post_id": 53524695, "comment_id": 93919394, "body": "Because the application has scope."}], "answers": [{"tags": [], "owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "is_accepted": false, "score": 0, "last_activity_date": 1543427214, "creation_date": 1543427214, "answer_id": 53525270, "question_id": 53524695, "link": "https://stackoverflow.com/questions/53524695/c-wpf-prevent-style-inheritance/53525270#53525270", "title": "C# WPF - Prevent Style Inheritance", "body": "<p>A window is a contentcontrol.\nYou can therefore do </p>\n\n\n\n<pre><code>Window win = new FooWindow();\nwin.Content = new ChildWindowUserControl();\n</code></pre>\n\n\n\n<p>Put your styles in one Window ( use a better name than FooWindow ).\nPut your styling in that as resources.\nUse this for all your child windows you need one style in.\nMake all your different childwindows usercontrols rather than windows.\nSet to content of a new FooWindow ( equivalent ) and they get that style.</p>\n"}], "owner": {"reputation": 1396, "user_id": 3037732, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/041ad1d83789f334a781df81cbc05826?s=128&d=identicon&r=PG&f=1", "display_name": "jhilgeman", "link": "https://stackoverflow.com/users/3037732/jhilgeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 272, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543427214, "creation_date": 1543424884, "question_id": 53524695, "link": "https://stackoverflow.com/questions/53524695/c-wpf-prevent-style-inheritance", "title": "C# WPF - Prevent Style Inheritance", "body": "<p>I'm developing a plugin for a WPF application that has a button that launches a dialog pop-up window. So within that application, the launch of that pop-up window is literally two lines:</p>\n\n<pre><code>PluginWindow pluginWindow = new PluginWindow();\npluginWindow.ShowDialog();\n</code></pre>\n\n<p>The window seems to be inheriting a bunch of unwanted styling from the parent application, though. I can reset the styling on individual components using this technique:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/30502451/reset-inherited-wpf-style\">Reset inherited WPF style?</a></p>\n\n<p>...so my PluginWindow ends up having:</p>\n\n<pre><code>&lt;Window.Resources&gt;\n    &lt;Style TargetType=\"{x:Type TextBox}\" /&gt;\n    &lt;Style TargetType=\"{x:Type TextBlock}\" /&gt;\n    &lt;Style TargetType=\"{x:Type Button}\" /&gt;\n    &lt;Style TargetType=\"{x:Type DataGrid}\" /&gt;\n    ...etc...\n&lt;/Window.Resources&gt;\n</code></pre>\n\n<p>However, the reset doesn't seem to apply to any further dialog boxes. For example, my PluginWindow has a custom confirmation dialog box (another WPF Window element) that shows up at one point, and the elements within that confirmation dialog go back to the styling from the parent application.</p>\n\n<p>While I can just apply the same style-resetting technique everywhere, it seems really messy and wrong. It seems like there should just be some way of \"cutting the style cord\" between the parent application and the PluginWindow so that PluginWindow starts with completely-default styling, along with all of its child windows.</p>\n\n<p>Is this possible to do, and if so how?</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-core", "windows-authentication", "http.sys"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10223771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1993155f8a5ed7040f079e252b366255?s=128&d=identicon&r=PG&f=1", "display_name": "Weagertron", "link": "https://stackoverflow.com/users/10223771/weagertron"}, "edited": false, "score": 0, "creation_date": 1543487422, "post_id": 53527131, "comment_id": 93941279, "body": "Thanks for pointing me in the right direction @Adam Vincent . I&#39;ve had some issues implementing this though (see the comment on Tao Zhou&#39;s answer) which seems to be SQL Server related? I&#39;ll update my question with details on what I&#39;m trying to do specifically"}], "tags": [], "owner": {"reputation": 2490, "user_id": 7512742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/muuJz.png?s=128&g=1", "display_name": "Adam Vincent", "link": "https://stackoverflow.com/users/7512742/adam-vincent"}, "is_accepted": false, "score": 0, "last_activity_date": 1543434914, "creation_date": 1543434914, "answer_id": 53527131, "question_id": 53524672, "link": "https://stackoverflow.com/questions/53524672/windows-authentication-for-remote-user-in-asp-net-core-application-with-entity-f/53527131#53527131", "title": "Windows authentication for remote user in ASP.NET Core application with Entity Framework", "body": "<p><a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/authentication/windowsauth?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">ASP.NET Core Docs</a> cover this exact topic.</p>\n\n<p>Simply put, ASP.NET Core does not implement impersonation.  It has an example of a workaround using <code>WindowsIdentity</code> but it has its limitations and should only be used for relatively simple operations.</p>\n\n<p>There is also a <a href=\"https://www.nuget.org/packages/AspNetCore.Impersonation/\" rel=\"nofollow noreferrer\">NuGet package</a> which may help you get some more functionality, but still is limited.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 10223771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1993155f8a5ed7040f079e252b366255?s=128&d=identicon&r=PG&f=1", "display_name": "Weagertron", "link": "https://stackoverflow.com/users/10223771/weagertron"}, "edited": false, "score": 0, "creation_date": 1543487350, "post_id": 53530693, "comment_id": 93941231, "body": "Thank you for the response @Tao Zhou . I have tried to implement the above but I encounter an error from SQL Server which states: <code>System.Data.SqlClient.SqlException: &#39;A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 0 - No such host is known.)&#39;</code>. I have enabled remote connections and it works on localhost but not remotely. Any ideas?"}], "tags": [], "owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "is_accepted": false, "score": 0, "last_activity_date": 1543456051, "creation_date": 1543456051, "answer_id": 53530693, "question_id": 53524672, "link": "https://stackoverflow.com/questions/53524672/windows-authentication-for-remote-user-in-asp-net-core-application-with-entity-f/53530693#53530693", "title": "Windows authentication for remote user in ASP.NET Core application with Entity Framework", "body": "<blockquote>\n  <p>Is there a way to include the remote user's username into this connection in order for them to connect to the database as themselves?</p>\n</blockquote>\n\n<p>It would not work with providing only username for connectionstring, you also need the password for the current user.     </p>\n\n<blockquote>\n  <p>I believe I can use something called Impersonation but I am unsure of\n  the best practices of implementing that or if it is a recommended\n  solution.</p>\n</blockquote>\n\n<p>For <code>RunImpersonated</code>, follow steps below:      </p>\n\n<ul>\n<li><p>Configure connectionstring with Windows Credential instead of username and password.  </p>\n\n<pre><code> services.AddDbContext&lt;IISWindowsDbContext&gt;(options =&gt;options.UseSqlServer(@\"Server=localhost\\MSSQLSERVER01;Database=IISWindows;Trusted_Connection=True;\"));\n</code></pre></li>\n<li><p>Useage       </p>\n\n<pre><code>    public IActionResult About()\n{\n    IList&lt;Blog&gt; blogs = new List&lt;Blog&gt;();\n    var user = (WindowsIdentity)User.Identity;\n    WindowsIdentity.RunImpersonated(user.AccessToken, () =&gt;\n    {\n        var impersonatedUser = WindowsIdentity.GetCurrent();\n        blogs = _context.Blogs.ToList();\n    });\n    return Ok(blogs);\n}\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 21, "user_id": 10223771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1993155f8a5ed7040f079e252b366255?s=128&d=identicon&r=PG&f=1", "display_name": "Weagertron", "link": "https://stackoverflow.com/users/10223771/weagertron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2900, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1543570659, "creation_date": 1543424817, "last_edit_date": 1543570659, "question_id": 53524672, "link": "https://stackoverflow.com/questions/53524672/windows-authentication-for-remote-user-in-asp-net-core-application-with-entity-f", "title": "Windows authentication for remote user in ASP.NET Core application with Entity Framework", "body": "<p><strong>Background</strong></p>\n\n<p>I have an ASP.NET Core application running in Http.sys to provide Windows authentication.</p>\n\n<p>The client side of my application works with Windows authentication and users are prompted for their Windows login credentials when first accessing the site. All good with that.</p>\n\n<p>I am using a SQL Server database (hosted on the same server as the app) which is built by Entity Framework using the code first approach. In the <code>startup.cs</code> file I am running a <code>dbContext.migrate()</code> to ensure the database is up to date and then the app continues as normal. </p>\n\n<p><strong>The Issue</strong></p>\n\n<p>When a remote user is interacting with the site and performs an action that requires database access, I would like that database transaction to be performed under their username. </p>\n\n<p>For instance, if I run the Asp.net core application on my server as <code>User1</code> and then access the webapp from a user's machine who is logged in as <code>User2</code> the database interactions are still being performed by <code>User1</code> as that is the user the main application is running under.</p>\n\n<p>I would like for it to be possible to make the database interactions be performed by <code>User2</code> instead of <code>User1</code> in this instance. Mainly for the purpose of logging and analysis.</p>\n\n<p>When retrieving an instance of the <code>dbContext</code> I am supplying it with a connection string that states to use SSPI for it's authentication. Is there a way to include the remote user's username into this connection in order for them to connect to the database as themselves? I can easily retrieve the remote user's credentials/username from my controller. I believe I can use something called <code>Impersonation</code> but I am unsure of the best practices of implementing that or if it is a recommended solution.</p>\n\n<p>Any assistance will be greatly appreciated.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Thanks to some useful feedback I have tried to implement the following:</p>\n\n<p>My connection string is set as so in the <code>startup.cs</code>: </p>\n\n<pre><code>services.AddDbContext&lt;MyDbContext&gt;(options =&gt; options.UseSqlServer(@\"Server=MyServer\\MSSQLSERVER;Database=MyDatabase;Trusted_Connection=True;\"));\n</code></pre>\n\n<p>Then I perform an action such as this in my controller/class:</p>\n\n<pre><code>        var values = new List&lt;Values&gt;();\n\n        WindowsIdentity.RunImpersonated(user.AccessToken, () =&gt;\n        {\n            var optionsBuilder = new DbContextOptionsBuilder&lt;MyDbContext&gt;();\n            optionsBuilder.UseSqlServer(@\"Server=MyServer\\MSSQLSERVER;Database=MyDatabase;Trusted_Connection=True;\");\n\n            using (var ctx = new MyDbContext(optionsBuilder.Options))\n            {\n                values = (from row in ctx.Table select row).OrderBy(x =&gt; x.Id).ToList();\n            }\n        });\n</code></pre>\n\n<p>The <code>user</code> variable is passed into the function and is of type <code>WindowsIdentity</code>.</p>\n\n<p>Executing the code from localhost works fine but then when a remote user tries it returns the following error: <code>System.Data.SqlClient.SqlException: 'A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 0 - No such host is known.)</code></p>\n\n<p><strong>Update 2</strong></p>\n\n<p>I managed to resolve this error by using an IP address for the connection string instead of the server/machine name. So now my connection string looks like this:\n<code>@\"Server=&lt;IP address&gt;\\MSSQLSERVER;Database=ConfigDb;Trusted_Connection=True</code></p>\n\n<p>Now I am facing another issue where the SQL Server is stating that <code>No connection could be made because the target machine actively refused it</code>. I can connect to the SQL Server using this user through SQL Management Studio but not through my app.</p>\n\n<p>I found in EventViewer that the actual error is related to SSPI: <code>SSPI handshake failed with error code 0x8009030c, state 14 while establishing a connection with integrated security; the connection has been closed. Reason: AcceptSecurityContext failed. The operating system error code indicates the cause of failure. The logon attempt failed   [CLIENT: &lt;named pipe&gt;]</code>. Not really sure why this would be failing.</p>\n"}, {"tags": ["c#", "mysql", "rdlc", "reportviewer"], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 10234806, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156709683113216/picture?type=large", "display_name": "Christian Verner", "link": "https://stackoverflow.com/users/10234806/christian-verner"}, "is_accepted": false, "score": 0, "last_activity_date": 1543427801, "creation_date": 1543427801, "answer_id": 53525417, "question_id": 53524602, "link": "https://stackoverflow.com/questions/53524602/rdlc-issue-with-mutiple-datasets-winform-project-in-c/53525417#53525417", "title": "RDLC issue with mutiple datasets Winform project in c#", "body": "<p>I found the answer. When adding mutiple datasets to a RDLC, you need to specify from what dataset the information is coming from in the textbox properties. EG: </p>\n\n<blockquote>\n  <p>=First(Fields!project_number.Value, \"DataSet\")</p>\n</blockquote>\n\n<p>That fixed it for me. The code above is good for anyone else having this issue.</p>\n"}], "owner": {"reputation": 103, "user_id": 10234806, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156709683113216/picture?type=large", "display_name": "Christian Verner", "link": "https://stackoverflow.com/users/10234806/christian-verner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543427801, "creation_date": 1543424571, "last_edit_date": 1543425886, "question_id": 53524602, "link": "https://stackoverflow.com/questions/53524602/rdlc-issue-with-mutiple-datasets-winform-project-in-c", "title": "RDLC issue with mutiple datasets Winform project in c#", "body": "<p>I'm building a report in report viewer. With a single dataset, it works great but I need to include in this same report, mutiple datasets. Can you tell me what i'm doing wrong please (with some code if possible). I found a whole bunch of info on this issue but everything is not in the same programming language. I'm using C#. In the .RDLC, I have one datasource created and 2 datasets (DataSet and DataSet1). Here is my current code:</p>\n\n<pre><code>private void LoadReport()\n    {\n        try\n        {\n            MySqlConnection con = new MySqlConnection(conSettings.ToString());\n            MySqlCommand cmd = new MySqlCommand(\"packing_slips\", con);\n            MySqlCommand cmd1 = new MySqlCommand(\"client_info\", con);\n\n            con.Open();\n            cmd.Parameters.Add(\"@project\", MySqlDbType.VarChar, 20).Value = project_id_box.Text;\n            cmd.CommandType = CommandType.StoredProcedure;\n\n            cmd1.Parameters.Add(\"@project\", MySqlDbType.VarChar, 20).Value = project_id_box.Text;\n            cmd1.CommandType = CommandType.StoredProcedure;\n\n            MySqlDataAdapter adp = new MySqlDataAdapter(cmd);\n            MySqlDataAdapter adp1 = new MySqlDataAdapter(cmd1);\n\n            DataSet ds = new DataSet();\n            DataSet ds1 = new DataSet();\n            adp.Fill(ds);\n            adp1.Fill(ds1);\n\n            reportViewer1.Reset();\n            this.reportViewer1.LocalReport.DataSources.Clear();\n\n            ReportDataSource reportDataSource = new ReportDataSource();\n            reportDataSource.Value = ds.Tables[0];\n            reportDataSource.Name = \"DataSet\";\n\n            ReportDataSource reportDataSource1 = new ReportDataSource();\n            reportDataSource1.Value = ds1.Tables[0];\n            reportDataSource1.Name = \"DataSet1\";\n\n            this.reportViewer1.LocalReport.DataSources.Add(reportDataSource);\n            this.reportViewer1.LocalReport.DataSources.Add(reportDataSource1);\n            this.reportViewer1.LocalReport.ReportPath = \"project_report.rdlc\";\n\n            this.packing_slipsTableAdapter.Fill(this.shopmanagerDataSet.packing_slips);\n            this.projectsTableAdapter.Fill(this.shopmanagerDataSet.projects);\n\n            this.reportViewer1.RefreshReport();\n\n            con.Close();\n        }\n        catch (Exception ex)\n        {\n            MessageBox.Show(ex.Message);\n        }\n    }\n</code></pre>\n\n<p>I'm not getting any compile errors when compiling but the report is blank. I'm retreiving the data from a MySQL db with stored procedures. When debugging i'm seeing that ds and ds1 are getting populated correctly. Thanks.</p>\n"}, {"tags": ["c#", "linux", "ubuntu", "server", "discord.net"], "comments": [{"owner": {"reputation": 1082, "user_id": 9091276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/05cFn.png?s=128&g=1", "display_name": "Frontear", "link": "https://stackoverflow.com/users/9091276/frontear"}, "edited": false, "score": 1, "creation_date": 1543427224, "post_id": 53524522, "comment_id": 93919429, "body": "What path is it stored in? What specifically throws the error, is the program looking for a path, or is the <code>dotnet run</code> command failing?"}, {"owner": {"reputation": 3307, "user_id": 10070647, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gR676.png?s=128&g=1", "display_name": "Twenty", "link": "https://stackoverflow.com/users/10070647/twenty"}, "edited": false, "score": 0, "creation_date": 1543444511, "post_id": 53524522, "comment_id": 93927000, "body": "You need to do <code>chmod +x FILETHATNEEDSACCESSTO</code> In order to give it execution rights. At least I had this problem."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 9236315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19da10671e7b3299329c47d2d59d1954?s=128&d=identicon&r=PG&f=1", "display_name": "Dodison", "link": "https://stackoverflow.com/users/9236315/dodison"}, "is_accepted": true, "score": 2, "last_activity_date": 1543750108, "creation_date": 1543750108, "answer_id": 53579756, "question_id": 53524522, "link": "https://stackoverflow.com/questions/53524522/c-access-to-the-path-denied-on-ubuntu-18-04-server/53579756#53579756", "title": "c# Access to the path denied on ubuntu 18.04 server", "body": "<p>You have to make a release publish for ubuntu, give permission for execution with <code>chmod -R 777 PATHTOPUBLISHFOLDER</code> and then running it with <code>path to the file without extension in the publish folder</code></p>\n"}], "owner": {"reputation": 51, "user_id": 9236315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19da10671e7b3299329c47d2d59d1954?s=128&d=identicon&r=PG&f=1", "display_name": "Dodison", "link": "https://stackoverflow.com/users/9236315/dodison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2549, "favorite_count": 1, "accepted_answer_id": 53579756, "answer_count": 1, "score": 2, "last_activity_date": 1543750108, "creation_date": 1543424339, "last_edit_date": 1543662374, "question_id": 53524522, "link": "https://stackoverflow.com/questions/53524522/c-access-to-the-path-denied-on-ubuntu-18-04-server", "title": "c# Access to the path denied on ubuntu 18.04 server", "body": "<p>My friend and I wanted to make a discord server. I made the bot in c# and needed something to host it on so it can run 24/7, I've chosen Digitalocean. I created a ubuntu 18.04 droplet, installed dotnet sdk on it and cloned my github bot repo (Not the best solution, I know). But when I tried to do <code>dotnet run</code>, I got the \"Access to path the path ' ' is denied\" Error. I got the same error when i tried it using docker on ubuntu 16.04. Can anyone help me with this problem? (It worked fine on windows 10)</p>\n\n<p>Dockerfile:</p>\n\n<pre><code>FROM microsoft/dotnet:2.1-sdk\nWORKDIR /app\n\n# copy csproj and restore as distinct layers\nCOPY *.csproj ./\nRUN dotnet restore\n\n# copy and build everything else\nCOPY . ./\nRUN dotnet publish -c Release -o out\nENTRYPOINT [\"dotnet\", \"out/Bot.dll\"]\n</code></pre>\n\n<p>the error:</p>\n\n<pre><code>Unhandled Exception: System.UnauthorizedAccessException: Access to the path '/app/out' is denied. ---&gt; System.IO.IOException: Permission denied\n   --- End of inner exception stack trace ---\n   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String path, OpenFlags flags, Int32 mode)\n   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)\n   at Bot.Program.MainAsync() in /app/Program.cs:line 38\n   at Bot.Program.Main(String[] args) in /app/Program.cs:line 16\n</code></pre>\n\n<p>chmod -x and chmod -R 777 didn't work</p>\n"}, {"tags": ["c#", "iis", "asp.net-core", "authorization", "windows-authentication"], "comments": [{"owner": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "edited": false, "score": 0, "creation_date": 1543424807, "post_id": 53524466, "comment_id": 93918158, "body": "Do you have a call to <code>services.AddAuthentication(...)</code>?"}, {"owner": {"reputation": 1055, "user_id": 2683179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3a694541424ada818eaced5da59772f4?s=128&d=identicon&r=PG&f=1", "display_name": "LCaraway", "link": "https://stackoverflow.com/users/2683179/lcaraway"}, "reply_to_user": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "edited": false, "score": 0, "creation_date": 1543424905, "post_id": 53524466, "comment_id": 93918208, "body": "No I do not...."}, {"owner": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "edited": false, "score": 1, "creation_date": 1543424997, "post_id": 53524466, "comment_id": 93918260, "body": "That&#39;s what may be missing. See link: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/security/authentication/windowsauth?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/security/authentication&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 1055, "user_id": 2683179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3a694541424ada818eaced5da59772f4?s=128&d=identicon&r=PG&f=1", "display_name": "LCaraway", "link": "https://stackoverflow.com/users/2683179/lcaraway"}, "reply_to_user": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "edited": false, "score": 0, "creation_date": 1543425226, "post_id": 53524466, "comment_id": 93918390, "body": "You are absolutely right.  I have added that in and updated the code above. I guess my next question is how do i access the credentials to then build a policy around it so that i can use specific authorization attributes on my controller actions?"}], "answers": [{"comments": [{"owner": {"reputation": 1055, "user_id": 2683179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3a694541424ada818eaced5da59772f4?s=128&d=identicon&r=PG&f=1", "display_name": "LCaraway", "link": "https://stackoverflow.com/users/2683179/lcaraway"}, "edited": false, "score": 0, "creation_date": 1544022559, "post_id": 53533020, "comment_id": 94130167, "body": "This is great! Where does the <code>if(User.IsInGroup)...</code> go? Does it get dropped in the <code>ClaimsTransformer</code> Class?"}, {"owner": {"reputation": 1055, "user_id": 2683179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3a694541424ada818eaced5da59772f4?s=128&d=identicon&r=PG&f=1", "display_name": "LCaraway", "link": "https://stackoverflow.com/users/2683179/lcaraway"}, "edited": false, "score": 0, "creation_date": 1544025113, "post_id": 53533020, "comment_id": 94131751, "body": "Or would you use that as an alternative to the ClaimsTransformer?"}, {"owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "reply_to_user": {"reputation": 1055, "user_id": 2683179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3a694541424ada818eaced5da59772f4?s=128&d=identicon&r=PG&f=1", "display_name": "LCaraway", "link": "https://stackoverflow.com/users/2683179/lcaraway"}, "edited": false, "score": 0, "creation_date": 1544059447, "post_id": 53533020, "comment_id": 94145694, "body": "@LCaraway , it depends you , it can be in any class ."}, {"owner": {"reputation": 1055, "user_id": 2683179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3a694541424ada818eaced5da59772f4?s=128&d=identicon&r=PG&f=1", "display_name": "LCaraway", "link": "https://stackoverflow.com/users/2683179/lcaraway"}, "edited": false, "score": 0, "creation_date": 1544549210, "post_id": 53533020, "comment_id": 94312340, "body": "When the <code>group.Translate()</code> is ran it returns an exception stating the trust relationship between the workstation and the primary domain has failed..."}, {"owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "reply_to_user": {"reputation": 1055, "user_id": 2683179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3a694541424ada818eaced5da59772f4?s=128&d=identicon&r=PG&f=1", "display_name": "LCaraway", "link": "https://stackoverflow.com/users/2683179/lcaraway"}, "edited": false, "score": 0, "creation_date": 1544577656, "post_id": 53533020, "comment_id": 94323003, "body": "See how to solve the issue :<a href=\"https://support.microsoft.com/en-hk/help/2771040/the-trust-relationship-between-this-workstation-and-the-primary-domain\" rel=\"nofollow noreferrer\">support.microsoft.com/en-hk/help/2771040/&hellip;</a> and <a href=\"https://support.citrix.com/article/CTX227147\" rel=\"nofollow noreferrer\">support.citrix.com/article/CTX227147</a>"}, {"owner": {"reputation": 1072, "user_id": 2022115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3e5bf5c4191c80cf15a7f325764d2a?s=128&d=identicon&r=PG", "display_name": "Stef Ch&#228;ser", "link": "https://stackoverflow.com/users/2022115/stef-ch%c3%a4ser"}, "edited": false, "score": 0, "creation_date": 1580377145, "post_id": 53533020, "comment_id": 106079912, "body": "Isn&#39;t the code faster if you translate the AD-GroupName to the SID representation. <code>IdentityReference sidAdGroup = new NTAccount(GroupName).Translate(typeof(SecurityIdentifier));</code> then comparing it with the SIDs in <code>wi.Groups</code> (Instead of translate/cast all wi.Groups to NTAccount?)"}], "tags": [], "owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "is_accepted": false, "score": 11, "last_activity_date": 1543472788, "creation_date": 1543472788, "answer_id": 53533020, "question_id": 53524466, "link": "https://stackoverflow.com/questions/53524466/asp-net-core-authorization-using-windows-authentication/53533020#53533020", "title": "ASP.NET Core - Authorization Using Windows Authentication", "body": "<p>That seems you want to use claims-based authorization via policies . After setting windows authentication in your application , you could add custom claim to ClaimsPrincipal ,check user's identity and confirm which permission current user has :</p>\n\n<ol>\n<li><p>You can add a claims transformation service to your application:</p>\n\n<pre><code>class ClaimsTransformer : IClaimsTransformation\n{\n    public Task&lt;ClaimsPrincipal&gt; TransformAsync(ClaimsPrincipal principal)\n    {\n        var id = ((ClaimsIdentity)principal.Identity);\n\n        var ci = new ClaimsIdentity(id.Claims, id.AuthenticationType, id.NameClaimType, id.RoleClaimType);\n        if (ci.Name.Equals(\"name\"))\n        {\n            ci.AddClaim(new Claim(\"permission\", \"readOnly\"));\n        }\n        else\n        {\n            ci.AddClaim(new Claim(\"permission\", \"write\"));\n\n        }\n\n\n        var cp = new ClaimsPrincipal(ci);\n\n        return Task.FromResult(cp);\n    }\n}\n</code></pre></li>\n<li><p>Add to Startup.cs(.net Core 2.0) :</p>\n\n<pre><code>    services.AddTransient&lt;IClaimsTransformation, ClaimsTransformer&gt;();\n</code></pre></li>\n<li><p>Set your policy :</p>\n\n<pre><code>    services.AddAuthorization(options =&gt;\n    {\n        options.AddPolicy(\"Readonly\", policy =&gt;\n                          policy.RequireClaim(\"permission\", \"readOnly\"));\n\n        options.AddPolicy(\"Write\", policy =&gt;\n                        policy.RequireClaim(\"permission\", \"write\"));\n    });\n</code></pre></li>\n<li><p>Restrict access to a controller or action by requiring this policy:</p>\n\n<pre><code>    [Authorize(Policy = \"Write\")]\n    public IActionResult Contact()\n    {\n        ViewData[\"Message\"] = \"Your contact page.\";\n\n        return View();\n    }\n</code></pre></li>\n</ol>\n\n<p>If you have already add groups(write,readonly) in your AD and add the related users to group , you can also check the groups :</p>\n\n<pre><code>public static class Security\n{\n    public static bool IsInGroup(this ClaimsPrincipal User, string GroupName)\n    {\n        var groups = new List&lt;string&gt;();\n\n        var wi = (WindowsIdentity)User.Identity;\n        if (wi.Groups != null)\n        {\n            foreach (var group in wi.Groups)\n            {\n                try\n                {\n                    groups.Add(group.Translate(typeof(NTAccount)).ToString());\n                }\n                catch (Exception)\n                {\n                    // ignored\n                }\n            }\n            return groups.Contains(GroupName);\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<p>And use like :</p>\n\n<pre><code> if (User.IsInGroup(\"GroupName\"))\n {\n\n }\n</code></pre>\n"}], "owner": {"reputation": 1055, "user_id": 2683179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3a694541424ada818eaced5da59772f4?s=128&d=identicon&r=PG&f=1", "display_name": "LCaraway", "link": "https://stackoverflow.com/users/2683179/lcaraway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8310, "favorite_count": 3, "answer_count": 1, "score": 10, "last_activity_date": 1565701206, "creation_date": 1543424109, "last_edit_date": 1562676721, "question_id": 53524466, "link": "https://stackoverflow.com/questions/53524466/asp-net-core-authorization-using-windows-authentication", "title": "ASP.NET Core - Authorization Using Windows Authentication", "body": "<p>I have configured my web api to work with windows authentication. My goal is essentially to restrict certain actions in my controllers based on a users windows account. Some will be able to preform read actions while others will be able to preform actions that will write to the underlying database. I have found plenty of documentation on how to set up claims based authorization which is the route I think I need to go. What I have not found is how to set this up with windows auth. I think I am missing a middle step such as registering the windows auth as the identity provider? </p>\n\n<p><strong>startup.cs</strong></p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n    services.AddMvc();\n\n    services.AddAuthentication(IISDefaults.AuthenticationScheme);\n\n    services.AddAuthorization(options =&gt;\n    {\n        options.AddPolicy(\"readOnly\", policy =&gt;\n                          policy.RequireClaim(`???????????????????????`));\n        options.AddPolicy(\"write\", policy =&gt;\n                          policy.RequireClaim(`???????????????????????`));\n    });\n}\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>[Authorize(Policy = \"ReadOnly\")]\npublic class MyController : Controller\n{\n    public ActionResult SomeReadOnlyAction()\n    {\n        //Return data from database\n    }\n\n    [Authorize(Policy = \"Write\")]\n    public ActionResult AWriteAction()\n    {\n        //Create/Update/Delete data from database\n    }\n}\n</code></pre>\n\n<p>I guess another way to ask this question is how do you configure or access claims/roles etc... with windows authentication. </p>\n"}, {"tags": ["c#", "wpf", "hyperlink", "wpfdatagrid", "wpftoolkit"], "comments": [{"owner": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "edited": false, "score": 0, "creation_date": 1543430272, "post_id": 53524447, "comment_id": 93920828, "body": "You mean something like this <code>&lt;Button&gt;             &lt;Hyperlink&gt;Some text here&lt;&#47;Hyperlink&gt;         &lt;&#47;Button&gt;</code>?"}, {"owner": {"reputation": 7656, "user_id": 1624552, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c865f94187e48bb3500f4b478b468443?s=128&d=identicon&r=PG", "display_name": "Ralph", "link": "https://stackoverflow.com/users/1624552/ralph"}, "reply_to_user": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "edited": false, "score": 0, "creation_date": 1543439366, "post_id": 53524447, "comment_id": 93925025, "body": "@XAMlMAX not exactly. I am trying to do something like this: <a href=\"https://social.msdn.microsoft.com/Forums/Azure/en-US/e7858f73-9c56-406b-8e67-3a9ef7979a94/hide-datagrid-cell-value-template-column?forum=silverlightmvvm\" rel=\"nofollow noreferrer\">social.msdn.microsoft.com/Forums/Azure/en-US/&hellip;</a>   See the solution proposed there. My problem is that &lt;HyperlinkButton&gt; &lt;/HyperlinkButton&gt; does not exist in NET Framework 3.5...."}, {"owner": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "edited": false, "score": 1, "creation_date": 1543445405, "post_id": 53524447, "comment_id": 93927304, "body": "Is hyperlinkbutton neccessary? You could just define a <code>HyperLink</code> as a <code>DataTemplate</code>. If you want to change how things look in WPF you would define a template for it. WPF is very flexible in that respect."}, {"owner": {"reputation": 7656, "user_id": 1624552, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c865f94187e48bb3500f4b478b468443?s=128&d=identicon&r=PG", "display_name": "Ralph", "link": "https://stackoverflow.com/users/1624552/ralph"}, "reply_to_user": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "edited": false, "score": 0, "creation_date": 1543519429, "post_id": 53524447, "comment_id": 93958940, "body": "Finally I have used a TextBlock object and within It I have placed an Hyperlink object as It is explained by Matej in the following link.It&#39;s the simplest solution and no need to implement button styles: <a href=\"https://stackoverflow.com/questions/5122334/how-do-i-make-a-wpf-button-look-like-a-link\" title=\"how do i make a wpf button look like a link\">stackoverflow.com/questions/5122334/&hellip;</a>"}, {"owner": {"reputation": 7656, "user_id": 1624552, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c865f94187e48bb3500f4b478b468443?s=128&d=identicon&r=PG", "display_name": "Ralph", "link": "https://stackoverflow.com/users/1624552/ralph"}, "reply_to_user": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "edited": false, "score": 0, "creation_date": 1543519670, "post_id": 53524447, "comment_id": 93959046, "body": "Regarding HyperlinkButton It is available in Silverlight.  I did not find the way to use It in desktop WPF applications, not sure if It is possible to use in wpf apps by importing some kind of namespace.If anyone knows, share knowledge."}], "owner": {"reputation": 7656, "user_id": 1624552, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c865f94187e48bb3500f4b478b468443?s=128&d=identicon&r=PG", "display_name": "Ralph", "link": "https://stackoverflow.com/users/1624552/ralph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543424030, "creation_date": 1543424030, "question_id": 53524447, "link": "https://stackoverflow.com/questions/53524447/wpf-hyperlinkbutton-in-net-3-5-sp1", "title": "WPF HyperlinkButton in .NET 3.5 SP1?", "body": "<p>I have a WPF datagrid which has one column of type DataGridTemplateColumn and I want to change data template to add a hyperlinkbutton in order to hide cell value depending on a condition:</p>\n\n<p>\n   \n        \n             \n        \n   \n</p>\n\n<p>The problem is that HyperlinkButton in .NET 3.5 SP1 does not exist. So how to do a link button in .NET 3.5? Maybe using <a href=\"https://stackoverflow.com/questions/780426/link-button-in-wpf\">this</a> solution by changing button style? Or is there any other better solution in .NET 3.5?</p>\n"}, {"tags": ["c#", "wpf", "mvvm", "data-binding", "binding"], "comments": [{"owner": {"reputation": 1180, "user_id": 1763382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gCf2f.png?s=128&g=1", "display_name": "auburg", "link": "https://stackoverflow.com/users/1763382/auburg"}, "edited": false, "score": 0, "creation_date": 1543424480, "post_id": 53524439, "comment_id": 93917978, "body": "Why is your ObservableCollection of type object when it should be of type InloggenBO presumably ?"}, {"owner": {"reputation": 1180, "user_id": 1763382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gCf2f.png?s=128&g=1", "display_name": "auburg", "link": "https://stackoverflow.com/users/1763382/auburg"}, "edited": false, "score": 0, "creation_date": 1543424619, "post_id": 53524439, "comment_id": 93918047, "body": "Also in your XAML you&#39;re binding to Commissies but your vm you have a property (i assume) called commissies"}, {"owner": {"reputation": 516, "user_id": 8881376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SIS5g.jpg?s=128&g=1", "display_name": "Brum", "link": "https://stackoverflow.com/users/8881376/brum"}, "reply_to_user": {"reputation": 1180, "user_id": 1763382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gCf2f.png?s=128&g=1", "display_name": "auburg", "link": "https://stackoverflow.com/users/1763382/auburg"}, "edited": false, "score": 0, "creation_date": 1543425178, "post_id": 53524439, "comment_id": 93918364, "body": "@auburg I edited my question of how I retrieve my data, so that you know why I have an ObservableCollection of type Object"}, {"owner": {"reputation": 5996, "user_id": 2598770, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ac98ed5ba8dd996d7489d6bebadfbeec?s=128&d=identicon&r=PG&f=1", "display_name": "Rand Random", "link": "https://stackoverflow.com/users/2598770/rand-random"}, "edited": false, "score": 0, "creation_date": 1543425586, "post_id": 53524439, "comment_id": 93918622, "body": "It seems like your <code>ToList(dataset)</code> returns a <code>List&lt;DataRow&gt;</code> - so why should a <code>DataRow</code> object know anything about your <code>InloggenBO</code> class?"}, {"owner": {"reputation": 1180, "user_id": 1763382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gCf2f.png?s=128&g=1", "display_name": "auburg", "link": "https://stackoverflow.com/users/1763382/auburg"}, "edited": false, "score": 0, "creation_date": 1543425674, "post_id": 53524439, "comment_id": 93918674, "body": "Because you&#39;re binding to a plain object, there&#39;s no CommissieGroep property. You should be binding to a list of objects that have that property name for it to work."}, {"owner": {"reputation": 516, "user_id": 8881376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SIS5g.jpg?s=128&g=1", "display_name": "Brum", "link": "https://stackoverflow.com/users/8881376/brum"}, "reply_to_user": {"reputation": 5996, "user_id": 2598770, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ac98ed5ba8dd996d7489d6bebadfbeec?s=128&d=identicon&r=PG&f=1", "display_name": "Rand Random", "link": "https://stackoverflow.com/users/2598770/rand-random"}, "edited": false, "score": 0, "creation_date": 1543426374, "post_id": 53524439, "comment_id": 93919037, "body": "@RandRandom Ohhh wait hold on you are right... but then it means that my ToList method is wrong. I added it in the question. I added the datarows to the list, because I couldn&#39;t add an dataset to it. Do I have to convert the dataset to an object and then create a list of it?"}, {"owner": {"reputation": 1180, "user_id": 1763382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gCf2f.png?s=128&g=1", "display_name": "auburg", "link": "https://stackoverflow.com/users/1763382/auburg"}, "edited": false, "score": 0, "creation_date": 1543426483, "post_id": 53524439, "comment_id": 93919081, "body": "Yes - your observablecollection should be the appropriate type of instance the xaml is expecting."}, {"owner": {"reputation": 1180, "user_id": 1763382, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gCf2f.png?s=128&g=1", "display_name": "auburg", "link": "https://stackoverflow.com/users/1763382/auburg"}, "edited": false, "score": 0, "creation_date": 1543426695, "post_id": 53524439, "comment_id": 93919197, "body": "Also, have a look at the vs debugging output for binding errors"}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1543427857, "post_id": 53524439, "comment_id": 93919710, "body": "As it is the simple fix is to bind to the defaultview of your datatable rather than an observablecollection. The displaymemberpath would then be the column name. But I think you should look into using entity framework and strongly typed data rather than ado."}], "answers": [{"tags": [], "owner": {"reputation": 5996, "user_id": 2598770, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ac98ed5ba8dd996d7489d6bebadfbeec?s=128&d=identicon&r=PG&f=1", "display_name": "Rand Random", "link": "https://stackoverflow.com/users/2598770/rand-random"}, "is_accepted": false, "score": 1, "last_activity_date": 1543494452, "creation_date": 1543494452, "answer_id": 53539071, "question_id": 53524439, "link": "https://stackoverflow.com/questions/53524439/combobox-displaymemberpath-from-listobject/53539071#53539071", "title": "Combobox DisplayMemberPath from list&lt;object&gt;", "body": "<p>You could change your <code>ToList</code> method to this:</p>\n\n<pre><code>private List&lt;InloggenBO&gt; ToList(DataSet dataSet)\n{\n    //new list of InloggenBO instead of objects\n    var list = new List&lt;InloggenBO&gt;();\n\n    foreach (var dataRow in dataSet.Tables[0].Rows)\n    {\n        //create a new instance of InloggenBO\n        var item = new InloggenBO();\n        //this assumes that the column is named as the member\n        item.CommissieGroep = dataRow[\"CommissieGroep\"].ToString(); \n        //fill the other members\n\n        //add the instane of InloggenBO to the list\n        list.Add(item);\n    }\n\n    return list;\n}\n</code></pre>\n\n<p>But, as @Andy mentioned you should consider using an ORM like Entity Framework.</p>\n"}, {"tags": [], "owner": {"reputation": 22524, "user_id": 285795, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/597432bc4cb512372176db67c6fba151?s=128&d=identicon&r=PG", "display_name": "\u03a9megaMan", "link": "https://stackoverflow.com/users/285795/%ce%a9megaman"}, "is_accepted": true, "score": 1, "last_activity_date": 1543930865, "last_edit_date": 1543930865, "creation_date": 1543502364, "answer_id": 53541454, "question_id": 53524439, "link": "https://stackoverflow.com/questions/53524439/combobox-displaymemberpath-from-listobject/53541454#53541454", "title": "Combobox DisplayMemberPath from list&lt;object&gt;", "body": "<p>The Binding process which is done by the system is done in two parts. The first part is to a target object, and I mean <em>object</em> for its unknown to it, that object is supplied by the <code>DataContext</code> of the control. </p>\n\n<p>If I control does not have a <code>DataContext</code> set, it inherits the parent control as specified in the XAML and if it is also null, that process repeats itself until ultimately the page's datacontext is taken.</p>\n\n<p>Step 2 of binding is when that object is not null, it then reflects to the <em>property</em> from the binding <em>hint</em> given in the binding statement itself. </p>\n\n<hr>\n\n<p>So in your case it is looking for a property named <code>Commissies</code> off the datacontext. If that property is not null and is a list, the combobox after a successful binding to a list then tries to find and show a property named <code>CommissieGroep</code> in each row to be shown.</p>\n\n<p>Which in the case of the Combobox there are three things which have to be in line for a proper showing of data. </p>\n\n<p>It appears that you do not have the right list (or observable list) of types expected to do a proper binding and showing of data; fixing that will resolve the issue.</p>\n"}], "owner": {"reputation": 516, "user_id": 8881376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/SIS5g.jpg?s=128&g=1", "display_name": "Brum", "link": "https://stackoverflow.com/users/8881376/brum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 53541454, "answer_count": 2, "score": 1, "last_activity_date": 1543930865, "creation_date": 1543424006, "last_edit_date": 1543497575, "question_id": 53524439, "link": "https://stackoverflow.com/questions/53524439/combobox-displaymemberpath-from-listobject", "title": "Combobox DisplayMemberPath from list&lt;object&gt;", "body": "<p>I am trying to bind a list to a ComboBox and use displaymemberpath to display the values. </p>\n\n<p>This is my XAML:</p>\n\n<pre><code>&lt;ComboBox x:Name=\"ComboBoxCommissieGroep\" \n           ItemsSource=\"{Binding Commissies}\" \n           DisplayMemberPath=\"CommissieGroep\"&gt;\n</code></pre>\n\n<p>ViewModel:</p>\n\n<p>My ViewModel retreives a list of \"Commissies\"</p>\n\n<pre><code>private async Task LoadData()\n{\n    commissies = new ObservableCollection&lt;object&gt;(await LoginBLL.GetCommissiesList());\n}\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>public class InloggenBO : ObservableObject\n{\n    private int lidNummer;\n\n    public int LidNummer\n    {\n        get =&gt; lidNummer;\n        set\n        {\n            lidNummer = value;\n            NotifyPropertyChanged();\n        }\n    }\n\n    private string commissieGroep;\n\n    public string CommissieGroep\n    {\n        get =&gt; commissieGroep;\n        set\n        {\n            commissieGroep = value;\n            NotifyPropertyChanged();\n        }\n    }\n\n    private string wachtwoord;\n\n    public string Wachtwoord\n    {\n        get =&gt; wachtwoord;\n        set\n        {\n            wachtwoord = value;\n            NotifyPropertyChanged();\n        }\n    }\n}\n</code></pre>\n\n<p>My code database method:\nThe method creates a list of a dataset that has been retrieved from the database. That is why it is of type object and not InloggenBO</p>\n\n<pre><code>protected Task&lt;List&lt;object&gt;&gt; ExecuteReader(string SqlString)\n{\n    // Read to dataset\n    DataSet dataset = new DataSet();\n\n    using (var conn = new SqlConnection(ConnectionString))\n    using (var adapter = new SqlDataAdapter(new SqlCommand(SqlString, conn)\n    {\n        // Set commandtype\n        CommandType = CommandType.Text\n    }))\n    {\n        // Open connection\n        conn.Open();\n        // Fill dataset\n        adapter.Fill(dataset);\n        // Close connection\n        conn.Close();\n    }\n\n    return Task.FromResult(ToList(dataset));\n}\n</code></pre>\n\n<p>Method that creates the list object</p>\n\n<pre><code>private List&lt;object&gt; ToList(DataSet dataSet)\n{\n    var list = new List&lt;object&gt;();\n\n    foreach (var dataRow in dataSet.Tables[0].Rows)\n    {\n        list.Add(dataRow);\n    }\n    return list;\n}\n</code></pre>\n\n<p>I have set my DataContext to the viewmodel and I know that the binding works because in my combobox without the displaymemberpath it says: \"System.Data.Datarow\". So what do I have to put in the displaymemberpath so that I can show its value?</p>\n"}, {"tags": ["c#", "dynamic"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1543424891, "post_id": 53524327, "comment_id": 93918199, "body": "Why can&#39;t you get the nonpriority.Id?"}, {"owner": {"reputation": 942, "user_id": 2061517, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/50effaeae7b9684e1b7551a9e16ed521?s=128&d=identicon&r=PG", "display_name": "dstewart101", "link": "https://stackoverflow.com/users/2061517/dstewart101"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1543479561, "post_id": 53524327, "comment_id": 93936625, "body": "when i try to compile i get the error: &#39;object&#39; does not contain a definition for &#39;Id&#39; and no extension method &#39;Id&#39; accepting a first argument of type &#39;object&#39; could be found (are you missing a using directive or an assembly reference? - i think it&#39;s because nonpriorityForm will be a different type on each loop assigned at run time. it isn&#39;t an IQueryable&lt;ConcreteType&gt; it&#39;s an IQueryable&lt;formType&gt; so i think the compiler doesn&#39;t know that there is an Id property available. I know that will always be the case, but I don&#39;t know how to tell the compiler there will always be an Id... if you see?"}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1543488108, "post_id": 53524327, "comment_id": 93941708, "body": "It&#39;s difficult to say anything without more detail. It sounds like <code>nonPriorityForm</code> is a list of objects? If they&#39;re all a &#39;formType&#39; is there a base class or interface that could be used with generics to allow the property to be retrieved? So <code>nonPriorityForm</code> would be a <code>List&lt;T&gt; where T : IFormType</code>? Or have you considered using reflection to get the Id property, as you know it&#39;s there?"}, {"owner": {"reputation": 942, "user_id": 2061517, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/50effaeae7b9684e1b7551a9e16ed521?s=128&d=identicon&r=PG", "display_name": "dstewart101", "link": "https://stackoverflow.com/users/2061517/dstewart101"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1543493644, "post_id": 53524327, "comment_id": 93944754, "body": "hi stuartd - thanks for the feedback. I think i&#39;ll try the generic route. I had considered reflection too and I have a link or two bookmarked. this gives me direction. thanks."}], "answers": [{"tags": [], "owner": {"reputation": 942, "user_id": 2061517, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/50effaeae7b9684e1b7551a9e16ed521?s=128&d=identicon&r=PG", "display_name": "dstewart101", "link": "https://stackoverflow.com/users/2061517/dstewart101"}, "is_accepted": false, "score": 0, "last_activity_date": 1543567959, "creation_date": 1543567959, "answer_id": 53554177, "question_id": 53524327, "link": "https://stackoverflow.com/questions/53524327/getting-properties-of-dynamic-type-c/53554177#53554177", "title": "getting properties of dynamic type c#", "body": "<p>I was able to use the <em>dynamic</em> keyword instead of var. While I lose compile time validation, this gets me over the line when I know for sure there will be an Id.</p>\n\n<pre><code>dynamic nonPriorityForm = _context.Query(formType);\n</code></pre>\n"}], "owner": {"reputation": 942, "user_id": 2061517, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/50effaeae7b9684e1b7551a9e16ed521?s=128&d=identicon&r=PG", "display_name": "dstewart101", "link": "https://stackoverflow.com/users/2061517/dstewart101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543567959, "creation_date": 1543423668, "question_id": 53524327, "link": "https://stackoverflow.com/questions/53524327/getting-properties-of-dynamic-type-c", "title": "getting properties of dynamic type c#", "body": "<p>Consider the following code:</p>\n\n<pre><code>foreach (Type formType in allFormsToLoopThrough)\n            {\n                var nonPriorityForm = _context.Query(formType);\n                foreach (var nonpriority in nonPriorityForm)\n                {\n\n                    var name = nonpriority.GetType().Name;\n\n                    MyWorkAssignmentDTO form = new MyWorkAssignmentDTO\n                    {\n                        FormName = formType.Name\n                        Id = nonpriority.Id\n\n                    };\n\n                }\n            }\n</code></pre>\n\n<p>This snippet is looping thought a list of types. \nEach type is taken from the list and passed to a Query function that returns an IQueryable - basically a list of records in a given table in a database that matches the type.</p>\n\n<p>Then for each of the record sets that come back, I want to loop through those and from each create a new instance of MyWorkAssignmentDTO. I am only interested in a form name (which I can get from formType) but I cannot get nonpriority.Id</p>\n\n<p>I know for sure that every nonpriority will have an Id once it is resolved in the loop.\nWhat I can't do is implement this to work at run time.</p>\n\n<p>Can anyone help?</p>\n"}, {"tags": ["c#", "ios", "xamarin", "xamarin.forms"], "comments": [{"owner": {"reputation": 2489, "user_id": 4941264, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/72edbb7098bc7082a3f245d694602160?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Price", "link": "https://stackoverflow.com/users/4941264/simon-price"}, "edited": false, "score": 0, "creation_date": 1543423603, "post_id": 53524276, "comment_id": 93917502, "body": "can you give us an example of what is returned by <code>var json = webClient.DownloadString(URI);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 2489, "user_id": 4941264, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/72edbb7098bc7082a3f245d694602160?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Price", "link": "https://stackoverflow.com/users/4941264/simon-price"}, "edited": false, "score": 0, "creation_date": 1543423754, "post_id": 53524323, "comment_id": 93917598, "body": "this was my assumption with his question which is why I asked for an example of what hes actually returning."}, {"owner": {"reputation": 187, "user_id": 10688581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5811461cad2d41bce04fa4b3ca995c0?s=128&d=identicon&r=PG&f=1", "display_name": "Doctor Ford", "link": "https://stackoverflow.com/users/10688581/doctor-ford"}, "edited": false, "score": 0, "creation_date": 1543423968, "post_id": 53524323, "comment_id": 93917724, "body": "if I set var message = to your above - then on the return message statement I get the same error."}, {"owner": {"reputation": 187, "user_id": 10688581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5811461cad2d41bce04fa4b3ca995c0?s=128&d=identicon&r=PG&f=1", "display_name": "Doctor Ford", "link": "https://stackoverflow.com/users/10688581/doctor-ford"}, "edited": false, "score": 0, "creation_date": 1543424907, "post_id": 53524323, "comment_id": 93918209, "body": "@Loading - if I use your updated syntax I get this compile error - Cannot implicitly convert type &#39;System.Collections.Generic.List&lt;XF_Login.Pages.ApproveUsers&zwnj;&#8203;&gt;&#39; to &#39;System.Collections.Generic.List&lt;XF_Login.ViewModels.Approve&zwnj;&#8203;Users&gt;&#39;"}, {"owner": {"reputation": 575, "user_id": 5563263, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/35f3598ac7b9a2ef322b2b538a461c00?s=128&d=identicon&r=PG&f=1", "display_name": "Loading", "link": "https://stackoverflow.com/users/5563263/loading"}, "edited": false, "score": 0, "creation_date": 1543424997, "post_id": 53524323, "comment_id": 93918258, "body": "it would be helpful if you could explain where this error happens. Your json result needs to be correct too"}, {"owner": {"reputation": 187, "user_id": 10688581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5811461cad2d41bce04fa4b3ca995c0?s=128&d=identicon&r=PG&f=1", "display_name": "Doctor Ford", "link": "https://stackoverflow.com/users/10688581/doctor-ford"}, "edited": false, "score": 0, "creation_date": 1543425219, "post_id": 53524323, "comment_id": 93918382, "body": "I am unable to get a copy of what the son looks like as I have multiple compile errors...this is the line of code that produces this error  ApprovedUser = dal.GetApprovalGrid();"}, {"owner": {"reputation": 575, "user_id": 5563263, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/35f3598ac7b9a2ef322b2b538a461c00?s=128&d=identicon&r=PG&f=1", "display_name": "Loading", "link": "https://stackoverflow.com/users/5563263/loading"}, "edited": false, "score": 0, "creation_date": 1543425281, "post_id": 53524323, "comment_id": 93918427, "body": "Can you post your code? Its hard to help if i dont know what you did"}, {"owner": {"reputation": 187, "user_id": 10688581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5811461cad2d41bce04fa4b3ca995c0?s=128&d=identicon&r=PG&f=1", "display_name": "Doctor Ford", "link": "https://stackoverflow.com/users/10688581/doctor-ford"}, "reply_to_user": {"reputation": 575, "user_id": 5563263, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/35f3598ac7b9a2ef322b2b538a461c00?s=128&d=identicon&r=PG&f=1", "display_name": "Loading", "link": "https://stackoverflow.com/users/5563263/loading"}, "edited": false, "score": 0, "creation_date": 1543425397, "post_id": 53524323, "comment_id": 93918495, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/184420/discussion-between-doctor-ford-and-loading\">continue this discussion in chat</a>."}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1543425498, "post_id": 53524323, "comment_id": 93918564, "body": "you can just plug your url into your brower to get the json"}, {"owner": {"reputation": 187, "user_id": 10688581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5811461cad2d41bce04fa4b3ca995c0?s=128&d=identicon&r=PG&f=1", "display_name": "Doctor Ford", "link": "https://stackoverflow.com/users/10688581/doctor-ford"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1543425717, "post_id": 53524323, "comment_id": 93918700, "body": "@Jason - I tried plugging directly into my browser but it does not return JSON it gives me No HTTP resource was found that matches the request URI"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1543426400, "post_id": 53524323, "comment_id": 93919050, "body": "then are you sure that your json download in code is actually working?"}, {"owner": {"reputation": 5513, "user_id": 2913599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/098f6fabc851434459585bb8170f950f?s=128&d=identicon&r=PG", "display_name": "jgoldberger - MSFT", "link": "https://stackoverflow.com/users/2913599/jgoldberger-msft"}, "edited": false, "score": 0, "creation_date": 1543438518, "post_id": 53524323, "comment_id": 93924670, "body": "&quot;Cannot implicitly convert type &#39;System.Collections.Generic.List&lt;XF_Login.Pages.ApproveUsers&zwnj;&#8203;&gt;&#39; to &#39;System.Collections.Generic.List&lt;XF_Login.ViewModels.Approve&zwnj;&#8203;Users&gt;&#39; &quot; This seems like you have two versions of the <code>ApproveUsers</code> type, one in namespace <code>XF_Login.Pages</code> and one in <code>XF_Login.ViewModels</code>. You may need to fully qualify your types."}, {"owner": {"reputation": 187, "user_id": 10688581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5811461cad2d41bce04fa4b3ca995c0?s=128&d=identicon&r=PG&f=1", "display_name": "Doctor Ford", "link": "https://stackoverflow.com/users/10688581/doctor-ford"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1543439989, "post_id": 53524323, "comment_id": 93925284, "body": "@Jason - sorry you were correct, there was an issue with the API - now it is returning this   &lt;ArrayOfstring xmlns:i=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot; xmlns=&quot;<a href=\"http://schemas.microsoft.com/2003/10/Serialization/Arrays\" rel=\"nofollow noreferrer\">schemas.microsoft.com/2003/10/Serialization/Arrays</a>&quot;&gt; &lt;string&gt;id&lt;/string&gt; &lt;string&gt;fname&lt;/string&gt; &lt;string&gt;lname&lt;/string&gt; &lt;string&gt;phone&lt;/string&gt; &lt;string&gt;company&lt;/string&gt; &lt;string&gt;approveduser&lt;/string&gt; &lt;/ArrayOfstring&gt;"}, {"owner": {"reputation": 187, "user_id": 10688581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5811461cad2d41bce04fa4b3ca995c0?s=128&d=identicon&r=PG&f=1", "display_name": "Doctor Ford", "link": "https://stackoverflow.com/users/10688581/doctor-ford"}, "reply_to_user": {"reputation": 5513, "user_id": 2913599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/098f6fabc851434459585bb8170f950f?s=128&d=identicon&r=PG", "display_name": "jgoldberger - MSFT", "link": "https://stackoverflow.com/users/2913599/jgoldberger-msft"}, "edited": false, "score": 0, "creation_date": 1543440342, "post_id": 53524323, "comment_id": 93925444, "body": "@jgoldberger - it seems that this is where the conflict is arising.  The button press event from a different page that will load the page above.<code>public async void OnApproveUsers() {     App.Current.MainPage = new NavigationPage(new ApproveUsers());      await App.Current.MainPage.Navigation.PushAsync(new ApproveUsers());  }</code>"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1543440358, "post_id": 53524323, "comment_id": 93925450, "body": "that&#39;s XML, not JSON.  It&#39;s possible you can set a request header to get the API to return JSON, but if not your deserialization is not going to work"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1543440897, "post_id": 53524323, "comment_id": 93925654, "body": "a). is the WebClient call returning XML or JSON?   b) in your OnApproveUsers() method, the last line is not needed.  c) the conflict is occuring because you have a page called ApproveUsers and a class called ApproveUsers.  You should renamed one of them for clarity, or properly qualify their namespaces to avoid the conflict"}, {"owner": {"reputation": 187, "user_id": 10688581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5811461cad2d41bce04fa4b3ca995c0?s=128&d=identicon&r=PG&f=1", "display_name": "Doctor Ford", "link": "https://stackoverflow.com/users/10688581/doctor-ford"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1543441418, "post_id": 53524323, "comment_id": 93925875, "body": "@Jason - b and c have been remedied.  How would I check if the WebClient API call is returning XML or JSON?"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1543441487, "post_id": 53524323, "comment_id": 93925900, "body": "use the debugger to inspect the data that&#39;s returned.  Of just Debug.WriteLine it to the console"}, {"owner": {"reputation": 187, "user_id": 10688581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5811461cad2d41bce04fa4b3ca995c0?s=128&d=identicon&r=PG&f=1", "display_name": "Doctor Ford", "link": "https://stackoverflow.com/users/10688581/doctor-ford"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1543441923, "post_id": 53524323, "comment_id": 93926051, "body": "@Jason - value of var json that is returned is <code>[&quot;id&quot;,&quot;fname&quot;,&quot;lname&quot;,&quot;phone&quot;,&quot;company&quot;,&quot;approveduser&quot;]</code>"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1543442069, "post_id": 53524323, "comment_id": 93926117, "body": "that&#39;s JSON, but it&#39;s just a list of string values.  It&#39;s not data that corresponds to your ApproveUsers class."}, {"owner": {"reputation": 187, "user_id": 10688581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5811461cad2d41bce04fa4b3ca995c0?s=128&d=identicon&r=PG&f=1", "display_name": "Doctor Ford", "link": "https://stackoverflow.com/users/10688581/doctor-ford"}, "edited": false, "score": 0, "creation_date": 1543442272, "post_id": 53524323, "comment_id": 93926200, "body": "I have the API call set to `        public IEnumerable&lt;string&gt; Get()         {             using (XamarinEntities entities = new XamarinEntities())                 return new string[] { &quot;id&quot;, &quot;fname&quot;, &quot;lname&quot;, &quot;phone&quot;, &quot;company&quot;, &quot;approveduser&quot; };         }`"}, {"owner": {"reputation": 187, "user_id": 10688581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5811461cad2d41bce04fa4b3ca995c0?s=128&d=identicon&r=PG&f=1", "display_name": "Doctor Ford", "link": "https://stackoverflow.com/users/10688581/doctor-ford"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1543442474, "post_id": 53524323, "comment_id": 93926260, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/184434/discussion-between-doctor-ford-and-jason\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 575, "user_id": 5563263, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/35f3598ac7b9a2ef322b2b538a461c00?s=128&d=identicon&r=PG&f=1", "display_name": "Loading", "link": "https://stackoverflow.com/users/5563263/loading"}, "is_accepted": false, "score": 1, "last_activity_date": 1543424050, "last_edit_date": 1543424050, "creation_date": 1543423653, "answer_id": 53524323, "question_id": 53524276, "link": "https://stackoverflow.com/questions/53524276/error-trying-to-covert-liststring-in-xamarin-forms/53524323#53524323", "title": "Error Trying to Covert List&lt;string&gt; In Xamarin Forms", "body": "<p>ApprovedUser is of type <code>List&lt;ApproveUsers&gt;</code> but GetApprovalGrid() returns <code>List&lt;string&gt;</code></p>\n\n<p>EDIT:</p>\n\n<pre><code>JsonConvert.DeserializeObject&lt;List&lt;ApproveUsers&gt;&gt;(json); \n</code></pre>\n\n<p>if your json is correctly formatted</p>\n\n<p>EDIT2: you need to change the method signature to this too:</p>\n\n<pre><code>public List&lt;ApproveUsers&gt; GetApprovalGrid()\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 10688581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5811461cad2d41bce04fa4b3ca995c0?s=128&d=identicon&r=PG&f=1", "display_name": "Doctor Ford", "link": "https://stackoverflow.com/users/10688581/doctor-ford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543424050, "creation_date": 1543423478, "last_edit_date": 1543423976, "question_id": 53524276, "link": "https://stackoverflow.com/questions/53524276/error-trying-to-covert-liststring-in-xamarin-forms", "title": "Error Trying to Covert List&lt;string&gt; In Xamarin Forms", "body": "<p>I am using an asp.net api to query from my xamarin app to SQL Server.  Below is how I am querying the API, and setting up the return type, but I am getting an error of</p>\n\n<blockquote>\n  <p>Can not convert List to List</p>\n</blockquote>\n\n<p>What do I need to change in my code so that this will execute as desired?</p>\n\n<pre><code>public List&lt;string&gt; GetApprovalGrid()\n{\n    string URI = \"XXXXXXX/api/Xamarin/properties\";\n\n    using (var webClient = new System.Net.WebClient())\n    {\n        var json = webClient.DownloadString(URI);\n\n        var message = JsonConvert.DeserializeObject&lt;List&lt;string&gt;&gt;(json);\n        return message;\n     }\n}\n\npublic class ApproveUsers\n{\n    public int ID { get; set; }\n    public string fname { get; set; }\n    public string lname { get; set; }\n    public string phone { get; set; }\n    public string company { get; set; }\n    public string approveduser { get; set; }\n}\n\nprivate void LoadApproveUserGrid()\n{\n    List&lt;ApproveUsers&gt; ApprovedUser = new List&lt;ApproveUsers&gt;();\n    //this line throws the error\n    ApprovedUser = dal.GetApprovalGrid();\n    //more code here\n}\n</code></pre>\n"}, {"tags": ["c#", "delphi", "sendmessage", "windows-messages", "wm-copydata"], "comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1543423391, "post_id": 53524101, "comment_id": 93917373, "body": "&quot;There is nothing&quot; Really, what can this possibly mean. No message arrives? A message arrives but doesn&#39;t contain what you expect? Surely it would be easier to try with a simpler example, perhaps a struct containing a single string? Then the example would be simpler. You could then make a complete minimal reproduction. <code>UnmanagedType.LPTStr</code> is quite wrong. That&#39;s a pointer. You need an inline array, <code>UnmanagedType.ByValTStr</code>. But then you have fixed length strings. Which is nasty. So why don&#39;t you pass an encoded JSON map as a single string?"}, {"owner": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1543424212, "post_id": 53524101, "comment_id": 93917833, "body": "when the lpData is a string not a structure which is marshalled as  <code>[MarshalAs(UnmanagedType.LPTStr, SizeConst = 24)]</code>  I get the string.   when I pass it as <code>UnmanagedType.ByValTStr</code> there is only gibberish, that&#39;s why I sticked to <code>UnmanagedType.LPTStr</code>."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1543424291, "post_id": 53524101, "comment_id": 93917876, "body": "Well, it&#39;s wrong though. The system can marshal the outer struct, but not those inner pointers. <code>ByValTStr</code> is needed for values inside a struct. But the JSON approach is preferable."}, {"owner": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1543424303, "post_id": 53524101, "comment_id": 93917885, "body": "And what I mean by no message is, there is only  a new line there when passing the struct"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1543424336, "post_id": 53524101, "comment_id": 93917905, "body": "It&#39;s no fun communicating like this, with so a low signal to noise ratio. Try to be clearer. It&#39;s time for that <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1543424596, "post_id": 53524101, "comment_id": 93918040, "body": "Sorry for that, I am fairly new to Delphi, Can you provide me an example regarding JSON map. In the mean time, I will try with ByValTstr and create a simpler program to test with"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1543425169, "post_id": 53524101, "comment_id": 93918360, "body": "No, I&#39;m not going to write an example for you. There are lots of examples of working with JSON in both C# and Delphi. And you already know how to supply a string. So you have all the pieces already. Also, you should be aware that <code>SizeConst</code> does not go with <code>ByValTStr</code>. Think about it. <code>ByValTStr</code> is a pointer to a null terminated string."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1543427878, "post_id": 53524101, "comment_id": 93919720, "body": "@DavidHeffernan &quot;<i>you should be aware that <code>SizeConst</code> does not go with <code>ByValTStr</code></i>&quot; - actually, it does. Microsoft&#39;s own examples show <code>SizeConst</code> being used with <code>ByValTStr</code> when marshalling a <code>string</code> as a char array, and even the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.unmanagedtype?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">documentation</a> for <code>ByValTStr</code> says to use <code>SizeConst</code>: &quot;<i>Used for in-line, fixed-length character arrays that appear within a structure. ... <b>Always use the SizeConst field to indicate the size of the array</b>.</i>&quot; Maybe you meant <code>LPTStr</code> instead?"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1543430324, "post_id": 53524101, "comment_id": 93920845, "body": "@remy thanks, you are right, it clearly does go with ByValTStr. I meant LPTStr of course."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "edited": false, "score": 0, "creation_date": 1543429221, "post_id": 53525405, "comment_id": 93920340, "body": "I tried it and I got  <code>String type Gibberish </code> . The only problem is I am only provided with a test Delphi applictaion which I don&#39;t have control over. When i changed the int i to a string I was able to get  only the &quot; i&quot; value from the struct I am sending."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "edited": false, "score": 0, "creation_date": 1543429550, "post_id": 53525405, "comment_id": 93920497, "body": "If you don&#39;t have control of the Delphi code, how do you know what kind of struct it is expecting to receive in the first place? Also, it is common practice for <code>WM_COPYDATA</code> senders to set the <code>dwData</code> to a unique value, not 0, such as from <code>RegisterWindowMessage()</code>. How do you know the Delphi app is not expecting that?  Even the VCL uses <code>WM_COPYDATA</code> internally, so messages need to be uniquely identified so they don&#39;t get misintepretted."}, {"owner": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "edited": false, "score": 0, "creation_date": 1543429647, "post_id": 53525405, "comment_id": 93920536, "body": "From the notes on the app.  Data is returned in a SampleRecord structure    `    TSampleRecord = packed record        i : integer;        card : string[50];        name : string[100];        responsecode : string[5];        responsetext : string[100];        approval : string[15];        tranid : string[50];        reference : string[16];        d : TDateTime;        transactionType: string[24];        creditCardType: string[10];        EMVContact: integer;        applicationName: string[50];        applicationIdentifier: string[15];        reserved: string[10]; `"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "edited": false, "score": 4, "creation_date": 1543429692, "post_id": 53525405, "comment_id": 93920557, "body": "That is information that should have been included in your question up-front. Now we are getting somewhere. That record contains Delphi <b>Short Strings</b>, which is different than raw char arrays. A ShortString contains a leading byte to specify the array size. Your C# struct is not declaring the arrays correctly to account for that. I&#39;ll tweak my answer in a minute"}, {"owner": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "edited": false, "score": 0, "creation_date": 1543429847, "post_id": 53525405, "comment_id": 93920631, "body": "Thank you so much. I have not much experience working with delphi structure at all. I have only done code migration from delphi to C# for few of the web application and that was it"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 4, "creation_date": 1543431285, "post_id": 53525405, "comment_id": 93921328, "body": "The lesson here is to provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Especially critical in an interop question."}, {"owner": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "edited": false, "score": 0, "creation_date": 1543434355, "post_id": 53525405, "comment_id": 93922800, "body": "@RemyLebeau I tried it, the only thing I am receiving is \u3132 symbol."}, {"owner": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "edited": false, "score": 0, "creation_date": 1543436867, "post_id": 53525405, "comment_id": 93923949, "body": "I am getting this error.  System.ArgumentException HResult=0x80070057 Message=Type &#39;Form1.GeneralMethods+ReturnStruct&#39; cannot be marshaled as an unmanaged structure; no meaningful size or offset can be computed. Source=mscorlib StackTrace: at System.Runtime.InteropServices.Marshal.SizeOfHelper(Type t, Boolean throwIfNotMarshalable)"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "edited": false, "score": 0, "creation_date": 1543438096, "post_id": 53525405, "comment_id": 93924491, "body": "@Gkush You should have mentioned that it is only the <code>DelphiShortStringMarshaler</code> example that is throwing the exception. The <code>ByValTStr</code> example works perfectly fine. The <code>DelphiShortStringMarshaler</code> example is <a href=\"https://stackoverflow.com/questions/23239320/\">failing because of this</a>, so I will try to fix it."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "edited": false, "score": 1, "creation_date": 1543447376, "post_id": 53525405, "comment_id": 93927778, "body": "@Gkush apparently you can&#39;t use a custom marshaller on struct fields at all, only on function parameters and return values. Even if you could work around the <code>Marshal.SizeOf()</code> issue, <code>Marshal.StructureToPtr()</code> would throw a &quot;<i>Custom marshalers cannot be used on fields of structures</i>&quot; exception instead. So, I have replaced the <code>DelphiShortStringMarshaler</code> example with a different approach."}, {"owner": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "edited": false, "score": 0, "creation_date": 1543500452, "post_id": 53525405, "comment_id": 93948653, "body": "I tried that too, it doesn&#39;t seem to work. I have no choice but to talk with the owner of the delphi end to make sure, if everything is ok at his end . WIll reply to this thread if I have any updates."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "edited": false, "score": 1, "creation_date": 1543501990, "post_id": 53525405, "comment_id": 93949525, "body": "@Gkush it does work, I tested it before posting it this time. So you must not be applying it to your project correctly"}, {"owner": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "edited": false, "score": 0, "creation_date": 1543510290, "post_id": 53525405, "comment_id": 93954496, "body": "@RemyLebeau Thank you so much. Turns out for  dwData it should have been `(IntPtr)2&#39; I reached out ... I am at least being able to see the response messages more properly. messages upto Name is properly being passed to the app. After that, There is nothing there. WIll fiddle with it more, to solve it"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 4, "last_activity_date": 1543447580, "last_edit_date": 1543447580, "creation_date": 1543427757, "answer_id": 53525405, "question_id": 53524101, "link": "https://stackoverflow.com/questions/53524101/marshall-struct-to-pass-it-to-delphi-record-via-sendmessage/53525405#53525405", "title": "Marshall struct to pass it to delphi record via sendmessage", "body": "<p>A few minor bugs in your code:</p>\n\n<ul>\n<li><p>your definition of <code>COPYDATASTRUCT</code> is missing <code>[StructLayout]</code>.</p></li>\n<li><p>your definition of <code>SendMessage()</code> is slightly wrong (<code>wParam</code> needs to be a <code>UIntPtr</code> instead of an <code>Int32</code>).</p></li>\n<li><p>you are not freeing any of the memory you allocate with <code>IntPtrAlloc()</code>.</p></li>\n</ul>\n\n<p>Now, for the main issue:</p>\n\n<p>You need to use <code>UnmanagedType.ByValTStr</code> instead of <code>UnmanagedType.LPTStr</code> when marshaling strings as fixed-length character arrays (see <a href=\"https://docs.microsoft.com/en-us/previous-versions/dotnet/netframework-4.0/s9ts558h(v%3dvs.100)#strings-used-in-structures\" rel=\"nofollow noreferrer\">Strings Used In Structures</a>).</p>\n\n<p>But, more importantly (based on details you provided in comments instead of in your main question), the Delphi side is expecting the strings in the received struct to be encoded in <a href=\"http://docwiki.embarcadero.com/RADStudio/en/String_Types_(Delphi)#Short_Strings\" rel=\"nofollow noreferrer\">Short String</a> format, which is slightly different than raw character arrays:</p>\n\n<blockquote>\n  <p>A <a href=\"http://docwiki.embarcadero.com/Libraries/en/System.ShortString\" rel=\"nofollow noreferrer\">ShortString</a> is 0 to 255 single-byte characters long. While the length of a <a href=\"http://docwiki.embarcadero.com/Libraries/en/System.ShortString\" rel=\"nofollow noreferrer\">ShortString</a> can change dynamically, its memory is a statically allocated 256 bytes; the first byte stores the length of the string, and the remaining 255 bytes are available for characters. If <code>S</code> is a <a href=\"http://docwiki.embarcadero.com/Libraries/en/System.ShortString\" rel=\"nofollow noreferrer\">ShortString</a> variable, <code>Ord(S[0])</code>, like <code>Length(S)</code>, returns the length of <code>S</code>; assigning a value to <code>S[0]</code>, like calling <code>SetLength</code>, changes the length of <code>S</code>. <a href=\"http://docwiki.embarcadero.com/Libraries/en/System.ShortString\" rel=\"nofollow noreferrer\">ShortString</a> is maintained for backward compatibility only.</p>\n  \n  <p>The Delphi language supports short-string types - in effect, subtypes of <a href=\"http://docwiki.embarcadero.com/Libraries/en/System.ShortString\" rel=\"nofollow noreferrer\">ShortString</a> - whose maximum length is anywhere from 0 to 255 characters. These are denoted by a bracketed numeral appended to the reserved word <a href=\"http://docwiki.embarcadero.com/Libraries/en/System.String\" rel=\"nofollow noreferrer\">string</a>. For example:</p>\n\n<pre><code>var MyString: string[100];\n</code></pre>\n  \n  <p>creates a variable called <code>MyString</code>, whose maximum length is 100 characters. This is equivalent to the declarations:</p>\n\n<pre><code>type CString = string[100];\nvar MyString: CString;\n</code></pre>\n  \n  <p>Variables declared in this way allocate only as much memory as the type requires - that is, the specified maximum length plus one byte. In our example, <code>MyString</code> uses 101 bytes, as compared to 256 bytes for a variable of the predefined <a href=\"http://docwiki.embarcadero.com/Libraries/en/System.ShortString\" rel=\"nofollow noreferrer\">ShortString</a> type.</p>\n  \n  <p>When you assign a value to a short-string variable, the string is truncated if it exceeds the maximum length for the type.</p>\n  \n  <p>The standard functions <code>High</code> and <code>Low</code> operate on short-string type identifiers and variables. <code>High</code> returns the maximum length of the short-string type, while <code>Low</code> returns zero. </p>\n</blockquote>\n\n<p>So, try something more like this instead:</p>\n\n<pre><code>[StructLayout(LayoutKind.Sequential)]\npublic struct COPYDATASTRUCT\n{\n    public IntPtr dwData;\n    public int cbData;\n    public IntPtr lpData;\n}\n\n[StructLayout(LayoutKind.Sequential, CharSet = CharSet.Ansi, Pack = 1)]\npublic struct ReturnStruct\n{\n    public int i;\n\n    public byte card_len;\n    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 50)]\n    public string card;\n\n    public byte name_len;\n    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 100)]\n    public string name;\n\n    public byte responsecode_len;\n    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 5)]\n    public string responsecode;\n\n    public byte responsetext_len;\n    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 100)]\n    public string responsetext;\n\n    public byte approval_len;\n    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 15)]\n    public string approval;\n\n    public byte tranid_len;\n    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 50)]\n    public string tranid;\n\n    public byte reference_len;\n    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 16)]\n    public string reference;\n\n    public double d;\n\n    public byte transactionType_len;\n    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 24)]\n    public string transactionType;\n\n    public byte creditCardType_len;\n    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 10)]\n    public string creditCardType;\n\n    public int EMVContact;\n\n    public byte applicationName_len;\n    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 50)]\n    public string applicationName;\n\n    public byte applicationIdentifier_len;\n    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 15)]\n    public string applicationIdentifier;\n\n    public byte reserved_len;\n    [MarshalAs(UnmanagedType.ByValTStr, SizeConst = 10)]\n    public string reserved;\n}\n\npublic ReturnStruct GetReturnStruct()\n{\n    var ret = new ReturnStruct();\n\n    ret.i = ...;\n\n    ret.card = ...;\n    ret.card_len = (byte) Math.Min(System.Text.Encoding.Default.GetByteCount(ret.card), 50);\n\n    ret.name = ...;\n    ret.name_len = (byte) Math.Min(System.Text.Encoding.Default.GetByteCount(ret.name), 100);\n\n    ret.responsecode = ...;\n    ret.responsecode_len = (byte) Math.Min(System.Text.Encoding.Default.GetByteCount(ret.responsecode), 5);\n\n    ret.responsetext = ...;\n    ret.responsetext_len = (byte) Math.Min(System.Text.Encoding.Default.GetByteCount(ret.responsetext), 100);\n\n    ret.approval = ...;\n    ret.approval_len = (byte) Math.Min(System.Text.Encoding.Default.GetByteCount(ret.approval), 15);\n\n    ret.tranid = ...;\n    ret.tranid_len = (byte) Math.Min(System.Text.Encoding.Default.GetByteCount(ret.tranid), 50);\n\n    ret.reference = ...;\n    ret.reference_len = (byte) Math.Min(System.Text.Encoding.Default.GetByteCount(ret.reference), 16);\n\n    ret.d = ...;\n\n    ret.transactionType = ...;\n    ret.transactionType_len = (byte) Math.Min(System.Text.Encoding.Default.GetByteCount(ret.transactionType), 24);\n\n    ret.creditCardType = ...;\n    ret.creditCardType_len = (byte) Math.Min(System.Text.Encoding.Default.GetByteCount(ret.creditCardType), 10);\n\n    ret.EMVContact = ...;\n\n    ret.applicationName = ...;\n    ret.applicationName_len = (byte) Math.Min(System.Text.Encoding.Default.GetByteCount(ret.applicationName), 50);\n\n    ret.applicationIdentifier = ...;\n    ret.applicationIdentifier_len = (byte) Math.Min(System.Text.Encoding.Default.GetByteCount(ret.applicationIdentifier), 15);\n\n    ret.reserved = ...;\n    ret.reserved_len = (byte) Math.Min(System.Text.Encoding.Default.GetByteCount(ret.reserved), 10);\n\n    return ret;\n}\n\npublic static IntPtr IntPtrAlloc&lt;T&gt;(T param)\n{\n    IntPtr retval = Marshal.AllocHGlobal(Marshal.SizeOf(param));\n    Marshal.StructureToPtr(param, retval, false);\n    return retval;\n}\n\npublic static void IntPtrFree(ref IntPtr preAllocated)\n{\n    Marshal.FreeHGlobal(preAllocated);\n    preAllocated = IntPtr.Zero;\n}\n\n[DllImport(\"user32.dll\", CharSet = CharSet.Auto, SetLastError = false)]\npublic static extern int SendMessage(IntPtr hWnd, int uMsg, UIntPtr wParam, IntPtr lParam);\n\npublic void SendFingerPrintResult(string msg)\n{ \n    // get the window to send struct\n    IntPtr receiverHandle = GetWindow();\n    if (receiverHandle == IntPtr.Zero) return;\n\n    // Get the struct\n    ReturnStruct ret = GetReturnStruct();\n    IntPtr ptr = IntPtrAlloc(ret);\n    try\n    {\n        var cds = new COPYDATASTRUCT\n        {\n            dwData = IntPtr.Zero,\n            cbData = Marshal.SizeOf(ret),\n            lpData = ptr\n        };\n\n        IntPtr iPtr = IntPtrAlloc(cds);\n        try\n        {\n            SendMessage(receiverHandle, WM_COPYDATA, senderID, iPtr);\n        }\n        finally\n        {\n            IntPtrFree(ref iPtr);\n        }\n    }\n    finally\n    {\n        IntPtrFree(ref ptr);\n    }\n}\n</code></pre>\n\n<p>You can optionally remove the inner <code>IntPtrAlloc()</code> call by tweaking your <code>SendMessage()</code> definition (see <a href=\"https://stackoverflow.com/questions/6779731/\">C# using SendMessage, problem with WM_COPYDATA</a>):</p>\n\n<pre><code>[DllImport(\"user32.dll\", CharSet = CharSet.Auto, EntryPoint = \"SendMessage\", SetLastError = false)]\npublic static extern int SendMessageCopyData(IntPtr hWnd, int uMsg, UIntPtr wParam, ref COPYDATASTRUCT lParam);\n\npublic void SendFingerPrintResult(string msg)\n{ \n    // get the window to send struct\n    IntPtr receiverHandle = GetWindow();\n    if (receiverHandle == IntPtr.Zero) return;\n\n    // Get the struct\n    ReturnStruct ret = GetReturnStruct();\n    IntPtr ptr = IntPtrAlloc(ret);\n    try\n    {\n        var cds = new COPYDATASTRUCT\n        {\n            dwData = IntPtr.Zero,\n            cbData = Marshal.SizeOf(ret),\n            lpData = ptr\n        };\n\n        SendMessageCopyData(receiverHandle, WM_COPYDATA, senderID, ref cds);\n    }\n    finally\n    {\n        IntPtrFree(ref ptr);\n    }\n}\n</code></pre>\n\n<p>You might also consider writing a custom wrapper to help with the marshalling of ShortString values:</p>\n\n<pre><code>class DelphiShortStringHelper\n{\n    public static void WriteToPtr(string s, ref IntPtr ptr, byte maxChars = 255)\n    {\n        byte[] bytes = System.Text.Encoding.Default.GetBytes(s);\n        int strLen = Math.Min(bytes.Length, (int)maxChars);\n        Marshal.WriteByte(ptr, (byte)strLen);\n        ptr = IntPtr.Add(ptr, 1);\n        Marshal.Copy(bytes, 0, ptr, strLen);\n        ptr = IntPtr.Add(ptr, (int)maxChars);\n    }\n}\n\npublic struct ReturnStruct\n{\n    public int i;\n    public string card;\n    public string name;\n    public string responsecode;\n    public string responsetext;\n    public string approval;\n    public string tranid;\n    public string reference;\n    public double d;\n    public string transactionType;\n    public string creditCardType;\n    public int EMVContact;\n    public string applicationName;\n    public string applicationIdentifier;\n    public string reserved;\n\n    public IntPtr ToPtr()\n    {\n        IntPtr ret = Marshal.AllocHGlobal(473);\n\n        IntPtr ptr = ret;\n        Marshal.WriteInt32(ptr, i); ptr = IntPtr.Add(ptr, 4);\n        DelphiShortStringHelper.WriteToPtr(card, ref ptr, 50);\n        DelphiShortStringHelper.WriteToPtr(name, ref ptr, 100);\n        DelphiShortStringHelper.WriteToPtr(responsecode, ref ptr, 5);\n        DelphiShortStringHelper.WriteToPtr(responsetext, ref ptr, 100);\n        DelphiShortStringHelper.WriteToPtr(approval, ref ptr, 15);\n        DelphiShortStringHelper.WriteToPtr(tranid, ref ptr, 50);\n        DelphiShortStringHelper.WriteToPtr(reference, ref ptr, 16);\n        Marshal.Copy(new double[]{d}, 0, ptr, 1); ptr = IntPtr.Add(ptr, 8);\n        DelphiShortStringHelper.WriteToPtr(transactionType, ref ptr, 24);\n        DelphiShortStringHelper.WriteToPtr(creditCardType, ref ptr, 10);\n        Marshal.WriteInt32(ptr, EMVContact); ptr = IntPtr.Add(ptr, 4);\n        DelphiShortStringHelper.WriteToPtr(applicationName, ref ptr, 50);\n        DelphiShortStringHelper.WriteToPtr(applicationIdentifier, ref ptr, 15);\n        DelphiShortStringHelper.WriteToPtr(reserved, ref ptr, 10);\n\n        return ret;\n    }\n}\n\npublic ReturnStruct GetReturnStruct()\n{\n    var ret = new ReturnStruct();\n\n    ret.i = ...;\n    ret.card = ...;\n    ret.name = ...;\n    ret.responsecode = ...;\n    ret.responsetext = ...;\n    ret.approval = ...;\n    ret.tranid = ...;\n    ret.reference = ...;\n    ret.d = ...;\n    ret.transactionType = ...;\n    ret.creditCardType = ...;\n    ret.EMVContact = ...;\n    ret.applicationName = ...;\n    ret.applicationIdentifier = ...;\n    ret.reserved = ...;\n\n    return ret;\n}\n\npublic void SendFingerPrintResult(string msg)\n{ \n    // get the window to send struct\n    IntPtr receiverHandle = GetWindow();\n    if (receiverHandle == IntPtr.Zero) return;\n\n    // Get the struct\n    ReturnStruct ret = GetReturnStruct();\n    IntPtr ptr = ret.ToPtr();\n    try\n    {\n        ...\n    }\n    finally\n    {\n        Marshal.FreeHGlobal(ptr);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6287399, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4977cd3ebab8a79970914e3b1cc6fc78?s=128&d=identicon&r=PG&f=1", "display_name": "Gkush", "link": "https://stackoverflow.com/users/6287399/gkush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 1, "accepted_answer_id": 53525405, "answer_count": 1, "score": 2, "last_activity_date": 1543510116, "creation_date": 1543422821, "last_edit_date": 1543510116, "question_id": 53524101, "link": "https://stackoverflow.com/questions/53524101/marshall-struct-to-pass-it-to-delphi-record-via-sendmessage", "title": "Marshall struct to pass it to delphi record via sendmessage", "body": "<p>I am trying to pass a struct to delphi via c#, I have done following to pass the message, I followed the format from pinvoke to copy datat struct from <a href=\"https://www.pinvoke.net/default.aspx/Structures.COPYDATASTRUCT\" rel=\"nofollow noreferrer\">https://www.pinvoke.net/default.aspx/Structures.COPYDATASTRUCT</a>, but on delphi I am receiving no messages. In a way I believe it is because I haven't encoded the struct in a right way. When I pass a string message only, I receive it, but when I try passing the struct, there is nothing</p>\n\n<p>This is what I have done so far.</p>\n\n<pre><code>using System;\n\nusing System.Runtime.InteropServices;\n\nusing System.Windows.Forms;\n\nnamespace ccTestForm2\n{\npublic partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n        SendFingerPrintResult();\n    }\n    const int WM_COPYDATA = 0x004A;\n    //include SendMessage\n    [DllImport(\"user32.dll\")]\n    public static extern IntPtr FindWindow(string lpszClass, string \n  lpszWindow);\n    [DllImport(\"user32.dll\", CharSet = CharSet.Ansi, EntryPoint = \"SendMessage\", SetLastError = false)]\n    public static extern int SendMessageCopyData(IntPtr hWnd, int uMsg, UIntPtr wParam, ref COPYDATASTRUCT lParam);\n    [StructLayout(LayoutKind.Sequential)]\n    public struct COPYDATASTRUCT\n    {\n        public IntPtr dwData;\n        public int cbData;\n        public IntPtr lpData;\n    }\n\n    public struct ReturnStruct\n    {\n        public int i;\n        public string card;\n        public string name;\n        public string responsecode;\n        public string responsetext;\n        public string approval;\n        public string tranid;\n        public string reference;\n        public double d;\n        public string transactionType;\n        public string creditCardType;\n        public int EMVContact;\n        public string applicationName;\n        public string applicationIdentifier;\n        public string reserved;\n\n        public IntPtr ToPtr()\n        {\n            IntPtr ret = Marshal.AllocHGlobal(473);\n\n            IntPtr ptr = ret;\n            Marshal.WriteInt32(ptr, i); ptr = IntPtr.Add(ptr, 4);\n            DelphiShortStringHelper.WriteToPtr(card, ref ptr, 50);\n            DelphiShortStringHelper.WriteToPtr(name, ref ptr, 100);\n            DelphiShortStringHelper.WriteToPtr(responsecode, ref ptr, 5);\n            DelphiShortStringHelper.WriteToPtr(responsetext, ref ptr, 100);\n            DelphiShortStringHelper.WriteToPtr(approval, ref ptr, 15);\n            DelphiShortStringHelper.WriteToPtr(tranid, ref ptr, 50);\n            DelphiShortStringHelper.WriteToPtr(reference, ref ptr, 16);\n            Marshal.Copy(new double[] { d }, 0, ptr, 1); ptr = IntPtr.Add(ptr, 8);\n            DelphiShortStringHelper.WriteToPtr(transactionType, ref ptr, 24);\n            DelphiShortStringHelper.WriteToPtr(creditCardType, ref ptr, 10);\n            Marshal.WriteInt32(ptr, EMVContact); ptr = IntPtr.Add(ptr, 4);\n            DelphiShortStringHelper.WriteToPtr(applicationName, ref ptr, 50);\n            DelphiShortStringHelper.WriteToPtr(applicationIdentifier, ref ptr, 15);\n            DelphiShortStringHelper.WriteToPtr(reserved, ref ptr, 10);\n\n            return ret;\n        }\n    }\n\n    public ReturnStruct GetReturnStruct()\n    {\n        var ret = new ReturnStruct();\n\n        ret.i = 2;\n\n        ret.card = \"1234\";\n\n        ret.name = \"test\";\n\n        ret.responsecode = \"mese\";\n\n        ret.responsetext = \"dork\";\n\n        ret.approval = \"Plerk\";\n\n\n        ret.tranid = \"pse\";\n\n        ret.reference = \"Ig\";\n\n\n        ret.d = DateTime.UtcNow.ToOADate();\n\n        ret.transactionType = \"cit\";\n\n\n        ret.creditCardType = \"t2\";\n\n\n        ret.EMVContact = 0;\n\n        ret.applicationName = \"mpp\";\n\n\n        ret.applicationIdentifier = \"nne\";\n\n\n        ret.reserved = \"12\";\n\n        return ret;\n    }\n\n    public void SendFingerPrintResult()\n    {\n        // get the window to send struct\n        IntPtr receiverHandle = FindWindow(\"TReceiverMainForm\", \"ReceiverMainForm\");\n        if (receiverHandle == IntPtr.Zero) return;\n\n        // Get the struct\n        ReturnStruct ret = GetReturnStruct();\n        IntPtr ptr = ret.ToPtr();\n        try\n        {\n            var cds = new COPYDATASTRUCT\n            {\n                dwData = IntPtr(2), // to identify the message contents\n                cbData = Marshal.SizeOf(ret),\n                lpData = ptr\n            };\n            SendMessageCopyData(receiverHandle, WM_COPYDATA, UIntPtr.Zero, ref cds);\n        }\n        finally\n        {\n            Marshal.FreeHGlobal(ptr);\n        }\n    }\n}\nclass DelphiShortStringHelper\n{\n    public static void WriteToPtr(string s, ref IntPtr ptr, byte maxChars = 255)\n    {\n        byte[] bytes = System.Text.Encoding.Default.GetBytes(s);\n        int strLen = Math.Min(bytes.Length, (int)maxChars);\n        Marshal.WriteByte(ptr, (byte)strLen);\n        ptr = IntPtr.Add(ptr, 1);\n        Marshal.Copy(bytes, 0, ptr, strLen);\n        ptr = IntPtr.Add(ptr, (int)maxChars);\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "azure-functions", "servicebus", "azure-servicebus-topics"], "comments": [{"owner": {"reputation": 245, "user_id": 6012159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-g9S_iTd5_6E/AAAAAAAAAAI/AAAAAAAACqM/JxdxKO2XZQg/photo.jpg?sz=128", "display_name": "Jamie Peacock", "link": "https://stackoverflow.com/users/6012159/jamie-peacock"}, "edited": false, "score": 0, "creation_date": 1559765049, "post_id": 53524051, "comment_id": 99525974, "body": "Did you get anywhere with this in the end? I am having the same problem right now"}, {"owner": {"reputation": 830, "user_id": 7025662, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/bfe4e63b49cebe9e84eb638a455e1ebc?s=128&d=identicon&r=PG&f=1", "display_name": "scorpion5211", "link": "https://stackoverflow.com/users/7025662/scorpion5211"}, "reply_to_user": {"reputation": 245, "user_id": 6012159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-g9S_iTd5_6E/AAAAAAAAAAI/AAAAAAAACqM/JxdxKO2XZQg/photo.jpg?sz=128", "display_name": "Jamie Peacock", "link": "https://stackoverflow.com/users/6012159/jamie-peacock"}, "edited": false, "score": 0, "creation_date": 1560833982, "post_id": 53524051, "comment_id": 99854439, "body": "@JamiePeacock I would comment on here <a href=\"https://github.com/Azure/Azure-Functions/issues/1052\" rel=\"nofollow noreferrer\">github.com/Azure/Azure-Functions/issues/1052</a> so msft people can look into it"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 7797041, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ald55LNinXs/AAAAAAAAAAI/AAAAAAAAAMc/ATEwgZ1YnOs/photo.jpg?sz=128", "display_name": "Sindre R&#248;bekk Hagerup", "link": "https://stackoverflow.com/users/7797041/sindre-r%c3%b8bekk-hagerup"}, "edited": false, "score": 0, "creation_date": 1543483605, "post_id": 53524441, "comment_id": 93938884, "body": "While that would work (as would using any of the other Content-Type variations confirmed working), I am not in control of message generation, so we are unfortunately unable to specify the charset"}], "tags": [], "owner": {"reputation": 8415, "user_id": 505990, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/QaLn2.jpg?s=128&g=1", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/505990/leonardo"}, "is_accepted": false, "score": 1, "last_activity_date": 1543424017, "creation_date": 1543424017, "answer_id": 53524441, "question_id": 53524051, "link": "https://stackoverflow.com/questions/53524051/servicebustrigger-message-not-able-to-read-brokeredmessages-due-to-content-type/53524441#53524441", "title": "ServiceBusTrigger Message not able to read BrokeredMessages due to content type", "body": "<p>Have you tried to specify the encoding along with the content type? like: <code>Content-Type: text/plain;charset=unicode</code></p>\n"}], "owner": {"reputation": 61, "user_id": 7797041, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ald55LNinXs/AAAAAAAAAAI/AAAAAAAAAMc/ATEwgZ1YnOs/photo.jpg?sz=128", "display_name": "Sindre R&#248;bekk Hagerup", "link": "https://stackoverflow.com/users/7797041/sindre-r%c3%b8bekk-hagerup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1371, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1543483730, "creation_date": 1543422626, "last_edit_date": 1543483730, "question_id": 53524051, "link": "https://stackoverflow.com/questions/53524051/servicebustrigger-message-not-able-to-read-brokeredmessages-due-to-content-type", "title": "ServiceBusTrigger Message not able to read BrokeredMessages due to content type", "body": "<p><em>C# .NET Core Azure Functions v2; Microsoft.Azure.ServiceBus 3.2.0, Microsoft.Azure.WebJobs 3.0.2, Microsoft.Azure.WebJobs.Extensions.ServiceBus 3.0.1</em></p>\n\n<p>We receive BrokeredMessages posted using the old ServiceBus packages (<em>WindowsAzure.ServiceBus, Microsoft.ServiceBus</em>), <em>Content-Type: text/plain</em>.</p>\n\n<p>We use ServiceBusTrigger in the azure function to consume:</p>\n\n<pre><code>[ServiceBusTrigger(\"topic\", \"subscription\", Connection = \"appsetting\")]Message message,\n</code></pre>\n\n<p>When attempting to consume from topic using new package </p>\n\n<p>(<em>microsoft.azure.servicebus</em>) we encounter the following error:</p>\n\n<blockquote>\n  <p>System.Private.CoreLib: Exception while executing function: Function1. Microsoft.Azure.WebJobs.Host: Exception binding parameter 'message'. System.Private.CoreLib: Unable to translate bytes [99] at index 60 from specified code page to Unicode.</p>\n</blockquote>\n\n<p>This error occurs even if we attempt to use other types instead of <em>Message</em>, such as <em>string</em>, <em>byte[]</em> and custom types.</p>\n\n<p>The issue seems to be the <em>Content-Type</em>:</p>\n\n<blockquote>\n  <p>Content-Type: text/plain</p>\n</blockquote>\n\n<p>Other BrokeredMessage combinations seem to work properly (where none is empty Content-Type);\nstream+none, stream+text/plain, string+none and string+text/plain;charset=unicode.</p>\n\n<p>We may be able to circumvent this (untested) in our webjobs, as we can access MessageReceiver or other ServiceBus configurations at runtime to handle this, but so far we have been unable to find any solution or method to handle this for Azure Functions as the framework throws an error before we are inside the function.</p>\n\n<p>Have anyone else encountered this error? Is my current approach wrong?</p>\n\n<p><strong><em>We are not in control of the message generation, so we are unable to easily change that.</em></strong></p>\n\n<p>Others have different issues with similar configuration: <a href=\"https://stackoverflow.com/q/52419414/7797041\">BrokeredMessage send and Message consumer in Azure Function v2</a></p>\n"}, {"tags": ["c#", "asp.net", ".net", "memorystream", "flexcel"], "comments": [{"owner": {"reputation": 2239, "user_id": 1473412, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7ac8599add0ace676200f6d50d6d2ff1?s=128&d=identicon&r=PG", "display_name": "Gravitate", "link": "https://stackoverflow.com/users/1473412/gravitate"}, "edited": false, "score": 0, "creation_date": 1543423584, "post_id": 53524043, "comment_id": 93917488, "body": "In what way does it &quot;not work&quot;? what error do you receive? On which line in particular? Please provide more info so that people can better help you. This might be of help to you: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 1, "user_id": 8238414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nKq0j.jpg?s=128&g=1", "display_name": "Ronivaldo Roner", "link": "https://stackoverflow.com/users/8238414/ronivaldo-roner"}, "reply_to_user": {"reputation": 2239, "user_id": 1473412, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7ac8599add0ace676200f6d50d6d2ff1?s=128&d=identicon&r=PG", "display_name": "Gravitate", "link": "https://stackoverflow.com/users/1473412/gravitate"}, "edited": false, "score": 0, "creation_date": 1543423947, "post_id": 53524043, "comment_id": 93917716, "body": "It does not contain error, the file is only empty."}], "owner": {"reputation": 1, "user_id": 8238414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nKq0j.jpg?s=128&g=1", "display_name": "Ronivaldo Roner", "link": "https://stackoverflow.com/users/8238414/ronivaldo-roner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543476250, "creation_date": 1543422600, "last_edit_date": 1543476250, "question_id": 53524043, "link": "https://stackoverflow.com/questions/53524043/memorystreamxls-to-pdf", "title": "MemoryStream(Xls) to PDF", "body": "<p>I'm using the library FlexCel and need to convert a <code>MemoryStream</code> (Xls Type) to PDF. I tried this form but not work.</p>\n\n<pre><code>oFlexCelReport.Run(oTemplateMemoryStream, oOutMemoryStream);\noOutMemoryStream.Seek(0, SeekOrigin.Begin);\nusing (FlexCelPdfExport pdf = new FlexCelPdfExport(oXlsFile, true))\n{\n    pdf.Export(oOutMemoryStream);\n}\n</code></pre>\n"}]