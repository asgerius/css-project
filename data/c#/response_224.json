[{"tags": ["c#", ".net", "regex", "path", "directory"], "comments": [{"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 2, "creation_date": 1556150419, "post_id": 55840051, "comment_id": 98343641, "body": "What have you tried, because this is not particularly hard, and there is no need for regex"}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 1, "creation_date": 1556150770, "post_id": 55840051, "comment_id": 98343685, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.directory.getfiles?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>Directory.GetFiles</code></a> would be a relevant place to start. While a Regex can be used, it&#39;s not required. Also see <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.path.getfilename?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>Path.GetFileName</code></a> and <code>String.StartsWith</code>, etc (remember that files are case-insensitive on Windows, although such is not relevant for numbers). I would probably use Single from LINQ for the filter as it&#39;ll trivially abort on &#39;oops&#39; cases."}, {"owner": {"reputation": 1141, "user_id": 1367497, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c1ab83696683e53a9940cd2a8c480894?s=128&d=identicon&r=PG", "display_name": "peeyush singh", "link": "https://stackoverflow.com/users/1367497/peeyush-singh"}, "edited": false, "score": 0, "creation_date": 1556156344, "post_id": 55840051, "comment_id": 98344627, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/163162/can-you-call-directory-getfiles-with-multiple-filters\">Can you call Directory.GetFiles() with multiple filters?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "is_accepted": true, "score": 3, "last_activity_date": 1556153376, "creation_date": 1556153376, "answer_id": 55840364, "question_id": 55840051, "link": "https://stackoverflow.com/questions/55840051/how-to-access-directories-with-pattern-number-name-by-number-only/55840364#55840364", "title": "How to access directories with Pattern ( NUMBER.NAME ) by number only", "body": "<p>The best approach for figuring out something, is to start googling and reading the documentation </p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.directory.getdirectories?view=netframework-4.8#System_IO_Directory_GetDirectories_System_String_System_String_\" rel=\"nofollow noreferrer\">GetDirectories(String, String)</a></p>\n\n<blockquote>\n  <p>Returns the names of subdirectories (including their paths) that match\n  the specified search pattern in the specified directory.</p>\n  \n  <hr>\n  \n  <p><code>searchPattern</code> can be a combination of literal and wildcard\n  characters, but it doesn't support regular expressions. The following\n  wildcard specifiers are permitted in <code>searchPattern</code>.</p>\n  \n  <p><strong>Wildcard specifier  Matches</strong></p>\n  \n  <ul>\n  <li><code>*</code> (asterisk)  Zero or more characters in that position.</li>\n  <li><code>?</code> (question mark) Zero or one character in that position.</li>\n  </ul>\n</blockquote>\n\n<p>So here is a little method that can help you</p>\n\n<pre><code>  public string GetFolder(string index, string path)\n     =&gt; Directory.GetDirectories(path, $\"{index}.*\")\n                 .FirstOrDefault();\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>var dir = GetFolder(\"0001\", @\"C:\\MyHomeWorkFolder\");\n\nif(dir != null)\n   // we have found something\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 11406531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/953d90ee15e4abc13c47c7240efbdf74?s=128&d=identicon&r=PG&f=1", "display_name": "kokowawa", "link": "https://stackoverflow.com/users/11406531/kokowawa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 55840364, "answer_count": 1, "score": -1, "last_activity_date": 1556153376, "creation_date": 1556150345, "last_edit_date": 1556151488, "question_id": 55840051, "link": "https://stackoverflow.com/questions/55840051/how-to-access-directories-with-pattern-number-name-by-number-only", "title": "How to access directories with Pattern ( NUMBER.NAME ) by number only", "body": "<p>I have directories for example with this pattern:</p>\n\n<ul>\n<li><p>0001.MyFolder</p></li>\n<li><p>0002.MyFolder2</p></li>\n<li><p>0003.MyFolder3</p></li>\n</ul>\n\n<p>Inputs is only number of directory ( example enter 0002 -> then get items in MyFolder 3)</p>\n\n<p>and how to return path of directory by its number ?\nexample : enter 0002 return C:\\MyPath\\0002.MyFolder2</p>\n\n<p>The pattern is </p>\n\n<p>Number (dot) String</p>\n\n<p>So i need access any directory by the number before dot.</p>\n"}, {"tags": ["c#", "asp.net-mvc-5", "cultureinfo", "resx"], "comments": [{"owner": {"reputation": 3419, "user_id": 3715778, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ecfe74090d7f2a9ba912f65ae33f83be?s=128&d=identicon&r=PG&f=1", "display_name": "koryakinp", "link": "https://stackoverflow.com/users/3715778/koryakinp"}, "edited": false, "score": 1, "creation_date": 1556157595, "post_id": 55839992, "comment_id": 98344864, "body": "spanish .resx file should *.es.resx, not *.sp.resx"}, {"owner": {"reputation": 23092, "user_id": 26327, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8bc8c43c5ccc7e045c7158cb303ff107?s=128&d=identicon&r=PG", "display_name": "Michael Kniskern", "link": "https://stackoverflow.com/users/26327/michael-kniskern"}, "reply_to_user": {"reputation": 3419, "user_id": 3715778, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ecfe74090d7f2a9ba912f65ae33f83be?s=128&d=identicon&r=PG&f=1", "display_name": "koryakinp", "link": "https://stackoverflow.com/users/3715778/koryakinp"}, "edited": false, "score": 0, "creation_date": 1556210223, "post_id": 55839992, "comment_id": 98369475, "body": "I renamed my files to the appropriate <code>CultureInfo</code> value.  Thanks for the suggestion"}], "answers": [{"comments": [{"owner": {"reputation": 23092, "user_id": 26327, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8bc8c43c5ccc7e045c7158cb303ff107?s=128&d=identicon&r=PG", "display_name": "Michael Kniskern", "link": "https://stackoverflow.com/users/26327/michael-kniskern"}, "edited": false, "score": 0, "creation_date": 1556153732, "post_id": 55840174, "comment_id": 98344170, "body": "When I switched to <code>CurrentUICulture</code> property, it is still using the english ErrorMessages.resx file.  I need my app to know when <code>CurrentUICulture = &quot;es-US&quot;</code> use the ErrorMessages.sp.resx"}, {"owner": {"reputation": 23092, "user_id": 26327, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8bc8c43c5ccc7e045c7158cb303ff107?s=128&d=identicon&r=PG", "display_name": "Michael Kniskern", "link": "https://stackoverflow.com/users/26327/michael-kniskern"}, "edited": false, "score": 0, "creation_date": 1556209711, "post_id": 55840174, "comment_id": 98369257, "body": "I did get it to work.  I modified my code to the following: <code>Thread.CurrrentThread.CurrentUICulture = CultureInfo.GetCultureInfo(&quot;es-US&quot;);</code>"}, {"owner": {"reputation": 3419, "user_id": 3715778, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ecfe74090d7f2a9ba912f65ae33f83be?s=128&d=identicon&r=PG&f=1", "display_name": "koryakinp", "link": "https://stackoverflow.com/users/3715778/koryakinp"}, "reply_to_user": {"reputation": 23092, "user_id": 26327, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8bc8c43c5ccc7e045c7158cb303ff107?s=128&d=identicon&r=PG", "display_name": "Michael Kniskern", "link": "https://stackoverflow.com/users/26327/michael-kniskern"}, "edited": false, "score": 0, "creation_date": 1556210083, "post_id": 55840174, "comment_id": 98369415, "body": "@MichaelKniskern why do not you post an answer, so others can benefit from it too ?"}, {"owner": {"reputation": 23092, "user_id": 26327, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8bc8c43c5ccc7e045c7158cb303ff107?s=128&d=identicon&r=PG", "display_name": "Michael Kniskern", "link": "https://stackoverflow.com/users/26327/michael-kniskern"}, "edited": false, "score": 0, "creation_date": 1556210264, "post_id": 55840174, "comment_id": 98369499, "body": "I just updated the question with what I did to get it to work."}, {"owner": {"reputation": 3419, "user_id": 3715778, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ecfe74090d7f2a9ba912f65ae33f83be?s=128&d=identicon&r=PG&f=1", "display_name": "koryakinp", "link": "https://stackoverflow.com/users/3715778/koryakinp"}, "reply_to_user": {"reputation": 23092, "user_id": 26327, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8bc8c43c5ccc7e045c7158cb303ff107?s=128&d=identicon&r=PG", "display_name": "Michael Kniskern", "link": "https://stackoverflow.com/users/26327/michael-kniskern"}, "edited": false, "score": 0, "creation_date": 1556210395, "post_id": 55840174, "comment_id": 98369565, "body": "@MichaelKniskern, you suppose to post it as an answer, not add an answer to the body of the question."}], "tags": [], "owner": {"reputation": 3419, "user_id": 3715778, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ecfe74090d7f2a9ba912f65ae33f83be?s=128&d=identicon&r=PG&f=1", "display_name": "koryakinp", "link": "https://stackoverflow.com/users/3715778/koryakinp"}, "is_accepted": false, "score": 1, "last_activity_date": 1556157536, "last_edit_date": 1556157536, "creation_date": 1556151510, "answer_id": 55840174, "question_id": 55839992, "link": "https://stackoverflow.com/questions/55839992/map-appropriate-resource-resx-file-in-code-asp-net-mvc/55840174#55840174", "title": "Map appropriate Resource (.resx) file in code - ASP.NET MVC", "body": "<p>Spanish .resx file should be *.es.resx, not *.sp.resx.</p>\n\n<p>In order to resolve translations from an appropriate <strong>.resx</strong> file you need to assign <code>Thread.CurrentThread.CurrentUICulture</code>, not <code>Thread.CurrentThread.CurrentCulture</code></p>\n"}, {"tags": [], "owner": {"reputation": 23092, "user_id": 26327, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8bc8c43c5ccc7e045c7158cb303ff107?s=128&d=identicon&r=PG", "display_name": "Michael Kniskern", "link": "https://stackoverflow.com/users/26327/michael-kniskern"}, "is_accepted": false, "score": 1, "last_activity_date": 1556211245, "creation_date": 1556211245, "answer_id": 55854228, "question_id": 55839992, "link": "https://stackoverflow.com/questions/55839992/map-appropriate-resource-resx-file-in-code-asp-net-mvc/55854228#55854228", "title": "Map appropriate Resource (.resx) file in code - ASP.NET MVC", "body": "<p>Using @Koryakinp suggestion, I modified the controller code to the following:</p>\n\n<pre><code>var language = HttpContext.Request.Cookies[\"language\"].Value;\n\nif(language.Equals(\"english\"))\n{\n    HttpContext.Session[\"culture\"] = \"en-US\";\n    Thread.CurrentThread.CurrentUICulture = CultureInfo.GetCultureInfo(\"en-US\");\n}\n</code></pre>\n\n<p>Also, I had to restructure the .resx files. I created a .resx named \"ErrorMessages\" as the base .resx and renamed the existing .resx files:</p>\n\n<p><code>ErrorMessages.resx</code><br /> \n<code>ErrorMessages.en-US.resx</code><br /> \n<code>ErrorMessages.es-US.resx</code></p>\n"}], "owner": {"reputation": 23092, "user_id": 26327, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8bc8c43c5ccc7e045c7158cb303ff107?s=128&d=identicon&r=PG", "display_name": "Michael Kniskern", "link": "https://stackoverflow.com/users/26327/michael-kniskern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1556211268, "creation_date": 1556149825, "last_edit_date": 1556211268, "question_id": 55839992, "link": "https://stackoverflow.com/questions/55839992/map-appropriate-resource-resx-file-in-code-asp-net-mvc", "title": "Map appropriate Resource (.resx) file in code - ASP.NET MVC", "body": "<p>I have the following resource files in my ASP.NET MVC application to stored form validation error message for both English and Spanish</p>\n\n<p><code>ErrorMessages.resx</code> -- English Error Messages<br />\n<code>ErrorMessages.sp.resx</code> -- Spanish Error Messages</p>\n\n<p>In my models that require the <code>System.ComponentModel.DataAnnotations</code> Required Attributes they are marked like this:</p>\n\n<pre><code>[Required(ErrorMessageResourceType = typeof(ErrorMessages), ErrorMessageResourceName)]\npublic string MyProperty { get; set; }\n</code></pre>\n\n<p>In my controller, I am reading a JavaScript cookie that contains the user's selected language on the site and programmatically set the 'CultureInfo' of the current thread and the HTTP session:</p>\n\n<pre><code>public ActionResult MyController() \n{\n    var language = HttpContext.Request.Cookies[\"language\"].Value;\n\n    if(language.Equals(\"english\")) \n    {\n        HttpContext.Session[\"culture\"] = \"en-US\";\n        Thread.CurrentThread.CurrentCulture = new CultureInfo(\"en-US\");\n    }\n    else \n    {\n        HttpContext.Session[\"culture\"] = \"es-US\";\n        Thread.CurrentThread.CurrentCulture = new CultureInfo(\"es-US\");\n    }\n}  \n</code></pre>\n\n<p>How do I set the appropriate resource file once the CultureInfo value has been modified?</p>\n"}, {"tags": ["c#", "asp.net", "checkboxlist", "listitem"], "comments": [{"owner": {"reputation": 2307, "user_id": 1322204, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hRcJT.jpg?s=128&g=1", "display_name": "Sujit.Warrier", "link": "https://stackoverflow.com/users/1322204/sujit-warrier"}, "edited": false, "score": 0, "creation_date": 1556159114, "post_id": 55839964, "comment_id": 98345133, "body": "in which event are you doing this&gt;?"}, {"owner": {"reputation": 2307, "user_id": 1322204, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hRcJT.jpg?s=128&g=1", "display_name": "Sujit.Warrier", "link": "https://stackoverflow.com/users/1322204/sujit-warrier"}, "edited": false, "score": 0, "creation_date": 1556159149, "post_id": 55839964, "comment_id": 98345140, "body": "in item databound event you should be able to do this"}], "answers": [{"tags": [], "owner": {"reputation": 1280, "user_id": 1973651, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jvzoF.jpg?s=128&g=1", "display_name": "Circle Hsiao", "link": "https://stackoverflow.com/users/1973651/circle-hsiao"}, "is_accepted": true, "score": 0, "last_activity_date": 1556163206, "creation_date": 1556163206, "answer_id": 55841433, "question_id": 55839964, "link": "https://stackoverflow.com/questions/55839964/asplistitem-item-to-be-auto-checked-in-a-checkboxlist/55841433#55841433", "title": "asp:ListItem item to be auto checked in a CheckBoxList", "body": "<p>I suppose you wanna check particular item depends on the value instead of the <code>CheckBoxList</code> itself.</p>\n\n<p>Therefore, what you want should be something like</p>\n\n<pre><code>foreach (ListItem item in CB_Test.Items)\n{\n    if (item.Value == \"3\")\n        item.Selected = true;\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 10985822, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QUNKFyqpavs/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNB5GlNH-kASg_MhfSbzQ1eorznyQ/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10985822/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 55841433, "answer_count": 1, "score": 0, "last_activity_date": 1556163206, "creation_date": 1556149559, "question_id": 55839964, "link": "https://stackoverflow.com/questions/55839964/asplistitem-item-to-be-auto-checked-in-a-checkboxlist", "title": "asp:ListItem item to be auto checked in a CheckBoxList", "body": "<p>How to only auto check option 3 if the if statement below is true?\nI have the following in my .aspx:</p>\n\n<pre><code>&lt;asp:CheckBoxList ID=\"CB_Test\" runat=\"server\"&gt;\n&lt;asp:ListItem Text=\"Opt 1\" Value=\"1\" /&gt;\n&lt;asp:ListItem Text=\"Opt 2\" Value=\"2\" /&gt;\n&lt;asp:ListItem Text=\"Opt 3\" Value=\"3\" /&gt;\n&lt;/asp:CheckBoxList&gt;\n</code></pre>\n\n<p>In the .aspx.cs page, </p>\n\n<pre><code>if(variable = \"3\")\nCB_Test.Checked = true;\n</code></pre>\n\n<p>The above is not working for me.</p>\n"}, {"tags": ["c#", ".net-core", "identityserver4"], "comments": [{"owner": {"reputation": 5009, "user_id": 2153329, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dehnC.gif?s=128&g=1", "display_name": "Mashton", "link": "https://stackoverflow.com/users/2153329/mashton"}, "edited": false, "score": 0, "creation_date": 1556204534, "post_id": 55839945, "comment_id": 98366442, "body": "Just a comment, the example you give for getting an access token is for machine-to-machine communication (i.e.a client) rather than what you&#39;d want to use for a user logging in. With the user logging in grant types (password, hybrid, implicit ...) you would then be able to make user_info calls to identity server to get details about the user. The access token from a client_credentials call will have absolutely no context about a user (user id etc) as you&#39;ve noticed."}, {"owner": {"reputation": 187, "user_id": 8045161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86b54a081aaf209aadd8a65ba2f878f?s=128&d=identicon&r=PG&f=1", "display_name": "Igotcha", "link": "https://stackoverflow.com/users/8045161/igotcha"}, "reply_to_user": {"reputation": 5009, "user_id": 2153329, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/dehnC.gif?s=128&g=1", "display_name": "Mashton", "link": "https://stackoverflow.com/users/2153329/mashton"}, "edited": false, "score": 0, "creation_date": 1556295806, "post_id": 55839945, "comment_id": 98403070, "body": "Yes, that was just an example what I understood of the quickstarts and that is is explicitely for m2m communication."}], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 8045161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86b54a081aaf209aadd8a65ba2f878f?s=128&d=identicon&r=PG&f=1", "display_name": "Igotcha", "link": "https://stackoverflow.com/users/8045161/igotcha"}, "edited": false, "score": 0, "creation_date": 1556186384, "post_id": 55846054, "comment_id": 98355302, "body": "Thanks, the &quot;both use the same user store&quot; was the link I was missing."}, {"owner": {"reputation": 4287, "user_id": 9073130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df7314c5520f5570313a2156d005f14?s=128&d=identicon&r=PG&f=1", "display_name": "Vidmantas Blazevicius", "link": "https://stackoverflow.com/users/9073130/vidmantas-blazevicius"}, "reply_to_user": {"reputation": 187, "user_id": 8045161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86b54a081aaf209aadd8a65ba2f878f?s=128&d=identicon&r=PG&f=1", "display_name": "Igotcha", "link": "https://stackoverflow.com/users/8045161/igotcha"}, "edited": false, "score": 0, "creation_date": 1556187132, "post_id": 55846054, "comment_id": 98355779, "body": "@Igotcha no problems, you are welcome, mark the answer as accepted if it has helped you."}, {"owner": {"reputation": 1487, "user_id": 2298251, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/HXIk8.jpg?s=128&g=1", "display_name": "Ariel", "link": "https://stackoverflow.com/users/2298251/ariel"}, "edited": false, "score": 0, "creation_date": 1579598537, "post_id": 55846054, "comment_id": 105810115, "body": "Exactly what I needed..."}], "tags": [], "owner": {"reputation": 4287, "user_id": 9073130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df7314c5520f5570313a2156d005f14?s=128&d=identicon&r=PG&f=1", "display_name": "Vidmantas Blazevicius", "link": "https://stackoverflow.com/users/9073130/vidmantas-blazevicius"}, "is_accepted": true, "score": 2, "last_activity_date": 1556184721, "creation_date": 1556184721, "answer_id": 55846054, "question_id": 55839945, "link": "https://stackoverflow.com/questions/55839945/identityserver4-storing-and-accessing-user-credentials-in-a-distributed-applicat/55846054#55846054", "title": "IdentityServer4 storing and accessing user credentials in a distributed application scenario", "body": "<blockquote>\n  <p>My understanding problem now is where I store my user data?</p>\n</blockquote>\n\n<p>The <code>User</code>, <code>Client</code> and <code>Resource</code> stores are really up to you to implement whichever way you choose. Identity Server 4 comes with EF Core &amp; ASP.Net Identity support out of the box so if you choose to use database for your persistence layer implementation.</p>\n\n<blockquote>\n  <p>But how does the separate IdentityServer service learn from my users\n  and how does it access them?</p>\n</blockquote>\n\n<p>Well, if for example you choose to go with ASP.NET Identity system for your user management, then all you would need to is to point the Identity Server to the same database as your user registration web app (it may even be the same app as well). In general, the user store that identity server uses for the purposes of user profile data &amp; credential verification will have to be the same as whatever you choose to implement your user registration platform on. </p>\n\n<blockquote>\n  <p>For example, I need the IdentityServer to send additional information\n  (claims) with the token.</p>\n</blockquote>\n\n<p>This is not really a problem, you might need to implement custom <code>IProfileService</code> and <code>GetProfileDataAsync</code> in order to control the custom claims that are issued. More info at <a href=\"http://docs.identityserver.io/en/latest/reference/profileservice.html\" rel=\"nofollow noreferrer\">IdentityServer4 docs</a>. </p>\n"}], "owner": {"reputation": 187, "user_id": 8045161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86b54a081aaf209aadd8a65ba2f878f?s=128&d=identicon&r=PG&f=1", "display_name": "Igotcha", "link": "https://stackoverflow.com/users/8045161/igotcha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 942, "favorite_count": 0, "closed_date": 1556202584, "accepted_answer_id": 55846054, "answer_count": 1, "score": 0, "last_activity_date": 1556184721, "creation_date": 1556149338, "question_id": 55839945, "link": "https://stackoverflow.com/questions/55839945/identityserver4-storing-and-accessing-user-credentials-in-a-distributed-applicat", "closed_reason": "Needs more focus", "title": "IdentityServer4 storing and accessing user credentials in a distributed application scenario", "body": "<p>Since there is no forum to IdentityServer or I did not find it, I try to find an answer here.</p>\n\n<p>I think I can use IdentityServer in one of my projects. But it seems that I have a problem understanding the usage and the design I'm striving for.</p>\n\n<p>I looked at the IdentityServer quickstarts and understood and tested the example with an authenticated application. In the example, a client is registered to access an API with a client secret.</p>\n\n<pre><code>{\n    return new[]\n    {\n        // client credentials flow client\n        new client\n        {\n            ClientId = \"client\",\n            ClientName = \"Client Credentials Client\",\n\n            AllowedGrantTypes = GrantTypes.ClientCredentials,\n            ClientSecrets = { new Secret(\"511536EF-F270-4058-80CA-1C89C192F69A\".Sha256()) },\n\n            AllowedScopes = { \"LicenseAPI\" }\n        },\n    }\n}\n</code></pre>\n\n<p>My goal is to rewrite my different websites (homepage, shop, blog, etc.) in dotnet core and to bring them under one roof. Currently they run under different systems, at different hosters, etc.</p>\n\n<p>I would like to have a central application (homepage) (for example as MVC Web App), where users can register and log in and implement all other websites as Web APIs, which are called from the central application. I would like to have separate apps to be able to maintain them separately.</p>\n\n<ul>\n<li>central MVC or JS App (Homepage)</li>\n<li>Web API (Shop)</li>\n<li>Web API (Blog)</li>\n<li>Web API (...)</li>\n<li>Web API (IdentityServer)</li>\n</ul>\n\n<p>I would like to use IdentityServer as authentication of the registered and authorized users when calling the Web APIs. In my design vision as a separate service. Additionally I want to use dotnet core IdentityUser.</p>\n\n<p>My understanding problem now is where I store my user data? As I understand it, users register and log into my planned central application (homepage) and this data is stored in the database of this application.  But how does the separate IdentityServer service learn from my users and how does it access them? How, for example, does it access the claims, etc? Does he use the same database?</p>\n\n<p>For example, I need the IdentityServer to send additional information (claims) with the token. For example, user IDs, which I then use in the requests to my Web APIs or which the IdentityServer sends along with the IDs in the token, requestet by the APIs.</p>\n\n<p>As easy as the first Quickstarts were to understand, the more confused I am about the usage in my planned scenario (which shouldn't be unusual, I think) when handling the user credentials.</p>\n\n<p>I would be grateful for pushing me in the right direction.</p>\n"}, {"tags": ["c#", "integration-testing", "specflow", "nunit-console"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 11215056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead67a3b535c5b6ac99fc5dea1afe91e?s=128&d=identicon&r=PG&f=1", "display_name": "elllo", "link": "https://stackoverflow.com/users/11215056/elllo"}, "edited": false, "score": 0, "creation_date": 1556209883, "post_id": 55848413, "comment_id": 98369328, "body": "I mean in theory except if I require something to have happened in a organized workflow I do want things to run in a particular order.  Unless specflow and nunit aren&#39;t the tools I should use for my testing and there&#39;s something else out there or I have to abandon nunit and specflow and create a custom application to run a series of documented tests...?"}, {"owner": {"reputation": 1334, "user_id": 2691620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2beb177ef358d5ffc8f9ded31321204?s=128&d=identicon&r=PG", "display_name": "magicode118", "link": "https://stackoverflow.com/users/2691620/magicode118"}, "reply_to_user": {"reputation": 49, "user_id": 11215056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead67a3b535c5b6ac99fc5dea1afe91e?s=128&d=identicon&r=PG&f=1", "display_name": "elllo", "link": "https://stackoverflow.com/users/11215056/elllo"}, "edited": false, "score": 0, "creation_date": 1556268514, "post_id": 55848413, "comment_id": 98388147, "body": "I guess it depends on what you want achieve by having tests ordered in a particular way. You could also sort the ordering in your reporting system after all tests have run in theory too (if you want to present your tests in a particular, customized way to business, for example)."}], "tags": [], "owner": {"reputation": 1334, "user_id": 2691620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2beb177ef358d5ffc8f9ded31321204?s=128&d=identicon&r=PG", "display_name": "magicode118", "link": "https://stackoverflow.com/users/2691620/magicode118"}, "is_accepted": true, "score": 1, "last_activity_date": 1556200150, "last_edit_date": 1556200150, "creation_date": 1556192268, "answer_id": 55848413, "question_id": 55839942, "link": "https://stackoverflow.com/questions/55839942/how-to-order-test-scenarios-in-specflow-using-nunit3console/55848413#55848413", "title": "How to order Test Scenarios in specflow using nunit3console", "body": "<p>NUnit by default runs tests in alphabhetical order. As of NUnit 3 you can try running these in order, reference <a href=\"https://github.com/nunit/docs/wiki/Order-Attribute\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>It is not considered good practice to limit scenarios to run in a particular order though as each and every one of them sould be able to run independently of one another.</p>\n\n<p>Other posts with similar information, can be found <a href=\"https://stackoverflow.com/questions/49943099/is-there-a-way-to-run-specflow-scenarios-in-desired-order-c-selenium\">here</a> and <a href=\"https://stackoverflow.com/questions/921332/what-is-the-order-of-execution-in-nunit/921339\">here</a>.</p>\n"}], "owner": {"reputation": 49, "user_id": 11215056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead67a3b535c5b6ac99fc5dea1afe91e?s=128&d=identicon&r=PG&f=1", "display_name": "elllo", "link": "https://stackoverflow.com/users/11215056/elllo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 893, "favorite_count": 0, "accepted_answer_id": 55848413, "answer_count": 1, "score": 0, "last_activity_date": 1556200150, "creation_date": 1556149303, "question_id": 55839942, "link": "https://stackoverflow.com/questions/55839942/how-to-order-test-scenarios-in-specflow-using-nunit3console", "title": "How to order Test Scenarios in specflow using nunit3console", "body": "<p>How can I order my scenarios to run in a given order?</p>\n\n<p>I have a series of scenarios that depend on the previous scenario having run. </p>\n\n<p>I'm running my specflow tests using nunit3console.</p>\n\n<p>I haven't found anything online that seems to work.</p>\n\n<p>And yes my tests do need to run in a particular order otherwise it's pointless.</p>\n\n<p>Scenario: I perform first scenario\n</p>\n\n<p>Scenario: I perform second scenario\n</p>\n"}, {"tags": ["c#", "visual-studio", "coding-style"], "comments": [{"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1556148833, "post_id": 55839716, "comment_id": 98343390, "body": "A minor correction: Unlike [<code>#if</code>, <code>#else</code>, and <code>#endif</code>], <code>#region</code> does not go to the beginning of the line by default."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1556149110, "post_id": 55839716, "comment_id": 98343440, "body": "Note: I spent the last 10 minutes looking, there isn&#39;t an option even in the latest version of 2019"}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 0, "creation_date": 1556149302, "post_id": 55839716, "comment_id": 98343464, "body": "Resharper has this ability i think"}], "owner": {"reputation": 13571, "user_id": 2769729, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/BowZi.png?s=128&g=1", "display_name": "Sarah Weinberger", "link": "https://stackoverflow.com/users/2769729/sarah-weinberger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "closed_date": 1556149068, "answer_count": 0, "score": 2, "last_activity_date": 1556148359, "creation_date": 1556147235, "last_edit_date": 1556148359, "question_id": 55839716, "link": "https://stackoverflow.com/questions/55839716/is-there-a-code-style-option-to-have-visual-studio-not-reformat-pragma-directiv", "closed_reason": "Duplicate", "title": "Is there a Code Style option to have Visual Studio not reformat #pragma directives?", "body": "<p>Is there a way to tell Visual Studio how to style pragmas (e.g., <code>#define</code>, <code>#if</code>, <code>#else</code>, <code>#endif</code>, <code>#region</code>, et cetera)?</p>\n\n<p>Normally, pragmas sit at the first character in a line. If I wanted them to appear inline and not have Visual Studio restyle them for me, how would I do that? I do not see anything in Tools | Options | C# | Code Style.</p>\n\n<pre><code>namespace MySolution.MyProject\n{\n    internal class MyClass\n    {\n        public void MyMethod1()\n        {\n            #if (USETHIS1)\n                // code here\n            #else\n                // code here\n            #endif\n        }\n    }\n}\n</code></pre>\n\n<p>I did a search here on Stack Overflow and in Google, but did not see anything, maybe just how I searched. The compiler accepts the location anywhere.</p>\n\n<p>As far as standards go, I prefer to see my pragmas inline, like above. How could I do that?</p>\n"}, {"tags": ["c#", "entity-framework-core"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1556147238, "post_id": 55839690, "comment_id": 98343107, "body": "Don&#39;t use shadow properties, they are nothing but confusing. Add <code>public int RecipeId { get; set; }</code> to the Meal entity"}, {"owner": {"reputation": 1350, "user_id": 1295134, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/d62bb40c7627aeb42d9700ede48654dd?s=128&d=identicon&r=PG", "display_name": "ff8mania", "link": "https://stackoverflow.com/users/1295134/ff8mania"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1556147546, "post_id": 55839690, "comment_id": 98343162, "body": "@CamiloTerevinto I just added the RecipeId, migrated, updated the db but nothing changed"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1556147719, "post_id": 55839690, "comment_id": 98343192, "body": "Can you share the code? This happens if you try to use an unattached entity"}, {"owner": {"reputation": 1350, "user_id": 1295134, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/d62bb40c7627aeb42d9700ede48654dd?s=128&d=identicon&r=PG", "display_name": "ff8mania", "link": "https://stackoverflow.com/users/1295134/ff8mania"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1556147987, "post_id": 55839690, "comment_id": 98343245, "body": "@CamiloTerevinto sure. What part of the code is significant here?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1556148089, "post_id": 55839690, "comment_id": 98343271, "body": "As much code as you consider relevant to adding the new Meal, specially from where the Recipe object comes from. (Note: the fastest answer is: use <code>Meal.RecipeId</code> instead of <code>Meal.Recipe</code>)"}, {"owner": {"reputation": 1350, "user_id": 1295134, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/d62bb40c7627aeb42d9700ede48654dd?s=128&d=identicon&r=PG", "display_name": "ff8mania", "link": "https://stackoverflow.com/users/1295134/ff8mania"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1556148574, "post_id": 55839690, "comment_id": 98343354, "body": "@CamiloTerevinto I updated the question with more code"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1556148720, "post_id": 55839690, "comment_id": 98343376, "body": "I didn&#39;t mean that, I meant where you use <code>context.Meals.Add(...</code>"}, {"owner": {"reputation": 1350, "user_id": 1295134, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/d62bb40c7627aeb42d9700ede48654dd?s=128&d=identicon&r=PG", "display_name": "ff8mania", "link": "https://stackoverflow.com/users/1295134/ff8mania"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1556149143, "post_id": 55839690, "comment_id": 98343445, "body": "@CamiloTerevinto I added the weeksly schedule too, probably it completes the picture better"}], "owner": {"reputation": 1350, "user_id": 1295134, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/d62bb40c7627aeb42d9700ede48654dd?s=128&d=identicon&r=PG", "display_name": "ff8mania", "link": "https://stackoverflow.com/users/1295134/ff8mania"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556149253, "creation_date": 1556147009, "last_edit_date": 1556149253, "question_id": 55839690, "link": "https://stackoverflow.com/questions/55839690/ef-core-relationship-misunderstanding", "title": "EF Core relationship misunderstanding", "body": "<p>I'm pretty new with Entity Framework and I'm getting pretty confused on how to define things code first.</p>\n\n<p>I'd just to define in code this simple relationship: I have an entity Meal that represents what I'm gonna eat today.</p>\n\n<pre><code>public class Meal\n{\n    public int MealId { get; set; }\n    public DayOfWeek DayOfWeek { get; set; }\n    public Recipe Recipe { get; set; }\n    public int RecipeId { get; set; }\n    public WeeklySchedule WeeklySchedule { get; set; }\n}\n</code></pre>\n\n<p>The class recipe that you see represent the recipe I'm gonna use to cook that meal.\nSo the relationship is one to many. Many meals can use the same recipe, but any meal has only one recipe</p>\n\n<p>The class recipe:</p>\n\n<pre><code>public class Recipe\n{\n    public int RecipeId { get; set; }\n    public string Name { get; set; }\n    public ICollection&lt;RecipeItem&gt; RecipeItems { get; set; }\n}\n</code></pre>\n\n<p>And the weekly schedule:</p>\n\n<pre><code>public class WeeklySchedule\n{\n    public int WeeklyScheduleId { get; set; }\n    public int WeekNumber { get; set; }\n    public List&lt;Meal&gt; Meals { get; set; }\n\n    public WeeklySchedule() { }\n\n    public WeeklySchedule(int weeknumber)\n    {\n        WeekNumber = weeknumber;\n        Meals = new List&lt;Meal&gt;();\n    }\n}\n</code></pre>\n\n<p>When I create the model I define:</p>\n\n<pre><code>modelBuilder.Entity&lt;Recipe&gt;().HasMany(c =&gt; c.RecipeItems).WithOne(c =&gt; c.Recipe).OnDelete(DeleteBehavior.Cascade); \nmodelBuilder.Entity&lt;RecipeItem&gt;().HasMany(c =&gt; c.RecipeItemComponents).WithOne(c =&gt; c.RecipeItem).OnDelete(DeleteBehavior.Cascade); \nmodelBuilder.Entity&lt;WeeklySchedule&gt;().HasMany(c =&gt; c.Meals).WithOne(c =&gt; c.WeeklySchedule).OnDelete(DeleteBehavior.Cascade); \nmodelBuilder.Entity&lt;Meal&gt;().HasOne(c =&gt; c.Recipe); \n</code></pre>\n\n<p>I use this code to store it:</p>\n\n<pre><code>_context.WeeklySchedules.Add(weeklySchedule);\n await _context.SaveChangesAsync();\n</code></pre>\n\n<p>My problem is that when I try to save a new meal, I get the error:</p>\n\n<blockquote>\n  <p>SqlException: Cannot insert explicit value for identity column in\n  table 'Recipes' when IDENTITY_INSERT is set to OFF.</p>\n</blockquote>\n\n<p>Even though in my case I don't want to create a Recipe, but I'm creating just a meal pointing to an existing Recipe.</p>\n\n<p>I think that I'm creating the model in the wrong way.</p>\n\n<p>Could you help me understand what's what?</p>\n"}, {"tags": ["c#", "sql-server", "winforms", "datetime", "datetimepicker"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1556147730, "post_id": 55839661, "comment_id": 98343195, "body": "FYI, In your code, you define <code>startDate</code> but never use it."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1556147774, "post_id": 55839661, "comment_id": 98343208, "body": "Don&#39;t convert dates to strings to compare them. <code>while (!countDate.Equals(finishDate1))</code> should work just fine."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1556147809, "post_id": 55839661, "comment_id": 98343214, "body": "You have a semicolon after your <code>while</code> statement (at the end of the line that starts with <code>while</code>), <b>which effectively creates an endless loop</b>. That&#39;s why &quot;nothing is happening&quot;. Remove that semi colon and try again."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1556148189, "post_id": 55839661, "comment_id": 98343285, "body": "Why do you have the comparison for each day of the week in your <code>if</code> statement? Won&#39;t that <i>always</i> be true?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1556148275, "post_id": 55839661, "comment_id": 98343303, "body": "You should consider storing dates as a <code>DATE</code> or <code>DATETIME</code> in your database rather than converting them to strings."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1556148752, "post_id": 55839661, "comment_id": 98343380, "body": "You can also gather all the date information first, then execute a single <code>INSERT</code> statement to update the database rather than doing db round-trips on each loop."}, {"owner": {"reputation": 45, "user_id": 11356601, "user_type": "registered", "profile_image": "https://graph.facebook.com/2000030780261724/picture?type=large", "display_name": "Pawe\u0142 \u017belazny", "link": "https://stackoverflow.com/users/11356601/pawe%c5%82-%c5%bbelazny"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1556177019, "post_id": 55839661, "comment_id": 98350159, "body": "Yes, column&#39;s [Dato] datatype is DATE....and how to gather all dateinformation first? In a dummy table, or something like DUAL in Oracle?"}], "answers": [{"comments": [{"owner": {"reputation": 769, "user_id": 2381186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cda43746b0f34c5409cbab06dc36b3b?s=128&d=identicon&r=PG", "display_name": "Pedro Martins", "link": "https://stackoverflow.com/users/2381186/pedro-martins"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1556148385, "post_id": 55839789, "comment_id": 98343324, "body": "This code can and should be improved. Comparing Dates as string, | operator, sql injection, SOLID principles, missing using statements, hard coded connectionstrings, defining unnecessary variables, to name a few."}, {"owner": {"reputation": 45, "user_id": 11356601, "user_type": "registered", "profile_image": "https://graph.facebook.com/2000030780261724/picture?type=large", "display_name": "Pawe\u0142 \u017belazny", "link": "https://stackoverflow.com/users/11356601/pawe%c5%82-%c5%bbelazny"}, "edited": false, "score": 0, "creation_date": 1556176861, "post_id": 55839789, "comment_id": 98350066, "body": "In the matter of fact the column [Dato] is defined as datatype DATE in the database and this is also table&#39;s [Vagter] primary key....how would you improve this code?"}], "tags": [], "owner": {"reputation": 769, "user_id": 2381186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cda43746b0f34c5409cbab06dc36b3b?s=128&d=identicon&r=PG", "display_name": "Pedro Martins", "link": "https://stackoverflow.com/users/2381186/pedro-martins"}, "is_accepted": false, "score": 0, "last_activity_date": 1556147923, "creation_date": 1556147923, "answer_id": 55839789, "question_id": 55839661, "link": "https://stackoverflow.com/questions/55839661/how-to-populate-a-range-of-dates-in-a-column-using-two-datetimepickers/55839789#55839789", "title": "How to populate a range of dates in a column using two dateTimePickers?", "body": "<p>The problem is the semi-colon at the end of the line with the while. Just remove it.</p>\n\n<p>Since you have the semi-colon in there, the code inside your brackets will not be executed and the loop will execute repeatedly.</p>\n\n<p>Replace:</p>\n\n<pre><code>while (!countDate.ToString().Equals(finishDate1.ToString()));\n</code></pre>\n\n<p>With:</p>\n\n<pre><code>while (!countDate.ToString().Equals(finishDate1.ToString()))\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 11356601, "user_type": "registered", "profile_image": "https://graph.facebook.com/2000030780261724/picture?type=large", "display_name": "Pawe\u0142 \u017belazny", "link": "https://stackoverflow.com/users/11356601/pawe%c5%82-%c5%bbelazny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1556147923, "creation_date": 1556146757, "last_edit_date": 1556146989, "question_id": 55839661, "link": "https://stackoverflow.com/questions/55839661/how-to-populate-a-range-of-dates-in-a-column-using-two-datetimepickers", "title": "How to populate a range of dates in a column using two dateTimePickers?", "body": "<p>I have to populate a range of dates in a column using SQL Server, WinForms and two DateTimePickers. The first DateTimePicker is start date of the range and second in finish date of the range and there must be inserted all dates in the column, which are included between date chosen in the first DateTimePicker and second DateTimePicker. </p>\n\n<p>I have already tried to implement it using code shown below, but it doesn't work:</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n    {\n        using (SqlConnection con = new SqlConnection(@\"Data Source =.\\SQLEXPRESS01; Initial Catalog = Vagtplan; Integrated Security = True\"))\n\n        {\n            DateTime startDate = dateTimePicker1.Value;\n            DateTime finishDate = dateTimePicker2.Value;\n            DateTime finishDate1 = finishDate.AddDays(+1);\n            DateTime countDate = dateTimePicker1.Value;\n\n           while (!countDate.ToString().Equals(finishDate1.ToString()));\n                {\n                    if ((countDate.DayOfWeek == DayOfWeek.Monday) | (countDate.DayOfWeek == DayOfWeek.Tuesday) \n                        | (countDate.DayOfWeek == DayOfWeek.Wednesday) | (countDate.DayOfWeek == DayOfWeek.Thursday)\n                        | (countDate.DayOfWeek == DayOfWeek.Friday) | (countDate.DayOfWeek == DayOfWeek.Saturday) | (countDate.DayOfWeek == DayOfWeek.Sunday))\n                    {\n                        SqlCommand command = new SqlCommand(\"INSERT INTO [Vagter] ([Dato]) VALUES ('\" + countDate.ToString(\"yyyy-MM-dd HH:mm:ss.fff\") + \"')\", con);\n                        con.Open();\n                        command.ExecuteNonQuery();\n                        con.Close();\n                    }\n                    countDate = countDate.AddDays(1.0);\n                }\n\n                MessageBox.Show(\"Vagtplanen er oprettet\");\n\n        }\n\n\n\n    }\n</code></pre>\n\n<p>The expected result is populating all dates between date chosen in the first DateTimePicker and date chosen in second DateTimePicker, in the column. Right now there happens nothing. Now errors shown, just nothing.</p>\n"}, {"tags": ["c#", "servicestack"], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 927860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ad284c8ff3f99b83ec243d288786c23?s=128&d=identicon&r=PG", "display_name": "El Hippo", "link": "https://stackoverflow.com/users/927860/el-hippo"}, "edited": false, "score": 0, "creation_date": 1556147851, "post_id": 55839678, "comment_id": 98343224, "body": "Okay, that sounds like an alternative. How about the JwtAuthProvider? I want the first login to be per (Custom)CredentialsAuthProvider and any following calls to my API per JWTs."}, {"owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "reply_to_user": {"reputation": 307, "user_id": 927860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ad284c8ff3f99b83ec243d288786c23?s=128&d=identicon&r=PG", "display_name": "El Hippo", "link": "https://stackoverflow.com/users/927860/el-hippo"}, "edited": false, "score": 0, "creation_date": 1556148180, "post_id": 55839678, "comment_id": 98343283, "body": "The <code>JwtAuthProvider</code> is stateless so validates by just what&#39;s contained in the JWT which is generated from the authenticated user session (i.e. not UserAuth repo tables). The functionality that <a href=\"https://docs.servicestack.net/jwt-authprovider#requires-user-auth-repository-or-iusersessionsource\" rel=\"nofollow noreferrer\">requires the Auth Repo is refresh tokens</a>, which if you don&#39;t have one your Custom Auth Provider would need to implement <code>IUserSessionSource</code>."}, {"owner": {"reputation": 307, "user_id": 927860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ad284c8ff3f99b83ec243d288786c23?s=128&d=identicon&r=PG", "display_name": "El Hippo", "link": "https://stackoverflow.com/users/927860/el-hippo"}, "edited": false, "score": 0, "creation_date": 1556209012, "post_id": 55839678, "comment_id": 98368941, "body": "I succesfully created my own CredentialsAuthProvider but one question arises: How do I access the user data which I loaded from the database in TryAuthenticate in OnAuthenticated(...) to fill my custom session with user data?"}, {"owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "reply_to_user": {"reputation": 307, "user_id": 927860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ad284c8ff3f99b83ec243d288786c23?s=128&d=identicon&r=PG", "display_name": "El Hippo", "link": "https://stackoverflow.com/users/927860/el-hippo"}, "edited": false, "score": 0, "creation_date": 1556209288, "post_id": 55839678, "comment_id": 98369061, "body": "@ElChipo You can use the per-request storage in <code>authService.Request.Items[]</code> Dictionary."}], "tags": [], "owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "is_accepted": true, "score": 1, "last_activity_date": 1556146888, "creation_date": 1556146888, "answer_id": 55839678, "question_id": 55839631, "link": "https://stackoverflow.com/questions/55839631/own-userauthrepository-without-iuserauth-or-iuserauthdetails-dependency-implemen/55839678#55839678", "title": "Own UserAuthRepository without IUserAuth or IUserAuthDetails dependency/implementation", "body": "<p>The Auth Repository interfaces does require those types but you can <a href=\"https://docs.servicestack.net/authentication-and-authorization#extending-userauth-tables\" rel=\"nofollow noreferrer\">extend it to user your own custom types instead</a>. This thread also lists other <a href=\"https://stackoverflow.com/a/11118747/85785\">extensibility options available</a>.</p>\n\n<p>But you can avoid needing to use an Auth Repository altogether and use a <a href=\"https://docs.servicestack.net/authentication-and-authorization#custom-authentication-and-authorization\" rel=\"nofollow noreferrer\">Custom CredentialsAuthProvider</a> where you can implement Username/Password validation using your own implementation.</p>\n"}], "owner": {"reputation": 307, "user_id": 927860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ad284c8ff3f99b83ec243d288786c23?s=128&d=identicon&r=PG", "display_name": "El Hippo", "link": "https://stackoverflow.com/users/927860/el-hippo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 55839678, "answer_count": 1, "score": 1, "last_activity_date": 1556146888, "creation_date": 1556146544, "question_id": 55839631, "link": "https://stackoverflow.com/questions/55839631/own-userauthrepository-without-iuserauth-or-iuserauthdetails-dependency-implemen", "title": "Own UserAuthRepository without IUserAuth or IUserAuthDetails dependency/implementation", "body": "<p>I want to use CredentialAuthProvider and JwtAuthProvider and I have my own Person class in which I want to store username and password. Most of the fields in UserAuth and UserAuthDetails are useless to me. As far as I understand the UserAuthRepositories source code it is not necessary to implement those interfaces but just IUserAuthRepository and use my Person class as storage. Are there any other interfaces that need to be implemented so that I can use the above mentioned Authproviders or do I just override TryAuthenticate and everything is fine?</p>\n"}, {"tags": ["c#", "wpf", "xaml", "datagrid", "wpfdatagrid"], "comments": [{"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1556196098, "post_id": 55839619, "comment_id": 98360820, "body": "&quot;The matching tuple&quot;? Could you please include an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>? The <code>PrimaryChecked</code> source property of all items should get set in your example."}], "answers": [{"tags": [], "owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "is_accepted": true, "score": 0, "last_activity_date": 1556210182, "last_edit_date": 1556210182, "creation_date": 1556209377, "answer_id": 55853730, "question_id": 55839619, "link": "https://stackoverflow.com/questions/55839619/how-do-i-notify-a-row-in-a-wpf-datagrid-that-one-of-its-cells-was-programmatical/55853730#55853730", "title": "How do I notify a row in a WPF DataGrid that one of its cells was programmatically modified?", "body": "<p>After giving it some thought, I've decided to make some changes to my <code>DataGridRadioButtonColumn</code> implementation.  It now looks like this:</p>\n\n<pre><code>public class DataGridRadioButtonColumn : DataGridBoundColumn\n{\n    private Dictionary&lt;DataGridCell, RadioButton&gt; _buttons = new Dictionary&lt;DataGridCell, RadioButton&gt;();\n    private Dictionary&lt;RadioButton, dynamic&gt; _models = new Dictionary&lt;RadioButton, dynamic&gt;();\n\n    public string Group { get; set; }\n\n    public static readonly DependencyProperty GroupProperty = RadioButton.GroupNameProperty.AddOwner(\n        typeof(DataGridRadioButtonColumn), new FrameworkPropertyMetadata(\"Group1\"));\n\n    protected override FrameworkElement GenerateElement(DataGridCell cell, object dataItem)\n    {\n        if (_buttons.ContainsKey(cell))\n        {\n            return (_buttons[cell]);\n        }\n        var radioButton = new RadioButton { GroupName = Group };\n        radioButton.Unchecked += RadioButton_Unchecked;\n\n        BindingOperations.SetBinding(radioButton, ToggleButton.IsCheckedProperty, Binding);\n        _buttons.Add(cell, radioButton);\n        _models.Add(radioButton, dataItem);\n        return radioButton;\n    }\n\n    private void RadioButton_Unchecked(object sender, RoutedEventArgs e)\n    {\n        var button = sender as RadioButton;\n        dynamic model = _models[button];\n        try\n        {\n            model.Edited = true;\n        }\n        catch { }\n    }\n\n    protected override FrameworkElement GenerateEditingElement(DataGridCell cell, object dataItem)\n    {\n       return _buttons[cell];\n    }\n\n    protected override object PrepareCellForEdit(FrameworkElement editingElement, RoutedEventArgs editingEventArgs)\n    {\n        var radioButton = editingElement as RadioButton;\n        if (radioButton == null) return null;\n        return radioButton.IsChecked;\n    }\n}\n</code></pre>\n\n<p>Here's how it works.  I added a dictionary that captures the model for each of the Radio Buttons, and when a Radio Button is created, I add the model to the new dictionary and hook the <code>Unchecked</code> event on the Radio button:</p>\n\n<pre><code>    protected override FrameworkElement GenerateElement(DataGridCell cell, object dataItem)\n    {\n        if (_buttons.ContainsKey(cell))\n        {\n            return (_buttons[cell]);\n        }\n        var radioButton = new RadioButton { GroupName = Group };\n        radioButton.Unchecked += RadioButton_Unchecked; // Added\n\n        BindingOperations.SetBinding(radioButton, ToggleButton.IsCheckedProperty, Binding);\n        _buttons.Add(cell, radioButton);\n        _models.Add(radioButton, dataItem); // Added\n        return radioButton;\n    }\n</code></pre>\n\n<p>Then, I just set the <code>Edited</code> property in the Model when the event fires:</p>\n\n<pre><code>private void RadioButton_Unchecked(object sender, RoutedEventArgs e)\n{\n    var button = sender as RadioButton;\n    dynamic model = _models[button];\n    try\n    {\n        // Notify IEditableObject implementation, if it exists.\n        model.Edited = true;\n    }\n    catch { }\n}\n</code></pre>\n"}], "owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 55853730, "answer_count": 1, "score": 2, "last_activity_date": 1556210182, "creation_date": 1556146467, "last_edit_date": 1556209534, "question_id": 55839619, "link": "https://stackoverflow.com/questions/55839619/how-do-i-notify-a-row-in-a-wpf-datagrid-that-one-of-its-cells-was-programmatical", "title": "How do I notify a row in a WPF DataGrid that one of its cells was programmatically modified?", "body": "<p>I am creating a <code>DataGridRadioButtonColumn</code> for my WPF project.  Here is what it looks like:</p>\n\n<pre><code>public class DataGridRadioButtonColumn : DataGridBoundColumn\n{\n    private Dictionary&lt;DataGridCell, RadioButton&gt; _buttons = new Dictionary&lt;DataGridCell, RadioButton&gt;();\n\n    public string Group { get; set; }\n\n    public static readonly DependencyProperty GroupProperty = RadioButton.GroupNameProperty.AddOwner(\n        typeof(DataGridRadioButtonColumn), new FrameworkPropertyMetadata(\"DefaultGroup\"));\n\n    protected override FrameworkElement GenerateElement(DataGridCell cell, object dataItem)\n    {\n        // Only generate the buttons once, to preserve the Group.\n        if (_buttons.ContainsKey(cell))\n        {\n            return (_buttons[cell]);\n        }\n        var radioButton = new RadioButton { GroupName = Group };\n        BindingOperations.SetBinding(radioButton, ToggleButton.IsCheckedProperty, Binding);\n        _buttons.Add(cell, radioButton);\n        return radioButton;\n    }\n\n    protected override FrameworkElement GenerateEditingElement(DataGridCell cell, object dataItem)\n    {\n       // Use the same one we generated before.\n       return _buttons[cell];\n    }\n\n    protected override object PrepareCellForEdit(FrameworkElement editingElement, RoutedEventArgs editingEventArgs)\n    {\n        var radioButton = editingElement as RadioButton;\n        if (radioButton == null) return null;\n        return radioButton.IsChecked;\n    }\n}\n</code></pre>\n\n<p>And here is an example of its use:</p>\n\n<pre><code>&lt;local:DataGridRadioButtonColumn\n    Width=\"0.33*\"\n    Binding=\"{Binding PrimaryChecked, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}\"\n    Group=\"Group1\"\n    Header=\"PRI\" /&gt;\n</code></pre>\n\n<p>Everything works as I expect it to, including that clicking on a radio button \"unchecks\" the one that was originally selected.  This unchecking works by virtue of the Group dependency property.</p>\n\n<p>The only problem I am having is that the unchecked radio button does not register as a row edit in the grid.  Only the radio button that I clicked registers a row edit, and in order for the data to be saved correctly <em>both rows</em> (the one containing the radio button that I clicked, and the one containing the radio button that was unchecked) must be saved.</p>\n\n<p>How do I tell the data row whose radio button was unchecked that it was edited, so that it properly updates the matching tuple in the DataGrid's bound collection?</p>\n\n<p>Note that I implement the <code>IEditableObject</code> interface in the Model that's used in each row, so it's not as simple as just relying on <code>INotifyPropertyChanged</code>.  It really needs to trigger a <code>BeginEdit()</code> in the DataGrid Row.  I don't think that the programmatic clearing of the radio button fires <code>PropertyChanged</code> anyway, because the change is not reflected in the underlying Model object.</p>\n\n<hr>\n\n<p>As requested, here is an MCVE (or the better part of one, anyway):</p>\n\n<h3>APP.XAML</h3>\n\n<pre><code>&lt;Application x:Class=\"WpfApp11.App\"\n             xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n             xmlns:local=\"clr-namespace:WpfApp11\"\n             StartupUri=\"MainWindow.xaml\"&gt;\n    &lt;Application.Resources&gt;\n\n    &lt;/Application.Resources&gt;\n&lt;/Application&gt;\n</code></pre>\n\n<h3>MainWindow.XAML</h3>\n\n<pre><code>&lt;Window\n    x:Class=\"WpfApp11.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:local=\"clr-namespace:WpfApp11\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    Title=\"MainWindow\"\n    Width=\"800\"\n    Height=\"450\"\n    mc:Ignorable=\"d\"&gt;\n    &lt;Grid&gt;\n        &lt;DataGrid ItemsSource=\"{Binding Items, UpdateSourceTrigger=PropertyChanged}\"&gt;\n            &lt;DataGrid.Columns&gt;\n                &lt;DataGridTextColumn\n                    Width=\"0.7*\"\n                    Binding=\"{Binding Path=Name, Mode=TwoWay}\"\n                    Header=\"Name\" /&gt;\n                &lt;local:DataGridRadioButtonColumn\n                    Width=\"0.3*\"\n                    Binding=\"{Binding PrimaryChecked, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}\"\n                    Group=\"Group1\"\n                    Header=\"PRI\" /&gt;\n\n            &lt;/DataGrid.Columns&gt;\n        &lt;/DataGrid&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<h3>Model</h3>\n\n<pre><code>using PropertyChanged; //Fody\n\nnamespace WpfApp11\n{\n    [AddINotifyPropertyChangedInterface]  // PropertyChanged.Fody\n    public class Model\n    {\n        public string Name { get; set; }\n        public bool? PrimaryChecked\n        {\n            get;\n            set;\n        }\n    }\n}\n</code></pre>\n\n<h3>ViewModel</h3>\n\n<pre><code>using System.Collections.ObjectModel;\nusing PropertyChanged; // Fody\n\nnamespace WpfApp11\n{\n    [AddINotifyPropertyChangedInterface] // PropertyChanged.Fody\n    public class ViewModel\n    {\n        public ViewModel()\n        {\n            Items = new ObservableCollection&lt;Model&gt;\n            {\n                new Model {Name = \"George\"},\n                new Model {Name = \"Fred\"},\n                new Model {Name = \"Tom\"},\n            };\n        }\n        public ObservableCollection&lt;Model&gt; Items { get; set; }\n    }\n}\n</code></pre>\n\n<p>As you can see, this code is unremarkable.  </p>\n\n<p>Here is where it gets interesting.  Let's place an <code>IEditableObject</code> implementation on the Model.  <code>IEditableObject</code> is recognized by the DataGrid; it allows you to provide things like change tracking and undo capability for each data row:</p>\n\n<pre><code>public class Model : EditableValidatableObject&lt;Model&gt;\n{\n    public string Name { get; set; }\n    public bool? PrimaryChecked\n    {\n        get;\n        set;\n    }\n}\n</code></pre>\n\n<h3>EditableValidatableObject.cs</h3>\n\n<pre><code>using PropertyChanged;\nusing System;\nusing System.ComponentModel;\n\nnamespace WpfApp11\n{\n    /// &lt;summary&gt;\n    /// Provides an implementation of the IEditableObject and INotifyDataErrorInfo interfaces for data transfer objects.\n    /// &lt;/summary&gt;&lt;remarks&gt;\n    /// The IEditableObject interface is typically used to capture the BeginEdit, EndEdit, and CancelEdit semantics of a DataRowView.\n    /// Making something an IEditableObject enables full editing and undo capabilities in a DataGrid.\n    /// \n    /// The INotifyDataErrorInfo implementation uses Validation Attributes to validate the values of properties on the DTO.\n    /// This information is used to indicate that a value entered by the user is invalid.\n    /// \n    /// See T_Asset.cs and T_TestPoint.cs for usage examples.  \n    /// &lt;/remarks&gt;\n    [AddINotifyPropertyChangedInterface]\n    public abstract class EditableValidatableObject&lt;T&gt; : AnnotationValidationViewModel, IEditableObject\n    {\n        /// &lt;summary&gt;\n        /// Constructor, sets up the INotifyDataErrorInfo implementation.\n        /// &lt;/summary&gt;\n        private T Cache { get; set; }\n\n        private object CurrentModel { get { return this; } }\n\n        public RelayCommand CancelEditCommand\n        {\n            get { return new RelayCommand(CancelEdit); }\n        }\n\n        private bool IsDirty\n        {\n            get\n            {\n                if (Cache == null) return false;\n                foreach (var info in CurrentModel.GetType().GetProperties())\n                {\n                    if (!info.CanRead || !info.CanWrite)\n                        continue;\n\n                    var oldValue = info.GetValue(Cache, null);\n                    var currentValue = info.GetValue(CurrentModel, null);\n\n                    if (oldValue == null &amp;&amp; currentValue != null)\n                        return true;\n\n                    if (oldValue != null &amp;&amp; !oldValue.Equals(currentValue))\n                        return true;\n                }\n                return false;\n            }\n        }\n\n        #region IEditableObject Implementation\n        public bool Added { get; set; }\n        public bool Edited { get; set; }\n        public bool Deleted { get; set; }\n\n        public void BeginEdit()\n        {\n            Cache = Activator.CreateInstance&lt;T&gt;();\n            var type = CurrentModel.GetType();\n\n            //Set Properties of Cache\n            foreach (var info in type.GetProperties())\n            {\n                if (!info.CanRead || !info.CanWrite) continue;\n                var oldValue = info.GetValue(CurrentModel, null);\n                Cache.GetType().GetProperty(info.Name).SetValue(Cache, oldValue, null);\n            }\n\n            if (!Added &amp;&amp; !Deleted &amp;&amp; IsDirty)\n            {\n                Edited = true;\n            }\n        }\n\n        public virtual void EndEdit()\n        {\n            if (!Added &amp;&amp; !Deleted &amp;&amp; IsDirty)\n            {\n                Edited = true;\n            }\n            Cache = default(T);\n        }\n\n        public void CancelEdit()\n        {\n            if (Cache == null) return;\n\n            foreach (var info in CurrentModel.GetType().GetProperties())\n            {\n                if (!info.CanRead || !info.CanWrite) continue;\n                var oldValue = info.GetValue(Cache, null);\n                CurrentModel.GetType().GetProperty(info.Name).SetValue(CurrentModel, oldValue, null);\n            }\n        }\n        #endregion\n    }\n}\n</code></pre>\n\n<p><code>AnnotationValidationViewModel</code> is unremarkable; it's just an implementation of <code>INotifyDataErrorInfo</code> that uses data annotations for validation.</p>\n\n<p>The critical part of the <code>IEditableObject</code> implementation above is the <code>BeginEdit()</code> method, which the data grid row uses to signal the underlying model that an edit has occurred.  This method gets called when a Radio Button is clicked, but <em>not when the other radio button is automatically unchecked.</em>  </p>\n\n<p>Since <code>BeginEdit()</code> never gets called on the unchecked row, the Edited property never gets set.  I rely on the Edited property to know which records I need to save back to the database.</p>\n"}, {"tags": ["c#", ".net-core", "nuget", "nunit", "nunit-3.0"], "answers": [{"comments": [{"owner": {"reputation": 380, "user_id": 6039397, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b00b9687ba633e77e11448e90b920f32?s=128&d=identicon&r=PG&f=1", "display_name": "Code Rocker", "link": "https://stackoverflow.com/users/6039397/code-rocker"}, "edited": false, "score": 0, "creation_date": 1556197423, "post_id": 55843113, "comment_id": 98361700, "body": "Oh no!  I did not know that.  But <code>dotnet test</code> perfectly \ud83d\ude03  I didn&#39;t need the <code>.</code> though \ud83d\ude15 Thanks @Peska"}], "tags": [], "owner": {"reputation": 3068, "user_id": 7225096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R4k9r.jpg?s=128&g=1", "display_name": "Peska", "link": "https://stackoverflow.com/users/7225096/peska"}, "is_accepted": true, "score": 6, "last_activity_date": 1556176946, "last_edit_date": 1556176946, "creation_date": 1556173890, "answer_id": 55843113, "question_id": 55839616, "link": "https://stackoverflow.com/questions/55839616/running-tests-using-nunit3-console/55843113#55843113", "title": "Running tests using NUnit3 Console", "body": "<p>NUnit Console is currently unavailable for .net core:</p>\n\n<blockquote>\n  <p>NUnit Console is compiled using the full .NET Framework and does not\n  currently support .NET Core. To run .NET Core tests from the command\n  line, you need to use dotnet test. For info on how to do this, see\n  <a href=\"https://github.com/nunit/docs/wiki/.NET-Core-and-.NET-Standard\" rel=\"noreferrer\">https://github.com/nunit/docs/wiki/.NET-Core-and-.NET-Standard</a></p>\n  \n  <p>We are looking at creating a .NET Core based console runner, but it is\n  still in the planning stages.</p>\n</blockquote>\n\n<p>Source: <a href=\"https://github.com/nunit/nunit-console/issues/487\" rel=\"noreferrer\">https://github.com/nunit/nunit-console/issues/487</a></p>\n\n<p>Just use <code>dotnet test</code> as described in nunit wiki.</p>\n"}], "owner": {"reputation": 380, "user_id": 6039397, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b00b9687ba633e77e11448e90b920f32?s=128&d=identicon&r=PG&f=1", "display_name": "Code Rocker", "link": "https://stackoverflow.com/users/6039397/code-rocker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1224, "favorite_count": 1, "accepted_answer_id": 55843113, "answer_count": 1, "score": 2, "last_activity_date": 1556176946, "creation_date": 1556146465, "last_edit_date": 1556148388, "question_id": 55839616, "link": "https://stackoverflow.com/questions/55839616/running-tests-using-nunit3-console", "title": "Running tests using NUnit3 Console", "body": "<p>I'm trying to run tests via the command line using the NUnit Console Runner:\n<a href=\"https://github.com/nunit/docs/wiki/Console-Runner\" rel=\"nofollow noreferrer\">https://github.com/nunit/docs/wiki/Console-Runner</a></p>\n\n<p>I have installed <a href=\"https://www.nuget.org/packages/NUnit.ConsoleRunner/\" rel=\"nofollow noreferrer\">https://www.nuget.org/packages/NUnit.ConsoleRunner/</a> <code>NUnit.ConsoleRunner</code> in my NuGet</p>\n\n<p>I have opened up the command line location in <code>\\sanitized\\bin\\Debug\\netcoreapp2.1</code>.  I run my test using the command <code>NUNIT3-CONSOLE myTests.dll</code> as mentioned in <a href=\"https://github.com/nunit/docs/wiki/Console-Command-Line\" rel=\"nofollow noreferrer\">https://github.com/nunit/docs/wiki/Console-Command-Line</a></p>\n\n<p>But I get the error: </p>\n\n<blockquote>\n  <p>NUNIT3-CONSOLE: command not found </p>\n</blockquote>\n\n<p>What command should I use?</p>\n\n<blockquote>\n  <p>Note: This is a .netcore application</p>\n</blockquote>\n"}, {"tags": ["c#", "azure", "dependency-injection", "azure-functions"], "answers": [{"tags": [], "owner": {"reputation": 4491, "user_id": 6049604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1612c1d48cc981963c4fc034ff322e8d?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit Verma", "link": "https://stackoverflow.com/users/6049604/mohit-verma"}, "is_accepted": false, "score": 1, "last_activity_date": 1556186782, "creation_date": 1556186782, "answer_id": 55846736, "question_id": 55839514, "link": "https://stackoverflow.com/questions/55839514/intermittent-dependency-injection-failure/55846736#55846736", "title": "Intermittent dependency injection failure", "body": "<p>Try injecting it as an IConfigurationRoot instead of IConfiguration:</p>\n\n<pre><code>public HomeController(IConfigurationRoot configuration\n    , IService2 service)\n{\n    _mailService = service;\n    _to = configuration[\"emailAddress.Support\"];\n}\n</code></pre>\n\n<p>In this case, the line </p>\n\n<pre><code>services.AddSingleton(provider =&gt; Configuration);\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>services.AddSingleton&lt;IConfigurationRoot&gt;(provider =&gt; Configuration);\n</code></pre>\n\n<p>because the Configuration property on the class is declared as such, and injection will be done by matching whatever type it was registered as. We can replicate this pretty easily, which might make it clearer:</p>\n\n<p>try this and see if it helps.</p>\n"}, {"comments": [{"owner": {"reputation": 11333, "user_id": 1177901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cMxOK.jpg?s=128&g=1", "display_name": "Fabio Cavalcante", "link": "https://stackoverflow.com/users/1177901/fabio-cavalcante"}, "edited": false, "score": 0, "creation_date": 1556657949, "post_id": 55847358, "comment_id": 98510768, "body": "This is not using the DI feature, but just a static class and method building a service provider and using that directly in the function. We&#39;ll soon have documentation providing guidance on how to do the above using the actual feature. The code you have above doesn&#39;t use anything that is Functions specific."}, {"owner": {"reputation": 11, "user_id": 6789344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce8e3a4d00686f06d97bab2102489ad4?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/6789344/lee"}, "reply_to_user": {"reputation": 11333, "user_id": 1177901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cMxOK.jpg?s=128&g=1", "display_name": "Fabio Cavalcante", "link": "https://stackoverflow.com/users/1177901/fabio-cavalcante"}, "edited": false, "score": 0, "creation_date": 1558691898, "post_id": 55847358, "comment_id": 99192861, "body": "Yes, this doesn&#39;t use the DI feature but regardless the exception only occurs in the newer version of the runtime."}], "tags": [], "owner": {"reputation": 11, "user_id": 6789344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce8e3a4d00686f06d97bab2102489ad4?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/6789344/lee"}, "is_accepted": true, "score": 1, "last_activity_date": 1556188734, "creation_date": 1556188734, "answer_id": 55847358, "question_id": 55839514, "link": "https://stackoverflow.com/questions/55839514/intermittent-dependency-injection-failure/55847358#55847358", "title": "Intermittent dependency injection failure", "body": "<p>It appears to be a 'feature' that was introduced with version 2.0.12408.0 of the runtime. It does not happen with 2.0.12382.0.</p>\n"}], "owner": {"reputation": 11, "user_id": 6789344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce8e3a4d00686f06d97bab2102489ad4?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/6789344/lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 55847358, "answer_count": 2, "score": 0, "last_activity_date": 1556196200, "creation_date": 1556145667, "last_edit_date": 1556196200, "question_id": 55839514, "link": "https://stackoverflow.com/questions/55839514/intermittent-dependency-injection-failure", "title": "Intermittent dependency injection failure", "body": "<p>I am seeing the following intermittent exception locally when trying to resolve a service within a .net core 2.1 azure function app.  It only seems to happen when multiple messages are being processed by the function concurrently and it only fails some of the messages. </p>\n\n<blockquote>\n  <p>'System.Private.CoreLib: Exception while executing function: FunctionOne. Microsoft.Extensions.DependencyInjection: Unable to resolve service for type 'Microsoft.Extensions.Configuration.IConfiguration' while attempting to activate 'XXX.Service2'.</p>\n</blockquote>\n\n<p>When the Service is in the same project as the function then everything works fine.  It is only when I move it into another project that this occurs.  The other project I created is just a simple .net standard 2.0 project with just this service in and a reference to the Microsoft.Extensions.Configuration nuget.</p>\n\n<p>I know that this implementation uses a Service Locator which is an anti pattern but I still want to understand why this exception occurs.</p>\n\n<pre><code>[FunctionName(\"FunctionOne\")]\npublic static void Run(\n    [QueueTrigger(_queue, Connection = _storageConnection)]\n    string queueItem,\n    ILogger trace)\n{\n    // Startup\n    var services = Startup.GetServices();\n\n    // Services\n    var service = services.GetService&lt;IService2&gt;();\n}\n</code></pre>\n\n<pre><code>public static class Startup\n{\n    public static Func&lt;IServiceProvider&gt; GetServices = CreateServices;\n\n    public static IConfiguration GetConfiguration()\n    {\n        return new ConfigurationBuilder()\n             .AddEnvironmentVariables()\n             .Build();\n    }\n\n    private static IServiceProvider CreateServices()\n    {\n        var services = new ServiceCollection();\n\n        var config = GetConfiguration();\n\n        services\n            .AddSingleton(config)\n            .AddSingleton&lt;IService2, Service2&gt;();\n\n        return services.BuildServiceProvider();\n    }\n}\n</code></pre>\n\n<pre><code>public class Service2 : IService2\n{\n    public Service2(IConfiguration configuration)\n    {\n    }\n}\n</code></pre>\n\n<pre><code>public interface IService2\n{\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 1591, "user_id": 2242315, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/0hQMc.jpg?s=128&g=1", "display_name": "Ryanas", "link": "https://stackoverflow.com/users/2242315/ryanas"}, "is_accepted": true, "score": 0, "last_activity_date": 1556174786, "creation_date": 1556174786, "answer_id": 55843328, "question_id": 55839506, "link": "https://stackoverflow.com/questions/55839506/do-you-need-time-deltatime-in-rigidbody-addforce/55843328#55843328", "title": "Do you need time.deltatime in Rigidbody.addforce?", "body": "<p>Looking at the API <a href=\"https://docs.unity3d.com/ScriptReference/ForceMode.Impulse.html\" rel=\"nofollow noreferrer\">here</a>, you can see that <code>ForceMode.Impulse</code> is typically used as a single function call to provide an impulsive force immediately.</p>\n\n<p>In general, you don't want to use <code>Time.DeltaTime</code> with any physics as multiplying force Time.deltaTime will actually result in dividing your force 50 times (there are 50 physics cycles per second, Time.deltaTime is 1/50).</p>\n\n<p>If you're currently using <code>Time.DeltaTime</code> with your impulse call, removing it will probably result in a much stronger force being applied to your physics object.</p>\n"}], "owner": {"reputation": 52, "user_id": 10941332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56fcaf931c7b92fd6eeedf9b8b1cadde?s=128&d=identicon&r=PG&f=1", "display_name": "NullAndVoid", "link": "https://stackoverflow.com/users/10941332/nullandvoid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 719, "favorite_count": 1, "accepted_answer_id": 55843328, "answer_count": 1, "score": 1, "last_activity_date": 1556174786, "creation_date": 1556145623, "question_id": 55839506, "link": "https://stackoverflow.com/questions/55839506/do-you-need-time-deltatime-in-rigidbody-addforce", "title": "Do you need time.deltatime in Rigidbody.addforce?", "body": "<p>I was recently working on a project and wondered this. Since addforce is instant, do you still need time.deltatime? My Forcemode2D is impulse, if that matters.</p>\n"}, {"tags": ["c#", ".net", "excel-dna"], "answers": [{"tags": [], "owner": {"reputation": 15406, "user_id": 44264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60d941e5d68ed49560a678a4f37c2bbb?s=128&d=identicon&r=PG", "display_name": "Govert", "link": "https://stackoverflow.com/users/44264/govert"}, "is_accepted": true, "score": 1, "last_activity_date": 1556178350, "creation_date": 1556178350, "answer_id": 55844251, "question_id": 55839471, "link": "https://stackoverflow.com/questions/55839471/how-to-add-entire-column-using-excel-dna-in-c/55844251#55844251", "title": "how to add entire column using excel-dna in C#", "body": "<pre><code>    app.ActiveSheet.Columns(\"A:A\").Select()\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 6237666, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1EzuRZNiiSs/AAAAAAAAAAI/AAAAAAAAABA/jJ3V4EW8Cow/photo.jpg?sz=128", "display_name": "Anagh Verma", "link": "https://stackoverflow.com/users/6237666/anagh-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 55844251, "answer_count": 1, "score": 0, "last_activity_date": 1556178350, "creation_date": 1556145363, "last_edit_date": 1556145780, "question_id": 55839471, "link": "https://stackoverflow.com/questions/55839471/how-to-add-entire-column-using-excel-dna-in-c", "title": "how to add entire column using excel-dna in C#", "body": "<p>Need to open a existing xlsx where a ribben menu and a button require. on click of button need to add 9 blank columns. so shift whole A column to right keep adding  9 blank columns then update them with some calculation.calculation is a lator part , not able to add blank columns</p>\n\n<p>Added menu and button and on click of button tried below code.</p>\n\n<pre><code>var app = (Microsoft.Office.Interop.Excel.Application)ExcelDnaUtil.Application;\napp.Selection.Insert();\n</code></pre>\n\n<p>when excel open and if i select whole column manually and click on button it add a blank column and shift A to right ... now not sure how to select whole column using code.</p>\n\n<p>tried few thing but not selecting</p>\n\n<pre><code> XlCall.Excel(XlCall.xlcSelectEnd, 4);\n        ExcelReference selection = \n(ExcelReference)XlCall.Excel(XlCall.xlfSelection);\n\nvar row = selection.RowFirst;\nvar col = selection.ColumnFirst;\nvar col1 = selection.ColumnLast;\n//var val1 = selection.GetValue();\n//selection.SetValue(343443);\n\nvar activeCell = new ExcelReference(0, row, 0, 0);\napp.Selection.Insert();\n</code></pre>\n\n<p>but not selecting .. \nplease advise how to add blank column.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 1, "creation_date": 1556145260, "post_id": 55839403, "comment_id": 98342662, "body": "Don&#39;t create a new <code>Graphics</code> object, use the one given to you in your <code>PaintEventArgs</code> (<code>e.Graphics</code>).  If for some reason you ever do create a new <code>Graphics</code> (which you don&#39;t need to do here - just repeating), make sure you <code>Dispose</code> it (typically with a <code>using</code> statement).  Graphics objects wrap Win32 <i>Device Contexts</i>, and they need to be aggressively released."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1556146862, "post_id": 55839403, "comment_id": 98343040, "body": "You have got to get a book or follow a tutorial, WinForm graphics are too complicated to guess your way."}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1556147183, "post_id": 55839403, "comment_id": 98343100, "body": "Yeah, listen to @DourHighArch.  I just looked at your <code>Main</code> func (originally, I only looked at your <code>OnPaint</code>).  Creating a <code>Graphics</code> there is useless, as is trying to draw onto your form (although the <code>Form</code> object is created, until you call <code>Application.Run</code> on it (and a whole lot of behind-the-scenes code runs), you don&#39;t have a window, so there&#39;s nothing to draw on.  In Windows Forms, you should do all your drawing in <code>OnPaint</code> using the <code>e.Graphics</code>.  You control when <code>OnPaint</code> runs by carefully invalidating parts of your window. All this dates back to Win32 (which WinForms wraps)"}, {"owner": {"reputation": 25, "user_id": 11407744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84b38f53d69513da11dfe9beb571bfd9?s=128&d=identicon&r=PG&f=1", "display_name": "MortisFillius", "link": "https://stackoverflow.com/users/11407744/mortisfillius"}, "reply_to_user": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1556150972, "post_id": 55839403, "comment_id": 98343712, "body": "@Flydog57 Hmm, I do generally want to find tutorials, the problem was just that I saw a difference between using the built in visual studio functionalities, and just pure coding it. How big is the difference there? And is there a difference at all? Just asking tp know if the tutorials using the visual studio functionalities when it comes to forms, is actually useable."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1556156311, "post_id": 55839403, "comment_id": 98344619, "body": "<i>difference between using the built in visual studio functionalities, and just pure coding</i> I have <b>no idea</b> what you might mean by that. What &#39;visual studio functionalities&#39; do you have in mind??? - <code>graphics = form1.CreateGraphics();</code> should be <code>Graphics graphics = e.Graphics;</code> for starters."}, {"owner": {"reputation": 25, "user_id": 11407744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84b38f53d69513da11dfe9beb571bfd9?s=128&d=identicon&r=PG&f=1", "display_name": "MortisFillius", "link": "https://stackoverflow.com/users/11407744/mortisfillius"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1556183719, "post_id": 55839403, "comment_id": 98353696, "body": "@TaW  Well, what I am talking about is the designer that visual studio offers. Seems to appear when using the &quot;Windows form app&quot; template. From what I have been able to see, it seems like there are some things that are unique to it, like events that seem to assume that the code is &quot;placed&quot; on a form Fx ones that are formatted like this [name of form]_[event form, fx MouseDown] (PaintEventArgs).  I might just genuinly be an idiot right now, but that designer has a bunch of functionalities, so linking files more easily would make sense, in my mind at least."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1556183941, "post_id": 55839403, "comment_id": 98353827, "body": "So you mean the forms designer? (Not some old paint tool, which at some point used to be included in some VS versions??). Yes the forms designer is meant to compose forms and user controls by adding controls and styling them along with docking and anchoring behaviour. Pretty much no graphics there beyond setting backcolors. Absolutely everything you do in the designer is reflected in the xxDesigner.cs files meaning that it is all in code as well!"}, {"owner": {"reputation": 25, "user_id": 11407744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84b38f53d69513da11dfe9beb571bfd9?s=128&d=identicon&r=PG&f=1", "display_name": "MortisFillius", "link": "https://stackoverflow.com/users/11407744/mortisfillius"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1556184460, "post_id": 55839403, "comment_id": 98354129, "body": "@TaW Edited my previous comment to explain better, just woke up so acidentally pressed enter without holding shift... But yes, the forms designer, everyone seems to use it, and from what I have searched for here, everyone recommends it, but again, I am not a fan of using such built in functions, since I have had enough hardships with going from Unity&#39;s simplified Libraries to console coding. And yeah, from what I have seen there aren&#39;t any graphics there, but it seems to make the process of connecting the form to the code easier and more standardized, if that makes sense?"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1556184681, "post_id": 55839403, "comment_id": 98354275, "body": "It certainly help to use a wysiwyg editor to compose the surface and its potentially very many parts (Controls).. All the real work will still happen in the editor and that will include all graphics coding."}, {"owner": {"reputation": 25, "user_id": 11407744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84b38f53d69513da11dfe9beb571bfd9?s=128&d=identicon&r=PG&f=1", "display_name": "MortisFillius", "link": "https://stackoverflow.com/users/11407744/mortisfillius"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 1, "creation_date": 1556187905, "post_id": 55839403, "comment_id": 98356209, "body": "@TaW Hey, just wanted to thank you, finding out that the code for the designer existed (although a tad hidden) in a .cs file helped a ton, and I got my script to work. So thanks :)"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1556188050, "post_id": 55839403, "comment_id": 98356296, "body": "Glad to hear that. Do note the other comments though, as the basics of winforms graphics are essential to get the desired results and not all examples, esp. on MSDN get it quite right.."}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 11407744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84b38f53d69513da11dfe9beb571bfd9?s=128&d=identicon&r=PG&f=1", "display_name": "MortisFillius", "link": "https://stackoverflow.com/users/11407744/mortisfillius"}, "is_accepted": false, "score": 0, "last_activity_date": 1556188445, "creation_date": 1556188445, "answer_id": 55847276, "question_id": 55839403, "link": "https://stackoverflow.com/questions/55839403/drawing-shapes-without-visual-studio-designer-shapes-not-showing-and-events-not/55847276#55847276", "title": "Drawing shapes without visual studio designer. Shapes not showing and events not firing", "body": "<p>Just in case someone other than me was looking for this, the problem was two main things:\n1, the events weren't connected to anything, so I needed to add a line like this: </p>\n\n<pre><code>[Form variable].[form event] += new PaintEventHandler([Class].[Method with an object sender and an event argument]\n//Example of that\nform1.Paint += new PaintEventHandler(Genetics.Paint);\n</code></pre>\n\n<p>Without this, nothing will happen since the methods and events aren't connected.</p>\n\n<p>2, mostly a repeat of the comments, I needed to have all the draw functions in events, since they won't have anything to draw to, before the application is actually run. Then it's just a matter of invalidating the code inside those events, to force the form to be redrawn. </p>\n"}], "owner": {"reputation": 25, "user_id": 11407744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84b38f53d69513da11dfe9beb571bfd9?s=128&d=identicon&r=PG&f=1", "display_name": "MortisFillius", "link": "https://stackoverflow.com/users/11407744/mortisfillius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1556188445, "creation_date": 1556144970, "question_id": 55839403, "link": "https://stackoverflow.com/questions/55839403/drawing-shapes-without-visual-studio-designer-shapes-not-showing-and-events-not", "title": "Drawing shapes without visual studio designer. Shapes not showing and events not firing", "body": "<p>I am simply trying to draw some shapes without the use of visual studio functionality, most tutorials use that, and I am reasonbly sure that the coding is different because of that, so last resort was to ask here. </p>\n\n<p>Following some guides on forms, that didn't use any visual studio (and yeah, I know that it is much easier with it, but using such things has screwed me in the past, so wanna learn without) I got the form made and such, but when it came to actually drawing shapes, I hit a wall. </p>\n\n<p>I did a bit of debugging, from what I have been able to determine, the event does not fire at all. And the graphics code in the main function does nothing, just a blank form shows up. \nI tried a couple of variations on both the in-main code, and the event code, which is visible in the code, I also tried using a variant of the event that used a \"sender\" argument, no idea if changing that made any difference, none of them fired anyways. </p>\n\n<pre><code>using System;\nusing System.Windows.Forms;\nusing System.ComponentModel;\nusing System.Drawing;\nusing System.Workflow.ComponentModel;\n\nclass Genetics : Form\n{\n\n    public static Form form1;\n    static void Main(string[] args)\n    {\n\n        form1 = new Form();\n        form1.Size = new Size(800, 800);\n\n        Pen blackpen = new Pen(Color.Black, 10);\n        Graphics G = form1.CreateGraphics();\n\n        G.DrawRectangle(blackpen, form1.Width - form1.Width / 2, form1.Width - form1.Width / 2, 300, 300);\n\n      form1.CreateGraphics().DrawRectangle(blackpen, form1.Width -    form1.Width / 2, form1.Width - form1.Width / 2, 300, 300);\n\n        Application.Run(form1);\n\n\n    }\n\n    protected override void OnPaint(PaintEventArgs e)\n    {        \n        Graphics graphics;\n        graphics = form1.CreateGraphics();\n\n        Pen mypen = new Pen(Color.Black, 5);\n\n        graphics.DrawLine(mypen, 20, 20, 200, 210);\n\n        e.Graphics.DrawRectangle(mypen, 20, 20, 200, 210);\n\n    }\n\n\n}\n</code></pre>\n\n<p>I don't get any errors or anything, it just... Doesn't do anything, other than shows the form, but that is a bit of a bare minimum. </p>\n\n<p>I know this is probarbly easy to fix, but again, all tutorials used visual studio forms, and unsure if the code was different. Since I have tried straight up copying that code and it gave me errors, I assume I am correct, but not 100% sure. \nAnd I am reasonbly experienced, I am just used to writing in unity, the process of going from there to pure code has been difficult for me though.</p>\n"}, {"tags": ["c#", "datagridview"], "comments": [{"owner": {"reputation": 1280, "user_id": 1973651, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jvzoF.jpg?s=128&g=1", "display_name": "Circle Hsiao", "link": "https://stackoverflow.com/users/1973651/circle-hsiao"}, "edited": false, "score": 0, "creation_date": 1556165368, "post_id": 55839376, "comment_id": 98346313, "body": "Use <code>TemplateField</code> to customize your row and <a href=\"https://getbootstrap.com/docs/4.1/components/collapse/\" rel=\"nofollow noreferrer\">bootstrap collapse</a> to hide/show comment line."}, {"owner": {"reputation": 4985, "user_id": 3773066, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/mPcCO.jpg?s=128&g=1", "display_name": "OhBeWise", "link": "https://stackoverflow.com/users/3773066/ohbewise"}, "edited": false, "score": 0, "creation_date": 1556198038, "post_id": 55839376, "comment_id": 98362125, "body": "As an alternative and with a little work, you can get <a href=\"https://www.codeproject.com/Tips/835501/Master-Detail-Datagridview\" rel=\"nofollow noreferrer\">this Master-Detail</a> in VB converted to C#. I used <a href=\"http://converter.telerik.com/\" rel=\"nofollow noreferrer\">Telerik Converter</a> for the heavy lifting, manually fixed the errors, and had to add my own expand/collapse.png&#39;s to the MasterControl.cs [Design] RowHeaderIconList.Images collection."}], "owner": {"reputation": 171, "user_id": 4476003, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0452b1c045a2b4af7e8e53c21dc761bf?s=128&d=identicon&r=PG&f=1", "display_name": "Tammboy", "link": "https://stackoverflow.com/users/4476003/tammboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556206659, "creation_date": 1556144752, "last_edit_date": 1556206659, "question_id": 55839376, "link": "https://stackoverflow.com/questions/55839376/create-child-rows-within-datagridview", "title": "Create child rows within datagridview", "body": "<p>I have a datagridview which populates a number of numeric columns values in rows as standard for a datagridview:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vJTVc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vJTVc.png\" alt=\"DataGridView Subsection image1\"></a></p>\n\n<p>At the end of the gridview is a text column with a long string of text in it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rW2BV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rW2BV.png\" alt=\"DataGridView Subsection image2\"></a></p>\n\n<p>Each comment applies to the data in its respective row. </p>\n\n<p>Is it possible to manipulate the datagridview so:</p>\n\n<ol>\n<li><p>the comment line appears below each row, interspersing each row (and it wrapped)</p></li>\n<li><p>implement a tick box which hides or shows the comments between each row?</p></li>\n</ol>\n\n<p>An abbreviated version of the code to populate datagridview is as follows:</p>\n\n<pre><code>public Form04(System.Windows.Forms.Form parentForm)\n        {\n           InitializeComponent();\n           opener = parentForm;\n           dgvForm.DataSource = GetForm();\n           dgvForm.AutoSizeColumnsMode = \n           DataGridViewAutoSizeColumnsMode.DisplayedCells;\n        }\n\nprivate DataTable GetForm()\n        {\n            DataTable dtForm = new DataTable();\n            string connString = ConfigurationManager.ConnectionStrings[\"dbx\"].ConnectionString;\n            using (SqlConnection con = new SqlConnection(connString))\n            {\n                using (SqlCommand cmd = new SqlCommand(@\"SELECT\n                         Date\n                        ,Course\n                        ,Dist\n                        ,Age\n                        ,Btn\n                        ,Position\n                        ,Odds\n                        ,Comment\n                        FROM [Smartform].[dbo].[Performances]\" \n                {\n                    con.Open();\n                    SqlDataReader reader = cmd.ExecuteReader();\n                    dtForm.Load(reader);\n                }\n            }\n            return dtForm;\n        }\n\n</code></pre>\n\n<p>How can I edit it to achieve the comment in a long (and wrapped string) sitting below the other columns, interspersing each row with a tick-box option to make the comment visible/hidden?</p>\n"}, {"tags": ["c#", ".net-core", "botframework", "direct-line-botframework"], "comments": [{"owner": {"reputation": 12807, "user_id": 3136339, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CyHpv.jpg?s=128&g=1", "display_name": "Nicolas R", "link": "https://stackoverflow.com/users/3136339/nicolas-r"}, "edited": false, "score": 0, "creation_date": 1556180413, "post_id": 55839371, "comment_id": 98351897, "body": "The name / details of the exception is missing in your details, you just added the path"}, {"owner": {"reputation": 5186, "user_id": 3962636, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c30d90a87f337bdfe5d28e3212ff087?s=128&d=identicon&r=PG", "display_name": "Steven Kanberg", "link": "https://stackoverflow.com/users/3962636/steven-kanberg"}, "edited": false, "score": 0, "creation_date": 1556217845, "post_id": 55839371, "comment_id": 98372926, "body": "Are you trying to send the image file to be displayed or as an item to click, save, download?"}, {"owner": {"reputation": 723, "user_id": 11083892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c583f58711a75da59e11d6c11e7cbde7?s=128&d=identicon&r=PG&f=1", "display_name": "Chithambara Kumar", "link": "https://stackoverflow.com/users/11083892/chithambara-kumar"}, "reply_to_user": {"reputation": 5186, "user_id": 3962636, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c30d90a87f337bdfe5d28e3212ff087?s=128&d=identicon&r=PG", "display_name": "Steven Kanberg", "link": "https://stackoverflow.com/users/3962636/steven-kanberg"}, "edited": false, "score": 0, "creation_date": 1556455349, "post_id": 55839371, "comment_id": 98437590, "body": "@StevenKanberg I was trying to send image as an item to click and save, i think i figured out the issue, directline supports only 4MB message size, the base64string of my image is very large , causing the message to exceed 4MB, now am uploading the image to azure blob and using the blob uri as contentURI , it is working now"}], "answers": [{"tags": [], "owner": {"reputation": 723, "user_id": 11083892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c583f58711a75da59e11d6c11e7cbde7?s=128&d=identicon&r=PG&f=1", "display_name": "Chithambara Kumar", "link": "https://stackoverflow.com/users/11083892/chithambara-kumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1575936379, "creation_date": 1575936379, "answer_id": 59258408, "question_id": 55839371, "link": "https://stackoverflow.com/questions/55839371/unable-to-send-attachment-in-webchat-using-directline-same-code-is-working-fine/59258408#59258408", "title": "Unable to send Attachment in Webchat using directline, same code is working fine in emulator", "body": "<p>For those who are facing this issue , below is the root cause.</p>\n\n<p>I was trying to send image as an item to click and save, i think i figured out the issue, directline supports only 4MB message size, the base64string of my image is very large , causing the message to exceed 4MB, now am uploading the image to azure blob and using the blob uri as contentURI , it is working now</p>\n"}], "owner": {"reputation": 723, "user_id": 11083892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c583f58711a75da59e11d6c11e7cbde7?s=128&d=identicon&r=PG&f=1", "display_name": "Chithambara Kumar", "link": "https://stackoverflow.com/users/11083892/chithambara-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 59258408, "answer_count": 1, "score": 0, "last_activity_date": 1575936379, "creation_date": 1556144664, "last_edit_date": 1556180579, "question_id": 55839371, "link": "https://stackoverflow.com/questions/55839371/unable-to-send-attachment-in-webchat-using-directline-same-code-is-working-fine", "title": "Unable to send Attachment in Webchat using directline, same code is working fine in emulator", "body": "<pre><code>var response = MessageFactory.Attachment(new Attachment\n{\n     Name = @\"application.png\",\n     ContentType = \"image/png\",\n     ContentUrl =  \"base64sting\"\n});\n\nawait dc.Context.SendActivityAsync(response);\n</code></pre>\n\n<p>Above code throwing the below exception in webchat when i try to send attachment to user , in emulator it is working fine</p>\n\n<blockquote>\n  <p>at\n  Microsoft.Bot.Connector.Conversations.ReplyToActivityWithHttpMessagesAsync(String\n  conversationId, String activityId, Activity activity, Dictionary`2\n  customHeaders, CancellationToken cancellationToken) in\n  D:\\a\\1\\s\\libraries\\Microsoft.Bot.Connector\\Conversations.cs:line 1121</p>\n  \n  <p>at\n  Microsoft.Bot.Connector.ConversationsExtensions.ReplyToActivityAsync(IConversations\n  operations, String conversationId, String activityId, Activity\n  activity, CancellationToken cancellationToken) in\n  D:\\a\\1\\s\\libraries\\Microsoft.Bot.Connector\\ConversationsExtensions.cs:line\n  241</p>\n  \n  <p>at\n  Microsoft.Bot.Builder.BotFrameworkAdapter.SendActivitiesAsync(ITurnContext\n  turnContext, Activity[] activities, CancellationToken\n  cancellationToken) in\n  D:\\a\\1\\s\\libraries\\Microsoft.Bot.Builder\\BotFrameworkAdapter.cs:line\n  316</p>\n  \n  <p>at\n  Microsoft.Bot.Builder.TurnContext.&lt;>c__DisplayClass22_0.d.MoveNext()\n  in D:\\a\\1\\s\\libraries\\Microsoft.Bot.Builder\\TurnContext.cs:line 267</p>\n</blockquote>\n\n<p>I even tried this</p>\n\n<pre><code>using (var connector = new ConnectorClient(new Uri(serviceUrl)))\n{\n    var attachments = new Attachments(connector);\n    var response = await attachments.Client.Conversations.UploadAttachmentAsync(\n        conversationId,\n        new AttachmentData\n        {\n            Name = @\"Resources\\architecture-resize.png\",\n            OriginalBase64 = File.ReadAllBytes(imagePath),\n            Type = \"image/png\",\n        }\n    );\n\n    var attachmentUri = attachments.GetAttachmentUri(response.Id);\n\n    return new Attachment\n    {\n        Name = @\"Resources\\architecture-resize.png\",\n        ContentType = \"image/png\",\n        ContentUrl = attachmentUri,\n    };\n}\n</code></pre>\n\n<p>this is failing as well, is there any work around to send attachment to user using webchat without having hosted content url?</p>\n"}, {"tags": ["c#", "asp.net", "sqldatareader"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1556145083, "post_id": 55839360, "comment_id": 98342610, "body": "At the most basic level you could use the reader to fill a DataTable and return a DataTable (see DataTable.Load method) but the best thing to do is to have a specific object that represent your data record and fill a list of those objects. ORM are libraries that help you in this field converting your bare bone records in your domain objects"}], "answers": [{"tags": [], "owner": {"reputation": 803, "user_id": 1448816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVKQA.jpg?s=128&g=1", "display_name": "Shaikh Mubeen", "link": "https://stackoverflow.com/users/1448816/shaikh-mubeen"}, "is_accepted": false, "score": 2, "last_activity_date": 1556146325, "creation_date": 1556146325, "answer_id": 55839593, "question_id": 55839360, "link": "https://stackoverflow.com/questions/55839360/how-do-i-clone-data-from-a-sqldatareader-keeping-all-columns-and-rows-in-a-way-t/55839593#55839593", "title": "How do I clone data from a SqlDataReader keeping all Columns and Rows in a way that can be exported through a method?", "body": "<p>You can try this</p>\n\n<pre><code>IEnumerable&lt;IDataRecord&gt; GetRecords()\n{\n    using(var connection = new SqlConnection(@\"...\"))\n    {\n        connection.Open();\n\n        using(var command = new SqlCommand(@\"...\", connection);\n        {\n            using(var reader = command.ExecuteReader())\n            {\n               while(reader.Read())\n               {\n                   // your code here.\n                   yield return reader;\n               }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "is_accepted": true, "score": 2, "last_activity_date": 1556190740, "last_edit_date": 1556190740, "creation_date": 1556146622, "answer_id": 55839638, "question_id": 55839360, "link": "https://stackoverflow.com/questions/55839360/how-do-i-clone-data-from-a-sqldatareader-keeping-all-columns-and-rows-in-a-way-t/55839638#55839638", "title": "How do I clone data from a SqlDataReader keeping all Columns and Rows in a way that can be exported through a method?", "body": "<p>You can return a <code>DataTable</code> which will preserve the columns and rows of the query.  Instead of a <code>SqlDataReader</code> consider using <code>SqlDataAdapter</code>.  One advantage is that the <code>Fill</code> method of <code>SqlDataAdapter</code> will open and close the connection for you.</p>\n\n<pre><code>var dt = new DataTable();    \nusing (var da = new SqlDataAdapter(query, cnn))\n{      \n    da.Fill(dt);\n}\n</code></pre>\n\n<p>Your full method might look something like this:</p>\n\n<pre><code>private DataTable GetData(string query)\n{\n    // New Connection String\n    string connetionString = ConfigurationManager.ConnectionStrings[\"ConnectionStringName\"].ConnectionString;\n\n    // Instantiate the SQL Connection with Connection String\n    SqlConnection cnn = new SqlConnection(connetionString);\n\n    // declare datatable\n    var dt = new DataTable();    \n\n    // create SqlDataAdapter \n    using (var da = new SqlDataAdapter(query, cnn))\n    {      \n        // fill datatable\n        da.Fill(dt);\n    }\n\n    return dt;\n}\n</code></pre>\n\n<p>You will then need to read from the DataTable.  See my answer <a href=\"https://stackoverflow.com/a/54356978/9665021\">here</a> for a method to read data.  The method in the linked answer uses the <code>Field&lt;T&gt;</code> extension from <code>DataSetExtensions</code> to extract data.  Please see example below:</p>\n\n<pre><code>// get data from your method\nDataTable table = GetData(\"select * from MyTable\");\n\n// iterate over the rows of the datatable\nforeach (var row in table.AsEnumerable())  // AsEnumerable() returns IEnumerable&lt;DataRow&gt;\n{\n    var id = row.Field&lt;int&gt;(\"ID\");                           // int\n    var name = row.Field&lt;string&gt;(\"Name\");                    // string\n    var orderValue = row.Field&lt;decimal&gt;(\"OrderValue\");       // decimal\n    var interestRate = row.Field&lt;double&gt;(\"InterestRate\");    // double\n    var isActive = row.Field&lt;bool&gt;(\"Active\");                // bool\n    var orderDate = row.Field&lt;DateTime&gt;(\"OrderDate\");        // DateTime\n}\n</code></pre>\n\n<p>To check if a DataTable is null/ empty see this <a href=\"https://stackoverflow.com/a/55210678/9665021\">answer</a>.  It can be as simple as:</p>\n\n<pre><code>if(table?.Rows?.Count() &gt; 0) { ... }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8512829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LOg24.png?s=128&g=1", "display_name": "T. Godsey", "link": "https://stackoverflow.com/users/8512829/t-godsey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 926, "favorite_count": 0, "accepted_answer_id": 55839638, "answer_count": 2, "score": 1, "last_activity_date": 1556190740, "creation_date": 1556144586, "last_edit_date": 1556182605, "question_id": 55839360, "link": "https://stackoverflow.com/questions/55839360/how-do-i-clone-data-from-a-sqldatareader-keeping-all-columns-and-rows-in-a-way-t", "title": "How do I clone data from a SqlDataReader keeping all Columns and Rows in a way that can be exported through a method?", "body": "<p>I'm currently trying to create a method that allows me to run any query on a connectionstring, and get the results returned in a readable way for my ASP.Net website. Because I need access to all rows and columns a query might need, I cannot simply return a string or an array of strings. If I return a SqlDataReader, I'm not able to read the data outside of the method, because the connection is closed. </p>\n\n<p>This is what my method currently looks like.</p>\n\n<pre><code>private SqlDataReader QueryConnectionString (string query)\n    {\n        // New SQL Connection\n        SqlConnection cnn;\n\n        // New Connection String\n        string connetionString = ConfigurationManager.ConnectionStrings[\"ConnectionStringName\"].ConnectionString;\n\n        // Instantiate the SQL Connection with Connection String\n        cnn = new SqlConnection(connetionString);\n\n        // Create a SqlCommand with the input Query\n        SqlCommand command = new SqlCommand(query, cnn);\n\n        cnn.Open();\n\n        // Create a SqlDataReader and tie it to the query\n        SqlDataReader reader = command.ExecuteReader();        \n\n        cnn.Close();\n\n        return reader;\n    }\n</code></pre>\n\n<p>In my other methods I would have something like this</p>\n\n<pre><code>SqlDataReader reader = QueryConnectionString(\"SELECT * FROM tTable\");\n\nlblOutput.Text = reader.GetString(0);\n</code></pre>\n\n<p>But doing so gives me the error</p>\n\n<blockquote>\n  <p>System.InvalidOperationException: 'Invalid attempt to call\n  CheckDataIsReady when reader is closed.'</p>\n</blockquote>\n\n<p>I realize that returning a SqlDataReader is not an option. What can I return the data as so that other methods can read the data?</p>\n"}, {"tags": ["c#", "powershell"], "answers": [{"tags": [], "owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "is_accepted": true, "score": 3, "last_activity_date": 1556147109, "creation_date": 1556147109, "answer_id": 55839700, "question_id": 55839286, "link": "https://stackoverflow.com/questions/55839286/how-to-answer-to-read-host-from-c-code-that-invoked-that-powershell-script/55839700#55839700", "title": "How to answer to Read-Host from C# code that invoked that PowerShell script?", "body": "<p>You can call <code>WriteLine()</code> on the <code>StandardInput</code> of the process. That will provide data for one <code>Read-Host</code> in the script. </p>\n\n<p>To do so make sure <code>UseShellExecute</code> of the respective <code>ProcessStartInfo</code> is set to <code>false</code> and its <code>RedirectStandardInput</code> to <code>true</code>.</p>\n\n<p>So for example</p>\n\n<pre><code>    Process p = Process.Start(new ProcessStartInfo()\n    {\n        FileName = \"powershell\",\n        Arguments = @\"C:\\Users\\Konstantin\\ps.ps1\",\n        UseShellExecute = false,\n        RedirectStandardInput = true,\n    });\n\n    p.StandardInput.WriteLine(\"abc\");\n</code></pre>\n\n<p>will provide \"abc\" to the first <code>Read-Host</code> of the script <code>C:\\Users\\Konstantin\\ps.ps1</code>.</p>\n\n<p>If there are more <code>Read-Host</code>s call <code>WriteLine()</code> again. Or you can use string concatenation with <code>StandardInput.NewLine</code> and just use <code>Write</code>. For example</p>\n\n<pre><code>p.StandardInput.Write(\"abc\" + StandardInput.NewLine + \"xyz\" + StandardInput.NewLine);\n</code></pre>\n\n<p>will provide \"abc\" for the first and \"xyz\" for the second <code>Read-Host</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 3312, "user_id": 1930135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81a8ea736e2650eb0e1d78f9fb04d5a1?s=128&d=identicon&r=PG", "display_name": "Patrick Meinecke", "link": "https://stackoverflow.com/users/1930135/patrick-meinecke"}, "is_accepted": false, "score": 0, "last_activity_date": 1556159601, "creation_date": 1556159601, "answer_id": 55841017, "question_id": 55839286, "link": "https://stackoverflow.com/questions/55839286/how-to-answer-to-read-host-from-c-code-that-invoked-that-powershell-script/55841017#55841017", "title": "How to answer to Read-Host from C# code that invoked that PowerShell script?", "body": "<p>If you're invoking the PowerShell script in-process then the only way to override the behavior of <code>Read-Host</code> is to define a custom <code>PSHost</code> for the process.  The behavior is defined by the method <code>PSHostUserInterface.ReadLine</code>.  Here is a bare minimum example of what you need to override just <code>Read-Host</code>.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Collections.ObjectModel;\nusing System.Globalization;\nusing System.Management.Automation;\nusing System.Management.Automation.Host;\nusing System.Management.Automation.Runspaces;\nusing System.Security;\n\n\nnamespace CustomHostExample\n{\n    public static class Program\n    {\n        public static void Main()\n        {\n            var host = new CustomPSHost();\n            using (Runspace rs = RunspaceFactory.CreateRunspace(host))\n            using (PowerShell pwsh = PowerShell.Create())\n            {\n                rs.Open();\n                pwsh.Runspace = rs;\n                pwsh.AddCommand(\"Read-Host\").Invoke();\n            }\n        }\n    }\n\n    public class CustomPSHost : PSHost\n    {\n        public override string Name =&gt; \"Custom Host\";\n\n        public override Version Version =&gt; new Version(1, 0, 0, 0);\n\n        public override Guid InstanceId { get; } = Guid.NewGuid();\n\n        public override PSHostUserInterface UI { get; } = new CustomPSHostUserInterface();\n\n        public override CultureInfo CurrentCulture =&gt; CultureInfo.CurrentCulture;\n\n        public override CultureInfo CurrentUICulture =&gt; CultureInfo.CurrentUICulture;\n\n        public override void EnterNestedPrompt()\n            =&gt; throw new NotImplementedException();\n\n        public override void ExitNestedPrompt()\n            =&gt; throw new NotImplementedException();\n\n        public override void NotifyBeginApplication()\n            =&gt; throw new NotImplementedException();\n\n        public override void NotifyEndApplication()\n            =&gt; throw new NotImplementedException();\n\n        public override void SetShouldExit(int exitCode)\n            =&gt; throw new NotImplementedException();\n    }\n\n    public class CustomPSHostUserInterface : PSHostUserInterface\n    {\n        public override PSHostRawUserInterface RawUI { get; } = new CustomPSHostRawUserInterface();\n\n        public override string ReadLine()\n        {\n            return Console.ReadLine();\n        }\n\n        public override Dictionary&lt;string, PSObject&gt; Prompt(\n            string caption,\n            string message,\n            Collection&lt;FieldDescription&gt; descriptions)\n            =&gt; throw new NotImplementedException();\n\n        public override int PromptForChoice(\n            string caption,\n            string message,\n            Collection&lt;ChoiceDescription&gt; choices,\n            int defaultChoice)\n            =&gt; throw new NotImplementedException();\n\n        public override PSCredential PromptForCredential(\n            string caption,\n            string message,\n            string userName,\n            string targetName,\n            PSCredentialTypes allowedCredentialTypes,\n            PSCredentialUIOptions options)\n            =&gt; throw new NotImplementedException();\n\n        public override PSCredential PromptForCredential(\n            string caption,\n            string message,\n            string userName,\n            string targetName)\n            =&gt; throw new NotImplementedException();\n\n        public override SecureString ReadLineAsSecureString()\n            =&gt; throw new NotImplementedException();\n\n        public override void Write(ConsoleColor foregroundColor, ConsoleColor backgroundColor, string value)\n            =&gt; throw new NotImplementedException();\n\n        public override void Write(string value)\n            =&gt; throw new NotImplementedException();\n\n        public override void WriteDebugLine(string message)\n            =&gt; throw new NotImplementedException();\n\n        public override void WriteErrorLine(string value)\n            =&gt; throw new NotImplementedException();\n\n        public override void WriteLine(string value)\n            =&gt; throw new NotImplementedException();\n\n        public override void WriteProgress(long sourceId, ProgressRecord record)\n            =&gt; throw new NotImplementedException();\n\n        public override void WriteVerboseLine(string message)\n            =&gt; throw new NotImplementedException();\n\n        public override void WriteWarningLine(string message)\n            =&gt; throw new NotImplementedException();\n    }\n\n    public class CustomPSHostRawUserInterface : PSHostRawUserInterface\n    {\n        public override ConsoleColor BackgroundColor\n        {\n            get =&gt; throw new NotImplementedException();\n            set =&gt; throw new NotImplementedException();\n        }\n\n        public override Size BufferSize\n        {\n            get =&gt; throw new NotImplementedException();\n            set =&gt; throw new NotImplementedException();\n        }\n\n        public override Coordinates CursorPosition\n        {\n            get =&gt; throw new NotImplementedException();\n            set =&gt; throw new NotImplementedException();\n        }\n\n        public override int CursorSize\n        {\n            get =&gt; throw new NotImplementedException();\n            set =&gt; throw new NotImplementedException();\n        }\n\n        public override ConsoleColor ForegroundColor\n        {\n            get =&gt; throw new NotImplementedException();\n            set =&gt; throw new NotImplementedException();\n        }\n\n        public override Coordinates WindowPosition\n        {\n            get =&gt; throw new NotImplementedException();\n            set =&gt; throw new NotImplementedException();\n        }\n\n        public override Size WindowSize\n        {\n            get =&gt; throw new NotImplementedException();\n            set =&gt; throw new NotImplementedException();\n        }\n\n        public override string WindowTitle\n        {\n            get =&gt; throw new NotImplementedException();\n            set =&gt; throw new NotImplementedException();\n        }\n\n        public override bool KeyAvailable\n            =&gt; throw new NotImplementedException();\n\n        public override Size MaxPhysicalWindowSize\n            =&gt; throw new NotImplementedException();\n\n        public override Size MaxWindowSize\n            =&gt; throw new NotImplementedException();\n\n        public override void FlushInputBuffer()\n            =&gt; throw new NotImplementedException();\n\n        public override BufferCell[,] GetBufferContents(Rectangle rectangle)\n            =&gt; throw new NotImplementedException();\n\n        public override KeyInfo ReadKey(ReadKeyOptions options)\n            =&gt; throw new NotImplementedException();\n\n        public override void ScrollBufferContents(\n            Rectangle source,\n            Coordinates destination,\n            Rectangle clip,\n            BufferCell fill)\n            =&gt; throw new NotImplementedException();\n\n        public override void SetBufferContents(Coordinates origin, BufferCell[,] contents)\n            =&gt; throw new NotImplementedException();\n\n        public override void SetBufferContents(Rectangle rectangle, BufferCell fill)\n            =&gt; throw new NotImplementedException();\n    }\n}\n</code></pre>\n\n<p>Note: Every method shown that doesn't throw a <code>NotImplementedException</code> <em>must</em> be implemented or PowerShell will deadlock or throw.  More methods will need to be implemented depending on what else of <code>PSHost</code> is called.</p>\n"}], "owner": {"reputation": 33, "user_id": 11407749, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157215434889190/picture?type=large", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/11407749/konstantin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 1, "accepted_answer_id": 55839700, "answer_count": 2, "score": 3, "last_activity_date": 1556159601, "creation_date": 1556144055, "question_id": 55839286, "link": "https://stackoverflow.com/questions/55839286/how-to-answer-to-read-host-from-c-code-that-invoked-that-powershell-script", "title": "How to answer to Read-Host from C# code that invoked that PowerShell script?", "body": "<p>I need to run PowerShell script from inside my C# code. That is easy. But then, my PowerShell script contains several Read-Host commands. Normally, the script execution would stop and the user should manually enter some value to PowerShell consoleas an answer. But what I need is to answer to these Read-Host requests from the same code in C# that executed and controls the flow of that script. In other words I need my script to stop at some point and await for some data input from my C# code, then get it and continue execution.</p>\n\n<p>I found how to run PS from C#, I found how to pass arguments or initial variables from C# to PS script when launching it, but I can't find any way how to make my script await for some data from the host application, receive it and continue exectuion within host application, all these during runtime of script, not on its launch. </p>\n\n<p>Can you please guide me to some direction fo search or code that might help?</p>\n"}, {"tags": ["c#", "wpf", "textbox", "alignment"], "comments": [{"owner": {"reputation": 1255, "user_id": 2855535, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WFeWk.jpg?s=128&g=1", "display_name": "PeonProgrammer", "link": "https://stackoverflow.com/users/2855535/peonprogrammer"}, "edited": false, "score": 0, "creation_date": 1556144505, "post_id": 55839262, "comment_id": 98342474, "body": "Welcome to StackOverflow @CylonGlitch, Could you perhaps provide a screenshot of the issue? I&#39;m having trouble picturing it."}, {"owner": {"reputation": 29, "user_id": 11116025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o1Ju8.jpg?s=128&g=1", "display_name": "CylonGlitch", "link": "https://stackoverflow.com/users/11116025/cylonglitch"}, "reply_to_user": {"reputation": 1255, "user_id": 2855535, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WFeWk.jpg?s=128&g=1", "display_name": "PeonProgrammer", "link": "https://stackoverflow.com/users/2855535/peonprogrammer"}, "edited": false, "score": 0, "creation_date": 1556145862, "post_id": 55839262, "comment_id": 98342796, "body": "Ok, sorry it took so long : <a href=\"https://i.imgur.com/0E1cTvp.png\" rel=\"nofollow noreferrer\">Custom Control Layout</a>  When I went and put it on a wide form <a href=\"https://i.imgur.com/GZTbZ7F.png\" rel=\"nofollow noreferrer\">My test form</a>"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 11116025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o1Ju8.jpg?s=128&g=1", "display_name": "CylonGlitch", "link": "https://stackoverflow.com/users/11116025/cylonglitch"}, "edited": false, "score": 0, "creation_date": 1556146049, "post_id": 55839474, "comment_id": 98342845, "body": "This looks like what I&#39;m trying to do.. thanks.  I&#39;m testing it now.  :D"}, {"owner": {"reputation": 29, "user_id": 11116025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o1Ju8.jpg?s=128&g=1", "display_name": "CylonGlitch", "link": "https://stackoverflow.com/users/11116025/cylonglitch"}, "edited": false, "score": 0, "creation_date": 1556146995, "post_id": 55839474, "comment_id": 98343066, "body": "I have tested it and it does seem to fix my problem.  Causes a few other things, such as the fonts are different, but that&#39;s fine, I think that is how it should be anyway.  :D  I appreciate your help."}, {"owner": {"reputation": 29, "user_id": 11116025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o1Ju8.jpg?s=128&g=1", "display_name": "CylonGlitch", "link": "https://stackoverflow.com/users/11116025/cylonglitch"}, "edited": false, "score": 0, "creation_date": 1556147717, "post_id": 55839474, "comment_id": 98343191, "body": "The only issue I see now is that when I put everything in the ViewBox, the rows have different heights, they seem completely random and don&#39;t seem to change.  Almost like everything is set to auto."}, {"owner": {"reputation": 13840, "user_id": 1177147, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/zHhAS.jpg?s=128&g=1", "display_name": "Mark Feldman", "link": "https://stackoverflow.com/users/1177147/mark-feldman"}, "reply_to_user": {"reputation": 29, "user_id": 11116025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o1Ju8.jpg?s=128&g=1", "display_name": "CylonGlitch", "link": "https://stackoverflow.com/users/11116025/cylonglitch"}, "edited": false, "score": 0, "creation_date": 1556148404, "post_id": 55839474, "comment_id": 98343330, "body": "I&#39;d have to see your exact usage. Can you not just get rid of the rows altogether and align your text to <code>Top</code> for N, <code>Right</code> for E etc with a margin?"}, {"owner": {"reputation": 29, "user_id": 11116025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o1Ju8.jpg?s=128&g=1", "display_name": "CylonGlitch", "link": "https://stackoverflow.com/users/11116025/cylonglitch"}, "edited": false, "score": 0, "creation_date": 1556203438, "post_id": 55839474, "comment_id": 98365701, "body": "Unfortunately, no.  There are a few other things I have to do, such as a button that pops up information about the compass, which is aligned with multiple rows of text at the bottom of the compass (south).  Getting closer to what I want.   Just find it odd that the rows and columns of a grid aren&#39;t following the same rules as they did when outside of the ViewBox."}], "tags": [], "owner": {"reputation": 13840, "user_id": 1177147, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/zHhAS.jpg?s=128&g=1", "display_name": "Mark Feldman", "link": "https://stackoverflow.com/users/1177147/mark-feldman"}, "is_accepted": false, "score": 0, "last_activity_date": 1556145389, "creation_date": 1556145389, "answer_id": 55839474, "question_id": 55839262, "link": "https://stackoverflow.com/questions/55839262/c-wpf-creating-custom-control-not-sure-how-to-align-text-correctly/55839474#55839474", "title": "C# WPF - Creating Custom Control. Not sure how to align Text Correctly", "body": "<p>Grid isn't really the best layout to use in this case, but you can force it to be square by putting a Viewbox around it and assigning your parent grid to a specific size. That will keep your text aligned properly:</p>\n\n<pre><code>&lt;Viewbox&gt;\n    &lt;Grid Width=\"200\" Height=\"200\"&gt;\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=\"25*\"/&gt;\n            &lt;ColumnDefinition Width=\"50*\"/&gt;\n            &lt;ColumnDefinition Width=\"25*\"/&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n        &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition Height=\"25*\"/&gt;\n            &lt;RowDefinition Height=\"50*\"/&gt;\n            &lt;RowDefinition Height=\"25*\"/&gt;\n        &lt;/Grid.RowDefinitions&gt;\n\n        &lt;!--&lt;Image x:Name=\"imageBackground\" Grid.Column=\"0\" Grid.Row=\"0\" Grid.ColumnSpan=\"3\" Grid.RowSpan=\"3\" Source=\"Resources/compass_face.png\"/&gt;\n        &lt;Image x:Name=\"imageArrow\" Grid.Column=\"1\" Grid.Row=\"1\" Source=\"Resources/arrow.png\"/&gt;--&gt;\n        &lt;Ellipse Fill=\"CornflowerBlue\" Grid.Column=\"0\" Grid.Row=\"0\" Grid.ColumnSpan=\"3\" Grid.RowSpan=\"3\" /&gt;\n        &lt;TextBlock Grid.Column=\"1\" Grid.Row=\"1\" Text=\"&amp;#x2191;\" FontSize=\"200\" Foreground=\"White\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" /&gt;\n\n        &lt;TextBlock x:Name=\"labelNorth\" Grid.Column=\"1\" Grid.Row=\"0\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Foreground=\"White\" FontWeight=\"Bold\" Text=\"N\"/&gt;\n        &lt;TextBlock x:Name=\"labelSouth\" Grid.Column=\"1\" Grid.Row=\"2\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Foreground=\"White\" FontWeight=\"Bold\" Text=\"S\"/&gt;\n        &lt;TextBlock x:Name=\"labelEast\" Grid.Column=\"2\" Grid.Row=\"1\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Foreground=\"White\" FontWeight=\"Bold\" Text=\"E\"/&gt;\n        &lt;TextBlock x:Name=\"labelWest\" Grid.Column=\"0\" Grid.Row=\"1\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Foreground=\"White\" FontWeight=\"Bold\" Text=\"W\"/&gt;\n    &lt;/Grid&gt;\n&lt;/Viewbox&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/CKTeW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CKTeW.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 29, "user_id": 11116025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o1Ju8.jpg?s=128&g=1", "display_name": "CylonGlitch", "link": "https://stackoverflow.com/users/11116025/cylonglitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556145389, "creation_date": 1556143894, "question_id": 55839262, "link": "https://stackoverflow.com/questions/55839262/c-wpf-creating-custom-control-not-sure-how-to-align-text-correctly", "title": "C# WPF - Creating Custom Control. Not sure how to align Text Correctly", "body": "<p>I'm trying to create a custom control; similar, say to a Compass, so it is circular.  I have a compass face image, and an arrow image that I can rotate to point the right direction.  The problem is that I have N,S,E,W markers that I want to update at times and thus made them labels.  I divided the field up into percentages and put the labels in the right grid locations.</p>\n\n<p>This all looks great.</p>\n\n<p>BUT when I use this custom control on various pages, some work and some don't.  What it comes down to is the size of the cell of the grid on the new page.  In one case the grid width is 4x the grid height.  The background image grows to fill the height; this is right.  The West and East TextBlocks are way off of the Compass_Face image because the 1/4th the width of the cell is way to the left.  I thought that they would be constrained to the size of the custom control but that appears to not be the problem.</p>\n\n<p>I'm sure that there has to be a way to keep the text constrained to the compass_face image.  Thoughts?</p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition Width=\"25*\"/&gt;\n        &lt;ColumnDefinition Width=\"50*\"/&gt;\n        &lt;ColumnDefinition Width=\"25*\"/&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height=\"25*\"/&gt;\n        &lt;RowDefinition Height=\"50*\"/&gt;\n        &lt;RowDefinition Height=\"25*\"/&gt;\n    &lt;/Grid.RowDefinitions&gt;\n    &lt;Image x:Name=\"imageBackground\" Grid.Column=\"0\" Grid.Row=\"0\" Grid.ColumnSpan=\"3\" Grid.RowSpan=\"3\" Source=\"Resources/compass_face.png\"/&gt;\n    &lt;Image x:Name=\"imageArrow\" Grid.Column=\"1\" Grid.Row=\"1\" Source=\"Resources/arrow.png\"/&gt;\n    &lt;TextBlock x:Name=\"labelNorth\" Grid.Column=\"1\" Grid.Row=\"0\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Foreground=\"White\" FontWeight=\"Bold\" Text=\"N\"/&gt;\n    &lt;TextBlock x:Name=\"labelSouth\" Grid.Column=\"1\" Grid.Row=\"2\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Foreground=\"White\" FontWeight=\"Bold\" Text=\"S\"/&gt;\n    &lt;TextBlock x:Name=\"labelEast\" Grid.Column=\"2\" Grid.Row=\"1\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Foreground=\"White\" FontWeight=\"Bold\" Text=\"E\"/&gt;\n    &lt;TextBlock x:Name=\"labelWest\" Grid.Column=\"0\" Grid.Row=\"1\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Foreground=\"White\" FontWeight=\"Bold\" Text=\"W\"/&gt;\n&lt;/Grid&gt;\n</code></pre>\n"}, {"tags": ["c#", "visual-studio-mac"], "comments": [{"owner": {"reputation": 386, "user_id": 8242696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30d156727d19a63b70ba89bf028f23e8?s=128&d=identicon&r=PG&f=1", "display_name": "Devin L.", "link": "https://stackoverflow.com/users/8242696/devin-l"}, "edited": false, "score": 0, "creation_date": 1556143923, "post_id": 55839137, "comment_id": 98342338, "body": "This might be of help: <a href=\"https://stackoverflow.com/questions/41789971/how-to-add-reference-to-assembly-in-visual-studio-mac\" title=\"how to add reference to assembly in visual studio mac\">stackoverflow.com/questions/41789971/&hellip;</a>"}, {"owner": {"reputation": 94, "user_id": 9929916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IC62ExcM_ik/AAAAAAAAAAI/AAAAAAAAAAs/2aJvu63ECIc/photo.jpg?sz=128", "display_name": "SovietSeal", "link": "https://stackoverflow.com/users/9929916/sovietseal"}, "reply_to_user": {"reputation": 386, "user_id": 8242696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30d156727d19a63b70ba89bf028f23e8?s=128&d=identicon&r=PG&f=1", "display_name": "Devin L.", "link": "https://stackoverflow.com/users/8242696/devin-l"}, "edited": false, "score": 0, "creation_date": 1556149075, "post_id": 55839137, "comment_id": 98343433, "body": "Already looked and didnt seem to work for me."}, {"owner": {"reputation": 43853, "user_id": 268874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OBIL4.png?s=128&g=1", "display_name": "Matt Ward", "link": "https://stackoverflow.com/users/268874/matt-ward"}, "edited": false, "score": 0, "creation_date": 1556199565, "post_id": 55839137, "comment_id": 98363174, "body": "What sort of project are you trying? There are some problems with Android projects currently."}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 9471563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c32d777f383ef2e8109ae7601570fd3?s=128&d=identicon&r=PG&f=1", "display_name": "Chukwudi Ubah", "link": "https://stackoverflow.com/users/9471563/chukwudi-ubah"}, "is_accepted": false, "score": 0, "last_activity_date": 1579171748, "creation_date": 1579171748, "answer_id": 59767992, "question_id": 55839137, "link": "https://stackoverflow.com/questions/55839137/i-cannot-add-a-reference-in-visual-studio-mac/59767992#59767992", "title": "I cannot add a reference in Visual Studio Mac", "body": "<p>If you are still looking for the answer to this.</p>\n\n<ol>\n<li>Right click on your solution (Two fingers on track pad and click)</li>\n<li>Display options</li>\n<li>Click \"Show all files\"</li>\n<li>Then you'll see projectname.csproj</li>\n</ol>\n\n<p>You can edit it.</p>\n"}], "owner": {"reputation": 94, "user_id": 9929916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IC62ExcM_ik/AAAAAAAAAAI/AAAAAAAAAAs/2aJvu63ECIc/photo.jpg?sz=128", "display_name": "SovietSeal", "link": "https://stackoverflow.com/users/9929916/sovietseal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 571, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1579171748, "creation_date": 1556143027, "last_edit_date": 1556143056, "question_id": 55839137, "link": "https://stackoverflow.com/questions/55839137/i-cannot-add-a-reference-in-visual-studio-mac", "title": "I cannot add a reference in Visual Studio Mac", "body": "<p>When I right click references only Refresh and Edit References come up and if I go to edit references it just shows the ones there but I cant add any. When I open edit references there is All, Packages, Projects and .NET Assembly. Im trying to add a .NET assembly reference.</p>\n"}, {"tags": ["c#", "mysql"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 4, "creation_date": 1556142860, "post_id": 55839076, "comment_id": 98342022, "body": "Use Parameters always. <code>String.Format</code>/interpolation wont protect you from injection or many other Bad Things.  If the DB columns are date there is no reason to convert to string and <code>&quot;YYYY-MM-DD&quot;</code> is not a legal format"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1556143394, "post_id": 55839076, "comment_id": 98342177, "body": "<i>timeNow.ToString(&quot;HH:mm:ss&quot;);</i> and the following <i>dateNow.ToString(&quot;YYYY-MM-DD&quot;);</i> don&#39;t do what you think. They return a string with the format required but you don&#39;t get this result in a destination variable. It seems that you think you could change a datetime <i>format</i> but a datetime variable has no format, it is just a number of ticks elapsed from a conventional starting point. As already explained you should use parameters not strings when creating sql commands"}, {"owner": {"reputation": 11, "user_id": 11347087, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-y4BL36DJdJs/AAAAAAAAAAI/AAAAAAABREQ/EpDOPoUWhWA/photo.jpg?sz=128", "display_name": "Luis Contreras Garc&#237;a", "link": "https://stackoverflow.com/users/11347087/luis-contreras-garc%c3%ada"}, "edited": false, "score": 0, "creation_date": 1556143544, "post_id": 55839076, "comment_id": 98342219, "body": "Yeah, I read it about parameterized queries but I don&#39;t fully understand it. Can you please give me an example of how can I do it? Thanks!!"}], "answers": [{"tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": false, "score": 3, "last_activity_date": 1556144031, "creation_date": 1556144031, "answer_id": 55839284, "question_id": 55839076, "link": "https://stackoverflow.com/questions/55839076/how-to-insert-date-time-in-mysql-through-c/55839284#55839284", "title": "How to insert date/time in Mysql through c#?", "body": "<p>Parameterized query replacing your string concatenation should be</p>\n\n<pre><code> string query= @\"INSERT INTO entries(nif,active,date, entry_time) \n                 VALUES (@nif, @active, @d, @e)\";\n MySqlCommand com = new MySqlCommand(query, connection);\n com.Parameters.Add(\"@nif\", MySqlDbType.VarChar).Value = nif;\n com.Parameters.Add(\"@active\", MySqlDbType.Int32).Value = active;\n com.Parameters.Add(\"@d\", MySqlDbType.Date).Value = dateNow;\n com.Parameters.Add(\"@e\", MySqlDbType.Time).Value = timeNow;\n ret= com.ExecuteNonQuery();\n</code></pre>\n\n<p>Also note that if <em>id</em> is an autoincrement column then you don't need to pass it in the query as well for column that should receive null values.</p>\n\n<p>Notice how the query text is more simple to understand now and how all the parameters are specified with the datatype expected in the database table. </p>\n"}, {"tags": [], "owner": {"reputation": 6115, "user_id": 520848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4e69281eff9aa7d8f6321b3b4d936f3e?s=128&d=identicon&r=PG", "display_name": "mjb", "link": "https://stackoverflow.com/users/520848/mjb"}, "is_accepted": false, "score": 0, "last_activity_date": 1556606744, "creation_date": 1556606744, "answer_id": 55915303, "question_id": 55839076, "link": "https://stackoverflow.com/questions/55839076/how-to-insert-date-time-in-mysql-through-c/55915303#55915303", "title": "How to insert date/time in Mysql through c#?", "body": "<pre><code>string.Format(\"insert into `tablea`(`datetime`) values('{0:yyyy-MM-dd HH:mm:ss}');\", date);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>string.Format(\"insert into `tablea`(`datetime`)values('{0}');\", date.ToString(\"yyyy-MM-dd HH:mm:ss\"));\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11347087, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-y4BL36DJdJs/AAAAAAAAAAI/AAAAAAABREQ/EpDOPoUWhWA/photo.jpg?sz=128", "display_name": "Luis Contreras Garc&#237;a", "link": "https://stackoverflow.com/users/11347087/luis-contreras-garc%c3%ada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1556606744, "creation_date": 1556142724, "last_edit_date": 1556143381, "question_id": 55839076, "link": "https://stackoverflow.com/questions/55839076/how-to-insert-date-time-in-mysql-through-c", "title": "How to insert date/time in Mysql through c#?", "body": "<p>I need to insert some data in a Mysql table from c#.\nI have three fields (one of the date and two of the time) and I need to get the actual date and time.\nBut I have problems with the insertion in the data and time fields. The data field has 0000-00-00 and the time field 2019-04-24 00:00:00. I don't have any problem with the other fields.</p>\n\n<p>I have tried ToString() with his different options, the TryParse and different solutions that I have seen on this page but none of them works and is not exactly what I need.</p>\n\n<p>I let you my code:</p>\n\n<pre><code>    public static int SignEntry(MySqlConnection connection, string nif)\n    {\n        int ret;\n        int active = 1;\n\n        DateTime timeNow= DateTime.Now;\n        timeNow.ToString(\"HH:mm:ss\");\n\n        DateTime dateNow= DateTime.Today;\n        dateNow.ToString(\"YYYY-MM-DD\");\n\n        string query= String.Format(\"INSERT INTO entries(id,nif,active,date, entry_time, out_time) VALUES \" +\n            \"(0,'{0}','{1}','{2}','{3}',null)\", nif, active, dateNow, timeNow);\n\n        MessageBox.Show(query);\n\n        MySqlCommand com = new MySqlCommand(query, connection);\n\n        ret= com.ExecuteNonQuery();\n\n        return ret;\n    }\n</code></pre>\n\n<p>I only need to insert actual data and actual time (when I call the method) in the entries table with date and time format (not string) but I don't know how can I do it</p>\n\n<p>Thanks for helping!!</p>\n"}, {"tags": ["c#", "wpf", "data-binding"], "comments": [{"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1556196410, "post_id": 55839074, "comment_id": 98361019, "body": "Why does the event have to be static? Just remove the static keyword and you have a reusable base class that you can extend."}, {"owner": {"reputation": 2306, "user_id": 2444435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5TbSK.jpg?s=128&g=1", "display_name": "jhaagsma", "link": "https://stackoverflow.com/users/2444435/jhaagsma"}, "reply_to_user": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1556207131, "post_id": 55839074, "comment_id": 98367964, "body": "Because I&#39;m binding to static properties."}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1556282984, "post_id": 55839074, "comment_id": 98395837, "body": "Yes, the question is why."}, {"owner": {"reputation": 2306, "user_id": 2444435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5TbSK.jpg?s=128&g=1", "display_name": "jhaagsma", "link": "https://stackoverflow.com/users/2444435/jhaagsma"}, "reply_to_user": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1556311854, "post_id": 55839074, "comment_id": 98409307, "body": "I have been making my Factories static, and just bind the GUI selections directly to them. When I actually Connect to a piece of hardware, the Factory returns an object of the appropriate type.   I could technically instantiate the Factories, but it seemed like it would be cleaner to leave them static, as they don&#39;t do anything other than return objects based on a handful of selection parameters.  Maybe a Singleton pattern would be better for this."}], "answers": [{"comments": [{"owner": {"reputation": 2306, "user_id": 2444435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5TbSK.jpg?s=128&g=1", "display_name": "jhaagsma", "link": "https://stackoverflow.com/users/2444435/jhaagsma"}, "edited": false, "score": 0, "creation_date": 1556207590, "post_id": 55839840, "comment_id": 98368201, "body": "Yea, that&#39;s basically what I&#39;m doing; the static properties I was using are basically the properties required for each Factory to instantiate different types of hardware, which each implement a common Interface for a given Factory.   I am mostly trying to not copy/paste code between the different Factories; that and I didn&#39;t want to actually instantiate them - I am using them as a singleton. Maybe I&#39;ve just implemented that in a non-ideal way by using static properties."}], "tags": [], "owner": {"reputation": 13840, "user_id": 1177147, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/zHhAS.jpg?s=128&g=1", "display_name": "Mark Feldman", "link": "https://stackoverflow.com/users/1177147/mark-feldman"}, "is_accepted": true, "score": 1, "last_activity_date": 1556148657, "last_edit_date": 1556148657, "creation_date": 1556148288, "answer_id": 55839840, "question_id": 55839074, "link": "https://stackoverflow.com/questions/55839074/inherit-inotifypropertychanged-for-static-event-from-abstract-class/55839840#55839840", "title": "Inherit INotifyPropertyChanged for Static Event from abstract Class", "body": "<p>WPF 4.5 supports binding to static properties, all you have to do is create a static event handler of the same name with the text \"Changed\" appended, and you invoke that instead of your StaticPropertyChanged:</p>\n\n<pre><code>public class MyStaticClass\n{\n    public static event EventHandler MyStaticPropertyChanged;\n\n    private static string _MyStaticProperty = \"Hello World!\";\n    public static string MyStaticProperty\n    {\n        get { return _MyStaticProperty; }\n        set\n        {\n            if (_MyStaticProperty != value)\n            {\n                _MyStaticProperty = value;\n                MyStaticPropertyChanged?.Invoke(null, EventArgs.Empty);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Which you would bind to like this:</p>\n\n<pre><code>&lt;TextBlock Text=\"{Binding Path=(vm:MyStaticClass.MyStaticProperty), Mode=OneWay, UpdateSourceTrigger=PropertyChanged}\" /&gt;\n</code></pre>\n\n<p>Honestly though, this looks like more of an architectural issue to me. If you're using a dependency injection framework...and you should be....then there's absolutely no need to use static properties for anything, just place them in their own class and set up your DI to make it a singleton.</p>\n"}], "owner": {"reputation": 2306, "user_id": 2444435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5TbSK.jpg?s=128&g=1", "display_name": "jhaagsma", "link": "https://stackoverflow.com/users/2444435/jhaagsma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 55839840, "answer_count": 1, "score": 1, "last_activity_date": 1556148657, "creation_date": 1556142717, "question_id": 55839074, "link": "https://stackoverflow.com/questions/55839074/inherit-inotifypropertychanged-for-static-event-from-abstract-class", "title": "Inherit INotifyPropertyChanged for Static Event from abstract Class", "body": "<p>I'm trying to implement a number of Abstraction Layers for various pieces of hardware, and I've found I've implemented the same function, <code>NofityStaticPropertyChanged</code> (from <a href=\"https://stackoverflow.com/a/42111290/2444435\">here</a>) about 5 times. </p>\n\n<pre><code>    /// &lt;summary&gt;\n    /// A slightly different implementation of Static Property Changed, from here:\n    /// https://stackoverflow.com/a/42111290/2444435\n    /// &lt;/summary&gt;\n    public static event PropertyChangedEventHandler StaticPropertyChanged;\n\n    protected static void NotifyStaticPropertyChanged(string propertyName)\n    {\n        StaticPropertyChanged?.Invoke(null, new PropertyChangedEventArgs(propertyName));\n    }\n</code></pre>\n\n<p>I'd like to have all of these classes inherit from an <code>abstract class AbstractionBase</code> to avoid reusing code.</p>\n\n<p>I've read elsewhere as to how to inherit this sort of function for <em>non-static</em> members, but I'm never actually instantiating these abstraction layers/factories.</p>\n\n<p>I'm not sure this is actually possible, since static properties cannot be inherited. I feel like it ought to be though, since it's basically a function, not a property? My current attempt is thus:</p>\n\n<pre><code>public abstract class AbstractionBase : INotifyPropertyChanged\n{\n    //THIS IS NOT WORKING!\n    #region INofity Declarations\n    /// &lt;summary&gt;\n    /// A slightly different implementation of Static Property Changed, from here:\n    /// https://stackoverflow.com/a/42111290/2444435\n    /// &lt;/summary&gt;\n    public static event PropertyChangedEventHandler StaticPropertyChanged;\n\n    protected static void NotifyStaticPropertyChanged(string propertyName)\n    {\n        StaticPropertyChanged?.Invoke(null, new PropertyChangedEventArgs(propertyName));\n    }\n\n    #endregion\n} \n</code></pre>\n\n<p>Thanks! I have a feeling I might not be able to get away with this de-duplication attempt, but if it is possible, then that'd be nifty!</p>\n"}, {"tags": ["c#", "asp.net-core", "jwt", "signalr"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 11374650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i4DcLL8w-eM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdDJd99q2ka64qJJrvYBrbFhftIXQ/mo/photo.jpg?sz=128", "display_name": "Dollar B", "link": "https://stackoverflow.com/users/11374650/dollar-b"}, "is_accepted": false, "score": 3, "last_activity_date": 1556550812, "creation_date": 1556550812, "answer_id": 55906238, "question_id": 55839073, "link": "https://stackoverflow.com/questions/55839073/signalr-connection-with-accesstokenfactory-on-js-client-doesnt-connect-with-con/55906238#55906238", "title": "SignalR connection with accessTokenFactory on JS client doesn&#39;t connect with connectionId and UserIdentifier but .Net client is fine", "body": "<p>The JS client requesting the token just needed an <strong>await</strong> keyword before axios.post. Such a rookie mistake which took more time than it should have.</p>\n\n<pre><code>state.connection = new signalR.HubConnectionBuilder()\n            .withUrl(\"https://localhost:44384/ChatHub\", {\n                accessTokenFactory: async () =&gt; {\n                    if (state.accessToken === null) {\n                        await axios.post('https://localhost:44384/api/account/token', { email: email, password: password })\n                            .then(async (response) =&gt; {\n                                if (typeof response === 'undefined') {\n                                    return;\n                                }\n                                else {\n                                    state.accessToken = response.data;\n                                }\n                            })\n                            .catch((error) =&gt; {\n                                console.log(error);\n                            });\n                    }\n                    return state.accessToken;\n                }\n            })\n            .build();\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11374650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-i4DcLL8w-eM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdDJd99q2ka64qJJrvYBrbFhftIXQ/mo/photo.jpg?sz=128", "display_name": "Dollar B", "link": "https://stackoverflow.com/users/11374650/dollar-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2128, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1556550812, "creation_date": 1556142711, "last_edit_date": 1556182155, "question_id": 55839073, "link": "https://stackoverflow.com/questions/55839073/signalr-connection-with-accesstokenfactory-on-js-client-doesnt-connect-with-con", "title": "SignalR connection with accessTokenFactory on JS client doesn&#39;t connect with connectionId and UserIdentifier but .Net client is fine", "body": "<p>In my SignalR Authentication prototype, the JS client doesn't have a Context.UserIdentifier and the connectionId will be 0 when connecting to the SignalR hub on the JS client side. It works fine with the .NET client.</p>\n\n<p>Wondering if constructing the connection is wrong?\nThis is my connection: </p>\n\n<pre><code>state.connection = new signalR.HubConnectionBuilder()\n                .withUrl(\"/chatHub\", {\n                    accessTokenFactory: async () =&gt; {\n                        axios.post('https://localhost:44384/api/account/token', { email: email, password: password })\n                            .then(async (response) =&gt; {\n                                if (typeof response === 'undefined') {\n                                    return;\n                                }\n                                else {\n                                    console.log(response.data);\n                                    console.log(state.connection.id);\n                                    return response.data;\n                                }\n                            })\n                            .catch((error) =&gt; {\n                                console.log(error);\n                            });\n                    }\n                })\n                .build();   \n</code></pre>\n\n<p>The WPF client connects with the token just fine with this code: </p>\n\n<pre><code>_connection = new HubConnectionBuilder()\n            .WithUrl(\"https://localhost:44384/ChatHub\", options =&gt;\n            {\n                options.AccessTokenProvider = async () =&gt;\n                {\n                    var tokenUserCommand = new TokenUserCommand\n                    {\n                        Email = emailTextBox.Text,\n                        Password = passwordBox.Password\n                    };\n\n                    var token = await RestService.PostAsync&lt;string&gt;(\"account/token\", tokenUserCommand);\n                    return token;\n                };\n\n            })\n            .Build();\n</code></pre>\n\n<p>Where I found <a href=\"https://docs.microsoft.com/en-us/aspnet/core/signalr/authn-and-authz?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">SignalR Authentication configuration</a>\nand <a href=\"https://docs.microsoft.com/en-us/aspnet/core/signalr/configuration?view=aspnetcore-2.2&amp;tabs=dotnet#configure-bearer-authentication\" rel=\"nofollow noreferrer\">SignalR Bearer Authentication</a></p>\n\n<p>Here is the <a href=\"https://github.com/DanielRBowen/AuthnAuthzSignalR\" rel=\"nofollow noreferrer\">source for my prototype project</a></p>\n"}, {"tags": ["c#", ".net", "oracle"], "comments": [{"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1556144298, "post_id": 55839033, "comment_id": 98342428, "body": "Use <code>date</code> as data type for a date, not <code>varchar2</code>, from the beginning."}, {"owner": {"reputation": 12337, "user_id": 230471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ihvlA.jpg?s=128&g=1", "display_name": "William Robertson", "link": "https://stackoverflow.com/users/230471/william-robertson"}, "edited": false, "score": 0, "creation_date": 1556144418, "post_id": 55839033, "comment_id": 98342461, "body": "What is the input value? It needs to be 10 characters long and a date in <code>DD&#47;MM&#47;YYYY</code> format."}, {"owner": {"reputation": 12337, "user_id": 230471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ihvlA.jpg?s=128&g=1", "display_name": "William Robertson", "link": "https://stackoverflow.com/users/230471/william-robertson"}, "edited": false, "score": 0, "creation_date": 1556144601, "post_id": 55839033, "comment_id": 98342505, "body": "By the way, you don&#39;t need to write all table names twice (<code>rigrif rigrif</code> etc) and uppercase keywords are about as good an idea in PL/SQL as they are in C#."}, {"owner": {"reputation": 1, "user_id": 9270539, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DHug2eM6krM/AAAAAAAAAAI/AAAAAAAABM0/zQJ1S5TdjdM/photo.jpg?sz=128", "display_name": "Milton Gonzalez", "link": "https://stackoverflow.com/users/9270539/milton-gonzalez"}, "edited": false, "score": 0, "creation_date": 1556637276, "post_id": 55839033, "comment_id": 98501570, "body": "the solution was send the parameters from c# in the same order of the procedure.."}], "owner": {"reputation": 1, "user_id": 9270539, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DHug2eM6krM/AAAAAAAAAAI/AAAAAAAABM0/zQJ1S5TdjdM/photo.jpg?sz=128", "display_name": "Milton Gonzalez", "link": "https://stackoverflow.com/users/9270539/milton-gonzalez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556167721, "creation_date": 1556142507, "last_edit_date": 1556167721, "question_id": 55839033, "link": "https://stackoverflow.com/questions/55839033/executereader-throw-ora-01840-but-from-sqldeveloper-works-well", "title": "ExecuteReader throw ORA-01840 but from sqlDeveloper works well", "body": "<p>I am trying to execute an Oracle procedure from C#, but <code>ExecuteReader</code> is throwing an error: </p>\n\n<blockquote>\n  <p>ORA-01840: input value not long enough for date format.</p>\n</blockquote>\n\n<p>If I execute the procedure with \"data burned\" in the WHERE clause, it works well, but not when the WHERE clause uses params.</p>\n\n<p>This is OK:</p>\n\n<pre><code>rigrif.rig_dmov BETWEEN TO_DATE('03/04/2019', 'dd/MM/yyyy') AND TO_DATE('03/04/2019','dd/MM/yyyy')\n</code></pre>\n\n<p>This is not OK:</p>\n\n<pre><code>rigrif.rig_dmov BETWEEN TO_DATE(p_date_from, 'dd/MM/yyyy') AND TO_DATE(p_date_to,'dd/MM/yyyy')\n</code></pre>\n\n<p>//C# code</p>\n\n<pre><code>    public IEnumerable&lt;StockMovements&gt; GetGeneralStockVega(FilterStockValidator value)\n    {\n        List&lt;StockMovements&gt; list = new List&lt;StockMovements&gt;();\n\n        try\n        {\n            Connection ObjCn = new Connection();\n            using (OracleConnection connection = new OracleConnection(ObjCn.getConnectionString()))\n            {\n                OracleCommand command = new OracleCommand(StoredProcedures.sp_Get_GeneralStockVega, connection);\n                command.CommandType = CommandType.StoredProcedure;\n                command.Parameters.Add(\"p_filial\", OracleDbType.Varchar2, 2).Value = \"18\";\n               command.Parameters.Add(\"p_date_from\", OracleDbType.Varchar2, 22).Value = \"03/04/2019\";\n                command.Parameters.Add(\"p_date_to\", OracleDbType.Varchar2, 22).Value =\"04/04/2019\";\n                command.Parameters.Add(\"p_respuesta\", OracleDbType.RefCursor).Direction = ParameterDirection.Output;\n\n                connection.Open();\n                OracleDataReader reader = command.ExecuteReader();\n                StockMovements objStock = null;\n\n                while (reader.Read())\n                {\n                    objStock = new StockMovements();\n                    objStock.FechaMovimiento = reader[\"fecha_movimiento\"].ToString();\n                    objStock.Almacen = reader[\"almacen\"].ToString();\n                    objStock.CantidadVega = decimal.Parse(reader[\"cantidad\"].ToString());\n                    objStock.Documento = reader[\"documento\"].ToString();\n                    list.Add(objStock);\n                }\n            }\n            return list;\n        }\n        catch (Exception ex)\n        {\n            Logs.RegError(ex, this.GetType());\n            return null;\n        }\n    }\n</code></pre>\n\n<p>Procedure code:</p>\n\n<pre><code>PROCEDURE get_vega_general_stock (\n    p_date_from  IN  VARCHAR2,\n    p_date_to    IN  VARCHAR2,\n    p_filial     IN  VARCHAR2,\n    p_respuesta  OUT SYS_REFCURSOR\n)\nIS\nBEGIN\n\n  OPEN p_respuesta FOR\n    SELECT \n        TRUNC(rigrif.rig_dmov)  AS fecha_movimiento,\n        rigrif.rig_fili         AS almacen,\n        rigrif.rig_mag          AS almacen_office,\n        testrif.tst_doc         AS documento,      \n        SUM(rigrif.rig_qta)     AS cantidad\n    FROM \n        rigrif rigrif\n    INNER JOIN detrif detrif\n        ON rigrif.rig_det = detrif.det_prg\n    INNER JOIN prodotti prodotti\n        ON rigrif.rig_pro = prodotti.pro_cod\n    INNER JOIN testrif testrif\n        ON rigrif.rig_testrif = testrif.tst_prg\n    WHERE \n        detrif.det_del = 'E'\n    AND prodotti.pro_grp = 0\n    AND rigrif.rig_fili = '18'\n    AND rigrif.rig_dmov BETWEEN TO_DATE(p_date_from,  'dd/MM/yyyy' ) AND TO_DATE(p_date_to,'dd/MM/yyyy')\n    GROUP BY\n        TRUNC(rigrif.rig_dmov),\n        rigrif.rig_fili,\n        rigrif.rig_mag,\n        testrif.tst_doc\n    ORDER BY \n    1,2,3,4;\nEND get_vega_general_stock;\n</code></pre>\n"}, {"tags": ["c#", "asynchronous", "async-await", "task"], "comments": [{"owner": {"reputation": 2494, "user_id": 1903674, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/2itpK.jpg?s=128&g=1", "display_name": "Sandip Bantawa", "link": "https://stackoverflow.com/users/1903674/sandip-bantawa"}, "edited": false, "score": 1, "creation_date": 1556142553, "post_id": 55839002, "comment_id": 98341923, "body": "awaiting will await for task to complete so it will take time"}, {"owner": {"reputation": 535, "user_id": 974832, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be76b939479b155f5ffe5eef9afeeff5?s=128&d=identicon&r=PG", "display_name": "chubakueno", "link": "https://stackoverflow.com/users/974832/chubakueno"}, "reply_to_user": {"reputation": 2494, "user_id": 1903674, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/2itpK.jpg?s=128&g=1", "display_name": "Sandip Bantawa", "link": "https://stackoverflow.com/users/1903674/sandip-bantawa"}, "edited": false, "score": 0, "creation_date": 1556142631, "post_id": 55839002, "comment_id": 98341942, "body": "@brykneval yes, but just creating the tasks (before awaiting them) shouln&#39;t block the thread so much, as far as I know..."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 7, "creation_date": 1556142704, "post_id": 55839002, "comment_id": 98341970, "body": "without knowledge of what <code>FryEggs</code> etc do, there is no possible way we can answer this - <code>Task&lt;T&gt;</code> doesn&#39;t tell us where that is coming from - it could be http, it could be <code>Task.Start</code>, it could be a pre-completed result, etc"}, {"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 0, "creation_date": 1556142845, "post_id": 55839002, "comment_id": 98342017, "body": "Look inside <code>FryEggs</code>. Everything from its beginning to the first <code>await</code> it performs is going to be executed synchronously."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 1, "creation_date": 1556142885, "post_id": 55839002, "comment_id": 98342030, "body": "@GSerg it can actually be <i>everything</i> that is synchronous - some ADO.NET providers are notorious for this."}, {"owner": {"reputation": 535, "user_id": 974832, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be76b939479b155f5ffe5eef9afeeff5?s=128&d=identicon&r=PG", "display_name": "chubakueno", "link": "https://stackoverflow.com/users/974832/chubakueno"}, "reply_to_user": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 0, "creation_date": 1556143321, "post_id": 55839002, "comment_id": 98342150, "body": "@GSerg synchronous work before the first await takes 1-2ms at much, i will edit the question to clarify that."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1556143396, "post_id": 55839002, "comment_id": 98342179, "body": "@MarcGravell If it&#39;s not possible to answer the question, why did you post an answer to the question?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 2, "creation_date": 1556143694, "post_id": 55839002, "comment_id": 98342256, "body": "&quot;The synchronous work performed by the functions FryEggs,FryBacon and ToastBread before the first await is negligible (1-2 ms)&quot; You have apparently measured that time to be several hundreds of milliseconds, so that&#39;s just not true.  The question is <i>what</i> work are you doing before awaiting anything that&#39;s taking several hundred milliseconds, not whether there is any such work.  That is unless you&#39;re measuring the time <i>after</i> declaring these tasks until the method returns it&#39;s task to be several hundred milliseconds (meaning <code>Task.WhenAll</code> is taking that time) which seems very unlikely."}, {"owner": {"reputation": 5339, "user_id": 1564317, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/865b4cb76b33579c70f0f9eef8cf0d2f?s=128&d=identicon&r=PG", "display_name": "Joe Healy", "link": "https://stackoverflow.com/users/1564317/joe-healy"}, "edited": false, "score": 0, "creation_date": 1556143695, "post_id": 55839002, "comment_id": 98342257, "body": "show whats in the fry/toast methods so we can help you more.  If I just shell out your stuff with some console writes we are in the 37ms range."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1556143713, "post_id": 55839002, "comment_id": 98342265, "body": "@Servy because I think it is possible to answer it <i>sufficiently</i>, especially in the context of ADO.NET"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 2, "creation_date": 1556143894, "post_id": 55839002, "comment_id": 98342329, "body": "@MarcGravell I don&#39;t see anything in the question saying it&#39;s ADO.NET, just that there are three methods that return tasks.  Also, your answer specifically says that we can&#39;t know what the cause is, and instead is just requesting more information, which is what comments are for, not answers.  If you thought that you could answer it sufficiently, why is your answer saying we can&#39;t know and asking questions of the author instead of stating what the answer is?"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1556146280, "post_id": 55839002, "comment_id": 98342891, "body": "@Servy see &quot;//DB intensive async tasks&quot;; I think we can agree that ADO.NET is <i>overwhelmingly</i> likely to be in play here"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1556146975, "post_id": 55839002, "comment_id": 98343064, "body": "@MarcGravell And when the OP updates their question into one that&#39;s answerable, due to containing enough information to see what is in fact causing the delay they&#39;re observing, we won&#39;t need to guess at what <i>might</i> be causing the problem, and the question can be able to actually be answered.  There are simply <i>lots</i> of likely possible causes here, not just one."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 5, "creation_date": 1556147160, "post_id": 55839002, "comment_id": 98343096, "body": "@Servy not for the first time, you&#39;re trying to police things here, and IMO you&#39;re being too pushy and aggressive about it; I have <i>extensive</i> expertise in this area, and based on that experience I&#39;m confident that we can get 95% of the way to the answer even on limited data. Even if it isn&#39;t right <i>in this specific case</i>, the odds are <i>exceptionally</i> high (based on having seen similar issues many times) that the question and answer may be useful in future searches. I genuinely don&#39;t know  why you seem to get so upset by people trying to help people, but: you&#39;re laying it on too thick. Really."}, {"owner": {"reputation": 535, "user_id": 974832, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be76b939479b155f5ffe5eef9afeeff5?s=128&d=identicon&r=PG", "display_name": "chubakueno", "link": "https://stackoverflow.com/users/974832/chubakueno"}, "edited": false, "score": 0, "creation_date": 1556176821, "post_id": 55839002, "comment_id": 98350048, "body": "Okay, I updated the question to clarify my intent. Don&#39;t worry, I don&#39;t wan&#39;t you to solve my homework (its actually production code, so there is no way I am going to paste it here). I just found an odd picece of behavior that I can&#39;t wrap my head around and was asking about why is that happening."}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 1, "creation_date": 1556197410, "post_id": 55839002, "comment_id": 98361687, "body": "@chubakueno: The question is still incomplete. Please post a <a href=\"https://stackoverflow.com/help/mcve\">minimal, reproducible example</a> that others can paste into Visual Studio and observe what it happening themselves. As it currently stands, if I replace <code>VeryLightweightSynchronousWork()</code> with <code>Thread.Sleep(1);</code> and replace <code>BottleneckingIOWork()</code> with <code>Task.Delay(2000)</code>, then the problem does not occur. Whatever is <b>causing</b> the problem is still missing from your question."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1556197759, "post_id": 55839002, "comment_id": 98361922, "body": "@MarcGravell So what do you think is the <i>approrpriate</i> response to a moderator fragrantly violating the rules, and responding to anyone telling them that that&#39;s not appropriate by just saying that they don&#39;t care and no one is allowed to tell them otherwise? The site has decided that it&#39;s not appropriate to post an answer to say that you don&#39;t know what the problem is and to ask clarifying questions of the author; that&#39;s supposed to be posted as a comment. You&#39;re not the only one with experience in this area either. I&#39;ve seen <i>lots</i> of instance of this problem with <i>lots</i> of different causes."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1556197934, "post_id": 55839002, "comment_id": 98362048, "body": "@MarcGravell And what about my comments is &quot;aggressive&quot;?  How is it aggressive to ask someone why they answered a question that they feel isn&#39;t answerable, or to state that a question doesn&#39;t in fact contain information you&#39;ve claimed that it does?  Just saying, &quot;I&#39;m right, I don&#39;t care what you think, and even if I&#39;m not right, I don&#39;t care anyway&quot; is, in fact, rather aggressive.  Posting an answer to say that you don&#39;t know the answer <i>isn&#39;t helpful</i>; <b>you are not being helpful</b>, hence why people have a problem with it."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1556198413, "post_id": 55839002, "comment_id": 98362410, "body": "@Servy &#39;And what about my comments is &quot;aggressive&quot;?&#39; seriously? every sentence; I get it that you&#39;re opinionated on this topic - that isn&#39;t an excuse for your tone, which is <b>exactly</b> the unwelcoming hostile tone that we&#39;re trying to root out and discourage. It actively harms the site, and users. Now, luckily I&#39;m confident enough in myself (and my understanding of the site&#39;s aims and rules) that I&#39;m not easily offended, but: I genuinely think your approach is actively harmful and hostile. Please consider toning it down."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1556200526, "post_id": 55839002, "comment_id": 98363812, "body": "@MarcGravell What do you think is welcoming about the approach of just saying that you&#39;re right, you don&#39;t care if you&#39;re wrong, and no one else is allowed to share an opinion on the topic?  Why is that not hostile?  Could you provide a reference for your assertion that a question that doesn&#39;t have enough information to be answered should have an answer posted saying it&#39;s not answerable and requesting more information so that an answer could be given, since you&#39;re so knowledgeable about the rules?"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1556202601, "post_id": 55839002, "comment_id": 98365179, "body": "@Servy at no point have I said &quot;[I&#39;m] right, [I] don&#39;t care if you&#39;re wrong, and no one else is allowed to share an opinion on the topic&quot; - I&#39;ve merely expressed mine (edit: opinion) politely, and listened to yours. And in particular, I&#39;ve expressed my disagreement with you that it is &quot;not answerable&quot;. It might not be a perfect question, but that&#39;s not the same thing."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1556203852, "post_id": 55839002, "comment_id": 98365980, "body": "@MarcGravell It&#39;s actually <a href=\"https://stackoverflow.com/questions/55839002/net-async-task-taking-too-long-to-create?noredirect=1#comment98341970_55839002\"><i>your</i> opinion that it&#39;s not answerable</a>.  And of course your &quot;answer&quot; says that we can&#39;t know what the answer is, and asks questions about the author instead of providing an answer.  So <i>you</i> are the one asserting it&#39;s not answerable (which I agree with), but simply posted an answer anyway (which I don&#39;t)."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1556203868, "post_id": 55839002, "comment_id": 98365988, "body": "You&#39;ve just responded to statements that your answer isn&#39;t an answer by just saying, &quot;you disagree&quot; and &quot;you know the rules&quot;. Just responding to explanations of why a given behavior isn&#39;t helpful by saying that you disagree, providing no reasoning, and calling people hostile and unhelpful for expressing their opinion, rather than actually providing <i>any</i> reasoning for why it&#39;s appropriate to post an answer to say a question is unanswerable is not politely expressing one&#39;s opinions and listening to people. Rather than talking about how you don&#39;t like me, discuss the merits of the issue at hand."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 2, "creation_date": 1556205427, "post_id": 55839002, "comment_id": 98367019, "body": "@Servy I&#39;m drawing a line here - you&#39;re not listening to me, and you&#39;re continuing to be patronizing, hostile, and aggressive. You&#39;re free to respond, but I won&#39;t: I&#39;m done here. I&#39;ve said my piece."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1556205875, "post_id": 55839002, "comment_id": 98367249, "body": "@MarcGravell Thanks for proving my point for me that you&#39;re entirely unwilling to actually discuss the merits of the issue and hand or listen to anyone else, and are only willing to attack me personally."}], "answers": [{"comments": [{"owner": {"reputation": 5944, "user_id": 739912, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ecb4e59183a439d978bb0598c94eee04?s=128&d=identicon&r=PG", "display_name": "Felix K.", "link": "https://stackoverflow.com/users/739912/felix-k"}, "edited": false, "score": 3, "creation_date": 1556143630, "post_id": 55839084, "comment_id": 98342239, "body": "I know its to long, but shouldn&#39;t be that a comment?"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 5944, "user_id": 739912, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ecb4e59183a439d978bb0598c94eee04?s=128&d=identicon&r=PG", "display_name": "Felix K.", "link": "https://stackoverflow.com/users/739912/felix-k"}, "edited": false, "score": 0, "creation_date": 1556143728, "post_id": 55839084, "comment_id": 98342271, "body": "@FelixK. I think it is possible to answer it <i>sufficiently</i>, especially in the context of ADO.NET"}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 5944, "user_id": 739912, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ecb4e59183a439d978bb0598c94eee04?s=128&d=identicon&r=PG", "display_name": "Felix K.", "link": "https://stackoverflow.com/users/739912/felix-k"}, "edited": false, "score": 1, "creation_date": 1556181360, "post_id": 55839084, "comment_id": 98352402, "body": "@FelixK. I disagree (but I would, or I wouldn&#39;t have posted it); it points someone <i>in the right direction</i> based on the most likely causes of the problem as stated. Now, we can play imaginary games like &quot;what if the question was perfect and had all the info we needed to give a 100% answer?&quot;, but: that doesn&#39;t help the real world. And in the real world, sometimes you need to intuit over some chasms between &quot;stated setup&quot;, &quot;symptom&quot;, &quot;actual cause&quot; and &quot;solution&quot;. I&#39;m comfortable that this answer provides the likely bridges."}], "tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": false, "score": 1, "last_activity_date": 1556142780, "creation_date": 1556142780, "answer_id": 55839084, "question_id": 55839002, "link": "https://stackoverflow.com/questions/55839002/net-async-task-taking-too-long-to-create/55839084#55839084", "title": ".NET Async task taking too long to create", "body": "<blockquote>\n  <p>just creating them all takes 600ms-1800ms</p>\n</blockquote>\n\n<p>Most likely, your DB-intensive work is doing some of that work synchronously; perhaps opening the connection, perhaps issuing the command - we can't possibly know. If you show us <strong>exactly</strong> what <code>FryEggs</code> does, <strong>and</strong> tell us which ADO.NET provider you're using, we might be able to advise further. Note that some of the ADO.NET providers use async-over-sync for their <code>*Async</code> implementation, which means they're really just synchronous. So the exact ADO.NET provider <strong>and version</strong> is important to know.</p>\n"}, {"comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1556144164, "post_id": 55839261, "comment_id": 98342397, "body": "If there is in fact long running synchronous work there, that&#39;s still running it all in the current synchronization context, which is likely to cause the same problems.  The solution to an asynchronous method having long running synchronous work to do (if in fact it is intended to be long running synchronous CPU bound work) is to explicitly run it in a thread pool thread, meaning <code>Task.Run</code>."}, {"owner": {"reputation": 8496, "user_id": 1009661, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/776dff440138550ac0e34a1712a60e2a?s=128&d=identicon&r=PG", "display_name": "tukaef", "link": "https://stackoverflow.com/users/1009661/tukaef"}, "edited": false, "score": 0, "creation_date": 1556144709, "post_id": 55839261, "comment_id": 98342531, "body": "<code>DoSomethingAsync</code> can itself contain something that executes synchronously. So one might think there isn&#39;t any blocking code. I think it would be better to emphasise the fact that the code will run synchronously until the first <code>await</code> for a non-completed task."}, {"owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1556146381, "post_id": 55839261, "comment_id": 98342918, "body": "@Servy <code>Task.Yield</code> is also a perfectly acceptable way of explicitly pushing something async - IMO a <i>better</i> option than <code>Task.Run</code>"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "edited": false, "score": 0, "creation_date": 1556146522, "post_id": 55839261, "comment_id": 98342948, "body": "@MarcGravell Not of the problem is the current context being blocked, because that would result in the current context still being blocked."}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1556146736, "post_id": 55839261, "comment_id": 98343007, "body": "I think Servy has a valid point... you should not really be using <code>Task.Yield()</code> that much. Better solution is to refactor. I edited my answer to add another option."}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 1, "creation_date": 1556153963, "post_id": 55839261, "comment_id": 98344211, "body": "Not a huge fan of either <code>Yield</code> or <code>Task.Run</code> here, since it is in a web service environment. Most likely <code>Yield</code> will still serialize the work on the request context (unless it happens to be Core), and <code>Task.Run</code> will interfere with ASP.NET thread pool heuristics. It&#39;s tough to give a good answer since the question just doesn&#39;t provide sufficient details."}], "tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1556158212, "last_edit_date": 1556158212, "creation_date": 1556143891, "answer_id": 55839261, "question_id": 55839002, "link": "https://stackoverflow.com/questions/55839002/net-async-task-taking-too-long-to-create/55839261#55839261", "title": ".NET Async task taking too long to create", "body": "<p>When an async method returns a Task, it is for the <em>continuation</em> of the method. The beginning of the method is still executed immediately.</p>\n\n<pre><code>async Task FryEggs(int count)\n{\n    //Anything here will cause FryEggs to block the caller until it is completed\n\n    await DoSomethingAsync();\n\n    //Anything down here is the \"continuation\" which will execute after the task is returned\n}\n</code></pre>\n\n<p>If you want the incomplete task to be returned immediately, you can add an await at the very beginning, e.g. using <a href=\"https://stackoverflow.com/questions/22645024/when-would-i-use-task-yield\"><code>Task.Yield</code></a>:</p>\n\n<pre><code>async Task FryEggs(int count)\n{\n    await Task.Yield();\n\n    //Now this is part of the continuation too. It won't run until after the Task is returned.\n\n    await DoSomethingAsync();\n}\n</code></pre>\n\n<p>I am not sure this is necessarily the best idea for your scenario, but it is an option.</p>\n\n<p>If FryEggs contains CPU-bound work, and you were hoping to improve things through parallelism, you will probably need to run it on a separate thread:</p>\n\n<pre><code>async Task FryEggs(int count)\n{\n    await Task.Run( () =&gt;\n    {\n        //Do something super-expensive and synchronous\n    });\n    await DoSomethingAsync();\n}\n</code></pre>\n\n<p>This way there is an await at the very beginning so control gets yielded back right away. The expensive stuff is placed on its own thread in the thread pool. The logic can access the same local variables through <a href=\"https://stackoverflow.com/questions/428617/what-are-closures-in-net\">closures</a>; this is safe as long as you await the <code>Task.Run()</code> call.</p>\n\n<pre><code>async Task FryEggs(int count)\n{\n    string[] results; //This local variable will be closed over\n\n    await Task.Run( () =&gt;\n    {\n        //Do something super-expensive and synchronous\n        results = GetResults();\n    });\n    await DoSomethingAsync(results);\n}\n</code></pre>\n"}], "owner": {"reputation": 535, "user_id": 974832, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be76b939479b155f5ffe5eef9afeeff5?s=128&d=identicon&r=PG", "display_name": "chubakueno", "link": "https://stackoverflow.com/users/974832/chubakueno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1012, "favorite_count": 0, "closed_date": 1556180665, "answer_count": 2, "score": -2, "last_activity_date": 1556177000, "creation_date": 1556142309, "last_edit_date": 1556177000, "question_id": 55839002, "link": "https://stackoverflow.com/questions/55839002/net-async-task-taking-too-long-to-create", "closed_reason": "Not suitable for this site", "title": ".NET Async task taking too long to create", "body": "<p>Is there a reason for an <code>async Task&lt;&gt; foo()</code> to take time being created? (Just created, awaiting it takes even another chunk of time).\nWhen profiling my web service performance I noticed that the mere creation of the task takes a considerable amount of time (in the order of the hundreds of milliseconds).</p>\n\n<pre><code>//DB intensive async tasks, just creating them all takes 600ms-1800ms\nTask&lt;Egg&gt; eggTask = FryEggs(2);\nTask&lt;Bacon&gt; baconTask = FryBacon(3);\nTask&lt;Toast&gt; toastTask = ToastBread(2);\n//actually awaiting them takes some hundreds of milliseconds more...\nawait Task.WhenAll(eggTask, baconTask, toastTask);\n</code></pre>\n\n<p>The functions in question don't do heavy synchronous work before the first await inside them, so I can't find a compelling reason for them to work this way. Something in this fashion:</p>\n\n<pre><code>async Task&lt;Object&gt; FryEggs(){\n    VeryLightweightSynchronousWork();\n    await BottleneckingIOWork();\n}\n</code></pre>\n\n<p>I have tried using <code>Task.Factory.StartNew</code> and it <strong>does</strong> return immediately:</p>\n\n<pre><code>async Task&lt;Object&gt; FryEggs(){\n    var res = await Task.Factory.StartNew(async =&gt; {\n        VeryLightweightSynchronousWork();\n        return await BottleneckingIOWork();\n    }\n    return await res;\n}\n</code></pre>\n\n<p>I don't understand this behaviour.</p>\n\n<p>I actually don't care too much about my specific case, I want to understand <strong>why</strong>, on a reference-based point of view, should this happen. My current understanding is that a Task starts as soon as it is called, but it should do so <strong>asynchronously</strong>. So, why would the main thread wait so much for an async task to be created?</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["c#", "linq", "asp.net-core", "linq-to-sql"], "answers": [{"comments": [{"owner": {"reputation": 1389, "user_id": 6480913, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-Zks_iqZEYu8/AAAAAAAAAAI/AAAAAAAARf4/AjxTbr8Zsfg/photo.jpg?sz=128", "display_name": "Jordan Lewallen", "link": "https://stackoverflow.com/users/6480913/jordan-lewallen"}, "edited": false, "score": 0, "creation_date": 1556151816, "post_id": 55839354, "comment_id": 98343844, "body": "I believe this will be the most concise answer I was looking for. Ideally it would be great to be able to just filter out all the null attributes before generating the the query but I suppose that&#39;s just wishful thinking haha. I&#39;ll check back in a bit and if there&#39;s nothing to be added here, I&#39;ll mark this as the answer"}], "tags": [], "owner": {"reputation": 23912, "user_id": 1316346, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/fc7517afbe96aba878019b59d11ebfeb?s=128&d=identicon&r=PG", "display_name": "Kevin DiTraglia", "link": "https://stackoverflow.com/users/1316346/kevin-ditraglia"}, "is_accepted": true, "score": 2, "last_activity_date": 1556144558, "creation_date": 1556144558, "answer_id": 55839354, "question_id": 55838980, "link": "https://stackoverflow.com/questions/55838980/how-to-generate-a-linq-query-that-queries-all-non-null-properties-from-a-search/55839354#55839354", "title": "How to generate a LINQ query that queries all non-null properties from a search page model", "body": "<p>Couldn't you just do something like this?</p>\n\n<pre><code>[HttpPost]\npublic List&lt;TestRecord&gt; Search(TestRecord testRecord){\n\n    List&lt;TestRecord&gt; records = _db.TestRecords\n                 .Where(tr =&gt; String.IsNullOrEmpty(testRecord.TestType) ? true : tr.TestType == testRecord.TestType)\n                 .Where(tr =&gt; String.IsNullOrEmpty(testRecord.Part.Name) ? true : tr.Part.Name == testRecord.Part.Name)\n                 //etc...\n                 .ToList();\n\n    return records;\n}\n</code></pre>\n\n<p>Essentially only filter if the input is there for every field in 1 big query?</p>\n"}, {"tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 0, "last_activity_date": 1556147066, "creation_date": 1556147066, "answer_id": 55839697, "question_id": 55838980, "link": "https://stackoverflow.com/questions/55838980/how-to-generate-a-linq-query-that-queries-all-non-null-properties-from-a-search/55839697#55839697", "title": "How to generate a LINQ query that queries all non-null properties from a search page model", "body": "<p>The query doesnt have to be one single chain, you can split it up and insert some <code>if</code>:</p>\n\n<pre><code>var query = _db.TestRecords.AsQueryable();\nif (string.IsNullOrEmpty(testRecord.TestType))\n{\n    query = query.Where(x =&gt; x.TestType == testRecord.TestType);\n}\nif (string.IsNullOrEmpty(testRecord.Part.Name))\n{\n    query = query.Where(x =&gt; x.Part.Name == testRecord.Part.Name);\n}\n\n// or, you can use an intermediate variable before returning to debug\nreturn query.ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123, "user_id": 468556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2633c80af8dd49be06730d3340c18b76?s=128&d=identicon&r=PG", "display_name": "Tetious", "link": "https://stackoverflow.com/users/468556/tetious"}, "is_accepted": false, "score": 0, "last_activity_date": 1556148036, "creation_date": 1556148036, "answer_id": 55839806, "question_id": 55838980, "link": "https://stackoverflow.com/questions/55838980/how-to-generate-a-linq-query-that-queries-all-non-null-properties-from-a-search/55839806#55839806", "title": "How to generate a LINQ query that queries all non-null properties from a search page model", "body": "<p>I usually use an extension method like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static IQueryable&lt;T&gt; Where&lt;T&gt;(this IQueryable&lt;T&gt; that, object notNull, Expression&lt;Func&lt;T, bool&gt;&gt; predicate)\n{\n    if (!string.IsNullOrWhiteSpace(notNull?.ToString()))\n    {\n        return that.Where(predicate);\n    }\n\n    return that;\n}\n</code></pre>\n\n<p>Then you can compose your LINQ query like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>return s.Query()\n    .Where(onlyStatus, p =&gt; p.Status == onlyStatus)\n    .OrderByDescending(p =&gt; p.CreatedDate)\n    .ToList();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1389, "user_id": 6480913, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-Zks_iqZEYu8/AAAAAAAAAAI/AAAAAAAARf4/AjxTbr8Zsfg/photo.jpg?sz=128", "display_name": "Jordan Lewallen", "link": "https://stackoverflow.com/users/6480913/jordan-lewallen"}, "edited": false, "score": 0, "creation_date": 1556220175, "post_id": 55843367, "comment_id": 98373961, "body": "Hi Harald, thanks for the extensive answer, so I meant for this to be tagged as a .NET Core question, so use of static probably would be frowned up. What changes here would be needed to convert this in to a service I can inject in to my controller where I run my query?"}, {"owner": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "reply_to_user": {"reputation": 1389, "user_id": 6480913, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-Zks_iqZEYu8/AAAAAAAAAAI/AAAAAAAARf4/AjxTbr8Zsfg/photo.jpg?sz=128", "display_name": "Jordan Lewallen", "link": "https://stackoverflow.com/users/6480913/jordan-lewallen"}, "edited": false, "score": 0, "creation_date": 1556273755, "post_id": 55843367, "comment_id": 98390956, "body": "The static functions I created are extension methods (google: extension methods demystified). Every standard LINQ function is an extension method (look at the definitions to see this). I wonder how you can use LINQ if you can&#39;t use static functions."}], "tags": [], "owner": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "is_accepted": false, "score": 0, "last_activity_date": 1556174952, "creation_date": 1556174952, "answer_id": 55843367, "question_id": 55838980, "link": "https://stackoverflow.com/questions/55838980/how-to-generate-a-linq-query-that-queries-all-non-null-properties-from-a-search/55843367#55843367", "title": "How to generate a LINQ query that queries all non-null properties from a search page model", "body": "<p>If you have only one class that has this requirement with only a limited number of properties, say less than 20, I wouldn't bother creating a generic solution for this. Code a <code>Where</code> that checks all properties. This has the advantage that if in future someone changes or removes a property your compiler will complain.</p>\n\n<p>A nice solution would be to give your class an extension function:</p>\n\n<pre><code>public static bool HasNullProperties(this MyClass x)\n{\n    return x.Name == null\n        &amp;&amp; x.Location == null\n        &amp;&amp; x.OrderSize == null\n        ...;\n}\n\npublic static IEnumerable&lt;MyClass&gt; WhereHasNullProperties(this IEnumerable&lt;MyClass&gt; source)\n{\n    return source.Where(item =&gt; item.HasNullProperties();\n}\n</code></pre>\n\n<p>Usage somewhere in a LINQ statement</p>\n\n<pre><code>var result = dbContext.MyItems.WhereHasNullProperties()\n    .GroupBy(...)\n    .Select(...);\n</code></pre>\n\n<p>If you want a full proof solution that works on several classes, consider designing an interface:</p>\n\n<pre><code>interface IHasNullProperties\n{\n    bool HasNullProperties {get;}\n}\n</code></pre>\n\n<p>Your LINQ function will be:</p>\n\n<pre><code> public static IEnumerable&lt;TSource&gt; WhereHasNullProperties&lt;TSource&gt;(\n      this IEnumerable&lt;TSource&gt; source)\n      where TSource : IHasNullProperties\n{\n    return source.Where(item =&gt; item.HasNullProperties();\n}\n</code></pre>\n\n<p>Finally a relatively slow method would be to use reflection: for any class, get all its get-properties that are nullable and see if any of them has a null value:</p>\n\n<pre><code>static bool HasNullPrperties&lt;TSource&gt;(this TSource source)\n    where TSource : class\n{\n     // Take the type of the source, and get all properties of this type\n     var result = source.GetType().GetProperties()\n\n         // keep only the readable properties (so you can do GetValue)\n         // and those properties that have a nullable type\n         .Where(property =&gt; property.CanRead \n             &amp;&amp; Nullable.GetUnderlyingType(property.Type) != null)\n\n         // for every of this properties, ask the source object for the property value:\n        .Select(property =&gt; property.GetValue(source))\n\n        // and keep only the properties that have a null value\n        .Where(value =&gt; value == null);\n\n        // return true if source has any property with a null value\n        // = if there is any value left in my sequence\n        .Any();\n    return result;  \n}\n</code></pre>\n"}], "owner": {"reputation": 1389, "user_id": 6480913, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-Zks_iqZEYu8/AAAAAAAAAAI/AAAAAAAARf4/AjxTbr8Zsfg/photo.jpg?sz=128", "display_name": "Jordan Lewallen", "link": "https://stackoverflow.com/users/6480913/jordan-lewallen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 860, "favorite_count": 1, "accepted_answer_id": 55839354, "answer_count": 4, "score": 2, "last_activity_date": 1556220215, "creation_date": 1556142186, "last_edit_date": 1556220215, "question_id": 55838980, "link": "https://stackoverflow.com/questions/55838980/how-to-generate-a-linq-query-that-queries-all-non-null-properties-from-a-search", "title": "How to generate a LINQ query that queries all non-null properties from a search page model", "body": "<p>I have two models: <code>TestRecord</code> and <code>Part</code> where a <code>TestRecord</code> contains a reference to a <code>Part</code>:</p>\n\n<pre><code>TestRecord\n----\npublic string TestRecordId\npublic int PartId &lt;-- foreign key to parts table\npublic string Name\npublic string TestType\npublic virtual Part Part\n\nPart\n----\nint PartId\nstring Name\nstring Description\npublic virtual ICollection&lt;TestRecord&gt; TestRecords\n</code></pre>\n\n<p>I have a search page that displays an input for each property of a test record including its associated properties such as:</p>\n\n<pre><code>@model TestRecord\n&lt;!-- From TestRecord --&gt;\n&lt;input asp-for=\"TestType\" type=\"text\" /&gt;\n&lt;!-- From TestRecord.Part assoc. prop --&gt;\n&lt;input asp-for=\"Part.Name\" type=\"text\" /&gt;\n....\nAnd so on...\n</code></pre>\n\n<p>When I post this to my controller to run the query, what is the best way to handle this query? I have 20+ properties which may or may not be filled out on the page that contributes to filter a query to return a <code>List&lt;TestRecord&gt;</code>.</p>\n\n<p>If I just had a couple properties to query AND I knew that they were guaranteed to be populated I could do something like:</p>\n\n<pre><code>[HttpPost]\npublic List&lt;TestRecord&gt; Search(TestRecord testRecord){\n\n    List&lt;TestRecord&gt; records = _db.TestRecords\n                     .Where(tr =&gt; tr.TestType == testRecord.TestType)\n                     .Where(tr =&gt; tr.Part.Name == testRecord.Part.Name).ToList();\n\n    return records;\n}\n</code></pre>\n\n<p>How would I generate a LINQ query, like mentioned above, that queries for all properties from the model that are not null/empty? Is my only option to hard code all properties into my query?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1556147186, "post_id": 55838945, "comment_id": 98343102, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/37906216/accessing-a-static-variable-from-different-assemblies\">Accessing a static variable from different assemblies</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11407104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae5232324e40577686c5fa4cb45aa55e?s=128&d=identicon&r=PG&f=1", "display_name": "Joe M", "link": "https://stackoverflow.com/users/11407104/joe-m"}, "edited": false, "score": 0, "creation_date": 1556143300, "post_id": 55839035, "comment_id": 98342143, "body": "Thanks Larry, I&#39;m not using DLL references, I&#39;ve used the reference manager to add a reference in the winforms project to the webforms project. And I get the initial values from the (public static) variables, but not dynamic values."}, {"owner": {"reputation": 602, "user_id": 7736648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6GuvO.png?s=128&g=1", "display_name": "Larry Tang", "link": "https://stackoverflow.com/users/7736648/larry-tang"}, "reply_to_user": {"reputation": 1, "user_id": 11407104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae5232324e40577686c5fa4cb45aa55e?s=128&d=identicon&r=PG&f=1", "display_name": "Joe M", "link": "https://stackoverflow.com/users/11407104/joe-m"}, "edited": false, "score": 0, "creation_date": 1556143696, "post_id": 55839035, "comment_id": 98342258, "body": "@JoeM That is what I&#39;m talking about, the reference manager will simply add a reference to the built project, which is <b>not running</b>. There is no way to get variables from a running program&#39;s memory just through reference. The reference you&#39;re accessing <b>isn&#39;t running.</b>"}], "tags": [], "owner": {"reputation": 602, "user_id": 7736648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6GuvO.png?s=128&g=1", "display_name": "Larry Tang", "link": "https://stackoverflow.com/users/7736648/larry-tang"}, "is_accepted": false, "score": 0, "last_activity_date": 1556143718, "last_edit_date": 1556143718, "creation_date": 1556142513, "answer_id": 55839035, "question_id": 55838945, "link": "https://stackoverflow.com/questions/55838945/passing-dynamic-values-between-projects-in-the-same-solution/55839035#55839035", "title": "Passing dynamic values between projects in the same solution", "body": "<p>If you've used references, then what you're essentially passing is a copy of the <strong>non-runtime</strong> project to the other one, and vice versa. This means that both projects can only access the starting values of the other, and don't look at their memory at runtime.</p>\n\n<p>You cannot get values in different projects during runtime just by using a reference, you need to pass them using either files on your system, or preferably, networking, which can be done through <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/network-programming/socket-code-examples\" rel=\"nofollow noreferrer\">sockets</a>, <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.httprequest?view=netframework-4.8\" rel=\"nofollow noreferrer\">HTTP request</a> or in some cases <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wcf/whats-wcf\" rel=\"nofollow noreferrer\">WCF.</a></p>\n\n<p>Projects produce <a href=\"https://docs.microsoft.com/en-us/visualstudio/ide/solutions-and-projects-in-visual-studio?view=vs-2019\" rel=\"nofollow noreferrer\">completely isolated executables</a> and cannot peek each other's memory at runtime.</p>\n"}], "owner": {"reputation": 1, "user_id": 11407104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae5232324e40577686c5fa4cb45aa55e?s=128&d=identicon&r=PG&f=1", "display_name": "Joe M", "link": "https://stackoverflow.com/users/11407104/joe-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556143718, "creation_date": 1556141931, "question_id": 55838945, "link": "https://stackoverflow.com/questions/55838945/passing-dynamic-values-between-projects-in-the-same-solution", "title": "Passing dynamic values between projects in the same solution", "body": "<p>I need to pass dynamic values between a winform(c#) project and a webform project in the same solution.\nI've added a reference from one project to the other.\nI'm able to get the initial values assigned to public static variables, but not dynamic values.</p>\n\n<p>I've tried several related examples from this site (Runtime values, Global Variables).</p>\n\n<pre><code>namespace TestWeb_01 // Source Project \n{\npublic partial class WebForm1 : System.Web.UI.Page\n{\n    public static string Time_Web = \"xxxx\";\n    public static GlobalVariablesClass globals = new GlobalVariablesClass();\n\n    public void Page_Load(object sender, EventArgs e)\n    {\n        Time_Web = DateTime.Now.ToString(@\"hh\\:mm\\:ss\");\n        RuntimeValues.Runtime_String1 = \"zzzz\";\n        globals.VariableOne = \"www\";\n\n        Refresh();\n    }\n    protected void Button3_Click(object sender, EventArgs e)// Write Time\n    {\n        Time_Web = DateTime.Now.ToString(@\"hh\\:mm\\:ss\");\n        RuntimeValues.Runtime_String1 = \n DateTime.Now.ToString(@\"hh\\:mm\\:ss\");\n        globals.VariableOne = DateTime.Now.ToString(@\"hh\\:mm\\:ss\");\n        Refresh();\n    }\n...\n\nusing TestWeb_01;// Winform project\n\nnamespace FormsApp1\n{\npublic partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n        Time_Web_lbl.Text = \"Initial\";\n        Runtime_lbl.Text = \"Initial\";\n        Global_lbl.Text = \"Initial\";\n    }\n\n    public void Form1_Load(object sender, EventArgs e)\n    {\n        Refresh();\n    }\n\n    public void button1_Click(object sender, EventArgs e)\n    {\n        Refresh();\n    }\n\n    public void Refresh()\n    {\n        Time_Web_lbl.Text = WebForm1.Time_Web;\n        Runtime_lbl.Text = RuntimeValues.Runtime_String1;\n        Global_lbl.Text = WebForm1.globals.VariableOne;\n    }\n...\n</code></pre>\n\n<p>I'm only able to get the \"xxxx\" value in the winform, I get blanks for the Runtime and Global variables, and no daytime value updates.</p>\n"}, {"tags": ["c#", "wpf", "checkbox", "custom-controls"], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 5446775, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/92a536f7870770956c9b61fc7b5fb741?s=128&d=identicon&r=PG&f=1", "display_name": "Henri", "link": "https://stackoverflow.com/users/5446775/henri"}, "edited": false, "score": 0, "creation_date": 1556197034, "post_id": 55840148, "comment_id": 98361419, "body": "Oh my godness!!! I&#39;ve been struggling with this for so long for such a simple answer! You&#39;re the man!"}], "tags": [], "owner": {"reputation": 13840, "user_id": 1177147, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/zHhAS.jpg?s=128&g=1", "display_name": "Mark Feldman", "link": "https://stackoverflow.com/users/1177147/mark-feldman"}, "is_accepted": true, "score": 1, "last_activity_date": 1556151648, "last_edit_date": 1556151648, "creation_date": 1556151339, "answer_id": 55840148, "question_id": 55838868, "link": "https://stackoverflow.com/questions/55838868/how-to-stretch-a-checkbox-while-maintaining-everything-aligned/55840148#55840148", "title": "How to stretch a CheckBox while maintaining everything aligned", "body": "<p>Everybody's always gotta try and over-complicate things :)</p>\n\n<p>Try <code>VerticalContentAlignment=\"Center\"</code>.</p>\n"}], "owner": {"reputation": 637, "user_id": 5446775, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/92a536f7870770956c9b61fc7b5fb741?s=128&d=identicon&r=PG&f=1", "display_name": "Henri", "link": "https://stackoverflow.com/users/5446775/henri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "closed_date": 1556196484, "accepted_answer_id": 55840148, "answer_count": 1, "score": 0, "last_activity_date": 1556200316, "creation_date": 1556141495, "last_edit_date": 1556200316, "question_id": 55838868, "link": "https://stackoverflow.com/questions/55838868/how-to-stretch-a-checkbox-while-maintaining-everything-aligned", "closed_reason": "Duplicate", "title": "How to stretch a CheckBox while maintaining everything aligned", "body": "<p>I'm writing a custom checkable ListBox and the items must be checked when an item is selected. The easiest approach I could come up with is to increase the CheckBox height/width (size) to cover the whole ListBoxItem area, however I couldn't manage to vertically align the square and its text, eg:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GhlDo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GhlDo.png\" alt=\"enter image description here\"></a></p>\n\n<p>The red text is somewhat the desired alignment, given its whole area (blue rectangle). What's necessary to achieve this?</p>\n"}, {"tags": ["c#", "asp.net-core", "razor", "asp.net-core-mvc"], "answers": [{"tags": [], "owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "is_accepted": true, "score": 7, "last_activity_date": 1556142311, "last_edit_date": 1556142311, "creation_date": 1556141774, "answer_id": 55838912, "question_id": 55838857, "link": "https://stackoverflow.com/questions/55838857/why-partialasync-doesnt-call-coresponding-controller-method/55838912#55838912", "title": "Why PartialAsync doesn&#39;t call coresponding controller method?", "body": "<pre><code>@await Html.PartialAsync(\"CountView\", Model)\n</code></pre>\n\n<p>Renders a Partial View, it doesn't call any Controller for that. The correct way for doing this in ASP.NET Core is to create a <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/views/view-components\" rel=\"noreferrer\">View Component</a>. </p>\n\n<p>As for the implementation, here's a simple one modified from the official documentation previously linked:</p>\n\n<ol>\n<li>Create a <code>ViewComponents</code> folder at the root of the project</li>\n<li>Inside it, create a ``CounterViewComponent` class:</li>\n</ol>\n\n<pre><code>public class CounterViewComponent: ViewComponent\n{\n    public async Task&lt;IViewComponentResult&gt; InvokeAsync(MyModel model)\n    {\n        // magic here\n        return View(model);\n    }\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>Call it in your view:</li>\n</ol>\n\n<pre><code>@await Component.InvokeAsync(\"Counter\", new { model = Model })\n</code></pre>\n"}], "owner": {"reputation": 936, "user_id": 2572796, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/XvAOv.png?s=128&g=1", "display_name": "Szybki", "link": "https://stackoverflow.com/users/2572796/szybki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 793, "favorite_count": 1, "accepted_answer_id": 55838912, "answer_count": 1, "score": 4, "last_activity_date": 1556142311, "creation_date": 1556141449, "last_edit_date": 1556141576, "question_id": 55838857, "link": "https://stackoverflow.com/questions/55838857/why-partialasync-doesnt-call-coresponding-controller-method", "title": "Why PartialAsync doesn&#39;t call coresponding controller method?", "body": "<p>I have a .NET Core 2.1 MVC application.</p>\n\n<p>I have a Home controller that looks like this:</p>\n\n<pre><code>public class HomeController : Controller\n{\n    public IActionResult Index()\n    {\n        return View();\n    }\n\n    public IActionResult CountView(MyModel model)\n    {\n        ...\n        return PartialView(model);\n    }\n}\n</code></pre>\n\n<p>In the Index view I want to display a patial view called <code>CountView</code>.</p>\n\n<p>But when I use the following method in the Index.cshtml:</p>\n\n<pre><code>@await Html.PartialAsync(\"CountView\", Model)\n</code></pre>\n\n<p>the view is displayed as I wanted to but the method in the controller never gets called and thus the partial view doesn't get the data it needs that is intended to be fetched by the controller method.</p>\n\n<p>Why is that so?</p>\n\n<p>And how can I make it to work as desired?</p>\n"}, {"tags": ["c#", "unit-testing", "unity3d", "tdd", "gameobject"], "comments": [{"owner": {"reputation": 524, "user_id": 4904285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aed1ca8f3e70c78d88b24c42c6033e8?s=128&d=identicon&r=PG&f=1", "display_name": "Noremac", "link": "https://stackoverflow.com/users/4904285/noremac"}, "edited": false, "score": 0, "creation_date": 1556141932, "post_id": 55838853, "comment_id": 98341746, "body": "According to <a href=\"https://docs.unity3d.com/Manual/PlaymodeTestFramework.html\" rel=\"nofollow noreferrer\">docs.unity3d.com/Manual/PlaymodeTestFramework.html</a> when you&#39;re unit testing something in edit mode, that is when <code>yield return null;</code> will skip the current frame. Play mode seems to be the mode your tests will run in, so I think you need to use <code>yield return new Update();</code>. Let me know if that works!"}, {"owner": {"reputation": 2429, "user_id": 4163879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0c93ccad271e711d4494562d341dbf0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam B", "link": "https://stackoverflow.com/users/4163879/adam-b"}, "reply_to_user": {"reputation": 524, "user_id": 4904285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aed1ca8f3e70c78d88b24c42c6033e8?s=128&d=identicon&r=PG&f=1", "display_name": "Noremac", "link": "https://stackoverflow.com/users/4904285/noremac"}, "edited": false, "score": 0, "creation_date": 1556201018, "post_id": 55838853, "comment_id": 98364161, "body": "I think you&#39;re right. But then what is the edit mode UnityTest for?"}], "owner": {"reputation": 2429, "user_id": 4163879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0c93ccad271e711d4494562d341dbf0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam B", "link": "https://stackoverflow.com/users/4163879/adam-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 470, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556141433, "creation_date": 1556141433, "question_id": 55838853, "link": "https://stackoverflow.com/questions/55838853/unity-testrunner-doesnt-call-update-in-edit-mode-test", "title": "Unity TestRunner doesn&#39;t call Update() in edit mode test", "body": "<p>I'm trying to learn how to unit test in unity and have run into a strange problem. I suspect I\"m missing something pivotal in the early stages, but can't seem to figure out where I'm going wrong.</p>\n\n<p>I created a very simple MonoBehaviour:</p>\n\n<pre><code>public class SimpleMono : MonoBehaviour {\n\n    public int frameCount = 0;\n\n    // Update is called once per frame\n    void Update() {\n        frameCount++;\n    }\n}\n</code></pre>\n\n<p>Now to try to test that this works I've written two tests. One tests that frameCount is zero the first frame, and the other tests that frameCount is 1 the 2nd frame. In the 2nd test, it yields return null, and then asserts. Since yield return null lets it go to the next frame. Therefore, one frame should have passed in which the update method got called.</p>\n\n<pre><code>public class NewTestScript\n{\n\n    [UnityTest]\n    public IEnumerator frame0test() {\n        SimpleMono simpleMono = new GameObject().AddComponent&lt;SimpleMono&gt;();\n        simpleMono.frameCount = 0;\n\n        Assert.AreEqual(0, simpleMono.frameCount);\n        yield return null;\n    }\n\n    [UnityTest]\n    public IEnumerator frame1test() {\n\n        SimpleMono simpleMono = new GameObject().AddComponent&lt;SimpleMono&gt;();\n        simpleMono.frameCount = 0;\n\n        yield return null;\n\n        Assert.AreEqual(1, simpleMono.frameCount);\n\n    }\n}\n</code></pre>\n\n<p>However, Test1 passes, yet test2 does not. Update is not getting called by either test. I tried putting a Debug.Log(\"FRAME FIRED\") statement in the update method to check if it was called as well and it didn't do anything.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qrqyP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qrqyP.png\" alt=\"test runner output\"></a></p>\n\n<p>I would have expected both tests to pass. </p>\n\n<p>If in fact this is intended behaviour, where Update does not get called, what use are [UnityTest]s? </p>\n"}, {"tags": ["c#", ".net", "task-parallel-library", "tpl-dataflow"], "comments": [{"owner": {"reputation": 8496, "user_id": 1009661, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/776dff440138550ac0e34a1712a60e2a?s=128&d=identicon&r=PG", "display_name": "tukaef", "link": "https://stackoverflow.com/users/1009661/tukaef"}, "edited": false, "score": 0, "creation_date": 1556143829, "post_id": 55838802, "comment_id": 98342305, "body": "Can&#39;t see neither paraellelblock1 nor parallelblock2 in your code."}], "answers": [{"comments": [{"owner": {"reputation": 3602, "user_id": 244093, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/630b6e20f7000d40b7f100d8584f7ec5?s=128&d=identicon&r=PG", "display_name": "Rubans", "link": "https://stackoverflow.com/users/244093/rubans"}, "edited": false, "score": 0, "creation_date": 1556146273, "post_id": 55839266, "comment_id": 98342887, "body": "absolute legend! Also, decided I actually needed a JoinBlock to bring both processblocks together rather than calling Save() twice but you unblocked."}], "tags": [], "owner": {"reputation": 3368, "user_id": 1305465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53792b9c0119678137acb4b6e225ce23?s=128&d=identicon&r=PG", "display_name": "Kalten", "link": "https://stackoverflow.com/users/1305465/kalten"}, "is_accepted": true, "score": 2, "last_activity_date": 1556143909, "creation_date": 1556143909, "answer_id": 55839266, "question_id": 55838802, "link": "https://stackoverflow.com/questions/55838802/tpl-dataflow-block-not-processing-as-expected/55839266#55839266", "title": "TPL Dataflow - block not processing as expected", "body": "<p>By default tpl block will only send a message to the first linked block.\nUse a <a href=\"https://docs.microsoft.com/fr-fr/dotnet/standard/parallel-programming/dataflow-task-parallel-library#broadcastblockt\" rel=\"nofollow noreferrer\">BroadcastBlock</a> to send a message to many components.</p>\n\n<pre><code>void Main()\n{\n    var random = new Random();\n    var readBlock = new TransformBlock&lt;int, int&gt;(x =&gt; {  return DoSomething(x, \"readBlock\"); },\n            new ExecutionDataflowBlockOptions { MaxDegreeOfParallelism = 1 }); //1\n\n    var braodcastBlock = new BroadcastBlock&lt;int&gt;(i =&gt; i); // \u2b05\ufe0f Here\n\n    var processBlock1 =\n        new TransformBlock&lt;int, int&gt;(x =&gt; DoSomething(x, \"processBlock1\")); //2\n    var processBlock2 =\n        new TransformBlock&lt;int, int&gt;(x =&gt; DoSomething(x, \"processBlock2\")); //3\n\n    var saveBlock =\n        new ActionBlock&lt;int&gt;(\n        x =&gt; Save(x)); //4\n\n    readBlock.LinkTo(braodcastBlock, new DataflowLinkOptions { PropagateCompletion = true });\n\n    braodcastBlock.LinkTo(processBlock1,\n        new DataflowLinkOptions { PropagateCompletion = true }); //5\n\n    braodcastBlock.LinkTo(processBlock2,\n        new DataflowLinkOptions { PropagateCompletion = true }); //6\n\n\n    processBlock1.LinkTo(\n        saveBlock); //7\n\n    processBlock2.LinkTo(\n        saveBlock); //8\n\n    readBlock.Post(1); //10\n    readBlock.Post(2); //10\n\n    Task.WhenAll(\n                processBlock1.Completion,\n                processBlock2.Completion)\n                .ContinueWith(_ =&gt; saveBlock.Complete());\n\n    readBlock.Complete(); //12\n    saveBlock.Completion.Wait(); //13\n    Console.WriteLine(\"Processing complete!\");\n}\n\n// Define other methods and classes here\n\nprivate static int DoSomething(int i, string method)\n{\n    Console.WriteLine($\"Do Something, callng method : { method} {i}\");\n    return i;\n}\nprivate static Task&lt;int&gt; DoSomethingAsync(int i, string method)\n{\n    DoSomething(i, method);\n    return Task.FromResult(i);\n}\nprivate static void Save(int i)\n{\n    Console.WriteLine(\"Save! \" + i);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3602, "user_id": 244093, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/630b6e20f7000d40b7f100d8584f7ec5?s=128&d=identicon&r=PG", "display_name": "Rubans", "link": "https://stackoverflow.com/users/244093/rubans"}, "edited": false, "score": 0, "creation_date": 1556146457, "post_id": 55839280, "comment_id": 98342937, "body": "Thanks, that does explain why was going straight through."}], "tags": [], "owner": {"reputation": 2697, "user_id": 83202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67ae8cb38fcfb5b5609906c9d83dc15c?s=128&d=identicon&r=PG", "display_name": "Curt Nichols", "link": "https://stackoverflow.com/users/83202/curt-nichols"}, "is_accepted": false, "score": 0, "last_activity_date": 1556143984, "creation_date": 1556143984, "answer_id": 55839280, "question_id": 55838802, "link": "https://stackoverflow.com/questions/55838802/tpl-dataflow-block-not-processing-as-expected/55839280#55839280", "title": "TPL Dataflow - block not processing as expected", "body": "<p>It appears that you're posting only one item to the graph, and the first consumer to consume it wins. There's no implied 'tee' functionality in the graph you've made--so there's no possible parallelism there.</p>\n"}], "owner": {"reputation": 3602, "user_id": 244093, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/630b6e20f7000d40b7f100d8584f7ec5?s=128&d=identicon&r=PG", "display_name": "Rubans", "link": "https://stackoverflow.com/users/244093/rubans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 55839266, "answer_count": 2, "score": 0, "last_activity_date": 1556143984, "creation_date": 1556141190, "question_id": 55838802, "link": "https://stackoverflow.com/questions/55838802/tpl-dataflow-block-not-processing-as-expected", "title": "TPL Dataflow - block not processing as expected", "body": "<p>I have a set of simple blocks which are mostly processed in a serial manner but I have two blocks which I want to process in parallel (processblock1 &amp; processblock2). I just started playing around with TPL datablocks so new to it.\nHowever in the code below, I can see paraellelblock1 is being called as but never parallelblock2 as expected. I was hoping they would both be kicked off in parallel.</p>\n\n<pre><code>    class Program\n    {\n        static void Main(string[] args)\n        {\n            var readBlock = new TransformBlock&lt;int, int&gt;(x =&gt; DoSomething(x, \"readBlock\"),\n                new ExecutionDataflowBlockOptions { MaxDegreeOfParallelism = 1 }); //1\n\n            var processBlock1 =\n                new TransformBlock&lt;int, int&gt;(x =&gt; DoSomething(x, \"processBlock1\")); //2\n            var processBlock2 =\n                new TransformBlock&lt;int, int&gt;(x =&gt; DoSomething(x, \"processBlock2\")); //3\n\n            var saveBlock =\n                new ActionBlock&lt;int&gt;(\n                x =&gt; Save(x)); //4\n\n            readBlock.LinkTo(processBlock1,\n                new DataflowLinkOptions { PropagateCompletion = true }); //5\n\n            readBlock.LinkTo(processBlock2,\n                new DataflowLinkOptions { PropagateCompletion = true }); //6\n\n\n            processBlock1.LinkTo(\n                saveBlock); //7\n\n            processBlock2.LinkTo(\n                saveBlock); //8\n\n            readBlock.Post(1); //10\n\n            Task.WhenAll(\n                processBlock1.Completion,\n                processBlock2.Completion)\n                .ContinueWith(_ =&gt; saveBlock.Complete()); //11\n\n            readBlock.Complete(); //12\n            saveBlock.Completion.Wait(); //13\n            Console.WriteLine(\"Processing complete!\");\n            Console.ReadLine();\n        }\n        private static int DoSomething(int i, string method)\n        {\n            Console.WriteLine($\"Do Something, callng method : { method}\");\n            return i;\n        }\n        private static async Task&lt;int&gt; DoSomethingAsync(int i, string method)\n        {\n            DoSomething(i, method);\n            return i;\n        }\n        private static void Save(int i)\n        {\n            Console.WriteLine(\"Save!\");\n        }\n\n\n    }\n</code></pre>\n"}, {"tags": ["c#", "xamarin", "uwp"], "comments": [{"owner": {"reputation": 7891, "user_id": 6782612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KuUfK.jpg?s=128&g=1", "display_name": "Xie Steven", "link": "https://stackoverflow.com/users/6782612/xie-steven"}, "edited": false, "score": 0, "creation_date": 1556249362, "post_id": 55838754, "comment_id": 98381475, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/55524430/how-can-i-open-a-pdf-file-in-the-browser-from-a-xamarin-uwp-project\">How can I open a .pdf file in the browser from a Xamarin UWP project?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 602, "user_id": 7736648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6GuvO.png?s=128&g=1", "display_name": "Larry Tang", "link": "https://stackoverflow.com/users/7736648/larry-tang"}, "is_accepted": false, "score": 0, "last_activity_date": 1556142005, "last_edit_date": 1556142005, "creation_date": 1556141559, "answer_id": 55838877, "question_id": 55838754, "link": "https://stackoverflow.com/questions/55838754/how-can-i-reference-windows-system-namespace-in-a-xamarin-project/55838877#55838877", "title": "How can I reference Windows.System namespace in a Xamarin project?", "body": "<p>Have you tried adding an assembly reference in the Reference menu?\nIn the Solution Explorer, right click your project and go to:</p>\n\n<pre><code>Add -&gt; Reference -&gt; Assemblies -&gt; System.*\n</code></pre>\n\n<p>Also, make sure not to use platform specific libraries for a mobile project, since this will probably cause compatibility issues. <code>.NET Standard</code> is the way to go.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 9525966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c3e00783fd19ab86e98da4faf88dc27?s=128&d=identicon&r=PG&f=1", "display_name": "NoelRT", "link": "https://stackoverflow.com/users/9525966/noelrt"}, "edited": false, "score": 0, "creation_date": 1556143395, "post_id": 55838882, "comment_id": 98342178, "body": "I tried your approach but nothing happens. The pdf is not being opened on the browser or acrobat. Am I missing something? I did try opening the file using file://. This is what I am doing:                                                                                          string uriToLaunch = @&quot;file://&quot; + @&quot;P://Receiving inspection//Inspection Reports//&quot; + filename + &quot;.pdf&quot;;  var uri = new Uri(uriToLaunch);  await Xamarin.Essentials.Launcher.OpenAsync(uri);"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "reply_to_user": {"reputation": 21, "user_id": 9525966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c3e00783fd19ab86e98da4faf88dc27?s=128&d=identicon&r=PG&f=1", "display_name": "NoelRT", "link": "https://stackoverflow.com/users/9525966/noelrt"}, "edited": false, "score": 0, "creation_date": 1556144230, "post_id": 55838882, "comment_id": 98342418, "body": "<code>...@&quot;file:&#47;&#47;&quot; + @&quot;P:&#47;&#47;Receiving inspe... </code> is not a valid <code>file:&#47;&#47;</code> uri"}, {"owner": {"reputation": 21, "user_id": 9525966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c3e00783fd19ab86e98da4faf88dc27?s=128&d=identicon&r=PG&f=1", "display_name": "NoelRT", "link": "https://stackoverflow.com/users/9525966/noelrt"}, "edited": false, "score": 0, "creation_date": 1556165300, "post_id": 55838882, "comment_id": 98346293, "body": "What am I supposed to use instead?"}], "tags": [], "owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "is_accepted": false, "score": 0, "last_activity_date": 1556142356, "last_edit_date": 1556142356, "creation_date": 1556141620, "answer_id": 55838882, "question_id": 55838754, "link": "https://stackoverflow.com/questions/55838754/how-can-i-reference-windows-system-namespace-in-a-xamarin-project/55838882#55838882", "title": "How can I reference Windows.System namespace in a Xamarin project?", "body": "<p>Use <code>Xamarin.Essentials</code> as it defines the various OS dependancies for you and on UWP uses the native <a href=\"https://github.com/xamarin/Essentials/blob/7c85f9cdf0562ca6ac46cf0d99aea0b6cc002b91/Xamarin.Essentials/Launcher/Launcher.uwp.cs#L17\" rel=\"nofollow noreferrer\">Windows.System.Launcher.LaunchUriAsync</a>:</p>\n\n<pre><code> Xamarin.Essentials.Launcher.OpenAsync\n</code></pre>\n\n<p>re: <a href=\"https://docs.microsoft.com/en-us/xamarin/essentials/launcher?tabs=uwp#using-launcher\" rel=\"nofollow noreferrer\">Xamarin Docs</a></p>\n\n<p>Note: Opening <code>file://</code>-based URIs is very restricted in UWP.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 9525966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c3e00783fd19ab86e98da4faf88dc27?s=128&d=identicon&r=PG&f=1", "display_name": "NoelRT", "link": "https://stackoverflow.com/users/9525966/noelrt"}, "edited": false, "score": 0, "creation_date": 1556202384, "post_id": 55843166, "comment_id": 98365029, "body": "How can I make sure I am using a .NET Standard library? I can&#39;t remember what type of project did I choose when I first created my project."}, {"owner": {"reputation": 606, "user_id": 5449889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-_vlWFphzYys/AAAAAAAAAAI/AAAAAAAAAEQ/TLQdZEGJY1k/photo.jpg?sz=128", "display_name": "Elias Johannes", "link": "https://stackoverflow.com/users/5449889/elias-johannes"}, "reply_to_user": {"reputation": 21, "user_id": 9525966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c3e00783fd19ab86e98da4faf88dc27?s=128&d=identicon&r=PG&f=1", "display_name": "NoelRT", "link": "https://stackoverflow.com/users/9525966/noelrt"}, "edited": false, "score": 0, "creation_date": 1556257962, "post_id": 55843166, "comment_id": 98383389, "body": "For me when i navigate to my main project folder and go to options -&gt; General the first line says &quot;Target framework -&gt; .NET Standard 2.0&quot;. I&#39;m on VS Mac though, i don&#39;t know if it&#39;s the same location on windows"}], "tags": [], "owner": {"reputation": 606, "user_id": 5449889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-_vlWFphzYys/AAAAAAAAAAI/AAAAAAAAAEQ/TLQdZEGJY1k/photo.jpg?sz=128", "display_name": "Elias Johannes", "link": "https://stackoverflow.com/users/5449889/elias-johannes"}, "is_accepted": false, "score": 0, "last_activity_date": 1556174101, "creation_date": 1556174101, "answer_id": 55843166, "question_id": 55838754, "link": "https://stackoverflow.com/questions/55838754/how-can-i-reference-windows-system-namespace-in-a-xamarin-project/55843166#55843166", "title": "How can I reference Windows.System namespace in a Xamarin project?", "body": "<p>If you are not targeting .NET Standard yet, make sure you do that if you want to use System libraries. There are some tutorials on this, but i highly suggest you backup your project before changing from PCL to .NET Standard </p>\n"}], "owner": {"reputation": 21, "user_id": 9525966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c3e00783fd19ab86e98da4faf88dc27?s=128&d=identicon&r=PG&f=1", "display_name": "NoelRT", "link": "https://stackoverflow.com/users/9525966/noelrt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1556174101, "creation_date": 1556140962, "last_edit_date": 1556141047, "question_id": 55838754, "link": "https://stackoverflow.com/questions/55838754/how-can-i-reference-windows-system-namespace-in-a-xamarin-project", "title": "How can I reference Windows.System namespace in a Xamarin project?", "body": "<p>I am trying to open a pdf file on the browser, acrobat or any other default pdf program. For this I need to call <code>LaunchFileAsync()</code> and I need to reference Windows.System to be able to use it. However, this is not working and I can't call any reference.  </p>\n\n<p>I tried looking for a specific library or nuget package but I couldn't find anything. The documentation just tells me to use that namespace but it doesn't say anything about how to add the reference. I also tried using a different approach by calling <code>System.Diagnostics.Process.Start(path)</code> and some variations but it doesnt't work using Xamarin apparently. </p>\n\n<p>This is basically what I am trying to implement but there's no namespace found event though I did try implementing it. </p>\n\n<pre><code>string uriToLaunch = @\"file://\" + @file;\n\n\nvar uri = new Uri(uriToLaunch);\n\n\nvar success = await Windows.System.Launcher.LaunchUriAsync(uri);\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556140148, "post_id": 55838446, "comment_id": 98341145, "body": "Are you saying that you want a function that takes something which describes an image (like a file name?) and returns &#39;true&#39; if the file is in file storage <i>and</i> if there&#39;s a corresponding record in the database, otherwise false?"}, {"owner": {"reputation": 3, "user_id": 6759132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b78633dcf466519e40a1eb41eb4f92f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebison J", "link": "https://stackoverflow.com/users/6759132/ebison-j"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556141440, "post_id": 55838446, "comment_id": 98341586, "body": "@ScottHannen: Yes correct. My code can do that returing true or false. what I  required is a sub classification for the false/negative scenario 1.  Images present in DB but not in Server.(Negative) and Images present in server but not in DB (Negative)"}], "owner": {"reputation": 3, "user_id": 6759132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b78633dcf466519e40a1eb41eb4f92f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebison J", "link": "https://stackoverflow.com/users/6759132/ebison-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556139465, "creation_date": 1556139465, "question_id": 55838446, "link": "https://stackoverflow.com/questions/55838446/find-out-whether-the-data-is-present-or-not-and-segregate-them-using-a-c-code", "title": "Find out whether the data is present or not and segregate them using a C# code", "body": "<p>I'm writing a code to figure out the missing data and where i am having a mismatch or where it is not present.</p>\n\n<p>There are 3 scenarios.</p>\n\n<ol>\n<li>Images present as per db and in server (positive)</li>\n<li>Images present in DB but not in Server.(Negative)</li>\n<li>Images present in server but not in DB (Negative)</li>\n</ol>\n\n<p>I have written a code using else if and i am able to capture only two scenario</p>\n\n<ol>\n<li>Positive</li>\n<li>Negative</li>\n</ol>\n\n<p>How do i classify the two negative scenarios\n(ie)Images present in DB but not in Server(Negative) and Images present in server but not in DB (Negative) to this code</p>\n\n<pre><code>namespace DataTableColumnCommaSeperated\n{\n   class Program\n   {\n      static void Main(string[] args)\n      {\n        fileOperation();\n      }\n      private static void fileOperation()\n      {\n        try\n        {                \n        string main_directory = @\"D:\\DMSArchivalPhase1\\\";//src_directory location\n          string[] lead_list = File.ReadAllLines(main_directory + @\"list.txt\");//first input\n            string[] image_list = File.ReadAllLines(main_directory + @\"image_list.txt\");//image name as per DB\n              foreach(string lead_id in lead_list)\n              {\n              Console.WriteLine(lead_id);\n              string[] src_list = File.ReadAllLines(main_directory + @\"src_list.txt\");\n              foreach (string src_dir in src_list)\n               {\n               string final_path = src_dir + lead_id;\n               if (Directory.Exists(final_path))\n               {\n                var filePaths = Directory.GetFiles(final_path, \"*.*\", SearchOption.AllDirectories).Where(name =&gt; !name.EndsWith(\".gz\"));//images present as per server\n                foreach (string path in filePaths)\n                  {\n                   FileInfo f = new FileInfo(path);\n                   string strNewName = Path.GetFileNameWithoutExtension(f.Name);\n                   if (Array.Exists(image_list, element =&gt; element == strNewName))\n                   {\n                    Console.WriteLine(\"File exist\");\n                   }\n                   else if (Array.Exists(image_list, element =&gt; element != strNewName))\n                   {\n                   Console.WriteLine(strNewName + \"File name doesnot exist in DMS/Databse\");\n                   }                               \n                  }\n               }\n               }\n              }               \n        }\n        catch (Exception ex)\n        {\n        Console.WriteLine(ex.Message);\n        }\n     }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "json", "mongodb", "json.net", "mongodb-.net-driver"], "answers": [{"tags": [], "owner": {"reputation": 40100, "user_id": 6238977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBcTp.png?s=128&g=1", "display_name": "mickl", "link": "https://stackoverflow.com/users/6238977/mickl"}, "is_accepted": true, "score": 3, "last_activity_date": 1556141343, "creation_date": 1556141343, "answer_id": 55838829, "question_id": 55838443, "link": "https://stackoverflow.com/questions/55838443/posting-mongo-objectid-from-postman/55838829#55838829", "title": "Posting Mongo ObjectId from Postman", "body": "<p>You're getting this exception because <strong>Newtonsoft.Json</strong> is not able to convert string you're sending into MongoDB's <code>ObjectId</code>. To fix that you can implement your own <a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_JsonConverter.htm\" rel=\"nofollow noreferrer\">JsonConverter</a> and run the conversion using <code>ObjectId.Parse()</code>:</p>\n\n<pre><code>public class StringToObjectId : JsonConverter\n{\n    public override bool CanConvert(Type objectType) =&gt; objectType == typeof(ObjectId);\n\n    public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n    {\n        JToken token = JToken.Load(reader);\n        return ObjectId.Parse(token.ToObject&lt;string&gt;());\n    }\n\n    public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n    {\n        serializer.Serialize(writer, value.ToString());\n    }\n}\n</code></pre>\n\n<p>Then you can decorate your property with <a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_JsonConverterAttribute.htm\" rel=\"nofollow noreferrer\">JsonConverter</a> attribute:</p>\n\n<pre><code>public class MyClass\n{\n    [BsonId]\n    public ObjectId Id { get; set; }\n\n    [JsonConverter(typeof(StringToObjectId))]\n    public ObjectId UserId { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 1461, "user_id": 58049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a96600452ce423bd250a7c0df8e2b6ae?s=128&d=identicon&r=PG", "display_name": "o..o", "link": "https://stackoverflow.com/users/58049/o-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1113, "favorite_count": 0, "accepted_answer_id": 55838829, "answer_count": 1, "score": 1, "last_activity_date": 1556141363, "creation_date": 1556139453, "last_edit_date": 1556141363, "question_id": 55838443, "link": "https://stackoverflow.com/questions/55838443/posting-mongo-objectid-from-postman", "title": "Posting Mongo ObjectId from Postman", "body": "<p>I'm using MongoDb.Driver in C# and I have a model like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class MyClass\n{\n    [BsonId]\n    public ObjectId Id { get; set; }\n\n    public ObjectId UserId { get;\u00a0set; }\n}\n</code></pre>\n\n<p><code>UserId</code> is of type <code>ObjectId</code> from another collection.</p>\n\n<p>In postman I'm trying to POST a request with body:</p>\n\n<pre><code>{\n    \"userId\": \"5cc082d130b097e86665309d\"\n}\n</code></pre>\n\n<p>But I'm getting:</p>\n\n<pre><code>{\n    \"userId\": [\n        \"Error converting value \\\"5cc082d130b097e86665309d\\\" to type 'MongoDB.Bson.ObjectId'. Path 'userId', line 2, position 39.\"\n    ]\n}\n</code></pre>\n\n<p>How can I post <code>ObjectId</code>, or do I need some attribute on the property of this type?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["c#", ".net", "fingerprint"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1556140866, "post_id": 55838416, "comment_id": 98341387, "body": "<code>DatabasePersons.Fingerprints.Add(DatabaseFingerprints);</code> - as <code>DatabasePersons</code> is an instance of <code>Person</code>, aren&#39;t you adding all the fingerprints in your database to one person? The docs say <i>&quot;In order to search whole database of fingerprints, <b>put all Person objects</b> (candidates) into a collection and pass this collection to AfisEngine.Identify along with probe Person to look up&quot;</i>"}, {"owner": {"reputation": 768, "user_id": 7530186, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IAAL_RaTNrU/AAAAAAAAAAI/AAAAAAAAABM/snm3yLp-AJU/photo.jpg?sz=128", "display_name": "Marco Concas", "link": "https://stackoverflow.com/users/7530186/marco-concas"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 1, "creation_date": 1557925252, "post_id": 55838416, "comment_id": 98929311, "body": "Solved using a List. Thank you."}, {"owner": {"reputation": 178, "user_id": 1229663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LFCy9.png?s=128&g=1", "display_name": "Alan006", "link": "https://stackoverflow.com/users/1229663/alan006"}, "edited": false, "score": 0, "creation_date": 1591308816, "post_id": 55838416, "comment_id": 110015593, "body": "Hi Marco, could you post the example of the List you used please? Looking to do the exact same thing. Thanks"}], "owner": {"reputation": 768, "user_id": 7530186, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IAAL_RaTNrU/AAAAAAAAAAI/AAAAAAAAABM/snm3yLp-AJU/photo.jpg?sz=128", "display_name": "Marco Concas", "link": "https://stackoverflow.com/users/7530186/marco-concas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 530, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1572733836, "creation_date": 1556139326, "last_edit_date": 1557925299, "question_id": 55838416, "link": "https://stackoverflow.com/questions/55838416/matching-fingerprint-with-a-database-sourceafis", "title": "Matching fingerprint with a database SourceAFIS", "body": "<p>I've create a very simple program in C# that will match a fingerprint with a database that contains multiple fingerprints. I'm using SourceAFIS to do that.\nThis is the source code of that:</p>\n\n<pre><code>using System;\nusing System.Drawing;\nusing System.IO;\nusing SourceAFIS.Simple;\n\nnamespace FingerprintRecognizer\n{\n    class Class1\n    {\n        static AfisEngine AFIS = new AfisEngine();\n        static Person DatabasePersons = new Person();\n        static Person CandidatePerson = new Person();\n        static Fingerprint DatabaseFingerprints = new Fingerprint();\n        static Fingerprint CanditateFingerprint = new Fingerprint();\n\n        static void Main(string[] args)\n        {\n            // Populating database with previously saved fingerprints of many people.\n            foreach (string DatabaseTIFfiles in Directory.EnumerateFiles(Directory.GetCurrentDirectory() + @\"\\database\\\", \"*.tif\"))\n            {\n                DatabaseFingerprints.AsBitmap = new Bitmap(Image.FromFile(DatabaseTIFfiles));\n                DatabasePersons.Fingerprints.Add(DatabaseFingerprints);\n            }\n\n            // Inserting candidate fingerprint in another database.\n            CanditateFingerprint.AsBitmap = new Bitmap(Image.FromFile(Directory.GetCurrentDirectory() + @\"\\testfingerprint.tif\"));\n            CandidatePerson.Fingerprints.Add(CanditateFingerprint);\n\n            // Extracting skeletons of database fingerprints and candidate fingerprint.\n            AFIS.Extract(DatabasePersons);\n            AFIS.Extract(CandidatePerson);\n\n            // Matching\n            float score = AFIS.Verify(DatabasePersons, CandidatePerson);\n            bool match = (score &gt; 80);\n            int points = Convert.ToInt32(score);\n\n            if (match)\n                Console.WriteLine(string.Format(\"Fingerprint match with {0} points\", points.ToString()));\n            else\n                Console.WriteLine(string.Format(\"Fingerprint does not match with {0} points\", points.ToString()));\n\n            Console.ReadKey();\n        }\n    }\n}\n</code></pre>\n\n<p>I'll obtaing two possible results:\n\"Fingerprint match with {0} points\" or \"Fingerprint does not match with {0} points\"</p>\n\n<p>If is it possible I want obtain a result like that: \"Fingerprint match with \"Name Surname\".</p>\n\n<p>I've tryed to follow this but I don't understand how to do that.  <a href=\"https://en.wikibooks.org/wiki/SourceAFIS/Tutorial\" rel=\"nofollow noreferrer\">https://en.wikibooks.org/wiki/SourceAFIS/Tutorial</a></p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1556139376, "post_id": 55838396, "comment_id": 98340844, "body": "What does &#39;transmit a button&#39;  mean?"}, {"owner": {"reputation": 1, "user_id": 8741826, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i1fVllfdprw/AAAAAAAAAAI/AAAAAAAAABA/TYivSVbuxxI/photo.jpg?sz=128", "display_name": "IODAYSI ProJect", "link": "https://stackoverflow.com/users/8741826/iodaysi-project"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1556139513, "post_id": 55838396, "comment_id": 98340902, "body": "@NatPongjardenlarp - Need to get the button id("}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1556139689, "post_id": 55838396, "comment_id": 98340972, "body": "Hmm, all that buttons go out of scope when the next iteration of the loop begins and I don&#39;t see code adding the button to some form or other control. So I doubt anyone is ever clicking on any of these... Anyway, you can have a look at <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.control.tag?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>Tag</code></a> as a quick fix to store the ID in. Or make your own custom button class with a property for the ID."}, {"owner": {"reputation": 1, "user_id": 8741826, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i1fVllfdprw/AAAAAAAAAAI/AAAAAAAAABA/TYivSVbuxxI/photo.jpg?sz=128", "display_name": "IODAYSI ProJect", "link": "https://stackoverflow.com/users/8741826/iodaysi-project"}, "reply_to_user": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1556141466, "post_id": 55838396, "comment_id": 98341595, "body": "@sticky bit - Thanks a lot."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8741826, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i1fVllfdprw/AAAAAAAAAAI/AAAAAAAAABA/TYivSVbuxxI/photo.jpg?sz=128", "display_name": "IODAYSI ProJect", "link": "https://stackoverflow.com/users/8741826/iodaysi-project"}, "edited": false, "score": 0, "creation_date": 1556141380, "post_id": 55838499, "comment_id": 98341560, "body": "Thanks. I really happy)"}], "tags": [], "owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "is_accepted": true, "score": 0, "last_activity_date": 1556139736, "creation_date": 1556139736, "answer_id": 55838499, "question_id": 55838396, "link": "https://stackoverflow.com/questions/55838396/how-to-transfer-together-with-clicking-the-button-the-variable/55838499#55838499", "title": "How to transfer together with clicking the button, the variable?", "body": "<p>Store the ID in the <strong>TAG</strong> property of your dynamic button, then you can retrieve it later by casting the \"sender\" to button in the click event:</p>\n\n<pre><code>    private void Foo()\n    {\n        for (int i = 0; i &lt; database.Rows.Count; i1++)\n        {\n            Button buttonNew = new Button();\n            int id = Convert.ToInt32(row[\"id\"]); //i get id elem of my database \n            buttonNew.Tag = id; // store the ID for later retrieval\n            buttonNew.Click += ButtonNew_Click;\n            // ... add \"buttonNew\" to something ...\n        }\n\n    }\n\n    private void ButtonNew_Click(object sender, EventArgs e)\n    {\n        Button btn = sender as Button;\n        int id = (int)btn.Tag;\n        // ... do something with \"id\" ...\n    }\n</code></pre>\n\n<p>Note that the <strong>SIGNATURE</strong> of the click handler has changed.</p>\n"}], "owner": {"reputation": 1, "user_id": 8741826, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i1fVllfdprw/AAAAAAAAAAI/AAAAAAAAABA/TYivSVbuxxI/photo.jpg?sz=128", "display_name": "IODAYSI ProJect", "link": "https://stackoverflow.com/users/8741826/iodaysi-project"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 55838499, "answer_count": 1, "score": -2, "last_activity_date": 1556139736, "creation_date": 1556139200, "question_id": 55838396, "link": "https://stackoverflow.com/questions/55838396/how-to-transfer-together-with-clicking-the-button-the-variable", "title": "How to transfer together with clicking the button, the variable?", "body": "<p>I do not know the name of the button that I transmit.<br />\nIn order to further work with the data, I need to transfer at least a id.<br />\nBut when I try to send something else along with the event, an error appears.<br />\nI have Sqlite Database</p>\n\n<pre><code>for (int i = 0; i &lt; database.Rows.Count; i1++)\n{\n    Button buttonNew  = new Button();\n    int id = Convert.ToInt32(row[\"id\"]); //i get id elem of my database \n    buttonNew.Click += ButtonNewClick(id);\n}\nvoid ButtonNewClick(int id)\n{\n    Form2 fNext = new Form2();\n    fNext.Show();\n    //Other operations...\n}\n</code></pre>\n\n<p>Maybe I'm doing something wrong ...<br />\nAre can you help me?<br /></p>\n"}, {"tags": ["c#", "textbox", "multiline"], "comments": [{"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1556139275, "post_id": 55838367, "comment_id": 98340802, "body": "Are you trying to add <code>sleep(5)</code> into an existing line or in a new one below the matched string? Also, is this WinForms, WPF, WebForms,...?"}, {"owner": {"reputation": 79, "user_id": 10047487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e47c37bff71e6a3982c1f13fe8b4a4?s=128&d=identicon&r=PG&f=1", "display_name": "willerson", "link": "https://stackoverflow.com/users/10047487/willerson"}, "reply_to_user": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1556139599, "post_id": 55838367, "comment_id": 98340932, "body": "on a new line underneath the matched one would be ideal, i&#39;m using winforms :)"}, {"owner": {"reputation": 79, "user_id": 10047487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e47c37bff71e6a3982c1f13fe8b4a4?s=128&d=identicon&r=PG&f=1", "display_name": "willerson", "link": "https://stackoverflow.com/users/10047487/willerson"}, "reply_to_user": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1556139809, "post_id": 55838367, "comment_id": 98341018, "body": "It&#39;s a multiline textbox which i paste lines of text into :)"}, {"owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "edited": false, "score": 0, "creation_date": 1556139972, "post_id": 55838367, "comment_id": 98341091, "body": "You can&#39;t modify something that is being iterated with a <code>foreach</code> loop, so you&#39;ll have to switch to another approach, like using an indexed for loop."}, {"owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "reply_to_user": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1556140170, "post_id": 55838367, "comment_id": 98341155, "body": "@AhmedAbdelhameed What?...sure it does."}, {"owner": {"reputation": 79, "user_id": 10047487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e47c37bff71e6a3982c1f13fe8b4a4?s=128&d=identicon&r=PG&f=1", "display_name": "willerson", "link": "https://stackoverflow.com/users/10047487/willerson"}, "edited": false, "score": 0, "creation_date": 1556140305, "post_id": 55838367, "comment_id": 98341215, "body": "It compiles fine and is definately a Textbox :)"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 10047487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e47c37bff71e6a3982c1f13fe8b4a4?s=128&d=identicon&r=PG&f=1", "display_name": "willerson", "link": "https://stackoverflow.com/users/10047487/willerson"}, "edited": false, "score": 0, "creation_date": 1556140601, "post_id": 55838652, "comment_id": 98341299, "body": "Thank you idle_Mind that is working great and has given me something to work on."}, {"owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 0, "creation_date": 1556141913, "post_id": 55838652, "comment_id": 98341742, "body": "Why is it <code>i += 2</code> after <i>one</i> new line has been inserted? The <code>i++</code> of the <code>for</code> statement will also execute in that case, so is it intentional that you skip <i>two</i> lines?"}, {"owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "reply_to_user": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 0, "creation_date": 1556142727, "post_id": 55838652, "comment_id": 98341974, "body": "You&#39;re absolutely right, @JeppeStigNielsen, it should be <code>i++</code>.  Code has been edited above."}], "tags": [], "owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "is_accepted": true, "score": 3, "last_activity_date": 1556142688, "last_edit_date": 1556142688, "creation_date": 1556140475, "answer_id": 55838652, "question_id": 55838367, "link": "https://stackoverflow.com/questions/55838367/c-multiline-textbox-adding-a-string-after-a-line-if-it-contains-x/55838652#55838652", "title": "C# Multiline Textbox: Adding a string after a line if it contains X", "body": "<p>You could do something like this:</p>\n\n<pre><code>List&lt;string&gt; lines = new List&lt;string&gt;(textBox1.Lines);\n\nfor(int i = 0; i &lt; lines.Count; i++) \n{\n   if (lines[i].Contains(\"click()\")) \n   {\n      lines.Insert(i + 1, \"sleep(5)\");\n      i++;\n   }                \n}\n\ntextBox1.Lines = lines.ToArray();\n</code></pre>\n\n<p>Note that it doesn't check to see if there is already a \"sleep(5)\" on the next line, and that the changes aren't applied to the textbox until the whole thing has been processed.</p>\n"}, {"comments": [{"owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 1, "creation_date": 1556143069, "post_id": 55839005, "comment_id": 98342077, "body": "I also thought of <code>.SelectMany(i =&gt; i.Contains(buzzword) ? new[] { i, lineToAdd } : new[] { i })</code>."}, {"owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "edited": false, "score": 1, "creation_date": 1556143214, "post_id": 55839005, "comment_id": 98342126, "body": "I like it.  ...but if you had to modify it to check if the next line <b>already</b> had &quot;sleep(5)&quot;, how would you do it?  (I upvoted, by the way)."}, {"owner": {"reputation": 2933, "user_id": 10958092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fce4f18ec300414a8eb0aeb185fa3dea?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/10958092/alex"}, "edited": false, "score": 0, "creation_date": 1556174012, "post_id": 55839005, "comment_id": 98348746, "body": "@ Idle_Mind, oh, thanks) I&#39;ll think about it. Manual looping is of better performance anyway. But I like linq. It looks much prettier if performance is not a critical thing."}, {"owner": {"reputation": 2933, "user_id": 10958092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fce4f18ec300414a8eb0aeb185fa3dea?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/10958092/alex"}, "edited": false, "score": 0, "creation_date": 1556190951, "post_id": 55839005, "comment_id": 98357940, "body": "@ Idle_Mind, that&#39;s possible too, but isn&#39;t the most optimal <a href=\"https://dotnetfiddle.net/SwwWja\" rel=\"nofollow noreferrer\">dotnetfiddle.net/SwwWja</a>"}], "tags": [], "owner": {"reputation": 2933, "user_id": 10958092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fce4f18ec300414a8eb0aeb185fa3dea?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/10958092/alex"}, "is_accepted": false, "score": 1, "last_activity_date": 1556142357, "creation_date": 1556142357, "answer_id": 55839005, "question_id": 55838367, "link": "https://stackoverflow.com/questions/55838367/c-multiline-textbox-adding-a-string-after-a-line-if-it-contains-x/55839005#55839005", "title": "C# Multiline Textbox: Adding a string after a line if it contains X", "body": "<p>Fluent version:</p>\n\n<pre><code>using System;\nusing System.Linq;\nusing System.Windows.Forms;\n\nnamespace WindowsFormsApp\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n            txtBoxAdd.Lines = new[] { \"Line 1\", \"Line 2\", \"Line 3 contains the buzzword\", \"Line 4\", \"Line 5 has the buzzword too\", \"Line 6\" };\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            InsertLineAfterBuzzword(buzzword: \"buzzword\", lineToAdd: \"line to add\");\n        }\n\n        private void InsertLineAfterBuzzword(string buzzword, string lineToAdd)\n        {\n            txtBoxAdd.Lines = txtBoxAdd.Lines\n                                       .SelectMany(i =&gt; i.Contains(buzzword) ? new[] { i, lineToAdd } : new[] { i })\n                                       .ToArray();\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 10047487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e47c37bff71e6a3982c1f13fe8b4a4?s=128&d=identicon&r=PG&f=1", "display_name": "willerson", "link": "https://stackoverflow.com/users/10047487/willerson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 55838652, "answer_count": 2, "score": 0, "last_activity_date": 1556155256, "creation_date": 1556139080, "last_edit_date": 1556155256, "question_id": 55838367, "link": "https://stackoverflow.com/questions/55838367/c-multiline-textbox-adding-a-string-after-a-line-if-it-contains-x", "title": "C# Multiline Textbox: Adding a string after a line if it contains X", "body": "<p>What I'm trying to do is loop the contents of a multiline textbox (looping line by line), if it contains a certain keyword (for example if the line contains the word: <code>click()</code>) then on the next line i would add the word <code>sleep(5)</code></p>\n\n<p>Looping the textbox is no problem:</p>\n\n<pre><code>foreach (string line in txtBoxAdd.Lines)\n{\n   if (line.Contains(\"click()\"))\n   {\n      Helpers.ReturnMessage(line);\n   }\n}\n</code></pre>\n\n<p>The part i am having an issue with is how to add the word <code>sleep(5)</code> on the next line after it has found the keyword <code>click()</code> for example.</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["c#", "sql", "sql-server", "entity-framework", "stored-procedures"], "comments": [{"owner": {"reputation": 15914, "user_id": 1127428, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/pSzU4.jpg?s=128&g=1", "display_name": "Dale K", "link": "https://stackoverflow.com/users/1127428/dale-k"}, "edited": false, "score": 0, "creation_date": 1556140292, "post_id": 55838306, "comment_id": 98341209, "body": "You need start your SP... writing a complete SP is too broad a question for SO."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1556141713, "post_id": 55838306, "comment_id": 98341675, "body": "Is <code>ColorsToFilter</code> / <code>colorsToFilter</code> a <code>List&lt;string&gt;</code> or a table or IQueryable from the database in your LINQ epression? How can it be tested if it doesn&#39;t work in EF6? Your best bet is to use an <code>Expression</code> writer to create a predicate that is acceptable to EF, assuming <code>colorsToFilter</code> is a short list."}, {"owner": {"reputation": 5, "user_id": 2070585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91498ac1748293461ec7e077267283b?s=128&d=identicon&r=PG", "display_name": "AEON", "link": "https://stackoverflow.com/users/2070585/aeon"}, "edited": false, "score": 0, "creation_date": 1556142796, "post_id": 55838306, "comment_id": 98342003, "body": "I tested it in a C# project locally not against the database but a local representation of the table.  ColorsToFilter is a List&lt;string&gt; that will be passed into the stored procedure using a table parameter."}], "answers": [{"comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 5, "user_id": 2070585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91498ac1748293461ec7e077267283b?s=128&d=identicon&r=PG", "display_name": "AEON", "link": "https://stackoverflow.com/users/2070585/aeon"}, "edited": false, "score": 0, "creation_date": 1556213389, "post_id": 55839075, "comment_id": 98370898, "body": "Note that <code>Contain</code> will accept sub-colors - if that isn&#39;t acceptable, you need to use tighter conditions such as <code>(&quot;,&quot;+item.Colors+&quot;,&quot;).Contains(&quot;,&quot;+cf+&quot;,&quot;)</code> so that e.g. blue will not match light-blue."}, {"owner": {"reputation": 5, "user_id": 2070585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91498ac1748293461ec7e077267283b?s=128&d=identicon&r=PG", "display_name": "AEON", "link": "https://stackoverflow.com/users/2070585/aeon"}, "edited": false, "score": 0, "creation_date": 1556244519, "post_id": 55839075, "comment_id": 98380651, "body": "Thanks, it was just a generic example based on what I&#39;m trying to do.  Fortunately, I won&#39;t have that issue with the data I&#39;m using but it&#39;s good to know."}], "tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": true, "score": 0, "last_activity_date": 1556142720, "creation_date": 1556142720, "answer_id": 55839075, "question_id": 55838306, "link": "https://stackoverflow.com/questions/55838306/converting-linq-expression-to-sql-server-stored-procedure/55839075#55839075", "title": "Converting LINQ Expression to SQL Server stored procedure", "body": "<p>Since you are using <code>All</code>, this is actually straightforward - you can just concatenate <code>Where</code> conditions on your query and stay in EF:</p>\n\n<pre><code>var q = _context.Items.AsQueryable();\nforeach (var cf in colorsToFilter) {\n    q = q.Where(item =&gt; item.Colors.Contains(cf));\n}\n\nvar filteredItems = q.ToList();\n</code></pre>\n\n<p>Using LINQ again, you can actually do it in one statement:</p>\n\n<pre><code>var filteredItems = colorsToFilter.Aggregate(_context.Items.AsQueryable(), (q, f) =&gt; q.Where(item =&gt; item.Colors.Contains(f))).ToList();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 2070585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91498ac1748293461ec7e077267283b?s=128&d=identicon&r=PG", "display_name": "AEON", "link": "https://stackoverflow.com/users/2070585/aeon"}, "edited": false, "score": 0, "creation_date": 1556158487, "post_id": 55839385, "comment_id": 98345017, "body": "I wasn&#39;t determined, but a Microsoft rep I was in contact with said that I would not be able to do it with LINQ and should look into using a stored procedure instead.  Thank you for the help."}], "tags": [], "owner": {"reputation": 181, "user_id": 9316811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612dc261ee70b62c8199fecedc9f6b64?s=128&d=identicon&r=PG&f=1", "display_name": "Donald", "link": "https://stackoverflow.com/users/9316811/donald"}, "is_accepted": false, "score": 1, "last_activity_date": 1556144852, "creation_date": 1556144852, "answer_id": 55839385, "question_id": 55838306, "link": "https://stackoverflow.com/questions/55838306/converting-linq-expression-to-sql-server-stored-procedure/55839385#55839385", "title": "Converting LINQ Expression to SQL Server stored procedure", "body": "<p>Personally I would layout my table structure so that data i wanted to query in that manner was not in a csv list in a table column.</p>\n\n<p>If you are determined to use a sql stored procedure you can use the below. You can create a table type and pass it into the application you can then use the string_split function to turn your csv list into a table you can query and the all operator to check if it everything in your table parameter is there. The last bit where i call the procedure you would not do you would instead call the stored procedure in your c#, in c# you can create a datatable with a single string column called StringValue populate it with your list of filter colours and submit it as a sql parameter(note you need to tell it the name of your user defined type or you will get an error.)</p>\n\n<pre><code>   CREATE DATABASE Mycolours;\ngo\nUSE Mycolours\nGO\n\n/****** Object:  Table [dbo].[Colours]    Script Date: 24/04/2019 23:13:45 ******/\nSET ANSI_NULLS ON\nGO\n\nSET QUOTED_IDENTIFIER ON\nGO\n\nCREATE TABLE [dbo].[Colours](\n    [ColourID] [int] NOT NULL,\n    [ColourList] [nvarchar](50) NOT NULL\n) ON [PRIMARY]\nGO\nGO\ninsert into [Colours](ColourID,ColourList) values(1,'blue,green,red'),(2,'green'),(3,'blue,green,red,black'),(4,'orange,blue,green,red,gray')\n/****** Object:  StoredProcedure [dbo].[SPGetAllMyColours]    Script Date: 24/04/2019 23:14:10 ******/\nSET ANSI_NULLS ON\nGO\nGO\n\n/****** Object:  UserDefinedTableType [dbo].[StringValues]    Script Date: 24/04/2019 23:14:32 ******/\nCREATE TYPE [dbo].[StringValues] AS TABLE(\n    [StringValue] [nvarchar](50) NOT NULL,\n    PRIMARY KEY CLUSTERED \n(\n    [StringValue] ASC\n)WITH (IGNORE_DUP_KEY = OFF)\n)\nGO\n\n\nSET QUOTED_IDENTIFIER ON\nGO\n\n-- =============================================\n-- Author:      &lt;Author,,Name&gt;\n-- Create date: &lt;Create Date,,&gt;\n-- Description: &lt;Description,,&gt;\n-- =============================================\nCREATE PROCEDURE [dbo].[SPGetAllMyColours]\n    @colours dbo.StringValues READONLY\nAS\nBEGIN\n    select * from colours where not exists(select StringValue from @colours where StringValue = all(select value from string_split(colours.ColourList,',')));\nEND\nGO\n\n\n\nGO\n\nDECLARE @return_value int\ndeclare @filterColours dbo.StringValues;\n\ninsert into @filterColours(StringValue) values('blue'),('green'),('red');\n\nEXEC    @return_value = [dbo].[SPGetAllMyColours] @filterColours\n\nSELECT  'Return Value' = @return_value\n\nGO\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 2070585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91498ac1748293461ec7e077267283b?s=128&d=identicon&r=PG", "display_name": "AEON", "link": "https://stackoverflow.com/users/2070585/aeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 646, "favorite_count": 0, "accepted_answer_id": 55839075, "answer_count": 2, "score": -4, "last_activity_date": 1556164785, "creation_date": 1556138725, "last_edit_date": 1556164785, "question_id": 55838306, "link": "https://stackoverflow.com/questions/55838306/converting-linq-expression-to-sql-server-stored-procedure", "title": "Converting LINQ Expression to SQL Server stored procedure", "body": "<p>In my Azure Mobile App's .NET back end, I need to find all rows in which a column consisting of comma delimited string contains all strings in a list.  I'm using the following LINQ expression which has been tested:</p>\n\n<pre><code>List&lt;Items&gt; filteredItems = _context.Items\n                                    .Where(item =&gt; colorsToFilter.All(color =&gt; item.Colors.Contains(color)))\n                                    .ToList();\n</code></pre>\n\n<p>However, EF6 does not support the <code>.All</code> in a LINQ expression. Therefore, I am trying to convert this expression into a SQL stored procedure which takes a list of strings as parameter.</p>\n\n<p>Examples of the columns from both tables used in the query would be:</p>\n\n<pre><code>Colors:                            ColorsToFilter:\n\n1     blue,green,red               1     blue\n2     green                        2     green\n3     blue,green,red,black         3     red\n4     orange,blue,green,red,gray\n</code></pre>\n\n<p>All items in <code>ColorsToFilter</code> (<code>List&lt;string&gt;</code>) must be in <code>Colors</code>. So rows 1, 3, and 4 would be returned in this example.  </p>\n\n<p>How would I do this in SQL using a stored procedure with a table parameter representing the list?</p>\n"}, {"tags": ["c#", ".net", "asp.net-web-api", ".net-4.5", "httpcontext"], "comments": [{"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 1, "creation_date": 1556138885, "post_id": 55838275, "comment_id": 98340647, "body": "This can indicate that you&#39;re running in under IIS 7 in Integrated mode. Also, which event are you responding to?"}, {"owner": {"reputation": 2985, "user_id": 5722010, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ce4bd218ab1a0481197e57f7da845a63?s=128&d=identicon&r=PG&f=1", "display_name": "OpenStack", "link": "https://stackoverflow.com/users/5722010/openstack"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556139544, "post_id": 55838275, "comment_id": 98340916, "body": "@ScottHannen: I am using <code>Application_Start()</code> event. inside that, I am using <code>HTTPContext.Current.Request</code> to extract caller agent."}, {"owner": {"reputation": 862, "user_id": 4409834, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-G015Bz1NxeA/AAAAAAAAAAI/AAAAAAAAAEc/3QFP2KQPfyQ/photo.jpg?sz=128", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/4409834/vishnu"}, "edited": false, "score": 0, "creation_date": 1556140803, "post_id": 55838275, "comment_id": 98341362, "body": "which property are you trying to read from the request context ?"}], "answers": [{"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": true, "score": 1, "last_activity_date": 1556139876, "creation_date": 1556139876, "answer_id": 55838522, "question_id": 55838275, "link": "https://stackoverflow.com/questions/55838275/context-request-threw-an-exception-of-type-system-web-httpexception/55838522#55838522", "title": "&#39;context.Request&#39; threw an exception of type &#39;System.Web.HttpException&#39;", "body": "<p>From <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.httpcontext.request\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>ASP.NET will throw an exception if you try to use this property when the HttpRequest object is not available. For example, this would be true in the Application_Start method of the Global.asax file, or in a method that is called from the Application_Start method. At that time no HTTP request has been created yet.</p>\n</blockquote>\n\n<p><code>Application_Start</code> isn't meant to handle a specific request, so you would need to move what you're doing into the handler for a different event, like <code>BeginRequest</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1980, "user_id": 9452616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hBdWV.jpg?s=128&g=1", "display_name": "Sunil Dhappadhule", "link": "https://stackoverflow.com/users/9452616/sunil-dhappadhule"}, "is_accepted": false, "score": 0, "last_activity_date": 1557499189, "creation_date": 1557499189, "answer_id": 56079842, "question_id": 55838275, "link": "https://stackoverflow.com/questions/55838275/context-request-threw-an-exception-of-type-system-web-httpexception/56079842#56079842", "title": "&#39;context.Request&#39; threw an exception of type &#39;System.Web.HttpException&#39;", "body": "<pre><code>public class Global : HttpApplication\n{\n   private static HttpRequest initialRequest;\n\n   static Global()\n   {\n      initialRequest = HttpContext.Current.Request;       \n   }\n\n   void Application_Start(object sender, EventArgs e)\n   {\n      //access the initial request here\n\n    }\n</code></pre>\n\n<p>You can use here Application_Start event .The static type is created with a request in its HTTPContext, allowing you to store it and reuse it immediately in the Application_Start event.</p>\n"}], "owner": {"reputation": 2985, "user_id": 5722010, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ce4bd218ab1a0481197e57f7da845a63?s=128&d=identicon&r=PG&f=1", "display_name": "OpenStack", "link": "https://stackoverflow.com/users/5722010/openstack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1538, "favorite_count": 0, "accepted_answer_id": 55838522, "answer_count": 2, "score": 1, "last_activity_date": 1557499189, "creation_date": 1556138574, "question_id": 55838275, "link": "https://stackoverflow.com/questions/55838275/context-request-threw-an-exception-of-type-system-web-httpexception", "title": "&#39;context.Request&#39; threw an exception of type &#39;System.Web.HttpException&#39;", "body": "<p>I am trying to use access HTTPContext inside Global.asax Application_Start() event. </p>\n\n<pre><code>        var context = HttpContext.Current;\n        if (context != null)\n        {\n            if (context.Request != null) //Getting error here\n            {\n                  .....\n            }\n        }\n</code></pre>\n\n<p>When accessing <code>context.Request</code> I am getting <code>'context.Request' threw an exception of type 'System.Web.HttpException'</code> exception.</p>\n\n<p>In this case <code>context.Request</code> is not null but its throwing exception. </p>\n\n<p>I used following code to identify if the <code>Request</code> property exists:  </p>\n\n<pre><code>context.GetType().GetProperty(\"Request\");\n</code></pre>\n\n<p><strong>And I got following response.</strong> </p>\n\n<pre><code>{System.Web.HttpRequest Request}\n    Attributes: None\n    CanRead: true\n    CanWrite: false\n    CustomAttributes: Count = 0\n    DeclaringType: {Name = \"HttpContext\" FullName = \"System.Web.HttpContext\"}\n    GetMethod: {System.Web.HttpRequest get_Request()}\n    IsSpecialName: false\n    MemberType: Property\n    MetadataToken: 385876876\n    Module: {System.Web.dll}\n    Name: \"Request\"\n    PropertyType: {Name = \"HttpRequest\" FullName = \"System.Web.HttpRequest\"}\n    ReflectedType: {Name = \"HttpContext\" FullName = \"System.Web.HttpContext\"}\n    SetMethod: null\n\nI am not sure how to confirm if context.Request exists and is not null ?\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "automapper"], "comments": [{"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 0, "creation_date": 1556142866, "post_id": 55838205, "comment_id": 98342026, "body": "It&#39;s probably easier to do and understand without involving AutoMapper for the expansion. This sounds like a job for the JSON deserializer. You could do an AutoMapper Custom Type Converter for <code>int</code> to your <code>User</code> type. And you might still end up looping to save records."}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 0, "creation_date": 1556159379, "post_id": 55838205, "comment_id": 98345188, "body": "Share us the code you save <code>MyClass</code> to database. This it not related with AutoMapper which only convert <code>MyDtoClass</code> to <code>MyClass</code>. The key point is how you will insert <code>myClass</code>. in general, you need to loop <code>UserValues</code> to insert the <code>UserValue</code> table."}], "owner": {"user_type": "does_not_exist", "display_name": "user7656533"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556138295, "creation_date": 1556138295, "question_id": 55838205, "link": "https://stackoverflow.com/questions/55838205/how-to-map-from-an-array-to-multiple-rows-in-the-database-with-automapper", "title": "How to map from an array to multiple rows in the database with AutoMapper?", "body": "<p>On an ASP.NET CORE API implementation, let's say I have a simple business model like this:</p>\n\n<pre><code>public class MyClass\n{\n    public MyClass()\n    {\n\n    }\n\n    public int UserId { get; set; }\n\n    public int[] UserValues { get; set; }\n}\n</code></pre>\n\n<p>And I receive a JSON object like this:</p>\n\n<pre><code>{\n    \"userId\": 1,\n    \"userValues\": [4, 5, 6]\n}\n</code></pre>\n\n<p>My goal here is to save to the database a row for each <code>userValues</code> for that particular user, like this:</p>\n\n<pre><code>UserId | UserDbValues\n-------+-------------\n 1     | 4\n 1     | 5\n 1     | 6\n-------+-------------\n</code></pre>\n\n<p>Would it be possible to achieve that using AutoMapper? Or do I need to manually loop and save each row?</p>\n\n<p>I just getting familiar with AutoMapper, so this may be something really trivial or even impossible at all. I tried to map it this way but it didn't work:</p>\n\n<pre><code>CreateMap&lt;MyClass, MyDtoClass&gt;()\n    .ForMember(dest =&gt; dest.userDbValues, opt =&gt; opt.MapFrom(src =&gt; src.userValues));\n</code></pre>\n\n<p>Thanks a lot for any advice you may have!</p>\n"}, {"tags": ["c#", "asp.net", "model-view-controller", "entity-framework-core"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11341249, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yI5cQv0AH2U/AAAAAAAAAAI/AAAAAAAAAmU/byCN69JAHBM/photo.jpg?sz=128", "display_name": "Facundo Gabriel Garca Conejero", "link": "https://stackoverflow.com/users/11341249/facundo-gabriel-garca-conejero"}, "edited": false, "score": 0, "creation_date": 1556158699, "post_id": 55838225, "comment_id": 98345053, "body": "Thank you! I was sure it had to be something really simple."}], "tags": [], "owner": {"reputation": 795, "user_id": 5953575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YxUW7.jpg?s=128&g=1", "display_name": "Milenko Jevremovic", "link": "https://stackoverflow.com/users/5953575/milenko-jevremovic"}, "is_accepted": true, "score": 4, "last_activity_date": 1556139285, "last_edit_date": 1556139285, "creation_date": 1556138339, "answer_id": 55838225, "question_id": 55838188, "link": "https://stackoverflow.com/questions/55838188/system-invalidoperationexception-no-suitable-constructor-found-for-entity-type/55838225#55838225", "title": "System.InvalidOperationException: &#39;No suitable constructor found for entity type &#39;HealthCheck&#39;", "body": "<p>You are missing empty constructor:</p>\n\n<pre><code>public class HealthCheck\n{\n   // here\n   public HealthCheck()\n   {\n   }\n\n   public HealthCheck(string title, string hctype, string link)\n   {\n       Title = title;\n       HCType = hctype;\n       Link = link;\n   }\n\n   public int Id { get; set; }\n   public string Title { get; set; }\n   public string HCType { get; set; }\n   public string Link { get; set; }\n\n\n}\n</code></pre>\n\n<p>try it like that</p>\n"}, {"comments": [{"owner": {"reputation": 795, "user_id": 5953575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YxUW7.jpg?s=128&g=1", "display_name": "Milenko Jevremovic", "link": "https://stackoverflow.com/users/5953575/milenko-jevremovic"}, "edited": false, "score": 0, "creation_date": 1556138787, "post_id": 55838285, "comment_id": 98340622, "body": "If you check my answer I wrote that before you, so your answer is exactly same as mine"}], "tags": [], "owner": {"reputation": 2956, "user_id": 451383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/iVBZO.jpg?s=128&g=1", "display_name": "Dr TJ", "link": "https://stackoverflow.com/users/451383/dr-tj"}, "is_accepted": false, "score": 0, "last_activity_date": 1556138648, "creation_date": 1556138648, "answer_id": 55838285, "question_id": 55838188, "link": "https://stackoverflow.com/questions/55838188/system-invalidoperationexception-no-suitable-constructor-found-for-entity-type/55838285#55838285", "title": "System.InvalidOperationException: &#39;No suitable constructor found for entity type &#39;HealthCheck&#39;", "body": "<p>As the <code>HealthCheck</code> class is representing a <strong>Table</strong> in your database, so you have to provide an empty constructor.<br>\nTry the following implementation and let me know if you still receive the same error:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\n\nnamespace Application.Models\n{\n    public class HealthCheck\n    {\n        public HealthCheck()\n        {\n        }\n\n        public HealthCheck(string title, string hctype, string link)\n        {\n            Title = title;\n            HCType = hctype;\n            Link = link;\n        }\n\n        public int Id { get; set; }\n        public string Title { get; set; }\n        public string HCType { get; set; }\n        public string Link { get; set; }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 11780390, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/e34439dc2b179898a7a1c8ef9bc99e23?s=128&d=identicon&r=PG", "display_name": "Turbo549", "link": "https://stackoverflow.com/users/11780390/turbo549"}, "is_accepted": false, "score": 6, "last_activity_date": 1563036740, "creation_date": 1563036740, "answer_id": 57021133, "question_id": 55838188, "link": "https://stackoverflow.com/questions/55838188/system-invalidoperationexception-no-suitable-constructor-found-for-entity-type/57021133#57021133", "title": "System.InvalidOperationException: &#39;No suitable constructor found for entity type &#39;HealthCheck&#39;", "body": "<p>Providing a parameterless constructor avoids the problem, but it was not the true cause of the error in the OP's case.  <a href=\"https://docs.microsoft.com/en-us/ef/core/modeling/constructors\" rel=\"noreferrer\">EF Core 2.1 and higher uses a strict convention to map constructor parameters to property names of the entity.</a>  It expects a constructor parameter's name to be a true camel-case representation of a property name in Pascal-case.  If you change the parameter name from \"hctype\" to \"hCType\", you should not get the error and <em>not</em> have to provide a parameterless constructor if your approach to domain-driven design dictates that it would be problematic to do so.</p>\n\n<p>If, however, you were simply providing the parameterized constructor as a convenience but it is not improper for a caller to be able to instantiate a HealthCheck with the \"new\" operator, then simply adding the parameterless constructor is acceptable.</p>\n"}], "owner": {"reputation": 23, "user_id": 11341249, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yI5cQv0AH2U/AAAAAAAAAAI/AAAAAAAAAmU/byCN69JAHBM/photo.jpg?sz=128", "display_name": "Facundo Gabriel Garca Conejero", "link": "https://stackoverflow.com/users/11341249/facundo-gabriel-garca-conejero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4430, "favorite_count": 0, "accepted_answer_id": 55838225, "answer_count": 3, "score": 2, "last_activity_date": 1563036740, "creation_date": 1556138229, "last_edit_date": 1556138948, "question_id": 55838188, "link": "https://stackoverflow.com/questions/55838188/system-invalidoperationexception-no-suitable-constructor-found-for-entity-type", "title": "System.InvalidOperationException: &#39;No suitable constructor found for entity type &#39;HealthCheck&#39;", "body": "<p>I get this error when trying to add something on my db through EF Core. </p>\n\n<blockquote>\n  <p>System.InvalidOperationException: 'No suitable constructor found for\n  entity type 'HealthCheck'. The following constructors had parameters\n  that could not be bound to properties of the entity type: cannot bind\n  'hctype' in 'HealthCheck(string title, string hctype, string link)'.'</p>\n</blockquote>\n\n<p>This is my HealthCheck class:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\n\nnamespace Application.Models\n{\n    public class HealthCheck\n    {\n        public HealthCheck(string title, string hctype, string link)\n        {\n            Title = title;\n            HCType = hctype;\n            Link = link;\n        }\n\n        public int Id { get; set; }\n        public string Title { get; set; }\n        public string HCType { get; set; }\n        public string Link { get; set; }\n    }\n}\n\n</code></pre>\n\n<p>My RepositoryContext</p>\n\n<pre><code>using Microsoft.EntityFrameworkCore;\nusing Application.Models;\n\nnamespace Application.Repository\n{\n    public class RepositoryContext : DbContext\n    {\n        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n        {\n            optionsBuilder.UseSqlServer(\n                @\"Server=(localdb)\\mssqllocaldb;Database=healthcheck;Integrated Security=True\");\n        }\n\n        //public DbSet&lt;HealthCheck&gt; HealthChecks { get; set; }\n        //public DbSet&lt;UserHealthCheck&gt; UserHealthChecks { get; set; }\n\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n            modelBuilder.Entity&lt;HealthCheck&gt;().ToTable(\"HealthCheck\");\n            modelBuilder.Entity&lt;UserHealthCheck&gt;().ToTable(\"UserHealthCheck\");\n        }\n    }\n}\n\n</code></pre>\n\n<p>My Repository</p>\n\n<pre><code>using Application.Models;\n\nnamespace Application.Repository\n{\n    public class Repository\n    {\n        public void InsertHealthCheck(HealthCheck healthCheck)\n        {\n            using (var db = new RepositoryContext())\n            {\n                db.Add(healthCheck);\n                db.SaveChanges();\n            }\n        }\n    }\n}\n\n</code></pre>\n\n<p>And this is where \"InsertHealthCheck()\" is being called from </p>\n\n<pre><code>[Route(\"/api/HealthCheck/Website\")]\n        [HttpPost]\n        public ActionResult WebsiteStatus([FromBody] WebsiteDataModel websiteData)\n        {\n            HealthCheck data = new HealthCheck(websiteData.Title, \"Website\", websiteData.Url);\n            try\n            {\n                HttpWebRequest myHttpWebRequest = (HttpWebRequest)WebRequest.Create(websiteData.Url);\n                HttpWebResponse myHttpWebResponse = (HttpWebResponse)myHttpWebRequest.GetResponse();\n                HttpStatusCode HealthCheckStatusCode = myHttpWebResponse.StatusCode;\n                myHttpWebResponse.Close();\n                return Ok(HealthCheckStatusCode);\n            }\n            catch(UriFormatException)\n            {\n                return Ok(\"Check url.\");\n            }\n            catch (Exception)\n            {\n                return Ok(\"400\");\n            }\n            finally\n            {\n                repository.InsertHealthCheck(data);\n            }\n        }\n\n</code></pre>\n\n<p>If you can give me a hand I would appreciate it, if you need for me to post any other part of the code just ask.</p>\n\n<p>Also, I literally just started learning EF Core, so if I did something really stupid, point it out</p>\n"}, {"tags": ["c#", "asp.net-mvc", "visual-studio-2017"], "answers": [{"comments": [{"owner": {"reputation": 1138, "user_id": 4488100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/50AOY.jpg?s=128&g=1", "display_name": "ChiralMichael", "link": "https://stackoverflow.com/users/4488100/chiralmichael"}, "edited": false, "score": 0, "creation_date": 1556138678, "post_id": 55838186, "comment_id": 98340585, "body": "More accurately, the result of the linq expression which is assigned to delObj, is an IQueryable, whereas the orignal poster wants an ApplicationUser. FirstOrDefault is an extension method on IQueryable that will return the first of these.  &quot;Users.First(u =&gt; u.Id == id)&quot; returns what is needed. I prefer First over FirstOrDefault here because we probably want to throw when the id is not found."}, {"owner": {"reputation": 1016, "user_id": 363886, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a7d1ccf4de90f3eb814345fdc516b6e?s=128&d=identicon&r=PG", "display_name": "Peter M.", "link": "https://stackoverflow.com/users/363886/peter-m"}, "reply_to_user": {"reputation": 1138, "user_id": 4488100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/50AOY.jpg?s=128&g=1", "display_name": "ChiralMichael", "link": "https://stackoverflow.com/users/4488100/chiralmichael"}, "edited": false, "score": 0, "creation_date": 1556140638, "post_id": 55838186, "comment_id": 98341312, "body": "@ChiralMichael I am not sure if I understand correctly. @Fenuska wrote correct command and result is not <code>IQueryable&lt;User&gt;</code>. Is simply <code>User</code>. Here is not point if is used  <code>First()</code> or  <code>FirstOrDefault()</code>.  Mentioned as you said <code>Extension methods</code> are not defined on IQueryable&lt;T&gt; interface but on <code>IEnumerable&lt;T&gt;</code> interface. On <code>IQueryable&lt;T&gt;</code> are also accessible because there is inheritance =&gt; <code>IQueryable&lt;out T&gt;:IEnumerable&lt;out T&gt; </code>"}, {"owner": {"reputation": 1138, "user_id": 4488100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/50AOY.jpg?s=128&g=1", "display_name": "ChiralMichael", "link": "https://stackoverflow.com/users/4488100/chiralmichael"}, "reply_to_user": {"reputation": 1016, "user_id": 363886, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a7d1ccf4de90f3eb814345fdc516b6e?s=128&d=identicon&r=PG", "display_name": "Peter M.", "link": "https://stackoverflow.com/users/363886/peter-m"}, "edited": false, "score": 0, "creation_date": 1556141945, "post_id": 55838186, "comment_id": 98341752, "body": "@PeterM. No, the answer got edited. It <i>was</i> an IQueryable. I still reccomend <code>var delObj = Users.First(u =&gt; u.Id == id);</code> instead. It&#39;s preferable to throw here when the id is not found instead of later when you try to access a null delObj."}, {"owner": {"reputation": 1138, "user_id": 4488100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/50AOY.jpg?s=128&g=1", "display_name": "ChiralMichael", "link": "https://stackoverflow.com/users/4488100/chiralmichael"}, "reply_to_user": {"reputation": 1016, "user_id": 363886, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a7d1ccf4de90f3eb814345fdc516b6e?s=128&d=identicon&r=PG", "display_name": "Peter M.", "link": "https://stackoverflow.com/users/363886/peter-m"}, "edited": false, "score": 0, "creation_date": 1556142178, "post_id": 55838186, "comment_id": 98341827, "body": "@PeterM. Looks like <code>First()</code> and <code>FirstOrDefault()</code>, etc extension methods are re-defined for <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.queryable.firstordefault?view=netframework-4.8\" rel=\"nofollow noreferrer\">IQueryable</a>."}, {"owner": {"reputation": 1016, "user_id": 363886, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a7d1ccf4de90f3eb814345fdc516b6e?s=128&d=identicon&r=PG", "display_name": "Peter M.", "link": "https://stackoverflow.com/users/363886/peter-m"}, "reply_to_user": {"reputation": 1138, "user_id": 4488100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/50AOY.jpg?s=128&g=1", "display_name": "ChiralMichael", "link": "https://stackoverflow.com/users/4488100/chiralmichael"}, "edited": false, "score": 0, "creation_date": 1556143164, "post_id": 55838186, "comment_id": 98342108, "body": "@ChiralMichael they are not redefined. They are different. IQueryable&lt;T&gt; need <code>Expressions&lt;Func&lt;....&gt;&gt;</code> where IEnumerable&lt;T&gt; just <code>Func&lt;...&gt;</code>.  Reason why IQueryable&lt;T&gt; mandatory need <code>Expression</code> is because this expression is visited and rewritten to language of data source type. IEnumerable&lt;T&gt; is used when you do Linq-to-Object and IQueryable&lt;T&gt; when you need to do Linq-to-datasource"}], "tags": [], "owner": {"reputation": 118, "user_id": 1474330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2f1259e0d00e141ba1527e9c3424a7?s=128&d=identicon&r=PG", "display_name": "Fenuska", "link": "https://stackoverflow.com/users/1474330/fenuska"}, "is_accepted": true, "score": 2, "last_activity_date": 1556139665, "last_edit_date": 1556139665, "creation_date": 1556138216, "answer_id": 55838186, "question_id": 55838133, "link": "https://stackoverflow.com/questions/55838133/cannot-convert-from-system-collections-generic-listsystem-linq-iqueryable/55838186#55838186", "title": "cannot convert from &#39;System.Collections.Generic.List&lt;System.Linq.IQueryable&lt;&gt;", "body": "<p>On the delete context, you have to get an element with the current Id. In order to achieve it, you should use FirstOrDefault (the Where clause is not completed until you use FirstOrDefault or ToList).</p>\n\n<p>Try this one: </p>\n\n<pre><code>var delObj = Users.FirstOrDefault(u =&gt; u.Id == id);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1016, "user_id": 363886, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a7d1ccf4de90f3eb814345fdc516b6e?s=128&d=identicon&r=PG", "display_name": "Peter M.", "link": "https://stackoverflow.com/users/363886/peter-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1556142559, "creation_date": 1556142559, "answer_id": 55839043, "question_id": 55838133, "link": "https://stackoverflow.com/questions/55838133/cannot-convert-from-system-collections-generic-listsystem-linq-iqueryable/55839043#55839043", "title": "cannot convert from &#39;System.Collections.Generic.List&lt;System.Linq.IQueryable&lt;&gt;", "body": "<p>You got this error  because you are mixing styles to write query, and because your query is not very valid</p>\n\n<p>You want:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>ApplicationUser user;\n</code></pre>\n\n<p>Syntax style you are trying to use usually returns:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>IEnumerable&lt;ApplicationUser&gt; users;\n</code></pre>\n\n<p>With your syntax you finally got:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>IQueryable&lt;IQueryable&lt;WebApplication4.Models.ApplicationUser&gt;&gt; forEachUserYouGetUser\n</code></pre>\n\n<p>To achieve what you wanted using style youtried to use:</p>\n\n<pre><code>// not materialized yet\n// This is also IQueryable&lt;ApplicationUser&gt; because IQueryable&lt;out T&gt; derives from IEnumerable&lt;out T&gt;\nIEnumerable&lt;ApplicationUser&gt; users = from user in Users \n                                     where user.Id == id \n                                     select user;\n\nvar user = users.FirstOrDefault();\nif (user!=null)\n{\n   Users.Remove(user);\n   SaveChanges();\n}\n</code></pre>\n\n<p>Simpler way is to change specific line to (also mentioned in another answer):</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var delObj = Users.FirstOrDefault(u =&gt; u.Id == id);\n</code></pre>\n\n<p>or </p>\n\n<pre><code>var delObj = Users.Find(id);\n</code></pre>\n\n<p>and there is much more methods what you can use to get result you want.</p>\n"}], "owner": {"reputation": 113, "user_id": 6235840, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/185d99992a1fdeb921bf7398145308ec?s=128&d=identicon&r=PG&f=1", "display_name": "Xiodrade", "link": "https://stackoverflow.com/users/6235840/xiodrade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 0, "accepted_answer_id": 55838186, "answer_count": 2, "score": 0, "last_activity_date": 1556142559, "creation_date": 1556137959, "question_id": 55838133, "link": "https://stackoverflow.com/questions/55838133/cannot-convert-from-system-collections-generic-listsystem-linq-iqueryable", "title": "cannot convert from &#39;System.Collections.Generic.List&lt;System.Linq.IQueryable&lt;&gt;", "body": "<p>I am trying to delete a user from the database when the button is clicked on the page, but I am getting this error when I create my Delete method in my context.</p>\n\n<pre><code>cannot convert from 'System.Linq.IQueryable&lt;System.Linq.IQueryable&lt;WebApplication4.Models.ApplicationUser&gt;&gt;' to 'WebApplication4.Models.ApplicationUser'\n</code></pre>\n\n<p>Here is my code in my context</p>\n\n<pre><code>    public void Delete(string id)\n    {\n        var delObj = from user in Users select Users.Where(u =&gt; u.Id == id);\n        Users.Remove(delObj);\n        SaveChanges();\n    }\n</code></pre>\n\n<p>Below is my controller</p>\n\n<pre><code>    [HttpPost]\n    public ActionResult DeleteUser(string id)\n    {\n        ApplicationDbContext context = new ApplicationDbContext();\n        context.Delete(id);\n        return RedirectToAction(\"Index\");\n    }\n</code></pre>\n\n<p>My view table has the below loop which adds a button for deleting the user. It sends the userId which I've placed in the model.</p>\n\n<pre><code>            @foreach (var user in Model)  \n            {  \n                &lt;tr&gt;  \n                    &lt;td&gt;@user.Username&lt;/td&gt;  \n                    &lt;td&gt;@user.Email&lt;/td&gt;  \n                    &lt;td&gt;@user.Role&lt;/td&gt;  \n                    &lt;td&gt;&lt;a href=\"@Url.Action(\"DeleteUser\", \"UserControl\", new { id = user.UserId })\"&gt;Delete user&lt;/a&gt;&lt;/td&gt;\n                &lt;/tr&gt;  \n            } \n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>public class UserControlModel\n{\n    public string UserId { get; set; }\n    public string Username { get; set; }\n    public string Email { get; set; }\n    public string Role { get; set; }\n}\n</code></pre>\n\n<p>and of course UserID is set in my GET. With everything setup to delete, how can I update my context method to actually remove the user from the database when the ID is sent?</p>\n"}, {"tags": ["c#", "html", "button"], "answers": [{"tags": [], "owner": {"reputation": 3189, "user_id": 8532748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d32f21f33b065b3dac43163943b95a4?s=128&d=identicon&r=PG&f=1", "display_name": "SBFrancies", "link": "https://stackoverflow.com/users/8532748/sbfrancies"}, "is_accepted": false, "score": 0, "last_activity_date": 1556140135, "last_edit_date": 1556140135, "creation_date": 1556139644, "answer_id": 55838483, "question_id": 55838053, "link": "https://stackoverflow.com/questions/55838053/how-to-display-asp-button-text-into-multiple-lines/55838483#55838483", "title": "How to display asp button text into multiple lines?", "body": "<p>It used to be possible to do this using <code>Environment.Newline</code> or <code>&amp;#13;&amp;#10;</code> but I don't think it is with modern web browsers. There are a couple of options you could use:</p>\n\n<p>1) Use a LinkButton and style it to look like a standard button</p>\n\n<pre><code>&lt;asp:LinkButton runat=\"server\" id=\"Button1\"&gt;\n  Your &lt;br/&gt; text\n&lt;/asp:LinkButton&gt;\n</code></pre>\n\n<p>2) Use an html button as a server control</p>\n\n<pre><code>&lt;button runat=\"server\" id=\"Button1\"&gt;\n  Your &lt;br/&gt; text\n&lt;/button&gt;\n</code></pre>\n\n<p>You could put an <code>asp:Literal</code> control inside the parent control to make the text settable on the server side.</p>\n"}], "owner": {"reputation": 77, "user_id": 11396133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e403969fa9178aa14b8b73ba1b72b7c?s=128&d=identicon&r=PG&f=1", "display_name": "CodeBreaker", "link": "https://stackoverflow.com/users/11396133/codebreaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1130, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556140135, "creation_date": 1556137588, "question_id": 55838053, "link": "https://stackoverflow.com/questions/55838053/how-to-display-asp-button-text-into-multiple-lines", "title": "How to display asp button text into multiple lines?", "body": "<p>I have a button which displays text in my C#.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;asp:Button ID=\"Button1\" class=\"roundBtns\" type=\"button\" runat=\"server\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My C# snippet looks something like </p>\n\n<pre><code>String Item;  //getting  from the user\nString Quantity;  //getting from the user\n\nButton1.Text = Item + \" \" + Quantity;\n</code></pre>\n\n<p>I want the Item and Quantity to be in different lines inside the button.\nI have tried the following:</p>\n\n<ol>\n<li><p>System.Environment.Newline = no effect</p></li>\n<li><p>\"&lt; br />\" = prints \"&lt; br />\" in between texts</p></li>\n<li><p>\"\\n\" in place of \" \"  = no effect</p></li>\n<li><p>Set my white-space:normal </p></li>\n</ol>\n\n<p>None of these seem to work. I can\u2019t set padding to a certain width to force the second string to another line either  because I don\u2019t know how long a user might enter. All I need is the two different strings in two separate lines. </p>\n\n<p>What am I missing here? Any help would be greatly appreciated.</p>\n"}, {"tags": ["c#", "odata", "simple.odata.client"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 2, "creation_date": 1556137315, "post_id": 55837886, "comment_id": 98339967, "body": "This isn&#39;t supported by Simple.Odata.Client. See <a href=\"https://github.com/simple-odata-client/Simple.OData.Client/issues/200\" rel=\"nofollow noreferrer\">this outstanding issue.</a>"}], "owner": {"reputation": 1721, "user_id": 1719433, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c541cbef716b02fb4db0bb1d6e0f669c?s=128&d=identicon&r=PG", "display_name": "alaa_sayegh", "link": "https://stackoverflow.com/users/1719433/alaa-sayegh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 586, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1556136817, "creation_date": 1556136817, "question_id": 55837886, "link": "https://stackoverflow.com/questions/55837886/simple-odata-client-filter-nested-collection", "title": "simple odata client filter nested collection", "body": "<p>I have the following odata query:</p>\n\n<pre><code>/Places?$filter=CountryCode eq 'de'&amp;$expand=Images($filter=IsCover eq true)\n</code></pre>\n\n<p>The <code>Places</code> has a <code>collection</code> of <code>Images</code>. This query returns back all places for \"DE\" and for each place only the <code>Image</code> that has the property <code>IsCover true</code></p>\n\n<p>How can I write this in fluent API?</p>\n\n<p>I tried following:</p>\n\n<pre><code>return await _oDataClient\n                .For&lt;Place&gt;()\n                .Filter(p =&gt; p.CountryCode == \"DE\"))\n                .Expand(f =&gt; f.Images.Where(i =&gt; i.IsCover == true))\n                .FindEntriesAsync();\n</code></pre>\n\n<p>but it keeps giving and exception. Is there any way to write this in fluent API?</p>\n"}, {"tags": ["c#", "c++", "arrays", "dll"], "comments": [{"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 2, "creation_date": 1556136932, "post_id": 55837875, "comment_id": 98339819, "body": "Where is the <code>new []</code>?"}, {"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 2, "creation_date": 1556136967, "post_id": 55837875, "comment_id": 98339830, "body": "<a href=\"https://stackoverflow.com/a/6445794/11683\">stackoverflow.com/a/6445794/11683</a>"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 7, "creation_date": 1556136983, "post_id": 55837875, "comment_id": 98339836, "body": "<code>char DAQ_API* Read()</code> -- Undefined behavior since you&#39;re returning a pointer to a local variable.  When <code>Read</code> returns, that local array you declared becomes mush."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 2, "creation_date": 1556137297, "post_id": 55837875, "comment_id": 98339963, "body": "<code>if (arrayPtr != nullptr)</code> -- This check is not necessary.  It is perfectly ok to delete a nullptr."}, {"owner": {"reputation": 743, "user_id": 10067555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23629f32bc51e9dff04aec6b8eb51123?s=128&d=identicon&r=PG&f=1", "display_name": "karamazovbros", "link": "https://stackoverflow.com/users/10067555/karamazovbros"}, "edited": false, "score": 0, "creation_date": 1556139640, "post_id": 55837875, "comment_id": 98340951, "body": "Thanks! That was the issue."}], "owner": {"reputation": 743, "user_id": 10067555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23629f32bc51e9dff04aec6b8eb51123?s=128&d=identicon&r=PG&f=1", "display_name": "karamazovbros", "link": "https://stackoverflow.com/users/10067555/karamazovbros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556136771, "creation_date": 1556136771, "question_id": 55837875, "link": "https://stackoverflow.com/questions/55837875/getting-wrong-byte-values-from-c-to-c", "title": "Getting wrong byte values from C++ to C#", "body": "<p>I'm building a plugin for Unity and looked at this answer for a method for reading byte data from C++ to C#:\n<a href=\"https://stackoverflow.com/questions/43630063/passing-byte-array-from-c-unmanaged-dll-to-c-sharp-unity\">Passing byte array from C++ unmanaged dll to C# unity</a></p>\n\n<p>C++ code:</p>\n\n<pre><code>char DAQ_API* Read()\n    {\n         char Buffer[30];\n         PopulateArray(Buffer);\n         return Buffer;\n    }\nint DAQ_API FreeMemory(char* arrayPtr) \n    {\n        if (arrayPtr != nullptr) {\n            delete[] arrayPtr;\n        }\n        return 0;\n    }\n</code></pre>\n\n<p>C# code:</p>\n\n<pre><code>[DllImport(\"DAQ\")]\nprivate static extern IntPtr Read();\n[DllImport(\"DAQ\")]\npublic static extern int FreeMemory(IntPtr ptr);\n</code></pre>\n\n<p>In the update loop:</p>\n\n<pre><code>IntPtr ptr = Read();\nbyte[] packet = new byte[30];\nMarshal.Copy(ptr, packet, 0, 30);\nFreeMemory(ptr);\n</code></pre>\n\n<p>The size of the byte array is 30, and the <strong>first 8 bytes are correct</strong>, and the rest looks like junk data:</p>\n\n<pre><code>0 240 0 89 86 23 7 9 240 67 189 31 0 0 0 0 96 211 95 0 0 0 0 0 224 210 95 0 0 0 \n</code></pre>\n\n<p>What's happening that's causing the bad data for the rest of the array?</p>\n"}, {"tags": ["c#", "jquery", "asp.net-mvc", "asp.net-web-api", "asp.net-core"], "answers": [{"tags": [], "owner": {"reputation": 6733, "user_id": 7775908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16ebbc43d25626d0bf3783211f0b8d7f?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/7775908/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1556137753, "creation_date": 1556137753, "answer_id": 55838087, "question_id": 55837851, "link": "https://stackoverflow.com/questions/55837851/how-to-invoke-web-api-method-from-client-side-in-asp-net-core/55838087#55838087", "title": "How to invoke web api method from client side in asp.net core?", "body": "<p>With current configuration <code>GET</code> request with <code>api/TestAPI</code> url will hit <code>GetTest</code> action. If you want to use <code>api/TestAPI/GetTest</code> url add <code>GetTest</code> route to the action</p>\n\n<pre><code>[HttpGet]\n[Route(\"GetTest\")]\npublic ActionResult GetTest()\n{\n    return new OkResult();\n}\n</code></pre>\n\n<p>or using shortcut</p>\n\n<pre><code>[HttpGet(\"GetTest\")]\npublic ActionResult GetTest()\n{\n    return new OkResult();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "is_accepted": true, "score": 1, "last_activity_date": 1556459620, "last_edit_date": 1556459620, "creation_date": 1556139647, "answer_id": 55838484, "question_id": 55837851, "link": "https://stackoverflow.com/questions/55837851/how-to-invoke-web-api-method-from-client-side-in-asp-net-core/55838484#55838484", "title": "How to invoke web api method from client side in asp.net core?", "body": "<p>Your issue is related with how asp net core routes the requests.There are different ways to config how to handle requests to actions in your controllers (for more info go to this <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/controllers/routing?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">link</a>), in case you want to use the name of the methods of your action , you can use the <code>Route</code> attribute as you did before on your controller  but adding the action part:</p>\n\n<pre><code>[Route(\"api/[controller]/[action]\")]\npublic class TestAPIController : ControllerBase\n</code></pre>\n"}], "owner": {"reputation": 2032, "user_id": 638443, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c78e475cc7da168f8344fb733916647?s=128&d=identicon&r=PG", "display_name": "Jyina", "link": "https://stackoverflow.com/users/638443/jyina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 55838484, "answer_count": 2, "score": 1, "last_activity_date": 1556459620, "creation_date": 1556136651, "last_edit_date": 1556148930, "question_id": 55837851, "link": "https://stackoverflow.com/questions/55837851/how-to-invoke-web-api-method-from-client-side-in-asp-net-core", "title": "How to invoke web api method from client side in asp.net core?", "body": "<p>I have a sample asp.net core application and I chose MVC template while creating the project. Now I added a new API controller as below. How can I call this web api from jquery?</p>\n\n<p>I tried 'api/TestAPI/GetTest' which does not work. I get 404 Not found error. Thanks for any suggestions.</p>\n\n<pre><code>[Route(\"api/TestAPI\")]\n[ApiController]\npublic class TestAPIController : ControllerBase\n{\n    [HttpGet]\n\n    public ActionResult GetTest()\n    {\n        return new OkResult();\n    }\n }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "model"], "answers": [{"tags": [], "owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "is_accepted": false, "score": 1, "last_activity_date": 1556172238, "last_edit_date": 1556172238, "creation_date": 1556171675, "answer_id": 55842630, "question_id": 55837849, "link": "https://stackoverflow.com/questions/55837849/asp-net-core-complex-model-with-comma-separated-values-list/55842630#55842630", "title": "ASP.NET Core: Complex Model with comma separated values list", "body": "<h3>The reason</h3>\n\n<p>That's because you're trying to detect the existence of the <strong><code>[CommaSeparated]</code> attributes which are decorated on parameter</strong> (instead of the <strong>parameter's properties</strong>):</p>\n\n<blockquote>\n  <p>var commaSeparatedAttr = parameter.Attributes.OfType().FirstOrDefault();</p>\n</blockquote>\n\n<p>Note your action method looks like the following :</p>\n\n<blockquote>\n  <p>public async Task GetByIds(GetByIdsRequest request)</p>\n</blockquote>\n\n<p>In other words, the <code>parameter.Attributes.OfType&lt;CommaSeparatedAttribute&gt;()</code> will only get those annotations decorated on the <code>request</code> parameter. However, there's no such a <code>[CommaSeparatedAttribute]</code> at all.</p>\n\n<p>As a result, <strong>the <code>SeparatedQueryStringAttribute</code> filter is never added to <code>parameter.Action.Filters</code></strong>.</p>\n\n<h3>How to Fix</h3>\n\n<p>Looks like you've made a minor tweek in the <code>SeparatedQueryStringAttribute</code>. As we don't get your code, suppose we have such a <code>SeparatedQueryStringAttribute</code> Filter (copied from the blog you mentioned above):</p>\n\n<pre><code>public class SeparatedQueryStringAttribute : Attribute, IResourceFilter\n{\n    private readonly SeparatedQueryStringValueProviderFactory _factory;\n    public SeparatedQueryStringAttribute() : this(\",\") { }\n\n    public SeparatedQueryStringAttribute(string separator) {\n        _factory = new SeparatedQueryStringValueProviderFactory(separator);\n    }\n\n    public SeparatedQueryStringAttribute(string key, string separator) {\n        _factory = new SeparatedQueryStringValueProviderFactory(key, separator);\n    }\n\n    public void OnResourceExecuting(ResourceExecutingContext context) {\n        context.ValueProviderFactories.Insert(0, _factory);\n    }\n\n    public void OnResourceExecuted(ResourceExecutedContext context) { }\n}\n</code></pre>\n\n<p>Actually, according to your <code>GetByIdsRequest</code> class, we should detect the existence of the <strong><code>[CommaSeparated]</code> attribute that are decorated on parameter's properties</strong>:</p>\n\n<pre><code>// CommaSeparatedQueryStringConvention::Apply(action) \npublic void Apply(ActionModel action)\n{\n    for (int i = 0; i &lt; action.Parameters.Count; i++)\n    {\n        var parameter = action.Parameters[i];\n        var props = parameter.ParameterType.GetProperties()\n            .Where(pi =&gt; pi.GetCustomAttributes&lt;CommaSeparatedAttribute&gt;().Count() &gt; 0)\n            ;\n        if (props.Count() &gt; 0)\n        {\n            var attribute = new SeparatedQueryStringAttribute(\",\");\n            parameter.Action.Filters.Add(attribute);\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>And now it works fine for me.</p>\n\n<h3>A Demo</h3>\n\n<p><a href=\"https://i.stack.imgur.com/Lm77i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lm77i.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 8286056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27f5454642c85c6ecb2c053f88b120fb?s=128&d=identicon&r=PG&f=1", "display_name": "EmilioV", "link": "https://stackoverflow.com/users/8286056/emiliov"}, "is_accepted": true, "score": 2, "last_activity_date": 1556212917, "last_edit_date": 1556212917, "creation_date": 1556211936, "answer_id": 55854405, "question_id": 55837849, "link": "https://stackoverflow.com/questions/55837849/asp-net-core-complex-model-with-comma-separated-values-list/55854405#55854405", "title": "ASP.NET Core: Complex Model with comma separated values list", "body": "<p>Based on itminus's answer I could work out my final solution. The trick was - as itminus pointed out - in the IActionModelConvention implementation. Please, see my implementation which considers other aspects like nested models and also the real name assigned to each property:</p>\n\n<pre><code>public void Apply(ActionModel action)\n{\n    SeparatedQueryStringAttribute attribute = null;\n    for (int i = 0; i &lt; action.Parameters.Count; i++)\n    {\n        var parameter = action.Parameters[i];\n        var commaSeparatedAttr = parameter.Attributes.OfType&lt;CommaSeparatedAttribute&gt;().FirstOrDefault();\n        if (commaSeparatedAttr != null)\n        {\n            if (attribute == null)\n            {\n                attribute = new SeparatedQueryStringAttribute(\",\", commaSeparatedAttr.RemoveDuplicatedValues);\n                parameter.Action.Filters.Add(attribute);\n            }\n\n            attribute.AddKey(parameter.ParameterName);\n        }\n        else\n        {\n            // here the trick to evaluate nested models\n            var props = parameter.ParameterInfo.ParameterType.GetProperties();\n            if (props.Length &gt; 0)\n            {\n                // start the recursive call\n                EvaluateProperties(parameter, attribute, props);\n            }\n        }\n    }\n }\n</code></pre>\n\n<p>the EvaluateProperties method:</p>\n\n<pre><code>private void EvaluateProperties(ParameterModel parameter, SeparatedQueryStringAttribute attribute, PropertyInfo[] properties)\n{\n    for (int i = 0; i &lt; properties.Length; i++)\n    {\n        var prop = properties[i];\n        var commaSeparatedAttr = prop.GetCustomAttributes(true).OfType&lt;CommaSeparatedAttribute&gt;().FirstOrDefault();\n        if (commaSeparatedAttr != null)\n        {\n            if (attribute == null)\n            {\n                attribute = new SeparatedQueryStringAttribute(\",\", commaSeparatedAttr.RemoveDuplicatedValues);\n                parameter.Action.Filters.Add(attribute);\n            }\n\n            // get the binding attribute that implements the model name provider\n            var nameProvider = prop.GetCustomAttributes(true).OfType&lt;IModelNameProvider&gt;().FirstOrDefault(a =&gt; !IsNullOrWhiteSpace(a.Name));\n            attribute.AddKey(nameProvider?.Name ?? prop.Name);\n        }\n        else\n        {\n            // nested properties\n            var props = prop.PropertyType.GetProperties();\n            if (props.Length &gt; 0)\n            {\n               EvaluateProperties(parameter, attribute, props);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I also changed the definition of the comma separated attribute</p>\n\n<pre><code>[AttributeUsage(AttributeTargets.Property | AttributeTargets.Parameter, Inherited = true, AllowMultiple = false)]\npublic class CommaSeparatedAttribute : Attribute\n{\n    public CommaSeparatedAttribute()\n       : this(true)\n    { }\n\n    /// &lt;summary&gt;\n    /// ctor\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"removeDuplicatedValues\"&gt;remove duplicated values&lt;/param&gt;\n    public CommaSeparatedAttribute(bool removeDuplicatedValues)\n    {\n        RemoveDuplicatedValues = removeDuplicatedValues;\n    }\n\n    /// &lt;summary&gt;\n    /// remove duplicated values???\n    /// &lt;/summary&gt;\n    public bool RemoveDuplicatedValues { get; set; }\n}\n</code></pre>\n\n<p>There are other moving parts I changed too...but this is basically the most important ones. Now, we can use models like this:</p>\n\n<pre><code>public class GetByIdsRequest\n{\n    [FromRoute(Name = \"day\")]\n    public int Day { get; set; }\n\n    [BindRequired]\n    [FromQuery(Name = \"ids\")]\n    [CommaSeparated]\n    public IEnumerable&lt;int&gt; Ids { get; set; }\n\n    [FromQuery(Name = \"include\")]\n    [CommaSeparated]\n    public IEnumerable&lt;IncludingOption&gt; Include { get; set; }\n\n    [FromQuery(Name = \"order\")]\n    public string Order { get; set; }\n\n    [BindProperty(Name = \"\")]\n    public NestedModel NestedModel { get; set; }\n}\n\npublic class NestedModel\n{\n    [FromQuery(Name = \"extra-include\")]\n    [CommaSeparated]\n    public IEnumerable&lt;IncludingOption&gt; ExtraInclude { get; set; }\n\n    [FromQuery(Name = \"extra-ids\")]\n    [CommaSeparated]\n    public IEnumerable&lt;long&gt; ExtraIds { get; set; }\n}\n\n// the controller's action\npublic async Task&lt;IActionResult&gt; GetByIds(GetByIdsRequest request)\n{\n    // do something\n}\n</code></pre>\n\n<p>For a request like this one (not exactly the same as the one defined above but very similar):</p>\n\n<p><a href=\"http://.../vessels/algo/days/20190101/20190202/hours/1/2?page=2&amp;size=12&amp;filter=eq(a,b)&amp;order=by(asc(a))&amp;include=all,none&amp;ids=12,34,45&amp;extra-include=all,none&amp;extra-ids=12,34,45\" rel=\"nofollow noreferrer\">http://.../vessels/algo/days/20190101/20190202/hours/1/2?page=2&amp;size=12&amp;filter=eq(a,b)&amp;order=by(asc(a))&amp;include=all,none&amp;ids=12,34,45&amp;extra-include=all,none&amp;extra-ids=12,34,45</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/MVDYb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MVDYb.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>If anyone needs the full code, please, let me know. Again, thanks to itminus for his valuable help</p>\n"}], "owner": {"reputation": 162, "user_id": 8286056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27f5454642c85c6ecb2c053f88b120fb?s=128&d=identicon&r=PG&f=1", "display_name": "EmilioV", "link": "https://stackoverflow.com/users/8286056/emiliov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1931, "favorite_count": 0, "accepted_answer_id": 55854405, "answer_count": 2, "score": 1, "last_activity_date": 1556212917, "creation_date": 1556136644, "last_edit_date": 1556143305, "question_id": 55837849, "link": "https://stackoverflow.com/questions/55837849/asp-net-core-complex-model-with-comma-separated-values-list", "title": "ASP.NET Core: Complex Model with comma separated values list", "body": "<p>Our request models are growing according to the growing complexity of our APIs and we decided to use complex types instead of using simple types for the parameters of the actions. </p>\n\n<p>One typical type is <code>IEnumerable</code> for comma-separated values, like <code>items=1,2,3,5...</code> and we solved the issue of converting from string to IEnumerable using the workaround provided in <a href=\"https://www.strathweb.com/2017/07/customizing-query-string-parameter-binding-in-asp-net-core-mvc/\" rel=\"nofollow noreferrer\">https://www.strathweb.com/2017/07/customizing-query-string-parameter-binding-in-asp-net-core-mvc/</a> where the key point is implementing the <code>IActionModelConvention</code> interface to identify the parameters marked with a specific attribute <code>[CommaSeparated]</code>. </p>\n\n<p>Everything worked fine until we moved the simple parameters into a single complex parameter, now we are unable to inspect the complex parameters in the <code>IActionModelConvention</code> implementation. The same happens using <code>IParameterModelConvention</code>. Please, see the code below: </p>\n\n<p>this works fine:</p>\n\n<pre><code> public async Task&lt;IActionResult&gt; GetByIds(\n       [FromRoute]int day,\n       [BindRequired][FromQuery][CommaSeparated]IEnumerable&lt;int&gt; ids,\n       [FromQuery]string order)\n {\n        // do something\n }\n</code></pre>\n\n<p>while this variant does not work</p>\n\n<pre><code> public class GetByIdsRequest\n {\n    [FromRoute(Name = \"day\")]\n    public int Day { get; set; }\n\n    [BindRequired]\n    [FromQuery(Name = \"ids\")]\n    [CommaSeparated]\n    public IEnumerable&lt;int&gt; Ids { get; set; }\n\n    [FromQuery(Name = \"order\")]\n    public string Order { get; set; }\n }\n\n public async Task&lt;IActionResult&gt; GetByIds(GetByIdsRequest request)\n {\n        // do something\n }\n</code></pre>\n\n<p>the <code>IActionModelConvention</code> implementation is very simple:</p>\n\n<pre><code>public void Apply(ActionModel action)\n{\n   SeparatedQueryStringAttribute attribute = null;\n   for (int i = 0; i &lt; action.Parameters.Count; i++)\n   {\n       var parameter = action.Parameters[i];\n       var commaSeparatedAttr = parameter.Attributes.OfType&lt;CommaSeparatedAttribute&gt;().FirstOrDefault();\n       if (commaSeparatedAttr != null)\n       {\n           if (attribute == null)\n           {\n                attribute = new SeparatedQueryStringAttribute(\",\", commaSeparatedAttr.RemoveDuplicatedValues);\n                 parameter.Action.Filters.Add(attribute);\n            }\n\n            attribute.AddKey(parameter.ParameterName);\n        }\n    }\n } \n</code></pre>\n\n<p>As you can see, the code is inspecting the parameters marked with <code>CommaSeparatedAttribute</code>...but it doesn't work with complex parameters like the one used in my second variant. </p>\n\n<p>Note: I added some minor changes to the original code provided in the post above mentioned like enabling the <code>CommaSeparatedAttribute</code> to be used not only for parameters but also for properties, but still it doesn't work</p>\n"}, {"tags": ["c#", "asp.net", "web-config", "http-status-code-404", "iis-6"], "comments": [{"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1556136987, "post_id": 55837841, "comment_id": 98339839, "body": "Are you sure that the NotFound.aspx is both deployed and in the correct folder?"}, {"owner": {"reputation": 1682, "user_id": 926053, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5baa64ab70101fb5e48260d4bb23704b?s=128&d=identicon&r=PG", "display_name": "John Pasquet", "link": "https://stackoverflow.com/users/926053/john-pasquet"}, "reply_to_user": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1556137645, "post_id": 55837841, "comment_id": 98340108, "body": "@JonathonChase It certainly appears to be there and in the correct folder."}, {"owner": {"reputation": 8444, "user_id": 6210773, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MkqCSSKA7j0/AAAAAAAAAAI/AAAAAAAAAFE/X3FzsuJTRqI/photo.jpg?sz=128", "display_name": "Alex Kudryashev", "link": "https://stackoverflow.com/users/6210773/alex-kudryashev"}, "edited": false, "score": 0, "creation_date": 1556138397, "post_id": 55837841, "comment_id": 98340463, "body": "Add <code>redirectMode=&quot;ResponseRewrite&quot;</code> to <code>customErrors</code>."}, {"owner": {"reputation": 1682, "user_id": 926053, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5baa64ab70101fb5e48260d4bb23704b?s=128&d=identicon&r=PG", "display_name": "John Pasquet", "link": "https://stackoverflow.com/users/926053/john-pasquet"}, "reply_to_user": {"reputation": 8444, "user_id": 6210773, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MkqCSSKA7j0/AAAAAAAAAAI/AAAAAAAAAFE/X3FzsuJTRqI/photo.jpg?sz=128", "display_name": "Alex Kudryashev", "link": "https://stackoverflow.com/users/6210773/alex-kudryashev"}, "edited": false, "score": 0, "creation_date": 1556138630, "post_id": 55837841, "comment_id": 98340570, "body": "@AlexKudryashev That gives me a Runtime Error.  And it doesn&#39;t even seem to redirect."}], "answers": [{"comments": [{"owner": {"reputation": 1682, "user_id": 926053, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5baa64ab70101fb5e48260d4bb23704b?s=128&d=identicon&r=PG", "display_name": "John Pasquet", "link": "https://stackoverflow.com/users/926053/john-pasquet"}, "edited": false, "score": 0, "creation_date": 1556196352, "post_id": 55838386, "comment_id": 98360979, "body": "For some reason, I get a runtime error and the page does not redirect when I use the ResponseRewrite option."}], "tags": [], "owner": {"reputation": 8444, "user_id": 6210773, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MkqCSSKA7j0/AAAAAAAAAAI/AAAAAAAAAFE/X3FzsuJTRqI/photo.jpg?sz=128", "display_name": "Alex Kudryashev", "link": "https://stackoverflow.com/users/6210773/alex-kudryashev"}, "is_accepted": false, "score": 0, "last_activity_date": 1556139160, "creation_date": 1556139160, "answer_id": 55838386, "question_id": 55837841, "link": "https://stackoverflow.com/questions/55837841/custom-404-page-redirecting-but-not-showing-the-custom-page/55838386#55838386", "title": "Custom 404 Page Redirecting, but not showing the Custom Page", "body": "<p>This is working code from my production server.</p>\n\n<p><strong>web.config</strong></p>\n\n<pre><code>&lt;customErrors mode=\"On\" defaultRedirect=\"/404.aspx\" redirectMode=\"ResponseRewrite\"&gt;\n  &lt;error statusCode=\"500\" redirect=\"/500.aspx\" /&gt;\n&lt;/customErrors&gt;\n</code></pre>\n\n<p><strong>404.aspx.cs</strong></p>\n\n<pre><code>public partial class error_NotFound : Custom.PageBase\n{\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        Exception ex = Server.GetLastError();\n        //do something with the exception\n        Server.ClearError();\n        Response.StatusCode = 404; \n    }    \n}\n</code></pre>\n"}], "owner": {"reputation": 1682, "user_id": 926053, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5baa64ab70101fb5e48260d4bb23704b?s=128&d=identicon&r=PG", "display_name": "John Pasquet", "link": "https://stackoverflow.com/users/926053/john-pasquet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556139160, "creation_date": 1556136605, "last_edit_date": 1556139087, "question_id": 55837841, "link": "https://stackoverflow.com/questions/55837841/custom-404-page-redirecting-but-not-showing-the-custom-page", "title": "Custom 404 Page Redirecting, but not showing the Custom Page", "body": "<p>I have tried to set up a Custom 404 page, and it is redirecting to that URL.  However, it's not showing the page it should be.  <strong>IIS 6</strong></p>\n\n<p><strong>So, I have the web.config setting AND I'm returning a 404 code on the NotFound.aspx page.</strong></p>\n\n<p><strong>Web.config</strong></p>\n\n<pre><code>&lt;customErrors mode=\"RemoteOnly\" defaultRedirect=\"~/error/Default.aspx\"&gt;\n  &lt;error statusCode=\"404\" redirect=\"~/error/NotFound.aspx\" /&gt;\n&lt;/customErrors&gt;\n</code></pre>\n\n<p><strong>NotFound.aspx.cs</strong></p>\n\n<pre><code>public partial class error_NotFound : Custom.PageBase\n{\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        Response.StatusCode = 404; \n    }    \n}\n</code></pre>\n\n<p>You can see here that this: </p>\n\n<p><a href=\"https://www.mshsaa.org/notapage.aspx\" rel=\"nofollow noreferrer\">https://www.mshsaa.org/notapage.aspx</a> </p>\n\n<p>...redirects to this: </p>\n\n<p><a href=\"https://www.mshsaa.org/error/NotFound.aspx?aspxerrorpath=/notapage.aspx\" rel=\"nofollow noreferrer\">https://www.mshsaa.org/error/NotFound.aspx?aspxerrorpath=/notapage.aspx</a></p>\n\n<p><strong>NOTE</strong> This does appear to work correctly on my local machine, but not on live.</p>\n\n<p><strong>NOTE2</strong> I see that there is also an IIS setting for a 404 Error that redirects.</p>\n\n<p>So, what am I doing wrong?</p>\n"}, {"tags": ["c#", "xml", "winforms", "linq"], "comments": [{"owner": {"reputation": 3, "user_id": 11318653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74320a909cb46a30df2d2e0605636525?s=128&d=identicon&r=PG&f=1", "display_name": "unicornswutt", "link": "https://stackoverflow.com/users/11318653/unicornswutt"}, "edited": false, "score": 0, "creation_date": 1556136676, "post_id": 55837793, "comment_id": 98339738, "body": "How do you suggest I update the file rather than creating a new one"}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1556136740, "post_id": 55837793, "comment_id": 98339765, "body": "<a href=\"https://stackoverflow.com/questions/2558787/how-to-modify-existing-xml-file-with-xmldocument-and-xmlnode-in-c-sharp\"><i>Please</i></a> see this post..."}], "owner": {"reputation": 3, "user_id": 11318653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74320a909cb46a30df2d2e0605636525?s=128&d=identicon&r=PG&f=1", "display_name": "unicornswutt", "link": "https://stackoverflow.com/users/11318653/unicornswutt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 401, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562451805, "creation_date": 1556136372, "last_edit_date": 1562451805, "question_id": 55837793, "link": "https://stackoverflow.com/questions/55837793/how-to-create-register-and-log-in-form-with-xml-in-c", "title": "How to create register and log in form with XML in C#?", "body": "<p><strong><em>New to coding!</em></strong></p>\n\n<p>How can I get my register form to add the user's details instead of rewriting them everytime? And how can I get my log in form to loop through the XML file to find a matching username and password?</p>\n\n<p>The code that I have does 2 things:</p>\n\n<ol>\n<li>It rewrites the XML file instead of updating it.</li>\n<li>It duplicates data.</li>\n</ol>\n\n<p>Here is my User class:</p>\n\n<pre><code>public class User\n    {\n        public string fname;\n        public string lname;\n        public string username;\n        public string password;\n\n        public string Fname\n        {\n            get { return fname; }\n            set { fname = value; }\n        }\n\n        public string Lname\n        {\n            get { return lname; }\n            set {lname = value; }\n        }\n\n        public string Username\n        {\n            get { return username; }\n            set { username = value; }\n        }\n\n        public string Password\n        {\n            get { return password; }\n            set { password = value; }\n        }\n\n        public User() { }\n\n        public User (string fname, string lname, string username, string password)\n        {\n            this.fname = fname;\n            this.lname = lname;\n            this.username = username;\n            this.password = password;\n        }\n\n    }\n</code></pre>\n\n<p>Here is the sign up form code:</p>\n\n<pre><code>public partial class sign_up_form : Form\n    {\n\n        public sign_up_form()\n        {\n            InitializeComponent();\n        }\n\n        private void btn_create_Click(object sender, EventArgs e)\n        {\n            User users = new User();\n            users.fname = txt_fname.Text;\n            users.lname = txt_lname.Text;\n            users.username = txt_username.Text;\n            users.password = txt_password.Text;\n\n            XmlSerializer xs = new XmlSerializer(typeof(User));\n            using(FileStream fs = new FileStream(\"Data.xml\", FileMode.Create))\n            {\n                xs.Serialize(fs, users);\n            }\n\n        }\n    }\n</code></pre>\n\n<p>This is the XML file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n\n-&lt;User xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n\n&lt;fname&gt;asdf&lt;/fname&gt;\n\n&lt;lname&gt;asdf&lt;/lname&gt;\n\n&lt;username&gt;asdf&lt;/username&gt;\n\n&lt;password&gt;asdf&lt;/password&gt;\n\n&lt;Fname&gt;asdf&lt;/Fname&gt;\n\n&lt;Lname&gt;asdf&lt;/Lname&gt;\n\n&lt;Username&gt;asdf&lt;/Username&gt;\n\n&lt;Password&gt;asdf&lt;/Password&gt;\n\n&lt;/User&gt;\n</code></pre>\n\n<p>I do not have any code for the log in form but it only has 2 text boxes (user and pass) and a log in button.</p>\n\n<p>Any advice is appreciated.</p>\n"}, {"tags": ["c#", ".net", "xml"], "comments": [{"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1556136444, "post_id": 55837765, "comment_id": 98339643, "body": "But that&#39;s not valid XML. Surround it with a root node."}, {"owner": {"reputation": 75, "user_id": 11138303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ea3d6139b7c7ab06d3bf1c11fcc3723?s=128&d=identicon&r=PG", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11138303/ethan"}, "reply_to_user": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1556136983, "post_id": 55837765, "comment_id": 98339837, "body": "@BrootsWaymb Yes, exactly - I&#39;m running into cases where there are missing elements/nodes, and still need to be able to format it into visually readable text."}, {"owner": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1556138541, "post_id": 55837765, "comment_id": 98340532, "body": "Is it only the missing root that can occur or other irregularities like unbalanced start/end tags?"}, {"owner": {"reputation": 75, "user_id": 11138303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ea3d6139b7c7ab06d3bf1c11fcc3723?s=128&d=identicon&r=PG", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11138303/ethan"}, "reply_to_user": {"reputation": 31386, "user_id": 9661424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rnnvz.png?s=128&g=1", "display_name": "sticky bit", "link": "https://stackoverflow.com/users/9661424/sticky-bit"}, "edited": false, "score": 0, "creation_date": 1556141581, "post_id": 55837765, "comment_id": 98341632, "body": "@stickybit No, not just missing root, definitely have seen cases of unbalanced start/end tags."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1556155604, "post_id": 55837765, "comment_id": 98344476, "body": "For the simple case of a missing root element, see <a href=\"https://stackoverflow.com/q/5042902/3744182\">XML Error: There are multiple root elements</a>.  But beyond that, <code>XmlReader</code> is designed to parse well-formed XML.  If you need to parse not-well-formed &quot;XML&quot; in general, you could look at <a href=\"https://stackoverflow.com/q/44765194\">How to parse invalid (bad / not well-formed) XML?</a>.  Or if it&#39;s valid HTML see <a href=\"https://stackoverflow.com/q/56107\">What is the best way to parse html in C#?</a>."}], "owner": {"reputation": 75, "user_id": 11138303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ea3d6139b7c7ab06d3bf1c11fcc3723?s=128&d=identicon&r=PG", "display_name": "Ethan", "link": "https://stackoverflow.com/users/11138303/ethan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1556136266, "creation_date": 1556136266, "question_id": 55837765, "link": "https://stackoverflow.com/questions/55837765/how-can-i-format-xml-while-ignoring-missing-elements", "title": "How can I format XML while ignoring missing elements?", "body": "<p>I've been using the XML Formatting solution from  <a href=\"https://stackoverflow.com/questions/1123718/\">Format XML String to Print Friendly XML String</a>, however I'm finding cases that I want to visually format XML documents that are missing elements, or I want to visually format XML 'style' documents.</p>\n\n<p>I'm trying to achieve a solution similar to <a href=\"https://www.webtoolkitonline.com/xml-formatter.html\" rel=\"nofollow noreferrer\">https://www.webtoolkitonline.com/xml-formatter.html</a> as it seemingly ignores tags, and does formatting only based on hierarchy. I believe their implementation is based on RegEx.</p>\n\n<p>I'm currently using the implementation in the following way:</p>\n\n<pre><code>    private void FormatXML_Click(object sender, RoutedEventArgs e)\n    {\n        var holdXML = TextEditor.Text;\n        TextEditor.Clear();\n        try {\n            TextEditor.Text = PrintXML(holdXML);}\n        catch {\n            TextEditor.Text = holdXML;}\n    }\n\n    static string PrettyXml(string xml)\n    {\n        var stringBuilder = new StringBuilder();\n        var element = XElement.Parse(xml);\n        var settings = new XmlWriterSettings();\n        settings.OmitXmlDeclaration = true;\n        settings.Indent = true;\n        settings.NewLineOnAttributes = true;\n        using (var xmlWriter = XmlWriter.Create(stringBuilder, settings))\n        { element.Save(xmlWriter); }\n        return stringBuilder.ToString();\n    }\n</code></pre>\n\n<p>Ideally this input:</p>\n\n<pre><code>&lt;shipto&gt;&lt;name&gt;Ola Nordmann&lt;/name&gt;&lt;address&gt;Langgt 23&lt;/address&gt;&lt;city&gt;4000 Stavanger&lt;/city&gt;&lt;country&gt;Norway&lt;/country&gt;&lt;/shipto&gt;&lt;item&gt;&lt;title&gt;Empire Burlesque&lt;/title&gt;&lt;note&gt;Special Edition&lt;/note&gt;&lt;quantity&gt;1&lt;/quantity&gt;&lt;price&gt;10.90&lt;/price&gt;&lt;/item&gt;&lt;item&gt;&lt;title&gt;Hide your heart&lt;/title&gt;&lt;quantity&gt;1&lt;/quantity&gt;&lt;price&gt;9.90&lt;/price&gt;&lt;/item&gt;\n\n</code></pre>\n\n<p>Would produce this output:</p>\n\n<pre><code>&lt;shipto&gt;\n    &lt;name&gt;Ola Nordmann&lt;/name&gt;\n    &lt;address&gt;Langgt 23&lt;/address&gt;\n    &lt;city&gt;4000 Stavanger&lt;/city&gt;\n    &lt;country&gt;Norway&lt;/country&gt;\n&lt;/shipto&gt;\n&lt;item&gt;\n    &lt;title&gt;Empire Burlesque&lt;/title&gt;\n    &lt;note&gt;Special Edition&lt;/note&gt;\n    &lt;quantity&gt;1&lt;/quantity&gt;\n    &lt;price&gt;10.90&lt;/price&gt;\n&lt;/item&gt;\n&lt;item&gt;\n    &lt;title&gt;Hide your heart&lt;/title&gt;\n    &lt;quantity&gt;1&lt;/quantity&gt;\n    &lt;price&gt;9.90&lt;/price&gt;\n&lt;/item&gt;\n</code></pre>\n"}, {"tags": ["c#", "modulus", "diffie-hellman"], "comments": [{"owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 0, "creation_date": 1556136404, "post_id": 55837759, "comment_id": 98339624, "body": "What&#39;s a <code>BigIntegerTEST</code>?"}, {"owner": {"reputation": 1, "user_id": 10955522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dc4993ed20e7b0c9b9082337259279?s=128&d=identicon&r=PG&f=1", "display_name": "Mika SD", "link": "https://stackoverflow.com/users/10955522/mika-sd"}, "reply_to_user": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 0, "creation_date": 1556136493, "post_id": 55837759, "comment_id": 98339657, "body": "Its just a class to hold really big numer value&#39;s"}, {"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 3, "creation_date": 1556136549, "post_id": 55837759, "comment_id": 98339689, "body": "Judging by your result of <code>4</code>, you take the <code>^</code> to be the <a href=\"https://stackoverflow.com/a/3034607/11683\">exponent operator</a>. In C# it is the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/boolean-logical-operators#logical-exclusive-or-operator-\" rel=\"nofollow noreferrer\">XOR operator</a>. In either case you cannot possibly calculate back to <code>2</code> because reversing <code>mod</code> will give you infinitely many possible numbers all of which are 4 modulo 5."}, {"owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 5, "creation_date": 1556136569, "post_id": 55837759, "comment_id": 98339701, "body": "I think either you ask this as an algorithms question (in which case it shouldn&#39;t have the C# tag on it or C# code in it), or if you&#39;re asking a C# question then you need give an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1556142366, "post_id": 55837759, "comment_id": 98341870, "body": "I can&#39;t figure out what this question is asking. Can you clarify it?"}, {"owner": {"reputation": 1, "user_id": 10955522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dc4993ed20e7b0c9b9082337259279?s=128&d=identicon&r=PG&f=1", "display_name": "Mika SD", "link": "https://stackoverflow.com/users/10955522/mika-sd"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1556142607, "post_id": 55837759, "comment_id": 98341936, "body": "@EricLippert The code TESTMOD_1.modPow(TESTMOD_2, TESTMOD_3) outputs 4, and with the numbers. And in my scenario i only have the numbers 4,5 and 13 and i need to calculate back to the 2"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1556142730, "post_id": 55837759, "comment_id": 98341975, "body": "OK, but your question appears to be entirely about something having to do with the <code>^</code> operator. I don&#39;t understand what you&#39;re asking when you say &quot;using an <code>^</code> sign&quot; or &quot;I didn&#39;t find any with the <code>^</code> symbol&quot;.  You seem to be confused about the meaning of <code>^</code> in C#; it is not exponentiation. C# has no exponent operator. If your question is not about the operator, then edit the post and title to stop referring to the operator, and <b>ask the question that you actually need an answer to</b>."}, {"owner": {"reputation": 1, "user_id": 10955522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dc4993ed20e7b0c9b9082337259279?s=128&d=identicon&r=PG&f=1", "display_name": "Mika SD", "link": "https://stackoverflow.com/users/10955522/mika-sd"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1556142978, "post_id": 55837759, "comment_id": 98342050, "body": "@EricLippert i have a calcuation: 13^2 MOD 5 = 4,   13^2 = 169 all i need is to calculate the 4 back to the 2 (or 169) with only the numbers 13, 5 and 5. (i mentioned the ^ because i saw a few examples where people undertook 13+2 instead of 13^2)"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1556143130, "post_id": 55837759, "comment_id": 98342093, "body": "OK, so if your question is &quot;how do I do this computation?&quot; I again do not see what you&#39;re asking. You say that you&#39;ve found numerous articles on the formula for solving this problem: <b>read those articles and implement the code</b>.  Again, <b>what question are you asking here?</b> This isn&#39;t a service for doing your homework for you."}, {"owner": {"reputation": 5830, "user_id": 3750, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220a59faac02c31325eaa013ef07c6a1?s=128&d=identicon&r=PG", "display_name": "Tadmas", "link": "https://stackoverflow.com/users/3750/tadmas"}, "edited": false, "score": 3, "creation_date": 1556151380, "post_id": 55837759, "comment_id": 98343776, "body": "This formula is very similar to RSA, and the operation you are looking for is called a &quot;discrete logarithm&quot;.  For small values of a given modulus p (eg: 5) you can loop through all possible exponents less than p.  For large values, there may be more efficient algorithms depending on the characteristics of p.  See for example <a href=\"https://en.wikipedia.org/wiki/Pohlig%E2%80%93Hellman_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Pohlig%E2%80%93Hellman_algorithm</a>.  If, however, the encryption method is in fact RSA then let us know if you find a feasible algorithm better than trying them all: you will have significantly advanced humanity&#39;s understanding of mathematics."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1556151557, "post_id": 55837759, "comment_id": 98343804, "body": "As Tadmas notes, if you&#39;re trying to solve this problem in general efficiently, you are asking for an algorithm not known to humans; <i>it was chosen as the basis of an encryption algorithm because it is hard to solve</i>; if we knew of an efficient algorithm for that problem, we would not have chosen it as the basis of encryption!"}, {"owner": {"reputation": 1, "user_id": 10955522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dc4993ed20e7b0c9b9082337259279?s=128&d=identicon&r=PG&f=1", "display_name": "Mika SD", "link": "https://stackoverflow.com/users/10955522/mika-sd"}, "reply_to_user": {"reputation": 5830, "user_id": 3750, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220a59faac02c31325eaa013ef07c6a1?s=128&d=identicon&r=PG", "display_name": "Tadmas", "link": "https://stackoverflow.com/users/3750/tadmas"}, "edited": false, "score": 0, "creation_date": 1556156647, "post_id": 55837759, "comment_id": 98344676, "body": "@Tadmas you are correct, in my example im using quite small values. Altough in real use i will use far larger strings (wich is why bruteforcing is terrible like that)"}], "answers": [{"comments": [{"owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 0, "creation_date": 1556141603, "post_id": 55838688, "comment_id": 98341639, "body": "The OP is asking how to find <code>Number2</code> given <code>Number1</code>, <code>Number3</code> and the result of <code>DoCalc</code>."}, {"owner": {"reputation": 1, "user_id": 10955522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dc4993ed20e7b0c9b9082337259279?s=128&d=identicon&r=PG&f=1", "display_name": "Mika SD", "link": "https://stackoverflow.com/users/10955522/mika-sd"}, "edited": false, "score": 0, "creation_date": 1556141768, "post_id": 55838688, "comment_id": 98341696, "body": "Thats not what i ment like the code you sent (DoCalc(13, 2, 5)) outputs 4, and with the numbers. And in my scenario i only have the numbers 4,5 and 13 and i need to calculate back to the 2"}, {"owner": {"reputation": 49, "user_id": 11353578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H8Xa2.png?s=128&g=1", "display_name": "MAMPRO", "link": "https://stackoverflow.com/users/11353578/mampro"}, "edited": false, "score": 0, "creation_date": 1556142154, "post_id": 55838688, "comment_id": 98341820, "body": "Now It is clear, I got your point, trying to give a solution."}], "tags": [], "owner": {"reputation": 49, "user_id": 11353578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H8Xa2.png?s=128&g=1", "display_name": "MAMPRO", "link": "https://stackoverflow.com/users/11353578/mampro"}, "is_accepted": false, "score": -2, "last_activity_date": 1556141141, "last_edit_date": 1556141141, "creation_date": 1556140647, "answer_id": 55838688, "question_id": 55837759, "link": "https://stackoverflow.com/questions/55837759/c-how-do-i-reverse-modulus-when-using-a-sign/55838688#55838688", "title": "C# How do i reverse modulus when using a ^ sign", "body": "<p>it is here and much simple like this function:</p>\n\n<pre><code>public double DoCalc(double Number1, double Number2, double Number3)\n    { return (Math.Pow(Number1, Number2)) % Number3; }\n</code></pre>\n\n<p>Then call it from the button click event, like this:</p>\n\n<pre><code>private void btmDoCalc_Click(object sender, EventArgs e)\n    {\n        // Here show it up in message box directly.\n        MessageBox.Show(\"DoCalc= \" + DoCalc(13, 2, 5).ToString());\n\n        // Here assign it to some double variables.\n        double N1 = 0, N2 = 0, N3 = 0;\n\n        N1 = DoCalc(13, 2, 4);\n        N2 = DoCalc(13, 2, 3);\n        N3 = DoCalc(13, 2, 2);\n        MessageBox.Show(\"DoCalc= \" + N1);\n        MessageBox.Show(\"DoCalc= \" + N2);\n        MessageBox.Show(\"DoCalc= \" + N3);\n    }\n</code></pre>\n\n<p>Here is some more images for the results.\n<a href=\"https://i.stack.imgur.com/8LmnC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8LmnC.png\" alt=\"enter image description here\"></a></p>\n\n<p>I hope this answers your questions ^_^</p>\n"}], "owner": {"reputation": 1, "user_id": 10955522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0dc4993ed20e7b0c9b9082337259279?s=128&d=identicon&r=PG&f=1", "display_name": "Mika SD", "link": "https://stackoverflow.com/users/10955522/mika-sd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 1, "score": -7, "last_activity_date": 1599035331, "creation_date": 1556136242, "last_edit_date": 1599035331, "question_id": 55837759, "link": "https://stackoverflow.com/questions/55837759/c-how-do-i-reverse-modulus-when-using-a-sign", "title": "C# How do i reverse modulus when using a ^ sign", "body": "<p>At the moment i have this formula:\n13^2 mod 5 = 4</p>\n<p>I want to calculate back the 2 here like:</p>\n<p>13^X mod 5 = 4</p>\n<p>X = ?</p>\n<p>I found several formula's/codes to do this online but i didn't find any which do it with a ^ symbol.</p>\n<p>Would appreciate some help</p>\n<p>My client received everything besides the TEST_PRIVATE so i want to calculate that.</p>\n<p>This is the code i use (server sided)\n(This is the encryption, not the decryption)</p>\n<pre><code>string TEST_GENERATED = &quot;13&quot;;\nstring TEST_PRIVATE = &quot;2&quot;;\nstring TEST_PRIME = &quot;5&quot;;\nBigIntegerTEST TESTMOD_1 = new BigIntegerTEST(TEST_GENERATED, 10);\nBigIntegerTEST TESTMOD_2 = new BigIntegerTEST(TEST_PRIVATE, 10);\nBigIntegerTEST TESTMOD_3 = new BigIntegerTEST(TEST_PRIME, 10);\nBigIntegerTEST TESTMOD_4 = TESTMOD_1.modPow(TESTMOD_2, TESTMOD_3);\n</code></pre>\n<p>So basicly i want to reverse TESTMOD_4 to TESTMOD_2\nBy only using TESTMOD_4, TESTMOD_3 and TESTMOD_1</p>\n<p>(I know modPow usually has 3 parameters i'm using a special class for it)</p>\n<p>TDLR;\nWorking example:</p>\n<p>(6 + 7) MOD 10 = 3</p>\n<p>(3 - 6 + 10) MOD 10 = 7</p>\n<p>This is the main result i want:\n( I want to retrieve the 7)</p>\n<p>(6^7) MOD 10 = 6</p>\n<p>? = 7</p>\n"}, {"tags": ["c#", "asp.net", "security", "encryption"], "comments": [{"owner": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 1, "creation_date": 1556136294, "post_id": 55837741, "comment_id": 98339585, "body": "Have you heard about <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">JSON Web Tokens</a>?"}, {"owner": {"reputation": 470, "user_id": 6730679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LqKkp.jpg?s=128&g=1", "display_name": "deruitda", "link": "https://stackoverflow.com/users/6730679/deruitda"}, "reply_to_user": {"reputation": 2131, "user_id": 2343935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/li569.png?s=128&g=1", "display_name": "grooveplex", "link": "https://stackoverflow.com/users/2343935/grooveplex"}, "edited": false, "score": 0, "creation_date": 1556136480, "post_id": 55837741, "comment_id": 98339652, "body": "@grooveplex I have not, this looks like it could be just what I need"}, {"owner": {"reputation": 178, "user_id": 2246274, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e5531ad8fc669f90c5583a60d0039647?s=128&d=identicon&r=PG", "display_name": "sourkrause", "link": "https://stackoverflow.com/users/2246274/sourkrause"}, "edited": false, "score": 1, "creation_date": 1556138682, "post_id": 55837741, "comment_id": 98340589, "body": "How you are describing it is exactly how we do it at our company, except that we also make the encrypted key expire after 15 minutes as to prevent it from sitting in that person&#39;s inbox forever waiting for a hacker to find."}], "answers": [{"comments": [{"owner": {"reputation": 470, "user_id": 6730679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LqKkp.jpg?s=128&g=1", "display_name": "deruitda", "link": "https://stackoverflow.com/users/6730679/deruitda"}, "edited": false, "score": 0, "creation_date": 1556565121, "post_id": 55884801, "comment_id": 98474254, "body": "This is essentially what I ended up doing, but using JSON web tokens. Thanks!"}], "tags": [], "owner": {"reputation": 17775, "user_id": 2996339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2ef707186eb4974def525534e163fd?s=128&d=identicon&r=PG", "display_name": "meziantou", "link": "https://stackoverflow.com/users/2996339/meziantou"}, "is_accepted": true, "score": 2, "last_activity_date": 1565555343, "last_edit_date": 1565555343, "creation_date": 1556398542, "answer_id": 55884801, "question_id": 55837741, "link": "https://stackoverflow.com/questions/55837741/how-to-properly-secure-forgot-password-endpoint/55884801#55884801", "title": "How to Properly Secure Forgot Password Endpoint", "body": "<p>A solution consists of creating a token that can be used once on the reset page. You send by email a link similar to <code>https://example.com/PasswordLost?token=467dc4ad9acf4</code>, then the site checks that the token is valid and displays the password change page. To add more security it is possible to limit the validity of the token in time: about ten minutes are largely sufficient. Once in use, the token should no longer be usable.</p>\n\n<p>There are many ways to generate the token. You can generate a random string and store it in a database with the associated email address and the expiration date of the token. Then, you can validate it by querying the database. The other solution that I prefer, is to generate a token that is ciphered by the server. Then, you can decipher it and validate the data it contains (user email and expiration date, last password changed date). This way you don't have to store anything on the server. This is what <a href=\"https://github.com/aspnet/Identity/blob/7421ba8087924474d324751f881abc626859fbde/src/Identity/DataProtectionTokenProvider.cs#L66\" rel=\"nofollow noreferrer\">ASP.NET Core Identity does</a>.</p>\n\n<p>You can read my blog post about <a href=\"https://www.meziantou.net/how-to-implement-password-reset-feature-in-a-web-application.htm?utm_medium=social&amp;utm_source=stackoverflow\" rel=\"nofollow noreferrer\">how to implement Password reset feature in a web application?</a> for more information.</p>\n"}], "owner": {"reputation": 470, "user_id": 6730679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LqKkp.jpg?s=128&g=1", "display_name": "deruitda", "link": "https://stackoverflow.com/users/6730679/deruitda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 55884801, "answer_count": 1, "score": 2, "last_activity_date": 1565555343, "creation_date": 1556136167, "question_id": 55837741, "link": "https://stackoverflow.com/questions/55837741/how-to-properly-secure-forgot-password-endpoint", "title": "How to Properly Secure Forgot Password Endpoint", "body": "<p>I am designing some Forgot Password functionality in an ASP.NET application, and had a question about the best way to secure the endpoint where a user can reset their password.</p>\n\n<p>How I imagine this to work is (roughly) the following:</p>\n\n<ul>\n<li>User clicks 'Forgot Password' on the login form</li>\n<li>User is taken to a screen where they will enter their email associated with their account</li>\n<li>User is then taken to a screen where they can answer some security questions (required by my company)</li>\n<li>After answering questions correctly, the user will be sent an email containing a link. </li>\n<li>User clicks the link in their email which will take them to a password reset form </li>\n</ul>\n\n<p>My question here is, how can I ensure that when someone arrives at this password reset form that they arrived there from clicking on that email link, and didn't just manually type in the URL to get there?</p>\n\n<p>One solution I've thought of was to encrypt some data and append it as a parameter in the URL inside the email. So when they click that link, I can decrypt the data and ensure it came from a valid email before serving the form. But I'm not sure the best way to go about this.</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "asp.net-core"], "comments": [{"owner": {"reputation": 91, "user_id": 9478734, "user_type": "registered", "profile_image": "https://graph.facebook.com/595673670783975/picture?type=large", "display_name": "\u0645\u062d\u0645\u062f \u0627\u0644\u0639\u0627\u0646\u064a", "link": "https://stackoverflow.com/users/9478734/%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b9%d8%a7%d9%86%d9%8a"}, "reply_to_user": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "edited": false, "score": 0, "creation_date": 1556207656, "post_id": 55837731, "comment_id": 98368244, "body": "sorry i added the wrong text ....now i edited it"}, {"owner": {"reputation": 8228, "user_id": 123917, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/cMdQn.jpg?s=128&g=1", "display_name": "Lasse Edsvik", "link": "https://stackoverflow.com/users/123917/lasse-edsvik"}, "edited": false, "score": 0, "creation_date": 1556207662, "post_id": 55837731, "comment_id": 98368248, "body": "I&#39;m confused, are you trying to return Json or SelectList?"}, {"owner": {"reputation": 91, "user_id": 9478734, "user_type": "registered", "profile_image": "https://graph.facebook.com/595673670783975/picture?type=large", "display_name": "\u0645\u062d\u0645\u062f \u0627\u0644\u0639\u0627\u0646\u064a", "link": "https://stackoverflow.com/users/9478734/%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b9%d8%a7%d9%86%d9%8a"}, "edited": false, "score": 0, "creation_date": 1556207783, "post_id": 55837731, "comment_id": 98368308, "body": "i want to return select list using json"}, {"owner": {"reputation": 91, "user_id": 9478734, "user_type": "registered", "profile_image": "https://graph.facebook.com/595673670783975/picture?type=large", "display_name": "\u0645\u062d\u0645\u062f \u0627\u0644\u0639\u0627\u0646\u064a", "link": "https://stackoverflow.com/users/9478734/%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b9%d8%a7%d9%86%d9%8a"}, "edited": false, "score": 0, "creation_date": 1556207880, "post_id": 55837731, "comment_id": 98368355, "body": "i will add ajax code above to make it more easy for you"}, {"owner": {"reputation": 8228, "user_id": 123917, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/cMdQn.jpg?s=128&g=1", "display_name": "Lasse Edsvik", "link": "https://stackoverflow.com/users/123917/lasse-edsvik"}, "edited": false, "score": 0, "creation_date": 1556207906, "post_id": 55837731, "comment_id": 98368370, "body": "<a href=\"http://learninfinity.info/cascading-dropdown-list-using-json-data/\" rel=\"nofollow noreferrer\">learninfinity.info/cascading-dropdown-list-using-json-data</a> is this what you need? Click the &quot;Demo&quot;"}, {"owner": {"reputation": 8228, "user_id": 123917, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/cMdQn.jpg?s=128&g=1", "display_name": "Lasse Edsvik", "link": "https://stackoverflow.com/users/123917/lasse-edsvik"}, "edited": false, "score": 0, "creation_date": 1556207957, "post_id": 55837731, "comment_id": 98368395, "body": "or this one on youtube: <a href=\"https://www.youtube.com/watch?v=XVbRcLAmK4U\" rel=\"nofollow noreferrer\">youtube.com/watch?v=XVbRcLAmK4U</a>"}, {"owner": {"reputation": 91, "user_id": 9478734, "user_type": "registered", "profile_image": "https://graph.facebook.com/595673670783975/picture?type=large", "display_name": "\u0645\u062d\u0645\u062f \u0627\u0644\u0639\u0627\u0646\u064a", "link": "https://stackoverflow.com/users/9478734/%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b9%d8%a7%d9%86%d9%8a"}, "edited": false, "score": 0, "creation_date": 1556208011, "post_id": 55837731, "comment_id": 98368428, "body": "ok i will see it ....thanx"}, {"owner": {"reputation": 9213, "user_id": 1988508, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X8yzA.jpg?s=128&g=1", "display_name": "Mohammed Noureldin", "link": "https://stackoverflow.com/users/1988508/mohammed-noureldin"}, "edited": false, "score": 0, "creation_date": 1556208923, "post_id": 55837731, "comment_id": 98368898, "body": "I tried to optimize the formatting and the description of the main issue, but I could not really get what you are trying to achieve. Please edit the question and give a better description of your problem and of your goal. The structure of the description in the first couple of lines is not clear and ambiguous."}, {"owner": {"reputation": 91, "user_id": 9478734, "user_type": "registered", "profile_image": "https://graph.facebook.com/595673670783975/picture?type=large", "display_name": "\u0645\u062d\u0645\u062f \u0627\u0644\u0639\u0627\u0646\u064a", "link": "https://stackoverflow.com/users/9478734/%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b9%d8%a7%d9%86%d9%8a"}, "edited": false, "score": 0, "creation_date": 1556209290, "post_id": 55837731, "comment_id": 98369063, "body": "ok mohammed ...i will do and tell you by a comment"}, {"owner": {"reputation": 91, "user_id": 9478734, "user_type": "registered", "profile_image": "https://graph.facebook.com/595673670783975/picture?type=large", "display_name": "\u0645\u062d\u0645\u062f \u0627\u0644\u0639\u0627\u0646\u064a", "link": "https://stackoverflow.com/users/9478734/%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b9%d8%a7%d9%86%d9%8a"}, "edited": false, "score": 0, "creation_date": 1556210252, "post_id": 55837731, "comment_id": 98369494, "body": "Mohammed Noureldin ...i edited the post can you see it and tell me if the question still ambiguous"}], "owner": {"reputation": 91, "user_id": 9478734, "user_type": "registered", "profile_image": "https://graph.facebook.com/595673670783975/picture?type=large", "display_name": "\u0645\u062d\u0645\u062f \u0627\u0644\u0639\u0627\u0646\u064a", "link": "https://stackoverflow.com/users/9478734/%d9%85%d8%ad%d9%85%d8%af-%d8%a7%d9%84%d8%b9%d8%a7%d9%86%d9%8a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556210647, "creation_date": 1556136112, "last_edit_date": 1556210647, "question_id": 55837731, "link": "https://stackoverflow.com/questions/55837731/how-to-get-selectlist-from-another-ienumerable", "title": "how to get SelectList from another Ienumerable", "body": "<p>Ihave <code>IEnumerable</code> named (JournalArticleTypes ) the elements inside this <code>IEnumerable</code> will help me to access some records of a table named (articletypes) the condition is that when the foreign key (ArticleTypeId) of any element of <code>IEnumerable</code> is being equal to any Id of any record from the table (articletypes) then i will save the record that have this Id in a new <code>SelectList</code> named (articletypes )...so i will use first <code>IEnumerable</code>to get select list from specifc table(articletypes)...how to do it?</p>\n\n<p>I tried by using this wrong code</p>\n\n<pre><code>[AllowAnonymous]\npublic JsonResult GetArticleType(int journalid)\n{\n    var JournalArticleTypes = _context.JournalArticleTypes.Where(u =&gt; u.JournalId == journalid);\n    foreach(var item in JournalArticleTypes)\n    {\n        var articletypes = new SelectList(_context.ArticleTypes.Where(u =&gt; u.Id == item.ArticleTypeId), \"Id\", \"Name\");\n\n    }\n    return Json(articletypes);\n}\n</code></pre>\n\n<p>Ajax code:</p>\n\n<pre><code>&lt;script&gt;\n    $(\"#joartcltypeid\").empty();\n\n    $(document).ready(function () {\n        $(\"#jornlid\").change(function () {\n            $(\"#joartcltypeid\").empty();\n            $(\"#joartcltypeid\").append($('&lt;option&gt;', { text: \"@Localizer[\"\u0625\u062e\u062a\u0631 \u0646\u0648\u0639 \u0627\u0644\u0645\u0642\u0627\u0644\u0629\"]\" }));\n            if ($(\"#jornlid\").val() &gt; 0) {\n                var JournalOptions = {};\n                JournalOptions.url = \"/@CultureInfo.CurrentCulture.Name/JournalRepositories/GetArticleType/\";\n                JournalOptions.data = { journalid: $(\"#jornlid\").val() };\n                JournalOptions.success = function (data) {\n                    $.each(data, function (index, row) {\n                        $(\"#joartcltypeid\").append($('&lt;option&gt;', { value: row.value, text: row.text }))\n                    });\n                };\n                JournalOptions.error = function () { alert(\"@Localizer[\"UniError\"]\"); };\n                $.ajax(JournalOptions);\n            }\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["c#", "wpf", "webbrowser-control", "dotnet-httpclient"], "comments": [{"owner": {"reputation": 688, "user_id": 10802369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCJuI.jpg?s=128&g=1", "display_name": "TheBatman", "link": "https://stackoverflow.com/users/10802369/thebatman"}, "edited": false, "score": 0, "creation_date": 1556136030, "post_id": 55837663, "comment_id": 98339472, "body": "Postman or Insomnia. I would also try using chrome in Incognito Mode to disable any extensions that might be mucking things up"}, {"owner": {"reputation": 917, "user_id": 7808468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c924a8fbf9f80bccb176fe9a60788bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Denom", "link": "https://stackoverflow.com/users/7808468/mark-denom"}, "reply_to_user": {"reputation": 688, "user_id": 10802369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCJuI.jpg?s=128&g=1", "display_name": "TheBatman", "link": "https://stackoverflow.com/users/10802369/thebatman"}, "edited": false, "score": 0, "creation_date": 1556136765, "post_id": 55837663, "comment_id": 98339774, "body": "@TheBatman it&#39;s strange that it doesnt react to any get or post requests with Postman"}], "owner": {"reputation": 917, "user_id": 7808468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c924a8fbf9f80bccb176fe9a60788bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Denom", "link": "https://stackoverflow.com/users/7808468/mark-denom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 254, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556135828, "creation_date": 1556135828, "question_id": 55837663, "link": "https://stackoverflow.com/questions/55837663/how-do-i-mimic-a-webbrowser-with-the-httpclient-class", "title": "How do i mimic a WebBrowser with the HttpClient class?", "body": "<p>I noticed something interesting while I was working on my website earlier,\nwhen I was on the website using my WebBrowser (Chrome) it said that 1 user was online on the page in my WordPress dashboard, which makes sense. I then closed the Web browser and navigated to my website using the Web Browser control in WPF, and obviously it said the same thing.</p>\n\n<p>I then tried making a get request like so.</p>\n\n<pre><code>    var handler = new HttpClientHandler()\n    {\n        AllowAutoRedirect = true\n    };\n\n    HttpClient client = new HttpClient(handler);\n    client.DefaultRequestHeaders.Add(\"Accept\", \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\");\n    client.DefaultRequestHeaders.Add(\"Accept-Encoding\", \"gzip, deflate, br\");\n    client.DefaultRequestHeaders.Add(\"Accept-Language\", \"en-US\");\n    client.DefaultRequestHeaders.Add(\"User-Agent\", \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.140 Safari/537.36 Edge/17.17134\");\n    var k = await client.GetAsync(\"https://website.com\");\n</code></pre>\n\n<p>But when I did that it didn't react to it, so my question is..\nHow do I mimic the basics what a WebBrowser does to achieve the same thing.</p>\n\n<p>I used Fiddler to see what happend and it looks like when I connect to a website using a browser it <code>Tunnels</code> to some <code>google-analytics.com</code> page with no more information.</p>\n\n<p>I figured that's what <code>AllowAutoRedirect = true</code> would do but I guess not.</p>\n"}, {"tags": ["c#", "commit", "system.data.sqlite"], "comments": [{"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 2, "creation_date": 1556135900, "post_id": 55837658, "comment_id": 98339401, "body": "Please edit your post to include the specifics of the error message and the code that causes the error. For other tips see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1556135903, "post_id": 55837658, "comment_id": 98339405, "body": "Why do you think you need to do 10 at a time?"}, {"owner": {"reputation": 1928, "user_id": 613178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95fd293467e8e89e44701d09eead51d4?s=128&d=identicon&r=PG", "display_name": "P. Roe", "link": "https://stackoverflow.com/users/613178/p-roe"}, "edited": false, "score": 0, "creation_date": 1556135920, "post_id": 55837658, "comment_id": 98339419, "body": "Add code examples"}, {"owner": {"reputation": 25, "user_id": 8099791, "user_type": "registered", "profile_image": "https://graph.facebook.com/1179266895482183/picture?type=large", "display_name": "Eduardo Schettini Guimar&#227;es", "link": "https://stackoverflow.com/users/8099791/eduardo-schettini-guimar%c3%a3es"}, "edited": false, "score": 0, "creation_date": 1556136164, "post_id": 55837658, "comment_id": 98339529, "body": "Its a homework, thats why I need 10 by 10. I&#39;ll get my code just tomorrow, I forgot in my workstation. :("}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1556138986, "post_id": 55837658, "comment_id": 98340690, "body": "Without your code, and without your error, we can&#39;t help you. If I show up at a car mechanic&#39;s shop and say &quot;I experienced a problem while driving my car. I&#39;m not going to tell you what the problem was, and I don&#39;t have my car with me&quot; then do you think they&#39;re going to be able to help? Why do you think software development is any different?"}], "answers": [{"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1556138821, "last_edit_date": 1556138821, "creation_date": 1556137797, "answer_id": 55838094, "question_id": 55837658, "link": "https://stackoverflow.com/questions/55837658/how-to-send-a-limited-amount-of-inserts-at-a-time-c-system-data-sqlite/55838094#55838094", "title": "How to send a limited amount of inserts at a time. C# System.Data.SQLite", "body": "<p>In general, if you want to process <code>n</code> number of items in an <code>IEnumerable&lt;T&gt;</code>, you can use a combination of the <code>IEnumerable</code> extension methods, <a href=\"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwiLpa3oyenhAhWOqp4KHVICBUMQFjAAegQIAxAB&amp;url=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fdotnet%2Fapi%2Fsystem.linq.enumerable.skip&amp;usg=AOvVaw0jKM02R55dq6xEeBjh4LXX\" rel=\"nofollow noreferrer\"><code>Skip</code></a> and <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.take?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>Take</code></a>, where you skip <code>iteration * n</code> items and then take <code>n</code> items from the list in a loop. </p>\n\n<p>Note that if we increment our loop variable by <code>n</code> on each iteration, then that becomes the value that we pass to <code>Skip</code>. Also, if there are less than <code>n</code> items remaining, <code>Take(n)</code> will return all of the remaining items.</p>\n\n<p>For example:</p>\n\n<pre><code>// items would be the list of results from reading your csv file. Pseudocode:\nList&lt;SomeType&gt; items = GetCSVItems(csvFilePath);\n\n// Set this to the number of items we want to process in each batch\nint batchCount = 10;\n\n// To process a batch of 'batchCount' number of items, we first Skip(iteration * batchCount) \n// items in our list, and then we Take(batchCount) items from the list for our next batch\nfor (int i = 0; i &lt; items.Count; i += batchCount)\n{\n    List&lt;SomeType&gt; itemBatch = items.Skip(i).Take(batchCount).ToList();\n\n    // Process itemBatch here\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": false, "score": 0, "last_activity_date": 1556144076, "creation_date": 1556144076, "answer_id": 55839291, "question_id": 55837658, "link": "https://stackoverflow.com/questions/55837658/how-to-send-a-limited-amount-of-inserts-at-a-time-c-system-data-sqlite/55839291#55839291", "title": "How to send a limited amount of inserts at a time. C# System.Data.SQLite", "body": "<p>You could use the extension method <a href=\"https://morelinq.github.io/3.1/ref/api/html/M_MoreLinq_MoreEnumerable_Batch__1.htm\" rel=\"nofollow noreferrer\"><code>Batch</code></a> of the library <a href=\"https://github.com/morelinq/MoreLINQ\" rel=\"nofollow noreferrer\">MoreLinq</a>: <em>Batches the source sequence into sized buckets.</em></p>\n\n<p>If you don't want to mess with external libraries you could use the method below, which is a lightweight version of <code>Batch</code>.</p>\n\n<pre><code>public static IEnumerable&lt;IEnumerable&lt;TSource&gt;&gt; BatchForward&lt;TSource&gt;(\n    this IEnumerable&lt;TSource&gt; source, int size)\n{\n    if (source == null) throw new ArgumentNullException(nameof(source));\n    if (size &lt;= 0) throw new ArgumentOutOfRangeException(nameof(size));\n    var counter = 0;\n    var batchVersion = 0;\n    using (var enumerator = source.GetEnumerator())\n    {\n        while (enumerator.MoveNext())\n        {\n            counter++;\n            batchVersion++;\n            if ((counter - 1) % size == 0)\n                yield return GetInnerEnumerable(enumerator, batchVersion);\n        }\n        batchVersion++;\n    }\n    IEnumerable&lt;TSource&gt; GetInnerEnumerable(IEnumerator&lt;TSource&gt; enumerator, int version)\n    {\n        while (true)\n        {\n            if (version != batchVersion)\n                throw new InvalidOperationException(\"Enumeration out of order.\");\n            yield return enumerator.Current;\n            if (counter % size == 0) break;\n            if (!enumerator.MoveNext()) break;\n            counter++;\n        };\n    }\n}\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>foreach (var batch in Enumerable.Range(1, 22).BatchForward(5))\n{\n    Console.WriteLine($\"{String.Join(\", \", batch)}\");\n}\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>1, 2, 3, 4, 5<br>\n  6, 7, 8, 9, 10<br>\n  11, 12, 13, 14, 15<br>\n  16, 17, 18, 19, 20<br>\n  21, 22</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "is_accepted": true, "score": 0, "last_activity_date": 1559954989, "creation_date": 1559954989, "answer_id": 56502571, "question_id": 55837658, "link": "https://stackoverflow.com/questions/55837658/how-to-send-a-limited-amount-of-inserts-at-a-time-c-system-data-sqlite/56502571#56502571", "title": "How to send a limited amount of inserts at a time. C# System.Data.SQLite", "body": "<p>I suppose that this question is now obsolete, since the homework is probably already past.</p>\n\n<p>However, it is obvious from the code that the first time the <code>transaction.Commit();</code> is called, the transaction will be completed.  BUT there is no new transaction started in the loop, so the next time that <code>transaction.Commit();</code> is called an error will occur because there will be no active transaction anymore!</p>\n\n<p>Also, you have no code after the loop to handle any residual rows that were not an even divisible of 10.  Even if the original loop code had worked, it could have left uncommitted rows that would not have been properly committed.</p>\n"}], "owner": {"reputation": 25, "user_id": 8099791, "user_type": "registered", "profile_image": "https://graph.facebook.com/1179266895482183/picture?type=large", "display_name": "Eduardo Schettini Guimar&#227;es", "link": "https://stackoverflow.com/users/8099791/eduardo-schettini-guimar%c3%a3es"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 56502571, "answer_count": 3, "score": -6, "last_activity_date": 1559954989, "creation_date": 1556135819, "last_edit_date": 1556153763, "question_id": 55837658, "link": "https://stackoverflow.com/questions/55837658/how-to-send-a-limited-amount-of-inserts-at-a-time-c-system-data-sqlite", "title": "How to send a limited amount of inserts at a time. C# System.Data.SQLite", "body": "<p>I have to read a CSV file (that's not the problem) and do 10 inserts at a time. I do not know how many lines the CSV file will have. I tryed make a Loop and every MOD 10 sends a commit, but after two or three times the program gives error. I have no ideia how to solve this problem.</p>\n\n<p>Edit:</p>\n\n<p>Sorry, Im using my mobile, bit my code is:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>\nusing (var connection = new SqliteConnection(\"conn-string\"))\n{\n    connection.Open();\n    using (var transaction = connection.BeginTransaction())\n    {\n        for (int i = 0; i &lt; listCode.Count; i++)\n        {\n            string sql = $\"insert into table1 (code) values ({listCode[i]})\";\n\n            using (var command = new SqliteCommand(sql, connection))\n            {\n                command.ExecuteNonQuery();\n\n                if ( i % 10 == 9)\n                {\n                    transaction.Commit();\n                 }\n\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "linq", "compiler-errors"], "comments": [{"owner": {"reputation": 1928, "user_id": 613178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95fd293467e8e89e44701d09eead51d4?s=128&d=identicon&r=PG", "display_name": "P. Roe", "link": "https://stackoverflow.com/users/613178/p-roe"}, "edited": false, "score": 0, "creation_date": 1556136001, "post_id": 55837657, "comment_id": 98339460, "body": "Post the code where you init IEnumerable&lt;Book&gt; ie the books instance"}, {"owner": {"reputation": 894, "user_id": 6591514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d491bd47cceefd875ac99174befa1720?s=128&d=identicon&r=PG&f=1", "display_name": "Quima", "link": "https://stackoverflow.com/users/6591514/quima"}, "edited": false, "score": 5, "creation_date": 1556136134, "post_id": 55837657, "comment_id": 98339515, "body": "The code you provided us shows only the class and the Linq query you are doing, but not the actual line you are facing the problem. Could you show more of your code to us?"}, {"owner": {"reputation": 307, "user_id": 7437221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3bfc3ea7296467a2f62e36ecc2a1d79?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Sailer", "link": "https://stackoverflow.com/users/7437221/sean-sailer"}, "edited": false, "score": 0, "creation_date": 1556139003, "post_id": 55837657, "comment_id": 98340701, "body": "Is that your entire code? I don&#39;t see where that error would be thrown, as your LINQ query looks correct. Please post the code where you are operating on the <code>var v</code> variable."}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 7437221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3bfc3ea7296467a2f62e36ecc2a1d79?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Sailer", "link": "https://stackoverflow.com/users/7437221/sean-sailer"}, "edited": false, "score": 0, "creation_date": 1556138569, "post_id": 55837789, "comment_id": 98340542, "body": "I think he is looking for the book objects, not just the count"}, {"owner": {"reputation": 148, "user_id": 10409952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37fe24c3bd70ee72376302fc440906b?s=128&d=identicon&r=PG&f=1", "display_name": "SAR", "link": "https://stackoverflow.com/users/10409952/sar"}, "reply_to_user": {"reputation": 307, "user_id": 7437221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3bfc3ea7296467a2f62e36ecc2a1d79?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Sailer", "link": "https://stackoverflow.com/users/7437221/sean-sailer"}, "edited": false, "score": 1, "creation_date": 1556138895, "post_id": 55837789, "comment_id": 98340651, "body": "tbh, the question is so vague, that the only integer that can be coming out of this, based on his description, is counts of books with those conditions. I would post this as a comment instead of an answer if I could"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 1, "creation_date": 1556201802, "post_id": 55837789, "comment_id": 98364680, "body": "Still, please don&#39;t answer vague questions and don&#39;t use answers as a substitute for comments. Vote to close instead."}], "tags": [], "owner": {"reputation": 148, "user_id": 10409952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37fe24c3bd70ee72376302fc440906b?s=128&d=identicon&r=PG&f=1", "display_name": "SAR", "link": "https://stackoverflow.com/users/10409952/sar"}, "is_accepted": false, "score": 0, "last_activity_date": 1556136356, "creation_date": 1556136356, "answer_id": 55837789, "question_id": 55837657, "link": "https://stackoverflow.com/questions/55837657/cannot-implicitly-convert-type-system-collections-generic-ienumerablebook-to/55837789#55837789", "title": "cannot implicitly convert type &quot;System.Collections.Generic.IEnumerable&lt;Book&gt;&quot; to &#39;&quot;int&quot;", "body": "<p>A list with all your books</p>\n\n<pre><code>List&lt;Book&gt; books = new List&lt;Book&gt; {...}\n</code></pre>\n\n<p>Count of the cases you want</p>\n\n<pre><code>int counts = books.Count(p =&gt; p.Year &gt; 1900 &amp;&amp; p.Year&lt; 2000);\n</code></pre>\n\n<p>code is not checked, but I think it should work.</p>\n"}], "owner": {"reputation": 13, "user_id": 10701662, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-49msr08DMUU/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-h6_NUQO9Y506XU-Rl4VdrAYqzQGA/mo/photo.jpg?sz=128", "display_name": "Dima Glushenkov", "link": "https://stackoverflow.com/users/10701662/dima-glushenkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1556138929, "creation_date": 1556135819, "question_id": 55837657, "link": "https://stackoverflow.com/questions/55837657/cannot-implicitly-convert-type-system-collections-generic-ienumerablebook-to", "title": "cannot implicitly convert type &quot;System.Collections.Generic.IEnumerable&lt;Book&gt;&quot; to &#39;&quot;int&quot;", "body": "<p>I have got the following class and collection books that consists of objects of class Book. I have to write a linq-query that selects book written between 1900 and 2000 years</p>\n\n<pre><code>class Book\n{\n    public string Title { set; get; }\n    public int Year { set; get; }\n} \n\nvar v =  from book in books\n         where book.Year &gt; 1900 &amp;&amp; book.Year &lt; 2000\n         select book;\n</code></pre>\n\n<p>But I got compiler error :</p>\n\n<pre><code>error CS0029: cannot implicitly convert type \"System.Collections.Generic.IEnumerable&lt;Book&gt;\" to \"int\"\n</code></pre>\n\n<p>What am I doing wrong ?</p>\n"}, {"tags": ["c#", "wpf", "data-binding"], "comments": [{"owner": {"reputation": 16352, "user_id": 107899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RCasx.png?s=128&g=1", "display_name": "Stewbob", "link": "https://stackoverflow.com/users/107899/stewbob"}, "edited": false, "score": 1, "creation_date": 1556138905, "post_id": 55837620, "comment_id": 98340657, "body": "DataTrigger only reacts to changes in Properties.  It cannot change them, so <code>Mode=TwoWay</code> is not valid for a DataTrigger; it doesn&#39;t actually do anything.  You have some interesting constraints on this problem.  My first choice would be to use 4 RadioButtons and a ValueConverter (throw out that CustomToggleButton)."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9414026, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tr\u1ea7n Ti\u1ebfn Ho&#224;ng", "link": "https://stackoverflow.com/users/9414026/tr%e1%ba%a7n-ti%e1%ba%bfn-ho%c3%a0ng"}, "edited": false, "score": 0, "creation_date": 1556167016, "post_id": 55841784, "comment_id": 98346625, "body": "You can use more than 3 Toggle Button, just define value you want in <code>ConverterParameter</code>"}], "tags": [], "owner": {"reputation": 21, "user_id": 9414026, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tr\u1ea7n Ti\u1ebfn Ho&#224;ng", "link": "https://stackoverflow.com/users/9414026/tr%e1%ba%a7n-ti%e1%ba%bfn-ho%c3%a0ng"}, "is_accepted": false, "score": 0, "last_activity_date": 1556166427, "creation_date": 1556166427, "answer_id": 55841784, "question_id": 55837620, "link": "https://stackoverflow.com/questions/55837620/wpf-button-conditional-binding-to-a-variable/55841784#55841784", "title": "Wpf Button conditional binding to a variable", "body": "<p>my solution for you is create converter to convert value 0,1,2,3 to true or false and biding it to property IsCheck in ToggleButton. \nThe Converter like it:</p>\n\n<pre><code>public class ConverterToggleButtonCheck : IValueConverter\n{\n    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        if (value == null || parameter == null)\n            return false;\n        return ((string)value).Trim() == ((string)parameter).Trim();\n    }\n\n    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        if (value == null || parameter == null)\n            return false;\n        if ((bool)value == true)\n            return parameter;\n        return \"\";\n    }\n}\n</code></pre>\n\n<p>Define Converter:</p>\n\n<pre><code>&lt;converter:ConverterToggleButtonCheck x:Key=\"CallConverterToggleButtonCheck\"/&gt;\n</code></pre>\n\n<p>And Using like this:</p>\n\n<pre><code>&lt;DockPanel LastChildFill=\"False\"&gt;\n            &lt;TextBox DockPanel.Dock=\"Left\" x:Name=\"abc\" Width=\"50\" Height=\"30\" Background=\"White\"/&gt;\n            &lt;ToggleButton IsChecked=\"{Binding ElementName=abc, Path=Text, Converter={StaticResource CallConverterToggleButtonCheck}, ConverterParameter='0'}\"/&gt;\n            &lt;ToggleButton IsChecked=\"{Binding ElementName=abc, Path=Text, Converter={StaticResource CallConverterToggleButtonCheck}, ConverterParameter='1'}\"/&gt;\n            &lt;ToggleButton IsChecked=\"{Binding ElementName=abc, Path=Text, Converter={StaticResource CallConverterToggleButtonCheck}, ConverterParameter='2'}\"/&gt;\n            &lt;ToggleButton IsChecked=\"{Binding ElementName=abc, Path=Text, Converter={StaticResource CallConverterToggleButtonCheck}, ConverterParameter='3'}\"/&gt;\n        &lt;/DockPanel&gt;\n</code></pre>\n\n<p>Best regard and try it. I'm sure it will work. </p>\n"}], "owner": {"reputation": 31, "user_id": 11406974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33bd73b27013d0bbe7a373834d39d2cd?s=128&d=identicon&r=PG&f=1", "display_name": "PrintA", "link": "https://stackoverflow.com/users/11406974/printa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 663, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1556166427, "creation_date": 1556135642, "question_id": 55837620, "link": "https://stackoverflow.com/questions/55837620/wpf-button-conditional-binding-to-a-variable", "title": "Wpf Button conditional binding to a variable", "body": "<p>I'm new to WPF and I am facing an issue that I am not quite sure how to solve. I would appreciate it if someone can guide me to the best way to solve this.</p>\n\n<ul>\n<li><p>I have a variable that I get from a PLC, this variable's values can be 0, 1, 2 and 3.</p></li>\n<li><p>I have 4 toggle buttons, which have to be binded to that same variable.</p></li>\n<li>When the variable's value is 0, the first button should be checked and the others unchecked.</li>\n<li>When the variable's value is 1, the second button should be checked, and so on.</li>\n</ul>\n\n<p>This binding has to be a two way binding, so if I press one of the buttons, the variable's value has to change.</p>\n\n<blockquote>\n  <p>I have 3 main constraints : </p>\n  \n  <ol>\n  <li><p>I am looking for a XAML only solution. I am wondering if this can be done in XAML alone.</p></li>\n  <li><p>The button I am using is a custom one, from a closed source framework.</p></li>\n  <li><p>I am only able to bind the button to the variable's name, which is a string so I am not able to set a converter for it for example.</p></li>\n  </ol>\n</blockquote>\n\n<p>For simplicity, I only wrote the relevant parts of the code, since I'm not looking to figure out why my code's not working as much as I'm looking for a better approach to solve this. So basically some ideas about what should be done so that I can learn about that and fix it myself.</p>\n\n<p>I have tried 2 solutions so far.</p>\n\n<ul>\n<li>First solution :</li>\n</ul>\n\n<p>Adding a Textbox, binding the textbox to the variable and trying to bind the datatrigger to the textbox instead.</p>\n\n<p>The main issue with this solution is that the TwoWay binding isn't working for some reason, the buttons' checked property change when the variable's value changes but pressing the buttons does nothing.</p>\n\n<pre><code>&lt;TextBox Name=\"myTextBox\" height=\"0\" PlcVarName=\"varName\" /&gt; \n&lt;StackPanel&gt;\n        &lt;CustomToggleButton&gt;\n            &lt;CustomToggleButton.Style&gt;\n                &lt;Style TargetType=\"{x:Type CustomToggleButton}\"&gt;\n                    &lt;Style.Triggers&gt;\n                        &lt;DataTrigger Binding=\"{Binding ElementName=myTextBox, Path=Value, Mode=TwoWay} Value=\"0\"&gt;\n                            &lt;Setter Property=\"IsChecked\" Value=\"true\"/&gt;\n                        &lt;/DataTrigger&gt;\n                        &lt;DataTrigger Binding=\"{Binding ElementName=myTextBox, Path=Value, Mode=TwoWay} Value=\"1\"&gt;\n                            &lt;Setter Property=\"IsChecked\" Value=\"false\"/&gt;\n                        &lt;/DataTrigger&gt;\n&lt;/DataTrigger&gt;\n                        &lt;DataTrigger Binding=\"{Binding ElementName=myTextBox, Path=Value, Mode=TwoWay} Value=\"2\"&gt;\n                            &lt;Setter Property=\"IsChecked\" Value=\"false\"/&gt;\n                        &lt;/DataTrigger&gt;\n&lt;/DataTrigger&gt;\n                            &lt;DataTrigger Binding=\"{Binding ElementName=myTextBox, Path=Value, Mode=TwoWay} Value=\"3\"&gt;\n                                &lt;Setter Property=\"IsChecked\" Value=\"false\"/&gt; \n                            &lt;/DataTrigger&gt;\n                        &lt;/Style.Triggers&gt;\n                    &lt;/Style&gt;\n                &lt;/CustomToggleButton.Style&gt;\n            &lt;/CustomToggleButton &gt;\n</code></pre>\n\n<p>Same for the other 4 buttons but for button2 it will be checked when value is 1 and so on.</p>\n\n<p>The second solution is as follow :</p>\n\n<p>To give you a better idea, I am able to bind the button to the variable this way :</p>\n\n<pre><code> &lt;CustomToggleButton PlcVarName=\"varName\"&gt;\n</code></pre>\n\n<p>(unnecessary properties are omitted for simplicity)</p>\n\n<p>For a toggleButton ( or a button) of a 2 state variable only (true/false) this binding works perfectly, but now the issue is that my variable has 4 states.</p>\n\n<p>So I was thinking about having a data trigger that binds to whatever the button is binded to. So something like this :</p>\n\n<pre><code>&lt;DataTrigger Binding=\"{Binding} Value=\"0\"&gt;\n                            &lt;Setter Property=\"IsChecked\" Value=\"true\"/&gt;\n                        &lt;/DataTrigger&gt;\n</code></pre>\n\n<p>To bind it to itself. or using: </p>\n\n<pre><code> \"{Binding RelativeSource={RelativeSource Self} \n</code></pre>\n\n<p>but both did not work.</p>\n"}, {"tags": ["c#", "angularjs", "asp.net-core", "asp.net-core-webapi"], "comments": [{"owner": {"reputation": 1928, "user_id": 613178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95fd293467e8e89e44701d09eead51d4?s=128&d=identicon&r=PG", "display_name": "P. Roe", "link": "https://stackoverflow.com/users/613178/p-roe"}, "edited": false, "score": 0, "creation_date": 1556135570, "post_id": 55837491, "comment_id": 98339248, "body": "Looks like it&#39;s not binding your object and you&#39;re getting the default integer value of 0. Look to your json structure and verify that it maps 1:1 with your c# model."}, {"owner": {"reputation": 1, "user_id": 733256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2sTHh.png?s=128&g=1", "display_name": "Fatjon SAJA", "link": "https://stackoverflow.com/users/733256/fatjon-saja"}, "reply_to_user": {"reputation": 1928, "user_id": 613178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95fd293467e8e89e44701d09eead51d4?s=128&d=identicon&r=PG", "display_name": "P. Roe", "link": "https://stackoverflow.com/users/613178/p-roe"}, "edited": false, "score": 0, "creation_date": 1556138951, "post_id": 55837491, "comment_id": 98340671, "body": "I added two images the first is the object sent from angular, the second is the object accepted from API."}, {"owner": {"reputation": 182, "user_id": 6715875, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KTwVl4jP7g8/AAAAAAAAAAI/AAAAAAAAAKU/NQchCEVvopY/photo.jpg?sz=128", "display_name": "Ramin Esfahani", "link": "https://stackoverflow.com/users/6715875/ramin-esfahani"}, "edited": false, "score": 1, "creation_date": 1556143203, "post_id": 55837491, "comment_id": 98344443, "body": "It&#39;s too many times happened to me. It can be from your Api model properties and encapsulation. Check if your mentioned property doesn&#39;t set to <b>Internal</b> in encapsulation model. Sincerely"}, {"owner": {"reputation": 1, "user_id": 733256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2sTHh.png?s=128&g=1", "display_name": "Fatjon SAJA", "link": "https://stackoverflow.com/users/733256/fatjon-saja"}, "edited": false, "score": 0, "creation_date": 1556217246, "post_id": 55837491, "comment_id": 98372668, "body": "That solved my problem, it was with ID protected like:  public virtual TId Id { get;  protected set; }"}], "owner": {"reputation": 1, "user_id": 733256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2sTHh.png?s=128&g=1", "display_name": "Fatjon SAJA", "link": "https://stackoverflow.com/users/733256/fatjon-saja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1558703952, "creation_date": 1556135097, "last_edit_date": 1558703952, "question_id": 55837491, "link": "https://stackoverflow.com/questions/55837491/sending-object-form-angularjs-to-api-net-core-is-always-with-id-0", "title": "Sending object form angularjs to API .net core is always with id=0", "body": "<p>I'm trying to send an object from angularjs to API .net core. Everything is ok but id, in angular it is with it's value but in API it is always 0 (zero). every id in the object is 0 (zero).</p>\n\n<p>The code from angularjs:</p>\n\n<pre><code>vm.editReservation = function editReservation() {\n    reservationService.editReservation(vm.reservation).then(function(result) {\n            toastr.options = { \"positionClass\": \"toast-top-full-width\" };\n            toastr.success(\"Ruajtja u krye me sukses\");\n    }).catch(function (response) {\n        toastr.options = { \"positionClass\": \"toast-top-full-width\" };\n        toastr.error(response.message);\n    });\n};\n</code></pre>\n\n<p>The code from API .net core:</p>\n\n<pre><code>[HttpPost(\"editReservation\")]\npublic async Task&lt;IActionResult&gt; EditReservation([FromBody] Models.Reservation reservation)\n{\n    Models.Reservation modelReservation;\n    ReservationDuration modelReservationDuration;\n    ReservationLocation modelReservationLocation;\n    Person client;\n    TaxRate taxRate;\n    string textMessage;\n    try\n    {\n        //some code here\n    } \n    catch (Exception e)\n    {\n        Console.WriteLine(e);\n    }\n}\n</code></pre>\n\n<p>I expect that reservation.id = {any number} but the actual it is {0}</p>\n\n<p>From Angularjs:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YIQyC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YIQyC.jpg\" alt=\"From Angularjs\"></a></p>\n\n<p>To API:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yiKxh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yiKxh.jpg\" alt=\"To API\"></a></p>\n"}, {"tags": ["c#", "bindinglist"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556135436, "post_id": 55837443, "comment_id": 98339199, "body": "You might have <code>AllPartsList.CurrentPart = new InHouse(...)</code>. But <code>AllPartsList</code> itself has no relation with <code>InHouse</code>-"}, {"owner": {"reputation": 97, "user_id": 9561351, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Dp-q57_9UBc/AAAAAAAAAAI/AAAAAAAAAA0/Db06aVm6IHE/photo.jpg?sz=128", "display_name": "Jason Rapp", "link": "https://stackoverflow.com/users/9561351/jason-rapp"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1556135904, "post_id": 55837443, "comment_id": 98339406, "body": "Even calling <code>Part</code> in the class declaration for <code>AllPartsList</code>, I get the same error. Do I need to add all of the <code>Part</code> and <code>InHouse</code> variables to <code>AllPartsList</code> for this to work?"}], "answers": [{"tags": [], "owner": {"reputation": 1928, "user_id": 613178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95fd293467e8e89e44701d09eead51d4?s=128&d=identicon&r=PG", "display_name": "P. Roe", "link": "https://stackoverflow.com/users/613178/p-roe"}, "is_accepted": false, "score": 0, "last_activity_date": 1556135189, "creation_date": 1556135189, "answer_id": 55837514, "question_id": 55837443, "link": "https://stackoverflow.com/questions/55837443/fix-implicitly-typed-error-with-multiple-class-calls/55837514#55837514", "title": "Fix implicitly typed error with multiple class calls", "body": "<p>You're converting the InHouse object to AllPartsList in your calling function.</p>\n\n<pre><code>AllPartsList prt = new InHouse(Convert.ToInt32(ModifyPartIDBox.Text), ModifyPartNameBox.Text, Convert.ToDouble(ModifyPartPriceCostBox.Text), Convert.ToInt32(ModifyPartInventoryBox.Text), Convert.ToInt32(ModifyPartMaxInvBox.Text), Convert.ToInt32(ModifyPartMinBox.Text), Convert.ToInt32(PartMachineOrCompanyBox.Text));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 97, "user_id": 9561351, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Dp-q57_9UBc/AAAAAAAAAAI/AAAAAAAAAA0/Db06aVm6IHE/photo.jpg?sz=128", "display_name": "Jason Rapp", "link": "https://stackoverflow.com/users/9561351/jason-rapp"}, "edited": false, "score": 0, "creation_date": 1556136276, "post_id": 55837582, "comment_id": 98339572, "body": "Oh, sunnuva... Thanks; I needed to call <code>Part</code>, not <code>AllPartsList</code>."}], "tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": true, "score": 1, "last_activity_date": 1556135505, "creation_date": 1556135505, "answer_id": 55837582, "question_id": 55837443, "link": "https://stackoverflow.com/questions/55837443/fix-implicitly-typed-error-with-multiple-class-calls/55837582#55837582", "title": "Fix implicitly typed error with multiple class calls", "body": "<p>You're declaring </p>\n\n<pre><code>AllPartsList prt\n</code></pre>\n\n<p>which means that <code>prt</code> is of type <code>AllPartsList</code>. </p>\n\n<p>But <code>new Inhouse</code> creates, well, a new object of type <code>InHouse</code>. You can't declare a variable of type <code>AllPartsList</code> and assign something entirely different to it.</p>\n\n<p>It would be like doing this:</p>\n\n<pre><code>int x = new DateTime(2019,4,23);\n</code></pre>\n\n<p><code>x</code> is an <code>int</code>, so I can't assign a <code>DateTime</code> to it.</p>\n"}], "owner": {"reputation": 97, "user_id": 9561351, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Dp-q57_9UBc/AAAAAAAAAAI/AAAAAAAAAA0/Db06aVm6IHE/photo.jpg?sz=128", "display_name": "Jason Rapp", "link": "https://stackoverflow.com/users/9561351/jason-rapp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 55837582, "answer_count": 2, "score": 0, "last_activity_date": 1556135505, "creation_date": 1556134890, "question_id": 55837443, "link": "https://stackoverflow.com/questions/55837443/fix-implicitly-typed-error-with-multiple-class-calls", "title": "Fix implicitly typed error with multiple class calls", "body": "<p>I am building a small inventory system for an assignment, and two of my calls to a class are returning an error indicating that there's an implicit assignment, but I'm not able to locate this implicit assignment.</p>\n\n<p>The instructor has provided some classes that help with this assignment, and I am converting what he provided to work with my project; his code and mine are very similar, but his is not returning the errors.</p>\n\n<p>Child class:</p>\n\n<pre><code>    class InHouse : Part\n    {\n        public int machineID;\n        public InHouse() { }\n\n        public InHouse(int ParID, string ParNa, double ParPrice, int ParInSto, int ParMaxSto, int ParMinSto, int MachID) : base(ParID, ParNa, ParPrice, ParInSto, ParMaxSto, ParMinSto)\n        {\n            machineID = MachID;\n        }\n    }\n</code></pre>\n\n<p>Abstract parent class:</p>\n\n<pre><code>    abstract class Part : Form \n    {\n        public String PartName { get; set; }\n        public int PartID { get; set; }\n        public double price;\n        public int inStock;\n        public int maxStock;\n        public int minStock;\n\n        public int getPartID() { return PartID; }\n\n        public string getPartName() { return PartName; }\n        public double getPartPrice() { return price; }\n        public int getPartInStock() { return inStock; }\n        public int PartMaxStock() { return maxStock; }\n        public int PartMinStock() { return minStock; }\n\n        public Part() { }\n\n        public Part(int partID, string partName, double partPrice, int partInStock, int partMaxStock, int partMinStock)\n        {\n            PartID = partID;\n            PartName = partName;\n            price = partPrice;\n            inStock = partInStock;\n            maxStock = partMaxStock;\n            minStock = partMinStock;\n        }\n\n    }\n</code></pre>\n\n<p>Calling function inducing the error:</p>\n\n<pre><code>        private void AddPartSave_Click(object sender, EventArgs e)\n        {\n            if (isInHouse)\n            {\n                AllPartsList prt = new InHouse(Convert.ToInt32(ModifyPartIDBox.Text), ModifyPartNameBox.Text, Convert.ToDouble(ModifyPartPriceCostBox.Text), Convert.ToInt32(ModifyPartInventoryBox.Text), Convert.ToInt32(ModifyPartMaxInvBox.Text), Convert.ToInt32(ModifyPartMinBox.Text), Convert.ToInt32(PartMachineOrCompanyBox.Text));\n            }\n</code></pre>\n\n<p>List class:</p>\n\n<pre><code>     class AllPartsList\n    {\n        private static BindingList&lt;Part&gt; partsList = new BindingList&lt;Part&gt;();\n        public static BindingList&lt;Part&gt; PartsList { get { return partsList; } set { partsList = value; } }\n\n        public static Part CurrentPart { get; set; }\n        public static int CurrentPartID { get; set; }\n        public static int CurrentPartIndex { get; set; }\n\n        public static Part lookupPart(int i)\n        {\n            for (int j = 0; j &lt; PartsList.Count; j++)\n            {\n                if (PartsList[j].PartID.Equals(i))\n                {\n                    CurrentPartIndex = j;\n                    return PartsList[j];\n                }\n            }\n            CurrentPartIndex = -1;\n            return null;\n        }\n    }\n</code></pre>\n\n<p>Based on what I'm seeing in the instructor's code, this should work but the compiler error is </p>\n\n<blockquote>\n  <p>Cannot implicitly convert type 'InventorySystem.InHouse' to 'InventorySystem.AllPartsList'</p>\n</blockquote>\n"}, {"tags": ["c#", "arcgis", "esri"], "answers": [{"tags": [], "owner": {"reputation": 188, "user_id": 4274941, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A96m5NqTp98/AAAAAAAAAAI/AAAAAAAABj0/1EAAJHPc3wQ/photo.jpg?sz=128", "display_name": "Susan", "link": "https://stackoverflow.com/users/4274941/susan"}, "is_accepted": false, "score": 2, "last_activity_date": 1558460605, "creation_date": 1558460605, "answer_id": 56243774, "question_id": 55837417, "link": "https://stackoverflow.com/questions/55837417/how-to-improve-performance-of-geoprocessing/56243774#56243774", "title": "How to improve performance of geoprocessing", "body": "<p>In case someone else has this, I improved performance greatly by removing inspectors and replacing them with cursors (huge performance improvement) and found a way to add multiple fields at once (<a href=\"https://pro.arcgis.com/en/pro-app/tool-reference/data-management/add-fields.htm\" rel=\"nofollow noreferrer\">https://pro.arcgis.com/en/pro-app/tool-reference/data-management/add-fields.htm</a>). Removing inspectors (new in Arc Pro) resulted in the biggest performance gain.</p>\n"}], "owner": {"reputation": 188, "user_id": 4274941, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A96m5NqTp98/AAAAAAAAAAI/AAAAAAAABj0/1EAAJHPc3wQ/photo.jpg?sz=128", "display_name": "Susan", "link": "https://stackoverflow.com/users/4274941/susan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558460605, "creation_date": 1556134777, "last_edit_date": 1556136075, "question_id": 55837417, "link": "https://stackoverflow.com/questions/55837417/how-to-improve-performance-of-geoprocessing", "title": "How to improve performance of geoprocessing", "body": "<p>We are using ArcPro and are having some trouble with performance. For example:</p>\n\n<pre><code>IGPResult res = await Geoprocessing.ExecuteToolAsync(\"management.AddField\", Geoprocessing.MakeValueArray(args.ToArray()));\n</code></pre>\n\n<p>takes 5 seconds or more when adding a single field for a node and at least 1 second when adding a single field for a link. This results in a single function taking 45 seconds to call and most of that time is spent adding fields (10 seconds for adding 2 fields for nodes and 7 seconds for adding 4 fields for links). </p>\n\n<p>I saw on the esri site (<a href=\"https://community.esri.com/thread/197606-performance-of-geoprocessing\" rel=\"nofollow noreferrer\">https://community.esri.com/thread/197606-performance-of-geoprocessing</a>) where someone else had the same issue, but there was no reply. Has anyone else experienced this and have a possible solution? Also, why the time discrepancy between nodes and links? I would think that links would take faster since there is more information associated with a link.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1556135741, "post_id": 55837406, "comment_id": 98339331, "body": "FYI, Your exception message says <code>&quot;{valuePath} can&#39;t be empty&quot;</code> when you&#39;re actually validating the <code>value</code> argument. In fact, the <code>valuePath</code> argument isn&#39;t used anywhere (except in that message). Maybe that&#39;s what it&#39;s for?"}], "answers": [{"tags": [], "owner": {"reputation": 8283, "user_id": 1789202, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Tld8r.jpg?s=128&g=1", "display_name": "CSharpie", "link": "https://stackoverflow.com/users/1789202/csharpie"}, "is_accepted": false, "score": 0, "last_activity_date": 1556137162, "last_edit_date": 1556137162, "creation_date": 1556135948, "answer_id": 55837696, "question_id": 55837406, "link": "https://stackoverflow.com/questions/55837406/c-lambda-null-runtime-binding/55837696#55837696", "title": "C# lambda null runtime binding", "body": "<p>There are so many things wrong with your code, i can't resist.</p>\n\n<p>First of all, instead of copy/pasting the same stuff over and over, you might want to use a variable:</p>\n\n<pre><code>var property = data.GetType().GetProperty(propertyName);\n</code></pre>\n\n<p>Second, you pass a <code>Func&lt;string&gt;</code> and execute it multiple times, why is it even a function then? Yet again, better only evaluate it once and use a variable...</p>\n\n<pre><code>var unwrapped = value();\n</code></pre>\n\n<p>That would solve the issue, that <a href=\"https://stackoverflow.com/a/55837891/1789202\">Roberto V\u00e1zquez' answer</a> adresses.</p>\n\n<p>Then you are misusing <code>NullReferenceException</code>, instead rather use a <code>ArgumentException</code></p>\n\n<p>Next issue, that <code>valuePath</code> is only used in the exception message, that is a poor design to my beliefs.</p>\n\n<p>The generic <code>T</code> parameter isnt even used, so get rid of it.</p>\n\n<p>Last but not least, that catch-block doing the exact thing that could possibily throw the exception again, i cant see any reason why you would do this.</p>\n\n<p>Finnaly this whole thing becomes a little more clear but its still a mess.</p>\n\n<pre><code>public static void SetStringValue(IValidate data, string propertyName, \n    string valuePath, Func&lt;string&gt; value, bool required)\n{\n    if(data == null)\n        throw new ArgumentNullException(nameof(data));\n\n    var property = data.GetType().GetProperty(propertyName);\n    if(property == null)\n        throw new ArgumentException($\"In {data.GetType()} =&gt; SetStringValue.  \" + \n            $\"Passed property {propertyName}, but property doesn't exist.\");\n\n\n    var unwrapped = value();\n    try\n    {\n        if (string.IsNullOrEmpty(unwrapped))\n        {              \n            if (required)\n                data.DataValidationErrors.Add($\"{valuePath} can't be empty\");\n\n            unwrapped = null; // this might be unecessary.\n\n        }\n\n        property.SetValue(data, unwrapped);\n\n    }\n    catch(Exception e)\n    {\n        // This is probably a bad idea.\n        property.SetValue(data, null);\n\n       if (required)\n           data.DataValidationErrors.Add(Atleast put a better message here. e.Message ...);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 316, "user_id": 5687529, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KfSt9BM15U8/AAAAAAAAAAI/AAAAAAAAAIE/qZpDe6rtJA0/photo.jpg?sz=128", "display_name": "Roberto V&#225;zquez", "link": "https://stackoverflow.com/users/5687529/roberto-v%c3%a1zquez"}, "is_accepted": false, "score": 0, "last_activity_date": 1556136841, "creation_date": 1556136841, "answer_id": 55837891, "question_id": 55837406, "link": "https://stackoverflow.com/questions/55837406/c-lambda-null-runtime-binding/55837891#55837891", "title": "C# lambda null runtime binding", "body": "<p>If jsonData (or jsonData.x) is null (as it seems to be at this point) it will crash and give you that error every time you call the method value().</p>\n\n<p>You need to check why jsonData.x is null. Maybe it\u00b4s a race condition caused by another thread setting this value to null, maybe it\u00b4s because a bad jsonData initialization... Can\u00b4t say since that code is not here.</p>\n"}], "owner": {"reputation": 292, "user_id": 5398105, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f3e5202acfd7723293b9df972983e38?s=128&d=identicon&r=PG&f=1", "display_name": "Roka", "link": "https://stackoverflow.com/users/5398105/roka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1556137162, "creation_date": 1556134729, "last_edit_date": 1556135407, "question_id": 55837406, "link": "https://stackoverflow.com/questions/55837406/c-lambda-null-runtime-binding", "title": "C# lambda null runtime binding", "body": "<p>I'm running into an odd scenario that doesn't happen on my PC, but does for a coworkers.</p>\n\n<p>I have this piece of code:</p>\n\n<pre><code>LoaderHelpers.SetStringValue&lt;blah&gt;(this, \"x\", $\"x response in Header\", \n    () =&gt; jsonData.x.response[0].value, false);\n</code></pre>\n\n<p>The problem is that sometimes, \"jsonData.x\" is null and, for my coworker a 'cannot bind to null at runtime exception' is thrown, but not for me there isn't.  I have code to handle the null scenario, but it's like his code never gets to that point and fails at the call level.</p>\n\n<p>jsonData is of type dynamic.</p>\n\n<p>The method code that handles the null scenario:</p>\n\n<pre><code>    public static void SetStringValue&lt;T&gt;(IValidate data, string propertyName, \n        string valuePath, Func&lt;string&gt; value, bool required)\n    {\n        if (data.GetType().GetProperty(propertyName) != null)\n        {\n            try\n            {\n                if (string.IsNullOrEmpty(value()))\n                {\n                    if (required)\n                        data.DataValidationErrors.Add($\"{valuePath} can't be empty\");\n                    data.GetType().GetProperty(propertyName).SetValue(data, null);\n                }\n                else\n                {\n                    data.GetType().GetProperty(propertyName).SetValue(data, value());\n                }\n            }\n            catch\n            {\n                //property doesn't exist\n                if (required)\n                    data.DataValidationErrors.Add($\"{valuePath} doesn't exist\");\n                data.GetType().GetProperty(propertyName).SetValue(data, null);\n            }\n        }\n        else\n        {\n            throw new NullReferenceException($\"In {data.GetType()} =&gt; SetStringValue.  \" + \n                $\"Passed property {propertyName}, but property doesn't exist.\");\n        }\n    }\n</code></pre>\n\n<p>Again.  Works perfect for me, but not for him.  I'm completely lost.  Maybe I don't understand how the lamba/function parameters work 100%, but I thought it only got evaluated when value() is invoked.</p>\n\n<p>I should also mention that when I debug this code, I can step into the Nuget package and when he hits the same line, he can't.  This maybe a useful hint.</p>\n"}, {"tags": ["c#", "winforms", "visual-studio-2017", "odp.net", ".net-4.6"], "comments": [{"owner": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1556197606, "post_id": 55837386, "comment_id": 98361823, "body": "It&#39;s been forever since I used the GUI stuff, but is that wizard actually useful? You could just write a dummy query that coughs up a result set of the correct shape (<code>SELECT &#39;&#39; SOME_JOINED_TEXT</code>), find it back in the code (the wizard does nothing but generate some code/resources in the background) then change the query in the code (or resource/settings/wherever this ends up) to what it should be."}, {"owner": {"reputation": 11, "user_id": 11407182, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vX5-HItoy0c/AAAAAAAAAAI/AAAAAAAAAYs/4ZMautVb7Rc/photo.jpg?sz=128", "display_name": "A Dev", "link": "https://stackoverflow.com/users/11407182/a-dev"}, "reply_to_user": {"reputation": 23468, "user_id": 4137916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bab91fda70af7e9beb8934d323540e8?s=128&d=identicon&r=PG", "display_name": "Jeroen Mostert", "link": "https://stackoverflow.com/users/4137916/jeroen-mostert"}, "edited": false, "score": 0, "creation_date": 1556201511, "post_id": 55837386, "comment_id": 98364477, "body": "@JeroenMostert - Yes, the GUI is very useful - when it works. I tried your suggestion but it didn&#39;t work. The SQL statement is stored in the designer file, I can change it and save it, but if I view the original query in the table adapter (which is a common thing we devs do when debugging code), the designer file gets overwritten with whatever is in the table adapter (the dummy query as you suggested)."}], "owner": {"reputation": 11, "user_id": 11407182, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vX5-HItoy0c/AAAAAAAAAAI/AAAAAAAAAYs/4ZMautVb7Rc/photo.jpg?sz=128", "display_name": "A Dev", "link": "https://stackoverflow.com/users/11407182/a-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1581120708, "creation_date": 1556134655, "last_edit_date": 1581120708, "question_id": 55837386, "link": "https://stackoverflow.com/questions/55837386/table-adapter-configuration-wizard-from-oracles-dev-tools-for-vs2017-cant-pars", "title": "Table Adapter Configuration Wizard from Oracle&#39;s Dev Tools for VS2017 can&#39;t parse || or (+)", "body": "<p>We are currently migrating our Oracle database from Oracle9i to Oracle18c (18.3.0.0). We have a C# .net windows form application that accesses the Oracle DB. I'm updating our .net application to use Oracle's new ODP.net managed driver which is installed with VS2017 Dev tools.</p>\n\n<p>I have a custom table adapter that uses Oracle's concatenation operator || but when I try to modify the query via the table adapter configuration wizard, it throws as error saying it can't parse the '|'. </p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT T1.TEXT || ' ' || T2.TEXT SOME_JOINED_TEXT\n  FROM TABLE1 T1, TABLE2 T2\n WHERE T1.ID = T2.ID\n</code></pre>\n\n<p>When I run my sql statement in Toad for Oracle 13.0 the statement runs as expected and includes the joined column. When the query is added to the table adapter configuration wizard it errors out on the ||.</p>\n\n<p>I've even tried (to no avail):</p>\n\n<ul>\n<li>using the concat function but the wizard doesn't like that either.</li>\n<li>using a dummy SQL statement then going into the designer file and changing the generated SQL statement to the one I want. The GUI overrides these changes if a dev reviews the table adapter (which occurs when debugging).</li>\n<li>I've also put in a ticket with the Visual Studio Dev community, it's been \"triaged\", so time will tell what that really means.</li>\n</ul>\n\n<p>Any ideas on how I can get this to work?</p>\n"}, {"tags": ["c#", "excel", "file", "interop"], "comments": [{"owner": {"reputation": 6793, "user_id": 2188407, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SHgoC.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/2188407/justin"}, "edited": false, "score": 0, "creation_date": 1556134669, "post_id": 55837370, "comment_id": 98338885, "body": "Don&#39;t use interop to parse excel."}, {"owner": {"reputation": 31, "user_id": 11356919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4e7173824de0e4a7a1ad7901fa0e4da?s=128&d=identicon&r=PG&f=1", "display_name": "learningsymfony", "link": "https://stackoverflow.com/users/11356919/learningsymfony"}, "reply_to_user": {"reputation": 6793, "user_id": 2188407, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SHgoC.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/2188407/justin"}, "edited": false, "score": 0, "creation_date": 1556134853, "post_id": 55837370, "comment_id": 98338948, "body": "Any other suggestion, and why ?"}, {"owner": {"reputation": 6793, "user_id": 2188407, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SHgoC.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/2188407/justin"}, "edited": false, "score": 0, "creation_date": 1556135246, "post_id": 55837370, "comment_id": 98339120, "body": "Cause you don&#39;t need it anymore. <code>.xlsx</code> files now use openXML, an open and standard format, and you can parse them easily. I&#39;ve used <code>EPPlus</code> recently, but there is a ton of library out there (LinqToExcel, ClosedXML, ...)"}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1556135435, "post_id": 55837370, "comment_id": 98339198, "body": "COM interop is something you would want to stay as far as possible. Trust me. Unless you are c++ person and loves debugging mem leak, seg fault, access violation, heap corruption ect using windbg"}, {"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1556139269, "post_id": 55837370, "comment_id": 98340801, "body": "I usually don&#39;t like it when someone says not to do what you&#39;re trying to do instead of helping you do it. But in this case I have to agree. Interop is a cesspool of misery, and when you solve this problem it will reward you with evil. It will curse you for generations. If you switch to EPPlus you solve this problem and prevent a bunch of other ones."}], "owner": {"reputation": 31, "user_id": 11356919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4e7173824de0e4a7a1ad7901fa0e4da?s=128&d=identicon&r=PG&f=1", "display_name": "learningsymfony", "link": "https://stackoverflow.com/users/11356919/learningsymfony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556134595, "creation_date": 1556134595, "question_id": 55837370, "link": "https://stackoverflow.com/questions/55837370/reading-excel-file-throws-a-comexception", "title": "Reading excel file throws a COMException", "body": "<p>I am trying to read from an EXCEL file and display what i get.</p>\n\n<p>Here is my Excel Class.</p>\n\n<pre><code>class Excel\n    {\n        private string path = \"\";\n        _Application excel = new _Excel.Application();\n         Workbook workbook;\n         Worksheet worksheet;\n\n        public Excel(string path, int sheet)\n        {\n            this.path = path;\n            workbook = excel.Workbooks.Open(path);\n            worksheet = workbook.Worksheets[sheet];\n        }\n\n        public string ReadCell(int row, int column)\n        {\n            row++;\n            column++;\n\n            if (worksheet.Cells[row, column].Value2 != null)\n            {\n                return worksheet.Cells[row, column].Value2;\n            }\n            else\n            {\n                return \"\";\n            }\n        }\n    }\n</code></pre>\n\n<p>Here is how i call it </p>\n\n<pre><code>string pathToFile = @\"K:\\hours\\tracking.xlsx\";\nExcel excel = new Excel(pathToFile, 1);\nMessageBox.Show(excel.ReadCell(0, 0));\n</code></pre>\n\n<p>Here is my exception</p>\n\n<blockquote>\n  <p>System.Runtime.InteropServices.COMException\n    HResult=0x80040154\n    Message=Retrieving the COM class factory for component with CLSID {00024500-0000-0000-C000-000000000046} failed due to the following error: 80040154 Class not registered (Exception from HRESULT: 0x80040154 (REGDB_E_CLASSNOTREG)).\n    Source=mscorlib\n    StackTrace:\n     at System.Runtime.Remoting.RemotingServices.AllocateUninitializedObject(RuntimeType objectType)\n     at System.Runtime.Remoting.Activation.ActivationServices.CreateInstance(RuntimeType serverType)\n     at System.Runtime.Remoting.Activation.ActivationServices.IsCurrentContextOK(RuntimeType serverType, Object[] props, Boolean bNewObj)\n     at System.RuntimeTypeHandle.CreateInstance(RuntimeType type, Boolean publicOnly, Boolean noCheck, Boolean&amp; canBeCached, RuntimeMethodHandleInternal&amp; ctor, Boolean&amp; bNeedSecurityCheck)\n     at System.RuntimeType.CreateInstanceSlow(Boolean publicOnly, Boolean skipCheckThis, Boolean fillCache, StackCrawlMark&amp; stackMark)\n     at System.RuntimeType.CreateInstanceDefaultCtor(Boolean publicOnly, Boolean skipCheckThis, Boolean fillCache, StackCrawlMark&amp; stackMark)\n     at System.Activator.CreateInstance(Type type, Boolean nonPublic)\n     at System.Activator.CreateInstance(Type type)\n     at working_hours.Excel..ctor(String path, Int32 sheet) in K:\\programming\\visual_studio_projects\\working_hours\\working_hours\\working_hours\\Excel.cs:line 14\n     at working_hours.Program.Main(String[] args) in K:\\programming\\visual_studio_projects\\working_hours\\working_hours\\working_hours\\Program.cs:line 31</p>\n</blockquote>\n\n<p>I Chcked if the path is correct and it is.</p>\n\n<p>I think it may have to do with the References that i just implemented, but im not quite Sure. </p>\n\n<p>I added</p>\n\n<p><code>System.Windows.Forms.dll</code>\nand\n<code>Microsoft.Office.Interop.Excel.dll</code></p>\n\n<p>If anyone has any idea please let me know.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "nunit", "assert"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1556134470, "post_id": 55837232, "comment_id": 98338806, "body": "Please clarify your specific problem or add additional details to highlight exactly what you need. As it&#39;s currently written, it\u2019s hard to tell exactly what you&#39;re asking. See the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> page for help clarifying this question."}, {"owner": {"reputation": 309, "user_id": 8723329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb48604cc29c70e53189e174b4e28959?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon K", "link": "https://stackoverflow.com/users/8723329/jonathon-k"}, "edited": false, "score": 0, "creation_date": 1556135348, "post_id": 55837232, "comment_id": 98339164, "body": "Unit tests often don&#39;t have a return value.  The typical approach in NUnit is to throw and exception (which marks the test as failed).  The exception you are seeing is because the two streams that you are comparing are different, and therefore the <code>Assert.AreEqual</code> throws because the assertion failed.  The <code>AreEqual</code> is doing a byte by byte comparison of the two streams and telling you where they differ (offset 10)."}], "owner": {"reputation": 1, "user_id": 11407226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1f0d971c99e44e03300b277f99c7f7f?s=128&d=identicon&r=PG&f=1", "display_name": "vSloshy", "link": "https://stackoverflow.com/users/11407226/vsloshy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556134415, "creation_date": 1556134094, "last_edit_date": 1556134415, "question_id": 55837232, "link": "https://stackoverflow.com/questions/55837232/c-nunit-file-comparison-assert-areequal-same-length-but-fails-on-offset", "title": "C# NUnit File Comparison Assert AreEqual Same Length but Fails on Offset", "body": "<p>NUnit test comparing one excel file to another excel file yields the following error: </p>\n\n<p>Message: Stream lengths are both 146010. Streams differ at offset 10.</p>\n\n<p>Several responses state that you need to overload the Equals operator, but there are zero guides that walk you through that process. </p>\n\n<pre><code>FileInfo baseFile = new FileInfo(_baseFile);\nFileInfo testFile = new FileInfo(_testFile);\n\nFileStream file1 = new FileStream(_baseFile, FileMode.Open);\nFileStream file2 = new FileStream(_testFile, FileMode.Open);\n\nAssert.AreEqual(file1.Length, file2.Length);\n</code></pre>\n\n<p>I expect the test to return true when the following happens:</p>\n\n<pre><code>Assert.AreEqual(data in file 1, data in file 2)\n</code></pre>\n"}, {"tags": ["c#", "uwp", ".net-core"], "comments": [{"owner": {"reputation": 533, "user_id": 7396306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/033bc19f1f9658adc87f877fcfa29bf5?s=128&d=identicon&r=PG&f=1", "display_name": "DrakeMurdoch", "link": "https://stackoverflow.com/users/7396306/drakemurdoch"}, "edited": false, "score": 0, "creation_date": 1556134637, "post_id": 55837169, "comment_id": 98338875, "body": "Have you tried windows forms?"}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1556134965, "post_id": 55837169, "comment_id": 98339001, "body": "I don&#39;t recall VSCode provide any templates unless it&#39;s something recently new that i&#39;m not aware of. Did you mean <code>dotnet new</code> templates? AFAIK I don&#39;t think <code>dotnet new</code> have UWP project template. <a href=\"https://github.com/dotnet/templating/wiki/Available-templates-for-dotnet-new\" rel=\"nofollow noreferrer\">github.com/dotnet/templating/wiki/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8971245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b741fe7021ed1cc35b4358e5135f576?s=128&d=identicon&r=PG&f=1", "display_name": "Jonatas Povoas", "link": "https://stackoverflow.com/users/8971245/jonatas-povoas"}, "edited": false, "score": 0, "creation_date": 1556195607, "post_id": 55838953, "comment_id": 98360547, "body": "I need to use UWP because I must use the ArcGIS Runtime SDK for .NET (UWP and Xamarin.Forms). I need to know if our team will be able to develop the solution using the VSCode or if we must acquire the Visual Studio 2019 in order to develop with the API."}, {"owner": {"reputation": 602, "user_id": 7736648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6GuvO.png?s=128&g=1", "display_name": "Larry Tang", "link": "https://stackoverflow.com/users/7736648/larry-tang"}, "reply_to_user": {"reputation": 13, "user_id": 8971245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b741fe7021ed1cc35b4358e5135f576?s=128&d=identicon&r=PG&f=1", "display_name": "Jonatas Povoas", "link": "https://stackoverflow.com/users/8971245/jonatas-povoas"}, "edited": false, "score": 0, "creation_date": 1556217507, "post_id": 55838953, "comment_id": 98372771, "body": "In that case, you will 100% need Visual Studio, no way around it to my knowledge."}], "tags": [], "owner": {"reputation": 602, "user_id": 7736648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6GuvO.png?s=128&g=1", "display_name": "Larry Tang", "link": "https://stackoverflow.com/users/7736648/larry-tang"}, "is_accepted": true, "score": 1, "last_activity_date": 1556141954, "creation_date": 1556141954, "answer_id": 55838953, "question_id": 55837169, "link": "https://stackoverflow.com/questions/55837169/creating-a-uwp-solution-in-visual-studio-code/55838953#55838953", "title": "Creating a UWP solution in Visual Studio Code", "body": "<p>If you're using VSCode and the <code>dotnet</code> CLI, it doesn't have any built in methods of creating a UWP project.</p>\n\n<p>An alternative if you're purely focused on using a \"Ribbon\" design is the WinForms Ribbon project, which is FOSS, actively maintained and can be found <a href=\"https://github.com/RibbonWinForms/RibbonWinForms\" rel=\"nofollow noreferrer\">here,</a> with older detailed documentation on how to use it <a href=\"https://www.codeproject.com/Articles/364272/Easily-Add-a-Ribbon-into-a-WinForms-Application\" rel=\"nofollow noreferrer\">here.</a></p>\n"}], "owner": {"reputation": 13, "user_id": 8971245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b741fe7021ed1cc35b4358e5135f576?s=128&d=identicon&r=PG&f=1", "display_name": "Jonatas Povoas", "link": "https://stackoverflow.com/users/8971245/jonatas-povoas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3227, "favorite_count": 2, "accepted_answer_id": 55838953, "answer_count": 1, "score": 1, "last_activity_date": 1556141954, "creation_date": 1556133698, "last_edit_date": 1556137248, "question_id": 55837169, "link": "https://stackoverflow.com/questions/55837169/creating-a-uwp-solution-in-visual-studio-code", "title": "Creating a UWP solution in Visual Studio Code", "body": "<p>I'm trying to create an UWP application in Visual Studio Code. </p>\n\n<p>I want to create an app with a ribbon like interface (the interface used in Microsoft office), and since I this is my very first attempt to use VSCode I have no idea how to create the project. At the VSCode terminal help I saw a many different templates available to create projects, but I'm not sure which I should choose.</p>\n"}, {"tags": ["c#", "python", "sql", "entity-framework", "flask"], "comments": [{"owner": {"reputation": 2282, "user_id": 1073696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02b2184590d81d2280d2c9802b05fe83?s=128&d=identicon&r=PG", "display_name": "brunns", "link": "https://stackoverflow.com/users/1073696/brunns"}, "edited": false, "score": 1, "creation_date": 1556133858, "post_id": 55837156, "comment_id": 98338589, "body": "I think you&#39;re talking about an <a href=\"https://www.fullstackpython.com/object-relational-mappers-orms.html\" rel=\"nofollow noreferrer\">ORM</a> here. Django comes with its own, but Flask does not, preferring to let you pick your own. SqlAlchemy is one popular choice."}, {"owner": {"reputation": 161, "user_id": 10243722, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-X81k-fnNUWM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPTWrXSCJpBzz6AtLI9L4l4fTP_CQ/mo/photo.jpg?sz=128", "display_name": "Max", "link": "https://stackoverflow.com/users/10243722/max"}, "reply_to_user": {"reputation": 2282, "user_id": 1073696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02b2184590d81d2280d2c9802b05fe83?s=128&d=identicon&r=PG", "display_name": "brunns", "link": "https://stackoverflow.com/users/1073696/brunns"}, "edited": false, "score": 0, "creation_date": 1556134485, "post_id": 55837156, "comment_id": 98338810, "body": "Thank you, yes, I apologize, I am new so I did not know it was called ORM."}], "owner": {"reputation": 161, "user_id": 10243722, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-X81k-fnNUWM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPTWrXSCJpBzz6AtLI9L4l4fTP_CQ/mo/photo.jpg?sz=128", "display_name": "Max", "link": "https://stackoverflow.com/users/10243722/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1005, "favorite_count": 0, "closed_date": 1556136637, "answer_count": 0, "score": 0, "last_activity_date": 1556133635, "creation_date": 1556133635, "question_id": 55837156, "link": "https://stackoverflow.com/questions/55837156/what-is-the-equivalent-of-entity-framework-in-flask", "closed_reason": "Duplicate", "title": "What is the equivalent of entity framework in Flask?", "body": "<p>When I worked with c# on asp net core, I made que models first and then created the database. When creating the models, I had for example, a list. So the models where linked. Example, a user had a list of posts. Using asp net core it was just pressing a few buttons and the program would create a database for everything you need. </p>\n\n<p>Right now I am trying to do something similar but with Python. I am using SQLite in this case, and of course, the database does not create by itself with a few clicks. I created it by myself.</p>\n\n<p>Is there something that makes it easier like in asp net core?</p>\n\n<p>To make it work by myself, I just created posts that had foreign keys with the user's ids. But is it possible to have something similar to how it is done with asp net core? Where you ask for the data from database and just add the: .include(&lt;>).thenInclude(&lt;>)</p>\n"}, {"tags": ["c#", ".net-standard"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1556133956, "post_id": 55837146, "comment_id": 98338626, "body": "yep.  it&#39;s literally called <code>UriTemplate</code> :)  <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.uritemplate?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 39, "user_id": 11376004, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jmFJOmMMB4I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reqzx7eYnLfb9bR0bCVFjlRlmNvgg/mo/photo.jpg?sz=128", "display_name": "RedIsDev", "link": "https://stackoverflow.com/users/11376004/redisdev"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1556135052, "post_id": 55837146, "comment_id": 98339031, "body": "It seems that UriTemplate is not available in Net Standard... I did not specify it"}], "owner": {"reputation": 39, "user_id": 11376004, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jmFJOmMMB4I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reqzx7eYnLfb9bR0bCVFjlRlmNvgg/mo/photo.jpg?sz=128", "display_name": "RedIsDev", "link": "https://stackoverflow.com/users/11376004/redisdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556135124, "creation_date": 1556133591, "last_edit_date": 1556135124, "question_id": 55837146, "link": "https://stackoverflow.com/questions/55837146/is-there-another-net-standard-api-like-regex-to-check-if-an-uri-matches-with-a-t", "title": "Is there another Net Standard API like Regex to check if an URI matches with a template?", "body": "<p>Is there another api like Regex to check if an uri matches with a template?</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public void Check()\n{\n Check(\"http://domain/api/products/{productId}\", \"http://domain/api/products/2\"); //return true\n Check(\"http://domain/api/something/{0}/otherThing/{1}\", \"http://domain/api/something/1/otherThing/2\"); //return true \n Check(\"http://domain/api/something/{p1}/otherThing/{p2}\",\"http://domain/api/something/otherThing/1\"); //return false\n}\n\npublic bool Check(string uri, string template)\n{\n   return template.Match(uri); //method that I need...\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "edited": false, "score": 1, "creation_date": 1556133569, "post_id": 55837126, "comment_id": 98338481, "body": "<code>Where()</code> returns an <code>IEnumerable&lt;T&gt;</code>, not a <code>bool</code>. Perhaps you&#39;re looking for <code>Any()</code>, or <code>All()</code>?"}, {"owner": {"reputation": 6793, "user_id": 2188407, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SHgoC.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/2188407/justin"}, "edited": false, "score": 6, "creation_date": 1556133613, "post_id": 55837126, "comment_id": 98338498, "body": "What is the expected result? A list of status is never gonna be equals to <code>true</code>."}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 2, "creation_date": 1556133639, "post_id": 55837126, "comment_id": 98338507, "body": "<code>if (statusCollection.Count != 0) {</code>?"}, {"owner": {"reputation": 3874, "user_id": 310429, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NNxKR.jpg?s=128&g=1", "display_name": "acctman", "link": "https://stackoverflow.com/users/310429/acctman"}, "reply_to_user": {"reputation": 6793, "user_id": 2188407, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SHgoC.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/2188407/justin"}, "edited": false, "score": 0, "creation_date": 1556133838, "post_id": 55837126, "comment_id": 98338582, "body": "@JustinLessard the expected result is if any results are found for <code>statusCollection = statusCollection.Where</code> then run statement if nothing is found continue to console output"}], "answers": [{"comments": [{"owner": {"reputation": 6793, "user_id": 2188407, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SHgoC.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/2188407/justin"}, "reply_to_user": {"reputation": 3874, "user_id": 310429, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NNxKR.jpg?s=128&g=1", "display_name": "acctman", "link": "https://stackoverflow.com/users/310429/acctman"}, "edited": false, "score": 2, "creation_date": 1556134162, "post_id": 55837167, "comment_id": 98338689, "body": "@acctman If you don&#39;t need the results, you should also do <code>statusCollection.Any(predicate)</code> instead of <code>statusCollection.Where(predicate).ToList().Any()</code>. That way you only iterate your collection once (Worst case), and you don&#39;t need to allocate a new list."}, {"owner": {"reputation": 3874, "user_id": 310429, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NNxKR.jpg?s=128&g=1", "display_name": "acctman", "link": "https://stackoverflow.com/users/310429/acctman"}, "reply_to_user": {"reputation": 6793, "user_id": 2188407, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SHgoC.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/2188407/justin"}, "edited": false, "score": 0, "creation_date": 1556134442, "post_id": 55837167, "comment_id": 98338788, "body": "@JustinLessard I don&#39;t need the results, thanks for the tip, I will make that change now."}], "tags": [], "owner": {"reputation": 3377, "user_id": 2348125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vc2jx.png?s=128&g=1", "display_name": "rad", "link": "https://stackoverflow.com/users/2348125/rad"}, "is_accepted": true, "score": 5, "last_activity_date": 1556134032, "last_edit_date": 1556134032, "creation_date": 1556133693, "answer_id": 55837167, "question_id": 55837126, "link": "https://stackoverflow.com/questions/55837126/how-to-determine-if-a-list-contains-any-objects/55837167#55837167", "title": "How to determine if a list contains any objects", "body": "<p>You are comparing a <strong>list</strong> with a <strong>bool</strong>. If you want to check whether the collection has <strong>any items or not</strong> then use:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>if (statusCollection.Any())\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>if (statusCollection == true)\n</code></pre>\n"}], "owner": {"reputation": 3874, "user_id": 310429, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NNxKR.jpg?s=128&g=1", "display_name": "acctman", "link": "https://stackoverflow.com/users/310429/acctman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 55837167, "answer_count": 1, "score": 0, "last_activity_date": 1556134810, "creation_date": 1556133467, "last_edit_date": 1592644375, "question_id": 55837126, "link": "https://stackoverflow.com/questions/55837126/how-to-determine-if-a-list-contains-any-objects", "title": "How to determine if a list contains any objects", "body": "<p>A simple IF statement I am not able to get to process for some reason. The following error is received:</p>\n<blockquote>\n<p>Operator <code>==</code> cannot be applied to operands of type <code>List&lt;Status&gt;</code> and <code>bool</code>.</p>\n</blockquote>\n<p>I just need to know if the statement above for <code>statusCollection</code> is <code>true</code> then process the rest call. Still fairly new to C# and .NET so I'm learning.</p>\n<h1>Expected Result</h1>\n<p>If any results are found for <code>statusCollection = statusCollection.Where</code> then run statement if nothing is found continue to console output.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public static void Main(string[] args)\n{\n    using (var webClient = new WebClient())\n    {\n        String rawJSON = webClient.DownloadString(&quot;https://status.cloud.google.com/incidents.json&quot;);\n        List&lt;Status&gt; statusCollection = JsonConvert.DeserializeObject&lt;List&lt;Status&gt;&gt;(rawJSON);\n        Console.WriteLine(statusCollection + &quot;\\n\\nLast Run: &quot; + DateTime.Now.ToString(&quot;MM/dd/yyyy h:mm tt\\n&quot;));\n\n        statusCollection = statusCollection.Where(r =&gt; r.Service_key == &quot;cloud-networking&quot; &amp;&amp; r.Begin &gt; DateTime.Now.AddHours(-24)).ToList();\n\n        if (statusCollection == true) {\n\n            var client = new RestClient(&quot;http://1.0.0.111:80/restapi/call&quot;);\n            var request = new RestRequest(Method.POST);\n            request.AddHeader(&quot;Postman-Token&quot;, &quot;&quot;);\n            request.AddHeader(&quot;cache-control&quot;, &quot;no-cache&quot;);\n            request.AddHeader(&quot;Content-Type&quot;, &quot;text/xml&quot;);\n            request.AddParameter(&quot;undefined&quot;, &quot;@\\&quot;\\n&lt;event&gt;\\n    &quot; +\n                &quot;&lt;title&gt;GCP Networking Status&lt;/title&gt;\\n    &quot; +\n                &quot;&lt;description&gt;Google Cloud Platform Newtwork Status&lt;/description&gt;\\n    &quot; +\n                &quot;&lt;application&gt;&lt;/application&gt;\\n    &quot; +\n                &quot;&lt;state&gt;Open&lt;/state&gt;\\n    &quot; +\n                &quot;&lt;sub_category&gt;&lt;/sub_category&gt;\\n    &quot; +\n                &quot;&lt;hint&gt;&lt;/hint&gt;\\n    &quot; +\n                &quot;&lt;/related_hints&gt;\\n&lt;/event&gt;\\&quot;@&quot;, ParameterType.RequestBody);\n            IRestResponse response = client.Execute(request);\n        }\n\n        Console.WriteLine(string.Join(&quot;\\n&quot;, statusCollection.Select(s =&gt; string.Format(&quot;{0} {1} ({2}) {3} - {4} - {5} updates&quot;,\n                                               s.Begin, s.Number, s.Severity, s.Service_name, s.External_desc, s.Updates.Count))));\n\n        log.Info(DateTime.Now.ToString(&quot;MM/dd/yyyy h:mm tt&quot;));\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "firebase", "collections", "observablecollection"], "comments": [{"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1556133211, "post_id": 55837055, "comment_id": 98338338, "body": "<code>the problem is when i dont have elements in my database the itemsSource have a problem beacuse is null</code>, if you don&#39;t have elements in the db your items source will be null and it should be, what do you expect it to be?"}, {"owner": {"reputation": 11, "user_id": 10103225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GH6Uz.jpg?s=128&g=1", "display_name": "Fabriccio Tor. Cort&#233;s", "link": "https://stackoverflow.com/users/10103225/fabriccio-tor-cort%c3%a9s"}, "reply_to_user": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1556135124, "post_id": 55837055, "comment_id": 98339062, "body": "Hi, that happen that the windows close and give a error System.ArgumentNullException"}, {"owner": {"reputation": 11, "user_id": 10103225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GH6Uz.jpg?s=128&g=1", "display_name": "Fabriccio Tor. Cort&#233;s", "link": "https://stackoverflow.com/users/10103225/fabriccio-tor-cort%c3%a9s"}, "reply_to_user": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1556135179, "post_id": 55837055, "comment_id": 98339091, "body": "The problem is my datagrid, when the itemsSource is null. this close and give me an error"}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1556135207, "post_id": 55837055, "comment_id": 98339099, "body": "<code>windows close and give a error System.ArgumentNullException</code>, can you provide that code if you have it?"}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1556135338, "post_id": 55837055, "comment_id": 98339157, "body": "If you put a break point in there, what do you get as observable? You can probably just put a null check in there. Set the itemssource to null or an empty collection if you have nothing."}, {"owner": {"reputation": 11, "user_id": 10103225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GH6Uz.jpg?s=128&g=1", "display_name": "Fabriccio Tor. Cort&#233;s", "link": "https://stackoverflow.com/users/10103225/fabriccio-tor-cort%c3%a9s"}, "edited": false, "score": 0, "creation_date": 1556135405, "post_id": 55837055, "comment_id": 98339189, "body": "private void Window_Loaded(object sender, RoutedEventArgs e)         {             dtCLiente.AutoGenerateColumns = true;             var observable = a.BaseDatos().Child(&quot;Alquileres&quot;).AsObservable&lt;eAlquiler&gt;();             dtCLiente.ItemsSource = observable.ObserveOnDispatcher().AsObservableCollection();                              }"}, {"owner": {"reputation": 11, "user_id": 10103225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GH6Uz.jpg?s=128&g=1", "display_name": "Fabriccio Tor. Cort&#233;s", "link": "https://stackoverflow.com/users/10103225/fabriccio-tor-cort%c3%a9s"}, "edited": false, "score": 0, "creation_date": 1556135562, "post_id": 55837055, "comment_id": 98339245, "body": "Please look the photo in the question. iam add now"}], "owner": {"reputation": 11, "user_id": 10103225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GH6Uz.jpg?s=128&g=1", "display_name": "Fabriccio Tor. Cort&#233;s", "link": "https://stackoverflow.com/users/10103225/fabriccio-tor-cort%c3%a9s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556135539, "creation_date": 1556133119, "last_edit_date": 1556135539, "question_id": 55837055, "link": "https://stackoverflow.com/questions/55837055/items-source-in-datagrid-are-null-firebase", "title": "Items Source in Datagrid are NULL Firebase", "body": "<p><a href=\"https://i.stack.imgur.com/wZVue.png\" rel=\"nofollow noreferrer\">enter image description here</a>i am doing a code in c# WPF where i want to update automatically my datagrid if my database in firebase have changes. For that reason i am using the nuget Firebase.Donet and i work with this code:</p>\n\n<pre><code>  var observable = a.BaseDatos().Child(\"Alquileres\").AsObservable&lt;eAlquiler&gt;();\n            dtCLiente.ItemsSource = observable.ObserveOnDispatcher().AsObservableCollection();\n</code></pre>\n\n<p>And works ok the datagrid changes automatically but the problem is when i dont have elements in my database the itemsSource have a problem beacuse is null. Please Help me</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 1, "creation_date": 1556133062, "post_id": 55836992, "comment_id": 98338270, "body": "Unrelated note: Your <code>Orders</code> class represents a <i>single</i> order, but has a <i>plural</i> name.  If you rename it to the more accurate term <code>Order</code> then you don&#39;t need that random underscore in your property name.  (Though you shouldn&#39;t need it now... At first glance I thought <code>Orders</code> was an inner class.)  Giving things meaningful and semantically accurate names will make your code easier to understand in the long run."}, {"owner": {"reputation": 10219, "user_id": 304683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pPt7E.jpg?s=128&g=1", "display_name": "EdSF", "link": "https://stackoverflow.com/users/304683/edsf"}, "edited": false, "score": 0, "creation_date": 1556150466, "post_id": 55836992, "comment_id": 98343648, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20278362/editorfor-for-a-list-of-complex-type-mvc\">EditorFor() for a List of Complex Type (MVC)</a>"}, {"owner": {"reputation": 10219, "user_id": 304683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pPt7E.jpg?s=128&g=1", "display_name": "EdSF", "link": "https://stackoverflow.com/users/304683/edsf"}, "edited": false, "score": 0, "creation_date": 1556150867, "post_id": 55836992, "comment_id": 98343699, "body": "The above link should help you. End of day: view the <i>rendered</i> output to find the pattern used in <code>form</code> field <code>name</code>s. Once you get the pattern, you choose however you want to build the front end  (re: dynamically add fields via Javascript)."}, {"owner": {"reputation": 23, "user_id": 1425301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/216d217a3dd7ac9308c08bd24c6327b5?s=128&d=identicon&r=PG", "display_name": "Niy", "link": "https://stackoverflow.com/users/1425301/niy"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1556203488, "post_id": 55836992, "comment_id": 98365736, "body": "@David, Thanks for the tip"}, {"owner": {"reputation": 23, "user_id": 1425301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/216d217a3dd7ac9308c08bd24c6327b5?s=128&d=identicon&r=PG", "display_name": "Niy", "link": "https://stackoverflow.com/users/1425301/niy"}, "reply_to_user": {"reputation": 10219, "user_id": 304683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pPt7E.jpg?s=128&g=1", "display_name": "EdSF", "link": "https://stackoverflow.com/users/304683/edsf"}, "edited": false, "score": 0, "creation_date": 1556203533, "post_id": 55836992, "comment_id": 98365768, "body": "@EdSF, your link helped.   This link helped more [link] <a href=\"https://www.pluralsight.com/guides/asp.net-mvc-getting-default-data-binding-right-for-hierarchical-views\" rel=\"nofollow noreferrer\">pluralsight.com/guides/&hellip;</a>"}], "owner": {"reputation": 23, "user_id": 1425301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/216d217a3dd7ac9308c08bd24c6327b5?s=128&d=identicon&r=PG", "display_name": "Niy", "link": "https://stackoverflow.com/users/1425301/niy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556133902, "creation_date": 1556132844, "last_edit_date": 1556133902, "question_id": 55836992, "link": "https://stackoverflow.com/questions/55836992/how-to-post-data-to-controller-from-asp-net-mvc-form-and-webgrid", "title": "How to post data to controller from ASP.NET MVC Form and Webgrid", "body": "<p>I am new to ASP.NET MVC. I need some help for the following scenario.\nI have defined a model like this</p>\n\n<pre><code>namespace Sample.Models\n{\n    public class ContModel\n    {\n        [Display(Name = \"Name\")]\n        public string Name { get; set; }\n\n        [Display(Name = \"Code\")]\n        public string Code { get; set; }\n\n        [Display(Name = \"Customer\")]\n        public string Customer { get; set; }\n\n        public List&lt;Orders&gt; Orders_ { get; set;}\n    }\n\n    public class Orders\n    {\n        public string OrderId;\n        public string OrderDesc;\n    }\n}\n</code></pre>\n\n<p>In my view, I'm showing name, code, customer using <code>Html.EditorFor</code>, and I would like to use a Webgrid for getting input for Orders.</p>\n\n<p>These three fields along with rows entered in Webgrid to be posted to the controller.</p>\n\n<p>Initially the data source for Webgrid will be blank, User should be able to enter rows in the Webgrid. I have tried multiple approaches, not succeeded.</p>\n\n<p>Please provide some approaches/guidance to achieve this. Thanks in advance.</p>\n"}, {"tags": ["c#", "unity3d", "game-physics"], "comments": [{"owner": {"reputation": 155, "user_id": 11378937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60ce779fef4049208a205e3f16a22ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Ignace Vau", "link": "https://stackoverflow.com/users/11378937/ignace-vau"}, "edited": false, "score": 0, "creation_date": 1556133194, "post_id": 55836973, "comment_id": 98338331, "body": "You could give your enemies a tag and check for the tag in the <code>OnTriggerEnter2D</code> method."}, {"owner": {"reputation": 4148, "user_id": 10209883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zd3hk.png?s=128&g=1", "display_name": "Alex Myers", "link": "https://stackoverflow.com/users/10209883/alex-myers"}, "edited": false, "score": 2, "creation_date": 1556145759, "post_id": 55836973, "comment_id": 98342773, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/55250174/how-do-i-get-some-colliders-to-ignore-triggers-in-unity-3d\">How do I get some colliders to ignore triggers in unity 3D</a>"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1556156757, "post_id": 55836973, "comment_id": 98344697, "body": "Don&#39;t destroy the object unless it hits an enemy?"}], "owner": {"reputation": 11, "user_id": 11374873, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xc52AayaHg0/AAAAAAAAAAI/AAAAAAAAIu8/46_-HT4qSXA/photo.jpg?sz=128", "display_name": "EmphaticAxis", "link": "https://stackoverflow.com/users/11374873/emphaticaxis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556157502, "creation_date": 1556132755, "last_edit_date": 1556157502, "question_id": 55836973, "link": "https://stackoverflow.com/questions/55836973/bullet-is-colliding-with-triggers", "title": "Bullet is colliding with triggers", "body": "<p>So I have made the bullet but it keeps colliding with the triggers of the map</p>\n\n<pre><code>void OnTriggerEnter2D(Collider2D collision)\n{\n   Enemy_Health enemy =  collision.GetComponent&lt;Enemy_Health&gt;();\n    if(enemy != null )\n    {\n        enemy.TakeDmg(damage);\n    }\n    Destroy(gameObject);\n\n}\n</code></pre>\n"}, {"tags": ["c#", "random"], "comments": [{"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1556133035, "post_id": 55836878, "comment_id": 98338254, "body": "You don&#39;t need many Randoms. One <code>Random</code> can generate infinite random numbers."}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1556134121, "post_id": 55836878, "comment_id": 98338673, "body": "The official documentation describes this behavior.  Consult it often."}], "answers": [{"comments": [{"owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "reply_to_user": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1556136277, "post_id": 55836928, "comment_id": 98339574, "body": "I updated answer move out random as class scope, remove vote down please"}], "tags": [], "owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "is_accepted": true, "score": 0, "last_activity_date": 1556136242, "last_edit_date": 1556136242, "creation_date": 1556132572, "answer_id": 55836928, "question_id": 55836878, "link": "https://stackoverflow.com/questions/55836878/why-my-created-random-function-just-work-for-one-time/55836928#55836928", "title": "Why my created random function just work for one time?", "body": "<p>You need move create Random outside function by create <code>Random ran = new Random();</code> in class scope.</p>\n\n<pre><code> Random ran = new Random();\n public static double GetRandom(double[] array, Random ran)\n    \u3000\u3000{     \n    \u3000\u3000\u3000\u3000int n = ran.Next(array.Length);\n    \u3000\u3000\u3000\u3000return array[n];\n    \u3000\u3000}\n\nprivate void Window_Activated(object sender, System.EventArgs e)\n    {   \n\n        c1 = c-GetRandom(arr, ran);\n        c2 = c-GetRandom(arr, ran);\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 11358170, "user_type": "registered", "profile_image": "https://graph.facebook.com/298473481049732/picture?type=large", "display_name": "Lu Huang", "link": "https://stackoverflow.com/users/11358170/lu-huang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "closed_date": 1556133186, "accepted_answer_id": 55836928, "answer_count": 1, "score": 0, "last_activity_date": 1556136242, "creation_date": 1556132379, "question_id": 55836878, "link": "https://stackoverflow.com/questions/55836878/why-my-created-random-function-just-work-for-one-time", "closed_reason": "Duplicate", "title": "Why my created random function just work for one time?", "body": "<p>Thank you for helping me!</p>\n\n<p>There is a piece of <strong>random function</strong> I found on the Internet, called <code>GetRandom</code>. I put it like below</p>\n\n<pre><code> public static double GetRandom(double[] array)\n\u3000\u3000{    \n\u3000      Random ran = new Random();\n\u3000\u3000\u3000\u3000int n = ran.Next(array.Length);\n\u3000\u3000\u3000\u3000return array[n];\n\u3000\u3000}\n\n private void Window_Activated(object sender, System.EventArgs e)\n    {   \n\n\n        c1 = c-GetRandom(arr);\n        c2 = c-GetRandom(arr);\n......\n\n    }\n</code></pre>\n\n<p>arr is a double arry containing a a few doubles. c1,c2,c3 .... are all double. Howeve, it seems that every <strong>GetRandom(arr)</strong> in the last few lines return the same result.How come? The <strong>n</strong> in <code>GetRandom</code> can't be refreshed after each use?</p>\n"}, {"tags": ["c#", "visual-studio", "xamarin.forms", "xamarin.ios", "content-pages"], "answers": [{"tags": [], "owner": {"reputation": 582, "user_id": 4251242, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/fq1g8.png?s=128&g=1", "display_name": "\u0414\u0435\u043d\u0438\u0441 \u0427\u043e\u0440\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/4251242/%d0%94%d0%b5%d0%bd%d0%b8%d1%81-%d0%a7%d0%be%d1%80%d0%bd%d1%8b%d0%b9"}, "is_accepted": false, "score": 1, "last_activity_date": 1556180112, "creation_date": 1556180112, "answer_id": 55844733, "question_id": 55836713, "link": "https://stackoverflow.com/questions/55836713/need-help-to-improve-the-appearance-on-xamarin-ios-tab/55844733#55844733", "title": "Need help to improve the appearance on Xamarin iOS tab", "body": "<p>You'll have to implement <strong>Custom Renderer</strong> for your <code>TabbedPage</code>. See this link: </p>\n\n<p><a href=\"https://xamgirl.com/extending-tabbedpage-in-xamarin-forms/\" rel=\"nofollow noreferrer\">Extending TabbedPage in Xamarin Forms</a>.</p>\n\n<p>It says, that:</p>\n\n<blockquote>\n  <p>To do these customizations we will use a custom renderer on each platform to render the TabbedPage.</p>\n</blockquote>\n\n<p>I will duplicate the code snippets from the source as a example:</p>\n\n<p>YourTabbedPage.xaml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;TabbedPage xmlns=\"http://xamarin.com/schemas/2014/forms\" \n             xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\" \n             x:Class=\"CustomTabbedPage.MainPage\"\n             xmlns:android=\"clr-namespace:Xamarin.Forms.PlatformConfiguration.AndroidSpecific;assembly=Xamarin.Forms.Core\"\n             android:TabbedPage.ToolbarPlacement=\"Bottom\"&gt;\n    &lt;TabbedPage.Children&gt;   \n        &lt;ContentPage Title=\"Home\" Icon=\"ic_home.png\" BackgroundColor=\"White\"/&gt;\n        &lt;ContentPage Title=\"Favorites\" Icon=\"ic_favorite.png\" BackgroundColor=\"White\"/&gt;\n        &lt;ContentPage Title=\"App\" Icon=\"app_logo_unselected.png\" x:Name=\"home\" BackgroundColor=\"White\"/&gt;\n        &lt;ContentPage Title=\"Friends\" Icon=\"ic_people.png\" BackgroundColor=\"White\"/&gt;\n        &lt;ContentPage Title=\"Settings\" Icon=\"ic_settings.png\" BackgroundColor=\"White\"/&gt;\n    &lt;/TabbedPage.Children&gt;\n&lt;/TabbedPage&gt;\n</code></pre>\n\n<p>iOS Custom Renderer:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class ExtendedTabbedPageRenderer : TabbedRenderer\n{\n    public override void ViewWillAppear(bool animated)\n    {\n        if (TabBar?.Items == null)\n            return;\n\n        var tabs = Element as TabbedPage;\n        if (tabs != null)\n        {\n            for (int i = 0; i &lt; TabBar.Items.Length; i++)\n            {\n                UpdateTabBarItem(TabBar.Items[i], tabs.Children[i].Icon);\n            }\n        }\n\n        base.ViewWillAppear(animated);\n    }\n\n    private void UpdateTabBarItem(UITabBarItem item, string icon)\n    {\n        if (item == null || icon == null)\n            return;\n\n        // Set the font for the title.\n       item.SetTitleTextAttributes(new UITextAttributes() { Font = UIFont.FromName(\"GillSans-UltraBold\", 12), TextColor = Color.FromHex(\"#757575\").ToUIColor() }, UIControlState.Normal);\n       item.SetTitleTextAttributes(new UITextAttributes() { Font = UIFont.FromName(\"GillSans-UltraBold\", 12), TextColor = Color.FromHex(\"#3C9BDF\").ToUIColor() }, UIControlState.Selected);\n\n    }\n}\n</code></pre>\n\n<p>Android Custom Renderer:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class ExtendedTabbedPageRenderer : TabbedPageRenderer\n    {\n        Xamarin.Forms.TabbedPage tabbedPage;\n        BottomNavigationView bottomNavigationView;\n        Android.Views.IMenuItem lastItemSelected;\n        int lastItemId=-1;\n\n        protected override void OnElementChanged(ElementChangedEventArgs&lt;Xamarin.Forms.TabbedPage&gt; e)\n        {\n            base.OnElementChanged(e);\n\n            if (e.NewElement != null)\n            {\n                tabbedPage = e.NewElement as ExtendedTabbedPage;\n                bottomNavigationView = (GetChildAt(0) as Android.Widget.RelativeLayout).GetChildAt(1) as BottomNavigationView;\n                bottomNavigationView.NavigationItemSelected += BottomNavigationView_NavigationItemSelected;\n\n                //Call to change the font\n                ChangeFont();\n            }\n\n            if (e.OldElement != null)\n            {\n                bottomNavigationView.NavigationItemSelected -= BottomNavigationView_NavigationItemSelected;\n            }\n        }\n\n        //Change Tab font\n        void ChangeFont()\n        {\n            var fontFace = Typeface.CreateFromAsset(Context.Assets, \"gilsansultrabold.ttf\");\n            var bottomNavMenuView = bottomNavigationView.GetChildAt(0) as BottomNavigationMenuView;\n\n            for (int i = 0; i &lt; bottomNavMenuView.ChildCount; i++)\n            {\n                var item = bottomNavMenuView.GetChildAt(i) as BottomNavigationItemView;\n                var itemTitle = item.GetChildAt(1);\n\n                var smallTextView = ((TextView)((BaselineLayout)itemTitle).GetChildAt(0));\n                var largeTextView = ((TextView)((BaselineLayout)itemTitle).GetChildAt(1));\n\n                lastItemId = bottomNavMenuView.SelectedItemId;\n\n                smallTextView.SetTypeface(fontFace, TypefaceStyle.Bold);\n                largeTextView.SetTypeface(fontFace, TypefaceStyle.Bold);\n\n                //Set text color\n                var textColor = (item.Id == bottomNavMenuView.SelectedItemId) ? tabbedPage.On&lt;Xamarin.Forms.PlatformConfiguration.Android&gt;().GetBarSelectedItemColor().ToAndroid() : tabbedPage.On&lt;Xamarin.Forms.PlatformConfiguration.Android&gt;().GetBarItemColor().ToAndroid();\n                smallTextView.SetTextColor(textColor);\n                largeTextView.SetTextColor(textColor);\n            }\n        }\n\n        void BottomNavigationView_NavigationItemSelected(object sender, BottomNavigationView.NavigationItemSelectedEventArgs e)\n        {\n            var normalColor = tabbedPage.On&lt;Xamarin.Forms.PlatformConfiguration.Android&gt;().GetBarItemColor().ToAndroid();\n            var selectedColor = tabbedPage.On&lt;Xamarin.Forms.PlatformConfiguration.Android&gt;().GetBarSelectedItemColor().ToAndroid();\n\n            if(lastItemId!=-1)\n            {\n                SetTabItemTextColor(bottomNavMenuView.GetChildAt(lastItemId) as BottomNavigationItemView, normalColor);\n            }\n\n            SetTabItemTextColor(bottomNavMenuView.GetChildAt(e.Item.ItemId) as BottomNavigationItemView, selectedColor);\n\n            this.OnNavigationItemSelected(e.Item);\n            lastItemId = e.Item.ItemId;\n        }\n\n        void SetTabItemTextColor(BottomNavigationItemView bottomNavigationItemView, Android.Graphics.Color textColor)\n        {\n            var itemTitle = bottomNavigationItemView.GetChildAt(1);\n            var smallTextView = ((TextView)((BaselineLayout)itemTitle).GetChildAt(0));\n            var largeTextView = ((TextView)((BaselineLayout)itemTitle).GetChildAt(1));\n\n            smallTextView.SetTextColor(textColor);\n            largeTextView.SetTextColor(textColor);\n        }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 11125939, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-M3CzvJPTCQw/AAAAAAAAAAI/AAAAAAAAABY/-HHygy2j0ew/photo.jpg?sz=128", "display_name": "Charles Aondo", "link": "https://stackoverflow.com/users/11125939/charles-aondo"}, "is_accepted": true, "score": 0, "last_activity_date": 1556208481, "creation_date": 1556208481, "answer_id": 55853494, "question_id": 55836713, "link": "https://stackoverflow.com/questions/55836713/need-help-to-improve-the-appearance-on-xamarin-ios-tab/55853494#55853494", "title": "Need help to improve the appearance on Xamarin iOS tab", "body": "<p>I created a content class for the two pages I wanted to improve on, the map and the memberaboutpage and I instead of using the content page, I did this </p>\n\n<pre><code>   var About = new MemberAboutPage { Title = \"About\" };\n        var layout = new StackLayout();\n\n        var MapTab = new MapPage() { Title = \"Map\" };\n</code></pre>\n\n<p>Then I added the pages to the pages I created and mirrored to the ios rendere page below, this page formats the tabs and makes them more nicer looking and alos prevents the overlapping on iPhone X. Happy Programming Mates</p>\n\n<pre><code>'[assembly: ExportRenderer(typeof(CardPage), typeof(MyiOSTabbedPage))]\n [assembly: ExportRenderer(typeof(LoginPage), typeof(MyiOSTabbedPage))]\n [assembly: ExportRenderer(typeof(MemberAboutPage), typeof(MyiOSTabbedPage))]\n [assembly: ExportRenderer(typeof(MapPage), typeof(MyiOSTabbedPage))]\n namespace CHA.iOS.Renderers\n {\n public class MyiOSTabbedPage : PageRenderer\n{\n    public override void ViewWillLayoutSubviews()\n    {\n        base.ViewWillLayoutSubviews();\n\n        nfloat tabSize = 44.0f;\n\n        UIInterfaceOrientation orientation = UIApplication.SharedApplication.StatusBarOrientation;\n\n        CGRect rect = this.View.Frame;\n        rect.Y = this.NavigationController != null ? tabSize : tabSize + 20;\n        this.View.Frame = rect;\n\n        if (TabBarController != null)\n        {\n            CGRect tabFrame = this.TabBarController.TabBar.Frame;\n            tabFrame.Height = tabSize;\n            tabFrame.Y = this.NavigationController != null ? 0 : 0;\n            this.TabBarController.TabBar.Frame = tabFrame;\n            this.TabBarController.TabBar.BarTintColor = UIColor.FromRGB(234,232,232);\n            var textAttr = new UITextAttributes\n            {\n                Font = UIFont.SystemFontOfSize(20)\n            };\n            var selectedAttr = new UITextAttributes\n            {\n                TextColor = UIColor.FromRGB(63,165,186),\n                Font=UIFont.BoldSystemFontOfSize(20)\n            };\n            foreach (var i in this.TabBarController.TabBar.Items)\n            {\n                i.SetTitleTextAttributes(textAttr, UIControlState.Normal);\n                i.SetTitleTextAttributes(selectedAttr, UIControlState.Selected);\n            }\n        }\n    }\n}'\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 11125939, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-M3CzvJPTCQw/AAAAAAAAAAI/AAAAAAAAABY/-HHygy2j0ew/photo.jpg?sz=128", "display_name": "Charles Aondo", "link": "https://stackoverflow.com/users/11125939/charles-aondo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 711, "favorite_count": 0, "accepted_answer_id": 55853494, "answer_count": 2, "score": 0, "last_activity_date": 1556208481, "creation_date": 1556131720, "last_edit_date": 1556164620, "question_id": 55836713, "link": "https://stackoverflow.com/questions/55836713/need-help-to-improve-the-appearance-on-xamarin-ios-tab", "title": "Need help to improve the appearance on Xamarin iOS tab", "body": "<p>I want to improve the size and background of my content page on ios,</p>\n\n<pre><code>var About = new ContentPage() { Title = \"About\" };\nvar layout = new StackLayout();\nvar line1 = new Label() { Text = viewModel.Member.Line1, FontSize = 16, HorizontalTextAlignment = TextAlignment.Center };\nvar MapTab = new ContentPage() {Title = \"Map\"};\n</code></pre>\n\n<p>Android:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3lPIN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3lPIN.png\" alt=\"enter image description here\"></a></p>\n\n<p>The title of the content page appears very small on ios and not visible. I need help in trying to improve the looks and make it bigger.</p>\n"}, {"tags": ["c#", "api", "visual-studio-2017"], "comments": [{"owner": {"reputation": 6932, "user_id": 5508690, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb04f4c67b318350f299f4adbd05fed7?s=128&d=identicon&r=PG&f=1", "display_name": "Steven B.", "link": "https://stackoverflow.com/users/5508690/steven-b"}, "edited": false, "score": 3, "creation_date": 1556131477, "post_id": 55836614, "comment_id": 98337569, "body": "You need to set the port in IIS"}, {"owner": {"reputation": 1171, "user_id": 5022812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6be5e79bf480b95edc5ce5cbb7c7db?s=128&d=identicon&r=PG&f=1", "display_name": "hassan.ef", "link": "https://stackoverflow.com/users/5022812/hassan-ef"}, "edited": false, "score": 0, "creation_date": 1556131622, "post_id": 55836614, "comment_id": 98337625, "body": "This link help to you if you want change port on IIS:<a href=\"https://www.codeproject.com/articles/708718/how-to-change-default-port-of-iis-manager-from\" rel=\"nofollow noreferrer\">codeproject.com/articles/708718/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11146, "user_id": 256728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4053f39568efcbe9d5a92bdc70457c5?s=128&d=identicon&r=PG", "display_name": "Black Frog", "link": "https://stackoverflow.com/users/256728/black-frog"}, "is_accepted": false, "score": 2, "last_activity_date": 1556185204, "last_edit_date": 1556185204, "creation_date": 1556132149, "answer_id": 55836818, "question_id": 55836614, "link": "https://stackoverflow.com/questions/55836614/id-like-to-set-a-specific-port-number-for-visual-studio-2017-api-project/55836818#55836818", "title": "I&#39;d like to set a specific port number for visual studio 2017 API project", "body": "<p>That port number <code>1002</code> is not common port.  If you are hosting the app in IIS, you will need to add the port number to the site in IIS.  You can have multiple site listening on different port in IIS.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pyjW0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pyjW0.png\" alt=\"SonarQube\"></a></p>\n"}], "owner": {"reputation": 99, "user_id": 7499651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8cfdcc2214cae229322d1d5c150e23?s=128&d=identicon&r=PG&f=1", "display_name": "Joth", "link": "https://stackoverflow.com/users/7499651/joth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556185204, "creation_date": 1556131285, "question_id": 55836614, "link": "https://stackoverflow.com/questions/55836614/id-like-to-set-a-specific-port-number-for-visual-studio-2017-api-project", "title": "I&#39;d like to set a specific port number for visual studio 2017 API project", "body": "<p>How can I set my API listen to port 1002?<br>\nIn my vs2017 API project, I set the Project URL in the Project Properties to <a href=\"http://localhost:1002/\" rel=\"nofollow noreferrer\">http://localhost:1002/</a><br>\n<a href=\"https://i.stack.imgur.com/EPypp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EPypp.png\" alt=\"enter image description here\"></a>\nThis works when debugging, but when I publish the project to a server, the port is no longer valid.     </p>\n"}, {"tags": ["c#", ".net-core", "akka.net"], "comments": [{"owner": {"reputation": 7264, "user_id": 146452, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/55e2e2dbef238cbc9d9a3b914b9a65a5?s=128&d=identicon&r=PG", "display_name": "mclark1129", "link": "https://stackoverflow.com/users/146452/mclark1129"}, "edited": false, "score": 1, "creation_date": 1556132415, "post_id": 55836581, "comment_id": 98337981, "body": "I think you might want to look at <code>Inbox</code>: <a href=\"https://getakka.net/articles/actors/inbox.html\" rel=\"nofollow noreferrer\">getakka.net/articles/actors/inbox.html</a>"}, {"owner": {"reputation": 211, "user_id": 535069, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c0374119bb0dbf8b0741bbb6572108?s=128&d=identicon&r=PG&f=1", "display_name": "Gautam T Goudar", "link": "https://stackoverflow.com/users/535069/gautam-t-goudar"}, "reply_to_user": {"reputation": 7264, "user_id": 146452, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/55e2e2dbef238cbc9d9a3b914b9a65a5?s=128&d=identicon&r=PG", "display_name": "mclark1129", "link": "https://stackoverflow.com/users/146452/mclark1129"}, "edited": false, "score": 0, "creation_date": 1556169134, "post_id": 55836581, "comment_id": 98347150, "body": "Thank you very much.  &quot;Inbox&quot; works for me.  As documented in the link above  &quot;Ask&quot; does not receive multiple replies."}, {"owner": {"reputation": 26019, "user_id": 151084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/708ad100951fa559d901d5ecaa8fefff?s=128&d=identicon&r=PG", "display_name": "Phil Sandler", "link": "https://stackoverflow.com/users/151084/phil-sandler"}, "reply_to_user": {"reputation": 7264, "user_id": 146452, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/55e2e2dbef238cbc9d9a3b914b9a65a5?s=128&d=identicon&r=PG", "display_name": "mclark1129", "link": "https://stackoverflow.com/users/146452/mclark1129"}, "edited": false, "score": 0, "creation_date": 1556653882, "post_id": 55836581, "comment_id": 98509215, "body": "@mclark1129 you should post that as an answer!"}, {"owner": {"reputation": 7264, "user_id": 146452, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/55e2e2dbef238cbc9d9a3b914b9a65a5?s=128&d=identicon&r=PG", "display_name": "mclark1129", "link": "https://stackoverflow.com/users/146452/mclark1129"}, "edited": false, "score": 0, "creation_date": 1556808919, "post_id": 55836581, "comment_id": 98562054, "body": "@GautamTGoudar I added this comment as an answer if you wouldn&#39;t mind accepting it!"}], "answers": [{"tags": [], "owner": {"reputation": 7264, "user_id": 146452, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/55e2e2dbef238cbc9d9a3b914b9a65a5?s=128&d=identicon&r=PG", "display_name": "mclark1129", "link": "https://stackoverflow.com/users/146452/mclark1129"}, "is_accepted": true, "score": 0, "last_activity_date": 1556808897, "creation_date": 1556808897, "answer_id": 55955110, "question_id": 55836581, "link": "https://stackoverflow.com/questions/55836581/calling-akka-net-actor-from-function-and-get-back-acknowledgement/55955110#55955110", "title": "Calling Akka.Net Actor from function and get back Acknowledgement", "body": "<p>According to <a href=\"https://getakka.net/articles/actors/inbox.html\" rel=\"nofollow noreferrer\">https://getakka.net/articles/actors/inbox.html</a>, you should be able to use the <code>Inbox</code> class to interact with actors from outside the actor system.</p>\n\n<pre><code>var target = system.ActorOf(Props.Empty);\nvar inbox = Inbox.Create(system);\n\ninbox.Send(target, \"hello\");\n\ntry\n{\n    inbox.Receive(TimeSpan.FromSeconds(1)).Equals(\"world\");\n}\ncatch (TimeoutException)\n{\n    // timeout\n}\n</code></pre>\n"}], "owner": {"reputation": 211, "user_id": 535069, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9c0374119bb0dbf8b0741bbb6572108?s=128&d=identicon&r=PG&f=1", "display_name": "Gautam T Goudar", "link": "https://stackoverflow.com/users/535069/gautam-t-goudar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 55955110, "answer_count": 1, "score": 2, "last_activity_date": 1556808897, "creation_date": 1556131093, "question_id": 55836581, "link": "https://stackoverflow.com/questions/55836581/calling-akka-net-actor-from-function-and-get-back-acknowledgement", "title": "Calling Akka.Net Actor from function and get back Acknowledgement", "body": "<ol>\n<li><p>I have an actor system with a supervisor actor implemented in the domain that is being called from outside the domain</p></li>\n<li><p>The function invoking the supervisor actor has to wait till the response is received from supervisor in order to take the next step</p></li>\n<li><p>Using Tell this won't be possible.  Using Ask, how can the supervisor actor send the message back to the calling function?</p></li>\n</ol>\n\n<p>I have used \"Ask\" but since there is no actor invoking the supervisor actor, nothing is returned</p>\n\n<pre><code>var result = await supervisorActor.Ask(msg);\n</code></pre>\n\n<p>Inside the supervisor actor to return back ack (this is not working)</p>\n\n<pre><code>private Unit Handle(Unit msg)\n        =&gt; msg;\n</code></pre>\n"}, {"tags": ["javascript", "c#", "jquery", "ajax", "asp.net-mvc"], "answers": [{"tags": [], "owner": {"reputation": 178, "user_id": 2246274, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e5531ad8fc669f90c5583a60d0039647?s=128&d=identicon&r=PG", "display_name": "sourkrause", "link": "https://stackoverflow.com/users/2246274/sourkrause"}, "is_accepted": true, "score": 1, "last_activity_date": 1556135061, "last_edit_date": 1556135061, "creation_date": 1556134592, "answer_id": 55837369, "question_id": 55836551, "link": "https://stackoverflow.com/questions/55836551/mvc-5-after-setting-a-dropdown-option-to-selected-on-document-ready-why-does/55837369#55837369", "title": "MVC 5 - After setting a dropdown option to selected on document ready, why does it get reset?", "body": "<p>The code after your call to FillLocations is running before FillLocations() is finished and has populated the select.  Try moving the code into the ajax success function like so:</p>\n\n<pre><code>$(document).ready(function () {\n    FillLocations();\n});\n\nfunction FillLocations() {\n    var selectedFacility = $(\"#Facility\").val();\n\n    if ($('#Usage_Status').val() == 2) {\n        $.ajax({\n            type: \"Post\",\n            url: \"@Url.Action(\"GetLocations\", \"Item\")\",\n            data: { Facility: selectedFacility },\n            dataType: 'json',\n            success: function (data) {\n                var loc = $('#Location').val();\n                //Clear dropdown data and add new values using ajax\n                $('#Location').empty();\n                $('#Location').append('&lt;option value=\"\"&gt;&lt;/option&gt;');\n                for (var i = 0; i &lt; data.length; i++) {\n                    $('#Location').append('&lt;option value=\"' + data[i].Value + '\"&gt;' + data[i].Text + '&lt;/option &gt; ');\n                }\n                $(\"#Location option\").each(function () {\n                    if ($(this).attr(\"value\") == loc) {\n                        $(this).prop('selected', true);\n                        alert(\"The selection is there.\");\n                    }\n                });\n            }\n        });\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 8320640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbb3ffd1efb18cc38c50070b611dbf41?s=128&d=identicon&r=PG&f=1", "display_name": "sjohn285", "link": "https://stackoverflow.com/users/8320640/sjohn285"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 55837369, "answer_count": 1, "score": 0, "last_activity_date": 1556135061, "creation_date": 1556130997, "last_edit_date": 1556132229, "question_id": 55836551, "link": "https://stackoverflow.com/questions/55836551/mvc-5-after-setting-a-dropdown-option-to-selected-on-document-ready-why-does", "title": "MVC 5 - After setting a dropdown option to selected on document ready, why does it get reset?", "body": "<p>In my MVC 5 application, I am trying to choose a selection from a dropdown on document ready.  This is on an edit view that gets populated with values depending on the chosen item.  The <code>FillLocations</code> function is basically a way to fill up the <code>Location</code> dropdown with values depending on which facility is selected.  I set up an alert to pop up to confirm that there is the selection I am trying to make in the list of options, and it works as expected. I even see the option being selected for a very quick moment before it chooses the empty default option.</p>\n\n<p><strong>JavaScript:</strong></p>\n\n<pre><code>$(document).ready(function () {\n    if ($('#Location').val() == \"\") {\n        FillLocations();\n    } else {\n        var loc = $('#Location option:selected').text();\n        FillLocations();\n        $(\"#Location option\").each(function () {\n            if ($(\"#Location\").text() == loc) {\n                $(\"#Location\").attr('selected', true);\n                alert(\"The selection is there.\");\n            }\n        });\n    }\n});\n\nfunction FillLocations() {\n    var selectedFacility = $(\"#Facility\").val();\n\n    if ($('#Usage_Status').val() == 2) {\n        $.ajax({\n            type: \"Post\",\n            url: \"@Url.Action(\"GetLocations\", \"Item\")\",\n            data: { Facility: selectedFacility },\n            dataType: 'json',\n            success: function (data) {\n                //Clear dropdown data and add new values using ajax\n                $('#Location').empty();\n                $('#Location').append('&lt;option value=\"\"&gt;&lt;/option&gt;');\n                for (var i = 0; i &lt; data.length; i++) {\n                    $('#Location').append('&lt;option value=\"' + data[i].Value + '\"&gt;' + data[i].Text + '&lt;/option &gt; ');\n                }\n            }\n        });\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-web-api", "jwt", "asp.net-identity"], "comments": [{"owner": {"reputation": 3377, "user_id": 2348125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vc2jx.png?s=128&g=1", "display_name": "rad", "link": "https://stackoverflow.com/users/2348125/rad"}, "edited": false, "score": 0, "creation_date": 1556131355, "post_id": 55836544, "comment_id": 98337512, "body": "You are supposed to add claims to the token when creating the token, so please share the part of the code that generates the token."}, {"owner": {"reputation": 414, "user_id": 10040604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eca5da2f50a7defc5ca37b35a8df4411?s=128&d=identicon&r=PG&f=1", "display_name": "MustKillBill", "link": "https://stackoverflow.com/users/10040604/mustkillbill"}, "reply_to_user": {"reputation": 3377, "user_id": 2348125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vc2jx.png?s=128&g=1", "display_name": "rad", "link": "https://stackoverflow.com/users/2348125/rad"}, "edited": false, "score": 0, "creation_date": 1556131440, "post_id": 55836544, "comment_id": 98337554, "body": "@rad That is irrelevant right now. I would like to start with at least adding a manual Role and being able to authorize the user with it."}], "answers": [{"comments": [{"owner": {"reputation": 414, "user_id": 10040604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eca5da2f50a7defc5ca37b35a8df4411?s=128&d=identicon&r=PG&f=1", "display_name": "MustKillBill", "link": "https://stackoverflow.com/users/10040604/mustkillbill"}, "edited": false, "score": 0, "creation_date": 1556140694, "post_id": 55837684, "comment_id": 98341331, "body": "Still no luck, however if I remove the <code>Authorize</code> tag from the controller I am able to see the claim in the Principal.Identity but it still returns unauthorized."}, {"owner": {"reputation": 1, "user_id": 9046906, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-o4tTPb5s72Q/AAAAAAAAAAI/AAAAAAAAABU/zL8YqW-axJQ/photo.jpg?sz=128", "display_name": "Pallab Banerjee", "link": "https://stackoverflow.com/users/9046906/pallab-banerjee"}, "reply_to_user": {"reputation": 414, "user_id": 10040604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eca5da2f50a7defc5ca37b35a8df4411?s=128&d=identicon&r=PG&f=1", "display_name": "MustKillBill", "link": "https://stackoverflow.com/users/10040604/mustkillbill"}, "edited": false, "score": 0, "creation_date": 1556290454, "post_id": 55837684, "comment_id": 98400279, "body": "can you debug and check whether the &quot;Admin&quot; role is properly getting added in the current principal or not?"}], "tags": [], "owner": {"reputation": 1, "user_id": 9046906, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-o4tTPb5s72Q/AAAAAAAAAAI/AAAAAAAAABU/zL8YqW-axJQ/photo.jpg?sz=128", "display_name": "Pallab Banerjee", "link": "https://stackoverflow.com/users/9046906/pallab-banerjee"}, "is_accepted": false, "score": 0, "last_activity_date": 1556137192, "last_edit_date": 1556137192, "creation_date": 1556135896, "answer_id": 55837684, "question_id": 55836544, "link": "https://stackoverflow.com/questions/55836544/c-how-to-add-user-claims-roles-from-jwt-on-web-api-2/55837684#55837684", "title": "C# - How to add user claims/roles from JWT on Web API 2", "body": "<p>I think you need to add identity in current principal:</p>\n\n<pre><code>var userNameClaim = new Claim(ClaimTypes.Name, appID);\n\nvar identity = new ClaimsIdentity(new[] { userNameClaim }, \"Admin\");\n\nvar principal = new ClaimsPrincipal(identity);\n\nThread.CurrentPrincipal = principal;\n\nif (System.Web.HttpContext.Current != null)\n{\n    System.Web.HttpContext.Current.User = principal;\n}\n</code></pre>\n"}], "owner": {"reputation": 414, "user_id": 10040604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eca5da2f50a7defc5ca37b35a8df4411?s=128&d=identicon&r=PG&f=1", "display_name": "MustKillBill", "link": "https://stackoverflow.com/users/10040604/mustkillbill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 948, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1556137192, "creation_date": 1556130975, "last_edit_date": 1556132610, "question_id": 55836544, "link": "https://stackoverflow.com/questions/55836544/c-how-to-add-user-claims-roles-from-jwt-on-web-api-2", "title": "C# - How to add user claims/roles from JWT on Web API 2", "body": "<p>I am trying to setup client authorization in my application. My final objective is to make an HTTP request to an API that will return a list of claims for given user. Unfortunately I can't seem to figure out how to add claims to the Claims Identity.</p>\n\n<p>Here's what I am trying in the <code>Global.asax</code>:</p>\n\n<pre><code>protected void Application_AuthenticateRequest(Object sender, EventArgs e)\n{\n    if (HttpContext.Current.User != null)\n    {\n        if (HttpContext.Current.User.Identity.IsAuthenticated)\n        {\n            var claimsIdentity = (ClaimsIdentity)HttpContext.Current.User.Identity;\n            var identity = new ClaimsIdentity(claimsIdentity);\n            identity.AddClaim(new Claim(ClaimTypes.Role, \"Admin\"));\n        }\n    }\n}\n</code></pre>\n\n<p>Then in my controller:</p>\n\n<pre><code>[HttpGet]\n[Route(\"test\")]\n[Authorize(Roles = (\"Admin\"))]\npublic IHttpActionResult GetClaims()\n{\n    return Ok(\"Success\");\n}\n</code></pre>\n\n<p>And finally this is the response <code>401 - Unauthorized</code>:</p>\n\n<pre><code>{\n    \"message\": \"Authorization has been denied for this request.\"\n}\n</code></pre>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1556130835, "post_id": 55836481, "comment_id": 98337297, "body": "You really shouldn&#39;t be iterating an arbitrary <code>IEnumerable</code> provided as input like that.  You don&#39;t know if it&#39;s expensive to iterate multiple times, produces different results when iterated multiple times, errors when iterated multiple times, etc."}, {"owner": {"reputation": 438, "user_id": 10009933, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OGd_Vbs_T8k/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3q-tjXIFhWEfsFF_KgmlVErNuJhw/mo/photo.jpg?sz=128", "display_name": "Haktan Enes Bi&#231;er", "link": "https://stackoverflow.com/users/10009933/haktan-enes-bi%c3%a7er"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1556131158, "post_id": 55836481, "comment_id": 98337432, "body": "I am agree with you but this was an interview question. My code-writing way stuck in my mind."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1556131420, "post_id": 55836481, "comment_id": 98337548, "body": "What is <code>QueryResult</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 4490, "user_id": 3416551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1tRdb.png?s=128&g=1", "display_name": "pwilcox", "link": "https://stackoverflow.com/users/3416551/pwilcox"}, "reply_to_user": {"reputation": 438, "user_id": 10009933, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OGd_Vbs_T8k/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3q-tjXIFhWEfsFF_KgmlVErNuJhw/mo/photo.jpg?sz=128", "display_name": "Haktan Enes Bi&#231;er", "link": "https://stackoverflow.com/users/10009933/haktan-enes-bi%c3%a7er"}, "edited": false, "score": 0, "creation_date": 1556132131, "post_id": 55836714, "comment_id": 98337846, "body": "I find that coding can get difficult when dealing with nesting or recursion.  In this case, doing a select inside a where statement can throw you off.  So definitely search out these kinds of puzzles to hone in your skills for future job interviews."}, {"owner": {"reputation": 438, "user_id": 10009933, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OGd_Vbs_T8k/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3q-tjXIFhWEfsFF_KgmlVErNuJhw/mo/photo.jpg?sz=128", "display_name": "Haktan Enes Bi&#231;er", "link": "https://stackoverflow.com/users/10009933/haktan-enes-bi%c3%a7er"}, "edited": false, "score": 0, "creation_date": 1556132456, "post_id": 55836714, "comment_id": 98337998, "body": "You are absolutely right. That&#39;s why I&#39;m trying to improve my code writing skills. My code also worked but i had to know the better way. I&#39;m really happy right now thanks again."}, {"owner": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "edited": false, "score": 0, "creation_date": 1556190682, "post_id": 55836714, "comment_id": 98357793, "body": "Instead of using Count() to see if there is only one item, consider using <code>.Take(2).Count() == 1</code>,  This way you don&#39;t have to Count all 1000 bicycles that someone bought. At the 2nd bicycle you already know there is more than one. Even more efficient: <code>Where not ... .Skip(1).Any()</code>"}, {"owner": {"reputation": 4490, "user_id": 3416551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1tRdb.png?s=128&g=1", "display_name": "pwilcox", "link": "https://stackoverflow.com/users/3416551/pwilcox"}, "reply_to_user": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "edited": false, "score": 0, "creation_date": 1556210294, "post_id": 55836714, "comment_id": 98369517, "body": "@HaraldCoppoolse, you&#39;ve inspired me to append a new version.  Wondering about your thoughts on it."}, {"owner": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "edited": false, "score": 0, "creation_date": 1556273521, "post_id": 55836714, "comment_id": 98390834, "body": "The use of <code>Aggregate</code> is nice, but be aware that this only works <code>AsEnumerable</code>. <code>Querayble.Aggregate</code> is not supported by entity framework"}, {"owner": {"reputation": 438, "user_id": 10009933, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OGd_Vbs_T8k/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3q-tjXIFhWEfsFF_KgmlVErNuJhw/mo/photo.jpg?sz=128", "display_name": "Haktan Enes Bi&#231;er", "link": "https://stackoverflow.com/users/10009933/haktan-enes-bi%c3%a7er"}, "reply_to_user": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "edited": false, "score": 0, "creation_date": 1556785906, "post_id": 55836714, "comment_id": 98549572, "body": "@HaraldCoppoolse @pwilcox  I combined both of yours solutions.`    IEnumerable&lt;A&gt; result =                       foos                       .GroupBy(foo =&gt; foo.ID)                       .Where(group =&gt; !group.Select(foo =&gt; foo.Color).Distinct().Skip(1).Any())                       .Select(group =&gt; group.First());` I am trying to understand more working mechanizim of linq.This solutions are help me a lot."}], "tags": [], "owner": {"reputation": 4490, "user_id": 3416551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1tRdb.png?s=128&g=1", "display_name": "pwilcox", "link": "https://stackoverflow.com/users/3416551/pwilcox"}, "is_accepted": true, "score": 1, "last_activity_date": 1556210696, "last_edit_date": 1556210696, "creation_date": 1556131728, "answer_id": 55836714, "question_id": 55836481, "link": "https://stackoverflow.com/questions/55836481/how-to-get-only-pure-records-without-using-loop-declarative-way/55836714#55836714", "title": "How to get only pure records without using loop declarative way", "body": "<p>Using Linq, group by each person, get a distinct count of each bicycle color, and select the first (only) item from each group where the count is 1.</p>\n\n<pre><code>IEnumerable&lt;Foo&gt; result = \n    foos\n    .GroupBy(foo =&gt; foo.PeopleID)\n    .Where(group =&gt; group.Select(foo =&gt; foo.Bicycle).Distinct().Count() == 1)\n    .Select(group =&gt; group.First());\n</code></pre>\n\n<p>Output it like this:</p>\n\n<pre><code>foreach(var foo in result) {\n    Console.WriteLine($\"PeopleId:{foo.PeopleID}, Bicycle:{foo.Bicycle}\");\n}\n</code></pre>\n\n<p><hr/>\n<b>Edit</b></p>\n\n<p>In the comments, Harald Coppoolse recommends inserting .Take(2) before taking the count in the where statement.  This would be more efficient because .Count() will have to enumerate the whole collection to get the size (unless it implements ICollection).  He also gives a second approach that is even more efficient.  </p>\n\n<p>However, while we're at it, I figure I minus well go farther and condense the nested Select and Distinct methods into a single aggregation, with a result that need not be re-iterated to determine if there are duplicates or not.  </p>\n\n<pre><code>foos\n    .GroupBy(foo =&gt; foo.PeopleID)\n    .Where(group =&gt; group.Aggregate((a,b) =&gt; a?.Bicycle == b.Bicycle ? a : null) != null)\n    .Select(group =&gt; group.First());\n</code></pre>\n\n<p>Of course, this is all just for better understanding.  Certainly wrap your head around the original version first before you learn about the Aggregate method, the terneray operator, and the null conditional operator.</p>\n\n<p>By the way.  I failed to mention before that if performance is more important than readability or code elegance, then don't run away from for loops.  The code above could be made more efficient still without that restriction.</p>\n"}], "owner": {"reputation": 438, "user_id": 10009933, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OGd_Vbs_T8k/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3q-tjXIFhWEfsFF_KgmlVErNuJhw/mo/photo.jpg?sz=128", "display_name": "Haktan Enes Bi&#231;er", "link": "https://stackoverflow.com/users/10009933/haktan-enes-bi%c3%a7er"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 55836714, "answer_count": 1, "score": 0, "last_activity_date": 1556210696, "creation_date": 1556130722, "question_id": 55836481, "link": "https://stackoverflow.com/questions/55836481/how-to-get-only-pure-records-without-using-loop-declarative-way", "title": "How to get only pure records without using loop declarative way", "body": "<p>I have a some people who buy bicycles.\nTable looks like</p>\n\n<blockquote>\n<pre><code>PeopleID Bicycle\n\n1         Green\n\n1         Yellow\n\n2         Red\n\n2         Red\n\n3         Green\n\n3         Red\n\n3         Yellow\n</code></pre>\n</blockquote>\n\n<p>I want to get the users who buyed only same bike.\nOutput must be for this example because the PeopleID 2 has no other color bike</p>\n\n<blockquote>\n  <p>2 red</p>\n</blockquote>\n\n<p>The class is     </p>\n\n<pre><code> class Foo\n    {\n        public String PeopleID { get; set; }\n        public String Bicycle { get; set; }\n    }\n</code></pre>\n\n<p>And function is</p>\n\n<pre><code>static void WhoBuyedSameBike(IEnumerable&lt;Foo&gt; foos) \n    {\n        var tmpFoos = foos;\n        var result = tmpFoos.GroupBy(x =&gt; x.PeopleID);\n        var queryResult = new List&lt;QueryResult&gt;();\n        foreach (var fooItem in result)\n        {\n            if (fooItem.Count() == tmpFoos.Count(w =&gt; w.PeopleID == fooItem.Key &amp;&amp; w.Bicycle == \"Red\"))\n            {\n                queryResult.Add(new QueryResult { PeopleID = fooItem.Key });\n            }\n\n        }\n        foreach (var item in queryResult)\n        {\n            Console.WriteLine($\"PeopleId : {item.PeopleID}\");\n        }\n    }\n</code></pre>\n\n<p>Is there any other way to get that output with  not using foreach loop with Linq for more declarative code? </p>\n"}, {"tags": ["c#", "xml", "xsd"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1556133711, "post_id": 55836275, "comment_id": 98338532, "body": "Why pass data at all?  Just use the database to transfer data.  One application can store data as ID 123456 then just pass ID to other application and let other application pull data by ID 123456."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4925957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fbcc22794e2efd327470e84c687052a?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/4925957/aaron"}, "is_accepted": true, "score": 0, "last_activity_date": 1557852386, "creation_date": 1557852386, "answer_id": 56135075, "question_id": 55836275, "link": "https://stackoverflow.com/questions/55836275/hoping-for-easy-filling-of-classes-generated-from-an-xsd-where-the-dataset-has/56135075#56135075", "title": "Hoping for easy filling of classes generated from an XSD, where the DataSet has a different schema", "body": "<p>We decided on a combination of Idea 1 and Idea 2.<br>\nThe XSD generated classes number 2300 +, which will be used to generate a filled root object that we can pass to XmlSerializer class. It will generate the xml we need to pass to the 3rd party tool. </p>\n\n<p>The xml root and top 2 levels of class objects are going to be generated with the Builder and Factory Design patterns. We will be using copies of the generated partial classes to add functionality, through interfaces or base classes.  </p>\n\n<pre><code>[System.CodeDom.Compiler.GeneratedCodeAttribute(\"xsd\", \"4.6.1055.0\")]\n[System.SerializableAttribute()]\n[System.Diagnostics.DebuggerStepThroughAttribute()]\n[System.ComponentModel.DesignerCategoryAttribute(\"code\")]\n[System.Xml.Serialization.XmlTypeAttribute(Namespace = \"http://temp\")]\n[System.Xml.Serialization.XmlRootAttribute(\"NumberType\", Namespace = \"http://temp\", IsNullable = false)]    \npublic partial class IdGroup\n{\n\n    private string idField;\n\n    private string valueField;\n\n    /// &lt;remarks/&gt;\n    [System.Xml.Serialization.XmlAttributeAttribute()]\n    public string id\n    {\n        get\n        {\n            return this.idField;\n        }\n        set\n        {\n            this.idField = value;\n        }\n    }\n\n    /// &lt;remarks/&gt;\n    [System.Xml.Serialization.XmlTextAttribute()]\n    [CustomPropertyAttribute(\"TableName\", \"ColumnName\", Level2Type)]\n    [CustomPropertyAttribute(\"AltTableName\", \"AltColumnName\", AltLevel2Type)]\n    public string Value\n    {\n        get\n        {\n            return this.valueField;\n        }\n        set\n        {\n            this.valueField = value;\n        }\n    }\n}\n\npublic partial class IdGroup : IExtendFunctionality\n{ }\n</code></pre>\n\n<p>I realized that this question is rather open to interpretation and so was probably not a very good question. I apologize for this.</p>\n\n<p>Thanks for everyone who stopped by to take look. </p>\n"}], "owner": {"reputation": 1, "user_id": 4925957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fbcc22794e2efd327470e84c687052a?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/4925957/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 56135075, "answer_count": 1, "score": 0, "last_activity_date": 1557852386, "creation_date": 1556129777, "last_edit_date": 1556198993, "question_id": 55836275, "link": "https://stackoverflow.com/questions/55836275/hoping-for-easy-filling-of-classes-generated-from-an-xsd-where-the-dataset-has", "title": "Hoping for easy filling of classes generated from an XSD, where the DataSet has a different schema", "body": "<p>I have data in a database in one schema that I need to turn into XML of another schema. </p>\n\n<p>The XML is a 3rd party proprietary message / response system. We have access to a help document that gives a breakdown of all the entities and complex types and we have XSD documents. There are potentially hundreds of different XML document request variations as the 2nd and 3rd level elements contain choice indicators ranging from 2- 200. </p>\n\n<p>The current method that has been employed is a brute force approach - query to get all the data into a DataSet object then (using the help document) manually generate the XML by concatenating the data into a string. This approach works for the 2 or 3 variations that we needed. </p>\n\n<p>Now that we want to support more variations we are wanting to move away from the brute force approach. We are also several versions behind, yet using the most supported version, and would like to approach a resolution with scalability in mind. </p>\n\n<p><strong>What have we done?</strong> \nWe generated the classes from the XSD document which gave us 2300 + partial classes. I started developing a library of filling methods for each class object that uses a coordinate object (table, column, row properties) to the specific data in the DataSet. But realizing, that we would need to go over the data to fill the coordinate objects, the question arises \n - Why not just fill the actual xml object at that time? </p>\n\n<p>It would be less of an issue if each of the dataset tables were able to be mapped to a single XML object however the data for a single object is likely spread over multiple tables.</p>\n\n<pre><code>Idea 1\n</code></pre>\n\n<p>Lately, I have been thinking of a more Factory / Builder combination to create / fill the xml objects. </p>\n\n<pre><code>Idea 2\n</code></pre>\n\n<p>Another idea I had was to incorporate a property attribute system that has the tablename, columnname - this runs into an issue when the same xml object gets an identical property from 2 different locations in the DataSet based on 2nd or 3rd level element choice. Could always add another designator (choice type?) and then have multiple attributes on a property.</p>\n\n<pre><code>Idea 3\n</code></pre>\n\n<p>Another consideration is rewriting the stored procedure to retrieve the data in correct tables-to-objects, the issue that I have with this is moving logic from code to SQL. It really just puts the problem in a different area of the application.</p>\n\n<p>Third party solutions are not entirely out of the question. I am looking for suggestions of how to approach this problem. </p>\n\n<p>UPDATE:\nThe XML that is generated is written to a file and then consumed by a 3rd party application. </p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1556130137, "post_id": 55836272, "comment_id": 98336970, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/method-based-query-syntax-examples-join-linq-to-dataset#join\" rel=\"nofollow noreferrer\">Equi-join</a> and <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/linq/perform-left-outer-joins\" rel=\"nofollow noreferrer\">left join</a>."}, {"owner": {"reputation": 11253, "user_id": 5045688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87aed06c947625b429242fbcdf11f5e0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Petrov", "link": "https://stackoverflow.com/users/5045688/alexander-petrov"}, "edited": false, "score": 1, "creation_date": 1556130675, "post_id": 55836272, "comment_id": 98337207, "body": "If you need two resulting lists, use a normal for/foreach loop. Fill both in one pass."}, {"owner": {"reputation": 919, "user_id": 2088245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gTsG0.jpg?s=128&g=1", "display_name": "Kevbo", "link": "https://stackoverflow.com/users/2088245/kevbo"}, "edited": false, "score": 0, "creation_date": 1556130855, "post_id": 55836272, "comment_id": 98337311, "body": "look into the Intersect method of the List Class.  this will return common elements in 2 lists and return the results in a new list."}, {"owner": {"reputation": 688, "user_id": 10802369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCJuI.jpg?s=128&g=1", "display_name": "TheBatman", "link": "https://stackoverflow.com/users/10802369/thebatman"}, "edited": false, "score": 0, "creation_date": 1556131937, "post_id": 55836272, "comment_id": 98337758, "body": "First I would get a list of all <code>Car</code> objects which match using LINQ. Then you can use <code>List.Contains(item) == false</code> in a loop"}, {"owner": {"reputation": 8283, "user_id": 1789202, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Tld8r.jpg?s=128&g=1", "display_name": "CSharpie", "link": "https://stackoverflow.com/users/1789202/csharpie"}, "edited": false, "score": 0, "creation_date": 1556132592, "post_id": 55836272, "comment_id": 98338065, "body": "Should&#39;nt absent be utilizing <code>Any</code> instead of <code>All</code>"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1556149372, "post_id": 55836272, "comment_id": 98343479, "body": "Your statement of the present and absent seems ambiguous, based on your code I assume you want to split the <code>newCars</code> list into cars present in <code>oldCars</code> and cars absent from <code>oldCars</code>, in which case you should have <code>Any</code> instead of <code>All</code> - obviously <code>oldCars.All</code> will only be true if <code>oldCars</code> contains one car."}], "answers": [{"tags": [], "owner": {"reputation": 3419, "user_id": 3715778, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ecfe74090d7f2a9ba912f65ae33f83be?s=128&d=identicon&r=PG&f=1", "display_name": "koryakinp", "link": "https://stackoverflow.com/users/3715778/koryakinp"}, "is_accepted": true, "score": 0, "last_activity_date": 1556130792, "creation_date": 1556130792, "answer_id": 55836501, "question_id": 55836272, "link": "https://stackoverflow.com/questions/55836272/compare-list-in-linq-and-return-2-result-objects/55836501#55836501", "title": "Compare list in LINQ and return 2 result objects", "body": "<p>You can create custom <code>IEqualityComparer</code>:</p>\n\n<pre><code>public class CarEqualityComparer : IEqualityComparer&lt;Car&gt;\n{\n    public bool Equals(Car x, Car y)\n    {\n        return x.Id == y.Id;\n    }\n\n    public int GetHashCode(Car obj)\n    {\n        return obj.Id.GetHashCode();\n    }\n}\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>var present = newCars.Intersect(oldCars, new CarEqualityComparer());\nvar absent = newCars.Except(oldCars, new CarEqualityComparer());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14120, "user_id": 844872, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/15cf8e9490ec58e8449f3f05d1c87667?s=128&d=identicon&r=PG", "display_name": "Illep", "link": "https://stackoverflow.com/users/844872/illep"}, "edited": false, "score": 0, "creation_date": 1556153669, "post_id": 55836547, "comment_id": 98344164, "body": "What if I need to Check not only the Id of the car, but also the registrationNumber. Is there a way to have 2 conditions in your Select ?"}], "tags": [], "owner": {"reputation": 3377, "user_id": 2348125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vc2jx.png?s=128&g=1", "display_name": "rad", "link": "https://stackoverflow.com/users/2348125/rad"}, "is_accepted": false, "score": 0, "last_activity_date": 1556130981, "creation_date": 1556130981, "answer_id": 55836547, "question_id": 55836272, "link": "https://stackoverflow.com/questions/55836272/compare-list-in-linq-and-return-2-result-objects/55836547#55836547", "title": "Compare list in LINQ and return 2 result objects", "body": "<p>You can utilize an anonymous variable containing the two lists:  </p>\n\n<pre><code>var res = new\n{\n    present = newCars.Where(n =&gt; oldCars.Select(o =&gt; o.Id).Contains(n.Id)), // present if the old cars list contains the id from the new list\n    absent = newCars.Where(n =&gt; !oldCars.Select(o =&gt; o.Id).Contains(n.Id)) // absent if the old cars list does not contain the id from the new list\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1556133642, "post_id": 55837108, "comment_id": 98338508, "body": "I would suggest putting a <code>ToList</code> on the final <code>select</code> so that <code>g.Select</code> is processed once during the query. Also, I think your first query is missing something: doesn&#39;t <code>from oc.DefaultIfEmpty()</code> needs a range variable? And you use <code>n</code> and <code>newcar</code> as the same range variable."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1556136313, "post_id": 55837108, "comment_id": 98339592, "body": "What about the <code>from oc.DefaultIfEmpty()</code>? It doesn&#39;t need a range variable?"}, {"owner": {"reputation": 14634, "user_id": 64348, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/h3b3u.png?s=128&g=1", "display_name": "Kit", "link": "https://stackoverflow.com/users/64348/kit"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1556139912, "post_id": 55837108, "comment_id": 98341069, "body": "I think you were looking at a prior edit (it <i>was</i> wrong at one point). <code>cars.DefaultIfEmpty()</code> is what is needed for correct results."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1556140152, "post_id": 55837108, "comment_id": 98341147, "body": "No, first query see the phrase?"}, {"owner": {"reputation": 14634, "user_id": 64348, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/h3b3u.png?s=128&g=1", "display_name": "Kit", "link": "https://stackoverflow.com/users/64348/kit"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1556146013, "post_id": 55837108, "comment_id": 98342838, "body": "Oops. I&#39;m finally getting what you&#39;re trying to say. I changed it in one code block but not the other; that&#39;s what I get for not using a compiler. Thanks for being diligent!"}], "tags": [], "owner": {"reputation": 14634, "user_id": 64348, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/h3b3u.png?s=128&g=1", "display_name": "Kit", "link": "https://stackoverflow.com/users/64348/kit"}, "is_accepted": false, "score": 0, "last_activity_date": 1556146077, "last_edit_date": 1556146077, "creation_date": 1556133375, "answer_id": 55837108, "question_id": 55836272, "link": "https://stackoverflow.com/questions/55836272/compare-list-in-linq-and-return-2-result-objects/55837108#55837108", "title": "Compare list in LINQ and return 2 result objects", "body": "<p>When you are saying that new cars are the source of truth, that means you want them always in the list, but you may not have an equivalent old car. You are describing a left-join.</p>\n\n<p>This should get you most of what you want.</p>\n\n<pre><code>var results = from n in newCars\n    join o in oldCars\n    on n.Id == o.Id\n    group into cars \n    from oc in cars.DefaultIfEmpty()\n    select (NewCar: n, Present: oc != null)\n</code></pre>\n\n<p>The result is a tuple containing the new car and a boolean <code>Present</code> that is <code>true</code> or <code>false</code> based on whether there is an old car or not.</p>\n\n<p>That gives you a single result set. You wanted two result sets as a tuple. To get this, just extend the above query, grouping by <code>Present</code>. This gives you a result set with exactly two items</p>\n\n<pre><code>var results = (from r in (from n in newCars\n        join o in oldCars\n        on n.Id equals o.Id\n        into cars\n        from oc in cars.DefaultIfEmpty()\n        select (NewCar: n, Present: oc != null))\n    group r by r.Present into g\n    orderby g.Key descending \n    select g.Select(x =&gt; x.NewCar).ToList()).ToList();\n</code></pre>\n\n<p>from which you can get a single tuple containing both lists</p>\n\n<pre><code>var finalResult = (Present: results[0], Absent: results[1]);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14120, "user_id": 844872, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/15cf8e9490ec58e8449f3f05d1c87667?s=128&d=identicon&r=PG", "display_name": "Illep", "link": "https://stackoverflow.com/users/844872/illep"}, "edited": false, "score": 0, "creation_date": 1556153830, "post_id": 55839997, "comment_id": 98344188, "body": "Can I use ANY instead ? I may have more than 1 condition to match in order to categories it to present or absent ? Help."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 14120, "user_id": 844872, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/15cf8e9490ec58e8449f3f05d1c87667?s=128&d=identicon&r=PG", "display_name": "Illep", "link": "https://stackoverflow.com/users/844872/illep"}, "edited": false, "score": 0, "creation_date": 1556213166, "post_id": 55839997, "comment_id": 98370803, "body": "@Illep Perhaps you can update your question to be clearer? You seem to have conflicting ideas about what you want..."}], "tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1556149894, "creation_date": 1556149894, "answer_id": 55839997, "question_id": 55836272, "link": "https://stackoverflow.com/questions/55836272/compare-list-in-linq-and-return-2-result-objects/55839997#55839997", "title": "Compare list in LINQ and return 2 result objects", "body": "<p>Using an extension method to treat adding to a list (a tiny bit) more functionally, you can use LINQ <code>Aggregate</code> to do this in one pass:</p>\n\n<pre><code>var idsFromOldCars = oldCars.Select(c =&gt; c.Id).ToHashSet();\nvar(present, absent) = newCars.Aggregate((p:new List&lt;Car&gt;(),a:new List&lt;Car&gt;()), (pa,nc) =&gt; idsFromOldCars.Contains(nc.Id) ? (pa.p.AfterAdd(nc),pa.a) : (pa.p,pa.a.AfterAdd(nc)));\n</code></pre>\n\n<p>Where <code>AfterAdd</code> is defined in a static class as:</p>\n\n<pre><code>public static class ListExt {\n    public static List&lt;T&gt; AfterAdd&lt;T&gt;(this List&lt;T&gt; head, params T[] tail) {\n        head.AddRange(tail);\n        return head;\n    }\n}\n</code></pre>\n\n<p>But it is much clearer to just use a <code>foreach</code> loop:</p>\n\n<pre><code>    var idsFromOldCars = oldCars.Select(c =&gt; c.Id).ToHashSet();\n    var present = new List&lt;Car&gt;();\n    var absent = new List&lt;Car&gt;();\n    foreach (var nc in newCars) {\n        if (idsFromOldCars.Contains(nc.Id))\n            present.Add(nc);\n        else\n            absent.Add(nc);\n    }\n</code></pre>\n\n<p>In both cases, creating the <code>HashSet</code> ensures you don't have to scan through the <code>oldCars</code> list to find each <code>newCar</code>. If you knew the lists were ordered by <code>Id</code>, you could do a more complicated one-pass solution traveling down the lists in parallel, but that hardly seems worth the complexity even then.</p>\n\n<p>NOTE: A <code>Join</code> effectively does something similar, converting the second <code>List</code> into a <code>Lookup</code> (like a <code>Dictionary</code>) that can be used to find the matches with the first <code>List</code>.</p>\n"}], "owner": {"reputation": 14120, "user_id": 844872, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/15cf8e9490ec58e8449f3f05d1c87667?s=128&d=identicon&r=PG", "display_name": "Illep", "link": "https://stackoverflow.com/users/844872/illep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 55836501, "answer_count": 4, "score": 1, "last_activity_date": 1556199328, "creation_date": 1556129769, "last_edit_date": 1556199328, "question_id": 55836272, "link": "https://stackoverflow.com/questions/55836272/compare-list-in-linq-and-return-2-result-objects", "title": "Compare list in LINQ and return 2 result objects", "body": "<p>I have 2 Lists: <code>List&lt;Car&gt; newCars</code> and <code>List&lt;Car&gt; oldCars</code>.</p>\n\n<p>I need to use the <code>List&lt;Car&gt; newCars</code> as the source of truth and return both <strong>Present</strong> and <strong>Absent</strong> cars in the <code>List&lt;Car&gt;oldCars</code> list. </p>\n\n<p>How can I do this?</p>\n\n<p>My approach:</p>\n\n<pre><code>var present = newCars.Where(c =&gt; oldCars.All(w =&gt; w.Id != c.Id));\nvar absent = newCars.Where(c =&gt; oldCars.All(w =&gt; w.Id == c.Id));\n</code></pre>\n\n<p>I am quite new to LINQ, and I am not sure of the logic that I have used above.</p>\n\n<ol>\n<li><p>Can someone help me out to get this working in a better and optimized way?</p></li>\n<li><p>Can this be done in one single query and return 2 result sets (as tuples)?</p></li>\n</ol>\n\n<p>I realize that running the same code with equals and not equals as above can be a costly approach.</p>\n"}, {"tags": ["c#", "windows-services"], "comments": [{"owner": {"reputation": 2393, "user_id": 3116731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqjdb.jpg?s=128&g=1", "display_name": "Se&#241;or CMasMas", "link": "https://stackoverflow.com/users/3116731/se%c3%b1or-cmasmas"}, "edited": false, "score": 0, "creation_date": 1556130738, "post_id": 55836244, "comment_id": 98337236, "body": "Is there a user logged into the remote machine?  I am guessing.. probably not. &quot;Name of a user that is logged on currently.&quot;.. your WMI session doesn&#39;t count."}, {"owner": {"reputation": 3960, "user_id": 2959783, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/545d34855fbece473e6df31c29b22c43?s=128&d=identicon&r=PG&f=1", "display_name": "TyForHelpDude", "link": "https://stackoverflow.com/users/2959783/tyforhelpdude"}, "reply_to_user": {"reputation": 2393, "user_id": 3116731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqjdb.jpg?s=128&g=1", "display_name": "Se&#241;or CMasMas", "link": "https://stackoverflow.com/users/3116731/se%c3%b1or-cmasmas"}, "edited": false, "score": 0, "creation_date": 1556130876, "post_id": 55836244, "comment_id": 98337320, "body": "Yes I am, I have installed the service.."}, {"owner": {"reputation": 2393, "user_id": 3116731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqjdb.jpg?s=128&g=1", "display_name": "Se&#241;or CMasMas", "link": "https://stackoverflow.com/users/3116731/se%c3%b1or-cmasmas"}, "edited": false, "score": 0, "creation_date": 1556132992, "post_id": 55836244, "comment_id": 98338234, "body": "I don&#39;t think it works for something running as a service.  Only something logged in that gets a desktop profile."}], "owner": {"reputation": 3960, "user_id": 2959783, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/545d34855fbece473e6df31c29b22c43?s=128&d=identicon&r=PG&f=1", "display_name": "TyForHelpDude", "link": "https://stackoverflow.com/users/2959783/tyforhelpdude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 268, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556129682, "creation_date": 1556129682, "question_id": 55836244, "link": "https://stackoverflow.com/questions/55836244/username-from-win32-computersystem-of-windows-machine-is-always-null-in-remote", "title": "UserName from &#39;Win32_ComputerSystem&#39; of windows machine is always null in remote machine", "body": "<p>I am using the method below to get logged in user name in windows(it's being used in windows service). It works well(<code>MY-Username(Pc-Name)</code>) on my machine but when I install it to some other windows machine it returns only Name(<code>(Name)</code>) value since UserName is null, whats might cause this?  </p>\n\n<p>Unfortunately I am not able to install VS in that remote machine, hope still there is way to fix it</p>\n\n<pre><code>private string GetUserName()\n        {\n            string result = \"\";\n            using (ManagementObjectSearcher searcher = new ManagementObjectSearcher(\"SELECT UserName, Name FROM Win32_ComputerSystem\"))\n            {\n                foreach (ManagementObject mo in searcher.Get())\n                {\n                    if (mo[\"UserName\"] != null)\n                        result = mo[\"UserName\"].ToString();\n\n                    if (mo[\"Name\"] != null)\n                        result += \" (\" + mo[\"Name\"].ToString() + \")\";\n                }\n            }\n            return result;\n        }\n</code></pre>\n"}, {"tags": ["c#", "generics", "f#", "operator-overloading"], "owner": {"reputation": 6443, "user_id": 789683, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/95182eada599b72eb733a7472c1b995f?s=128&d=identicon&r=PG", "display_name": "flipchart", "link": "https://stackoverflow.com/users/789683/flipchart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1556170633, "creation_date": 1556129567, "last_edit_date": 1556170633, "question_id": 55836211, "link": "https://stackoverflow.com/questions/55836211/consuming-f-generic-operators-in-c", "title": "Consuming F# generic operators in C#", "body": "<p>Since C# doesn't support generic operator overloads, I tried F#. I have the following F# code which seems to produce the overloads that I want</p>\n\n<pre class=\"lang-ml prettyprint-override\"><code>type Value&lt;'T&gt;() =\n    static member ( + ) (lhs: Value&lt;int&gt;, rhs: Value&lt;int&gt;) = lhs\n    static member ( + ) (lhs: Value&lt;decimal&gt;, rhs: Value&lt;int&gt;) = lhs;\n</code></pre>\n\n<p>but consuming it from C# doesn't go as planned:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Value&lt;decimal&gt; decimalValue = null;\nValue&lt;int&gt; intValue = null;\n\nvar intResult = intValue + intValue; // works fine :)\nvar decimalResult = decimalValue + intValue; // Error CS0034 Operator '+' is ambiguous on operands of type 'Value&lt;decimal&gt;' and 'Value&lt;int&gt;'\n</code></pre>\n\n<p>I know a little about <a href=\"https://theburningmonk.com/2011/12/f-inline-functions-and-member-constraints/\" rel=\"nofollow noreferrer\">statically resolved type parameters</a> which may resolve the issue, but I don't want to use them because I need to carefully control the operations which are applied (e.g. I don't want to support adding strings and numbers).</p>\n\n<p>Why is the call ambiguous? What can I do to resolve it?</p>\n"}, {"tags": ["c#", "angular", "google-chrome", "url", "default-browser"], "comments": [{"owner": {"reputation": 1395, "user_id": 3937794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OWnAa.png?s=128&g=1", "display_name": "Sourav Dutta", "link": "https://stackoverflow.com/users/3937794/sourav-dutta"}, "edited": false, "score": 0, "creation_date": 1556135714, "post_id": 55836155, "comment_id": 98339319, "body": "Try to Simply replace <code>http</code> with <code>googlechrome</code> and <code>https</code> with <code>googlechromes</code>. This means:  <code>http:&#47;&#47;www.google.com&#47;</code> becomes <code>googlechrome:&#47;&#47;www.google.com&#47;</code> and similarly  <code>https:&#47;&#47;dev.mylink.net</code> becomes <code>googlechromes:&#47;&#47;dev.mylink.net</code>"}, {"owner": {"reputation": 784, "user_id": 6686925, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d1b72cf30f0e2e490d2dcf157c6a7bcf?s=128&d=identicon&r=PG&f=1", "display_name": "SilverFish", "link": "https://stackoverflow.com/users/6686925/silverfish"}, "reply_to_user": {"reputation": 1395, "user_id": 3937794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OWnAa.png?s=128&g=1", "display_name": "Sourav Dutta", "link": "https://stackoverflow.com/users/3937794/sourav-dutta"}, "edited": false, "score": 0, "creation_date": 1556143409, "post_id": 55836155, "comment_id": 98342183, "body": "Did not work. I believe that recommendation is for iOS"}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 3164981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6eed3c441915fe0749085471557144f?s=128&d=identicon&r=PG&f=1", "display_name": "Itai", "link": "https://stackoverflow.com/users/3164981/itai"}, "is_accepted": false, "score": 0, "last_activity_date": 1556130084, "creation_date": 1556130084, "answer_id": 55836350, "question_id": 55836155, "link": "https://stackoverflow.com/questions/55836155/how-to-add-url-to-email-body-to-open-in-google-chrome-by-default/55836350#55836350", "title": "How to add url to email body to open in Google Chrome by default", "body": "<p>I do not think there is a way to do it since the default browser defined in the client computer.</p>\n"}], "owner": {"reputation": 784, "user_id": 6686925, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d1b72cf30f0e2e490d2dcf157c6a7bcf?s=128&d=identicon&r=PG&f=1", "display_name": "SilverFish", "link": "https://stackoverflow.com/users/6686925/silverfish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556130084, "creation_date": 1556129317, "question_id": 55836155, "link": "https://stackoverflow.com/questions/55836155/how-to-add-url-to-email-body-to-open-in-google-chrome-by-default", "title": "How to add url to email body to open in Google Chrome by default", "body": "<p>I am working on a C#/Angular project. Due to some third party controls, some of the website features do not work on IE. There is an email which goes out containing link to a page. When I click the link it is opening by default in IE. Is there a way I can default it to open in Google Chrome?\nHere is my code and url syntax:</p>\n\n<pre><code>string ProjectURL = String.Format(\"&lt;a href=\\\"https://dev.mylink.net/MyApp/#/mycomponent\\\"&gt;Project link&lt;/a&gt;\");\n\n\nstring EmailBody = \"&lt;p&gt;\" + ManagerName + \" (\" + ManagerID + \"),&lt;/p&gt;&lt;p&gt;The request \" + ReqNumber + \" submitted by \" + UserName + \", on \" + CreationDate + \" is ready for Approval.&lt;/p&gt;&lt;p&gt;Please visit the following URL to Approve this request:\" + ProjectURL + \"&lt;/p&gt;\";\n</code></pre>\n\n<p>P.S. The url contains a \"#\" as well.</p>\n"}, {"tags": ["c#", "if-statement", "conditional", "assignment-operator", "conditional-operator"], "comments": [{"owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "edited": false, "score": 1, "creation_date": 1556129353, "post_id": 55836147, "comment_id": 98336614, "body": "You can&#39;t.  Just use an <code>if</code> statement."}, {"owner": {"reputation": 13115, "user_id": 150605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pFmKd.png?s=128&g=1", "display_name": "Lance U. Matthews", "link": "https://stackoverflow.com/users/150605/lance-u-matthews"}, "edited": false, "score": 4, "creation_date": 1556129590, "post_id": 55836147, "comment_id": 98336717, "body": "The <code>if (count==0) { count=2; }</code> you started with is &quot;a single line <code>if</code> statement without <code>else</code>&quot;.  What&#39;s wrong with that, or the ternary operator for that matter?  Those are the ways C# provides to do this, so that&#39;s what you use."}, {"owner": {"reputation": 13115, "user_id": 150605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pFmKd.png?s=128&g=1", "display_name": "Lance U. Matthews", "link": "https://stackoverflow.com/users/150605/lance-u-matthews"}, "edited": false, "score": 3, "creation_date": 1556130474, "post_id": 55836147, "comment_id": 98337116, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/24934860/operator-without-else-part\">? operator without else-part</a> or <a href=\"https://stackoverflow.com/q/29695333/150605\">Use of ternary operator without using assignment or return</a> or <a href=\"https://stackoverflow.com/q/36079961/150605\">Is it possible to put only one option on a ternary expression?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 386, "user_id": 879247, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/PgRfo.jpg?s=128&g=1", "display_name": "Derek Williams", "link": "https://stackoverflow.com/users/879247/derek-williams"}, "edited": false, "score": 3, "creation_date": 1556129576, "post_id": 55836164, "comment_id": 98336711, "body": "Why not use ternary operator? What&#39;s the absolute need fo this?"}], "tags": [], "owner": {"reputation": 100556, "user_id": 8155, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/581e7a29e18c2d66cc2b347423c62a8f?s=128&d=identicon&r=PG", "display_name": "Amy B", "link": "https://stackoverflow.com/users/8155/amy-b"}, "is_accepted": false, "score": 3, "last_activity_date": 1556130898, "last_edit_date": 1556130898, "creation_date": 1556129349, "answer_id": 55836164, "question_id": 55836147, "link": "https://stackoverflow.com/questions/55836147/single-line-if-condition-without-else-clause/55836164#55836164", "title": "Single line If condition without else clause", "body": "<pre><code>count = count == 0 ? 2 : count;\n</code></pre>\n\n<p>Or for more fun:</p>\n\n<pre><code>using System;               \npublic class Program\n{\n    public static void Main()\n    {\n        foreach(int x in System.Linq.Enumerable.Range(-5, 10))\n        {\n            int count = x;\n            bool y = count == 0 &amp;&amp; (0 == count++ - count++);\n            Console.WriteLine(count);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "is_accepted": false, "score": 4, "last_activity_date": 1556134149, "last_edit_date": 1556134149, "creation_date": 1556129581, "answer_id": 55836216, "question_id": 55836147, "link": "https://stackoverflow.com/questions/55836147/single-line-if-condition-without-else-clause/55836216#55836216", "title": "Single line If condition without else clause", "body": "<p>You do not need to pair <code>else</code> with <code>if</code>; you can use it on its own:</p>\n\n<pre><code>if (count == 0)\n        count = 2;\n</code></pre>\n\n<p>This can be written in multiple ways if the syntax isn't to your liking:</p>\n\n<pre><code>if (count == 0) count = 2;\n\nif (count == 0) { count = 2; }\n\nif (count == 0) {\n    count = 2;\n}\n\nif (count == 0)\n{\n    count = 2;\n}\n</code></pre>\n\n<hr>\n\n<p>As another poster points out, you can use nullable int with initialization to <code>null</code> to have a binary interaction with the null coalescing operator:</p>\n\n<pre><code>int? count = null; // initialization\n\n// ... later\n\ncount = count ?? 2;\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 10340339, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A-3q6C4hYqI/AAAAAAAAAAI/AAAAAAAAAL0/NjX4CXdFKD0/photo.jpg?sz=128", "display_name": "Himmat Singh Dulawat", "link": "https://stackoverflow.com/users/10340339/himmat-singh-dulawat"}, "delete_vote_count": 2, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3122, "favorite_count": 0, "closed_date": 1556133507, "answer_count": 2, "score": -7, "last_activity_date": 1556134149, "creation_date": 1556129279, "last_edit_date": 1556129994, "question_id": 55836147, "link": "https://stackoverflow.com/questions/55836147/single-line-if-condition-without-else-clause", "closed_reason": "Duplicate", "title": "Single line If condition without else clause", "body": "<p>How can we write a single line If condition without else in the operator?</p>\n\n<p>Example:</p>\n\n<blockquote>\n  <p>If(count==0) { count=2; }</p>\n</blockquote>\n\n<p>How can we write above like below:</p>\n\n<blockquote>\n  <p>count=count==0?2;</p>\n</blockquote>\n\n<p>As ternary operator requires if else condition. I want to do it without the ternery operator. Is there any operator available in C#?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "c#", "asp.net-mvc", "razor"], "comments": [{"owner": {"reputation": 1643, "user_id": 9177810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziLgX.jpg?s=128&g=1", "display_name": "JamesS", "link": "https://stackoverflow.com/users/9177810/jamess"}, "edited": false, "score": 0, "creation_date": 1556187414, "post_id": 55836027, "comment_id": 98355931, "body": "There is only one dropdown list in the code above, is  there meant to be two? Is your objective to pass the value to the controller?"}, {"owner": {"reputation": 1, "user_id": 9447161, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Di Ho Qa", "link": "https://stackoverflow.com/users/9447161/di-ho-qa"}, "reply_to_user": {"reputation": 1643, "user_id": 9177810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziLgX.jpg?s=128&g=1", "display_name": "JamesS", "link": "https://stackoverflow.com/users/9177810/jamess"}, "edited": false, "score": 0, "creation_date": 1556261977, "post_id": 55836027, "comment_id": 98384964, "body": "first dropdownlist is a dropdownlist for faculty_id and the second dropdownlist for linktoYearId and I need to pass two parameters of it to controller"}, {"owner": {"reputation": 1643, "user_id": 9177810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziLgX.jpg?s=128&g=1", "display_name": "JamesS", "link": "https://stackoverflow.com/users/9177810/jamess"}, "edited": false, "score": 0, "creation_date": 1556270596, "post_id": 55836027, "comment_id": 98389248, "body": "If the values you are wanting are from both dropdowns, you can either just call the controller with a view model that has them parameters (the ones in the dropdown) OR get rid of the html.beginform and use jquery to get their values and pass them to he controller. Out of both I personally would do the second"}], "owner": {"reputation": 1, "user_id": 9447161, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Di Ho Qa", "link": "https://stackoverflow.com/users/9447161/di-ho-qa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1556145830, "creation_date": 1556128858, "last_edit_date": 1556145830, "question_id": 55836027, "link": "https://stackoverflow.com/questions/55836027/how-to-fix-pass-two-parameters-in-dropdownlist", "title": "How to fix pass two parameters in dropdownlist", "body": "<p>I have 2 dropdownlist in View but I don't know how to get id for script work, please help me. tks in thanks in advance</p>\n\n<p>this is my controller for IndexList to create a list </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>public ActionResult IndexList() {\n  ViewBag.falcuty_id = new SelectList(db.faculties, \"faculty_id\",\n    \"faculty_name\");\n  ViewBag.linktoYearId = GetYears();\n  return View();\n}\n</code></pre>\n\n<p>this is my dropdownlist controller to create a controller to choose year</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>private SelectList GetYears() {\n  int CurrentYear = DateTime.Now.Year;\n\n  for (int i = 2017; i &lt;= CurrentYear; i++) {\n    ddlYears.Add(new SelectListItem {\n      Text = i.ToString(),\n      Value = i.ToString()\n    });\n  }\n  return new SelectList(ddlYears, \"Value\", \"Text\");\n}\n</code></pre>\n\n<p>This is method need to pass parameter. This method will query and count the number of content by faculty ID and date_post</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>public ActionResult List(int date,string date) {\n  int count = (db.contents.Where(x =&gt; x.date_post.Value.Year == date &amp;&amp; x.faculty_id == \"IT\")).Count();\n\n  Session[\"count\"] = count;\n  return RedirectToAction(\"IndexList\", \"contents\");\n}\n</code></pre>\n\n<p>and my View in index. The script doesn't work</p>\n\n<pre><code>@using (Html.BeginForm())\n{\n    &lt;div class=\"row\" style=\"border:solid; border-width:thin; padding:20px; height:400px;\"&gt;\n        &lt;div class=\"col-lg-12 text-center\"&gt;\n            &lt;div class=\"row\"&gt;\n\n                @Html.DropDownList(\"falcuty_id\", null, new   { @onChange = \"selectFaculty(this)\" })\n\n                &lt;div class=\"col-lg-6\" align=\"left\"&gt;\n                    @Html.DropDownList(\"linktoYearId\", null, \"---Select year---\",new {\n                   @id = \"ddlYears\",\n                   @onChange = \"SelectedValue(this)\",\n                   @class = \"form-control\",\n                   @style = \"width:200px\"\n               })\n                    &lt;h1&gt;@Session[\"count\"]&lt;/h1&gt;\n                &lt;/div&gt;\n\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n}\n\n&lt;script&gt;\n   function SelectedValue(ddlObject) {\n      var selectedValue = ddlObject.value;\n    }\n   function selectFaculty(falObject1) {\n     var selectedValue = falObject1.value;\n     window.location.href = '@Url.Action(\"List\",\"contents\")?date=' + parseInt(selectedValue.ddlObject.value) + '?faculty=' + falObject1.value;\n   }\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "azure-active-directory", "swagger", "swashbuckle"], "comments": [{"owner": {"reputation": 652, "user_id": 578334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f497048b07aaec189f780ca20149e5e7?s=128&d=identicon&r=PG", "display_name": "jokab", "link": "https://stackoverflow.com/users/578334/jokab"}, "edited": false, "score": 0, "creation_date": 1556158807, "post_id": 55836013, "comment_id": 98345072, "body": "maybe this will help <a href=\"https://stackoverflow.com/questions/55256926/how-to-authorize-swagger-to-use-ms-graph-api\" title=\"how to authorize swagger to use ms graph api\">stackoverflow.com/questions/55256926/&hellip;</a>"}, {"owner": {"reputation": 43, "user_id": 1961381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1072672133cb637895398947b36c7b77?s=128&d=identicon&r=PG", "display_name": "user1961381", "link": "https://stackoverflow.com/users/1961381/user1961381"}, "reply_to_user": {"reputation": 652, "user_id": 578334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f497048b07aaec189f780ca20149e5e7?s=128&d=identicon&r=PG", "display_name": "jokab", "link": "https://stackoverflow.com/users/578334/jokab"}, "edited": false, "score": 0, "creation_date": 1556209194, "post_id": 55836013, "comment_id": 98369020, "body": "Thanks Jokab, I am looking into your post now to see if I can notice anything that helps. I have been reading the AAD documentation to try better understand the process, and can now confirm that the &#39;aud&#39; does need to match my Client Id. So this would be the first problem to solve (<a href=\"https://docs.microsoft.com/en-us/azure/active-directory/develop/id-tokens#validating-an-id_token\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/active-directory/develop/&hellip;</a>) - Just adding this for interest sake"}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 1961381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1072672133cb637895398947b36c7b77?s=128&d=identicon&r=PG", "display_name": "user1961381", "link": "https://stackoverflow.com/users/1961381/user1961381"}, "is_accepted": true, "score": 2, "last_activity_date": 1556634945, "creation_date": 1556634945, "answer_id": 55923258, "question_id": 55836013, "link": "https://stackoverflow.com/questions/55836013/how-to-integrate-swagger-with-azure-active-directory-oauth/55923258#55923258", "title": "How to integrate swagger with Azure Active Directory OAuth", "body": "<p>I ended up fixing the problem I was having. Working through <a href=\"https://azure.microsoft.com/en-us/resources/samples/active-directory-dotnet-native-aspnetcore-v2/\" rel=\"nofollow noreferrer\">this post</a> helped me understand my mistakes.</p>\n\n<p>The first mistake was my actual AAD app registration. I had not set a scope for the application under \"Expose an API\". Because they deprecated the resource property in V2, the way you would set the resource was to create a scope with the format api\"//{application ID}/{scope_name}. After I made this change my AAD application was now correctly configured.</p>\n\n<p>After that, I needed to add an additional section to my startup file: </p>\n\n<pre><code>return services.Configure&lt;JwtBearerOptions&gt;(AzureADDefaults.JwtBearerAuthenticationScheme, options =&gt;\n             {\n                 // This is an Azure AD v2.0 Web API\n                 options.Authority += \"/v2.0\";\n\n                 // The valid audiences are both the Client ID (options.Audience) and api://{ClientID}\n                 options.TokenValidationParameters.ValidAudiences = new string[] { options.Audience, $\"api://{options.Audience}\" };\n\n\n                 options.TokenValidationParameters.ValidateIssuer = false;\n             });\n</code></pre>\n\n<p>Note: the link above provided an alternative solution to turning off the validation of the issuer if anyone is interested.</p>\n\n<p>My AppSettings file was also simplified by only needing to define the Instance, TenantId, and ClientId.</p>\n\n<p>Then from a swagger perspective, I just needed to add an additional scope to the security definition matching the one I created in my AAD application.</p>\n\n<pre><code>          c.AddSecurityDefinition(\"oauth2\", new OAuth2Scheme\n                {\n                    Type = \"oauth2\",\n                    Flow = \"implicit\",\n                    AuthorizationUrl = \"https://login.microsoftonline.com/common/oauth2/v2.0/authorize\",\n                    TokenUrl = \"https://login.microsoftonline.com/common/oauth2/v2.0/token\",\n                    Scopes = new Dictionary&lt;string, string&gt;\n                   {\n                       { \"openid\", \"Sign In Permissions\" },\n                       { \"profile\", \"User Profile Permissions\" },\n                       { $\"api://{clientId}/access_as_user\", \"Application API Permissions\" }\n                   }\n                });\n</code></pre>\n\n<p>After these changes my application is now working as expected.</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 5336151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056445099adb708658577a1ff7959b96?s=128&d=identicon&r=PG&f=1", "display_name": "Shahina Ismail", "link": "https://stackoverflow.com/users/5336151/shahina-ismail"}, "is_accepted": false, "score": 0, "last_activity_date": 1590401401, "creation_date": 1590401401, "answer_id": 62000199, "question_id": 55836013, "link": "https://stackoverflow.com/questions/55836013/how-to-integrate-swagger-with-azure-active-directory-oauth/62000199#62000199", "title": "How to integrate swagger with Azure Active Directory OAuth", "body": "<p>for v2 endpoint, update the accessTokenAcceptedVersion in Manifest of AAD from null to 2. It will work.</p>\n"}], "owner": {"reputation": 43, "user_id": 1961381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1072672133cb637895398947b36c7b77?s=128&d=identicon&r=PG", "display_name": "user1961381", "link": "https://stackoverflow.com/users/1961381/user1961381"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5980, "favorite_count": 1, "accepted_answer_id": 55923258, "answer_count": 2, "score": 1, "last_activity_date": 1590401401, "creation_date": 1556128800, "question_id": 55836013, "link": "https://stackoverflow.com/questions/55836013/how-to-integrate-swagger-with-azure-active-directory-oauth", "title": "How to integrate swagger with Azure Active Directory OAuth", "body": "<p>I'm trying to setup Swagger in my AspNetCore 2.1 application using Azure Active Directory V2 but I cannot seem to get it right. I am able to configure the setup so that swagger prompts, redirects and successfully authenticates my client/user but when passing the bearer token to the server results in the error <code>Bearer error=\"invalid_token\", error_description=\"The signature is invalid\"</code>. I have created a GitHub repository with the project I am trying to get work with all its configuration (<a href=\"https://github.com/alucard112/auth-problem\" rel=\"nofollow noreferrer\">https://github.com/alucard112/auth-problem</a>)</p>\n\n<p>I have managed to get the V1 endpoint working, by setting the resource to the Client Id of the AAD app, which results in the JWT token having the 'aud' set to the app client Id. In the V2 endpoint the 'aud' is being set to what I think is the Graph API resource '00000003-0000-0000-c000-000000000000'. I believe this is my problem at the moment, although am not 100 % sure. The V2 endpoints don't seem to have a way to define the audience like the V1 did unless of course there is some oversight from my side.</p>\n\n<p>My Startup file is structured as follows:</p>\n\n<p>The authentication is setup as the following: </p>\n\n<pre><code>services.AddAuthentication(AzureADDefaults.BearerAuthenticationScheme)\n                .AddAzureADBearer(options =&gt; Configuration.Bind(\"AzureAd\", options));\n\n\n            services.Configure&lt;JwtBearerOptions&gt;(AzureADDefaults.JwtBearerAuthenticationScheme, options =&gt;\n            {\n                options.Authority = $\"https://login.microsoftonline.com/{tenantId}\";\n                options.TokenValidationParameters = new TokenValidationParameters\n                {\n                    // In multi-tenant apps you should disable issuer validation:\n                    ValidateIssuer = false,\n                    // In case you want to allow only specific tenants,\n                    // you can set the ValidIssuers property to a list of valid issuer ids\n                    // or specify a delegate for the IssuerValidator property, e.g.\n                    // IssuerValidator = (issuer, token, parameters) =&gt; {}\n                    // the validator should return the issuer string\n                    // if it is valid and throw an exception if not\n                };\n            });\n</code></pre>\n\n<p>And the swagger is setup as follows:</p>\n\n<pre><code> services.AddSwaggerGen(c =&gt;\n            {\n                c.SwaggerDoc(\"v1\", new Info\n                {\n                    Title = \"Protected Api\",\n                });\n\n                c.OperationFilter&lt;SecurityRequirementsOperationFilter&gt;();\n\n                //IMATE - StevensW\n                // Define the OAuth2.0 scheme that's in use (i.e. Implicit Flow)\n                c.AddSecurityDefinition(\"oauth2\", new OAuth2Scheme\n                {\n                    Type = \"oauth2\",\n                    Flow = \"implicit\",\n                    AuthorizationUrl = $\"https://login.microsoftonline.com/{tenantId}/oauth2/v2.0/authorize\",\n                    TokenUrl = $\"https://login.microsoftonline.com/common/{tenantId}/v2.0/token\",\n                    Scopes = new Dictionary&lt;string, string&gt;\n                   {\n                       { \"openid\", \"Unsure\" },\n                       { \"profile\", \"Also Unsure\" }\n                   }\n                });\n            });\n</code></pre>\n\n<pre><code> app.UseSwagger();\n            app.UseSwaggerUI(c =&gt;\n            {\n                c.SwaggerEndpoint(\"/swagger/v1/swagger.json\", \"My API V1\");\n                c.OAuthClientId(Configuration.GetValue&lt;string&gt;(\"AzureAd:ClientId\"));\n                c.OAuthAppName(\"Protected API\");\n\n                //c.OAuthUseBasicAuthenticationWithAccessCodeGrant();\n                //c.OAuthClientSecret(Configuration.GetValue&lt;string&gt;(\"AzureAd:ClientId\"));\n            });\n</code></pre>\n\n<p>I am hoping to configure the swagger UI to use AAD's V2 endpoint and allow for a multi-tenant login that allows successfully authenticated API calls to be executed. Any help or direction would be greatly appreciated.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1890, "user_id": 2647442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6b031faf3be7a6673b0c7ac113e6c77?s=128&d=identicon&r=PG", "display_name": "Marie", "link": "https://stackoverflow.com/users/2647442/marie"}, "edited": false, "score": 0, "creation_date": 1556129032, "post_id": 55836010, "comment_id": 98336473, "body": "Additionally, for reference, you are &quot;escaping&quot; forward slashes which is not needed. You only need to escape backslashes (\\&#41;. You can also avoid needing to escape back slashes by prefixing your string with an <code>@</code>. E.g. <code>var tmp = @&quot;a\\b\\c&quot;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 363, "user_id": 9904934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7da1540967426a07d9b0dc48f754bb32?s=128&d=identicon&r=PG&f=1", "display_name": "ronald mcdolittle", "link": "https://stackoverflow.com/users/9904934/ronald-mcdolittle"}, "reply_to_user": {"reputation": 1890, "user_id": 2647442, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6b031faf3be7a6673b0c7ac113e6c77?s=128&d=identicon&r=PG", "display_name": "Marie", "link": "https://stackoverflow.com/users/2647442/marie"}, "edited": false, "score": 0, "creation_date": 1556129828, "post_id": 55836105, "comment_id": 98336822, "body": "@Marie Agreed, as far as I can tell OP is correct. If he&#39;s wrong leave a comment, otherwise this post is great"}], "tags": [], "owner": {"reputation": 11146, "user_id": 256728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4053f39568efcbe9d5a92bdc70457c5?s=128&d=identicon&r=PG", "display_name": "Black Frog", "link": "https://stackoverflow.com/users/256728/black-frog"}, "is_accepted": true, "score": 2, "last_activity_date": 1556129113, "creation_date": 1556129113, "answer_id": 55836105, "question_id": 55836010, "link": "https://stackoverflow.com/questions/55836010/make-a-new-file-whos-name-is-a-directory-path/55836105#55836105", "title": "Make a new file who&#39;s name is a directory path", "body": "<p>You cannot use the slash **** in the file name.</p>\n\n<p>Here is an excerpt from <a href=\"https://docs.microsoft.com/en-us/windows/desktop/fileio/naming-a-file\" rel=\"nofollow noreferrer\">Naming Files, Paths, and Namespaces</a></p>\n\n<p>Use any character in the current code page for a name, including Unicode characters and characters in the extended character set (128\u2013255), except for the following:</p>\n\n<p>The following reserved characters:</p>\n\n<ul>\n<li>&lt; (less than)</li>\n<li><blockquote>\n  <p>(greater than)</p>\n</blockquote></li>\n<li><p>: (colon)</p></li>\n<li>\" (double quote)</li>\n<li>/ (forward slash)</li>\n<li>\\ (backslash)</li>\n<li>| (vertical bar or pipe)</li>\n<li>? (question mark)</li>\n<li><ul>\n<li>(asterisk)</li>\n</ul></li>\n<li><p>Integer value zero, sometimes referred to as the ASCII NUL character.</p></li>\n<li><p>Characters whose integer representations are in the range from 1 through 31, except for alternate data streams where these characters are allowed. For more information about file streams, see File Streams.</p></li>\n<li><p>Any other character that the target file system does not allow.</p></li>\n</ul>\n"}], "owner": {"reputation": 363, "user_id": 9904934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7da1540967426a07d9b0dc48f754bb32?s=128&d=identicon&r=PG&f=1", "display_name": "ronald mcdolittle", "link": "https://stackoverflow.com/users/9904934/ronald-mcdolittle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 55836105, "answer_count": 1, "score": -1, "last_activity_date": 1556129260, "creation_date": 1556128791, "last_edit_date": 1556129260, "question_id": 55836010, "link": "https://stackoverflow.com/questions/55836010/make-a-new-file-whos-name-is-a-directory-path", "title": "Make a new file who&#39;s name is a directory path", "body": "<p>I'm creating a csv file with a bunch of data. This file is going to be pushed up to another location and its name is going to be used to put it in the directory it belongs in. I need to create the filename to mimic a directory, without actually using that directory.</p>\n\n<p>I'm using the below, basically \"outputDirectory\" is where the file should live, everything after it needs to be part of the filename. </p>\n\n<pre><code>String fileName = outputDirectory + DateTime.Now.ToString(\"yyyy-mm-hh\") + \"//\" + app + \"//\" + client +\"//\" + site +\"//\" + unit + \".csv\";\nusing (StreamWriter sw = new StreamWriter(fileName, false))\n{\n    foreach (AFValue AFval in AFvals)\n    {\n        string tagname = AFval.PIPoint.Name;\n        string timestamp = AFval.Timestamp.ToString();\n        string value = AFval.Value.ToString();\n        var newLine = string.Format(\"{0},{1},{2}\", tagname, timestamp, value);\n        sw.Write(newLine);\n        sw.Write(Environment.NewLine);\n    }\n}\n</code></pre>\n\n<p>So right now this code is throwing an exception with </p>\n\n<p>'Could not find a part of the path 'C:\\Users\\user\\Desktop\\Output\\2019-53-01\\app\\client\\site\\Unit.csv'.'</p>\n\n<p>I need it to create a file in 'C:\\Users\\user\\Desktop\\Output\\' called </p>\n\n<p>2019-53-01\\app\\client\\site\\Unit.csv'.'</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["c#", "visual-studio", "msbuild", "nuget"], "comments": [{"owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1556172558, "post_id": 55835965, "comment_id": 98348177, "body": "Hi Dan, what error message you get when you try start debugging?"}, {"owner": {"reputation": 768, "user_id": 8302901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ad9789400fe23e5d05fef77a859997?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/8302901/dan"}, "reply_to_user": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1556206919, "post_id": 55835965, "comment_id": 98367833, "body": "It just doesn&#39;t let me debug into the library code, because the PDB isn&#39;t being copied into the bin directory or used at all."}, {"owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1556209155, "post_id": 55835965, "comment_id": 98369011, "body": "Do you mean you want to debug into the source code? A .nupkg with only .dll and .pdb doesn&#39;t support &#39;step into&#39; source code. You still need source files(xxx.cs) so that you can debug into. Only .dll and .pdb is not enough for that."}, {"owner": {"reputation": 768, "user_id": 8302901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ad9789400fe23e5d05fef77a859997?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/8302901/dan"}, "reply_to_user": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1556209341, "post_id": 55835965, "comment_id": 98369091, "body": "That is what I want, I didn&#39;t think about how it would work without source, how can I accomplish that with file based nuget repo&#39;s(serverless)."}, {"owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1556211981, "post_id": 55835965, "comment_id": 98370249, "body": "You can try a nuget command in post-build event like this: nuget pack MyProject.csproj -symbols -Properties &quot;Configuration=Debug&quot; -suffix debug."}, {"owner": {"reputation": 768, "user_id": 8302901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ad9789400fe23e5d05fef77a859997?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/8302901/dan"}, "reply_to_user": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1556213142, "post_id": 55835965, "comment_id": 98370792, "body": "Ah see I&#39;m not having trouble with the generation of the packages, my problem it is that I don&#39;t want the Consumers of the package(other team members in a local org) to have to do any extra work in order to step through.  It looks like there may just be no solution for my exact requirements."}, {"owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1556213601, "post_id": 55835965, "comment_id": 98370989, "body": "You can check if Source links can satisfy your requirements. If you use <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/library-guidance/sourcelink\" rel=\"nofollow noreferrer\">source links</a> as source control. Then the other team members don&#39;t need extra work. Just like when we <a href=\"https://stackoverflow.com/questions/55626888/debug-net-core-source-visual-studio-2019/55644394#55644394\">debug .net core source code</a>, the vs will fetch the source files for us automatically without extra work. In this way, the source files are online, and we need the connection to Internet when we try to step into."}, {"owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1556214124, "post_id": 55835965, "comment_id": 98371211, "body": "But, actually this is not the original question you ask. Hope source links can satisfy your needs. Also, you can have a look at <a href=\"https://docs.microsoft.com/en-us/nuget/create-packages/symbol-packages-snupkg\" rel=\"nofollow noreferrer\">this .snupkg</a>. But I&#39;m not familiar with this new package format, just provide an idea."}], "answers": [{"tags": [], "owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1556211852, "last_edit_date": 1556211852, "creation_date": 1556171946, "answer_id": 55842694, "question_id": 55835965, "link": "https://stackoverflow.com/questions/55835965/visual-studio-wont-read-pdb-from-my-nupkg/55842694#55842694", "title": "Visual studio won&#39;t read .pdb from my nupkg", "body": "<p>Since you can make sure the .nupkg contains the .pdb file. please make sure both the projects are in debug mode.</p>\n\n<p>Consuming a nuget package locally sometimes has some difference from installing it from nuget.org. The .pdb source won't be found in solution. By default, the .pdb will locate under path like :<code>C:\\Users\\xxx\\.nuget\\packages\\PackageName\\xxx</code>. </p>\n\n<p><strong>Update:</strong></p>\n\n<ol>\n<li><p>If the nuget package project and the project which consumes it is on the same machine. The <code>AllowedOutputExtensionsInPackageBuildOutputFolder</code> property is enough. Since you have source files on same machine, and the debug engine can easily find it so that you can step into it.</p></li>\n<li><p>But if for a scenario like this: You developed the nuget package. And share it to other team members. To make them can <code>Step into</code> you should embed the xx.cs files into the .nupkg.</p></li>\n</ol>\n\n<p>Under this circumstances, the <code>AllowedOutputExtensionsInPackageBuildOutputFolder</code> may not work. I can't find a way to embed source files using it. You may need to use a <code>nuget pack command</code> like <a href=\"https://stackoverflow.com/questions/55736447/how-to-package-and-deploy-a-nuget-package-with-symbols-and-source-code-so-that-d\">this issue</a>. Actually, the way Stephan packed the project is correct. I've checked it work and will embed the source files and .dll and .pdb into the .nupkg. Of course, in this way you need to add the path to source files repo by Solution=>Properties=>Debug Source files:\n<a href=\"https://i.stack.imgur.com/gajEN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gajEN.png\" alt=\"enter image description here\"></a></p>\n\n<p>In addition: You can add the <code>nuget pack</code> command in a <a href=\"https://docs.microsoft.com/en-us/visualstudio/ide/how-to-specify-build-events-csharp?view=vs-2019\" rel=\"nofollow noreferrer\">post-build event</a>, so that every time you build a project successfully, it will package for you.</p>\n\n<p>Also, you can consider <a href=\"https://github.com/dotnet/sourcelink/blob/master/README.md\" rel=\"nofollow noreferrer\">source links</a> as source control so that you won't configure the source path by Solution=>properties.</p>\n"}], "owner": {"reputation": 768, "user_id": 8302901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ad9789400fe23e5d05fef77a859997?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/8302901/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 404, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1556211852, "creation_date": 1556128626, "question_id": 55835965, "link": "https://stackoverflow.com/questions/55835965/visual-studio-wont-read-pdb-from-my-nupkg", "title": "Visual studio won&#39;t read .pdb from my nupkg", "body": "<p>I have generated some nuget packages containing .pdbs with the following:</p>\n\n<pre><code>&lt;AllowedOutputExtensionsInPackageBuildOutputFolder&gt;$(AllowedOutputExtensionsInPackageBuildOutputFolder);.pdb&lt;/AllowedOutputExtensionsInPackageBuildOutputFolder&gt;\n</code></pre>\n\n<p>I have verified the .pdbs are within the .nupkg generated in the lib/*/ folder next to the dll's.</p>\n\n<p>However, when I consume these nuget packages in Visual Studio 2017, it only extracts the .dll's and not the .pdb's.  Leaving me unable to debug into the package.</p>\n\n<p>What am I doing incorrectly?</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-core", ".net-core", "ef-core-2.2"], "comments": [{"owner": {"reputation": 2061, "user_id": 2359858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/judcA.jpg?s=128&g=1", "display_name": "diogenesgg", "link": "https://stackoverflow.com/users/2359858/diogenesgg"}, "edited": false, "score": 0, "creation_date": 1556129532, "post_id": 55835938, "comment_id": 98336690, "body": "I think there should be a way to let your DB to handle the GUID creation."}, {"owner": {"reputation": 33, "user_id": 11406800, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-52ffMLNupQc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxVwURFb3BHmVeIkTqF1gVBmSryw/mo/photo.jpg?sz=128", "display_name": "xpoproci", "link": "https://stackoverflow.com/users/11406800/xpoproci"}, "reply_to_user": {"reputation": 2061, "user_id": 2359858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/judcA.jpg?s=128&g=1", "display_name": "diogenesgg", "link": "https://stackoverflow.com/users/2359858/diogenesgg"}, "edited": false, "score": 1, "creation_date": 1556129802, "post_id": 55835938, "comment_id": 98336811, "body": "Guid creation is not a problem, you can let Db create it automatically, but in this scenario it would be more efficient to create it manually so you would know what Id you are inserting without the need of commit. But that is my fallback solution, I just want to know if there is a way to do it with Integer Id."}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1556131256, "post_id": 55835938, "comment_id": 98337477, "body": "if you are fine with stored procedure then you can write some raw sql to return the inserted id using output clause"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11406800, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-52ffMLNupQc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxVwURFb3BHmVeIkTqF1gVBmSryw/mo/photo.jpg?sz=128", "display_name": "xpoproci", "link": "https://stackoverflow.com/users/11406800/xpoproci"}, "edited": false, "score": 0, "creation_date": 1556169834, "post_id": 55837153, "comment_id": 98347332, "body": "Thanks, this was helpful, however there is still one catch. When I am inserting more than one entity that needs to reference each other in one transaction, this solution will still not provide Id I need add. I know EF got this funcionallity, but the reason I am doing it like this, is so I can swap ORM by changing minimum of code."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 33, "user_id": 11406800, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-52ffMLNupQc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxVwURFb3BHmVeIkTqF1gVBmSryw/mo/photo.jpg?sz=128", "display_name": "xpoproci", "link": "https://stackoverflow.com/users/11406800/xpoproci"}, "edited": false, "score": 0, "creation_date": 1556170532, "post_id": 55837153, "comment_id": 98347528, "body": "Lol, changing ORM will never be easy. Anyway, EF solves the problem with Ids by linking entities by navigation properties rather than by Ids. However I believe it allows you to use the temporary Id of an entity as FK in another entity inside one context transaction. <code>SaveChanges</code> updates all them accordingly."}], "tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 5, "last_activity_date": 1556177447, "last_edit_date": 1556177447, "creation_date": 1556133617, "answer_id": 55837153, "question_id": 55835938, "link": "https://stackoverflow.com/questions/55835938/problem-with-getting-inserted-id-from-database/55837153#55837153", "title": "Problem with getting inserted Id from database", "body": "<p>EF Core solution of the problem is simple - auto generated PK of an entity instance is available <em>after</em> calling <code>SaveChanges[Async]</code>. e.g.</p>\n\n<pre><code>var entity = Mapper.Map&lt;TEntity&gt;(entityDto);\nContext.Add(entity);\n// Here entity.Id contains auto-generated temporary value\n// Other stuff...\nContext.SaveChanges();\n// Here entity.Id contains actual auto-generated value from the db\n</code></pre>\n\n<p>So the problem is more in the design of your infrastructure - all these (unnecessary) UoW, repository, services and facades simply hide that functionality.</p>\n\n<p>The only relatively simple and elegant solution I see with your architecture is to change the service return type from <code>int</code> to <code>Func&lt;int&gt;</code>, e.g.</p>\n\n<pre><code>public virtual Func&lt;int&gt; Create(TCreateDto entityDto)\n{\n    var entity = Mapper.Map&lt;TEntity&gt;(entityDto);\n    Repository.Create(entity);\n    return () =&gt; entity.Id; // &lt;--\n}\n</code></pre>\n\n<p>Then in your fa\u00e7ade you could use</p>\n\n<pre><code>public async Task&lt;int&gt; RegisterUserAsync(UserCreateDto user)\n{\n    using (var uow = UnitOfWorkProvider.Create())\n    {\n        var id = _userService.Create(user);\n        await uow.Commit();\n        return id(); // &lt;-- the actual id!\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Edit:</strong></p>\n\n<p>Actually EF Core provides another option which would allow you to keep your current design intact - the <a href=\"https://www.talkingdotnet.com/use-hilo-to-generate-keys-with-entity-framework-core/\" rel=\"nofollow noreferrer\">HiLo key generation strategy</a>, but only if the <a href=\"https://docs.microsoft.com/en-us/ef/core/providers/\" rel=\"nofollow noreferrer\">database provider</a> supports it. I can say for sure <a href=\"https://www.nuget.org/packages/Microsoft.EntityFrameworkCore.SqlServer\" rel=\"nofollow noreferrer\">Microsoft.EntityFrameworkCore.SqlServer</a> and <a href=\"https://www.nuget.org/packages/Npgsql.EntityFrameworkCore.PostgreSQL\" rel=\"nofollow noreferrer\">Npgsql.EntityFrameworkCore.PostgreSQL</a> do support it with respectively <code>ForSqlServerUseSequenceHiLo</code> and <code>ForNpgsqlUseSequenceHiLo</code> fluent APIs.</p>\n"}], "owner": {"reputation": 33, "user_id": 11406800, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-52ffMLNupQc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcxVwURFb3BHmVeIkTqF1gVBmSryw/mo/photo.jpg?sz=128", "display_name": "xpoproci", "link": "https://stackoverflow.com/users/11406800/xpoproci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 55837153, "answer_count": 1, "score": 3, "last_activity_date": 1556177447, "creation_date": 1556128548, "last_edit_date": 1556129097, "question_id": 55835938, "link": "https://stackoverflow.com/questions/55835938/problem-with-getting-inserted-id-from-database", "title": "Problem with getting inserted Id from database", "body": "<p>I am trying to get the last inserted Id from database via Entity Framework, however my problem is somehow unique and I am not able to find any solution, but to rewrite my whole infrastructure and business layer, so all my Ids are Guids, which I am able to create manually, or get last record with another database call after commit.</p>\n\n<p>Here is the problem. I have a three-layered architecture, where I am using UoW, repository, services and facades. I will show my code from top to bottom, so you can understand.</p>\n\n<p>Here is my facade, where <code>uow.Commit</code> is calling <code>SaveChanges()</code></p>\n\n<pre><code>public async Task&lt;int&gt; RegisterUserAsync(UserCreateDto user)\n{\n        using (var uow = UnitOfWorkProvider.Create())\n        {\n            var id = _userService.Create(user);\n            await uow.Commit();\n            return id;\n        }\n}\n</code></pre>\n\n<p>As you can see I am sending only my DTO into the service, where I process is like this, also I am mapping inside service</p>\n\n<pre><code>public virtual int Create(TCreateDto entityDto)\n{\n        var entity = Mapper.Map&lt;TEntity&gt;(entityDto);\n        Repository.Create(entity);\n        return entity.Id;\n}\n</code></pre>\n\n<p>and finally my repository looks like this</p>\n\n<pre><code>public TKey Create(TEntity entity)\n{\n        Context.Set&lt;TEntity&gt;().Add(entity);\n        return entity.Id;\n}\n</code></pre>\n\n<p>Is there some elegant solution to this? Like I said my only idea is to switch all Ids to Guid or second call for Id after commit, which I find as not very good solution, because when I want to connect two or more tables in one transaction it would be impossible.</p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 3072, "user_id": 1480165, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3f574c416f3d2b6bb53a60667fb1d2c0?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1480165/jon"}, "edited": false, "score": 0, "creation_date": 1556128472, "post_id": 55835891, "comment_id": 98336243, "body": "if (reader.NextResult()) { .... }"}], "answers": [{"tags": [], "owner": {"reputation": 13386, "user_id": 5114784, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/OcTVf.jpg?s=128&g=1", "display_name": "Gy&#246;rgy K\u0151szeg", "link": "https://stackoverflow.com/users/5114784/gy%c3%b6rgy-k%c5%91szeg"}, "is_accepted": true, "score": 1, "last_activity_date": 1556135160, "creation_date": 1556135160, "answer_id": 55837506, "question_id": 55835891, "link": "https://stackoverflow.com/questions/55835891/how-to-retrieve-second-resultset-from-datareader-to-datatable/55837506#55837506", "title": "How to retrieve second resultset from DataReader to Datatable?", "body": "<p>Until the reader is not closed you can load the further tables. If you have multiple results I suggest you to populate a <code>DataSet</code>, which can contain multiple <code>DataTable</code> instances:</p>\n\n<pre><code>public static DataSet ToDataSet(IDataReader reader)\n{\n    DataSet ds = new DataSet();\n    while (!reader.IsClosed)\n    {\n        DataTable dt = new DataTable();\n        dt.Load(reader);\n        ds.Tables.Add(dt);\n    }\n\n    return ds;\n}\n</code></pre>\n"}], "owner": {"reputation": 106, "user_id": 5224564, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fadd7fa279dca6645a98e6e03c23dd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Terrance Jackson", "link": "https://stackoverflow.com/users/5224564/terrance-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 55837506, "answer_count": 1, "score": 0, "last_activity_date": 1556135160, "creation_date": 1556128351, "question_id": 55835891, "link": "https://stackoverflow.com/questions/55835891/how-to-retrieve-second-resultset-from-datareader-to-datatable", "title": "How to retrieve second resultset from DataReader to Datatable?", "body": "<p>I have an sp that brings back two sets of results. I need to put both of these in a datatable and convert them into a datamodel.</p>\n\n<p>How can I get the second set of results?</p>\n\n<pre><code> SqlConnection connection = new SqlConnection(connectionstring);\n                ce.Database.Initialize(force: false);    \n                connection.Open();\n\n                SqlCommand cmd = new SqlCommand(\"GetJournal\", connection);\n                cmd.CommandType = System.Data.CommandType.StoredProcedure;                  \n\n                SqlDataReader reader = cmd.ExecuteReader(CommandBehavior.CloseConnection);\n                var dataTable = new DataTable();\n                dataTable.Load(reader);\n                List&lt;Header&gt; headerList = dataTable.AsEnumerable().Select(values =&gt;\n                                                                   new Header\n                                                                   {\n                                                                       HeaderId = values.Field&lt;Int32&gt;(\"HeaderId\").ToString()                                                                   \n                                                                   }).ToList();\n\n                myList1 = headerList;\n                myList2 = detailList; &lt;_---- I need to populate detail list\n</code></pre>\n\n<p>Also is naming all of the fields explicitly the most efficient way to load this list? Is there some sort of serialization that I can do instead? I can have tables up to 500 columns</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 3072, "user_id": 1480165, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3f574c416f3d2b6bb53a60667fb1d2c0?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1480165/jon"}, "edited": false, "score": 3, "creation_date": 1556128444, "post_id": 55835888, "comment_id": 98336234, "body": "Show us your code, and what the array/data is that you&#39;re working with. Along with what your expected output should be. Hard to know much from reading this post."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1556128482, "post_id": 55835888, "comment_id": 98336251, "body": "&quot;Best way&quot; questions rarely fare well on Stack Overflow, especially when they are only accompanied by pseudo code."}, {"owner": {"reputation": 11253, "user_id": 5045688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87aed06c947625b429242fbcdf11f5e0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Petrov", "link": "https://stackoverflow.com/users/5045688/alexander-petrov"}, "edited": false, "score": 0, "creation_date": 1556132186, "post_id": 55835888, "comment_id": 98337874, "body": "Is it INI-file?"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 10962630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pzZDQ.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/10962630/adam"}, "is_accepted": false, "score": 0, "last_activity_date": 1556129066, "creation_date": 1556129066, "answer_id": 55836083, "question_id": 55835888, "link": "https://stackoverflow.com/questions/55835888/how-to-efficiently-edit-data-within-a-c-string-array/55836083#55836083", "title": "How to efficiently edit data within a C# String Array", "body": "<p>\"edit data within a string array\"</p>\n\n<pre><code>string[] myArray = { \"one\", \"two\", \"three\" };\n\nmyArray[1] = \"nottwo\";\n</code></pre>\n\n<p>Second value (<code>myArray[1]</code>) has changed from <code>two</code> to <code>nottwo</code>.</p>\n\n<p>Now going deeper into the description of your problem...</p>\n\n<p>You have mentioned keys &amp; values, for this you will very likely want to look into <code>Dictionary&lt;TKey,TValue&gt; Class</code>. See reference: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2?view=netframework-4.8\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2?view=netframework-4.8</a></p>\n\n<p>Example:</p>\n\n<pre><code>Dictionary&lt;int, string&gt; myDictionary = new Dictionary&lt;string, string&gt;();\nmyDictionary.Add(\"one\", \"Hello\");\nmyDictionary.Add(\"two\", \"World\");\nmyDictionary.Add(\"three\", \"This is\");\nmyDictionary.Add(\"sandwich\", \"a Dictionary.\");\n\nConsole.Writeline(myDictionary[\"one\"]);\nConsole.Writeline(myDictionary[\"two\"]);\nConsole.Writeline(myDictionary[\"three\"]);\nConsole.Writeline(myDictionary[\"sandwich\"]);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11224250, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CKKq3UpIPA4/AAAAAAAAAAI/AAAAAAAAAf4/dQJ0YCo0o84/photo.jpg?sz=128", "display_name": "voxeltrance", "link": "https://stackoverflow.com/users/11224250/voxeltrance"}, "is_accepted": true, "score": 0, "last_activity_date": 1556140914, "last_edit_date": 1556140914, "creation_date": 1556139100, "answer_id": 55838372, "question_id": 55835888, "link": "https://stackoverflow.com/questions/55835888/how-to-efficiently-edit-data-within-a-c-string-array/55838372#55838372", "title": "How to efficiently edit data within a C# String Array", "body": "<p>I've found some code that works for my use case.</p>\n\n<pre><code>public static string[] SetData(string section, string key, string value, string[] data)\n        {\n\n            var updatedData = data;\n            int sectionIndex = Array.IndexOf(data, \"[\" + section + \"]\");\n\n            if(sectionIndex &gt; -1)\n            {\n                //section found\n                for(int i = sectionIndex; i &lt; data.Length; i++)\n                {\n                    if (data[i].StartsWith(key))\n                    {\n                        //key found\n                        string newData = data[i];\n                        string tempString = newData.Remove(newData.LastIndexOf(\":\"));\n                        updatedData[i] = tempString + \": \" + value;\n                        break;     \n                    }\n                    else if (data[i].StartsWith(\"[\") &amp;&amp; !data[i].Contains(section))\n                    {\n                        //key not found, end of section reached.\n                        List&lt;string&gt; temp = data.ToList();\n                        temp.Insert(i, key + \": \" + value);\n                        updatedData = temp.ToArray();\n                        break;                \n                    }\n                    else if (i == data.Length - 1) //-1?\n                    {\n                        //key not found, end of file reached.\n                        List&lt;string&gt; temp = data.ToList();\n                        temp.Insert(i, key + \": \" + value);\n                        updatedData = temp.ToArray();\n                        break; \n                    }\n                }\n                return updatedData;\n            }\n            else\n            {\n                //section not found\n                updatedData = new string[data.Length + 2];\n\n                for (int i = 0; i &lt; data.Length; i++)\n                {\n                    updatedData[i] = data[i];\n                }\n\n                updatedData[updatedData.Length - 2] = \"[\" + section + \"]\";\n                updatedData[updatedData.Length - 1] = key + \": \" + value;\n                return updatedData;\n            }\n\n        }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11224250, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CKKq3UpIPA4/AAAAAAAAAAI/AAAAAAAAAf4/dQJ0YCo0o84/photo.jpg?sz=128", "display_name": "voxeltrance", "link": "https://stackoverflow.com/users/11224250/voxeltrance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 55838372, "answer_count": 2, "score": -3, "last_activity_date": 1556140914, "creation_date": 1556128347, "last_edit_date": 1556139074, "question_id": 55835888, "link": "https://stackoverflow.com/questions/55835888/how-to-efficiently-edit-data-within-a-c-string-array", "title": "How to efficiently edit data within a C# String Array", "body": "<p>I'm working on a simple program to edit data within a string array, and have been scratching my head over this for the past few nights. I'm relatively new to C# and would really appreciate some help.</p>\n\n<p>I want to edit a string array into something that looks like this (in theory):</p>\n\n<pre><code>[Section]\nKey: Data\nKey2: Data\nKey3: Data\n</code></pre>\n\n<p>If the section isn't found, it should be created (along with another line containing the key &amp; data passed to the method). If it is found, it should be checked until the next section (or the end of the file). If the key is not found within the section, it should be created at the end of the section. If it is found, the data of the key should be edited.</p>\n\n<p>What's the best way of doing this? I've tried a few times with some super hacky code and always wind up with something like this:</p>\n\n<pre><code>[Section]\nKey3: System.String[]\n</code></pre>\n\n<p>Sorry if this isn't the best question. I'm relatively new to C#, as I've said, and could really use the help. Thanks.</p>\n"}, {"tags": ["c#", "amazon-web-services", "amazon-s3", "service", "upload"], "comments": [{"owner": {"reputation": 3072, "user_id": 1480165, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3f574c416f3d2b6bb53a60667fb1d2c0?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1480165/jon"}, "edited": false, "score": 0, "creation_date": 1556128543, "post_id": 55835876, "comment_id": 98336271, "body": "Are you waiting enough time for the sample-2.pdf file to finish writing before you pick it up? Like are the PDFs being uploaded from an FTP, or dumped there by another process? Sometimes the file will take a second or 2 to finish uploading, and during that time it is locked by the OS."}, {"owner": {"reputation": 511, "user_id": 1222605, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/341b07890a44895078d6ff5951eba0b3?s=128&d=identicon&r=PG", "display_name": "linuxer", "link": "https://stackoverflow.com/users/1222605/linuxer"}, "reply_to_user": {"reputation": 3072, "user_id": 1480165, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3f574c416f3d2b6bb53a60667fb1d2c0?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1480165/jon"}, "edited": false, "score": 0, "creation_date": 1556128835, "post_id": 55835876, "comment_id": 98336386, "body": "@Jon Yeah, I&#39;ve waited minutes to hours. If I restart the service then I can upload a single file again. I am just copying and pasting the file from one dir to the monitored dir."}, {"owner": {"reputation": 3072, "user_id": 1480165, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3f574c416f3d2b6bb53a60667fb1d2c0?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1480165/jon"}, "edited": false, "score": 0, "creation_date": 1556130059, "post_id": 55835876, "comment_id": 98336935, "body": "Shouldn&#39;t this line be fileToUpload = new FileStream(filePath, FileMode.Open, FileAccess.Read))   ?"}, {"owner": {"reputation": 511, "user_id": 1222605, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/341b07890a44895078d6ff5951eba0b3?s=128&d=identicon&r=PG", "display_name": "linuxer", "link": "https://stackoverflow.com/users/1222605/linuxer"}, "reply_to_user": {"reputation": 3072, "user_id": 1480165, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3f574c416f3d2b6bb53a60667fb1d2c0?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1480165/jon"}, "edited": false, "score": 0, "creation_date": 1556134498, "post_id": 55835876, "comment_id": 98338822, "body": "@Jon That is what I originally had and it doesn&#39;t work. Tried again just barely to be sure."}, {"owner": {"reputation": 511, "user_id": 1222605, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/341b07890a44895078d6ff5951eba0b3?s=128&d=identicon&r=PG", "display_name": "linuxer", "link": "https://stackoverflow.com/users/1222605/linuxer"}, "reply_to_user": {"reputation": 3072, "user_id": 1480165, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3f574c416f3d2b6bb53a60667fb1d2c0?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1480165/jon"}, "edited": false, "score": 0, "creation_date": 1556135014, "post_id": 55835876, "comment_id": 98339016, "body": "@Jon It works if I copy multiple files in at the same time. The issue appears to be one at a time."}, {"owner": {"reputation": 511, "user_id": 1222605, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/341b07890a44895078d6ff5951eba0b3?s=128&d=identicon&r=PG", "display_name": "linuxer", "link": "https://stackoverflow.com/users/1222605/linuxer"}, "reply_to_user": {"reputation": 3072, "user_id": 1480165, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3f574c416f3d2b6bb53a60667fb1d2c0?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1480165/jon"}, "edited": false, "score": 0, "creation_date": 1556135307, "post_id": 55835876, "comment_id": 98339143, "body": "@Jon Could it have something to do with it being an async task?"}, {"owner": {"reputation": 3072, "user_id": 1480165, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3f574c416f3d2b6bb53a60667fb1d2c0?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1480165/jon"}, "edited": false, "score": 0, "creation_date": 1556203088, "post_id": 55835876, "comment_id": 98365457, "body": "Is it possible that you have 2 threads trying to access the same file at the same time? Try just uploading the files serially, using one thread, one at a time."}, {"owner": {"reputation": 511, "user_id": 1222605, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/341b07890a44895078d6ff5951eba0b3?s=128&d=identicon&r=PG", "display_name": "linuxer", "link": "https://stackoverflow.com/users/1222605/linuxer"}, "reply_to_user": {"reputation": 3072, "user_id": 1480165, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3f574c416f3d2b6bb53a60667fb1d2c0?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1480165/jon"}, "edited": false, "score": 0, "creation_date": 1556564089, "post_id": 55835876, "comment_id": 98473848, "body": "Ok, so I figured something out. It appears to only have the issue if I copy and paste. If I move the file to the directory it works every time. Is there a way to detect if the file is finished copying before atempting to upload?"}, {"owner": {"reputation": 3072, "user_id": 1480165, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3f574c416f3d2b6bb53a60667fb1d2c0?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/1480165/jon"}, "edited": false, "score": 0, "creation_date": 1556564841, "post_id": 55835876, "comment_id": 98474139, "body": "Yes, I use the answer from here IsFileLocked()  <a href=\"https://stackoverflow.com/questions/876473/is-there-a-way-to-check-if-a-file-is-in-use\" title=\"is there a way to check if a file is in use\">stackoverflow.com/questions/876473/&hellip;</a>"}], "owner": {"reputation": 511, "user_id": 1222605, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/341b07890a44895078d6ff5951eba0b3?s=128&d=identicon&r=PG", "display_name": "linuxer", "link": "https://stackoverflow.com/users/1222605/linuxer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556214815, "creation_date": 1556128309, "last_edit_date": 1556135282, "question_id": 55835876, "link": "https://stackoverflow.com/questions/55835876/windows-service-to-upload-to-s3", "title": "Windows service to upload to S3", "body": "<p>I have a windows service that monitors a folder for new files and then sends to a S3 Bucket to process. The service works for the first file, but then I get this exception for any files after that. </p>\n\n<p><strong><em>Message: 'The process cannot access the file 'C:\\PDFs\\sample-2.pdf' because it is being used by another process.' when writing an object</em></strong></p>\n\n<p>Here is part of the code for the upload:</p>\n\n<pre><code> private static async Task UploadFileAsync()\n    {\n        try\n        {\n            var fileTransferUtility = new TransferUtility(s3Client);\n\n            //await fileTransferUtility.UploadAsync(filePath, bucketName);\n\n            Log.WriteLine(\"FilePath: \" + filePath);\n\n            using (var fileToUpload = new FileStream(filePath, FileMode.Open, FileAccess.Read))\n            {\n                await fileTransferUtility.UploadAsync(fileToUpload, bucketName, fileToUpload.Name);\n            }\n\n            Log.WriteLine(\"File uploaded: \" + filePath);\n        }\n        catch (AmazonS3Exception e)\n        {\n            Log.WriteLine(\"Error encountered on server. Message: '\"+ e.Message +\"' when writing an object\");\n        }\n        catch (Exception e)\n        {\n            Log.WriteLine(\"Unknown encountered on pc. Message: '\" + e.Message + \"' when writing an object\");\n        }\n    }\n</code></pre>\n\n<p>I originally had the fileMode set to Read and File Access set to Read as well.</p>\n\n<p>Any clues?</p>\n"}, {"tags": ["c#", "jquery", "ajax", "asp.net-mvc"], "comments": [{"owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "edited": false, "score": 0, "creation_date": 1556128179, "post_id": 55835797, "comment_id": 98336116, "body": "What does your controller look like?"}, {"owner": {"reputation": 710, "user_id": 5951777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a5255a7970baafab5c34e7c07a18fe?s=128&d=identicon&r=PG", "display_name": "Dominik Szyma\u0144ski", "link": "https://stackoverflow.com/users/5951777/dominik-szyma%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1556128195, "post_id": 55835797, "comment_id": 98336128, "body": "Why would you have <code>&#47;domain&#47;</code> in your URL? I believe in jQuery (and other libraries too) <code>&#47;Order&#47;GetInformation</code> should mean <code>localhost:port&#47;Order&#47;GetInformation</code>"}, {"owner": {"reputation": 909, "user_id": 6722108, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CRr_JGF2zYc/AAAAAAAAAAI/AAAAAAAAAB8/UJS6DdDK8fU/photo.jpg?sz=128", "display_name": "Marcelo Vismari", "link": "https://stackoverflow.com/users/6722108/marcelo-vismari"}, "edited": false, "score": 0, "creation_date": 1556128610, "post_id": 55835797, "comment_id": 98336299, "body": "Did you try this <code>url: &#39;@Url.RouteUrl(new { controller = &quot;Order&quot;, action = &quot;GetInformation&quot; })&#47;&#39; + idcustomer</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "is_accepted": true, "score": 2, "last_activity_date": 1557406432, "last_edit_date": 1557406432, "creation_date": 1556128646, "answer_id": 55835968, "question_id": 55835797, "link": "https://stackoverflow.com/questions/55835797/access-controller-by-jquery/55835968#55835968", "title": "Access controller by JQuery", "body": "<p>You can use the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.mvc.urlhelper.action?view=aspnet-mvc-5.2\" rel=\"nofollow noreferrer\">UrlHelper</a> <code>Url.Action</code> method in the view:</p>\n\n<pre><code>$.ajax({ \n    url: '@Url.Action(\"GetInformation\", \"Order\", new { customerId })',\n    ...\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>url: '@Url.Action(\"GetInformation\", \"Order\")/' + idcustomer\n</code></pre>\n\n<p>When the view loads <code>@Url.Action</code> is parsed and is replaced by the actual value.  </p>\n\n<p>Advantages of using this method are that it uses the routing table rather than statically typed urls.</p>\n"}], "owner": {"reputation": 1462, "user_id": 5423852, "user_type": "registered", "profile_image": "https://graph.facebook.com/905018666212494/picture?type=large", "display_name": "Pankwood", "link": "https://stackoverflow.com/users/5423852/pankwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 55835968, "answer_count": 1, "score": 1, "last_activity_date": 1557406432, "creation_date": 1556127885, "last_edit_date": 1556128145, "question_id": 55835797, "link": "https://stackoverflow.com/questions/55835797/access-controller-by-jquery", "title": "Access controller by JQuery", "body": "<p>I have a view called InvoiceTo and a Controller called Order. Using JQuery, the default URL is: <code>url: ''</code>, and this is the result:</p>\n\n<p><code>locahost:port/domain/order/InvoiceTo</code></p>\n\n<p>If I change the URL: <code>url: /Order/GetInformation</code>, this is the result:</p>\n\n<p><code>locahost:port/domain/order/InvoiceTo/Order/GetInformation</code></p>\n\n<p>I've already tried lots of way to set my url, but is always wrong. This is my JQuery:</p>\n\n<pre><code>$(document).ready(function () {\n        $('#InvoiceToDrop').change(function () {\n            var $div = $('#modalPartial'); \n            var idcustomer = $(this).val(); \n            $.ajax({\n                url: '/Order/GetInformation/' + idcustomer,\n                type: 'GET',                \n                success: function (data) {\n                    alert(JSON.stringify(data));\n                },\n                error: function (error) {\n                }\n            })\n        });\n    });\n</code></pre>\n\n<p>What I have to do to have this URL:</p>\n\n<p><code>locahost:port/domain/Order/GetInformation/1</code></p>\n"}, {"tags": ["c#", "unit-testing", "extension-methods", "system.reflection", "microsoft-fakes"], "comments": [{"owner": {"reputation": 688, "user_id": 10802369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCJuI.jpg?s=128&g=1", "display_name": "TheBatman", "link": "https://stackoverflow.com/users/10802369/thebatman"}, "edited": false, "score": 1, "creation_date": 1556128138, "post_id": 55835790, "comment_id": 98336100, "body": "writing code in your class that is only used in unit tests is code smell."}, {"owner": {"reputation": 303, "user_id": 2487503, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/efebb294c5e0df7e0d77b216335d58cd?s=128&d=identicon&r=PG", "display_name": "Dar", "link": "https://stackoverflow.com/users/2487503/dar"}, "reply_to_user": {"reputation": 688, "user_id": 10802369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCJuI.jpg?s=128&g=1", "display_name": "TheBatman", "link": "https://stackoverflow.com/users/10802369/thebatman"}, "edited": false, "score": 0, "creation_date": 1556130091, "post_id": 55835790, "comment_id": 98336948, "body": "Fair enough.  So how do you test whether events belonging to a private object have received subscribers or not? Bear in mind, the methods subscribing to the events are also private."}, {"owner": {"reputation": 688, "user_id": 10802369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCJuI.jpg?s=128&g=1", "display_name": "TheBatman", "link": "https://stackoverflow.com/users/10802369/thebatman"}, "edited": false, "score": 1, "creation_date": 1556130398, "post_id": 55835790, "comment_id": 98337089, "body": "You generally do not unit test private methods. You test the side-effects in the public methods. There are dirty ways around this, some of which is discussed <a href=\"https://stackoverflow.com/questions/31308322/test-a-public-method-which-calls-a-private-method-using-nunit\">here</a>, but these methods are only really ideal for legacy code where you can&#39;t refactor into a better architecture. Make sure you understand SOLID and try to refactor if needed."}, {"owner": {"reputation": 303, "user_id": 2487503, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/efebb294c5e0df7e0d77b216335d58cd?s=128&d=identicon&r=PG", "display_name": "Dar", "link": "https://stackoverflow.com/users/2487503/dar"}, "reply_to_user": {"reputation": 688, "user_id": 10802369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCJuI.jpg?s=128&g=1", "display_name": "TheBatman", "link": "https://stackoverflow.com/users/10802369/thebatman"}, "edited": false, "score": 0, "creation_date": 1556132337, "post_id": 55835790, "comment_id": 98337942, "body": "I&#39;ve been thinking this over and talking to another seasoned developer.  Neither of us is convinced this is a code smell because I&#39;m extending the Stub class in the Unit test project. The extension method is not available to the production code."}, {"owner": {"reputation": 688, "user_id": 10802369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCJuI.jpg?s=128&g=1", "display_name": "TheBatman", "link": "https://stackoverflow.com/users/10802369/thebatman"}, "edited": false, "score": 0, "creation_date": 1556132440, "post_id": 55835790, "comment_id": 98337994, "body": "Fair enough, I didn&#39;t know this was being extended only in your Test solution. I would ask the seasoned developer what his thoughts are on unit testing private methods."}, {"owner": {"reputation": 303, "user_id": 2487503, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/efebb294c5e0df7e0d77b216335d58cd?s=128&d=identicon&r=PG", "display_name": "Dar", "link": "https://stackoverflow.com/users/2487503/dar"}, "reply_to_user": {"reputation": 688, "user_id": 10802369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCJuI.jpg?s=128&g=1", "display_name": "TheBatman", "link": "https://stackoverflow.com/users/10802369/thebatman"}, "edited": false, "score": 0, "creation_date": 1556134520, "post_id": 55835790, "comment_id": 98338832, "body": "If you look at the code example above, you&#39;ll see that the method I want to test is public.  But the method&#39;s sole purpose is to subscribe other methods to events in the _relayService object, which is private.  I want to know that this method did everything I expect and am trying to find a way to verify that it met my expectations. Is there a better way? Do I just decorate the method with [ExcludeFromCodeCoverage] and move on?"}], "answers": [{"tags": [], "owner": {"reputation": 303, "user_id": 2487503, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/efebb294c5e0df7e0d77b216335d58cd?s=128&d=identicon&r=PG", "display_name": "Dar", "link": "https://stackoverflow.com/users/2487503/dar"}, "is_accepted": false, "score": 1, "last_activity_date": 1556140277, "creation_date": 1556140277, "answer_id": 55838615, "question_id": 55835790, "link": "https://stackoverflow.com/questions/55835790/extension-method-to-unit-test-whether-events-have-been-subscribed/55838615#55838615", "title": "Extension method to unit test whether events have been subscribed", "body": "<p>Just in case this isn't heresy, here is how I got the extension method to do what I wanted:</p>\n\n<pre><code>    public static class StubIRelayServiceExtensions\n    {\n        public static bool EventHasSubscriber(this IRelayService relayService, string eventName)\n        {\n            var eventField = relayService.GetType().GetField(eventName + \"Event\",\n                BindingFlags.Public | BindingFlags.Instance);\n            object object_value = eventField.GetValue(relayService);\n            return object_value != null;\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 2487503, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/efebb294c5e0df7e0d77b216335d58cd?s=128&d=identicon&r=PG", "display_name": "Dar", "link": "https://stackoverflow.com/users/2487503/dar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556140277, "creation_date": 1556127866, "question_id": 55835790, "link": "https://stackoverflow.com/questions/55835790/extension-method-to-unit-test-whether-events-have-been-subscribed", "title": "Extension method to unit test whether events have been subscribed", "body": "<p>I'm writing unit tests using C# and Microsoft Fakes. The class I want to test subscribes to a sizable number of events defined in a service.  The Service reference is private. Fakes has generated a Stub of the service class' Interface. I'm trying to write an extension method for the Stub that will allow me to determine whether an event, that I identify by name, has a subscriber or not.</p>\n\n<p>I've searched for and found some examples but none have applied specifically to what I am doing and don't work. I think because of the Stub.</p>\n\n<p>For example, this code is borrowed from another StackOverflow post but doesn't work because it doesn't find any event by name:</p>\n\n<p><code>var rsEvent = relayService.GetType().GetEvent(eventName + \"Event\", BindingFlags.NonPublic | BindingFlags.Public | BindingFlags.Instance);</code></p>\n\n<p>Part of the reason is because Fakes appends Event to the name but even when I append \"Event\" to the name <code>GetEvent()</code> still doesn't recognize the event. The ONLY way I can retrieve it is by using <code>GetMember()</code>.  OK. That's great but how do I convert a MemberInfo object to an Event of <code>Action&lt;string&gt;</code> so that I can determine whether the event has been subscribed?  Or is there a better way? All I want to know is whether the named event has a subscriber.</p>\n\n<pre><code>public interface IRelayService\n{\n    ...\n    event Action&lt;string&gt; DisplayHandoffConversationTextEvent;\n    ...\n}\n</code></pre>\n\n<pre><code>public class MainWindowViewModel : ViewModelBase\n{\n    ...\n    private readonly IRelayService _relayService;\n    ....\n    public MainWindowViewModel()\n    {\n        ...\n        _relayService = SimpleIoc.Default.GetInstance&lt;IRelayService&gt;();\n        ...\n    }\n\n    public void InitializeServices() // method to be tested\n    {\n        ...\n         _relayService.DisplayHandoffConversationTextEvent += OnDisplayHandoffConversationText;\n        ...\n    }\n}\n</code></pre>\n\n<pre><code>[TestClass]\npublic class MainWindowViewModelTests\n{\n    [ClassInitialize]\n    public static void ClassInitialize(TestContext testContext)\n    {\n        ...\n        _relayService = new StubIRelayService();\n        ...\n    }\n\n    [TestMethod]\n    public void InitializeServices_Test()\n    {\n        // Arrange\n        var mwvm = new MainWindowViewModel();\n\n         // Act\n         mwvm.InitializeServices();\n\n        // Assert\n\n Assert.IsTrue(_relayService.DoesEventHaveSubscriber(\"DisplayHandoffConversationTextEvent\"));\n            Assert.IsFalse(_relayService.DoesEventHaveSubscriber(\"AdminCanceledCallEvent\"));\n    }\n\n}\n</code></pre>\n\n<pre><code>public static class StubIRelayServiceExtensions\n{\n    public static bool DoesEventHaveSubscriber(this IRelayService relayService, string eventName)\n    {\n        var rsEvent = relayService.GetType().GetMember(eventName + \"Event\",\n                BindingFlags.NonPublic | BindingFlags.Public | BindingFlags.Instance);\n        if (rsEvent.Length &gt; 0)\n        {\n            var member = rsEvent[0];\n            // What do I do here?\n            return true;\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<p>In the extension method, how do I determine whether the event has a subscriber? I'm stumped.</p>\n\n<p>TIA</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1556128022, "post_id": 55835724, "comment_id": 98336039, "body": "Dates have no format. They are just a number and it is only when you try to visualize them that you give them a <i>format</i> Also your code example will never work because the format doesn&#39;t match the string"}, {"owner": {"reputation": 844, "user_id": 910741, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/B7NLk.jpg?s=128&g=1", "display_name": "Bestter", "link": "https://stackoverflow.com/users/910741/bestter"}, "edited": false, "score": 1, "creation_date": 1556128045, "post_id": 55835724, "comment_id": 98336054, "body": "You not obliged to convert it to english, you can use the CultureInfo &quot;fr-FR&quot; (or &quot;fr-CA&quot;, &quot;fr-BE&quot;, etc.) depending of your country. I recommand that you detect all possible format, and loop between all format"}, {"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 2, "creation_date": 1556128061, "post_id": 55835724, "comment_id": 98336062, "body": "Have you tried <code>.Parse()</code> or <code>.TryParse()</code>?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1556128475, "post_id": 55835724, "comment_id": 98336248, "body": "Also <i>May</i> and <i>Apr</i> are not valid French months shortcut. Are they really in your input data set?"}, {"owner": {"reputation": 688, "user_id": 10802369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCJuI.jpg?s=128&g=1", "display_name": "TheBatman", "link": "https://stackoverflow.com/users/10802369/thebatman"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1556128593, "post_id": 55835724, "comment_id": 98336292, "body": "@Steve May and Apr parse perfectly fine in French format"}], "answers": [{"tags": [], "owner": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "is_accepted": false, "score": 3, "last_activity_date": 1556129044, "creation_date": 1556129044, "answer_id": 55836075, "question_id": 55835724, "link": "https://stackoverflow.com/questions/55835724/convert-french-dates-inconsistent-format-to-yyyy-mm-dd-format/55836075#55836075", "title": "Convert French Dates (inconsistent format) to yyyy-MM-dd format", "body": "<p>I would have 2 loops: enumerate all values and all formats, add successfully parsed to <code>List&lt;DateTime&gt;</code> and unsuccessfully to <code>List&lt;string&gt;</code> for further analysis:</p>\n\n<pre><code>var results = new List&lt;DateTime&gt;();\nvar errors = new List&lt;string&gt;();\n\nforeach (string value in values)\n{\n    bool success = false;\n\n    foreach (string format in formats)\n    {\n        if (DateTime.TryParseExact(value, format, culture, out var result))\n        {\n            results.Add(result);\n            success = true;\n            break;\n        }\n    }\n\n    if (!success)\n    {\n        errors.Add(value);\n    }\n}\n\nreturn (results, errors);\n</code></pre>\n\n<hr>\n\n<p>There is <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.datetime.tryparseexact?view=netframework-4.8#System_DateTime_TryParseExact_System_String_System_String___System_IFormatProvider_System_Globalization_DateTimeStyles_System_DateTime__\" rel=\"nofollow noreferrer\">an overload</a> accepting <code>string[] formats</code> what simplified the implementation even further:</p>\n\n<pre><code>public static bool TryParseExact (string s, string[] formats, IFormatProvider provider, System.Globalization.DateTimeStyles style, out DateTime result);\n</code></pre>\n\n<p>Like this:</p>\n\n<pre><code>var results = new List&lt;DateTime&gt;();\nvar errors = new List&lt;string&gt;();\n\nforeach (string value in values)\n{\n    if (DateTime.TryParseExact(value, formats, culture, out var result))\n    {\n        results.Add(result);\n    }\n    else\n    {\n        errors.Add(value);\n    }\n}\n\nreturn (results, errors);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 688, "user_id": 10802369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LCJuI.jpg?s=128&g=1", "display_name": "TheBatman", "link": "https://stackoverflow.com/users/10802369/thebatman"}, "is_accepted": false, "score": 2, "last_activity_date": 1556129711, "creation_date": 1556129711, "answer_id": 55836252, "question_id": 55835724, "link": "https://stackoverflow.com/questions/55835724/convert-french-dates-inconsistent-format-to-yyyy-mm-dd-format/55836252#55836252", "title": "Convert French Dates (inconsistent format) to yyyy-MM-dd format", "body": "<p>C# is actually really good at parsing DateTimes in various formats. </p>\n\n<pre><code>DateTime oDate = DateTime.Parse(oTime, CultureInfo.GetCultureInfo(\"fr-FR\"));\n</code></pre>\n\n<p>will get you the correct DateTime for every one of your examples except for <code>1er d\u00e9cembre 2014</code> and <code>Le 26 Janvier 2016</code>, for which it will throw an exception. TryParse can do these, but will result in bad values. TryParseExact requires you to know the format ahead of time. You do not have to do the month conversion yourself, however. DateTime can handle that.</p>\n\n<p>The best solution would be to validate your inputs. If that is too much work, I would construct a list of all the possible formats you might receive and loop through each with TryParseExact. If you can't know all possible formats, which I'm assuming is the case with examples like <code>1er d\u00e9cembre 2014</code>, then you really aren't in a good spot. A dirty but quick solution would be to wrap the code I posted above in a try/catch and then try alternate parsing methods on Exception. </p>\n"}], "owner": {"reputation": 1618, "user_id": 3789892, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/YCbSM.png?s=128&g=1", "display_name": "Sathish", "link": "https://stackoverflow.com/users/3789892/sathish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1556129711, "creation_date": 1556127597, "last_edit_date": 1556128621, "question_id": 55835724, "link": "https://stackoverflow.com/questions/55835724/convert-french-dates-inconsistent-format-to-yyyy-mm-dd-format", "title": "Convert French Dates (inconsistent format) to yyyy-MM-dd format", "body": "<p>I am trying to convert the following string (a mixture of French date format and English date format) values into yyyy-MM-dd format.  </p>\n\n<pre><code>20 Avril 2001\n20-Apr-01\n22 Mai 2001\n22-May-01\n29 Mai 2001\n8 Juin 2001\n15 Juin 2001\n18-Jun-01\n21 Juin 2001\n06-Nov-01\n1er d\u00e9cembre 2014\n3 D\u00e9cembre 2014\nLe 26 Janvier 2016\n8 F\u00e9vrier 2016\n</code></pre>\n\n<p>The issue is that the format is not consistent. I am planning to replace the French months as below so all the month values are in English:</p>\n\n<pre><code>Janvier     =   January\nF\u00e9vrier     =   February\nMars        =   March\nAvril       =   April\nMai         =   May\nJuin        =   June\nJuillet     =   July\nAout        =   August\nSeptembre   =   September\nOctobre     =   October\nNovembre    =   November\nD\u00e9cembre    =   December   \n</code></pre>\n\n<p>Then, check the format (whether it is DD-MM-YY or DD MMM YYYY etc) and convert it to DateTime as below:</p>\n\n<pre><code>string iString = \"15 June 2001\"; //one of the value from the above list.\nstring format = \"yyyy-MM-dd\";\nDateTime oDate = DateTime.ParseExact(iString, format, System.Globalization.CultureInfo.InvariantCulture);\n</code></pre>\n\n<p>Is there a better way of doing this?</p>\n\n<p><strong>EDIT:</strong> I need to import these date values into SQL Server, so I am trying to convert the string values into \"yyyy-MM-dd\" format.</p>\n"}, {"tags": ["c#", "roslyn"], "comments": [{"owner": {"reputation": 1016, "user_id": 363886, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a7d1ccf4de90f3eb814345fdc516b6e?s=128&d=identicon&r=PG", "display_name": "Peter M.", "link": "https://stackoverflow.com/users/363886/peter-m"}, "edited": false, "score": 0, "creation_date": 1556228609, "post_id": 55835646, "comment_id": 98377267, "body": "Did you try  <code>context.Options.AditionalFiles</code> collection of <code>AdditionalText</code> what has property <code>Path</code> or method <code>GetText()</code> ? Or just <code>context.Project.Documents </code>"}], "owner": {"reputation": 471, "user_id": 2367996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bcee6129ba6b6c2a9580ffedb745b9f?s=128&d=identicon&r=PG", "display_name": "Luke Schoen", "link": "https://stackoverflow.com/users/2367996/luke-schoen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 257, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1556127267, "creation_date": 1556127267, "question_id": 55835646, "link": "https://stackoverflow.com/questions/55835646/can-i-get-project-path-or-properties-from-roslyn-analyzer-analysis-context", "title": "Can I get project path or properties from Roslyn analyzer analysis context?", "body": "<p>I'm implementing a Roslyn analyzer and I want to take different action based on how some properties are set within the csproj. </p>\n\n<p>Currently I'm accomplishing this by setting \"AdditionalFiles\" node in a props file imported with the analyzer. This points to the .csproj and then I manually xml-parse the project file looking for the properties I care about.</p>\n\n<pre><code>    &lt;ItemGroup&gt;\n      &lt;AdditionalFiles Include=\"$(ProjectPath)\" /&gt;\n    &lt;/ItemGroup&gt;   \n</code></pre>\n\n<pre><code>        private void AnalyzeAdditionalFiles(CompilationStartAnalysisContext context)\n        {\n            ICompilationStartAnalysisContextWrapper wrappedContext = this.compilationStartAnalysisContextWrapperFactory.Create(context);\n\n            if (wrappedContext.GetAdditionalTexts()\n                              .Any(addtionalFile =&gt; &lt;xml parse and validate csproj&gt;))\n            {\n                context.RegisterSyntaxNodeAction(this.AnalyzeSyntaxNode, PossibleSyntaxKinds);\n            }\n        }\n</code></pre>\n\n<p>I've been told there may be a first-class supported way to do one or both of these actions without requiring what feels like hacky versions of: </p>\n\n<ul>\n<li>Find the path to the csproj</li>\n<li>Fetch properties from the csproj</li>\n</ul>\n\n<p>Is this possible? Ideally I'd be looking for the moral equivalent of</p>\n\n<pre><code>AnalysisContext.Project.Properties[\"MyCustomProp\"]\n</code></pre>\n"}, {"tags": ["c#", ".net", "list", ".net-framework-version", "capacity"], "comments": [{"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "edited": false, "score": 0, "creation_date": 1556127131, "post_id": 55835580, "comment_id": 98335632, "body": "You should explain why you need to know this so it&#39;s easier to answer the question."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1556127187, "post_id": 55835580, "comment_id": 98335673, "body": "Ver 4.8 <a href=\"https://referencesource.microsoft.com/#mscorlib/system/collections/generic/list.cs,405\" rel=\"nofollow noreferrer\">referencesource.microsoft.com/#mscorlib/system/collections/&hellip;</a>"}, {"owner": {"reputation": 35, "user_id": 8753842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iWqu7.jpg?s=128&g=1", "display_name": "VanHakobyan", "link": "https://stackoverflow.com/users/8753842/vanhakobyan"}, "edited": false, "score": 0, "creation_date": 1556127328, "post_id": 55835580, "comment_id": 98335728, "body": "It&#39;s issue for memory management"}, {"owner": {"reputation": 710, "user_id": 5951777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a5255a7970baafab5c34e7c07a18fe?s=128&d=identicon&r=PG", "display_name": "Dominik Szyma\u0144ski", "link": "https://stackoverflow.com/users/5951777/dominik-szyma%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1556127738, "post_id": 55835580, "comment_id": 98335921, "body": "@HakobyanVanik why would it be an issue for memory management? It&#39;s a matter to make sure additions are fast enough. The thing is, if you get to one capacity extension, it&#39;s quite probable you&#39;ll get to another one. It&#39;s only bad when you balance on the edge of the size extensions"}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 1, "creation_date": 1556127952, "post_id": 55835580, "comment_id": 98336004, "body": "@HakobyanVanik maybe your question is missing a question mark? You could edit it, if this is the case."}, {"owner": {"reputation": 35, "user_id": 8753842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iWqu7.jpg?s=128&g=1", "display_name": "VanHakobyan", "link": "https://stackoverflow.com/users/8753842/vanhakobyan"}, "reply_to_user": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1556128294, "post_id": 55835580, "comment_id": 98336170, "body": "Edited @TheodorZoulias"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 8753842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iWqu7.jpg?s=128&g=1", "display_name": "VanHakobyan", "link": "https://stackoverflow.com/users/8753842/vanhakobyan"}, "edited": false, "score": 0, "creation_date": 1556127803, "post_id": 55835652, "comment_id": 98335954, "body": "In .net core      <code>private void AddWithResize(T item)         {             int size = _size;             EnsureCapacity(size + 1);             _size = size + 1;             _items[size] = item;         } </code>"}, {"owner": {"reputation": 710, "user_id": 5951777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a5255a7970baafab5c34e7c07a18fe?s=128&d=identicon&r=PG", "display_name": "Dominik Szyma\u0144ski", "link": "https://stackoverflow.com/users/5951777/dominik-szyma%c5%84ski"}, "reply_to_user": {"reputation": 35, "user_id": 8753842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iWqu7.jpg?s=128&g=1", "display_name": "VanHakobyan", "link": "https://stackoverflow.com/users/8753842/vanhakobyan"}, "edited": false, "score": 0, "creation_date": 1556127944, "post_id": 55835652, "comment_id": 98335999, "body": "@HakobyanVanik I believe code you showed is: <a href=\"https://github.com/dotnet/coreclr/blob/master/src/System.Private.CoreLib/shared/System/Collections/Generic/List.cs\" rel=\"nofollow noreferrer\">github.com/dotnet/coreclr/blob/master/src/&hellip;</a> . If so, look up the <code>EnsureCapacity</code> method, in the same file. Line #409: <code>int newCapacity = _items.Length == 0 ? DefaultCapacity : _items.Length * 2;</code>"}, {"owner": {"reputation": 35, "user_id": 8753842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iWqu7.jpg?s=128&g=1", "display_name": "VanHakobyan", "link": "https://stackoverflow.com/users/8753842/vanhakobyan"}, "edited": false, "score": 0, "creation_date": 1556128017, "post_id": 55835652, "comment_id": 98336037, "body": "Yes of course   ."}, {"owner": {"reputation": 35, "user_id": 8753842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iWqu7.jpg?s=128&g=1", "display_name": "VanHakobyan", "link": "https://stackoverflow.com/users/8753842/vanhakobyan"}, "edited": false, "score": 0, "creation_date": 1556128605, "post_id": 55835652, "comment_id": 98336296, "body": "<a href=\"https://gyazo.com/9daf489ee087f5737bdd5d31e74d03bb\" rel=\"nofollow noreferrer\">gyazo.com/9daf489ee087f5737bdd5d31e74d03bb</a>"}, {"owner": {"reputation": 35, "user_id": 8753842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iWqu7.jpg?s=128&g=1", "display_name": "VanHakobyan", "link": "https://stackoverflow.com/users/8753842/vanhakobyan"}, "edited": false, "score": 0, "creation_date": 1556128614, "post_id": 55835652, "comment_id": 98336302, "body": "<a href=\"https://gyazo.com/6836fc1eb29cd53f2c0227eb4bad5859\" rel=\"nofollow noreferrer\">gyazo.com/6836fc1eb29cd53f2c0227eb4bad5859</a>"}, {"owner": {"reputation": 35, "user_id": 8753842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iWqu7.jpg?s=128&g=1", "display_name": "VanHakobyan", "link": "https://stackoverflow.com/users/8753842/vanhakobyan"}, "edited": false, "score": 0, "creation_date": 1556128632, "post_id": 55835652, "comment_id": 98336310, "body": "look please images"}, {"owner": {"reputation": 710, "user_id": 5951777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a5255a7970baafab5c34e7c07a18fe?s=128&d=identicon&r=PG", "display_name": "Dominik Szyma\u0144ski", "link": "https://stackoverflow.com/users/5951777/dominik-szyma%c5%84ski"}, "reply_to_user": {"reputation": 35, "user_id": 8753842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iWqu7.jpg?s=128&g=1", "display_name": "VanHakobyan", "link": "https://stackoverflow.com/users/8753842/vanhakobyan"}, "edited": false, "score": 0, "creation_date": 1556296666, "post_id": 55835652, "comment_id": 98403493, "body": "@HakobyanVanik I am not sure what do you mean. Do these images somehow contradict what I said?"}], "tags": [], "owner": {"reputation": 710, "user_id": 5951777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a5255a7970baafab5c34e7c07a18fe?s=128&d=identicon&r=PG", "display_name": "Dominik Szyma\u0144ski", "link": "https://stackoverflow.com/users/5951777/dominik-szyma%c5%84ski"}, "is_accepted": true, "score": 1, "last_activity_date": 1556127295, "creation_date": 1556127295, "answer_id": 55835652, "question_id": 55835580, "link": "https://stackoverflow.com/questions/55835580/in-net-framework-list-capacity-doubles-as-the-list-grows/55835652#55835652", "title": "In .net framework list capacity doubles as the list grows?", "body": "<p>According to the .NET Reference Source, ArrayList, the underlying type for List grows twice when new element would not fit in already reserved space.</p>\n\n<p>This does not seem to depend on any other factor, no matter which .NET Framework you take into account.</p>\n\n<p>Source: <a href=\"https://referencesource.microsoft.com/#mscorlib/system/collections/arraylist.cs,9df2bbf8d237742e\" rel=\"nofollow noreferrer\">https://referencesource.microsoft.com/#mscorlib/system/collections/arraylist.cs,9df2bbf8d237742e</a></p>\n"}], "owner": {"reputation": 35, "user_id": 8753842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iWqu7.jpg?s=128&g=1", "display_name": "VanHakobyan", "link": "https://stackoverflow.com/users/8753842/vanhakobyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "closed_date": 1556127287, "accepted_answer_id": 55835652, "answer_count": 1, "score": -1, "last_activity_date": 1556127960, "creation_date": 1556126984, "last_edit_date": 1556127960, "question_id": 55835580, "link": "https://stackoverflow.com/questions/55835580/in-net-framework-list-capacity-doubles-as-the-list-grows", "closed_reason": "Needs details or clarity", "title": "In .net framework list capacity doubles as the list grows?", "body": "<p>In .net framework list capacity doubles as the list grows or another algorithm works in new versions (.net framework 4.7 or 4.8)???</p>\n\n<p>I have a sense that it is connected with the CPU number</p>\n\n<p>.net framework <a href=\"https://referencesource.microsoft.com/#mscorlib/system/collections/generic/list.cs,405\" rel=\"nofollow noreferrer\">https://referencesource.microsoft.com/#mscorlib/system/collections/generic/list.cs,405</a></p>\n\n<p>.net core <a href=\"https://source.dot.net/#System.Private.CoreLib/shared/System/Collections/Generic/List.cs,eb66b6616c6fd4ef\" rel=\"nofollow noreferrer\">https://source.dot.net/#System.Private.CoreLib/shared/System/Collections/Generic/List.cs,eb66b6616c6fd4ef</a></p>\n"}, {"tags": ["c#", "json", "ajax", "visual-studio-2010", "asp.net-mvc-2"], "comments": [{"owner": {"reputation": 178, "user_id": 2246274, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e5531ad8fc669f90c5583a60d0039647?s=128&d=identicon&r=PG", "display_name": "sourkrause", "link": "https://stackoverflow.com/users/2246274/sourkrause"}, "edited": false, "score": 0, "creation_date": 1556138493, "post_id": 55835494, "comment_id": 98340509, "body": "If you make the action an HttpGet and the ajax type a GET what does data look like?  You don&#39;t get anything?"}, {"owner": {"reputation": 1263, "user_id": 5326667, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tuiZS.jpg?s=128&g=1", "display_name": "Mannan Bahelim", "link": "https://stackoverflow.com/users/5326667/mannan-bahelim"}, "edited": false, "score": 0, "creation_date": 1558437917, "post_id": 55835494, "comment_id": 99093096, "body": "data.propertyname"}], "owner": {"reputation": 46, "user_id": 10882215, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lo5RfSv41bg/AAAAAAAAAAI/AAAAAAAAABI/-HyT9O3bpWw/photo.jpg?sz=128", "display_name": "Diego Abaraham Hernandez Marti", "link": "https://stackoverflow.com/users/10882215/diego-abaraham-hernandez-marti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1556139698, "creation_date": 1556126674, "last_edit_date": 1556139698, "question_id": 55835494, "link": "https://stackoverflow.com/questions/55835494/how-to-receive-an-array-in-ajax-send-from-the-asp-net-controller", "title": "How to receive an array in AJAX send from the ASP .NET controller?", "body": "<p>The tecnologies are:</p>\n\n<ol>\n<li>ASP .NET MVC2</li>\n<li>JQuery v3</li>\n</ol>\n\n<p>My code is as follows:</p>\n\n<p>Controller:</p>\n\n<pre><code>public ActionResult Create()\n    {\n        ViewData[\"department\"] = new SelectList(_db.department.ToList(), \"idDepartment\", \"department\", 1);\n        ViewData[\"municipality\"] = new SelectList(_db.municipality.Where(m =&gt; m.idDepartment == 1).ToList(), \"idMunicipality\", \"municipality\", 1);\n        return View();\n    }\n\n    [HttpPost]\n    public JsonResult Ajaxmuni(int? Id)\n    {\n        var data = _db.municipality.Where(m =&gt; m.idDepartment == Id).ToList();\n        return this.Json(data);\n    }\n</code></pre>\n\n<p>View (front-end)</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function () {\n    $('#department').change(function () {\n        var $idDepart = $('#department').val();\n        $.ajax({\n            url: \"/Filegeneral/Ajaxmuni\",\n            dataType: \"json\",\n            type: \"POST\",\n            contentType: \"application/json; charset=utf-8\",\n            cache: false,\n            data: { Id: $idDepart},\n            success: function (data) {\n                alert(\"data: \" + data);\n            },\n            error: function (xhr) {\n                alert(\"Error\" + xhr);\n            }\n       });\n    });\n});\n&lt;/script&gt;\n&lt;label for=\"department\"&gt;Select deparment&lt;/label&gt;\n&lt;%: Html.DropDownList(\"department\", null, new { @class = \"form-control\"})%&gt;                        \n\n&lt;label for=\"municipality\"&gt;Select municipality&lt;/label&gt;\n&lt;%: Html.DropDownList(\"municipality\", null, new { @class = \"form-control\"})%&gt;\n</code></pre>\n\n<p>The action Ajaxmuni does not receive the value that I sent from ajax, if I change to GET I will receive it but I do not want it to be by GET but by POST. Now when I do it for GET I receive the department Id but I can not receive the list in the client's view. how do i solve this.</p>\n\n<p><strong>UPDATE</strong>\nI managed to solve the part of which I could not receive the value of the Id in the action, doing in this way:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function () {\n        $('#department').change(function () {\n            var $idDepart = $('#department').val();\n                $.ajax({\n                    url: \"/Filegeneral/Ajaxmuni\",\n                    type: \"POST\",\n                    cache: false,\n                    data: { Id: $idDepart},\n                    success: function (data) {\n                        alert(\"data: \" + data);\n                    },\n                    error: function (xhr) {\n                        alert(\"Error\" + xhr);\n                    }\n                });\n        });\n    });\n</code></pre>\n\n<p></p>\n\n<p>In the controller:</p>\n\n<pre><code>[HttpPost]\npublic JsonResult Ajaxmuni(int? Id)\n{\n    var data = _db.municipality.Where(m =&gt; m.idDepartment == Id).Select(m =&gt; new{ m.idMunicipality, m.municipality});\n    return this.Json(data);\n}\n</code></pre>\n\n<p>now I do not know how to extract the data in the view, the method </p>\n\n<pre><code>alert(\"data:\" + data);\n</code></pre>\n\n<p>month shows the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FqeLM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>how do I extract the data?</p>\n"}, {"tags": ["c#", "sql-server", "stored-procedures", "ssis"], "comments": [{"owner": {"reputation": 59, "user_id": 11186737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13f0c349390458dd2a3f5efaff7ffaf?s=128&d=identicon&r=PG&f=1", "display_name": "D.Rane", "link": "https://stackoverflow.com/users/11186737/d-rane"}, "edited": false, "score": 0, "creation_date": 1556129650, "post_id": 55835280, "comment_id": 98336744, "body": "i found  a solution that works.Thank you."}, {"owner": {"reputation": 59, "user_id": 11186737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13f0c349390458dd2a3f5efaff7ffaf?s=128&d=identicon&r=PG&f=1", "display_name": "D.Rane", "link": "https://stackoverflow.com/users/11186737/d-rane"}, "edited": false, "score": 0, "creation_date": 1556130095, "post_id": 55835280, "comment_id": 98336951, "body": "Solution (Change):<code>string query1 = DataSet dset = new DataSet(); DataTable d_table1 = dset.Tables.Add(&quot;Fig1_1&quot;); DataTable d_table2 = dset.Tables.Add(&quot;Fig1_2&quot;);  foreach (DataTable table in dset.Tables){ &#47;&#47;code}</code>"}, {"owner": {"reputation": 30925, "user_id": 7031230, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sPvnP.jpg?s=128&g=1", "display_name": "Hadi", "link": "https://stackoverflow.com/users/7031230/hadi"}, "edited": false, "score": 0, "creation_date": 1556130780, "post_id": 55835280, "comment_id": 98337261, "body": "You should write this as an answer not a comment"}], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 11186737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13f0c349390458dd2a3f5efaff7ffaf?s=128&d=identicon&r=PG&f=1", "display_name": "D.Rane", "link": "https://stackoverflow.com/users/11186737/d-rane"}, "is_accepted": false, "score": 1, "last_activity_date": 1556134377, "creation_date": 1556134377, "answer_id": 55837302, "question_id": 55835280, "link": "https://stackoverflow.com/questions/55835280/how-can-i-pass-multiple-stored-procedures-to-my-script-task-c-code-in-ssis-and/55837302#55837302", "title": "How can I pass multiple stored procedures to my script task C# code in SSIS and generate output files?", "body": "<p>Solution:</p>\n\n<pre><code>public void Main()\n        {\n            // TODO: Add your code here\n\n            string datetime = DateTime.Now.ToString(\"yyyyMMddHHmmss\");\n            try\n            {\n\n                //Declare Variables\n                string FileNamePart = Dts.Variables[\"User::FlatFileNamePart\"].Value.ToString();\n                string DestinationFolder = Dts.Variables[\"User::DestinationFolder\"].Value.ToString();\n                string StoredProcedureFig1_1 = Dts.Variables[\"User::StoredProcedureFig1_1\"].Value.ToString();\n                string StoredProcedureFig1_2 = Dts.Variables[\"User::StoredProcedureFig1_2\"].Value.ToString();\n                string FileDelimiter = Dts.Variables[\"User::FileDelimiter\"].Value.ToString();\n                string FileExtension = Dts.Variables[\"User::FileExtension\"].Value.ToString();\n\n\n\n                //USE ADO.NET Connection from SSIS Package to get data from table\n                SqlConnection myADONETConnection = new SqlConnection();\n                myADONETConnection = (SqlConnection)(Dts.Connections[\"localhost.onramps_tacc\"].AcquireConnection(Dts.Transaction)\n                    as SqlConnection);\n\n\n\n                //Execute Stored Procedure and save results in data table\n                string query1 = \"EXEC \" + StoredProcedureFig1_1;\n                string query2 = \"EXEC \" + StoredProcedureFig1_2;\n                SqlCommand cmd1 = new SqlCommand(query1, myADONETConnection);\n                SqlCommand cmd2 = new SqlCommand(query2, myADONETConnection);\n                DataSet dset = new DataSet();\n                DataTable d_table1 = dset.Tables.Add(\"Fig1_1\");\n                DataTable d_table2 = dset.Tables.Add(\"Fig1_2\");\n                d_table1.Load(cmd1.ExecuteReader());\n                d_table2.Load(cmd2.ExecuteReader());\n                myADONETConnection.Close();\n\n\n                foreach (DataTable table in dset.Tables)\n                {\n                    string FileFullPath = DestinationFolder + \"\\\\\" + FileNamePart + \"_\" + table + datetime + FileExtension;\n\n                    StreamWriter sw = null;\n                    sw = new StreamWriter(FileFullPath, false);\n\n                    // Write the Header Row to File\n\n                    int ColumnCount = table.Columns.Count;\n                    for (int ic = 0; ic &lt; ColumnCount; ic++)\n                    {\n                        sw.Write(table.Columns[ic]);\n                        if (ic &lt; ColumnCount - 1)\n                        {\n                            sw.Write(FileDelimiter);\n\n                        }\n                    }\n                    sw.Write(sw.NewLine);\n                    // Write All Rows to the File\n                    foreach (DataRow dr in table.Rows)\n                    {\n                        for (int ir = 0; ir &lt; ColumnCount; ir++)\n                        {\n                            if (!Convert.IsDBNull(dr[ir]))\n                            {\n                                sw.Write(dr[ir].ToString());\n\n                            }\n                            if (ir &lt; ColumnCount - 1)\n                            {\n                                sw.Write(FileDelimiter);\n\n                            }\n                        }\n                        sw.Write(sw.NewLine);\n\n\n\n                    }\n                    sw.Close();\n\n                    Dts.TaskResult = (int)ScriptResults.Success;\n                }\n            }\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 11186737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13f0c349390458dd2a3f5efaff7ffaf?s=128&d=identicon&r=PG&f=1", "display_name": "D.Rane", "link": "https://stackoverflow.com/users/11186737/d-rane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 860, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556134377, "creation_date": 1556125731, "last_edit_date": 1556129523, "question_id": 55835280, "link": "https://stackoverflow.com/questions/55835280/how-can-i-pass-multiple-stored-procedures-to-my-script-task-c-code-in-ssis-and", "title": "How can I pass multiple stored procedures to my script task C# code in SSIS and generate output files?", "body": "<p>How can I pass multiple stored procedures to my Scripttask C# code in SSIS and generate output files?</p>\n\n<p>I am successfully able to  run one stored procedure from SQL Server database and output one file.</p>\n\n<pre><code>public void Main()\n{\n    string datetime = DateTime.Now.ToString(\"yyyyMMddHHmmss\");\n\n    try\n    {\n            string FileNamePart = Dts.Variables[\"User::FlatFileNamePart\"].Value.ToString();\n            string DestinationFolder = Dts.Variables[\"User::DestinationFolder\"].Value.ToString();\n            string StoredProcedureFig1_1 = Dts.Variables[\"User::StoredProcedureFig1_1\"].Value.ToString();\n            string StoredProcedureFig1_2 = Dts.Variables[\"User::StoredProcedureFig1_2\"].Value.ToString();\n            string FileDelimiter = Dts.Variables[\"User::FileDelimiter\"].Value.ToString();\n            string FileExtension = Dts.Variables[\"User::FileExtension\"].Value.ToString();\n\n            // USE ADO.NET Connection from SSIS Package to get data from table\n            SqlConnection myADONETConnection = new SqlConnection();\n            myADONETConnection = (SqlConnection)(Dts.Connections[\"localhost.onramps_tacc\"].AcquireConnection(Dts.Transaction) as SqlConnection);\n\n            // Execute stored procedure and save results in data table\n            string query1 = \"EXEC \" + StoredProcedureFig1_1;\n\n            // how to run below query too? Stackoverflow question                 \n            string query2 = \"EXEC \" + StoredProcedureFig1_2;\n\n            SqlCommand cmd = new SqlCommand(query1, myADONETConnection);\n            DataTable d_table = new DataTable();\n\n            d_table.Load(cmd.ExecuteReader());\n\n            myADONETConnection.Close();\n\n            string FileFullPath = DestinationFolder + \"\\\\\" + FileNamePart + \"_\" + datetime + FileExtension;\n\n            StreamWriter sw = null;\n            sw = new StreamWriter(FileFullPath, false);\n\n            // Write the Header Row to File\n            String var = d_table + \"i\";\n            int ColumnCount = var.Columns.Count;\n\n            for (int ic = 0; ic &lt; ColumnCount; ic++)\n            {\n                    sw.Write(d_table.Columns[ic]);\n\n                    if (ic &lt; ColumnCount - 1)\n                    {\n                        sw.Write(FileDelimiter);\n                    }\n            }\n\n            sw.Write(sw.NewLine);\n\n            // Write all rows to the file\n            foreach (DataRow dr in d_table.Rows)\n            {\n                    for (int ir = 0; ir &lt; ColumnCount; ir++)\n                    {\n                        if (!Convert.IsDBNull(dr[ir]))\n                        {\n                            sw.Write(dr[ir].ToString());\n                        }\n\n                        if (ir &lt; ColumnCount - 1)\n                        {\n                            sw.Write(FileDelimiter);\n                        }\n                    }\n\n                    sw.Write(sw.NewLine);\n            }\n\n            sw.Close();\n\n            Dts.TaskResult = (int)ScriptResults.Success;\n    }\n    catch (Exception exception)\n    {\n        // Create Log File for Errors\n        using (StreamWriter sw = File.CreateText(Dts.Variables[\"User::LogFolder\"].Value.ToString() + \"\\\\\" +\n                \"ErrorLog_\" + datetime + \".log\"))\n        {\n            sw.WriteLine(exception.ToString());\n            Dts.TaskResult = (int)ScriptResults.Failure;\n        }\n    } \n\n    Dts.TaskResult = (int)ScriptResults.Success;\n}\n</code></pre>\n\n<p>Actual:</p>\n\n<p>one stored procedure as input and output the columns and rows in one O/P file OR error file.</p>\n\n<p>Expected:</p>\n\n<p>Accept multiple stored procedures and corresponding generate OutputFiles and error files</p>\n"}]