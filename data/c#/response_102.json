[{"tags": ["c#", "winforms", "mouseevent", "picturebox", "transparent"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5921954"}, "edited": false, "score": 0, "creation_date": 1482375056, "post_id": 41274228, "comment_id": 69751591, "body": "I just tried it and it worked perfectly for me. And that delta thing resulted to be very useful for my special case. Thanks!"}, {"owner": {"reputation": 483, "user_id": 7303706, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c75cd3ace7c90a1975f1a4c714c9087?s=128&d=identicon&r=PG&f=1", "display_name": "Neme", "link": "https://stackoverflow.com/users/7303706/neme"}, "edited": false, "score": 0, "creation_date": 1482375640, "post_id": 41274228, "comment_id": 69751742, "body": "I&#39;m just wondering if this is correct even for higher DPIs. Maybe somebody can comment on that."}], "tags": [], "owner": {"reputation": 483, "user_id": 7303706, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c75cd3ace7c90a1975f1a4c714c9087?s=128&d=identicon&r=PG&f=1", "display_name": "Neme", "link": "https://stackoverflow.com/users/7303706/neme"}, "is_accepted": true, "score": 1, "last_activity_date": 1482368149, "last_edit_date": 1482368149, "creation_date": 1482367764, "answer_id": 41274228, "question_id": 41273788, "link": "https://stackoverflow.com/questions/41273788/how-can-i-make-a-half-transparent-image-inside-a-picturebox-to-capture-mouse-eve/41274228#41274228", "title": "How can I make a half transparent image inside a pictureBox to capture mouse events only with its visible pixels in C#?", "body": "<p>This will work for SizeMode of Normal and AutoSize:</p>\n\n<pre><code>if (new Bitmap(((PictureBox)sender).Image).GetPixel(e.X, e.Y).A &gt;= 8)\n    // do stuff\n</code></pre>\n\n<p>otherwise you would probably have to do some calculations to get the pixel location.</p>\n\n<p>If this works for you, you should also consider storing the bitmap in a variable instead of newing it up on every mouse event.</p>\n\n<p>EDIT: I used 8 just as a delta value instead of zero to leave some space for almost completely transparent pixels, but of course you don't have to.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5921954"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "closed_date": 1482376624, "accepted_answer_id": 41274228, "answer_count": 1, "score": 0, "last_activity_date": 1482370286, "creation_date": 1482364272, "last_edit_date": 1482370286, "question_id": 41273788, "link": "https://stackoverflow.com/questions/41273788/how-can-i-make-a-half-transparent-image-inside-a-picturebox-to-capture-mouse-eve", "closed_reason": "Duplicate", "title": "How can I make a half transparent image inside a pictureBox to capture mouse events only with its visible pixels in C#?", "body": "<p>I am drawing a square image with transparent background inside a pictureBox inside a Form with C#. I only want it to capture the mouse events with its visible part, but it happens that it captures events with its whole surface.</p>\n"}, {"tags": ["c#", "security", "cmd", "automation", "executable"], "comments": [{"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 1, "creation_date": 1482364141, "post_id": 41273696, "comment_id": 69749002, "body": "This appears to be sourced by Explorer.exe launching the process. You can globally disable the warning (instructions <a href=\"http://stackoverflow.com/questions/2638862/security-warning-when-opening-file-from-network-share\">here</a>). I found some info <a href=\"http://stackoverflow.com/questions/941656/open-file-security-warning\">here</a>. The point is that you can&#39;t do it locally from the exe itself, apparently Explorer is maintaining information about your file somewhere else and using that to pop up the dialog, so you can either disable the warning globally, or launch without Explorer (such as scheduled task)."}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 2, "creation_date": 1482364584, "post_id": 41273696, "comment_id": 69749091, "body": "So, the executable requires elevated permissions and you don&#39;t have access to the source to fix the problem? I&#39;d write a watchdog process that runs with elevated permissions. Processes that are started from an already elevated process will be started with that same elevated permission thereby not requiring the user to interact with the UAC dialog. To start your watchdog app with elevated permissions, add a manifest that requires it. See <a href=\"http://stackoverflow.com/questions/2818179/how-do-i-force-my-net-application-to-run-as-administrator\" title=\"how do i force my net application to run as administrator\">stackoverflow.com/questions/2818179/&hellip;</a> for more details."}, {"owner": {"reputation": 1570, "user_id": 5008193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iOKgE.jpg?s=128&g=1", "display_name": "Graffito", "link": "https://stackoverflow.com/users/5008193/graffito"}, "edited": false, "score": 2, "creation_date": 1482367016, "post_id": 41273696, "comment_id": 69749717, "body": "If your exe is on a Network drive, refer to <a href=\"http://stackoverflow.com/questions/2638862/security-warning-when-opening-file-from-network-share\">security-warning-when-opening-file-from-network-share</a>"}, {"owner": {"reputation": 1209, "user_id": 1250875, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4c34b762debc7c9d6e4e049e5e85b8ed?s=128&d=identicon&r=PG", "display_name": "Sean Smyth", "link": "https://stackoverflow.com/users/1250875/sean-smyth"}, "reply_to_user": {"reputation": 1570, "user_id": 5008193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iOKgE.jpg?s=128&g=1", "display_name": "Graffito", "link": "https://stackoverflow.com/users/5008193/graffito"}, "edited": false, "score": 0, "creation_date": 1482367383, "post_id": 41273696, "comment_id": 69749810, "body": "@Graffito Yep, that fixed it.  Thanks!"}], "owner": {"reputation": 1209, "user_id": 1250875, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4c34b762debc7c9d6e4e049e5e85b8ed?s=128&d=identicon&r=PG", "display_name": "Sean Smyth", "link": "https://stackoverflow.com/users/1250875/sean-smyth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 762, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482428574, "creation_date": 1482363542, "last_edit_date": 1482428574, "question_id": 41273696, "link": "https://stackoverflow.com/questions/41273696/how-to-bypass-user-interaction-when-running-exe-from-c", "title": "How to bypass user interaction when running .exe from c#", "body": "<p>I have an executable file that I want to run automatically and restart if it dies for some reason. </p>\n\n<p>However, when I try to run the <code>.exe</code>, I am prompted with an </p>\n\n<blockquote>\n  <p>Open File - Security Warning</p>\n</blockquote>\n\n<p>that requires me to either select \"Run\" or \"Cancel\".<br>\nHowever, when I run this <code>.exe</code> as a scheduled task, it runs fine, so it appears that there is some way to run it without any user selection.  </p>\n\n<p>How can I make this happen?<br>\nI'm doing the coding in C#, but am not confident that it's an issue that can be solved with just C#.<br>\nAny help would be great.</p>\n"}, {"tags": ["c#", "nunit"], "comments": [{"owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "edited": false, "score": 0, "creation_date": 1482364876, "post_id": 41273654, "comment_id": 69749169, "body": "No, this is what&#39;s built-in to NUnit. You have a few options: You could try a different assertions library (FluentAssertions, Shouldly, ... ) and see if there is any you like better. Otherwise, you could also create a PR on NUnit and add it. I think it could be rather complex though as you have to take into account omissions, extras and the order. If all 3 are wrong it&#39;d be difficult to print a decent statement."}, {"owner": {"reputation": 10075, "user_id": 1569967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58379d5103ffb1304afdccb438ce53fb?s=128&d=identicon&r=PG", "display_name": "Charlie", "link": "https://stackoverflow.com/users/1569967/charlie"}, "edited": false, "score": 1, "creation_date": 1482387092, "post_id": 41273654, "comment_id": 69755015, "body": "The need has been discussed in this NUnit issue: <a href=\"https://github.com/nunit/nunit/issues/1151\" rel=\"nofollow noreferrer\">github.com/nunit/nunit/issues/1151</a> Some ideas of how to do it as well as an eventual PR would be quite welcome."}, {"owner": {"reputation": 6219, "user_id": 331281, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5b9bda84249f208692071ef7149ba62a?s=128&d=identicon&r=PG", "display_name": "Dejan", "link": "https://stackoverflow.com/users/331281/dejan"}, "edited": false, "score": 0, "creation_date": 1482433001, "post_id": 41273654, "comment_id": 69782330, "body": "I&#39;ll consider writing a PR as soon as my team switches to NUnit 3.x. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 6219, "user_id": 331281, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5b9bda84249f208692071ef7149ba62a?s=128&d=identicon&r=PG", "display_name": "Dejan", "link": "https://stackoverflow.com/users/331281/dejan"}, "edited": false, "score": 0, "creation_date": 1482365366, "post_id": 41273869, "comment_id": 69749306, "body": "There&#39;s some Linq in there that might have different equality semantics. Also, the message doesn&#39;t read as nice. For example, there are no double-quotes around the printed elements when they are strings. Nifty little details..."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "reply_to_user": {"reputation": 6219, "user_id": 331281, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5b9bda84249f208692071ef7149ba62a?s=128&d=identicon&r=PG", "display_name": "Dejan", "link": "https://stackoverflow.com/users/331281/dejan"}, "edited": false, "score": 0, "creation_date": 1482366134, "post_id": 41273869, "comment_id": 69749492, "body": "@Dejan but I figured you would know how to add those minor details."}, {"owner": {"reputation": 6219, "user_id": 331281, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5b9bda84249f208692071ef7149ba62a?s=128&d=identicon&r=PG", "display_name": "Dejan", "link": "https://stackoverflow.com/users/331281/dejan"}, "edited": false, "score": 0, "creation_date": 1482366247, "post_id": 41273869, "comment_id": 69749522, "body": "I even figured that with Linq <code>Except</code> I can get that extra info. That&#39;s why I was asking specifically about a NUnit solution. To save myself the work. Just to see if I was missing something."}, {"owner": {"reputation": 6219, "user_id": 331281, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5b9bda84249f208692071ef7149ba62a?s=128&d=identicon&r=PG", "display_name": "Dejan", "link": "https://stackoverflow.com/users/331281/dejan"}, "edited": false, "score": 0, "creation_date": 1482369288, "post_id": 41273869, "comment_id": 69750228, "body": "Actually using <code>Except</code> is <i>wrong</i>. Consider: <code>a = new[] { &quot;a&quot;, &quot;a&quot;, &quot;b&quot; }</code> and <code>b = new[] { &quot;a&quot;, &quot;b&quot; }</code>. The error message created with <code>Except</code> will say that there is no missing and no extra element (which is wrong). <code>CollectionAssert.AreEquivalent</code> will rightfully fail."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "reply_to_user": {"reputation": 6219, "user_id": 331281, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5b9bda84249f208692071ef7149ba62a?s=128&d=identicon&r=PG", "display_name": "Dejan", "link": "https://stackoverflow.com/users/331281/dejan"}, "edited": false, "score": 0, "creation_date": 1482369767, "post_id": 41273869, "comment_id": 69750339, "body": "It&#39;s not wrong. That is how &#39;Except&#39;  works. It looks for string &#39;a&#39;  in and uses the default equality comparer for a string. It finds &#39;a&#39;  in both so it doesn&#39;t complain. If order is important to you then see if &#39;Except&#39;  has an overload or write a custom method."}, {"owner": {"reputation": 6219, "user_id": 331281, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5b9bda84249f208692071ef7149ba62a?s=128&d=identicon&r=PG", "display_name": "Dejan", "link": "https://stackoverflow.com/users/331281/dejan"}, "edited": false, "score": 0, "creation_date": 1482369999, "post_id": 41273869, "comment_id": 69750395, "body": "I&#39;m not saying that <code>Except</code> is wrong. I&#39;m saying that the error message created using <code>Except</code> is wrong. Or at least misleading."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "reply_to_user": {"reputation": 6219, "user_id": 331281, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5b9bda84249f208692071ef7149ba62a?s=128&d=identicon&r=PG", "display_name": "Dejan", "link": "https://stackoverflow.com/users/331281/dejan"}, "edited": false, "score": 0, "creation_date": 1482370373, "post_id": 41273869, "comment_id": 69750491, "body": "Got it. Sorry my bad ;)"}, {"owner": {"reputation": 10075, "user_id": 1569967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58379d5103ffb1304afdccb438ce53fb?s=128&d=identicon&r=PG", "display_name": "Charlie", "link": "https://stackoverflow.com/users/1569967/charlie"}, "edited": false, "score": 0, "creation_date": 1482386924, "post_id": 41273869, "comment_id": 69754965, "body": "If order is important to you, don&#39;t use equivalence, which ignores order. Use an equality test."}], "tags": [], "owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "is_accepted": false, "score": 1, "last_activity_date": 1482364907, "creation_date": 1482364907, "answer_id": 41273869, "question_id": 41273654, "link": "https://stackoverflow.com/questions/41273654/nunit-test-if-two-collections-are-equivalent-and-only-report-the-difference/41273869#41273869", "title": "NUnit: test if two collections are equivalent and only report the difference", "body": "<p>I think this will get you the desired result:</p>\n\n<pre><code>var a = new[] { \"a\", \"b\", \"c\" };\nvar b = new[] { \"b\", \"a\", \"d\" };\nCollectionAssert.AreEquivalent( a, b,  \"a is Missing \" + string.Join( \", \", b.Except( a ) ) + \" and b is missing \" +\n   string.Join( \", \", a.Except( b ) ));\n</code></pre>\n"}], "owner": {"reputation": 6219, "user_id": 331281, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5b9bda84249f208692071ef7149ba62a?s=128&d=identicon&r=PG", "display_name": "Dejan", "link": "https://stackoverflow.com/users/331281/dejan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1482365463, "creation_date": 1482363196, "last_edit_date": 1592644375, "question_id": 41273654, "link": "https://stackoverflow.com/questions/41273654/nunit-test-if-two-collections-are-equivalent-and-only-report-the-difference", "title": "NUnit: test if two collections are equivalent and only report the difference", "body": "<p>I am using NUnit to assert the following:</p>\n<pre><code>    [Test]\n    public void Test()\n    {\n        CollectionAssert.AreEquivalent(new[] {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}, new[] {&quot;b&quot;, &quot;a&quot;, &quot;d&quot;});\n    }\n</code></pre>\n<p>This yields the following error message:</p>\n<blockquote>\n<p>Expected: equivalent to &lt; &quot;a&quot;, &quot;b&quot;, &quot;c&quot; &gt;</p>\n<p>But was:  &lt; &quot;b&quot;, &quot;a&quot;, &quot;d&quot; &gt;</p>\n</blockquote>\n<p>That's okay for this trivial example. However, when there are more elements and/or longer, harder to distinguish strings, the error message doesn't help to see what's going on.</p>\n<p>I was expecting to have (maybe additionally) something like:</p>\n<blockquote>\n<p>Missing: &quot;c&quot;</p>\n<p>Extra: &quot;d&quot;</p>\n</blockquote>\n<p>Are there any means of achieving this using NUnit? (I could of course go and program something on my own but that's not the question here.)</p>\n"}, {"tags": ["c#", "oracle", "entity-framework", "stored-procedures"], "comments": [{"owner": {"reputation": 38299, "user_id": 3027266, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3249486ec6096e443cb8e93489fe0a09?s=128&d=identicon&r=PG&f=1", "display_name": "Wernfried Domscheit", "link": "https://stackoverflow.com/users/3027266/wernfried-domscheit"}, "edited": false, "score": 0, "creation_date": 1482395975, "post_id": 41273608, "comment_id": 69759337, "body": "Maybe instead of defining 5 times 15 individual parameters, you should consider to use <a href=\"http://docs.oracle.com/database/121/ODPNT/featOraCommand.htm#BABBDHBB\" rel=\"nofollow noreferrer\">PL/SQL Associative Array Binding</a>. Then you would have to define only 5 parameters once."}], "answers": [{"comments": [{"owner": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "edited": false, "score": 0, "creation_date": 1482371509, "post_id": 41274529, "comment_id": 69750779, "body": "Thanks.... when I added the comma, the error changed, but showing that I have separated the package name and the procedure by an underscore. I changed to be a dot. That way, the procedure is getting called."}], "tags": [], "owner": {"reputation": 37365, "user_id": 5683823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8551ed09606092a75f36b0638e5c318f?s=128&d=identicon&r=PG&f=1", "display_name": "mathguy", "link": "https://stackoverflow.com/users/5683823/mathguy"}, "is_accepted": true, "score": 0, "last_activity_date": 1482370327, "creation_date": 1482370327, "answer_id": 41274529, "question_id": 41273608, "link": "https://stackoverflow.com/questions/41273608/calling-an-oracle-stored-procedure-with-entity-framework-and-odac-illegal-vari/41274529#41274529", "title": "Calling an Oracle stored procedure with Entity Framework and ODAC: &quot;illegal variable name/number&quot;", "body": "<p>You are missing a comma in the <code>sql</code> string assignment in the C# code, specifically after <code>:var_valoruni3</code> - add it and see if it works. If it doesn't, there may be other things missing as well.</p>\n"}, {"tags": [], "owner": {"reputation": 45031, "user_id": 213136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b84a36c241e04175fcec402dac43018?s=128&d=identicon&r=PG", "display_name": "Bob Jarvis - Reinstate Monica", "link": "https://stackoverflow.com/users/213136/bob-jarvis-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1482375917, "creation_date": 1482375917, "answer_id": 41275182, "question_id": 41273608, "link": "https://stackoverflow.com/questions/41273608/calling-an-oracle-stored-procedure-with-entity-framework-and-odac-illegal-vari/41275182#41275182", "title": "Calling an Oracle stored procedure with Entity Framework and ODAC: &quot;illegal variable name/number&quot;", "body": "<p>You should have a period between the name of the package and the name of the procedure when you invoke it. Right now you have</p>\n\n<pre><code>string sql = @\"begin\n                 pqte_transacciones_pr_creapedido\n</code></pre>\n\n<p>Change it to</p>\n\n<pre><code>string sql = @\"begin\n                 pqte_transacciones.pr_creapedido\n</code></pre>\n\n<p>Best of luck</p>\n"}], "owner": {"reputation": 2649, "user_id": 1048588, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/1324473728/picture?type=large", "display_name": "jstuardo", "link": "https://stackoverflow.com/users/1048588/jstuardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 41274529, "answer_count": 2, "score": 1, "last_activity_date": 1482375917, "creation_date": 1482362890, "question_id": 41273608, "link": "https://stackoverflow.com/questions/41273608/calling-an-oracle-stored-procedure-with-entity-framework-and-odac-illegal-vari", "title": "Calling an Oracle stored procedure with Entity Framework and ODAC: &quot;illegal variable name/number&quot;", "body": "<p>I have spent several hours trying to call an Oracle stored procedure but all my efforts have been unsuccessful.</p>\n\n<p>This is the Oracle package header:</p>\n\n<pre><code>create or replace PACKAGE pqte_transacciones AS\n\nPROCEDURE pr_creapedido\n(\nvar_cliente     IN NUMBER,\nvar_usuario     IN NUMBER,\nvar_observacion IN VARCHAR2,\nvar_preciotot   IN VARCHAR2,\nvar_fechaent    IN VARCHAR2,\nvar_horaent     IN VARCHAR2,\nvar_fpago       IN VARCHAR2,\nvar_motivop     IN NUMBER,\nvar_conser_pre  IN NUMBER,\nvar_tipo_pedido IN VARCHAR2,\ni_estado        IN NUMBER,\nvar_tipofrustrado IN VARCHAR2,\nvar_cuotas      IN NUMBER,\nvar_tventa      IN VARCHAR2,\nvar_producto1   IN VARCHAR2,\nvar_cantidad1   IN NUMBER,\nvar_valoruni1   IN NUMBER,\nvar_porcini1    IN VARCHAR2,\nvar_porclle1    IN VARCHAR2,\nvar_producto2   IN VARCHAR2,\nvar_cantidad2   IN NUMBER,\nvar_valoruni2   IN NUMBER,\nvar_porcini2    IN VARCHAR2,\nvar_porclle2    IN VARCHAR2,\nvar_producto3   IN VARCHAR2,\nvar_cantidad3   IN NUMBER,\nvar_valoruni3   IN NUMBER,\nvar_porcini3    IN VARCHAR2,\nvar_porclle3    IN VARCHAR2,\nvar_producto4   IN VARCHAR2,\nvar_cantidad4   IN NUMBER,\nvar_valoruni4   IN NUMBER,\nvar_porcini4    IN VARCHAR2,\nvar_porclle4    IN VARCHAR2,\nvar_producto5   IN VARCHAR2,\nvar_cantidad5   IN NUMBER,\nvar_valoruni5   IN NUMBER,\nvar_porcini5    IN VARCHAR2,\nvar_porclle5    IN VARCHAR2,\nvar_producto6   IN VARCHAR2,\nvar_cantidad6   IN NUMBER,\nvar_valoruni6   IN NUMBER,\nvar_porcini6    IN VARCHAR2,\nvar_porclle6    IN VARCHAR2,\nvar_producto7   IN VARCHAR2,\nvar_cantidad7   IN NUMBER,\nvar_valoruni7   IN NUMBER,\nvar_porcini7    IN VARCHAR2,\nvar_porclle7    IN VARCHAR2,\nvar_producto8   IN VARCHAR2,\nvar_cantidad8   IN NUMBER,\nvar_valoruni8   IN NUMBER,\nvar_porcini8    IN VARCHAR2,\nvar_porclle8    IN VARCHAR2,\nvar_producto9   IN VARCHAR2,\nvar_cantidad9   IN NUMBER,\nvar_valoruni9   IN NUMBER,\nvar_porcini9    IN VARCHAR2,\nvar_porclle9    IN VARCHAR2,\nvar_producto10  IN VARCHAR2,\nvar_cantidad10  IN NUMBER,\nvar_valoruni10  IN NUMBER,\nvar_porcini10   IN VARCHAR2,\nvar_porclle10   IN VARCHAR2,\nvar_producto11  IN VARCHAR2,\nvar_cantidad11  IN NUMBER,\nvar_valoruni11  IN NUMBER,\nvar_porcini11   IN VARCHAR2,\nvar_porclle11   IN VARCHAR2,\nvar_producto12  IN VARCHAR2,\nvar_cantidad12  IN NUMBER,\nvar_valoruni12  IN NUMBER,\nvar_porcini12   IN VARCHAR2,\nvar_porclle12   IN VARCHAR2,\nvar_producto13  IN VARCHAR2,\nvar_cantidad13  IN NUMBER,\nvar_valoruni13  IN NUMBER,\nvar_porcini13   IN VARCHAR2,\nvar_porclle13   IN VARCHAR2,\nvar_producto14  IN VARCHAR2,\nvar_cantidad14  IN NUMBER,\nvar_valoruni14  IN NUMBER,\nvar_porcini14   IN VARCHAR2,\nvar_porclle14   IN VARCHAR2,\nvar_producto15  IN VARCHAR2,\nvar_cantidad15  IN NUMBER,\nvar_valoruni15  IN NUMBER,\nvar_porcini15   IN VARCHAR2,\nvar_porclle15   IN VARCHAR2,\nvar_medio_pago  IN NUMBER,\nvar_orden_compra IN VARCHAR2,\nvar_ped_obs_sap IN VARCHAR2,\nPEDIDO OUT NUMBER\n);\n\nend;\n</code></pre>\n\n<p>On the other hand, this is the call I am trying in C# (this is the full method which creates oracle parameters and then makes the actual call):</p>\n\n<pre><code>    public static decimal CreaPedido(decimal clienteID, decimal usuarioID, double valorTotal, string fechaeEntrega, string horaEntrega, \n                                     string formaPago, int medioPago, string ordenCompra,\n                                     Producto[] productos)\n    {\n        decimal nuevoPedido = 0;\n        try\n        {\n            using (LipigasEntities db = new LipigasEntities())\n            {\n                ((System.Data.Entity.Infrastructure.IObjectContextAdapter)db).ObjectContext.Connection.Open();\n                OracleParameter var_cliente = new OracleParameter(\"var_cliente\", OracleDbType.Decimal);\n                var_cliente.Direction = System.Data.ParameterDirection.Input; var_cliente.Value = clienteID;\n                OracleParameter var_usuario = new OracleParameter(\"var_usuario\", OracleDbType.Decimal);\n                var_usuario.Direction = System.Data.ParameterDirection.Input; var_usuario.Value = usuarioID;\n                OracleParameter var_observacion = new OracleParameter(\"var_observacion\", OracleDbType.Varchar2);\n                var_observacion.Direction = System.Data.ParameterDirection.Input; var_observacion.Value = String.Empty;\n                OracleParameter var_preciotot = new OracleParameter(\"var_preciotot\", OracleDbType.Varchar2);\n                var_preciotot.Direction = System.Data.ParameterDirection.Input; var_preciotot.Value = valorTotal.ToString();\n                OracleParameter var_fechaent = new OracleParameter(\"var_fechaent\", OracleDbType.Varchar2);\n                var_fechaent.Direction = System.Data.ParameterDirection.Input; var_fechaent.Value = fechaeEntrega;\n                OracleParameter var_horaent = new OracleParameter(\"var_horaent\", OracleDbType.Varchar2);\n                var_horaent.Direction = System.Data.ParameterDirection.Input; var_horaent.Value = horaEntrega;\n                OracleParameter var_fpago = new OracleParameter(\"var_fpago\", OracleDbType.Varchar2);\n                var_fpago.Direction = System.Data.ParameterDirection.Input; var_fpago.Value = formaPago;\n                OracleParameter var_motivop = new OracleParameter(\"var_motivop\", OracleDbType.Int32);\n                var_motivop.Direction = System.Data.ParameterDirection.Input; var_motivop.Value = (int)Constants.Motivos.SinInformacion;\n                OracleParameter var_conser_pre = new OracleParameter(\"var_conser_pre\", OracleDbType.Int32);\n                var_conser_pre.Direction = System.Data.ParameterDirection.Input; var_conser_pre.Value = 0;\n                OracleParameter var_tipo_pedido = new OracleParameter(\"var_tipo_pedido\", OracleDbType.Varchar2);\n                var_tipo_pedido.Direction = System.Data.ParameterDirection.Input; var_tipo_pedido.Value = String.Empty;\n                OracleParameter i_estado = new OracleParameter(\"i_estado\", OracleDbType.Int32);\n                i_estado.Direction = System.Data.ParameterDirection.Input; i_estado.Value = (int)Constants.Estados.Tomado;\n                OracleParameter var_tipofrustrado = new OracleParameter(\"var_tipofrustrado\", OracleDbType.Varchar2);\n                var_tipofrustrado.Direction = System.Data.ParameterDirection.Input; var_tipofrustrado.Value = String.Empty;\n                OracleParameter var_cuotas = new OracleParameter(\"var_cuotas\", OracleDbType.Int32);\n                var_cuotas.Direction = System.Data.ParameterDirection.Input; var_cuotas.Value = 0;\n                OracleParameter var_tventa = new OracleParameter(\"var_tventa\", OracleDbType.Varchar2);\n                var_tventa.Direction = System.Data.ParameterDirection.Input; var_tventa.Value = String.Empty;\n                OracleParameter[] var_productos = new OracleParameter[15];\n                OracleParameter[] var_cantidades = new OracleParameter[15];\n                OracleParameter[] var_valoresUnitarios = new OracleParameter[15];\n                OracleParameter[] var_porcinis = new OracleParameter[15];\n                OracleParameter[] var_porclles = new OracleParameter[15];\n                for(int i = 1; i &lt;= 15; i++)\n                {\n                    Producto producto = productos.Skip(i - 1).FirstOrDefault();\n                    var_productos[i - 1] = new OracleParameter(String.Concat(\"var_producto\", i), OracleDbType.Varchar2);\n                    var_productos[i - 1].Direction = System.Data.ParameterDirection.Input; var_productos[i - 1].Value = producto == null ? DBNull.Value : (object)producto.Descripcion;\n                    var_cantidades[i - 1] = new OracleParameter(String.Concat(\"var_cantidad\", i), OracleDbType.Int32);\n                    var_cantidades[i - 1].Direction = System.Data.ParameterDirection.Input; var_cantidades[i - 1].Value = producto == null ? DBNull.Value : (object)producto.Cantidad;\n                    var_valoresUnitarios[i - 1] = new OracleParameter(String.Concat(\"var_valoruni\", i), OracleDbType.Int32);\n                    var_valoresUnitarios[i - 1].Direction = System.Data.ParameterDirection.Input; var_valoresUnitarios[i - 1].Value = producto == null ? DBNull.Value : (object)producto.ValorUnitario;\n                    var_porcinis[i - 1] = new OracleParameter(String.Concat(\"var_porcini\", i), OracleDbType.Varchar2);\n                    var_porcinis[i - 1].Direction = System.Data.ParameterDirection.Input; var_porcinis[i - 1].Value = DBNull.Value;\n                    var_porclles[i - 1] = new OracleParameter(String.Concat(\"var_porclle\", i), OracleDbType.Varchar2);\n                    var_porclles[i - 1].Direction = System.Data.ParameterDirection.Input; var_porclles[i - 1].Value = DBNull.Value;\n                }\n                OracleParameter var_medio_pago = new OracleParameter(\"var_medio_pago\", OracleDbType.Int32);\n                var_medio_pago.Direction = System.Data.ParameterDirection.Input; var_medio_pago.Value = medioPago;\n                OracleParameter var_orden_compra = new OracleParameter(\"var_orden_compra\", OracleDbType.Varchar2);\n                var_orden_compra.Direction = System.Data.ParameterDirection.Input; var_orden_compra.Value = ordenCompra;\n                OracleParameter var_ped_obs_sap = new OracleParameter(\"var_ped_obs_sap\", OracleDbType.Varchar2);\n                var_ped_obs_sap.Direction = System.Data.ParameterDirection.Input; var_ped_obs_sap.Value = String.Empty;\n                OracleParameter p_pedido = new OracleParameter(\"PEDIDO\", OracleDbType.Decimal);\n                p_pedido.Direction = System.Data.ParameterDirection.Output;\n\n                string sql = @\"begin\n                                 pqte_transacciones_pr_creapedido\n                                             (:var_cliente, :var_usuario, :var_observacion, :var_preciotot, \n                                              :var_fechaent, :var_horaent, :var_fpago, :var_motivop, :var_conser_pre, \n                                              :var_tipo_pedido, :i_estado, :var_tipofrustrado, :var_cuotas, :var_tventa,\n                                              :var_producto1, :var_cantidad1, :var_valoruni1, :var_porcini1, :var_porclle1,\n                                              :var_producto2, :var_cantidad2, :var_valoruni2, :var_porcini2, :var_porclle2, \n                                              :var_producto3, :var_cantidad3, :var_valoruni3 :var_porcini3, :var_porclle3, \n                                              :var_producto4, :var_cantidad4, :var_valoruni4, :var_porcini4, :var_porclle4, \n                                              :var_producto5, :var_cantidad5, :var_valoruni5, :var_porcini5, :var_porclle5, \n                                              :var_producto6, :var_cantidad6, :var_valoruni6, :var_porcini6, :var_porclle6, \n                                              :var_producto7, :var_cantidad7, :var_valoruni7, :var_porcini7, :var_porclle7, \n                                              :var_producto8, :var_cantidad8, :var_valoruni8, :var_porcini8, :var_porclle8, \n                                              :var_producto9, :var_cantidad9, :var_valoruni9, :var_porcini9, :var_porclle9, \n                                              :var_producto10, :var_cantidad10, :var_valoruni10, :var_porcini10, :var_porclle10, \n                                              :var_producto11, :var_cantidad11, :var_valoruni11, :var_porcini11, :var_porclle11, \n                                              :var_producto12, :var_cantidad12, :var_valoruni12, :var_porcini12, :var_porclle12, \n                                              :var_producto13, :var_cantidad13, :var_valoruni13, :var_porcini13, :var_porclle13, \n                                              :var_producto14, :var_cantidad14, :var_valoruni14, :var_porcini14, :var_porclle14, \n                                              :var_producto15, :var_cantidad15, :var_valoruni15, :var_porcini15, :var_porclle15,\n                                              :var_medio_pago, :var_orden_compra, :var_ped_obs_sap, :PEDIDO);\n                               end;\";\n                db.Database.ExecuteSqlCommand(sql,\n                                              var_cliente, var_usuario, var_observacion, var_preciotot, \n                                              var_fechaent, var_horaent, var_fpago, var_motivop, var_conser_pre, \n                                              var_tipo_pedido, i_estado, var_tipofrustrado, var_cuotas, var_tventa,\n                                              var_productos[0], var_cantidades[0], var_valoresUnitarios[0], var_porcinis[0], var_porclles[0],\n                                              var_productos[1], var_cantidades[1], var_valoresUnitarios[1], var_porcinis[1], var_porclles[1],\n                                              var_productos[2], var_cantidades[2], var_valoresUnitarios[2], var_porcinis[2], var_porclles[2],\n                                              var_productos[3], var_cantidades[3], var_valoresUnitarios[3], var_porcinis[3], var_porclles[3],\n                                              var_productos[4], var_cantidades[4], var_valoresUnitarios[4], var_porcinis[4], var_porclles[4],\n                                              var_productos[5], var_cantidades[5], var_valoresUnitarios[5], var_porcinis[5], var_porclles[5],\n                                              var_productos[6], var_cantidades[6], var_valoresUnitarios[6], var_porcinis[6], var_porclles[6],\n                                              var_productos[7], var_cantidades[7], var_valoresUnitarios[7], var_porcinis[7], var_porclles[7],\n                                              var_productos[8], var_cantidades[8], var_valoresUnitarios[8], var_porcinis[8], var_porclles[8],\n                                              var_productos[9], var_cantidades[9], var_valoresUnitarios[9], var_porcinis[9], var_porclles[9],\n                                              var_productos[10], var_cantidades[10], var_valoresUnitarios[10], var_porcinis[10], var_porclles[10],\n                                              var_productos[11], var_cantidades[11], var_valoresUnitarios[11], var_porcinis[11], var_porclles[11],\n                                              var_productos[12], var_cantidades[12], var_valoresUnitarios[12], var_porcinis[12], var_porclles[12],\n                                              var_productos[13], var_cantidades[13], var_valoresUnitarios[13], var_porcinis[13], var_porclles[13],\n                                              var_productos[14], var_cantidades[14], var_valoresUnitarios[14], var_porcinis[14], var_porclles[14],\n                                              var_medio_pago, var_orden_compra, var_ped_obs_sap, p_pedido);\n\n                nuevoPedido = ((OracleDecimal)p_pedido.Value).Value;\n                ((System.Data.Entity.Infrastructure.IObjectContextAdapter)db).ObjectContext.Connection.Close();\n            }\n        }\n        catch (Exception ex)\n        {\n            ErrorLog.Save(ex);\n        }\n\n        return nuevoPedido;\n    }\n</code></pre>\n\n<p>The application throws an exception at line with db.Database.ExecuteSqlCommand method call.</p>\n\n<p>The exception is: \"ORA-01036: illegal variable name/number\"</p>\n\n<p>What do you see wrong in this code?</p>\n\n<p>Oracle.DataAccess.dll version is: 4.112.3.0</p>\n"}, {"tags": ["c#", "winforms", "hp-quality-center"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1482363031, "post_id": 41273598, "comment_id": 69748724, "body": "If you set the variable tdc to null then you need to call new TDConnection again. I don&#39;t understand why you have commented out that line in the Login code"}, {"owner": {"reputation": 578, "user_id": 3022977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/92ec594237a4369838eed929d79df8d6?s=128&d=identicon&r=PG&f=1", "display_name": "Sohel", "link": "https://stackoverflow.com/users/3022977/sohel"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1482363383, "post_id": 41273598, "comment_id": 69748813, "body": "Hi Steve, thanks for feedback. Yes, in one iteration I had used the commented code inside the login_button1_Click function, but then when I clicked logout button, it didn&#39;t recognize the tdc object as it was out of scope. So I made tdc as a static object outside of these two functions. Now I can login and logout first time but after logging out when I click login button again, and enter the id and password, I get the error: &quot;System.NullReferenceException: Object reference not set to an instance of an object.&quot;"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1482363607, "post_id": 41273598, "comment_id": 69748863, "body": "There is no need to make tdc static, but you need to declare it at the global level to be able to use it in two different methods"}], "answers": [{"comments": [{"owner": {"reputation": 578, "user_id": 3022977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/92ec594237a4369838eed929d79df8d6?s=128&d=identicon&r=PG&f=1", "display_name": "Sohel", "link": "https://stackoverflow.com/users/3022977/sohel"}, "edited": false, "score": 0, "creation_date": 1482363829, "post_id": 41273670, "comment_id": 69748919, "body": "For the second option: if I don&#39;t declare it as a static variable, how will the logout code know that object as it is out of scope? Thanks for the tip on Dispose method, I believe it is available in this API. I will check and will use it after tdc.Disconnect(). Thank you."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 578, "user_id": 3022977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/92ec594237a4369838eed929d79df8d6?s=128&d=identicon&r=PG&f=1", "display_name": "Sohel", "link": "https://stackoverflow.com/users/3022977/sohel"}, "edited": false, "score": 1, "creation_date": 1482364060, "post_id": 41273670, "comment_id": 69748979, "body": "If the variable is declared at the global class scope then it is available in all methods of that class. Static means that every instance of the Form1 class use the same tdc. You need just the visibility on the declaration in different methods, you don&#39;t need the same instance of tdc in many instances of Form1. What happen if you remove the static keyword?"}, {"owner": {"reputation": 578, "user_id": 3022977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/92ec594237a4369838eed929d79df8d6?s=128&d=identicon&r=PG&f=1", "display_name": "Sohel", "link": "https://stackoverflow.com/users/3022977/sohel"}, "edited": false, "score": 0, "creation_date": 1482417523, "post_id": 41273670, "comment_id": 69772947, "body": "Hi Steve, for the second option after removing &quot;static&quot; from tdc object, I get error message after clicking the Login button the second time (after logout): System.NullReferenceException: Object reference not set to an instance of an object."}, {"owner": {"reputation": 578, "user_id": 3022977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/92ec594237a4369838eed929d79df8d6?s=128&d=identicon&r=PG&f=1", "display_name": "Sohel", "link": "https://stackoverflow.com/users/3022977/sohel"}, "edited": false, "score": 0, "creation_date": 1482418055, "post_id": 41273670, "comment_id": 69773278, "body": "I would like to add here: when tdc = null; statement is commented out, then the NullReferenceException error is not observed."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 578, "user_id": 3022977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/92ec594237a4369838eed929d79df8d6?s=128&d=identicon&r=PG&f=1", "display_name": "Sohel", "link": "https://stackoverflow.com/users/3022977/sohel"}, "edited": false, "score": 1, "creation_date": 1482419264, "post_id": 41273670, "comment_id": 69774080, "body": "The basic problem is the setting to null, static has nothing to do with the problem of a NRE. Also if you keep the variable static but set it to null then you cannot use it again until you reinitilize if with new"}], "tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": true, "score": 2, "last_activity_date": 1482363316, "creation_date": 1482363316, "answer_id": 41273670, "question_id": 41273598, "link": "https://stackoverflow.com/questions/41273598/c-windows-form-how-to-reuse-an-object-from-a-different-button-click-event/41273670#41273670", "title": "C# Windows Form - How to Reuse an Object from a Different Button Click Event", "body": "<p>In the Logout code you set the global variable <code>tdc</code> to null. Of course this means that you need to reinitialize it with a call to <code>new TDConnection</code></p>\n\n<p>You seems to have two options.</p>\n\n<ol>\n<li>Remove the line that sets the tdc variable to null in the logout\ncode. Leave everything else unchanged</li>\n<li>Do not initialize the variable tdc at the global level but just\neverytime you enter the login code and leave the line that sets the variable tdc to null in the logout code.</li>\n</ol>\n\n<p>Consider also that these kind of objects usually implements the IDisposable interface. If it is the same with your TDConnection class then it is probably better to call the Dispose method in the logout code</p>\n"}], "owner": {"reputation": 578, "user_id": 3022977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/92ec594237a4369838eed929d79df8d6?s=128&d=identicon&r=PG&f=1", "display_name": "Sohel", "link": "https://stackoverflow.com/users/3022977/sohel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "accepted_answer_id": 41273670, "answer_count": 1, "score": 0, "last_activity_date": 1482363316, "creation_date": 1482362836, "question_id": 41273598, "link": "https://stackoverflow.com/questions/41273598/c-windows-form-how-to-reuse-an-object-from-a-different-button-click-event", "title": "C# Windows Form - How to Reuse an Object from a Different Button Click Event", "body": "<p>I am building a Windows Form where I am connecting to HP Quality Center OTA. I am able to login to the system but after logging out when I click to the Login button the previous instance of the object doesn't get reinitialized. Is there a way to reuse the same object or is there a different approach I should be taking? Here is the code: </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing TDAPIOLELib;\n\nnamespace TestLab\n{\n\n\npublic partial class Form1 : Form\n{\n\n    static TDConnection tdc = new TDConnection();\n    static String qcUrl = \"https://serveraddress/qcbin\";\n    static string uid;\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    private void login_button1_Click(object sender, EventArgs e)\n    {\n        uid = Microsoft.VisualBasic.Interaction.InputBox(\"Enter your User ID\", \"User ID\", \" \", 0, 0);\n        string pwd1 = Microsoft.VisualBasic.Interaction.InputBox(\"Enter your password\", \"Password\", \" \", 0, 0);\n\n   //     TDConnection tdc = new TDConnection();\n        tdc.InitConnectionEx(qcUrl);\n        tdc.Login(uid, pwd1);\n\n        label1.Text = \" \";\n        label1.Text = uid + \" logged into HPQC.\";\n\n    }\n\n    private void label1_Click(object sender, EventArgs e)\n    {\n\n    }\n\n    private void logout_button1_Click(object sender, EventArgs e)\n    {\n        tdc.Logout();\n        tdc.Disconnect();\n        tdc = null;\n        label1.Text = \" \";\n        label1.Text = uid + \" logged out of HPQC.\";\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "multithreading", "caching", "ravendb"], "comments": [{"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1482362589, "post_id": 41273447, "comment_id": 69748587, "body": "Perhaps using a <code>StreamReader</code> and Streams to read lines instead of putting all 10MBs of text per worker in memory? Can&#39;t wait to see an accepted solution on this!"}, {"owner": {"reputation": 15286, "user_id": 469356, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9dcd61106ec8d892ec1a7746a4d00156?s=128&d=identicon&r=PG", "display_name": "Igorek", "link": "https://stackoverflow.com/users/469356/igorek"}, "reply_to_user": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1482362678, "post_id": 41273447, "comment_id": 69748614, "body": "Thanks.. but I need to convert &quot;lines&quot; into a JSON strings that I need to then convert to C# objects.  Not sure if StreamReader is going to solve this, if I need the file in full"}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1482362812, "post_id": 41273447, "comment_id": 69748656, "body": "Ah probably not then if you can&#39;t parse line by line  =/"}, {"owner": {"reputation": 12384, "user_id": 2801687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gOuuH.jpg?s=128&g=1", "display_name": "MichaC", "link": "https://stackoverflow.com/users/2801687/michac"}, "edited": false, "score": 0, "creation_date": 1482449156, "post_id": 41273447, "comment_id": 69788941, "body": "Why not cache in memory? File IO will always be slower if not memory mapped."}], "answers": [{"comments": [{"owner": {"reputation": 15286, "user_id": 469356, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9dcd61106ec8d892ec1a7746a4d00156?s=128&d=identicon&r=PG", "display_name": "Igorek", "link": "https://stackoverflow.com/users/469356/igorek"}, "edited": false, "score": 0, "creation_date": 1482431860, "post_id": 41273914, "comment_id": 69781808, "body": "This is VERY interesting!  How do I make the client subscribe to the changes and invalidate cache for the changed objects automatically?  I&#39;ve seen examples on Ravendb site that indicate that I can subscribe to changes, but not showing how to make the agressive cache invalidate itself"}, {"owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "reply_to_user": {"reputation": 15286, "user_id": 469356, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9dcd61106ec8d892ec1a7746a4d00156?s=128&d=identicon&r=PG", "display_name": "Igorek", "link": "https://stackoverflow.com/users/469356/igorek"}, "edited": false, "score": 0, "creation_date": 1482436220, "post_id": 41273914, "comment_id": 69783883, "body": "You shouldn&#39;t need to subscribe to any changes or invalidate the cache. When you make a request, the RavenDB server will answer with a 304 - Not Modified status code and the RavenDB client should then give you back the cached version. As soon as a document changes, RavenDB will return a 200 again."}, {"owner": {"reputation": 15286, "user_id": 469356, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9dcd61106ec8d892ec1a7746a4d00156?s=128&d=identicon&r=PG", "display_name": "Igorek", "link": "https://stackoverflow.com/users/469356/igorek"}, "edited": false, "score": 0, "creation_date": 1482436290, "post_id": 41273914, "comment_id": 69783916, "body": "for agressive caching as well?"}, {"owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "reply_to_user": {"reputation": 15286, "user_id": 469356, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9dcd61106ec8d892ec1a7746a4d00156?s=128&d=identicon&r=PG", "display_name": "Igorek", "link": "https://stackoverflow.com/users/469356/igorek"}, "edited": false, "score": 0, "creation_date": 1482440613, "post_id": 41273914, "comment_id": 69785834, "body": "According to the docs, the server will send a notification when a document changes: <code>The way it works is that the client subscribes to server notifications and by taking advantage of them is able to invalidate cached documents when they are changed</code> There&#39;s a small chance you get a stale document because there&#39;s a time between updating the document and sending the notification. So, at least in theory, just enabling aggresive caching should do the job. At the bottom of that documentation page, it mentions a few tweaks you can use"}], "tags": [], "owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "is_accepted": true, "score": 5, "last_activity_date": 1482440744, "last_edit_date": 1482440744, "creation_date": 1482365198, "answer_id": 41273914, "question_id": 41273447, "link": "https://stackoverflow.com/questions/41273447/fastest-way-to-read-files-in-a-multi-processing-environment-c/41273914#41273914", "title": "Fastest way to read files in a multi-processing environment? C#", "body": "<p>Not a straight answer, but three possible options:</p>\n\n<p><strong>Use the built-in RavenDB caching mechanism</strong></p>\n\n<p>My initial guess is that your caching mechanism is actually hurting performance. The RavenDB client has caching built-in (see here for how to fine-tune it: <a href=\"https://ravendb.net/docs/article-page/3.5/csharp/client-api/how-to/setup-aggressive-caching\" rel=\"nofollow noreferrer\">https://ravendb.net/docs/article-page/3.5/csharp/client-api/how-to/setup-aggressive-caching</a>)</p>\n\n<p>The problem you have is that the cache is local to each server. If server A downloaded a file before, server B will still have to fetch it if it happens to process that file the next time.</p>\n\n<p>One possible option you could implement is divide the workload. For example:</p>\n\n<ul>\n<li>Server A => fetch files that start with A-D</li>\n<li>Server B => fetch files that start with E-H</li>\n<li>Server C => ...</li>\n</ul>\n\n<p>This would ensure that you optimize the cache on each server. </p>\n\n<p><strong>Get a bigger machine</strong></p>\n\n<p>If you still want to employ your own caching mechanism, there are two things that I imagine could be the bottleneck:</p>\n\n<ul>\n<li>Disk access</li>\n<li>Deserialization of the JSON</li>\n</ul>\n\n<p>For these issues, the only thing I can imagine would be to get bigger resources:</p>\n\n<ul>\n<li>If it's the disk, use premium storage with SSD's.</li>\n<li>If it's deserialization, get VM's with a bigger CPU</li>\n</ul>\n\n<p><strong>Cache files in RAM</strong></p>\n\n<p>Alternatively, instead of writing the files to disk, store them in memory and get a VM with more RAM. You shouldn't need THAT much RAM, since 1000 files * 10MB is still just 1 GB. Doing this would eliminate disk access and deserialization.</p>\n\n<p>But ultimately, it's probably best to first measure where the bottleneck is and see if it can be mitigated by using RavenDB's built-in caching mechanism.</p>\n"}], "owner": {"reputation": 15286, "user_id": 469356, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9dcd61106ec8d892ec1a7746a4d00156?s=128&d=identicon&r=PG", "display_name": "Igorek", "link": "https://stackoverflow.com/users/469356/igorek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 1, "accepted_answer_id": 41273914, "answer_count": 1, "score": 6, "last_activity_date": 1482440744, "creation_date": 1482361719, "question_id": 41273447, "link": "https://stackoverflow.com/questions/41273447/fastest-way-to-read-files-in-a-multi-processing-environment-c", "title": "Fastest way to read files in a multi-processing environment? C#", "body": "<p>I have the following challenge:</p>\n\n<p>I have a Azure Cloud Worker Role with many instances.  Every minute, each instance spins up about 20-30 threads.  In each thread, it needs to read some metadata about how to process the thread from 3 objects.  The objects/data reside in a remote RavenDb and even though RavenDb is very fast at retrieving the objects via HTTP, it is still under a considerable load from 30+ workers that are hitting it 3 times per thread per minute (about 45 requests/sec).  Most of the time (like 99.999%) the data in RavenDb does not change.</p>\n\n<p>I've decided to implement local storage caching. First, I read a tiny record which indicates if the metadata has changed (it changes VERY rarely), and then I read from local file storage instead of RavenDb, if local storage has the object cached.  I'm using File.ReadAllText()</p>\n\n<p>This approach appears to be bogging the machine down and procesing slows down considerably.  I'm guessing the disks on \"Small\" Worker Roles are not fast enough.</p>\n\n<p>Is there anyway, I can have OS help me out and cache those files? Perhaps there is an alternative to caching of this data?</p>\n\n<p>I'm looking at about ~1000 files of varying sizes ranging from 100k to 10mb in size stored on each Cloud Role instance</p>\n"}, {"tags": ["c#", "xamarin", "biginteger", "xamarin-studio"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7327953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e34dfeff641fbd4010aa63565027de0?s=128&d=identicon&r=PG&f=1", "display_name": "Joz", "link": "https://stackoverflow.com/users/7327953/joz"}, "edited": false, "score": 0, "creation_date": 1482362370, "post_id": 41273494, "comment_id": 69748523, "body": "Sorry I&#39;m a bit of a nube, how do I get to this window"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "reply_to_user": {"reputation": 33, "user_id": 7327953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e34dfeff641fbd4010aa63565027de0?s=128&d=identicon&r=PG&f=1", "display_name": "Joz", "link": "https://stackoverflow.com/users/7327953/joz"}, "edited": false, "score": 0, "creation_date": 1482362466, "post_id": 41273494, "comment_id": 69748553, "body": "@Joz In your solution tree/explorer window/pad, double click on the &quot;References&quot; item within your project sub-tree."}], "tags": [], "owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "is_accepted": true, "score": 2, "last_activity_date": 1482433128, "last_edit_date": 1482433128, "creation_date": 1482362036, "answer_id": 41273494, "question_id": 41273432, "link": "https://stackoverflow.com/questions/41273432/unable-to-use-system-numeric-in-xamarin-studio-c/41273494#41273494", "title": "Unable to use System.Numeric in Xamarin studio c#", "body": "<p>Add a <strong>reference</strong> to <code>System.Numerics</code> in your console project:</p>\n\n<p><a href=\"https://i.stack.imgur.com/I7JXW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I7JXW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then include:</p>\n\n<pre><code>using System.Numerics;\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var bInt = new BigInteger();\n</code></pre>\n\n<blockquote>\n  <p>How do I get to this window?</p>\n</blockquote>\n\n<p>To access the project's references, double click on the \"References\" item within your Solution/Project sub-tree.</p>\n\n<p><a href=\"https://i.stack.imgur.com/zZTyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zZTyj.png\" alt=\"enter image description here\"></a></p>\n\n<p>Ref: </p>\n"}], "owner": {"reputation": 33, "user_id": 7327953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e34dfeff641fbd4010aa63565027de0?s=128&d=identicon&r=PG&f=1", "display_name": "Joz", "link": "https://stackoverflow.com/users/7327953/joz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "accepted_answer_id": 41273494, "answer_count": 1, "score": 1, "last_activity_date": 1482433128, "creation_date": 1482361599, "question_id": 41273432, "link": "https://stackoverflow.com/questions/41273432/unable-to-use-system-numeric-in-xamarin-studio-c", "title": "Unable to use System.Numeric in Xamarin studio c#", "body": "<p>I am writing a console project which requires some very large numbers above the limit of all classes in c#. I have read of a biginteger class which can support this. Despite this my c# compiler does not recognise the use of System.Numeric which is required to use the biginteger class. I am aware of and able to implement a work around using arrays to store the digits but this would be messier and I was wondering if there was an easier way to use this class somehow.</p>\n"}, {"tags": ["c#", "android", "xamarin.forms"], "comments": [{"owner": {"reputation": 15856, "user_id": 5570139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NB8AN.jpg?s=128&g=1", "display_name": "Grace Feng", "link": "https://stackoverflow.com/users/5570139/grace-feng"}, "edited": false, "score": 0, "creation_date": 1482483332, "post_id": 41273352, "comment_id": 69798647, "body": "Have you used some templates for your development? What is your <code>BaseViewModel</code>?"}, {"owner": {"reputation": 31, "user_id": 4020956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ybPmv.jpg?s=128&g=1", "display_name": "Edwin Boykin", "link": "https://stackoverflow.com/users/4020956/edwin-boykin"}, "reply_to_user": {"reputation": 15856, "user_id": 5570139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NB8AN.jpg?s=128&g=1", "display_name": "Grace Feng", "link": "https://stackoverflow.com/users/5570139/grace-feng"}, "edited": false, "score": 0, "creation_date": 1482514327, "post_id": 41273352, "comment_id": 69813912, "body": "@GraceFeng-MSFT Not using a template but I edited my post to incluse the BaseViewModel class."}], "answers": [{"tags": [], "owner": {"reputation": 1001, "user_id": 5313228, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/065d81e16a7fbe55e7fe81fe5ff7b6e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jay Patel", "link": "https://stackoverflow.com/users/5313228/jay-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1482563880, "creation_date": 1482563880, "answer_id": 41311233, "question_id": 41273352, "link": "https://stackoverflow.com/questions/41273352/xamarin-forms-add-android-autocompletetextview-as-native-bindable-view/41311233#41311233", "title": "Xamarin Forms - Add Android AutoCompleteTextView as native bindable view", "body": "<p><strong>Use XLabs AutoCompleteView or use XLabs AutoCompleteView Droid code for customization</strong></p>\n\n<p><a href=\"https://github.com/XLabs/Xamarin-Forms-Labs/wiki/AutoComplete\" rel=\"nofollow noreferrer\">https://github.com/XLabs/Xamarin-Forms-Labs/wiki/AutoComplete</a></p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 4020956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ybPmv.jpg?s=128&g=1", "display_name": "Edwin Boykin", "link": "https://stackoverflow.com/users/4020956/edwin-boykin"}, "is_accepted": false, "score": 0, "last_activity_date": 1482867438, "creation_date": 1482867438, "answer_id": 41351177, "question_id": 41273352, "link": "https://stackoverflow.com/questions/41273352/xamarin-forms-add-android-autocompletetextview-as-native-bindable-view/41351177#41351177", "title": "Xamarin Forms - Add Android AutoCompleteTextView as native bindable view", "body": "<p>I decided to go with the Syncfusion Xamarin Forms package. They have a cross platform AutoComplete control that seems to work well. Here's the link if anyone is interested <a href=\"https://www.syncfusion.com/products/xamarin\" rel=\"nofollow noreferrer\">https://www.syncfusion.com/products/xamarin</a></p>\n"}], "owner": {"reputation": 31, "user_id": 4020956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ybPmv.jpg?s=128&g=1", "display_name": "Edwin Boykin", "link": "https://stackoverflow.com/users/4020956/edwin-boykin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 719, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1579595407, "creation_date": 1482361150, "last_edit_date": 1482514118, "question_id": 41273352, "link": "https://stackoverflow.com/questions/41273352/xamarin-forms-add-android-autocompletetextview-as-native-bindable-view", "title": "Xamarin Forms - Add Android AutoCompleteTextView as native bindable view", "body": "<p>So with the option of native bindable views in Xamarin Forms I wanted to see if I could get the Android AutoCompleteTextView to work by adding to one of my xamarin forms pages. The control does render on the page in android and when I type a dropdown does display but the problem is the text in the suggestion drop down is white and as a result it's not easy to see. My questions are  </p>\n\n<ol>\n<li>Should I abandon this approach and try a custom renderer or implement a native view for this page instead?</li>\n<li>If the path I've chosen is ok, how do I tweak the control to display the text in another color?</li>\n</ol>\n\n<p>Here's the code for reference  </p>\n\n<p>The View</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;ContentPage xmlns=\"http://xamarin.com/schemas/2014/forms\"\n             xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n             xmlns:androidWidget=\"clr-namespace:Android.Widget;assembly=Mono.Android;targetPlatform=Android\"\n             xmlns:formsandroid=\"clr-namespace:Xamarin.Forms;assembly=Xamarin.Forms.Platform.Android;targetPlatform=Android\"\n             x:Class=\"AcoadApp.Views.AddMatchPage\"\n             Title=\"New Match\"&gt;\n  &lt;StackLayout&gt;\n    &lt;androidWidget:AutoCompleteTextView Adapter=\"{Binding OppAdapter}\"  x:Arguments=\"{x:Static formsandroid:Forms.Context}\" /&gt;\n  &lt;/StackLayout&gt;\n&lt;/ContentPage&gt;\n</code></pre>\n\n<p>The ViewModel</p>\n\n<pre><code>public class AddMatchViewModel : BaseViewModel\n    {\n        ArrayAdapter&lt;Java.Lang.String&gt; _oppAdapter;\n        public ArrayAdapter&lt;Java.Lang.String&gt; OppAdapter\n        {\n            get { return _oppAdapter; }\n            set { _oppAdapter = value;  OnPropertyChanged(); }\n        }\n\n        public AddMatchViewModel(INavService navService)\n            :base(navService)\n        {\n            OppAdapter = new ArrayAdapter&lt;Java.Lang.String&gt;(Android.App.Application.Context, Android.Resource.Layout.SimpleDropDownItem1Line);\n        }\n\n        public override async Task Init()\n        {\n            LoadData();\n        }\n\n        void LoadData()\n        {\n            OppAdapter.Add(new Java.Lang.String(\"Seaside\"));\n            OppAdapter.Add(new Java.Lang.String(\"Palma\"));\n            OppAdapter.Add(new Java.Lang.String(\"Aptos\"));\n            OppAdapter.Add(new Java.Lang.String(\"Harbor\"));\n            OppAdapter.Add(new Java.Lang.String(\"Salinas\"));\n            OppAdapter.Add(new Java.Lang.String(\"Anzar\"));\n        }\n    }\n</code></pre>\n\n<p>Here's a screenshot of the result (a suggestion from the ArrayAdapter is there...if you look close enough =] )<br>\n<a href=\"https://i.stack.imgur.com/kWZXH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kWZXH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any suggestions or pointers anyone may have would be greatly appreciated.</p>\n\n<p>Thanks,</p>\n\n<p>Edwin</p>\n\n<p>--Edit\nHere's the requested BaseViewModel class</p>\n\n<pre><code>public abstract class BaseViewModel : INotifyPropertyChanged\n    {\n        protected INavService NavService { get; private set; }\n\n        protected BaseViewModel(INavService navService)\n        {\n            NavService = navService;\n        }\n\n        public abstract Task Init();\n\n        public event PropertyChangedEventHandler PropertyChanged;\n\n        protected virtual void OnPropertyChanged([CallerMemberName] string propertyName = null)\n        {\n            var handler = PropertyChanged;\n            if (handler != null)\n                handler(this, new PropertyChangedEventArgs(propertyName));\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "unit-testing", "nunit", "relative-path"], "comments": [{"owner": {"reputation": 37143, "user_id": 517852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9XmOJ.jpg?s=128&g=1", "display_name": "Mike Zboray", "link": "https://stackoverflow.com/users/517852/mike-zboray"}, "edited": false, "score": 0, "creation_date": 1482361378, "post_id": 41273343, "comment_id": 69748221, "body": "Which version of NUnit? There was a breaking change from NUnit 2.x to 3.x."}, {"owner": {"reputation": 661, "user_id": 1299603, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1e70fa73201cf55ba0361dab3c07c3b4?s=128&d=identicon&r=PG&f=1", "display_name": "ArKi", "link": "https://stackoverflow.com/users/1299603/arki"}, "reply_to_user": {"reputation": 37143, "user_id": 517852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9XmOJ.jpg?s=128&g=1", "display_name": "Mike Zboray", "link": "https://stackoverflow.com/users/517852/mike-zboray"}, "edited": false, "score": 0, "creation_date": 1482361657, "post_id": 41273343, "comment_id": 69748318, "body": "NUnit 3.x, sorry for not clarifying.  Will edit the post."}, {"owner": {"reputation": 11851, "user_id": 1313143, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/77c31140786fe581e4cfc2d17e889d79?s=128&d=identicon&r=PG", "display_name": "MarioDS", "link": "https://stackoverflow.com/users/1313143/mariods"}, "edited": false, "score": 0, "creation_date": 1482420501, "post_id": 41273343, "comment_id": 69774962, "body": "I find it ironic that you have unit tests for code that is not at all fit for production. First off, your path is hard coded, and the fact that it is relative to the <b>pwd</b> is even worse. If I ran your app from my home folder, I would have the same problem."}, {"owner": {"reputation": 661, "user_id": 1299603, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1e70fa73201cf55ba0361dab3c07c3b4?s=128&d=identicon&r=PG&f=1", "display_name": "ArKi", "link": "https://stackoverflow.com/users/1299603/arki"}, "reply_to_user": {"reputation": 11851, "user_id": 1313143, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/77c31140786fe581e4cfc2d17e889d79?s=128&d=identicon&r=PG", "display_name": "MarioDS", "link": "https://stackoverflow.com/users/1313143/mariods"}, "edited": false, "score": 0, "creation_date": 1482420686, "post_id": 41273343, "comment_id": 69775097, "body": "@MarioDS, what would you recommend then?  I understand why being relative to the <b>pwd</b> can be a problem, but what&#39;s wrong with the relative path being hard coded?"}, {"owner": {"reputation": 11851, "user_id": 1313143, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/77c31140786fe581e4cfc2d17e889d79?s=128&d=identicon&r=PG", "display_name": "MarioDS", "link": "https://stackoverflow.com/users/1313143/mariods"}, "edited": false, "score": 0, "creation_date": 1482421083, "post_id": 41273343, "comment_id": 69775389, "body": "@ArKi Paths should, more often than not, be configurable. If this is a directory that is always lives in the folder of your <code>.exe</code> file, you <i>can</i> hard code it, but not relative to the pwd. Rather, at the moment you try to read the file, make sure you somehow know the root of your program / its installation directory."}], "answers": [{"comments": [{"owner": {"reputation": 4890, "user_id": 1973027, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a081464dd04762de220bd9393a6c66ab?s=128&d=identicon&r=PG", "display_name": "Ej.", "link": "https://stackoverflow.com/users/1973027/ej"}, "edited": false, "score": 1, "creation_date": 1548700801, "post_id": 41276858, "comment_id": 95627411, "body": "SUT == System Under Test."}], "tags": [], "owner": {"reputation": 10075, "user_id": 1569967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58379d5103ffb1304afdccb438ce53fb?s=128&d=identicon&r=PG", "display_name": "Charlie", "link": "https://stackoverflow.com/users/1569967/charlie"}, "is_accepted": true, "score": 2, "last_activity_date": 1482387496, "creation_date": 1482387496, "answer_id": 41276858, "question_id": 41273343, "link": "https://stackoverflow.com/questions/41273343/how-can-relative-paths-in-my-c-class-work-with-nunit-3-x/41276858#41276858", "title": "How can relative paths in my C# class work with NUnit 3.x?", "body": "<p>As a matter of policy, we decided that NUnit 3 should no longer change the current directory when running tests as it did in V2. With V2, you could run a whole list of assemblies in different locations and NUnit would change the cd to the location of each assembly before running it. We stopped because:</p>\n\n<ol>\n<li><p>Changing the current directory is an unfriendly thing for a program that runs other programs to do.</p></li>\n<li><p>It won't work anyway, since multiple assemblies located in different directories could be running in parallel at the same time.</p></li>\n</ol>\n\n<p>There's an easy solution for test code, but you say this is code in your application under test so the solution is a bit different.</p>\n\n<p>In the short term, your tests can set the CD before running the SUT code that requires it to be set a certain way. I recommend doing this in some level of SetUp and restoring it in the corresponding teardown.</p>\n\n<p>In the longer term, fix your SUT so that it doesn't require the CD to be set in a particular way in order to run properly.</p>\n"}, {"comments": [{"owner": {"reputation": 10075, "user_id": 1569967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58379d5103ffb1304afdccb438ce53fb?s=128&d=identicon&r=PG", "display_name": "Charlie", "link": "https://stackoverflow.com/users/1569967/charlie"}, "edited": false, "score": 0, "creation_date": 1548857296, "post_id": 41286442, "comment_id": 95693989, "body": "As with use of current directory, this will work fine so long as the base directory is the directory containing the relative path you need to access. That said, you have more control over that through NUnit command-line options or use of a test config file."}], "tags": [], "owner": {"reputation": 661, "user_id": 1299603, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1e70fa73201cf55ba0361dab3c07c3b4?s=128&d=identicon&r=PG&f=1", "display_name": "ArKi", "link": "https://stackoverflow.com/users/1299603/arki"}, "is_accepted": false, "score": 10, "last_activity_date": 1482420217, "creation_date": 1482420217, "answer_id": 41286442, "question_id": 41273343, "link": "https://stackoverflow.com/questions/41273343/how-can-relative-paths-in-my-c-class-work-with-nunit-3-x/41286442#41286442", "title": "How can relative paths in my C# class work with NUnit 3.x?", "body": "<p>Charlie gave a great explanation for why they decided not to change the current directory.  For my code under test, I found using <code>AppDomain.CurrentDomain.BaseDirectory</code> and combining it with my relative path using <code>Path.Combine(...)</code> to work fine for NUnit 3.x.</p>\n"}], "owner": {"reputation": 661, "user_id": 1299603, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1e70fa73201cf55ba0361dab3c07c3b4?s=128&d=identicon&r=PG&f=1", "display_name": "ArKi", "link": "https://stackoverflow.com/users/1299603/arki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2366, "favorite_count": 0, "accepted_answer_id": 41276858, "answer_count": 2, "score": 4, "last_activity_date": 1482420217, "creation_date": 1482361108, "last_edit_date": 1482362228, "question_id": 41273343, "link": "https://stackoverflow.com/questions/41273343/how-can-relative-paths-in-my-c-class-work-with-nunit-3-x", "title": "How can relative paths in my C# class work with NUnit 3.x?", "body": "<p>I have a C# class with the following code.</p>\n\n<pre><code>class Database\n{\n    private const string DatabaseFilepath = @\"Settings\\Database.xml\";\n    ...\n    private void LoadDatabase()\n    {\n        XmlDocument databaseDocument = new XmlDocument();\n        databaseDocument.Load(DatabaseFilepath);\n    }\n}\n</code></pre>\n\n<p>Now this code executes fine when I compile it, and it is able to read from the <code>Database.xml</code> file.  However, when I run a unit test that happens to execute this code using NUnit, I get the following exception.</p>\n\n<blockquote>\n  <p>Result Message:   System.IO.DirectoryNotFoundException : Could not find\n  a part of the path 'C:\\Program Files (x86)\\Microsoft Visual Studio\n  14.0\\Common7\\IDE\\Settings\\Database.xml'.</p>\n</blockquote>\n\n<p>Now, when I was using Visual Studio Test Tools, this worked perfectly fine.  However, upon switching to NUnit, it looks like it is searching in a different working directory.  How can I change this?</p>\n\n<p>Note: I have found other questions that ask how to use relative paths in <strong>test</strong> code.  In my example, my relative paths are are in my <strong>class</strong> code.</p>\n"}, {"tags": ["c#", "asp.net", "visual-studio", "coded-ui-tests"], "comments": [{"owner": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 0, "creation_date": 1482410774, "post_id": 41273262, "comment_id": 69768549, "body": "You might find some of the Q&amp;As here about running Coded UI from a console or standalone application relevant."}, {"owner": {"reputation": 1043, "user_id": 5212566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KxCYM.jpg?s=128&g=1", "display_name": "Prageeth Saravanan", "link": "https://stackoverflow.com/users/5212566/prageeth-saravanan"}, "edited": false, "score": 0, "creation_date": 1482415596, "post_id": 41273262, "comment_id": 69771676, "body": "Try this! <a href=\"http://stackoverflow.com/a/37036537/5212566\">stackoverflow.com/a/37036537/5212566</a>"}], "owner": {"reputation": 41, "user_id": 1351551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5ea0820d9bafbabb8bf6f7a4f75f8da?s=128&d=identicon&r=PG", "display_name": "KC P", "link": "https://stackoverflow.com/users/1351551/kc-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482360696, "creation_date": 1482360696, "question_id": 41273262, "link": "https://stackoverflow.com/questions/41273262/how-do-i-playback-already-created-codedui-test-methods-from-a-default-aspx-file", "title": "How do I playback already created CodedUI Test Methods from a Default.aspx file?", "body": "<p>I have a CodedUiTest project with several Test Methods inside of it. All of these Test Methods can be called manually from inside of Visual Studios, but I am trying to build an interface that can call the various tests from a web browser.</p>\n\n<p>I have added a web project inside the solution, and have successfully referenced the test methods from the Default.aspx.cs file no problem. The issue is that once the Test Method is called I get \"Could not load file or assembly 'Microsoft.VisualStudio.TestTools.UITest.WindowsStoreUtility\".</p>\n\n<p>I am trying to add a reference manually, but I cannot find out where this reference comes from. I have looked in C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\Common7\\IDE\\PublicAssemblies and do not see it anywhere.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["c#", "winforms", "graphics"], "comments": [{"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 2, "creation_date": 1482360844, "post_id": 41273235, "comment_id": 69748007, "body": "You did everything in the form constructor. Once the form paints, your box is gone. Forms are constantly repainting when it feels it needs to update visually. That means you need to paint every time it does. <a href=\"http://stackoverflow.com/questions/10076116/how-to-use-the-onpaint-event-in-c\" title=\"how to use the onpaint event in c\">stackoverflow.com/questions/10076116/&hellip;</a>"}, {"owner": {"reputation": 82, "user_id": 6169504, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/raWd0.jpg?s=128&g=1", "display_name": "Noah Heber", "link": "https://stackoverflow.com/users/6169504/noah-heber"}, "reply_to_user": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1482360965, "post_id": 41273235, "comment_id": 69748047, "body": "would it help if i put it in the Form Load event? i am doing it after initializeConponent, so i would assume it would paint after the form."}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 1, "creation_date": 1482361013, "post_id": 41273235, "comment_id": 69748062, "body": "No, you have to override the OnPaint method so when it&#39;s done painting, you can paint over it. Look at the example I linked."}, {"owner": {"reputation": 82, "user_id": 6169504, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/raWd0.jpg?s=128&g=1", "display_name": "Noah Heber", "link": "https://stackoverflow.com/users/6169504/noah-heber"}, "reply_to_user": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1482361057, "post_id": 41273235, "comment_id": 69748077, "body": "ok ill try that, thanks! I&#39;ll edit this comment if it does not work."}], "answers": [{"comments": [{"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 2, "creation_date": 1482361464, "post_id": 41273380, "comment_id": 69748254, "body": "You shouldn&#39;t need <code>fg</code>. The <code>PainteEventArgs</code> has the <code>Graphics</code> for you to use. Glad it worked for you."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1482361557, "post_id": 41273380, "comment_id": 69748285, "body": "Yeah, as a general rule, never use CreateGraphics() to draw on a control. It will not stay valid indefinitely. Always use the <code>PaintEventArgs.Graphics</code> property instead."}, {"owner": {"reputation": 82, "user_id": 6169504, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/raWd0.jpg?s=128&g=1", "display_name": "Noah Heber", "link": "https://stackoverflow.com/users/6169504/noah-heber"}, "edited": false, "score": 0, "creation_date": 1482361927, "post_id": 41273380, "comment_id": 69748396, "body": "Okay, ill change it. Thanks!"}], "tags": [], "owner": {"reputation": 82, "user_id": 6169504, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/raWd0.jpg?s=128&g=1", "display_name": "Noah Heber", "link": "https://stackoverflow.com/users/6169504/noah-heber"}, "is_accepted": true, "score": 1, "last_activity_date": 1482362000, "last_edit_date": 1495542846, "creation_date": 1482361318, "answer_id": 41273380, "question_id": 41273235, "link": "https://stackoverflow.com/questions/41273235/why-does-painting-on-the-form-in-its-constructor-not-display-anything-on-the-for/41273380#41273380", "title": "Why does painting on the form in its constructor not display anything on the form?", "body": "<p>This worked! Thanks to TyCobb for the quick answer.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace Random_Terrain_Generator\n{\n    public partial class Form1 : Form\n    {\n        Engine e;\n\n        public Form1()\n        {\n            InitializeComponent();\n\n            e = new Engine(100, 100);\n            e.Color3(Color.Blue);\n            e.fRect(new Rectangle(0,0,50,50));\n        }\n\n        protected override void OnPaint(PaintEventArgs pe)\n        {\n            // Call the OnPaint method of the base class.\n            base.OnPaint(pe);\n            pe.Graphics.DrawImage(e.getBuffer(), 1, 1, 100, 100);\n\n        }\n    }\n\n    public class Engine\n    {\n        Color fillColor;\n        Bitmap buffer;\n        Graphics bufferGraphics;\n\n        public Engine(int bufferWidth, int bufferHeight)\n        {\n            buffer = new Bitmap(bufferWidth, bufferHeight);\n            bufferGraphics = Graphics.FromImage(buffer);\n        }\n\n        public void fRect(Rectangle r)\n        {\n            bufferGraphics.FillRectangle(new SolidBrush(fillColor), r);\n        }\n\n        public void rect(Rectangle r)\n        {\n            bufferGraphics.DrawRectangle(new Pen(fillColor), r);\n        }\n\n        public void Color3(Color c)\n        {\n            fillColor = c;\n        }\n\n        public Bitmap getBuffer()\n        {\n            return buffer;\n        }\n    }\n}\n</code></pre>\n\n<p>I'm overriding the form's OnPaint event, which redraws the rectangle every frame. The issue was that the form was painting over the rectangle.\n<a href=\"https://stackoverflow.com/questions/10076116/how-to-use-the-onpaint-event-in-c\">How to use the OnPaint event in C#?</a></p>\n"}], "owner": {"reputation": 82, "user_id": 6169504, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/raWd0.jpg?s=128&g=1", "display_name": "Noah Heber", "link": "https://stackoverflow.com/users/6169504/noah-heber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 1, "closed_date": 1482458814, "accepted_answer_id": 41273380, "answer_count": 1, "score": -1, "last_activity_date": 1487294973, "creation_date": 1482360592, "last_edit_date": 1487294973, "question_id": 41273235, "link": "https://stackoverflow.com/questions/41273235/why-does-painting-on-the-form-in-its-constructor-not-display-anything-on-the-for", "closed_reason": "Duplicate", "title": "Why does painting on the form in its constructor not display anything on the form?", "body": "<p>EDIT: This is not a duplicate of \"How to use the OnPaint event in C#\" because I didn't even know it existed. I am asking a question, when I don't know the answer. It's like asking \"How do I check oil in my car\" when i don't even know what a dip stick is. Please remove the duplicate sign if this edits it in a way that explains why it is not a duplicate.</p>\n\n<p>I am trying to make a random terrain generator. At the moment, I am using Windows Forms Graphics to draw it all. I can't seem to get the engine to work. The following code ran does not display anything on the form, even though it should draw a black rectangle from 0,0 to 50,50. Can anyone solve?</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace Random_Terrain_Generator\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n\n            Engine e = new Engine(100, 100);\n            e.Color3(Color.Blue);\n            e.rect(new Rectangle(0,0,50,50));\n            Graphics fg = this.CreateGraphics();\n            fg.DrawImage(e.getBuffer(), 1, 100, 100, 100);\n        }\n    }\n\n    public class Engine\n    {\n        Color fillColor;\n        Bitmap buffer;\n        Graphics bufferGraphics;\n\n        public Engine(int bufferWidth, int bufferHeight)\n        {\n            buffer = new Bitmap(bufferWidth, bufferHeight);\n            bufferGraphics = Graphics.FromImage(buffer);\n        }\n\n        public void fRect(Rectangle r)\n        {\n            bufferGraphics.FillRectangle(new SolidBrush(fillColor), r);\n        }\n\n        public void rect(Rectangle r)\n        {\n            bufferGraphics.DrawRectangle(new Pen(fillColor), r);\n        }\n\n        public void Color3(Color c)\n        {\n            fillColor = c;\n        }\n\n        public Bitmap getBuffer()\n        {\n            return buffer;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "windows", "process", "freeze", "tasklist"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 2, "creation_date": 1482360681, "post_id": 41273181, "comment_id": 69747935, "body": "You don&#39;t read the output.."}, {"owner": {"reputation": 1975, "user_id": 3642982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/575111385/picture?type=large", "display_name": "LVBen", "link": "https://stackoverflow.com/users/3642982/lvben"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1482360775, "post_id": 41273181, "comment_id": 69747965, "body": "Why does that matter?"}, {"owner": {"reputation": 1975, "user_id": 3642982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/575111385/picture?type=large", "display_name": "LVBen", "link": "https://stackoverflow.com/users/3642982/lvben"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1482360805, "post_id": 41273181, "comment_id": 69747982, "body": "I can easily add these two line after the WaitForExit, but it will never gets executed:         var response = process.StandardOutput.ReadToEnd();         Console.WriteLine(response);"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 1, "creation_date": 1482360826, "post_id": 41273181, "comment_id": 69747992, "body": "Indeed. The buffer is full, so writes to stdout from the process will block. Read the buffer to allow the process to proceed."}, {"owner": {"reputation": 1975, "user_id": 3642982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/575111385/picture?type=large", "display_name": "LVBen", "link": "https://stackoverflow.com/users/3642982/lvben"}, "edited": false, "score": 0, "creation_date": 1482360836, "post_id": 41273181, "comment_id": 69747998, "body": "Also, if I use the OutputDataReceived event, it never gets called!"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1482360886, "post_id": 41273181, "comment_id": 69748022, "body": "The buffer fills up, so tasklist.exe blocks waiting for you read it, before it can finish writing."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1482360924, "post_id": 41273181, "comment_id": 69748037, "body": "You need to read <i>before</i> WaitForExit. See discussion on deadlocks here: <a href=\"https://msdn.microsoft.com/en-us/library/system.diagnostics.processstartinfo.redirectstandardoutput.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 1975, "user_id": 3642982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/575111385/picture?type=large", "display_name": "LVBen", "link": "https://stackoverflow.com/users/3642982/lvben"}, "edited": false, "score": 0, "creation_date": 1482360958, "post_id": 41273181, "comment_id": 69748044, "body": "I&#39;ll try it.  Thanks!"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1482361007, "post_id": 41273181, "comment_id": 69748059, "body": "Also, OutputDataReceived is for use with BeginOutputReadLine - the asynchronous API."}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1482361057, "post_id": 41273181, "comment_id": 69748078, "body": "Indeed. If you <code>ReadToEnd</code>, that is the end of the process. If you then <code>WaitForExit</code>, it will effectively be redundant."}], "answers": [{"comments": [{"owner": {"reputation": 1975, "user_id": 3642982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/575111385/picture?type=large", "display_name": "LVBen", "link": "https://stackoverflow.com/users/3642982/lvben"}, "edited": false, "score": 1, "creation_date": 1482361265, "post_id": 41273339, "comment_id": 69748165, "body": "I think you mean to use StandardOutput instead of StandardError, but yes this works!"}, {"owner": {"reputation": 76, "user_id": 7327002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ingUN.jpg?s=128&g=1", "display_name": "M&#225;rio Moura da Silva", "link": "https://stackoverflow.com/users/7327002/m%c3%a1rio-moura-da-silva"}, "reply_to_user": {"reputation": 1975, "user_id": 3642982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/575111385/picture?type=large", "display_name": "LVBen", "link": "https://stackoverflow.com/users/3642982/lvben"}, "edited": false, "score": 0, "creation_date": 1482361368, "post_id": 41273339, "comment_id": 69748211, "body": "Thank you LVBen ;)"}], "tags": [], "owner": {"reputation": 76, "user_id": 7327002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ingUN.jpg?s=128&g=1", "display_name": "M&#225;rio Moura da Silva", "link": "https://stackoverflow.com/users/7327002/m%c3%a1rio-moura-da-silva"}, "is_accepted": true, "score": 2, "last_activity_date": 1482361341, "last_edit_date": 1482361341, "creation_date": 1482361097, "answer_id": 41273339, "question_id": 41273181, "link": "https://stackoverflow.com/questions/41273181/why-does-tasklist-exe-never-end-when-redirecting-standard-output/41273339#41273339", "title": "Why Does TaskList.exe Never End When Redirecting Standard Output?", "body": "<p>If you're using <code>RedirectStandardOutput = true</code> add this line to your code:</p>\n\n<pre><code>process.Start();\n\n// To avoid deadlocks, always read the output stream first and then wait.\nstring out = process.StandardOutput.ReadToEnd();\n\nprocess.WaitForExit();\n</code></pre>\n"}], "owner": {"reputation": 1975, "user_id": 3642982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/575111385/picture?type=large", "display_name": "LVBen", "link": "https://stackoverflow.com/users/3642982/lvben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 41273339, "answer_count": 1, "score": 0, "last_activity_date": 1482361341, "creation_date": 1482360309, "last_edit_date": 1482360627, "question_id": 41273181, "link": "https://stackoverflow.com/questions/41273181/why-does-tasklist-exe-never-end-when-redirecting-standard-output", "title": "Why Does TaskList.exe Never End When Redirecting Standard Output?", "body": "<p>When I attempt to run tasklist.exe with the Process class and set RedirectStandardOutput to true, the process never ends.</p>\n\n<pre><code>using System.Diagnostics;\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        RunProcess(\"tasklist.exe\");\n    }\n\n    private static void RunProcess(string command)\n    {\n        var process = new Process()\n        {\n            StartInfo =\n            {\n                FileName = command,\n                RedirectStandardOutput = true,\n                UseShellExecute = false\n            }\n        };\n\n        process.Start();\n        process.WaitForExit();\n    }\n}\n</code></pre>\n\n<p>If I set RedirectStandardOutput to false, the process does end!!!</p>\n\n<p>Why does the tasklist.exe Process never end?  I am using Windows 7 and .net framework 4.5.2.</p>\n\n<p>I found out that when I forcefully close tasklist.exe, there is exactly 4096 bytes written to standard output every time!  Is there some kind of character buffer that I need to increase in size?</p>\n"}, {"tags": ["c#", "json", "ajax", "asp.net-mvc"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1482360511, "post_id": 41273169, "comment_id": 69747887, "body": "what were you hoping to get?"}, {"owner": {"reputation": 2331, "user_id": 373721, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7255750a2b7cce42f3d5822117f29373?s=128&d=identicon&r=PG&f=1", "display_name": "hncl", "link": "https://stackoverflow.com/users/373721/hncl"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1482360702, "post_id": 41273169, "comment_id": 69747939, "body": "&lt;img src=\\&quot;@Url.Action(\\&quot;TheImage\\&quot;,  new {id = &quot; + updateid +                               &quot;})\\&quot; class=\\&quot;mg-responsive\\&quot; style=\\&quot;margin-left: auto;margin-right: auto\\&quot;/&gt;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1482360726, "post_id": 41273169, "comment_id": 69747949, "body": "That&#39;s exactly what your <code>Test()</code> method returns :). There is no point  using things like <code>@Url.Action</code> in a <code>string</code> - its razor code which is evaluated in the server and will not be evaluated in your script. Just return the actual url (use <code>string url = Url.Action(...);</code> to generate the url in the method"}, {"owner": {"reputation": 2331, "user_id": 373721, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7255750a2b7cce42f3d5822117f29373?s=128&d=identicon&r=PG&f=1", "display_name": "hncl", "link": "https://stackoverflow.com/users/373721/hncl"}, "edited": false, "score": 0, "creation_date": 1482362616, "post_id": 41273169, "comment_id": 69748593, "body": "Thank you Stephen, it worked."}], "answers": [{"tags": [], "owner": {"reputation": 930, "user_id": 4243015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DQfbD.jpg?s=128&g=1", "display_name": "Rama Kathare", "link": "https://stackoverflow.com/users/4243015/rama-kathare"}, "is_accepted": true, "score": 0, "last_activity_date": 1482362314, "creation_date": 1482362314, "answer_id": 41273532, "question_id": 41273169, "link": "https://stackoverflow.com/questions/41273169/json-returns-different-string/41273532#41273532", "title": "Json returns different string", "body": "<p>I would recommend returning the <code>updateid</code> first so that you can construct the img markup on the client side. </p>\n\n<pre><code>public ActionResult Test(int id)\n    {\n        int updateid = 1;\n        var result = new\n        {\n            PhotoId = updateid\n        };\n        return Json(result, JsonRequestBehavior.AllowGet);\n    }\n</code></pre>\n\n<p>And, on the client side</p>\n\n<pre><code>function testing() {\n    $.ajax({\n        url: \"../../Home/Test\",\n        type: \"GET\",\n        data: {\n            id: 1\n        },\n        success: function (result) {\n            if (result.PhotoId) {\n                var PhotoUrl = \"&lt;img src='/YourController/TheImage/\" + result.PhotoId + \" class='mg-responsive' style='margin-left:         auto;margin-right: auto'/&gt; \";\n                $(\"#Photo\").html(PhotoURL);\n            }\n        },\n        error: function (result) {\n            alert(\"error\");\n        }\n    });\n}\n</code></pre>\n\n<p>This saves the bandwidth and it is clean. If you want to change the class or properties attributes on the image you don't have to rebuild the solution.</p>\n"}], "owner": {"reputation": 2331, "user_id": 373721, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7255750a2b7cce42f3d5822117f29373?s=128&d=identicon&r=PG&f=1", "display_name": "hncl", "link": "https://stackoverflow.com/users/373721/hncl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 41273532, "answer_count": 1, "score": 0, "last_activity_date": 1482362314, "creation_date": 1482360239, "question_id": 41273169, "link": "https://stackoverflow.com/questions/41273169/json-returns-different-string", "title": "Json returns different string", "body": "<p>My application is MVC 5 C#.\nI am trying to get a string value from the controller using this Ajax script:</p>\n\n<pre><code>function testing() {\n        $.ajax({\n            url: \"../../Home/Test\",\n            type: \"GET\",\n            data: {\n                id: 1\n            },\n            success: function (result) {\n                if (result.PhotoURL) {\n                    $(\"#Photo\").html(result.PhotoURL);\n                }\n            },\n            error: function (result) {\n                alert(\"error\");\n            }\n        });\n    }\n</code></pre>\n\n<p>Here is the controller:</p>\n\n<pre><code>   public ActionResult Test(int id)\n        {\n            int updateid = 1;\n            string thephoto = \"&lt;img src=\\\"@Url.Action(\\\"TheImage\\\",  \n            new {id = \" + updateid +\n            \"})\\\" class=\\\"mg-responsive\\\" style=\\\"margin-left: \n            auto;margin-right: auto\\\"/&gt; \";\n            var result = new\n            {\n                PhotoURL = thephoto\n            };\n            return Json(result, JsonRequestBehavior.AllowGet);\n        }\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>   &lt;img class=\"mg-responsive\" style=\"margin-right: auto; margin-left: auto;\" \nsrc=\"@Url.Action(\" {id='1})\"' new=\"\" thespillimage\",=\"\"&gt;\n</code></pre>\n"}, {"tags": ["c#", "string", "double", "converter", "currency"], "comments": [{"owner": {"reputation": 179, "user_id": 4596741, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/842257319169202/picture?type=large", "display_name": "Saeed Asgari", "link": "https://stackoverflow.com/users/4596741/saeed-asgari"}, "edited": false, "score": 0, "creation_date": 1482435266, "post_id": 41273166, "comment_id": 69783445, "body": "I dont know why asking a question would give me a downvote. i guess i have to go ahead and shut up"}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 4596741, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/842257319169202/picture?type=large", "display_name": "Saeed Asgari", "link": "https://stackoverflow.com/users/4596741/saeed-asgari"}, "edited": false, "score": 0, "creation_date": 1482412321, "post_id": 41273351, "comment_id": 69769527, "body": "from 116.9 i get 1169"}, {"owner": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "reply_to_user": {"reputation": 179, "user_id": 4596741, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/842257319169202/picture?type=large", "display_name": "Saeed Asgari", "link": "https://stackoverflow.com/users/4596741/saeed-asgari"}, "edited": false, "score": 0, "creation_date": 1482421067, "post_id": 41273351, "comment_id": 69775376, "body": "Don&#39;t just copy and paste the code, learn why it does or does not work. In this case I assume your system culture is something other than en-US and so the number gets formatted incorrectly. I&#39;ve added a line to try en-US first. You know where these APIs are located so you can add the correct cultures."}], "tags": [], "owner": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "is_accepted": false, "score": 0, "last_activity_date": 1482421987, "last_edit_date": 1482421987, "creation_date": 1482361149, "answer_id": 41273351, "question_id": 41273166, "link": "https://stackoverflow.com/questions/41273166/string-to-double-currency-has-wrong-result-comma-point-issue/41273351#41273351", "title": "String to double currency has wrong result ( comma point issue)", "body": "<p>I'm not aware of a better way other than trying different cultures to see what succeeds.</p>\n\n<p>Create a method like this:</p>\n\n<pre><code>public double CurrencyToDouble(string input)\n{\n    // Will hold the result\n    double result = 0;\n\n    // Try US culture\n    if(double.TryParse(input, System.Globalization.NumberStyles.Currency, System.Globalization.CultureInfo.GetCultureInfo(\"en-US\"), out result)) { return result; }\n\n    // Try DE culture\n    if (double.TryParse(input, System.Globalization.NumberStyles.Currency, System.Globalization.CultureInfo.GetCultureInfo(\"de-DE\"), out result)) { return result; }\n\n    // Try current system culture\n    if(double.TryParse(input, System.Globalization.NumberStyles.Currency, System.Globalization.CultureInfo.CurrentCulture, out result)) { return result; }\n\n    // Try invariant culture\n    if(double.TryParse(input, System.Globalization.NumberStyles.Currency, System.Globalization.CultureInfo.InvariantCulture, out result)) { return result; }\n\n    // Try more common cultures...\n\n    // Unsuccessful, throw some kind of error\n    throw new FormatException(\"Could not convert!\");\n}\n</code></pre>\n\n<p>Input:</p>\n\n<blockquote>\n  <p>CurrencyToDouble(\"2000,0.20\");<br>\n  CurrencyToDouble(\"2000.0,20\");</p>\n</blockquote>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>20000.2<br>\n  20000.2  </p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 179, "user_id": 4596741, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/842257319169202/picture?type=large", "display_name": "Saeed Asgari", "link": "https://stackoverflow.com/users/4596741/saeed-asgari"}, "edited": false, "score": 0, "creation_date": 1482413713, "post_id": 41273888, "comment_id": 69770443, "body": "it works for american and european . i just need to test eastern formats too to be sure. then im gonna set this post as solved. Thanks man"}], "tags": [], "owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "is_accepted": true, "score": 1, "last_activity_date": 1482365054, "creation_date": 1482365054, "answer_id": 41273888, "question_id": 41273166, "link": "https://stackoverflow.com/questions/41273166/string-to-double-currency-has-wrong-result-comma-point-issue/41273888#41273888", "title": "String to double currency has wrong result ( comma point issue)", "body": "<p>This is what I came up with</p>\n\n<pre><code>double FixUnknownCurrency(string amountText)\n{\n    amountText = amountText?.Trim()?.Replace(\" \", string.Empty);\n    if(string.IsNullOrWhiteSpace(amountText))\n        return 0d;  \n\n    if(amountText.Length &lt; 3)\n        return double.Parse(amountText);\n\n    var currencyDecimal = amountText[amountText.Length-3];\n    if(Char.IsNumber(currencyDecimal))\n        return double.Parse(amountText);\n\n    if(currencyDecimal == '.' || currencyDecimal == ',')\n    {\n        amountText = amountText.Replace(\",\", string.Empty).Replace(\".\", string.Empty);\n        return double.Parse(amountText) / 100d;\n    }\n\n    return double.Parse(amountText);\n}\n</code></pre>\n\n<p>Try it out here. Running late for train: <a href=\"https://dotnetfiddle.net/HTiL4s\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/HTiL4s</a></p>\n"}], "owner": {"reputation": 179, "user_id": 4596741, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/842257319169202/picture?type=large", "display_name": "Saeed Asgari", "link": "https://stackoverflow.com/users/4596741/saeed-asgari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 41273888, "answer_count": 2, "score": -1, "last_activity_date": 1482421987, "creation_date": 1482360233, "question_id": 41273166, "link": "https://stackoverflow.com/questions/41273166/string-to-double-currency-has-wrong-result-comma-point-issue", "title": "String to double currency has wrong result ( comma point issue)", "body": "<p>Now i have this problem here with comma and point in decimal point and thousands separator.</p>\n\n<p>My program gets prices from different sources . </p>\n\n<p>some american some european \nSome prices comes like this 2000,0.20 for 20000.20 </p>\n\n<p>and some like   2000.0,20 for again 20000.20</p>\n\n<p>I couldn't find a way to make my code to recognize these two formats . \ni tried to use replace to turn the comma to dot but if there is thousands separator in the number i get problems. how can i convert string to double without these  kind of problems ? </p>\n\n<p>I tried this \nbut its just dont work if there is two different culture</p>\n\n<pre><code>            double.TryParse(price, NumberStyles.Currency, CultureInfo.InvariantCulture, out priceD);\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 1, "creation_date": 1482363230, "post_id": 41273126, "comment_id": 69748780, "body": "How is the code being called? Make sure you are not making any blocking calls higher up the call stack"}, {"owner": {"reputation": 795, "user_id": 5322598, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9b2f8507c68daf2cec5d03b071c45b8e?s=128&d=identicon&r=PG", "display_name": "Jonathan Ortega", "link": "https://stackoverflow.com/users/5322598/jonathan-ortega"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1482372815, "post_id": 41273126, "comment_id": 69751058, "body": "@Nkosi Here, I added a fragment of how I intend on callying the methods"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1482376874, "post_id": 41273126, "comment_id": 69752025, "body": "check Stephen Cleary&#39;s answer. As I suspected you were making a blocking call on <code>apiCall.Result</code> which can result in a deadlock. Convert the action to use async/await"}], "answers": [{"comments": [{"owner": {"reputation": 795, "user_id": 5322598, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9b2f8507c68daf2cec5d03b071c45b8e?s=128&d=identicon&r=PG", "display_name": "Jonathan Ortega", "link": "https://stackoverflow.com/users/5322598/jonathan-ortega"}, "edited": false, "score": 0, "creation_date": 1482382677, "post_id": 41275082, "comment_id": 69753523, "body": "I have a small doubt, If I create another private async method for the service that calls the GET Endpoints (because I need to add the access token on every call), calling three async awaitables could impact performance?"}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "reply_to_user": {"reputation": 795, "user_id": 5322598, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9b2f8507c68daf2cec5d03b071c45b8e?s=128&d=identicon&r=PG", "display_name": "Jonathan Ortega", "link": "https://stackoverflow.com/users/5322598/jonathan-ortega"}, "edited": false, "score": 1, "creation_date": 1482412135, "post_id": 41275082, "comment_id": 69769408, "body": "@Forcefield: Three async calls would not have a noticeable performance change at all."}], "tags": [], "owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "is_accepted": true, "score": 5, "last_activity_date": 1482375057, "creation_date": 1482375057, "answer_id": 41275082, "question_id": 41273126, "link": "https://stackoverflow.com/questions/41273126/asp-httpclient-getasync-is-not-responding-nor-timing-out/41275082#41275082", "title": "ASP HttpClient GetAsync is not responding, nor timing out", "body": "<p>Your problem is here:</p>\n\n<pre><code>var model = apiCall.Result;\n</code></pre>\n\n<p>As I describe on my blog, <a href=\"http://blog.stephencleary.com/2012/07/dont-block-on-async-code.html\" rel=\"noreferrer\">you shouldn't block on asynchronous code</a>. It can cause a deadlock.</p>\n\n<p>Instead of <code>Result</code>, use <code>await</code>:</p>\n\n<pre><code>var model = await apiCall;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": false, "score": 2, "last_activity_date": 1482377101, "creation_date": 1482377101, "answer_id": 41275327, "question_id": 41273126, "link": "https://stackoverflow.com/questions/41273126/asp-httpclient-getasync-is-not-responding-nor-timing-out/41275327#41275327", "title": "ASP HttpClient GetAsync is not responding, nor timing out", "body": "<p>Adding to Stephen's answer, update the controller's action to be <code>async</code> all the way.</p>\n\n<pre><code>public class HomeController : Controller {\n    private InstagramService IGService = new InstagramService();\n    public async Task&lt;ActionResult&gt; About() {\n       var model = await IGService.GetInstagramUser();\n       return View(model);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 795, "user_id": 5322598, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9b2f8507c68daf2cec5d03b071c45b8e?s=128&d=identicon&r=PG", "display_name": "Jonathan Ortega", "link": "https://stackoverflow.com/users/5322598/jonathan-ortega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1415, "favorite_count": 0, "accepted_answer_id": 41275082, "answer_count": 2, "score": 4, "last_activity_date": 1482377101, "creation_date": 1482360025, "last_edit_date": 1482372697, "question_id": 41273126, "link": "https://stackoverflow.com/questions/41273126/asp-httpclient-getasync-is-not-responding-nor-timing-out", "title": "ASP HttpClient GetAsync is not responding, nor timing out", "body": "<p>I'm creating an Instagram API client on ASP MVC using HttpClient, I'm trying to make a get request but it fails without throwing exception or responding and doesn't respond to my timeout. Here is my code:</p>\n\n<pre><code> public class InstagramService\n {\n    private HttpClient Client = new HttpClient {\n       BaseAddress = new Uri(\"https://api.instagram.com/v1/\"),\n       Timeout = TimeSpan.FromMilliseconds(500)\n    };\n    public async Task&lt;InstagramUser&gt; GetInstagramUser(long? userId = null)\n    {\n       InstagramUser User = null;\n       string Parameter = (userId == null) ? \"self\" : userId.ToString();\n       try {\n          var response = await Client.GetAsync(\"users/\" + Parameter + \"/\" + GetAccessToken());\n          if (response.IsSuccessStatusCode)\n          {\n              User = await response.Content.ReadAsAsync&lt;InstagramUser&gt;();\n          }\n      }catch(Exception e)\n      {\n          Console.WriteLine(e.Message);\n          Console.WriteLine(e.InnerException.Message);\n      }\n      return User;\n    }\n\n    private string GetAccessToken()\n    {\n        return \"?access_token=\" + DB.config_det_sys.Single(i =&gt; i.codigo == \"ACCESS_TOKEN_INSTAGRAM\" &amp;&amp; i.estado == true).Valor;\n    }\n\n }\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Here I add how I call my service on the Home Controller, I will still test changing the controller to async Task</p>\n\n<pre><code>public class HomeController : Controller\n{\n    private InstagramService IGService = new InstagramService();\n    public ActionResult About()\n    {\n       var apiCall = IGService.GetInstagramUser();\n       var model = apiCall.Result;\n       return View(model);\n    }\n}\n</code></pre>\n\n<p>I tested on Postman trying to make the API call and it indeed worked, so where I'm failing to catch errors?</p>\n"}, {"tags": ["c#", ".net", "chromium-embedded", "cefsharp"], "comments": [{"owner": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1482363479, "post_id": 41273099, "comment_id": 69748835, "body": "<code>HtmlElement</code> is not valid in the context of <code>CefSharp</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1482363885, "post_id": 41273257, "comment_id": 69748932, "body": "There is limited support for arrays/dictionaries of primitive types, if you return <code>[0,1]</code> you&#39;d get a list of objects which can be parsed into integers."}], "tags": [], "owner": {"reputation": 2363, "user_id": 5712587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac51f092cb5f486310ec3d66e1cecd59?s=128&d=identicon&r=PG&f=1", "display_name": "Pat", "link": "https://stackoverflow.com/users/5712587/pat"}, "is_accepted": true, "score": 1, "last_activity_date": 1482360668, "creation_date": 1482360668, "answer_id": 41273257, "question_id": 41273099, "link": "https://stackoverflow.com/questions/41273099/how-to-get-value-from-getelementbyid/41273257#41273257", "title": "How to get value from GetElementById?", "body": "<pre><code>Browser.ExecuteScriptAsync();\n</code></pre>\n\n<p>Sends javascript to be executed and expects nothing in return, so trying to assign 'nothing' (ie void) to an HtmlElement variable is a no go. </p>\n\n<p>If you are looking to send the page a bit of javascript, and use what is sent back, you need to use <code>EvaluateScriptAsync()</code></p>\n\n<p>This will return a <code>Task&lt;JavascriptResponse&gt;</code> which will still not work if you are trying to assign it to <code>Size</code>. Here is the bad news: <code>JavascriptResponse</code> can only be basic data types (int, bool, string, etc.). As per their documentation: </p>\n\n<blockquote>\n  <p>Only trivial values can be returned (like int, bool, string etc) - not\n  a complex (user-defined) type which you have defined yourself. This is\n  because there is no (easy) way to expose a random Javascript object to\n  the .NET world, at least not today. However, one possible technique is\n  to turn the Javascript object you wish to return to your .NET code\n  into a JSON string with the Javascript JSON.toStringify() method and\n  return that string to your .NET code. Then you can decode that string\n  into a .NET object with something like JSON.net. See this MSDN link\n  for more information.\n  (<a href=\"https://msdn.microsoft.com/en-us/library/ie/cc836459(v=vs.94).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/ie/cc836459(v=vs.94).aspx</a>)</p>\n</blockquote>\n\n<p>For more info see: \n<a href=\"https://github.com/cefsharp/CefSharp/wiki/Frequently-asked-questions\" rel=\"nofollow noreferrer\">https://github.com/cefsharp/CefSharp/wiki/Frequently-asked-questions</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5527671"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 41273257, "answer_count": 1, "score": -1, "last_activity_date": 1482477206, "creation_date": 1482359870, "last_edit_date": 1482477206, "question_id": 41273099, "link": "https://stackoverflow.com/questions/41273099/how-to-get-value-from-getelementbyid", "title": "How to get value from GetElementById?", "body": "<p>nxuybcbkbcbggkcwcbregrwyywbrgewbyrewyreyrwebyrwrwe\ntest</p>\n"}, {"tags": ["c#", "linq", "left-join"], "answers": [{"comments": [{"owner": {"reputation": 425, "user_id": 7076676, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fb49736da3627892988f0be795c8aac9?s=128&d=identicon&r=PG&f=1", "display_name": "jim crown", "link": "https://stackoverflow.com/users/7076676/jim-crown"}, "edited": false, "score": 0, "creation_date": 1482360108, "post_id": 41273113, "comment_id": 69747723, "body": "thx, That was it."}], "tags": [], "owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "is_accepted": true, "score": 1, "last_activity_date": 1482360130, "last_edit_date": 1482360130, "creation_date": 1482359980, "answer_id": 41273113, "question_id": 41273095, "link": "https://stackoverflow.com/questions/41273095/how-to-check-if-an-int-field-is-null-due-to-left-join/41273113#41273113", "title": "How to check if an int field is null due to left join", "body": "<p>In this case, <code>b</code> (of type Bonus) is null. So accessing <code>b.Amount</code> is illegal.</p>\n\n<p>Check <code>b</code> for null before use.</p>\n\n<pre><code>Amount = b != null ? b.Amount : 0\n</code></pre>\n\n<p>Or C# 6 (although I prefer the former):</p>\n\n<pre><code>Amount = b?.Amount ?? 0;\n</code></pre>\n\n<p>An int cannot be null.</p>\n"}], "owner": {"reputation": 425, "user_id": 7076676, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fb49736da3627892988f0be795c8aac9?s=128&d=identicon&r=PG&f=1", "display_name": "jim crown", "link": "https://stackoverflow.com/users/7076676/jim-crown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "closed_date": 1482361387, "accepted_answer_id": 41273113, "answer_count": 1, "score": -1, "last_activity_date": 1482360130, "creation_date": 1482359855, "question_id": 41273095, "link": "https://stackoverflow.com/questions/41273095/how-to-check-if-an-int-field-is-null-due-to-left-join", "closed_reason": "Duplicate", "title": "How to check if an int field is null due to left join", "body": "<p>I have following classes.</p>\n\n<pre><code>class Employee\n{\n    public int ID { get; set; }\n    public string Name { get; set; }\n}\n\nclass Bonus\n{\n    public int EmployeeId { get; set; }\n    public int Amount { get; set; }\n}\n\nclass EmployeeBonus\n{\n    public int ID { get; set; }\n    public string Name { get; set; }\n    public int Amount { get; set; }\n}\n</code></pre>\n\n<p>I need to do a left join so that if en EmployeeId does not exists in the Bonus class, the Amount should be zero. Here is how its implemented</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        List&lt;Employee&gt; employees = new List&lt;Employee&gt;()\n        {\n            new Employee() { ID = 1, Name = \"John\" },\n            new Employee() { ID = 2, Name = \"Doe\" },\n            new Employee() { ID = 3, Name = \"Charles\" },\n            new Employee() { ID = 4, Name = \"Mike\"},\n        };\n\n        List&lt;Bonus&gt; bonus = new List&lt;Bonus&gt;()\n        {\n            new Bonus() { EmployeeId = 1, Amount = 10 },\n            new Bonus() { EmployeeId = 2, Amount = 3 },\n        };\n        try\n        {\n            var result = (from e in employees\n                          join b in bonus on e.ID equals b.EmployeeId into ps\n                          from b in ps.DefaultIfEmpty()\n                          select new EmployeeBonus()\n                          {\n                              ID = e.ID,\n                              Name = e.Name,\n                              Amount = b.Amount == 0 ? 0 : b.Amount\n                          }).ToList();\n        }\n        catch(Exception ex)\n        {\n\n        }\n    }\n}\n</code></pre>\n\n<p>However I get following exception in the code above.</p>\n\n<blockquote>\n  <p>{\"Object reference not set to an instance of an object.\"}</p>\n  \n  <p>at\n  ConsoleApplication2.Program.&lt;>c.b__0_4(&lt;>f__AnonymousType0<code>2\n  &lt;&gt;h__TransparentIdentifier0, Bonus b) in\n  c:\\users\\john\\documents\\visual studio\n  2015\\Projects\\ConsoleApplication2\\ConsoleApplication2\\Program.cs:line\n  31    at System.Linq.Enumerable.&lt;SelectManyIterator&gt;d__22</code>3.MoveNext()\n  at System.Collections.Generic.List<code>1..ctor(IEnumerable</code>1 collection)<br>\n  at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)    at\n  ConsoleApplication2.Program.Main(String[] args) in\n  c:\\users\\john\\documents\\visual studio\n  2015\\Projects\\ConsoleApplication2\\ConsoleApplication2\\Program.cs:line\n  28</p>\n</blockquote>\n\n<p>What's the best way of addressing this issue?</p>\n"}, {"tags": ["c#", "wpf", "listview"], "comments": [{"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1483700351, "post_id": 41273084, "comment_id": 70213658, "body": "How about any reaction to the provided answers?"}], "answers": [{"comments": [{"owner": {"reputation": 2027, "user_id": 349994, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5b42045d4bc82971b10af2e1190c9387?s=128&d=identicon&r=PG", "display_name": "Rick Hodder", "link": "https://stackoverflow.com/users/349994/rick-hodder"}, "edited": false, "score": 0, "creation_date": 1482515424, "post_id": 41273250, "comment_id": 69814369, "body": "This was a briefer version of Clemens answer - you should not have downvoted this answer."}], "tags": [], "owner": {"reputation": 2027, "user_id": 349994, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5b42045d4bc82971b10af2e1190c9387?s=128&d=identicon&r=PG", "display_name": "Rick Hodder", "link": "https://stackoverflow.com/users/349994/rick-hodder"}, "is_accepted": false, "score": -2, "last_activity_date": 1482360644, "creation_date": 1482360644, "answer_id": 41273250, "question_id": 41273084, "link": "https://stackoverflow.com/questions/41273084/displaying-image-to-listview-wpf/41273250#41273250", "title": "displaying image to listview wpf", "body": "<p>The ListView's ItemSource should be set to the list of URIs. Then you need to set up an ItemTemplate that contains an image control with the Source bound to the value.</p>\n\n<pre><code>ListView.DataTemplate\n    ItemTemplate\n        Image\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": false, "score": -1, "last_activity_date": 1482361451, "creation_date": 1482361451, "answer_id": 41273405, "question_id": 41273084, "link": "https://stackoverflow.com/questions/41273084/displaying-image-to-listview-wpf/41273405#41273405", "title": "displaying image to listview wpf", "body": "<p>Add an <strong>Image</strong> element to the ListView:</p>\n\n<pre><code>Thumbnails.Items.Add(new Image() { Source = new BitmapImage(new Uri(\"yourpic.png\", UriKind.Relative)) });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "is_accepted": false, "score": 1, "last_activity_date": 1482396147, "creation_date": 1482396147, "answer_id": 41278952, "question_id": 41273084, "link": "https://stackoverflow.com/questions/41273084/displaying-image-to-listview-wpf/41278952#41278952", "title": "displaying image to listview wpf", "body": "<p>Set the <code>ItemTemplate</code> property of the ListView (or a ListBox) to a DataTemplate that contains an <code>Image</code> control, and bind the Image control's <code>Source</code> property to the collection element. </p>\n\n<pre><code>&lt;ListView Name=\"Thumbnails\"&gt;\n     &lt;ListView.ItemsPanel&gt;\n        &lt;ItemsPanelTemplate&gt;\n            &lt;UniformGrid Columns=\"1\"/&gt;\n        &lt;/ItemsPanelTemplate&gt;\n    &lt;/ListView.ItemsPanel&gt;\n    &lt;ListView.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;Image Source=\"{Binding}\"/&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ListView.ItemTemplate&gt;\n&lt;/ListView&gt;\n</code></pre>\n\n<p>Now add <code>BitmapImage</code> instances to the <code>Items</code> collection of the ListView:</p>\n\n<pre><code>foreach (var item in lstImages)\n{\n    Thumbnails.Items.Add(new BitmapImage(new Uri(item)));\n}\n</code></pre>\n\n<p>Due to built-in automatic type conversion from <code>string</code> and <code>Uri</code> (and <code>byte[]</code>) to <code>ImageSource</code>, you could as well just add the image file paths to the <code>Items</code> collection:</p>\n\n<pre><code>foreach (var item in lstImages)\n{\n    Thumbnails.Items.Add(item);\n}\n</code></pre>\n\n<hr>\n\n<p>As next step you may want to have a view model with an <code>ObservableCollection&lt;string&gt;</code> property that holds the image file paths. You would bind the ListView's <code>ItemsSource</code> property to this collection.</p>\n"}], "owner": {"reputation": 341, "user_id": 7139429, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d96c06221718b31fbc625bf25b8edff1?s=128&d=identicon&r=PG&f=1", "display_name": "pdf to image", "link": "https://stackoverflow.com/users/7139429/pdf-to-image"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1195, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1482396147, "creation_date": 1482359808, "question_id": 41273084, "link": "https://stackoverflow.com/questions/41273084/displaying-image-to-listview-wpf", "title": "displaying image to listview wpf", "body": "<p>what do i need to add in my code below?</p>\n\n<p>what i'm doing is to view the images in the listview</p>\n\n<p>so far this is my code</p>\n\n<pre><code>&lt;ListView Name=\"Thumbnails\"&gt;\n   &lt;ListView.ItemsPanel&gt;\n      &lt;ItemsPanelTemplate&gt;\n         &lt;UniformGrid Columns=\"1\"/&gt;\n      &lt;/ItemsPanelTemplate&gt;\n   &lt;/ListView.ItemsPanel&gt;\n&lt;/ListView&gt;\n\n\nforeach (var item in lstImages)\n{\n  Thumbnails.Items.Add(new BitmapImage(new Uri(item)));\n}\n</code></pre>\n\n<p>what do i need in order to show the images to the listview. the output of the code is only string, i did a search but i don't understand the code i found. thank you </p>\n"}, {"tags": ["c#", "wpf", "multithreading", "asynchronous", "async-await"], "comments": [{"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1482360095, "post_id": 41273061, "comment_id": 69747718, "body": "Why not just use a timer?"}, {"owner": {"reputation": 39, "user_id": 7264991, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/t11Aw.jpg?s=128&g=1", "display_name": "CsharpNoob", "link": "https://stackoverflow.com/users/7264991/csharpnoob"}, "reply_to_user": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1482360197, "post_id": 41273061, "comment_id": 69747762, "body": "Didn&#39;t know it even exists until now (started going async route which seemed to be working). Will look into that now."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 7264991, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/t11Aw.jpg?s=128&g=1", "display_name": "CsharpNoob", "link": "https://stackoverflow.com/users/7264991/csharpnoob"}, "edited": false, "score": 0, "creation_date": 1482362192, "post_id": 41273246, "comment_id": 69748470, "body": "Thanks for explaining Timer! What do you say about Timer.Timer for GETs that user mm8 mentioned below? DispatcherTimer is better than my curent async/await but it&#39;s still bad for GET requests?"}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "reply_to_user": {"reputation": 39, "user_id": 7264991, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/t11Aw.jpg?s=128&g=1", "display_name": "CsharpNoob", "link": "https://stackoverflow.com/users/7264991/csharpnoob"}, "edited": false, "score": 0, "creation_date": 1482424554, "post_id": 41273246, "comment_id": 69777820, "body": "@CsharpNoob I&#39;m truthfully not quite as familiar with that component, but that could be an option as well."}], "tags": [], "owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1482360618, "last_edit_date": 1495542257, "creation_date": 1482360618, "answer_id": 41273246, "question_id": 41273061, "link": "https://stackoverflow.com/questions/41273061/wpf-how-to-implement-async-await/41273246#41273246", "title": "WPF, how to implement async/await?", "body": "<p><a href=\"https://msdn.microsoft.com/en-us/library/system.windows.threading.dispatchertimer(v=vs.110).aspx\" rel=\"nofollow noreferrer\">DispatcherTimer</a> may be a better solution in this case, like in the below example:</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    private DispatcherTimer timer;\n\n    public MainWindow()\n    {\n        InitializeComponent();\n\n        timer = new DispatcherTimer();\n        timer.Interval = new TimeSpan(0, 0, 220);\n        timer.Tick += Timer_Tick;\n        timer.Start();\n    }\n\n    private void Timer_Tick(object sender, EventArgs e)\n    {\n        // Do something on your UI\n        Trace.TraceInformation(\"Timer expired\");\n    }\n}\n</code></pre>\n\n<p>Basically, this will raise an event at a given interval. Note that Windows Forms <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.timer(v=vs.110).aspx\" rel=\"nofollow noreferrer\">also has a timer</a>, as does <a href=\"https://msdn.microsoft.com/en-us/library/system.threading.timer(v=vs.110).aspx\" rel=\"nofollow noreferrer\">System.Threading</a>, but you want to make sure you use <code>DispatcherTimer</code> rather than those. In particular, the one from System.Threading tends not to mix well with UIs because it runs its actions on the thread pool and WPF in particular is very fussy about how you update your UI from background threads.</p>\n\n<p>The documentation I link to, as well as <a href=\"https://stackoverflow.com/questions/5410430/wpf-timer-like-c-sharp-timer\">this answer</a>, also give details on this.</p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 7264991, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/t11Aw.jpg?s=128&g=1", "display_name": "CsharpNoob", "link": "https://stackoverflow.com/users/7264991/csharpnoob"}, "edited": false, "score": 0, "creation_date": 1482361937, "post_id": 41273355, "comment_id": 69748399, "body": "Ok, this seems slightly over my head at the moment but i will try to make it work, thanks a lot. As i understand, i don&#39;t even need the &quot;Start&quot; button that checks the site, i use the Timer.Timer which would do the GETs in the same intervals? Do i use it only for GETs or also for updating ObservableCollection and Listview?"}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "reply_to_user": {"reputation": 39, "user_id": 7264991, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/t11Aw.jpg?s=128&g=1", "display_name": "CsharpNoob", "link": "https://stackoverflow.com/users/7264991/csharpnoob"}, "edited": false, "score": 0, "creation_date": 1482362274, "post_id": 41273355, "comment_id": 69748493, "body": "You don&#39;t really need the Start button. Just remember to start the timer by calling its Start() method somewhere. Once you call Start() the Elapsed event will fire once every Interval. As mentioned the ListView and the ObservableCollection should be updated on the UI thread. So if you want to access these in your Elapsed event handler that runs on a background thread you will have to use the dispatcher as I explained."}], "tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": true, "score": 1, "last_activity_date": 1482361188, "creation_date": 1482361188, "answer_id": 41273355, "question_id": 41273061, "link": "https://stackoverflow.com/questions/41273061/wpf-how-to-implement-async-await/41273355#41273355", "title": "WPF, how to implement async/await?", "body": "<p>Running a while loop on the UI thread may freeze the application as the UI thread cannot both process UI events and execute a loop or doing anything else simultaneously.</p>\n\n<p>If you want to do something every x seconds you could use a timer as suggested by EJoshuaS. There is a DispatcherTimer class in WPF that fires a Tick event on the UI thread at an interval specified by the Interval property: <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.threading.dispatchertimer%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.windows.threading.dispatchertimer%28v=vs.110%29.aspx</a></p>\n\n<p>You don't want to perform the GET request to the web server on the UI thread though so you should probably use a System.Timer.Timer: <a href=\"https://msdn.microsoft.com/en-us/library/system.timers.timer(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.timers.timer(v=vs.110).aspx</a>. This is a different type of timer that runs on a background thread.</p>\n\n<p>Since you can only access UI controls such as TextBlocks and ListBoxes on the thread on which they were originally created - that is the UI thread - you will have to use the dispatcher to marshall any code that access these controls back to the UI thread in your Elapsed event handler:</p>\n\n<pre><code>private static void OnTimedEvent(Object source, ElapsedEventArgs e)\n{\n    //call the web server here....\n\n    //dispatch any access to any UI control\n    txtBlock3.Dispatcher.Invoke(new Action(() = &gt; { txtBlock3.Text = \"Searching...\"; }));\n}\n</code></pre>\n\n<p>The golden rule to maintain a responsive application is to execute any long-running code on a background thread but you must only access UI controls back on the UI thread. Please refer to MSDN for more information about the threading model in WPF: <a href=\"https://msdn.microsoft.com/en-us/library/ms741870(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/ms741870(v=vs.110).aspx</a></p>\n"}], "owner": {"reputation": 39, "user_id": 7264991, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/t11Aw.jpg?s=128&g=1", "display_name": "CsharpNoob", "link": "https://stackoverflow.com/users/7264991/csharpnoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1587, "favorite_count": 0, "accepted_answer_id": 41273355, "answer_count": 2, "score": 0, "last_activity_date": 1482361188, "creation_date": 1482359717, "question_id": 41273061, "link": "https://stackoverflow.com/questions/41273061/wpf-how-to-implement-async-await", "title": "WPF, how to implement async/await?", "body": "<p>I'm learning how to webscrape in WPF. I check the site every 20sec, update my ObservableCollection (myClients) according to search results and display it in Listview (myList). I have 2 Buttons, one to start search and one to stop it.</p>\n\n<p>I didn't know how to implement button autoclick every X sec (which would solve all my problems, am i right?) so i had to use Task.Delay(20000). Program works, it doesn't freeze right at the start like if i had used Thread.Sleep(), but if i press the Stop button and then Start, everything freezes.</p>\n\n<p>I will upload only portion of the code that seems to be the problem. Note that the whole program at the moment is mostly reverse-engineered from several different programs as i am still a beginner.</p>\n\n<pre><code>        private async void Button_Click(object sender, RoutedEventArgs e) //Start button\n    {\n        string car;\n        string price;\n        string link;\n\n        wantToAbort = false;\n\n        while (!wantToAbort)\n        {\n\n            // ----Simulate GET request----\n\n            //-----End GET----\n\n            myList.ItemsSource = myClients;\n            string searchCar = txtBlock.Text + \" \" + txtBlock2.Text;\n\n            var articleNodes = htmlDoc.DocumentNode.SelectNodes($\"//*[@id='main_content']/div[1]/div[2]/ul[1]//*[text()[contains(., '{searchCar}')]]\");\n\n            if (articleNodes != null &amp;&amp; articleNodes.Any())\n            {\n\n                foreach (var articleNode in articleNodes)\n                {\n                    car = WebUtility.HtmlDecode(articleNode.InnerText);\n                    price = WebUtility.HtmlDecode(articleNode.ParentNode.ParentNode.SelectSingleNode(\"span\").InnerText);\n                    link = WebUtility.HtmlDecode(articleNode.ParentNode.ParentNode.Attributes[\"href\"].Value);\n\n                    var tempUser = new User(car, price, link);\n                    if (!myClients.Any(x=&gt;x.Link == tempUser.Link))\n                    {\n                        myClients.Insert(0, tempUser); //Inserts new item if Links are different \n                        txtBlock3.Text = \"Searching...\";\n                    }\n                }\n\n                await Task.Delay(20000); //This seems to be an issue\n            }\n\n        }\n    }\n\n\n    private void Button_Click_1(object sender, RoutedEventArgs e) //Stop button\n    {\n        wantToAbort = true;\n        txtBlock3.Text = \"Ready to search again!\";\n    }\n</code></pre>\n"}, {"tags": ["c#", "sql", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 11572, "user_id": 1950321, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rLmaR.jpg?s=128&g=1", "display_name": "James Sampica", "link": "https://stackoverflow.com/users/1950321/james-sampica"}, "edited": false, "score": 0, "creation_date": 1482360527, "post_id": 41273022, "comment_id": 69747889, "body": "If multiple teams scored the same amount of goals per match are you returning all of those teams? Your code says yes but your description says no. Also the relationship between <code>Matches</code> and <code>Results</code> is wrong. A result could have only 1 match, no? The appropriate relationship is a 1-1 or just removing Results all together"}, {"owner": {"reputation": 33, "user_id": 6537750, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ctjpAjO23Cg/AAAAAAAAAAI/AAAAAAAAABI/KsMAsuPNOho/photo.jpg?sz=128", "display_name": "Venedchuk", "link": "https://stackoverflow.com/users/6537750/venedchuk"}, "reply_to_user": {"reputation": 11572, "user_id": 1950321, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rLmaR.jpg?s=128&g=1", "display_name": "James Sampica", "link": "https://stackoverflow.com/users/1950321/james-sampica"}, "edited": false, "score": 0, "creation_date": 1482360978, "post_id": 41273022, "comment_id": 69748051, "body": "Yes, relationship <code>Matches </code>and <code>Results</code> need 1-1, thanks"}, {"owner": {"reputation": 1991, "user_id": 1592756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72037bf7577e9d669b41f7a7e1d02b82?s=128&d=identicon&r=PG", "display_name": "Josh Part", "link": "https://stackoverflow.com/users/1592756/josh-part"}, "reply_to_user": {"reputation": 11572, "user_id": 1950321, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rLmaR.jpg?s=128&g=1", "display_name": "James Sampica", "link": "https://stackoverflow.com/users/1950321/james-sampica"}, "edited": false, "score": 0, "creation_date": 1482363981, "post_id": 41273022, "comment_id": 69748956, "body": "@Shoe either is wrong or OP is trying/was asked to have all possible results on a table and just reference in each match the corresponding result"}], "answers": [{"tags": [], "owner": {"reputation": 483, "user_id": 7303706, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c75cd3ace7c90a1975f1a4c714c9087?s=128&d=identicon&r=PG&f=1", "display_name": "Neme", "link": "https://stackoverflow.com/users/7303706/neme"}, "is_accepted": true, "score": 1, "last_activity_date": 1482363752, "last_edit_date": 1482363752, "creation_date": 1482362040, "answer_id": 41273495, "question_id": 41273022, "link": "https://stackoverflow.com/questions/41273022/create-complex-linq-query/41273495#41273495", "title": "Create complex LINQ query", "body": "<p>Not very efficient, but my idea would be something like this: </p>\n\n<pre><code>matches.SelectMany(match =&gt; new[] {\n    new TeamScore {\n        TeamId = match.HomeId,\n        Goals = match.Result.HomeTeamGoals\n    },\n    new TeamScore {\n        TeamId = match.GuestId,\n        Goals = match.Result.GuestTeamGoals\n    }\n})\n.GroupBy(score =&gt; score.Goals)\n.OrderByDescending(group =&gt; group.Key)\n.First()\n.Select(score =&gt; score.TeamId);\n</code></pre>\n\n<p>where TeamScore is a simple struct.</p>\n\n<p>This will return an IEnumerable with all the teams that scored the most goals (if it was the same number). You will probably have to change some of the property names or other details. I'm not familiar with LINQ to databases.</p>\n\n<p>If you only want one, you could do First() but that would pick the first one and ignore others depending on the order. SingleOrDefault() would return null when it's a draw, if that's what you want.</p>\n\n<p>EDIT: To get all matches in all tours, you would do something like this:\n<code>GetAllTours(...).SelectMany(tour =&gt; GetMatches(tour))</code>\nbut since you're dealing with a database, you could just ask for all matches directly.</p>\n"}], "owner": {"reputation": 33, "user_id": 6537750, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ctjpAjO23Cg/AAAAAAAAAAI/AAAAAAAAABI/KsMAsuPNOho/photo.jpg?sz=128", "display_name": "Venedchuk", "link": "https://stackoverflow.com/users/6537750/venedchuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 41273495, "answer_count": 1, "score": 2, "last_activity_date": 1482363752, "creation_date": 1482359543, "last_edit_date": 1482360557, "question_id": 41273022, "link": "https://stackoverflow.com/questions/41273022/create-complex-linq-query", "title": "Create complex LINQ query", "body": "<p>For the part of database below I need find what team in season scored most goals per one match.</p>\n\n<p><img src=\"https://i.stack.imgur.com/uL0LE.png\" alt=\"part of database\"> </p>\n\n<p>For that I used methods</p>\n\n<pre><code>public List&lt;Tour&gt; GetAllTours(Guid seasonGuid){...}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public List&lt;SimpleMatch&gt; GetMatches(Guid tour)\n{\n    using (var db = new ConnectToDb())\n    {\n        if (!db.Matches.Any()) return new List&lt;Match&gt;();\n        var matches = db.Matches;\n        var matchesToReturn = new List&lt;Match&gt;();\n        foreach (var item in \n            matches\n                .Include(x =&gt; x.Home)\n                .Include(x =&gt; x.Guest)\n                .Include(x =&gt; x.Result)\n                .Include(x =&gt; x.Tour))\n        {\n            if (item.Tour.Id != tour)\n            matchesToReturn.Add(item);\n        }\n\n        return matchesToReturn;\n    }\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>public List&lt;SimpleTeam&gt; GetTeamMostGoalInSeason(List&lt;Match&gt; matches){...}\n</code></pre>\n\n<p>where <code>SimpleTeam</code> is a team with count goals, if teams with max count == many, used <code>List</code>\nit's method not tiny, and I don't know how do this with LINQ query.</p>\n"}, {"tags": ["c#", "animation", "unity3d", "timer", "tap"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 2327724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a96986594d26a25399a8a622ac12c8c0?s=128&d=identicon&r=PG", "display_name": "Adil G", "link": "https://stackoverflow.com/users/2327724/adil-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1482362887, "creation_date": 1482362887, "answer_id": 41273607, "question_id": 41272984, "link": "https://stackoverflow.com/questions/41272984/how-distinguish-between-consecutive-tapping-and-single-taps-unity-animation/41273607#41273607", "title": "How distinguish between consecutive tapping and single taps? Unity animation?", "body": "<p>What you need to do is save the time of first tap and wait for the second tap. If second tap happens run the double tap state, else run the single tap state. The wait of 0.5 to 0.8 secs for 2nd tap is good. For detailed explanation and code go to this unity thread : <a href=\"https://forum.unity3d.com/threads/single-tap-double-tap-script.83794/\" rel=\"nofollow noreferrer\">https://forum.unity3d.com/threads/single-tap-double-tap-script.83794/</a></p>\n"}, {"tags": [], "owner": {"reputation": 1045, "user_id": 1914505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64d1b2aded6d937e61e433009a795d08?s=128&d=identicon&r=PG", "display_name": "Jerome Maurey-Delaunay", "link": "https://stackoverflow.com/users/1914505/jerome-maurey-delaunay"}, "is_accepted": false, "score": 0, "last_activity_date": 1482364057, "creation_date": 1482364057, "answer_id": 41273757, "question_id": 41272984, "link": "https://stackoverflow.com/questions/41272984/how-distinguish-between-consecutive-tapping-and-single-taps-unity-animation/41273757#41273757", "title": "How distinguish between consecutive tapping and single taps? Unity animation?", "body": "<p>If you want to avoid complications, I would recommend <a href=\"https://github.com/prime31/TouchKit\" rel=\"nofollow noreferrer\">TouchKit</a> from the brilliant <a href=\"https://prime31.com/\" rel=\"nofollow noreferrer\">Prime31</a>. It's free, open source and just work :)</p>\n"}], "owner": {"reputation": 6403, "user_id": 3781199, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/1NpEm.png?s=128&g=1", "display_name": "skyguy", "link": "https://stackoverflow.com/users/3781199/skyguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 449, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482364057, "creation_date": 1482359351, "question_id": 41272984, "link": "https://stackoverflow.com/questions/41272984/how-distinguish-between-consecutive-tapping-and-single-taps-unity-animation", "title": "How distinguish between consecutive tapping and single taps? Unity animation?", "body": "<p>Alright, Ive posted everywhere about this but cannot find an answer. I have a C# game being made in Unity and I am using code to transition between my idle animation to my walk cycle depending on users taps.</p>\n\n<p>My problem is I cant distinguish between consecutive and single taps - I have tried incrementing ints and setting them to zero when the character stops moving, timers, everything but don't get reliable results. </p>\n\n<p>Basically my character has 3 states that he needs to switch between depending on number of taps :</p>\n\n<p>Idle = no tapping, so he's not moving (taps trigger 1 unit forward)\nsingle step = 1 tap, alternates between either right or left\ncontinuous walking = multiple taps, so he's moving continuously</p>\n\n<p>So far Ive done this: \nBased on if his current pos is not his last (he is moving) I have a timer that records his time walking. If this timer is above about the time it takes for him to complete 1 step, I transition to my continuous walk anim. If he stops moving thus timer is set to zero.</p>\n\n<p>Reason I need a single step state (and this state works well) is I have to alternate between right and left not just play a portion of the full cycle, this is why I have an offset that moves through the full anim in increments. </p>\n\n<pre><code>if (currentPos != lastPos &amp;&amp; didCollide == false) {\n            //print (\"moving now\");\n            animator.SetBool (\"isWalking\", true);\n            if (timeWalking &gt;= 0.1f) {\n                //this is for continuous cycle\n                animator.SetBool(\"contWalking\", true);\n            } else {\n                if (InputManager.stepCount % 2 != 0) {\n                    //individual cycle left\n                    animator.SetFloat (\"walkOffset\",animOffset);\n\n                } else {\n                    //individual cycle right\n                    animator.SetFloat (\"walkOffset\",animOffset);\n\n                }\n                animOffset += 0.1f;\n            }\n\n            timeWalking += Time.deltaTime;\n\n        } else {\n            //stopped\n            animator.SetBool (\"isWalking\", false);\n            animator.SetBool(\"contWalking\", false);\n            timeWalking = 0.0f;\n        }\n        lastPos = currentPos;\n</code></pre>\n\n<p>And:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OcfMQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OcfMQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Problem is the time seems to vary, and this can get him to continuous cycle only rarely, and then it is glitchy. There is a lot of stuttering as it mainly just goes to the single step state and cant get to continuous even when he's been moving for a while. </p>\n\n<p>I am out of ideas. How can I transition to a continuous walk cycle based on if tapping is consecutive? Don't think timers are the way to go. Is this possible?</p>\n"}, {"tags": ["c#", "json", "ajax", "entity-framework", "asp.net-web-api"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1482360594, "post_id": 41272961, "comment_id": 69747911, "body": "can you show the ajax call and the API controller please. Are you sure it&#39;s .NET that is adding the slashes and not something in the SQL?"}, {"owner": {"reputation": 1502, "user_id": 5551593, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79e772e7553de769cd69be4d7d1d4982?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5551593/andrew"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1482361477, "post_id": 41272961, "comment_id": 69748261, "body": "I&#39;ve added the ajax call and controller. I&#39;m not sure where the slashes are being added, or even if that&#39;s the problem. Generally, storing JSON in a SQL Server field and accessing it with .net-web-api seems to be a major issue among the various forums, with a number of people just switching to mongodb or postgre."}], "owner": {"reputation": 1502, "user_id": 5551593, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/79e772e7553de769cd69be4d7d1d4982?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/5551593/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 856, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1482361563, "creation_date": 1482359223, "last_edit_date": 1495540912, "question_id": 41272961, "link": "https://stackoverflow.com/questions/41272961/json-data-type-with-sql-server-net-web-api-and-entity-framework", "title": "JSON data type with SQL Server, .net web-api and Entity Framework", "body": "<p>I'm storing JSON in a SQL Server field as varchar(max), but the .net web-api is returning backslashes \"\\\", which I believe are causing the ajax requests to treat this field as a string rather than an object, like this:</p>\n\n<pre><code>{\n    \"name\": \"datamodule\",\n    \"props\": \"{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"label\\\":{\\\"type\\\":\\\"string\\\",\\\"title\\\":\\\"Label\\\"},\\\"desc\\\":{\\\"type\\\":\\\"string\\\",\\\"title\\\":\\\"Description\\\"}}}\",\n    \"id\": 1\n}\n</code></pre>\n\n<p>As you can see, the web-api is returning JSON, but the string field that is storing JSON is showing up as an escaped string. At first, I thought that I'd have to serialize/deserialize in the EF model like <a href=\"https://stackoverflow.com/questions/14779740/can-i-embed-an-object-in-an-ef-entity-serialize-on-save-deserialize-on-access\">this post</a> recommends. But then I ran into <a href=\"https://stackoverflow.com/questions/13833900/return-json-but-it-includes-backward-slashes-which-i-dont-want\">this post</a>, which seems to be exactly the problem I'm having, but don't understand either the accepted or top answer. I also tried replacing the backslash (as others suggest) in the model get/set, but that didn't work, which makes me think they're inserted later on.</p>\n\n<p>Does anyone have a recommended approach? I'm using SQL Server 2012 so can't use the supposed SQL Server 2016 JSON data type.   </p>\n\n<p>Here's the ajax call (as you can see I'm forced to parse the props attribute):</p>\n\n<pre><code>    $.ajax({\n        'type': 'GET',\n        'dataType': 'json',\n        'url': '../api/Dataschemas/'+m.id\n    }).done(function (schema) {\n        if(typeof schema.props === 'string') {\n            schema.props = JSON.parse(schema.props);\n        }\n        self.createEditor(schema);\n    });\n</code></pre>\n\n<p>Here's the auto-generated .NET controller:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Data;\nusing System.Data.Entity;\nusing System.Data.Entity.Infrastructure;\nusing System.Linq;\nusing System.Net;\nusing System.Net.Http;\nusing System.Threading.Tasks;\nusing System.Web.Http;\nusing System.Web.Http.Description;\nusing Metadata.Models;\n\nnamespace Metadata.Controllers\n{\n    public class DataschemasController : ApiController\n    {\n        private flex_biEntities db = new flex_biEntities();\n\n        // GET: api/Dataschemas\n        public IQueryable&lt;Dataschema&gt; GetDataschemas()\n        {\n            return db.Dataschemas;\n        }\n\n        // GET: api/Dataschemas/5\n        [ResponseType(typeof(Dataschema))]\n        public async Task&lt;IHttpActionResult&gt; GetDataschema(int id)\n        {\n            Dataschema dataschema = await db.Dataschemas.FindAsync(id);\n            if (dataschema == null)\n            {\n                return NotFound();\n            }\n\n            return Ok(dataschema);\n        }\n\n        // PUT: api/Dataschemas/5\n        [ResponseType(typeof(void))]\n        public async Task&lt;IHttpActionResult&gt; PutDataschema(int id, Dataschema dataschema)\n        {\n            if (!ModelState.IsValid)\n            {\n                return BadRequest(ModelState);\n            }\n\n            if (id != dataschema.id)\n            {\n                return BadRequest();\n            }\n\n            db.Entry(dataschema).State = EntityState.Modified;\n\n            try\n            {\n                await db.SaveChangesAsync();\n            }\n            catch (DbUpdateConcurrencyException)\n            {\n                if (!DataschemaExists(id))\n                {\n                    return NotFound();\n                }\n                else\n                {\n                    throw;\n                }\n            }\n\n            return StatusCode(HttpStatusCode.NoContent);\n        }\n\n        // POST: api/Dataschemas\n        [ResponseType(typeof(Dataschema))]\n        public async Task&lt;IHttpActionResult&gt; PostDataschema(Dataschema dataschema)\n        {\n            if (!ModelState.IsValid)\n            {\n                return BadRequest(ModelState);\n            }\n\n            db.Dataschemas.Add(dataschema);\n            await db.SaveChangesAsync();\n\n            return CreatedAtRoute(\"DefaultApi\", new { id = dataschema.id }, dataschema);\n        }\n\n        // DELETE: api/Dataschemas/5\n        [ResponseType(typeof(Dataschema))]\n        public async Task&lt;IHttpActionResult&gt; DeleteDataschema(int id)\n        {\n            Dataschema dataschema = await db.Dataschemas.FindAsync(id);\n            if (dataschema == null)\n            {\n                return NotFound();\n            }\n\n            db.Dataschemas.Remove(dataschema);\n            await db.SaveChangesAsync();\n\n            return Ok(dataschema);\n        }\n\n        protected override void Dispose(bool disposing)\n        {\n            if (disposing)\n            {\n                db.Dispose();\n            }\n            base.Dispose(disposing);\n        }\n\n        private bool DataschemaExists(int id)\n        {\n            return db.Dataschemas.Count(e =&gt; e.id == id) &gt; 0;\n        }\n    }\n}\n</code></pre>\n\n<p>Here the auto-generated model:</p>\n\n<pre><code>namespace Metadata.Models\n{\n    using System;\n    using System.Collections.Generic;\n\n    public partial class Dataschema\n    {\n        public string name { get; set; }\n        public string desc { get; set; }\n        public string props { get; set; }\n        public System.DateTime created { get; set; }\n        public System.DateTime modified { get; set; }\n        public int id { get; set; }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "jquery", "angularjs", "asp.net-mvc-4"], "comments": [{"owner": {"reputation": 2084, "user_id": 1608979, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/1gcCJ.jpg?s=128&g=1", "display_name": "DennyHiu", "link": "https://stackoverflow.com/users/1608979/dennyhiu"}, "edited": false, "score": 0, "creation_date": 1482361310, "post_id": 41272951, "comment_id": 69748193, "body": "Do you know why people downvoted this question? you expects us to work as your &quot;free of charge&quot; employee by providing you an answer for your problem without you first explain what you have done, what is your exact problem, and no details whatsoever. Stackoverflow is not a place to get an answer to your homework."}], "answers": [{"tags": [], "owner": {"reputation": 2084, "user_id": 1608979, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/1gcCJ.jpg?s=128&g=1", "display_name": "DennyHiu", "link": "https://stackoverflow.com/users/1608979/dennyhiu"}, "is_accepted": true, "score": 0, "last_activity_date": 1482361543, "last_edit_date": 1482361543, "creation_date": 1482361118, "answer_id": 41273346, "question_id": 41272951, "link": "https://stackoverflow.com/questions/41272951/how-can-i-bind-list-from-database-into-checkbox-in-angularjs/41273346#41273346", "title": "How can I bind list from database into checkbox in AngularJS?", "body": "<p>I'll try to help you with assumption that it's not involving ASP.Net controls, just pure HTML controls with Angular </p>\n\n<p><code>persons</code> is an array of object: <code>{name: \"Mark\", id: \"00001\"}</code>. In this case any changes  to <code>persons</code> will affect the displayed text inside <code>&lt;li&gt;</code> tag and vice versa</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;ul&gt;\n   &lt;li ng-repeat=\"person in persons\"&gt;\n     &lt;input type=\"checkbox\" ng-model=\"person.selected\" ng-change=\"onChecked(person)\"/&gt; \n     span {{ person.name }}\n   &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Controller(javascript part):</p>\n\n<pre><code>$scope.onChecked = function(selectedPerson){\n   console.log(selectedPerson.id)\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7327878, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205976116560240/picture?type=large", "display_name": "Taha Mohammed Gamal", "link": "https://stackoverflow.com/users/7327878/taha-mohammed-gamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 0, "accepted_answer_id": 41273346, "answer_count": 1, "score": -2, "last_activity_date": 1482424801, "creation_date": 1482359170, "last_edit_date": 1482418040, "question_id": 41272951, "link": "https://stackoverflow.com/questions/41272951/how-can-i-bind-list-from-database-into-checkbox-in-angularjs", "title": "How can I bind list from database into checkbox in AngularJS?", "body": "<p>How can I bind a list from a database into checkboxes in AngularJS? </p>\n\n<p>This list contains ID and Names and I want to show only names. After a checkbox is checked I need to get the associated ID.</p>\n\n<p>I get a list of features </p>\n\n<pre><code>var PlanFeaturelst = Helper.ConvertCustomEnumToList&lt;EnFeature&gt;();\n</code></pre>\n\n<p>This <code>Enum</code> (<code>EnFeature</code>) has a custom <code>Enum</code> attribute which has ( ID, Description and Display Text )</p>\n\n<p>I send this list to angular in ViewBag :</p>\n\n<pre><code>$scope.initPlan = function (serverparam) {\n    $scope.JAdminPlan.PlanFeatureValues = angular.copy(serverparam.featureTemp);\n}\n</code></pre>\n\n<p>HTML :</p>\n\n<pre><code>&lt;div ng-repeat=\"feture in JAdminPlan.PlanFeatureValues\"&gt;\n    &lt;input type=\"checkbox\" ng-model=\"feture.ID\" ng-change=\"getID(feture.DisplayText)\"/&gt;\n    &amp;nbsp; \n    {{feture.DisplayText}} \n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["c#", "mongodb", "aggregation-framework"], "comments": [{"owner": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 0, "creation_date": 1482360716, "post_id": 41272936, "comment_id": 69747945, "body": "<code>ProjectionDefinition</code> in the grouping stage ?? that doesn&#39;t sound right. Its a stage on its own just like match. btw <code>BsonDocument</code> are strongly typed.  If its just a key value pair the <code>BsonDocument</code> is your object and I think for the accumulator operators you already have the wrappers that you can use."}, {"owner": {"reputation": 321, "user_id": 1597409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MHI3P.jpg?s=128&g=1", "display_name": "Aaron Newman", "link": "https://stackoverflow.com/users/1597409/aaron-newman"}, "reply_to_user": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "edited": false, "score": 0, "creation_date": 1482362550, "post_id": 41272936, "comment_id": 69748573, "body": "@SagarReddy, I agree that it is confusing, but that is how the mdb docs have it.  I have linked the relevant section in the question."}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 1597409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MHI3P.jpg?s=128&g=1", "display_name": "Aaron Newman", "link": "https://stackoverflow.com/users/1597409/aaron-newman"}, "edited": false, "score": 1, "creation_date": 1518110215, "post_id": 41274776, "comment_id": 84380597, "body": "I missed that this question was answered, sorry for the late acceptance.  I&#39;d prefer not to use LINQ but I didn&#39;t say that in the original post."}], "tags": [], "owner": {"reputation": 15461, "user_id": 2934579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eT1BM.png?s=128&g=1", "display_name": "Wan Bachtiar", "link": "https://stackoverflow.com/users/2934579/wan-bachtiar"}, "is_accepted": true, "score": 16, "last_activity_date": 1482372464, "creation_date": 1482372464, "answer_id": 41274776, "question_id": 41272936, "link": "https://stackoverflow.com/questions/41272936/mongodb-group-aggregation-using-projectiondefinition-with-c-driver/41274776#41274776", "title": "Mongodb group aggregation using ProjectionDefinition with c# driver", "body": "<p>There are some great examples on <a href=\"https://github.com/mongodb/mongo-csharp-driver/blob/master/tests/MongoDB.Driver.Tests/Linq/Translators/AggregateGroupTranslatorTests.cs\" rel=\"noreferrer\">AggregateGroupTranslatorTests.cs</a>, which is the test file for the <a href=\"http://mongodb.github.io/mongo-csharp-driver/\" rel=\"noreferrer\">MongoDB .NET Driver: aggregation group</a>. </p>\n\n<p>For example, if you have this class definition: </p>\n\n<pre><code>public class ExampleGroup \n{\n    [BsonId]\n    public ObjectId Id {get;set;}\n    public string SomeStringField { get; set; }\n    public int SomeNumberField {get; set;}\n}\n</code></pre>\n\n<p>And you would like to perform grouping of </p>\n\n<pre><code>{ _id: \"$SomeStringField\", Result: { \"$max\": \"$SomeNumberField\" } }\n</code></pre>\n\n<p>You could execute as below: </p>\n\n<pre><code>var result = collection.Aggregate()\n                        .Group(\n                            x =&gt; x.SomeStringField,\n                            g =&gt; new {\n                                  Result = g.Select(\n                                           x =&gt; x.SomeNumberField\n                                           ).Max()\n                            }\n                        ).ToList();\nresult.ForEach(doc =&gt; Console.WriteLine(doc.ToJson()));\n</code></pre>\n\n<p>The above snippet was tested on .Net 4.5, <a href=\"https://docs.mongodb.com/manual/installation/\" rel=\"noreferrer\">MongoDB 3.4</a> and MongoDB .Net/C# Driver v2.3. I know you're using v2.2, but there's no (or any) changes for the project definition grouping.</p>\n\n<p>Also check out other LINQ translator tests <a href=\"https://github.com/mongodb/mongo-csharp-driver/tree/master/tests/MongoDB.Driver.Tests/Linq/Translators\" rel=\"noreferrer\">MongoDB.Driver.Tests/Linq/Translators</a></p>\n"}], "owner": {"reputation": 321, "user_id": 1597409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MHI3P.jpg?s=128&g=1", "display_name": "Aaron Newman", "link": "https://stackoverflow.com/users/1597409/aaron-newman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13815, "favorite_count": 2, "accepted_answer_id": 41274776, "answer_count": 1, "score": 4, "last_activity_date": 1498396232, "creation_date": 1482359083, "last_edit_date": 1498396232, "question_id": 41272936, "link": "https://stackoverflow.com/questions/41272936/mongodb-group-aggregation-using-projectiondefinition-with-c-driver", "title": "Mongodb group aggregation using ProjectionDefinition with c# driver", "body": "<p>I am trying to use the 2.2 version of the driver to create an aggregation query using the FilterDefintion for match phase and ProjectionDefinition for group phase.  But I'm not quite sure how to create a ProjectionDefinition.  The API is like:</p>\n\n<pre><code> FilterDefinition&lt;T&gt; filter=Builders&lt;T&gt;.Filter.Eq(\"Foo\",\"Bar\");\n ProjectionDefinition&lt;T&gt; projection=...\n IAggregateFluent&lt;T&gt; aggr = fileCol.Aggregate&lt;T&gt;()\n            .Match(filter)\n            .Group(projection);\n</code></pre>\n\n<p>The match filter works just like in a normal Find.  But I'm not sure how to create the projection.</p>\n\n<p>I can create just a normal Bson document and put it in that phase, and it works.  But I'm trying to create a consistent interface using the strongly-typed objects that come from builders, and this is the one place where I can't figure out how to do that.  I would think it is possible since the API exists.</p>\n\n<p>(The Bson document for the group phase can be made like):</p>\n\n<pre><code>projection = new BsonDocument(\"_id\",\"$SomeIdField\").\n    Add(\"Result\",new BsonDocument(\"$max\",\"$someNumberField\"));\n</code></pre>\n\n<p>EDIT:\nThe MongoDB API I am referring to is linked below, and I quoted the relevant section. There are no examples provided.   I agree that a 'GroupDefinition' would have made more sense, but I didn't write it :-)  And by strongly typed, I mean typed with the return value of whatever  is, not BsonDocument.</p>\n\n<p><a href=\"http://api.mongodb.com/csharp/current/html/M_MongoDB_Driver_AggregateFluentBase_1_Group__1.htm\" rel=\"nofollow noreferrer\">http://api.mongodb.com/csharp/current/html/M_MongoDB_Driver_AggregateFluentBase_1_Group__1.htm</a></p>\n\n<blockquote>\n  <p>Blockquote</p>\n</blockquote>\n\n<pre><code>public abstract IAggregateFluent&lt;TNewResult&gt; Group&lt;TNewResult&gt;(\n    ProjectionDefinition&lt;TResult, TNewResult&gt; group\n</code></pre>\n\n<p>)</p>\n\n<p><strong>Parameters</strong></p>\n\n<p><em>group</em>\n  Type: MongoDB.Driver.ProjectionDefinition&lt;<em>TResult, TNewResult</em>></p>\n\n<p>The group projection.</p>\n\n<p><strong>Type Parameters</strong></p>\n\n<p><em>TNewResult</em></p>\n\n<p>The type of the result of the stage.</p>\n\n<blockquote>\n  <p>Blockquote</p>\n</blockquote>\n"}, {"tags": ["c#", "expression-trees"], "comments": [{"owner": {"reputation": 1114, "user_id": 2337856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf7a4cea77d89812b4c1abf1c5af2de8?s=128&d=identicon&r=PG", "display_name": "Sz&#246;r&#233;nyi &#193;d&#225;m", "link": "https://stackoverflow.com/users/2337856/sz%c3%b6r%c3%a9nyi-%c3%81d%c3%a1m"}, "edited": false, "score": 3, "creation_date": 1482359299, "post_id": 41272935, "comment_id": 69747388, "body": "Select is an extension method in System.Linq namespace, so you cannot call it directly on the object with reflection.  See: <a href=\"http://stackoverflow.com/questions/1452261/how-do-i-invoke-an-extension-method-using-reflection\" title=\"how do i invoke an extension method using reflection\">stackoverflow.com/questions/1452261/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 899, "user_id": 1140411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c037257e7ff09fda74d262749fa30ab?s=128&d=identicon&r=PG", "display_name": "MIKE", "link": "https://stackoverflow.com/users/1140411/mike"}, "edited": false, "score": 0, "creation_date": 1482368443, "post_id": 41273376, "comment_id": 69750073, "body": "I am stuck on the lamda. I don&#39;t know what param is. I have tried lots of stuff including this Expression.Lambda(property, (MemberExpression) innerProperty);"}, {"owner": {"reputation": 899, "user_id": 1140411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c037257e7ff09fda74d262749fa30ab?s=128&d=identicon&r=PG", "display_name": "MIKE", "link": "https://stackoverflow.com/users/1140411/mike"}, "edited": false, "score": 0, "creation_date": 1482368724, "post_id": 41273376, "comment_id": 69750116, "body": "Got it. Thanks so much! var lambda = Expression.Lambda((MemberExpression)innerProperty, innerParam);"}], "tags": [], "owner": {"reputation": 9050, "user_id": 5281555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eA3SI.png?s=128&g=1", "display_name": "Maksim Simkin", "link": "https://stackoverflow.com/users/5281555/maksim-simkin"}, "is_accepted": true, "score": 4, "last_activity_date": 1482476584, "last_edit_date": 1482476584, "creation_date": 1482361300, "answer_id": 41273376, "question_id": 41272935, "link": "https://stackoverflow.com/questions/41272935/expression-call-no-method-select-exists-on-type-system-collections-generic-ico/41273376#41273376", "title": "Expression.Call No method &#39;Select&#39; exists on type System.Collections.Generic.ICollection", "body": "<p>As already mentioned in comment, <code>Select</code> is not a method of IColletion, it's an extension method and you couldn't invoke <code>Select</code> directly from <code>ICollection</code>.</p>\n\n<p>You could create <code>Select</code> <code>MethodInfo</code> this way:</p>\n\n<pre><code>var selM = typeof(Enumerable)\n         .GetMethods()\n         .Where(x =&gt; x.Name == \"Select\" )\n         .First().MakeGenericMethod(typeof(TEntity), typeof(string));\n</code></pre>\n\n<p>and your Expression you could create as:</p>\n\n<pre><code>var selExpression = Expression.Call(null, selM, param , lambda);\n</code></pre>\n\n<p>Important is, that first parameter of <code>Expression.Call</code> is null, <code>Select</code> is a static extension method and it don't have any instance to be called on.</p>\n\n<p><code>lambda</code> hier is a lamda expression from your property Expression</p>\n\n<pre><code>var prop= Expression.Property(entity, propertyName);\nvar lambda = Expression.Lambda(prop, param);\n</code></pre>\n"}], "owner": {"reputation": 899, "user_id": 1140411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c037257e7ff09fda74d262749fa30ab?s=128&d=identicon&r=PG", "display_name": "MIKE", "link": "https://stackoverflow.com/users/1140411/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 618, "favorite_count": 1, "accepted_answer_id": 41273376, "answer_count": 1, "score": 3, "last_activity_date": 1482476584, "creation_date": 1482359082, "last_edit_date": 1482362840, "question_id": 41272935, "link": "https://stackoverflow.com/questions/41272935/expression-call-no-method-select-exists-on-type-system-collections-generic-ico", "title": "Expression.Call No method &#39;Select&#39; exists on type System.Collections.Generic.ICollection", "body": "<p>I am building expressions for entity framework at run time and I have solved all problems except selecting a property from a child ICollection.</p>\n\n<p>It is difficult to post my whole framework but here is what I have tried.</p>\n\n<pre><code>var param = Expression.Parameter(typeof(TEntity), \"w\");\nExpression.Property(entity, propertyName);\n</code></pre>\n\n<blockquote>\n  <p>w.Roles</p>\n</blockquote>\n\n<pre><code>var param = Expression.Parameter(typeof(TChild), \"z\");\nExpression.Property(entity, propertyName);\n</code></pre>\n\n<blockquote>\n  <p>z.ApplicationRole.Name</p>\n</blockquote>\n\n<p>This line throws the error.</p>\n\n<pre><code>Expression.Call(property, \"Select\", null,(MemberExpression)innerProperty);\n</code></pre>\n\n<p>This is the error.</p>\n\n<blockquote>\n  <p>No method 'Select' exists on type\n  'System.Collections.Generic.ICollection`1[ApplicationUserRole]</p>\n</blockquote>\n\n<p>This is what I am trying to produce dynamically. </p>\n\n<pre><code>await context.Users.Where(c =&gt; c.Roles\n                                .Select(x =&gt; x.ApplicationRole.Name)\n                                .Contains(\"admin\"))\n                   .ToListAsync();\n</code></pre>\n\n<p>I'd appreciate anyone who could help.</p>\n"}, {"tags": ["c#", "windows", "powershell", "shortcuts"], "comments": [{"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 1, "creation_date": 1482359028, "post_id": 41272898, "comment_id": 69747268, "body": "Right click the shortcut made programmatically and compare the &quot;Target&quot; and &quot;Start In&quot; fields to your manually made one that works."}, {"owner": {"reputation": 8550, "user_id": 3504007, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/8ksWq.png?s=128&g=1", "display_name": "Kraang Prime", "link": "https://stackoverflow.com/users/3504007/kraang-prime"}, "edited": false, "score": 0, "creation_date": 1482359091, "post_id": 41272898, "comment_id": 69747304, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/18023379/creating-a-file-shortcut-lnk\">Creating a file shortcut (.lnk)</a>"}, {"owner": {"reputation": 8550, "user_id": 3504007, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/8ksWq.png?s=128&g=1", "display_name": "Kraang Prime", "link": "https://stackoverflow.com/users/3504007/kraang-prime"}, "edited": false, "score": 0, "creation_date": 1482359211, "post_id": 41272898, "comment_id": 69747351, "body": "Try the solution provided in the above link. (and keep in mind the note regarding .NET 4.0 reference of <code>WshShell</code> vs <code>WshShellClass</code>.  The solution is for c#."}, {"owner": {"reputation": 3565, "user_id": 545430, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1980ea1d7e33e2a5134f6f3e4d3177cd?s=128&d=identicon&r=PG", "display_name": "Ian", "link": "https://stackoverflow.com/users/545430/ian"}, "reply_to_user": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1482359548, "post_id": 41272898, "comment_id": 69747508, "body": "@Quantic - That is exactly right. I did compare the properties carefully before, but I overlooked the start in field. Put this as the answer and I can accept it. The property that needs to be set is the WorkingDirectory of the shortcut object."}], "answers": [{"tags": [], "owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "is_accepted": true, "score": 0, "last_activity_date": 1482361307, "creation_date": 1482361307, "answer_id": 41273378, "question_id": 41272898, "link": "https://stackoverflow.com/questions/41272898/windows-shortcuts-created-programmatically-dont-work/41273378#41273378", "title": "Windows Shortcuts Created Programmatically Don&#39;t Work", "body": "<p>You often have to ensure the <a href=\"https://msdn.microsoft.com/en-us/subscriptions/ae0a4aee(v=vs.84).aspx\" rel=\"nofollow noreferrer\"><code>WorkingDirectory</code></a> is assigned or else your program's <code>Environment.CurrentDirectory</code> will inherit the directory you called the shortcut from. Your program is likely closing due to not finding a resource by using a relative path, such as an icon: <code>_notifyIcon.Icon = new System.Drawing.Icon(@\"Resources\\Icons\\myicon.ico\");</code> will crash when using a shortcut with a blank <code>WorkingDirectory</code> when the shortcut is launched from a process with a different working directory than where your .exe resides (e.g., the Explorer process that reads your shortcut and launches your program when you double click a shortcut).</p>\n\n<p>You can test what a relative path expands to by using <code>Path.GetFullPath(string relativePath)</code>, and you can see the current directory with <code>Environment.CurrentDirectory</code>. Launching a shortcut from the desktop with no Start In set I see the working directory as my desktop, meaning <code>@\"Resources\\Icons\\myicon.ico\"</code> will be expanded to <code>@\"C:\\Users\\me\\Desktop\\Resources\\Icons\\myicon.ico</code> which is no good as the icon is somewhere else like <code>@\"C:\\Program Files\\MyProgram\\Resources\\Icons\\myicon.ico\"</code>.</p>\n"}], "owner": {"reputation": 3565, "user_id": 545430, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1980ea1d7e33e2a5134f6f3e4d3177cd?s=128&d=identicon&r=PG", "display_name": "Ian", "link": "https://stackoverflow.com/users/545430/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 41273378, "answer_count": 1, "score": 0, "last_activity_date": 1482361307, "creation_date": 1482358920, "question_id": 41272898, "link": "https://stackoverflow.com/questions/41272898/windows-shortcuts-created-programmatically-dont-work", "title": "Windows Shortcuts Created Programmatically Don&#39;t Work", "body": "<p>I've used C# and Powershell to create shortcuts, but when they are created in code they do not work. I click on the shortcut, the cursor shows the PC is thinking for a second and then nothing happens. This is the Powershell code I was using:</p>\n\n<pre><code>$currPath = Split-Path -Parent -Path $MyInvocation.MyCommand.Definition\n$tgtPath = ($currPath + \"\\bin\\MyApp.exe\")\n$scutPath = ([Environment]::GetFolderPath(\"Desktop\") + \"\\MyApp.lnk\")\n$wShell = New-Object -ComObject WScript.Shell\n$scut = $wShell.CreateShortcut($scutPath)\n$scut.TargetPath = $tgtPath\n$scut.Save()\n</code></pre>\n\n<p>The C# code does essentially the same think using the IWshRuntimeLibrary. This little script basically just creates a shortcut on someone's desktop after they have downloaded my little standalone executable. I can manually create the shortcut and everything works fine. Why can't I do it through code?</p>\n\n<p>I have created a few shortcuts and .url files on the desktop with the same name in the course of my testing, I'm not sure if that matters.</p>\n"}, {"tags": ["c#", ".net", "multithreading", "winforms", "task"], "comments": [{"owner": {"reputation": 58724, "user_id": 411632, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41e7ea21270a6079bb14d6d60ec75d8a?s=128&d=identicon&r=PG", "display_name": "Mat&#237;as Fidemraizer", "link": "https://stackoverflow.com/users/411632/mat%c3%adas-fidemraizer"}, "edited": false, "score": 7, "creation_date": 1482358700, "post_id": 41272834, "comment_id": 69747147, "body": "Windows isn&#39;t a real-time OS :/"}, {"owner": {"reputation": 14460, "user_id": 1404311, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/j4CQ5.jpg?s=128&g=1", "display_name": "Scott Mermelstein", "link": "https://stackoverflow.com/users/1404311/scott-mermelstein"}, "edited": false, "score": 0, "creation_date": 1482358889, "post_id": 41272834, "comment_id": 69747212, "body": "Other SO answers, e.g. <a href=\"http://stackoverflow.com/questions/6254703/thread-sleep-for-less-than-1-millisecond\" title=\"thread sleep for less than 1 millisecond\">stackoverflow.com/questions/6254703/&hellip;</a> seem to say spinning the CPU, as you&#39;re doing, is the way to go."}, {"owner": {"reputation": 54287, "user_id": 126229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5DqYq.jpg?s=128&g=1", "display_name": "EricLaw", "link": "https://stackoverflow.com/users/126229/ericlaw"}, "edited": false, "score": 0, "creation_date": 1482358893, "post_id": 41272834, "comment_id": 69747217, "body": "Understanding what you mean by &quot;very inaccurate&quot; would be helpful. How much variance are you seeing? What&#39;s your system&#39;s timer interval (the default is 15ms)"}, {"owner": {"reputation": 1570, "user_id": 5008193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iOKgE.jpg?s=128&g=1", "display_name": "Graffito", "link": "https://stackoverflow.com/users/5008193/graffito"}, "edited": false, "score": 0, "creation_date": 1482359707, "post_id": 41272834, "comment_id": 69747583, "body": "You may wait the appropriate sleep delay by inserting &quot;Thread.Sleep(Pack.Interval-(timeSpan.TotalMilliseconds - Pack.LastSent.TotalMilliseconds))&quot; as the last instruction of the while loop."}, {"owner": {"reputation": 91, "user_id": 7327576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e98d8f6141544c16735bb7bed126d19?s=128&d=identicon&r=PG&f=1", "display_name": "YRod", "link": "https://stackoverflow.com/users/7327576/yrod"}, "edited": false, "score": 0, "creation_date": 1482360078, "post_id": 41272834, "comment_id": 69747709, "body": "I&#39;m trying to have as small variance as I can do... pretty sure that Thread.Slep(x) wont solve the problem, even when x greater than 15 it cannot accomplish the delay with small variance, that&#39;s why I&#39;m asking :)"}, {"owner": {"reputation": 1570, "user_id": 5008193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iOKgE.jpg?s=128&g=1", "display_name": "Graffito", "link": "https://stackoverflow.com/users/5008193/graffito"}, "edited": false, "score": 0, "creation_date": 1482360792, "post_id": 41272834, "comment_id": 69747972, "body": "It should work if Pack.Interval&gt;2. Execute &quot;Sleep(x)&quot; only if x&gt;=1."}, {"owner": {"reputation": 37143, "user_id": 517852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9XmOJ.jpg?s=128&g=1", "display_name": "Mike Zboray", "link": "https://stackoverflow.com/users/517852/mike-zboray"}, "edited": false, "score": 0, "creation_date": 1482372775, "post_id": 41272834, "comment_id": 69751046, "body": "What is the CPU usage for this?"}, {"owner": {"reputation": 91, "user_id": 7327576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e98d8f6141544c16735bb7bed126d19?s=128&d=identicon&r=PG&f=1", "display_name": "YRod", "link": "https://stackoverflow.com/users/7327576/yrod"}, "edited": false, "score": 0, "creation_date": 1482415644, "post_id": 41272834, "comment_id": 69771709, "body": "If I start 4 independent tasks like the one in the example, the CPU usage can reach 80%"}], "answers": [{"tags": [], "owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "is_accepted": false, "score": 2, "last_activity_date": 1482376441, "creation_date": 1482376441, "answer_id": 41275250, "question_id": 41272834, "link": "https://stackoverflow.com/questions/41272834/how-to-introduce-an-accurate-small-delay-in-a-task-without-cpu-overload/41275250#41275250", "title": "How to introduce an accurate small delay in a task without CPU overload?", "body": "<blockquote>\n  <p>How to introduce an accurate small [1ms] delay without CPU overload [on Windows]?</p>\n</blockquote>\n\n<p>You can't, sorry. The system scheduler on windows is only slightly adjustable (by selecting <code>Adjust for best performance of Applications</code> in the advanced system properties dialog for Windows Server or <a href=\"https://technet.microsoft.com/library/Cc976120\" rel=\"nofollow noreferrer\">setting a registry value</a>), but it won't go into sub-millisecond territory. If it did, the performance of the entire system would suffer unacceptably.</p>\n\n<p>Depending on your hardware, I think it <em>might</em> be possible to reduce the system clock resolution as low as 0.5ms; however, the minimum thread quantum you can set is 6, which would require two clock ticks to reduce to 0. So you'd still end up with a quantum of 1ms, which is at least twice as slow as you'd need. And, of course, you'd reduce your battery life by ~15% (from what I've read).</p>\n\n<p>For more information, read <a href=\"https://technet.microsoft.com/en-us/sysinternals/bb963901.aspx\" rel=\"nofollow noreferrer\">Windows Internals</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 7327576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e98d8f6141544c16735bb7bed126d19?s=128&d=identicon&r=PG&f=1", "display_name": "YRod", "link": "https://stackoverflow.com/users/7327576/yrod"}, "edited": false, "score": 0, "creation_date": 1482425746, "post_id": 41276433, "comment_id": 69778588, "body": "Thank you very much!, the CPU overhead introduced (~20% for the whole application running the communication) is nothing comparing the one I had before (~80% and higher), I can deal with that. In the case of battery life I must test the performance but it seems to me that I wont have problem since the communication periods are not too long and I stop the timer when idle, Thanks! ;)"}], "tags": [], "owner": {"reputation": 37143, "user_id": 517852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9XmOJ.jpg?s=128&g=1", "display_name": "Mike Zboray", "link": "https://stackoverflow.com/users/517852/mike-zboray"}, "is_accepted": true, "score": 1, "last_activity_date": 1482385123, "creation_date": 1482385123, "answer_id": 41276433, "question_id": 41272834, "link": "https://stackoverflow.com/questions/41272834/how-to-introduce-an-accurate-small-delay-in-a-task-without-cpu-overload/41276433#41276433", "title": "How to introduce an accurate small delay in a task without CPU overload?", "body": "<p>Windows is not real-time OS so timers are not guaranteed to work precisely. A typical system clock has about 15 ms accuracy. However it is possible to get more accurate events than the standard <code>System.Threading.Timer</code>. The Windows API has timers designed for multimedia scenarios that can fire at more precise intervals. I have update the code in a GitHub repo I maintain, <a href=\"https://github.com/mzboray/HighPrecisionTimer\" rel=\"nofollow noreferrer\">HighPrecisionTimer</a>, that leverages that API, to include a Task based <code>MultimediaTimer.Delay</code> method: </p>\n\n<pre><code>private static async Task RunEveryMillisecond(CancellationToken token)\n{\n    Stopwatch s = Stopwatch.StartNew();\n    TimeSpan prevValue = TimeSpan.Zero;\n    int i = 0;\n    while (true)\n    {\n        Console.WriteLine(s.ElapsedMilliseconds);\n        await MultimediaTimer.Delay(1, token);\n        if (Console.KeyAvailable)\n        {\n            return;\n        }\n\n        i++;\n    }\n}\n</code></pre>\n\n<p>Note that this fires about every 1.5 ms on my system and it can still hit CPU for about 10% when running so it's not a negligible hit on system resources. The standard timer method included in the project are a bit more accurate and efficient (less CPU overhead, ~1%) for running methods on the 1 ms level. My guess is that there is more allocation and garbage collection overhead in the Task-based Delay method.</p>\n\n<p>Note that using this API can have side-effects like shorter battery life. However it is useful for test type scenarios where shorter timings are desired.</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 2636980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b58d385fe6d05ac3fda0dcd84828b1b?s=128&d=identicon&r=PG", "display_name": "ALK007", "link": "https://stackoverflow.com/users/2636980/alk007"}, "is_accepted": false, "score": 0, "last_activity_date": 1482385447, "creation_date": 1482385447, "answer_id": 41276493, "question_id": 41272834, "link": "https://stackoverflow.com/questions/41272834/how-to-introduce-an-accurate-small-delay-in-a-task-without-cpu-overload/41276493#41276493", "title": "How to introduce an accurate small delay in a task without CPU overload?", "body": "<p>you can start many consecutive threads say <code>n</code> (n=10 or 20 etc.)(n is the number of threads) after 1ms delay and in each task you can wait for n milliseconds.</p>\n"}], "owner": {"reputation": 91, "user_id": 7327576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e98d8f6141544c16735bb7bed126d19?s=128&d=identicon&r=PG&f=1", "display_name": "YRod", "link": "https://stackoverflow.com/users/7327576/yrod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1583, "favorite_count": 3, "closed_date": 1482419162, "accepted_answer_id": 41276433, "answer_count": 3, "score": 8, "last_activity_date": 1482385447, "creation_date": 1482358561, "question_id": 41272834, "link": "https://stackoverflow.com/questions/41272834/how-to-introduce-an-accurate-small-delay-in-a-task-without-cpu-overload", "closed_reason": "Duplicate", "title": "How to introduce an accurate small delay in a task without CPU overload?", "body": "<p>I am implementing a communication algorithm to send information periodically and very fast, i.e. 1ms between packs. I've a functional version that uses Tasks to send the packs. Here an example of my code:</p>\n\n<pre><code>private void Work()\n{\n    Stopwatch stopwatch = new Stopwatch();\n    stopwatch.Start();\n\n    while (!cancellationTokenSource.Token.IsCancellationRequested)\n    {\n        if (!Pack.PeriodicOn)\n            cancellationTokenSource.Cancel();\n\n        // Time used to send the packs before the interval time\n        double tolerance = Pack.Interval * 0.2F;\n\n        // In case of interval bigger than 25ms send pasks only 5ms before\n        if (tolerance &gt; 5) tolerance = 5;\n\n        TimeSpan timeSpan = stopwatch.Elapsed;\n\n        // The waiting time is controlled by the condition below, if the condition is false, the while loop continues execution         \n        // Send the information a little bit before to interval time to deal with the transmision delay\n        if (Pack.LastSent.TotalMilliseconds == 0 ||\n             timeSpan.TotalMilliseconds - Pack.LastSent.TotalMilliseconds &gt;=\n             (Pack.Interval - tolerance))\n        {\n            SendData(Pack);\n            Pack.LastSent = timeSpan;\n        }\n    }\n\n    Pack.LastSent = new TimeSpan(0);\n}\n</code></pre>\n\n<p>My problem relies in the fact that the CPU usage increases to an undesirable levels. I know that I can avoid that by introducing some delay, but,\nThread.Sleep(1) is very inaccurate and the real transmission interval between packs rises, if I use await Task.Delay(1) seems to produce the same effect. </p>\n\n<p>Does anybody have an alternative way to introduce, accurately, delay in tasks?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c#", "wcf"], "comments": [{"owner": {"reputation": 4363, "user_id": 2040569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78834c6b2f1bb61025b0d29ae59af530?s=128&d=identicon&r=PG&f=1", "display_name": "Austin T French", "link": "https://stackoverflow.com/users/2040569/austin-t-french"}, "edited": false, "score": 0, "creation_date": 1482359434, "post_id": 41272699, "comment_id": 69747461, "body": "Something like Wireshark? Maybe it&#39;s / the LUA api?"}, {"owner": {"reputation": 1570, "user_id": 5008193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iOKgE.jpg?s=128&g=1", "display_name": "Graffito", "link": "https://stackoverflow.com/users/5008193/graffito"}, "edited": false, "score": 1, "creation_date": 1482362425, "post_id": 41272699, "comment_id": 69748540, "body": "The solution consists in implementing a message inspector and code AfterReceiveRequest(ref Message request,, ...) function. The tricky issue in this function is that, when you read the message body, you must recreate a new instance of the input Message, because reading the input stream empties the message. <i>That&#39;s the reason of the &quot;ref&quot; in the first function parameter</i>: see the MessageToString() function in this <a href=\"https://www.snip2code.com/Snippet/724073/A-sample-Message-inspector-for-MessageBo\" rel=\"nofollow noreferrer\"><i>link</i></a>"}], "owner": {"reputation": 480, "user_id": 5063152, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh3.googleusercontent.com/-fF3RN6yxx8Q/AAAAAAAAAAI/AAAAAAAAAyg/O85S2-2B8Tc/photo.jpg?sz=128", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5063152/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482393795, "creation_date": 1482357929, "question_id": 41272699, "link": "https://stackoverflow.com/questions/41272699/wcf-message-logging-inspection-in-the-host", "title": "WCF Message Logging/Inspection In The Host", "body": "<p>I have a self hosted WCF service that is hosted by a C# executable. I was wondering if anyone has a way to log/inspect messages coming into the host (so that the host can display the messages on its UI; say in a rich text editor or a devexpress grid or some other control). </p>\n\n<p>I know there is a way to log/inspect messages coming into the service, but I want to have the host show the messages instead.</p>\n"}, {"tags": ["c#", "asp.net", "enums", "displayattribute"], "comments": [{"owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 0, "creation_date": 1482358289, "post_id": 41272689, "comment_id": 69746972, "body": "creating Attribute is easy. just inherit your custom class from Attribute. later you can extract attribute information from enum members."}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "reply_to_user": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 1, "creation_date": 1482358384, "post_id": 41272689, "comment_id": 69747018, "body": "Forgive me... but &quot;easy&quot; may mean different things for different people!"}, {"owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 0, "creation_date": 1482360169, "post_id": 41272689, "comment_id": 69747752, "body": "hey please take a look at answer again and copy paste. it will work. notice the name spaces are important because you want to hide the original <code>DisplayAttribute</code> and use your own."}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "reply_to_user": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 0, "creation_date": 1482360359, "post_id": 41272689, "comment_id": 69747828, "body": "Ok, I&#39;m looking.  Thank you for your help!!"}], "answers": [{"comments": [{"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1482359074, "post_id": 41272844, "comment_id": 69747292, "body": "having some trouble here.... BackgroundColor is not recognized. &quot;The type or namespace BackgroundColor is not found.&quot;  I get that when trying to use it as a Display Attribute in the enum&#39;s property"}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1482359112, "post_id": 41272844, "comment_id": 69747313, "body": "Where in my code / project do I put the extension method in your second code block?"}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1482359356, "post_id": 41272844, "comment_id": 69747415, "body": "I&#39;m missing something here.  In terns of the actual *.cs file... should I put both of these classes in the same literal file as the enum class? Or does it need to just be in the same namespace?"}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1482359501, "post_id": 41272844, "comment_id": 69747489, "body": "This solution will not work. This is not adding the <code>BackgroundColor</code> to the  <code>DisplayAttribute</code> class as the OP asked."}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "reply_to_user": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1482359526, "post_id": 41272844, "comment_id": 69747499, "body": "@CodingYoshi -- yes, that is what I&#39;m finding."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1482359628, "post_id": 41272844, "comment_id": 69747545, "body": "This only creates a whole other attribute derived from <code>attribute</code> and then it applies the attribute to an enum, then it reads the attribute for the enum using reflection."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1482360350, "post_id": 41272844, "comment_id": 69747823, "body": "If you are downvoting my answer, know that I never downvoted yours. I am simply saying that your solution will not work. Try this <code>[Display(Name = &quot;Created&quot;, BackgroundColor=&quot;green&quot;)]</code>, there is no way you can do it."}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1482360483, "post_id": 41272844, "comment_id": 69747875, "body": "I see your edits.  But, as Yoshi said, this is still not working: [Display(Name = &quot;Created&quot;, BackgroundColor=&quot;green&quot;)]"}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1482360838, "post_id": 41272844, "comment_id": 69748002, "body": "I am still trying here.  Sure do appreciate your help!  I&#39;ll report back soon."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1482361118, "post_id": 41272844, "comment_id": 69748104, "body": "@M.kazemAkhgary you are missing the point. Try and access one of the other properties of <code>DisplayAttribute</code> for example <code>AutoGenerateField</code> and you cannot. You have simply created a whole new <code>DisplayAttribute</code> which has nothing to do with the original one."}, {"owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "reply_to_user": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1482361405, "post_id": 41272844, "comment_id": 69748231, "body": "I thought that&#39;s what op wants. I see now. so if you want to use all the properties just copy everything needed from original class. will that work? I didn&#39;t see asp-net tag. @CodingYoshi"}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1482362464, "post_id": 41272844, "comment_id": 69748551, "body": "@M.kazemAkhgary I am afraid that will not work because MVC uses this class to do a lot of magic for the UI and simply having the properties is not enough. Those properties need to have implementation. The point here is that this is not possible and as you can see, trying to force it, it is just roadblock after roadblock. Hope you see that :)"}, {"owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "reply_to_user": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1482362655, "post_id": 41272844, "comment_id": 69748608, "body": "I see. that&#39;s why I unvoted. and sorry for being too confident, this was the final shot. @CodingYoshi"}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 1, "creation_date": 1482362716, "post_id": 41272844, "comment_id": 69748628, "body": "@M.kazemAkhgary -- I want to thank you for your efforts!  I DID get your solution to work, but I can also see that CodingYoshi has a valid point. Not using MVC&#39;s class is going to cause more trouble down the road. That being said, I sure do appreciate your time and effort.  I up voted this."}], "tags": [], "owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "is_accepted": false, "score": 3, "last_activity_date": 1482362259, "last_edit_date": 1482362259, "creation_date": 1482358602, "answer_id": 41272844, "question_id": 41272689, "link": "https://stackoverflow.com/questions/41272689/create-a-custom-displayattribute-for-enums/41272844#41272844", "title": "Create a custom DisplayAttribute for enums?", "body": "<p>Having your own attribute.</p>\n\n<pre><code>public sealed class ExtrasDisplayAttribute : Attribute\n{\n    public string Name { get; set; }\n    public string BackgroundColor { get; set; }\n}\n</code></pre>\n\n<p>And this extension method.</p>\n\n<pre><code>namespace ExtensionsNamespace\n{\n    public static class Extensions\n    {\n        public static TAttribute GetAttribute&lt;TAttribute&gt;(Enum value) where TAttribute : Attribute\n        {\n            return value.GetType()\n                .GetMember(value.ToString())[0]\n                .GetCustomAttribute&lt;TAttribute&gt;();\n        }\n    }\n}\n</code></pre>\n\n<p>Now you can extract attribute from enum like this.</p>\n\n<pre><code>using static ExtensionsNamespace.Extensions;\n\n//...\n\nvar info = GetAttribute&lt;ExtrasDisplayAttribute&gt;(LeadStatus.Created);\nvar name = info.Name;\nvar bg = info.BackgroundColor;\n\n//...\n\npublic enum LeadStatus : byte\n{\n    [ExtrasDisplay(Name = \"Created\", BackgroundColor = \"Red\")] Created = 1,\n    [ExtrasDisplay(Name = \"Assigned\")] Assigned = 2,\n}\n</code></pre>\n\n<p>If you want to still use the original attribute you can have that too.\nyou should apply both attributes to single enum.</p>\n\n<pre><code>public enum LeadStatus : byte\n{\n    [Display(Name = \"Created\"), ExtrasDisplay(BackgroundColor = \"Red\")]Created = 1,\n    [Display(Name = \"Assigned\")] Assigned = 2,\n}\n</code></pre>\n\n<p>And extract each one you want.</p>\n\n<pre><code>var name = GetAttribute&lt;DisplayAttribute&gt;(LeadStatus.Created).Name;\nvar bg = GetAttribute&lt;ExtrasDisplayAttribute&gt;(LeadStatus.Created).BackgroundColor;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1482359584, "post_id": 41273000, "comment_id": 69747524, "body": "So, are you saying this isn&#39;t possible?  If so, is there some kind of workaround?"}, {"owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 0, "creation_date": 1482360214, "post_id": 41273000, "comment_id": 69747769, "body": "there is no need to inherit or override this attribute. simply you can write your own attribute. my answer will work just fine."}, {"owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1482360289, "post_id": 41273000, "comment_id": 69747801, "body": "Only I&#39;m not getting it to work.  As I said in my comment under your answer, &quot;BackgroundColor&quot; is not recognized."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "reply_to_user": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1482360859, "post_id": 41273000, "comment_id": 69748010, "body": "@CaseyCrookston I thought maybe if you wrapped the entire <code>DisplayAttribute</code> within a class which implements an interface with all the methods and properties of the <code>DisplayAttribute</code> and then used the decorator pattern...but then I figured when you use that in your UI, it will not work so I gave up entertaining that. So sorry I cannot think of anything but if I come up with anything I will be sure to ping you."}, {"owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "reply_to_user": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "edited": false, "score": 0, "creation_date": 1482361582, "post_id": 41273000, "comment_id": 69748291, "body": "ok. so final work around for this would be to have two attributes applied to each member. that is possible like <code>[FistAttribute(...) , SecondAttrbute(...)]</code> and extract the one you want. @CaseyCrookston"}], "tags": [], "owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "is_accepted": false, "score": 2, "last_activity_date": 1482362530, "last_edit_date": 1482362530, "creation_date": 1482359433, "answer_id": 41273000, "question_id": 41272689, "link": "https://stackoverflow.com/questions/41272689/create-a-custom-displayattribute-for-enums/41273000#41273000", "title": "Create a custom DisplayAttribute for enums?", "body": "<p><code>public sealed class DisplayAttribute : Attribute</code> is a sealed class and therefore you cannot inherit it and add other behavior or properties to it. </p>\n\n<p><strong>Below is my assumption but someone can chime in if they know why</strong></p>\n\n<p>And you may wonder why .NET developers made it sealed? I am wondering the same and my assumption is because each of the properties in <code>DisplayAttribute</code> are used to inject javascript, html etc. If they left it open, and you added a <code>BackgroundColor</code> property to it, what does that mean? What would that do in the UI?</p>\n"}, {"tags": [], "owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "is_accepted": false, "score": 0, "last_activity_date": 1482363169, "last_edit_date": 1495542827, "creation_date": 1482363169, "answer_id": 41273650, "question_id": 41272689, "link": "https://stackoverflow.com/questions/41272689/create-a-custom-displayattribute-for-enums/41273650#41273650", "title": "Create a custom DisplayAttribute for enums?", "body": "<p>having concluded this this isn't possible, I went with another kind of solution.  Not as tidy as I had hoped for originally, but it still gets the job done.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5985661/methods-inside-enum-in-c-sharp\">Methods inside enum in C#</a></p>\n"}], "owner": {"reputation": 10230, "user_id": 1418704, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/f23297149bdbeb4759cd00c5108f489b?s=128&d=identicon&r=PG", "display_name": "Casey Crookston", "link": "https://stackoverflow.com/users/1418704/casey-crookston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1052, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1482363169, "creation_date": 1482357888, "question_id": 41272689, "link": "https://stackoverflow.com/questions/41272689/create-a-custom-displayattribute-for-enums", "title": "Create a custom DisplayAttribute for enums?", "body": "<p>I've got an enum class...</p>\n\n<pre><code>public enum LeadStatus : byte\n{\n    [Display(Name = \"Created\")] Created = 1,\n    [Display(Name = \"Assigned\")] Assigned = 2,\n    ....\n}\n</code></pre>\n\n<p><code>Name</code> of course is out-of-the-box. From MetaData...</p>\n\n<pre><code>namespace System.ComponentModel.DataAnnotations\n{\n    public sealed class DisplayAttribute : Attribute\n    {\n        ...\n        public string Name { get; set; }\n        ...\n    }\n}\n</code></pre>\n\n<p>Suppose I wanted my own custom Display Attribution, such as \"BackgroundColor\"...</p>\n\n<pre><code>[Display(Name = \"Created\", BackgroundColor=\"green\")] Created = 1\n</code></pre>\n\n<p>I've seen a few other threads here that kinda dance around the issue, but the context is different enough that I can't make it work.  I assume I need to create some sort of extension / override class, but I am not picturing this in my head.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 136, "user_id": 1563579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049609bcbec059a91bfab3fbdf806ff7?s=128&d=identicon&r=PG", "display_name": "colinsmith1", "link": "https://stackoverflow.com/users/1563579/colinsmith1"}, "edited": false, "score": 0, "creation_date": 1482362588, "post_id": 41272655, "comment_id": 69748586, "body": "Why do you need a repository over entity framework?   <a href=\"http://rob.conery.io/2014/03/04/repositories-and-unitofwork-are-not-a-good-idea/\" rel=\"nofollow noreferrer\">rob.conery.io/2014/03/04/&hellip;</a>"}, {"owner": {"reputation": 141, "user_id": 5450332, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3f0887081a146387e32bcddbe565a354?s=128&d=identicon&r=PG&f=1", "display_name": "Acla", "link": "https://stackoverflow.com/users/5450332/acla"}, "reply_to_user": {"reputation": 136, "user_id": 1563579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049609bcbec059a91bfab3fbdf806ff7?s=128&d=identicon&r=PG", "display_name": "colinsmith1", "link": "https://stackoverflow.com/users/1563579/colinsmith1"}, "edited": false, "score": 0, "creation_date": 1482365285, "post_id": 41272655, "comment_id": 69749279, "body": "I&#39;m just experimenting and trying different things because it&#39;s a great way to learn. However, I am reading the article you posted and it is indeed interesting what the author points out.  I&#39;d still like to know if there&#39;s a fix for the problem if"}, {"owner": {"reputation": 141, "user_id": 5450332, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3f0887081a146387e32bcddbe565a354?s=128&d=identicon&r=PG&f=1", "display_name": "Acla", "link": "https://stackoverflow.com/users/5450332/acla"}, "reply_to_user": {"reputation": 136, "user_id": 1563579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049609bcbec059a91bfab3fbdf806ff7?s=128&d=identicon&r=PG", "display_name": "colinsmith1", "link": "https://stackoverflow.com/users/1563579/colinsmith1"}, "edited": false, "score": 0, "creation_date": 1482365417, "post_id": 41272655, "comment_id": 69749318, "body": "sorry, sent the comment before finishing and now I can&#39;t edit it - basically, I&#39;d still like to know if there&#39;s a fix when using the repository pattern"}], "owner": {"reputation": 141, "user_id": 5450332, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3f0887081a146387e32bcddbe565a354?s=128&d=identicon&r=PG&f=1", "display_name": "Acla", "link": "https://stackoverflow.com/users/5450332/acla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482357750, "creation_date": 1482357750, "question_id": 41272655, "link": "https://stackoverflow.com/questions/41272655/avoid-repetition-when-using-repositories-and-tpt", "title": "Avoid repetition when using repositories and TPT", "body": "<p>I'm using EF and TPT in a new project for my user-related tables, but I keep repeating myself and I don't see how I can fix the problem.\nBasically, I have 4 tables: users (all), guests, admin and registered users. I then have a model for each table.</p>\n\n<p>Since, I'm following the repository pattern, I've created:</p>\n\n<ul>\n<li>IUserRepository</li>\n<li>RegisteredUserRepository (implements the interface)</li>\n<li>GuestUsersRepository (implements the interface)</li>\n<li>AdminUsersRepository (implements the interface)</li>\n</ul>\n\n<p>The thing is..<strong><em>I just wanted a single UserRepository</em></strong> that implemented the interface because I have a lot of methods in my repositories that are basically the same. \nHowever, whenever I try to use a single repo, I keep getting problems, namely due to the fact that <strong><em>the different types of users have different properties</em></strong> (eg: registered and admin users have an email address, username and password whereas guest users don't). <strong><em>Therefore, I can't use generic methods</em>.</strong></p>\n\n<p>Any suggestions? Thanks in advance!</p>\n\n<p>IUserRepository:</p>\n\n<pre><code> interface IUserRepository&lt;T&gt; where T: User  {\n\n        T Find(Expression&lt;Func&lt;T, bool&gt;&gt; predicate);\n        T GetById(int id);\n        T GetByEmail(string email);\n        T GetByUsername(string username);\n        bool Login(string email, string password);\n        bool Add(T user);\n        void Update(T user);\n        void Delete(T user);\n</code></pre>\n\n<p>RegisteredUserRepository:</p>\n\n<pre><code> public class RegisteredUserRepository : IUserRepository&lt;RegisteredUser&gt; {\n        // context here\n\n        public RegisteredUser Find(Expression&lt;Func&lt;RegisteredUser, bool&gt;&gt; predicate) {\n            return _db.Users.OfType&lt;RegisteredUser&gt;().SingleOrDefault(predicate);\n        }\n\n        public RegisteredUser GetById(int id) {\n            return this.Find(u =&gt; u.Id == id);\n        }\n\n        // HERE lies my problem: I can't make all of these methods generic because there are some properties (eg: email) that registered and admin users have and that guests don't\n        public RegisteredUser GetByEmail(string email) {\n            return this.Find(u =&gt; u.Email == email); \n        }\n\n        // same thing here...   \n        public bool Login(string usernameOrEmail, string password) {\n            var user = this.Find(u =&gt; u.Email == usernameOrEmail || a.Username == usernameOrEmail);\n            return BCrypt.Net.BCrypt.Verify(password, user.Password);\n       }\n</code></pre>\n\n<p>GuestUserRepository:</p>\n\n<pre><code>  public class GuestUserRepository : IUserRepository&lt;GuestUser&gt; {\n        // context here...\n\n    public GuestUser Find(Expression&lt;Func&lt;GuestUser, bool&gt;&gt; predicate) {\n         return db.Users.OfType&lt;GuestUser&gt;().SingleOrDefault(predicate);\n    }\n\n    public GuestUser GetById(int id) {\n        return this.Find(g =&gt; g.Id == id);\n    }\n\n    // etc, etc\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "amazon-web-services", "amazon-elastic-beanstalk"], "answers": [{"comments": [{"owner": {"reputation": 3444, "user_id": 2449105, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BNqgH.png?s=128&g=1", "display_name": "Kevin R.", "link": "https://stackoverflow.com/users/2449105/kevin-r"}, "edited": false, "score": 0, "creation_date": 1492720064, "post_id": 41466950, "comment_id": 74111481, "body": "The Web Deploy Package is the correct solution for us. The missing piece for me was the awsdeploy tool picking up the package and deploying from there, if that makes sense."}, {"owner": {"reputation": 1703, "user_id": 1390830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NzJLQ.jpg?s=128&g=1", "display_name": "jackofallcode", "link": "https://stackoverflow.com/users/1390830/jackofallcode"}, "reply_to_user": {"reputation": 3444, "user_id": 2449105, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BNqgH.png?s=128&g=1", "display_name": "Kevin R.", "link": "https://stackoverflow.com/users/2449105/kevin-r"}, "edited": false, "score": 0, "creation_date": 1527869316, "post_id": 41466950, "comment_id": 88305253, "body": "@KevinR. but didn&#39;t this solution still leave you with multiple transforms that you didn&#39;t really want?  I&#39;m looking for something similar but being able to set the connection string as part of the Beanstalk environment.  So far I&#39;ve found this answer: <a href=\"https://stackoverflow.com/questions/19917010/accessing-asp-net-mvc-variables-in-elastic-beanstalk-web-config\" title=\"accessing asp net mvc variables in elastic beanstalk web config\">stackoverflow.com/questions/19917010/&hellip;</a> but this seems to just be for AppSettings (and like you I want to continue using connection strings)."}, {"owner": {"reputation": 3444, "user_id": 2449105, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BNqgH.png?s=128&g=1", "display_name": "Kevin R.", "link": "https://stackoverflow.com/users/2449105/kevin-r"}, "edited": false, "score": 0, "creation_date": 1527869412, "post_id": 41466950, "comment_id": 88305294, "body": "Are you using framework or core? It&#39;s a lot easier with core"}], "tags": [], "owner": {"reputation": 1272, "user_id": 2066040, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/2905928c0577756eff8579008d067a91?s=128&d=identicon&r=PG", "display_name": "SignalRichard", "link": "https://stackoverflow.com/users/2066040/signalrichard"}, "is_accepted": true, "score": 2, "last_activity_date": 1483542226, "creation_date": 1483542226, "answer_id": 41466950, "question_id": 41272644, "link": "https://stackoverflow.com/questions/41272644/connectionstring-transforms-when-deploying-to-aws-elastic-beanstalk/41466950#41466950", "title": "ConnectionString Transforms when deploying to AWS Elastic Beanstalk", "body": "<p>I don't have any guides but here are some steps you can use to achieve what you want to do:</p>\n\n<ol>\n<li>Create new configurations for each environment using the Configuration Manager</li>\n<li>Add additional config transforms (right click the Web.config and then \"Add Config Transform\")</li>\n<li>Set the connection string transformation values for each environment in the config transforms</li>\n<li>Create a publish profile (right click on the Asp.Net Mvc project and click Publish)</li>\n<li>Set the Publish method to \"Web Deployment Package\"</li>\n<li>Set configuration to match the environment you want to use which will automatically apply correct config transform</li>\n<li>Publish package to some location and then upload as a new version to your Elastic Beanstalk</li>\n<li>Repeat creating the Configurations and Publish Profiles for each environment</li>\n</ol>\n\n<p>Just a note, connection strings are parameterized in the deployment package and the actual value will appear in the parameters.xml file in the deployment zip package and the Web.config will simply have a replacement token. When deploying the package, Elastic Beanstalk will apply the parameterization to the Web.config.</p>\n"}], "owner": {"reputation": 3444, "user_id": 2449105, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BNqgH.png?s=128&g=1", "display_name": "Kevin R.", "link": "https://stackoverflow.com/users/2449105/kevin-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1173, "favorite_count": 1, "accepted_answer_id": 41466950, "answer_count": 1, "score": 3, "last_activity_date": 1483542624, "creation_date": 1482357714, "last_edit_date": 1483542624, "question_id": 41272644, "link": "https://stackoverflow.com/questions/41272644/connectionstring-transforms-when-deploying-to-aws-elastic-beanstalk", "title": "ConnectionString Transforms when deploying to AWS Elastic Beanstalk", "body": "<h3>What I'm up against</h3>\n\n<p>In my current project, I'm trying to deploy a .NET MVC project to Elastic Beanstalk on AWS. I've usually worked with Azure in the past and I'm having a difficulty tracking down information on Config transforms for connection strings.</p>\n\n<h3>What I've tried</h3>\n\n<p>I <em>have</em> found that I can change/manipulate AppSettings, but I don't really like the idea of moving my connectionstrings to appsettings if I don't absolutely have to.</p>\n\n<p>Additionally, I don't want to do a Web.Release.config transform with the production environment because this project will likely be published to development, staging, and production environments, all with separate connection strings.</p>\n\n<p>I've also tried to look at ebextensions, but I haven't quite been pointed in the direction of changing connection strings in anything.</p>\n\n<h3>What I'm looking for</h3>\n\n<p>Does anyone have any solutions they've used or any resources (blogs, guides, etc) they could recommend?</p>\n\n<h3>tl;dr</h3>\n\n<p>Looking for a way to do ConnectionString transforms for an ASP.NET MVC project deployed on AWS Elastic Beanstalk.</p>\n"}, {"tags": ["c#", "visual-studio"], "comments": [{"owner": {"reputation": 127019, "user_id": 59303, "user_type": "moderator", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/gIt1g.png?s=128&g=1", "display_name": "ChrisF", "link": "https://stackoverflow.com/users/59303/chrisf"}, "edited": false, "score": 0, "creation_date": 1482357616, "post_id": 41272569, "comment_id": 69746656, "body": "Does &quot;SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon&quot; already exist? If not does any part of &quot;SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion&quot; NOT exist? Also where is <code>status</code> set?"}, {"owner": {"reputation": 37143, "user_id": 517852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9XmOJ.jpg?s=128&g=1", "display_name": "Mike Zboray", "link": "https://stackoverflow.com/users/517852/mike-zboray"}, "edited": false, "score": 0, "creation_date": 1482357807, "post_id": 41272569, "comment_id": 69746759, "body": "FWIW, <a href=\"https://technet.microsoft.com/en-us/itpro/windows/manage/set-up-a-device-for-anyone-to-use\" rel=\"nofollow noreferrer\">kiosk mode</a> is an option in Windows 10."}, {"owner": {"reputation": 814, "user_id": 985585, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/01cfc4b6fa96e5c7790cfdfd18b2222f?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/985585/alex"}, "edited": false, "score": 0, "creation_date": 1482358113, "post_id": 41272569, "comment_id": 69746889, "body": "First of all OpenSubKey function only gives me read-only access. No matter the permissions. Second of all I need my custom kiosk, for various reasons. I&#39;m planning to replace the shell entirely later on. Window 10 kiosk mode doesn&#39;t allow me to have my custom windows form with MD5 hash protected password along with other custom functionality I&#39;m writing, nonetheless I will check it out. Thanks!"}, {"owner": {"reputation": 814, "user_id": 985585, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/01cfc4b6fa96e5c7790cfdfd18b2222f?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/985585/alex"}, "edited": false, "score": 0, "creation_date": 1482358205, "post_id": 41272569, "comment_id": 69746935, "body": "status is set elsewhere, obviously there&#39;s a bigger code, I&#39;m only showing the main part that has problems. For example I&#39;m also doing things here  @&quot;Software\\Microsoft\\Windows\\CurrentVersion\\Policies\\System&quot;&zwnj;&#8203;;"}, {"owner": {"reputation": 814, "user_id": 985585, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/01cfc4b6fa96e5c7790cfdfd18b2222f?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/985585/alex"}, "edited": false, "score": 0, "creation_date": 1482358303, "post_id": 41272569, "comment_id": 69746978, "body": "status variable comes in handy as I pass it in here  disableTaskMgr.SetValue(&quot;DisableTaskMgr&quot;, status);"}, {"owner": {"reputation": 814, "user_id": 985585, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/01cfc4b6fa96e5c7790cfdfd18b2222f?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/985585/alex"}, "edited": false, "score": 0, "creation_date": 1482358611, "post_id": 41272569, "comment_id": 69747111, "body": "Nevermind, I&#39;ve double checked and actually I have to pass an extra boolean if I want read-write with OpenSubKey. Nonetheless, nothing changed... Expect for a different error. Requested registry access is not allow. ROFL"}], "answers": [{"tags": [], "owner": {"reputation": 814, "user_id": 985585, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/01cfc4b6fa96e5c7790cfdfd18b2222f?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/985585/alex"}, "is_accepted": false, "score": 2, "last_activity_date": 1482400588, "creation_date": 1482400588, "answer_id": 41280325, "question_id": 41272569, "link": "https://stackoverflow.com/questions/41272569/cannot-change-registry-variable-c/41280325#41280325", "title": "Cannot change registry variable C#", "body": "<p>Managed to solve this issue. Apparently my keys were redirected by WOW64 and that somehow didn't give me permission to the registry branch?\nNonetheless following code saved me:</p>\n\n<pre><code>RegistryKey localMachine = RegistryKey.OpenBaseKey(Microsoft.Win32.RegistryHive.LocalMachine, RegistryView.Registry64);\n            RegistryKey regKey = localMachine.OpenSubKey(@\"SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon\", true);\n                    regKey.SetValue(\"Shell\", \"bat.exe\", RegistryValueKind.String);\n                    regKey.Close();\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/13667287/changing-the-shell-registry\">Changing the Shell registry</a></p>\n"}], "owner": {"reputation": 814, "user_id": 985585, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/01cfc4b6fa96e5c7790cfdfd18b2222f?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/985585/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482400588, "creation_date": 1482357377, "last_edit_date": 1482361183, "question_id": 41272569, "link": "https://stackoverflow.com/questions/41272569/cannot-change-registry-variable-c", "title": "Cannot change registry variable C#", "body": "<p>I'm in the middle of creating my own kiosk using C#, and for that I'm going to kill explorer (windows shell) and I don't need it to autorestart. For that cause I need to change one variable in the registry however, when I'm trying to run it from the IDE it gives me an error:</p>\n\n<p>System.UnauthorizedAccessException:Access to the registry key %KEYPATH% is denied.</p>\n\n<p>If I try to run the executable as an administrator, I get no error messages but nothing changes, variable is still set to \"1\". \nI also edited the permissions for that branch in registry for current user and even everyone, giving full access to that branch in the registry. This is the C# code I have</p>\n\n<pre><code>RegistryKey explorerAutoRestart;\nstring ear_keypath = @\"SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon\";\n\n//GETTING ACCESS ERROR HERE\nexplorerAutoRestart = Registry.LocalMachine.CreateSubKey(ear_keypath); \nswitch (status)\n{\n    case \"0\":\n        RegistryKey key = Registry.LocalMachine.CreateSubKey(@\"Software\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon\");\n        key.SetValue(\"AutoRestartShell\", 0x00000000, RegistryValueKind.DWord);\n        key.Close();\n        break;\n\n    case \"1\":\n        explorerAutoRestart.SetValue(\"AutoRestartShell\", 1, RegistryValueKind.DWord);\n        explorerAutoRestart.Close();\n        break;\n}\n</code></pre>\n\n<p>I would like to know what's causing this issue and how do I change the value of\nAutoRestartShell - REG_DWORD </p>\n\n<p>Changing CreateSUbKey to OpenSubKey(path, true) only changed the error to\n Requested registry access is not allowed.</p>\n\n<p>Perhaps Windows doesn't allow external editing for that branch? </p>\n"}, {"tags": ["c#", "powershell", "imap", "pop3"], "comments": [{"owner": {"reputation": 103396, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1482357962, "post_id": 41272525, "comment_id": 69746816, "body": "Why do you need to translate it to PowerShell? Why not just compile it and use it as is?"}, {"owner": {"reputation": 2594, "user_id": 172885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63c18b3d0059e9bc1b6763a8d4106bcf?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/172885/daniel"}, "edited": false, "score": 0, "creation_date": 1482358294, "post_id": 41272525, "comment_id": 69746974, "body": "How are you getting the id if you are not already connecting to the mailbox?"}], "answers": [{"comments": [{"owner": {"reputation": 304, "user_id": 7319673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e6291a8f2c65b198e37531474bb808?s=128&d=identicon&r=PG&f=1", "display_name": "DeepS1X", "link": "https://stackoverflow.com/users/7319673/deeps1x"}, "edited": false, "score": 0, "creation_date": 1482358103, "post_id": 41272714, "comment_id": 69746884, "body": "Thanks, I appreciate it. I&#39;m going to see if I can get it up and running."}], "tags": [], "owner": {"reputation": 341, "user_id": 7042269, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXPO0.jpg?s=128&g=1", "display_name": "AtomicFireball", "link": "https://stackoverflow.com/users/7042269/atomicfireball"}, "is_accepted": true, "score": 3, "last_activity_date": 1482357999, "creation_date": 1482357999, "answer_id": 41272714, "question_id": 41272525, "link": "https://stackoverflow.com/questions/41272525/deleting-emails-via-pop3-imap-in-powershell/41272714#41272714", "title": "Deleting emails via POP3/IMAP in Powershell", "body": "<p>It's not a full port to PowerShell, but you should be able to use the <code>Add-Type</code> cmdlet to add the C# source code, and call the methods within PowerShell.</p>\n\n<p>Copy the source code into a <code>$Source</code> variable.</p>\n\n<p>Add the referenced assemblies to an <code>$Assemblies</code> variable</p>\n\n<p>Use <code>Add-Type -TypeDefinition $Source -Language CSharp -ReferencedAssemblies $Assemblies</code></p>\n\n<p>Execute the methods with <code>[AE.Net.Mail.Pop3Client]::MethodName()</code></p>\n\n<p>Here's a good reading about using C# code in PowerShell on <a href=\"https://blogs.technet.microsoft.com/stefan_gossner/2010/05/07/using-csharp-c-code-in-powershell-scripts/\" rel=\"nofollow noreferrer\">Technet</a></p>\n"}], "owner": {"reputation": 304, "user_id": 7319673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e6291a8f2c65b198e37531474bb808?s=128&d=identicon&r=PG&f=1", "display_name": "DeepS1X", "link": "https://stackoverflow.com/users/7319673/deeps1x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "closed_date": 1482374227, "accepted_answer_id": 41272714, "answer_count": 1, "score": -2, "last_activity_date": 1482357999, "creation_date": 1482357214, "question_id": 41272525, "link": "https://stackoverflow.com/questions/41272525/deleting-emails-via-pop3-imap-in-powershell", "closed_reason": "Needs more focus", "title": "Deleting emails via POP3/IMAP in Powershell", "body": "<p>My question here is how exactly do I go about deleting emails by id in gmail utilizing POP3 or IMAP without utilizing Netcmdlets or another external dependency. If it helps, I have some C# code which does a variety of mailbox functions, but I have no idea how to translate it into Powershell because I have never worked with C# before.\n<a href=\"https://github.com/andyedinborough/aenetmail/blob/master/Pop3Client.cs\" rel=\"nofollow noreferrer\">https://github.com/andyedinborough/aenetmail/blob/master/Pop3Client.cs</a></p>\n"}, {"tags": ["c#", "json", "web-services", "rest", "json.net"], "comments": [{"owner": {"reputation": 9050, "user_id": 5281555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eA3SI.png?s=128&g=1", "display_name": "Maksim Simkin", "link": "https://stackoverflow.com/users/5281555/maksim-simkin"}, "edited": false, "score": 1, "creation_date": 1482358074, "post_id": 41272524, "comment_id": 69746871, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/18192357/deserializing-json-object-array-with-json-net\">Deserializing JSON Object Array with Json.net</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9050, "user_id": 5281555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eA3SI.png?s=128&g=1", "display_name": "Maksim Simkin", "link": "https://stackoverflow.com/users/5281555/maksim-simkin"}, "is_accepted": false, "score": 3, "last_activity_date": 1539963721, "last_edit_date": 1539963721, "creation_date": 1482357538, "answer_id": 41272608, "question_id": 41272524, "link": "https://stackoverflow.com/questions/41272524/newtonsoft-json-deserialize-issue-error-converting-value-to-type/41272608#41272608", "title": "Newtonsoft JSON Deserialize Issue [Error converting value to type]", "body": "<p>Your JSOn is not an object, but an array of objects, so you don't need a class to wrap the array, you should deserialize directly to array:</p>\n\n<pre><code>var Accounts = JsonConvert.DeserializeObject&lt;List&lt;AccountInfo&gt;&gt;(responseBody, \n               new JsonSerializerSettings\n                {\n                   NullValueHandling = NullValueHandling.Ignore\n                });\n</code></pre>\n\n<p>If you really want to have <code>JSONArray</code> object, you could create it and serialize to it's property. Just to mention: your <code>AccountInfo</code> property is private, you should change it to public to deserialize to it.</p>\n\n<pre><code>JSONArray Accounts = new JSONArray\n{\n    AccountsInfo = JsonConvert.DeserializeObject&lt;List&lt;AccountInfo&gt;&gt;(responseBody,\n           new JsonSerializerSettings\n           {\n             NullValueHandling = NullValueHandling.Ignore\n           })\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12976, "user_id": 3796048, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s49Fs.png?s=128&g=1", "display_name": "Mohit Shrivastava", "link": "https://stackoverflow.com/users/3796048/mohit-shrivastava"}, "is_accepted": false, "score": 3, "last_activity_date": 1482372129, "creation_date": 1482372129, "answer_id": 41274734, "question_id": 41272524, "link": "https://stackoverflow.com/questions/41272524/newtonsoft-json-deserialize-issue-error-converting-value-to-type/41274734#41274734", "title": "Newtonsoft JSON Deserialize Issue [Error converting value to type]", "body": "<p>The Deserialization output for the JSON is when trying with</p>\n\n<pre><code>JSONArray Accounts = JsonConvert.DeserializeObject&lt;JSONArray&gt;(json, new JsonSerializerSettings\n                           {\n                               NullValueHandling = NullValueHandling.Ignore\n                           });\n</code></pre>\n\n<p>is</p>\n\n<blockquote>\n  <p>Cannot deserialize the current JSON array (e.g. [1,2,3]) into type 'JustSO.JSONArray' because the type requires a JSON object (e.g. {\\\"name\\\":\\\"value\\\"}) to deserialize correctly. To fix this error either change the JSON to a JSON object (e.g. {\\\"name\\\":\\\"value\\\"}) or change the deserialized type to an array or a type that implements a collection interface (e.g. ICollection, IList) like List that can be deserialized from a JSON array. JsonArrayAttribute can also be added to the type to force it to deserialize from a JSON array.</p>\n</blockquote>\n\n<p>But if you try like this </p>\n\n<pre><code>List&lt;AccountInfo&gt; lc = JsonConvert.DeserializeObject&lt;List&lt;AccountInfo&gt;&gt;(json, new JsonSerializerSettings\n{\n    NullValueHandling = NullValueHandling.Ignore\n});\n</code></pre>\n\n<p>or </p>\n\n<pre><code>List&lt;AccountInfo&gt; lc = JsonConvert.DeserializeObject&lt;List&lt;AccountInfo&gt;&gt;(json);\n</code></pre>\n\n<p>will give you the resultant json into Object.</p>\n\n<p><a href=\"https://i.stack.imgur.com/33GtU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/33GtU.jpg\" alt=\"Attaching Screenshot\"></a> </p>\n"}], "owner": {"reputation": 826, "user_id": 3116761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ypD4v.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/3116761/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34483, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1539963721, "creation_date": 1482357210, "last_edit_date": 1530253278, "question_id": 41272524, "link": "https://stackoverflow.com/questions/41272524/newtonsoft-json-deserialize-issue-error-converting-value-to-type", "title": "Newtonsoft JSON Deserialize Issue [Error converting value to type]", "body": "<p>Utilizing C# Newtownsoft JSON libraries... I have run into this issue.</p>\n\n<p>To set the stage...</p>\n\n<p>I have this JSON from a RESTful Web Service:</p>\n\n<pre><code>[\n    {\n        \"CorporateArea\": \"Brampton\",\n        \"ServiceAddress\": \"321 Heart Lake Road\",\n        \"VendorName\": \"Enbridge Gas Distribution Inc\",\n        \"MeterNumber\": \"502105\",\n        \"RateClass\": \"NG-R6\",\n        \"Department\": \"22603\",\n        \"Account\": \"12008\",\n        \"VendorID\": \"0000001195\",\n        \"MeterLevelID\": 2882,\n        \"SiteAddressID\": 468,\n        \"MappingLocation\": \"Beckett Sproule\",\n        \"ElectricalBilling\": \"\",\n        \"EnergyLine\": \"\",\n        \"CorporateGroup\": \"Public Works\"\n    }\n]\n</code></pre>\n\n<p>I also have these C# classes:</p>\n\n<pre><code>public class AccountInfo\n{\n    [JsonProperty(\"Account\")]\n    public string Account { get; set; }\n\n    [JsonProperty(\"CorporateArea\")]\n    public string CorporateArea { get; set; }\n\n    [JsonProperty(\"CorporateGroup\")]\n    public string CorporateGroup { get; set; }\n\n    [JsonProperty(\"Department\")]\n    public string Department { get; set; }\n\n    [JsonProperty(\"ElectricalBilling\")]\n    public string ElectricalBilling { get; set; }\n\n    [JsonProperty(\"EnergyLine\")]\n    public string EnergyLine { get; set; }\n\n    [JsonProperty(\"MappingLocation\")]\n    public string MappingLocation { get; set; }\n\n    [JsonProperty(\"MeterLevelID\")]\n    public string MeterLevelID { get; set; }\n\n    [JsonProperty(\"MeterNumber\")]\n    public string MeterNumber { get; set; }\n\n    [JsonProperty(\"RateClass\")]\n    public string RateClass { get; set; }\n\n    [JsonProperty(\"ServiceAddress\")]\n    public string ServiceAddress { get; set; }\n\n    [JsonProperty(\"SiteAddressID\")]\n    public string SiteAddressID { get; set; }\n\n    [JsonProperty(\"VendorID\")]\n    public string VendorID { get; set; }\n\n    [JsonProperty(\"VendorName\")]\n    public string VendorName { get; set; }\n}\n\npublic class JSONArray {\n   public IList&lt;AccountInfo&gt; AccountsInfo { get; set; }\n}\n</code></pre>\n\n<p>From these, I call this Newtownsoft Method:</p>\n\n<pre><code>JSONArray Accounts = JsonConvert.DeserializeObject&lt;JSONArray&gt; (responseBody,\n   new JsonSerializerSettings\n   {\n      NullValueHandling = NullValueHandling.Ignore\n   });\n</code></pre>\n\n<p>But everytime I do so, I get the exception Newtonsoft.Json.JsonSerializationException\nwith the error message:</p>\n\n<blockquote>\n  <p>Error converting value \"[{\"CorporateArea\":\"Brampton\",\"ServiceAddress\":\"321 Heart Lake Road\",\"VendorName\":\"Enbridge Gas Distribution Inc\",\"MeterNumber\":\"502105\",\"RateClass\":\"NG-R6\",\"Department\":\"22603\",\"Account\":\"12008\",\"VendorID\":\"0000001195\",\"MeterLevelID\":2882,\"SiteAddressID\":468,\"MappingLocation\":\"Beckett Sproule\",\"ElectricalBilling\":\"\",\"EnergyLine\":\"\",\"CorporateGroup\":\"Public Works\"}]\" to type 'TestWebService_Consume.JSONArray'. Path '', line 1, position 421.</p>\n</blockquote>\n\n<p>I've tried messing with the JSON string so it's not an array, and casting it into a simple AccountsInfo object, it returns the same error.</p>\n\n<p>I must be doing something wrong, but it's been some time since I've worked with the Newtonsoft JSON libraries, so I'm at a loss of what could possible be the issue here.</p>\n"}, {"tags": ["c#", "wpf", "uwp"], "answers": [{"tags": [], "owner": {"reputation": 2027, "user_id": 349994, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5b42045d4bc82971b10af2e1190c9387?s=128&d=identicon&r=PG", "display_name": "Rick Hodder", "link": "https://stackoverflow.com/users/349994/rick-hodder"}, "is_accepted": false, "score": 0, "last_activity_date": 1482358176, "last_edit_date": 1495541321, "creation_date": 1482358176, "answer_id": 41272753, "question_id": 41272483, "link": "https://stackoverflow.com/questions/41272483/uwp-listen-keyboard-event-when-app-is-in-background/41272753#41272753", "title": "UWP: listen keyboard event when app is in background", "body": "<p>You will probably need to listen to the windows api, not just the currently open window, which since it is not active, is not receiving keypress events:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7251852/windows-api-handling-keypress-event-of-external-window-application-through-c-sh\">Windows API: handling keypress event of external window application through C#</a></p>\n"}], "owner": {"reputation": 2602, "user_id": 1745535, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/83215726bd19f47228c27842cd4d56ff?s=128&d=identicon&r=PG", "display_name": "Bing Lu", "link": "https://stackoverflow.com/users/1745535/bing-lu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 710, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482358176, "creation_date": 1482357048, "question_id": 41272483, "link": "https://stackoverflow.com/questions/41272483/uwp-listen-keyboard-event-when-app-is-in-background", "title": "UWP: listen keyboard event when app is in background", "body": "<p>I'm going to create a UWP app which provides sound effect for the keyboard keyUp/keyDown event.</p>\n\n<p>I wrote code below in <code>MainPage.xaml.cs</code>. It worked as expected when my app was in foreground but failed when it's minimized/in background.</p>\n\n<pre><code>Window.Current.CoreWindow.KeyDown +=\n    (window, e) =&gt;\n    {\n        MyMediaElement.Source = new Uri(this.BaseUri, currentSoundEffect.EnterKeyAudio;);\n    };\n</code></pre>\n\n<p>I know there's in-process/out-of-process background tasks that can be registered in my app. But as per this doc <a href=\"https://msdn.microsoft.com/en-us/windows/uwp/launch-resume/support-your-app-with-background-tasks\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/windows/uwp/launch-resume/support-your-app-with-background-tasks</a>, background tasks have to be triggered and can only be triggered by <code>System event triggers</code>, <code>Maintenance trigger</code> and <code>DeviceUseTrigger</code>.</p>\n\n<p>My questions are \n1. how could I listen keyboard event when my app is not in foreground?\n2. if I have to put the event handler(which plays audio) inside a background task, how could I trigger that task?</p>\n\n<p>Sorry if my questions don't make sense.</p>\n"}, {"tags": ["c#", "winforms", "drawing2d"], "comments": [{"owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "edited": false, "score": 0, "creation_date": 1482357164, "post_id": 41272440, "comment_id": 69746440, "body": "You need to handle the <b>Paint()</b> event of whatever control you want to draw on, and use the graphics supplied to you in that event via the <code>e.Graphics</code> parameter.  You can store information about what to draw at the Class level, then force the control to draw itself by calling its Refresh() method."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1482357198, "post_id": 41272440, "comment_id": 69746460, "body": "You have to use the Paint event of your container or form, and use the Graphic object that is supplied from that.  To update the drawing, you just call Invalidate() on the container.  In the paint event itself, you just draw the current state of things, so if you need to paint a token, your variable or list needs that information."}, {"owner": {"reputation": 51, "user_id": 6788172, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-pnnHzuslStE/AAAAAAAAAAI/AAAAAAAAAEE/bRA7jDM-9u4/photo.jpg?sz=128", "display_name": "Alex McKinney", "link": "https://stackoverflow.com/users/6788172/alex-mckinney"}, "edited": false, "score": 0, "creation_date": 1482358161, "post_id": 41272440, "comment_id": 69746916, "body": "I sort of understand what you are all saying but I have no clue how I am meant to implement it all into the code. I&#39;m pretty new to this type of stuff."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 6788172, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-pnnHzuslStE/AAAAAAAAAAI/AAAAAAAAAEE/bRA7jDM-9u4/photo.jpg?sz=128", "display_name": "Alex McKinney", "link": "https://stackoverflow.com/users/6788172/alex-mckinney"}, "edited": false, "score": 0, "creation_date": 1482358667, "post_id": 41272582, "comment_id": 69747133, "body": "I&#39;m not sure how to implement this into my current code, I&#39;m sort of a noob with this stuff."}, {"owner": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "reply_to_user": {"reputation": 51, "user_id": 6788172, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-pnnHzuslStE/AAAAAAAAAAI/AAAAAAAAAEE/bRA7jDM-9u4/photo.jpg?sz=128", "display_name": "Alex McKinney", "link": "https://stackoverflow.com/users/6788172/alex-mckinney"}, "edited": false, "score": 0, "creation_date": 1482359201, "post_id": 41272582, "comment_id": 69747346, "body": "I&#39;ve expanded my answer with a quick tutorial."}, {"owner": {"reputation": 51, "user_id": 6788172, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-pnnHzuslStE/AAAAAAAAAAI/AAAAAAAAAEE/bRA7jDM-9u4/photo.jpg?sz=128", "display_name": "Alex McKinney", "link": "https://stackoverflow.com/users/6788172/alex-mckinney"}, "edited": false, "score": 0, "creation_date": 1482359369, "post_id": 41272582, "comment_id": 69747419, "body": "Got it! Thanks for your help, the other page you linked was also very useful."}], "tags": [], "owner": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "is_accepted": true, "score": 1, "last_activity_date": 1482359178, "last_edit_date": 1495541321, "creation_date": 1482357418, "answer_id": 41272582, "question_id": 41272440, "link": "https://stackoverflow.com/questions/41272440/calling-a-function-that-involves-painteventargs-when-a-button-is-clicked/41272582#41272582", "title": "Calling a function that involves PaintEventArgs when a button is clicked", "body": "<p>Typically in a Windows Forms application where you want to do custom drawing, you either draw directly on a <code>Form</code> or <code>PictureBox</code> in the <code>Paint</code> event handler or create a subclass of <code>Control</code> in which you override the <code>OnPaint</code> method.  In the <code>Paint</code> event handler or <code>OnPaint</code>, you draw <em>everything</em> (i.e. not just one circle, but all the circles).  Then when your underlying data structure changes, indicating that you need a repaint, you call <code>Invalidate()</code> on the control, which marks it as needing redraw, and on the next pass through the event loop, your <code>Paint</code> event handler will run or your <code>OnPaint</code> method will be called.  Within that method, you'll have the <code>PaintEventArgs</code> object you need to get a <code>Graphics</code> object with which to do your drawing.  You don't want to \"draw once and forget\" (e.g. when a button is clicked) because there are all sorts of things that can cause your control to need to repaint itself.  See <a href=\"https://stackoverflow.com/questions/30419493/drawing-glitches-when-using-creategraphics-rather-than-paint-event-handler-for-c\">this question and answer</a> for more details on that.</p>\n\n<p><strong>Edit:</strong> here's some hand-holding in response to your comment.  (It was going to be a comment but it got too long.)</p>\n\n<p>If I assume for the moment that you're starting with a blank <code>Form</code> in Visual Studio's Windows Forms Designer, the quickest way to get going would just be to select the <code>Form</code>, and in VS's Properties pane, click the lightning bolt toolbar button to view the form's events.  Scroll down to the <code>Paint</code> event and double-click anywhere in the blank space to the right of the label.  That will wire up a <code>Paint</code> event handler for the form and take you to the newly added method in the form's code file.  Use the <code>PaintEventArgs</code> object called <code>e</code> to do your drawing.  Then, if you need to change what gets drawn upon some button click, in your click handler change the data that determine what gets drawn (e.g. positions and colors of of the playing pieces) and, when you're done, call <code>Invalidate()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2027, "user_id": 349994, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5b42045d4bc82971b10af2e1190c9387?s=128&d=identicon&r=PG", "display_name": "Rick Hodder", "link": "https://stackoverflow.com/users/349994/rick-hodder"}, "is_accepted": false, "score": 0, "last_activity_date": 1482357594, "creation_date": 1482357594, "answer_id": 41272618, "question_id": 41272440, "link": "https://stackoverflow.com/questions/41272440/calling-a-function-that-involves-painteventargs-when-a-button-is-clicked/41272618#41272618", "title": "Calling a function that involves PaintEventArgs when a button is clicked", "body": "<p>If you add a UserControl representing a single chip to your form, and override the OnPaint method and put the coloring code into that event, then the Graphics object will not be null when the Paint event fires.</p>\n\n<p>To kick off the paint of the UserControl, either call the Refresh method or InvalidateRectangle method - either will fire the OnPaint method.</p>\n\n<p>Make sure to call up the class hierarchy to the OnPaint first, to make sure that the background of the object is drawn first:</p>\n\n<pre><code>protected override void OnPaint(PaintEventArgs e) {\n    base.OnPaint(e);\n    Graphics g = e.Graphics;\n        Pen blue = new Pen(Color.Blue);\n        Pen red = new Pen(Color.Red);\n        Rectangle rect = new Rectangle(50 + ((x-1) * 100), 50, 50, 50);\n        g.DrawEllipse(blue, rect);\n\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 6788172, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-pnnHzuslStE/AAAAAAAAAAI/AAAAAAAAAEE/bRA7jDM-9u4/photo.jpg?sz=128", "display_name": "Alex McKinney", "link": "https://stackoverflow.com/users/6788172/alex-mckinney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1805, "favorite_count": 0, "accepted_answer_id": 41272582, "answer_count": 2, "score": 0, "last_activity_date": 1482359178, "creation_date": 1482356843, "last_edit_date": 1482356940, "question_id": 41272440, "link": "https://stackoverflow.com/questions/41272440/calling-a-function-that-involves-painteventargs-when-a-button-is-clicked", "title": "Calling a function that involves PaintEventArgs when a button is clicked", "body": "<p>Sorry if this has been asked before.</p>\n\n<p>I was working on a simple connect 4 game in C# windows forms as I haven't done any work involving graphics before. To do this I need the program to draw circles when a button is pressed however I don't know how to call the function to do so.</p>\n\n<pre><code>public void printToken(PaintEventArgs pe, int x)\n    {\n        Graphics g = pe.Graphics;\n        Pen blue = new Pen(Color.Blue);\n        Pen red = new Pen(Color.Red);\n\n        Rectangle rect = new Rectangle(50 + ((x-1) * 100), 50, 50, 50);\n        g.DrawEllipse(blue, rect);\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        printToken(null, 1);\n    }\n</code></pre>\n\n<p>The null in place is just a placeholder as obviously that will not work.</p>\n\n<p>Any and all help is appreciated.</p>\n"}, {"tags": ["c#", "emgucv"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 3562468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dNy0H.jpg?s=128&g=1", "display_name": "Atresmo", "link": "https://stackoverflow.com/users/3562468/atresmo"}, "is_accepted": false, "score": 2, "last_activity_date": 1486697144, "creation_date": 1486697144, "answer_id": 42150978, "question_id": 41272421, "link": "https://stackoverflow.com/questions/41272421/converting-from-vectorofpoint-to-vectorofpointf-for-contours-in-emgu/42150978#42150978", "title": "Converting from VectorOfPoint to VectorOfPointF for contours in Emgu", "body": "<p>It seems that the only way is to construct your VectorOfPointF from each of the VectorOfPoint in the contours object:</p>\n\n<pre><code>for (int i = 0; i &lt; contours.Size; i++)\n{\n    var contour = contours[i];\n    var vf = new PointF[vp.Size];\n    for (int ii = 0; ii &lt; contour.Size; ii++) vf[i] = new PointF(contour[ii].X, contour[ii].Y);\n    VectorOfPointF vvf = new VectorOfPointF(vf);\n    var c = new VectorOfPointF();\n    CvInvoke.ConvexHull(vvf, c, false, true);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52, "user_id": 2405805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a923b7b8c9c753f575e01a75d8a34bab?s=128&d=identicon&r=PG", "display_name": "digitalhigh", "link": "https://stackoverflow.com/users/2405805/digitalhigh"}, "is_accepted": false, "score": 0, "last_activity_date": 1582860651, "creation_date": 1582860651, "answer_id": 60444862, "question_id": 41272421, "link": "https://stackoverflow.com/questions/41272421/converting-from-vectorofpoint-to-vectorofpointf-for-contours-in-emgu/60444862#60444862", "title": "Converting from VectorOfPoint to VectorOfPointF for contours in Emgu", "body": "<p>A slighty updated version of @Atresmo's answer. We can just cast the Point to a PointF:</p>\n\n<pre><code>for (int i = 0; i &lt; contours.Size; i++)\n{\n    var contour = contours[i];\n    var vf = new PointF[contour.Size];\n    for (int ii = 0; ii &lt; contour.Size; ii++) vf[i] = contour[ii];\n    VectorOfPointF vvf = new VectorOfPointF(vf);\n    var c = new VectorOfPointF();\n    CvInvoke.ConvexHull(vvf, c, false, true);\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 1013480, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d46cf40e758eb755c200692c9e0d00ef?s=128&d=identicon&r=PG", "display_name": "Jorge Otero-Millan", "link": "https://stackoverflow.com/users/1013480/jorge-otero-millan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2292, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1582860651, "creation_date": 1482356777, "question_id": 41272421, "link": "https://stackoverflow.com/questions/41272421/converting-from-vectorofpoint-to-vectorofpointf-for-contours-in-emgu", "title": "Converting from VectorOfPoint to VectorOfPointF for contours in Emgu", "body": "<p>I am trying to find the convex hull of a contour with emgu 3.1</p>\n\n<p>It seems to be the case that FindContours only accepts a vectorOfVectorOfPoints (not pointsF). But then, convexhull requires a vectorOfPointF. Am I wrong? If I change contours to VectorOfVectorOfPointF I get a runtime error in the call to FindContours.</p>\n\n<p>How do you convert a VectorOfPoint to VectorOfPointF?\nIs there a better way to do it?</p>\n\n<p>Thanks!</p>\n\n<pre><code>using (var contours = new VectorOfVectorOfPoint())\nusing (Mat hierachy = new Mat())\n{\n\n    CvInvoke.FindContours(img, contours, hierachy, Emgu.CV.CvEnum.RetrType.External, Emgu.CV.CvEnum.ChainApproxMethod.ChainApproxSimple, new Point());\n            for (int i = 0; i &lt; contours.Size; i++)\n            {\n                var contour = contours[i];\n                var c = new VectorOfPointF();\n                CvInvoke.ConvexHull(contour, c, false, true);\n            }\n</code></pre>\n"}, {"tags": ["c#", "button", "click", "flowlayoutpanel"], "comments": [{"owner": {"reputation": 404, "user_id": 2929848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDJbX.png?s=128&g=1", "display_name": "Trey", "link": "https://stackoverflow.com/users/2929848/trey"}, "edited": false, "score": 0, "creation_date": 1482357465, "post_id": 41272350, "comment_id": 69746593, "body": "use the onclick event, in there you want to launch the form."}], "answers": [{"tags": [], "owner": {"reputation": 486, "user_id": 2837436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f681db246d383e5fa6b0a2fcc2ab370b?s=128&d=identicon&r=PG", "display_name": "Alicia", "link": "https://stackoverflow.com/users/2837436/alicia"}, "is_accepted": false, "score": 1, "last_activity_date": 1482357538, "creation_date": 1482357538, "answer_id": 41272607, "question_id": 41272350, "link": "https://stackoverflow.com/questions/41272350/buttons-in-flowlayoutpanel/41272607#41272607", "title": "Buttons in Flowlayoutpanel", "body": "<p>I think you want to add an event handler at runtime to a control, right?\nYou can do it this way:</p>\n\n<pre><code>btn.Click += new EventHandler(button_Click);\n</code></pre>\n\n<p>Then, you have to implement the method <code>button_Click</code> somewhere, with the correct signature:</p>\n\n<pre><code>private void button_Click(object sender, System.EventArgs e)\n{\n   // Do stuff\n   MyForm form = new MyForm();\n   form.Show();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "is_accepted": false, "score": 0, "last_activity_date": 1482358866, "last_edit_date": 1482358866, "creation_date": 1482357553, "answer_id": 41272610, "question_id": 41272350, "link": "https://stackoverflow.com/questions/41272350/buttons-in-flowlayoutpanel/41272610#41272610", "title": "Buttons in Flowlayoutpanel", "body": "<blockquote>\n  <p>I want to click on buttons and open a form.</p>\n</blockquote>\n\n<p>Wire up the <strong>Click()</strong> event for those buttons when you create them:</p>\n\n<pre><code>    private void Foo()\n    {\n        foreach (var Item in query.OrderBy(x=&gt; x.menu_sort))\n        {\n            var btn = new Button\n            {\n                Name = Item.menu_name,\n                Text = Item.menu_description,\n                Tag = Item.menu_name,\n                Size = new Size(107, 50),\n                Font = new Font(\"B Nazanin\",10)\n            };\n\n            btn.Click += Btn_Click;\n\n            MainPanel.Controls.Add(btn);\n        }\n    }\n\n    private void Btn_Click(object sender, EventArgs e)\n    {\n        Button btn = (Button)sender;\n        // now do something with \"btn\", maybe based on btn.Tag?\n    }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6544277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79237cb98e254d72f539f480a787519?s=128&d=identicon&r=PG&f=1", "display_name": "Amin .D", "link": "https://stackoverflow.com/users/6544277/amin-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482358866, "creation_date": 1482356474, "question_id": 41272350, "link": "https://stackoverflow.com/questions/41272350/buttons-in-flowlayoutpanel", "title": "Buttons in Flowlayoutpanel", "body": "<p>i add a button for each data row in a flowlayoutpanel with like</p>\n\n<pre><code>foreach (var Item in query.OrderBy(x=&gt; x.menu_sort))\n            {\n                var btn = new Button\n                {\n                    Name = Item.menu_name,\n                    Text = Item.menu_description,\n                    Tag = Item.menu_name,\n                    Size = new Size(107, 50),\n                    Font = new Font(\"B Nazanin\",10)\n                };\n\n                MainPanel.Controls.Add(btn);\n</code></pre>\n\n<p>-----> i want to click on buttons and open a form.  &lt;-----</p>\n"}, {"tags": ["c#", "multithreading", "race-condition"], "comments": [{"owner": {"reputation": 28846, "user_id": 327083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i8ttM.png?s=128&g=1", "display_name": "J...", "link": "https://stackoverflow.com/users/327083/j"}, "edited": false, "score": 3, "creation_date": 1482356341, "post_id": 41272291, "comment_id": 69746067, "body": "As in most cases, it&#39;s really important to be able to see the code you are using.  This question is a perfect candidate for a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1482356836, "post_id": 41272291, "comment_id": 69746278, "body": "Don&#39;t handle the synchronization yourself, just use a tool specifically designed to do the operation you&#39;re trying to perform, in this case, a <code>BlockingCollection</code>."}, {"owner": {"reputation": 1486, "user_id": 6871623, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/HtbWQ.jpg?s=128&g=1", "display_name": "Everyone", "link": "https://stackoverflow.com/users/6871623/everyone"}, "edited": false, "score": 0, "creation_date": 1482372449, "post_id": 41272291, "comment_id": 69750987, "body": "Using ManualResetEvent is not really recommended and it is hard to make it really work correctly. Use Monitor instead. If you wish you can use BlockingCollection which already contains blocking queue that manages synchronization for you."}], "answers": [{"tags": [], "owner": {"reputation": 102569, "user_id": 400547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bece78258b3847bca4ab1ee92ad92b88?s=128&d=identicon&r=PG", "display_name": "Jon Hanna", "link": "https://stackoverflow.com/users/400547/jon-hanna"}, "is_accepted": false, "score": 0, "last_activity_date": 1482370531, "creation_date": 1482370531, "answer_id": 41274547, "question_id": 41272291, "link": "https://stackoverflow.com/questions/41272291/threading-race-conditions-and-using-a-timer-to-wake-a-thread/41274547#41274547", "title": "Threading race conditions and using a timer to wake a thread", "body": "<p>Reset the <code>ManualResetEvent</code> <em>before</em> examining the queue, then don't go back to the point where you wait on the event until the queue has been drained. That way the worse thing a race can do is cause a single spurious check on an empty queue.</p>\n\n<p>Or since you're now going to be resetting it immediately, use an <code>AutoResetEvent</code> instead.</p>\n\n<p>Or indeed, if you can, use a <code>BlockingCollection</code> and let it handle the synchronisation for you.</p>\n"}], "owner": {"reputation": 85, "user_id": 6736957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e953e341f36657baa4e1cc9512af0c?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Jay", "link": "https://stackoverflow.com/users/6736957/frank-jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482370531, "creation_date": 1482356190, "last_edit_date": 1482356278, "question_id": 41272291, "link": "https://stackoverflow.com/questions/41272291/threading-race-conditions-and-using-a-timer-to-wake-a-thread", "title": "Threading race conditions and using a timer to wake a thread", "body": "<p>I have a C# console application with a consumer and a provider thread and a queue.  The consumer is in a perpetual loop, that is blocked by a manualresetevent. The provider thread puts an object into the queue and signals the manualrestevent to unblock.  The consumer receives the object from the queue, processes it and checks the queue for further objects.  If the queue is empty the consumer resets the manualresetevent.  </p>\n\n<p>The problem I've found is that between the time the consumer checks the queue and resets the manualresetevent, the provider may load the queue and send a set signal before before the manualresetevent is reset, thus hanging the application.</p>\n\n<p>I thought about using a timer to wake thread every few seconds to check the queue, is this a sound way to deal with this issue?</p>\n"}, {"tags": ["c#", "wpf", "shapes"], "answers": [{"comments": [{"owner": {"reputation": 36, "user_id": 7327646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/71780c973a346b487a4e09384cf422d2?s=128&d=identicon&r=PG&f=1", "display_name": "Xavier123456789", "link": "https://stackoverflow.com/users/7327646/xavier123456789"}, "edited": false, "score": 0, "creation_date": 1482426752, "post_id": 41272958, "comment_id": 69779174, "body": "Thank you Rick,  i didn&#39;t know anthing about DependencyProperties. I put that on top of my Todo list"}], "tags": [], "owner": {"reputation": 2027, "user_id": 349994, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5b42045d4bc82971b10af2e1190c9387?s=128&d=identicon&r=PG", "display_name": "Rick Hodder", "link": "https://stackoverflow.com/users/349994/rick-hodder"}, "is_accepted": false, "score": 0, "last_activity_date": 1482359196, "creation_date": 1482359196, "answer_id": 41272958, "question_id": 41272233, "link": "https://stackoverflow.com/questions/41272233/wpf-modifying-an-uielement-on-a-mouseenter-event/41272958#41272958", "title": "WPF Modifying an UIElement on a MouseEnter Event", "body": "<p>You may want to create a DependencyProperty on the form, that you can bind the visibility property of the button to. And then in the MouseEnter and MouseLeave of the border, and set the DependencyProperty. </p>\n"}, {"tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": true, "score": 1, "last_activity_date": 1482360200, "creation_date": 1482360200, "answer_id": 41273158, "question_id": 41272233, "link": "https://stackoverflow.com/questions/41272233/wpf-modifying-an-uielement-on-a-mouseenter-event/41273158#41273158", "title": "WPF Modifying an UIElement on a MouseEnter Event", "body": "<p>The Border class has no Children property but it has a Child property that you can cast to a Grid provided that the child of the Border is actually a Grid:</p>\n\n<pre><code>Border border = (Border)sender;\nGrid grid = border.Child as Grid;\nif (grid != null)\n{\n    Button button = grid.Children[0] as Button;\n    if(button != null)\n       button.Visibility = Visibility.Visible;\n}\n</code></pre>\n\n<p>This code should work if you are handling the MouseEnter event for the Border element and the Grid inside the Border contains a Button element. If you are handling the Grid's MouseEnter element you should of course cast the sender argument to a Grid directly.</p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 7327646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/71780c973a346b487a4e09384cf422d2?s=128&d=identicon&r=PG&f=1", "display_name": "Xavier123456789", "link": "https://stackoverflow.com/users/7327646/xavier123456789"}, "is_accepted": false, "score": 0, "last_activity_date": 1482473147, "last_edit_date": 1482473147, "creation_date": 1482426596, "answer_id": 41288430, "question_id": 41272233, "link": "https://stackoverflow.com/questions/41272233/wpf-modifying-an-uielement-on-a-mouseenter-event/41288430#41288430", "title": "WPF Modifying an UIElement on a MouseEnter Event", "body": "<p>I didn't think about doing mouseenter on the grid. It works like charm.\nI can now going on.</p>\n\n<pre><code>Grid sourceG = (Grid)sender;\nsourceG.Children[0].Visibility = Visibility.Visible;\n</code></pre>\n"}], "owner": {"reputation": 36, "user_id": 7327646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/71780c973a346b487a4e09384cf422d2?s=128&d=identicon&r=PG&f=1", "display_name": "Xavier123456789", "link": "https://stackoverflow.com/users/7327646/xavier123456789"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 41273158, "answer_count": 3, "score": 0, "last_activity_date": 1520354940, "creation_date": 1482355960, "last_edit_date": 1520354940, "question_id": 41272233, "link": "https://stackoverflow.com/questions/41272233/wpf-modifying-an-uielement-on-a-mouseenter-event", "title": "WPF Modifying an UIElement on a MouseEnter Event", "body": "<p>I use WPF. I've got a Grid inside a border and i would like to let show a button inside my grid (otherwise invisible) when a mouseEnter is fired. </p>\n\n<p>I'm able to drag this border around playing with e.GetPosition(myCanvas).X or Y to move the thing in an all.</p>\n\n<p>Now I try to access my button inside my Grid to let it show and i'm stuck.</p>\n\n<p>In my MouseEnter event I do :</p>\n\n<pre><code>UIElement source = (UIElement)sender;\n</code></pre>\n\n<p>But i can't \"dissociate\" the source ... there is no Children collection.</p>\n\n<p>Is there a way to do it ?</p>\n"}, {"tags": ["c#", "visual-studio", "visual-studio-2015", "code-generation"], "comments": [{"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1482356610, "post_id": 41272216, "comment_id": 69746198, "body": "You might be able to <a href=\"http://stackoverflow.com/questions/2903803/how-can-i-prevent-external-msbuild-files-from-being-cached-by-visual-studio-du\">disable the caching</a> and have things work like you want."}, {"owner": {"reputation": 3356, "user_id": 412416, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YGDZ3.png?s=128&g=1", "display_name": "Sean Werkema", "link": "https://stackoverflow.com/users/412416/sean-werkema"}, "reply_to_user": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1482357605, "post_id": 41272216, "comment_id": 69746649, "body": "I&#39;m looking for a solution that&#39;s a little sturdier than &quot;maybe you could try&quot; answers.  I&#39;ve experimented with the answer at that link, and a few others that I found on StackOverflow, and none that I&#39;ve found seem to work well enough to be usable for us."}, {"owner": {"reputation": 471, "user_id": 6169408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rbHif.jpg?s=128&g=1", "display_name": "asynchronos", "link": "https://stackoverflow.com/users/6169408/asynchronos"}, "edited": false, "score": 0, "creation_date": 1482430200, "post_id": 41272216, "comment_id": 69780973, "body": "How about, after generation, an nmake project in your (parent) solution executes msbuild on  the distinct (child) solution/project that you generated?"}, {"owner": {"reputation": 3356, "user_id": 412416, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YGDZ3.png?s=128&g=1", "display_name": "Sean Werkema", "link": "https://stackoverflow.com/users/412416/sean-werkema"}, "edited": false, "score": 0, "creation_date": 1482438808, "post_id": 41272216, "comment_id": 69785040, "body": "The .csproj and .cs files are not <i>fully</i> generated; some are created manually, and the code generator updates and adds files as necessary. (The .cs files make heavy use of <code>partial</code> classes, and our programmers know not to edit anything with a <code>.generated.cs</code> extension.)  So the .csproj and .cs files can&#39;t exist fully outside Visual Studio either, just managed by <code>msbuild</code> and <code>nmake</code>; they have to be normally-editable as part of the Solution too."}, {"owner": {"reputation": 471, "user_id": 6169408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rbHif.jpg?s=128&g=1", "display_name": "asynchronos", "link": "https://stackoverflow.com/users/6169408/asynchronos"}, "edited": false, "score": 0, "creation_date": 1482450189, "post_id": 41272216, "comment_id": 69789235, "body": "msbuild can build visual studio projects.  So I think you could still have a distinct child project/solution containing some generated and some manual content, which you kick off after generating in a parent solution.  I realize two VS solutions isn&#39;t as great as one."}], "owner": {"reputation": 3356, "user_id": 412416, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YGDZ3.png?s=128&g=1", "display_name": "Sean Werkema", "link": "https://stackoverflow.com/users/412416/sean-werkema"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1054, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1482355891, "creation_date": 1482355891, "question_id": 41272216, "link": "https://stackoverflow.com/questions/41272216/dynamically-update-csproj-during-visual-studio-build", "title": "Dynamically update .csproj during Visual Studio build", "body": "<p>We have a very complicated multi-stage build system:</p>\n\n<ol>\n<li>Auto-generate a ton of C# from XML.</li>\n<li>Compile C# with Visual Studio.</li>\n<li>Post-compile non-Microsoft-native languages like Sass and JavaScript.</li>\n<li>(<em>...more steps for database-oriented things...</em>)</li>\n</ol>\n\n<p>Importantly, in the first stage, a set of short XML files are transformed into C# files.  Various .csproj files are automatically updated to add any new C# files that were generated, and to remove any C# files that are no longer relevant.</p>\n\n<p>This has been the way our software has been built for many, many years, and it has been a big, big win for us.  More than a million lines of our code are automatically generated from only a few thousand lines of XML: Our overall design of using custom code generators definitely isn't going to change!</p>\n\n<hr>\n\n<p>However, the code-generation process lives <em>outside</em> Visual Studio, as a manual step.  We'd really like to integrate the code-generation process into the standard Visual Studio build.</p>\n\n<p>Our plan was to have the code generation run as a pre-build event on an otherwise-empty .csproj file, and it would generate the <em>next</em> .csproj file before Visual Studio had a chance to get to it (using Dependencies to control build order).</p>\n\n<p>Unfortunately, Visual Studio's build-caching logic defeats this:  <strong>One .csproj apparently can't modify another .csproj file during the build, because Visual Studio caches the second .csproj file's contents.</strong></p>\n\n<p>Visual Studio complains loudly if you try, with delightful inscrutable error messages and general glitchiness.</p>\n\n<hr>\n\n<p>So is there a way around this?  <strong>Is there a way to have substantial C# code generation as part of a Visual Studio build?</strong></p>\n\n<p>Or are we stuck with having it as a separate, manual process outside Visual Studio?</p>\n"}, {"tags": ["c#", "arrays", "image", "converter", "pdfsharp"], "comments": [{"owner": {"reputation": 8321, "user_id": 1213006, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/utGQE.jpg?s=128&g=1", "display_name": "rhughes", "link": "https://stackoverflow.com/users/1213006/rhughes"}, "edited": false, "score": 1, "creation_date": 1482356086, "post_id": 41272203, "comment_id": 69745937, "body": "Does this work with smaller images?"}, {"owner": {"reputation": 404, "user_id": 2929848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDJbX.png?s=128&g=1", "display_name": "Trey", "link": "https://stackoverflow.com/users/2929848/trey"}, "edited": false, "score": 0, "creation_date": 1482356131, "post_id": 41272203, "comment_id": 69745960, "body": "What line is throwing the error"}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "reply_to_user": {"reputation": 404, "user_id": 2929848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDJbX.png?s=128&g=1", "display_name": "Trey", "link": "https://stackoverflow.com/users/2929848/trey"}, "edited": false, "score": 2, "creation_date": 1482356230, "post_id": 41272203, "comment_id": 69746005, "body": "@Trey Below this line: <code>&#47;&#47;THIS IS WHERE IT BREAKS EVERY TIME</code>."}, {"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "reply_to_user": {"reputation": 8321, "user_id": 1213006, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/utGQE.jpg?s=128&g=1", "display_name": "rhughes", "link": "https://stackoverflow.com/users/1213006/rhughes"}, "edited": false, "score": 0, "creation_date": 1482356261, "post_id": 41272203, "comment_id": 69746023, "body": "@rhughes - I don&#39;t know.  My Task is to pull images from websites, so all the source is set up to do and work around that.  Haven&#39;t tried with any other images.  Rather, I should say that I&#39;m only working with one particular image from one particular website during testing."}, {"owner": {"reputation": 8321, "user_id": 1213006, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/utGQE.jpg?s=128&g=1", "display_name": "rhughes", "link": "https://stackoverflow.com/users/1213006/rhughes"}, "edited": false, "score": 0, "creation_date": 1482356411, "post_id": 41272203, "comment_id": 69746099, "body": "Can you try with other images to confirm whether the problem is the image itself, the size of the image or something else?"}, {"owner": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "edited": false, "score": 0, "creation_date": 1482356450, "post_id": 41272203, "comment_id": 69746114, "body": "Here&#39;s an easy image, the Microsoft logo: <a href=\"https://assets.onestore.ms/cdnfiles/external/uhf/long/9a49a7e9d8e881327e81b9eb43dabc01de70a9bb/images/microsoft-gray.png\" rel=\"nofollow noreferrer\">assets.onestore.ms/cdnfiles/external/uhf/long/&hellip;</a>"}, {"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "edited": false, "score": 0, "creation_date": 1482357118, "post_id": 41272203, "comment_id": 69746419, "body": "The Microsoft one worked fine.  One possible factor is obviously size.  It came out to just over 4k indexes - 1/100 of the other.  The other factor may be that the Microsoft image was a <code>.png</code> file, whereas my program will be looking for <code>.pdf</code>&#39;s...  I&#39;ll need to check other, smaller <code>.pdf</code>&#39;s from online to see if it&#39;s an array size thing - or just a problem with the particular one I was working on."}, {"owner": {"reputation": 404, "user_id": 2929848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDJbX.png?s=128&g=1", "display_name": "Trey", "link": "https://stackoverflow.com/users/2929848/trey"}, "edited": false, "score": 0, "creation_date": 1482357296, "post_id": 41272203, "comment_id": 69746501, "body": "Well I do feel like a dumb ass now :-)"}, {"owner": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "edited": false, "score": 0, "creation_date": 1482357329, "post_id": 41272203, "comment_id": 69746516, "body": "Well here&#39;s a dummy PDF with a small size: <a href=\"http://hypergrid.com/wp-content/uploads/2016/07/dummyPDF.pdf\" rel=\"nofollow noreferrer\">hypergrid.com/wp-content/uploads/2016/07/dummyPDF.pdf</a>"}, {"owner": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "edited": false, "score": 2, "creation_date": 1482357428, "post_id": 41272203, "comment_id": 69746568, "body": "Hold on, wait a sec, you&#39;re throwing the byte[] of a PDF at ImageConverter, correct?"}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "reply_to_user": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "edited": false, "score": 0, "creation_date": 1482357610, "post_id": 41272203, "comment_id": 69746651, "body": "Building off of @equalsk&#39;s comment, you should probably use the <a href=\"https://msdn.microsoft.com/en-us/library/system.drawing.imageconverter(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>helper functions</code></a> <code>CanConvertFrom</code> and <code>CanConvertTo</code> to verify the converter supports the formats you are working with before actually calling <code>ConvertFrom</code>."}, {"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "reply_to_user": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "edited": false, "score": 0, "creation_date": 1482357622, "post_id": 41272203, "comment_id": 69746660, "body": "@Equalsk - Correct.  That&#39;s the idea.  Manufacturers obviously place <code>.pdf</code>&#39;s online of their merchandise.  I&#39;m trying to retrieve that from online, and create a local copy.  Catch - I do this from multiple manufacturers at a time, so the end goal is to (potentially) grab several <code>.pdf</code>&#39;s from online, and Append them to a single <code>.pdf</code>.  It&#39;s a huge pain in the ass"}, {"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "edited": false, "score": 0, "creation_date": 1482357845, "post_id": 41272203, "comment_id": 69746775, "body": "I agree to some extent.  I think it has less to do with the fact that it&#39;s coming from a <code>.pdf</code> than it does the number of indices in the array.  If I can convert a <code>.png</code> to a <code>byte[]</code> and then the <code>byte[]</code> to an <code>Image</code>, there shouldn&#39;t be a difference if the <code>byte[]</code> is formed from a <code>.pdf</code>.  When getting the test <code>.pdf</code> from online, it&#39;s populates the array just fine, but it&#39;s 458,330 indices..."}, {"owner": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "edited": false, "score": 0, "creation_date": 1482358101, "post_id": 41272203, "comment_id": 69746882, "body": "Given that you download the whole PDF to then convert it to an image, I assume this is simply a matter of local storage rather than bandwidth?"}, {"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "edited": false, "score": 0, "creation_date": 1482358218, "post_id": 41272203, "comment_id": 69746941, "body": "Correct.  Bandwidth is not a factor at all.  I don&#39;t think the local storage is either at this point.  I&#39;m not trying to place a 20gb <code>.pdf</code> in the memory.  I&#39;m going to try with a couple different image types to try to get to the bottom of this..."}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1482358393, "post_id": 41272203, "comment_id": 69747024, "body": "Well, pdf is a complicated format that the <code>ImageConverter</code> would have to know how to render into an <code>Image</code>. Judging from your comments it apparently can do this, but it doesn&#39;t mean it will support <i>tomorrow&#39;s</i> version of PDF that is possibly entirely different despite having a <code>.pdf</code> extension. Also, I can also rename a <code>.exe</code> to <code>.png</code> and upload it to your site, or even upload an unknowingly corrupted file -- that&#39;s why I would use <code>CanConvertFrom</code> to verify your <code>byte</code>&#39;s actually form a known image format and aren&#39;t just garbage (to the converter)."}, {"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "edited": false, "score": 0, "creation_date": 1482358573, "post_id": 41272203, "comment_id": 69747095, "body": "Oh.  Didn&#39;t know that function did that.  Thanks Q"}], "answers": [{"tags": [], "owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "is_accepted": false, "score": 0, "last_activity_date": 1482360021, "creation_date": 1482360021, "answer_id": 41273122, "question_id": 41272203, "link": "https://stackoverflow.com/questions/41272203/byte-too-large-to-convert-to-system-drawing-image/41273122#41273122", "title": "Byte[ ] too large to convert to System.Drawing.Image?", "body": "<p>As is turns out, there is (at least not as far as my tests went) a limit to how many indices the <code>ImageConverter</code> will process to create a <code>System.Drawing.Image</code>.  </p>\n\n<p>However, there doesn't seem to be formatting restrictions.  I was trying to retrieve <code>.pdf</code> files from online, store them in my <code>byte[]</code>, and then place them in the <code>Image</code> variable.  Though I was successful in retrieving the <code>.pdf</code>, the converter doesn't seem to recognize the format of the contents of the array.  </p>\n\n<p>Notes:</p>\n\n<ol>\n<li>The original <strong><code>.pdf</code></strong> I retrieved created an array with <strong>458,330\nindices</strong> and would not process through the converter.</li>\n<li>The <strong><code>.png</code></strong> I retrieved created an array with <strong>4,054 indices</strong> and\n    processed correctly.</li>\n<li>A second <strong><code>.pdf</code></strong> was then used, creating an array with <strong>7,945 indices</strong>,\n    and would not process through the converter.</li>\n<li>Finally, a <strong><code>.jpg</code></strong> was used, creating an array with <strong>2,769,747\n    indices</strong>, and <em>processed correctly</em>.</li>\n</ol>\n\n<p>Because of these results, I believe that the problem lies in the file type being utilized - not the size of the file.  </p>\n\n<p>I have not found a solution to this problem yet, but when I do, I will edit this answer to reflect it for reference to those in need.</p>\n"}, {"tags": [], "owner": {"reputation": 18344, "user_id": 162529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWVD6.png?s=128&g=1", "display_name": "I liked the old Stack Overflow", "link": "https://stackoverflow.com/users/162529/i-liked-the-old-stack-overflow"}, "is_accepted": true, "score": 1, "last_activity_date": 1482477949, "creation_date": 1482477949, "answer_id": 41296990, "question_id": 41272203, "link": "https://stackoverflow.com/questions/41272203/byte-too-large-to-convert-to-system-drawing-image/41296990#41296990", "title": "Byte[ ] too large to convert to System.Drawing.Image?", "body": "<p>PDF files are vector files. It seems that the <code>ImageConverter</code> class cannot handle PDF files (judging from your self-answer; PDF files are much more than images and it makes sense that ImageConverter does not try to convert them). If it could, it would still fundamentally change the PDF content from vector to raster, losing the scalability and possibly leading to larger files.</p>\n\n<p>The best you can do to add pages from one PDF file to another is using the <code>XPdfForm</code> class. You can use the form object in calls to <code>DrawImage</code> like you draw raster images to PDF.</p>\n\n<p>Code snippet:<br>\n<code>XPdfForm form = XPdfForm.FromFile(filename);</code></p>\n\n<p>Sample code on the PDFsharp site:<br>\n<a href=\"http://pdfsharp.net/wiki/TwoPagesOnOne-sample.ashx\" rel=\"nofollow noreferrer\">http://pdfsharp.net/wiki/TwoPagesOnOne-sample.ashx</a></p>\n\n<p>JPG files are another special case your code should take care of. Converting JPG to PNG is possible, but makes no sense. PNG is a lossless format, JPG has losses but drastically reduces the file size. Converting from JPG to PNG leads in most cases to a larger file with JPEG artefacts.</p>\n\n<p>IMHO it is OK to use <code>ImageConverter</code> for other types beside PDF and JPG. It could be a good validation to see whether files are complete.<br>\nSince <code>XImage.FromStream</code> can handle several image formats (PNG, BMP, GIF, TIFF, JPG), this may not really add functionality beside the validation.</p>\n\n<p>While this does not really answer the question in your title, this is general advice on PDFsharp image handling/PDF image handling and you asked for related advice in your question.</p>\n"}], "owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "accepted_answer_id": 41296990, "answer_count": 2, "score": 0, "last_activity_date": 1482477949, "creation_date": 1482355827, "question_id": 41272203, "link": "https://stackoverflow.com/questions/41272203/byte-too-large-to-convert-to-system-drawing-image", "title": "Byte[ ] too large to convert to System.Drawing.Image?", "body": "<p>I'm trying to save an <code>Image</code> from a <code>Byte[]</code>, and I keep getting kicked out with <code>ArgumentException : Parameter is not valid</code>.  I'm wondering if the <code>Byte[]</code> is too large to convert.  Is there a limit?  </p>\n\n<h2>Code:</h2>\n\n<pre><code>private XImage[] GetImagesFromURL(List&lt;string&gt; lstCutSheetURLs)\n{\n    int itr = lstCutSheetURLs.Count;\n    XImage[] m_imgCutSheets = new XImage[itr];\n\n    using (var webClient = new WebClient())\n    {\n        for (int i = 0; i &lt; itr; i++)\n        {\n            var imageBytes = webClient.DownloadData(lstCutSheetURLs[i]);\n            if (imageBytes != null &amp;&amp; imageBytes.Length &gt; 0)\n            {\n                MemoryStream ms = new MemoryStream();\n                ImageConverter converter = new ImageConverter();\n\n                //\n                //THIS IS WHERE IT BREAKS EVERY TIME\n                Image img = (Image)converter.ConvertFrom(imageBytes);\n                //\n\n                img.Save(ms, System.Drawing.Imaging.ImageFormat.Png);\n                m_imgCutSheets[i] = XImage.FromStream(ms);\n            }\n        }\n    }\n\n    return m_imgCutSheets;\n}\n</code></pre>\n\n<p>The <code>Byte[]</code> ends up holding 458,330 indexes.  Is that way too many?  Is there a better way to get images from websites?  I've been looking all over trying to find things out, and now I'm here.</p>\n\n<p>Any articles / advice / answers are greatly appreciated!  Thanks.</p>\n"}, {"tags": ["c#", ".net", "sql-server", "excel"], "comments": [{"owner": {"reputation": 404, "user_id": 2929848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDJbX.png?s=128&g=1", "display_name": "Trey", "link": "https://stackoverflow.com/users/2929848/trey"}, "edited": false, "score": 0, "creation_date": 1482355557, "post_id": 41272098, "comment_id": 69745697, "body": "So what is the issue exactly?  Are you asking how to create a class?"}, {"owner": {"reputation": 23, "user_id": 5910168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/553b9c2550d631445b411808418ef00a?s=128&d=identicon&r=PG&f=1", "display_name": "King", "link": "https://stackoverflow.com/users/5910168/king"}, "reply_to_user": {"reputation": 404, "user_id": 2929848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDJbX.png?s=128&g=1", "display_name": "Trey", "link": "https://stackoverflow.com/users/2929848/trey"}, "edited": false, "score": 0, "creation_date": 1482355632, "post_id": 41272098, "comment_id": 69745742, "body": "Yes I need to create a class/Method separately for SQL Bulkcopy and just have to call that on page so that not use sql at page load."}, {"owner": {"reputation": 404, "user_id": 2929848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDJbX.png?s=128&g=1", "display_name": "Trey", "link": "https://stackoverflow.com/users/2929848/trey"}, "edited": false, "score": 0, "creation_date": 1482355741, "post_id": 41272098, "comment_id": 69745787, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/x9afc042.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/x9afc042.aspx</a>"}], "answers": [{"tags": [], "owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "is_accepted": true, "score": 0, "last_activity_date": 1482377779, "creation_date": 1482377779, "answer_id": 41275403, "question_id": 41272098, "link": "https://stackoverflow.com/questions/41272098/need-to-pass-a-connection-through-class-method/41275403#41275403", "title": "Need to pass a connection through class/Method", "body": "<p>I have had a lot of success using the <code>DbDataReader</code> object associated with a SQL command when bulk inserting data into SQL Server.  I've used it where the source data is a number of different DBMS platforms.  Admittedly, I've never done this with a spreadsheet as source, but I don't see any reason why it wouldn't work.</p>\n\n<p>This is untested, but it should get you a large part of the way there:</p>\n\n<pre><code>OleDbConnection Oledbconn = new OleDbConnection(excelConnString);\nOledbconn.Open();\nOleDbCommand cmd = new OleDbCommand(\"select * from [\" + sheetName + \"]\", Oledbconn);\nOleDbDataReader reader = cmd.ExecuteReader();\n\nSqlConnection conn = new SqlConnection(connectionString);\nconn.Open();\nSqlBulkCopy copy = new SqlBulkCopy(conn);\ncopy.BulkCopyTimeout = 120000;\ncopy.DestinationTableName = \"MyTable\";\n\n// presupposes the columns line up, as they do in your example\n\nfor (int i = 0; i &lt; reader.FieldCount; i++)\n    copy.ColumnMappings.Add(reader.GetName(i), reader.GetName(i));\n\ncopy.WriteToServer(reader);\n\nreader.Close();\nconn.Close();\nOledbconn.Close();\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5910168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/553b9c2550d631445b411808418ef00a?s=128&d=identicon&r=PG&f=1", "display_name": "King", "link": "https://stackoverflow.com/users/5910168/king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 41275403, "answer_count": 1, "score": -2, "last_activity_date": 1482377779, "creation_date": 1482355313, "last_edit_date": 1482355843, "question_id": 41272098, "link": "https://stackoverflow.com/questions/41272098/need-to-pass-a-connection-through-class-method", "title": "Need to pass a connection through class/Method", "body": "<p>I have to import excel to SQL db. I have written all code as below on upload button.</p>\n\n<p>But I have to write a class/method separately and not to write any sql at button click.</p>\n\n<p>Kindly help me I am new to programming</p>\n\n<p><strong>My Total Code:</strong></p>\n\n<pre><code>private void SaveFileToDatabase(string filePath)\n{\n    if (Path.GetExtension(filePath) == \".xls\")\n    {\n        excelConnString = String.Format(\"Provider=Microsoft.ACE.OLEDB.12.0;Data Source={0}; Extended Properties=\\\"Excel 12.0\\\"\", filePath);\n    }\n    else if (Path.GetExtension(filePath) == \".xlsx\")\n    {\n        excelConnString = String.Format(\"Provider=Microsoft.ACE.OLEDB.12.0;Data Source={0}; Extended Properties='Excel 12.0 Xml'\", filePath);\n    }\n\n    // Importing a file data to Database\n\n    // Create Connection to Excel work book \n    OleDbConnection Oledbconn = new OleDbConnection(excelConnString);\n    OleDbCommand cmd = new OleDbCommand();\n    cmd.Connection = Oledbconn;\n    OleDbDataAdapter da = new OleDbDataAdapter(cmd);\n    Oledbconn.Open();\n    DataTable dtSheet = Oledbconn.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);\n    Oledbconn.Close();\n\n    // iterate each sheet\n    foreach (System.Data.DataRow sheet in dtSheet.Rows)\n    {\n        Oledbconn.Open();\n        DataTable dt = new DataTable();\n        string sheetName = sheet[\"table_name\"].ToString();\n        cmd.CommandText = \"select * from [\" + sheetName + \"]\";\n        da.SelectCommand = cmd;\n        da.Fill(dt);\n        ISqlMapper sqlMapper = ApplicationContainer.Current.Resolve&lt;ISqlMapper&gt;(\"StageDB\");\n        ISqlMapSession SqlMapSession = sqlMapper.OpenConnection();\n        SqlMapSession.Connection.Open();\n\n        using (SqlBulkCopy sqlBulk = new SqlBulkCopy(SqlMapSession.Connection.ConnectionString))\n        {\n            // Destination table name.  Table name is sheet name minus any $\n            sqlBulk.DestinationTableName = sheetName.Replace(\"$\", \"\");\n            foreach (var column in dt.Columns)\n            {\n                sqlBulk.ColumnMappings.Add(column.ToString(), column.ToString());\n            }\n            sqlBulk.WriteToServer(dt);\n        }\n        Oledbconn.Close();\n        sqlMapper.CloseConnection();\n    }\n\n**The code which I have to make a class and just callhere:**\n\n    ISqlMapper sqlMapper = ApplicationContainer.Current.Resolve&lt;ISqlMapper&gt;(\"StageDB\");\n    ISqlMapSession SqlMapSession = sqlMapper.OpenConnection();\n    SqlMapSession.Connection.Open();\n    using (SqlBulkCopy sqlBulk = new SqlBulkCopy(SqlMapSession.Connection.ConnectionString))\n    {\n        // Destination table name.  Table name is sheet name minus any $\n        sqlBulk.DestinationTableName = sheetName.Replace(\"$\", \"\");\n        foreach (var column in dt.Columns)\n        {\n            sqlBulk.ColumnMappings.Add(column.ToString(), column.ToString());\n        }\n        sqlBulk.WriteToServer(dt);\n    }\n    Oledbconn.Close();\n    sqlMapper.CloseConnection();\n}\n</code></pre>\n"}, {"tags": ["c#", "setfocus", "windows-console", "forth"], "comments": [{"owner": {"reputation": 18353, "user_id": 337315, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/vNdBR.jpg?s=128&g=1", "display_name": "CodeLikeBeaker", "link": "https://stackoverflow.com/users/337315/codelikebeaker"}, "edited": false, "score": 0, "creation_date": 1482355810, "post_id": 41272078, "comment_id": 69745813, "body": "This what you are looking for? <a href=\"http://stackoverflow.com/questions/22779958/how-to-give-back-focus-from-console-window-in-c\" title=\"how to give back focus from console window in c\">stackoverflow.com/questions/22779958/&hellip;</a>"}, {"owner": {"reputation": 730, "user_id": 3969596, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/moeco.jpg?s=128&g=1", "display_name": "Lehs", "link": "https://stackoverflow.com/users/3969596/lehs"}, "reply_to_user": {"reputation": 18353, "user_id": 337315, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/vNdBR.jpg?s=128&g=1", "display_name": "CodeLikeBeaker", "link": "https://stackoverflow.com/users/337315/codelikebeaker"}, "edited": false, "score": 0, "creation_date": 1482356044, "post_id": 41272078, "comment_id": 69745912, "body": "@JasonHeine: thanks! I will see if I can make it work."}], "owner": {"reputation": 730, "user_id": 3969596, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/moeco.jpg?s=128&g=1", "display_name": "Lehs", "link": "https://stackoverflow.com/users/3969596/lehs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1128, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1482355832, "creation_date": 1482355195, "last_edit_date": 1482355832, "question_id": 41272078, "link": "https://stackoverflow.com/questions/41272078/changing-the-focus-back-to-the-console-window", "title": "Changing the focus back to the console window", "body": "<p>My knowledge of Windows programming is close to zero. But now I have made a Forth program running from the console in Windows which opening a primitive window for graphics. The problem is that I want to control the program by pressing keys, but when the program starts there is no focus on the console window, just on the graphic window.</p>\n\n<p>How do I change back focus? I guess I have to use some WINAPI, but which?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "razor", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1482354992, "post_id": 41272024, "comment_id": 69745427, "body": "you sure presenter == &quot;NEW&quot; is true?"}, {"owner": {"reputation": 9136, "user_id": 277480, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6bb742f3b8fe9f056902867762d79e58?s=128&d=identicon&r=PG", "display_name": "StealthRT", "link": "https://stackoverflow.com/users/277480/stealthrt"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1482355022, "post_id": 41272024, "comment_id": 69745441, "body": "@Steve yes sir. Had a break there and it does, indeed, follow that if path."}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1482355177, "post_id": 41272024, "comment_id": 69745518, "body": "try return View(&quot;~/Views/AddPresenter/Index&quot;). though I think redirect should work"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1482355220, "post_id": 41272024, "comment_id": 69745537, "body": "Unclear what your asking. If the value of <code>presenter</code>is <code>&quot;NEW&quot;</code> you will be redirected (assuming your not using ajax), other wise you return the current view. But your not returning a model in the <code>return View()</code> statement which may generate errors if your referencing its properties"}, {"owner": {"reputation": 9136, "user_id": 277480, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6bb742f3b8fe9f056902867762d79e58?s=128&d=identicon&r=PG", "display_name": "StealthRT", "link": "https://stackoverflow.com/users/277480/stealthrt"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1482355370, "post_id": 41272024, "comment_id": 69745602, "body": "@Steve Still goes to the current Index page."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1482355598, "post_id": 41272024, "comment_id": 69745722, "body": "And your redirect goes to the <code>AddPresenter()</code> method of <code>AddPresenterController</code> (not to an <code>Index</code> view)"}, {"owner": {"reputation": 302, "user_id": 2252962, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ab4b13340c4aac7324399ed78915543?s=128&d=identicon&r=PG", "display_name": "Jesse Moreland", "link": "https://stackoverflow.com/users/2252962/jesse-moreland"}, "edited": false, "score": 0, "creation_date": 1482356172, "post_id": 41272024, "comment_id": 69745979, "body": "return RedirectToAction(&quot;AddPresenter&quot;, &quot;AddPresenter&quot;, null); would redirect you to controller named &quot;AddPresenterController&quot; and the public method &quot;AddPresenter()&quot;.  It might be handy to give us a little more scope of your project. Other controllers, view hierarchy, etc."}, {"owner": {"reputation": 284, "user_id": 2638903, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036186197/picture?type=large", "display_name": "Scott Dobbins", "link": "https://stackoverflow.com/users/2638903/scott-dobbins"}, "edited": false, "score": 0, "creation_date": 1482357985, "post_id": 41272024, "comment_id": 69746832, "body": "Show us the entire Controller."}, {"owner": {"reputation": 194, "user_id": 2079097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c33c310abe16b66cad73b0c8a954a4ae?s=128&d=identicon&r=PG", "display_name": "Khalid", "link": "https://stackoverflow.com/users/2079097/khalid"}, "edited": false, "score": 0, "creation_date": 1482380694, "post_id": 41272024, "comment_id": 69752957, "body": "return RedirectToAction(&quot;Index&quot;, &quot;AddPresenter&quot;);  You want to redirect to action method of &quot;AddPresenter&quot; controller then you will write as above"}, {"owner": {"reputation": 9136, "user_id": 277480, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6bb742f3b8fe9f056902867762d79e58?s=128&d=identicon&r=PG", "display_name": "StealthRT", "link": "https://stackoverflow.com/users/277480/stealthrt"}, "reply_to_user": {"reputation": 284, "user_id": 2638903, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036186197/picture?type=large", "display_name": "Scott Dobbins", "link": "https://stackoverflow.com/users/2638903/scott-dobbins"}, "edited": false, "score": 0, "creation_date": 1482414199, "post_id": 41272024, "comment_id": 69770746, "body": "@Dobbins Added to the OP."}, {"owner": {"reputation": 9136, "user_id": 277480, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6bb742f3b8fe9f056902867762d79e58?s=128&d=identicon&r=PG", "display_name": "StealthRT", "link": "https://stackoverflow.com/users/277480/stealthrt"}, "reply_to_user": {"reputation": 302, "user_id": 2252962, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ab4b13340c4aac7324399ed78915543?s=128&d=identicon&r=PG", "display_name": "Jesse Moreland", "link": "https://stackoverflow.com/users/2252962/jesse-moreland"}, "edited": false, "score": 0, "creation_date": 1482414212, "post_id": 41272024, "comment_id": 69770759, "body": "@JesseMoreland Added to the OP."}, {"owner": {"reputation": 9136, "user_id": 277480, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6bb742f3b8fe9f056902867762d79e58?s=128&d=identicon&r=PG", "display_name": "StealthRT", "link": "https://stackoverflow.com/users/277480/stealthrt"}, "reply_to_user": {"reputation": 194, "user_id": 2079097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c33c310abe16b66cad73b0c8a954a4ae?s=128&d=identicon&r=PG", "display_name": "Khalid", "link": "https://stackoverflow.com/users/2079097/khalid"}, "edited": false, "score": 0, "creation_date": 1482414247, "post_id": 41272024, "comment_id": 69770784, "body": "@Khalid I just tried that (you can see it in my OP update) and it still loads up the Switchboard view."}], "answers": [{"comments": [{"owner": {"reputation": 9136, "user_id": 277480, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6bb742f3b8fe9f056902867762d79e58?s=128&d=identicon&r=PG", "display_name": "StealthRT", "link": "https://stackoverflow.com/users/277480/stealthrt"}, "edited": false, "score": 0, "creation_date": 1482414612, "post_id": 41279094, "comment_id": 69771035, "body": "That seems to produce the same error (And loading of the Switchboard View still)."}], "tags": [], "owner": {"reputation": 957, "user_id": 2100994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S6Dre.jpg?s=128&g=1", "display_name": "Stef Geysels", "link": "https://stackoverflow.com/users/2100994/stef-geysels"}, "is_accepted": false, "score": 1, "last_activity_date": 1482396617, "creation_date": 1482396617, "answer_id": 41279094, "question_id": 41272024, "link": "https://stackoverflow.com/questions/41272024/asp-net-mvc-5-loading-another-view-and-stopping-the-current-view/41279094#41279094", "title": "ASP.net MVC 5 Loading another view and stopping the current view", "body": "<p>I you want to load an other <code>view</code> you just pass the name of the view.</p>\n\n<p>e.g.:</p>\n\n<pre><code>if (presenter == \"NEW\")\n{\n    return View(\"AddPresenter\");\n} else \n{\n    return View();\n}\n</code></pre>\n\n<p>If presenter == \"NEW\", ASP.NET will search in \"Views\\NameOfTheController\".\nIf the given viewname does not exsists, the search will continue in \"Views\\Shared\".</p>\n\n<p>If presenter != \"NEW\", ASP.Net will follow the same rules to find the view. The standard viewname is the <code>ActionName</code> (or <code>Method</code> in the controller)</p>\n\n<p>If you want to redirect to an other controller, use <a href=\"https://msdn.microsoft.com/en-us/library/system.web.mvc.controller.redirecttoaction(v=vs.118).aspx#M:System.Web.Mvc.Controller.RedirectToAction%28System.String,System.String%29\" rel=\"nofollow noreferrer\">this</a> overload of <code>RedirectToAction</code>:</p>\n\n<pre><code>return RedirectToAction(\"Index\",\"NameOfTheController\");\n</code></pre>\n\n<p>This will bring you right to <code>/NameOfTheController/Index</code>.\nIn your case:</p>\n\n<pre><code>Return RedirectToAction(\"Index\",\"AddPresenter\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 302, "user_id": 2252962, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ab4b13340c4aac7324399ed78915543?s=128&d=identicon&r=PG", "display_name": "Jesse Moreland", "link": "https://stackoverflow.com/users/2252962/jesse-moreland"}, "is_accepted": false, "score": 1, "last_activity_date": 1482421012, "last_edit_date": 1482421012, "creation_date": 1482419862, "answer_id": 41286341, "question_id": 41272024, "link": "https://stackoverflow.com/questions/41272024/asp-net-mvc-5-loading-another-view-and-stopping-the-current-view/41286341#41286341", "title": "ASP.net MVC 5 Loading another view and stopping the current view", "body": "<p>This is your main controller, your switchboard:</p>\n\n<pre><code>namespace toolSwitchboard.Controllers\n{\n    public class SwitchboardController : Controller\n    {\n        // GET: Switchboard\n        public ActionResult Index()\n        {\n            ViewData[\"Message\"] = \"Your application description page for Switchboard.\";\n            ViewData[\"theYear\"] = DateTime.Now.Year.ToString();\n\n            getMainData();\n\n            return View();\n        }\n\n    public ActionResult getMainData()\n    {            \n        if (UnboundNewClass == \"NEW\")\n        {\n            return RedirectToAction(\"Index\", \"AddPresenter\"); //Will Redirect you to AddPresenterController.Index()\n        }\n        else\n        {\n            ViewBag.Admin = false;\n            ViewBag.AddP = false;\n            ViewBag.MyClasses = true;\n            ViewBag.Change = true;\n            ViewBag.New = false;\n            ViewBag.BTT = false;\n            ViewBag.Eval = false;\n            ViewBag.cup = false;\n            ViewBag.SCHEDULE = false;\n            ViewBag.Travel = false;\n\n            return View();\n        }\n    }\n\n    }\n}\n</code></pre>\n\n<p>Your AddPresenter Class:</p>\n\n<pre><code>public class AddPresenterController : Controller\n{\n    public ActionResult Index()\n    {\n        return View(); // Potentially put view name here as parameter\n    }\n}\n</code></pre>\n\n<p>Some things I want you to check for is that:</p>\n\n<p>1) You have a folder inside of your Views folder named AddPresenter. In order for a controller to access a view, it has to be in their own folder(Views->ControllerName) or in the shared folder under views.</p>\n\n<p>2) Inside of that Views->AddPresenter folder, you have a view named Index, If its not you need to pass the viewname into the Index Method of AddPresenters return.</p>\n\n<p>3) Your routes(AppStart->RouteConfig) have the default routes.</p>\n"}, {"tags": [], "owner": {"reputation": 9136, "user_id": 277480, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6bb742f3b8fe9f056902867762d79e58?s=128&d=identicon&r=PG", "display_name": "StealthRT", "link": "https://stackoverflow.com/users/277480/stealthrt"}, "is_accepted": true, "score": 0, "last_activity_date": 1482420513, "creation_date": 1482420513, "answer_id": 41286554, "question_id": 41272024, "link": "https://stackoverflow.com/questions/41272024/asp-net-mvc-5-loading-another-view-and-stopping-the-current-view/41286554#41286554", "title": "ASP.net MVC 5 Loading another view and stopping the current view", "body": "<p>Well I finally got it fixed. It was all caused by the <strong>return View();</strong> that was in the <strong>Switchboard ActionResult Index()</strong> method.</p>\n\n<p>Changing that code to this:</p>\n\n<pre><code>public ActionResult Index()\n{\n    ViewData[\"Message\"] = \"Your application description page for Switchboard.\";\n    ViewData[\"theYear\"] = DateTime.Now.Year.ToString();\n\n    return getMainData();\n}\n</code></pre>\n\n<p>Instead of this:</p>\n\n<pre><code>public ActionResult Index()\n{\n    ViewData[\"Message\"] = \"Your application description page for Switchboard.\";\n    ViewData[\"theYear\"] = DateTime.Now.Year.ToString();\n\n    getMainData();\n\n    return View();\n}\n</code></pre>\n\n<p>Did allow me to load up the <strong>AddPresenter</strong> View without the Switchboard View being loaded still and causing errors.</p>\n\n<p>Using <strong>return RedirectToAction(\"Index\", \"AddPresenter\");</strong> worked out of all the ones I had tried:</p>\n\n<pre><code>    if (UnboundNewClass == \"NEW\")\n    {\n        return RedirectToAction(\"Index\", \"AddPresenter\");\n    }\n    else\n    {\n        ViewBag.Admin = false;\n        ViewBag.AddP = false;\n        ViewBag.MyClasses = true;\n        ViewBag.Change = true;\n        ViewBag.New = false;\n        ViewBag.BTT = false;\n        ViewBag.Eval = false;\n        ViewBag.cup = false;\n        ViewBag.SCHEDULE = false;\n        ViewBag.Travel = false;\n\n        return View();\n    }\n</code></pre>\n\n<p>Thanks to all who provided help and incite! :o)</p>\n"}], "owner": {"reputation": 9136, "user_id": 277480, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6bb742f3b8fe9f056902867762d79e58?s=128&d=identicon&r=PG", "display_name": "StealthRT", "link": "https://stackoverflow.com/users/277480/stealthrt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1303, "favorite_count": 0, "accepted_answer_id": 41286554, "answer_count": 3, "score": -1, "last_activity_date": 1482421012, "creation_date": 1482354920, "last_edit_date": 1482417725, "question_id": 41272024, "link": "https://stackoverflow.com/questions/41272024/asp-net-mvc-5-loading-another-view-and-stopping-the-current-view", "title": "ASP.net MVC 5 Loading another view and stopping the current view", "body": "<p><strong>New to MVC</strong> so here is my question.</p>\n\n<p>I am wanting to load another view if the user falls into a category. As an example:</p>\n\n<pre><code>namespace toolSwitchboard.Controllers\n{\n    public class SwitchboardController : Controller\n    {\n        // GET: Switchboard\n        public ActionResult Index()\n        {\n            ViewData[\"Message\"] = \"Your application description page for Switchboard.\";\n            ViewData[\"theYear\"] = DateTime.Now.Year.ToString();\n\n            getMainData();\n\n            return View();\n        }\n\n    public ActionResult getMainData()\n    {            \n        if (UnboundNewClass == \"NEW\")\n        {\n            return RedirectToAction(\"Index\", \"AddPresenter\"); //Latest try\n        }\n        else\n        {\n            ViewBag.Admin = false;\n            ViewBag.AddP = false;\n            ViewBag.MyClasses = true;\n            ViewBag.Change = true;\n            ViewBag.New = false;\n            ViewBag.BTT = false;\n            ViewBag.Eval = false;\n            ViewBag.cup = false;\n            ViewBag.SCHEDULE = false;\n            ViewBag.Travel = false;\n\n            return View();\n        }\n    }\n    }\n}\n</code></pre>\n\n<p>I'm calling this code inside the <strong>public class SwitchboardController : Controller</strong>.</p>\n\n<p>Though doing the above does not seem to load the <strong>AddPresenter</strong> view and <em>still</em> loads the current View (which is called <strong>Switchboard</strong>). And of course it gets errors when loading the <strong>Switchboard</strong> view since I have some RAZOR code on the Index.cshtml page that it doesn't have any data for.</p>\n\n<p>I've tried:</p>\n\n<pre><code>return View(\"~/Views/AddPresenter/Index.cshtml\");\nreturn View(\"AddPresenter\", \"AddPresenter\");\nreturn View(\"../AddPresenter/Index\", \"AddPresenter\");\nreturn View(\"~/AddPresenter/Index\", \"AddPresenter\");\nreturn View(\"~/AddPresenter/Index\");\nreturn RedirectToAction(\"AddPresenter\", \"AddPresenter\", null);\nreturn RedirectToAction(\"Index\", \"AddPresenter\");\n</code></pre>\n\n<p>And none seem to work. They just load up the <strong>Switchboard</strong> Index.cshtml page instead of the needed <strong>AddPresenter</strong> Index.cshtml page.</p>\n\n<p>This is my Switchboard View where it has the error:</p>\n\n<pre><code>//More code above....\n&lt;div id=\"wrapper\"&gt;\n    &lt;div id=\"yellowArea\"&gt;\n        &lt;p class=\"boxStyle\"&gt;Presentation:&lt;/p&gt;\n        &lt;Button class=\"btn btn-primary btn-large btnCustom1\" id=\"NewT\"&gt;TRAVEL&lt;/Button&gt;\n        &lt;Button class=\"btn btn-primary btn-large btnCustom2\" id=\"NewE\"&gt;External&lt;/Button&gt;\n        &lt;Button class=\"btn btn-primary btn-large btnCustom3\" id=\"Credits\"&gt;Credits&lt;/Button&gt;\n\n        @if (ViewBag.BTT)\n        {\n            &lt;Button class=\"btn btn-primary btn-large btnCustom4\" id=\"BTT\"&gt;BTT&lt;/Button&gt;\n        }\n    &lt;/div&gt;\n    &lt;div id=\"clearArea1\"&gt;\n    //More code below....\n</code></pre>\n\n<p>The error is on the <strong>ViewBag.BTT</strong> line because I only set those if they are only going to view the <strong>Switchboard View</strong> and not the <strong>AddPresenter View</strong>.</p>\n\n<p>What kinds of things can I do in order to correct this the way I need to load the views?</p>\n"}, {"tags": ["c#", ".net", "dynamics-crm-2011", "dynamics-crm"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 4921230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f41f2488d3ce4a5010dfe8086e9a0368?s=128&d=identicon&r=PG&f=1", "display_name": "tacobell", "link": "https://stackoverflow.com/users/4921230/tacobell"}, "edited": false, "score": 0, "creation_date": 1482356103, "post_id": 41272089, "comment_id": 69745944, "body": "It says only public static members are thread safe. When using a CrmServiceClient instance to create an instance of XrmServiceContext would it not result in calls to some of the non-static instance members? Does the connection made by CrmServiceClient not close or timeout after some period of inactivity? My concern is if I reuse it do I need to check somehow if the connection is still open?"}, {"owner": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "reply_to_user": {"reputation": 61, "user_id": 4921230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f41f2488d3ce4a5010dfe8086e9a0368?s=128&d=identicon&r=PG&f=1", "display_name": "tacobell", "link": "https://stackoverflow.com/users/4921230/tacobell"}, "edited": false, "score": 0, "creation_date": 1482356231, "post_id": 41272089, "comment_id": 69746008, "body": "It says all constructors are thread safe: <a href=\"https://msdn.microsoft.com/en-gb/library/dn688177.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-gb/library/dn688177.aspx</a> Check your connection status: <a href=\"https://msdn.microsoft.com/en-gb/library/dn688177.aspx#Determine\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-gb/library/dn688177.aspx#Determine</a>"}, {"owner": {"reputation": 61, "user_id": 4921230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f41f2488d3ce4a5010dfe8086e9a0368?s=128&d=identicon&r=PG&f=1", "display_name": "tacobell", "link": "https://stackoverflow.com/users/4921230/tacobell"}, "edited": false, "score": 0, "creation_date": 1482356504, "post_id": 41272089, "comment_id": 69746142, "body": "I believe that IsReady is set to true when the initial connection request is successful. Could it not close/timeout after a successful connection after a long period of time?"}, {"owner": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "reply_to_user": {"reputation": 61, "user_id": 4921230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f41f2488d3ce4a5010dfe8086e9a0368?s=128&d=identicon&r=PG&f=1", "display_name": "tacobell", "link": "https://stackoverflow.com/users/4921230/tacobell"}, "edited": false, "score": 0, "creation_date": 1482357111, "post_id": 41272089, "comment_id": 69746414, "body": "In honesty I don&#39;t know for sure. The documentation just says that <code>IsReady</code> determines whether the service is ready for requests, it doesn&#39;t give specifics. I&#39;m not aware that the service times out, once you&#39;ve created the connection it&#39;s valid until closed/disposed. Unfortunately I don&#39;t have any documentation to show you on this."}], "tags": [], "owner": {"reputation": 7366, "user_id": 1958365, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/9eas5.png?s=128&g=1", "display_name": "Equalsk", "link": "https://stackoverflow.com/users/1958365/equalsk"}, "is_accepted": false, "score": 1, "last_activity_date": 1482355244, "creation_date": 1482355244, "answer_id": 41272089, "question_id": 41272005, "link": "https://stackoverflow.com/questions/41272005/crmserviceclient-reuse-or-connection-pooling-in-web-api-project/41272089#41272089", "title": "CrmServiceClient reuse or connection pooling in Web Api project", "body": "<p>It says in the <a href=\"https://msdn.microsoft.com/en-gb/library/microsoft.xrm.tooling.connector.crmserviceclient.aspx\" rel=\"nofollow noreferrer\">documentation for CrmServiceClient</a>:</p>\n\n<blockquote>\n  <p><strong>Thread Safety</strong><br>\n  Any public static (Shared in Visual Basic) members of this type <strong>are thread safe</strong>. Any instance members are not guaranteed to be thread safe.</p>\n</blockquote>\n\n<p>(Emphasis my own)</p>\n\n<p>I certainly use one static instance of CrmServiceClient throughout my applications and have never experienced an issue.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 4921230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f41f2488d3ce4a5010dfe8086e9a0368?s=128&d=identicon&r=PG&f=1", "display_name": "tacobell", "link": "https://stackoverflow.com/users/4921230/tacobell"}, "is_accepted": false, "score": 1, "last_activity_date": 1483730284, "last_edit_date": 1483730284, "creation_date": 1483729894, "answer_id": 41512689, "question_id": 41272005, "link": "https://stackoverflow.com/questions/41272005/crmserviceclient-reuse-or-connection-pooling-in-web-api-project/41512689#41512689", "title": "CrmServiceClient reuse or connection pooling in Web Api project", "body": "<p>I found that CrmServiceClient is thread-safe as stated here <a href=\"https://msdn.microsoft.com/en-us/library/dn688177.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/dn688177.aspx</a>: <em>All the calls to Dynamics 365 using the CrmServiceClient class are thread safe.</em></p>\n\n<p>In the application I am working on I have cached a single instance of CrmServiceClient which is used throughout the application. Before using it I check the IsReady property. This single instance is used to instantiate XrmServiceContext instances (in using blocks) throughout the application.</p>\n\n<p>Also, in my tests it appeared connection pooling was not something that was performed by CrmServiceClient. I did a test where I called an API endpoint 100 times and for each call the instantiation time of CrmServiceClient remained mostly the same. I could be wrong but I am thinking it does not perform connection pooling.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 4921230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f41f2488d3ce4a5010dfe8086e9a0368?s=128&d=identicon&r=PG&f=1", "display_name": "tacobell", "link": "https://stackoverflow.com/users/4921230/tacobell"}, "edited": false, "score": 0, "creation_date": 1487876897, "post_id": 42382723, "comment_id": 71993732, "body": "I don&#39;t have RequireNewInstance=true and it never seems to pool the connections. Interesting, do you have any sources?"}], "tags": [], "owner": {"reputation": 1, "user_id": 6901965, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PxkaSavDHkE/AAAAAAAAAAI/AAAAAAAACYU/__xnGSwGQSM/photo.jpg?sz=128", "display_name": "Stephan Smith", "link": "https://stackoverflow.com/users/6901965/stephan-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1487737646, "creation_date": 1487737646, "answer_id": 42382723, "question_id": 41272005, "link": "https://stackoverflow.com/questions/41272005/crmserviceclient-reuse-or-connection-pooling-in-web-api-project/42382723#42382723", "title": "CrmServiceClient reuse or connection pooling in Web Api project", "body": "<p>The connection is indeed pooled. It's common to use a single connection throughout an application, but it depends on what you want to accomplish. Adding \"RequireNewInstance=True\" to your connection string will create a new connection each time it's used. I typically only do this when I'm creating integrations where I need to push more data simultaneously.</p>\n"}], "owner": {"reputation": 61, "user_id": 4921230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f41f2488d3ce4a5010dfe8086e9a0368?s=128&d=identicon&r=PG&f=1", "display_name": "tacobell", "link": "https://stackoverflow.com/users/4921230/tacobell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2168, "favorite_count": 2, "answer_count": 3, "score": 3, "last_activity_date": 1487737646, "creation_date": 1482354825, "question_id": 41272005, "link": "https://stackoverflow.com/questions/41272005/crmserviceclient-reuse-or-connection-pooling-in-web-api-project", "title": "CrmServiceClient reuse or connection pooling in Web Api project", "body": "<p>I am trying to understand how to use CrmServiceClient of the CRM SDK in a Web Api project and want to confirm if my understanding is correct.</p>\n\n<p>Is it true that CrmServiceClient implements connection pooling? If so, is it valid to simply create a new instance per web-request as the overhead of creating a new connection will be mitigated by CrmServiceClient?</p>\n\n<p>Or should I use a single instance of CrmServiceClient throughout the entire application? I don't think this works because my understanding is it is not thread safe and eventually the connection will close (I think). </p>\n"}, {"tags": ["c#", "xml"], "answers": [{"tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": 1, "last_activity_date": 1482356476, "creation_date": 1482356476, "answer_id": 41272351, "question_id": 41271961, "link": "https://stackoverflow.com/questions/41271961/c-querying-xml-and-populating-a-multi-dimensional-object/41272351#41272351", "title": "C# - Querying XML and Populating a Multi Dimensional Object", "body": "<p>Try xml linq</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Xml;\nusing System.Xml.Linq;\n\n\nnamespace ConsoleApplication33\n{\n\n    class Program\n    {\n        const string FILENAME = @\"c:\\temp\\test.xml\";\n        static void Main(string[] args)\n        {\n            XDocument doc = XDocument.Load(FILENAME);\n\n            obj1.obj1s = doc.Descendants(\"YEAR\").Select(x =&gt; new obj1\n            {\n                year = (int)x.Attribute(\"NUMBER\"),\n                month = (int)x.Element(\"MONTH\").Attribute(\"NUMBER\")\n            }).ToList();\n\n        }\n\n    }\n    public class obj1\n    {\n        public static List&lt;obj1&gt; obj1s = new List&lt;obj1&gt;();\n        public int year { get; set; }\n        public int month { get; set; }\n\n\n    }\n\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6512, "user_id": 2238791, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/22e9c60b9c05421e69c0c02d4ad88edc?s=128&d=identicon&r=PG", "display_name": "Pankaj Kapare", "link": "https://stackoverflow.com/users/2238791/pankaj-kapare"}, "is_accepted": false, "score": 1, "last_activity_date": 1482356921, "creation_date": 1482356921, "answer_id": 41272455, "question_id": 41271961, "link": "https://stackoverflow.com/questions/41271961/c-querying-xml-and-populating-a-multi-dimensional-object/41272455#41272455", "title": "C# - Querying XML and Populating a Multi Dimensional Object", "body": "<p>You can store whole thing as List where Object is user defined type (class) which will have two properties i.e. Year and Months. Year property can be of type int while Months will be List. So essentially it will look like as below:</p>\n\n<pre><code>public class YearStats\n{\n    public int Year { get; set; }\n\n    public IList&lt;int&gt; Months { get; set; }\n\n    public YearStats()\n    {\n        Months = new List&lt;int&gt;();\n    }\n}\n</code></pre>\n\n<p>If you need to store data for days as well then you can change type of Months to IList. Again here object will be class whose definition will be on same lines as that of YearStats.</p>\n\n<p>And you can load data using following code snippet.</p>\n\n<pre><code>XElement doc = XElement.Load(\"Test.xml\");\n        IEnumerable&lt;XElement&gt; yearList =\n                                 from el in doc.Elements(\"YEAR\")\n                                select el;\n        List&lt;YearStat&gt; yearData = new List&lt;YearStat&gt;();\n\n        foreach (XElement yearEle in yearList)\n        {\n            YearStat year = new YearStat();\n\n            year.Year = int.Parse((string)yearEle.Attribute(\"NUMBER\"));\n\n            var monthList = yearEle.Elements(\"Month\");\n\n            List&lt;int&gt; monthData = new List&lt;int&gt;();\n\n            foreach(XElement monthEle in monthList)\n            {\n                monthData.Add(int.Parse((string)monthEle.Attribute(\"NUMBER\")));\n            }\n\n            year.Months = monthData;\n\n            yearData.Add(year);\n        }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1055, "user_id": 2683179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3a694541424ada818eaced5da59772f4?s=128&d=identicon&r=PG&f=1", "display_name": "LCaraway", "link": "https://stackoverflow.com/users/2683179/lcaraway"}, "edited": false, "score": 0, "creation_date": 1482358456, "post_id": 41272488, "comment_id": 69747049, "body": "I find this fascinating and am testing with it. Can you explain the <code>public Month() Months {get;set;}</code> and <code>public Year() Years {get;set;}</code>"}, {"owner": {"reputation": 486, "user_id": 2837436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f681db246d383e5fa6b0a2fcc2ab370b?s=128&d=identicon&r=PG", "display_name": "Alicia", "link": "https://stackoverflow.com/users/2837436/alicia"}, "reply_to_user": {"reputation": 1055, "user_id": 2683179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3a694541424ada818eaced5da59772f4?s=128&d=identicon&r=PG&f=1", "display_name": "LCaraway", "link": "https://stackoverflow.com/users/2683179/lcaraway"}, "edited": false, "score": 0, "creation_date": 1482358783, "post_id": 41272488, "comment_id": 69747175, "body": "Updated the post, I did a typo ;) I meant to declare properties that are respectively an array of Month objects and an array of Year objects. .NET deserialization should handle array serialization pretty well, take a look here for further help --&gt; <a href=\"https://msdn.microsoft.com/en-us/library/2baksw0z(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/2baksw0z(v=vs.110).aspx</a>"}, {"owner": {"reputation": 1055, "user_id": 2683179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3a694541424ada818eaced5da59772f4?s=128&d=identicon&r=PG&f=1", "display_name": "LCaraway", "link": "https://stackoverflow.com/users/2683179/lcaraway"}, "edited": false, "score": 0, "creation_date": 1482361920, "post_id": 41272488, "comment_id": 69748395, "body": "Still working through this but I am liking it. Thank you for showing me the way! Learned something new."}, {"owner": {"reputation": 486, "user_id": 2837436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f681db246d383e5fa6b0a2fcc2ab370b?s=128&d=identicon&r=PG", "display_name": "Alicia", "link": "https://stackoverflow.com/users/2837436/alicia"}, "reply_to_user": {"reputation": 1055, "user_id": 2683179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3a694541424ada818eaced5da59772f4?s=128&d=identicon&r=PG&f=1", "display_name": "LCaraway", "link": "https://stackoverflow.com/users/2683179/lcaraway"}, "edited": false, "score": 0, "creation_date": 1482362660, "post_id": 41272488, "comment_id": 69748610, "body": "Glad it helped :) go for it!!"}], "tags": [], "owner": {"reputation": 486, "user_id": 2837436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f681db246d383e5fa6b0a2fcc2ab370b?s=128&d=identicon&r=PG", "display_name": "Alicia", "link": "https://stackoverflow.com/users/2837436/alicia"}, "is_accepted": true, "score": 1, "last_activity_date": 1482358765, "last_edit_date": 1482358765, "creation_date": 1482357079, "answer_id": 41272488, "question_id": 41271961, "link": "https://stackoverflow.com/questions/41271961/c-querying-xml-and-populating-a-multi-dimensional-object/41272488#41272488", "title": "C# - Querying XML and Populating a Multi Dimensional Object", "body": "<p>If you were looking for flexibility and scalability, I would create specific classes for Month and Year objects. Besides, .NET makes XML serializing and deserializing XML an easier task, so not a great amount of code is required. If you are looking for performance, maybe a simpler object data type would be a better option.</p>\n\n<p>So, I would create something like this (this might be full of syntax errors, did it on notepad, sorry): </p>\n\n<pre><code>[Serializable()]\npublic class Production\n{\n    public Year[] Years {get;set;}\n}\n\n[Serializable()]\npublic class Year\n{\n    public int YearNumber {get;set;}\n\n    public int SomeData1 {get;set;}\n\n    public int SomeData2 {get;set;}\n\n    public Month[] Months {get;set;}\n}\n\n[Serializable()]\npublic class Month\n{\n    public int MonthNumber {get;set;}\n\n    public int SomeData1 {get;set;}\n\n    public int SomeData2 {get;set}\n\n    public Month()\n    {\n        // Default value for data - Although integer variables already default to 0,\n        // so there is no need to do this explicitly\n        this.SomeData1 = 0\n        this.SomeData2 = 0\n    }\n}\n</code></pre>\n\n<p>Two remarks:</p>\n\n<p>1) I would advise you to handle your month and year numbers as a numeric type, in order to be able to use it more easely from your code.</p>\n\n<p>2) I use the [Serializable()] attribute to mark my class as serializable, so then you should use a <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlserializer(v=vs.110).aspx\" rel=\"nofollow noreferrer\">XmlSerializer</a> object to achieve the querying and population of the object. Deserialization would look like something like this:</p>\n\n<pre><code>XmlSerializer serializer = new XmlSerializer(typeof(Production), new XmlRootAttribute (\"Production\"));\nFileStream fs = new FileStream(filename, FileMode.Open);\nProduction prod = (Production) serializer.Deserialize(fs);\n</code></pre>\n\n<p>Take a look at <a href=\"https://msdn.microsoft.com/en-us/library/182eeyhh(v=vs.110).aspx\" rel=\"nofollow noreferrer\">XML serialization with .NET</a> in general, you can make it as easy or as sophisticated as you want, it is a very powerful tool that the .NET framework provides. </p>\n"}, {"tags": [], "owner": {"reputation": 2105, "user_id": 5884037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sjyWD.jpg?s=128&g=1", "display_name": "blaze_125", "link": "https://stackoverflow.com/users/5884037/blaze-125"}, "is_accepted": false, "score": 1, "last_activity_date": 1482357084, "creation_date": 1482357084, "answer_id": 41272490, "question_id": 41271961, "link": "https://stackoverflow.com/questions/41271961/c-querying-xml-and-populating-a-multi-dimensional-object/41272490#41272490", "title": "C# - Querying XML and Populating a Multi Dimensional Object", "body": "<p>Seems like many of us are thinking of similar solutions...</p>\n\n<pre><code>using System.Collections.Generic;\nusing System.Linq;\nusing System.Xml.Linq;\n\nnamespace QueryingXML_41271961\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            string thePath = @\"M:\\StackOverflowQuestionsAndAnswers\\QueryingXML_41271961\\QueryingXML_41271961\\sample.xml\";\n\n            XDocument theXMLDoc = XDocument.Load(thePath);\n            List&lt;XElement&gt; theYears = theXMLDoc.Descendants(\"PRODUCTION\").Elements(\"YEAR\").ToList();\n            List&lt;InfoHolder&gt; mylist = new List&lt;InfoHolder&gt;();\n\n            foreach (XElement yearInXML in theYears)\n            {\n                InfoHolder ih = new InfoHolder();\n                ih.years = yearInXML.Attribute(\"NUMBER\").Value;\n\n                foreach (XElement monthsInYear in yearInXML.Elements(\"MONTH\"))\n                {\n                    if (ih.months == null)\n                    {\n                        ih.months = monthsInYear.Attribute(\"NUMBER\").Value;\n                    }\n                    else\n                    {\n                        ih.months += \",\" + monthsInYear.Attribute(\"NUMBER\").Value;\n                    }\n                }\n                mylist.Add(ih);\n            }\n            System.Diagnostics.Debugger.Break();\n        }\n    }\n\n    public class InfoHolder\n    {\n        public string years { get; set; }\n        public string months { get; set; }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1055, "user_id": 2683179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3a694541424ada818eaced5da59772f4?s=128&d=identicon&r=PG&f=1", "display_name": "LCaraway", "link": "https://stackoverflow.com/users/2683179/lcaraway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 41272488, "answer_count": 4, "score": 0, "last_activity_date": 1482358765, "creation_date": 1482354647, "last_edit_date": 1482356071, "question_id": 41271961, "link": "https://stackoverflow.com/questions/41271961/c-querying-xml-and-populating-a-multi-dimensional-object", "title": "C# - Querying XML and Populating a Multi Dimensional Object", "body": "<p>I need to be able to query an xml document such that I can populate an object with data that corresponds to its year and date. The XML will vary from time to time and if a value was not reported for a data point for that year/month then it is simply absent from the mark up. I would still like to populate my object for that month but insert a 0 for it. </p>\n\n<p>For example if an xml contains values for 2015 and months 1,2,4 in adition to the year 2016 months 3,4,5,6 I would need an object that can handle this variability and its multiple dimensions. I need something like <code>[[Year:2015, Months:[1,2,4]],[Year:2016, Months: [3,4,5,6]]]</code></p>\n\n<p>I suppose my question is really two parts. </p>\n\n<p>1) what is the best way to store data that can vary so much. Collection? List? Key Value Pair? Multi Dimensional Array? (I switch around from python and JavaScript a lot so I may have wrong terminology)</p>\n\n<p>2) how to query xml and to populate such an object. </p>\n\n<p><strong>OBJECT</strong></p>\n\n<pre><code>public class obj1 \n{\n    public string[] years { get; set; }\n    public string[] months { get; set; }\n\n\n}\n</code></pre>\n\n<p><strong>XML</strong></p>\n\n<pre><code>&lt;PRODUCTION_SET&gt;\n   &lt;ENTITY&gt;\n       &lt;METADATA&gt;\n       .\n       .\n       &lt;/METADATA&gt;\n       &lt;HEADER&gt;\n       .\n       .\n       &lt;/HEADER&gt;\n       &lt;PRODUCTION&gt;\n           &lt;YEAR NUMBER = \"2015\"&gt;\n               &lt;MONTH NUMBER = \"1\"&gt;\n                   &lt;DATA1&gt;&lt;/DATA1&gt;\n                   &lt;DATA2&gt;&lt;/DATA2&gt;\n               &lt;/MONTH&gt;\n               &lt;MONTH NUMBER = \"2\"&gt;\n                   &lt;DATA1&gt;&lt;/DATA1&gt;\n                   &lt;DATA2&gt;&lt;/DATA2&gt;\n               &lt;/MONTH&gt;\n               .\n               . \n               . \n           &lt;/YEAR&gt;\n           &lt;YEAR NUMBER = \"2016\"&gt;\n               &lt;MONTH NUMBER = \"1\"&gt;\n                   &lt;DATA1&gt;&lt;/DATA1&gt;\n                   &lt;DATA2&gt;&lt;/DATA2&gt;\n               &lt;/MONTH&gt;\n               &lt;MONTH NUMBER = \"2\"&gt;\n                   &lt;DATA1&gt;&lt;/DATA1&gt;\n                   &lt;DATA2&gt;&lt;/DATA2&gt;\n               &lt;/MONTH&gt;\n               .\n               . \n               . \n           &lt;/YEAR&gt;\n        &lt;/PRODUCTION&gt;\n    &lt;ENTITY&gt;\n&lt;/PRODUCTION_SET&gt;  \n</code></pre>\n\n<p><strong>QUERY</strong> </p>\n\n<pre><code>    public IEnumerable&lt;obj1&gt; queryProduction()\n    {\n         return this.doc.Root.Elements(\"PRODUCING_ENTITY\").Select(pe =&gt; new obj1{\n            foreach(var year in pe.Element(\"PRODUCTION\").Elements(\"YEAR\") .....?){\n            // do stuff to assign months to current year in object.\n            }\n\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["c#", "image", "imagesource"], "comments": [{"owner": {"reputation": 404, "user_id": 2929848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDJbX.png?s=128&g=1", "display_name": "Trey", "link": "https://stackoverflow.com/users/2929848/trey"}, "edited": false, "score": 0, "creation_date": 1482354833, "post_id": 41271926, "comment_id": 69745346, "body": "This is a dupe, but as previously stated, check out:<a href=\"http://blogs.microsoft.co.il/tamir/2007/09/09/how-to-use-imagesource-no-handler-in-winforms-as-systemdrawingbitmap-hbitmap/\" rel=\"nofollow noreferrer\">blogs.microsoft.co.il/tamir/2007/09/09/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 6871323, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/a52e8a26ef8bfbdb3577b6fa600d0e7b?s=128&d=identicon&r=PG", "display_name": "Damp", "link": "https://stackoverflow.com/users/6871323/damp"}, "is_accepted": false, "score": 0, "last_activity_date": 1482354781, "creation_date": 1482354781, "answer_id": 41271998, "question_id": 41271926, "link": "https://stackoverflow.com/questions/41271926/imagesource-to-system-drawing-image-c/41271998#41271998", "title": "ImageSource to System.Drawing.Image C#", "body": "<p>You don't need to convert your bitmap to a Graphics. Simply do: <code>Graphics.DrawImage(myBitmap, myPoint);</code>\nWhere myPoint is the coordinate to draw the image at.</p>\n"}], "owner": {"reputation": 859, "user_id": 1603332, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/7142b72347e3118b304c3c9da03b6e9b?s=128&d=identicon&r=PG", "display_name": "Display Name", "link": "https://stackoverflow.com/users/1603332/display-name"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1800, "favorite_count": 0, "closed_date": 1482358979, "answer_count": 1, "score": 0, "last_activity_date": 1482354781, "creation_date": 1482354485, "question_id": 41271926, "link": "https://stackoverflow.com/questions/41271926/imagesource-to-system-drawing-image-c", "closed_reason": "Duplicate", "title": "ImageSource to System.Drawing.Image C#", "body": "<p>In a C# application I have, I need to add an Imagesource to an existing Bitmap image.</p>\n\n<p>As far as I can see I have to use</p>\n\n<pre><code>Graphics g = Graphics.FromImage(myBitmap);\ng.DrawImage();\n</code></pre>\n\n<p>I get that for g.DrawImage() I have to convert my Imagesource to System.Drawing.Image, my question is how do I do this?</p>\n"}, {"tags": ["c#", "wcf", "dependency-injection", "ninject", "service-locator"], "comments": [{"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1482357791, "post_id": 41271881, "comment_id": 69746750, "body": "Whether or not the dependency on the container is [an anti-pattern](blog.ploeh.dk/2010/02/03/ServiceLocatorisanAnt&zwnj;&#8203;i-Pattern) or not depends on the <a href=\"http://blog.ploeh.dk/2011/08/25/ServiceLocatorrolesvs.mechanics/\" rel=\"nofollow noreferrer\">role it plays in your application</a>. In short: if the code that depends on the container is part of the <a href=\"http://blog.ploeh.dk/2011/07/28/CompositionRoot/\" rel=\"nofollow noreferrer\">Composition Root</a>, it is okay; otherwise it&#39;s a problem."}, {"owner": {"reputation": 101, "user_id": 3261503, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/da9735de00fd7b83d69034f1a022ce38?s=128&d=identicon&r=PG&f=1", "display_name": "Vilix", "link": "https://stackoverflow.com/users/3261503/vilix"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1482358123, "post_id": 41271881, "comment_id": 69746894, "body": "@Steven Thx, I read these articles, so I&#39;m here.  How I can  to refactor my existed code?"}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1482358269, "post_id": 41271881, "comment_id": 69746964, "body": "Your <code>ControllerProccessor</code> doesn&#39;t seem to have any business logic, so you can easily move that <code>ControllerProccessor</code> into your Composition Root; that  will solve the problem."}, {"owner": {"reputation": 101, "user_id": 3261503, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/da9735de00fd7b83d69034f1a022ce38?s=128&d=identicon&r=PG&f=1", "display_name": "Vilix", "link": "https://stackoverflow.com/users/3261503/vilix"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1482360260, "post_id": 41271881, "comment_id": 69747789, "body": "@Steven Thank you for trying to help. Is program.cs not composition root? I define ControllerProccesor in bindings and futher I use it only on constructors. And the fact that I use in the ControllerProccessor <code>return kernel.Get&lt;IControllerProccessor&gt;(Ctr.Vendor, param).sendMsg(msg);</code> is not considered as service locator?"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 3261503, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/da9735de00fd7b83d69034f1a022ce38?s=128&d=identicon&r=PG&f=1", "display_name": "Vilix", "link": "https://stackoverflow.com/users/3261503/vilix"}, "edited": false, "score": 0, "creation_date": 1482357292, "post_id": 41272125, "comment_id": 69746499, "body": "but how kernel.GetAll&lt;IControllerProccessor&gt;() put SimpleController entities to Ctr prop ? In proccesors I need work with SimpleController data&#39;s from DB."}], "tags": [], "owner": {"reputation": 181, "user_id": 1313979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DROE.jpg?s=128&g=1", "display_name": "ewassef", "link": "https://stackoverflow.com/users/1313979/ewassef"}, "is_accepted": false, "score": 0, "last_activity_date": 1482355493, "creation_date": 1482355493, "answer_id": 41272125, "question_id": 41271881, "link": "https://stackoverflow.com/questions/41271881/how-i-can-to-avoid-ioc-locator-in-next-case/41272125#41272125", "title": "How I can to avoid IoC locator in next case?", "body": "<p>Look at Dynamic module loading in their documentation. \ni.e.</p>\n\n<pre><code>    kernel.Load(\"*.dll\");\n</code></pre>\n\n<p>But make sure you do this at startup so you don't overwhelm your system at runtime. \nAs far as your pattern, I would recommend using the GetAll() method on the kernel as that will give you more flexibility and control</p>\n\n<pre><code>    IEnumerable&lt;IControllerProccessor&gt; processors = kernel.GetAll&lt;IControllerProccessor&gt;();\n    foreach(var processor in processors)\n        processor.sendMsg(....);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 3261503, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/da9735de00fd7b83d69034f1a022ce38?s=128&d=identicon&r=PG&f=1", "display_name": "Vilix", "link": "https://stackoverflow.com/users/3261503/vilix"}, "edited": false, "score": 0, "creation_date": 1482425971, "post_id": 41285416, "comment_id": 69778717, "body": "Thx, this is very similar to what I need. But when I put <code>kernel.Bind&lt;Func&lt;IEnumerable&lt;IControllerProcessor&gt;&gt;&gt;().ToCon&zwnj;&#8203;stant(vendorName =&gt; CreateSpecificControllerProcessor(kernel, vendorName));</code> I get Error: <code>The type arguments for method &#39;Ninject.Syntax.IBindingToSyntax&lt;System.Func&lt;System.Collecti&zwnj;&#8203;ons.Generic.IEnumera&zwnj;&#8203;ble&lt;wcfService.ICont&zwnj;&#8203;rollerProcessor&gt;&gt;&gt;.T&zwnj;&#8203;oConstant&lt;TImplement&zwnj;&#8203;ation&gt;(TImplementati&zwnj;&#8203;on)&#39; cannot be inferred from the usage. Try specifying the type arguments explicitly.</code>"}, {"owner": {"reputation": 101, "user_id": 3261503, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/da9735de00fd7b83d69034f1a022ce38?s=128&d=identicon&r=PG&f=1", "display_name": "Vilix", "link": "https://stackoverflow.com/users/3261503/vilix"}, "edited": false, "score": 0, "creation_date": 1482426542, "post_id": 41285416, "comment_id": 69779052, "body": "Also after thinking, I replace ControllerProcessor on IControllerProcessorFactory, see my post upd."}, {"owner": {"reputation": 12462, "user_id": 684096, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e36dacc3adba3063c2edebbc23d8177f?s=128&d=identicon&r=PG", "display_name": "BatteryBackupUnit", "link": "https://stackoverflow.com/users/684096/batterybackupunit"}, "reply_to_user": {"reputation": 101, "user_id": 3261503, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/da9735de00fd7b83d69034f1a022ce38?s=128&d=identicon&r=PG&f=1", "display_name": "Vilix", "link": "https://stackoverflow.com/users/3261503/vilix"}, "edited": false, "score": 0, "creation_date": 1482458044, "post_id": 41285416, "comment_id": 69791085, "body": "@Vilix yes sorry, made a mistake there It shouldn&#39;t have had the <code>IEnumerable</code> in the code (I was confused because I was looking at ewassefs answer). The solution you chose is exactly what i wanted to propse. The <code>Func</code> alternative is principially the same. As the factory interface is more explicit I&#39;d stick with the factory interface as you have chosen. Hint: it&#39;s best practice to use ctor-injection instead of doing <code>processor.Ctr = ctr</code>."}, {"owner": {"reputation": 12462, "user_id": 684096, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e36dacc3adba3063c2edebbc23d8177f?s=128&d=identicon&r=PG", "display_name": "BatteryBackupUnit", "link": "https://stackoverflow.com/users/684096/batterybackupunit"}, "reply_to_user": {"reputation": 101, "user_id": 3261503, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/da9735de00fd7b83d69034f1a022ce38?s=128&d=identicon&r=PG&f=1", "display_name": "Vilix", "link": "https://stackoverflow.com/users/3261503/vilix"}, "edited": false, "score": 0, "creation_date": 1482458422, "post_id": 41285416, "comment_id": 69791158, "body": "@Vilix this can be done by adding a <code>TypeMatchingConstructorArgument</code> to the <code>resolutionRoot.Get</code> call."}], "tags": [], "owner": {"reputation": 12462, "user_id": 684096, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e36dacc3adba3063c2edebbc23d8177f?s=128&d=identicon&r=PG", "display_name": "BatteryBackupUnit", "link": "https://stackoverflow.com/users/684096/batterybackupunit"}, "is_accepted": true, "score": 1, "last_activity_date": 1482457458, "last_edit_date": 1482457458, "creation_date": 1482416950, "answer_id": 41285416, "question_id": 41271881, "link": "https://stackoverflow.com/questions/41271881/how-i-can-to-avoid-ioc-locator-in-next-case/41285416#41285416", "title": "How I can to avoid IoC locator in next case?", "body": "<p><code>kernel.Get&lt;IControllerProccessor&gt;(Ctr.Vendor, param)</code> is service locator, \nbut then again that doesn't always mean \"it\" is a problem. If it's easily interchangable, then it's not a big deal (well at least that's the opinion of some). Easily interchangeable? Create a specific factory interface whose only responsibility is to return all the processors.\nThe implementation then would consist of exactly <code>return kernel.Get&lt;IControllerProccessor&gt;(Ctr.Vendor, param);</code>. As long as the implementation is part of the composition root this specfici dependency on ninject is ok.</p>\n\n<h2>Shorter Alternative</h2>\n\n<p>Now, to be honest, your design looks superfluosly complicated to me, but then again, i don't know all the details. So for now i'm just using the name parameter, but you can easily add parameters (almost) as you like, it'll still work:</p>\n\n<p>Just inject a <code>Func&lt;string, IControllerProcessor&gt;</code> instead of the kernel:</p>\n\n<pre><code>public ControllerProccessor(\n     Func&lt;string,IControllerProcessor&gt;&gt; controllerProcessorFactory)\n</code></pre>\n\n<p>You can then specfiy a binding as follows:</p>\n\n<pre><code>private static IControllerProcessor CreateSpecificControllerProcessor(\n    IResolutionRoot resolutionRoot, string vendorName)\n{\n    return resolutionRoot.Get&lt;IControllerProcessor&gt;(vendorName);\n}\n\nBind&lt;Func&lt;IControllerProcessor&gt;()\n    .ToConstant(vendorName =&gt; CreateSpecficiControllerProcessor(this.Kernel, vendorName));\n</code></pre>\n\n<p>Instead of specifying the Binding for the <code>Func</code> it <em>might</em> be possible to use <a href=\"https://github.com/ninject/Ninject.Extensions.Factory\" rel=\"nofollow noreferrer\">Ninject.Extensions.Factory</a>. Note however, that when you use this extension it won't be possible to <code>Bind</code> any <code>Func</code> manually anymore (the binding will be overriden by the extensions generation mechanism).</p>\n"}], "owner": {"reputation": 101, "user_id": 3261503, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/da9735de00fd7b83d69034f1a022ce38?s=128&d=identicon&r=PG&f=1", "display_name": "Vilix", "link": "https://stackoverflow.com/users/3261503/vilix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 41285416, "answer_count": 2, "score": 0, "last_activity_date": 1482457458, "creation_date": 1482354272, "last_edit_date": 1592644375, "question_id": 41271881, "link": "https://stackoverflow.com/questions/41271881/how-i-can-to-avoid-ioc-locator-in-next-case", "title": "How I can to avoid IoC locator in next case?", "body": "<p>In brief: I want resolve interface by prop in entity.\nI have self hosted wcf and use ninject for DI.\nMy working code for example:</p>\n<pre><code>//program.cs\n...\nprivate static StandardKernel CreateKernel()\n{\n    var kernel = new StandardKernel();\n\n    kernel.Bind&lt;IDbConnectionFactory&gt;().ToMethod(c =&gt;\n        new OrmLiteConnectionFactory(\n            conString, \n            SqlServerDialect.Provider))\n        .InSingletonScope();\n        \n    kernel.Bind&lt;IControllerProccessor&gt;().To&lt;ControllerProccessor&gt;()\n        .WhenInjectedInto&lt;HelloWorldService&gt;().WithConstructorArgument(kernel);\n        \n    kernel.Bind&lt;IControllerProccessor&gt;().To&lt;Vendor1Proccessor&gt;()\n        .Named(&quot;vendor1&quot;); \n        \n    kernel.Bind&lt;IControllerProccessor&gt;().To&lt;Vendor2Proccessor&gt;()\n        .Named(&quot;vendor2&quot;); \n\n    return kernel;\n}\n...\n\n//IControllerProccessor.cs\npublic interface IControllerProccessor\n{\n    SimpleController Ctr { get; set; }\n    bool sendMsg(string msg);\n}\n\n//Vendor1Proccessor.cs\npublic class Vendor1Proccessor : IControllerProccessor\n{\n    public SimpleController Ctr {get; set;}\n\n    public bool sendMsg(string msg)\n    {\n        //specific to vendor code, for example calls to vendor1 SDK\n        Console.WriteLine(&quot;Controller id: {0} vendor:{1} recivied msg: {2}&quot;,\n            Ctr.Id,\n            &quot;Vendor1Class&quot;,\n            msg);\n        return true;\n    }\n}\n\n//Vendor2Proccessor.cs\npublic class Vendor2Proccessor : IControllerProccessor\n{\n    public SimpleController Ctr { get; set; }\n\n    public bool sendMsg(string msg)\n    {\n        //specific to vendor code, for example calls to vendor1 SDK\n        Console.WriteLine(&quot;Controller id: {0} vendor:{1} recivied msg: {2}&quot;,\n            Ctr.Id,\n            &quot;Vendor2Class&quot;,\n            msg);\n        return true;\n    }\n}\n\n//ControllerProccessor.cs\npublic class ControllerProccessor : IControllerProccessor\n{\n    public SimpleController Ctr {get; set;}\n\n    private readonly IKernel kernel;\n\n    public ControllerProccessor(IKernel _kernel)\n    {\n        kernel = _kernel;\n    }\n\n    public bool sendMsg(string msg)\n    {\n        var param = new Ninject.Parameters.PropertyValue(&quot;Ctr&quot;, Ctr);\n        return kernel.Get&lt;IControllerProccessor&gt;(Ctr.Vendor, param).sendMsg(msg);\n    }\n}\n\n//HelloWorldService.cs\npublic class HelloWorldService : IHelloWorldService\n{\n    private readonly IDbConnectionFactory dbFactory;\n    private readonly IControllerProccessor ctrProccessor;\n\n    public HelloWorldService(IDbConnectionFactory _dbFactory, IControllerProccessor _ctrProccesor)\n    {\n        dbFactory = _dbFactory;\n        ctrProccessor = _ctrProccesor;\n    }\n\n    public bool sendMsgToAllControllers(string msg)\n    {\n        var db = dbFactory.Open();\n        var controllers = db.Select&lt;SimpleController&gt;();\n\n        foreach(var ctr in controllers)\n        {\n            ctrProccessor.Ctr = ctr;\n            ctrProccessor.sendMsg(msg);\n        }\n        db.Close();\n\n        return true;\n    }\n\n}\n\n//SimpleController.cs\n[DataContract]\n[Alias(&quot;SimpleController&quot;)]\npublic class SimpleController\n{\n    [AutoIncrement]\n    [DataMember]\n    public int? Id { get; set; }\n    [DataMember]\n    public string Vendor { get; set; }\n}\n</code></pre>\n<p>When I call sendMsgToAllControllers(&quot;TEST_MESSAGE&quot;) console output:</p>\n<pre><code>Controller id: 2 vendor:Vendor1Class recivied msg: TEST MESSAGE\nController id: 3 vendor:Vendor2Class recivied msg: TEST MESSAGE\nController id: 4 vendor:Vendor2Class recivied msg: TEST MESSAGE\n</code></pre>\n<p>How I can refactor above implementation so that it was in DI style, and dont use IoC locator anti-pattern (or in my case this is not anti-pattern) ?</p>\n<p>In future I will move implementations (vendor1, vendor2, etc..) in separate assembly and do runtime binding. (Here I want to plugin system)</p>\n<p>I also would appreciate any suggestions to improve my code. Very thanks.</p>\n<h1>Modification of implementation</h1>\n<p>After thinking process I came to the following:\nI remove ControllerProccessor class instead I create ControllerProcessorFactory:</p>\n<pre><code>public class ControllerProcessorFactory : IControllerProcessorFactory\n{        \n    private readonly IResolutionRoot resolutionRoot;\n\n    public ControllerProcessorFactory(IResolutionRoot _resolutionRoot)\n    {\n        resolutionRoot = _resolutionRoot;\n    }\n\n    public IControllerProcessor Create(SimpleController ctr)\n    {\n        IControllerProcessor processor = resolutionRoot.Get&lt;IControllerProcessor&gt;(ctr.Vendor);\n        processor.Ctr = ctr;\n        return processor;\n    }\n}\n</code></pre>\n<p>In Bindings:</p>\n<pre><code>kernel.Bind&lt;IControllerProcessorFactory&gt;().To&lt;ControllerProcessorFactory&gt;();\nkernel.Bind&lt;IControllerProcessor&gt;().To&lt;Vendor1Processor&gt;()\n    .Named(&quot;vendor1&quot;);\nkernel.Bind&lt;IControllerProcessor&gt;().To&lt;Vendor2Processor&gt;()\n    .Named(&quot;vendor2&quot;); \n</code></pre>\n<p>Usage (wcf class):</p>\n<pre><code>public class HelloWorldService : IHelloWorldService\n{\n    private readonly IDbConnectionFactory dbFactory;\n    private readonly IControllerProcessorFactory ctrProcessorFactory;\n\n    public HelloWorldService(IDbConnectionFactory _dbFactory, IControllerProcessorFactory _ctrProcFactory)\n    {\n        dbFactory = _dbFactory;\n        ctrProcessorFactory = _ctrProcFactory;\n    }\n\n    public bool sendMsgToAllControllers(string msg)\n    {\n        var db = dbFactory.Open();\n        var controllers = db.Select&lt;SimpleController&gt;();\n\n        foreach(var ctr in controllers)\n        {\n            var ctrProcessor = ctrProcessorFactory.Create(ctr);\n            ctrProcessor.sendMsg(msg);\n        }\n        db.Close();\n\n        return true;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "ms-access", "unity3d"], "comments": [{"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1482354792, "post_id": 41271814, "comment_id": 69745316, "body": "Database is client side or server side? If server side, you need to build a web service to be the middle man. If client side, you&#39;ll need to search for a cross-platform solution as opposed to using Access. Even then I am not sure what support unity actually has for working with the local solution."}], "answers": [{"tags": [], "owner": {"reputation": 1045, "user_id": 1914505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64d1b2aded6d937e61e433009a795d08?s=128&d=identicon&r=PG", "display_name": "Jerome Maurey-Delaunay", "link": "https://stackoverflow.com/users/1914505/jerome-maurey-delaunay"}, "is_accepted": false, "score": 0, "last_activity_date": 1482364623, "creation_date": 1482364623, "answer_id": 41273831, "question_id": 41271814, "link": "https://stackoverflow.com/questions/41271814/how-to-send-inforation-from-unity-to-access/41273831#41273831", "title": "How to send inforation from unity to access", "body": "<p>As highlighted by <a href=\"https://stackoverflow.com/users/359157/tycobb\">TyCobb</a> and <a href=\"http://answers.unity3d.com/questions/588527/connecting-to-access-database-via-c.html\" rel=\"nofollow noreferrer\">this post</a> local access to an access db is problematic without a server in the middle.</p>\n\n<p>As indicated in the linked post above, using an SQLite DB is best, with JSON data second. Both have loads of plugins available to help on the asset store.</p>\n"}], "owner": {"reputation": 13, "user_id": 4014256, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/IQa07.png?s=128&g=1", "display_name": "roei.meiri9", "link": "https://stackoverflow.com/users/4014256/roei-meiri9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501605671, "creation_date": 1482353996, "question_id": 41271814, "link": "https://stackoverflow.com/questions/41271814/how-to-send-inforation-from-unity-to-access", "title": "How to send inforation from unity to access", "body": "<p>An odd question.. what?</p>\n\n<p>Well.. What I mean by send Information to access, is that I want to recive in my access file, information from a mobile app that I build in unity, and these is ONLY and purely for research purposes...</p>\n\n<p>Is that even possible?</p>\n\n<p>I tried to find Information about this subject but it seems that I'm the only one interested in those numbers...</p>\n\n<p>Btw - what I need to send is numbers - floats and ints, and if It's possible, a small description of what those numbers means, if access can't tell me.</p>\n\n<p>And if there is a way, how?</p>\n\n<p>(Also, If i need to pay to a url or something I will do that).</p>\n\n<p>Thanks in advance,</p>\n\n<p>Roei Meiri.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 1, "creation_date": 1482354125, "post_id": 41271813, "comment_id": 69744968, "body": "The item can be &quot;removed&quot; by assigning a sentinel value (ie. null, and possibly sliding other values over), however <i>the size of an array cannot be changed in .NET</i>. A new array can be created .. and all this is to say, a <code>List</code> (or changing the mutable requirement) is probably what is being looked for. Internally a List uses arrays, creating larger arrays and sliding values as required."}, {"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 1, "creation_date": 1482354152, "post_id": 41271813, "comment_id": 69744979, "body": "Arrays don&#39;t work that way. You would need to copy the array (minus the removed element) to a new array that is one less in length. But that&#39;s horribly inefficient, which is why <code>List&lt;T&gt;</code> exists. Unless an array has a fixed length that isn&#39;t going to change, use <code>List</code> instead."}], "answers": [{"comments": [{"owner": {"reputation": 2659, "user_id": 2026276, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8wAi8.jpg?s=128&g=1", "display_name": "Bauss", "link": "https://stackoverflow.com/users/2026276/bauss"}, "edited": false, "score": 1, "creation_date": 1482354965, "post_id": 41271821, "comment_id": 69745411, "body": "List has a .Remove() that can be used."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 2659, "user_id": 2026276, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8wAi8.jpg?s=128&g=1", "display_name": "Bauss", "link": "https://stackoverflow.com/users/2026276/bauss"}, "edited": false, "score": 0, "creation_date": 1482355109, "post_id": 41271821, "comment_id": 69745478, "body": "@Bauss - if you already have the index then that should be used as its more efficient. So yes, it has a .Remove() method but RemoveAt is preferred in this case."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "reply_to_user": {"reputation": 2659, "user_id": 2026276, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8wAi8.jpg?s=128&g=1", "display_name": "Bauss", "link": "https://stackoverflow.com/users/2026276/bauss"}, "edited": false, "score": 0, "creation_date": 1482355462, "post_id": 41271821, "comment_id": 69745642, "body": "@Bauss That&#39;s true. They can also have duplicate items (though obviously not in this case), and anyway since we&#39;re identifying the item by index, I figured I&#39;d just run with that. But I added your suggestion as well."}], "tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": false, "score": 6, "last_activity_date": 1482355550, "last_edit_date": 1482355550, "creation_date": 1482354041, "answer_id": 41271821, "question_id": 41271813, "link": "https://stackoverflow.com/questions/41271813/removing-an-item-from-an-array-in-c/41271821#41271821", "title": "Removing an item from an array in C#", "body": "<p>You can't. Use <code>List&lt;object&gt;</code> instead. </p>\n\n<pre><code>var list = new List&lt;Object&gt; { 1, 2, 3, \"A\", \"B\", \"C\" };\n</code></pre>\n\n<p>or</p>\n\n<pre><code>var list = (new object[] { 1, 2, 3, \"A\", \"B\", \"C\" }).ToList();\n</code></pre>\n\n<p>Or even </p>\n\n<pre><code>var list = new List&lt;Object&gt;(new object[] { 1, 2, 3, \"A\", \"B\", \"C\" });\n</code></pre>\n\n<p>Then to remove an item (note that <code>Length</code> changes to <code>Count</code>):</p>\n\n<pre><code>int idx = rand.Next(0, list.Count);\n\nobject item = list[idx];\n\nlist.RemoveAt(idx);\n</code></pre>\n\n<p>There's also a Remove method:</p>\n\n<pre><code>list.Remove(item);\n</code></pre>\n\n<p>In a case where you know there are no duplicates in the list (like this one), that's fine too. </p>\n\n<p>The closest you could come to \"removing\" an item from an array is to create a new array without it -- certainly not worth the trouble. </p>\n\n<p><code>List&lt;T&gt;</code> is much more versatile than arrays, so we generally use it instead. </p>\n"}, {"tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": false, "score": 1, "last_activity_date": 1482354244, "creation_date": 1482354244, "answer_id": 41271874, "question_id": 41271813, "link": "https://stackoverflow.com/questions/41271813/removing-an-item-from-an-array-in-c/41271874#41271874", "title": "Removing an item from an array in C#", "body": "<p>You have to destroy (forget) and recreate the array.</p>\n\n<pre><code>Random rand = new Random();\nvar list = new object[] { 1, 2, 3, \"A\", \"B\", \"C\" };\nvar index = rand.Next(0, list.Length);\nobject item = list[index];\nlist = list.Where((x, y) =&gt; y != index).ToArray(); // create new array and reassign to the existing reference\nreturn item;\n</code></pre>\n\n<p>There is no good reason to do this though, use a <code>List&lt;T&gt;</code> instead. Here is that same code using a <code>List&lt;object&gt;</code></p>\n\n<pre><code>Random rand = new Random();\nvar list = new List&lt;object&gt; { 1, 2, 3, \"A\", \"B\", \"C\" };\nvar index = rand.Next(0, list.Count);\nobject item = list[index];\nlist.RemoveAt(index);\nreturn item;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 452, "user_id": 7317569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Az0Qg.jpg?s=128&g=1", "display_name": "pizzaslice", "link": "https://stackoverflow.com/users/7317569/pizzaslice"}, "is_accepted": false, "score": 0, "last_activity_date": 1482354886, "last_edit_date": 1482354886, "creation_date": 1482354303, "answer_id": 41271893, "question_id": 41271813, "link": "https://stackoverflow.com/questions/41271813/removing-an-item-from-an-array-in-c/41271893#41271893", "title": "Removing an item from an array in C#", "body": "<p>As others mentioned you cannot \"delete\" from an array (changing its size) but you can instead assign an array object (i.e. list[0] = null) and check for null while processing the array.</p>\n\n<p>Arrays are nice but truly Lists are so much more flexible and allow the \"Remove' method. Add items using List.Add(\"item\") and remove using List.Remove(\"item\"). It allows most of the other array functionality for most basic usage too including List.Count, List.Distinct, List[numeral], etc.</p>\n"}, {"tags": [], "owner": {"reputation": 285, "user_id": 7042984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/775a212b3e2afa2ad7c20d08dd96e3ee?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle Rone", "link": "https://stackoverflow.com/users/7042984/kyle-rone"}, "is_accepted": false, "score": 0, "last_activity_date": 1482354347, "creation_date": 1482354347, "answer_id": 41271903, "question_id": 41271813, "link": "https://stackoverflow.com/questions/41271813/removing-an-item-from-an-array-in-c/41271903#41271903", "title": "Removing an item from an array in C#", "body": "<p>To build off of what @Ed Plunkett said. I would change your code to this:</p>\n\n<pre><code>Random rand = new Random();\nvar list = new List&lt;object&gt; { 1, 2, 3, \"A\", \"B\", \"C\" };\nobject item = list[rand.Next(0, list.Count - 1)];\n</code></pre>\n\n<p>Then you call the Remove method to remove the object.</p>\n\n<pre><code>list.Remove(object);\n</code></pre>\n\n<p>Sidenote: Note that I changed your parameters for the rand.Next method. If you set the max possible number to be the number of items in the list, you could potentially hit an IndexOutOfBounds exception. Lists use a zero based index, so if you have 45 items in the list, the last one would actually be at index 44.</p>\n"}, {"tags": [], "owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "is_accepted": false, "score": 0, "last_activity_date": 1482354777, "last_edit_date": 1482354777, "creation_date": 1482354410, "answer_id": 41271913, "question_id": 41271813, "link": "https://stackoverflow.com/questions/41271813/removing-an-item-from-an-array-in-c/41271913#41271913", "title": "Removing an item from an array in C#", "body": "<p>If you need a collection with dynamic length (i.e. length that potentially changes because items are added and/or removed) then you should use <code>List&lt;T&gt;</code>. So your code could be something like:</p>\n\n<pre><code>Random rand = new Random();\nvar list = new List&lt;object&gt; { 1, 2, 3, \"A\", \"B\", \"C\" };\nvar idx = rand.Next(0, list.Count);\nobject item = list[idx];\nlist.RemoveAt(idx);\n</code></pre>\n\n<p>Arrays are supposed to be fixed length. If you need to modify the length on an array you would have to create a new array (with the updated length) and copy all the elements (minus the removed item) into the new array. This is very inefficient. There aren't too many cases where an array is a better choice than a <code>List</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1482355259, "last_edit_date": 1495539952, "creation_date": 1482354867, "answer_id": 41272011, "question_id": 41271813, "link": "https://stackoverflow.com/questions/41271813/removing-an-item-from-an-array-in-c/41272011#41272011", "title": "Removing an item from an array in C#", "body": "<p>Java has a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Vector.html\" rel=\"nofollow noreferrer\">dynamic array class</a>, which it seems like is sort of what you want, but C# doesn't have a \"built-in\" exact equivalent; the closest equivalent is <code>List&lt;T&gt;</code> (see <a href=\"https://stackoverflow.com/questions/594853/dynamic-array-in-c-sharp\">this answer</a> for more details).</p>\n\n<p>Keep in mind how an array works \"under the hood\" (and I'm simplifying here a little) - when you allocate it, the runtime \"knows\" to lay out a certain number of consecutive memory spaces. In C/C++ (and decedent languages are generally doing something similar), the runtime's storing a pointer/reference to the first item in the array. You can then calculate the memory address of an arbitrary item in the array in constant time - for example, if the first address is 1000 and addresses are 32 bits, the 3rd item will be at address <code>1000 + (2 * 32) = 1064</code>.</p>\n\n<p>Incidentally, that's why arrays are indexed at zero - the address of the first item in the array is the pointer/reference to the beginning of the array plus zero offset.</p>\n\n<p>The issue, then, is if you deleted some item in the middle of the array the memory locations would no longer be consecutive. If you delete someArray[3] and then tried to access that later, what exactly should happen? Should it become <code>null</code>, become a <em>de facto</em> uninitialized memory location, or contain whatever used to be at <code>someArray[4]</code>?</p>\n"}, {"tags": [], "owner": {"reputation": 2659, "user_id": 2026276, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8wAi8.jpg?s=128&g=1", "display_name": "Bauss", "link": "https://stackoverflow.com/users/2026276/bauss"}, "is_accepted": false, "score": 1, "last_activity_date": 1482354931, "creation_date": 1482354931, "answer_id": 41272027, "question_id": 41271813, "link": "https://stackoverflow.com/questions/41271813/removing-an-item-from-an-array-in-c/41272027#41272027", "title": "Removing an item from an array in C#", "body": "<p>There's some misinformation here. I agree with that you should use a list, however people forget that a list just wraps around arrays.</p>\n\n<p>Basically you can remove from an array like this:</p>\n\n<pre><code>void Remove&lt;T&gt;(ref T[] source, T value)\n    where T : IComparable\n{\n    var newArray = new T[source.Length];\n    var index = 0;\n\n    foreach (var item in source)\n    {\n        if (item.CompareTo(value) == 0) continue;\n\n        newArray[index]  = item;\n        index++;\n    }\n\n    Array.Resize(ref newArray, index);\n    source = newArray;\n}\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>var array = new[] { 1, 2, 3, 4 };\n\nRemove(ref array, 2);\n\narray.Dump();\n</code></pre>\n\n<p>It's not pretty, but neither are lists behind the scene, because arrays aren't using dynamic allocations in .NET.</p>\n"}], "owner": {"reputation": 25, "user_id": 5285440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0ef44a09766537e46ae49c1539a820?s=128&d=identicon&r=PG&f=1", "display_name": "Lenny G", "link": "https://stackoverflow.com/users/5285440/lenny-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16760, "favorite_count": 0, "closed_date": 1482355595, "answer_count": 7, "score": -1, "last_activity_date": 1482355550, "creation_date": 1482353996, "question_id": 41271813, "link": "https://stackoverflow.com/questions/41271813/removing-an-item-from-an-array-in-c", "closed_reason": "Duplicate", "title": "Removing an item from an array in C#", "body": "<pre><code> Random rand = new Random();\n        var list = new object[] { 1, 2, 3, \"A\", \"B\", \"C\" };\n        object item = list[rand.Next(0, list.Length)];\n</code></pre>\n\n<p>I want to return <strong>item</strong> then remove it from <strong>list[]</strong></p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 1, "creation_date": 1482354073, "post_id": 41271810, "comment_id": 69744937, "body": "<code>I tried and it doesn&#39;t seem to work.</code> What do you mean by <code>not working</code>? Do you get unexpected result? an exception?"}, {"owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 0, "creation_date": 1482354083, "post_id": 41271810, "comment_id": 69744944, "body": "you should use <code>Batch</code> instead. how ever that&#39;s in MoreLinq library. get it from github"}, {"owner": {"reputation": 4670, "user_id": 2658159, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7ca457ff473ed766a9c140f9956c910a?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Thomas", "link": "https://stackoverflow.com/users/2658159/aaron-thomas"}, "edited": false, "score": 0, "creation_date": 1482355154, "post_id": 41271810, "comment_id": 69745500, "body": "I agree this is a duplicate, but wanted to point out there are other ways to do this apart from using a 3rd party tool - search on <a href=\"http://stackoverflow.com/search?q=%5Bc%23%5D+split+array\">stackoverflow.com/search?q=%5Bc%23%5D+split+array</a>"}, {"owner": {"reputation": 4670, "user_id": 2658159, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7ca457ff473ed766a9c140f9956c910a?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron Thomas", "link": "https://stackoverflow.com/users/2658159/aaron-thomas"}, "edited": false, "score": 0, "creation_date": 1482355208, "post_id": 41271810, "comment_id": 69745530, "body": "Also check out Buffer.BlockCopy, which may assist with this - great performance with standard libraray."}], "owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "closed_date": 1482354183, "answer_count": 0, "score": 0, "last_activity_date": 1482353967, "creation_date": 1482353967, "question_id": 41271810, "link": "https://stackoverflow.com/questions/41271810/splitting-a-byte-array-in-smaller-chunks-of-equal-size", "closed_reason": "Duplicate", "title": "splitting a byte array in smaller chunks of equal size", "body": "<p>I have a static function in my  class <code>ExMessage</code>. The purpose of this function is to split a byte array <code>payload</code> into smaller chunks and call it constructor for each chunk.Does <code>Take()</code> return successive bytes of size <code>MAX_PAYLOAD_SIZE</code>. I tried and it doesn't seem to work.</p>\n\n<pre><code>public static List&lt;ExMessage&gt; CreateMessages(byte[] payload, int sequence_number)\n{\n    if (payload.Length &gt; MAX_PAYLOAD_SIZE)\n    {\n        byte[] chunks = payload.Take(MAX_PAYLOAD_SIZE).ToArray();\n\n        var Message = new ExMessage(chunks, 1, 1);\n        List&lt;ExMessage&gt; arr = new List&lt;ExMessage&gt;();\n        arr.Insert(0,Message);\n        return arr;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "retry-logic"], "comments": [{"owner": {"reputation": 535, "user_id": 5569485, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZcEvA.jpg?s=128&g=1", "display_name": "Eric Phillips", "link": "https://stackoverflow.com/users/5569485/eric-phillips"}, "edited": false, "score": 0, "creation_date": 1482354080, "post_id": 41271796, "comment_id": 69744942, "body": "If you don&#39;t need to access <code>sc</code> later, you could do new <code>Retry.Do(() =&gt; new SomeClass().SomeFunctionThatCanFail(), TimeSpan.FromSeconds(1));</code>"}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 1, "creation_date": 1482354649, "post_id": 41271796, "comment_id": 69745244, "body": "&quot;where Constructor Can Throw&quot; sounds fishy to me. Yes constructor may throw but has to be something seriously wrong. Not something that might work on a 2nd try"}, {"owner": {"reputation": 37143, "user_id": 517852, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9XmOJ.jpg?s=128&g=1", "display_name": "Mike Zboray", "link": "https://stackoverflow.com/users/517852/mike-zboray"}, "edited": false, "score": 0, "creation_date": 1482355463, "post_id": 41271796, "comment_id": 69745643, "body": "What&#39;s wrong with putting the entire block into the lambda expression?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1482355518, "post_id": 41271796, "comment_id": 69745677, "body": "The supposition of the question is that the ctor can throw; presumably there is no way to <i>prevent</i> the ctor from throwing because if there was, you&#39;d do it and then you wouldn&#39;t need to retry. But the additional supposition of the question is that <i>doing the same thing again will not throw</i>.  So, you have a ctor that throws unpredictably.  Don&#39;t put a bandaid on that code; delete it and write a ctor that behaves predictably."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1482356043, "post_id": 41271796, "comment_id": 69745911, "body": "@EricLippert I was actually going to link <a href=\"https://blogs.msdn.microsoft.com/ericlippert/2008/09/10/vexing-exceptions/\" rel=\"nofollow noreferrer\">Vexing exceptions</a>, in my post lol...."}, {"owner": {"reputation": 126, "user_id": 1087065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3962f1b9643dc1cabf45e50ef3fe6216?s=128&d=identicon&r=PG", "display_name": "utsavized", "link": "https://stackoverflow.com/users/1087065/utsavized"}, "edited": false, "score": 1, "creation_date": 1482361737, "post_id": 41271796, "comment_id": 69748339, "body": "Exponential backoff is a good retry strategy than simply trying x number of times. You can use a library like Polly to implement it."}], "answers": [{"tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": false, "score": 3, "last_activity_date": 1482354672, "creation_date": 1482354672, "answer_id": 41271968, "question_id": 41271796, "link": "https://stackoverflow.com/questions/41271796/generic-retry-logic-for-code-where-constructor-can-throw/41271968#41271968", "title": "Generic Retry Logic for code where Constructor Can Throw", "body": "<blockquote>\n  <p>where the constructor can throw also?</p>\n</blockquote>\n\n<p>Generally this is a bad idea.  I would recommend looking at the Factory Pattern:</p>\n\n<pre><code>public class SomeClass\n{\n  private SomeClass()\n  {\n  }\n\n  public static SomeClass GetInstance()\n  {\n    // Throw Exception here, not in constructor\n  }\n\n  public void SomeFunctionThatCanFail()\n  {\n  }\n}\n</code></pre>\n\n<p>Now you can do:</p>\n\n<pre><code>Retry.Do(() =&gt; \n  SomeClass.GetInstance().SomeFunctionThatCanFail(), \n  TimeSpan.FromSeconds(1));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7514, "user_id": 227426, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/46f68eb5a1d76ea7781401ed832f0b48?s=128&d=identicon&r=PG", "display_name": "Robben_Ford_Fan_boy", "link": "https://stackoverflow.com/users/227426/robben-ford-fan-boy"}, "is_accepted": true, "score": 0, "last_activity_date": 1482373168, "creation_date": 1482373168, "answer_id": 41274869, "question_id": 41271796, "link": "https://stackoverflow.com/questions/41271796/generic-retry-logic-for-code-where-constructor-can-throw/41274869#41274869", "title": "Generic Retry Logic for code where Constructor Can Throw", "body": "<p>I did not realise I could put a block of code into the Lambda expression.  This is exactly what I want:</p>\n\n<pre><code>Retry.Do(() =&gt; { using (DataBaseProxy db = new DataBaseProxy(dbList.Next())) { .DoSomething(); } }, new TimeSpan(0));\n</code></pre>\n"}], "owner": {"reputation": 7514, "user_id": 227426, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/46f68eb5a1d76ea7781401ed832f0b48?s=128&d=identicon&r=PG", "display_name": "Robben_Ford_Fan_boy", "link": "https://stackoverflow.com/users/227426/robben-ford-fan-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 41274869, "answer_count": 2, "score": 1, "last_activity_date": 1482373168, "creation_date": 1482353914, "last_edit_date": 1495542278, "question_id": 41271796, "link": "https://stackoverflow.com/questions/41271796/generic-retry-logic-for-code-where-constructor-can-throw", "title": "Generic Retry Logic for code where Constructor Can Throw", "body": "<p>Follow up from question here:\n<a href=\"https://stackoverflow.com/questions/1563191/cleanest-way-to-write-retry-logic\">Cleanest way to write retry logic?</a></p>\n\n<p>In the answer, a generic class to retry functions is defined and used as such:</p>\n\n<pre><code>Retry.Do(() =&gt; SomeFunctionThatCanFail(), TimeSpan.FromSeconds(1));\n</code></pre>\n\n<p>How would you implement a generic retry, where the constructor can throw also?</p>\n\n<p>So I don't just want to retry:</p>\n\n<pre><code>   SomeFunctionThatCanFail() \n</code></pre>\n\n<p>I want to retry the following block in a generic fashion:</p>\n\n<pre><code>   SomeClass sc = new SomeClass();\n   sc.SomeFunctionThatCanFail();\n</code></pre>\n"}, {"tags": ["c#", "xaml", "uwp", "windows-10-universal", "designer"], "comments": [{"owner": {"reputation": 1025, "user_id": 2026740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe3644e242eeabe917840ddd85204d1?s=128&d=identicon&r=PG", "display_name": "Daniel Corzo", "link": "https://stackoverflow.com/users/2026740/daniel-corzo"}, "edited": false, "score": 1, "creation_date": 1482354043, "post_id": 41271778, "comment_id": 69744915, "body": "Hello and welcome to StackOverflow. Please take some time to read the help page, especially the sections named <a href=\"http://stackoverflow.com/help/on-topic\">&quot;What topics can I ask about here?&quot;</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">&quot;What types of questions should I avoid asking?&quot;</a>. And more importantly, please read <a href=\"http://meta.stackexchange.com/q/156810/204922\">the Stack Overflow question checklist</a>. You might also want to learn about <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Examples</a>."}, {"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1482361762, "post_id": 41271778, "comment_id": 69748354, "body": "Welcome to SO. If it really takes that long than I&#39;d say it&#39;s one of two things. Either your machine (hardware) is not up to spec memory/cpu wise, or there&#39;s some really bad things being done in the code. Without more info though it&#39;s hard to diagnose."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7327597, "user_type": "registered", "profile_image": "https://graph.facebook.com/1245042915542483/picture?type=large", "display_name": "Istv&#225;n Sepsi", "link": "https://stackoverflow.com/users/7327597/istv%c3%a1n-sepsi"}, "edited": false, "score": 0, "creation_date": 1482427853, "post_id": 41279316, "comment_id": 69779806, "body": "Thank you very much. The step 5 helped me. But after it a get another problem, but i can solved thet with this instructions [link] (<a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/388dd1c5-ca01-4538-baa8-7555100e4f80/visual-studio-12-designer-could-not-be-started-because-of-a-permissions-issue?forum=vseditor\" rel=\"nofollow noreferrer\">social.msdn.microsoft.com/Forums/vstudio/en-US/&hellip;</a>) <i>italic</i> <b>bold</b> <code>code</code>"}], "tags": [], "owner": {"reputation": 7891, "user_id": 6782612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KuUfK.jpg?s=128&g=1", "display_name": "Xie Steven", "link": "https://stackoverflow.com/users/6782612/xie-steven"}, "is_accepted": true, "score": 0, "last_activity_date": 1482397428, "creation_date": 1482397428, "answer_id": 41279316, "question_id": 41271778, "link": "https://stackoverflow.com/questions/41271778/visual-studio-2015-universal-windows-xaml-designer-surface-loading-forever/41279316#41279316", "title": "Visual Studio 2015 Universal Windows XAML designer surface loading forever", "body": "<p>I also faced the similar question in the past. I used the following steps to diagnose and try to solve this issue:</p>\n\n<ol>\n<li>Check the <a href=\"https://www.visualstudio.com/en-us/productinfo/vs2015-sysrequirements-vs\" rel=\"nofollow noreferrer\">Visual Studio 2015 System Requirements</a> to see if your environment meet the requirements. If it doesn't meet requirement, you might need to upgrade it.</li>\n<li>I saw your screenshot, the error code shows \"could not find App.g.i.cs file\". You could try to Clean and Rebuild(you can open your project in file explore and find \"obj\" folder, delete it and Clean and Rebuild your project) to see if it will work.</li>\n<li>Close your Visual Studio and restart it to see if it will work.</li>\n<li>Create a new blank UWP project to see if it will work.</li>\n<li>Try to <a href=\"https://msdn.microsoft.com/en-us/library/e2h7fzkw.aspx#Repairing%20Visual%20Studio\" rel=\"nofollow noreferrer\">repair your Visual Studio</a></li>\n</ol>\n"}], "owner": {"reputation": 3, "user_id": 7327597, "user_type": "registered", "profile_image": "https://graph.facebook.com/1245042915542483/picture?type=large", "display_name": "Istv&#225;n Sepsi", "link": "https://stackoverflow.com/users/7327597/istv%c3%a1n-sepsi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 41279316, "answer_count": 1, "score": 0, "last_activity_date": 1482397428, "creation_date": 1482353874, "question_id": 41271778, "link": "https://stackoverflow.com/questions/41271778/visual-studio-2015-universal-windows-xaml-designer-surface-loading-forever", "title": "Visual Studio 2015 Universal Windows XAML designer surface loading forever", "body": "<p><a href=\"https://i.stack.imgur.com/a6BVI.png\" rel=\"nofollow noreferrer\">PrintScreen</a></p>\n\n<p>I start a new Universal Windows in C# project.<br>\nI would like open the MainPage.xaml but that is load to much, more then 3 hour. Can you help me. This is my first question in here by the way. :D</p>\n"}, {"tags": ["c#", "asp.net", "entity-framework"], "answers": [{"tags": [], "owner": {"reputation": 7680, "user_id": 1696326, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/uNwAg.jpg?s=128&g=1", "display_name": "Abhinav Galodha", "link": "https://stackoverflow.com/users/1696326/abhinav-galodha"}, "is_accepted": false, "score": -1, "last_activity_date": 1482354080, "creation_date": 1482354080, "answer_id": 41271831, "question_id": 41271758, "link": "https://stackoverflow.com/questions/41271758/asp-net-convert-class-to-system-data-entity-infrastructure-dbsqlqueryproject-m/41271831#41271831", "title": "ASP.NET Convert Class to &#39;System.Data.Entity.Infrastructure.DbSqlQuery&lt;Project.Models.HomesClass&gt;&#39;", "body": "<p>You need to convert one type to another type.</p>\n\n<p>Following options can be used:</p>\n\n<ol>\n<li><p>Implicit/Explicit Conversion Operator.</p></li>\n<li><p>Writing an extension method to convert OneType to another.</p></li>\n<li><p>Use third party library like <a href=\"https://github.com/AutoMapper/AutoMapper\" rel=\"nofollow noreferrer\">AutoMapper</a></p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "edited": false, "score": 0, "creation_date": 1482354681, "post_id": 41271844, "comment_id": 69745258, "body": "But wouldnt this get only the first row?"}, {"owner": {"reputation": 4670, "user_id": 71056, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/805996764ea8cf6d6791abcb95c0e50f?s=128&d=identicon&r=PG", "display_name": "Klinger", "link": "https://stackoverflow.com/users/71056/klinger"}, "reply_to_user": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "edited": false, "score": 0, "creation_date": 1482354803, "post_id": 41271844, "comment_id": 69745325, "body": "Your code shows that you want only one object. If you want more than one you have to expect a list."}], "tags": [], "owner": {"reputation": 4670, "user_id": 71056, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/805996764ea8cf6d6791abcb95c0e50f?s=128&d=identicon&r=PG", "display_name": "Klinger", "link": "https://stackoverflow.com/users/71056/klinger"}, "is_accepted": true, "score": 0, "last_activity_date": 1482355337, "last_edit_date": 1482355337, "creation_date": 1482354120, "answer_id": 41271844, "question_id": 41271758, "link": "https://stackoverflow.com/questions/41271758/asp-net-convert-class-to-system-data-entity-infrastructure-dbsqlqueryproject-m/41271844#41271844", "title": "ASP.NET Convert Class to &#39;System.Data.Entity.Infrastructure.DbSqlQuery&lt;Project.Models.HomesClass&gt;&#39;", "body": "<p>Your original code fails because <code>db.Data.SqlQuery(\"SELECT ....\")</code> translates to an instance of type <code>DbSqlQuery</code>, which has no relation to your type <code>HomesClass</code>.<br>\nAn instance of <code>DbSqlQuery</code> is just an object holding your query, not the result of executing it.<br>\nYou need to execute the query so that it translates the results to an object that actually holds the data you are after.  You execute the query by calling methods on the DbSqlQuery instance that asks it to execute the query.</p>\n\n<p>You are missing <code>FirstOrDefaultAsync</code>.</p>\n\n<p><code>HomesClass homesClass = await db.Data.SqlQuery(\"SELECT ....\").FirstOrDefaultAsync();</code></p>\n\n<p>If you want a list:</p>\n\n<p><code>List&lt;HomesClass&gt; result = await db.Data.SqlQuery(\"SELECT ....\").ToListAsync();</code></p>\n"}], "owner": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 0, "accepted_answer_id": 41271844, "answer_count": 2, "score": 0, "last_activity_date": 1482355337, "creation_date": 1482353794, "question_id": 41271758, "link": "https://stackoverflow.com/questions/41271758/asp-net-convert-class-to-system-data-entity-infrastructure-dbsqlqueryproject-m", "title": "ASP.NET Convert Class to &#39;System.Data.Entity.Infrastructure.DbSqlQuery&lt;Project.Models.HomesClass&gt;&#39;", "body": "<p>I am using Entity Framework and I have a class called HomesClass and I this line in my edit method:</p>\n\n<pre><code>HomesClass homesClass = db.Data.Find(id);\n</code></pre>\n\n<p>so I tried to do another line like this</p>\n\n<pre><code>HomesClass homesClass = db.Data.SqlQuery(\"SELECT ....\");\n</code></pre>\n\n<p>But then I get this error:</p>\n\n<pre><code>Cannot implicitly convert type 'System.Data.Entity.Infrastructure.DbSqlQuery&lt;Project.Models.HomesClass&gt;' to \u2018Project.Models.HomesClass'\n</code></pre>\n\n<p>My question is how to do I convert this properly?</p>\n"}, {"tags": ["c#", "arguments", "launch"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1482354246, "post_id": 41271749, "comment_id": 69745023, "body": "pass the arguments to the new launch too"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 7327622, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e3974c79f502f37f3daf7083d3bf19ef?s=128&d=identicon&r=PG&f=1", "display_name": "dnxc", "link": "https://stackoverflow.com/users/7327622/dnxc"}, "edited": false, "score": 0, "creation_date": 1482354785, "post_id": 41271909, "comment_id": 69745312, "body": "Yea i&#39;ve been trying that, now im sadly receiving the following error:  There is no argument given that corresponds to the required formal parameter &#39;args&#39; of &#39;startUp.startUp(string[])&#39;"}, {"owner": {"reputation": 43, "user_id": 7327622, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e3974c79f502f37f3daf7083d3bf19ef?s=128&d=identicon&r=PG&f=1", "display_name": "dnxc", "link": "https://stackoverflow.com/users/7327622/dnxc"}, "edited": false, "score": 0, "creation_date": 1482354810, "post_id": 41271909, "comment_id": 69745332, "body": "Since it wouldn&#39;t get a parameter passed on a normal startup, only after the update."}, {"owner": {"reputation": 43, "user_id": 7327622, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e3974c79f502f37f3daf7083d3bf19ef?s=128&d=identicon&r=PG&f=1", "display_name": "dnxc", "link": "https://stackoverflow.com/users/7327622/dnxc"}, "edited": false, "score": 0, "creation_date": 1482357443, "post_id": 41271909, "comment_id": 69746574, "body": "But i cant access the passed values."}, {"owner": {"reputation": 43, "user_id": 7327622, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e3974c79f502f37f3daf7083d3bf19ef?s=128&d=identicon&r=PG&f=1", "display_name": "dnxc", "link": "https://stackoverflow.com/users/7327622/dnxc"}, "edited": false, "score": 0, "creation_date": 1482357702, "post_id": 41271909, "comment_id": 69746709, "body": "So i actually want to check if theres a passed value and show a messagebox."}], "tags": [], "owner": {"reputation": 7680, "user_id": 1696326, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/uNwAg.jpg?s=128&g=1", "display_name": "Abhinav Galodha", "link": "https://stackoverflow.com/users/1696326/abhinav-galodha"}, "is_accepted": false, "score": 0, "last_activity_date": 1482354380, "creation_date": 1482354380, "answer_id": 41271909, "question_id": 41271749, "link": "https://stackoverflow.com/questions/41271749/c-using-launch-arguments-after-the-tool-restart/41271909#41271909", "title": "C# using launch arguments after the tool restart", "body": "<p>The arguments passed can be accessed in the entry method.</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n           // args contains the arguments passed at startup.\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 181, "user_id": 1313979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DROE.jpg?s=128&g=1", "display_name": "ewassef", "link": "https://stackoverflow.com/users/1313979/ewassef"}, "is_accepted": false, "score": 0, "last_activity_date": 1482354560, "creation_date": 1482354560, "answer_id": 41271940, "question_id": 41271749, "link": "https://stackoverflow.com/questions/41271749/c-using-launch-arguments-after-the-tool-restart/41271940#41271940", "title": "C# using launch arguments after the tool restart", "body": "<p>It looks like you are already doing that. If you are wanting those persisted somehow, I would consider putting them in a variable in your instance, and when you get the update command, pull them from there and pass them along</p>\n"}], "owner": {"reputation": 43, "user_id": 7327622, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e3974c79f502f37f3daf7083d3bf19ef?s=128&d=identicon&r=PG&f=1", "display_name": "dnxc", "link": "https://stackoverflow.com/users/7327622/dnxc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1482354560, "creation_date": 1482353740, "question_id": 41271749, "link": "https://stackoverflow.com/questions/41271749/c-using-launch-arguments-after-the-tool-restart", "title": "C# using launch arguments after the tool restart", "body": "<p>How could I use launch arguments, after the application restartet?</p>\n\n<p>I'm passing the arguments the following way:</p>\n\n<pre><code>private void updateApplication(string tempFilePath, string currentPath, string newPath, string launchArgs)\n{\n    string argument = \"/C Choice /C  Y /N  /D  Y /T 4 &amp; Del /F /Q  \\\"{0}\\\" &amp; Choice /C Y /N /D Y /T 2 &amp; Move /Y \\\"{1}\\\" \\\"{2}\\\" &amp; Start \\\"\\\" /D \\\"{3}\\\" \\\"{4}\\\" {5}\";\n    ProcessStartInfo info = new ProcessStartInfo();\n\n    info.Arguments = string.Format(argument, currentPath, tempFilePath, newPath, Path.GetDirectoryName(newPath), Path.GetFileName(newPath), launchArgs);\n    info.WindowStyle = ProcessWindowStyle.Hidden;\n    info.CreateNoWindow = true;\n    info.FileName = \"cmd.exe\";\n    Process.Start(info);\n}\n</code></pre>\n\n<p>Now the tool would upgrade and restart, but how could I use the passed arguments stored in launchArgs on the new restart?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 2, "creation_date": 1482353720, "post_id": 41271724, "comment_id": 69744757, "body": "I don&#39;t see a &quot;Board I created here in my Square class.&quot; I only see a Program class. There are different ways to do this. What have you tried?"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1482353736, "post_id": 41271724, "comment_id": 69744766, "body": "Generally speaking... pass it in on a method parameter."}, {"owner": {"reputation": 7680, "user_id": 1696326, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/uNwAg.jpg?s=128&g=1", "display_name": "Abhinav Galodha", "link": "https://stackoverflow.com/users/1696326/abhinav-galodha"}, "edited": false, "score": 2, "creation_date": 1482353755, "post_id": 41271724, "comment_id": 69744774, "body": "where is the code for Square class ? You can create <code>Static</code> methods if you don&#39;t want instance to be created"}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 3, "creation_date": 1482353781, "post_id": 41271724, "comment_id": 69744789, "body": "When you create an instance of the <code>Square</code> class, pass it this instance of <code>Board</code> via a method or property. Or vice versa. If a <code>Board</code> has 64 <code>Square</code>s, it should probably create them itself."}, {"owner": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 0, "creation_date": 1482353814, "post_id": 41271724, "comment_id": 69744809, "body": "^^ or use a separate board builder class"}, {"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1482353934, "post_id": 41271724, "comment_id": 69744862, "body": "Better read some docs about c# before asking unclear questions.."}, {"owner": {"reputation": 1025, "user_id": 2026740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe3644e242eeabe917840ddd85204d1?s=128&d=identicon&r=PG", "display_name": "Daniel Corzo", "link": "https://stackoverflow.com/users/2026740/daniel-corzo"}, "edited": false, "score": 0, "creation_date": 1482354368, "post_id": 41271724, "comment_id": 69745080, "body": "Hello and welcome to StackOverflow. Please take some time to read the help page, especially the sections named <a href=\"http://stackoverflow.com/help/on-topic\">&quot;What topics can I ask about here?&quot;</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">&quot;What types of questions should I avoid asking?&quot;</a>. And more importantly, please read <a href=\"http://meta.stackexchange.com/q/156810/204922\">the Stack Overflow question checklist</a>. You might also want to learn about <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable Examples</a>."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 7320123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-DmV4sDUFpvU/AAAAAAAAAAI/AAAAAAAAAlo/WzyLTVWsLuo/photo.jpg?sz=128", "display_name": "Idan", "link": "https://stackoverflow.com/users/7320123/idan"}, "edited": false, "score": 0, "creation_date": 1482400057, "post_id": 41272367, "comment_id": 69761877, "body": "I need to have access to the array from the whole class, not just in one function (please see my adit)."}], "tags": [], "owner": {"reputation": 1, "user_id": 6911565, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vmWBL3tmImo/AAAAAAAAAAI/AAAAAAAAABI/3vI44XlUEJE/photo.jpg?sz=128", "display_name": "Ankit Kumar", "link": "https://stackoverflow.com/users/6911565/ankit-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1482356555, "creation_date": 1482356555, "answer_id": 41272367, "question_id": 41271724, "link": "https://stackoverflow.com/questions/41271724/c-calling-a-class-i-created-in-another-class/41272367#41272367", "title": "C# - Calling a class I created in another class", "body": "<p>Using passing object reference as a parameter in method you can achieve your desire output. Here is an example:</p>\n\n<pre><code>class Program\n{\n   static void Main(string[] args)\n    {\n       Board d=new Board();\n       Square s=new Square();\n       s.m1(d);\n    }\n}\n\nclass Board\n{\n   int x=10;\n}\n\nclass Square\n{\n    public void m1(Board a)\n    {\n      Console.WriteLine(a.x);\n    }\n  Console.ReadLine();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 7320123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-DmV4sDUFpvU/AAAAAAAAAAI/AAAAAAAAAlo/WzyLTVWsLuo/photo.jpg?sz=128", "display_name": "Idan", "link": "https://stackoverflow.com/users/7320123/idan"}, "edited": false, "score": 0, "creation_date": 1482416796, "post_id": 41283475, "comment_id": 69772445, "body": "When I&#39;m trying to write &quot;b = board; &quot; in the Square class as you suggested, I get an error that &quot;The name &#39;board&#39; does not exist in the current context&quot; What to do? and anyway thanks for your help!"}, {"owner": {"reputation": 144, "user_id": 5463252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/116yk.jpg?s=128&g=1", "display_name": "Hack", "link": "https://stackoverflow.com/users/5463252/hack"}, "reply_to_user": {"reputation": 49, "user_id": 7320123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-DmV4sDUFpvU/AAAAAAAAAAI/AAAAAAAAAlo/WzyLTVWsLuo/photo.jpg?sz=128", "display_name": "Idan", "link": "https://stackoverflow.com/users/7320123/idan"}, "edited": false, "score": 0, "creation_date": 1482420131, "post_id": 41283475, "comment_id": 69774683, "body": "Did you remember to add it to the parameters in the constructor?"}, {"owner": {"reputation": 144, "user_id": 5463252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/116yk.jpg?s=128&g=1", "display_name": "Hack", "link": "https://stackoverflow.com/users/5463252/hack"}, "reply_to_user": {"reputation": 49, "user_id": 7320123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-DmV4sDUFpvU/AAAAAAAAAAI/AAAAAAAAAlo/WzyLTVWsLuo/photo.jpg?sz=128", "display_name": "Idan", "link": "https://stackoverflow.com/users/7320123/idan"}, "edited": false, "score": 0, "creation_date": 1482420272, "post_id": 41283475, "comment_id": 69774795, "body": "public Square(Board board, int row, int col)"}, {"owner": {"reputation": 49, "user_id": 7320123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-DmV4sDUFpvU/AAAAAAAAAAI/AAAAAAAAAlo/WzyLTVWsLuo/photo.jpg?sz=128", "display_name": "Idan", "link": "https://stackoverflow.com/users/7320123/idan"}, "edited": false, "score": 0, "creation_date": 1482425208, "post_id": 41283475, "comment_id": 69778218, "body": "I dont know why, but when I rewrite what you suggested and now it is working. Thank!"}], "tags": [], "owner": {"reputation": 144, "user_id": 5463252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/116yk.jpg?s=128&g=1", "display_name": "Hack", "link": "https://stackoverflow.com/users/5463252/hack"}, "is_accepted": true, "score": 0, "last_activity_date": 1482420935, "last_edit_date": 1482420935, "creation_date": 1482410620, "answer_id": 41283475, "question_id": 41271724, "link": "https://stackoverflow.com/questions/41271724/c-calling-a-class-i-created-in-another-class/41283475#41283475", "title": "C# - Calling a class I created in another class", "body": "<p>As many have said you need to pass the reference to the board into the Square.  You almost have it in your example, you just don't actually pass the board in.</p>\n\n<p>Here's what your square class should look like.</p>\n\n<pre><code>class Square\n{\n    public Board b;\n    private int row, col;\n    public int val;\n    private bool open;\n    public Square(Board board, int row, int col)\n    {\n        this.row = row;\n        this.col = col;\n        open = false;\n        val = 0;\n        **b = board;**    \n    }\n    public void AddMine()\n    {\n        #region set this to bomb (-9), nearby squars ++\n        val = -9;\n        b.board[row, (col + 1)].val++;\n        #endregion\n    }\n}\n</code></pre>\n\n<p>You received the null reference exception because you never actually set the board object so it was null when you tried to use it.</p>\n\n<p>Then to edit your board example, this is how you would add the new squares.</p>\n\n<pre><code>class Board\n{\n    public Square[,] board;\n    public int n;\n\n    public Board()\n    {\n        Console.Write(\"Enter the nuber of rows on column(int): \");\n        n = int.Parse(Console.ReadLine());\n        board = new Square[n, n];\n        mines = (n * n) / 6;\n        for (int row = 0; row &lt; board.GetLength(0); row++)\n        {\n            for (int col = 0; col &lt; board.GetLength(1); col++)\n            {\n                board[row, col] = new Square(this, row, col);\n            }\n        }\n        board[row, col].AddMine();\n    }\n}\n</code></pre>\n\n<p>The \"this\" keywoard is just a reference to the calling object.</p>\n\n<p>That should solve your problem, but I should note this is not usually considered the best practice.  It seems your heading in the direction of tightly coupling your classes which can easily lead to smelly and unmaintainable code.  You should look into tightly coupled vs loosely coupled code.  A quick google search turned up this article\n<a href=\"http://Difference%20Between%20Loose%20Coupling%20and%20Tight%20Coupling\" rel=\"nofollow noreferrer\">http://www.c-sharpcorner.com/uploadfile/yusufkaratoprak/difference-between-loose-coupling-and-tight-coupling/</a></p>\n"}], "owner": {"reputation": 49, "user_id": 7320123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-DmV4sDUFpvU/AAAAAAAAAAI/AAAAAAAAAlo/WzyLTVWsLuo/photo.jpg?sz=128", "display_name": "Idan", "link": "https://stackoverflow.com/users/7320123/idan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 41283475, "answer_count": 2, "score": -4, "last_activity_date": 1482420935, "creation_date": 1482353600, "last_edit_date": 1482402217, "question_id": 41271724, "link": "https://stackoverflow.com/questions/41271724/c-calling-a-class-i-created-in-another-class", "title": "C# - Calling a class I created in another class", "body": "<p>I have 3 classes in my program: Program, Board, and Square.<br>\nIn program I'm creating a new board:</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        Board b = new Board();\n    }\n}\n</code></pre>\n\n<p>Now I'm looking for a way to call the Board I created here in my Square class.<br>\nAnyone have an Idea how to do this? (not to create a new Board in the Square class).<br>\nEdit:<br>\nI'm trying to create a simple mine-sweeper game.<br>\nIn the Board class I have a two-dimensional array of Squars. then I creat in each part of the square array a new Square. Then the board is creating mines with the \"AddMine\" function in the Square class. I have deleted the way the board is choosing which square to set to a mine. </p>\n\n<pre><code>class Board\n{\n    public Square[,] board;\n    public int n;\n\n    public Board()\n    {\n        Console.Write(\"Enter the nuber of rows on column(int): \");\n        n = int.Parse(Console.ReadLine());\n        board = new Square[n, n];\n        mines = (n * n) / 6;\n        for (int row = 0; row &lt; board.GetLength(0); row++)\n        {\n            for (int col = 0; col &lt; board.GetLength(1); col++)\n            {\n                board[row, col] = new Square(row, col);\n            }\n        }\n        board[row, col].AddMine();\n    }\n}\n</code></pre>\n\n<p>In the Square class, at first it is setting is val to 0. After that when I'm calling The \"AddMine\" function from board, I need to add one to the val of each Square nearby the square who is set to mine.</p>\n\n<pre><code>class Square\n{\n    public Board b;\n    private int row, col;\n    public int val;\n    private bool open;\n    public Square(int row, int col)\n    {\n        this.row = row;\n        this.col = col;\n        open = false;\n        val = 0;\n\n    }\n    public void AddMine()\n    {\n        #region set this to bomb (-9), nearby squars ++\n        val = -9;\n        b.board[row, (col + 1)].val++;\n        #endregion\n    }\n}\n</code></pre>\n\n<p>The real question is how do I call the board array in the Board class in the Square class? because this way is not working, I get a 'System.NullReferenceException' error, I know it is because b is set to 'null', but I don't know to what to do so it will be able to see the Board from Main in Programe class.<br>\nAll the answers I found in the internet is or to set a new Board, or to set a prorame class in the squarwe class, but because I'm setting a new board in a static function, it is not working.<br>\nThanks to anyone for helping and I hope now the question is clearer.</p>\n"}, {"tags": ["c#", "visual-studio", "iis-express"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1482354896, "post_id": 41271706, "comment_id": 69745379, "body": "I had this issue before and had to change the port in the project as well as create a new virtual directory.. have you tried doing that"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 7327273, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066fd24f1e95c444248860a779962eab?s=128&d=identicon&r=PG&f=1", "display_name": "user7327273", "link": "https://stackoverflow.com/users/7327273/user7327273"}, "is_accepted": false, "score": 0, "last_activity_date": 1483791597, "last_edit_date": 1495541787, "creation_date": 1483791597, "answer_id": 41521377, "question_id": 41271706, "link": "https://stackoverflow.com/questions/41271706/iis-express-the-specified-port-is-in-use-visual-studio-2015/41521377#41521377", "title": "IIS Express &#39;The specified port is in use&#39; Visual Studio 2015", "body": "<p>Thanks for the suggestion Methodman. After much digging I found the solution you suggested here (change the port): <a href=\"https://stackoverflow.com/questions/21202885/how-can-i-change-iis-express-port-for-a-site\">How can i change IIS Express port for a site</a></p>\n\n<p>The answer provided provides excellent instructions with a step by step guide on how to change the port</p>\n\n<p>Just changed the port number until I got one that worked :)</p>\n\n<p>Ed</p>\n"}], "owner": {"reputation": 41, "user_id": 7327273, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066fd24f1e95c444248860a779962eab?s=128&d=identicon&r=PG&f=1", "display_name": "user7327273", "link": "https://stackoverflow.com/users/7327273/user7327273"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 7014, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1614776520, "creation_date": 1482353533, "last_edit_date": 1495542834, "question_id": 41271706, "link": "https://stackoverflow.com/questions/41271706/iis-express-the-specified-port-is-in-use-visual-studio-2015", "title": "IIS Express &#39;The specified port is in use&#39; Visual Studio 2015", "body": "<p>Apologies about the long message, but I thought I should let you know what I have already tried</p>\n\n<p>I've very recently started learning C# through Visual Studio and all was going OK until about three weeks ago. I clicked on the button with a green triangle which did the usual thing of launching the internet page, but the site never loads. I then noticed there was an ISS Express notification which brings up the following (can't figure out how to get my cropped screen shot on here):</p>\n\n<p>'The Specified port is in use\nPort 49665 is already being used by process \"svchost.exe\" (process ID \"2112\")\nRecommendations\n1. Try switching to port other than \"49665\" and higher than 1024\n2. Stop the application that is using port \"49665\"'</p>\n\n<p>I have managed to locate the svchost.exe on my computer and it is in the system 32 folder. There doesn't appear to be an option to stop it, and I am worried deleting it will break my operating system (I did click delete to see what happens and got an error saying I need permission from trusted installer to do this, but didn't go any further). When I open task manager and look through all tasks, including 'background tasks' and 'windows processes' and can't see it anywhere</p>\n\n<p>I have tried to follow the advice in this discussion:\n<a href=\"https://stackoverflow.com/questions/34898901/iis-express-web-server-port-is-in-use\">IIS Express Web Server Port Is In Use</a></p>\n\n<p>But I cannot fully understand where the solution was- I don't think I have anything called ISS installed, however there is a Local ISS when I go to 'file', 'open website', which I found through the following:\n<a href=\"https://stackoverflow.com/questions/22572897/why-and-how-to-fix-iis-express-the-specified-port-is-in-use\">Why and how to fix? IIS Express &quot;The specified port is in use&quot;</a></p>\n\n<p>I did as the answer marked 21 (with the green tick) suggested and restarted my computer (as one of the comments suggested) however my problem persists. There is no longer anything under 'IIS Express Sites'</p>\n\n<p>I have closed all browsers then tried, restarted and then tried, still no luck\nThe third answer (7) I really don\u2019t know how to do this (I don\u2019t know what solution they are referring to), so if this is a potential solution I\u2019d be happy for further instructions</p>\n\n<p>The answer marked with a 5 about netstat -aob helped me locate a task called \u2018service host: local service (network restricted) (6)\u2019. Trying to terminate this task brings up an error saying that by terminating this task Windows will become unusable- so I assume this is why I couldn\u2019t delete the above. The final part of this answer about elevated access I don\u2019t know what this means or how I would do this.</p>\n\n<p>Closing visual studio and restarting as an administrator doesn\u2019t fix the problem\nI only have Edge and Internet Explorer and I have ended these via task manager whenever I have tried to resolve this problem, but it persists\nI tried the answer at the bottom, but was not able to locate the folder IISExpress, maybe this is part of the problem?</p>\n\n<p>Any suggestions where I might be going wrong with the above, or any further advice on how to progress some of the things above, or any new ideas will be welcome</p>\n\n<p>Thank you for your time, any advice will be appreciated </p>\n\n<p>Ed</p>\n"}, {"tags": ["c#", "csv", "datatable"], "comments": [{"owner": {"reputation": 1, "user_id": 7323216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77d947593ad601640b583751f6ca0fe8?s=128&d=identicon&r=PG&f=1", "display_name": "Vinu", "link": "https://stackoverflow.com/users/7323216/vinu"}, "edited": false, "score": 0, "creation_date": 1482373336, "post_id": 41271702, "comment_id": 69751182, "body": "Not sure if this helps you <a href=\"http://stackoverflow.com/questions/665754/inner-join-of-datatables-in-c-sharp\" title=\"inner join of datatables in c sharp\">stackoverflow.com/questions/665754/&hellip;</a> <a href=\"http://stackoverflow.com/questions/20760681/linq-join-two-datatables\" title=\"linq join two datatables\">stackoverflow.com/questions/20760681/linq-join-two-datatable&zwnj;&#8203;s</a>"}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1482414688, "post_id": 41271702, "comment_id": 69771087, "body": "<code>I can&#39;t post the two data table code in here, can I?</code> - presumably you could add the names of your tables and the columns they have. I assume one of them is called <code>zipcode</code> and the other one is called <code>sometable</code> (but you might as well give it its real name). I assume you are wanting to do a join, but since the structure of the two input tables is not clear, it is presently not possible to tell you what column is common to both of them. Can you add the necessary extra detail?"}], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 5807541, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/AX0g3.gif?s=128&g=1", "display_name": "CodeMan", "link": "https://stackoverflow.com/users/5807541/codeman"}, "is_accepted": false, "score": 0, "last_activity_date": 1482424507, "creation_date": 1482424507, "answer_id": 41287794, "question_id": 41271702, "link": "https://stackoverflow.com/questions/41271702/two-datatables-need-to-joined-based-on-where-condition-from-one-datatable/41287794#41287794", "title": "Two datatables need to joined based on where condition from one datatable", "body": "<p>This fixed my issue</p>\n\n<pre><code>public static DataTable MergeTwoDataTables(DataTable dt1, DataTable dt2)\n        {\n\n var collection = from t1 in dt1.AsEnumerable()\n join t2 in dt2.AsEnumerable() on ToNumericOnly(t1[\"ZIPCODE\"].ToString().Trim().Substring(0,5))equals t2[\"Zip\"] into DataGroup\n from item in DataGroup.DefaultIfEmpty()                            \n  select new\n   {\n      CUSTOMER = ToNumericOnly(t1[\"CUSTOMER\"].ToString()),\n      ADDRESS=t1[\"ADDRESS\"],\n      ZIPCODE = t1[\"ZIPCODE\"].ToString().Trim(),\n      LAT= item == null ? string.Empty : item[\"lat\"],\n      LONG= item == null ? string.Empty : item[\"long\"]\n       };\n DataTable result = new DataTable(\"CustomerInfo\");\n   result.Columns.Add(\"CUSTOMER\", typeof(string));\n   result.Columns.Add(\"ADDRESS\", typeof(string));         \n   result.Columns.Add(\"ZIPCODE\", typeof(string));\n   result.Columns.Add(\"LAT\", typeof(string));\n   result.Columns.Add(\"LONG\", typeof(string));\n\nforeach (var item in collection)\n   {\n    result.Rows.Add(item.CUSTOMER,item.ADDRESS,item.ZIPCODE,\nitem.LAT,item.LONG);\n Console.WriteLine(\"{0}\", item);\n  //Console.ReadLine();\n            }\n            return result;\n        }\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 5807541, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/AX0g3.gif?s=128&g=1", "display_name": "CodeMan", "link": "https://stackoverflow.com/users/5807541/codeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1482424507, "creation_date": 1482353512, "last_edit_date": 1482414471, "question_id": 41271702, "link": "https://stackoverflow.com/questions/41271702/two-datatables-need-to-joined-based-on-where-condition-from-one-datatable", "title": "Two datatables need to joined based on where condition from one datatable", "body": "<p>I have 2 datatables </p>\n\n<p>1) which runs a query and stores the values </p>\n\n<pre><code>Select customer, address,**zipcode** from sometable where zipcode = ? \nmycmd.Parameters.Add(\"@zipcode\", OdbcType.VarChar).Value = {**how to bring the value from datatable 2 zip**;\n</code></pre>\n\n<p>into datatable?</p>\n\n<p>2) which reads a csv file into datatable zip,lat,long</p>\n\n<p>I am running a foreach loop on datarows from datatable 1 and </p>\n\n<p>If rows was found match zip values in the where condition I then want to include the lat and long values from the datatable 2 </p>\n\n<p>My end result will look like customer, address,zipcode,lat,long.</p>\n\n<p>I searched several websites online but was not able to find any thing.</p>\n\n<p>I can't post the two data table code in here, can I?</p>\n"}, {"tags": ["c#", "entity-framework", "asynchronous", "unity-container"], "owner": {"reputation": 3409, "user_id": 931842, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/358e659e37b2c8788d70617f158b75b2?s=128&d=identicon&r=PG", "display_name": "Justin Homes", "link": "https://stackoverflow.com/users/931842/justin-homes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482356001, "creation_date": 1482353507, "last_edit_date": 1482356001, "question_id": 41271699, "link": "https://stackoverflow.com/questions/41271699/unity-async-await-for-wcf-app-what-is-the-right-lifetime-manager-for-dbcontext", "title": "Unity async/await for WCF app, what is the right lifetime manager for dbContext", "body": "<p>I am using a Unit of Work pattern with EF using this library  <a href=\"https://github.com/ziyasal/RepositoryT.EntityFramework\" rel=\"nofollow noreferrer\">https://github.com/ziyasal/RepositoryT.EntityFramework</a></p>\n\n<p>When using hierarchical lifetime manager for <code>dbContext</code> I get the error shown below when doing load test. If I use <code>transientLifeTimeManager</code>, the load test passes but I cannot do joins between tables. For table joins I get the specified LINQ expression contains references to queries that are associated with different contexts.</p>\n\n<p>I am using await on all of my queries</p>\n\n<pre><code>container.RegisterType&lt;IDataContextFactory&lt;MyDataContext&gt;, DefaultDataContextFactory&lt;MyDataContext&gt;&gt;(new HierarchicalLifetimeManager());\n</code></pre>\n\n<blockquote>\n  <p>Error due to Hierarchical</p>\n  \n  <p>A second operation started on this context before a previous asynchronous operation completed. Use 'await' to ensure that any asynchronous operations have completed before calling another method on this context. Any instance members are not guaranteed to be thread safe.</p>\n</blockquote>\n\n<p>When I am doing join with something like this, it errors out with</p>\n\n<pre><code>from appLocale in _applicationLocalesRepository.GetAll()\n                      join app in _applicationsRepository.GetAll()\n                      on appLocale.ApplicationID equals app.ApplicationID\n                      select appLocale).ToList()).Select(x =&gt; x.Locale)\n</code></pre>\n\n<p>I have also tried to use this but did not work</p>\n\n<pre><code> public class PerRequestLifetimeManager : LifetimeManager\n {\n        private Guid key;\n\n        public PerRequestLifetimeManager()\n        {\n            key = Guid.NewGuid();\n        }\n\n        public override object GetValue()\n        {\n            if (HttpContext.Current == null)\n            {\n                return null;\n            }\n            else\n            {\n                return HttpContext.Current.Items[key];\n            }\n        }\n\n        public override void RemoveValue()\n        {\n            if (HttpContext.Current != null)\n            {\n                HttpContext.Current.Items.Remove(key);\n            }\n        }\n\n        public override void SetValue(object newValue)\n        {\n            if (HttpContext.Current != null)\n            {\n                HttpContext.Current.Items.Add(key, newValue);\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "design-patterns", "solid-principles", "liskov-substitution-principle"], "answers": [{"comments": [{"owner": {"reputation": 948, "user_id": 2464613, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1691a7a6f0fa47e7a6324b789f05de17?s=128&d=identicon&r=PG", "display_name": "Rabid Penguin", "link": "https://stackoverflow.com/users/2464613/rabid-penguin"}, "edited": false, "score": 0, "creation_date": 1482355919, "post_id": 41271922, "comment_id": 69745861, "body": "For AccountBase example, how does that work with the constructor then? Does that violate LSP to have a constructor in the sub-class that requires the SecondaryAccountHolder when the constructor of the base-class does not?"}, {"owner": {"reputation": 25889, "user_id": 245183, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/78abf6a54b468eea1a39282e705878a8?s=128&d=identicon&r=PG", "display_name": "Ondrej Tucny", "link": "https://stackoverflow.com/users/245183/ondrej-tucny"}, "reply_to_user": {"reputation": 948, "user_id": 2464613, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1691a7a6f0fa47e7a6324b789f05de17?s=128&d=identicon&r=PG", "display_name": "Rabid Penguin", "link": "https://stackoverflow.com/users/2464613/rabid-penguin"}, "edited": false, "score": 0, "creation_date": 1482359032, "post_id": 41271922, "comment_id": 69747271, "body": "Your constructor is protected, so it doesn&#39;t matter in respect to the class&#39;s public contract. It also seems redundant, as the subclass may use the relevant properties diretly. Should you really want a constructor, it could then accept both primary and seconday accounts, but keep it DRY\u2014avoid duplicating validation logic and assign to properties instead."}, {"owner": {"reputation": 948, "user_id": 2464613, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1691a7a6f0fa47e7a6324b789f05de17?s=128&d=identicon&r=PG", "display_name": "Rabid Penguin", "link": "https://stackoverflow.com/users/2464613/rabid-penguin"}, "edited": false, "score": 0, "creation_date": 1482359770, "post_id": 41271922, "comment_id": 69747603, "body": "But if you assign to the properties directly then you are not guaranteeing your object is in a valid state. For instance, if I just put a &quot;RequiresSecondaryAccountHolder&quot; property on the base class then that only ensures the property can&#39;t be set to null, that does not ensure the property is actually set though. So wouldn&#39;t that require the use of a constructor on the derived class to keep the object in a valid state? Does it violate LSP to have differing constructors on derived classes?"}], "tags": [], "owner": {"reputation": 25889, "user_id": 245183, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/78abf6a54b468eea1a39282e705878a8?s=128&d=identicon&r=PG", "display_name": "Ondrej Tucny", "link": "https://stackoverflow.com/users/245183/ondrej-tucny"}, "is_accepted": false, "score": 0, "last_activity_date": 1482354472, "creation_date": 1482354472, "answer_id": 41271922, "question_id": 41271696, "link": "https://stackoverflow.com/questions/41271696/c-lsp-constructor-parameters-and-guard-clauses/41271922#41271922", "title": "C# LSP Constructor Parameters and Guard Clauses", "body": "<blockquote>\n  <p>So how would I design my classes in such a way that they don't violate LSP but one of my sub-classes requires a secondary account holder and one does not?</p>\n</blockquote>\n\n<p>The way out of this problem is by surfacing this variability to the contract of the base class. It may look like this (unnecessary implementation details left out):</p>\n\n<pre><code>public abstract class AccountBase\n{\n    public string PrimaryAccountHolder \n    { \n        get { \u2026 } \n        set { \u2026 }\n    }\n\n    public string SecondaryAccountHolder\n    { \n        get { \u2026 } \n        set \n        { \n            \u2026  \n            if (RequiresSecondaryAccountHolder &amp;&amp; value == null) throw \u2026;\n            \u2026  \n        } \n    }\n\n    public abstract bool RequiresSecondaryAccountHolder { get; }\n}\n</code></pre>\n\n<p>Then you are not violating the LSP, because the user of <code>AccountBase</code> can determine whether they have to or have not to provide the value of <code>SecondaryAcccountHolder</code>.</p>\n\n<blockquote>\n  <p>And I have the same question with interfaces. \u2026 Wouldn't it be a violation of LSP to add a null guard clause for text on any class that implements IPrintsSomething?</p>\n</blockquote>\n\n<p>Make the validation an obvious part of the interface's contract. How? Document, that the implementor must chek the value of <code>text</code> for <code>null</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 50933, "user_id": 360211, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3baKW.png?s=128&g=1", "display_name": "weston", "link": "https://stackoverflow.com/users/360211/weston"}, "is_accepted": false, "score": 1, "last_activity_date": 1482548532, "creation_date": 1482548532, "answer_id": 41309943, "question_id": 41271696, "link": "https://stackoverflow.com/questions/41271696/c-lsp-constructor-parameters-and-guard-clauses/41309943#41309943", "title": "C# LSP Constructor Parameters and Guard Clauses", "body": "<p>You should research tell-don't-ask, and command/query separation, you could start here: <a href=\"https://pragprog.com/articles/tell-dont-ask\" rel=\"nofollow noreferrer\">https://pragprog.com/articles/tell-dont-ask</a></p>\n\n<blockquote>\n  <p>You should endeavor to tell objects what you want them to do; do not ask them questions about their state, make a decision, and then tell them what to do.</p>\n</blockquote>\n\n<p>There's always something you want to do with the properties, well don't ask the object for them tell it to do something with them.</p>\n\n<p>Instead of asking it and making decisions like this:</p>\n\n<pre><code>string holders = account.PrimaryAccountHolder;\nif (accountHolder.SecondaryAccountHolder != null)\n{\n    holders += \" \" + accountHolder.SecondaryAccountHolder;\n}\n</code></pre>\n\n<p>Tell it:</p>\n\n<pre><code>string holders = account.ListAllHoldersAsAString();\n</code></pre>\n\n<p>Ideally, you'd actually tell it what you actually want to do with that string:</p>\n\n<pre><code>account.MailMergeAllAccountHoldersNames(letterDocument);\n</code></pre>\n\n<p>Now the logic for dealing with two account holders is in the subclass. Could be one, two or <em>n</em> account holders, the calling code doesn't care or need to know.</p>\n\n<p>As for LSP, well if there's a formally (or informally) documented contract that says the clients must check for <code>null</code> on the second holder from the start then that's fine. It's not nice, but any null-pointer-exceptions will be the client's fault for not using the class correctly. (Note it's not true that adding a boolean property improves upon this, it's just maybe a little more readable, i.e. does anyone check <code>IList.IsReadOnly</code> before writing to it?!).</p>\n\n<p>However, if you started with the double holder account and then added that condition that the second account holder can be <code>null</code> later for the single account, then you <strong>changed the contract</strong>, and an instance of the single could break existing code. If you're in full control of all places that use accounts, then you're allowed to do that, if that's a public api\nyou're changing, that's a different matter.</p>\n\n<p>But tell-don't-ask avoids the whole problem in this case.</p>\n"}], "owner": {"reputation": 948, "user_id": 2464613, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1691a7a6f0fa47e7a6324b789f05de17?s=128&d=identicon&r=PG", "display_name": "Rabid Penguin", "link": "https://stackoverflow.com/users/2464613/rabid-penguin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482548532, "creation_date": 1482353504, "last_edit_date": 1482512508, "question_id": 41271696, "link": "https://stackoverflow.com/questions/41271696/c-lsp-constructor-parameters-and-guard-clauses", "title": "C# LSP Constructor Parameters and Guard Clauses", "body": "<p>I've been reading about the Liskov Substitution Principle (LSP) and I'm a little confused on how you adhere to it correctly. Especially when interfaces and subclasses are being used.</p>\n\n<p>For example, if I have a base class:</p>\n\n<pre><code>public abstract class AccountBase\n{\n    private string primaryAccountHolder;\n\n    public string PrimaryAccountHolder \n    { \n        get { return this.primaryAccountHolder; } \n        set\n        {\n            if (value == null) throw ArgumentNullException(\"value\");\n            this.primaryAccountHolder = value;\n        }\n    }\n\n    public string SecondaryAccountHolder { get; set; }\n\n    protected AccountBase(string primary)\n    {\n        if (primary == null) throw new ArgumentNullException(\"primary\");\n        this.primaryAccountHolder = primary;\n    }\n}\n</code></pre>\n\n<p>Now let's say I have two accounts that inherit from the base class. One that REQUIRES the SecondaryAccountHolder. Adding a null guard to the sub-class is a violation of LSP, correct? So how would I design my classes in such a way that they don't violate LSP but one of my sub-classes requires a secondary account holder and one does not?</p>\n\n<p>Compound the question with the fact that there could be tons of different types of accounts and they'll need to be generated through a factory or factory that returns a builder or something.</p>\n\n<p>And I have the same question with interfaces. If I have an interface:</p>\n\n<pre><code>public interface IPrintsSomething\n{\n    void PrintSomething(string text);\n}\n</code></pre>\n\n<p>Wouldn't it be a violation of LSP to add a null guard clause for text on any class that implements IPrintsSomething? How do you protect your invariants? That is the correct word right? :p</p>\n"}, {"tags": ["c#", "string", "performance"], "comments": [{"owner": {"reputation": 5532, "user_id": 1980359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef38527ea758efa70dab3e7f6f3996d0?s=128&d=identicon&r=PG", "display_name": "Jite", "link": "https://stackoverflow.com/users/1980359/jite"}, "edited": false, "score": 1, "creation_date": 1482353303, "post_id": 41271610, "comment_id": 69744533, "body": "Benchmark it with <code>String.Format()</code> function, I would recon that its slightly faster. But tbh, the cost of concatenation is not very high, i would guess this is unnecessary optimization?"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1482353396, "post_id": 41271610, "comment_id": 69744573, "body": "how often is this being called per <code>obj</code>?"}, {"owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 1, "creation_date": 1482353397, "post_id": 41271610, "comment_id": 69744574, "body": "use <code>StringBuilder</code>. obviously  <code>StringBuilder</code> should be some kind of private field to initialize it only once. but use it as much as you want."}, {"owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1482353398, "post_id": 41271610, "comment_id": 69744577, "body": "No, there&#39;s no faster way. Calling <code>String.Format</code> will do essentially the same thing."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1482353406, "post_id": 41271610, "comment_id": 69744584, "body": "You could use interpolation but I am not sure if it is faster or not: <code>return $&quot;sometext-{obj.Name}.txt&quot;;</code>"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "reply_to_user": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 2, "creation_date": 1482353416, "post_id": 41271610, "comment_id": 69744590, "body": "@M.kazemAkhgary string.format uses a string builder under the covers."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1482353498, "post_id": 41271610, "comment_id": 69744639, "body": "<code>StringBuilder</code> is great  for dynamic strings but for a simple concatenation like this I doubt it make this line more efficient."}, {"owner": {"reputation": 5532, "user_id": 1980359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef38527ea758efa70dab3e7f6f3996d0?s=128&d=identicon&r=PG", "display_name": "Jite", "link": "https://stackoverflow.com/users/1980359/jite"}, "edited": false, "score": 1, "creation_date": 1482353687, "post_id": 41271610, "comment_id": 69744735, "body": "You could also try to inline it with <code>[MethodImpl(MethodImplOptions.AggressiveInlining)]</code> and see if that helps a bit. This method feels like a typical thing to inline when its possible!"}, {"owner": {"reputation": 16598, "user_id": 4767498, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-u6daZXYwzxs/AAAAAAAAAAI/AAAAAAAAABI/0xXoH0XUtkc/photo.jpg?sz=128", "display_name": "M.kazem Akhgary", "link": "https://stackoverflow.com/users/4767498/m-kazem-akhgary"}, "edited": false, "score": 0, "creation_date": 1482353736, "post_id": 41271610, "comment_id": 69744767, "body": "Also its normal that performance profilers list these kind of methods at top. when a method is <i>hit thousands of times</i> what else do you expect? it doesn&#39;t necessarily mean the method itself is slow."}, {"owner": {"reputation": 2741, "user_id": 34863, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e23b63b256e17c4f9f6c077572c2b93d?s=128&d=identicon&r=PG", "display_name": "Jason Hernandez", "link": "https://stackoverflow.com/users/34863/jason-hernandez"}, "edited": false, "score": 1, "creation_date": 1482353928, "post_id": 41271610, "comment_id": 69744860, "body": "Are you sure its the string concat and not the .Name method that is slow? Also, how slow is  dog-slow? Sometimes what you are looking at in the profiler can be a little misleading. are you looking at clock time or processor time?"}, {"owner": {"reputation": 26818, "user_id": 209199, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b64963e747bf4c8fc20fb379105f204?s=128&d=identicon&r=PG", "display_name": "Cory Nelson", "link": "https://stackoverflow.com/users/209199/cory-nelson"}, "edited": false, "score": 3, "creation_date": 1482353947, "post_id": 41271610, "comment_id": 69744866, "body": "<code>String.Format</code> and <code>StringBuilder</code> will be significantly slower for this. Don&#39;t know why anyone is recommending either of those."}, {"owner": {"reputation": 400278, "user_id": 73226, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tdqly.png?s=128&g=1", "display_name": "Martin Smith", "link": "https://stackoverflow.com/users/73226/martin-smith"}, "edited": false, "score": 1, "creation_date": 1482354745, "post_id": 41271610, "comment_id": 69745287, "body": "Seems surprising  that this will be a significant time relative to that of writing the file."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1482355668, "post_id": 41271610, "comment_id": 69745751, "body": "Give us some context. How many times is that code being called, and how many nanoseconds per call are you spending in it?"}, {"owner": {"reputation": 2141, "user_id": 1026363, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d0f7bdd3584ac78d79753ad6b299deaf?s=128&d=identicon&r=PG", "display_name": "joelc", "link": "https://stackoverflow.com/users/1026363/joelc"}, "edited": false, "score": 0, "creation_date": 1482367633, "post_id": 41271610, "comment_id": 69749869, "body": "Hi all, it&#39;s being called hundreds of time per second.  Each call is quite fast, but it&#39;s being hit so often that it&#39;s taking a measurable percentage of time compared to the write of the file (they are very small files, like 4KB).  I&#39;ll try the aggressive inlining suggestion above, too.  Thank you!"}, {"owner": {"reputation": 50347, "user_id": 1763356, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zGWG9.png?s=128&g=1", "display_name": "Veedrac", "link": "https://stackoverflow.com/users/1763356/veedrac"}, "edited": false, "score": 0, "creation_date": 1482398196, "post_id": 41271610, "comment_id": 69760648, "body": "Hundreds of times per second is basically never. Ask again when you&#39;re hitting hundreds of thousands."}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1482417015, "post_id": 41271610, "comment_id": 69772623, "body": "If 100 times per second is causing performance issues, try throwing hardware at the problem.  My machine can run that function millions of times per second."}, {"owner": {"reputation": 2141, "user_id": 1026363, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d0f7bdd3584ac78d79753ad6b299deaf?s=128&d=identicon&r=PG", "display_name": "joelc", "link": "https://stackoverflow.com/users/1026363/joelc"}, "reply_to_user": {"reputation": 50347, "user_id": 1763356, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zGWG9.png?s=128&g=1", "display_name": "Veedrac", "link": "https://stackoverflow.com/users/1763356/veedrac"}, "edited": false, "score": 0, "creation_date": 1482425137, "post_id": 41271610, "comment_id": 69778167, "body": "@Veedrac sorry my problems are not large enough for you."}, {"owner": {"reputation": 2141, "user_id": 1026363, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d0f7bdd3584ac78d79753ad6b299deaf?s=128&d=identicon&r=PG", "display_name": "joelc", "link": "https://stackoverflow.com/users/1026363/joelc"}, "reply_to_user": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 0, "creation_date": 1482425141, "post_id": 41271610, "comment_id": 69778171, "body": "@Brian the operation is latency sensitive, which is why I asked.  Thanks"}, {"owner": {"reputation": 50347, "user_id": 1763356, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zGWG9.png?s=128&g=1", "display_name": "Veedrac", "link": "https://stackoverflow.com/users/1763356/veedrac"}, "edited": false, "score": 2, "creation_date": 1482429852, "post_id": 41271610, "comment_id": 69780808, "body": "@joelc There&#39;s no point optimizing 0.01% of your bottleneck. I&#39;m not trying to be funny here, it&#39;s just that you&#39;re wasting your time. The bottleneck is elsewhere."}], "answers": [{"comments": [{"owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1482353674, "post_id": 41271723, "comment_id": 69744731, "body": "Exactly. See the reference source at <a href=\"https://referencesource.microsoft.com/#mscorlib/system/string.cs,e7f761c274d2036b\" rel=\"nofollow noreferrer\">referencesource.microsoft.com/#mscorlib/system/&hellip;</a>"}, {"owner": {"reputation": 2141, "user_id": 1026363, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d0f7bdd3584ac78d79753ad6b299deaf?s=128&d=identicon&r=PG", "display_name": "joelc", "link": "https://stackoverflow.com/users/1026363/joelc"}, "edited": false, "score": 0, "creation_date": 1482354223, "post_id": 41271723, "comment_id": 69745010, "body": "Thank you.  I was afraid of that."}], "tags": [], "owner": {"reputation": 26818, "user_id": 209199, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0b64963e747bf4c8fc20fb379105f204?s=128&d=identicon&r=PG", "display_name": "Cory Nelson", "link": "https://stackoverflow.com/users/209199/cory-nelson"}, "is_accepted": true, "score": 8, "last_activity_date": 1482353596, "creation_date": 1482353596, "answer_id": 41271723, "question_id": 41271610, "link": "https://stackoverflow.com/questions/41271610/speed-up-string-concatenation/41271723#41271723", "title": "Speed up string concatenation", "body": "<p>The compiler will optimize your two concats into one call to:</p>\n\n<pre><code>String.Concat(\"sometext-\", obj.Name, \".txt\")\n</code></pre>\n\n<p>There is no faster way to do this.</p>\n"}, {"tags": [], "owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "is_accepted": false, "score": 2, "last_activity_date": 1482416843, "creation_date": 1482416843, "answer_id": 41285386, "question_id": 41271610, "link": "https://stackoverflow.com/questions/41271610/speed-up-string-concatenation/41285386#41285386", "title": "Speed up string concatenation", "body": "<p>If you instead compute the filename within the class itself, it will run much faster, in exchange for decreased performance when modifying the object.  Mind you, I'd be very concerned if computing a filename was a bottleneck; writing to the file is way slower than coming up with its name.</p>\n\n<p>See code samples below.  When I benchmarked them with optimizations on (in LINQPad 5), Test2 ran about 15x faster than Test1.  Among other things, Test2 doesn't constantly generate/discard tiny string objects.</p>\n\n<pre><code>void Main()\n{\n    Test1();\n    Test1();\n    Test1();\n    Test2();\n    Test2();\n    Test2();\n}\n\nvoid Test1()\n{\n    System.Diagnostics.Stopwatch sw = new Stopwatch();\n    MyObject1 mo = new MyObject1 { Name = \"MyName\" };\n    sw.Start();\n    long x = 0;\n    for (int i = 0; i &lt; 10000000; ++i)\n    {\n\n        x += CreateFileName(mo).Length;\n    }\n    Console.WriteLine(x); //Sanity Check, prevent clever compiler optimizations\n    sw.ElapsedMilliseconds.Dump(\"Test1\");\n}\n\npublic string CreateFileName(MyObject1 obj)\n{\n    return \"sometext-\" + obj.Name + \".txt\";\n}\n\nvoid Test2()\n{\n    System.Diagnostics.Stopwatch sw = new Stopwatch();\n    MyObject2 mo = new MyObject2 { Name = \"MyName\" };\n    sw.Start();\n    long x = 0;\n    for (int i = 0; i &lt; 10000000; ++i)\n    {\n        x += mo.FileName.Length;\n    }\n    Console.WriteLine(x); //Sanity Check, prevent clever compiler optimizations\n    sw.ElapsedMilliseconds.Dump(\"Test2\");\n}\n\n\n\npublic class MyObject1\n{\n    public string Name;\n}\n\npublic class MyObject2\n{\n    public string FileName { get; private set;}\n    private string _name;\n    public string Name\n    {\n        get \n        {\n            return _name; \n        }\n        set \n        {\n            _name=value;\n            FileName = \"sometext-\" + _name + \".txt\";\n        }\n    }\n}\n</code></pre>\n\n<p>I also tested adding memoization to <code>CreateFileName</code>, but it barely improved performance over Test1, and it couldn't possibly beat out Test2, since it performs the equivalent steps with additional overhead for hash lookups.</p>\n"}], "owner": {"reputation": 2141, "user_id": 1026363, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d0f7bdd3584ac78d79753ad6b299deaf?s=128&d=identicon&r=PG", "display_name": "joelc", "link": "https://stackoverflow.com/users/1026363/joelc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "closed_date": 1482606474, "accepted_answer_id": 41271723, "answer_count": 2, "score": 1, "last_activity_date": 1482416843, "creation_date": 1482353178, "question_id": 41271610, "link": "https://stackoverflow.com/questions/41271610/speed-up-string-concatenation", "closed_reason": "Duplicate", "title": "Speed up string concatenation", "body": "<p>I have a program that will write a series of files in a loop.  The filename is constructed using a parameter from an object supplied to the method.  </p>\n\n<p>ANTS Performance Profiler says this is dog slow and I'm not sure why:</p>\n\n<pre><code>public string CreateFilename(MyObject obj)\n{\n    return \"sometext-\" + obj.Name + \".txt\";\n}\n</code></pre>\n\n<p>Is there a more performant way of doing this?  The method is hit thousands of times and I don't know of a good way outside of having a discrete method for this purpose since the input objects are out of my control and regularly change.  </p>\n"}, {"tags": ["c#", "asp.net-core", "signalr", "asp.net-core-mvc", "hangfire"], "comments": [{"owner": {"reputation": 1298, "user_id": 2944375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d7bfba157d3c1834aefba02a7458572c?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Hoang", "link": "https://stackoverflow.com/users/2944375/kim-hoang"}, "edited": false, "score": 0, "creation_date": 1482371963, "post_id": 41271555, "comment_id": 69750882, "body": "So the data sent to each user will be different? Currently your are using .Clients.All. It will broadcast to all the clients connected to the hub."}, {"owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "reply_to_user": {"reputation": 1298, "user_id": 2944375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d7bfba157d3c1834aefba02a7458572c?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Hoang", "link": "https://stackoverflow.com/users/2944375/kim-hoang"}, "edited": false, "score": 0, "creation_date": 1482384410, "post_id": 41271555, "comment_id": 69754087, "body": "@KimHoang yes the data to each user will be different and your right I probably shouldn&#39;t be broadcasting to all clients. I have no idea how I would specify to the correct clients. Anyway in regards to your answer below do you know how I can keep a steady clock running even if the user changes pages throughout the site?"}, {"owner": {"reputation": 1298, "user_id": 2944375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d7bfba157d3c1834aefba02a7458572c?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Hoang", "link": "https://stackoverflow.com/users/2944375/kim-hoang"}, "edited": false, "score": 0, "creation_date": 1482386745, "post_id": 41271555, "comment_id": 69754915, "body": "You just need to use setInterval or setTimeout. If you want to &#39; keep a steady clock running even if the user changes pages throughout the site&#39;, you may store the time for the last request in localStorage. When another page loads, retrieve that time from localStorage, then calculate the time you need."}, {"owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "reply_to_user": {"reputation": 1298, "user_id": 2944375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d7bfba157d3c1834aefba02a7458572c?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Hoang", "link": "https://stackoverflow.com/users/2944375/kim-hoang"}, "edited": false, "score": 0, "creation_date": 1482416266, "post_id": 41271555, "comment_id": 69772091, "body": "@KimHoang I am sorry but I still find it hard to believe that it is possible to do what I need with just javascript. At every 30 minute time interval check to see if there are any user (logged in user) notifications to display for that time and day. Would moment.js help?"}, {"owner": {"reputation": 1298, "user_id": 2944375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d7bfba157d3c1834aefba02a7458572c?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Hoang", "link": "https://stackoverflow.com/users/2944375/kim-hoang"}, "edited": false, "score": 0, "creation_date": 1482417736, "post_id": 41271555, "comment_id": 69773091, "body": "wait a bit, I will give you a sample"}], "answers": [{"comments": [{"owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "edited": false, "score": 0, "creation_date": 1482384290, "post_id": 41274761, "comment_id": 69754038, "body": "this got me thinking actually and I really hope I can do this with just JavaScript and Ajax requests, but how can I keep a steady timer running as the user changes pages. That would be the problem wouldn&#39;t it?"}], "tags": [], "owner": {"reputation": 1298, "user_id": 2944375, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d7bfba157d3c1834aefba02a7458572c?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Hoang", "link": "https://stackoverflow.com/users/2944375/kim-hoang"}, "is_accepted": false, "score": 1, "last_activity_date": 1482418123, "last_edit_date": 1482418123, "creation_date": 1482372297, "answer_id": 41274761, "question_id": 41271555, "link": "https://stackoverflow.com/questions/41271555/recurring-hangfire-job-for-each-user-of-an-asp-net-core-mvc-app-w-signalr/41274761#41274761", "title": "Recurring HangFire job for each user of an ASP.NET Core MVC app (w/ SignalR)", "body": "<p>I really don't think you need SignalR Hub for this case. You only need SignalR when you want user to receive immediate update of something. But actually the way you are doing is to send the data for every 30 minutes.\nIf so, why don't you just make the client request the data for every 30 minutes? It should be much better.</p>\n\n<ul>\n<li>You don't need to manage signalr connection id of each user.</li>\n<li>You don't need any background job for it</li>\n</ul>\n\n<p>Below is a sample code how to do it in javascript, using momentjs and localStorage:</p>\n\n<pre><code>function getData() {\n    var lastRequestTimeStr = localStorage.getItem('lastRequestTime');\n    if (lastRequestTimeStr) {\n        var lastRequestTime = moment(lastRequestTimeStr);\n        var now = moment();\n        if (now.diff(lastRequestTime, 'minutes') &gt;= 30) {\n            //get data from server now  \n\n            //save time to localStorage\n            localStorage.setItem('lastRequestTime', now.format());\n        }\n    }\n}\n\n$(document).ready(function () {\n    getData();\n    setInterval(getData, 60000); //call this getData every 1 minutes to make sure we do not miss\n})\n</code></pre>\n"}], "owner": {"reputation": 10797, "user_id": 5678853, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/d01c96f03cca4973f6ea3041dce9ab7d?s=128&d=identicon&r=PG&f=1", "display_name": "Blake Rivell", "link": "https://stackoverflow.com/users/5678853/blake-rivell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482418123, "creation_date": 1482352933, "last_edit_date": 1482353371, "question_id": 41271555, "link": "https://stackoverflow.com/questions/41271555/recurring-hangfire-job-for-each-user-of-an-asp-net-core-mvc-app-w-signalr", "title": "Recurring HangFire job for each user of an ASP.NET Core MVC app (w/ SignalR)", "body": "<p>I have an ASP.NET MVC Core application with HangFire installed.</p>\n\n<p>I am calling the following in Startup.Configure:</p>\n\n<pre><code>RecurringJob.AddOrUpdate(() =&gt; GetCurrentUserNotifications(\"User1\"), Cron.MinuteInterval(30));\n\n    public void GetCurrentUserNotifications(string userId)\n    {\n        _connectionManager.GetHubContext&lt;NotificationsHub&gt;()\n            .Clients.All.broadcastNotifications(_repository.GetNotifications()\n            .Where(x =&gt; x.DateTime == DateTime.Now &amp;&amp; x.CreatedBy == userId));\n    }\n</code></pre>\n\n<p>This way everytime the job runs, it will broadcast the notifications to the currently logged in user. The goal is to check the database every 30 minutes for any notifications created by the current logged in user where the Notification DateTime is equal to DateTime.Now().</p>\n\n<p>My concern is how I will handle when I have multiple clients at the same time. For example User1 is logged in and User2 is logged in. Should 2 separate Hangfire jobs be started or should I be broadcasting to SignalR differently?</p>\n"}, {"tags": ["c#", "wpf", "xaml", "uwp", "observablecollection"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 2, "creation_date": 1482353290, "post_id": 41271513, "comment_id": 69744525, "body": "<i>&quot;when anything changes inside the Main observable collection, like the quantity of a product. is there anyway to fire the CollectionChanged event&quot;</i> That has nothing at all to do with <code>CollectionChanged</code>. It&#39;s <code>INotifyPropertyChanged</code>. What you&#39;ve got is an ugly problem. <code>MainCategories</code> needs to handle <code>PropertyChanged</code> on all the <code>Dishes</code> in its collection. When the property to be summed changes, <code>MainCategories</code> recalculates the sum and assigns that to a property, maybe <code>MainCategories.Sum</code>. <code>MenuCollection</code> does same with the <code>Sum</code> properties of its items. XAML binds to MainCollection.Sum"}], "answers": [{"tags": [], "owner": {"reputation": 1645, "user_id": 4708150, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-j_DjtT7ocWM/AAAAAAAAAAI/AAAAAAAAJbk/hs0_qPOMUNA/photo.jpg?sz=128", "display_name": "TJ Rockefeller", "link": "https://stackoverflow.com/users/4708150/tj-rockefeller"}, "is_accepted": false, "score": 1, "last_activity_date": 1482357315, "last_edit_date": 1482357315, "creation_date": 1482356997, "answer_id": 41272469, "question_id": 41271513, "link": "https://stackoverflow.com/questions/41271513/observablecollection-inside-observablecollection-doent-fire-collection-changed/41272469#41272469", "title": "ObservableCollection inside ObservableCollection doen&#39;t fire Collection changed event", "body": "<p>I would consider possibly not using an observable collection if you need updates when items in the collection change. Observable collection is only useful for noting when items are added or removed from a collection.</p>\n\n<p>Something that I've done before is similar to the code below.</p>\n\n<p>In your <code>MainCategory</code> you would only expose an <code>IEnumerable&lt;Dish&gt;</code> instead of the full list. Then, in <code>MainCategory</code> you can create wrapping methods to add and remove dishes that subscribe to property changed notifications. Then every time a dish changes you can make updates to your aggregate values like Total and notify that your list of dishes has changed.</p>\n\n<pre><code>private List&lt;Dish&gt; _subMenuItems = new List&lt;Dish&gt;();\npublic IEnumerable&lt;Dish&gt; SubMenuItems { get { return _subMenuItems; } }\n\npublic void AddDish(Dish dish)\n{\n    _subMenuItems.Add(dish);\n    dish.PropertyChanged += dish_PropertyChanged;\n    OnPropertyChanged(\"SubMenuItems\");\n}\n\npublic void RemoveDish(Dish dish)\n{\n    if (_subMenuItems.Contains(dish))\n    {\n        dish.PropertyChanged -= dish_PropertyChanged;\n        _subMenuItems.Remove(dish);\n        OnPropertyChanged(\"SubMenuItems\");\n    }\n}\n\nprivate double _total;\npublic double Total\n{\n    get { return _total; }\n    set\n    {\n        if (_total != value)\n        {\n            _total = value;\n            OnPropertyChanged(\"Total\");\n        }\n    }\n}\n\nprivate void dish_PropertyChanged(object sender, PropertyChangedEventArgs e)\n{\n    Total = getTotal();\n    // any other aggregate calculations can go here.\n    OnPropertyChanged(\"SubMenuItems\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7065, "user_id": 181711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4930e6f619de2e346ee913e03841acb0?s=128&d=identicon&r=PG", "display_name": "Kevin Ross", "link": "https://stackoverflow.com/users/181711/kevin-ross"}, "is_accepted": false, "score": 1, "last_activity_date": 1482396263, "creation_date": 1482396263, "answer_id": 41278985, "question_id": 41271513, "link": "https://stackoverflow.com/questions/41271513/observablecollection-inside-observablecollection-doent-fire-collection-changed/41278985#41278985", "title": "ObservableCollection inside ObservableCollection doen&#39;t fire Collection changed event", "body": "<p>Another option that might work for you is something I picked up online a few years ago and is quite handy. It is call a \"Truly\" observable collection and will fire events not only when items are added/removed but also when properties on the items within the list change. I havent tried it with a collection within a collection but it should work</p>\n\n<pre><code>public sealed class TrulyObservableCollection&lt;T&gt; : ObservableCollection&lt;T&gt;\nwhere T : INotifyPropertyChanged\n{\n    public event PropertyChangedEventHandler ItemPropertyChanged;\n\n    public TrulyObservableCollection()\n        : base()\n    {\n        CollectionChanged += new NotifyCollectionChangedEventHandler(TrulyObservableCollection_CollectionChanged);\n    }\n\n    public TrulyObservableCollection(IEnumerable&lt;T&gt; pItems)\n        : this()\n    {\n        foreach (var item in pItems)\n        {\n            this.Add(item);\n        }\n    }\n\n    void TrulyObservableCollection_CollectionChanged(object sender, NotifyCollectionChangedEventArgs e)\n    {\n        if (e.NewItems != null)\n        {\n            foreach (Object item in e.NewItems)\n            {\n                (item as INotifyPropertyChanged).PropertyChanged += new PropertyChangedEventHandler(item_PropertyChanged);\n            }\n        }\n        if (e.OldItems != null)\n        {\n            foreach (Object item in e.OldItems)\n            {\n                (item as INotifyPropertyChanged).PropertyChanged -= new PropertyChangedEventHandler(item_PropertyChanged);\n            }\n        }\n    }\n\n    void item_PropertyChanged(object sender, PropertyChangedEventArgs e)\n    {\n        NotifyCollectionChangedEventArgs a = new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Reset);\n        OnCollectionChanged(a);\n\n        if (ItemPropertyChanged != null)\n        {\n            ItemPropertyChanged(sender, e);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 3019546, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1437617827/picture?type=large", "display_name": "Axilleas Kar", "link": "https://stackoverflow.com/users/3019546/axilleas-kar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 570, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482414224, "creation_date": 1482352732, "last_edit_date": 1482414224, "question_id": 41271513, "link": "https://stackoverflow.com/questions/41271513/observablecollection-inside-observablecollection-doent-fire-collection-changed", "title": "ObservableCollection inside ObservableCollection doen&#39;t fire Collection changed event", "body": "<p>For the last three days I've been facing a quite a composite problem. I am trying to make an order taking app, to do this I wanted to have an ObservableCollection containing MainCategory items. Now the MainCategory items contained a CategoryName and another ObservableCollection of dishes. The dishes have those props: name, price and quantity. I did all this and the bindings and everything works perfectly. </p>\n\n<p>The problem is at the bottom of the page (outside the ListView which is nested inside a Listview ) I want to have a TextBlock with the TotalValue that needs to change every time The quantity of a dish changes. I am using MVVM and I have done all the INotifyPropertyChanged to the props and the CollectionChanged, but this only works when I add or remove something. Not when I change the value of a prop in the second ObservableCollection.</p>\n\n<p>Here is some code:</p>\n\n<pre><code>    public class MenuCollection : ObservableCollection&lt;MainCategories&gt;,\nINotifyCollectionChanged, INotifyPropertyChanged\n{\n    public MenuCollection()\n    {\n        Add(new MainCategories(\"Category1\", false));\n        this[0].SubMenuItems.Add(new Dishes(\"Dish1\", 4));\n\n    }\n}\n\n public class MainCategories : MainViewModelBase\n{\n\n    public ObservableCollection&lt;Dishes&gt; SubMenuItems{get; set;}  \n    public MainCategories(string name, bool visible)\n    {\n        this.categoryName = name;\n        this.visible = visible;\n        SubMenuItems = new ObservableCollection&lt;Dishes&gt;();\n    }\n\n    public string categoryName;\n    public string CategoryName\n    {\n        get { return categoryName; }\n        set\n        {\n            if (categoryName != value)\n            {\n                categoryName = value;\n                OnPropertyChanged(\"CategoryName\");\n            }\n        }\n    }\n    public bool visible;\n    public bool Visible\n    {\n        get { return visible; }\n        set\n        {\n            if (visible != value)\n            {\n                visible = value;\n                OnPropertyChanged(\"Visible\");\n            }\n        }\n    }\n}\n\npublic class Dishes : MainViewModelBase\n{\n    public Dishes(string dishName, int price)\n    {\n        this.dishName = dishName;\n        this.dishPrice = price;\n        this.quantity = 0;\n    }\n\n    private string dishName;\n    public string DishName\n    {\n        get { return dishName; }\n        set\n        {\n            if (dishName != value)\n            {\n                dishName = value;\n                OnPropertyChanged(\"DishName\");\n            }\n        }\n    }\n    private int dishPrice;\n    public int DishPrice\n    {\n        get { return dishPrice; }\n        set\n        {\n            if (dishPrice != value)\n            {\n                dishPrice = value;\n                OnPropertyChanged(\"DishPrice\");\n            }\n        }\n    }\n    private int quantity;\n    public int Quantity\n    {\n        get { return quantity; }\n        set\n        {\n            if (quantity != value)\n            {\n                quantity = value;\n                OnPropertyChanged(\"Quantity\");\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>I just want to find a way to keep my total value update when anything changes inside the Main observable collection, like the quantity of a product. is there anyway to fire the CollectionChanged event?</p>\n\n<p>this is the UI\n<a href=\"https://i.stack.imgur.com/Ez4cW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ez4cW.png\" alt=\"this is the UI\"></a></p>\n\n<p>and an earlier version without the buttons\n<a href=\"https://i.stack.imgur.com/ykAhf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ykAhf.png\" alt=\"and an earlier version without the buttons\"></a></p>\n"}, {"tags": ["c#", ".net", "exception-handling"], "owner": {"reputation": 2225, "user_id": 840546, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/cb7c6eb17b2cb81e18ae39b8620833cb?s=128&d=identicon&r=PG", "display_name": "Dexters", "link": "https://stackoverflow.com/users/840546/dexters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 312, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1482353685, "creation_date": 1482352520, "last_edit_date": 1482353685, "question_id": 41271479, "link": "https://stackoverflow.com/questions/41271479/handling-webexception-properly", "title": "Handling WebException properly", "body": "<p>I am calling a webservice through WSDL generated proxy classes. In case of webexceptions how can we handle its cases to make sure we capture all information.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.net.webexceptionstatus%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.net.webexceptionstatus%28v=vs.110%29.aspx</a></p>\n\n<p>I believe this will always contains some information but it says in the article</p>\n\n<blockquote>\n  <p>This API supports the product infrastructure and is not intended to be used directly from your code. </p>\n</blockquote>\n\n<p>Then it proceeds to give an example using it the code here <a href=\"https://msdn.microsoft.com/en-us/library/system.net.webexception.response%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.net.webexception.response%28v=vs.110%29.aspx</a>.</p>\n\n<pre><code> if(e.Status == WebExceptionStatus.ProtocolError) {\n        Console.WriteLine(\"Status Code : {0}\", ((HttpWebResponse)e.Response).StatusCode);\n        Console.WriteLine(\"Status Description : {0}\", ((HttpWebResponse)e.Response).StatusDescription);\n    }\n</code></pre>\n\n<ul>\n<li><blockquote>\n  <p>How to best handle this exception. My priorities are     1) capturing\n  the exception information which i belive is <code>e.Status</code>? 2) HTTP codes/description         (like 500\n  internal server error)</p>\n</blockquote></li>\n<li><blockquote>\n  <p>will the StatusCode / StatusDescription be populated only when <code>e.Status == WebExceptionStatus.ProtocolError</code> because another <code>e.status = WebExceptionStatus.TimeOut</code> will it not be a <code>599</code> http error code or <code>499</code> when <code>WebExceptionStatus.ConnectionClosed</code> ?</p>\n</blockquote></li>\n<li><blockquote>\n  <p>what does <strong>MSDN</strong> mean by supports the product infrastructure and  don't use this in code?</p>\n</blockquote></li>\n<li><blockquote>\n  <p>will i need to capture any other information in case of other error status when its not a protocol exception (just for trapping more info for debugging like in case of the code sample in <strong>MSDN</strong> for <code>ProtocolError</code>).</p>\n</blockquote></li>\n</ul>\n"}, {"tags": ["c#", "mysql", "excel"], "answers": [{"tags": [], "owner": {"reputation": 511, "user_id": 2343086, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ca66d31bfccd0ac4e6910c999bd5ce6d?s=128&d=identicon&r=PG", "display_name": "abdul qayyum", "link": "https://stackoverflow.com/users/2343086/abdul-qayyum"}, "is_accepted": false, "score": 1, "last_activity_date": 1482353517, "last_edit_date": 1495540395, "creation_date": 1482353517, "answer_id": 41271703, "question_id": 41271458, "link": "https://stackoverflow.com/questions/41271458/transferring-excel-data-into-sql-table-with-different-columns/41271703#41271703", "title": "Transferring Excel data into SQL table with different columns", "body": "<p>You need No-SQL for this purpose, if you need to enter columns that are not already part of the table then sql is not a good option if you use c# to <a href=\"https://stackoverflow.com/a/4009473/2343086\">alter table</a>  then be careful to the consequences. If you are sure about all possible column names in front then try altering your table before you start insert  </p>\n"}, {"tags": [], "owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "is_accepted": false, "score": 0, "last_activity_date": 1484943924, "creation_date": 1484943924, "answer_id": 41771806, "question_id": 41271458, "link": "https://stackoverflow.com/questions/41271458/transferring-excel-data-into-sql-table-with-different-columns/41771806#41771806", "title": "Transferring Excel data into SQL table with different columns", "body": "<p>This should't be too hard.  Export your data from Excel to a staging table table in SQL Server.  The C# code may look something like this.</p>\n\n<pre><code>public void importdatafromexcel(string excelfilepath)\n{\n    //declare variables - edit these based on your particular situation\n    string ssqltable = \"tdatamigrationtable\";\n    // make sure your sheet name is correct, here sheet name is sheet1, so you can change your sheet name if have\n    different\n    string myexceldataquery = \"select student,rollno,course from [sheet1$]\";\n    try\n    {\n        //create our connection strings\n        string sexcelconnectionstring = @\"provider=microsoft.jet.oledb.4.0;data source=\" + excelfilepath +\n        \";extended properties=\" + \"\\\"excel 8.0;hdr=yes;\\\"\";\n        string ssqlconnectionstring = \"server=mydatabaseservername;user\n        id=dbuserid;password=dbuserpassword;database=databasename;connection reset=false\";\n        //execute a query to erase any previous data from our destination table\n        string sclearsql = \"delete from \" + ssqltable;\n        sqlconnection sqlconn = new sqlconnection(ssqlconnectionstring);\n        sqlcommand sqlcmd = new sqlcommand(sclearsql, sqlconn);\n        sqlconn.open();\n        sqlcmd.executenonquery();\n        sqlconn.close();\n        //series of commands to bulk copy data from the excel file into our sql table\n        oledbconnection oledbconn = new oledbconnection(sexcelconnectionstring);\n        oledbcommand oledbcmd = new oledbcommand(myexceldataquery, oledbconn);\n        oledbconn.open();\n        oledbdatareader dr = oledbcmd.executereader();\n        sqlbulkcopy bulkcopy = new sqlbulkcopy(ssqlconnectionstring);\n        bulkcopy.destinationtablename = ssqltable;\n        while (dr.read())\n        {\n            bulkcopy.writetoserver(dr);\n        }\n\n        oledbconn.close();\n    }\n    catch (exception ex)\n    {\n        //handle exception\n    }\n}\n</code></pre>\n\n<p>Then, in SQL Server, move the data from the staging table to your final production table.  Your SQL may look something like this.</p>\n\n<pre><code>insert into production\nselect ...\nfrom staging\nwhere not exists \n(\n    select 1 from staging\n    where staging.key = production.key\n)\n</code></pre>\n\n<p>That's my .02.  I think you will have a lot more control over the whole process that way.</p>\n"}, {"tags": [], "owner": {"reputation": 1853, "user_id": 3699830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b23BX.jpg?s=128&g=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/3699830/juan"}, "is_accepted": false, "score": 0, "last_activity_date": 1486717599, "creation_date": 1486717599, "answer_id": 42155400, "question_id": 41271458, "link": "https://stackoverflow.com/questions/41271458/transferring-excel-data-into-sql-table-with-different-columns/42155400#42155400", "title": "Transferring Excel data into SQL table with different columns", "body": "<p>If you are reading this question then my answer to this other question may be helpful for you (just create a Class to handle each row information, process the excel file and perform a bulk insert like explained there):</p>\n\n<p><a href=\"https://stackoverflow.com/questions/41697182/bulk-insert-is-not-working-properly-in-azure-sql-server/42154798#42154798\">Bulk insert is not working properly in Azure SQL Server</a></p>\n\n<p>I hope it helps.</p>\n"}], "owner": {"reputation": 67, "user_id": 4971115, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/60cd457a1d470216e59dd0e3a89f3180?s=128&d=identicon&r=PG&f=1", "display_name": "james andy", "link": "https://stackoverflow.com/users/4971115/james-andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1272, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1506173943, "creation_date": 1482352446, "last_edit_date": 1506173943, "question_id": 41271458, "link": "https://stackoverflow.com/questions/41271458/transferring-excel-data-into-sql-table-with-different-columns", "title": "Transferring Excel data into SQL table with different columns", "body": "<p>I want user to transfer data from Excel files into SQL using a C# WinForms application one file at a time. The Excel files consist of similar columns, and so there might be some new columns or columns absent. Row data will vary.</p>\n\n<p>For example:</p>\n\n<p><strong>Excel file 1:</strong> Name, City State<br>\n<strong>Excel file 2:</strong> Name, City, Zip<br>\n<strong>Excel file 3:</strong> Name, City, County</p>\n\n<p>In my existing SQL table I have columns: Name, City, Population, Schools</p>\n\n<p>How do I insert the new Excel files with similar column names into an existing SQL database?</p>\n\n<p>My thought so far is to copy the new Excel file data into temporary tables, and then insert that into the existing SQL table. The problem is, I don't know how to write C# code (or a SQL query) that would insert new Excel data with more or less columns than the existing SQL table.</p>\n"}, {"tags": ["c#", "logging"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1482352793, "post_id": 41271441, "comment_id": 69744250, "body": "Long shot, and I haven&#39;t used it myself, but does this help <a href=\"https://blogs.msdn.microsoft.com/hkamel/2013/10/24/visual-studio-2013-static-code-analysis-in-depth-what-when-and-how/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/hkamel/2013/10/24/&hellip;</a>? You can create custom rules for the built-in static analysis tool."}, {"owner": {"reputation": 7680, "user_id": 1696326, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/uNwAg.jpg?s=128&g=1", "display_name": "Abhinav Galodha", "link": "https://stackoverflow.com/users/1696326/abhinav-galodha"}, "edited": false, "score": 1, "creation_date": 1482352794, "post_id": 41271441, "comment_id": 69744252, "body": "Putting the logging code into each method doesn&#39;t seem to be good scalable &amp; maintainable design."}, {"owner": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 2, "creation_date": 1482352856, "post_id": 41271441, "comment_id": 69744290, "body": "I think you should be looking for some AOP solution for logging where you don&#39;t have to remember to add logging to every method or remember to update the parameter list when and if they change."}], "answers": [{"tags": [], "owner": {"reputation": 1996, "user_id": 1721372, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/352f94bbc1ce5d1e1ab9a81ae5a7cc91?s=128&d=identicon&r=PG", "display_name": "The Pax Bisonica", "link": "https://stackoverflow.com/users/1721372/the-pax-bisonica"}, "is_accepted": true, "score": 3, "last_activity_date": 1482441387, "last_edit_date": 1495540448, "creation_date": 1482440693, "answer_id": 41291637, "question_id": 41271441, "link": "https://stackoverflow.com/questions/41271441/enforcing-a-particular-number-of-parameters/41291637#41291637", "title": "Enforcing a particular number of parameters", "body": "<p>You should be able to accomplish this using the new Roslyn API's. You'll want to install the SDK here:</p>\n\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=VisualStudioProductTeam.NETCompilerPlatformSDK\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=VisualStudioProductTeam.NETCompilerPlatformSDK</a></p>\n\n<p>Once installed you should go to new project and navigate to Extensibility and you'll see the project type Analyzer with Code Fix (NuGet + VSIX) template. I created a sample project that I used to show the compiler errors:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace AnalyzerTest\n{\n    public static class Logger\n    {\n        public static void Log(params object[] parameters)\n        {\n\n        }\n    }\n}\n\nnamespace AnalyzerTest\n{\n    public class Foo\n    {\n        public void Foo1(int a, int b)\n        {\n            // Didn't record any of the parameters\n            Logger.Log();\n            // Rest of method\n        }\n    }\n}\n</code></pre>\n\n<p>I created a separate project for the analyzer and here is the code for the analyzer class:</p>\n\n<pre><code>using System;\nusing System.Collections.Immutable;\nusing Microsoft.CodeAnalysis;\nusing Microsoft.CodeAnalysis.CSharp;\nusing Microsoft.CodeAnalysis.CSharp.Syntax;\nusing Microsoft.CodeAnalysis.Diagnostics;\nusing Microsoft.CodeAnalysis.Semantics;\n\nnamespace Analyzer1\n{\n    [DiagnosticAnalyzer(LanguageNames.CSharp)]\n    public class LoggerAnalyzer : DiagnosticAnalyzer\n    {\n        public const string DiagnosticId = \"Logging\";\n        internal const string Title = \"Logging error\";\n        internal const string MessageFormat = \"Logging error {0}\";\n        internal const string Description = \"You should have the same amount of arguments in the logger as you do in the method.\";\n        internal const string Category = \"Syntax\";\n\n        internal static DiagnosticDescriptor Rule =\n          new DiagnosticDescriptor(DiagnosticId, Title, MessageFormat,\n          Category, DiagnosticSeverity.Error, isEnabledByDefault: true, description: Description);\n\n        public override ImmutableArray&lt;DiagnosticDescriptor&gt;\n          SupportedDiagnostics\n        { get { return ImmutableArray.Create(Rule); } }\n\n        public override void Initialize(AnalysisContext context)\n        {\n            context.RegisterSyntaxNodeAction(\n              AnalyzeNode, SyntaxKind.InvocationExpression);\n        }\n\n        private void AnalyzeNode(SyntaxNodeAnalysisContext context)\n        {\n            var invocationExpr = (InvocationExpressionSyntax)context.Node;\n            var memberAccessExpr = invocationExpr.Expression as MemberAccessExpressionSyntax;\n\n            if (memberAccessExpr != null &amp;&amp; memberAccessExpr.Name.ToString() != \"Log\")\n            {\n                return;\n            }\n\n            var memberSymbol =\n                context.SemanticModel.GetSymbolInfo(memberAccessExpr).Symbol as IMethodSymbol;\n\n            if (memberSymbol == null || !memberSymbol.ToString().StartsWith(\"AnalyzerTest.Logger.Log\"))\n            {\n                return;\n            }\n\n            MethodDeclarationSyntax parent = GetParentMethod(context.Node);\n            if(parent == null)\n            {\n                return;\n            }\n\n            var argumentList = invocationExpr.ArgumentList;\n\n            Int32 parentArgCount = parent.ParameterList.Parameters.Count;\n            Int32 argCount = argumentList != null ? argumentList.Arguments.Count : 0;\n\n            if (parentArgCount != argCount)\n            {\n                var diagnostic = Diagnostic.Create(Rule, invocationExpr.GetLocation(), Description);\n                context.ReportDiagnostic(diagnostic);\n            }\n        }\n\n        private MethodDeclarationSyntax GetParentMethod(SyntaxNode node)\n        {\n            var parent = node.Parent as MethodDeclarationSyntax;\n            if(parent == null)\n            {\n                return GetParentMethod(node.Parent);\n            }\n\n            return parent;\n        }\n    }\n}\n</code></pre>\n\n<p>While in the Analyzer with Code Fix project you can hit F5 (as long as your .Vsix project is the startup project) and it will open up another VS instance and you can choose the project you would like to test the analyzer on. </p>\n\n<p>Here is the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2tw0q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2tw0q.png\" alt=\"enter image description here\"></a></p>\n\n<p>It also looks like you will have to install this as a NuGet package instead of a VS Extension, for whatever reason VS Extensions don't affect the build and you will only get the warning:</p>\n\n<p><a href=\"https://stackoverflow.com/a/39657967/1721372\">https://stackoverflow.com/a/39657967/1721372</a></p>\n\n<p>For a more complete example see here:</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/magazine/dn879356.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/magazine/dn879356.aspx</a></p>\n"}], "owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 1, "accepted_answer_id": 41291637, "answer_count": 1, "score": 3, "last_activity_date": 1482441387, "creation_date": 1482352368, "question_id": 41271441, "link": "https://stackoverflow.com/questions/41271441/enforcing-a-particular-number-of-parameters", "title": "Enforcing a particular number of parameters", "body": "<p>I have a logger that records the method name (which I get through reflection) and parameters (which are manually passed to the logger). Here's an example of the proper way to do the logging:</p>\n\n<pre><code>public void Foo() {\n   // This is correct - the method has no parameters, neither does the logging\n   Logger.Log();\n   // Method\n}\n\npublic void Foo1(int a, int b) {\n    // Log both of the parameters correctly\n    Logger.Log(a, b);\n    // Rest of method\n}\n</code></pre>\n\n<p>However, people will periodically call this incorrectly. For example:</p>\n\n<pre><code>public void Foo1(int a, int b) {\n   // Didn't record any of the parameters\n   Logger.Log();\n   // Rest of method\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>public void Foo1(int a, int b, int c) {\n    // Someone changed the number of parameters but didn't update the logging call\n    Logger.Log(a, b);\n}\n</code></pre>\n\n<p>The signature of the Log method is:</p>\n\n<pre><code>public void Log(params object[] parameters)\n</code></pre>\n\n<p>I'd like to have some way of requiring that <code>Logger.Log</code> have the same number of parameters as the method calling it does.</p>\n\n<p>I know how to do this at runtime (just use reflection to get the parameter list for the caller and compare it to what parameters I actually received), but that would be a really bad solution to this I think since the vast majority of the checks would be unnecessary. (It would also mean that you wouldn't know until runtime that you had written it incorrectly, and then only if you happened to execute that particular method).</p>\n\n<p>Right now we're not using FxCop unfortunately (or I'd just write some kind of rule) and I suspect that I wouldn't succeed in changing that fact. Short of writing a compiler plugin of some kind, is there a way to force people to use this method correctly?</p>\n"}, {"tags": ["c#", "wpf", "xaml", "scrollview"], "comments": [{"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1482353301, "post_id": 41271400, "comment_id": 69744532, "body": "Unless you want to do some rather involved custom templating, a quick workaround is just hide the horizontalbarvisibility in the scrollviewer, and instead use just a scrollbar bound to the offset and scrollchanged properties of the scrollviewer you want to interact with. Would take longer to make an example than I have in free time though, sorry amigo"}, {"owner": {"reputation": 357, "user_id": 1161162, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/24b288d9a2b5a63ff0a775754285e62b?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1161162/bryan"}, "edited": false, "score": 0, "creation_date": 1482353835, "post_id": 41271400, "comment_id": 69744823, "body": "In your example, your ScrollViewer is not in the same grid as the combo box and the image.  Is that intentional??"}, {"owner": {"reputation": 513, "user_id": 3253728, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/009c190de37420e4b33b78649b3108f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sameed", "link": "https://stackoverflow.com/users/3253728/sameed"}, "reply_to_user": {"reputation": 357, "user_id": 1161162, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/24b288d9a2b5a63ff0a775754285e62b?s=128&d=identicon&r=PG", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1161162/bryan"}, "edited": false, "score": 0, "creation_date": 1482354060, "post_id": 41271400, "comment_id": 69744926, "body": "@Bryan yes because I don&#39;t want these controls to flow with the grid content when user scrolls."}, {"owner": {"reputation": 513, "user_id": 3253728, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/009c190de37420e4b33b78649b3108f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sameed", "link": "https://stackoverflow.com/users/3253728/sameed"}, "reply_to_user": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1482354137, "post_id": 41271400, "comment_id": 69744972, "body": "@chris little code example would be helpful"}, {"owner": {"reputation": 513, "user_id": 3253728, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/009c190de37420e4b33b78649b3108f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sameed", "link": "https://stackoverflow.com/users/3253728/sameed"}, "edited": false, "score": 0, "creation_date": 1482388977, "post_id": 41271400, "comment_id": 69755799, "body": "Somebody ? Anybody ?"}], "answers": [{"comments": [{"owner": {"reputation": 513, "user_id": 3253728, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/009c190de37420e4b33b78649b3108f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sameed", "link": "https://stackoverflow.com/users/3253728/sameed"}, "edited": false, "score": 0, "creation_date": 1482495808, "post_id": 41288537, "comment_id": 69805204, "body": "Thanks mate, great answer, I followed this approach and implemented it in XAML, works like a charm."}, {"owner": {"reputation": 1557, "user_id": 1326370, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/065cb96920b0351ed9cfbd4ede700be7?s=128&d=identicon&r=PG", "display_name": "sclarke81", "link": "https://stackoverflow.com/users/1326370/sclarke81"}, "reply_to_user": {"reputation": 513, "user_id": 3253728, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/009c190de37420e4b33b78649b3108f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sameed", "link": "https://stackoverflow.com/users/3253728/sameed"}, "edited": false, "score": 0, "creation_date": 1483142763, "post_id": 41288537, "comment_id": 70011107, "body": "No problem, I&#39;m glad it helped you find the answer. I&#39;d be keen to see your XAML solution. Could you add it to your question or something?"}], "tags": [], "owner": {"reputation": 1557, "user_id": 1326370, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/065cb96920b0351ed9cfbd4ede700be7?s=128&d=identicon&r=PG", "display_name": "sclarke81", "link": "https://stackoverflow.com/users/1326370/sclarke81"}, "is_accepted": true, "score": 2, "last_activity_date": 1482426947, "creation_date": 1482426947, "answer_id": 41288537, "question_id": 41271400, "link": "https://stackoverflow.com/questions/41271400/show-controls-in-scrollviewer-row-along-the-scrollbar/41288537#41288537", "title": "Show controls in Scrollviewer row along the Scrollbar", "body": "<p>I haven't looked at doing this in XAML, but you can do it like this in the code behind:</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    private void IncrementColumn(UIElement element)\n    {\n        Grid.SetColumn(element, Grid.GetColumn(element) + 1);\n    }\n\n    public MainWindow()\n    {\n        InitializeComponent();\n\n        scrollPanel.ApplyTemplate();\n\n        var horizontal = scrollPanel.Template.FindName(\"PART_HorizontalScrollBar\", scrollPanel) as ScrollBar;\n        var vertical = scrollPanel.Template.FindName(\"PART_VerticalScrollBar\", scrollPanel) as ScrollBar;\n        var presenter = scrollPanel.Template.FindName(\"PART_ScrollContentPresenter\", scrollPanel) as ScrollContentPresenter;\n        var corner = scrollPanel.Template.FindName(\"Corner\", scrollPanel) as Rectangle;\n        var grid = corner.Parent as Grid;\n\n        grid.ColumnDefinitions.Insert(0, new ColumnDefinition() { Width = new GridLength(1, GridUnitType.Auto) });\n        IncrementColumn(horizontal);\n        IncrementColumn(vertical);\n        IncrementColumn(corner);\n        Grid.SetColumnSpan(presenter, 2);\n\n        var panel = new StackPanel() { Orientation = Orientation.Horizontal };\n        panel.Children.Add(new ComboBox());\n        panel.Children.Add(new Image());\n\n        Grid.SetRow(panel, 1);\n        Grid.SetColumn(panel, 0);\n        grid.Children.Add(panel);\n    }\n}\n</code></pre>\n\n<p>Here's the XAML to go with it:</p>\n\n<pre><code>&lt;Window x:Class=\"WpfApplication1.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        Title=\"MainWindow\" Height=\"150\" Width=\"525\"&gt;\n        &lt;ScrollViewer\n            Name=\"scrollPanel\"\n            HorizontalScrollBarVisibility=\"Visible\"\n            HorizontalAlignment=\"Stretch\"\n            VerticalScrollBarVisibility=\"Auto\"\n            VerticalAlignment=\"Stretch\"&gt;\n            &lt;Grid              \n                HorizontalAlignment=\"Stretch\" \n                VerticalAlignment=\"Stretch\"&gt;\n                &lt;Image Source=\"C:\\Users\\Public\\Pictures\\Sample Pictures\\Desert.jpg\"/&gt;\n            &lt;/Grid&gt;\n        &lt;/ScrollViewer&gt;\n&lt;/Window&gt;\n</code></pre>\n"}], "owner": {"reputation": 513, "user_id": 3253728, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/009c190de37420e4b33b78649b3108f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sameed", "link": "https://stackoverflow.com/users/3253728/sameed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 41288537, "answer_count": 1, "score": 1, "last_activity_date": 1482426947, "creation_date": 1482352174, "last_edit_date": 1482387157, "question_id": 41271400, "link": "https://stackoverflow.com/questions/41271400/show-controls-in-scrollviewer-row-along-the-scrollbar", "title": "Show controls in Scrollviewer row along the Scrollbar", "body": "<p>So I have this scenario in which I am showing a <code>Grid</code> inside a <code>ScrollViewer</code>.\nI want to show a combobox and an image along the scrollbar in a way that it doesn't effect the scrolling functionality,\nSomething like this:\n<a href=\"https://i.stack.imgur.com/CTMqX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CTMqX.png\" alt=\"enter image description here\"></a> </p>\n\n<p>Currently whenever the scrollviewer becomes visible it appears in a new row, how can I show it along the controls in the same row? </p>\n\n<p>Here is my xaml design:</p>\n\n<pre><code>&lt;DockPanel  LastChildFill=\"True\"&gt;\n\n    &lt;!--Top Panel--&gt;\n    &lt;Grid DockPanel.Dock=\"Top\"&gt;\n      --GridContent\n    &lt;/Grid&gt;\n\n    &lt;!--Bottom Panel--&gt;\n    &lt;Grid DockPanel.Dock=\"Bottom\"&gt;\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=\"Auto\" /&gt;\n            &lt;ColumnDefinition Width=\"Auto\" /&gt;\n            &lt;ColumnDefinition Width=\"*\" /&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n\n\n        &lt;ComboBox Grid.Column =\"0\"&gt; \n        &lt;/ComboBox&gt;\n\n      &lt;Image Grid.Column=\"1\"&gt;\n\n      &lt;/Image&gt;\n    &lt;/Grid&gt;\n\n    &lt;ScrollViewer   HorizontalScrollBarVisibility=\"Auto\"  HorizontalAlignment=\"Stretch\"\n                    VerticalScrollBarVisibility=\"Auto\" VerticalAlignment=\"Stretch\" &gt;\n        &lt;Grid              \n              HorizontalAlignment=\"Stretch\" \n              VerticalAlignment=\"Stretch\"&gt;\n          -- Grid Content\n        &lt;/Grid&gt;\n    &lt;/ScrollViewer&gt;\n&lt;/DockPanel&gt;\n</code></pre>\n\n<p>Currently it appears like this :</p>\n\n<p><a href=\"https://i.stack.imgur.com/6vhCz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6vhCz.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "xaml", "combobox", "uwp", "uwp-xaml"], "answers": [{"tags": [], "owner": {"reputation": 14820, "user_id": 5506161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iLSYt.jpg?s=128&g=1", "display_name": "Jay Zuo", "link": "https://stackoverflow.com/users/5506161/jay-zuo"}, "is_accepted": false, "score": 1, "last_activity_date": 1483099903, "creation_date": 1483099903, "answer_id": 41396065, "question_id": 41271396, "link": "https://stackoverflow.com/questions/41271396/is-there-an-equivalent-for-combobox-maxdropdownitems-in-uwp-xaml/41396065#41396065", "title": "Is there an equivalent for ComboBox.MaxDropDownItems in UWP XAML?", "body": "<p>As you've know <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.combobox.maxdropdownitems(v=vs.110).aspx\" rel=\"nofollow noreferrer\">ComboBox.MaxDropDownItems Property</a> is not available in UWP apps. The equivalent property in UWP is <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.controls.combobox.maxdropdownheight.aspx\" rel=\"nofollow noreferrer\"><strong>ComboBox.MaxDropDownHeight</strong></a> property. With this property, we can set the maximum height for a combo box drop-down. This value does not need to be precise. <code>ComboBox</code> will automatically adjust the number of visible items according to <code>MaxDropDownHeight</code>. You can calculate an approximate value to achieve what yo want.</p>\n"}], "owner": {"reputation": 23, "user_id": 1472473, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/Xdmrq.jpg?s=128&g=1", "display_name": "Stanley Ayzenberg", "link": "https://stackoverflow.com/users/1472473/stanley-ayzenberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483099903, "creation_date": 1482352169, "question_id": 41271396, "link": "https://stackoverflow.com/questions/41271396/is-there-an-equivalent-for-combobox-maxdropdownitems-in-uwp-xaml", "title": "Is there an equivalent for ComboBox.MaxDropDownItems in UWP XAML?", "body": "<p>WPF had a property on ComboBoxes called MaxDropDownItems that allowed you to set the number of combobox items visible in the popup without scrolling. It seems that that property doesn't exist in UWPs. Is there some equivalent that achieves the same effect? I'm trying to set the number of items visible before scrolling, but it seems to be fixed at nine by default, and I can't find anything pertinent in generic.xaml.</p>\n"}, {"tags": ["c#", "imagemagick", "magick.net"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 7, "creation_date": 1482351964, "post_id": 41271330, "comment_id": 69743772, "body": "What error do you get?"}, {"owner": {"reputation": 3255, "user_id": 2134021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/6vRxL.png?s=128&g=1", "display_name": "Marshall Tigerus", "link": "https://stackoverflow.com/users/2134021/marshall-tigerus"}, "edited": false, "score": 0, "creation_date": 1482352533, "post_id": 41271330, "comment_id": 69744123, "body": "out of curiosity, does it still crash if you do using(MagickImage result = new MagickImage(&quot;blarg.png&quot;)) instead of the montage?"}, {"owner": {"reputation": 356, "user_id": 150582, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92d6b1feafbf0173eca6678c667033bb?s=128&d=identicon&r=PG", "display_name": "Jon Weinraub", "link": "https://stackoverflow.com/users/150582/jon-weinraub"}, "edited": false, "score": 0, "creation_date": 1482354637, "post_id": 41271330, "comment_id": 69745235, "body": "error added in original question."}, {"owner": {"reputation": 356, "user_id": 150582, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92d6b1feafbf0173eca6678c667033bb?s=128&d=identicon&r=PG", "display_name": "Jon Weinraub", "link": "https://stackoverflow.com/users/150582/jon-weinraub"}, "edited": false, "score": 0, "creation_date": 1482354860, "post_id": 41271330, "comment_id": 69745364, "body": "yes, unhandled exception gets thrown on the result.  I am suspecting it is the redeclaration of <code>MagickImage image = new MagickImage</code> when the button is pressed a second time while the program is still running."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1482553415, "post_id": 41271330, "comment_id": 69823890, "body": "It looks as though the file <code>blarg.png</code> might have been left open somehow.  Try writing to a different file each time."}, {"owner": {"reputation": 356, "user_id": 150582, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92d6b1feafbf0173eca6678c667033bb?s=128&d=identicon&r=PG", "display_name": "Jon Weinraub", "link": "https://stackoverflow.com/users/150582/jon-weinraub"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1482858539, "post_id": 41271330, "comment_id": 69900144, "body": "@dbc - interesting.  I tried now two different theories.  First yours, and it worked fine.  Then I reverted, back to what I did, and commented out <code>Preview.BackgroundImage = Image.FromFile(&quot;blarg.png&quot;);</code> which is where it actually crashes.  So, now I know it is the background preview image that is faulting.  I suspect I should edit the original question since that is what is now at fault?"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1482972647, "post_id": 41271330, "comment_id": 69945311, "body": "@JonWeinraub - According to the <a href=\"https://msdn.microsoft.com/en-us/library/stf701f5(v=vs.110).aspx\" rel=\"nofollow noreferrer\">docs</a> for <code>Image.FromFile()</code>, <i>The file remains locked until the Image is disposed.</i>  So you need to dispose the image immediately after loading, cloning it first.  See <a href=\"http://stackoverflow.com/a/8701748/3744182\">stackoverflow.com/a/8701748/3744182</a>"}, {"owner": {"reputation": 6835, "user_id": 2410453, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wLIMR.png?s=128&g=1", "display_name": "dlemstra", "link": "https://stackoverflow.com/users/2410453/dlemstra"}, "edited": false, "score": 0, "creation_date": 1483049216, "post_id": 41271330, "comment_id": 69978041, "body": "Are you sure that calling <code>Preview.Dispose();</code> is correct? Why would you need to dispose the preview pane?"}, {"owner": {"reputation": 356, "user_id": 150582, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92d6b1feafbf0173eca6678c667033bb?s=128&d=identicon&r=PG", "display_name": "Jon Weinraub", "link": "https://stackoverflow.com/users/150582/jon-weinraub"}, "edited": false, "score": 0, "creation_date": 1483455327, "post_id": 41271330, "comment_id": 70098642, "body": "It is the preview pane that is actually crashing.  If I comment it out, the file gets overwritten fine (since I can go to location where the file is being saved and view it actually changed).  the preview pane it seems is unable to update itself when i tell it to use the same file again.  if i use a different file, it works, fine, which perhaps is another solution, but feels like a cop out.  i will try the disposing / clone though."}], "answers": [{"comments": [{"owner": {"reputation": 356, "user_id": 150582, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92d6b1feafbf0173eca6678c667033bb?s=128&d=identicon&r=PG", "display_name": "Jon Weinraub", "link": "https://stackoverflow.com/users/150582/jon-weinraub"}, "edited": false, "score": 0, "creation_date": 1483539505, "post_id": 41453874, "comment_id": 70137438, "body": "Ah, that makes sense, and works, thanks!  When I tried putting dispose in an if not equals null block, when it later tried to assign it, I got a null reference exception thrown.  Is the <code>using</code> method a better way in handling these sort of things opposed to the way I did it?"}], "tags": [], "owner": {"reputation": 6835, "user_id": 2410453, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wLIMR.png?s=128&g=1", "display_name": "dlemstra", "link": "https://stackoverflow.com/users/2410453/dlemstra"}, "is_accepted": true, "score": 2, "last_activity_date": 1483485671, "creation_date": 1483485671, "answer_id": 41453874, "question_id": 41271330, "link": "https://stackoverflow.com/questions/41271330/exception-creating-and-saving-an-image-multiple-times-with-imagemagick-net/41453874#41453874", "title": "Exception creating and saving an image multiple times with ImageMagick.net", "body": "<p><code>Image.FromFile</code> will lock the file. You should do something like the example below to avoid the lock.</p>\n\n<pre><code>if (Preview.BackgroundImage != null)\n  Preview.BackgroundImage.Dispose();\n\nusing (var bitmap = new Bitmap(\"blarg.png\"))\n{\n  Preview.BackgroundImage = new Bitmap(bitmap);\n}\n</code></pre>\n"}], "owner": {"reputation": 356, "user_id": 150582, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/92d6b1feafbf0173eca6678c667033bb?s=128&d=identicon&r=PG", "display_name": "Jon Weinraub", "link": "https://stackoverflow.com/users/150582/jon-weinraub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2546, "favorite_count": 0, "accepted_answer_id": 41453874, "answer_count": 1, "score": 0, "last_activity_date": 1483485671, "creation_date": 1482351906, "last_edit_date": 1482867687, "question_id": 41271330, "link": "https://stackoverflow.com/questions/41271330/exception-creating-and-saving-an-image-multiple-times-with-imagemagick-net", "title": "Exception creating and saving an image multiple times with ImageMagick.net", "body": "<p>Perhaps I am wording that question poorly, but I am trying to follow the ImageMagick.net library documentation and I have a program that generates text based on user input.  </p>\n\n<p>It works great the first time, but program crashes subsequent times, whilst it is still running.</p>\n\n<p>If I quit and relaunch it overwrites the previous file that is there without a hitch.  </p>\n\n<pre><code>using (MagickImageCollection images = new MagickImageCollection())\n{\n    MagickReadSettings readSettings = new MagickReadSettings()\n    {\n        BackgroundColor = MagickColors.None, // -background none\n        FillColor = MagickColors.Black, // -fill black\n        Font = \"Helvetica-Condensed-Light\", // -font Helvetica-Condensed-Light\n        FontPointsize = 26 // -pointsize 26\n    };\n\n    // this being declared a second time is probably why it crashes.\n\n    MagickImage image = new MagickImage(\"label:\" + output, readSettings);\n    image.RemoveAttribute(\"label\"); // +set label\n    images.Add(image);\n\n    MontageSettings montageSettings = new MontageSettings()\n    {\n        BackgroundColor = MagickColors.None, // -background none\n        Shadow = true, // -shadow\n        Geometry = new MagickGeometry(5, 5, 0, 0) // -geometry +5+5\n    };\n\n    using (MagickImage result = images.Montage(montageSettings))\n    {\n        result.Write(\"blarg.png\");\n    }\n}\n</code></pre>\n\n<p>since the action of the above function resides in a button event handler, thus if pressed a second time, it will be declared a second time, but I am still relatively new to C# as well and unsure of a way to rewrite this <em>properly</em> since I am adapting it from their documentation.</p>\n\n<p>Error:</p>\n\n<pre><code>Exception thrown: 'ImageMagick.MagickCoderErrorException' in Magick.NET-Q8-x64.dll\nException type ImageMagick.MagickCoderErrorException\nException message: WriteBlob Failed `blarg.png' @ error/png.c/MagickPNGErrorHandler/1650\nStack trace:    at ImageMagick.MagickExceptionHelper.Check(IntPtr exception)\n  at ImageMagick.MagickImage.NativeMagickImage.WriteFile(MagickSettings settings)\n  at phVer.frmMain.btnGenerate_Click(Object sender, EventArgs e) in C:\\Users\\jweinraub\\documents\\visual studio 2015\\Projects\\phVer\\phVer\\Form1.cs:line 83\n---BEGIN InnerException--- \nException type ImageMagick.MagickBlobErrorException\nException message: unable to open image 'blarg.png': Permission denied @   error/blob.c/OpenBlob/2695\nStack trace: \n---END Inner Exception\n</code></pre>\n\n<p><strong>Update</strong>:  It seems the actual problem is I have a preview pane that contains a background image of the image that gets saved.  Subsequent runs crashes.  Removing the preview pane allows the file to be written numerous times but unsure why preview pane has an issue (its a panel control with background image control).  I've tried setting to null/disposing/&amp;c to no avail.</p>\n\n<pre><code>/* Preview.BackgroundImage = Image.FromFile(\"blarg.png\"); */\nif ( Preview.BackgroundImage != null )\n{\n    Preview.BackgroundImage.Dispose();\n    Preview.BackgroundImage = null;\n    Preview.Dispose();\n}\nvar image2 = (Bitmap)Image.FromFile(\"blarg.png\", true);\nPreview.BackgroundImage = image2;\n</code></pre>\n"}, {"tags": ["javascript", "c#", "asp.net", "charts", "google-visualization"], "comments": [{"owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "edited": false, "score": 1, "creation_date": 1482352054, "post_id": 41271198, "comment_id": 69743815, "body": "will you please share a sample of the data? --&gt; <code>console.log(JSON.stringify(chartData))</code>"}, {"owner": {"reputation": 33, "user_id": 7327234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c645daf9fc60579b6c3755d32981dbb?s=128&d=identicon&r=PG&f=1", "display_name": "Arqu07", "link": "https://stackoverflow.com/users/7327234/arqu07"}, "reply_to_user": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "edited": false, "score": 0, "creation_date": 1482354883, "post_id": 41271198, "comment_id": 69745371, "body": "Sorry, I&#39;m totaly newbie, I&#39;m don&#39;t understant, what do you really need? Do you mean that -&gt; <a href=\"http://scr.hu/0wq4l/lkp7m\" rel=\"nofollow noreferrer\">link</a>   ?"}, {"owner": {"reputation": 1615, "user_id": 4092887, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/814vu.png?s=128&g=1", "display_name": "Mauricio Arias Olave", "link": "https://stackoverflow.com/users/4092887/mauricio-arias-olave"}, "edited": false, "score": 0, "creation_date": 1482355876, "post_id": 41271198, "comment_id": 69745841, "body": "@Arqu07, try add the line of code posted by SO User <i>WhiteHat</i> is his <a href=\"http://stackoverflow.com/questions/41271198/all-series-on-a-given-axis-must-be-of-the-same-data-type-error-message-while-d#comment69745371_41271198\">comment</a> in your success function: like this: success: function (d) { chartData = d; console.log(JSON.stringify(chartData)) }"}, {"owner": {"reputation": 33, "user_id": 7327234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c645daf9fc60579b6c3755d32981dbb?s=128&d=identicon&r=PG&f=1", "display_name": "Arqu07", "link": "https://stackoverflow.com/users/7327234/arqu07"}, "reply_to_user": {"reputation": 1615, "user_id": 4092887, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/814vu.png?s=128&g=1", "display_name": "Mauricio Arias Olave", "link": "https://stackoverflow.com/users/4092887/mauricio-arias-olave"}, "edited": false, "score": 0, "creation_date": 1482356120, "post_id": 41271198, "comment_id": 69745953, "body": "Thanks a lot @Mauricio! After that in console I got this: <code>[[&quot;Data&quot;,&quot;Electronics&quot;,&quot;Book And Media&quot;,&quot;Home And Kitchen&quot;],[&quot;&#47;Date(1454281200000)&#47;&quot;,345000,76666,66777],[&quot;&#47;Da&zwnj;&#8203;te(1457218800000)&#47;&quot;,&zwnj;&#8203;567000,94000,234000]&zwnj;&#8203;,[&quot;&#47;Date(14625720000&zwnj;&#8203;00)&#47;&quot;,234555,55555,6&zwnj;&#8203;78900],[&quot;&#47;Date(14649&zwnj;&#8203;04800000)&#47;&quot;,455555,5&zwnj;&#8203;55555,567000]]</code>"}, {"owner": {"reputation": 1615, "user_id": 4092887, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/814vu.png?s=128&g=1", "display_name": "Mauricio Arias Olave", "link": "https://stackoverflow.com/users/4092887/mauricio-arias-olave"}, "edited": false, "score": 0, "creation_date": 1482357081, "post_id": 41271198, "comment_id": 69746395, "body": "@Arqu07 please add your results in your question :) also, these results are when you set <code>Year</code> or <code>Data</code>, please edit your question with both results."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7327234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c645daf9fc60579b6c3755d32981dbb?s=128&d=identicon&r=PG&f=1", "display_name": "Arqu07", "link": "https://stackoverflow.com/users/7327234/arqu07"}, "edited": false, "score": 0, "creation_date": 1482424023, "post_id": 41274723, "comment_id": 69777449, "body": "Thanks a lot for your answer @WhiteHat. How should it looks in my code, couse I still have some troubles with that?"}, {"owner": {"reputation": 33, "user_id": 7327234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c645daf9fc60579b6c3755d32981dbb?s=128&d=identicon&r=PG&f=1", "display_name": "Arqu07", "link": "https://stackoverflow.com/users/7327234/arqu07"}, "edited": false, "score": 0, "creation_date": 1482429552, "post_id": 41274723, "comment_id": 69780672, "body": "Now My data looks like this: <code>[[&quot;Data&quot;,&quot;Electronics&quot;,&quot;Book And Media&quot;,&quot;Home And Kitchen&quot;],[&quot;2016-01-31T23:00:00.000Z&quot;,345000,76666,66777],[&quot;&zwnj;&#8203;2016-03-05T23:00:00.&zwnj;&#8203;000Z&quot;,567000,94000,2&zwnj;&#8203;34000],[&quot;2016-05-06T&zwnj;&#8203;22:00:00.000Z&quot;,23455&zwnj;&#8203;5,55555,678900],[&quot;20&zwnj;&#8203;16-06-02T22:00:00.00&zwnj;&#8203;0Z&quot;,455555,555555,56&zwnj;&#8203;7000]]</code> But still I have error message: &quot;All series on a given axis must be of the same data type&quot; :("}, {"owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "reply_to_user": {"reputation": 33, "user_id": 7327234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c645daf9fc60579b6c3755d32981dbb?s=128&d=identicon&r=PG&f=1", "display_name": "Arqu07", "link": "https://stackoverflow.com/users/7327234/arqu07"}, "edited": false, "score": 0, "creation_date": 1482431946, "post_id": 41274723, "comment_id": 69781848, "body": "will you please edit the question with the latest version of code and data?"}], "tags": [], "owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "is_accepted": true, "score": 1, "last_activity_date": 1490010159, "last_edit_date": 1490010159, "creation_date": 1482372030, "answer_id": 41274723, "question_id": 41271198, "link": "https://stackoverflow.com/questions/41271198/all-series-on-a-given-axis-must-be-of-the-same-data-type-error-message-while-d/41274723#41274723", "title": "All series on a given axis must be of the same data type - error message while displaying datatime on the chart", "body": "<p><strong>first</strong>, since you're <em>totaly newbie</em>...  </p>\n\n<p>it's recommended to use <code>loader.js</code> to load the chart library, vs. <code>jsapi</code>  </p>\n\n<p><code>&lt;script src=\"https://www.gstatic.com/charts/loader.js\"&gt;&lt;/script&gt;</code>  </p>\n\n<p>according to the <a href=\"https://developers.google.com/chart/interactive/docs/release_notes\" rel=\"nofollow noreferrer\">release notes</a>...  </p>\n\n<blockquote>\n  <p>The version of Google Charts that remains available via the <code>jsapi</code> loader is no longer being updated consistently. Please use the new <code>gstatic</code> loader from now on.  </p>\n</blockquote>\n\n<p>this will only change the <code>load</code> statement, see snippet below for specifics...  </p>\n\n<hr>\n\n<p><strong>next</strong>, to make it easy on google, the json date needs to formatted a certain way...  </p>\n\n<p><code>\"Date(year, month, day, hours, minutes, days, seconds, milliseconds)\"</code>  </p>\n\n<p>e.g. --> <code>\"Date(2016, 11, 21)\"</code> -- or -- <code>\"Date(2016, 11, 21, 20, 48, 18, 122)\"</code> -- etc...  </p>\n\n<hr>\n\n<p><strong>however</strong>, I'm not much help with <code>c#</code>  </p>\n\n<p>as such, the following script will convert the date on the client using <em>javascript</em>  </p>\n\n<p>(not recommended for large data sets)  </p>\n\n<hr>\n\n<p><em>javascript</em> can use the integer to get the proper date, just needs to be in a different format  </p>\n\n<p>-- convert first column in array to actual date  </p>\n\n<p>from: <code>\"/Date(1454281200000)/\"</code>  </p>\n\n<p>to: <code>new Date(1454281200000)</code>  </p>\n\n<pre><code>// replace first forward slash (/) with 'new'\nrow[0] = row[0].replace('/', 'new ');\n\n// remove second forward slash (/)\nrow[0] = row[0].replace('/', '');\n\n// evaluate the string to an actual date\nrow[0] = eval(row[0]);\n</code></pre>\n\n<hr>\n\n<p>see following working snippet...  </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>google.charts.load('current', {\r\n  callback: function () {\r\n    var rawData = [\r\n      [\"Data\",\"Electronics\",\"Book And Media\",\"Home And Kitchen\"],\r\n      [\"/Date(1454281200000)/\",345000,76666,66777],\r\n      [\"/Date(1457218800000)/\",567000,94000,234000],\r\n      [\"/Date(1462572000000)/\",234555,55555,678900],\r\n      [\"/Date(1464904800000)/\",455555,555555,567000]\r\n    ];\r\n\r\n    rawData.forEach(function (row, index) {\r\n      // skip column labels\r\n      if (index === 0) {\r\n        return;\r\n      }\r\n      row[0] = row[0].replace('/', 'new ');\r\n      row[0] = row[0].replace('/', '');\r\n      row[0] = eval(row[0]);\r\n    });\r\n\r\n    var data = google.visualization.arrayToDataTable(rawData);\r\n\r\n    var chart = new google.visualization.LineChart(document.getElementById('chart_div'));\r\n    chart.draw(data, {\r\n      hAxis: {\r\n        format: 'MMM yyyy'\r\n      }\r\n    });\r\n  },\r\n  packages:['corechart']\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://www.gstatic.com/charts/loader.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"chart_div\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>EDIT</strong>  </p>\n\n<p>integrating into the code from the question,  </p>\n\n<p>you can rely on the google <code>callback</code> to know when the page is ready<br>\ninstead of --> <code>$(document).ready</code>  </p>\n\n<p>there are a couple minor other changes, including <code>addOneTimeListener</code></p>\n\n<pre><code>&lt;script&gt;\n  google.charts.load('current', {\n      callback: function () {\n        //Load Data Here\n        var chartData = null;\n        $.ajax({\n            url: '/GoogleChart/GetSalesData',\n            type: 'GET',\n            dataType: 'json',\n            data: ''\n        }).done(function (d) {\n            drawChart(d);\n        }).fail(function (jq, text, errMsg) {\n            console.log(errMsg);\n        });\n      },\n      packages:['corechart']\n  });\n\n  function drawChart(d) {\n    // process date column\n    d.forEach(function (row, index) {\n      if (index === 0) {\n        return;\n      }\n      row[0] = row[0].replace('/', 'new ');\n      row[0] = row[0].replace('/', '');\n      row[0] = eval(row[0]);\n    });\n\n    data = google.visualization.arrayToDataTable(d);\n\n    var view = new google.visualization.DataView(data);\n    view.setColumns([0, {\n        type: 'datetime',\n        label: data.getColumnLabel(0),\n        calc: function () { return 0; }\n    }, {\n        type: 'number',\n        label: data.getColumnLabel(1),\n        calc: function () { return 0; }\n    }, {\n        type: 'number',\n        label: data.getColumnLabel(2),\n        calc: function () { return 0; }\n    }, {\n        type: 'number',\n        label: data.getColumnLabel(3),\n        calc: function () { return 0; }\n    }]);\n\n    var chart = new google.visualization.LineChart(document.getElementById('visualization'));\n    var options = {\n        title: 'Sales Report',\n        legend: 'bottom',\n        hAxis: {\n            title: 'year',\n            format: '#'\n        },\n        vAxis: {\n            minValue: 0,\n            maxValue: 1000000,\n            title: 'Sales Amount'\n        },\n        chartArea: {\n            left:100, top: 50, width:'70%', height: '50%'\n        },\n        animation: {\n            duration: 1000\n        }\n    };\n\n    google.visualization.events.addOneTimeListener(chart, 'ready', function () {\n        chart.draw(data, options);\n    });\n\n    chart.draw(view, options);\n  }\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7327234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c645daf9fc60579b6c3755d32981dbb?s=128&d=identicon&r=PG&f=1", "display_name": "Arqu07", "link": "https://stackoverflow.com/users/7327234/arqu07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "accepted_answer_id": 41274723, "answer_count": 1, "score": 3, "last_activity_date": 1490313260, "creation_date": 1482351288, "last_edit_date": 1490313260, "question_id": 41271198, "link": "https://stackoverflow.com/questions/41271198/all-series-on-a-given-axis-must-be-of-the-same-data-type-error-message-while-d", "title": "All series on a given axis must be of the same data type - error message while displaying datatime on the chart", "body": "<p>I am trying to display data from my database in MVC application using google charts. When I display \"int\" format it works fine, but when I want to change to for example \"datetime\" type I get the error message: \"All series on a given axis must be of the same data type\".\nHere is my sample database:\n<a href=\"https://i.stack.imgur.com/IgJce.jpg\" rel=\"nofollow noreferrer\">Database</a></p>\n\n<p><strong>Controller code:</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Web;\nusing System.Web.Mvc;\n\nnamespace GoogleProba.Controllers\n{\npublic class GoogleChartController : Controller\n{\n    // GET: GoogleChart\n    public ActionResult Column()\n    {\n        return View();\n    }\n    public JsonResult GetSalesData()\n    {\n        List&lt;SalesData&gt; sd = new List&lt;SalesData&gt;();\n        using (MyDatabaseEntities dc = new MyDatabaseEntities())\n        {\n            sd = dc.SalesData.OrderBy(a =&gt; a.Data).ToList();\n        }\n\n        var chartData = new object[sd.Count + 1];\n        chartData[0] = new object[]{\n                \"Data\",\n                \"Electronics\",\n                \"Book And Media\",\n                \"Home And Kitchen\"\n            };\n        int j = 0;\n        foreach (var i in sd)\n        {\n            j++;\n            chartData[j] = new object[] { i.Data, i.Electronics, i.BookAndMedia, i.HomeAndKitch };\n        }\n\n        return new JsonResult { Data = chartData, JsonRequestBehavior = JsonRequestBehavior.AllowGet };\n    }\n}\n}\n</code></pre>\n\n<p><strong>View code(updated):</strong></p>\n\n<pre><code>@{\nViewBag.Title = \"Column\";\n }\n\n\n\n &lt;div id=\"visualization\" style=\"width:600px; height:300px\"&gt;\n\n &lt;/div&gt;\n &lt;script src=\"https://www.gstatic.com/charts/loader.js\"&gt;&lt;/script&gt;\n &lt;script type=\"text/javascript\"    src=\"//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\"&gt;&lt;/script&gt;\n @section Scripts{\n &lt;script&gt;\n  google.charts.load('current', {\n  callback: function () {\n    //Load Data Here\n    var chartData = null;\n    $.ajax({\n        url: '/GoogleChart/GetSalesData',\n        type: 'GET',\n        dataType: 'json',\n        data: ''\n    }).done(function (d) {\n        drawChart(d);\n        console.log(JSON.stringify(d))\n    }).fail(function (jq, text, errMsg) {\n        console.log(errMsg);\n    });\n  },\n  packages:['corechart']\n  });\n\n function drawChart(d) {\n// process date column\nd.forEach(function (row, index) {\n  if (index === 0) {\n    return;\n  }\n  row[0] = row[0].replace('/', 'new ');\n  row[0] = row[0].replace('/', '');\n  row[0] = eval(row[0]);\n\n});\n\ndata = google.visualization.arrayToDataTable(d);\n\nvar view = new google.visualization.DataView(data);\nview.setColumns([0, {\n    type: 'datetime',\n    label: data.getColumnLabel(0),\n    calc: function () { return 0; }\n}, {\n    type: 'number',\n    label: data.getColumnLabel(1),\n    calc: function () { return 0; }\n}, {\n    type: 'number',\n    label: data.getColumnLabel(2),\n    calc: function () { return 0; }\n}, {\n    type: 'number',\n    label: data.getColumnLabel(3),\n    calc: function () { return 0; }\n}]);\n\nvar chart = new google.visualization.LineChart(document.getElementById('visualization'));\nvar options = {\n    title: 'Sales Report',\n    legend: 'bottom',\n    hAxis: {\n        title: 'year',\n        format: '#'\n    },\n    vAxis: {\n        minValue: 0,\n        maxValue: 1000000,\n        title: 'Sales Amount'\n    },\n    chartArea: {\n        left:100, top: 50, width:'70%', height: '50%'\n    },\n    animation: {\n        duration: 1000\n    }\n};\n\ngoogle.visualization.events.addOneTimeListener(chart, 'ready', function () {\n    chart.draw(data, options);\n});\n\nchart.draw(view, options);\n }\n&lt;/script&gt;\n\n }\n</code></pre>\n\n<p>My data from the log: <code>[[\"Data\",\"Electronics\",\"Book And Media\",\"Home And Kitchen\"],[\"2016-01-31T23:00:00.000Z\",345000,76666,66777],[\"2016-03-05T23:00:00.000Z\",567000,94000,234000],[\"2016-05-06T22:00:00.000Z\",234555,55555,678900],[\"2016-06-02T22:00:00.000Z\",455555,555555,567000]]</code></p>\n\n<p>When I put \"Year\" from database on X axis it works very pretty but when I change to display \"Data\" it doesn't works, anyone can help me with that?</p>\n"}, {"tags": ["c#", "datagridview"], "comments": [{"owner": {"reputation": 1165, "user_id": 6923568, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/89172520aaa3d342c5c7ffe7176ec29d?s=128&d=identicon&r=PG&f=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/6923568/mat"}, "edited": false, "score": 0, "creation_date": 1482351445, "post_id": 41271185, "comment_id": 69743505, "body": "Debug it and see which line is problematic. Might be <code>CheckOffice()</code>."}, {"owner": {"reputation": 2058, "user_id": 340277, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cfb3b6dca4b9fa0bf831de9be191ff59?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/340277/sam"}, "reply_to_user": {"reputation": 1165, "user_id": 6923568, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/89172520aaa3d342c5c7ffe7176ec29d?s=128&d=identicon&r=PG&f=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/6923568/mat"}, "edited": false, "score": 0, "creation_date": 1482351540, "post_id": 41271185, "comment_id": 69743560, "body": "@Mat I ipdate my post and post the CheckOffice() code I dont think  it is the problem please please help me I want to know"}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1482351932, "post_id": 41271185, "comment_id": 69743750, "body": "google &quot;async await&quot; or &quot;multithreading&quot;"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 2, "creation_date": 1482351955, "post_id": 41271185, "comment_id": 69743766, "body": "There are plenty of questions about &quot;UI freeze&quot;. Your post does not demonstrate all the research you&#39;ve done prior asking the question. This will likely bring downvotes. Note that asking &quot;don&#39;t downvote&quot; does not add any useful information to the post and potentially just increase number of downvotes (so I&#39;ve edited that out)."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 1165, "user_id": 6923568, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/89172520aaa3d342c5c7ffe7176ec29d?s=128&d=identicon&r=PG&f=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/6923568/mat"}, "edited": false, "score": 0, "creation_date": 1482352305, "post_id": 41271185, "comment_id": 69743989, "body": "@Mat The UI will be frozen from the instant the operation starts until the instant that it finishes.  And that will be true for any synchronous operation.  There isn&#39;t a point part way through where the UI becomes frozen."}, {"owner": {"reputation": 1165, "user_id": 6923568, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/89172520aaa3d342c5c7ffe7176ec29d?s=128&d=identicon&r=PG&f=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/6923568/mat"}, "edited": false, "score": 0, "creation_date": 1482352454, "post_id": 41271185, "comment_id": 69744067, "body": "Right ! Then may I suggest simply editing the question since the code isn&#39;t relevant ? (Other than the first line which shows it&#39;s not <code>async</code>)"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 1165, "user_id": 6923568, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/89172520aaa3d342c5c7ffe7176ec29d?s=128&d=identicon&r=PG&f=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/6923568/mat"}, "edited": false, "score": 0, "creation_date": 1482352621, "post_id": 41271185, "comment_id": 69744178, "body": "@Mat Well it&#39;s relevant to fixing the problem...just not diagnosing it."}, {"owner": {"reputation": 2058, "user_id": 340277, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cfb3b6dca4b9fa0bf831de9be191ff59?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/340277/sam"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1482353979, "post_id": 41271185, "comment_id": 69744882, "body": "@AlexeiLevenkov I know but I have searched a lot i know that using task.run(); is not possible since it is not included in .not 4 it a new feature of .net 4.5 i also know that Task.Factory.StartNew() can be used instead of using task.run()  but it has a lot of risk as implicit thread and i know that using explicit threading is also good choose all that  demonstrate all the research i have done before posting here my friend but my problem that i have not used them before and i want a little help to go on with my project and keep learning instead of getting stacked at that silly boring point!!"}, {"owner": {"reputation": 2058, "user_id": 340277, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cfb3b6dca4b9fa0bf831de9be191ff59?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/340277/sam"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1482354066, "post_id": 41271185, "comment_id": 69744930, "body": "@AlexeiLevenkov and here is what I have tried before and posted and i was not able to move on that point... now can you help me please my friend ?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1482354105, "post_id": 41271185, "comment_id": 69744955, "body": "I&#39;d recommend to re-read this sentence from my comment - &quot;Your post <i>does not demonstrate</i> all the research&quot; - important part made italic for ease of finding."}, {"owner": {"reputation": 2058, "user_id": 340277, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cfb3b6dca4b9fa0bf831de9be191ff59?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/340277/sam"}, "reply_to_user": {"reputation": 1165, "user_id": 6923568, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/89172520aaa3d342c5c7ffe7176ec29d?s=128&d=identicon&r=PG&f=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/6923568/mat"}, "edited": false, "score": 0, "creation_date": 1482354118, "post_id": 41271185, "comment_id": 69744962, "body": "@Mat yes its NOT async thing"}, {"owner": {"reputation": 2058, "user_id": 340277, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cfb3b6dca4b9fa0bf831de9be191ff59?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/340277/sam"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1482354437, "post_id": 41271185, "comment_id": 69745124, "body": "@AlexeiLevenkov okay thanks it is noted and ill keep trying..."}, {"owner": {"reputation": 1165, "user_id": 6923568, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/89172520aaa3d342c5c7ffe7176ec29d?s=128&d=identicon&r=PG&f=1", "display_name": "Mat", "link": "https://stackoverflow.com/users/6923568/mat"}, "edited": false, "score": 0, "creation_date": 1482355069, "post_id": 41271185, "comment_id": 69745455, "body": "<code>Thread foregroundthread = new Thread(() =&gt; CheckOffice(OfficeIPAddress));</code> won&#39;t change anything if you still call <code>CheckOffice(OfficeIPAddress) == 1</code> in the current thread. Implying <code>CheckOffice</code> takes a lot of time because of the ping, you&#39;d need to put all code that requires its return value Inside <code>foregroundthread</code>. Hope that helps."}], "answers": [{"comments": [{"owner": {"reputation": 2058, "user_id": 340277, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cfb3b6dca4b9fa0bf831de9be191ff59?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/340277/sam"}, "edited": false, "score": 0, "creation_date": 1482360732, "post_id": 41272238, "comment_id": 69747951, "body": "thanks  for your very very useful explanation but one think and I am sorry to say that as I said at my original post that  Task.Run() is not available at dot net v4 its new feature of dot net v4.5 and using Task.Factory.StartNew(); has a risk as i found when I searched about it so that example partially not applicable am I right ?"}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "reply_to_user": {"reputation": 2058, "user_id": 340277, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cfb3b6dca4b9fa0bf831de9be191ff59?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/340277/sam"}, "edited": false, "score": 0, "creation_date": 1482362126, "post_id": 41272238, "comment_id": 69748457, "body": "@Sam see my edit. It is the same idea to be honest with you."}, {"owner": {"reputation": 2058, "user_id": 340277, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cfb3b6dca4b9fa0bf831de9be191ff59?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/340277/sam"}, "edited": false, "score": 0, "creation_date": 1482437019, "post_id": 41272238, "comment_id": 69784232, "body": "sorry for the late response to you my friend I was spending all the time trying to understand the case and build it and I really appreciate your help.. please I had update my post the new code... please if you wish to take a look and advise me if there is anything wrong... Thank you.."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "reply_to_user": {"reputation": 2058, "user_id": 340277, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cfb3b6dca4b9fa0bf831de9be191ff59?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/340277/sam"}, "edited": false, "score": 0, "creation_date": 1482448565, "post_id": 41272238, "comment_id": 69788780, "body": "Don&#39;t call updateui if result is 1. There is no ui to update. If result is 1 you want to copy the file. Do that on the thread or the ui will freeze again until the copy is completed"}, {"owner": {"reputation": 2058, "user_id": 340277, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cfb3b6dca4b9fa0bf831de9be191ff59?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/340277/sam"}, "edited": false, "score": 0, "creation_date": 1482493712, "post_id": 41272238, "comment_id": 69804062, "body": "your suggested way works like charm and the interface not freezing even if i have update the UI in both cases when the vResult is 1 or vResult is 0, but i am looking now for the strange think that not all rows at column status ascended to connected or disconnected according the vResult value... its look like i have to press the button again to get that result for the rest of rows ... as u can see it at screen shot two it&#39;s update 5 row only"}, {"owner": {"reputation": 2058, "user_id": 340277, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cfb3b6dca4b9fa0bf831de9be191ff59?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/340277/sam"}, "edited": false, "score": 0, "creation_date": 1482493863, "post_id": 41272238, "comment_id": 69804153, "body": "its looks like the interface update once and not keep looking for any changes because the ping method waits for 120 to get reply... i do not if its repet the ping for three times and it happen when i ping ip using cmd  &quot;ping 127.0.0.10&quot;"}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "reply_to_user": {"reputation": 2058, "user_id": 340277, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cfb3b6dca4b9fa0bf831de9be191ff59?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/340277/sam"}, "edited": false, "score": 0, "creation_date": 1482978874, "post_id": 41272238, "comment_id": 69946515, "body": "Sam sorry i just saw this. Perhaps create another question with the new issue and someone can help you?"}], "tags": [], "owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "is_accepted": true, "score": 4, "last_activity_date": 1482362096, "last_edit_date": 1482362096, "creation_date": 1482355976, "answer_id": 41272238, "question_id": 41271185, "link": "https://stackoverflow.com/questions/41271185/interface-freeze-when-trying-to-update-datagridview/41272238#41272238", "title": "interface freeze when trying to update datagridview", "body": "<p>Short answer: There is nothing wrong with your code. The design is not good.</p>\n\n<p><strong>Long Answer</strong></p>\n\n<p>Have you heard someone say \"I can only do one thing at a time!\" Well that is what is going on here. Your windows forms application's code is being executed by 1 thread and that thread can only do one thing at a time. When it is pinging, it waits for the reply. If the reply is successful it then copies a file. Since you have a loop it keeps doing this until it has completed all rows.</p>\n\n<p>While it is doing that, you are probably clicking other things in the UI, but your thread \"can only do 1 thing at a time\". It is busy doing the stuff in the loop. Therefore, when you are clicking, you just have to wait.</p>\n\n<p><strong>So how do I fix it so the UI does not freeze?</strong></p>\n\n<p>In plain English, you need to do this. Imagine you are a thread:</p>\n\n<p>I am the UI thread and my ultimate goal is to keep the UI responsive. I do not want the UI to freeze. Therefore, if I need to do anything except UI work, I am going to ask someone else to do it. While that someone else is doing other work, I will be free to do UI work.</p>\n\n<p>That someone else is another thread. Here is an example, read my comments in the code and apply it to your application. If you want to run this code, create a form <code>Form1</code> with a label named <code>label1</code> and two buttons. Assign <code>ButtonClickHandlerAsync</code> to one button's click handler and  <code>Stop_Click</code> to the other button.</p>\n\n<p>The whole action starts when you click the button which executes <code>ButtonClickHandlerAsync</code>. While it is doing work, you can click the other button and it will show a message box and stay responsive. By the way I have copied this code from <a href=\"https://stephenhaunts.com/2014/10/14/using-async-and-await-to-update-the-ui-thread/\" rel=\"nofollow noreferrer\">here</a> but I added my own comments inside the code so you know what is going on.</p>\n\n<pre><code>public partial class Form1 : Form {\n\n   // We need this because this will allow us to interact with UI controls. UI controls can only be accessed by the thread that \n   // created the UI control. In this case it is the thread which started the application so the main thread.\n   private readonly SynchronizationContext synchronizationContext;\n   private DateTime previousTime = DateTime.Now;\n\n   public Form1() {\n      InitializeComponent();\n      synchronizationContext = SynchronizationContext.Current;\n   }\n\n   private void Stop_Click(object sender, EventArgs e) {\n\n      // I am the UI thread. I can do this because T2 is helping me do the loop.\n      MessageBox.Show( \"I am doing other things.\" );\n   }\n\n   private async void ButtonClickHandlerAsync(object sender, EventArgs e) {\n      button1.Enabled = false;\n      var count = 0;\n\n      // I am the UI thread. I have other things to do. So please run this loop by using a thread from the thread pool.\n      // When you are done running the loop let me know (This is what the await does)\n      // I am the UI thread so I am going to return back from right here\n      // to the point where ButtonClickHandlerAsync was called from. (it was called by a click, so when it returns it will have nothing\n      // to do. Therefore, it will be ready to react to another UI job such as another click or update the UI etc.\n      await Task.Run( () =&gt;\n      {\n         // I am a thread from the thread pool. My name is T2. I am helping the UI thread so the UI thread can do other things.\n         for( var i = 0; i &lt;= 5000000; i++ ) {\n            UpdateUI( i );\n            count = i;\n         }\n      } );\n\n\n      // I am the UI thread. Ok looks like the loop is done. So I will do the following 2 lines of work\n      label1.Text = @\"Counter \" + count;\n      button1.Enabled = true;\n   }\n\n   public void UpdateUI(int value) {\n\n      // I am T2. I am helping the UI thread.\n      var timeNow = DateTime.Now;\n\n      if( ( DateTime.Now - previousTime ).Milliseconds &lt;= 50 )\n         return;\n\n      // I do not have access to the UI controls since I did not create them. So I am just going to ask the synchronizationContext\n      // to do this for me by giving it a SendOrPostCallback\n      synchronizationContext.Post( new SendOrPostCallback( o =&gt;\n      {\n         // I am the UI thread. I will do this.\n         label1.Text = @\"Counter \" + ( int ) o;\n      } ), value );\n\n      // I am T2. I will do this and then return and do more work.\n      previousTime = timeNow;\n   }\n</code></pre>\n\n<p><strong>How can you fix your code?</strong></p>\n\n<p>You can do <code>CheckOffice</code> and copying the files using a thread from the threadpool. That thread can use the <code>synchronizationContext</code> to if it needs to interact with the UI. The main UI thread can stay free to do other things while the thread from the thread pool is checking the office and copying a file which could take a long time, especially, if the file is big. </p>\n\n<p><strong>\"I am the UI thread. I have no time to wait for a ping reply.\" \n\"I am the UI thread. I have no time to copy a file from one location to another location which can take seconds or minutes. My job is to keep the UI responsive.\"</strong></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I wrote the above answer before the OP wrote the restriction of .NET 4. But I am pretty sure they have created a NuGet package for this. See <a href=\"https://www.nuget.org/packages/TaskParallelLibrary/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.nuget.org/packages/Microsoft.Bcl.Async/\" rel=\"nofollow noreferrer\">here</a>. </p>\n\n<p>If you cannot use <code>async</code> and <code>await</code>, the same concepts above apply to threading.</p>\n\n<pre><code>Thread t2 = new Thread( new ThreadStart(() =&gt;\n{\n   for( var i = 0; i &lt;= 5000000; i++ ) {\n      UpdateUI( i );\n      count = i;\n   }\n} ) );\nt2.Start();\n</code></pre>\n"}], "owner": {"reputation": 2058, "user_id": 340277, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/cfb3b6dca4b9fa0bf831de9be191ff59?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/340277/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1016, "favorite_count": 2, "accepted_answer_id": 41272238, "answer_count": 1, "score": 0, "last_activity_date": 1482494101, "creation_date": 1482351237, "last_edit_date": 1482494101, "question_id": 41271185, "link": "https://stackoverflow.com/questions/41271185/interface-freeze-when-trying-to-update-datagridview", "title": "interface freeze when trying to update datagridview", "body": "<p>I am using below code to copy files and set status column at <code>datagridview</code> to inform user that connection is up but when I press the button to execute is\nmethod the interface freeze...</p>\n\n<p>I have searched a lot i know that using <code>task.run();</code> is not possible since it is not included in <code>.not 4</code> it a new feature of <code>.net 4.5</code> i also know that <code>Task.Factory.StartNew();</code>  can be used instead of using task.run() but it has a lot of risk as implicit thread and i know that using explicit threading is also good choose a</p>\n\n<p>i want a little help to go on with my project and keep learning instead of getting stacked at that boring point</p>\n\n<pre><code>public void PatchUpdates()\n{\n    try\n    {\n        foreach (DataGridViewRow OfficeListRow in DGV_OfficeList.Rows)\n        {\n            string OfficeIPAddress = OfficeListRow.Cells[3].Value.ToString();\n\n            foreach (DataGridViewRow FileListRow in DGV_FileList.Rows)\n            {\n                string SoruceFileNamePath = FileListRow.Cells[4].Value.ToString();\n\n                string DestinationFileNamePath = @\"\\\\\" + OfficeIPAddress + @\"\\usb1_1\\test\\\" + Path.GetFileName(SoruceFileNamePath);\n\n                //check if connection to remote server is available\n                var vResult = CheckOffice(OfficeIPAddress);\n\n                if (vResult == 1)\n                {\n                    DGV_OfficeList[4, DGV_OfficeList.CurrentCell.RowIndex].Value = \"Connected\";\n                    File.Copy(SoruceFileNamePath, DestinationFileNamePath, true); //copy files...\n                }\n                else if (vResult == 0)\n                {\n                    DGV_OfficeList[4, DGV_OfficeList.CurrentCell.RowIndex].Value = \"disconnected\";\n                    break;\n                }\n            }\n        }\n    }\n    catch (Exception ex)\n    {\n        MessageBox.Show(ex.Message, \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n    }\n}\n</code></pre>\n\n<p>check office code below </p>\n\n<pre><code>    public int CheckOffice(string _ipAddress)\n    {\n        int timeout = 120;\n        string data = \"PingTestData\";\n        byte[] buffer = Encoding.ASCII.GetBytes(data);\n\n        Ping PingSender = new Ping();\n        PingOptions options = new PingOptions();\n\n        options.DontFragment = true;\n\n        PingReply reply = PingSender.Send(_ipAddress, timeout, buffer, options);\n\n        if (reply.Status == IPStatus.Success)\n        {\n            return 1;\n        }\n        else\n        {\n            return 0;\n        }\n    }\n</code></pre>\n\n<p>below how I have tried to make thread but that wont solve my problem </p>\n\n<pre><code>public void PatchUpdates()\n{\n    try\n    {\n        foreach (DataGridViewRow OfficeListRow in DGV_OfficeList.Rows)\n        {\n            string OfficeIPAddress = OfficeListRow.Cells[2].Value.ToString();\n\n            foreach (DataGridViewRow FileListRow in DGV_FileList.Rows)\n            {\n                string SoruceFileNamePath = FileListRow.Cells[4].Value.ToString();\n                string DestinationFileNamePath = @\"\\\\\" + OfficeIPAddress + @\"\\usb1_1\\test\\\" + Path.GetFileName(SoruceFileNamePath);\n\n\n                Thread foregroundthread = new Thread(() =&gt; CheckOffice(OfficeIPAddress));\n\n                foregroundthread.Start();\n\n                //check if connection to remote server is available\n                if (CheckOffice(OfficeIPAddress) == 1)\n                {\n                    DGV_OfficeList[3, DGV_OfficeList.CurrentCell.RowIndex].Value = \"Connected\";\n                    //file.copy(sorucefilenamepath, destinationfilenamepath, true); //copy files...\n                }\n                else if (CheckOffice(OfficeIPAddress) == 0)\n                {\n                    DGV_OfficeList[3, DGV_OfficeList.CurrentCell.RowIndex].Value = \"disconnected\";\n                    break;\n                }\n            }\n        }\n    }\n    catch (Exception ex)\n    {\n        MessageBox.Show(ex.Message, \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n    }\n}\n</code></pre>\n\n<p>I have also tried this but as i said thask.run is not available at dot net 4</p>\n\n<pre><code>    var task = Task.Run(() =&gt;\n        {\n            var result = CheckOffice(OfficeIPAddress);\n\n            this.BeginInvoke((Action)(() =&gt;\n            {\n                if (result == 1)\n                {\n                    DGV_OfficeList[4, DGV_OfficeList.CurrentCell.RowIndex].Value = \"Connected\";\n                    //file.copy(sorucefilenamepath, destinationfilenamepath, true); //copy files...\n                }\n                else if (result == 0)\n                {\n                    DGV_OfficeList[4, DGV_OfficeList.CurrentCell.RowIndex].Value = \"disconnected\";\n                }\n            }));\n        }\n    );\n</code></pre>\n\n<p><strong>--------------------------------------------------------- Update ---------------------------------------------------------</strong> </p>\n\n<pre><code>    public void PatchUpdates()\n    {\n        try\n        {\n            foreach (DataGridViewRow OfficeListRow in DGV_OfficeList.Rows)\n            {\n                string OfficeIPAddress = OfficeListRow.Cells[3].Value.ToString();\n                int RowNum = OfficeListRow.Index;\n\n                foreach (DataGridViewRow FileListRow in DGV_FileList.Rows)\n                {\n                    string SoruceFileNamePath = FileListRow.Cells[4].Value.ToString();\n                    //string DestinationFileNamePath = @\"\\\\\" + OfficeIPAddress + @\"\\usb1_1\\test\\\" + Path.GetFileName(SoruceFileNamePath);\n                    string DestinationFileNamePath = @\"F:\\test\\\" + Path.GetFileName(SoruceFileNamePath); //TestPurpose\n\n                    Thread t2 = new Thread(new ThreadStart(() =&gt;\n                    {\n                        int vResult = CheckOffice(OfficeIPAddress);\n                        UpdateUI(vResult, RowNum, SoruceFileNamePath, DestinationFileNamePath, OfficeIPAddress);\n                    }));\n                    t2.Start();\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            MessageBox.Show(ex.Message, \"Error Message\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n        }\n    }\n</code></pre>\n\n<p>The UpdateUI method to update UI... </p>\n\n<pre><code>    public void UpdateUI(int vResult, int RowNum, string SoruceFileNamePath, string DestinationFileNamePath,string OfficeIPAddress)\n    {\n        try\n        {\n            var timeNow = DateTime.Now;\n\n            if ((DateTime.Now - PreviousTime).Milliseconds &lt;= 10)\n                return;\n\n            SynchronizationContext.Post(new SendOrPostCallback(o =&gt;\n                    {\n                        if (vResult == 1)\n                        {\n                            DGV_OfficeList[4, RowNum].Value = \"Connected\";\n                            //File.Copy(SoruceFileNamePath, DestinationFileNamePath, true);\n                            //MessageBox.Show(\"Pingable \" + OfficeIPAddress); //TestPurpose\n                        }\n                        else if (vResult == 0)\n                        {\n                            DGV_OfficeList[4, RowNum].Value = \"Disconnected\";\n                            //MessageBox.Show(\"Not reachable\"); //TestPurpose\n                        }\n                    }), vResult);\n\n            PreviousTime = timeNow;\n        }\n        catch (Exception ex)\n        {\n            MessageBox.Show(ex.Message, \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/AJAit.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AJAit.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/V9EtC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V9EtC.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 6275, "user_id": 1690217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h01XY.png?s=128&g=1", "display_name": "Chris Schaller", "link": "https://stackoverflow.com/users/1690217/chris-schaller"}, "edited": false, "score": 0, "creation_date": 1482363046, "post_id": 41271169, "comment_id": 69748729, "body": "I seriously want to question why you want to open SMSS from an app like this. I would recommend either executing the script from your app direct, or make a small console app to do this for you, or use SQLCMD to execute from the commandline. I&#39;d be nervous about letting my users anywhere near SMSS, and if they are proficient enough to be in there, they wont mind the splash screen"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 7207428, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/d7be769582170e830d37f6d8c8b263ca?s=128&d=identicon&r=PG&f=1", "display_name": "Brendon.Davies", "link": "https://stackoverflow.com/users/7207428/brendon-davies"}, "edited": false, "score": 0, "creation_date": 1482351854, "post_id": 41271248, "comment_id": 69743697, "body": "I&#39;m sorry, I didn&#39;t adequately explain my need. I&#39;m opening Ssms via a c# application, so ultimately I&#39;m not touching it. I need the program to open Ssms itself with no splash screen and at the same time have it open multiple queries that have already been stored off."}], "tags": [], "owner": {"reputation": 186, "user_id": 5149122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a51deead27768942fe934be593fbabf8?s=128&d=identicon&r=PG", "display_name": "Shaulinator", "link": "https://stackoverflow.com/users/5149122/shaulinator"}, "is_accepted": false, "score": 0, "last_activity_date": 1482351551, "creation_date": 1482351551, "answer_id": 41271248, "question_id": 41271169, "link": "https://stackoverflow.com/questions/41271169/trying-to-open-sql-server-2016-with-no-splash-screen-and-with-multiple-sql-file/41271248#41271248", "title": "Trying to open SQL Server 2016 with no splash screen and with multiple .sql files", "body": "<p>For the command SSMS, it looks like this is the syntax:</p>\n\n<pre><code>Ssms \"C:\\folder\\nameoffile.sql\"  \"C:\\folder\\nameoffile2.sql\" -nosplash\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6275, "user_id": 1690217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h01XY.png?s=128&g=1", "display_name": "Chris Schaller", "link": "https://stackoverflow.com/users/1690217/chris-schaller"}, "is_accepted": false, "score": 0, "last_activity_date": 1482371278, "creation_date": 1482371278, "answer_id": 41274642, "question_id": 41271169, "link": "https://stackoverflow.com/questions/41271169/trying-to-open-sql-server-2016-with-no-splash-screen-and-with-multiple-sql-file/41274642#41274642", "title": "Trying to open SQL Server 2016 with no splash screen and with multiple .sql files", "body": "<blockquote>\n  <p>I do not condone, nor recommend anyone else use SMSS in this way from a Production Released Application. You would be far better off executing SQL from inside your application where you have better control over the connection itself as well as feedback to the user and error handling :)</p>\n</blockquote>\n\n<p>From C# you can execute any command prompt commands using System.Diagnostics.Process class. In other environments you might refer to this as \"Shell Execute\"</p>\n\n<pre><code>string path2SMSS = @\"C:\\Program Files (x86)\\Microsoft SQL Server\\120\\Tools\\Binn\\ManagementStudio\\Ssms.exe\";\nstring arguments = @\"\"\"C:\\folder\\nameoffile.sql\"\"  \"\"C:\\folder\\nameoffile2.sql\"\" -nosplash\";\n// Add connection info to the arguments - assuming you have read the response from SMSS /?\narguments += \" -S (local) -D master -E\";\nSystem.Diagnostics.Process p = System.Diagnostics.Process.Start(fileName: path2SMSS, arguments: @\"\"\"C:\\folder\\nameoffile.sql\"\"  \"\"C:\\folder\\nameoffile2.sql\"\" -nosplash\");\n// If you want to block the calling thread until the process has completed wait for exit.\np.WaitForExit();\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 7207428, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/d7be769582170e830d37f6d8c8b263ca?s=128&d=identicon&r=PG&f=1", "display_name": "Brendon.Davies", "link": "https://stackoverflow.com/users/7207428/brendon-davies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482371278, "creation_date": 1482351185, "question_id": 41271169, "link": "https://stackoverflow.com/questions/41271169/trying-to-open-sql-server-2016-with-no-splash-screen-and-with-multiple-sql-file", "title": "Trying to open SQL Server 2016 with no splash screen and with multiple .sql files", "body": "<p>I need to open multiple queries in one instance of MS SQL Server 2016 and I need to do it without bringing up the splash screen each time my program runs. I was directed here:\n<a href=\"https://msdn.microsoft.com/en-us/library/ms162825.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/ms162825.aspx</a>\nwhere it says by passing the right combo of command line arguments you can open Ssms without the splash screen and also with multiple .sql files at the same time, but it doesn't give me an example of how to do this. Can anyone please give me some help? Thanks in advance.</p>\n"}, {"tags": ["c#", "xml", "asp.net-mvc", "asp.net-web-api"], "comments": [{"owner": {"reputation": 801, "user_id": 2524589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85f954d2f39b89b89c6d2e44e4de32a8?s=128&d=identicon&r=PG", "display_name": "KSib", "link": "https://stackoverflow.com/users/2524589/ksib"}, "edited": false, "score": 0, "creation_date": 1482353289, "post_id": 41271116, "comment_id": 69744524, "body": "One of your answers is here for #2: <a href=\"http://stackoverflow.com/questions/9956052/how-to-ask-webapi-for-a-specific-content-type\" title=\"how to ask webapi for a specific content type\">stackoverflow.com/questions/9956052/&hellip;</a> I just tested it and it returns XML. For #1 you probably need to investigate how to return a file, but you&#39;ll need to create the XML object first probably."}], "answers": [{"tags": [], "owner": {"reputation": 60, "user_id": 5852366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3435486bcaab2188c7ecda139ea323e3?s=128&d=identicon&r=PG&f=1", "display_name": "A. J.", "link": "https://stackoverflow.com/users/5852366/a-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1482351571, "creation_date": 1482351571, "answer_id": 41271253, "question_id": 41271116, "link": "https://stackoverflow.com/questions/41271116/web-api-returns-the-json-but-not-xml/41271253#41271253", "title": "Web API returns the JSON but not Xml", "body": "<blockquote>\n  <p>How can I return the response in the file name QueryResult.xml.</p>\n</blockquote>\n\n<p>Do you mean saving the response in a <code>xml</code> file? Well, anyway I suppose you know how to do that, the real issue is the second question, I assume.</p>\n\n<blockquote>\n  <p>How can we automatically return the XML and not in JSON. I am not sure where to Accept the content does that happen in the Web API application.</p>\n</blockquote>\n\n<p>In your client, just set it to <code>application/xml</code> and then your API should returns the content in xml format.</p>\n\n<p>Excuse me if I did skip something, I couldn't see your screenshot, firewall in job.</p>\n\n<p>P.S: I reply as an answer and not a simple comment just because I have not enough reputation to make a simple comment.</p>\n"}, {"tags": [], "owner": {"reputation": 6769, "user_id": 7073944, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BecHV.png?s=128&g=1", "display_name": "Vanquished Wombat", "link": "https://stackoverflow.com/users/7073944/vanquished-wombat"}, "is_accepted": false, "score": 1, "last_activity_date": 1482351990, "creation_date": 1482351990, "answer_id": 41271347, "question_id": 41271116, "link": "https://stackoverflow.com/questions/41271116/web-api-returns-the-json-but-not-xml/41271347#41271347", "title": "Web API returns the JSON but not Xml", "body": "<p>Maybe use a DataSet - something like this...</p>\n\n<pre><code>DataSet ds = null;\nusing (SqlConnection connection = new SqlConnection(sConnectionString))\n{\n    connection.Open();\n    SqlCommand Sqlcommand = new SqlCommand();\n    Sqlcommand.CommandType = CommandType.StoredProcedure;\n    if (SqlParamlist != null)\n    {\n        foreach (SqlParameter Sqlparameter in SqlParamlist)\n        {\n            Sqlcommand.Parameters.AddWithValue(Sqlparameter.ParameterName, Sqlparameter.Value);                                \n        }\n    }\n    Sqlcommand.CommandText = sProc;\n    Sqlcommand.Connection = connection;\n    sProcParams = sProc + \" \" + sProcParams;\n    using (SqlDataAdapter da = new SqlDataAdapter(Sqlcommand))\n    {\n        ds = new DataSet(\"DATATABLE\");\n        da.Fill(ds, \"DATAROW\");\n        Sqlcommand.Parameters.Clear();\n        da.Dispose();\n    }\n    connection.Close();\n}\nXmlDataDocument xDoc = new XmlDataDocument();\nxDoc.LoadXml(ds.GetXml());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7185, "user_id": 1645737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0tr7.png?s=128&g=1", "display_name": "keenthinker", "link": "https://stackoverflow.com/users/1645737/keenthinker"}, "is_accepted": false, "score": 1, "last_activity_date": 1482352974, "last_edit_date": 1495541782, "creation_date": 1482352529, "answer_id": 41271483, "question_id": 41271116, "link": "https://stackoverflow.com/questions/41271116/web-api-returns-the-json-but-not-xml/41271483#41271483", "title": "Web API returns the JSON but not Xml", "body": "<p>ASP.NET MVC (API) has the so called <em>media formatters</em> used for data serialization. By default the API is set (from MVC API v2 I think) to be JSON. You can easily set the default to be XML using the global configuration object:</p>\n\n<pre><code>var xml = GlobalConfiguration.Configuration.Formatters.XmlFormatter;\nxml.UseXmlSerializer = true;\n</code></pre>\n\n<p>A good introduction can be found here: <a href=\"https://www.asp.net/web-api/overview/formats-and-model-binding/json-and-xml-serialization\" rel=\"nofollow noreferrer\">JSON and XML Serialization in ASP.NET Web API</a> or here: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/models/formatting\" rel=\"nofollow noreferrer\">Formatting Response Data</a>. Media formatters are a nice thing, because you can create your own <a href=\"https://www.asp.net/web-api/overview/formats-and-model-binding/media-formatters\" rel=\"nofollow noreferrer\">custom formatters</a> and use them in your API</p>\n\n<p>In case you don't find the global configuration, have a look at <a href=\"https://stackoverflow.com/questions/20226715/globalconfiguration-configure-not-present-after-web-api-2-and-net-4-5-1-migra\">this SO post</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 2, "last_activity_date": 1482352594, "creation_date": 1482352594, "answer_id": 41271494, "question_id": 41271116, "link": "https://stackoverflow.com/questions/41271116/web-api-returns-the-json-but-not-xml/41271494#41271494", "title": "Web API returns the JSON but not Xml", "body": "<p>The format of the result will depend on 2 things.</p>\n\n<ol>\n<li>What is allowed</li>\n<li>What was requested</li>\n</ol>\n\n<h2>Allowed Serializers</h2>\n\n<p>What is allowed depends on the included serializers in the <code>WebApiConfig.cs</code>. By default both the xml serializer and json serializer are included. If you only ever wanted to return XML for the whole web application then remove the json formatter like so.</p>\n\n<pre><code>GlobalConfiguration.Configuration.Formatters.Remove(GlobalConfiguration.Configuration.Formatters.JsonFormatter);\n</code></pre>\n\n<h2>Client Request</h2>\n\n<p>The client can specify what they want based on the http header <code>content-type</code> with a value of <code>application/json</code> or <code>application/xml</code> depending on what format they want the data returned.</p>\n\n<p>If the client does not specify anyhting in the header in the request then the first allowed serializer in the list is used as the default.</p>\n"}], "owner": {"reputation": 1767, "user_id": 2698249, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3877ca800f0ae02b2aa4a6aa0a5a3e38?s=128&d=identicon&r=PG&f=1", "display_name": "trx", "link": "https://stackoverflow.com/users/2698249/trx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2391, "favorite_count": 0, "accepted_answer_id": 41271494, "answer_count": 4, "score": 1, "last_activity_date": 1482352974, "creation_date": 1482350999, "question_id": 41271116, "link": "https://stackoverflow.com/questions/41271116/web-api-returns-the-json-but-not-xml", "title": "Web API returns the JSON but not Xml", "body": "<p>The Web API is not returning XML instead just returns JSON</p>\n\n<pre><code>    [HttpGet]\n    public IHttpActionResult Get(string Account)\n    {\n     // other code fo connecting to the SQL seerver and calling the stored procedure\n     reader = command.ExecuteReader(); \n     List&lt;QueryResult&gt;qresults = new List&lt;QueryResult&gt;();\n       while (reader.Read())\n       {\n           QueryResult qr = new QueryResult();\n           qr.AccountID = reader[\"AccountID\"].ToString();\n           qr.CounterSeq = reader[\"CounterSeq\"].ToString();\n           qresults.Add(qr);\n       }\n       DbConnection.Close();\n       return Ok(qresults);\n</code></pre>\n\n<p>When I tried to execute the API in the fiddler client<br>\n<a href=\"https://i.stack.imgur.com/Ldivv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ldivv.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>When I click on JSON it shows like <code>[{\"AccountID\":\"Research\",\"CounterSeq\":\"3\"}]</code></p>\n\n<p>I have two questions </p>\n\n<ol>\n<li><p>How can I return the response in the file name QueryResult.xml.</p></li>\n<li><p>How can we automatically return the XML and not in JSON. I am not sure where to Accept the content does that happen in the Web API application. </p></li>\n</ol>\n\n<p>I am new to API's not sure where I am missing things. Any help is greatly appreciated</p>\n"}, {"tags": ["c#", ".net", "multithreading", "task", "backgroundworker"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1482352056, "post_id": 41271071, "comment_id": 69743819, "body": "Look at BlockingCollection together with ConcurrentQueue, there are many examples. Start a thread whcih consumes from BlockingCollection, and items to it from your main loop."}, {"owner": {"reputation": 1000, "user_id": 863961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jB0Qh.jpg?s=128&g=1", "display_name": "Eir&#237;kur Fannar Torfason", "link": "https://stackoverflow.com/users/863961/eir%c3%adkur-fannar-torfason"}, "edited": false, "score": 2, "creation_date": 1482352727, "post_id": 41271071, "comment_id": 69744223, "body": "Task&lt;T&gt; and a custom TaskScheduler would probably do the trick if you want your delegates to be executed sequentially. See <a href=\"http://www.infoworld.com/article/3063560/application-development/building-your-own-task-scheduler-in-c.html\" rel=\"nofollow noreferrer\">infoworld.com/article/3063560/application-development/&hellip;</a> on how to build a custom TaskScheduler. If you don&#39;t mind your delegates being executed in parallel then the standard .NET TaskScheduler is probably fine."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1482357949, "post_id": 41271071, "comment_id": 69746808, "body": "Consider keeping everything on one thread and using async-await to build an asynchronous workflow.  Remember, <b>asynchrony is not concurrency</b>. You can do asynchronous workflows all on one thread, just like you can cook eggs and toast at the same time without hiring two cooks."}, {"owner": {"reputation": 2439, "user_id": 355485, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fef14fe6bac126b006f0a3f100475244?s=128&d=identicon&r=PG", "display_name": "thalm", "link": "https://stackoverflow.com/users/355485/thalm"}, "edited": false, "score": 0, "creation_date": 1482365633, "post_id": 41271071, "comment_id": 69749366, "body": "since it&#39;s a high performance application and CPU load will be a very critical factor it will be important to execute the delegates on another thread. but as i understand, the standard .NET scheduler will do that when the current thread is on the limit if async/task pattern is used. so maybe building a queue with task.ContinueWith might be an option. i found an example here: <a href=\"http://stackoverflow.com/a/15120092/355485\">stackoverflow.com/a/15120092/355485</a>"}], "answers": [{"comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 2, "creation_date": 1482355961, "post_id": 41271450, "comment_id": 69745877, "body": "If you use BlockingCollection with ConcurrentQueue (and its method GetConsumingEnumerable) - it will block while removing."}], "tags": [], "owner": {"reputation": 5775, "user_id": 83839, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d927b767c21dd35ad22bfefcb091266a?s=128&d=identicon&r=PG", "display_name": "Kevin Anderson", "link": "https://stackoverflow.com/users/83839/kevin-anderson"}, "is_accepted": false, "score": 3, "last_activity_date": 1482420107, "last_edit_date": 1482420107, "creation_date": 1482352407, "answer_id": 41271450, "question_id": 41271071, "link": "https://stackoverflow.com/questions/41271071/how-to-queue-up-delegates-to-be-executed-in-series-in-the-background-with-c/41271450#41271450", "title": "How to queue up delegates to be executed in series in the background with C#?", "body": "<p>One solution is from the excellent <a href=\"http://www.albahari.com/threading/\" rel=\"nofollow noreferrer\">Threading in C# E-book</a>.  In their section on basic structures, the author makes almost exactly what you're looking for <a href=\"http://www.albahari.com/threading/part2.aspx#_AutoResetEvent\" rel=\"nofollow noreferrer\">in an example</a>.</p>\n\n<p>Follow that link and scroll down to Producer/consumer queue.</p>\n\n<p>In a later section, he addresses that while <a href=\"https://msdn.microsoft.com/en-us/library/dd267265.aspx\" rel=\"nofollow noreferrer\">ConcurrentQueue</a> would work fine too, it performs worse in all cases EXCEPT in highly-concurrent scenarios.  But for your low-load case, it may be better just to get something working easily.  I don't have personal experience with the claim from the document, but it's there for you to evaluate.</p>\n\n<p>I hope this helps.</p>\n\n<p>Edit2: upon Evk's suggestion (thanks!), the <a href=\"https://msdn.microsoft.com/en-us/library/dd267312.aspx\" rel=\"nofollow noreferrer\">BlockingCollection</a> class looks like what you want.  By default it uses a ConcurrentQueue under the hood.  I particularly like the <a href=\"https://msdn.microsoft.com/en-us/library/dd287086.aspx\" rel=\"nofollow noreferrer\">CompleteAdding</a> method, as well as the ability to use CancellationTokens with it.  \"Shutdown\" scenarios are not always correctly accounted for when things are blocking, but this does it right IMO.</p>\n\n<p>Edit 3: As requested, a sample of how this would work with a BlockingCollection.  I used the <code>foreach</code> and <code>GetConsumingEnumerable</code> to make this even more compact for the consumer side of the problem:</p>\n\n<pre><code>using System.Collections.Concurrent;\nprivate static void testMethod()\n{\n  BlockingCollection&lt;Action&gt; myActionQueue = new BlockingCollection&lt;Action&gt;();\n  var consumer = Task.Run(() =&gt;\n  {\n    foreach(var item in myActionQueue.GetConsumingEnumerable())\n    {\n      item(); // Run the task\n    }// Exits when the BlockingCollection is marked for no more actions\n  });\n\n  // Add some tasks\n  for(int i = 0; i &lt; 10; ++i)\n  {\n    int captured = i; // Imporant to copy this value or else\n    myActionQueue.Add(() =&gt;\n    {\n      Console.WriteLine(\"Action number \" + captured + \" executing.\");\n      Thread.Sleep(100);  // Busy work\n      Console.WriteLine(\"Completed.\");\n    });\n    Console.WriteLine(\"Added job number \" + i);\n    Thread.Sleep(50);\n  }\n  myActionQueue.CompleteAdding();\n  Console.WriteLine(\"Completed adding tasks.  Waiting for consumer completion\");\n\n  consumer.Wait();  // Waits for consumer to finish\n  Console.WriteLine(\"All actions completed.\");\n}\n</code></pre>\n\n<p>I added in the Sleep() calls so that you can see that things are added while other things are being consumed.  You can also choose to launch any number of that <code>consumer</code> lambda (just call it an <code>Action</code>, then launch the <code>Action</code> multiple times) or the addition loop.  And at any time you can call <code>Count</code> on the collection to get the number of tasks that are NOT running.  Presumably if that's non-zero, then your producer Tasks are running.</p>\n"}, {"comments": [{"owner": {"reputation": 5775, "user_id": 83839, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d927b767c21dd35ad22bfefcb091266a?s=128&d=identicon&r=PG", "display_name": "Kevin Anderson", "link": "https://stackoverflow.com/users/83839/kevin-anderson"}, "edited": false, "score": 0, "creation_date": 1482414556, "post_id": 41284373, "comment_id": 69770993, "body": "That seems like it&#39;d work, as long as you only ever add <code>Tasks</code> from one thread.  In the OP&#39;s case that&#39;s fine, but I don&#39;t think it&#39;d work from multiple &quot;producer&quot; threads, and you don&#39;t get the OP&#39;s desire to see how many jobs are queued.  Edit: also, what would happen if the tasks are done, will the newly-added ContinueWith <code>Task</code> execute immediately?"}, {"owner": {"reputation": 4136, "user_id": 312041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8cc86d18d6f19b068b61c3539513996?s=128&d=identicon&r=PG", "display_name": "tym32167", "link": "https://stackoverflow.com/users/312041/tym32167"}, "reply_to_user": {"reputation": 5775, "user_id": 83839, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d927b767c21dd35ad22bfefcb091266a?s=128&d=identicon&r=PG", "display_name": "Kevin Anderson", "link": "https://stackoverflow.com/users/83839/kevin-anderson"}, "edited": false, "score": 0, "creation_date": 1482416521, "post_id": 41284373, "comment_id": 69772247, "body": "@KevinAnderson updated answer. It Task if finished, continuation will start immediately."}, {"owner": {"reputation": 5775, "user_id": 83839, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d927b767c21dd35ad22bfefcb091266a?s=128&d=identicon&r=PG", "display_name": "Kevin Anderson", "link": "https://stackoverflow.com/users/83839/kevin-anderson"}, "edited": false, "score": 0, "creation_date": 1482416946, "post_id": 41284373, "comment_id": 69772576, "body": "Interesting additions, but your <code>_total</code> variable won&#39;t update until the task starts running, so I don&#39;t think that&#39;ll give him the number of <code>Task</code>s that he has queued up.  Basically, after all that effort, I think that the suggestion from @Evk of a <code>BlockingCollection</code> of <code>Action</code>s or <code>Task</code>s is cleaner.  But others may disagree."}, {"owner": {"reputation": 4136, "user_id": 312041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8cc86d18d6f19b068b61c3539513996?s=128&d=identicon&r=PG", "display_name": "tym32167", "link": "https://stackoverflow.com/users/312041/tym32167"}, "reply_to_user": {"reputation": 5775, "user_id": 83839, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d927b767c21dd35ad22bfefcb091266a?s=128&d=identicon&r=PG", "display_name": "Kevin Anderson", "link": "https://stackoverflow.com/users/83839/kevin-anderson"}, "edited": false, "score": 0, "creation_date": 1482417613, "post_id": 41284373, "comment_id": 69773003, "body": "@KevinAnderson yeach, i updated answer, thx. Sure, it there something embed in .NET that allows us to do same, then will be better to use it, but I not sure that with blocking collection + concurrent queue solution will be easier, but will happy to see such sample :)"}], "tags": [], "owner": {"reputation": 4136, "user_id": 312041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8cc86d18d6f19b068b61c3539513996?s=128&d=identicon&r=PG", "display_name": "tym32167", "link": "https://stackoverflow.com/users/312041/tym32167"}, "is_accepted": false, "score": 1, "last_activity_date": 1482417481, "last_edit_date": 1482417481, "creation_date": 1482413486, "answer_id": 41284373, "question_id": 41271071, "link": "https://stackoverflow.com/questions/41271071/how-to-queue-up-delegates-to-be-executed-in-series-in-the-background-with-c/41284373#41284373", "title": "How to queue up delegates to be executed in series in the background with C#?", "body": "<p>How about this</p>\n\n<pre><code>void Main()\n{\n    var executor = new MyExecutor();\n    executor.Execute(()=&gt;Console.WriteLine(\"Hello\"));\n    executor.Execute(()=&gt;Console.WriteLine(\",\"));\n    executor.Execute(()=&gt;Console.WriteLine(\"World\"));\n}\n\npublic class MyExecutor\n{\n    private Task _current = Task.FromResult(0);\n\n    public void Execute(Action action)\n    {\n        _current=_current.ContinueWith(prev=&gt;action());\n    }\n}\n</code></pre>\n\n<p><strong>UPD</strong></p>\n\n<p>Updated code. Now we able to get number of actions, push from different threads, etc. </p>\n\n<pre><code>void Main()\n{\n    var executor = new MyExecutor();\n    executor.Execute(() =&gt; Console.WriteLine(\"Hello\"));\n    executor.Execute(() =&gt; Thread.Sleep(100));\n    executor.Execute(() =&gt; Console.WriteLine(\",\"));\n    executor.Execute(() =&gt; { throw new Exception(); });\n    executor.Execute(() =&gt; Console.WriteLine(\"World\"));\n    executor.Execute(() =&gt; Thread.Sleep(100));\n\n    executor.WaitCurrent();\n\n    Console.WriteLine($\"{nameof(MyExecutor.Total)}:{executor.Total}\");\n    Console.WriteLine($\"{nameof(MyExecutor.Finished)}:{executor.Finished}\");\n    Console.WriteLine($\"{nameof(MyExecutor.Failed)}:{executor.Failed}\");\n}\n\npublic class MyExecutor\n{\n    private Task _current = Task.FromResult(0);\n    private int _failed = 0;\n    private int _finished = 0;\n    private int _total = 0;\n    private object _locker = new object();\n\n    public void WaitCurrent()\n    {\n        _current.Wait();        \n    }\n\n    public int Total\n    {\n        get { return _total; }\n    }\n\n    public int Finished\n    {\n        get { return _finished; }\n    }\n\n    public int Failed\n    {\n        get { return _failed; }\n    }\n\n    public void Execute(Action action)\n    {\n        lock (_locker) // not sure that lock it is the best way here\n        {\n            _total++;\n            _current = _current.ContinueWith(prev =&gt; SafeExecute(action));\n        }\n    }\n\n    private void SafeExecute(Action action)\n    {\n        try\n        {               \n            action();\n        }\n        catch \n        {\n            Interlocked.Increment(ref _failed);\n        }\n        finally \n        {\n            Interlocked.Increment(ref _finished);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2439, "user_id": 355485, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fef14fe6bac126b006f0a3f100475244?s=128&d=identicon&r=PG", "display_name": "thalm", "link": "https://stackoverflow.com/users/355485/thalm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4361, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482420107, "creation_date": 1482350824, "last_edit_date": 1482351170, "question_id": 41271071, "link": "https://stackoverflow.com/questions/41271071/how-to-queue-up-delegates-to-be-executed-in-series-in-the-background-with-c", "title": "How to queue up delegates to be executed in series in the background with C#?", "body": "<p>From a game loop i want to start work in the background that should be executed one after another but should not block the game loop.</p>\n\n<p>So ideally a class <code>BackgroundQueue</code> that could be used like this:</p>\n\n<pre><code>BackgroundQueue myQueue = new BackgroundQueue();\n//game loop called 60 times per second\nvoid Update()\n{\n    if (somethingHappens)\n    {\n        myQueue.Enqueue(() =&gt; MethodThatTakesLong(someArguments))\n    }   \n}\n</code></pre>\n\n<p>Is there a ready made class in .NET that works for the scenario? Or does someone know a good example on how to implement the <code>BackgroundQueue</code> class?</p>\n\n<p>A nice to have would be if the class could report whether it's currently doing something and how many delegates are queued up... </p>\n"}, {"tags": ["c#", ".net", "winforms"], "comments": [{"owner": {"reputation": 742, "user_id": 7283797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717f6beb346fa526e547d1d5269a3ec0?s=128&d=identicon&r=PG&f=1", "display_name": "H.G. Sandhagen", "link": "https://stackoverflow.com/users/7283797/h-g-sandhagen"}, "edited": false, "score": 0, "creation_date": 1482354913, "post_id": 41271047, "comment_id": 69745390, "body": "That sounds strange. I agree, the problem seems to be in the class DopplerEffect, but I have no idea why. The class has no constructor defined and the initialization of fields looks quite normal. I have only one hint: I am not experienced in DirectX. Did you use this assemblies in other projects before? One reason the constructor is not reached is when type initialization fails and I am not sure whether you will see this in Visual Studio output or not. Especially when using also native DLLs."}, {"owner": {"reputation": 335, "user_id": 7268658, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/97b60c9a44c15468cbedefb76b279007?s=128&d=identicon&r=PG&f=1", "display_name": "Moses Meteor", "link": "https://stackoverflow.com/users/7268658/moses-meteor"}, "reply_to_user": {"reputation": 742, "user_id": 7283797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717f6beb346fa526e547d1d5269a3ec0?s=128&d=identicon&r=PG&f=1", "display_name": "H.G. Sandhagen", "link": "https://stackoverflow.com/users/7283797/h-g-sandhagen"}, "edited": false, "score": 0, "creation_date": 1482358864, "post_id": 41271047, "comment_id": 69747203, "body": "The strange thing is that the same class is working on my older project a big project without a problem. And in this project it&#39;s the third project i started over created and it&#39;s not working."}, {"owner": {"reputation": 335, "user_id": 7268658, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/97b60c9a44c15468cbedefb76b279007?s=128&d=identicon&r=PG&f=1", "display_name": "Moses Meteor", "link": "https://stackoverflow.com/users/7268658/moses-meteor"}, "reply_to_user": {"reputation": 742, "user_id": 7283797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717f6beb346fa526e547d1d5269a3ec0?s=128&d=identicon&r=PG&f=1", "display_name": "H.G. Sandhagen", "link": "https://stackoverflow.com/users/7283797/h-g-sandhagen"}, "edited": false, "score": 0, "creation_date": 1482358890, "post_id": 41271047, "comment_id": 69747214, "body": "And it&#39;s not throwing any exceptions. Maybe i should enable some/any exception in he exceptions settings ?"}, {"owner": {"reputation": 742, "user_id": 7283797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717f6beb346fa526e547d1d5269a3ec0?s=128&d=identicon&r=PG&f=1", "display_name": "H.G. Sandhagen", "link": "https://stackoverflow.com/users/7283797/h-g-sandhagen"}, "edited": false, "score": 1, "creation_date": 1482393986, "post_id": 41271047, "comment_id": 69758256, "body": "Enable Exception may help, but I don&#39;t think so as far as there is no exception in debug output. Are there differences between this project and the (working) older ones? Other DirectX references, other .NET Framework Version etc. I still suspect, it has something to do with external references."}, {"owner": {"reputation": 335, "user_id": 7268658, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/97b60c9a44c15468cbedefb76b279007?s=128&d=identicon&r=PG&f=1", "display_name": "Moses Meteor", "link": "https://stackoverflow.com/users/7268658/moses-meteor"}, "reply_to_user": {"reputation": 742, "user_id": 7283797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717f6beb346fa526e547d1d5269a3ec0?s=128&d=identicon&r=PG&f=1", "display_name": "H.G. Sandhagen", "link": "https://stackoverflow.com/users/7283797/h-g-sandhagen"}, "edited": false, "score": 0, "creation_date": 1482402165, "post_id": 41271047, "comment_id": 69763248, "body": "Here is a link to the project the rar file include the directx dll files in the directory: Bin &gt; Debug or Bin &gt; x86 &gt; Debug  <a href=\"http://s000.tinyupload.com/index.php?file_id=10919664595589925254\" rel=\"nofollow noreferrer\">s000.tinyupload.com/index.php?file_id=10919664595589925254</a>"}, {"owner": {"reputation": 335, "user_id": 7268658, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/97b60c9a44c15468cbedefb76b279007?s=128&d=identicon&r=PG&f=1", "display_name": "Moses Meteor", "link": "https://stackoverflow.com/users/7268658/moses-meteor"}, "reply_to_user": {"reputation": 742, "user_id": 7283797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717f6beb346fa526e547d1d5269a3ec0?s=128&d=identicon&r=PG&f=1", "display_name": "H.G. Sandhagen", "link": "https://stackoverflow.com/users/7283797/h-g-sandhagen"}, "edited": false, "score": 0, "creation_date": 1482402240, "post_id": 41271047, "comment_id": 69763284, "body": "@H.G.Sandhagen i will keep looking for some differences in the projects. So far i didn&#39;t find something that will solve it."}, {"owner": {"reputation": 742, "user_id": 7283797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717f6beb346fa526e547d1d5269a3ec0?s=128&d=identicon&r=PG&f=1", "display_name": "H.G. Sandhagen", "link": "https://stackoverflow.com/users/7283797/h-g-sandhagen"}, "edited": false, "score": 0, "creation_date": 1482405418, "post_id": 41271047, "comment_id": 69765343, "body": "I don&#39;t have a solution, but I am one step further. I took your code and find out, that the problem has to do with <code>DisplayMode</code>. I found, that it is declared as an instance varialbe, but used only in one method. So I made the following changes. I removed the instance variable:  `       private PresentParameters D3Dpp = null;         //private DisplayMode DispMode;         private Sprite D3Dsprite = null; ` and defined it inside the method: <code>DisplayMode DispMode = Manager.Adapters[Manager.Adapters.Default.Adapter].CurrentDi&zwnj;&#8203;splayMode;</code>"}, {"owner": {"reputation": 742, "user_id": 7283797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717f6beb346fa526e547d1d5269a3ec0?s=128&d=identicon&r=PG&f=1", "display_name": "H.G. Sandhagen", "link": "https://stackoverflow.com/users/7283797/h-g-sandhagen"}, "edited": false, "score": 0, "creation_date": 1482405423, "post_id": 41271047, "comment_id": 69765345, "body": "This way the program starts, but &quot;hang&quot; when <code>InitializeDirectX</code> is called."}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 7268658, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/97b60c9a44c15468cbedefb76b279007?s=128&d=identicon&r=PG&f=1", "display_name": "Moses Meteor", "link": "https://stackoverflow.com/users/7268658/moses-meteor"}, "edited": false, "score": 0, "creation_date": 1482420474, "post_id": 41284480, "comment_id": 69774944, "body": "Managed Debugging Assistant &#39;LoaderLock&#39; has detected a problem in &#39;D:\\C-Sharp\\DopplerRadarEffect\\DopplerRadarEffect\\DopplerRad&zwnj;&#8203;arEffect\\bin\\x86\\Rel&zwnj;&#8203;ease\\DopplerRadarEff&zwnj;&#8203;ect.exe&#39;.  Additional information: DLL &#39;C:\\WINDOWS\\assembly\\GAC\\Microsoft.DirectX.Direct3D\\1.0.2902&zwnj;&#8203;.0__31bf3856ad364e35&zwnj;&#8203;\\Microsoft.DirectX.D&zwnj;&#8203;irect3D.dll&#39; is attempting managed execution inside OS Loader lock. Do not attempt to run managed code inside a DllMain or image initialization function since doing so can cause the application to hang. If there is a handler for this exception, the program may be safely continued."}, {"owner": {"reputation": 335, "user_id": 7268658, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/97b60c9a44c15468cbedefb76b279007?s=128&d=identicon&r=PG&f=1", "display_name": "Moses Meteor", "link": "https://stackoverflow.com/users/7268658/moses-meteor"}, "edited": false, "score": 0, "creation_date": 1482420574, "post_id": 41284480, "comment_id": 69775005, "body": "It&#39;s working but when i&#39;m running the program i&#39;m getting another exception message and then when i click the continue button it will work fine. I just wonder if the exception message is important and i should handle it ? Or i should uncheck now back the &quot;Enable native code debugging&quot; and ignore the exception ? ( The exception message in my first comment above this one )."}, {"owner": {"reputation": 335, "user_id": 7268658, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/97b60c9a44c15468cbedefb76b279007?s=128&d=identicon&r=PG&f=1", "display_name": "Moses Meteor", "link": "https://stackoverflow.com/users/7268658/moses-meteor"}, "edited": false, "score": 0, "creation_date": 1482421584, "post_id": 41284480, "comment_id": 69775732, "body": "Ok i found how to work around this. It&#39;s not a solution but if i go to the Debug &gt; Windows &gt; Exception Settings and there to Managed Debugging Assistants and then unchecked the LoaderLock so now when running the program i&#39;m not getting any exceptions and it&#39;s working fine. But again this is not a solution for the exception."}, {"owner": {"reputation": 742, "user_id": 7283797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717f6beb346fa526e547d1d5269a3ec0?s=128&d=identicon&r=PG&f=1", "display_name": "H.G. Sandhagen", "link": "https://stackoverflow.com/users/7283797/h-g-sandhagen"}, "reply_to_user": {"reputation": 335, "user_id": 7268658, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/97b60c9a44c15468cbedefb76b279007?s=128&d=identicon&r=PG&f=1", "display_name": "Moses Meteor", "link": "https://stackoverflow.com/users/7268658/moses-meteor"}, "edited": false, "score": 1, "creation_date": 1482421801, "post_id": 41284480, "comment_id": 69775886, "body": "I am afraid that <b>is</b> the solution as long as the application runs as expected. You could search for &quot;DirectX&quot; and this Exception and you will find out, that obviously the initialization code of DirectX causes the exception."}], "tags": [], "owner": {"reputation": 742, "user_id": 7283797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717f6beb346fa526e547d1d5269a3ec0?s=128&d=identicon&r=PG&f=1", "display_name": "H.G. Sandhagen", "link": "https://stackoverflow.com/users/7283797/h-g-sandhagen"}, "is_accepted": true, "score": 1, "last_activity_date": 1482413895, "last_edit_date": 1495541319, "creation_date": 1482413895, "answer_id": 41284480, "question_id": 41271047, "link": "https://stackoverflow.com/questions/41271047/why-when-running-new-project-its-not-showing-any-windows-and-break-points-never/41284480#41284480", "title": "Why when running new project it&#39;s not showing any windows and break points never work it&#39;s never get to the form1 constructor?", "body": "<p>The solution is very simple, but Visual Studio make it not always easy to find.</p>\n\n<p>If you check \"Enable native code debugging\" in your project properties, Debug page and run your program, you will get an exception \"Mixed mode assembly is built against version 'v1.1.4322' of the runtime and cannot be loaded in the 4.0 runtime without additional configuration information.\"</p>\n\n<p>Short research leads to <a href=\"https://stackoverflow.com/questions/1751179/managed-directx-running-from-net-framework-4-0-app-dont-hunt\">Managed DirectX running from .Net Framework 4.0</a>.</p>\n\n<p>Change your app.cofig to </p>\n\n<pre><code>&lt;startup useLegacyV2RuntimeActivationPolicy=\"true\"&gt;\n    &lt;supportedRuntime version=\"v4.0\" sku=\".NETFramework,Version=v4.5.2\" /&gt;\n&lt;/startup&gt;\n</code></pre>\n\n<p>and it will run.</p>\n"}], "owner": {"reputation": 335, "user_id": 7268658, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/97b60c9a44c15468cbedefb76b279007?s=128&d=identicon&r=PG&f=1", "display_name": "Moses Meteor", "link": "https://stackoverflow.com/users/7268658/moses-meteor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 41284480, "answer_count": 1, "score": 0, "last_activity_date": 1482413895, "creation_date": 1482350686, "question_id": 41271047, "link": "https://stackoverflow.com/questions/41271047/why-when-running-new-project-its-not-showing-any-windows-and-break-points-never", "title": "Why when running new project it&#39;s not showing any windows and break points never work it&#39;s never get to the form1 constructor?", "body": "<p>I had this problem on my first project so i tried now to make a new project but i had the same problem so i did the test in form1 constructor and found that something is wrong with the DopplerEffect class.</p>\n\n<p>I did a test now. This is my original Form1 code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace DopplerRadar\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n\n            DopplerEffect de = new DopplerEffect();\n            de.pb1 = pictureBox1;\n            de.bmpWithPoints = new Bitmap(@\"c:\\temp\\anim3.gif\");\n            de.numberOfPoints = 100;\n            de.randomPointsColors = false;\n            de.Init();\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n\n        }\n    }\n}\n</code></pre>\n\n<p>When i put a break point on the line:</p>\n\n<pre><code>DopplerEffect de = new DopplerEffect();\n</code></pre>\n\n<p>It will never stop on it.</p>\n\n<p>But if i move all the code from the Form1 and just adding for the test one line:</p>\n\n<pre><code>string tt = \"tt\";\n</code></pre>\n\n<p>And then put a break point on this line it will stop on the line.</p>\n\n<p>So i guess the problem is somewhere with the class DopplerEffect.</p>\n\n<p>But if i put also a break point on the DopplerEffect code it's not stopping there either.</p>\n\n<p>So the problem is with the DopplerEffect but i can't figure out why and where.</p>\n\n<p>This is the DopplerEffect code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Microsoft.DirectX.Direct3D;\nusing Microsoft.DirectX;\nusing System.Drawing.Drawing2D;\nusing System.Drawing.Imaging;\nusing System.Runtime.InteropServices;\nusing System.IO;\nusing System.Drawing;\nusing System.Diagnostics;\n\n\nnamespace DopplerRadar\n{\n    public class DopplerEffect\n    {\n        [DllImport(\"msvcrt.dll\", EntryPoint = \"memset\", CallingConvention = CallingConvention.Cdecl, SetLastError = false)]\n        public static extern IntPtr MemSet(IntPtr dest, int c, int count);\n\n        private System.Windows.Forms.Timer timer1;\n        private Stream mymem;\n        private Bitmap ConvertedBmp;\n        private Device D3Ddev = null;\n        private PresentParameters D3Dpp = null;\n        private DisplayMode DispMode;\n        private Sprite D3Dsprite = null;\n        private Texture backTexture = null;\n        private Texture scannedCloudsTexture = null;\n        private byte[] argbValuesOfTransparentTexture;\n        private float distanceFromCenterPixels;\n        private float distanceFromCenterKm = 200F;\n        private List&lt;Point&gt; detectedPoints;\n        private float[] angleArray, distanceArray;\n        private double angleCalculation, distance;\n        private int bytes = 2048 * 512;\n        private List&lt;Point&gt; points = new List&lt;Point&gt;();\n        private Random r = new Random();\n        private Bitmap bmpnew;\n        private Bitmap bmpWithoutPoints;\n\n        public int numberOfPoints = 100;\n        public Color pointsColor = Color.Red;\n        public bool randomPointsColors = false;\n        public Bitmap bmpWithPoints;\n\n\n        public System.Windows.Forms.PictureBox pb1;\n\n        public void Init()\n        {\n            bmpWithoutPoints = new Bitmap(bmpWithPoints.Width, bmpWithPoints.Height);\n            bmpnew = new Bitmap(bmpWithPoints.Width, bmpWithPoints.Height);\n\n            if (bmpWithPoints == null)\n            {\n                for (int x = 0; x &lt; bmpWithPoints.Width; x++)\n                {\n                    for (int y = 0; y &lt; bmpWithPoints.Height; y++)\n                    {\n                        bmpWithPoints.SetPixel(x, y, Color.Black);\n                    }\n                }\n\n                Color c = Color.Red;\n                for (int x = 0; x &lt; numberOfPoints; x++)\n                {\n                    for (int y = 0; y &lt; numberOfPoints; y++)\n                    {\n                        if (randomPointsColors == true)\n                        {\n                            c = Color.FromArgb(\n                                r.Next(0, 256),\n                                r.Next(0, 256),\n                                r.Next(0, 256));\n                        }\n                        else\n                        {\n                            c = pointsColor;\n                        }\n                        using (var g = Graphics.FromImage(bmpWithPoints))\n                        {\n                            //g.FillCircle(Brushes.Red, clouds1[x], 5);\n                        }\n                        bmpWithPoints.SetPixel(r.Next(0, bmpWithPoints.Width), r.Next(0, bmpWithPoints.Height), c);\n                    }\n                }\n            }\n            else\n            {\n                randomPointsColors = false;\n            }\n            timer1 = new System.Windows.Forms.Timer();\n            timer1.Interval = 10;\n            timer1.Enabled = false;\n            timer1.Tick += Timer1_Tick;\n\n            ConvertedBmp = ConvertTo24(bmpWithPoints);//@\"c:\\temp\\anim3.gif\");\n            mymem = ToStream(ConvertedBmp, ImageFormat.Bmp);\n\n            //blackImage = ConvertTo24(blackImage);\n            //mymem = ToStream(ConvertedBmp, ImageFormat.Bmp);\n\n            distanceFromCenterPixels = (float)(/*183d*/ ((double)200 / 1.09289617486) * (double)distanceFromCenterKm / 200d);\n            argbValuesOfTransparentTexture = new byte[bytes];\n\n            InitializeDirectX(pb1);\n\n            FindPoints();\n            //initialize angleArray\n            angleArray = new float[detectedPoints.Count];\n            distanceArray = new float[detectedPoints.Count];\n\n            for (int i = 0; i &lt; detectedPoints.Count; i++)\n            {\n                CalculateAngleAndDistance(detectedPoints[i].X, detectedPoints[i].Y, out angleCalculation, out distance);\n\n                angleArray[i] = (float)angleCalculation;\n                distanceArray[i] = (float)distance;\n            }\n            timer1.Enabled = true;\n        }\n\n        public void GetPictureBox(System.Windows.Forms.PictureBox pb1)\n        {\n\n        }\n\n        private void FillCircle(Graphics g, Brush brush,\n                              PointF center, float radius)\n        {\n            g.SmoothingMode = SmoothingMode.AntiAlias;\n            g.FillEllipse(brush, center.X - radius, center.Y - radius,\n                                 radius + radius, radius + radius);\n        }\n\n        static float angleF_ = 0.0F;\n        private void Timer1_Tick(object sender, EventArgs e)\n        {\n            if (angleF_ &gt; 360F)\n            {\n                angleF_ -= 360F;\n            }\n\n            ReturnTexture(scannedCloudsTexture, detectedPoints, angleArray, angleF_, bmpnew);\n\n            DisplayOnScreen(angleF_);\n\n            // To change direction to change += to -=\n            // To change speed to raise the value 1.0d \n            angleF_ += 1.0F;\n        }\n\n        private Bitmap ConvertTo24(string inputFileName)\n        {\n            Stopwatch sw = new Stopwatch();\n            sw = Stopwatch.StartNew();\n\n            Bitmap bmpIn = (Bitmap)Bitmap.FromFile(inputFileName);\n\n            Bitmap converted = new Bitmap(bmpIn.Width, bmpIn.Height, PixelFormat.Format24bppRgb);\n            using (Graphics g = Graphics.FromImage(converted))\n            {\n                // Prevent DPI conversion\n                g.PageUnit = GraphicsUnit.Pixel;\n                // Draw the image\n                g.DrawImageUnscaled(bmpIn, 0, 0);\n            }\n            //converted.Save(outputFileName, ImageFormat.Bmp);\n            sw.Stop();\n            return converted;\n        }\n\n        private Bitmap ConvertTo24(Bitmap inputFileName)\n        {\n            Stopwatch sw = new Stopwatch();\n            sw = Stopwatch.StartNew();\n\n            Bitmap bmpIn = inputFileName;\n\n            Bitmap converted = new Bitmap(bmpIn.Width, bmpIn.Height, PixelFormat.Format24bppRgb);\n            using (Graphics g = Graphics.FromImage(converted))\n            {\n                // Prevent DPI conversion\n                g.PageUnit = GraphicsUnit.Pixel;\n                // Draw the image\n                g.DrawImageUnscaled(bmpIn, 0, 0);\n            }\n            //converted.Save(outputFileName, ImageFormat.Bmp);\n            sw.Stop();\n            return converted;\n        }\n\n        public static Stream ToStream(Image image, ImageFormat formaw)\n        {\n            var stream = new MemoryStream();\n            image.Save(stream, formaw);\n            stream.Position = 0;\n            return stream;\n        }\n\n        public Boolean InitializeDirectX(System.Windows.Forms.PictureBox pb1)\n        {\n\n            DispMode = Manager.Adapters[Manager.Adapters.Default.Adapter].CurrentDisplayMode;\n            D3Dpp = new PresentParameters();\n            D3Dpp.BackBufferFormat = DispMode.Format;\n            D3Dpp.PresentFlag = PresentFlag.LockableBackBuffer;\n\n            D3Dpp.SwapEffect = SwapEffect.Discard;\n            D3Dpp.PresentationInterval = PresentInterval.One; //wait for vertical sync. Synchronizes the painting with\n                                                              //monitor refresh rate for smoooth animation\n            D3Dpp.Windowed = true; //the application has borders\n\n            try\n            {\n                D3Ddev = new Device(Manager.Adapters.Default.Adapter, DeviceType.Hardware, pb1.Handle,\n                                                                           CreateFlags.SoftwareVertexProcessing, D3Dpp);\n                //D3Ddev.VertexFormat = CustomVertex.PositionColored.Format;\n                D3Ddev.RenderState.Lighting = false;\n                D3Ddev.RenderState.CullMode = Cull.CounterClockwise;\n\n                //load imagesBmp to panelTexture\n                //panelTexture = Texture.FromBitmap(D3Ddev, imagesBmp, Usage.Dynamic, Pool.Default)\n\n                backTexture = TextureLoader.FromStream(D3Ddev, mymem);\n\n\n\n\n                //scannerTexture = TextureLoader.FromFile(D3Ddev, @\"D:\\Buttons\\Radar\\radar.png\");\n                scannedCloudsTexture = new Texture(D3Ddev, 512, 512, 1, Usage.Dynamic, Format.A8R8G8B8, Pool.Default);\n\n                //sprite is used to draw the texture\n                D3Dsprite = new Sprite(D3Ddev);\n\n                return true;\n            }\n            catch\n            {\n                return false;\n            }\n        }\n\n        Bitmap bmpn;\n        float angle = 0;\n        private void DisplayOnScreen(float angleF)\n        {\n\n            if (angle &lt; 360)\n            {\n                bmpn = new Bitmap(512, 512);\n                angle++;\n            }\n            else\n            {\n                angle = 361;\n            }\n            Surface backbuffer;\n            Brush myBrush = new SolidBrush(Color.FromArgb(110, 0, 255, 0)); //semi transparent color to draw the rotating cone \n            Graphics g;\n\n            //clear the backbuffer with Color.FromArgb(56, 56, 56). This is the double buffer mechanism. Drawing to offscreen \n            //backbuffer and in the end flipping it to main one which is our panelContainer \n            D3Ddev.Clear(ClearFlags.Target, Color.FromArgb(56, 56, 56), 1, 0);\n            D3Ddev.BeginScene();\n\n            //Draw Sprites \n            ////////////////////////////////////////////////////// \n            D3Dsprite.Begin(SpriteFlags.AlphaBlend);\n\n            // bitmap with clouds \n            //D3Dsprite.Draw2D(backTexture, new PointF(0, 0), 0F, new PointF(0F, 0F), Color.White);\n            //the part of clouds that are inside the cone \n            D3Dsprite.Draw2D(scannedCloudsTexture, new PointF(0F, 0F), 0F, new PointF(0F, 0F), Color.White);\n            //rotate cone \n            //D3Dsprite.Draw2D(scannerTexture, new PointF(104.5F, 0F), angle, new PointF(256F, 255F), Color.White); \n\n            D3Dsprite.Flush();\n            D3Dsprite.End();\n            ////////////////////////////////////////////////////// \n\n\n            //Draw the cone. \n            using (backbuffer = D3Ddev.GetBackBuffer(0, 0, BackBufferType.Mono))\n            {\n                using (g = backbuffer.GetGraphics())\n                {\n                    g.SmoothingMode = SmoothingMode.AntiAlias;\n\n                    g.FillPie(myBrush, 256F - distanceFromCenterPixels, 255F - distanceFromCenterPixels,\n                    distanceFromCenterPixels * 2F, distanceFromCenterPixels * 2F, angleF - 23F, 46F);\n                    if (angle &lt;= 360)\n                    {\n\n                    }\n\n                }\n            }\n\n            D3Ddev.EndScene();\n            D3Ddev.Present(); //performs the flipping \n\n        }\n\n        private void CalculateAngleAndDistance(int x, int y, out double angle, out double distance)\n        {\n            Double dbl = -1.0d;\n            Point center = new Point(256, 255);\n\n            distance = Math.Sqrt((double)((center.Y - y) * (center.Y - y) + (center.X - x) * (center.X - x)));\n\n            if (y == center.Y &amp;&amp; x &gt; center.X)\n            {\n                dbl = 0d;\n                angle = dbl;\n\n                return;\n            }\n            else if (x == center.X &amp;&amp; y &gt; center.Y)\n            {\n                dbl = 90d;\n                angle = dbl;\n\n                return;\n            }\n            else if (y == center.Y &amp;&amp; x &lt; center.X)\n            {\n                dbl = 180d;\n                angle = dbl;\n\n                return;\n            }\n            else if (x == center.X &amp;&amp; y &lt; center.Y)\n            {\n                dbl = 279d;\n                angle = dbl;\n\n                return;\n            }\n            else if (x == center.X &amp;&amp; y == center.Y)\n            {\n                angle = dbl;\n\n                return;\n            }\n\n            if (x &gt; center.X &amp;&amp; y &gt; center.Y) //1\n            {\n                dbl = Math.Atan(((double)y - (double)center.Y) / ((double)x - (double)center.X));\n                dbl = 180d * dbl / Math.PI;\n            }\n            else if (x &lt; center.X &amp;&amp; y &gt; center.Y) //2\n            {\n                dbl = Math.Atan(((double)y - (double)center.Y) / ((double)center.X - (double)x));\n                dbl = 180d * dbl / Math.PI;\n                dbl = 180d - dbl;\n            }\n            else if (x &lt; center.X &amp;&amp; y &lt; center.Y) //3\n            {\n                dbl = Math.Atan(((double)center.Y - (double)y) / ((double)center.X - (double)x));\n                dbl = 180d * dbl / Math.PI;\n                dbl += 180d;\n            }\n            else //4\n            {\n                dbl = Math.Atan(((double)center.Y - (double)y) / ((double)x - (double)center.X));\n                dbl = 180d * dbl / Math.PI;\n                dbl = 360d - dbl;\n            }\n\n\n            angle = dbl;\n        }\n\n        private void ReturnTexture(Texture texture_take, List&lt;Point&gt; lstPnt, float[] anglArr, float angle, Bitmap bmpNew)\n        {\n            int i, j, stride = 2048;\n            float angleBefore, angleAfter;\n            GraphicsStream textureStream;\n            Boolean bl = false;\n\n            if (bmpNew.Width != 512 &amp;&amp; bmpNew.Height != 512)\n                throw new Exception(\"Bitmaps must be of same size.\");\n\n            //sets texture to complete transparent \n            unsafe\n            {\n                fixed (byte* p = argbValuesOfTransparentTexture)\n                {\n                    MemSet((IntPtr)p, 0x0, argbValuesOfTransparentTexture.Length);\n                }\n            }\n\n\n            angleAfter = angle + 23F;\n\n            if (angleAfter &gt;= 360F)\n            {\n                angleAfter -= 360F;\n            }\n\n            angleBefore = angleAfter - 46;\n\n            if (angleBefore &lt; 0F)\n            {\n                angleBefore += 360F;\n                bl = true;\n            }\n\n            BitmapData bmD = bmpNew.LockBits(new Rectangle(0, 0, bmpNew.Width, bmpNew.Height), System.Drawing.Imaging.ImageLockMode.ReadWrite, System.Drawing.Imaging.PixelFormat.Format32bppArgb);\n            unsafe\n            {\n                byte* p = (byte*)bmD.Scan0.ToPointer();\n                //checks all points and draws yellow only those who are inside the cone \n                for (i = 0; i &lt; lstPnt.Count - 1; i++)\n                {\n                    if (anglArr[i] == -1F)\n                    {\n                        continue;\n                    }\n\n                    if (bl == true)\n                    {\n                        if (anglArr[i] &lt;= angleAfter || anglArr[i] &gt;= angleBefore) //if point angle is inside cone. Cone angle is 46 degrees \n                        {\n                            if (distanceArray[i] &lt;= distanceFromCenterPixels)\n                            {\n                                j = lstPnt[i].Y * stride + lstPnt[i].X * 4;\n\n                                //yellow \n                                argbValuesOfTransparentTexture[j + 0] = (byte)0;\n                                argbValuesOfTransparentTexture[j + 1] = (byte)255;\n                                argbValuesOfTransparentTexture[j + 2] = (byte)255;\n                                argbValuesOfTransparentTexture[j + 3] = (byte)255;\n\n                                p[j] = (byte)0;\n                                p[j + 1] = (byte)0;\n                                p[j + 2] = (byte)255;\n                                p[j + 3] = (byte)255;\n                            }\n\n                        }\n                    }\n                    else\n                    {\n                        if (anglArr[i] &lt;= angleAfter &amp;&amp; anglArr[i] &gt;= angleBefore) //if point angle is inside cone. Cone angle is 46 degrees \n                        {\n                            if (distanceArray[i] &lt;= distanceFromCenterPixels)\n                            {\n                                j = lstPnt[i].Y * stride + lstPnt[i].X * 4;\n\n                                //yellow \n                                argbValuesOfTransparentTexture[j + 0] = (byte)0;\n                                argbValuesOfTransparentTexture[j + 1] = (byte)255;\n                                argbValuesOfTransparentTexture[j + 2] = (byte)255;\n                                argbValuesOfTransparentTexture[j + 3] = (byte)255;\n\n                                p[j] = (byte)0;\n                                p[j + 1] = (byte)0;\n                                p[j + 2] = (byte)255;\n                                p[j + 3] = (byte)255;\n                            }\n\n                        }\n                    }\n\n                }\n            }\n            //if (angle &lt;= 360)\n            //  pictureBox1.Image.Save(@\"c:\\coneimages\\\" + angle + \".gif\");\n\n            bmpNew.UnlockBits(bmD);\n\n\n\n            {\n                using (textureStream = texture_take.LockRectangle(0, LockFlags.None))\n                {\n                    textureStream.Write(argbValuesOfTransparentTexture);\n                    texture_take.UnlockRectangle(0);\n                }\n\n                //if (angle &lt;= 360)\n                //  pictureBox1.Image.Save(@\"c:\\coneimages\\\" + angle + \".gif\");\n            }\n        }\n\n        private void FindPoints()\n        {\n\n\n            //Bitmap bmptest;\n            GraphicsPath gp = new GraphicsPath();\n            int x, y, p, j, wdthHght;\n            int bytes;\n            //byte error_ = 5;\n            byte[] rgbValuesWithClouds;\n            byte[] rgbValuesWithoutClouds;\n            IntPtr ptr;\n            Rectangle rect;\n            BitmapData bitmap_Data;\n\n            gp.AddEllipse(new RectangleF(73, 72, 367, 367));\n\n            //gp.CloseFigure();\n\n            //using the using statement, bmpWithClouds bitmap is automatically disposed at the end of statement. No memory leaks :)\n            using (bmpWithPoints = new Bitmap(mymem))//@\"D:\\MyWeatherStation-Images-And-Icons\\radartobmp.bmp\")) //24 bit bitmap\n            {\n                rect = new Rectangle(0, 0, bmpWithPoints.Width, bmpWithPoints.Height);\n                wdthHght = bmpWithPoints.Width;\n\n                //Lock bitmap to copy its color information fast\n                bitmap_Data = bmpWithPoints.LockBits(rect, ImageLockMode.ReadWrite, bmpWithPoints.PixelFormat);\n                ptr = bitmap_Data.Scan0;\n                bytes = bitmap_Data.Stride * bmpWithPoints.Height;\n\n                rgbValuesWithClouds = new byte[bytes];\n\n                //copy color information to rgbValues array\n                System.Runtime.InteropServices.Marshal.Copy(ptr, rgbValuesWithClouds, 0, bytes);\n                //we are done copying so unlock bitmap. We dont need it anymore\n                bmpWithPoints.UnlockBits(bitmap_Data);\n            }\n\n\n            //using the using statement, bmpWithClouds bitmap is automatically disposed at the end of statement. No memory leaks :)\n            using (bmpWithoutPoints = new Bitmap(this.bmpWithoutPoints))\n            //@\"D:\\C-Sharp\\Download File\\Downloading-File-Project-Version-012\\Downloading File\\bin\\x86\\Release\\WithoutClouds.bmp\"))//su + \"\\\\WithoutClouds.bmp\")) //24 bit bitmap\n            {\n                rect = new Rectangle(0, 0, bmpWithoutPoints.Width, bmpWithoutPoints.Height);\n\n                //Lock bitmap to copy its color information fast\n                bitmap_Data = bmpWithoutPoints.LockBits(rect, ImageLockMode.ReadWrite, bmpWithoutPoints.PixelFormat);\n                ptr = bitmap_Data.Scan0;\n                bytes = bitmap_Data.Stride * bmpWithoutPoints.Height;\n\n                rgbValuesWithoutClouds = new byte[bytes];\n\n                //copy color information to rgbValues array\n                System.Runtime.InteropServices.Marshal.Copy(ptr, rgbValuesWithoutClouds, 0, bytes);\n                //we are done copying so unlock bitmap. We dont need it anymore\n                bmpWithoutPoints.UnlockBits(bitmap_Data);\n            }\n\n            // Each position in these arrays, rgbValuesWithoutClouds and rgbValuesWithClouds, corresponds a color. eg\n            // First pixel   Second pixel   Third pixel   Forth pixel .... // bitmaps\n            //    B G R          B G R         B G R         B G R    .... // rgbValues arrays\n            //bmptest = new Bitmap(512, 512);\n            detectedPoints = new List&lt;Point&gt;();\n\n            for (y = 0; y &lt; wdthHght; y++)\n            {\n                j = 0;\n                for (x = 0; x &lt; wdthHght; x++)\n                {\n\n                    p = y * wdthHght * 3 + j;\n\n                    if (rgbValuesWithClouds[p] != rgbValuesWithoutClouds[p])\n                    {\n                        detectedPoints.Add(new Point(x, y));\n                        //bmptest.SetPixel(x, y, Color.Red);\n                    }\n\n                    j += 3;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>If i put a break point on the first line in the DopplerEffect class it will not stop on this line either.</p>\n\n<p>But again the test i did in the form1 constructor show that something is wrong with the DopplerEffect class.</p>\n"}, {"tags": ["c#", "loops", "for-loop"], "comments": [{"owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 5, "creation_date": 1482350673, "post_id": 41271009, "comment_id": 69743097, "body": "Recursion almost never makes a problem easier to understand :)"}, {"owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 2, "creation_date": 1482350758, "post_id": 41271009, "comment_id": 69743146, "body": "As to a visualizer, place print statements right below each of your for loops and print the values of <code>a</code> , <code>b</code>, and <code>c</code> in each location.  That should help you <code>trace</code> what your code is actually doing and may help you better visualize it."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 2, "creation_date": 1482350780, "post_id": 41271009, "comment_id": 69743157, "body": "Or just attach the debugger.... More realistically, you are trying to do a combinatorics generator; I would look at creating <i>that</i> and evaluating the results (I <i>think</i> there is one built into .NET)"}, {"owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 2, "creation_date": 1482350840, "post_id": 41271009, "comment_id": 69743192, "body": "The problem with debuggers is that it doesn&#39;t leave a nice history of what just happened, which makes it harder when learning.  They are great for now state, but not as much for past state."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "reply_to_user": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 1, "creation_date": 1482350965, "post_id": 41271009, "comment_id": 69743255, "body": "@MichaelDorgan you should try out historical debugging in the latest Visual Studio"}, {"owner": {"reputation": 1498, "user_id": 4998135, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ufjB7.jpg?s=128&g=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/4998135/nico"}, "edited": false, "score": 1, "creation_date": 1482350970, "post_id": 41271009, "comment_id": 69743258, "body": "Here is a question like yours with an valid answer :) The answer itself is quite complicated as I think it could be done simpler but it&#39;s working <a href=\"http://stackoverflow.com/questions/16604985/find-elements-in-a-list-that-together-add-up-to-a-target-number?noredirect=1&amp;lq=1\" title=\"find elements in a list that together add up to a target number\">stackoverflow.com/questions/16604985/&hellip;</a>"}, {"owner": {"reputation": 76, "user_id": 7327002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ingUN.jpg?s=128&g=1", "display_name": "M&#225;rio Moura da Silva", "link": "https://stackoverflow.com/users/7327002/m%c3%a1rio-moura-da-silva"}, "edited": false, "score": 1, "creation_date": 1482350980, "post_id": 41271009, "comment_id": 69743261, "body": "<a href=\"http://stackoverflow.com/questions/4632322/finding-all-possible-combinations-of-numbers-to-reach-a-given-sum\">Finding all possible combinations of numbers to reach a given sum</a>"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1482352993, "post_id": 41271009, "comment_id": 69744365, "body": "Side note: it is good idea to estimate number of results before writing code - in this case you need to check 2^n  sets which clearly can not be done with n*n loop iterations..."}, {"owner": {"reputation": 691, "user_id": 6835270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Ui1x.jpg?s=128&g=1", "display_name": "PartlyCloudy", "link": "https://stackoverflow.com/users/6835270/partlycloudy"}, "edited": false, "score": 0, "creation_date": 1482353365, "post_id": 41271009, "comment_id": 69744557, "body": "Are you struggling with understanding the concept of nested for loops in general, or understanding how to use them to solve this problem?"}], "answers": [{"tags": [], "owner": {"reputation": 2306, "user_id": 3437608, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wif9E.jpg?s=128&g=1", "display_name": "Cullub", "link": "https://stackoverflow.com/users/3437608/cullub"}, "is_accepted": true, "score": 5, "last_activity_date": 1482353833, "last_edit_date": 1482353833, "creation_date": 1482351929, "answer_id": 41271335, "question_id": 41271009, "link": "https://stackoverflow.com/questions/41271009/struggling-with-nested-for-loop/41271335#41271335", "title": "Struggling with nested for loop", "body": "<p>Think of for loops as circles.  Nested loops are like circles within circles. </p>\n\n<p><a href=\"https://i.stack.imgur.com/OOuEq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OOuEq.png\" alt=\"Circles within circles\"></a></p>\n\n<p>Thankfully, you situation isn't nearly as complicated as this one.  In this picture, the one large circle around is a for loop that is only true once.  While inside that for loop, other loops were true multiple times.  Each different size circle is a different loop.</p>\n\n<p>I've rewritten your code with slightly more descriptive names, and with the sole purpose of explaining the loops - I took all the \"useful\" stuff out, and put <code>console.writeline</code> statements instead.</p>\n\n<pre><code> // I'm using 5 as an example check here.\nfor (int outerLoopCounter = 0; outerLoopCounter &lt; 5; outerLoopCounter++)\n{\n    Console.WriteLine(\"OUTER:             {0}\", outerLoopCounter);\n\n    for (int middleLoopCounter = 0; middleLoopCounter &lt; 5; middleLoopCounter++)\n    {\n        Console.WriteLine(\"MIDDLE:              {0}\", middleLoopCounter);\n\n        for (int innerLoopCounter = 0; innerLoopCounter &lt; 5; innerLoopCounter++)\n        {\n            Console.WriteLine(\"INNER:                 {0}\", innerLoopCounter);\n        }\n    }\n}\n</code></pre>\n\n<p>The Output is as follows:</p>\n\n<pre><code>OUTER:             0\nMIDDLE:              0\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              1\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              2\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              3\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              4\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nOUTER:             1\nMIDDLE:              0\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              1\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              2\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              3\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              4\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nOUTER:             2\nMIDDLE:              0\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              1\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              2\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              3\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              4\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nOUTER:             3\nMIDDLE:              0\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              1\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              2\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              3\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              4\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nOUTER:             4\nMIDDLE:              0\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              1\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              2\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              3\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\nMIDDLE:              4\nINNER:                 0\nINNER:                 1\nINNER:                 2\nINNER:                 3\nINNER:                 4\n</code></pre>\n\n<p>If you look at the indentation, you can see a pattern.  The numbers closest to the text (to the left) are outputted from the outer loop.  The middle ones come from the middle loop, and the furthest to the right numbers come from the innermost loop.</p>\n\n<p>As you can see, the outer loop is slowly revolving, counting to four (<code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>), until it is no longer less than five, at which point it exits the loop.  The middle circle (loop) is counting slightly faster.  It gets to four once (again, 0-4) every time that the outer loop increments by one.  And the inner circle is revolving quite quickly - it counts to four and exits each time the <em>middle</em> circle increments.</p>\n"}], "owner": {"reputation": 153, "user_id": 5660909, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e869b410406ccaf89e56e1475599df28?s=128&d=identicon&r=PG&f=1", "display_name": "Walter Bishop", "link": "https://stackoverflow.com/users/5660909/walter-bishop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 41271335, "answer_count": 1, "score": 1, "last_activity_date": 1482353833, "creation_date": 1482350523, "last_edit_date": 1482351137, "question_id": 41271009, "link": "https://stackoverflow.com/questions/41271009/struggling-with-nested-for-loop", "title": "Struggling with nested for loop", "body": "<p>Given a main number and a subset of numbers, wanting to find all the possible combinations of the subset numbers that add up to the main number.  e.g.:</p>\n\n<h3>INPUT</h3>\n\n<p>Main: 10<br/>\nSubset: 2, 3, 5, 7</p>\n\n<h3>OUTPUT</h3>\n\n<p>Results: 3 + 7 = 10, 2 + 3 + 5 = 10<br/>\n** Note: 5 + 5 = 10 would not be a valid result. **</p>\n\n<p>Here is where I'm at so far:</p>\n\n<pre><code>// Main traversal\nfor (int a = 0; a &lt; nums.Length; a++)\n{\n    sum = a;\n\n    for (int b = a + 1; b &lt; nums.Length; b++)\n    {\n      // Thinking this should be the loop that determines \n      // how many numbers are added together. \n      // e.g. Sum of 2 numbers, sum of 3 numbers, etc\n        for (int c = a + 1; c &lt; nums.Length; c++)\n        {\n            sum += nums[b + c];\n        }\n        if (sum == mainNumber)\n            result += \"Match found!\\n\";\n    }\n}\n</code></pre>\n\n<p>I am mainly struggling to understand the 'for loops.'  I tried to find a 'for loop' visualizer but no luck.  Alternatively, would recursion make this problem any easier to solve?</p>\n"}, {"tags": ["c#", "sql", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 1, "creation_date": 1482350820, "post_id": 41270963, "comment_id": 69743180, "body": "<code>&quot;but I get an error&quot;</code>. Please add the error."}, {"owner": {"reputation": 960, "user_id": 4425441, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e0ff00e5d829830ab36ccd1077d7d51d?s=128&d=identicon&r=PG&f=1", "display_name": "Barry The Wizard", "link": "https://stackoverflow.com/users/4425441/barry-the-wizard"}, "reply_to_user": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1482351121, "post_id": 41270963, "comment_id": 69743340, "body": "Sorry, forgot to add the error."}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 1, "creation_date": 1482351210, "post_id": 41270963, "comment_id": 69743377, "body": "You probably haven&#39;t configured cascaded delete in the database. EF assumes it&#39;s there."}], "answers": [{"tags": [], "owner": {"reputation": 2510, "user_id": 4227836, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000201206741/picture?type=large", "display_name": "Felix", "link": "https://stackoverflow.com/users/4227836/felix"}, "is_accepted": true, "score": 1, "last_activity_date": 1482500392, "last_edit_date": 1495542282, "creation_date": 1482496923, "answer_id": 41301750, "question_id": 41270963, "link": "https://stackoverflow.com/questions/41270963/how-to-enable-cascading-delete/41301750#41301750", "title": "How to enable cascading delete", "body": "<p>Gert is right, most likely you haven't configured cascading delete.</p>\n\n<p>The problem is that when you delete an employee, Entity Framework is trying to set the employee foreign key for all associated degrees to null. \nAnd this is probably not allowed by your database design -- the employee foreign key cannot be null.</p>\n\n<p>Therefore you have to enable cascading delete for the employee FK in your degree table.</p>\n\n<p>Here is a good answer on how you can do that: <a href=\"https://stackoverflow.com/a/35886878/4227836\">https://stackoverflow.com/a/35886878/4227836</a></p>\n"}], "owner": {"reputation": 960, "user_id": 4425441, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/e0ff00e5d829830ab36ccd1077d7d51d?s=128&d=identicon&r=PG&f=1", "display_name": "Barry The Wizard", "link": "https://stackoverflow.com/users/4425441/barry-the-wizard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1273, "favorite_count": 0, "accepted_answer_id": 41301750, "answer_count": 1, "score": 0, "last_activity_date": 1482500392, "creation_date": 1482350307, "last_edit_date": 1482356199, "question_id": 41270963, "link": "https://stackoverflow.com/questions/41270963/how-to-enable-cascading-delete", "title": "How to enable cascading delete", "body": "<p>I have two tables employee and degree. Between those two tables there is a one to many relation. (An employee can have multiple degrees) When I delete an employee I want to delete all degrees of this employee too. I found in other post that I can use cascade delete for this. Tried to add cascade delete, but I get an error when I try to delete an employee. I tried the following:</p>\n\n<p>My two tables:</p>\n\n<pre><code>public partial class Degree\n{\n    public int DegreeId { get; set; }\n    public string Course { get; set; }\n    public string Level { get; set; }\n    public string School { get; set; }\n    public int Employee_BSN { get; set; }\n\n    public virtual Employee Employee { get; set; }\n}\n\npublic partial class Employee\n{\n    public Employee()\n    {\n        this.Degrees = new HashSet&lt;Degree&gt;();\n    }\n\n    public int BSN { get; set; }\n    public string Name { get; set; }\n    public string Surname { get; set; }    \n    public virtual ICollection&lt;Degree&gt; Degrees { get; set; }\n}\n</code></pre>\n\n<p>After reading a few posts I found this. But this didn't fix my problem.</p>\n\n<pre><code>    protected override void OnModelCreating(DbModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;Degree&gt;()\n            .HasRequired(t=&gt;t.Employee)\n            .WithMany(t=&gt;t.Degrees)\n            .HasForeignKey(d=&gt;d.Employee_BSN)\n            .WillCascadeOnDelete(true);\n        base.OnModelCreating(modelBuilder);\n    }\n</code></pre>\n\n<p>In my employee controller I have the following delete method</p>\n\n<pre><code>    // GET: Employees/Delete/5\n    public ActionResult Delete(int? id)\n    {\n        if (id == null)\n        {\n            return new HttpStatusCodeResult(HttpStatusCode.BadRequest);\n        }\n        Employee employee = db.Employees.Find(id);\n        if (employee == null)\n        {\n            return HttpNotFound();\n        }\n        return View(employee);\n    }\n\n    // POST: Employees/Delete/5\n    [HttpPost, ActionName(\"Delete\")]\n    [ValidateAntiForgeryToken]\n    public ActionResult DeleteConfirmed(int id)\n    {\n        Employee employee = db.Employees.Find(id);\n        db.Employees.Remove(employee);\n        db.SaveChanges();\n        return RedirectToAction(\"Index\");\n    }\n</code></pre>\n\n<p>Error</p>\n\n<blockquote>\n  <p>The DELETE statement conflicted with the REFERENCE constraint \"FK_Degree_Employee\". The conflict occurred in database \"\\APP_DATA\\DATABASE.MDF\", table \"dbo.Degree\", column 'Employee_BSN'.\n  The statement has been terminated.</p>\n</blockquote>\n"}, {"tags": ["c#", "asp.net", "gridview"], "comments": [{"owner": {"reputation": 2981, "user_id": 1854345, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FeQ4p.jpg?s=128&g=1", "display_name": "TrevorBrooks", "link": "https://stackoverflow.com/users/1854345/trevorbrooks"}, "edited": false, "score": 1, "creation_date": 1482352939, "post_id": 41270962, "comment_id": 69744340, "body": "I&#39;ve deleted my anser as it appears your code should work."}], "owner": {"reputation": 823, "user_id": 6497826, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BWLPo.jpg?s=128&g=1", "display_name": "Mathias R&#248;nnow N&#248;rtoft", "link": "https://stackoverflow.com/users/6497826/mathias-r%c3%b8nnow-n%c3%b8rtoft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482354529, "creation_date": 1482350306, "last_edit_date": 1482354529, "question_id": 41270962, "link": "https://stackoverflow.com/questions/41270962/accessing-checkbox-in-gridview", "title": "Accessing CheckBox in GridView", "body": "<p>How does one access the CheckBox.Checked value in an ASP.NET GridView? I want to select a bunch a records and then delete them.</p>\n\n<p>What I've tried for testing is just to see if I can make the label change:</p>\n\n<pre><code>&lt;Columns&gt;\n    &lt;asp:TemplateField&gt;\n        &lt;ItemTemplate&gt;\n            &lt;asp:CheckBox ID=\"CheckBox1\" runat=\"server\" /&gt;\n        &lt;/ItemTemplate&gt;\n    &lt;/asp:TemplateField&gt;\n&lt;/Columns&gt;\n</code></pre>\n\n<p>C#</p>\n\n<pre><code>protected void Buttondelete_Click(object sender, EventArgs e)\n{      \n   Label1.Text = \"first\";\n\n   foreach (GridViewRow item in GridViewDelete.Rows)\n   {\n       CheckBox chk = (CheckBox)item.FindControl(\"CheckBox1\");\n       if (chk != null)\n       {\n           if (chk.Checked)\n           {\n               Label1.Text = \"second\";\n           }\n       }\n    }     \n}\n</code></pre>\n\n<p>I only get the \"first\" to go off.</p>\n"}, {"tags": ["c#", "time", "telegram"], "comments": [{"owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1482350929, "post_id": 41270934, "comment_id": 69743231, "body": "Is this a Windows Forms application? Console application? WPF? It sounds as though what you&#39;re looking for is a timer, but it depends on what type of app you&#39;re writing."}, {"owner": {"reputation": 3, "user_id": 7326934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db3c8c4ec52fbccb885b08d84fb708a6?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Liguori", "link": "https://stackoverflow.com/users/7326934/leonardo-liguori"}, "reply_to_user": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1482355011, "post_id": 41270934, "comment_id": 69745438, "body": "It&#39;s a Console Application."}], "answers": [{"tags": [], "owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "is_accepted": true, "score": 0, "last_activity_date": 1482357885, "creation_date": 1482357885, "answer_id": 41272688, "question_id": 41270934, "link": "https://stackoverflow.com/questions/41270934/quests-system-with-time-in-a-text-game-using-telegram/41272688#41272688", "title": "Quests system with time in a text game using telegram", "body": "<p>Typically what you'd do in this situation is create a timer that will expire after a given duration. When the timer expires, the callback will set an event indicating that the interval has ended. Here's one way to do it:</p>\n\n<pre><code>using System.Threading;\nstatic private Timer questTimer;\nstatic private ManualResetEvent questExpired = new ManualResetEvent(false);\n\n// in your code where you start the quest\n\n// clears the event to show that the quest has not ended\nquestExpired.Reset();\n\n// start the timer.\nquestTimer = new Timer(QuestEndedCallback, null, TimeSpan.FromSeconds(duration), TimeSpan.FromMilliseconds(-1));\n</code></pre>\n\n<p>That creates a timer that starts immediately. After <code>duration</code> milliseconds, the timer will expire and call the <code>QuestEndedCallback</code> method. The <code>TimeSpan.FromMilliseconds(-1)</code> signifies that it's a \"one-shot\" timer: it will tick once and then exit.</p>\n\n<p>The <code>QuestEndedCallback</code> is:</p>\n\n<pre><code>static void QuestEndedCallback(object state)\n{\n    // Set the timer to indicate that the quest has ended.\n    questExpired.Set();\n}\n</code></pre>\n\n<p>In your code that does the processing, whenever you want to see if the quest has ended, you check the event:</p>\n\n<pre><code>bool questHasEnded = questExpired.WaitOne(0);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7326934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db3c8c4ec52fbccb885b08d84fb708a6?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Liguori", "link": "https://stackoverflow.com/users/7326934/leonardo-liguori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 41272688, "answer_count": 1, "score": -2, "last_activity_date": 1482357885, "creation_date": 1482350193, "question_id": 41270934, "link": "https://stackoverflow.com/questions/41270934/quests-system-with-time-in-a-text-game-using-telegram", "title": "Quests system with time in a text game using telegram", "body": "<p>Hello i'm trying to make a text-based game in Telegram using c# api.\nI have a database that contains:\nPlayer(playerID, username, health, money, missionID, missionDuration).</p>\n\n<p>MissionID and missionDuration can be NULL.</p>\n\n<p>Mission(missionID, description).</p>\n\n<p>When a player sends to the bot the command \"/mission\", a random mission is assign to the player and a random duration number gets generated.</p>\n\n<p>How can i check if the mission is over?</p>\n\n<p>I made this piece of code that checks if the duration is over:</p>\n\n<pre><code>    public static bool Check(double duration)\n    {\n        DateTime now = DateTime.Now;\n        DateTime end = DateTime.Now;\n\n        end = end.AddSeconds(duration);\n\n        while (now &lt; end)\n        {\n            now = DateTime.Now;\n        }\n\n        return true;\n    }\n</code></pre>\n\n<p>Of course this is wrong because the cpu is always used.\nThere is a way to better check if a time has passed?</p>\n"}, {"tags": ["c#", "observablecollection", "inotifypropertychanged"], "comments": [{"owner": {"reputation": 859, "user_id": 2486702, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/78c0255fb25faf98bd0299a4bddb1213?s=128&d=identicon&r=PG&f=1", "display_name": "Xeun", "link": "https://stackoverflow.com/users/2486702/xeun"}, "edited": false, "score": 0, "creation_date": 1482350246, "post_id": 41270901, "comment_id": 69742858, "body": "the class you want to notify needs to implement INotifyPropertyChanged and the setter of f.e. Bid should Raise this notification"}, {"owner": {"reputation": 7130, "user_id": 3311799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vPfSH.png?s=128&g=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/3311799/johnny"}, "edited": false, "score": 0, "creation_date": 1482350382, "post_id": 41270901, "comment_id": 69742947, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/ms743695(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms743695(v=vs.110).aspx</a>"}, {"owner": {"reputation": 51, "user_id": 3498520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0ae4f61746cb1dda1bc3d37f32e6f453?s=128&d=identicon&r=PG&f=1", "display_name": "AlgoAlpha", "link": "https://stackoverflow.com/users/3498520/algoalpha"}, "reply_to_user": {"reputation": 859, "user_id": 2486702, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/78c0255fb25faf98bd0299a4bddb1213?s=128&d=identicon&r=PG&f=1", "display_name": "Xeun", "link": "https://stackoverflow.com/users/2486702/xeun"}, "edited": false, "score": 1, "creation_date": 1482353180, "post_id": 41270901, "comment_id": 69744468, "body": "@Xeun How do i raise the notification even in the Bid ? Combo.OnPropertyChange() is not recognized."}, {"owner": {"reputation": 859, "user_id": 2486702, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/78c0255fb25faf98bd0299a4bddb1213?s=128&d=identicon&r=PG&f=1", "display_name": "Xeun", "link": "https://stackoverflow.com/users/2486702/xeun"}, "edited": false, "score": 0, "creation_date": 1482358608, "post_id": 41270901, "comment_id": 69747109, "body": "@AlgoAlpha see the link Lepijohny posted"}], "owner": {"reputation": 51, "user_id": 3498520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0ae4f61746cb1dda1bc3d37f32e6f453?s=128&d=identicon&r=PG&f=1", "display_name": "AlgoAlpha", "link": "https://stackoverflow.com/users/3498520/algoalpha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 363, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482350084, "creation_date": 1482350084, "question_id": 41270901, "link": "https://stackoverflow.com/questions/41270901/notify-observablecollection-when-property-changes", "title": "Notify ObservableCollection when property changes", "body": "<p>I have the following classes.</p>\n\n<pre><code>Class Contract\n{\n   public double Bid { get; set; }\n   ...\n}\n\nClass Leg\n{\n   public Contract con {get; set; }\n   ...\n}\n\nclass Combo\n{\n   public Leg L1 { get; set;}\n   public Leg L2 { get; set;}\n   ....\n}\n\nObservableCollection&lt;Combo&gt; listOfCombos = new ObservableCollection&lt;Combo&gt;();\nCombo cmbo = new Combo();\nlistOfCombos.Add(cmbo);\n\n//datagrid bound to ObservableCollection\n&lt;DataGrid x:Name=\"dgCombos\" ItemsSource=\"{Binding listOfCombos,Mode=OneWay}\"\n</code></pre>\n\n<p>How do I notify the listOfCombos when a Bid property of a Contract changes. I also want the change to propagate to the datagrid.\nI know how to notify ObservableCollection when a property of T (the only class) changes.\nIm confused on how to notify, when theres more than one Class. ie. Combo > Leg > Contract. - Thanks</p>\n"}, {"tags": ["c#", ".net", "string", "utf-8", "base64"], "comments": [{"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1482349821, "post_id": 41270749, "comment_id": 69742642, "body": "How does the string change when you put it in the textbox and take it back? Without any input data it&#39;s impossible for others to say anything. This isn&#39;t any common case, it&#39;s some custom system that outputs something."}, {"owner": {"reputation": 1, "user_id": 7327242, "user_type": "registered", "profile_image": "https://graph.facebook.com/1182857268416025/picture?type=large", "display_name": "Tobias Neusigl", "link": "https://stackoverflow.com/users/7327242/tobias-neusigl"}, "reply_to_user": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1482350127, "post_id": 41270749, "comment_id": 69742792, "body": "That&#39;s the point. It doesn&#39;t change at all. I copied the cleanreceived string by command to the clipboard and compared it to the text of the textbox. There is absolutely no difference."}, {"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1482350194, "post_id": 41270749, "comment_id": 69742824, "body": "And when comparing the actual data, not something output by the textbox? Since they can&#39;t be exactly the same if it fixes something."}, {"owner": {"reputation": 1, "user_id": 7327242, "user_type": "registered", "profile_image": "https://graph.facebook.com/1182857268416025/picture?type=large", "display_name": "Tobias Neusigl", "link": "https://stackoverflow.com/users/7327242/tobias-neusigl"}, "reply_to_user": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1482350243, "post_id": 41270749, "comment_id": 69742855, "body": "Can you give me a quick tip how to do that?"}, {"owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1482351282, "post_id": 41270749, "comment_id": 69743426, "body": "It would be useful to know if the length of the <code>imageBytes</code> array is the same both ways."}, {"owner": {"reputation": 1, "user_id": 7327242, "user_type": "registered", "profile_image": "https://graph.facebook.com/1182857268416025/picture?type=large", "display_name": "Tobias Neusigl", "link": "https://stackoverflow.com/users/7327242/tobias-neusigl"}, "edited": false, "score": 0, "creation_date": 1482351482, "post_id": 41270749, "comment_id": 69743528, "body": "Thank you for your reply, that helps me further. I now know that in the actual string are a lot of zeros at the end. Is there a way to get rid of those without touching the TCP Output? I think, I will do that later but for now..."}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1482352132, "post_id": 41270749, "comment_id": 69743874, "body": "Eh I removed my comment about the equality check for string because I don&#39;t know enough about strings and &quot;culture insensitive&quot; comparisons which I think is what <code>==</code> uses for equality checks.. maybe you want to compare with <a href=\"https://msdn.microsoft.com/en-us/library/system.string.compare(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>string.Compare</code></a>, which you should do after the <code>richTextBox1.Text = cleanreceived</code> line. In case it&#39;s not clear, it seems that the setter for <code>richTextBox1.Text</code> is modifying your string somehow, so after the assignment a <code>string.Compare(richTextBox1.Text, cleanreceived)</code> should give clues."}, {"owner": {"reputation": 1, "user_id": 7327242, "user_type": "registered", "profile_image": "https://graph.facebook.com/1182857268416025/picture?type=large", "display_name": "Tobias Neusigl", "link": "https://stackoverflow.com/users/7327242/tobias-neusigl"}, "edited": false, "score": 0, "creation_date": 1482352170, "post_id": 41270749, "comment_id": 69743896, "body": "Got it! Fixed the TCP Client by checking the received byte array to the last 1 and resizing it to that point. Thank you for all your help!"}, {"owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1482423687, "post_id": 41270749, "comment_id": 69777202, "body": "Sounds to me like the server is sending extraneous data. If you have control of the sender, you probably should fix it."}], "owner": {"reputation": 1, "user_id": 7327242, "user_type": "registered", "profile_image": "https://graph.facebook.com/1182857268416025/picture?type=large", "display_name": "Tobias Neusigl", "link": "https://stackoverflow.com/users/7327242/tobias-neusigl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 988, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482349436, "creation_date": 1482349436, "question_id": 41270749, "link": "https://stackoverflow.com/questions/41270749/net-c-convert-utf-8-base64-string-to-image", "title": ".NET C# Convert UTF-8/base64 string to image", "body": "<p>I try to output a base64 string to an image and got it to work with a workaround that is actually - let's say - not very elegant.</p>\n\n<p>I'm receiving a TCP stream from the server and encode it to UTF-8. The data contains a base64/png string. After I received it, I'm going to clean up the received message by deleting the server reply header and the linefeeds. Now I'm going to convert the string to bytes so I can send it to a temporary MemoryStream, which is used to generate the image in the last step.</p>\n\n<p>The code for it looks like the following:</p>\n\n<pre><code>    private void button1_Click(object sender, EventArgs e)\n    {\n        //Request the image from server\n        Networker.send(\"THUMBNAIL RETRIEVE AMB\\r\\n\");\n\n        //Receive the reply from server in UTF-8 and store in string\n        string received = Networker.receive();\n\n        //clean the string by removing not needed information\n        string cleanreceived = received.Replace(\"201 THUMBNAIL RETRIEVE OK\\r\\n\", \"\");\n        cleanreceived = cleanreceived.Replace(\"\\n\", \"\");\n        cleanreceived = cleanreceived.Replace(\"\\r\", \"\");\n\n        //convert string to byte[]\n        byte[] imageBytes = Convert.FromBase64String(cleanreceived);\n\n        // Convert byte[] to image and display in a pictureBox\n        using (var ms = new MemoryStream(imageBytes, 0, imageBytes.Length))\n        {\n            Image image = Image.FromStream(ms, true);\n            pictureBox1.Image = image;\n        }\n\n    }\n</code></pre>\n\n<p>However, this gives me the failure, that the input of the Convert.FromBase64String is a not valid Base64 string-sequence. I just thought, that the problem is, that I encoded the stream to UTF-8, but then I tried the following:</p>\n\n<pre><code>    private void button1_Click(object sender, EventArgs e)\n    {\n        //Request the image from server\n        Networker.send(\"THUMBNAIL RETRIEVE AMB\\r\\n\");\n\n        //Receive the reply from server in UTF-8 and store in string\n        string received = Networker.receive();\n\n        //clean the string by removing not needed information\n        string cleanreceived = received.Replace(\"201 THUMBNAIL RETRIEVE OK\\r\\n\", \"\");\n        cleanreceived = cleanreceived.Replace(\"\\n\", \"\");\n        cleanreceived = cleanreceived.Replace(\"\\r\", \"\");\n\n        //store the clean text in a richTextBox\n        richTextBox1.Text = cleanreceived;\n\n        //store the text of the richTextBox in a new string\n        string base64 = richTextBox1.Text;\n\n        //convert string to byte[]\n        byte[] imageBytes = Convert.FromBase64String(base64);\n\n        // Convert byte[] to image and display in a pictureBox\n        using (var ms = new MemoryStream(imageBytes, 0, imageBytes.Length))\n        {\n            Image image = Image.FromStream(ms, false);\n            pictureBox1.Image = image;\n        }\n\n    }\n</code></pre>\n\n<p>And.. it worked. So what I did is I send the string to a textbox from where it is called back into a new string. With that string I can convert from Base64 to bytes and so on.</p>\n\n<p>However, is there a way to get the job more easy and elegant done, without the need of that textbox?</p>\n\n<p>Thanks in advance and kind regards, Tobias</p>\n"}, {"tags": ["c#", "c++", "arduino-uno"], "comments": [{"owner": {"reputation": 1378, "user_id": 2468608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c96587623a8fed8286872dff6eed08?s=128&d=identicon&r=PG", "display_name": "C1sc0", "link": "https://stackoverflow.com/users/2468608/c1sc0"}, "edited": false, "score": 1, "creation_date": 1482349191, "post_id": 41270602, "comment_id": 69742328, "body": "From c# you can communicate with the arduino over Serial(SerialPort) interface."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1482349510, "post_id": 41270602, "comment_id": 69742487, "body": "Welcome to Stack Overflow. Please take the time to read <a href=\"http://stackoverflow.com/tour\">The Tour</a> and refer to the material from the <a href=\"http://stackoverflow.com/help/asking\">Help Center</a> what and how you can ask here."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7327249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72286b14d5864557b34a97abf371ff11?s=128&d=identicon&r=PG&f=1", "display_name": "Alonso Rodriguez", "link": "https://stackoverflow.com/users/7327249/alonso-rodriguez"}, "edited": false, "score": 0, "creation_date": 1482379621, "post_id": 41270748, "comment_id": 69752661, "body": "in the arduino I am using the int incomingByte along with a if invomingByte &gt; 0 then do the program, but I Can do it on the Visual Basic, on the PC, on putty I do the connection on serial COM8 and every time I press a key, the program starts, so it works, but i cant Automatize this thing, at this moment is only manual."}, {"owner": {"reputation": 1510, "user_id": 4794469, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/730d2a41b1bd6833448f23b1b389a9ad?s=128&d=identicon&r=PG", "display_name": "Roberto Correia", "link": "https://stackoverflow.com/users/4794469/roberto-correia"}, "reply_to_user": {"reputation": 13, "user_id": 7327249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72286b14d5864557b34a97abf371ff11?s=128&d=identicon&r=PG&f=1", "display_name": "Alonso Rodriguez", "link": "https://stackoverflow.com/users/7327249/alonso-rodriguez"}, "edited": false, "score": 0, "creation_date": 1482408164, "post_id": 41270748, "comment_id": 69767103, "body": "sorry, but I didn&#39;t understand your question clearly. but I believe this link can help you better: <a href=\"http://www.martyncurrey.com/arduino-and-visual-basic-part-3-controlling-an-arduino/\" rel=\"nofollow noreferrer\">martyncurrey.com/&hellip;</a> (it&#39;s in Visual Basic - i really don&#39;t understand if you wanna control arduino on c# - because of tags - or in VB - because your comment)! Check the full tutorial too to understand better how to comunicate with arduino and pc: <a href=\"http://www.martyncurrey.com/arduino-and-visual-basic-part-1-receiving-data-from-the-arduino/\" rel=\"nofollow noreferrer\">martyncurrey.com/&hellip;</a>"}, {"owner": {"reputation": 13, "user_id": 7327249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72286b14d5864557b34a97abf371ff11?s=128&d=identicon&r=PG&f=1", "display_name": "Alonso Rodriguez", "link": "https://stackoverflow.com/users/7327249/alonso-rodriguez"}, "edited": false, "score": 0, "creation_date": 1484679895, "post_id": 41270748, "comment_id": 70605712, "body": "Ok thanks for that tutorial, what I want to do is to send a byte to the arduino, for example, to test the connection I use Putty, on Serial COM 8, each enter I tap on Putty sends a byte to Arduino and run the program, but instead of using Putty, must be an app made on VB or CMD or something that only doubleclick into it and run, no interfaces, no buttons, just like a .bat."}], "tags": [], "owner": {"reputation": 1510, "user_id": 4794469, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/730d2a41b1bd6833448f23b1b389a9ad?s=128&d=identicon&r=PG", "display_name": "Roberto Correia", "link": "https://stackoverflow.com/users/4794469/roberto-correia"}, "is_accepted": true, "score": 2, "last_activity_date": 1482349432, "creation_date": 1482349432, "answer_id": 41270748, "question_id": 41270602, "link": "https://stackoverflow.com/questions/41270602/arduino-control-by-pc/41270748#41270748", "title": "Arduino Control by PC", "body": "<p>Just use a <code>Serial.read</code> on <code>loop</code> to read a <code>byte</code>, or another type, then, according with the value received, change the <code>outputValue</code>.</p>\n\n<p>See this link for more: <a href=\"https://www.arduino.cc/en/Serial/Read\" rel=\"nofollow noreferrer\">https://www.arduino.cc/en/Serial/Read</a></p>\n"}], "owner": {"reputation": 13, "user_id": 7327249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72286b14d5864557b34a97abf371ff11?s=128&d=identicon&r=PG&f=1", "display_name": "Alonso Rodriguez", "link": "https://stackoverflow.com/users/7327249/alonso-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 0, "accepted_answer_id": 41270748, "answer_count": 1, "score": -2, "last_activity_date": 1482349432, "creation_date": 1482348874, "last_edit_date": 1482349222, "question_id": 41270602, "link": "https://stackoverflow.com/questions/41270602/arduino-control-by-pc", "title": "Arduino Control by PC", "body": "<p>I am trying to make a automatization by controlling a 12V motor using an Arduino Uno.</p>\n\n<p>I have this code on the Arduino:</p>\n\n<pre><code>const int transistorPin = 9;  \n\n void setup() {\n\n   pinMode(transistorPin, OUTPUT);\n }\n\n void loop() {\n\n   int sensorValue = analogRead(A0);\n\n   int outputValue = map(sensorValue, 0, 1023, 0, 255);\n\n   analogWrite(transistorPin, outputValue);\n }\n</code></pre>\n\n<p>pretty simple, so with this I can control the Engine speed using a protoboard, a potentiometer, and a additional 12V input directly to the protoboard.</p>\n\n<p>so this physical thing works, but now the issue here is that I cannot create a method in order to control the arduino with the PC.</p>\n\n<p>The idea is that a C# system (already exist, I cant modify it) to run an application, .exe, .bat or anything, and this application must control or tell the Arduino to start working, I dont know, by controlling the Voltage, by changing the USB on and off with a delay, to send a Byte and if the arduino receive it it start with the program, I am open to suggestions and help.</p>\n\n<p>the idea is that this Motor pulls one label and only one, then stops, until this application on the PC runs again and activate the arduino to deliver another label and stops again.</p>\n"}, {"tags": ["c#", "wpf", "data-binding", "datagrid"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6872480, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JWKi5g8YQ2s/AAAAAAAAAAI/AAAAAAAAAIk/2rIE0M66Ets/photo.jpg?sz=128", "display_name": "Crauzer", "link": "https://stackoverflow.com/users/6872480/crauzer"}, "edited": false, "score": 0, "creation_date": 1482349376, "post_id": 41270658, "comment_id": 69742424, "body": "Cant seem to find it anywhere"}, {"owner": {"reputation": 85, "user_id": 6524512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8d95e210a8ad9f8bf91361fd4fab29?s=128&d=identicon&r=PG", "display_name": "Gautam", "link": "https://stackoverflow.com/users/6524512/gautam"}, "reply_to_user": {"reputation": 13, "user_id": 6872480, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JWKi5g8YQ2s/AAAAAAAAAAI/AAAAAAAAAIk/2rIE0M66Ets/photo.jpg?sz=128", "display_name": "Crauzer", "link": "https://stackoverflow.com/users/6872480/crauzer"}, "edited": false, "score": 0, "creation_date": 1482349732, "post_id": 41270658, "comment_id": 69742594, "body": "Go through this post <a href=\"http://stackoverflow.com/questions/21720638/using-bindingoperations-enablecollectionsynchronization\" title=\"using bindingoperations enablecollectionsynchronization\">stackoverflow.com/questions/21720638/&hellip;</a>."}, {"owner": {"reputation": 13, "user_id": 6872480, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JWKi5g8YQ2s/AAAAAAAAAAI/AAAAAAAAAIk/2rIE0M66Ets/photo.jpg?sz=128", "display_name": "Crauzer", "link": "https://stackoverflow.com/users/6872480/crauzer"}, "edited": false, "score": 0, "creation_date": 1482350505, "post_id": 41270658, "comment_id": 69743016, "body": "Tried the code below but got an exception: &quot;Operation is not valid while ItemsSource is in use. Access and modify elements with ItemsControl.ItemsSource instead.&quot;                                                                                                                  <code>object tempEntry = new MOBFile.MOBObject(br);             BindingOperations.EnableCollectionSynchronization(dg.Items, tempEntry);             lock (tempEntry)             {                 dg.Items.Add(tempEntry);             }</code>"}], "tags": [], "owner": {"reputation": 85, "user_id": 6524512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a8d95e210a8ad9f8bf91361fd4fab29?s=128&d=identicon&r=PG", "display_name": "Gautam", "link": "https://stackoverflow.com/users/6524512/gautam"}, "is_accepted": false, "score": 0, "last_activity_date": 1482378805, "last_edit_date": 1482378805, "creation_date": 1482349133, "answer_id": 41270658, "question_id": 41270570, "link": "https://stackoverflow.com/questions/41270570/adding-an-item-to-a-listcustomclass-which-is-databinded-to-a-datagrid/41270658#41270658", "title": "Adding an item to a List&lt;CustomClass&gt; which is DataBinded to a DataGrid", "body": "<p>Try to use the <code>EnableCollectionSynchronization</code> method on your <code>ItemsSource</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": true, "score": 1, "last_activity_date": 1482350801, "creation_date": 1482350801, "answer_id": 41271067, "question_id": 41270570, "link": "https://stackoverflow.com/questions/41270570/adding-an-item-to-a-listcustomclass-which-is-databinded-to-a-datagrid/41271067#41271067", "title": "Adding an item to a List&lt;CustomClass&gt; which is DataBinded to a DataGrid", "body": "<p>Are you adding items to the data bound List&lt;CustomClass&gt; on a background thread? Then you could use the dispatcher to marshall the Add call to back the UI thread:</p>\n\n<pre><code>Application.Current.Dispatcher.BeginInvoke(new Action(()=&gt; { yourCollection.Add(yourItem); })));\n</code></pre>\n\n<p>Do this for all Add and Remove operations that modify the source collection.</p>\n\n<p>You should also replace the List&lt;CustomClass&gt; with an ObservableCollection&lt;&gt; if you want the DataGrid to get updated automatically as items are added to the source collection. An ObservableCollection provides change notifications but a List doesn't: <a href=\"http://msdn.microsoft.com/en-us/library/ms668604%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">http://msdn.microsoft.com/en-us/library/ms668604%28v=vs.110%29.aspx</a>.</p>\n\n<p>Also make sure that you are adding items to the source collection rather than to the Items property of the DataGrid control.</p>\n"}], "owner": {"reputation": 13, "user_id": 6872480, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JWKi5g8YQ2s/AAAAAAAAAAI/AAAAAAAAAIk/2rIE0M66Ets/photo.jpg?sz=128", "display_name": "Crauzer", "link": "https://stackoverflow.com/users/6872480/crauzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 41271067, "answer_count": 2, "score": -2, "last_activity_date": 1482378805, "creation_date": 1482348746, "question_id": 41270570, "link": "https://stackoverflow.com/questions/41270570/adding-an-item-to-a-listcustomclass-which-is-databinded-to-a-datagrid", "title": "Adding an item to a List&lt;CustomClass&gt; which is DataBinded to a DataGrid", "body": "<p>Basically what I'am trying to do is to add a new Item into a DataGrid which has a DataBinded List&lt;> to it. I already tried everything I could think of but I always get the \"An ItemsControl is inconsistent with its items source\" exception. If someone would help me with this I would be greatful</p>\n"}, {"tags": ["c#", "asp.net", "datagrid"], "comments": [{"owner": {"reputation": 2981, "user_id": 1854345, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FeQ4p.jpg?s=128&g=1", "display_name": "TrevorBrooks", "link": "https://stackoverflow.com/users/1854345/trevorbrooks"}, "edited": false, "score": 0, "creation_date": 1482420119, "post_id": 41270557, "comment_id": 69774675, "body": "You don&#39;t have any columns to hide except for an EditCommandColumn, which would be DataGrid_AuditSearch.Columns[0].Visible = false;"}, {"owner": {"reputation": 8233, "user_id": 2174085, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/oMs90.jpg?s=128&g=1", "display_name": "Johnny Bones", "link": "https://stackoverflow.com/users/2174085/johnny-bones"}, "reply_to_user": {"reputation": 2981, "user_id": 1854345, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FeQ4p.jpg?s=128&g=1", "display_name": "TrevorBrooks", "link": "https://stackoverflow.com/users/1854345/trevorbrooks"}, "edited": false, "score": 0, "creation_date": 1482420934, "post_id": 41270557, "comment_id": 69775288, "body": "Well, that&#39;s not true.  7 fields are displayed when I run that code.  The EditCommandColumn is a button, and the grid also has 6 fields brought in from the data adapter.  And <b>yes</b>, that&#39;s all the code I use to fill it."}, {"owner": {"reputation": 2981, "user_id": 1854345, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FeQ4p.jpg?s=128&g=1", "display_name": "TrevorBrooks", "link": "https://stackoverflow.com/users/1854345/trevorbrooks"}, "edited": false, "score": 0, "creation_date": 1482421105, "post_id": 41270557, "comment_id": 69775401, "body": "Show the code that creates the columns."}, {"owner": {"reputation": 8233, "user_id": 2174085, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/oMs90.jpg?s=128&g=1", "display_name": "Johnny Bones", "link": "https://stackoverflow.com/users/2174085/johnny-bones"}, "reply_to_user": {"reputation": 2981, "user_id": 1854345, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FeQ4p.jpg?s=128&g=1", "display_name": "TrevorBrooks", "link": "https://stackoverflow.com/users/1854345/trevorbrooks"}, "edited": false, "score": 0, "creation_date": 1482421539, "post_id": 41270557, "comment_id": 69775702, "body": "<b>That&#39;s all the code</b>.  Pop it in a C# app and test it yourself.  I&#39;ve <i>never</i> specified columns in a datagrid.  Well, once when I was using a Net Advantage tool, but never when using a VS datagrid."}, {"owner": {"reputation": 8233, "user_id": 2174085, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/oMs90.jpg?s=128&g=1", "display_name": "Johnny Bones", "link": "https://stackoverflow.com/users/2174085/johnny-bones"}, "reply_to_user": {"reputation": 2981, "user_id": 1854345, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FeQ4p.jpg?s=128&g=1", "display_name": "TrevorBrooks", "link": "https://stackoverflow.com/users/1854345/trevorbrooks"}, "edited": false, "score": 0, "creation_date": 1482424540, "post_id": 41270557, "comment_id": 69777815, "body": "OK, I edited it.  And that&#39;s LITERALLY it.  It&#39;s called on Page_Load."}, {"owner": {"reputation": 2981, "user_id": 1854345, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FeQ4p.jpg?s=128&g=1", "display_name": "TrevorBrooks", "link": "https://stackoverflow.com/users/1854345/trevorbrooks"}, "edited": false, "score": 0, "creation_date": 1482436592, "post_id": 41270557, "comment_id": 69784049, "body": "You don&#39;t define sqlquery2 anywhere."}, {"owner": {"reputation": 8233, "user_id": 2174085, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/oMs90.jpg?s=128&g=1", "display_name": "Johnny Bones", "link": "https://stackoverflow.com/users/2174085/johnny-bones"}, "reply_to_user": {"reputation": 2981, "user_id": 1854345, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FeQ4p.jpg?s=128&g=1", "display_name": "TrevorBrooks", "link": "https://stackoverflow.com/users/1854345/trevorbrooks"}, "edited": false, "score": 0, "creation_date": 1482436741, "post_id": 41270557, "comment_id": 69784112, "body": "Well, I&#39;ve got a datagrid full of data so that isn&#39;t the problem.  If that was an issue, the code would stop running at sqlquery2 = &quot;SELECT * from MyTable&quot;;"}], "answers": [{"tags": [], "owner": {"reputation": 2981, "user_id": 1854345, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FeQ4p.jpg?s=128&g=1", "display_name": "TrevorBrooks", "link": "https://stackoverflow.com/users/1854345/trevorbrooks"}, "is_accepted": false, "score": 0, "last_activity_date": 1482440421, "last_edit_date": 1482440421, "creation_date": 1482440050, "answer_id": 41291512, "question_id": 41270557, "link": "https://stackoverflow.com/questions/41270557/if-youre-using-a-generic-datagrid-is-there-a-way-to-hide-specific-fields/41291512#41291512", "title": "If you&#39;re using a generic DataGrid, is there a way to hide specific fields?", "body": "<p>Automatically generated columns are not added to the Columns collection therefore they are not available to set properties on.  A better approach is to create the columns declaratively and access them in the PreRender or Load events of the DataGrid.  (I did run your code and test for myself).  </p>\n\n<p>Here is a great article on creating DataGrid columns:  <a href=\"https://msdn.microsoft.com/en-us/library/aa479316.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/aa479316.aspx</a></p>\n"}], "owner": {"reputation": 8233, "user_id": 2174085, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/oMs90.jpg?s=128&g=1", "display_name": "Johnny Bones", "link": "https://stackoverflow.com/users/2174085/johnny-bones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482440421, "creation_date": 1482348720, "last_edit_date": 1482424498, "question_id": 41270557, "link": "https://stackoverflow.com/questions/41270557/if-youre-using-a-generic-datagrid-is-there-a-way-to-hide-specific-fields", "title": "If you&#39;re using a generic DataGrid, is there a way to hide specific fields?", "body": "<p>I've got some code like this:</p>\n\n<h1>asp.net</h1>\n\n<pre><code>&lt;div id=\"divGrid\" style='width:920px; height:430px; overflow:auto'&gt;\n    &lt;asp:DataGrid ID=\"DataGrid_AuditSearch\" runat=\"server\"\n    AllowPaging=\"True\" AllowSorting=\"True\" CellPadding=\"4\" ForeColor=\"#333333\" GridLines=\"None\"\n    OnCancelCommand=\"DataGrid_AuditSearch_CancelCommand\" \n    OnUpdateCommand=\"DataGrid_AuditSearch_UpdateCommand\" \n    OnEditCommand=\"DataGrid_AuditSearch_EditCommand\"&gt;\n        &lt;AlternatingItemStyle Font-Bold=\"False\" Font-Italic=\"False\" \n           Font-Overline=\"False\" Font-Strikeout=\"False\" Font-Underline=\"False\" /&gt;\n        &lt;EditItemStyle BackColor=\"#999999\" Font-Bold=\"False\" Font-Italic=\"False\" \n           Font-Overline=\"False\" Font-Strikeout=\"False\" Font-Underline=\"False\" /&gt;\n        &lt;FooterStyle BackColor=\"#5D7B9D\" Font-Bold=\"False\" Font-Italic=\"False\" \n           Font-Overline=\"False\" Font-Strikeout=\"False\" Font-Underline=\"False\" /&gt;\n        &lt;HeaderStyle BackColor=\"#5D7B9D\" Font-Bold=\"False\" Font-Italic=\"False\" \n           Font-Overline=\"False\" Font-Strikeout=\"False\" Font-Underline=\"False\" /&gt;\n        &lt;PagerStyle BackColor=\"#5D7B9D\" Font-Bold=\"False\" Font-Italic=\"False\" \n           Font-Overline=\"False\" Font-Strikeout=\"False\" Font-Underline=\"False\" /&gt;\n        &lt;SelectedItemStyle BackColor=\"#E2DED6\" Font-Bold=\"False\" Font-Italic=\"False\" \n           Font-Overline=\"False\" Font-Strikeout=\"False\" Font-Underline=\"False\" /&gt;\n        &lt;Columns&gt;\n            &lt;asp:EditCommandColumn ButtonType=\"PushButton\" CancelText=\"Cancel\" \n               EditText=\"Select\" UpdateText=\"Update\"&gt;&lt;/asp:EditCommandColumn&gt;\n        &lt;/Columns&gt;\n\n    &lt;/asp:DataGrid&gt;\n    &lt;asp:Label ID=\"lblEmpty\" runat=\"server\" Visible=\"false\" Style=\"font-weight:bold; font-size:large;\"&gt;&lt;/asp:Label&gt;\n&lt;/div&gt; \n</code></pre>\n\n<h1>C#:</h1>\n\n<pre><code>public void Show_Data(int AuditID)\n{\n    try\n    {\n        OracleConnection conn = GetConnection();\n        {\n            conn.ConnectionString = ConfigurationManager.ConnectionStrings[\"ConnCST\"].ToString();\n\n            OracleCommand cmd3 = new OracleCommand();\n            cmd3.Connection = conn;\n\n            sqlquery2 = \"SELECT * from MyTable\";\n\n            cmd3.CommandText = sqlquery2;\n\n            var SearchAdapter = new OracleDataAdapter(cmd3);\n            var ds = new DataSet();\n            SearchAdapter.Fill(ds);\n\n            // Perform the binding.\n            DataGrid_AuditSearch.DataSource = ds;\n            DataGrid_AuditSearch.DataBind();\n\n            if (DataGrid_AuditSearch.Items.Count &lt; 1)\n            {\n                lblEmpty.Visible = true;\n                lblEmpty.Text = \"There is no data to display\";\n            }\n            else\n            {\n                lblEmpty.Visible = false;\n            }\n\n            //DataGrid_AuditSearch.Columns[3].Visible = false;\n            //DataGrid_AuditSearch.Columns[1].Visible = false;\n        }\n    }\n    catch (Exception ex)\n    {\n        Response.Write(ex.Message);\n    }\n\n}\n</code></pre>\n\n<p>Pretty boring, generic stuff.  All fields are generated based on the binding.</p>\n\n<p>However, there are 2 fields I want to be able to access (because I need the data), but I don't want to show on the screen.  Is there a way to do this \"dynamically\"?  In that, I don't want to have to explicitly name all the fields I want to display and in what order.  </p>\n\n<p>I tried adding this after the DataBind command, but it didn't do anything:</p>\n\n<pre><code>DataGrid_AuditSearch.Columns[3].Visible = false;\nDataGrid_AuditSearch.Columns[1].Visible = false;\n</code></pre>\n"}, {"tags": ["c#", "jquery"], "comments": [{"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 1, "creation_date": 1482348796, "post_id": 41270545, "comment_id": 69742093, "body": "Because the pixels left are not <i>white</i>. For ex,  <code>(255,255,255) != (255,255,254)</code> You need some threshold value....."}, {"owner": {"reputation": 5865, "user_id": 2557138, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/zwSr0.png?s=128&g=1", "display_name": "Rick S", "link": "https://stackoverflow.com/users/2557138/rick-s"}, "edited": false, "score": 1, "creation_date": 1482348829, "post_id": 41270545, "comment_id": 69742118, "body": "All the pixels you want to change are not completely white (255,255,255)"}, {"owner": {"reputation": 53, "user_id": 4343207, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oKL6L.png?s=128&g=1", "display_name": "CypherNet", "link": "https://stackoverflow.com/users/4343207/cyphernet"}, "edited": false, "score": 0, "creation_date": 1482349680, "post_id": 41270545, "comment_id": 69742572, "body": "Oh yes :) will filter out out similar colors."}, {"owner": {"reputation": 3182, "user_id": 5771029, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1014844931887743/picture?type=large", "display_name": "Winter", "link": "https://stackoverflow.com/users/5771029/winter"}, "edited": false, "score": 0, "creation_date": 1482349935, "post_id": 41270545, "comment_id": 69742704, "body": "Even if you do that, I will still be ugly since no smoothness is applied between colored and alpha pixels"}, {"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1482350331, "post_id": 41270545, "comment_id": 69742911, "body": "I am just curious what you would get if you use this formula <code>(0.2126 R + 0.7152 G + 0.0722 B)</code> with some threshold value  to determine if color is <i>close to white</i> <a href=\"https://en.wikipedia.org/wiki/Luma_(video)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Luma_(video)</a>"}], "answers": [{"tags": [], "owner": {"reputation": 894, "user_id": 1278771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYW9K.png?s=128&g=1", "display_name": "Exel Gamboa", "link": "https://stackoverflow.com/users/1278771/exel-gamboa"}, "is_accepted": false, "score": 0, "last_activity_date": 1482349694, "creation_date": 1482349694, "answer_id": 41270813, "question_id": 41270545, "link": "https://stackoverflow.com/questions/41270545/remove-white-background-from-image/41270813#41270813", "title": "Remove white background from image", "body": "<p>You need to include something like a slider so you can add a range for all three channels for each pixel [p+_]. For example, if my value (for my case, in a slider) is 253, then this should apply the value in all three pixels so that pixels[255,255,255] alpha value = 0, pixels[254,254,254] alpha value = 0 and pixels[253,253,253] alpha value = 0. I think you got the idea! :)</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 4343207, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oKL6L.png?s=128&g=1", "display_name": "CypherNet", "link": "https://stackoverflow.com/users/4343207/cyphernet"}, "edited": false, "score": 0, "creation_date": 1482351148, "post_id": 41270912, "comment_id": 69743354, "body": "Thanks for the insight. I&#39;ve used the second solution and it still left white. However I modified it slightly and will post the result in a short while."}], "tags": [], "owner": {"reputation": 213, "user_id": 3685427, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f02bd1d41eaf767ddb48b81a737cb414?s=128&d=identicon&r=PG&f=1", "display_name": "user3685427", "link": "https://stackoverflow.com/users/3685427/user3685427"}, "is_accepted": false, "score": 0, "last_activity_date": 1482350128, "creation_date": 1482350128, "answer_id": 41270912, "question_id": 41270545, "link": "https://stackoverflow.com/questions/41270545/remove-white-background-from-image/41270912#41270912", "title": "Remove white background from image", "body": "<p>The problem is that the remaining pixels are not perfectly white. You need to include some tolerance for the slight variation in color. \nIf you want an extremely simple fix, then you could replace your conditional with</p>\n\n<pre><code>if (\n            pixel[p+r] &gt;= 250 &amp;&amp;\n            pixel[p+g] &gt;= 250 &amp;&amp;\n            pixel[p+b] &gt;= 250) // if close to white, then change alpha to 0\n        {pixel[p+a] = 0;}\n</code></pre>\n\n<p>And that would give you a tolerance of 5 for each color channel. However, it may be better to use a line like:</p>\n\n<pre><code>if ((pixel[p+r] + pixel[p+g] + pixel[p+b] ) &gt; (255*3) - 5)\n  {pixel[p+a] = 0;}\n</code></pre>\n\n<p>This will give you a tolerance of 5 overall, regardless of the channel that causes discoloration. </p>\n\n<p>An even better solution is to create a GUI element that sets a variable colorTolerance, and use the formula:</p>\n\n<pre><code>if ((pixel[p+r] + pixel[p+g] + pixel[p+b] ) &gt; (255*3) - colorTolerance)\n  {pixel[p+a] = 0;}\n</code></pre>\n\n<p>This may also remove some of the white pixels in the middle of the image, so keep that in mind.</p>\n"}, {"tags": [], "owner": {"reputation": 591, "user_id": 3723088, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/246c55ad0504b301c93fa563000b9683?s=128&d=identicon&r=PG&f=1", "display_name": "Sam W", "link": "https://stackoverflow.com/users/3723088/sam-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1482353269, "creation_date": 1482353269, "answer_id": 41271637, "question_id": 41270545, "link": "https://stackoverflow.com/questions/41270545/remove-white-background-from-image/41271637#41271637", "title": "Remove white background from image", "body": "<p>Adding a tolerance for colors that are close to white will work to an extent, but what about images that have white in them that <em>isn't</em> part of the background? Even your image has white in it that isn't background. (the polka dots and the belt-like waist thing) </p>\n\n<p>My answer is no; there is no good way to do what you want purely with code. You might be able to use the code that you have to do a rough removal, but each image will need to be reviewed by a person. You need something like photoshop. </p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 4343207, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oKL6L.png?s=128&g=1", "display_name": "CypherNet", "link": "https://stackoverflow.com/users/4343207/cyphernet"}, "is_accepted": true, "score": 1, "last_activity_date": 1482355792, "creation_date": 1482355792, "answer_id": 41272191, "question_id": 41270545, "link": "https://stackoverflow.com/questions/41270545/remove-white-background-from-image/41272191#41272191", "title": "Remove white background from image", "body": "<p>Taking in the suggestions I've modified the code and the white plus similar colors are removed. However it does remove some of the non-white or light gray from inside the image. It's the closest to the best solution so far.</p>\n\n<pre><code>function white2transparent(img)\n    {\n        var c = document.createElement('canvas');\n        var w = img.width, h = img.height;\n\n        c.width = w;\n        c.height = h;\n\n        var ctx = c.getContext('2d');\n\n        ctx.width = w;\n        ctx.height = h;\n        ctx.drawImage(img, 0, 0, w, h);\n        var imageData = ctx.getImageData(0,0, w, h);\n        var pixel = imageData.data;\n\n        var r=0, g=1, b=2,a=3;\n        for (var p = 0; p&lt;pixel.length; p+=4)\n        {\n            if ((pixel[p+r] + pixel[p+g] + pixel[p+b] ) &gt; (170*3) - 5)\n            {pixel[p+a] = 0;}\n        }\n\n        ctx.putImageData(imageData,0,0);\n\n        return c.toDataURL('image/png');\n    }\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DQ1kz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DQ1kz.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 53, "user_id": 4343207, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oKL6L.png?s=128&g=1", "display_name": "CypherNet", "link": "https://stackoverflow.com/users/4343207/cyphernet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 2, "accepted_answer_id": 41272191, "answer_count": 4, "score": 1, "last_activity_date": 1482355792, "creation_date": 1482348689, "question_id": 41270545, "link": "https://stackoverflow.com/questions/41270545/remove-white-background-from-image", "title": "Remove white background from image", "body": "<p>Seasons Greetings.</p>\n\n<p>I am using the code that I found on stack overflow to remove the white background. </p>\n\n<pre><code>function white2transparent(img)\n{\n        var c = document.createElement('canvas');\n        var w = img.width, h = img.height;\n\n        c.width = w;\n        c.height = h;\n\n        var ctx = c.getContext('2d');\n\n        ctx.width = w;\n        ctx.height = h;\n        ctx.drawImage(img, 0, 0, w, h);\n        var imageData = ctx.getImageData(0,0, w, h);\n        var pixel = imageData.data;\n\n        var r=0, g=1, b=2,a=3;\n        for (var p = 0; p&lt;pixel.length; p+=4)\n        {\n            if (\n                pixel[p+r] == 255 &amp;&amp;\n                pixel[p+g] == 255 &amp;&amp;\n                pixel[p+b] == 255) // if white then change alpha to 0\n            {pixel[p+a] = 0;}\n        }\n\n        ctx.putImageData(imageData,0,0);\n\n        return c.toDataURL('image/png');\n}\n</code></pre>\n\n<p>It's not removing all the white, here is the result I get in my local copy.<a href=\"https://i.stack.imgur.com/KZJ0Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KZJ0Q.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there a way to remove all the background white using JQuery or C#?</p>\n"}, {"tags": ["c#", "rest", "docker", "mono", "grapevine"], "comments": [{"owner": {"reputation": 5893, "user_id": 1102764, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ydMvh.jpg?s=128&g=1", "display_name": "Scott Offen", "link": "https://stackoverflow.com/users/1102764/scott-offen"}, "edited": false, "score": 1, "creation_date": 1482355200, "post_id": 41270527, "comment_id": 69745527, "body": "It looks like you are running into the same problem as <a href=\"http://stackoverflow.com/questions/41087072/cannot-load-type-httplistener-in-simple-grapevine-server-example\">this question here</a>. I&#39;m working on a fix for it, but it will be January before it gets released."}, {"owner": {"reputation": 5893, "user_id": 1102764, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ydMvh.jpg?s=128&g=1", "display_name": "Scott Offen", "link": "https://stackoverflow.com/users/1102764/scott-offen"}, "edited": false, "score": 0, "creation_date": 1482371547, "post_id": 41270527, "comment_id": 69750788, "body": "I&#39;ve logged an issue for this <a href=\"https://github.com/sukona/Grapevine/issues/157\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 5893, "user_id": 1102764, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ydMvh.jpg?s=128&g=1", "display_name": "Scott Offen", "link": "https://stackoverflow.com/users/1102764/scott-offen"}, "edited": false, "score": 0, "creation_date": 1490634453, "post_id": 41270527, "comment_id": 73189197, "body": "Please try this again using the latest version (4.1.0-alpha0) and let me know if that resolves the issue."}], "owner": {"reputation": 59, "user_id": 5939843, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/rAFia.jpg?s=128&g=1", "display_name": "Strizzi", "link": "https://stackoverflow.com/users/5939843/strizzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482349047, "creation_date": 1482348600, "last_edit_date": 1482349047, "question_id": 41270527, "link": "https://stackoverflow.com/questions/41270527/running-grapevine-rest-server-in-mono-docker-container", "title": "Running Grapevine REST server in Mono Docker container", "body": "<p>I\u00b4ve built a simple REST server with <a href=\"https://github.com/sukona/Grapevine\" rel=\"nofollow noreferrer\">Grapevine</a> which runs perfectly with windows environment.\nNow I want to run the .exe (with the Grapevine.dll) in an Docker Container with mono.\nMy Dockerfile looks like this:</p>\n\n<pre><code>FROM mono:latest\nCOPY . /boerse\nRUN output=\"$(curl http://169.254.169.254/latest/meta-data/public-hostname)\"\nCMD [ \"mono\", \"/boerse/Boerse.exe\", \"$output\" ]\n</code></pre>\n\n<p>When the Docker container starts, following error message occurs:</p>\n\n<pre><code>Error: System.TypeLoadException: Could not load type 'Grapevine.Interfaces.Server.HttpListener' from assembly 'Grapevine, Version=4.0.0.195, Culture=neutral, PublicKeyToken=null'.\n  at Boerse.BoersenApplication.Main (System.String[] args) [0x0002f] in &lt;407ced228a394aa7b9fc2fa883a239a9&gt;:0\nTypeRef ResolutionScope not yet handled (57) for .ExtendedProtectionSelector in image /boerse/Grapevine.dll\nCould not load signature of Grapevine.Interfaces.Server.HttpListener:get_ExtendedProtectionSelectorDelegate due to: Could not resolve type with token 0100003a assembly: type:ExtendedProtectionSelector member:&lt;none&gt;\nTypeRef ResolutionScope not yet handled (57) for .ExtendedProtectionSelector in image /boerse/Grapevine.dll\nCould not load signature of Grapevine.Interfaces.Server.IHttpListener:get_ExtendedProtectionSelectorDelegate due to: Could not resolve type with token 0100003a assembly: type:ExtendedProtectionSelector member:&lt;none&gt;\n</code></pre>\n\n<p>All the needed DLL\u00b4s are copied into the container. \nAnybody knows how to run Grapevine in a Docker container or what I am doing wrong?</p>\n"}, {"tags": ["c#", "wpf", "binding", "listbox"], "answers": [{"tags": [], "owner": {"reputation": 8645, "user_id": 5235574, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/wEodm.jpg?s=128&g=1", "display_name": "Fruchtzwerg", "link": "https://stackoverflow.com/users/5235574/fruchtzwerg"}, "is_accepted": false, "score": 1, "last_activity_date": 1482349798, "last_edit_date": 1482349798, "creation_date": 1482349090, "answer_id": 41270647, "question_id": 41270510, "link": "https://stackoverflow.com/questions/41270510/bind-list-to-listboxitem-in-wpf/41270647#41270647", "title": "Bind list to listboxitem in wpf", "body": "<p>With</p>\n\n<pre><code>&lt;ListBoxItem Content=\"{Binding orderlist.ID}\"&gt;&lt;/ListBoxItem&gt;\n</code></pre>\n\n<p>you are adding an item in XAML. But your plan is to create a template to present bound items. The simplest solution is to use</p>\n\n<pre><code>&lt;ListBox x:Name=\"listBox\" DisplayMemberPath=\"ID\"/&gt;\n</code></pre>\n\n<p>if only one property needs to be presented. Multiple properties can be showed by creating a template like</p>\n\n<pre><code>&lt;ListView x:Name=\"listBox\"&gt;\n        &lt;ListView.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                        &lt;StackPanel&gt;\n                                &lt;TextBlock Text=\"{Binding ID}\" /&gt;\n                                &lt;TextBlock Text=\"{Binding datum}\"/&gt;\n                                &lt;!-- ... --&gt;\n                        &lt;/WrapPanel&gt;\n                &lt;/DataTemplate&gt;\n        &lt;/ListView.ItemTemplate&gt;\n&lt;/ListView&gt;\n</code></pre>\n\n<p>Furthermore you should use a property like</p>\n\n<pre><code>public ObservableCollection&lt;Klantgegevens&gt; Items { get; } =\n    new ObservableCollection&lt;Klantgegevens&gt;();\n</code></pre>\n\n<p>to bind on. Set the <code>DataContext</code> of the whole Window with the <code>ListView</code> to the object, with this property. After that you can bind the ListView with</p>\n\n<pre><code>&lt;ListView ItemsSource=\"{Binding Items}\"/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 710, "user_id": 5426939, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/49a47719a220b5b324c5d84c1509b854?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Tinnemans", "link": "https://stackoverflow.com/users/5426939/kevin-tinnemans"}, "edited": false, "score": 0, "creation_date": 1482350004, "post_id": 41270804, "comment_id": 69742734, "body": "Thanks it&#39;s one step in the right direction I guess, but it only works the first time I add something to the list"}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "reply_to_user": {"reputation": 710, "user_id": 5426939, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/49a47719a220b5b324c5d84c1509b854?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Tinnemans", "link": "https://stackoverflow.com/users/5426939/kevin-tinnemans"}, "edited": false, "score": 0, "creation_date": 1482350131, "post_id": 41270804, "comment_id": 69742793, "body": "If you want to be able to add items to the ListBox dynamically at runtime you should set the ItemsSource property to an ObservableCollection&lt;Order&gt; instead of a List&lt;Order&gt;. An ObservableCollection provides change notifications but a List doesn&#39;t: <a href=\"https://msdn.microsoft.com/en-us/library/ms668604%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms668604%28v=vs.110%29.aspx</a>"}, {"owner": {"reputation": 710, "user_id": 5426939, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/49a47719a220b5b324c5d84c1509b854?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Tinnemans", "link": "https://stackoverflow.com/users/5426939/kevin-tinnemans"}, "edited": false, "score": 0, "creation_date": 1482350418, "post_id": 41270804, "comment_id": 69742975, "body": "One last question if I may,  How can I make an event for an item in that listbox. Say if I want to see what text is in the clicked item"}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "reply_to_user": {"reputation": 710, "user_id": 5426939, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/49a47719a220b5b324c5d84c1509b854?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Tinnemans", "link": "https://stackoverflow.com/users/5426939/kevin-tinnemans"}, "edited": false, "score": 0, "creation_date": 1482350884, "post_id": 41270804, "comment_id": 69743206, "body": "That&#39;s another question really but you could for example handle the MouseLeftButtonDown event for the root element in your ItemTemplate: <a href=\"http://stackoverflow.com/questions/9213030/double-click-event-on-wpf-window-border\" title=\"double click event on wpf window border\">stackoverflow.com/questions/9213030/&hellip;</a>"}], "tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": true, "score": 3, "last_activity_date": 1482349673, "creation_date": 1482349673, "answer_id": 41270804, "question_id": 41270510, "link": "https://stackoverflow.com/questions/41270510/bind-list-to-listboxitem-in-wpf/41270804#41270804", "title": "Bind list to listboxitem in wpf", "body": "<p>You need to set or bind the ItemsSource property of ListView to an IEnumerable. Since you have set the DataContext property to your \"orderlist\" you should bind the ItemsSource property directly to the DataContext (ItemsSource=\"{<strong>Binding</strong>}\"). You should also use an ItemTemplate as suggested by Fruchtzwerg :</p>\n\n<pre><code>&lt;ListBox x:Name=\"listBox\" HorizontalAlignment=\"Left\" Height=\"453\" VerticalAlignment=\"Top\" Width=\"119\" Margin=\"0,43,0,0\" ItemsSource=\"{Binding}\"&gt;\n    &lt;ListBox.ItemTemplate&gt;\n            &lt;DataTemplate&gt;\n                    &lt;TextBlock Text=\"{Binding ID}\" /&gt;\n            &lt;/DataTemplate&gt;\n    &lt;/ListBox.ItemTemplate&gt;\n&lt;/ListBox&gt;\n</code></pre>\n\n<p>Also note that the DataContext of the ItemTemplate is an item in your ItemsSource, i.e. an Order object in this case. So to bind to the \"ID\" property of the Order object you use the binding syntax above. \"ID\" must be a public property of the Order class.</p>\n"}], "owner": {"reputation": 710, "user_id": 5426939, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/49a47719a220b5b324c5d84c1509b854?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Tinnemans", "link": "https://stackoverflow.com/users/5426939/kevin-tinnemans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5463, "favorite_count": 0, "accepted_answer_id": 41270804, "answer_count": 2, "score": 1, "last_activity_date": 1482349798, "creation_date": 1482348534, "question_id": 41270510, "link": "https://stackoverflow.com/questions/41270510/bind-list-to-listboxitem-in-wpf", "title": "Bind list to listboxitem in wpf", "body": "<p>I'm trying to bind a list to a listbox in WPF. But it doesn't seem to work, I just see nothing on screen. </p>\n\n<p>Here is my code:</p>\n\n<p><strong>WPF</strong></p>\n\n<pre><code>&lt;ListBox x:Name=\"listBox\" HorizontalAlignment=\"Left\" Height=\"453\" VerticalAlignment=\"Top\" Width=\"119\" Margin=\"0,43,0,0\" ItemsSource=\"{Binding orderlist}\"&gt;\n        &lt;ListBoxItem Content=\"{Binding orderlist.ID}\"&gt;&lt;/ListBoxItem&gt;\n    &lt;/ListBox&gt;\n</code></pre>\n\n<p><strong>C#</strong></p>\n\n<pre><code>Order order = new Order();\nKlantgegevens klantgegevens = new Klantgegevens();\n            XmlReader rdr = XmlReader.Create(@\"C:\\Users\\Gebruiker\\Desktop\\EDI\\Rekening.xml\");\n            rdr.ReadToFollowing(\"datum\");\n            order.DatumOntvangst = rdr.ReadElementContentAsString();\n            rdr.ReadToFollowing(\"volgnr\");\n            order.Status = \"Aangenomen\";\n            order.Opmerkingen = \"\";\n            rdr.ReadToFollowing(\"naam\");\n            order.Afzender = rdr.ReadElementContentAsString();\n            rdr.ReadToFollowing(\"naam\");\n            klantgegevens.Naam = rdr.ReadElementContentAsString();\n            rdr.ReadToFollowing(\"straat\");\n            klantgegevens.Straat = rdr.ReadElementContentAsString();\n            rdr.ReadToFollowing(\"huisnr\");\n            klantgegevens.Huisnummer = rdr.ReadElementContentAsInt();\n            rdr.ReadToFollowing(\"plaats\");\n            klantgegevens.Woonplaats = rdr.ReadElementContentAsString();\n            rdr.ReadToFollowing(\"postcode\");\n            klantgegevens.Postcode = rdr.ReadElementContentAsString();\n            rdr.ReadToFollowing(\"telefoonnr\");\n            klantgegevens.Telefoonnummer = rdr.ReadElementContentAsString();\n            order.Klantgegevens = klantgegevens;\n            orderlist.Add(order);\n            listBox.DataContext = orderlist;\n</code></pre>\n\n<p>As you probably know, Order is a custom class, and so is Klantgegevens.\nI'm pretty new to binding and WPF in general so excuse me for my stupidness :)</p>\n"}, {"tags": ["c#", "vb.net", "visual-studio-2015"], "owner": {"reputation": 7167, "user_id": 61623, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0614c58792e93e94cd47ebf6d152e1f6?s=128&d=identicon&r=PG", "display_name": "John S", "link": "https://stackoverflow.com/users/61623/john-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482348421, "creation_date": 1482348421, "question_id": 41270487, "link": "https://stackoverflow.com/questions/41270487/how-do-i-set-a-vstemplate-on-an-item-type-to-install-across-all-languages-in-vs2", "title": "How do I set a VSTemplate on an item type to install across all languages in VS2015?", "body": "<p>I have a generic template file for a \"ReadMe.MD\" file that I want to have included by all of our development staff. Some of our developers are doing VB projects and others are doing C# or Web. </p>\n\n<p>I have successfully been able to install the template under one language/project type using the following vsTemplate file:</p>\n\n<pre><code>&lt;VSTemplate Version=\"3.0.0\" xmlns=\"http://schemas.microsoft.com/developer/vstemplate/2005\" Type=\"Item\"&gt;\n  &lt;TemplateData&gt;\n    &lt;DefaultName&gt;ReadMe.MD&lt;/DefaultName&gt;\n    &lt;Name&gt;ReadMe.MD&lt;/Name&gt;\n    &lt;Description&gt;Standard read me file&lt;/Description&gt;\n    &lt;ProjectType&gt;VisualBasic&lt;/ProjectType&gt;\n   &lt;SortOrder&gt;10&lt;/SortOrder&gt;\n   &lt;Icon&gt;__TemplateIcon.ico&lt;/Icon&gt;\n  &lt;/TemplateData&gt;\n  &lt;TemplateContent&gt;\n    &lt;References /&gt;\n    &lt;ProjectItem SubType=\"\" TargetFileName=\"$fileinputname$.MD\" ReplaceParameters=\"false\"&gt;ReadMe.MD&lt;/ProjectItem&gt;\n  &lt;/TemplateContent&gt;\n&lt;/VSTemplate&gt;\n</code></pre>\n\n<p>But since this file template is not language dependent how do I get it to install across all of the project types?</p>\n"}, {"tags": ["c#", "swagger", "swashbuckle", "azure-api-apps", "autorest"], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 2903759, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000073366738/picture?type=large", "display_name": "Venkat Pasumarthi", "link": "https://stackoverflow.com/users/2903759/venkat-pasumarthi"}, "is_accepted": true, "score": 0, "last_activity_date": 1482422470, "creation_date": 1482422470, "answer_id": 41287175, "question_id": 41270402, "link": "https://stackoverflow.com/questions/41270402/different-client-output-when-used-autorest-exe-vs-add-rest-api-client/41287175#41287175", "title": "Different client output when used Autorest.exe vs ADD-&gt;Rest API Client", "body": "<p>I finally figured out the issue. I was using a different version of Autorest.exe to generate my client where as Visual Studio \"Add -> Rest API Client\" is using another version. After I downloaded the version needed and used the same command above, it worked like charm. </p>\n"}, {"tags": [], "owner": {"reputation": 933, "user_id": 181469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca3aaf643fb2d484e335d7da72d9a158?s=128&d=identicon&r=PG", "display_name": "Garrett Serack", "link": "https://stackoverflow.com/users/181469/garrett-serack"}, "is_accepted": false, "score": 2, "last_activity_date": 1483639735, "creation_date": 1483639735, "answer_id": 41491851, "question_id": 41270402, "link": "https://stackoverflow.com/questions/41270402/different-client-output-when-used-autorest-exe-vs-add-rest-api-client/41491851#41491851", "title": "Different client output when used Autorest.exe vs ADD-&gt;Rest API Client", "body": "<p>Indeed, the version of AutoRest that ships in VS is quite old, and you really don't want to use that.</p>\n\n<p>To get the latest version of AutoRest (installs into <code>c:\\autorest</code> ... change to wherever you'd like it.)</p>\n\n<p><strong><em>Make sure you have NuGet 3.4 or later.</em></strong></p>\n\n<p><strong>Latest Nightly Build</strong></p>\n\n<pre><code>NuGet.exe install AutoRest -source https://www.myget.org/F/autorest/api/v3/index.json -prerelease -outputdirectory c:\\autorest \n</code></pre>\n\n<p><strong>Latest Stable Build</strong></p>\n\n<pre><code>NuGet.exe install AutoRest -outputdirectory c:\\autorest \n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 2903759, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000073366738/picture?type=large", "display_name": "Venkat Pasumarthi", "link": "https://stackoverflow.com/users/2903759/venkat-pasumarthi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1040, "favorite_count": 1, "accepted_answer_id": 41287175, "answer_count": 2, "score": 1, "last_activity_date": 1483639735, "creation_date": 1482348066, "last_edit_date": 1482352409, "question_id": 41270402, "link": "https://stackoverflow.com/questions/41270402/different-client-output-when-used-autorest-exe-vs-add-rest-api-client", "title": "Different client output when used Autorest.exe vs ADD-&gt;Rest API Client", "body": "<p>I am trying to generate client code for WebAPI with Swagger. I usually do that by downloading the metadata json file (after deploying WebAPI) and then use the option \"Add->Rest API Client..\" for the client class library.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gcj1G.png\" rel=\"nofollow noreferrer\">Add -> Rest API Client</a>. </p>\n\n<p>This will generate client library to the desired project and works fine. But i am trying to automate this process using Autorest.exe. I wrote small code to execute <strong>Autorest.exe</strong> with <a href=\"https://github.com/Azure/autorest/blob/master/docs/user/cli.md\" rel=\"nofollow noreferrer\">parameters</a> to generate the client code as below</p>\n\n<pre><code>string filename = @\"C:\\Users\\xxxx\\packages\\AutoRest.0.9.7\\tools\\AutoRest.exe\";\nSystem.Diagnostics.Process process = new System.Diagnostics.Process();\nSystem.Diagnostics.ProcessStartInfo startInfo = new System.Diagnostics.ProcessStartInfo();\nstartInfo.FileName = filename;\nstartInfo.Arguments = \"-CodeGenerator CSharp -Modeler CompositeSwagger -Input http://WebAPIDomainNameGoesHere:80/swagger/docs/v1 -Namespace CESOutboundAPI.ClientLibrary\";\nprocess.StartInfo = startInfo;\nprocess.Start();\nprocess.WaitForExit();\n</code></pre>\n\n<p>But the newly generated client code doesn't work (doesn't build) and isn't similar to what i get as output when i use GUI options in visual studio. </p>\n\n<p>When i try building the newly generated code, i get the following error messages for each <strong>.cs</strong> file.</p>\n\n<pre><code>The type or namespace name 'ValidationRules' does not exist in the namespace 'Microsoft.Rest' (are you missing an assembly reference?)  \nThe type or namespace name 'SerializationException' does not exist in the namespace 'Microsoft.Rest' (are you missing an assembly reference?)   \nThe type or namespace name 'Serialization' does not exist in the namespace 'Microsoft.Rest' (are you missing an assembly reference?)    \nThe type or namespace name 'HttpResponseMessageWrapper' does not exist in the namespace 'Microsoft.Rest' (are you missing an assembly reference?)   \n.\n.\n</code></pre>\n\n<p>I need help with automating generation of client code that executes perfectly and matches to what GUI generates. Thanks in advance.</p>\n"}, {"tags": ["c#", "wpf", "api", "tfs"], "answers": [{"tags": [], "owner": {"reputation": 627, "user_id": 2939996, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Fqs70.jpg?s=128&g=1", "display_name": "Angshuman", "link": "https://stackoverflow.com/users/2939996/angshuman"}, "is_accepted": false, "score": 0, "last_activity_date": 1482380939, "creation_date": 1482380939, "answer_id": 41275813, "question_id": 41270350, "link": "https://stackoverflow.com/questions/41270350/retrieve-full-checkout-info-using-tfs-api/41275813#41275813", "title": "Retrieve Full Checkout Info using TFS API", "body": "<p>As far as I know, to get the Check-out information of a file you need to find out the workspaces and then find what are all pending changes on those work spaces.</p>\n\n<p>I found a useful post <a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/41007e2d-3ea8-4641-a417-82a4bf8dcdd5/programmatically-check-if-file-is-checked-out-and-check-in-tfs-using-c?forum=tfsbuild\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.teamfoundation.versioncontrol.client.versioncontrolserver.querypendingsets(v=vs.120).aspx\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 22848, "user_id": 11799, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88d8477a448df518e49bcf19dc2bc552?s=128&d=identicon&r=PG", "display_name": "MrHinsh - Martin Hinshelwood", "link": "https://stackoverflow.com/users/11799/mrhinsh-martin-hinshelwood"}, "edited": false, "score": 0, "creation_date": 1482407601, "post_id": 41276944, "comment_id": 69766707, "body": "@starain-mart, does that not need to be executed within the context of a Workspace?"}, {"owner": {"reputation": 22848, "user_id": 11799, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88d8477a448df518e49bcf19dc2bc552?s=128&d=identicon&r=PG", "display_name": "MrHinsh - Martin Hinshelwood", "link": "https://stackoverflow.com/users/11799/mrhinsh-martin-hinshelwood"}, "edited": false, "score": 0, "creation_date": 1482503585, "post_id": 41276944, "comment_id": 69808837, "body": "How can you query PendingSets without a workspace? I guess I though that was a workspace feature...."}, {"owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "reply_to_user": {"reputation": 22848, "user_id": 11799, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88d8477a448df518e49bcf19dc2bc552?s=128&d=identicon&r=PG", "display_name": "MrHinsh - Martin Hinshelwood", "link": "https://stackoverflow.com/users/11799/mrhinsh-martin-hinshelwood"}, "edited": false, "score": 0, "creation_date": 1482716159, "post_id": 41276944, "comment_id": 69855092, "body": "The pending change actually has the workspace (local or remote) and there is queryWorkspace parameter, but we can specify null."}, {"owner": {"reputation": 22848, "user_id": 11799, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88d8477a448df518e49bcf19dc2bc552?s=128&d=identicon&r=PG", "display_name": "MrHinsh - Martin Hinshelwood", "link": "https://stackoverflow.com/users/11799/mrhinsh-martin-hinshelwood"}, "edited": false, "score": 0, "creation_date": 1482762278, "post_id": 41276944, "comment_id": 69867883, "body": "So if there is a pending change in many workspaces it will give me them all? Across all machines?"}, {"owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "reply_to_user": {"reputation": 22848, "user_id": 11799, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88d8477a448df518e49bcf19dc2bc552?s=128&d=identicon&r=PG", "display_name": "MrHinsh - Martin Hinshelwood", "link": "https://stackoverflow.com/users/11799/mrhinsh-martin-hinshelwood"}, "edited": false, "score": 0, "creation_date": 1482808549, "post_id": 41276944, "comment_id": 69879879, "body": "@MrHinsh The test result is that the pengding changes in server workspaces are included in the result. The locked pending change is included in the result. You need to specify workspace name and owner if you want to obtain local workspace pending changes."}], "tags": [], "owner": {"reputation": 30946, "user_id": 6587650, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bjWRF.jpg?s=128&g=1", "display_name": "starian chen-MSFT", "link": "https://stackoverflow.com/users/6587650/starian-chen-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1482387878, "creation_date": 1482387878, "answer_id": 41276944, "question_id": 41270350, "link": "https://stackoverflow.com/questions/41270350/retrieve-full-checkout-info-using-tfs-api/41276944#41276944", "title": "Retrieve Full Checkout Info using TFS API", "body": "<p>Using this code to retrieve lock information:</p>\n\n<pre><code>TfsTeamProjectCollection collection = new TfsTeamProjectCollection(new Uri(\"[collection URL]\"));\n\n            collection.EnsureAuthenticated();\n            VersionControlServer vcs = collection.GetService&lt;VersionControlServer&gt;(); \n            var pendingSets = vcs.QueryPendingSets(new string[] { \"[server path]\" }, RecursionType.OneLevel, null, null);\n            foreach (PendingSet changeset in pendingSets)\n            {\n                foreach (PendingChange change in changeset.PendingChanges)\n                {\n                    if(change.IsLock)\n                    {\n                        Console.WriteLine(\"Lock level:\" + change.LockLevel);\n                        Console.WriteLine(\"Locked By:\" + changeset.OwnerName);\n                        Console.WriteLine(\"Time:\" + change.CreationDate);\n                    }\n                }\n            }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7197810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59116c1cd1da7ac0e4b5f5eafbddba80?s=128&d=identicon&r=PG&f=1", "display_name": "Joe T", "link": "https://stackoverflow.com/users/7197810/joe-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482387878, "creation_date": 1482347910, "last_edit_date": 1482351503, "question_id": 41270350, "link": "https://stackoverflow.com/questions/41270350/retrieve-full-checkout-info-using-tfs-api", "title": "Retrieve Full Checkout Info using TFS API", "body": "<p>I am trying to get the list of checked out items from TFS using the following code:</p>\n\n<p>I get the list of items as <code>ExtendedItem[] (var v)</code> but it doesn't have the checkout info (<strong>LockOwner</strong>, <strong>LockOwnerDisplayName</strong> and <strong>LockStatus</strong>) of an item it is not exclusively checked out. </p>\n\n<p>Am I doing anything wrong? Any help would be much appreciated.</p>\n\n<pre><code>VersionControlServer vcs = _tfsColl.GetService&lt;VersionControlServer&gt;();\n\nvar v = vcs.GetExtendedItems(new ItemSpec[] { new ItemSpec(p.ServerItem, RecursionType.OneLevel)}, DeletedState.NonDeleted, ItemType.Any);\n</code></pre>\n"}, {"tags": ["c#", "winapi"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1482353688, "post_id": 41270189, "comment_id": 69744737, "body": "What problem are you really trying to solve? What are you planning to do, when a listener starts listening? Why is it important to know, when a listener stops listening?"}, {"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "reply_to_user": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1482354323, "post_id": 41270189, "comment_id": 69745052, "body": "@IInspectable, yes, exactly. I want to know when a listener starts and when a listener stops. Debugger.IsAttached handles debuggers, but listeners like DbgView work a different way, they don&#39;t trigger the IsAttached flag. The end game is to only generate diagnostic information when there is somebody listening since it can be expensive. i want to automate this behavior. The above code is a light-weight indicator somebody is listening, but trying to know when they stop."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1482355331, "post_id": 41270189, "comment_id": 69745588, "body": "Have you evaluated the applicability of <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb968803.aspx\" rel=\"nofollow noreferrer\">Event Tracing</a>? It&#39;s a robust solution to the problem you are trying to solve, tried and tested, and used throughout the OS."}], "answers": [{"comments": [{"owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "edited": false, "score": 0, "creation_date": 1482349360, "post_id": 41270684, "comment_id": 69742415, "body": "The code snippet I posted is obviously POC, not production code. Also, Visual Studio doesn&#39;t create those. As I mentioned in my post, debuggers work a different way then just a debug viewer like DbgView. Debugger.IsAttached captures debuggers, but not DbgView."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "reply_to_user": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "edited": false, "score": 0, "creation_date": 1482349742, "post_id": 41270684, "comment_id": 69742601, "body": "If any debugger wants to capture OutputDebugString, that&#39;s how to do it. So you are sure to get other debuggers that way. None of which detracts from the main thrust, which is simple. You can&#39;t wait for events to be reset. That is what you asked right?"}], "tags": [], "owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "is_accepted": false, "score": 1, "last_activity_date": 1482349230, "creation_date": 1482349230, "answer_id": 41270684, "question_id": 41270189, "link": "https://stackoverflow.com/questions/41270189/can-you-wait-for-an-event-win32-event-to-be-reset/41270684#41270684", "title": "Can you wait for an event (Win32 event) to be reset?", "body": "<blockquote>\n  <p>Is there any way to check when the event is reset?</p>\n</blockquote>\n\n<p>No there is not. You can wait for events to be set, but not to be reset. You would need there to be another event on which you can wait.</p>\n\n<p>Having read the article which you link to, there is nothing in that protocol that suggests a way for you to detect the end of capturing.</p>\n\n<p>The event you are waiting on is not designed to be used for the purpose you use it for. This event, and its friend <code>DBWIN_DATA_READY</code> are used by debuggers to communicate with <code>OutputDebugString</code>. </p>\n\n<p>One consequence of this is that any debugger that captures <code>OutputDebugString</code> will create these events. So your current approach will find pretty much any debugger, and not just DbgView.</p>\n\n<p>You existing code looks dubious to me. If the event does not already exist, your code will create it. You will then wait for it to be signaled, which may never happen. You may well never have encountered that because you only ever run with a debugger active. You use a magic constant instead of <code>INFINITE</code>, and you perform no error checking at all.</p>\n"}], "owner": {"reputation": 6408, "user_id": 5004822, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/55fd7e8e0dc744fc5feada06408b8a07?s=128&d=identicon&r=PG&f=1", "display_name": "SledgeHammer", "link": "https://stackoverflow.com/users/5004822/sledgehammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482349230, "creation_date": 1482347300, "question_id": 41270189, "link": "https://stackoverflow.com/questions/41270189/can-you-wait-for-an-event-win32-event-to-be-reset", "title": "Can you wait for an event (Win32 event) to be reset?", "body": "<p>I am writing some code that monitors if a 3rd party debug viewer (i.e. DbgView) is running. I can handle a full blown debugger easily with Debugger.IsAttached, but to track DbgView, you need to monitor some events. I am basing my code on this article here: <a href=\"http://unixwiz.net/techtips/outputdebugstring.html\" rel=\"nofollow noreferrer\">http://unixwiz.net/techtips/outputdebugstring.html</a></p>\n\n<p>So, right now, I have:</p>\n\n<pre><code>            IntPtr h1 = CreateEvent(IntPtr.Zero, false, false, \"DBWIN_BUFFER_READY\");\n            WaitForSingleObject(h1, 0xFFFFFFFF);\n            //bool b2 = h1 != IntPtr.Zero;\n            CloseHandle(h1);\n</code></pre>\n\n<p>Works great. The code blocks until DbgView starts AND starts capturing. Exactly what I want. Now the problem is, I can't tell when the capturing stops.</p>\n\n<p>Is there any way to check when the event is reset or released or whatever DbgView is doing? Preferably without polling the event in a loop :).</p>\n"}, {"tags": ["c#", "visual-studio", "c#-4.0"], "comments": [{"owner": {"reputation": 31465, "user_id": 128384, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cf6f92bfb2a16c0e2c6ca7aef4440862?s=128&d=identicon&r=PG", "display_name": "stijn", "link": "https://stackoverflow.com/users/128384/stijn"}, "edited": false, "score": 1, "creation_date": 1482347637, "post_id": 41270176, "comment_id": 69741429, "body": "<i>its not working for me..</i> please elaborate.."}, {"owner": {"reputation": 825, "user_id": 4070633, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tdwfs.jpg?s=128&g=1", "display_name": "Sxntk", "link": "https://stackoverflow.com/users/4070633/sxntk"}, "edited": false, "score": 0, "creation_date": 1482348031, "post_id": 41270176, "comment_id": 69741651, "body": "Please be more clear, what error do you get? what is the problem? what have you tried?"}, {"owner": {"reputation": 404, "user_id": 2929848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDJbX.png?s=128&g=1", "display_name": "Trey", "link": "https://stackoverflow.com/users/2929848/trey"}, "edited": false, "score": 0, "creation_date": 1482348399, "post_id": 41270176, "comment_id": 69741884, "body": "Let me guess an error about end of stream?"}, {"owner": {"reputation": 1, "user_id": 7009033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c17e092080ab2053ed194a2891eee5e?s=128&d=identicon&r=PG&f=1", "display_name": "Sana", "link": "https://stackoverflow.com/users/7009033/sana"}, "edited": false, "score": 0, "creation_date": 1482350379, "post_id": 41270176, "comment_id": 69742946, "body": "i want to capture a screenshot but i got this error..i am a student nd i don&#39;t have understanding of memory stream.. this is the error? what should i do to resolve this??The type or namespace name &#39;MemoryStream&#39; could not be found (are you missing a using directive or an assembly reference?"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1482358386, "post_id": 41270176, "comment_id": 69747019, "body": "MemoryStream comes from the IO namespace, so add <code>using System.IO;</code> at the top of your file."}], "owner": {"reputation": 1, "user_id": 7009033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c17e092080ab2053ed194a2891eee5e?s=128&d=identicon&r=PG&f=1", "display_name": "Sana", "link": "https://stackoverflow.com/users/7009033/sana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482355516, "creation_date": 1482347253, "last_edit_date": 1482355516, "question_id": 41270176, "link": "https://stackoverflow.com/questions/41270176/screenshot-app-is-not-working-in-visual-studio", "title": "Screenshot App is not working in visual studio", "body": "<p>I am having a hard time with this C# application I am trying to modify. The code originates from: <a href=\"http://www.codeproject.com/Articles/485883/Create-your-own-Snipping-Tool\" rel=\"nofollow noreferrer\">http://www.codeproject.com/Articles/485883/Create-your-own-Snipping-Tool</a>.. its not working for me.. i don't understand whats wrong with memory stream and imageFormat and dash style.. i m having a tough time can any one help?</p>\n\n<pre><code>       using System;\n        using System.Collections.Generic;\n        using System.ComponentModel;\n        using System.Data;\n        using System.Drawing;\n        using System.Linq;\n        using System.Text;\n        using System.Threading.Tasks;\n        using System.Windows.Forms;\n\n        namespace test\n        {\n            public partial class Form1 : Form\n            {\n                public Form1()\n                {\n                    InitializeComponent();\n                   pictureBox1.MouseDown += new         MouseEventHandler(pictureBox1_MouseDown);\n                    pictureBox1.MouseMove += new MouseEventHandler(pictureBox1_MouseMove);\n                }\n\n                 private void button2_Click(object sender, EventArgs e)\n                    {\n\n                         }\n\n                    private void pictureBox1_Click(object sender, EventArgs e)\n                     {\n\n                      }\n\n                      private void Form1_Load(object sender, EventArgs e)\n                      {\n\n                     //Hide the Form\n                     this.Hide();\n                    //Create the Bitmap\n                    Bitmap printscreen = new Bitmap(Screen.PrimaryScreen.Bounds.Width,\n                                           Screen.PrimaryScreen.Bounds.Height);\n                     //Create the Graphic Variable with screen Dimensions\n                     Graphics graphics = Graphics.FromImage(printscreen as Image);\n                      //Copy Image from the screen\n                        graphics.CopyFromScreen(0, 0, 0, 0, printscreen.Size);\n                       //Create a temporal memory stream for the image\n                     using (MemoryStream s = new MemoryStream())\n                          {\n                               //save graphic variable into memory\n                printscreen.Save(s, ImageFormat.Bmp);\n                pictureBox1.Size = new System.Drawing.Size(this.Width, this.Height);\n                //set the picture box with temporary stream\n                pictureBox1.Image = Image.FromStream(s);\n            }\n            //Show Form\n            this.Show();\n            //Cross Cursor\n            Cursor = Cursors.Cross;\n        }\n        int selectX;\n        int selectY;\n        int selectWidth;\n        int selectHeight;\n        public Pen selectPen;\n\n        //This variable control when you start the right click\n        bool start = false;\n\n\n\n        private void pictureBox1_MouseMove(object sender, MouseEventArgs e)\n        {\n            //validate if there is an image\n            if (pictureBox1.Image == null)\n                return;\n            //validate if right-click was trigger\n            if (start)\n            {\n                //refresh picture box\n                pictureBox1.Refresh();\n                //set corner square to mouse coordinates\n                selectWidth = e.X - selectX;\n                selectHeight = e.Y - selectY;\n                //draw dotted rectangle\n                pictureBox1.CreateGraphics().DrawRectangle(selectPen,\n                          selectX, selectY, selectWidth, selectHeight);\n            }\n        }\n\n\n        private void pictureBox1_MouseDown(object sender, MouseEventArgs e)\n        {\n            //validate when user right-click\n            if (!start)\n            {\n                if (e.Button == System.Windows.Forms.MouseButtons.Left)\n                {\n                    //starts coordinates for rectangle\n                    selectX = e.X;\n                    selectY = e.Y;\n                    selectPen = new Pen(Color.Red, 1);\n                    selectPen.DashStyle = DashStyle.DashDotDot;\n                }\n                //refresh picture box\n                pictureBox1.Refresh();\n                //start control variable for draw rectangle\n                start = true;\n            }\n            else\n            {\n                //validate if there is image\n                if (pictureBox1.Image == null)\n                    return;\n                //same functionality when mouse is over\n                if (e.Button == System.Windows.Forms.MouseButtons.Left)\n                {\n                    pictureBox1.Refresh();\n                    selectWidth = e.X - selectX;\n                    selectHeight = e.Y - selectY;\n                    pictureBox1.CreateGraphics().DrawRectangle(selectPen, selectX,\n                             selectY, selectWidth, selectHeight);\n\n                }\n                start = false;\n                //function save image to clipboard\n                SaveToClipboard();\n            }\n        }\n\n        private void SaveToClipboard()\n        {\n            //validate if something selected\n            if (selectWidth &gt; 0)\n            {\n\n                Rectangle rect = new Rectangle(selectX, selectY, selectWidth, selectHeight);\n                //create bitmap with original dimensions\n                Bitmap OriginalImage = new Bitmap(pictureBox1.Image, pictureBox1.Width, pictureBox1.Height);\n                //create bitmap with selected dimensions\n                Bitmap _img = new Bitmap(selectWidth, selectHeight);\n                //create graphic variable\n                Graphics g = Graphics.FromImage(_img);\n                //set graphic attributes\n                g.InterpolationMode = System.Drawing.Drawing2D.InterpolationMode.HighQualityBicubic;\n                g.PixelOffsetMode = System.Drawing.Drawing2D.PixelOffsetMode.HighQuality;\n                g.CompositingQuality = System.Drawing.Drawing2D.CompositingQuality.HighQuality;\n                g.DrawImage(OriginalImage, 0, 0, rect, GraphicsUnit.Pixel);\n                //insert image stream into clipboard\n                Clipboard.SetImage(_img);\n            }\n            //End application\n            Application.Exit();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "android", "xamarin"], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 6715972, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1149258685096559/picture?type=large", "display_name": "Petar Mijovi\u0107", "link": "https://stackoverflow.com/users/6715972/petar-mijovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1482348311, "post_id": 41270289, "comment_id": 69741826, "body": "Do I have to add using statement in order to get access to R?"}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1482351090, "post_id": 41270289, "comment_id": 69743321, "body": "Why did you accept this answer? Who wants to make such an integer array? The answer of @Budius is where you were after. And the best answer has not even been posted as one can simply list the content of the drawable folder."}], "tags": [], "owner": {"reputation": 30843, "user_id": 630668, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/3RDGU.jpg?s=128&g=1", "display_name": "Dharmendra", "link": "https://stackoverflow.com/users/630668/dharmendra"}, "is_accepted": false, "score": 1, "last_activity_date": 1482347675, "creation_date": 1482347675, "answer_id": 41270289, "question_id": 41270174, "link": "https://stackoverflow.com/questions/41270174/picking-random-image-from-resources/41270289#41270289", "title": "picking random image from resources", "body": "<p>Take one array of integer to store all drawables</p>\n\n<pre><code>int resIds = new int[]{R.drawable.s1, R.drawable.s2, .... R.drawable.s100};\n</code></pre>\n\n<p>Then calculate random index and pick drawable from that index</p>\n\n<pre><code>Random r = new Random();\nint index = r.Next(resIds.length -1);\nimageView.setImageResource(resIds[index]);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1864, "user_id": 4482052, "user_type": "registered", "accept_rate": 19, "profile_image": "https://lh5.googleusercontent.com/-FDbvtKwaqEs/AAAAAAAAAAI/AAAAAAAAABI/c7h7dYRmPJE/photo.jpg?sz=128", "display_name": "Suresh Kumar", "link": "https://stackoverflow.com/users/4482052/suresh-kumar"}, "is_accepted": false, "score": 2, "last_activity_date": 1482347848, "creation_date": 1482347848, "answer_id": 41270334, "question_id": 41270174, "link": "https://stackoverflow.com/questions/41270174/picking-random-image-from-resources/41270334#41270334", "title": "picking random image from resources", "body": "<p>Create any arrays.xml file in values and add your drawables into an array like this</p>\n\n<p>\n</p>\n\n<pre><code>&lt;integer-array name=\"images\"&gt;\n    &lt;item&gt;@drawable/drawable1&lt;/item&gt;\n    &lt;item&gt;@drawable/drawable2&lt;/item&gt;\n    &lt;item&gt;@drawable/drawable3&lt;/item&gt;\n&lt;/integer-array&gt;\n</code></pre>\n\n<p></p>\n\n<p>Then in your activity class add this</p>\n\n<pre><code>TypedArray images = getResources().obtainTypedArray(R.array.images);\n\n// get resource id by random index i\nimages.getResourceId(i, -1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37399, "user_id": 906362, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/677b4a116774ecdee4b161903bdcfb28?s=128&d=identicon&r=PG", "display_name": "Budius", "link": "https://stackoverflow.com/users/906362/budius"}, "is_accepted": true, "score": 2, "last_activity_date": 1482349732, "creation_date": 1482349732, "answer_id": 41270825, "question_id": 41270174, "link": "https://stackoverflow.com/questions/41270174/picking-random-image-from-resources/41270825#41270825", "title": "picking random image from resources", "body": "<p>I see you already have accepted answer, but it's a very boring way to achieve what u want because it needs the developer to write the array with all hundreds of items. A much simpler way of achieving it is to getting the identifier for the drawable directly.</p>\n\n<p>I'm not sure on Xamarin/C# how that would be, but on Java you use like this:</p>\n\n<pre><code>Random r = new Random();\nint index = r.nextInt(100);\nString name = \"s\" + index;\nint drawableId = getResources().getIdentifier(\n                    name,               // the name of the resource\n                    \"drawable\",         // type of resource\n                    getPackageName())); // your app package name\nimageView.setImageResource(drawableId);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37399, "user_id": 906362, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/677b4a116774ecdee4b161903bdcfb28?s=128&d=identicon&r=PG", "display_name": "Budius", "link": "https://stackoverflow.com/users/906362/budius"}, "edited": false, "score": 0, "creation_date": 1482399855, "post_id": 41274832, "comment_id": 69761744, "body": "it looks like mine answer. just saying."}, {"owner": {"reputation": 327, "user_id": 6715972, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1149258685096559/picture?type=large", "display_name": "Petar Mijovi\u0107", "link": "https://stackoverflow.com/users/6715972/petar-mijovi%c4%87"}, "reply_to_user": {"reputation": 37399, "user_id": 906362, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/677b4a116774ecdee4b161903bdcfb28?s=128&d=identicon&r=PG", "display_name": "Budius", "link": "https://stackoverflow.com/users/906362/budius"}, "edited": false, "score": 1, "creation_date": 1482452569, "post_id": 41274832, "comment_id": 69789917, "body": "@Budius My apologies. I miss looked. Thanks"}], "tags": [], "owner": {"reputation": 327, "user_id": 6715972, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1149258685096559/picture?type=large", "display_name": "Petar Mijovi\u0107", "link": "https://stackoverflow.com/users/6715972/petar-mijovi%c4%87"}, "is_accepted": false, "score": 0, "last_activity_date": 1482452518, "last_edit_date": 1482452518, "creation_date": 1482372840, "answer_id": 41274832, "question_id": 41270174, "link": "https://stackoverflow.com/questions/41270174/picking-random-image-from-resources/41274832#41274832", "title": "picking random image from resources", "body": "<p>This is the most elegant solution, @Budius gave it in Java, this is C#:</p>\n\n<pre><code>private void ImageView_Click(object sender, EventArgs e)\n        {\n            Random r = new Random();\n            int index = r.Next() % 36;\n            String name = \"s\" + index;\n            int drawableId = Resources.GetIdentifier(\n                                name,               // the name of the resource\n                                \"drawable\",         // type of resource\n                                \"Us.Us\"); // your app package name\n            imageView.SetImageResource(drawableId);\n\n        }\n</code></pre>\n\n<blockquote>\n  <p>\"Us.Us\" is my package name.</p>\n</blockquote>\n"}], "owner": {"reputation": 327, "user_id": 6715972, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1149258685096559/picture?type=large", "display_name": "Petar Mijovi\u0107", "link": "https://stackoverflow.com/users/6715972/petar-mijovi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 1, "accepted_answer_id": 41270825, "answer_count": 4, "score": 3, "last_activity_date": 1482452518, "creation_date": 1482347248, "question_id": 41270174, "link": "https://stackoverflow.com/questions/41270174/picking-random-image-from-resources", "title": "picking random image from resources", "body": "<p>Hi I am working on simple android app. App is contained of only image view. On image view click picture that is shown should be changed. My question is how can i get the list of resources or resource image by index. For example in drawable I have 100 images name from s1 - s100. And i want to display one of them using random function like this:</p>\n\n<pre><code>private void ImageView_Click(object sender, EventArgs e)\n        {\n            Random r = new Random();\n            int index = r.Next() % 100;\n\n            //code where I get picture on \"index place\" from my drawable folder.\n        }\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", ".net", "process"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1482347225, "post_id": 41270141, "comment_id": 69741187, "body": "You mean using different credentials to access the file? That probably won&#39;t be at all easy."}, {"owner": {"reputation": 11, "user_id": 6678659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013cc66cb538562c7ecb99d98133154a?s=128&d=identicon&r=PG&f=1", "display_name": "Phil", "link": "https://stackoverflow.com/users/6678659/phil"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1482347868, "post_id": 41270141, "comment_id": 69741563, "body": "Yes.  That is exactly what I mean."}, {"owner": {"reputation": 155, "user_id": 3516388, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4da1eeccbec313ee5e3a0d6c5e0f358f?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/3516388/gary"}, "edited": false, "score": 0, "creation_date": 1482357704, "post_id": 41270141, "comment_id": 69746711, "body": "Is it safe to assume that you can, and have tried to, open the file normally? (By double clicking it)   Is it safe to assume the file extension is registered with the correct executable on the machine that will execute the code?  I believe you need to look into creating a new thread and attaching a security Principal object to that thread. Use that new thread to launch your process."}, {"owner": {"reputation": 11, "user_id": 6678659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013cc66cb538562c7ecb99d98133154a?s=128&d=identicon&r=PG&f=1", "display_name": "Phil", "link": "https://stackoverflow.com/users/6678659/phil"}, "edited": false, "score": 0, "creation_date": 1482419925, "post_id": 41270141, "comment_id": 69774518, "body": "Yes, it is safe to assume all of that."}], "owner": {"reputation": 11, "user_id": 6678659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013cc66cb538562c7ecb99d98133154a?s=128&d=identicon&r=PG&f=1", "display_name": "Phil", "link": "https://stackoverflow.com/users/6678659/phil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482347127, "creation_date": 1482347127, "question_id": 41270141, "link": "https://stackoverflow.com/questions/41270141/c-open-file-on-server-using-alternate-credentials-using-default-application", "title": "c# Open file on server using alternate credentials using default application", "body": "<p>I routinely use Process.Start(file); to open a file (PDF, Work or Excel file typically) using the default application.  However, in this case I need to open a file that is on a server and using different credentials.  I've tried every variation of Process that I can think of and nothing seems to work.</p>\n\n<pre><code>string file = folderPath + dlg.listBox1.Items[dlg.listBox1.SelectedIndex].ToString();\nProcess.Start(file, \"xxxx\", GetSecureString(\"xx11xx\"), \"MyCompany.com\");\n\nwith this I get \"The directory name is invalid\".\n\nProcess proc = new Process\n{\n  EnableRaisingEvents = false,\n  StartInfo =\n    {\n      UseShellExecute = false,\n      Verb = \"open\",\n      UserName = \"xxxx\",\n      Password = GetSecureString(\"xx11xx\"),\n      Domain = \"MyCompany.com\",\n      FileName = folderPath + dlg.listBox1.Items[dlg.listBox1.SelectedIndex].ToString(),\n      WorkingDirectory = folderPath,\n      Arguments = dlg.listBox1.Items[dlg.listBox1.SelectedIndex].ToString(),\n    }\n  };\nproc.Start();\n</code></pre>\n\n<p>With this, I get is \"The specified executable is not a valid Win32 application.\"</p>\n\n<p>If I drop the folderPath from FileName; i get \"The system cannot file the file specified\".</p>\n\n<p>By the way, I am using a class I found on StackOverflow to successfully access the folder on the server and copy files to it and list the files in it.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "winforms", "if-statement", "visual-studio-2013", "combobox"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1482347419, "post_id": 41270115, "comment_id": 69741313, "body": "Why do you think this code is slow?"}, {"owner": {"reputation": 163, "user_id": 5610651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/45d84b1f3f17555f28ff7863915a5bc7?s=128&d=identicon&r=PG&f=1", "display_name": "RedLight GreenLight", "link": "https://stackoverflow.com/users/5610651/redlight-greenlight"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1482347497, "post_id": 41270115, "comment_id": 69741343, "body": "@LarsTech - when I execute it, it is sluggish.  That is why I ask if better way to write syntax."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1482347504, "post_id": 41270115, "comment_id": 69741350, "body": "you could do this a few ways to make it more readable I would use the .Controls class to check the control if it&#39;s a combobox and if the .Text property is not empty using the string.IsNullOrEmpty function.."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1482347838, "post_id": 41270115, "comment_id": 69741542, "body": "It&#39;s not the code that&#39;s sluggish \u2014 probably the Stored Procedure has issues.  I&#39;m guessing the user isn&#39;t allowed to pick an item in multiple comboboxes?"}, {"owner": {"reputation": 163, "user_id": 5610651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/45d84b1f3f17555f28ff7863915a5bc7?s=128&d=identicon&r=PG&f=1", "display_name": "RedLight GreenLight", "link": "https://stackoverflow.com/users/5610651/redlight-greenlight"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1482347903, "post_id": 41270115, "comment_id": 69741576, "body": "@LarsTech - Correct, only one combo box may have an item selected."}, {"owner": {"reputation": 163, "user_id": 5610651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/45d84b1f3f17555f28ff7863915a5bc7?s=128&d=identicon&r=PG&f=1", "display_name": "RedLight GreenLight", "link": "https://stackoverflow.com/users/5610651/redlight-greenlight"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1482347966, "post_id": 41270115, "comment_id": 69741611, "body": "@MethodMan - see my edit, is that what you were saying?"}], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 5610651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/45d84b1f3f17555f28ff7863915a5bc7?s=128&d=identicon&r=PG&f=1", "display_name": "RedLight GreenLight", "link": "https://stackoverflow.com/users/5610651/redlight-greenlight"}, "edited": false, "score": 0, "creation_date": 1482351919, "post_id": 41271278, "comment_id": 69743741, "body": "What would you recommend to prevent a user from selecting a value from multiple comboboxes?  I only want to allow an input in one.  However, if the user by chance selected a value from two, two routes would take place."}, {"owner": {"reputation": 246, "user_id": 1709454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0B9ig.jpg?s=128&g=1", "display_name": "Abbas Dehghan", "link": "https://stackoverflow.com/users/1709454/abbas-dehghan"}, "reply_to_user": {"reputation": 163, "user_id": 5610651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/45d84b1f3f17555f28ff7863915a5bc7?s=128&d=identicon&r=PG&f=1", "display_name": "RedLight GreenLight", "link": "https://stackoverflow.com/users/5610651/redlight-greenlight"}, "edited": false, "score": 1, "creation_date": 1482352060, "post_id": 41271278, "comment_id": 69743822, "body": "the way i used binary data you can find out if user has selected muliple comboboxes or not."}, {"owner": {"reputation": 246, "user_id": 1709454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0B9ig.jpg?s=128&g=1", "display_name": "Abbas Dehghan", "link": "https://stackoverflow.com/users/1709454/abbas-dehghan"}, "reply_to_user": {"reputation": 163, "user_id": 5610651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/45d84b1f3f17555f28ff7863915a5bc7?s=128&d=identicon&r=PG&f=1", "display_name": "RedLight GreenLight", "link": "https://stackoverflow.com/users/5610651/redlight-greenlight"}, "edited": false, "score": 1, "creation_date": 1482352208, "post_id": 41271278, "comment_id": 69743924, "body": "there wont be two routes: for example he select cbo1 and cbo3 the data will be 5 witch is not in switch and will go to default case"}, {"owner": {"reputation": 163, "user_id": 5610651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/45d84b1f3f17555f28ff7863915a5bc7?s=128&d=identicon&r=PG&f=1", "display_name": "RedLight GreenLight", "link": "https://stackoverflow.com/users/5610651/redlight-greenlight"}, "edited": false, "score": 0, "creation_date": 1482352234, "post_id": 41271278, "comment_id": 69743940, "body": "Dehgham - I see that now.  My oversight.  Assigning the += value to data would sum the value so if multiple options are selected everything would be fine!"}], "tags": [], "owner": {"reputation": 246, "user_id": 1709454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0B9ig.jpg?s=128&g=1", "display_name": "Abbas Dehghan", "link": "https://stackoverflow.com/users/1709454/abbas-dehghan"}, "is_accepted": true, "score": 2, "last_activity_date": 1482353075, "last_edit_date": 1482353075, "creation_date": 1482351689, "answer_id": 41271278, "question_id": 41270115, "link": "https://stackoverflow.com/questions/41270115/1-button-4-comboboxes-on-win-form/41271278#41271278", "title": "1 Button 4 Comboboxes On Win Form", "body": "<p>my suggestion will be something like this:</p>\n\n<pre><code>private void btn1_Click()\n{\nint data = 0;\nif(cbo1.Text.ToString() != \"\")\n    data+=1;\nif(cbo2.Text.ToString() != \"\")\n    data+=2;\nif(cbo3.Text.ToString() != \"\")\n    data+=4;\nif(cbo4.Text.ToString() != \"\")\n    data+=8;\nswitch(data)\n{\n    case 1:\n     //Go route1\n    break;\n    case 2:\n     //Go route2\n    break;\n    case 4:\n     //Go route3\n    break;\n    case 8:\n     //Go route4\n    break;\n    default:\n     MessageBox.Show(\"You failed to make a selection.\");\n    break;\n}\n}\n</code></pre>\n\n<p>i`m not sure it will do the job you want but it is a lot faster and this way you can check wich combo the user selected and wich combo he did not</p>\n"}], "owner": {"reputation": 163, "user_id": 5610651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/45d84b1f3f17555f28ff7863915a5bc7?s=128&d=identicon&r=PG&f=1", "display_name": "RedLight GreenLight", "link": "https://stackoverflow.com/users/5610651/redlight-greenlight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 41271278, "answer_count": 1, "score": 0, "last_activity_date": 1482353075, "creation_date": 1482346993, "last_edit_date": 1482351251, "question_id": 41270115, "link": "https://stackoverflow.com/questions/41270115/1-button-4-comboboxes-on-win-form", "title": "1 Button 4 Comboboxes On Win Form", "body": "<p>I have 1 button that will execute a stored procedure based off which combobox has data in it.  Are multiple <code>if</code> statements the best course for me to account for each combobox scenario?  I currently have my code like so - which works, but is a bit slow.  Is there a better way to write this syntax using C# and VS2013?</p>\n\n<pre><code>private void btn1_Click()\n{\n    if (cbo1.Text.ToString() == \"\" &amp;&amp; cbo2.Text.ToString() == \"\" &amp;&amp; cbo3.Text.ToString() == \"\" &amp;&amp; cbo4.Text.ToString() == \"\" )\n    {   \n        MessageBox.Show(\"You failed to make a selection.\");\n        return;\n    }\n    if (cbo1.Text.ToString() != \"\" &amp;&amp; cbo2.Text.ToString() == \"\" &amp;&amp; cbo3.Text.ToString() == \"\" &amp;&amp; cbo4.Text.ToString() == \"\" )  \n    {\n        //Go route1 \n    }\n    if (cbo1.Text.ToString() == \"\" &amp;&amp; cbo2.Text.ToString() 1= \"\" &amp;&amp; cbo3.Text.ToString() == \"\" &amp;&amp; cbo4.Text.ToString() == \"\" )  \n    {\n      //Go route2 \n    }\n    if (cbo1.Text.ToString() == \"\" &amp;&amp; cbo2.Text.ToString() == \"\" &amp;&amp; cbo3.Text.ToString() != \"\" &amp;&amp; cbo4.Text.ToString() == \"\" )  \n    {\n      //Go route3 \n    }\n    if (cbo1.Text.ToString() == \"\" &amp;&amp; cbo2.Text.ToString() == \"\" &amp;&amp;  cbo3.Text.ToString() == \"\" &amp;&amp; cbo4.Text.ToString() != \"\" ) \n    {\n      //Go route4 \n    }\n}\n</code></pre>\n\n<p><strong>EDIT</strong><br>\n@MethodMan --> is this how you would go about setting up the check?</p>\n\n<pre><code>var comboBoxes =  this.Controls\n              .OfType&lt;ComboBox&gt;()\n              .Where(x =&gt; x.Name.StartsWith(\"comboBox\"));\n\nforeach(var cmbBox in comboBoxes)\n{\n  (string.IsNullOrEmpty(cmbBox.Text)) || if (cmbBox.SelectedIndex == -1)\n  {\n    //How to find which combobox is cmbBox\n  }\n}\n</code></pre>\n"}, {"tags": ["c#", "rest", "httpwebrequest"], "comments": [{"owner": {"reputation": 521, "user_id": 2649087, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4tNSs.png?s=128&g=1", "display_name": "iNCEPTiON_", "link": "https://stackoverflow.com/users/2649087/inception"}, "edited": false, "score": 0, "creation_date": 1482399130, "post_id": 41270038, "comment_id": 69761271, "body": "Anybody from directus here?"}], "answers": [{"tags": [], "owner": {"reputation": 546, "user_id": 1772076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed49644b0c81e4b495d6b4a41e4772d8?s=128&d=identicon&r=PG", "display_name": "Welling", "link": "https://stackoverflow.com/users/1772076/welling"}, "is_accepted": true, "score": 2, "last_activity_date": 1482436582, "creation_date": 1482436582, "answer_id": 41290752, "question_id": 41270038, "link": "https://stackoverflow.com/questions/41270038/c-get-request-directus/41290752#41290752", "title": "C# Get Request Directus", "body": "<p>The docs is incorrect it's actually a <code>POST</code> request. <em>Thanks for pointing that out.</em></p>\n\n<p>To upload a new file you need three provide three values:</p>\n\n<pre><code>{\n    \"name\": \"image.png\",\n    \"type\": \"image/png\",\n    \"data\": \"base64content\"\n}\n</code></pre>\n\n<p>The data content has to be in this format <code>data:&lt;mime-type&gt;;base64,&lt;data-content&gt;</code> so it will look  something like this: <code>data:image/png;base64,ThisIsABase64Content</code></p>\n\n<p>We are updating the docs and removing the <code>data:image/png</code> which is unnecessary. </p>\n"}], "owner": {"reputation": 521, "user_id": 2649087, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/4tNSs.png?s=128&g=1", "display_name": "iNCEPTiON_", "link": "https://stackoverflow.com/users/2649087/inception"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "accepted_answer_id": 41290752, "answer_count": 1, "score": 1, "last_activity_date": 1482436582, "creation_date": 1482346688, "question_id": 41270038, "link": "https://stackoverflow.com/questions/41270038/c-get-request-directus", "title": "C# Get Request Directus", "body": "<p>recently i discovered this amazing cms called <a href=\"http://directus.io/\" rel=\"nofollow noreferrer\">Directus</a>, where you can manage your database and Tables with web request and Json.\nEverything worked fine creating,updating,reading...till i came to the point where i want to Create (Upload) a Image using WebRequest.</p>\n\n<p>Im basicly reading a image as Base64 and writing the data along with the parameters in the Uri using a simple GET request exactly like described in <a href=\"https://api.getdirectus.com/1.0/#Create_File\" rel=\"nofollow noreferrer\">API</a>. </p>\n\n<p>Regardless what i try and use the Images Never show up in my Files.\nAm i doing something wrong or forgetting something?</p>\n\n<p>Or does directus want something else from me?</p>\n\n<p>My first try:</p>\n\n<pre><code>public static async void UploadUserImage() {\n\n            var uri = \"http://IP/Directus/api/1/files?access_token=SecretApiKey\";\n            var data = GetImageData();\n            var finalUri = $\"{uri}&amp;data={data}\";\n\n            using (var client = new HttpClient()) {\n                var responseString = await client.GetStringAsync(finalUri);\n                Console.Write(responseString);\n            }\n        }\n</code></pre>\n\n<p>My Second try with Json:</p>\n\n<pre><code>public static async void UploadUserImage() {\n\n            var uri = \"http://IP/Directus/api/1/files?access_token=SecretApiKey\";\n            var data = GetImageData();\n            var finalUri = $\"{uri}&amp;data={data}\";\n\n            var postModel = new PictureModel {\n                data = data,\n                title = \"Test\",\n                name = \"test\"\n            };\n\n\n        using (var client = new HttpClient())\n            {\n                // Serialize our concrete class into a JSON String\n                var content = JsonConvert.SerializeObject(postModel);\n                var contenta = new StringContent(content, Encoding.UTF8, \"application/json\");\n\n                var response = await client.PostAsync(finalUri, contenta);\n                var result = await response.Content.ReadAsByteArrayAsync();\n                Console.Write(System.Text.Encoding.UTF8.GetString(result));\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "wcf", "timeout", "basichttpbinding", "channelfactory"], "answers": [{"tags": [], "owner": {"reputation": 385, "user_id": 5870490, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/066047cb80f997a8e203cb8538e6e66d?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Turner", "link": "https://stackoverflow.com/users/5870490/mike-turner"}, "is_accepted": false, "score": 0, "last_activity_date": 1482354670, "creation_date": 1482354670, "answer_id": 41271967, "question_id": 41270011, "link": "https://stackoverflow.com/questions/41270011/basichttpbinding-receivetimeout-of-client/41271967#41271967", "title": "basicHttpBinding ReceiveTimeout of client", "body": "<p>When you are reusing resources - making multiple calls using your channelFactory - this will determine how long it can be inactive for and keep its connection open</p>\n"}], "owner": {"reputation": 385, "user_id": 5870490, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/066047cb80f997a8e203cb8538e6e66d?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Turner", "link": "https://stackoverflow.com/users/5870490/mike-turner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 364, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1482354670, "creation_date": 1482346595, "question_id": 41270011, "link": "https://stackoverflow.com/questions/41270011/basichttpbinding-receivetimeout-of-client", "title": "basicHttpBinding ReceiveTimeout of client", "body": "<p>I'm trying to get a clear explanation of what ReceiveTimeout of a basicHttpBinding will do on my client side? Not the web service side.</p>\n\n<p>It's pretty clear in the MS docs that this property will have no effect in the WCFBinding of a client. But how about basicHttpBinding? Does this property make a difference when its set for the basicHttpBinding that my ChannelFactory is using?</p>\n"}, {"tags": ["c#", "asp.net", "xml", "asp.net-mvc", "asp.net-web-api"], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 7196050, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/654ebd495949dfacde5b11b4ded500f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sid", "link": "https://stackoverflow.com/users/7196050/sid"}, "edited": false, "score": 0, "creation_date": 1482347543, "post_id": 41270213, "comment_id": 69741380, "body": "Do I need to use ExecuteReader or XmlReader"}, {"owner": {"reputation": 5392, "user_id": 1396994, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7742f086edc869b1ddb3fa6179651689?s=128&d=identicon&r=PG", "display_name": "Cam Bruce", "link": "https://stackoverflow.com/users/1396994/cam-bruce"}, "reply_to_user": {"reputation": 109, "user_id": 7196050, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/654ebd495949dfacde5b11b4ded500f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sid", "link": "https://stackoverflow.com/users/7196050/sid"}, "edited": false, "score": 0, "creation_date": 1482347600, "post_id": 41270213, "comment_id": 69741411, "body": "You can use ExecuteReader and let web api handle the serialization."}, {"owner": {"reputation": 109, "user_id": 7196050, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/654ebd495949dfacde5b11b4ded500f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sid", "link": "https://stackoverflow.com/users/7196050/sid"}, "edited": false, "score": 0, "creation_date": 1482347796, "post_id": 41270213, "comment_id": 69741512, "body": "Because when I use        XmlReader xreader = command.ExecuteXmlReader();  it throws error like Invalid command sent to ExecuteXmlReader.The command must return an XML Result"}, {"owner": {"reputation": 109, "user_id": 7196050, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/654ebd495949dfacde5b11b4ded500f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sid", "link": "https://stackoverflow.com/users/7196050/sid"}, "edited": false, "score": 0, "creation_date": 1482347998, "post_id": 41270213, "comment_id": 69741630, "body": "It returns the result in the JSON when run the application like [{&quot;AccountID&quot; :&quot;Research&quot;,&quot;CounterSeq&quot;:&quot;3&quot;}]"}, {"owner": {"reputation": 5392, "user_id": 1396994, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7742f086edc869b1ddb3fa6179651689?s=128&d=identicon&r=PG", "display_name": "Cam Bruce", "link": "https://stackoverflow.com/users/1396994/cam-bruce"}, "reply_to_user": {"reputation": 109, "user_id": 7196050, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/654ebd495949dfacde5b11b4ded500f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sid", "link": "https://stackoverflow.com/users/7196050/sid"}, "edited": false, "score": 0, "creation_date": 1482348527, "post_id": 41270213, "comment_id": 69741949, "body": "What are you using the make the web request? You have to make sure the HTTP REQUEST is like this: <code>ACCEPT application&#47;xml</code>"}, {"owner": {"reputation": 109, "user_id": 7196050, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/654ebd495949dfacde5b11b4ded500f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sid", "link": "https://stackoverflow.com/users/7196050/sid"}, "edited": false, "score": 0, "creation_date": 1482349581, "post_id": 41270213, "comment_id": 69742521, "body": "Where do I have to check the HTTP REQUEST.. I am new to Web API and not able to figure this out."}, {"owner": {"reputation": 5392, "user_id": 1396994, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7742f086edc869b1ddb3fa6179651689?s=128&d=identicon&r=PG", "display_name": "Cam Bruce", "link": "https://stackoverflow.com/users/1396994/cam-bruce"}, "reply_to_user": {"reputation": 109, "user_id": 7196050, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/654ebd495949dfacde5b11b4ded500f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sid", "link": "https://stackoverflow.com/users/7196050/sid"}, "edited": false, "score": 0, "creation_date": 1482353951, "post_id": 41270213, "comment_id": 69744873, "body": "You need to verify with the <i>client</i> making the request to the web api. Alternatively you can disable JSON for your whole application if you don&#39;t plan on using JSON at all."}], "tags": [], "owner": {"reputation": 5392, "user_id": 1396994, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7742f086edc869b1ddb3fa6179651689?s=128&d=identicon&r=PG", "display_name": "Cam Bruce", "link": "https://stackoverflow.com/users/1396994/cam-bruce"}, "is_accepted": true, "score": 1, "last_activity_date": 1482347557, "last_edit_date": 1482347557, "creation_date": 1482347405, "answer_id": 41270213, "question_id": 41269973, "link": "https://stackoverflow.com/questions/41269973/convert-the-executereader-in-to-xml-http-response/41270213#41270213", "title": "Convert the ExecuteReader in to XML HTTP Response", "body": "<p>You just need to return your <code>qresults</code> object and it will be automatically serialized into XML (or JSON). You can read how to add attributes to your <code>QueryResult</code> class to get the xml structured the way you would like it here <a href=\"https://www.asp.net/web-api/overview/formats-and-model-binding/json-and-xml-serialization\" rel=\"nofollow noreferrer\">JSON and XML Serialization in Web API</a></p>\n\n<p>I would also recommend returning a <code>IHttpActionResult</code> instead of building a <code>HttpResponseMessage</code> up. Then you can simply do this at the end of your message and it will automatically be serialized based on the http <code>ACCEPT</code> header:</p>\n\n<pre><code>[HttpGet]\npublic IHttpActionResult Get(string Account)\n{\n    // rest of implementation left out for readability...    \n    return Ok(qresults);\n}\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 7196050, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/654ebd495949dfacde5b11b4ded500f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sid", "link": "https://stackoverflow.com/users/7196050/sid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 0, "accepted_answer_id": 41270213, "answer_count": 1, "score": 2, "last_activity_date": 1482347584, "creation_date": 1482346436, "question_id": 41269973, "link": "https://stackoverflow.com/questions/41269973/convert-the-executereader-in-to-xml-http-response", "title": "Convert the ExecuteReader in to XML HTTP Response", "body": "<p>I have an Web API craeted which calls the stored procedure, the stored procedure insert/updates and select a record in the Database. Insert/Update works, trying to convert the selected record that is read using <code>ExecuteReader</code> in to <code>HTTPResponseMessage</code> </p>\n\n<pre><code> [HttpGet]\n    public  HttpResponseMessage Get(string Account)\n    {\n      if (string.IsNullOrEmpty(Account))\n        {\n          return Request.CreateResponse(new { error = \"Input parameters cannot be Empty or NULL\" });\n        }\n       string strcon = ConfigurationManager.ConnectionStrings[\"DBConnection\"].ConnectionString;\n       SqlConnection DbConnection = new SqlConnection(strcon);\n       SqlDataReader reader = null;\n       DbConnection.Open();\n\n       SqlCommand command = new SqlCommand(\"[dbo].[usp_InserUpadte]\", DbConnection);\n       command.CommandType = CommandType.StoredProcedure;\n\n       //create type table\n       DataTable table = new DataTable();\n       table.Columns.Add(\"AccountID\", typeof(string));\n       table.Rows.Add(Account);\n\n       SqlParameter parameter = command.Parameters.AddWithValue(\"@account_TT\", table);\n       parameter.SqlDbType = SqlDbType.Structured;\n       parameter.TypeName = \"account_TT\";\n\n       XmlReader xreader = command.ExecuteXmlReader(); \n\n       List&lt;QueryResult&gt;qresults = new List&lt;QueryResult&gt;();\n\n       while (xreader.Read())\n       {\n           QueryResult qr = new QueryResult();\n           qr.AccountID = xreader[\"AccountID\"].ToString();\n           qr.CounterSeq = xreader[\"CounterSeq\"].ToString();\n\n           qresults.Add(qr);\n       }\n</code></pre>\n\n<p>I am not sure how to build the Response in XML, I created a class called QueryResult but I am not sure if this can be used in create the XML Response. </p>\n\n<pre><code>  public class QueryResult\n {\n        public string AccountID { get; set; }\n        public string CounterSeq { get; set; }\n }\n</code></pre>\n\n<p>Also I am trying to write theresponse in the file when the API is executed. I havedone this with JSON and OracleDatabase earlier and not sure with this one. Any help is greatly appreciated.</p>\n"}, {"tags": ["c#", "tfs"], "answers": [{"tags": [], "owner": {"reputation": 318, "user_id": 2234705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FJGXg.png?s=128&g=1", "display_name": "Josh C.", "link": "https://stackoverflow.com/users/2234705/josh-c"}, "is_accepted": false, "score": 2, "last_activity_date": 1482356298, "creation_date": 1482356298, "answer_id": 41272312, "question_id": 41269972, "link": "https://stackoverflow.com/questions/41269972/adding-tfs-task-with-priority-assigned-to-using-c/41272312#41272312", "title": "Adding TFS task with priority, assigned to using c#", "body": "<p>So not all standard attributes of tfs can be called like that. Not 100% sure in C# but in powershell i would have to do something like this.</p>\n\n<pre><code>$proj = $ws.Projects[\"Scrum Test\"]\n$ProductBacklogWorkItem=$proj.WorkItemTypes[\"Product Backlog Item\"]\n$pbi=$ProductBacklogWorkItem.NewWorkItem()\n\n\n// stadard attribute\n$pbi.Description = $SRLongDescription\n\n// nonstandard\n$pbi[\"Assigned to\"] = $SROwner\n\n// custom elements\n$pbi[\"Custom.CD.ExternalReferenceID\"] = $SRTicketId\n</code></pre>\n\n<p>I know its a different way of calling but thought it might be helpful to understand how TFS looks at the work item attributes.</p>\n"}, {"tags": [], "owner": {"reputation": 28250, "user_id": 5475003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ed59b990fdc2c28e25f954d1578ce70?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie Chen - MSFT", "link": "https://stackoverflow.com/users/5475003/eddie-chen-msft"}, "is_accepted": true, "score": 2, "last_activity_date": 1482407860, "last_edit_date": 1482407860, "creation_date": 1482398026, "answer_id": 41279487, "question_id": 41269972, "link": "https://stackoverflow.com/questions/41269972/adding-tfs-task-with-priority-assigned-to-using-c/41279487#41279487", "title": "Adding TFS task with priority, assigned to using c#", "body": "<p>When you set the value for work item field from <code>new WorkItem(workitemType){}</code>, you can only set the value for these fields provided by intellisense:\n<a href=\"https://i.stack.imgur.com/mhW7B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mhW7B.png\" alt=\"enter image description here\"></a></p>\n\n<p>For other fields, you can set the value like this:</p>\n\n<pre><code>tfsTask.Fields[\"Priority\"].Value = \"4\";\ntfsTask.Fields[\"Assigned To\"].Value = \"XXX\";\ntfsTask.Tags = \"tag1;tag2\";\ntfsTask.Save();\n</code></pre>\n"}], "owner": {"reputation": 6583, "user_id": 1041205, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cd6c00d476506c50004def2ff4ad2f61?s=128&d=identicon&r=PG&f=1", "display_name": "Kurkula", "link": "https://stackoverflow.com/users/1041205/kurkula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 706, "favorite_count": 0, "accepted_answer_id": 41279487, "answer_count": 2, "score": 2, "last_activity_date": 1482407860, "creation_date": 1482346431, "question_id": 41269972, "link": "https://stackoverflow.com/questions/41269972/adding-tfs-task-with-priority-assigned-to-using-c", "title": "Adding TFS task with priority, assigned to using c#", "body": "<p>I am trying to create a tfs task using c# code.  I am able to add task with the below code.\nBut I am unable to add assignedto, keywords, priority etc through this. I did not find related properties in workItemType object.</p>\n\n<p>I tried Fields[\"Keywords\"] etc but it did not work for me. Any pointers please</p>\n\n<pre><code>private static readonly Uri TfsServer = new Uri(\"my tfs url\");\n        static readonly TfsTeamProjectCollection tpc = new TfsTeamProjectCollection(TfsServer);\n        static readonly WorkItemStore workItemStore = tpc.GetService&lt;WorkItemStore&gt;();\n        static readonly Project teamProject = workItemStore.Projects[\"my project name\"];\n        static readonly WorkItemType workItemType = teamProject.WorkItemTypes[\"Task\"];\n\nWorkItem tfsTask = new WorkItem(workItemType)\n            {\n                Title = \"Test Title\",\n                //assignedto,\n                State = \"Proposed\",\n                //substatus =\"Not Started\",\n                AreaPath = @\"my path\",\n                IterationPath = @\"my iteration path\",\n                //Keywords =\"my keyword\",\n                //prioity=3\n\n                Description = \"newVcDescription\"\n           };\n\n          tfsTask.Save();\n</code></pre>\n"}]